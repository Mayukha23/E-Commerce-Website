"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[256],{256:(zt,w,s)=>{s.r(w),s.d(w,{OrderFullfillmentStatusModule:()=>Yt});var _=s(9808),b=s(9291),T=s(8300),I=s(9819),a=s(3075),t=s(5e3),M=s(6393),c=s(9811),f=s(5775),u=s(3001);const m=n=>n.Orderfullfillment,q=(0,f.P1)(m,u.yc),k=(0,f.P1)(m,u.EL),L=(0,f.P1)(m,u.vB),U=(0,f.P1)(m,u.AI),N=(0,f.P1)(m,u.cE),J=(0,f.P1)(m,u.yK),$=(0,f.P1)(m,u.Oy),Q=(0,f.P1)(m,u._n),E=(0,f.P1)(m,u.tM),Y=(0,f.P1)(m,u.JB),z=(0,f.P1)(m,u.cG),j=(0,f.P1)(m,u.Cc),R=(0,f.P1)(m,u.Ci),V=(0,f.P1)(m,u.$D),B=(0,f.P1)(m,u.of),K=(0,f.P1)(m,u.q8),D=(0,f.P1)(m,u.ud),G=(0,f.P1)(m,u.B$),H=(0,f.P1)(m,u.pq),X=(0,f.P1)(m,u.lT);var W=s(7319);let S=(()=>{class n{constructor(e,o){this.appState=e,this.router=o,this.Orderfullfillmentlist$=this.appState.select(q),this.OrderfullfillmentlistLoading$=this.appState.select(k),this.OrderfullfillmentlistLoaded$=this.appState.select(L),this.OrderfullfillmentlistFailed$=this.appState.select(U),this.addOrderfullfillment$=this.appState.select(N),this.addOrderfullfillmentLoading$=this.appState.select(J),this.addOrderfullfillmentLoaded$=this.appState.select($),this.addOrderfullfillmentFailed$=this.appState.select(Q),this.orderfullfillmentstatus$=this.appState.select(E),this.orderfullfillmentstatusLoading$=this.appState.select(Y),this.orderfullfillmentstatusLoaded$=this.appState.select(z),this.orderfullfillmentstatusFailed$=this.appState.select(j),this.updateOrderfullfillment$=this.appState.select(R),this.updateOrderfullfillmentLoading$=this.appState.select(V),this.updateOrderfullfillmentLoaded$=this.appState.select(B),this.updateOrderfullfillmentFailed$=this.appState.select(K),this.DeleteOrderfullfillment$=this.appState.select(D),this.DeleteOrderfullfillmentLoading$=this.appState.select(G),this.DeleteOrderfullfillmentLoaded$=this.appState.select(H),this.DeleteOrderfullfillmentFailed$=this.appState.select(X),this.subscriptions=[]}Orderfullfillmentlist(e){this.appState.dispatch(new c.wB(e))}addOrderfullfillment(e){this.appState.dispatch(new c.a_(e))}orderfullfillmentstatus(e){this.appState.dispatch(new c.Rx(e))}updateOrderfullfillment(e){this.appState.dispatch(new c.vG(e))}DeleteOrderfullfillment(e){this.appState.dispatch(new c.jA(e))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(W.yh),t.LFG(b.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var tt=s(9900);let P=(()=>{class n extends tt.V{constructor(){super(...arguments),this.url=this.getBaseUrl()}Orderfullfillmentlist(e){let o={};return o=e,this.http.get(this.url+"/order-status/order-fullfillment-status-list",{params:o})}addOrderfullfillment(e){let o={};return o=e,this.http.post(this.url+"/order-status/create-order-status",e)}orderfullfillmentstatus(e){let o={};return o.status=e.status,this.http.put(this.url+"/order-status/update-order-fullfillment-status/"+e.id,o)}Statusordersetdata(e){this.orderstatusdata=e}getStatusordersetdata(){return this.orderstatusdata}updateOrderfullfillment(e){return this.http.put(this.url+"/order-status/update-order-status/"+e.orderStatusId,e)}deleteOrderFullfilment(e){return this.url=this.getBaseUrl(),this.http.delete(this.url+"/order-status/delete-order-status/"+e.id,e)}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var et=s(2111),A=s(6853),F=s(4376),Z=s(4218);function nt(n,r){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Settings.Local.Orderstatus.Error.OrderStatusNameisrequired")," "))}function ot(n,r){if(1&n&&(t.TgZ(0,"div",22),t.YNc(1,nt,3,3,"div",23),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.OrderStatusName.errors.required&&e.submitted)}}function lt(n,r){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Settings.Local.Orderstatus.Error.Priorityisrequired")," "))}function rt(n,r){if(1&n&&(t.TgZ(0,"div",22),t.YNc(1,lt,3,3,"div",23),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.priority.errors.required)}}const it=function(){return{standalone:!0}},st=function(n){return{"error-checkbox":n}};function dt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"input",25),t.NdJ("ngModelChange",function(l){return t.CHM(e).$implicit.checked=l})("change",function(){return t.CHM(e),t.oxw().result()}),t.qZA(),t.TgZ(2,"label",26),t._uU(3),t.qZA()()}if(2&n){const e=r.$implicit,o=t.oxw();t.xp6(1),t.s9C("id",e.id),t.Q6J("ngModel",e.checked)("ngModelOptions",t.DdM(6,it))("ngClass",t.VKq(7,st,(null==o.checkeddata?null:o.checkeddata.length)<1&&o.submitted)),t.xp6(1),t.s9C("for",e.id),t.xp6(1),t.hij(" ",e.name,"")}}function at(n,r){1&n&&(t.TgZ(0,"p",27),t._uU(1,"Choose any one"),t.qZA())}function ct(n,r){1&n&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Settings.Local.Orderstatus.Error.OrderStatusColorrequired")," "))}function ft(n,r){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Settings.Local.Orderstatus.Error.OrderStatusisrequired")," "))}function ut(n,r){if(1&n&&(t.TgZ(0,"div",28),t.YNc(1,ft,3,3,"div",23),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.status.errors.required)}}const y=function(n){return{validationcolor:n}},mt=function(n){return{invalid:n}},gt=function(n){return{"error-fields":n}};let pt=(()=>{class n{constructor(e,o,l,i,d){this.model=e,this.modalService=o,this.fb=l,this.Orderfullfillmentsandbox=i,this.Orderfullfillmentservice=d,this.submitted=!1,this.color="#fff",this.list=[],this.checkeddata=[],this.orderStatusInfo=[],this.list=[{id:"1a",title:"isAdmin",name:"Admin",checked:!1},{id:"2a",title:"isVendor",name:"Vendor",checked:!1},{id:"3a",title:"isBuyer",name:"Buyer",checked:!1},{id:"4a",title:"isApi",name:"API",checked:!1}]}ngOnInit(){this.colorRequire=!1,this.loadForm(),this.editOrderStatusList()}loadForm(){this.OrderStatusName=new a.NI("",[a.kI.required]),this.colorCode=new a.NI("",[a.kI.required]),this.priority=new a.NI("",[a.kI.required]),this.status=new a.NI(null,a.kI.required),this.stockStatusForm=this.fb.group({OrderStatusName:this.OrderStatusName,status:this.status,colorCode:this.colorCode,priority:this.priority})}add(){var e,o;if(this.submitted=!0,""===this.color||null===this.color)return void(this.colorRequire=!0);if(this.stockStatusForm.invalid||(null===(e=this.checkeddata)||void 0===e?void 0:e.length)<1)return;let l={};l.name=this.stockStatusForm.value.OrderStatusName,l.colorCode=this.colorCode,l.priority=this.stockStatusForm.value.priority,l.status=this.stockStatusForm.value.status,l.parentId=this.id,null===(o=this.list)||void 0===o||o.forEach(d=>{"isAdmin"===d.title&&(l.isAdmin=!0===d.checked?1:0),"isVendor"===d.title&&(l.isVendor=!0===d.checked?1:0),"isBuyer"===d.title&&(l.isBuyer=!0===d.checked?1:0),"isApi"===d.title&&(l.isApi=!0===d.checked?1:0)}),this.orderStatusInfo[0]&&this.orderStatusInfo[0].orderStatusId?(l.orderStatusId=this.orderStatusId,l.parentId=this.orderStatusInfo[0].parentId,this.Orderfullfillmentsandbox.updateOrderfullfillment(l),this.Orderfullfillmentsandbox.updateOrderfullfillment$.subscribe(d=>{d&&1===d.status&&(this.modalService.close("close"),this.orderfullfillmentlist())})):(this.Orderfullfillmentsandbox.addOrderfullfillment(l),this.Orderfullfillmentsandbox.addOrderfullfillment$.subscribe(d=>{d&&1===d.status&&(this.modalService.close("close"),this.orderfullfillmentlist())}))}close(){this.modalService.close("close")}onchange(e){this.colorRequire=!1,this.colorCode=e}result(){this.checkeddata=this.list.filter(e=>e.checked)}get f(){return this.stockStatusForm.controls}orderfullfillmentlist(){this.Orderfullfillmentsandbox.Orderfullfillmentlist({limit:0,offset:0})}editOrderStatusList(){if(this.orderStatusInfo.push(this.Orderfullfillmentservice.getStatusordersetdata()),null!==this.orderStatusInfo[0]){if(this.orderStatusInfo[0]&&this.orderStatusInfo[0].name){this.updatetitle=1,this.stockStatusForm.controls.OrderStatusName.setValue(this.orderStatusInfo[0].name),this.stockStatusForm.controls.priority.setValue(this.orderStatusInfo[0].priority),this.stockStatusForm.controls.status.setValue(1==this.orderStatusInfo[0].isActive?1:0),this.color=this.orderStatusInfo[0].colorCode,this.colorCode=this.orderStatusInfo[0].colorCode,this.orderStatusId=this.orderStatusInfo[0].orderStatusId;let e=[];this.orderStatusInfo.map(l=>{e.push({name:"isAdmin",value:l.isAdmin}),e.push({name:"isApi",value:l.isApi}),e.push({name:"isBuyer",value:l.isBuyer}),e.push({name:"isVendor",value:l.isVendor})}),this.list.forEach(l=>{e.forEach(i=>{l.title===i.name&&(l.checked=1===i.value),l.title===i.name&&(l.checked=1===i.value),l.title===i.name&&(l.checked=1===i.value),l.title===i.name&&(l.checked=1===i.value)})}),this.result()}}else this.orderStatusInfo=null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.FF),t.Y36(M.Kz),t.Y36(a.qu),t.Y36(S),t.Y36(P))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-fullfillment-add"]],inputs:{id:"id"},decls:52,vars:50,consts:[[1,"order-fulfillment-modal"],[1,"modal-header__title"],["href","javascript:void(0)",1,"close-modal",3,"click"],["src","assets/img/modal-close.svg","alt",""],[1,"ofm-content"],[1,"ofm-stat","flex",3,"formGroup"],[1,"input-group","form-group"],["type","text","formControlName","OrderStatusName",1,"form-control",3,"ngClass"],["class","validation-error",4,"ngIf"],["type","text","formControlName","priority","appOnlyNumber","",1,"form-control",3,"ngClass"],[1,"ig-ofm-stt","form-group"],[1,"ofm-ig-sts","flex"],["class","custom-control",4,"ngFor","ngForOf"],["style","color:red",4,"ngIf"],["type","color","formControlName","colorCode",1,"form-control",3,"ngModel","ngClass","colorPicker","value","ngModelChange","colorPickerChange"],[1,"input-group","form-group",2,"width","100%"],["formControlName","status",3,"clearable","searchable","placeholder","ngClass"],[3,"value"],["style","margin-top: 12px;","class","validation-error",4,"ngIf"],[1,"ofs-gtn","flex"],[1,"button-reg","primary",3,"click"],[1,"button-reg","secondary",3,"click"],[1,"validation-error"],[4,"ngIf"],[1,"custom-control"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelOptions","ngClass","ngModelChange","change"],[1,"custom-control-label","cursor-pointer",3,"for"],[2,"color","red"],[1,"validation-error",2,"margin-top","12px"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",2),t.NdJ("click",function(){return o.close()}),t._UZ(5,"img",3),t.qZA(),t.TgZ(6,"div",4)(7,"p"),t._uU(8,"In quo pertineant non fuisse torquem detraxit hosti et quidem exercitus quid ex eo delectu rerum, quem ad eam non ero tibique, si mihi probabis ea, quae sine causa? quae fuerit causa, nollem me ab eo delectu rerum, quem. "),t.qZA()(),t.TgZ(9,"div",5)(10,"div",6)(11,"label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._UZ(14,"input",7),t.YNc(15,ot,2,1,"div",8),t.qZA(),t.TgZ(16,"div",6)(17,"label"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._UZ(20,"input",9),t.YNc(21,rt,2,1,"div",8),t.qZA(),t.TgZ(22,"div",10)(23,"label"),t._uU(24,"Participant Order Return Status"),t.qZA(),t.TgZ(25,"div",11),t.YNc(26,dt,4,9,"div",12),t.qZA(),t.YNc(27,at,2,0,"p",13),t.qZA(),t.TgZ(28,"div",6)(29,"label"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"input",14),t.NdJ("ngModelChange",function(i){return o.color=i})("colorPickerChange",function(i){return o.color=i})("colorPickerChange",function(i){return o.onchange(i)}),t.qZA(),t.YNc(33,ct,3,3,"div",8),t.qZA(),t.TgZ(34,"div",15)(35,"label"),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"ng-select",16),t.ALo(39,"translate"),t.TgZ(40,"ng-option",17),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"ng-option",17),t._uU(44),t.ALo(45,"translate"),t.qZA()(),t.YNc(46,ut,2,1,"div",18),t.qZA()(),t.TgZ(47,"div",19)(48,"button",20),t.NdJ("click",function(){return o.add()}),t._uU(49,"Save"),t.qZA(),t.TgZ(50,"button",21),t.NdJ("click",function(){return o.close()}),t._uU(51,"Cancel"),t.qZA()()()),2&e&&(t.xp6(2),t.Oqu(o.updatetitle?"Update Order Return Status":t.lcZ(3,26,"Add Order Return Status")),t.xp6(7),t.Q6J("formGroup",o.stockStatusForm),t.xp6(3),t.Oqu(t.lcZ(13,28,"Settings.Local.Orderstatus.OrderStatusName")),t.xp6(2),t.Q6J("ngClass",t.VKq(42,y,o.submitted&&o.f.OrderStatusName.errors)),t.xp6(1),t.Q6J("ngIf",o.submitted&&o.f.OrderStatusName.errors),t.xp6(3),t.Oqu(t.lcZ(19,30,"Settings.Local.Orderstatus.Priority")),t.xp6(2),t.Q6J("ngClass",t.VKq(44,y,o.submitted&&o.f.priority.errors)),t.xp6(1),t.Q6J("ngIf",o.submitted&&o.f.priority.errors),t.xp6(5),t.Q6J("ngForOf",o.list),t.xp6(1),t.Q6J("ngIf",(null==o.checkeddata?null:o.checkeddata.length)<1&&o.submitted),t.xp6(3),t.Oqu(t.lcZ(31,32,"Settings.Local.Orderstatus.ColorCode")),t.xp6(2),t.Q6J("ngModel",o.color)("ngClass",t.VKq(46,mt,o.colorRequire))("colorPicker",o.color)("value",o.color),t.xp6(1),t.Q6J("ngIf",o.colorRequire),t.xp6(3),t.Oqu(t.lcZ(37,34,"Settings.Local.Orderstatus.Status")),t.xp6(2),t.s9C("placeholder",t.lcZ(39,36,"Settings.Local.Language.SelectStatus")),t.Q6J("clearable",!1)("searchable",!1)("ngClass",t.VKq(48,gt,o.submitted&&o.f.status.errors)),t.xp6(2),t.Q6J("value",1),t.xp6(1),t.Oqu(t.lcZ(42,38,"Settings.Local.Orderstatus.Enabled")),t.xp6(2),t.Q6J("value",0),t.xp6(1),t.Oqu(t.lcZ(45,40,"Settings.Local.Orderstatus.Disabled")),t.xp6(2),t.Q6J("ngIf",o.submitted&&o.f.status.errors))},directives:[a.JL,a.sg,a.Fj,a.JJ,a.u,_.mk,_.O5,et.p,_.sg,a.Wl,a.On,A.Kk,F.w9,F.jq],pipes:[Z.X$],styles:[".order-fulfillment-modal[_ngcontent-%COMP%]{position:fixed;right:0;top:0;width:100%;height:100vh;max-width:787px;background:#fff;padding:16px;box-shadow:0 2px 15px #0003;z-index:9}.order-fulfillment-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#201f1f;margin:12px 0 26px}.order-fulfillment-modal[_ngcontent-%COMP%]   a.close[_ngcontent-%COMP%]{position:absolute;right:16px;top:16px}.order-fulfillment-modal[_ngcontent-%COMP%]   .ofm-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#535353;margin-bottom:33px}.order-fulfillment-modal[_ngcontent-%COMP%]   .ofm-stat[_ngcontent-%COMP%]{padding:22px 9px 15px 13px;background-color:#eaeaea;justify-content:space-between;align-items:flex-start}.order-fulfillment-modal[_ngcontent-%COMP%]   .ofm-stat[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:248px;margin-bottom:20px}.order-fulfillment-modal[_ngcontent-%COMP%]   .ofm-stat[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#555454;margin:0 0 11px}.order-fulfillment-modal[_ngcontent-%COMP%]   .ofm-stat[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:41px;border-radius:3px;box-shadow:0 0 0 .5px #d8d8d8,inset 0 0 0 .5px #d8d8d8,inset 0 0 0 1px #adadad;background-color:#fff;padding:0 16px;border:0}.order-fulfillment-modal[_ngcontent-%COMP%]   .ofm-stat[_ngcontent-%COMP%]   .ig-ofm-stt[_ngcontent-%COMP%]{width:calc(100% - 268px)}.order-fulfillment-modal[_ngcontent-%COMP%]   .ofm-stat[_ngcontent-%COMP%]   .ig-ofm-stt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#555454;margin:0 0 11px}.order-fulfillment-modal[_ngcontent-%COMP%]   .ofm-stat[_ngcontent-%COMP%]   .ig-ofm-stt[_ngcontent-%COMP%]   .ofm-ig-sts[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;background-color:#fffdf3}.order-fulfillment-modal[_ngcontent-%COMP%]   .ofm-stat[_ngcontent-%COMP%]   .ig-ofm-stt[_ngcontent-%COMP%]   .ofm-ig-sts[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]{width:25%;min-height:41px;border:solid 1px #f6ebb3;border-right:0;padding:8px 0 0 10px}.order-fulfillment-modal[_ngcontent-%COMP%]   .ofm-stat[_ngcontent-%COMP%]   .ig-ofm-stt[_ngcontent-%COMP%]   .ofm-ig-sts[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]:last-child{border-right:solid 1px #f6ebb3}.order-fulfillment-modal[_ngcontent-%COMP%]   .ofm-stat[_ngcontent-%COMP%]   .ig-ofm-stt[_ngcontent-%COMP%]   .ofm-ig-sts[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#7d7340}.order-fulfillment-modal[_ngcontent-%COMP%]   .ofs-gtn[_ngcontent-%COMP%]{width:100%;background-color:#fff;padding:17px;justify-content:center;align-items:center;gap:10px;margin-top:20px}.order-fulfillment-modal[_ngcontent-%COMP%]   .ofs-gtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:91px;height:30px;display:flex;justify-content:center;align-items:center;font-size:13px;font-weight:500;color:#fff;border-radius:2px;background-color:#21ad64;border:0}.order-fulfillment-modal[_ngcontent-%COMP%]   .ofs-gtn[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{border-radius:2px;outline:solid 1px #acadac;background-color:#fff;color:#5b5b5b}[_nghost-%COMP%]     .ng-select{height:36px;width:100%;cursor:pointer}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:after{left:.3rem!important;top:5px!important;cursor:pointer;width:6px;height:11px;border:solid #fff;border-width:0 2px 2px 0;transform:rotate(45deg)}.validationcolor[_ngcontent-%COMP%]{border:1px solid red!important;box-shadow:none!important}.invalid[_ngcontent-%COMP%]{box-shadow:none!important}"]}),n})();var ht=s(3052);function _t(n,r){1&n&&(t.TgZ(0,"p"),t._uU(1,"A provision for adding a new status in the master list has been provided. E.g., Ready for pick up from warehouse. Create one "),t.qZA())}function Ot(n,r){1&n&&(t.TgZ(0,"p"),t._uU(1,"A provision for adding a new status in the master list, during the packaging stage. E.g., Ready for dispatch. Create one "),t.qZA())}function Ct(n,r){1&n&&(t.TgZ(0,"p"),t._uU(1,"A provision for adding a new status in the master list, for the cancellation stages. E.g., Order cancelled. Create one"),t.qZA())}function xt(n,r){1&n&&(t.TgZ(0,"p"),t._uU(1,"A provision for adding a new status in the master list, when the order is on hold. E.g., Order on hold. Create one"),t.qZA())}function vt(n,r){1&n&&(t.TgZ(0,"p"),t._uU(1,"A provision for adding a new status in the master list, post return order arrives. E.g., return received. Create "),t.qZA())}function Mt(n,r){1&n&&(t.TgZ(0,"p"),t._uU(1,"A provision for adding a new status in the master list, post delivery. E.g., Delivered. Create one"),t.qZA())}function Pt(n,r){1&n&&t._UZ(0,"img",37)}function bt(n,r){1&n&&t._UZ(0,"img",38)}function St(n,r){1&n&&t._UZ(0,"img",37)}function Zt(n,r){1&n&&t._UZ(0,"img",38)}function wt(n,r){1&n&&t._UZ(0,"img",37)}function At(n,r){1&n&&t._UZ(0,"img",38)}function Ft(n,r){1&n&&t._UZ(0,"img",37)}function yt(n,r){1&n&&t._UZ(0,"img",38)}function Tt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button")(1,"img",39),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(2).deleteOrderStatus(l)}),t.qZA()()}}const It=function(n){return{color:"white",background:n}};function qt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",22)(1,"div",23)(2,"div",24),t._UZ(3,"span",25),t._uU(4),t.qZA()(),t.TgZ(5,"div",8)(6,"div",9),t.YNc(7,Pt,1,0,"img",26),t.YNc(8,bt,1,0,"img",27),t.qZA(),t.TgZ(9,"div",9),t.YNc(10,St,1,0,"img",28),t.YNc(11,Zt,1,0,"img",29),t.qZA(),t.TgZ(12,"div",9),t.YNc(13,wt,1,0,"img",28),t.YNc(14,At,1,0,"img",29),t.qZA(),t.TgZ(15,"div",9),t.YNc(16,Ft,1,0,"img",28),t.YNc(17,yt,1,0,"img",30),t.qZA(),t.TgZ(18,"div",31)(19,"div",32)(20,"input",33),t.NdJ("ngModelChange",function(l){return t.CHM(e).$implicit.isActive=l})("change",function(l){const d=t.CHM(e).$implicit;return t.oxw(2).statuschange(l,d)}),t.qZA(),t._UZ(21,"label",34),t.qZA(),t.TgZ(22,"button",35),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw(2).addOrderStatus(i,"edit")}),t._UZ(23,"img",36),t.qZA(),t.YNc(24,Tt,2,0,"button",18),t.qZA()()()}if(2&n){const e=r.$implicit;t.xp6(3),t.Q6J("ngStyle",t.VKq(14,It,e.colorCode)),t.xp6(1),t.hij(" ",e.name,""),t.xp6(3),t.Q6J("ngIf",1===e.isAdmin),t.xp6(1),t.Q6J("ngIf",1!==e.isAdmin),t.xp6(2),t.Q6J("ngIf",1===e.isVendor),t.xp6(1),t.Q6J("ngIf",1!==e.isVendor),t.xp6(2),t.Q6J("ngIf",1===e.isBuyer),t.xp6(1),t.Q6J("ngIf",1!==e.isBuyer),t.xp6(2),t.Q6J("ngIf",1===e.isApi),t.xp6(1),t.Q6J("ngIf",1!==e.isApi),t.xp6(3),t.s9C("id",e.orderStatusId),t.Q6J("ngModel",e.isActive),t.xp6(1),t.s9C("for",e.orderStatusId),t.xp6(3),t.Q6J("ngIf",1!==e.defaultStatus)}}function kt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15)(2,"h3"),t._uU(3),t.qZA(),t.TgZ(4,"a"),t._UZ(5,"img",16),t.qZA()(),t.TgZ(6,"div",17),t.YNc(7,_t,2,0,"p",18),t.YNc(8,Ot,2,0,"p",18),t.YNc(9,Ct,2,0,"p",18),t.YNc(10,xt,2,0,"p",18),t.YNc(11,vt,2,0,"p",18),t.YNc(12,Mt,2,0,"p",18),t.TgZ(13,"button",19),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw().addOrderStatus("","add",i.orderStatusId)}),t._UZ(14,"img",20),t._uU(15," New status"),t.qZA()(),t.YNc(16,qt,25,16,"div",21),t.qZA()}if(2&n){const e=r.$implicit;t.xp6(3),t.hij("",e.name," Order status"),t.xp6(4),t.Q6J("ngIf","Default"===e.name),t.xp6(1),t.Q6J("ngIf","packed"===e.name),t.xp6(1),t.Q6J("ngIf","Order Cancelled"===e.name),t.xp6(1),t.Q6J("ngIf","order hold"===e.name),t.xp6(1),t.Q6J("ngIf","order arrived"===e.name),t.xp6(1),t.Q6J("ngIf","delivered"===e.name),t.xp6(4),t.Q6J("ngForOf",null==e?null:e.orderStatus)}}const Lt=[{path:"",component:(()=>{class n{constructor(e,o,l){this.modal=e,this.Orderfullfillmentsandbox=o,this.Orderfullfillmentservice=l,this.type="edit"}ngOnInit(){this.orderfullfillmentlist()}orderfullfillmentlist(){this.Orderfullfillmentsandbox.Orderfullfillmentlist({limit:0,offset:0})}addOrderStatus(e,o,l){const i=this.modal.open(pt,{windowClass:"add-order-fulfilment",keyboard:!1,backdrop:"static",animation:!1});i.componentInstance.id=l,"edit"===o?(this.Orderfullfillmentservice.Statusordersetdata(e),i.componentInstance.edit=this.type):this.Orderfullfillmentservice.Statusordersetdata("")}orderfullfillmentstatus(){this.Orderfullfillmentsandbox.orderfullfillmentstatus({limit:0,offeset:0})}statuschange(e,o){const l={};l.id=o.orderStatusId,!0===e.target.checked?(l.status=1,this.Orderfullfillmentsandbox.orderfullfillmentstatus(l)):(l.status=0,this.Orderfullfillmentsandbox.orderfullfillmentstatus(l))}deleteOrderStatus(e){const o=this.modal.open(I.j,{size:"sm",windowClass:"delete-confirm",backdrop:"static",backdropClass:"createcr"});o.componentInstance.key="",o.componentInstance.id="",o.result.then(l=>{if("deleted"===l){const i={};i.id=e.orderStatusId,this.Orderfullfillmentsandbox.DeleteOrderfullfillment(i),this.orderfullfillmentlist()}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.FF),t.Y36(S),t.Y36(P))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-fullfillment"]],decls:27,vars:6,consts:[[1,"setup-wrapper"],[1,"ofs-container"],[1,"loc-lay-title"],[1,"page-title"],[1,"text14"],[1,"ofs-table"],[1,"ofs-row","ofs-row-header","flex"],[1,"ofs-col-fst"],[1,"ofs-col-lst","flex"],[1,"ofs-col-lst-col"],[1,"ofs-col-lst-action"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(58%, 18%)","position","absolute",3,"isShow"],["class","ofs-row-scroll",4,"ngFor","ngForOf"],[1,"ofs-row-scroll"],[1,"ofs-row-tit","flex"],["src","assets/images/info.svg","alt",""],[1,"ofs-row-new","flex"],[4,"ngIf"],[1,"button-reg","primary",3,"click"],["src","assets/img/add-white-ico.png","alt",""],["class","ofs-row ofs-row-def flex",4,"ngFor","ngForOf"],[1,"ofs-row","ofs-row-def","flex"],[1,"ofs-col-fst","flex"],[1,"ofscsf-stit"],[2,"padding","6px","font-size","1px","margin-right","5px","display","inline-block",3,"ngStyle"],["src","assets/images/check-green.svg","class","img-resize","alt","",4,"ngIf"],["class","img-resize","src","assets/images/red-x.svg","alt","",4,"ngIf"],["class","img-resize","src","assets/images/check-green.svg","alt","",4,"ngIf"],["src","assets/images/red-x.svg","class","img-resize","alt","",4,"ngIf"],["src","assets/images/red-x.svg","alt","","class","img-resize",4,"ngIf"],[1,"ofs-col-lst-action","flex"],[1,"toggle"],["type","checkbox",1,"tgl","tgl-light",3,"id","ngModel","ngModelChange","change"],[1,"tgl-btn",3,"for"],[3,"click"],["src","assets/img/edit.png","alt",""],["src","assets/images/check-green.svg","alt","",1,"img-resize"],["src","assets/images/red-x.svg","alt","",1,"img-resize"],["src","assets/img/delete-sm.svg","alt","",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4,"Order Fullfilment Status"),t.qZA(),t.TgZ(5,"p",4),t._uU(6,"In this section, the admin can configure the permissions for the change of order status by Admin, Vendor and Buyer. E.g., Admin will have the right to change any order status, ranging from order accepted till order delivered. Vendor may not have the permission to confirm an order, but can have the permission to change the order status of ready for dispatch and shipped. Customers may have the permission for order cancellation and return request. "),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"h3"),t._uU(11,"Status"),t.qZA()(),t.TgZ(12,"div",8)(13,"div",9),t._uU(14,"Admin"),t.qZA(),t.TgZ(15,"div",9),t._uU(16,"Vendor"),t.qZA(),t.TgZ(17,"div",9),t._uU(18,"Buyer"),t.qZA(),t.TgZ(19,"div",9),t._uU(20,"API"),t.qZA(),t._UZ(21,"div",10),t.qZA()(),t.TgZ(22,"div",11),t._UZ(23,"app-global-loader",12),t.ALo(24,"async"),t.qZA(),t.YNc(25,kt,17,8,"div",13),t.ALo(26,"async"),t.qZA()()()),2&e&&(t.xp6(23),t.Q6J("isShow",t.lcZ(24,2,o.Orderfullfillmentsandbox.OrderfullfillmentlistLoading$)),t.xp6(2),t.Q6J("ngForOf",t.lcZ(26,4,o.Orderfullfillmentsandbox.Orderfullfillmentlist$)))},directives:[ht.A,_.sg,_.O5,_.PC,a.Wl,a.JJ,a.On],pipes:[_.Ov],styles:[".ofs-container[_ngcontent-%COMP%]{padding:10px}.ofs-container[_ngcontent-%COMP%]   .loc-lay-title[_ngcontent-%COMP%]{margin-bottom:50px}.ofs-container[_ngcontent-%COMP%]   .loc-lay-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:19px}.ofs-container[_ngcontent-%COMP%]   .loc-lay-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.5}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]{width:100%}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row[_ngcontent-%COMP%]   .ofs-col-fst[_ngcontent-%COMP%]{width:50%}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row[_ngcontent-%COMP%]   .ofs-col-fst[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#222;margin:50px 0 0}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row[_ngcontent-%COMP%]   .ofs-col-lst[_ngcontent-%COMP%]{width:50%;justify-content:flex-start}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row[_ngcontent-%COMP%]   .ofs-col-lst[_ngcontent-%COMP%]   .ofs-col-lst-col[_ngcontent-%COMP%]{width:20%;min-height:76px;border:solid 1px #f6ebb3;border-bottom:0;background-color:#fffdf3;text-align:center;padding:18px 0;font-size:14px;font-weight:500;color:#7d7340}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row[_ngcontent-%COMP%]   .ofs-col-lst[_ngcontent-%COMP%]   .ofs-col-lst-action[_ngcontent-%COMP%]{border:0;background:transparent;width:20%}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row[_ngcontent-%COMP%]   .ofs-col-lst[_ngcontent-%COMP%]   .ofs-col-lst-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:0}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row[_ngcontent-%COMP%]   .ofs-col-lst[_ngcontent-%COMP%]   .ofs-col-lst-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row.ofs-row-def[_ngcontent-%COMP%]{border:solid 1px #e1e1e1;border-top:0;background-color:#fdfdfd}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row.ofs-row-def[_ngcontent-%COMP%]   .ofs-col-fst[_ngcontent-%COMP%]{justify-content:flex-start;align-items:center}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row.ofs-row-def[_ngcontent-%COMP%]   .ofs-col-fst[_ngcontent-%COMP%]   .ofscf-move[_ngcontent-%COMP%]{width:59px;text-align:center}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row.ofs-row-def[_ngcontent-%COMP%]   .ofs-col-fst[_ngcontent-%COMP%]   .ofscsf-stit[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#7e7e7e;width:calc(100% - 189px)}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row.ofs-row-def[_ngcontent-%COMP%]   .ofs-col-fst[_ngcontent-%COMP%]   .ofscsf-stst[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#adadad;font-style:italic;width:130px}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row.ofs-row-def[_ngcontent-%COMP%]   .ofs-col-lst[_ngcontent-%COMP%]{align-items:center}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row.ofs-row-def[_ngcontent-%COMP%]   .ofs-col-lst[_ngcontent-%COMP%]   .ofs-col-lst-col[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row.ofs-row-def[_ngcontent-%COMP%]   .ofs-col-lst[_ngcontent-%COMP%]   .ofs-col-lst-action[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:nowrap;gap:.1em}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row.ofs-row-def[_ngcontent-%COMP%]   .ofs-col-lst[_ngcontent-%COMP%]   .ofs-col-lst-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:0}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row-scroll[_ngcontent-%COMP%]{width:100%;height:500px;overflow-y:auto}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row-tit[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;align-items:center;min-height:52px;border:solid 1px #e1e1e1;background-color:#f4f4f4;padding-left:59px}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row-tit[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#222;margin:0 13px 0 0}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row-new[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;align-items:center;min-height:52px;border:solid 1px #e1e1e1;border-top:0;background-color:#fff;padding-left:59px}.ofs-container[_ngcontent-%COMP%]   .ofs-table[_ngcontent-%COMP%]   .ofs-row-new[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#222;margin:0 21px 0 0}.ofs-gtn[_ngcontent-%COMP%]{width:100%;background-color:#f9f9f9;padding:17px;justify-content:center;align-items:center;gap:10px;margin-top:50px}.ofs-gtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:91px;height:30px;display:flex;justify-content:center;align-items:center;font-size:13px;font-weight:500;color:#fff;border-radius:2px;background-color:#21ad64;border:0}.ofs-gtn[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{border-radius:2px;outline:solid 1px #acadac;background-color:#fff;color:#5b5b5b}.img-resize[_ngcontent-%COMP%]{height:20px;width:20px}[_nghost-%COMP%]{width:calc(100% - 250px)}.ofscsf-stit[_ngcontent-%COMP%]{padding-left:10px}"]}),n})(),canActivate:[T.a],data:{permission:"edit-general-settings",urls:[{title:"Settings",url:""},{title:"General",url:""},{title:"Basic information",url:""}]}}];let Ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[b.Bz.forChild(Lt)],b.Bz]}),n})();var Nt=s(520),Jt=s(5979),$t=s(6693),Qt=s(2476),g=s(2596),O=s(655),C=s(9646),x=s(4004),h=s(3900),v=s(262);class p{constructor(r,e){this.action$=r,this.service=e,this.Orderfullfillmentlist$=this.action$.pipe((0,g.l4)(c.MF.ORDER_FULLFILLMENT_LIST),(0,x.U)(o=>o.payload),(0,h.w)(o=>this.service.Orderfullfillmentlist(o).pipe((0,h.w)(l=>[new c.U$(l)]),(0,v.K)(l=>(0,C.of)(new c.Mx(l)))))),this.addOrderfullfillment$=this.action$.pipe((0,g.l4)(c.MF.ADD_ORDER_FULLFILLMENT),(0,x.U)(o=>o.payload),(0,h.w)(o=>this.service.addOrderfullfillment(o).pipe((0,h.w)(l=>[new c.hE(l)]),(0,v.K)(l=>(0,C.of)(new c.Gw(l)))))),this.orderfullfillmentstatus$=this.action$.pipe((0,g.l4)(c.MF.ORDER_FULLFILLMENT_STATUS),(0,x.U)(o=>o.payload),(0,h.w)(o=>this.service.orderfullfillmentstatus(o).pipe((0,h.w)(l=>[new c.e9(l)]),(0,v.K)(l=>(0,C.of)(new c.Rl(l)))))),this.updateOrderfullfillment$=this.action$.pipe((0,g.l4)(c.MF.UPDATE_ORDER_FULLFILLMENT_STATUS),(0,x.U)(o=>o.payload),(0,h.w)(o=>this.service.updateOrderfullfillment(o).pipe((0,h.w)(l=>[new c.P1(l)]),(0,v.K)(l=>(0,C.of)(new c.w1(l)))))),this.deleteOrderfullfillment$=this.action$.pipe((0,g.l4)(c.MF.DELETE_ORDER_FULLFILLMENT_STATUS),(0,x.U)(o=>o.payload),(0,h.w)(o=>this.service.deleteOrderFullfilment(o).pipe((0,h.w)(l=>[new c.Ke(l)]),(0,v.K)(l=>(0,C.of)(new c.QK(l))))))}}p.\u0275fac=function(r){return new(r||p)(t.LFG(g.eX),t.LFG(P))},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac}),(0,O.gn)([(0,g.Qm)()],p.prototype,"Orderfullfillmentlist$",void 0),(0,O.gn)([(0,g.Qm)()],p.prototype,"addOrderfullfillment$",void 0),(0,O.gn)([(0,g.Qm)()],p.prototype,"orderfullfillmentstatus$",void 0),(0,O.gn)([(0,g.Qm)()],p.prototype,"updateOrderfullfillment$",void 0),(0,O.gn)([(0,g.Qm)()],p.prototype,"deleteOrderfullfillment$",void 0);var Et=s(8384);let Yt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[S,P],imports:[[_.ez,A.e4,Ut,a.u5,a.UX,M.IJ,$t.q,Qt.K,Et.F,g.sQ.forFeature([p]),Z.aw.forChild({loader:{provide:Z.Zw,useFactory:Jt.gS,deps:[Nt.eN]}})]]}),n})()}}]);