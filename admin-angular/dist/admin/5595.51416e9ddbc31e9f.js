"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[5595],{5595:(y,v,o)=>{o.r(v),o.d(v,{EmailTemplateModule:()=>Ut});var s=o(9808),b=o(3675),u=o(3075),r=o(2596),E=o(9900),t=o(5e3);let g=(()=>{class i extends E.V{constructor(){super(...arguments),this.url=this.getBaseUrl()}setemailtemplistdata(e){this.emailtemplistdata=e}getemailtemplistdata(){return this.emailtemplistdata}addEmailtemp(e){return this.http.post(this.url+"/email-template/add-email-template",e)}updateEmailTemp(e){return this.http.put(this.url+"/email-template/update-email-template/"+e.Id,e)}emailtemplist(e){let a={};return a=e,this.http.get(this.url+"/email-template/email-templatelist",{params:a})}emailtempPagiantion(e){let a={};return a=e,this.http.get(this.url+"/email-template/email-templatelist",{params:a})}deleteEmailtemp(e,a){return this.http.delete(this.url+"/email-template/delete-email-template/"+a,e)}}return i.\u0275fac=function(){let n;return function(a){return(n||(n=t.n5z(i)))(a||i)}}(),i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();var m=o(3895),p=o(5775),d=o(2905);const c=i=>i.emailtemp,$=(0,p.P1)(c,d.bt),J=(0,p.P1)(c,d.p3),z=(0,p.P1)(c,d.Au),j=(0,p.P1)(c,d.cy),Q=(0,p.P1)(c,d.vv),Y=(0,p.P1)(c,d.ET),k=(0,p.P1)(c,d.KP),K=(0,p.P1)(c,d.KQ),H=(0,p.P1)(c,d.mm),G=(0,p.P1)(c,d.Ij),R=(0,p.P1)(c,d.BO),V=(0,p.P1)(c,d.x3),B=(0,p.P1)(c,d.Td),W=(0,p.P1)(c,d.fP),X=(0,p.P1)(c,d.Pz),tt=(0,p.P1)(c,d.nO),et=(0,p.P1)(c,d.OI),it=(0,p.P1)(c,d.Ae),at=(0,p.P1)(c,d.qZ),nt=(0,p.P1)(c,d.il);class D{constructor(n){this.title=n.title||"",this.subject=n.subject||"",this.content=n.content||"",this.status=n.status||0,n&&n.id&&(this.Id=n.id||0)}}class F{constructor(n){this.limit=n.limit||0,this.offset=n.offset||0,this.keyword=n.keyword||"",this.count=n.count||0}}var ot=o(7319),_=o(9291),lt=o(2290);let P=(()=>{class i{constructor(e,a,l){this.appState=e,this.router=a,this.toastr=l,this.emailTempList$=this.appState.select($),this.emailTempPagination$=this.appState.select(J),this.getAddEmailTemp$=this.appState.select(z),this.updateEmailTemp$=this.appState.select(j),this.emailTempDelete$=this.appState.select(Q),this.emailTempListLoading$=this.appState.select(Y),this.emailTempListLoaded$=this.appState.select(k),this.emailTempListFailed$=this.appState.select(K),this.emailTempDeleteLoading$=this.appState.select(X),this.emailTempDeleteLoaded$=this.appState.select(tt),this.emailTempDeleteFailed$=this.appState.select(et),this.emailTempCountLoading$=this.appState.select(H),this.emailTempCountLoaded$=this.appState.select(G),this.emailTempCountFailed$=this.appState.select(R),this.emailTempAddLoading$=this.appState.select(V),this.emailTempAddLoaded$=this.appState.select(B),this.emailTempAddFailed$=this.appState.select(W),this.emailTempUpdateLoading$=this.appState.select(it),this.emailTempUpdateLoaded$=this.appState.select(at),this.emailTempUpdateFailed$=this.appState.select(nt),this.subscriptions=[]}addEmailTemplate(e){this.appState.dispatch(new m.x$(new D(e)))}updateEmailTemplate(e){this.appState.dispatch(new m.QY(new D(e)))}getEmailTemplateList(e){this.appState.dispatch(new m.xN(new F(e)))}emailTemplateDelete(e){this.appState.dispatch(new m.UO(e))}emailTemplatePagination(e){this.appState.dispatch(new m.lt(new F(e)))}subscribe(){this.subscriptions.push(this.getAddEmailTemp$.subscribe(e=>{e&&e.message&&this.router.navigate(["/settings/local/emailtemp"])})),this.subscriptions.push(this.updateEmailTemp$.subscribe(e=>{e&&e.message&&1===e.status&&this.router.navigate(["/settings/local/emailtemp"])}))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(ot.yh),t.LFG(_.F0),t.LFG(lt._W))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();var A=o(655),Z=o(9646),x=o(4004),T=o(3900),L=o(262);class f{constructor(n,e){this.action$=n,this.service=e,this.doAddEmailTemp$=this.action$.pipe((0,r.l4)(m.MF.DO_NEW_EMAIL_TEMP_ACTION),(0,x.U)(a=>a.payload),(0,T.w)(a=>this.service.addEmailtemp(a).pipe((0,T.w)(l=>[new m.f_(l)]),(0,L.K)(l=>(0,Z.of)(new m.b1(l)))))),this.doUpdateEmailTemp$=this.action$.pipe((0,r.l4)(m.MF.DO_UPDATE_EMAIL_TEMP_ACTION),(0,x.U)(a=>a.payload),(0,T.w)(a=>this.service.updateEmailTemp(a).pipe((0,T.w)(l=>[new m.Fx(l)]),(0,L.K)(l=>(0,Z.of)(new m.$j(l)))))),this.doemailtemplists$=this.action$.pipe((0,r.l4)(m.MF.GET_EMAIL_TEMP_LIST_ACTION),(0,x.U)(a=>a.payload),(0,T.w)(a=>this.service.emailtemplist(a).pipe((0,T.w)(l=>[new m.$S(l)]),(0,L.K)(l=>(0,Z.of)(new m.vD(l)))))),this.doemailtemppagination$=this.action$.pipe((0,r.l4)(m.MF.GET_EMAIL_TEMP_COUNT_ACTION),(0,x.U)(a=>a.payload),(0,T.w)(a=>this.service.emailtempPagiantion(a).pipe((0,T.w)(l=>[new m.fO(l)]),(0,L.K)(l=>(0,Z.of)(new m.iF(l)))))),this.doEmailtempDelete$=this.action$.pipe((0,r.l4)(m.MF.DO_EMAIL_TEMP_DELETE),(0,x.U)(a=>a.payload),(0,T.w)(a=>this.service.deleteEmailtemp(a,a.emailTemplateId).pipe((0,T.w)(h=>[new m.KY(h)]),(0,L.K)(h=>(0,Z.of)(new m.kr(h))))))}}f.\u0275fac=function(n){return new(n||f)(t.LFG(r.eX),t.LFG(g))},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac}),(0,A.gn)([(0,r.Qm)()],f.prototype,"doAddEmailTemp$",void 0),(0,A.gn)([(0,r.Qm)()],f.prototype,"doUpdateEmailTemp$",void 0),(0,A.gn)([(0,r.Qm)()],f.prototype,"doemailtemplists$",void 0),(0,A.gn)([(0,r.Qm)()],f.prototype,"doemailtemppagination$",void 0),(0,A.gn)([(0,r.Qm)()],f.prototype,"doEmailtempDelete$",void 0);var C=o(6393),st=o(9070),w=o(6686),q=o(4376),S=o(4218);function mt(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Settings.Local.Emailtemplate.Error.Titleisrequired")))}function pt(i,n){if(1&i&&(t.TgZ(0,"div",22),t.YNc(1,mt,3,3,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.title.errors.required)}}function rt(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Settings.Local.Emailtemplate.Error.Subjectisrequired")))}function dt(i,n){if(1&i&&(t.TgZ(0,"div",22),t.YNc(1,rt,3,3,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.subject.errors.required)}}function ct(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Settings.Local.Emailtemplate.Error.Contentisrequired")))}function ut(i,n){if(1&i&&(t.TgZ(0,"div",22),t.YNc(1,ct,3,3,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.content.errors.required)}}function gt(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Settings.Local.Emailtemplate.Error.Statusisrequired")))}function ht(i,n){if(1&i&&(t.TgZ(0,"div",22),t.YNc(1,gt,3,3,"div",23),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.status.errors.required)}}const O=function(i){return{"is-invalid":i}},ft=function(i){return{"error-fields":i}};let M=(()=>{class i{constructor(e,a,l,h,U,yt,Dt){this.modalService=e,this.fb=a,this.route=l,this.sandbox=h,this.router=U,this.service=yt,this.ckeconfiqservice=Dt,this.editEmailTemplateInfo=[],this.submitted=!1,this.config=this.ckeconfiqservice.getckeconfig()}get f(){return this.emailTemplateForm.controls}ngOnInit(){this.initForm(),this.editEmailTempId=this.route.snapshot.paramMap.get("id"),this.setDefaultValues(),this.editEmailtempList()}beforeChange(e){"preventchange-2"===e.panelId&&e.preventDefault(),"preventchange-3"===e.panelId&&!1===e.nextState&&e.preventDefault()}setDefaultValues(){this.emailTemplateForm.patchValue({postalcode:"Yes",tc:!0})}initForm(){this.emailTemplateForm=this.fb.group({title:[null,[u.kI.required]],subject:[null,[u.kI.required]],content:[null,[u.kI.required]],status:[null,[u.kI.required]]})}close(){this.modalService.close("close")}cancel(){this.router.navigate(["/settings/local/emailtemp"])}onSubmit(e){if(this.submitted=!0,this.emailTemplateForm.invalid)return;const a={};a.title=this.emailTemplateForm.value.title,a.subject=this.emailTemplateForm.value.subject,a.content=this.emailTemplateForm.value.content,a.status=this.emailTemplateForm.value.status,this.editEmailTemplateInfo&&this.editEmailTemplateInfo[0]?(a.id=this.editEmailTemplateInfo[0].emailTemplateId,this.sandbox.updateEmailTemplate(a)):this.sandbox.addEmailTemplate(a),this.modalService.close("close")}editEmailtempList(){this.editEmailTemplateInfo.push(this.service.getemailtemplistdata()),null!==this.editEmailTemplateInfo[0]?this.editEmailTemplateInfo[0]&&this.editEmailTemplateInfo[0].title&&(this.updateTitle=1,this.emailTemplateForm.controls.title.setValue(this.editEmailTemplateInfo[0].title),this.emailTemplateForm.controls.subject.setValue(this.editEmailTemplateInfo[0].subject),this.emailTemplateForm.controls.content.setValue(this.htmlTagConversion(this.editEmailTemplateInfo[0].content)),this.emailTemplateForm.controls.status.setValue(this.editEmailTemplateInfo[0].isActive)):this.emailTemplateForm=null}htmlTagConversion(e){return e.replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&#39;","'").replaceAll("&sbquo;","\u201a").replaceAll("&#61;","=").replaceAll("&#45;","-").replaceAll("&hellip;","\u2026").replaceAll("&commat;","@").replaceAll("&copy;","\xa9").replaceAll("&#35;","#").replaceAll("&ldquo;","\u201c").replaceAll("&rsquo;","\u2019").replaceAll("&lsquo;","\u2018").replaceAll("&trade;","\u2122").replaceAll("&reg;","\xae").replaceAll("&ndash;","\u2013").replaceAll("&eacute;","\xe9").replaceAll("&euro;","\u20ac").replaceAll("&pound;","\xa3")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C.Kz),t.Y36(u.qu),t.Y36(_.gz),t.Y36(P),t.Y36(_.F0),t.Y36(g),t.Y36(st.U))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-spurt-addemail"]],decls:58,vars:49,consts:[[1,"flex","setting2-inner-header"],[1,"modal-header__title"],[1,"close-modal",3,"click"],["src","assets/img/modal-close.svg"],[1,"settings-right-wrapper","addnewuser"],[1,"new-user"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-6","col-xs-12"],[1,"form-group"],["type","text","formControlName","title",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","subject",1,"form-control",3,"ngClass"],[1,"col-lg-12"],["formControlName","content",3,"config","ngClass"],[1,"col-lg-12","col-xs-12"],[1,"control-label"],["formControlName","status","data-placeholder","Choose Role",3,"placeholder","searchable","ngClass","clearable"],[3,"value"],[1,"col-12"],[1,"modal-action-btns","flex"],["type","submit"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return a.close()}),t._UZ(5,"img",3),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"form",6),t.NdJ("ngSubmit",function(){return a.onSubmit(a.emailTemplateForm.value)}),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"label"),t._uU(13),t.ALo(14,"translate"),t.TgZ(15,"sup"),t._uU(16,"*"),t.qZA()(),t._UZ(17,"input",10),t.YNc(18,pt,2,1,"div",11),t.qZA()(),t.TgZ(19,"div",8)(20,"div",9)(21,"label"),t._uU(22),t.ALo(23,"translate"),t.TgZ(24,"sup"),t._uU(25,"*"),t.qZA()(),t._UZ(26,"input",12),t.YNc(27,dt,2,1,"div",11),t.qZA()(),t.TgZ(28,"div",13)(29,"div",9)(30,"label"),t._uU(31),t.ALo(32,"translate"),t.TgZ(33,"sup"),t._uU(34,"*"),t.qZA()(),t._UZ(35,"ckeditor",14),t.YNc(36,ut,2,1,"div",11),t.qZA()(),t.TgZ(37,"div",15)(38,"div",9)(39,"label",16),t._uU(40),t.ALo(41,"translate"),t.TgZ(42,"sup"),t._uU(43,"*"),t.qZA()(),t.TgZ(44,"ng-select",17),t.ALo(45,"translate"),t.TgZ(46,"ng-option",18),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"ng-option",18),t._uU(50),t.ALo(51,"translate"),t.qZA()(),t.YNc(52,ht,2,1,"div",11),t.qZA()(),t.TgZ(53,"div",19)(54,"div",20)(55,"button",21),t._uU(56),t.ALo(57,"translate"),t.qZA()()()()()()()),2&e&&(t.xp6(2),t.Oqu(a.updateTitle?"Update Email Template":t.lcZ(3,23,"Add Email Template")),t.xp6(6),t.Q6J("formGroup",a.emailTemplateForm),t.xp6(5),t.Oqu(t.lcZ(14,25,"Settings.Local.Emailtemplate.Title")),t.xp6(4),t.Q6J("ngClass",t.VKq(41,O,a.submitted&&a.f.title.errors)),t.xp6(1),t.Q6J("ngIf",a.submitted&&a.f.title.errors),t.xp6(4),t.Oqu(t.lcZ(23,27,"Settings.Local.Emailtemplate.Subject")),t.xp6(4),t.Q6J("ngClass",t.VKq(43,O,a.submitted&&a.f.subject.errors)),t.xp6(1),t.Q6J("ngIf",a.submitted&&a.f.subject.errors),t.xp6(4),t.Oqu(t.lcZ(32,29,"Settings.Local.Emailtemplate.Content")),t.xp6(4),t.Q6J("config",a.config)("ngClass",t.VKq(45,O,a.submitted&&a.f.content.errors)),t.xp6(1),t.Q6J("ngIf",a.submitted&&a.f.content.errors),t.xp6(4),t.hij("",t.lcZ(41,31,"Settings.Local.Emailtemplate.Status")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(45,33,"Settings.Local.Language.SelectStatus")),t.Q6J("searchable",!1)("ngClass",t.VKq(47,ft,a.submitted&&a.f.status.errors))("clearable",!1),t.xp6(2),t.Q6J("value",1),t.xp6(1),t.Oqu(t.lcZ(48,35,"Settings.Local.Emailtemplate.Enabled")),t.xp6(2),t.Q6J("value",0),t.xp6(1),t.Oqu(t.lcZ(51,37,"Settings.Local.Emailtemplate.Disabled")),t.xp6(2),t.Q6J("ngIf",a.submitted&&a.f.status.errors),t.xp6(4),t.Oqu(t.lcZ(57,39,"Settings.Local.Save")))},directives:[u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,s.mk,s.O5,w.ue,q.w9,q.jq],pipes:[S.X$],styles:["",".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}"]}),i})();var Tt=o(9819),vt=o(3052),Et=o(9113),_t=o(6642);function Ct(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Settings.Local.Emailtemplate.Enabled")," "))}function bt(i,n){1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Settings.Local.Emailtemplate.Disabled")," "))}const N=function(){return["edit-email-template","delete-email-template"]};function At(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",24),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t._UZ(5,"td",25),t.TgZ(6,"td"),t.YNc(7,Ct,3,3,"div",26),t.YNc(8,bt,3,3,"div",26),t.qZA(),t.TgZ(9,"td",27)(10,"button",28),t.NdJ("click",function(){const h=t.CHM(e).$implicit;return t.oxw(2).editEmailtemp(h)}),t._UZ(11,"img",29),t.qZA(),t.TgZ(12,"button",28),t.NdJ("click",function(){const h=t.CHM(e).$implicit;return t.oxw(2).deleteEmailtemp(h.emailTemplateId)}),t._UZ(13,"img",30),t.qZA()()()}if(2&i){const e=n.$implicit;t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(e.subject),t.xp6(1),t.Q6J("innerHtml",e.content,t.oJD),t.xp6(2),t.Q6J("ngIf",1==e.isActive),t.xp6(1),t.Q6J("ngIf",0==e.isActive),t.xp6(1),t.Q6J("multipleHide",t.DdM(8,N)),t.xp6(1),t.Q6J("appHideIfUnauthorized","edit-email-template"),t.xp6(2),t.Q6J("appHideIfUnauthorized","delete-email-template")}}function Zt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",10),t._UZ(1,"div",11),t.qZA(),t.TgZ(2,"div",12)(3,"div",13),t._UZ(4,"app-global-loader",14),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"div",15)(7,"div",16)(8,"table",17)(9,"thead")(10,"tr")(11,"th",18),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th",19),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"th",20),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"th",19),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"th",21),t._uU(24),t.ALo(25,"translate"),t.qZA()()(),t.TgZ(26,"tbody"),t.YNc(27,At,14,9,"tr",22),t.ALo(28,"async"),t.qZA()(),t.TgZ(29,"mat-paginator",23),t.NdJ("page",function(l){return t.CHM(e),t.oxw().onPageChange(l)}),t.ALo(30,"async"),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("isShow",t.lcZ(5,10,e.sandbox.emailTempListLoading$)),t.xp6(8),t.hij(" ",t.lcZ(13,12,"Settings.Local.Emailtemplate.Title"),""),t.xp6(3),t.hij("",t.lcZ(16,14,"Settings.Local.Emailtemplate.Subject")," "),t.xp6(3),t.hij("",t.lcZ(19,16,"Settings.Local.Emailtemplate.Content")," "),t.xp6(3),t.hij("",t.lcZ(22,18,"Settings.Local.Emailtemplate.Status")," "),t.xp6(2),t.Q6J("multipleHide",t.DdM(26,N)),t.xp6(1),t.hij(" ",t.lcZ(25,20,"Settings.Local.Emailtemplate.Action"),""),t.xp6(3),t.Q6J("ngForOf",t.lcZ(28,22,e.sandbox.emailTempList$)),t.xp6(2),t.Q6J("length",t.lcZ(30,24,e.sandbox.emailTempPagination$))("pageSize",e.pageSize)}}let xt=(()=>{class i{constructor(e,a,l,h){this.modal=e,this.router=a,this.sandbox=l,this.service=h,this.pageSize=10,this.index=0,this.keyword="",this.paginationCount=!0,this.regSubscribeEvents()}ngOnInit(){this.pageSize=sessionStorage.getItem("itemsPerPage")?sessionStorage.getItem("itemsPerPage"):this.pageSize,this.getemailtempList(this.offset,this.pageSize),this.sandbox.emailTempUpdateLoaded$.subscribe(e=>{e&&this.getemailtempList(this.offset,this.pageSize)}),this.sandbox.emailTempList$.subscribe(e=>{})}beforeChange(e){"preventchange-2"===e.panelId&&e.preventDefault(),"preventchange-3"===e.panelId&&!1===e.nextState&&e.preventDefault()}getemailtempList(e=0,a){const l={};l.limit=a,l.offset=e,l.keyword=this.keyword,this.sandbox.getEmailTemplateList(l),this.paginationCount&&(l.count="true",this.sandbox.emailTemplatePagination(l))}addNewEmailTemp(){this.service.setemailtemplistdata(""),this.router.navigate(["/settings/local/emailtemp/add"])}editEmailtemp(e){const a=this.modal.open(M,{windowClass:"add-variant-roles",keyboard:!1,backdrop:"static"});e&&(this.service.setemailtemplistdata(e),a.componentInstance.id=e.emailTemplateId)}deleteEmailtemp(e){const a=this.modal.open(Tt.j,{size:"sm",windowClass:"delete-confirm",backdrop:"static",backdropClass:"createcr"});a.componentInstance.key="",a.componentInstance.id="",a.result.then(l=>{"deleted"===l&&(this.sandbox.emailTemplateDelete({emailTemplateId:e}),this.regSubscribeEvents())})}regSubscribeEvents(){this.sandbox.emailTempDelete$.subscribe(e=>{e&&1===e.status&&this.getemailtempList(this.offset,this.pageSize)})}onPageChange(e){this.pageSize=e.pageSize,this.index=e.pageIndex,this.offset=e.pageSize*e.pageIndex,this.getemailtempList(this.offset,this.pageSize)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C.FF),t.Y36(_.F0),t.Y36(P),t.Y36(g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-spurt-listemailtemp"]],decls:14,vars:1,consts:[[1,"set-lay-notes","flex",2,"padding","0 10px 10px 10px"],[1,"setup-wrapper","set-loc-wrapper"],[1,"setup-container","localization-container"],[1,"card","ap-general","ap-info"],[1,"flex","ap-body"],["ngbNav","",2,"width","100%"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavContent","","style","display: flex !important;"],[1,"mt-2",2,"width","100%",3,"ngbNavOutlet"],[1,"localize-header","flex"],[1,"loc-hdr-lft"],[1,"setup-right"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(58%, 18%)","position","absolute",3,"isShow"],[1,"product-table"],[1,"table-responsive"],[1,"table"],["scope","col",1,""],["scope","col"],["scope","col",2,"width","466px"],["scope","col",1,"text-right",3,"appHideIfUnauthorized","multipleHide"],[4,"ngFor","ngForOf"],[3,"length","pageSize","page"],["scope","row",1,""],[2,"width","466px",3,"innerHtml"],[4,"ngIf"],[1,"text-center","action-btn",3,"appHideIfUnauthorized","multipleHide"],[3,"appHideIfUnauthorized","click"],["src","assets/img/edit.png","alt","edit"],["src","assets/img/delete-new.png","alt","delete"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Note :"),t.qZA(),t.TgZ(3,"p"),t._uU(4,"In this section, the can manage and maintain the subject and content of the email templates that will be used for sending notifications to Vendor, Customers and Admin themselves, in different instances. "),t.qZA()(),t.TgZ(5,"div",1)(6,"div",2)(7,"div",3)(8,"div",4)(9,"ul",5,6)(11,"li",7),t.YNc(12,Zt,31,27,"ng-template",8),t.qZA()(),t._UZ(13,"div",9),t.qZA()()()()),2&e){const l=t.MAs(10);t.xp6(13),t.Q6J("ngbNavOutlet",l)}},directives:[C.Pz,C.nv,C.uN,vt.A,Et.E,s.sg,s.O5,_t.NW,C.tO],pipes:[s.Ov,S.X$],styles:[".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}"]}),i})();var I=o(8300);const Lt=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:xt,canActivate:[I.a],data:{permission:"list-email-template"}},{path:"add",component:M,canActivate:[I.a],data:{permission:"create-email-template"}},{path:"edit/:id",component:M,canActivate:[I.a],data:{permission:"edit-email-template"}}];let St=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[_.Bz.forChild(Lt)],_.Bz]}),i})();var Pt=o(6693),Ot=o(5979),Mt=o(520),It=o(2476);let Ut=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[g,P],imports:[[s.ez,b.o,u.u5,u.UX,Pt.q,St,It.K,r.sQ.forFeature([f]),S.aw.forChild({loader:{provide:S.Zw,useFactory:Ot.gS,deps:[Mt.eN]}}),w.dF]]}),i})()},3052:(y,v,o)=>{o.d(v,{A:()=>E});var s=o(5e3),b=o(9932),u=o(9808);function r(t,g){1&t&&(s.TgZ(0,"div",1)(1,"div",2),s._UZ(2,"img",3),s.qZA()())}let E=(()=>{class t{constructor(m){this.httpStatus=m,this.subscriptions=[],this.loader=!1,this.getHttpResponse()}ngOnInit(){}getHttpResponse(){this.subscriptions.push(this.httpStatus.getHttpStatus().subscribe(m=>{this.loader=m}))}ngOnDestroy(){this.subscriptions.forEach(m=>m.unsubscribe())}}return t.\u0275fac=function(m){return new(m||t)(s.Y36(b.Z))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-global-loader"]],inputs:{isShow:"isShow"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],["width","80px","height","80px","src","./assets/loader/Spurt-commerce-Loader-2.1.gif"]],template:function(m,p){1&m&&s.YNc(0,r,3,0,"div",0),2&m&&s.Q6J("ngIf",p.isShow)},directives:[u.O5],styles:['#loader[_ngcontent-%COMP%]{bottom:0;height:175px;left:0;margin:auto;position:absolute;right:0;top:0;width:175px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{bottom:0;height:100%;left:0;margin:auto;position:absolute;right:0;top:0;width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:before{border-radius:100%;content:"";height:87.5px;left:0;position:absolute;right:0;top:0;transform:scale(0);width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1){transform:rotate(45deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1):before{animation:.8s linear .1s normal none infinite running load;background:#00ff80 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2){transform:rotate(90deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2):before{animation:.8s linear .2s normal none infinite running load;background:#00ffea none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3){transform:rotate(135deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3):before{animation:.8s linear .3s normal none infinite running load;background:#00aaff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4){transform:rotate(180deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4):before{animation:.8s linear .4s normal none infinite running load;background:#0040ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5){transform:rotate(225deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5):before{animation:.8s linear .5s normal none infinite running load;background:#2a00ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6){transform:rotate(270deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6):before{animation:.8s linear .6s normal none infinite running load;background:#9500ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7){transform:rotate(315deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7):before{animation:.8s linear .7s normal none infinite running load;background:magenta none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8){transform:rotate(360deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8):before{animation:.8s linear .8s normal none infinite running load;background:#ff0095 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{background-position:50% 50%;background-repeat:no-repeat;bottom:-40px;height:20px;left:0;position:absolute;right:0;width:180px}@keyframes load{to{opacity:0;transform:scale(1)}}.spinner-message[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{text-align:center}']}),t})()},9819:(y,v,o)=>{o.d(v,{j:()=>u});var s=o(5e3),b=o(6393);let u=(()=>{class r{constructor(t){this.activeModal=t}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key||"product"===this.key||this.activeModal.close("deleted")}}return r.\u0275fac=function(t){return new(t||r)(s.Y36(b.Kz))},r.\u0275cmp=s.Xpm({type:r,selectors:[["app-delete-confirmation-dialog"]],decls:12,vars:0,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true",2,"background-color","white"],["src","assets/img/info-triangle.svg"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(t,g){1&t&&(s.TgZ(0,"div",0)(1,"button",1),s.NdJ("click",function(){return g.close()}),s.TgZ(2,"span",2),s._uU(3,"\xd7"),s.qZA()(),s.TgZ(4,"h4"),s._UZ(5,"img",3),s._uU(6," Do You Want To Delete? "),s.qZA(),s.TgZ(7,"div",4)(8,"button",5),s.NdJ("click",function(){return g.close()}),s._uU(9," No "),s.qZA(),s.TgZ(10,"button",6),s.NdJ("click",function(){return g.deleteContent()}),s._uU(11," Yes "),s.qZA()()())},styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px;border:none}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}"]}),r})()}}]);