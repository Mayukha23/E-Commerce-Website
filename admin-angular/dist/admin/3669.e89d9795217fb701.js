"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[3669],{3669:(J,S,a)=>{a.r(S),a.d(S,{WidgetsModule:()=>cn});var d=a(9808),g=a(3075),t=a(5e3),v=a(9646),W=a(4968),y=a(5577),C=a(4004),x=a(8505),q=a(9300),dt=a(4986),lt=a(4482),Y=a(5403),gt=a(8421);const H={leading:!0,trailing:!1};var ut=a(5963);function mt(n,i,e,o){const s=window&&!!window.document&&window.document.documentElement;let r=s&&i?window:e;if(n&&(r=n&&s&&"string"==typeof n?function ft(n,i,e){return(e?window.document:i).querySelector(n)}(n,e.nativeElement,o):n,!r))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return r}function F(n){return n&&!n.firstChange}const Ct={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},wt={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class vt{constructor(i=!0){this.vertical=i,this.propsMap=i?Ct:wt}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function Pt(n){return["Window","global"].some(e=>Object.prototype.toString.call(n).includes(e))}function E(n,i){return n?i.document.documentElement:null}function Q(n,i){const e=function Tt({container:n,isWindow:i,axis:e}){const{offsetHeightKey:o,clientHeightKey:s}=z(e);return K(n,i,o,s)}(i);return i.isWindow?function bt(n,i,e){const{axis:o,container:s,isWindow:r}=e,{offsetHeightKey:l,clientHeightKey:m}=z(o),f=n+R(E(r,s),o,r),w=K(i.nativeElement,r,l,m),T=function Zt(n,i,e){const o=i.topKey();if(n.getBoundingClientRect)return n.getBoundingClientRect()[o]+R(n,i,e)}(i.nativeElement,o,r)+w;return{height:n,scrolled:f,totalToScroll:T,isWindow:r}}(e,n,i):function Ot(n,i,e){const{axis:o,container:s}=e;return{height:n,scrolled:s[o.scrollTopKey()],totalToScroll:s[o.scrollHeightKey()],isWindow:!1}}(e,0,i)}function z(n){return{offsetHeightKey:n.offsetHeightKey(),clientHeightKey:n.clientHeightKey()}}function K(n,i,e,o){if(isNaN(n[e])){const s=E(i,n);return s?s[o]:0}return n[e]}function R(n,i,e){const o=i.pageYOffsetKey(),s=i.scrollTopKey(),r=i.offsetTopKey();return isNaN(window.pageYOffset)?E(e,n)[s]:n.ownerDocument?n.ownerDocument.defaultView[o]:n[r]}function At(n,i={down:0,up:0},e){let o,s;if(n.totalToScroll<=0)return!1;const r=n.isWindow?n.scrolled:n.height+n.scrolled;return e?(o=(n.totalToScroll-r)/n.totalToScroll,s=((null==i?void 0:i.down)?i.down:0)/10):(o=n.scrolled/(n.scrolled+(n.totalToScroll-r)),s=((null==i?void 0:i.up)?i.up:0)/10),o<=s}class Dt{constructor({totalToScroll:i}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=i}updateScrollPosition(i){return this.lastScrollPosition=i}updateTotalToScroll(i){this.lastTotalToScroll!==i&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=i)}updateScroll(i,e){this.updateScrollPosition(i),this.updateTotalToScroll(e)}updateTriggeredFlag(i,e){e?this.triggered.down=i:this.triggered.up=i}isTriggeredScroll(i,e){return e?this.triggered.down===i:this.triggered.up===i}}function kt(n){const{scrollContainer:i,scrollWindow:e,element:o,fromRoot:s}=n,r=function xt({windowElement:n,axis:i}){return function yt(n,i){const e=n.isWindow||i&&!i.nativeElement?i:i.nativeElement;return Object.assign(Object.assign({},n),{container:e})}({axis:i,isWindow:Pt(n)},n)}({axis:new vt(!n.horizontal),windowElement:mt(i,e,o,s)}),l=new Dt({totalToScroll:Q(o,r)}),f={up:n.upDistance,down:n.downDistance};return function Ut(n){let i=(0,W.R)(n.container,"scroll");return n.throttle&&(i=i.pipe(function ht(n,i=dt.z,e=H){const o=(0,ut.H)(n,i);return function pt(n,i=H){return(0,lt.e)((e,o)=>{const{leading:s,trailing:r}=i;let l=!1,m=null,f=null,w=!1;const T=()=>{null==f||f.unsubscribe(),f=null,r&&(ct(),w&&o.complete())},D=()=>{f=null,w&&o.complete()},at=A=>f=(0,gt.Xf)(n(A)).subscribe((0,Y.x)(o,T,D)),ct=()=>{if(l){l=!1;const A=m;m=null,o.next(A),!w&&at(A)}};e.subscribe((0,Y.x)(o,A=>{l=!0,m=A,(!f||f.closed)&&(s?ct():at(A))},()=>{w=!0,(!(r&&l&&f)||f.closed)&&o.complete()}))})}(()=>o,e)}(n.throttle,void 0,{leading:!0,trailing:!0}))),i}({container:r.container,throttle:n.throttle}).pipe((0,y.z)(()=>(0,v.of)(Q(o,r))),(0,C.U)(w=>function qt(n,i,e){const{scrollDown:o,fire:s}=function Wt(n,i,e){const o=function St(n,i){return n<i.scrolled}(n,i);return{fire:At(i,e,o),scrollDown:o}}(n,i,e);return{scrollDown:o,fire:s,stats:i}}(l.lastScrollPosition,w,f)),(0,x.b)(({stats:w})=>l.updateScroll(w.scrolled,w.totalToScroll)),(0,q.h)(({fire:w,scrollDown:T,stats:{totalToScroll:D}})=>function Mt(n,i,e){return!!(n&&i||!e&&i)}(n.alwaysCallback,w,l.isTriggeredScroll(D,T))),(0,x.b)(({scrollDown:w,stats:{totalToScroll:T}})=>{l.updateTriggeredFlag(T,w)}),(0,C.U)(Ft))}function Ft(n){const{scrollDown:i,stats:{scrolled:e}}=n;return{type:i?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:e}}}let Et=(()=>{class n{constructor(e,o){this.element=e,this.zone=o,this.scrolled=new t.vpe,this.scrolledUp=new t.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:e,infiniteScrollDisabled:o,infiniteScrollDistance:s}){const r=F(e),l=F(o),m=F(s),f=!l&&!this.infiniteScrollDisabled||l&&!o.currentValue||m;(r||l||m)&&(this.destroyScroller(),f&&this.setup())}setup(){(function _t(){return"undefined"!=typeof window})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=kt({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(e=>this.zone.run(()=>this.handleOnScroll(e)))})}handleOnScroll({type:e,payload:o}){switch(e){case"[NGX_ISE] DOWN":return this.scrolled.emit(o);case"[NGX_ISE] UP":return this.scrolledUp.emit(o);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b))},n.\u0275dir=t.lG2({type:n,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[t.TTD]}),n})(),Nt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[],imports:[[]]}),n})();var j=a(2476),B=a(6693),G=a(3675),V=a(8384),N=a(6686);let $t=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[],imports:[[d.ez,j.K,B.q,G.o,V.F,N.dF],j.K,B.q,G.o,V.F,N.dF]}),n})();var X=a(2313),_=a(2596),c=a(7863),p=a(5775),u=a(3768);const h=n=>n.widgetList,Jt=(0,p.P1)(h,u.EU),Yt=(0,p.P1)(h,u.Y_),Ht=(0,p.P1)(h,u.sL),Qt=(0,p.P1)(h,u.E9),zt=(0,p.P1)(h,u.QB),Kt=(0,p.P1)(h,u.Eo),Rt=(0,p.P1)(h,u.pF),jt=(0,p.P1)(h,u.y4),Bt=(0,p.P1)(h,u.ED),Gt=(0,p.P1)(h,u.H2),Vt=((0,p.P1)(h,u.mw),(0,p.P1)(h,u.Gx),(0,p.P1)(h,u.th)),Xt=(0,p.P1)(h,u.fF),te=(0,p.P1)(h,u.c5),ee=((0,p.P1)(h,u.BR),(0,p.P1)(h,u.Uu)),ne=(0,p.P1)(h,u.Eb),oe=(0,p.P1)(h,u.$o),ie=((0,p.P1)(h,u.bF),(0,p.P1)(h,u.wA)),se=((0,p.P1)(h,u.Uk),(0,p.P1)(h,u.nC),(0,p.P1)(h,u.Yl),(0,p.P1)(h,u.HB)),re=(0,p.P1)(h,u.dH),ae=(0,p.P1)(h,u.Rz),ce=(0,p.P1)(h,u.RP);var de=a(7319);let U=(()=>{class n{constructor(e){this.appState=e,this.widgetListLoading$=this.appState.select(ce),this.widgetList$=this.appState.select(Jt),this.getwidgetpagelength$=this.appState.select(Yt),this.getAddNewWidget$=this.appState.select(Ht),this.updateWidget$=this.appState.select(zt),this.deleteWidget$=this.appState.select(Qt),this.getWidgetCount$=this.appState.select(Bt),this.getWidgetCountLoading$=this.appState.select(Gt),this.widgetListCount$=this.appState.select(Kt),this.getwidgetListActive$=this.appState.select(Rt),this.getwidgetListInActive$=this.appState.select(jt),this.getWidgetDetails$=this.appState.select(Vt),this.getWidgetDetailsLoading$=this.appState.select(Xt),this.getWidgetDetailsLoaded$=this.appState.select(te),this.productList$=this.appState.select(ee),this.categoryList$=this.appState.select(ie),this.selectedProduct$=this.appState.select(se),this.selectedCategoryList$=this.appState.select(re),this.productListLoaded$=this.appState.select(oe),this.productListLoading$=this.appState.select(ne),this.widgetStatus$=this.appState.select(ae),this.subscriptions=[]}getWidgetList(e){this.appState.dispatch(new c.fP(e))}getWidgetListCount(e){this.appState.dispatch(new c.Ic(e))}addWidget(e){this.appState.dispatch(new c.Q1(e))}updateWidget(e){this.appState.dispatch(new c.Ml(e))}deleteWidget(e){this.appState.dispatch(new c.Nf(e))}bulkDelete(e){this.appState.dispatch(new c._L(e))}getWidgetCount(){this.appState.dispatch(new c.o1)}getWidgetDetails(e){this.appState.dispatch(new c.dK(e))}getProductList(e){this.appState.dispatch(new c.OO(e))}getCategoryList(e){this.appState.dispatch(new c.BZ(e))}selectProduct(e){this.appState.dispatch(new c.FK(e))}searchSelectedProduct(e){this.appState.dispatch(new c.Ew(e))}clearSelectedProducts(){this.appState.dispatch(new c.w)}clearSelectedCategories(){this.appState.dispatch(new c.yn)}selectCategory(e){this.appState.dispatch(new c.iB(e))}searchCategory(e){this.appState.dispatch(new c.Pz(e))}searchSelectedCategory(e){this.appState.dispatch(new c.gD(e))}clear(){this.appState.dispatch(new c.Cr)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(de.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var le=a(9900);let tt=(()=>{class n extends le.V{constructor(){super(...arguments),this.params={},this.url=this.getBaseUrl()}widgetList(e){return this.http.get(this.url+"/widget",{params:e})}widgetListCount(e){return this.http.get(this.url+"/widget",{params:e})}updateWidget(e){return this.http.put(this.url+"/widget/"+e.widgetId,e)}addWidget(e){return this.http.post(this.url+"/widget",e)}deleteWidget(e){return this.http.delete(this.url+"/widget/"+e.widgetId,e)}widgetCount(){return this.http.get(this.url+"/widget/widget-count")}widgetDetails(e){return this.http.get(this.url+"/widget/widget-detail",{params:e})}productList(e){return this.http.get(this.url+"/widget/productlist",{params:e})}categoryList(e){return this.http.get(this.url+"/category",{params:e})}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var b=a(655),M=a(3900),O=a(262);class P{constructor(i,e){this.action$=i,this.service=e,this.doWidgetLists$=this.action$.pipe((0,_.l4)(c.MF.DO_WIDGET_LIST),(0,C.U)(o=>o.payload),(0,M.w)(o=>this.service.widgetList(o).pipe((0,M.w)(s=>[new c.zj(s)]),(0,O.K)(s=>(0,v.of)(new c.v1(s)))))),this.doWidgetCountLists$=this.action$.pipe((0,_.l4)(c.MF.DO_WIDGET_LIST_COUNT),(0,C.U)(o=>o.payload),(0,M.w)(o=>this.service.widgetListCount(o).pipe((0,M.w)(s=>[new c.i0(s)]),(0,O.K)(s=>(0,v.of)(new c.fb(s)))))),this.doAddWidget$=this.action$.pipe((0,_.l4)(c.MF.DO_ADD_WIDGET_ACTION),(0,C.U)(o=>o.payload),(0,M.w)(o=>this.service.addWidget(o).pipe((0,M.w)(s=>[new c.Jd(s)]),(0,O.K)(s=>(0,v.of)(new c.Jd(s)))))),this.doUpdateWidget$=this.action$.pipe((0,_.l4)(c.MF.DO_UPDATE_WIDGET_ACTION),(0,C.U)(o=>o.payload),(0,M.w)(o=>this.service.updateWidget(o).pipe((0,M.w)(s=>[new c.YB(s)]),(0,O.K)(s=>(0,v.of)(new c.Xu(s)))))),this.doDeleteWidget$=this.action$.pipe((0,_.l4)(c.MF.DO_DELETE_WIDGET_ACTION),(0,C.U)(o=>o.payload),(0,M.w)(o=>this.service.deleteWidget(o).pipe((0,M.w)(s=>[new c.xw(s)]),(0,O.K)(s=>(0,v.of)(new c.rA(s)))))),this.WidgetCount$=this.action$.pipe((0,_.l4)(c.MF.GET_WIDGET_COUNT),(0,C.U)(o=>o.payload),(0,M.w)(o=>this.service.widgetCount().pipe((0,M.w)(s=>[new c.ZQ(s)]),(0,O.K)(s=>(0,v.of)(new c.kK(s)))))),this.getWidgetDetails$=this.action$.pipe((0,_.l4)(c.MF.GET_WIDGET_DETAILS),(0,C.U)(o=>o.payload),(0,M.w)(o=>this.service.widgetDetails(o).pipe((0,M.w)(s=>[new c.W7(s)]),(0,O.K)(s=>(0,v.of)(new c.UZ(s)))))),this.productList$=this.action$.pipe((0,_.l4)(c.MF.DO_PRODUCT_LIST),(0,C.U)(o=>o.payload),(0,M.w)(o=>this.service.productList(o).pipe((0,M.w)(s=>[new c.eE(s)]),(0,O.K)(s=>(0,v.of)(new c.L0(s)))))),this.categoryList$=this.action$.pipe((0,_.l4)(c.MF.DO_CATEGORY_LIST),(0,C.U)(o=>o.payload),(0,M.w)(o=>this.service.categoryList(o).pipe((0,M.w)(s=>[new c.XA(s)]),(0,O.K)(s=>(0,v.of)(new c.cX(s))))))}}P.\u0275fac=function(i){return new(i||P)(t.LFG(_.eX),t.LFG(tt))},P.\u0275prov=t.Yz7({token:P,factory:P.\u0275fac}),(0,b.gn)([(0,_.Qm)()],P.prototype,"doWidgetLists$",void 0),(0,b.gn)([(0,_.Qm)()],P.prototype,"doWidgetCountLists$",void 0),(0,b.gn)([(0,_.Qm)()],P.prototype,"doAddWidget$",void 0),(0,b.gn)([(0,_.Qm)()],P.prototype,"doUpdateWidget$",void 0),(0,b.gn)([(0,_.Qm)()],P.prototype,"doDeleteWidget$",void 0),(0,b.gn)([(0,_.Qm)()],P.prototype,"WidgetCount$",void 0),(0,b.gn)([(0,_.Qm)()],P.prototype,"getWidgetDetails$",void 0),(0,b.gn)([(0,_.Qm)()],P.prototype,"productList$",void 0),(0,b.gn)([(0,_.Qm)()],P.prototype,"categoryList$",void 0);var Z=a(9291),$=a(8300),ge=a(508),pe=a(9070),et=a(3845),nt=a(6393),L=a(4218);function ue(n,i){1&n&&t._UZ(0,"span",10)}function he(n,i){if(1&n&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&n){const e=t.oxw(2);let o;t.xp6(1),t.Oqu(null==(o=t.lcZ(2,1,e.sandbox.getWidgetCount$))?null:o.totalWidget)}}function me(n,i){1&n&&t._UZ(0,"span",10)}function fe(n,i){if(1&n&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&n){const e=t.oxw(2);let o;t.xp6(1),t.Oqu(null==(o=t.lcZ(2,1,e.sandbox.getWidgetCount$))?null:o.activeWidget)}}function _e(n,i){1&n&&t._UZ(0,"span",10)}function Ce(n,i){if(1&n&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&n){const e=t.oxw(2);let o;t.xp6(1),t.Oqu(null==(o=t.lcZ(2,1,e.sandbox.getWidgetCount$))?null:o.inActiveWidget)}}function we(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul")(6,"li")(7,"p"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.YNc(10,ue,1,0,"span",5),t.ALo(11,"async"),t.TgZ(12,"button",6),t._UZ(13,"img",7),t.qZA(),t.YNc(14,he,3,3,"h3",0),t.ALo(15,"async"),t.qZA(),t.TgZ(16,"li")(17,"p"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.YNc(20,me,1,0,"span",5),t.ALo(21,"async"),t.TgZ(22,"button",8),t._UZ(23,"img",7),t.qZA(),t.YNc(24,fe,3,3,"h3",0),t.ALo(25,"async"),t.qZA(),t.TgZ(26,"li")(27,"p"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.YNc(30,_e,1,0,"span",5),t.ALo(31,"async"),t.TgZ(32,"button",9),t._UZ(33,"img",7),t.qZA(),t.YNc(34,Ce,3,3,"h3",0),t.ALo(35,"async"),t.qZA()()()()()()()),2&n){const e=t.oxw();t.xp6(8),t.Oqu(t.lcZ(9,9,"CMS.Promotions.totalWidgets")),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,11,e.sandbox.getWidgetCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(15,13,e.sandbox.getWidgetCountLoading$)),t.xp6(4),t.Oqu(t.lcZ(19,15,"CMS.Promotions.activeWidgets")),t.xp6(2),t.Q6J("ngIf",t.lcZ(21,17,e.sandbox.getWidgetCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(25,19,e.sandbox.getWidgetCountLoading$)),t.xp6(4),t.Oqu(t.lcZ(29,21,"CMS.Promotions.inactiveWidgets")),t.xp6(2),t.Q6J("ngIf",t.lcZ(31,23,e.sandbox.getWidgetCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(35,25,e.sandbox.getWidgetCountLoading$))}}let ot=(()=>{class n{constructor(e,o){this.sandbox=e,this.router=o,this.router.events.subscribe(s=>{this.id=+this.router.url.split("?")[0].split("/").pop()})}ngOnInit(){this.getWidgetHeaderCount()}getWidgetHeaderCount(){this.sandbox.getWidgetCount()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U),t.Y36(Z.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-widgets-layout"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row","products-section"],[1,"col-12"],[1,"card"],[1,"product-ts-left"],["class","spinner-border spinner-border-sm pull-right","aria-hidden","true",4,"ngIf"],["type","button","placement","bottom","ngbTooltip"," Total number of created widgets . The number includes both active and in-active widgets."],["src","assets/img/info-ico.svg","alt","info"],["type","button","placement","bottom","ngbTooltip","Total number of active widgets. As it is active, it will display on the storefront. "],["type","button","placement","left","ngbTooltip","Total number of in-active widgets. As it is in-active, it will not display on the storefront."],["aria-hidden","true",1,"spinner-border","spinner-border-sm","pull-right"]],template:function(e,o){1&e&&t.YNc(0,we,36,27,"div",0),2&e&&t.Q6J("ngIf","/cms/manage-content/widgets/add"!==o.router.url.split("?")[0]&&o.router.url.split("?")[0]!=="/cms/manage-content/widgets/edit/"+o.id)},directives:[d.O5,nt._L],pipes:[L.X$,d.Ov],styles:[""],changeDetection:0}),n})();var ve=a(2111);const Me=["filePath"];function xe(n,i){1&n&&(t.TgZ(0,"div",34),t._UZ(1,"img",35),t.qZA())}function ye(n,i){1&n&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CMS.Widgets.TitleIsRequired")," "))}function Pe(n,i){1&n&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CMS.BannerError.MustBe255CharacterLong")," "))}function be(n,i){1&n&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CMS.Widgets.PositionIsRequired")," "))}function Oe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",48)(1,"div",49)(2,"input",50),t.NdJ("change",function(s){const l=t.CHM(e).$implicit;return t.oxw(2).selectProduct(s,l)}),t.qZA(),t.TgZ(3,"label",51),t._uU(4),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.s9C("id",e.productId),t.Q6J("checked",e.isChecked),t.xp6(1),t.s9C("for",e.productId),t.xp6(1),t.hij(" ",e.name," ")}}function Te(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",48)(1,"div",49)(2,"input",50),t.NdJ("change",function(s){const l=t.CHM(e).$implicit;return t.oxw(2).selectProduct(s,l)}),t.qZA(),t.TgZ(3,"label",51),t._uU(4),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.s9C("id",e.productId),t.Q6J("checked",e.isChecked),t.xp6(1),t.s9C("for",e.productId),t.xp6(1),t.hij(" ",e.name," ")}}function Ze(n,i){1&n&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CMS.Widgets.pleaseSelectProduct")," "))}function Ae(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",37)(1,"div",38)(2,"div",39)(3,"input",40,41),t.NdJ("keyup",function(){t.CHM(e);const s=t.MAs(4);return t.oxw().searchProduct(s.value)}),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",42),t.NdJ("scrolled",function(){return t.CHM(e),t.oxw().onProductScrollDown()}),t.YNc(7,Oe,5,4,"div",43),t.ALo(8,"async"),t.qZA()(),t.TgZ(9,"div",44)(10,"p",45),t._uU(11),t.ALo(12,"async"),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",39)(15,"input",40,46),t.NdJ("keyup",function(){t.CHM(e);const s=t.MAs(16);return t.oxw().searchSelectedProduct(s.value)}),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"div",47),t.YNc(19,Te,5,4,"div",43),t.ALo(20,"async"),t.qZA()(),t.YNc(21,Ze,3,3,"div",8),t.ALo(22,"async"),t.qZA()}if(2&n){const e=t.oxw();let o,s;t.xp6(3),t.MGl("placeholder"," ",t.lcZ(5,10,"CMS.Widgets.SearchProducts"),""),t.xp6(3),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),t.xp6(1),t.Q6J("ngForOf",t.lcZ(8,12,e.sandbox.productList$)),t.xp6(4),t.AsE("",null==(o=t.lcZ(12,14,e.sandbox.selectedProduct$))?null:o.length," ",t.lcZ(13,16,"CMS.Widgets.itemsselected"),""),t.xp6(4),t.s9C("placeholder",t.lcZ(17,18,"CMS.Widgets.SearchSelectedProducts")),t.xp6(4),t.Q6J("ngForOf",t.lcZ(20,20,e.sandbox.selectedProduct$)),t.xp6(2),t.Q6J("ngIf",2===e.linkWidgetId&&0===(null==(s=t.lcZ(22,22,e.sandbox.selectedProduct$))?null:s.length)&&1==e.submitted)}}function Se(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",48)(1,"div",54)(2,"input",50),t.NdJ("change",function(s){const l=t.CHM(e).$implicit;return t.oxw(2).selectCategory(s,l)}),t.qZA(),t.TgZ(3,"label",51),t._uU(4),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.s9C("id",e.categoryId),t.Q6J("checked",e.isChecked),t.xp6(1),t.s9C("for",e.categoryId),t.xp6(1),t.hij(" ",e.name," ")}}function We(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",48)(1,"div",54)(2,"input",50),t.NdJ("change",function(s){const l=t.CHM(e).$implicit;return t.oxw(2).selectCategory(s,l)}),t.qZA(),t.TgZ(3,"label",51),t._uU(4),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.s9C("id",e.categoryId),t.Q6J("checked",e.isChecked),t.xp6(1),t.s9C("for",e.categoryId),t.xp6(1),t.hij(" ",e.levels," ")}}function Le(n,i){1&n&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CMS.Widgets.pleaseSelectCategories")," "))}function Ie(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",37)(1,"div",38)(2,"div",39)(3,"input",40,52),t.NdJ("keyup",function(){t.CHM(e);const s=t.MAs(4);return t.oxw().searchCategory(s.value)}),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",42),t.NdJ("scrolled",function(){return t.CHM(e),t.oxw().onCategoryScrollDown()}),t.YNc(7,Se,5,4,"div",43),t.ALo(8,"async"),t.qZA()(),t.TgZ(9,"div",44)(10,"p",45),t._uU(11),t.ALo(12,"async"),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",39)(15,"input",40,53),t.NdJ("keyup",function(){t.CHM(e);const s=t.MAs(16);return t.oxw().searchSelectedCategory(s.value)}),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"div",47),t.YNc(19,We,5,4,"div",43),t.ALo(20,"async"),t.qZA()(),t.YNc(21,Le,3,3,"div",8),t.ALo(22,"async"),t.qZA()}if(2&n){const e=t.oxw();let o,s;t.xp6(3),t.s9C("placeholder",t.lcZ(5,10,"CMS.Placeholder.SearchCategory")),t.xp6(3),t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",150)("scrollWindow",!1),t.xp6(1),t.Q6J("ngForOf",t.lcZ(8,12,e.sandbox.categoryList$)),t.xp6(4),t.AsE("",null==(o=t.lcZ(12,14,e.sandbox.selectedCategoryList$))?null:o.length," ",t.lcZ(13,16,"CMS.Widgets.itemsselected"),""),t.xp6(4),t.s9C("placeholder",t.lcZ(17,18,"CMS.Placeholder.SearchSelectedCategory")),t.xp6(4),t.Q6J("ngForOf",t.lcZ(20,20,e.sandbox.selectedCategoryList$)),t.xp6(2),t.Q6J("ngIf",1===e.linkWidgetId&&0===(null==(s=t.lcZ(22,22,e.sandbox.selectedCategoryList$))?null:s.length)&&1==e.submitted)}}function De(n,i){1&n&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CMS.BlogError.MetaTitleIsRequired")," "))}function ke(n,i){1&n&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CMS.Error.MetaTagTitleMaxlength70")," "))}function Ue(n,i){1&n&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CMS.Widgets.MetaDescriptionIsRequired")," "))}function qe(n,i){1&n&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CMS.BlogError.MustBe160CharacterLong")," "))}function Fe(n,i){1&n&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CMS.BlogError.MetaKeywordIsRequired")," "))}function Ee(n,i){1&n&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CMS.BannerError.MustBe255CharacterLong")," "))}const I=function(n){return{"is-invalid":n}},it=function(){return{standalone:!0}};let st=(()=>{class n{constructor(e,o,s,r,l,m,f,w){this.router=e,this.fb=o,this.route=s,this.sandbox=r,this.datePipe=l,this.dateAdapter=m,this.ckeconfiqservice=f,this.configService=w,this.ImageUrl="",this.submitted=!1,this.id="",this.subscriptions=[],this.Productkeyword="",this.categorykeyword="",this.selectedProductId=[],this.selectedCategoryId=[],this.categoryError=!1,this.productError=!1,this.throttle=50,this.scrollDistance=2,this.scrollUpDistance=2,this.direction="",this.limit=10,this.productOffset=0,this.catOffset=0,this.queryDetails={},this.statusValue=!1,this.setWidgets=!1,this.config=this.ckeconfiqservice.getckeconfig(),this.dateAdapter.setLocale("en-GB");const T=this.route.snapshot.queryParamMap.get("offset"),D=this.route.snapshot.queryParamMap.get("index");this.queryDetails.offset=T||0,this.queryDetails.index=D||0}ngOnInit(){if(this.initForm(),this.getProductList(),this.getCategoryList(),this.linkWidgetId=2,this.todayDate=new Date,this.imageUrl=this.configService.imageUrl,this.postImageUrl="./assets/img/addpic.svg",this.editWidgetId=this.route.snapshot.paramMap.get("id"),this.editWidgetId){const e={};e.widgetId=this.editWidgetId,this.sandbox.getWidgetDetails(e),this.editWidgetData()}}getProductList(){const e={};e.offset=this.productOffset,e.limit=this.limit,e.keyword=this.Productkeyword,e.sku="",e.status=1,e.price=0,e.isRefresh=!1,this.sandbox.getProductList(e)}onProductScrollDown(){this.productOffset+=this.limit,this.getProductList()}getCategoryList(){const e={};e.limit=this.limit,e.offset=this.catOffset,e.count=0,e.keyword=this.categorykeyword,e.sortOrder=0,e.status=1,e.isSearch=!1,this.sandbox.getCategoryList(e)}onCategoryScrollDown(){this.catOffset+=this.limit,this.getCategoryList()}widgetCancel(){this.router.navigate(["/cms/manage-content/widgets"],{queryParams:this.queryDetails})}initForm(){this.widgetsForm=this.fb.group({title:["",g.kI.compose([g.kI.required,g.kI.maxLength(255)])],position:["",g.kI.required],widgetSlug:[""],status:[null],content:[""],widgetlinkType:["2",g.kI.required],metaDescription:["",g.kI.compose([g.kI.maxLength(160)])],metaTitle:["",g.kI.compose([g.kI.maxLength(70)])],metaKeyword:["",g.kI.compose([g.kI.maxLength(255)])]})}onSubmit(){if(this.submitted=!0,!this.widgetsForm.valid)return this.validateAllFormFields(this.widgetsForm),void this.scrollToError();{if("1"===this.widgetsForm.value.widgetlinkType){if(0===this.selectedCategoryId.length)return this.categoryError=!0,void window.scrollTo(0,document.body.scrollHeight)}else if("2"===this.widgetsForm.value.widgetlinkType&&0===this.selectedProductId.length)return this.productError=!0,void window.scrollTo(0,document.body.scrollHeight);const e={};e.title=this.widgetsForm.value.title,e.position=+this.widgetsForm.value.position,e.status=1==this.statusValue?1:0,e.ShowHomePageWidget=1==this.setWidgets?1:0,e.metaTagTitle=this.widgetsForm.value.metaTitle,e.metaTagDescription=this.widgetsForm.value.metaDescription,e.metaTagKeyword=this.widgetsForm.value.metaKeyword,e.content=this.widgetsForm.value.content,e.widgetLinkType=+this.widgetsForm.value.widgetlinkType,e.refId="1"===this.widgetsForm.value.widgetlinkType?this.selectedCategoryId:"2"===this.widgetsForm.value.widgetlinkType?this.selectedProductId:[],this.editWidgetId?(e.widgetId=+this.editWidgetId,this.sandbox.updateWidget(e)):this.sandbox.addWidget(e),this.subscribe()}}subscribe(){this.subscriptions.push(this.editWidgetId?this.sandbox.updateWidget$.subscribe(e=>{e&&1===e.status&&this.router.navigate(["/cms/manage-content/widgets"],{queryParams:this.queryDetails})}):this.sandbox.getAddNewWidget$.subscribe(e=>{e&&1===e.status&&this.router.navigate(["/cms/manage-content/widgets"],{queryParams:this.queryDetails})}))}editWidgetData(){this.subscriptions.push(this.sandbox.getWidgetDetails$.subscribe(e=>{e&&Object.keys(e).length&&this.setWidget(e)}))}setWidget(e){this.selectedCategoryId=[],this.selectedProductId=[],this.widgetsForm.controls.title.setValue(e.widgetTitle),this.widgetsForm.controls.position.setValue(e.position),this.widgetsForm.controls.widgetSlug.setValue(e.widgetSlugName),this.statusValue=1==e.isActive,this.setWidgets=1==e.ShowHomePageWidget,this.widgetsForm.controls.metaTitle.setValue(e.metaTagTitle),this.widgetsForm.controls.metaDescription.setValue(e.metaTagDescription),this.widgetsForm.controls.metaKeyword.setValue(e.metaTagKeyword),1===e.widgetLinkType?(this.linkWidgetId=1,this.widgetsForm.controls.widgetlinkType.setValue("1"),e.refId&&e.refId.length>0&&e.refId.forEach(o=>{this.selectedCategoryId.push(o.categoryId)})):2===e.widgetLinkType&&(this.linkWidgetId=2,this.widgetsForm.controls.widgetlinkType.setValue("2"),e.refId&&e.refId.length>0&&e.refId.forEach(o=>{null!=o&&this.selectedProductId.push(o.productId)})),this.widgetsForm.controls.content.setValue(this.htmlTagConversion(e.widgetDescription))}get f(){return this.widgetsForm.controls}validateAllFormFields(e){Object.keys(e.controls).forEach(o=>{const s=e.get(o);s instanceof g.NI?s.markAsTouched({onlySelf:!0}):s instanceof g.cw&&this.validateAllFormFields(s)})}linkWidgetTo(e){this.linkWidgetId=+e.target.value,1===this.linkWidgetId?(this.selectedCategoryId=[],this.sandbox.clearSelectedProducts()):(this.selectedProductId=[],this.sandbox.clearSelectedCategories())}selectProduct(e,o){e.target.checked?this.selectedProductId.push(o.productId):this.selectedProductId=this.selectedProductId.filter(r=>r!==o.productId);const s={};s.checked=e.target.checked,s.product=o,this.sandbox.selectProduct(s)}searchProduct(e){this.Productkeyword=e,this.productOffset=0;const o={};o.offset=this.productOffset,o.limit=this.limit,o.keyword=this.Productkeyword,o.sku="",o.status=1,o.price=0,o.isRefresh=!0,this.sandbox.getProductList(o)}searchSelectedProduct(e){const o={};o.keyword=e,this.sandbox.searchSelectedProduct(o)}selectCategory(e,o){e.target.checked?this.selectedCategoryId.push(o.categoryId):this.selectedCategoryId=this.selectedCategoryId.filter(r=>r!==o.categoryId);const s={};s.checked=e.target.checked,s.category=o,this.sandbox.selectCategory(s)}searchCategory(e){this.categorykeyword=e,this.catOffset=0;const o={};o.limit=this.limit,o.offset=this.catOffset,o.count=0,o.keyword=this.categorykeyword,o.sortOrder=1,o.status=1,o.isSearch=!0,this.sandbox.getCategoryList(o)}searchSelectedCategory(e){const o={};o.keyword=e,this.sandbox.searchSelectedCategory(o)}htmlTagConversion(e){return e.replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&#39;","'").replaceAll("&sbquo;","\u201a").replaceAll("&#61;","=").replaceAll("&#45;","-").replaceAll("&hellip;","\u2026").replaceAll("&commat;","@").replaceAll("&copy;","\xa9").replaceAll("&#35;","#").replaceAll("&ldquo;","\u201c").replaceAll("&rsquo;","\u2019").replaceAll("&lsquo;","\u2018").replaceAll("&trade;","\u2122").replaceAll("&reg;","\xae").replaceAll("&ndash;","\u2013").replaceAll("&eacute;","\xe9").replaceAll("&euro;","\u20ac").replaceAll("&pound;","\xa3")}scrollTo(e){e&&e.scrollIntoView({behavior:"smooth",block:"center"})}scrollToError(){const e=document.querySelector(".ng-invalid[formControlName]");this.scrollTo(e)}ngOnDestroy(){this.sandbox.clear(),this.subscriptions.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Z.F0),t.Y36(g.qu),t.Y36(Z.gz),t.Y36(U),t.Y36(d.uU),t.Y36(ge._A),t.Y36(pe.U),t.Y36(et._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cms-widget-add"]],viewQuery:function(e,o){if(1&e&&t.Gf(Me,5),2&e){let s;t.iGM(s=t.CRH())&&(o.filePath=s.first)}},features:[t._Bn([d.uU])],decls:117,vars:85,consts:[["class","loading-data",4,"ngIf"],[1,"cms-page-add-wrapper"],[1,"cms-pa-container"],[3,"formGroup"],[1,"cms-group"],[1,"cms-grp-row"],[1,"cms-inp-group","form-group"],["type","text","formControlName","title",1,"form-control",3,"placeholder","ngClass"],["class","validation-error",4,"ngIf"],[1,"toggle"],["id","cb1","type","checkbox",1,"tgl","tgl-light",3,"ngModel","ngModelOptions","ngModelChange"],["for","cb1",1,"tgl-btn"],[1,"cms-group-split","flex"],["appOnlyNumber","","type","text","formControlName","position","maxlength","4",1,"form-control",3,"placeholder","ngClass"],["readonly","","type","text","formControlName","widgetSlug",1,"form-control",2,"pointer-events","none",3,"placeholder"],[1,"toggle",2,"margin-bottom","1.5rem"],["id","cb2","type","checkbox",1,"tgl","tgl-light",3,"ngModel","ngModelOptions","ngModelChange"],["for","cb2",1,"tgl-btn"],[1,"tgl-para"],[1,"cms-inp-group"],["formControlName","content",3,"config"],[1,"lb-row","flex"],[1,"lb-col",2,"margin-left","30px"],["type","radio","id","products","name","widgetlinkType","formControlName","widgetlinkType","value","2",2,"cursor","pointer",3,"change"],["for","products",2,"cursor","pointer","padding-left","12px"],["type","radio","id","category","name","widgetlinkType","value","1","formControlName","widgetlinkType",2,"cursor","pointer",3,"change"],["for","category",2,"cursor","pointer","padding-left","12px"],["class","lb-sp-row flex",4,"ngIf"],["type","text","formControlName","metaTitle",1,"form-control",3,"placeholder","ngClass"],["type","text","formControlName","metaDescription",1,"form-control",3,"placeholder","ngClass"],["type","text","formControlName","metaKeyword",1,"form-control",3,"placeholder","ngClass"],[1,"cmsbtn","flex"],[1,"button-reg","primary",3,"click"],[1,"button-reg","secondary",3,"click"],[1,"loading-data"],["src","./assets/loader/Spurt-commerce-Loader-2.1.gif",2,"height","10vh"],[1,"validation-error"],[1,"lb-sp-row","flex"],[1,"lbsp-col"],[1,"lb-search"],["type","text",3,"placeholder","keyup"],["pkey",""],["infinite-scroll","",1,"lbsp-chk",2,"height","300px",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","form-group",4,"ngFor","ngForOf"],[1,"lbsp-col","lbsp-col-rht"],[1,"lbsp-items"],["pskey",""],[1,"lbsp-chk"],[1,"form-group"],[1,"custom-control","custom-checkbox",2,"display","flex"],["type","checkbox",1,"custom-control-input",2,"cursor","inherit",3,"id","checked","change"],[1,"custom-control-label","mail-tooltip",2,"cursor","pointer",3,"for"],["ckey",""],["cskey",""],[1,"custom-control","custom-checkbox"]],template:function(e,o){1&e&&(t._UZ(0,"app-widgets-layout"),t.YNc(1,xe,2,0,"div",0),t.ALo(2,"async"),t.TgZ(3,"div",1)(4,"div",2)(5,"form",3)(6,"h3"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",4)(10,"h4"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"p"),t._uU(14,"Promotions are available for promoting particular products or categories of products on the home page, by displaying them to the visitors. Such a display can be given a title, e.g., hot summer offer, Christmas mega sale, etc. The title is recommended to be appealing enough to attract and induce the customers to click and navigate to the particular page to purchase the items."),t.qZA(),t.TgZ(15,"div",5)(16,"div",6),t._UZ(17,"input",7),t.ALo(18,"translate"),t.YNc(19,ye,3,3,"div",8),t.YNc(20,Pe,3,3,"div",8),t.qZA(),t.TgZ(21,"div",9)(22,"input",10),t.NdJ("ngModelChange",function(r){return o.statusValue=r}),t.qZA(),t._UZ(23,"label",11),t.qZA()()(),t.TgZ(24,"div",12)(25,"div",4)(26,"h4"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"p"),t._uU(30,"The Positions is in which order such as first or second or third in the list of promotions. A particular promotion\u2019s position can be defined here. "),t.qZA(),t.TgZ(31,"div",6),t._UZ(32,"input",13),t.ALo(33,"translate"),t.YNc(34,be,3,3,"div",8),t.qZA()()(),t.TgZ(35,"div",12)(36,"div",4)(37,"h4"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"p"),t._uU(41,"A slug is the part of a URL that identifies a particular widget's details on a website in an easy-to-read form. In other words, it's the part of the URL that explains the widget's content. "),t.qZA(),t.TgZ(42,"div",6),t._UZ(43,"input",14),t.ALo(44,"translate"),t.qZA()()(),t.TgZ(45,"div")(46,"div",15)(47,"input",16),t.NdJ("ngModelChange",function(r){return o.setWidgets=r}),t.qZA(),t._UZ(48,"label",17),t.TgZ(49,"p",18),t._uU(50,"Display Widget in storefront"),t.qZA()()(),t.TgZ(51,"div",4)(52,"h4"),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"p"),t._uU(56,"A description can be provided for the promotion with content"),t.qZA(),t.TgZ(57,"div",19),t._UZ(58,"ckeditor",20),t.qZA()(),t.TgZ(59,"h3"),t._uU(60,"Mapping products/categories"),t.qZA(),t.TgZ(61,"div",4)(62,"p"),t._uU(63,"In this section, you can map a particular promotion to a category or some products. You can choose either category or the list of products individually. "),t.qZA()(),t.TgZ(64,"div",21)(65,"div",22)(66,"input",23),t.NdJ("change",function(r){return o.linkWidgetTo(r)}),t.qZA(),t.TgZ(67,"label",24),t._uU(68),t.ALo(69,"translate"),t.qZA()(),t.TgZ(70,"div",22)(71,"input",25),t.NdJ("change",function(r){return o.linkWidgetTo(r)}),t.qZA(),t.TgZ(72,"label",26),t._uU(73),t.ALo(74,"translate"),t.qZA()(),t.YNc(75,Ae,23,24,"div",27),t.YNc(76,Ie,23,24,"div",27),t.qZA(),t.TgZ(77,"h3"),t._uU(78,"SEO Settings"),t.qZA(),t.TgZ(79,"div",4)(80,"h4"),t._uU(81),t.ALo(82,"translate"),t.qZA(),t.TgZ(83,"p"),t._uU(84,"A meta title, also known as a title tag, refers to the text that is displayed on search engine result pages and browser tabs to indicate the topic of a webpage. The recommended characters for meta title is between 60 to 70 characters, with spacing. "),t.qZA(),t.TgZ(85,"div",6),t._UZ(86,"input",28),t.ALo(87,"translate"),t.YNc(88,De,3,3,"div",8),t.YNc(89,ke,3,3,"div",8),t.qZA()(),t.TgZ(90,"div",4)(91,"h4"),t._uU(92),t.ALo(93,"translate"),t.qZA(),t.TgZ(94,"p"),t._uU(95,"A meta description is an HTML element that provides a brief summary of a web page. A page's meta description tag is displayed as part of the search snippet in a search engine results page (SERP) and is meant to give the user an idea of the content that exists within the page and how it relates to their search query. The recommended characters for meta title is between 160 to 170 characters, with spacing."),t.qZA(),t.TgZ(96,"div",6),t._UZ(97,"input",29),t.ALo(98,"translate"),t.YNc(99,Ue,3,3,"div",8),t.YNc(100,qe,3,3,"div",8),t.qZA()(),t.TgZ(101,"div",4)(102,"h4"),t._uU(103),t.ALo(104,"translate"),t.qZA(),t.TgZ(105,"p"),t._uU(106,"Meta Keywords are a specific type of meta tag that appear in the HTML code of a Web page and help tell search engines what the topic of the page is. The recommended characters for meta title is between 250 characters, with spacing. And, make sure each keyword is separated with a comma. Also, the keywords can be a mix of both short tail keywords and long tail keywords (phrases with 2 to 3 words)."),t.qZA(),t.TgZ(107,"div",6),t._UZ(108,"input",30),t.ALo(109,"translate"),t.YNc(110,Fe,3,3,"div",8),t.YNc(111,Ee,3,3,"div",8),t.qZA()(),t.TgZ(112,"div",31)(113,"button",32),t.NdJ("click",function(){return o.onSubmit()}),t._uU(114,"Save"),t.qZA(),t.TgZ(115,"button",33),t.NdJ("click",function(){return o.widgetCancel()}),t._uU(116,"Cancel"),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,39,o.sandbox.productListLoading$)),t.xp6(4),t.Q6J("formGroup",o.widgetsForm),t.xp6(2),t.Oqu(t.lcZ(8,41,"CMS.Pages.GeneralInformation")),t.xp6(4),t.hij("",t.lcZ(12,43,"CMS.Promotions.WidgetsTitle")," "),t.xp6(6),t.MGl("placeholder"," ",t.lcZ(18,45,"CMS.Widgets.WidgetsTitle"),""),t.Q6J("ngClass",t.VKq(73,I,o.submitted&&o.widgetsForm.controls.title.errors)),t.xp6(2),t.Q6J("ngIf",o.widgetsForm.get("title").hasError("required")&&1==o.submitted),t.xp6(1),t.Q6J("ngIf",o.widgetsForm.get("title").hasError("maxlength")),t.xp6(2),t.Q6J("ngModel",o.statusValue)("ngModelOptions",t.DdM(75,it)),t.xp6(5),t.Oqu(t.lcZ(28,47,"CMS.Widgets.Position")),t.xp6(5),t.s9C("placeholder",t.lcZ(33,49,"CMS.Widgets.Position")),t.Q6J("ngClass",t.VKq(76,I,o.submitted&&o.widgetsForm.controls.position.errors)),t.xp6(2),t.Q6J("ngIf",o.widgetsForm.get("position").hasError("required")&&1==o.submitted),t.xp6(4),t.Oqu(t.lcZ(39,51,"CMS.Widgets.WidgetSlug")),t.xp6(5),t.s9C("placeholder",t.lcZ(44,53,"CMS.Widgets.WidgetSlug")),t.xp6(4),t.Q6J("ngModel",o.setWidgets)("ngModelOptions",t.DdM(78,it)),t.xp6(6),t.Oqu(t.lcZ(54,55,"CMS.Promotions.WidgetContent")),t.xp6(5),t.Q6J("config",o.config),t.xp6(10),t.Oqu(t.lcZ(69,57,"Sales.Orders.Products")),t.xp6(5),t.Oqu(t.lcZ(74,59,"CMS.Widgets.Category")),t.xp6(2),t.Q6J("ngIf",2===o.linkWidgetId),t.xp6(1),t.Q6J("ngIf",1===o.linkWidgetId),t.xp6(5),t.Oqu(t.lcZ(82,61,"CMS.Widgets.MetaTitle")),t.xp6(5),t.s9C("placeholder",t.lcZ(87,63,"CMS.Widgets.MetaTitle")),t.Q6J("ngClass",t.VKq(79,I,o.submitted&&o.widgetsForm.controls.metaTitle.errors)),t.xp6(2),t.Q6J("ngIf",o.widgetsForm.get("metaTitle").hasError("required")&&1==o.submitted),t.xp6(1),t.Q6J("ngIf",o.widgetsForm.controls.metaTitle.hasError("maxlength")&&o.submitted),t.xp6(3),t.Oqu(t.lcZ(93,65,"CMS.Widgets.MetaDescription")),t.xp6(5),t.s9C("placeholder",t.lcZ(98,67,"CMS.Widgets.MetaDescription")),t.Q6J("ngClass",t.VKq(81,I,o.submitted&&o.widgetsForm.controls.metaDescription.errors)),t.xp6(2),t.Q6J("ngIf",o.widgetsForm.get("metaDescription").hasError("required")&&1==o.submitted),t.xp6(1),t.Q6J("ngIf",o.widgetsForm.controls.metaDescription.hasError("maxlength")&&o.submitted),t.xp6(3),t.Oqu(t.lcZ(104,69,"CMS.Pages.MetaKeyword")),t.xp6(5),t.s9C("placeholder",t.lcZ(109,71,"CMS.Pages.MetaKeyword")),t.Q6J("ngClass",t.VKq(83,I,o.submitted&&o.widgetsForm.controls.metaKeyword.errors)),t.xp6(2),t.Q6J("ngIf",o.widgetsForm.get("metaKeyword").hasError("required")&&1==o.submitted),t.xp6(1),t.Q6J("ngIf",o.widgetsForm.controls.metaKeyword.hasError("maxlength")&&o.submitted))},directives:[ot,d.O5,g._Y,g.JL,g.sg,g.Fj,g.JJ,g.u,d.mk,g.Wl,g.On,ve.p,g.nD,N.ue,g._,Et,d.sg],pipes:[d.Ov,L.X$],styles:[".hint[_ngcontent-%COMP%]{font-family:Roboto;font-size:12px;font-weight:400;font-style:italic;font-stretch:normal;line-height:1.17;letter-spacing:normal;text-align:left;color:#888;float:right}.products-sub-section[_ngcontent-%COMP%]{margin-top:0!important}.cms-page-add-wrapper[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 170px);background-color:#f7f7f7;padding:35px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]{max-width:850px;width:100%;margin:auto}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000;margin:0 0 20px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]{margin-bottom:31px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#222;margin:0 0 8px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#948f8f;margin:0 0 15px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   .cms-inp-group[_ngcontent-%COMP%]{width:100%}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   .cms-inp-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:300px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   .cms-grp-row[_ngcontent-%COMP%]{width:100%;position:relative;display:flex;justify-content:space-between;align-items:center;flex-direction:row}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   .cms-grp-row[_ngcontent-%COMP%]   .cms-inp-group[_ngcontent-%COMP%]{width:calc(100% - 60px)}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-blog-image[_ngcontent-%COMP%]{width:100%;padding:11px 30px;justify-content:space-between;align-items:flex-start;background:#fff;min-height:102px;margin-bottom:50px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-blog-image[_ngcontent-%COMP%]   .cmsbi-row[_ngcontent-%COMP%]{width:calc(100% - 200px);justify-content:space-between;align-items:flex-start}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-blog-image[_ngcontent-%COMP%]   .cmsbi-row[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:10px 0;font-size:14px;font-weight:500;color:#222}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-blog-image[_ngcontent-%COMP%]   .cmsbi-row[_ngcontent-%COMP%]   .cmsbir-col[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;align-items:center}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-blog-image[_ngcontent-%COMP%]   .cmsbi-row[_ngcontent-%COMP%]   .cmsbir-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#948f8f;margin:0;width:calc(100% - 180px)}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-blog-image[_ngcontent-%COMP%]   .cmsbi-row[_ngcontent-%COMP%]   .cmsbir-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:135px;height:35px;position:relative;display:flex;justify-content:center;align-items:center;border-radius:3px;background-color:#3585ed;font-size:14px;font-weight:400;color:#fff}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-blog-image[_ngcontent-%COMP%]   .cmsbi-row[_ngcontent-%COMP%]   .cmsbir-col[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0;z-index:1;font-size:0;cursor:pointer}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-blog-image[_ngcontent-%COMP%]   .cmsbi-addimg[_ngcontent-%COMP%]{width:137px;position:relative}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-blog-image[_ngcontent-%COMP%]   .cmsbi-addimg[_ngcontent-%COMP%]   img.cmsbiaimg[_ngcontent-%COMP%]{width:100%}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-blog-image[_ngcontent-%COMP%]   .cmsbi-addimg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-5px;z-index:1;background-color:#fff;border-radius:50%;width:16px;aspect-ratio:1}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-blog-image[_ngcontent-%COMP%]   .cmsbi-addimg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .addproduct-wrap[_ngcontent-%COMP%]{padding:0;margin-bottom:60px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .addproduct-wrap[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none;background-color:transparent;border:0}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .addproduct-wrap[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .ap-body[_ngcontent-%COMP%]{width:100%;padding:0}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .addproduct-wrap[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .ap-body[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:0}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .addproduct-wrap[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .ap-body[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .categories-row[_ngcontent-%COMP%]   .categories-col[_ngcontent-%COMP%]{border:0}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .addproduct-wrap[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .ap-body[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .categories-row[_ngcontent-%COMP%]   .categories-col[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:10px 0}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .addproduct-wrap[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .ap-body[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .categories-row[_ngcontent-%COMP%]   .categories-col[_ngcontent-%COMP%]   .cat-col-blog[_ngcontent-%COMP%]{width:100%;box-shadow:0 2px 4px #00000016;border:solid 1px #c0c0c0;background-color:#fff}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .addproduct-wrap[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .ap-body[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .categories-row[_ngcontent-%COMP%]   .categories-col[_ngcontent-%COMP%]   .cat-col-blog[_ngcontent-%COMP%]   .search-categories[_ngcontent-%COMP%]{padding:0;border-bottom:1px solid #ced4da;margin:0}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .addproduct-wrap[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .ap-body[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .categories-row[_ngcontent-%COMP%]   .categories-col[_ngcontent-%COMP%]   .cat-col-blog[_ngcontent-%COMP%]   .search-categories[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .addproduct-wrap[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .ap-body[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   .categories-row[_ngcontent-%COMP%]   .categories-col[_ngcontent-%COMP%]   .cat-col-blog[_ngcontent-%COMP%]   ul.category-list[_ngcontent-%COMP%]{height:280px;overflow-y:auto}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cmsbtn[_ngcontent-%COMP%]{width:100%;justify-content:center;align-items:center;gap:11px}.is-invalid[_ngcontent-%COMP%]{border-color:red!important}.tgl-para[_ngcontent-%COMP%]{margin-top:1rem;color:var(--bs-body-color);margin-left:.5rem;font-size:14px;font-weight:500;font-family:Open Sans,sans-serif!important}",".dark-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#009efb;color:#fff}.dark-modal[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#fff}.light-blue-backdrop[_ngcontent-%COMP%]{background-color:#5cb3fd}.image-manager[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{max-width:70%}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:#b282e7!important;border:#b282e7!important}"]}),n})();var Ne=a(9819),$e=a(2290),Je=a(3056),Ye=a(9113),He=a(3052),Qe=a(6642);function ze(n,i){1&n&&(t.ynx(0),t._UZ(1,"app-widgets-layout"),t.BQk())}function Ke(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5),t._UZ(2,"div",6),t.TgZ(3,"div",7)(4,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().addWidget()}),t._UZ(5,"img",9),t._uU(6),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"ul",10),t.qZA()()()}2&n&&(t.xp6(4),t.Q6J("appHideIfUnauthorized","add-widget"),t.xp6(2),t.hij("",t.lcZ(7,2,"CMS.Promotions.AddWidget")," "))}function Re(n,i){1&n&&(t.TgZ(0,"td",33)(1,"span",34),t._uU(2," In-Active "),t.qZA()())}function je(n,i){1&n&&(t.TgZ(0,"td",33)(1,"span",35),t._uU(2,"Active"),t.qZA()())}const rt=function(){return["widget-delete","edit-widget"]};function Be(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",26),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(3).editWidget(r)}),t._uU(2),t.qZA(),t.TgZ(3,"td",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(3).editWidget(r)}),t._uU(4),t.qZA(),t.YNc(5,Re,3,0,"td",28),t.YNc(6,je,3,0,"td",28),t.TgZ(7,"td",29)(8,"button",30),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(3).editWidget(r)}),t._UZ(9,"img",31),t.qZA(),t.TgZ(10,"button",30),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(3).deleteWidget(r.widgetId)}),t._UZ(11,"img",32),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",e.widgetTitle,""),t.xp6(2),t.Oqu(e.position),t.xp6(1),t.Q6J("ngIf",0===e.isActive),t.xp6(1),t.Q6J("ngIf",1===e.isActive),t.xp6(1),t.Q6J("multipleHide",t.DdM(7,rt)),t.xp6(1),t.Q6J("appHideIfUnauthorized","edit-widget"),t.xp6(2),t.Q6J("appHideIfUnauthorized","widget-delete")}}function Ge(n,i){if(1&n&&(t.TgZ(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th",23),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th",23),t._uU(10,"Status"),t.qZA(),t.TgZ(11,"th",24),t._uU(12),t.ALo(13,"translate"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,Be,12,8,"tr",25),t.ALo(16,"async"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,5,"CMS.Pages.Title")),t.xp6(3),t.Oqu(t.lcZ(8,7,"CMS.Banners.Position")),t.xp6(4),t.Q6J("multipleHide",t.DdM(13,rt)),t.xp6(1),t.Oqu(t.lcZ(13,9,"CMS.Banners.Action")),t.xp6(3),t.Q6J("ngForOf",t.lcZ(16,11,e.sandbox.widgetList$))}}function Ve(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",36),t._UZ(1,"img",37),t.TgZ(2,"p"),t._uU(3,"Items Not Found"),t.qZA(),t.TgZ(4,"button",38),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).addWidget()}),t._uU(5,"Add Promotion"),t.qZA()()}}const Xe=function(n){return[n]};function tn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-paginator",39),t.NdJ("page",function(s){return t.CHM(e),t.oxw(2).onPageChange(s)}),t.ALo(1,"async"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("length",t.lcZ(1,4,e.sandbox.widgetListCount$))("pageSize",e.pageSize)("pageIndex",e.index)("pageSizeOptions",t.VKq(6,Xe,e.pageSize))}}function en(n,i){if(1&n&&(t.TgZ(0,"div",11)(1,"div",12)(2,"div",13),t._UZ(3,"app-global-loader",14),t.ALo(4,"async"),t.qZA(),t.TgZ(5,"div",15),t.YNc(6,Ge,17,14,"table",16),t.ALo(7,"async"),t.YNc(8,Ve,6,0,"div",17),t.ALo(9,"async"),t.TgZ(10,"div",18),t._UZ(11,"div",19),t.YNc(12,tn,2,8,"mat-paginator",20),t.ALo(13,"async"),t.qZA()()()()),2&n){const e=t.oxw();let o,s,r;t.xp6(3),t.Q6J("isShow",t.lcZ(4,4,e.sandbox.widgetListLoading$)),t.xp6(3),t.Q6J("ngIf",(null==(o=t.lcZ(7,6,e.sandbox.widgetList$))?null:o.length)>0),t.xp6(2),t.Q6J("ngIf",0==(null==(s=t.lcZ(9,8,e.sandbox.widgetList$))?null:s.length)),t.xp6(4),t.Q6J("ngIf",(null==(r=t.lcZ(13,10,e.sandbox.widgetList$))?null:r.length)>0)}}function nn(n,i){1&n&&(t.TgZ(0,"div",40)(1,"div",41),t._UZ(2,"img",42),t.qZA(),t.TgZ(3,"div",43)(4,"h3"),t._uU(5,"Promotion Widget"),t.qZA(),t.TgZ(6,"p"),t._uU(7,"This feature is currently not active for you"),t.qZA(),t.TgZ(8,"h4"),t._uU(9,"To activate this feature"),t.qZA(),t.TgZ(10,"h5")(11,"i"),t._uU(12,"Goto : "),t.TgZ(13,"a",44),t._uU(14," Settings menu > AddOns > Widget "),t.qZA()()()()())}const on=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class n{constructor(e,o,s,r,l,m,f,w){this.toastr=e,this.router=o,this.configService=s,this.sandbox=r,this.modalService=l,this.route=m,this.titleService=f,this.config=w,this.pageSize="10",this.keyword="",this.offset=0,this.checkCondition=[],this.checkmodules=[],this.checkedData=[],this.unCheckData=[],this.subscriptions=[],this.queryData={},this.title="Promotion Widget"}ngOnInit(){this.titleService.setTitle(this.title),this.pageSize=sessionStorage.getItem("itemsPerPage")?sessionStorage.getItem("itemsPerPage"):this.pageSize,this.imageUrl=this.config.imageUrl,this.pagenationCount=!0,this.regSubscriptionEvents(),this.offset=this.route.snapshot.queryParamMap.get("offset")||0,this.index=this.route.snapshot.queryParamMap.get("index"),this.widgetList(),this.widgetListCount()}addWidget(){this.router.navigate(["/cms/manage-content/widgets/add"],{queryParams:this.queryData})}widgetList(){const e={};e.offset=this.offset,e.limit=this.pageSize,e.keyword=this.keyword,this.sandbox.getWidgetList(e),this.queryData.offset=this.offset||0,this.queryData.index=this.index||0,this.router.navigate([],{relativeTo:this.route,queryParams:this.queryData,queryParamsHandling:"merge"})}widgetListCount(){const e={};e.offset=this.offset,e.limit=this.pageSize,e.keyword=this.keyword,e.count=1,this.sandbox.getWidgetListCount(e)}onPageChange(e){this.currentPage=e.offset,this.pageSize=e.pageSize,this.index=e.pageIndex,this.offset=e.pageSize*e.pageIndex,this.widgetList()}editWidget(e){this.router.navigate(["/cms/manage-content/widgets/edit",e.widgetId],{queryParams:this.queryData})}deleteWidget(e){const o=this.modalService.open(Ne.j,{size:"sm",windowClass:"delete-confirm",backdrop:"static",backdropClass:"createcr"});o.componentInstance.key="",o.componentInstance.id="",o.result.then(s=>{"deleted"===s&&this.sandbox.deleteWidget({widgetId:e})})}regSubscriptionEvents(){this.subscriptions.push(this.sandbox.deleteWidget$.subscribe(e=>{e&&Object.keys(e).length&&e&&e.status&&1===e.status&&(this.widgetList(),this.widgetListCount(),this.sandbox.getWidgetCount())}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36($e._W),t.Y36(Z.F0),t.Y36(Je.E),t.Y36(U),t.Y36(nt.FF),t.Y36(Z.gz),t.Y36(X.Dx),t.Y36(et._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-spurt-cms-widget-list"]],decls:9,vars:14,consts:[[4,"ngIf"],["class","row products-section products-sub-section",4,"ngIf"],["class","flex product-wrap",4,"ngIf"],["class","cash-on-delivery flex",4,"ngIf"],[1,"row","products-section","products-sub-section"],[1,"flex","filter-row"],[1,"filter-lft"],[1,"filter-nav-list"],[1,"button-reg","primary",3,"appHideIfUnauthorized","click"],["src","assets/img/add-white-ico.png","alt","add"],[1,"flex"],[1,"flex","product-wrap"],[1,"product-table",2,"width","100%"],[1,"spinner-wrapper"],[2,"transform","translate(744%, 18%)","position","absolute",3,"isShow"],[1,"table-responsive"],["class","table",4,"ngIf"],["class","data-product-not-available",4,"ngIf"],[1,"flex","table-footer"],[1,"view-rec"],[3,"length","pageSize","pageIndex","pageSizeOptions","page",4,"ngIf"],[1,"table"],["scope","col"],["scope","col",1,"text-center"],["scope","col","width","100",1,"text-center",3,"appHideIfUnauthorized","multipleHide"],[4,"ngFor","ngForOf"],[2,"position","relative","cursor","pointer",3,"click"],[1,"text-center",2,"position","relative","cursor","pointer",3,"click"],["class","text-center",4,"ngIf"],[1,"text-center","action-btn",3,"appHideIfUnauthorized","multipleHide"],[3,"appHideIfUnauthorized","click"],["src","assets/img/edit.png","alt",""],["src","assets/img/delete-new.png","alt",""],[1,"text-center"],[1,"tags-action","tag-inactive"],[1,"tags-action","tag-active"],[1,"data-product-not-available"],["src","assets/img/empty-box.svg","alt",""],[3,"click"],[3,"length","pageSize","pageIndex","pageSizeOptions","page"],[1,"cash-on-delivery","flex"],[1,"cod-img"],["src","assets/img/circles-three-plus.svg","alt",""],[1,"cod-content"],["href","#/settings/add-on"]],template:function(e,o){if(1&e&&(t.YNc(0,ze,2,0,"ng-container",0),t.ALo(1,"async"),t.YNc(2,Ke,9,4,"div",1),t.ALo(3,"async"),t.ALo(4,"async"),t.YNc(5,en,14,12,"div",2),t.ALo(6,"async"),t.YNc(7,nn,15,0,"div",3),t.ALo(8,"async")),2&e){let s,r,l,m;t.Q6J("ngIf","you dont have access for it, please enable addon"!=(null==(s=t.lcZ(1,4,o.sandbox.widgetStatus$))?null:s.message)),t.xp6(2),t.Q6J("ngIf",(null==(r=t.lcZ(3,6,o.sandbox.widgetList$))?null:r.length)>0&&"you dont have access for it, please enable addon"!=(null==(r=t.lcZ(4,8,o.sandbox.widgetStatus$))?null:r.message)),t.xp6(3),t.Q6J("ngIf","you dont have access for it, please enable addon"!=(null==(l=t.lcZ(6,10,o.sandbox.widgetStatus$))?null:l.message)),t.xp6(2),t.Q6J("ngIf","you dont have access for it, please enable addon"==(null==(m=t.lcZ(8,12,o.sandbox.widgetStatus$))?null:m.message))}},directives:[d.O5,ot,Ye.E,He.A,d.sg,Qe.NW],pipes:[d.Ov,L.X$],styles:["",".dark-modal .modal-content{background-color:#009efb;color:#fff}.dark-modal .close{color:#fff}.light-blue-backdrop{background-color:#5cb3fd}.image-manager .modal-dialog{max-width:70%}\n"],encapsulation:2}),n})(),canActivate:[$.a],data:{permission:"widget-list",urls:[{title:"CMS",url:""},{title:"Manage Content",url:""},{title:"Page Widget",url:""},{title:"List",url:""}]}},{path:"add",component:st,canActivate:[$.a],data:{permission:"add-widget",urls:[{title:"CMS",url:""},{title:"Manage Content",url:""},{title:"Page Widget",url:""},{title:"Add",url:""}]}},{path:"edit/:id",component:st,canActivate:[$.a],data:{permission:"edit-widget",urls:[{title:"CMS",url:""},{title:"Manage Content",url:""},{title:"Page Widget",url:""},{title:"Update",url:""}]}}];let sn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Z.Bz.forChild(on)],Z.Bz]}),n})();var rn=a(7829),an=a(520);let cn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[tt,U,X.Dx],imports:[[d.ez,g.u5,g.UX,sn,$t,_.sQ.forFeature([P]),L.aw.forChild({loader:{provide:L.Zw,useFactory:rn.gS,deps:[an.eN]}}),Nt]]}),n})()},3052:(J,S,a)=>{a.d(S,{A:()=>W});var d=a(5e3),g=a(9932),t=a(9808);function v(y,C){1&y&&(d.TgZ(0,"div",1)(1,"div",2),d._UZ(2,"img",3),d.qZA()())}let W=(()=>{class y{constructor(x){this.httpStatus=x,this.subscriptions=[],this.loader=!1,this.getHttpResponse()}ngOnInit(){}getHttpResponse(){this.subscriptions.push(this.httpStatus.getHttpStatus().subscribe(x=>{this.loader=x}))}ngOnDestroy(){this.subscriptions.forEach(x=>x.unsubscribe())}}return y.\u0275fac=function(x){return new(x||y)(d.Y36(g.Z))},y.\u0275cmp=d.Xpm({type:y,selectors:[["app-global-loader"]],inputs:{isShow:"isShow"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],["width","80px","height","80px","src","./assets/loader/Spurt-commerce-Loader-2.1.gif"]],template:function(x,q){1&x&&d.YNc(0,v,3,0,"div",0),2&x&&d.Q6J("ngIf",q.isShow)},directives:[t.O5],styles:['#loader[_ngcontent-%COMP%]{bottom:0;height:175px;left:0;margin:auto;position:absolute;right:0;top:0;width:175px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{bottom:0;height:100%;left:0;margin:auto;position:absolute;right:0;top:0;width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:before{border-radius:100%;content:"";height:87.5px;left:0;position:absolute;right:0;top:0;transform:scale(0);width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1){transform:rotate(45deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1):before{animation:.8s linear .1s normal none infinite running load;background:#00ff80 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2){transform:rotate(90deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2):before{animation:.8s linear .2s normal none infinite running load;background:#00ffea none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3){transform:rotate(135deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3):before{animation:.8s linear .3s normal none infinite running load;background:#00aaff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4){transform:rotate(180deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4):before{animation:.8s linear .4s normal none infinite running load;background:#0040ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5){transform:rotate(225deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5):before{animation:.8s linear .5s normal none infinite running load;background:#2a00ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6){transform:rotate(270deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6):before{animation:.8s linear .6s normal none infinite running load;background:#9500ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7){transform:rotate(315deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7):before{animation:.8s linear .7s normal none infinite running load;background:magenta none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8){transform:rotate(360deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8):before{animation:.8s linear .8s normal none infinite running load;background:#ff0095 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{background-position:50% 50%;background-repeat:no-repeat;bottom:-40px;height:20px;left:0;position:absolute;right:0;width:180px}@keyframes load{to{opacity:0;transform:scale(1)}}.spinner-message[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{text-align:center}']}),y})()},9819:(J,S,a)=>{a.d(S,{j:()=>t});var d=a(5e3),g=a(6393);let t=(()=>{class v{constructor(y){this.activeModal=y}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key||"product"===this.key||this.activeModal.close("deleted")}}return v.\u0275fac=function(y){return new(y||v)(d.Y36(g.Kz))},v.\u0275cmp=d.Xpm({type:v,selectors:[["app-delete-confirmation-dialog"]],decls:12,vars:0,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true",2,"background-color","white"],["src","assets/img/info-triangle.svg"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(y,C){1&y&&(d.TgZ(0,"div",0)(1,"button",1),d.NdJ("click",function(){return C.close()}),d.TgZ(2,"span",2),d._uU(3,"\xd7"),d.qZA()(),d.TgZ(4,"h4"),d._UZ(5,"img",3),d._uU(6," Do You Want To Delete? "),d.qZA(),d.TgZ(7,"div",4)(8,"button",5),d.NdJ("click",function(){return C.close()}),d._uU(9," No "),d.qZA(),d.TgZ(10,"button",6),d.NdJ("click",function(){return C.deleteContent()}),d._uU(11," Yes "),d.qZA()()())},styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px;border:none}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}"]}),v})()}}]);