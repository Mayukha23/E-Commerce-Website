"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[5939],{5939:(b,h,r)=>{r.r(h),r.d(h,{AddonModule:()=>Q});var d=r(9291),a=r(3075),t=r(5e3),m=r(6393),f=r(3056),g=r(9900);let u=(()=>{class e extends g.V{constructor(){super(...arguments),this.params={},this.basUrl=this.getBaseUrl()}pluginList(n){return this.http.get(this.basUrl+"/plugins/list",{params:n})}pluginDetail(n){return this.http.get(this.basUrl+"/plugins/detail/"+n.id,{params:n})}updatePluginSetting(n,o){return this.http.post(this.basUrl+n,o)}updatePluginStatus(n,o){return this.http.put(this.basUrl+"/plugins/update/plugin-status/"+n,o)}}return e.\u0275fac=function(){let s;return function(o){return(s||(s=t.n5z(e)))(o||e)}}(),e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=r(9808);function _(e,s){if(1&e&&(t.TgZ(0,"label",18),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.label)}}const x=function(e){return{"is-invalid":e}};function y(e,s){if(1&e&&t._UZ(0,"input",19),2&e){const n=t.oxw().$implicit,o=t.oxw(2);t.Q6J("type",n.type)("formControlName",n.name)("value",n.value)("ngClass",t.VKq(4,x,o.submitted&&o.f.countryName.errors))}}function P(e,s){if(1&e&&(t.TgZ(0,"div",20),t._UZ(1,"input",21)(2,"label",22),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("formControlName",n.name)("checked",n.value)}}const O=function(){return["text","number"]};function M(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"div",13)(2,"div",14),t.YNc(3,_,2,1,"label",15),t.YNc(4,y,1,6,"input",16),t.YNc(5,P,3,2,"div",17),t.qZA()(),t.BQk()),2&e){const n=s.$implicit;t.xp6(3),t.Q6J("ngIf",""!==n.label),t.xp6(1),t.Q6J("ngIf",t.DdM(3,O).includes(n.type)),t.xp6(1),t.Q6J("ngIf","checkbox"===n.type)}}function A(e,s){if(1&e&&(t.TgZ(0,"div",8),t.YNc(1,M,6,4,"ng-container",9),t.TgZ(2,"div",10)(3,"div",11)(4,"button",12),t._uU(5,"Submit"),t.qZA()()()()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==n.jsonFormData?null:n.jsonFormData.controls)}}let Z=(()=>{class e{constructor(n,o,i,p,l,v,q,E){this.modalService=n,this.fb=o,this.changeDetectRef=i,this.route=p,this.router=l,this.configService=v,this.paymentService=q,this.cd=E,this.myForm=this.fb.group({})}ngOnInit(){this.paymentService.pluginDetail({id:this.pluginId}).subscribe({next:n=>{this.pluginFormControl=n.data,this.createForm(this.pluginFormControl.controls)},error:n=>{}})}createForm(n){this.jsonFormData={controls:n};for(const o of n){const i=[];if(o.validators)for(const[p,l]of Object.entries(o.validators))switch(p){case"min":i.push(a.kI.min(l));break;case"max":i.push(a.kI.max(l));break;case"required":l&&i.push(a.kI.required);break;case"requiredTrue":l&&i.push(a.kI.requiredTrue);break;case"email":l&&i.push(a.kI.email);break;case"minLength":i.push(a.kI.minLength(l));break;case"maxLength":i.push(a.kI.maxLength(l));break;case"pattern":i.push(a.kI.pattern(l));break;case"nullValidator":l&&i.push(a.kI.nullValidator)}this.myForm.addControl(o.name,this.fb.control(o.value,i))}}onSubmit(){this.myForm.valid?this.paymentService.updatePluginSetting(this.pluginFormControl.postRoute,this.myForm.value).subscribe({next:n=>{this.modalService.dismiss(!0)},error:n=>{}}):this.validateAllFormFields(this.myForm)}close(){this.modalService.close("close")}validateAllFormFields(n){Object.keys(n.controls).forEach(o=>{const i=n.get(o);i instanceof a.NI?i.markAsTouched({onlySelf:!0}):i instanceof a.cw&&this.validateAllFormFields(i)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.Kz),t.Y36(a.qu),t.Y36(t.sBO),t.Y36(d.gz),t.Y36(d.F0),t.Y36(f.E),t.Y36(u),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-addon-config-add"]],decls:9,vars:2,consts:[[1,"flex","setting2-inner-header"],[1,"modal-header__title"],[1,"close-modal",3,"click"],["src","assets/img/modal-close.svg"],[1,"settings-right-wrapper","addnewuser"],[1,"new-user"],[3,"formGroup","ngSubmit"],["class","row",4,"ngIf"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-12"],[1,"modal-action-btns","flex"],["type","submit"],[1,"col-lg-12","col-xs-12"],[1,"form-group","flex"],["style","width: auto; margin-right: 15px;",4,"ngIf"],["class","form-control",3,"type","formControlName","value","ngClass",4,"ngIf"],["class","toggle",4,"ngIf"],[2,"width","auto","margin-right","15px"],[1,"form-control",3,"type","formControlName","value","ngClass"],[1,"toggle"],["id","cb1","type","checkbox",1,"tgl","tgl-light",3,"formControlName","checked"],["for","cb1",1,"tgl-btn"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2," Update Settings "),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.close()}),t._UZ(4,"img",3),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"form",6),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.YNc(8,A,6,1,"div",7),t.qZA()()()),2&n&&(t.xp6(7),t.Q6J("formGroup",o.myForm),t.xp6(1),t.Q6J("ngIf",(null==o.jsonFormData?null:o.jsonFormData.controls)&&(null==o.jsonFormData?null:o.jsonFormData.controls.length)>0))},directives:[a._Y,a.JL,a.sg,c.O5,c.sg,a.Fj,a.JJ,a.u,c.mk,a.Wl],styles:[""]}),e})();var T=r(3052);function F(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div")(1,"button",27),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().$implicit;return t.oxw(2).configurePlugin(i.id)}),t._UZ(2,"img",28),t.qZA()()}}function k(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td",22)(7,"div",23)(8,"input",24),t.NdJ("ngModelChange",function(i){return t.CHM(n).$implicit.pluginStatus=i})("change",function(i){const l=t.CHM(n).$implicit;return t.oxw(2).onFilterChange(i,l)}),t.qZA(),t._UZ(9,"label",25),t.qZA()(),t.TgZ(10,"td",26),t.YNc(11,F,3,0,"div",20),t.qZA()(),t.BQk()}if(2&e){const n=s.$implicit,o=s.index;t.xp6(3),t.Oqu(n.pluginName),t.xp6(2),t.Oqu(n.pluginType),t.xp6(3),t.s9C("id",o),t.Q6J("ngModel",n.pluginStatus),t.xp6(1),t.s9C("for",o),t.xp6(2),t.Q6J("ngIf",1==n.isEditable)}}function S(e,s){if(1&e&&(t.ynx(0),t.YNc(1,k,12,6,"ng-container",21),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.pluginList)}}let L=(()=>{class e{constructor(n,o,i,p){this.modal=n,this.router=o,this.paymentService=i,this.cd=p,this.pluginListLoading=!1,this.pluginListLoading=!0}ngOnInit(){this.paymentService.pluginList({}).subscribe({next:n=>{this.pluginListLoading=!1,this.pluginList=n.data,this.cd.markForCheck()},error:n=>{}})}configurePlugin(n){const o=this.modal.open(Z,{windowClass:"add-local",keyboard:!1,backdrop:"static",centered:!1,animation:!1});o.componentInstance.pluginId=n,o.result.then(i=>{})}onFilterChange(n,o){!0===n.target.checked?this.paymentService.updatePluginStatus(o.id,{pluginStatus:"1"}).subscribe({next:l=>{this.cd.markForCheck()},error:l=>{}}):this.paymentService.updatePluginStatus(o.id,{pluginStatus:"0"}).subscribe({next:l=>{this.cd.markForCheck()},error:l=>{}})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.FF),t.Y36(d.F0),t.Y36(u),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-settings-addon-list"]],decls:36,vars:2,consts:[[1,"setup-wrapper"],[1,"setup-container","localization-container"],[1,"loc-lay-title"],[1,"page-title"],[1,"text14"],[1,"card","ap-general","ap-info","set-loc-card"],[1,"localize-tab"],[1,"set-lay-notes","flex",2,"padding","0 10px 10px 10px"],[1,"setup-wrapper","set-loc-wrapper"],[1,"card","ap-general","ap-info"],[1,"flex","ap-body"],[1,"setup-right"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(58%, 18%)","position","absolute",3,"isShow"],[1,"product-table"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col",1,"text-center"],["scope","col",1,"text-right"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"toggle"],["type","checkbox",1,"tgl","tgl-light",3,"id","ngModel","ngModelChange","change"],[1,"tgl-btn",3,"for"],[1,"text-right","action-btn"],[3,"click"],["src","assets/img/edit.png","alt",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4,"AddOns"),t.qZA(),t.TgZ(5,"p",4),t._uU(6,"AddOns is the adaptation of the eCommerce business to a certain payment gateway "),t.qZA()(),t.TgZ(7,"div",5),t._UZ(8,"div",6),t.qZA()()(),t.TgZ(9,"div",7)(10,"h4"),t._uU(11,"Note :"),t.qZA(),t.TgZ(12,"p"),t._uU(13,"The Admin can choose to configure any of these available add-ons."),t.qZA()(),t.TgZ(14,"div",8)(15,"div",1)(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12),t._UZ(20,"app-global-loader",13),t.qZA(),t.TgZ(21,"div",14)(22,"div",15)(23,"table",16)(24,"thead")(25,"tr")(26,"th",17),t._uU(27," Name "),t.qZA(),t.TgZ(28,"th",17),t._uU(29,"Module"),t.qZA(),t.TgZ(30,"th",18),t._uU(31,"Status"),t.qZA(),t.TgZ(32,"th",19),t._uU(33," Action"),t.qZA()()(),t.TgZ(34,"tbody"),t.YNc(35,S,2,1,"ng-container",20),t.qZA()()()()()()()()()),2&n&&(t.xp6(20),t.Q6J("isShow",o.pluginListLoading),t.xp6(15),t.Q6J("ngIf",o.pluginList))},directives:[T.A,c.O5,c.sg,a.Wl,a.JJ,a.On],styles:[".setup-wrapper[_ngcontent-%COMP%]{margin-top:-20px;padding:0 20px 20px}[_nghost-%COMP%]{width:calc(100% - 250px)}"]}),e})();var I=r(2476),U=r(520),w=r(5979),C=r(4218),J=r(8300),N=r(3675),Y=r(6693);const D=[{path:"",component:L,canActivate:[J.a],data:{root:"settingsLocal"}}];let Q=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[],imports:[[d.Bz.forChild(D),N.o,a.u5,a.UX,Y.q,I.K,c.ez,m.IJ,C.aw.forChild({loader:{provide:C.Zw,useFactory:w.gS,deps:[U.eN]}})],d.Bz]}),e})()},3052:(b,h,r)=>{r.d(h,{A:()=>f});var d=r(5e3),a=r(9932),t=r(9808);function m(g,u){1&g&&(d.TgZ(0,"div",1)(1,"div",2),d._UZ(2,"img",3),d.qZA()())}let f=(()=>{class g{constructor(c){this.httpStatus=c,this.subscriptions=[],this.loader=!1,this.getHttpResponse()}ngOnInit(){}getHttpResponse(){this.subscriptions.push(this.httpStatus.getHttpStatus().subscribe(c=>{this.loader=c}))}ngOnDestroy(){this.subscriptions.forEach(c=>c.unsubscribe())}}return g.\u0275fac=function(c){return new(c||g)(d.Y36(a.Z))},g.\u0275cmp=d.Xpm({type:g,selectors:[["app-global-loader"]],inputs:{isShow:"isShow"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],["width","80px","height","80px","src","./assets/loader/Spurt-commerce-Loader-2.1.gif"]],template:function(c,_){1&c&&d.YNc(0,m,3,0,"div",0),2&c&&d.Q6J("ngIf",_.isShow)},directives:[t.O5],styles:['#loader[_ngcontent-%COMP%]{bottom:0;height:175px;left:0;margin:auto;position:absolute;right:0;top:0;width:175px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{bottom:0;height:100%;left:0;margin:auto;position:absolute;right:0;top:0;width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:before{border-radius:100%;content:"";height:87.5px;left:0;position:absolute;right:0;top:0;transform:scale(0);width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1){transform:rotate(45deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1):before{animation:.8s linear .1s normal none infinite running load;background:#00ff80 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2){transform:rotate(90deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2):before{animation:.8s linear .2s normal none infinite running load;background:#00ffea none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3){transform:rotate(135deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3):before{animation:.8s linear .3s normal none infinite running load;background:#00aaff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4){transform:rotate(180deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4):before{animation:.8s linear .4s normal none infinite running load;background:#0040ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5){transform:rotate(225deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5):before{animation:.8s linear .5s normal none infinite running load;background:#2a00ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6){transform:rotate(270deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6):before{animation:.8s linear .6s normal none infinite running load;background:#9500ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7){transform:rotate(315deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7):before{animation:.8s linear .7s normal none infinite running load;background:magenta none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8){transform:rotate(360deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8):before{animation:.8s linear .8s normal none infinite running load;background:#ff0095 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{background-position:50% 50%;background-repeat:no-repeat;bottom:-40px;height:20px;left:0;position:absolute;right:0;width:180px}@keyframes load{to{opacity:0;transform:scale(1)}}.spinner-message[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{text-align:center}']}),g})()}}]);