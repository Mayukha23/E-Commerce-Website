"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[5864],{5864:(M,S,r)=>{r.r(S),r.d(S,{PageGroupModule:()=>qt});var g=r(9808),y=r(3675),P=r(3075),v=r(2313),c=r(2596),l=r(655),_=r(9646),u=r(4004),d=r(3900),s=r(5115),G=r(262),t=r(5e3),N=r(9900);let O=(()=>{class o extends N.V{constructor(){super(...arguments),this.params={},this.url=this.getBaseUrl()}getpageslist(e){let n={};return n=e,this.http.get(this.url+"/page-group",{params:n})}Addpages(e){return this.http.post(this.url+"/page-group",e)}updatepages(e){return this.http.put(this.url+"/page-group/"+e.id,e)}deletepageslist(e,n){return this.http.delete(this.url+"/page-group/"+e.id)}pagesBulkDelete(e){return this.http.post(this.url+"/page/delete-pages",e)}getPageCount(){return this.http.get(this.url+"/page/page-count")}getpageDetails(e){return this.http.get(this.url+"/page-group/get-page-group/"+e.id)}getPageGroupCount(){return this.http.get(this.url+"/page-group/pagegroup-count")}}return o.\u0275fac=function(){let p;return function(n){return(p||(p=t.n5z(o)))(n||o)}}(),o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var U=r(7319);class C{constructor(p,e,n){this.action$=p,this.apiCli=e,this.appState=n,this.doPageGroupList$=this.action$.pipe((0,c.l4)(s.MF.DO_PAGES_GROUP_LIST_ACTION),(0,u.U)(a=>a.payload),(0,d.w)(a=>this.apiCli.getpageslist(a).pipe((0,d.w)(i=>[new s.Vd(i)]),(0,G.K)(i=>(0,_.of)(new s.sr(i)))))),this.doPageGroupCountList$=this.action$.pipe((0,c.l4)(s.MF.DO_PAGES_GROUP_COUNT_LIST_ACTION),(0,u.U)(a=>a.payload),(0,d.w)(a=>this.apiCli.getpageslist(a).pipe((0,d.w)(i=>[new s.X$(i)]),(0,G.K)(i=>(0,_.of)(new s.Do(i)))))),this.activePageCount$=this.action$.pipe((0,c.l4)(s.MF.GET_ACTIVE_COUNT),(0,u.U)(a=>a.payload),(0,d.w)(a=>this.apiCli.getpageslist(a).pipe((0,d.w)(i=>[new s.B_(i)]),(0,G.K)(i=>(0,_.of)(new s.o(i)))))),this.in_activePageCount$=this.action$.pipe((0,c.l4)(s.MF.GET_IN_ACTIVE_COUNT),(0,u.U)(a=>a.payload),(0,d.w)(a=>this.apiCli.getpageslist(a).pipe((0,d.w)(i=>[new s.t7(i)]),(0,G.K)(i=>(0,_.of)(new s.hN(i)))))),this.doAddPageGroupList$=this.action$.pipe((0,c.l4)(s.MF.DO_ADD_PAGES_GROUP_LIST),(0,u.U)(a=>a.payload),(0,d.w)(a=>this.apiCli.Addpages(a).pipe((0,u.U)(i=>new s.EP(i)),(0,G.K)(i=>(0,_.of)(new s.r(i)))))),this.doUpdatePageGroupList$=this.action$.pipe((0,c.l4)(s.MF.DO_UPDATE_PAGES_GROUP_LIST),(0,u.U)(a=>a.payload),(0,d.w)(a=>this.apiCli.updatepages(a).pipe((0,u.U)(b=>new s.NV(b)),(0,G.K)(b=>(0,_.of)(new s.zM(b)))))),this.doPageGroupDelete$=this.action$.pipe((0,c.l4)(s.MF.DO_PAGES_GROUP_DELETE),(0,u.U)(a=>a.payload),(0,d.w)(a=>this.apiCli.deletepageslist(a,a.pageId).pipe((0,d.w)(b=>[new s.LY(b)]),(0,G.K)(b=>(0,_.of)(new s.Zp(b)))))),this.doPageGroupBulkDelete$=this.action$.pipe((0,c.l4)(s.MF.DO_PAGES_GROUP_BULK_DELETE),(0,u.U)(a=>a.payload),(0,d.w)(a=>this.apiCli.pagesBulkDelete(a).pipe((0,d.w)(i=>[new s.Dj(i)]),(0,G.K)(i=>(0,_.of)(new s.TU(i)))))),this.pageCount$=this.action$.pipe((0,c.l4)(s.MF.GET_PAGE_COUNT),(0,u.U)(a=>a.payload),(0,d.w)(a=>this.apiCli.getPageCount().pipe((0,d.w)(i=>[new s.f0(i)]),(0,G.K)(i=>(0,_.of)(new s.Ms(i)))))),this.pageDetails$=this.action$.pipe((0,c.l4)(s.MF.GET_PAGE_DETAILS),(0,u.U)(a=>a.payload),(0,d.w)(a=>this.apiCli.getpageDetails(a).pipe((0,d.w)(i=>[new s.WL(i)]),(0,G.K)(i=>(0,_.of)(new s.GJ(i)))))),this.pageGroupCount$=this.action$.pipe((0,c.l4)(s.MF.GET_PAGE_GROUP_COUNT),(0,u.U)(a=>a.payload),(0,d.w)(a=>this.apiCli.getPageGroupCount().pipe((0,d.w)(i=>[new s.Zm(i)]),(0,G.K)(i=>(0,_.of)(new s.lt(i))))))}}C.\u0275fac=function(p){return new(p||C)(t.LFG(c.eX),t.LFG(O),t.LFG(U.yh))},C.\u0275prov=t.Yz7({token:C,factory:C.\u0275fac}),(0,l.gn)([(0,c.Qm)()],C.prototype,"doPageGroupList$",void 0),(0,l.gn)([(0,c.Qm)()],C.prototype,"doPageGroupCountList$",void 0),(0,l.gn)([(0,c.Qm)()],C.prototype,"activePageCount$",void 0),(0,l.gn)([(0,c.Qm)()],C.prototype,"in_activePageCount$",void 0),(0,l.gn)([(0,c.Qm)()],C.prototype,"doAddPageGroupList$",void 0),(0,l.gn)([(0,c.Qm)()],C.prototype,"doUpdatePageGroupList$",void 0),(0,l.gn)([(0,c.Qm)()],C.prototype,"doPageGroupDelete$",void 0),(0,l.gn)([(0,c.Qm)()],C.prototype,"doPageGroupBulkDelete$",void 0),(0,l.gn)([(0,c.Qm)()],C.prototype,"pageCount$",void 0),(0,l.gn)([(0,c.Qm)()],C.prototype,"pageDetails$",void 0),(0,l.gn)([(0,c.Qm)()],C.prototype,"pageGroupCount$",void 0);var h=r(5775),m=r(6721);const f=o=>o.pageGroup,k=(0,h.P1)(f,m.FM),J=(0,h.P1)(f,m.Xc),Y=(0,h.P1)(f,m.DI),Q=(0,h.P1)(f,m.kO),z=(0,h.P1)(f,m.qn),H=(0,h.P1)(f,m.u$),K=(0,h.P1)(f,m.f1),R=(0,h.P1)(f,m.Dq),j=(0,h.P1)(f,m.uz),B=(0,h.P1)(f,m.mY),V=(0,h.P1)(f,m.mC),W=(0,h.P1)(f,m.AM),X=((0,h.P1)(f,m.wW),(0,h.P1)(f,m.H8),(0,h.P1)(f,m.e3)),tt=(0,h.P1)(f,m.Hb),et=(0,h.P1)(f,m.X8),ot=((0,h.P1)(f,m.A3),(0,h.P1)(f,m.Pf)),at=(0,h.P1)(f,m.W8),nt=(0,h.P1)(f,m.fG);(0,h.P1)(f,m.ii);var x=r(9291),I=r(2290);let A=(()=>{class o{constructor(e,n,a){this.appState=e,this.router=n,this.toastr=a,this.subscriptions=[],this.pageGroupList$=this.appState.select(k),this.getpageGrouplistloading$=this.appState.select(J),this.getpageGrouplistloaded$=this.appState.select(Y),this.pageGroupListCount$=this.appState.select(Q),this.addPages$=this.appState.select(z),this.addPagesStatus$=this.appState.select(H),this.updatePages$=this.appState.select(K),this.pageGroupDelete$=this.appState.select(R),this.activePageCount$=this.appState.select(j),this.inactivePageCount$=this.appState.select(B),this.pageCount$=this.appState.select(V),this.pageCountLoading$=this.appState.select(W),this.pageDetails$=this.appState.select(X),this.pageDetailsLoading$=this.appState.select(tt),this.pageDetailsLoaded$=this.appState.select(et),this.pageGroupCount$=this.appState.select(ot),this.pageGroupCountLoading$=this.appState.select(at),this.pageGroupCountLoaded$=this.appState.select(nt),this.subscribe()}getPageGroupList(e){this.appState.dispatch(new s.cV(e))}updatePageGroupList(e){this.appState.dispatch(new s.rC(e))}getPagePagination(e){this.appState.dispatch(new s.ft(e))}getActivePageCount(e){this.appState.dispatch(new s.dl(e))}getInactivePageCount(e){this.appState.dispatch(new s.oQ(e))}addPageGroup(e){this.appState.dispatch(new s.F7(e))}deletePageGroupList(e){this.appState.dispatch(new s.V7(e))}bulkDelete(e){this.appState.dispatch(new s.I6(e))}getPageCount(){this.appState.dispatch(new s.wc)}getPageDetails(e){this.appState.dispatch(new s.MV(e))}getPageGroupCount(){this.appState.dispatch(new s.rN)}subscribe(){this.subscriptions.push(this.pageGroupDelete$.subscribe(e=>{e&&e.message&&1===e.status&&this.router.navigate(["/cms/page-group/list"])}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(U.yh),t.LFG(x.F0),t.LFG(I._W))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var D=r(8268),w=r(6393),L=r(4218);function it(o,p){1&o&&t._UZ(0,"span",10)}function st(o,p){if(1&o&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&o){const e=t.oxw(2);let n;t.xp6(1),t.Oqu(null==(n=t.lcZ(2,1,e.pageGroupSandbox.pageGroupCount$))?null:n.totalPage)}}function rt(o,p){1&o&&t._UZ(0,"span",10)}function pt(o,p){if(1&o&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&o){const e=t.oxw(2);let n;t.xp6(1),t.Oqu(null==(n=t.lcZ(2,1,e.pageGroupSandbox.pageGroupCount$))?null:n.activePage)}}function gt(o,p){1&o&&t._UZ(0,"span",10)}function ct(o,p){if(1&o&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&o){const e=t.oxw(2);let n;t.xp6(1),t.Oqu(null==(n=t.lcZ(2,1,e.pageGroupSandbox.pageGroupCount$))?null:n.inActivePage)}}function ut(o,p){if(1&o&&(t.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul")(6,"li")(7,"p"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.YNc(10,it,1,0,"span",5),t.ALo(11,"async"),t.TgZ(12,"button",6),t._UZ(13,"img",7),t.qZA(),t.YNc(14,st,3,3,"h3",0),t.ALo(15,"async"),t.qZA(),t.TgZ(16,"li")(17,"p"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.YNc(20,rt,1,0,"span",5),t.ALo(21,"async"),t.TgZ(22,"button",8),t._UZ(23,"img",7),t.qZA(),t.YNc(24,pt,3,3,"h3",0),t.ALo(25,"async"),t.qZA(),t.TgZ(26,"li")(27,"p"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.YNc(30,gt,1,0,"span",5),t.ALo(31,"async"),t.TgZ(32,"button",9),t._UZ(33,"img",7),t.qZA(),t.YNc(34,ct,3,3,"h3",0),t.ALo(35,"async"),t.qZA()()()()()()()),2&o){const e=t.oxw();t.xp6(8),t.Oqu(t.lcZ(9,9,"CMS.PageGroup.totalPages")),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,11,e.pageGroupSandbox.pageGroupCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(15,13,e.pageGroupSandbox.pageGroupCountLoading$)),t.xp6(4),t.Oqu(t.lcZ(19,15,"CMS.PageGroup.activePages")),t.xp6(2),t.Q6J("ngIf",t.lcZ(21,17,e.pageGroupSandbox.pageGroupCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(25,19,e.pageGroupSandbox.pageGroupCountLoading$)),t.xp6(4),t.Oqu(t.lcZ(29,21,"CMS.PageGroup.inactivePages")),t.xp6(2),t.Q6J("ngIf",t.lcZ(31,23,e.pageGroupSandbox.pageGroupCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(35,25,e.pageGroupSandbox.pageGroupCountLoading$))}}let $=(()=>{class o{constructor(e,n,a){this.pageGroupSandbox=e,this.pageSandbox=n,this.router=a,this.router.events.subscribe(i=>{this.id=+this.router.url.split("?")[0].split("/").pop()})}ngOnInit(){this.getPageGroupLists(),this.getPageGroupCount()}getPageGroupLists(){this.pageGroupSandbox.getPageGroupCount()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A),t.Y36(D.K),t.Y36(x.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-pageGroup-layout"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row","products-section"],[1,"col-12"],[1,"card"],[1,"product-ts-left"],["class","spinner-border spinner-border-sm pull-right","aria-hidden","true",4,"ngIf"],["type","button","placement","bottom","ngbTooltip","Total number of pagegroup on the platform."],["src","assets/img/info-ico.svg","alt","info"],["type","button","placement","bottom","ngbTooltip","Total number of active pagegroup on the platform."],["type","button","placement","left","ngbTooltip","Total number of in-active pagegroup on the platform."],["aria-hidden","true",1,"spinner-border","spinner-border-sm","pull-right"]],template:function(e,n){1&e&&t.YNc(0,ut,36,27,"div",0),2&e&&t.Q6J("ngIf","/cms/manage-content/page-group/add"!==n.router.url.split("?")[0]&&n.router.url.split("?")[0]!=="/cms/manage-content/page-group/edit/"+n.id)},directives:[g.O5,w._L],pipes:[L.X$,g.Ov],styles:[".custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:#b282e7!important;border:#b282e7!important}"],changeDetection:0}),o})();var F=r(4376);function lt(o,p){1&o&&(t.TgZ(0,"div",16),t._UZ(1,"img",17),t.qZA())}function dt(o,p){1&o&&(t.TgZ(0,"div",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CMS.PageGroup.GroupNameIsRequired")," "))}function ht(o,p){1&o&&(t.TgZ(0,"div",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CMS.BannerError.MustBe255CharacterLong")," "))}function mt(o,p){1&o&&(t.TgZ(0,"div",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Customers.Error.StatusIsRequired")," "))}const ft=function(o){return{validationcolor:o}},Pt=function(o){return{"error-fields":o}};let q=(()=>{class o{constructor(e,n,a,i,b,Z){this.modalService=e,this.appSandbox=n,this.fb=a,this.route=i,this.modalService2=b,this.router=Z,this.submitted=!1,this.pagesInfo=[],this.id="",this.subscriptions=[],this.queryDetails={};const Et=this.route.snapshot.queryParamMap.get("offset"),Nt=this.route.snapshot.queryParamMap.get("index");this.queryDetails.offset=Et||0,this.queryDetails.index=Nt||0}ngOnInit(){if(this.initForm(),this.editPagesId=this.route.snapshot.paramMap.get("id"),this.editPagesId){const e={};e.id=this.editPagesId,this.appSandbox.getPageDetails(e),this.editPages()}}noWhitespaceValidator(e){return 0!==(e.value||"").trim().length?null:{whitespace:!0}}pagesCancel(){this.router.navigate(["/cms/manage-content/page-group"],{queryParams:this.queryDetails})}initForm(){this.pageGroupForm=this.fb.group({groupName:["",P.kI.compose([P.kI.required,P.kI.maxLength(255),this.noWhitespaceValidator])],status:[null,P.kI.required]})}onSubmit(){if(this.submitted=!0,!this.pageGroupForm.valid)return void this.validateAllFormFields(this.pageGroupForm);const e={};e.pageGroupName=this.pageGroupForm.value.groupName,e.status=+this.pageGroupForm.value.status,this.editPagesId?(e.id=this.editPagesId,this.appSandbox.updatePageGroupList(e)):this.appSandbox.addPageGroup(e),this.subscribe()}subscribe(){this.appSandbox.pageGroupListCount$.subscribe(e=>{}),this.subscriptions.push(this.appSandbox.addPagesStatus$.subscribe(e=>{e&&e.message&&1===e.status&&this.router.navigate(["/cms/manage-content/page-group/list"],{queryParams:this.queryDetails})})),this.subscriptions.push(this.appSandbox.updatePages$.subscribe(e=>{e&&e.message&&1===e.status&&this.router.navigate(["/cms/manage-content/page-group/list"],{queryParams:this.queryDetails})})),this.subscriptions.push(this.appSandbox.pageGroupDelete$.subscribe(e=>{e&&e.message&&1===e.status&&this.router.navigate(["/cms/manage-content/page-group/list"],{queryParams:this.queryDetails})}))}editPages(){this.subscriptions.push(this.appSandbox.pageDetails$.subscribe(e=>{e&&Object.keys(e).length&&this.setPage(e)}))}setPage(e){this.pageGroupForm.controls.groupName.setValue(e.groupName),this.pageGroupForm.controls.status.setValue(e.isActive)}validateAllFormFields(e){Object.keys(e.controls).forEach(n=>{const a=e.get(n);a instanceof P.NI?a.markAsTouched({onlySelf:!0}):a instanceof P.cw&&this.validateAllFormFields(a)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(w.FF),t.Y36(A),t.Y36(P.qu),t.Y36(x.gz),t.Y36(w.FF),t.Y36(x.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cms-pages-add"]],decls:47,vars:44,consts:[["class","loading-data",4,"ngIf"],[1,"cms-page-add-wrapper"],[1,"cms-pa-container"],[1,"form-horizontal","m-t-20",3,"formGroup","ngSubmit"],[1,"cms-group"],[1,"supvalidation"],[1,"cms-grp-row"],[1,"cms-inp-group","form-group"],["type","text","formControlName","groupName",1,"form-control",3,"placeholder","ngClass"],["class","validation-error",4,"ngIf"],[1,"cms-grp-wdt","flex"],["formControlName","status","id","inlineFormCustomSelect",3,"placeholder","searchable","ngClass","clearable"],[3,"value"],[1,"cmsbtn","flex"],[1,"button-reg","primary",3,"click"],[1,"button-reg","secondary",3,"click"],[1,"loading-data"],["src","./assets/loader/Spurt-commerce-Loader-2.1.gif",2,"height","10vh"],[1,"validation-error"]],template:function(e,n){1&e&&(t._UZ(0,"app-pageGroup-layout"),t.YNc(1,lt,2,0,"div",0),t.ALo(2,"async"),t.TgZ(3,"div",1)(4,"div",2)(5,"form",3),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(6,"h3"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",4)(10,"h4"),t._uU(11),t.ALo(12,"translate"),t.TgZ(13,"sup",5),t._uU(14,"*"),t.qZA()(),t.TgZ(15,"p"),t._uU(16,"You can provide a name for the group under which you can add multiple ages. The group name shall be commonly suitable one for all the pages that come under that group. For example, under the page group \u2013 User Policies, you can add pages like terms of use, privacy policy etc."),t.qZA(),t.TgZ(17,"div",6)(18,"div",7),t._UZ(19,"input",8),t.ALo(20,"translate"),t.YNc(21,dt,3,3,"div",9),t.YNc(22,ht,3,3,"div",9),t.qZA()()(),t.TgZ(23,"div",4)(24,"h4"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"div",10)(28,"p"),t._uU(29,"You can choose to keep the group name active or inactive \u2013 active when you want to display it to the end users in the storefront or inactive, when you want to hide it from the users. You can always activate the inactivated group name."),t.qZA(),t.TgZ(30,"div",7)(31,"ng-select",11),t.ALo(32,"translate"),t.TgZ(33,"ng-option",12),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"ng-option",12),t._uU(37),t.ALo(38,"translate"),t.qZA()(),t.YNc(39,mt,3,3,"div",9),t.qZA()()(),t.TgZ(40,"div",13)(41,"button",14),t.NdJ("click",function(){return n.onSubmit()}),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"button",15),t.NdJ("click",function(){return n.pagesCancel()}),t._uU(45),t.ALo(46,"translate"),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,20,n.appSandbox.pageGroupCountLoading$)),t.xp6(4),t.Q6J("formGroup",n.pageGroupForm),t.xp6(2),t.Oqu(t.lcZ(8,22,"CMS.Pages.GeneralInformation")),t.xp6(4),t.hij("",t.lcZ(12,24,"CMS.PageGroup.GroupName")," "),t.xp6(8),t.s9C("placeholder",t.lcZ(20,26,"CMS.Placeholder.PageTitle")),t.Q6J("ngClass",t.VKq(40,ft,n.pageGroupForm.controls.groupName.errors&&1==n.submitted)),t.xp6(2),t.Q6J("ngIf",n.pageGroupForm.get("groupName").hasError("required")&&1==n.submitted),t.xp6(1),t.Q6J("ngIf",n.pageGroupForm.get("groupName").hasError("maxlength")),t.xp6(3),t.hij("",t.lcZ(26,28,"CMS.Pages.Active")," "),t.xp6(6),t.s9C("placeholder",t.lcZ(32,30,"CMS.Pages.SelectActive")),t.Q6J("searchable",!1)("ngClass",t.VKq(42,Pt,n.pageGroupForm.controls.status.errors&&1==n.submitted))("clearable",!1),t.xp6(2),t.Q6J("value",1),t.xp6(1),t.Oqu(t.lcZ(35,32,"CMS.Pages.Yes")),t.xp6(2),t.Q6J("value",0),t.xp6(1),t.Oqu(t.lcZ(38,34,"CMS.Pages.No")),t.xp6(2),t.Q6J("ngIf",n.pageGroupForm.get("status").hasError("required")&&1==n.submitted),t.xp6(3),t.Oqu(t.lcZ(43,36,"CMS.Pages.Save")),t.xp6(3),t.Oqu(t.lcZ(46,38,"CMS.Pages.Cancel")))},directives:[$,g.O5,P._Y,P.JL,P.sg,P.Fj,P.JJ,P.u,g.mk,F.w9,F.jq],pipes:[g.Ov,L.X$],styles:[".cms-page-add-wrapper{width:100%;min-height:calc(100vh - 170px);background-color:#f7f7f7;padding:35px}.cms-page-add-wrapper .cms-pa-container{max-width:758px;width:100%;margin:auto}.cms-page-add-wrapper .cms-pa-container h3{font-size:16px;font-weight:500;color:#000;margin:0 0 20px}.cms-page-add-wrapper .cms-pa-container .cms-group{margin-bottom:31px}.cms-page-add-wrapper .cms-pa-container .cms-group h4{font-size:14px;font-weight:500;color:#222;margin:0 0 8px}.cms-page-add-wrapper .cms-pa-container .cms-group p{font-size:14px;font-weight:400;color:#948f8f;margin:0 0 15px}.cms-page-add-wrapper .cms-pa-container .cms-group .cms-inp-group{width:100%}.cms-page-add-wrapper .cms-pa-container .cms-group .cms-inp-group textarea{height:300px}.cms-page-add-wrapper .cms-pa-container .cms-group .cms-grp-row{width:100%;position:relative}.cms-page-add-wrapper .cms-pa-container .cms-group .cms-grp-row .toggle{position:absolute;right:-60px;top:10px}.cms-page-add-wrapper .cms-pa-container .cms-group .cms-grp-wdt{width:100%;justify-content:space-between;align-items:flex-start}.cms-page-add-wrapper .cms-pa-container .cms-group .cms-grp-wdt p,.cms-page-add-wrapper .cms-pa-container .cms-group .cms-grp-wdt .cms-inp-group{width:48%}.cms-page-add-wrapper .cms-pa-container .cmsbtn{width:100%;justify-content:center;align-items:center;gap:11px}\n",".dark-modal .modal-content{background-color:#009efb;color:#fff}.dark-modal .close{color:#fff}.light-blue-backdrop{background-color:#5cb3fd}.image-manager .modal-dialog{max-width:70%}\n"],encapsulation:2}),o})();var _t=r(9819),Ct=r(9113),bt=r(3052),Gt=r(6642);function vt(o,p){if(1&o){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){return t.CHM(e),t.oxw().addPageGroup()}),t._UZ(1,"img",16),t._uU(2),t.ALo(3,"translate"),t.qZA()}2&o&&(t.Q6J("appHideIfUnauthorized","add-page-group"),t.xp6(2),t.hij("",t.lcZ(3,2,"CMS.PageGroup.AddGroup")," "))}function xt(o,p){1&o&&(t.TgZ(0,"div")(1,"span",29),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Settings.Role.Active")))}function St(o,p){1&o&&(t.TgZ(0,"div")(1,"span",30),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Settings.Role.InActive")))}const E=function(){return["page-group-delete","Edit-page-group"]};function Zt(o,p){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",22),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw(2).editPageGroup(i)}),t._uU(2),t.qZA(),t.TgZ(3,"td",23),t.YNc(4,xt,4,3,"div",24),t.YNc(5,St,4,3,"div",24),t.qZA(),t.TgZ(6,"td",25)(7,"button",26),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw(2).editPageGroup(i)}),t._UZ(8,"img",27),t.qZA(),t.TgZ(9,"button",26),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw(2).deletePageGroup(i.groupId)}),t._UZ(10,"img",28),t.qZA()()()}if(2&o){const e=p.$implicit;t.xp6(2),t.Oqu(e.groupName),t.xp6(2),t.Q6J("ngIf",1==e.isActive),t.xp6(1),t.Q6J("ngIf",0==e.isActive),t.xp6(1),t.Q6J("multipleHide",t.DdM(6,E)),t.xp6(1),t.Q6J("appHideIfUnauthorized","Edit-page-group"),t.xp6(2),t.Q6J("appHideIfUnauthorized","page-group-delete")}}function yt(o,p){if(1&o&&(t.TgZ(0,"table",17)(1,"thead")(2,"tr")(3,"th",18),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th",19),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th",20),t._uU(10),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"tbody"),t.YNc(13,Zt,11,7,"tr",21),t.ALo(14,"async"),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,5,"CMS.PageGroup.GroupName")),t.xp6(3),t.Oqu(t.lcZ(8,7,"CMS.PageGroup.Status")),t.xp6(2),t.Q6J("multipleHide",t.DdM(13,E)),t.xp6(1),t.Oqu(t.lcZ(11,9,"CMS.Pages.Action")),t.xp6(3),t.Q6J("ngForOf",t.lcZ(14,11,e.appSandbox.pageGroupList$))}}function Lt(o,p){if(1&o){const e=t.EpF();t.TgZ(0,"div",31),t._UZ(1,"img",32),t.TgZ(2,"p"),t._uU(3,"Items Not Found"),t.qZA(),t.TgZ(4,"button",33),t.NdJ("click",function(){return t.CHM(e),t.oxw().addPageGroup()}),t._uU(5,"Add Group"),t.qZA()()}}const At=function(o){return[o]};function wt(o,p){if(1&o){const e=t.EpF();t.TgZ(0,"mat-paginator",34),t.NdJ("page",function(a){return t.CHM(e),t.oxw().onPageChange(a)}),t.ALo(1,"async"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("length",t.lcZ(1,4,e.appSandbox.pageGroupListCount$))("pageSizeOptions",t.VKq(6,At,e.pageSize))("pageSize",e.pageSize)("pageIndex",e.index)}}let Tt=(()=>{class o{constructor(e,n,a,i,b,Z){this.toastr=e,this.appSandbox=n,this.router=a,this.modalService=i,this.route=b,this.titleService=Z,this.pageSize=5,this.keyword="",this.queryData={},this.title="Page Group"}ngOnInit(){this.titleService.setTitle(this.title),this.pageSize=sessionStorage.getItem("itemsPerPage")?sessionStorage.getItem("itemsPerPage"):this.pageSize,this.offset=this.route.snapshot.queryParamMap.get("offset")||0,this.index=this.route.snapshot.queryParamMap.get("index"),this.getPageGroupList(this.offset,this.keyword),this.getPagesPagination(this.offset,this.keyword),this.regSubscriptionEvents(),this.index=0}regSubscriptionEvents(){this.appSandbox.pageGroupDelete$.subscribe(e=>{e&&e.status&&1===e.status&&(this.getPageGroupList(this.offset,this.keyword),this.getPagesPagination(this.offset,this.keyword))})}getPageGroupList(e,n){const a={};a.limit=this.pageSize,a.offset=this.offset,a.keyword=this.keyword,this.appSandbox.getPageGroupList(a),this.queryData.offset=this.offset||0,this.queryData.index=this.index||0,this.router.navigate([],{relativeTo:this.route,queryParams:this.queryData,queryParamsHandling:"merge"})}getPagesPagination(e,n){const a={};a.limit=this.pageSize,a.offset=this.offset,a.keyword=this.keyword,a.count=!0,this.appSandbox.getPagePagination(a)}onPageChange(e){this.currentPage=e.offset,this.pageSize=e.pageSize,this.index=e.pageIndex,this.offset=e.pageSize*e.pageIndex,this.getPageGroupList(this.offset,"")}editPageGroup(e){this.router.navigate(["/cms/manage-content/page-group/edit",e.groupId],{queryParams:this.queryData})}addPageGroup(){this.router.navigate(["/cms/manage-content/page-group/add"],{queryParams:this.queryData})}deletePageGroup(e){const n=this.modalService.open(_t.j,{size:"sm",windowClass:"delete-confirm",backdrop:"static",backdropClass:"createcr"});n.componentInstance.key="",n.componentInstance.id="",n.result.then(a=>{"deleted"===a&&(this.appSandbox.deletePageGroupList({id:e}),this.appSandbox.getPageGroupCount(),this.regSubscriptionEvents())})}bulkDeleteEmpty(){this.showNotificationError("Choose atleast one Page")}showNotificationError(e){this.toastr.error(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(I._W),t.Y36(A),t.Y36(x.F0),t.Y36(w.FF),t.Y36(x.gz),t.Y36(v.Dx))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-spurt-cms-page-list"]],decls:21,vars:15,consts:[[1,"row","products-section","products-sub-section"],[1,"col-12"],[1,"flex","filter-row"],[1,"filter-lft"],[1,"filter-nav-list"],["class","button-reg primary",3,"appHideIfUnauthorized","click",4,"ngIf"],[1,"flex"],[1,"flex","product-wrap"],[1,"product-table",2,"width","100%"],[1,"spinner-wrapper"],[2,"transform","translate(58%, 18%)","position","absolute",3,"isShow"],[1,"table-responsive"],["class","table",4,"ngIf"],["class","data-product-not-available",4,"ngIf"],[3,"length","pageSizeOptions","pageSize","pageIndex","page",4,"ngIf"],[1,"button-reg","primary",3,"appHideIfUnauthorized","click"],["src","assets/img/add-white-ico.png","alt","add"],[1,"table"],["scope","col"],["scope","col",1,"text-center"],["scope","col","width","100",1,"text-right",3,"appHideIfUnauthorized","multipleHide"],[4,"ngFor","ngForOf"],[1,"name",2,"position","relative","cursor","pointer",3,"click"],[1,"text-center"],[4,"ngIf"],[1,"text-right","action-btn",3,"appHideIfUnauthorized","multipleHide"],[3,"appHideIfUnauthorized","click"],["src","assets/img/edit.png","alt",""],["src","assets/img/delete-new.png","alt",""],[1,"tags-action","tag-active"],[1,"tags-action","tag-inactive"],[1,"data-product-not-available"],["src","assets/img/empty-box.svg","alt",""],[3,"click"],[3,"length","pageSizeOptions","pageSize","pageIndex","page"]],template:function(e,n){if(1&e&&(t._UZ(0,"app-pageGroup-layout"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2),t._UZ(4,"div",3),t.TgZ(5,"div",4),t.YNc(6,vt,4,4,"button",5),t.ALo(7,"async"),t._UZ(8,"ul",6),t.qZA()()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"div",9),t._UZ(12,"app-global-loader",10),t.ALo(13,"async"),t.qZA(),t.TgZ(14,"div",11),t.YNc(15,yt,15,14,"table",12),t.ALo(16,"async"),t.YNc(17,Lt,6,0,"div",13),t.ALo(18,"async"),t.qZA(),t.YNc(19,wt,2,8,"mat-paginator",14),t.ALo(20,"async"),t.qZA()()),2&e){let a,i,b,Z;t.xp6(6),t.Q6J("ngIf",(null==(a=t.lcZ(7,5,n.appSandbox.pageGroupList$))?null:a.length)>0),t.xp6(6),t.Q6J("isShow",t.lcZ(13,7,n.appSandbox.getpageGrouplistloading$)),t.xp6(3),t.Q6J("ngIf",(null==(i=t.lcZ(16,9,n.appSandbox.pageGroupList$))?null:i.length)>0),t.xp6(2),t.Q6J("ngIf",0==(null==(b=t.lcZ(18,11,n.appSandbox.pageGroupList$))?null:b.length)),t.xp6(2),t.Q6J("ngIf",(null==(Z=t.lcZ(20,13,n.appSandbox.pageGroupList$))?null:Z.length)>0)}},directives:[$,g.O5,Ct.E,bt.A,g.sg,Gt.NW],pipes:[g.Ov,L.X$],styles:[".custom-checkbox .custom-control-input:checked~.custom-control-label:before{background-color:#b282e7!important;border:#b282e7!important}.spinner-wrapper{display:flex;justify-content:center;justify-items:center}\n",".dark-modal .modal-content{background-color:#009efb;color:#fff}.dark-modal .close{color:#fff}.light-blue-backdrop{background-color:#5cb3fd}.image-manager .modal-dialog{max-width:70%}\n"],encapsulation:2}),o})();var T=r(8300);const Mt=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Tt,canActivate:[T.a],data:{permission:"page-group-list",urls:[{title:"CMS",url:""},{title:"Manage Content",url:""},{title:"Page Group",url:""},{title:"List",url:""}]}},{path:"add",component:q,canActivate:[T.a],data:{permission:"add-page-group",urls:[{title:"CMS",url:""},{title:"Manage Content",url:""},{title:"Page Group",url:""},{title:"Add",url:""}]}},{path:"edit/:id",component:q,canActivate:[T.a],data:{permission:"Edit-page-group",urls:[{title:"CMS",url:""},{title:"Manage Content",url:""},{title:"Page Group",url:""},{title:"Update",url:""}]}}];let Ot=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[x.Bz.forChild(Mt)],x.Bz]}),o})();var Ut=r(6693),It=r(6686),Dt=r(7829),$t=r(520),Ft=r(2476);let qt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[O,A,D.K,v.Dx],imports:[[g.ez,y.o,P.u5,P.UX,Ut.q,Ft.K,Ot,c.sQ.forFeature([C]),L.aw.forChild({loader:{provide:L.Zw,useFactory:Dt.gS,deps:[$t.eN]}}),It.dF]]}),o})()},3052:(M,S,r)=>{r.d(S,{A:()=>c});var g=r(5e3),y=r(9932),P=r(9808);function v(l,_){1&l&&(g.TgZ(0,"div",1)(1,"div",2),g._UZ(2,"img",3),g.qZA()())}let c=(()=>{class l{constructor(u){this.httpStatus=u,this.subscriptions=[],this.loader=!1,this.getHttpResponse()}ngOnInit(){}getHttpResponse(){this.subscriptions.push(this.httpStatus.getHttpStatus().subscribe(u=>{this.loader=u}))}ngOnDestroy(){this.subscriptions.forEach(u=>u.unsubscribe())}}return l.\u0275fac=function(u){return new(u||l)(g.Y36(y.Z))},l.\u0275cmp=g.Xpm({type:l,selectors:[["app-global-loader"]],inputs:{isShow:"isShow"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],["width","80px","height","80px","src","./assets/loader/Spurt-commerce-Loader-2.1.gif"]],template:function(u,d){1&u&&g.YNc(0,v,3,0,"div",0),2&u&&g.Q6J("ngIf",d.isShow)},directives:[P.O5],styles:['#loader[_ngcontent-%COMP%]{bottom:0;height:175px;left:0;margin:auto;position:absolute;right:0;top:0;width:175px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{bottom:0;height:100%;left:0;margin:auto;position:absolute;right:0;top:0;width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:before{border-radius:100%;content:"";height:87.5px;left:0;position:absolute;right:0;top:0;transform:scale(0);width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1){transform:rotate(45deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1):before{animation:.8s linear .1s normal none infinite running load;background:#00ff80 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2){transform:rotate(90deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2):before{animation:.8s linear .2s normal none infinite running load;background:#00ffea none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3){transform:rotate(135deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3):before{animation:.8s linear .3s normal none infinite running load;background:#00aaff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4){transform:rotate(180deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4):before{animation:.8s linear .4s normal none infinite running load;background:#0040ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5){transform:rotate(225deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5):before{animation:.8s linear .5s normal none infinite running load;background:#2a00ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6){transform:rotate(270deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6):before{animation:.8s linear .6s normal none infinite running load;background:#9500ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7){transform:rotate(315deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7):before{animation:.8s linear .7s normal none infinite running load;background:magenta none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8){transform:rotate(360deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8):before{animation:.8s linear .8s normal none infinite running load;background:#ff0095 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{background-position:50% 50%;background-repeat:no-repeat;bottom:-40px;height:20px;left:0;position:absolute;right:0;width:180px}@keyframes load{to{opacity:0;transform:scale(1)}}.spinner-message[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{text-align:center}']}),l})()},9819:(M,S,r)=>{r.d(S,{j:()=>P});var g=r(5e3),y=r(6393);let P=(()=>{class v{constructor(l){this.activeModal=l}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key||"product"===this.key||this.activeModal.close("deleted")}}return v.\u0275fac=function(l){return new(l||v)(g.Y36(y.Kz))},v.\u0275cmp=g.Xpm({type:v,selectors:[["app-delete-confirmation-dialog"]],decls:12,vars:0,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true",2,"background-color","white"],["src","assets/img/info-triangle.svg"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(l,_){1&l&&(g.TgZ(0,"div",0)(1,"button",1),g.NdJ("click",function(){return _.close()}),g.TgZ(2,"span",2),g._uU(3,"\xd7"),g.qZA()(),g.TgZ(4,"h4"),g._UZ(5,"img",3),g._uU(6," Do You Want To Delete? "),g.qZA(),g.TgZ(7,"div",4)(8,"button",5),g.NdJ("click",function(){return _.close()}),g._uU(9," No "),g.qZA(),g.TgZ(10,"button",6),g.NdJ("click",function(){return _.deleteContent()}),g._uU(11," Yes "),g.qZA()()())},styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px;border:none}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}"]}),v})()}}]);