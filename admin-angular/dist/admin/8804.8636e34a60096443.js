"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[8804],{8804:(nt,g,a)=>{a.r(g),a.d(g,{SalesModule:()=>ot});var m=a(9808),S=a(3675),y=a(3075),d=a(9291),t=a(5e3),f=a(649),A=a(7941),x=a(2313),T=a(9113);const U=function(){return["list-order","sales-back-order","sales-failed-order","sales-cancel-request","sales-quotation-request"]},O=function(){return["/sales/manage-orders"]},b=function(){return["/sales/manage-orders/orders"]},J=function(){return["/sales/manage-accounts"]},Q=function(){return["/sales/manage-accounts/payments"]},I=function(){return["/sales/manage-accounts/archive-payments"]};let H=(()=>{class e{constructor(o){this.titleService=o}onDocumentClick(o){this.checked=!1,this.inventoryChecked=!1,this.paymentChecked=!1}ngOnInit(){this.titleService.setTitle("Sales")}onClick(o){this.checked=!0,this.inventoryChecked=!1,this.paymentChecked=!1}inventoryClick(o){this.checked=!1,this.inventoryChecked=!0,this.paymentChecked=!1}paymentClick(o){this.checked=!1,this.inventoryChecked=!1,this.paymentChecked=!0}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(x.Dx))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-sales-header"]],hostBindings:function(o,n){1&o&&t.NdJ("click",function(r){return n.onDocumentClick(r)},!1,t.evT)},decls:35,vars:24,consts:[[1,"subtoolbar","salestoolbar"],[1,"sub-nav-menu"],[1,"dd",3,"appHideIfUnauthorized","multipleHide"],[1,"dd-a"],["href","javascript:void(0)",3,"routerLink","routerLinkActive"],["src","assets/img/header-icons/package.svg","alt","product"],["src","assets/img/header-icons/package-on.svg","alt","product"],["src","assets/img/caret-dropdown.svg","alt","",1,"acrt-drop-dflt"],["src","assets/img/caret-down.svg","alt","",1,"acrt-drop-on"],["type","checkbox","id","check",3,"checked","click"],[1,"dd-c"],[3,"appHideIfUnauthorized"],[1,"dd",3,"appHideIfUnauthorized"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"span"),t._UZ(6,"img",5)(7,"img",6),t.qZA(),t._uU(8," Manage Orders "),t._UZ(9,"img",7)(10,"img",8),t.qZA()(),t.TgZ(11,"input",9),t.NdJ("click",function(r){return r.stopPropagation(),n.onClick(r)}),t.qZA(),t.TgZ(12,"div",10)(13,"ul")(14,"li",11)(15,"a",4),t._uU(16," Orders "),t.qZA()()()()(),t.TgZ(17,"div",12)(18,"div",3)(19,"a",4)(20,"span"),t._UZ(21,"img",5)(22,"img",6),t.qZA(),t._uU(23," Manage Accounts "),t._UZ(24,"img",7)(25,"img",8),t.qZA()(),t.TgZ(26,"input",9),t.NdJ("click",function(r){return r.stopPropagation(),n.paymentClick(r)}),t.qZA(),t.TgZ(27,"div",10)(28,"ul")(29,"li",11)(30,"a",4),t._uU(31," Payments "),t.qZA()(),t.TgZ(32,"li",11)(33,"a",4),t._uU(34," Archive Payments "),t.qZA()()()()()()()),2&o&&(t.xp6(2),t.Q6J("appHideIfUnauthorized","")("multipleHide",t.DdM(18,U)),t.xp6(2),t.Q6J("routerLink",t.DdM(19,O))("routerLinkActive","active"),t.xp6(7),t.Q6J("checked",n.checked),t.xp6(3),t.Q6J("appHideIfUnauthorized","list-order"),t.xp6(1),t.Q6J("routerLink",t.DdM(20,b))("routerLinkActive","active"),t.xp6(2),t.Q6J("appHideIfUnauthorized","sales-inventory"),t.xp6(2),t.Q6J("routerLink",t.DdM(21,J))("routerLinkActive","active"),t.xp6(7),t.Q6J("checked",n.paymentChecked),t.xp6(3),t.Q6J("appHideIfUnauthorized","sales-payments"),t.xp6(1),t.Q6J("routerLink",t.DdM(22,Q))("routerLinkActive","active"),t.xp6(2),t.Q6J("appHideIfUnauthorized","sales-archive-paments"),t.xp6(1),t.Q6J("routerLink",t.DdM(23,I))("routerLinkActive","active"))},directives:[T.E,d.yS,d.Od],styles:[""],changeDetection:0}),e})();var M=a(6731),k=a(6393),v=a(4218),N=a(6400);function $(e,s){1&e&&t._UZ(0,"span",11)}function z(e,s){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&e){const o=t.oxw(2);let n;t.xp6(1),t.hij("",null==(n=t.lcZ(2,1,o.layoutSandbox.salesCount$))?null:n.totalOrder," ")}}function Y(e,s){1&e&&t._UZ(0,"span",11)}function F(e,s){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.qZA()),2&e){const o=s.ngIf;t.xp6(1),t.hij("",null==o.todayOrderCount?null:o.todayOrderCount.orderCount," ")}}function D(e,s){if(1&e&&(t.ynx(0),t.YNc(1,F,2,1,"h3",0),t.ALo(2,"async"),t.BQk()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,o.layoutSandbox.salesCount$))}}function j(e,s){1&e&&t._UZ(0,"span",11)}function q(e,s){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"currencysymbol"),t.ALo(3,"async"),t.ALo(4,"async"),t.qZA()),2&e){const o=t.oxw(2);let n;t.xp6(1),t.hij("",t.xi3(2,1,null==(n=t.lcZ(3,4,o.layoutSandbox.salesCount$))?null:n.totalOrderAmount,t.lcZ(4,6,o.commonSandbox.settings$))," ")}}function R(e,s){1&e&&t._UZ(0,"span",11)}function B(e,s){if(1&e&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"currencysymbol"),t.ALo(3,"async"),t.ALo(4,"async"),t.qZA()),2&e){const o=t.oxw(2);let n;t.xp6(1),t.hij("",t.xi3(2,1,null==(n=t.lcZ(3,4,o.layoutSandbox.salesCount$))?null:n.todayOrderAmount,t.lcZ(4,6,o.commonSandbox.settings$))," ")}}function E(e,s){if(1&e&&(t.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul")(6,"li")(7,"p"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.YNc(10,$,1,0,"span",5),t.ALo(11,"async"),t.TgZ(12,"button",6),t._UZ(13,"img",7),t.qZA(),t.YNc(14,z,3,3,"h3",0),t.ALo(15,"async"),t.qZA(),t.TgZ(16,"li")(17,"p"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.YNc(20,Y,1,0,"span",5),t.ALo(21,"async"),t.TgZ(22,"button",8),t._UZ(23,"img",7),t.qZA(),t.YNc(24,D,3,3,"ng-container",0),t.ALo(25,"async"),t.qZA(),t.TgZ(26,"li")(27,"p"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.YNc(30,j,1,0,"span",5),t.ALo(31,"async"),t.TgZ(32,"button",9),t._UZ(33,"img",7),t.qZA(),t.YNc(34,q,5,8,"h3",0),t.ALo(35,"async"),t.qZA(),t.TgZ(36,"li")(37,"p"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.YNc(40,R,1,0,"span",5),t.ALo(41,"async"),t.TgZ(42,"button",10),t._UZ(43,"img",7),t.qZA(),t.YNc(44,B,5,8,"h3",0),t.ALo(45,"async"),t.qZA()()()()()()()),2&e){const o=t.oxw();t.xp6(8),t.Oqu(t.lcZ(9,12,"Sales.Orders.TotalOrder")),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,14,o.layoutSandbox.salesCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(15,16,o.layoutSandbox.salesCountLoading$)),t.xp6(4),t.Oqu(t.lcZ(19,18,"Sales.Orders.TodayOrder")),t.xp6(2),t.Q6J("ngIf",t.lcZ(21,20,o.layoutSandbox.salesCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(25,22,o.layoutSandbox.salesCountLoading$)),t.xp6(4),t.Oqu(t.lcZ(29,24,"Sales.Orders.TotalOrderAmount")),t.xp6(2),t.Q6J("ngIf",t.lcZ(31,26,o.layoutSandbox.salesCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(35,28,o.layoutSandbox.salesCountLoading$)),t.xp6(4),t.Oqu(t.lcZ(39,30,"Sales.Orders.TodayOrderAmount")),t.xp6(2),t.Q6J("ngIf",t.lcZ(41,32,o.layoutSandbox.salesCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(45,34,o.layoutSandbox.salesCountLoading$))}}let P=(()=>{class e{constructor(o,n,l){this.layoutSandbox=o,this.commonSandbox=n,this.router=l,this.router.events.subscribe(r=>{this.id=+this.router.url.split("?")[0].split("/").pop()})}ngOnInit(){this.layoutSandbox.getSalesCount()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(f.Q),t.Y36(A.b),t.Y36(d.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-sales-layout"]],decls:4,vars:1,consts:[[4,"ngIf"],[1,"row","products-section"],[1,"col-12"],[1,"card"],[1,"product-ts-left"],["class","spinner-border spinner-border-sm pull-right","aria-hidden","true",4,"ngIf"],["type","button","placement","bottom","ngbTooltip","Total number of orders placed by all the customers on the platform."],["src","assets/img/info-ico.svg","alt","info"],["type","button","placement","bottom","ngbTooltip","Total number of orders on this day."],["type","button","placement","bottom","ngbTooltip","Total amount earned on the orders."],["type","button","placement","left","ngbTooltip","Total amount earned on orders, on this day."],["aria-hidden","true",1,"spinner-border","spinner-border-sm","pull-right"]],template:function(o,n){1&o&&(t._UZ(0,"app-sales-header")(1,"app-breadcrumb"),t.YNc(2,E,46,36,"div",0),t._UZ(3,"router-outlet")),2&o&&(t.xp6(2),t.Q6J("ngIf","/sales/manage-orders/backorder/list"!==n.router.url.split("?")[0]&&"/sales/manage-orders/failed-order/list"!==n.router.url.split("?")[0]&&n.router.url!=="/sales/manage-orders/failed-order/vieworder/"+n.id&&"/sales/manage-orders/quotation_request/list"!==n.router.url.split("?")[0]&&"/sales/manage-accounts/archive-payments/list"!==n.router.url.split("?")[0]&&"/sales/manage-inventory/inventory-products/list"!==n.router.url.split("?")[0]&&"/sales/manage-inventory/varient_inventory/list"!==n.router.url.split("?")[0]&&"/sales/manage-orders/abandoned_module/list"!==n.router.url.split("?")[0]&&n.router.url!=="/sales/manage-orders/quotation_request/quotation-request-detail/"+n.id))},directives:[H,M.L,m.O5,k._L,d.lC],pipes:[v.X$,m.Ov,N.G],styles:[""],changeDetection:0}),e})();var L=a(8300);const X=[{path:"",redirectTo:"manage-orders",pathMatch:"full"},{path:"",component:P,children:[{path:"manage-orders",loadChildren:()=>a.e(6083).then(a.bind(a,6083)).then(e=>e.ManageOrdersModule),canActivate:[L.a],data:{root:"sales",permissionForHeader:"sales-orders"}},{path:"manage-accounts",loadChildren:()=>a.e(1232).then(a.bind(a,1232)).then(e=>e.ManageAccountsModule),canActivate:[L.a],data:{root:"sales",permissionForHeader:"sales-orders"}}]}];let G=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.Bz.forChild(X)],d.Bz]}),e})();var K=a(6693),u=a(2596),p=a(520),V=a(9900);let Z=(()=>{class e extends V.V{constructor(){super(...arguments),this.params={},this.URL=this.getBaseUrl()}getOrderListCount(o){const n={};return Object.getOwnPropertyNames(o).reduce((r,i)=>r.set(i,o[i]),new p.LE),n.params={count:"true",customerName:"",dateAdded:"",keyword:"",limit:"",offset:"",orderId:"",totalAmount:"",orderStatusId:""},this.http.get(this.URL+"/order/orderlist",n)}getTodayOrderListCount(o){const n={},l=Object.getOwnPropertyNames(o).reduce((r,i)=>r.set(i,o[i]),new p.LE);return n.params=l,this.http.get(this.URL+"/order/today-order-count",n)}getTotalOrderAmount(o){const n={},l=Object.getOwnPropertyNames(o).reduce((r,i)=>r.set(i,o[i]),new p.LE);return n.params=l,this.http.get(this.URL+"/order/total-order-amount",n)}getTodayOrderAmount(o){const n={},l=Object.getOwnPropertyNames(o).reduce((r,i)=>r.set(i,o[i]),new p.LE);return n.params=l,this.http.get(this.URL+"/order/today-order-amount",n)}changePayment(o){return this.http.post(this.URL+"/order/update-payment-status",o)}getSalesCount(){return this.http.get(this.URL+"/order/order-count")}}return e.\u0275fac=function(){let s;return function(n){return(s||(s=t.n5z(e)))(n||e)}}(),e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var w=a(655),W=a(9646),_=a(4004),C=a(3900),h=a(9469),tt=a(262);class c{constructor(s,o){this.action$=s,this.layoutService=o,this.salesCount$=this.action$.pipe((0,u.l4)(h.MF.GET_SALES_COUNT),(0,_.U)(n=>n.payload),(0,C.w)(n=>this.layoutService.getSalesCount().pipe((0,C.w)(l=>[new h.Dz(l)]),(0,tt.K)(l=>(0,W.of)(new h.Zn(l))))))}}c.\u0275fac=function(s){return new(s||c)(t.LFG(u.eX),t.LFG(Z))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),(0,w.gn)([(0,u.Qm)()],c.prototype,"salesCount$",void 0);var et=a(2476);let ot=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[Z,f.Q],imports:[[m.ez,G,S.o,K.q,et.K,y.u5,y.UX,u.sQ.forFeature([c]),v.aw.forChild()]]}),e})()}}]);