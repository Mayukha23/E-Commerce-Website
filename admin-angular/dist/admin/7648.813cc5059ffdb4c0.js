"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[7648],{382:(M,L,s)=>{s.d(L,{f:()=>p});var v=s(520),f=s(9900),C=s(5e3);let p=(()=>{class t extends f.V{constructor(){super(...arguments),this.params={},this.url=this.getBaseUrl()}getOrderStatus(){return this.status}setOrderStatus(c){return this.status=c}customersGroupList(c){return this.http.get(this.url+"/customer-group",{params:c})}addCustomersGroup(c){return this.http.post(this.url+"/customer-group",c)}updateCustomersGroup(c){return this.http.put(this.url+"/customer-group/"+c.id,c)}deleteCustomersGroup(c){const Z={headers:new v.WM({"Content-Type":"application/json"}),withCredentials:!1,body:{groupId:c.groupId}};return this.http.delete(this.url+"/customer-group/"+c.groupId,Z)}deletePagerefresh(c){this.pageoffset=c}}return t.\u0275fac=function(){let h;return function(Z){return(h||(h=C.n5z(t)))(Z||t)}}(),t.\u0275prov=C.Yz7({token:t,factory:t.\u0275fac}),t})()},8592:(M,L,s)=>{s.d(L,{b:()=>O});var v=s(1778),f=s(5775),C=s(5792);const p=g=>g.customerLayout,t=(0,f.P1)(p,C.Sv),h=(0,f.P1)(p,C.jO);(0,f.P1)(p,C.H1),(0,f.P1)(p,C.jz);var b=s(5e3),G=s(7319);let O=(()=>{class g{constructor(S){this.appState=S,this.customerCount$=this.appState.select(t),this.customerCountLoading$=this.appState.select(h),this.subscriptions=[],this.registerAuthEvents()}getCustomerCount(){this.appState.dispatch(new v.S0)}registerAuthEvents(){}}return g.\u0275fac=function(S){return new(S||g)(b.LFG(G.yh))},g.\u0275prov=b.Yz7({token:g,factory:g.\u0275fac}),g})()},7648:(M,L,s)=>{s.r(L),s.d(L,{CustomersModule:()=>st});var v=s(9808),f=s(3675),C=s(3075),p=s(9291),t=s(5e3),h=s(8592),c=s(2313),Z=s(9113);const b=function(){return["/customers/manage-customers"]},G=function(){return["/customers/manage-customers/customer"]},O=function(){return["/customers/manage-customers/groups"]};let g=(()=>{class o{constructor(e){this.titleService=e}onDocumentClick(e){this.checked=!1}ngOnInit(){this.titleService.setTitle("Customer")}onClick(e){this.checked=!0}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.Dx))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cms-header"]],hostBindings:function(e,a){1&e&&t.NdJ("click",function(n){return a.onDocumentClick(n)},!1,t.evT)},decls:20,vars:14,consts:[[1,"subtoolbar","customertoolbar"],[1,"sub-nav-menu"],[1,"dd",3,"appHideIfUnauthorized"],[1,"dd-a"],["href","javascript:void(0)",3,"appHideIfUnauthorized","routerLink","routerLinkActive"],["src","assets/img/header-icons/package.svg","alt","product"],["src","assets/img/header-icons/package-on.svg","alt","product"],["src","assets/img/caret-dropdown.svg","alt","",1,"acrt-drop-dflt"],["src","assets/img/caret-down.svg","alt","",1,"acrt-drop-on"],["type","checkbox","id","check",3,"checked","click"],[1,"dd-c"],[3,"appHideIfUnauthorized"],["href","#",3,"routerLink","routerLinkActive"],["href","javascript:void(0)",3,"routerLink","routerLinkActive"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"span"),t._UZ(6,"img",5)(7,"img",6),t.qZA(),t._uU(8," Manage Customers "),t._UZ(9,"img",7)(10,"img",8),t.qZA()(),t.TgZ(11,"input",9),t.NdJ("click",function(n){return n.stopPropagation(),a.onClick(n)}),t.qZA(),t.TgZ(12,"div",10)(13,"ul")(14,"li",11)(15,"a",12),t._uU(16," Customers "),t.qZA()(),t.TgZ(17,"li",11)(18,"a",13),t._uU(19," Customer Group "),t.qZA()()()()()()()),2&e&&(t.xp6(2),t.Q6J("appHideIfUnauthorized","catalog-product"),t.xp6(2),t.Q6J("appHideIfUnauthorized","customers-customer")("routerLink",t.DdM(11,b))("routerLinkActive","active"),t.xp6(7),t.Q6J("checked",a.checked),t.xp6(3),t.Q6J("appHideIfUnauthorized","product-varient"),t.xp6(1),t.Q6J("routerLink",t.DdM(12,G))("routerLinkActive","active"),t.xp6(2),t.Q6J("appHideIfUnauthorized","customer-groups"),t.xp6(1),t.Q6J("routerLink",t.DdM(13,O))("routerLinkActive","active"))},directives:[Z.E,p.yS,p.Od],styles:[""],changeDetection:0}),o})();var $=s(6731),S=s(6393),E=s(4218);function J(o,r){1&o&&t._UZ(0,"span",13)}function P(o,r){if(1&o&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.layoutSandbox.customerCount$).totalCustomer)}}function R(o,r){1&o&&t._UZ(0,"span",13)}function Y(o,r){if(1&o&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.layoutSandbox.customerCount$).activeCustomer)}}function _(o,r){1&o&&t._UZ(0,"span",13)}function z(o,r){if(1&o&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.layoutSandbox.customerCount$).inActiveCustomer)}}function H(o,r){1&o&&t._UZ(0,"span",13)}function N(o,r){if(1&o&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.layoutSandbox.customerCount$).totalCustomerGroup)}}function w(o,r){1&o&&t._UZ(0,"span",13)}function B(o,r){if(1&o&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.layoutSandbox.customerCount$).activeCustomerGroup)}}function j(o,r){1&o&&t._UZ(0,"span",13)}function K(o,r){if(1&o&&(t.TgZ(0,"h3"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.layoutSandbox.customerCount$).inActiveCustomerGroup)}}function k(o,r){if(1&o&&(t.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul")(6,"li")(7,"p"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.YNc(10,J,1,0,"span",5),t.ALo(11,"async"),t.TgZ(12,"button",6),t._UZ(13,"img",7),t.qZA(),t.YNc(14,P,3,3,"h3",0),t.ALo(15,"async"),t.qZA(),t.TgZ(16,"li")(17,"p"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.YNc(20,R,1,0,"span",5),t.ALo(21,"async"),t.TgZ(22,"button",8),t._UZ(23,"img",7),t.qZA(),t.YNc(24,Y,3,3,"h3",0),t.ALo(25,"async"),t.qZA(),t.TgZ(26,"li")(27,"p"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.YNc(30,_,1,0,"span",5),t.ALo(31,"async"),t.TgZ(32,"button",9),t._UZ(33,"img",7),t.qZA(),t.YNc(34,z,3,3,"h3",0),t.ALo(35,"async"),t.qZA(),t.TgZ(36,"li")(37,"p"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.YNc(40,H,1,0,"span",5),t.ALo(41,"async"),t.TgZ(42,"button",10),t._UZ(43,"img",7),t.qZA(),t.YNc(44,N,3,3,"h3",0),t.ALo(45,"async"),t.qZA(),t.TgZ(46,"li")(47,"p"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.YNc(50,w,1,0,"span",5),t.ALo(51,"async"),t.TgZ(52,"button",11),t._UZ(53,"img",7),t.qZA(),t.YNc(54,B,3,3,"h3",0),t.ALo(55,"async"),t.qZA(),t.TgZ(56,"li")(57,"p"),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.YNc(60,j,1,0,"span",5),t.ALo(61,"async"),t.TgZ(62,"button",12),t._UZ(63,"img",7),t.qZA(),t.YNc(64,K,3,3,"h3",0),t.ALo(65,"async"),t.qZA()()()()()()()),2&o){const e=t.oxw();t.xp6(8),t.hij("",t.lcZ(9,18,"Customers.Customer.TotalCustomer")," "),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,20,e.layoutSandbox.customerCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(15,22,e.layoutSandbox.customerCountLoading$)),t.xp6(4),t.hij("",t.lcZ(19,24,"Customers.Customer.ActiveCustomer")," "),t.xp6(2),t.Q6J("ngIf",t.lcZ(21,26,e.layoutSandbox.customerCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(25,28,e.layoutSandbox.customerCountLoading$)),t.xp6(4),t.Oqu(t.lcZ(29,30,"Customers.Customer.In-ActiveCustomer")),t.xp6(2),t.Q6J("ngIf",t.lcZ(31,32,e.layoutSandbox.customerCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(35,34,e.layoutSandbox.customerCountLoading$)),t.xp6(4),t.Oqu(t.lcZ(39,36,"Customers.Customer.TotalCustomerGroup")),t.xp6(2),t.Q6J("ngIf",t.lcZ(41,38,e.layoutSandbox.customerCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(45,40,e.layoutSandbox.customerCountLoading$)),t.xp6(4),t.hij("",t.lcZ(49,42,"Customers.Customer.ActiveCustomerGroup")," "),t.xp6(2),t.Q6J("ngIf",t.lcZ(51,44,e.layoutSandbox.customerCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(55,46,e.layoutSandbox.customerCountLoading$)),t.xp6(4),t.Oqu(t.lcZ(59,48,"Customers.Customer.In-ActiveCustomerGroup")),t.xp6(2),t.Q6J("ngIf",t.lcZ(61,50,e.layoutSandbox.customerCountLoading$)),t.xp6(4),t.Q6J("ngIf",!t.lcZ(65,52,e.layoutSandbox.customerCountLoading$))}}const V=[{path:"",redirectTo:"manage-customers",pathMatch:"full"},{path:"",component:(()=>{class o{constructor(e,a){this.layoutSandbox=e,this.router=a,this.router.events.subscribe(u=>{this.id=+this.router.url.split("?")[0].split("/").pop()})}ngOnInit(){this.layoutSandbox.getCustomerCount()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.b),t.Y36(p.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-customer-layout"]],decls:4,vars:1,consts:[[4,"ngIf"],[1,"row","products-section"],[1,"col-12","layout-mar"],[1,"card"],[1,"product-ts-left"],["class","spinner-border spinner-border-sm pull-right","aria-hidden","true",4,"ngIf"],["type","button","placement","bottom","ngbTooltip","Total number of registered customers on the platform."],["src","assets/img/info-ico.svg","alt","info"],["type","button","placement","bottom","ngbTooltip","Number of active customers on the platform."],["type","button","placement","bottom","ngbTooltip","Number of in-active customers on the platform."],["type","button","placement","bottom","ngbTooltip","Total number of customer groups on the platform."],["type","button","placement","bottom","ngbTooltip","Total number of active customer groups on the platform."],["type","button","placement","left","ngbTooltip","Total number of in-active customer groups on the platform."],["aria-hidden","true",1,"spinner-border","spinner-border-sm","pull-right"]],template:function(e,a){1&e&&(t._UZ(0,"app-cms-header")(1,"app-breadcrumb"),t.YNc(2,k,66,54,"div",0),t._UZ(3,"router-outlet")),2&e&&(t.xp6(2),t.Q6J("ngIf","/customers/manage-customers/customer/add"!==a.router.url.split("?")[0]&&a.router.url.split("?")[0]!=="/customers/manage-customers/customer/edit/"+a.id&&"/customers/manage-customers/groups/add"!==a.router.url.split("?")[0]&&a.router.url.split("?")[0]!=="/customers/manage-customers/groups/edit/"+a.id))},directives:[g,$.L,v.O5,S._L,p.lC],pipes:[E.X$,v.Ov],styles:[".layout-mar[_ngcontent-%COMP%]{margin-top:0}"],changeDetection:0}),o})(),children:[{path:"manage-customers",loadChildren:()=>s.e(2039).then(s.bind(s,2039)).then(o=>o.ManageCustomersModule),canActivate:[s(8300).a],data:{permissionForHeader:"customers-customer",root:"customer"}}]}];let q=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.Bz.forChild(V)],p.Bz]}),o})();var tt=s(6693),i=s(2596),ot=s(9900);let F=(()=>{class o extends ot.V{constructor(){super(...arguments),this.params={},this.URL=this.getBaseUrl()}getCustomerCount(){return this.http.get(this.URL+"/admin-customer/customer-count")}}return o.\u0275fac=function(){let r;return function(a){return(r||(r=t.n5z(o)))(a||o)}}(),o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var x=s(655),A=s(9646),T=s(4004),l=s(3900),I=s(1778),U=s(262);class y{constructor(r,e){this.action$=r,this.layoutService=e,this.customerCount$=this.action$.pipe((0,i.l4)(I.MF.GET_CUSTOMER_COUNT),(0,T.U)(a=>a.payload),(0,l.w)(a=>this.layoutService.getCustomerCount().pipe((0,l.w)(u=>[new I.oy(u)]),(0,U.K)(u=>(0,A.of)(new I.mj(u))))))}}y.\u0275fac=function(r){return new(r||y)(t.LFG(i.eX),t.LFG(F))},y.\u0275prov=t.Yz7({token:y,factory:y.\u0275fac}),(0,x.gn)([(0,i.Qm)()],y.prototype,"customerCount$",void 0);var m=s(9538),D=s(8505),Q=s(382);class d{constructor(r,e,a){this.action$=r,this.router=e,this.Service=a,this.doCustomersGroupList$=this.action$.pipe((0,i.l4)(m.MF.DO_CUSTOMERS_GROUP_LIST),(0,T.U)(u=>u.payload),(0,l.w)(u=>this.Service.customersGroupList(u).pipe((0,l.w)(n=>[new m.Dd(n)]),(0,U.K)(n=>(0,A.of)(new m.Vv(n)))))),this.doAddCustomersGroup$=this.action$.pipe((0,i.l4)(m.MF.DO_ADD_CUSTOMERS_GROUP),(0,T.U)(u=>u.payload),(0,l.w)(u=>this.Service.addCustomersGroup(u).pipe((0,D.b)(n=>{n&&this.router.navigate(["/customers/groups/list"])}),(0,l.w)(n=>[new m.kH(n)]),(0,U.K)(n=>(0,A.of)(new m.z8(n)))))),this.doUpdateCustomersGroup$=this.action$.pipe((0,i.l4)(m.MF.DO_UPDATE_CUSTOMERS_GROUP),(0,T.U)(u=>u.payload),(0,l.w)(u=>this.Service.updateCustomersGroup(u).pipe((0,D.b)(n=>{}),(0,l.w)(n=>[new m.yJ(n)]),(0,U.K)(n=>(0,A.of)(new m.D2(n)))))),this.doDeleteCustomersGroup$=this.action$.pipe((0,i.l4)(m.MF.DO_DELETE_CUSTOMERS_GROUP),(0,T.U)(u=>u.payload),(0,l.w)(u=>this.Service.deleteCustomersGroup(u).pipe((0,l.w)(n=>[new m.Gk(n)]),(0,U.K)(n=>(0,A.of)(new m.Ij(n)))))),this.doPginationcustomers$=this.action$.pipe((0,i.l4)(m.MF.DO_PAGINATION_CUSTOMERS_GROUP_LIST),(0,T.U)(u=>u.payload),(0,l.w)(u=>this.Service.customersGroupList(u).pipe((0,l.w)(n=>[new m.pI(n)]),(0,U.K)(n=>(0,A.of)(new m.Rf(n))))))}}d.\u0275fac=function(r){return new(r||d)(t.LFG(i.eX),t.LFG(p.F0),t.LFG(Q.f))},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac}),(0,x.gn)([(0,i.Qm)()],d.prototype,"doCustomersGroupList$",void 0),(0,x.gn)([(0,i.Qm)()],d.prototype,"doAddCustomersGroup$",void 0),(0,x.gn)([(0,i.Qm)()],d.prototype,"doUpdateCustomersGroup$",void 0),(0,x.gn)([(0,i.Qm)()],d.prototype,"doDeleteCustomersGroup$",void 0),(0,x.gn)([(0,i.Qm)()],d.prototype,"doPginationcustomers$",void 0);var et=s(2476);let st=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[F,h.b,Q.f],imports:[[v.ez,q,f.o,tt.q,C.u5,C.UX,i.sQ.forFeature([y,d]),E.aw.forChild(),et.K]]}),o})()}}]);