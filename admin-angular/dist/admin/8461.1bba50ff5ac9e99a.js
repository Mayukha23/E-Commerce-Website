"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[8461],{8461:(Z,P,e)=>{e.r(P),e.d(P,{PersonalizeProductModule:()=>H});var s=e(9808),i=e(3075),u=e(2596),h=e(4218),m=e(6693),d=e(3675),l=e(9291),t=e(5e3),c=e(5635);class F{constructor(r){this.categoryProductCount=r.categoryProductCount||0,this.itemsPerPage=r.itemPage||0}}var C=e(5775),v=e(4149);const O=n=>n.personalizeProduct,T=(0,C.P1)(O,v.Mg),L=(0,C.P1)(O,v.uw),U=(0,C.P1)(O,v.XT);var A=e(7319);let b=(()=>{class n{constructor(o,a){this.appState=o,this.router=a,this.getNewPersonalizeProduct$=this.appState.select(T),this.getPersonalizeProduct$=this.appState.select(L),this.getSettingLoading$=this.appState.select(U)}createPersonalizeProduct(o){this.appState.dispatch(new c.v8(new F(o)))}getPersonalizeProduct(){this.appState.dispatch(new c.Ee)}}return n.\u0275fac=function(o){return new(o||n)(t.LFG(A.yh),t.LFG(l.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var I=e(3052),D=e(7279),E=e(9113);const w=function(){return["/settings"]},G=[{path:"",component:(()=>{class n{constructor(o,a,g){this.fb=o,this.route=a,this.sandbox=g,this.submitted=!1,this.subscriptions=[]}get f(){return this.perProductForm.controls}ngOnInit(){this.initForm(),this.setDefaultValues(),this.getPersonalizeProduct(),this.subscribe()}beforeChange(o){"preventchange-2"===o.panelId&&o.preventDefault(),"preventchange-3"===o.panelId&&!1===o.nextState&&o.preventDefault()}setDefaultValues(){this.perProductForm.patchValue({productCount:"Yes",tc:!0})}initForm(){this.perProductForm=this.fb.group({itemPage:[null],productCount:[null]})}onSubmit(){if(this.submitted=!0,this.perProductForm.invalid)return;const o={};o.itemPage=this.perProductForm.value.itemPage,o.categoryProductCount=1,this.sandbox.createPersonalizeProduct(o)}getPersonalizeProduct(){this.sandbox.getPersonalizeProduct()}subscribe(){this.subscriptions.push(this.sandbox.getPersonalizeProduct$.subscribe(o=>{o&&o[0]&&(this.perProductForm.controls.itemPage.setValue(o[0].itemsPerPage),1===o[0].categoryProductCount?this.perProductForm.patchValue({productCount:"Yes",tc:!0}):0===o[0].categoryProductCount&&this.perProductForm.patchValue({productCount:"No",tc:!0}))}))}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(i.qu),t.Y36(l.gz),t.Y36(b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-settings-countries"]],decls:35,vars:21,consts:[[1,"set-lay-notes","flex",2,"padding","0 10px 10px 10px"],[1,"setup-wrapper","setup-personalize"],[1,"setup-container","flex"],[1,"setup-left"],[1,"sub-header"],[1,"text14"],[1,"setup-right"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(-153%, 18%)","position","absolute",3,"isShow"],[1,"form-horizontal","m-t-20",2,"margin","0",3,"formGroup"],[1,"sup-rht-section"],[1,"suprs-form"],[1,"suprs-form-row","form-group","flex"],[1,"supvalidation"],[1,"suprs-form-col"],["type","text","formControlName","itemPage",1,"form-control",3,"appDisableIfUnauthorized"],[1,"flex","srbtn"],[1,"button-reg","primary",3,"appHideIfUnauthorized","click"],[1,"button-reg","secondary",3,"routerLink","appHideIfUnauthorized"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2,"Note :"),t.qZA(),t.TgZ(3,"p"),t._uU(4,"The admin can configure number of products per page in this section. "),t.qZA()(),t.TgZ(5,"div",1)(6,"div",2)(7,"div",3)(8,"h3",4),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"p",5),t._uU(12,"The admin can set up the default number for display of items per page and this can be based on the number or products in each category also. "),t.qZA()(),t.TgZ(13,"div",6)(14,"div",7),t._UZ(15,"app-global-loader",8),t.ALo(16,"async"),t.qZA(),t.TgZ(17,"form",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"label"),t._uU(22),t.ALo(23,"translate"),t.TgZ(24,"sup",13),t._uU(25,"*"),t.qZA()(),t.TgZ(26,"div",14),t._UZ(27,"input",15),t.qZA()()(),t.TgZ(28,"div",16)(29,"button",17),t.NdJ("click",function(){return a.onSubmit()}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"button",18),t._uU(33),t.ALo(34,"translate"),t.qZA()()()()()()()),2&o&&(t.xp6(9),t.Oqu(t.lcZ(10,10,"Settings.personalize.product.WhatProductdetailsarerequired")),t.xp6(6),t.Q6J("isShow",t.lcZ(16,12,a.sandbox.getSettingLoading$)),t.xp6(2),t.Q6J("formGroup",a.perProductForm),t.xp6(5),t.Oqu(t.lcZ(23,14,"Settings.personalize.product.DefaultItemsPerPage")),t.xp6(5),t.Q6J("appDisableIfUnauthorized","edit-personalize-product"),t.xp6(2),t.Q6J("appHideIfUnauthorized","edit-personalize-product"),t.xp6(1),t.Oqu(t.lcZ(31,16,"Settings.Local.Save")),t.xp6(2),t.Q6J("routerLink",t.DdM(20,w))("appHideIfUnauthorized","edit-personalize-product"),t.xp6(1),t.Oqu(t.lcZ(34,18,"Settings.Local.Country.Cancel")))},directives:[I.A,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,D.f,E.E,l.rH],pipes:[h.X$,s.Ov],styles:["mat-radio-button[_ngcontent-%COMP%]{padding:1px 3px}.settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}"]}),n})()}];let J=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(G)],l.Bz]}),n})();var N=e(9900);let M=(()=>{class n extends N.V{constructor(){super(...arguments),this.url=this.getBaseUrl()}createProduct(o){return this.http.post(this.url+"/settings/create-settings",o)}getProduct(){return this.http.get(this.url+"/settings/get-settings")}}return n.\u0275fac=function(){let r;return function(a){return(r||(r=t.n5z(n)))(a||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var z=e(655),S=e(9646),x=e(4004),f=e(3900),R=e(8505),y=e(262);class p{constructor(r,o){this.action$=r,this.service=o,this.doAddseo$=this.action$.pipe((0,u.l4)(c.MF.DO_NEW_PRODUCT_SETTINGS),(0,x.U)(a=>a.payload),(0,f.w)(a=>this.service.createProduct(a).pipe((0,R.b)(g=>{sessionStorage.setItem("itemsPerPage",g.data.itemsPerPage)}),(0,f.w)(g=>[new c.EH(g)]),(0,y.K)(g=>(0,S.of)(new c.QN(g)))))),this.dogetseosetting$=this.action$.pipe((0,u.l4)(c.MF.DO_PRODUCT_SETTINGS),(0,x.U)(a=>a.payload),(0,f.w)(()=>this.service.getProduct().pipe((0,f.w)(a=>[new c.KP(a)]),(0,y.K)(a=>(0,S.of)(new c.IO(a))))))}}p.\u0275fac=function(r){return new(r||p)(t.LFG(u.eX),t.LFG(M))},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac}),(0,z.gn)([(0,u.Qm)()],p.prototype,"doAddseo$",void 0),(0,z.gn)([(0,u.Qm)()],p.prototype,"dogetseosetting$",void 0);var Y=e(5979),Q=e(520),B=e(2476);let H=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[b,M],imports:[[s.ez,d.o,i.u5,i.UX,m.q,J,B.K,h.aw.forChild({loader:{provide:h.Zw,useFactory:Y.gS,deps:[Q.eN]}}),u.sQ.forFeature([p])]]}),n})()},3052:(Z,P,e)=>{e.d(P,{A:()=>m});var s=e(5e3),i=e(9932),u=e(9808);function h(d,l){1&d&&(s.TgZ(0,"div",1)(1,"div",2),s._UZ(2,"img",3),s.qZA()())}let m=(()=>{class d{constructor(t){this.httpStatus=t,this.subscriptions=[],this.loader=!1,this.getHttpResponse()}ngOnInit(){}getHttpResponse(){this.subscriptions.push(this.httpStatus.getHttpStatus().subscribe(t=>{this.loader=t}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return d.\u0275fac=function(t){return new(t||d)(s.Y36(i.Z))},d.\u0275cmp=s.Xpm({type:d,selectors:[["app-global-loader"]],inputs:{isShow:"isShow"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],["width","80px","height","80px","src","./assets/loader/Spurt-commerce-Loader-2.1.gif"]],template:function(t,c){1&t&&s.YNc(0,h,3,0,"div",0),2&t&&s.Q6J("ngIf",c.isShow)},directives:[u.O5],styles:['#loader[_ngcontent-%COMP%]{bottom:0;height:175px;left:0;margin:auto;position:absolute;right:0;top:0;width:175px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{bottom:0;height:100%;left:0;margin:auto;position:absolute;right:0;top:0;width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:before{border-radius:100%;content:"";height:87.5px;left:0;position:absolute;right:0;top:0;transform:scale(0);width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1){transform:rotate(45deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1):before{animation:.8s linear .1s normal none infinite running load;background:#00ff80 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2){transform:rotate(90deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2):before{animation:.8s linear .2s normal none infinite running load;background:#00ffea none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3){transform:rotate(135deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3):before{animation:.8s linear .3s normal none infinite running load;background:#00aaff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4){transform:rotate(180deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4):before{animation:.8s linear .4s normal none infinite running load;background:#0040ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5){transform:rotate(225deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5):before{animation:.8s linear .5s normal none infinite running load;background:#2a00ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6){transform:rotate(270deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6):before{animation:.8s linear .6s normal none infinite running load;background:#9500ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7){transform:rotate(315deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7):before{animation:.8s linear .7s normal none infinite running load;background:magenta none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8){transform:rotate(360deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8):before{animation:.8s linear .8s normal none infinite running load;background:#ff0095 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{background-position:50% 50%;background-repeat:no-repeat;bottom:-40px;height:20px;left:0;position:absolute;right:0;width:180px}@keyframes load{to{opacity:0;transform:scale(1)}}.spinner-message[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{text-align:center}']}),d})()}}]);