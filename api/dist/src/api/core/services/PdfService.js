'use strict';function a583_0x14ce(){const _0x1aae8a=['380xhXMXq','cwd','tslib','join','__importDefault','toFile','defineProperty','pdf','launch','data:application/pdf;base64,','file://','default','__decorate','80dAGwYP','PdfService','--ignore-ssl-errors=yes','portrait','puppeteer','catch','htmlPdf','--web-security=no','233618tinUom','close','message','setContent','12509zrskuS','__esModule','1344DPUOPc','0mm','1044873aboDFv','5mm','126602sDNzlg','__awaiter','path','newPage','0.5','uploads','moment','10mm','1296940EcqNBD','generatePdf','7gSlVpZ','readHtmlToString','28mm','__importStar','4038210BrYrwh','html-pdf','Letter','--local-url-access=false','./views/','1272hIfSPE','Service','new','.ejs'];a583_0x14ce=function(){return _0x1aae8a;};return a583_0x14ce();}const a583_0x1a108d=a583_0x2afb;(function(_0x4a287a,_0x235987){const _0x11a772=a583_0x2afb,_0x127e78=_0x4a287a();while(!![]){try{const _0x35ca95=-parseInt(_0x11a772(0x1c6))/0x1*(parseInt(_0x11a772(0x1bc))/0x2)+parseInt(_0x11a772(0x1ba))/0x3+parseInt(_0x11a772(0x1c4))/0x4+parseInt(_0x11a772(0x19d))/0x5*(parseInt(_0x11a772(0x199))/0x6)+-parseInt(_0x11a772(0x1b6))/0x7*(-parseInt(_0x11a772(0x1b8))/0x8)+-parseInt(_0x11a772(0x194))/0x9+-parseInt(_0x11a772(0x1aa))/0xa*(-parseInt(_0x11a772(0x1b2))/0xb);if(_0x35ca95===_0x235987)break;else _0x127e78['push'](_0x127e78['shift']());}catch(_0x2b186c){_0x127e78['push'](_0x127e78['shift']());}}}(a583_0x14ce,0x412d1));function a583_0x2afb(_0x193357,_0x57a910){const _0x14ce0d=a583_0x14ce();return a583_0x2afb=function(_0x2afb09,_0x4bb8b0){_0x2afb09=_0x2afb09-0x194;let _0x495e0e=_0x14ce0d[_0x2afb09];return _0x495e0e;},a583_0x2afb(_0x193357,_0x57a910);}Object[a583_0x1a108d(0x1a3)](exports,a583_0x1a108d(0x1b7),{'value':!![]}),exports['PdfService']=void 0x0;const tslib_1=require(a583_0x1a108d(0x19f)),typedi_1=require('typedi'),path=tslib_1[a583_0x1a108d(0x1c9)](require(a583_0x1a108d(0x1be))),ejs=require('ejs'),moment_1=tslib_1[a583_0x1a108d(0x1a1)](require(a583_0x1a108d(0x1c2)));let PdfService=class PdfService{['createPDFFile'](_0x1ee479,_0x4bec59=![],_0x3e6885=''){const _0x4b68a1=a583_0x1a108d,_0x4d9855=require('html-pdf-node'),_0x2dfb05=_0x4b68a1(0x1a7)+path[_0x4b68a1(0x1a0)](process[_0x4b68a1(0x19e)](),_0x4b68a1(0x1c1)),_0x522012={'format':'A4','orientation':_0x4b68a1(0x1ad),'base':_0x2dfb05,'margin':{'top':_0x4b68a1(0x1b9),'left':_0x4b68a1(0x1bb),'bottom':_0x4b68a1(0x1b9),'right':_0x4b68a1(0x1bb)},'timeout':0xea60,'zoomFactor':_0x4b68a1(0x1c0),'quality':'100','phantomArgs':[_0x4b68a1(0x1b1),_0x4b68a1(0x197),_0x4b68a1(0x1ac)],'footer':{'height':_0x4b68a1(0x1c8),'contents':{'default':'<p\x20style=\x22margin-left:\x2010px;color:\x20#000;;margin-top:0;font-size:\x200.50rem;\x22>This\x20is\x20a\x20system\x20generated\x20invoice\x20and\x20needs\x20no\x20signature.\x20Jurisdiction\x20in\x20case\x20of\x20disputes\x20be\x20limited\x20to\x20the\x20state\x20from\x20which\x20the\x20product\x20is\x20shipped.\x20Maximum\x20liability\x20is\x20restricted\x20to\x20selling\x20price\x20collected\x20from\x20the\x20customer</p>'}}};return new Promise((_0x228cdf,_0x5550a)=>tslib_1[_0x4b68a1(0x1bd)](this,void 0x0,void 0x0,function*(){const _0x4452c8=_0x4b68a1;try{const _0x5cccf4={'content':_0x1ee479},_0x4562de=yield _0x4d9855[_0x4452c8(0x1c5)](_0x5cccf4,_0x522012),_0x509861=yield _0x4562de['toString']('base64');return _0x4bec59&&_0x228cdf(_0x4452c8(0x1a6)+_0x509861),_0x228cdf(_0x4562de);}catch(_0x453d6f){_0x5550a(_0x453d6f[_0x4452c8(0x1b4)]);}}));}[a583_0x1a108d(0x1c7)](_0x4557d6,_0x173a17){return new Promise((_0x285985,_0x55469d)=>{const _0x2d5400=a583_0x2afb;ejs['renderFile'](_0x2d5400(0x198)+_0x4557d6+_0x2d5400(0x19c),{'data':_0x173a17,'moment':moment_1[_0x2d5400(0x1a8)]},(_0x317c21,_0x5b5f5c)=>{if(_0x317c21)return _0x55469d(_0x317c21);return _0x285985(_0x5b5f5c);});});}['createPDFBuffer'](_0x1ffe7b){const _0x158510=a583_0x1a108d;return tslib_1[_0x158510(0x1bd)](this,void 0x0,void 0x0,function*(){const _0x2e2c04=_0x158510,_0x38744d=require(_0x2e2c04(0x1ae)),_0x3b1abe=yield _0x38744d[_0x2e2c04(0x1a5)]({'headless':_0x2e2c04(0x19b)}),_0x1788e4=yield _0x3b1abe[_0x2e2c04(0x1bf)]();return yield _0x1788e4[_0x2e2c04(0x1b5)](_0x1ffe7b),new Promise((_0x32b465,_0x5895bc)=>{const _0x489048=_0x2e2c04;_0x1788e4[_0x489048(0x1a4)]({'format':_0x489048(0x196)})['then'](_0x208484=>{const _0x409b08=_0x489048;_0x3b1abe[_0x409b08(0x1b3)](),_0x32b465(_0x208484);})[_0x489048(0x1af)](_0x3a071b=>{_0x5895bc(_0x3a071b);});});});}[a583_0x1a108d(0x1b0)](_0x1656cd,_0x76b0e2){const _0x317cad=a583_0x1a108d;return tslib_1[_0x317cad(0x1bd)](this,void 0x0,void 0x0,function*(){const _0x2dbb76=_0x317cad,_0x22092c=require(_0x2dbb76(0x195)),_0xcb415a={'format':_0x2dbb76(0x196),'border':_0x2dbb76(0x1c3)};return new Promise((_0x41e2b3,_0x463485)=>{const _0x4205c4=_0x2dbb76;_0x22092c['create'](_0x1656cd,_0xcb415a)[_0x4205c4(0x1a2)](_0x76b0e2,(_0x37e802,_0x170969)=>{_0x37e802&&_0x463485(_0x37e802),_0x41e2b3(_0x170969);});});});}};PdfService=tslib_1[a583_0x1a108d(0x1a9)]([(0x0,typedi_1[a583_0x1a108d(0x19a)])()],PdfService),exports[a583_0x1a108d(0x1ab)]=PdfService;