"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[5476],{41262:(x,v,i)=>{i.d(v,{k:()=>r});var e=i(5e3),g=i(22313),p=i(99291),f=i(89113);const O=function(){return["/catalog/manage-products/product_variant/variant-settings/variant-list"]},h=function(){return["/catalog/manage-products/product_variant/variant-settings/filters/list"]};let r=(()=>{class s{constructor(u){this.titleService=u,this.isClassVisible=!1}ngOnInit(){this.titleService.setTitle("Variant")}}return s.\u0275fac=function(u){return new(u||s)(e.\u0275\u0275directiveInject(g.Dx))},s.\u0275cmp=e.\u0275\u0275defineComponent({type:s,selectors:[["app-variant-layout"]],decls:11,vars:8,consts:[[1,"setup-wrapper"],[1,"setup-container","localization-container"],[1,"loc-lay-title"],[1,"card","ap-general","ap-info","set-loc-card"],[1,"localize-tab"],[1,"tab","seo-tab"],["routerLinkActive","active",1,"tablinks",3,"appHideIfUnauthorized","routerLinkActive","routerLink"]],template:function(u,_){1&u&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"div",2),e.\u0275\u0275elementStart(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),e.\u0275\u0275text(7,"Variants"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",6),e.\u0275\u0275text(9,"Filters"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275element(10,"router-outlet")),2&u&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("appHideIfUnauthorized","variant")("routerLinkActive","active")("routerLink",e.\u0275\u0275pureFunction0(6,O)),e.\u0275\u0275advance(2),e.\u0275\u0275property("appHideIfUnauthorized","filters")("routerLinkActive","active")("routerLink",e.\u0275\u0275pureFunction0(7,h)))},directives:[p.Od,f.E,p.rH,p.lC],styles:[".sidebar_menu[_ngcontent-%COMP%]:focus{color:#f2086d;background:white}.sidebar_menu[_ngcontent-%COMP%]:hover:active{color:#f2086d;background:white}.mat-menu-item[_ngcontent-%COMP%]{outline:none!important}.settings-section[_ngcontent-%COMP%]{z-index:unset!important}.setup-wrapper[_ngcontent-%COMP%]{margin-top:0!important;padding:0 18px}"],changeDetection:0}),s})()},55476:(x,v,i)=>{i.r(v),i.d(v,{Variantmodule:()=>V});var e=i(69808),g=i(99291),p=i(8300),f=i(41262),C=i(9819),O=i(64858),t=i(5e3),h=i(15869),r=i(26296),s=i(10518),c=i(89113),u=i(33052),_=i(86087),b=i(84218);function S(a,m){if(1&a){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tr")(1,"td"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"td",12),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"td",16)(6,"button",17),t.\u0275\u0275listener("click",function(){const d=t.\u0275\u0275restoreView(n).$implicit;return t.\u0275\u0275nextContext().addNewVariant(d,"edit")}),t.\u0275\u0275element(7,"img",18),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"button",17),t.\u0275\u0275listener("click",function(){const d=t.\u0275\u0275restoreView(n).$implicit;return t.\u0275\u0275nextContext().deleteOptions(d.id)}),t.\u0275\u0275element(9,"img",19),t.\u0275\u0275elementEnd()()()}if(2&a){const n=m.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.name),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.sortOrder),t.\u0275\u0275advance(2),t.\u0275\u0275property("appHideIfUnauthorized","variant-edit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("appHideIfUnauthorized","varient-delete")}}const M=function(){return["variant-delete","variant-edit"]},P=function(a){return[a]},L=[{path:"",redirectTo:"variant-list",pathMatch:"full"},{path:"",component:f.k,children:[{path:"variant-list",component:(()=>{class a{constructor(n,o,l,d){this.sandbox=n,this.service=o,this.route=l,this.modalService=d,this.offset=0,this.pageSize="10",this.subscriptions=[],this.variantDetails={},this.type="edit"}ngOnInit(){this.sandbox.productOptionsAddLoaded$.subscribe(n=>{!0===n&&(this.productOptionsList(),this.productOptionListCount())}),this.sandbox.productOptionsUpdateLoaded$.subscribe(n=>{!0===n&&(this.productOptionsList(),this.productOptionListCount())}),this.index=0,this.deleteId=!0,this.pageSize=sessionStorage.getItem("itemsPerPage")?sessionStorage.getItem("itemsPerPage"):this.pageSize,this.productOptionsList(),this.productOptionListCount()}productOptionsList(){const n={};n.limit=this.pageSize,n.offset=this.offset,n.count=0,this.sandbox.getVariantsList(n)}productOptionListCount(){const n={};n.limit=this.pageSize,n.offset=this.offset,n.count=1,this.sandbox.getVariantsListCount(n)}pageLength(){this.productOptionsList(),this.productOptionListCount()}onPageChange(n){this.currentPage=n.offset,this.pageSize=n.pageSize,this.index=n.pageIndex,this.offset=n.pageSize*n.pageIndex,this.productOptionsList()}deleteOptions(n){const o=this.modalService.open(C.j,{size:"sm",windowClass:"delete-confirm",backdrop:"static",backdropClass:"createcr"});o.componentInstance.key="",o.componentInstance.id="",o.result.then(l=>{"deleted"===l&&(this.sandbox.doVariantsDelete({id:n}),this.subscriptions.push(this.sandbox.deleteVariant$.subscribe(d=>{d&&1===d.status&&(this.productOptionsList(),this.productOptionListCount())})))})}editOptions(n){this.route.navigate(["/settings/site-settings/variants/edit",n.id])}addOption(){this.route.navigate(["/settings/site-settings/variants/add"])}addNewVariant(n,o){this.variantDetails=null,this.service.variantsetdata(this.variantDetails);const l=this.modalService.open(O.z,{windowClass:"settingroles",backdrop:"static",centered:!1,animation:!1});"edit"===o&&(this.variantDetails=n,this.service.variantsetdata(this.variantDetails),l.componentInstance.edit="edit",l.componentInstance.id=n),l.result.then(d=>{})}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}}return a.\u0275fac=function(n){return new(n||a)(t.\u0275\u0275directiveInject(h.g),t.\u0275\u0275directiveInject(r.l),t.\u0275\u0275directiveInject(g.F0),t.\u0275\u0275directiveInject(s.FF))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["app-variant-list"]],decls:34,vars:29,consts:[[1,"settings-variant-wrapper"],[1,"svw-header","flex"],[1,"svwh-lft"],[1,"svwh-btn"],[1,"button-reg","primary",3,"appHideIfUnauthorized","click"],["src","assets/img/add-white-ico.png","alt",""],[1,"product-table"],[1,"spinner-wrapper"],[2,"transform","translate(600%, 50%)","position","absolute",3,"isShow"],[1,"table-responsive"],[1,"table"],["width","70%"],[1,"text-center"],[1,"text-right",3,"appHideIfUnauthorized","multipleHide"],[4,"ngFor","ngForOf"],[3,"length","pageSize","pageIndex","pageSizeOptions","page"],[1,"text-right","action-btn"],[3,"appHideIfUnauthorized","click"],["src","assets/img/edit.png","alt",""],["src","assets/img/delete-new.png","alt",""]],template:function(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t.\u0275\u0275text(4,"Note :"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"p"),t.\u0275\u0275text(6,"Variants are different options that will be available for the Customer to choose from the same product range. For example, T-shirts in different colours and sizes. The admin can create the master list of variants and add values under them. For example, under size \u2013 different values can be large, extra large and so on."),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",3)(8,"button",4),t.\u0275\u0275listener("click",function(){return o.addNewVariant("","add")}),t.\u0275\u0275element(9,"img",5),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",6)(13,"div",7),t.\u0275\u0275element(14,"app-global-loader",8),t.\u0275\u0275pipe(15,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"div",9)(17,"table",10)(18,"thead")(19,"tr")(20,"th",11),t.\u0275\u0275text(21),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(23,"th",12),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(26,"th",13),t.\u0275\u0275text(27),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(29,"tbody"),t.\u0275\u0275template(30,S,10,4,"tr",14),t.\u0275\u0275pipe(31,"async"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(32,"mat-paginator",15),t.\u0275\u0275listener("page",function(d){return o.onPageChange(d)}),t.\u0275\u0275pipe(33,"async"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(8),t.\u0275\u0275property("appHideIfUnauthorized","variant-add"),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(11,12,"Settings.SiteSettings.variants.AddVariant")," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("isShow",t.\u0275\u0275pipeBind1(15,14,o.sandbox.productOptionsListLoading$)),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(22,16,"Settings.SiteSettings.variants.VariantName")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(25,18,"catalog.productOption.SortOrder"),"\t"),t.\u0275\u0275advance(2),t.\u0275\u0275property("multipleHide",t.\u0275\u0275pureFunction0(26,M)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(28,20,"catalog.productOption.Action")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(31,22,o.sandbox.productOptionsList$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("length",t.\u0275\u0275pipeBind1(33,24,o.sandbox.getProductOptionsListCount$))("pageSize",o.pageSize)("pageIndex",o.index)("pageSizeOptions",t.\u0275\u0275pureFunction1(27,P,o.pageSize)))},directives:[c.E,u.A,e.NgForOf,_.NW],pipes:[b.X$,e.AsyncPipe],styles:[".settings-variant-wrapper[_ngcontent-%COMP%]{padding:0 35px}.settings-variant-wrapper[_ngcontent-%COMP%]   .svw-header[_ngcontent-%COMP%]{width:100%;justify-content:space-between;align-items:center;margin-bottom:30px}.settings-variant-wrapper[_ngcontent-%COMP%]   .svw-header[_ngcontent-%COMP%]   .svwh-lft[_ngcontent-%COMP%]{width:70%}.settings-variant-wrapper[_ngcontent-%COMP%]   .svw-header[_ngcontent-%COMP%]   .svwh-lft[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#181918;margin:0 0 2px}.settings-variant-wrapper[_ngcontent-%COMP%]   .svw-header[_ngcontent-%COMP%]   .svwh-lft[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:#707070;margin:0}"]}),a})(),canActivate:[p.a],data:{permissionForHeader:"settings-site-variant",root:"settingsSite",urls:[{title:"Catalog",url:""},{title:"Manage Products",url:""},{title:"Variants",url:""}]}}]},{path:"filters",loadChildren:()=>Promise.all([i.e(8259),i.e(8592),i.e(8026)]).then(i.bind(i,48026)).then(a=>a.FiltersModule),canActivate:[p.a],data:{permissionForHeader:"settings-site-filters",root:"settingsSite"}}];let E=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=t.\u0275\u0275defineInjector({imports:[[g.Bz.forChild(L)],g.Bz]}),a})();var y=i(34303),D=i(12476);let V=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=t.\u0275\u0275defineInjector({imports:[[e.CommonModule,E,y.m,b.aw,D.K]]}),a})()},9819:(x,v,i)=>{i.d(v,{j:()=>O});var e=i(5e3),g=i(10518),p=i(85699),f=i(8110),C=i(84218);let O=(()=>{class t{constructor(r,s,c){this.activeModal=r,this.sellerSandbox=s,this.productSandbox=c}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key?(this.sellerSandbox.deleteSeller({vendorId:this.id}),this.sellerSandbox.deleteLoaded$.subscribe(r=>{!0===r&&this.activeModal.close("deleted")})):"product"===this.key?(this.productSandbox.doProductDelete({productId:this.id}),this.productSandbox.productDeleteLoaded$.subscribe(r=>{!0===r&&this.activeModal.close("deleted")})):this.activeModal.close("deleted")}}return t.\u0275fac=function(r){return new(r||t)(e.\u0275\u0275directiveInject(g.Kz),e.\u0275\u0275directiveInject(p.A),e.\u0275\u0275directiveInject(f.Z))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-delete-confirmation-dialog"]],decls:15,vars:9,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true",2,"background-color","white"],["src","assets/img/info-triangle.svg"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(r,s){1&r&&(e.\u0275\u0275elementStart(0,"div",0)(1,"button",1),e.\u0275\u0275listener("click",function(){return s.close()}),e.\u0275\u0275elementStart(2,"span",2),e.\u0275\u0275text(3,"\xd7"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"h4"),e.\u0275\u0275element(5,"img",3),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",4)(9,"button",5),e.\u0275\u0275listener("click",function(){return s.close()}),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",6),e.\u0275\u0275listener("click",function(){return s.deleteContent()}),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd()()()),2&r&&(e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,3,"CommonFormAll.Doyouwanttodelete")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,5,"CommonFormAll.No")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,7,"CommonFormAll.Yes"),""))},pipes:[C.X$],styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px;border:none}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}"]}),t})()}}]);