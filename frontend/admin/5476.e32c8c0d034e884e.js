"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[5476],{41262:(M,f,i)=>{i.d(f,{k:()=>S});var e=i(5e3),h=i(22313),c=i(99291),C=i(89113);const p=function(){return["/catalog/manage-products/product_variant/variant-settings/variant-list"]},r=function(){return["/catalog/manage-products/product_variant/variant-settings/filters/list"]},u=function(){return["/catalog/manage-products/product_variant/variant-settings/filters/edit"]},b=function(){return["/catalog/manage-products/product_variant/variant-settings/filters/add"]};let S=(()=>{class m{constructor(g){this.titleService=g,this.isClassVisible=!1}ngOnInit(){this.titleService.setTitle("Variant")}}return m.\u0275fac=function(g){return new(g||m)(e.\u0275\u0275directiveInject(h.Dx))},m.\u0275cmp=e.\u0275\u0275defineComponent({type:m,selectors:[["app-variant-layout"]],decls:14,vars:14,consts:[[1,"setup-wrapper"],[1,"setup-container","localization-container"],[1,"loc-lay-title"],[1,"card","ap-general","ap-info","set-loc-card"],[1,"localize-tab"],[1,"tab","seo-tab"],["routerLinkActive","active",1,"tablinks",3,"appHideIfUnauthorized","routerLinkActive","routerLink"],[2,"color","#222",3,"routerLink"],[2,"display","none",3,"routerLink"]],template:function(g,L){1&g&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"div",2),e.\u0275\u0275elementStart(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),e.\u0275\u0275text(7,"Variants"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",6)(9,"a",7),e.\u0275\u0275text(10,"Filters"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"a",8)(12,"a",8),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275element(13,"router-outlet")),2&g&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("appHideIfUnauthorized","variant")("routerLinkActive","active")("routerLink",e.\u0275\u0275pureFunction0(9,p)),e.\u0275\u0275advance(2),e.\u0275\u0275property("appHideIfUnauthorized","filters")("routerLinkActive","active")("routerLink",e.\u0275\u0275pureFunction0(10,r)),e.\u0275\u0275advance(1),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(11,r)),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(12,u)),e.\u0275\u0275advance(1),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(13,b)))},directives:[c.Od,C.E,c.rH,c.yS,c.lC],styles:[".sidebar_menu[_ngcontent-%COMP%]:focus{color:#f2086d;background:white}.sidebar_menu[_ngcontent-%COMP%]:hover:active{color:#f2086d;background:white}.mat-menu-item[_ngcontent-%COMP%]{outline:none!important}.settings-section[_ngcontent-%COMP%]{z-index:unset!important}.setup-wrapper[_ngcontent-%COMP%]{margin-top:0!important;padding:0 18px}"],changeDetection:0}),m})()},55476:(M,f,i)=>{i.r(f),i.d(f,{Variantmodule:()=>V});var e=i(69808),h=i(99291),c=i(8300),C=i(41262),O=i(9819),p=i(64858),t=i(5e3),r=i(15869),l=i(26296),u=i(10518),_=i(89113),b=i(33052),S=i(86087),m=i(84218);function x(a,v){if(1&a){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tr")(1,"td"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"td",12),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"td",16)(6,"button",17),t.\u0275\u0275listener("click",function(){const s=t.\u0275\u0275restoreView(n).$implicit;return t.\u0275\u0275nextContext().addNewVariant(s,"edit")}),t.\u0275\u0275element(7,"img",18),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"button",17),t.\u0275\u0275listener("click",function(){const s=t.\u0275\u0275restoreView(n).$implicit;return t.\u0275\u0275nextContext().deleteOptions(s.id)}),t.\u0275\u0275element(9,"img",19),t.\u0275\u0275elementEnd()()()}if(2&a){const n=v.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.name),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.sortOrder),t.\u0275\u0275advance(2),t.\u0275\u0275property("appHideIfUnauthorized","variant-edit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("appHideIfUnauthorized","varient-delete")}}const g=function(){return["variant-delete","variant-edit"]},L=function(a){return[a]},y=[{path:"",redirectTo:"variant-list",pathMatch:"full"},{path:"",component:C.k,children:[{path:"variant-list",component:(()=>{class a{constructor(n,o,d,s){this.sandbox=n,this.service=o,this.route=d,this.modalService=s,this.offset=0,this.pageSize="10",this.subscriptions=[],this.variantDetails={},this.type="edit"}ngOnInit(){this.sandbox.productOptionsAddLoaded$.subscribe(n=>{!0===n&&(this.productOptionsList(),this.productOptionListCount())}),this.sandbox.productOptionsUpdateLoaded$.subscribe(n=>{!0===n&&(this.productOptionsList(),this.productOptionListCount())}),this.index=0,this.deleteId=!0,this.pageSize=sessionStorage.getItem("itemsPerPage")?sessionStorage.getItem("itemsPerPage"):this.pageSize,this.productOptionsList(),this.productOptionListCount()}productOptionsList(){const n={};n.limit=this.pageSize,n.offset=this.offset,n.count=0,this.sandbox.getVariantsList(n)}productOptionListCount(){const n={};n.limit=this.pageSize,n.offset=this.offset,n.count=1,this.sandbox.getVariantsListCount(n)}pageLength(){this.productOptionsList(),this.productOptionListCount()}onPageChange(n){this.currentPage=n.offset,this.pageSize=n.pageSize,this.index=n.pageIndex,this.offset=n.pageSize*n.pageIndex,this.productOptionsList()}deleteOptions(n){const o=this.modalService.open(O.j,{size:"sm",windowClass:"delete-confirm",backdrop:"static",modalDialogClass:"modal-dialog-centered",backdropClass:"createcr"});o.componentInstance.key="",o.componentInstance.id="",o.componentInstance.deleteMessage="Variant",o.result.then(d=>{"deleted"===d&&(this.sandbox.doVariantsDelete({id:n}),this.subscriptions.push(this.sandbox.deleteVariant$.subscribe(s=>{s&&1===s.status&&(this.productOptionsList(),this.productOptionListCount())})))})}editOptions(n){this.route.navigate(["/settings/site-settings/variants/edit",n.id])}addOption(){this.route.navigate(["/settings/site-settings/variants/add"])}addNewVariant(n,o){this.variantDetails=null,this.service.variantsetdata(this.variantDetails);const d=this.modalService.open(p.z,{windowClass:"settingroles",backdrop:"static",centered:!1,animation:!1});"edit"===o&&(this.variantDetails=n,this.service.variantsetdata(this.variantDetails),d.componentInstance.edit="edit",d.componentInstance.id=n),d.result.then(s=>{})}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}}return a.\u0275fac=function(n){return new(n||a)(t.\u0275\u0275directiveInject(r.g),t.\u0275\u0275directiveInject(l.l),t.\u0275\u0275directiveInject(h.F0),t.\u0275\u0275directiveInject(u.FF))},a.\u0275cmp=t.\u0275\u0275defineComponent({type:a,selectors:[["app-variant-list"]],decls:34,vars:29,consts:[[1,"settings-variant-wrapper"],[1,"svw-header","flex"],[1,"svwh-lft"],[1,"svwh-btn"],[1,"button-reg","primary",3,"appHideIfUnauthorized","click"],["src","assets/img/add-white-ico.png","alt",""],[1,"product-table"],[1,"spinner-wrapper"],[2,"transform","translate(600%, 50%)","position","absolute",3,"isShow"],[1,"table-responsive"],[1,"table"],["width","70%"],[1,"text-center"],[1,"text-right",3,"appHideIfUnauthorized","multipleHide"],[4,"ngFor","ngForOf"],[3,"length","pageSize","pageIndex","pageSizeOptions","page"],[1,"text-right","action-btn"],[3,"appHideIfUnauthorized","click"],["src","assets/img/edit.png","alt",""],["src","assets/img/delete-new.png","alt",""]],template:function(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t.\u0275\u0275text(4,"Note :"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"p"),t.\u0275\u0275text(6,"Variants are different options that will be available for the Customer to choose from the same product range. For example, T-shirts in different colours and sizes. The admin can create the master list of variants and add values under them. For example, under size \u2013 different values can be large, extra large and so on."),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",3)(8,"button",4),t.\u0275\u0275listener("click",function(){return o.addNewVariant("","add")}),t.\u0275\u0275element(9,"img",5),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",6)(13,"div",7),t.\u0275\u0275element(14,"app-global-loader",8),t.\u0275\u0275pipe(15,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"div",9)(17,"table",10)(18,"thead")(19,"tr")(20,"th",11),t.\u0275\u0275text(21),t.\u0275\u0275pipe(22,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(23,"th",12),t.\u0275\u0275text(24),t.\u0275\u0275pipe(25,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(26,"th",13),t.\u0275\u0275text(27),t.\u0275\u0275pipe(28,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(29,"tbody"),t.\u0275\u0275template(30,x,10,4,"tr",14),t.\u0275\u0275pipe(31,"async"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(32,"mat-paginator",15),t.\u0275\u0275listener("page",function(s){return o.onPageChange(s)}),t.\u0275\u0275pipe(33,"async"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(8),t.\u0275\u0275property("appHideIfUnauthorized","variant-add"),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(11,12,"Settings.SiteSettings.variants.AddVariant")," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("isShow",t.\u0275\u0275pipeBind1(15,14,o.sandbox.productOptionsListLoading$)),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(22,16,"Settings.SiteSettings.variants.VariantName")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(25,18,"catalog.productOption.SortOrder"),"\t"),t.\u0275\u0275advance(2),t.\u0275\u0275property("multipleHide",t.\u0275\u0275pureFunction0(26,g)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(28,20,"catalog.productOption.Action")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(31,22,o.sandbox.productOptionsList$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("length",t.\u0275\u0275pipeBind1(33,24,o.sandbox.getProductOptionsListCount$))("pageSize",o.pageSize)("pageIndex",o.index)("pageSizeOptions",t.\u0275\u0275pureFunction1(27,L,o.pageSize)))},directives:[_.E,b.A,e.NgForOf,S.NW],pipes:[m.X$,e.AsyncPipe],styles:[".settings-variant-wrapper[_ngcontent-%COMP%]{padding:0 35px}.settings-variant-wrapper[_ngcontent-%COMP%]   .svw-header[_ngcontent-%COMP%]{width:100%;justify-content:space-between;align-items:center;margin-bottom:30px}.settings-variant-wrapper[_ngcontent-%COMP%]   .svw-header[_ngcontent-%COMP%]   .svwh-lft[_ngcontent-%COMP%]{width:70%}.settings-variant-wrapper[_ngcontent-%COMP%]   .svw-header[_ngcontent-%COMP%]   .svwh-lft[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#181918;margin:0 0 2px}.settings-variant-wrapper[_ngcontent-%COMP%]   .svw-header[_ngcontent-%COMP%]   .svwh-lft[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:#707070;margin:0}"]}),a})(),canActivate:[c.a],data:{permissionForHeader:"settings-site-variant",root:"settingsSite",urls:[{title:"Catalog",url:""},{title:"Manage Products",url:""},{title:"Variants",url:""}]}}]},{path:"filters",loadChildren:()=>Promise.all([i.e(8259),i.e(8592),i.e(8026)]).then(i.bind(i,48026)).then(a=>a.FiltersModule),canActivate:[c.a],data:{permissionForHeader:"settings-site-filters",root:"settingsSite"}}];let I=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=t.\u0275\u0275defineInjector({imports:[[h.Bz.forChild(y)],h.Bz]}),a})();var E=i(34303),D=i(12476);let V=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=t.\u0275\u0275defineInjector({imports:[[e.CommonModule,I,E.m,m.aw,D.K]]}),a})()},9819:(M,f,i)=>{i.d(f,{j:()=>O});var e=i(5e3),h=i(10518),c=i(85699),C=i(8110);let O=(()=>{class p{constructor(r,l,u){this.activeModal=r,this.sellerSandbox=l,this.productSandbox=u}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key?(this.sellerSandbox.deleteSeller({vendorId:this.id}),this.sellerSandbox.deleteLoaded$.subscribe(r=>{!0===r&&this.activeModal.close("deleted")})):"product"===this.key?(this.productSandbox.doProductDelete({productId:this.id}),this.productSandbox.productDeleteLoaded$.subscribe(r=>{!0===r&&this.activeModal.close("deleted")})):this.activeModal.close("deleted")}}return p.\u0275fac=function(r){return new(r||p)(e.\u0275\u0275directiveInject(h.Kz),e.\u0275\u0275directiveInject(c.A),e.\u0275\u0275directiveInject(C.Z))},p.\u0275cmp=e.\u0275\u0275defineComponent({type:p,selectors:[["app-delete-confirmation-dialog"]],inputs:{deleteMessage:"deleteMessage"},decls:14,vars:1,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true",2,"background-color","white"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(r,l){1&r&&(e.\u0275\u0275elementStart(0,"div",0)(1,"button",1),e.\u0275\u0275listener("click",function(){return l.close()}),e.\u0275\u0275elementStart(2,"span",2),e.\u0275\u0275text(3,"\xd7"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"h3"),e.\u0275\u0275text(5,"Delete Confirmation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"h4"),e.\u0275\u0275elementStart(9,"div",3)(10,"button",4),e.\u0275\u0275listener("click",function(){return l.close()}),e.\u0275\u0275text(11," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",5),e.\u0275\u0275listener("click",function(){return l.deleteContent()}),e.\u0275\u0275text(13," Delete "),e.\u0275\u0275elementEnd()()()),2&r&&(e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("Are you sure want to delete this ",l.deleteMessage," ?"))},styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px;border:none}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}"]}),p})()}}]);