(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[7314],{62953:(Eu,bs,Ma)=>{"use strict";Ma.d(bs,{z:()=>e});var Oa=Ma(97582),Ci=Ma(39646),tt=Ma(54004),W=Ma(63900),t=Ma(18505),A=Ma(36642),y=Ma(70262),i=Ma(4751),P=Ma(94327),l=Ma(5e3),m=Ma(99291),r=Ma(61870);class e{constructor(a,h,f){this.action$=a,this.router=h,this.sellerService=f,this.sellerList$=this.action$.pipe((0,A.l4)(i.MF.GET_SELLER_LIST),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.sellerList(u).pipe((0,W.w)(g=>[new i.lq(g)]),(0,y.K)(g=>(0,Ci.of)(new i.fh(g)))))),this.sellerAdd$=this.action$.pipe((0,A.l4)(i.MF.DO_SELLER_ADD),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.sellerAdd(u).pipe((0,t.b)(g=>{}),(0,W.w)(g=>[new i.dL(g)]),(0,y.K)(g=>(0,Ci.of)(new i.a4(g)))))),this.sellerUpdate$=this.action$.pipe((0,A.l4)(i.MF.DO_SELLER_UPDATE),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.sellerUpdate(u).pipe((0,t.b)(g=>{}),(0,W.w)(g=>[new i.dL(g)]),(0,y.K)(g=>(0,Ci.of)(new i.a4(g)))))),this.pageDetails$=this.action$.pipe((0,A.l4)(i.MF.PAGE_DETAILS),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.pageDetails(u).pipe((0,tt.U)(g=>new i.l6(g)),(0,y.K)(g=>(0,Ci.of)(new i.ch(g)))))),this.doSellerDelete$=this.action$.pipe((0,A.l4)(i.MF.DO_DELETE_SELLER_ACTION),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.deleteSeller(u).pipe((0,W.w)(g=>[new i.u2(g)]),(0,y.K)(g=>(0,Ci.of)(new i.lo(g)))))),this.doSellerExcel$=this.action$.pipe((0,A.l4)(i.MF.GET_SELLER_EXCEL),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.sellerExcel(u).pipe((0,t.b)(g=>{const c="SellerExcel_"+Date.now()+".xlsx",w=new Blob([g],{type:"text/xlsx"});(0,P.saveAs)(w,c)}),(0,W.w)(g=>[new i.tE(g)]),(0,y.K)(g=>(0,Ci.of)(new i.NR(g)))))),this.doSellerBulkDelete$=this.action$.pipe((0,A.l4)(i.MF.DO_SELLER_BULK_DELETE),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.sellerBulkDelete(u).pipe((0,W.w)(g=>[new i.LO(g)]),(0,y.K)(g=>(0,Ci.of)(new i.Uy(g)))))),this.doSellerApproval$=this.action$.pipe((0,A.l4)(i.MF.DO_SELLER_APPROVAL),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.sellerApproval(u).pipe((0,W.w)(g=>[new i.YC(g)]),(0,y.K)(g=>(0,Ci.of)(new i.PY(g)))))),this.docountrylists$=this.action$.pipe((0,A.l4)(i.MF.GET_COUNTRY_LIST),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.countrylist(u).pipe((0,t.b)(g=>{}),(0,W.w)(g=>[new i._N(g)]),(0,y.K)(g=>(0,Ci.of)(new i.GU(g)))))),this.vendorCounts$=this.action$.pipe((0,A.l4)(i.MF.GET_VENDOR_COUNTS),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.vendorCounts().pipe((0,W.w)(g=>[new i.YW(g)]),(0,y.K)(g=>(0,Ci.of)(new i.M4(g)))))),this.dozonelists$=this.action$.pipe((0,A.l4)(i.MF.ZONE_LIST),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.zoneList(u).pipe((0,W.w)(g=>[new i.$e(g)]),(0,y.K)(g=>(0,Ci.of)(new i.Jg(g)))))),this.sellerListCount$=this.action$.pipe((0,A.l4)(i.MF.SELLER_LIST_COUNT),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.sellerListCount(u).pipe((0,W.w)(g=>[new i.bL(g)]),(0,y.K)(g=>(0,Ci.of)(new i.Bu(g)))))),this.getproductList$=this.action$.pipe((0,A.l4)(i.MF.GET_PRODUCT_LIST),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.getproductList(u).pipe((0,W.w)(g=>[new i.Ck(g)]),(0,y.K)(g=>(0,Ci.of)(new i.QU(g)))))),this.getproductListcount$=this.action$.pipe((0,A.l4)(i.MF.GET_PRODUCT_LIST_COUNT),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.getproductListcount(u).pipe((0,W.w)(g=>[new i.mb(g)]),(0,y.K)(g=>(0,Ci.of)(new i.Z4(g)))))),this.checkAvailability$=this.action$.pipe((0,A.l4)(i.MF.CHECK_AVAILABILITY),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.checkAvailability(u).pipe((0,W.w)(g=>[new i.$_(g)]),(0,y.K)(g=>(0,Ci.of)(new i.kD(g)))))),this.stateList$=this.action$.pipe((0,A.l4)(i.MF.STATE_LIST),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.stateList(u).pipe((0,W.w)(g=>[new i.M3(g)]),(0,y.K)(g=>(0,Ci.of)(new i.Ay(g))))))}}e.\u0275fac=function(a){return new(a||e)(l.\u0275\u0275inject(A.eX),l.\u0275\u0275inject(m.F0),l.\u0275\u0275inject(r.n))},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"sellerList$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"sellerAdd$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"sellerUpdate$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"pageDetails$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"doSellerDelete$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"doSellerExcel$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"doSellerBulkDelete$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"doSellerApproval$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"docountrylists$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"vendorCounts$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"dozonelists$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"sellerListCount$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"getproductList$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"getproductListcount$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"checkAvailability$",void 0),(0,Oa.gn)([(0,A.Qm)()],e.prototype,"stateList$",void 0)},77314:(Eu,bs,Ma)=>{"use strict";Ma.r(bs),Ma.d(bs,{DashboardModule:()=>Yr});var Oa=Ma(69808),Ci=Ma(3675),tt=Ma(93075),W=Ma(36642),t=Ma(40520),A=Ma(9900),y=Ma(5e3);let i=(()=>{class je extends A.V{constructor(){super(...arguments),this.params={},this.URL=this.getBaseUrl()}getTopSellingProducts(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/product/top-performing-products",Ve)}getSalesOrders(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/admin-customer/customer-visit-list",Ve)}getVisitorsList(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/order/transaction-list",Ve)}getRecentVisitorsList(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/product/top-five-repeatedly-purchased-customers",Ve)}getRecentSellingProductList(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/product/recent-selling-product",Ve)}getItemsPerPageCount(){return this.http.get(this.URL+"/settings?defaultWebsite=1")}getDashboardCount(){return this.http.get(this.URL+"/product/dashboard-admin-totalvendor-totalproduct-count")}averageOrderValue(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/product/dashboard-average-order-value",Ve)}totalCustomersList(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/product/dashboard/admin-customers-count",Ve)}getTopSellingProductListCount(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/product/top-performing-products",Ve)}totalRevenue(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/product/dashboard-total-revenue",Ve)}totalOrders(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/product/dashboard-admin/orders-count",Ve)}newCustomers(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/product/dashboard/admin-customers-count",Ve)}averageConversionRatio(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/product/dashboard-average-conversion-ratio",Ve)}transactionValues(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/order/transaction-list",Ve)}vendor(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/admin-customer/vendor-graph-list",Ve)}salesgraph(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/order/sales-graph-list",Ve)}weeklysalesproduct(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/product/dashboard/graph-weekly-saleslist",Ve)}toptenweeklyproducts(Be){const Ve={},vr=Object.getOwnPropertyNames(Be).reduce((Hr,rn)=>Hr.set(rn,Be[rn]),new t.LE);return Ve.params=vr,this.http.get(this.URL+"/product/top-performing-products",Ve)}}return je.\u0275fac=function(){let xr;return function(Ve){return(xr||(xr=y.\u0275\u0275getInheritedFactory(je)))(Ve||je)}}(),je.\u0275prov=y.\u0275\u0275defineInjectable({token:je,factory:je.\u0275fac}),je})();var P=Ma(85762),L=Ma(85775),l=Ma(3492);const m=je=>je.dashboard,r=(0,L.P1)(m,l.Z5),e=(0,L.P1)(m,l.Xe),s=(0,L.P1)(m,l.Ps),h=((0,L.P1)(m,l.wZ),(0,L.P1)(m,l.gE)),f=(0,L.P1)(m,l.Lp),u=(0,L.P1)(m,l.yS),c=((0,L.P1)(m,l.W3),(0,L.P1)(m,l.B9)),w=(0,L.P1)(m,l.kh),d=(0,L.P1)(m,l._1),v=((0,L.P1)(m,l.OF),(0,L.P1)(m,l.DE)),M=(0,L.P1)(m,l.AZ),b=(0,L.P1)(m,l.P0),x=((0,L.P1)(m,l.$),(0,L.P1)(m,l.CB)),S=(0,L.P1)(m,l.SP),T=(0,L.P1)(m,l.or),C=((0,L.P1)(m,l.gf),(0,L.P1)(m,l.Bm)),p=(0,L.P1)(m,l.Q7),F=(0,L.P1)(m,l.G3),N=((0,L.P1)(m,l.zR),(0,L.P1)(m,l.bh)),k=(0,L.P1)(m,l.$_),z=(0,L.P1)(m,l.Pj),O=((0,L.P1)(m,l.d8),(0,L.P1)(m,l.KL)),U=(0,L.P1)(m,l.Ek),G=(0,L.P1)(m,l.zp),et=((0,L.P1)(m,l.aq),(0,L.P1)(m,l.pH)),at=(0,L.P1)(m,l.jB),lt=(0,L.P1)(m,l.NJ),j=((0,L.P1)(m,l.rr),(0,L.P1)(m,l.C4)),rt=(0,L.P1)(m,l.mW),H=(0,L.P1)(m,l.y$),it=((0,L.P1)(m,l.OV),(0,L.P1)(m,l.XO)),Q=(0,L.P1)(m,l.Tb),Y=(0,L.P1)(m,l.eB),_=((0,L.P1)(m,l.TB),(0,L.P1)(m,l.if)),st=(0,L.P1)(m,l.f4),dt=(0,L.P1)(m,l.AE),yt=((0,L.P1)(m,l.ie),(0,L.P1)(m,l.R1)),St=(0,L.P1)(m,l.dq),Et=(0,L.P1)(m,l.Wf),gt=((0,L.P1)(m,l.FO),(0,L.P1)(m,l.BN)),Mt=(0,L.P1)(m,l.$P),Nt=(0,L.P1)(m,l.o9),Pt=((0,L.P1)(m,l.Mw),(0,L.P1)(m,l.Hx)),Vt=(0,L.P1)(m,l.eo),re=(0,L.P1)(m,l.dl),It=((0,L.P1)(m,l.xB),(0,L.P1)(m,l.XX)),Rt=(0,L.P1)(m,l.OC),$t=(0,L.P1)(m,l.ZU),se=((0,L.P1)(m,l.y3),(0,L.P1)(m,l.fq)),ve=(0,L.P1)(m,l.q1),de=(0,L.P1)(m,l._7),Ct=((0,L.P1)(m,l.vf),(0,L.P1)(m,l.UZ)),Wt=(0,L.P1)(m,l.dB),Xt=(0,L.P1)(m,l.l2),Bt=((0,L.P1)(m,l.p9),(0,L.P1)(m,l.Kl)),zt=(0,L.P1)(m,l.rU),kt=(0,L.P1)(m,l.h0),ft=((0,L.P1)(m,l.tv),(0,L.P1)(m,l.cV)),pt=(0,L.P1)(m,l.D_),Dt=(0,L.P1)(m,l.M7),te=((0,L.P1)(m,l.vR),(0,L.P1)(m,l.eD)),ee=(0,L.P1)(m,l.sv),Ne=(0,L.P1)(m,l.CV);(0,L.P1)(m,l.pb);var ye=Ma(47319);let Te=(()=>{class je{constructor(Be){this.appState=Be,this.OrderCount$=this.appState.select(r),this.OrderCountLoading$=this.appState.select(s),this.OrderCountLoaded$=this.appState.select(e),this.productCount$=this.appState.select(h),this.productCountLoading$=this.appState.select(u),this.productCountLoaded$=this.appState.select(f),this.customerCount$=this.appState.select(c),this.customerCountLoading$=this.appState.select(d),this.customerCountLoaded$=this.appState.select(w),this.topSellingProducts$=this.appState.select(v),this.topSellingProductsLoading$=this.appState.select(b),this.topSellingProductsLoaded$=this.appState.select(M),this.salesOrderList$=this.appState.select(x),this.salesOrderListLoading$=this.appState.select(T),this.salesOrderListLoaded$=this.appState.select(S),this.recentVisitorList$=this.appState.select(N),this.recentVisitorListLoading$=this.appState.select(z),this.recentVisitorListLoaded$=this.appState.select(k),this.visitorLogList$=this.appState.select(C),this.visitorLogListLoading$=this.appState.select(F),this.visitorLogListLoaded$=this.appState.select(p),this.recentSellingProduct$=this.appState.select(O),this.recentSellingProductLoading$=this.appState.select(G),this.recentSellingProductLoaded$=this.appState.select(U),this.dashboardCount$=this.appState.select(et),this.dashboardCountLoading$=this.appState.select(at),this.dashboardCountLoaded$=this.appState.select(lt),this.averageOrderValue$=this.appState.select(j),this.averageOrderValueLoading$=this.appState.select(rt),this.averageOrderValueLoaded$=this.appState.select(H),this.totalCustomersList$=this.appState.select(it),this.totalCustomersListLoading$=this.appState.select(Q),this.totalCustomersListLoaded$=this.appState.select(Y),this.getTopSellingProductListCount$=this.appState.select(_),this.getTopSellingProductListCountLoading$=this.appState.select(st),this.getTopSellingProductListCountLoaded$=this.appState.select(dt),this.totalRevenue$=this.appState.select(yt),this.totalRevenueLoading$=this.appState.select(St),this.totalRevenueLoaded$=this.appState.select(Et),this.totalOrders$=this.appState.select(gt),this.totalOrdersLoading$=this.appState.select(Mt),this.totalOrdersLoaded$=this.appState.select(Nt),this.newCustomers$=this.appState.select(Pt),this.newCustomersLoading$=this.appState.select(Vt),this.newCustomersLoaded$=this.appState.select(re),this.averageConversionRatio$=this.appState.select(It),this.averageConversionRatioLoading$=this.appState.select(Rt),this.averageConversionRatioLoaded$=this.appState.select($t),this.transactionValues$=this.appState.select(se),this.transactionValuesLoading$=this.appState.select(ve),this.transactionValuesLoaded$=this.appState.select(de),this.vendor$=this.appState.select(Ct),this.vendorLoading$=this.appState.select(Wt),this.vendorLoaded$=this.appState.select(Xt),this.salesgraph$=this.appState.select(Bt),this.salesgraphLoading$=this.appState.select(zt),this.salesgraphLoaded$=this.appState.select(kt),this.weeklysalesproduct$=this.appState.select(ft),this.weeklysalesproductLoading$=this.appState.select(pt),this.weeklysalesproductLoaded$=this.appState.select(Dt),this.toptenweeklyproducts$=this.appState.select(te),this.toptenweeklyproductsLoading$=this.appState.select(ee),this.toptenweeklyproductsLoaded$=this.appState.select(Ne)}getTopSellingProductList(Be){this.appState.dispatch(new P._U(Be))}getSalesOrderList(Be={}){this.appState.dispatch(new P.zR(Be))}getVisitorLogsList(Be={}){this.appState.dispatch(new P.oM(Be))}getRecentVisitorList(Be={}){this.appState.dispatch(new P.Ns(Be))}getRecentSellingProductList(Be={}){this.appState.dispatch(new P.ch(Be))}getItemPerPageCount(Be={}){this.appState.dispatch(new P.UY(Be))}getDashboardCount(){this.appState.dispatch(new P.wh)}averageOrderValue(Be){this.appState.dispatch(new P.mN(Be))}totalCustomersList(Be){this.appState.dispatch(new P.Dr(Be))}getTopSellingProductListCount(Be){this.appState.dispatch(new P.WR(Be))}totalRevenue(Be){this.appState.dispatch(new P.c7(Be))}totalOrders(Be){this.appState.dispatch(new P.AA(Be))}newCustomers(Be){this.appState.dispatch(new P.$y(Be))}averageConversionRatio(Be){this.appState.dispatch(new P.qj(Be))}transactionValues(Be){this.appState.dispatch(new P.j(Be))}vendor(Be){this.appState.dispatch(new P.QA(Be))}salesgraph(Be){this.appState.dispatch(new P.KJ(Be))}weeklysalesproduct(Be){this.appState.dispatch(new P.vs(Be))}toptenweeklyproducts(Be){this.appState.dispatch(new P.gF(Be))}}return je.\u0275fac=function(Be){return new(Be||je)(y.\u0275\u0275inject(ye.yh))},je.\u0275prov=y.\u0275\u0275defineInjectable({token:je,factory:je.\u0275fac}),je})();var Ge=Ma(97582),hr=Ma(39646),ce=Ma(54004),Ue=Ma(63900),Ye=Ma(70262),gr=Ma(18505);class tr{constructor(xr,Be){this.action$=xr,this.dashboardService=Be,this.doTopSellingProducts$=this.action$.pipe((0,W.l4)(P.MF.GET_TOP_SELLING_PRODUCTS),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.getTopSellingProducts(Ve).pipe((0,Ue.w)(vr=>[new P.eG(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.yZ(vr)))))),this.doSalesOrderList$=this.action$.pipe((0,W.l4)(P.MF.GET_SALES_ORDER_LIST),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.getSalesOrders(Ve).pipe((0,Ue.w)(vr=>[new P.ki(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.nH(vr)))))),this.doVisitorLogs$=this.action$.pipe((0,W.l4)(P.MF.GET_VISITOR_LOG_LIST),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.getVisitorsList(Ve).pipe((0,Ue.w)(vr=>[new P.nK(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.Um(vr)))))),this.doRecentVisitorList$=this.action$.pipe((0,W.l4)(P.MF.GET_RECENT_VISITOR_LIST),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.getRecentVisitorsList(Ve).pipe((0,Ue.w)(vr=>[new P.mZ(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.WO(vr)))))),this.doRecentSellingProducts$=this.action$.pipe((0,W.l4)(P.MF.GET_RECENT_SELLING_PRODUCT),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.getRecentSellingProductList(Ve).pipe((0,Ue.w)(vr=>[new P.f_(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.IQ(vr)))))),this.doItemPageCount$=this.action$.pipe((0,W.l4)(P.MF.GET_ITEMS_PAGECOUNT),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(()=>this.dashboardService.getItemsPerPageCount().pipe((0,gr.b)(Ve=>{}),(0,Ue.w)(Ve=>[new P.wZ(Ve)]),(0,Ye.K)(Ve=>(0,hr.of)(new P.zF(Ve)))))),this.dashboardCount$=this.action$.pipe((0,W.l4)(P.MF.GET_DASHBOARD_COUNT),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.getDashboardCount().pipe((0,Ue.w)(vr=>[new P.j_(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.SS(vr)))))),this.averageOrderValue$=this.action$.pipe((0,W.l4)(P.MF.AVERAGE_ORDER_VALUE),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.averageOrderValue(Ve).pipe((0,Ue.w)(vr=>[new P.l6(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.UO(vr)))))),this.totalCustomersList$=this.action$.pipe((0,W.l4)(P.MF.TOTAL_CUSTOMERS_LIST),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.totalCustomersList(Ve).pipe((0,Ue.w)(vr=>[new P.Ue(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.x4(vr)))))),this.getTopSellingProductListCount$=this.action$.pipe((0,W.l4)(P.MF.TOP_SELLING_PRODUCT_COUNT),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.getTopSellingProductListCount(Ve).pipe((0,Ue.w)(vr=>[new P.zD(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.mX(vr)))))),this.totalRevenue$=this.action$.pipe((0,W.l4)(P.MF.TOTAL_REVENUE),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.totalRevenue(Ve).pipe((0,Ue.w)(vr=>[new P._2(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.C4(vr)))))),this.totalOrders$=this.action$.pipe((0,W.l4)(P.MF.TOTAL_ORDERS),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.totalOrders(Ve).pipe((0,Ue.w)(vr=>[new P.EI(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.Mw(vr)))))),this.newCustomers$=this.action$.pipe((0,W.l4)(P.MF.NEW_CUSTOMERS),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.newCustomers(Ve).pipe((0,Ue.w)(vr=>[new P.De(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.Qt(vr)))))),this.averageConversionRatio$=this.action$.pipe((0,W.l4)(P.MF.AVERAGE_CONVERSION_RATIO),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.averageConversionRatio(Ve).pipe((0,Ue.w)(vr=>[new P.p0(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.XE(vr)))))),this.transactionValues$=this.action$.pipe((0,W.l4)(P.MF.TRANSACTION_VALUES),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.transactionValues(Ve).pipe((0,Ue.w)(vr=>[new P.J2(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.ti(vr)))))),this.vendor$=this.action$.pipe((0,W.l4)(P.MF.VENDOR),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.vendor(Ve).pipe((0,Ue.w)(vr=>[new P.Gb(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.eB(vr)))))),this.salesgraph$=this.action$.pipe((0,W.l4)(P.MF.SALESGRAPH),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.salesgraph(Ve).pipe((0,Ue.w)(vr=>[new P.X0(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.fn(vr)))))),this.weeklysalesproduct$=this.action$.pipe((0,W.l4)(P.MF.WEEKLYSALESPRODUCT),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.weeklysalesproduct(Ve).pipe((0,Ue.w)(vr=>[new P.Xg(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.FG(vr)))))),this.toptenweeklyproducts$=this.action$.pipe((0,W.l4)(P.MF.TOPTENWEEKLYPRODUCTS),(0,ce.U)(Ve=>Ve.payload),(0,Ue.w)(Ve=>this.dashboardService.toptenweeklyproducts(Ve).pipe((0,Ue.w)(vr=>[new P.p$(vr)]),(0,Ye.K)(vr=>(0,hr.of)(new P.qs(vr))))))}}tr.\u0275fac=function(xr){return new(xr||tr)(y.\u0275\u0275inject(W.eX),y.\u0275\u0275inject(i))},tr.\u0275prov=y.\u0275\u0275defineInjectable({token:tr,factory:tr.\u0275fac}),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"doTopSellingProducts$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"doSalesOrderList$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"doVisitorLogs$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"doRecentVisitorList$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"doRecentSellingProducts$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"doItemPageCount$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"dashboardCount$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"averageOrderValue$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"totalCustomersList$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"getTopSellingProductListCount$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"totalRevenue$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"totalOrders$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"newCustomers$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"averageConversionRatio$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"transactionValues$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"vendor$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"salesgraph$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"weeklysalesproduct$",void 0),(0,Ge.gn)([(0,W.Qm)()],tr.prototype,"toptenweeklyproducts$",void 0);var he=Ma(99291),ne=Ma(92340),pe=Ma(73056),be=Ma(22313),Se=Ma(97941),Me=Ma(85699),Ie=Ma(22290),Fe=Ma(84218),Ze=Ma(24376),nr=Ma(33052);const ir=["plot"],lr=["*"];class Ot{static setModuleName(xr){Ot.moduleName=xr}static getModuleName(){return Ot.moduleName}static setPlotly(xr){if("object"==typeof xr&&"function"!=typeof xr.react)throw new Error("Invalid plotly.js version. Please, use any version above 1.40.0");Ot.plotly=xr}static insert(xr){return-1===Ot.instances.indexOf(xr)&&Ot.instances.push(xr),xr}static remove(xr){const Be=Ot.instances.indexOf(xr);Be>=0&&(Ot.instances.splice(Be,1),Ot.plotly.purge(xr))}getInstanceByDivId(xr){for(const Be of Ot.instances)if(Be&&Be.id===xr)return Be}getPlotly(){return(0,Ge.mG)(this,void 0,void 0,function*(){return yield this.waitFor(()=>"waiting"!==this._getPlotly()),this._getPlotly()})}_getPlotly(){if(void 0===Ot.plotly)throw new Error("ViaCDN"===Ot.moduleName?"Error loading Peer dependency plotly.js from CDN url":"Peer dependency plotly.js isn't installed");return Ot.plotly}waitFor(xr){return new Promise(Be=>{const Ve=()=>{xr()?Be():setTimeout(Ve,10)};Ve()})}newPlot(xr,Be,Ve,vr,Hr){return(0,Ge.mG)(this,void 0,void 0,function*(){if(yield this.waitFor(()=>"waiting"!==this._getPlotly()),Hr){const rn={data:Be,layout:Ve,config:vr,frames:Hr};return this._getPlotly().newPlot(xr,rn).then(()=>Ot.insert(xr))}return this._getPlotly().newPlot(xr,Be,Ve,vr).then(()=>Ot.insert(xr))})}plot(xr,Be,Ve,vr,Hr){if(Hr){const rn={data:Be,layout:Ve,config:vr,frames:Hr};return"function"==typeof this._getPlotly().plot?this._getPlotly().plot(xr,rn):this._getPlotly().newPlot(xr,rn)}return"function"==typeof this._getPlotly().plot?this._getPlotly().plot(xr,Be,Ve,vr):this._getPlotly().newPlot(xr,Be,Ve,vr)}update(xr,Be,Ve,vr,Hr){if(Hr){const rn={data:Be,layout:Ve,config:vr,frames:Hr};return this._getPlotly().react(xr,rn)}return this._getPlotly().react(xr,Be,Ve,vr)}resize(xr){return this._getPlotly().Plots.resize(xr)}}Ot.\u0275fac=function(xr){return new(xr||Ot)},Ot.instances=[],Ot.plotly=void 0,Ot.moduleName=void 0,Ot.\u0275prov=y.\u0275\u0275defineInjectable({factory:function(){return new Ot},token:Ot,providedIn:"root"});let Ut=(()=>{class je{constructor(Be,Ve,vr){this.plotly=Be,this.iterableDiffers=Ve,this.keyValueDiffers=vr,this.defaultClassName="js-plotly-plot",this.revision=0,this.debug=!1,this.useResizeHandler=!1,this.updateOnLayoutChange=!0,this.updateOnDataChange=!0,this.updateOnlyWithRevision=!1,this.initialized=new y.EventEmitter,this.update=new y.EventEmitter,this.purge=new y.EventEmitter,this.error=new y.EventEmitter,this.afterExport=new y.EventEmitter,this.afterPlot=new y.EventEmitter,this.animated=new y.EventEmitter,this.animatingFrame=new y.EventEmitter,this.animationInterrupted=new y.EventEmitter,this.autoSize=new y.EventEmitter,this.beforeExport=new y.EventEmitter,this.buttonClicked=new y.EventEmitter,this.click=new y.EventEmitter,this.plotlyClick=new y.EventEmitter,this.clickAnnotation=new y.EventEmitter,this.deselect=new y.EventEmitter,this.doubleClick=new y.EventEmitter,this.framework=new y.EventEmitter,this.hover=new y.EventEmitter,this.legendClick=new y.EventEmitter,this.legendDoubleClick=new y.EventEmitter,this.react=new y.EventEmitter,this.relayout=new y.EventEmitter,this.restyle=new y.EventEmitter,this.redraw=new y.EventEmitter,this.selected=new y.EventEmitter,this.selecting=new y.EventEmitter,this.sliderChange=new y.EventEmitter,this.sliderEnd=new y.EventEmitter,this.sliderStart=new y.EventEmitter,this.transitioning=new y.EventEmitter,this.transitionInterrupted=new y.EventEmitter,this.unhover=new y.EventEmitter,this.relayouting=new y.EventEmitter,this.treemapclick=new y.EventEmitter,this.sunburstclick=new y.EventEmitter,this.eventNames=["afterExport","afterPlot","animated","animatingFrame","animationInterrupted","autoSize","beforeExport","buttonClicked","clickAnnotation","deselect","doubleClick","framework","hover","legendClick","legendDoubleClick","react","relayout","restyle","redraw","selected","selecting","sliderChange","sliderEnd","sliderStart","transitioning","transitionInterrupted","unhover","relayouting","treemapclick","sunburstclick"]}ngOnInit(){this.createPlot().then(()=>{const Be=this.createFigure();this.initialized.emit(Be)}),this.click.observers.length>0&&console.error("DEPRECATED: Reconsider using `(plotlyClick)` instead of `(click)` to avoid event conflict. Please check https://github.com/plotly/angular-plotly.js#FAQ")}ngOnDestroy(){"function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0);const Be=this.createFigure();this.purge.emit(Be),Ot.remove(this.plotlyInstance)}ngOnChanges(Be){let Ve=!1;const vr=Be.revision;vr&&!vr.isFirstChange()&&(Ve=!0);const Hr=Be.debug;Hr&&!Hr.isFirstChange()&&(Ve=!0),Ve&&this.updatePlot(),this.updateWindowResizeHandler()}ngDoCheck(){if(this.updateOnlyWithRevision)return!1;let Be=!1;this.updateOnLayoutChange&&(this.layoutDiffer?this.layoutDiffer.diff(this.layout)&&(Be=!0):this.layoutDiffer=this.layout?this.keyValueDiffers.find(this.layout).create():void 0),this.updateOnDataChange&&(this.dataDiffer?this.dataDiffer.diff(this.data)&&(Be=!0):this.dataDiffer=Array.isArray(this.data)?this.iterableDiffers.find(this.data).create(this.dataDifferTrackBy):void 0),Be&&this.plotlyInstance&&this.updatePlot()}getWindow(){return window}getClassName(){let Be=[this.defaultClassName];return Array.isArray(this.className)?Be=Be.concat(this.className):this.className&&Be.push(this.className),Be.join(" ")}createPlot(){return this.plotly.newPlot(this.plotEl.nativeElement,this.data,this.layout,this.config,this.frames).then(Be=>{this.plotlyInstance=Be,this.getWindow().gd=this.debug?Be:void 0,this.eventNames.forEach(Ve=>{const vr=`plotly_${Ve.toLowerCase()}`;Be.on(vr,Hr=>this[Ve].emit(Hr))}),Be.on("plotly_click",Ve=>{this.click.emit(Ve),this.plotlyClick.emit(Ve)}),this.updateWindowResizeHandler()},Be=>{console.error("Error while plotting:",Be),this.error.emit(Be)})}createFigure(){const Be=this.plotlyInstance;return{data:Be.data,layout:Be.layout,frames:Be._transitionData?Be._transitionData._frames:null}}updatePlot(){if(!this.plotlyInstance){const Ve=new Error("Plotly component wasn't initialized");throw this.error.emit(Ve),Ve}const Be=Object.assign({},this.layout);return this.plotly.update(this.plotlyInstance,this.data,Be,this.config,this.frames).then(()=>{const Ve=this.createFigure();this.update.emit(Ve)},Ve=>{console.error("Error while updating plot:",Ve),this.error.emit(Ve)})}updateWindowResizeHandler(){this.useResizeHandler?void 0===this.resizeHandler&&(this.resizeHandler=()=>this.plotly.resize(this.plotlyInstance),this.getWindow().addEventListener("resize",this.resizeHandler)):"function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0)}dataDifferTrackBy(Be,Ve){const vr=Object.assign({},Ve,{uid:""});return JSON.stringify(vr)}}return je.\u0275fac=function(Be){return new(Be||je)(y.\u0275\u0275directiveInject(Ot),y.\u0275\u0275directiveInject(y.IterableDiffers),y.\u0275\u0275directiveInject(y.KeyValueDiffers))},je.\u0275cmp=y.\u0275\u0275defineComponent({type:je,selectors:[["plotly-plot"]],viewQuery:function(Be,Ve){if(1&Be&&y.\u0275\u0275viewQuery(ir,7),2&Be){let vr;y.\u0275\u0275queryRefresh(vr=y.\u0275\u0275loadQuery())&&(Ve.plotEl=vr.first)}},inputs:{revision:"revision",debug:"debug",useResizeHandler:"useResizeHandler",updateOnLayoutChange:"updateOnLayoutChange",updateOnDataChange:"updateOnDataChange",updateOnlyWithRevision:"updateOnlyWithRevision",data:"data",layout:"layout",config:"config",frames:"frames",style:"style",divId:"divId",className:"className"},outputs:{initialized:"initialized",update:"update",purge:"purge",error:"error",afterExport:"afterExport",afterPlot:"afterPlot",animated:"animated",animatingFrame:"animatingFrame",animationInterrupted:"animationInterrupted",autoSize:"autoSize",beforeExport:"beforeExport",buttonClicked:"buttonClicked",click:"click",plotlyClick:"plotlyClick",clickAnnotation:"clickAnnotation",deselect:"deselect",doubleClick:"doubleClick",framework:"framework",hover:"hover",legendClick:"legendClick",legendDoubleClick:"legendDoubleClick",react:"react",relayout:"relayout",restyle:"restyle",redraw:"redraw",selected:"selected",selecting:"selecting",sliderChange:"sliderChange",sliderEnd:"sliderEnd",sliderStart:"sliderStart",transitioning:"transitioning",transitionInterrupted:"transitionInterrupted",unhover:"unhover",relayouting:"relayouting",treemapclick:"treemapclick",sunburstclick:"sunburstclick"},features:[y.\u0275\u0275ProvidersFeature([Ot]),y.\u0275\u0275NgOnChangesFeature],ngContentSelectors:lr,decls:3,vars:3,consts:[[3,"ngClass","ngStyle"],["plot",""]],template:function(Be,Ve){1&Be&&(y.\u0275\u0275projectionDef(),y.\u0275\u0275elementStart(0,"div",0,1),y.\u0275\u0275projection(2),y.\u0275\u0275elementEnd()),2&Be&&(y.\u0275\u0275property("ngClass",Ve.getClassName())("ngStyle",Ve.style),y.\u0275\u0275attribute("id",Ve.divId))},directives:[Oa.NgClass,Oa.NgStyle],encapsulation:2}),je})(),Ce=(()=>{class je{constructor(){}}return je.\u0275fac=function(Be){return new(Be||je)},je.\u0275mod=y.\u0275\u0275defineNgModule({type:je}),je.\u0275inj=y.\u0275\u0275defineInjector({providers:[Ot],imports:[[Oa.CommonModule]]}),je})(),Le=(()=>{class je{constructor(){if(!this.isValid())throw new Error("Invalid PlotlyJS object. Please check https://github.com/plotly/angular-plotly.js#quick-start to see how to add PlotlyJS to your project.");Ot.setPlotly(je.plotlyjs)}isValid(){return void 0!==je.plotlyjs&&("function"==typeof je.plotlyjs.plot||"function"==typeof je.plotlyjs.newPlot)}}return je.\u0275fac=function(Be){return new(Be||je)},je.\u0275mod=y.\u0275\u0275defineNgModule({type:je}),je.\u0275inj=y.\u0275\u0275defineInjector({providers:[Ot],imports:[[Oa.CommonModule,Ce],Ce]}),je.plotlyjs={},je})(),Xe=(()=>{class je{constructor(Be){this.plotlyService=Be,Ot.setModuleName("ViaCDN")}static setPlotlyVersion(Be){if("latest"!==Be&&!/^\d\.\d{1,2}\.\d{1,2}$/.test(Be))throw new Error("Invalid plotly version. Please set 'latest' or version number (i.e.: 1.4.3)");je.loadViaCDN(),je.plotlyVersion=Be}static setPlotlyBundle(Be){if(!(null===Be||je.plotlyBundleNames.indexOf(Be)>=0)){const vr=je.plotlyBundleNames.map(Hr=>`"${Hr}"`).join(", ");throw new Error(`Invalid plotly bundle. Please set to null for full or ${vr} for a partial bundle.`)}je.plotlyBundle=Be}static loadViaCDN(){Ot.setPlotly("waiting"),setTimeout(()=>{const Ve=null==je.plotlyBundle?`https://cdn.plot.ly/plotly-${je.plotlyVersion}.min.js`:`https://cdn.plot.ly/plotly-${je.plotlyBundle}-${je.plotlyVersion}.min.js`,vr=document.createElement("script");vr.type="text/javascript",vr.src=Ve,vr.onerror=()=>console.error(`Error loading plotly.js library from ${Ve}`),document.getElementsByTagName("head")[0].appendChild(vr);let rn=200;const Zn=()=>{const $n=window.Plotly;if($n)Ot.setPlotly($n);else{if(!(rn>0))throw new Error(`Error loading plotly.js library from ${Ve}. Timeout.`);rn--,setTimeout(Zn,50)}};Zn()})}}return je.\u0275fac=function(Be){return new(Be||je)(y.\u0275\u0275inject(Ot))},je.\u0275mod=y.\u0275\u0275defineNgModule({type:je}),je.\u0275inj=y.\u0275\u0275defineInjector({providers:[Ot],imports:[[Oa.CommonModule,Ce],Ce]}),je.plotlyBundle=null,je.plotlyVersion="latest",je.plotlyBundleNames=["basic","cartesian","geo","gl3d","gl2d","mapbox","finance"],je})();var fr=Ma(90221),$e=Ma(10518),Re=Ma(47296),or=Ma(86400);function dr(je,xr){1&je&&y.\u0275\u0275element(0,"span",72)}function pr(je,xr){1&je&&y.\u0275\u0275element(0,"span",72)}function Cr(je,xr){1&je&&y.\u0275\u0275element(0,"span",72)}function $r(je,xr){1&je&&y.\u0275\u0275element(0,"span",72)}function Ar(je,xr){1&je&&y.\u0275\u0275element(0,"span",73)}function Gr(je,xr){if(1&je){const Be=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"img",82),y.\u0275\u0275listener("load",function(){y.\u0275\u0275restoreView(Be);const vr=y.\u0275\u0275nextContext().$implicit;return y.\u0275\u0275nextContext().topSellingImageLoading(vr.productId)}),y.\u0275\u0275elementEnd()}if(2&je){const Be=y.\u0275\u0275nextContext().$implicit,Ve=y.\u0275\u0275nextContext();y.\u0275\u0275property("src",Ve.imageURL+"?path="+Be.containerName+"&name="+Be.image+"&width=40&height=40",y.\u0275\u0275sanitizeUrl)("alt",Be.productName)("hidden",!Ve.topSellingImage[Be.productId])}}function nn(je,xr){1&je&&(y.\u0275\u0275elementStart(0,"span",83),y.\u0275\u0275text(1,"..."),y.\u0275\u0275elementEnd())}function Ur(je,xr){if(1&je&&(y.\u0275\u0275elementStart(0,"h4"),y.\u0275\u0275text(1),y.\u0275\u0275pipe(2,"translate"),y.\u0275\u0275elementEnd()),2&je){const Be=y.\u0275\u0275nextContext().$implicit;y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate2("",y.\u0275\u0275pipeBind1(2,2,"Dashboard.Vendors")," : ",Be.companyName,"")}}function Tn(je,xr){if(1&je&&(y.\u0275\u0275elementStart(0,"div",74)(1,"div",75)(2,"div",76),y.\u0275\u0275template(3,Gr,1,3,"img",77),y.\u0275\u0275element(4,"img",78),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"div",79)(6,"h3"),y.\u0275\u0275text(7),y.\u0275\u0275pipe(8,"slice"),y.\u0275\u0275template(9,nn,2,0,"span",80),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(10,Ur,3,4,"h4",81),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(11,"h2"),y.\u0275\u0275text(12),y.\u0275\u0275pipe(13,"translate"),y.\u0275\u0275elementEnd()()),2&je){const Be=xr.$implicit,Ve=y.\u0275\u0275nextContext();y.\u0275\u0275advance(3),y.\u0275\u0275property("ngIf",Be),y.\u0275\u0275advance(1),y.\u0275\u0275property("hidden",Ve.topSellingImage[Be.productId]),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate1("",y.\u0275\u0275pipeBind3(8,7,Be.productName,0,51)," "),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",(null==Be.productName?null:Be.productName.length)>51),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",null!==Be.companyName),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate2("",Be.topPerformingProductCount," ",y.\u0275\u0275pipeBind1(13,11,"Dashboard.nos"),"")}}function bn(je,xr){1&je&&(y.\u0275\u0275elementStart(0,"h2",84),y.\u0275\u0275text(1),y.\u0275\u0275pipe(2,"translate"),y.\u0275\u0275elementEnd()),2&je&&(y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(2,1,"marketplace.product.NoProductsfound")))}function ur(je,xr){1&je&&y.\u0275\u0275element(0,"span",85)}function Mr(je,xr){if(1&je&&(y.\u0275\u0275elementStart(0,"div",86)(1,"div",87),y.\u0275\u0275element(2,"img",88),y.\u0275\u0275elementStart(3,"span"),y.\u0275\u0275text(4),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(5,"div",89)(6,"h4",90),y.\u0275\u0275text(7),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(8,"p"),y.\u0275\u0275text(9),y.\u0275\u0275elementEnd()()()),2&je){const Be=xr.$implicit,Ve=y.\u0275\u0275nextContext();y.\u0275\u0275advance(2),y.\u0275\u0275property("src",Ve.imageURL+"?path="+Be.avatarPath+"&name="+Be.avatar+"&width=50&height=50",y.\u0275\u0275sanitizeUrl),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(Be.orderCount),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(Be.firstName),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(Be.paymentCity)}}function Br(je,xr){1&je&&y.\u0275\u0275element(0,"span",91)}function Or(je,xr){1&je&&y.\u0275\u0275element(0,"span",91)}function sn(je,xr){1&je&&y.\u0275\u0275element(0,"span",72)}function pn(je,xr){1&je&&y.\u0275\u0275element(0,"span",72)}function gn(je,xr){if(1&je&&(y.\u0275\u0275elementStart(0,"ng-option",92),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&je){const Be=xr.$implicit;y.\u0275\u0275propertyInterpolate("value",Be.Values),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(Be.name)}}function wn(je,xr){if(1&je&&(y.\u0275\u0275elementStart(0,"ng-option",92),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&je){const Be=xr.$implicit;y.\u0275\u0275propertyInterpolate("value",Be.Values),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(Be.name)}}function Rn(je,xr){if(1&je&&y.\u0275\u0275element(0,"plotly-plot",93),2&je){const Be=y.\u0275\u0275nextContext();y.\u0275\u0275property("config",Be.salesconfig)("data",Be.salesdata)("layout",Be.saleslayout)}}function Kn(je,xr){1&je&&(y.\u0275\u0275elementStart(0,"p",94),y.\u0275\u0275text(1),y.\u0275\u0275pipe(2,"translate"),y.\u0275\u0275elementEnd()),2&je&&(y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(2,1,"Dashboard.NoDatafound")))}function _n(je,xr){if(1&je&&(y.\u0275\u0275elementStart(0,"ng-option",92),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&je){const Be=xr.$implicit;y.\u0275\u0275propertyInterpolate("value",Be.Values),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(Be.name)}}function ua(je,xr){if(1&je&&(y.\u0275\u0275elementStart(0,"ng-option",92),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&je){const Be=xr.$implicit;y.\u0275\u0275propertyInterpolate("value",Be.Values),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(Be.name)}}function qn(je,xr){if(1&je&&y.\u0275\u0275element(0,"plotly-plot",93),2&je){const Be=y.\u0275\u0275nextContext();y.\u0275\u0275property("config",Be.config)("data",Be.data)("layout",Be.layout)}}function Qn(je,xr){1&je&&(y.\u0275\u0275elementStart(0,"p",94),y.\u0275\u0275text(1),y.\u0275\u0275pipe(2,"translate"),y.\u0275\u0275elementEnd()),2&je&&(y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(2,1,"Dashboard.NoMonthlysalesfound")))}function yr(je,xr){if(1&je&&(y.\u0275\u0275elementStart(0,"ng-option",92),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&je){const Be=xr.$implicit;y.\u0275\u0275propertyInterpolate("value",Be.vendorId),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(Be.firstName)}}function tn(je,xr){if(1&je&&(y.\u0275\u0275elementStart(0,"ng-option",92),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&je){const Be=xr.$implicit;y.\u0275\u0275propertyInterpolate("value",Be.Values),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(Be.name)}}function Qr(je,xr){if(1&je&&(y.\u0275\u0275elementStart(0,"div",95)(1,"div",96)(2,"h3"),y.\u0275\u0275text(3),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(4,"p"),y.\u0275\u0275text(5),y.\u0275\u0275pipe(6,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(7,"p"),y.\u0275\u0275text(8),y.\u0275\u0275pipe(9,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(10,"p"),y.\u0275\u0275text(11),y.\u0275\u0275pipe(12,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(13,"p"),y.\u0275\u0275text(14),y.\u0275\u0275pipe(15,"translate"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(16,"div",97),y.\u0275\u0275element(17,"ngx-charts-pie-chart",98),y.\u0275\u0275elementEnd()()),2&je){const Be=y.\u0275\u0275nextContext();y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(null==Be.vendorDetails?null:Be.vendorDetails.companyName),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate2("",y.\u0275\u0275pipeBind1(6,19,"Sales.Orders.Products")," -",null==Be.vendorDetails?null:Be.vendorDetails.productCount,""),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate2("",y.\u0275\u0275pipeBind1(9,21,"Dashboard.productsSold")," -",null==Be.vendorDetails?null:Be.vendorDetails.productSoldCount,""),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate2("",y.\u0275\u0275pipeBind1(12,23,"Dashboard.outofStock")," -",null==Be.vendorDetails?null:Be.vendorDetails.outOfStockCount,""),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate2("",y.\u0275\u0275pipeBind1(15,25,"Dashboard.delivered")," -",null==Be.vendorDetails?null:Be.vendorDetails.deliveryCount,""),y.\u0275\u0275advance(3),y.\u0275\u0275property("results",Be.vendors)("view",Be.view)("scheme",Be.colorScheme)("gradient",Be.gradient)("legend",!1)("legendPosition",Be.legendPosition)("labels",Be.showLabels)("doughnut",Be.isDoughnut)("trimLabels",!1)("arcWidth",-.4)}}function dn(je,xr){1&je&&(y.\u0275\u0275elementStart(0,"div",94),y.\u0275\u0275text(1),y.\u0275\u0275pipe(2,"translate"),y.\u0275\u0275elementEnd()),2&je&&(y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(2,1,"Dashboard.NoDatafound")))}function Fn(je,xr){if(1&je){const Be=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"p",99)(1,"input",100),y.\u0275\u0275listener("ngModelChange",function(vr){return y.\u0275\u0275restoreView(Be).$implicit.checked=vr})("change",function(vr){const Hr=y.\u0275\u0275restoreView(Be),rn=Hr.$implicit,Zn=Hr.index;return y.\u0275\u0275nextContext().checkboxweekly(vr,rn,Zn)}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(2,"span",101),y.\u0275\u0275text(3),y.\u0275\u0275elementEnd()()}if(2&je){const Be=xr.$implicit;y.\u0275\u0275advance(1),y.\u0275\u0275property("ngModel",Be.checked),y.\u0275\u0275advance(1),y.\u0275\u0275propertyInterpolate("ngbTooltip",Be.productName),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate1("",Be.productName," ")}}function Sn(je,xr){if(1&je&&y.\u0275\u0275element(0,"canvas",102),2&je){const Be=y.\u0275\u0275nextContext();y.\u0275\u0275property("datasets",Be.toptenweeklysalesdata)("labels",Be.demoradarChartLabels)("type","radar")("options",Be.optionsradar)("legend",!1)}}function En(je,xr){1&je&&(y.\u0275\u0275elementStart(0,"div",94),y.\u0275\u0275text(1),y.\u0275\u0275pipe(2,"translate"),y.\u0275\u0275elementEnd()),2&je&&(y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(2,1,"Dashboard.NoDatafound")))}function kn(je,xr){if(1&je&&(y.\u0275\u0275elementStart(0,"ng-option",92),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&je){const Be=xr.$implicit;y.\u0275\u0275propertyInterpolate("value",Be.Values),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(Be.name)}}function Hn(je,xr){1&je&&y.\u0275\u0275element(0,"span",103)}function ta(je,xr){if(1&je&&y.\u0275\u0275element(0,"plotly-plot",104),2&je){const Be=y.\u0275\u0275nextContext();y.\u0275\u0275property("data",Be.data1)("layout",Be.layout1)("config",Be.config1)}}function Sa(je,xr){1&je&&(y.\u0275\u0275elementStart(0,"p",94),y.\u0275\u0275text(1),y.\u0275\u0275pipe(2,"translate"),y.\u0275\u0275elementEnd()),2&je&&(y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(2,1,"Dashboard.NoDatafound")))}const Fr=[{path:"",component:(()=>{class je{constructor(Be,Ve,vr,Hr,rn,Zn,$n,na){this.dashboardSandbox=Be,this.router=Ve,this.configService=vr,this.titleService=Hr,this.layoutSandbox=rn,this.sellerSandbox=Zn,this.toastr=$n,this.translate=na,this.view=[300,300],this.imageURL=this.configService.getImageUrl(),this.showXAxis=!0,this.showYAxis=!0,this.gradient=!1,this.showLegend=!0,this.topSellingImage={},this.recentSellingImage={},this.colorScheme={domain:["#704FC4","#4B852C","#B67A3D","#5B6FC8","#25706F"]},this.topProducts="4",this.averagevalue="4",this.newcustomerscount="4",this.totalorderscount="4",this.totalRevenues="4",this.averageConvertionRatios="4",this.customersVisitmonth="3",this.customersVisityear="2020",this.year=[],this.transactionlistyear="2021",this.vendors=[],this.vendorsyear="2020",this.vendorID=null,this.vendorDetails={},this.top10weeklyproductlist=[],this.xvalue=[],this.yvalue=[],this.title="demo",this.xvalue1=[],this.yvalue1=["Jan","Feb","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],this.title1="demo",this.showLabels=!0,this.isDoughnut=!0,this.legendPosition="below",this.salesgraphyear=2021,this.salesgraphmonth="8",this.salesxvalue=[],this.salesyvalue=[],this.resultValue=[],this.toptenweeklysalesdata=[],this.top10weeklycheckeddata=[],this.demoradarChartLabels=["SUN","MON","TUE","WED","THU","FRI","SAT"],this.demoradarChartData=[{data:[46,46,46,46,46,46],label:"Company A"},{data:[48,48,48,48,48,48],label:"Company B"},{data:[52,52,52,52,52,52],label:"Company c"},{data:[30,30,30,30,30,30],label:"Company D"},{data:[30,30,30,30,30,30],label:"Company E"}],this.radarChartType="radar",this.optionsradar={responsive:!1,maintainAspectRatio:!1,legend:{position:"left",responsive:!0,maintainAspectRatio:!0,labels:{boxWidth:15}},scale:{pointLabels:{fontStyle:"bold"}}},this.subscriptions=[],this.currentDate={year:(new Date).getFullYear(),month:(new Date).getMonth()+1,day:(new Date).getDate()},this.salesgraphyear=this.currentDate.year.toString(),this.customersVisityear=this.currentDate.year.toString(),this.transactionlistyear=this.currentDate.year.toString(),this.vendorsyear=this.currentDate.year.toString(),this.salesgraphmonth=this.currentDate.month.toString(),this.customersVisitmonth=this.currentDate.month.toString();for(let Ta=2010;Ta<=this.currentDate.year;Ta++)this.year.push({name:Ta.toString(),Values:Ta.toString()});this.month=[{name:"Jan",Values:"1"},{name:"Feb",Values:"2"},{name:"Mar",Values:"3"},{name:"Apr",Values:"4"},{name:"May",Values:"5"},{name:"June",Values:"6"},{name:"July",Values:"7"},{name:"Aug",Values:"8"},{name:"Sep",Values:"9"},{name:"Oct",Values:"10"},{name:"Nov",Values:"11"},{name:"Dec",Values:"12"}]}ngOnInit(){this.dashboardSandbox.getDashboardCount(),this.titleService.setTitle("Dashboard"),this.dashboardSandbox.getRecentVisitorList(),this.dashboardSandbox.getRecentSellingProductList(),this.dashboardSandbox.getItemPerPageCount(),this.productUrl=ne.N.productUrl,this.averageOrderValue(),this.getTopSellingProductList(),this.totalRevenue(),this.totalOrders(),this.newCustomers(),this.averageConversionRatio(),this.getSalesOrderList(),this.transactionValues(),this.sellerList(),this.salesgraph(),this.toptenweeklyproducts()}viewProduct(Be){window.open(this.productUrl+"products/productdetails/"+Be)}viewOrder(Be){this.router.navigate(["/sales/orders/vieworder",Be])}topSellingImageLoading(Be){this.topSellingImage[Be]=!0}recentSellingImageLoading(Be){this.recentSellingImage[Be]=!0}averageOrderValue(){let Be={limit:10,offset:0,count:0};Be.duration=this.averagevalue,this.dashboardSandbox.averageOrderValue(Be)}getTopSellingProductList(){let Be={limit:10,offset:0,count:0};Be.duration=this.topProducts,this.dashboardSandbox.getTopSellingProductList(Be),this.subscriptions.push(this.dashboardSandbox.topSellingProducts$.subscribe(Ve=>{})),Be.count=!0,this.dashboardSandbox.getTopSellingProductListCount(Be)}totalRevenue(){let Be={};Be.duration=this.totalRevenues,this.dashboardSandbox.totalRevenue(Be)}totalOrders(){let Be={};Be.duration=this.totalorderscount,this.dashboardSandbox.totalOrders(Be)}newCustomers(){let Be={};Be.duration=this.newcustomerscount,this.dashboardSandbox.newCustomers(Be)}averageConversionRatio(){let Be={};Be.duration=this.averageConvertionRatios,this.dashboardSandbox.averageConversionRatio(Be)}getSalesOrderList(){this.xvalue=[],this.yvalue=[],this.data=[];let Be={};Be.month=this.customersVisitmonth,Be.year=this.customersVisityear,this.dashboardSandbox.getSalesOrderList(Be),this.subscriptions.push(this.dashboardSandbox.salesOrderList$.subscribe(Ve=>{Ve&&0===this.xvalue.length&&0===this.yvalue.length&&(this.customervisits=Ve,this.customervisits.forEach(vr=>{this.xvalue.push(vr.dayOfMonth),this.yvalue.push(JSON.parse(vr.visitCount))}))})),this.trace1={type:"bar",x:this.xvalue,y:this.yvalue,marker:{color:"blue"}},this.data=[this.trace1],this.layout={height:300,autosize:!0,xaxis:{title:"Days",autorange:!0,showgrid:!1,zeroline:!1,showline:!0,showticklabels:!0},yaxis:{title:"Customer Visits",autorange:!0,showgrid:!1,zeroline:!1,showline:!0},annotations:[{xref:"x1",yref:"y1",x:[1,2,3,4],y:[1,2,3,4],text:"",font:{family:"Arial",size:12,color:"rgb(50, 171, 96)"}}],showticklabels:!1,margin:{l:40,r:20,b:40,t:20,pad:4}},this.config={responsive:!0,displayModeBar:!1}}transactionValues(){this.xvalue1=[],this.layout1={},this.data1=[],this.yvalue1=[];let Ve={};Ve.year=this.transactionlistyear,this.dashboardSandbox.transactionValues(Ve),this.resultValue=[],this.subscriptions.push(this.dashboardSandbox.transactionValues$.subscribe(vr=>{vr&&0===this.xvalue1.length&&(this.transactionslist=vr,this.transactionslist.forEach(Hr=>{Hr&&(this.xvalue1.push(JSON.parse(Hr.ordercount)),this.yvalue1.push(function Be(vr){return["January","February","March","April","May","June","July","August","September","October","November","December"][vr-1]}(Hr.month)),this.resultValue.push(Hr.ordercount+", $ "+Hr.orderAmount))}),this.layout1={height:300,autosize:!0,xaxis:{showgrid:!1,zeroline:!1,showline:!1,showticklabels:!1,fixedrange:!0},yaxis:{showgrid:!1,zeroline:!1,showline:!1,showticklabels:!0,fixedrange:!0},barmode:"stack",annotations:[{xref:"paper",yref:"paper",x:this.xvalue1,y:[""],text:"",font:{family:"Arial",size:12,color:"blue"}}],margin:{l:90,r:60,b:40,t:10,pad:10},bargap:.83},this.layout1.annotations=[],this.config1={responsive:!0,displayModeBar:!1},this.xvalue1.forEach((Hr,rn)=>{let Zn={};Zn={xref:"x1",yref:"y1",x:this.xvalue1[rn],y:rn,text:Array(30).fill("\xa0").join("")+this.resultValue[rn],font:{family:"Arial",size:12,color:"black"},showarrow:!1},this.layout1.annotations.push(Zn)}))})),this.trace11={type:"bar",x:this.xvalue1.reverse(),y:this.yvalue1.reverse(),orientation:"h",text:this.yvalue1.map(String),constrainoutsidetext:!0,textposition:"top center",insidetextanchor:"start",mode:"markers+text",marker:{color:"#14BAE1"}},this.data1=[this.trace11]}sellerList(){this.sellerSandbox.sellerList({limit:0,offset:0,status:1,count:0}),this.subscriptions.push(this.sellerSandbox.getSellerList$.subscribe(Ve=>{Ve&&(this.vendorList=Ve,this.vendorList=Ve.filter(vr=>1==vr.approvalFlag&&null!=vr.companyName),this.vendorID=this.vendorList[0].vendorId.toString(),this.vendor())}))}vendor(){let Be={};Be.vendorId=this.vendorID,Be.duration=this.vendorsyear,this.dashboardSandbox.vendor(Be),this.subscriptions.push(this.dashboardSandbox.vendor$.subscribe(Ve=>{(null==Ve?void 0:Ve.array)&&(this.vendors=Ve.array,this.vendorDetails=Ve.val)}))}salesgraph(){this.salesxvalue=[],this.saleslayout={},this.salesyvalue=[],this.salesdata=[];let Be={};Be.year=this.salesgraphyear,Be.month=this.salesgraphmonth,this.dashboardSandbox.salesgraph(Be),this.subscriptions.push(this.dashboardSandbox.salesgraph$.subscribe(Ve=>{Ve&&0===this.salesxvalue.length&&0===this.salesyvalue.length&&(this.salesgraphdata=Ve,this.salesgraphdata.forEach(vr=>{this.salesxvalue.push(vr.dayOfMonth),this.salesyvalue.push(JSON.parse(vr.productCount))}))})),this.salestrace={type:"scatter",x:this.salesxvalue,y:this.salesyvalue,mode:"lines",marker:{color:"#FDA677"}},this.salesdata=[this.salestrace],this.saleslayout={height:300,xaxis:{title:"Days",autorange:!0,showgrid:!1,zeroline:!1,showline:!0,showticklabels:!0},yaxis:{title:"Products Sold",autorange:!0,showgrid:!1,zeroline:!1,showline:!0},annotations:[{xref:"x1",yref:"y1",x:[1,2,3,4],y:[1,2,3,4],text:"",font:{family:"Arial",size:12,color:"rgb(50, 171, 96)"}}],showticklabels:!1,margin:{l:40,r:20,b:40,t:20,pad:4}},this.salesconfig={responsive:!0,displayModeBar:!1}}toptenweeklyproducts(){this.dashboardSandbox.toptenweeklyproducts({limit:10,offset:0,count:0,duration:2}),this.subscriptions.push(this.dashboardSandbox.toptenweeklyproducts$.subscribe(Ve=>{if(Ve&&Ve.length>0){let vr=Ve.map(Hr=>Object.assign(Object.assign({},Hr),{checked:!1}));this.top10weeklyproductlist=vr,this.top10weeklyproductlist.forEach((Hr,rn)=>{rn<3&&(Hr.checked=!0)}),this.top10weeklyproductdatalist=this.top10weeklyproductlist.filter(Hr=>Hr.checked),this.top10weeklycheckeddata=this.top10weeklyproductdatalist.filter(Hr=>Hr.productId),this.weeklysalesproduct()}}))}checkboxweekly(Be,Ve){if(1==Be.target.checked){if(this.top10weeklyproductdatalist.length>2)return this.translateName=this.translate.instant("reports.Enteranyvaluetofilter"),this.toastr.error("this.translateName"),this.top10weeklyproductlist.forEach(vr=>{vr.id==Ve.id&&(Ve.checked=!1)}),Be.target.checked=!1;this.top10weeklyproductdatalist=this.top10weeklyproductlist.filter(vr=>{if(!0===vr.checked)return vr})}else 0==Be.target.checked&&this.top10weeklyproductdatalist.forEach((vr,Hr)=>{vr.id==Ve.id&&this.top10weeklyproductdatalist.splice(Hr,1)});this.weeklysalesproduct()}weeklysalesproduct(){let Be={};this.top10weeklyproductdatalist=this.top10weeklyproductlist.filter(Ve=>Ve.checked),this.top10weeklycheckeddata=this.top10weeklyproductdatalist.map(Ve=>Ve.productId),Be.productId=this.top10weeklycheckeddata,this.dashboardSandbox.weeklysalesproduct(Be),this.subscriptions.push(this.dashboardSandbox.weeklysalesproduct$.subscribe(Ve=>{Ve&&(this.toptenweeklysalesdata=Ve.map((vr,Hr)=>{let rn={};return rn.label=vr.productName,rn.data={},rn.data=vr.value.map(Zn=>Zn.value),rn}))}))}ngOnDestroy(){this.subscriptions.forEach(Be=>Be.unsubscribe())}}return je.\u0275fac=function(Be){return new(Be||je)(y.\u0275\u0275directiveInject(Te),y.\u0275\u0275directiveInject(he.F0),y.\u0275\u0275directiveInject(pe.E),y.\u0275\u0275directiveInject(be.Dx),y.\u0275\u0275directiveInject(Se.b),y.\u0275\u0275directiveInject(Me.A),y.\u0275\u0275directiveInject(Ie._W),y.\u0275\u0275directiveInject(Fe.sK))},je.\u0275cmp=y.\u0275\u0275defineComponent({type:je,selectors:[["app-dashboard"]],features:[y.\u0275\u0275ProvidersFeature([])],decls:299,vars:302,consts:[[1,"dashboard-wrapper"],[1,"dash-topper","flex"],[1,"dast-col"],[1,"dastc-top","flex"],["name","","id","",1,"ng-sel-width",3,"searchable","clearable","ngModel","ngModelChange","change"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"flex","dastc-vtm"],[1,"dastcbtm-ig"],["src","assets/img/total-revenue.png","alt",""],["class","spinner-border spinner-border-sm ","style","margin-left:20px","aria-hidden","true",4,"ngIf"],["name","","id","",1,"ng-sel-width",3,"searchable","clearable","ngModel","change","ngModelChange"],["src","assets/img/total-orders.png","alt",""],["src","assets/img/new-customers.png","alt",""],[2,"margin-top","8px"],[1,"flex","dastc-vtm",2,"margin-top","23px"],["src","assets/img/total-customers.png","alt",""],[1,"dashboard-main","flex"],[1,"dm-lft"],[1,"dml-top","flex"],[1,"dmlt-roe","flex"],[1,"dmlt-lft-img"],["src","assets/img/top-performing.png","alt",""],[1,"dmlt-lft-cont"],["name","","id","",1,"ng-sel-width",2,"margin-left","7px",3,"searchable","clearable","ngModel","ngModelChange","change"],[1,"dmlt-prd-list"],["class","spinner-border","style","position:absolute; margin-left: 130px; margin-top: 110px;","aria-hidden","true",4,"ngIf"],["class","dmltprdlist-row flex",4,"ngFor","ngForOf"],["style","font-size: 16px;width: 139px;margin: auto;margin-top: 31%;",4,"ngIf"],[1,"dml-btm"],[1,"dml-btm-row","flex"],["class","spinner-border spinner-border-sm ","style","margin-left:120px;margin:auto","aria-hidden","true",4,"ngIf"],["class","dml-btm-col flex",4,"ngFor","ngForOf"],[1,"dm-rht"],[1,"dmr-top","flex"],[1,"dmrt-col"],["class","spinner-border spinner-border-sm ","aria-hidden","true",4,"ngIf"],[1,"flex","dmrtc-rw"],[1,"dmr-btm","flex"],[1,"dmr-btm-lft"],[1,"tabset"],["type","radio","name","tabset","id","tab1","aria-controls","marzen","checked","",3,"click"],["for","tab1"],["type","radio","name","tabset","id","tab2","aria-controls","rauchbier",3,"click"],["for","tab2"],["type","radio","name","tabset","id","tab3","aria-controls","dunkles",3,"click"],["for","tab3"],["type","radio","name","tabset","id","tab4","aria-controls","sales",3,"click"],["for","tab4"],[1,"tab-panels"],["id","marzen",1,"tab-panel"],[1,"dmrbtop","flex"],[3,"value",4,"ngFor","ngForOf"],[1,"spinner-wrapper"],[3,"isShow"],[3,"config","data","layout",4,"ngIf"],["class","no-data",4,"ngIf"],["id","rauchbier",1,"tab-panel"],["id","dunkles",1,"tab-panel","dmrtab-vendor"],["name","","id","",1,"ng-sel-width",3,"searchable","clearable","ngModel","placeholder","ngModelChange","change"],["class","flex dmrtabvenrow",4,"ngIf"],["id","sales",1,"tab-panel","dmrb-sales"],[1,"rad-chart"],[1,"rad-chart-left"],["class","checkbox-data","style","display: flex;",4,"ngFor","ngForOf"],[1,"rad-chart-right"],["baseChart","","width","300","height","300",3,"datasets","labels","type","options","legend",4,"ngIf"],[1,"dmr-btm-rht"],["class","spinner-border","style","position:absolute; margin-left: 150px; margin-top: 110px;","aria-hidden","true",4,"ngIf"],[3,"data","layout","config",4,"ngIf"],["aria-hidden","true",1,"spinner-border","spinner-border-sm",2,"margin-left","20px"],["aria-hidden","true",1,"spinner-border",2,"position","absolute","margin-left","130px","margin-top","110px"],[1,"dmltprdlist-row","flex"],[1,"dmltprdlist-lft","flex"],[1,"dmltprdlist-lft-img"],["onError","this.src='assets/error-images/Load-icon-Products.png';",3,"src","alt","hidden","load",4,"ngIf"],["src","./assets/error-images/Load-icon-Products.png","alt","error-img",3,"hidden"],[1,"dmltprdlist-lft-cont"],["style","margin-left: -2px",4,"ngIf"],[4,"ngIf"],["onError","this.src='assets/error-images/Load-icon-Products.png';",3,"src","alt","hidden","load"],[2,"margin-left","-2px"],[2,"font-size","16px","width","139px","margin","auto","margin-top","31%"],["aria-hidden","true",1,"spinner-border","spinner-border-sm",2,"margin-left","120px","margin","auto"],[1,"dml-btm-col","flex"],[1,"dmlbtmc-img"],["onError","this.src='assets/error-images/Load-icon-Products.png';",2,"border-radius","50%","width","24px","height","24px",3,"src"],[1,"dmlbtmc-content"],[2,"overflow","hidden"],["aria-hidden","true",1,"spinner-border","spinner-border-sm"],[3,"value"],[3,"config","data","layout"],[1,"no-data"],[1,"flex","dmrtabvenrow"],[1,"dmrtabvenlft"],[1,"dashboard-card-content"],[3,"results","view","scheme","gradient","legend","legendPosition","labels","doughnut","trimLabels","arcWidth"],[1,"checkbox-data",2,"display","flex"],["type","checkbox",2,"cursor","pointer","position","relative","top","7px",3,"ngModel","ngModelChange","change"],["placement","top-left",1,"product-name",3,"ngbTooltip"],["baseChart","","width","300","height","300",3,"datasets","labels","type","options","legend"],["aria-hidden","true",1,"spinner-border",2,"position","absolute","margin-left","150px","margin-top","110px"],[3,"data","layout","config"]],template:function(Be,Ve){if(1&Be&&(y.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),y.\u0275\u0275text(5),y.\u0275\u0275pipe(6,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(7,"ng-select",4),y.\u0275\u0275listener("ngModelChange",function(Hr){return Ve.totalRevenues=Hr})("change",function(){return Ve.totalRevenue()}),y.\u0275\u0275elementStart(8,"ng-option",5),y.\u0275\u0275text(9),y.\u0275\u0275pipe(10,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(11,"ng-option",6),y.\u0275\u0275text(12),y.\u0275\u0275pipe(13,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(14,"ng-option",7),y.\u0275\u0275text(15),y.\u0275\u0275pipe(16,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(17,"ng-option",8),y.\u0275\u0275text(18),y.\u0275\u0275pipe(19,"translate"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275element(20,"p"),y.\u0275\u0275elementStart(21,"div",9)(22,"span",10),y.\u0275\u0275element(23,"img",11),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(24,dr,1,0,"span",12),y.\u0275\u0275pipe(25,"async"),y.\u0275\u0275elementStart(26,"h2"),y.\u0275\u0275text(27),y.\u0275\u0275pipe(28,"async"),y.\u0275\u0275pipe(29,"async"),y.\u0275\u0275pipe(30,"number"),y.\u0275\u0275pipe(31,"async"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(32,"div",2)(33,"div",3)(34,"h4"),y.\u0275\u0275text(35),y.\u0275\u0275pipe(36,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(37,"ng-select",13),y.\u0275\u0275listener("change",function(){return Ve.totalOrders()})("ngModelChange",function(Hr){return Ve.totalorderscount=Hr}),y.\u0275\u0275elementStart(38,"ng-option",5),y.\u0275\u0275text(39),y.\u0275\u0275pipe(40,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(41,"ng-option",6),y.\u0275\u0275text(42),y.\u0275\u0275pipe(43,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(44,"ng-option",7),y.\u0275\u0275text(45),y.\u0275\u0275pipe(46,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(47,"ng-option",8),y.\u0275\u0275text(48),y.\u0275\u0275pipe(49,"translate"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(50,"div",9)(51,"span",10),y.\u0275\u0275element(52,"img",14),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(53,pr,1,0,"span",12),y.\u0275\u0275pipe(54,"async"),y.\u0275\u0275elementStart(55,"h2"),y.\u0275\u0275text(56),y.\u0275\u0275pipe(57,"async"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(58,"h5"),y.\u0275\u0275text(59),y.\u0275\u0275pipe(60,"async"),y.\u0275\u0275pipe(61,"translate"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(62,"div",2)(63,"div",3)(64,"h4"),y.\u0275\u0275text(65),y.\u0275\u0275pipe(66,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(67,"ng-select",4),y.\u0275\u0275listener("ngModelChange",function(Hr){return Ve.newcustomerscount=Hr})("change",function(){return Ve.newCustomers()}),y.\u0275\u0275elementStart(68,"ng-option",5),y.\u0275\u0275text(69),y.\u0275\u0275pipe(70,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(71,"ng-option",6),y.\u0275\u0275text(72),y.\u0275\u0275pipe(73,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(74,"ng-option",7),y.\u0275\u0275text(75),y.\u0275\u0275pipe(76,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(77,"ng-option",8),y.\u0275\u0275text(78),y.\u0275\u0275pipe(79,"translate"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(80,"div",9)(81,"span",10),y.\u0275\u0275element(82,"img",15),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(83,Cr,1,0,"span",12),y.\u0275\u0275pipe(84,"async"),y.\u0275\u0275elementStart(85,"h2"),y.\u0275\u0275text(86),y.\u0275\u0275pipe(87,"async"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(88,"div",2)(89,"div",3)(90,"h4",16),y.\u0275\u0275text(91),y.\u0275\u0275pipe(92,"translate"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(93,"div",17)(94,"span",10),y.\u0275\u0275element(95,"img",18),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(96,$r,1,0,"span",12),y.\u0275\u0275pipe(97,"async"),y.\u0275\u0275elementStart(98,"h2"),y.\u0275\u0275text(99),y.\u0275\u0275pipe(100,"async"),y.\u0275\u0275elementEnd()()()(),y.\u0275\u0275elementStart(101,"div",19)(102,"div",20)(103,"div",21)(104,"div",22)(105,"div",23),y.\u0275\u0275element(106,"img",24),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(107,"div",25)(108,"h3"),y.\u0275\u0275text(109),y.\u0275\u0275pipe(110,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(111,"h4"),y.\u0275\u0275text(112),y.\u0275\u0275pipe(113,"async"),y.\u0275\u0275pipe(114,"translate"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(115,"ng-select",26),y.\u0275\u0275listener("ngModelChange",function(Hr){return Ve.topProducts=Hr})("change",function(){return Ve.getTopSellingProductList()}),y.\u0275\u0275elementStart(116,"ng-option",5),y.\u0275\u0275text(117),y.\u0275\u0275pipe(118,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(119,"ng-option",6),y.\u0275\u0275text(120),y.\u0275\u0275pipe(121,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(122,"ng-option",7),y.\u0275\u0275text(123),y.\u0275\u0275pipe(124,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(125,"ng-option",8),y.\u0275\u0275text(126),y.\u0275\u0275pipe(127,"translate"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(128,"div",27),y.\u0275\u0275template(129,Ar,1,0,"span",28),y.\u0275\u0275pipe(130,"async"),y.\u0275\u0275template(131,Tn,14,13,"div",29),y.\u0275\u0275pipe(132,"async"),y.\u0275\u0275template(133,bn,3,3,"h2",30),y.\u0275\u0275pipe(134,"async"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(135,"div",31)(136,"h3"),y.\u0275\u0275text(137),y.\u0275\u0275pipe(138,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(139,"div",32),y.\u0275\u0275template(140,ur,1,0,"span",33),y.\u0275\u0275pipe(141,"async"),y.\u0275\u0275template(142,Mr,10,4,"div",34),y.\u0275\u0275pipe(143,"async"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(144,"div",35)(145,"div",36)(146,"div",37)(147,"h4"),y.\u0275\u0275text(148),y.\u0275\u0275pipe(149,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(150,Br,1,0,"span",38),y.\u0275\u0275pipe(151,"async"),y.\u0275\u0275elementStart(152,"div",39)(153,"h2"),y.\u0275\u0275text(154),y.\u0275\u0275pipe(155,"async"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(156,"div",37)(157,"h4"),y.\u0275\u0275text(158),y.\u0275\u0275pipe(159,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(160,Or,1,0,"span",38),y.\u0275\u0275pipe(161,"async"),y.\u0275\u0275elementStart(162,"div",39)(163,"h2"),y.\u0275\u0275text(164),y.\u0275\u0275pipe(165,"async"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(166,"div",37)(167,"h4"),y.\u0275\u0275text(168),y.\u0275\u0275pipe(169,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(170,"div",39),y.\u0275\u0275template(171,sn,1,0,"span",12),y.\u0275\u0275pipe(172,"async"),y.\u0275\u0275elementStart(173,"h2"),y.\u0275\u0275text(174),y.\u0275\u0275pipe(175,"currencysymbol"),y.\u0275\u0275pipe(176,"async"),y.\u0275\u0275pipe(177,"async"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(178,"ng-select",13),y.\u0275\u0275listener("change",function(){return Ve.averageOrderValue()})("ngModelChange",function(Hr){return Ve.averagevalue=Hr}),y.\u0275\u0275elementStart(179,"ng-option",5),y.\u0275\u0275text(180),y.\u0275\u0275pipe(181,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(182,"ng-option",6),y.\u0275\u0275text(183),y.\u0275\u0275pipe(184,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(185,"ng-option",7),y.\u0275\u0275text(186),y.\u0275\u0275pipe(187,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(188,"ng-option",8),y.\u0275\u0275text(189),y.\u0275\u0275pipe(190,"translate"),y.\u0275\u0275elementEnd()()()(),y.\u0275\u0275elementStart(191,"div",37)(192,"h4"),y.\u0275\u0275text(193),y.\u0275\u0275pipe(194,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(195,"div",39),y.\u0275\u0275template(196,pn,1,0,"span",12),y.\u0275\u0275pipe(197,"async"),y.\u0275\u0275elementStart(198,"h2"),y.\u0275\u0275text(199),y.\u0275\u0275pipe(200,"async"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(201,"ng-select",4),y.\u0275\u0275listener("ngModelChange",function(Hr){return Ve.averageConvertionRatios=Hr})("change",function(){return Ve.averageConversionRatio()}),y.\u0275\u0275elementStart(202,"ng-option",5),y.\u0275\u0275text(203),y.\u0275\u0275pipe(204,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(205,"ng-option",6),y.\u0275\u0275text(206),y.\u0275\u0275pipe(207,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(208,"ng-option",7),y.\u0275\u0275text(209),y.\u0275\u0275pipe(210,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(211,"ng-option",8),y.\u0275\u0275text(212),y.\u0275\u0275pipe(213,"translate"),y.\u0275\u0275elementEnd()()()()(),y.\u0275\u0275elementStart(214,"div",40)(215,"div",41)(216,"div",42)(217,"input",43),y.\u0275\u0275listener("click",function(){return Ve.salesgraph()}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(218,"label",44),y.\u0275\u0275text(219),y.\u0275\u0275pipe(220,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(221,"input",45),y.\u0275\u0275listener("click",function(){return Ve.getSalesOrderList()}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(222,"label",46),y.\u0275\u0275text(223),y.\u0275\u0275pipe(224,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(225,"input",47),y.\u0275\u0275listener("click",function(){return Ve.vendor()}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(226,"label",48),y.\u0275\u0275text(227),y.\u0275\u0275pipe(228,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(229,"input",49),y.\u0275\u0275listener("click",function(){return Ve.weeklysalesproduct()}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(230,"label",50),y.\u0275\u0275text(231),y.\u0275\u0275pipe(232,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(233,"div",51)(234,"section",52)(235,"div",53)(236,"ng-select",4),y.\u0275\u0275listener("ngModelChange",function(Hr){return Ve.salesgraphyear=Hr})("change",function(){return Ve.salesgraph()}),y.\u0275\u0275template(237,gn,2,2,"ng-option",54),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(238,"ng-select",4),y.\u0275\u0275listener("ngModelChange",function(Hr){return Ve.salesgraphmonth=Hr})("change",function(){return Ve.salesgraph()}),y.\u0275\u0275template(239,wn,2,2,"ng-option",54),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(240,"div",55),y.\u0275\u0275element(241,"app-global-loader",56),y.\u0275\u0275pipe(242,"async"),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(243,Rn,1,3,"plotly-plot",57),y.\u0275\u0275pipe(244,"async"),y.\u0275\u0275pipe(245,"async"),y.\u0275\u0275template(246,Kn,3,3,"p",58),y.\u0275\u0275pipe(247,"async"),y.\u0275\u0275pipe(248,"async"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(249,"section",59)(250,"div",53)(251,"ng-select",4),y.\u0275\u0275listener("ngModelChange",function(Hr){return Ve.customersVisityear=Hr})("change",function(){return Ve.getSalesOrderList()}),y.\u0275\u0275template(252,_n,2,2,"ng-option",54),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(253,"ng-select",4),y.\u0275\u0275listener("ngModelChange",function(Hr){return Ve.customersVisitmonth=Hr})("change",function(){return Ve.getSalesOrderList()}),y.\u0275\u0275template(254,ua,2,2,"ng-option",54),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(255,"div",55),y.\u0275\u0275element(256,"app-global-loader",56),y.\u0275\u0275pipe(257,"async"),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(258,qn,1,3,"plotly-plot",57),y.\u0275\u0275pipe(259,"async"),y.\u0275\u0275pipe(260,"async"),y.\u0275\u0275template(261,Qn,3,3,"p",58),y.\u0275\u0275pipe(262,"async"),y.\u0275\u0275pipe(263,"async"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(264,"section",60)(265,"div",53)(266,"ng-select",61),y.\u0275\u0275listener("ngModelChange",function(Hr){return Ve.vendorID=Hr})("change",function(){return Ve.vendor()}),y.\u0275\u0275pipe(267,"translate"),y.\u0275\u0275template(268,yr,2,2,"ng-option",54),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(269,"ng-select",4),y.\u0275\u0275listener("ngModelChange",function(Hr){return Ve.vendorsyear=Hr})("change",function(){return Ve.vendor()}),y.\u0275\u0275template(270,tn,2,2,"ng-option",54),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(271,"div",55),y.\u0275\u0275element(272,"app-global-loader",56),y.\u0275\u0275pipe(273,"async"),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(274,Qr,18,27,"div",62),y.\u0275\u0275pipe(275,"async"),y.\u0275\u0275template(276,dn,3,3,"div",58),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(277,"section",63)(278,"div",64)(279,"div",65),y.\u0275\u0275template(280,Fn,4,3,"p",66),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(281,"div",67),y.\u0275\u0275template(282,Sn,1,5,"canvas",68),y.\u0275\u0275elementEnd()(),y.\u0275\u0275template(283,En,3,3,"div",58),y.\u0275\u0275elementEnd()()()(),y.\u0275\u0275elementStart(284,"div",69)(285,"div",53)(286,"h3"),y.\u0275\u0275text(287),y.\u0275\u0275pipe(288,"translate"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(289,"ng-select",4),y.\u0275\u0275listener("ngModelChange",function(Hr){return Ve.transactionlistyear=Hr})("change",function(){return Ve.transactionValues()}),y.\u0275\u0275template(290,kn,2,2,"ng-option",54),y.\u0275\u0275elementEnd()(),y.\u0275\u0275template(291,Hn,1,0,"span",70),y.\u0275\u0275pipe(292,"async"),y.\u0275\u0275template(293,ta,1,3,"plotly-plot",71),y.\u0275\u0275pipe(294,"async"),y.\u0275\u0275pipe(295,"async"),y.\u0275\u0275template(296,Sa,3,3,"p",58),y.\u0275\u0275pipe(297,"async"),y.\u0275\u0275pipe(298,"async"),y.\u0275\u0275elementEnd()()()()()),2&Be){let vr,Hr;y.\u0275\u0275advance(5),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(6,126,"Dashboard.totalRevenue")),y.\u0275\u0275advance(2),y.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ve.totalRevenues),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(10,128,"Dashboard.today")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(13,130,"Dashboard.thisWeek")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(16,132,"Dashboard.thisMonth")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(19,134,"Dashboard.thisYear")),y.\u0275\u0275advance(6),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(25,136,Ve.dashboardSandbox.totalRevenueLoading$)),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(28,138,Ve.dashboardSandbox.totalRevenue$).toString()<0?-1*y.\u0275\u0275pipeBind1(29,140,Ve.dashboardSandbox.totalRevenue$).toString():y.\u0275\u0275pipeBind2(30,142,y.\u0275\u0275pipeBind1(31,145,Ve.dashboardSandbox.totalRevenue$).toString(),"1.0-0")),y.\u0275\u0275advance(8),y.\u0275\u0275textInterpolate1("",y.\u0275\u0275pipeBind1(36,147,"Dashboard.totalOrders")," "),y.\u0275\u0275advance(2),y.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ve.totalorderscount),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(40,149,"Dashboard.today")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(43,151,"Dashboard.thisWeek")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(46,153,"Dashboard.thisMonth")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(49,155,"Dashboard.thisYear")),y.\u0275\u0275advance(5),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(54,157,Ve.dashboardSandbox.totalOrdersLoading$)),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(null==(vr=y.\u0275\u0275pipeBind1(57,159,Ve.dashboardSandbox.totalOrders$))?null:vr.ordersCount),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate2("",null==(Hr=y.\u0275\u0275pipeBind1(60,161,Ve.dashboardSandbox.totalOrders$))?null:Hr.vendorsCount," ",y.\u0275\u0275pipeBind1(61,163,"Dashboard.vendors"),""),y.\u0275\u0275advance(6),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(66,165,"Dashboard.newCustomers")),y.\u0275\u0275advance(2),y.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ve.newcustomerscount),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(70,167,"Dashboard.today")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(73,169,"Dashboard.thisWeek")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(76,171,"Dashboard.thisMonth")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(79,173,"Dashboard.thisYear")),y.\u0275\u0275advance(5),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(84,175,Ve.dashboardSandbox.newCustomersLoading$)),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(87,177,Ve.dashboardSandbox.newCustomers$)),y.\u0275\u0275advance(5),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(92,179,"Dashboard.totalCustomers")),y.\u0275\u0275advance(5),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(97,181,Ve.dashboardSandbox.dashboardCountLoading$)),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(100,183,Ve.dashboardSandbox.dashboardCount$).customers),y.\u0275\u0275advance(10),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(110,185,"Dashboard.TopPerformingProducts")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate2("",y.\u0275\u0275pipeBind1(113,187,Ve.dashboardSandbox.getTopSellingProductListCount$)," ",y.\u0275\u0275pipeBind1(114,189,"Dashboard.products"),""),y.\u0275\u0275advance(3),y.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ve.topProducts),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(118,191,"Dashboard.today")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(121,193,"Dashboard.thisWeek")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(124,195,"Dashboard.thisMonth")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(127,197,"Dashboard.thisYear")),y.\u0275\u0275advance(3),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(130,199,Ve.dashboardSandbox.topSellingProductsLoading$)),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngForOf",y.\u0275\u0275pipeBind1(132,201,Ve.dashboardSandbox.topSellingProducts$)),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",0===y.\u0275\u0275pipeBind1(134,203,Ve.dashboardSandbox.getTopSellingProductListCount$)),y.\u0275\u0275advance(4),y.\u0275\u0275textInterpolate1("",y.\u0275\u0275pipeBind1(138,205,"Dashboard.repeatedCustomers")," "),y.\u0275\u0275advance(3),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(141,207,Ve.dashboardSandbox.recentVisitorListLoading$)),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngForOf",y.\u0275\u0275pipeBind1(143,209,Ve.dashboardSandbox.recentVisitorList$)),y.\u0275\u0275advance(6),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(149,211,"marketplace.seller.TotalVendors")),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(151,213,Ve.dashboardSandbox.dashboardCountLoading$)),y.\u0275\u0275advance(4),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(155,215,Ve.dashboardSandbox.dashboardCount$).vendors),y.\u0275\u0275advance(4),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(159,217,"catalog.categories.TotalProduct")),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(161,219,Ve.dashboardSandbox.dashboardCountLoading$)),y.\u0275\u0275advance(4),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(165,221,Ve.dashboardSandbox.dashboardCount$).products),y.\u0275\u0275advance(4),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(169,223,"Dashboard.averageorderValue")),y.\u0275\u0275advance(3),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(172,225,Ve.dashboardSandbox.averageOrderValueLoading$)),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind2(175,227,y.\u0275\u0275pipeBind1(176,230,Ve.dashboardSandbox.averageOrderValue$),y.\u0275\u0275pipeBind1(177,232,Ve.layoutSandbox.settings$))),y.\u0275\u0275advance(4),y.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ve.averagevalue),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(181,234,"Dashboard.today")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(184,236,"Dashboard.thisWeek")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(187,238,"Dashboard.thisMonth")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(190,240,"Dashboard.thisYear")),y.\u0275\u0275advance(4),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(194,242,"Dashboard.averageConversionRatio")),y.\u0275\u0275advance(3),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(197,244,Ve.dashboardSandbox.averageConversionRatioLoading$)),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate1("",y.\u0275\u0275pipeBind1(200,246,Ve.dashboardSandbox.averageConversionRatio$),"%"),y.\u0275\u0275advance(2),y.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ve.averageConvertionRatios),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(204,248,"Dashboard.today")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(207,250,"Dashboard.thisWeek")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(210,252,"Dashboard.thisMonth")),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(213,254,"Dashboard.thisYear")),y.\u0275\u0275advance(7),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(220,256,"Sales.Orders.Sales")),y.\u0275\u0275advance(4),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(224,258,"Dashboard.customerVisits")),y.\u0275\u0275advance(4),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(228,260,"Dashboard.vendor")),y.\u0275\u0275advance(4),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(232,262,"Dashboard.10weeklySales")),y.\u0275\u0275advance(5),y.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ve.salesgraphyear),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",Ve.year),y.\u0275\u0275advance(1),y.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ve.salesgraphmonth),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",Ve.month),y.\u0275\u0275advance(2),y.\u0275\u0275property("isShow",y.\u0275\u0275pipeBind1(242,264,Ve.dashboardSandbox.salesgraphLoading$)),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(244,266,Ve.dashboardSandbox.salesgraph$).length>0&&y.\u0275\u0275pipeBind1(245,268,Ve.dashboardSandbox.salesgraphLoaded$)),y.\u0275\u0275advance(3),y.\u0275\u0275property("ngIf",0==y.\u0275\u0275pipeBind1(247,270,Ve.dashboardSandbox.salesgraph$).length&&y.\u0275\u0275pipeBind1(248,272,Ve.dashboardSandbox.salesgraphLoaded$)),y.\u0275\u0275advance(5),y.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ve.customersVisityear),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",Ve.year),y.\u0275\u0275advance(1),y.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ve.customersVisitmonth),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",Ve.month),y.\u0275\u0275advance(2),y.\u0275\u0275property("isShow",y.\u0275\u0275pipeBind1(257,274,Ve.dashboardSandbox.salesOrderListLoading$)),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(259,276,Ve.dashboardSandbox.salesOrderList$).length>0&&y.\u0275\u0275pipeBind1(260,278,Ve.dashboardSandbox.salesOrderListLoaded$)),y.\u0275\u0275advance(3),y.\u0275\u0275property("ngIf",0===y.\u0275\u0275pipeBind1(262,280,Ve.dashboardSandbox.salesOrderList$).length&&y.\u0275\u0275pipeBind1(263,282,Ve.dashboardSandbox.salesOrderListLoaded$)),y.\u0275\u0275advance(5),y.\u0275\u0275propertyInterpolate("placeholder",y.\u0275\u0275pipeBind1(267,284,"placeholder.Choose Vendor")),y.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ve.vendorID),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngForOf",Ve.vendorList),y.\u0275\u0275advance(1),y.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ve.vendorsyear),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",Ve.year),y.\u0275\u0275advance(2),y.\u0275\u0275property("isShow",y.\u0275\u0275pipeBind1(273,286,Ve.dashboardSandbox.vendorLoading$)),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",Ve.vendorDetails.productCount>0&&!y.\u0275\u0275pipeBind1(275,288,Ve.dashboardSandbox.vendorLoading$)),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",0===Ve.vendorDetails.productCount),y.\u0275\u0275advance(4),y.\u0275\u0275property("ngForOf",Ve.top10weeklyproductlist),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",Ve.top10weeklyproductlist.length>0),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",0===Ve.top10weeklyproductlist.length),y.\u0275\u0275advance(4),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(288,290,"Dashboard.transaction")),y.\u0275\u0275advance(2),y.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ve.transactionlistyear),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",Ve.year),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(292,292,Ve.dashboardSandbox.transactionValuesLoading$)),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",y.\u0275\u0275pipeBind1(294,294,Ve.dashboardSandbox.transactionValues$).length>0&&y.\u0275\u0275pipeBind1(295,296,Ve.dashboardSandbox.transactionValuesLoaded$)),y.\u0275\u0275advance(3),y.\u0275\u0275property("ngIf",0==y.\u0275\u0275pipeBind1(297,298,Ve.dashboardSandbox.transactionValues$).length&&y.\u0275\u0275pipeBind1(298,300,Ve.dashboardSandbox.transactionValuesLoaded$))}},directives:[Ze.w9,tt.NgControlStatus,tt.NgModel,Ze.jq,Oa.NgIf,Oa.NgForOf,nr.A,Ut,fr.JU,tt.CheckboxControlValueAccessor,$e._L,Re.jh],pipes:[Fe.X$,Oa.AsyncPipe,Oa.DecimalPipe,Oa.SlicePipe,or.G],styles:["[_nghost-%COMP%]     .ng-select.ng-select-single{width:106px;font-size:12px;font-weight:600}[_nghost-%COMP%]     .ng-select .ng-option{font-size:small}[_nghost-%COMP%]     .ng-select .ng-dropdown-panel.ng-select-bottom{margin-left:0;width:-moz-fit-content;width:fit-content;width:100%}[_nghost-%COMP%]     .ng-select .ng-dropdown-panel.ng-select-top{margin-left:0;width:-moz-fit-content;width:fit-content;width:100%}.dashboard-card-content[_ngcontent-%COMP%]{width:calc(100% - 150px);height:calc(100% - 30px);display:flex;flex-flow:column;justify-content:center;align-items:center;box-sizing:border-box}.no-data[_ngcontent-%COMP%]{padding:20px;text-align:center}.checkbox-data[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.checkbox-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px;font-size:12px;color:#000}.no-data[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:30px}.rad-chart[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.rad-chart-left[_ngcontent-%COMP%]{width:200px}.rad-chart-right[_ngcontent-%COMP%]{width:calc(100% - 150px);display:flex;justify-content:center}.product-name[_ngcontent-%COMP%]{text-overflow:ellipsis;width:100px;overflow:hidden;white-space:nowrap}.spinner-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center}.no-document[_ngcontent-%COMP%]{display:flex;justify-content:center!important;color:gray;font-size:14px}"]}),je})()}];let Tr=(()=>{class je{}return je.\u0275fac=function(Be){return new(Be||je)},je.\u0275mod=y.\u0275\u0275defineNgModule({type:je}),je.\u0275inj=y.\u0275\u0275defineInjector({imports:[[he.Bz.forChild(Fr)],he.Bz]}),je})();var kr=Ma(14696),yn=Ma(47769),Cn=Ma(12476),hn=Ma(67638),ln=Ma(62953),Er=Ma(61870);Le.plotlyjs=hn,Xe.setPlotlyVersion("1.55.2"),Xe.setPlotlyBundle("basic");let Yr=(()=>{class je{}return je.\u0275fac=function(Be){return new(Be||je)},je.\u0275mod=y.\u0275\u0275defineNgModule({type:je}),je.\u0275inj=y.\u0275\u0275defineInjector({providers:[i,Te,Er.n,Me.A],imports:[[Oa.CommonModule,Cn.K,Ci.o,tt.FormsModule,tt.ReactiveFormsModule,kr.q,Tr,fr.a4,Re.vQ,W.sQ.forFeature([tr,ln.z]),Fe.aw.forChild({loader:{provide:Fe.Zw,useFactory:yn.g,deps:[t.eN]}}),Le]]}),je})()},33052:(Eu,bs,Ma)=>{"use strict";Ma.d(bs,{A:()=>t});var Oa=Ma(5e3),Ci=Ma(9932),tt=Ma(69808);function W(A,y){1&A&&(Oa.\u0275\u0275elementStart(0,"div",1)(1,"div",2),Oa.\u0275\u0275element(2,"img",3),Oa.\u0275\u0275elementEnd()())}let t=(()=>{class A{constructor(i){this.httpStatus=i,this.subscriptions=[],this.loader=!1,this.getHttpResponse()}ngOnInit(){}getHttpResponse(){this.subscriptions.push(this.httpStatus.getHttpStatus().subscribe(i=>{this.loader=i}))}ngOnDestroy(){this.subscriptions.forEach(i=>i.unsubscribe())}}return A.\u0275fac=function(i){return new(i||A)(Oa.\u0275\u0275directiveInject(Ci.Z))},A.\u0275cmp=Oa.\u0275\u0275defineComponent({type:A,selectors:[["app-global-loader"]],inputs:{isShow:"isShow"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],["width","80px","height","80px","src","./assets/loader/Spurt-commerce-Loader-2.1.gif"]],template:function(i,P){1&i&&Oa.\u0275\u0275template(0,W,3,0,"div",0),2&i&&Oa.\u0275\u0275property("ngIf",P.isShow)},directives:[tt.NgIf],styles:['#loader[_ngcontent-%COMP%]{height:175px;inset:0;margin:auto;position:absolute;width:175px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{height:100%;inset:0;margin:auto;position:absolute;width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:before{border-radius:100%;content:"";height:87.5px;left:0;position:absolute;right:0;top:0;transform:scale(0);width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1){transform:rotate(45deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1):before{animation:.8s linear .1s normal none infinite running load;background:#00ff80 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2){transform:rotate(90deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2):before{animation:.8s linear .2s normal none infinite running load;background:#00ffea none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3){transform:rotate(135deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3):before{animation:.8s linear .3s normal none infinite running load;background:#00aaff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4){transform:rotate(180deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4):before{animation:.8s linear .4s normal none infinite running load;background:#0040ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5){transform:rotate(225deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5):before{animation:.8s linear .5s normal none infinite running load;background:#2a00ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6){transform:rotate(270deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6):before{animation:.8s linear .6s normal none infinite running load;background:#9500ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7){transform:rotate(315deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7):before{animation:.8s linear .7s normal none infinite running load;background:magenta none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8){transform:rotate(360deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8):before{animation:.8s linear .8s normal none infinite running load;background:#ff0095 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{background-position:50% 50%;background-repeat:no-repeat;bottom:-40px;height:20px;left:0;position:absolute;right:0;width:180px}@keyframes load{to{opacity:0;transform:scale(1)}}.spinner-message[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{text-align:center}']}),A})()},86400:(Eu,bs,Ma)=>{"use strict";Ma.d(bs,{G:()=>Ci});var Oa=Ma(5e3);let Ci=(()=>{class tt{constructor(){}transform(t,A){var y,i;let P=null!==(y=JSON.parse(sessionStorage.getItem("adminCurrency")))&&void 0!==y?y:{};A&&Object.keys(A).length>0&&(P=A);const L=null!==(i=null==P?void 0:P.symbol)&&void 0!==i?i:"\u20b9";if(t){const l={"\u20ac":new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(t),"\u20b9":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(t),$:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),"\u20a9":new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(t),"\xa5":new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(t),"\u20b1":new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(t),SGD:new Intl.NumberFormat("en-SG",{style:"currency",currency:"SGD"}).format(t)};return l.hasOwnProperty(L)?l[L]:`${t}${L}`}return""}}return tt.\u0275fac=function(t){return new(t||tt)},tt.\u0275pipe=Oa.\u0275\u0275definePipe({name:"currencysymbol",type:tt,pure:!0}),tt})()},94327:function(Eu,bs){var Ci;void 0!==(Ci=function(){"use strict";function W(L,l,m){var r=new XMLHttpRequest;r.open("GET",L),r.responseType="blob",r.onload=function(){P(r.response,l,m)},r.onerror=function(){console.error("could not download file")},r.send()}function t(L){var l=new XMLHttpRequest;l.open("HEAD",L,!1);try{l.send()}catch(m){}return 200<=l.status&&299>=l.status}function A(L){try{L.dispatchEvent(new MouseEvent("click"))}catch(m){var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),L.dispatchEvent(l)}}var y="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,i=y.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),P=y.saveAs||("object"!=typeof window||window!==y?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(L,l,m){var r=y.URL||y.webkitURL,e=document.createElement("a");e.download=l=l||L.name||"download",e.rel="noopener","string"==typeof L?(e.href=L,e.origin===location.origin?A(e):t(e.href)?W(L,l,m):A(e,e.target="_blank")):(e.href=r.createObjectURL(L),setTimeout(function(){r.revokeObjectURL(e.href)},4e4),setTimeout(function(){A(e)},0))}:"msSaveOrOpenBlob"in navigator?function(L,l,m){if(l=l||L.name||"download","string"!=typeof L)navigator.msSaveOrOpenBlob(function tt(L,l){return void 0===l?l={autoBom:!1}:"object"!=typeof l&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(L.type)?new Blob(["\ufeff",L],{type:L.type}):L}(L,m),l);else if(t(L))W(L,l,m);else{var r=document.createElement("a");r.href=L,r.target="_blank",setTimeout(function(){A(r)})}}:function(L,l,m,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof L)return W(L,l,m);var e="application/octet-stream"===L.type,s=/constructor/i.test(y.HTMLElement)||y.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||e&&s||i)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var g=h.result;g=a?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},h.readAsDataURL(L)}else{var f=y.URL||y.webkitURL,u=f.createObjectURL(L);r?r.location=u:location.href=u,r=null,setTimeout(function(){f.revokeObjectURL(u)},4e4)}});y.saveAs=P.saveAs=P,Eu.exports=P}.apply(bs,[]))&&(Eu.exports=Ci)},67638:Eu=>{self,Eu.exports=function(){var bs={79288:function(tt,W,t){"use strict";var A=t(3400),y={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in y){var P=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");A.addStyleRule(P,y[i])}},86712:function(tt,W,t){"use strict";tt.exports=t(84224)},37240:function(tt,W,t){"use strict";tt.exports=t(51132)},29744:function(tt,W,t){"use strict";tt.exports=t(94456)},29352:function(tt,W,t){"use strict";tt.exports=t(67244)},96144:function(tt,W,t){"use strict";tt.exports=t(97776)},53219:function(tt,W,t){"use strict";tt.exports=t(61712)},4624:function(tt,W,t){"use strict";tt.exports=t(95856)},54543:function(tt,W,t){"use strict";tt.exports=t(54272)},45e3:function(tt,W,t){"use strict";tt.exports=t(85404)},62300:function(tt,W,t){"use strict";tt.exports=t(26048)},6920:function(tt,W,t){"use strict";tt.exports=t(66240)},10264:function(tt,W,t){"use strict";tt.exports=t(40448)},32016:function(tt,W,t){"use strict";tt.exports=t(64884)},27528:function(tt,W,t){"use strict";tt.exports=t(15088)},75556:function(tt,W,t){"use strict";tt.exports=t(76744)},39204:function(tt,W,t){"use strict";tt.exports=t(94704)},73996:function(tt,W,t){"use strict";tt.exports=t(62396)},16489:function(tt,W,t){"use strict";tt.exports=t(32028)},5e3:function(tt,W,t){"use strict";tt.exports=t(81932)},77280:function(tt,W,t){"use strict";tt.exports=t(45536)},33992:function(tt,W,t){"use strict";tt.exports=t(42600)},17600:function(tt,W,t){"use strict";tt.exports=t(21536)},49116:function(tt,W,t){"use strict";tt.exports=t(65664)},46808:function(tt,W,t){"use strict";tt.exports=t(29044)},36168:function(tt,W,t){"use strict";tt.exports=t(48928)},13792:function(tt,W,t){"use strict";var A=t(32016);A.register([t(37240),t(29352),t(5e3),t(33992),t(17600),t(49116),t(6920),t(67484),t(79440),t(39204),t(83096),t(36168),t(20260),t(63560),t(65832),t(46808),t(73996),t(48824),t(89904),t(25120),t(13752),t(4340),t(62300),t(29800),t(8363),t(54543),t(86636),t(42192),t(32140),t(77280),t(89296),t(56816),t(70192),t(45e3),t(27528),t(84764),t(3920),t(50248),t(4624),t(69967),t(10264),t(86152),t(53219),t(81604),t(63796),t(29744),t(89336),t(86712),t(75556),t(16489),t(97312),t(96144)]),tt.exports=A},3920:function(tt,W,t){"use strict";tt.exports=t(43480)},25120:function(tt,W,t){"use strict";tt.exports=t(6296)},4340:function(tt,W,t){"use strict";tt.exports=t(7404)},86152:function(tt,W,t){"use strict";tt.exports=t(65456)},56816:function(tt,W,t){"use strict";tt.exports=t(22020)},89296:function(tt,W,t){"use strict";tt.exports=t(29928)},20260:function(tt,W,t){"use strict";tt.exports=t(75792)},32140:function(tt,W,t){"use strict";tt.exports=t(156)},84764:function(tt,W,t){"use strict";tt.exports=t(45499)},48824:function(tt,W,t){"use strict";tt.exports=t(3296)},69967:function(tt,W,t){"use strict";tt.exports=t(4184)},8363:function(tt,W,t){"use strict";tt.exports=t(36952)},86636:function(tt,W,t){"use strict";tt.exports=t(38983)},70192:function(tt,W,t){"use strict";tt.exports=t(11572)},81604:function(tt,W,t){"use strict";tt.exports=t(76924)},63796:function(tt,W,t){"use strict";tt.exports=t(62944)},89336:function(tt,W,t){"use strict";tt.exports=t(95443)},67484:function(tt,W,t){"use strict";tt.exports=t(34864)},97312:function(tt,W,t){"use strict";tt.exports=t(76272)},42192:function(tt,W,t){"use strict";tt.exports=t(97924)},29800:function(tt,W,t){"use strict";tt.exports=t(15436)},63560:function(tt,W,t){"use strict";tt.exports=t(5621)},89904:function(tt,W,t){"use strict";tt.exports=t(91304)},50248:function(tt,W,t){"use strict";tt.exports=t(41724)},65832:function(tt,W,t){"use strict";tt.exports=t(31991)},79440:function(tt,W,t){"use strict";tt.exports=t(22869)},13752:function(tt,W,t){"use strict";tt.exports=t(67776)},83096:function(tt,W,t){"use strict";tt.exports=t(95952)},72196:function(tt){"use strict";tt.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(tt,W,t){"use strict";var A=t(72196),y=t(25376),i=t(33816),P=t(31780).templatedArray;t(36208),tt.exports=P("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:y({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:A.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:A.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:y({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(tt,W,t){"use strict";var A=t(3400),y=t(54460),i=t(23816).draw;function P(l){A.filterVisible(l._fullLayout.annotations).forEach(function(r){var e=y.getFromId(l,r.xref),s=y.getFromId(l,r.yref),a=y.getRefType(r.xref),h=y.getRefType(r.yref);r._extremes={},"range"===a&&L(r,e),"range"===h&&L(r,s)})}function L(l,m){var E,r=m._id,e=r.charAt(0),s=l[e],a=l["a"+e],u=l["_"+e+"padplus"],g=l["_"+e+"padminus"],c={x:1,y:-1}[e]*l[e+"shift"],w=3*l.arrowsize*l.arrowwidth||0,d=w+c,o=w-c,v=3*l.startarrowsize*l.arrowwidth||0,M=v+c,b=v-c;if(l["a"+e+"ref"]===l[e+"ref"]){var x=y.findExtremes(m,[m.r2c(s)],{ppadplus:d,ppadminus:o}),S=y.findExtremes(m,[m.r2c(a)],{ppadplus:Math.max(u,M),ppadminus:Math.max(g,b)});E={min:[x.min[0],S.min[0]],max:[x.max[0],S.max[0]]}}else M=a?M+a:M,b=a?b-a:b,E=y.findExtremes(m,[m.r2c(s)],{ppadplus:Math.max(u,d,M),ppadminus:Math.max(g,o,b)});l._extremes[r]=E}tt.exports=function(m){if(A.filterVisible(m._fullLayout.annotations).length&&m._fullData.length)return A.syncOrAsync([i,P],m)}},42300:function(tt,W,t){"use strict";var A=t(3400),y=t(24040),i=t(31780).arrayEditor;function l(r,e){var g,c,w,d,o,v,M,s=r._fullLayout.annotations,a=[],h=[],f=[],u=(e||[]).length;for(g=0;g<s.length;g++)if(d=(w=s[g]).clicktoshow){for(c=0;c<u;c++)if(M=(o=e[c]).yaxis,(v=o.xaxis)._id===w.xref&&M._id===w.yref&&v.d2r(o.x)===m(w._xclick,v)&&M.d2r(o.y)===m(w._yclick,M)){(w.visible?"onout"===d?h:f:a).push(g);break}c===u&&w.visible&&"onout"===d&&h.push(g)}return{on:a,off:h,explicitOff:f}}function m(r,e){return"log"===e.type?e.l2r(r):e.d2r(r)}tt.exports={hasClickToShow:function P(r,e){var s=l(r,e);return s.on.length>0||s.explicitOff.length>0},onClick:function L(r,e){var g,c,s=l(r,e),a=s.on,h=s.off.concat(s.explicitOff),f={},u=r._fullLayout.annotations;if(a.length||h.length){for(g=0;g<a.length;g++)(c=i(r.layout,"annotations",u[a[g]])).modifyItem("visible",!0),A.extendFlat(f,c.getUpdateObj());for(g=0;g<h.length;g++)(c=i(r.layout,"annotations",u[h[g]])).modifyItem("visible",!1),A.extendFlat(f,c.getUpdateObj());return y.call("update",r,{},f)}}}},87192:function(tt,W,t){"use strict";var A=t(3400),y=t(76308);tt.exports=function(P,L,l,m){m("opacity");var r=m("bgcolor"),e=m("bordercolor"),s=y.opacity(e);m("borderpad");var a=m("borderwidth"),h=m("showarrow");if(m("text",h?" ":l._dfltTitle.annotation),m("textangle"),A.coerceFont(m,"font",l.font),m("width"),m("align"),m("height")&&m("valign"),h){var g,c,u=m("arrowside");-1!==u.indexOf("end")&&(g=m("arrowhead"),c=m("arrowsize")),-1!==u.indexOf("start")&&(m("startarrowhead",g),m("startarrowsize",c)),m("arrowcolor",s?L.bordercolor:y.defaultLine),m("arrowwidth",2*(s&&a||1)),m("standoff"),m("startstandoff")}var w=m("hovertext"),d=l.hoverlabel||{};if(w){var o=m("hoverlabel.bgcolor",d.bgcolor||(y.opacity(r)?y.rgb(r):y.defaultLine)),v=m("hoverlabel.bordercolor",d.bordercolor||y.contrast(o));A.coerceFont(m,"hoverlabel.font",{family:d.font.family,size:d.font.size,color:d.font.color||v})}m("captureevents",!!w)}},26828:function(tt,W,t){"use strict";var A=t(38248),y=t(36896);tt.exports=function(P,L,l,m){L=L||{};var r="log"===l&&"linear"===L.type;if(r||"linear"===l&&"log"===L.type)for(var h,f,s=P._fullLayout.annotations,a=L._id.charAt(0),g=0;g<s.length;g++)f="annotations["+g+"].",(h=s[g])[a+"ref"]===L._id&&u(a),h["a"+a+"ref"]===L._id&&u("a"+a);function u(c){var w=h[c],d=null;d=r?y(w,L.range):Math.pow(10,w),A(d)||(d=null),m(f+c,d)}}},45216:function(tt,W,t){"use strict";var A=t(3400),y=t(54460),i=t(51272),P=t(87192),L=t(13916);function l(m,r,e){function s(T,n){return A.coerce(m,r,L,T,n)}var a=s("visible"),h=s("clicktoshow");if(a||h){P(m,r,e,s);for(var f=r.showarrow,u=["x","y"],g=[-10,-30],c={_fullLayout:e},w=0;w<2;w++){var d=u[w],o=y.coerceRef(m,r,c,d,"","paper");if("paper"!==o&&y.getFromId(c,o)._annIndices.push(r._index),y.coercePosition(r,c,s,o,d,.5),f){var M="a"+d,b=y.coerceRef(m,r,c,M,"pixel",["pixel","paper"]);"pixel"!==b&&b!==o&&(b=r[M]="pixel"),y.coercePosition(r,c,s,b,M,"pixel"===b?g[w]:.4)}s(d+"anchor"),s(d+"shift")}if(A.noneOrAll(m,r,["x","y"]),f&&A.noneOrAll(m,r,["ax","ay"]),h){var x=s("xclick"),S=s("yclick");r._xclick=void 0===x?r.x:y.cleanPosition(x,c,r.xref),r._yclick=void 0===S?r.y:y.cleanPosition(S,c,r.yref)}}}tt.exports=function(r,e){i(r,e,{name:"annotations",handleItemDefaults:l})}},23816:function(tt,W,t){"use strict";var A=t(33428),y=t(24040),i=t(7316),P=t(3400),L=P.strTranslate,l=t(54460),m=t(76308),r=t(43616),e=t(93024),s=t(72736),a=t(93972),h=t(86476),f=t(31780).arrayEditor,u=t(33652);function c(o,v){var b=o._fullLayout.annotations[v]||{},E=l.getFromId(o,b.xref),x=l.getFromId(o,b.yref);E&&E.setScale(),x&&x.setScale(),d(o,b,v,!1,E,x)}function w(o,v,M,b,E){var x=E[M],S=E[M+"ref"],T=-1!==M.indexOf("y"),n="domain"===l.getRefType(S),C=T?b.h:b.w;return o?n?x+(T?-v:v)/o._length:o.p2r(o.r2p(x)+v):x+(T?-v:v)/C}function d(o,v,M,b,E,x){var C,p,S=o._fullLayout,T=o._fullLayout._size,n=o._context.edits;b?(C="annotation-"+b,p=b+".annotations"):(C="annotation",p="annotations");var F=f(o.layout,p,v),D=F.modifyBase,N=F.modifyItem,k=F.getUpdateObj;S._infolayer.selectAll("."+C+'[data-index="'+M+'"]').remove();var z="clip"+S._uid+"_ann"+M;if(v._input&&!1!==v.visible){var B={x:{},y:{}},O=+v.textangle||0,U=S._infolayer.append("g").classed(C,!0).attr("data-index",String(M)).style("opacity",v.opacity),G=U.append("g").classed("annotation-text-g",!0),J=n[v.showarrow?"annotationTail":"annotationPosition"],et=v.captureevents||n.annotationText||J,lt=G.append("g").style("pointer-events",et?"all":null).call(a,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",at(A.event))});v.hovertext&&lt.on("mouseover",function(){var dt=v.hoverlabel,xt=dt.font,yt=this.getBoundingClientRect(),St=o.getBoundingClientRect();e.loneHover({x0:yt.left-St.left,x1:yt.right-St.left,y:(yt.top+yt.bottom)/2-St.top,text:v.hovertext,color:dt.bgcolor,borderColor:dt.bordercolor,fontFamily:xt.family,fontSize:xt.size,fontColor:xt.color},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:o})}).on("mouseout",function(){e.loneUnhover(S._hoverlayer.node())});var K=v.borderwidth,rt=K+v.borderpad,H=lt.append("rect").attr("class","bg").style("stroke-width",K+"px").call(m.stroke,v.bordercolor).call(m.fill,v.bgcolor),Z=v.width||v.height,it=S._topclips.selectAll("#"+z).data(Z?[0]:[]);it.enter().append("clipPath").classed("annclip",!0).attr("id",z).append("rect"),it.exit().remove();var Q=v.font,Y=S._meta?P.templateString(v.text,S._meta):v.text,nt=lt.append("text").classed("annotation-text",!0).text(Y);n.annotationText?nt.call(s.makeEditable,{delegate:lt,gd:o}).call(_).on("edit",function(dt){v.text=dt,this.call(_),N("text",dt),E&&E.autorange&&D(E._name+".autorange",!0),x&&x.autorange&&D(x._name+".autorange",!0),y.call("_guiRelayout",o,k())}):nt.call(_)}else A.selectAll("#"+z).remove();function at(dt){var xt={index:M,annotation:v._input,fullAnnotation:v,event:dt};return b&&(xt.subplotId=b),xt}function _(dt){return dt.call(r.font,Q).attr({"text-anchor":{left:"start",right:"end"}[v.align]||"middle"}),s.convertToTspans(dt,o,st),dt}function st(){var dt=nt.selectAll("a");1===dt.size()&&dt.text()===nt.text()&&lt.insert("a",":first-child").attr({"xlink:xlink:href":dt.attr("xlink:href"),"xlink:xlink:show":dt.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(H.node());var yt=lt.select(".annotation-text-math-group"),St=!yt.empty(),Et=r.bBox((St?yt:nt).node()),Tt=Et.width,gt=Et.height,Mt=v.width||Tt,Nt=v.height||gt,Gt=Math.round(Mt+2*rt),Pt=Math.round(Nt+2*rt);function Vt(gr,tr){return"auto"===tr&&(tr=gr<.3333333333333333?"left":gr>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[tr]}for(var re=!1,le=["x","y"],It=0;It<le.length;It++){var Bt,zt,kt,wt,ft,Rt=le[It],$t=v[Rt+"ref"]||Rt,oe=v["a"+Rt+"ref"],se={x:E,y:x}[Rt],ve=(O+("x"===Rt?0:-90))*Math.PI/180,de=Gt*Math.cos(ve),jt=Pt*Math.sin(ve),Ct=Math.abs(de)+Math.abs(jt),Wt=v[Rt+"anchor"],Xt=v[Rt+"shift"]*("x"===Rt?1:-1),Ht=B[Rt],pt=l.getRefType($t);if(se&&"domain"!==pt){var Dt=se.r2fraction(v[Rt]);(Dt<0||Dt>1)&&(oe===$t?((Dt=se.r2fraction(v["a"+Rt]))<0||Dt>1)&&(re=!0):re=!0),Bt=se._offset+se.r2p(v[Rt]),wt=.5}else{var Qt="domain"===pt;"x"===Rt?(kt=v[Rt],Bt=Qt?se._offset+se._length*kt:Bt=T.l+T.w*kt):(kt=1-v[Rt],Bt=Qt?se._offset+se._length*kt:Bt=T.t+T.h*kt),wt=v.showarrow?.5:kt}if(v.showarrow){Ht.head=Bt;var te=v["a"+Rt];if(ft=de*Vt(.5,v.xanchor)-jt*Vt(.5,v.yanchor),oe===$t){var ee=l.getRefType(oe);"domain"===ee?("y"===Rt&&(te=1-te),Ht.tail=se._offset+se._length*te):Ht.tail="paper"===ee?"y"===Rt?T.t+T.h*(te=1-te):T.l+T.w*te:se._offset+se.r2p(te),zt=ft}else Ht.tail=Bt+te,zt=ft+te;Ht.text=Ht.tail+ft;var Ne=S["x"===Rt?"width":"height"];if("paper"===$t&&(Ht.head=P.constrain(Ht.head,1,Ne-1)),"pixel"===oe){var We=-Math.max(Ht.tail-3,Ht.text),ye=Math.min(Ht.tail+3,Ht.text)-Ne;We>0?(Ht.tail+=We,Ht.text+=We):ye>0&&(Ht.tail-=ye,Ht.text-=ye)}Ht.tail+=Xt,Ht.head+=Xt}else zt=ft=Ct*Vt(wt,Wt),Ht.text=Bt+ft;Ht.text+=Xt,ft+=Xt,v["_"+Rt+"padplus"]=Ct/2+(zt+=Xt),v["_"+Rt+"padminus"]=Ct/2-zt,v["_"+Rt+"size"]=Ct,v["_"+Rt+"shift"]=ft}if(re)lt.remove();else{var Te=0,Ge=0;"left"!==v.align&&(Te=(Mt-Tt)*("center"===v.align?.5:1)),"top"!==v.valign&&(Ge=(Nt-gt)*("middle"===v.valign?.5:1)),St?yt.select("svg").attr({x:rt+Te-1,y:rt+Ge}).call(r.setClipUrl,Z?z:null,o):nt.call(s.positionText,rt+Te-Et.left,rt+Ge-Et.top).call(r.setClipUrl,Z?z:null,o),it.select("rect").call(r.setRect,rt,rt,Mt,Nt),H.call(r.setRect,K/2,K/2,Gt-K,Pt-K),lt.call(r.setTranslate,Math.round(B.x.text-Gt/2),Math.round(B.y.text-Pt/2)),G.attr({transform:"rotate("+O+","+B.x.text+","+B.y.text+")"});var Ye,Ue=function(gr,tr){U.selectAll(".annotation-arrow-g").remove();var he=B.x.head,ne=B.y.head,pe=B.x.tail+gr,be=B.y.tail+tr,Se=B.x.text+gr,Me=B.y.text+tr,Ie=P.rotationXYMatrix(O,Se,Me),Fe=P.apply2DTransform(Ie),Ze=P.apply2DTransform2(Ie),nr=+H.attr("width"),ir=+H.attr("height"),lr=Se-.5*nr,Ot=lr+nr,Ut=Me-.5*ir,Ce=Ut+ir,Le=[[lr,Ut,lr,Ce],[lr,Ce,Ot,Ce],[Ot,Ce,Ot,Ut],[Ot,Ut,lr,Ut]].map(Ze);if(!Le.reduce(function(Gr,nn){return Gr^!!P.segmentsIntersect(he,ne,he+1e6,ne+1e6,nn[0],nn[1],nn[2],nn[3])},!1)){Le.forEach(function(Gr){var nn=P.segmentsIntersect(pe,be,he,ne,Gr[0],Gr[1],Gr[2],Gr[3]);nn&&(pe=nn.x,be=nn.y)});var Xe=v.arrowwidth,_e=v.arrowcolor,fr=v.arrowside,$e=U.append("g").style({opacity:m.opacity(_e)}).classed("annotation-arrow-g",!0),Re=$e.append("path").attr("d","M"+pe+","+be+"L"+he+","+ne).style("stroke-width",Xe+"px").call(m.stroke,m.rgb(_e));if(u(Re,fr,v),n.annotationPosition&&Re.node().parentNode&&!b){var or=he,dr=ne;if(v.standoff){var pr=Math.sqrt(Math.pow(he-pe,2)+Math.pow(ne-be,2));or+=v.standoff*(pe-he)/pr,dr+=v.standoff*(be-ne)/pr}var $r,Ar,Cr=$e.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(pe-or)+","+(be-dr),transform:L(or,dr)}).style("stroke-width",Xe+6+"px").call(m.stroke,"rgba(0,0,0,0)").call(m.fill,"rgba(0,0,0,0)");h.init({element:Cr.node(),gd:o,prepFn:function(){var Gr=r.getTranslate(lt);$r=Gr.x,Ar=Gr.y,E&&E.autorange&&D(E._name+".autorange",!0),x&&x.autorange&&D(x._name+".autorange",!0)},moveFn:function(Gr,nn){var Ur=Fe($r,Ar),Tn=Ur[0]+Gr,bn=Ur[1]+nn;lt.call(r.setTranslate,Tn,bn),N("x",w(E,Gr,"x",T,v)),N("y",w(x,nn,"y",T,v)),v.axref===v.xref&&N("ax",w(E,Gr,"ax",T,v)),v.ayref===v.yref&&N("ay",w(x,nn,"ay",T,v)),$e.attr("transform",L(Gr,nn)),G.attr({transform:"rotate("+O+","+Tn+","+bn+")"})},doneFn:function(){y.call("_guiRelayout",o,k());var Gr=document.querySelector(".js-notes-box-panel");Gr&&Gr.redraw(Gr.selectedObj)}})}}};v.showarrow&&Ue(0,0),J&&h.init({element:lt.node(),gd:o,prepFn:function(){Ye=G.attr("transform")},moveFn:function(gr,tr){var he="pointer";if(v.showarrow)N("ax",v.axref===v.xref?w(E,gr,"ax",T,v):v.ax+gr),N("ay",v.ayref===v.yref?w(x,tr,"ay",T.w,v):v.ay+tr),Ue(gr,tr);else{if(b)return;var ne,pe;if(E)ne=w(E,gr,"x",T,v);else{var be=v._xsize/T.w;ne=h.align(v.x+(v._xshift-v.xshift)/T.w-be/2+gr/T.w,be,0,1,v.xanchor)}if(x)pe=w(x,tr,"y",T,v);else{var Me=v._ysize/T.h;pe=h.align(v.y-(v._yshift+v.yshift)/T.h-Me/2-tr/T.h,Me,0,1,v.yanchor)}N("x",ne),N("y",pe),(!E||!x)&&(he=h.getCursor(E?.5:ne,x?.5:pe,v.xanchor,v.yanchor))}G.attr({transform:L(gr,tr)+Ye}),a(lt,he)},clickFn:function(gr,tr){v.captureevents&&o.emit("plotly_clickannotation",at(tr))},doneFn:function(){a(lt),y.call("_guiRelayout",o,k());var gr=document.querySelector(".js-notes-box-panel");gr&&gr.redraw(gr.selectedObj)}})}}}tt.exports={draw:function g(o){var v=o._fullLayout;v._infolayer.selectAll(".annotation").remove();for(var M=0;M<v.annotations.length;M++)v.annotations[M].visible&&c(o,M);return i.previousPromises(o)},drawOne:c,drawRaw:d}},33652:function(tt,W,t){"use strict";var A=t(33428),y=t(76308),i=t(72196),P=t(3400),L=P.strScale,l=P.strRotate,m=P.strTranslate;tt.exports=function(e,s,a){var M,b,E,x,h=e.node(),f=i[a.arrowhead||0],u=i[a.startarrowhead||0],g=(a.arrowwidth||1)*(a.arrowsize||1),c=(a.arrowwidth||1)*(a.startarrowsize||1),w=s.indexOf("start")>=0,d=s.indexOf("end")>=0,o=f.backoff*g+a.standoff,v=u.backoff*c+a.startstandoff;if("line"===h.nodeName){M={x:+e.attr("x1"),y:+e.attr("y1")},b={x:+e.attr("x2"),y:+e.attr("y2")};var S=M.x-b.x,T=M.y-b.y;if(x=(E=Math.atan2(T,S))+Math.PI,o&&v&&o+v>Math.sqrt(S*S+T*T))return void G();if(o){if(o*o>S*S+T*T)return void G();var n=o*Math.cos(E),C=o*Math.sin(E);b.x+=n,b.y+=C,e.attr({x2:b.x,y2:b.y})}if(v){if(v*v>S*S+T*T)return void G();var p=v*Math.cos(E),F=v*Math.sin(E);M.x-=p,M.y-=F,e.attr({x1:M.x,y1:M.y})}}else if("path"===h.nodeName){var D=h.getTotalLength(),N="";if(D<o+v)return void G();var k=h.getPointAtLength(0),z=h.getPointAtLength(.1);E=Math.atan2(k.y-z.y,k.x-z.x),M=h.getPointAtLength(Math.min(v,D)),N="0px,"+v+"px,";var B=h.getPointAtLength(D),O=h.getPointAtLength(D-.1);x=Math.atan2(B.y-O.y,B.x-O.x),b=h.getPointAtLength(Math.max(0,D-o)),e.style("stroke-dasharray",N+=D-(N?v+o:o)+"px,"+D+"px")}function G(){e.style("stroke-dasharray","0px,100px")}function J(et,at,lt,K){!et.path||(et.noRotate&&(lt=0),A.select(h.parentNode).append("path").attr({class:e.attr("class"),d:et.path,transform:m(at.x,at.y)+l(180*lt/Math.PI)+L(K)}).style({fill:y.rgb(a.arrowcolor),"stroke-width":0}))}w&&J(u,M,E,c),d&&J(f,b,x,g)}},79180:function(tt,W,t){"use strict";var A=t(23816),y=t(42300);tt.exports={moduleType:"component",name:"annotations",layoutAttributes:t(13916),supplyLayoutDefaults:t(45216),includeBasePlot:t(36632)("annotations"),calcAutorange:t(90272),draw:A.draw,drawOne:A.drawOne,drawRaw:A.drawRaw,hasClickToShow:y.hasClickToShow,onClick:y.onClick,convertCoords:t(26828)}},45899:function(tt,W,t){"use strict";var A=t(13916),y=t(67824).overrideAll,i=t(31780).templatedArray;tt.exports=y(i("annotation",{visible:A.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:A.xanchor,xshift:A.xshift,yanchor:A.yanchor,yshift:A.yshift,text:A.text,textangle:A.textangle,font:A.font,width:A.width,height:A.height,opacity:A.opacity,align:A.align,valign:A.valign,bgcolor:A.bgcolor,bordercolor:A.bordercolor,borderpad:A.borderpad,borderwidth:A.borderwidth,showarrow:A.showarrow,arrowcolor:A.arrowcolor,arrowhead:A.arrowhead,startarrowhead:A.startarrowhead,arrowside:A.arrowside,arrowsize:A.arrowsize,startarrowsize:A.startarrowsize,arrowwidth:A.arrowwidth,standoff:A.standoff,startstandoff:A.startstandoff,hovertext:A.hovertext,hoverlabel:A.hoverlabel,captureevents:A.captureevents}),"calc","from-root")},42456:function(tt,W,t){"use strict";var A=t(3400),y=t(54460);function i(P,L){var m=L.fullSceneLayout.domain,r=L.fullLayout._size,e={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};P._xa={},A.extendFlat(P._xa,e),y.setConvert(P._xa),P._xa._offset=r.l+m.x[0]*r.w,P._xa.l2p=function(){return.5*(1+P._pdata[0]/P._pdata[3])*r.w*(m.x[1]-m.x[0])},P._ya={},A.extendFlat(P._ya,e),y.setConvert(P._ya),P._ya._offset=r.t+(1-m.y[1])*r.h,P._ya.l2p=function(){return.5*(1-P._pdata[1]/P._pdata[3])*r.h*(m.y[1]-m.y[0])}}tt.exports=function(L){for(var m=L.fullSceneLayout.annotations,r=0;r<m.length;r++)i(m[r],L);L.fullLayout._infolayer.selectAll(".annotation-"+L.id).remove()}},52808:function(tt,W,t){"use strict";var A=t(3400),y=t(54460),i=t(51272),P=t(87192),L=t(45899);function l(m,r,e,s){function a(u,g){return A.coerce(m,r,L,u,g)}function h(u){var g=u+"axis",c={_fullLayout:{}};return c._fullLayout[g]=e[g],y.coercePosition(r,c,a,u,u,.5)}!a("visible")||(P(m,r,s.fullLayout,a),h("x"),h("y"),h("z"),A.noneOrAll(m,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",a("xanchor"),a("yanchor"),a("xshift"),a("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",a("ax",-10),a("ay",-30),A.noneOrAll(m,r,["ax","ay"])))}tt.exports=function(r,e,s){i(r,e,{name:"annotations",handleItemDefaults:l,fullLayout:s.fullLayout})}},71836:function(tt,W,t){"use strict";var A=t(23816).drawRaw,y=t(94424),i=["x","y","z"];tt.exports=function(L){for(var l=L.fullSceneLayout,m=L.dataScale,r=l.annotations,e=0;e<r.length;e++){for(var s=r[e],a=!1,h=0;h<3;h++){var f=i[h],c=l[f+"axis"].r2fraction(s[f]);if(c<0||c>1){a=!0;break}}a?L.fullLayout._infolayer.select(".annotation-"+L.id+'[data-index="'+e+'"]').remove():(s._pdata=y(L.glplot.cameraParams,[l.xaxis.r2l(s.x)*m[0],l.yaxis.r2l(s.y)*m[1],l.zaxis.r2l(s.z)*m[2]]),A(L.graphDiv,s,e,L.id,s._xa,s._ya))}}},56864:function(tt,W,t){"use strict";var A=t(24040),y=t(3400);tt.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t(45899)}}},layoutAttributes:t(45899),handleDefaults:t(52808),includeBasePlot:function i(P,L){var l=A.subplotsRegistry.gl3d;if(l)for(var m=l.attrRegex,r=Object.keys(P),e=0;e<r.length;e++){var s=r[e];m.test(s)&&(P[s].annotations||[]).length&&(y.pushUnique(L._basePlotModules,l),y.pushUnique(L._subplots.gl3d,s))}},convert:t(42456),draw:t(71836)}},54976:function(tt,W,t){"use strict";tt.exports=t(38700),t(15168),t(67020),t(89792),t(55668),t(65168),t(2084),t(26368),t(24747),t(65616),t(30632),t(73040),t(1104),t(51456),t(4592),t(45348)},97776:function(tt,W,t){"use strict";var A=t(54976),y=t(3400),i=t(39032),P=i.EPOCHJD,L=i.ONEDAY,l={valType:"enumerated",values:y.sortObjectKeys(A.calendars),editType:"calc",dflt:"gregorian"},m=function(E,x,S,T){var n={};return n[S]=l,y.coerce(E,x,n,S,T)},h="##",f={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:h,w:h,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};var g={};function c(E){var x=g[E];return x||(g[E]=A.instance(E))}function w(E){return y.extendFlat({},l,{description:E})}function d(E){return"Sets the calendar system to use with `"+E+"` date data."}var o={xcalendar:w(d("x"))},v=y.extendFlat({},o,{ycalendar:w(d("y"))}),M=y.extendFlat({},v,{zcalendar:w(d("z"))}),b=w(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));tt.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:v,bar:v,box:v,heatmap:v,contour:v,histogram:v,histogram2d:v,histogram2dcontour:v,scatter3d:M,surface:M,mesh3d:M,scattergl:v,ohlc:o,candlestick:o},layout:{calendar:w(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:b},yaxis:{calendar:b},scene:{xaxis:{calendar:b},yaxis:{calendar:b},zaxis:{calendar:b}},polar:{radialaxis:{calendar:b}}},transforms:{filter:{valuecalendar:w(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:w(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:l,handleDefaults:m,handleTraceDefaults:function(E,x,S,T){for(var n=0;n<S.length;n++)m(E,x,S[n]+"calendar",T.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:c,worldCalFmt:function u(E,x,S){for(var p,F,D,N,k,T=Math.floor((x+.05)/L)+P,n=c(S).fromJD(T),C=0;-1!==(C=E.indexOf("%",C));)"0"===(p=E.charAt(C+1))||"-"===p||"_"===p?(D=3,F=E.charAt(C+2),"_"===p&&(p="-")):(F=p,p="0",D=2),(N=f[F])?(k=N===h?h:n.formatDate(N[p]),E=E.substr(0,C)+k+E.substr(C+D),C+=k.length):C+=D;return E}}},22548:function(tt,W){"use strict";W.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],W.defaultLine="#444",W.lightLine="#eee",W.background="#fff",W.borderLine="#BEC8D9",W.lightFraction=90.9090909090909},76308:function(tt,W,t){"use strict";var A=t(49760),y=t(38248),i=t(38116).isTypedArray,P=tt.exports={},L=t(22548);P.defaults=L.defaults;var l=P.defaultLine=L.defaultLine;P.lightLine=L.lightLine;var m=P.background=L.background;function r(e){if(y(e)||"string"!=typeof e)return e;var s=e.trim();if("rgb"!==s.substr(0,3))return e;var a=s.match(/^rgba?\s*\(([^()]*)\)$/);if(!a)return e;var h=a[1].trim().split(/\s*[\s,]\s*/),f="a"===s.charAt(3)&&4===h.length;if(!f&&3!==h.length)return e;for(var u=0;u<h.length;u++){if(!(h[u].length&&(h[u]=Number(h[u]),h[u]>=0)))return e;if(3===u)h[u]>1&&(h[u]=1);else if(h[u]>=1)return e}var g=Math.round(255*h[0])+", "+Math.round(255*h[1])+", "+Math.round(255*h[2]);return f?"rgba("+g+", "+h[3]+")":"rgb("+g+")"}P.tinyRGB=function(e){var s=e.toRgb();return"rgb("+Math.round(s.r)+", "+Math.round(s.g)+", "+Math.round(s.b)+")"},P.rgb=function(e){return P.tinyRGB(A(e))},P.opacity=function(e){return e?A(e).getAlpha():0},P.addOpacity=function(e,s){var a=A(e).toRgb();return"rgba("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+", "+s+")"},P.combine=function(e,s){var a=A(e).toRgb();if(1===a.a)return A(e).toRgbString();var h=A(s||m).toRgb(),f=1===h.a?h:{r:255*(1-h.a)+h.r*h.a,g:255*(1-h.a)+h.g*h.a,b:255*(1-h.a)+h.b*h.a};return A({r:f.r*(1-a.a)+a.r*a.a,g:f.g*(1-a.a)+a.g*a.a,b:f.b*(1-a.a)+a.b*a.a}).toRgbString()},P.contrast=function(e,s,a){var h=A(e);return 1!==h.getAlpha()&&(h=A(P.combine(e,m))),(h.isDark()?s?h.lighten(s):m:a?h.darken(a):l).toString()},P.stroke=function(e,s){var a=A(s);e.style({stroke:P.tinyRGB(a),"stroke-opacity":a.getAlpha()})},P.fill=function(e,s){var a=A(s);e.style({fill:P.tinyRGB(a),"fill-opacity":a.getAlpha()})},P.clean=function(e){if(e&&"object"==typeof e){var a,h,f,u,s=Object.keys(e);for(a=0;a<s.length;a++)if(u=e[f=s[a]],"color"===f.substr(f.length-5))if(Array.isArray(u))for(h=0;h<u.length;h++)u[h]=r(u[h]);else e[f]=r(u);else if("colorscale"===f.substr(f.length-10)&&Array.isArray(u))for(h=0;h<u.length;h++)Array.isArray(u[h])&&(u[h][1]=r(u[h][1]));else if(Array.isArray(u)){var g=u[0];if(!Array.isArray(g)&&g&&"object"==typeof g)for(h=0;h<u.length;h++)P.clean(u[h])}else u&&"object"==typeof u&&!i(u)&&P.clean(u)}}},42996:function(tt,W,t){"use strict";var A=t(94724),y=t(25376),i=t(92880).extendFlat,P=t(67824).overrideAll;tt.exports=P({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:A.linecolor,outlinewidth:A.linewidth,bordercolor:A.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:A.minor.tickmode,nticks:A.nticks,tick0:A.tick0,dtick:A.dtick,tickvals:A.tickvals,ticktext:A.ticktext,ticks:i({},A.ticks,{dflt:""}),ticklabeloverflow:i({},A.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:A.ticklen,tickwidth:A.tickwidth,tickcolor:A.tickcolor,ticklabelstep:A.ticklabelstep,showticklabels:A.showticklabels,labelalias:A.labelalias,tickfont:y({}),tickangle:A.tickangle,tickformat:A.tickformat,tickformatstops:A.tickformatstops,tickprefix:A.tickprefix,showtickprefix:A.showtickprefix,ticksuffix:A.ticksuffix,showticksuffix:A.showticksuffix,separatethousands:A.separatethousands,exponentformat:A.exponentformat,minexponent:A.minexponent,showexponent:A.showexponent,title:{text:{valType:"string"},font:y({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:y({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(tt){"use strict";tt.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(tt,W,t){"use strict";var A=t(3400),y=t(31780),i=t(26332),P=t(25404),L=t(95936),l=t(42568),m=t(42996);tt.exports=function(e,s,a){var h=y.newContainer(s,"colorbar"),f=e.colorbar||{};function u(B,O){return A.coerce(f,h,m,B,O)}var g=a.margin||{t:0,b:0,l:0,r:0},c=a.width-g.l-g.r,w=a.height-g.t-g.b,o="v"===u("orientation"),v=u("thicknessmode");u("thickness","fraction"===v?30/(o?c:w):30);var M=u("lenmode");u("len","fraction"===M?1:o?w:c);var T,n,C,x="paper"===u("yref"),S="paper"===u("xref"),p="left";o?(C="middle",p=S?"left":"right",T=S?1.02:1,n=.5):(C=x?"bottom":"top",p="center",T=.5,n=x?1.02:1),A.coerce(f,h,{x:{valType:"number",min:S?-2:0,max:S?3:1,dflt:T}},"x"),A.coerce(f,h,{y:{valType:"number",min:x?-2:0,max:x?3:1,dflt:n}},"y"),u("xanchor",p),u("xpad"),u("yanchor",C),u("ypad"),A.noneOrAll(f,h,["x","y"]),u("outlinecolor"),u("outlinewidth"),u("bordercolor"),u("borderwidth"),u("bgcolor");var F=A.coerce(f,h,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");u("ticklabeloverflow",-1!==F.indexOf("inside")?"hide past domain":"hide past div"),i(f,h,u,"linear");var D=a.font,N={noAutotickangles:!0,outerTicks:!1,font:D};-1!==F.indexOf("inside")&&(N.bgColor="black"),l(f,h,u,"linear",N),L(f,h,u,"linear",N),P(f,h,u,"linear",N),u("title.text",a._dfltTitle.colorbar);var k=h.showticklabels?h.tickfont:D,z=A.extendFlat({},k,{color:D.color,size:A.bigFont(k.size)});A.coerceFont(u,"title.font",z),u("title.side",o?"top":"right")}},37848:function(tt,W,t){"use strict";var A=t(33428),y=t(49760),i=t(7316),P=t(24040),L=t(54460),l=t(86476),m=t(3400),r=m.strTranslate,e=t(92880).extendFlat,s=t(93972),a=t(43616),h=t(76308),f=t(81668),u=t(72736),g=t(94288).flipScale,c=t(28336),w=t(37668),d=t(94724),o=t(84284),v=o.LINE_SPACING,M=o.FROM_TL,b=o.FROM_BR,E=t(63964).cn;tt.exports={draw:function x(F){var N=F._fullLayout._infolayer.selectAll("g."+E.colorbar).data(function S(F){var z,B,O,U,D=F._fullLayout,N=F.calcdata,k=[];function G(Q){return e(Q,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function J(){"function"==typeof U.calc?U.calc(F,O,z):(z._fillgradient=B.reversescale?g(B.colorscale):B.colorscale,z._zrange=[B[U.min],B[U.max]])}for(var et=0;et<N.length;et++)if((O=N[et][0].trace)._module){var lt=O._module.colorbar;if(!0===O.visible&&lt)for(var K=Array.isArray(lt),j=K?lt:[lt],rt=0;rt<j.length;rt++){var H=(U=j[rt]).container;(B=H?O[H]:O)&&B.showscale&&((z=G(B.colorbar))._id="cb"+O.uid+(K&&H?"-"+H:""),z._traceIndex=O.index,z._propPrefix=(H?H+".":"")+"colorbar.",z._meta=O._meta,J(),k.push(z))}}for(var Z in D._colorAxes)if((B=D[Z]).showscale){var it=D._colorAxes[Z];(z=G(B.colorbar))._id="cb"+Z,z._propPrefix=Z+".colorbar.",z._meta=D._meta,U={min:"cmin",max:"cmax"},"heatmap"!==it[0]&&(U.calc=(O=it[1])._module.colorbar.calc),J(),k.push(z)}return k}(F),function(k){return k._id});N.enter().append("g").attr("class",function(k){return k._id}).classed(E.colorbar,!0),N.each(function(k){var z=A.select(this);m.ensureSingle(z,"rect",E.cbbg),m.ensureSingle(z,"g",E.cbfills),m.ensureSingle(z,"g",E.cblines),m.ensureSingle(z,"g",E.cbaxis,function(O){O.classed(E.crisp,!0)}),m.ensureSingle(z,"g",E.cbtitleunshift,function(O){O.append("g").classed(E.cbtitle,!0)}),m.ensureSingle(z,"rect",E.cboutline);var B=function T(F,D,N){var k="v"===D.orientation,z=D.len,B=D.lenmode,O=D.thickness,U=D.thicknessmode,G=D.outlinewidth,J=D.borderwidth,et=D.bgcolor,at=D.xanchor,lt=D.yanchor,K=D.xpad,j=D.ypad,rt=D.x,H=k?D.y:1-D.y,Z="paper"===D.yref,it="paper"===D.xref,Q=N._fullLayout,Y=Q._size,nt=D._fillcolor,_=D._line,st=D.title,dt=st.side,xt=D._zrange||A.extent(("function"==typeof nt?nt:_.color).domain()),yt="function"==typeof _.color?_.color:function(){return _.color},St="function"==typeof nt?nt:function(){return nt},Et=D._levels,Tt=function C(F,D,N){var O,U,k=D._levels,z=[],B=[],G=k.end+k.size/100,J=k.size,et=1.001*N[0]-.001*N[1],at=1.001*N[1]-.001*N[0];for(U=0;U<1e5&&(O=k.start+U*J,!(J>0?O>=G:O<=G));U++)O>et&&O<at&&z.push(O);if(D._fillgradient)B=[0];else if("function"==typeof D._fillcolor){var lt=D._filllevels;if(lt)for(G=lt.end+lt.size/100,J=lt.size,U=0;U<1e5&&(O=lt.start+U*J,!(J>0?O>=G:O<=G));U++)O>N[0]&&O<N[1]&&B.push(O);else(B=z.map(function(K){return K-k.size/2})).push(B[B.length-1]+k.size)}else D._fillcolor&&"string"==typeof D._fillcolor&&(B=[0]);return k.size<0&&(z.reverse(),B.reverse()),{line:z,fill:B}}(0,D,xt),gt=Tt.fill,Mt=Tt.line,Nt=Math.round(O*("fraction"===U?k?Y.w:Y.h:1)),Gt=Nt/(k?Y.w:Y.h),Pt=Math.round(z*("fraction"===B?k?Y.h:Y.w:1)),Vt=Pt/(k?Y.h:Y.w),re=it?Y.w:N._fullLayout.width,le=Z?Y.h:N._fullLayout.height,It=Math.round(k?rt*re+K:H*le+j),Rt={center:.5,right:1}[at]||0,$t={top:1,middle:.5}[lt]||0,oe=k?rt-Rt*Gt:H-$t*Gt,se=k?H-$t*Vt:rt-Rt*Vt,ve=Math.round(k?le*(1-se):re*se);D._lenFrac=Vt,D._thickFrac=Gt,D._uFrac=oe,D._vFrac=se;var de=D._axis=function p(F,D,N){var k=F._fullLayout,z="v"===D.orientation,B={type:"linear",range:N,tickmode:D.tickmode,nticks:D.nticks,tick0:D.tick0,dtick:D.dtick,tickvals:D.tickvals,ticktext:D.ticktext,ticks:D.ticks,ticklen:D.ticklen,tickwidth:D.tickwidth,tickcolor:D.tickcolor,showticklabels:D.showticklabels,labelalias:D.labelalias,ticklabelposition:D.ticklabelposition,ticklabeloverflow:D.ticklabeloverflow,ticklabelstep:D.ticklabelstep,tickfont:D.tickfont,tickangle:D.tickangle,tickformat:D.tickformat,exponentformat:D.exponentformat,minexponent:D.minexponent,separatethousands:D.separatethousands,showexponent:D.showexponent,showtickprefix:D.showtickprefix,tickprefix:D.tickprefix,showticksuffix:D.showticksuffix,ticksuffix:D.ticksuffix,title:D.title,showline:!0,anchor:"free",side:z?"right":"bottom",position:1},O=z?"y":"x",U={type:"linear",_id:O+D._id},G={letter:O,font:k.font,noAutotickangles:"y"===O,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:k.calendar};function J(et,at){return m.coerce(B,U,d,et,at)}return c(B,U,J,G,k),w(B,U,J,G),U}(N,D,xt);de.position=Gt+(k?rt+K/Y.w:H+j/Y.h);var jt=-1!==["top","bottom"].indexOf(dt);if(k&&jt&&(de.title.side=dt,de.titlex=rt+K/Y.w,de.titley=se+("top"===st.side?Vt-j/Y.h:j/Y.h)),!k&&!jt&&(de.title.side=dt,de.titley=H+j/Y.h,de.titlex=se+K/Y.w),_.color&&"auto"===D.tickmode){de.tickmode="linear",de.tick0=Et.start;var Ct=Et.size,Wt=m.constrain(Pt/50,4,15)+1,Xt=(xt[1]-xt[0])/((D.nticks||Wt)*Ct);if(Xt>1){var Ht=Math.pow(10,Math.floor(Math.log(Xt)/Math.LN10));Ct*=Ht*m.roundUp(Xt/Ht,[2,5,10]),(Math.abs(Et.start)/Et.size+1e-6)%1<2e-6&&(de.tick0=0)}de.dtick=Ct}de.domain=k?[se+j/Y.h,se+Vt-j/Y.h]:[se+K/Y.w,se+Vt-K/Y.w],de.setScale(),F.attr("transform",r(Math.round(Y.l),Math.round(Y.t)));var ft,Bt=F.select("."+E.cbtitleunshift).attr("transform",r(-Math.round(Y.l),-Math.round(Y.t))),zt=de.ticklabelposition,kt=de.title.font.size,wt=F.select("."+E.cbaxis),pt=0,Dt=0;function Qt(ye,Te){var Ge={propContainer:de,propName:D._propPrefix+"title",traceIndex:D._traceIndex,_meta:D._meta,placeholder:Q._dfltTitle.colorbar,containerGroup:F.select("."+E.cbtitle)},hr="h"===ye.charAt(0)?ye.substr(1):"h"+ye;F.selectAll("."+hr+",."+hr+"-math-group").remove(),f.draw(N,ye,e(Ge,Te||{}))}function te(){var ye,Te;(k&&jt||!k&&!jt)&&("top"===dt&&(ye=K+Y.l+re*rt,Te=j+Y.t+le*(1-se-Vt)+3+.75*kt),"bottom"===dt&&(ye=K+Y.l+re*rt,Te=j+Y.t+le*(1-se)-3-.25*kt),"right"===dt&&(Te=j+Y.t+le*H+3+.75*kt,ye=K+Y.l+re*se),Qt(de._id+"title",{attributes:{x:ye,y:Te,"text-anchor":k?"start":"middle"}}))}function ee(){if(k&&!jt||!k&&jt){var Ge,hr,ye=de.position||0,Te=de._offset+de._length/2;if("right"===dt)hr=Te,Ge=Y.l+re*ye+10+kt*(de.showticklabels?1:.5);else if(Ge=Te,"bottom"===dt&&(hr=Y.t+le*ye+10+(-1===zt.indexOf("inside")?de.tickfont.size:0)+("intside"!==de.ticks&&D.ticklen||0)),"top"===dt){var ce=st.text.split("<br>").length;hr=Y.t+le*ye+10-Nt-v*kt*ce}Qt((k?"h":"v")+de._id+"title",{avoid:{selection:A.select(N).selectAll("g."+de._id+"tick"),side:dt,offsetTop:k?0:Y.t,offsetLeft:k?Y.l:0,maxShift:k?Q.width:Q.height},attributes:{x:Ge,y:hr,"text-anchor":"middle"},transform:{rotate:k?-90:0,offset:0}})}}function Ne(){if(!k&&!jt||k&&jt){var Ue,ye=F.select("."+E.cbtitle),Te=ye.select("text"),Ge=[-G/2,G/2],hr=ye.select(".h"+de._id+"title-math-group").node(),ce=15.6;if(Te.node()&&(ce=parseInt(Te.node().style.fontSize,10)*v),hr?(Ue=a.bBox(hr),Dt=Ue.width,(pt=Ue.height)>ce&&(Ge[1]-=(pt-ce)/2)):Te.node()&&!Te.classed(E.jsPlaceholder)&&(Ue=a.bBox(Te.node()),Dt=Ue.width,pt=Ue.height),k){if(pt){if(pt+=5,"top"===dt)de.domain[1]-=pt/Y.h,Ge[1]*=-1;else{de.domain[0]+=pt/Y.h;var Ye=u.lineCount(Te);Ge[1]+=(1-Ye)*ce}ye.attr("transform",r(Ge[0],Ge[1])),de.setScale()}}else Dt&&("right"===dt&&(de.domain[0]+=(Dt+kt/2)/Y.w),ye.attr("transform",r(Ge[0],Ge[1])),de.setScale())}F.selectAll("."+E.cbfills+",."+E.cblines).attr("transform",k?r(0,Math.round(Y.h*(1-de.domain[1]))):r(Math.round(Y.w*de.domain[0]),0)),wt.attr("transform",k?r(0,Math.round(-Y.t)):r(Math.round(-Y.l),0));var gr=F.select("."+E.cbfills).selectAll("rect."+E.cbfill).attr("style","").data(gt);gr.enter().append("rect").classed(E.cbfill,!0).attr("style",""),gr.exit().remove();var tr=xt.map(de.c2p).map(Math.round).sort(function(Se,Me){return Se-Me});gr.each(function(Se,Me){var Ie=[0===Me?xt[0]:(gt[Me]+gt[Me-1])/2,Me===gt.length-1?xt[1]:(gt[Me]+gt[Me+1])/2].map(de.c2p).map(Math.round);k&&(Ie[1]=m.constrain(Ie[1]+(Ie[1]>Ie[0])?1:-1,tr[0],tr[1]));var Fe=A.select(this).attr(k?"x":"y",It).attr(k?"y":"x",A.min(Ie)).attr(k?"width":"height",Math.max(Nt,2)).attr(k?"height":"width",Math.max(A.max(Ie)-A.min(Ie),2));if(D._fillgradient)a.gradient(Fe,N,D._id,k?"vertical":"horizontalreversed",D._fillgradient,"fill");else{var Ze=St(Se).replace("e-","");Fe.attr("fill",y(Ze).toHexString())}});var he=F.select("."+E.cblines).selectAll("path."+E.cbline).data(_.color&&_.width?Mt:[]);he.enter().append("path").classed(E.cbline,!0),he.exit().remove(),he.each(function(Se){var Me=It,Ie=Math.round(de.c2p(Se))+_.width/2%1;A.select(this).attr("d","M"+(k?Me+","+Ie:Ie+","+Me)+(k?"h":"v")+Nt).call(a.lineGroupStyle,_.width,yt(Se),_.dash)}),wt.selectAll("g."+de._id+"tick,path").remove();var ne=It+Nt+(G||0)/2-("outside"===D.ticks?1:0),pe=L.calcTicks(de),be=L.getTickSigns(de)[2];return L.drawTicks(N,de,{vals:"inside"===de.ticks?L.clipEnds(de,pe):pe,layer:wt,path:L.makeTickPath(de,ne,be),transFn:L.makeTransTickFn(de)}),L.drawLabels(N,de,{vals:pe,layer:wt,transFn:L.makeTransTickLabelFn(de),labelFns:L.makeLabelFns(de,ne)})}function We(){var ye,Te=Nt+G/2;-1===zt.indexOf("inside")&&(ye=a.bBox(wt.node()),Te+=k?ye.width:ye.height),ft=Bt.select("text");var Ge=0,hr=k&&"top"===dt,ce=!k&&"right"===dt,Ue=0;if(ft.node()&&!ft.classed(E.jsPlaceholder)){var Ye,gr=Bt.select(".h"+de._id+"title-math-group").node();gr&&(k&&jt||!k&&!jt)?(Ge=(ye=a.bBox(gr)).width,Ye=ye.height):(Ge=(ye=a.bBox(Bt.node())).right-Y.l-(k?It:ve),Ye=ye.bottom-Y.t-(k?ve:It),!k&&"top"===dt&&(Te+=ye.height,Ue=ye.height)),ce&&(ft.attr("transform",r(Ge/2+kt/2,0)),Ge*=2),Te=Math.max(Te,k?Ge:Ye)}var tr=2*(k?K:j)+Te+J+G/2,he=0;!k&&st.text&&"bottom"===lt&&H<=0&&(tr+=he=tr/2,Ue+=he),Q._hColorbarMoveTitle=he,Q._hColorbarMoveCBTitle=Ue;var ne=J+G,pe=(k?It:ve)-ne/2-(k?K:0),be=(k?ve:It)-(k?Pt:j+Ue-he);F.select("."+E.cbbg).attr("x",pe).attr("y",be).attr(k?"width":"height",Math.max(tr-he,2)).attr(k?"height":"width",Math.max(Pt+ne,2)).call(h.fill,et).call(h.stroke,D.bordercolor).style("stroke-width",J);var Se=ce?Math.max(Ge-10,0):0;F.selectAll("."+E.cboutline).attr("x",(k?It:ve+K)+Se).attr("y",(k?ve+j-Pt:It)+(hr?pt:0)).attr(k?"width":"height",Math.max(Nt,2)).attr(k?"height":"width",Math.max(Pt-(k?2*j+pt:2*K+Se),2)).call(h.stroke,D.outlinecolor).style({fill:"none","stroke-width":G});var Me=k?Rt*tr:0,Ie=k?0:(1-$t)*tr-Ue;if(F.attr("transform",r(Me=it?Y.l-Me:-Me,Ie=Z?Y.t-Ie:-Ie)),!k&&(J||y(et).getAlpha()&&!y.equals(Q.paper_bgcolor,et))){var Fe=wt.selectAll("text"),Ze=Fe[0].length,nr=F.select("."+E.cbbg).node(),ir=a.bBox(nr),lr=a.getTranslate(F),Ot=2;Fe.each(function(dr,pr){var Cr=0,$r=Ze-1;if(pr===Cr||pr===$r){var nn,Ar=a.bBox(this),Gr=a.getTranslate(this);pr===$r?(nn=ir.right+lr.x+ve-J-Ot+rt-(Ar.right+Gr.x))>0&&(nn=0):pr===Cr&&(nn=ir.left+lr.x+ve+J+Ot-(Ar.left+Gr.x))<0&&(nn=0),nn&&(Ze<3?this.setAttribute("transform","translate("+nn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ut={},Ce=M[at],Le=b[at],Xe=M[lt],_e=b[lt],fr=tr-Nt;k?("pixels"===B?(Ut.y=H,Ut.t=Pt*Xe,Ut.b=Pt*_e):(Ut.t=Ut.b=0,Ut.yt=H+z*Xe,Ut.yb=H-z*_e),"pixels"===U?(Ut.x=rt,Ut.l=tr*Ce,Ut.r=tr*Le):(Ut.l=fr*Ce,Ut.r=fr*Le,Ut.xl=rt-O*Ce,Ut.xr=rt+O*Le)):("pixels"===B?(Ut.x=rt,Ut.l=Pt*Ce,Ut.r=Pt*Le):(Ut.l=Ut.r=0,Ut.xl=rt+z*Ce,Ut.xr=rt-z*Le),"pixels"===U?(Ut.y=1-H,Ut.t=tr*Xe,Ut.b=tr*_e):(Ut.t=fr*Xe,Ut.b=fr*_e,Ut.yt=H-O*Xe,Ut.yb=H+O*_e));var $e=D.y<.5?"b":"t",Re=D.x<.5?"l":"r";N._fullLayout._reservedMargin[D._id]={};var or={r:Q.width-pe-Me,l:pe+Ut.r,b:Q.height-be-Ie,t:be+Ut.b};it&&Z?i.autoMargin(N,D._id,Ut):it?N._fullLayout._reservedMargin[D._id][$e]=or[$e]:Z||k?N._fullLayout._reservedMargin[D._id][Re]=or[Re]:N._fullLayout._reservedMargin[D._id][$e]=or[$e]}return m.syncOrAsync([i.previousPromises,te,Ne,ee,i.previousPromises,We],N)}(z,k,F);B&&B.then&&(F._promises||[]).push(B),F._context.edits.colorbarPosition&&function n(F,D,N){var O,U,G,k="v"===D.orientation,B=N._fullLayout._size;l.init({element:F.node(),gd:N,prepFn:function(){O=F.attr("transform"),s(F)},moveFn:function(J,et){F.attr("transform",O+r(J,et)),U=l.align((k?D._uFrac:D._vFrac)+J/B.w,k?D._thickFrac:D._lenFrac,0,1,D.xanchor),G=l.align((k?D._vFrac:1-D._uFrac)-et/B.h,k?D._lenFrac:D._thickFrac,0,1,D.yanchor);var at=l.getCursor(U,G,D.xanchor,D.yanchor);s(F,at)},doneFn:function(){if(s(F),void 0!==U&&void 0!==G){var J={};J[D._propPrefix+"x"]=U,J[D._propPrefix+"y"]=G,void 0!==D._traceIndex?P.call("_guiRestyle",N,J,D._traceIndex):P.call("_guiRelayout",N,J)}}})}(z,k,F)}),N.exit().each(function(k){i.autoMargin(F,k._id)}).remove(),N.order()}}},90553:function(tt,W,t){"use strict";var A=t(3400);tt.exports=function(i){return A.isPlainObject(i.colorbar)}},55080:function(tt,W,t){"use strict";tt.exports={moduleType:"component",name:"colorbar",attributes:t(42996),supplyDefaults:t(64013),draw:t(37848).draw,hasColorbar:t(90553)}},49084:function(tt,W,t){"use strict";var A=t(42996),y=t(53756).counter,i=t(95376),P=t(88304).scales;function l(m){return"`"+m+"`"}i(P),tt.exports=function(r,e){r=r||"";var w,s=(e=e||{}).cLetter||"c",h=("onlyIfNumerical"in e||Boolean(r),"noScale"in e?e.noScale:"marker.line"===r),f="showScaleDflt"in e?e.showScaleDflt:"z"===s,u="string"==typeof e.colorscaleDflt?P[e.colorscaleDflt]:null,g=e.editTypeOverride||"",c=r?r+".":"";"colorAttr"in e?w=e.colorAttr:l(c+(w={z:"z",c:"color"}[s]));var v=s+"auto",M=s+"min",b=s+"max",E=s+"mid",C=(l(c+v),l(c+M),l(c+b),{});C[M]=C[b]=void 0;var p={};p[v]=!1;var F={};return"color"===w&&(F.color={valType:"color",arrayOk:!0,editType:g||"style"},e.anim&&(F.color.anim=!0)),F[v]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:C},F[M]={valType:"number",dflt:null,editType:g||"plot",impliedEdits:p},F[b]={valType:"number",dflt:null,editType:g||"plot",impliedEdits:p},F[E]={valType:"number",dflt:null,editType:"calc",impliedEdits:C},F.colorscale={valType:"colorscale",editType:"calc",dflt:u,impliedEdits:{autocolorscale:!1}},F.autocolorscale={valType:"boolean",dflt:!1!==e.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},F.reversescale={valType:"boolean",dflt:!1,editType:"plot"},h||(F.showscale={valType:"boolean",dflt:f,editType:"calc"},F.colorbar=A),e.noColorAxis||(F.coloraxis={valType:"subplotid",regex:y("coloraxis"),dflt:null,editType:"calc"}),F}},47128:function(tt,W,t){"use strict";var A=t(38248),y=t(3400),i=t(94288).extractOpts;tt.exports=function(L,l,m){var r=L._fullLayout,e=m.vals,s=m.containerStr,a=s?y.nestedProperty(l,s).get():l,h=i(a),f=!1!==h.auto,u=h.min,g=h.max,c=h.mid,w=function(){return y.aggNums(Math.min,null,e)},d=function(){return y.aggNums(Math.max,null,e)};void 0===u?u=w():f&&(u=a._colorAx&&A(u)?Math.min(u,w()):w()),void 0===g?g=d():f&&(g=a._colorAx&&A(g)?Math.max(g,d()):d()),f&&void 0!==c&&(g-c>c-u?u=c-(g-c):g-c<c-u&&(g=c+(c-u))),u===g&&(u-=.5,g+=.5),h._sync("min",u),h._sync("max",g),h.autocolorscale&&h._sync("colorscale",u*g<0?r.colorscale.diverging:u>=0?r.colorscale.sequential:r.colorscale.sequentialminus)}},95504:function(tt,W,t){"use strict";var A=t(3400),y=t(94288).hasColorscale,i=t(94288).extractOpts;tt.exports=function(L,l){function m(u,g){var c=u["_"+g];void 0!==c&&(u[g]=c)}function r(u,g){var c=g.container?A.nestedProperty(u,g.container).get():u;if(c)if(c.coloraxis)c._colorAx=l[c.coloraxis];else{var w=i(c),d=w.auto;(d||void 0===w.min)&&m(c,g.min),(d||void 0===w.max)&&m(c,g.max),w.autocolorscale&&m(c,"colorscale")}}for(var e=0;e<L.length;e++){var s=L[e],a=s._module.colorbar;if(a)if(Array.isArray(a))for(var h=0;h<a.length;h++)r(s,a[h]);else r(s,a);y(s,"marker.line")&&r(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in l._colorAxes)r(l[f],{min:"cmin",max:"cmax"})}},27260:function(tt,W,t){"use strict";var A=t(38248),y=t(3400),i=t(90553),P=t(64013),L=t(88304).isValid,l=t(24040).traceIs;function m(r,e){var s=e.slice(0,e.length-1);return e?y.nestedProperty(r,s).get()||{}:r}tt.exports=function r(e,s,a,h,f){var u=f.prefix,g=f.cLetter,c="_module"in s,w=m(e,u),d=m(s,u),o=m(s._template||{},u)||{},v=function(){return delete e.coloraxis,delete s.coloraxis,r(e,s,a,h,f)};if(c){var M=a._colorAxes||{},b=h(u+"coloraxis");if(b){var E=l(s,"contour")&&y.nestedProperty(s,"contours.coloring").get()||"heatmap",x=M[b];return void(x?(x[2].push(v),x[0]!==E&&(x[0]=!1,y.warn(["Ignoring coloraxis:",b,"setting","as it is linked to incompatible colorscales."].join(" ")))):M[b]=[E,s,[v]])}}var S=w[g+"min"],T=w[g+"max"],n=A(S)&&A(T)&&S<T;h(u+g+"auto",!n)?h(u+g+"mid"):(h(u+g+"min"),h(u+g+"max"));var D,N,p=w.colorscale,F=o.colorscale;void 0!==p&&(D=!L(p)),void 0!==F&&(D=!L(F)),h(u+"autocolorscale",D),h(u+"colorscale"),h(u+"reversescale"),"marker.line."!==u&&(u&&c&&(N=i(w)),h(u+"showscale",N)&&(u&&o&&(d._template=o),P(w,d,a)))}},94288:function(tt,W,t){"use strict";var A=t(33428),y=t(49760),i=t(38248),P=t(3400),L=t(76308),l=t(88304).isValid;var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],e=["min","max","mid","auto"];function s(c){var v,M,b,w=c._colorAx,d=w||c,o={};for(M=0;M<r.length;M++)o[b=r[M]]=d[b];if(w)for(v="c",M=0;M<e.length;M++)o[b=e[M]]=d["c"+b];else{var E;for(M=0;M<e.length;M++)((E="c"+(b=e[M]))in d||(E="z"+b)in d)&&(o[b]=d[E]);v=E.charAt(0)}return o._sync=function(x,S){var T=-1!==e.indexOf(x)?v+x:x;d[T]=d["_"+T]=S},o}function a(c){for(var w=s(c),d=w.min,o=w.max,v=w.reversescale?h(w.colorscale):w.colorscale,M=v.length,b=new Array(M),E=new Array(M),x=0;x<M;x++){var S=v[x];b[x]=d+S[0]*(o-d),E[x]=S[1]}return{domain:b,range:E}}function h(c){for(var w=c.length,d=new Array(w),o=w-1,v=0;o>=0;o--,v++){var M=c[o];d[v]=[1-M[0],M[1]]}return d}function f(c,w){w=w||{};for(var d=c.domain,o=c.range,v=o.length,M=new Array(v),b=0;b<v;b++){var E=y(o[b]).toRgb();M[b]=[E.r,E.g,E.b,E.a]}var n,x=A.scale.linear().domain(d).range(M).clamp(!0),S=w.noNumericCheck,T=w.returnArray;return(n=S&&T?x:S?function(C){return g(x(C))}:T?function(C){return i(C)?x(C):y(C).isValid()?C:L.defaultLine}:function(C){return i(C)?g(x(C)):y(C).isValid()?C:L.defaultLine}).domain=x.domain,n.range=function(){return o},n}function g(c){return y({r:c[0],g:c[1],b:c[2],a:c[3]}).toRgbString()}tt.exports={hasColorscale:function m(c,w,d){var o=w?P.nestedProperty(c,w).get()||{}:c,v=o[d||"color"];v&&v._inputArray&&(v=v._inputArray);var M=!1;if(P.isArrayOrTypedArray(v))for(var b=0;b<v.length;b++)if(i(v[b])){M=!0;break}return P.isPlainObject(o)&&(M||!0===o.showscale||i(o.cmin)&&i(o.cmax)||l(o.colorscale)||P.isPlainObject(o.colorbar))},extractOpts:s,extractScale:a,flipScale:h,makeColorScaleFunc:f,makeColorScaleFuncFromTrace:function u(c,w){return f(a(c),w)}}},8932:function(tt,W,t){"use strict";var A=t(88304),y=t(94288);tt.exports={moduleType:"component",name:"colorscale",attributes:t(49084),layoutAttributes:t(92332),supplyLayoutDefaults:t(51608),handleDefaults:t(27260),crossTraceDefaults:t(95504),calc:t(47128),scales:A.scales,defaultScale:A.defaultScale,getScale:A.get,isValidScale:A.isValid,hasColorscale:y.hasColorscale,extractOpts:y.extractOpts,extractScale:y.extractScale,flipScale:y.flipScale,makeColorScaleFunc:y.makeColorScaleFunc,makeColorScaleFuncFromTrace:y.makeColorScaleFuncFromTrace}},92332:function(tt,W,t){"use strict";var A=t(92880).extendFlat,y=t(49084),i=t(88304).scales;tt.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:A({_isSubplotObj:!0,editType:"calc"},y("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(tt,W,t){"use strict";var A=t(3400),y=t(31780),i=t(92332),P=t(27260);tt.exports=function(l,m){function r(c,w){return A.coerce(l,m,i,c,w)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var s,a,e=m._colorAxes;function h(c,w){return A.coerce(s,a,i.coloraxis,c,w)}for(var f in e){var u=e[f];if(u[0])s=l[f]||{},(a=y.newContainer(m,f,"coloraxis"))._name=f,P(s,a,m,h,{prefix:"",cLetter:"c"});else{for(var g=0;g<u[2].length;g++)u[2][g]();delete m._colorAxes[f]}}}},88304:function(tt,W,t){"use strict";var A=t(49760),y={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=y.RdBu;function L(m){var r=0;if(!Array.isArray(m)||m.length<2||!m[0]||!m[m.length-1]||0!=+m[0][0]||1!=+m[m.length-1][0])return!1;for(var e=0;e<m.length;e++){var s=m[e];if(2!==s.length||+s[0]<r||!A(s[1]).isValid())return!1;r=+s[0]}return!0}tt.exports={scales:y,defaultScale:i,get:function P(m,r){if(r||(r=i),!m)return r;function e(){try{m=y[m]||JSON.parse(m)}catch(s){m=r}}return"string"==typeof m&&(e(),"string"==typeof m&&e()),L(m)?m:r},isValid:function l(m){return void 0!==y[m]||L(m)}}},78316:function(tt){"use strict";tt.exports=function(t,A,y,i,P){var L=(t-y)/(i-y),l=L+A/(i-y),m=(L+l)/2;return"left"===P||"bottom"===P?L:"center"===P||"middle"===P?m:"right"===P||"top"===P?l:L<.6666666666666666-m?L:l>1.3333333333333333-m?l:m}},67416:function(tt,W,t){"use strict";var A=t(3400),y=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];tt.exports=function(P,L,l,m){return P="left"===l?0:"center"===l?1:"right"===l?2:A.constrain(Math.floor(3*P),0,2),L="bottom"===m?0:"middle"===m?1:"top"===m?2:A.constrain(Math.floor(3*L),0,2),y[L][P]}},72760:function(tt,W){"use strict";W.selectMode=function(t){return"lasso"===t||"select"===t},W.drawMode=function(t){return"drawclosedpath"===t||"drawopenpath"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},W.openMode=function(t){return"drawline"===t||"drawopenpath"===t},W.rectMode=function(t){return"select"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},W.freeMode=function(t){return"lasso"===t||"drawclosedpath"===t||"drawopenpath"===t},W.selectingOrDrawing=function(t){return W.freeMode(t)||W.rectMode(t)}},86476:function(tt,W,t){"use strict";var A=t(29128),y=t(52264),i=t(89184),P=t(3400).removeElement,L=t(33816),l=tt.exports={};l.align=t(78316),l.getCursor=t(67416);var m=t(2616);function r(){var s=document.createElement("div");s.className="dragcover";var a=s.style;return a.position="fixed",a.left=0,a.right=0,a.top=0,a.bottom=0,a.zIndex=999999999,a.background="none",document.body.appendChild(s),s}function e(s){return A(s.changedTouches?s.changedTouches[0]:s,document.body)}l.unhover=m.wrapped,l.unhoverRaw=m.raw,l.init=function(a){var c,w,d,o,v,M,b,E,h=a.gd,f=1,u=h._context.doubleClickDelay,g=a.element;h._mouseDownTime||(h._mouseDownTime=0),g.style.pointerEvents="all",g.onmousedown=T,i?(g._ontouchstart&&g.removeEventListener("touchstart",g._ontouchstart),g._ontouchstart=T,g.addEventListener("touchstart",T,{passive:!1})):g.ontouchstart=T;var S=a.clampFn||function x(p,F,D){return Math.abs(p)<D&&(p=0),Math.abs(F)<D&&(F=0),[p,F]};function T(p){h._dragged=!1,h._dragging=!0;var F=e(p);c=F[0],w=F[1],b=p.target,M=p,E=2===p.buttons||p.ctrlKey,void 0===p.clientX&&void 0===p.clientY&&(p.clientX=c,p.clientY=w),(d=(new Date).getTime())-h._mouseDownTime<u?f+=1:(f=1,h._mouseDownTime=d),a.prepFn&&a.prepFn(p,c,w),y&&!E?(v=r()).style.cursor=window.getComputedStyle(g).cursor:y||(v=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(g).cursor),document.addEventListener("mouseup",C),document.addEventListener("touchend",C),!1!==a.dragmode&&(p.preventDefault(),document.addEventListener("mousemove",n),document.addEventListener("touchmove",n,{passive:!1}))}function n(p){p.preventDefault();var F=e(p),N=S(F[0]-c,F[1]-w,a.minDrag||L.MINDRAG),k=N[0],z=N[1];(k||z)&&(h._dragged=!0,l.unhover(h,p)),h._dragged&&a.moveFn&&!E&&(h._dragdata={element:g,dx:k,dy:z},a.moveFn(k,z))}function C(p){if(delete h._dragdata,!1!==a.dragmode&&(p.preventDefault(),document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n)),document.removeEventListener("mouseup",C),document.removeEventListener("touchend",C),y?P(v):o&&(v.documentElement.style.cursor=o,o=null),h._dragging){if(h._dragging=!1,(new Date).getTime()-h._mouseDownTime>u&&(f=Math.max(f-1,1)),h._dragged)a.doneFn&&a.doneFn();else if(a.clickFn&&a.clickFn(f,M),!E){var F;try{F=new MouseEvent("click",p)}catch(N){var D=e(p);(F=document.createEvent("MouseEvents")).initMouseEvent("click",p.bubbles,p.cancelable,p.view,p.detail,p.screenX,p.screenY,D[0],D[1],p.ctrlKey,p.altKey,p.shiftKey,p.metaKey,p.button,p.relatedTarget)}b.dispatchEvent(F)}h._dragging=!1,h._dragged=!1}else h._dragged=!1}},l.coverSlip=r},2616:function(tt,W,t){"use strict";var A=t(95924),y=t(91200),i=t(52200).getGraphDiv,P=t(92456),L=tt.exports={};L.wrapped=function(l,m,r){(l=i(l))._fullLayout&&y.clear(l._fullLayout._uid+P.HOVERID),L.raw(l,m,r)},L.raw=function(m,r){var e=m._fullLayout,s=m._hoverdata;r||(r={}),(!r.target||m._dragged||!1!==A.triggerHandler(m,"plotly_beforehover",r))&&(e._hoverlayer.selectAll("g").remove(),e._hoverlayer.selectAll("line").remove(),e._hoverlayer.selectAll("circle").remove(),m._hoverdata=void 0,r.target&&s&&m.emit("plotly_unhover",{event:r,points:s}))}},98192:function(tt,W){"use strict";W.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},W.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=y.numberFormat,P=t(38248),L=t(49760),l=t(24040),m=t(76308),r=t(8932),e=y.strTranslate,s=t(72736),a=t(9616),f=t(84284).LINE_SPACING,u=t(13448).DESELECTDIM,g=t(43028),c=t(7152),w=t(10624).appendArrayPointValue,d=tt.exports={};function o(Tt,gt,Mt){var Nt=gt.fillpattern,Gt=Nt&&d.getPatternAttr(Nt.shape,0,"");if(Gt){var Pt=d.getPatternAttr(Nt.bgcolor,0,null),Vt=d.getPatternAttr(Nt.fgcolor,0,null),re=Nt.fgopacity,le=d.getPatternAttr(Nt.size,0,8),It=d.getPatternAttr(Nt.solidity,0,.3);d.pattern(Tt,"point",Mt,gt.uid,Gt,le,It,void 0,Nt.fillmode,Pt,Vt,re)}else gt.fillcolor&&Tt.call(m.fill,gt.fillcolor)}d.font=function(Tt,gt,Mt,Nt){y.isPlainObject(gt)&&(Nt=gt.color,Mt=gt.size,gt=gt.family),gt&&Tt.style("font-family",gt),Mt+1&&Tt.style("font-size",Mt+"px"),Nt&&Tt.call(m.fill,Nt)},d.setPosition=function(Tt,gt,Mt){Tt.attr("x",gt).attr("y",Mt)},d.setSize=function(Tt,gt,Mt){Tt.attr("width",gt).attr("height",Mt)},d.setRect=function(Tt,gt,Mt,Nt,Gt){Tt.call(d.setPosition,gt,Mt).call(d.setSize,Nt,Gt)},d.translatePoint=function(Tt,gt,Mt,Nt){var Gt=Mt.c2p(Tt.x),Pt=Nt.c2p(Tt.y);return!!(P(Gt)&&P(Pt)&&gt.node())&&("text"===gt.node().nodeName?gt.attr("x",Gt).attr("y",Pt):gt.attr("transform",e(Gt,Pt)),!0)},d.translatePoints=function(Tt,gt,Mt){Tt.each(function(Nt){var Gt=A.select(this);d.translatePoint(Nt,Gt,gt,Mt)})},d.hideOutsideRangePoint=function(Tt,gt,Mt,Nt,Gt,Pt){gt.attr("display",Mt.isPtWithinRange(Tt,Gt)&&Nt.isPtWithinRange(Tt,Pt)?null:"none")},d.hideOutsideRangePoints=function(Tt,gt){if(gt._hasClipOnAxisFalse){var Mt=gt.xaxis,Nt=gt.yaxis;Tt.each(function(Gt){var Pt=Gt[0].trace,Vt=Pt.xcalendar,re=Pt.ycalendar,le=l.traceIs(Pt,"bar-like")?".bartext":".point,.textpoint";Tt.selectAll(le).each(function(It){d.hideOutsideRangePoint(It,A.select(this),Mt,Nt,Vt,re)})})}},d.crispRound=function(Tt,gt,Mt){return gt&&P(gt)?Tt._context.staticPlot?gt:gt<1?1:Math.round(gt):Mt||0},d.singleLineStyle=function(Tt,gt,Mt,Nt,Gt){gt.style("fill","none");var Pt=(((Tt||[])[0]||{}).trace||{}).line||{},Vt=Mt||Pt.width||0,re=Gt||Pt.dash||"";m.stroke(gt,Nt||Pt.color),d.dashLine(gt,re,Vt)},d.lineGroupStyle=function(Tt,gt,Mt,Nt){Tt.style("fill","none").each(function(Gt){var Pt=(((Gt||[])[0]||{}).trace||{}).line||{},Vt=gt||Pt.width||0,re=Nt||Pt.dash||"";A.select(this).call(m.stroke,Mt||Pt.color).call(d.dashLine,re,Vt)})},d.dashLine=function(Tt,gt,Mt){gt=d.dashStyle(gt,Mt=+Mt||0),Tt.style({"stroke-dasharray":gt,"stroke-width":Mt+"px"})},d.dashStyle=function(Tt,gt){gt=+gt||1;var Mt=Math.max(gt,3);return"solid"===Tt?Tt="":"dot"===Tt?Tt=Mt+"px,"+Mt+"px":"dash"===Tt?Tt=3*Mt+"px,"+3*Mt+"px":"longdash"===Tt?Tt=5*Mt+"px,"+5*Mt+"px":"dashdot"===Tt?Tt=3*Mt+"px,"+Mt+"px,"+Mt+"px,"+Mt+"px":"longdashdot"===Tt&&(Tt=5*Mt+"px,"+2*Mt+"px,"+Mt+"px,"+2*Mt+"px"),Tt},d.singleFillStyle=function(Tt,gt){var Mt=A.select(Tt.node());o(Tt,((Mt.data()[0]||[])[0]||{}).trace||{},gt)},d.fillGroupStyle=function(Tt,gt){Tt.style("stroke-width",0).each(function(Mt){var Nt=A.select(this);Mt[0].trace&&o(Nt,Mt[0].trace,gt)})};var v=t(71984);d.symbolNames=[],d.symbolFuncs=[],d.symbolBackOffs=[],d.symbolNeedLines={},d.symbolNoDot={},d.symbolNoFill={},d.symbolList=[],Object.keys(v).forEach(function(Tt){var gt=v[Tt],Mt=gt.n;d.symbolList.push(Mt,String(Mt),Tt,Mt+100,String(Mt+100),Tt+"-open"),d.symbolNames[Mt]=Tt,d.symbolFuncs[Mt]=gt.f,d.symbolBackOffs[Mt]=gt.backoff||0,gt.needLine&&(d.symbolNeedLines[Mt]=!0),gt.noDot?d.symbolNoDot[Mt]=!0:d.symbolList.push(Mt+200,String(Mt+200),Tt+"-dot",Mt+300,String(Mt+300),Tt+"-open-dot"),gt.noFill&&(d.symbolNoFill[Mt]=!0)});var M=d.symbolNames.length;function E(Tt,gt,Mt,Nt){return d.symbolFuncs[Tt%100](gt,Mt,Nt)+(Tt>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}d.symbolNumber=function(Tt){if(P(Tt))Tt=+Tt;else if("string"==typeof Tt){var gt=0;Tt.indexOf("-open")>0&&(gt=100,Tt=Tt.replace("-open","")),Tt.indexOf("-dot")>0&&(gt+=200,Tt=Tt.replace("-dot","")),(Tt=d.symbolNames.indexOf(Tt))>=0&&(Tt+=gt)}return Tt%100>=M||Tt>=400?0:Math.floor(Math.max(Tt,0))};var x={x1:1,x2:0,y1:0,y2:0},S={x1:0,x2:0,y1:1,y2:0},T=i("~f"),n={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:x},horizontalreversed:{node:"linearGradient",attrs:x,reversed:!0},vertical:{node:"linearGradient",attrs:S},verticalreversed:{node:"linearGradient",attrs:S,reversed:!0}};d.gradient=function(Tt,gt,Mt,Nt,Gt,Pt){for(var Vt=Gt.length,re=n[Nt],le=new Array(Vt),It=0;It<Vt;It++)re.reversed?le[Vt-1-It]=[T(100*(1-Gt[It][0])),Gt[It][1]]:le[It]=[T(100*Gt[It][0]),Gt[It][1]];var Rt=gt._fullLayout,$t="g"+Rt._uid+"-"+Mt,oe=Rt._defs.select(".gradients").selectAll("#"+$t).data([Nt+le.join(";")],y.identity);oe.exit().remove(),oe.enter().append(re.node).each(function(){var se=A.select(this);re.attrs&&se.attr(re.attrs),se.attr("id",$t);var ve=se.selectAll("stop").data(le);ve.exit().remove(),ve.enter().append("stop"),ve.each(function(de){var jt=L(de[1]);A.select(this).attr({offset:de[0]+"%","stop-color":m.tinyRGB(jt),"stop-opacity":jt.getAlpha()})})}),Tt.style(Pt,j($t,gt)).style(Pt+"-opacity",null),Tt.classed("gradient_filled",!0)},d.pattern=function(Tt,gt,Mt,Nt,Gt,Pt,Vt,re,le,It,Rt,$t){var oe="legend"===gt;re&&("overlay"===le?Rt=m.contrast(It=re):(It=void 0,Rt=re));var de,jt,Wt,Xt,Ht,Bt,te,ee,Ne,We,ye,se=Mt._fullLayout,ve="p"+se._uid+"-"+Nt,zt={},kt=L(Rt),wt=m.tinyRGB(kt),pt=$t*kt.getAlpha();switch(Gt){case"/":de=Pt*Math.sqrt(2),jt=Pt*Math.sqrt(2),Bt="path",zt={d:Wt="M-"+de/4+","+jt/4+"l"+de/2+",-"+jt/2+"M0,"+jt+"L"+de+",0M"+de/4*3+","+jt/4*5+"l"+de/2+",-"+jt/2,opacity:pt,stroke:wt,"stroke-width":(Xt=Vt*Pt)+"px"};break;case"\\":de=Pt*Math.sqrt(2),jt=Pt*Math.sqrt(2),Bt="path",zt={d:Wt="M"+de/4*3+",-"+jt/4+"l"+de/2+","+jt/2+"M0,0L"+de+","+jt+"M-"+de/4+","+jt/4*3+"l"+de/2+","+jt/2,opacity:pt,stroke:wt,"stroke-width":(Xt=Vt*Pt)+"px"};break;case"x":de=Pt*Math.sqrt(2),jt=Pt*Math.sqrt(2),Wt="M-"+de/4+","+jt/4+"l"+de/2+",-"+jt/2+"M0,"+jt+"L"+de+",0M"+de/4*3+","+jt/4*5+"l"+de/2+",-"+jt/2+"M"+de/4*3+",-"+jt/4+"l"+de/2+","+jt/2+"M0,0L"+de+","+jt+"M-"+de/4+","+jt/4*3+"l"+de/2+","+jt/2,Xt=Pt-Pt*Math.sqrt(1-Vt),Bt="path",zt={d:Wt,opacity:pt,stroke:wt,"stroke-width":Xt+"px"};break;case"|":Bt="path",Bt="path",zt={d:Wt="M"+(de=Pt)/2+",0L"+de/2+","+(jt=Pt),opacity:pt,stroke:wt,"stroke-width":(Xt=Vt*Pt)+"px"};break;case"-":Bt="path",Bt="path",zt={d:Wt="M0,"+(jt=Pt)/2+"L"+(de=Pt)+","+jt/2,opacity:pt,stroke:wt,"stroke-width":(Xt=Vt*Pt)+"px"};break;case"+":Bt="path",Wt="M"+(de=Pt)/2+",0L"+de/2+","+(jt=Pt)+"M0,"+jt/2+"L"+de+","+jt/2,Xt=Pt-Pt*Math.sqrt(1-Vt),Bt="path",zt={d:Wt,opacity:pt,stroke:wt,"stroke-width":Xt+"px"};break;case".":de=Pt,jt=Pt,Ht=Vt<Math.PI/4?Math.sqrt(Vt*Pt*Pt/Math.PI):(te=Vt,ee=Math.PI/4,Ne=1,We=Pt/2,ye=Pt/Math.sqrt(2),We+(ye-We)*(te-ee)/(Ne-ee)),Bt="circle",zt={cx:de/2,cy:jt/2,r:Ht,opacity:pt,fill:wt}}var Dt=[Gt||"noSh",It||"noBg",Rt||"noFg",Pt,Vt].join(";"),Qt=se._defs.select(".patterns").selectAll("#"+ve).data([Dt],y.identity);Qt.exit().remove(),Qt.enter().append("pattern").each(function(){var te=A.select(this);if(te.attr({id:ve,width:de+"px",height:jt+"px",patternUnits:"userSpaceOnUse",patternTransform:oe?"scale(0.8)":""}),It){var ee=L(It),Ne=m.tinyRGB(ee),We=ee.getAlpha(),ye=te.selectAll("rect").data([0]);ye.exit().remove(),ye.enter().append("rect").attr({width:de+"px",height:jt+"px",fill:Ne,"fill-opacity":We})}var Te=te.selectAll(Bt).data([0]);Te.exit().remove(),Te.enter().append(Bt).attr(zt)}),Tt.style("fill",j(ve,Mt)).style("fill-opacity",null),Tt.classed("pattern_filled",!0)},d.initGradients=function(Tt){y.ensureSingle(Tt._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),A.select(Tt).selectAll(".gradient_filled").classed("gradient_filled",!1)},d.initPatterns=function(Tt){y.ensureSingle(Tt._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),A.select(Tt).selectAll(".pattern_filled").classed("pattern_filled",!1)},d.getPatternAttr=function(Tt,gt,Mt){return Tt&&y.isArrayOrTypedArray(Tt)?gt<Tt.length?Tt[gt]:Mt:Tt},d.pointStyle=function(Tt,gt,Mt,Nt){if(Tt.size()){var Gt=d.makePointStyleFns(gt);Tt.each(function(Pt){d.singlePointStyle(Pt,A.select(this),gt,Gt,Mt,Nt)})}},d.singlePointStyle=function(Tt,gt,Mt,Nt,Gt,Pt){var Vt=Mt.marker,re=Vt.line;if(Pt&&Pt.i>=0&&void 0===Tt.i&&(Tt.i=Pt.i),gt.style("opacity",Nt.selectedOpacityFn?Nt.selectedOpacityFn(Tt):void 0===Tt.mo?Vt.opacity:Tt.mo),Nt.ms2mrc){var le;le="various"===Tt.ms||"various"===Vt.size?3:Nt.ms2mrc(Tt.ms),Tt.mrc=le,Nt.selectedSizeFn&&(le=Tt.mrc=Nt.selectedSizeFn(Tt));var It=d.symbolNumber(Tt.mx||Vt.symbol)||0;Tt.om=It%200>=100;var Rt=Et(Tt,Mt),$t=Z(Tt,Mt);gt.attr("d",E(It,le,Rt,$t))}var se,ve,de,oe=!1;if(Tt.so?(de=re.outlierwidth,ve=re.outliercolor,se=Vt.outliercolor):(de=(Tt.mlw+1||(re||{}).width+1||(Tt.trace?(Tt.trace.marker.line||{}).width:0)+1)-1||0,ve="mlc"in Tt?Tt.mlcc=Nt.lineScale(Tt.mlc):y.isArrayOrTypedArray(re.color)?m.defaultLine:re.color,y.isArrayOrTypedArray(Vt.color)&&(se=m.defaultLine,oe=!0),se="mc"in Tt?Tt.mcc=Nt.markerScale(Tt.mc):Vt.color||Vt.colors||"rgba(0,0,0,0)",Nt.selectedColorFn&&(se=Nt.selectedColorFn(Tt))),Tt.om)gt.call(m.stroke,se).style({"stroke-width":(de||1)+"px",fill:"none"});else{gt.style("stroke-width",(Tt.isBlank?0:de)+"px");var Ct=Vt.gradient,Wt=Tt.mgt;Wt?oe=!0:Wt=Ct&&Ct.type,y.isArrayOrTypedArray(Wt)&&(n[Wt=Wt[0]]||(Wt=0));var Xt=Vt.pattern,Ht=Xt&&d.getPatternAttr(Xt.shape,Tt.i,"");if(Wt&&"none"!==Wt){var Bt=Tt.mgc;Bt?oe=!0:Bt=Ct.color;var zt=Mt.uid;oe&&(zt+="-"+Tt.i),d.gradient(gt,Gt,zt,Wt,[[0,Bt],[1,se]],"fill")}else if(Ht){var kt=!1,wt=Xt.fgcolor;!wt&&Pt&&Pt.color&&(wt=Pt.color,kt=!0);var ft=d.getPatternAttr(wt,Tt.i,Pt&&Pt.color||null),pt=d.getPatternAttr(Xt.bgcolor,Tt.i,null),Dt=Xt.fgopacity,Qt=d.getPatternAttr(Xt.size,Tt.i,8),te=d.getPatternAttr(Xt.solidity,Tt.i,.3);kt=kt||Tt.mcc||y.isArrayOrTypedArray(Xt.shape)||y.isArrayOrTypedArray(Xt.bgcolor)||y.isArrayOrTypedArray(Xt.fgcolor)||y.isArrayOrTypedArray(Xt.size)||y.isArrayOrTypedArray(Xt.solidity);var ee=Mt.uid;kt&&(ee+="-"+Tt.i),d.pattern(gt,"point",Gt,ee,Ht,Qt,te,Tt.mcc,Xt.fillmode,pt,ft,Dt)}else y.isArrayOrTypedArray(se)?m.fill(gt,se[Tt.i]):m.fill(gt,se);de&&m.stroke(gt,ve)}},d.makePointStyleFns=function(Tt){var gt={},Mt=Tt.marker;return gt.markerScale=d.tryColorscale(Mt,""),gt.lineScale=d.tryColorscale(Mt,"line"),l.traceIs(Tt,"symbols")&&(gt.ms2mrc=g.isBubble(Tt)?c(Tt):function(){return(Mt.size||6)/2}),Tt.selectedpoints&&y.extendFlat(gt,d.makeSelectedPointStyleFns(Tt)),gt},d.makeSelectedPointStyleFns=function(Tt){var gt={},Gt=Tt.marker||{},Pt=(Tt.selected||{}).marker||{},Vt=(Tt.unselected||{}).marker||{},le=Pt.opacity,It=Vt.opacity,Rt=void 0!==le,$t=void 0!==It;(y.isArrayOrTypedArray(Gt.opacity)||Rt||$t)&&(gt.selectedOpacityFn=function(Ht){var Bt=void 0===Ht.mo?Gt.opacity:Ht.mo;return Ht.selected?Rt?le:Bt:$t?It:u*Bt});var oe=Gt.color,se=Pt.color,ve=Vt.color;(se||ve)&&(gt.selectedColorFn=function(Ht){var Bt=Ht.mcc||oe;return Ht.selected?se||Bt:ve||Bt});var de=Gt.size,jt=Pt.size,Ct=Vt.size,Wt=void 0!==jt,Xt=void 0!==Ct;return l.traceIs(Tt,"symbols")&&(Wt||Xt)&&(gt.selectedSizeFn=function(Ht){var Bt=Ht.mrc||de/2;return Ht.selected?Wt?jt/2:Bt:Xt?Ct/2:Bt}),gt},d.makeSelectedTextStyleFns=function(Tt){var gt={},re=(Tt.textfont||{}).color,le=((Tt.selected||{}).textfont||{}).color,It=((Tt.unselected||{}).textfont||{}).color;return gt.selectedTextColorFn=function(Rt){var $t=Rt.tc||re;return Rt.selected?le||$t:It||(le?$t:m.addOpacity($t,u))},gt},d.selectedPointStyle=function(Tt,gt){if(Tt.size()&&gt.selectedpoints){var Mt=d.makeSelectedPointStyleFns(gt),Nt=gt.marker||{},Gt=[];Mt.selectedOpacityFn&&Gt.push(function(Pt,Vt){Pt.style("opacity",Mt.selectedOpacityFn(Vt))}),Mt.selectedColorFn&&Gt.push(function(Pt,Vt){m.fill(Pt,Mt.selectedColorFn(Vt))}),Mt.selectedSizeFn&&Gt.push(function(Pt,Vt){var re=Vt.mx||Nt.symbol||0,le=Mt.selectedSizeFn(Vt);Pt.attr("d",E(d.symbolNumber(re),le,Et(Vt,gt),Z(Vt,gt))),Vt.mrc2=le}),Gt.length&&Tt.each(function(Pt){for(var Vt=A.select(this),re=0;re<Gt.length;re++)Gt[re](Vt,Pt)})}},d.tryColorscale=function(Tt,gt){var Mt=gt?y.nestedProperty(Tt,gt).get():Tt;return Mt&&(Mt.colorscale||Mt._colorAx)&&y.isArrayOrTypedArray(Mt.color)?r.makeColorScaleFuncFromTrace(Mt):y.identity};var C={start:1,end:-1,middle:0,bottom:1,top:-1};function p(Tt,gt,Mt,Nt,Gt){var Pt=A.select(Tt.node().parentNode),Vt=-1!==gt.indexOf("top")?"top":-1!==gt.indexOf("bottom")?"bottom":"middle",re=-1!==gt.indexOf("left")?"end":-1!==gt.indexOf("right")?"start":"middle",le=Nt?Nt/.8+1:0,It=(s.lineCount(Tt)-1)*f+1,Rt=C[re]*le,$t=.75*Mt+C[Vt]*le+(C[Vt]-1)*It*Mt/2;Tt.attr("text-anchor",re),Gt||Pt.attr("transform",e(Rt,$t))}function F(Tt,gt){var Mt=Tt.ts||gt.textfont.size;return P(Mt)&&Mt>0?Mt:0}d.textPointStyle=function(Tt,gt,Mt){if(Tt.size()){var Nt;if(gt.selectedpoints){var Gt=d.makeSelectedTextStyleFns(gt);Nt=Gt.selectedTextColorFn}var Pt=gt.texttemplate,Vt=Mt._fullLayout;Tt.each(function(re){var le=A.select(this),It=Pt?y.extractOption(re,gt,"txt","texttemplate"):y.extractOption(re,gt,"tx","text");if(It||0===It){if(Pt){var Rt=gt._module.formatLabels,$t=Rt?Rt(re,gt,Vt):{},oe={};w(oe,gt,re.i),It=y.texttemplateString(It,$t,Vt._d3locale,oe,re,gt._meta||{})}var ve=re.tp||gt.textposition,de=F(re,gt),jt=Nt?Nt(re):re.tc||gt.textfont.color;le.call(d.font,re.tf||gt.textfont.family,de,jt).text(It).call(s.convertToTspans,Mt).call(p,ve,de,re.mrc)}else le.remove()})}},d.selectedTextStyle=function(Tt,gt){if(Tt.size()&&gt.selectedpoints){var Mt=d.makeSelectedTextStyleFns(gt);Tt.each(function(Nt){var Gt=A.select(this),Pt=Mt.selectedTextColorFn(Nt),Vt=Nt.tp||gt.textposition,re=F(Nt,gt);m.fill(Gt,Pt);var le=l.traceIs(gt,"bar-like");p(Gt,Vt,re,Nt.mrc2||Nt.mrc,le)})}};var N,k;function z(Tt,gt,Mt){return Mt&&(Tt=et(Tt)),gt?O(Tt[1]):B(Tt[0])}function B(Tt){var gt=A.round(Tt,2);return N=gt,gt}function O(Tt){var gt=A.round(Tt,2);return k=gt,gt}function U(Tt,gt,Mt,Nt){var Gt=Tt[0]-gt[0],Pt=Tt[1]-gt[1],Vt=Mt[0]-gt[0],re=Mt[1]-gt[1],le=Math.pow(Gt*Gt+Pt*Pt,.25),It=Math.pow(Vt*Vt+re*re,.25),Rt=(It*It*Gt-le*le*Vt)*Nt,$t=(It*It*Pt-le*le*re)*Nt,oe=3*It*(le+It),se=3*le*(le+It);return[[B(gt[0]+(oe&&Rt/oe)),O(gt[1]+(oe&&$t/oe))],[B(gt[0]-(se&&Rt/se)),O(gt[1]-(se&&$t/se))]]}d.smoothopen=function(Tt,gt){if(Tt.length<3)return"M"+Tt.join("L");var Gt,Mt="M"+Tt[0],Nt=[];for(Gt=1;Gt<Tt.length-1;Gt++)Nt.push(U(Tt[Gt-1],Tt[Gt],Tt[Gt+1],gt));for(Mt+="Q"+Nt[0][0]+" "+Tt[1],Gt=2;Gt<Tt.length-1;Gt++)Mt+="C"+Nt[Gt-2][1]+" "+Nt[Gt-1][0]+" "+Tt[Gt];return Mt+"Q"+Nt[Tt.length-3][1]+" "+Tt[Tt.length-1]},d.smoothclosed=function(Tt,gt){if(Tt.length<3)return"M"+Tt.join("L")+"Z";var Pt,Mt="M"+Tt[0],Nt=Tt.length-1,Gt=[U(Tt[Nt],Tt[0],Tt[1],gt)];for(Pt=1;Pt<Nt;Pt++)Gt.push(U(Tt[Pt-1],Tt[Pt],Tt[Pt+1],gt));for(Gt.push(U(Tt[Nt-1],Tt[Nt],Tt[0],gt)),Pt=1;Pt<=Nt;Pt++)Mt+="C"+Gt[Pt-1][1]+" "+Gt[Pt][0]+" "+Tt[Pt];return Mt+"C"+Gt[Nt][1]+" "+Gt[0][0]+" "+Tt[0]+"Z"};var G={hv:function(Tt,gt,Mt){return"H"+B(gt[0])+"V"+z(gt,1,Mt)},vh:function(Tt,gt,Mt){return"V"+O(gt[1])+"H"+z(gt,0,Mt)},hvh:function(Tt,gt,Mt){return"H"+B((Tt[0]+gt[0])/2)+"V"+O(gt[1])+"H"+z(gt,0,Mt)},vhv:function(Tt,gt,Mt){return"V"+O((Tt[1]+gt[1])/2)+"H"+B(gt[0])+"V"+z(gt,1,Mt)}},J=function(Tt,gt,Mt){return"L"+z(gt,0,Mt)+","+z(gt,1,Mt)};function et(Tt,gt){var Mt=Tt.backoff,Nt=Tt.trace,Gt=Tt.d,Pt=Tt.i;if(Mt&&Nt&&Nt.marker&&Nt.marker.angle%360==0&&Nt.line&&"spline"!==Nt.line.shape){var Vt=y.isArrayOrTypedArray(Mt),re=Tt,le=gt?gt[0]:N||0,It=gt?gt[1]:k||0,Rt=re[0],$t=re[1],ve=Math.atan2($t-It,Rt-le),de=Vt?Mt[Pt]:Mt;if("auto"===de){var jt=re.i;"scatter"===Nt.type&&jt--;var Ct=re.marker,Wt=Ct.symbol;y.isArrayOrTypedArray(Wt)&&(Wt=Wt[jt]);var Xt=Ct.size;y.isArrayOrTypedArray(Xt)&&(Xt=Xt[jt]),de=Ct?d.symbolBackOffs[d.symbolNumber(Wt)]*Xt:0,de+=d.getMarkerStandoff(Gt[jt],Nt)||0}var Ht=Rt-de*Math.cos(ve),Bt=$t-de*Math.sin(ve);(Ht<=Rt&&Ht>=le||Ht>=Rt&&Ht<=le)&&(Bt<=$t&&Bt>=It||Bt>=$t&&Bt<=It)&&(Tt=[Ht,Bt])}return Tt}d.steps=function(Tt){var gt=G[Tt]||J;return function(Mt){for(var Nt="M"+B(Mt[0][0])+","+O(Mt[0][1]),Gt=Mt.length,Pt=1;Pt<Gt;Pt++)Nt+=gt(Mt[Pt-1],Mt[Pt],Pt===Gt-1);return Nt}},d.applyBackoff=et,d.makeTester=function(){var Tt=y.ensureSingleById(A.select("body"),"svg","js-plotly-tester",function(Mt){Mt.attr(a.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),gt=y.ensureSingle(Tt,"path","js-reference-point",function(Mt){Mt.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});d.tester=Tt,d.testref=gt},d.savedBBoxes={};var at=0;function K(Tt){var gt=Tt.getAttribute("data-unformatted");if(null!==gt)return gt+Tt.getAttribute("data-math")+Tt.getAttribute("text-anchor")+Tt.getAttribute("style")}function j(Tt,gt){if(!Tt)return null;var Mt=gt._context,Nt=Mt._exportedPlot?"":Mt._baseUrl||"";return Nt?"url('"+Nt+"#"+Tt+"')":"url(#"+Tt+")"}d.bBox=function(Tt,gt,Mt){var Nt,It,Rt;if(Mt||(Mt=K(Tt)),Mt){if(Nt=d.savedBBoxes[Mt])return y.extendFlat({},Nt)}else if(1===Tt.childNodes.length){var Gt=Tt.childNodes[0];if(Mt=K(Gt)){var Pt=+Gt.getAttribute("x")||0,Vt=+Gt.getAttribute("y")||0,re=Gt.getAttribute("transform");if(!re){var le=d.bBox(Gt,!1,Mt);return Pt&&(le.left+=Pt,le.right+=Pt),Vt&&(le.top+=Vt,le.bottom+=Vt),le}if(Nt=d.savedBBoxes[Mt+="~"+Pt+"~"+Vt+"~"+re])return y.extendFlat({},Nt)}}gt?It=Tt:(Rt=d.tester.node(),It=Tt.cloneNode(!0),Rt.appendChild(It)),A.select(It).attr("transform",null).call(s.positionText,0,0);var $t=It.getBoundingClientRect(),oe=d.testref.node().getBoundingClientRect();gt||Rt.removeChild(It);var se={height:$t.height,width:$t.width,left:$t.left-oe.left,top:$t.top-oe.top,right:$t.right-oe.left,bottom:$t.bottom-oe.top};return at>=1e4&&(d.savedBBoxes={},at=0),Mt&&(d.savedBBoxes[Mt]=se),at++,y.extendFlat({},se)},d.setClipUrl=function(Tt,gt,Mt){Tt.attr("clip-path",j(gt,Mt))},d.getTranslate=function(Tt){var Gt=(Tt[Tt.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(Pt,Vt,re){return[Vt,re].join(" ")}).split(" ");return{x:+Gt[0]||0,y:+Gt[1]||0}},d.setTranslate=function(Tt,gt,Mt){var Pt=Tt.attr?"attr":"setAttribute",Vt=Tt[Tt.attr?"attr":"getAttribute"]("transform")||"";return gt=gt||0,Mt=Mt||0,Vt=Vt.replace(/(\btranslate\(.*?\);?)/,"").trim(),Vt=(Vt+=e(gt,Mt)).trim(),Tt[Pt]("transform",Vt),Vt},d.getScale=function(Tt){var Gt=(Tt[Tt.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(Pt,Vt,re){return[Vt,re].join(" ")}).split(" ");return{x:+Gt[0]||1,y:+Gt[1]||1}},d.setScale=function(Tt,gt,Mt){var Pt=Tt.attr?"attr":"setAttribute",Vt=Tt[Tt.attr?"attr":"getAttribute"]("transform")||"";return gt=gt||1,Mt=Mt||1,Vt=Vt.replace(/(\bscale\(.*?\);?)/,"").trim(),Vt=(Vt+="scale("+gt+","+Mt+")").trim(),Tt[Pt]("transform",Vt),Vt};var rt=/\s*sc.*/;d.setPointGroupScale=function(Tt,gt,Mt){if(gt=gt||1,Mt=Mt||1,Tt){var Nt=1===gt&&1===Mt?"":"scale("+gt+","+Mt+")";Tt.each(function(){var Gt=(this.getAttribute("transform")||"").replace(rt,"");Gt=(Gt+=Nt).trim(),this.setAttribute("transform",Gt)})}};var H=/translate\([^)]*\)\s*$/;function Z(Tt,gt){var Mt;return Tt&&(Mt=Tt.mf),void 0===Mt&&(Mt=gt.marker&&gt.marker.standoff||0),gt._geo||gt._xA?Mt:-Mt}d.setTextPointsScale=function(Tt,gt,Mt){!Tt||Tt.each(function(){var Nt,Gt=A.select(this),Pt=Gt.select("text");if(Pt.node()){var Vt=parseFloat(Pt.attr("x")||0),re=parseFloat(Pt.attr("y")||0),le=(Gt.attr("transform")||"").match(H);Nt=1===gt&&1===Mt?[]:[e(Vt,re),"scale("+gt+","+Mt+")",e(-Vt,-re)],le&&Nt.push(le),Gt.attr("transform",Nt.join(""))}})},d.getMarkerStandoff=Z;var _,st,dt,xt,yt,St,it=Math.atan2,Q=Math.cos,Y=Math.sin;function nt(Tt,gt){var Mt=gt[0],Nt=gt[1];return[Mt*Q(Tt)-Nt*Y(Tt),Mt*Y(Tt)+Nt*Q(Tt)]}function Et(Tt,gt){var Mt=Tt.ma;void 0===Mt&&(!(Mt=gt.marker.angle)||y.isArrayOrTypedArray(Mt))&&(Mt=0);var Nt,Gt,Pt=gt.marker.angleref;if("previous"===Pt||"north"===Pt){if(gt._geo){var Vt=gt._geo.project(Tt.lonlat);Nt=Vt[0],Gt=Vt[1]}else{var re=gt._xA,le=gt._yA;if(!re||!le)return 90;Nt=re.c2p(Tt.x),Gt=le.c2p(Tt.y)}if(gt._geo){var de,It=Tt.lonlat[0],Rt=Tt.lonlat[1],$t=gt._geo.project([It,Rt+1e-5]),oe=gt._geo.project([It+1e-5,Rt]),se=it(oe[1]-Gt,oe[0]-Nt),ve=it($t[1]-Gt,$t[0]-Nt);if("north"===Pt)de=Mt/180*Math.PI;else if("previous"===Pt){var jt=It/180*Math.PI,Ct=Rt/180*Math.PI,Wt=_/180*Math.PI,Xt=st/180*Math.PI,Ht=Wt-jt,Bt=Q(Xt)*Y(Ht),zt=Y(Xt)*Q(Ct)-Q(Xt)*Y(Ct)*Q(Ht);de=-it(Bt,zt)-Math.PI,_=It,st=Rt}var kt=nt(se,[Q(de),0]),wt=nt(ve,[Y(de),0]);Mt=it(kt[1]+wt[1],kt[0]+wt[0])/Math.PI*180,"previous"===Pt&&(St!==gt.uid||Tt.i!==yt+1)&&(Mt=null)}if("previous"===Pt&&!gt._geo)if(St===gt.uid&&Tt.i===yt+1&&P(Nt)&&P(Gt)){var ft=Nt-dt,pt=Gt-xt,Dt=gt.line&&gt.line.shape||"",Qt=Dt.slice(Dt.length-1);"h"===Qt&&(pt=0),"v"===Qt&&(ft=0),Mt+=it(pt,ft)/Math.PI*180+90}else Mt=null}return dt=Nt,xt=Gt,yt=Tt.i,St=gt.uid,Mt}d.getMarkerAngle=Et},71984:function(tt,W,t){"use strict";var s,a,h,f,A=t(21984),y=t(33428).round,i="M0,0Z",P=Math.sqrt(2),L=Math.sqrt(3),l=Math.PI,m=Math.cos,r=Math.sin;function e(g){return null===g}function u(g,c,w){if(!(g&&g%360!=0||c))return w;if(h===g&&f===c&&s===w)return a;function d(D,N){var k=m(D),z=r(D),B=N[0],O=N[1]+(c||0);return[B*k-O*z,B*z+O*k]}h=g,f=c,s=w;for(var o=g/180*l,v=0,M=0,b=A(w),E="",x=0;x<b.length;x++){var S=b[x],T=S[0],n=v,C=M;if("M"===T||"L"===T)v=+S[1],M=+S[2];else if("m"===T||"l"===T)v+=+S[1],M+=+S[2];else if("H"===T)v=+S[1];else if("h"===T)v+=+S[1];else if("V"===T)M=+S[1];else if("v"===T)M+=+S[1];else if("A"===T){v=+S[1],M=+S[2];var p=d(o,[+S[6],+S[7]]);S[6]=p[0],S[7]=p[1],S[3]=+S[3]+g}("H"===T||"V"===T)&&(T="L"),("h"===T||"v"===T)&&(T="l"),("m"===T||"l"===T)&&(v-=n,M-=C);var F=d(o,[v,M]);("H"===T||"V"===T)&&(T="L"),("M"===T||"L"===T||"m"===T||"l"===T)&&(S[1]=F[0],S[2]=F[1]),S[0]=T,E+=S[0]+S.slice(1).join(",")}return a=E,E}tt.exports={circle:{n:0,f:function(g,c,w){if(e(c))return i;var d=y(g,2),o="M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z";return w?u(c,w,o):o}},square:{n:1,f:function(g,c,w){if(e(c))return i;var d=y(g,2);return u(c,w,"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")}},diamond:{n:2,f:function(g,c,w){if(e(c))return i;var d=y(1.3*g,2);return u(c,w,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"Z")}},cross:{n:3,f:function(g,c,w){if(e(c))return i;var d=y(.4*g,2),o=y(1.2*g,2);return u(c,w,"M"+o+","+d+"H"+d+"V"+o+"H-"+d+"V"+d+"H-"+o+"V-"+d+"H-"+d+"V-"+o+"H"+d+"V-"+d+"H"+o+"Z")}},x:{n:4,f:function(g,c,w){if(e(c))return i;var d=y(.8*g/P,2),o="l"+d+","+d,v="l"+d+",-"+d,M="l-"+d+",-"+d,b="l-"+d+","+d;return u(c,w,"M0,"+d+o+v+M+v+M+b+M+b+o+b+o+"Z")}},"triangle-up":{n:5,f:function(g,c,w){if(e(c))return i;var d=y(2*g/L,2);return u(c,w,"M-"+d+","+y(g/2,2)+"H"+d+"L0,-"+y(g,2)+"Z")}},"triangle-down":{n:6,f:function(g,c,w){if(e(c))return i;var d=y(2*g/L,2);return u(c,w,"M-"+d+",-"+y(g/2,2)+"H"+d+"L0,"+y(g,2)+"Z")}},"triangle-left":{n:7,f:function(g,c,w){if(e(c))return i;var d=y(2*g/L,2);return u(c,w,"M"+y(g/2,2)+",-"+d+"V"+d+"L-"+y(g,2)+",0Z")}},"triangle-right":{n:8,f:function(g,c,w){if(e(c))return i;var d=y(2*g/L,2);return u(c,w,"M-"+y(g/2,2)+",-"+d+"V"+d+"L"+y(g,2)+",0Z")}},"triangle-ne":{n:9,f:function(g,c,w){if(e(c))return i;var d=y(.6*g,2),o=y(1.2*g,2);return u(c,w,"M-"+o+",-"+d+"H"+d+"V"+o+"Z")}},"triangle-se":{n:10,f:function(g,c,w){if(e(c))return i;var d=y(.6*g,2),o=y(1.2*g,2);return u(c,w,"M"+d+",-"+o+"V"+d+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(g,c,w){if(e(c))return i;var d=y(.6*g,2),o=y(1.2*g,2);return u(c,w,"M"+o+","+d+"H-"+d+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(g,c,w){if(e(c))return i;var d=y(.6*g,2),o=y(1.2*g,2);return u(c,w,"M-"+d+","+o+"V-"+d+"H"+o+"Z")}},pentagon:{n:13,f:function(g,c,w){if(e(c))return i;var d=y(.951*g,2),o=y(.588*g,2),v=y(-g,2),M=y(-.309*g,2);return u(c,w,"M"+d+","+M+"L"+o+","+y(.809*g,2)+"H-"+o+"L-"+d+","+M+"L0,"+v+"Z")}},hexagon:{n:14,f:function(g,c,w){if(e(c))return i;var d=y(g,2),o=y(g/2,2),v=y(g*L/2,2);return u(c,w,"M"+v+",-"+o+"V"+o+"L0,"+d+"L-"+v+","+o+"V-"+o+"L0,-"+d+"Z")}},hexagon2:{n:15,f:function(g,c,w){if(e(c))return i;var d=y(g,2),o=y(g/2,2),v=y(g*L/2,2);return u(c,w,"M-"+o+","+v+"H"+o+"L"+d+",0L"+o+",-"+v+"H-"+o+"L-"+d+",0Z")}},octagon:{n:16,f:function(g,c,w){if(e(c))return i;var d=y(.924*g,2),o=y(.383*g,2);return u(c,w,"M-"+o+",-"+d+"H"+o+"L"+d+",-"+o+"V"+o+"L"+o+","+d+"H-"+o+"L-"+d+","+o+"V-"+o+"Z")}},star:{n:17,f:function(g,c,w){if(e(c))return i;var d=1.4*g,o=y(.225*d,2),v=y(.951*d,2),M=y(.363*d,2),b=y(.588*d,2),E=y(-d,2),x=y(-.309*d,2),S=y(.118*d,2),T=y(.809*d,2);return u(c,w,"M"+o+","+x+"H"+v+"L"+M+","+S+"L"+b+","+T+"L0,"+y(.382*d,2)+"L-"+b+","+T+"L-"+M+","+S+"L-"+v+","+x+"H-"+o+"L0,"+E+"Z")}},hexagram:{n:18,f:function(g,c,w){if(e(c))return i;var d=y(.66*g,2),o=y(.38*g,2),v=y(.76*g,2);return u(c,w,"M-"+v+",0l-"+o+",-"+d+"h"+v+"l"+o+",-"+d+"l"+o+","+d+"h"+v+"l-"+o+","+d+"l"+o+","+d+"h-"+v+"l-"+o+","+d+"l-"+o+",-"+d+"h-"+v+"Z")}},"star-triangle-up":{n:19,f:function(g,c,w){if(e(c))return i;var d=y(g*L*.8,2),o=y(.8*g,2),v=y(1.6*g,2),M=y(4*g,2),b="A "+M+","+M+" 0 0 1 ";return u(c,w,"M-"+d+","+o+b+d+","+o+b+"0,-"+v+b+"-"+d+","+o+"Z")}},"star-triangle-down":{n:20,f:function(g,c,w){if(e(c))return i;var d=y(g*L*.8,2),o=y(.8*g,2),v=y(1.6*g,2),M=y(4*g,2),b="A "+M+","+M+" 0 0 1 ";return u(c,w,"M"+d+",-"+o+b+"-"+d+",-"+o+b+"0,"+v+b+d+",-"+o+"Z")}},"star-square":{n:21,f:function(g,c,w){if(e(c))return i;var d=y(1.1*g,2),o=y(2*g,2),v="A "+o+","+o+" 0 0 1 ";return u(c,w,"M-"+d+",-"+d+v+"-"+d+","+d+v+d+","+d+v+d+",-"+d+v+"-"+d+",-"+d+"Z")}},"star-diamond":{n:22,f:function(g,c,w){if(e(c))return i;var d=y(1.4*g,2),o=y(1.9*g,2),v="A "+o+","+o+" 0 0 1 ";return u(c,w,"M-"+d+",0"+v+"0,"+d+v+d+",0"+v+"0,-"+d+v+"-"+d+",0Z")}},"diamond-tall":{n:23,f:function(g,c,w){if(e(c))return i;var d=y(.7*g,2),o=y(1.4*g,2);return u(c,w,"M0,"+o+"L"+d+",0L0,-"+o+"L-"+d+",0Z")}},"diamond-wide":{n:24,f:function(g,c,w){if(e(c))return i;var d=y(1.4*g,2),o=y(.7*g,2);return u(c,w,"M0,"+o+"L"+d+",0L0,-"+o+"L-"+d+",0Z")}},hourglass:{n:25,f:function(g,c,w){if(e(c))return i;var d=y(g,2);return u(c,w,"M"+d+","+d+"H-"+d+"L"+d+",-"+d+"H-"+d+"Z")},noDot:!0},bowtie:{n:26,f:function(g,c,w){if(e(c))return i;var d=y(g,2);return u(c,w,"M"+d+","+d+"V-"+d+"L-"+d+","+d+"V-"+d+"Z")},noDot:!0},"circle-cross":{n:27,f:function(g,c,w){if(e(c))return i;var d=y(g,2);return u(c,w,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g,c,w){if(e(c))return i;var d=y(g,2),o=y(g/P,2);return u(c,w,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g,c,w){if(e(c))return i;var d=y(g,2);return u(c,w,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g,c,w){if(e(c))return i;var d=y(g,2);return u(c,w,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g,c,w){if(e(c))return i;var d=y(1.3*g,2);return u(c,w,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM0,-"+d+"V"+d+"M-"+d+",0H"+d)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g,c,w){if(e(c))return i;var d=y(1.3*g,2),o=y(.65*g,2);return u(c,w,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g,c,w){if(e(c))return i;var d=y(1.4*g,2);return u(c,w,"M0,"+d+"V-"+d+"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g,c,w){if(e(c))return i;var d=y(g,2);return u(c,w,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g,c,w){if(e(c))return i;var d=y(1.2*g,2),o=y(.85*g,2);return u(c,w,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g,c,w){if(e(c))return i;var d=y(g/2,2),o=y(g,2);return u(c,w,"M"+d+","+o+"V-"+o+"M"+(d-o)+",-"+o+"V"+o+"M"+o+","+d+"H-"+o+"M-"+o+","+(d-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g,c,w){if(e(c))return i;var d=y(1.2*g,2),o=y(1.6*g,2),v=y(.8*g,2);return u(c,w,"M-"+d+","+v+"L0,0M"+d+","+v+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g,c,w){if(e(c))return i;var d=y(1.2*g,2),o=y(1.6*g,2),v=y(.8*g,2);return u(c,w,"M-"+d+",-"+v+"L0,0M"+d+",-"+v+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g,c,w){if(e(c))return i;var d=y(1.2*g,2),o=y(1.6*g,2),v=y(.8*g,2);return u(c,w,"M"+v+","+d+"L0,0M"+v+",-"+d+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g,c,w){if(e(c))return i;var d=y(1.2*g,2),o=y(1.6*g,2),v=y(.8*g,2);return u(c,w,"M-"+v+","+d+"L0,0M-"+v+",-"+d+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g,c,w){if(e(c))return i;var d=y(1.4*g,2);return u(c,w,"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g,c,w){if(e(c))return i;var d=y(1.4*g,2);return u(c,w,"M0,"+d+"V-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g,c,w){if(e(c))return i;var d=y(g,2);return u(c,w,"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g,c,w){if(e(c))return i;var d=y(g,2);return u(c,w,"M"+d+","+d+"L-"+d+",-"+d)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g,c,w){if(e(c))return i;var d=y(g,2);return u(c,w,"M0,0L-"+d+","+y(2*g,2)+"H"+d+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(g,c,w){if(e(c))return i;var d=y(g,2);return u(c,w,"M0,0L-"+d+",-"+y(2*g,2)+"H"+d+"Z")},noDot:!0},"arrow-left":{n:47,f:function(g,c,w){if(e(c))return i;var d=y(2*g,2),o=y(g,2);return u(c,w,"M0,0L"+d+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(g,c,w){if(e(c))return i;var d=y(2*g,2),o=y(g,2);return u(c,w,"M0,0L-"+d+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(g,c,w){if(e(c))return i;var d=y(g,2);return u(c,w,"M-"+d+",0H"+d+"M0,0L-"+d+","+y(2*g,2)+"H"+d+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g,c,w){if(e(c))return i;var d=y(g,2);return u(c,w,"M-"+d+",0H"+d+"M0,0L-"+d+",-"+y(2*g,2)+"H"+d+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g,c,w){if(e(c))return i;var d=y(2*g,2),o=y(g,2);return u(c,w,"M0,-"+o+"V"+o+"M0,0L"+d+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g,c,w){if(e(c))return i;var d=y(2*g,2),o=y(g,2);return u(c,w,"M0,-"+o+"V"+o+"M0,0L-"+d+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(g,c,w){if(e(c))return i;var d=l/2.5,o=2*g*m(d),v=2*g*r(d);return u(c,w,"M0,0L"+-o+","+v+"L"+o+","+v+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(g,c,w){if(e(c))return i;var d=l/4,o=2*g*m(d),v=2*g*r(d);return u(c,w,"M0,0L"+-o+","+v+"A "+2*g+","+2*g+" 0 0 1 "+o+","+v+"Z")},backoff:.4,noDot:!0}}},97644:function(tt){"use strict";tt.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(tt,W,t){"use strict";var A=t(38248),y=t(24040),i=t(54460),P=t(3400),L=t(93792);function l(m,r,e,s){var a=r["error_"+s]||{},f=[];if(a.visible&&-1!==["linear","log"].indexOf(e.type)){for(var u=L(a),g=0;g<m.length;g++){var c=m[g],w=c.i;if(void 0===w)w=g;else if(null===w)continue;var d=c[s];if(A(e.c2l(d))){var o=u(d,w);if(A(o[0])&&A(o[1])){var v=c[s+"s"]=d-o[0],M=c[s+"h"]=d+o[1];f.push(v,M)}}}var E=r._extremes[e._id],x=i.findExtremes(e,f,P.extendFlat({tozero:E.opts.tozero},{padded:!0}));E.min=E.min.concat(x.min),E.max=E.max.concat(x.max)}}tt.exports=function(r){for(var e=r.calcdata,s=0;s<e.length;s++){var a=e[s],h=a[0].trace;if(!0===h.visible&&y.traceIs(h,"errorBarsOK")){var f=i.getFromId(r,h.xaxis),u=i.getFromId(r,h.yaxis);l(a,h,f,"x"),l(a,h,u,"y")}}}},93792:function(tt){"use strict";function W(t,A){return"percent"===t?function(y){return Math.abs(y*A/100)}:"constant"===t?function(){return Math.abs(A)}:"sqrt"===t?function(y){return Math.sqrt(Math.abs(y))}:void 0}tt.exports=function(A){var y=A.type,i=A.symmetric;if("data"===y){var P=A.array||[];if(i)return function(e,s){var a=+P[s];return[a,a]};var L=A.arrayminus||[];return function(e,s){var a=+P[s],h=+L[s];return isNaN(a)&&isNaN(h)?[NaN,NaN]:[h||0,a||0]}}var l=W(y,A.value),m=W(y,A.valueminus);return i||void 0===A.valueminus?function(e){var s=l(e);return[s,s]}:function(e){return[m(e),l(e)]}}},65200:function(tt,W,t){"use strict";var A=t(38248),y=t(24040),i=t(3400),P=t(31780),L=t(97644);tt.exports=function(l,m,r,e){var s="error_"+e.axis,a=P.newContainer(m,s),h=l[s]||{};function f(v,M){return i.coerce(h,a,L,v,M)}if(!1!==f("visible",void 0!==h.array||void 0!==h.value||"sqrt"===h.type)){var c=f("type","array"in h?"data":"percent"),w=!0;"sqrt"!==c&&(w=f("symmetric",!(("data"===c?"arrayminus":"valueminus")in h))),"data"===c?(f("array"),f("traceref"),w||(f("arrayminus"),f("tracerefminus"))):("percent"===c||"constant"===c)&&(f("value"),w||f("valueminus"));var d="copy_"+e.inherit+"style";e.inherit&&(m["error_"+e.inherit]||{}).visible&&f(d,!(h.color||A(h.thickness)||A(h.width))),(!e.inherit||!a[d])&&(f("color",r),f("thickness"),f("width",y.traceIs(m,"gl3d")?0:4))}}},64968:function(tt,W,t){"use strict";var A=t(3400),y=t(67824).overrideAll,i=t(97644),P={error_x:A.extendFlat({},i),error_y:A.extendFlat({},i)};delete P.error_x.copy_zstyle,delete P.error_y.copy_zstyle,delete P.error_y.copy_ystyle;var L={error_x:A.extendFlat({},i),error_y:A.extendFlat({},i),error_z:A.extendFlat({},i)};delete L.error_x.copy_ystyle,delete L.error_y.copy_ystyle,delete L.error_z.copy_ystyle,delete L.error_z.copy_zstyle,tt.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:P,bar:P,histogram:P,scatter3d:y(L,"calc","nested"),scattergl:y(P,"calc","nested")}},supplyDefaults:t(65200),calc:t(14880),makeComputeError:t(93792),plot:t(78512),style:t(92036),hoverInfo:function l(m,r,e){(r.error_y||{}).visible&&(e.yerr=m.yh-m.y,r.error_y.symmetric||(e.yerrneg=m.y-m.ys)),(r.error_x||{}).visible&&(e.xerr=m.xh-m.x,r.error_x.symmetric||(e.xerrneg=m.x-m.xs))}}},78512:function(tt,W,t){"use strict";var A=t(33428),y=t(38248),i=t(43616),P=t(43028);tt.exports=function(m,r,e,s){var h=e.xaxis,f=e.yaxis,u=s&&s.duration>0,g=m._context.staticPlot;r.each(function(c){var v,w=c[0].trace,d=w.error_x||{},o=w.error_y||{};w.ids&&(v=function(x){return x.id});var M=P.hasMarkers(w)&&w.marker.maxdisplayed>0;!o.visible&&!d.visible&&(c=[]);var b=A.select(this).selectAll("g.errorbar").data(c,v);if(b.exit().remove(),c.length){d.visible||b.selectAll("path.xerror").remove(),o.visible||b.selectAll("path.yerror").remove(),b.style("opacity",1);var E=b.enter().append("g").classed("errorbar",!0);u&&E.style("opacity",0).transition().duration(s.duration).style("opacity",1),i.setClipUrl(b,e.layerClipId,m),b.each(function(x){var S=A.select(this),T=function L(l,m,r){var e={x:m.c2p(l.x),y:r.c2p(l.y)};return void 0!==l.yh&&(e.yh=r.c2p(l.yh),e.ys=r.c2p(l.ys),y(e.ys)||(e.noYS=!0,e.ys=r.c2p(l.ys,!0))),void 0!==l.xh&&(e.xh=m.c2p(l.xh),e.xs=m.c2p(l.xs),y(e.xs)||(e.noXS=!0,e.xs=m.c2p(l.xs,!0))),e}(x,h,f);if(!M||x.vis){var n,C=S.select("path.yerror");if(o.visible&&y(T.x)&&y(T.yh)&&y(T.ys)){var p=o.width;n="M"+(T.x-p)+","+T.yh+"h"+2*p+"m-"+p+",0V"+T.ys,T.noYS||(n+="m-"+p+",0h"+2*p),C.size()?u&&(C=C.transition().duration(s.duration).ease(s.easing)):C=S.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("yerror",!0),C.attr("d",n)}else C.remove();var F=S.select("path.xerror");if(d.visible&&y(T.y)&&y(T.xh)&&y(T.xs)){var D=(d.copy_ystyle?o:d).width;n="M"+T.xh+","+(T.y-D)+"v"+2*D+"m0,-"+D+"H"+T.xs,T.noXS||(n+="m0,-"+D+"v"+2*D),F.size()?u&&(F=F.transition().duration(s.duration).ease(s.easing)):F=S.append("path").style("vector-effect",g?"none":"non-scaling-stroke").classed("xerror",!0),F.attr("d",n)}else F.remove()}})}})}},92036:function(tt,W,t){"use strict";var A=t(33428),y=t(76308);tt.exports=function(P){P.each(function(L){var l=L[0].trace,m=l.error_y||{},r=l.error_x||{},e=A.select(this);e.selectAll("path.yerror").style("stroke-width",m.thickness+"px").call(y.stroke,m.color),r.copy_ystyle&&(r=m),e.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(y.stroke,r.color)})}},55756:function(tt,W,t){"use strict";var A=t(25376),y=t(65460).hoverlabel,i=t(92880).extendFlat;tt.exports={hoverlabel:{bgcolor:i({},y.bgcolor,{arrayOk:!0}),bordercolor:i({},y.bordercolor,{arrayOk:!0}),font:A({arrayOk:!0,editType:"none"}),align:i({},y.align,{arrayOk:!0}),namelength:i({},y.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(tt,W,t){"use strict";var A=t(3400),y=t(24040);function i(P,L,l,m){m=m||A.identity,Array.isArray(P)&&(L[0][l]=m(P))}tt.exports=function(L){var l=L.calcdata,m=L._fullLayout;function r(f){return function(u){return A.coerceHoverinfo({hoverinfo:u},{_module:f._module},m)}}for(var e=0;e<l.length;e++){var s=l[e],a=s[0].trace;if(!y.traceIs(a,"pie-like")){var h=y.traceIs(a,"2dMap")?i:A.fillArray;h(a.hoverinfo,s,"hi",r(a)),a.hovertemplate&&h(a.hovertemplate,s,"ht"),a.hoverlabel&&(h(a.hoverlabel.bgcolor,s,"hbg"),h(a.hoverlabel.bordercolor,s,"hbc"),h(a.hoverlabel.font.size,s,"hts"),h(a.hoverlabel.font.color,s,"htc"),h(a.hoverlabel.font.family,s,"htf"),h(a.hoverlabel.namelength,s,"hnl"),h(a.hoverlabel.align,s,"hta"))}}}},62376:function(tt,W,t){"use strict";var A=t(24040),y=t(83292).hover;tt.exports=function(P,L,l){var m=A.getComponentMethod("annotations","onClick")(P,P._hoverdata);function r(){P.emit("plotly_click",{points:P._hoverdata,event:L})}void 0!==l&&y(P,L,l,!0),P._hoverdata&&L&&L.target&&(m&&m.then?m.then(r):r(),L.stopImmediatePropagation&&L.stopImmediatePropagation())}},92456:function(tt){"use strict";tt.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(tt,W,t){"use strict";var A=t(3400),y=t(55756),i=t(16132);tt.exports=function(L,l,m,r){var s=A.extendFlat({},r.hoverlabel);l.hovertemplate&&(s.namelength=-1),i(L,l,function e(a,h){return A.coerce(L,l,y,a,h)},s)}},10624:function(tt,W,t){"use strict";var A=t(3400);W.getSubplot=function(m){return m.subplot||m.xaxis+m.yaxis||m.geo},W.isTraceInSubplots=function(m,r){if("splom"===m.type){for(var e=m.xaxes||[],s=m.yaxes||[],a=0;a<e.length;a++)for(var h=0;h<s.length;h++)if(-1!==r.indexOf(e[a]+s[h]))return!0;return!1}return-1!==r.indexOf(W.getSubplot(m))},W.flat=function(m,r){for(var e=new Array(m.length),s=0;s<m.length;s++)e[s]=r;return e},W.p2c=function(m,r){for(var e=new Array(m.length),s=0;s<m.length;s++)e[s]=m[s].p2c(r);return e},W.getDistanceFunction=function(m,r,e,s){return"closest"===m?s||W.quadrature(r,e):"x"===m.charAt(0)?r:e},W.getClosest=function(m,r,e){if(!1!==e.index)e.index>=0&&e.index<m.length?e.distance=0:e.index=!1;else for(var s=0;s<m.length;s++){var a=r(m[s]);a<=e.distance&&(e.index=s,e.distance=a)}return e},W.inbox=function(m,r,e){return m*r<0||0===m?e:1/0},W.quadrature=function(m,r){return function(e){var s=m(e),a=r(e);return Math.sqrt(s*s+a*a)}},W.makeEventData=function(m,r,e){var s="index"in m?m.index:m.pointNumber,a={data:r._input,fullData:r,curveNumber:r.index,pointNumber:s};if(r._indexToPoints){var h=r._indexToPoints[s];1===h.length?a.pointIndex=h[0]:a.pointIndices=h}else a.pointIndex=s;return r._module.eventData?a=r._module.eventData(a,m,r,e,s):("xVal"in m?a.x=m.xVal:"x"in m&&(a.x=m.x),"yVal"in m?a.y=m.yVal:"y"in m&&(a.y=m.y),m.xa&&(a.xaxis=m.xa),m.ya&&(a.yaxis=m.ya),void 0!==m.zLabelVal&&(a.z=m.zLabelVal)),W.appendArrayPointValue(a,r,s),a},W.appendArrayPointValue=function(m,r,e){var s=r._arrayAttrs;if(s)for(var a=0;a<s.length;a++){var h=s[a],f=i(h);if(void 0===m[f]){var g=P(A.nestedProperty(r,h).get(),e);void 0!==g&&(m[f]=g)}}},W.appendArrayMultiPointValues=function(m,r,e){var s=r._arrayAttrs;if(s)for(var a=0;a<s.length;a++){var h=s[a],f=i(h);if(void 0===m[f]){for(var u=A.nestedProperty(r,h).get(),g=new Array(e.length),c=0;c<e.length;c++)g[c]=P(u,e[c]);m[f]=g}}};var y={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(m){return y[m]||m}function P(m,r){return Array.isArray(r)?Array.isArray(m)&&Array.isArray(m[r[0]])?m[r[0]][r[1]]:void 0:m[r]}var L={x:!0,y:!0},l={"x unified":!0,"y unified":!0};W.isUnifiedHover=function(m){return"string"==typeof m&&!!l[m]},W.isXYhover=function(m){return"string"==typeof m&&!!L[m]}},83292:function(tt,W,t){"use strict";var A=t(33428),y=t(38248),i=t(49760),P=t(3400),L=P.strTranslate,l=P.strRotate,m=t(95924),r=t(72736),e=t(72213),s=t(43616),a=t(76308),h=t(86476),f=t(54460),u=t(24040),g=t(10624),c=t(92456),w=t(77864),d=t(31140),o=c.YANGLE,v=Math.PI*o/180,M=1/Math.sin(v),b=Math.cos(v),E=Math.sin(v),x=c.HOVERARROWSIZE,S=c.HOVERTEXTPAD,T={box:!0,ohlc:!0,violin:!0,candlestick:!0},n={scatter:!0,scattergl:!0,splom:!0};function C(Z,it,Q,Y,nt){Q||(Q="xy");var _=Array.isArray(Q)?Q:[Q],st=Z._fullLayout,dt=st._plots||[],xt=dt[Q],yt=st._has("cartesian");if(xt){var St=xt.overlays.map(function(Mr){return Mr.id});_=_.concat(St)}for(var Et=_.length,Tt=new Array(Et),gt=new Array(Et),Mt=!1,Nt=0;Nt<Et;Nt++){var Gt=_[Nt];if(dt[Gt])Mt=!0,Tt[Nt]=dt[Gt].xaxis,gt[Nt]=dt[Gt].yaxis;else{if(!st[Gt]||!st[Gt]._subplot)return void P.warn("Unrecognized subplot: "+Gt);var Pt=st[Gt]._subplot;Tt[Nt]=Pt.xaxis,gt[Nt]=Pt.yaxis}}var Vt=it.hovermode||st.hovermode;if(Vt&&!Mt&&(Vt="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(Vt)||!Z.calcdata||Z.querySelector(".zoombox")||Z._dragging)return h.unhoverRaw(Z,it);var re=st.hoverdistance;-1===re&&(re=1/0);var le=st.spikedistance;-1===le&&(le=1/0);var $t,oe,se,ve,de,jt,Ct,Wt,Xt,Ht,Bt,zt,kt,It=[],Rt=[],wt={hLinePoint:null,vLinePoint:null},ft=!1;if(Array.isArray(it))for(Vt="array",se=0;se<it.length;se++)(de=Z.calcdata[it[se].curveNumber||0])&&(jt=de[0].trace,"skip"!==de[0].trace.hoverinfo&&(Rt.push(de),"h"===jt.orientation&&(ft=!0)));else{for(ve=0;ve<Z.calcdata.length;ve++)"skip"!==(jt=(de=Z.calcdata[ve])[0].trace).hoverinfo&&g.isTraceInSubplots(jt,_)&&(Rt.push(de),"h"===jt.orientation&&(ft=!0));var Dt,Qt;if(nt){if(!1===m.triggerHandler(Z,"plotly_beforehover",it))return;var te=nt.getBoundingClientRect();Dt=it.clientX-te.left,Qt=it.clientY-te.top,st._calcInverseTransform(Z);var ee=P.apply3DTransform(st._invTransform)(Dt,Qt);if(Qt=ee[1],(Dt=ee[0])<0||Dt>Tt[0]._length||Qt<0||Qt>gt[0]._length)return h.unhoverRaw(Z,it)}else Dt="xpx"in it?it.xpx:Tt[0]._length/2,Qt="ypx"in it?it.ypx:gt[0]._length/2;if(it.pointerX=Dt+Tt[0]._offset,it.pointerY=Qt+gt[0]._offset,$t="xval"in it?g.flat(_,it.xval):g.p2c(Tt,Dt),oe="yval"in it?g.flat(_,it.yval):g.p2c(gt,Qt),!y($t[0])||!y(oe[0]))return P.warn("Fx.hover failed",it,Z),h.unhoverRaw(Z,it)}var Ne=1/0;function We(Mr,Br){for(ve=0;ve<Rt.length;ve++)if((de=Rt[ve])&&de[0]&&de[0].trace&&!0===(jt=de[0].trace).visible&&0!==jt._length&&-1===["carpet","contourcarpet"].indexOf(jt._module.name)){if("splom"===jt.type?Ct=_[Wt=0]:(Ct=g.getSubplot(jt),Wt=_.indexOf(Ct)),g.isUnifiedHover(Xt=Vt)&&(Xt=Xt.charAt(0)),zt={cd:de,trace:jt,xa:Tt[Wt],ya:gt[Wt],maxHoverDistance:re,maxSpikeDistance:le,index:!1,distance:Math.min(Ne,re),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:a.defaultLine,name:jt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},st[Ct]&&(zt.subplot=st[Ct]._subplot),st._splomScenes&&st._splomScenes[jt.uid]&&(zt.scene=st._splomScenes[jt.uid]),kt=It.length,"array"===Xt){var Or=it[ve];"pointNumber"in Or?(zt.index=Or.pointNumber,Xt="closest"):(Xt="","xval"in Or&&(Ht=Or.xval,Xt="x"),"yval"in Or&&(Bt=Or.yval,Xt=Xt?"closest":"y"))}else void 0!==Mr&&void 0!==Br?(Ht=Mr,Bt=Br):(Ht=$t[Wt],Bt=oe[Wt]);if(0!==re)if(jt._module&&jt._module.hoverPoints){var sn=jt._module.hoverPoints(zt,Ht,Bt,Xt,{finiteRange:!0,hoverLayer:st._hoverlayer});if(sn)for(var pn,gn=0;gn<sn.length;gn++)y((pn=sn[gn]).x0)&&y(pn.y0)&&It.push(U(pn,Vt))}else P.log("Unrecognized trace type in hover:",jt);if("closest"===Vt&&It.length>kt&&(It.splice(0,kt),Ne=It[0].distance),yt&&0!==le&&0===It.length){zt.distance=le,zt.index=!1;var wn=jt._module.hoverPoints(zt,Ht,Bt,"closest",{hoverLayer:st._hoverlayer});if(wn&&(wn=wn.filter(function(Qn){return Qn.spikeDistance<=le})),wn&&wn.length){var Rn,Kn=wn.filter(function(Qn){return Qn.xa.showspikes&&"hovered data"!==Qn.xa.spikesnap});if(Kn.length){var _n=Kn[0];y(_n.x0)&&y(_n.y0)&&(Rn=Te(_n),(!wt.vLinePoint||wt.vLinePoint.spikeDistance>Rn.spikeDistance)&&(wt.vLinePoint=Rn))}var ua=wn.filter(function(Qn){return Qn.ya.showspikes&&"hovered data"!==Qn.ya.spikesnap});if(ua.length){var qn=ua[0];y(qn.x0)&&y(qn.y0)&&(Rn=Te(qn),(!wt.hLinePoint||wt.hLinePoint.spikeDistance>Rn.spikeDistance)&&(wt.hLinePoint=Rn))}}}}}function ye(Mr,Br,Or){for(var gn,sn=null,pn=1/0,wn=0;wn<Mr.length;wn++)gn=Mr[wn].spikeDistance,Or&&0===wn&&(gn=-1/0),gn<=pn&&gn<=Br&&(sn=Mr[wn],pn=gn);return sn}function Te(Mr){return Mr?{xa:Mr.xa,ya:Mr.ya,x:void 0!==Mr.xSpike?Mr.xSpike:(Mr.x0+Mr.x1)/2,y:void 0!==Mr.ySpike?Mr.ySpike:(Mr.y0+Mr.y1)/2,distance:Mr.distance,spikeDistance:Mr.spikeDistance,curveNumber:Mr.trace.index,color:Mr.color,pointNumber:Mr.index}:null}We();var Ge={fullLayout:st,container:st._hoverlayer,event:it},hr=Z._spikepoints;Z._spikepoints={vLinePoint:wt.vLinePoint,hLinePoint:wt.hLinePoint};var Ue=function(){It.sort(function(Mr,Br){return Mr.distance-Br.distance}),It=function lt(Z,it){for(var Q=it.charAt(0),Y=[],nt=[],_=[],st=0;st<Z.length;st++){var dt=Z[st];u.traceIs(dt.trace,"bar-like")||u.traceIs(dt.trace,"box-violin")?_.push(dt):dt.trace[Q+"period"]?nt.push(dt):Y.push(dt)}return Y.concat(nt).concat(_)}(It,Vt)};Ue();var Ye=Vt.charAt(0),gr=("x"===Ye||"y"===Ye)&&It[0]&&n[It[0].trace.type];if(yt&&0!==le&&0!==It.length){var he=ye(It.filter(function(Mr){return Mr.ya.showspikes}),le,gr);wt.hLinePoint=Te(he);var pe=ye(It.filter(function(Mr){return Mr.xa.showspikes}),le,gr);wt.vLinePoint=Te(pe)}if(0===It.length){var be=h.unhoverRaw(Z,it);return yt&&(null!==wt.hLinePoint||null!==wt.vLinePoint)&&et(hr)&&G(Z,wt,Ge),be}if(yt&&et(hr)&&G(Z,wt,Ge),g.isXYhover(Xt)&&0!==It[0].length&&"splom"!==It[0].trace.type){var Se=It[0],Me=(It=T[Se.trace.type]?It.filter(function(Mr){return Mr.trace.index===Se.trace.index}):[Se]).length;We(K("x",Se,st),K("y",Se,st));var Ot,Ze=[],nr={},ir=0,lr=function(Mr){var Br=T[Mr.trace.type]?p(Mr):Mr.trace.index;if(nr[Br]){var Or=nr[Br]-1,sn=Ze[Or];Or>0&&Math.abs(Mr.distance)<Math.abs(sn.distance)&&(Ze[Or]=Mr)}else ir++,nr[Br]=ir,Ze.push(Mr)};for(Ot=0;Ot<Me;Ot++)lr(It[Ot]);for(Ot=It.length-1;Ot>Me-1;Ot--)lr(It[Ot]);It=Ze,Ue()}var Ut=Z._hoverdata,Ce=[],Le=j(Z),Xe=rt(Z);for(se=0;se<It.length;se++){var _e=It[se],fr=g.makeEventData(_e,_e.trace,_e.cd);if(!1!==_e.hovertemplate){var $e=!1;_e.cd[_e.index]&&_e.cd[_e.index].ht&&($e=_e.cd[_e.index].ht),_e.hovertemplate=$e||_e.trace.hovertemplate||!1}if(_e.xa&&_e.ya){var Re=_e.x0+_e.xa._offset,or=_e.x1+_e.xa._offset,dr=_e.y0+_e.ya._offset,pr=_e.y1+_e.ya._offset,Cr=Math.min(Re,or),$r=Math.max(Re,or),Ar=Math.min(dr,pr),Gr=Math.max(dr,pr);fr.bbox={x0:Cr+Xe,x1:$r+Xe,y0:Ar+Le,y1:Gr+Le}}_e.eventData=[fr],Ce.push(fr)}Z._hoverdata=Ce;var nn="y"===Vt&&(Rt.length>1||It.length>1)||"closest"===Vt&&ft&&It.length>1,Ur=a.combine(st.plot_bgcolor||a.background,st.paper_bgcolor),Tn=D(It,{gd:Z,hovermode:Vt,rotateLabels:nn,bgColor:Ur,container:st._hoverlayer,outerContainer:st._paper.node(),commonLabelOpts:st.hoverlabel,hoverdistance:st.hoverdistance}),bn=Tn.hoverLabels;if(g.isUnifiedHover(Vt)||(function k(Z,it,Q,Y){var Pt,Vt,re,le,It,Rt,$t,nt=it?"xa":"ya",_=it?"ya":"xa",st=0,dt=1,xt=Z.size(),yt=new Array(xt),St=0,Et=Y.minX,Tt=Y.maxX,gt=Y.minY,Mt=Y.maxY,Nt=function(Ht){return Ht*Q._invScaleX},Gt=function(Ht){return Ht*Q._invScaleY};function oe(Ht){var Bt=Ht[0],zt=Ht[Ht.length-1];if(re=zt.pos+zt.dp+zt.size-Bt.pmax,(Vt=Bt.pmin-Bt.pos-Bt.dp+Bt.size)>.01){for(It=Ht.length-1;It>=0;It--)Ht[It].dp+=Vt;Pt=!1}if(!(re<.01)){if(Vt<-.01){for(It=Ht.length-1;It>=0;It--)Ht[It].dp-=re;Pt=!1}if(Pt){var kt=0;for(le=0;le<Ht.length;le++)(Rt=Ht[le]).pos+Rt.dp+Rt.size>Bt.pmax&&kt++;for(le=Ht.length-1;le>=0&&!(kt<=0);le--)(Rt=Ht[le]).pos>Bt.pmax-1&&(Rt.del=!0,kt--);for(le=0;le<Ht.length&&!(kt<=0);le++)if((Rt=Ht[le]).pos<Bt.pmin+1)for(Rt.del=!0,kt--,re=2*Rt.size,It=Ht.length-1;It>=0;It--)Ht[It].dp-=re;for(le=Ht.length-1;le>=0&&!(kt<=0);le--)(Rt=Ht[le]).pos+Rt.dp+Rt.size>Bt.pmax&&(Rt.del=!0,kt--)}}}for(Z.each(function(Ht){var Bt=Ht[nt],zt=Ht[_],kt="x"===Bt._id.charAt(0),wt=Bt.range;0===St&&wt&&wt[0]>wt[1]!==kt&&(dt=-1);var ft=0,pt=kt?Q.width:Q.height;if("x"===Q.hovermode||"y"===Q.hovermode){var ee,Ne,Dt=z(Ht,it),Qt=Ht.anchor,te="end"===Qt?-1:1;if("middle"===Qt)Ne=(ee=Ht.crossPos+(kt?Gt(Dt.y-Ht.by/2):Nt(Ht.bx/2+Ht.tx2width/2)))+(kt?Gt(Ht.by):Nt(Ht.bx));else if(kt)Ne=(ee=Ht.crossPos+Gt(x+Dt.y)-Gt(Ht.by/2-x))+Gt(Ht.by);else{var We=Nt(te*x+Dt.x),ye=We+Nt(te*Ht.bx);ee=Ht.crossPos+Math.min(We,ye),Ne=Ht.crossPos+Math.max(We,ye)}kt?void 0!==gt&&void 0!==Mt&&Math.min(Ne,Mt)-Math.max(ee,gt)>1&&("left"===zt.side?(ft=zt._mainLinePosition,pt=Q.width):pt=zt._mainLinePosition):void 0!==Et&&void 0!==Tt&&Math.min(Ne,Tt)-Math.max(ee,Et)>1&&("top"===zt.side?(ft=zt._mainLinePosition,pt=Q.height):pt=zt._mainLinePosition)}yt[St++]=[{datum:Ht,traceIndex:Ht.trace.index,dp:0,pos:Ht.pos,posref:Ht.posref,size:Ht.by*(kt?M:1)/2,pmin:ft,pmax:pt}]}),yt.sort(function(Ht,Bt){return Ht[0].posref-Bt[0].posref||dt*(Bt[0].traceIndex-Ht[0].traceIndex)});!Pt&&st<=xt;){for(st++,Pt=!0,le=0;le<yt.length-1;){var se=yt[le],ve=yt[le+1],de=se[se.length-1],jt=ve[0];if((Vt=de.pos+de.dp+de.size-jt.pos-jt.dp+jt.size)>.01&&de.pmin===jt.pmin&&de.pmax===jt.pmax){for(It=ve.length-1;It>=0;It--)ve[It].dp+=Vt;for(se.push.apply(se,ve),yt.splice(le+1,1),$t=0,It=se.length-1;It>=0;It--)$t+=se[It].dp;for(re=$t/se.length,It=se.length-1;It>=0;It--)se[It].dp-=re;Pt=!1}else le++}yt.forEach(oe)}for(le=yt.length-1;le>=0;le--){var Ct=yt[le];for(It=Ct.length-1;It>=0;It--){var Wt=Ct[It],Xt=Wt.datum;Xt.offset=Wt.dp,Xt.del=Wt.del}}}(bn,nn,st,Tn.commonLabelBoundingBox),O(bn,nn,st._invScaleX,st._invScaleY)),nt&&nt.tagName){var ur=u.getComponentMethod("annotations","hasClickToShow")(Z,Ce);e(A.select(nt),ur?"pointer":"")}!nt||Y||!function J(Z,it,Q){if(!Q||Q.length!==Z._hoverdata.length)return!0;for(var Y=Q.length-1;Y>=0;Y--){var nt=Q[Y],_=Z._hoverdata[Y];if(nt.curveNumber!==_.curveNumber||String(nt.pointNumber)!==String(_.pointNumber)||String(nt.pointNumbers)!==String(_.pointNumbers))return!0}return!1}(Z,0,Ut)||(Ut&&Z.emit("plotly_unhover",{event:it,points:Ut}),Z.emit("plotly_hover",{event:it,points:Z._hoverdata,xaxes:Tt,yaxes:gt,xvals:$t,yvals:oe}))}function p(Z){return[Z.trace.index,Z.index,Z.x0,Z.y0,Z.name,Z.attr,Z.xa?Z.xa._id:"",Z.ya?Z.ya._id:""].join(",")}W.hover=function(it,Q,Y,nt){it=P.getGraphDiv(it);var _=Q.target;P.throttle(it._fullLayout._uid+c.HOVERID,c.HOVERMINTIME,function(){C(it,Q,Y,nt,_)})},W.loneHover=function(it,Q){var Y=!0;Array.isArray(it)||(Y=!1,it=[it]);var nt=Q.gd,_=j(nt),st=rt(nt),St=D(it.map(function(Gt){var Pt=Gt._x0||Gt.x0||Gt.x||0,Vt=Gt._x1||Gt.x1||Gt.x||0,re=Gt._y0||Gt.y0||Gt.y||0,le=Gt._y1||Gt.y1||Gt.y||0,It=Gt.eventData;if(It){var Rt=Math.min(Pt,Vt),$t=Math.max(Pt,Vt),oe=Math.min(re,le),se=Math.max(re,le),ve=Gt.trace;if(u.traceIs(ve,"gl3d")){var de=nt._fullLayout[ve.scene]._scene.container,jt=de.offsetLeft,Ct=de.offsetTop;Rt+=jt,$t+=jt,oe+=Ct,se+=Ct}It.bbox={x0:Rt+st,x1:$t+st,y0:oe+_,y1:se+_},Q.inOut_bbox&&Q.inOut_bbox.push(It.bbox)}else It=!1;return{color:Gt.color||a.defaultLine,x0:Gt.x0||Gt.x||0,x1:Gt.x1||Gt.x||0,y0:Gt.y0||Gt.y||0,y1:Gt.y1||Gt.y||0,xLabel:Gt.xLabel,yLabel:Gt.yLabel,zLabel:Gt.zLabel,text:Gt.text,name:Gt.name,idealAlign:Gt.idealAlign,borderColor:Gt.borderColor,fontFamily:Gt.fontFamily,fontSize:Gt.fontSize,fontColor:Gt.fontColor,nameLength:Gt.nameLength,textAlign:Gt.textAlign,trace:Gt.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Gt.hovertemplate||!1,hovertemplateLabels:Gt.hovertemplateLabels||!1,eventData:It}}),{gd:nt,hovermode:"closest",rotateLabels:false,bgColor:Q.bgColor||a.background,container:A.select(Q.container),outerContainer:Q.outerContainer||Q.container}).hoverLabels,Tt=0,gt=0;return St.sort(function(Gt,Pt){return Gt.y0-Pt.y0}).each(function(Gt,Pt){var Vt=Gt.y0-Gt.by/2;Gt.offset=Vt-5<Tt?Tt-Vt+5:0,Tt=Vt+Gt.by+Gt.offset,Pt===Q.anchorIndex&&(gt=Gt.offset)}).each(function(Gt){Gt.offset-=gt}),O(St,false,nt._fullLayout._invScaleX,nt._fullLayout._invScaleY),Y?St:St.node()};var F=/<extra>([\s\S]*)<\/extra>/;function D(Z,it){var Q=it.gd,Y=Q._fullLayout,nt=it.hovermode,_=it.rotateLabels,st=it.bgColor,dt=it.container,xt=it.outerContainer,yt=it.commonLabelOpts||{};if(0===Z.length)return[[]];var St=it.fontFamily||c.HOVERFONT,Et=it.fontSize||c.HOVERFONTSIZE,Tt=Z[0],gt=Tt.xa,Mt=Tt.ya,Nt=nt.charAt(0),Gt=Nt+"Label",Pt=Tt[Gt];if(void 0===Pt&&"multicategory"===gt.type)for(var Vt=0;Vt<Z.length&&void 0===(Pt=Z[Vt][Gt]);Vt++);var re=H(Q,xt),le=re.top,It=re.width,Rt=re.height,$t=void 0!==Pt&&Tt.distance<=it.hoverdistance&&("x"===nt||"y"===nt);if($t){var se,ve,oe=!0;for(se=0;se<Z.length;se++)if(oe&&void 0===Z[se].zLabel&&(oe=!1),ve=Z[se].hoverinfo||Z[se].trace.hoverinfo){var de=Array.isArray(ve)?ve:ve.split("+");if(-1===de.indexOf("all")&&-1===de.indexOf(nt)){$t=!1;break}}oe&&($t=!1)}var jt=dt.selectAll("g.axistext").data($t?[0]:[]);jt.enter().append("g").classed("axistext",!0),jt.exit().remove();var Ct={minX:0,maxX:0,minY:0,maxY:0};if(jt.each(function(){var Me=A.select(this),Ie=P.ensureSingle(Me,"path","",function(Ar){Ar.style({"stroke-width":"1px"})}),Fe=P.ensureSingle(Me,"text","",function(Ar){Ar.attr("data-notex",1)}),Ze=yt.bgcolor||a.defaultLine,nr=yt.bordercolor||a.contrast(Ze),ir=a.contrast(Ze),lr={family:yt.font.family||St,size:yt.font.size||Et,color:yt.font.color||ir};Ie.style({fill:Ze,stroke:nr}),Fe.text(Pt).call(s.font,lr).call(r.positionText,0,0).call(r.convertToTspans,Q),Me.attr("transform","");var Ut,Ce,Ot=H(Q,Fe.node());if("x"===nt){var Le="top"===gt.side?"-":"";Fe.attr("text-anchor","middle").call(r.positionText,0,"top"===gt.side?le-Ot.bottom-x-S:le-Ot.top+x+S),Ce=Mt._offset+("top"===gt.side?0:Mt._length);var Xe=Ot.width/2+S;(Ut=gt._offset+(Tt.x0+Tt.x1)/2)<Xe?(Ut=Xe,Ie.attr("d","M-"+(Xe-x)+",0L-"+(Xe-2*x)+","+Le+x+"H"+Xe+"v"+Le+(2*S+Ot.height)+"H-"+Xe+"V"+Le+x+"Z")):Ut>Y.width-Xe?(Ut=Y.width-Xe,Ie.attr("d","M"+(Xe-x)+",0L"+Xe+","+Le+x+"v"+Le+(2*S+Ot.height)+"H-"+Xe+"V"+Le+x+"H"+(Xe-2*x)+"Z")):Ie.attr("d","M0,0L"+x+","+Le+x+"H"+Xe+"v"+Le+(2*S+Ot.height)+"H-"+Xe+"V"+Le+x+"H-"+x+"Z"),Ct.minX=Ut-Xe,Ct.maxX=Ut+Xe,"top"===gt.side?(Ct.minY=Ce-(2*S+Ot.height),Ct.maxY=Ce-S):(Ct.minY=Ce+S,Ct.maxY=Ce+(2*S+Ot.height))}else{var _e,fr,$e;"right"===Mt.side?(_e="start",fr=1,$e="",Ut=gt._offset+gt._length):(_e="end",fr=-1,$e="-",Ut=gt._offset),Ce=Mt._offset+(Tt.y0+Tt.y1)/2,Fe.attr("text-anchor",_e),Ie.attr("d","M0,0L"+$e+x+","+x+"V"+(S+Ot.height/2)+"h"+$e+(2*S+Ot.width)+"V-"+(S+Ot.height/2)+"H"+$e+x+"V-"+x+"Z"),Ct.minY=Ce-(S+Ot.height/2),Ct.maxY=Ce+(S+Ot.height/2),"right"===Mt.side?(Ct.minX=Ut+x,Ct.maxX=Ut+x+(2*S+Ot.width)):(Ct.minX=Ut-x-(2*S+Ot.width),Ct.maxX=Ut-x);var pr,Re=Ot.height/2,or=le-Ot.top-Re,dr="clip"+Y._uid+"commonlabel"+Mt._id;if(Ut<Ot.width+2*S+x){pr="M-"+(x+S)+"-"+Re+"h-"+(Ot.width-S)+"V"+Re+"h"+(Ot.width-S)+"Z";var Cr=Ot.width-Ut+S;r.positionText(Fe,Cr,or),"end"===_e&&Fe.selectAll("tspan").each(function(){var Ar=A.select(this),Gr=s.tester.append("text").text(Ar.text()).call(s.font,lr),nn=H(Q,Gr.node());Math.round(nn.width)<Math.round(Ot.width)&&Ar.attr("x",Cr-nn.width),Gr.remove()})}else r.positionText(Fe,fr*(S+x),or),pr=null;var $r=Y._topclips.selectAll("#"+dr).data(pr?[0]:[]);$r.enter().append("clipPath").attr("id",dr).append("path"),$r.exit().remove(),$r.select("path").attr("d",pr),s.setClipUrl(Fe,pr?dr:null,Q)}Me.attr("transform",L(Ut,Ce))}),g.isUnifiedHover(nt)){dt.selectAll("g.hovertext").remove();var Wt=Z.filter(function(Me){return"none"!==Me.hoverinfo});if(0===Wt.length)return[];var Xt=Y.hoverlabel,Ht=Xt.font,zt={font:Ht};w({showlegend:!0,legend:{title:{text:Pt,font:Ht},font:Ht,bgcolor:Xt.bgcolor,bordercolor:Xt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:Y.legend?Y.legend.traceorder:void 0,orientation:"v"}},zt,Q._fullData);var kt=zt.legend;kt.entries=[];for(var wt=0;wt<Wt.length;wt++){var ft=Wt[wt];if("none"!==ft.hoverinfo){var pt=N(ft,!0,nt,Y,Pt),Dt=pt[0],Qt=pt[1];ft.name=Qt,ft.text=""!==Qt?Qt+" : "+Dt:Dt;var te=ft.cd[ft.index];te&&(te.mc&&(ft.mc=te.mc),te.mcc&&(ft.mc=te.mcc),te.mlc&&(ft.mlc=te.mlc),te.mlcc&&(ft.mlc=te.mlcc),te.mlw&&(ft.mlw=te.mlw),te.mrc&&(ft.mrc=te.mrc),te.dir&&(ft.dir=te.dir)),ft._distinct=!0,kt.entries.push([ft])}}kt.entries.sort(function(Me,Ie){return Me[0].trace.index-Ie[0].trace.index}),kt.layer=dt,kt._inHover=!0,kt._groupTitleFont=Xt.grouptitlefont,d(Q,kt);var Ue,Ye,gr,tr,ee=dt.select("g.legend"),Ne=H(Q,ee.node()),We=Ne.width+2*S,ye=Ne.height+2*S,Te=Wt[0],Ge=(Te.x0+Te.x1)/2,hr=(Te.y0+Te.y1)/2,ce=!(u.traceIs(Te.trace,"bar-like")||u.traceIs(Te.trace,"box-violin"));"y"===Nt?ce?(Ye=hr-S,Ue=hr+S):(Ye=Math.min.apply(null,Wt.map(function(Me){return Math.min(Me.y0,Me.y1)})),Ue=Math.max.apply(null,Wt.map(function(Me){return Math.max(Me.y0,Me.y1)}))):Ye=Ue=P.mean(Wt.map(function(Me){return(Me.y0+Me.y1)/2}))-ye/2,"x"===Nt?ce?(gr=Ge+S,tr=Ge-S):(gr=Math.max.apply(null,Wt.map(function(Me){return Math.max(Me.x0,Me.x1)})),tr=Math.min.apply(null,Wt.map(function(Me){return Math.min(Me.x0,Me.x1)}))):gr=tr=P.mean(Wt.map(function(Me){return(Me.x0+Me.x1)/2}))-We/2;var pe,be,he=gt._offset,ne=Mt._offset;return tr+=he-We,Ye+=ne-ye,pe=(gr+=he)+We<It&&gr>=0?gr:tr+We<It&&tr>=0?tr:he+We<It?he:gr-Ge<Ge-tr+We?It-We:0,be=(Ue+=ne)+ye<Rt&&Ue>=0?Ue:Ye+ye<Rt&&Ye>=0?Ye:ne+ye<Rt?ne:Ue-hr<hr-Ye+ye?Rt-ye:0,ee.attr("transform",L((pe+=S)-1,(be+=S)-1)),ee}var Se=dt.selectAll("g.hovertext").data(Z,function(Me){return p(Me)});return Se.enter().append("g").classed("hovertext",!0).each(function(){var Me=A.select(this);Me.append("rect").call(a.fill,a.addOpacity(st,.8)),Me.append("text").classed("name",!0),Me.append("path").style("stroke-width","1px"),Me.append("text").classed("nums",!0).call(s.font,St,Et)}),Se.exit().remove(),Se.each(function(Me){var Ie=A.select(this).attr("transform",""),Fe=Me.color;Array.isArray(Fe)&&(Fe=Fe[Me.eventData[0].pointNumber]);var Ze=Me.bgcolor||Fe,nr=a.combine(a.opacity(Ze)?Ze:a.defaultLine,st),ir=a.combine(a.opacity(Fe)?Fe:a.defaultLine,st),lr=Me.borderColor||a.contrast(nr),Ot=N(Me,$t,nt,Y,Pt,Ie),Ut=Ot[0],Ce=Ot[1],Le=Ie.select("text.nums").call(s.font,Me.fontFamily||St,Me.fontSize||Et,Me.fontColor||lr).text(Ut).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,Q),Xe=Ie.select("text.name"),_e=0,fr=0;if(Ce&&Ce!==Ut){Xe.call(s.font,Me.fontFamily||St,Me.fontSize||Et,ir).text(Ce).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,Q);var $e=H(Q,Xe.node());_e=$e.width+2*S,fr=$e.height+2*S}else Xe.remove(),Ie.select("rect").remove();Ie.select("path").style({fill:nr,stroke:lr});var Re=Me.xa._offset+(Me.x0+Me.x1)/2,or=Me.ya._offset+(Me.y0+Me.y1)/2,dr=Math.abs(Me.x1-Me.x0),pr=Math.abs(Me.y1-Me.y0),Cr=H(Q,Le.node()),$r=Cr.width/Y._invScaleX,Ar=Cr.height/Y._invScaleY;Me.ty0=(le-Cr.top)/Y._invScaleY,Me.bx=$r+2*S,Me.by=Math.max(Ar+2*S,fr),Me.anchor="start",Me.txwidth=$r,Me.tx2width=_e,Me.offset=0;var nn,Ur,Gr=($r+x+S+_e)*Y._invScaleX;if(_)Me.pos=Re,nn=or+pr/2+Gr<=Rt,Ur=or-pr/2-Gr>=0,"top"!==Me.idealAlign&&nn||!Ur?nn?(or+=pr/2,Me.anchor="start"):Me.anchor="middle":(or-=pr/2,Me.anchor="end"),Me.crossPos=or;else{if(Me.pos=or,nn=Re+dr/2+Gr<=It,Ur=Re-dr/2-Gr>=0,"left"!==Me.idealAlign&&nn||!Ur)if(nn)Re+=dr/2,Me.anchor="start";else{Me.anchor="middle";var Tn=Gr/2,bn=Re+Tn-It,ur=Re-Tn;bn>0&&(Re-=bn),ur<0&&(Re+=-ur)}else Re-=dr/2,Me.anchor="end";Me.crossPos=Re}Le.attr("text-anchor",Me.anchor),_e&&Xe.attr("text-anchor",Me.anchor),Ie.attr("transform",L(Re,or)+(_?l(o):""))}),{hoverLabels:Se,commonLabelBoundingBox:Ct}}function N(Z,it,Q,Y,nt,_){var st="",dt="";void 0!==Z.nameOverride&&(Z.name=Z.nameOverride),Z.name&&(Z.trace._meta&&(Z.name=P.templateString(Z.name,Z.trace._meta)),st=at(Z.name,Z.nameLength));var xt=Q.charAt(0);void 0!==Z.zLabel?(void 0!==Z.xLabel&&(dt+="x: "+Z.xLabel+"<br>"),void 0!==Z.yLabel&&(dt+="y: "+Z.yLabel+"<br>"),"choropleth"!==Z.trace.type&&"choroplethmapbox"!==Z.trace.type&&(dt+=(dt?"z: ":"")+Z.zLabel)):it&&Z[xt+"Label"]===nt?dt=Z[("x"===xt?"y":"x")+"Label"]||"":void 0===Z.xLabel?void 0!==Z.yLabel&&"scattercarpet"!==Z.trace.type&&(dt=Z.yLabel):dt=void 0===Z.yLabel?Z.xLabel:"("+Z.xLabel+", "+Z.yLabel+")",(Z.text||0===Z.text)&&!Array.isArray(Z.text)&&(dt+=(dt?"<br>":"")+Z.text),void 0!==Z.extraText&&(dt+=(dt?"<br>":"")+Z.extraText),_&&""===dt&&!Z.hovertemplate&&(""===st&&_.remove(),dt=st);var St=Z.hovertemplate||!1;if(St){var Et=Z.hovertemplateLabels||Z;Z[xt+"Label"]!==nt&&(Et[xt+"other"]=Et[xt+"Val"],Et[xt+"otherLabel"]=Et[xt+"Label"]),dt=(dt=P.hovertemplateString(St,Et,Y._d3locale,Z.eventData[0]||{},Z.trace._meta)).replace(F,function(Tt,gt){return st=at(gt,Z.nameLength),""})}return[dt,st]}function z(Z,it){var Q=0,Y=Z.offset;return it&&(Y*=-E,Q=Z.offset*b),{x:Q,y:Y}}function O(Z,it,Q,Y){var nt=function(st){return st*Q},_=function(st){return st*Y};Z.each(function(st){var dt=A.select(this);if(st.del)return dt.remove();var xt=dt.select("text.nums"),yt=st.anchor,St="end"===yt?-1:1,Et=function B(Z){var it={start:1,end:-1,middle:0}[Z.anchor],Q=it*(x+S),Y=Q+it*(Z.txwidth+S);return"middle"===Z.anchor&&(Q-=Z.tx2width/2,Y+=Z.txwidth/2+S),{alignShift:it,textShiftX:Q,text2ShiftX:Y}}(st),Tt=z(st,it),gt=Tt.x,Mt=Tt.y,Nt="middle"===yt;dt.select("path").attr("d",Nt?"M-"+nt(st.bx/2+st.tx2width/2)+","+_(Mt-st.by/2)+"h"+nt(st.bx)+"v"+_(st.by)+"h-"+nt(st.bx)+"Z":"M0,0L"+nt(St*x+gt)+","+_(x+Mt)+"v"+_(st.by/2-x)+"h"+nt(St*st.bx)+"v-"+_(st.by)+"H"+nt(St*x+gt)+"V"+_(Mt-x)+"Z");var Gt=gt+Et.textShiftX,Pt=Mt+st.ty0-st.by/2+S,Vt=st.textAlign||"auto";"auto"!==Vt&&("left"===Vt&&"start"!==yt?(xt.attr("text-anchor","start"),Gt=Nt?-st.bx/2-st.tx2width/2+S:-st.bx-S):"right"===Vt&&"end"!==yt&&(xt.attr("text-anchor","end"),Gt=Nt?st.bx/2-st.tx2width/2-S:st.bx+S)),xt.call(r.positionText,nt(Gt),_(Pt)),st.tx2width&&(dt.select("text.name").call(r.positionText,nt(Et.text2ShiftX+Et.alignShift*S+gt),_(Mt+st.ty0-st.by/2+S)),dt.select("rect").call(s.setRect,nt(Et.text2ShiftX+(Et.alignShift-1)*st.tx2width/2+gt),_(Mt-st.by/2-1),nt(st.tx2width),_(st.by+2)))})}function U(Z,it){var Q=Z.index,Y=Z.trace||{},nt=Z.cd[0],_=Z.cd[Q]||{};function st(Tt){return Tt||y(Tt)&&0===Tt}var dt=Array.isArray(Q)?function(Tt,gt){var Mt=P.castOption(nt,Q,Tt);return st(Mt)?Mt:P.extractOption({},Y,"",gt)}:function(Tt,gt){return P.extractOption(_,Y,Tt,gt)};function xt(Tt,gt,Mt){var Nt=dt(gt,Mt);st(Nt)&&(Z[Tt]=Nt)}if(xt("hoverinfo","hi","hoverinfo"),xt("bgcolor","hbg","hoverlabel.bgcolor"),xt("borderColor","hbc","hoverlabel.bordercolor"),xt("fontFamily","htf","hoverlabel.font.family"),xt("fontSize","hts","hoverlabel.font.size"),xt("fontColor","htc","hoverlabel.font.color"),xt("nameLength","hnl","hoverlabel.namelength"),xt("textAlign","hta","hoverlabel.align"),Z.posref="y"===it||"closest"===it&&"h"===Y.orientation?Z.xa._offset+(Z.x0+Z.x1)/2:Z.ya._offset+(Z.y0+Z.y1)/2,Z.x0=P.constrain(Z.x0,0,Z.xa._length),Z.x1=P.constrain(Z.x1,0,Z.xa._length),Z.y0=P.constrain(Z.y0,0,Z.ya._length),Z.y1=P.constrain(Z.y1,0,Z.ya._length),void 0!==Z.xLabelVal&&(Z.xLabel="xLabel"in Z?Z.xLabel:f.hoverLabelText(Z.xa,Z.xLabelVal,Y.xhoverformat),Z.xVal=Z.xa.c2d(Z.xLabelVal)),void 0!==Z.yLabelVal&&(Z.yLabel="yLabel"in Z?Z.yLabel:f.hoverLabelText(Z.ya,Z.yLabelVal,Y.yhoverformat),Z.yVal=Z.ya.c2d(Z.yLabelVal)),void 0!==Z.zLabelVal&&void 0===Z.zLabel&&(Z.zLabel=String(Z.zLabelVal)),!(isNaN(Z.xerr)||"log"===Z.xa.type&&Z.xerr<=0)){var yt=f.tickText(Z.xa,Z.xa.c2l(Z.xerr),"hover").text;Z.xLabel+=void 0!==Z.xerrneg?" +"+yt+" / -"+f.tickText(Z.xa,Z.xa.c2l(Z.xerrneg),"hover").text:" \xb1 "+yt,"x"===it&&(Z.distance+=1)}if(!(isNaN(Z.yerr)||"log"===Z.ya.type&&Z.yerr<=0)){var St=f.tickText(Z.ya,Z.ya.c2l(Z.yerr),"hover").text;Z.yLabel+=void 0!==Z.yerrneg?" +"+St+" / -"+f.tickText(Z.ya,Z.ya.c2l(Z.yerrneg),"hover").text:" \xb1 "+St,"y"===it&&(Z.distance+=1)}var Et=Z.hoverinfo||Z.trace.hoverinfo;return Et&&"all"!==Et&&(-1===(Et=Array.isArray(Et)?Et:Et.split("+")).indexOf("x")&&(Z.xLabel=void 0),-1===Et.indexOf("y")&&(Z.yLabel=void 0),-1===Et.indexOf("z")&&(Z.zLabel=void 0),-1===Et.indexOf("text")&&(Z.text=void 0),-1===Et.indexOf("name")&&(Z.name=void 0)),Z}function G(Z,it,Q){var yt,St,Y=Q.container,nt=Q.fullLayout,_=nt._size,st=Q.event,dt=!!it.hLinePoint,xt=!!it.vLinePoint;if(Y.selectAll(".spikeline").remove(),xt||dt){var Et=a.combine(nt.plot_bgcolor,nt.paper_bgcolor);if(dt){var gt,Mt,Tt=it.hLinePoint;yt=Tt&&Tt.xa,"cursor"===(St=Tt&&Tt.ya).spikesnap?(gt=st.pointerX,Mt=st.pointerY):(gt=yt._offset+Tt.x,Mt=St._offset+Tt.y);var It,Rt,Gt=i.readability(Tt.color,Et)<1.5?a.contrast(Et):Tt.color,Pt=St.spikemode,Vt=St.spikethickness,re=St.spikecolor||Gt,le=f.getPxPosition(Z,St);if(-1!==Pt.indexOf("toaxis")||-1!==Pt.indexOf("across")){if(-1!==Pt.indexOf("toaxis")&&(It=le,Rt=gt),-1!==Pt.indexOf("across")){var $t=St._counterDomainMin,oe=St._counterDomainMax;"free"===St.anchor&&($t=Math.min($t,St.position),oe=Math.max(oe,St.position)),It=_.l+$t*_.w,Rt=_.l+oe*_.w}Y.insert("line",":first-child").attr({x1:It,x2:Rt,y1:Mt,y2:Mt,"stroke-width":Vt,stroke:re,"stroke-dasharray":s.dashStyle(St.spikedash,Vt)}).classed("spikeline",!0).classed("crisp",!0),Y.insert("line",":first-child").attr({x1:It,x2:Rt,y1:Mt,y2:Mt,"stroke-width":Vt+2,stroke:Et}).classed("spikeline",!0).classed("crisp",!0)}-1!==Pt.indexOf("marker")&&Y.insert("circle",":first-child").attr({cx:le+("right"!==St.side?Vt:-Vt),cy:Mt,r:Vt,fill:re}).classed("spikeline",!0)}if(xt){var ve,de,se=it.vLinePoint;St=se&&se.ya,"cursor"===(yt=se&&se.xa).spikesnap?(ve=st.pointerX,de=st.pointerY):(ve=yt._offset+se.x,de=St._offset+se.y);var zt,kt,Ct=i.readability(se.color,Et)<1.5?a.contrast(Et):se.color,Wt=yt.spikemode,Xt=yt.spikethickness,Ht=yt.spikecolor||Ct,Bt=f.getPxPosition(Z,yt);if(-1!==Wt.indexOf("toaxis")||-1!==Wt.indexOf("across")){if(-1!==Wt.indexOf("toaxis")&&(zt=Bt,kt=de),-1!==Wt.indexOf("across")){var wt=yt._counterDomainMin,ft=yt._counterDomainMax;"free"===yt.anchor&&(wt=Math.min(wt,yt.position),ft=Math.max(ft,yt.position)),zt=_.t+(1-ft)*_.h,kt=_.t+(1-wt)*_.h}Y.insert("line",":first-child").attr({x1:ve,x2:ve,y1:zt,y2:kt,"stroke-width":Xt,stroke:Ht,"stroke-dasharray":s.dashStyle(yt.spikedash,Xt)}).classed("spikeline",!0).classed("crisp",!0),Y.insert("line",":first-child").attr({x1:ve,x2:ve,y1:zt,y2:kt,"stroke-width":Xt+2,stroke:Et}).classed("spikeline",!0).classed("crisp",!0)}-1!==Wt.indexOf("marker")&&Y.insert("circle",":first-child").attr({cx:ve,cy:Bt-("top"!==yt.side?Xt:-Xt),r:Xt,fill:Ht}).classed("spikeline",!0)}}}function et(Z,it){return!it||it.vLinePoint!==Z._spikepoints.vLinePoint||it.hLinePoint!==Z._spikepoints.hLinePoint}function at(Z,it){return r.plainText(Z||"",{len:it,allowedTags:["br","sub","sup","b","i","em"]})}function K(Z,it,Q){var Y=it[Z+"a"],nt=it[Z+"Val"],_=it.cd[0];if("category"===Y.type||"multicategory"===Y.type)nt=Y._categoriesMap[nt];else if("date"===Y.type){var st=it.trace[Z+"periodalignment"];if(st){var dt=it.cd[it.index],xt=dt[Z+"Start"];void 0===xt&&(xt=dt[Z]);var yt=dt[Z+"End"];void 0===yt&&(yt=dt[Z]);var St=yt-xt;"end"===st?nt+=St:"middle"===st&&(nt+=St/2)}nt=Y.d2c(nt)}return _&&_.t&&_.t.posLetter===Y._id&&("group"===Q.boxmode||"group"===Q.violinmode)&&(nt+=_.t.dPos),nt}function j(Z){return Z.offsetTop+Z.clientTop}function rt(Z){return Z.offsetLeft+Z.clientLeft}function H(Z,it){var Q=Z._fullLayout,Y=it.getBoundingClientRect(),nt=Y.left,_=Y.top,st=nt+Y.width,dt=_+Y.height,xt=P.apply3DTransform(Q._invTransform)(nt,_),yt=P.apply3DTransform(Q._invTransform)(st,dt),St=xt[0],Et=xt[1],Tt=yt[0],gt=yt[1];return{x:St,y:Et,width:Tt-St,height:gt-Et,top:Math.min(Et,gt),left:Math.min(St,Tt),right:Math.max(St,Tt),bottom:Math.max(Et,gt)}}},16132:function(tt,W,t){"use strict";var A=t(3400),y=t(76308),i=t(10624).isUnifiedHover;tt.exports=function(L,l,m,r){r=r||{};var e=l.legend;function s(a){r.font[a]||(r.font[a]=e?l.legend.font[a]:l.font[a])}l&&i(l.hovermode)&&(r.font||(r.font={}),s("size"),s("family"),s("color"),e?(r.bgcolor||(r.bgcolor=y.combine(l.legend.bgcolor,l.paper_bgcolor)),r.bordercolor||(r.bordercolor=l.legend.bordercolor)):r.bgcolor||(r.bgcolor=l.paper_bgcolor)),m("hoverlabel.bgcolor",r.bgcolor),m("hoverlabel.bordercolor",r.bordercolor),m("hoverlabel.namelength",r.namelength),A.coerceFont(m,"hoverlabel.font",r.font),m("hoverlabel.align",r.align)}},41008:function(tt,W,t){"use strict";var A=t(3400),y=t(65460);tt.exports=function(P,L){function l(m,r){return void 0!==L[m]?L[m]:A.coerce(P,L,y,m,r)}return l("clickmode"),l("hovermode")}},93024:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=t(86476),P=t(10624),L=t(65460),l=t(83292);tt.exports={moduleType:"component",name:"fx",constants:t(92456),schema:{layout:L},attributes:t(55756),layoutAttributes:L,supplyLayoutGlobalDefaults:t(81976),supplyDefaults:t(95448),supplyLayoutDefaults:t(88336),calc:t(55056),getDistanceFunction:P.getDistanceFunction,getClosest:P.getClosest,inbox:P.inbox,quadrature:P.quadrature,appendArrayPointValue:P.appendArrayPointValue,castHoverOption:function r(s,a,h){return y.castOption(s,a,"hoverlabel."+h)},castHoverinfo:function e(s,a,h){return y.castOption(s,h,"hoverinfo",function f(u){return y.coerceHoverinfo({hoverinfo:u},{_module:s._module},a)})},hover:l.hover,unhover:i.unhover,loneHover:l.loneHover,loneUnhover:function m(s){var a=y.isD3Selection(s)?s:A.select(s);a.selectAll("g.hovertext").remove(),a.selectAll(".spikeline").remove()},click:t(62376)}},65460:function(tt,W,t){"use strict";var A=t(92456),y=t(25376),i=y({editType:"none"});i.family.dflt=A.HOVERFONT,i.size.dflt=A.HOVERFONTSIZE,tt.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,grouptitlefont:y({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(tt,W,t){"use strict";var A=t(3400),y=t(65460),i=t(41008),P=t(16132);tt.exports=function(l,m){function r(u,g){return A.coerce(l,m,y,u,g)}i(l,m)&&(r("hoverdistance"),r("spikedistance")),"select"===r("dragmode")&&r("selectdirection");var a=m._has("mapbox"),h=m._has("geo"),f=m._basePlotModules.length;"zoom"===m.dragmode&&((a||h)&&1===f||a&&h&&2===f)&&(m.dragmode="pan"),P(l,m,r),A.coerceFont(r,"hoverlabel.grouptitlefont",m.hoverlabel.font)}},81976:function(tt,W,t){"use strict";var A=t(3400),y=t(16132),i=t(65460);tt.exports=function(L,l){y(L,l,function m(r,e){return A.coerce(L,l,i,r,e)})}},12704:function(tt,W,t){"use strict";var A=t(3400),y=t(53756).counter,i=t(86968).u,P=t(33816).idRegex,L=t(31780),l={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[y("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[P.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[P.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function m(h,f,u){var g=f[u+"axes"],c=Object.keys((h._splomAxes||{})[u]||{});return Array.isArray(g)?g:c.length?c:void 0}function e(h,f,u,g,c,w){var d=f(h+"gap",u),o=f("domain."+h);f(h+"side",g);for(var v=new Array(c),M=o[0],b=(o[1]-M)/(c-d),E=b*(1-d),x=0;x<c;x++){var S=M+b*x;v[w?c-1-x:x]=[S,S+E]}return v}function a(h,f,u,g,c){var d,w=new Array(u);function o(v,M){-1!==f.indexOf(M)&&void 0===g[M]?(w[v]=M,g[M]=v):w[v]=""}if(Array.isArray(h))for(d=0;d<u;d++)o(d,h[d]);else for(o(0,c),d=1;d<u;d++)o(d,c+(d+1));return w}tt.exports={moduleType:"component",name:"grid",schema:{layout:{grid:l}},layoutAttributes:l,sizeDefaults:function r(h,f){var u=h.grid||{},g=m(f,u,"x"),c=m(f,u,"y");if(h.grid||g||c){var M,b,w=Array.isArray(u.subplots)&&Array.isArray(u.subplots[0]),d=Array.isArray(g),o=Array.isArray(c),v=d&&g!==u.xaxes&&o&&c!==u.yaxes;w?(M=u.subplots.length,b=u.subplots[0].length):(o&&(M=c.length),d&&(b=g.length));var E=L.newContainer(f,"grid"),S=x("rows",M),T=x("columns",b);if(S*T>1){w||d||o||"independent"===x("pattern")&&(w=!0),E._hasSubplotGrid=w;var N,k,p="top to bottom"===x("roworder"),D=w?.3:.1;v&&f._splomGridDflt&&(N=f._splomGridDflt.xside,k=f._splomGridDflt.yside),E._domains={x:e("x",x,w?.2:.1,N,T),y:e("y",x,D,k,S,p)}}else delete f.grid}function x(z,B){return A.coerce(u,E,l,z,B)}},contentDefaults:function s(h,f){var u=f.grid;if(u&&u._domains){var M,b,E,x,S,T,n,g=h.grid||{},c=f._subplots,w=u._hasSubplotGrid,d=u.rows,o=u.columns,v="independent"===u.pattern,C=u._axisMap={};if(w){var p=g.subplots||[];T=u.subplots=new Array(d);var F=1;for(M=0;M<d;M++){var D=T[M]=new Array(o),N=p[M]||[];for(b=0;b<o;b++)if(v?(S=1===F?"xy":"x"+F+"y"+F,F++):S=N[b],D[b]="",-1!==c.cartesian.indexOf(S)){if(n=S.indexOf("y"),E=S.slice(0,n),x=S.slice(n),void 0!==C[E]&&C[E]!==b||void 0!==C[x]&&C[x]!==M)continue;D[b]=S,C[E]=b,C[x]=M}}}else{var k=m(f,g,"x"),z=m(f,g,"y");u.xaxes=a(k,c.xaxis,o,C,"x"),u.yaxes=a(z,c.yaxis,d,C,"y")}var B=u._anchors={},O="top to bottom"===u.roworder;for(var U in C){var et,at,lt,G=U.charAt(0),J=u[G+"side"];if(J.length<8)B[U]="free";else if("x"===G){if("t"===J.charAt(0)===O?(et=0,at=1,lt=d):(et=d-1,at=-1,lt=-1),w){var K=C[U];for(M=et;M!==lt;M+=at)if((S=T[M][K])&&(n=S.indexOf("y"),S.slice(0,n)===U)){B[U]=S.slice(n);break}}else for(M=et;M!==lt;M+=at)if(-1!==c.cartesian.indexOf(U+(x=u.yaxes[M]))){B[U]=x;break}}else if("l"===J.charAt(0)?(et=0,at=1,lt=o):(et=o-1,at=-1,lt=-1),w){var j=C[U];for(M=et;M!==lt;M+=at)if((S=T[j][M])&&(n=S.indexOf("y"),S.slice(n)===U)){B[U]=S.slice(0,n);break}}else for(M=et;M!==lt;M+=at)if(-1!==c.cartesian.indexOf((E=u.xaxes[M])+U)){B[U]=E;break}}}}}},65760:function(tt,W,t){"use strict";var A=t(33816),y=t(31780).templatedArray;t(36208),tt.exports=y("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",A.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",A.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(tt,W,t){"use strict";var A=t(38248),y=t(36896);tt.exports=function(P,L,l,m){L=L||{};var r="log"===l&&"linear"===L.type;if(r||"linear"===l&&"log"===L.type)for(var h,f,s=P._fullLayout.images,a=L._id.charAt(0),u=0;u<s.length;u++)if(f="images["+u+"].",(h=s[u])[a+"ref"]===L._id){var g=h[a],c=h["size"+a],w=null,d=null;if(r){w=y(g,L.range);var o=c/Math.pow(10,w)/2;d=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else d=(w=Math.pow(10,g))*(Math.pow(10,c/2)-Math.pow(10,-c/2));A(w)?A(d)||(d=null):(w=null,d=null),m(f+a,w),m(f+"size"+a,d)}}},25024:function(tt,W,t){"use strict";var A=t(3400),y=t(54460),i=t(51272),P=t(65760);function l(m,r,e){function s(o,v){return A.coerce(m,r,P,o,v)}var a=s("source");if(!s("visible",!!a))return r;s("layer"),s("xanchor"),s("yanchor"),s("sizex"),s("sizey"),s("sizing"),s("opacity");for(var f={_fullLayout:e},u=["x","y"],g=0;g<2;g++){var c=u[g],w=y.coerceRef(m,r,f,c,"paper",void 0);"paper"!==w&&y.getFromId(f,w)._imgIndices.push(r._index),y.coercePosition(r,f,s,w,c,0)}return r}tt.exports=function(r,e){i(r,e,{name:"images",handleItemDefaults:l})}},60963:function(tt,W,t){"use strict";var A=t(33428),y=t(43616),i=t(54460),P=t(79811),L=t(9616);tt.exports=function(m){var h,f,r=m._fullLayout,e=[],s={},a=[];for(f=0;f<r.images.length;f++){var u=r.images[f];if(u.visible)if("below"===u.layer&&"paper"!==u.xref&&"paper"!==u.yref){h=P.ref2id(u.xref)+P.ref2id(u.yref);var g=r._plots[h];if(!g){a.push(u);continue}g.mainplot&&(h=g.mainplot.id),s[h]||(s[h]=[]),s[h].push(u)}else"above"===u.layer?e.push(u):a.push(u)}var c_x={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},c_y={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function w(x){var S=A.select(this);if(this._imgSrc!==x.source)if(S.attr("xmlns",L.svg),x.source&&"data:"===x.source.slice(0,5))S.attr("xlink:href",x.source),this._imgSrc=x.source;else{var T=new Promise(function(n){var C=new Image;function p(){S.remove(),n()}this.img=C,C.setAttribute("crossOrigin","anonymous"),C.onerror=p,C.onload=function(){var F=document.createElement("canvas");F.width=this.width,F.height=this.height,F.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var N=F.toDataURL("image/png");S.attr("xlink:href",N),n()},S.on("error",p),C.src=x.source,this._imgSrc=x.source}.bind(this));m._promises.push(T)}}function d(x){var D,N,S=A.select(this),T=i.getFromId(m,x.xref),n=i.getFromId(m,x.yref),C="domain"===i.getRefType(x.xref),p="domain"===i.getRefType(x.yref),F=r._size;D=void 0!==T?"string"==typeof x.xref&&C?T._length*x.sizex:Math.abs(T.l2p(x.sizex)-T.l2p(0)):x.sizex*F.w,N=void 0!==n?"string"==typeof x.yref&&p?n._length*x.sizey:Math.abs(n.l2p(x.sizey)-n.l2p(0)):x.sizey*F.h;var O,U,k=D*c_x[x.xanchor].offset,z=N*c_y[x.yanchor].offset,B=c_x[x.xanchor].sizing+c_y[x.yanchor].sizing;switch(O=void 0!==T?"string"==typeof x.xref&&C?T._length*x.x+T._offset:T.r2p(x.x)+T._offset:x.x*F.w+F.l,O+=k,U=void 0!==n?"string"==typeof x.yref&&p?n._length*(1-x.y)+n._offset:n.r2p(x.y)+n._offset:F.h-x.y*F.h+F.t,U+=z,x.sizing){case"fill":B+=" slice";break;case"stretch":B="none"}S.attr({x:O,y:U,width:D,height:N,preserveAspectRatio:B,opacity:x.opacity});var et=(T&&"domain"!==i.getRefType(x.xref)?T._id:"")+(n&&"domain"!==i.getRefType(x.yref)?n._id:"");y.setClipUrl(S,et?"clip"+r._uid+et:null,m)}var o=r._imageLowerLayer.selectAll("image").data(a),v=r._imageUpperLayer.selectAll("image").data(e);o.enter().append("image"),v.enter().append("image"),o.exit().remove(),v.exit().remove(),o.each(function(x){w.bind(this)(x),d.bind(this)(x)}),v.each(function(x){w.bind(this)(x),d.bind(this)(x)});var M=Object.keys(r._plots);for(f=0;f<M.length;f++){var b=r._plots[h=M[f]];if(b.imagelayer){var E=b.imagelayer.selectAll("image").data(s[h]||[]);E.enter().append("image"),E.exit().remove(),E.each(function(x){w.bind(this)(x),d.bind(this)(x)})}}}},7402:function(tt,W,t){"use strict";tt.exports={moduleType:"component",name:"images",layoutAttributes:t(65760),supplyLayoutDefaults:t(25024),includeBasePlot:t(36632)("images"),draw:t(60963),convertCoords:t(63556)}},3800:function(tt,W,t){"use strict";var A=t(25376),y=t(22548);tt.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:y.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:A({editType:"legend"}),grouptitlefont:A({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:A({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(tt){"use strict";tt.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(tt,W,t){"use strict";var A=t(24040),y=t(3400),i=t(31780),P=t(45464),L=t(3800),l=t(64859),m=t(42451);function r(e,s,a,h){var f=s[e]||{},u=i.newContainer(a,e);function g(lt,K){return y.coerce(f,u,L,lt,K)}var c=y.coerceFont(g,"font",a.font);if(g("bgcolor",a.paper_bgcolor),g("bordercolor"),g("visible")){for(var d,o=function(lt,K){return y.coerce(d._input,d,P,lt,K)},v=a.font||{},M=y.coerceFont(g,"grouptitlefont",y.extendFlat({},v,{size:Math.round(1.1*v.size)})),b=0,E=!1,x="normal",S=(a.shapes||[]).filter(function(lt){return lt.showlegend}),T=h.concat(S).filter(function(lt){return e===(lt.legend||"legend")}),n=0;n<T.length;n++)if((d=T[n]).visible){var C=d._isShape;(d.showlegend||d._dfltShowLegend&&!(d._module&&d._module.attributes&&d._module.attributes.showlegend&&!1===d._module.attributes.showlegend.dflt))&&(b++,d.showlegend&&(E=!0,(!C&&A.traceIs(d,"pie-like")||!0===d._input.showlegend)&&b++),y.coerceFont(o,"legendgrouptitle.font",M)),(!C&&A.traceIs(d,"bar")&&"stack"===a.barmode||-1!==["tonextx","tonexty"].indexOf(d.fill))&&(x=m.isGrouped({traceorder:x})?"grouped+reversed":"reversed"),void 0!==d.legendgroup&&""!==d.legendgroup&&(x=m.isReversed({traceorder:x})?"reversed+grouped":"grouped")}var p=y.coerce(s,a,l,"showlegend",E&&b>("legend"===e?1:0));if(!1===p&&(a[e]=void 0),(!1!==p||f.uirevision)&&(g("uirevision",a.uirevision),!1!==p)){g("borderwidth");var O,U,G,k="h"===g("orientation"),z="paper"===g("yref"),B="paper"===g("xref"),J="left";if(k?(O=0,A.getComponentMethod("rangeslider","isVisible")(s.xaxis)?z?(U=1.1,G="bottom"):(U=1,G="top"):z?(U=-.1,G="top"):(U=0,G="bottom")):(U=1,G="auto",B?O=1.02:(O=1,J="right")),y.coerce(f,u,{x:{valType:"number",editType:"legend",min:B?-2:0,max:B?3:1,dflt:O}},"x"),y.coerce(f,u,{y:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:U}},"y"),g("traceorder",x),m.isGrouped(a[e])&&g("tracegroupgap"),g("entrywidth"),g("entrywidthmode"),g("itemsizing"),g("itemwidth"),g("itemclick"),g("itemdoubleclick"),g("groupclick"),g("xanchor",J),g("yanchor",G),g("valign"),y.noneOrAll(f,u,["x","y"]),g("title.text")){g("title.side",k?"left":"top");var at=y.extendFlat({},c,{size:y.bigFont(c.size)});y.coerceFont(g,"title.font",at)}}}}tt.exports=function(s,a,h){var f,u=h.slice(),g=a.shapes;if(g)for(f=0;f<g.length;f++){var c=g[f];c.showlegend&&u.push({_input:c._input,visible:c.visible,showlegend:c.showlegend,legend:c.legend})}var d=["legend"];for(f=0;f<u.length;f++)y.pushUnique(d,u[f].legend);for(a._legends=[],f=0;f<d.length;f++){var o=d[f];r(o,s,a,u),a[o]&&a[o].visible&&(a[o]._id=o),a._legends.push(o)}}},31140:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=t(7316),P=t(24040),L=t(95924),l=t(86476),m=t(43616),r=t(76308),e=t(72736),s=t(33048),a=t(65196),h=t(84284),f=h.LINE_SPACING,u=h.FROM_TL,g=h.FROM_BR,c=t(35456),w=t(2012),d=t(42451),v=/^legend[0-9]*$/;function b(O,U){var at,lt,G=U||{},J=O._fullLayout,et=B(G),K=G._inHover;if(K?(lt=G.layer,at="hover"):(lt=J._infolayer,at=et),lt){var j;if(at+=J._uid,O._legendMouseDownTime||(O._legendMouseDownTime=0),K){if(!G.entries)return;j=c(G.entries,G)}else{for(var rt=(O.calcdata||[]).slice(),H=J.shapes,Z=0;Z<H.length;Z++){var it=H[Z];it.showlegend&&rt.push([{trace:{_isShape:!0,_fullInput:it,index:it._index,name:it.name||it.label.text||"shape "+it._index,legend:it.legend,legendgroup:it.legendgroup,legendgrouptitle:it.legendgrouptitle,legendrank:it.legendrank,legendwidth:it.legendwidth,showlegend:it.showlegend,visible:it.visible,opacity:it.opacity,mode:"line"===it.type?"lines":"markers",line:it.line,marker:{line:it.line,color:it.fillcolor,size:12,symbol:"rect"===it.type?"square":"circle"===it.type?"circle":"hexagon2"}}}])}j=J.showlegend&&c(rt,G,J._legends.length>1)}var Y=J.hiddenlabels||[];if(!(K||J.showlegend&&j.length))return lt.selectAll("."+et).remove(),J._topdefs.select("#"+at).remove(),i.autoMargin(O,et);var nt=y.ensureSingle(lt,"g",et,function(gt){K||gt.attr("pointer-events","all")}),_=y.ensureSingleById(J._topdefs,"clipPath",at,function(gt){gt.append("rect")}),st=y.ensureSingle(nt,"rect","bg",function(gt){gt.attr("shape-rendering","crispEdges")});st.call(r.stroke,G.bordercolor).call(r.fill,G.bgcolor).style("stroke-width",G.borderwidth+"px");var yt,dt=y.ensureSingle(nt,"g","scrollbox"),xt=G.title;G._titleWidth=0,G._titleHeight=0,xt.text?((yt=y.ensureSingle(dt,"text",et+"titletext")).attr("text-anchor","start").call(m.font,xt.font).text(xt.text),C(yt,dt,O,G,1)):dt.selectAll("."+et+"titletext").remove();var St=y.ensureSingle(nt,"rect","scrollbar",function(gt){gt.attr(a.scrollBarEnterAttrs).call(r.fill,a.scrollBarColor)}),Et=dt.selectAll("g.groups").data(j);Et.enter().append("g").attr("class","groups"),Et.exit().remove();var Tt=Et.selectAll("g.traces").data(y.identity);Tt.enter().append("g").attr("class","traces"),Tt.exit().remove(),Tt.style("opacity",function(gt){var Mt=gt[0].trace;return P.traceIs(Mt,"pie-like")?-1!==Y.indexOf(gt[0].label)?.5:1:"legendonly"===Mt.visible?.5:1}).each(function(){A.select(this).call(S,O,G)}).call(w,O,G).each(function(){K||A.select(this).call(n,O,et)}),y.syncOrAsync([i.previousPromises,function(){return function D(O,U,G,J){var et=O._fullLayout,at=B(J);J||(J=et[at]);var lt=et._size,K=d.isVertical(J),j=d.isGrouped(J),rt="fraction"===J.entrywidthmode,H=J.borderwidth,Z=2*H,it=a.itemGap,Q=J.itemwidth+2*it,Y=2*(H+it),nt=z(J),_=J.y<0||0===J.y&&"top"===nt,st=J.y>1||1===J.y&&"bottom"===nt,dt=J.tracegroupgap,xt={};J._maxHeight=Math.max(_||st?et.height/2:lt.h,30);var yt=0;J._width=0,J._height=0;var St=function F(O){var U=0,G=0,J=O.title.side;return J&&(-1!==J.indexOf("left")&&(U=O._titleWidth),-1!==J.indexOf("top")&&(G=O._titleHeight)),[U,G]}(J);if(K)G.each(function(Wt){var Xt=Wt[0].height;m.setTranslate(this,H+St[0],H+St[1]+J._height+Xt/2+it),J._height+=Xt,J._width=Math.max(J._width,Wt[0].width)}),yt=Q+J._width,J._width+=it+Q+Z,J._height+=Y,j&&(U.each(function(Wt,Xt){m.setTranslate(this,0,Xt*J.tracegroupgap)}),J._height+=(J._lgroupsLength-1)*J.tracegroupgap);else{var Et=k(J),Mt=st||_,Nt=et.width/2;J._maxWidth=Math.max(J.x<0||0===J.x&&"right"===Et?Mt&&"left"===Et?lt.l+lt.w:Nt:J.x>1||1===J.x&&"left"===Et?Mt&&"right"===Et?lt.r+lt.w:Nt:lt.w,2*Q);var Gt=0,Pt=0;G.each(function(Wt){var Xt=E(Wt,J,Q);Gt=Math.max(Gt,Xt),Pt+=Xt}),yt=null;var Vt=0;if(j){var re=0,le=0,It=0;U.each(function(){var Wt=0,Xt=0;A.select(this).selectAll("g.traces").each(function(Bt){var zt=E(Bt,J,Q),kt=Bt[0].height;m.setTranslate(this,St[0],St[1]+H+it+kt/2+Xt),Xt+=kt,Wt=Math.max(Wt,zt),xt[Bt[0].trace.legendgroup]=Wt});var Ht=Wt+it;le>0&&Ht+H+le>J._maxWidth?(Vt=Math.max(Vt,le),le=0,It+=re+dt,re=Xt):re=Math.max(re,Xt),m.setTranslate(this,le,It),le+=Ht}),J._width=Math.max(Vt,le)+H,J._height=It+re+Y}else{var Rt=G.size(),$t=Pt+Z+(Rt-1)*it<J._maxWidth,oe=0,se=0,ve=0,de=0;G.each(function(Wt){var Xt=Wt[0].height,Ht=E(Wt,J,Q),Bt=$t?Ht:Gt;rt||(Bt+=it),Bt+H+se-it>=J._maxWidth&&(Vt=Math.max(Vt,de),se=0,ve+=oe,J._height+=oe,oe=0),m.setTranslate(this,St[0]+H+se,St[1]+H+ve+Xt/2+it),de=se+Ht+it,se+=Bt,oe=Math.max(oe,Xt)}),$t?(J._width=se+Z,J._height=oe+Y):(J._width=Math.max(Vt,de)+Z,J._height+=oe+Y)}}J._width=Math.ceil(Math.max(J._width+St[0],J._titleWidth+2*(H+a.titlePad))),J._height=Math.ceil(Math.max(J._height+St[1],J._titleHeight+2*(H+a.itemGap))),J._effHeight=Math.min(J._height,J._maxHeight);var jt=O._context.edits,Ct=jt.legendText||jt.legendPosition;G.each(function(Wt){var Xt=A.select(this).select("."+at+"toggle"),Ht=Wt[0].height,Bt=Wt[0].trace.legendgroup,zt=E(Wt,J,Q);j&&""!==Bt&&(zt=xt[Bt]);var kt=Ct?Q:yt||zt;!K&&!rt&&(kt+=it/2),m.setRect(Xt,0,-Ht/2,kt,Ht)})}(O,Et,Tt,G)},function(){var wt,ft,pt,Dt,gt=J._size,Mt=G.borderwidth,Nt="paper"===G.xref,Gt="paper"===G.yref;if(xt.text&&function M(O,U,G){if("top center"===U.title.side||"top right"===U.title.side){var et=U.title.font.size*f,at=0,lt=O.node(),K=m.bBox(lt).width;"top center"===U.title.side?at=.5*(U._width-2*G-2*a.titlePad-K):"top right"===U.title.side&&(at=U._width-2*G-2*a.titlePad-K),e.positionText(O,G+a.titlePad+at,G+et)}}(yt,G,Mt),!K){var Pt,Vt;if(Pt=Nt?gt.l+gt.w*G.x-u[k(G)]*G._width:J.width*G.x-u[k(G)]*G._width,Vt=Gt?gt.t+gt.h*(1-G.y)-u[z(G)]*G._effHeight:J.height*(1-G.y)-u[z(G)]*G._effHeight,function N(O,U,G,J){var et=O._fullLayout,at=et[U],lt=k(at),K=z(at),j="paper"===at.xref,rt="paper"===at.yref;O._fullLayout._reservedMargin[U]={};var H=at.y<.5?"b":"t",Z=at.x<.5?"l":"r",it={r:et.width-G,l:G+at._width,b:et.height-J,t:J+at._effHeight};if(j&&rt)return i.autoMargin(O,U,{x:at.x,y:at.y,l:at._width*u[lt],r:at._width*g[lt],b:at._effHeight*g[K],t:at._effHeight*u[K]});j?O._fullLayout._reservedMargin[U][H]=it[H]:rt||"v"===at.orientation?O._fullLayout._reservedMargin[U][Z]=it[Z]:O._fullLayout._reservedMargin[U][H]=it[H]}(O,et,Pt,Vt))return;if(J.margin.autoexpand){var le=Pt,It=Vt;Pt=Nt?y.constrain(Pt,0,J.width-G._width):le,Vt=Gt?y.constrain(Vt,0,J.height-G._effHeight):It,Pt!==le&&y.log("Constrain "+et+".x to make legend fit inside graph"),Vt!==It&&y.log("Constrain "+et+".y to make legend fit inside graph")}m.setTranslate(nt,Pt,Vt)}if(St.on(".drag",null),nt.on("wheel",null),K||G._height<=G._maxHeight||O._context.staticPlot){var Rt=G._effHeight;K&&(Rt=G._height),st.attr({width:G._width-Mt,height:Rt-Mt,x:Mt/2,y:Mt/2}),m.setTranslate(dt,0,0),_.select("rect").attr({width:G._width-2*Mt,height:Rt-2*Mt,x:Mt,y:Mt}),m.setClipUrl(dt,at,O),m.setRect(St,0,0,0,0),delete G._scrollY}else{var $t=Math.max(a.scrollBarMinHeight,G._effHeight*G._effHeight/G._height),oe=G._effHeight-$t-2*a.scrollBarMargin,se=G._height-G._effHeight,ve=oe/se,de=Math.min(G._scrollY||0,se);st.attr({width:G._width-2*Mt+a.scrollBarWidth+a.scrollBarMargin,height:G._effHeight-Mt,x:Mt/2,y:Mt/2}),_.select("rect").attr({width:G._width-2*Mt+a.scrollBarWidth+a.scrollBarMargin,height:G._effHeight-2*Mt,x:Mt,y:Mt+de}),m.setClipUrl(dt,at,O),kt(de,$t,ve),nt.on("wheel",function(){kt(de=y.constrain(G._scrollY+A.event.deltaY/oe*se,0,se),$t,ve),0!==de&&de!==se&&A.event.preventDefault()});var jt,Wt,Bt=A.behavior.drag().on("dragstart",function(){var Qt=A.event.sourceEvent;jt="touchstart"===Qt.type?Qt.changedTouches[0].clientY:Qt.clientY,Wt=de}).on("drag",function(){var Qt=A.event.sourceEvent;2===Qt.buttons||Qt.ctrlKey||kt(de=function(Qt,te,ee){return y.constrain((ee-te)/ve+Qt,0,se)}(Wt,jt,"touchmove"===Qt.type?Qt.changedTouches[0].clientY:Qt.clientY),$t,ve)});St.call(Bt);var zt=A.behavior.drag().on("dragstart",function(){var Qt=A.event.sourceEvent;"touchstart"===Qt.type&&(jt=Qt.changedTouches[0].clientY,Wt=de)}).on("drag",function(){var Qt=A.event.sourceEvent;"touchmove"===Qt.type&&kt(de=function(Qt,te,ee){return y.constrain((te-ee)/ve+Qt,0,se)}(Wt,jt,Qt.changedTouches[0].clientY),$t,ve)});dt.call(zt)}function kt(Qt,te,ee){G._scrollY=O._fullLayout[et]._scrollY=Qt,m.setTranslate(dt,0,-Qt),m.setRect(St,G._width,a.scrollBarMargin+Qt*ee,a.scrollBarWidth,te),_.select("rect").attr("y",Mt+Qt)}O._context.edits.legendPosition&&(nt.classed("cursor-move",!0),l.init({element:nt.node(),gd:O,prepFn:function(){var Qt=m.getTranslate(nt);pt=Qt.x,Dt=Qt.y},moveFn:function(Qt,te){var ee=pt+Qt,Ne=Dt+te;m.setTranslate(nt,ee,Ne),wt=l.align(ee,G._width,gt.l,gt.l+gt.w,G.xanchor),ft=l.align(Ne+G._height,-G._height,gt.t+gt.h,gt.t,G.yanchor)},doneFn:function(){if(void 0!==wt&&void 0!==ft){var Qt={};Qt[et+".x"]=wt,Qt[et+".y"]=ft,P.call("_guiRelayout",O,Qt)}},clickFn:function(Qt,te){var ee=lt.selectAll("g.traces").filter(function(){var Ne=this.getBoundingClientRect();return te.clientX>=Ne.left&&te.clientX<=Ne.right&&te.clientY>=Ne.top&&te.clientY<=Ne.bottom});ee.size()>0&&x(O,nt,ee,Qt,te)}}))}],O)}}function E(O,U,G){var J=O[0],lt=J.trace.legendwidth||U.entrywidth;return"fraction"===U.entrywidthmode?U._maxWidth*lt:G+(lt||J.width)}function x(O,U,G,J,et){var at=G.data()[0][0].trace,lt={event:et,node:G.node(),curveNumber:at.index,expandedIndex:at._expandedIndex,data:O.data,layout:O.layout,frames:O._transitionData._frames,config:O._context,fullData:O._fullData,fullLayout:O._fullLayout};at._group&&(lt.group=at._group),P.traceIs(at,"pie-like")&&(lt.label=G.datum()[0].label);var K=L.triggerHandler(O,"plotly_legendclick",lt);if(1===J){if(!1===K)return;U._clickTimeout=setTimeout(function(){!O._fullLayout||s(G,O,J)},O._context.doubleClickDelay)}else 2===J&&(U._clickTimeout&&clearTimeout(U._clickTimeout),O._legendMouseDownTime=0,!1!==L.triggerHandler(O,"plotly_legenddoubleclick",lt)&&!1!==K&&s(G,O,J))}function S(O,U,G){var rt,H,J=B(G),et=O.data()[0][0],at=et.trace,lt=P.traceIs(at,"pie-like"),K=!G._inHover&&U._context.edits.legendText&&!lt,j=G._maxNameLength;et.groupTitle?(rt=et.groupTitle.text,H=et.groupTitle.font):(H=G.font,G.entries?rt=et.text:(rt=lt?et.label:at.name,at._meta&&(rt=y.templateString(rt,at._meta))));var Z=y.ensureSingle(O,"text",J+"text");Z.attr("text-anchor","start").call(m.font,H).text(K?T(rt,j):rt),e.positionText(Z,G.itemwidth+2*a.itemGap,0),K?Z.call(e.makeEditable,{gd:U,text:rt}).call(C,O,U,G).on("edit",function(Q){this.text(T(Q,j)).call(C,O,U,G);var Y=et.trace._fullInput||{},nt={};if(P.hasTransform(Y,"groupby")){var _=P.getTransformIndices(Y,"groupby"),dt=y.keyedContainer(Y,"transforms["+_[_.length-1]+"].styles","target","value.name");dt.set(et.trace._group,Q),nt=dt.constructUpdate()}else nt.name=Q;return Y._isShape?P.call("_guiRelayout",U,"shapes["+at.index+"].name",nt.name):P.call("_guiRestyle",U,nt,at.index)}):C(Z,O,U,G)}function T(O,U){var G=Math.max(4,U);if(O&&O.trim().length>=G/2)return O;for(var J=G-(O=O||"").length;J>0;J--)O+=" ";return O}function n(O,U,G){var et,J=U._context.doubleClickDelay,at=1,lt=y.ensureSingle(O,"rect",G+"toggle",function(K){U._context.staticPlot||K.style("cursor","pointer").attr("pointer-events","all"),K.call(r.fill,"rgba(0,0,0,0)")});U._context.staticPlot||(lt.on("mousedown",function(){(et=(new Date).getTime())-U._legendMouseDownTime<J?at+=1:(at=1,U._legendMouseDownTime=et)}),lt.on("mouseup",function(){if(!U._dragged&&!U._editing){var K=U._fullLayout[G];(new Date).getTime()-U._legendMouseDownTime>J&&(at=Math.max(at-1,1)),x(U,K,O,at,A.event)}}))}function C(O,U,G,J,et){J._inHover&&O.attr("data-notex",!0),e.convertToTspans(O,G,function(){!function p(O,U,G,J){var et=O.data()[0][0];if(G._inHover||!et||et.trace.showlegend){var at=O.select("g[class*=math-group]"),lt=at.node(),K=B(G);G||(G=U._fullLayout[K]);var Z,it,j=G.borderwidth,H=(1===J?G.title.font:et.groupTitle?et.groupTitle.font:G.font).size*f;if(lt){var Q=m.bBox(lt);Z=Q.height,it=Q.width,1===J?m.setTranslate(at,j,j+.75*Z):m.setTranslate(at,0,.25*Z)}else{var nt=O.select("."+K+(1===J?"title":"")+"text"),_=e.lineCount(nt),st=nt.node();if(Z=H*_,it=st?m.bBox(st).width:0,1===J)"left"===G.title.side&&(it+=2*a.itemGap),e.positionText(nt,j+a.titlePad,j+H);else{var dt=2*a.itemGap+G.itemwidth;et.groupTitle&&(dt=a.itemGap,it-=G.itemwidth),e.positionText(nt,dt,-H*((_-1)/2-.3))}}1===J?(G._titleWidth=it,G._titleHeight=Z):(et.lineHeight=H,et.height=Math.max(Z,16)+3,et.width=it)}else O.remove()}(U,G,J,et)})}function k(O){return y.isRightAnchor(O)?"right":y.isCenterAnchor(O)?"center":"left"}function z(O){return y.isBottomAnchor(O)?"bottom":y.isMiddleAnchor(O)?"middle":"top"}function B(O){return O._id||"legend"}tt.exports=function(U,G){if(G)b(U,G);else{var J=U._fullLayout,et=J._legends;J._infolayer.selectAll('[class^="legend"]').each(function(){var rt=A.select(this),Z=rt.attr("class").split(" ")[0];Z.match(v)&&-1===et.indexOf(Z)&&rt.remove()});for(var lt=0;lt<et.length;lt++)b(U,U._fullLayout[et[lt]])}}},35456:function(tt,W,t){"use strict";var A=t(24040),y=t(42451);tt.exports=function(P,L,l){var c,w,m=L._inHover,r=y.isGrouped(L),e=y.isReversed(L),s={},a=[],h=!1,f={},u=0,g=0;function d(O,U,G){if(!1!==L.visible&&(!l||O===L._id))if(""!==U&&y.isGrouped(L))-1===a.indexOf(U)?(a.push(U),h=!0,s[U]=[G]):s[U].push(G);else{var J="~~i"+u;a.push(J),s[J]=[G],u++}}for(c=0;c<P.length;c++){var o=P[c],v=o[0],M=v.trace,b=M.legend,E=M.legendgroup;if(m||M.visible&&M.showlegend)if(A.traceIs(M,"pie-like"))for(f[E]||(f[E]={}),w=0;w<o.length;w++){var x=o[w].label;f[E][x]||(d(b,E,{label:x,color:o[w].color,i:o[w].i,trace:M,pts:o[w].pts}),f[E][x]=!0,g=Math.max(g,(x||"").length))}else d(b,E,v),g=Math.max(g,(M.name||"").length)}if(!a.length)return[];var S=!h||!r,T=[];for(c=0;c<a.length;c++){var n=s[a[c]];T.push(S?n[0]:n)}for(S&&(T=[T]),c=0;c<T.length;c++){var C=1/0;for(w=0;w<T[c].length;w++){var p=T[c][w].trace.legendrank;C>p&&(C=p)}T[c][0]._groupMinRank=C,T[c][0]._preGroupSort=c}var D=function(O,U){return O.trace.legendrank-U.trace.legendrank||O._preSort-U._preSort};for(T.forEach(function(O,U){O[0]._preGroupSort=U}),T.sort(function(O,U){return O[0]._groupMinRank-U[0]._groupMinRank||O[0]._preGroupSort-U[0]._preGroupSort}),c=0;c<T.length;c++){T[c].forEach(function(O,U){O._preSort=U}),T[c].sort(D);var N=T[c][0].trace,k=null;for(w=0;w<T[c].length;w++){var z=T[c][w].trace.legendgrouptitle;if(z&&z.text){k=z,m&&(z.font=L._groupTitleFont);break}}if(e&&T[c].reverse(),k){var B=!1;for(w=0;w<T[c].length;w++)if(A.traceIs(T[c][w].trace,"pie-like")){B=!0;break}T[c].unshift({i:-1,groupTitle:k,noClick:B,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:"toggleitem"===L.groupclick||N.visible}})}for(w=0;w<T[c].length;w++)T[c][w]=[T[c][w]]}return L._lgroupsLength=T.length,L._maxNameLength=g,T}},33048:function(tt,W,t){"use strict";var A=t(24040),y=t(3400),i=y.pushUnique,P=!0;tt.exports=function(l,m,r){var e=m._fullLayout;if(!m._dragged&&!m._editing){var f,s=e.legend.itemclick,a=e.legend.itemdoubleclick,h=e.legend.groupclick;if(1===r&&"toggle"===s&&"toggleothers"===a&&P&&m.data&&m._context.showTips&&y.notifier(y._(m,"Double-click on legend to isolate one trace"),"long"),P=!1,1===r?f=s:2===r&&(f=a),f){var u="togglegroup"===h,g=e.hiddenlabels?e.hiddenlabels.slice():[],c=l.data()[0][0];if(!c.groupTitle||!c.noClick){var w=m._fullData,d=(e.shapes||[]).filter(function(Nt){return Nt.showlegend}),o=w.concat(d),v=c.trace;v._isShape&&(v=v._fullInput);var b,E,x,S,T,M=v.legendgroup,C={},p=[],F=[],D=[],k=(e.shapes||[]).map(function(Nt){return Nt._input}),z=!1,U=v.legend,G=v._fullInput;if(G&&G._isShape||!A.traceIs(v,"pie-like")){var nt,Q=M&&M.length,Y=[];if(Q)for(b=0;b<o.length;b++)(nt=o[b]).visible&&nt.legendgroup===M&&Y.push(b);if("toggle"===f){var _;switch(v.visible){case!0:_="legendonly";break;case!1:_=!1;break;case"legendonly":_=!0}if(Q)if(u)for(b=0;b<o.length;b++){var st=o[b];!1!==st.visible&&st.legendgroup===M&&O(st,_)}else O(v,_);else O(v,_)}else if("toggleothers"===f){var xt,yt,Et,Tt=!0;for(b=0;b<o.length;b++)if(yt=!0!==(Et=o[b]).showlegend,!(Et===v||yt||(xt=Q&&Et.legendgroup===M,xt||Et.legend!==U||!0!==Et.visible||A.traceIs(Et,"notLegendIsolatable")))){Tt=!1;break}for(b=0;b<o.length;b++)if(!1!==(Et=o[b]).visible&&Et.legend===U&&!A.traceIs(Et,"notLegendIsolatable"))switch(v.visible){case"legendonly":O(Et,!0);break;case!0:yt=!0!==Et.showlegend&&!Et.legendgroup,O(Et,!(!(xt=Et===v||Q&&Et.legendgroup===M)&&!yt)||!!Tt||"legendonly")}}for(b=0;b<F.length;b++)if(x=F[b]){var gt=x.constructUpdate(),Mt=Object.keys(gt);for(E=0;E<Mt.length;E++)(C[S=Mt[E]]=C[S]||[])[D[b]]=gt[S]}for(T=Object.keys(C),b=0;b<T.length;b++)for(S=T[b],E=0;E<p.length;E++)C[S].hasOwnProperty(E)||(C[S][E]=void 0);z?A.call("_guiUpdate",m,C,{shapes:k},p):A.call("_guiRestyle",m,C,p)}else{var et=c.label,at=g.indexOf(et);if("toggle"===f)-1===at?g.push(et):g.splice(at,1);else if("toggleothers"===f){var lt=-1!==at,K=[];for(b=0;b<m.calcdata.length;b++){var j=m.calcdata[b];for(E=0;E<j.length;E++){var H=j[E].label;U===j[0].trace.legend&&et!==H&&(-1===g.indexOf(H)&&(lt=!0),i(g,H),K.push(H))}}if(!lt)for(var Z=0;Z<K.length;Z++){var it=g.indexOf(K[Z]);-1!==it&&g.splice(it,1)}}A.call("_guiRelayout",m,"hiddenlabels",g)}}}}function N(Nt,Gt){var Pt=p.indexOf(Nt),Vt=C.visible;return Vt||(Vt=C.visible=[]),-1===p.indexOf(Nt)&&(p.push(Nt),Pt=p.length-1),Vt[Pt]=Gt,Pt}function O(Nt,Gt){if(!c.groupTitle||u){var Pt=Nt._fullInput||Nt,Vt=Pt._isShape,re=Pt.index;if(void 0===re&&(re=Pt._index),A.hasTransform(Pt,"groupby")){var le=F[re];if(!le){var It=A.getTransformIndices(Pt,"groupby");le=y.keyedContainer(Pt,"transforms["+It[It.length-1]+"].styles","target","value.visible"),F[re]=le}var $t=le.get(Nt._group);void 0===$t&&($t=!0),!1!==$t&&le.set(Nt._group,Gt),D[re]=N(re,!1!==Pt.visible)}else{var oe=!1!==Pt.visible&&Gt;Vt?function B(Nt,Gt){k[Nt].visible=Gt,z=!0}(re,oe):N(re,oe)}}}}},42451:function(tt,W){"use strict";W.isGrouped=function(A){return-1!==(A.traceorder||"").indexOf("grouped")},W.isVertical=function(A){return"h"!==A.orientation},W.isReversed=function(A){return-1!==(A.traceorder||"").indexOf("reversed")}},2780:function(tt,W,t){"use strict";tt.exports={moduleType:"component",name:"legend",layoutAttributes:t(3800),supplyLayoutDefaults:t(77864),draw:t(31140),style:t(2012)}},2012:function(tt,W,t){"use strict";var A=t(33428),y=t(24040),i=t(3400),P=i.strTranslate,L=t(43616),l=t(76308),m=t(94288).extractOpts,r=t(43028),e=t(10528),s=t(69656).castOption,a=t(65196);function w(v,M){return(M?"radial":"horizontal")+(v?"":"reversed")}function d(v){var M=v[0].trace,b=M.contours,E=r.hasLines(M),x=r.hasMarkers(M),S=M.visible&&M.fill&&"none"!==M.fill,T=!1,n=!1;if(b){var C=b.coloring;"lines"===C?T=!0:E="none"===C||"heatmap"===C||b.showlines,"constraint"===b.type?S="="!==b._operation:("fill"===C||"heatmap"===C)&&(n=!0)}return{showMarker:x,showLine:E,showFill:S,showGradientLine:T,showGradientFill:n,anyLine:E||T,anyFill:S||n}}function o(v,M,b){return v&&i.isArrayOrTypedArray(v)?M:v>b?b:v}tt.exports=function(M,b,E){E||(E=b._fullLayout.legend);var S="constant"===E.itemsizing,T=E.itemwidth,C=P((T+2*a.itemGap)/2,0),p=function(K,j,rt,H){var Z;if(K+1)Z=K;else{if(!(j&&j.width>0))return 0;Z=j.width}return S?H:Math.min(Z,rt)};function B(K,j,rt){var H=K[0].trace,Z=H.marker||{},it=Z.line||{},Q=Z.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",Y=rt?H.visible&&H.type===rt:y.traceIs(H,"bar"),nt=A.select(j).select("g.legendpoints").selectAll("path.legend"+rt).data(Y?[K]:[]);nt.enter().append("path").classed("legend"+rt,!0).attr("d",Q).attr("transform",C),nt.exit().remove(),nt.each(function(_){var st=A.select(this),dt=_[0],xt=p(dt.mlw,Z.line,5,2);st.style("stroke-width",xt+"px");var yt=dt.mcc;if(!E._inHover&&"mc"in dt){var St=m(Z),Et=St.mid;void 0===Et&&(Et=(St.max+St.min)/2),yt=L.tryColorscale(Z,"")(Et)}var Tt=yt||dt.mc||Z.color,gt=Z.pattern,Mt=gt&&L.getPatternAttr(gt.shape,0,"");if(Mt){var Nt=L.getPatternAttr(gt.bgcolor,0,null),Gt=L.getPatternAttr(gt.fgcolor,0,null),Pt=gt.fgopacity,Vt=o(gt.size,8,10),re=o(gt.solidity,.5,1);st.call(L.pattern,"legend",b,"legend-"+H.uid,Mt,Vt,re,yt,gt.fillmode,Nt,Gt,Pt)}else st.call(l.fill,Tt);xt&&l.stroke(st,dt.mlc||it.color)})}function at(K,j,rt){var H=K[0],Z=H.trace,it=rt?Z.visible&&Z.type===rt:y.traceIs(Z,rt),Q=A.select(j).select("g.legendpoints").selectAll("path.legend"+rt).data(it?[K]:[]);if(Q.enter().append("path").classed("legend"+rt,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),Q.exit().remove(),Q.size()){var Y=Z.marker||{},nt=p(s(Y.line.width,H.pts),Y.line,5,2),_="pieLike",st=i.minExtend(Z,{marker:{line:{width:nt}}},_),dt=i.minExtend(H,{trace:st},_);e(Q,dt,st,b)}}M.each(function(K){var j=A.select(this),rt=i.ensureSingle(j,"g","layers");rt.style("opacity",K[0].trace.opacity);var H=E.valign,Z=K[0].lineHeight,it=K[0].height;rt.attr("transform","middle"!==H&&Z&&it?P(0,{top:1,bottom:-1}[H]*(.5*(Z-it+3))):null),rt.selectAll("g.legendfill").data([K]).enter().append("g").classed("legendfill",!0),rt.selectAll("g.legendlines").data([K]).enter().append("g").classed("legendlines",!0);var st=rt.selectAll("g.legendsymbols").data([K]);st.enter().append("g").classed("legendsymbols",!0),st.selectAll("g.legendpoints").data([K]).enter().append("g").classed("legendpoints",!0)}).each(function lt(K){var rt,j=K[0].trace,H=[];if(j.visible)switch(j.type){case"histogram2d":case"heatmap":H=[["M-15,-2V4H15V-2Z"]],rt=!0;break;case"choropleth":case"choroplethmapbox":H=[["M-6,-6V6H6V-6Z"]],rt=!0;break;case"densitymapbox":H=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],rt="radial";break;case"cone":H=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],rt=!1;break;case"streamtube":H=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],rt=!1;break;case"surface":H=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],rt=!0;break;case"mesh3d":H=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],rt=!1;break;case"volume":H=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],rt=!0;break;case"isosurface":H=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],rt=!1}var Z=A.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(H);Z.enter().append("path").classed("legend3dandfriends",!0).attr("transform",C).style("stroke-miterlimit",1),Z.exit().remove(),Z.each(function(it,Q){var xt,Y=A.select(this),nt=m(j),_=nt.colorscale,st=nt.reversescale;if(_){if(!rt){var St=_.length;xt=0===Q?_[st?St-1:0][1]:1===Q?_[st?0:St-1][1]:_[Math.floor((St-1)/2)][1]}}else{var yt=j.vertexcolor||j.facecolor||j.color;xt=i.isArrayOrTypedArray(yt)?yt[Q]||yt[0]:yt}Y.attr("d",it[0]),xt?Y.call(l.fill,xt):Y.call(function(Et){Et.size()&&L.gradient(Et,b,"legendfill-"+j.uid,w(st,"radial"===rt),_,"fill")})})}).each(function N(K){var j=K[0].trace,rt="waterfall"===j.type;if(K[0]._distinct&&rt){var H=K[0].trace[K[0].dir].marker;return K[0].mc=H.color,K[0].mlw=H.line.width,K[0].mlc=H.line.color,B(K,this,"waterfall")}var Z=[];j.visible&&rt&&(Z=K[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var it=A.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(Z);it.enter().append("path").classed("legendwaterfall",!0).attr("transform",C).style("stroke-miterlimit",1),it.exit().remove(),it.each(function(Q){var Y=A.select(this),nt=j[Q[0]].marker,_=p(void 0,nt.line,5,2);Y.attr("d",Q[1]).style("stroke-width",_+"px").call(l.fill,nt.color),_&&Y.call(l.stroke,nt.line.color)})}).each(function z(K){B(K,this,"funnel")}).each(function k(K){B(K,this)}).each(function O(K){var j=K[0].trace,rt=A.select(this).select("g.legendpoints").selectAll("path.legendbox").data(j.visible&&y.traceIs(j,"box-violin")?[K]:[]);rt.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),rt.exit().remove(),rt.each(function(){var H=A.select(this);if("all"!==j.boxpoints&&"all"!==j.points||0!==l.opacity(j.fillcolor)||0!==l.opacity((j.line||{}).color)){var it=p(void 0,j.line,5,2);H.style("stroke-width",it+"px").call(l.fill,j.fillcolor),it&&l.stroke(H,j.line.color)}else{var Z=i.minExtend(j,{marker:{size:S?12:i.constrain(j.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});rt.call(L.pointStyle,Z,b)}})}).each(function et(K){at(K,this,"funnelarea")}).each(function J(K){at(K,this,"pie")}).each(function F(K){var st,dt,j=d(K),rt=j.showFill,H=j.showLine,Z=j.showGradientLine,it=j.showGradientFill,Q=j.anyFill,Y=j.anyLine,nt=K[0],_=nt.trace,xt=m(_),yt=xt.colorscale,St=xt.reversescale,gt=r.hasMarkers(_)||!Q?"M5,0":Y?"M5,-2":"M5,-3",Mt=A.select(this),Nt=Mt.select(".legendfill").selectAll("path").data(rt||it?[K]:[]);if(Nt.enter().append("path").classed("js-fill",!0),Nt.exit().remove(),Nt.attr("d",gt+"h"+T+"v6h-"+T+"z").call(function(Vt){Vt.size()&&(rt?L.fillGroupStyle(Vt,b):L.gradient(Vt,b,"legendfill-"+_.uid,w(St),yt,"fill"))}),H||Z){var Gt=p(void 0,_.line,10,5);dt=i.minExtend(_,{line:{width:Gt}}),st=[i.minExtend(nt,{trace:dt})]}var Pt=Mt.select(".legendlines").selectAll("path").data(H||Z?[st]:[]);Pt.enter().append("path").classed("js-line",!0),Pt.exit().remove(),Pt.attr("d",gt+(Z?"l"+T+",0.0001":"h"+T)).call(H?L.lineGroupStyle:function(Vt){if(Vt.size()){var re="legendline-"+_.uid;L.lineGroupStyle(Vt),L.gradient(Vt,b,re,w(St),yt,"stroke")}})}).each(function D(K){var _,st,j=d(K),Z=j.showLine,it=j.showMarker,Q=K[0],Y=Q.trace,nt=!it&&!j.anyLine&&!j.anyFill&&r.hasText(Y);function dt(Nt,Gt,Pt,Vt){var re=i.nestedProperty(Y,Nt).get(),le=i.isArrayOrTypedArray(re)&&Gt?Gt(re):re;if(S&&le&&void 0!==Vt&&(le=Vt),Pt){if(le<Pt[0])return Pt[0];if(le>Pt[1])return Pt[1]}return le}function xt(Nt){return Q._distinct&&Q.index&&Nt[Q.index]?Nt[Q.index]:Nt[0]}if(it||nt||Z){var yt={},St={};if(it){yt.mc=dt("marker.color",xt),yt.mx=dt("marker.symbol",xt),yt.mo=dt("marker.opacity",i.mean,[.2,1]),yt.mlc=dt("marker.line.color",xt),yt.mlw=dt("marker.line.width",i.mean,[0,5],2),St.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Et=dt("marker.size",i.mean,[2,16],12);yt.ms=Et,St.marker.size=Et}Z&&(St.line={width:dt("line.width",xt,[0,10],5)}),nt&&(yt.tx="Aa",yt.tp=dt("textposition",xt),yt.ts=10,yt.tc=dt("textfont.color",xt),yt.tf=dt("textfont.family",xt)),_=[i.minExtend(Q,yt)],(st=i.minExtend(Y,St)).selectedpoints=null,st.texttemplate=null}var Tt=A.select(this).select("g.legendpoints"),gt=Tt.selectAll("path.scatterpts").data(it?_:[]);gt.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",C),gt.exit().remove(),gt.call(L.pointStyle,st,b),it&&(_[0].mrc=3);var Mt=Tt.selectAll("g.pointtext").data(nt?_:[]);Mt.enter().append("g").classed("pointtext",!0).append("text").attr("transform",C),Mt.exit().remove(),Mt.selectAll("text").call(L.textPointStyle,st,b)}).each(function U(K){var j=K[0].trace,rt=A.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(j.visible&&"candlestick"===j.type?[K,K]:[]);rt.enter().append("path").classed("legendcandle",!0).attr("d",function(H,Z){return Z?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",C).style("stroke-miterlimit",1),rt.exit().remove(),rt.each(function(H,Z){var it=A.select(this),Q=j[Z?"increasing":"decreasing"],Y=p(void 0,Q.line,5,2);it.style("stroke-width",Y+"px").call(l.fill,Q.fillcolor),Y&&l.stroke(it,Q.line.color)})}).each(function G(K){var j=K[0].trace,rt=A.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(j.visible&&"ohlc"===j.type?[K,K]:[]);rt.enter().append("path").classed("legendohlc",!0).attr("d",function(H,Z){return Z?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",C).style("stroke-miterlimit",1),rt.exit().remove(),rt.each(function(H,Z){var it=A.select(this),Q=j[Z?"increasing":"decreasing"],Y=p(void 0,Q.line,5,2);it.style("fill","none").call(L.dashLine,Q.line.dash,Y),Y&&l.stroke(it,Q.line.color)})})}},66540:function(tt,W,t){"use strict";t(76052),tt.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(tt,W,t){"use strict";var A=t(24040),y=t(7316),i=t(79811),P=t(9224),L=t(4016).eraseActiveShape,l=t(3400),m=l._,r=tt.exports={};function e(v,M){var p,F,b=M.currentTarget,E=b.getAttribute("data-attr"),x=b.getAttribute("data-val")||!0,S=v._fullLayout,T={},n=i.list(v,null,!0),C=S._cartesianSpikesEnabled;if("zoom"===E){var z,D="in"===x?.5:2,N=(1+D)/2,k=(1-D)/2;for(F=0;F<n.length;F++)if(!(p=n[F]).fixedrange)if(z=p._name,"auto"===x)T[z+".autorange"]=!0;else if("reset"===x)void 0===p._rangeInitial0&&void 0===p._rangeInitial1?T[z+".autorange"]=!0:void 0===p._rangeInitial0?(T[z+".autorange"]=p._autorangeInitial,T[z+".range"]=[null,p._rangeInitial1]):void 0===p._rangeInitial1?(T[z+".range"]=[p._rangeInitial0,null],T[z+".autorange"]=p._autorangeInitial):T[z+".range"]=[p._rangeInitial0,p._rangeInitial1],void 0!==p._showSpikeInitial&&(T[z+".showspikes"]=p._showSpikeInitial,"on"===C&&!p._showSpikeInitial&&(C="off"));else{var B=[p.r2l(p.range[0]),p.r2l(p.range[1])],O=[N*B[0]+k*B[1],N*B[1]+k*B[0]];T[z+".range[0]"]=p.l2r(O[0]),T[z+".range[1]"]=p.l2r(O[1])}}else"hovermode"===E&&("x"===x||"y"===x)&&b.setAttribute("data-val",x=S._isHoriz?"y":"x"),T[E]=x;S._cartesianSpikesEnabled=C,A.call("_guiRelayout",v,T)}function s(v,M){for(var b=M.currentTarget,E=b.getAttribute("data-attr"),x=b.getAttribute("data-val")||!0,S=v._fullLayout._subplots.gl3d||[],T={},n=E.split("."),C=0;C<S.length;C++)T[S[C]+"."+n[1]]=x;T.dragmode="pan"===x?x:"zoom",A.call("_guiRelayout",v,T)}function a(v,M){for(var E=M.currentTarget.getAttribute("data-attr"),x="resetLastSave"===E,S="resetDefault"===E,T=v._fullLayout,n=T._subplots.gl3d||[],C={},p=0;p<n.length;p++){var B,F=n[p],D=F+".camera",N=F+".aspectratio",k=F+".aspectmode",z=T[F]._scene;x?(C[D+".up"]=z.viewInitial.up,C[D+".eye"]=z.viewInitial.eye,C[D+".center"]=z.viewInitial.center,B=!0):S&&(C[D+".up"]=null,C[D+".eye"]=null,C[D+".center"]=null,B=!0),B&&(C[N+".x"]=z.viewInitial.aspectratio.x,C[N+".y"]=z.viewInitial.aspectratio.y,C[N+".z"]=z.viewInitial.aspectratio.z,C[k]=z.viewInitial.aspectmode)}A.call("_guiRelayout",v,C)}function h(v,M){var b=M.currentTarget,E=b._previousVal,x=v._fullLayout,S=x._subplots.gl3d||[],T=["xaxis","yaxis","zaxis"],n={},C={};if(E)C=E,b._previousVal=null;else{for(var p=0;p<S.length;p++){var F=S[p],D=x[F],N=F+".hovermode";n[N]=D.hovermode,C[N]=!1;for(var k=0;k<3;k++){var z=T[k],B=F+"."+z+".showspikes";C[B]=!1,n[B]=D[z].showspikes}}b._previousVal=n}return C}function u(v,M){for(var b=M.currentTarget,E=b.getAttribute("data-attr"),x=b.getAttribute("data-val")||!0,S=v._fullLayout,T=S._subplots.geo||[],n=0;n<T.length;n++){var C=T[n];if("zoom"===E){var F=S[C].projection.scale;A.call("_guiRelayout",v,C+".projection.scale","in"===x?2*F:.5*F)}}"reset"===E&&o(v,"geo")}function g(v){var M=v._fullLayout;return!M.hovermode&&(M._has("cartesian")?M._isHoriz?"y":"x":"closest")}function c(v){var M=g(v);A.call("_guiRelayout",v,"hovermode",M)}function d(v,M){for(var E=M.currentTarget.getAttribute("data-val"),x=v._fullLayout,S=x._subplots.mapbox||[],n={},C=0;C<S.length;C++){var p=S[C],F=x[p].zoom;n[p+".zoom"]="in"===E?1.05*F:F/1.05}A.call("_guiRelayout",v,n)}function o(v,M){for(var b=v._fullLayout,E=b._subplots[M]||[],x={},S=0;S<E.length;S++)for(var T=E[S],C=b[T]._subplot.viewInitial,p=Object.keys(C),F=0;F<p.length;F++){var D=p[F];x[T+"."+D]=C[D]}A.call("_guiRelayout",v,x)}r.toImage={name:"toImage",title:function(v){return m(v,"png"===((v._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:P.camera,click:function(v){var M=v._context.toImageButtonOptions,b={format:M.format||"png"};l.notifier(m(v,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==b.format&&l.isIE()&&(l.notifier(m(v,"IE only supports svg.  Changing format to svg."),"long"),b.format="svg"),["filename","width","height","scale"].forEach(function(E){E in M&&(b[E]=M[E])}),A.call("downloadImage",v,b).then(function(E){l.notifier(m(v,"Snapshot succeeded")+" - "+E,"long")}).catch(function(){l.notifier(m(v,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(v){return m(v,"Edit in Chart Studio")},icon:P.disk,click:function(v){y.sendDataToCloud(v)}},r.editInChartStudio={name:"editInChartStudio",title:function(v){return m(v,"Edit in Chart Studio")},icon:P.pencil,click:function(v){y.sendDataToCloud(v)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(v){return m(v,"Zoom")},attr:"dragmode",val:"zoom",icon:P.zoombox,click:e},r.pan2d={name:"pan2d",_cat:"pan",title:function(v){return m(v,"Pan")},attr:"dragmode",val:"pan",icon:P.pan,click:e},r.select2d={name:"select2d",_cat:"select",title:function(v){return m(v,"Box Select")},attr:"dragmode",val:"select",icon:P.selectbox,click:e},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(v){return m(v,"Lasso Select")},attr:"dragmode",val:"lasso",icon:P.lasso,click:e},r.drawclosedpath={name:"drawclosedpath",title:function(v){return m(v,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:P.drawclosedpath,click:e},r.drawopenpath={name:"drawopenpath",title:function(v){return m(v,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:P.drawopenpath,click:e},r.drawline={name:"drawline",title:function(v){return m(v,"Draw line")},attr:"dragmode",val:"drawline",icon:P.drawline,click:e},r.drawrect={name:"drawrect",title:function(v){return m(v,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:P.drawrect,click:e},r.drawcircle={name:"drawcircle",title:function(v){return m(v,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:P.drawcircle,click:e},r.eraseshape={name:"eraseshape",title:function(v){return m(v,"Erase active shape")},icon:P.eraseshape,click:L},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(v){return m(v,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:e},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(v){return m(v,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:e},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(v){return m(v,"Autoscale")},attr:"zoom",val:"auto",icon:P.autoscale,click:e},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(v){return m(v,"Reset axes")},attr:"zoom",val:"reset",icon:P.home,click:e},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(v){return m(v,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:P.tooltip_basic,gravity:"ne",click:e},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(v){return m(v,"Compare data on hover")},attr:"hovermode",val:function(v){return v._fullLayout._isHoriz?"y":"x"},icon:P.tooltip_compare,gravity:"ne",click:e},r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(v){return m(v,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:P.zoombox,click:s},r.pan3d={name:"pan3d",_cat:"pan",title:function(v){return m(v,"Pan")},attr:"scene.dragmode",val:"pan",icon:P.pan,click:s},r.orbitRotation={name:"orbitRotation",title:function(v){return m(v,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:P["3d_rotate"],click:s},r.tableRotation={name:"tableRotation",title:function(v){return m(v,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:P["z-axis"],click:s},r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(v){return m(v,"Reset camera to default")},attr:"resetDefault",icon:P.home,click:a},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(v){return m(v,"Reset camera to last save")},attr:"resetLastSave",icon:P.movie,click:a},r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(v){return m(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:function f(v,M){var b=h(v,M);A.call("_guiRelayout",v,b)}},r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(v){return m(v,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:u},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(v){return m(v,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:u},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(v){return m(v,"Reset")},attr:"reset",val:null,icon:P.autoscale,click:u},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(v){return m(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:c},r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(v){return m(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:c},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(v){return m(v,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:P.tooltip_basic,gravity:"ne",click:c},r.resetViewSankey={name:"resetSankeyGroup",title:function(v){return m(v,"Reset view")},icon:P.home,click:function(v){for(var M={"node.groups":[],"node.x":[],"node.y":[]},b=0;b<v._fullData.length;b++){var E=v._fullData[b]._viewInitial;M["node.groups"].push(E.node.groups.slice()),M["node.x"].push(E.node.x.slice()),M["node.y"].push(E.node.y.slice())}A.call("restyle",v,M)}},r.toggleHover={name:"toggleHover",title:function(v){return m(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:function(v,M){var b=h(v,M);b.hovermode=g(v),A.call("_guiRelayout",v,b)}},r.resetViews={name:"resetViews",title:function(v){return m(v,"Reset views")},icon:P.home,click:function(v,M){var b=M.currentTarget;b.setAttribute("data-attr","zoom"),b.setAttribute("data-val","reset"),e(v,M),b.setAttribute("data-attr","resetLastSave"),a(v,M),o(v,"geo"),o(v,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(v){return m(v,"Toggle Spike Lines")},icon:P.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(v){var M=v._fullLayout;M._cartesianSpikesEnabled="on"===M._cartesianSpikesEnabled?"off":"on",A.call("_guiRelayout",v,function w(v){for(var b="on"===v._fullLayout._cartesianSpikesEnabled,E=i.list(v,null,!0),x={},S=0;S<E.length;S++){var T=E[S];x[T._name+".showspikes"]=!!b||T._showSpikeInitial}return x}(v))}},r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(v){return m(v,"Reset view")},attr:"reset",icon:P.home,click:function(v){o(v,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(v){return m(v,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:d},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(v){return m(v,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:d}},76052:function(tt,W,t){"use strict";var A=t(44248),y=Object.keys(A),i=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],P=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(i),L=[];y.forEach(function(m){!function(m){if(-1===P.indexOf(m._cat||m.name)){var r=m.name,e=(m._cat||m.name).toLowerCase();-1===L.indexOf(r)&&L.push(r),-1===L.indexOf(e)&&L.push(e)}}(A[m])}),L.sort(),tt.exports={DRAW_MODES:i,backButtons:P,foreButtons:L}},90824:function(tt,W,t){"use strict";var A=t(3400),y=t(76308),i=t(31780),P=t(66540);tt.exports=function(l,m){var r=l.modebar||{},e=i.newContainer(m,"modebar");function s(h,f){return A.coerce(r,e,P,h,f)}s("orientation"),s("bgcolor",y.addOpacity(m.paper_bgcolor,.5));var a=y.contrast(y.rgb(m.modebar.bgcolor));s("color",y.addOpacity(a,.3)),s("activecolor",y.addOpacity(a,.7)),s("uirevision",m.uirevision),s("add"),s("remove")}},45460:function(tt,W,t){"use strict";tt.exports={moduleType:"component",name:"modebar",layoutAttributes:t(66540),supplyLayoutDefaults:t(90824),manage:t(18816)}},18816:function(tt,W,t){"use strict";var A=t(79811),y=t(43028),i=t(24040),P=t(10624).isUnifiedHover,L=t(66400),l=t(44248),m=t(76052).DRAW_MODES,r=t(3400).extendDeep;function e(g){var c=g._fullLayout,w=g._fullData,d=g._context;function o(Q,Y){if("string"==typeof Y){if(Y.toLowerCase()===Q.toLowerCase())return!0}else if(Y.name===Q||(Y._cat||Y.name)===Q.toLowerCase())return!0;return!1}var v=c.modebar.add;"string"==typeof v&&(v=[v]);var M=c.modebar.remove;"string"==typeof M&&(M=[M]);var b=d.modeBarButtonsToAdd.concat(v.filter(function(Q){for(var Y=0;Y<d.modeBarButtonsToRemove.length;Y++)if(o(Q,d.modeBarButtonsToRemove[Y]))return!1;return!0})),E=d.modeBarButtonsToRemove.concat(M.filter(function(Q){for(var Y=0;Y<d.modeBarButtonsToAdd.length;Y++)if(o(Q,d.modeBarButtonsToAdd[Y]))return!1;return!0})),x=c._has("cartesian"),S=c._has("gl3d"),T=c._has("geo"),n=c._has("pie"),C=c._has("funnelarea"),p=c._has("gl2d"),F=c._has("ternary"),D=c._has("mapbox"),N=c._has("polar"),k=c._has("smith"),z=c._has("sankey"),B=function s(g){for(var c=A.list({_fullLayout:g},null,!0),w=0;w<c.length;w++)if(!c[w].fixedrange)return!1;return!0}(c),O=P(c.hovermode),U=[];function G(Q){if(Q.length){for(var Y=[],nt=0;nt<Q.length;nt++){for(var _=Q[nt],st=l[_],dt=st.name.toLowerCase(),xt=(st._cat||st.name).toLowerCase(),yt=!1,St=0;St<E.length;St++){var Et=E[St].toLowerCase();if(Et===dt||Et===xt){yt=!0;break}}yt||Y.push(l[_])}U.push(Y)}}var J=["toImage"];d.showEditInChartStudio?J.push("editInChartStudio"):d.showSendToCloud&&J.push("sendDataToCloud"),G(J);var et=[],at=[],lt=[],K=[];(x||p||n||C||F)+T+S+D+N+k>1?(at=["toggleHover"],lt=["resetViews"]):T?(et=["zoomInGeo","zoomOutGeo"],at=["hoverClosestGeo"],lt=["resetGeo"]):S?(at=["hoverClosest3d"],lt=["resetCameraDefault3d","resetCameraLastSave3d"]):D?(et=["zoomInMapbox","zoomOutMapbox"],at=["toggleHover"],lt=["resetViewMapbox"]):p?at=["hoverClosestGl2d"]:n?at=["hoverClosestPie"]:z?(at=["hoverClosestCartesian","hoverCompareCartesian"],lt=["resetViewSankey"]):at=["toggleHover"],x&&(at=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function h(g){for(var c=0;c<g.length;c++)if(!i.traceIs(g[c],"noHover"))return!1;return!0}(w)||O)&&(at=[]),(x||p)&&!B&&(et=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==lt[0]&&(lt=["resetScale2d"])),S?K=["zoom3d","pan3d","orbitRotation","tableRotation"]:(x||p)&&!B||F?K=["zoom2d","pan2d"]:D||T?K=["pan2d"]:N&&(K=["zoom2d"]),function a(g){for(var c=!1,w=0;w<g.length&&!c;w++){var d=g[w];!d._module||!d._module.selectPoints||(i.traceIs(d,"scatter-like")?(y.hasMarkers(d)||y.hasText(d))&&(c=!0):i.traceIs(d,"box-violin")?("all"===d.boxpoints||"all"===d.points)&&(c=!0):c=!0)}return c}(w)&&K.push("select2d","lasso2d");var j=[],rt=function(Q){-1===j.indexOf(Q)&&-1!==at.indexOf(Q)&&j.push(Q)};if(Array.isArray(b)){for(var H=[],Z=0;Z<b.length;Z++){var it=b[Z];"string"==typeof it?(it=it.toLowerCase(),-1!==m.indexOf(it)?(c._has("mapbox")||c._has("cartesian"))&&K.push(it):"togglespikelines"===it?rt("toggleSpikelines"):"togglehover"===it?rt("toggleHover"):"hovercompare"===it?rt("hoverCompareCartesian"):"hoverclosest"===it?(rt("hoverClosestCartesian"),rt("hoverClosestGeo"),rt("hoverClosest3d"),rt("hoverClosestGl2d"),rt("hoverClosestPie")):"v1hovermode"===it&&(rt("toggleHover"),rt("hoverClosestCartesian"),rt("hoverCompareCartesian"),rt("hoverClosestGeo"),rt("hoverClosest3d"),rt("hoverClosestGl2d"),rt("hoverClosestPie"))):H.push(it)}b=H}return G(K),G(et.concat(lt)),G(j),function f(g,c){if(c.length)if(Array.isArray(c[0]))for(var w=0;w<c.length;w++)g.push(c[w]);else g.push(c);return g}(U,b)}tt.exports=function(c){var w=c._fullLayout,d=c._context,o=w._modeBar;if(d.displayModeBar||d.watermark){if(!Array.isArray(d.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(d.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var M,v=d.modeBarButtons;M=Array.isArray(v)&&v.length?function u(g){for(var c=r([],g),w=0;w<c.length;w++)for(var d=c[w],o=0;o<d.length;o++){var v=d[o];if("string"==typeof v){if(void 0===l[v])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));c[w][o]=l[v]}}return c}(v):!d.displayModeBar&&d.watermark?[]:e(c),o?o.update(c,M):w._modeBar=L(c,M)}else o&&(o.destroy(),delete w._modeBar)}},66400:function(tt,W,t){"use strict";var A=t(33428),y=t(38248),i=t(3400),P=t(9224),L=t(25788).version,l=new DOMParser;function m(a){this.container=a.container,this.element=document.createElement("div"),this.update(a.graphInfo,a.buttons),this.container.appendChild(this.element)}var r=m.prototype;r.update=function(a,h){this.graphInfo=a;var f=this.graphInfo._context,u=this.graphInfo._fullLayout,g="modebar-"+u._uid;this.element.setAttribute("id",g),this._uid=g,this.element.className="modebar","hover"===f.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===u.modebar.orientation&&(this.element.className+=" vertical",h=h.reverse());var c=u.modebar,w="hover"===f.displayModeBar?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(g),i.addRelatedStyleRule(g,w+"#"+g+" .modebar-group","background-color: "+c.bgcolor),i.addRelatedStyleRule(g,"#"+g+" .modebar-btn .icon path","fill: "+c.color),i.addRelatedStyleRule(g,"#"+g+" .modebar-btn:hover .icon path","fill: "+c.activecolor),i.addRelatedStyleRule(g,"#"+g+" .modebar-btn.active .icon path","fill: "+c.activecolor);var d=!this.hasButtons(h),o=this.hasLogo!==f.displaylogo,v=this.locale!==f.locale;if(this.locale=f.locale,(d||o||v)&&(this.removeAllButtons(),this.updateButtons(h),f.watermark||f.displaylogo)){var M=this.getLogo();f.watermark&&(M.className=M.className+" watermark"),"v"===u.modebar.orientation?this.element.insertBefore(M,this.element.childNodes[0]):this.element.appendChild(M),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(a){var h=this;this.buttons=a,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(f){var u=h.createGroup();f.forEach(function(g){var c=g.name;if(!c)throw new Error("must provide button 'name' in button config");if(-1!==h.buttonsNames.indexOf(c))throw new Error("button name '"+c+"' is taken");h.buttonsNames.push(c);var w=h.createButton(g);h.buttonElements.push(w),u.appendChild(w)}),h.element.appendChild(u)})},r.createGroup=function(){var a=document.createElement("div");return a.className="modebar-group",a},r.createButton=function(a){var h=this,f=document.createElement("a");f.setAttribute("rel","tooltip"),f.className="modebar-btn";var u=a.title;void 0===u?u=a.name:"function"==typeof u&&(u=u(this.graphInfo)),(u||0===u)&&f.setAttribute("data-title",u),void 0!==a.attr&&f.setAttribute("data-attr",a.attr);var g=a.val;if(void 0!==g&&("function"==typeof g&&(g=g(this.graphInfo)),f.setAttribute("data-val",g)),"function"!=typeof a.click)throw new Error("must provide button 'click' function in button config");f.addEventListener("click",function(d){a.click(h.graphInfo,d),h.updateActiveButton(d.currentTarget)}),f.setAttribute("data-toggle",a.toggle||!1),a.toggle&&A.select(f).classed("active",!0);var w=a.icon;return f.appendChild("function"==typeof w?w():this.createIcon(w||P.question)),f.setAttribute("data-gravity",a.gravity||"n"),f},r.createIcon=function(a){var u,h=y(a.height)?Number(a.height):a.ascent-a.descent,f="http://www.w3.org/2000/svg";if(a.path){(u=document.createElementNS(f,"svg")).setAttribute("viewBox",[0,0,a.width,h].join(" ")),u.setAttribute("class","icon");var g=document.createElementNS(f,"path");g.setAttribute("d",a.path),a.transform?g.setAttribute("transform",a.transform):void 0!==a.ascent&&g.setAttribute("transform","matrix(1 0 0 -1 0 "+a.ascent+")"),u.appendChild(g)}return a.svg&&(u=l.parseFromString(a.svg,"application/xml").childNodes[0]),u.setAttribute("height","1em"),u.setAttribute("width","1em"),u},r.updateActiveButton=function(a){var h=this.graphInfo._fullLayout,f=void 0!==a?a.getAttribute("data-attr"):null;this.buttonElements.forEach(function(u){var g=u.getAttribute("data-val")||!0,c=u.getAttribute("data-attr"),w="true"===u.getAttribute("data-toggle"),d=A.select(u);if(w)c===f&&d.classed("active",!d.classed("active"));else{var o=null===c?c:i.nestedProperty(h,c).get();d.classed("active",o===g)}})},r.hasButtons=function(a){var h=this.buttons;if(!h||a.length!==h.length)return!1;for(var f=0;f<a.length;++f){if(a[f].length!==h[f].length)return!1;for(var u=0;u<a[f].length;u++)if(a[f][u].name!==h[f][u].name)return!1}return!0},r.getLogo=function(){var a=this.createGroup(),h=document.createElement("a");return h.href="https://plotly.com/",h.target="_blank",h.setAttribute("data-title",function e(a){return a+" (v"+L+")"}(i._(this.graphInfo,"Produced with Plotly.js"))),h.className="modebar-btn plotlyjsicon modebar-btn--logo",h.appendChild(this.createIcon(P.newplotlylogo)),a.appendChild(h),a},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)},tt.exports=function s(a,h){var f=a._fullLayout,u=new m({graphInfo:a,container:f._modebardiv.node(),buttons:h});return f._privateplot&&A.select(u.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),u}},26680:function(tt,W,t){"use strict";var A=t(25376),y=t(22548),P=(0,t(31780).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});tt.exports={visible:{valType:"boolean",editType:"plot"},buttons:P,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:A({editType:"plot"}),bgcolor:{valType:"color",dflt:y.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:y.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(tt){"use strict";tt.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(tt,W,t){"use strict";var A=t(3400),y=t(76308),i=t(31780),P=t(51272),L=t(26680),l=t(85984);function m(e,s,a,h){var f=h.calendar;function u(w,d){return A.coerce(e,s,L.buttons,w,d)}if(u("visible")){var c=u("step");"all"!==c&&(!f||"gregorian"===f||"month"!==c&&"year"!==c?u("stepmode"):s.stepmode="backward",u("count")),u("label")}}tt.exports=function(s,a,h,f,u){var g=s.rangeselector||{},c=i.newContainer(a,"rangeselector");function w(b,E){return A.coerce(g,c,L,b,E)}if(w("visible",P(g,c,{name:"buttons",handleItemDefaults:m,calendar:u}).length>0)){var v=function r(e,s,a){for(var h=a.filter(function(c){return s[c].anchor===e._id}),f=0,u=0;u<h.length;u++){var g=s[h[u]].domain;g&&(f=Math.max(g[1],f))}return[e.domain[0],f+l.yPad]}(a,h,f);w("x",v[0]),w("y",v[1]),A.noneOrAll(s,a,["x","y"]),w("xanchor"),w("yanchor"),A.coerceFont(w,"font",h.font);var M=w("bgcolor");w("activecolor",y.contrast(M,l.lightAmount,l.darkAmount)),w("bordercolor"),w("borderwidth")}}},50216:function(tt,W,t){"use strict";var A=t(33428),y=t(24040),i=t(7316),P=t(76308),L=t(43616),l=t(3400),m=l.strTranslate,r=t(72736),e=t(79811),s=t(84284),a=s.LINE_SPACING,h=s.FROM_TL,f=s.FROM_BR,u=t(85984),g=t(48040);function w(x){return x._id}function o(x,S,T){var n=l.ensureSingle(x,"rect","selector-rect",function(C){C.attr("shape-rendering","crispEdges")});n.attr({rx:u.rx,ry:u.ry}),n.call(P.stroke,S.bordercolor).call(P.fill,function v(x,S){return S._isActive||S._isHovered?x.activecolor:x.bgcolor}(S,T)).style("stroke-width",S.borderwidth+"px")}function M(x,S,T,n){l.ensureSingle(x,"text","selector-text",function(F){F.attr("text-anchor","middle")}).call(L.font,S.font).text(function b(x,S){return x.label?S?l.templateString(x.label,S):x.label:"all"===x.step?"all":x.count+x.step.charAt(0)}(T,n._fullLayout._meta)).call(function C(F){r.convertToTspans(F,n)})}tt.exports=function(S){var n=S._fullLayout._infolayer.selectAll(".rangeselector").data(function c(x){for(var S=e.list(x,"x",!0),T=[],n=0;n<S.length;n++){var C=S[n];C.rangeselector&&C.rangeselector.visible&&T.push(C)}return T}(S),w);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(C){var p=A.select(this),F=C,D=F.rangeselector,N=p.selectAll("g.button").data(l.filterVisible(D.buttons));N.enter().append("g").classed("button",!0),N.exit().remove(),N.each(function(k){var z=A.select(this),B=g(F,k);k._isActive=function d(x,S,T){if("all"===S.step)return!0===x.autorange;var n=Object.keys(T);return x.range[0]===T[n[0]]&&x.range[1]===T[n[1]]}(F,k,B),z.call(o,D,k),z.call(M,D,k,S),z.on("click",function(){S._dragged||y.call("_guiRelayout",S,B)}),z.on("mouseover",function(){k._isHovered=!0,z.call(o,D,k)}),z.on("mouseout",function(){k._isHovered=!1,z.call(o,D,k)})}),function E(x,S,T,n,C){var p=0,F=0,D=T.borderwidth;S.each(function(){var G=A.select(this).select(".selector-text"),et=Math.max(T.font.size*a*r.lineCount(G),16)+3;F=Math.max(F,et)}),S.each(function(){var U=A.select(this),G=U.select(".selector-rect"),J=U.select(".selector-text"),et=J.node()&&L.bBox(J.node()).width,at=T.font.size*a,lt=r.lineCount(J),K=Math.max(et+10,u.minButtonWidth);U.attr("transform",m(D+p,D)),G.attr({x:0,y:0,width:K,height:F}),r.positionText(J,K/2,F/2-(lt-1)*at/2+3),p+=K+5});var N=x._fullLayout._size,k=N.l+N.w*T.x,z=N.t+N.h*(1-T.y),B="left";l.isRightAnchor(T)&&(k-=p,B="right"),l.isCenterAnchor(T)&&(k-=p/2,B="center");var O="top";l.isBottomAnchor(T)&&(z-=F,O="bottom"),l.isMiddleAnchor(T)&&(z-=F/2,O="middle"),p=Math.ceil(p),F=Math.ceil(F),k=Math.round(k),z=Math.round(z),i.autoMargin(x,n+"-range-selector",{x:T.x,y:T.y,l:p*h[B],r:p*f[B],b:F*f[O],t:F*h[O]}),C.attr("transform",m(k,z))}(S,N,D,F._name,p)})}},48040:function(tt,W,t){"use strict";var A=t(73220),y=t(3400).titleCase;tt.exports=function(L,l){var m=L._name,r={};if("all"===l.step)r[m+".autorange"]=!0;else{var e=function i(P,L){var a,l=P.range,m=new Date(P.r2l(l[1])),e=A["utc"+y(L.step)],s=L.count;switch(L.stepmode){case"backward":a=P.l2r(+e.offset(m,-s));break;case"todate":var h=e.offset(m,-s);a=P.l2r(+e.ceil(h))}return[a,l[1]]}(L,l);r[m+".range[0]"]=e[0],r[m+".range[1]"]=e[1]}return r}},41152:function(tt,W,t){"use strict";tt.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t(26680)}}},layoutAttributes:t(26680),handleDefaults:t(22148),draw:t(50216)}},11200:function(tt,W,t){"use strict";var A=t(22548);tt.exports={bgcolor:{valType:"color",dflt:A.background,editType:"plot"},bordercolor:{valType:"color",dflt:A.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(tt,W,t){"use strict";var A=t(79811).list,y=t(19280).getAutoRange,i=t(74636);tt.exports=function(L){for(var l=A(L,"x",!0),m=0;m<l.length;m++){var r=l[m],e=r[i.name];e&&e.visible&&e.autorange&&(e._input.autorange=!0,e._input.range=e.range=y(L,r))}}},74636:function(tt){"use strict";tt.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(tt,W,t){"use strict";var A=t(3400),y=t(31780),i=t(79811),P=t(11200),L=t(10936);tt.exports=function(m,r,e){var s=m[e],a=r[e];if(s.rangeslider||r._requestRangeslider[a._id]){A.isPlainObject(s.rangeslider)||(s.rangeslider={});var g,c,h=s.rangeslider,f=y.newContainer(a,"rangeslider");if(u("visible")){u("bgcolor",r.plot_bgcolor),u("bordercolor"),u("borderwidth"),u("thickness"),u("autorange",!a.isValidRange(h.range)),u("range");var o=r._subplots;if(o)for(var v=o.cartesian.filter(function(n){return n.substr(0,n.indexOf("y"))===i.name2id(e)}).map(function(n){return n.substr(n.indexOf("y"),n.length)}),M=A.simpleMap(v,i.id2name),b=0;b<M.length;b++){var E=M[b];g=h[E]||{},c=y.newContainer(f,E,"yaxis");var S,x=r[E];g.range&&x.isValidRange(g.range)&&(S="fixed"),"match"!==w("rangemode",S)&&w("range",x.range.slice())}f._input=h}}function u(n,C){return A.coerce(h,f,P,n,C)}function w(n,C){return A.coerce(g,c,L,n,C)}}},20060:function(tt,W,t){"use strict";var A=t(33428),y=t(24040),i=t(7316),P=t(3400),L=P.strTranslate,l=t(43616),m=t(76308),r=t(81668),e=t(57952),s=t(79811),a=t(86476),h=t(93972),f=t(74636);function u(S){return"number"==typeof S.clientX?S.clientX:S.touches&&S.touches.length>0?S.touches[0].clientX:0}function g(S,T,n,C){if(!T._context.staticPlot){var p=S.select("rect."+f.slideBoxClassName).node(),F=S.select("rect."+f.grabAreaMinClassName).node(),D=S.select("rect."+f.grabAreaMaxClassName).node();S.on("mousedown",N),S.on("touchstart",N)}function N(){var k=A.event,z=k.target,B=u(k),O=B-S.node().getBoundingClientRect().left,U=C.d2p(n._rl[0]),G=C.d2p(n._rl[1]),J=a.coverSlip();function et(lt){var rt,H,Z,j=+u(lt)-B;switch(z){case p:if(Z="ew-resize",U+j>n._length||G+j<0)return;rt=U+j,H=G+j;break;case F:if(Z="col-resize",U+j>n._length)return;rt=U+j,H=G;break;case D:if(Z="col-resize",G+j<0)return;rt=U,H=G+j;break;default:Z="ew-resize",rt=O,H=O+j}if(H<rt){var it=H;H=rt,rt=it}C._pixelMin=rt,C._pixelMax=H,h(A.select(J),Z),function c(S,T,n,C){function p(N){return n.l2r(P.constrain(N,C._rl[0],C._rl[1]))}var F=p(C.p2d(C._pixelMin)),D=p(C.p2d(C._pixelMax));window.requestAnimationFrame(function(){y.call("_guiRelayout",T,n._name+".range",[F,D])})}(0,T,n,C)}function at(){J.removeEventListener("mousemove",et),J.removeEventListener("mouseup",at),this.removeEventListener("touchmove",et),this.removeEventListener("touchend",at),P.removeElement(J)}this.addEventListener("touchmove",et),this.addEventListener("touchend",at),J.addEventListener("mousemove",et),J.addEventListener("mouseup",at)}}function d(S,T,n,C){var p=P.ensureSingle(S,"rect",f.bgClassName,function(k){k.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),F=C.borderwidth%2==0?C.borderwidth:C.borderwidth-1,D=-C._offsetShift,N=l.crispRound(T,C.borderwidth);p.attr({width:C._width+F,height:C._height+F,transform:L(D,D),"stroke-width":N}).call(m.stroke,C.bordercolor).call(m.fill,C.bgcolor)}function o(S,T,n,C){P.ensureSingleById(T._fullLayout._topdefs,"clipPath",C._clipId,function(D){D.append("rect").attr({x:0,y:0})}).select("rect").attr({width:C._width,height:C._height})}function v(S,T,n,C){var D,p=T.calcdata,F=S.selectAll("g."+f.rangePlotClassName).data(n._subplotsWith,P.identity);F.enter().append("g").attr("class",function(N){return f.rangePlotClassName+" "+N}).call(l.setClipUrl,C._clipId,T),F.order(),F.exit().remove(),F.each(function(N,k){var z=A.select(this),B=0===k,O=s.getFromId(T,N,"y"),U=O._name,G=C[U],J={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:C.range.slice(),calendar:n.calendar},width:C._width,height:C._height,margin:{t:0,b:0,l:0,r:0}},_context:T._context};n.rangebreaks&&(J.layout.xaxis.rangebreaks=n.rangebreaks),J.layout[U]={type:O.type,domain:[0,1],range:"match"!==G.rangemode?G.range.slice():O.range.slice(),calendar:O.calendar},O.rangebreaks&&(J.layout[U].rangebreaks=O.rangebreaks),i.supplyDefaults(J);var et=J._fullLayout.xaxis,at=J._fullLayout[U];et.clearCalc(),et.setScale(),at.clearCalc(),at.setScale();var lt={id:N,plotgroup:z,xaxis:et,yaxis:at,isRangePlot:!0};B?D=lt:(lt.mainplot="xy",lt.mainplotinfo=D),e.rangePlot(T,lt,function M(S,T){for(var n=[],C=0;C<S.length;C++){var p=S[C],F=p[0].trace;F.xaxis+F.yaxis===T&&n.push(p)}return n}(p,N))})}function b(S,T,n,C,p){P.ensureSingle(S,"rect",f.maskMinClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",C._height).call(m.fill,f.maskColor),P.ensureSingle(S,"rect",f.maskMaxClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",C._height).call(m.fill,f.maskColor),"match"!==p.rangemode&&(P.ensureSingle(S,"rect",f.maskMinOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",C._width).call(m.fill,f.maskOppAxisColor),P.ensureSingle(S,"rect",f.maskMaxOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",C._width).style("border-top",f.maskOppBorder).call(m.fill,f.maskOppAxisColor))}function E(S,T,n,C){T._context.staticPlot||P.ensureSingle(S,"rect",f.slideBoxClassName,function(F){F.attr({y:0,cursor:f.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:C._height,fill:f.slideBoxFill})}function x(S,T,n,C){var p=P.ensureSingle(S,"g",f.grabberMinClassName),F=P.ensureSingle(S,"g",f.grabberMaxClassName),D={x:0,width:f.handleWidth,rx:f.handleRadius,fill:m.background,stroke:m.defaultLine,"stroke-width":f.handleStrokeWidth,"shape-rendering":"crispEdges"},N={y:Math.round(C._height/4),height:Math.round(C._height/2)};P.ensureSingle(p,"rect",f.handleMinClassName,function(G){G.attr(D)}).attr(N),P.ensureSingle(F,"rect",f.handleMaxClassName,function(G){G.attr(D)}).attr(N);var B={width:f.grabAreaWidth,x:0,y:0,fill:f.grabAreaFill,cursor:T._context.staticPlot?void 0:f.grabAreaCursor};P.ensureSingle(p,"rect",f.grabAreaMinClassName,function(G){G.attr(B)}).attr("height",C._height),P.ensureSingle(F,"rect",f.grabAreaMaxClassName,function(G){G.attr(B)}).attr("height",C._height)}tt.exports=function(S){for(var T=S._fullLayout,n=T._rangeSliderData,C=0;C<n.length;C++){var p=n[C][f.name];p._clipId=p._id+"-"+T._uid}var D=T._infolayer.selectAll("g."+f.containerClassName).data(n,function F(N){return N._name});D.exit().each(function(N){T._topdefs.select("#"+N[f.name]._clipId).remove()}).remove(),0!==n.length&&(D.enter().append("g").classed(f.containerClassName,!0).attr("pointer-events","all"),D.each(function(N){var k=A.select(this),z=N[f.name],B=T[s.id2name(N.anchor)],O=z[s.id2name(N.anchor)];if(z.range){var J,U=P.simpleMap(z.range,N.r2l),G=P.simpleMap(N.range,N.r2l);J=G[0]<G[1]?[Math.min(U[0],G[0]),Math.max(U[1],G[1])]:[Math.max(U[0],G[0]),Math.min(U[1],G[1])],z.range=z._input.range=P.simpleMap(J,N.l2r)}N.cleanRange("rangeslider.range");var et=T._size,at=N.domain;z._width=et.w*(at[1]-at[0]);var lt=Math.round(et.l+et.w*at[0]),K=Math.round(et.t+et.h*(1-N._counterDomainMin)+("bottom"===N.side?N._depth:0)+z._offsetShift+f.extraPad);k.attr("transform",L(lt,K)),z._rl=P.simpleMap(z.range,N.r2l);var j=z._rl[0],rt=z._rl[1],H=rt-j;if(z.p2d=function(yt){return yt/z._width*H+j},z.d2p=function(yt){return(yt-j)/H*z._width},N.rangebreaks){var Z=N.locateBreaks(j,rt);if(Z.length){var it,Q,Y=0;for(it=0;it<Z.length;it++)Y+=(Q=Z[it]).max-Q.min;var nt=z._width/(rt-j-Y),_=[-nt*j];for(it=0;it<Z.length;it++)_.push(_[_.length-1]-nt*((Q=Z[it]).max-Q.min));for(z.d2p=function(yt){for(var St=_[0],Et=0;Et<Z.length;Et++){var Tt=Z[Et];if(yt>=Tt.max)St=_[Et+1];else if(yt<Tt.min)break}return St+nt*yt},it=0;it<Z.length;it++)(Q=Z[it]).pmin=z.d2p(Q.min),Q.pmax=z.d2p(Q.max);z.p2d=function(yt){for(var St=_[0],Et=0;Et<Z.length;Et++){var Tt=Z[Et];if(yt>=Tt.pmax)St=_[Et+1];else if(yt<Tt.pmin)break}return(yt-St)/nt}}}if("match"!==O.rangemode){var st=B.r2l(O.range[0]),xt=B.r2l(O.range[1])-st;z.d2pOppAxis=function(yt){return(yt-st)/xt*z._height}}k.call(d,S,N,z).call(o,S,N,z).call(v,S,N,z).call(b,S,N,z,O).call(E,S,N,z).call(x,S,N,z),g(k,S,N,z),function w(S,T,n,C,p,F){var D=f.handleWidth/2;function N(lt){return P.constrain(lt,0,C._width)}function k(lt){return P.constrain(lt,0,C._height)}function z(lt){return P.constrain(lt,-D,C._width+D)}var B=N(C.d2p(n._rl[0])),O=N(C.d2p(n._rl[1]));if(S.select("rect."+f.slideBoxClassName).attr("x",B).attr("width",O-B),S.select("rect."+f.maskMinClassName).attr("width",B),S.select("rect."+f.maskMaxClassName).attr("x",O).attr("width",C._width-O),"match"!==F.rangemode){var U=C._height-k(C.d2pOppAxis(p._rl[1])),G=C._height-k(C.d2pOppAxis(p._rl[0]));S.select("rect."+f.maskMinOppAxisClassName).attr("x",B).attr("height",U).attr("width",O-B),S.select("rect."+f.maskMaxOppAxisClassName).attr("x",B).attr("y",G).attr("height",C._height-G).attr("width",O-B),S.select("rect."+f.slideBoxClassName).attr("y",U).attr("height",G-U)}var J=.5,et=Math.round(z(B-D))-J,at=Math.round(z(O-D))+J;S.select("g."+f.grabberMinClassName).attr("transform",L(et,J)),S.select("g."+f.grabberMaxClassName).attr("transform",L(at,J))}(k,0,N,z,B,O),"bottom"===N.side&&r.draw(S,N._id+"title",{propContainer:N,propName:N._name+".title",placeholder:T._dfltTitle.x,attributes:{x:N._offset+N._length/2,y:K+z._height+z._offsetShift+10+1.5*N.title.font.size,"text-anchor":"middle"}})}))}},97944:function(tt,W,t){"use strict";var A=t(79811),y=t(72736),i=t(74636),P=t(84284).LINE_SPACING,L=i.name;function l(m){var r=m&&m[L];return r&&r.visible}W.isVisible=l,W.makeData=function(m){var r=A.list({_fullLayout:m},"x",!0),e=m.margin,s=[];if(!m._has("gl2d"))for(var a=0;a<r.length;a++){var h=r[a];if(l(h)){s.push(h);var f=h[L];f._id=L+h._id,f._height=(m.height-e.b-e.t)*f.thickness,f._offsetShift=Math.floor(f.borderwidth/2)}}m._rangeSliderData=s},W.autoMarginOpts=function(m,r){var e=m._fullLayout,s=r[L],a=r._id.charAt(0),h=0,f=0;return"bottom"===r.side&&(h=r._depth,r.title.text!==e._dfltTitle[a])&&(f=1.5*r.title.font.size+10+s._offsetShift,f+=(r.title.text.match(y.BR_TAG_ALL)||[]).length*r.title.font.size*P),{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:s._height+h+Math.max(e.margin.b,f),pad:i.extraPad+2*s._offsetShift}}},49692:function(tt,W,t){"use strict";var A=t(3400),y=t(11200),i=t(10936),P=t(97944);tt.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:A.extendFlat({},y,{yaxis:i})}}},layoutAttributes:t(11200),handleDefaults:t(94040),calcAutorange:t(26652),draw:t(20060),isVisible:P.isVisible,makeData:P.makeData,autoMarginOpts:P.autoMarginOpts}},10936:function(tt){"use strict";tt.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(tt,W,t){"use strict";var A=t(13916),y=t(52904).line,i=t(98192).u,P=t(92880).extendFlat,L=t(67824).overrideAll,l=t(31780).templatedArray;t(36208),tt.exports=L(l("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:P({},A.xref,{}),yref:P({},A.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:y.color,width:P({},y.width,{min:1,dflt:1}),dash:P({},i,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(tt){"use strict";tt.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(tt,W,t){"use strict";var A=t(3400),y=t(54460),i=t(51272),P=t(93956),L=t(65152);function l(m,r,e){function s(p,F){return A.coerce(m,r,P,p,F)}var a=s("path"),u="path"!==s("type",a?"path":"rect");u&&delete r.path,s("opacity"),s("line.color"),s("line.width"),s("line.dash");for(var g=["x","y"],c=0;c<2;c++){var o,v,M,w=g[c],d={_fullLayout:e},b=y.coerceRef(m,r,d,w);if((o=y.getFromId(d,b))._selectionIndices.push(r._index),M=L.rangeToShapePosition(o),v=L.shapePositionToRange(o),u){var E=w+"0",x=w+"1",S=m[E],T=m[x];m[E]=v(m[E],!0),m[x]=v(m[x],!0),y.coercePosition(r,d,s,b,E),y.coercePosition(r,d,s,b,x);var n=r[E],C=r[x];void 0!==n&&void 0!==C&&(r[E]=M(n),r[x]=M(C),m[E]=S,m[x]=T)}}u&&A.noneOrAll(m,r,["x0","x1","y0","y1"])}tt.exports=function(r,e){i(r,e,{name:"selections",handleItemDefaults:l});for(var s=e.selections,a=0;a<s.length;a++){var h=s[a];!h||void 0===h.path&&(void 0===h.x0||void 0===h.x1||void 0===h.y0||void 0===h.y1)&&(e.selections[a]=null)}}},23640:function(tt,W,t){"use strict";var A=t(9856).readPaths,y=t(55496),i=t(1936).clearOutlineControllers,P=t(76308),L=t(43616),l=t(31780).arrayEditor,m=t(65152),r=m.getPathString;function e(c){var w=c._fullLayout;for(var d in i(c),w._selectionLayer.selectAll("path").remove(),w._plots){var o=w._plots[d].selectionLayer;o&&o.selectAll("path").remove()}for(var v=0;v<w.selections.length;v++)a(c,v)}function s(c){return c._context.editSelection}function a(c,w){c._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+w+'"]').remove();var d=m.makeSelectionsOptionsAndPlotinfo(c,w),o=d.options,v=d.plotinfo;o._input&&function M(b){var E=r(c,o),x={"data-index":w,"fill-rule":"evenodd",d:E},S=o.opacity,T="rgba(0,0,0,0)",n=o.line.color||P.contrast(c._fullLayout.plot_bgcolor),C=o.line.width,p=o.line.dash;C||(C=5,p="solid");var F=s(c)&&c._fullLayout._activeSelectionIndex===w;F&&(T=c._fullLayout.activeselection.fillcolor,S=c._fullLayout.activeselection.opacity);for(var D=[],N=1;N>=0;N--){var k=b.append("path").attr(x).style("opacity",N?.1:S).call(P.stroke,n).call(P.fill,T).call(L.dashLine,N?"solid":p,N?4+C:C);if(h(k,c,o),F){var z=l(c.layout,"selections",o);k.style({cursor:"move"});var B={element:k.node(),plotinfo:v,gd:c,editHelpers:z,isActiveSelection:!0},O=A(E,c);y(O,k,B)}else k.style("pointer-events",N?"all":"none");D[N]=k}var U=D[0];D[1].node().addEventListener("click",function(){return function f(c,w){if(s(c)){var o=+w.node().getAttribute("data-index");if(o>=0){if(o===c._fullLayout._activeSelectionIndex)return void g(c);c._fullLayout._activeSelectionIndex=o,c._fullLayout._deactivateSelection=g,e(c)}}}(c,U)})}(c._fullLayout._selectionLayer)}function h(c,w,d){L.setClipUrl(c,"clip"+w._fullLayout._uid+(d.xref+d.yref),w)}function g(c){s(c)&&c._fullLayout._activeSelectionIndex>=0&&(i(c),delete c._fullLayout._activeSelectionIndex,e(c))}tt.exports={draw:e,drawOne:a,activateLastSelection:function u(c){s(c)&&(c._fullLayout._activeSelectionIndex=c._fullLayout.selections.length-1,c._fullLayout._deactivateSelection=g,e(c))}}},34200:function(tt,W,t){"use strict";var A=t(98192).u,y=t(92880).extendFlat;tt.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:y({},A,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(tt){"use strict";tt.exports=function(t,A,y){y("newselection.mode"),y("newselection.line.width")&&(y("newselection.line.color"),y("newselection.line.dash")),y("activeselection.fillcolor"),y("activeselection.opacity")}},5968:function(tt,W,t){"use strict";var y=t(72760).selectMode,P=t(1936).clearOutline,L=t(9856),l=L.readPaths,m=L.writePaths,r=L.fixDatesForPaths;tt.exports=function(s,a){if(s.length){var h=s[0][0];if(h){var f=h.getAttribute("d"),u=a.gd,g=u._fullLayout.newselection,c=a.plotinfo,w=c.xaxis,d=c.yaxis,o=a.isActiveSelection,v=a.dragmode,M=(u.layout||{}).selections||[];if(!y(v)&&void 0!==o){var b=u._fullLayout._activeSelectionIndex;if(b<M.length)switch(u._fullLayout.selections[b].type){case"rect":v="select";break;case"path":v="lasso"}}var S,E=l(f,u,c,o),x={xref:w._id,yref:d._id,opacity:g.opacity,line:{color:g.line.color,width:g.line.width,dash:g.line.dash}};1===E.length&&(S=E[0]),S&&5===S.length&&"select"===v?(x.type="rect",x.x0=S[0][1],x.y0=S[0][2],x.x1=S[2][1],x.y1=S[2][2]):(x.type="path",w&&d&&r(E,w,d),x.path=m(E),S=null),P(u);for(var T=a.editHelpers,n=(T||{}).modifyItem,C=[],p=0;p<M.length;p++){var F=u._fullLayout.selections[p];if(F){if(C[p]=F._input,void 0!==o&&p===u._fullLayout._activeSelectionIndex){var D=x;switch(F.type){case"rect":n("x0",D.x0),n("x1",D.x1),n("y0",D.y0),n("y1",D.y1);break;case"path":n("path",D.path)}}}else C[p]=F}return void 0===o?(C.push(x),C):T?T.getUpdateObj():{}}}}},5840:function(tt,W,t){"use strict";var A=t(3400).strTranslate;function y(l,m){switch(l.type){case"log":return l.p2d(m);case"date":return l.p2r(m,0,l.calendar);default:return l.p2r(m)}}tt.exports={p2r:y,r2p:function i(l,m){switch(l.type){case"log":return l.d2p(m);case"date":return l.r2p(m,0,l.calendar);default:return l.r2p(m)}},axValue:function P(l){var m="y"===l._id.charAt(0)?1:0;return function(r){return y(l,r[m])}},getTransform:function L(l){return A(l.xaxis._offset,l.yaxis._offset)}}},22676:function(tt,W,t){"use strict";var A=t(23640),y=t(43156);tt.exports={moduleType:"component",name:"selections",layoutAttributes:t(93956),supplyLayoutDefaults:t(74224),supplyDrawNewSelectionDefaults:t(81004),includeBasePlot:t(36632)("selections"),draw:A.draw,drawOne:A.drawOne,reselect:y.reselect,prepSelect:y.prepSelect,clearOutline:y.clearOutline,clearSelectionsCache:y.clearSelectionsCache,selectOnClick:y.selectOnClick}},43156:function(tt,W,t){"use strict";var A=t(14756),y=t(61456),i=t(24040),P=t(43616).dashStyle,L=t(76308),l=t(93024),m=t(10624).makeEventData,r=t(72760),e=r.freeMode,s=r.rectMode,a=r.drawMode,h=r.openMode,f=r.selectMode,u=t(65152),g=t(85448),c=t(55496),w=t(1936).clearOutline,d=t(9856),o=d.handleEllipse,v=d.readPaths,M=t(93940).newShapes,b=t(5968),E=t(23640).activateLastSelection,x=t(3400),S=x.sorterAsc,T=t(92065),n=t(91200),C=t(79811).getFromId,p=t(73696),F=t(39172).redrawReglTraces,D=t(83280),N=D.MINSELECT,k=T.filter,z=T.tester,B=t(5840),O=B.p2r,U=B.axValue,G=B.getTransform;function J(Ht){return void 0!==Ht.subplot}function at(Ht,Bt,zt,kt,wt,ft,pt){var We,ye,Te,Ge,ce,Ue,Ye,gr,tr,Dt=Bt._hoverdata,ee=Bt._fullLayout.clickmode.indexOf("event")>-1,Ne=[];if(function st(Ht){return Ht&&Array.isArray(Ht)&&!0!==Ht[0].hoverOnBox}(Dt)){H(Ht,Bt,ft);var he=function dt(Ht,Bt){var ft,pt,zt=Ht[0],kt=-1,wt=[];for(pt=0;pt<Bt.length;pt++)if(zt.fullData._expandedIndex===(ft=Bt[pt]).cd[0].trace._expandedIndex){if(!0===zt.hoverOnBox)break;void 0!==zt.pointNumber?kt=zt.pointNumber:void 0!==zt.binNumber&&(kt=zt.binNumber,wt=zt.pointNumbers);break}return{pointNumber:kt,pointNumbers:wt,searchInfo:ft}}(Dt,We=nt(Bt,zt,kt,wt));if(he.pointNumbers.length>0?function yt(Ht,Bt){var kt,wt,pt,zt=[];for(pt=0;pt<Ht.length;pt++)(kt=Ht[pt]).cd[0].trace.selectedpoints&&kt.cd[0].trace.selectedpoints.length>0&&zt.push(kt);if(1===zt.length&&zt[0]===Bt.searchInfo&&(wt=Bt.searchInfo.cd[0].trace).selectedpoints.length===Bt.pointNumbers.length){for(pt=0;pt<Bt.pointNumbers.length;pt++)if(wt.selectedpoints.indexOf(Bt.pointNumbers[pt])<0)return!1;return!0}return!1}(We,he):function St(Ht){var kt,wt,Bt=0;for(wt=0;wt<Ht.length;wt++)if((kt=Ht[wt].cd[0].trace).selectedpoints&&(kt.selectedpoints.length>1||(Bt+=kt.selectedpoints.length)>1))return!1;return 1===Bt}(We)&&(Ue=xt(he))){for(pt&&pt.remove(),tr=0;tr<We.length;tr++)(ye=We[tr])._module.selectPoints(ye,!1);Et(Bt,We),Q(ft),ee&&Xt(Bt)}else{for(Ye=Ht.shiftKey&&(void 0!==Ue?Ue:xt(he)),Te=function lt(Ht,Bt,zt){return{pointNumber:Ht,searchInfo:Bt,subtract:!!zt}}(he.pointNumber,he.searchInfo,Ye),Ge=rt(ft.selectionDefs.concat([Te])),tr=0;tr<We.length;tr++)if(ce=Mt(We[tr]._module.selectPoints(We[tr],Ge),We[tr]),Ne.length)for(var be=0;be<ce.length;be++)Ne.push(ce[be]);else Ne=ce;if(Et(Bt,We,gr={points:Ne}),Te&&ft&&ft.selectionDefs.push(Te),pt){var Se=ft.mergedPolygons,Me=h(ft.dragmode);c(Nt(Se,Me),pt,ft)}ee&&Wt(Bt,gr)}}}function K(Ht){return"pointNumber"in Ht&&"searchInfo"in Ht}function j(Ht){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Bt,zt,kt,wt){return wt.cd[0].trace._expandedIndex===Ht.searchInfo.cd[0].trace._expandedIndex&&kt===Ht.pointNumber},isRect:!1,degenerate:!1,subtract:!!Ht.subtract}}function rt(Ht){if(Ht.length){for(var Bt=[],zt=K(Ht[0])?0:Ht[0][0][0],kt=zt,wt=K(Ht[0])?0:Ht[0][0][1],ft=wt,pt=0;pt<Ht.length;pt++)if(K(Ht[pt]))Bt.push(j(Ht[pt]));else{var Dt=z(Ht[pt]);Dt.subtract=!!Ht[pt].subtract,Bt.push(Dt),zt=Math.min(zt,Dt.xmin),kt=Math.max(kt,Dt.xmax),wt=Math.min(wt,Dt.ymin),ft=Math.max(ft,Dt.ymax)}return{xmin:zt,xmax:kt,ymin:wt,ymax:ft,pts:[],contains:function Qt(te,ee,Ne,We){for(var ye=!1,Te=0;Te<Bt.length;Te++)Bt[Te].contains(te,ee,Ne,We)&&(ye=!Bt[Te].subtract);return ye},isRect:!1,degenerate:!1}}}function H(Ht,Bt,zt){var kt=Bt._fullLayout,wt=zt.plotinfo,ft=zt.dragmode,pt=kt._lastSelectedSubplot&&kt._lastSelectedSubplot===wt.id,Dt=(Ht.shiftKey||Ht.altKey)&&!(a(ft)&&h(ft));pt&&Dt&&wt.selection&&wt.selection.selectionDefs&&!zt.selectionDefs?(zt.selectionDefs=wt.selection.selectionDefs,zt.mergedPolygons=wt.selection.mergedPolygons):(!Dt||!wt.selection)&&Q(zt),pt||(w(Bt),kt._lastSelectedSubplot=wt.id)}function Q(Ht,Bt){var zt=Ht.dragmode,kt=Ht.plotinfo,wt=Ht.gd;(function Z(Ht){return Ht._fullLayout._activeShapeIndex>=0})(wt)&&wt._fullLayout._deactivateShape(wt),function it(Ht){return Ht._fullLayout._activeSelectionIndex>=0}(wt)&&wt._fullLayout._deactivateSelection(wt);var pt=wt._fullLayout._zoomlayer,Dt=a(zt),Qt=f(zt);if(Dt||Qt){var ee,Ne,te=pt.selectAll(".select-outline-"+kt.id);te&&wt._fullLayout._outlining&&(Dt&&(ee=M(te,Ht)),ee&&i.call("_guiRelayout",wt,{shapes:ee}),Qt&&!J(Ht)&&(Ne=b(te,Ht)),Ne&&(wt._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",wt,{selections:Ne}).then(function(){Bt&&E(wt)})),wt._fullLayout._outlining=!1)}kt.selection={},kt.selection.selectionDefs=Ht.selectionDefs=[],kt.selection.mergedPolygons=Ht.mergedPolygons=[]}function Y(Ht){return Ht._id}function nt(Ht,Bt,zt,kt){if(!Ht.calcdata)return[];var Dt,Qt,te,wt=[],ft=Bt.map(Y),pt=zt.map(Y);for(te=0;te<Ht.calcdata.length;te++)if(!0===(Qt=(Dt=Ht.calcdata[te])[0].trace).visible&&Qt._module&&Qt._module.selectPoints)if(!J({subplot:kt})||Qt.subplot!==kt&&Qt.geo!==kt)if("splom"===Qt.type){if(Qt._xaxes[ft[0]]&&Qt._yaxes[pt[0]]){var ee=_(Qt._module,Dt,Bt[0],zt[0]);ee.scene=Ht._fullLayout._splomScenes[Qt.uid],wt.push(ee)}}else if("sankey"===Qt.type){var Ne=_(Qt._module,Dt,Bt[0],zt[0]);wt.push(Ne)}else{if(!(-1!==ft.indexOf(Qt.xaxis)||Qt._xA&&Qt._xA.overlaying)||!(-1!==pt.indexOf(Qt.yaxis)||Qt._yA&&Qt._yA.overlaying))continue;wt.push(_(Qt._module,Dt,C(Ht,Qt.xaxis),C(Ht,Qt.yaxis)))}else wt.push(_(Qt._module,Dt,Bt[0],zt[0]));return wt}function _(Ht,Bt,zt,kt){return{_module:Ht,cd:Bt,xaxis:zt,yaxis:kt}}function xt(Ht){var Bt=Ht.searchInfo.cd[0].trace,kt=Ht.pointNumbers;return!!Bt.selectedpoints&&Bt.selectedpoints.indexOf(kt.length>0?kt[0]:Ht.pointNumber)>-1}function Et(Ht,Bt,zt){var kt,pt;for(kt=0;kt<Bt.length;kt++){var wt=Bt[kt].cd[0].trace._fullInput,ft=Ht._fullLayout._tracePreGUI[wt.uid]||{};void 0===ft.selectedpoints&&(ft.selectedpoints=wt._input.selectedpoints||null)}if(zt){var Dt=zt.points||[];for(kt=0;kt<Bt.length;kt++)(pt=Bt[kt].cd[0].trace)._input.selectedpoints=pt._fullInput.selectedpoints=[],pt._fullInput!==pt&&(pt.selectedpoints=[]);for(var Qt=0;Qt<Dt.length;Qt++){var te=Dt[Qt],ee=te.data,Ne=te.fullData,We=te.pointIndex,ye=te.pointIndices;ye?([].push.apply(ee.selectedpoints,ye),pt._fullInput!==pt&&[].push.apply(Ne.selectedpoints,ye)):(ee.selectedpoints.push(We),pt._fullInput!==pt&&Ne.selectedpoints.push(We))}}else for(kt=0;kt<Bt.length;kt++)delete(pt=Bt[kt].cd[0].trace).selectedpoints,delete pt._input.selectedpoints,pt._fullInput!==pt&&delete pt._fullInput.selectedpoints;!function Tt(Ht,Bt){for(var zt=!1,kt=0;kt<Bt.length;kt++){var wt=Bt[kt],ft=wt.cd;i.traceIs(ft[0].trace,"regl")&&(zt=!0);var pt=wt._module,Dt=pt.styleOnSelect||pt.style;Dt&&(Dt(Ht,ft,ft[0].node3),ft[0].nodeRangePlot3&&Dt(Ht,ft,ft[0].nodeRangePlot3))}zt&&(p(Ht),F(Ht))}(Ht,Bt)}function gt(Ht,Bt,zt){for(var ft=(zt?A.difference:A.union)({regions:Ht},{regions:[Bt]}).regions.reverse(),pt=0;pt<ft.length;pt++){var Dt=ft[pt];Dt.subtract=$t(Dt,ft.slice(0,pt))}return ft}function Mt(Ht,Bt){if(Array.isArray(Ht))for(var zt=Bt.cd,kt=Bt.cd[0].trace,wt=0;wt<Ht.length;wt++)Ht[wt]=m(Ht[wt],kt,zt);return Ht}function Nt(Ht,Bt){for(var zt=[],kt=0;kt<Ht.length;kt++){zt[kt]=[];for(var wt=0;wt<Ht[kt].length;wt++){zt[kt][wt]=[],zt[kt][wt][0]=wt?"L":"M";for(var ft=0;ft<Ht[kt][wt].length;ft++)zt[kt][wt].push(Ht[kt][wt][ft])}Bt||zt[kt].push(["Z",zt[kt][0][1],zt[kt][0][2]])}return zt}function Gt(Ht,Bt){for(var kt,ft,zt=[],wt=[],pt=0;pt<Bt.length;pt++){var Dt=Bt[pt];ft=Dt._module.selectPoints(Dt,Ht),wt.push(ft),kt=Mt(ft,Dt),zt=zt.concat(kt)}return zt}function Pt(Ht,Bt,zt,kt,wt){var pt,Dt,Qt,ft=!!kt;wt&&(pt=wt.plotinfo,Dt=wt.xaxes[0]._id,Qt=wt.yaxes[0]._id);var te=[],ee=[],Ne=Rt(Ht),We=Ht._fullLayout;if(pt){var ye=We._zoomlayer,Te=We.dragmode,Ge=a(Te),hr=f(Te);if(Ge||hr){var ce=C(Ht,Dt,"x"),Ue=C(Ht,Qt,"y");if(ce&&Ue){var Ye=ye.selectAll(".select-outline-"+pt.id);if(Ye&&Ht._fullLayout._outlining&&Ye.length){for(var tr=Ye[0][0].getAttribute("d"),he=v(tr,Ht,pt),ne=[],pe=0;pe<he.length;pe++){for(var be=he[pe],Se=[],Me=0;Me<be.length;Me++)Se.push([oe(ce,be[Me][1]),oe(Ue,be[Me][2])]);Se.xref=Dt,Se.yref=Qt,Se.subtract=$t(Se,ne),ne.push(Se)}Ne=Ne.concat(ne)}}}}var Ie=Dt&&Qt?[Dt+Qt]:We._subplots.cartesian;!function Vt(Ht){var Bt=Ht.calcdata;if(Bt)for(var zt=0;zt<Bt.length;zt++){var ft=Ht._fullLayout._splomScenes;if(ft){var pt=ft[Bt[zt][0].trace.uid];pt&&(pt.selectBatch=[])}}}(Ht);for(var Fe={},Ze=0;Ze<Ie.length;Ze++){var nr=Ie[Ze],ir=nr.indexOf("y"),lr=nr.slice(0,ir),Ot=nr.slice(ir),Ut=Dt&&Qt?zt:void 0;if(Ut=It(Ne,lr,Ot,Ut)){var Ce=kt;if(!ft){var Le=C(Ht,lr,"x"),Xe=C(Ht,Ot,"y");Ce=nt(Ht,[Le],[Xe],nr);for(var _e=0;_e<Ce.length;_e++){var fr=Ce[_e],$e=fr.cd[0],Re=$e.trace;if("scattergl"===fr._module.name&&!$e.t.xpx){var or=Re.x,dr=Re.y,pr=Re._length;$e.t.xpx=[],$e.t.ypx=[];for(var Cr=0;Cr<pr;Cr++)$e.t.xpx[Cr]=Le.c2p(or[Cr]),$e.t.ypx[Cr]=Xe.c2p(dr[Cr])}"splom"===fr._module.name&&(Fe[Re.uid]||(Fe[Re.uid]=!0))}}var $r=Gt(Ut,Ce);te=te.concat($r),ee=ee.concat(Ce)}}var Ar={points:te};Et(Ht,ee,Ar);var nn=We.clickmode.indexOf("event")>-1&&Bt;if(!pt&&Bt){var Ur=Rt(Ht,!0);if(Ur.length){var Tn=Ur[0].xref,bn=Ur[0].yref;if(Tn&&bn){var ur=se(Ur);de([C(Ht,Tn,"x"),C(Ht,bn,"y")])(Ar,ur)}}Ht._fullLayout._noEmitSelectedAtStart?Ht._fullLayout._noEmitSelectedAtStart=!1:nn&&Wt(Ht,Ar),We._reselect=!1}if(!pt&&We._deselect){var Br=We._deselect;(function re(Ht,Bt,zt){for(var kt=0;kt<zt.length;kt++){var wt=zt[kt];if(wt.xaxis&&wt.xaxis._id===Ht&&wt.yaxis&&wt.yaxis._id===Bt)return!0}return!1})(Dt=Br.xref,Qt=Br.yref,ee)||le(Ht,Dt,Qt,kt),nn&&(Ar.points.length?Wt(Ht,Ar):Xt(Ht)),We._deselect=!1}return{eventData:Ar,selectionTesters:zt}}function le(Ht,Bt,zt,kt){kt=nt(Ht,[C(Ht,Bt,"x")],[C(Ht,zt,"y")],Bt+zt);for(var wt=0;wt<kt.length;wt++){var ft=kt[wt];ft._module.selectPoints(ft,!1)}Et(Ht,kt)}function It(Ht,Bt,zt,kt){for(var wt,ft=0;ft<Ht.length;ft++){var pt=Ht[ft];Bt===pt.xref&&zt===pt.yref&&(wt?kt=rt(wt=gt(wt,pt,!!pt.subtract)):(wt=[pt],kt=z(pt)))}return kt}function Rt(Ht,Bt){for(var zt=[],kt=Ht._fullLayout,wt=kt.selections,ft=wt.length,pt=0;pt<ft;pt++)if(!Bt||pt===kt._activeSelectionIndex){var Dt=wt[pt];if(Dt){var We,ye,Te,Ge,hr,Qt=Dt.xref,te=Dt.yref,ee=C(Ht,Qt,"x"),Ne=C(Ht,te,"y");if("rect"===Dt.type){hr=[];var ce=oe(ee,Dt.x0),Ue=oe(ee,Dt.x1),Ye=oe(Ne,Dt.y0),gr=oe(Ne,Dt.y1);hr=[[ce,Ye],[ce,gr],[Ue,gr],[Ue,Ye]],We=Math.min(ce,Ue),ye=Math.max(ce,Ue),Te=Math.min(Ye,gr),Ge=Math.max(Ye,gr),hr.xmin=We,hr.xmax=ye,hr.ymin=Te,hr.ymax=Ge,hr.xref=Qt,hr.yref=te,hr.subtract=!1,hr.isRect=!0,zt.push(hr)}else if("path"===Dt.type)for(var tr=Dt.path.split("Z"),he=[],ne=0;ne<tr.length;ne++){var pe=tr[ne];if(pe){var be=u.extractPathCoords(pe+="Z",g.paramIsX,"raw"),Se=u.extractPathCoords(pe,g.paramIsY,"raw");We=1/0,ye=-1/0,Te=1/0,Ge=-1/0,hr=[];for(var Me=0;Me<be.length;Me++){var Ie=oe(ee,be[Me]),Fe=oe(Ne,Se[Me]);hr.push([Ie,Fe]),We=Math.min(Ie,We),ye=Math.max(Ie,ye),Te=Math.min(Fe,Te),Ge=Math.max(Fe,Ge)}hr.xmin=We,hr.xmax=ye,hr.ymin=Te,hr.ymax=Ge,hr.xref=Qt,hr.yref=te,hr.subtract=$t(hr,he),he.push(hr),zt.push(hr)}}}}return zt}function $t(Ht,Bt){for(var zt=!1,kt=0;kt<Bt.length;kt++)for(var wt=Bt[kt],ft=0;ft<Ht.length;ft++)if(y(Ht[ft],wt)){zt=!zt;break}return zt}function oe(Ht,Bt){return"date"===Ht.type&&(Bt=Bt.replace("_"," ")),"log"===Ht.type?Ht.c2p(Bt):Ht.r2p(Bt,null,Ht.calendar)}function se(Ht){for(var Bt=Ht.length,zt=[],kt=0;kt<Bt;kt++){var wt=Ht[kt];zt=(zt=zt.concat(wt)).concat([wt[0]])}return function ve(Ht){return Ht.isRect=5===Ht.length&&Ht[0][0]===Ht[4][0]&&Ht[0][1]===Ht[4][1]&&Ht[0][0]===Ht[1][0]&&Ht[2][0]===Ht[3][0]&&Ht[0][1]===Ht[3][1]&&Ht[1][1]===Ht[2][1]||Ht[0][1]===Ht[1][1]&&Ht[2][1]===Ht[3][1]&&Ht[0][0]===Ht[3][0]&&Ht[1][0]===Ht[2][0],Ht.isRect&&(Ht.xmin=Math.min(Ht[0][0],Ht[2][0]),Ht.xmax=Math.max(Ht[0][0],Ht[2][0]),Ht.ymin=Math.min(Ht[0][1],Ht[2][1]),Ht.ymax=Math.max(Ht[0][1],Ht[2][1])),Ht}(zt)}function de(Ht){return function(Bt,zt){for(var kt,wt,ft=0;ft<Ht.length;ft++){var pt=Ht[ft],Dt=pt._id,Qt=Dt.charAt(0);if(zt.isRect){kt||(kt={});var te=zt[Qt+"min"],ee=zt[Qt+"max"];void 0!==te&&void 0!==ee&&(kt[Dt]=[O(pt,te),O(pt,ee)].sort(S))}else wt||(wt={}),wt[Dt]=zt.map(U(pt))}kt&&(Bt.range=kt),wt&&(Bt.lassoPoints=wt)}}function Wt(Ht,Bt){Bt&&(Bt.selections=(Ht.layout||{}).selections||[]),Ht.emit("plotly_selected",Bt)}function Xt(Ht){Ht.emit("plotly_deselect",null)}tt.exports={reselect:Pt,prepSelect:function et(Ht,Bt,zt,kt,wt){var ft=!J(kt),pt=e(wt),Dt=s(wt),Qt=h(wt),te=a(wt),ee=f(wt),We="drawcircle"===wt,ye="drawline"===wt||We,Te=kt.gd,Ge=Te._fullLayout,hr=ee&&"immediate"===Ge.newselection.mode&&ft,ce=Ge._zoomlayer,Ue=kt.element.getBoundingClientRect(),Ye=kt.plotinfo,gr=G(Ye),tr=Bt-Ue.left,he=zt-Ue.top;Ge._calcInverseTransform(Te);var Ot,Ut,Ce,Le,Xe,_e,fr,ne=x.apply3DTransform(Ge._invTransform)(tr,he),pe=Ge._invScaleX,be=Ge._invScaleY,Se=tr=ne[0],Me=he=ne[1],Ie="M"+tr+","+he,Fe=kt.xaxes[0],Ze=kt.yaxes[0],nr=Fe._length,ir=Ze._length,lr=Ht.altKey&&!(a(wt)&&Qt);H(Ht,Te,kt),pt&&(Ot=k([[tr,he]],D.BENDPX));var $e=ce.selectAll("path.select-outline-"+Ye.id).data([1]),Re=te?Ge.newshape:Ge.newselection;te&&(kt.hasText=Re.label.text||Re.label.texttemplate);var or=te&&!Qt?Re.fillcolor:"rgba(0,0,0,0)",dr=Re.line.color||(ft?L.contrast(Te._fullLayout.plot_bgcolor):"#7f7f7f");$e.enter().append("path").attr("class","select-outline select-outline-"+Ye.id).style({opacity:te?Re.opacity/2:1,"stroke-dasharray":P(Re.line.dash,Re.line.width),"stroke-width":Re.line.width+"px","shape-rendering":"crispEdges"}).call(L.stroke,dr).call(L.fill,or).attr("fill-rule","evenodd").classed("cursor-move",!!te).attr("transform",gr).attr("d",Ie+"Z");var pr=ce.append("path").attr("class","zoombox-corners").style({fill:L.background,stroke:L.defaultLine,"stroke-width":1}).attr("transform",gr).attr("d","M0,0Z");if(te&&kt.hasText){var Cr=ce.select(".label-temp");Cr.empty()&&(Cr=ce.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var $r=Ge._uid+D.SELECTID,Ar=[],Gr=nt(Te,kt.xaxes,kt.yaxes,kt.subplot);hr&&!Ht.shiftKey&&(kt._clearSubplotSelections=function(){if(ft){var Ur=Fe._id,Tn=Ze._id;le(Te,Ur,Tn,Gr);for(var bn=(Te.layout||{}).selections||[],ur=[],Mr=!1,Br=0;Br<bn.length;Br++){var Or=Ge.selections[Br];Or.xref!==Ur||Or.yref!==Tn?ur.push(bn[Br]):Mr=!0}Mr&&(Te._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Te,{selections:ur}))}});var nn=function jt(Ht){return Ht.plotinfo.fillRangeItems||de(Ht.xaxes.concat(Ht.yaxes))}(kt);kt.moveFn=function(Ur,Tn){kt._clearSubplotSelections&&(kt._clearSubplotSelections(),kt._clearSubplotSelections=void 0),Se=Math.max(0,Math.min(nr,pe*Ur+tr)),Me=Math.max(0,Math.min(ir,be*Tn+he));var bn=Math.abs(Se-tr),ur=Math.abs(Me-he);if(Dt){var Mr,Br,Or;if(ee){var sn=Ge.selectdirection;switch(Mr="any"===sn?ur<Math.min(.6*bn,N)?"h":bn<Math.min(.6*ur,N)?"v":"d":sn){case"h":Br=We?ir/2:0,Or=ir;break;case"v":Br=We?nr/2:0,Or=nr}}if(te)switch(Ge.newshape.drawdirection){case"vertical":Mr="h",Br=We?ir/2:0,Or=ir;break;case"horizontal":Mr="v",Br=We?nr/2:0,Or=nr;break;case"ortho":bn<ur?(Mr="h",Br=he,Or=Me):(Mr="v",Br=tr,Or=Se);break;default:Mr="d"}"h"===Mr?((Le=ye?o(We,[Se,Br],[Se,Or]):[[tr,Br],[tr,Or],[Se,Or],[Se,Br]]).xmin=ye?Se:Math.min(tr,Se),Le.xmax=ye?Se:Math.max(tr,Se),Le.ymin=Math.min(Br,Or),Le.ymax=Math.max(Br,Or),pr.attr("d","M"+Le.xmin+","+(he-N)+"h-4v"+2*N+"h4ZM"+(Le.xmax-1)+","+(he-N)+"h4v"+2*N+"h-4Z")):"v"===Mr?((Le=ye?o(We,[Br,Me],[Or,Me]):[[Br,he],[Br,Me],[Or,Me],[Or,he]]).xmin=Math.min(Br,Or),Le.xmax=Math.max(Br,Or),Le.ymin=ye?Me:Math.min(he,Me),Le.ymax=ye?Me:Math.max(he,Me),pr.attr("d","M"+(tr-N)+","+Le.ymin+"v-4h"+2*N+"v4ZM"+(tr-N)+","+(Le.ymax-1)+"v4h"+2*N+"v-4Z")):"d"===Mr&&((Le=ye?o(We,[tr,he],[Se,Me]):[[tr,he],[tr,Me],[Se,Me],[Se,he]]).xmin=Math.min(tr,Se),Le.xmax=Math.max(tr,Se),Le.ymin=Math.min(he,Me),Le.ymax=Math.max(he,Me),pr.attr("d","M0,0Z"))}else pt&&(Ot.addPt([Se,Me]),Le=Ot.filtered);if(kt.selectionDefs&&kt.selectionDefs.length?(Ce=gt(kt.mergedPolygons,Le,lr),Le.subtract=lr,Ut=rt(kt.selectionDefs.concat([Le]))):(Ce=[Le],Ut=z(Le)),c(Nt(Ce,Qt),$e,kt),ee){var wn,pn=Pt(Te,!1),gn=pn.eventData?pn.eventData.points.slice():[];pn=Pt(Te,!1,Ut,Gr,kt),Ut=pn.selectionTesters,fr=pn.eventData,wn=Ot?Ot.filtered:se(Ce),n.throttle($r,D.SELECTDELAY,function(){for(var Rn=(Ar=Gt(Ut,Gr)).slice(),Kn=0;Kn<gn.length;Kn++){for(var _n=gn[Kn],ua=!1,qn=0;qn<Rn.length;qn++)if(Rn[qn].curveNumber===_n.curveNumber&&Rn[qn].pointNumber===_n.pointNumber){ua=!0;break}ua||Rn.push(_n)}Rn.length&&(fr||(fr={}),fr.points=Rn),nn(fr,wn),function Ct(Ht,Bt){Ht.emit("plotly_selecting",Bt)}(Te,fr)})}},kt.clickFn=function(Ur,Tn){if(pr.remove(),Te._fullLayout._activeShapeIndex>=0)Te._fullLayout._deactivateShape(Te);else if(!te){var bn=Ge.clickmode;n.done($r).then(function(){if(n.clear($r),2===Ur){for($e.remove(),Xe=0;Xe<Gr.length;Xe++)(_e=Gr[Xe])._module.selectPoints(_e,!1);if(Et(Te,Gr),Q(kt),Xt(Te),Gr.length){var ur=Gr[0].xaxis,Mr=Gr[0].yaxis;if(ur&&Mr){for(var Br=[],Or=Te._fullLayout.selections,sn=0;sn<Or.length;sn++){var pn=Or[sn];!pn||(pn.xref!==ur._id||pn.yref!==Mr._id)&&Br.push(pn)}Br.length<Or.length&&(Te._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Te,{selections:Br}))}}}else bn.indexOf("select")>-1&&at(Tn,Te,kt.xaxes,kt.yaxes,kt.subplot,kt,$e),"event"===bn&&Wt(Te,void 0);l.click(Te,Tn,Ye.id)}).catch(x.error)}},kt.doneFn=function(){pr.remove(),n.done($r).then(function(){n.clear($r),!hr&&Le&&kt.selectionDefs&&(Le.subtract=lr,kt.selectionDefs.push(Le),kt.mergedPolygons.length=0,[].push.apply(kt.mergedPolygons,Ce)),(hr||te)&&Q(kt,hr),kt.doneFnCompleted&&kt.doneFnCompleted(Ar),ee&&Wt(Te,fr)}).catch(x.error)}},clearOutline:w,clearSelectionsCache:Q,selectOnClick:at}},46056:function(tt,W,t){"use strict";var A=t(13916),y=t(25376),i=t(52904).line,P=t(98192).u,L=t(92880).extendFlat,l=t(31780).templatedArray,r=(t(36208),t(45464)),e=t(21776).ye,s=t(97728);tt.exports=l("shape",{visible:L({},r.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:L({},r.legend,{editType:"calc+arraydraw"}),legendgroup:L({},r.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:L({},r.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:y({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:L({},r.legendrank,{editType:"calc+arraydraw"}),legendwidth:L({},r.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:L({},A.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:L({},A.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:L({},i.color,{editType:"arraydraw"}),width:L({},i.width,{editType:"calc+arraydraw"}),dash:L({},P,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:e({},{keys:Object.keys(s)}),font:y({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(tt,W,t){"use strict";var A=t(3400),y=t(54460),i=t(85448),P=t(65152);function l(e){return m(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function m(e,s,a,h,f,u){var g=e/2,c=u;if("pixel"===s){var w=f?P.extractPathCoords(f,u?i.paramIsY:i.paramIsX):[a,h],d=A.aggNums(Math.max,null,w),o=A.aggNums(Math.min,null,w),v=o<0?Math.abs(o)+g:g,M=d>0?d+g:g;return{ppad:g,ppadplus:c?v:M,ppadminus:c?M:v}}return{ppad:g}}function r(e,s,a,h,f){var u="category"===e.type||"multicategory"===e.type?e.r2c:e.d2c;if(void 0!==s)return[u(s),u(a)];if(h){var d,v,M,b,g=1/0,c=-1/0,w=h.match(i.segmentRE);for("date"===e.type&&(u=P.decodeDate(u)),d=0;d<w.length;d++)void 0!==(v=f[w[d].charAt(0)].drawn)&&(M=w[d].substr(1).match(i.paramRE))&&!(M.length<v)&&((b=u(M[v]))<g&&(g=b),b>c&&(c=b));if(c>=g)return[g,c]}}tt.exports=function(s){var e,h=A.filterVisible(s._fullLayout.shapes);if(h.length&&s._fullData.length)for(var f=0;f<h.length;f++){var u=h[f];u._extremes={};var g,c,w=y.getRefType(u.xref),d=y.getRefType(u.yref);if("paper"!==u.xref&&"domain"!==w){var o="pixel"===u.xsizemode?u.xanchor:u.x0,v="pixel"===u.xsizemode?u.xanchor:u.x1;(c=r(g=y.getFromId(s,u.xref),o,v,u.path,i.paramIsX))&&(u._extremes[g._id]=y.findExtremes(g,c,m((e=u).line.width,e.xsizemode,e.x0,e.x1,e.path,!1)))}if("paper"!==u.yref&&"domain"!==d){var M="pixel"===u.ysizemode?u.yanchor:u.y0,b="pixel"===u.ysizemode?u.yanchor:u.y1;(c=r(g=y.getFromId(s,u.yref),M,b,u.path,i.paramIsY))&&(u._extremes[g._id]=y.findExtremes(g,c,l(u)))}}}},85448:function(tt){"use strict";tt.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(tt,W,t){"use strict";var A=t(3400),y=t(54460),i=t(51272),P=t(46056),L=t(65152);function m(r,e,s){function a(K,j){return A.coerce(r,e,P,K,j)}if(e._isShape=!0,a("visible")){a("showlegend")&&(a("legend"),a("legendwidth"),a("legendgroup"),a("legendgrouptitle.text"),A.coerceFont(a,"legendgrouptitle.font"),a("legendrank"));var u=a("path"),c=a("type",u?"path":"rect"),w="path"!==c;w&&delete e.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule"),a("line.width")&&(a("line.color"),a("line.dash"));for(var o=a("xsizemode"),v=a("ysizemode"),M=["x","y"],b=0;b<2;b++){var n,C,p,E=M[b],x=E+"anchor",S="x"===E?o:v,T={_fullLayout:s},F=y.coerceRef(r,e,T,E,void 0,"paper");if("range"===y.getRefType(F)?((n=y.getFromId(T,F))._shapeIndices.push(e._index),p=L.rangeToShapePosition(n),C=L.shapePositionToRange(n)):C=p=A.identity,w){var z=E+"0",B=E+"1",O=r[z],U=r[B];r[z]=C(r[z],!0),r[B]=C(r[B],!0),"pixel"===S?(a(z,0),a(B,10)):(y.coercePosition(e,T,a,F,z,.25),y.coercePosition(e,T,a,F,B,.75)),e[z]=p(e[z]),e[B]=p(e[B]),r[z]=O,r[B]=U}if("pixel"===S){var G=r[x];r[x]=C(r[x],!0),y.coercePosition(e,T,a,F,x,.25),e[x]=p(e[x]),r[x]=G}}w&&A.noneOrAll(r,e,["x0","x1","y0","y1"]);var et,at,J="line"===c;if(w&&(et=a("label.texttemplate")),et||(at=a("label.text")),at||et){a("label.textangle");var lt=a("label.textposition",J?"middle":"middle center");a("label.xanchor"),a("label.yanchor",function l(r,e){return r?"bottom":-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle"}(J,lt)),a("label.padding"),A.coerceFont(a,"label.font",s.font)}}}tt.exports=function(e,s){i(e,s,{name:"shapes",handleItemDefaults:m})}},60728:function(tt,W,t){"use strict";var A=t(3400),y=t(54460),i=t(72736),P=t(43616),L=t(9856).readPaths,l=t(65152),m=l.getPathString,r=t(97728),e=t(84284).FROM_TL;tt.exports=function(f,u,g,c){if(c.selectAll(".shape-label").remove(),g.label.text||g.label.texttemplate){var w;if(g.label.texttemplate){var d={};if("path"!==g.type){var o=y.getFromId(f,g.xref),v=y.getFromId(f,g.yref);for(var M in r){var b=r[M](g,o,v);void 0!==b&&(d[M]=b)}}w=A.texttemplateStringForShapes(g.label.texttemplate,{},f._fullLayout._d3locale,d)}else w=g.label.text;var C,p,F,D,E={"data-index":u},x=g.label.font,n=c.append("g").attr(E).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(w);if(g.path){var N=m(f,g),k=L(N,f);C=1/0,F=1/0,p=-1/0,D=-1/0;for(var z=0;z<k.length;z++)for(var B=0;B<k[z].length;B++)for(var O=k[z][B],U=1;U<O.length;U+=2){var G=O[U],J=O[U+1];C=Math.min(C,G),p=Math.max(p,G),F=Math.min(F,J),D=Math.max(D,J)}}else{var et=y.getFromId(f,g.xref),at=y.getRefType(g.xref),lt=y.getFromId(f,g.yref),K=y.getRefType(g.yref),j=l.getDataToPixel(f,et,!1,at),rt=l.getDataToPixel(f,lt,!0,K);C=j(g.x0),p=j(g.x1),F=rt(g.y0),D=rt(g.y1)}var H=g.label.textangle;"auto"===H&&(H="line"===g.type?function s(h,f,u,g){var w;return w=Math.abs(u-h),-180/Math.PI*Math.atan2(u>=h?f-g:g-f,w)}(C,F,p,D):0),n.call(function(_){return _.call(P.font,x).attr({}),i.convertToTspans(_,f),_});var it=function a(h,f,u,g,c,w,d){var C,p,F,D,o=c.label.textposition,v=c.label.textangle,M=c.label.padding,b=c.type,E=Math.PI/180*w,x=Math.sin(E),S=Math.cos(E),T=c.label.xanchor,n=c.label.yanchor;if("line"===b){"start"===o?(C=h,p=f):"end"===o?(C=u,p=g):(C=(h+u)/2,p=(f+g)/2),"auto"===T&&(T="start"===o?"auto"===v?u>h?"left":u<h?"right":"center":u>h?"right":u<h?"left":"center":"end"===o?"auto"===v?u>h?"right":u<h?"left":"center":u>h?"left":u<h?"right":"center":"center");var k={bottom:-1,middle:0,top:1};if("auto"===v){var z=k[n];F=-M*x*z,D=M*S*z}else F=M*{left:1,center:0,right:-1}[T],D=M*k[n];C+=F,p+=D}else F=M+3,-1!==o.indexOf("right")?(C=Math.max(h,u)-F,"auto"===T&&(T="right")):-1!==o.indexOf("left")?(C=Math.min(h,u)+F,"auto"===T&&(T="left")):(C=(h+u)/2,"auto"===T&&(T="center")),p=-1!==o.indexOf("top")?Math.min(f,g):-1!==o.indexOf("bottom")?Math.max(f,g):(f+g)/2,D=M,"bottom"===n?p-=D:"top"===n&&(p+=D);var U=e[n],G=c.label.font.size,J=d.height;return{textx:C+(J*U-G)*x,texty:p+-(J*U-G)*S,xanchor:T}}(C,F,p,D,g,H,P.bBox(n.node())),Q=it.textx,Y=it.texty;n.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[it.xanchor],y:Y,x:Q,transform:"rotate("+H+","+Q+","+Y+")"}).call(i.positionText,Q,Y)}}},55496:function(tt,W,t){"use strict";var y=t(3400).strTranslate,i=t(86476),P=t(72760),L=P.drawMode,l=P.selectMode,m=t(24040),r=t(76308),e=t(7e3),s=e.i000,a=e.i090,h=e.i180,f=e.i270,g=t(1936).clearOutlineControllers,c=t(9856),w=c.pointsOnRectangle,d=c.pointsOnEllipse,o=c.writePaths,v=t(93940).newShapes,M=t(93940).createShapeObj,b=t(5968),E=t(60728);function S(n,C){var N,k,z,D=n.length;return z=n[N=(C+1)%D][2],(k=n[N][1])===n[C][1]&&z===n[C][2]&&(k=n[N=(C+2)%D][1],z=n[N][2]),[N,k,z]}tt.exports=function n(C,p,F,D){D||(D=0);var N=F.gd;function k(){n(C,p,F,D++),(d(C[0])||F.hasText)&&z({redrawing:!0})}function z(gt){var Mt={};void 0!==F.isActiveShape&&(F.isActiveShape=!1,Mt=v(p,F)),void 0!==F.isActiveSelection&&(F.isActiveSelection=!1,Mt=b(p,F),N._fullLayout._reselect=!0),Object.keys(Mt).length&&m.call((gt||{}).redrawing?"relayout":"_guiRelayout",N,Mt)}var et,at,lt,K,j,O=N._fullLayout._zoomlayer,U=F.dragmode,G=L(U),J=l(U);if((G||J)&&(N._fullLayout._outlining=!0),g(N),p.attr("d",o(C)),D||!F.isActiveShape&&!F.isActiveSelection||(j=function x(n,C){for(var p=0;p<C.length;p++){var F=C[p];n[p]=[];for(var D=0;D<F.length;D++){n[p][D]=[];for(var N=0;N<F[D].length;N++)n[p][D][N]=F[D][N]}}return n}([],C),function st(gt){et=[];for(var Mt=0;Mt<C.length;Mt++){var Nt=C[Mt],Gt=w(Nt),Pt=!Gt&&d(Nt);et[Mt]=[];for(var Vt=Nt.length,re=0;re<Vt;re++)if("Z"!==Nt[re][0]&&(!Pt||re===s||re===a||re===h||re===f)){var It,le=Gt&&F.isActiveSelection;le&&(It=S(Nt,re));var Rt=Nt[re][1],$t=Nt[re][2],oe=gt.append(le?"rect":"circle").attr("data-i",Mt).attr("data-j",re).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(le){var se=It[1]-Rt,ve=It[2]-$t,de=ve?5:Math.max(Math.min(25,Math.abs(se)-5),5),jt=se?5:Math.max(Math.min(25,Math.abs(ve)-5),5);oe.classed(ve?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",de).attr("height",jt).attr("x",Rt-de/2).attr("y",$t-jt/2).attr("transform",y(se/2,ve/2))}else oe.classed("cursor-grab",!0).attr("r",5).attr("cx",Rt).attr("cy",$t);et[Mt][re]={element:oe.node(),gd:N,prepFn:it,doneFn:Y,clickFn:_},i.init(et[Mt][re])}}}(O.append("g").attr("class","outline-controllers")),function Tt(){if(at=[],C.length){at[0]={element:p[0][0],gd:N,prepFn:yt,doneFn:St,clickFn:Et},i.init(at[0])}}()),G&&F.hasText){var H=O.select(".label-temp"),Z=M(p,F,F.dragmode);E(N,"label-temp",Z,H)}function it(gt){lt=+gt.srcElement.getAttribute("data-i"),K=+gt.srcElement.getAttribute("data-j"),et[lt][K].moveFn=Q}function Q(gt,Mt){if(C.length){var Nt=j[lt][K][1],Gt=j[lt][K][2],Pt=C[lt],Vt=Pt.length;if(w(Pt)){var re=gt,le=Mt;F.isActiveSelection&&(S(Pt,K)[1]===Pt[K][1]?le=0:re=0);for(var Rt=0;Rt<Vt;Rt++)if(Rt!==K){var $t=Pt[Rt];$t[1]===Pt[K][1]&&($t[1]=Nt+re),$t[2]===Pt[K][2]&&($t[2]=Gt+le)}if(Pt[K][1]=Nt+re,Pt[K][2]=Gt+le,!w(Pt))for(var oe=0;oe<Vt;oe++)for(var se=0;se<Pt[oe].length;se++)Pt[oe][se]=j[lt][oe][se]}else Pt[K][1]=Nt+gt,Pt[K][2]=Gt+Mt;k()}}function Y(){z()}function _(gt,Mt){if(2===gt){lt=+Mt.srcElement.getAttribute("data-i"),K=+Mt.srcElement.getAttribute("data-j");var Nt=C[lt];!w(Nt)&&!d(Nt)&&function nt(){if(C.length&&C[lt]&&C[lt].length){for(var gt=[],Mt=0;Mt<C[lt].length;Mt++)Mt!==K&&gt.push(C[lt][Mt]);gt.length>1&&(2!==gt.length||"Z"!==gt[1][0])&&(0===K&&(gt[0][0]="M"),C[lt]=gt,k(),z())}}()}}function xt(gt,Mt){(function dt(gt,Mt){if(C.length)for(var Nt=0;Nt<C.length;Nt++)for(var Gt=0;Gt<C[Nt].length;Gt++)for(var Pt=0;Pt+2<C[Nt][Gt].length;Pt+=2)C[Nt][Gt][Pt+1]=j[Nt][Gt][Pt+1]+gt,C[Nt][Gt][Pt+2]=j[Nt][Gt][Pt+2]+Mt})(gt,Mt),k()}function yt(gt){(lt=+gt.srcElement.getAttribute("data-i"))||(lt=0),at[lt].moveFn=xt}function St(){z()}function Et(gt){2===gt&&function T(n){if(l(n._fullLayout.dragmode)){g(n);var C=n._fullLayout._activeSelectionIndex,p=(n.layout||{}).selections||[];if(C<p.length){for(var F=[],D=0;D<p.length;D++)D!==C&&F.push(p[D]);delete n._fullLayout._activeSelectionIndex;var N=n._fullLayout.selections[C];n._fullLayout._deselect={xref:N.xref,yref:N.yref},m.call("_guiRelayout",n,{selections:F})}}}(N)}}},4016:function(tt,W,t){"use strict";var A=t(33428),y=t(24040),i=t(3400),P=t(54460),L=t(9856).readPaths,l=t(55496),m=t(60728),r=t(1936).clearOutlineControllers,e=t(76308),s=t(43616),a=t(31780).arrayEditor,h=t(86476),f=t(93972),u=t(85448),g=t(65152),c=g.getPathString;function w(n){var C=n._fullLayout;for(var p in C._shapeUpperLayer.selectAll("path").remove(),C._shapeLowerLayer.selectAll("path").remove(),C._shapeUpperLayer.selectAll("text").remove(),C._shapeLowerLayer.selectAll("text").remove(),C._plots){var F=C._plots[p].shapelayer;F&&(F.selectAll("path").remove(),F.selectAll("text").remove())}for(var D=0;D<C.shapes.length;D++)!0===C.shapes[D].visible&&v(n,D)}function d(n){return!!n._fullLayout._outlining}function o(n){return!n._context.edits.shapePosition}function v(n,C){n._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+C+'"]').remove();var p=g.makeShapesOptionsAndPlotinfo(n,C),F=p.options,D=p.plotinfo;F._input&&!0===F.visible&&function k(z){var B=c(n,F),O={"data-index":C,"fill-rule":F.fillrule,d:B},U=F.opacity,G=F.fillcolor,J=F.line.width?F.line.color:"rgba(0,0,0,0)",et=F.line.width,at=F.line.dash;!et&&!0===F.editable&&(et=5,at="solid");var lt="Z"!==B[B.length-1],K=o(n)&&F.editable&&n._fullLayout._activeShapeIndex===C;K&&(G=lt?"rgba(0,0,0,0)":n._fullLayout.activeshape.fillcolor,U=n._fullLayout.activeshape.opacity);var H,j=z.append("g").classed("shape-group",!0).attr({"data-index":C}),rt=j.append("path").attr(O).style("opacity",U).call(e.stroke,J).call(e.fill,G).call(s.dashLine,at,et);if(M(j,n,F),m(n,C,F,j),(K||n._context.edits.shapePosition)&&(H=a(n.layout,"shapes",F)),K){rt.style({cursor:"move"});var Z={element:rt.node(),plotinfo:D,gd:n,editHelpers:H,hasText:F.label.text||F.label.texttemplate,isActiveShape:!0},it=L(B,n);l(it,rt,Z)}else n._context.edits.shapePosition?function b(n,C,p,F,D,N){var et,at,lt,K,j,rt,H,Z,it,Q,Y,nt,_,st,dt,re,k=10,z=10,B="pixel"===p.xsizemode,O="pixel"===p.ysizemode,U="line"===p.type,G="path"===p.type,J=N.modifyItem,xt=A.select(C.node().parentNode),yt=P.getFromId(n,p.xref),St=P.getRefType(p.xref),Et=P.getFromId(n,p.yref),Tt=P.getRefType(p.yref),gt=g.getDataToPixel(n,yt,!1,St),Mt=g.getDataToPixel(n,Et,!0,Tt),Nt=g.getPixelToData(n,yt,!1,St),Gt=g.getPixelToData(n,Et,!0,Tt),Pt=le(),Vt={element:Pt.node(),gd:n,prepFn:$t,doneFn:oe,clickFn:se};function le(){return U?It():C}function It(){var Xt=10,Ht=Math.max(p.line.width,Xt),Bt=D.append("g").attr("data-index",F).attr("drag-helper",!0);Bt.append("path").attr("d",C.attr("d")).style({cursor:"move","stroke-width":Ht,"stroke-opacity":"0"});var zt={"fill-opacity":"0"},kt=Math.max(Ht/2,Xt);return Bt.append("circle").attr({"data-line-point":"start-point",cx:B?gt(p.xanchor)+p.x0:gt(p.x0),cy:O?Mt(p.yanchor)-p.y0:Mt(p.y0),r:kt}).style(zt).classed("cursor-grab",!0),Bt.append("circle").attr({"data-line-point":"end-point",cx:B?gt(p.xanchor)+p.x1:gt(p.x1),cy:O?Mt(p.yanchor)-p.y1:Mt(p.y1),r:kt}).style(zt).classed("cursor-grab",!0),Bt}function Rt(Xt){if(d(n))re=null;else if(U)re="path"===Xt.target.tagName?"move":"start-point"===Xt.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var Ht=Vt.element.getBoundingClientRect(),Bt=Ht.right-Ht.left,zt=Ht.bottom-Ht.top,ft=!G&&Bt>k&&zt>z&&!Xt.shiftKey?h.getCursor((Xt.clientX-Ht.left)/Bt,1-(Xt.clientY-Ht.top)/zt):"move";f(C,ft),re=ft.split("-")[0]}}function $t(Xt){d(n)||(B&&(j=gt(p.xanchor)),O&&(rt=Mt(p.yanchor)),"path"===p.type?dt=p.path:(et=B?p.x0:gt(p.x0),at=O?p.y0:Mt(p.y0),lt=B?p.x1:gt(p.x1),K=O?p.y1:Mt(p.y1)),et<lt?(it=et,_="x0",Q=lt,st="x1"):(it=lt,_="x1",Q=et,st="x0"),!O&&at<K||O&&at>K?(H=at,Y="y0",Z=K,nt="y1"):(H=K,Y="y1",Z=at,nt="y0"),Rt(Xt),jt(D,p),Wt(C,p,n),Vt.moveFn="move"===re?ve:de,Vt.altKey=Xt.altKey)}function oe(){d(n)||(f(C),Ct(D),M(C,n,p),y.call("_guiRelayout",n,N.getUpdateObj()))}function se(){d(n)||Ct(D)}function ve(Xt,Ht){if("path"===p.type){var Bt=function(wt){return wt},zt=Bt,kt=Bt;B?J("xanchor",p.xanchor=Nt(j+Xt)):(zt=function(ft){return Nt(gt(ft)+Xt)},yt&&"date"===yt.type&&(zt=g.encodeDate(zt))),O?J("yanchor",p.yanchor=Gt(rt+Ht)):(kt=function(ft){return Gt(Mt(ft)+Ht)},Et&&"date"===Et.type&&(kt=g.encodeDate(kt))),J("path",p.path=E(dt,zt,kt))}else B?J("xanchor",p.xanchor=Nt(j+Xt)):(J("x0",p.x0=Nt(et+Xt)),J("x1",p.x1=Nt(lt+Xt))),O?J("yanchor",p.yanchor=Gt(rt+Ht)):(J("y0",p.y0=Gt(at+Ht)),J("y1",p.y1=Gt(K+Ht)));C.attr("d",c(n,p)),jt(D,p),m(n,F,p,xt)}function de(Xt,Ht){if(G){var Bt=function(ce){return ce},zt=Bt,kt=Bt;B?J("xanchor",p.xanchor=Nt(j+Xt)):(zt=function(Ue){return Nt(gt(Ue)+Xt)},yt&&"date"===yt.type&&(zt=g.encodeDate(zt))),O?J("yanchor",p.yanchor=Gt(rt+Ht)):(kt=function(Ue){return Gt(Mt(Ue)+Ht)},Et&&"date"===Et.type&&(kt=g.encodeDate(kt))),J("path",p.path=E(dt,zt,kt))}else if(U){if("resize-over-start-point"===re){var wt=et+Xt,ft=O?at-Ht:at+Ht;J("x0",p.x0=B?wt:Nt(wt)),J("y0",p.y0=O?ft:Gt(ft))}else if("resize-over-end-point"===re){var pt=lt+Xt,Dt=O?K-Ht:K+Ht;J("x1",p.x1=B?pt:Nt(pt)),J("y1",p.y1=O?Dt:Gt(Dt))}}else{var Qt=function(ce){return-1!==re.indexOf(ce)},te=Qt("n"),ee=Qt("s"),Ne=Qt("w"),We=Qt("e"),ye=te?H+Ht:H,Te=ee?Z+Ht:Z,Ge=Ne?it+Xt:it,hr=We?Q+Xt:Q;O&&(te&&(ye=H-Ht),ee&&(Te=Z-Ht)),(!O&&Te-ye>z||O&&ye-Te>z)&&(J(Y,p[Y]=O?ye:Gt(ye)),J(nt,p[nt]=O?Te:Gt(Te))),hr-Ge>k&&(J(_,p[_]=B?Ge:Nt(Ge)),J(st,p[st]=B?hr:Nt(hr)))}C.attr("d",c(n,p)),jt(D,p),m(n,F,p,xt)}function jt(Xt,Ht){function Bt(){var zt="path"!==Ht.type,kt=Xt.selectAll(".visual-cue").data([0]),wt=1;kt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":wt}).classed("visual-cue",!0);var ft=gt(B?Ht.xanchor:i.midRange(zt?[Ht.x0,Ht.x1]:g.extractPathCoords(Ht.path,u.paramIsX))),pt=Mt(O?Ht.yanchor:i.midRange(zt?[Ht.y0,Ht.y1]:g.extractPathCoords(Ht.path,u.paramIsY)));ft=g.roundPositionForSharpStrokeRendering(ft,wt),pt=g.roundPositionForSharpStrokeRendering(pt,wt),kt.attr("d",B&&O?"M"+(ft-1-wt)+","+(pt-1-wt)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":B?"M"+(ft-1-wt)+","+(pt-9-wt)+"v18 h2 v-18 Z":"M"+(ft-9-wt)+","+(pt-1-wt)+"h18 v2 h-18 Z")}(B||O)&&Bt()}function Ct(Xt){Xt.selectAll(".visual-cue").remove()}function Wt(Xt,Ht,Bt){var zt=Ht.xref,kt=Ht.yref,wt=P.getFromId(Bt,zt),ft=P.getFromId(Bt,kt),pt="";"paper"!==zt&&!wt.autorange&&(pt+=zt),"paper"!==kt&&!ft.autorange&&(pt+=kt),s.setClipUrl(Xt,pt?"clip"+Bt._fullLayout._uid+pt:null,Bt)}h.init(Vt),Pt.node().onmousemove=Rt}(n,rt,F,C,z,H):!0===F.editable&&rt.style("pointer-events",lt||e.opacity(G)*U<=.5?"stroke":"all");rt.node().addEventListener("click",function(){return function x(n,C){if(o(n)){var F=+C.node().getAttribute("data-index");if(F>=0){if(F===n._fullLayout._activeShapeIndex)return void S(n);n._fullLayout._activeShapeIndex=F,n._fullLayout._deactivateShape=S,w(n)}}}(n,rt)})}("below"!==F.layer?n._fullLayout._shapeUpperLayer:"paper"===F.xref||"paper"===F.yref?n._fullLayout._shapeLowerLayer:D._hadPlotinfo?(D.mainplotinfo||D).shapelayer:n._fullLayout._shapeLowerLayer)}function M(n,C,p){var F=(p.xref+p.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");s.setClipUrl(n,F?"clip"+C._fullLayout._uid+F:null,C)}function E(n,C,p){return n.replace(u.segmentRE,function(F){var D=0,N=F.charAt(0),k=u.paramIsX[N],z=u.paramIsY[N],B=u.numParams[N];return N+F.substr(1).replace(u.paramRE,function(U){return D>=B||(k[D]?U=C(U):z[D]&&(U=p(U)),D++),U})})}function S(n){o(n)&&n._fullLayout._activeShapeIndex>=0&&(r(n),delete n._fullLayout._activeShapeIndex,w(n))}tt.exports={draw:w,drawOne:v,eraseActiveShape:function T(n){if(o(n)){r(n);var C=n._fullLayout._activeShapeIndex,p=(n.layout||{}).shapes||[];if(C<p.length){for(var F=[],D=0;D<p.length;D++)D!==C&&F.push(p[D]);return delete n._fullLayout._activeShapeIndex,y.call("_guiRelayout",n,{shapes:F})}}},drawLabel:m}},92872:function(tt,W,t){"use strict";var A=t(67824).overrideAll,y=t(45464),i=t(25376),P=t(98192).u,L=t(92880).extendFlat,l=t(21776).ye,m=t(97728);tt.exports=A({newshape:{visible:L({},y.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:L({},y.legend,{}),legendgroup:L({},y.legendgroup,{}),legendgrouptitle:{text:L({},y.legendgrouptitle.text,{}),font:i({})},legendrank:L({},y.legendrank,{}),legendwidth:L({},y.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:L({},P,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:L({},y.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:l({newshape:!0},{keys:Object.keys(m)}),font:i({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(tt){"use strict";tt.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(tt,W,t){"use strict";var A=t(76308),y=t(3400);tt.exports=function(L,l,m){m("newshape.visible"),m("newshape.name"),m("newshape.showlegend"),m("newshape.legend"),m("newshape.legendwidth"),m("newshape.legendgroup"),m("newshape.legendgrouptitle.text"),y.coerceFont(m,"newshape.legendgrouptitle.font"),m("newshape.legendrank"),m("newshape.drawdirection"),m("newshape.layer"),m("newshape.fillcolor"),m("newshape.fillrule"),m("newshape.opacity"),m("newshape.line.width")&&(m("newshape.line.color",A.contrast((L||{}).plot_bgcolor||"#FFF")),m("newshape.line.dash"));var s="drawline"===L.dragmode,a=m("newshape.label.text"),h=m("newshape.label.texttemplate");if(a||h){m("newshape.label.textangle");var f=m("newshape.label.textposition",s?"middle":"middle center");m("newshape.label.xanchor"),m("newshape.label.yanchor",function i(P,L){return P?"bottom":-1!==L.indexOf("top")?"top":-1!==L.indexOf("bottom")?"bottom":"middle"}(s,f)),m("newshape.label.padding"),y.coerceFont(m,"newshape.label.font",l.font)}m("activeshape.fillcolor"),m("activeshape.opacity")}},9856:function(tt,W,t){"use strict";var A=t(21984),y=t(7e3),i=y.CIRCLE_SIDES,P=y.SQRT2,L=t(5840),l=L.p2r,m=L.r2p,r=[0,3,4,5,6,1,2],e=[0,3,4,1,2];function s(h,f){return Math.abs(h-f)<=1e-6}function a(h,f){var u=f[1]-h[1],g=f[2]-h[2];return Math.sqrt(u*u+g*g)}W.writePaths=function(h){var f=h.length;if(!f)return"M0,0Z";for(var u="",g=0;g<f;g++)for(var c=h[g].length,w=0;w<c;w++){var d=h[g][w][0];if("Z"===d)u+="Z";else for(var o=h[g][w].length,v=0;v<o;v++){var M=v;"Q"===d||"S"===d?M=e[v]:"C"===d&&(M=r[v]),u+=h[g][w][M],v>0&&v<o-1&&(u+=",")}}return u},W.readPaths=function(h,f,u,g){var v,E,x,c=A(h),w=[],d=-1,M=0,b=0,S=function(){E=M,x=b};S();for(var T=0;T<c.length;T++){var n=[],N=c[T][0],k=N;switch(N){case"M":d++,w[d]=[],n.push([k,M=+c[T][1],b=+c[T][2]]),S();break;case"Q":case"S":n.push([k,M=+c[T][3],b=+c[T][4],+c[T][1],+c[T][2]]);break;case"C":n.push([k,M=+c[T][5],b=+c[T][6],+c[T][1],+c[T][2],+c[T][3],+c[T][4]]);break;case"T":case"L":n.push([k,M=+c[T][1],b=+c[T][2]]);break;case"H":n.push([k="L",M=+c[T][1],b]);break;case"V":n.push([k="L",M,b=+c[T][1]]);break;case"A":k="L";var z=+c[T][1],B=+c[T][2];+c[T][4]||(z=-z,B=-B);var O=M-z,U=b;for(v=1;v<=i/2;v++){var G=2*Math.PI*v/i;n.push([k,O+z*Math.cos(G),U+B*Math.sin(G)])}break;case"Z":(M!==E||b!==x)&&n.push([k,M=E,b=x])}for(var J=(u||{}).domain,et=f._fullLayout._size,at=u&&"pixel"===u.xsizemode,lt=u&&"pixel"===u.ysizemode,K=!1===g,j=0;j<n.length;j++){for(v=0;v+2<7;v+=2){var rt=n[j][v+1],H=n[j][v+2];void 0===rt||void 0===H||(M=rt,b=H,u&&(u.xaxis&&u.xaxis.p2r?(K&&(rt-=u.xaxis._offset),rt=at?m(u.xaxis,u.xanchor)+rt:l(u.xaxis,rt)):(K&&(rt-=et.l),J?rt=J.x[0]+rt/et.w:rt/=et.w),u.yaxis&&u.yaxis.p2r?(K&&(H-=u.yaxis._offset),H=lt?m(u.yaxis,u.yanchor)-H:l(u.yaxis,H)):(K&&(H-=et.t),H=J?J.y[1]-H/et.h:1-H/et.h)),n[j][v+1]=rt,n[j][v+2]=H)}w[d].push(n[j].slice())}}return w},W.pointsOnRectangle=function(h){if(5!==h.length)return!1;for(var u=1;u<3;u++){if(!s(h[0][u]-h[1][u],h[3][u]-h[2][u]))return!1;if(!s(h[0][u]-h[3][u],h[1][u]-h[2][u]))return!1}return!(!s(h[0][1],h[1][1])&&!s(h[0][1],h[3][1])||!(a(h[0],h[1])*a(h[0],h[3])))},W.pointsOnEllipse=function(h){var f=h.length;if(f!==i+1)return!1;f=i;for(var u=0;u<f;u++){var g=(2*f-u)%f,c=(f/2+g)%f;if(!s(a(h[u],h[(f/2+u)%f]),a(h[g],h[c])))return!1}return!0},W.handleEllipse=function(h,f,u){if(!h)return[f,u];var g=W.ellipseOver({x0:f[0],y0:f[1],x1:u[0],y1:u[1]}),c=(g.x1+g.x0)/2,w=(g.y1+g.y0)/2,d=(g.x1-g.x0)/2,o=(g.y1-g.y0)/2;d||(d=o/=P),o||(o=d/=P);for(var v=[],M=0;M<i;M++){var b=2*M*Math.PI/i;v.push([c+d*Math.cos(b),w+o*Math.sin(b)])}return v},W.ellipseOver=function(h){var f=h.x0,u=h.y0,g=h.x1,c=h.y1,w=g-f,d=c-u,o=((f-=w)+g)/2,v=((u-=d)+c)/2;return{x0:o-(w*=P),y0:v-(d*=P),x1:o+w,y1:v+d}},W.fixDatesForPaths=function(h,f,u){var g="date"===f.type,c="date"===u.type;if(!g&&!c)return h;for(var w=0;w<h.length;w++)for(var d=0;d<h[w].length;d++)for(var o=0;o+2<h[w][d].length;o+=2)g&&(h[w][d][o+1]=h[w][d][o+1].replace(" ","_")),c&&(h[w][d][o+2]=h[w][d][o+2].replace(" ","_"));return h}},93940:function(tt,W,t){"use strict";var A=t(72760),y=A.drawMode,i=A.openMode,P=t(7e3),L=P.i000,l=P.i090,m=P.i180,r=P.i270,e=P.cos45,s=P.sin45,a=t(5840),h=a.p2r,f=a.r2p,g=t(1936).clearOutline,c=t(9856),w=c.readPaths,d=c.writePaths,o=c.ellipseOver,v=c.fixDatesForPaths;function b(E,x,S){var J,n=x.gd,C=E[0][0].getAttribute("d"),p=n._fullLayout.newshape,F=x.plotinfo,D=x.isActiveShape,N=F.xaxis,k=F.yaxis,z=!!F.domain||!F.xaxis,B=!!F.domain||!F.yaxis,O=i(S),U=w(C,n,F,D),G={editable:!0,visible:p.visible,name:p.name,showlegend:p.showlegend,legend:p.legend,legendwidth:p.legendwidth,legendgroup:p.legendgroup,legendgrouptitle:{text:p.legendgrouptitle.text,font:p.legendgrouptitle.font},legendrank:p.legendrank,label:p.label,xref:z?"paper":N._id,yref:B?"paper":k._id,layer:p.layer,opacity:p.opacity,line:{color:p.line.color,width:p.line.width,dash:p.line.dash}};if(O||(G.fillcolor=p.fillcolor,G.fillrule=p.fillrule),1===U.length&&(J=U[0]),J&&5===J.length&&"drawrect"===S)G.type="rect",G.x0=J[0][1],G.y0=J[0][2],G.x1=J[2][1],G.y1=J[2][2];else if(J&&"drawline"===S)G.type="line",G.x0=J[0][1],G.y0=J[0][2],G.x1=J[1][1],G.y1=J[1][2];else if(J&&"drawcircle"===S){G.type="circle";var et=J[L][1],at=J[l][1],lt=J[m][1],K=J[r][1],j=J[L][2],rt=J[l][2],H=J[m][2],Z=J[r][2],it=F.xaxis&&("date"===F.xaxis.type||"log"===F.xaxis.type),Q=F.yaxis&&("date"===F.yaxis.type||"log"===F.yaxis.type);it&&(et=f(F.xaxis,et),at=f(F.xaxis,at),lt=f(F.xaxis,lt),K=f(F.xaxis,K)),Q&&(j=f(F.yaxis,j),rt=f(F.yaxis,rt),H=f(F.yaxis,H),Z=f(F.yaxis,Z));var Y=(at+K)/2,nt=(j+H)/2,dt=o({x0:Y,y0:nt,x1:Y+(K-at+lt-et)/2*e,y1:nt+(Z-rt+H-j)/2*s});it&&(dt.x0=h(F.xaxis,dt.x0),dt.x1=h(F.xaxis,dt.x1)),Q&&(dt.y0=h(F.yaxis,dt.y0),dt.y1=h(F.yaxis,dt.y1)),G.x0=dt.x0,G.y0=dt.y0,G.x1=dt.x1,G.y1=dt.y1}else G.type="path",N&&k&&v(U,N,k),G.path=d(U),J=null;return G}tt.exports={newShapes:function M(E,x){if(E.length&&E[0][0]){var T=x.gd,n=x.isActiveShape,C=x.dragmode,p=(T.layout||{}).shapes||[];if(!y(C)&&void 0!==n){var F=T._fullLayout._activeShapeIndex;if(F<p.length)switch(T._fullLayout.shapes[F].type){case"rect":C="drawrect";break;case"circle":C="drawcircle";break;case"line":C="drawline";break;case"path":var D=p[F].path||"";C="Z"===D[D.length-1]?"drawclosedpath":"drawopenpath"}}var N=b(E,x,C);g(T);for(var k=x.editHelpers,z=(k||{}).modifyItem,B=[],O=0;O<p.length;O++){var U=T._fullLayout.shapes[O];if(B[O]=U._input,void 0!==n&&O===T._fullLayout._activeShapeIndex){var G=N;switch(U.type){case"line":case"rect":case"circle":z("x0",G.x0),z("x1",G.x1),z("y0",G.y0),z("y1",G.y1);break;case"path":z("path",G.path)}}}return void 0===n?(B.push(N),B):k?k.getUpdateObj():{}}},createShapeObj:b}},1936:function(tt){"use strict";tt.exports={clearOutlineControllers:function W(A){var y=A._fullLayout._zoomlayer;y&&y.selectAll(".outline-controllers").remove()},clearOutline:function t(A){var y=A._fullLayout._zoomlayer;y&&y.selectAll(".select-outline").remove(),A._fullLayout._outlining=!1}}},65152:function(tt,W,t){"use strict";var A=t(85448),y=t(3400),i=t(54460);W.rangeToShapePosition=function(L){return"log"===L.type?L.r2d:function(l){return l}},W.shapePositionToRange=function(L){return"log"===L.type?L.d2r:function(l){return l}},W.decodeDate=function(L){return function(l){return l.replace&&(l=l.replace("_"," ")),L(l)}},W.encodeDate=function(L){return function(l){return L(l).replace(" ","_")}},W.extractPathCoords=function(L,l,m){var r=[];return L.match(A.segmentRE).forEach(function(s){var a=l[s.charAt(0)].drawn;if(void 0!==a){var h=s.substr(1).match(A.paramRE);if(h&&!(h.length<a)){var f=h[a],u=m?f:y.cleanNumber(f);r.push(u)}}}),r},W.getDataToPixel=function(L,l,m,r){var s,e=L._fullLayout._size;if(l)if("domain"===r)s=function(h){return l._length*(m?1-h:h)+l._offset};else{var a=W.shapePositionToRange(l);s=function(h){return l._offset+l.r2p(a(h,!0))},"date"===l.type&&(s=W.decodeDate(s))}else s=m?function(h){return e.t+e.h*(1-h)}:function(h){return e.l+e.w*h};return s},W.getPixelToData=function(L,l,m,r){var s,e=L._fullLayout._size;if(l)if("domain"===r)s=function(h){var f=(h-l._offset)/l._length;return m?1-f:f};else{var a=W.rangeToShapePosition(l);s=function(h){return a(l.p2r(h-l._offset))}}else s=m?function(h){return 1-(h-e.t)/e.h}:function(h){return(h-e.l)/e.w};return s},W.roundPositionForSharpStrokeRendering=function(L,l){var m=1===Math.round(l%2),r=Math.round(L);return m?r+.5:r},W.makeShapesOptionsAndPlotinfo=function(L,l){var m=L._fullLayout.shapes[l]||{},r=L._fullLayout._plots[m.xref+m.yref];return r?r._hadPlotinfo=!0:(r={},m.xref&&"paper"!==m.xref&&(r.xaxis=L._fullLayout[m.xref+"axis"]),m.yref&&"paper"!==m.yref&&(r.yaxis=L._fullLayout[m.yref+"axis"])),r.xsizemode=m.xsizemode,r.ysizemode=m.ysizemode,r.xanchor=m.xanchor,r.yanchor=m.yanchor,{options:m,plotinfo:r}},W.makeSelectionsOptionsAndPlotinfo=function(L,l){var m=L._fullLayout.selections[l]||{},r=L._fullLayout._plots[m.xref+m.yref];return r?r._hadPlotinfo=!0:(r={},m.xref&&(r.xaxis=L._fullLayout[m.xref+"axis"]),m.yref&&(r.yaxis=L._fullLayout[m.yref+"axis"])),{options:m,plotinfo:r}},W.getPathString=function(L,l){var f,u,g,c,w,d,o,v,m=l.type,r=i.getRefType(l.xref),e=i.getRefType(l.yref),s=i.getFromId(L,l.xref),a=i.getFromId(L,l.yref),h=L._fullLayout._size;if(s?"domain"===r?u=function(F){return s._offset+s._length*F}:(f=W.shapePositionToRange(s),u=function(F){return s._offset+s.r2p(f(F,!0))}):u=function(F){return h.l+h.w*F},a?"domain"===e?c=function(F){return a._offset+a._length*(1-F)}:(g=W.shapePositionToRange(a),c=function(F){return a._offset+a.r2p(g(F,!0))}):c=function(F){return h.t+h.h*(1-F)},"path"===m)return s&&"date"===s.type&&(u=W.decodeDate(u)),a&&"date"===a.type&&(c=W.decodeDate(c)),function P(L,l,m){var e=L.xsizemode,s=L.ysizemode,a=L.xanchor,h=L.yanchor;return L.path.replace(A.segmentRE,function(f){var u=0,g=f.charAt(0),c=A.paramIsX[g],w=A.paramIsY[g],d=A.numParams[g],o=f.substr(1).replace(A.paramRE,function(v){return c[u]?v="pixel"===e?l(a)+Number(v):l(v):w[u]&&(v="pixel"===s?m(h)-Number(v):m(v)),++u>d&&(v="X"),v});return u>d&&(o=o.replace(/[\s,]*X.*/,""),y.log("Ignoring extra params in segment "+f)),g+o})}(l,u,c);if("pixel"===l.xsizemode){var M=u(l.xanchor);w=M+l.x0,d=M+l.x1}else w=u(l.x0),d=u(l.x1);if("pixel"===l.ysizemode){var b=c(l.yanchor);o=b-l.y0,v=b-l.y1}else o=c(l.y0),v=c(l.y1);if("line"===m)return"M"+w+","+o+"L"+d+","+v;if("rect"===m)return"M"+w+","+o+"H"+d+"V"+v+"H"+w+"Z";var E=(w+d)/2,x=(o+v)/2,S=Math.abs(E-w),T=Math.abs(x-o),n="A"+S+","+T,C=E+S+","+x;return"M"+C+n+" 0 1,1 "+E+","+(x-T)+n+" 0 0,1 "+C+"Z"}},41592:function(tt,W,t){"use strict";var A=t(4016);tt.exports={moduleType:"component",name:"shapes",layoutAttributes:t(46056),supplyLayoutDefaults:t(43712),supplyDrawNewShapeDefaults:t(65144),includeBasePlot:t(36632)("shapes"),calcAutorange:t(96084),draw:A.draw,drawOne:A.drawOne}},97728:function(tt){"use strict";function W(f,u){return u?u.d2l(f):f}function t(f,u){return u?u.l2d(f):f}function L(f,u){return W(f.x1,u)-W(f.x0,u)}function l(f,u,g){return W(f.y1,g)-W(f.y0,g)}tt.exports={x0:function A(f){return f.x0},x1:function y(f){return f.x1},y0:function i(f){return f.y0},y1:function P(f){return f.y1},slope:function h(f,u,g){return"line"!==f.type?void 0:l(f,0,g)/L(f,u)},dx:L,dy:l,width:function m(f,u){return Math.abs(L(f,u))},height:function r(f,u,g){return Math.abs(l(f,0,g))},length:function e(f,u,g){return"line"!==f.type?void 0:Math.sqrt(Math.pow(L(f,u),2)+Math.pow(l(f,0,g),2))},xcenter:function s(f,u){return t((W(f.x1,u)+W(f.x0,u))/2,u)},ycenter:function a(f,u,g){return t((W(f.y1,g)+W(f.y0,g))/2,g)}}},89861:function(tt,W,t){"use strict";var A=t(25376),y=t(66741),i=t(92880).extendDeepAll,P=t(67824).overrideAll,L=t(85656),l=t(31780).templatedArray,m=t(60876),r=l("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});tt.exports=P(l("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(y({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:L.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:A({})},font:A({}),activebgcolor:{valType:"color",dflt:m.gripBgActiveColor},bgcolor:{valType:"color",dflt:m.railBgColor},bordercolor:{valType:"color",dflt:m.railBorderColor},borderwidth:{valType:"number",min:0,dflt:m.railBorderWidth},ticklen:{valType:"number",min:0,dflt:m.tickLength},tickcolor:{valType:"color",dflt:m.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:m.minorTickLength}}),"arraydraw","from-root")},60876:function(tt){"use strict";tt.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(tt,W,t){"use strict";var A=t(3400),y=t(51272),i=t(89861),L=t(60876).name,l=i.steps;function m(e,s,a){function h(v,M){return A.coerce(e,s,i,v,M)}for(var f=y(e,s,{name:"steps",handleItemDefaults:r}),u=0,g=0;g<f.length;g++)f[g].visible&&u++;if(u<2?s.visible=!1:h("visible")){s._stepCount=u;var w=s._visibleSteps=A.filterVisible(f);(f[h("active")]||{}).visible||(s.active=w[0]._index),h("x"),h("y"),A.noneOrAll(e,s,["x","y"]),h("xanchor"),h("yanchor"),h("len"),h("lenmode"),h("pad.t"),h("pad.r"),h("pad.b"),h("pad.l"),A.coerceFont(h,"font",a.font),h("currentvalue.visible")&&(h("currentvalue.xanchor"),h("currentvalue.prefix"),h("currentvalue.suffix"),h("currentvalue.offset"),A.coerceFont(h,"currentvalue.font",s.font)),h("transition.duration"),h("transition.easing"),h("bgcolor"),h("activebgcolor"),h("bordercolor"),h("borderwidth"),h("ticklen"),h("tickwidth"),h("tickcolor"),h("minorticklen")}}function r(e,s){function a(u,g){return A.coerce(e,s,l,u,g)}if("skip"===e.method||Array.isArray(e.args)?a("visible"):s.visible=!1){a("method"),a("args");var f=a("label","step-"+s._index);a("value",f),a("execute")}}tt.exports=function(s,a){y(s,a,{name:L,handleItemDefaults:m})}},79664:function(tt,W,t){"use strict";var A=t(33428),y=t(7316),i=t(76308),P=t(43616),L=t(3400),l=L.strTranslate,m=t(72736),r=t(31780).arrayEditor,e=t(60876),s=t(84284),a=s.LINE_SPACING,h=s.FROM_TL,f=s.FROM_BR;function u(k){return e.autoMarginIdRoot+k._index}function c(k){return k._index}function w(k,z){var B=P.tester.selectAll("g."+e.labelGroupClass).data(z._visibleSteps);B.enter().append("g").classed(e.labelGroupClass,!0);var O=0,U=0;B.each(function(Z){var Y=M(A.select(this),{step:Z},z).node();if(Y){var nt=P.bBox(Y);U=Math.max(U,nt.height),O=Math.max(O,nt.width)}}),B.remove();var G=z._dims={};G.inputAreaWidth=Math.max(e.railWidth,e.gripHeight);var J=k._fullLayout._size;if(G.lx=J.l+J.w*z.x,G.ly=J.t+J.h*(1-z.y),G.outerLength="fraction"===z.lenmode?Math.round(J.w*z.len):z.len,G.inputAreaStart=0,G.inputAreaLength=Math.round(G.outerLength-z.pad.l-z.pad.r),G.labelStride=Math.max(1,Math.ceil((O+e.labelPadding)/((G.inputAreaLength-2*e.stepInset)/(z._stepCount-1)))),G.labelHeight=U,G.currentValueMaxWidth=0,G.currentValueHeight=0,G.currentValueTotalHeight=0,G.currentValueMaxLines=1,z.currentvalue.visible){var K=P.tester.append("g");B.each(function(Z){var it=o(K,z,Z.label),Q=it.node()&&P.bBox(it.node())||{width:0,height:0},Y=m.lineCount(it);G.currentValueMaxWidth=Math.max(G.currentValueMaxWidth,Math.ceil(Q.width)),G.currentValueHeight=Math.max(G.currentValueHeight,Math.ceil(Q.height)),G.currentValueMaxLines=Math.max(G.currentValueMaxLines,Y)}),G.currentValueTotalHeight=G.currentValueHeight+z.currentvalue.offset,K.remove()}G.height=G.currentValueTotalHeight+e.tickOffset+z.ticklen+e.labelOffset+G.labelHeight+z.pad.t+z.pad.b;var j="left";L.isRightAnchor(z)&&(G.lx-=G.outerLength,j="right"),L.isCenterAnchor(z)&&(G.lx-=G.outerLength/2,j="center");var rt="top";L.isBottomAnchor(z)&&(G.ly-=G.height,rt="bottom"),L.isMiddleAnchor(z)&&(G.ly-=G.height/2,rt="middle"),G.outerLength=Math.ceil(G.outerLength),G.height=Math.ceil(G.height),G.lx=Math.round(G.lx),G.ly=Math.round(G.ly);var H={y:z.y,b:G.height*f[rt],t:G.height*h[rt]};"fraction"===z.lenmode?(H.l=0,H.xl=z.x-z.len*h[j],H.r=0,H.xr=z.x+z.len*f[j]):(H.x=z.x,H.l=G.outerLength*h[j],H.r=G.outerLength*f[j]),y.autoMargin(k,u(z),H)}function o(k,z,B){if(z.currentvalue.visible){var U,G,O=z._dims;switch(z.currentvalue.xanchor){case"right":U=O.inputAreaLength-e.currentValueInset-O.currentValueMaxWidth,G="left";break;case"center":U=.5*O.inputAreaLength,G="middle";break;default:U=e.currentValueInset,G="left"}var J=L.ensureSingle(k,"text",e.labelClass,function(rt){rt.attr({"text-anchor":G,"data-notex":1})}),et=z.currentvalue.prefix?z.currentvalue.prefix:"";if("string"==typeof B)et+=B;else{var at=z.steps[z.active].label,lt=z._gd._fullLayout._meta;lt&&(at=L.templateString(at,lt)),et+=at}z.currentvalue.suffix&&(et+=z.currentvalue.suffix),J.call(P.font,z.currentvalue.font).text(et).call(m.convertToTspans,z._gd);var K=m.lineCount(J);return m.positionText(J,U,(O.currentValueMaxLines+1-K)*z.currentvalue.font.size*a),J}}function v(k,z,B){L.ensureSingle(k,"rect",e.gripRectClass,function(U){U.call(S,z,k,B).style("pointer-events","all")}).attr({width:e.gripWidth,height:e.gripHeight,rx:e.gripRadius,ry:e.gripRadius}).call(i.stroke,B.bordercolor).call(i.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px")}function M(k,z,B){var O=L.ensureSingle(k,"text",e.labelClass,function(J){J.attr({"text-anchor":"middle","data-notex":1})}),U=z.step.label,G=B._gd._fullLayout._meta;return G&&(U=L.templateString(U,G)),O.call(P.font,B.font).text(U).call(m.convertToTspans,B._gd),O}function b(k,z){var B=L.ensureSingle(k,"g",e.labelsClass),O=z._dims,U=B.selectAll("g."+e.labelGroupClass).data(O.labelSteps);U.enter().append("g").classed(e.labelGroupClass,!0),U.exit().remove(),U.each(function(G){var J=A.select(this);J.call(M,G,z),P.setTranslate(J,p(z,G.fraction),e.tickOffset+z.ticklen+z.font.size*a+e.labelOffset+O.currentValueTotalHeight)})}function E(k,z,B,O,U){var G=Math.round(O*(B._stepCount-1)),J=B._visibleSteps[G]._index;J!==B.active&&x(k,z,B,J,!0,U)}function x(k,z,B,O,U,G){var J=B.active;B.active=O,r(k.layout,e.name,B).applyUpdate("active",O);var et=B.steps[B.active];z.call(C,B,G),z.call(o,B),k.emit("plotly_sliderchange",{slider:B,step:B.steps[B.active],interaction:U,previousActive:J}),et&&et.method&&U&&(z._nextMethod?(z._nextMethod.step=et,z._nextMethod.doCallback=U,z._nextMethod.doTransition=G):(z._nextMethod={step:et,doCallback:U,doTransition:G},z._nextMethodRaf=window.requestAnimationFrame(function(){var at=z._nextMethod.step;!at.method||(at.execute&&y.executeAPICommand(k,at.method,at.args),z._nextMethod=null,z._nextMethodRaf=null)})))}function S(k,z,B){if(!z._context.staticPlot){var O=B.node(),U=A.select(z);k.on("mousedown",J),k.on("touchstart",J)}function G(){return B.data()[0]}function J(){var et=G();z.emit("plotly_sliderstart",{slider:et});var at=B.select("."+e.gripRectClass);A.event.stopPropagation(),A.event.preventDefault(),at.call(i.fill,et.activebgcolor);var lt=F(et,A.mouse(O)[0]);function K(){var rt=G(),H=F(rt,A.mouse(O)[0]);E(z,B,rt,H,!1)}function j(){var rt=G();rt._dragging=!1,at.call(i.fill,rt.bgcolor),U.on("mouseup",null),U.on("mousemove",null),U.on("touchend",null),U.on("touchmove",null),z.emit("plotly_sliderend",{slider:rt,step:rt.steps[rt.active]})}E(z,B,et,lt,!0),et._dragging=!0,U.on("mousemove",K),U.on("touchmove",K),U.on("mouseup",j),U.on("touchend",j)}}function T(k,z){var B=k.selectAll("rect."+e.tickRectClass).data(z._visibleSteps),O=z._dims;B.enter().append("rect").classed(e.tickRectClass,!0),B.exit().remove(),B.attr({width:z.tickwidth+"px","shape-rendering":"crispEdges"}),B.each(function(U,G){var J=G%O.labelStride==0,et=A.select(this);et.attr({height:J?z.ticklen:z.minorticklen}).call(i.fill,z.tickcolor),P.setTranslate(et,p(z,G/(z._stepCount-1))-.5*z.tickwidth,(J?e.tickOffset:e.minorTickOffset)+O.currentValueTotalHeight)})}function C(k,z,B){for(var O=k.select("rect."+e.gripRectClass),U=0,G=0;G<z._stepCount;G++)if(z._visibleSteps[G]._index===z.active){U=G;break}var J=p(z,U/(z._stepCount-1));if(!z._invokingCommand){var et=O;B&&z.transition.duration>0&&(et=et.transition().duration(z.transition.duration).ease(z.transition.easing)),et.attr("transform",l(J-.5*e.gripWidth,z._dims.currentValueTotalHeight))}}function p(k,z){var B=k._dims;return B.inputAreaStart+e.stepInset+(B.inputAreaLength-2*e.stepInset)*Math.min(1,Math.max(0,z))}function F(k,z){var B=k._dims;return Math.min(1,Math.max(0,(z-e.stepInset-B.inputAreaStart)/(B.inputAreaLength-2*e.stepInset-2*B.inputAreaStart)))}function D(k,z,B){var O=B._dims,U=L.ensureSingle(k,"rect",e.railTouchRectClass,function(G){G.call(S,z,k,B).style("pointer-events","all")});U.attr({width:O.inputAreaLength,height:Math.max(O.inputAreaWidth,e.tickOffset+B.ticklen+O.labelHeight)}).call(i.fill,B.bgcolor).attr("opacity",0),P.setTranslate(U,0,O.currentValueTotalHeight)}function N(k,z){var B=z._dims,O=B.inputAreaLength-2*e.railInset,U=L.ensureSingle(k,"rect",e.railRectClass);U.attr({width:O,height:e.railWidth,rx:e.railRadius,ry:e.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,z.bordercolor).call(i.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px"),P.setTranslate(U,e.railInset,.5*(B.inputAreaWidth-e.railWidth)+B.currentValueTotalHeight)}tt.exports=function(z){var B=z._context.staticPlot,O=z._fullLayout,U=function g(k,z){for(var B=k[e.name],O=[],U=0;U<B.length;U++){var G=B[U];!G.visible||(G._gd=z,O.push(G))}return O}(O,z),G=O._infolayer.selectAll("g."+e.containerClassName).data(U.length>0?[0]:[]);function J(K){K._commandObserver&&(K._commandObserver.remove(),delete K._commandObserver),y.autoMargin(z,u(K))}if(G.enter().append("g").classed(e.containerClassName,!0).style("cursor",B?null:"ew-resize"),G.exit().each(function(){A.select(this).selectAll("g."+e.groupClassName).each(J)}).remove(),0!==U.length){var et=G.selectAll("g."+e.groupClassName).data(U,c);et.enter().append("g").classed(e.groupClassName,!0),et.exit().each(J).remove();for(var at=0;at<U.length;at++)w(z,U[at]);et.each(function(K){var j=A.select(this);(function n(k){var z=k._dims;z.labelSteps=[];for(var B=k._stepCount,O=0;O<B;O+=z.labelStride)z.labelSteps.push({fraction:O/(B-1),step:k._visibleSteps[O]})})(K),y.manageCommandObserver(z,K,K._visibleSteps,function(rt){var H=j.data()[0];H.active!==rt.index&&(H._dragging||x(z,j,H,rt.index,!1,!0))}),function d(k,z,B){(B.steps[B.active]||{}).visible||(B.active=B._visibleSteps[0]._index),z.call(o,B).call(N,B).call(b,B).call(T,B).call(D,k,B).call(v,k,B);var O=B._dims;P.setTranslate(z,O.lx+B.pad.l,O.ly+B.pad.t),z.call(C,B,!1),z.call(o,B)}(z,A.select(this),K)})}}},97544:function(tt,W,t){"use strict";var A=t(60876);tt.exports={moduleType:"component",name:A.name,layoutAttributes:t(89861),supplyLayoutDefaults:t(8132),draw:t(79664)}},81668:function(tt,W,t){"use strict";var A=t(33428),y=t(38248),i=t(7316),P=t(24040),L=t(3400),l=L.strTranslate,m=t(43616),r=t(76308),e=t(72736),s=t(13448),a=t(84284).OPPOSITE_SIDE,h=/ [XY][0-9]* /;tt.exports={draw:function f(u,g,c){var z,w=c.propContainer,d=c.propName,o=c.placeholder,v=c.traceIndex,M=c.avoid||{},b=c.attributes,E=c.transform,x=c.containerGroup,S=u._fullLayout,T=1,n=!1,C=w.title,p=(C&&C.text?C.text:"").trim(),F=C&&C.font?C.font:{},D=F.family,N=F.size,k=F.color;"title.text"===d?z="titleText":-1!==d.indexOf("axis")?z="axisTitleText":d.indexOf(!0)&&(z="colorbarTitleText");var B=u._context.edits[z];""===p?T=0:p.replace(h," % ")===o.replace(h," % ")&&(T=.2,n=!0,B||(p="")),c._meta?p=L.templateString(p,c._meta):S._meta&&(p=L.templateString(p,S._meta));var U,O=p||B;x||(x=L.ensureSingle(S._infolayer,"g","g-"+g),U=S._hColorbarMoveTitle);var G=x.selectAll("text").data(O?[0]:[]);if(G.enter().append("text"),G.text(p).attr("class",g),G.exit().remove(),!O)return x;function J(K){L.syncOrAsync([et,at],K)}function et(K){var j;return!E&&U&&(E={}),E?(j="",E.rotate&&(j+="rotate("+[E.rotate,b.x,b.y]+")"),(E.offset||U)&&(j+=l(0,(E.offset||0)-(U||0)))):j=null,K.attr("transform",j),K.style({"font-family":D,"font-size":A.round(N,2)+"px",fill:r.rgb(k),opacity:T*r.opacity(k),"font-weight":i.fontWeight}).attr(b).call(e.convertToTspans,u),i.previousPromises(u)}function at(K){var j=A.select(K.node().parentNode);if(M&&M.selection&&M.side&&p){j.attr("transform",null);var rt=a[M.side],H="left"===M.side||"top"===M.side?-1:1,Z=y(M.pad)?M.pad:2,it=m.bBox(j.node()),Q={t:0,b:0,l:0,r:0},Y=u._fullLayout._reservedMargin;for(var nt in Y)for(var _ in Y[nt])Q[_]=Math.max(Q[_],Y[nt][_]);var xt=M.maxShift||H*({left:Q.l,top:Q.t,right:S.width-Q.r,bottom:S.height-Q.b}[M.side]-it[M.side]),yt=0;if(xt<0)yt=xt;else{var St=M.offsetLeft||0,Et=M.offsetTop||0;it.left-=St,it.right-=St,it.top-=Et,it.bottom-=Et,M.selection.each(function(){var gt=m.bBox(this);L.bBoxIntersect(it,gt,Z)&&(yt=Math.max(yt,H*(gt[M.side]-it[rt])+Z))}),yt=Math.min(xt,yt),w._titleScoot=Math.abs(yt)}if(yt>0||xt<0){var Tt={left:[-yt,0],right:[yt,0],top:[0,-yt],bottom:[0,yt]}[M.side];j.attr("transform",l(Tt[0],Tt[1]))}}}return G.call(J),B&&(p?G.on(".opacity",null):function lt(){T=0,n=!0,G.text(o).on("mouseover.opacity",function(){A.select(this).transition().duration(s.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){A.select(this).transition().duration(s.HIDE_PLACEHOLDER).style("opacity",0)})}(),G.call(e.makeEditable,{gd:u}).on("edit",function(K){void 0!==v?P.call("_guiRestyle",u,d,K,v):P.call("_guiRelayout",u,d,K)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(J)}).on("input",function(K){this.text(K||" ").call(e.positionText,b.x,b.y)})),G.classed("js-placeholder",n),x}}},88444:function(tt,W,t){"use strict";var A=t(25376),y=t(22548),i=t(92880).extendFlat,P=t(67824).overrideAll,L=t(66741),l=t(31780).templatedArray,m=l("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});tt.exports=P(l("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:m,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(L({editType:"arraydraw"}),{}),font:A({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:y.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(tt){"use strict";tt.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},91384:function(tt,W,t){"use strict";var A=t(3400),y=t(51272),i=t(88444),L=t(73712).name,l=i.buttons;function m(e,s,a){function h(g,c){return A.coerce(e,s,i,g,c)}!h("visible",y(e,s,{name:"buttons",handleItemDefaults:r}).length>0)||(h("active"),h("direction"),h("type"),h("showactive"),h("x"),h("y"),A.noneOrAll(e,s,["x","y"]),h("xanchor"),h("yanchor"),h("pad.t"),h("pad.r"),h("pad.b"),h("pad.l"),A.coerceFont(h,"font",a.font),h("bgcolor",a.paper_bgcolor),h("bordercolor"),h("borderwidth"))}function r(e,s){function a(f,u){return A.coerce(e,s,l,f,u)}a("visible","skip"===e.method||Array.isArray(e.args))&&(a("method"),a("args"),a("args2"),a("label"),a("execute"))}tt.exports=function(s,a){y(s,a,{name:L,handleItemDefaults:m})}},14420:function(tt,W,t){"use strict";var A=t(33428),y=t(7316),i=t(76308),P=t(43616),L=t(3400),l=t(72736),m=t(31780).arrayEditor,r=t(84284).LINE_SPACING,e=t(73712),s=t(37400);function a(p){return p._index}function f(p,F){return+p.attr(e.menuIndexAttrName)===F._index}function u(p,F,D,N,k,z,B,O){F.active=B,m(p.layout,e.name,F).applyUpdate("active",B),"buttons"===F.type?c(p,N,null,null,F):"dropdown"===F.type&&(k.attr(e.menuIndexAttrName,"-1"),g(p,N,k,z,F),O||c(p,N,k,z,F))}function g(p,F,D,N,k){var z=L.ensureSingle(F,"g",e.headerClassName,function(at){at.style("pointer-events","all")}),B=k._dims,G={y:k.pad.t,yPad:0,x:k.pad.l,xPad:0,index:0},J={width:B.headerWidth,height:B.headerHeight};z.call(o,k,k.buttons[k.active]||e.blankHeaderOpts,p).call(n,k,G,J),L.ensureSingle(F,"text",e.headerArrowClassName,function(at){at.attr("text-anchor","end").call(P.font,k.font).text(e.arrowSymbol[k.direction])}).attr({x:B.headerWidth-e.arrowOffsetX+k.pad.l,y:B.headerHeight/2+e.textOffsetY+k.pad.t}),z.on("click",function(){D.call(C,String(f(D,k)?-1:k._index)),c(p,F,D,N,k)}),z.on("mouseover",function(){z.call(E)}),z.on("mouseout",function(){z.call(x,k)}),P.setTranslate(F,B.lx,B.ly)}function c(p,F,D,N,k){D||(D=F).attr("pointer-events","all");var z=function h(p){return-1==+p.attr(e.menuIndexAttrName)}(D)&&"buttons"!==k.type?[]:k.buttons,B="dropdown"===k.type?e.dropdownButtonClassName:e.buttonClassName,O=D.selectAll("g."+B).data(L.filterVisible(z)),U=O.enter().append("g").classed(B,!0),G=O.exit();"dropdown"===k.type?(U.attr("opacity","0").transition().attr("opacity","1"),G.transition().attr("opacity","0").remove()):G.remove();var J=0,et=0,at=k._dims,lt=-1!==["up","down"].indexOf(k.direction);"dropdown"===k.type&&(lt?et=at.headerHeight+e.gapButtonHeader:J=at.headerWidth+e.gapButtonHeader),"dropdown"===k.type&&"up"===k.direction&&(et=-e.gapButtonHeader+e.gapButton-at.openHeight),"dropdown"===k.type&&"left"===k.direction&&(J=-e.gapButtonHeader+e.gapButton-at.openWidth);var K={x:at.lx+J+k.pad.l,y:at.ly+et+k.pad.t,yPad:e.gapButton,xPad:e.gapButton,index:0},j={l:K.x+k.borderwidth,t:K.y+k.borderwidth};O.each(function(rt,H){var Z=A.select(this);Z.call(o,k,rt,p).call(n,k,K),Z.on("click",function(){A.event.defaultPrevented||(rt.execute&&(rt.args2&&k.active===H?(u(p,k,0,F,D,N,-1),y.executeAPICommand(p,rt.method,rt.args2)):(u(p,k,0,F,D,N,H),y.executeAPICommand(p,rt.method,rt.args))),p.emit("plotly_buttonclicked",{menu:k,button:rt,active:k.active}))}),Z.on("mouseover",function(){Z.call(E)}),Z.on("mouseout",function(){Z.call(x,k),O.call(b,k)})}),O.call(b,k),lt?(j.w=Math.max(at.openWidth,at.headerWidth),j.h=K.y-j.t):(j.w=K.x-j.l,j.h=Math.max(at.openHeight,at.headerHeight)),j.direction=k.direction,N&&(O.size()?function w(p,F,D,N,k,z){var J,et,at,B=k.direction,U=k._dims,G=k.active;if("up"===B||"down"===B)for(et=0,at=0;at<G;at++)et+=U.heights[at]+e.gapButton;else for(J=0,at=0;at<G;at++)J+=U.widths[at]+e.gapButton;N.enable(z,J,et),N.hbar&&N.hbar.attr("opacity","0").transition().attr("opacity","1"),N.vbar&&N.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,N,k,j):function d(p){var F=!!p.hbar,D=!!p.vbar;F&&p.hbar.transition().attr("opacity","0").each("end",function(){F=!1,D||p.disable()}),D&&p.vbar.transition().attr("opacity","0").each("end",function(){D=!1,F||p.disable()})}(N))}function o(p,F,D,N){p.call(v,F).call(M,F,D,N)}function v(p,F){L.ensureSingle(p,"rect",e.itemRectClassName,function(N){N.attr({rx:e.rx,ry:e.ry,"shape-rendering":"crispEdges"})}).call(i.stroke,F.bordercolor).call(i.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px")}function M(p,F,D,N){var k=L.ensureSingle(p,"text",e.itemTextClassName,function(O){O.attr({"text-anchor":"start","data-notex":1})}),z=D.label,B=N._fullLayout._meta;B&&(z=L.templateString(z,B)),k.call(P.font,F.font).text(z).call(l.convertToTspans,N)}function b(p,F){var D=F.active;p.each(function(N,k){var z=A.select(this);k===D&&F.showactive&&z.select("rect."+e.itemRectClassName).call(i.fill,e.activeColor)})}function E(p){p.select("rect."+e.itemRectClassName).call(i.fill,e.hoverColor)}function x(p,F){p.select("rect."+e.itemRectClassName).call(i.fill,F.bgcolor)}function S(p,F){var D=F._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=P.tester.selectAll("g."+e.dropdownButtonClassName).data(L.filterVisible(F.buttons));N.enter().append("g").classed(e.dropdownButtonClassName,!0);var k=-1!==["up","down"].indexOf(F.direction);N.each(function(J,et){var at=A.select(this);at.call(o,F,J,p);var lt=at.select("."+e.itemTextClassName),K=lt.node()&&P.bBox(lt.node()).width,j=Math.max(K+e.textPadX,e.minWidth),rt=F.font.size*r,H=l.lineCount(lt),Z=Math.max(rt*H,e.minHeight)+e.textOffsetY;Z=Math.ceil(Z),j=Math.ceil(j),D.widths[et]=j,D.heights[et]=Z,D.height1=Math.max(D.height1,Z),D.width1=Math.max(D.width1,j),k?(D.totalWidth=Math.max(D.totalWidth,j),D.openWidth=D.totalWidth,D.totalHeight+=Z+e.gapButton,D.openHeight+=Z+e.gapButton):(D.totalWidth+=j+e.gapButton,D.openWidth+=j+e.gapButton,D.totalHeight=Math.max(D.totalHeight,Z),D.openHeight=D.totalHeight)}),k?D.totalHeight-=e.gapButton:D.totalWidth-=e.gapButton,D.headerWidth=D.width1+e.arrowPadX,D.headerHeight=D.height1,"dropdown"===F.type&&(k?(D.width1+=e.arrowPadX,D.totalHeight=D.height1):D.totalWidth=D.width1,D.totalWidth+=e.arrowPadX),N.remove();var z=D.totalWidth+F.pad.l+F.pad.r,B=D.totalHeight+F.pad.t+F.pad.b,O=p._fullLayout._size;D.lx=O.l+O.w*F.x,D.ly=O.t+O.h*(1-F.y);var U="left";L.isRightAnchor(F)&&(D.lx-=z,U="right"),L.isCenterAnchor(F)&&(D.lx-=z/2,U="center");var G="top";L.isBottomAnchor(F)&&(D.ly-=B,G="bottom"),L.isMiddleAnchor(F)&&(D.ly-=B/2,G="middle"),D.totalWidth=Math.ceil(D.totalWidth),D.totalHeight=Math.ceil(D.totalHeight),D.lx=Math.round(D.lx),D.ly=Math.round(D.ly),y.autoMargin(p,T(F),{x:F.x,y:F.y,l:z*({right:1,center:.5}[U]||0),r:z*({left:1,center:.5}[U]||0),b:B*({top:1,middle:.5}[G]||0),t:B*({bottom:1,middle:.5}[G]||0)})}function T(p){return e.autoMarginIdRoot+p._index}function n(p,F,D,N){N=N||{};var k=p.select("."+e.itemRectClassName),z=p.select("."+e.itemTextClassName),B=F.borderwidth,O=D.index,U=F._dims;P.setTranslate(p,B+D.x,B+D.y);var G=-1!==["up","down"].indexOf(F.direction),J=N.height||(G?U.heights[O]:U.height1);k.attr({x:0,y:0,width:N.width||(G?U.width1:U.widths[O]),height:J});var et=F.font.size*r,at=l.lineCount(z);l.positionText(z,e.textOffsetX,J/2-(at-1)*et/2+e.textOffsetY),G?D.y+=U.heights[O]+D.yPad:D.x+=U.widths[O]+D.xPad,D.index++}function C(p,F){p.attr(e.menuIndexAttrName,F||"-1").selectAll("g."+e.dropdownButtonClassName).remove()}tt.exports=function(F){var D=F._fullLayout,N=L.filterVisible(D[e.name]);function k(at){y.autoMargin(F,T(at))}var z=D._menulayer.selectAll("g."+e.containerClassName).data(N.length>0?[0]:[]);if(z.enter().append("g").classed(e.containerClassName,!0).style("cursor","pointer"),z.exit().each(function(){A.select(this).selectAll("g."+e.headerGroupClassName).each(k)}).remove(),0!==N.length){var B=z.selectAll("g."+e.headerGroupClassName).data(N,a);B.enter().append("g").classed(e.headerGroupClassName,!0);for(var O=L.ensureSingle(z,"g",e.dropdownButtonGroupClassName,function(at){at.style("pointer-events","all")}),U=0;U<N.length;U++)S(F,N[U]);var et=new s(F,O,"updatemenus"+D._uid);B.enter().size()&&(O.node().parentNode.appendChild(O.node()),O.call(C)),B.exit().each(function(at){O.call(C),k(at)}).remove(),B.each(function(at){var lt=A.select(this),K="dropdown"===at.type?O:null;y.manageCommandObserver(F,at,at.buttons,function(j){u(F,at,0,lt,K,et,j.index,!0)}),"dropdown"===at.type?(g(F,lt,O,et,at),f(O,at)&&c(F,lt,O,et,at)):c(F,lt,null,null,at)})}}},76908:function(tt,W,t){"use strict";var A=t(73712);tt.exports={moduleType:"component",name:A.name,layoutAttributes:t(88444),supplyLayoutDefaults:t(91384),draw:t(14420)}},37400:function(tt,W,t){"use strict";tt.exports=L;var A=t(33428),y=t(76308),i=t(43616),P=t(3400);function L(l,m,r){this.gd=l,this.container=m,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}L.barWidth=2,L.barLength=20,L.barRadius=2,L.barPad=1,L.barColor="#808BA4",L.prototype.enable=function(m,r,e){var s=this.gd._fullLayout,a=s.width,h=s.height;this.position=m;var x,S,T,n,f=this.position.l,u=this.position.w,g=this.position.t,c=this.position.h,w=this.position.direction,d="down"===w,o="left"===w,M="up"===w,b=u,E=c;!d&&!o&&!("right"===w)&&!M&&(this.position.direction="down",d=!0),d||M?(S=(x=f)+b,d?(T=g,E=(n=Math.min(T+E,h))-T):E=(n=g+E)-(T=Math.max(n-E,0))):(n=(T=g)+E,o?b=(S=f+b)-(x=Math.max(S-b,0)):(x=f,b=(S=Math.min(x+b,a))-x)),this._box={l:x,t:T,w:b,h:E};var p=u>b,F=L.barLength+2*L.barPad,D=L.barWidth+2*L.barPad,N=f,k=g+c;k+D>h&&(k=h-D);var z=this.container.selectAll("rect.scrollbar-horizontal").data(p?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-horizontal",!0).call(y.fill,L.barColor),p?(this.hbar=z.attr({rx:L.barRadius,ry:L.barRadius,x:N,y:k,width:F,height:D}),this._hbarXMin=N+F/2,this._hbarTranslateMax=b-F):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var B=c>E,O=L.barWidth+2*L.barPad,U=L.barLength+2*L.barPad,G=f+u,J=g;G+O>a&&(G=a-O);var et=this.container.selectAll("rect.scrollbar-vertical").data(B?[0]:[]);et.exit().on(".drag",null).remove(),et.enter().append("rect").classed("scrollbar-vertical",!0).call(y.fill,L.barColor),B?(this.vbar=et.attr({rx:L.barRadius,ry:L.barRadius,x:G,y:J,width:O,height:U}),this._vbarYMin=J+U/2,this._vbarTranslateMax=E-U):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var at=this.id,lt=x-.5,K=B?S+O+.5:S+.5,j=T-.5,rt=p?n+D+.5:n+.5,H=s._topdefs.selectAll("#"+at).data(p||B?[0]:[]);if(H.exit().remove(),H.enter().append("clipPath").attr("id",at).append("rect"),p||B?(this._clipRect=H.select("rect").attr({x:Math.floor(lt),y:Math.floor(j),width:Math.ceil(K)-Math.floor(lt),height:Math.ceil(rt)-Math.floor(j)}),this.container.call(i.setClipUrl,at,this.gd),this.bg.attr({x:f,y:g,width:u,height:c})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),p||B){var Z=A.behavior.drag().on("dragstart",function(){A.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Z);var it=A.behavior.drag().on("dragstart",function(){A.event.sourceEvent.preventDefault(),A.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));p&&this.hbar.on(".drag",null).call(it),B&&this.vbar.on(".drag",null).call(it)}this.setTranslate(r,e)},L.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},L.prototype._onBoxDrag=function(){var m=this.translateX,r=this.translateY;this.hbar&&(m-=A.event.dx),this.vbar&&(r-=A.event.dy),this.setTranslate(m,r)},L.prototype._onBoxWheel=function(){var m=this.translateX,r=this.translateY;this.hbar&&(m+=A.event.deltaY),this.vbar&&(r+=A.event.deltaY),this.setTranslate(m,r)},L.prototype._onBarDrag=function(){var m=this.translateX,r=this.translateY;if(this.hbar){var e=m+this._hbarXMin,s=e+this._hbarTranslateMax;m=(P.constrain(A.event.x,e,s)-e)/(s-e)*(this.position.w-this._box.w)}if(this.vbar){var u=r+this._vbarYMin,g=u+this._vbarTranslateMax;r=(P.constrain(A.event.y,u,g)-u)/(g-u)*(this.position.h-this._box.h)}this.setTranslate(m,r)},L.prototype.setTranslate=function(m,r){var e=this.position.w-this._box.w,s=this.position.h-this._box.h;m=P.constrain(m||0,0,e),r=P.constrain(r||0,0,s),this.translateX=m,this.translateY=r,this.container.call(i.setTranslate,this._box.l-this.position.l-m,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+m-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar&&this.hbar.call(i.setTranslate,m+m/e*this._hbarTranslateMax,r),this.vbar&&this.vbar.call(i.setTranslate,m,r+r/s*this._vbarTranslateMax)}},84284:function(tt){"use strict";tt.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(tt){"use strict";tt.exports={axisRefDescription:function(W,t,A){return["If set to a",W,"axis id (e.g. *"+W+"* or","*"+W+"2*), the `"+W+"` position refers to a",W,"coordinate. If set to *paper*, the `"+W+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+A+"). If set to a",W,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+W+"2 domain* refers to the domain of the second",W," axis and a",W,"position of 0.5 refers to the","point between the",t,"and the",A,"of the domain of the","second",W,"axis."].join(" ")}}},48164:function(tt){"use strict";tt.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25b2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25bc"}}},26880:function(tt){"use strict";tt.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(tt){"use strict";tt.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(tt){"use strict";tt.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(tt){"use strict";tt.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},13448:function(tt){"use strict";tt.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(tt){"use strict";tt.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},2264:function(tt,W){"use strict";W.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],W.STYLE=W.CSS_DECLARATIONS.map(function(t){return t.join(": ")+"; "}).join("")},9616:function(tt,W){"use strict";W.xmlns="http://www.w3.org/2000/xmlns/",W.svg="http://www.w3.org/2000/svg",W.xlink="http://www.w3.org/1999/xlink",W.svgAttrs={xmlns:W.svg,"xmlns:xlink":W.xlink}},64884:function(tt,W,t){"use strict";W.version=t(25788).version,t(88324),t(79288);for(var A=t(24040),y=W.register=A.register,i=t(22448),P=Object.keys(i),L=0;L<P.length;L++){var l=P[L];"_"!==l.charAt(0)&&(W[l]=i[l]),y({moduleType:"apiMethod",name:l,fn:i[l]})}y(t(65875)),y([t(79180),t(56864),t(22676),t(41592),t(7402),t(76908),t(97544),t(49692),t(41152),t(12704),t(64968),t(8932),t(55080),t(2780),t(93024),t(45460)]),y([t(6580),t(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(y(window.PlotlyLocales),delete window.PlotlyLocales),W.Icons=t(9224);var m=t(93024),r=t(7316);W.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},W.Fx={hover:m.hover,unhover:m.unhover,loneHover:m.loneHover,loneUnhover:m.loneUnhover},W.Snapshot=t(78904),W.PlotSchema=t(73060)},9224:function(tt){"use strict";tt.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(tt,W){"use strict";W.isLeftAnchor=function(A){return"left"===A.xanchor||"auto"===A.xanchor&&A.x<=.3333333333333333},W.isCenterAnchor=function(A){return"center"===A.xanchor||"auto"===A.xanchor&&A.x>.3333333333333333&&A.x<.6666666666666666},W.isRightAnchor=function(A){return"right"===A.xanchor||"auto"===A.xanchor&&A.x>=.6666666666666666},W.isTopAnchor=function(A){return"top"===A.yanchor||"auto"===A.yanchor&&A.y>=.6666666666666666},W.isMiddleAnchor=function(A){return"middle"===A.yanchor||"auto"===A.yanchor&&A.y>.3333333333333333&&A.y<.6666666666666666},W.isBottomAnchor=function(A){return"bottom"===A.yanchor||"auto"===A.yanchor&&A.y<=.3333333333333333}},11864:function(tt,W,t){"use strict";var A=t(20435),y=A.mod,i=A.modHalf,P=Math.PI,L=2*P;function r(w){return Math.abs(w[1]-w[0])>L-1e-14}function e(w,d){return i(d-w,L)}function a(w,d){if(r(d))return!0;var o,v;d[0]<d[1]?(o=d[0],v=d[1]):(o=d[1],v=d[0]),(o=y(o,L))>(v=y(v,L))&&(v+=L);var M=y(w,L),b=M+L;return M>=o&&M<=v||b>=o&&b<=v}function f(w,d,o,v,M,b,E){M=M||0,b=b||0;var S,T,n,C,p,x=r([o,v]);function F(z,B){return[z*Math.cos(B)+M,b-z*Math.sin(B)]}x?(S=0,T=P,n=L):o<v?(S=o,n=v):(S=v,n=o),w<d?(C=w,p=d):(C=d,p=w);var k,D=Math.abs(n-S)<=P?0:1;function N(z,B,O){return"A"+[z,z]+" "+[0,D,O]+" "+F(z,B)}return x?k=null===C?"M"+F(p,S)+N(p,T,0)+N(p,n,0)+"Z":"M"+F(C,S)+N(C,T,0)+N(C,n,0)+"ZM"+F(p,S)+N(p,T,1)+N(p,n,1)+"Z":null===C?(k="M"+F(p,S)+N(p,n,0),E&&(k+="L0,0Z")):k="M"+F(C,S)+"L"+F(p,S)+N(p,n,0)+"L"+F(C,n)+N(C,S,1)+"Z",k}tt.exports={deg2rad:function l(w){return w/180*P},rad2deg:function m(w){return w/P*180},angleDelta:e,angleDist:function s(w,d){return Math.abs(e(w,d))},isFullCircle:r,isAngleInsideSector:a,isPtInsideSector:function h(w,d,o,v){return!!a(d,v)&&(o[0]<o[1]?(M=o[0],b=o[1]):(M=o[1],b=o[0]),w>=M&&w<=b);var M,b},pathArc:function u(w,d,o,v,M){return f(null,w,d,o,v,M,0)},pathSector:function g(w,d,o,v,M){return f(null,w,d,o,v,M,1)},pathAnnulus:function c(w,d,o,v,M,b){return f(w,d,o,v,M,b,1)}}},38116:function(tt,W,t){"use strict";var A=t(83160).decode,y=t(63620),i=Array.isArray,P=ArrayBuffer,L=DataView;function l(f){return P.isView(f)&&!(f instanceof L)}function m(f){return i(f)||l(f)}W.isTypedArray=l,W.isArrayOrTypedArray=m,W.isArray1D=function r(f){return!m(f[0])},W.ensureArray=function(f,u){return i(f)||(f=[]),f.length=u,f};var e={u1c:"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,i1:"undefined"==typeof Int8Array?void 0:Int8Array,u1:"undefined"==typeof Uint8Array?void 0:Uint8Array,i2:"undefined"==typeof Int16Array?void 0:Int16Array,u2:"undefined"==typeof Uint16Array?void 0:Uint16Array,i4:"undefined"==typeof Int32Array?void 0:Int32Array,u4:"undefined"==typeof Uint32Array?void 0:Uint32Array,f4:"undefined"==typeof Float32Array?void 0:Float32Array,f8:"undefined"==typeof Float64Array?void 0:Float64Array};function s(f){return f.constructor===ArrayBuffer}function h(f,u,g){if(m(f)){if(m(f[0])){for(var c=g,w=0;w<f.length;w++)c=u(c,f[w].length);return c}return f.length}return 0}e.uint8c=e.u1c,e.uint8=e.u1,e.int8=e.i1,e.uint16=e.u2,e.int16=e.i2,e.uint32=e.u4,e.int32=e.i4,e.float32=e.f4,e.float64=e.f8,W.isArrayBuffer=s,W.decodeTypedArraySpec=function(f){var u=[],g=function a(f){return{bdata:f.bdata,dtype:f.dtype,shape:f.shape}}(f),c=g.dtype,w=e[c];if(!w)throw new Error('Error in dtype: "'+c+'"');var d=w.BYTES_PER_ELEMENT,o=g.bdata;s(o)||(o=A(o));var v=void 0===g.shape?[o.byteLength/d]:(""+g.shape).split(",");v.reverse();var b,E,M=v.length,x=+v[0],S=d*x,T=0;if(1===M)u=new w(o);else if(2===M)for(b=+v[1],E=0;E<b;E++)u[E]=new w(o,T,x),T+=S;else{if(3!==M)throw new Error("ndim: "+M+'is not supported with the shape:"'+g.shape+'"');b=+v[1];for(var n=+v[2],C=0;C<n;C++)for(u[C]=[],E=0;E<b;E++)u[C][E]=new w(o,T,x),T+=S}return u.bdata=g.bdata,u.dtype=g.dtype,u.shape=v.reverse().join(","),f._inputArray=u,u},W.isTypedArraySpec=function(f){return y(f)&&f.hasOwnProperty("dtype")&&"string"==typeof f.dtype&&f.hasOwnProperty("bdata")&&("string"==typeof f.bdata||s(f.bdata))&&(void 0===f.shape||f.hasOwnProperty("shape")&&("string"==typeof f.shape||"number"==typeof f.shape))},W.concat=function(){var c,w,d,o,v,M,b,E,f=[],u=!0,g=0;for(d=0;d<arguments.length;d++)(M=(o=arguments[d]).length)&&(w?f.push(o):(w=o,v=M),i(o)?c=!1:(u=!1,g?c!==o.constructor&&(c=!1):c=o.constructor),g+=M);if(!g)return[];if(!f.length)return w;if(u)return w.concat.apply(w,f);if(c){for((b=new c(g)).set(w),d=0;d<f.length;d++)b.set(o=f[d],v),v+=o.length;return b}for(b=new Array(g),E=0;E<w.length;E++)b[E]=w[E];for(d=0;d<f.length;d++){for(o=f[d],E=0;E<o.length;E++)b[v+E]=o[E];v+=E}return b},W.maxRowLength=function(f){return h(f,Math.max,0)},W.minRowLength=function(f){return h(f,Math.min,1/0)}},54037:function(tt,W,t){"use strict";var A=t(38248),y=t(39032).BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;tt.exports=function(L){return"string"==typeof L&&(L=L.replace(i,"")),A(L)?Number(L):y}},73696:function(tt){"use strict";tt.exports=function(t){var A=t._fullLayout;A._glcanvas&&A._glcanvas.size()&&A._glcanvas.each(function(y){y.regl&&y.regl.clear({color:!0,depth:!0})})}},75352:function(tt){"use strict";tt.exports=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)}},63064:function(tt,W,t){"use strict";var A=t(38248),y=t(49760),i=t(45464),P=t(88304),L=t(76308),l=t(13448).DESELECTDIM,m=t(22296),r=t(53756).counter,e=t(20435).modHalf,s=t(38116).isArrayOrTypedArray,a=t(38116).isTypedArraySpec,h=t(38116).decodeTypedArraySpec;function f(u,g){var c=W.valObjectMeta[g.valType];if(g.arrayOk&&s(u))return!0;if(c.validateFunction)return c.validateFunction(u,g);var w={},d=w;return c.coerceFunction(u,{set:function(v){d=v}},w,g),d!==w}W.valObjectMeta={data_array:{coerceFunction:function(u,g,c){g.set(s(u)?u:a(u)?h(u):c)}},enumerated:{coerceFunction:function(u,g,c,w){w.coerceNumber&&(u=+u),-1===w.values.indexOf(u)?g.set(c):g.set(u)},validateFunction:function(u,g){g.coerceNumber&&(u=+u);for(var c=g.values,w=0;w<c.length;w++){var d=String(c[w]);if("/"===d.charAt(0)&&"/"===d.charAt(d.length-1)){if(new RegExp(d.substr(1,d.length-2)).test(u))return!0}else if(u===c[w])return!0}return!1}},boolean:{coerceFunction:function(u,g,c){g.set(!0===u||!1===u?u:c)}},number:{coerceFunction:function(u,g,c,w){!A(u)||void 0!==w.min&&u<w.min||void 0!==w.max&&u>w.max?g.set(c):g.set(+u)}},integer:{coerceFunction:function(u,g,c,w){u%1||!A(u)||void 0!==w.min&&u<w.min||void 0!==w.max&&u>w.max?g.set(c):g.set(+u)}},string:{coerceFunction:function(u,g,c,w){g.set("string"!=typeof u?!0!==w.strict&&"number"==typeof u?String(u):c:w.noBlank&&!u?c:u)}},color:{coerceFunction:function(u,g,c){y(u).isValid()?g.set(u):g.set(c)}},colorlist:{coerceFunction:function(u,g,c){Array.isArray(u)&&u.length&&u.every(function w(d){return y(d).isValid()})?g.set(u):g.set(c)}},colorscale:{coerceFunction:function(u,g,c){g.set(P.get(u,c))}},angle:{coerceFunction:function(u,g,c){"auto"===u?g.set("auto"):A(u)?g.set(e(+u,360)):g.set(c)}},subplotid:{coerceFunction:function(u,g,c,w){var d=w.regex||r(c);"string"==typeof u&&d.test(u)?g.set(u):g.set(c)},validateFunction:function(u,g){var c=g.dflt;return u===c||"string"==typeof u&&!!r(c).test(u)}},flaglist:{coerceFunction:function(u,g,c,w){if(-1===(w.extras||[]).indexOf(u))if("string"==typeof u){for(var d=u.split("+"),o=0;o<d.length;){var v=d[o];-1===w.flags.indexOf(v)||d.indexOf(v)<o?d.splice(o,1):o++}g.set(d.length?d.join("+"):c)}else g.set(c);else g.set(u)}},any:{coerceFunction:function(u,g,c){g.set(void 0===u?c:a(u)?h(u):u)}},info_array:{coerceFunction:function(u,g,c,w){function d(N,k,z){var B;return void 0===z&&(z=k.dflt),W.valObjectMeta[k.valType].coerceFunction(N,{set:function(U){B=U}},z,k),B}if(a(u)&&(u=h(u)),s(u)){var T,n,C,F,D,o=2===w.dimensions||"1-2"===w.dimensions&&Array.isArray(u)&&s(u[0]),v=w.items,M=[],b=Array.isArray(v),E=b&&o&&s(v[0]),x=o&&b&&!E,S=b&&!x?v.length:u.length;if(c=Array.isArray(c)?c:[],o)for(T=0;T<S;T++)for(M[T]=[],C=s(u[T])?u[T]:[],F=x?v.length:b?v[T].length:C.length,n=0;n<F;n++)void 0!==(D=d(C[n],x?v[n]:b?v[T][n]:v,(c[T]||[])[n]))&&(M[T][n]=D);else for(T=0;T<S;T++)void 0!==(D=d(u[T],b?v[T]:v,c[T]))&&(M[T]=D);g.set(M)}else g.set(c)},validateFunction:function(u,g){if(!s(u))return!1;var c=g.items,w=Array.isArray(c),d=2===g.dimensions;if(!g.freeLength&&u.length!==c.length)return!1;for(var o=0;o<u.length;o++)if(d){if(!s(u[o])||!g.freeLength&&u[o].length!==c[o].length)return!1;for(var v=0;v<u[o].length;v++)if(!f(u[o][v],w?c[o][v]:c))return!1}else if(!f(u[o],w?c[o]:c))return!1;return!0}}},W.coerce=function(u,g,c,w,d){var o=m(c,w).get(),v=m(u,w),M=m(g,w),b=v.get(),E=g._template;if(void 0===b&&E&&(b=m(E,w).get(),E=0),void 0===d&&(d=o.dflt),o.arrayOk){if(s(b))return M.set(b),b;if(a(b))return b=h(b),M.set(b),b}var x=W.valObjectMeta[o.valType].coerceFunction;x(b,M,d,o);var S=M.get();return E&&S===d&&!f(b,o)&&(x(b=m(E,w).get(),M,d,o),S=M.get()),S},W.coerce2=function(u,g,c,w,d){var o=m(u,w),v=W.coerce(u,g,c,w,d);return null!=o.get()&&v},W.coerceFont=function(u,g,c){var w={};return w.family=u(g+".family",(c=c||{}).family),w.size=u(g+".size",c.size),w.color=u(g+".color",c.color),w},W.coercePattern=function(u,g,c,w){if(u(g+".shape")){u(g+".solidity"),u(g+".size");var v="overlay"===u(g+".fillmode");if(!w){var M=u(g+".bgcolor",v?c:void 0);u(g+".fgcolor",v?L.contrast(M):c)}u(g+".fgopacity",v?.5:1)}},W.coerceHoverinfo=function(u,g,c){var v,w=g._module.attributes,d=w.hoverinfo?w:i,o=d.hoverinfo;if(1===c._dataLength){var M="all"===o.dflt?o.flags.slice():o.dflt.split("+");M.splice(M.indexOf("name"),1),v=M.join("+")}return W.coerce(u,g,d,"hoverinfo",v)},W.coerceSelectionMarkerOpacity=function(u,g){if(u.marker){var w,d,c=u.marker.opacity;void 0!==c&&(!s(c)&&!u.selected&&!u.unselected&&(w=c,d=l*c),g("selected.marker.opacity",w),g("unselected.marker.opacity",d))}},W.validate=f},67555:function(tt,W,t){"use strict";var o,v,A=t(94336).Yn,y=t(38248),i=t(24248),P=t(20435).mod,L=t(39032),l=L.BADNUM,m=L.ONEDAY,r=L.ONEHOUR,e=L.ONEMIN,s=L.ONESEC,a=L.EPOCHJD,h=t(24040),f=t(94336).E9,u=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,c=(new Date).getFullYear()-70;function w(k){return k&&h.componentsRegistry.calendars&&"string"==typeof k&&"gregorian"!==k}function M(k,z){return String(k+Math.pow(10,z)).substr(1)}W.dateTick0=function(k,z){var B=function d(k,z){return w(k)?z?h.getComponentMethod("calendars","CANONICAL_SUNDAY")[k]:h.getComponentMethod("calendars","CANONICAL_TICK")[k]:z?"2000-01-02":"2000-01-01"}(k,!!z);if(z<2)return B;var O=W.dateTime2ms(B,k);return W.ms2DateTime(O+=m*(z-1),0,k)},W.dfltRange=function(k){return w(k)?h.getComponentMethod("calendars","DFLTRANGE")[k]:["2000-01-01","2001-01-01"]},W.isJSDate=function(k){return"object"==typeof k&&null!==k&&"function"==typeof k.getTime},W.dateTime2ms=function(k,z){if(W.isJSDate(k)){var B=k.getTimezoneOffset()*e,O=(k.getUTCMinutes()-k.getMinutes())*e+(k.getUTCSeconds()-k.getSeconds())*s+(k.getUTCMilliseconds()-k.getMilliseconds());if(O){var U=3*e;B=B-U/2+P(O-B+U/2,U)}return(k=Number(k)-B)>=o&&k<=v?k:l}if("string"!=typeof k&&"number"!=typeof k)return l;k=String(k);var G=w(z),J=k.charAt(0);G&&("G"===J||"g"===J)&&(k=k.substr(1),z="");var et=G&&"chinese"===z.substr(0,7),at=k.match(et?g:u);if(!at)return l;var lt=at[1],K=at[3]||"1",j=Number(at[5]||1),rt=Number(at[7]||0),H=Number(at[9]||0),Z=Number(at[11]||0);if(G){if(2===lt.length)return l;var it;lt=Number(lt);try{var Q=h.getComponentMethod("calendars","getCal")(z);if(et){var Y="i"===K.charAt(K.length-1);K=parseInt(K,10),it=Q.newDate(lt,Q.toMonthIndex(lt,K,Y),j)}else it=Q.newDate(lt,Number(K),j)}catch(_){return l}return it?(it.toJD()-a)*m+rt*r+H*e+Z*s:l}lt=2===lt.length?(Number(lt)+2e3-c)%100+c:Number(lt),K-=1;var nt=new Date(Date.UTC(2e3,K,j,rt,H));return nt.setUTCFullYear(lt),nt.getUTCMonth()!==K||nt.getUTCDate()!==j?l:nt.getTime()+Z*s},o=W.MIN_MS=W.dateTime2ms("-9999"),v=W.MAX_MS=W.dateTime2ms("9999-12-31 23:59:59.9999"),W.isDateTime=function(k,z){return W.dateTime2ms(k,z)!==l};var b=90*m,E=3*r,x=5*e;function S(k,z,B,O,U){if((z||B||O||U)&&(k+=" "+M(z,2)+":"+M(B,2),(O||U)&&(k+=":"+M(O,2),U))){for(var G=4;U%10==0;)G-=1,U/=10;k+="."+M(U,G)}return k}W.ms2DateTime=function(k,z,B){if("number"!=typeof k||!(k>=o&&k<=v))return l;z||(z=0);var G,J,et,at,lt,K,O=Math.floor(10*P(k+.05,1)),U=Math.round(k-O/10);if(w(B)){var j=Math.floor(U/m)+a,rt=Math.floor(P(k,m));try{G=h.getComponentMethod("calendars","getCal")(B).fromJD(j).formatDate("yyyy-mm-dd")}catch(H){G=f("G%Y-%m-%d")(new Date(U))}if("-"===G.charAt(0))for(;G.length<11;)G="-0"+G.substr(1);else for(;G.length<10;)G="0"+G;J=z<b?Math.floor(rt/r):0,et=z<b?Math.floor(rt%r/e):0,at=z<E?Math.floor(rt%e/s):0,lt=z<x?rt%s*10+O:0}else K=new Date(U),G=f("%Y-%m-%d")(K),J=z<b?K.getUTCHours():0,et=z<b?K.getUTCMinutes():0,at=z<E?K.getUTCSeconds():0,lt=z<x?10*K.getUTCMilliseconds()+O:0;return S(G,J,et,at,lt)},W.ms2DateTimeLocal=function(k){if(!(k>=o+m&&k<=v-m))return l;var z=Math.floor(10*P(k+.05,1)),B=new Date(Math.round(k-z/10));return S(A("%Y-%m-%d")(B),B.getHours(),B.getMinutes(),B.getSeconds(),10*B.getUTCMilliseconds()+z)},W.cleanDate=function(k,z,B){if(k===l)return z;if(W.isJSDate(k)||"number"==typeof k&&isFinite(k)){if(w(B))return i.error("JS Dates and milliseconds are incompatible with world calendars",k),z;if(!(k=W.ms2DateTimeLocal(+k))&&void 0!==z)return z}else if(!W.isDateTime(k,B))return i.error("unrecognized date",k),z;return k};var T=/%\d?f/g,n=/%h/g,C={1:"1",2:"1",3:"2",4:"2"};function p(k,z,B,O){k=k.replace(T,function(G){var J=Math.min(+G.charAt(1)||6,6);return(z/1e3%1+2).toFixed(J).substr(2).replace(/0+$/,"")||"0"});var U=new Date(Math.floor(z+.05));if(k=k.replace(n,function(){return C[B("%q")(U)]}),w(O))try{k=h.getComponentMethod("calendars","worldCalFmt")(k,z,O)}catch(G){return"Invalid"}return B(k)(U)}var F=[59,59.9,59.99,59.999,59.9999];W.formatDate=function(k,z,B,O,U,G){if(U=w(U)&&U,!z)if("y"===B)z=G.year;else if("m"===B)z=G.month;else{if("d"!==B)return function D(k,z){var B=P(k+.05,m),O=M(Math.floor(B/r),2)+":"+M(P(Math.floor(B/e),60),2);if("M"!==z){y(z)||(z=0);var G=(100+Math.min(P(k/s,60),F[z])).toFixed(z).substr(1);z>0&&(G=G.replace(/0+$/,"").replace(/[\.]$/,"")),O+=":"+G}return O}(k,B)+"\n"+p(G.dayMonthYear,k,O,U);z=G.dayMonth+"\n"+G.year}return p(z,k,O,U)};var N=3*m;W.incrementMonth=function(k,z,B){B=w(B)&&B;var O=P(k,m);if(k=Math.round(k-O),B)try{var U=Math.round(k/m)+a,G=h.getComponentMethod("calendars","getCal")(B),J=G.fromJD(U);return z%12?G.add(J,z,"m"):G.add(J,z/12,"y"),(J.toJD()-a)*m+O}catch(at){i.error("invalid ms "+k+" in calendar "+B)}var et=new Date(k+N);return et.setUTCMonth(et.getUTCMonth()+z)+O-N},W.findExactDates=function(k,z){for(var J,et,B=0,O=0,U=0,G=0,at=w(z)&&h.getComponentMethod("calendars","getCal")(z),lt=0;lt<k.length;lt++)if(y(et=k[lt])){if(!(et%m))if(at)try{1===(J=at.fromJD(et/m+a)).day()?1===J.month()?B++:O++:U++}catch(j){}else 1===(J=new Date(et)).getUTCDate()?0===J.getUTCMonth()?B++:O++:U++}else G++;var K=k.length-G;return{exactYears:B/K,exactMonths:(O+=B)/K,exactDays:(U+=O)/K}}},52200:function(tt,W,t){"use strict";var A=t(33428),y=t(24248),i=t(52248),P=t(36524);function m(c){var w=c&&c.parentNode;w&&w.removeChild(c)}function e(c,w,d){var o="plotly.js-style-"+c,v=document.getElementById(o);v||((v=document.createElement("style")).setAttribute("id",o),v.appendChild(document.createTextNode("")),document.head.appendChild(v));var M=v.sheet;M.insertRule?M.insertRule(w+"{"+d+"}",0):M.addRule?M.addRule(w,d,0):y.warn("addStyleRule failed")}function h(c){var w=window.getComputedStyle(c,null),d=w.getPropertyValue("-webkit-transform")||w.getPropertyValue("-moz-transform")||w.getPropertyValue("-ms-transform")||w.getPropertyValue("-o-transform")||w.getPropertyValue("transform");return"none"===d?null:d.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function f(c){for(var w=[];u(c);)w.push(c),c=c.parentNode;return w}function u(c){return c&&(c instanceof Element||c instanceof HTMLElement)}tt.exports={getGraphDiv:function L(c){var w;if("string"==typeof c){if(null===(w=document.getElementById(c)))throw new Error("No DOM element with id '"+c+"' exists on the page.");return w}if(null==c)throw new Error("DOM element provided is null or undefined");return c},isPlotDiv:function l(c){var w=A.select(c);return w.node()instanceof HTMLElement&&w.size()&&w.classed("js-plotly-plot")},removeElement:m,addStyleRule:function r(c,w){e("global",c,w)},addRelatedStyleRule:e,deleteRelatedStyleRule:function s(c){var d=document.getElementById("plotly.js-style-"+c);d&&m(d)},getFullTransformMatrix:function a(c){var w=f(c),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return w.forEach(function(o){var v=h(o);if(v){var M=i.convertCssMatrix(v);d=P.multiply(d,d,M)}}),d},getElementTransformMatrix:h,getElementAndAncestors:f,equalDomRects:function g(c,w){return c&&w&&c.top===w.top&&c.left===w.left&&c.right===w.right&&c.bottom===w.bottom}}},95924:function(tt,W,t){"use strict";var A=t(61252).EventEmitter;tt.exports={init:function(i){if(i._ev instanceof A)return i;var P=new A,L=new A;return i._ev=P,i._internalEv=L,i.on=P.on.bind(P),i.once=P.once.bind(P),i.removeListener=P.removeListener.bind(P),i.removeAllListeners=P.removeAllListeners.bind(P),i._internalOn=L.on.bind(L),i._internalOnce=L.once.bind(L),i._removeInternalListener=L.removeListener.bind(L),i._removeAllInternalListeners=L.removeAllListeners.bind(L),i.emit=function(l,m){"undefined"!=typeof jQuery&&jQuery(i).trigger(l,m),P.emit(l,m),L.emit(l,m)},i},triggerHandler:function(i,P,L){var l,m;"undefined"!=typeof jQuery&&(l=jQuery(i).triggerHandler(P,L));var r=i._ev;if(!r)return l;var a,e=r._events[P];if(!e)return l;function s(h){return h.listener?(r.removeListener(P,h.listener),h.fired?void 0:(h.fired=!0,h.listener.apply(r,[L]))):h.apply(r,[L])}for(e=Array.isArray(e)?e:[e],a=0;a<e.length-1;a++)s(e[a]);return m=s(e[a]),void 0!==l?l:m},purge:function(i){return delete i._ev,delete i.on,delete i.once,delete i.removeListener,delete i.removeAllListeners,delete i.emit,delete i._ev,delete i._internalEv,delete i._internalOn,delete i._internalOnce,delete i._removeInternalListener,delete i._removeAllInternalListeners,i}}},92880:function(tt,W,t){"use strict";var A=t(63620),y=Array.isArray;function P(L,l,m,r){var a,h,f,u,g,c,e=L[0],s=L.length;if(2===s&&y(e)&&y(L[1])&&0===e.length){if(function i(L,l){var m,r;for(m=0;m<L.length;m++){if(null!==(r=L[m])&&"object"==typeof r)return!1;void 0!==r&&(l[m]=r)}return!0}(L[1],e))return e;e.splice(0,e.length)}for(var d=1;d<s;d++)for(h in a=L[d])f=e[h],u=a[h],r&&y(u)?e[h]=u:l&&u&&(A(u)||(g=y(u)))?(g?(g=!1,c=f&&y(f)?f:[]):c=f&&A(f)?f:{},e[h]=P([c,u],l,m,r)):(void 0!==u||m)&&(e[h]=u);return e}W.extendFlat=function(){return P(arguments,!1,!1,!1)},W.extendDeep=function(){return P(arguments,!0,!1,!1)},W.extendDeepAll=function(){return P(arguments,!0,!0,!1)},W.extendDeepNoArrays=function(){return P(arguments,!0,!1,!0)}},68944:function(tt){"use strict";tt.exports=function(t){for(var A={},y=[],i=0,P=0;P<t.length;P++){var L=t[P];1!==A[L]&&(A[L]=1,y[i++]=L)}return y}},43880:function(tt){"use strict";function W(y){return!0===y.visible}function t(y){var i=y[0].trace;return!0===i.visible&&0!==i._length}tt.exports=function(i){for(var P=function A(y){return Array.isArray(y)&&Array.isArray(y[0])&&y[0][0]&&y[0][0].trace}(i)?t:W,L=[],l=0;l<i.length;l++){var m=i[l];P(m)&&L.push(m)}return L}},27144:function(tt,W,t){"use strict";var A=t(33428),y=t(36116),i=t(40440),P=t(77844),L=t(42428),l=t(35536),m=t(24248),r=t(63620),e=t(22296),s=t(92065),a=Object.keys(y),h={"ISO-3":l,"USA-states":l,"country names":function f(M){for(var b=0;b<a.length;b++){var E=a[b];if(new RegExp(y[E]).test(M.trim().toLowerCase()))return E}return m.log("Unrecognized country name: "+M+"."),!1}};function c(M){var b=M.geojson,E=window.PlotlyGeoAssets||{},x="string"==typeof b?E[b]:b;return r(x)?x:(m.error("Oops ... something went wrong when fetching "+b),!1)}tt.exports={locationToFeature:function u(M,b,E){if(!b||"string"!=typeof b)return!1;var S,T,n,x=h[M](b);if(x){if("USA-states"===M)for(S=[],n=0;n<E.length;n++)(T=E[n]).properties&&T.properties.gu&&"USA"===T.properties.gu&&S.push(T);else S=E;for(n=0;n<S.length;n++)if((T=S[n]).id===x)return T;m.log(["Location with id",x,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function g(M){var T,n,C,p,b=M.geometry,E=b.coordinates,x=M.id,S=[];function F(D){for(var N=0;N<D.length-1;N++)if(D[N][0]>0&&D[N+1][0]<0)return N;return null}switch(T="RUS"===x||"FJI"===x?function(D){var N;if(null===F(D))N=D;else for(N=new Array(D.length),p=0;p<D.length;p++)N[p]=[D[p][0]<0?D[p][0]+360:D[p][0],D[p][1]];S.push(s.tester(N))}:"ATA"===x?function(D){var N=F(D);if(null===N)return S.push(s.tester(D));var k=new Array(D.length+1),z=0;for(p=0;p<D.length;p++)p>N?k[z++]=[D[p][0]+360,D[p][1]]:p===N?(k[z++]=D[p],k[z++]=[D[p][0],-90]):k[z++]=D[p];var B=s.tester(k);B.pts.pop(),S.push(B)}:function(D){S.push(s.tester(D))},b.type){case"MultiPolygon":for(n=0;n<E.length;n++)for(C=0;C<E[n].length;C++)T(E[n][C]);break;case"Polygon":for(n=0;n<E.length;n++)T(E[n])}return S},getTraceGeojson:c,extractTraceFeature:function w(M){var b=M[0].trace,E=c(b);if(!E)return!1;var T,x={},S=[];for(T=0;T<b._length;T++){var n=M[T];(n.loc||0===n.loc)&&(x[n.loc]=n)}function C(D){var N=e(D,b.featureidkey||"id").get(),k=x[N];if(k){var z=D.geometry;if("Polygon"===z.type||"MultiPolygon"===z.type){var B={type:"Feature",id:N,geometry:z,properties:{}};B.properties.ct=function d(M){var E,b=M.geometry;if("MultiPolygon"===b.type)for(var x=b.coordinates,S=0,T=0;T<x.length;T++){var n={type:"Polygon",coordinates:x[T]},C=i.default(n);C>S&&(S=C,E=n)}else E=b;return P.default(E).geometry.coordinates}(B),k.fIn=D,k.fOut=B,S.push(B)}else m.log(["Location",k.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete x[N]}switch(E.type){case"FeatureCollection":var p=E.features;for(T=0;T<p.length;T++)C(p[T]);break;case"Feature":C(E);break;default:return m.warn(["Invalid GeoJSON type",(E.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var F in x)m.log(["Location *"+F+"*","does not have a matching feature with id-key","*"+b.featureidkey+"*."].join(" "));return S},fetchTraceGeoData:function o(M){var b=window.PlotlyGeoAssets||{},E=[];function x(p){return new Promise(function(F,D){A.json(p,function(N,k){return N?(delete b[p],D(new Error(404===N.status?'GeoJSON at URL "'+p+'" does not exist.':"Unexpected error while fetching from "+p))):(b[p]=k,F(k))})})}function S(p){return new Promise(function(F,D){var N=0,k=setInterval(function(){return b[p]&&"pending"!==b[p]?(clearInterval(k),F(b[p])):N>100?(clearInterval(k),D("Unexpected error while fetching from "+p)):void N++},50)})}for(var T=0;T<M.length;T++){var C=M[T][0].trace.geojson;"string"==typeof C&&(b[C]?"pending"===b[C]&&E.push(S(C)):(b[C]="pending",E.push(x(C))))}return E},computeBbox:function v(M){return L.default(M)}}},44808:function(tt,W,t){"use strict";var A=t(39032).BADNUM;W.calcTraceToLineCoords=function(y){for(var P=y[0].trace.connectgaps,L=[],l=[],m=0;m<y.length;m++){var e=y[m].lonlat;e[0]!==A?l.push(e):!P&&l.length>0&&(L.push(l),l=[])}return l.length>0&&L.push(l),L},W.makeLine=function(y){return 1===y.length?{type:"LineString",coordinates:y[0]}:{type:"MultiLineString",coordinates:y}},W.makePolygon=function(y){if(1===y.length)return{type:"Polygon",coordinates:y};for(var i=new Array(y.length),P=0;P<y.length;P++)i[P]=[y[P]];return{type:"MultiPolygon",coordinates:i}},W.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(tt,W,t){"use strict";var P,L,l,A=t(20435).mod;function y(m,r,e,s,a,h,f,u){var g=e-m,c=a-m,w=f-a,d=s-r,o=h-r,v=u-h,M=g*v-w*d;if(0===M)return null;var b=(c*v-w*o)/M,E=(c*d-g*o)/M;return E<0||E>1||b<0||b>1?null:{x:m+g*b,y:r+d*b}}function i(m,r,e,s,a){var h=s*m+a*r;if(h<0)return s*s+a*a;if(h>e){var f=s-m,u=a-r;return f*f+u*u}var g=s*r-a*m;return g*g/e}W.segmentsIntersect=y,W.segmentDistance=function(r,e,s,a,h,f,u,g){if(y(r,e,s,a,h,f,u,g))return 0;var c=s-r,w=a-e,d=u-h,o=g-f,v=c*c+w*w,M=d*d+o*o,b=Math.min(i(c,w,v,h-r,f-e),i(c,w,v,u-r,g-e),i(d,o,M,r-h,e-f),i(d,o,M,s-h,a-f));return Math.sqrt(b)},W.getTextLocation=function(r,e,s,a){if((r!==L||a!==l)&&(P={},L=r,l=a),P[s])return P[s];var h=r.getPointAtLength(A(s-a/2,e)),f=r.getPointAtLength(A(s+a/2,e)),u=Math.atan((f.y-h.y)/(f.x-h.x)),g=r.getPointAtLength(A(s,e)),d={x:(4*g.x+h.x+f.x)/6,y:(4*g.y+h.y+f.y)/6,theta:u};return P[s]=d,d},W.clearLocationCache=function(){L=null},W.getVisibleSegment=function(r,e,s){var d,o,a=e.left,h=e.right,f=e.top,u=e.bottom,g=0,c=r.getTotalLength(),w=c;function v(b){var E=r.getPointAtLength(b);0===b?d=E:b===c&&(o=E);var x=E.x<a?a-E.x:E.x>h?E.x-h:0,S=E.y<f?f-E.y:E.y>u?E.y-u:0;return Math.sqrt(x*x+S*S)}for(var M=v(g);M;){if((g+=M+s)>w)return;M=v(g)}for(M=v(w);M;){if(g>(w-=M+s))return;M=v(w)}return{min:g,max:w,len:w-g,total:c,isClosed:0===g&&w===c&&Math.abs(d.x-o.x)<.1&&Math.abs(d.y-o.y)<.1}},W.findPointOnPath=function(r,e,s,a){for(var o,v,M,h=(a=a||{}).pathLength||r.getTotalLength(),f=a.tolerance||.001,u=a.iterationLimit||30,g=r.getPointAtLength(0)[s]>r.getPointAtLength(h)[s]?-1:1,c=0,w=0,d=h;c<u;){if(M=(v=r.getPointAtLength(o=(w+d)/2))[s]-e,Math.abs(M)<f)return v;g*M>0?d=o:w=o,c++}return v}},33040:function(tt,W,t){"use strict";var A=t(38248),y=t(49760),i=t(72160),P=t(8932),L=t(22548).defaultLine,l=t(38116).isArrayOrTypedArray,m=i(L);function e(u,g){var c=u;return c[3]*=g,c}function s(u){if(A(u))return m;var g=i(u);return g.length?g:m}function a(u){return A(u)?u:1}tt.exports={formatColor:function h(u,g,c){var w=u.color;w&&w._inputArray&&(w=w._inputArray);var b,E,x,S,T,d=l(w),o=l(g),v=P.extractOpts(u),M=[];if(b=void 0!==v.colorscale?P.makeColorScaleFuncFromTrace(u):s,E=d?function(C,p){return void 0===C[p]?m:i(b(C[p]))}:s,x=o?function(C,p){return void 0===C[p]?1:a(C[p])}:a,d||o)for(var n=0;n<c;n++)S=E(w,n),T=x(g,n),M[n]=e(S,T);else M=e(i(w),g);return M},parseColorScale:function f(u){var g=P.extractOpts(u),c=g.colorscale;return g.reversescale&&(c=P.flipScale(g.colorscale)),c.map(function(w){var d=w[0],v=y(w[1]).toRgb();return{index:d,rgb:[v.r,v.g,v.b,v.a]}})}}},71688:function(tt,W,t){"use strict";var A=t(35536);function y(i){return[i]}tt.exports={keyFun:function(i){return i.key},repeat:y,descend:A,wrap:y,unwrap:function(i){return i[0]}}},35536:function(tt){"use strict";tt.exports=function(t){return t}},1396:function(tt){"use strict";tt.exports=function(t,A){if(!A)return t;var y=1/Math.abs(A),i=y>1?(y*t+y*A)/y:t+A,P=String(i).length;if(P>16){var L=String(A).length;if(P>=String(t).length+L){var m=parseFloat(i).toPrecision(12);-1===m.indexOf("e+")&&(i=+m)}}return i}},3400:function(tt,W,t){"use strict";var A=t(33428),y=t(94336).E9,i=t(57624).E9,P=t(38248),L=t(39032),l=L.FP_SAFE,m=-l,r=L.BADNUM,e=tt.exports={};e.adjustFormat=function(it){return!it||/^\d[.]\df/.test(it)||/[.]\d%/.test(it)?it:"0.f"===it?"~f":/^\d%/.test(it)?"~%":/^\ds/.test(it)?"~s":!/^[~,.0$]/.test(it)&&/[&fps]/.test(it)?"~"+it:it};var s={};e.warnBadFormat=function(Z){var it=String(Z);s[it]||(s[it]=1,e.warn('encountered bad format: "'+it+'"'))},e.noFormat=function(Z){return String(Z)},e.numberFormat=function(Z){var it;try{it=i(e.adjustFormat(Z))}catch(Q){return e.warnBadFormat(Z),e.noFormat}return it},e.nestedProperty=t(22296),e.keyedContainer=t(37804),e.relativeAttr=t(23193),e.isPlainObject=t(63620),e.toLogRange=t(36896),e.relinkPrivateKeys=t(51528);var a=t(38116);e.isArrayBuffer=a.isArrayBuffer,e.isTypedArray=a.isTypedArray,e.isArrayOrTypedArray=a.isArrayOrTypedArray,e.isArray1D=a.isArray1D,e.ensureArray=a.ensureArray,e.concat=a.concat,e.maxRowLength=a.maxRowLength,e.minRowLength=a.minRowLength;var h=t(20435);e.mod=h.mod,e.modHalf=h.modHalf;var f=t(63064);e.valObjectMeta=f.valObjectMeta,e.coerce=f.coerce,e.coerce2=f.coerce2,e.coerceFont=f.coerceFont,e.coercePattern=f.coercePattern,e.coerceHoverinfo=f.coerceHoverinfo,e.coerceSelectionMarkerOpacity=f.coerceSelectionMarkerOpacity,e.validate=f.validate;var u=t(67555);e.dateTime2ms=u.dateTime2ms,e.isDateTime=u.isDateTime,e.ms2DateTime=u.ms2DateTime,e.ms2DateTimeLocal=u.ms2DateTimeLocal,e.cleanDate=u.cleanDate,e.isJSDate=u.isJSDate,e.formatDate=u.formatDate,e.incrementMonth=u.incrementMonth,e.dateTick0=u.dateTick0,e.dfltRange=u.dfltRange,e.findExactDates=u.findExactDates,e.MIN_MS=u.MIN_MS,e.MAX_MS=u.MAX_MS;var g=t(14952);e.findBin=g.findBin,e.sorterAsc=g.sorterAsc,e.sorterDes=g.sorterDes,e.distinctVals=g.distinctVals,e.roundUp=g.roundUp,e.sort=g.sort,e.findIndexOfMin=g.findIndexOfMin,e.sortObjectKeys=t(95376);var c=t(63084);e.aggNums=c.aggNums,e.len=c.len,e.mean=c.mean,e.median=c.median,e.midRange=c.midRange,e.variance=c.variance,e.stdev=c.stdev,e.interp=c.interp;var w=t(52248);e.init2dArray=w.init2dArray,e.transposeRagged=w.transposeRagged,e.dot=w.dot,e.translationMatrix=w.translationMatrix,e.rotationMatrix=w.rotationMatrix,e.rotationXYMatrix=w.rotationXYMatrix,e.apply3DTransform=w.apply3DTransform,e.apply2DTransform=w.apply2DTransform,e.apply2DTransform2=w.apply2DTransform2,e.convertCssMatrix=w.convertCssMatrix,e.inverseTransformMatrix=w.inverseTransformMatrix;var d=t(11864);e.deg2rad=d.deg2rad,e.rad2deg=d.rad2deg,e.angleDelta=d.angleDelta,e.angleDist=d.angleDist,e.isFullCircle=d.isFullCircle,e.isAngleInsideSector=d.isAngleInsideSector,e.isPtInsideSector=d.isPtInsideSector,e.pathArc=d.pathArc,e.pathSector=d.pathSector,e.pathAnnulus=d.pathAnnulus;var o=t(98308);e.isLeftAnchor=o.isLeftAnchor,e.isCenterAnchor=o.isCenterAnchor,e.isRightAnchor=o.isRightAnchor,e.isTopAnchor=o.isTopAnchor,e.isMiddleAnchor=o.isMiddleAnchor,e.isBottomAnchor=o.isBottomAnchor;var v=t(92348);e.segmentsIntersect=v.segmentsIntersect,e.segmentDistance=v.segmentDistance,e.getTextLocation=v.getTextLocation,e.clearLocationCache=v.clearLocationCache,e.getVisibleSegment=v.getVisibleSegment,e.findPointOnPath=v.findPointOnPath;var M=t(92880);e.extendFlat=M.extendFlat,e.extendDeep=M.extendDeep,e.extendDeepAll=M.extendDeepAll,e.extendDeepNoArrays=M.extendDeepNoArrays;var b=t(24248);e.log=b.log,e.warn=b.warn,e.error=b.error;var E=t(53756);e.counterRegex=E.counter;var x=t(91200);e.throttle=x.throttle,e.throttleDone=x.done,e.clearThrottle=x.clear;var S=t(52200);function T(Z){var it={};for(var Q in Z)for(var Y=Z[Q],nt=0;nt<Y.length;nt++)it[Y[nt]]=+Q;return it}e.getGraphDiv=S.getGraphDiv,e.isPlotDiv=S.isPlotDiv,e.removeElement=S.removeElement,e.addStyleRule=S.addStyleRule,e.addRelatedStyleRule=S.addRelatedStyleRule,e.deleteRelatedStyleRule=S.deleteRelatedStyleRule,e.getFullTransformMatrix=S.getFullTransformMatrix,e.getElementTransformMatrix=S.getElementTransformMatrix,e.getElementAndAncestors=S.getElementAndAncestors,e.equalDomRects=S.equalDomRects,e.clearResponsive=t(75352),e.preserveDrawingBuffer=t(34296),e.makeTraceGroups=t(30988),e._=t(98356),e.notifier=t(41792),e.filterUnique=t(68944),e.filterVisible=t(43880),e.pushUnique=t(52416),e.increment=t(1396),e.cleanNumber=t(54037),e.ensureNumber=function(it){return P(it)?(it=Number(it))>l||it<m?r:it:r},e.isIndex=function(Z,it){return!(void 0!==it&&Z>=it)&&P(Z)&&Z>=0&&Z%1==0},e.noop=t(16628),e.identity=t(35536),e.repeat=function(Z,it){for(var Q=new Array(it),Y=0;Y<it;Y++)Q[Y]=Z;return Q},e.swapAttrs=function(Z,it,Q,Y){Q||(Q="x"),Y||(Y="y");for(var nt=0;nt<it.length;nt++){var _=it[nt],st=e.nestedProperty(Z,_.replace("?",Q)),dt=e.nestedProperty(Z,_.replace("?",Y)),xt=st.get();st.set(dt.get()),dt.set(xt)}},e.raiseToTop=function(it){it.parentNode.appendChild(it)},e.cancelTransition=function(Z){return Z.transition().duration(0)},e.constrain=function(Z,it,Q){return it>Q?Math.max(Q,Math.min(it,Z)):Math.max(it,Math.min(Q,Z))},e.bBoxIntersect=function(Z,it,Q){return Z.left<=it.right+(Q=Q||0)&&it.left<=Z.right+Q&&Z.top<=it.bottom+Q&&it.top<=Z.bottom+Q},e.simpleMap=function(Z,it,Q,Y,nt){for(var _=Z.length,st=new Array(_),dt=0;dt<_;dt++)st[dt]=it(Z[dt],Q,Y,nt);return st},e.randstr=function Z(it,Q,Y,nt){if(Y||(Y=16),void 0===Q&&(Q=24),Q<=0)return"0";var dt,xt,_=Math.log(Math.pow(2,Q))/Math.log(Y),st="";for(dt=2;_===1/0;dt*=2)_=Math.log(Math.pow(2,Q/dt))/Math.log(Y)*dt;var St=_-Math.floor(_);for(dt=0;dt<Math.floor(_);dt++)st=Math.floor(Math.random()*Y).toString(Y)+st;St&&(xt=Math.pow(Y,St),st=Math.floor(Math.random()*xt).toString(Y)+st);var Et=parseInt(st,Y);return it&&it[st]||Et!==1/0&&Et>=Math.pow(2,Q)?nt>10?(e.warn("randstr failed uniqueness"),st):Z(it,Q,Y,(nt||0)+1):st},e.OptionControl=function(Z,it){Z||(Z={}),it||(it="opt");var Q={optionList:[],_newoption:function(Y){Y[it]=Z,Q[Y.name]=Y,Q.optionList.push(Y)}};return Q["_"+it]=Z,Q},e.smooth=function(Z,it){if((it=Math.round(it)||0)<2)return Z;var dt,xt,yt,St,Q=Z.length,Y=2*Q,nt=2*it-1,_=new Array(nt),st=new Array(Q);for(dt=0;dt<nt;dt++)_[dt]=(1-Math.cos(Math.PI*(dt+1)/it))/(2*it);for(dt=0;dt<Q;dt++){for(St=0,xt=0;xt<nt;xt++)(yt=dt+xt+1-it)<-Q?yt-=Y*Math.round(yt/Y):yt>=Y&&(yt-=Y*Math.floor(yt/Y)),yt<0?yt=-1-yt:yt>=Q&&(yt=Y-1-yt),St+=Z[yt]*_[xt];st[dt]=St}return st},e.syncOrAsync=function(Z,it,Q){var Y;function _(){return e.syncOrAsync(Z,it,Q)}for(;Z.length;)if((Y=(0,Z.splice(0,1)[0])(it))&&Y.then)return Y.then(_);return Q&&Q(it)},e.stripTrailingSlash=function(Z){return"/"===Z.substr(-1)?Z.substr(0,Z.length-1):Z},e.noneOrAll=function(Z,it,Q){if(Z){var _,Y=!1,nt=!0;for(_=0;_<Q.length;_++)null!=Z[Q[_]]?Y=!0:nt=!1;if(Y&&!nt)for(_=0;_<Q.length;_++)Z[Q[_]]=it[Q[_]]}},e.mergeArray=function(Z,it,Q,Y){var nt="function"==typeof Y;if(e.isArrayOrTypedArray(Z))for(var _=Math.min(Z.length,it.length),st=0;st<_;st++){var dt=Z[st];it[st][Q]=nt?Y(dt):dt}},e.mergeArrayCastPositive=function(Z,it,Q){return e.mergeArray(Z,it,Q,function(Y){var nt=+Y;return isFinite(nt)&&nt>0?nt:0})},e.fillArray=function(Z,it,Q,Y){if(Y=Y||e.identity,e.isArrayOrTypedArray(Z))for(var nt=0;nt<it.length;nt++)it[nt][Q]=Y(Z[nt])},e.castOption=function(Z,it,Q,Y){Y=Y||e.identity;var nt=e.nestedProperty(Z,Q).get();return e.isArrayOrTypedArray(nt)?Array.isArray(it)&&e.isArrayOrTypedArray(nt[it[0]])?Y(nt[it[0]][it[1]]):Y(nt[it]):nt},e.extractOption=function(Z,it,Q,Y){if(Q in Z)return Z[Q];var nt=e.nestedProperty(it,Y).get();return Array.isArray(nt)?void 0:nt},e.tagSelected=function(Z,it,Q){var _,Et,Y=it.selectedpoints,nt=it._indexToPoints;nt&&(_=T(nt));for(var dt=0;dt<Y.length;dt++){var xt=Y[dt];if(e.isIndex(xt)||e.isArrayOrTypedArray(xt)&&e.isIndex(xt[0])&&e.isIndex(xt[1])){var yt=_?_[xt]:xt,St=Q?Q[yt]:yt;void 0!==(Et=St)&&Et<Z.length&&(Z[St].selected=1)}}},e.selIndices2selPoints=function(Z){var it=Z.selectedpoints,Q=Z._indexToPoints;if(Q){for(var Y=T(Q),nt=[],_=0;_<it.length;_++){var st=it[_];if(e.isIndex(st)){var dt=Y[st];e.isIndex(dt)&&nt.push(dt)}}return nt}return it},e.getTargetArray=function(Z,it){var Q=it.target;if("string"==typeof Q&&Q){var Y=e.nestedProperty(Z,Q).get();return!!e.isArrayOrTypedArray(Y)&&Y}return!!e.isArrayOrTypedArray(Q)&&Q},e.minExtend=function n(Z,it,Q){var Y={};"object"!=typeof it&&(it={});var st,dt,xt,nt="pieLike"===Q?-1:3,_=Object.keys(Z);for(st=0;st<_.length;st++)xt=Z[dt=_[st]],"_"!==dt.charAt(0)&&"function"!=typeof xt&&(Y[dt]="module"===dt?xt:Array.isArray(xt)?"colorscale"===dt||-1===nt?xt.slice():xt.slice(0,nt):e.isTypedArray(xt)?-1===nt?xt.subarray():xt.subarray(0,nt):xt&&"object"==typeof xt?n(Z[dt],it[dt],Q):xt);for(_=Object.keys(it),st=0;st<_.length;st++)("object"!=typeof(xt=it[dt=_[st]])||!(dt in Y)||"object"!=typeof Y[dt])&&(Y[dt]=xt);return Y},e.titleCase=function(Z){return Z.charAt(0).toUpperCase()+Z.substr(1)},e.containsAny=function(Z,it){for(var Q=0;Q<it.length;Q++)if(-1!==Z.indexOf(it[Q]))return!0;return!1},e.isIE=function(){return void 0!==window.navigator.msSaveBlob};var C=/Version\/[\d\.]+.*Safari/;e.isSafari=function(){return C.test(window.navigator.userAgent)};var p=/iPad|iPhone|iPod/;e.isIOS=function(){return p.test(window.navigator.userAgent)};var F=/Firefox\/(\d+)\.\d+/;e.getFirefoxVersion=function(){var Z=F.exec(window.navigator.userAgent);if(Z&&2===Z.length){var it=parseInt(Z[1]);if(!isNaN(it))return it}return null},e.isD3Selection=function(Z){return Z instanceof A.selection},e.ensureSingle=function(Z,it,Q,Y){var nt=Z.select(it+(Q?"."+Q:""));if(nt.size())return nt;var _=Z.append(it);return Q&&_.classed(Q,!0),Y&&_.call(Y),_},e.ensureSingleById=function(Z,it,Q,Y){var nt=Z.select(it+"#"+Q);if(nt.size())return nt;var _=Z.append(it).attr("id",Q);return Y&&_.call(Y),_},e.objectFromPath=function(Z,it){for(var Y,Q=Z.split("."),nt=Y={},_=0;_<Q.length;_++){var st=Q[_],dt=null,xt=Q[_].match(/(.*)\[([0-9]+)\]/);xt?(dt=xt[2],(Y=Y[st=xt[1]]=[])[dt]=_===Q.length-1?it:{},Y=Y[dt]):(Y[st]=_===Q.length-1?it:{},Y=Y[st])}return nt};var D=/^([^\[\.]+)\.(.+)?/,N=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function k(Z){return"__"===Z.slice(0,2)}e.expandObjectPaths=function(Z){var it,Q,Y,nt,_,st,dt;if("object"==typeof Z&&!Array.isArray(Z))for(Q in Z)if(Z.hasOwnProperty(Q))if(it=Q.match(D)){if(nt=Z[Q],k(Y=it[1]))continue;delete Z[Q],Z[Y]=e.extendDeepNoArrays(Z[Y]||{},e.objectFromPath(Q,e.expandObjectPaths(nt))[Y])}else if(it=Q.match(N)){if(nt=Z[Q],k(Y=it[1]))continue;if(_=parseInt(it[2]),delete Z[Q],Z[Y]=Z[Y]||[],"."===it[3])dt=it[4],st=Z[Y][_]=Z[Y][_]||{},e.extendDeepNoArrays(st,e.objectFromPath(dt,e.expandObjectPaths(nt)));else{if(k(Y))continue;Z[Y][_]=e.expandObjectPaths(nt)}}else{if(k(Q))continue;Z[Q]=e.expandObjectPaths(Z[Q])}return Z},e.numSeparate=function(Z,it,Q){if(Q||(Q=!1),"string"!=typeof it||0===it.length)throw new Error("Separator string required for formatting!");"number"==typeof Z&&(Z=String(Z));var Y=/(\d+)(\d{3})/,nt=it.charAt(0),_=it.charAt(1),st=Z.split("."),dt=st[0],xt=st.length>1?nt+st[1]:"";if(_&&(st.length>1||dt.length>4||Q))for(;Y.test(dt);)dt=dt.replace(Y,"$1"+_+"$2");return dt+xt},e.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var z=/^\w*$/;e.templateString=function(Z,it){var Q={};return Z.replace(e.TEMPLATE_STRING_REGEX,function(Y,nt){var _;return z.test(nt)?_=it[nt]:(Q[nt]=Q[nt]||e.nestedProperty(it,nt).get,_=Q[nt]()),e.isValidTextValue(_)?_:""})};var B={max:10,count:0,name:"hovertemplate"};e.hovertemplateString=function(){return at.apply(B,arguments)};var O={max:10,count:0,name:"texttemplate"};e.texttemplateString=function(){return at.apply(O,arguments)};var U=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function G(Z){var it=Z.match(U);return it?{key:it[1],op:it[2],number:Number(it[3])}:{key:Z,op:null,number:null}}var J={max:10,count:0,name:"texttemplate",parseMultDiv:!0};e.texttemplateStringForShapes=function(){return at.apply(J,arguments)};var et=/^[:|\|]/;function at(Z,it,Q){var Y=this,nt=arguments;it||(it={});var _={};return Z.replace(e.TEMPLATE_STRING_REGEX,function(st,dt,xt){var St="_xother"===dt||"_yother"===dt,Et="_xother_"===dt||"_yother_"===dt,Tt="xother_"===dt||"yother_"===dt,gt="xother"===dt||"yother"===dt||St||Tt||Et,Mt=dt;(St||Et)&&(Mt=Mt.substring(1)),(Tt||Et)&&(Mt=Mt.substring(0,Mt.length-1));var Vt,re,le,Nt=null,Gt=null;if(Y.parseMultDiv){var Pt=G(Mt);Mt=Pt.key,Nt=Pt.op,Gt=Pt.number}if(gt){if(void 0===(Vt=it[Mt]))return""}else for(le=3;le<nt.length;le++)if(re=nt[le]){if(re.hasOwnProperty(Mt)){Vt=re[Mt];break}if(z.test(Mt)||(Vt=e.nestedProperty(re,Mt).get(),(Vt=_[Mt]||e.nestedProperty(re,Mt).get())&&(_[Mt]=Vt)),void 0!==Vt)break}if(void 0!==Vt&&("*"===Nt&&(Vt*=Gt),"/"===Nt&&(Vt/=Gt)),void 0===Vt&&Y)return Y.count<Y.max&&(e.warn("Variable '"+Mt+"' in "+Y.name+" could not be found!"),Vt=st),Y.count===Y.max&&e.warn("Too many "+Y.name+" warnings - additional warnings will be suppressed"),Y.count++,st;if(xt){var It;if(":"===xt[0]&&(Vt=(It=Q?Q.numberFormat:e.numberFormat)(xt.replace(et,""))(Vt)),"|"===xt[0]){It=Q?Q.timeFormat:y;var Rt=e.dateTime2ms(Vt);Vt=e.formatDate(Rt,xt.replace(et,""),!1,It)}}else{var $t=Mt+"Label";it.hasOwnProperty($t)&&(Vt=it[$t])}return gt&&(Vt="("+Vt+")",(St||Et)&&(Vt=" "+Vt),(Tt||Et)&&(Vt+=" ")),Vt})}e.subplotSort=function(Z,it){for(var Q=Math.min(Z.length,it.length)+1,Y=0,nt=0,_=0;_<Q;_++){var st=Z.charCodeAt(_)||0,dt=it.charCodeAt(_)||0,xt=st>=48&&st<=57,yt=dt>=48&&dt<=57;if(xt&&(Y=10*Y+st-48),yt&&(nt=10*nt+dt-48),!xt||!yt){if(Y!==nt)return Y-nt;if(st!==dt)return st-dt}}return nt-Y};var j=2e9;e.seedPseudoRandom=function(){j=2e9},e.pseudoRandom=function(){var Z=j;return j=(69069*j+1)%4294967296,Math.abs(j-Z)<429496729?e.pseudoRandom():j/4294967296},e.fillText=function(Z,it,Q){var Y=Array.isArray(Q)?function(st){Q.push(st)}:function(st){Q.text=st},nt=e.extractOption(Z,it,"htx","hovertext");if(e.isValidTextValue(nt))return Y(nt);var _=e.extractOption(Z,it,"tx","text");return e.isValidTextValue(_)?Y(_):void 0},e.isValidTextValue=function(Z){return Z||0===Z},e.formatPercent=function(Z,it){it=it||0;for(var Q=(Math.round(100*Z*Math.pow(10,it))*Math.pow(.1,it)).toFixed(it)+"%",Y=0;Y<it;Y++)-1!==Q.indexOf(".")&&(Q=(Q=Q.replace("0%","%")).replace(".%","%"));return Q},e.isHidden=function(Z){var it=window.getComputedStyle(Z).display;return!it||"none"===it},e.strTranslate=function(Z,it){return Z||it?"translate("+Z+","+it+")":""},e.strRotate=function(Z){return Z?"rotate("+Z+")":""},e.strScale=function(Z){return 1!==Z?"scale("+Z+")":""},e.getTextTransform=function(Z){var it=Z.noCenter,Q=Z.textX,Y=Z.textY,xt=Z.rotate,yt=Z.scale;return yt?yt>1&&(yt=1):yt=0,e.strTranslate(Z.targetX-yt*(Q+(Z.anchorX||0)),Z.targetY-yt*(Y+(Z.anchorY||0)))+e.strScale(yt)+(xt?"rotate("+xt+(it?"":" "+Q+" "+Y)+")":"")},e.setTransormAndDisplay=function(Z,it){Z.attr("transform",e.getTextTransform(it)),Z.style("display",it.scale?null:"none")},e.ensureUniformFontSize=function(Z,it){var Q=e.extendFlat({},it);return Q.size=Math.max(it.size,Z._fullLayout.uniformtext.minsize||0),Q},e.join2=function(Z,it,Q){var Y=Z.length;return Y>1?Z.slice(0,-1).join(it)+Q+Z[Y-1]:Z.join(it)},e.bigFont=function(Z){return Math.round(1.2*Z)};var rt=e.getFirefoxVersion(),H=null!==rt&&rt<86;e.getPositionFromD3Event=function(){return H?[A.event.layerX,A.event.layerY]:[A.event.offsetX,A.event.offsetY]}},63620:function(tt){"use strict";tt.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t).hasOwnProperty("hasOwnProperty")}},37804:function(tt,W,t){"use strict";var A=t(22296),y=/^\w*$/;tt.exports=function(e,s,a,h){a=a||"name",h=h||"value";var f,u,g,c={};s&&s.length?(g=A(e,s),u=g.get()):u=e,s=s||"";var w={};if(u)for(f=0;f<u.length;f++)w[u[f][a]]=f;var d=y.test(h),o={set:function(v,M){var b=null===M?4:0;if(!u){if(!g||4===b)return;g.set(u=[])}var E=w[v];if(void 0===E){if(4===b)return;b|=3,w[v]=E=u.length}else M!==(d?u[E][h]:A(u[E],h).get())&&(b|=2);var x=u[E]=u[E]||{};return x[a]=v,d?x[h]=M:A(x,h).set(M),null!==M&&(b&=-5),c[E]=c[E]|b,o},get:function(v){if(u){var M=w[v];if(void 0!==M)return d?u[M][h]:A(u[M],h).get()}},rename:function(v,M){var b=w[v];return void 0===b||(c[b]=1|c[b],w[M]=b,delete w[v],u[b][a]=M),o},remove:function(v){var M=w[v];if(void 0===M)return o;var b=u[M];if(Object.keys(b).length>2)return c[M]=2|c[M],o.set(v,null);if(d){for(f=M;f<u.length;f++)c[f]=3|c[f];for(f=M;f<u.length;f++)w[u[f][a]]--;u.splice(M,1),delete w[v]}else A(b,h).set(null),c[M]=6|c[M];return o},constructUpdate:function(){for(var v,M,b={},E=Object.keys(c),x=0;x<E.length;x++)v=s+"["+(M=E[x])+"]",u[M]?(1&c[M]&&(b[v+"."+a]=u[M][a]),2&c[M]&&(b[v+"."+h]=d?4&c[M]?null:u[M][h]:4&c[M]?null:A(u[M],h).get())):b[v]=null;return b}};return o}},98356:function(tt,W,t){"use strict";var A=t(24040);tt.exports=function(i,P){for(var L=i._context.locale,l=0;l<2;l++){for(var m=i._context.locales,r=0;r<2;r++){var e=(m[L]||{}).dictionary;if(e){var s=e[P];if(s)return s}m=A.localeRegistry}var a=L.split("-")[0];if(a===L)break;L=a}return P}},24248:function(tt,W,t){"use strict";var A=t(20556).dfltConfig,y=t(41792),i=tt.exports={};i.log=function(){var P;if(A.logging>1){var L=["LOG:"];for(P=0;P<arguments.length;P++)L.push(arguments[P]);console.trace.apply(console,L)}if(A.notifyOnLogging>1){var l=[];for(P=0;P<arguments.length;P++)l.push(arguments[P]);y(l.join("<br>"),"long")}},i.warn=function(){var P;if(A.logging>0){var L=["WARN:"];for(P=0;P<arguments.length;P++)L.push(arguments[P]);console.trace.apply(console,L)}if(A.notifyOnLogging>0){var l=[];for(P=0;P<arguments.length;P++)l.push(arguments[P]);y(l.join("<br>"),"stick")}},i.error=function(){var P;if(A.logging>0){var L=["ERROR:"];for(P=0;P<arguments.length;P++)L.push(arguments[P]);console.error.apply(console,L)}if(A.notifyOnLogging>0){var l=[];for(P=0;P<arguments.length;P++)l.push(arguments[P]);y(l.join("<br>"),"stick")}}},30988:function(tt,W,t){"use strict";var A=t(33428);tt.exports=function(i,P,L){var l=i.selectAll("g."+L.replace(/\s/g,".")).data(P,function(r){return r[0].trace.uid});l.exit().remove(),l.enter().append("g").attr("class",L),l.order();var m=i.classed("rangeplot")?"nodeRangePlot3":"node3";return l.each(function(r){r[0][m]=A.select(this)}),l}},52248:function(tt,W,t){"use strict";var A=t(36524);W.init2dArray=function(y,i){for(var P=new Array(y),L=0;L<y;L++)P[L]=new Array(i);return P},W.transposeRagged=function(y){var L,l,i=0,P=y.length;for(L=0;L<P;L++)i=Math.max(i,y[L].length);var m=new Array(i);for(L=0;L<i;L++)for(m[L]=new Array(P),l=0;l<P;l++)m[L][l]=y[l][L];return m},W.dot=function(y,i){if(!y.length||!i.length||y.length!==i.length)return null;var L,l,P=y.length;if(y[0].length)for(L=new Array(P),l=0;l<P;l++)L[l]=W.dot(y[l],i);else if(i[0].length){var m=W.transposeRagged(i);for(L=new Array(m.length),l=0;l<m.length;l++)L[l]=W.dot(y,m[l])}else for(L=0,l=0;l<P;l++)L+=y[l]*i[l];return L},W.translationMatrix=function(y,i){return[[1,0,y],[0,1,i],[0,0,1]]},W.rotationMatrix=function(y){var i=y*Math.PI/180;return[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]]},W.rotationXYMatrix=function(y,i,P){return W.dot(W.dot(W.translationMatrix(i,P),W.rotationMatrix(y)),W.translationMatrix(-i,-P))},W.apply3DTransform=function(y){return function(){var i=arguments,P=1===arguments.length?i[0]:[i[0],i[1],i[2]||0];return W.dot(y,[P[0],P[1],P[2],1]).slice(0,3)}},W.apply2DTransform=function(y){return function(){var i=arguments;3===i.length&&(i=i[0]);var P=1===arguments.length?i[0]:[i[0],i[1]];return W.dot(y,[P[0],P[1],1]).slice(0,2)}},W.apply2DTransform2=function(y){var i=W.apply2DTransform(y);return function(P){return i(P.slice(0,2)).concat(i(P.slice(2,4)))}},W.convertCssMatrix=function(y){if(y){var i=y.length;if(16===i)return y;if(6===i)return[y[0],y[1],0,0,y[2],y[3],0,0,0,0,1,0,y[4],y[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},W.inverseTransformMatrix=function(y){var i=[];return A.invert(i,y),[[i[0],i[1],i[2],i[3]],[i[4],i[5],i[6],i[7]],[i[8],i[9],i[10],i[11]],[i[12],i[13],i[14],i[15]]]}},20435:function(tt){"use strict";tt.exports={mod:function W(A,y){var i=A%y;return i<0?i+y:i},modHalf:function t(A,y){return Math.abs(A)>y/2?A-Math.round(A/y)*y:A}}},22296:function(tt,W,t){"use strict";var A=t(38248),y=t(38116).isArrayOrTypedArray;function i(a,h){return function(){var u,g,c,w,d,f=a;for(w=0;w<h.length-1;w++){if(-1===(u=h[w])){for(g=!0,c=[],d=0;d<f.length;d++)c[d]=i(f[d],h.slice(w+1))(),c[d]!==c[0]&&(g=!1);return g?c[0]:c}if("number"==typeof u&&!y(f)||"object"!=typeof(f=f[u])||null===f)return}if("object"==typeof f&&null!==f&&null!==(c=f[h[w]]))return c}}tt.exports=function(h,f){if(A(f))f=String(f);else if("string"!=typeof f||"[-1]"===f.substr(f.length-4))throw"bad property string";var g,c,w,d,u=f.split(".");for(d=0;d<u.length;d++)if("__"===String(u[d]).slice(0,2))throw"bad property string";for(d=0;d<u.length;){if(g=String(u[d]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(g[1])u[d]=g[1];else{if(0!==d)throw"bad property string";u.splice(0,1)}for(c=g[2].substr(1,g[2].length-2).split("]["),w=0;w<c.length;w++)d++,u.splice(d,0,Number(c[w]))}d++}return"object"!=typeof h?function s(a,h,f){return{set:function(){throw"bad container"},get:function(){},astr:h,parts:f,obj:a}}(h,f,u):{set:l(h,u,f),get:i(h,u),astr:f,parts:u,obj:h}};var P=/(^|\.)args\[/;function L(a,h){return void 0===a||null===a&&!h.match(P)}function l(a,h,f){return function(u){var o,v,g=a,c="",w=[[a,c]],d=L(u,f);for(v=0;v<h.length-1;v++){if("number"==typeof(o=h[v])&&!y(g))throw"array index but container is not an array";if(-1===o){if(d=!r(g,h.slice(v+1),u,f))break;return}if(!e(g,o,h[v+1],d))break;if("object"!=typeof(g=g[o])||null===g)throw"container is not an object";c=m(c,o),w.push([g,c])}if(d){if(v===h.length-1&&(delete g[h[v]],Array.isArray(g)&&+h[v]==g.length-1))for(;g.length&&void 0===g[g.length-1];)g.pop()}else g[h[v]]=u}}function m(a,h){var f=h;return A(h)?f="["+h+"]":a&&(f="."+h),a+f}function r(a,h,f,u){var M,g=y(f),c=!0,w=f,d=u.replace("-1",0),o=!g&&L(f,d),v=h[0];for(M=0;M<a.length;M++)d=u.replace("-1",M),g&&(o=L(w=f[M%f.length],d)),o&&(c=!1),e(a,M,v,o)&&l(a[M],h,u.replace("-1",M))(w);return c}function e(a,h,f,u){if(void 0===a[h]){if(u)return!1;a[h]="number"==typeof f?[]:{}}return!0}},16628:function(tt){"use strict";tt.exports=function(){}},41792:function(tt,W,t){"use strict";var A=t(33428),y=t(38248),i=[];tt.exports=function(P,L){if(-1===i.indexOf(P)){i.push(P);var l=1e3;y(L)?l=L:"long"===L&&(l=3e3);var m=A.select("body").selectAll(".plotly-notifier").data([0]);m.enter().append("div").classed("plotly-notifier",!0),m.selectAll(".notifier-note").data(i).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(s){var a=A.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(e)});for(var h=a.append("p"),f=s.split(/<br\s*\/?>/g),u=0;u<f.length;u++)u&&h.append("br"),h.append("span").text(f[u]);"stick"===L?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(l).call(e)})}function e(s){s.duration(700).style("opacity",0).each("end",function(a){var h=i.indexOf(a);-1!==h&&i.splice(h,1),A.select(this).remove()})}}},72213:function(tt,W,t){"use strict";var A=t(93972),y="data-savedcursor";tt.exports=function(L,l){var m=L.attr(y);if(l){if(!m){for(var r=(L.attr("class")||"").split(" "),e=0;e<r.length;e++){var s=r[e];0===s.indexOf("cursor-")&&L.attr(y,s.substr(7)).classed(s,!1)}L.attr(y)||L.attr(y,"!!")}A(L,l)}else m&&(L.attr(y,null),"!!"===m?A(L):A(L,m))}},92065:function(tt,W,t){"use strict";var A=t(52248).dot,y=t(39032).BADNUM,i=tt.exports={};i.tester=function(L){var a,l=L.slice(),m=l[0][0],r=m,e=l[0][1],s=e;for((l[l.length-1][0]!==l[0][0]||l[l.length-1][1]!==l[0][1])&&l.push(l[0]),a=1;a<l.length;a++)m=Math.min(m,l[a][0]),r=Math.max(r,l[a][0]),e=Math.min(e,l[a][1]),s=Math.max(s,l[a][1]);var f,h=!1;5===l.length&&(l[0][0]===l[1][0]?l[2][0]===l[3][0]&&l[0][1]===l[3][1]&&l[1][1]===l[2][1]&&(h=!0,f=function(d){return d[0]===l[0][0]}):l[0][1]===l[1][1]&&l[2][1]===l[3][1]&&l[0][0]===l[3][0]&&l[1][0]===l[2][0]&&(h=!0,f=function(d){return d[1]===l[0][1]}));var c=!0,w=l[0];for(a=1;a<l.length;a++)if(w[0]!==l[a][0]||w[1]!==l[a][1]){c=!1;break}return{xmin:m,xmax:r,ymin:e,ymax:s,pts:l,contains:h?function u(d,o){var v=d[0],M=d[1];return!(v===y||v<m||v>r||M===y||M<e||M>s||o&&f(d))}:function g(d,o){var v=d[0],M=d[1];if(v===y||v<m||v>r||M===y||M<e||M>s)return!1;var T,n,C,p,F,b=l.length,E=l[0][0],x=l[0][1],S=0;for(T=1;T<b;T++)if(n=E,C=x,E=l[T][0],x=l[T][1],!(v<(p=Math.min(n,E))||v>Math.max(n,E)||M>Math.max(C,x)))if(M<Math.min(C,x))v!==p&&S++;else{if(M===(F=E===n?M:C+(v-n)*(x-C)/(E-n)))return!(1===T&&o);M<=F&&v!==p&&S++}return S%2==1},isRect:h,degenerate:c}},i.isSegmentBent=function(L,l,m,r){var u,g,c,e=L[l],s=[L[m][0]-e[0],L[m][1]-e[1]],a=A(s,s),h=Math.sqrt(a),f=[-s[1]/h,s[0]/h];for(u=l+1;u<m;u++)if((c=A(g=[L[u][0]-e[0],L[u][1]-e[1]],s))<0||c>a||Math.abs(A(g,f))>r)return!0;return!1},i.filter=function(L,l){var m=[L[0]],r=0,e=0;function s(h){L.push(h);var f=m.length,u=r;m.splice(e+1);for(var g=u+1;g<L.length;g++)(g===L.length-1||i.isSegmentBent(L,u,g+1,l))&&(m.push(L[g]),m.length<f-2&&(r=g,e=m.length-1),u=g)}return L.length>1&&s(L.pop()),{addPt:s,raw:L,filtered:m}}},5048:function(tt,W,t){"use strict";var A=t(16576),y=t(28624);tt.exports=function(P,L,l){var m=P._fullLayout,r=!0;return m._glcanvas.each(function(e){if(e.regl)e.regl.preloadCachedCode(l);else if(!e.pick||m._has("parcoords")){try{e.regl=y({canvas:this,attributes:{antialias:!e.pick,preserveDrawingBuffer:!0},pixelRatio:P._context.plotGlPixelRatio||t.g.devicePixelRatio,extensions:L||[],cachedCode:l||{}})}catch(s){r=!1}e.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(s){P&&P.emit&&P.emit("plotly_webglcontextlost",{event:s,layer:e.key})},!1)}}),r||A({container:m._glcontainer.node()}),r}},34296:function(tt,W,t){"use strict";var A=t(38248),y=t(25928);tt.exports=function(L){var l;if("string"!=typeof(l=L&&L.hasOwnProperty("userAgent")?L.userAgent:function i(){var P;return"undefined"!=typeof navigator&&(P=navigator.userAgent),P&&P.headers&&"string"==typeof P.headers["user-agent"]&&(P=P.headers["user-agent"]),P}()))return!0;var m=y({ua:{headers:{"user-agent":l}},tablet:!0,featureDetect:!1});if(!m)for(var r=l.split(" "),e=1;e<r.length;e++)if(-1!==r[e].indexOf("Safari"))for(var a=e-1;a>-1;a--){var h=r[a];if("Version/"===h.substr(0,8)){var f=h.substr(8).split(".")[0];if(A(f)&&(f=+f),f>=13)return!0}}return m}},52416:function(tt){"use strict";tt.exports=function(t,A){if(A instanceof RegExp){for(var y=A.toString(),i=0;i<t.length;i++)if(t[i]instanceof RegExp&&t[i].toString()===y)return t;t.push(A)}else(A||0===A)&&-1===t.indexOf(A)&&t.push(A);return t}},94552:function(tt,W,t){"use strict";var A=t(3400),y=t(20556).dfltConfig;var P={add:function(L,l,m,r,e){var s,a;L.undoQueue=L.undoQueue||{index:0,queue:[],sequence:!1},a=L.undoQueue.index,L.autoplay?L.undoQueue.inSequence||(L.autoplay=!1):(!L.undoQueue.sequence||L.undoQueue.beginSequence?(L.undoQueue.queue.splice(a,L.undoQueue.queue.length-a,s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),L.undoQueue.index+=1):s=L.undoQueue.queue[a-1],L.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(l),s.undo.args.unshift(m),s.redo.calls.push(r),s.redo.args.push(e)),L.undoQueue.queue.length>y.queueLength&&(L.undoQueue.queue.shift(),L.undoQueue.index--))},startSequence:function(L){L.undoQueue=L.undoQueue||{index:0,queue:[],sequence:!1},L.undoQueue.sequence=!0,L.undoQueue.beginSequence=!0},stopSequence:function(L){L.undoQueue=L.undoQueue||{index:0,queue:[],sequence:!1},L.undoQueue.sequence=!1,L.undoQueue.beginSequence=!1},undo:function(l){var m,r;if(!(void 0===l.undoQueue||isNaN(l.undoQueue.index)||l.undoQueue.index<=0)){for(l.undoQueue.index--,m=l.undoQueue.queue[l.undoQueue.index],l.undoQueue.inSequence=!0,r=0;r<m.undo.calls.length;r++)P.plotDo(l,m.undo.calls[r],m.undo.args[r]);l.undoQueue.inSequence=!1,l.autoplay=!1}},redo:function(l){var m,r;if(!(void 0===l.undoQueue||isNaN(l.undoQueue.index)||l.undoQueue.index>=l.undoQueue.queue.length)){for(m=l.undoQueue.queue[l.undoQueue.index],l.undoQueue.inSequence=!0,r=0;r<m.redo.calls.length;r++)P.plotDo(l,m.redo.calls[r],m.redo.args[r]);l.undoQueue.inSequence=!1,l.autoplay=!1,l.undoQueue.index++}},plotDo:function(L,l,m){L.autoplay=!0,m=function i(L,l){for(var r,m=[],e=0;e<l.length;e++)m[e]=(r=l[e])===L?r:"object"==typeof r?Array.isArray(r)?A.extendDeep([],r):A.extendDeepAll({},r):r;return m}(L,m),l.apply(null,m)}};tt.exports=P},53756:function(tt,W){"use strict";W.counter=function(t,A,y,i){var P=(A||"")+(y?"":"$"),L=!1===i?"":"^";return"xy"===t?new RegExp(L+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+P):new RegExp(L+t+"([2-9]|[1-9][0-9]+)?"+P)}},23193:function(tt){"use strict";var W=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,t=/^[^\.\[\]]+$/;tt.exports=function(A,y){for(;y;){var i=A.match(W);if(i)A=i[1];else{if(!A.match(t))throw new Error("bad relativeAttr call:"+[A,y]);A=""}if("^"!==y.charAt(0))break;y=y.slice(1)}return A&&"["!==y.charAt(0)?A+"."+y:A+y}},51528:function(tt,W,t){"use strict";var A=t(38116).isArrayOrTypedArray,y=t(63620);tt.exports=function i(P,L){for(var l in L){var m=L[l],r=P[l];if(r!==m)if("_"===l.charAt(0)||"function"==typeof m){if(l in P)continue;P[l]=m}else if(A(m)&&A(r)&&y(m[0])){if("customdata"===l||"ids"===l)continue;for(var e=Math.min(m.length,r.length),s=0;s<e;s++)r[s]!==m[s]&&y(m[s])&&y(r[s])&&i(r[s],m[s])}else y(m)&&y(r)&&(i(r,m),Object.keys(r).length||delete P[l])}}},14952:function(tt,W,t){"use strict";var A=t(38248),y=t(24248),i=t(35536),P=t(39032).BADNUM,L=1e-9;function l(s,a){return s<a}function m(s,a){return s<=a}function r(s,a){return s>a}function e(s,a){return s>=a}W.findBin=function(s,a,h){if(A(a.start))return h?Math.ceil((s-a.start)/a.size-L)-1:Math.floor((s-a.start)/a.size+L);var w,d,f=0,u=a.length,g=0,c=u>1?(a[u-1]-a[0])/(u-1):1;for(d=c>=0?h?l:m:h?e:r,s+=c*L*(h?-1:1)*(c>=0?1:-1);f<u&&g++<100;)d(a[w=Math.floor((f+u)/2)],s)?f=w+1:u=w;return g>90&&y.log("Long binary search..."),f-1},W.sorterAsc=function(s,a){return s-a},W.sorterDes=function(s,a){return a-s},W.distinctVals=function(s){var h,a=s.slice();for(a.sort(W.sorterAsc),h=a.length-1;h>-1&&a[h]===P;h--);for(var c,f=a[h]-a[0]||1,u=f/(h||1)/1e4,g=[],w=0;w<=h;w++){var d=a[w],o=d-c;void 0===c?(g.push(d),c=d):o>u&&(f=Math.min(f,o),g.push(d),c=d)}return{vals:g,minDiff:f}},W.roundUp=function(s,a,h){for(var g,f=0,u=a.length-1,c=0,w=h?0:1,d=h?1:0,o=h?Math.ceil:Math.floor;f<u&&c++<100;)a[g=o((f+u)/2)]<=s?f=g+w:u=g-d;return a[f]},W.sort=function(s,a){for(var h=0,f=0,u=1;u<s.length;u++){var g=a(s[u],s[u-1]);if(g<0?h=1:g>0&&(f=1),h&&f)return s.sort(a)}return f?s:s.reverse()},W.findIndexOfMin=function(s,a){a=a||i;for(var f,h=1/0,u=0;u<s.length;u++){var g=a(s[u]);g<h&&(h=g,f=u)}return f}},93972:function(tt){"use strict";tt.exports=function(t,A){(t.attr("class")||"").split(" ").forEach(function(y){0===y.indexOf("cursor-")&&t.classed(y,!1)}),A&&t.classed("cursor-"+A,!0)}},16576:function(tt,W,t){"use strict";var A=t(76308),y=function(){};tt.exports=function(P){for(var L in P)"function"==typeof P[L]&&(P[L]=y);P.destroy=function(){P.container.parentNode.removeChild(P.container)};var l=document.createElement("div");l.className="no-webgl",l.style.cursor="pointer",l.style.fontSize="24px",l.style.color=A.defaults[0],l.style.position="absolute",l.style.left=l.style.top="0px",l.style.width=l.style.height="100%",l.style["background-color"]=A.lightLine,l.style["z-index"]=30;var m=document.createElement("p");return m.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",m.style.position="relative",m.style.top="50%",m.style.left="50%",m.style.height="30%",m.style.width="50%",m.style.margin="-15% 0 0 -25%",l.appendChild(m),P.container.appendChild(l),P.container.style.background="#FFFFFF",P.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(tt){"use strict";tt.exports=function(t){return Object.keys(t).sort()}},63084:function(tt,W,t){"use strict";var A=t(38248),y=t(38116).isArrayOrTypedArray;W.aggNums=function(i,P,L,l){var m,r;if((!l||l>L.length)&&(l=L.length),A(P)||(P=!1),y(L[0])){for(r=new Array(l),m=0;m<l;m++)r[m]=W.aggNums(i,P,L[m]);L=r}for(m=0;m<l;m++)A(P)?A(L[m])&&(P=i(+P,+L[m])):P=L[m];return P},W.len=function(i){return W.aggNums(function(P){return P+1},0,i)},W.mean=function(i,P){return P||(P=W.len(i)),W.aggNums(function(L,l){return L+l},0,i)/P},W.midRange=function(i){if(void 0!==i&&0!==i.length)return(W.aggNums(Math.max,null,i)+W.aggNums(Math.min,null,i))/2},W.variance=function(i,P,L){return P||(P=W.len(i)),A(L)||(L=W.mean(i,P)),W.aggNums(function(l,m){return l+Math.pow(m-L,2)},0,i)/P},W.stdev=function(i,P,L){return Math.sqrt(W.variance(i,P,L))},W.median=function(i){var P=i.slice().sort();return W.interp(P,.5)},W.interp=function(i,P){if(!A(P))throw"n should be a finite number";if((P=P*i.length-.5)<0)return i[0];if(P>i.length-1)return i[i.length-1];var L=P%1;return L*i[Math.ceil(P)]+(1-L)*i[Math.floor(P)]}},43080:function(tt,W,t){"use strict";var A=t(72160);tt.exports=function y(i){return i?A(i):[0,0,0,1]}},9188:function(tt,W,t){"use strict";var A=t(2264),y=t(43616),i=t(3400),P=null;tt.exports=function L(){if(null!==P)return P;P=!1;var l=i.isIE()||i.isSafari()||i.isIOS();if(window.navigator.userAgent&&!l){var m=Array.from(A.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if("function"==typeof r)P=m.some(function(h){return r.apply(null,h)});else{var e=y.tester.append("image").attr("style",A.STYLE),a=window.getComputedStyle(e.node()).imageRendering;P=m.some(function(h){var f=h[1];return a===f||a===f.toLowerCase()}),e.remove()}}return P}},72736:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=y.strTranslate,P=t(9616),L=t(84284).LINE_SPACING,l=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;W.convertToTspans=function(B,O,U){var G=B.text(),J=!B.attr("data-notex")&&O&&O._context.typesetMath&&"undefined"!=typeof MathJax&&G.match(l),et=A.select(B.node().parentNode);if(!et.empty()){var at=B.attr("class")?B.attr("class").split(" ")[0]:"text";return et.selectAll("svg."+(at+="-math")).remove(),et.selectAll("g."+at+"-group").remove(),B.style("display",null).attr({"data-unformatted":G,"data-math":"N"}),J?(O&&O._promises||[]).push(new Promise(function(K){B.style("display","none");var j=parseInt(B.node().style.fontSize,10);!function a(B,O,U){var G=parseInt((MathJax.version||"").split(".")[0]);if(2===G||3===G){var J,et,at,lt,K=function(){return et=y.extendDeepAll({},MathJax.Hub.config),at=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:s},displayAlign:"left"})},j=function(){et=y.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=s},rt=function(){if("SVG"!==(J=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},H=function(){"svg"!==(J=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg")},Z=function(){var st="math-output-"+y.randstr({},64),dt=(lt=A.select("body").append("div").attr({id:st}).style({visibility:"hidden",position:"absolute","font-size":O.fontSize+"px"}).text(function e(B){return B.replace(m,"\\lt ").replace(r,"\\gt ")}(B))).node();return 2===G?MathJax.Hub.Typeset(dt):MathJax.typeset([dt])},it=function(){var st=lt.select(2===G?".MathJax_SVG":".MathJax"),dt=!st.empty()&&lt.select("svg").node();if(dt){var yt,xt=dt.getBoundingClientRect();yt=2===G?A.select("body").select("#MathJax_SVG_glyphs"):st.select("defs"),U(st,yt,xt)}else y.log("There was an error in the tex syntax.",B),U();lt.remove()},Q=function(){if("SVG"!==J)return MathJax.Hub.setRenderer(J)},Y=function(){"svg"!==J&&(MathJax.config.startup.output=J)},nt=function(){return void 0!==at&&(MathJax.Hub.processSectionDelay=at),MathJax.Hub.Config(et)},_=function(){MathJax.config=et};2===G?MathJax.Hub.Queue(K,rt,Z,it,Q,nt):3===G&&(j(),H(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Z(),it(),Y(),_()}))}else y.warn("No MathJax version:",MathJax.version)}(J[2],{fontSize:j},function(H,Z,it){et.selectAll("svg."+at).remove(),et.selectAll("g."+at+"-group").remove();var Q=H&&H.select("svg");if(!Q||!Q.node())return lt(),void K();var Y=et.append("g").classed(at+"-group",!0).attr({"pointer-events":"none","data-unformatted":G,"data-math":"Y"});Y.node().appendChild(Q.node()),Z&&Z.node()&&Q.node().insertBefore(Z.node().cloneNode(!0),Q.node().firstChild);var nt=it.width,_=it.height;Q.attr({class:at,height:_,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var st=B.node().style.fill||"black",dt=Q.select("g");dt.attr({fill:st,stroke:st});var xt=dt.node().getBoundingClientRect(),yt=xt.width,St=xt.height;(yt>nt||St>_)&&(Q.style("overflow","hidden"),yt=(xt=Q.node().getBoundingClientRect()).width,St=xt.height);var Et=+B.attr("x"),Tt=+B.attr("y"),Mt=-(j||B.node().getBoundingClientRect().height)/4;if("y"===at[0])Y.attr({transform:"rotate("+[-90,Et,Tt]+")"+i(-yt/2,Mt-St/2)});else if("l"===at[0])Tt=Mt-St/2;else if("a"===at[0]&&0!==at.indexOf("atitle"))Et=0,Tt=Mt;else{var Nt=B.attr("text-anchor");Et-=yt*("middle"===Nt?.5:"end"===Nt?1:0),Tt=Tt+Mt-St/2}Q.attr({x:Et,y:Tt}),U&&U.call(B,Y),K(Y)})})):lt(),B}function lt(){et.empty()||(at=B.attr("class")+"-math",et.select("svg."+at).remove()),B.text("").style("white-space","pre"),function D(B,O){O=O.replace(w," ");var J,U=!1,G=[],et=-1;function at(){et++;var St=document.createElementNS(P.svg,"tspan");A.select(St).attr({class:"line",dy:et*L+"em"}),B.appendChild(St),J=St;var Et=G;if(G=[{node:St}],Et.length>1)for(var Tt=1;Tt<Et.length;Tt++)lt(Et[Tt])}function lt(St){var gt,Et=St.type,Tt={};if("a"===Et){gt="a";var Mt=St.target,Nt=St.href,Gt=St.popup;Nt&&(Tt={"xlink:xlink:show":"_blank"===Mt||"_"!==Mt.charAt(0)?"new":"replace",target:Mt,"xlink:xlink:href":Nt},Gt&&(Tt.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Gt+'");return false;'))}else gt="tspan";St.style&&(Tt.style=St.style);var Pt=document.createElementNS(P.svg,gt);if("sup"===Et||"sub"===Et){K(J,g),J.appendChild(Pt);var Vt=document.createElementNS(P.svg,"tspan");K(Vt,g),A.select(Vt).attr("dy",u[Et]),Tt.dy=f[Et],J.appendChild(Pt),J.appendChild(Vt)}else J.appendChild(Pt);A.select(Pt).attr(Tt),J=St.node=Pt,G.push(St)}function K(St,Et){St.appendChild(document.createTextNode(Et))}function j(St){if(1!==G.length){var Et=G.pop();St!==Et.type&&y.log("Start tag <"+Et.type+"> doesnt match end tag <"+St+">. Pretending it did match.",O),J=G[G.length-1].node}else y.log("Ignoring unexpected end tag </"+St+">.",O)}v.test(O)?at():(J=B,G=[{node:B}]);for(var H=O.split(d),Z=0;Z<H.length;Z++){var it=H[Z],Q=it.match(o),Y=Q&&Q[2].toLowerCase(),nt=h[Y];if("br"===Y)at();else if(void 0===nt)K(J,p(it));else if(Q[1])j(Y);else{var _=Q[4],st={type:Y},dt=S(_,M);if(dt?(dt=dt.replace(T,"$1 fill:"),nt&&(dt+=";"+nt)):nt&&(dt=nt),dt&&(st.style=dt),"a"===Y){U=!0;var xt=S(_,b);if(xt){var yt=N(xt);yt&&(st.href=yt,st.target=S(_,E)||"_blank",st.popup=S(_,x))}}lt(st)}}return U}(B.node(),G)&&B.style("pointer-events","all"),W.positionText(B),U&&U.call(B)}};var m=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;var s=[["$","$"],["\\(","\\)"]];var h={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},u={sub:"-0.21em",sup:"0.42em"},g="\u200b",c=["http:","https:","mailto:","",void 0,":"],w=W.NEWLINES=/(\r\n?|\n)/g,d=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,v=/<br(\s+.*)?>/i;W.BR_TAG_ALL=/<br(\s+.*)?>/gi;var M=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,b=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,E=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,x=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function S(B,O){if(!B)return null;var U=B.match(O),G=U&&(U[3]||U[4]);return G&&p(G)}var T=/(^|;)\s*color:/;W.plainText=function(B,O){for(var U=void 0!==(O=O||{}).len&&-1!==O.len?O.len:1/0,G=void 0!==O.allowedTags?O.allowedTags:["br"],et="...".length,at=B.split(d),lt=[],K="",j=0,rt=0;rt<at.length;rt++){var H=at[rt],Z=H.match(o),it=Z&&Z[2].toLowerCase();if(it)-1!==G.indexOf(it)&&(lt.push(H),K=it);else{var Q=H.length;if(j+Q<U)lt.push(H),j+=Q;else if(j<U){var Y=U-j;K&&("br"!==K||Y<=et||Q<=et)&&lt.pop(),lt.push(U>et?H.substr(0,Y-et)+"...":H.substr(0,Y));break}K=""}}return lt.join("")};var n={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},C=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function p(B){return B.replace(C,function(O,U){return("#"===U.charAt(0)?function F(B){if(!(B>1114111)){var O=String.fromCodePoint;if(O)return O(B);var U=String.fromCharCode;return B<=65535?U(B):U(55232+(B>>10),B%1024+56320)}}("x"===U.charAt(1)?parseInt(U.substr(2),16):parseInt(U.substr(1),10)):n[U])||O})}function N(B){var O=encodeURI(decodeURI(B)),U=document.createElement("a"),G=document.createElement("a");U.href=B,G.href=O;var et=G.protocol;return-1!==c.indexOf(U.protocol)&&-1!==c.indexOf(et)?O:""}function k(B,O,U){var lt,K,j,G=U.horizontalAlign,J=U.verticalAlign||"top",et=B.node().getBoundingClientRect(),at=O.node().getBoundingClientRect();return K="bottom"===J?function(){return et.bottom-lt.height}:"middle"===J?function(){return et.top+(et.height-lt.height)/2}:function(){return et.top},j="right"===G?function(){return et.right-lt.width}:"center"===G?function(){return et.left+(et.width-lt.width)/2}:function(){return et.left},function(){lt=this.node().getBoundingClientRect();var rt=j()-at.left,H=K()-at.top,Z=U.gd||{};if(U.gd){Z._fullLayout._calcInverseTransform(Z);var it=y.apply3DTransform(Z._fullLayout._invTransform)(rt,H);rt=it[0],H=it[1]}return this.style({top:H+"px",left:rt+"px","z-index":1e3}),this}}W.convertEntities=p,W.sanitizeHTML=function(O){O=O.replace(w," ");for(var U=document.createElement("p"),G=U,J=[],et=O.split(d),at=0;at<et.length;at++){var lt=et[at],K=lt.match(o),j=K&&K[2].toLowerCase();if(j in h)if(K[1])J.length&&(G=J.pop());else{var rt=K[4],H=S(rt,M),Z=H?{style:H}:{};if("a"===j){var it=S(rt,b);if(it){var Q=N(it);if(Q){Z.href=Q;var Y=S(rt,E);Y&&(Z.target=Y)}}}var nt=document.createElement(j);G.appendChild(nt),A.select(nt).attr(Z),G=nt,J.push(nt)}else G.appendChild(document.createTextNode(p(lt)))}return U.innerHTML},W.lineCount=function(O){return O.selectAll("tspan.line").size()||1},W.positionText=function(O,U,G){return O.each(function(){var J=A.select(this);function et(K,j){return void 0===j?null===(j=J.attr(K))&&(J.attr(K,0),j=0):J.attr(K,j),j}var at=et("x",U),lt=et("y",G);"text"===this.nodeName&&J.selectAll("tspan.line").attr({x:at,y:lt})})};var z="1px ";W.makeTextShadow=function(B){return z+z+z+B+", -"+z+"-"+z+z+B+", "+z+"-"+z+z+B+", -"+z+z+z+B},W.makeEditable=function(B,O){var U=O.gd,G=O.delegate,J=A.dispatch("edit","input","cancel"),et=G||B;if(B.style({"pointer-events":G?"none":"all"}),1!==B.size())throw new Error("boo");function at(){(function K(){var rt=A.select(U).select(".svg-container"),H=rt.append("div"),Z=B.node().style,it=parseFloat(Z.fontSize||12),Q=O.text;void 0===Q&&(Q=B.attr("data-unformatted")),H.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Z.fontFamily||"Arial","font-size":it,color:O.fill||Z.fill||"black",opacity:1,"background-color":O.background||"transparent",outline:"#ffffff33 1px solid",margin:[-it/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Q).call(k(B,rt,O)).on("blur",function(){U._editing=!1,B.text(this.textContent).style({opacity:1});var nt,Y=A.select(this).attr("class");(nt=Y?"."+Y.split(" ")[0]+"-math-group":"[class*=-math-group]")&&A.select(B.node().parentNode).select(nt).style({opacity:0});var _=this.textContent;A.select(this).transition().duration(0).remove(),A.select(document).on("mouseup",null),J.edit.call(B,_)}).on("focus",function(){var Y=this;U._editing=!0,A.select(document).on("mouseup",function(){if(A.event.target===Y)return!1;document.activeElement===H.node()&&H.node().blur()})}).on("keyup",function(){27===A.event.which?(U._editing=!1,B.style({opacity:1}),A.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),J.cancel.call(B,this.textContent)):(J.input.call(B,this.textContent),A.select(this).call(k(B,rt,O)))}).on("keydown",function(){13===A.event.which&&this.blur()}).call(lt)})(),B.style({opacity:0});var rt,j=et.attr("class");(rt=j?"."+j.split(" ")[0]+"-math-group":"[class*=-math-group]")&&A.select(B.node().parentNode).select(rt).style({opacity:0})}function lt(j){var rt=j.node(),H=document.createRange();H.selectNodeContents(rt);var Z=window.getSelection();Z.removeAllRanges(),Z.addRange(H),rt.focus()}return O.immediate?at():et.on("click",at),A.rebind(B,J,"on")}},91200:function(tt,W){"use strict";var t={};function A(y){y&&null!==y.timer&&(clearTimeout(y.timer),y.timer=null)}W.throttle=function(i,P,L){var l=t[i],m=Date.now();if(!l){for(var r in t)t[r].ts<m-6e4&&delete t[r];l=t[i]={ts:0,timer:null}}function e(){L(),l.ts=Date.now(),l.onDone&&(l.onDone(),l.onDone=null)}A(l),m>l.ts+P?e():l.timer=setTimeout(function(){e(),l.timer=null},P)},W.done=function(y){var i=t[y];return i&&i.timer?new Promise(function(P){var L=i.onDone;i.onDone=function(){L&&L(),P(),i.onDone=null}}):Promise.resolve()},W.clear=function(y){if(y)A(t[y]),delete t[y];else for(var i in t)W.clear(i)}},36896:function(tt,W,t){"use strict";var A=t(38248);tt.exports=function(i,P){if(i>0)return Math.log(i)/Math.LN10;var L=Math.log(Math.min(P[0],P[1]))/Math.LN10;return A(L)||(L=Math.log(Math.max(P[0],P[1]))/Math.LN10-6),L}},59972:function(tt,W,t){"use strict";var A=tt.exports={},y=t(79552).locationmodeToLayer,i=t(55712).NO;A.getTopojsonName=function(P){return[P.scope.replace(/ /g,"-"),"_",P.resolution.toString(),"m"].join("")},A.getTopojsonPath=function(P,L){return P+L+".json"},A.getTopojsonFeatures=function(P,L){return i(L,L.objects[y[P.locationmode]]).features}},11680:function(tt){"use strict";tt.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(tt){"use strict";tt.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(tt,W,t){"use strict";var A=t(24040);tt.exports=function(i){for(var m,r,P=A.layoutArrayContainers,L=A.layoutArrayRegexes,l=i.split("[")[0],e=0;e<L.length;e++)if((r=i.match(L[e]))&&0===r.index){m=r[0];break}if(m||(m=P[P.indexOf(l)]),!m)return!1;var s=i.substr(m.length);return s?!!(r=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:m,index:Number(r[1]),property:r[3]||""}:{array:m,index:"",property:""}}},67824:function(tt,W,t){"use strict";var A=t(92880).extendFlat,y=t(63620),i={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},P={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},L=i.flags.slice().concat(["fullReplot"]),l=P.flags.slice().concat("layoutReplot");function m(s){for(var a={},h=0;h<s.length;h++)a[s[h]]=!1;return a}function r(s,a,h){var f=A({},s);for(var u in f){var g=f[u];y(g)&&(f[u]=e(g,a,0,u))}return"from-root"===h&&(f.editType=a),f}function e(s,a,h,f){if(s.valType){var u=A({},s);if(u.editType=a,Array.isArray(s.items)){u.items=new Array(s.items.length);for(var g=0;g<s.items.length;g++)u.items[g]=e(s.items[g],a)}return u}return r(s,a,"_"===f.charAt(0)?"nested":"from-root")}tt.exports={traces:i,layout:P,traceFlags:function(){return m(L)},layoutFlags:function(){return m(l)},update:function(s,a){var h=a.editType;if(h&&"none"!==h)for(var f=h.split("+"),u=0;u<f.length;u++)s[f[u]]=!0},overrideAll:r}},93404:function(tt,W,t){"use strict";var A=t(38248),y=t(61784),i=t(24040),P=t(3400),L=t(7316),l=t(79811),m=t(76308),r=l.cleanId,e=l.getFromTrace,s=i.traceIs;function a(v,M){var b=v[M],E=M.charAt(0);b&&"paper"!==b&&(v[M]=r(b,E,!0))}function h(v){function M(b,E){v[b]&&(!v.title||!v.title[E])&&(v.title||(v.title={}),v.title[E]=v[b],delete v[b])}v&&(("string"==typeof v.title||"number"==typeof v.title)&&(v.title={text:v.title}),M("titlefont","font"),M("titleposition","position"),M("titleside","side"),M("titleoffset","offset"))}function f(v){if(!P.isPlainObject(v))return!1;var M=v.name;return delete v.name,delete v.showlegend,("string"==typeof M||"number"==typeof M)&&String(M)}function u(v,M,b,E){if(b&&!E)return v;if(E&&!b||!v.trim())return M;if(!M.trim())return v;var S,x=Math.min(v.length,M.length);for(S=0;S<x&&v.charAt(S)===M.charAt(S);S++);return v.substr(0,S).trim()}function g(v){var M="middle",b="center";return"string"==typeof v&&(-1!==v.indexOf("top")?M="top":-1!==v.indexOf("bottom")&&(M="bottom"),-1!==v.indexOf("left")?b="left":-1!==v.indexOf("right")&&(b="right")),M+" "+b}function c(v,M){return M in v&&"object"==typeof v[M]&&0===Object.keys(v[M]).length}W.clearPromiseQueue=function(v){Array.isArray(v._promises)&&v._promises.length>0&&P.log("Clearing previous rejected promises from queue."),v._promises=[]},W.cleanLayout=function(v){var M,b;v||(v={}),v.xaxis1&&(v.xaxis||(v.xaxis=v.xaxis1),delete v.xaxis1),v.yaxis1&&(v.yaxis||(v.yaxis=v.yaxis1),delete v.yaxis1),v.scene1&&(v.scene||(v.scene=v.scene1),delete v.scene1);var E=(L.subplotsRegistry.cartesian||{}).attrRegex,x=(L.subplotsRegistry.polar||{}).attrRegex,S=(L.subplotsRegistry.ternary||{}).attrRegex,T=(L.subplotsRegistry.gl3d||{}).attrRegex,n=Object.keys(v);for(M=0;M<n.length;M++){var C=n[M];if(E&&E.test(C)){var p=v[C];p.anchor&&"free"!==p.anchor&&(p.anchor=r(p.anchor)),p.overlaying&&(p.overlaying=r(p.overlaying)),p.type||(p.isdate?p.type="date":p.islog?p.type="log":!1===p.isdate&&!1===p.islog&&(p.type="linear")),("withzero"===p.autorange||"tozero"===p.autorange)&&(p.autorange=!0,p.rangemode="tozero"),p.insiderange&&delete p.range,delete p.islog,delete p.isdate,delete p.categories,c(p,"domain")&&delete p.domain,void 0!==p.autotick&&(void 0===p.tickmode&&(p.tickmode=p.autotick?"auto":"linear"),delete p.autotick),h(p)}else if(x&&x.test(C))h(v[C].radialaxis);else if(S&&S.test(C)){var D=v[C];h(D.aaxis),h(D.baxis),h(D.caxis)}else if(T&&T.test(C)){var N=v[C],k=N.cameraposition;if(Array.isArray(k)&&4===k[0].length){var B=k[1],O=k[2],U=y([],k[0]),G=[];for(b=0;b<3;++b)G[b]=B[b]+O*U[2+4*b];N.camera={eye:{x:G[0],y:G[1],z:G[2]},center:{x:B[0],y:B[1],z:B[2]},up:{x:0,y:0,z:1}},delete N.cameraposition}h(N.xaxis),h(N.yaxis),h(N.zaxis)}}var J=Array.isArray(v.annotations)?v.annotations.length:0;for(M=0;M<J;M++){var et=v.annotations[M];!P.isPlainObject(et)||(et.ref&&("paper"===et.ref?(et.xref="paper",et.yref="paper"):"data"===et.ref&&(et.xref="x",et.yref="y"),delete et.ref),a(et,"xref"),a(et,"yref"))}var at=Array.isArray(v.shapes)?v.shapes.length:0;for(M=0;M<at;M++){var lt=v.shapes[M];!P.isPlainObject(lt)||(a(lt,"xref"),a(lt,"yref"))}var K=Array.isArray(v.images)?v.images.length:0;for(M=0;M<K;M++){var j=v.images[M];!P.isPlainObject(j)||(a(j,"xref"),a(j,"yref"))}var rt=v.legend;return rt&&(rt.x>3?(rt.x=1.02,rt.xanchor="left"):rt.x<-2&&(rt.x=-.02,rt.xanchor="right"),rt.y>3?(rt.y=1.02,rt.yanchor="bottom"):rt.y<-2&&(rt.y=-.02,rt.yanchor="top")),h(v),"rotate"===v.dragmode&&(v.dragmode="orbit"),m.clean(v),v.template&&v.template.layout&&W.cleanLayout(v.template.layout),v},W.cleanData=function(v){for(var M=0;M<v.length;M++){var E,b=v[M];if("histogramy"===b.type&&"xbins"in b&&!("ybins"in b)&&(b.ybins=b.xbins,delete b.xbins),b.error_y&&"opacity"in b.error_y){var x=m.defaults,S=b.error_y.color||(s(b,"bar")?m.defaultLine:x[M%x.length]);b.error_y.color=m.addOpacity(m.rgb(S),m.opacity(S)*b.error_y.opacity),delete b.error_y.opacity}if("bardir"in b&&("h"===b.bardir&&(s(b,"bar")||"histogram"===b.type.substr(0,9))&&(b.orientation="h",W.swapXYData(b)),delete b.bardir),"histogramy"===b.type&&W.swapXYData(b),("histogramx"===b.type||"histogramy"===b.type)&&(b.type="histogram"),"scl"in b&&!("colorscale"in b)&&(b.colorscale=b.scl,delete b.scl),"reversescl"in b&&!("reversescale"in b)&&(b.reversescale=b.reversescl,delete b.reversescl),b.xaxis&&(b.xaxis=r(b.xaxis,"x")),b.yaxis&&(b.yaxis=r(b.yaxis,"y")),s(b,"gl3d")&&b.scene&&(b.scene=L.subplotsRegistry.gl3d.cleanId(b.scene)),!s(b,"pie-like")&&!s(b,"bar-like"))if(Array.isArray(b.textposition))for(E=0;E<b.textposition.length;E++)b.textposition[E]=g(b.textposition[E]);else b.textposition&&(b.textposition=g(b.textposition));var T=i.getModule(b);if(T&&T.colorbar){var n=T.colorbar.container,C=n?b[n]:b;C&&C.colorscale&&("YIGnBu"===C.colorscale&&(C.colorscale="YlGnBu"),"YIOrRd"===C.colorscale&&(C.colorscale="YlOrRd"))}if("surface"===b.type&&P.isPlainObject(b.contours)){var p=["x","y","z"];for(E=0;E<p.length;E++){var F=b.contours[p[E]];!P.isPlainObject(F)||(F.highlightColor&&(F.highlightcolor=F.highlightColor,delete F.highlightColor),F.highlightWidth&&(F.highlightwidth=F.highlightWidth,delete F.highlightWidth))}}if("candlestick"===b.type||"ohlc"===b.type){var D=!1!==(b.increasing||{}).showlegend,N=!1!==(b.decreasing||{}).showlegend,k=f(b.increasing),z=f(b.decreasing);if(!1!==k&&!1!==z){var B=u(k,z,D,N);B&&(b.name=B)}else(k||z)&&!b.name&&(b.name=k||z)}if(Array.isArray(b.transforms)){var O=b.transforms;for(E=0;E<O.length;E++){var U=O[E];if(P.isPlainObject(U))switch(U.type){case"filter":U.filtersrc&&(U.target=U.filtersrc,delete U.filtersrc),U.calendar&&(U.valuecalendar||(U.valuecalendar=U.calendar),delete U.calendar);break;case"groupby":if(U.styles=U.styles||U.style,U.styles&&!Array.isArray(U.styles)){var G=U.styles,J=Object.keys(G);U.styles=[];for(var et=0;et<J.length;et++)U.styles.push({target:J[et],value:G[J[et]]})}}}}c(b,"line")&&delete b.line,"marker"in b&&(c(b.marker,"line")&&delete b.marker.line,c(b,"marker")&&delete b.marker),m.clean(b),b.autobinx&&(delete b.autobinx,delete b.xbins),b.autobiny&&(delete b.autobiny,delete b.ybins),h(b),b.colorbar&&h(b.colorbar),b.marker&&b.marker.colorbar&&h(b.marker.colorbar),b.line&&b.line.colorbar&&h(b.line.colorbar),b.aaxis&&h(b.aaxis),b.baxis&&h(b.baxis)}},W.swapXYData=function(v){var M;if(P.swapAttrs(v,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(v.z)&&Array.isArray(v.z[0])&&(v.transpose?delete v.transpose:v.transpose=!0),v.error_x&&v.error_y){var b=v.error_y,E="copy_ystyle"in b?b.copy_ystyle:!(b.color||b.thickness||b.width);P.swapAttrs(v,["error_?.copy_ystyle"]),E&&P.swapAttrs(v,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof v.hoverinfo){var x=v.hoverinfo.split("+");for(M=0;M<x.length;M++)"x"===x[M]?x[M]="y":"y"===x[M]&&(x[M]="x");v.hoverinfo=x.join("+")}},W.coerceTraceIndices=function(v,M){if(A(M))return[M];if(!Array.isArray(M)||!M.length)return v.data.map(function(x,S){return S});if(Array.isArray(M)){for(var b=[],E=0;E<M.length;E++)P.isIndex(M[E],v.data.length)?b.push(M[E]):P.warn("trace index (",M[E],") is not a number or is out of bounds");return b}return M},W.manageArrayContainers=function(v,M,b){var E=v.obj,x=v.parts,S=x.length,T=x[S-1],n=A(T);if(n&&null===M){var C=x.slice(0,S-1).join(".");P.nestedProperty(E,C).get().splice(T,1)}else n&&void 0===v.get()&&void 0===v.get()&&(b[v.astr]=null),v.set(M)};var w=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function d(v){var M=v.search(w);if(M>0)return v.substr(0,M)}W.hasParent=function(v,M){for(var b=d(M);b;){if(b in v)return!0;b=d(b)}return!1};var o=["x","y","z"];W.clearAxisTypes=function(v,M,b){for(var E=0;E<M.length;E++)for(var x=v._fullData[E],S=0;S<3;S++){var T=e(v,x,o[S]);if(T&&"log"!==T.type){var n=T._name,C=T._id.substr(1);if("scene"===C.substr(0,5)){if(void 0!==b[C])continue;n=C+"."+n}var p=n+".type";void 0===b[n]&&void 0===b[p]&&P.nestedProperty(v.layout,p).set(null)}}}},22448:function(tt,W,t){"use strict";var A=t(36424);W._doPlot=A._doPlot,W.newPlot=A.newPlot,W.restyle=A.restyle,W.relayout=A.relayout,W.redraw=A.redraw,W.update=A.update,W._guiRestyle=A._guiRestyle,W._guiRelayout=A._guiRelayout,W._guiUpdate=A._guiUpdate,W._storeDirectGUIEdit=A._storeDirectGUIEdit,W.react=A.react,W.extendTraces=A.extendTraces,W.prependTraces=A.prependTraces,W.addTraces=A.addTraces,W.deleteTraces=A.deleteTraces,W.moveTraces=A.moveTraces,W.purge=A.purge,W.addFrames=A.addFrames,W.deleteFrames=A.deleteFrames,W.animate=A.animate,W.setPlotConfig=A.setPlotConfig;var y=t(52200).getGraphDiv,i=t(4016).eraseActiveShape;W.deleteActiveShape=function(L){return i(y(L))},W.toImage=t(67024),W.validate=t(21480),W.downloadImage=t(39792);var P=t(94828);W.makeTemplate=P.makeTemplate,W.validateTemplate=P.validateTemplate},17680:function(tt,W,t){"use strict";var A=t(63620),y=t(16628),i=t(24248),P=t(14952).sorterAsc,L=t(24040);W.containerArrayMatch=t(69820);var l=W.isAddVal=function(e){return"add"===e||A(e)},m=W.isRemoveVal=function(e){return null===e||"remove"===e};W.applyContainerArrayChanges=function(e,s,a,h,f){var u=s.astr,g=L.getComponentMethod(u,"supplyLayoutDefaults"),c=L.getComponentMethod(u,"draw"),w=L.getComponentMethod(u,"drawOne"),d=h.replot||h.recalc||g===y||c===y,o=e.layout,v=e._fullLayout;if(a[""]){Object.keys(a).length>1&&i.warn("Full array edits are incompatible with other edits",u);var M=a[""][""];if(m(M))s.set(null);else{if(!Array.isArray(M))return i.warn("Unrecognized full array edit value",u,M),!0;s.set(M)}return!d&&(g(o,v),c(e),!0)}var p,F,D,N,k,z,B,b=Object.keys(a).map(Number).sort(P),E=s.get(),x=E||[],S=f(v,u).get(),T=[],n=-1,C=x.length;for(p=0;p<b.length;p++)if(N=a[D=b[p]],k=Object.keys(N),B=l(z=N[""]),D<0||D>x.length-(B?0:1))i.warn("index out of range",u,D);else if(void 0!==z)k.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",u,D),m(z)?T.push(D):B?("add"===z&&(z={}),x.splice(D,0,z),S&&S.splice(D,0,{})):i.warn("Unrecognized full object edit value",u,D,z),-1===n&&(n=D);else for(F=0;F<k.length;F++)f(x[D],k[F],u+"["+D+"].").set(N[k[F]]);for(p=T.length-1;p>=0;p--)x.splice(T[p],1),S&&S.splice(T[p],1);if(x.length?E||s.set(x):s.set(null),d)return!1;if(g(o,v),w!==y){var U;if(-1===n)U=b;else{for(C=Math.max(x.length,C),U=[],p=0;p<b.length&&!((D=b[p])>=n);p++)U.push(D);for(p=n;p<C;p++)U.push(p)}for(p=0;p<U.length;p++)w(e,U[p])}else c(e);return!0}},36424:function(tt,W,t){"use strict";var A=t(33428),y=t(38248),i=t(52264),P=t(3400),L=P.nestedProperty,l=t(95924),m=t(94552),r=t(24040),e=t(73060),s=t(7316),a=t(54460),h=t(96312),f=t(94724),u=t(43616),g=t(76308),c=t(42464).initInteractions,w=t(9616),d=t(22676).clearOutline,o=t(20556).dfltConfig,v=t(17680),M=t(93404),b=t(39172),E=t(67824),x=t(33816).AX_NAME_PATTERN,S=0;function C(ft){var pt=ft._fullLayout;pt._redrawFromAutoMarginCount?pt._redrawFromAutoMarginCount--:ft.emit("plotly_afterplot")}function F(ft,pt){try{ft._fullLayout._paper.style("background",pt)}catch(Dt){P.error(Dt)}}function D(ft,pt){F(ft,g.combine(pt,"white"))}function N(ft,pt){if(!ft._context){ft._context=P.extendDeep({},o);var Dt=A.select("base");ft._context._baseUrl=Dt.size()&&Dt.attr("href")?window.location.href.split("#")[0]:""}var te,ee,Ne,Qt=ft._context;if(pt){for(ee=Object.keys(pt),te=0;te<ee.length;te++)"editable"!==(Ne=ee[te])&&"edits"!==Ne&&Ne in Qt&&(Qt[Ne]="setBackground"===Ne&&"opaque"===pt[Ne]?D:pt[Ne]);pt.plot3dPixelRatio&&!Qt.plotGlPixelRatio&&(Qt.plotGlPixelRatio=Qt.plot3dPixelRatio);var We=pt.editable;if(void 0!==We)for(Qt.editable=We,ee=Object.keys(Qt.edits),te=0;te<ee.length;te++)Qt.edits[ee[te]]=We;if(pt.edits)for(ee=Object.keys(pt.edits),te=0;te<ee.length;te++)(Ne=ee[te])in Qt.edits&&(Qt.edits[Ne]=pt.edits[Ne]);Qt._exportedPlot=pt._exportedPlot}Qt.staticPlot&&(Qt.editable=!1,Qt.edits={},Qt.autosizable=!1,Qt.scrollZoom=!1,Qt.doubleClick=!1,Qt.showTips=!1,Qt.showLink=!1,Qt.displayModeBar=!1),"hover"===Qt.displayModeBar&&!i&&(Qt.displayModeBar=!0),("transparent"===Qt.setBackground||"function"!=typeof Qt.setBackground)&&(Qt.setBackground=F),Qt._hasZeroHeight=Qt._hasZeroHeight||0===ft.clientHeight,Qt._hasZeroWidth=Qt._hasZeroWidth||0===ft.clientWidth;var ye=Qt.scrollZoom,Te=Qt._scrollZoom={};if(!0===ye)Te.cartesian=1,Te.gl3d=1,Te.geo=1,Te.mapbox=1;else if("string"==typeof ye){var Ge=ye.split("+");for(te=0;te<Ge.length;te++)Te[Ge[te]]=1}else!1!==ye&&(Te.gl3d=1,Te.geo=1,Te.mapbox=1)}function B(ft,pt){var te,ee,Dt=pt+1,Qt=[];for(te=0;te<ft.length;te++)Qt.push((ee=ft[te])<0?Dt+ee:ee);return Qt}function O(ft,pt,Dt){var Qt,te;for(Qt=0;Qt<pt.length;Qt++){if((te=pt[Qt])!==parseInt(te,10))throw new Error("all values in "+Dt+" must be integers");if(te>=ft.data.length||te<-ft.data.length)throw new Error(Dt+" must be valid indices for gd.data.");if(pt.indexOf(te,Qt+1)>-1||te>=0&&pt.indexOf(-ft.data.length+te)>-1||te<0&&pt.indexOf(ft.data.length+te)>-1)throw new Error("each index in "+Dt+" must be unique.")}}function U(ft,pt,Dt){if(!Array.isArray(ft.data))throw new Error("gd.data must be an array.");if(void 0===pt)throw new Error("currentIndices is a required argument.");if(Array.isArray(pt)||(pt=[pt]),O(ft,pt,"currentIndices"),void 0!==Dt&&!Array.isArray(Dt)&&(Dt=[Dt]),void 0!==Dt&&O(ft,Dt,"newIndices"),void 0!==Dt&&pt.length!==Dt.length)throw new Error("current and new indices must be of equal length.")}function at(ft,pt,Dt,Qt,te){!function J(ft,pt,Dt,Qt){var te=P.isPlainObject(Qt);if(!Array.isArray(ft.data))throw new Error("gd.data must be an array");if(!P.isPlainObject(pt))throw new Error("update must be a key:value object");if(void 0===Dt)throw new Error("indices must be an integer or array of integers");for(var ee in O(ft,Dt,"indices"),pt){if(!Array.isArray(pt[ee])||pt[ee].length!==Dt.length)throw new Error("attribute "+ee+" must be an array of length equal to indices array length");if(te&&(!(ee in Qt)||!Array.isArray(Qt[ee])||Qt[ee].length!==pt[ee].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(ft,pt,Dt,Qt);for(var ee=function et(ft,pt,Dt,Qt){var We,ye,Te,Ge,te=P.isPlainObject(Qt),ee=[];for(var hr in Array.isArray(Dt)||(Dt=[Dt]),Dt=B(Dt,ft.data.length-1),pt)for(var ce=0;ce<Dt.length;ce++){if(We=(ye=L(ft.data[Dt[ce]],hr)).get(),!P.isArrayOrTypedArray(Te=pt[hr][ce]))throw new Error("attribute: "+hr+" index: "+ce+" must be an array");if(!P.isArrayOrTypedArray(We))throw new Error("cannot extend missing or non-array attribute: "+hr);if(We.constructor!==Te.constructor)throw new Error("cannot extend array with an array of a different type: "+hr);y(Ge=te?Qt[hr][ce]:Qt)||(Ge=-1),ee.push({prop:ye,target:We,insert:Te,maxp:Math.floor(Ge)})}return ee}(ft,pt,Dt,Qt),Ne={},We={},ye=0;ye<ee.length;ye++){var Te=ee[ye].prop,hr=te(ee[ye].target,ee[ye].insert,ee[ye].maxp);Te.set(hr[0]),Array.isArray(Ne[Te.astr])||(Ne[Te.astr]=[]),Ne[Te.astr].push(hr[1]),Array.isArray(We[Te.astr])||(We[Te.astr]=[]),We[Te.astr].push(ee[ye].target.length)}return{update:Ne,maxPoints:We}}function lt(ft,pt){var Dt=new ft.constructor(ft.length+pt.length);return Dt.set(ft),Dt.set(pt,ft.length),Dt}function it(ft,pt,Dt,Qt){ft=P.getGraphDiv(ft),M.clearPromiseQueue(ft);var te={};if("string"==typeof pt)te[pt]=Dt;else{if(!P.isPlainObject(pt))return P.warn("Restyle fail.",pt,Dt,Qt),Promise.reject();te=P.extendFlat({},pt),void 0===Qt&&(Qt=Dt)}Object.keys(te).length&&(ft.changed=!0);var ee=M.coerceTraceIndices(ft,Qt),Ne=st(ft,te,ee),We=Ne.flags;We.calc&&(ft.calcdata=void 0),We.clearAxisTypes&&M.clearAxisTypes(ft,ee,{});var ye=[];We.fullReplot?ye.push(W._doPlot):(ye.push(s.previousPromises),s.supplyDefaults(ft),We.markerSize&&(s.doCalcdata(ft),St(ye)),We.style&&ye.push(b.doTraceStyle),We.colorbars&&ye.push(b.doColorBars),ye.push(C)),ye.push(s.rehover,s.redrag,s.reselect),m.add(ft,it,[ft,Ne.undoit,Ne.traces],it,[ft,Ne.redoit,Ne.traces]);var Te=P.syncOrAsync(ye,ft);return(!Te||!Te.then)&&(Te=Promise.resolve()),Te.then(function(){return ft.emit("plotly_restyle",Ne.eventData),ft})}function Q(ft){return void 0===ft?null:ft}function Y(ft,pt){return pt?function(Dt,Qt,te){var ee=L(Dt,Qt),Ne=ee.set;return ee.set=function(We){nt((te||"")+Qt,ee.get(),We,ft),Ne(We)},ee}:L}function nt(ft,pt,Dt,Qt){if(Array.isArray(pt)||Array.isArray(Dt))for(var te=Array.isArray(pt)?pt:[],ee=Array.isArray(Dt)?Dt:[],Ne=Math.max(te.length,ee.length),We=0;We<Ne;We++)nt(ft+"["+We+"]",te[We],ee[We],Qt);else if(P.isPlainObject(pt)||P.isPlainObject(Dt)){var ye=P.isPlainObject(pt)?pt:{},Te=P.isPlainObject(Dt)?Dt:{},Ge=P.extendFlat({},ye,Te);for(var hr in Ge)nt(ft+"."+hr,ye[hr],Te[hr],Qt)}else void 0===Qt[ft]&&(Qt[ft]=Q(pt))}function st(ft,pt,Dt){var Te,Qt=ft._fullLayout,te=ft._fullData,ee=ft.data,Ne=Qt._guiEditing,We=Y(Qt._preGUI,Ne),ye=P.extendDeepAll({},pt);dt(pt);var Ue,Ge=E.traceFlags(),hr={},ce={};function Ye(){return Dt.map(function(){})}function gr(bn){var ur=a.id2name(bn);-1===Ue.indexOf(ur)&&Ue.push(ur)}function tr(bn){return"LAYOUT"+bn+".autorange"}function he(bn){return"LAYOUT"+bn+".range"}function ne(bn){for(var ur=bn;ur<te.length;ur++)if(te[ur]._input===ee[bn])return te[ur]}function pe(bn,ur,Mr){if(Array.isArray(bn))bn.forEach(function(pn){pe(pn,ur,Mr)});else if(!(bn in pt)&&!M.hasParent(pt,bn)){var Br;if("LAYOUT"===bn.substr(0,6))Br=We(ft.layout,bn.replace("LAYOUT",""));else{var Or=Dt[Mr];Br=Y(Qt._tracePreGUI[ne(Or)._fullInput.uid],Ne)(ee[Or],bn)}bn in ce||(ce[bn]=Ye()),void 0===ce[bn][Mr]&&(ce[bn][Mr]=Q(Br.get())),void 0!==ur&&Br.set(ur)}}function be(bn){return function(ur){return te[ur][bn]}}function Se(bn){return function(ur,Mr){return!1===ur?te[Dt[Mr]][bn]:null}}for(var Me in pt){if(M.hasParent(pt,Me))throw new Error("cannot set "+Me+" and a parent attribute simultaneously");var Fe,Ze,nr,ir,lr,Ot,Ie=pt[Me];if(("autobinx"===Me||"autobiny"===Me)&&(Me=Me.charAt(Me.length-1)+"bins",Ie=Array.isArray(Ie)?Ie.map(Se(Me)):!1===Ie?Dt.map(be(Me)):null),hr[Me]=Ie,"LAYOUT"!==Me.substr(0,6)){for(ce[Me]=Ye(),Te=0;Te<Dt.length;Te++)if(Fe=ee[Dt[Te]],Ze=ne(Dt[Te]),ir=(nr=Y(Qt._tracePreGUI[Ze._fullInput.uid],Ne)(Fe,Me)).get(),void 0!==(lr=Array.isArray(Ie)?Ie[Te%Ie.length]:Ie)){var Ce=nr.parts[nr.parts.length-1],Le=Me.substr(0,Me.length-Ce.length-1),Xe=Le?Le+".":"",_e=Le?L(Ze,Le).get():Ze;if((Ot=e.getTraceValObject(Ze,nr.parts))&&Ot.impliedEdits&&null!==lr)for(var fr in Ot.impliedEdits)pe(P.relativeAttr(Me,fr),Ot.impliedEdits[fr],Te);else if("thicknessmode"!==Ce&&"lenmode"!==Ce||ir===lr||"fraction"!==lr&&"pixels"!==lr||!_e){if("type"===Me&&("pie"===lr!=("pie"===ir)||"funnelarea"===lr!=("funnelarea"===ir))){var Cr="x",$r="y";("bar"===lr||"bar"===ir)&&"h"===Fe.orientation&&(Cr="y",$r="x"),P.swapAttrs(Fe,["?","?src"],"labels",Cr),P.swapAttrs(Fe,["d?","?0"],"label",Cr),P.swapAttrs(Fe,["?","?src"],"values",$r),"pie"===ir||"funnelarea"===ir?(L(Fe,"marker.color").set(L(Fe,"marker.colors").get()),Qt._pielayer.selectAll("g.trace").remove()):r.traceIs(Fe,"cartesian")&&L(Fe,"marker.colors").set(L(Fe,"marker.color").get())}}else{var $e=Qt._size,Re=_e.orient,or="top"===Re||"bottom"===Re;if("thicknessmode"===Ce){var dr=or?$e.h:$e.w;pe(Xe+"thickness",_e.thickness*("fraction"===lr?1/dr:dr),Te)}else{var pr=or?$e.w:$e.h;pe(Xe+"len",_e.len*("fraction"===lr?1/pr:pr),Te)}}if(ce[Me][Te]=Q(ir),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Me)){if("orientation"===Me){nr.set(lr);var Gr=Fe.x&&!Fe.y?"h":"v";if((nr.get()||Gr)===Ze.orientation)continue}else"orientationaxes"===Me&&(Fe.orientation={v:"h",h:"v"}[Ze.orientation]);M.swapXYData(Fe),Ge.calc=Ge.clearAxisTypes=!0}else-1!==s.dataArrayContainers.indexOf(nr.parts[0])?(M.manageArrayContainers(nr,lr,ce),Ge.calc=!0):(Ot?Ot.arrayOk&&!r.traceIs(Ze,"regl")&&(P.isArrayOrTypedArray(lr)||P.isArrayOrTypedArray(ir))?Ge.calc=!0:E.update(Ge,Ot):Ge.calc=!0,nr.set(lr))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Me)&&a.swap(ft,Dt),"orientationaxes"===Me){var nn=L(ft.layout,"hovermode"),Ur=nn.get();"x"===Ur?nn.set("y"):"y"===Ur?nn.set("x"):"x unified"===Ur?nn.set("y unified"):"y unified"===Ur&&nn.set("x unified")}if(-1!==["orientation","type"].indexOf(Me)){for(Ue=[],Te=0;Te<Dt.length;Te++){var Tn=ee[Dt[Te]];r.traceIs(Tn,"cartesian")&&(gr(Tn.xaxis||"x"),gr(Tn.yaxis||"y"))}pe(Ue.map(tr),!0,0),pe(Ue.map(he),[0,1],0)}}else nr=We(ft.layout,Me.replace("LAYOUT","")),ce[Me]=[Q(nr.get())],nr.set(Array.isArray(Ie)?Ie[0]:Ie),Ge.calc=!0}return(Ge.calc||Ge.plot)&&(Ge.fullReplot=!0),{flags:Ge,undoit:ce,redoit:hr,traces:Dt,eventData:P.extendDeepNoArrays([],[ye,Dt])}}function dt(ft){var te,ee,Ne,pt=P.counterRegex("axis",".title",!1,!1),Dt=/colorbar\.title$/,Qt=Object.keys(ft);for(te=0;te<Qt.length;te++)Ne=ft[ee=Qt[te]],"title"!==ee&&!pt.test(ee)&&!Dt.test(ee)||"string"!=typeof Ne&&"number"!=typeof Ne?ee.indexOf("titlefont")>-1&&-1===ee.indexOf("grouptitlefont")?We(ee,ee.replace("titlefont","title.font")):ee.indexOf("titleposition")>-1?We(ee,ee.replace("titleposition","title.position")):ee.indexOf("titleside")>-1?We(ee,ee.replace("titleside","title.side")):ee.indexOf("titleoffset")>-1&&We(ee,ee.replace("titleoffset","title.offset")):We(ee,ee.replace("title","title.text"));function We(ye,Te){ft[Te]=ft[ye],delete ft[ye]}}function xt(ft,pt,Dt){ft=P.getGraphDiv(ft),M.clearPromiseQueue(ft);var Qt={};if("string"==typeof pt)Qt[pt]=Dt;else{if(!P.isPlainObject(pt))return P.warn("Relayout fail.",pt,Dt),Promise.reject();Qt=P.extendFlat({},pt)}Object.keys(Qt).length&&(ft.changed=!0);var te=Mt(ft,Qt),ee=te.flags;ee.calc&&(ft.calcdata=void 0);var Ne=[s.previousPromises];ee.layoutReplot?Ne.push(b.layoutReplot):Object.keys(Qt).length&&(yt(ft,ee,te)||s.supplyDefaults(ft),ee.legend&&Ne.push(b.doLegend),ee.layoutstyle&&Ne.push(b.layoutStyles),ee.axrange&&St(Ne,te.rangesAltered),ee.ticks&&Ne.push(b.doTicksRelayout),ee.modebar&&Ne.push(b.doModeBar),ee.camera&&Ne.push(b.doCamera),ee.colorbars&&Ne.push(b.doColorBars),Ne.push(C)),Ne.push(s.rehover,s.redrag,s.reselect),m.add(ft,xt,[ft,te.undoit],xt,[ft,te.redoit]);var We=P.syncOrAsync(Ne,ft);return(!We||!We.then)&&(We=Promise.resolve(ft)),We.then(function(){return ft.emit("plotly_relayout",te.eventData),ft})}function yt(ft,pt,Dt){var Qt=ft._fullLayout;if(!pt.axrange)return!1;for(var te in pt)if("axrange"!==te&&pt[te])return!1;var ee,Ne,We=function(Ue,Ye){return P.coerce(ee,Ne,f,Ue,Ye)},ye={};for(var Te in Dt.rangesAltered){var Ge=a.id2name(Te);if(h(ee=ft.layout[Ge],Ne=Qt[Ge],We,ye),Ne._matchGroup)for(var hr in Ne._matchGroup)if(hr!==Te){var ce=Qt[a.id2name(hr)];ce.autorange=Ne.autorange,ce.range=Ne.range.slice(),ce._input.range=Ne.range.slice()}}return!0}function St(ft,pt){ft.push(d,b.doAutoRangeAndConstraints,pt?function(Qt){var te=[];for(var Ne in pt){var We=a.getFromId(Qt,Ne);if(te.push(Ne),-1!==(We.ticklabelposition||"").indexOf("inside")&&We._anchorAxis&&te.push(We._anchorAxis._id),We._matchGroup)for(var ye in We._matchGroup)pt[ye]||te.push(ye)}return a.draw(Qt,te,{skipTitle:!0})}:function(Qt){return a.draw(Qt,"redraw")},b.drawData,b.finalDraw)}var Et=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Tt=/^[xyz]axis[0-9]*\.autorange$/,gt=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Mt(ft,pt){var Ge,hr,ce,Dt=ft.layout,Qt=ft._fullLayout,ee=Y(Qt._preGUI,Qt._guiEditing),Ne=Object.keys(pt),We=a.list(ft),ye=P.extendDeepAll({},pt),Te={};for(dt(pt),Ne=Object.keys(pt),hr=0;hr<Ne.length;hr++)if(0===Ne[hr].indexOf("allaxes")){for(ce=0;ce<We.length;ce++){var Ue=We[ce]._id.substr(1),Ye=-1!==Ue.indexOf("scene")?Ue+".":"",gr=Ne[hr].replace("allaxes",Ye+We[ce]._name);pt[gr]||(pt[gr]=pt[Ne[hr]])}delete pt[Ne[hr]]}var tr=E.layoutFlags(),he={},ne={};function pe(sn,pn){if(Array.isArray(sn))sn.forEach(function(wn){pe(wn,pn)});else if(!(sn in pt)&&!M.hasParent(pt,sn)){var gn=ee(Dt,sn);sn in ne||(ne[sn]=Q(gn.get())),void 0!==pn&&gn.set(pn)}}var Se,be={};function Me(sn){var pn=a.name2id(sn.split(".")[0]);return be[pn]=1,pn}for(var Ie in pt){if(M.hasParent(pt,Ie))throw new Error("cannot set "+Ie+" and a parent attribute simultaneously");for(var Fe=ee(Dt,Ie),Ze=pt[Ie],ir=Fe.parts.length-1;ir>0&&"string"!=typeof Fe.parts[ir];)ir--;var lr=Fe.parts[ir],Ot=Fe.parts[ir-1]+"."+lr,Ut=Fe.parts.slice(0,ir).join("."),Ce=L(ft.layout,Ut).get(),Le=L(Qt,Ut).get(),Xe=Fe.get();if(void 0!==Ze){he[Ie]=Ze,ne[Ie]="reverse"===lr?Ze:Q(Xe);var _e=e.getLayoutValObject(Qt,Fe.parts);if(_e&&_e.impliedEdits&&null!==Ze)for(var fr in _e.impliedEdits)pe(P.relativeAttr(Ie,fr),_e.impliedEdits[fr]);if(-1!==["width","height"].indexOf(Ie))if(Ze){pe("autosize",null);var $e="height"===Ie?"width":"height";pe($e,Qt[$e])}else Qt[Ie]=ft._initialAutoSize[Ie];else if("autosize"===Ie)pe("width",Ze?null:Qt.width),pe("height",Ze?null:Qt.height);else if(Ot.match(Et))Me(Ot),L(Qt,Ut+"._inputRange").set(null);else if(Ot.match(Tt)){Me(Ot),L(Qt,Ut+"._inputRange").set(null);var Re=L(Qt,Ut).get();Re._inputDomain&&(Re._input.domain=Re._inputDomain.slice())}else Ot.match(gt)&&L(Qt,Ut+"._inputDomain").set(null);if("type"===lr){Se=Ce;var or="linear"===Le.type&&"log"===Ze;if(or||"log"===Le.type&&"linear"===Ze){if(Se&&Se.range)if(Le.autorange)or&&(Se.range=Se.range[1]>Se.range[0]?[1,2]:[2,1]);else{var pr=Se.range[0],Cr=Se.range[1];or?(pr<=0&&Cr<=0&&pe(Ut+".autorange",!0),pr<=0?pr=Cr/1e6:Cr<=0&&(Cr=pr/1e6),pe(Ut+".range[0]",Math.log(pr)/Math.LN10),pe(Ut+".range[1]",Math.log(Cr)/Math.LN10)):(pe(Ut+".range[0]",Math.pow(10,pr)),pe(Ut+".range[1]",Math.pow(10,Cr)))}else pe(Ut+".autorange",!0);Array.isArray(Qt._subplots.polar)&&Qt._subplots.polar.length&&Qt[Fe.parts[0]]&&"radialaxis"===Fe.parts[1]&&delete Qt[Fe.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(ft,Le,Ze,pe),r.getComponentMethod("images","convertCoords")(ft,Le,Ze,pe)}else pe(Ut+".autorange",!0),pe(Ut+".range",null);L(Qt,Ut+"._inputRange").set(null)}else if(lr.match(x)){var $r=L(Qt,Ie).get(),Ar=(Ze||{}).type;(!Ar||"-"===Ar)&&(Ar="linear"),r.getComponentMethod("annotations","convertCoords")(ft,$r,Ar,pe),r.getComponentMethod("images","convertCoords")(ft,$r,Ar,pe)}var Gr=v.containerArrayMatch(Ie);if(Gr){Ge=Gr.array;var nn=Gr.property,Ur=_e||{editType:"calc"};""!==(hr=Gr.index)&&""===nn&&(v.isAddVal(Ze)?ne[Ie]=null:v.isRemoveVal(Ze)?ne[Ie]=(L(Dt,Ge).get()||[])[hr]:P.warn("unrecognized full object value",pt)),E.update(tr,Ur),Te[Ge]||(Te[Ge]={});var Tn=Te[Ge][hr];Tn||(Tn=Te[Ge][hr]={}),Tn[nn]=Ze,delete pt[Ie]}else"reverse"===lr?(Ce.range?Ce.range.reverse():(pe(Ut+".autorange",!0),Ce.range=[1,0]),Le.autorange?tr.calc=!0:tr.plot=!0):("dragmode"===Ie&&(!1===Ze&&!1!==Xe||!1!==Ze&&!1===Xe)||Qt._has("scatter-like")&&Qt._has("regl")&&"dragmode"===Ie&&("lasso"===Ze||"select"===Ze)&&"lasso"!==Xe&&"select"!==Xe||Qt._has("gl2d")?tr.plot=!0:_e?E.update(tr,_e):tr.calc=!0,Fe.set(Ze))}}for(Ge in Te)v.applyContainerArrayChanges(ft,ee(Dt,Ge),Te[Ge],tr,ee)||(tr.plot=!0);for(var ur in be){var Mr=(Se=a.getFromId(ft,ur))&&Se._constraintGroup;if(Mr)for(var Br in tr.calc=!0,Mr)be[Br]||(a.getFromId(ft,Br)._constraintShrinkable=!0)}(Nt(ft)||pt.height||pt.width)&&(tr.plot=!0);var Or=Qt.shapes;for(hr=0;hr<Or.length;hr++)if(Or[hr].showlegend){tr.calc=!0;break}return(tr.plot||tr.calc)&&(tr.layoutReplot=!0),{flags:tr,rangesAltered:be,undoit:ne,redoit:he,eventData:ye}}function Nt(ft){var pt=ft._fullLayout,Dt=pt.width,Qt=pt.height;return ft.layout.autosize&&s.plotAutoSize(ft,ft.layout,pt),pt.width!==Dt||pt.height!==Qt}function Gt(ft,pt,Dt,Qt){ft=P.getGraphDiv(ft),M.clearPromiseQueue(ft),P.isPlainObject(pt)||(pt={}),P.isPlainObject(Dt)||(Dt={}),Object.keys(pt).length&&(ft.changed=!0),Object.keys(Dt).length&&(ft.changed=!0);var te=M.coerceTraceIndices(ft,Qt),ee=st(ft,P.extendFlat({},pt),te),Ne=ee.flags,We=Mt(ft,P.extendFlat({},Dt)),ye=We.flags;(Ne.calc||ye.calc)&&(ft.calcdata=void 0),Ne.clearAxisTypes&&M.clearAxisTypes(ft,te,Dt);var Te=[];ye.layoutReplot?Te.push(b.layoutReplot):Ne.fullReplot?Te.push(W._doPlot):(Te.push(s.previousPromises),yt(ft,ye,We)||s.supplyDefaults(ft),Ne.style&&Te.push(b.doTraceStyle),(Ne.colorbars||ye.colorbars)&&Te.push(b.doColorBars),ye.legend&&Te.push(b.doLegend),ye.layoutstyle&&Te.push(b.layoutStyles),ye.axrange&&St(Te,We.rangesAltered),ye.ticks&&Te.push(b.doTicksRelayout),ye.modebar&&Te.push(b.doModeBar),ye.camera&&Te.push(b.doCamera),Te.push(C)),Te.push(s.rehover,s.redrag,s.reselect),m.add(ft,Gt,[ft,ee.undoit,We.undoit,ee.traces],Gt,[ft,ee.redoit,We.redoit,ee.traces]);var Ge=P.syncOrAsync(Te,ft);return(!Ge||!Ge.then)&&(Ge=Promise.resolve(ft)),Ge.then(function(){return ft.emit("plotly_update",{data:ee.eventData,layout:We.eventData}),ft})}function Pt(ft){return function(Dt){Dt._fullLayout._guiEditing=!0;var Qt=ft.apply(null,arguments);return Dt._fullLayout._guiEditing=!1,Qt}}var Vt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],re=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function le(ft,pt){for(var Dt=0;Dt<pt.length;Dt++){var Qt=pt[Dt],te=ft.match(Qt.pattern);if(te){var ee=te[1]||"";return{head:ee,tail:ft.substr(ee.length+1),attr:Qt.attr}}}}function It(ft,pt){var Dt=L(pt,ft).get();if(void 0!==Dt)return Dt;var Qt=ft.split(".");for(Qt.pop();Qt.length>1;)if(Qt.pop(),void 0!==(Dt=L(pt,Qt.join(".")+".uirevision").get()))return Dt;return pt.uirevision}function Rt(ft,pt){for(var Dt=0;Dt<pt.length;Dt++)if(pt[Dt]._fullInput.uid===ft)return Dt;return-1}function $t(ft,pt,Dt){for(var Qt=0;Qt<pt.length;Qt++)if(pt[Qt].uid===ft)return Qt;return!pt[Dt]||pt[Dt].uid?-1:Dt}function oe(ft,pt){var Dt=P.isPlainObject(ft),Qt=Array.isArray(ft);return Dt||Qt?(Dt&&P.isPlainObject(pt)||Qt&&Array.isArray(pt))&&JSON.stringify(ft)===JSON.stringify(pt):ft===pt}function Ct(ft,pt,Dt,Qt){var te,ee,Ne,We=Qt.getValObject,ye=Qt.flags,Te=Qt.immutable,Ge=Qt.inArray,hr=Qt.arrayIndex;function ce(){var Ut=te.editType;Ge&&-1!==Ut.indexOf("arraydraw")?P.pushUnique(ye.arrays[Ge],hr):(E.update(ye,te),"none"!==Ut&&ye.nChanges++,Qt.transition&&te.anim&&ye.nChangesAnim++,(Et.test(Ne)||Tt.test(Ne))&&(ye.rangesAltered[Dt[0]]=1),gt.test(Ne)&&L(pt,"_inputDomain").set(null),"datarevision"===ee&&(ye.newDataRevision=1))}function Ue(Ut){return"data_array"===Ut.valType||Ut.arrayOk}for(ee in ft){if(ye.calc&&!Qt.transition)return;var Ye=ft[ee],gr=pt[ee],tr=Dt.concat(ee);if(Ne=tr.join("."),"_"!==ee.charAt(0)&&"function"!=typeof Ye&&Ye!==gr){if(("tick0"===ee||"dtick"===ee)&&"geo"!==Dt[0]){var he=pt.tickmode;if("auto"===he||"array"===he||!he)continue}if(("range"!==ee||!pt.autorange)&&("zmin"!==ee&&"zmax"!==ee||"contourcarpet"!==pt.type)&&(te=We(tr))&&(!te._compareAsJSON||JSON.stringify(Ye)!==JSON.stringify(gr))){var pe,ne=te.valType,be=Ue(te),Se=Array.isArray(Ye),Me=Array.isArray(gr);if(Se&&Me){var Ie="_input_"+ee,Fe=ft[Ie],Ze=pt[Ie];if(Array.isArray(Fe)&&Fe===Ze)continue}if(void 0===gr)be&&Se?ye.calc=!0:ce();else if(te._isLinkedToArray){var nr=[],ir=!1;Ge||(ye.arrays[ee]=nr);var lr=Math.min(Ye.length,gr.length),Ot=Math.max(Ye.length,gr.length);if(lr!==Ot){if("arraydraw"!==te.editType){ce();continue}ir=!0}for(pe=0;pe<lr;pe++)Ct(Ye[pe],gr[pe],tr.concat(pe),P.extendFlat({inArray:ee,arrayIndex:pe},Qt));if(ir)for(pe=lr;pe<Ot;pe++)nr.push(pe)}else!ne&&P.isPlainObject(Ye)?Ct(Ye,gr,tr,Qt):be?Se&&Me?(Te&&(ye.calc=!0),(Te||Qt.newDataRevision)&&ce()):Se!==Me?ye.calc=!0:ce():Se&&Me?(Ye.length!==gr.length||String(Ye)!==String(gr))&&ce():ce()}}}for(ee in pt)if(!(ee in ft)&&"_"!==ee.charAt(0)&&"function"!=typeof pt[ee]){if(Ue(te=We(Dt.concat(ee)))&&Array.isArray(pt[ee]))return void(ye.calc=!0);ce()}}function Wt(ft,pt){var Dt;for(Dt in ft)if("_"!==Dt.charAt(0)){var Qt=ft[Dt],te=pt[Dt];if(Qt!==te)if(P.isPlainObject(Qt)&&P.isPlainObject(te)){if(Wt(Qt,te))return!0}else{if(!Array.isArray(Qt)||!Array.isArray(te))return!0;if(Qt.length!==te.length)return!0;for(var ee=0;ee<Qt.length;ee++)if(Qt[ee]!==te[ee]){if(!P.isPlainObject(Qt[ee])||!P.isPlainObject(te[ee]))return!0;if(Wt(Qt[ee],te[ee]))return!0}}}}function kt(ft){var pt=ft._fullLayout,Dt=ft.getBoundingClientRect();if(!P.equalDomRects(Dt,pt._lastBBox)){var Qt=pt._invTransform=P.inverseTransformMatrix(P.getFullTransformMatrix(ft));pt._invScaleX=Math.sqrt(Qt[0][0]*Qt[0][0]+Qt[0][1]*Qt[0][1]+Qt[0][2]*Qt[0][2]),pt._invScaleY=Math.sqrt(Qt[1][0]*Qt[1][0]+Qt[1][1]*Qt[1][1]+Qt[1][2]*Qt[1][2]),pt._lastBBox=Dt}}W.animate=function Xt(ft,pt,Dt){if(ft=P.getGraphDiv(ft),!P.isPlotDiv(ft))throw new Error("This element is not a Plotly plot: "+ft+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Qt=ft._transitionData;Qt._frameQueue||(Qt._frameQueue=[]);var te=(Dt=s.supplyAnimationDefaults(Dt)).transition,ee=Dt.frame;function Ne(Te){return Array.isArray(te)?Te>=te.length?te[0]:te[Te]:te}function We(Te){return Array.isArray(ee)?Te>=ee.length?ee[0]:ee[Te]:ee}function ye(Te,Ge){var hr=0;return function(){if(Te&&++hr===Ge)return Te()}}return void 0===Qt._frameWaitingCnt&&(Qt._frameWaitingCnt=0),new Promise(function(Te,Ge){var tr=0;function he(lr){return lr.transitionOpts=Array.isArray(te)?tr>=te.length?te[tr]:te[0]:te,tr++,lr}var ne,pe,be=[],Se=null==pt,Me=Array.isArray(pt);if(Se||Me||!P.isPlainObject(pt)){if(Se||-1!==["string","number"].indexOf(typeof pt))for(ne=0;ne<Qt._frames.length;ne++)(pe=Qt._frames[ne])&&(Se||String(pe.group)===String(pt))&&be.push({type:"byname",name:String(pe.name),data:he({name:pe.name})});else if(Me)for(ne=0;ne<pt.length;ne++){var Fe=pt[ne];-1!==["number","string"].indexOf(typeof Fe)?(Fe=String(Fe),be.push({type:"byname",name:Fe,data:he({name:Fe})})):P.isPlainObject(Fe)&&be.push({type:"object",data:he(P.extendFlat({},Fe))})}}else be.push({type:"object",data:he(P.extendFlat({},pt))});for(ne=0;ne<be.length;ne++)if("byname"===(pe=be[ne]).type&&!Qt._frameHash[pe.data.name])return P.warn('animate failure: frame not found: "'+pe.data.name+'"'),void Ge();-1!==["next","immediate"].indexOf(Dt.mode)&&function hr(){if(0!==Qt._frameQueue.length){for(;Qt._frameQueue.length;){var lr=Qt._frameQueue.pop();lr.onInterrupt&&lr.onInterrupt()}ft.emit("plotly_animationinterrupted",[])}}(),"reverse"===Dt.direction&&be.reverse();var Ze=ft._fullLayout._currentFrame;if(Ze&&Dt.fromcurrent){var nr=-1;for(ne=0;ne<be.length;ne++)if("byname"===(pe=be[ne]).type&&pe.name===Ze){nr=ne;break}if(nr>0&&nr<be.length-1){var ir=[];for(ne=0;ne<be.length;ne++)pe=be[ne],("byname"!==be[ne].type||ne>nr)&&ir.push(pe);be=ir}}be.length>0?function ce(lr){if(0!==lr.length){for(var Ot=0;Ot<lr.length;Ot++){var Ut;Ut="byname"===lr[Ot].type?s.computeFrame(ft,lr[Ot].name):lr[Ot].data;var Ce=We(Ot),Le=Ne(Ot);Le.duration=Math.min(Le.duration,Ce.duration);var Xe={frame:Ut,name:lr[Ot].name,frameOpts:Ce,transitionOpts:Le};Ot===lr.length-1&&(Xe.onComplete=ye(Te,2),Xe.onInterrupt=Ge),Qt._frameQueue.push(Xe)}"immediate"===Dt.mode&&(Qt._lastFrameAt=-1/0),Qt._animationRaf||function gr(){ft.emit("plotly_animating"),Qt._lastFrameAt=-1/0,Qt._timeToNext=0,Qt._runningTransitions=0,Qt._currentFrame=null;var lr=function(){Qt._animationRaf=window.requestAnimationFrame(lr),Date.now()-Qt._lastFrameAt>Qt._timeToNext&&function Ye(){Qt._currentFrame&&Qt._currentFrame.onComplete&&Qt._currentFrame.onComplete();var lr=Qt._currentFrame=Qt._frameQueue.shift();if(lr){var Ot=lr.name?lr.name.toString():null;ft._fullLayout._currentFrame=Ot,Qt._lastFrameAt=Date.now(),Qt._timeToNext=lr.frameOpts.duration,s.transition(ft,lr.frame.data,lr.frame.layout,M.coerceTraceIndices(ft,lr.frame.traces),lr.frameOpts,lr.transitionOpts).then(function(){lr.onComplete&&lr.onComplete()}),ft.emit("plotly_animatingframe",{name:Ot,frame:lr.frame,animation:{frame:lr.frameOpts,transition:lr.transitionOpts}})}else!function Ue(){ft.emit("plotly_animated"),window.cancelAnimationFrame(Qt._animationRaf),Qt._animationRaf=null}()}()};lr()}()}}(be):(ft.emit("plotly_animated"),Te())})},W.addFrames=function Ht(ft,pt,Dt){if(ft=P.getGraphDiv(ft),null==pt)return Promise.resolve();if(!P.isPlotDiv(ft))throw new Error("This element is not a Plotly plot: "+ft+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Qt,te,ee,Ne,We=ft._transitionData._frames,ye=ft._transitionData._frameHash;if(!Array.isArray(pt))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+pt);var Te=We.length+2*pt.length,Ge=[],hr={};for(Qt=pt.length-1;Qt>=0;Qt--)if(P.isPlainObject(pt[Qt])){var ce=pt[Qt].name,Ue=(ye[ce]||hr[ce]||{}).name,Ye=pt[Qt].name;Ue&&Ye&&"number"==typeof Ye&&(ye[Ue]||hr[Ue])&&S<5&&(S++,P.warn('addFrames: overwriting frame "'+(ye[Ue]||hr[Ue]).name+'" with a frame whose name of type "number" also equates to "'+Ue+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===S&&P.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),hr[ce]={name:ce},Ge.push({frame:s.supplyFrameDefaults(pt[Qt]),index:Dt&&null!=Dt[Qt]?Dt[Qt]:Te+Qt})}Ge.sort(function(Ie,Fe){return Ie.index>Fe.index?-1:Ie.index<Fe.index?1:0});var tr=[],he=[],ne=We.length;for(Qt=Ge.length-1;Qt>=0;Qt--){if("number"==typeof(te=Ge[Qt].frame).name&&P.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!te.name)for(;ye[te.name="frame "+ft._transitionData._counter++];);if(ye[te.name]){for(ee=0;ee<We.length&&(We[ee]||{}).name!==te.name;ee++);tr.push({type:"replace",index:ee,value:te}),he.unshift({type:"replace",index:ee,value:We[ee]})}else Ne=Math.max(0,Math.min(Ge[Qt].index,ne)),tr.push({type:"insert",index:Ne,value:te}),he.unshift({type:"delete",index:Ne}),ne++}return m&&m.add(ft,s.modifyFrames,[ft,he],s.modifyFrames,[ft,tr]),s.modifyFrames(ft,tr)},W.deleteFrames=function Bt(ft,pt){if(ft=P.getGraphDiv(ft),!P.isPlotDiv(ft))throw new Error("This element is not a Plotly plot: "+ft);var Dt,Qt,te=ft._transitionData._frames,ee=[],Ne=[];if(!pt)for(pt=[],Dt=0;Dt<te.length;Dt++)pt.push(Dt);for((pt=pt.slice()).sort(),Dt=pt.length-1;Dt>=0;Dt--)ee.push({type:"delete",index:Qt=pt[Dt]}),Ne.unshift({type:"insert",index:Qt,value:te[Qt]});return m&&m.add(ft,s.modifyFrames,[ft,Ne],s.modifyFrames,[ft,ee]),s.modifyFrames(ft,ee)},W.addTraces=function rt(ft,pt,Dt){ft=P.getGraphDiv(ft);var ye,Te,Qt=[],te=W.deleteTraces,ee=rt,Ne=[ft,Qt],We=[ft,pt];for(function G(ft,pt,Dt){var Qt,te;if(!Array.isArray(ft.data))throw new Error("gd.data must be an array.");if(void 0===pt)throw new Error("traces must be defined.");for(Array.isArray(pt)||(pt=[pt]),Qt=0;Qt<pt.length;Qt++)if("object"!=typeof(te=pt[Qt])||Array.isArray(te)||null===te)throw new Error("all values in traces array must be non-array objects");if(void 0!==Dt&&!Array.isArray(Dt)&&(Dt=[Dt]),void 0!==Dt&&Dt.length!==pt.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(ft,pt,Dt),Array.isArray(pt)||(pt=[pt]),pt=pt.map(function(Ge){return P.extendFlat({},Ge)}),M.cleanData(pt),ye=0;ye<pt.length;ye++)ft.data.push(pt[ye]);for(ye=0;ye<pt.length;ye++)Qt.push(-pt.length+ye);if(void 0===Dt)return Te=W.redraw(ft),m.add(ft,te,Ne,ee,We),Te;Array.isArray(Dt)||(Dt=[Dt]);try{U(ft,Qt,Dt)}catch(Ge){throw ft.data.splice(ft.data.length-pt.length,pt.length),Ge}return m.startSequence(ft),m.add(ft,te,Ne,ee,We),Te=W.moveTraces(ft,Qt,Dt),m.stopSequence(ft),Te},W.deleteTraces=function H(ft,pt){ft=P.getGraphDiv(ft);var We,ye,Dt=[],Qt=W.addTraces,te=H,ee=[ft,Dt,pt],Ne=[ft,pt];if(void 0===pt)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(pt)||(pt=[pt]),O(ft,pt,"indices"),(pt=B(pt,ft.data.length-1)).sort(P.sorterDes),We=0;We<pt.length;We+=1)ye=ft.data.splice(pt[We],1)[0],Dt.push(ye);var Te=W.redraw(ft);return m.add(ft,Qt,ee,te,Ne),Te},W.extendTraces=function K(ft,pt,Dt,Qt){function te(ye,Te,Ge){var hr,ce;if(P.isTypedArray(ye))if(Ge<0){var Ue=new ye.constructor(0),Ye=lt(ye,Te);Ge<0?(hr=Ye,ce=Ue):(hr=Ue,ce=Ye)}else if(hr=new ye.constructor(Ge),ce=new ye.constructor(ye.length+Te.length-Ge),Ge===Te.length)hr.set(Te),ce.set(ye);else if(Ge<Te.length){var gr=Te.length-Ge;hr.set(Te.subarray(gr)),ce.set(ye),ce.set(Te.subarray(0,gr),ye.length)}else{var tr=Ge-Te.length,he=ye.length-tr;hr.set(ye.subarray(he)),hr.set(Te,tr),ce.set(ye.subarray(0,he))}else hr=ye.concat(Te),ce=Ge>=0&&Ge<hr.length?hr.splice(0,hr.length-Ge):[];return[hr,ce]}var ee=at(ft=P.getGraphDiv(ft),pt,Dt,Qt,te),Ne=W.redraw(ft);return m.add(ft,W.prependTraces,[ft,ee.update,Dt,ee.maxPoints],K,arguments),Ne},W.moveTraces=function Z(ft,pt,Dt){var Te,Qt=[],te=[],ee=Z,Ne=Z,We=[ft=P.getGraphDiv(ft),Dt,pt],ye=[ft,pt,Dt];if(U(ft,pt,Dt),pt=Array.isArray(pt)?pt:[pt],void 0===Dt)for(Dt=[],Te=0;Te<pt.length;Te++)Dt.push(-pt.length+Te);for(Dt=Array.isArray(Dt)?Dt:[Dt],pt=B(pt,ft.data.length-1),Dt=B(Dt,ft.data.length-1),Te=0;Te<ft.data.length;Te++)-1===pt.indexOf(Te)&&Qt.push(ft.data[Te]);for(Te=0;Te<pt.length;Te++)te.push({newIndex:Dt[Te],trace:ft.data[pt[Te]]});for(te.sort(function(hr,ce){return hr.newIndex-ce.newIndex}),Te=0;Te<te.length;Te+=1)Qt.splice(te[Te].newIndex,0,te[Te].trace);ft.data=Qt;var Ge=W.redraw(ft);return m.add(ft,ee,We,Ne,ye),Ge},W.prependTraces=function j(ft,pt,Dt,Qt){function te(ye,Te,Ge){var hr,ce;if(P.isTypedArray(ye))if(Ge<=0){var Ue=new ye.constructor(0),Ye=lt(Te,ye);Ge<0?(hr=Ye,ce=Ue):(hr=Ue,ce=Ye)}else if(hr=new ye.constructor(Ge),ce=new ye.constructor(ye.length+Te.length-Ge),Ge===Te.length)hr.set(Te),ce.set(ye);else if(Ge<Te.length){var gr=Te.length-Ge;hr.set(Te.subarray(0,gr)),ce.set(Te.subarray(gr)),ce.set(ye,gr)}else{var tr=Ge-Te.length;hr.set(Te),hr.set(ye.subarray(0,tr),Te.length),ce.set(ye.subarray(tr))}else hr=Te.concat(ye),ce=Ge>=0&&Ge<hr.length?hr.splice(Ge,hr.length):[];return[hr,ce]}var ee=at(ft=P.getGraphDiv(ft),pt,Dt,Qt,te),Ne=W.redraw(ft);return m.add(ft,W.extendTraces,[ft,ee.update,Dt,ee.maxPoints],j,arguments),Ne},W.newPlot=function z(ft,pt,Dt,Qt){return ft=P.getGraphDiv(ft),s.cleanPlot([],{},ft._fullData||[],ft._fullLayout||{}),s.purge(ft),W._doPlot(ft,pt,Dt,Qt)},W._doPlot=function n(ft,pt,Dt,Qt){var te;if(ft=P.getGraphDiv(ft),l.init(ft),P.isPlainObject(pt)){var ee=pt;pt=ee.data,Dt=ee.layout,Qt=ee.config,te=ee.frames}if(!1===l.triggerHandler(ft,"plotly_beforeplot",[pt,Dt,Qt]))return Promise.reject();!pt&&!Dt&&!P.isPlotDiv(ft)&&P.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ft),N(ft,Qt),Dt||(Dt={}),A.select(ft).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(ft._promises)||(ft._promises=[]);var ye=0===(ft.data||[]).length&&Array.isArray(pt);Array.isArray(pt)&&(M.cleanData(pt),ye?ft.data=pt:ft.data.push.apply(ft.data,pt),ft.empty=!1),(!ft.layout||ye)&&(ft.layout=M.cleanLayout(Dt)),s.supplyDefaults(ft);var Te=ft._fullLayout,Ge=Te._has("cartesian");Te._replotting=!0,(ye||Te._shouldCreateBgLayer)&&(function wt(ft){var pt=A.select(ft),Dt=ft._fullLayout;if(Dt._calcInverseTransform=kt,Dt._calcInverseTransform(ft),Dt._container=pt.selectAll(".plot-container").data([0]),Dt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Dt._paperdiv=Dt._container.selectAll(".svg-container").data([0]),Dt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Dt._glcontainer=Dt._paperdiv.selectAll(".gl-container").data([{}]),Dt._glcontainer.enter().append("div").classed("gl-container",!0),Dt._paperdiv.selectAll(".main-svg").remove(),Dt._paperdiv.select(".modebar-container").remove(),Dt._paper=Dt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Dt._toppaper=Dt._paperdiv.append("svg").classed("main-svg",!0),Dt._modebardiv=Dt._paperdiv.append("div"),delete Dt._modeBar,Dt._hoverpaper=Dt._paperdiv.append("svg").classed("main-svg",!0),!Dt._uid){var Qt={};A.selectAll("defs").each(function(){this.id&&(Qt[this.id.split("-")[1]]=1)}),Dt._uid=P.randstr(Qt)}Dt._paperdiv.selectAll(".main-svg").attr(w.svgAttrs),Dt._defs=Dt._paper.append("defs").attr("id","defs-"+Dt._uid),Dt._clips=Dt._defs.append("g").classed("clips",!0),Dt._topdefs=Dt._toppaper.append("defs").attr("id","topdefs-"+Dt._uid),Dt._topclips=Dt._topdefs.append("g").classed("clips",!0),Dt._bgLayer=Dt._paper.append("g").classed("bglayer",!0),Dt._draggers=Dt._paper.append("g").classed("draglayer",!0);var te=Dt._paper.append("g").classed("layer-below",!0);Dt._imageLowerLayer=te.append("g").classed("imagelayer",!0),Dt._shapeLowerLayer=te.append("g").classed("shapelayer",!0),Dt._cartesianlayer=Dt._paper.append("g").classed("cartesianlayer",!0),Dt._polarlayer=Dt._paper.append("g").classed("polarlayer",!0),Dt._smithlayer=Dt._paper.append("g").classed("smithlayer",!0),Dt._ternarylayer=Dt._paper.append("g").classed("ternarylayer",!0),Dt._geolayer=Dt._paper.append("g").classed("geolayer",!0),Dt._funnelarealayer=Dt._paper.append("g").classed("funnelarealayer",!0),Dt._pielayer=Dt._paper.append("g").classed("pielayer",!0),Dt._iciclelayer=Dt._paper.append("g").classed("iciclelayer",!0),Dt._treemaplayer=Dt._paper.append("g").classed("treemaplayer",!0),Dt._sunburstlayer=Dt._paper.append("g").classed("sunburstlayer",!0),Dt._indicatorlayer=Dt._toppaper.append("g").classed("indicatorlayer",!0),Dt._glimages=Dt._paper.append("g").classed("glimages",!0);var ee=Dt._toppaper.append("g").classed("layer-above",!0);Dt._imageUpperLayer=ee.append("g").classed("imagelayer",!0),Dt._shapeUpperLayer=ee.append("g").classed("shapelayer",!0),Dt._selectionLayer=Dt._toppaper.append("g").classed("selectionlayer",!0),Dt._infolayer=Dt._toppaper.append("g").classed("infolayer",!0),Dt._menulayer=Dt._toppaper.append("g").classed("menulayer",!0),Dt._zoomlayer=Dt._toppaper.append("g").classed("zoomlayer",!0),Dt._hoverlayer=Dt._hoverpaper.append("g").classed("hoverlayer",!0),Dt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ft.emit("plotly_framework")}(ft),Te._shouldCreateBgLayer&&delete Te._shouldCreateBgLayer),u.initGradients(ft),u.initPatterns(ft),ye&&a.saveShowSpikeInitial(ft);var hr=!ft.calcdata||ft.calcdata.length!==(ft._fullData||[]).length;hr&&s.doCalcdata(ft);for(var ce=0;ce<ft.calcdata.length;ce++)ft.calcdata[ce][0].trace=ft._fullData[ce];ft._context.responsive?ft._responsiveChartHandler||(ft._responsiveChartHandler=function(){P.isHidden(ft)||s.resize(ft)},window.addEventListener("resize",ft._responsiveChartHandler)):P.clearResponsive(ft);var Ue=P.extendFlat({},Te._size),Ye=0;function tr(){if(s.clearAutoMarginIds(ft),b.drawMarginPushers(ft),a.allowAutoMargin(ft),ft._fullLayout.title.text&&ft._fullLayout.title.automargin&&s.allowAutoMargin(ft,"title.automargin"),Te._has("pie"))for(var Ie=ft._fullData,Fe=0;Fe<Ie.length;Fe++){var Ze=Ie[Fe];"pie"===Ze.type&&Ze.automargin&&s.allowAutoMargin(ft,"pie."+Ze.uid+".automargin")}return s.doAutoMargin(ft),s.previousPromises(ft)}function pe(){ft._transitioning||(b.doAutoRangeAndConstraints(ft),ye&&a.saveRangeInitial(ft),r.getComponentMethod("rangeslider","calcAutorange")(ft))}var Se=[s.previousPromises,function We(){if(te)return W.addFrames(ft,te)},function gr(){for(var Ie=Te._basePlotModules,Fe=0;Fe<Ie.length;Fe++)Ie[Fe].drawFramework&&Ie[Fe].drawFramework(ft);!Te._glcanvas&&Te._has("gl")&&(Te._glcanvas=Te._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(lr){return lr.key}),Te._glcanvas.enter().append("canvas").attr("class",function(lr){return"gl-canvas gl-canvas-"+lr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Ze=ft._context.plotGlPixelRatio;if(Te._glcanvas){Te._glcanvas.attr("width",Te.width*Ze).attr("height",Te.height*Ze).style("width",Te.width+"px").style("height",Te.height+"px");var nr=Te._glcanvas.data()[0].regl;if(nr&&(Math.floor(Te.width*Ze)!==nr._gl.drawingBufferWidth||Math.floor(Te.height*Ze)!==nr._gl.drawingBufferHeight)){var ir="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Ye)return P.log(ir+" Clearing graph and plotting again."),s.cleanPlot([],{},ft._fullData,Te),s.supplyDefaults(ft),Te=ft._fullLayout,s.doCalcdata(ft),Ye++,gr();P.error(ir)}}return"h"===Te.modebar.orientation?Te._modebardiv.style("height",null).style("width","100%"):Te._modebardiv.style("width",null).style("height",Te.height+"px"),s.previousPromises(ft)},tr,function he(){if(s.didMarginChange(Ue,Te._size))return P.syncOrAsync([tr,b.layoutStyles],ft)}];Ge&&Se.push(function ne(){if(hr)return P.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),pe],ft);pe()}),Se.push(b.layoutStyles),Ge&&Se.push(function be(){return a.draw(ft,ye?"":"redraw")},function(Fe){var Ze=Fe._fullLayout._insideTickLabelsUpdaterange;if(Ze)return Fe._fullLayout._insideTickLabelsUpdaterange=void 0,xt(Fe,Ze).then(function(){a.saveRangeInitial(Fe,!0)})}),Se.push(b.drawData,b.finalDraw,c,s.addLinks,s.rehover,s.redrag,s.reselect,s.doAutoMargin,s.previousPromises);var Me=P.syncOrAsync(Se,ft);return(!Me||!Me.then)&&(Me=Promise.resolve()),Me.then(function(){return C(ft),ft})},W.purge=function zt(ft){var pt=(ft=P.getGraphDiv(ft))._fullLayout||{};return s.cleanPlot([],{},ft._fullData||[],pt),s.purge(ft),l.purge(ft),pt._container&&pt._container.remove(),delete ft._context,ft},W.react=function ve(ft,pt,Dt,Qt){var te,ee;ft=P.getGraphDiv(ft),M.clearPromiseQueue(ft);var We=ft._fullData,ye=ft._fullLayout;if(P.isPlotDiv(ft)&&We&&ye){if(P.isPlainObject(pt)){var Te=pt;pt=Te.data,Dt=Te.layout,Qt=Te.config,te=Te.frames}var Ge=!1;if(Qt){var hr=P.extendDeep({},ft._context);ft._context=void 0,N(ft,Qt),Ge=Wt(hr,ft._context)}ft.data=pt||[],M.cleanData(ft.data),ft.layout=Dt||{},M.cleanLayout(ft.layout),function se(ft,pt,Dt,Qt){var ee,Ne,We,ye,Te,Ge,hr,ce,Ue,Ye,te=Qt._preGUI,gr=[],tr={},he={};for(ee in te){if(Te=le(ee,Vt)){if(Ue=Te.head,Ye=Te.tail,(ye=(We=L(Qt,Ne=Te.attr||Ue+".uirevision").get())&&It(Ne,pt))&&ye===We){if(null===(Ge=te[ee])&&(Ge=void 0),oe(ce=(hr=L(pt,ee)).get(),Ge)){void 0===ce&&"autorange"===Ye&&gr.push(Ue),hr.set(Q(L(Qt,ee).get()));continue}if("autorange"===Ye||"range["===Ye.substr(0,6)){var be=te[Ue+".autorange"];if(be||null===be&&null===te[Ue+".range[0]"]&&null===te[Ue+".range[1]"]){if(!(Ue in tr)){var Se=L(pt,Ue).get();tr[Ue]=Se&&(Se.autorange||!1!==Se.autorange&&(!Se.range||2!==Se.range.length))}if(tr[Ue]){hr.set(Q(L(Qt,ee).get()));continue}}}}}else P.warn("unrecognized GUI edit: "+ee);delete te[ee],Te&&"range["===Te.tail.substr(0,6)&&(he[Te.head]=1)}for(var Me=0;Me<gr.length;Me++){var Ie=gr[Me];if(he[Ie]){var Fe=L(pt,Ie).get();Fe&&delete Fe.autorange}}var Ze=Qt._tracePreGUI;for(var nr in Ze){var Ot,ir=Ze[nr],lr=null;for(ee in ir){if(!lr){var Ut=Rt(nr,Dt);if(Ut<0){delete Ze[nr];break}var Le=$t(nr,ft,(Ot=Dt[Ut]._fullInput).index);if(Le<0){delete Ze[nr];break}lr=ft[Le]}if(Te=le(ee,re)){if(Te.attr?ye=(We=L(Qt,Te.attr).get())&&It(Te.attr,pt):(We=Ot.uirevision,void 0===(ye=lr.uirevision)&&(ye=pt.uirevision)),ye&&ye===We&&(null===(Ge=ir[ee])&&(Ge=void 0),oe(ce=(hr=L(lr,ee)).get(),Ge))){hr.set(Q(L(Ot,ee).get()));continue}}else P.warn("unrecognized GUI edit: "+ee+" in trace uid "+nr);delete ir[ee]}}}(ft.data,ft.layout,We,ye),s.supplyDefaults(ft,{skipUpdateCalc:!0});var ce=ft._fullData,Ue=ft._fullLayout,Ye=void 0===Ue.datarevision,gr=Ue.transition,tr=function jt(ft,pt,Dt,Qt,te){var ee=E.layoutFlags();function Ne(ye){return e.getLayoutValObject(Dt,ye)}return ee.arrays={},ee.rangesAltered={},ee.nChanges=0,ee.nChangesAnim=0,Ct(pt,Dt,[],{getValObject:Ne,flags:ee,immutable:Qt,transition:te,gd:ft}),(ee.plot||ee.calc)&&(ee.layoutReplot=!0),te&&ee.nChanges&&ee.nChangesAnim&&(ee.anim=ee.nChanges===ee.nChangesAnim?"all":"some"),ee}(ft,ye,Ue,Ye,gr),ne=function de(ft,pt,Dt,Qt,te,ee){var Ne=pt.length===Dt.length;if(!te&&!Ne)return{fullReplot:!0,calc:!0};var ye,Te,We=E.traceFlags();function Ge(Ue){var Ye=e.getTraceValObject(Te,Ue);return!Te._module.animatable&&Ye.anim&&(Ye.anim=!1),Ye}We.arrays={},We.nChanges=0,We.nChangesAnim=0;var hr={getValObject:Ge,flags:We,immutable:Qt,transition:te,newDataRevision:ee,gd:ft},ce={};for(ye=0;ye<pt.length;ye++)if(Dt[ye]){if(s.hasMakesDataTransform(Te=Dt[ye]._fullInput)&&(Te=Dt[ye]),ce[Te.uid])continue;ce[Te.uid]=1,Ct(pt[ye]._fullInput,Te,[],hr)}return(We.calc||We.plot)&&(We.fullReplot=!0),te&&We.nChanges&&We.nChangesAnim&&(We.anim=We.nChanges===We.nChangesAnim&&Ne?"all":"some"),We}(ft,We,ce,Ye,gr,tr.newDataRevision);if(Nt(ft)&&(tr.layoutReplot=!0),ne.calc||tr.calc){ft.calcdata=void 0;for(var pe=Object.getOwnPropertyNames(Ue),be=0;be<pe.length;be++){var Se=pe[be],Me=Se.substring(0,5);if("xaxis"===Me||"yaxis"===Me){var Ie=Ue[Se]._emptyCategories;Ie&&Ie()}}}else s.supplyDefaultsUpdateCalc(ft.calcdata,ce);var Fe=[];if(te&&(ft._transitionData={},s.createTransitionData(ft),Fe.push(function Ne(){return W.addFrames(ft,te)})),Ue.transition&&!Ge&&(ne.anim||tr.anim))tr.ticks&&Fe.push(b.doTicksRelayout),s.doCalcdata(ft),b.doAutoRangeAndConstraints(ft),Fe.push(function(){return s.transitionFromReact(ft,ne,tr,ye)});else if(ne.fullReplot||tr.layoutReplot||Ge)ft._fullLayout._skipDefaults=!0,Fe.push(W._doPlot);else{for(var Ze in tr.arrays){var nr=tr.arrays[Ze];if(nr.length){var ir=r.getComponentMethod(Ze,"drawOne");if(ir!==P.noop)for(var lr=0;lr<nr.length;lr++)ir(ft,nr[lr]);else{var Ot=r.getComponentMethod(Ze,"draw");if(Ot===P.noop)throw new Error("cannot draw components: "+Ze);Ot(ft)}}}Fe.push(s.previousPromises),ne.style&&Fe.push(b.doTraceStyle),(ne.colorbars||tr.colorbars)&&Fe.push(b.doColorBars),tr.legend&&Fe.push(b.doLegend),tr.layoutstyle&&Fe.push(b.layoutStyles),tr.axrange&&St(Fe),tr.ticks&&Fe.push(b.doTicksRelayout),tr.modebar&&Fe.push(b.doModeBar),tr.camera&&Fe.push(b.doCamera),Fe.push(C)}Fe.push(s.rehover,s.redrag,s.reselect),(!(ee=P.syncOrAsync(Fe,ft))||!ee.then)&&(ee=Promise.resolve(ft))}else ee=W.newPlot(ft,pt,Dt,Qt);return ee.then(function(){return ft.emit("plotly_react",{data:pt,layout:Dt}),ft})},W.redraw=function k(ft){if(ft=P.getGraphDiv(ft),!P.isPlotDiv(ft))throw new Error("This element is not a Plotly plot: "+ft);return M.cleanData(ft.data),M.cleanLayout(ft.layout),ft.calcdata=void 0,W._doPlot(ft).then(function(){return ft.emit("plotly_redraw"),ft})},W.relayout=xt,W.restyle=it,W.setPlotConfig=function p(ft){return P.extendFlat(o,ft)},W.update=Gt,W._guiRelayout=Pt(xt),W._guiRestyle=Pt(it),W._guiUpdate=Pt(Gt),W._storeDirectGUIEdit=function _(ft,pt,Dt){for(var Qt in Dt)nt(Qt,L(ft,Qt).get(),Dt[Qt],pt)}},20556:function(tt){"use strict";var W={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},t={};(function A(y,i){for(var P in y){var L=y[P];L.valType?i[P]=L.dflt:(i[P]||(i[P]={}),A(L,i[P]))}})(W,t),tt.exports={configAttributes:W,dfltConfig:t}},73060:function(tt,W,t){"use strict";var A=t(24040),y=t(3400),i=t(45464),P=t(64859),L=t(16672),l=t(85656),m=t(20556).configAttributes,r=t(67824),e=y.extendDeepAll,s=y.isPlainObject,a=y.isArrayOrTypedArray,h=y.nestedProperty,f=y.valObjectMeta,u="_isSubplotObj",g="_isLinkedToArray",w="_deprecated",d=[u,g,"_arrayAttrRegexps",w];function v(N,k,z){if(!N)return!1;if(N._isLinkedToArray)if(M(k[z]))z++;else if(z<k.length)return!1;for(;z<k.length;z++){var B=N[k[z]];if(!s(B))break;if(N=B,z===k.length-1)break;if(N._isLinkedToArray){if(!M(k[++z]))return!1}else if("info_array"===N.valType){var O=k[++z];if(!M(O))return!1;var U=N.items;if(Array.isArray(U)){if(O>=U.length)return!1;if(2===N.dimensions){if(z++,k.length===z)return N;var G=k[z];if(!M(G))return!1;N=U[O][G]}else N=U[O]}else N=U}}return N}function M(N){return N===Math.round(N)&&N>=0}function E(){var k,z,N={};for(k in e(N,P),A.subplotsRegistry)if((z=A.subplotsRegistry[k]).layoutAttributes)if(Array.isArray(z.attr))for(var B=0;B<z.attr.length;B++)F(N,z,z.attr[B]);else F(N,z,"subplot"===z.attr?z.name:z.attr);for(k in A.componentsRegistry){var U=(z=A.componentsRegistry[k]).schema;if(U&&(U.subplots||U.layout)){var G=U.subplots;if(G&&G.xaxis&&!G.yaxis)for(var J in G.xaxis)delete N.yaxis[J];delete N.xaxis.shift,delete N.xaxis.autoshift}else"colorscale"===z.name?e(N,z.layoutAttributes):z.layoutAttributes&&D(N,z.layoutAttributes,z.name)}return{layoutAttributes:T(N)}}function S(){var N={frames:e({},L)};return T(N),N.frames}function T(N){return function n(N){function k(B){return{valType:"string",editType:"none"}}function z(B,O,U){W.isValObject(B)?(!0===B.arrayOk||"data_array"===B.valType)&&(U[O+"src"]=k(O)):s(B)&&(B.role="object")}W.crawl(N,z)}(N),function C(N){function k(z,B,O){if(z){var U=z[g];!U||(delete z[g],O[B]={items:{}},O[B].items[U]=z,O[B].role="object")}}W.crawl(N,k)}(N),function p(N){function k(z){for(var B in z)if(s(z[B]))k(z[B]);else if(Array.isArray(z[B]))for(var O=0;O<z[B].length;O++)k(z[B][O]);else z[B]instanceof RegExp&&(z[B]=z[B].toString())}k(N)}(N),N}function F(N,k,z){var B=h(N,z),O=e({},k.layoutAttributes);O[u]=!0,B.set(O)}function D(N,k,z){var B=h(N,z);B.set(e(B.get()||{},k))}W.IS_SUBPLOT_OBJ=u,W.IS_LINKED_TO_ARRAY=g,W.DEPRECATED=w,W.UNDERSCORE_ATTRS=d,W.get=function(){var N={};A.allTypes.forEach(function(z){N[z]=function b(N){var k,z;z=(k=A.modules[N]._module).basePlotModule;var B={type:null},O=e({},i),U=e({},k.attributes);W.crawl(U,function(et,at,lt,K,j){h(O,j).set(void 0),void 0===et&&h(U,j).set(void 0)}),e(B,O),A.traceIs(N,"noOpacity")&&delete B.opacity,A.traceIs(N,"showLegend")||(delete B.showlegend,delete B.legendgroup),A.traceIs(N,"noHover")&&(delete B.hoverinfo,delete B.hoverlabel),k.selectPoints||delete B.selectedpoints,e(B,U),z.attributes&&e(B,z.attributes),B.type=N;var G={meta:k.meta||{},categories:k.categories||{},animatable:Boolean(k.animatable),type:N,attributes:T(B)};if(k.layoutAttributes){var J={};e(J,k.layoutAttributes),G.layoutAttributes=T(J)}return k.animatable||W.crawl(G,function(et){W.isValObject(et)&&"anim"in et&&delete et.anim}),G}(z)});var k={};return Object.keys(A.transformsRegistry).forEach(function(z){k[z]=function x(N){var z=e({},A.transformsRegistry[N].attributes);return Object.keys(A.componentsRegistry).forEach(function(B){var O=A.componentsRegistry[B];O.schema&&O.schema.transforms&&O.schema.transforms[N]&&Object.keys(O.schema.transforms[N]).forEach(function(U){D(z,O.schema.transforms[N][U],U)})}),{attributes:T(z)}}(z)}),{defs:{valObjects:f,metaKeys:d.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:N,layout:E(),transforms:k,frames:S(),animation:T(l),config:T(m)}},W.crawl=function(N,k,z,B){var O=z||0;B=B||"",Object.keys(N).forEach(function(U){var G=N[U];if(-1===d.indexOf(U)){var J=(B?B+".":"")+U;k(G,U,N,O,J),!W.isValObject(G)&&s(G)&&"impliedEdits"!==U&&W.crawl(G,k,O+1,J)}})},W.isValObject=function(N){return N&&void 0!==N.valType},W.findArrayAttributes=function(N){var O,U,k=[],z=[],B=[];function G(j,rt,H,Z){z=z.slice(0,Z).concat([rt]),B=B.slice(0,Z).concat([j&&j._isLinkedToArray]),!j||"data_array"!==j.valType&&!0!==j.arrayOk||"colorbar"===z[Z-1]&&("ticktext"===rt||"tickvals"===rt)||J(O,0,"")}function J(j,rt,H){var Z=j[z[rt]],it=H+z[rt];if(rt===z.length-1)a(Z)&&k.push(U+it);else if(B[rt]){if(Array.isArray(Z))for(var Q=0;Q<Z.length;Q++)s(Z[Q])&&J(Z[Q],rt+1,it+"["+Q+"].")}else s(Z)&&J(Z,rt+1,it+".")}O=N,U="",W.crawl(i,G),N._module&&N._module.attributes&&W.crawl(N._module.attributes,G);var et=N.transforms;if(et)for(var at=0;at<et.length;at++){var lt=et[at],K=lt._module;K&&(U="transforms["+at+"].",O=lt,W.crawl(K.attributes,G))}return k},W.getTraceValObject=function(N,k){var O,U,z=k[0],B=1;if("transforms"===z){if(1===k.length)return i.transforms;var G=N.transforms;if(!Array.isArray(G)||!G.length)return!1;var J=k[1];if(!M(J)||J>=G.length)return!1;U=(O=(A.transformsRegistry[G[J].type]||{}).attributes)&&O[k[2]],B=3}else{var et=N._module;if(et||(et=(A.modules[N.type||i.type.dflt]||{})._module),!et)return!1;if(!(U=(O=et.attributes)&&O[z])){var at=et.basePlotModule;at&&at.attributes&&(U=at.attributes[z])}U||(U=i[z])}return v(U,k,B)},W.getLayoutValObject=function(N,k){return v(function o(N,k){var z,B,O,U,G=N._basePlotModules;if(G){var J;for(z=0;z<G.length;z++){if((O=G[z]).attrRegex&&O.attrRegex.test(k)){if(O.layoutAttrOverrides)return O.layoutAttrOverrides;!J&&O.layoutAttributes&&(J=O.layoutAttributes)}var et=O.baseLayoutAttrOverrides;if(et&&k in et)return et[k]}if(J)return J}var at=N._modules;if(at)for(z=0;z<at.length;z++)if((U=at[z].layoutAttributes)&&k in U)return U[k];for(B in A.componentsRegistry){if("colorscale"===(O=A.componentsRegistry[B]).name&&0===k.indexOf("coloraxis"))return O.layoutAttributes[k];if(!O.schema&&k===O.name)return O.layoutAttributes}return k in P&&P[k]}(N,k[0]),k,1)}},31780:function(tt,W,t){"use strict";var A=t(3400),y=t(45464),i="templateitemname",P={name:{valType:"string",editType:"none"}};function L(m){return m&&"string"==typeof m}function l(m){return"s"!==m.charAt(m.length-1)&&A.warn("bad argument to arrayDefaultKey: "+m),m.substr(0,m.length-1)+"defaults"}P[i]={valType:"string",editType:"calc"},W.templatedArray=function(m,r){return r._isLinkedToArray=m,r.name=P.name,r[i]=P[i],r},W.traceTemplater=function(m){var e,s,r={};for(e in m)s=m[e],Array.isArray(s)&&s.length&&(r[e]=0);return{newTrace:function a(h){var f={type:e=A.coerce(h,{},y,"type"),_template:null};if(e in r){var u=r[e]%(s=m[e]).length;r[e]++,f._template=s[u]}return f}}},W.newContainer=function(m,r,e){var s=m._template,a=s&&(s[r]||e&&s[e]);return A.isPlainObject(a)||(a=null),m[r]={_template:a}},W.arrayTemplater=function(m,r,e){var s=m._template,a=s&&s[l(r)],h=s&&s[r];(!Array.isArray(h)||!h.length)&&(h=[]);var f={};return{newItem:function u(c){var w={name:c.name,_input:c},d=w[i]=c[i];if(!L(d))return w._template=a,w;for(var o=0;o<h.length;o++){var v=h[o];if(v.name===d)return f[d]=1,w._template=v,w}return w[e]=c[e]||!1,w._template=!1,w},defaultItems:function g(){for(var c=[],w=0;w<h.length;w++){var d=h[w],o=d.name;if(L(o)&&!f[o]){var v={_template:d,name:o,_input:{_templateitemname:o}};v[i]=d[i],c.push(v),f[o]=1}}return c}}},W.arrayDefaultKey=l,W.arrayEditor=function(m,r,e){var s=(A.nestedProperty(m,r).get()||[]).length,a=e._index,h=a>=s&&(e._input||{})._templateitemname;h&&(a=s);var u,f=r+"["+a+"]";function g(){u={},h&&(u[f]={},u[f][i]=h)}function w(v,M){h?A.nestedProperty(u[f],v).set(M):u[f+"."+v]=M}function d(){var v=u;return g(),v}return g(),{modifyBase:function c(v,M){u[v]=M},modifyItem:w,getUpdateObj:d,applyUpdate:function o(v,M){v&&w(v,M);var b=d();for(var E in b)A.nestedProperty(m,E).set(b[E])}}}},39172:function(tt,W,t){"use strict";var A=t(33428),y=t(24040),i=t(7316),P=t(3400),L=t(72736),l=t(73696),m=t(76308),r=t(43616),e=t(81668),s=t(45460),a=t(54460),h=t(84284),f=t(71888),u=f.enforce,g=f.clean,c=t(19280).doAutoRange,w="start";function v(z,B,O){for(var U=0;U<O.length;U++){var G=O[U][0],J=O[U][1];if(!(G[0]>=z[1]||G[1]<=z[0])&&J[0]<B[1]&&J[1]>B[0])return!0}return!1}function M(z){var J,et,at,lt,K,j,B=z._fullLayout,O=B._size,U=O.p,G=a.list(z,"",!0);if(B._paperdiv.style({width:z._context.responsive&&B.autosize&&!z._context._hasZeroWidth&&!z.layout.width?"100%":B.width+"px",height:z._context.responsive&&B.autosize&&!z._context._hasZeroHeight&&!z.layout.height?"100%":B.height+"px"}).selectAll(".main-svg").call(r.setSize,B.width,B.height),z._context.setBackground(z,B.paper_bgcolor),W.drawMainTitle(z),s.manage(z),!B._has("cartesian"))return i.previousPromises(z);function rt(zt,kt,wt){var ft=zt._lw/2;return"x"===zt._id.charAt(0)?kt?"top"===wt?kt._offset-U-ft:kt._offset+kt._length+U+ft:O.t+O.h*(1-(zt.position||0))+ft%1:kt?"right"===wt?kt._offset+kt._length+U+ft:kt._offset-U-ft:O.l+O.w*(zt.position||0)+ft%1}for(J=0;J<G.length;J++){var H=(lt=G[J])._anchorAxis;lt._linepositions={},lt._lw=r.crispRound(z,lt.linewidth,1),lt._mainLinePosition=rt(lt,H,lt.side),lt._mainMirrorPosition=lt.mirror&&H?rt(lt,H,h.OPPOSITE_SIDE[lt.side]):null}var Z=[],it=[],Q=[],Y=1===m.opacity(B.paper_bgcolor)&&1===m.opacity(B.plot_bgcolor)&&B.paper_bgcolor===B.plot_bgcolor;for(et in B._plots)if((at=B._plots[et]).mainplot)at.bg&&at.bg.remove(),at.bg=void 0;else{var nt=at.xaxis.domain,_=at.yaxis.domain,st=at.plotgroup;if(v(nt,_,Q)){var dt=st.node(),xt=at.bg=P.ensureSingle(st,"rect","bg");dt.insertBefore(xt.node(),dt.childNodes[0]),it.push(et)}else st.select("rect.bg").remove(),Q.push([nt,_]),Y||(Z.push(et),it.push(et))}var Mt,Nt,Gt,Pt,Vt,re,le,It,Rt,$t,oe,se,ve,yt=B._bgLayer.selectAll(".bg").data(Z);for(yt.enter().append("rect").classed("bg",!0),yt.exit().remove(),yt.each(function(zt){B._plots[zt].bg=A.select(this)}),J=0;J<it.length;J++)K=(at=B._plots[it[J]]).xaxis,j=at.yaxis,at.bg&&void 0!==K._offset&&void 0!==j._offset&&at.bg.call(r.setRect,K._offset-U,j._offset-U,K._length+2*U,j._length+2*U).call(m.fill,B.plot_bgcolor).style("stroke-width",0);if(!B._hasOnlyLargeSploms)for(et in B._plots){K=(at=B._plots[et]).xaxis,j=at.yaxis;var Tt,gt,St=at.clipId="clip"+B._uid+et+"plot",Et=P.ensureSingleById(B._clips,"clipPath",St,function(zt){zt.classed("plotclip",!0).append("rect")});at.clipRect=Et.select("rect").attr({width:K._length,height:j._length}),r.setTranslate(at.plot,K._offset,j._offset),at._hasClipOnAxisFalse?(Tt=null,gt=St):(Tt=St,gt=null),r.setClipUrl(at.plot,Tt,z),at.layerClipId=gt}function de(zt){return"M"+Mt+","+zt+"H"+Nt}function jt(zt){return"M"+K._offset+","+zt+"h"+K._length}function Ct(zt){return"M"+zt+","+It+"V"+le}function Wt(zt){return void 0!==j._shift&&(zt+=j._shift),"M"+zt+","+j._offset+"v"+j._length}function Xt(zt,kt,wt){if(!zt.showline||et!==zt._mainSubplot)return"";if(!zt._anchorAxis)return wt(zt._mainLinePosition);var ft=kt(zt._mainLinePosition);return zt.mirror&&(ft+=kt(zt._mainMirrorPosition)),ft}for(et in B._plots){j=(at=B._plots[et]).yaxis;var Ht="M0,0";b(K=at.xaxis,et)&&(Vt=x(K,"left",j,G),Mt=K._offset-(Vt?U+Vt:0),re=x(K,"right",j,G),Nt=K._offset+K._length+(re?U+re:0),Gt=rt(K,j,"bottom"),Pt=rt(K,j,"top"),(ve=!K._anchorAxis||et!==K._mainSubplot)&&("allticks"===K.mirror||"all"===K.mirror)&&(K._linepositions[et]=[Gt,Pt]),Ht=Xt(K,de,jt),ve&&K.showline&&("all"===K.mirror||"allticks"===K.mirror)&&(Ht+=de(Gt)+de(Pt)),at.xlines.style("stroke-width",K._lw+"px").call(m.stroke,K.showline?K.linecolor:"rgba(0,0,0,0)")),at.xlines.attr("d",Ht);var Bt="M0,0";b(j,et)&&(oe=x(j,"bottom",K,G),le=j._offset+j._length+(oe?U:0),se=x(j,"top",K,G),It=j._offset-(se?U:0),Rt=rt(j,K,"left"),$t=rt(j,K,"right"),(ve=!j._anchorAxis||et!==j._mainSubplot)&&("allticks"===j.mirror||"all"===j.mirror)&&(j._linepositions[et]=[Rt,$t]),Bt=Xt(j,Ct,Wt),ve&&j.showline&&("all"===j.mirror||"allticks"===j.mirror)&&(Bt+=Ct(Rt)+Ct($t)),at.ylines.style("stroke-width",j._lw+"px").call(m.stroke,j.showline?j.linecolor:"rgba(0,0,0,0)")),at.ylines.attr("d",Bt)}return a.makeClipPaths(z),i.previousPromises(z)}function b(z,B){return(z.ticks||z.showline)&&(B===z._mainSubplot||"all"===z.mirror||"allticks"===z.mirror)}function E(z,B,O){if(!O.showline||!O._lw)return!1;if("all"===O.mirror||"allticks"===O.mirror)return!0;var U=O._anchorAxis;if(!U)return!1;var G=h.FROM_BL[B];return O.side===B?U.domain[G]===z.domain[G]:O.mirror&&U.domain[1-G]===z.domain[1-G]}function x(z,B,O,U){if(E(z,B,O))return O._lw;for(var G=0;G<U.length;G++){var J=U[G];if(J._mainAxis===O._mainAxis&&E(z,B,J))return J._lw}return 0}function C(z,B,O,U){var G="title.automargin",J=z._fullLayout.title,et=J.y>.5?"t":"b",at={x:J.x,y:J.y,t:0,b:0},lt={};"paper"===J.yref&&function S(z,B,O,U,G){var J="paper"===B.yref?z._fullLayout._size.h:z._fullLayout.height,et=P.isTopAnchor(B)?U:U-G,at="b"===O?J-et:et;return!(P.isTopAnchor(B)&&"t"===O||P.isBottomAnchor(B)&&"b"===O)&&at<G}(z,J,et,B,U)?at[et]=O:"container"===J.yref&&(lt[et]=O,z._fullLayout._reservedMargin[G]=lt),i.allowAutoMargin(z,G),i.autoMargin(z,G,at)}function D(z){return"top"===z?h.CAP_SHIFT+.3+"em":"bottom"===z?"-0.3em":h.MID_SHIFT+"em"}W.layoutStyles=function(z){return P.syncOrAsync([i.doAutoMargin,M],z)},W.drawMainTitle=function(z){var B=z._fullLayout.title,O=z._fullLayout,U=function N(z){var B=z.title,O="middle";return P.isRightAnchor(B)?O="end":P.isLeftAnchor(B)&&(O=w),O}(O),G=function k(z){var B=z.title,O="0em";return P.isTopAnchor(B)?O=h.CAP_SHIFT+"em":P.isMiddleAnchor(B)&&(O=h.MID_SHIFT+"em"),O}(O),J=function F(z,B){var O=z.title,U=z._size,G=0;return"0em"!==B&&B?B===h.CAP_SHIFT+"em"&&(G=O.pad.t):G=-O.pad.b,"auto"===O.y?U.t/2:"paper"===O.yref?U.t+U.h-U.h*O.y+G:z.height-z.height*O.y+G}(O,G),et=function p(z,B){var O=z.title,U=z._size,G=0;return"paper"===(B===w?G=O.pad.l:"end"===B&&(G=-O.pad.r),O.xref)?U.l+U.w*O.x+G:z.width*O.x+G}(O,U);if(e.draw(z,"gtitle",{propContainer:O,propName:"title.text",placeholder:O._dfltTitle.plot,attributes:{x:et,y:J,"text-anchor":U,dy:G}}),B.text&&B.automargin){var at=A.selectAll(".gtitle"),lt=r.bBox(at.node()).height,K=function n(z,B,O){var U=B.y,J=U>.5?"t":"b",et=z._fullLayout.margin[J],at=0;return"paper"===B.yref?at=O+B.pad.t+B.pad.b:"container"===B.yref&&(at=function T(z,B,O,U,G){var J=0;return"middle"===O&&(J+=G/2),"t"===z?("top"===O&&(J+=G),J+=U-B*U):("bottom"===O&&(J+=G),J+=B*U),J}(J,U,B.yanchor,z._fullLayout.height,O)+B.pad.t+B.pad.b),at>et?at:0}(z,B,lt);if(K>0){C(z,J,K,lt),at.attr({x:et,y:J,"text-anchor":U,dy:D(B.yanchor)}).call(L.positionText,et,J);var j=(B.text.match(L.BR_TAG_ALL)||[]).length;if(j){var rt=h.LINE_SPACING*j+h.MID_SHIFT;0===B.y&&(rt=-rt),at.selectAll(".line").each(function(){var H=+this.getAttribute("dy").slice(0,-2)-rt+"em";this.setAttribute("dy",H)})}}}},W.doTraceStyle=function(z){var U,B=z.calcdata,O=[];for(U=0;U<B.length;U++){var G=B[U],J=G[0]||{},et=J.trace||{},at=et._module||{},lt=at.arraysToCalcdata;lt&&lt(G,et);var K=at.editStyle;K&&O.push({fn:K,cd0:J})}if(O.length){for(U=0;U<O.length;U++){var j=O[U];j.fn(z,j.cd0)}l(z),W.redrawReglTraces(z)}return i.style(z),y.getComponentMethod("legend","draw")(z),i.previousPromises(z)},W.doColorBars=function(z){return y.getComponentMethod("colorbar","draw")(z),i.previousPromises(z)},W.layoutReplot=function(z){var B=z.layout;return z.layout=void 0,y.call("_doPlot",z,"",B)},W.doLegend=function(z){return y.getComponentMethod("legend","draw")(z),i.previousPromises(z)},W.doTicksRelayout=function(z){return a.draw(z,"redraw"),z._fullLayout._hasOnlyLargeSploms&&(y.subplotsRegistry.splom.updateGrid(z),l(z),W.redrawReglTraces(z)),W.drawMainTitle(z),i.previousPromises(z)},W.doModeBar=function(z){var B=z._fullLayout;s.manage(z);for(var O=0;O<B._basePlotModules.length;O++){var U=B._basePlotModules[O].updateFx;U&&U(z)}return i.previousPromises(z)},W.doCamera=function(z){for(var B=z._fullLayout,O=B._subplots.gl3d,U=0;U<O.length;U++){var G=B[O[U]];G._scene.setViewport(G)}},W.drawData=function(z){var B=z._fullLayout;l(z);for(var O=B._basePlotModules,U=0;U<O.length;U++)O[U].plot(z);return W.redrawReglTraces(z),i.style(z),y.getComponentMethod("selections","draw")(z),y.getComponentMethod("shapes","draw")(z),y.getComponentMethod("annotations","draw")(z),y.getComponentMethod("images","draw")(z),B._replotting=!1,i.previousPromises(z)},W.redrawReglTraces=function(z){var B=z._fullLayout;if(B._has("regl")){var J,et,O=z._fullData,U=[],G=[];for(B._hasOnlyLargeSploms&&B._splomGrid.draw(),J=0;J<O.length;J++){var at=O[J];!0===at.visible&&0!==at._length&&("splom"===at.type?B._splomScenes[at.uid].draw():"scattergl"===at.type?P.pushUnique(U,at.xaxis+at.yaxis):"scatterpolargl"===at.type&&P.pushUnique(G,at.subplot))}for(J=0;J<U.length;J++)(et=B._plots[U[J]])._scene&&et._scene.draw();for(J=0;J<G.length;J++)(et=B[G[J]]._subplot)._scene&&et._scene.draw()}},W.doAutoRangeAndConstraints=function(z){for(var O,B=a.list(z,"",!0),U={},G=0;G<B.length;G++)if(!U[(O=B[G])._id]){U[O._id]=1,g(z,O),c(z,O);var J=O._matchGroup;if(J)for(var et in J){var at=a.getFromId(z,et);c(z,at,O.range),U[et]=1}}u(z)},W.finalDraw=function(z){y.getComponentMethod("rangeslider","draw")(z),y.getComponentMethod("rangeselector","draw")(z)},W.drawMarginPushers=function(z){y.getComponentMethod("legend","draw")(z),y.getComponentMethod("rangeselector","draw")(z),y.getComponentMethod("sliders","draw")(z),y.getComponentMethod("updatemenus","draw")(z),y.getComponentMethod("colorbar","draw")(z)}},94828:function(tt,W,t){"use strict";var A=t(3400),y=A.isPlainObject,i=t(73060),P=t(7316),L=t(45464),l=t(31780),m=t(20556).dfltConfig;function r(c,w){c=A.extendDeep({},c);var o,v,d=Object.keys(c).sort();function M(T,n,C){if(y(n)&&y(T))r(T,n);else if(Array.isArray(n)&&Array.isArray(T)){var p=l.arrayTemplater({_template:c},C);for(v=0;v<n.length;v++){var F=n[v],D=p.newItem(F)._template;D&&r(D,F)}var N=p.defaultItems();for(v=0;v<N.length;v++)n.push(N[v]._template);for(v=0;v<n.length;v++)delete n[v].templateitemname}}for(o=0;o<d.length;o++){var b=d[o],E=c[b];if(b in w?M(E,w[b],b):w[b]=E,e(b)===b)for(var x in w){var S=e(x);x!==S&&S===b&&!(x in c)&&M(E,w[x],b)}}}function e(c){return c.replace(/[0-9]+$/,"")}function s(c,w,d,o,v){var M=v&&d(v);for(var b in c){var E=c[b],x=f(c,b,o),S=f(c,b,v),T=d(S);if(!T){var n=e(b);n!==b&&(T=d(S=f(c,n,v)))}if(!(M&&M===T||!T||T._noTemplating||"data_array"===T.valType||T.arrayOk&&Array.isArray(E)))if(!T.valType&&y(E))s(E,w,d,x,S);else if(T._isLinkedToArray&&Array.isArray(E))for(var C=!1,p=0,F={},D=0;D<E.length;D++){var N=E[D];if(y(N)){var k=N.name;if(k)F[k]||(s(N,w,d,f(E,p,x),f(E,p,S)),p++,F[k]=1);else if(!C){var B=f(c,l.arrayDefaultKey(b),o),O=f(E,p,x);s(N,w,d,O,f(E,p,S));var U=A.nestedProperty(w,O);A.nestedProperty(w,B).set(U.get()),U.set(null),C=!0}}}else A.nestedProperty(w,x).set(E)}}function a(c,w){return i.getLayoutValObject(c,A.nestedProperty({},w).parts)}function h(c,w){return i.getTraceValObject(c,A.nestedProperty({},w).parts)}function f(c,w,d){return d?Array.isArray(c)?d+"["+w+"]":d+"."+w:w}function u(c){for(var w=0;w<c.length;w++)if(y(c[w]))return!0}function g(c){var w;switch(c.code){case"data":w="The template has no key data.";break;case"layout":w="The template has no key layout.";break;case"missing":w=c.path?"There are no templates for item "+c.path+" with name "+c.templateitemname:"There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":w=c.path?"The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?"Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":"The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":w="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type."}return c.msg=w,c}W.makeTemplate=function(c){c=A.isPlainObject(c)?c:A.getGraphDiv(c),c=A.extendDeep({_context:m},{data:c.data,layout:c.layout}),P.supplyDefaults(c);var w=c.data||[],d=c.layout||{};d._basePlotModules=c._fullLayout._basePlotModules,d._modules=c._fullLayout._modules;var o={data:{},layout:{}};w.forEach(function(p){var F={};s(p,F,h.bind(null,p));var D=A.coerce(p,{},L,"type"),N=o.data[D];N||(N=o.data[D]=[]),N.push(F)}),s(d,o.layout,a.bind(null,d)),delete o.layout.template;var v=d.template;if(y(v)){var b,E,x,S,T,n,M=v.layout;y(M)&&r(M,o.layout);var C=v.data;if(y(C)){for(E in o.data)if(x=C[E],Array.isArray(x)){for(n=(T=o.data[E]).length,S=x.length,b=0;b<n;b++)r(x[b%S],T[b]);for(b=n;b<S;b++)T.push(A.extendDeep({},x[b]))}for(E in C)E in o.data||(o.data[E]=A.extendDeep([],C[E]))}}return o},W.validateTemplate=function(c,w){var d=A.extendDeep({},{_context:m,data:c.data,layout:c.layout}),o=d.layout||{};y(w)||(w=o.template||{});var v=w.layout,M=w.data,b=[];d.layout=o,d.layout.template=w,P.supplyDefaults(d);var E=d._fullLayout,x=d._fullData,S={};if(y(v)?(function T(B,O){for(var U in B)if("_"!==U.charAt(0)&&y(B[U])){var et,G=e(U),J=[];for(et=0;et<O.length;et++)J.push(f(B,U,O[et])),G!==U&&J.push(f(B,G,O[et]));for(et=0;et<J.length;et++)S[J[et]]=1;T(B[U],J)}}(E,["layout"]),function n(B,O){for(var U in B)if(-1===U.indexOf("defaults")&&y(B[U])){var G=f(B,U,O);S[G]?n(B[U],G):b.push({code:"unused",path:G})}}(v,"layout")):b.push({code:"layout"}),y(M)){for(var p,C={},F=0;F<x.length;F++){var D=x[F];C[p=D.type]=(C[p]||0)+1,D._fullInput._template||b.push({code:"missing",index:D._fullInput.index,traceType:p})}for(p in M){var N=M[p].length,k=C[p]||0;N>k?b.push({code:"unused",traceType:p,templateCount:N,dataCount:k}):k>N&&b.push({code:"reused",traceType:p,templateCount:N,dataCount:k})}}else b.push({code:"data"});if(function z(B,O){for(var U in B)if("_"!==U.charAt(0)){var G=B[U],J=f(B,U,O);y(G)?(Array.isArray(B)&&!1===G._template&&G.templateitemname&&b.push({code:"missing",path:J,templateitemname:G.templateitemname}),z(G,J)):Array.isArray(G)&&u(G)&&z(G,J)}}({data:x,layout:E},""),b.length)return b.map(g)}},67024:function(tt,W,t){"use strict";var A=t(38248),y=t(36424),i=t(7316),P=t(3400),L=t(81792),l=t(37164),m=t(63268),r=t(25788).version,e={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};tt.exports=function s(a,h){var f,u,g,c;function w(k){return!(k in h)||P.validate(h[k],e[k])}if(h=h||{},P.isPlainObject(a)?(f=a.data||[],u=a.layout||{},g=a.config||{},c={}):(a=P.getGraphDiv(a),f=P.extendDeep([],a.data),u=P.extendDeep({},a.layout),g=a._context,c=a._fullLayout||{}),!w("width")&&null!==h.width||!w("height")&&null!==h.height)throw new Error("Height and width should be pixel values.");if(!w("format"))throw new Error("Export format is not "+P.join2(e.format.values,", "," or ")+".");var d={};function o(k,z){return P.coerce(h,d,e,k,z)}var v=o("format"),M=o("width"),b=o("height"),E=o("scale"),x=o("setBackground"),S=o("imageDataOnly"),T=document.createElement("div");T.style.position="absolute",T.style.left="-5000px",document.body.appendChild(T);var n=P.extendFlat({},u);M?n.width=M:null===h.width&&A(c.width)&&(n.width=c.width),b?n.height=b:null===h.height&&A(c.height)&&(n.height=c.height);var C=P.extendFlat({},g,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),p=L.getRedrawFunc(T);function F(){return new Promise(function(k){setTimeout(k,L.getDelay(T._fullLayout))})}function D(){return new Promise(function(k,z){var B=l(T,v,E),O=T._fullLayout.width,U=T._fullLayout.height;function G(){y.purge(T),document.body.removeChild(T)}if("full-json"===v){var J=i.graphJson(T,!1,"keepdata","object",!0,!0);return J.version=r,J=JSON.stringify(J),G(),k(S?J:L.encodeJSON(J))}if(G(),"svg"===v)return k(S?B:L.encodeSVG(B));var et=document.createElement("canvas");et.id=P.randstr(),m({format:v,width:O,height:U,scale:E,canvas:et,svg:B,promise:!0}).then(k).catch(z)})}return new Promise(function(k,z){y.newPlot(T,f,n,C).then(p).then(F).then(D).then(function(B){k(function N(k){return S?k.replace(L.IMAGE_URL_PREFIX,""):k}(B))}).catch(function(B){z(B)})})}},21480:function(tt,W,t){"use strict";var A=t(3400),y=t(7316),i=t(73060),P=t(20556).dfltConfig,L=A.isPlainObject,l=Array.isArray,m=A.isArrayOrTypedArray;function r(d,o,v,M,b,E){E=E||[];for(var x=Object.keys(d),S=0;S<x.length;S++){var T=x[S];if("transforms"!==T){var n=E.slice();n.push(T);var C=d[T],p=o[T],F=u(v,T),D=(F||{}).valType,N="info_array"===D,k="colorscale"===D,z=(F||{}).items;if(f(v,T))if(L(C)&&L(p)&&"any"!==D)r(C,p,F,M,b,n);else if(N&&l(C)){C.length>p.length&&M.push(h("unused",b,n.concat(p.length)));var U,G,et,at,B=p.length,O=Array.isArray(z);if(O&&(B=Math.min(B,z.length)),2===F.dimensions)for(G=0;G<B;G++)if(l(C[G])){C[G].length>p[G].length&&M.push(h("unused",b,n.concat(G,p[G].length)));var lt=p[G].length;for(U=0;U<(O?Math.min(lt,z[G].length):lt);U++)at=p[G][U],A.validate(et=C[G][U],O?z[G][U]:z)?at!==et&&at!==+et&&M.push(h("dynamic",b,n.concat(G,U),et,at)):M.push(h("value",b,n.concat(G,U),et))}else M.push(h("array",b,n.concat(G),C[G]));else for(G=0;G<B;G++)at=p[G],A.validate(et=C[G],O?z[G]:z)?at!==et&&at!==+et&&M.push(h("dynamic",b,n.concat(G),et,at)):M.push(h("value",b,n.concat(G),et))}else if(F.items&&!N&&l(C)){var rt,H,K=z[Object.keys(z)[0]],j=[];for(rt=0;rt<p.length;rt++){var Z=p[rt]._index||rt;if((H=n.slice()).push(Z),L(C[Z])&&L(p[rt])){j.push(Z);var it=C[Z],Q=p[rt];L(it)&&!1!==it.visible&&!1===Q.visible?M.push(h("invisible",b,H)):r(it,Q,K,M,b,H)}}for(rt=0;rt<C.length;rt++)(H=n.slice()).push(rt),L(C[rt])?-1===j.indexOf(rt)&&M.push(h("unused",b,H)):M.push(h("object",b,H,C[rt]))}else!L(C)&&L(p)?M.push(h("object",b,n,C)):m(C)||!m(p)||N||k?T in o?A.validate(C,F)?"enumerated"===F.valType&&(F.coerceNumber&&C!==+p||C!==p)&&M.push(h("dynamic",b,n,C,p)):M.push(h("value",b,n,C)):M.push(h("unused",b,n,C)):M.push(h("array",b,n,C));else M.push(h("schema",b,n))}}return M}function e(d,o){for(var v=d.layout.layoutAttributes,M=0;M<o.length;M++){var b=o[M],E=d.traces[b.type],x=E.layoutAttributes;x&&A.extendFlat(b.subplot?v[E.attributes.subplot.dflt]:v,x)}return v}tt.exports=function(o,v){void 0===o&&(o=[]),void 0===v&&(v={});var x,S,M=i.get(),b=[],E={_context:A.extendFlat({},P)};l(o)?(E.data=A.extendDeep([],o),x=o):(E.data=[],x=[],b.push(h("array","data"))),L(v)?(E.layout=A.extendDeep({},v),S=v):(E.layout={},S={},arguments.length>1&&b.push(h("object","layout"))),y.supplyDefaults(E);for(var T=E._fullData,n=x.length,C=0;C<n;C++){var p=x[C],F=["data",C];if(L(p)){var D=T[C],N=D.type,k=M.traces[N].attributes;k.type={valType:"enumerated",values:[N]},!1===D.visible&&!1!==p.visible&&b.push(h("invisible",F)),r(p,D,k,b,F);var z=p.transforms,B=D.transforms;if(z){l(z)||b.push(h("array",F,["transforms"])),F.push("transforms");for(var O=0;O<z.length;O++){var U=["transforms",O],G=z[O].type;if(L(z[O])){var J=M.transforms[G]?M.transforms[G].attributes:{};J.type={valType:"enumerated",values:Object.keys(M.transforms)},r(z[O],B[O],J,b,F,U)}else b.push(h("object",F,U))}}}else b.push(h("object",F))}return r(S,E._fullLayout,e(M,T),b,"layout"),0===b.length?void 0:b};var s={object:function(d,o){return("layout"===d&&""===o?"The layout argument":"data"===d[0]&&""===o?"Trace "+d[1]+" in the data argument":a(d)+"key "+o)+" must be linked to an object container"},array:function(d,o){return("data"===d?"The data argument":a(d)+"key "+o)+" must be linked to an array container"},schema:function(d,o){return a(d)+"key "+o+" is not part of the schema"},unused:function(d,o,v){var M=L(v)?"container":"key";return a(d)+M+" "+o+" did not get coerced"},dynamic:function(d,o,v,M){return[a(d)+"key",o,"(set to '"+v+"')","got reset to","'"+M+"'","during defaults."].join(" ")},invisible:function(d,o){return(o?a(d)+"item "+o:"Trace "+d[1])+" got defaulted to be not visible"},value:function(d,o,v){return[a(d)+"key "+o,"is set to an invalid value ("+v+")"].join(" ")}};function a(d){return l(d)?"In data trace "+d[1]+", ":"In "+d+", "}function h(d,o,v,M,b){var E,x;v=v||"",l(o)?(E=o[0],x=o[1]):(E=o,x=null);var S=function w(d){if(!l(d))return String(d);for(var o="",v=0;v<d.length;v++){var M=d[v];"number"==typeof M?o=o.substr(0,o.length-1)+"["+M+"]":o+=M,v<d.length-1&&(o+=".")}return o}(v),T=s[d](o,S,M,b);return A.log(T),{code:d,container:E,trace:x,path:v,astr:S,msg:T}}function f(d,o){var v=c(o),M=v.keyMinusId;return!!(M in d&&d[M]._isSubplotObj&&v.id)||o in d}function u(d,o){return o in d?d[o]:d[c(o).keyMinusId]}var g=A.counterRegex("([a-z]+)");function c(d){var o=d.match(g);return{keyMinusId:o&&o[1],id:o&&o[2]}}},85656:function(tt){"use strict";tt.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(tt,W,t){"use strict";var A=t(3400),y=t(31780);tt.exports=function(P,L,l){var f,u,m=l.name,r=l.inclusionAttr||"visible",e=L[m],s=A.isArrayOrTypedArray(P[m])?P[m]:[],a=L[m]=[],h=y.arrayTemplater(L,m,r);for(f=0;f<s.length;f++){var g=s[f];A.isPlainObject(g)?u=h.newItem(g):(u=h.newItem({}))[r]=!1,u._index=f,!1!==u[r]&&l.handleItemDefaults(g,u,L,l),a.push(u)}var c=h.defaultItems();for(f=0;f<c.length;f++)(u=c[f])._index=a.length,l.handleItemDefaults({},u,L,l,{}),a.push(u);if(A.isArrayOrTypedArray(e)){var w=Math.min(e.length,a.length);for(f=0;f<w;f++)A.relinkPrivateKeys(a[f],e[f])}return a}},45464:function(tt,W,t){"use strict";var A=t(25376),y=t(55756);tt.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:A({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:y.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(tt,W,t){"use strict";var A=t(38248),y=t(3400),i=y.dateTime2ms,P=y.incrementMonth,l=t(39032).ONEAVGMONTH;tt.exports=function(r,e,s,a){if("date"!==e.type)return{vals:a};var h=r[s+"periodalignment"];if(!h)return{vals:a};var u,f=r[s+"period"];if(A(f)){if((f=+f)<=0)return{vals:a}}else if("string"==typeof f&&"M"===f.charAt(0)){var g=+f.substring(1);if(!(g>0&&Math.round(g)===g))return{vals:a};u=g}for(var c=e.calendar,w="start"===h,d="end"===h,v=i(r[s+"period0"],c)||0,M=[],b=[],E=[],x=a.length,S=0;S<x;S++){var n,C,p,T=a[S];if(u){for(n=Math.round((T-v)/(u*l)),p=P(v,u*n,c);p>T;)p=P(p,-u,c);for(;p<=T;)p=P(p,u,c);C=P(p,-u,c)}else{for(p=v+(n=Math.round((T-v)/f))*f;p>T;)p-=f;for(;p<=T;)p+=f;C=p-f}M[S]=w?C:d?p:(C+p)/2,b[S]=C,E[S]=p}return{vals:M,starts:b,ends:E}}},26720:function(tt){"use strict";tt.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(tt,W,t){"use strict";var A=t(33428),y=t(38248),i=t(3400),P=t(39032).FP_SAFE,L=t(24040),l=t(43616),m=t(79811),r=m.getFromId,e=m.isLinked;function s(C,p){var F,D,N=[],k=C._fullLayout,z=h(k,p,0),B=h(k,p,1),O=g(C,p),U=O.min,G=O.max;if(0===U.length||0===G.length)return i.simpleMap(p.range,p.r2l);var J=U[0].val,et=G[0].val;for(F=1;F<U.length&&J===et;F++)J=Math.min(J,U[F].val);for(F=1;F<G.length&&J===et;F++)et=Math.max(et,G[F].val);var at=p.autorange,lt="reversed"===at||"min reversed"===at||"max reversed"===at;if(!lt&&p.range){var K=i.simpleMap(p.range,p.r2l);lt=K[1]<K[0]}"reversed"===p.autorange&&(p.autorange=!0);var Y,nt,_,st,dt,xt,j=p.rangemode,rt="tozero"===j,H="nonnegative"===j,Z=p._length,it=Z/10,Q=0;for(F=0;F<U.length;F++)for(Y=U[F],D=0;D<G.length;D++)(xt=(nt=G[D]).val-Y.val-a(p,Y.val,nt.val))>0&&((dt=Z-z(Y)-B(nt))>it?xt/dt>Q&&(_=Y,st=nt,Q=xt/dt):xt/Z>Q&&(_={val:Y.val,nopad:1},st={val:nt.val,nopad:1},Q=xt/Z));if(J===et){var St=J-1,Et=J+1;if(rt)if(0===J)N=[0,1];else{var Tt=(J>0?G:U).reduce(function yt(Mt,Nt){return Math.max(Mt,B(Nt))},0),gt=J/(1-Math.min(.5,Tt/Z));N=J>0?[0,gt]:[gt,0]}else N=H?[Math.max(0,St),Math.max(1,Et)]:[St,Et]}else rt?(_.val>=0&&(_={val:0,nopad:1}),st.val<=0&&(st={val:0,nopad:1})):H&&(_.val-Q*z(_)<0&&(_={val:0,nopad:1}),st.val<=0&&(st={val:1,nopad:1})),Q=(st.val-_.val-a(p,Y.val,nt.val))/(Z-z(_)-B(st)),N=[_.val-Q*z(_),st.val+Q*B(st)];return N=n(N,p),p.limitRange&&p.limitRange(),lt&&N.reverse(),i.simpleMap(N,p.l2r||Number)}function a(C,p,F){var D=0;if(C.rangebreaks)for(var N=C.locateBreaks(p,F),k=0;k<N.length;k++){var z=N[k];D+=z.max-z.min}return D}function h(C,p,F){var D=.05*p._length,N=p._anchorAxis||{};if(-1!==(p.ticklabelposition||"").indexOf("inside")||-1!==(N.ticklabelposition||"").indexOf("inside")){var k=p.isReversed();if(!k){var z=i.simpleMap(p.range,p.r2l);k=z[1]<z[0]}k&&(F=!F)}var B=0;return e(C,p._id)||(B=function u(C,p,F){var D=0,N="x"===p._id.charAt(0);for(var k in C._plots){var z=C._plots[k];if(p._id===z.xaxis._id||p._id===z.yaxis._id){var B=(N?z.yaxis:z.xaxis)||{};if(-1!==(B.ticklabelposition||"").indexOf("inside")&&(!F&&("left"===B.side||"bottom"===B.side)||F&&("top"===B.side||"right"===B.side))){if(B._vals){var O=i.deg2rad(B._tickAngles[B._id+"tick"]||0),U=Math.abs(Math.cos(O)),G=Math.abs(Math.sin(O));B._vals[0].bb||B._selections[B._id+"tick"].each(function(H){var Z=A.select(this);Z.select(".text-math-group").empty()&&(H.bb=l.bBox(Z.node()))});for(var at=0;at<B._vals.length;at++){var K=B._vals[at].bb;if(K){var j=6+K.width,rt=6+K.height;D=Math.max(D,N?Math.max(j*U,rt*G):Math.max(rt*U,j*G))}}}"inside"===B.ticks&&"inside"===B.ticklabelposition&&(D+=B.ticklen||0)}}}return D}(C,p,F)),D=Math.max(B,D),"domain"===p.constrain&&p._inputDomain&&(D*=(p._inputDomain[1]-p._inputDomain[0])/(p.domain[1]-p.domain[0])),function(U){return U.nopad?0:U.pad+(U.extrapad?D:B)}}tt.exports={applyAutorangeOptions:n,getAutoRange:s,makePadFn:h,doAutoRange:function c(C,p,F){if(p.setScale(),p.autorange){p.range=F?F.slice():s(C,p),p._r=p.range.slice(),p._rl=i.simpleMap(p._r,p.r2l);var D=p._input,N={};N[p._attr+".range"]=p.range,N[p._attr+".autorange"]=p.autorange,L.call("_storeDirectGUIEdit",C.layout,C._fullLayout._preGUI,N),D.range=p.range.slice(),D.autorange=p.autorange}var k=p._anchorAxis;if(k&&k.rangeslider){var z=k.rangeslider[p._name];z&&"auto"===z.rangemode&&(z.range=s(C,p)),k._input.rangeslider[p._name]=i.extendFlat({},z)}},findExtremes:function w(C,p,F){F||(F={}),C._m||C.setScale();var J,et,at,lt,K,j,rt,H,Z,D=[],N=[],k=p.length,z=F.padded||!1,B=F.tozero&&("linear"===C.type||"-"===C.type),O="log"===C.type,U=!1,G=F.vpadLinearized||!1;function it(yt){if(Array.isArray(yt))return U=!0,function(Et){return Math.max(Number(yt[Et]||0),0)};var St=Math.max(Number(yt||0),0);return function(){return St}}var Q=it((C._m>0?F.ppadplus:F.ppadminus)||F.ppad||0),Y=it((C._m>0?F.ppadminus:F.ppadplus)||F.ppad||0),nt=it(F.vpadplus||F.vpad),_=it(F.vpadminus||F.vpad);if(!U){if(H=1/0,Z=-1/0,O)for(J=0;J<k;J++)(et=p[J])<H&&et>0&&(H=et),et>Z&&et<P&&(Z=et);else for(J=0;J<k;J++)(et=p[J])<H&&et>-P&&(H=et),et>Z&&et<P&&(Z=et);p=[H,Z],k=2}var st={tozero:B,extrapad:z};function dt(yt){y(at=p[yt])&&(j=Q(yt),rt=Y(yt),G?(lt=C.c2l(at)-_(yt),K=C.c2l(at)+nt(yt)):(H=at-_(yt),Z=at+nt(yt),O&&H<Z/10&&(H=Z/10),lt=C.c2l(H),K=C.c2l(Z)),B&&(lt=Math.min(0,lt),K=Math.max(0,K)),M(lt)&&d(D,lt,rt,st),M(K)&&o(N,K,j,st))}var xt=Math.min(6,k);for(J=0;J<xt;J++)dt(J);for(J=k-1;J>=xt;J--)dt(J);return{min:D,max:N,opts:F}},concatExtremes:g};function g(C,p,F){var O,U,G,D=p._id,k=C._fullLayout,z=[],B=[];function J(j,rt){for(O=0;O<rt.length;O++){var H=j[rt[O]],Z=(H._extremes||{})[D];if(!0===H.visible&&Z){for(U=0;U<Z.min.length;U++)d(z,(G=Z.min[U]).val,G.pad,{extrapad:G.extrapad});for(U=0;U<Z.max.length;U++)o(B,(G=Z.max[U]).val,G.pad,{extrapad:G.extrapad})}}}if(J(C._fullData,p._traceIndices),J(k.annotations||[],p._annIndices||[]),J(k.shapes||[],p._shapeIndices||[]),p._matchGroup&&!F)for(var et in p._matchGroup)if(et!==p._id){var at=r(C,et),lt=g(C,at,!0),K=p._length/at._length;for(U=0;U<lt.min.length;U++)d(z,(G=lt.min[U]).val,G.pad*K,{extrapad:G.extrapad});for(U=0;U<lt.max.length;U++)o(B,(G=lt.max[U]).val,G.pad*K,{extrapad:G.extrapad})}return{min:z,max:B}}function d(C,p,F,D){v(C,p,F,D,b)}function o(C,p,F,D){v(C,p,F,D,E)}function v(C,p,F,D,N){for(var k=D.tozero,z=D.extrapad,B=!0,O=0;O<C.length&&B;O++){var U=C[O];if(N(U.val,p)&&U.pad>=F&&(U.extrapad||!z)){B=!1;break}N(p,U.val)&&U.pad<=F&&(z||!U.extrapad)&&(C.splice(O,1),O--)}if(B){var G=k&&0===p;C.push({val:p,pad:G?0:F,extrapad:!G&&z})}}function M(C){return y(C)&&Math.abs(C)<P}function b(C,p){return C<=p}function E(C,p){return C>=p}function x(C,p){var F=p.autorangeoptions;return F&&void 0!==F.minallowed&&T(p,F.minallowed,F.maxallowed)?F.minallowed:F&&void 0!==F.clipmin&&T(p,F.clipmin,F.clipmax)?Math.max(C,p.d2l(F.clipmin)):C}function S(C,p){var F=p.autorangeoptions;return F&&void 0!==F.maxallowed&&T(p,F.minallowed,F.maxallowed)?F.maxallowed:F&&void 0!==F.clipmax&&T(p,F.clipmin,F.clipmax)?Math.min(C,p.d2l(F.clipmax)):C}function T(C,p,F){return void 0===p||void 0===F||(p=C.d2l(p))<C.d2l(F)}function n(C,p){if(!p||!p.autorangeoptions)return C;var F=C[0],D=C[1],N=p.autorangeoptions.include;if(void 0!==N){var k=p.d2l(F),z=p.d2l(D);i.isArrayOrTypedArray(N)||(N=[N]);for(var B=0;B<N.length;B++){var O=p.d2l(N[B]);k>=O&&(k=O,F=O),z<=O&&(z=O,D=O)}}return[F=x(F,p),D=S(D,p)]}},76808:function(tt){"use strict";tt.exports=function(t,A,y){var i,P;if(y){var L="reversed"===A||"min reversed"===A||"max reversed"===A;i=y[L?1:0],P=y[L?0:1]}var l=t("autorangeoptions.minallowed",null===P?i:void 0),m=t("autorangeoptions.maxallowed",null===i?P:void 0);void 0===l&&t("autorangeoptions.clipmin"),void 0===m&&t("autorangeoptions.clipmax"),t("autorangeoptions.include")}},54460:function(tt,W,t){"use strict";var A=t(33428),y=t(38248),i=t(7316),P=t(24040),L=t(3400),l=L.strTranslate,m=t(72736),r=t(81668),e=t(76308),s=t(43616),a=t(94724),h=t(98728),f=t(39032),u=f.ONEMAXYEAR,g=f.ONEAVGYEAR,c=f.ONEMINYEAR,w=f.ONEMAXQUARTER,d=f.ONEAVGQUARTER,o=f.ONEMINQUARTER,v=f.ONEMAXMONTH,M=f.ONEAVGMONTH,b=f.ONEMINMONTH,E=f.ONEWEEK,x=f.ONEDAY,S=x/2,T=f.ONEHOUR,n=f.ONEMIN,C=f.ONESEC,p=f.MINUS_SIGN,F=f.BADNUM,D={K:"zeroline"},N={K:"gridline",L:"path"},k={K:"minor-gridline",L:"path"},z={K:"tick",L:"path"},B={K:"tick",L:"text"},O={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},U=t(84284),G=U.MID_SHIFT,J=U.CAP_SHIFT,et=U.LINE_SPACING,at=U.OPPOSITE_SIDE,K=tt.exports={};K.setConvert=t(78344);var j=t(52976),rt=t(79811),H=rt.idSort,Z=rt.isLinked;K.id2name=rt.id2name,K.name2id=rt.name2id,K.cleanId=rt.cleanId,K.list=rt.list,K.listIds=rt.listIds,K.getFromId=rt.getFromId,K.getFromTrace=rt.getFromTrace;var it=t(19280);K.getAutoRange=it.getAutoRange,K.findExtremes=it.findExtremes;function Y(Ot){var Ut=1e-4*(Ot[1]-Ot[0]);return[Ot[0]-Ut,Ot[1]+Ut]}K.coerceRef=function(Ot,Ut,Ce,Le,Xe,_e){var fr=Le.charAt(Le.length-1),$e=Ce._fullLayout._subplots[fr+"axis"],Re=Le+"ref",or={};return Xe||(Xe=$e[0]||("string"==typeof _e?_e:_e[0])),_e||(_e=Xe),$e=$e.concat($e.map(function(dr){return dr+" domain"})),or[Re]={valType:"enumerated",values:$e.concat(_e?"string"==typeof _e?[_e]:_e:[]),dflt:Xe},L.coerce(Ot,Ut,or,Re)},K.getRefType=function(Ot){return void 0===Ot?Ot:"paper"===Ot?"paper":"pixel"===Ot?"pixel":/( domain)$/.test(Ot)?"domain":"range"},K.coercePosition=function(Ot,Ut,Ce,Le,Xe,_e){var fr,$e;if("range"!==K.getRefType(Le))fr=L.ensureNumber,$e=Ce(Xe,_e);else{var or=K.getFromId(Ut,Le);$e=Ce(Xe,_e=or.fraction2r(_e)),fr=or.cleanPos}Ot[Xe]=fr($e)},K.cleanPosition=function(Ot,Ut,Ce){return("paper"===Ce||"pixel"===Ce?L.ensureNumber:K.getFromId(Ut,Ce).cleanPos)(Ot)},K.redrawComponents=function(Ot,Ut){Ut=Ut||K.listIds(Ot);var Ce=Ot._fullLayout;function Le(Xe,_e,fr,$e){for(var Re=P.getComponentMethod(Xe,_e),or={},dr=0;dr<Ut.length;dr++)for(var Cr=Ce[K.id2name(Ut[dr])][fr],$r=0;$r<Cr.length;$r++){var Ar=Cr[$r];if(!or[Ar]&&(Re(Ot,Ar),or[Ar]=1,$e))return}}Le("annotations","drawOne","_annIndices"),Le("shapes","drawOne","_shapeIndices"),Le("images","draw","_imgIndices",!0),Le("selections","drawOne","_selectionIndices")};var nt=K.getDataConversions=function(Ot,Ut,Ce,Le){var Xe,_e="x"===Ce||"y"===Ce||"z"===Ce?Ce:Le;if(L.isArrayOrTypedArray(_e)){if(Xe={type:j(Le,void 0,{autotypenumbers:Ot._fullLayout.autotypenumbers}),_categories:[]},K.setConvert(Xe),"category"===Xe.type)for(var fr=0;fr<Le.length;fr++)Xe.d2c(Le[fr])}else Xe=K.getFromTrace(Ot,Ut,_e);return Xe?{d2c:Xe.d2c,c2d:Xe.c2d}:"ids"===_e?{d2c:st,c2d:st}:{d2c:_,c2d:_}};function _(Ot){return+Ot}function st(Ot){return String(Ot)}function yt(Ot,Ut){return Math.abs((Ot/Ut+.5)%1-.5)<.001}function St(Ot,Ut){return Math.abs(Ot/Ut-1)<.001}function Et(Ot){return+Ot.substring(1)}function Mt(Ot,Ut){return Ot.rangebreaks&&(Ut=Ut.filter(function(Ce){return Ot.maskBreaks(Ce.x)!==F})),Ut}function Nt(Ot){var Ut=Ot._mainAxis,Ce=[];if(Ut._vals)for(var Le=0;Le<Ut._vals.length;Le++)if(!Ut._vals[Le].noTick){var Xe=Ut.l2p(Ut._vals[Le].x),_e=Ot.p2l(Xe),fr=K.tickText(Ot,_e);Ut._vals[Le].minor&&(fr.minor=!0,fr.text=""),Ce.push(fr)}return Mt(Ot,Ce)}function Gt(Ot,Ut){var Le=Y(L.simpleMap(Ot.range,Ot.r2l)),Xe=Math.min(Le[0],Le[1]),_e=Math.max(Le[0],Le[1]),fr="category"===Ot.type?Ot.d2l_noadd:Ot.d2l;"log"===Ot.type&&"L"!==String(Ot.dtick).charAt(0)&&(Ot.dtick="L"+Math.pow(10,Math.floor(Math.min(Ot.range[0],Ot.range[1]))-1));for(var $e=[],Re=0;Re<=1;Re++)if((void 0===Ut||!(Ut&&Re||!1===Ut&&!Re))&&(!Re||Ot.minor)){var or=Re?Ot.minor.tickvals:Ot.tickvals,dr=Re?[]:Ot.ticktext;if(or){L.isArrayOrTypedArray(dr)||(dr=[]);for(var pr=0;pr<or.length;pr++){var Cr=fr(or[pr]);if(Cr>Xe&&Cr<_e){var $r=void 0===dr[pr]?K.tickText(Ot,Cr):ve(Ot,Cr,String(dr[pr]));Re&&($r.minor=!0,$r.text=""),$e.push($r)}}}}return Mt(Ot,$e)}K.getDataToCoordFunc=function(Ot,Ut,Ce,Le){return nt(Ot,Ut,Ce,Le).d2c},K.counterLetter=function(Ot){var Ut=Ot.charAt(0);return"x"===Ut?"y":"y"===Ut?"x":void 0},K.minDtick=function(Ot,Ut,Ce,Le){-1===["log","category","multicategory"].indexOf(Ot.type)&&Le?void 0===Ot._minDtick?(Ot._minDtick=Ut,Ot._forceTick0=Ce):Ot._minDtick&&((Ot._minDtick/Ut+1e-6)%1<2e-6&&((Ce-Ot._forceTick0)/Ut%1+1.000001)%1<2e-6?(Ot._minDtick=Ut,Ot._forceTick0=Ce):((Ut/Ot._minDtick+1e-6)%1>2e-6||((Ce-Ot._forceTick0)/Ot._minDtick%1+1.000001)%1>2e-6)&&(Ot._minDtick=0)):Ot._minDtick=0},K.saveRangeInitial=function(Ot,Ut){for(var Ce=K.list(Ot,"",!0),Le=!1,Xe=0;Xe<Ce.length;Xe++){var _e=Ce[Xe],fr=void 0===_e._rangeInitial0&&void 0===_e._rangeInitial1,Re=_e.autorange;(fr&&!0!==Re||Ut&&(fr||_e.range[0]!==_e._rangeInitial0||_e.range[1]!==_e._rangeInitial1))&&(_e._rangeInitial0="min"===Re||"max reversed"===Re?void 0:_e.range[0],_e._rangeInitial1="max"===Re||"min reversed"===Re?void 0:_e.range[1],_e._autorangeInitial=Re,Le=!0)}return Le},K.saveShowSpikeInitial=function(Ot,Ut){for(var Ce=K.list(Ot,"",!0),Le=!1,Xe="on",_e=0;_e<Ce.length;_e++){var fr=Ce[_e],$e=void 0===fr._showSpikeInitial;($e||Ut&&($e||fr.showspikes!==fr._showspikes))&&(fr._showSpikeInitial=fr.showspikes,Le=!0),"on"===Xe&&!fr.showspikes&&(Xe="off")}return Ot._fullLayout._cartesianSpikesEnabled=Xe,Le},K.autoBin=function(Ot,Ut,Ce,Le,Xe,_e){var Re,fr=L.aggNums(Math.min,null,Ot),$e=L.aggNums(Math.max,null,Ot);if("category"===Ut.type||"multicategory"===Ut.type)return{start:fr-.5,end:$e+.5,size:Math.max(1,Math.round(_e)||1),_dataSpan:$e-fr};if(Xe||(Xe=Ut.calendar),Re="log"===Ut.type?{type:"linear",range:[fr,$e]}:{type:Ut.type,range:L.simpleMap([fr,$e],Ut.c2r,0,Xe),calendar:Xe},K.setConvert(Re),_e=_e&&h.dtick(_e,Re.type))Re.dtick=_e,Re.tick0=h.tick0(void 0,Re.type,Xe);else{var or;if(Ce)or=($e-fr)/Ce;else{var dr=L.distinctVals(Ot),pr=Math.pow(10,Math.floor(Math.log(dr.minDiff)/Math.LN10)),Cr=pr*L.roundUp(dr.minDiff/pr,[.9,1.9,4.9,9.9],!0);or=Math.max(Cr,2*L.stdev(Ot)/Math.pow(Ot.length,Le?.25:.4)),y(or)||(or=1)}K.autoTicks(Re,or)}var Gr,$r=Re.dtick,Ar=K.tickIncrement(K.tickFirst(Re),$r,"reverse",Xe);if("number"==typeof $r)Gr=(Ar=function dt(Ot,Ut,Ce,Le,Xe){var _e=0,fr=0,$e=0,Re=0;function or($r){return(1+100*($r-Ot)/Ce.dtick)%100<2}for(var dr=0;dr<Ut.length;dr++)Ut[dr]%1==0?$e++:y(Ut[dr])||Re++,or(Ut[dr])&&_e++,or(Ut[dr]+Ce.dtick/2)&&fr++;var pr=Ut.length-Re;if($e===pr&&"date"!==Ce.type)Ce.dtick<1?Ot=Le-.5*Ce.dtick:(Ot-=.5)+Ce.dtick<Le&&(Ot+=Ce.dtick);else if(fr<.1*pr&&(_e>.3*pr||or(Le)||or(Xe))){var Cr=Ce.dtick/2;Ot+=Ot+Cr<Le?Cr:-Cr}return Ot}(Ar,Ot,Re,fr,$e))+(1+Math.floor(($e-Ar)/$r))*$r;else for("M"===Re.dtick.charAt(0)&&(Ar=function xt(Ot,Ut,Ce,Le,Xe){var _e=L.findExactDates(Ut,Xe);if(_e.exactDays>.8){var $e=Number(Ce.substr(1));_e.exactYears>.8&&$e%12==0?Ot=K.tickIncrement(Ot,"M6","reverse")+1.5*x:_e.exactMonths>.8?Ot=K.tickIncrement(Ot,"M1","reverse")+15.5*x:Ot-=S;var Re=K.tickIncrement(Ot,Ce);if(Re<=Le)return Re}return Ot}(Ar,Ot,$r,fr,Xe)),Gr=Ar;Gr<=$e;)Gr=K.tickIncrement(Gr,$r,!1,Xe);return{start:Ut.c2r(Ar,0,Xe),end:Ut.c2r(Gr,0,Xe),size:$r,_dataSpan:$e-fr}},K.prepMinorTicks=function(Ot,Ut,Ce){if(!Ut.minor.dtick){delete Ot.dtick;var Xe,Le=Ut.dtick&&y(Ut._tmin);if(Le){var _e=K.tickIncrement(Ut._tmin,Ut.dtick,!0);Xe=[Ut._tmin,.99*_e+.01*Ut._tmin]}else{var fr=L.simpleMap(Ut.range,Ut.r2l);Xe=[fr[0],.8*fr[0]+.2*fr[1]]}if(Ot.range=L.simpleMap(Xe,Ut.l2r),Ot._isMinor=!0,K.prepTicks(Ot,Ce),Le){var $e=y(Ut.dtick),Re=y(Ot.dtick),or=$e?Ut.dtick:+Ut.dtick.substring(1),dr=Re?Ot.dtick:+Ot.dtick.substring(1);$e&&Re?yt(or,dr)?or===2*E&&dr===2*x&&(Ot.dtick=E):Ot.dtick=or===2*E&&dr===3*x?E:or!==E||(Ut._input.minor||{}).nticks?St(or/dr,2.5)?or/2:or:x:"M"===String(Ut.dtick).charAt(0)?Re?Ot.dtick="M1":yt(or,dr)?or>=12&&2===dr&&(Ot.dtick="M3"):Ot.dtick=Ut.dtick:"L"===String(Ot.dtick).charAt(0)?"L"===String(Ut.dtick).charAt(0)?yt(or,dr)||(Ot.dtick=St(or/dr,2.5)?Ut.dtick/2:Ut.dtick):Ot.dtick="D1":"D2"===Ot.dtick&&+Ut.dtick>1&&(Ot.dtick=1)}Ot.range=Ut.range}void 0===Ut.minor._tick0Init&&(Ot.tick0=Ut.tick0)},K.prepTicks=function(Ot,Ut){var Ce=L.simpleMap(Ot.range,Ot.r2l,void 0,void 0,Ut);if("auto"===Ot.tickmode||!Ot.dtick){var Xe,Le=Ot.nticks;Le||("category"===Ot.type||"multicategory"===Ot.type?(Xe=Ot.tickfont?L.bigFont(Ot.tickfont.size||12):15,Le=Ot._length/Xe):(Xe="y"===Ot._id.charAt(0)?40:80,Le=L.constrain(Ot._length/Xe,4,9)+1),"radialaxis"===Ot._name&&(Le*=2)),Ot.minor&&"array"!==Ot.minor.tickmode||"array"===Ot.tickmode&&(Le*=100),Ot._roughDTick=Math.abs(Ce[1]-Ce[0])/Le,K.autoTicks(Ot,Ot._roughDTick),Ot._minDtick>0&&Ot.dtick<2*Ot._minDtick&&(Ot.dtick=Ot._minDtick,Ot.tick0=Ot.l2r(Ot._forceTick0))}"period"===Ot.ticklabelmode&&function Tt(Ot){var Ut;function Ce(){return!(y(Ot.dtick)||"M"!==Ot.dtick.charAt(0))}var Le=Ce(),Xe=K.getTickFormat(Ot);if(Xe){var _e=Ot._dtickInit!==Ot.dtick;/%[fLQsSMX]/.test(Xe)||(/%[HI]/.test(Xe)?(Ut=T,_e&&!Le&&Ot.dtick<T&&(Ot.dtick=T)):/%p/.test(Xe)?(Ut=S,_e&&!Le&&Ot.dtick<S&&(Ot.dtick=S)):/%[Aadejuwx]/.test(Xe)?(Ut=x,_e&&!Le&&Ot.dtick<x&&(Ot.dtick=x)):/%[UVW]/.test(Xe)?(Ut=E,_e&&!Le&&Ot.dtick<E&&(Ot.dtick=E)):/%[Bbm]/.test(Xe)?(Ut=M,_e&&(Le?Et(Ot.dtick)<1:Ot.dtick<b)&&(Ot.dtick="M1")):/%[q]/.test(Xe)?(Ut=d,_e&&(Le?Et(Ot.dtick)<3:Ot.dtick<o)&&(Ot.dtick="M3")):/%[Yy]/.test(Xe)&&(Ut=g,_e&&(Le?Et(Ot.dtick)<12:Ot.dtick<c)&&(Ot.dtick="M12")))}(Le=Ce())&&Ot.tick0===Ot._dowTick0&&(Ot.tick0=Ot._rawTick0),Ot._definedDelta=Ut}(Ot),Ot.tick0||(Ot.tick0="date"===Ot.type?"2000-01-01":0),"date"===Ot.type&&Ot.dtick<.1&&(Ot.dtick=.1),se(Ot)},K.calcTicks=function(Ut,Ce){for(var Le=Ut.type,Xe=Ut.calendar,_e=Ut.ticklabelstep,fr="period"===Ut.ticklabelmode,$e=L.simpleMap(Ut.range,Ut.r2l,void 0,void 0,Ce),Re=$e[1]<$e[0],or=Math.min($e[0],$e[1]),dr=Math.max($e[0],$e[1]),pr=Math.max(1e3,Ut._length||0),Cr=[],$r=[],Ar=[],Gr=[],nn=Ut.minor&&(Ut.minor.ticks||Ut.minor.showgrid),Ur=1;Ur>=(nn?0:1);Ur--){var Tn=!Ur;Ur?(Ut._dtickInit=Ut.dtick,Ut._tick0Init=Ut.tick0):(Ut.minor._dtickInit=Ut.minor.dtick,Ut.minor._tick0Init=Ut.minor.tick0);var bn=Ur?Ut:L.extendFlat({},Ut,Ut.minor);if(Tn?K.prepMinorTicks(bn,Ut,Ce):K.prepTicks(bn,Ce),"array"!==bn.tickmode)if("sync"!==bn.tickmode){var ur=Y($e),Mr=ur[0],Br=ur[1],Or=y(bn.dtick),sn="log"===Le&&!(Or||"L"===bn.dtick.charAt(0)),pn=K.tickFirst(bn,Ce);if(Ur){if(Ut._tmin=pn,pn<Mr!==Re)break;("category"===Le||"multicategory"===Le)&&(Br=Re?Math.max(-.5,Br):Math.min(Ut._categories.length-.5,Br))}var Rn,Kn,gn=null,wn=pn;Ur&&(Or?Kn=Ut.dtick:"date"===Le?"string"==typeof Ut.dtick&&"M"===Ut.dtick.charAt(0)&&(Kn=M*Ut.dtick.substring(1)):Kn=Ut._roughDTick,Rn=Math.round((Ut.r2l(wn)-Ut.r2l(Ut.tick0))/Kn)-1);var _n=bn.dtick;for(bn.rangebreaks&&bn._tick0Init!==bn.tick0&&(wn=Fe(wn,Ut),Re||(wn=K.tickIncrement(wn,_n,!Re,Xe))),Ur&&fr&&(wn=K.tickIncrement(wn,_n,!Re,Xe),Rn--);Re?wn>=Br:wn<=Br;wn=K.tickIncrement(wn,_n,Re,Xe)){if(Ur&&Rn++,bn.rangebreaks&&!Re){if(wn<Mr)continue;if(bn.maskBreaks(wn)===F&&Fe(wn,bn)>=dr)break}if(Ar.length>pr||wn===gn)break;gn=wn;var ua={value:wn};Ur?(sn&&wn!==(0|wn)&&(ua.simpleLabel=!0),_e>1&&Rn%_e&&(ua.skipLabel=!0),Ar.push(ua)):(ua.minor=!0,Gr.push(ua))}}else Ar=[],Cr=Nt(Ut);else Ur?(Ar=[],Cr=Gt(Ut,!Tn)):(Gr=[],$r=Gt(Ut,!Tn))}var En;if(nn&&!("inside"===Ut.minor.ticks&&"outside"===Ut.ticks||"outside"===Ut.minor.ticks&&"inside"===Ut.ticks)){for(var Qn=Ar.map(function(hn){return hn.value}),yr=[],tn=0;tn<Gr.length;tn++){var Qr=Gr[tn],dn=Qr.value;if(-1===Qn.indexOf(dn)){for(var Fn=!1,Sn=0;!Fn&&Sn<Ar.length;Sn++)1e7+Ar[Sn].value===1e7+dn&&(Fn=!0);Fn||yr.push(Qr)}}Gr=yr}if(fr&&function gt(Ot,Ut,Ce){for(var Le=0;Le<Ot.length;Le++){var Xe=Ot[Le].value,_e=Le,fr=Le+1;Le<Ot.length-1?(_e=Le,fr=Le+1):Le>0?(_e=Le-1,fr=Le):(_e=Le,fr=Le);var Cr,or=Math.abs(Ot[fr].value-Ot[_e].value),dr=Ce||or,pr=0;dr>=c?pr=or>=c&&or<=u?or:g:Ce===d&&dr>=o?pr=or>=o&&or<=w?or:d:dr>=b?pr=or>=b&&or<=v?or:M:Ce===E&&dr>=E?pr=E:dr>=x?pr=x:Ce===S&&dr>=S?pr=S:Ce===T&&dr>=T&&(pr=T),pr>=or&&(pr=or,Cr=!0);var $r=Xe+pr;if(Ut.rangebreaks&&pr>0){for(var Gr=0,nn=0;nn<84;nn++){var Ur=(nn+.5)/84;Ut.maskBreaks(Xe*(1-Ur)+Ur*$r)!==F&&Gr++}(pr*=Gr/84)||(Ot[Le].drop=!0),Cr&&or>E&&(pr=or)}(pr>0||0===Le)&&(Ot[Le].periodX=Xe+pr/2)}}(Ar,Ut,Ut._definedDelta),Ut.rangebreaks){var kn="y"===Ut._id.charAt(0),Hn=1;"auto"===Ut.tickmode&&(Hn=Ut.tickfont?Ut.tickfont.size:12);var ta=NaN;for(En=Ar.length-1;En>-1;En--)if(Ar[En].drop)Ar.splice(En,1);else{Ar[En].value=Fe(Ar[En].value,Ut);var Sa=Ut.c2p(Ar[En].value);(kn?ta>Sa-Hn:ta<Sa+Hn)?Ar.splice(Re?En+1:En,1):ta=Sa}}Ie(Ut)&&360===Math.abs($e[1]-$e[0])&&Ar.pop(),Ut._tmax=(Ar[Ar.length-1]||{}).value,Ut._prevDateHead="",Ut._inCalcTicks=!0;var Sr,Tr,kr,Fr=function(hn){hn.text="",Ut._prevDateHead=Sr};for(Ar=Ar.concat(Gr),En=0;En<Ar.length;En++){var Cn=Ar[En].value;Ar[En].minor?$r.push({x:Cn,minor:!0}):(Sr=Ut._prevDateHead,Tr=K.tickText(Ut,Cn,!1,Ar[En].simpleLabel),void 0!==(kr=Ar[En].periodX)&&(Tr.periodX=kr,(kr>dr||kr<or)&&(kr>dr&&(Tr.periodX=dr),kr<or&&(Tr.periodX=or),Fr(Tr))),Ar[En].skipLabel&&Fr(Tr),Cr.push(Tr))}return Cr=Cr.concat($r),Ut._inCalcTicks=!1,fr&&Cr.length&&(Cr[0].noTick=!0),Cr};var Pt=[2,5,10],Vt=[1,2,3,6,12],re=[1,2,5,10,15,30],le=[1,2,3,7,14],It=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Rt=[-.301,0,.301,.699,1],$t=[15,30,45,90,180];function oe(Ot,Ut,Ce){return Ut*L.roundUp(Ot/Ut,Ce)}function se(Ot){var Ut=Ot.dtick;if(Ot._tickexponent=0,!y(Ut)&&"string"!=typeof Ut&&(Ut=1),("category"===Ot.type||"multicategory"===Ot.type)&&(Ot._tickround=null),"date"===Ot.type){var Ce=Ot.r2l(Ot.tick0),Le=Ot.l2r(Ce).replace(/(^-|i)/g,""),Xe=Le.length;if("M"===String(Ut).charAt(0))Ot._tickround=Xe>10||"01-01"!==Le.substr(5)?"d":+Ut.substr(1)%12==0?"y":"m";else if(Ut>=x&&Xe<=10||Ut>=15*x)Ot._tickround="d";else if(Ut>=n&&Xe<=16||Ut>=T)Ot._tickround="M";else if(Ut>=C&&Xe<=19||Ut>=n)Ot._tickround="S";else{var _e=Ot.l2r(Ce+Ut).replace(/^-/,"").length;Ot._tickround=Math.max(Xe,_e)-20,Ot._tickround<0&&(Ot._tickround=4)}}else if(y(Ut)||"L"===Ut.charAt(0)){var fr=Ot.range.map(Ot.r2d||Number);y(Ut)||(Ut=Number(Ut.substr(1))),Ot._tickround=2-Math.floor(Math.log(Ut)/Math.LN10+.01);var $e=Math.max(Math.abs(fr[0]),Math.abs(fr[1])),Re=Math.floor(Math.log($e)/Math.LN10+.01),or=void 0===Ot.minexponent?3:Ot.minexponent;Math.abs(Re)>or&&(Ot._tickexponent=kt(Ot.exponentformat)&&!wt(Re)?3*Math.round((Re-1)/3):Re)}else Ot._tickround=null}function ve(Ot,Ut,Ce){var Le=Ot.tickfont||{};return{x:Ut,dx:0,dy:0,text:Ce||"",fontSize:Le.size,font:Le.family,fontColor:Le.color}}function Ht(Ot,Ut,Ce,Le,Xe){if("radians"!==Ot.thetaunit||Ce)Ut.text=ft(Ut.x,Ot,Xe,Le);else{var _e=Ut.x/180;if(0===_e)Ut.text="0";else{var fr=function Bt(Ot){function Ut($e,Re){return Math.abs($e-Re)<=1e-6}function Ce($e,Re){return Ut(Re,0)?$e:Ce(Re,$e%Re)}function Le($e){for(var Re=1;!Ut(Math.round($e*Re)/Re,$e);)Re*=10;return Re}var Xe=Le(Ot),_e=Ot*Xe,fr=Math.abs(Ce(_e,Xe));return[Math.round(_e/fr),Math.round(Xe/fr)]}(_e);if(fr[1]>=100)Ut.text=ft(L.deg2rad(Ut.x),Ot,Xe,Le);else{var $e=Ut.x<0;Ut.text=1===fr[1]?1===fr[0]?"\u03c0":fr[0]+"\u03c0":["<sup>",fr[0],"</sup>","\u2044","<sub>",fr[1],"</sub>","\u03c0"].join(""),$e&&(Ut.text=p+Ut.text)}}}}K.autoTicks=function(Ot,Ut,Ce){var Le;function Xe(pr){return Math.pow(pr,Math.floor(Math.log(Ut)/Math.LN10))}if("date"===Ot.type){Ot.tick0=L.dateTick0(Ot.calendar,0);var _e=2*Ut;if(_e>g)Ut/=g,Le=Xe(10),Ot.dtick="M"+12*oe(Ut,Le,Pt);else if(_e>M)Ot.dtick="M"+oe(Ut/=M,1,Vt);else if(_e>x){if(Ot.dtick=oe(Ut,x,Ot._hasDayOfWeekBreaks?[1,2,7,14]:le),!Ce){var fr=K.getTickFormat(Ot),$e="period"===Ot.ticklabelmode;$e&&(Ot._rawTick0=Ot.tick0),Ot.tick0=/%[uVW]/.test(fr)?L.dateTick0(Ot.calendar,2):L.dateTick0(Ot.calendar,1),$e&&(Ot._dowTick0=Ot.tick0)}}else _e>T?Ot.dtick=oe(Ut,T,Vt):_e>n?Ot.dtick=oe(Ut,n,re):_e>C?Ot.dtick=oe(Ut,C,re):(Le=Xe(10),Ot.dtick=oe(Ut,Le,Pt))}else if("log"===Ot.type){Ot.tick0=0;var Re=L.simpleMap(Ot.range,Ot.r2l);if(Ot._isMinor&&(Ut*=1.5),Ut>.7)Ot.dtick=Math.ceil(Ut);else if(Math.abs(Re[1]-Re[0])<1){var or=1.5*Math.abs((Re[1]-Re[0])/Ut);Ut=Math.abs(Math.pow(10,Re[1])-Math.pow(10,Re[0]))/or,Le=Xe(10),Ot.dtick="L"+oe(Ut,Le,Pt)}else Ot.dtick=Ut>.3?"D2":"D1"}else"category"===Ot.type||"multicategory"===Ot.type?(Ot.tick0=0,Ot.dtick=Math.ceil(Math.max(Ut,1))):Ie(Ot)?(Ot.tick0=0,Ot.dtick=oe(Ut,Le=1,$t)):(Ot.tick0=0,Le=Xe(10),Ot.dtick=oe(Ut,Le,Pt));if(0===Ot.dtick&&(Ot.dtick=1),!y(Ot.dtick)&&"string"!=typeof Ot.dtick){var dr=Ot.dtick;throw Ot.dtick=1,"ax.dtick error: "+String(dr)}},K.tickIncrement=function(Ot,Ut,Ce,Le){var Xe=Ce?-1:1;if(y(Ut))return L.increment(Ot,Xe*Ut);var _e=Ut.charAt(0),fr=Xe*Number(Ut.substr(1));if("M"===_e)return L.incrementMonth(Ot,fr,Le);if("L"===_e)return Math.log(Math.pow(10,Ot)+fr)/Math.LN10;if("D"===_e){var $e="D2"===Ut?Rt:It,Re=Ot+.01*Xe,or=L.roundUp(L.mod(Re,1),$e,Ce);return Math.floor(Re)+Math.log(A.round(Math.pow(10,or),1))/Math.LN10}throw"unrecognized dtick "+String(Ut)},K.tickFirst=function(Ot,Ut){var Ce=Ot.r2l||Number,Le=L.simpleMap(Ot.range,Ce,void 0,void 0,Ut),Xe=Le[1]<Le[0],_e=Xe?Math.floor:Math.ceil,fr=Y(Le)[0],$e=Ot.dtick,Re=Ce(Ot.tick0);if(y($e)){var or=_e((fr-Re)/$e)*$e+Re;return("category"===Ot.type||"multicategory"===Ot.type)&&(or=L.constrain(or,0,Ot._categories.length-1)),or}var dr=$e.charAt(0),pr=Number($e.substr(1));if("M"===dr){for(var Ar,Gr,nn,Cr=0,$r=Re;Cr<10;){if(((Ar=K.tickIncrement($r,$e,Xe,Ot.calendar))-fr)*($r-fr)<=0)return Xe?Math.min($r,Ar):Math.max($r,Ar);Gr=(fr-($r+Ar)/2)/(Ar-$r),nn=dr+(Math.abs(Math.round(Gr))||1)*pr,$r=K.tickIncrement($r,nn,Gr<0?!Xe:Xe,Ot.calendar),Cr++}return L.error("tickFirst did not converge",Ot),$r}if("L"===dr)return Math.log(_e((Math.pow(10,fr)-Re)/pr)*pr+Re)/Math.LN10;if("D"===dr){var Ur="D2"===$e?Rt:It,Tn=L.roundUp(L.mod(fr,1),Ur,Xe);return Math.floor(fr)+Math.log(A.round(Math.pow(10,Tn),1))/Math.LN10}throw"unrecognized dtick "+String($e)},K.tickText=function(Ot,Ut,Ce,Le){var or,Xe=ve(Ot,Ut),_e="array"===Ot.tickmode,fr=Ce||_e,$e=Ot.type,Re="category"===$e?Ot.d2l_noadd:Ot.d2l;if(_e&&L.isArrayOrTypedArray(Ot.ticktext)){var dr=L.simpleMap(Ot.range,Ot.r2l),pr=(Math.abs(dr[1]-dr[0])-(Ot._lBreaks||0))/1e4;for(or=0;or<Ot.ticktext.length&&!(Math.abs(Ut-Re(Ot.tickvals[or]))<pr);or++);if(or<Ot.ticktext.length)return Xe.text=String(Ot.ticktext[or]),Xe}function Cr(nn){return void 0===nn||(Ce?"none"===nn:"all"!==nn&&Ut!=={first:Ot._tmin,last:Ot._tmax}[nn])}var $r=Ce?"never":"none"!==Ot.exponentformat&&Cr(Ot.showexponent)?"hide":"";if("date"===$e?function de(Ot,Ut,Ce,Le){var Xe=Ot._tickround,_e=Ce&&Ot.hoverformat||K.getTickFormat(Ot);(Le=!_e&&Le)&&(Xe=y(Xe)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Xe]);var $e,fr=L.formatDate(Ut.x,_e,Xe,Ot._dateFormat,Ot.calendar,Ot._extraFormat),Re=fr.indexOf("\n");if(-1!==Re&&($e=fr.substr(Re+1),fr=fr.substr(0,Re)),Le&&(void 0===$e||"00:00:00"!==fr&&"00:00"!==fr?8===fr.length&&(fr=fr.replace(/:00$/,"")):(fr=$e,$e="")),$e)if(Ce)"d"===Xe?fr+=", "+$e:fr=$e+(fr?", "+fr:"");else if(Ot._inCalcTicks&&Ot._prevDateHead===$e){var or=Ze(Ot),dr=Ot._trueSide||Ot.side;(!or&&"top"===dr||or&&"bottom"===dr)&&(fr+="<br> ")}else Ot._prevDateHead=$e,fr+="<br>"+$e;Ut.text=fr}(Ot,Xe,Ce,fr):"log"===$e?function jt(Ot,Ut,Ce,Le,Xe){var _e=Ot.dtick,fr=Ut.x,$e=Ot.tickformat,Re="string"==typeof _e&&_e.charAt(0);if("never"===Xe&&(Xe=""),Le&&"L"!==Re&&(_e="L3",Re="L"),$e||"L"===Re)Ut.text=ft(Math.pow(10,fr),Ot,Xe,Le);else if(y(_e)||"D"===Re&&L.mod(fr+.01,1)<.1){var or=Math.round(fr),dr=Math.abs(or),pr=Ot.exponentformat;"power"===pr||kt(pr)&&wt(or)?(Ut.text=0===or?1:1===or?"10":"10<sup>"+(or>1?"":p)+dr+"</sup>",Ut.fontSize*=1.25):("e"===pr||"E"===pr)&&dr>2?Ut.text="1"+pr+(or>0?"+":p)+dr:(Ut.text=ft(Math.pow(10,fr),Ot,"","fakehover"),"D1"===_e&&"y"===Ot._id.charAt(0)&&(Ut.dy-=Ut.fontSize/6))}else{if("D"!==Re)throw"unrecognized dtick "+String(_e);Ut.text=String(Math.round(Math.pow(10,L.mod(fr,1)))),Ut.fontSize*=.75}if("D1"===Ot.dtick){var Cr=String(Ut.text).charAt(0);("0"===Cr||"1"===Cr)&&("y"===Ot._id.charAt(0)?Ut.dx-=Ut.fontSize/4:(Ut.dy+=Ut.fontSize/2,Ut.dx+=(Ot.range[1]>Ot.range[0]?1:-1)*Ut.fontSize*(fr<0?.5:.25)))}}(Ot,Xe,0,fr,$r):"category"===$e?function Ct(Ot,Ut){var Ce=Ot._categories[Math.round(Ut.x)];void 0===Ce&&(Ce=""),Ut.text=String(Ce)}(Ot,Xe):"multicategory"===$e?function Wt(Ot,Ut,Ce){var Le=Math.round(Ut.x),Xe=Ot._categories[Le]||[],_e=void 0===Xe[1]?"":String(Xe[1]),fr=void 0===Xe[0]?"":String(Xe[0]);Ce?Ut.text=fr+" - "+_e:(Ut.text=_e,Ut.text2=fr)}(Ot,Xe,Ce):Ie(Ot)?Ht(Ot,Xe,Ce,fr,$r):function Xt(Ot,Ut,Ce,Le,Xe){"never"===Xe?Xe="":"all"===Ot.showexponent&&Math.abs(Ut.x/Ot.dtick)<1e-6&&(Xe="hide"),Ut.text=ft(Ut.x,Ot,Xe,Le)}(Ot,Xe,0,fr,$r),Le||(Ot.tickprefix&&!Cr(Ot.showtickprefix)&&(Xe.text=Ot.tickprefix+Xe.text),Ot.ticksuffix&&!Cr(Ot.showticksuffix)&&(Xe.text+=Ot.ticksuffix)),Ot.labelalias&&Ot.labelalias.hasOwnProperty(Xe.text)){var Ar=Ot.labelalias[Xe.text];"string"==typeof Ar&&(Xe.text=Ar)}if("boundaries"===Ot.tickson||Ot.showdividers){var Gr=function(nn){var Ur=Ot.l2p(nn);return Ur>=0&&Ur<=Ot._length?nn:null};Xe.xbnd=[Gr(Xe.x-.5),Gr(Xe.x+Ot.dtick-.5)]}return Xe},K.hoverLabelText=function(Ot,Ut,Ce){Ce&&(Ot=L.extendFlat({},Ot,{hoverformat:Ce}));var Le=L.isArrayOrTypedArray(Ut)?Ut[0]:Ut,Xe=L.isArrayOrTypedArray(Ut)?Ut[1]:void 0;if(void 0!==Xe&&Xe!==Le)return K.hoverLabelText(Ot,Le,Ce)+" - "+K.hoverLabelText(Ot,Xe,Ce);var _e="log"===Ot.type&&Le<=0,fr=K.tickText(Ot,Ot.c2l(_e?-Le:Le),"hover").text;return _e?0===Le?"0":p+fr:fr};var zt=["f","p","n","\u03bc","m","","k","M","G","T"];function kt(Ot){return"SI"===Ot||"B"===Ot}function wt(Ot){return Ot>14||Ot<-15}function ft(Ot,Ut,Ce,Le){var Xe=Ot<0,_e=Ut._tickround,fr=Ce||Ut.exponentformat||"B",$e=Ut._tickexponent,Re=K.getTickFormat(Ut),or=Ut.separatethousands;if(Le){var dr={exponentformat:fr,minexponent:Ut.minexponent,dtick:"none"===Ut.showexponent?Ut.dtick:y(Ot)&&Math.abs(Ot)||1,range:"none"===Ut.showexponent?Ut.range.map(Ut.r2d):[0,Ot||1]};se(dr),_e=(Number(dr._tickround)||0)+4,$e=dr._tickexponent,Ut.hoverformat&&(Re=Ut.hoverformat)}if(Re)return Ut._numFormat(Re)(Ot).replace(/-/g,p);var Ar,pr=Math.pow(10,-_e)/2;if("none"===fr&&($e=0),(Ot=Math.abs(Ot))<pr)Ot="0",Xe=!1;else{if(Ot+=pr,$e&&(Ot*=Math.pow(10,-$e),_e+=$e),0===_e)Ot=String(Math.floor(Ot));else if(_e<0){Ot=(Ot=String(Math.round(Ot))).substr(0,Ot.length+_e);for(var Cr=_e;Cr<0;Cr++)Ot+="0"}else{var $r=(Ot=String(Ot)).indexOf(".")+1;$r&&(Ot=Ot.substr(0,$r+_e).replace(/\.?0+$/,""))}Ot=L.numSeparate(Ot,Ut._separators,or)}return $e&&"hide"!==fr&&(kt(fr)&&wt($e)&&(fr="power"),Ar=$e<0?p+-$e:"power"!==fr?"+"+$e:String($e),"e"===fr||"E"===fr?Ot+=fr+Ar:"power"===fr?Ot+="\xd710<sup>"+Ar+"</sup>":"B"===fr&&9===$e?Ot+="B":kt(fr)&&(Ot+=zt[$e/3+5])),Xe?p+Ot:Ot}function pt(Ot,Ut){if(Ot){var Ce=Object.keys(O).reduce(function(Le,Xe){return-1!==Ut.indexOf(Xe)&&O[Xe].forEach(function(_e){Le[_e]=1}),Le},{});Object.keys(Ot).forEach(function(Le){Ce[Le]||(1===Le.length?Ot[Le]=0:delete Ot[Le])})}}function Qt(Ot,Ut){for(var Ce=[],Le={},Xe=0;Xe<Ut.length;Xe++){var _e=Ut[Xe];Le[_e.text2]?Le[_e.text2].push(_e.x):Le[_e.text2]=[_e.x]}for(var fr in Le)Ce.push(ve(Ot,L.interp(Le[fr],.5),fr));return Ce}function Ne(Ot){return void 0!==Ot.periodX?Ot.periodX:Ot.x}function ye(Ot){return[Ot.text,Ot.x,Ot.axInfo,Ot.font,Ot.fontSize,Ot.fontColor].join("_")}function Ge(Ot){var Ut=Ot.title.font.size,Ce=(Ot.title.text.match(m.BR_TAG_ALL)||[]).length;return Ot.title.hasOwnProperty("standoff")?Ce?Ut*(J+Ce*et):Ut*J:Ce?Ut*(Ce+1)*et:Ut}function ce(Ot,Ut){var Ce=Ot.l2p(Ut);return Ce>1&&Ce<Ot._length-1}function gr(Ot){var Ut=A.select(Ot),Ce=Ut.select(".text-math-group");return Ce.empty()?Ut.select("text"):Ce}function tr(Ot){return Ot._id+".automargin"}function he(Ot){return tr(Ot)+".mirror"}function ne(Ot){return Ot._id+".rangeslider"}function be(Ot,Ut){for(var Ce=0;Ce<Ut.length;Ce++)-1===Ot.indexOf(Ut[Ce])&&Ot.push(Ut[Ce])}function Se(Ot,Ut,Ce){var fr,$e,Le=[],Xe=[],_e=Ot.layout;for(fr=0;fr<Ut.length;fr++)Le.push(K.getFromId(Ot,Ut[fr]));for(fr=0;fr<Ce.length;fr++)Xe.push(K.getFromId(Ot,Ce[fr]));var Re=Object.keys(a),or=["anchor","domain","overlaying","position","side","tickangle","editType"],dr=["linear","log"];for(fr=0;fr<Re.length;fr++){var pr=Re[fr],Cr=Le[0][pr],$r=Xe[0][pr],Ar=!0,Gr=!1,nn=!1;if("_"!==pr.charAt(0)&&"function"!=typeof Cr&&-1===or.indexOf(pr)){for($e=1;$e<Le.length&&Ar;$e++){var Ur=Le[$e][pr];"type"===pr&&-1!==dr.indexOf(Cr)&&-1!==dr.indexOf(Ur)&&Cr!==Ur?Gr=!0:Ur!==Cr&&(Ar=!1)}for($e=1;$e<Xe.length&&Ar;$e++){var Tn=Xe[$e][pr];"type"===pr&&-1!==dr.indexOf($r)&&-1!==dr.indexOf(Tn)&&$r!==Tn?nn=!0:Xe[$e][pr]!==$r&&(Ar=!1)}Ar&&(Gr&&(_e[Le[0]._name].type="linear"),nn&&(_e[Xe[0]._name].type="linear"),Me(_e,pr,Le,Xe,Ot._fullLayout._dfltTitle))}}for(fr=0;fr<Ot._fullLayout.annotations.length;fr++){var bn=Ot._fullLayout.annotations[fr];-1!==Ut.indexOf(bn.xref)&&-1!==Ce.indexOf(bn.yref)&&L.swapAttrs(_e.annotations[fr],["?"])}}function Me(Ot,Ut,Ce,Le,Xe){var Re,_e=L.nestedProperty,fr=_e(Ot[Ce[0]._name],Ut).get(),$e=_e(Ot[Le[0]._name],Ut).get();for("title"===Ut&&(fr&&fr.text===Xe.x&&(fr.text=Xe.y),$e&&$e.text===Xe.y&&($e.text=Xe.x)),Re=0;Re<Ce.length;Re++)_e(Ot,Ce[Re]._name+"."+Ut).set($e);for(Re=0;Re<Le.length;Re++)_e(Ot,Le[Re]._name+"."+Ut).set(fr)}function Ie(Ot){return"angularaxis"===Ot._id}function Fe(Ot,Ut){for(var Ce=Ut._rangebreaks.length,Le=0;Le<Ce;Le++){var Xe=Ut._rangebreaks[Le];if(Ot>=Xe.min&&Ot<Xe.max)return Xe.max}return Ot}function Ze(Ot){return-1!==(Ot.ticklabelposition||"").indexOf("inside")}function nr(Ot,Ut){Ze(Ot._anchorAxis||{})&&Ot._hideCounterAxisInsideTickLabels&&Ot._hideCounterAxisInsideTickLabels(Ut)}function ir(Ot,Ut,Ce,Le){var _e,Xe="free"===Ot.anchor||void 0!==Ot.overlaying&&!1!==Ot.overlaying?Ot.overlaying:Ot._id;_e=Le?"right"===Ot.side?Ut:-Ut:Ut,Xe in Ce||(Ce[Xe]={}),Ot.side in Ce[Xe]||(Ce[Xe][Ot.side]=0),Ce[Xe][Ot.side]+=_e}K.getTickFormat=function(Ot){var Ut,fr,$e,Re,or,pr,Cr,$r;function Ce(Re){return"string"!=typeof Re?Re:Number(Re.replace("M",""))*M}function Le(Re,or){var dr=["L","D"];if(typeof Re==typeof or){if("number"==typeof Re)return Re-or;var pr=dr.indexOf(Re.charAt(0)),Cr=dr.indexOf(or.charAt(0));return pr===Cr?Number(Re.replace(/(L|D)/g,""))-Number(or.replace(/(L|D)/g,"")):pr-Cr}return"number"==typeof Re?1:-1}function _e(Re,or){var dr=null===or[0],pr=null===or[1],Cr=Le(Re,or[0])>=0,$r=Le(Re,or[1])<=0;return(dr||Cr)&&(pr||$r)}if(Ot.tickformatstops&&Ot.tickformatstops.length>0)switch(Ot.type){case"date":case"linear":for(Ut=0;Ut<Ot.tickformatstops.length;Ut++)if(($e=Ot.tickformatstops[Ut]).enabled&&(Re=Ot.dtick,pr=void 0,Cr=void 0,$r=void 0,pr=Ce||function(Ar){return Ar},$r=(or=$e.dtickrange)[1],(!(Cr=or[0])&&"number"!=typeof Cr||pr(Cr)<=pr(Re))&&(!$r&&"number"!=typeof $r||pr($r)>=pr(Re)))){fr=$e;break}break;case"log":for(Ut=0;Ut<Ot.tickformatstops.length;Ut++)if(($e=Ot.tickformatstops[Ut]).enabled&&_e(Ot.dtick,$e.dtickrange)){fr=$e;break}}return fr?fr.value:Ot.tickformat},K.getSubplots=function(Ot,Ut){var Ce=Ot._fullLayout._subplots,Le=Ce.cartesian.concat(Ce.gl2d||[]),Xe=Ut?K.findSubplotsWithAxis(Le,Ut):Le;return Xe.sort(function(_e,fr){var $e=_e.substr(1).split("y"),Re=fr.substr(1).split("y");return $e[0]===Re[0]?+$e[1]-+Re[1]:+$e[0]-+Re[0]}),Xe},K.findSubplotsWithAxis=function(Ot,Ut){for(var Ce=new RegExp("x"===Ut._id.charAt(0)?"^"+Ut._id+"y":Ut._id+"$"),Le=[],Xe=0;Xe<Ot.length;Xe++){var _e=Ot[Xe];Ce.test(_e)&&Le.push(_e)}return Le},K.makeClipPaths=function(Ot){var Ut=Ot._fullLayout;if(!Ut._hasOnlyLargeSploms){var $e,Re,Ce={_offset:0,_length:Ut.width,_id:""},Le={_offset:0,_length:Ut.height,_id:""},Xe=K.list(Ot,"x",!0),_e=K.list(Ot,"y",!0),fr=[];for($e=0;$e<Xe.length;$e++)for(fr.push({x:Xe[$e],y:Le}),Re=0;Re<_e.length;Re++)0===$e&&fr.push({x:Ce,y:_e[Re]}),fr.push({x:Xe[$e],y:_e[Re]});var or=Ut._clips.selectAll(".axesclip").data(fr,function(dr){return dr.x._id+dr.y._id});or.enter().append("clipPath").classed("axesclip",!0).attr("id",function(dr){return"clip"+Ut._uid+dr.x._id+dr.y._id}).append("rect"),or.exit().remove(),or.each(function(dr){A.select(this).select("rect").attr({x:dr.x._offset||0,y:dr.y._offset||0,width:dr.x._length||1,height:dr.y._length||1})})}},K.draw=function(Ot,Ut,Ce){var Le=Ot._fullLayout;"redraw"===Ut&&Le._paper.selectAll("g.subplot").each(function(Re){var dr=Le._plots[Re[0]];if(dr){var pr=dr.xaxis,Cr=dr.yaxis;dr.xaxislayer.selectAll("."+pr._id+"tick").remove(),dr.yaxislayer.selectAll("."+Cr._id+"tick").remove(),dr.xaxislayer.selectAll("."+pr._id+"tick2").remove(),dr.yaxislayer.selectAll("."+Cr._id+"tick2").remove(),dr.xaxislayer.selectAll("."+pr._id+"divider").remove(),dr.yaxislayer.selectAll("."+Cr._id+"divider").remove(),dr.minorGridlayer&&dr.minorGridlayer.selectAll("path").remove(),dr.gridlayer&&dr.gridlayer.selectAll("path").remove(),dr.zerolinelayer&&dr.zerolinelayer.selectAll("path").remove(),Le._infolayer.select(".g-"+pr._id+"title").remove(),Le._infolayer.select(".g-"+Cr._id+"title").remove()}});var Xe=Ut&&"redraw"!==Ut?Ut:K.listIds(Ot),fr=K.list(Ot).filter(function(Re){return Re.autoshift}).map(function(Re){return Re.overlaying});Xe.map(function(Re){var or=K.getFromId(Ot,Re);if("sync"===or.tickmode&&or.overlaying){var dr=Xe.findIndex(function(pr){return pr===or.overlaying});dr>=0&&Xe.unshift(Xe.splice(dr,1).shift())}});var $e={false:{left:0,right:0}};return L.syncOrAsync(Xe.map(function(Re){return function(){if(Re){var or=K.getFromId(Ot,Re);Ce||(Ce={}),Ce.axShifts=$e,Ce.overlayingShiftedAx=fr;var dr=K.drawOne(Ot,or,Ce);return or._shiftPusher&&ir(or,or._fullDepth||0,$e,!0),or._r=or.range.slice(),or._rl=L.simpleMap(or._r,or.r2l),dr}}}))},K.drawOne=function(Ot,Ut,Ce){var _e,fr,$e,Le=(Ce=Ce||{}).axShifts||{},Xe=Ce.overlayingShiftedAx||[];Ut.setScale();var Re=Ot._fullLayout,or=Ut._id,dr=or.charAt(0),pr=K.counterLetter(or),Cr=Re._plots[Ut._mainSubplot];if(Cr){if(Ut._shiftPusher=Ut.autoshift||-1!==Xe.indexOf(Ut._id)||-1!==Xe.indexOf(Ut.overlaying),Ut._shiftPusher&"free"===Ut.anchor){var $r=Ut.linewidth/2||0;"inside"===Ut.ticks&&($r+=Ut.ticklen),ir(Ut,$r,Le,!0),ir(Ut,Ut.shift||0,Le,!1)}(!0!==Ce.skipTitle||void 0===Ut._shift)&&(Ut._shift=function lr(Ot,Ut){return Ot.autoshift?Ut[Ot.overlaying][Ot.side]:Ot.shift||0}(Ut,Le));var Ar=Cr[dr+"axislayer"],Gr=Ut._mainLinePosition,nn=Gr+=Ut._shift,Ur=Ut._mainMirrorPosition,Tn=Ut._vals=K.calcTicks(Ut),bn=[Ut.mirror,nn,Ur].join("_");for(_e=0;_e<Tn.length;_e++)Tn[_e].axInfo=bn;Ut._selections={},Ut._tickAngles&&(Ut._prevTickAngles=Ut._tickAngles),Ut._tickAngles={},Ut._depth=null;var ur={};if(Ut.visible){var sn,pn,Br=K.makeTransTickFn(Ut),Or=K.makeTransTickLabelFn(Ut),gn="inside"===Ut.ticks,wn="outside"===Ut.ticks;if("boundaries"===Ut.tickson){var Rn=function Dt(Ot,Ut){var Le,Ce=[],Xe=function(_e,fr){var $e=_e.xbnd?_e.xbnd[fr]:_e.x;null!==$e&&Ce.push(L.extendFlat({},_e,{x:$e}))};if(Ut.length){for(Le=0;Le<Ut.length;Le++)Xe(Ut[Le],0);Xe(Ut[Le-1],1)}return Ce}(0,Tn);pn=K.clipEnds(Ut,Rn),sn=gn?pn:Rn}else pn=K.clipEnds(Ut,Tn),sn=gn&&"period"!==Ut.ticklabelmode?pn:Tn;var Kn=Ut._gridVals=pn,_n=function te(Ot,Ut){var Le,Xe,Ce=[],_e=Ut.length&&Ut[Ut.length-1].x<Ut[0].x,fr=function(Re,or){var dr=Re.xbnd[or];null!==dr&&Ce.push(L.extendFlat({},Re,{x:dr}))};if(Ot.showdividers&&Ut.length){for(Le=0;Le<Ut.length;Le++){var $e=Ut[Le];$e.text2!==Xe&&fr($e,_e?1:0),Xe=$e.text2}fr(Ut[Le-1],_e?0:1)}return Ce}(Ut,Tn);if(!Re._hasOnlyLargeSploms){var ua=Ut._subplotsWith,qn={};for(_e=0;_e<ua.length;_e++){var Qn=($e=Re._plots[fr=ua[_e]])[pr+"axis"],yr=Qn._mainAxis._id;if(!qn[yr]){qn[yr]=1;var tn="x"===dr?"M0,"+Qn._offset+"v"+Qn._length:"M"+Qn._offset+",0h"+Qn._length;K.drawGrid(Ot,Ut,{vals:Kn,counterAxis:Qn,layer:$e.gridlayer.select("."+or),minorLayer:$e.minorGridlayer.select("."+or),path:tn,transFn:Br}),K.drawZeroLine(Ot,Ut,{counterAxis:Qn,layer:$e.zerolinelayer,path:tn,transFn:Br})}}}var Qr,dn=K.getTickSigns(Ut),Fn=K.getTickSigns(Ut,"minor");if(Ut.ticks||Ut.minor&&Ut.minor.ticks){var kn,Hn,ta,Sa,Sn=K.makeTickPath(Ut,nn,dn[2]),En=K.makeTickPath(Ut,nn,Fn[2],{minor:!0});if(Ut._anchorAxis&&Ut.mirror&&!0!==Ut.mirror?(kn=K.makeTickPath(Ut,Ur,dn[3]),Hn=K.makeTickPath(Ut,Ur,Fn[3],{minor:!0}),ta=Sn+kn,Sa=En+Hn):(kn="",Hn="",ta=Sn,Sa=En),Ut.showdividers&&wn&&"boundaries"===Ut.tickson){var Sr={};for(_e=0;_e<_n.length;_e++)Sr[_n[_e].x]=1;Qr=function(je){return Sr[je.x]?kn:ta}}else Qr=function(je){return je.minor?Sa:ta}}if(K.drawTicks(Ot,Ut,{vals:sn,layer:Ar,path:Qr,transFn:Br}),"allticks"===Ut.mirror){var Fr=Object.keys(Ut._linepositions||{});for(_e=0;_e<Fr.length;_e++){$e=Re._plots[fr=Fr[_e]];var Tr=Ut._linepositions[fr]||[],yn=Tr[1],Cn=Tr[2],hn=K.makeTickPath(Ut,Tr[0],Cn?dn[0]:Fn[0],{minor:Cn})+K.makeTickPath(Ut,yn,Cn?dn[1]:Fn[1],{minor:Cn});K.drawTicks(Ot,Ut,{vals:sn,layer:$e[dr+"axislayer"],path:hn,transFn:Br})}}var ln=[];if(ln.push(function(){return K.drawLabels(Ot,Ut,{vals:Tn,layer:Ar,plotinfo:$e,transFn:Or,labelFns:K.makeLabelFns(Ut,nn)})}),"multicategory"===Ut.type){var Er={x:2,y:10}[dr];ln.push(function(){var je={x:"height",y:"width"}[dr],xr=Mr()[je]+Er+(Ut._tickAngles[or+"tick"]?Ut.tickfont.size*et:0);return K.drawLabels(Ot,Ut,{vals:Qt(Ut,Tn),layer:Ar,cls:or+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Br,labelFns:K.makeLabelFns(Ut,nn+xr*dn[4])})}),ln.push(function(){return Ut._depth=dn[4]*(Mr("tick2")[Ut.side]-nn),function Te(Ot,Ut,Ce){var Le=Ut._id+"divider",Xe=Ce.vals,_e=Ce.layer.selectAll("path."+Le).data(Xe,ye);_e.exit().remove(),_e.enter().insert("path",":first-child").classed(Le,1).classed("crisp",1).call(e.stroke,Ut.dividercolor).style("stroke-width",s.crispRound(Ot,Ut.dividerwidth,1)+"px"),_e.attr("transform",Ce.transFn).attr("d",Ce.path)}(Ot,Ut,{vals:_n,layer:Ar,path:K.makeTickPath(Ut,nn,dn[4],{len:Ut._depth}),transFn:Br})})}else Ut.title.hasOwnProperty("standoff")&&ln.push(function(){Ut._depth=dn[4]*(Mr()[Ut.side]-nn)});var Yr=P.getComponentMethod("rangeslider","isVisible")(Ut);return!Ce.skipTitle&&!(Yr&&"bottom"===Ut.side)&&ln.push(function(){return function hr(Ot,Ut){var fr,Ce=Ot._fullLayout,Le=Ut._id,Xe=Le.charAt(0),_e=Ut.title.font.size;if(Ut.title.hasOwnProperty("standoff"))fr=Ut._depth+Ut.title.standoff+Ge(Ut);else{var $e=Ze(Ut);if("multicategory"===Ut.type)fr=Ut._depth;else{var Re=1.5*_e;$e&&(Re=.5*_e,"outside"===Ut.ticks&&(Re+=Ut.ticklen)),fr=10+Re+(Ut.linewidth?Ut.linewidth-1:0)}$e||(fr+="x"===Xe?"top"===Ut.side?_e*(Ut.showticklabels?1:0):_e*(Ut.showticklabels?1.5:.5):"right"===Ut.side?_e*(Ut.showticklabels?1:.5):_e*(Ut.showticklabels?.5:0))}var dr,pr,Cr,$r,or=K.getPxPosition(Ot,Ut);if("x"===Xe?(pr=Ut._offset+Ut._length/2,Cr="top"===Ut.side?or-fr:or+fr):(Cr=Ut._offset+Ut._length/2,pr="right"===Ut.side?or+fr:or-fr,dr={rotate:"-90",offset:0}),"multicategory"!==Ut.type){var Ar=Ut._selections[Ut._id+"tick"];if($r={selection:Ar,side:Ut.side},Ar&&Ar.node()&&Ar.node().parentNode){var Gr=s.getTranslate(Ar.node().parentNode);$r.offsetLeft=Gr.x,$r.offsetTop=Gr.y}Ut.title.hasOwnProperty("standoff")&&($r.pad=0)}return Ut._titleStandoff=fr,r.draw(Ot,Le+"title",{propContainer:Ut,propName:Ut._name+".title.text",placeholder:Ce._dfltTitle[Xe],avoid:$r,transform:dr,attributes:{x:pr,y:Cr,"text-anchor":"middle"}})}(Ot,Ut)}),ln.push(function(){var vr,Hr,rn,Zn,je=Ut.side.charAt(0),xr=at[Ut.side].charAt(0),Be=K.getPxPosition(Ot,Ut),Ve=wn?Ut.ticklen:0;(Ut.automargin||Yr||Ut._shiftPusher)&&("multicategory"===Ut.type?vr=Mr("tick2"):(vr=Mr(),"x"===dr&&"b"===je&&(Ut._depth=Math.max(vr.width>0?vr.bottom-Be:0,Ve))));var $n=0,na=0;if(Ut._shiftPusher&&($n=Math.max(Ve,vr.height>0?"l"===je?Be-vr.left:vr.right-Be:0),Ut.title.text!==Re._dfltTitle[dr]&&(na=(Ut._titleStandoff||0)+(Ut._titleScoot||0),"l"===je&&(na+=Ge(Ut))),Ut._fullDepth=Math.max($n,na)),Ut.automargin){Hr={x:0,y:0,r:0,l:0,t:0,b:0};var Ta=[0,1],ni="number"==typeof Ut._shift?Ut._shift:0;if("x"===dr){if("b"===je?Hr[je]=Ut._depth:(Hr[je]=Ut._depth=Math.max(vr.width>0?Be-vr.top:0,Ve),Ta.reverse()),vr.width>0){var ei=vr.right-(Ut._offset+Ut._length);ei>0&&(Hr.xr=1,Hr.r=ei);var lo=Ut._offset-vr.left;lo>0&&(Hr.xl=0,Hr.l=lo)}}else if("l"===je?(Ut._depth=Math.max(vr.height>0?Be-vr.left:0,Ve),Hr[je]=Ut._depth-ni):(Ut._depth=Math.max(vr.height>0?vr.right-Be:0,Ve),Hr[je]=Ut._depth+ni,Ta.reverse()),vr.height>0){var ro=vr.bottom-(Ut._offset+Ut._length);ro>0&&(Hr.yb=0,Hr.b=ro);var ss=Ut._offset-vr.top;ss>0&&(Hr.yt=1,Hr.t=ss)}Hr[pr]="free"===Ut.anchor?Ut.position:Ut._anchorAxis.domain[Ta[0]],Ut.title.text!==Re._dfltTitle[dr]&&(Hr[je]+=Ge(Ut)+(Ut.title.standoff||0)),Ut.mirror&&"free"!==Ut.anchor&&((rn={x:0,y:0,r:0,l:0,t:0,b:0})[xr]=Ut.linewidth,Ut.mirror&&!0!==Ut.mirror&&(rn[xr]+=Ve),!0===Ut.mirror||"ticks"===Ut.mirror?rn[pr]=Ut._anchorAxis.domain[Ta[1]]:("all"===Ut.mirror||"allticks"===Ut.mirror)&&(rn[pr]=[Ut._counterDomainMin,Ut._counterDomainMax][Ta[1]]))}Yr&&(Zn=P.getComponentMethod("rangeslider","autoMarginOpts")(Ot,Ut)),"string"==typeof Ut.automargin&&(pt(Hr,Ut.automargin),pt(rn,Ut.automargin)),i.autoMargin(Ot,tr(Ut),Hr),i.autoMargin(Ot,he(Ut),rn),i.autoMargin(Ot,ne(Ut),Zn)}),L.syncOrAsync(ln)}}function Mr(je){var xr=or+(je||"tick");return ur[xr]||(ur[xr]=function ee(Ot,Ut){var Ce,Le,Xe,_e;return Ot._selections[Ut].size()?(Ce=1/0,Le=-1/0,Xe=1/0,_e=-1/0,Ot._selections[Ut].each(function(){var fr=gr(this),$e=s.bBox(fr.node().parentNode);Ce=Math.min(Ce,$e.top),Le=Math.max(Le,$e.bottom),Xe=Math.min(Xe,$e.left),_e=Math.max(_e,$e.right)})):(Ce=0,Le=0,Xe=0,_e=0),{top:Ce,bottom:Le,left:Xe,right:_e,height:Le-Ce,width:_e-Xe}}(Ut,xr)),ur[xr]}},K.getTickSigns=function(Ot,Ut){var Ce=Ot._id.charAt(0),Xe=Ot.side==={x:"top",y:"right"}[Ce]?1:-1,_e=[-1,1,Xe,-Xe];return"inside"!==(Ut?(Ot.minor||{}).ticks:Ot.ticks)==("x"===Ce)&&(_e=_e.map(function($e){return-$e})),Ot.side&&_e.push({l:-1,t:-1,r:1,b:1}[Ot.side.charAt(0)]),_e},K.makeTransTickFn=function(Ot){return"x"===Ot._id.charAt(0)?function(Ut){return l(Ot._offset+Ot.l2p(Ut.x),0)}:function(Ut){return l(0,Ot._offset+Ot.l2p(Ut.x))}},K.makeTransTickLabelFn=function(Ot){var Ut=function We(Ot){var Ut=Ot.ticklabelposition||"",Ce=function($r){return-1!==Ut.indexOf($r)},Le=Ce("top"),Xe=Ce("left"),_e=Ce("right"),fr=Ce("bottom"),$e=Ce("inside"),Re=fr||Xe||Le||_e;if(!Re&&!$e)return[0,0];var or=Ot.side,dr=Re?(Ot.tickwidth||0)/2:0,pr=3,Cr=Ot.tickfont?Ot.tickfont.size:12;return(fr||Le)&&(dr+=Cr*J,pr+=(Ot.linewidth||0)/2),(Xe||_e)&&(dr+=(Ot.linewidth||0)/2,pr+=3),$e&&"top"===or&&(pr-=Cr*(1-J)),(Xe||Le)&&(dr=-dr),("bottom"===or||"right"===or)&&(pr=-pr),[Re?dr:0,$e?pr:0]}(Ot),Ce=Ut[0],Le=Ut[1];return"x"===Ot._id.charAt(0)?function(Xe){return l(Ce+Ot._offset+Ot.l2p(Ne(Xe)),Le)}:function(Xe){return l(Le,Ce+Ot._offset+Ot.l2p(Ne(Xe)))}},K.makeTickPath=function(Ot,Ut,Ce,Le){Le||(Le={});var Xe=Le.minor;if(Xe&&!Ot.minor)return"";var _e=void 0!==Le.len?Le.len:Xe?Ot.minor.ticklen:Ot.ticklen,fr=Ot._id.charAt(0),$e=(Ot.linewidth||1)/2;return"x"===fr?"M0,"+(Ut+$e*Ce)+"v"+_e*Ce:"M"+(Ut+$e*Ce)+",0h"+_e*Ce},K.makeLabelFns=function(Ot,Ut,Ce){var Le=Ot.ticklabelposition||"",Xe=function(Rn){return-1!==Le.indexOf(Rn)},_e=Xe("top"),fr=Xe("left"),$e=Xe("right"),or=Xe("bottom")||fr||_e||$e,dr=Xe("inside"),pr="inside"===Le&&"inside"===Ot.ticks||!dr&&"outside"===Ot.ticks&&"boundaries"!==Ot.tickson,Cr=0,$r=0,Ar=pr?Ot.ticklen:0;if(dr?Ar*=-1:or&&(Ar=0),pr&&(Cr+=Ar,Ce)){var Gr=L.deg2rad(Ce);Cr=Ar*Math.cos(Gr)+1,$r=Ar*Math.sin(Gr)}Ot.showticklabels&&(pr||Ot.showline)&&(Cr+=.2*Ot.tickfont.size);var Ur,Tn,bn,ur,pn,nn={labelStandoff:Cr+=(Ot.linewidth||1)/2*(dr?-1:1),labelShift:$r},Mr=0,Br=Ot.side,Or=Ot._id.charAt(0),sn=Ot.tickangle;if("x"===Or)ur=(pn=!dr&&"bottom"===Br||dr&&"top"===Br)?1:-1,dr&&(ur*=-1),Ur=$r*ur,Tn=Ut+Cr*ur,bn=pn?1:-.2,90===Math.abs(sn)&&(dr?bn+=G:bn=-90===sn&&"bottom"===Br?J:90===sn&&"top"===Br?G:.5,Mr=G/2*(sn/90)),nn.xFn=function(Rn){return Rn.dx+Ur+Mr*Rn.fontSize},nn.yFn=function(Rn){return Rn.dy+Tn+Rn.fontSize*bn},nn.anchorFn=function(Rn,Kn){if(or){if(fr)return"end";if($e)return"start"}return y(Kn)&&0!==Kn&&180!==Kn?Kn*ur<0!==dr?"end":"start":"middle"},nn.heightFn=function(Rn,Kn,_n){return Kn<-60||Kn>60?-.5*_n:"top"===Ot.side!==dr?-_n:0};else if("y"===Or){if(ur=(pn=!dr&&"left"===Br||dr&&"right"===Br)?1:-1,dr&&(ur*=-1),Ur=Cr,Tn=$r*ur,bn=0,!dr&&90===Math.abs(sn)&&(bn=-90===sn&&"left"===Br||90===sn&&"right"===Br?J:.5),dr){var gn=y(sn)?+sn:0;if(0!==gn){var wn=L.deg2rad(gn);Mr=Math.abs(Math.sin(wn))*J*ur,bn=0}}nn.xFn=function(Rn){return Rn.dx+Ut-(Ur+Rn.fontSize*bn)*ur+Mr*Rn.fontSize},nn.yFn=function(Rn){return Rn.dy+Tn+Rn.fontSize*G},nn.anchorFn=function(Rn,Kn){return y(Kn)&&90===Math.abs(Kn)?"middle":pn?"end":"start"},nn.heightFn=function(Rn,Kn,_n){return"right"===Ot.side&&(Kn*=-1),Kn<-30?-_n:Kn<30?-.5*_n:0}}return nn},K.drawTicks=function(Ot,Ut,Ce){Ce=Ce||{};var Le=Ut._id+"tick",Xe=[].concat(Ut.minor&&Ut.minor.ticks?Ce.vals.filter(function(fr){return fr.minor&&!fr.noTick}):[]).concat(Ut.ticks?Ce.vals.filter(function(fr){return!fr.minor&&!fr.noTick}):[]),_e=Ce.layer.selectAll("path."+Le).data(Xe,ye);_e.exit().remove(),_e.enter().append("path").classed(Le,1).classed("ticks",1).classed("crisp",!1!==Ce.crisp).each(function(fr){return e.stroke(A.select(this),fr.minor?Ut.minor.tickcolor:Ut.tickcolor)}).style("stroke-width",function(fr){return s.crispRound(Ot,fr.minor?Ut.minor.tickwidth:Ut.tickwidth,1)+"px"}).attr("d",Ce.path).style("display",null),nr(Ut,[z]),_e.attr("transform",Ce.transFn)},K.drawGrid=function(Ot,Ut,Ce){if(Ce=Ce||{},"sync"!==Ut.tickmode){var Le=Ut._id+"grid",Xe=Ut.minor&&Ut.minor.showgrid,_e=Xe?Ce.vals.filter(function(Ur){return Ur.minor}):[],fr=Ut.showgrid?Ce.vals.filter(function(Ur){return!Ur.minor}):[],$e=Ce.counterAxis;if($e&&K.shouldShowZeroLine(Ot,Ut,$e))for(var Re="array"===Ut.tickmode,or=0;or<fr.length;or++){var dr=fr[or].x;if(Re?!dr:Math.abs(dr)<Ut.dtick/100){if(fr=fr.slice(0,or).concat(fr.slice(or+1)),!Re)break;or--}}Ut._gw=s.crispRound(Ot,Ut.gridwidth,1);for(var pr=Xe?s.crispRound(Ot,Ut.minor.gridwidth,1):0,Cr=Ce.layer,$r=Ce.minorLayer,Ar=1;Ar>=0;Ar--){var Gr=Ar?Cr:$r;if(Gr){var nn=Gr.selectAll("path."+Le).data(Ar?fr:_e,ye);nn.exit().remove(),nn.enter().append("path").classed(Le,1).classed("crisp",!1!==Ce.crisp),nn.attr("transform",Ce.transFn).attr("d",Ce.path).each(function(Ur){return e.stroke(A.select(this),Ur.minor?Ut.minor.gridcolor:Ut.gridcolor||"#ddd")}).style("stroke-dasharray",function(Ur){return s.dashStyle(Ur.minor?Ut.minor.griddash:Ut.griddash,Ur.minor?Ut.minor.gridwidth:Ut.gridwidth)}).style("stroke-width",function(Ur){return(Ur.minor?pr:Ut._gw)+"px"}).style("display",null),"function"==typeof Ce.path&&nn.attr("d",Ce.path)}}nr(Ut,[N,k])}},K.drawZeroLine=function(Ot,Ut,Ce){var Le=Ut._id+"zl",Xe=K.shouldShowZeroLine(Ot,Ut,(Ce=Ce||Ce).counterAxis),_e=Ce.layer.selectAll("path."+Le).data(Xe?[{x:0,id:Ut._id}]:[]);_e.exit().remove(),_e.enter().append("path").classed(Le,1).classed("zl",1).classed("crisp",!1!==Ce.crisp).each(function(){Ce.layer.selectAll("path").sort(function(fr,$e){return H(fr.id,$e.id)})}),_e.attr("transform",Ce.transFn).attr("d",Ce.path).call(e.stroke,Ut.zerolinecolor||e.defaultLine).style("stroke-width",s.crispRound(Ot,Ut.zerolinewidth,Ut._gw||1)+"px").style("display",null),nr(Ut,[D])},K.drawLabels=function(Ot,Ut,Ce){var Le=Ot._fullLayout,_e=(Ce=Ce||{}).cls||Ut._id+"tick",fr=Ce.vals.filter(function(yr){return yr.text}),$e=Ce.labelFns,Re=Ce.secondary?0:Ut.tickangle,or=(Ut._prevTickAngles||{})[_e],dr=Ce.layer.selectAll("g."+_e).data(Ut.showticklabels?fr:[],ye),pr=[];function Cr(yr,tn){yr.each(function(Qr){var dn=A.select(this),Fn=dn.select(".text-math-group"),Sn=$e.anchorFn(Qr,tn),En=Ce.transFn.call(dn.node(),Qr)+(y(tn)&&0!=+tn?" rotate("+tn+","+$e.xFn(Qr)+","+($e.yFn(Qr)-Qr.fontSize/2)+")":""),kn=m.lineCount(dn),Hn=et*Qr.fontSize,ta=$e.heightFn(Qr,y(tn)?+tn:0,(kn-1)*Hn);if(ta&&(En+=l(0,ta)),Fn.empty()){var Sa=dn.select("text");Sa.attr({transform:En,"text-anchor":Sn}),Sa.style("opacity",1),Ut._adjustTickLabelsOverflow&&Ut._adjustTickLabelsOverflow()}else{var Sr=s.bBox(Fn.node()).width;Fn.attr("transform",En+l(Sr*{end:-.5,start:.5}[Sn],0))}})}dr.enter().append("g").classed(_e,1).append("text").attr("text-anchor","middle").each(function(yr){var tn=A.select(this),Qr=Ot._promises.length;tn.call(m.positionText,$e.xFn(yr),$e.yFn(yr)).call(s.font,yr.font,yr.fontSize,yr.fontColor).text(yr.text).call(m.convertToTspans,Ot),Ot._promises[Qr]?pr.push(Ot._promises.pop().then(function(){Cr(tn,Re)})):Cr(tn,Re)}),nr(Ut,[B]),dr.exit().remove(),Ce.repositionOnUpdate&&dr.each(function(yr){A.select(this).select("text").call(m.positionText,$e.xFn(yr),$e.yFn(yr))}),Ut._adjustTickLabelsOverflow=function(){var yr=Ut.ticklabeloverflow;if(yr&&"allow"!==yr){var tn=-1!==yr.indexOf("hide"),Qr="x"===Ut._id.charAt(0),dn=0,Fn=Qr?Ot._fullLayout.width:Ot._fullLayout.height;if(-1!==yr.indexOf("domain")){var Sn=L.simpleMap(Ut.range,Ut.r2l);dn=Ut.l2p(Sn[0])+Ut._offset,Fn=Ut.l2p(Sn[1])+Ut._offset}var En=Math.min(dn,Fn),kn=Math.max(dn,Fn),Hn=Ut.side,ta=1/0,Sa=-1/0;for(var Sr in dr.each(function(kr){var yn=A.select(this);if(yn.select(".text-math-group").empty()){var hn=s.bBox(yn.node()),ln=0;Qr?(hn.right>kn||hn.left<En)&&(ln=1):(hn.bottom>kn||hn.top+(Ut.tickangle?0:kr.fontSize/4)<En)&&(ln=1);var Er=yn.select("text");ln?tn&&Er.style("opacity",0):(Er.style("opacity",1),ta="bottom"===Hn||"right"===Hn?Math.min(ta,Qr?hn.top:hn.left):-1/0,Sa="top"===Hn||"left"===Hn?Math.max(Sa,Qr?hn.bottom:hn.right):1/0)}}),Le._plots){var Fr=Le._plots[Sr];if(Ut._id===Fr.xaxis._id||Ut._id===Fr.yaxis._id){var Tr=Qr?Fr.yaxis:Fr.xaxis;Tr&&(Tr["_visibleLabelMin_"+Ut._id]=ta,Tr["_visibleLabelMax_"+Ut._id]=Sa)}}}},Ut._hideCounterAxisInsideTickLabels=function(yr){var tn="x"===Ut._id.charAt(0),Qr=[];for(var dn in Le._plots){var Fn=Le._plots[dn];Ut._id!==Fn.xaxis._id&&Ut._id!==Fn.yaxis._id||Qr.push(tn?Fn.yaxis:Fn.xaxis)}Qr.forEach(function(Sn,En){Sn&&Ze(Sn)&&(yr||[D,k,N,z,B]).forEach(function(kn){var Hn="tick"===kn.K&&"text"===kn.L&&"period"===Ut.ticklabelmode,ta=Le._plots[Ut._mainSubplot];(kn.K===D.K?ta.zerolinelayer.selectAll("."+Ut._id+"zl"):kn.K===k.K?ta.minorGridlayer.selectAll("."+Ut._id):kn.K===N.K?ta.gridlayer.selectAll("."+Ut._id):ta[Ut._id.charAt(0)+"axislayer"]).each(function(){var Sr=A.select(this);kn.L&&(Sr=Sr.selectAll(kn.L)),Sr.each(function(Fr){var Tr=Ut.l2p(Hn?Ne(Fr):Fr.x)+Ut._offset,kr=A.select(this);Tr<Ut["_visibleLabelMax_"+Sn._id]&&Tr>Ut["_visibleLabelMin_"+Sn._id]?kr.style("display","none"):"tick"===kn.K&&!En&&kr.style("display",null)})})})})},Cr(dr,or+1?or:Re);var Ar=null;Ut._selections&&(Ut._selections[_e]=dr);var nn=[function $r(){return pr.length&&Promise.all(pr)}];Ut.automargin&&Le._redrawFromAutoMarginCount&&90===or?(Ar=or,nn.push(function(){Cr(dr,or)})):nn.push(function Gr(){if(Cr(dr,Re),fr.length&&Ut.autotickangles&&("log"!==Ut.type||"D"!==String(Ut.dtick).charAt(0))){Ar=Ut.autotickangles[0];var Qr,yr=0,tn=[],dn=1;if(dr.each(function(Ve){yr=Math.max(yr,Ve.fontSize);var vr=Ut.l2p(Ve.x),Hr=gr(this),rn=s.bBox(Hr.node());dn=Math.max(dn,m.lineCount(Hr)),tn.push({top:0,bottom:10,height:10,left:vr-rn.width/2,right:vr+rn.width/2+2,width:rn.width+2})}),"boundaries"!==Ut.tickson&&!Ut.showdividers||Ce.secondary){var kn=fr.length,Hn=Math.abs((fr[kn-1].x-fr[0].x)*Ut._m)/(kn-1),ta=Ut.ticklabelposition||"",Sa=function(Ve){return-1!==ta.indexOf(Ve)},Sr=Sa("top"),Fr=Sa("left"),Tr=Sa("right"),Cn=Sa("bottom")||Fr||Sr||Tr?(Ut.tickwidth||0)+6:0,ln=1.25*yr*dn,Yr=Hn/Math.sqrt(Math.pow(Hn,2)+Math.pow(ln,2)),je=Ut.autotickangles.map(function(Ve){return Ve*Math.PI/180}),xr=je.find(function(Ve){return Math.abs(Math.cos(Ve))<=Yr});void 0===xr&&(xr=je.reduce(function(Ve,vr){return Math.abs(Math.cos(Ve))<Math.abs(Math.cos(vr))?Ve:vr},je[0]));var Be=xr*(180/Math.PI);for(Qr=0;Qr<tn.length-1;Qr++)if(L.bBoxIntersect(tn[Qr],tn[Qr+1],Cn)){Ar=Be;break}}else{var Fn=2;for(Ut.ticks&&(Fn+=Ut.tickwidth/2),Qr=0;Qr<tn.length;Qr++){var Sn=fr&&fr[Qr].xbnd?fr[Qr].xbnd:[null,null],En=tn[Qr];if(null!==Sn[0]&&En.left-Ut.l2p(Sn[0])<Fn||null!==Sn[1]&&Ut.l2p(Sn[1])-En.right<Fn){Ar=90;break}}}Ar&&Cr(dr,Ar)}}),Ut._tickAngles&&nn.push(function(){Ut._tickAngles[_e]=null===Ar?y(Re)?Re:0:Ar});var Ur=function(){var yr=0,tn=0;return dr.each(function(Qr,dn){var En,Fn=gr(this);Fn.select(".text-math-group").empty()&&(Ut._vals[dn]&&(En=Ut._vals[dn].bb||s.bBox(Fn.node()),Ut._vals[dn].bb=En),yr=Math.max(yr,En.width),tn=Math.max(tn,En.height))}),{labelsMaxW:yr,labelsMaxH:tn}},Tn=Ut._anchorAxis;if(Tn&&(Tn.autorange||Tn.insiderange)&&Ze(Ut)&&!Z(Le,Ut._id)&&(Le._insideTickLabelsUpdaterange||(Le._insideTickLabelsUpdaterange={}),Tn.autorange&&(Le._insideTickLabelsUpdaterange[Tn._name+".autorange"]=Tn.autorange,nn.push(Ur)),Tn.insiderange)){var bn=Ur(),ur="y"===Ut._id.charAt(0)?bn.labelsMaxW:bn.labelsMaxH;ur+=6,"inside"===Ut.ticklabelposition&&(ur+=Ut.ticklen||0);var Mr="right"===Ut.side||"top"===Ut.side?1:-1,Br=1===Mr?1:0,Or=1===Mr?0:1,sn=[];sn[Or]=Tn.range[Or];var pn=Tn.range,gn=Tn.d2p(pn[Br]),wn=Tn.d2p(pn[Or]),Rn=Le._insideTickLabelsUpdaterange[Tn._name+".range"];if(Rn){var Kn=Tn.d2p(Rn[Br]),_n=Tn.d2p(Rn[Or]),ua=Mr*("y"===Ut._id.charAt(0)?1:-1);ua*gn<ua*Kn&&(gn=Kn,sn[Br]=pn[Br]=Rn[Br]),ua*wn>ua*_n&&(wn=_n,sn[Or]=pn[Or]=Rn[Or])}var qn=Math.abs(wn-gn);qn-ur>0?ur*=1+ur/(qn-=ur):ur=0,"y"!==Ut._id.charAt(0)&&(ur=-ur),sn[Br]=Tn.p2d(Tn.d2p(pn[Br])+Mr*ur),"min"===Tn.autorange||"max reversed"===Tn.autorange?(sn[0]=null,Tn._rangeInitial0=void 0,Tn._rangeInitial1=void 0):("max"===Tn.autorange||"min reversed"===Tn.autorange)&&(sn[1]=null,Tn._rangeInitial0=void 0,Tn._rangeInitial1=void 0),Le._insideTickLabelsUpdaterange[Tn._name+".range"]=sn}var Qn=L.syncOrAsync(nn);return Qn&&Qn.then&&Ot._promises.push(Qn),Qn},K.getPxPosition=function(Ot,Ut){var _e,Ce=Ot._fullLayout._size,Le=Ut._id.charAt(0),Xe=Ut.side;return"free"!==Ut.anchor?_e=Ut._anchorAxis:"x"===Le?_e={_offset:Ce.t+(1-(Ut.position||0))*Ce.h,_length:0}:"y"===Le&&(_e={_offset:Ce.l+(Ut.position||0)*Ce.w+Ut._shift,_length:0}),"top"===Xe||"left"===Xe?_e._offset:"bottom"===Xe||"right"===Xe?_e._offset+_e._length:void 0},K.shouldShowZeroLine=function(Ot,Ut,Ce){var Le=L.simpleMap(Ut.range,Ut.r2l);return Le[0]*Le[1]<=0&&Ut.zeroline&&("linear"===Ut.type||"-"===Ut.type)&&!(Ut.rangebreaks&&Ut.maskBreaks(0)===F)&&(ce(Ut,0)||!function Ue(Ot,Ut,Ce,Le){var Xe=Ce._mainAxis;if(Xe){var _e=Ot._fullLayout,fr=Ut._id.charAt(0),$e=K.counterLetter(Ut._id),Re=Ut._offset+(Math.abs(Le[0])<Math.abs(Le[1])==("x"===fr)?0:Ut._length),dr=_e._plots[Ce._mainSubplot];if(!(dr.mainplotinfo||dr).overlays.length)return or(Ce);for(var pr=K.list(Ot,$e),Cr=0;Cr<pr.length;Cr++){var $r=pr[Cr];if($r._mainAxis===Xe&&or($r))return!0}}function or(Ar){if(!Ar.showline||!Ar.linewidth)return!1;var Gr=Math.max((Ar.linewidth+Ut.zerolinewidth)/2,1);function nn(bn){return"number"==typeof bn&&Math.abs(bn-Re)<Gr}if(nn(Ar._mainLinePosition)||nn(Ar._mainMirrorPosition))return!0;var Ur=Ar._linepositions||{};for(var Tn in Ur)if(nn(Ur[Tn][0])||nn(Ur[Tn][1]))return!0}}(Ot,Ut,Ce,Le)||function Ye(Ot,Ut){for(var Ce=Ot._fullData,Le=Ut._mainSubplot,Xe=Ut._id.charAt(0),_e=0;_e<Ce.length;_e++){var fr=Ce[_e];if(!0===fr.visible&&fr.xaxis+fr.yaxis===Le&&(P.traceIs(fr,"bar-like")&&fr.orientation==={x:"h",y:"v"}[Xe]||fr.fill&&fr.fill.charAt(fr.fill.length-1)===Xe))return!0}return!1}(Ot,Ut))},K.clipEnds=function(Ot,Ut){return Ut.filter(function(Ce){return ce(Ot,Ce.x)})},K.allowAutoMargin=function(Ot){for(var Ut=K.list(Ot,"",!0),Ce=0;Ce<Ut.length;Ce++){var Le=Ut[Ce];Le.automargin&&(i.allowAutoMargin(Ot,tr(Le)),Le.mirror&&i.allowAutoMargin(Ot,he(Le))),P.getComponentMethod("rangeslider","isVisible")(Le)&&i.allowAutoMargin(Ot,ne(Le))}},K.swap=function(Ot,Ut){for(var Ce=function pe(Ot,Ut){var Le,Xe,Ce=[];for(Le=0;Le<Ut.length;Le++){var _e=[],fr=Ot._fullData[Ut[Le]].xaxis,$e=Ot._fullData[Ut[Le]].yaxis;if(fr&&$e){for(Xe=0;Xe<Ce.length;Xe++)(-1!==Ce[Xe].x.indexOf(fr)||-1!==Ce[Xe].y.indexOf($e))&&_e.push(Xe);if(!_e.length){Ce.push({x:[fr],y:[$e]});continue}var or,Re=Ce[_e[0]];if(_e.length>1)for(Xe=1;Xe<_e.length;Xe++)be(Re.x,(or=Ce[_e[Xe]]).x),be(Re.y,or.y);be(Re.x,[fr]),be(Re.y,[$e])}}return Ce}(Ot,Ut),Le=0;Le<Ce.length;Le++)Se(Ot,Ce[Le].x,Ce[Le].y)}},52976:function(tt,W,t){"use strict";var A=t(38248),y=t(3400),i=t(39032).BADNUM,P=y.isArrayOrTypedArray,L=y.isDateTime,l=y.cleanNumber,m=Math.round;function r(u,g){return g?A(u):"number"==typeof u}function a(u){return Math.max(1,(u-1)/1e3)}tt.exports=function(g,c,w){var d=g,o=w.noMultiCategory;if(P(d)&&!d.length)return"-";if(!o&&function f(u){return P(u[0])&&P(u[1])}(d))return"multicategory";if(o&&Array.isArray(d[0])){for(var v=[],M=0;M<d.length;M++)if(P(d[M]))for(var b=0;b<d[M].length;b++)v.push(d[M][b]);d=v}if(function s(u,g){for(var c=u.length,w=a(c),d=0,o=0,v={},M=0;M<c;M+=w){var E=u[m(M)],x=String(E);v[x]||(v[x]=1,L(E,g)&&d++,A(E)&&o++)}return d>2*o}(d,c))return"date";var E="strict"!==w.autotypenumbers;return function h(u,g){for(var c=u.length,w=a(c),d=0,o=0,v={},M=0;M<c;M+=w){var E=u[m(M)],x=String(E);if(!v[x]){v[x]=1;var S=typeof E;"boolean"===S?o++:(g?l(E)!==i:"number"===S)?d++:"string"===S&&o++}}return o>2*d}(d,E)?"category":function e(u,g){for(var c=u.length,w=0;w<c;w++)if(r(u[w],g))return!0;return!1}(d,E)?"linear":"-"}},28336:function(tt,W,t){"use strict";var A=t(38248),y=t(24040),i=t(3400),P=t(31780),L=t(51272),l=t(94724),m=t(26332),r=t(25404),e=t(95936),s=t(42568),a=t(22416),h=t(42136),f=t(96312),u=t(78344),g=t(33816).WEEKDAY_PATTERN,c=t(33816).HOUR_PATTERN;function w(v,M,b){function E(N,k){return i.coerce(v,M,l.rangebreaks,N,k)}if(E("enabled")){var S=E("bounds");if(S&&S.length>=2){var n,C,T="";if(2===S.length)for(n=0;n<2;n++)if(C=o(S[n])){T=g;break}var p=E("pattern",T);if(p===g)for(n=0;n<2;n++)(C=o(S[n]))&&(M.bounds[n]=S[n]=C-1);if(p)for(n=0;n<2;n++)switch(C=S[n],p){case g:if(!A(C))return void(M.enabled=!1);if((C=+C)!==Math.floor(C)||C<0||C>=7)return void(M.enabled=!1);M.bounds[n]=S[n]=C;break;case c:if(!A(C))return void(M.enabled=!1);if((C=+C)<0||C>24)return void(M.enabled=!1);M.bounds[n]=S[n]=C}if(!1===b.autorange){var F=b.range;if(F[0]<F[1]){if(S[0]<F[0]&&S[1]>F[1])return void(M.enabled=!1)}else if(S[0]>F[0]&&S[1]<F[1])return void(M.enabled=!1)}}else{var D=E("values");if(!D||!D.length)return void(M.enabled=!1);E("dvalue")}}}tt.exports=function(M,b,E,x,S){var N,T=x.letter,n=x.font||{},C=x.splomStash||{},p=E("visible",!x.visibleDflt),D=b.type||(b._template||{}).type||"-";"date"===D&&(y.getComponentMethod("calendars","handleDefaults")(M,b,"calendar",x.calendar),x.noTicklabelmode||(N=E("ticklabelmode")));var z="";(!x.noTicklabelposition||"multicategory"===D)&&(z=i.coerce(M,b,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===N?["outside","inside"]:"x"===T?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),x.noTicklabeloverflow||E("ticklabeloverflow",-1!==z.indexOf("inside")?"hide past domain":"category"===D||"multicategory"===D?"allow":"hide past div"),u(b,S),f(M,b,E,x),a(M,b,E,x),"category"!==D&&!x.noHover&&E("hoverformat");var B=E("color"),O=B!==l.color.dflt?B:n.color,U=C.label||S._dfltTitle[T];if(s(M,b,E,D,x),!p)return b;E("title.text",U),i.coerceFont(E,"title.font",{family:n.family,size:i.bigFont(n.size),color:O}),m(M,b,E,D);var G=x.hasMinor;if(G&&(P.newContainer(b,"minor"),m(M,b,E,D,{isMinor:!0})),e(M,b,E,D,x),r(M,b,E,x),G){var J=x.isMinor;x.isMinor=!0,r(M,b,E,x),x.isMinor=J}h(M,b,E,{dfltColor:B,bgColor:x.bgColor,showGrid:x.showGrid,hasMinor:G,attributes:l}),G&&!b.minor.ticks&&!b.minor.showgrid&&delete b.minor,(b.showline||b.ticks)&&E("mirror");var at,et="multicategory"===D;if(x.noTickson||"category"!==D&&!et||!b.ticks&&!b.showgrid||(et&&(at="boundaries"),"boundaries"===E("tickson",at)&&delete b.ticklabelposition),et&&E("showdividers")&&(E("dividercolor"),E("dividerwidth")),"date"===D)if(L(M,b,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:w}),b.rangebreaks.length){for(var j=0;j<b.rangebreaks.length;j++)if(b.rangebreaks[j].pattern===g){b._hasDayOfWeekBreaks=!0;break}if(u(b,S),S._has("scattergl")||S._has("splom"))for(var rt=0;rt<x.data.length;rt++){var H=x.data[rt];("scattergl"===H.type||"splom"===H.type)&&(H.visible=!1,i.warn(H.type+" traces do not work on axes with rangebreaks. Setting trace "+H.index+" to `visible: false`."))}}else delete b.rangebreaks;return b};var d={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function o(v){if("string"==typeof v)return d[v.substr(0,3).toLowerCase()]}},29736:function(tt,W,t){"use strict";var A=t(26880),y=A.FORMAT_LINK,i=A.DATE_FORMAT_LINK;function L(m,r){return["Sets the "+m+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+y+"."].join(" ")}function l(m,r){return L(m,r)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}tt.exports={axisHoverFormat:function P(m,r){return{valType:"string",dflt:"",editType:"none",description:(r?L:l)("hover text",m)+["By default the values are formatted using "+(r?"generic number format":"`"+m+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:L,descriptionWithDates:l}},79811:function(tt,W,t){"use strict";var A=t(24040),y=t(33816);function i(P,L){if(L&&L.length)for(var l=0;l<L.length;l++)if(L[l][P])return!0;return!1}W.id2name=function(L){if("string"==typeof L&&L.match(y.AX_ID_PATTERN)){var l=L.split(" ")[0].substr(1);return"1"===l&&(l=""),L.charAt(0)+"axis"+l}},W.name2id=function(L){if(L.match(y.AX_NAME_PATTERN)){var l=L.substr(5);return"1"===l&&(l=""),L.charAt(0)+l}},W.cleanId=function(L,l,m){var r=/( domain)$/.test(L);if("string"==typeof L&&L.match(y.AX_ID_PATTERN)&&(!l||L.charAt(0)===l)&&(!r||m)){var e=L.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===e&&(e=""),L.charAt(0)+e+(r&&m?" domain":"")}},W.list=function(P,L,l){var m=P._fullLayout;if(!m)return[];var s,r=W.listIds(P,L),e=new Array(r.length);for(s=0;s<r.length;s++){var a=r[s];e[s]=m[a.charAt(0)+"axis"+a.substr(1)]}if(!l){var h=m._subplots.gl3d||[];for(s=0;s<h.length;s++){var f=m[h[s]];L?e.push(f[L+"axis"]):e.push(f.xaxis,f.yaxis,f.zaxis)}}return e},W.listIds=function(P,L){var l=P._fullLayout;if(!l)return[];var m=l._subplots;return L?m[L+"axis"]:m.xaxis.concat(m.yaxis)},W.getFromId=function(P,L,l){var m=P._fullLayout;return L=void 0===L||"string"!=typeof L?L:L.replace(" domain",""),"x"===l?L=L.replace(/y[0-9]*/,""):"y"===l&&(L=L.replace(/x[0-9]*/,"")),m[W.id2name(L)]},W.getFromTrace=function(P,L,l){var m=P._fullLayout,r=null;if(A.traceIs(L,"gl3d")){var e=L.scene;"scene"===e.substr(0,5)&&(r=m[e][l+"axis"])}else r=W.getFromId(P,L[l+"axis"]||l);return r},W.idSort=function(P,L){var l=P.charAt(0),m=L.charAt(0);return l!==m?l>m?1:-1:+(P.substr(1)||1)-+(L.substr(1)||1)},W.ref2id=function(P){return!!/^[xyz]/.test(P)&&P.split(" ")[0]},W.isLinked=function(P,L){return i(L,P._axisMatchGroups)||i(L,P._axisConstraintGroups)}},22416:function(tt,W,t){"use strict";var A=t(38116).isTypedArraySpec;tt.exports=function(P,L,l,m){if("category"===L.type){var s,r=P.categoryarray,e=Array.isArray(r)&&r.length>0||A(r);e&&(s="array");var h,a=l("categoryorder",s);"array"===a&&(h=l("categoryarray")),!e&&"array"===a&&(a=L.categoryorder="trace"),"trace"===a?L._initialCategories=[]:"array"===a?L._initialCategories=h.slice():(h=function y(i,P){var m,r,e,L=P.dataAttr||i._id.charAt(0),l={};if(P.axData)m=P.axData;else for(m=[],r=0;r<P.data.length;r++){var s=P.data[r];s[L+"axis"]===i._id&&m.push(s)}for(r=0;r<m.length;r++){var a=m[r][L];for(e=0;e<a.length;e++){var h=a[e];null!=h&&(l[h]=1)}}return Object.keys(l)}(L,m).sort(),"category ascending"===a?L._initialCategories=h:"category descending"===a&&(L._initialCategories=h.reverse()))}}},98728:function(tt,W,t){"use strict";var A=t(38248),y=t(3400),i=t(39032),P=i.ONEDAY,L=i.ONEWEEK;W.dtick=function(l,m){var r="log"===m,e="date"===m,s="category"===m,a=e?P:1;if(!l)return a;if(A(l))return(l=Number(l))<=0?a:s?Math.max(1,Math.round(l)):e?Math.max(.1,l):l;if("string"!=typeof l||!e&&!r)return a;var h=l.charAt(0),f=l.substr(1);return(f=A(f)?Number(f):0)<=0||!(e&&"M"===h&&f===Math.round(f)||r&&"L"===h||r&&"D"===h&&(1===f||2===f))?a:l},W.tick0=function(l,m,r,e){return"date"===m?y.cleanDate(l,y.dateTick0(r,e%L==0?1:0)):"D1"!==e&&"D2"!==e?A(l)?Number(l):0:void 0}},33816:function(tt,W,t){"use strict";var A=t(53756).counter;tt.exports={idRegex:{x:A("x","( domain)?"),y:A("y","( domain)?")},attrRegex:A("[xy]axis"),xAxisMatch:A("xaxis"),yAxisMatch:A("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(tt,W,t){"use strict";var A=t(3400),y=t(19280),i=t(79811).id2name,P=t(94724),L=t(21160),l=t(78344),m=t(39032).ALMOST_EQUAL,r=t(84284).FROM_BL;function e(c,w,d){var o=d.axIds,v=d.layoutOut,M=d.hasImage,b=v._axisConstraintGroups,E=v._axisMatchGroups,x=w._id,S=x.charAt(0),T=((v._splomAxes||{})[S]||{})[x]||{},n=w._id,C="x"===n.charAt(0);function p(j,rt){return A.coerce(c,w,P,j,rt)}w._matchGroup=null,w._constraintGroup=null,p("constrain",M?"domain":"range"),A.coerce(c,w,{constraintoward:{valType:"enumerated",values:C?["left","center","right"]:["bottom","middle","top"],dflt:C?"center":"middle"}},"constraintoward");var D,N,F=w.type,k=[];for(D=0;D<o.length;D++)(N=o[D])!==n&&v[i(N)].type===F&&k.push(N);var B=a(b,n);if(B){var O=[];for(D=0;D<k.length;D++)B[N=k[D]]||O.push(N);k=O}var G,J,U=k.length;U&&(c.matches||T.matches)&&(G=A.coerce(c,w,{matches:{valType:"enumerated",values:k,dflt:-1!==k.indexOf(T.matches)?T.matches:void 0}},"matches"));var et=M&&!C?w.anchor:void 0;if(U&&!G&&(c.scaleanchor||et)&&(J=A.coerce(c,w,{scaleanchor:{valType:"enumerated",values:k.concat([!1])}},"scaleanchor",et)),G){w._matchGroup=h(E,n,G,1);var at=v[i(G)],lt=s(v,w)/s(v,at);C!==("x"===G.charAt(0))&&(lt=(C?"x":"y")+lt),h(b,n,G,lt)}else c.matches&&-1!==o.indexOf(c.matches)&&A.warn("ignored "+w._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(J){var K=p("scaleratio");K||(K=w.scaleratio=1),h(b,n,J,K)}else c.scaleanchor&&-1!==o.indexOf(c.scaleanchor)&&A.warn("ignored "+w._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function s(c,w){var d=w.domain;return d||(d=c[i(w.overlaying)].domain),d[1]-d[0]}function a(c,w){for(var d=0;d<c.length;d++)if(c[d][w])return c[d];return null}function h(c,w,d,o){var v,M,b,E,x,S=a(c,w);null===S?((S={})[w]=1,x=c.length,c.push(S)):x=c.indexOf(S);var T=Object.keys(S);for(v=0;v<c.length;v++)if(b=c[v],v!==x&&b[d]){var n=b[d];for(M=0;M<T.length;M++)b[E=T[M]]=f(n,f(o,S[E]));return void c.splice(x,1)}if(1!==o)for(M=0;M<T.length;M++){var C=T[M];S[C]=f(o,S[C])}S[d]=1}function f(c,w){var v,M,d="",o="";"string"==typeof c&&(d=c.match(/^[xy]*/)[0],c=+c.substr(v=d.length)),"string"==typeof w&&(o=w.match(/^[xy]*/)[0],w=+w.substr(M=o.length));var b=c*w;return v||M?v&&M&&d.charAt(0)!==o.charAt(0)?v===M?b:(v>M?d.substr(M):o.substr(v))+b:d+o+c*w:b}function u(c,w){for(var d=w._size,o=d.h/d.w,v={},M=Object.keys(c),b=0;b<M.length;b++){var E=M[b],x=c[E];if("string"==typeof x){var S=x.match(/^[xy]*/)[0],T=S.length;x=+x.substr(T);for(var n="y"===S.charAt(0)?o:1/o,C=0;C<T;C++)x*=n}v[E]=x}return v}function g(c,w){var d=c._inputDomain,v=d[0]+(d[1]-d[0])*r[c.constraintoward];c.domain=c._input.domain=[v+(d[0]-v)/w,v+(d[1]-v)/w],c.setScale()}W.handleDefaults=function(c,w,d){var E,x,S,T,n,C,p,F,o=d.axIds,v=d.axHasImage,M=w._axisConstraintGroups=[],b=w._axisMatchGroups=[];for(E=0;E<o.length;E++)e(n=c[T=i(o[E])],C=w[T],{axIds:o,layoutOut:w,hasImage:v[T]});function D(et,at){for(E=0;E<et.length;E++)for(S in x=et[E])w[i(S)][at]=x}for(D(b,"_matchGroup"),E=0;E<M.length;E++)for(S in x=M[E])if((C=w[i(S)]).fixedrange){for(var N in x){var k=i(N);!1===(c[k]||{}).fixedrange&&A.warn("fixedrange was specified as false for axis "+k+" but was overridden because another axis in its constraint group has fixedrange true"),w[k].fixedrange=!0}break}for(E=0;E<M.length;){for(S in x=M[E]){(C=w[i(S)])._matchGroup&&Object.keys(C._matchGroup).length===Object.keys(x).length&&(M.splice(E,1),E--);break}E++}D(M,"_constraintGroup");var z=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],B=!1,O=!1;function U(){F=C[p],"rangebreaks"===p&&(O=C._hasDayOfWeekBreaks)}for(E=0;E<b.length;E++){x=b[E];for(var G=0;G<z.length;G++){var J;for(S in p=z[G],F=null,x)if(n=c[T=i(S)],p in(C=w[T])){if(!C.matches&&(J=C,p in n)){U();break}null===F&&p in n&&U()}if("range"===p&&F&&n.range&&2===n.range.length&&null!==n.range[0]&&null!==n.range[1]&&(B=!0),"autorange"===p&&null===F&&B&&(F=!1),null===F&&p in J&&(F=J[p]),null!==F)for(S in x)(C=w[i(S)])[p]="range"===p?F.slice():F,"rangebreaks"===p&&(C._hasDayOfWeekBreaks=O,l(C,w))}}},W.enforce=function(w){var v,M,b,E,x,S,T,n,d=w._fullLayout,o=d._axisConstraintGroups||[];for(v=0;v<o.length;v++){b=u(o[v],d);var C=Object.keys(b),p=1/0,F=0,D=1/0,N={},k={},z=!1;for(M=0;M<C.length;M++)k[E=C[M]]=x=d[i(E)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),N[E]=S=Math.abs(x._m)/b[E],p=Math.min(p,S),("domain"===x.constrain||!x._constraintShrinkable)&&(D=Math.min(D,S)),delete x._constraintShrinkable,F=Math.max(F,S),"domain"===x.constrain&&(z=!0);if(!(p>m*F)||z)for(M=0;M<C.length;M++)if(T=(x=k[E=C[M]]).constrain,(S=N[E])!==D||"domain"===T)if(n=S/D,"range"===T)L(x,n);else{var B=x._inputDomain,O=(x.domain[1]-x.domain[0])/(B[1]-B[0]),U=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if((n/=O)*U<1){x.domain=x._input.domain=B.slice(),L(x,n);continue}if(U<1&&(x.range=x._input.range=x._inputRange.slice(),n*=U),x.autorange){var G=x.r2l(x.range[0]),J=x.r2l(x.range[1]),et=(G+J)/2,at=et,lt=et,K=Math.abs(J-et),j=et-K*n*1.0001,rt=et+K*n*1.0001,H=y.makePadFn(d,x,0),Z=y.makePadFn(d,x,1);g(x,n);var _,st,it=Math.abs(x._m),Q=y.concatExtremes(w,x),Y=Q.min,nt=Q.max;for(st=0;st<Y.length;st++)(_=Y[st].val-H(Y[st])/it)>j&&_<at&&(at=_);for(st=0;st<nt.length;st++)(_=nt[st].val+Z(nt[st])/it)<rt&&_>lt&&(lt=_);n/=(lt-at)/(2*K),at=x.l2r(at),lt=x.l2r(lt),x.range=x._input.range=G<J?[at,lt]:[lt,at]}g(x,n)}}},W.getAxisGroup=function(w,d){for(var o=w._axisMatchGroups,v=0;v<o.length;v++)if(o[v][d])return"g"+v;return d},W.clean=function(w,d){if(d._inputDomain){for(var o=!1,v=d._id,M=w._fullLayout._axisConstraintGroups,b=0;b<M.length;b++)if(M[b][v]){o=!0;break}(!o||"domain"!==d.constrain)&&(d._input.domain=d.domain=d._inputDomain,delete d._inputDomain)}}},51184:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=y.numberFormat,P=t(49760),L=t(89184),l=t(24040),m=y.strTranslate,r=t(72736),e=t(76308),s=t(43616),a=t(93024),h=t(54460),f=t(93972),u=t(86476),g=t(72760),c=g.selectingOrDrawing,w=g.freeMode,d=t(84284).FROM_TL,o=t(73696),v=t(39172).redrawReglTraces,M=t(7316),b=t(79811).getFromId,E=t(22676).prepSelect,x=t(22676).clearOutline,S=t(22676).selectOnClick,T=t(21160),n=t(33816),C=n.MINDRAG,p=n.MINZOOM,F=!0;function N(_,st,dt,xt){var yt=y.ensureSingle(_.draglayer,st,dt,function(St){St.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",_.id)});return yt.call(f,xt),yt.node()}function k(_,st,dt,xt,yt,St,Et){var Tt=N(_,"rect",st,dt);return A.select(Tt).call(s.setRect,xt,yt,St,Et),Tt}function z(_,st){for(var dt=0;dt<_.length;dt++)if(!_[dt].fixedrange)return st;return""}function O(_,st,dt,xt,yt){for(var St=0;St<_.length;St++){var Et=_[St];if(!Et.fixedrange)if(Et.rangebreaks){var Tt="y"===Et._id.charAt(0),Mt=Tt?1-dt:dt;xt[Et._name+".range[0]"]=Et.l2r(Et.p2l((Tt?1-st:st)*Et._length)),xt[Et._name+".range[1]"]=Et.l2r(Et.p2l(Mt*Et._length))}else{var Nt=Et._rl[0],Gt=Et._rl[1]-Nt;xt[Et._name+".range[0]"]=Et.l2r(Nt+Gt*st),xt[Et._name+".range[1]"]=Et.l2r(Nt+Gt*dt)}}if(yt&&yt.length){var Pt=(st+(1-dt))/2;O(yt,Pt,1-Pt,xt,[])}}function U(_,st){for(var dt=0;dt<_.length;dt++){var xt=_[dt];if(!xt.fixedrange){if(xt.rangebreaks){var St=xt._length,gt=(xt.p2l(0+st)-xt.p2l(0)+(xt.p2l(St+st)-xt.p2l(St)))/2;xt.range=[xt.l2r(xt._rl[0]-gt),xt.l2r(xt._rl[1]-gt)]}else xt.range=[xt.l2r(xt._rl[0]-st/xt._m),xt.l2r(xt._rl[1]-st/xt._m)];xt.limitRange&&xt.limitRange()}}}function G(_){return 1-(_>=0?Math.min(_,.9):1/(1/Math.max(_,-.3)+3.222))}function et(_,st,dt,xt,yt){return _.append("path").attr("class","zoombox").style({fill:st>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",m(dt,xt)).attr("d",yt+"Z")}function at(_,st,dt){return _.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1,opacity:0}).attr("transform",m(st,dt)).attr("d","M0,0Z")}function lt(_,st,dt,xt,yt,St){_.attr("d",xt+"M"+dt.l+","+dt.t+"v"+dt.h+"h"+dt.w+"v-"+dt.h+"h-"+dt.w+"Z"),K(_,st,yt,St)}function K(_,st,dt,xt){dt||(_.transition().style("fill",xt>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),st.transition().style("opacity",1).duration(200))}function j(_){A.select(_).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function rt(_){F&&_.data&&_._context.showTips&&(y.notifier(y._(_,"Double-click to zoom back out"),"long"),F=!1)}function it(_){var st=Math.floor(Math.min(_.b-_.t,_.r-_.l,p)/2);return"M"+(_.l-3.5)+","+(_.t-.5+st)+"h3v"+-st+"h"+st+"v-3h-"+(st+3)+"ZM"+(_.r+3.5)+","+(_.t-.5+st)+"h-3v"+-st+"h"+-st+"v-3h"+(st+3)+"ZM"+(_.r+3.5)+","+(_.b+.5-st)+"h-3v"+st+"h"+-st+"v3h"+(st+3)+"ZM"+(_.l-3.5)+","+(_.b+.5-st)+"h3v"+st+"h"+st+"v3h-"+(st+3)+"Z"}function Q(_,st,dt,xt,yt){for(var gt,Mt,Nt,Gt,St=!1,Et={},Tt={},Pt=(yt||{}).xaHash,Vt=(yt||{}).yaHash,re=0;re<st.length;re++){var le=st[re];for(gt in dt)if(le[gt]){for(Nt in le)(!yt||!Pt[Nt]&&!Vt[Nt])&&!("x"===Nt.charAt(0)?dt:xt)[Nt]&&(Et[Nt]=gt);for(Mt in xt)(!yt||!Pt[Mt]&&!Vt[Mt])&&le[Mt]&&(St=!0)}for(Mt in xt)if(le[Mt])for(Gt in le)(!yt||!Pt[Gt]&&!Vt[Gt])&&!("x"===Gt.charAt(0)?dt:xt)[Gt]&&(Tt[Gt]=Mt)}St&&(y.extendFlat(Et,Tt),Tt={});var It={},Rt=[];for(Nt in Et){var $t=b(_,Nt);Rt.push($t),It[$t._id]=$t}var oe={},se=[];for(Gt in Tt){var ve=b(_,Gt);se.push(ve),oe[ve._id]=ve}return{xaHash:It,yaHash:oe,xaxes:Rt,yaxes:se,xLinks:Et,yLinks:Tt,isSubplotConstrained:St}}function Y(_,st){if(L){var dt=void 0!==_.onwheel?"wheel":"mousewheel";_._onwheel&&_.removeEventListener(dt,_._onwheel),_._onwheel=st,_.addEventListener(dt,st,{passive:!1})}else void 0!==_.onwheel?_.onwheel=st:void 0!==_.onmousewheel?_.onmousewheel=st:_.isAddedWheelEvent||(_.isAddedWheelEvent=!0,_.addEventListener("wheel",st,{passive:!1}))}function nt(_){var st=[];for(var dt in _)st.push(_[dt]);return st}tt.exports={makeDragBox:function D(_,st,dt,xt,yt,St,Et,Tt){var Gt,Pt,Vt,re,le,It,Rt,$t,oe,se,ve,de,jt,Ct,Wt,Xt,Ht,Bt,zt,kt,wt,ft,pt,gt=_._fullLayout._zoomlayer,Mt=Et+Tt==="nsew",Nt=1===(Et+Tt).length;function Dt(){if(oe=(Gt=st.xaxis)._length,se=(Pt=st.yaxis)._length,Rt=Gt._offset,$t=Pt._offset,(Vt={})[Gt._id]=Gt,(re={})[Pt._id]=Pt,Et&&Tt)for(var $e=st.overlays,Re=0;Re<$e.length;Re++){var or=$e[Re].xaxis;Vt[or._id]=or;var dr=$e[Re].yaxis;re[dr._id]=dr}le=nt(Vt),It=nt(re),jt=z(le,Tt),Ct=z(It,Et),Wt=!Ct&&!jt,de=Q(_,_._fullLayout._axisMatchGroups,Vt,re);var pr=(ve=Q(_,_._fullLayout._axisConstraintGroups,Vt,re,de)).isSubplotConstrained||de.isSubplotConstrained;Xt=Tt||pr,Ht=Et||pr;var Cr=_._fullLayout;Bt=Cr._has("scattergl"),zt=Cr._has("splom"),kt=Cr._has("svg")}dt+=st.yaxis._shift,Dt();var Qt=function J(_,st,dt){return _?"nsew"===_?dt?"":"pan"===st?"move":"crosshair":_.toLowerCase()+"-resize":"pointer"}(Ct+jt,_._fullLayout.dragmode,Mt),te=k(st,Et+Tt+"drag",Qt,dt,xt,yt,St);if(Wt&&!Mt)return te.onmousedown=null,te.style.pointerEvents="none",te;var ye,Te,Ge,hr,ce,Ue,Ye,gr,tr,he,ee={element:te,gd:_,plotinfo:st};function Ne(){ee.plotinfo.selection=!1,x(_)}function We($e,Re){var or=ee.gd;if(or._fullLayout._activeShapeIndex>=0)or._fullLayout._deactivateShape(or);else{var dr=or._fullLayout.clickmode;if(j(or),2===$e&&!Nt&&function Ut(){if(!_._transitioningWithDuration){var $e=_._context.doubleClick,Re=[];jt&&(Re=Re.concat(le)),Ct&&(Re=Re.concat(It)),de.xaxes&&(Re=Re.concat(de.xaxes)),de.yaxes&&(Re=Re.concat(de.yaxes));var dr,pr,or={};if("reset+autosize"===$e)for($e="autosize",pr=0;pr<Re.length;pr++){var Cr=(dr=Re[pr])._rangeInitial0,$r=dr._rangeInitial1,Ar=void 0!==Cr||void 0!==$r;if(Ar&&(void 0!==Cr&&Cr!==dr.range[0]||void 0!==$r&&$r!==dr.range[1])||!Ar&&!0!==dr.autorange){$e="reset";break}}if("autosize"===$e)for(pr=0;pr<Re.length;pr++)(dr=Re[pr]).fixedrange||(or[dr._name+".autorange"]=!0);else if("reset"===$e)for((jt||ve.isSubplotConstrained)&&(Re=Re.concat(ve.xaxes)),Ct&&!ve.isSubplotConstrained&&(Re=Re.concat(ve.yaxes)),ve.isSubplotConstrained&&(jt?Ct||(Re=Re.concat(It)):Re=Re.concat(le)),pr=0;pr<Re.length;pr++)if(!(dr=Re[pr]).fixedrange){var Gr=dr._name,nn=dr._autorangeInitial;void 0===dr._rangeInitial0&&void 0===dr._rangeInitial1?or[Gr+".autorange"]=!0:void 0===dr._rangeInitial0?(or[Gr+".autorange"]=nn,or[Gr+".range"]=[null,dr._rangeInitial1]):void 0===dr._rangeInitial1?(or[Gr+".range"]=[dr._rangeInitial0,null],or[Gr+".autorange"]=nn):or[Gr+".range"]=[dr._rangeInitial0,dr._rangeInitial1]}_.emit("plotly_doubleclick",null),l.call("_guiRelayout",_,or)}}(),Mt)dr.indexOf("select")>-1&&S(Re,or,le,It,st.id,ee),dr.indexOf("event")>-1&&a.click(or,Re,st.id);else if(1===$e&&Nt){var pr=Et?Pt:Gt,Cr="s"===Et||"w"===Tt?0:1,$r=pr._name+".range["+Cr+"]",Ar=function B(_,st){var yt,dt=_.range[st],xt=Math.abs(dt-_.range[1-st]);return"date"===_.type?dt:"log"===_.type?(yt=Math.ceil(Math.max(0,-Math.log(xt)/Math.LN10))+3,i("."+yt+"g")(Math.pow(10,dt))):(yt=Math.floor(Math.log(Math.abs(dt))/Math.LN10)-Math.floor(Math.log(xt)/Math.LN10)+4,i("."+String(yt)+"g")(dt))}(pr,Cr),Gr="left",nn="middle";if(pr.fixedrange)return;Et?(nn="n"===Et?"top":"bottom","right"===pr.side&&(Gr="right")):"e"===Tt&&(Gr="right"),or._context.showAxisRangeEntryBoxes&&A.select(te).call(r.makeEditable,{gd:or,immediate:!0,background:or._fullLayout.paper_bgcolor,text:String(Ar),fill:pr.tickfont?pr.tickfont.color:"#444",horizontalAlign:Gr,verticalAlign:nn}).on("edit",function(Ur){var Tn=pr.d2r(Ur);void 0!==Tn&&l.call("_guiRelayout",or,$r,Tn)})}}}function pe($e,Re){if(_._transitioningWithDuration)return!1;var or=Math.max(0,Math.min(oe,ft*$e+ye)),dr=Math.max(0,Math.min(se,pt*Re+Te)),pr=Math.abs(or-ye),Cr=Math.abs(dr-Te);function $r(){Ye="",Ge.r=Ge.l,Ge.t=Ge.b,tr.attr("d","M0,0Z")}if(Ge.l=Math.min(ye,or),Ge.r=Math.max(ye,or),Ge.t=Math.min(Te,dr),Ge.b=Math.max(Te,dr),ve.isSubplotConstrained)pr>p||Cr>p?(Ye="xy",pr/oe>Cr/se?(Cr=pr*se/oe,Te>dr?Ge.t=Te-Cr:Ge.b=Te+Cr):(pr=Cr*oe/se,ye>or?Ge.l=ye-pr:Ge.r=ye+pr),tr.attr("d",it(Ge))):$r();else if(de.isSubplotConstrained)if(pr>p||Cr>p){Ye="xy";var Ar=Math.min(Ge.l/oe,(se-Ge.b)/se),Gr=Math.max(Ge.r/oe,(se-Ge.t)/se);Ge.l=Ar*oe,Ge.r=Gr*oe,Ge.b=(1-Ar)*se,Ge.t=(1-Gr)*se,tr.attr("d",it(Ge))}else $r();else!Ct||Cr<Math.min(Math.max(.6*pr,C),p)?pr<C||!jt?$r():(Ge.t=0,Ge.b=se,Ye="x",tr.attr("d",function H(_,st){return"M"+(_.l-.5)+","+(st-p-.5)+"h-3v"+(2*p+1)+"h3ZM"+(_.r+.5)+","+(st-p-.5)+"h3v"+(2*p+1)+"h-3Z"}(Ge,Te))):!jt||pr<Math.min(.6*Cr,p)?(Ge.l=0,Ge.r=oe,Ye="y",tr.attr("d",function Z(_,st){return"M"+(st-p-.5)+","+(_.t-.5)+"v-3h"+(2*p+1)+"v3ZM"+(st-p-.5)+","+(_.b+.5)+"v3h"+(2*p+1)+"v-3Z"}(Ge,ye))):(Ye="xy",tr.attr("d",it(Ge)));Ge.w=Ge.r-Ge.l,Ge.h=Ge.b-Ge.t,Ye&&(he=!0),_._dragged=he,lt(gr,tr,Ge,ce,Ue,hr),be(),_.emit("plotly_relayouting",wt),Ue=!0}function be(){wt={},("xy"===Ye||"x"===Ye)&&(O(le,Ge.l/oe,Ge.r/oe,wt,ve.xaxes),lr("x",wt)),("xy"===Ye||"y"===Ye)&&(O(It,(se-Ge.b)/se,(se-Ge.t)/se,wt,ve.yaxes),lr("y",wt))}function Se(){be(),j(_),Ce(),rt(_)}ee.prepFn=function($e,Re,or){var dr=ee.dragmode,pr=_._fullLayout.dragmode;pr!==dr&&(ee.dragmode=pr),Dt(),ft=_._fullLayout._invScaleX,pt=_._fullLayout._invScaleY,Wt||(Mt?$e.shiftKey?"pan"===pr?pr="zoom":c(pr)||(pr="pan"):$e.ctrlKey&&(pr="pan"):pr="pan"),ee.minDrag=w(pr)?1:void 0,c(pr)?(ee.xaxes=le,ee.yaxes=It,E($e,Re,or,ee,pr)):(ee.clickFn=We,c(dr)&&Ne(),Wt||("zoom"===pr?(ee.moveFn=pe,ee.doneFn=Se,ee.minDrag=1,function ne($e,Re,or){var dr=te.getBoundingClientRect();ye=Re-dr.left,Te=or-dr.top,_._fullLayout._calcInverseTransform(_);var pr=y.apply3DTransform(_._fullLayout._invTransform)(ye,Te);Ge={l:ye=pr[0],r:ye,w:0,t:Te=pr[1],b:Te,h:0},hr=_._hmpixcount?_._hmlumcount/_._hmpixcount:P(_._fullLayout.plot_bgcolor).getLuminance(),Ue=!1,Ye="xy",he=!1,gr=et(gt,hr,Rt,$t,ce="M0,0H"+oe+"V"+se+"H0V0"),tr=at(gt,Rt,$t)}(0,Re,or)):"pan"===pr&&(ee.moveFn=ir,ee.doneFn=Ce))),_._fullLayout._redrag=function(){var Cr=_._dragdata;Cr&&Cr.element===te&&(c(_._fullLayout.dragmode)||(Dt(),Le([0,0,oe,se]),ee.moveFn(Cr.dx,Cr.dy)))}},u.init(ee);var Me=[0,0,oe,se],Ie=null,Fe=n.REDRAWDELAY,Ze=st.mainplot?_._fullLayout._plots[st.mainplot]:st;function ir($e,Re){if($e*=ft,Re*=pt,!_._transitioningWithDuration){if(_._fullLayout._replotting=!0,"ew"===jt||"ns"===Ct){var or=jt?-$e:0,dr=Ct?-Re:0;if(de.isSubplotConstrained){if(jt&&Ct){var pr=($e/oe-Re/se)/2;or=-($e=pr*oe),dr=-(Re=-pr*se)}Ct?or=-dr*oe/se:dr=-or*se/oe}return jt&&(U(le,$e),lr("x")),Ct&&(U(It,Re),lr("y")),Le([or,dr,oe,se]),Ot(),void _.emit("plotly_relayouting",wt)}var Gr,nn,$r="w"===jt==("n"===Ct)?1:-1;if(jt&&Ct&&(ve.isSubplotConstrained||de.isSubplotConstrained)){var Ar=($e/oe+$r*Re/se)/2;$e=Ar*oe,Re=$r*Ar*se}if("w"===jt?$e=Cr(le,0,$e):"e"===jt?$e=Cr(le,1,-$e):jt||($e=0),"n"===Ct?Re=Cr(It,1,Re):"s"===Ct?Re=Cr(It,0,-Re):Ct||(Re=0),Gr="w"===jt?$e:0,nn="n"===Ct?Re:0,ve.isSubplotConstrained&&!de.isSubplotConstrained||de.isSubplotConstrained&&jt&&Ct&&$r>0){var Ur;if(de.isSubplotConstrained||!jt&&1===Ct.length){for(Ur=0;Ur<le.length;Ur++)le[Ur].range=le[Ur]._r.slice(),T(le[Ur],1-Re/se);Gr=($e=Re*oe/se)/2}if(de.isSubplotConstrained||!Ct&&1===jt.length){for(Ur=0;Ur<It.length;Ur++)It[Ur].range=It[Ur]._r.slice(),T(It[Ur],1-$e/oe);nn=(Re=$e*se/oe)/2}}(!de.isSubplotConstrained||!Ct)&&lr("x"),(!de.isSubplotConstrained||!jt)&&lr("y");var Tn=oe-$e,bn=se-Re;de.isSubplotConstrained&&!(jt&&Ct)&&(jt?(nn=Gr?0:$e*se/oe,bn=Tn*se/oe):(Gr=nn?0:Re*oe/se,Tn=bn*oe/se)),Le([Gr,nn,Tn,bn]),Ot(),_.emit("plotly_relayouting",wt)}function Cr(ur,Mr,Br){for(var sn,pn,Or=1-Mr,gn=0;gn<ur.length;gn++){var wn=ur[gn];if(!wn.fixedrange){sn=wn,pn=wn._rl[Or]+(wn._rl[Mr]-wn._rl[Or])/G(Br/wn._length);var Rn=wn.l2r(pn);!1!==Rn&&void 0!==Rn&&(wn.range[Mr]=Rn)}}return sn._length*(sn._rl[Mr]-pn)/(sn._rl[Mr]-sn._rl[Or])}}function lr($e,Re){for(var or=de.isSubplotConstrained?{x:It,y:le}[$e]:de[$e+"axes"],dr=de.isSubplotConstrained?{x:le,y:It}[$e]:[],pr=0;pr<or.length;pr++){var Cr=or[pr],$r=Cr._id,Ar=de.xLinks[$r]||de.yLinks[$r],Gr=dr[0]||Vt[Ar]||re[Ar];Gr&&(Re?(Re[Cr._name+".range[0]"]=Re[Gr._name+".range[0]"],Re[Cr._name+".range[1]"]=Re[Gr._name+".range[1]"]):Cr.range=Gr.range.slice())}}function Ot(){var Re,$e=[];function or($r){for(Re=0;Re<$r.length;Re++)$r[Re].fixedrange||$e.push($r[Re]._id)}function dr($r,Ar){for(Re=0;Re<$r.length;Re++){var Gr=$r[Re],nn=Gr[Ar];!Gr.fixedrange&&"sync"===nn.tickmode&&$e.push(nn._id)}}for(Xt&&(or(le),or(ve.xaxes),or(de.xaxes),dr(st.overlays,"xaxis")),Ht&&(or(It),or(ve.yaxes),or(de.yaxes),dr(st.overlays,"yaxis")),wt={},Re=0;Re<$e.length;Re++){var Cr=b(_,$e[Re]);h.drawOne(_,Cr,{skipTitle:!0}),wt[Cr._name+".range[0]"]=Cr.range[0],wt[Cr._name+".range[1]"]=Cr.range[1]}h.redrawComponents(_,$e)}function Ce(){Le([0,0,oe,se]),y.syncOrAsync([M.previousPromises,function(){_._fullLayout._replotting=!1,l.call("_guiRelayout",_,wt)}],_)}function Le($e){var pr,Cr,$r,Ar,Re=_._fullLayout,or=Re._plots,dr=Re._subplots.cartesian;if(zt&&l.subplotsRegistry.splom.drag(_),Bt)for(pr=0;pr<dr.length;pr++)if($r=(Cr=or[dr[pr]]).xaxis,Ar=Cr.yaxis,Cr._scene){var Gr=y.simpleMap($r.range,$r.r2l),nn=y.simpleMap(Ar.range,Ar.r2l);$r.limitRange&&$r.limitRange(),Ar.limitRange&&Ar.limitRange(),Cr._scene.update({range:[(Gr=$r.range)[0],(nn=Ar.range)[0],Gr[1],nn[1]]})}if((zt||Bt)&&(o(_),v(_)),kt){var Ur=$e[2]/Gt._length,Tn=$e[3]/Pt._length;for(pr=0;pr<dr.length;pr++){$r=(Cr=or[dr[pr]]).xaxis,Ar=Cr.yaxis;var Mr,Br,Or,sn,ur=(Ht||de.isSubplotConstrained)&&!Ar.fixedrange&&re[Ar._id];if((Xt||de.isSubplotConstrained)&&!$r.fixedrange&&Vt[$r._id]?(Mr=Ur,Or=Tt||de.isSubplotConstrained?$e[0]:fr($r,Mr)):de.xaHash[$r._id]?(Mr=Ur,Or=$e[0]*$r._length/Gt._length):de.yaHash[$r._id]?(Mr=Tn,Or="ns"===Ct?-$e[1]*$r._length/Pt._length:fr($r,Mr,{n:"top",s:"bottom"}[Ct])):Or=_e($r,Mr=Xe($r,Ur,Tn)),Mr>1&&(void 0!==$r.maxallowed&&Xt===($r.range[0]<$r.range[1]?"e":"w")||void 0!==$r.minallowed&&Xt===($r.range[0]<$r.range[1]?"w":"e"))&&(Mr=1,Or=0),ur?(Br=Tn,sn=Et||de.isSubplotConstrained?$e[1]:fr(Ar,Br)):de.yaHash[Ar._id]?(Br=Tn,sn=$e[1]*Ar._length/Pt._length):de.xaHash[Ar._id]?(Br=Ur,sn="ew"===jt?-$e[0]*Ar._length/Gt._length:fr(Ar,Br,{e:"right",w:"left"}[jt])):sn=_e(Ar,Br=Xe(Ar,Ur,Tn)),Br>1&&(void 0!==Ar.maxallowed&&Ht===(Ar.range[0]<Ar.range[1]?"n":"s")||void 0!==Ar.minallowed&&Ht===(Ar.range[0]<Ar.range[1]?"s":"n"))&&(Br=1,sn=0),Mr||Br){Mr||(Mr=1),Br||(Br=1);var pn=$r._offset-Or/Mr,gn=Ar._offset-sn/Br;Cr.clipRect.call(s.setTranslate,Or,sn).call(s.setScale,Mr,Br),Cr.plot.call(s.setTranslate,pn,gn).call(s.setScale,1/Mr,1/Br),(Mr!==Cr.xScaleFactor||Br!==Cr.yScaleFactor)&&(s.setPointGroupScale(Cr.zoomScalePts,Mr,Br),s.setTextPointsScale(Cr.zoomScaleTxt,Mr,Br)),s.hideOutsideRangePoints(Cr.clipOnAxisFalseTraces,Cr),Cr.xScaleFactor=Mr,Cr.yScaleFactor=Br}}}}function Xe($e,Re,or){return $e.fixedrange?0:Xt&&ve.xaHash[$e._id]?Re:Ht&&(ve.isSubplotConstrained?ve.xaHash:ve.yaHash)[$e._id]?or:0}function _e($e,Re){return Re?($e.range=$e._r.slice(),T($e,Re),fr($e,Re)):0}function fr($e,Re,or){return $e._length*(1-Re)*d[or||$e.constraintoward||"middle"]}return Et.length*Tt.length!=1&&Y(te,function nr($e){if(_._context._scrollZoom.cartesian||_._fullLayout._enablescrollzoom){if(Ne(),_._transitioningWithDuration)return $e.preventDefault(),void $e.stopPropagation();Dt(),clearTimeout(Ie);var Re=-$e.deltaY;if(isFinite(Re)||(Re=$e.wheelDelta/10),isFinite(Re)){var $r,or=Math.exp(-Math.min(Math.max(Re,-20),20)/200),dr=Ze.draglayer.select(".nsewdrag").node().getBoundingClientRect(),pr=($e.clientX-dr.left)/dr.width,Cr=(dr.bottom-$e.clientY)/dr.height;if(Xt){for(Tt||(pr=.5),$r=0;$r<le.length;$r++)Ar(le[$r],pr,or);lr("x"),Me[2]*=or,Me[0]+=Me[2]*pr*(1/or-1)}if(Ht){for(Et||(Cr=.5),$r=0;$r<It.length;$r++)Ar(It[$r],Cr,or);lr("y"),Me[3]*=or,Me[1]+=Me[3]*(1-Cr)*(1/or-1)}Le(Me),Ot(),_.emit("plotly_relayouting",wt),Ie=setTimeout(function(){!_._fullLayout||(Me=[0,0,oe,se],Ce())},Fe),$e.preventDefault()}else y.log("Did not find wheel motion attributes: ",$e)}function Ar(Gr,nn,Ur){if(!Gr.fixedrange){var Tn=y.simpleMap(Gr.range,Gr.r2l),bn=Tn[0]+(Tn[1]-Tn[0])*nn;Gr.range=Tn.map(function ur(Mr){return Gr.l2r(bn+(Mr-bn)*Ur)})}}}),te},makeDragger:N,makeRectDragger:k,makeZoombox:et,makeCorners:at,updateZoombox:lt,xyCorners:it,transitionZoombox:K,removeZoombox:j,showDoubleClickNotifier:rt,attachWheelEventHandler:Y}},42464:function(tt,W,t){"use strict";var A=t(33428),y=t(93024),i=t(86476),P=t(93972),L=t(51184).makeDragBox,l=t(33816).DRAGGERSIZE;W.initInteractions=function(r){var e=r._fullLayout;if(r._context.staticPlot)A.select(r).selectAll(".drag").remove();else if(e._has("cartesian")||e._has("splom")){Object.keys(e._plots||{}).sort(function(h,f){if((e._plots[h].mainplot&&!0)===(e._plots[f].mainplot&&!0)){var u=h.split("y"),g=f.split("y");return u[0]===g[0]?Number(u[1]||1)-Number(g[1]||1):Number(u[0]||1)-Number(g[0]||1)}return e._plots[h].mainplot?1:-1}).forEach(function(h){var f=e._plots[h],u=f.xaxis,g=f.yaxis;if(!f.mainplot){var c=L(r,f,u._offset,g._offset,u._length,g._length,"ns","ew");c.onmousemove=function(o){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===h&&r._fullLayout._plots[h]&&y.hover(r,o,h)},y.hover(r,o,h),r._fullLayout._lasthover=c,r._fullLayout._hoversubplot=h},c.onmouseout=function(o){r._dragging||(r._fullLayout._hoversubplot=null,i.unhover(r,o))},r._context.showAxisDragHandles&&(L(r,f,u._offset-l,g._offset-l,l,l,"n","w"),L(r,f,u._offset+u._length,g._offset-l,l,l,"n","e"),L(r,f,u._offset-l,g._offset+g._length,l,l,"s","w"),L(r,f,u._offset+u._length,g._offset+g._length,l,l,"s","e"))}if(r._context.showAxisDragHandles){if(h===u._mainSubplot){var w=u._mainLinePosition;"top"===u.side&&(w-=l),L(r,f,u._offset+.1*u._length,w,.8*u._length,l,"","ew"),L(r,f,u._offset,w,.1*u._length,l,"","w"),L(r,f,u._offset+.9*u._length,w,.1*u._length,l,"","e")}if(h===g._mainSubplot){var d=g._mainLinePosition;"right"!==g.side&&(d-=l),L(r,f,d,g._offset+.1*g._length,l,.8*g._length,"ns",""),L(r,f,d,g._offset+.9*g._length,l,.1*g._length,"s",""),L(r,f,d,g._offset,l,.1*g._length,"n","")}}});var a=e._hoverlayer.node();a.onmousemove=function(h){h.target=r._fullLayout._lasthover,y.hover(r,h,e._hoversubplot)},a.onclick=function(h){h.target=r._fullLayout._lasthover,y.click(r,h)},a.onmousedown=function(h){r._fullLayout._lasthover.onmousedown(h)},W.updateFx(r)}},W.updateFx=function(m){var r=m._fullLayout;P(r._draggers,"pan"===r.dragmode?"move":"crosshair")}},36632:function(tt,W,t){"use strict";var A=t(24040),y=t(3400),i=t(79811);tt.exports=function(L){return function(m,r){var e=m[L];if(Array.isArray(e))for(var s=A.subplotsRegistry.cartesian,a=s.idRegex,h=r._subplots,f=h.xaxis,u=h.yaxis,g=h.cartesian,c=r._has("cartesian")||r._has("gl2d"),w=0;w<e.length;w++){var d=e[w];if(y.isPlainObject(d)){var o=i.cleanId(d.xref,"x",!1),v=i.cleanId(d.yref,"y",!1),M=a.x.test(o),b=a.y.test(v);if(M||b){c||y.pushUnique(r._basePlotModules,s);var E=!1;M&&-1===f.indexOf(o)&&(f.push(o),E=!0),b&&-1===u.indexOf(v)&&(u.push(v),E=!0),E&&M&&b&&g.push(o+v)}}}}}},57952:function(tt,W,t){"use strict";var A=t(33428),y=t(24040),i=t(3400),P=t(7316),L=t(43616),l=t(84888)._M,m=t(79811),r=t(33816),e=t(9616),s=i.ensureSingle;function a(w,d,o){return i.ensureSingle(w,d,o,function(v){v.datum(o)})}function h(w,d,o,v,M){for(var S,T,n,b=r.traceLayerClasses,E=w._fullLayout,x=E._modules,C=[],p=[],F=0;F<x.length;F++){var D=(S=x[F]).name,N=y.modules[D].categories;if(N.svg){var k=S.layerName||D+"layer",z=S.plot;o=(T=l(o,z))[1],(n=T[0]).length&&C.push({i:b.indexOf(k),className:k,plotMethod:z,cdModule:n}),N.zoomScale&&p.push("."+k)}}C.sort(function(U,G){return U.i-G.i});var B=d.plot.selectAll("g.mlayer").data(C,function(U){return U.className});if(B.enter().append("g").attr("class",function(U){return U.className}).classed("mlayer",!0).classed("rangeplot",d.isRangePlot),B.exit().remove(),B.order(),B.each(function(U){var G=A.select(this),J=U.className;U.plotMethod(w,d,U.cdModule,G,v,M),-1===r.clipOnAxisFalseQuery.indexOf("."+J)&&L.setClipUrl(G,d.layerClipId,w)}),E._has("scattergl")&&(S=y.getModule("scattergl"),n=l(o,S)[0],S.plot(w,d,n)),!w._context.staticPlot&&(d._hasClipOnAxisFalse&&(d.clipOnAxisFalseTraces=d.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),p.length)){var O=d.plot.selectAll(p.join(",")).selectAll(".trace");d.zoomScalePts=O.selectAll("path.point"),d.zoomScaleTxt=O.selectAll(".textpoint")}}function u(w,d){var o=d.plotgroup,v=d.id,M=r.layerValue2layerClass[d.xaxis.layer],b=r.layerValue2layerClass[d.yaxis.layer],E=w._fullLayout._hasOnlyLargeSploms;if(d.mainplot){var S=d.mainplotinfo,T=S.plotgroup,n=v+"-x",C=v+"-y";d.minorGridlayer=S.minorGridlayer,d.gridlayer=S.gridlayer,d.zerolinelayer=S.zerolinelayer,s(S.overlinesBelow,"path",n),s(S.overlinesBelow,"path",C),s(S.overaxesBelow,"g",n),s(S.overaxesBelow,"g",C),d.plot=s(S.overplot,"g",v),s(S.overlinesAbove,"path",n),s(S.overlinesAbove,"path",C),s(S.overaxesAbove,"g",n),s(S.overaxesAbove,"g",C),d.xlines=T.select(".overlines-"+M).select("."+n),d.ylines=T.select(".overlines-"+b).select("."+C),d.xaxislayer=T.select(".overaxes-"+M).select("."+n),d.yaxislayer=T.select(".overaxes-"+b).select("."+C)}else if(E)d.xlines=s(o,"path","xlines-above"),d.ylines=s(o,"path","ylines-above"),d.xaxislayer=s(o,"g","xaxislayer-above"),d.yaxislayer=s(o,"g","yaxislayer-above");else{var x=s(o,"g","layer-subplot");d.shapelayer=s(x,"g","shapelayer"),d.imagelayer=s(x,"g","imagelayer"),d.minorGridlayer=s(o,"g","minor-gridlayer"),d.gridlayer=s(o,"g","gridlayer"),d.zerolinelayer=s(o,"g","zerolinelayer"),s(o,"path","xlines-below"),s(o,"path","ylines-below"),d.overlinesBelow=s(o,"g","overlines-below"),s(o,"g","xaxislayer-below"),s(o,"g","yaxislayer-below"),d.overaxesBelow=s(o,"g","overaxes-below"),d.plot=s(o,"g","plot"),d.overplot=s(o,"g","overplot"),d.xlines=s(o,"path","xlines-above"),d.ylines=s(o,"path","ylines-above"),d.overlinesAbove=s(o,"g","overlines-above"),s(o,"g","xaxislayer-above"),s(o,"g","yaxislayer-above"),d.overaxesAbove=s(o,"g","overaxes-above"),d.xlines=o.select(".xlines-"+M),d.ylines=o.select(".ylines-"+b),d.xaxislayer=o.select(".xaxislayer-"+M),d.yaxislayer=o.select(".yaxislayer-"+b)}E||(a(d.minorGridlayer,"g",d.xaxis._id),a(d.minorGridlayer,"g",d.yaxis._id),d.minorGridlayer.selectAll("g").map(function(p){return p[0]}).sort(m.idSort),a(d.gridlayer,"g",d.xaxis._id),a(d.gridlayer,"g",d.yaxis._id),d.gridlayer.selectAll("g").map(function(p){return p[0]}).sort(m.idSort)),d.xlines.style("fill","none").classed("crisp",!0),d.ylines.style("fill","none").classed("crisp",!0)}function g(w,d){if(w){var o={};for(var v in w.each(function(S){var T=S[0];A.select(this).remove(),c(T,d),o[T]=!0}),d._plots)for(var b=d._plots[v].overlays||[],E=0;E<b.length;E++){var x=b[E];o[x.id]&&x.plot.selectAll(".trace").remove()}}}function c(w,d){d._draggers.selectAll("g."+w).remove(),d._defs.select("#clip"+d._uid+w+"plot").remove()}W.name="cartesian",W.attr=["xaxis","yaxis"],W.idRoot=["x","y"],W.idRegex=r.idRegex,W.attrRegex=r.attrRegex,W.attributes=t(26720),W.layoutAttributes=t(94724),W.supplyLayoutDefaults=t(67352),W.transitionAxes=t(73736),W.finalizeSubplots=function(w,d){var T,n,C,o=d._subplots,v=o.xaxis,M=o.yaxis,b=o.cartesian,E=b.concat(o.gl2d||[]),x={},S={};for(T=0;T<E.length;T++){var p=E[T].split("y");x[p[0]]=1,S["y"+p[1]]=1}for(T=0;T<v.length;T++)x[n=v[T]]||(C=(w[m.id2name(n)]||{}).anchor,r.idRegex.y.test(C)||(C="y"),b.push(n+C),E.push(n+C),S[C]||(S[C]=1,i.pushUnique(M,C)));for(T=0;T<M.length;T++)S[C=M[T]]||(n=(w[m.id2name(C)]||{}).anchor,r.idRegex.x.test(n)||(n="x"),b.push(n+C),E.push(n+C),x[n]||(x[n]=1,i.pushUnique(v,n)));if(!E.length){for(var F in n="",C="",w)r.attrRegex.test(F)&&("x"===F.charAt(0)?(!n||+F.substr(5)<+n.substr(5))&&(n=F):(!C||+F.substr(5)<+C.substr(5))&&(C=F));n=n?m.name2id(n):"x",C=C?m.name2id(C):"y",v.push(n),M.push(C),b.push(n+C)}},W.plot=function(w,d,o,v){var x,M=w._fullLayout,b=M._subplots.cartesian,E=w.calcdata;if(!Array.isArray(d))for(d=[],x=0;x<E.length;x++)d.push(x);for(x=0;x<b.length;x++){for(var C,S=b[x],T=M._plots[S],n=[],p=0;p<E.length;p++){var F=E[p],D=F[0].trace;D.xaxis+D.yaxis===S&&((-1!==d.indexOf(D.index)||D.carpet)&&(C&&C[0].trace.xaxis+C[0].trace.yaxis===S&&-1!==["tonextx","tonexty","tonext"].indexOf(D.fill)&&-1===n.indexOf(C)&&n.push(C),n.push(F)),C=F)}h(w,T,n,o,v)}},W.clean=function(w,d,o,v){var x,S,T,M=v._plots||{},b=d._plots||{},E=v._subplots||{};if(v._hasOnlyLargeSploms&&!d._hasOnlyLargeSploms)for(T in M)(x=M[T]).plotgroup&&x.plotgroup.remove();var n=v._has&&v._has("gl"),C=d._has&&d._has("gl");if(n&&!C)for(T in M)(x=M[T])._scene&&x._scene.destroy();if(E.xaxis&&E.yaxis){var p=m.listIds({_fullLayout:v});for(S=0;S<p.length;S++){var F=p[S];d[m.id2name(F)]||v._infolayer.selectAll(".g-"+F+"title").remove()}}var D=v._has&&v._has("cartesian"),N=d._has&&d._has("cartesian");if(D&&!N)g(v._cartesianlayer.selectAll(".subplot"),v),v._defs.selectAll(".axesclip").remove(),delete v._axisConstraintGroups,delete v._axisMatchGroups;else if(E.cartesian)for(S=0;S<E.cartesian.length;S++){var k=E.cartesian[S];b[k]||(v._cartesianlayer.selectAll("."+k+",."+k+"-x,."+k+"-y").remove(),c(k,v))}},W.drawFramework=function(w){var d=w._fullLayout,o=function f(w){var M,b,E,x,S,T,d=w._fullLayout,o=d._subplots.cartesian,v=o.length,n=[],C=[];for(M=0;M<v;M++){var D=(S=(x=d._plots[E=o[M]]).xaxis)._mainAxis._id+(T=x.yaxis)._mainAxis._id,N=d._plots[D];x.overlays=[],D!==E&&N?(x.mainplot=D,x.mainplotinfo=N,C.push(E)):(x.mainplot=void 0,x.mainplotinfo=void 0,n.push(E))}for(M=0;M<C.length;M++)(x=d._plots[E=C[M]]).mainplotinfo.overlays.push(x);var k=n.concat(C),z=new Array(v);for(M=0;M<v;M++){var B=[E=k[M],(S=(x=d._plots[E]).xaxis).layer,(T=x.yaxis).layer,S.overlaying||"",T.overlaying||""];for(b=0;b<x.overlays.length;b++)B.push(x.overlays[b].id);z[M]=B}return z}(w),v=d._cartesianlayer.selectAll(".subplot").data(o,String);v.enter().append("g").attr("class",function(M){return"subplot "+M[0]}),v.order(),v.exit().call(g,d),v.each(function(M){var b=M[0],E=d._plots[b];E.plotgroup=A.select(this),u(w,E),E.draglayer=s(d._draggers,"g",b)})},W.rangePlot=function(w,d,o){u(w,d),h(w,d,o),P.style(w)},W.toSVG=function(w){var d=w._fullLayout._glimages,o=A.select(w).selectAll(".svg-container");o.filter(function(b,E){return E===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function M(){var b=this,E=b.toDataURL("image/png");d.append("svg:image").attr({xmlns:e.svg,"xlink:href":E,preserveAspectRatio:"none",x:0,y:0,width:b.style.width,height:b.style.height})})},W.updateFx=t(42464).updateFx},94724:function(tt,W,t){"use strict";var A=t(25376),y=t(22548),i=t(98192).u,P=t(92880).extendFlat,L=t(31780).templatedArray,l=t(29736).descriptionWithDates,m=t(39032).ONEDAY,r=t(33816),e=r.HOUR_PATTERN,s=r.WEEKDAY_PATTERN,a={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},h=P({},a,{values:a.values.slice().concat(["sync"])});function f(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},w={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function d(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=5),T}function o(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=1),T}var v={valType:"color",dflt:y.defaultLine,editType:"ticks"},M={valType:"color",dflt:y.lightLine,editType:"ticks"};function b(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=1),T}var E=P({},i,{editType:"ticks"}),x={valType:"boolean",editType:"ticks"};tt.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:y.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:A({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:L("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[s,e,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:m},editType:"calc"}),tickmode:h,nticks:f(),tick0:u,dtick:g,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:w,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:d(),tickwidth:o(),tickcolor:v,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:P({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:A({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:l("tick label")},tickformatstops:L("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:l("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:y.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:x,gridcolor:M,gridwidth:b(),griddash:E,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:y.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:y.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:a,nticks:f("minor"),tick0:u,dtick:g,tickvals:c,ticks:w,ticklen:d("minor"),tickwidth:o("minor"),tickcolor:v,gridcolor:M,gridwidth:b("minor"),griddash:E,showgrid:x,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:A({editType:"ticks"})}}},67352:function(tt,W,t){"use strict";var A=t(3400),y=t(76308),i=t(10624).isUnifiedHover,P=t(41008),L=t(31780),l=t(64859),m=t(94724),r=t(14944),e=t(28336),s=t(71888),a=t(37668),h=t(79811),f=h.id2name,u=h.name2id,g=t(33816).AX_ID_PATTERN,c=t(24040),w=c.traceIs,d=c.getComponentMethod;function o(v,M,b){Array.isArray(v[M])?v[M].push(b):v[M]=[b]}tt.exports=function(M,b,E){var B,O,x=b.autotypenumbers,S={},T={},n={},C={},p={},F={},D={},N={},k={},z={};for(B=0;B<E.length;B++){var U=E[B];if(w(U,"cartesian")||w(U,"gl2d")){var G,J;if(U.xaxis)G=f(U.xaxis),o(S,G,U);else if(U.xaxes)for(O=0;O<U.xaxes.length;O++)o(S,f(U.xaxes[O]),U);if(U.yaxis)J=f(U.yaxis),o(S,J,U);else if(U.yaxes)for(O=0;O<U.yaxes.length;O++)o(S,f(U.yaxes[O]),U);"funnel"===U.type?"h"===U.orientation?(G&&(T[G]=!0),J&&(D[J]=!0)):J&&(n[J]=!0):"image"===U.type?(J&&(N[J]=!0),G&&(N[G]=!0)):(J&&(p[J]=!0,F[J]=!0),(!w(U,"carpet")||"carpet"===U.type&&!U._cheater)&&G&&(C[G]=!0)),"carpet"===U.type&&U._cheater&&G&&(T[G]=!0),w(U,"2dMap")&&(k[G]=!0,k[J]=!0),w(U,"oriented")&&(z["h"===U.orientation?J:G]=!0)}}var at=b._subplots,lt=at.xaxis,K=at.yaxis,j=A.simpleMap(lt,f),rt=A.simpleMap(K,f),H=j.concat(rt),Z=y.background;lt.length&&K.length&&(Z=A.coerce(M,b,l,"plot_bgcolor"));var Q,Y,nt,_,st,it=y.combine(Z,b.paper_bgcolor);function dt(){st._traceIndices=(S[Q]||[]).map(function(pt){return pt._expandedIndex}),st._annIndices=[],st._shapeIndices=[],st._selectionIndices=[],st._imgIndices=[],st._subplotsWith=[],st._counterAxes=[],st._name=st._attr=Q,st._id=Y}function xt(ft,pt){return A.coerce(_,st,m,ft,pt)}function yt(ft,pt){return A.coerce2(_,st,m,ft,pt)}function St(ft){return"x"===ft?K:lt}function Et(ft,pt){for(var Dt="x"===ft?j:rt,Qt=[],te=0;te<Dt.length;te++){var ee=Dt[te];ee!==pt&&!(M[ee]||{}).overlaying&&Qt.push(u(ee))}return Qt}var Tt={x:St("x"),y:St("y")},gt=Tt.x.concat(Tt.y),Mt={},Nt=[];function Gt(){var ft=_.matches;g.test(ft)&&-1===gt.indexOf(ft)&&(Mt[ft]=_.type,Nt=Object.keys(Mt))}var Pt=P(M,b),Vt=i(Pt);for(B=0;B<H.length;B++){Y=u(Q=H[B]),nt=Q.charAt(0),A.isPlainObject(M[Q])||(M[Q]={}),_=M[Q],st=L.newContainer(b,Q,nt+"axis"),dt();var It={hasMinor:!0,letter:nt,font:b.font,outerTicks:k[Q],showGrid:!z[Q],data:S[Q]||[],bgColor:it,calendar:b.calendar,automargin:!0,visibleDflt:"x"===nt&&!C[Q]&&T[Q]||"y"===nt&&!p[Q]&&n[Q],reverseDflt:"y"===nt&&(!F[Q]&&D[Q]||N[Q]),autotypenumbersDflt:x,splomStash:((b._splomAxes||{})[nt]||{})[Y],noAutotickangles:"y"===nt};xt("uirevision",b.uirevision),r(_,st,xt,It),e(_,st,xt,It,b);var Rt=Vt&&nt===Pt.charAt(0),$t=yt("spikecolor",Vt?st.color:void 0),oe=yt("spikethickness",Vt?1.5:void 0),se=yt("spikedash",Vt?"dot":void 0),ve=yt("spikemode",Vt?"across":void 0),de=yt("spikesnap");xt("showspikes",!!(Rt||$t||oe||se||ve||de))||(delete st.spikecolor,delete st.spikethickness,delete st.spikedash,delete st.spikemode,delete st.spikesnap);var Ct=f(_.overlaying),Wt=[0,1];if(void 0!==b[Ct]){var Xt=f(b[Ct].anchor);void 0!==b[Xt]&&(Wt=b[Xt].domain)}a(_,st,xt,{letter:nt,counterAxes:Tt[nt],overlayableAxes:Et(nt,Q),grid:b.grid,overlayingDomain:Wt}),xt("title.standoff"),Gt(),st._input=_}for(B=0;B<Nt.length;){Y=Nt[B++],nt=(Q=f(Y)).charAt(0),A.isPlainObject(M[Q])||(M[Q]={}),_=M[Q],st=L.newContainer(b,Q,nt+"axis"),dt();var Ht={letter:nt,font:b.font,outerTicks:k[Q],showGrid:!z[Q],data:[],bgColor:it,calendar:b.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:x,splomStash:((b._splomAxes||{})[nt]||{})[Y]};xt("uirevision",b.uirevision),st.type=Mt[Y]||"linear",e(_,st,xt,Ht,b),a(_,st,xt,{letter:nt,counterAxes:Tt[nt],overlayableAxes:Et(nt,Q),grid:b.grid}),xt("fixedrange"),Gt(),st._input=_}var Bt=d("rangeslider","handleDefaults"),zt=d("rangeselector","handleDefaults");for(B=0;B<j.length;B++)_=M[Q=j[B]],st=b[Q],Bt(M,b,Q),"date"===st.type&&zt(_,st,b,rt,st.calendar),xt("fixedrange");for(B=0;B<rt.length;B++){_=M[Q=rt[B]];var kt=b[f((st=b[Q]).anchor)];xt("fixedrange",d("rangeslider","isVisible")(kt))}s.handleDefaults(M,b,{axIds:gt.concat(Nt).sort(h.idSort),axHasImage:N})}},42136:function(tt,W,t){"use strict";var A=t(49760).mix,y=t(22548),i=t(3400);tt.exports=function(L,l,m,r){var e=(r=r||{}).dfltColor;function s(n,C){return i.coerce2(L,l,r.attributes,n,C)}var a=s("linecolor",e),h=s("linewidth");m("showline",r.showLine||!!a||!!h)||(delete l.linecolor,delete l.linewidth);var g=s("gridcolor",A(e,r.bgColor,r.blend||y.lightFraction).toRgbString()),c=s("gridwidth"),w=s("griddash");if(m("showgrid",r.showGrid||!!g||!!c||!!w)||(delete l.gridcolor,delete l.gridwidth,delete l.griddash),r.hasMinor){var v=s("minor.gridcolor",A(l.gridcolor,r.bgColor,67).toRgbString()),M=s("minor.gridwidth",l.gridwidth||1),b=s("minor.griddash",l.griddash||"solid");m("minor.showgrid",!!v||!!M||!!b)||(delete l.minor.gridcolor,delete l.minor.gridwidth,delete l.minor.griddash)}if(!r.noZeroLine){var x=s("zerolinecolor",e),S=s("zerolinewidth");m("zeroline",r.showGrid||!!x||!!S)||(delete l.zerolinecolor,delete l.zerolinewidth)}}},37668:function(tt,W,t){"use strict";var A=t(38248),y=t(3400);tt.exports=function(P,L,l,m){var f,u,g,c,w,d,r=m.counterAxes||[],e=m.overlayableAxes||[],s=m.letter,a=m.grid,h=m.overlayingDomain;a&&(f=a._anchors[L._id],(u=a._domains[s][a._axisMap[L._id]])&&(g=a[s+"side"].split(" ")[0],c=a.domain[s]["right"===g||"top"===g?1:0])),u=u||[0,1],f=f||(A(P.position)?"free":r[0]||"free"),g=g||("x"===s?"bottom":"left"),c=c||0,w=0,d=!1;var o=y.coerce(P,L,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:f}},"anchor"),v=y.coerce(P,L,{side:{valType:"enumerated",values:"x"===s?["bottom","top"]:["left","right"],dflt:g}},"side");"free"===o&&("y"===s&&(l("autoshift")&&(c="left"===v?h[0]:h[1],d=!L.automargin||L.automargin,w="left"===v?-3:3),l("shift",w)),l("position",c)),l("automargin",d);var b=!1;if(e.length&&(b=y.coerce(P,L,{overlaying:{valType:"enumerated",values:[!1].concat(e),dflt:!1}},"overlaying")),!b){var E=l("domain",u);E[0]>E[1]-.000244140625&&(L.domain=u),y.noneOrAll(P.domain,L.domain,u),"sync"===L.tickmode&&(L.tickmode="auto")}return l("layer"),L}},42568:function(tt,W,t){"use strict";var A=t(85024);tt.exports=function(i,P,L,l,m){m||(m={});var r=m.tickSuffixDflt,e=A(i);L("tickprefix")&&L("showtickprefix",e),L("ticksuffix",r)&&L("showticksuffix",e)}},96312:function(tt,W,t){"use strict";var A=t(76808);tt.exports=function(i,P,L,l){var r=P.type||(P._template||{}).type||"-";L("minallowed"),L("maxallowed");var s,e=L("range");e||!l.noInsiderange&&"log"!==r&&((s=L("insiderange"))&&(null===s[0]||null===s[1])&&(P.insiderange=!1,s=void 0),s&&(e=L("range",s)));var f,a=P.getAutorangeDflt(e,l),h=L("autorange",a);e&&(null===e[0]&&null===e[1]||(null===e[0]||null===e[1])&&("reversed"===h||!0===h)||null!==e[0]&&("min"===h||"max reversed"===h)||null!==e[1]&&("max"===h||"min reversed"===h))&&(e=void 0,delete P.range,P.autorange=!0,f=!0),f||(h=L("autorange",a=P.getAutorangeDflt(e,l))),h&&(A(L,h,e),("linear"===r||"-"===r)&&L("rangemode")),P.cleanRange()}},21160:function(tt,W,t){"use strict";var A=t(84284).FROM_BL;tt.exports=function(i,P,L){void 0===L&&(L=A[i.constraintoward||"center"]);var l=[i.r2l(i.range[0]),i.r2l(i.range[1])],m=l[0]+(l[1]-l[0])*L;i.range=i._input.range=[i.l2r(m+(l[0]-m)*P),i.l2r(m+(l[1]-m)*P)],i.setScale()}},78344:function(tt,W,t){"use strict";var A=t(33428),y=t(94336).E9,i=t(3400),P=i.numberFormat,L=t(38248),l=i.cleanNumber,m=i.ms2DateTime,r=i.dateTime2ms,e=i.ensureNumber,s=i.isArrayOrTypedArray,a=t(39032),h=a.FP_SAFE,f=a.BADNUM,u=a.LOG_CLIP,g=a.ONEWEEK,c=a.ONEDAY,w=a.ONEHOUR,d=a.ONEMIN,o=a.ONESEC,v=t(79811),M=t(33816),b=M.HOUR_PATTERN,E=M.WEEKDAY_PATTERN;function x(T){return Math.pow(10,T)}function S(T){return null!=T}tt.exports=function(n,C){C=C||{};var p=n._id||"x",F=p.charAt(0);function D(H,Z){if(H>0)return Math.log(H)/Math.LN10;if(H<=0&&Z&&n.range&&2===n.range.length){var it=n.range[0],Q=n.range[1];return.5*(it+Q-2*u*Math.abs(it-Q))}return f}function N(H,Z,it,Q){if((Q||{}).msUTC&&L(H))return+H;var Y=r(H,it||n.calendar);if(Y===f){if(!L(H))return f;H=+H;var nt=Math.floor(10*i.mod(H+.05,1)),_=Math.round(H-nt/10);Y=r(new Date(_))+nt/10}return Y}function k(H,Z,it){return m(H,Z,it||n.calendar)}function z(H){return n._categories[Math.round(H)]}function B(H){if(S(H)){if(void 0===n._categoriesMap&&(n._categoriesMap={}),void 0!==n._categoriesMap[H])return n._categoriesMap[H];n._categories.push("number"==typeof H?String(H):H);var Z=n._categories.length-1;return n._categoriesMap[H]=Z,Z}return f}function U(H){if(n._categoriesMap)return n._categoriesMap[H]}function G(H){var Z=U(H);return void 0!==Z?Z:L(H)?+H:void 0}function J(H){return L(H)?+H:U(H)}function et(H,Z,it){return A.round(it+Z*H,2)}function at(H,Z,it){return(H-it)/Z}var lt=function(Z){return L(Z)?et(Z,n._m,n._b):f},K=function(H){return at(H,n._m,n._b)};if(n.rangebreaks){var j="y"===F;lt=function(H){if(!L(H))return f;var Z=n._rangebreaks.length;if(!Z)return et(H,n._m,n._b);var it=j;n.range[0]>n.range[1]&&(it=!it);for(var Q=it?-1:1,Y=Q*H,nt=0,_=0;_<Z;_++){var st=Q*n._rangebreaks[_].min,dt=Q*n._rangebreaks[_].max;if(Y<st)break;if(!(Y>dt)){nt=Y<(st+dt)/2?_:_+1;break}nt=_+1}var xt=n._B[nt]||0;return isFinite(xt)?et(H,n._m2,xt):0},K=function(H){var Z=n._rangebreaks.length;if(!Z)return at(H,n._m,n._b);for(var it=0,Q=0;Q<Z&&!(H<n._rangebreaks[Q].pmin);Q++)H>n._rangebreaks[Q].pmax&&(it=Q+1);return at(H,n._m2,n._B[it])}}n.c2l="log"===n.type?D:e,n.l2c="log"===n.type?x:e,n.l2p=lt,n.p2l=K,n.c2p="log"===n.type?function(H,Z){return lt(D(H,Z))}:lt,n.p2c="log"===n.type?function(H){return x(K(H))}:K,-1!==["linear","-"].indexOf(n.type)?(n.d2r=n.r2d=n.d2c=n.r2c=n.d2l=n.r2l=l,n.c2d=n.c2r=n.l2d=n.l2r=e,n.d2p=n.r2p=function(H){return n.l2p(l(H))},n.p2d=n.p2r=K,n.cleanPos=e):"log"===n.type?(n.d2r=n.d2l=function(H,Z){return D(l(H),Z)},n.r2d=n.r2c=function(H){return x(l(H))},n.d2c=n.r2l=l,n.c2d=n.l2r=e,n.c2r=D,n.l2d=x,n.d2p=function(H,Z){return n.l2p(n.d2r(H,Z))},n.p2d=function(H){return x(K(H))},n.r2p=function(H){return n.l2p(l(H))},n.p2r=K,n.cleanPos=e):"date"===n.type?(n.d2r=n.r2d=i.identity,n.d2c=n.r2c=n.d2l=n.r2l=N,n.c2d=n.c2r=n.l2d=n.l2r=k,n.d2p=n.r2p=function(H,Z,it){return n.l2p(N(H,0,it))},n.p2d=n.p2r=function(H,Z,it){return k(K(H),Z,it)},n.cleanPos=function(H){return i.cleanDate(H,f,n.calendar)}):"category"===n.type?(n.d2c=n.d2l=B,n.r2d=n.c2d=n.l2d=z,n.d2r=n.d2l_noadd=G,n.r2c=function(H){var Z=J(H);return void 0!==Z?Z:n.fraction2r(.5)},n.l2r=n.c2r=e,n.r2l=J,n.d2p=function(H){return n.l2p(n.r2c(H))},n.p2d=function(H){return z(K(H))},n.r2p=n.d2p,n.p2r=K,n.cleanPos=function(H){return"string"==typeof H&&""!==H?H:e(H)}):"multicategory"===n.type&&(n.r2d=n.c2d=n.l2d=z,n.d2r=n.d2l_noadd=G,n.r2c=function(H){var Z=G(H);return void 0!==Z?Z:n.fraction2r(.5)},n.r2c_just_indices=U,n.l2r=n.c2r=e,n.r2l=G,n.d2p=function(H){return n.l2p(n.r2c(H))},n.p2d=function(H){return z(K(H))},n.r2p=n.d2p,n.p2r=K,n.cleanPos=function(H){return Array.isArray(H)||"string"==typeof H&&""!==H?H:e(H)},n.setupMultiCategory=function(H){var it,Q,Z=n._traceIndices,Y=n._matchGroup;if(Y&&0===n._categories.length)for(var nt in Y)if(nt!==p){var _=C[v.id2name(nt)];Z=Z.concat(_._traceIndices)}var st=[[0,{}],[0,{}]],dt=[];for(it=0;it<Z.length;it++){var xt=H[Z[it]];if(F in xt){var yt=xt[F],St=xt._length||i.minRowLength(yt);if(s(yt[0])&&s(yt[1]))for(Q=0;Q<St;Q++){var Et=yt[0][Q],Tt=yt[1][Q];S(Et)&&S(Tt)&&(dt.push([Et,Tt]),Et in st[0][1]||(st[0][1][Et]=st[0][0]++),Tt in st[1][1]||(st[1][1][Tt]=st[1][0]++))}}}for(dt.sort(function(gt,Mt){var Nt=st[0][1],Gt=Nt[gt[0]]-Nt[Mt[0]];if(Gt)return Gt;var Pt=st[1][1];return Pt[gt[1]]-Pt[Mt[1]]}),it=0;it<dt.length;it++)B(dt[it])}),n.fraction2r=function(H){var Z=n.r2l(n.range[0]),it=n.r2l(n.range[1]);return n.l2r(Z+H*(it-Z))},n.r2fraction=function(H){var Z=n.r2l(n.range[0]),it=n.r2l(n.range[1]);return(n.r2l(H)-Z)/(it-Z)},n.limitRange=function(H){var Z=n.minallowed,it=n.maxallowed;if(void 0!==Z||void 0!==it){H||(H="range");var Q=i.nestedProperty(n,H).get(),Y=i.simpleMap(Q,n.r2l),nt=Y[1]<Y[0];nt&&Y.reverse();var _=i.simpleMap([Z,it],n.r2l);if(void 0!==Z&&Y[0]<_[0]&&(Q[nt?1:0]=Z),void 0!==it&&Y[1]>_[1]&&(Q[nt?0:1]=it),Q[0]===Q[1]){var st=n.l2r(Z),dt=n.l2r(it);if(void 0!==Z){var xt=st+1;void 0!==it&&(xt=Math.min(xt,dt)),Q[nt?1:0]=xt}if(void 0!==it){var yt=dt+1;void 0!==Z&&(yt=Math.max(yt,st)),Q[nt?0:1]=yt}}}},n.cleanRange=function(H,Z){n._cleanRange(H,Z),n.limitRange(H)},n._cleanRange=function(H,Z){Z||(Z={}),H||(H="range");var Q,Y,it=i.nestedProperty(n,H).get();if(Y=(Y="date"===n.type?i.dfltRange(n.calendar):"y"===F?M.DFLTRANGEY:"realaxis"===n._name?[0,1]:Z.dfltRange||M.DFLTRANGEX).slice(),("tozero"===n.rangemode||"nonnegative"===n.rangemode)&&(Y[0]=0),it&&2===it.length){var nt=null===it[0],_=null===it[1];for("date"===n.type&&!n.autorange&&(it[0]=i.cleanDate(it[0],f,n.calendar),it[1]=i.cleanDate(it[1],f,n.calendar)),Q=0;Q<2;Q++)if("date"===n.type){if(!i.isDateTime(it[Q],n.calendar)){n[H]=Y;break}if(n.r2l(it[0])===n.r2l(it[1])){var st=i.constrain(n.r2l(it[0]),i.MIN_MS+1e3,i.MAX_MS-1e3);it[0]=n.l2r(st-1e3),it[1]=n.l2r(st+1e3);break}}else{if(!L(it[Q])){if(nt||_||!L(it[1-Q])){n[H]=Y;break}it[Q]=it[1-Q]*(Q?10:.1)}if(it[Q]<-h?it[Q]=-h:it[Q]>h&&(it[Q]=h),it[0]===it[1]){var dt=Math.max(1,Math.abs(1e-6*it[0]));it[0]-=dt,it[1]+=dt}}}else i.nestedProperty(n,H).set(Y)},n.setScale=function(H){var Z=C._size;if(n.overlaying){var it=v.getFromId({_fullLayout:C},n.overlaying);n.domain=it.domain}var Q=H&&n._r?"_r":"range",Y=n.calendar;n.cleanRange(Q);var dt,xt,nt=n.r2l(n[Q][0],Y),_=n.r2l(n[Q][1],Y),st="y"===F;if(st?(n._offset=Z.t+(1-n.domain[1])*Z.h,n._length=Z.h*(n.domain[1]-n.domain[0]),n._m=n._length/(nt-_),n._b=-n._m*_):(n._offset=Z.l+n.domain[0]*Z.w,n._length=Z.w*(n.domain[1]-n.domain[0]),n._m=n._length/(_-nt),n._b=-n._m*nt),n._rangebreaks=[],n._lBreaks=0,n._m2=0,n._B=[],n.rangebreaks&&(n._rangebreaks=n.locateBreaks(Math.min(nt,_),Math.max(nt,_)),n._rangebreaks.length)){for(dt=0;dt<n._rangebreaks.length;dt++)xt=n._rangebreaks[dt],n._lBreaks+=Math.abs(xt.max-xt.min);var yt=st;nt>_&&(yt=!yt),yt&&n._rangebreaks.reverse();var St=yt?-1:1;for(n._m2=St*n._length/(Math.abs(_-nt)-n._lBreaks),n._B.push(-n._m2*(st?_:nt)),dt=0;dt<n._rangebreaks.length;dt++)n._B.push(n._B[n._B.length-1]-St*n._m2*((xt=n._rangebreaks[dt]).max-xt.min));for(dt=0;dt<n._rangebreaks.length;dt++)(xt=n._rangebreaks[dt]).pmin=lt(xt.min),xt.pmax=lt(xt.max)}if(!isFinite(n._m)||!isFinite(n._b)||n._length<0)throw C._replotting=!1,new Error("Something went wrong with axis scaling")},n.maskBreaks=function(H){var it,Q,Y,nt,_,Z=n.rangebreaks||[];Z._cachedPatterns||(Z._cachedPatterns=Z.map(function(Nt){return Nt.enabled&&Nt.bounds?i.simpleMap(Nt.bounds,Nt.pattern?l:n.d2c):null})),Z._cachedValues||(Z._cachedValues=Z.map(function(Nt){return Nt.enabled&&Nt.values?i.simpleMap(Nt.values,n.d2c).sort(i.sorterAsc):null}));for(var st=0;st<Z.length;st++){var dt=Z[st];if(dt.enabled)if(dt.bounds){switch(Q=(it=Z._cachedPatterns[st])[0],Y=it[1],dt.pattern){case E:nt=(_=new Date(H)).getUTCDay(),Q>Y&&(Y+=7,nt<Q&&(nt+=7));break;case b:nt=(_=new Date(H)).getUTCHours()+(_.getUTCMinutes()/60+_.getUTCSeconds()/3600+_.getUTCMilliseconds()/36e5),Q>Y&&(Y+=24,nt<Q&&(nt+=24));break;case"":nt=H}if(nt>=Q&&nt<Y)return f}else for(var gt=Z._cachedValues[st],Mt=0;Mt<gt.length;Mt++)if(Y=(Q=gt[Mt])+dt.dvalue,H>=Q&&H<Y)return f}return H},n.locateBreaks=function(H,Z){var it,Q,Y,nt,_=[];if(!n.rangebreaks)return _;var st=n.rangebreaks.slice().sort(function(Pt,Vt){return Pt.pattern===E&&Vt.pattern===b?-1:Vt.pattern===E&&Pt.pattern===b?1:0}),dt=function(Pt,Vt){if((Pt=i.constrain(Pt,H,Z))!==(Vt=i.constrain(Vt,H,Z))){for(var re=!0,le=0;le<_.length;le++){var It=_[le];Pt<It.max&&Vt>=It.min&&(Pt<It.min&&(It.min=Pt),Vt>It.max&&(It.max=Vt),re=!1)}re&&_.push({min:Pt,max:Vt})}};for(it=0;it<st.length;it++){var xt=st[it];if(xt.enabled)if(xt.bounds){var yt=H,St=Z;xt.pattern&&(yt=Math.floor(yt)),Y=(Q=i.simpleMap(xt.bounds,xt.pattern?l:n.r2l))[0],nt=Q[1];var Tt,gt,Et=new Date(yt);switch(xt.pattern){case E:gt=g,Tt=(nt-Y+(nt<Y?7:0))*c,yt+=Y*c-(Et.getUTCDay()*c+Et.getUTCHours()*w+Et.getUTCMinutes()*d+Et.getUTCSeconds()*o+Et.getUTCMilliseconds());break;case b:gt=c,Tt=(nt-Y+(nt<Y?24:0))*w,yt+=Y*w-(Et.getUTCHours()*w+Et.getUTCMinutes()*d+Et.getUTCSeconds()*o+Et.getUTCMilliseconds());break;default:yt=Math.min(Q[0],Q[1]),Tt=gt=(St=Math.max(Q[0],Q[1]))-yt}for(var Mt=yt;Mt<St;Mt+=gt)dt(Mt,Mt+Tt)}else for(var Nt=i.simpleMap(xt.values,n.d2c),Gt=0;Gt<Nt.length;Gt++)dt(Y=Nt[Gt],nt=Y+xt.dvalue)}return _.sort(function(Pt,Vt){return Pt.min-Vt.min}),_},n.makeCalcdata=function(H,Z,it){var Q,Y,nt,_,st=n.type,dt="date"===st&&H[Z+"calendar"];if(Z in H){if(Q=H[Z],_=H._length||i.minRowLength(Q),i.isTypedArray(Q)&&("linear"===st||"log"===st)){if(_===Q.length)return Q;if(Q.subarray)return Q.subarray(0,_)}if("multicategory"===st)return function O(H,Z){for(var it=new Array(Z),Q=0;Q<Z;Q++)it[Q]=U([(H[0]||[])[Q],(H[1]||[])[Q]]);return it}(Q,_);for(Y=new Array(_),nt=0;nt<_;nt++)Y[nt]=n.d2c(Q[nt],0,dt,it)}else{var xt=Z+"0"in H?n.d2c(H[Z+"0"],0,dt):0,yt=H["d"+Z]?Number(H["d"+Z]):1;for(Q=H[{x:"y",y:"x"}[Z]],_=H._length||Q.length,Y=new Array(_),nt=0;nt<_;nt++)Y[nt]=xt+nt*yt}if(n.rangebreaks)for(nt=0;nt<_;nt++)Y[nt]=n.maskBreaks(Y[nt]);return Y},n.isValidRange=function(H,Z){return Array.isArray(H)&&2===H.length&&(Z&&null===H[0]||L(n.r2l(H[0])))&&(Z&&null===H[1]||L(n.r2l(H[1])))},n.getAutorangeDflt=function(H,Z){var it=!n.isValidRange(H,"nullOk");return it&&Z&&Z.reverseDflt?it="reversed":H&&(null===H[0]&&null===H[1]?it=!0:null===H[0]&&null!==H[1]?it="min":null!==H[0]&&null===H[1]&&(it="max")),it},n.isReversed=function(){var H=n.autorange;return"reversed"===H||"min reversed"===H||"max reversed"===H},n.isPtWithinRange=function(H,Z){var it=n.c2l(H[F],null,Z),Q=n.r2l(n.range[0]),Y=n.r2l(n.range[1]);return Q<Y?Q<=it&&it<=Y:Y<=it&&it<=Q},n._emptyCategories=function(){n._categories=[],n._categoriesMap={}},n.clearCalc=function(){var H=n._matchGroup;if(H){var Z=null,it=null;for(var Q in H){var Y=C[v.id2name(Q)];if(Y._categories){Z=Y._categories,it=Y._categoriesMap;break}}Z&&it?(n._categories=Z,n._categoriesMap=it):n._emptyCategories()}else n._emptyCategories();if(n._initialCategories)for(var nt=0;nt<n._initialCategories.length;nt++)B(n._initialCategories[nt])},n.sortByInitialCategories=function(){var H=[];if(n._emptyCategories(),n._initialCategories)for(var Z=0;Z<n._initialCategories.length;Z++)B(n._initialCategories[Z]);H=H.concat(n._traceIndices);var it=n._matchGroup;for(var Q in it)if(p!==Q){var Y=C[v.id2name(Q)];Y._categories=n._categories,Y._categoriesMap=n._categoriesMap,H=H.concat(Y._traceIndices)}return H};var rt=C._d3locale;"date"===n.type&&(n._dateFormat=rt?rt.timeFormat:y,n._extraFormat=C._extraFormat),n._separators=C.separators,n._numFormat=rt?rt.numberFormat:P,delete n._minDtick,delete n._forceTick0}},85024:function(tt){"use strict";tt.exports=function(t){var y=["showexponent","showtickprefix","showticksuffix"].filter(function(P){return void 0!==t[P]});if(y.every(function(P){return t[P]===t[y[0]]})||1===y.length)return t[y[0]]}},95936:function(tt,W,t){"use strict";var A=t(3400),y=t(76308).contrast,i=t(94724),P=t(85024),L=t(51272);function l(m,r){function e(a,h){return A.coerce(m,r,i.tickformatstops,a,h)}e("enabled")&&(e("dtickrange"),e("value"))}tt.exports=function(r,e,s,a,h){h||(h={});var f=s("labelalias");A.isPlainObject(f)||delete e.labelalias;var u=P(r);if(s("showticklabels")){var c=h.font||{},w=e.color,o=-1!==(e.ticklabelposition||"").indexOf("inside")?y(h.bgColor):w&&w!==i.color.dflt?w:c.color;if(A.coerceFont(s,"tickfont",{family:c.family,size:c.size,color:o}),!h.noTicklabelstep&&"multicategory"!==a&&"log"!==a&&s("ticklabelstep"),!h.noAng){var v=s("tickangle");!h.noAutotickangles&&"auto"===v&&s("autotickangles")}if("category"!==a){var M=s("tickformat");L(r,e,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:l}),e.tickformatstops.length||delete e.tickformatstops,!h.noExp&&!M&&"date"!==a&&(s("showexponent",u),s("exponentformat"),s("minexponent"),s("separatethousands"))}}}},25404:function(tt,W,t){"use strict";var A=t(3400),y=t(94724);tt.exports=function(P,L,l,m){var r=m.isMinor,e=r?P.minor||{}:P,s=r?L.minor:L,a=r?y.minor:y,h=r?"minor.":"",f=A.coerce2(e,s,a,"ticklen",r?.6*(L.ticklen||5):void 0),u=A.coerce2(e,s,a,"tickwidth",r?L.tickwidth||1:void 0),g=A.coerce2(e,s,a,"tickcolor",(r?L.tickcolor:void 0)||s.color);l(h+"ticks",!r&&m.outerTicks||f||u||g?"outside":"")||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}},26332:function(tt,W,t){"use strict";var A=t(98728),y=t(3400).isArrayOrTypedArray,i=t(38116).isTypedArraySpec,P=t(38116).decodeTypedArraySpec;tt.exports=function(l,m,r,e,s){s||(s={});var a=s.isMinor,h=a?l.minor||{}:l,f=a?m.minor:m,u=a?"minor.":"";function g(E){var x=h[E];return i(x)&&(x=P(x)),void 0!==x?x:(f._template||{})[E]}var c=g("tick0"),w=g("dtick"),d=g("tickvals"),v=r(u+"tickmode",y(d)?"array":w?"linear":"auto");if("auto"===v||"sync"===v)r(u+"nticks");else if("linear"===v){var M=f.dtick=A.dtick(w,e);f.tick0=A.tick0(c,e,m.calendar,M)}else"multicategory"!==e&&(void 0===r(u+"tickvals")?f.tickmode="auto":a||r("ticktext"))}},73736:function(tt,W,t){"use strict";var A=t(33428),y=t(24040),i=t(3400),P=t(43616),L=t(54460);tt.exports=function(m,r,e,s){var a=m._fullLayout;if(0!==r.length){var u;s&&(u=s());var w,d,o,v=A.ease(e.easing);return m._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,function c(){for(var b={},E=0;E<r.length;E++){var x=r[E],T=x.plotinfo.yaxis;x.xr0&&(b[x.plotinfo.xaxis._name+".range"]=x.xr0.slice()),x.yr0&&(b[T._name+".range"]=x.yr0.slice())}return y.call("relayout",m,b).then(function(){for(var n=0;n<r.length;n++)h(r[n].plotinfo)})}()}),w=Date.now(),o=window.requestAnimationFrame(function M(){d=Date.now();for(var b=Math.min(1,(d-w)/e.duration),E=v(b),x=0;x<r.length;x++)f(r[x],E);d-w>e.duration?(function g(){for(var b={},E=0;E<r.length;E++){var x=r[E],T=x.plotinfo.yaxis;x.xr1&&(b[x.plotinfo.xaxis._name+".range"]=x.xr1.slice()),x.yr1&&(b[T._name+".range"]=x.yr1.slice())}return u&&u(),y.call("relayout",m,b).then(function(){for(var n=0;n<r.length;n++)h(r[n].plotinfo)})}(),o=window.cancelAnimationFrame(M)):o=window.requestAnimationFrame(M)}),Promise.resolve()}function h(b){var E=b.xaxis,x=b.yaxis;a._defs.select("#"+b.clipId+"> rect").call(P.setTranslate,0,0).call(P.setScale,1,1),b.plot.call(P.setTranslate,E._offset,x._offset).call(P.setScale,1,1);var S=b.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(P.setPointGroupScale,1,1),S.selectAll(".textpoint").call(P.setTextPointsScale,1,1),S.call(P.hideOutsideRangePoints,b)}function f(b,E){var x=b.plotinfo,S=x.xaxis,T=x.yaxis,n=S._length,C=T._length,p=!!b.xr1,F=!!b.yr1,D=[];if(p){var N=i.simpleMap(b.xr0,S.r2l),k=i.simpleMap(b.xr1,S.r2l),z=N[1]-N[0],B=k[1]-k[0];D[0]=(N[0]*(1-E)+E*k[0]-N[0])/(N[1]-N[0])*n,D[2]=n*(1-E+E*B/z),S.range[0]=S.l2r(N[0]*(1-E)+E*k[0]),S.range[1]=S.l2r(N[1]*(1-E)+E*k[1])}else D[0]=0,D[2]=n;if(F){var O=i.simpleMap(b.yr0,T.r2l),U=i.simpleMap(b.yr1,T.r2l),G=O[1]-O[0],J=U[1]-U[0];D[1]=(O[1]*(1-E)+E*U[1]-O[1])/(O[0]-O[1])*C,D[3]=C*(1-E+E*J/G),T.range[0]=S.l2r(O[0]*(1-E)+E*U[0]),T.range[1]=T.l2r(O[1]*(1-E)+E*U[1])}else D[1]=0,D[3]=C;L.drawOne(m,S,{skipTitle:!0}),L.drawOne(m,T,{skipTitle:!0}),L.redrawComponents(m,[S._id,T._id]);var et=p?n/D[2]:1,at=F?C/D[3]:1,H=S._offset-(p?D[0]/D[2]*n:0),Z=T._offset-(F?D[1]/D[3]*C:0);x.clipRect.call(P.setTranslate,p?D[0]:0,F?D[1]:0).call(P.setScale,1/et,1/at),x.plot.call(P.setTranslate,H,Z).call(P.setScale,et,at),P.setPointGroupScale(x.zoomScalePts,1/et,1/at),P.setTextPointsScale(x.zoomScaleTxt,1/et,1/at)}L.redrawComponents(m)}},14944:function(tt,W,t){"use strict";var A=t(24040).traceIs,y=t(52976);function i(m,r){if("-"===m.type){var a,e=m._id,s=e.charAt(0);-1!==e.indexOf("scene")&&(e=s);var h=function P(m,r,e){for(var s=0;s<m.length;s++){var a=m[s];if("splom"===a.type&&a._length>0&&(a["_"+e+"axes"]||{})[r])return a;if((a[e+"axis"]||e)===r){if(l(a,e))return a;if((a[e]||[]).length||a[e+"0"])return a}}}(r,e,s);if(h){if("histogram"===h.type&&s==={v:"y",h:"x"}[h.orientation||"v"])return void(m.type="linear");var f=s+"calendar",u=h[f],g={noMultiCategory:!A(h,"cartesian")||A(h,"noMultiCategory")};if("box"===h.type&&h._hasPreCompStats&&s==={h:"x",v:"y"}[h.orientation||"v"]&&(g.noMultiCategory=!0),g.autotypenumbers=m.autotypenumbers,l(h,s)){var c=L(h),w=[];for(a=0;a<r.length;a++){var d=r[a];!A(d,"box-violin")||(d[s+"axis"]||s)!==e||(w.push(void 0!==d[c]?d[c][0]:void 0!==d.name?d.name:"text"),d[f]!==u&&(u=void 0))}m.type=y(w,u,g)}else if("splom"===h.type){var v=h.dimensions[h._axesDim[e]];v.visible&&(m.type=y(v.values,u,g))}else m.type=y(h[s]||[h[s+"0"]],u,g)}}}function L(m){return{v:"x",h:"y"}[m.orientation||"v"]}function l(m,r){var e=L(m),s=A(m,"box-violin"),a=A(m._fullInput||{},"candlestick");return s&&!a&&r===e&&void 0===m[e]&&void 0===m[e+"0"]}tt.exports=function(r,e,s,a){s("autotypenumbers",a.autotypenumbersDflt),"-"===s("type",(a.splomStash||{}).type)&&(i(e,a.data),"-"===e.type?e.type="linear":r.type=e.type)}},62460:function(tt,W,t){"use strict";var A=t(24040),y=t(3400);function i(r,e,s){var a,h,f,u=!1;if("data"===e.type)a=r._fullData[null!==e.traces?e.traces[0]:0];else{if("layout"!==e.type)return!1;a=r._fullLayout}return h=y.nestedProperty(a,e.prop).get(),(f=s[e.type]=s[e.type]||{}).hasOwnProperty(e.prop)&&f[e.prop]!==h&&(u=!0),f[e.prop]=h,{changed:u,value:h}}function L(r,e){var s=[],a=e[0],h={};if("string"==typeof a)h[a]=e[1];else{if(!y.isPlainObject(a))return s;h=a}return m(h,function(f,u,g){s.push({type:"layout",prop:f,value:g})},"",0),s}function l(r,e){var s,a,h,f,u=[];if(h=e[1],s=e[2],f={},"string"==typeof(a=e[0]))f[a]=h;else{if(!y.isPlainObject(a))return u;f=a,void 0===s&&(s=h)}return void 0===s&&(s=null),m(f,function(g,c,w){var d,o;if(Array.isArray(w)){o=w.slice();var v=Math.min(o.length,r.data.length);s&&(v=Math.min(v,s.length)),d=[];for(var M=0;M<v;M++)d[M]=s?s[M]:M}else o=w,d=s?s.slice():null;if(null===d)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(d)){if(!Array.isArray(o)){var b=o;o=[];for(var E=0;E<d.length;E++)o[E]=b}o.length=Math.min(d.length,o.length)}u.push({type:"data",prop:g,traces:d,value:o})},"",0),u}function m(r,e,s,a){Object.keys(r).forEach(function(h){var f=r[h];if("_"!==h[0]){var u=s+(a>0?".":"")+h;y.isPlainObject(f)?m(f,e,u,a+1):e(u,h,f)}})}W.manageCommandObserver=function(r,e,s,a){var h={},f=!0;e&&e._commandObserver&&(h=e._commandObserver),h.cache||(h.cache={}),h.lookupTable={};var u=W.hasSimpleAPICommandBindings(r,s,h.lookupTable);if(e&&e._commandObserver){if(u)return h;if(e._commandObserver.remove)return e._commandObserver.remove(),e._commandObserver=null,h}if(u){i(r,u,h.cache),h.check=function(){if(f){var d=i(r,u,h.cache);return d.changed&&a&&void 0!==h.lookupTable[d.value]&&(h.disable(),Promise.resolve(a({value:d.value,type:u.type,prop:u.prop,traces:u.traces,index:h.lookupTable[d.value]})).then(h.enable,h.enable)),d.changed}};for(var g=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],c=0;c<g.length;c++)r._internalOn(g[c],h.check);h.remove=function(){for(var w=0;w<g.length;w++)r._removeInternalListener(g[w],h.check)}}else y.log("Unable to automatically bind plot updates to API command"),h.lookupTable={},h.remove=function(){};return h.disable=function(){f=!1},h.enable=function(){f=!0},e&&(e._commandObserver=h),h},W.hasSimpleAPICommandBindings=function(r,e,s){var a,f,h=e.length;for(a=0;a<h;a++){var u,g=e[a],c=g.method,w=g.args;if(Array.isArray(w)||(w=[]),!c)return!1;var d=W.computeAPICommandBindings(r,c,w);if(1!==d.length)return!1;if(f){if((u=d[0]).type!==f.type||u.prop!==f.prop)return!1;if(Array.isArray(f.traces)){if(!Array.isArray(u.traces))return!1;u.traces.sort();for(var o=0;o<f.traces.length;o++)if(f.traces[o]!==u.traces[o])return!1}else if(u.prop!==f.prop)return!1}else f=d[0],Array.isArray(f.traces)&&f.traces.sort();var v=(u=d[0]).value;if(Array.isArray(v)){if(1!==v.length)return!1;v=v[0]}s&&(s[v]=a)}return f},W.executeAPICommand=function(r,e,s){if("skip"===e)return Promise.resolve();var a=A.apiMethodRegistry[e],h=[r];Array.isArray(s)||(s=[]);for(var f=0;f<s.length;f++)h.push(s[f]);return a.apply(null,h).catch(function(u){return y.warn("API call to Plotly."+e+" rejected.",u),Promise.reject(u)})},W.computeAPICommandBindings=function(r,e,s){var a;switch(Array.isArray(s)||(s=[]),e){case"restyle":a=l(r,s);break;case"relayout":a=L(0,s);break;case"update":a=l(r,[s[0],s[2]]).concat(L(0,[s[1]]));break;case"animate":a=function P(r,e){return Array.isArray(e[0])&&1===e[0].length&&-1!==["string","number"].indexOf(typeof e[0][0])?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}(0,s);break;default:a=[]}return a}},86968:function(tt,W,t){"use strict";var A=t(92880).extendFlat;W.u=function(y,i){var P={valType:"info_array",editType:(y=y||{}).editType,items:[{valType:"number",min:0,max:1,editType:y.editType},{valType:"number",min:0,max:1,editType:y.editType}],dflt:[0,1]},r=(i=i||{},{x:A({},P,{}),y:A({},P,{}),editType:y.editType});return y.noGridCell||(r.row={valType:"integer",min:0,dflt:0,editType:y.editType},r.column={valType:"integer",min:0,dflt:0,editType:y.editType}),r},W.Q=function(y,i,P,L){var l=L&&L.x||[0,1],m=L&&L.y||[0,1],r=i.grid;if(r){var e=P("domain.column");void 0!==e&&(e<r.columns?l=r._domains.x[e]:delete y.domain.column);var s=P("domain.row");void 0!==s&&(s<r.rows?m=r._domains.y[s]:delete y.domain.row)}var a=P("domain.x",l),h=P("domain.y",m);a[0]<a[1]||(y.domain.x=l.slice()),h[0]<h[1]||(y.domain.y=m.slice())}},25376:function(tt){"use strict";tt.exports=function(W){var t=W.editType,A=W.colorEditType;void 0===A&&(A=t);var y={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:A},editType:t};return W.autoSize&&(y.size.dflt="auto"),W.autoColor&&(y.color.dflt="auto"),W.arrayOk&&(y.family.arrayOk=!0,y.size.arrayOk=!0,y.color.arrayOk=!0),y}},16672:function(tt){"use strict";tt.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(tt,W){"use strict";W.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},W.axesNames=["lonaxis","lataxis"],W.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},W.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},W.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},W.clipPad=.001,W.precision=.1,W.landColor="#F0DC82",W.waterColor="#3399FF",W.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},W.sphereSVG={type:"Sphere"},W.fillLayers={ocean:1,land:1,lakes:1},W.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},W.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],W.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],W.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(tt,W,t){"use strict";var A=t(33428),y=t(83356),i=y.geoPath,P=y.geoDistance,L=t(87108),l=t(24040),m=t(3400),r=m.strTranslate,e=t(76308),s=t(43616),a=t(93024),h=t(7316),f=t(54460),u=t(19280).getAutoRange,g=t(86476),c=t(22676).prepSelect,w=t(22676).clearOutline,d=t(22676).selectOnClick,o=t(79248),v=t(79552),M=t(27144),b=t(59972),E=t(55712).NO;function x(p){this.id=p.id,this.graphDiv=p.graphDiv,this.container=p.container,this.topojsonURL=p.topojsonURL,this.isStatic=p.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=x.prototype;function C(p,F){var D=v.clipPad,N=p[0]+D,k=p[1]-D,z=F[0]+D,B=F[1]-D;N>0&&k<0&&(k+=360);var O=(k-N)/4;return{type:"Polygon",coordinates:[[[N,z],[N,B],[N+O,B],[N+2*O,B],[N+3*O,B],[k,B],[k,z],[k-O,z],[k-2*O,z],[k-3*O,z],[N,z]]]}}tt.exports=function(F){return new x(F)},S.plot=function(p,F,D,N){var k=this;if(N)return k.update(p,F,!0);k._geoCalcData=p,k._fullLayout=F;var z=F[this.id],B=[],O=!1;for(var U in v.layerNameToAdjective)if("frame"!==U&&z["show"+U]){O=!0;break}for(var G=!1,J=0;J<p.length;J++){var et=p[0][0].trace;et._geo=k,et.locationmode&&(O=!0);var at=et.marker;if(at){var K=at.angleref;(at.angle||"north"===K||"previous"===K)&&(G=!0)}}if(this._hasMarkerAngles=G,O){var j=b.getTopojsonName(z);(null===k.topojson||j!==k.topojsonName)&&(k.topojsonName=j,void 0===PlotlyGeoAssets.topojson[k.topojsonName]&&B.push(k.fetchTopojson()))}B=B.concat(M.fetchTraceGeoData(p)),D.push(new Promise(function(rt,H){Promise.all(B).then(function(){k.topojson=PlotlyGeoAssets.topojson[k.topojsonName],k.update(p,F),rt()}).catch(H)}))},S.fetchTopojson=function(){var p=this,F=b.getTopojsonPath(p.topojsonURL,p.topojsonName);return new Promise(function(D,N){A.json(F,function(k,z){if(k)return N(404===k.status?new Error(["plotly.js could not find topojson file at",F+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",F].join(" ")));PlotlyGeoAssets.topojson[p.topojsonName]=z,D()})})},S.update=function(p,F,D){var N=F[this.id];this.hasChoropleth=!1;for(var k=0;k<p.length;k++){var z=p[k],B=z[0].trace;"choropleth"===B.type&&(this.hasChoropleth=!0),!0===B.visible&&B._length>0&&B._module.calcGeoJSON(z,F)}if(!D){if(this.updateProjection(p,F))return;(!this.viewInitial||this.scope!==N.scope)&&this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(F,N),this.updateDims(F,N),this.updateFx(F,N),h.generalUpdatePerTraceModule(this.graphDiv,this,p,N);var U=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=U.selectAll(".point"),this.dataPoints.text=U.selectAll("text"),this.dataPaths.line=U.selectAll(".js-line");var G=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=G.selectAll("path"),this._render()},S.updateProjection=function(p,F){var D=this.graphDiv,N=F[this.id],k=F._size,z=N.domain,B=N.projection,O=N.lonaxis,U=N.lataxis,G=O._ax,J=U._ax,et=this.projection=function T(p){var F=p.projection,D=F.type,N=v.projNames[D];N="geo"+m.titleCase(N);for(var z=(y[N]||L[N])(),B=p._isSatellite?180*Math.acos(1/F.distance)/Math.PI:p._isClipped?v.lonaxisSpan[D]/2:null,O=["center","rotate","parallels","clipExtent"],U=function(et){return et?z:[]},G=0;G<O.length;G++){var J=O[G];"function"!=typeof z[J]&&(z[J]=U)}return z.isLonLatOverEdges=function(et){if(null===z(et))return!0;if(B){var at=z.rotate();return P(et,[-at[0],-at[1]])>B*Math.PI/180}return!1},z.getPath=function(){return i().projection(z)},z.getBounds=function(et){return z.getPath().bounds(et)},z.precision(v.precision),p._isSatellite&&z.tilt(F.tilt).distance(F.distance),B&&z.clipAngle(B-v.clipPad),z}(N),at=[[k.l+k.w*z.x[0],k.t+k.h*(1-z.y[1])],[k.l+k.w*z.x[1],k.t+k.h*(1-z.y[0])]],lt=N.center||{},K=B.rotation||{},j=O.range||[],rt=U.range||[];if(N.fitbounds){G._length=at[1][0]-at[0][0],J._length=at[1][1]-at[0][1],G.range=u(D,G),J.range=u(D,J);var H=(G.range[0]+G.range[1])/2,Z=(J.range[0]+J.range[1])/2;if(N._isScoped)lt={lon:H,lat:Z};else if(N._isClipped){lt={lon:H,lat:Z},K={lon:H,lat:Z,roll:K.roll};var it=B.type,Q=v.lonaxisSpan[it]/2||180,Y=v.lataxisSpan[it]/2||90;j=[H-Q,H+Q],rt=[Z-Y,Z+Y]}else lt={lon:H,lat:Z},K={lon:H,lat:K.lat,roll:K.roll}}et.center([lt.lon-K.lon,lt.lat-K.lat]).rotate([-K.lon,-K.lat,K.roll]).parallels(B.parallels);var nt=C(j,rt);et.fitExtent(at,nt);var _=this.bounds=et.getBounds(nt),st=this.fitScale=et.scale(),dt=et.translate();if(N.fitbounds){var xt=et.getBounds(C(G.range,J.range)),yt=Math.min((_[1][0]-_[0][0])/(xt[1][0]-xt[0][0]),(_[1][1]-_[0][1])/(xt[1][1]-xt[0][1]));isFinite(yt)?et.scale(yt*st):m.warn("Something went wrong during"+this.id+"fitbounds computations.")}else et.scale(B.scale*st);var St=this.midPt=[(_[0][0]+_[1][0])/2,(_[0][1]+_[1][1])/2];if(et.translate([dt[0]+(St[0]-dt[0]),dt[1]+(St[1]-dt[1])]).clipExtent(_),N._isAlbersUsa){var Et=et([lt.lon,lt.lat]),Tt=et.translate();et.translate([Tt[0]-(Et[0]-Tt[0]),Tt[1]-(Et[1]-Tt[1])])}},S.updateBaseLayers=function(p,F){var D=this,N=D.topojson,k=D.layers,z=D.basePaths;function B(at){return"lonaxis"===at||"lataxis"===at}function O(at){return Boolean(v.lineLayers[at])}function U(at){return Boolean(v.fillLayers[at])}var J=(this.hasChoropleth?v.layersForChoropleth:v.layers).filter(function(at){return O(at)||U(at)?F["show"+at]:!B(at)||F[at].showgrid}),et=D.framework.selectAll(".layer").data(J,String);et.exit().each(function(at){delete k[at],delete z[at],A.select(this).remove()}),et.enter().append("g").attr("class",function(at){return"layer "+at}).each(function(at){var lt=k[at]=A.select(this);"bg"===at?D.bgRect=lt.append("rect").style("pointer-events","all"):B(at)?z[at]=lt.append("path").style("fill","none"):"backplot"===at?lt.append("g").classed("choroplethlayer",!0):"frontplot"===at?lt.append("g").classed("scatterlayer",!0):O(at)?z[at]=lt.append("path").style("fill","none").style("stroke-miterlimit",2):U(at)&&(z[at]=lt.append("path").style("stroke","none"))}),et.order(),et.each(function(at){var lt=z[at],K=v.layerNameToAdjective[at];"frame"===at?lt.datum(v.sphereSVG):O(at)||U(at)?lt.datum(E(N,N.objects[at])):B(at)&&lt.datum(function n(p,F,D){var O,U,G,z=F[p],B=v.scopeDefaults[F.scope];"lonaxis"===p?(O=B.lonaxisRange,U=B.lataxisRange,G=function(Z,it){return[Z,it]}):"lataxis"===p&&(O=B.lataxisRange,U=B.lonaxisRange,G=function(Z,it){return[it,Z]});var J={type:"linear",range:[O[0],O[1]-1e-6],tick0:z.tick0,dtick:z.dtick};f.setConvert(J,D);var et=f.calcTicks(J);!F.isScoped&&"lonaxis"===p&&et.pop();for(var at=et.length,lt=new Array(at),K=0;K<at;K++)for(var j=et[K].x,rt=lt[K]=[],H=U[0];H<U[1]+2.5;H+=2.5)rt.push(G(j,H));return{type:"MultiLineString",coordinates:lt}}(at,F,p)).call(e.stroke,F[at].gridcolor).call(s.dashLine,F[at].griddash,F[at].gridwidth),O(at)?lt.call(e.stroke,F[K+"color"]).call(s.dashLine,"",F[K+"width"]):U(at)&&lt.call(e.fill,F[K+"color"])})},S.updateDims=function(p,F){var D=this.bounds,N=(F.framewidth||0)/2,k=D[0][0]-N,z=D[0][1]-N,B=D[1][0]-k+N,O=D[1][1]-z+N;s.setRect(this.clipRect,k,z,B,O),this.bgRect.call(s.setRect,k,z,B,O).call(e.fill,F.bgcolor),this.xaxis._offset=k,this.xaxis._length=B,this.yaxis._offset=z,this.yaxis._length=O},S.updateFx=function(p,F){var D=this,N=D.graphDiv,k=D.bgRect,z=p.dragmode,B=p.clickmode;if(!D.isStatic){var J={element:D.bgRect.node(),gd:N,plotinfo:{id:D.id,xaxis:D.xaxis,yaxis:D.yaxis,fillRangeItems:function(et,at){at.isRect?(et.range={})[D.id]=[U([at.xmin,at.ymin]),U([at.xmax,at.ymax])]:(et.lassoPoints={})[D.id]=at.map(U)}},xaxes:[D.xaxis],yaxes:[D.yaxis],subplot:D.id,clickFn:function(et){2===et&&w(N)}};"pan"===z?(k.node().onmousedown=null,k.call(o(D,F)),k.on("dblclick.zoom",function O(){var et=D.viewInitial,at={};for(var lt in et)at[D.id+"."+lt]=et[lt];l.call("_guiRelayout",N,at),N.emit("plotly_doubleclick",null)}),N._context._scrollZoom.geo||k.on("wheel.zoom",null)):("select"===z||"lasso"===z)&&(k.on(".zoom",null),J.prepFn=function(et,at,lt){c(et,at,lt,J,z)},g.init(J)),k.on("mousemove",function(){var et=D.projection.invert(m.getPositionFromD3Event());if(!et)return g.unhover(N,A.event);D.xaxis.p2c=function(){return et[0]},D.yaxis.p2c=function(){return et[1]},a.hover(N,A.event,D.id)}),k.on("mouseout",function(){N._dragging||g.unhover(N,A.event)}),k.on("click",function(){"select"!==z&&"lasso"!==z&&(B.indexOf("select")>-1&&d(A.event,N,[D.xaxis],[D.yaxis],D.id,J),B.indexOf("event")>-1&&a.click(N,A.event))})}function U(et){return D.projection.invert([et[0]+D.xaxis._offset,et[1]+D.yaxis._offset])}},S.makeFramework=function(){var p=this,F=p.graphDiv,D=F._fullLayout,N="clip"+D._uid+p.id;p.clipDef=D._clips.append("clipPath").attr("id",N),p.clipRect=p.clipDef.append("rect"),p.framework=A.select(p.container).append("g").attr("class","geo "+p.id).call(s.setClipUrl,N,F),p.project=function(k){var z=p.projection(k);return z?[z[0]-p.xaxis._offset,z[1]-p.yaxis._offset]:[null,null]},p.xaxis={_id:"x",c2p:function(k){return p.project(k)[0]}},p.yaxis={_id:"y",c2p:function(k){return p.project(k)[1]}},p.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},f.setConvert(p.mockAxis,D)},S.saveViewInitial=function(p){var F=p.center||{},D=p.projection,N=D.rotation||{};this.viewInitial={fitbounds:p.fitbounds,"projection.scale":D.scale},m.extendFlat(this.viewInitial,p._isScoped?{"center.lon":F.lon,"center.lat":F.lat}:p._isClipped?{"projection.rotation.lon":N.lon,"projection.rotation.lat":N.lat}:{"center.lon":F.lon,"center.lat":F.lat,"projection.rotation.lon":N.lon})},S.render=function(p){this._hasMarkerAngles&&p?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var D,p=this.projection,F=p.getPath();function N(z){var B=p(z.lonlat);return B?r(B[0],B[1]):null}function k(z){return p.isLonLatOverEdges(z.lonlat)?"none":null}for(D in this.basePaths)this.basePaths[D].attr("d",F);for(D in this.dataPaths)this.dataPaths[D].attr("d",function(z){return F(z.geojson)});for(D in this.dataPoints)this.dataPoints[D].attr("display",k).attr("transform",N)}},10816:function(tt,W,t){"use strict";var A=t(84888).KY,y=t(3400).counterRegex,i=t(43520),P="geo",L=y(P),l={};l[P]={valType:"subplotid",dflt:P,editType:"calc"},tt.exports={attr:P,name:P,idRoot:P,idRegex:L,attrRegex:L,attributes:l,layoutAttributes:t(40384),supplyLayoutDefaults:t(86920),plot:function m(s){for(var a=s._fullLayout,h=s.calcdata,f=a._subplots[P],u=0;u<f.length;u++){var g=f[u],c=A(h,P,g),d=a[g]._subplot;d||(d=i({id:g,graphDiv:s,container:a._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),a[g]._subplot=d),d.plot(c,a,s._promises)}},updateFx:function e(s){for(var a=s._fullLayout,h=a._subplots[P],f=0;f<h.length;f++){var u=a[h[f]];u._subplot.updateFx(a,u)}},clean:function r(s,a,h,f){for(var u=f._subplots[P]||[],g=0;g<u.length;g++){var c=u[g],w=f[c]._subplot;!a[c]&&w&&(w.framework.remove(),w.clipDef.remove())}}}},40384:function(tt,W,t){"use strict";var A=t(22548),y=t(86968).u,i=t(98192).u,P=t(79552),L=t(67824).overrideAll,l=t(95376),m={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:A.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:i};(tt.exports=L({domain:y({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:l(P.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:l(P.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:A.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:P.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:P.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:P.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:P.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:A.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:A.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:A.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:A.background},lonaxis:m,lataxis:m},"plot","from-root")).uirevision={valType:"any",editType:"none"}},86920:function(tt,W,t){"use strict";var A=t(3400),y=t(168),i=t(84888).op,P=t(79552),L=t(40384),l=P.axesNames;function m(r,e,s,a){var f=i(a.fullData,"geo",a.id).map(function(rt){return rt._expandedIndex}),u=s("resolution"),g=s("scope"),c=P.scopeDefaults[g],w=s("projection.type",c.projType),d=e._isAlbersUsa="albers usa"===w;d&&(g=e.scope="usa");var o=e._isScoped="world"!==g,v=e._isSatellite="satellite"===w,M=e._isConic=-1!==w.indexOf("conic")||"albers"===w,b=e._isClipped=!!P.lonaxisSpan[w];if(!1===r.visible){var E=A.extendDeep({},e._template);E.showcoastlines=!1,E.showcountries=!1,E.showframe=!1,E.showlakes=!1,E.showland=!1,E.showocean=!1,E.showrivers=!1,E.showsubunits=!1,E.lonaxis&&(E.lonaxis.showgrid=!1),E.lataxis&&(E.lataxis.showgrid=!1),e._template=E}for(var x=s("visible"),T=0;T<l.length;T++){var p,n=l[T],C=[30,10][T];if(o)p=c[n+"Range"];else{var F=P[n+"Span"],D=(F[w]||F["*"])/2,N=s("projection.rotation."+n.substr(0,3),c.projRotate[T]);p=[N-D,N+D]}var k=s(n+".range",p);s(n+".tick0"),s(n+".dtick",C),s(n+".showgrid",!!x&&void 0)&&(s(n+".gridcolor"),s(n+".gridwidth"),s(n+".griddash")),e[n]._ax={type:"linear",_id:n.slice(0,3),_traceIndices:f,setScale:A.identity,c2l:A.identity,r2l:A.identity,autorange:!0,range:k.slice(),_m:1,_input:{}}}var z=e.lonaxis.range,B=e.lataxis.range,O=z[0],U=z[1];O>0&&U<0&&(U+=360);var J,at,lt,G=(O+U)/2;if(!d){var et=o?c.projRotate:[G,0,0];J=s("projection.rotation.lon",et[0]),s("projection.rotation.lat",et[1]),s("projection.rotation.roll",et[2]),s("showcoastlines",!o&&x)&&(s("coastlinecolor"),s("coastlinewidth")),s("showocean",!!x&&void 0)&&s("oceancolor")}d?(at=-96.6,lt=38.7):(at=o?G:J,lt=(B[0]+B[1])/2),s("center.lon",at),s("center.lat",lt),v&&(s("projection.tilt"),s("projection.distance")),M&&s("projection.parallels",c.projParallels||[0,60]),s("projection.scale"),s("showland",!!x&&void 0)&&s("landcolor"),s("showlakes",!!x&&void 0)&&s("lakecolor"),s("showrivers",!!x&&void 0)&&(s("rivercolor"),s("riverwidth")),s("showcountries",o&&"usa"!==g&&x)&&(s("countrycolor"),s("countrywidth")),("usa"===g||"north america"===g&&50===u)&&(s("showsubunits",x),s("subunitcolor"),s("subunitwidth")),o||s("showframe",x)&&(s("framecolor"),s("framewidth")),s("bgcolor"),s("fitbounds")&&(delete e.projection.scale,o?(delete e.center.lon,delete e.center.lat):b?(delete e.center.lon,delete e.center.lat,delete e.projection.rotation.lon,delete e.projection.rotation.lat,delete e.lonaxis.range,delete e.lataxis.range):(delete e.center.lon,delete e.center.lat,delete e.projection.rotation.lon))}tt.exports=function(e,s,a){y(e,s,a,{type:"geo",attributes:L,handleDefaults:m,fullData:a,partition:"y"})}},79248:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=t(24040),P=Math.PI/180,L=180/Math.PI,l={cursor:"pointer"},m={cursor:"auto"};function e(n,C){return A.behavior.zoom().translate(C.translate()).scale(C.scale())}function s(n,C,p){var F=n.id,D=n.graphDiv,N=D.layout,k=N[F],z=D._fullLayout,B=z[F],O={},U={};function G(J,et){O[F+"."+J]=y.nestedProperty(k,J).get(),i.call("_storeDirectGUIEdit",N,z._preGUI,O);var at=y.nestedProperty(B,J);at.get()!==et&&(at.set(et),y.nestedProperty(k,J).set(et),U[F+"."+J]=et)}p(G),G("projection.scale",C.scale()/n.fitScale),G("fitbounds",!1),D.emit("plotly_relayout",U)}function a(n,C){var p=e(0,C);function N(z){var B=C.invert(n.midPt);z("center.lon",B[0]),z("center.lat",B[1])}return p.on("zoomstart",function F(){A.select(this).style(l)}).on("zoom",function D(){C.scale(A.event.scale).translate(A.event.translate),n.render(!0);var z=C.invert(n.midPt);n.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/n.fitScale,"geo.center.lon":z[0],"geo.center.lat":z[1]})}).on("zoomend",function k(){A.select(this).style(m),s(n,C,N)}),p}function h(n,C){var D,N,k,z,B,O,U,G,J,p=e(0,C);function et(H){return C.invert(H)}function rt(H){var Z=C.rotate(),it=C.invert(n.midPt);H("projection.rotation.lon",-Z[0]),H("center.lon",it[0]),H("center.lat",it[1])}return p.on("zoomstart",function lt(){A.select(this).style(l),D=A.mouse(this),N=C.rotate(),k=C.translate(),z=N,B=et(D)}).on("zoom",function K(){if(O=A.mouse(this),function at(H){var Z=et(H);if(!Z)return!0;var it=C(Z);return Math.abs(it[0]-H[0])>2||Math.abs(it[1]-H[1])>2}(D))return p.scale(C.scale()),void p.translate(C.translate());C.scale(A.event.scale),C.translate([k[0],A.event.translate[1]]),B?et(O)&&(G=et(O),C.rotate(U=[z[0]+(G[0]-B[0]),N[1],N[2]]),z=U):B=et(D=O),J=!0,n.render(!0);var H=C.rotate(),Z=C.invert(n.midPt);n.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/n.fitScale,"geo.center.lon":Z[0],"geo.center.lat":Z[1],"geo.projection.rotation.lon":-H[0]})}).on("zoomend",function j(){A.select(this).style(m),J&&s(n,C,rt)}),p}function f(n,C){var z,p={r:C.rotate(),k:C.scale()},F=e(0,C),D=function T(n){for(var C=0,p=arguments.length,F=[];++C<p;)F.push(arguments[C]);var D=A.dispatch.apply(null,F);return D.of=function(N,k){return function(z){var B;try{B=z.sourceEvent=A.event,z.target=n,A.event=z,D[z.type].apply(N,k)}finally{A.event=B}}},D}(F,"zoomstart","zoom","zoomend"),N=0,k=F.on;function B(J){N++||J({type:"zoomstart"})}function O(J){J({type:"zoom"})}function U(J){--N||J({type:"zoomend"})}function G(J){var et=C.rotate();J("projection.rotation.lon",-et[0]),J("projection.rotation.lat",-et[1])}return F.on("zoomstart",function(){A.select(this).style(l);var J=A.mouse(this),et=C.rotate(),at=et,lt=C.translate(),K=g(et);z=u(C,J),k.call(F,"zoom",function(){var j=A.mouse(this);if(C.scale(p.k=A.event.scale),z){if(u(C,j)){C.rotate(et).translate(lt);var rt=u(C,j),H=w(z,rt),Z=b(c(K,H)),it=p.r=d(Z,z,at);(!isFinite(it[0])||!isFinite(it[1])||!isFinite(it[2]))&&(it=at),C.rotate(it),at=it}}else z=u(C,J=j);O(D.of(this,arguments))}),B(D.of(this,arguments))}).on("zoomend",function(){A.select(this).style(m),k.call(F,"zoom",null),U(D.of(this,arguments)),s(n,C,G)}).on("zoom.redraw",function(){n.render(!0);var J=C.rotate();n.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/n.fitScale,"geo.projection.rotation.lon":-J[0],"geo.projection.rotation.lat":-J[1]})}),A.rebind(F,D,"on")}function u(n,C){var p=n.invert(C);return p&&isFinite(p[0])&&isFinite(p[1])&&function E(n){var C=n[0]*P,p=n[1]*P,F=Math.cos(p);return[F*Math.cos(C),F*Math.sin(C),Math.sin(p)]}(p)}function g(n){var C=.5*n[0]*P,p=.5*n[1]*P,F=.5*n[2]*P,D=Math.sin(C),N=Math.cos(C),k=Math.sin(p),z=Math.cos(p),B=Math.sin(F),O=Math.cos(F);return[N*z*O+D*k*B,D*z*O-N*k*B,N*k*O+D*z*B,N*z*B-D*k*O]}function c(n,C){var p=n[0],F=n[1],D=n[2],N=n[3],k=C[0],z=C[1],B=C[2],O=C[3];return[p*k-F*z-D*B-N*O,p*z+F*k+D*O-N*B,p*B-F*O+D*k+N*z,p*O+F*B-D*z+N*k]}function w(n,C){if(n&&C){var p=function S(n,C){return[n[1]*C[2]-n[2]*C[1],n[2]*C[0]-n[0]*C[2],n[0]*C[1]-n[1]*C[0]]}(n,C),F=Math.sqrt(x(p,p)),D=.5*Math.acos(Math.max(-1,Math.min(1,x(n,C)))),N=Math.sin(D)/F;return F&&[Math.cos(D),p[2]*N,-p[1]*N,p[0]*N]}}function d(n,C,p){var F=M(C,2,n[0]);F=M(F,1,n[1]),F=M(F,0,n[2]-p[2]);var J,et,D=C[0],N=C[1],k=C[2],z=F[0],B=F[1],O=F[2],U=Math.atan2(N,D)*L,G=Math.sqrt(D*D+N*N);Math.abs(B)>G?(et=(B>0?90:-90)-U,J=0):(et=Math.asin(B/G)*L-U,J=Math.sqrt(G*G-B*B));var at=180-et-2*U,lt=(Math.atan2(O,z)-Math.atan2(k,J))*L,K=(Math.atan2(O,z)-Math.atan2(k,-J))*L;return o(p[0],p[1],et,lt)<=o(p[0],p[1],at,K)?[et,lt,p[2]]:[at,K,p[2]]}function o(n,C,p,F){var D=v(p-n),N=v(F-C);return Math.sqrt(D*D+N*N)}function v(n){return(n%360+540)%360-180}function M(n,C,p){var F=p*P,D=n.slice(),N=0===C?1:0,k=2===C?1:2,z=Math.cos(F),B=Math.sin(F);return D[N]=n[N]*z-n[k]*B,D[k]=n[k]*z+n[N]*B,D}function b(n){return[Math.atan2(2*(n[0]*n[1]+n[2]*n[3]),1-2*(n[1]*n[1]+n[2]*n[2]))*L,Math.asin(Math.max(-1,Math.min(1,2*(n[0]*n[2]-n[3]*n[1]))))*L,Math.atan2(2*(n[0]*n[3]+n[1]*n[2]),1-2*(n[2]*n[2]+n[3]*n[3]))*L]}function x(n,C){for(var p=0,F=0,D=n.length;F<D;++F)p+=n[F]*C[F];return p}tt.exports=function r(n,C){return(C._isScoped?a:C._isClipped?f:h)(n,n.projection)}},84888:function(tt,W,t){"use strict";var A=t(24040),y=t(33816).SUBPLOT_PATTERN;W.KY=function(i,P,L){var l=A.subplotsRegistry[P];if(!l)return[];for(var m=l.attr,r=[],e=0;e<i.length;e++){var s=i[e];s[0].trace[m]===L&&r.push(s)}return r},W._M=function(i,P){var m,L=[],l=[];if(!(m="string"==typeof P?A.getModule(P).plot:"function"==typeof P?P:P.plot))return[L,i];for(var r=0;r<i.length;r++){var e=i[r],s=e[0].trace;!0!==s.visible||0===s._length||(s._module&&s._module.plot===m?L.push(e):l.push(e))}return[L,l]},W.op=function(P,L,l){if(!A.subplotsRegistry[L])return[];var e,s,a,m=A.subplotsRegistry[L].attr,r=[];if("gl2d"===L){var h=l.match(y);s="x"+h[1],a="y"+h[2]}for(var f=0;f<P.length;f++)e=P[f],"gl2d"===L&&A.traceIs(e,"gl2d")?e[m[0]]===s&&e[m[1]]===a&&r.push(e):e[m]===l&&r.push(e);return r}},2428:function(tt,W,t){"use strict";var A=t(62644),y=t(97264),i=t(29128),P=t(33816),L=t(89184);function l(r,e){this.element=r,this.plot=e,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}tt.exports=function m(r){var e=r.mouseContainer,s=r.glplot,a=new l(e,s);function h(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function u(g,c,w){var x,S,d=r.calcDataBox(),o=s.viewBox,v=a.lastPos[0],M=a.lastPos[1],b=P.MINDRAG*s.pixelRatio,E=P.MINZOOM*s.pixelRatio;function T(N,k,z){var B=Math.min(k,z),O=Math.max(k,z);B!==O?(d[N]=B,d[N+2]=O,a.dataBox=d,r.setRanges(d)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(c*=s.pixelRatio,w=o[3]-o[1]-(w*=s.pixelRatio),r.fullLayout.dragmode){case"zoom":if(g){var n=c/(o[2]-o[0])*(d[2]-d[0])+d[0],C=w/(o[3]-o[1])*(d[3]-d[1])+d[1];a.boxInited||(a.boxStart[0]=n,a.boxStart[1]=C,a.dragStart[0]=c,a.dragStart[1]=w),a.boxEnd[0]=n,a.boxEnd[1]=C,a.boxInited=!0,!a.boxEnabled&&(a.boxStart[0]!==a.boxEnd[0]||a.boxStart[1]!==a.boxEnd[1])&&(a.boxEnabled=!0);var p=Math.abs(a.dragStart[0]-c)<E,F=Math.abs(a.dragStart[1]-w)<E;if(!function f(){for(var g=r.graphDiv._fullLayout._axisConstraintGroups,c=r.xaxis._id,w=r.yaxis._id,d=0;d<g.length;d++)if(-1!==g[d][c]){if(-1!==g[d][w])return!0;break}return!1}()||p&&F)p&&(a.boxEnd[0]=a.boxStart[0]),F&&(a.boxEnd[1]=a.boxStart[1]);else{x=a.boxEnd[0]-a.boxStart[0],S=a.boxEnd[1]-a.boxStart[1];var D=(d[3]-d[1])/(d[2]-d[0]);Math.abs(x*D)>Math.abs(S)?(a.boxEnd[1]=a.boxStart[1]+Math.abs(x)*D*(S>=0?1:-1),a.boxEnd[1]<d[1]?(a.boxEnd[1]=d[1],a.boxEnd[0]=a.boxStart[0]+(d[1]-a.boxStart[1])/Math.abs(D)):a.boxEnd[1]>d[3]&&(a.boxEnd[1]=d[3],a.boxEnd[0]=a.boxStart[0]+(d[3]-a.boxStart[1])/Math.abs(D))):(a.boxEnd[0]=a.boxStart[0]+Math.abs(S)/D*(x>=0?1:-1),a.boxEnd[0]<d[0]?(a.boxEnd[0]=d[0],a.boxEnd[1]=a.boxStart[1]+(d[0]-a.boxStart[0])*Math.abs(D)):a.boxEnd[0]>d[2]&&(a.boxEnd[0]=d[2],a.boxEnd[1]=a.boxStart[1]+(d[2]-a.boxStart[0])*Math.abs(D)))}}else a.boxEnabled?(S=a.boxStart[1]!==a.boxEnd[1],(x=a.boxStart[0]!==a.boxEnd[0])||S?(x&&(T(0,a.boxStart[0],a.boxEnd[0]),r.xaxis.autorange=!1),S&&(T(1,a.boxStart[1],a.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),a.boxEnabled=!1,a.boxInited=!1):a.boxInited&&(a.boxInited=!1);break;case"pan":a.boxEnabled=!1,a.boxInited=!1,g?(a.panning||(a.dragStart[0]=c,a.dragStart[1]=w),Math.abs(a.dragStart[0]-c)<b&&(c=a.dragStart[0]),Math.abs(a.dragStart[1]-w)<b&&(w=a.dragStart[1]),S=(M-w)*(d[3]-d[1])/(s.viewBox[3]-s.viewBox[1]),d[0]+=x=(v-c)*(d[2]-d[0])/(s.viewBox[2]-s.viewBox[0]),d[2]+=x,d[1]+=S,d[3]+=S,r.setRanges(d),a.panning=!0,a.lastInputTime=Date.now(),h(),r.cameraChanged(),r.handleAnnotations()):a.panning&&(a.panning=!1,r.relayoutCallback())}a.lastPos[0]=c,a.lastPos[1]=w}return a.mouseListener=A(e,u),e.addEventListener("touchstart",function(g){var c=i(g.changedTouches[0],e);u(0,c[0],c[1]),u(1,c[0],c[1]),g.preventDefault()},!!L&&{passive:!1}),e.addEventListener("touchmove",function(g){g.preventDefault();var c=i(g.changedTouches[0],e);u(1,c[0],c[1]),g.preventDefault()},!!L&&{passive:!1}),e.addEventListener("touchend",function(g){u(0,a.lastPos[0],a.lastPos[1]),g.preventDefault()},!!L&&{passive:!1}),a.wheelListener=y(e,function(g,c){if(!r.scrollZoom)return!1;var w=r.calcDataBox(),d=s.viewBox,o=a.lastPos[0],v=a.lastPos[1],M=Math.exp(5*c/(d[3]-d[1])),b=o/(d[2]-d[0])*(w[2]-w[0])+w[0],E=v/(d[3]-d[1])*(w[3]-w[1])+w[1];return w[0]=(w[0]-b)*M+b,w[2]=(w[2]-b)*M+b,w[1]=(w[1]-E)*M+E,w[3]=(w[3]-E)*M+E,r.setRanges(w),a.lastInputTime=Date.now(),h(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),a}},92568:function(tt,W,t){"use strict";var A=t(54460),y=t(43080);function i(m){this.scene=m,this.gl=m.gl,this.pixelRatio=m.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var P=i.prototype,L=["xaxis","yaxis"];P.merge=function(m){var r,e,s,a,h,f,u,g,c,w,d;for(this.titleEnable=!1,this.backgroundColor=y(m.plot_bgcolor),w=0;w<2;++w){var o=(r=L[w]).charAt(0);for(s=(e=m[this.scene[r]._name]).title.text===this.scene.fullLayout._dfltTitle[o]?"":e.title.text,d=0;d<=2;d+=2)this.labelEnable[w+d]=!1,this.labels[w+d]=s,this.labelColor[w+d]=y(e.title.font.color),this.labelFont[w+d]=e.title.font.family,this.labelSize[w+d]=e.title.font.size,this.labelPad[w+d]=this.getLabelPad(r,e),this.tickEnable[w+d]=!1,this.tickColor[w+d]=y((e.tickfont||{}).color),this.tickAngle[w+d]="auto"===e.tickangle?0:Math.PI*-e.tickangle/180,this.tickPad[w+d]=this.getTickPad(e),this.tickMarkLength[w+d]=0,this.tickMarkWidth[w+d]=e.tickwidth||0,this.tickMarkColor[w+d]=y(e.tickcolor),this.borderLineEnable[w+d]=!1,this.borderLineColor[w+d]=y(e.linecolor),this.borderLineWidth[w+d]=e.linewidth||0;u=this.hasSharedAxis(e),h=this.hasAxisInDfltPos(r,e)&&!u,f=this.hasAxisInAltrPos(r,e)&&!u,a=e.mirror||!1,g=u?-1!==String(a).indexOf("all"):!!a,c=u?"allticks"===a:-1!==String(a).indexOf("ticks"),h?this.labelEnable[w]=!0:f&&(this.labelEnable[w+2]=!0),h?this.tickEnable[w]=e.showticklabels:f&&(this.tickEnable[w+2]=e.showticklabels),(h||g)&&(this.borderLineEnable[w]=e.showline),(f||g)&&(this.borderLineEnable[w+2]=e.showline),(h||c)&&(this.tickMarkLength[w]=this.getTickMarkLength(e)),(f||c)&&(this.tickMarkLength[w+2]=this.getTickMarkLength(e)),this.gridLineEnable[w]=e.showgrid,this.gridLineColor[w]=y(e.gridcolor),this.gridLineWidth[w]=e.gridwidth,this.zeroLineEnable[w]=e.zeroline,this.zeroLineColor[w]=y(e.zerolinecolor),this.zeroLineWidth[w]=e.zerolinewidth}},P.hasSharedAxis=function(m){var r=this.scene;return 0!==A.findSubplotsWithAxis(r.fullLayout._subplots.gl2d,m).indexOf(r.id)},P.hasAxisInDfltPos=function(m,r){var e=r.side;return"xaxis"===m?"bottom"===e:"yaxis"===m?"left"===e:void 0},P.hasAxisInAltrPos=function(m,r){var e=r.side;return"xaxis"===m?"top"===e:"yaxis"===m?"right"===e:void 0},P.getLabelPad=function(m,r){var e=1.5,s=r.title.font.size,a=r.showticklabels;return"xaxis"===m?"top"===r.side?s*(e+(a?1:0))-10:s*(e+(a?.5:0))-10:"yaxis"===m?"right"===r.side?10+s*(e+(a?1:.5)):10+s*(e+(a?.5:0)):void 0},P.getTickPad=function(m){return"outside"===m.ticks?10+m.ticklen:15},P.getTickMarkLength=function(m){if(!m.ticks)return 0;var r=m.ticklen;return"inside"===m.ticks?-r:r},tt.exports=function l(m){return new i(m)}},39952:function(tt,W,t){"use strict";var A=t(67824).overrideAll,y=t(17188),i=t(64859),P=t(9616),L=t(33816),l=t(57952),m=t(65460),r=t(84888).op;W.name="gl2d",W.attr=["xaxis","yaxis"],W.idRoot=["x","y"],W.idRegex=L.idRegex,W.attrRegex=L.attrRegex,W.attributes=t(26720),W.supplyLayoutDefaults=function(e,s,a){s._has("cartesian")||l.supplyLayoutDefaults(e,s,a)},W.layoutAttrOverrides=A(l.layoutAttributes,"plot","from-root"),W.baseLayoutAttrOverrides=A({plot_bgcolor:i.plot_bgcolor,hoverlabel:m.hoverlabel},"plot","nested"),W.plot=function(s){for(var a=s._fullLayout,h=s._fullData,f=a._subplots.gl2d,u=0;u<f.length;u++){var g=f[u],c=a._plots[g],w=r(h,"gl2d",g),d=c._scene2d;void 0===d&&(d=new y({id:g,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio},a),c._scene2d=d),d.plot(w,s.calcdata,a,s.layout)}},W.clean=function(e,s,a,h){for(var f=h._subplots.gl2d||[],u=0;u<f.length;u++){var g=f[u],c=h._plots[g];c._scene2d&&0===r(e,"gl2d",g).length&&(c._scene2d.destroy(),delete h._plots[g])}l.clean.apply(this,arguments)},W.drawFramework=function(e){e._context.staticPlot||l.drawFramework(e)},W.toSVG=function(e){for(var s=e._fullLayout,a=s._subplots.gl2d,h=0;h<a.length;h++){var u=s._plots[a[h]]._scene2d,g=u.toImage("png");s._glimages.append("svg:image").attr({xmlns:P.svg,"xlink:href":g,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),u.destroy()}},W.updateFx=function(e){for(var s=e._fullLayout,a=s._subplots.gl2d,h=0;h<a.length;h++)s._plots[a[h]]._scene2d.updateFx(s.dragmode)}},17188:function(tt,W,t){"use strict";var o,v,A=t(24040),y=t(54460),i=t(93024),P=t(67792).gl_plot2d,L=t(67792).gl_spikes2d,l=t(67792).gl_select_box,m=t(5408),r=t(92568),e=t(2428),s=t(16576),a=t(71888),h=a.enforce,f=a.clean,u=t(19280).doAutoRange,g=t(72760),c=g.drawMode,w=g.selectMode,d=["xaxis","yaxis"],M=t(33816).SUBPLOT_PATTERN;function b(S,T){this.container=S.container,this.graphDiv=S.graphDiv,this.pixelRatio=S.plotGlPixelRatio||window.devicePixelRatio,this.id=S.id,this.staticPlot=!!S.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(T),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(T),this.glplot=P(this.glplotOptions),this.camera=e(this),this.traces={},this.spikes=L(this.glplot),this.selectBox=l(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}tt.exports=b;var E=b.prototype;E.makeFramework=function(){if(this.staticPlot){if(!(v||(o=document.createElement("canvas"),v=m({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=v}else{var S=this.container.querySelector(".gl-canvas-focus"),T=m({canvas:S,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!T)return s(this),void(this.stopped=!0);this.canvas=S,this.gl=T}var n=this.canvas;n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style["pointer-events"]="none",this.updateSize(n);var C=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");C.style.position="absolute",C.style.top=C.style.left="0px",C.style.width=C.style.height="100%",C.style["z-index"]=20,C.style["pointer-events"]="none";var p=this.mouseContainer=document.createElement("div");p.style.position="absolute",p.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var F=this.container;F.appendChild(C),F.appendChild(p);var D=this;p.addEventListener("mouseout",function(){D.isMouseOver=!1,D.unhover()}),p.addEventListener("mouseover",function(){D.isMouseOver=!0})},E.toImage=function(S){S||(S="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var T=this.glplot.gl,n=T.drawingBufferWidth,C=T.drawingBufferHeight;T.clearColor(1,1,1,0),T.clear(T.COLOR_BUFFER_BIT|T.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),T.bindFramebuffer(T.FRAMEBUFFER,null);var p=new Uint8Array(n*C*4);T.readPixels(0,0,n,C,T.RGBA,T.UNSIGNED_BYTE,p);for(var F=0,D=C-1;F<D;++F,--D)for(var N=0;N<n;++N)for(var k=0;k<4;++k){var z=p[4*(n*F+N)+k];p[4*(n*F+N)+k]=p[4*(n*D+N)+k],p[4*(n*D+N)+k]=z}var B=document.createElement("canvas");B.width=n,B.height=C;var G,O=B.getContext("2d",{willReadFrequently:!0}),U=O.createImageData(n,C);switch(U.data.set(p),O.putImageData(U,0,0),S){case"jpeg":G=B.toDataURL("image/jpeg");break;case"webp":G=B.toDataURL("image/webp");break;default:G=B.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),G},E.updateSize=function(S){S||(S=this.canvas);var T=this.pixelRatio,n=this.fullLayout,p=n.height,F=0|Math.ceil(T*n.width),D=0|Math.ceil(T*p);return(S.width!==F||S.height!==D)&&(S.width=F,S.height=D),S},E.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var S=[y.calcTicks(this.xaxis),y.calcTicks(this.yaxis)],T=0;T<2;++T)for(var n=0;n<S[T].length;++n)S[T][n].text=S[T][n].text+"";return S},E.updateRefs=function(S){this.fullLayout=S;var T=this.id.match(M),C="yaxis"+T[2];this.xaxis=this.fullLayout["xaxis"+T[1]],this.yaxis=this.fullLayout[C]},E.relayoutCallback=function(){var S=this.graphDiv,T=this.xaxis,n=this.yaxis,C=S.layout,p={},F=p[T._name+".range"]=T.range.slice(),D=p[n._name+".range"]=n.range.slice();p[T._name+".autorange"]=T.autorange,p[n._name+".autorange"]=n.autorange,A.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,p);var N=C[T._name];N.range=F,N.autorange=T.autorange;var k=C[n._name];k.range=D,k.autorange=n.autorange,p.lastInputTime=this.camera.lastInputTime,S.emit("plotly_relayout",p)},E.cameraChanged=function(){var S=this.camera;this.glplot.setDataBox(this.calcDataBox());var T=this.computeTickMarks();(function x(S,T){for(var n=0;n<2;++n){var C=S[n],p=T[n];if(C.length!==p.length)return!0;for(var F=0;F<C.length;++F)if(C[F].x!==p[F].x)return!0}return!1})(T,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=T,this.glplotOptions.dataBox=S.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},E.handleAnnotations=function(){for(var S=this.graphDiv,T=this.fullLayout.annotations,n=0;n<T.length;n++){var C=T[n];C.xref===this.xaxis._id&&C.yref===this.yaxis._id&&A.getComponentMethod("annotations","drawOne")(S,n)}},E.destroy=function(){if(this.glplot){var S=this.traces;S&&Object.keys(S).map(function(T){S[T].dispose(),delete S[T]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},E.plot=function(S,T,n){var C=this.glplot;this.updateRefs(n),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(S,T),this.updateFx(n.dragmode);var p=n.width,F=n.height;this.updateSize(this.canvas);var D=this.glplotOptions;D.merge(n),D.screenBox=[0,0,p,F];var N={_fullLayout:{_axisConstraintGroups:n._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:n._size}};f(N,this.xaxis),f(N,this.yaxis);var O,U,k=n._size,z=this.xaxis.domain,B=this.yaxis.domain;for(D.viewBox=[k.l+z[0]*k.w,k.b+B[0]*k.h,p-k.r-(1-z[1])*k.w,F-k.t-(1-B[1])*k.h],this.mouseContainer.style.width=k.w*(z[1]-z[0])+"px",this.mouseContainer.style.height=k.h*(B[1]-B[0])+"px",this.mouseContainer.height=k.h*(B[1]-B[0]),this.mouseContainer.style.left=k.l+z[0]*k.w+"px",this.mouseContainer.style.top=k.t+(1-B[1])*k.h+"px",U=0;U<2;++U)(O=this[d[U]])._length=D.viewBox[U+2]-D.viewBox[U],u(this.graphDiv,O),O.setScale();h(N),D.ticks=this.computeTickMarks(),D.dataBox=this.calcDataBox(),D.merge(n),C.update(D),this.glplot.draw()},E.calcDataBox=function(){var S=this.xaxis,T=this.yaxis,n=S.range,C=T.range,p=S.r2l,F=T.r2l;return[p(n[0]),F(C[0]),p(n[1]),F(C[1])]},E.setRanges=function(S){var T=this.xaxis,n=this.yaxis,C=T.l2r,p=n.l2r;T.range=[C(S[0]),C(S[2])],n.range=[p(S[1]),p(S[3])]},E.updateTraces=function(S,T){var C,p,F,n=Object.keys(this.traces);this.fullData=S;t:for(C=0;C<n.length;C++){var D=n[C],N=this.traces[D];for(p=0;p<S.length;p++)if((F=S[p]).uid===D&&F.type===N.type)continue t;N.dispose(),delete this.traces[D]}for(C=0;C<S.length;C++){var k=T[C],z=this.traces[(F=S[C]).uid];z?z.update(F,k):(z=F._module.plot(this,F,k),this.traces[F.uid]=z)}this.glplot.objects.sort(function(B,O){return B._trace.index-O._trace.index})},E.updateFx=function(S){w(S)||c(S)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===S?"move":"zoom"===S?"crosshair":null},E.emitPointAction=function(S,T){for(var p,n=S.trace.uid,C=S.pointIndex,F=0;F<this.fullData.length;F++)this.fullData[F].uid===n&&(p=this.fullData[F]);var D={x:S.traceCoord[0],y:S.traceCoord[1],curveNumber:p.index,pointNumber:C,data:p._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};i.appendArrayPointValue(D,p,C),this.graphDiv.emit(T,{points:[D]})},E.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var S=this.glplot,T=this.camera,n=T.mouseListener,C=1===this.lastButtonState&&0===n.buttons,p=this.fullLayout;this.lastButtonState=n.buttons,this.cameraChanged();var N,F=n.x*S.pixelRatio,D=this.canvas.height-S.pixelRatio*n.y;if(T.boxEnabled&&"zoom"===p.dragmode){this.selectBox.enabled=!0;for(var k=this.selectBox.selectBox=[Math.min(T.boxStart[0],T.boxEnd[0]),Math.min(T.boxStart[1],T.boxEnd[1]),Math.max(T.boxStart[0],T.boxEnd[0]),Math.max(T.boxStart[1],T.boxEnd[1])],z=0;z<2;z++)T.boxStart[z]===T.boxEnd[z]&&(k[z]=S.dataBox[z],k[z+2]=S.dataBox[z+2]);S.setDirty()}else if(!T.panning&&this.isMouseOver){this.selectBox.enabled=!1;var B=p._size,G=(N=S.pick(F/S.pixelRatio+B.l+this.xaxis.domain[0]*B.w,D/S.pixelRatio-(B.t+(1-this.yaxis.domain[1])*B.h)))&&N.object._trace.handlePick(N);if(G&&C&&this.emitPointAction(G,"plotly_click"),N&&"skip"!==N.object._trace.hoverinfo&&p.hovermode&&G&&(!this.lastPickResult||this.lastPickResult.traceUid!==G.trace.uid||this.lastPickResult.dataCoord[0]!==G.dataCoord[0]||this.lastPickResult.dataCoord[1]!==G.dataCoord[1])){var J=G;this.lastPickResult={traceUid:G.trace?G.trace.uid:null,dataCoord:G.dataCoord.slice()},this.spikes.update({center:N.dataCoord}),J.screenCoord=[((S.viewBox[2]-S.viewBox[0])*(N.dataCoord[0]-S.dataBox[0])/(S.dataBox[2]-S.dataBox[0])+S.viewBox[0])/S.pixelRatio,(this.canvas.height-(S.viewBox[3]-S.viewBox[1])*(N.dataCoord[1]-S.dataBox[1])/(S.dataBox[3]-S.dataBox[1])-S.viewBox[1])/S.pixelRatio],this.emitPointAction(G,"plotly_hover");var et=this.fullData[J.trace.index]||{},at=J.pointIndex,lt=i.castHoverinfo(et,p,at);if(lt&&"all"!==lt){var K=lt.split("+");-1===K.indexOf("x")&&(J.traceCoord[0]=void 0),-1===K.indexOf("y")&&(J.traceCoord[1]=void 0),-1===K.indexOf("z")&&(J.traceCoord[2]=void 0),-1===K.indexOf("text")&&(J.textLabel=void 0),-1===K.indexOf("name")&&(J.name=void 0)}i.loneHover({x:J.screenCoord[0],y:J.screenCoord[1],xLabel:this.hoverFormatter("xaxis",J.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",J.traceCoord[1]),zLabel:J.traceCoord[2],text:J.textLabel,name:J.name,color:i.castHoverOption(et,at,"bgcolor")||J.color,borderColor:i.castHoverOption(et,at,"bordercolor"),fontFamily:i.castHoverOption(et,at,"font.family"),fontSize:i.castHoverOption(et,at,"font.size"),fontColor:i.castHoverOption(et,at,"font.color"),nameLength:i.castHoverOption(et,at,"namelength"),textAlign:i.castHoverOption(et,at,"align")},{container:this.svgContainer,gd:this.graphDiv})}}N||this.unhover(),S.draw()}},E.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),i.loneUnhover(this.svgContainer))},E.hoverFormatter=function(S,T){if(void 0!==T){var n=this[S];return y.tickText(n,n.c2l(T),"hover").text}}},12536:function(tt,W,t){"use strict";var A=t(67824).overrideAll,y=t(65460),i=t(98432),P=t(84888).op,L=t(3400),l=t(9616),m="gl3d",r="scene";W.name=m,W.attr=r,W.idRoot=r,W.idRegex=W.attrRegex=L.counterRegex("scene"),W.attributes=t(6636),W.layoutAttributes=t(346),W.baseLayoutAttrOverrides=A({hoverlabel:y.hoverlabel},"plot","nested"),W.supplyLayoutDefaults=t(5208),W.plot=function(s){for(var a=s._fullLayout,h=s._fullData,f=a._subplots[m],u=0;u<f.length;u++){var g=f[u],c=P(h,m,g),w=a[g],d=w.camera,o=w._scene;o||(o=new i({id:g,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio,camera:d},a),w._scene=o),o.viewInitial||(o.viewInitial={up:{x:d.up.x,y:d.up.y,z:d.up.z},eye:{x:d.eye.x,y:d.eye.y,z:d.eye.z},center:{x:d.center.x,y:d.center.y,z:d.center.z}}),o.plot(c,a,s.layout)}},W.clean=function(e,s,a,h){for(var f=h._subplots[m]||[],u=0;u<f.length;u++){var g=f[u];!s[g]&&h[g]._scene&&(h[g]._scene.destroy(),h._infolayer&&h._infolayer.selectAll(".annotation-"+g).remove())}},W.toSVG=function(e){for(var s=e._fullLayout,a=s._subplots[m],h=s._size,f=0;f<a.length;f++){var u=s[a[f]],g=u.domain,c=u._scene,w=c.toImage("png");s._glimages.append("svg:image").attr({xmlns:l.svg,"xlink:href":w,x:h.l+h.w*g.x[0],y:h.t+h.h*(1-g.y[1]),width:h.w*(g.x[1]-g.x[0]),height:h.h*(g.y[1]-g.y[0]),preserveAspectRatio:"none"}),c.destroy()}},W.cleanId=function(s){if(s.match(/^scene[0-9]*$/)){var a=s.substr(5);return"1"===a&&(a=""),r+a}},W.updateFx=function(e){for(var s=e._fullLayout,a=s._subplots[m],h=0;h<a.length;h++)s[a[h]]._scene.updateFx(s.dragmode,s.hovermode)}},6636:function(tt){"use strict";tt.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(tt,W,t){"use strict";var A=t(76308),y=t(94724),i=t(92880).extendFlat,P=t(67824).overrideAll;tt.exports=P({visible:y.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:A.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:y.color,categoryorder:y.categoryorder,categoryarray:y.categoryarray,title:{text:y.title.text,font:y.title.font},type:i({},y.type,{values:["-","linear","log","date","category"]}),autotypenumbers:y.autotypenumbers,autorange:y.autorange,autorangeoptions:{minallowed:y.autorangeoptions.minallowed,maxallowed:y.autorangeoptions.maxallowed,clipmin:y.autorangeoptions.clipmin,clipmax:y.autorangeoptions.clipmax,include:y.autorangeoptions.include,editType:"plot"},rangemode:y.rangemode,minallowed:y.minallowed,maxallowed:y.maxallowed,range:i({},y.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:y.minor.tickmode,nticks:y.nticks,tick0:y.tick0,dtick:y.dtick,tickvals:y.tickvals,ticktext:y.ticktext,ticks:y.ticks,mirror:y.mirror,ticklen:y.ticklen,tickwidth:y.tickwidth,tickcolor:y.tickcolor,showticklabels:y.showticklabels,labelalias:y.labelalias,tickfont:y.tickfont,tickangle:y.tickangle,tickprefix:y.tickprefix,showtickprefix:y.showtickprefix,ticksuffix:y.ticksuffix,showticksuffix:y.showticksuffix,showexponent:y.showexponent,exponentformat:y.exponentformat,minexponent:y.minexponent,separatethousands:y.separatethousands,tickformat:y.tickformat,tickformatstops:y.tickformatstops,hoverformat:y.hoverformat,showline:y.showline,linecolor:y.linecolor,linewidth:y.linewidth,showgrid:y.showgrid,gridcolor:i({},y.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:y.gridwidth,zeroline:y.zeroline,zerolinecolor:y.zerolinecolor,zerolinewidth:y.zerolinewidth,_deprecated:{title:y._deprecated.title,titlefont:y._deprecated.titlefont}},"plot","from-root")},64380:function(tt,W,t){"use strict";var A=t(49760).mix,y=t(3400),i=t(31780),P=t(86140),L=t(14944),l=t(28336),m=["xaxis","yaxis","zaxis"];tt.exports=function(s,a,h){var f,u;function g(d,o){return y.coerce(f,u,P,d,o)}for(var c=0;c<m.length;c++){var w=m[c];f=s[w]||{},(u=i.newContainer(a,w))._id=w[0]+h.scene,u._name=w,L(f,u,g,h),l(f,u,g,{font:h.font,letter:w[0],data:h.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:h.bgColor,calendar:h.calendar},h.fullLayout),g("gridcolor",A(u.color,h.bgColor,72.72727272727273).toRgbString()),g("title.text",w[0]),u.setScale=y.noop,g("showspikes")&&(g("spikesides"),g("spikethickness"),g("spikecolor",u.color)),g("showaxeslabels"),g("showbackground")&&g("backgroundcolor")}}},44728:function(tt,W,t){"use strict";var A=t(43080),y=t(3400),i=["xaxis","yaxis","zaxis"];function P(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}P.prototype.merge=function(m,r){for(var e=this,s=0;s<3;++s){var a=r[i[s]];a.visible?(e.labels[s]=m._meta?y.templateString(a.title.text,m._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(e.labelColor[s]=A(a.title.font.color)),a.title.font.family&&(e.labelFont[s]=a.title.font.family),a.title.font.size&&(e.labelSize[s]=a.title.font.size)),"showline"in a&&(e.lineEnable[s]=a.showline),"linecolor"in a&&(e.lineColor[s]=A(a.linecolor)),"linewidth"in a&&(e.lineWidth[s]=a.linewidth),"showgrid"in a&&(e.gridEnable[s]=a.showgrid),"gridcolor"in a&&(e.gridColor[s]=A(a.gridcolor)),"gridwidth"in a&&(e.gridWidth[s]=a.gridwidth),"log"===a.type?e.zeroEnable[s]=!1:"zeroline"in a&&(e.zeroEnable[s]=a.zeroline),"zerolinecolor"in a&&(e.zeroLineColor[s]=A(a.zerolinecolor)),"zerolinewidth"in a&&(e.zeroLineWidth[s]=a.zerolinewidth),e.lineTickEnable[s]=!(!("ticks"in a)||!a.ticks),"ticklen"in a&&(e.lineTickLength[s]=e._defaultLineTickLength[s]=a.ticklen),"tickcolor"in a&&(e.lineTickColor[s]=A(a.tickcolor)),"tickwidth"in a&&(e.lineTickWidth[s]=a.tickwidth),"tickangle"in a&&(e.tickAngle[s]="auto"===a.tickangle?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(e.tickEnable[s]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(e.tickColor[s]=A(a.tickfont.color)),a.tickfont.family&&(e.tickFont[s]=a.tickfont.family),a.tickfont.size&&(e.tickSize[s]=a.tickfont.size)),"mirror"in a?-1!==["ticks","all","allticks"].indexOf(a.mirror)?(e.lineTickMirror[s]=!0,e.lineMirror[s]=!0):!0===a.mirror?(e.lineTickMirror[s]=!1,e.lineMirror[s]=!0):(e.lineTickMirror[s]=!1,e.lineMirror[s]=!1):e.lineMirror[s]=!1,"showbackground"in a&&!1!==a.showbackground?(e.backgroundEnable[s]=!0,e.backgroundColor[s]=A(a.backgroundcolor)):e.backgroundEnable[s]=!1):(e.tickEnable[s]=!1,e.labelEnable[s]=!1,e.lineEnable[s]=!1,e.lineTickEnable[s]=!1,e.gridEnable[s]=!1,e.zeroEnable[s]=!1,e.backgroundEnable[s]=!1)}},tt.exports=function l(m,r){var e=new P;return e.merge(m,r),e}},5208:function(tt,W,t){"use strict";var A=t(3400),y=t(76308),i=t(24040),P=t(168),L=t(64380),l=t(346),m=t(84888).op,r="gl3d";function e(s,a,h,f){for(var u=h("bgcolor"),g=y.combine(u,f.paper_bgcolor),c=["up","center","eye"],w=0;w<c.length;w++)h("camera."+c[w]+".x"),h("camera."+c[w]+".y"),h("camera."+c[w]+".z");h("camera.projection.type");var d=!!h("aspectratio.x")&&!!h("aspectratio.y")&&!!h("aspectratio.z"),v=h("aspectmode",d?"manual":"auto");d||(s.aspectratio=a.aspectratio={x:1,y:1,z:1},"manual"===v&&(a.aspectmode="auto"),s.aspectmode=a.aspectmode);var M=m(f.fullData,r,f.id);L(s,a,{font:f.font,scene:f.id,data:M,bgColor:g,calendar:f.calendar,autotypenumbersDflt:f.autotypenumbersDflt,fullLayout:f.fullLayout}),i.getComponentMethod("annotations3d","handleDefaults")(s,a,f);var b=f.getDfltFromLayout("dragmode");if(!1!==b&&!b)if(b="orbit",s.camera&&s.camera.up){var E=s.camera.up.x,x=s.camera.up.y,S=s.camera.up.z;0!==S&&(!E||!x||!S||S/Math.sqrt(E*E+x*x+S*S)>.999)&&(b="turntable")}else b="turntable";h("dragmode",b),h("hovermode",f.getDfltFromLayout("hovermode"))}tt.exports=function(a,h,f){var u=h._basePlotModules.length>1;P(a,h,f,{type:r,attributes:l,handleDefaults:e,fullLayout:h,font:h.font,fullData:f,getDfltFromLayout:function g(c){if(!u&&A.validate(a[c],l[c]))return a[c]},autotypenumbersDflt:h.autotypenumbers,paper_bgcolor:h.paper_bgcolor,calendar:h.calendar})}},346:function(tt,W,t){"use strict";var A=t(86140),y=t(86968).u,i=t(92880).extendFlat,P=t(3400).counterRegex;function L(l,m,r){return{x:{valType:"number",dflt:l,editType:"camera"},y:{valType:"number",dflt:m,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}tt.exports={_arrayAttrRegexps:[P("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:i(L(0,0,1),{}),center:i(L(0,0,0),{}),eye:i(L(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:y({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:A,yaxis:A,zaxis:A,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(tt,W,t){"use strict";var A=t(43080),y=["xaxis","yaxis","zaxis"];function i(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}i.prototype.merge=function(l){for(var m=0;m<3;++m){var r=l[y[m]];r.visible?(this.enabled[m]=r.showspikes,this.colors[m]=A(r.spikecolor),this.drawSides[m]=r.spikesides,this.lineWidth[m]=r.spikethickness):(this.enabled[m]=!1,this.drawSides[m]=!1)}},tt.exports=function L(l){var m=new i;return m.merge(l),m}},87152:function(tt,W,t){"use strict";tt.exports=function l(m){for(var r=m.axesOptions,e=m.glplot.axesPixels,s=m.fullSceneLayout,a=[[],[],[]],h=0;h<3;++h){var f=s[i[h]];if(f._length=(e[h].hi-e[h].lo)*e[h].pixelsPerDataUnit/m.dataScale[h],Math.abs(f._length)===1/0||isNaN(f._length))a[h]=[];else{f._input_range=f.range.slice(),f.range[0]=e[h].lo/m.dataScale[h],f.range[1]=e[h].hi/m.dataScale[h],f._m=1/(m.dataScale[h]*e[h].pixelsPerDataUnit),f.range[0]===f.range[1]&&(f.range[0]-=1,f.range[1]+=1);var u=f.tickmode;if("auto"===f.tickmode){f.tickmode="linear";var g=f.nticks||y.constrain(f._length/40,4,9);A.autoTicks(f,Math.abs(f.range[1]-f.range[0])/g)}for(var c=A.calcTicks(f,{msUTC:!0}),w=0;w<c.length;++w)c[w].x=c[w].x*m.dataScale[h],"date"===f.type&&(c[w].text=c[w].text.replace(/\<br\>/g," "));a[h]=c,f.tickmode=u}}for(r.ticks=a,h=0;h<3;++h)for(P[h]=.5*(m.glplot.bounds[0][h]+m.glplot.bounds[1][h]),w=0;w<2;++w)r.bounds[w][h]=m.glplot.bounds[w][h];m.contourLevels=function L(m){for(var r=new Array(3),e=0;e<3;++e){for(var s=m[e],a=new Array(s.length),h=0;h<s.length;++h)a[h]=s[h].x;r[e]=a}return r}(a)};var A=t(54460),y=t(3400),i=["xaxis","yaxis","zaxis"],P=[0,0,0]},94424:function(tt){"use strict";function W(A,y){var P,L,i=[0,0,0,0];for(P=0;P<4;++P)for(L=0;L<4;++L)i[L]+=A[4*P+L]*y[P];return i}tt.exports=function t(A,y){return W(A.projection,W(A.view,W(A.model,[y[0],y[1],y[2],1])))}},98432:function(tt,W,t){"use strict";var d,o,A=t(67792).gl_plot3d,y=A.createCamera,i=A.createScene,P=t(5408),L=t(89184),l=t(24040),m=t(3400),r=m.preserveDrawingBuffer(),e=t(54460),s=t(93024),a=t(43080),h=t(16576),f=t(94424),u=t(44728),g=t(9020),c=t(87152),w=t(19280).applyAutorangeOptions,v=!1;function M(D,N){var k=document.createElement("div"),z=D.container;this.graphDiv=D.graphDiv;var B=document.createElementNS("http://www.w3.org/2000/svg","svg");B.style.position="absolute",B.style.top=B.style.left="0px",B.style.width=B.style.height="100%",B.style["z-index"]=20,B.style["pointer-events"]="none",k.appendChild(B),this.svgContainer=B,k.id=D.id,k.style.position="absolute",k.style.top=k.style.left="0px",k.style.width=k.style.height="100%",z.appendChild(k),this.fullLayout=N,this.id=D.id||"scene",this.fullSceneLayout=N[this.id],this.plotArgs=[[],{},{}],this.axesOptions=u(N,N[this.id]),this.spikeOptions=g(N[this.id]),this.container=k,this.staticMode=!!D.staticPlot,this.pixelRatio=this.pixelRatio||D.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=l.getComponentMethod("annotations3d","convert"),this.drawAnnotations=l.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var b=M.prototype;b.prepareOptions=function(){var D=this,N={canvas:D.canvas,gl:D.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:D.container,axes:D.axesOptions,spikes:D.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:D.camera,pixelRatio:D.pixelRatio};if(D.staticMode){if(!(o||(d=document.createElement("canvas"),o=P({canvas:d,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");N.gl=o,N.canvas=d}return N};var E=!0;b.tryCreatePlot=function(){var D=this,N=D.prepareOptions(),k=!0;try{D.glplot=i(N)}catch(z){if(D.staticMode||!E||r)k=!1;else{m.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=N.glOptions.preserveDrawingBuffer=!0,D.glplot=i(N)}catch(B){r=N.glOptions.preserveDrawingBuffer=!1,k=!1}}}return E=!1,k},b.initializeGLCamera=function(){var D=this,N=D.fullSceneLayout.camera;D.camera=y(D.container,{center:[N.center.x,N.center.y,N.center.z],eye:[N.eye.x,N.eye.y,N.eye.z],up:[N.up.x,N.up.y,N.up.z],_ortho:"orthographic"===N.projection.type,zoomMin:.01,zoomMax:100,mode:"orbit"})},b.initializeGLPlot=function(){var D=this;if(D.initializeGLCamera(),!D.tryCreatePlot())return h(D);D.traces={},D.make4thDimension();var k=D.graphDiv,z=k.layout,B=function(){var U={};return D.isCameraChanged(z)&&(U[D.id+".camera"]=D.getCamera()),D.isAspectChanged(z)&&(U[D.id+".aspectratio"]=D.glplot.getAspectratio(),"manual"!==z[D.id].aspectmode&&(D.fullSceneLayout.aspectmode=z[D.id].aspectmode=U[D.id+".aspectmode"]="manual")),U},O=function(U){if(!1!==U.fullSceneLayout.dragmode){var G=B();U.saveLayout(z),U.graphDiv.emit("plotly_relayout",G)}};return D.glplot.canvas&&(D.glplot.canvas.addEventListener("mouseup",function(){O(D)}),D.glplot.canvas.addEventListener("touchstart",function(){v=!0}),D.glplot.canvas.addEventListener("wheel",function(U){if(k._context._scrollZoom.gl3d){if(D.camera._ortho){var G=U.deltaX>U.deltaY?1.1:.9090909090909091,J=D.glplot.getAspectratio();D.glplot.setAspectratio({x:G*J.x,y:G*J.y,z:G*J.z})}O(D)}},!!L&&{passive:!1}),D.glplot.canvas.addEventListener("mousemove",function(){if(!1!==D.fullSceneLayout.dragmode&&0!==D.camera.mouseListener.buttons){var U=B();D.graphDiv.emit("plotly_relayouting",U)}}),D.staticMode||D.glplot.canvas.addEventListener("webglcontextlost",function(U){k&&k.emit&&k.emit("plotly_webglcontextlost",{event:U,layer:D.id})},!1)),D.glplot.oncontextloss=function(){D.recoverContext()},D.glplot.onrender=function(){D.render()},!0},b.render=function(){var k,D=this,N=D.graphDiv,z=D.svgContainer,B=D.container.getBoundingClientRect();N._fullLayout._calcInverseTransform(N);var G=B.width*N._fullLayout._invScaleX,J=B.height*N._fullLayout._invScaleY;z.setAttributeNS(null,"viewBox","0 0 "+G+" "+J),z.setAttributeNS(null,"width",G),z.setAttributeNS(null,"height",J),c(D),D.glplot.axes.update(D.axesOptions);for(var et=Object.keys(D.traces),at=null,lt=D.glplot.selection,K=0;K<et.length;++K)"skip"!==(k=D.traces[et[K]]).data.hoverinfo&&k.handlePick(lt)&&(at=k),k.setContourLevels&&k.setContourLevels();function j(St,Et,Tt){var gt=D.fullSceneLayout[St+"axis"];return"log"!==gt.type&&(Et=gt.d2l(Et)),e.hoverLabelText(gt,Et,Tt)}if(null!==at){var rt=f(D.glplot.cameraParams,lt.dataCoordinate),H=N._fullData[(k=at.data).index],Z=lt.index,it={xLabel:j("x",lt.traceCoordinate[0],k.xhoverformat),yLabel:j("y",lt.traceCoordinate[1],k.yhoverformat),zLabel:j("z",lt.traceCoordinate[2],k.zhoverformat)},Q=s.castHoverinfo(H,D.fullLayout,Z),Y=(Q||"").split("+"),nt=Q&&"all"===Q;!H.hovertemplate&&!nt&&(-1===Y.indexOf("x")&&(it.xLabel=void 0),-1===Y.indexOf("y")&&(it.yLabel=void 0),-1===Y.indexOf("z")&&(it.zLabel=void 0),-1===Y.indexOf("text")&&(lt.textLabel=void 0),-1===Y.indexOf("name")&&(at.name=void 0));var _,st=[];"cone"===k.type||"streamtube"===k.type?(it.uLabel=j("x",lt.traceCoordinate[3],k.uhoverformat),(nt||-1!==Y.indexOf("u"))&&st.push("u: "+it.uLabel),it.vLabel=j("y",lt.traceCoordinate[4],k.vhoverformat),(nt||-1!==Y.indexOf("v"))&&st.push("v: "+it.vLabel),it.wLabel=j("z",lt.traceCoordinate[5],k.whoverformat),(nt||-1!==Y.indexOf("w"))&&st.push("w: "+it.wLabel),it.normLabel=lt.traceCoordinate[6].toPrecision(3),(nt||-1!==Y.indexOf("norm"))&&st.push("norm: "+it.normLabel),"streamtube"===k.type&&(it.divergenceLabel=lt.traceCoordinate[7].toPrecision(3),(nt||-1!==Y.indexOf("divergence"))&&st.push("divergence: "+it.divergenceLabel)),lt.textLabel&&st.push(lt.textLabel),_=st.join("<br>")):"isosurface"===k.type||"volume"===k.type?(it.valueLabel=e.hoverLabelText(D._mockAxis,D._mockAxis.d2l(lt.traceCoordinate[3]),k.valuehoverformat),st.push("value: "+it.valueLabel),lt.textLabel&&st.push(lt.textLabel),_=st.join("<br>")):_=lt.textLabel;var dt={x:lt.traceCoordinate[0],y:lt.traceCoordinate[1],z:lt.traceCoordinate[2],data:H._input,fullData:H,curveNumber:H.index,pointNumber:Z};s.appendArrayPointValue(dt,H,Z),k._module.eventData&&(dt=H._module.eventData(dt,lt,H,{},Z));var xt={points:[dt]};if(D.fullSceneLayout.hovermode){var yt=[];s.loneHover({trace:H,x:(.5+.5*rt[0]/rt[3])*G,y:(.5-.5*rt[1]/rt[3])*J,xLabel:it.xLabel,yLabel:it.yLabel,zLabel:it.zLabel,text:_,name:at.name,color:s.castHoverOption(H,Z,"bgcolor")||at.color,borderColor:s.castHoverOption(H,Z,"bordercolor"),fontFamily:s.castHoverOption(H,Z,"font.family"),fontSize:s.castHoverOption(H,Z,"font.size"),fontColor:s.castHoverOption(H,Z,"font.color"),nameLength:s.castHoverOption(H,Z,"namelength"),textAlign:s.castHoverOption(H,Z,"align"),hovertemplate:m.castOption(H,Z,"hovertemplate"),hovertemplateLabels:m.extendFlat({},dt,it),eventData:[dt]},{container:z,gd:N,inOut_bbox:yt}),dt.bbox=yt[0]}N.emit(lt.distance<5&&(lt.buttons||v)?"plotly_click":"plotly_hover",xt),this.oldEventData=xt}else s.loneUnhover(z),this.oldEventData&&N.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;D.drawAnnotations(D)},b.recoverContext=function(){var D=this;D.glplot.dispose();var N=function(){D.glplot.gl.isContextLost()?requestAnimationFrame(N):D.initializeGLPlot()?D.plot.apply(D,D.plotArgs):m.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(N)};var x=["xaxis","yaxis","zaxis"];function S(D,N,k){for(var z=D.fullSceneLayout,B=0;B<3;B++){var O=x[B],U=O.charAt(0),G=z[O],J=N[U],et=N[U+"calendar"],at=N["_"+U+"length"];if(m.isArrayOrTypedArray(J))for(var lt,K=0;K<(at||J.length);K++)if(m.isArrayOrTypedArray(J[K]))for(var j=0;j<J[K].length;++j)lt=G.d2l(J[K][j],0,et),!isNaN(lt)&&isFinite(lt)&&(k[0][B]=Math.min(k[0][B],lt),k[1][B]=Math.max(k[1][B],lt));else lt=G.d2l(J[K],0,et),!isNaN(lt)&&isFinite(lt)&&(k[0][B]=Math.min(k[0][B],lt),k[1][B]=Math.max(k[1][B],lt));else k[0][B]=Math.min(k[0][B],0),k[1][B]=Math.max(k[1][B],at-1)}}b.plot=function(D,N,k){var z=this;if(z.plotArgs=[D,N,k],!z.glplot.contextLost){var B,O,U,G,J,et,at=N[z.id],lt=k[z.id];z.fullLayout=N,z.fullSceneLayout=at,z.axesOptions.merge(N,at),z.spikeOptions.merge(at),z.setViewport(at),z.updateFx(at.dragmode,at.hovermode),z.camera.enableWheel=z.graphDiv._context._scrollZoom.gl3d,z.glplot.setClearColor(a(at.bgcolor)),z.setConvert(J),D?Array.isArray(D)||(D=[D]):D=[];var K=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(U=0;U<D.length;++U)!0===(B=D[U]).visible&&0!==B._length&&S(this,B,K);!function T(D,N){for(var k=D.fullSceneLayout,z=k.annotations||[],B=0;B<3;B++)for(var O=x[B],U=O.charAt(0),G=k[O],J=0;J<z.length;J++){var et=z[J];if(et.visible){var at=G.r2l(et[U]);!isNaN(at)&&isFinite(at)&&(N[0][B]=Math.min(N[0][B],at),N[1][B]=Math.max(N[1][B],at))}}}(this,K);var j=[1,1,1];for(G=0;G<3;++G)j[G]=K[1][G]===K[0][G]?1:1/(K[1][G]-K[0][G]);for(z.dataScale=j,z.convertAnnotations(this),U=0;U<D.length;++U)!0===(B=D[U]).visible&&0!==B._length&&((O=z.traces[B.uid])?O.data.type===B.type?O.update(B):(O.dispose(),O=B._module.plot(this,B),z.traces[B.uid]=O):(O=B._module.plot(this,B),z.traces[B.uid]=O),O.name=B.name);var rt=Object.keys(z.traces);t:for(U=0;U<rt.length;++U){for(G=0;G<D.length;++G)if(D[G].uid===rt[U]&&!0===D[G].visible&&0!==D[G]._length)continue t;(O=z.traces[rt[U]]).dispose(),delete z.traces[rt[U]]}z.glplot.objects.sort(function(It,Rt){return It._trace.data.index-Rt._trace.data.index});var H=[[0,0,0],[0,0,0]],Z=[],it={};for(U=0;U<3;++U){var Q;if((et=(J=at[x[U]]).type)in it?(it[et].acc*=j[U],it[et].count+=1):it[et]={acc:j[U],count:1},J.autorange){H[0][U]=1/0,H[1][U]=-1/0;var Y=z.glplot.objects,nt=z.fullSceneLayout.annotations||[],_=J._name.charAt(0);for(G=0;G<Y.length;G++){var st=Y[G],dt=st.bounds,xt=st._trace.data._pad||0;H[0][U]="ErrorBars"===st.constructor.name&&J._lowerLogErrorBound?Math.min(H[0][U],J._lowerLogErrorBound):Math.min(H[0][U],dt[0][U]/j[U]-xt),H[1][U]=Math.max(H[1][U],dt[1][U]/j[U]+xt)}for(G=0;G<nt.length;G++){var yt=nt[G];if(yt.visible){var St=J.r2l(yt[_]);H[0][U]=Math.min(H[0][U],St),H[1][U]=Math.max(H[1][U],St)}}if("rangemode"in J&&"tozero"===J.rangemode&&(H[0][U]=Math.min(H[0][U],0),H[1][U]=Math.max(H[1][U],0)),H[0][U]>H[1][U])H[0][U]=-1,H[1][U]=1;else{var Et=H[1][U]-H[0][U];H[0][U]-=Et/32,H[1][U]+=Et/32}if(Q=w(Q=[H[0][U],H[1][U]],J),H[0][U]=Q[0],H[1][U]=Q[1],J.isReversed()){var Tt=H[0][U];H[0][U]=H[1][U],H[1][U]=Tt}}else H[0][U]=J.r2l((Q=J.range)[0]),H[1][U]=J.r2l(Q[1]);H[0][U]===H[1][U]&&(H[0][U]-=1,H[1][U]+=1),Z[U]=H[1][U]-H[0][U],J.range=[H[0][U],H[1][U]],J.limitRange(),z.glplot.setBounds(U,{min:J.range[0]*j[U],max:J.range[1]*j[U]})}var gt,Mt=at.aspectmode;if("cube"===Mt)gt=[1,1,1];else if("manual"===Mt){var Nt=at.aspectratio;gt=[Nt.x,Nt.y,Nt.z]}else{if("auto"!==Mt&&"data"!==Mt)throw new Error("scene.js aspectRatio was not one of the enumerated types");var Gt=[1,1,1];for(U=0;U<3;++U){var Pt=it[et=(J=at[x[U]]).type];Gt[U]=Math.pow(Pt.acc,1/Pt.count)/j[U]}gt="data"===Mt||Math.max.apply(null,Gt)/Math.min.apply(null,Gt)<=4?Gt:[1,1,1]}at.aspectratio.x=lt.aspectratio.x=gt[0],at.aspectratio.y=lt.aspectratio.y=gt[1],at.aspectratio.z=lt.aspectratio.z=gt[2],z.glplot.setAspectratio(at.aspectratio),z.viewInitial.aspectratio||(z.viewInitial.aspectratio={x:at.aspectratio.x,y:at.aspectratio.y,z:at.aspectratio.z}),z.viewInitial.aspectmode||(z.viewInitial.aspectmode=at.aspectmode);var Vt=at.domain||null,re=N._size||null;if(Vt&&re){var le=z.container.style;le.position="absolute",le.left=re.l+Vt.x[0]*re.w+"px",le.top=re.t+(1-Vt.y[1])*re.h+"px",le.width=re.w*(Vt.x[1]-Vt.x[0])+"px",le.height=re.h*(Vt.y[1]-Vt.y[0])+"px"}z.glplot.redraw()}},b.destroy=function(){var D=this;!D.glplot||(D.camera.mouseListener.enabled=!1,D.container.removeEventListener("wheel",D.camera.wheelListener),D.camera=null,D.glplot.dispose(),D.container.parentNode.removeChild(D.container),D.glplot=null)},b.getCamera=function(){var D=this;return D.camera.view.recalcMatrix(D.camera.view.lastT()),function C(D){return{up:{x:D.up[0],y:D.up[1],z:D.up[2]},center:{x:D.center[0],y:D.center[1],z:D.center[2]},eye:{x:D.eye[0],y:D.eye[1],z:D.eye[2]},projection:{type:!0===D._ortho?"orthographic":"perspective"}}}(D.camera)},b.setViewport=function(D){var N=this,k=D.camera;N.camera.lookAt.apply(this,function n(D){return[[D.eye.x,D.eye.y,D.eye.z],[D.center.x,D.center.y,D.center.z],[D.up.x,D.up.y,D.up.z]]}(k)),N.glplot.setAspectratio(D.aspectratio),"orthographic"===k.projection.type!==N.camera._ortho&&(N.glplot.redraw(),N.glplot.clearRGBA(),N.glplot.dispose(),N.initializeGLPlot())},b.isCameraChanged=function(D){var k=this.getCamera(),B=m.nestedProperty(D,this.id+".camera").get();var et,at,lt,K,j,rt,U=!1;if(void 0===B)U=!0;else{for(var G=0;G<3;G++)for(var J=0;J<3;J++)if(et=k,K=J,j=void 0,rt=void 0,rt=["x","y","z"],!(at=B)[(j=["up","center","eye"])[lt=G]]||et[j[lt]][rt[K]]!==at[j[lt]][rt[K]]){U=!0;break}(!B.projection||k.projection&&k.projection.type!==B.projection.type)&&(U=!0)}return U},b.isAspectChanged=function(D){var k=this.glplot.getAspectratio(),B=m.nestedProperty(D,this.id+".aspectratio").get();return void 0===B||B.x!==k.x||B.y!==k.y||B.z!==k.z},b.saveLayout=function(D){var z,B,O,U,G,J,N=this,k=N.fullLayout,et=N.isCameraChanged(D),at=N.isAspectChanged(D),lt=et||at;if(lt){var K={};et&&(z=N.getCamera(),O=(B=m.nestedProperty(D,N.id+".camera")).get(),K[N.id+".camera"]=O),at&&(U=N.glplot.getAspectratio(),J=(G=m.nestedProperty(D,N.id+".aspectratio")).get(),K[N.id+".aspectratio"]=J),l.call("_storeDirectGUIEdit",D,k._preGUI,K),et&&(B.set(z),m.nestedProperty(k,N.id+".camera").set(z)),at&&(G.set(U),m.nestedProperty(k,N.id+".aspectratio").set(U),N.glplot.redraw())}return lt},b.updateFx=function(D,N){var k=this,z=k.camera;if(z)if("orbit"===D)z.mode="orbit",z.keyBindingMode="rotate";else if("turntable"===D){z.up=[0,0,1],z.mode="turntable",z.keyBindingMode="rotate";var B=k.graphDiv,O=B._fullLayout,U=k.fullSceneLayout.camera,G=U.up.x,J=U.up.y,et=U.up.z;if(et/Math.sqrt(G*G+J*J+et*et)<.999){var at=k.id+".camera.up",lt={x:0,y:0,z:1},K={};K[at]=lt;var j=B.layout;l.call("_storeDirectGUIEdit",j,O._preGUI,K),U.up=lt,m.nestedProperty(j,at).set(lt)}}else z.keyBindingMode=D;k.fullSceneLayout.hovermode=N},b.toImage=function(D){var N=this;D||(D="png"),N.staticMode&&N.container.appendChild(d),N.glplot.redraw();var k=N.glplot.gl,z=k.drawingBufferWidth,B=k.drawingBufferHeight;k.bindFramebuffer(k.FRAMEBUFFER,null);var O=new Uint8Array(z*B*4);k.readPixels(0,0,z,B,k.RGBA,k.UNSIGNED_BYTE,O),function p(D,N,k){for(var z=0,B=k-1;z<B;++z,--B)for(var O=0;O<N;++O)for(var U=0;U<4;++U){var G=4*(N*z+O)+U,J=4*(N*B+O)+U,et=D[G];D[G]=D[J],D[J]=et}}(O,z,B),function F(D,N,k){for(var z=0;z<k;++z)for(var B=0;B<N;++B){var O=4*(N*z+B),U=D[O+3];if(U>0)for(var G=255/U,J=0;J<3;++J)D[O+J]=Math.min(G*D[O+J],255)}}(O,z,B);var U=document.createElement("canvas");U.width=z,U.height=B;var et,G=U.getContext("2d",{willReadFrequently:!0}),J=G.createImageData(z,B);switch(J.data.set(O),G.putImageData(J,0,0),D){case"jpeg":et=U.toDataURL("image/jpeg");break;case"webp":et=U.toDataURL("image/webp");break;default:et=U.toDataURL("image/png")}return N.staticMode&&N.container.removeChild(d),et},b.setConvert=function(){for(var N=0;N<3;N++){var k=this.fullSceneLayout[x[N]];e.setConvert(k,this.fullLayout),k.setScale=m.noop}},b.make4thDimension=function(){var D=this,k=D.graphDiv._fullLayout;D._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},e.setConvert(D._mockAxis,k)},tt.exports=M},52094:function(tt){"use strict";tt.exports=function(t,A,y,i){i=i||t.length;for(var P=new Array(i),L=0;L<i;L++)P[L]=[t[L],A[L],y[L]];return P}},64859:function(tt,W,t){"use strict";var A=t(25376),y=t(85656),i=t(22548),P=t(92872),L=t(34200),l=t(66741),m=t(92880).extendFlat,r=A({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=i.defaultLine,tt.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:A({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:m(l({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:P.newshape,activeshape:P.activeshape,newselection:L.newselection,activeselection:L.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:m({},y.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:A({editType:"layoutstyle"})}}},47552:function(tt,W,t){"use strict";var A=t(95376),y="1.13.4",i='\xa9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',P=['\xa9 <a target="_blank" href="https://carto.com/">Carto</a>',i].join(" "),L=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),m={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:i,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:P,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:P,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:L,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:L,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=A(m);tt.exports={requiredVersion:y,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:m,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+y+"."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},89032:function(tt,W,t){"use strict";var A=t(3400);tt.exports=function(i,P){var L=i.split(" "),l=L[0],m=L[1],r=A.isArrayOrTypedArray(P)?A.mean(P):P,e=.5+r/100,s=1.5+r/100,a=["",""],h=[0,0];switch(l){case"top":a[0]="top",h[1]=-s;break;case"bottom":a[0]="bottom",h[1]=s}switch(m){case"left":a[1]="right",h[0]=-e;break;case"right":a[1]="left",h[0]=e}return{anchor:a[0]&&a[1]?a.join("-"):a[0]?a[0]:a[1]?a[1]:"center",offset:h}}},33688:function(tt,W,t){"use strict";var A=t(3480),y=t(3400),i=y.strTranslate,P=y.strScale,L=t(84888).KY,l=t(9616),m=t(33428),r=t(43616),e=t(72736),s=t(14440),a="mapbox",h=W.constants=t(47552);function u(g){return"string"==typeof g&&(-1!==h.styleValuesMapbox.indexOf(g)||0===g.indexOf("mapbox://")||0===g.indexOf("stamen"))}W.name=a,W.attr="subplot",W.idRoot=a,W.idRegex=W.attrRegex=y.counterRegex(a),W.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},W.layoutAttributes=t(5232),W.supplyLayoutDefaults=t(5976),W.plot=function(c){var w=c._fullLayout,d=c.calcdata,o=w._subplots[a];if(A.version!==h.requiredVersion)throw new Error(h.wrongVersionErrorMsg);var v=function f(g,c){var w=g._fullLayout;if(""===g._context.mapboxAccessToken)return"";for(var o=[],v=[],M=!1,b=!1,E=0;E<c.length;E++){var x=w[c[E]],S=x.accesstoken;u(x.style)&&(S?y.pushUnique(o,S):(u(x._input.style)&&(y.error("Uses Mapbox map style, but did not set an access token."),M=!0),b=!0)),S&&y.pushUnique(v,S)}if(b){var T=M?h.noAccessTokenErrorMsg:h.missingStyleErrorMsg;throw y.error(T),new Error(T)}return o.length?(o.length>1&&y.warn(h.multipleTokensErrorMsg),o[0]):(v.length&&y.log(["Listed mapbox access token(s)",v.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(c,o);A.accessToken=v;for(var M=0;M<o.length;M++){var b=o[M],E=L(d,a,b),x=w[b],S=x._subplot;S||(S=new s(c,b),w[b]._subplot=S),S.viewInitial||(S.viewInitial={center:y.extendFlat({},x.center),zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),S.plot(E,w,c._promises)}},W.clean=function(g,c,w,d){for(var o=d._subplots[a]||[],v=0;v<o.length;v++){var M=o[v];!c[M]&&d[M]._subplot&&d[M]._subplot.destroy()}},W.toSVG=function(g){for(var c=g._fullLayout,w=c._subplots[a],d=c._size,o=0;o<w.length;o++){var v=c[w[o]],M=v.domain,E=v._subplot.toImage("png");c._glimages.append("svg:image").attr({xmlns:l.svg,"xlink:href":E,x:d.l+d.w*M.x[0],y:d.t+d.h*(1-M.y[1]),width:d.w*(M.x[1]-M.x[0]),height:d.h*(M.y[1]-M.y[0]),preserveAspectRatio:"none"});var S=m.select(v._subplot.div);if(null!==S.select(".mapboxgl-ctrl-logo").node().offsetParent){var n=c._glimages.append("g");n.attr("transform",i(d.l+d.w*M.x[0]+10,d.t+d.h*(1-M.y[0])-31)),n.append("path").attr("d",h.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),n.append("path").attr("d",h.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),n.append("path").attr("d",h.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),n.append("polygon").attr("points",h.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var C=S.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),p=c._glimages.append("g"),F=p.append("text");F.text(C).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":C});var D=r.bBox(F.node()),N=d.w*(M.x[1]-M.x[0]);if(D.width>N/2){var k=C.split("|").join("<br>");F.text(k).attr("data-unformatted",k).call(e.convertToTspans,g),D=r.bBox(F.node())}F.attr("transform",i(-3,8-D.height)),p.insert("rect",".static-attribution").attr({x:-D.width-6,y:-D.height-3,width:D.width+6,height:D.height+3,fill:"rgba(255, 255, 255, 0.75)"});var z=1;D.width+6>N&&(z=N/(D.width+6));var B=[d.l+d.w*M.x[1],d.t+d.h*(1-M.y[0])];p.attr("transform",i(B[0],B[1])+P(z))}},W.updateFx=function(g){for(var c=g._fullLayout,w=c._subplots[a],d=0;d<w.length;d++)c[w[d]]._subplot.updateFx(c)}},22360:function(tt,W,t){"use strict";var A=t(3400),y=t(72736).sanitizeHTML,i=t(89032),P=t(47552);function L(s,a){this.subplot=s,this.uid=s.uid+"-"+a,this.index=a,this.idSource="source-"+this.uid,this.idLayer=P.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var l=L.prototype;function m(s){if(!s.visible)return!1;var a=s.source;if(Array.isArray(a)&&a.length>0){for(var h=0;h<a.length;h++)if("string"!=typeof a[h]||0===a[h].length)return!1;return!0}return A.isPlainObject(a)||"string"==typeof a&&a.length>0}function r(s){var a={},h={};switch(s.type){case"circle":A.extendFlat(h,{"circle-radius":s.circle.radius,"circle-color":s.color,"circle-opacity":s.opacity});break;case"line":A.extendFlat(h,{"line-width":s.line.width,"line-color":s.color,"line-opacity":s.opacity,"line-dasharray":s.line.dash});break;case"fill":A.extendFlat(h,{"fill-color":s.color,"fill-outline-color":s.fill.outlinecolor,"fill-opacity":s.opacity});break;case"symbol":var f=s.symbol,u=i(f.textposition,f.iconsize);A.extendFlat(a,{"icon-image":f.icon+"-15","icon-size":f.iconsize/10,"text-field":f.text,"text-size":f.textfont.size,"text-anchor":u.anchor,"text-offset":u.offset,"symbol-placement":f.placement}),A.extendFlat(h,{"icon-color":s.color,"text-color":f.textfont.color,"text-opacity":s.opacity});break;case"raster":A.extendFlat(h,{"raster-fade-duration":0,"raster-opacity":s.opacity})}return{layout:a,paint:h}}l.update=function(a){this.visible?this.needsNewImage(a)?this.updateImage(a):this.needsNewSource(a)?(this.removeLayer(),this.updateSource(a),this.updateLayer(a)):this.needsNewLayer(a)?this.updateLayer(a):this.updateStyle(a):(this.updateSource(a),this.updateLayer(a)),this.visible=m(a)},l.needsNewImage=function(s){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===s.sourcetype&&(this.source!==s.source||JSON.stringify(this.coordinates)!==JSON.stringify(s.coordinates))},l.needsNewSource=function(s){return this.sourceType!==s.sourcetype||JSON.stringify(this.source)!==JSON.stringify(s.source)||this.layerType!==s.type},l.needsNewLayer=function(s){return this.layerType!==s.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},l.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},l.updateImage=function(s){this.subplot.map.getSource(this.idSource).updateImage({url:s.source,coordinates:s.coordinates});var h=this.findFollowingMapboxLayerId(this.lookupBelow());null!==h&&this.subplot.map.moveLayer(this.idLayer,h)},l.updateSource=function(s){var a=this.subplot.map;if(a.getSource(this.idSource)&&a.removeSource(this.idSource),this.sourceType=s.sourcetype,this.source=s.source,m(s)){var h=function e(s){var u,a=s.sourcetype,h=s.source,f={type:a};return"geojson"===a?u="data":"vector"===a?u="string"==typeof h?"url":"tiles":"raster"===a?(u="tiles",f.tileSize=256):"image"===a&&(u="url",f.coordinates=s.coordinates),f[u]=h,s.sourceattribution&&(f.attribution=y(s.sourceattribution)),f}(s);a.addSource(this.idSource,h)}},l.findFollowingMapboxLayerId=function(s){if("traces"===s)for(var a=this.subplot.getMapLayers(),h=0;h<a.length;h++){var f=a[h].id;if("string"==typeof f&&0===f.indexOf(P.traceLayerPrefix)){s=f;break}}return s},l.updateLayer=function(s){var a=this.subplot,h=r(s),f=this.lookupBelow(),u=this.findFollowingMapboxLayerId(f);this.removeLayer(),m(s)&&a.addLayer({id:this.idLayer,source:this.idSource,"source-layer":s.sourcelayer||"",type:s.type,minzoom:s.minzoom,maxzoom:s.maxzoom,layout:h.layout,paint:h.paint},u),this.layerType=s.type,this.below=f},l.updateStyle=function(s){if(m(s)){var a=r(s);this.subplot.setOptions(this.idLayer,"setLayoutProperty",a.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",a.paint)}},l.removeLayer=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer)},l.dispose=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer),s.getSource(this.idSource)&&s.removeSource(this.idSource)},tt.exports=function(a,h,f){var u=new L(a,h);return u.update(f),u}},5232:function(tt,W,t){"use strict";var A=t(3400),y=t(76308).defaultLine,i=t(86968).u,P=t(25376),L=t(52904).textposition,l=t(67824).overrideAll,m=t(31780).templatedArray,r=t(47552),e=P({});e.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(tt.exports=l({_arrayAttrRegexps:[A.counterRegex("mapbox",".layers",!0)],domain:i({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:m("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:y},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:y}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:e,textposition:A.extendFlat({},L,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},5976:function(tt,W,t){"use strict";var A=t(3400),y=t(168),i=t(51272),P=t(5232);function L(m,r,e,s){e("accesstoken",s.accessToken),e("style"),e("center.lon"),e("center.lat"),e("zoom"),e("bearing"),e("pitch");var a=e("bounds.west"),h=e("bounds.east"),f=e("bounds.south"),u=e("bounds.north");(void 0===a||void 0===h||void 0===f||void 0===u)&&delete r.bounds,i(m,r,{name:"layers",handleItemDefaults:l}),r._input=m}function l(m,r){function e(g,c){return A.coerce(m,r,P.layers,g,c)}if(e("visible")){var f,a=e("sourcetype"),h="raster"===a||"image"===a;e("source"),e("sourceattribution"),"vector"===a&&e("sourcelayer"),"image"===a&&e("coordinates"),h&&(f="raster");var u=e("type",f);h&&"raster"!==u&&(u=r.type="raster",A.log("Source types *raster* and *image* must drawn *raster* layer type.")),e("below"),e("color"),e("opacity"),e("minzoom"),e("maxzoom"),"circle"===u&&e("circle.radius"),"line"===u&&(e("line.width"),e("line.dash")),"fill"===u&&e("fill.outlinecolor"),"symbol"===u&&(e("symbol.icon"),e("symbol.iconsize"),e("symbol.text"),A.coerceFont(e,"symbol.textfont"),e("symbol.textposition"),e("symbol.placement"))}}tt.exports=function(r,e,s){y(r,e,s,{type:"mapbox",attributes:P,handleDefaults:L,partition:"y",accessToken:e._mapboxAccessToken})}},14440:function(tt,W,t){"use strict";var A=t(3480),y=t(3400),i=t(27144),P=t(24040),L=t(54460),l=t(86476),m=t(93024),r=t(72760),e=r.drawMode,s=r.selectMode,a=t(22676).prepSelect,h=t(22676).clearOutline,f=t(22676).clearSelectionsCache,u=t(22676).selectOnClick,g=t(47552),c=t(22360);function w(E,x){this.id=x,this.gd=E;var S=E._fullLayout,T=E._context;this.container=S._glcontainer.node(),this.isStatic=T.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var d=w.prototype;d.plot=function(E,x,S){var C,T=this;T.map&&x[T.id].accesstoken!==T.accessToken&&(T.map.remove(),T.map=null,T.styleObj=null,T.traceHash={},T.layerList=[]),C=new Promise(T.map?function(p,F){T.updateMap(E,x,p,F)}:function(p,F){T.createMap(E,x,p,F)}),S.push(C)},d.createMap=function(E,x,S,T){var n=this,C=x[n.id],p=n.styleObj=v(C.style,x);n.accessToken=C.accesstoken;var F=C.bounds,D=F?[[F.west,F.south],[F.east,F.north]]:null,N=n.map=new A.Map({container:n.div,style:p.style,center:b(C.center),zoom:C.zoom,bearing:C.bearing,pitch:C.pitch,maxBounds:D,interactive:!n.isStatic,preserveDrawingBuffer:n.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new A.AttributionControl({compact:!0}));N._canvas.style.left="0px",N._canvas.style.top="0px",n.rejectOnError(T),n.isStatic||n.initFx(E,x);var k=[];k.push(new Promise(function(z){N.once("load",z)})),k=k.concat(i.fetchTraceGeoData(E)),Promise.all(k).then(function(){n.fillBelowLookup(E,x),n.updateData(E),n.updateLayout(x),n.resolveOnRender(S)}).catch(T)},d.updateMap=function(E,x,S,T){var n=this,C=n.map,p=x[this.id];n.rejectOnError(T);var F=[],D=v(p.style,x);JSON.stringify(n.styleObj)!==JSON.stringify(D)&&(n.styleObj=D,C.setStyle(D.style),n.traceHash={},F.push(new Promise(function(N){C.once("styledata",N)}))),F=F.concat(i.fetchTraceGeoData(E)),Promise.all(F).then(function(){n.fillBelowLookup(E,x),n.updateData(E),n.updateLayout(x),n.resolveOnRender(S)}).catch(T)},d.fillBelowLookup=function(E,x){var n,C,T=x[this.id].layers,p=this.belowLookup={},F=!1;for(n=0;n<E.length;n++){var D=E[n][0].trace,N=D._module;"string"==typeof D.below?C=D.below:N.getBelow&&(C=N.getBelow(D,this)),""===C&&(F=!0),p["trace-"+D.uid]=C||""}for(n=0;n<T.length;n++){var k=T[n];p["layout-"+n]=C="string"==typeof k.below?k.below:F?"traces":""}var B,O,z={};for(B in p)z[C=p[B]]?z[C].push(B):z[C]=[B];for(C in z){var U=z[C];if(U.length>1)for(n=0;n<U.length;n++)0===(B=U[n]).indexOf("trace-")?(O=B.split("trace-")[1],this.traceHash[O]&&(this.traceHash[O].below=null)):0===B.indexOf("layout-")&&(O=B.split("layout-")[1],this.layerList[O]&&(this.layerList[O].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function v(E,x){var S={};if(y.isPlainObject(E))S.id=E.id,S.style=E;else if("string"==typeof E)if(S.id=E,-1!==g.styleValuesMapbox.indexOf(E))S.style=M(E);else if(g.stylesNonMapbox[E]){S.style=g.stylesNonMapbox[E];var T=S.style.sources["plotly-"+E],n=T?T.tiles:void 0;n&&n[0]&&"?api_key="===n[0].slice(-9)&&(n[0]+=x._mapboxAccessToken)}else S.style=E;else S.id=g.styleValueDflt,S.style=M(g.styleValueDflt);return S.transition={duration:0,delay:0},S}function M(E){return g.styleUrlPrefix+E+"-"+g.styleUrlSuffix}function b(E){return[E.lon,E.lat]}d.updateData=function(E){var S,T,n,C,x=this.traceHash,p=E.slice().sort(function(z,B){return o[z[0].trace.type]-o[B[0].trace.type]});for(n=0;n<p.length;n++){var F=p[n],D=!1;(S=x[(T=F[0].trace).uid])&&(S.type===T.type?(S.update(F),D=!0):S.dispose()),!D&&T._module&&(x[T.uid]=T._module.plot(this,F))}var N=Object.keys(x);t:for(n=0;n<N.length;n++){var k=N[n];for(C=0;C<E.length;C++)if(k===(T=E[C][0].trace).uid)continue t;(S=x[k]).dispose(),delete x[k]}},d.updateLayout=function(E){var x=this.map,S=E[this.id];!this.dragging&&!this.wheeling&&(x.setCenter(b(S.center)),x.setZoom(S.zoom),x.setBearing(S.bearing),x.setPitch(S.pitch)),this.updateLayers(E),this.updateFramework(E),this.updateFx(E),this.map.resize(),this.gd._context._scrollZoom.mapbox?x.scrollZoom.enable():x.scrollZoom.disable()},d.resolveOnRender=function(E){var x=this.map;x.on("render",function S(){x.loaded()&&(x.off("render",S),setTimeout(E,10))})},d.rejectOnError=function(E){var x=this.map;function S(){E(new Error(g.mapOnErrorMsg))}x.once("error",S),x.once("style.error",S),x.once("source.error",S),x.once("tile.error",S),x.once("layer.error",S)},d.createFramework=function(E){var x=this,S=x.div=document.createElement("div");S.id=x.uid,S.style.position="absolute",x.container.appendChild(S),x.xaxis={_id:"x",c2p:function(T){return x.project(T).x}},x.yaxis={_id:"y",c2p:function(T){return x.project(T).y}},x.updateFramework(E),x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},L.setConvert(x.mockAxis,E)},d.initFx=function(E,x){var S=this,T=S.gd,n=S.map;function C(){m.loneUnhover(x._hoverlayer)}function p(){var F=S.getView();T.emit("plotly_relayouting",S.getViewEditsWithDerived(F))}n.on("moveend",function(F){if(S.map){var D=T._fullLayout;if(F.originalEvent||S.wheeling){var N=D[S.id];P.call("_storeDirectGUIEdit",T.layout,D._preGUI,S.getViewEdits(N));var k=S.getView();N._input.center=N.center=k.center,N._input.zoom=N.zoom=k.zoom,N._input.bearing=N.bearing=k.bearing,N._input.pitch=N.pitch=k.pitch,T.emit("plotly_relayout",S.getViewEditsWithDerived(k))}F.originalEvent&&"mouseup"===F.originalEvent.type?S.dragging=!1:S.wheeling&&(S.wheeling=!1),D._rehover&&D._rehover()}}),n.on("wheel",function(){S.wheeling=!0}),n.on("mousemove",function(F){var D=S.div.getBoundingClientRect(),N=[F.originalEvent.offsetX,F.originalEvent.offsetY];F.target.getBoundingClientRect=function(){return D},S.xaxis.p2c=function(){return n.unproject(N).lng},S.yaxis.p2c=function(){return n.unproject(N).lat},T._fullLayout._rehover=function(){T._fullLayout._hoversubplot===S.id&&T._fullLayout[S.id]&&m.hover(T,F,S.id)},m.hover(T,F,S.id),T._fullLayout._hoversubplot=S.id}),n.on("dragstart",function(){S.dragging=!0,C()}),n.on("zoomstart",C),n.on("mouseout",function(){T._fullLayout._hoversubplot=null}),n.on("drag",p),n.on("zoom",p),n.on("dblclick",function(){var F=T._fullLayout[S.id];P.call("_storeDirectGUIEdit",T.layout,T._fullLayout._preGUI,S.getViewEdits(F));var D=S.viewInitial;n.setCenter(b(D.center)),n.setZoom(D.zoom),n.setBearing(D.bearing),n.setPitch(D.pitch);var N=S.getView();F._input.center=F.center=N.center,F._input.zoom=F.zoom=N.zoom,F._input.bearing=F.bearing=N.bearing,F._input.pitch=F.pitch=N.pitch,T.emit("plotly_doubleclick",null),T.emit("plotly_relayout",S.getViewEditsWithDerived(N))}),S.clearOutline=function(){f(S.dragOptions),h(S.dragOptions.gd)},S.onClickInPanFn=function(F){return function(D){var N=T._fullLayout.clickmode;N.indexOf("select")>-1&&u(D.originalEvent,T,[S.xaxis],[S.yaxis],S.id,F),N.indexOf("event")>-1&&m.click(T,D.originalEvent)}}},d.updateFx=function(E){var x=this,S=x.map;if(!x.isStatic){var C=E.dragmode;x.dragOptions=y.extendDeep(x.dragOptions||{},{dragmode:E.dragmode,element:x.div,gd:x.gd,plotinfo:{id:x.id,domain:E[x.id].domain,xaxis:x.xaxis,yaxis:x.yaxis,fillRangeItems:function(D,N){N.isRect?(D.range={})[x.id]=[n([N.xmin,N.ymin]),n([N.xmax,N.ymax])]:(D.lassoPoints={})[x.id]=N.map(n)}},xaxes:[x.xaxis],yaxes:[x.yaxis],subplot:x.id}),S.off("click",x.onClickInPanHandler),s(C)||e(C)?(S.dragPan.disable(),S.on("zoomstart",x.clearOutline),x.dragOptions.prepFn=function(D,N,k){a(D,N,k,x.dragOptions,C)},l.init(x.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",x.clearOutline),x.div.onmousedown=null,x.div.ontouchstart=null,x.div.removeEventListener("touchstart",x.div._ontouchstart),x.onClickInPanHandler=x.onClickInPanFn(x.dragOptions),S.on("click",x.onClickInPanHandler))}function n(D){var N=x.map.unproject(D);return[N.lng,N.lat]}},d.updateFramework=function(E){var x=E[this.id].domain,S=E._size,T=this.div.style;T.width=S.w*(x.x[1]-x.x[0])+"px",T.height=S.h*(x.y[1]-x.y[0])+"px",T.left=S.l+x.x[0]*S.w+"px",T.top=S.t+(1-x.y[1])*S.h+"px",this.xaxis._offset=S.l+x.x[0]*S.w,this.xaxis._length=S.w*(x.x[1]-x.x[0]),this.yaxis._offset=S.t+(1-x.y[1])*S.h,this.yaxis._length=S.h*(x.y[1]-x.y[0])},d.updateLayers=function(E){var n,S=E[this.id].layers,T=this.layerList;if(S.length!==T.length){for(n=0;n<T.length;n++)T[n].dispose();for(T=this.layerList=[],n=0;n<S.length;n++)T.push(c(this,n,S[n]))}else for(n=0;n<S.length;n++)T[n].update(S[n])},d.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},d.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},d.setOptions=function(E,x,S){for(var T in S)this.map[x](E,T,S[T])},d.getMapLayers=function(){return this.map.getStyle().layers},d.addLayer=function(E,x){var S=this.map;if("string"==typeof x){if(""===x)return void S.addLayer(E,x);for(var T=this.getMapLayers(),n=0;n<T.length;n++)if(x===T[n].id)return void S.addLayer(E,x);y.warn(["Trying to add layer with *below* value",x,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(E)},d.project=function(E){return this.map.project(new A.LngLat(E[0],E[1]))},d.getView=function(){var E=this.map,x=E.getCenter(),n={lon:x.lng,lat:x.lat},C=E.getCanvas(),p=parseInt(C.style.width),F=parseInt(C.style.height);return{center:n,zoom:E.getZoom(),bearing:E.getBearing(),pitch:E.getPitch(),_derived:{coordinates:[E.unproject([0,0]).toArray(),E.unproject([p,0]).toArray(),E.unproject([p,F]).toArray(),E.unproject([0,F]).toArray()]}}},d.getViewEdits=function(E){for(var x=this.id,S=["center","zoom","bearing","pitch"],T={},n=0;n<S.length;n++){var C=S[n];T[x+"."+C]=E[C]}return T},d.getViewEditsWithDerived=function(E){var x=this.id,S=this.getViewEdits(E);return S[x+"._derived"]=E._derived,S},tt.exports=w},66741:function(tt){"use strict";tt.exports=function(W){var t=W.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},7316:function(tt,W,t){"use strict";var A=t(33428),y=t(94336).m_,i=t(57624).SO,P=t(38248),L=t(83160),l=t(24040),m=t(73060),r=t(31780),e=t(3400),s=t(76308),a=t(39032).BADNUM,h=t(79811),f=t(1936).clearOutline,u=t(55308),g=t(85656),c=t(16672),w=t(84888)._M,d=e.relinkPrivateKeys,o=e._,v=tt.exports={};e.extendFlat(v,l),v.attributes=t(45464),v.attributes.type.values=v.allTypes,v.fontAttrs=t(25376),v.layoutAttributes=t(64859),v.fontWeight="normal";var M=v.transformsRegistry,b=t(62460);v.executeAPICommand=b.executeAPICommand,v.computeAPICommandBindings=b.computeAPICommandBindings,v.manageCommandObserver=b.manageCommandObserver,v.hasSimpleAPICommandBindings=b.hasSimpleAPICommandBindings,v.redrawText=function(H){return H=e.getGraphDiv(H),new Promise(function(Z){setTimeout(function(){!H._fullLayout||(l.getComponentMethod("annotations","draw")(H),l.getComponentMethod("legend","draw")(H),l.getComponentMethod("colorbar","draw")(H),Z(v.previousPromises(H)))},300)})},v.resize=function(H){H=e.getGraphDiv(H);var Z,it=new Promise(function(Q,Y){(!H||e.isHidden(H))&&Y(new Error("Resize must be passed a displayed plot div element.")),H._redrawTimer&&clearTimeout(H._redrawTimer),H._resolveResize&&(Z=H._resolveResize),H._resolveResize=Q,H._redrawTimer=setTimeout(function(){if(!H.layout||H.layout.width&&H.layout.height||e.isHidden(H))Q(H);else{delete H.layout.width,delete H.layout.height;var nt=H.changed;H.autoplay=!0,l.call("relayout",H,{autosize:!0}).then(function(){H.changed=nt,H._resolveResize===Q&&(delete H._resolveResize,Q(H))})}},100)});return Z&&Z(it),it},v.previousPromises=function(H){if((H._promises||[]).length)return Promise.all(H._promises).then(function(){H._promises=[]})},v.addLinks=function(H){if(H._context.showLink||H._context.showSources){var Z=H._fullLayout,it=e.ensureSingle(Z._paper,"text","js-plot-link-container",function(dt){dt.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:s.defaultLine,"pointer-events":"all"}).each(function(){var xt=A.select(this);xt.append("tspan").classed("js-link-to-tool",!0),xt.append("tspan").classed("js-link-spacer",!0),xt.append("tspan").classed("js-sourcelinks",!0)})}),Q=it.node(),Y={y:Z._paper.attr("height")-9};document.body.contains(Q)&&Q.getComputedTextLength()>=Z.width-20?(Y["text-anchor"]="start",Y.x=5):(Y["text-anchor"]="end",Y.x=Z._paper.attr("width")-7),it.attr(Y);var nt=it.select(".js-link-to-tool"),_=it.select(".js-link-spacer"),st=it.select(".js-sourcelinks");H._context.showSources&&H._context.showSources(H),H._context.showLink&&function E(H,Z){Z.text("");var it=Z.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(H._context.linkText+" "+String.fromCharCode(187));if(H._context.sendData)it.on("click",function(){v.sendDataToCloud(H)});else{var Q=window.location.pathname.split("/"),Y=window.location.search;it.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+Q[2].split(".")[0]+"/"+Q[1]+Y})}}(H,nt),_.text(nt.text()&&st.text()?" - ":"")}},v.sendDataToCloud=function(H){var Z=(window.PLOTLYENV||{}).BASE_URL||H._context.plotlyServerURL;if(Z){H.emit("plotly_beforeexport");var it=A.select(H).append("div").attr("id","hiddenform").style("display","none"),Q=it.append("form").attr({action:Z+"/external",method:"post",target:"_blank"});return Q.append("input").attr({type:"text",name:"data"}).node().value=v.graphJson(H,!1,"keepdata"),Q.node().submit(),it.remove(),H.emit("plotly_afterexport"),!1}};var x=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],S=["year","month","dayMonth","dayMonthYear"];function C(H,Z){var it=H._context.locale;it||(it="en-US");var Q=!1,Y={};function nt(St){for(var Et=!0,Tt=0;Tt<Z.length;Tt++){var gt=Z[Tt];Y[gt]||(St[gt]?Y[gt]=St[gt]:Et=!1)}Et&&(Q=!0)}for(var _=0;_<2;_++){for(var st=H._context.locales,dt=0;dt<2;dt++){var xt=(st[it]||{}).format;if(xt&&(nt(xt),Q))break;st=l.localeRegistry}var yt=it.split("-")[0];if(Q||yt===it)break;it=yt}return Q||nt(l.localeRegistry.en.format),Y}function D(H,Z){var it={_fullLayout:Z},Q="x"===H._id.charAt(0),Y=H._mainAxis._anchorAxis,nt="",_="",st="";if(Y&&(st=Y._mainAxis._id,nt=Q?H._id+st:st+H._id),!nt||!Z._plots[nt]){nt="";for(var dt=H._counterAxes,xt=0;xt<dt.length;xt++){var yt=dt[xt],St=Q?H._id+yt:yt+H._id;_||(_=St);var Et=h.getFromId(it,yt);if(st&&Et.overlaying===st){nt=St;break}}}return nt||_}function N(H){var Z=H.transforms;if(Array.isArray(Z)&&Z.length)for(var it=0;it<Z.length;it++){var Q=Z[it],Y=Q._module||M[Q.type];if(Y&&Y.makesData)return!0}return!1}function k(H,Z,it,Q){for(var Y=H.transforms,nt=[H],_=0;_<Y.length;_++){var st=Y[_],dt=M[st.type];dt&&dt.transform&&(nt=dt.transform(nt,{transform:st,fullTrace:H,fullData:Z,layout:it,fullLayout:Q,transformIndex:_}))}return nt}function z(H){return"string"==typeof H&&"px"===H.substr(H.length-2)&&parseFloat(H)}function B(H){var Z=H.margin;if(!H._size){var it=H._size={l:Math.round(Z.l),r:Math.round(Z.r),t:Math.round(Z.t),b:Math.round(Z.b),p:Math.round(Z.pad)};it.w=Math.round(H.width)-it.l-it.r,it.h=Math.round(H.height)-it.t-it.b}H._pushmargin||(H._pushmargin={}),H._pushmarginIds||(H._pushmarginIds={}),H._reservedMargin||(H._reservedMargin={})}v.supplyDefaults=function(H,Z){var it=Z&&Z.skipUpdateCalc,Q=H._fullLayout||{};if(Q._skipDefaults)delete Q._skipDefaults;else{var St,Y=H._fullLayout={},nt=H.layout||{},_=H._fullData||[],st=H._fullData=[],dt=H.data||[],xt=H.calcdata||[],yt=H._context||{};H._transitionData||v.createTransitionData(H),Y._dfltTitle={plot:o(H,"Click to enter Plot title"),x:o(H,"Click to enter X axis title"),y:o(H,"Click to enter Y axis title"),colorbar:o(H,"Click to enter Colorscale title"),annotation:o(H,"new text")},Y._traceWord=o(H,"trace");var Et=C(H,x);if(Y._mapboxAccessToken=yt.mapboxAccessToken,Q._initialAutoSizeIsDone){var Tt=Q.width,gt=Q.height;v.supplyLayoutGlobalDefaults(nt,Y,Et),nt.width||(Y.width=Tt),nt.height||(Y.height=gt),v.sanitizeMargins(Y)}else{v.supplyLayoutGlobalDefaults(nt,Y,Et);var Mt=!nt.width||!nt.height,Nt=Y.autosize;Mt&&(Nt||yt.autosizable)?v.plotAutoSize(H,nt,Y):Mt&&v.sanitizeMargins(Y),!Nt&&Mt&&(nt.width=Y.width,nt.height=Y.height)}Y._d3locale=function p(H,Z){return H.decimal=Z.charAt(0),H.thousands=Z.charAt(1),{numberFormat:function(it){try{it=i(H).format(e.adjustFormat(it))}catch(Q){return e.warnBadFormat(it),e.noFormat}return it},timeFormat:y(H).utcFormat}}(Et,Y.separators),Y._extraFormat=C(H,S),Y._initialAutoSizeIsDone=!0,Y._dataLength=dt.length,Y._modules=[],Y._visibleModules=[],Y._basePlotModules=[];var Vt=Y._subplots=function n(){var it,Q,H=l.collectableSubplotTypes,Z={};if(!H){H=[];var Y=l.subplotsRegistry;for(var nt in Y){var st=Y[nt].attr;if(st&&(H.push(nt),Array.isArray(st)))for(Q=0;Q<st.length;Q++)e.pushUnique(H,st[Q])}}for(it=0;it<H.length;it++)Z[H[it]]=[];return Z}(),re=Y._splomAxes={x:{},y:{}},le=Y._splomSubplots={};Y._splomGridDflt={},Y._scatterStackOpts={},Y._firstScatter={},Y._alignmentOpts={},Y._colorAxes={},Y._requestRangeslider={},Y._traceUids=function T(H,Z){var Y,nt,it=Z.length,Q=[];for(Y=0;Y<H.length;Y++){var _=H[Y]._fullInput;_!==nt&&Q.push(_),nt=_}var st=Q.length,dt=new Array(it),xt={};function yt(Tt,gt){dt[gt]=Tt,xt[Tt]=1}function St(Tt,gt){if(Tt&&"string"==typeof Tt&&!xt[Tt])return yt(Tt,gt),!0}for(Y=0;Y<it;Y++){var Et=Z[Y].uid;"number"==typeof Et&&(Et=String(Et)),!St(Et,Y)&&(Y<st&&St(Q[Y].uid,Y)||yt(e.randstr(xt),Y))}return dt}(_,dt),Y._globalTransforms=(H._context||{}).globalTransforms,v.supplyDataDefaults(dt,st,nt,Y);var It=Object.keys(re.x),Rt=Object.keys(re.y);if(It.length>1&&Rt.length>1){for(l.getComponentMethod("grid","sizeDefaults")(nt,Y),St=0;St<It.length;St++)e.pushUnique(Vt.xaxis,It[St]);for(St=0;St<Rt.length;St++)e.pushUnique(Vt.yaxis,Rt[St]);for(var $t in le)e.pushUnique(Vt.cartesian,$t)}if(Y._has=v._hasPlotType.bind(Y),_.length===st.length)for(St=0;St<st.length;St++)d(st[St],_[St]);v.supplyLayoutModuleDefaults(nt,Y,st,H._transitionData);var oe=Y._visibleModules,se=[];for(St=0;St<oe.length;St++){var ve=oe[St].crossTraceDefaults;ve&&e.pushUnique(se,ve)}for(St=0;St<se.length;St++)se[St](st,Y);Y._hasOnlyLargeSploms=1===Y._basePlotModules.length&&"splom"===Y._basePlotModules[0].name&&It.length>15&&Rt.length>15&&0===Y.shapes.length&&0===Y.images.length,v.linkSubplots(st,Y,_,Q),v.cleanPlot(st,Y,_,Q);var de=!(!Q._has||!Q._has("gl2d")),jt=!(!Y._has||!Y._has("gl2d")),Xt=!(!Q._has||!Q._has("cartesian"))||de,Ht=!(!Y._has||!Y._has("cartesian"))||jt;Xt&&!Ht?Q._bgLayer.remove():Ht&&!Xt&&(Y._shouldCreateBgLayer=!0),Q._zoomlayer&&!H._dragging&&f({_fullLayout:Q}),function F(H,Z){var it,Q=[];Z.meta&&(it=Z._meta={meta:Z.meta,layout:{meta:Z.meta}});for(var Y=0;Y<H.length;Y++){var nt=H[Y];nt.meta?Q[nt.index]=nt._meta={meta:nt.meta}:Z.meta&&(nt._meta={meta:Z.meta}),Z.meta&&(nt._meta.layout={meta:Z.meta})}Q.length&&(it||(it=Z._meta={}),it.data=Q)}(st,Y),d(Y,Q),l.getComponentMethod("colorscale","crossTraceDefaults")(st,Y),Y._preGUI||(Y._preGUI={}),Y._tracePreGUI||(Y._tracePreGUI={});var kt,Bt=Y._tracePreGUI,zt={};for(kt in Bt)zt[kt]="old";for(St=0;St<st.length;St++)zt[kt=st[St]._fullInput.uid]||(Bt[kt]={}),zt[kt]="new";for(kt in zt)"old"===zt[kt]&&delete Bt[kt];B(Y),l.getComponentMethod("rangeslider","makeData")(Y),!it&&xt.length===st.length&&v.supplyDefaultsUpdateCalc(xt,st)}},v.supplyDefaultsUpdateCalc=function(H,Z){for(var it=0;it<Z.length;it++){var Q=Z[it],Y=(H[it]||[])[0];if(Y&&Y.trace){var nt=Y.trace;if(nt._hasCalcTransform){var st,dt,xt,_=nt._arrayAttrs;for(st=0;st<_.length;st++)xt=e.nestedProperty(nt,dt=_[st]).get().slice(),e.nestedProperty(Q,dt).set(xt)}Y.trace=Q}}},v.createTransitionData=function(H){H._transitionData||(H._transitionData={}),H._transitionData._frames||(H._transitionData._frames=[]),H._transitionData._frameHash||(H._transitionData._frameHash={}),H._transitionData._counter||(H._transitionData._counter=0),H._transitionData._interruptCallbacks||(H._transitionData._interruptCallbacks=[])},v._hasPlotType=function(H){var Z,it=this._basePlotModules||[];for(Z=0;Z<it.length;Z++)if(it[Z].name===H)return!0;var Q=this._modules||[];for(Z=0;Z<Q.length;Z++){var Y=Q[Z].name;if(Y===H)return!0;var nt=l.modules[Y];if(nt&&nt.categories[H])return!0}return!1},v.cleanPlot=function(H,Z,it,Q){var Y,nt,_=Q._basePlotModules||[];for(Y=0;Y<_.length;Y++){var st=_[Y];st.clean&&st.clean(H,Z,it,Q)}var dt=Q._has&&Q._has("gl"),xt=Z._has&&Z._has("gl");dt&&!xt&&void 0!==Q._glcontainer&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.selectAll(".no-webgl").remove(),Q._glcanvas=null);var yt=!!Q._infolayer;t:for(Y=0;Y<it.length;Y++){var Et=it[Y].uid;for(nt=0;nt<H.length;nt++)if(Et===H[nt].uid)continue t;yt&&Q._infolayer.select(".cb"+Et).remove()}},v.linkSubplots=function(H,Z,it,Q){var Y,nt,_=Q._plots||{},st=Z._plots={},dt=Z._subplots,xt={_fullData:H,_fullLayout:Z},yt=dt.cartesian.concat(dt.gl2d||[]);for(Y=0;Y<yt.length;Y++){var Mt,St=yt[Y],Et=_[St],Tt=h.getFromId(xt,St,"x"),gt=h.getFromId(xt,St,"y");for(Et?Mt=st[St]=Et:(Mt=st[St]={}).id=St,Tt._counterAxes.push(gt._id),gt._counterAxes.push(Tt._id),Tt._subplotsWith.push(St),gt._subplotsWith.push(St),Mt.xaxis=Tt,Mt.yaxis=gt,Mt._hasClipOnAxisFalse=!1,nt=0;nt<H.length;nt++){var Nt=H[nt];if(Nt.xaxis===Mt.xaxis._id&&Nt.yaxis===Mt.yaxis._id&&!1===Nt.cliponaxis){Mt._hasClipOnAxisFalse=!0;break}}}var Pt,Gt=h.list(xt,null,!0);for(Y=0;Y<Gt.length;Y++){var Vt=null;(Pt=Gt[Y]).overlaying&&(Vt=h.getFromId(xt,Pt.overlaying))&&Vt.overlaying&&(Pt.overlaying=!1,Vt=null),Pt._mainAxis=Vt||Pt,Vt&&(Pt.domain=Vt.domain.slice()),Pt._anchorAxis="free"===Pt.anchor?null:h.getFromId(xt,Pt.anchor)}for(Y=0;Y<Gt.length;Y++)if((Pt=Gt[Y])._counterAxes.sort(h.idSort),Pt._subplotsWith.sort(e.subplotSort),Pt._mainSubplot=D(Pt,Z),Pt._counterAxes.length&&(Pt.spikemode&&-1!==Pt.spikemode.indexOf("across")||Pt.automargin&&Pt.mirror&&"free"!==Pt.anchor||l.getComponentMethod("rangeslider","isVisible")(Pt))){var re=1,le=0;for(nt=0;nt<Pt._counterAxes.length;nt++){var It=h.getFromId(xt,Pt._counterAxes[nt]);re=Math.min(re,It.domain[0]),le=Math.max(le,It.domain[1])}re<le&&(Pt._counterDomainMin=re,Pt._counterDomainMax=le)}},v.clearExpandedTraceDefaultColors=function(H){var Z,it,Q;for(it=[],(Z=H._module._colorAttrs)||(H._module._colorAttrs=Z=[],m.crawl(H._module.attributes,function Y(_,st,dt,xt){it[xt]=st,it.length=xt+1,"color"===_.valType&&void 0===_.dflt&&Z.push(it.join("."))})),Q=0;Q<Z.length;Q++)e.nestedProperty(H,"_input."+Z[Q]).get()||e.nestedProperty(H,Z[Q]).set(null)},v.supplyDataDefaults=function(H,Z,it,Q){var xt,yt,St,Y=Q._modules,nt=Q._visibleModules,_=Q._basePlotModules,st=0,dt=0;function Et(Rt){Z.push(Rt);var $t=Rt._module;!$t||(e.pushUnique(Y,$t),!0===Rt.visible&&e.pushUnique(nt,$t),e.pushUnique(_,Rt._module.basePlotModule),st++,!1!==Rt._input.visible&&dt++)}Q._transformModules=[];var Tt={},gt=[],Nt=r.traceTemplater((it.template||{}).data||{});for(xt=0;xt<H.length;xt++){if((yt=Nt.newTrace(St=H[xt])).uid=Q._traceUids[xt],v.supplyTraceDefaults(St,yt,dt,Q,xt),yt.index=xt,yt._input=St,yt._expandedIndex=st,yt.transforms&&yt.transforms.length)for(var Gt=!1!==St.visible&&!1===yt.visible,Pt=k(yt,Z,it,Q),Vt=0;Vt<Pt.length;Vt++){var re=Pt[Vt],le={_template:yt._template,type:yt.type,uid:yt.uid+Vt};Gt&&!1===re.visible&&delete re.visible,v.supplyTraceDefaults(re,le,st,Q,xt),d(le,re),le.index=xt,le._input=St,le._fullInput=yt,le._expandedIndex=st,le._expandedInput=re,Et(le)}else yt._fullInput=yt,yt._expandedInput=yt,Et(yt);l.traceIs(yt,"carpetAxis")&&(Tt[yt.carpet]=yt),l.traceIs(yt,"carpetDependent")&&gt.push(xt)}for(xt=0;xt<gt.length;xt++)if((yt=Z[gt[xt]]).visible){var It=Tt[yt.carpet];if(yt._carpet=It,!It||!It.visible){yt.visible=!1;continue}yt.xaxis=It.xaxis,yt.yaxis=It.yaxis}},v.supplyAnimationDefaults=function(H){H=H||{};var Z,it={};function Q(Y,nt){return e.coerce(H||{},it,g,Y,nt)}if(Q("mode"),Q("direction"),Q("fromcurrent"),Array.isArray(H.frame))for(it.frame=[],Z=0;Z<H.frame.length;Z++)it.frame[Z]=v.supplyAnimationFrameDefaults(H.frame[Z]||{});else it.frame=v.supplyAnimationFrameDefaults(H.frame||{});if(Array.isArray(H.transition))for(it.transition=[],Z=0;Z<H.transition.length;Z++)it.transition[Z]=v.supplyAnimationTransitionDefaults(H.transition[Z]||{});else it.transition=v.supplyAnimationTransitionDefaults(H.transition||{});return it},v.supplyAnimationFrameDefaults=function(H){var Z={};function it(Q,Y){return e.coerce(H||{},Z,g.frame,Q,Y)}return it("duration"),it("redraw"),Z},v.supplyAnimationTransitionDefaults=function(H){var Z={};function it(Q,Y){return e.coerce(H||{},Z,g.transition,Q,Y)}return it("duration"),it("easing"),Z},v.supplyFrameDefaults=function(H){var Z={};function it(Q,Y){return e.coerce(H,Z,c,Q,Y)}return it("group"),it("name"),it("traces"),it("baseframe"),it("data"),it("layout"),Z},v.supplyTraceDefaults=function(H,Z,it,Q,Y){var st,nt=Q.colorway||s.defaults,_=nt[it%nt.length];function dt(Vt,re){return e.coerce(H,Z,v.attributes,Vt,re)}var xt=dt("visible");dt("type"),dt("name",Q._traceWord+" "+Y),dt("uirevision",Q.uirevision);var yt=v.getModule(Z);if(Z._module=yt,yt){var St=yt.basePlotModule,Et=St.attr,Tt=St.attributes;if(Et&&Tt){var gt=Q._subplots,Mt="";if(xt||"gl2d"!==St.name){if(Array.isArray(Et))for(st=0;st<Et.length;st++){var Nt=Et[st],Gt=e.coerce(H,Z,Tt,Nt);gt[Nt]&&e.pushUnique(gt[Nt],Gt),Mt+=Gt}else Mt=e.coerce(H,Z,Tt,Et);gt[St.name]&&e.pushUnique(gt[St.name],Mt)}}}if(xt){if(dt("customdata"),dt("ids"),dt("meta"),l.traceIs(Z,"showLegend")?(e.coerce(H,Z,yt.attributes.showlegend?yt.attributes:v.attributes,"showlegend"),dt("legend"),dt("legendwidth"),dt("legendgroup"),dt("legendgrouptitle.text"),dt("legendrank"),Z._dfltShowLegend=!0):Z._dfltShowLegend=!1,yt&&yt.supplyDefaults(H,Z,_,Q),l.traceIs(Z,"noOpacity")||dt("opacity"),l.traceIs(Z,"notLegendIsolatable")&&(Z.visible=!!Z.visible),l.traceIs(Z,"noHover")||(Z.hovertemplate||e.coerceHoverinfo(H,Z,Q),"parcats"!==Z.type&&l.getComponentMethod("fx","supplyDefaults")(H,Z,_,Q)),yt&&yt.selectPoints){var Pt=dt("selectedpoints");e.isTypedArray(Pt)&&(Z.selectedpoints=Array.from(Pt))}v.supplyTransformDefaults(H,Z,Q)}return Z},v.hasMakesDataTransform=N,v.supplyTransformDefaults=function(H,Z,it){if(Z._length||N(H)){var Q=it._globalTransforms||[],Y=it._transformModules||[];if(Array.isArray(H.transforms)||0!==Q.length)for(var _=Q.concat(H.transforms||[]),st=Z.transforms=[],dt=0;dt<_.length;dt++){var Et,xt=_[dt],yt=xt.type,St=M[yt],Tt=!(xt._module&&xt._module===St),gt=St&&"function"==typeof St.transform;St||e.warn("Unrecognized transform type "+yt+"."),St&&St.supplyDefaults&&(Tt||gt)?((Et=St.supplyDefaults(xt,Z,it,H)).type=yt,Et._module=St,e.pushUnique(Y,St)):Et=e.extendFlat({},xt),st.push(Et)}}},v.supplyLayoutGlobalDefaults=function(H,Z,it){function Q(St,Et){return e.coerce(H,Z,v.layoutAttributes,St,Et)}var Y=H.template;e.isPlainObject(Y)&&(Z.template=Y,Z._template=Y.layout,Z._dataTemplate=Y.data),Q("autotypenumbers");var nt=e.coerceFont(Q,"font");e.coerceFont(Q,"title.font",e.extendFlat({},nt,{size:Math.round(1.4*nt.size)})),Q("title.text",Z._dfltTitle.plot),Q("title.xref");var st=Q("title.yref");Q("title.pad.t"),Q("title.pad.r"),Q("title.pad.b"),Q("title.pad.l");var dt=Q("title.automargin");Q("title.x"),Q("title.xanchor"),Q("title.y"),Q("title.yanchor"),dt&&("paper"===st&&(0!==Z.title.y&&(Z.title.y=1),"auto"===Z.title.yanchor&&(Z.title.yanchor=0===Z.title.y?"top":"bottom")),"container"===st&&("auto"===Z.title.y&&(Z.title.y=1),"auto"===Z.title.yanchor&&(Z.title.yanchor=Z.title.y<.5?"bottom":"top"))),Q("uniformtext.mode")&&Q("uniformtext.minsize"),Q("autosize",!(H.width&&H.height)),Q("width"),Q("height"),Q("minreducedwidth"),Q("minreducedheight"),Q("margin.l"),Q("margin.r"),Q("margin.t"),Q("margin.b"),Q("margin.pad"),Q("margin.autoexpand"),H.width&&H.height&&v.sanitizeMargins(Z),l.getComponentMethod("grid","sizeDefaults")(H,Z),Q("paper_bgcolor"),Q("separators",it.decimal+it.thousands),Q("hidesources"),Q("colorway"),Q("datarevision");var yt=Q("uirevision");Q("editrevision",yt),Q("selectionrevision",yt),l.getComponentMethod("modebar","supplyLayoutDefaults")(H,Z),l.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(H,Z,Q),l.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(H,Z,Q),Q("meta"),e.isPlainObject(H.transition)&&(Q("transition.duration"),Q("transition.easing"),Q("transition.ordering")),l.getComponentMethod("calendars","handleDefaults")(H,Z,"calendar"),l.getComponentMethod("fx","supplyLayoutGlobalDefaults")(H,Z,Q),e.coerce(H,Z,u,"scattermode")},v.plotAutoSize=function(Z,it,Q){var _,st,Y=Z._context||{},nt=Y.frameMargins,dt=e.isPlotDiv(Z);if(dt&&Z.emit("plotly_autosize"),Y.fillFrame)_=window.innerWidth,st=window.innerHeight,document.body.style.overflow="hidden";else{var xt=dt?window.getComputedStyle(Z):{};if(_=z(xt.width)||z(xt.maxWidth)||Q.width,st=z(xt.height)||z(xt.maxHeight)||Q.height,P(nt)&&nt>0){var yt=1-2*nt;_=Math.round(yt*_),st=Math.round(yt*st)}}var St=v.layoutAttributes.width.min,Et=v.layoutAttributes.height.min;_<St&&(_=St),st<Et&&(st=Et);var Tt=!it.width&&Math.abs(Q.width-_)>1,gt=!it.height&&Math.abs(Q.height-st)>1;(gt||Tt)&&(Tt&&(Q.width=_),gt&&(Q.height=st)),Z._initialAutoSize||(Z._initialAutoSize={width:_,height:st}),v.sanitizeMargins(Q)},v.supplyLayoutModuleDefaults=function(H,Z,it,Q){var _,st,dt,Y=l.componentsRegistry,nt=Z._basePlotModules,xt=l.subplotsRegistry.cartesian;for(_ in Y)(dt=Y[_]).includeBasePlot&&dt.includeBasePlot(H,Z);for(var yt in nt.length||nt.push(xt),Z._has("cartesian")&&(l.getComponentMethod("grid","contentDefaults")(H,Z),xt.finalizeSubplots(H,Z)),Z._subplots)Z._subplots[yt].sort(e.subplotSort);for(st=0;st<nt.length;st++)(dt=nt[st]).supplyLayoutDefaults&&dt.supplyLayoutDefaults(H,Z,it);var St=Z._modules;for(st=0;st<St.length;st++)(dt=St[st]).supplyLayoutDefaults&&dt.supplyLayoutDefaults(H,Z,it);var Et=Z._transformModules;for(st=0;st<Et.length;st++)(dt=Et[st]).supplyLayoutDefaults&&dt.supplyLayoutDefaults(H,Z,it,Q);for(_ in Y)(dt=Y[_]).supplyLayoutDefaults&&dt.supplyLayoutDefaults(H,Z,it)},v.purge=function(H){var Z=H._fullLayout||{};void 0!==Z._glcontainer&&(Z._glcontainer.selectAll(".gl-canvas").remove(),Z._glcontainer.remove(),Z._glcanvas=null),Z._modeBar&&Z._modeBar.destroy(),H._transitionData&&(H._transitionData._interruptCallbacks&&(H._transitionData._interruptCallbacks.length=0),H._transitionData._animationRaf&&window.cancelAnimationFrame(H._transitionData._animationRaf)),e.clearThrottle(),e.clearResponsive(H),delete H.data,delete H.layout,delete H._fullData,delete H._fullLayout,delete H.calcdata,delete H.empty,delete H.fid,delete H.undoqueue,delete H.undonum,delete H.autoplay,delete H.changed,delete H._promises,delete H._redrawTimer,delete H._hmlumcount,delete H._hmpixcount,delete H._transitionData,delete H._transitioning,delete H._initialAutoSize,delete H._transitioningWithDuration,delete H._dragging,delete H._dragged,delete H._dragdata,delete H._hoverdata,delete H._snapshotInProgress,delete H._editing,delete H._mouseDownTime,delete H._legendMouseDownTime,H.removeAllListeners&&H.removeAllListeners()},v.style=function(H){var Q,Z=H._fullLayout._visibleModules,it=[];for(Q=0;Q<Z.length;Q++){var Y=Z[Q];Y.style&&e.pushUnique(it,Y.style)}for(Q=0;Q<it.length;Q++)it[Q](H)},v.sanitizeMargins=function(H){if(H&&H.margin){var _,Z=H.width,it=H.height,Q=H.margin,nt=it-(Q.t+Q.b);Z-(Q.l+Q.r)<0&&(_=(Z-1)/(Q.l+Q.r),Q.l=Math.floor(_*Q.l),Q.r=Math.floor(_*Q.r)),nt<0&&(_=(it-1)/(Q.t+Q.b),Q.t=Math.floor(_*Q.t),Q.b=Math.floor(_*Q.b))}},v.clearAutoMarginIds=function(H){H._fullLayout._pushmarginIds={}},v.allowAutoMargin=function(H,Z){H._fullLayout._pushmarginIds[Z]=1};v.autoMargin=function(H,Z,it){var Q=H._fullLayout,Y=Q.width,nt=Q.height,_=Q.margin,dt=Q.minreducedheight,xt=e.constrain(Y-_.l-_.r,2,Q.minreducedwidth),yt=e.constrain(nt-_.t-_.b,2,dt),St=Math.max(0,Y-xt),Et=Math.max(0,nt-yt),Tt=Q._pushmargin,gt=Q._pushmarginIds;if(!1!==_.autoexpand){if(it){var Mt=it.pad;if(void 0===Mt&&(Mt=Math.min(12,_.l,_.r,_.t,_.b)),St){var Nt=(it.l+it.r)/St;Nt>1&&(it.l/=Nt,it.r/=Nt)}if(Et){var Gt=(it.t+it.b)/Et;Gt>1&&(it.t/=Gt,it.b/=Gt)}Tt[Z]={l:{val:void 0!==it.xl?it.xl:it.x,size:it.l+Mt},r:{val:void 0!==it.xr?it.xr:it.x,size:it.r+Mt},b:{val:void 0!==it.yb?it.yb:it.y,size:it.b+Mt},t:{val:void 0!==it.yt?it.yt:it.y,size:it.t+Mt}},gt[Z]=1}else delete Tt[Z],delete gt[Z];if(!Q._replotting)return v.doAutoMargin(H)}},v.doAutoMargin=function(H){var Z=H._fullLayout,it=Z.width,Q=Z.height;Z._size||(Z._size={}),B(Z);var Y=Z._size,nt=Z.margin,_={t:0,b:0,l:0,r:0},st=e.extendFlat({},Y),dt=nt.l,xt=nt.r,yt=nt.t,St=nt.b,Et=Z._pushmargin,Tt=Z._pushmarginIds,gt=Z.minreducedwidth,Mt=Z.minreducedheight;if(!1!==nt.autoexpand){for(var Nt in Et)Tt[Nt]||delete Et[Nt];var Gt=H._fullLayout._reservedMargin;for(var Pt in Gt)for(var Vt in Gt[Pt])_[Vt]=Math.max(_[Vt],Gt[Pt][Vt]);for(var le in Et.base={l:{val:0,size:dt},r:{val:1,size:xt},t:{val:1,size:yt},b:{val:0,size:St}},_){var It=0;for(var Rt in Et)"base"!==Rt&&P(Et[Rt][le].size)&&(It=Et[Rt][le].size>It?Et[Rt][le].size:It);var $t=Math.max(0,nt[le]-It);_[le]=Math.max(0,_[le]-$t)}for(var oe in Et){var se=Et[oe].l||{},ve=Et[oe].b||{},de=se.val,jt=se.size,Ct=ve.val,Wt=ve.size,Xt=it-_.r-_.l,Ht=Q-_.t-_.b;for(var Bt in Et){if(P(jt)&&Et[Bt].r){var zt=Et[Bt].r.val,kt=Et[Bt].r.size;if(zt>de){var wt=(jt*zt+(kt-Xt)*de)/(zt-de),ft=(kt*(1-de)+(jt-Xt)*(1-zt))/(zt-de);wt+ft>dt+xt&&(dt=wt,xt=ft)}}if(P(Wt)&&Et[Bt].t){var pt=Et[Bt].t.val,Dt=Et[Bt].t.size;if(pt>Ct){var Qt=(Wt*pt+(Dt-Ht)*Ct)/(pt-Ct),te=(Dt*(1-Ct)+(Wt-Ht)*(1-pt))/(pt-Ct);Qt+te>St+yt&&(St=Qt,yt=te)}}}}}var ee=e.constrain(it-nt.l-nt.r,2,gt),Ne=e.constrain(Q-nt.t-nt.b,2,Mt),We=Math.max(0,it-ee),ye=Math.max(0,Q-Ne);if(We){var Te=(dt+xt)/We;Te>1&&(dt/=Te,xt/=Te)}if(ye){var Ge=(St+yt)/ye;Ge>1&&(St/=Ge,yt/=Ge)}if(Y.l=Math.round(dt)+_.l,Y.r=Math.round(xt)+_.r,Y.t=Math.round(yt)+_.t,Y.b=Math.round(St)+_.b,Y.p=Math.round(nt.pad),Y.w=Math.round(it)-Y.l-Y.r,Y.h=Math.round(Q)-Y.t-Y.b,!Z._replotting&&(v.didMarginChange(st,Y)||function G(H){if("_redrawFromAutoMarginCount"in H._fullLayout)return!1;var Z=h.list(H,"",!0);for(var it in Z)if(Z[it].autoshift||Z[it].shift)return!0;return!1}(H))){"_redrawFromAutoMarginCount"in Z?Z._redrawFromAutoMarginCount++:Z._redrawFromAutoMarginCount=1;var hr=3*(1+Object.keys(Tt).length);if(Z._redrawFromAutoMarginCount<hr)return l.call("_doPlot",H);Z._size=st,e.warn("Too many auto-margin redraws.")}!function J(H){var Z=h.list(H,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(it){for(var Q=0;Q<Z.length;Q++){var Y=Z[Q][it];Y&&Y()}})}(H)};var et=["l","r","t","b","p","w","h"];function at(H,Z,it){var Q=!1;var yt=e.syncOrAsync([v.previousPromises,function dt(){if(H._transitionData)return H._transitioning=!1,function Y(St){var Et=Promise.resolve();if(!St)return Et;for(;St.length;)Et=Et.then(St.shift());return Et}(H._transitionData._interruptCallbacks)},it.prepareFn,v.rehover,v.reselect,function _(){return H.emit("plotly_transitioning",[]),new Promise(function(St){H._transitioning=!0,Z.duration>0&&(H._transitioningWithDuration=!0),H._transitionData._interruptCallbacks.push(function(){Q=!0}),it.redraw&&H._transitionData._interruptCallbacks.push(function(){return l.call("redraw",H)}),H._transitionData._interruptCallbacks.push(function(){H.emit("plotly_transitioninterrupted",[])});var Et=0,Tt=0;function gt(){return Et++,function(){Tt++,!Q&&Tt===Et&&function st(St){if(H._transitionData)return function nt(St){if(St)for(;St.length;)St.shift()}(H._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(it.redraw)return l.call("redraw",H)}).then(function(){H._transitioning=!1,H._transitioningWithDuration=!1,H.emit("plotly_transitioned",[])}).then(St)}(St)}}it.runFn(gt),setTimeout(gt())})}],H);return(!yt||!yt.then)&&(yt=Promise.resolve()),yt.then(function(){return H})}v.didMarginChange=function(H,Z){for(var it=0;it<et.length;it++){var Q=et[it],Y=H[Q],nt=Z[Q];if(!P(Y)||Math.abs(nt-Y)>1)return!0}return!1},v.graphJson=function(H,Z,it,Q,Y,nt){(Y&&Z&&!H._fullData||Y&&!Z&&!H._fullLayout)&&v.supplyDefaults(H);var st=Y?H._fullLayout:H.layout,dt=(H._transitionData||{})._frames;function xt(Et,Tt){if("function"==typeof Et)return Tt?"_function_":null;if(e.isPlainObject(Et)){var Mt,gt={};return Object.keys(Et).sort().forEach(function(Vt){if(-1===["_","["].indexOf(Vt.charAt(0))){if("function"==typeof Et[Vt])return void(Tt&&(gt[Vt]="_function"));if("keepdata"===it){if("src"===Vt.substr(Vt.length-3))return}else if("keepstream"===it){if("string"==typeof(Mt=Et[Vt+"src"])&&Mt.indexOf(":")>0&&!e.isPlainObject(Et.stream))return}else if("keepall"!==it&&"string"==typeof(Mt=Et[Vt+"src"])&&Mt.indexOf(":")>0)return;gt[Vt]=xt(Et[Vt],Tt)}}),gt}var Nt=Array.isArray(Et),Gt=e.isTypedArray(Et);if((Nt||Gt)&&Et.dtype&&Et.shape){var Pt=Et.bdata;return xt({dtype:Et.dtype,shape:Et.shape,bdata:e.isArrayBuffer(Pt)?L.encode(Pt):Pt},Tt)}return Nt?Et.map(function(Vt){return xt(Vt,Tt)}):Gt?e.simpleMap(Et,e.identity):e.isJSDate(Et)?e.ms2DateTimeLocal(+Et):Et}var yt={data:((Y?H._fullData:H.data)||[]).map(function(Et){var Tt=xt(Et);return Z&&delete Tt.fit,Tt})};if(!Z&&(yt.layout=xt(st),Y)){var St=st._size;yt.layout.computed={margin:{b:St.b,l:St.l,r:St.r,t:St.t}}}return dt&&(yt.frames=xt(dt)),nt&&(yt.config=xt(H._context,!0)),"object"===Q?yt:JSON.stringify(yt)},v.modifyFrames=function(H,Z){var it,Q,Y,nt=H._transitionData._frames,_=H._transitionData._frameHash;for(it=0;it<Z.length;it++)switch(Q=Z[it],Q.type){case"replace":var st=(nt[Q.index]||{}).name,dt=(Y=Q.value).name;nt[Q.index]=_[dt]=Y,dt!==st&&(delete _[st],_[dt]=Y);break;case"insert":_[(Y=Q.value).name]=Y,nt.splice(Q.index,0,Y);break;case"delete":delete _[(Y=nt[Q.index]).name],nt.splice(Q.index,1)}return Promise.resolve()},v.computeFrame=function(H,Z){var Q,Y,nt,_,it=H._transitionData._frameHash;if(!Z)throw new Error("computeFrame must be given a string frame name");var st=it[Z.toString()];if(!st)return!1;for(var dt=[st],xt=[st.name];st.baseframe&&(st=it[st.baseframe.toString()])&&-1===xt.indexOf(st.name);)dt.push(st),xt.push(st.name);for(var yt={};st=dt.pop();)if(st.layout&&(yt.layout=v.extendLayout(yt.layout,st.layout)),st.data){if(yt.data||(yt.data=[]),!(Y=st.traces))for(Y=[],Q=0;Q<st.data.length;Q++)Y[Q]=Q;for(yt.traces||(yt.traces=[]),Q=0;Q<st.data.length;Q++)null!=(nt=Y[Q])&&(-1===(_=yt.traces.indexOf(nt))&&(yt.traces[_=yt.data.length]=nt),yt.data[_]=v.extendTrace(yt.data[_],st.data[Q]))}return yt},v.recomputeFrameHash=function(H){for(var Z=H._transitionData._frameHash={},it=H._transitionData._frames,Q=0;Q<it.length;Q++){var Y=it[Q];Y&&Y.name&&(Z[Y.name]=Y)}},v.extendObjectWithContainers=function(H,Z,it){var Q,Y,nt,_,dt,xt,yt,St=e.extendDeepNoArrays({},Z||{}),Et=e.expandObjectPaths(St),Tt={};if(it&&it.length)for(nt=0;nt<it.length;nt++)void 0===(Y=(Q=e.nestedProperty(Et,it[nt])).get())?e.nestedProperty(Tt,it[nt]).set(null):(Q.set(null),e.nestedProperty(Tt,it[nt]).set(Y));if(H=e.extendDeepNoArrays(H||{},Et),it&&it.length)for(nt=0;nt<it.length;nt++)if(xt=e.nestedProperty(Tt,it[nt]).get()){for(yt=(dt=e.nestedProperty(H,it[nt])).get(),Array.isArray(yt)||dt.set(yt=[]),_=0;_<xt.length;_++){var gt=xt[_];yt[_]=null===gt?null:v.extendObjectWithContainers(yt[_],gt)}dt.set(yt)}return H},v.dataArrayContainers=["transforms","dimensions"],v.layoutArrayContainers=l.layoutArrayContainers,v.extendTrace=function(H,Z){return v.extendObjectWithContainers(H,Z,v.dataArrayContainers)},v.extendLayout=function(H,Z){return v.extendObjectWithContainers(H,Z,v.layoutArrayContainers)},v.transition=function(H,Z,it,Q,Y,nt){var _={redraw:Y.redraw},st={},dt=[];return _.prepareFn=function(){for(var xt=Array.isArray(Z)?Z.length:0,yt=Q.slice(0,xt),St=0;St<yt.length;St++){var Et=yt[St],gt=H._fullData[Et]._module;if(gt){if(gt.animatable){var Mt=gt.basePlotModule.name;st[Mt]||(st[Mt]=[]),st[Mt].push(Et)}H.data[yt[St]]=v.extendTrace(H.data[yt[St]],Z[St])}}var Nt=e.expandObjectPaths(e.extendDeepNoArrays({},it)),Gt=/^[xy]axis[0-9]*$/;for(var Pt in Nt)!Gt.test(Pt)||delete Nt[Pt].range;v.extendLayout(H.layout,Nt),delete H.calcdata,v.supplyDefaults(H),v.doCalcdata(H);var Vt=e.expandObjectPaths(it);if(Vt){var re=H._fullLayout._plots;for(var le in re){var It=re[le],Rt=It.xaxis,$t=It.yaxis,oe=Rt.range.slice(),se=$t.range.slice(),ve=null,de=null,jt=null,Ct=null;Array.isArray(Vt[Rt._name+".range"])?ve=Vt[Rt._name+".range"].slice():Array.isArray((Vt[Rt._name]||{}).range)&&(ve=Vt[Rt._name].range.slice()),Array.isArray(Vt[$t._name+".range"])?de=Vt[$t._name+".range"].slice():Array.isArray((Vt[$t._name]||{}).range)&&(de=Vt[$t._name].range.slice()),oe&&ve&&(Rt.r2l(oe[0])!==Rt.r2l(ve[0])||Rt.r2l(oe[1])!==Rt.r2l(ve[1]))&&(jt={xr0:oe,xr1:ve}),se&&de&&($t.r2l(se[0])!==$t.r2l(de[0])||$t.r2l(se[1])!==$t.r2l(de[1]))&&(Ct={yr0:se,yr1:de}),(jt||Ct)&&dt.push(e.extendFlat({plotinfo:It},jt,Ct))}}return Promise.resolve()},_.runFn=function(xt){var yt,Tt,St=H._fullLayout._basePlotModules,Et=dt.length;if(it)for(Tt=0;Tt<St.length;Tt++)St[Tt].transitionAxes&&St[Tt].transitionAxes(H,dt,nt,xt);for(var gt in Et?((yt=e.extendFlat({},nt)).duration=0,delete st.cartesian):yt=nt,st){var Mt=st[gt];H._fullData[Mt[0]]._module.basePlotModule.plot(H,Mt,yt,xt)}},at(H,nt,_)},v.transitionFromReact=function(H,Z,it,Q){var Y=H._fullLayout,nt=Y.transition,_={},st=[];return _.prepareFn=function(){var dt=Y._plots;for(var xt in _.redraw=!1,"some"===Z.anim&&(_.redraw=!0),"some"===it.anim&&(_.redraw=!0),dt){var yt=dt[xt],St=yt.xaxis,Et=yt.yaxis,Tt=Q[St._name].range.slice(),gt=Q[Et._name].range.slice(),Mt=St.range.slice(),Nt=Et.range.slice();St.setScale(),Et.setScale();var Gt=null,Pt=null;(St.r2l(Tt[0])!==St.r2l(Mt[0])||St.r2l(Tt[1])!==St.r2l(Mt[1]))&&(Gt={xr0:Tt,xr1:Mt}),(Et.r2l(gt[0])!==Et.r2l(Nt[0])||Et.r2l(gt[1])!==Et.r2l(Nt[1]))&&(Pt={yr0:gt,yr1:Nt}),(Gt||Pt)&&st.push(e.extendFlat({plotinfo:yt},Gt,Pt))}return Promise.resolve()},_.runFn=function(dt){for(var Et,Tt,gt,xt=H._fullData,St=H._fullLayout._basePlotModules,Mt=[],Nt=0;Nt<xt.length;Nt++)Mt.push(Nt);function Gt(){if(H._fullLayout)for(var Vt=0;Vt<St.length;Vt++)St[Vt].transitionAxes&&St[Vt].transitionAxes(H,st,Et,dt)}function Pt(){if(H._fullLayout)for(var Vt=0;Vt<St.length;Vt++)St[Vt].plot(H,gt,Tt,dt)}st.length&&Z.anim?"traces first"===nt.ordering?(Et=e.extendFlat({},nt,{duration:0}),gt=Mt,Tt=nt,setTimeout(Gt,nt.duration),Pt()):(Et=nt,gt=null,Tt=e.extendFlat({},nt,{duration:0}),setTimeout(Pt,Et.duration),Gt()):st.length?(Et=nt,Gt()):Z.anim&&(gt=Mt,Tt=nt,Pt())},at(H,nt,_)},v.doCalcdata=function(H,Z){var nt,_,st,dt,it=h.list(H),Q=H._fullData,Y=H._fullLayout,xt=new Array(Q.length),yt=(H.calcdata||[]).slice();for(H.calcdata=xt,Y._numBoxes=0,Y._numViolins=0,Y._violinScaleGroupStats={},H._hmpixcount=0,H._hmlumcount=0,Y._piecolormap={},Y._sunburstcolormap={},Y._treemapcolormap={},Y._iciclecolormap={},Y._funnelareacolormap={},st=0;st<Q.length;st++)if(Array.isArray(Z)&&-1===Z.indexOf(st)){xt[st]=yt[st];continue}for(st=0;st<Q.length;st++)(nt=Q[st])._arrayAttrs=m.findArrayAttributes(nt),nt._extremes={};var St=Y._subplots.polar||[];for(st=0;st<St.length;st++)it.push(Y[St[st]].radialaxis,Y[St[st]].angularaxis);for(var Et in Y._colorAxes){var Tt=Y[Et];!1!==Tt.cauto&&(delete Tt.cmin,delete Tt.cmax)}var gt=!1;function Mt(Pt){if(_=(nt=Q[Pt])._module,!0===nt.visible&&nt.transforms){if(_&&_.calc){var Vt=_.calc(H,nt);Vt[0]&&Vt[0].t&&Vt[0].t._scene&&delete Vt[0].t._scene.dirty}for(dt=0;dt<nt.transforms.length;dt++){var re=nt.transforms[dt];(_=M[re.type])&&_.calcTransform&&(nt._hasCalcTransform=!0,gt=!0,_.calcTransform(H,nt,re))}}}function Nt(Pt,Vt){if(!!(_=(nt=Q[Pt])._module).isContainer===Vt){var re=[];if(!0===nt.visible&&0!==nt._length){delete nt._indexToPoints;var le=nt.transforms||[];for(dt=le.length-1;dt>=0;dt--)if(le[dt].enabled){nt._indexToPoints=le[dt]._indexToPoints;break}_&&_.calc&&(re=_.calc(H,nt))}(!Array.isArray(re)||!re[0])&&(re=[{x:a,y:a}]),re[0].t||(re[0].t={}),re[0].trace=nt,xt[Pt]=re}}for(j(it,Q,Y),st=0;st<Q.length;st++)Nt(st,!0);for(st=0;st<Q.length;st++)Mt(st);for(gt&&j(it,Q,Y),st=0;st<Q.length;st++)Nt(st,!0);for(st=0;st<Q.length;st++)Nt(st,!1);rt(H);var Gt=function K(H,Z){var Q,Y,nt,_,st,it=[];function dt(Bt,zt,kt){var wt=zt._id.charAt(0);if("histogram2dcontour"===Bt){var ft=zt._counterAxes[0],pt=h.getFromId(Z,ft),Dt="x"===wt||"x"===ft&&"category"===pt.type,Qt="y"===wt||"y"===ft&&"category"===pt.type;return function(te,ee){return 0===te||0===ee||Dt&&te===kt[ee].length-1||Qt&&ee===kt.length-1?-1:("y"===wt?ee:te)-1}}return function(te,ee){return"y"===wt?ee:te}}var xt={min:function(Bt){return e.aggNums(Math.min,null,Bt)},max:function(Bt){return e.aggNums(Math.max,null,Bt)},sum:function(Bt){return e.aggNums(function(zt,kt){return zt+kt},null,Bt)},total:function(Bt){return e.aggNums(function(zt,kt){return zt+kt},null,Bt)},mean:function(Bt){return e.mean(Bt)},median:function(Bt){return e.median(Bt)}};function yt(Bt,zt){return Bt[1]-zt[1]}function St(Bt,zt){return zt[1]-Bt[1]}for(Q=0;Q<H.length;Q++){var Et=H[Q];if("category"===Et.type){var Tt=Et.categoryorder.match(lt);if(Tt){var gt=Tt[1],Mt=Tt[2],Nt=Et._id.charAt(0),Gt="x"===Nt,Pt=[];for(Y=0;Y<Et._categories.length;Y++)Pt.push([Et._categories[Y],[]]);for(Y=0;Y<Et._traceIndices.length;Y++){var Vt=Et._traceIndices[Y],re=Z._fullData[Vt];if(!0===re.visible){var le=re.type;l.traceIs(re,"histogram")&&(delete re._xautoBinFinished,delete re._yautoBinFinished);var It="splom"===le,Rt="scattergl"===le,$t=Z.calcdata[Vt];for(nt=0;nt<$t.length;nt++){var se,ve,oe=$t[nt];if(It){var de=re._axesDim[Et._id];if(!Gt){var jt=re._diag[de][0];jt&&(Et=Z._fullLayout[h.id2name(jt)])}var Ct=oe.trace.dimensions[de].values;for(_=0;_<Ct.length;_++)for(se=Et._categoriesMap[Ct[_]],st=0;st<oe.trace.dimensions.length;st++)st!==de&&Pt[se][1].push(oe.trace.dimensions[st].values[_])}else if(Rt){for(_=0;_<oe.t.x.length;_++)Gt?(se=oe.t.x[_],ve=oe.t.y[_]):(se=oe.t.y[_],ve=oe.t.x[_]),Pt[se][1].push(ve);oe.t&&oe.t._scene&&delete oe.t._scene.dirty}else if(oe.hasOwnProperty("z")){var Xt=dt(re.type,Et,ve=oe.z);for(_=0;_<ve.length;_++)for(st=0;st<ve[_].length;st++)(se=Xt(st,_))+1&&Pt[se][1].push(ve[_][st])}else for(void 0===(se=oe.p)&&(se=oe[Nt]),void 0===(ve=oe.s)&&(ve=oe.v),void 0===ve&&(ve=Gt?oe.y:oe.x),Array.isArray(ve)||(ve=void 0===ve?[]:[ve]),_=0;_<ve.length;_++)Pt[se][1].push(ve[_])}}}Et._categoriesValue=Pt;var Ht=[];for(Y=0;Y<Pt.length;Y++)Ht.push([Pt[Y][0],xt[gt](Pt[Y][1])]);Ht.sort("descending"===Mt?St:yt),Et._categoriesAggregatedValue=Ht,Et._initialCategories=Ht.map(function(Bt){return Bt[0]}),it=it.concat(Et.sortByInitialCategories())}}}return it}(it,H);if(Gt.length){for(Y._numBoxes=0,Y._numViolins=0,st=0;st<Gt.length;st++)Nt(Gt[st],!0);for(st=0;st<Gt.length;st++)Nt(Gt[st],!1);rt(H)}l.getComponentMethod("fx","calc")(H),l.getComponentMethod("errorbars","calc")(H)};var lt=/(total|sum|min|max|mean|median) (ascending|descending)/;function j(H,Z,it){var Q={};function Y(dt){dt.clearCalc(),"multicategory"===dt.type&&dt.setupMultiCategory(Z),Q[dt._id]=1}e.simpleMap(H,Y);for(var nt=it._axisMatchGroups||[],_=0;_<nt.length;_++)for(var st in nt[_])Q[st]||Y(it[h.id2name(st)])}function rt(H){var Y,nt,_,Z=H._fullLayout,it=Z._visibleModules,Q={};for(nt=0;nt<it.length;nt++){var st=it[nt],dt=st.crossTraceCalc;if(dt){var xt=st.basePlotModule.name;Q[xt]?e.pushUnique(Q[xt],dt):Q[xt]=[dt]}}for(_ in Q){var yt=Q[_],St=Z._subplots[_];if(Array.isArray(St))for(Y=0;Y<St.length;Y++){var Et=St[Y],Tt="cartesian"===_?Z._plots[Et]:Z[Et];for(nt=0;nt<yt.length;nt++)yt[nt](H,Tt,Et)}else for(nt=0;nt<yt.length;nt++)yt[nt](H)}}v.rehover=function(H){H._fullLayout._rehover&&H._fullLayout._rehover()},v.redrag=function(H){H._fullLayout._redrag&&H._fullLayout._redrag()},v.reselect=function(H){var Z=H._fullLayout,it=(H.layout||{}).selections,Q=Z._previousSelections;Z._previousSelections=it;var Y=Z._reselect||JSON.stringify(it)!==JSON.stringify(Q);l.getComponentMethod("selections","reselect")(H,Y)},v.generalUpdatePerTraceModule=function(H,Z,it,Q){var _,Y=Z.traceHash,nt={};for(_=0;_<it.length;_++){var st=it[_],dt=st[0].trace;dt.visible&&(nt[dt.type]=nt[dt.type]||[],nt[dt.type].push(st))}for(var xt in Y)if(!nt[xt]){var yt=Y[xt][0];yt[0].trace.visible=!1,nt[xt]=[yt]}for(var Et in nt){var Tt=nt[Et];Tt[0][0].trace._module.plot(H,Z,e.filterVisible(Tt),Q)}Z.traceHash=nt},v.plotBasePlot=function(H,Z,it,Q,Y){var nt=l.getModule(H),_=w(Z.calcdata,nt)[0];nt.plot(Z,_,Q,Y)},v.cleanBasePlot=function(H,Z,it,Q,Y){var nt=Y._has&&Y._has(H),_=it._has&&it._has(H);nt&&!_&&Y["_"+H+"layer"].selectAll("g.trace").remove()}},39360:function(tt){"use strict";tt.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(tt,W,t){"use strict";var A=t(3400),y=t(92065).tester,i=A.findIndexOfMin,P=A.isAngleInsideSector,L=A.angleDelta,l=A.angleDist;function r(o,v,M,b){var E,x,S=b[0],T=b[1],n=g(Math.sin(v)-Math.sin(o)),C=g(Math.cos(v)-Math.cos(o)),p=Math.tan(M),F=g(1/p),D=n/C,N=T-D*S;return F?n&&C?x=p*(E=N/(p-D)):C?(E=T*F,x=T):(E=S,x=S*p):n&&C?(E=0,x=N):C?(E=0,x=T):E=x=NaN,[E,x]}function h(o,v,M,b){return A.isFullCircle([v,M])?function s(o,v){var E,M=v.length,b=new Array(M+1);for(E=0;E<M;E++){var x=v[E];b[E]=[o*Math.cos(x),o*Math.sin(x)]}return b[E]=b[0].slice(),b}(o,b):function a(o,v,M,b){var S,T,E=b.length,x=[];function n(O){return[o*Math.cos(O),o*Math.sin(O)]}function C(O,U,G){return r(O,U,G,n(O))}function p(O){return A.mod(O,E)}function F(O){return P(O,[v,M])}var D=i(b,function(O){return F(O)?l(O,v):1/0}),N=C(b[D],b[p(D-1)],v);for(x.push(N),S=D,T=0;T<E;S++,T++){var k=b[p(S)];if(!F(k))break;x.push(n(k))}var z=i(b,function(O){return F(O)?l(O,M):1/0}),B=C(b[z],b[p(z+1)],M);return x.push(B),x.push([0,0]),x.push(x[0].slice()),x}(o,v,M,b)}function g(o){return Math.abs(o)>1e-10?o:0}function c(o,v,M){v=v||0,M=M||0;for(var b=o.length,E=new Array(b),x=0;x<b;x++){var S=o[x];E[x]=[v+S[0],M-S[1]]}return E}tt.exports={isPtInsidePolygon:function m(o,v,M,b,E){if(!P(v,b))return!1;var x,S;M[0]<M[1]?(x=M[0],S=M[1]):(x=M[1],S=M[0]);var T=y(h(x,b[0],b[1],E)),n=y(h(S,b[0],b[1],E)),C=[o*Math.cos(v),o*Math.sin(v)];return n.contains(C)&&!T.contains(C)},findPolygonOffset:function f(o,v,M,b){for(var E=1/0,x=1/0,S=h(o,v,M,b),T=0;T<S.length;T++){var n=S[T];E=Math.min(E,n[0]),x=Math.min(x,-n[1])}return[E,x]},findEnclosingVertexAngles:function u(o,v){var b=i(v,function(x){var S=L(x,o);return S>0?S:1/0}),E=A.mod(b+1,v.length);return[v[b],v[E]]},findIntersectionXY:r,findXYatLength:function e(o,v,M,b){var E=-v*M,x=v*v+1,S=2*(v*E-M),n=Math.sqrt(S*S-4*x*(E*E+M*M-o*o)),C=(-S+n)/(2*x),p=(-S-n)/(2*x);return[[C,v*C+E+b],[p,v*p+E+b]]},clampTiny:g,pathPolygon:function w(o,v,M,b,E,x){return"M"+c(h(o,v,M,b),E,x).join("L")},pathPolygonAnnulus:function d(o,v,M,b,E,x,S){var T,n;o<v?(T=o,n=v):(T=v,n=o);var C=c(h(T,M,b,E),x,S);return"M"+c(h(n,M,b,E),x,S).reverse().join("L")+"M"+C.join("L")}}},40872:function(tt,W,t){"use strict";var A=t(84888).KY,y=t(3400).counterRegex,i=t(62400),P=t(39360),L=P.attr,l=P.name,m=y(l),r={};r[L]={valType:"subplotid",dflt:l,editType:"calc"},tt.exports={attr:L,name:l,idRoot:l,idRegex:m,attrRegex:m,attributes:r,layoutAttributes:t(95300),supplyLayoutDefaults:t(84380),plot:function e(a){for(var h=a._fullLayout,f=a.calcdata,u=h._subplots[l],g=0;g<u.length;g++){var c=u[g],w=A(f,l,c),d=h[c]._subplot;d||(d=i(a,c),h[c]._subplot=d),d.plot(w,h,a._promises)}},clean:function s(a,h,f,u){for(var g=u._subplots[l]||[],c=u._has&&u._has("gl"),w=h._has&&h._has("gl"),d=c&&!w,o=0;o<g.length;o++){var v=g[o],M=u[v]._subplot;if(!h[v]&&M)for(var b in M.framework.remove(),M.layers["radial-axis-title"].remove(),M.clipPaths)M.clipPaths[b].remove();d&&M._scene&&(M._scene.destroy(),M._scene=null)}},toSVG:t(57952).toSVG}},95300:function(tt,W,t){"use strict";var A=t(22548),y=t(94724),i=t(86968).u,P=t(3400).extendFlat,L=t(67824).overrideAll,l=L({color:y.color,showline:P({},y.showline,{dflt:!0}),linecolor:y.linecolor,linewidth:y.linewidth,showgrid:P({},y.showgrid,{dflt:!0}),gridcolor:y.gridcolor,gridwidth:y.gridwidth,griddash:y.griddash},"plot","from-root"),m=L({tickmode:y.minor.tickmode,nticks:y.nticks,tick0:y.tick0,dtick:y.dtick,tickvals:y.tickvals,ticktext:y.ticktext,ticks:y.ticks,ticklen:y.ticklen,tickwidth:y.tickwidth,tickcolor:y.tickcolor,ticklabelstep:y.ticklabelstep,showticklabels:y.showticklabels,labelalias:y.labelalias,showtickprefix:y.showtickprefix,tickprefix:y.tickprefix,showticksuffix:y.showticksuffix,ticksuffix:y.ticksuffix,showexponent:y.showexponent,exponentformat:y.exponentformat,minexponent:y.minexponent,separatethousands:y.separatethousands,tickfont:y.tickfont,tickangle:y.tickangle,tickformat:y.tickformat,tickformatstops:y.tickformatstops,layer:y.layer},"plot","from-root"),r={visible:P({},y.visible,{dflt:!0}),type:P({},y.type,{values:["-","linear","log","date","category"]}),autotypenumbers:y.autotypenumbers,autorangeoptions:{minallowed:y.autorangeoptions.minallowed,maxallowed:y.autorangeoptions.maxallowed,clipmin:y.autorangeoptions.clipmin,clipmax:y.autorangeoptions.clipmax,include:y.autorangeoptions.include,editType:"plot"},autorange:P({},y.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:P({},y.minallowed,{editType:"plot"}),maxallowed:P({},y.maxallowed,{editType:"plot"}),range:P({},y.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:y.categoryorder,categoryarray:y.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:y.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:P({},y.title.text,{editType:"plot",dflt:""}),font:P({},y.title.font,{editType:"plot"}),editType:"plot"},hoverformat:y.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:y._deprecated.title,titlefont:y._deprecated.titlefont}};P(r,l,m);var e={visible:P({},y.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:y.autotypenumbers,categoryorder:y.categoryorder,categoryarray:y.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:y.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};P(e,l,m),tt.exports={domain:i({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:A.background},radialaxis:r,angularaxis:e,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(tt,W,t){"use strict";var A=t(3400),y=t(76308),i=t(31780),P=t(168),L=t(84888).op,l=t(26332),m=t(25404),r=t(95936),e=t(42568),s=t(22416),a=t(42136),h=t(76808),f=t(52976),u=t(95300),g=t(57696),c=t(39360),w=c.axisNames;function d(v,M,b,E){var x=b("bgcolor");E.bgColor=y.combine(x,E.paper_bgcolor);var S=b("sector");b("hole");var C,T=L(E.fullData,c.name,E.id),n=E.layoutOut;function p(Z,it){return b(C+"."+Z,it)}for(var F=0;F<w.length;F++){A.isPlainObject(v[C=w[F]])||(v[C]={});var D=v[C],N=i.newContainer(M,C);N._id=N._name=C,N._attr=E.id+"."+C,N._traceIndices=T.map(function(Z){return Z._expandedIndex});var k=c.axisName2dataArray[C],z=o(D,N,p,T,k,E);s(D,N,p,{axData:T,dataAttr:k});var B=p("visible");switch(g(N,M,n),p("uirevision",M.uirevision),N._m=1,C){case"radialaxis":p("minallowed"),p("maxallowed");var J,O=p("range"),U=N.getAutorangeDflt(O),G=p("autorange",U);O&&(null===O[0]&&null===O[1]||(null===O[0]||null===O[1])&&("reversed"===G||!0===G)||null!==O[0]&&("min"===G||"max reversed"===G)||null!==O[1]&&("max"===G||"min reversed"===G))&&(O=void 0,delete N.range,N.autorange=!0,J=!0),J||(G=p("autorange",U=N.getAutorangeDflt(O))),D.autorange=G,G&&(h(p,G,O),("linear"===z||"-"===z)&&p("rangemode"),N.isReversed()&&(N._m=-1)),N.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if("date"===z){A.log("Polar plots do not support date angular axes yet.");for(var et=0;et<T.length;et++)T[et].visible=!1;z=D.type=N.type="linear"}p("linear"===z?"thetaunit":"period");var at=p("direction");p("rotation",{counterclockwise:0,clockwise:90}[at])}if(e(D,N,p,N.type,{tickSuffixDflt:"degrees"===N.thetaunit?"\xb0":void 0}),B){var lt,K,j,rt,H=E.font||{};K=(lt=p("color"))===D.color?lt:H.color,j=H.size,rt=H.family,l(D,N,p,N.type),r(D,N,p,N.type,{font:{color:K,size:j,family:rt},noAutotickangles:"angularaxis"===C}),m(D,N,p,{outerTicks:!0}),a(D,N,p,{dfltColor:lt,bgColor:E.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[C]}),p("layer"),"radialaxis"===C&&(p("side"),p("angle",S[0]),p("title.text"),A.coerceFont(p,"title.font",{color:K,size:A.bigFont(j),family:rt}))}"category"!==z&&p("hoverformat"),N._input=D}"category"===M.angularaxis.type&&b("gridshape")}function o(v,M,b,E,x,S){var T=b("autotypenumbers",S.autotypenumbersDflt);if("-"===b("type")){for(var C,p=0;p<E.length;p++)if(E[p].visible){C=E[p];break}C&&C[x]&&(M.type=f(C[x],"gregorian",{noMultiCategory:!0,autotypenumbers:T})),"-"===M.type?M.type="linear":v.type=M.type}return M.type}tt.exports=function(M,b,E){P(M,b,E,{type:c.name,attributes:u,handleDefaults:d,font:b.font,autotypenumbersDflt:b.autotypenumbers,paper_bgcolor:b.paper_bgcolor,fullData:E,layoutOut:b})}},62400:function(tt,W,t){"use strict";var A=t(33428),y=t(49760),i=t(24040),P=t(3400),L=P.strRotate,l=P.strTranslate,m=t(76308),r=t(43616),e=t(7316),s=t(54460),a=t(78344),h=t(57696),f=t(19280).doAutoRange,u=t(51184),g=t(86476),c=t(93024),w=t(81668),d=t(22676).prepSelect,o=t(22676).selectOnClick,v=t(22676).clearOutline,M=t(93972),b=t(73696),E=t(39172).redrawReglTraces,x=t(84284).MID_SHIFT,S=t(39360),T=t(57384),n=t(36416),C=n.smith,p=n.reactanceArc,F=n.resistanceArc,D=n.smithTransform,N=P._,k=P.mod,z=P.deg2rad,B=P.rad2deg;function O(lt,K,j){this.isSmith=j||!1,this.id=K,this.gd=lt,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var rt=lt._fullLayout;this.clipIds.forTraces="clip"+rt._uid+K+"-for-traces",this.clipPaths.forTraces=rt._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=rt["_"+(j?"smith":"polar")+"layer"].append("g").attr("class",K),this.getHole=function(Z){return this.isSmith?0:Z.hole},this.getSector=function(Z){return this.isSmith?[0,360]:Z.sector},this.getRadial=function(Z){return this.isSmith?Z.realaxis:Z.radialaxis},this.getAngular=function(Z){return this.isSmith?Z.imaginaryaxis:Z.angularaxis},j||(this.radialTickLayout=null,this.angularTickLayout=null)}var U=O.prototype;function G(lt){var K=lt.ticks+String(lt.ticklen)+String(lt.showticklabels);return"side"in lt&&(K+=lt.side),K}function et(lt,K){return K[P.findIndexOfMin(K,function(H){return P.angleDist(lt,H)})]}function at(lt,K,j){return K?(lt.attr("display",null),lt.attr(j)):lt&&lt.attr("display","none"),lt}tt.exports=function(K,j,rt){return new O(K,j,rt)},U.plot=function(lt,K){for(var j=this,rt=K[j.id],H=!1,Z=0;Z<lt.length;Z++)if(!1===lt[Z][0].trace.cliponaxis){H=!0;break}j._hasClipOnAxisFalse=H,j.updateLayers(K,rt),j.updateLayout(K,rt),e.generalUpdatePerTraceModule(j.gd,j,lt,rt),j.updateFx(K,rt),j.isSmith&&(delete rt.realaxis.range,delete rt.imaginaryaxis.range)},U.updateLayers=function(lt,K){var j=this,rt=j.isSmith,H=j.layers,Z=j.getRadial(K),it=j.getAngular(K),Q=S.layerNames,Y=Q.indexOf("frontplot"),nt=Q.slice(0,Y),_="below traces"===it.layer,st="below traces"===Z.layer;_&&nt.push("angular-line"),st&&nt.push("radial-line"),_&&nt.push("angular-axis"),st&&nt.push("radial-axis"),nt.push("frontplot"),_||nt.push("angular-line"),st||nt.push("radial-line"),_||nt.push("angular-axis"),st||nt.push("radial-axis");var dt=(rt?"smith":"polar")+"sublayer",xt=j.framework.selectAll("."+dt).data(nt,String);xt.enter().append("g").attr("class",function(yt){return dt+" "+yt}).each(function(yt){var St=H[yt]=A.select(this);switch(yt){case"frontplot":rt||St.append("g").classed("barlayer",!0),St.append("g").classed("scatterlayer",!0);break;case"backplot":St.append("g").classed("maplayer",!0);break;case"plotbg":H.bg=St.append("path");break;case"radial-grid":case"angular-grid":St.style("fill","none");break;case"radial-line":St.append("line").style("fill","none");break;case"angular-line":St.append("path").style("fill","none")}}),xt.order()},U.updateLayout=function(lt,K){var j=this,rt=j.layers,H=lt._size,Z=j.getRadial(K),it=j.getAngular(K),Q=K.domain.x,Y=K.domain.y;j.xOffset=H.l+H.w*Q[0],j.yOffset=H.t+H.h*(1-Y[1]);var nt=j.xLength=H.w*(Q[1]-Q[0]),_=j.yLength=H.h*(Y[1]-Y[0]),st=j.getSector(K);j.sectorInRad=st.map(z);var Tt,gt,Mt,Nt,Gt,dt=j.sectorBBox=function J(lt){var xt,K=lt[0],rt=lt[1]-K,H=k(K,360),Z=H+rt,it=Math.cos(z(H)),Q=Math.sin(z(H)),Y=Math.cos(z(Z)),nt=Math.sin(z(Z));return xt=H<=90&&Z>=90||H>90&&Z>=450?1:Q<=0&&nt<=0?0:Math.max(Q,nt),[H<=180&&Z>=180||H>180&&Z>=540?-1:it>=0&&Y>=0?0:Math.min(it,Y),H<=270&&Z>=270||H>270&&Z>=630?-1:Q>=0&&nt>=0?0:Math.min(Q,nt),Z>=360?1:it<=0&&Y<=0?0:Math.max(it,Y),xt]}(st),xt=dt[2]-dt[0],St=_/nt,Et=Math.abs((dt[3]-dt[1])/xt);St>Et?(Tt=nt,Mt=[Q[0],Q[1]],Nt=[Y[0]+(Gt=(_-(gt=nt*Et))/H.h/2),Y[1]-Gt]):(gt=_,Mt=[Q[0]+(Gt=(nt-(Tt=_/Et))/H.w/2),Q[1]-Gt],Nt=[Y[0],Y[1]]),j.xLength2=Tt,j.yLength2=gt,j.xDomain2=Mt,j.yDomain2=Nt;var ve,Pt=j.xOffset2=H.l+H.w*Mt[0],Vt=j.yOffset2=H.t+H.h*(1-Nt[1]),re=j.radius=Tt/xt,le=j.innerRadius=j.getHole(K)*re,It=j.cx=Pt-re*dt[0],Rt=j.cy=Vt+re*dt[3],$t=j.cxx=It-Pt,oe=j.cyy=Rt-Vt,se=Z.side;"counterclockwise"===se?(ve=se,se="top"):"clockwise"===se&&(ve=se,se="bottom"),j.radialAxis=j.mockAxis(lt,K,Z,{_id:"x",side:se,_trueSide:ve,domain:[le/H.w,re/H.w]}),j.angularAxis=j.mockAxis(lt,K,it,{side:"right",domain:[0,Math.PI],autorange:!1}),j.doAutoRange(lt,K),j.updateAngularAxis(lt,K),j.updateRadialAxis(lt,K),j.updateRadialAxisTitle(lt,K),j.xaxis=j.mockCartesianAxis(lt,K,{_id:"x",domain:Mt}),j.yaxis=j.mockCartesianAxis(lt,K,{_id:"y",domain:Nt});var de=j.pathSubplot();j.clipPaths.forTraces.select("path").attr("d",de).attr("transform",l($t,oe)),rt.frontplot.attr("transform",l(Pt,Vt)).call(r.setClipUrl,j._hasClipOnAxisFalse?null:j.clipIds.forTraces,j.gd),rt.bg.attr("d",de).attr("transform",l(It,Rt)).call(m.fill,K.bgcolor)},U.mockAxis=function(lt,K,j,rt){var H=P.extendFlat({},j,rt);return h(H,K,lt),H},U.mockCartesianAxis=function(lt,K,j){var rt=this,H=rt.isSmith,Z=j._id,it=P.extendFlat({type:"linear"},j);a(it,lt);var Q={x:[0,2],y:[1,3]};return it.setRange=function(){var Y=rt.sectorBBox,nt=Q[Z],_=rt.radialAxis._rl,st=(_[1]-_[0])/(1-rt.getHole(K));it.range=[Y[nt[0]]*st,Y[nt[1]]*st]},it.isPtWithinRange="x"!==Z||H?function(){return!0}:function(Y){return rt.isPtInside(Y)},it.setRange(),it.setScale(),it},U.doAutoRange=function(lt,K){var j=this,rt=j.gd,H=j.radialAxis,Z=j.getRadial(K);f(rt,H);var it=H.range;if(Z.range=it.slice(),Z._input.range=it.slice(),H._rl=[H.r2l(it[0],null,"gregorian"),H.r2l(it[1],null,"gregorian")],void 0!==H.minallowed){var Q=H.r2l(H.minallowed);H._rl[0]>H._rl[1]?H._rl[1]=Math.max(H._rl[1],Q):H._rl[0]=Math.max(H._rl[0],Q)}if(void 0!==H.maxallowed){var Y=H.r2l(H.maxallowed);H._rl[0]<H._rl[1]?H._rl[1]=Math.min(H._rl[1],Y):H._rl[0]=Math.min(H._rl[0],Y)}},U.updateRadialAxis=function(lt,K){var j=this,rt=j.gd,H=j.layers,Z=j.radius,it=j.innerRadius,Q=j.cx,Y=j.cy,nt=j.getRadial(K),_=k(j.getSector(K)[0],360),st=j.radialAxis,dt=it<Z,xt=j.isSmith;xt||(j.fillViewInitialKey("radialaxis.angle",nt.angle),j.fillViewInitialKey("radialaxis.range",st.range.slice()),st.setGeometry()),"auto"===st.tickangle&&_>90&&_<=270&&(st.tickangle=180);var yt=xt?function(re){var le=D(j,C([re.x,0]));return l(le[0]-Q,le[1]-Y)}:function(re){return l(st.l2p(re.x)+it,0)},St=xt?function(re){return F(j,re.x,-1/0,1/0)}:function(re){return j.pathArc(st.r2p(re.x)+it)},Et=G(nt);if(j.radialTickLayout!==Et&&(H["radial-axis"].selectAll(".xtick").remove(),j.radialTickLayout=Et),dt){st.setScale();var Tt=0,gt=xt?(st.tickvals||[]).filter(function(re){return re>=0}).map(function(re){return s.tickText(st,re,!0,!1)}):s.calcTicks(st),Mt=xt?gt:s.clipEnds(st,gt),Nt=s.getTickSigns(st)[2];xt&&(("top"===st.ticks&&"bottom"===st.side||"bottom"===st.ticks&&"top"===st.side)&&(Nt=-Nt),"top"===st.ticks&&"top"===st.side&&(Tt=-st.ticklen),"bottom"===st.ticks&&"bottom"===st.side&&(Tt=st.ticklen)),s.drawTicks(rt,st,{vals:gt,layer:H["radial-axis"],path:s.makeTickPath(st,0,Nt),transFn:yt,crisp:!1}),s.drawGrid(rt,st,{vals:Mt,layer:H["radial-grid"],path:St,transFn:P.noop,crisp:!1}),s.drawLabels(rt,st,{vals:gt,layer:H["radial-axis"],transFn:yt,labelFns:s.makeLabelFns(st,Tt)})}var Gt=j.radialAxisAngle=j.vangles?B(et(z(nt.angle),j.vangles)):nt.angle,Pt=l(Q,Y),Vt=Pt+L(-Gt);at(H["radial-axis"],dt&&(nt.showticklabels||nt.ticks),{transform:Vt}),at(H["radial-grid"],dt&&nt.showgrid,{transform:xt?"":Pt}),at(H["radial-line"].select("line"),dt&&nt.showline,{x1:xt?-Z:it,y1:0,x2:Z,y2:0,transform:Vt}).attr("stroke-width",nt.linewidth).call(m.stroke,nt.linecolor)},U.updateRadialAxisTitle=function(lt,K,j){if(!this.isSmith){var rt=this,H=rt.gd,Z=rt.radius,it=rt.cx,Q=rt.cy,Y=rt.getRadial(K),nt=rt.id+"title",_=0;if(Y.title){var st=r.bBox(rt.layers["radial-axis"].node()).height,dt=Y.title.font.size,xt=Y.side;_="top"===xt?dt:"counterclockwise"===xt?-(st+.4*dt):st+.8*dt}var yt=void 0!==j?j:rt.radialAxisAngle,St=z(yt),Et=Math.cos(St),Tt=Math.sin(St),gt=it+Z/2*Et+_*Tt,Mt=Q-Z/2*Tt+_*Et;rt.layers["radial-axis-title"]=w.draw(H,nt,{propContainer:Y,propName:rt.id+".radialaxis.title",placeholder:N(H,"Click to enter radial axis title"),attributes:{x:gt,y:Mt,"text-anchor":"middle"},transform:{rotate:-yt}})}},U.updateAngularAxis=function(lt,K){var j=this,rt=j.gd,H=j.layers,Z=j.radius,it=j.innerRadius,Q=j.cx,Y=j.cy,nt=j.getAngular(K),_=j.angularAxis,st=j.isSmith;st||(j.fillViewInitialKey("angularaxis.rotation",nt.rotation),_.setGeometry(),_.setScale());var dt=st?function(le){var It=D(j,C([0,le.x]));return Math.atan2(It[0]-Q,It[1]-Y)-Math.PI/2}:function(le){return _.t2g(le.x)};"linear"===_.type&&"radians"===_.thetaunit&&(_.tick0=B(_.tick0),_.dtick=B(_.dtick));var xt=function(le){return l(Q+Z*Math.cos(le),Y-Z*Math.sin(le))},yt=st?function(le){var It=D(j,C([0,le.x]));return l(It[0],It[1])}:function(le){return xt(dt(le))},St=st?function(le){var It=D(j,C([0,le.x])),Rt=Math.atan2(It[0]-Q,It[1]-Y)-Math.PI/2;return l(It[0],It[1])+L(-B(Rt))}:function(le){var It=dt(le);return xt(It)+L(-B(It))},Et=st?function(le){return p(j,le.x,0,1/0)}:function(le){var It=dt(le),Rt=Math.cos(It),$t=Math.sin(It);return"M"+[Q+it*Rt,Y-it*$t]+"L"+[Q+Z*Rt,Y-Z*$t]},gt=s.makeLabelFns(_,0).labelStandoff,Mt={xFn:function(le){var It=dt(le);return Math.cos(It)*gt},yFn:function(le){var It=dt(le),Rt=Math.sin(It)>0?.2:1;return-Math.sin(It)*(gt+le.fontSize*Rt)+Math.abs(Math.cos(It))*(le.fontSize*x)},anchorFn:function(le){var It=dt(le),Rt=Math.cos(It);return Math.abs(Rt)<.1?"middle":Rt>0?"start":"end"},heightFn:function(le,It,Rt){var $t=dt(le);return-.5*(1+Math.sin($t))*Rt}},Nt=G(nt);j.angularTickLayout!==Nt&&(H["angular-axis"].selectAll("."+_._id+"tick").remove(),j.angularTickLayout=Nt);var Pt,Gt=st?[1/0].concat(_.tickvals||[]).map(function(le){return s.tickText(_,le,!0,!1)}):s.calcTicks(_);if(st&&(Gt[0].text="\u221e",Gt[0].fontSize*=1.75),"linear"===K.gridshape?(Pt=Gt.map(dt),P.angleDelta(Pt[0],Pt[1])<0&&(Pt=Pt.slice().reverse())):Pt=null,j.vangles=Pt,"category"===_.type&&(Gt=Gt.filter(function(le){return P.isAngleInsideSector(dt(le),j.sectorInRad)})),_.visible){var Vt="inside"===_.ticks?-1:1;s.drawTicks(rt,_,{vals:Gt,layer:H["angular-axis"],path:"M"+Vt*((_.linewidth||1)/2)+",0h"+Vt*_.ticklen,transFn:St,crisp:!1}),s.drawGrid(rt,_,{vals:Gt,layer:H["angular-grid"],path:Et,transFn:P.noop,crisp:!1}),s.drawLabels(rt,_,{vals:Gt,layer:H["angular-axis"],repositionOnUpdate:!0,transFn:yt,labelFns:Mt})}at(H["angular-line"].select("path"),nt.showline,{d:j.pathSubplot(),transform:l(Q,Y)}).attr("stroke-width",nt.linewidth).call(m.stroke,nt.linecolor)},U.updateFx=function(lt,K){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(lt),this.updateRadialDrag(lt,K,0),this.updateRadialDrag(lt,K,1)),this.updateHoverAndMainDrag(lt))},U.updateHoverAndMainDrag=function(lt){var Pt,Vt,K=this,j=K.isSmith,rt=K.gd,Z=lt._zoomlayer,it=S.MINZOOM,Q=S.OFFEDGE,Y=K.radius,nt=K.innerRadius,_=K.cx,st=K.cy,dt=K.cxx,xt=K.cyy,yt=K.sectorInRad,St=K.vangles,Et=K.radialAxis,Tt=T.clampTiny,gt=T.findXYatLength,Mt=T.findEnclosingVertexAngles,Nt=S.cornerHalfWidth,Gt=S.cornerLen/2,re=u.makeDragger(K.layers,"path","maindrag",!1===lt.dragmode?"none":"crosshair");A.select(re).attr("d",K.pathSubplot()).attr("transform",l(_,st)),re.onmousemove=function(ye){c.hover(rt,ye,K.id),rt._fullLayout._lasthover=re,rt._fullLayout._hoversubplot=K.id},re.onmouseout=function(ye){rt._dragging||g.unhover(rt,ye)};var It,Rt,$t,oe,se,ve,de,jt,Ct,le={element:re,gd:rt,subplot:K.id,plotinfo:{id:K.id,xaxis:K.xaxis,yaxis:K.yaxis},xaxes:[K.xaxis],yaxes:[K.yaxis]};function Wt(ye,Te){return Math.sqrt(ye*ye+Te*Te)}function Xt(ye,Te){return Wt(ye-dt,Te-xt)}function Ht(ye,Te){return Math.atan2(xt-Te,ye-dt)}function Bt(ye,Te){return[ye*Math.cos(Te),ye*Math.sin(-Te)]}function zt(ye,Te){if(0===ye)return K.pathSector(2*Nt);var Ge=Gt/ye,hr=Te-Ge,ce=Te+Ge,Ue=Math.max(0,Math.min(ye,Y)),Ye=Ue-Nt,gr=Ue+Nt;return"M"+Bt(Ye,hr)+"A"+[Ye,Ye]+" 0,0,0 "+Bt(Ye,ce)+"L"+Bt(gr,ce)+"A"+[gr,gr]+" 0,0,1 "+Bt(gr,hr)+"Z"}function kt(ye,Te,Ge){if(0===ye)return K.pathSector(2*Nt);var gr,tr,hr=Bt(ye,Te),ce=Bt(ye,Ge),Ue=Tt((hr[0]+ce[0])/2),Ye=Tt((hr[1]+ce[1])/2);if(Ue&&Ye){var he=Ye/Ue,ne=-1/he,pe=gt(Nt,he,Ue,Ye);gr=gt(Gt,ne,pe[0][0],pe[0][1]),tr=gt(Gt,ne,pe[1][0],pe[1][1])}else{var be,Se;Ye?(be=Gt,Se=Nt):(be=Nt,Se=Gt),gr=[[Ue-be,Ye-Se],[Ue+be,Ye-Se]],tr=[[Ue-be,Ye+Se],[Ue+be,Ye+Se]]}return"M"+gr.join("L")+"L"+tr.reverse().join("L")+"Z"}function ft(ye,Te){return Te=Math.max(Math.min(Te,Y),nt),ye<Q?ye=0:Y-ye<Q?ye=Y:Te<Q?Te=0:Y-Te<Q&&(Te=Y),Math.abs(Te-ye)>it?(ye<Te?($t=ye,oe=Te):($t=Te,oe=ye),!0):($t=null,oe=null,!1)}function pt(ye,Te){Te=Te||"M0,0Z",jt.attr("d",ye=ye||se),Ct.attr("d",Te),u.transitionZoombox(jt,Ct,ve,de),ve=!0;var Ge={};Ne(Ge),rt.emit("plotly_relayouting",Ge)}function Dt(ye,Te){var gr,tr,Ge=It+(ye*=Pt),hr=Rt+(Te*=Vt),ce=Xt(It,Rt),Ue=Math.min(Xt(Ge,hr),Y),Ye=Ht(It,Rt);ft(ce,Ue)&&(gr=se+K.pathSector(oe),$t&&(gr+=K.pathSector($t)),tr=zt($t,Ye)+zt(oe,Ye)),pt(gr,tr)}function Qt(ye,Te,Ge,hr){var ce=T.findIntersectionXY(Ge,hr,Ge,[ye-dt,xt-Te]);return Wt(ce[0],ce[1])}function te(ye,Te){var ne,pe,Ge=It+ye,hr=Rt+Te,ce=Ht(It,Rt),Ue=Ht(Ge,hr),Ye=Mt(ce,St),gr=Mt(Ue,St);ft(Qt(It,Rt,Ye[0],Ye[1]),Math.min(Qt(Ge,hr,gr[0],gr[1]),Y))&&(ne=se+K.pathSector(oe),$t&&(ne+=K.pathSector($t)),pe=[kt($t,Ye[0],Ye[1]),kt(oe,Ye[0],Ye[1])].join(" ")),pt(ne,pe)}function ee(){if(u.removeZoombox(rt),null!==$t&&null!==oe){var ye={};Ne(ye),u.showDoubleClickNotifier(rt),i.call("_guiRelayout",rt,ye)}}function Ne(ye){var Te=Et._rl,Ge=(Te[1]-Te[0])/(1-nt/Y)/Y;ye[K.id+".radialaxis.range"]=[Te[0]+($t-nt)*Ge,Te[0]+(oe-nt)*Ge]}function We(ye,Te){var Ge=rt._fullLayout.clickmode;if(u.removeZoombox(rt),2===ye){var hr={};for(var ce in K.viewInitial)hr[K.id+"."+ce]=K.viewInitial[ce];rt.emit("plotly_doubleclick",null),i.call("_guiRelayout",rt,hr)}Ge.indexOf("select")>-1&&1===ye&&o(Te,rt,[K.xaxis],[K.yaxis],K.id,le),Ge.indexOf("event")>-1&&c.click(rt,Te,K.id)}le.prepFn=function(ye,Te,Ge){var hr=rt._fullLayout.dragmode,ce=re.getBoundingClientRect();rt._fullLayout._calcInverseTransform(rt),Pt=rt._fullLayout._invScaleX,Vt=rt._fullLayout._invScaleY;var Ye=P.apply3DTransform(rt._fullLayout._invTransform)(Te-ce.left,Ge-ce.top);if(It=Ye[0],Rt=Ye[1],St){var gr=T.findPolygonOffset(Y,yt[0],yt[1],St);It+=dt+gr[0],Rt+=xt+gr[1]}switch(hr){case"zoom":le.clickFn=We,j||(le.moveFn=St?te:Dt,le.doneFn=ee,function wt(){$t=null,oe=null,se=K.pathSubplot(),ve=!1,de=y(rt._fullLayout[K.id].bgcolor).getLuminance(),(jt=u.makeZoombox(Z,de,_,st,se)).attr("fill-rule","evenodd"),Ct=u.makeCorners(Z,_,st),v(rt)}());break;case"select":case"lasso":d(ye,Te,Ge,le,hr)}},g.init(le)},U.updateRadialDrag=function(lt,K,j){var rt=this,H=rt.gd,Z=rt.layers,it=rt.radius,Q=rt.innerRadius,Y=rt.cx,nt=rt.cy,_=rt.radialAxis,st=S.radialDragBoxSize,dt=st/2;if(_.visible){var Mt,Nt,Gt,xt=z(rt.radialAxisAngle),yt=_._rl,St=yt[0],Et=yt[1],Tt=yt[j],gt=.75*(yt[1]-yt[0])/(1-rt.getHole(K))/it;j?(Mt=Y+(it+dt)*Math.cos(xt),Nt=nt-(it+dt)*Math.sin(xt),Gt="radialdrag"):(Mt=Y+(Q-dt)*Math.cos(xt),Nt=nt-(Q-dt)*Math.sin(xt),Gt="radialdrag-inner");var re,le,It,Pt=u.makeRectDragger(Z,Gt,"crosshair",-dt,-dt,st,st),Vt={element:Pt,gd:H};!1===lt.dragmode&&(Vt.dragmode=!1),at(A.select(Pt),_.visible&&Q<it,{transform:l(Mt,Nt)}),Vt.prepFn=function(){re=null,le=null,It=null,Vt.moveFn=Rt,Vt.doneFn=oe,v(H)},Vt.clampFn=function(de,jt){return Math.sqrt(de*de+jt*jt)<S.MINDRAG&&(de=0,jt=0),[de,jt]},g.init(Vt)}function Rt(de,jt){if(re)re(de,jt);else{var Ct=[de,-jt],Wt=[Math.cos(xt),Math.sin(xt)],Xt=Math.abs(P.dot(Ct,Wt)/Math.sqrt(P.dot(Ct,Ct)));isNaN(Xt)||(re=Xt<.5?se:ve)}var Ht={};(function $t(de){null!==le?de[rt.id+".radialaxis.angle"]=le:null!==It&&(de[rt.id+".radialaxis.range["+j+"]"]=It)})(Ht),H.emit("plotly_relayouting",Ht)}function oe(){null!==le?i.call("_guiRelayout",H,rt.id+".radialaxis.angle",le):null!==It&&i.call("_guiRelayout",H,rt.id+".radialaxis.range["+j+"]",It)}function se(de,jt){if(0!==j){le=Math.atan2(nt-(Nt+jt),Mt+de-Y),rt.vangles&&(le=et(le,rt.vangles)),le=B(le);var Xt=l(Y,nt)+L(-le);Z["radial-axis"].attr("transform",Xt),Z["radial-line"].select("line").attr("transform",Xt);var Ht=rt.gd._fullLayout;rt.updateRadialAxisTitle(Ht,Ht[rt.id],le)}}function ve(de,jt){var Ct=P.dot([de,-jt],[Math.cos(xt),Math.sin(xt)]);if(It=Tt-gt*Ct,gt>0==(j?It>St:It<Et)){var Wt=H._fullLayout,Xt=Wt[rt.id];_.range[j]=It,_._rl[j]=It,rt.updateRadialAxis(Wt,Xt),rt.xaxis.setRange(),rt.xaxis.setScale(),rt.yaxis.setRange(),rt.yaxis.setScale();var Ht=!1;for(var Bt in rt.traceHash){var zt=rt.traceHash[Bt],kt=P.filterVisible(zt);zt[0][0].trace._module.plot(H,rt,kt,Xt),i.traceIs(Bt,"gl")&&kt.length&&(Ht=!0)}Ht&&(b(H),E(H))}else It=null}},U.updateAngularDrag=function(lt){var K=this,j=K.gd,rt=K.layers,H=K.radius,Z=K.angularAxis,it=K.cx,Q=K.cy,Y=K.cxx,nt=K.cyy,_=S.angularDragBoxSize,st=u.makeDragger(rt,"path","angulardrag",!1===lt.dragmode?"none":"move"),dt={element:st,gd:j};function xt(It,Rt){return Math.atan2(nt+_-Rt,It-Y-_)}!1===lt.dragmode?dt.dragmode=!1:A.select(st).attr("d",K.pathAnnulus(H,H+_)).attr("transform",l(it,Q)).call(M,"move");var Tt,gt,Mt,Nt,Gt,Pt,yt=rt.frontplot.select(".scatterlayer").selectAll(".trace"),St=yt.selectAll(".point"),Et=yt.selectAll(".textpoint");function Vt(It,Rt){var $t=K.gd._fullLayout,oe=$t[K.id],de=xt(Tt+It*lt._invScaleX,gt+Rt*lt._invScaleY),jt=B(de-Pt);if(Nt=Mt+jt,rt.frontplot.attr("transform",l(K.xOffset2,K.yOffset2)+L([-jt,Y,nt])),K.vangles){Gt=K.radialAxisAngle+jt;var Ct=l(it,Q)+L(-jt),Wt=l(it,Q)+L(-Gt);rt.bg.attr("transform",Ct),rt["radial-grid"].attr("transform",Ct),rt["radial-axis"].attr("transform",Wt),rt["radial-line"].select("line").attr("transform",Wt),K.updateRadialAxisTitle($t,oe,Gt)}else K.clipPaths.forTraces.select("path").attr("transform",l(Y,nt)+L(jt));St.each(function(){var ft=A.select(this),pt=r.getTranslate(ft);ft.attr("transform",l(pt.x,pt.y)+L([jt]))}),Et.each(function(){var ft=A.select(this),pt=ft.select("text"),Dt=r.getTranslate(ft);ft.attr("transform",L([jt,pt.attr("x"),pt.attr("y")])+l(Dt.x,Dt.y))}),Z.rotation=P.modHalf(Nt,360),K.updateAngularAxis($t,oe),K._hasClipOnAxisFalse&&!P.isFullCircle(K.sectorInRad)&&yt.call(r.hideOutsideRangePoints,K);var Xt=!1;for(var Ht in K.traceHash)if(i.traceIs(Ht,"gl")){var Bt=K.traceHash[Ht],zt=P.filterVisible(Bt);Bt[0][0].trace._module.plot(j,K,zt,oe),zt.length&&(Xt=!0)}Xt&&(b(j),E(j));var wt={};re(wt),j.emit("plotly_relayouting",wt)}function re(It){It[K.id+".angularaxis.rotation"]=Nt,K.vangles&&(It[K.id+".radialaxis.angle"]=Gt)}function le(){Et.select("text").attr("transform",null);var It={};re(It),i.call("_guiRelayout",j,It)}dt.prepFn=function(It,Rt,$t){Mt=lt[K.id].angularaxis.rotation;var se=st.getBoundingClientRect();Tt=Rt-se.left,gt=$t-se.top,j._fullLayout._calcInverseTransform(j);var ve=P.apply3DTransform(lt._invTransform)(Tt,gt);Pt=xt(Tt=ve[0],gt=ve[1]),dt.moveFn=Vt,dt.doneFn=le,v(j)},K.vangles&&!P.isFullCircle(K.sectorInRad)&&(dt.prepFn=P.noop,M(A.select(st),null)),g.init(dt)},U.isPtInside=function(lt){if(this.isSmith)return!0;var K=this.sectorInRad,j=this.vangles,rt=this.angularAxis.c2g(lt.theta),H=this.radialAxis,Z=H.c2l(lt.r);return(j?T.isPtInsidePolygon:P.isPtInsideSector)(Z,rt,H._rl,K,j)},U.pathArc=function(lt){var K=this.sectorInRad,j=this.vangles;return(j?T.pathPolygon:P.pathArc)(lt,K[0],K[1],j)},U.pathSector=function(lt){var K=this.sectorInRad,j=this.vangles;return(j?T.pathPolygon:P.pathSector)(lt,K[0],K[1],j)},U.pathAnnulus=function(lt,K){var j=this.sectorInRad,rt=this.vangles;return(rt?T.pathPolygonAnnulus:P.pathAnnulus)(lt,K,j[0],j[1],rt)},U.pathSubplot=function(){var lt=this.innerRadius,K=this.radius;return lt?this.pathAnnulus(lt,K):this.pathSector(K)},U.fillViewInitialKey=function(lt,K){lt in this.viewInitial||(this.viewInitial[lt]=K)}},57696:function(tt,W,t){"use strict";var A=t(3400),y=t(78344),i=A.deg2rad,P=A.rad2deg;function r(e,s){var a=e.type;if("linear"===a){var h=e.d2c,f=e.c2d;e.d2c=function(u,g){return function l(e,s){return"degrees"===s?i(e):e}(h(u),g)},e.c2d=function(u,g){return f(function m(e,s){return"degrees"===s?P(e):e}(u,g))}}e.makeCalcdata=function(u,g){var d,o,c=u[g],w=u._length,v=function(S){return e.d2c(S,u.thetaunit)};if(c)for(d=new Array(w),o=0;o<w;o++)d[o]=v(c[o]);else{var M=g+"0",b="d"+g,E=M in u?v(u[M]):0,x=u[b]?v(u[b]):(e.period||2*Math.PI)/w;for(d=new Array(w),o=0;o<w;o++)d[o]=E+o*x}return d},e.setGeometry=function(){var v,M,b,E,u=s.sector,g=u.map(i),c={clockwise:-1,counterclockwise:1}[e.direction],w=i(e.rotation),d=function(T){return c*T+w},o=function(T){return(T-w)/c};switch(a){case"linear":M=v=A.identity,E=i,b=P,e.range=A.isFullCircle(g)?[u[0],u[0]+360]:g.map(o).map(P);break;case"category":var x=e._categories.length,S=e.period?Math.max(e.period,x):x;0===S&&(S=1),M=E=function(T){return 2*T*Math.PI/S},v=b=function(T){return T*S/Math.PI/2},e.range=[0,S]}e.c2g=function(T){return d(M(T))},e.g2c=function(T){return v(o(T))},e.t2g=function(T){return d(E(T))},e.g2t=function(T){return b(o(T))}}}tt.exports=function(s,a,h){switch(y(s,h),s._id){case"x":case"radialaxis":!function L(e,s){var a=s._subplot;e.setGeometry=function(){var h=e._rl[0],f=e._rl[1],u=a.innerRadius,g=(a.radius-u)/(f-h),c=u/g,w=h>f?function(d){return d<=0}:function(d){return d>=0};e.c2g=function(d){var o=e.c2l(d)-h;return(w(o)?o:0)+c},e.g2c=function(d){return e.l2c(d+h-c)},e.g2p=function(d){return d*g},e.c2p=function(d){return e.g2p(e.c2g(d))}}}(s,a);break;case"angularaxis":r(s,a)}}},55012:function(tt){"use strict";tt.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(tt){"use strict";function W(L){return L<0?-1:L>0?1:0}function t(L){var l=L[0],m=L[1];if(!isFinite(l)||!isFinite(m))return[1,0];var r=(l+1)*(l+1)+m*m;return[(l*l+m*m-1)/r,2*m/r]}function A(L,l){return[l[0]*L.radius+L.cx,-l[1]*L.radius+L.cy]}function y(L,l){return l*L.radius}tt.exports={smith:t,reactanceArc:function i(L,l,m,r){var e=A(L,t([m,l])),s=e[0],a=e[1],h=A(L,t([r,l])),f=h[0],u=h[1];if(0===l)return["M"+s+","+a,"L"+f+","+u].join(" ");var g=y(L,1/Math.abs(l));return["M"+s+","+a,"A"+g+","+g+" 0 0,"+(l<0?1:0)+" "+f+","+u].join(" ")},resistanceArc:function P(L,l,m,r){var e=y(L,1/(l+1)),s=A(L,t([l,m])),a=s[0],h=s[1],f=A(L,t([l,r])),u=f[0],g=f[1];if(W(m)!==W(r)){var c=A(L,t([l,0]));return["M"+a+","+h,"A"+e+","+e+" 0 0,"+(0<m?0:1)+" "+c[0]+","+c[1],"A"+e+","+e+" 0 0,"+(r<0?0:1)+u+","+g].join(" ")}return["M"+a+","+h,"A"+e+","+e+" 0 0,"+(r<m?0:1)+" "+u+","+g].join(" ")},smithTransform:A}},47788:function(tt,W,t){"use strict";var A=t(84888).KY,y=t(3400).counterRegex,i=t(62400),P=t(55012),L=P.attr,l=P.name,m=y(l),r={};r[L]={valType:"subplotid",dflt:l,editType:"calc"},tt.exports={attr:L,name:l,idRoot:l,idRegex:m,attrRegex:m,attributes:r,layoutAttributes:t(6183),supplyLayoutDefaults:t(22836),plot:function e(a){for(var h=a._fullLayout,f=a.calcdata,u=h._subplots[l],g=0;g<u.length;g++){var c=u[g],w=A(f,l,c),d=h[c]._subplot;d||(d=i(a,c,!0),h[c]._subplot=d),d.plot(w,h,a._promises)}},clean:function s(a,h,f,u){for(var g=u._subplots[l]||[],c=0;c<g.length;c++){var w=g[c],d=u[w]._subplot;if(!h[w]&&d)for(var o in d.framework.remove(),d.clipPaths)d.clipPaths[o].remove()}},toSVG:t(57952).toSVG}},6183:function(tt,W,t){"use strict";var A=t(22548),y=t(94724),i=t(86968).u,P=t(3400).extendFlat,L=t(67824).overrideAll,l=L({color:y.color,showline:P({},y.showline,{dflt:!0}),linecolor:y.linecolor,linewidth:y.linewidth,showgrid:P({},y.showgrid,{dflt:!0}),gridcolor:y.gridcolor,gridwidth:y.gridwidth,griddash:y.griddash},"plot","from-root"),m=L({ticklen:y.ticklen,tickwidth:P({},y.tickwidth,{dflt:2}),tickcolor:y.tickcolor,showticklabels:y.showticklabels,labelalias:y.labelalias,showtickprefix:y.showtickprefix,tickprefix:y.tickprefix,showticksuffix:y.showticksuffix,ticksuffix:y.ticksuffix,tickfont:y.tickfont,tickformat:y.tickformat,hoverformat:y.hoverformat,layer:y.layer},"plot","from-root"),r=P({visible:P({},y.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:P({},y.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},l,m),e=P({visible:P({},y.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:y.ticks,editType:"calc"},l,m);tt.exports={domain:i({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:A.background},realaxis:r,imaginaryaxis:e,editType:"calc"}},22836:function(tt,W,t){"use strict";var A=t(3400),y=t(76308),i=t(31780),P=t(168),L=t(84888).op,l=t(42568),m=t(95936),r=t(42136),e=t(78344),s=t(6183),a=t(55012),h=a.axisNames,f=function g(c,w){var d={};return function(o){var v=w?w(o):o;if(v in d)return d[v];var M=c(o);return d[v]=M,M}}(function(c){return A.isTypedArray(c)&&(c=Array.from(c)),c.slice().reverse().map(function(w){return-w}).concat([0]).concat(c)},String);function u(c,w,d,o){var v=d("bgcolor");o.bgColor=y.combine(v,o.paper_bgcolor);var E,M=L(o.fullData,a.name,o.id),b=o.layoutOut;function x(U,G){return d(E+"."+U,G)}for(var S=0;S<h.length;S++){A.isPlainObject(c[E=h[S]])||(c[E]={});var T=c[E],n=i.newContainer(w,E);n._id=n._name=E,n._attr=o.id+"."+E,n._traceIndices=M.map(function(U){return U._expandedIndex});var C=x("visible");if(n.type="linear",e(n,b),l(T,n,x,n.type),C){var p="realaxis"===E;p&&x("side"),p?x("tickvals"):x("tickvals",f(w.realaxis.tickvals||s.realaxis.tickvals.dflt)),A.isTypedArray(n.tickvals)&&(n.tickvals=Array.from(n.tickvals));var D,N,k,z,B=o.font||{};C&&(N=(D=x("color"))===T.color?D:B.color,k=B.size,z=B.family),m(T,n,x,n.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!p,noExp:!0,font:{color:N,size:k,family:z}}),A.coerce2(c,w,s,E+".ticklen"),A.coerce2(c,w,s,E+".tickwidth"),A.coerce2(c,w,s,E+".tickcolor",w.color),x("ticks")||(delete w[E].ticklen,delete w[E].tickwidth,delete w[E].tickcolor),r(T,n,x,{dfltColor:D,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[E]}),x("layer")}x("hoverformat"),delete n.type,n._input=T}}tt.exports=function(w,d,o){P(w,d,o,{noUirevision:!0,type:a.name,attributes:s,handleDefaults:u,font:d.font,paper_bgcolor:d.paper_bgcolor,fullData:o,layoutOut:d})}},168:function(tt,W,t){"use strict";var A=t(3400),y=t(31780),i=t(86968).Q;tt.exports=function(L,l,m,r){var c,w,s=r.attributes,a=r.handleDefaults,h=r.partition||"x",f=l._subplots[r.type],u=f.length,g=u&&f[0].replace(/\d+$/,"");function d(b,E){return A.coerce(c,w,s,b,E)}for(var o=0;o<u;o++){var v=f[o];c=L[v]?L[v]:L[v]={},w=y.newContainer(l,v,g),r.noUirevision||d("uirevision",l.uirevision);var M={};M[h]=[o/u,(o+1)/u],i(w,l,d,M),r.id=v,a(c,w,d,r)}}},21776:function(tt,W,t){"use strict";function l(m){var r=m.description?" "+m.description:"",e=m.keys||[];if(e.length>0){for(var s=[],a=0;a<e.length;a++)s[a]="`"+e[a]+"`";r+="Finally, the template string has access to ",r=1===e.length?r+"variable "+s[0]:r+"variables "+s.slice(0,-1).join(", ")+" and "+s.slice(-1)+"."}return r}t(26880),W.Ks=function(m,r){m=m||{},l(r=r||{});var s={valType:"string",dflt:"",editType:m.editType||"none"};return!1!==m.arrayOk&&(s.arrayOk=!0),s},W.Gw=function(m,r){m=m||{},l(r=r||{});var s={valType:"string",dflt:"",editType:m.editType||"calc"};return!1!==m.arrayOk&&(s.arrayOk=!0),s},W.ye=function(m,r){return m=m||{},l(r=r||{}),{valType:"string",dflt:"",editType:m.editType||"arraydraw"}}},19352:function(tt,W,t){"use strict";var A=t(24696),y=t(84888).KY,i=t(3400).counterRegex,P="ternary";W.name=P;var L=W.attr="subplot";W.idRoot=P,W.idRegex=W.attrRegex=i(P),(W.attributes={})[L]={valType:"subplotid",dflt:"ternary",editType:"calc"},W.layoutAttributes=t(86379),W.supplyLayoutDefaults=t(38536),W.plot=function(r){for(var e=r._fullLayout,s=r.calcdata,a=e._subplots[P],h=0;h<a.length;h++){var f=a[h],u=y(s,P,f),g=e[f]._subplot;g||(g=new A({id:f,graphDiv:r,container:e._ternarylayer.node()},e),e[f]._subplot=g),g.plot(u,e,r._promises)}},W.clean=function(m,r,e,s){for(var a=s._subplots[P]||[],h=0;h<a.length;h++){var f=a[h],u=s[f]._subplot;!r[f]&&u&&(u.plotContainer.remove(),u.clipDef.remove(),u.clipDefRelative.remove(),u.layers["a-title"].remove(),u.layers["b-title"].remove(),u.layers["c-title"].remove())}}},86379:function(tt,W,t){"use strict";var A=t(22548),y=t(86968).u,i=t(94724),P=t(67824).overrideAll,L=t(92880).extendFlat,l={title:{text:i.title.text,font:i.title.font},color:i.color,tickmode:i.minor.tickmode,nticks:L({},i.nticks,{dflt:6,min:1}),tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:L({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:L({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth,griddash:i.griddash,layer:i.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},m=tt.exports=P({domain:y({name:"ternary"}),bgcolor:{valType:"color",dflt:A.background},sum:{valType:"number",dflt:1,min:0},aaxis:l,baxis:l,caxis:l},"plot","from-root");m.uirevision={valType:"any",editType:"none"},m.aaxis.uirevision=m.baxis.uirevision=m.caxis.uirevision={valType:"any",editType:"none"}},38536:function(tt,W,t){"use strict";var A=t(76308),y=t(31780),i=t(3400),P=t(168),L=t(95936),l=t(42568),m=t(25404),r=t(26332),e=t(42136),s=t(86379),a=["aaxis","baxis","caxis"];function h(u,g,c,w){var d=c("bgcolor"),o=c("sum");w.bgColor=A.combine(d,w.paper_bgcolor);for(var v,M,b,E=0;E<a.length;E++)M=u[v=a[E]]||{},(b=y.newContainer(g,v))._name=v,f(M,b,w,g);var x=g.aaxis,S=g.baxis,T=g.caxis;x.min+S.min+T.min>=o&&(x.min=0,S.min=0,T.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function f(u,g,c,w){var d=s[g._name];function o(n,C){return i.coerce(u,g,d,n,C)}o("uirevision",w.uirevision),g.type="linear";var v=o("color"),M=v!==d.color.dflt?v:c.font.color,E=g._name.charAt(0).toUpperCase(),x="Component "+E,S=o("title.text",x);g._hovertitle=S===x?S:E,i.coerceFont(o,"title.font",{family:c.font.family,size:i.bigFont(c.font.size),color:M}),o("min"),r(u,g,o,"linear"),l(u,g,o,"linear"),L(u,g,o,"linear",{noAutotickangles:!0}),m(u,g,o,{outerTicks:!0}),o("showticklabels")&&(i.coerceFont(o,"tickfont",{family:c.font.family,size:c.font.size,color:M}),o("tickangle"),o("tickformat")),e(u,g,o,{dfltColor:v,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:d}),o("hoverformat"),o("layer")}tt.exports=function(g,c,w){P(g,c,w,{type:"ternary",attributes:s,handleDefaults:h,font:c.font,paper_bgcolor:c.paper_bgcolor})}},24696:function(tt,W,t){"use strict";var A=t(33428),y=t(49760),i=t(24040),P=t(3400),L=P.strTranslate,l=P._,m=t(76308),r=t(43616),e=t(78344),s=t(92880).extendFlat,a=t(7316),h=t(54460),f=t(86476),u=t(93024),g=t(72760),c=g.freeMode,w=g.rectMode,d=t(81668),o=t(22676).prepSelect,v=t(22676).selectOnClick,M=t(22676).clearOutline,b=t(22676).clearSelectionsCache,E=t(33816);function x(B,O){this.id=B.id,this.graphDiv=B.graphDiv,this.init(O),this.makeFramework(O),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}tt.exports=x;var S=x.prototype;S.init=function(B){this.container=B._ternarylayer,this.defs=B._defs,this.layoutId=B._uid,this.traceHash={},this.layers={}},S.plot=function(B,O){var U=this,G=O[U.id],J=O._size;U._hasClipOnAxisFalse=!1;for(var et=0;et<B.length;et++)if(!1===B[et][0].trace.cliponaxis){U._hasClipOnAxisFalse=!0;break}U.updateLayers(G),U.adjustLayout(G,J),a.generalUpdatePerTraceModule(U.graphDiv,U,B,G),U.layers.plotbg.select("path").call(m.fill,G.bgcolor)},S.makeFramework=function(B){var O=this,U=O.graphDiv,G=B[O.id],J=O.clipId="clip"+O.layoutId+O.id,et=O.clipIdRelative="clip-relative"+O.layoutId+O.id;O.clipDef=P.ensureSingleById(B._clips,"clipPath",J,function(at){at.append("path").attr("d","M0,0Z")}),O.clipDefRelative=P.ensureSingleById(B._clips,"clipPath",et,function(at){at.append("path").attr("d","M0,0Z")}),O.plotContainer=P.ensureSingle(O.container,"g",O.id),O.updateLayers(G),r.setClipUrl(O.layers.backplot,J,U),r.setClipUrl(O.layers.grids,J,U)},S.updateLayers=function(B){var U=this.layers,G=["draglayer","plotbg","backplot","grids"];"below traces"===B.aaxis.layer&&G.push("aaxis","aline"),"below traces"===B.baxis.layer&&G.push("baxis","bline"),"below traces"===B.caxis.layer&&G.push("caxis","cline"),G.push("frontplot"),"above traces"===B.aaxis.layer&&G.push("aaxis","aline"),"above traces"===B.baxis.layer&&G.push("baxis","bline"),"above traces"===B.caxis.layer&&G.push("caxis","cline");var J=this.plotContainer.selectAll("g.toplevel").data(G,String),et=["agrid","bgrid","cgrid"];J.enter().append("g").attr("class",function(at){return"toplevel "+at}).each(function(at){var lt=A.select(this);U[at]=lt,"frontplot"===at?lt.append("g").classed("scatterlayer",!0):"backplot"===at?lt.append("g").classed("maplayer",!0):"plotbg"===at?lt.append("path").attr("d","M0,0Z"):"aline"===at||"bline"===at||"cline"===at?lt.append("path"):"grids"===at&&et.forEach(function(K){U[K]=lt.append("g").classed("grid "+K,!0)})}),J.order()};var T=Math.sqrt(4/3);S.adjustLayout=function(B,O){var Q,Y,nt,_,st,dt,U=this,G=B.domain,J=(G.x[0]+G.x[1])/2,et=(G.y[0]+G.y[1])/2,at=G.x[1]-G.x[0],lt=G.y[1]-G.y[0],K=at*O.w,j=lt*O.h,rt=B.sum,H=B.aaxis.min,Z=B.baxis.min,it=B.caxis.min;K>T*j?nt=(_=j)*T:_=(nt=K)/T,st=at*nt/K,dt=lt*_/j,Y=O.t+O.h*(1-et)-_/2,U.x0=Q=O.l+O.w*J-nt/2,U.y0=Y,U.w=nt,U.h=_,U.sum=rt,U.xaxis={type:"linear",range:[H+2*it-rt,rt-H-2*Z],domain:[J-st/2,J+st/2],_id:"x"},e(U.xaxis,U.graphDiv._fullLayout),U.xaxis.setScale(),U.xaxis.isPtWithinRange=function(Vt){return Vt.a>=U.aaxis.range[0]&&Vt.a<=U.aaxis.range[1]&&Vt.b>=U.baxis.range[1]&&Vt.b<=U.baxis.range[0]&&Vt.c>=U.caxis.range[1]&&Vt.c<=U.caxis.range[0]},U.yaxis={type:"linear",range:[H,rt-Z-it],domain:[et-dt/2,et+dt/2],_id:"y"},e(U.yaxis,U.graphDiv._fullLayout),U.yaxis.setScale(),U.yaxis.isPtWithinRange=function(){return!0};var xt=U.yaxis.domain[0],yt=U.aaxis=s({},B.aaxis,{range:[H,rt-Z-it],side:"left",tickangle:(+B.aaxis.tickangle||0)-30,domain:[xt,xt+dt*T],anchor:"free",position:0,_id:"y",_length:nt});e(yt,U.graphDiv._fullLayout),yt.setScale();var St=U.baxis=s({},B.baxis,{range:[rt-H-it,Z],side:"bottom",domain:U.xaxis.domain,anchor:"free",position:0,_id:"x",_length:nt});e(St,U.graphDiv._fullLayout),St.setScale();var Et=U.caxis=s({},B.caxis,{range:[rt-H-Z,it],side:"right",tickangle:(+B.caxis.tickangle||0)+30,domain:[xt,xt+dt*T],anchor:"free",position:0,_id:"y",_length:nt});e(Et,U.graphDiv._fullLayout),Et.setScale();var Tt="M"+Q+","+(Y+_)+"h"+nt+"l-"+nt/2+",-"+_+"Z";U.clipDef.select("path").attr("d",Tt),U.layers.plotbg.select("path").attr("d",Tt);var gt="M0,"+_+"h"+nt+"l-"+nt/2+",-"+_+"Z";U.clipDefRelative.select("path").attr("d",gt);var Mt=L(Q,Y);U.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Mt),U.clipDefRelative.select("path").attr("transform",null);var Nt=L(Q-St._offset,Y+_);U.layers.baxis.attr("transform",Nt),U.layers.bgrid.attr("transform",Nt);var Gt=L(Q+nt/2,Y)+"rotate(30)"+L(0,-yt._offset);U.layers.aaxis.attr("transform",Gt),U.layers.agrid.attr("transform",Gt);var Pt=L(Q+nt/2,Y)+"rotate(-30)"+L(0,-Et._offset);U.layers.caxis.attr("transform",Pt),U.layers.cgrid.attr("transform",Pt),U.drawAxes(!0),U.layers.aline.select("path").attr("d",yt.showline?"M"+Q+","+(Y+_)+"l"+nt/2+",-"+_:"M0,0").call(m.stroke,yt.linecolor||"#000").style("stroke-width",(yt.linewidth||0)+"px"),U.layers.bline.select("path").attr("d",St.showline?"M"+Q+","+(Y+_)+"h"+nt:"M0,0").call(m.stroke,St.linecolor||"#000").style("stroke-width",(St.linewidth||0)+"px"),U.layers.cline.select("path").attr("d",Et.showline?"M"+(Q+nt/2)+","+Y+"l"+nt/2+","+_:"M0,0").call(m.stroke,Et.linecolor||"#000").style("stroke-width",(Et.linewidth||0)+"px"),U.graphDiv._context.staticPlot||U.initInteractions(),r.setClipUrl(U.layers.frontplot,U._hasClipOnAxisFalse?null:U.clipId,U.graphDiv)},S.drawAxes=function(B){var O=this,U=O.graphDiv,G=O.id.substr(7)+"title",J=O.layers,et=O.aaxis,at=O.baxis,lt=O.caxis;if(O.drawAx(et),O.drawAx(at),O.drawAx(lt),B){var K=Math.max(et.showticklabels?et.tickfont.size/2:0,(lt.showticklabels?.75*lt.tickfont.size:0)+("outside"===lt.ticks?.87*lt.ticklen:0)),j=(at.showticklabels?at.tickfont.size:0)+("outside"===at.ticks?at.ticklen:0)+3;J["a-title"]=d.draw(U,"a"+G,{propContainer:et,propName:O.id+".aaxis.title",placeholder:l(U,"Click to enter Component A title"),attributes:{x:O.x0+O.w/2,y:O.y0-et.title.font.size/3-K,"text-anchor":"middle"}}),J["b-title"]=d.draw(U,"b"+G,{propContainer:at,propName:O.id+".baxis.title",placeholder:l(U,"Click to enter Component B title"),attributes:{x:O.x0-j,y:O.y0+O.h+.83*at.title.font.size+j,"text-anchor":"middle"}}),J["c-title"]=d.draw(U,"c"+G,{propContainer:lt,propName:O.id+".caxis.title",placeholder:l(U,"Click to enter Component C title"),attributes:{x:O.x0+O.w+j,y:O.y0+O.h+.83*lt.title.font.size+j,"text-anchor":"middle"}})}},S.drawAx=function(B){var O=this,U=O.graphDiv,G=B._name,J=G.charAt(0),et=B._id,at=O.layers[G],K=J+"tickLayout",j=function n(B){return B.ticks+String(B.ticklen)+String(B.showticklabels)}(B);O[K]!==j&&(at.selectAll("."+et+"tick").remove(),O[K]=j),B.setScale();var rt=h.calcTicks(B),H=h.clipEnds(B,rt),Z=h.makeTransTickFn(B),it=h.getTickSigns(B)[2],Q=P.deg2rad(30),Y=it*(B.linewidth||1)/2,nt=it*B.ticklen,_=O.w,st=O.h,dt="b"===J?"M0,"+Y+"l"+Math.sin(Q)*nt+","+Math.cos(Q)*nt:"M"+Y+",0l"+Math.cos(Q)*nt+","+-Math.sin(Q)*nt,xt={a:"M0,0l"+st+",-"+_/2,b:"M0,0l-"+_/2+",-"+st,c:"M0,0l-"+st+","+_/2}[J];h.drawTicks(U,B,{vals:"inside"===B.ticks?H:rt,layer:at,path:dt,transFn:Z,crisp:!1}),h.drawGrid(U,B,{vals:H,layer:O.layers[J+"grid"],path:xt,transFn:Z,crisp:!1}),h.drawLabels(U,B,{vals:rt,layer:at,transFn:Z,labelFns:h.makeLabelFns(B,0,30)})};var C=E.MINZOOM/2+.87,p="m-0.87,.5h"+C+"v3h-"+(C+5.2)+"l"+(C/2+2.6)+",-"+(.87*C+4.5)+"l2.6,1.5l-"+C/2+","+.87*C+"Z",F="m0.87,.5h-"+C+"v3h"+(C+5.2)+"l-"+(C/2+2.6)+",-"+(.87*C+4.5)+"l-2.6,1.5l"+C/2+","+.87*C+"Z",D="m0,1l"+C/2+","+.87*C+"l2.6,-1.5l-"+(C/2+2.6)+",-"+(.87*C+4.5)+"l-"+(C/2+2.6)+","+(.87*C+4.5)+"l2.6,1.5l"+C/2+",-"+.87*C+"Z",k=!0;function z(B){A.select(B).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}S.clearOutline=function(){b(this.dragOptions),M(this.dragOptions.gd)},S.initInteractions=function(){var J,et,at,lt,K,j,rt,H,Z,it,Q,Y,B=this,O=B.layers.plotbg.select("path").node(),U=B.graphDiv,G=U._fullLayout._zoomlayer;function nt(Nt){var Gt={};return Gt[B.id+".aaxis.min"]=Nt.a,Gt[B.id+".baxis.min"]=Nt.b,Gt[B.id+".caxis.min"]=Nt.c,Gt}function _(Nt,Gt){var Pt=U._fullLayout.clickmode;z(U),2===Nt&&(U.emit("plotly_doubleclick",null),i.call("_guiRelayout",U,nt({a:0,b:0,c:0}))),Pt.indexOf("select")>-1&&1===Nt&&v(Gt,U,[B.xaxis],[B.yaxis],B.id,B.dragOptions),Pt.indexOf("event")>-1&&u.click(U,Gt,B.id)}function dt(Nt,Gt){return 1-Gt/B.h}function xt(Nt,Gt){return 1-(Nt+(B.h-Gt)/Math.sqrt(3))/B.w}function yt(Nt,Gt){return(Nt-(B.h-Gt)/Math.sqrt(3))/B.w}function St(Nt,Gt){var Pt=at+Nt*J,Vt=lt+Gt*et,re=Math.max(0,Math.min(1,dt(0,lt),dt(0,Vt))),le=Math.max(0,Math.min(1,xt(at,lt),xt(Pt,Vt))),It=Math.max(0,Math.min(1,yt(at,lt),yt(Pt,Vt))),Rt=(re/2+It)*B.w,$t=(1-re/2-le)*B.w,oe=(Rt+$t)/2,se=$t-Rt,ve=(1-re)*B.h,de=ve-se/T;se<E.MINZOOM?(rt=K,Q.attr("d",Z),Y.attr("d","M0,0Z")):(rt={a:K.a+re*j,b:K.b+le*j,c:K.c+It*j},Q.attr("d",Z+"M"+Rt+","+ve+"H"+$t+"L"+oe+","+de+"L"+Rt+","+ve+"Z"),Y.attr("d","M"+at+","+lt+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+Rt+","+ve+p+"M"+$t+","+ve+F+"M"+oe+","+de+D)),it||(Q.transition().style("fill",H>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),Y.transition().style("opacity",1).duration(200),it=!0),U.emit("plotly_relayouting",nt(rt))}function Et(){z(U),rt!==K&&(i.call("_guiRelayout",U,nt(rt)),k&&U.data&&U._context.showTips&&(P.notifier(l(U,"Double-click to zoom back out"),"long"),k=!1))}function gt(Nt,Gt){var Pt=Nt/B.xaxis._m,Vt=Gt/B.yaxis._m,re=[(rt={a:K.a-Vt,b:K.b+(Pt+Vt)/2,c:K.c-(Pt-Vt)/2}).a,rt.b,rt.c].sort(P.sorterAsc),le_a=re.indexOf(rt.a),le_b=re.indexOf(rt.b),le_c=re.indexOf(rt.c);re[0]<0&&(re[1]+re[0]/2<0?(re[2]+=re[0]+re[1],re[0]=re[1]=0):(re[2]+=re[0]/2,re[1]+=re[0]/2,re[0]=0),Gt=(K.a-(rt={a:re[le_a],b:re[le_b],c:re[le_c]}).a)*B.yaxis._m,Nt=(K.c-rt.c-K.b+rt.b)*B.xaxis._m);var It=L(B.x0+Nt,B.y0+Gt);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",It);var Rt=L(-Nt,-Gt);B.clipDefRelative.select("path").attr("transform",Rt),B.aaxis.range=[rt.a,B.sum-rt.b-rt.c],B.baxis.range=[B.sum-rt.a-rt.c,rt.b],B.caxis.range=[B.sum-rt.a-rt.b,rt.c],B.drawAxes(!1),B._hasClipOnAxisFalse&&B.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,B),U.emit("plotly_relayouting",nt(rt))}function Mt(){i.call("_guiRelayout",U,nt(rt))}this.dragOptions={element:O,gd:U,plotinfo:{id:B.id,domain:U._fullLayout[B.id].domain,xaxis:B.xaxis,yaxis:B.yaxis},subplot:B.id,prepFn:function(Nt,Gt,Pt){B.dragOptions.xaxes=[B.xaxis],B.dragOptions.yaxes=[B.yaxis],J=U._fullLayout._invScaleX,et=U._fullLayout._invScaleY;var Vt=B.dragOptions.dragmode=U._fullLayout.dragmode;B.dragOptions.minDrag=c(Vt)?1:void 0,"zoom"===Vt?(B.dragOptions.moveFn=St,B.dragOptions.clickFn=_,B.dragOptions.doneFn=Et,function st(Nt,Gt,Pt){var Vt=O.getBoundingClientRect();at=Gt-Vt.left,lt=Pt-Vt.top,U._fullLayout._calcInverseTransform(U);var le=P.apply3DTransform(U._fullLayout._invTransform)(at,lt);at=le[0],lt=le[1],rt=K={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},j=B.aaxis.range[1]-K.a,H=y(B.graphDiv._fullLayout[B.id].bgcolor).getLuminance(),Z="M0,"+B.h+"L"+B.w/2+", 0L"+B.w+","+B.h+"Z",it=!1,Q=G.append("path").attr("class","zoombox").attr("transform",L(B.x0,B.y0)).style({fill:H>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",Z),Y=G.append("path").attr("class","zoombox-corners").attr("transform",L(B.x0,B.y0)).style({fill:m.background,stroke:m.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),B.clearOutline(U)}(0,Gt,Pt)):"pan"===Vt?(B.dragOptions.moveFn=gt,B.dragOptions.clickFn=_,B.dragOptions.doneFn=Mt,function Tt(){rt=K={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]}}(),B.clearOutline(U)):(w(Vt)||c(Vt))&&o(Nt,Gt,Pt,B.dragOptions,Vt)}},O.onmousemove=function(Nt){u.hover(U,Nt,B.id),U._fullLayout._lasthover=O,U._fullLayout._hoversubplot=B.id},O.onmouseout=function(Nt){U._dragging||f.unhover(U,Nt)},f.init(this.dragOptions)}},24040:function(tt,W,t){"use strict";var A=t(24248),y=t(16628),i=t(52416),P=t(63620),L=t(52200).addStyleRule,l=t(92880),m=t(45464),r=t(64859),e=l.extendFlat,s=l.extendDeepAll;function a(M){var b=M.name,E=M.categories,x=M.meta;if(W.modules[b])A.log("Type "+b+" already registered");else{W.subplotsRegistry[M.basePlotModule.name]||function h(M){var b=M.name;if(W.subplotsRegistry[b])A.log("Plot type "+b+" already registered.");else for(var E in c(M),W.subplotsRegistry[b]=M,W.componentsRegistry)o(E,M.name)}(M.basePlotModule);for(var S={},T=0;T<E.length;T++)S[E[T]]=!0,W.allCategories[E[T]]=!0;for(var n in W.modules[b]={_module:M,categories:S},x&&Object.keys(x).length&&(W.modules[b].meta=x),W.allTypes.push(b),W.componentsRegistry)w(n,b);M.layoutAttributes&&e(W.traceLayoutAttributes,M.layoutAttributes);var C=M.basePlotModule,p=C.name;if("mapbox"===p){var F=C.constants.styleRules;for(var D in F)L(".js-plotly-plot .plotly .mapboxgl-"+D,F[D])}("geo"===p||"mapbox"===p)&&void 0===window.PlotlyGeoAssets&&(window.PlotlyGeoAssets={topojson:{}})}}function f(M){if("string"!=typeof M.name)throw new Error("Component module *name* must be a string.");var b=M.name;for(var E in W.componentsRegistry[b]=M,M.layoutAttributes&&(M.layoutAttributes._isLinkedToArray&&i(W.layoutArrayContainers,b),c(M)),W.modules)w(b,E);for(var x in W.subplotsRegistry)o(b,x);for(var S in W.transformsRegistry)d(b,S);M.schema&&M.schema.layout&&s(r,M.schema.layout)}function u(M){if("string"!=typeof M.name)throw new Error("Transform module *name* must be a string.");var b="Transform module "+M.name,E="function"==typeof M.transform,x="function"==typeof M.calcTransform;if(!E&&!x)throw new Error(b+" is missing a *transform* or *calcTransform* method.");for(var S in E&&x&&A.log([b+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),P(M.attributes)||A.log(b+" registered without an *attributes* object."),"function"!=typeof M.supplyDefaults&&A.log(b+" registered without a *supplyDefaults* method."),W.transformsRegistry[M.name]=M,W.componentsRegistry)d(S,M.name)}function g(M){var b=M.name,E=b.split("-")[0],x=M.dictionary,S=M.format,T=x&&Object.keys(x).length,n=S&&Object.keys(S).length,C=W.localeRegistry,p=C[b];if(p||(C[b]=p={}),E!==b){var F=C[E];F||(C[E]=F={}),T&&F.dictionary===p.dictionary&&(F.dictionary=x),n&&F.format===p.format&&(F.format=S)}T&&(p.dictionary=x),n&&(p.format=S)}function c(M){if(M.layoutAttributes){var b=M.layoutAttributes._arrayAttrRegexps;if(b)for(var E=0;E<b.length;E++)i(W.layoutArrayRegexes,b[E])}}function w(M,b){var E=W.componentsRegistry[M].schema;if(E&&E.traces){var x=E.traces[b];x&&s(W.modules[b]._module.attributes,x)}}function d(M,b){var E=W.componentsRegistry[M].schema;if(E&&E.transforms){var x=E.transforms[b];x&&s(W.transformsRegistry[b].attributes,x)}}function o(M,b){var E=W.componentsRegistry[M].schema;if(E&&E.subplots){var x=W.subplotsRegistry[b],S=x.layoutAttributes,T="subplot"===x.attr?x.name:x.attr;Array.isArray(T)&&(T=T[0]);var n=E.subplots[T];S&&n&&s(S,n)}}function v(M){return"object"==typeof M&&(M=M.type),M}W.modules={},W.allCategories={},W.allTypes=[],W.subplotsRegistry={},W.transformsRegistry={},W.componentsRegistry={},W.layoutArrayContainers=[],W.layoutArrayRegexes=[],W.traceLayoutAttributes={},W.localeRegistry={},W.apiMethodRegistry={},W.collectableSubplotTypes=null,W.register=function(b){if(W.collectableSubplotTypes=null,!b)throw new Error("No argument passed to Plotly.register.");b&&!Array.isArray(b)&&(b=[b]);for(var E=0;E<b.length;E++){var x=b[E];if(!x)throw new Error("Invalid module was attempted to be registered!");switch(x.moduleType){case"trace":a(x);break;case"transform":u(x);break;case"component":f(x);break;case"locale":g(x);break;case"apiMethod":W.apiMethodRegistry[x.name]=x.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},W.getModule=function(M){var b=W.modules[v(M)];return!!b&&b._module},W.traceIs=function(M,b){if("various"===(M=v(M)))return!1;var E=W.modules[M];return E||(M&&A.log("Unrecognized trace type "+M+"."),E=W.modules[m.type.dflt]),!!E.categories[b]},W.getTransformIndices=function(M,b){for(var E=[],x=M.transforms||[],S=0;S<x.length;S++)x[S].type===b&&E.push(S);return E},W.hasTransform=function(M,b){for(var E=M.transforms||[],x=0;x<E.length;x++)if(E[x].type===b)return!0;return!1},W.getComponentMethod=function(M,b){var E=W.componentsRegistry[M];return E&&E[b]||y},W.call=function(){var M=arguments[0],b=[].slice.call(arguments,1);return W.apiMethodRegistry[M].apply(null,b)}},91536:function(tt,W,t){"use strict";var A=t(24040),y=t(3400),i=y.extendFlat,P=y.extendDeep;function L(m){var r;switch(m){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}tt.exports=function(r,e){var s,h=r.layout,f=P([],r.data),u=P({},h,L(e.tileClass)),g=r._context||{};if(e.width&&(u.width=e.width),e.height&&(u.height=e.height),"thumbnail"===e.tileClass||"themes__thumb"===e.tileClass){u.annotations=[];var c=Object.keys(u);for(s=0;s<c.length;s++)["xaxis","yaxis","zaxis"].indexOf(c[s].slice(0,5))>-1&&(u[c[s]].title={text:""});for(s=0;s<f.length;s++){var w=f[s];w.showscale=!1,w.marker&&(w.marker.showscale=!1),A.traceIs(w,"pie-like")&&(w.textposition="none")}}if(Array.isArray(e.annotations))for(s=0;s<e.annotations.length;s++)u.annotations.push(e.annotations[s]);var d=Object.keys(u).filter(function(E){return E.match(/^scene\d*$/)});if(d.length){var o={};for("thumbnail"===e.tileClass&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),s=0;s<d.length;s++){var v=u[d[s]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),i(v.xaxis,o),i(v.yaxis,o),i(v.zaxis,o),v._scene=null}}var M=document.createElement("div");e.tileClass&&(M.className=e.tileClass);var b={gd:M,td:M,layout:u,data:f,config:{staticPlot:void 0===e.staticPlot||e.staticPlot,plotGlPixelRatio:void 0===e.plotGlPixelRatio?2:e.plotGlPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1,mapboxAccessToken:g.mapboxAccessToken}};return"transparent"!==e.setBackground&&(b.config.setBackground=e.setBackground||"opaque"),b.gd.defaultLayout=L(e.tileClass),b}},39792:function(tt,W,t){"use strict";var A=t(3400),y=t(67024),i=t(48616),P=t(81792);tt.exports=function L(l,m){var r;return A.isPlainObject(l)||(r=A.getGraphDiv(l)),(m=m||{}).format=m.format||"png",m.width=m.width||null,m.height=m.height||null,m.imageDataOnly=!0,new Promise(function(e,s){r&&r._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),A.isIE()&&"svg"!==m.format&&s(new Error(P.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var a=y(l,m),h=m.filename||l.fn||"newplot";h+="."+m.format.replace("-","."),a.then(function(f){return r&&(r._snapshotInProgress=!1),i(f,h,m.format)}).then(function(f){e(f)}).catch(function(f){r&&(r._snapshotInProgress=!1),s(f)})})}},48616:function(tt,W,t){"use strict";var A=t(3400),y=t(81792);tt.exports=function i(P,L,l){var m=document.createElement("a"),r="download"in m;return new Promise(function(s,a){var h,f;return A.isIE()?(h=y.createBlob(P,"svg"),window.navigator.msSaveBlob(h,L),h=null,s(L)):r?(h=y.createBlob(P,l),f=y.createObjectURL(h),m.href=f,m.download=L,document.body.appendChild(m),m.click(),document.body.removeChild(m),y.revokeObjectURL(f),h=null,s(L)):A.isSafari()?(y.octetStream(("svg"===l?",":";base64,")+encodeURIComponent(P)),s(L)):void a(new Error("download error"))})}},81792:function(tt,W,t){"use strict";var A=t(24040);W.getDelay=function(P){return P._has&&(P._has("gl3d")||P._has("gl2d")||P._has("mapbox"))?500:0},W.getRedrawFunc=function(P){return function(){A.getComponentMethod("colorbar","draw")(P)}},W.encodeSVG=function(P){return"data:image/svg+xml,"+encodeURIComponent(P)},W.encodeJSON=function(P){return"data:application/json,"+encodeURIComponent(P)};var y=window.URL||window.webkitURL;W.createObjectURL=function(P){return y.createObjectURL(P)},W.revokeObjectURL=function(P){return y.revokeObjectURL(P)},W.createBlob=function(P,L){if("svg"===L)return new window.Blob([P],{type:"image/svg+xml;charset=utf-8"});if("full-json"===L)return new window.Blob([P],{type:"application/json;charset=utf-8"});var l=function i(P){for(var L=P.length,l=new ArrayBuffer(L),m=new Uint8Array(l),r=0;r<L;r++)m[r]=P.charCodeAt(r);return l}(window.atob(P));return new window.Blob([l],{type:"image/"+L})},W.octetStream=function(P){document.location.href="data:application/octet-stream"+P},W.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,W.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(tt,W,t){"use strict";var A=t(81792),y={getDelay:A.getDelay,getRedrawFunc:A.getRedrawFunc,clone:t(91536),toSVG:t(37164),svgToImg:t(63268),toImage:t(61808),downloadImage:t(39792)};tt.exports=y},63268:function(tt,W,t){"use strict";var A=t(3400),y=t(61252).EventEmitter,i=t(81792);tt.exports=function P(L){var l=L.emitter||new y,m=new Promise(function(r,e){var s=window.Image,a=L.svg,h=L.format||"png";if(A.isIE()&&"svg"!==h){var f=new Error(i.MSG_IE_BAD_FORMAT);return e(f),L.promise?m:l.emit("error",f)}var b,E,u=L.canvas,g=L.scale||1,d=g*(L.width||300),o=g*(L.height||150),v=u.getContext("2d",{willReadFrequently:!0}),M=new s;"svg"===h||A.isSafari()?E=i.encodeSVG(a):(b=i.createBlob(a,"svg"),E=i.createObjectURL(b)),u.width=d,u.height=o,M.onload=function(){var x;switch(b=null,i.revokeObjectURL(E),"svg"!==h&&v.drawImage(M,0,0,d,o),h){case"jpeg":x=u.toDataURL("image/jpeg");break;case"png":x=u.toDataURL("image/png");break;case"webp":x=u.toDataURL("image/webp");break;case"svg":x=E;break;default:var S="Image format is not jpeg, png, svg or webp.";if(e(new Error(S)),!L.promise)return l.emit("error",S)}r(x),L.promise||l.emit("success",x)},M.onerror=function(x){if(b=null,i.revokeObjectURL(E),e(x),!L.promise)return l.emit("error",x)},M.src=E});return L.promise?m:l}},61808:function(tt,W,t){"use strict";var A=t(61252).EventEmitter,y=t(24040),i=t(3400),P=t(81792),L=t(91536),l=t(37164),m=t(63268);tt.exports=function r(e,s){var a=new A,h=L(e,{format:"png"}),f=h.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);var g=P.getRedrawFunc(f);return y.call("_doPlot",f,h.data,h.layout,h.config).then(g).then(function u(){var c=P.getDelay(f._fullLayout);setTimeout(function(){var w=l(f),d=document.createElement("canvas");d.id=i.randstr(),(a=m({format:s.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:d,emitter:a,svg:w})).clean=function(){f&&document.body.removeChild(f)}},c)}).catch(function(c){a.emit("error",c)}),a}},37164:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=t(43616),P=t(76308),L=t(9616),l=/"/g,m="TOBESTRIPPED",r=new RegExp('("'+m+")|("+m+'")',"g");tt.exports=function(h,f,u){var v,g=h._fullLayout,c=g._paper,w=g._toppaper,d=g.width,o=g.height;c.insert("rect",":first-child").call(i.setRect,0,0,d,o).call(P.fill,g.paper_bgcolor);var M=g._basePlotModules||[];for(v=0;v<M.length;v++){var b=M[v];b.toSVG&&b.toSVG(h)}if(w){var E=w.node().childNodes,x=Array.prototype.slice.call(E);for(v=0;v<x.length;v++){var S=x[v];S.childNodes.length&&c.node().appendChild(S)}}g._draggers&&g._draggers.remove(),c.node().style.background="",c.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var n=A.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){n.style({visibility:null,display:null});var C=this.style.fontFamily;C&&-1!==C.indexOf('"')&&n.style("font-family",C.replace(l,m))}else n.remove()}),c.selectAll(".gradient_filled,.pattern_filled").each(function(){var n=A.select(this),C=this.style.fill;C&&-1!==C.indexOf("url(")&&n.style("fill",C.replace(l,m));var p=this.style.stroke;p&&-1!==p.indexOf("url(")&&n.style("stroke",p.replace(l,m))}),("pdf"===f||"eps"===f)&&c.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),c.node().setAttributeNS(L.xmlns,"xmlns",L.svg),c.node().setAttributeNS(L.xmlns,"xmlns:xlink",L.xlink),"svg"===f&&u&&(c.attr("width",u*d),c.attr("height",u*o),c.attr("viewBox","0 0 "+d+" "+o));var T=(new window.XMLSerializer).serializeToString(c.node());return T=(T=function s(a){return a.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}(T=function e(a){var h=A.select("body").append("div").style({display:"none"}).html(""),f=a.replace(/(&[^;]*;)/gi,function(u){return"&lt;"===u?"&#60;":"&rt;"===u?"&#62;":-1!==u.indexOf("<")||-1!==u.indexOf(">")?"":h.html(u).text()});return h.remove(),f}(T))).replace(r,"'"),y.isIE()&&(T=(T=(T=T.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),T}},84664:function(tt,W,t){"use strict";var A=t(3400);tt.exports=function(i,P){for(var L=0;L<i.length;L++)i[L].i=L;A.mergeArray(P.text,i,"tx"),A.mergeArray(P.hovertext,i,"htx");var l=P.marker;if(l){A.mergeArray(l.opacity,i,"mo",!0),A.mergeArray(l.color,i,"mc");var m=l.line;m&&(A.mergeArray(m.color,i,"mlc"),A.mergeArrayCastPositive(m.width,i,"mlw"))}}},20832:function(tt,W,t){"use strict";var A=t(52904),y=t(29736).axisHoverFormat,i=t(21776).Ks,P=t(21776).Gw,L=t(49084),l=t(25376),m=t(78048),r=t(98192).c,e=t(92880).extendFlat,s=l({editType:"calc",arrayOk:!0,colorEditType:"style"}),f=e({},A.marker.line.width,{dflt:0}),u=e({width:f,editType:"calc"},L("marker.line")),g=e({line:u,editType:"calc"},L("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});tt.exports={x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:y("x"),yhoverformat:y("y"),text:A.text,texttemplate:P({editType:"plot"},{keys:m.eventDataKeys}),hovertext:A.hovertext,hovertemplate:i({},{keys:m.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:e({},s,{}),insidetextfont:e({},s,{}),outsidetextfont:e({},s,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:e({},A.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:g,offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,selected:{marker:{opacity:A.selected.marker.opacity,color:A.selected.marker.color,editType:"style"},textfont:A.selected.textfont,editType:"style"},unselected:{marker:{opacity:A.unselected.marker.opacity,color:A.unselected.marker.color,editType:"style"},textfont:A.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(tt,W,t){"use strict";var A=t(54460),y=t(1220),i=t(94288).hasColorscale,P=t(47128),L=t(84664),l=t(4500);tt.exports=function(r,e){var h,f,u,g,c,w,s=A.getFromId(r,e.xaxis||"x"),a=A.getFromId(r,e.yaxis||"y"),d={msUTC:!(!e.base&&0!==e.base)};"h"===e.orientation?(h=s.makeCalcdata(e,"x",d),u=a.makeCalcdata(e,"y"),g=y(e,a,"y",u),c=!!e.yperiodalignment,w="y"):(h=a.makeCalcdata(e,"y",d),u=s.makeCalcdata(e,"x"),g=y(e,s,"x",u),c=!!e.xperiodalignment,w="x"),f=g.vals;for(var o=Math.min(f.length,h.length),v=new Array(o),M=0;M<o;M++)v[M]={p:f[M],s:h[M]},c&&(v[M].orig_p=u[M],v[M][w+"End"]=g.ends[M],v[M][w+"Start"]=g.starts[M]),e.ids&&(v[M].id=String(e.ids[M]));return i(e,"marker")&&P(r,e,{vals:e.marker.color,containerStr:"marker",cLetter:"c"}),i(e,"marker.line")&&P(r,e,{vals:e.marker.line.color,containerStr:"marker.line",cLetter:"c"}),L(v,e),l(v,e),v}},78048:function(tt){"use strict";tt.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(tt,W,t){"use strict";var A=t(38248),y=t(3400).isArrayOrTypedArray,i=t(39032).BADNUM,P=t(24040),L=t(54460),l=t(71888).getAxisGroup,m=t(72592);function e(p,F,D,N,k){if(N.length){var z,B,O,U;switch(function h(p,F){var D,N;for(D=0;D<F.length;D++){var O,k=F[D],z=k[0].trace,B="funnel"===z.type?z._base:z.base,U="h"===z.orientation?z.xcalendar:z.ycalendar,G="category"===p.type||"multicategory"===p.type?function(){return null}:p.d2c;if(y(B)){for(N=0;N<Math.min(B.length,k.length);N++)O=G(B[N],0,U),A(O)?(k[N].b=+O,k[N].hasB=1):k[N].b=0;for(;N<k.length;N++)k[N].b=0}else{O=G(B,0,U);var J=A(O);for(O=J?O:0,N=0;N<k.length;N++)k[N].b=O,J&&(k[N].hasB=1)}}}(D,N),k.mode){case"overlay":f(F,D,N,k);break;case"group":for(z=[],B=[],O=0;O<N.length;O++)void 0===(U=N[O])[0].trace.offset?B.push(U):z.push(U);B.length&&function u(p,F,D,N,k){var z=new m(N,{posAxis:F,sepNegVal:!1,overlapNoMerge:!k.norm});(function w(p,F,D,N){for(var k=p._fullLayout,O=D.minDiff,U=D.traces,G=U.length,J=D.positions.length!==D.distinctPositions.length,et=O*(1-N.gap),at=l(k,F._id)+U[0][0].trace.orientation,lt=k._alignmentOpts[at]||{},K=0;K<G;K++){var it,Y,j=U[K],rt=j[0].trace,Z=Object.keys((lt[rt.alignmentgroup]||{}).offsetGroups||{}).length,Q=(it=Z?et/Z:J?et/G:et)*(1-(N.groupgap||0));Y=Z?((2*rt._offsetIndex+1-Z)*it-Q)/2:J?((2*K+1-G)*it-Q)/2:-Q/2;var nt=j[0].t;nt.barwidth=Q,nt.poffset=Y,nt.bargroupwidth=et,nt.bardelta=O}D.binWidth=U[0][0].t.barwidth/100,d(D),o(F,D),v(F,D,J)})(p,F,z,k),function x(p,F){for(var D=p.traces,N=0;N<D.length;N++){var k=D[N];if(void 0===k[0].trace.base)for(var B=new m([k],{posAxis:F,sepNegVal:!0,overlapNoMerge:!0}),O=0;O<k.length;O++){var U=k[O];if(U.p!==i){var G=B.put(U.p,U.b+U.s);G&&(U.b=G)}}}}(z,F),k.norm?(E(z),S(D,z,k)):M(D,z)}(p,F,D,B,k),z.length&&f(F,D,z,k);break;case"stack":case"relative":for(z=[],B=[],O=0;O<N.length;O++)void 0===(U=N[O])[0].trace.base?B.push(U):z.push(U);(function a(p){if(!(p.length<2)){var F,N,k,z,B,O;for(F=0;F<p.length&&void 0===(z=(N=p[F][0].trace).marker?N.marker.cornerradius:void 0);F++);if(void 0!==z)for(B=A(z)?+z:+z.slice(0,-1),O=A(z)?"px":"%",F=0;F<p.length;F++)(k=p[F][0].t).cornerradiusvalue=B,k.cornerradiusform=O}})(B),B.length&&function g(p,F,D,N,k){var z=new m(N,{posAxis:F,sepNegVal:"relative"===k.mode,overlapNoMerge:!(k.norm||"stack"===k.mode||"relative"===k.mode)});c(F,z,k),function b(p,F,D){var z,B,O,U,G,J,N=C(p),k=F.traces;for(U=0;U<k.length;U++)if("funnel"===(B=(z=k[U])[0].trace).type)for(G=0;G<z.length;G++)(J=z[G]).s!==i&&F.put(J.p,-.5*J.s);for(U=0;U<k.length;U++){O="funnel"===(B=(z=k[U])[0].trace).type;var et=[];for(G=0;G<z.length;G++)if((J=z[G]).s!==i){var at,lt=F.put(J.p,at=O?J.s:J.s+J.b),K=lt+at;J.b=lt,J[N]=K,D.norm||(et.push(K),J.hasB&&et.push(lt))}D.norm||(B._extremes[p._id]=L.findExtremes(p,et,{tozero:!0,padded:!0}))}}(D,z,k);for(var B=0;B<N.length;B++)for(var O=N[B],U=0;U<O.length;U++){var G=O[U];G.s!==i&&G.b+G.s===z.get(G.p,G.s)&&(G._outmost=!0)}k.norm&&S(D,z,k)}(0,F,D,B,k),z.length&&f(F,D,z,k)}(function s(p){var F,D,N,k,z,B,O;for(F=0;F<p.length;F++)N=(D=p[F])[0].trace,void 0===(k=D[0].t).cornerradiusvalue&&void 0!==(z=N.marker?N.marker.cornerradius:void 0)&&(B=A(z)?+z:+z.slice(0,-1),O=A(z)?"px":"%",k.cornerradiusvalue=B,k.cornerradiusform=O)})(N),function n(p,F){var k,z,B,D=C(F),N={},O=1/0,U=-1/0;for(k=0;k<p.length;k++)for(B=p[k],z=0;z<B.length;z++){var G=B[z].p;A(G)&&(O=Math.min(O,G),U=Math.max(U,G))}var J=1e4/(U-O),et=N.round=function(st){return String(Math.round(J*(st-O)))},at={},lt={},K=p.some(function(st){var dt=st[0].trace;return"marker"in dt&&dt.marker.cornerradius});for(k=0;k<p.length;k++){(B=p[k])[0].t.extents=N;var j=B[0].t.poffset,rt=y(j);for(z=0;z<B.length;z++){var H=B[z],Z=H[D]-H.w/2;if(A(Z)){var it=H[D]+H.w/2,Q=et(H.p);N[Q]=N[Q]?[Math.min(Z,N[Q][0]),Math.max(it,N[Q][1])]:[Z,it]}if(H.p0=H.p+(rt?j[z]:j),H.p1=H.p0+H.w,H.s0=H.b,H.s1=H.s0+H.s,K){var Y=Math.min(H.s0,H.s1)||0,nt=Math.max(H.s0,H.s1)||0,_=H[D];at[_]=_ in at?Math.min(at[_],Y):Y,lt[_]=_ in lt?Math.max(lt[_],nt):nt}}}K&&function T(p,F,D,N){for(var k=C(N),z=0;z<p.length;z++)for(var B=p[z],O=0;O<B.length;O++){var U=B[O],G=U[k];U._sMin=F[G],U._sMax=D[G]}}(p,at,lt,F)}(N,F)}}function f(p,F,D,N){for(var k=0;k<D.length;k++){var B=new m([D[k]],{posAxis:p,sepNegVal:!1,overlapNoMerge:!N.norm});c(p,B,N),N.norm?(E(B),S(F,B,N)):M(F,B)}}function c(p,F,D){for(var N=F.minDiff,k=F.traces,z=N*(1-D.gap),O=z*(1-(D.groupgap||0)),U=-O/2,G=0;G<k.length;G++){var et=k[G][0].t;et.barwidth=O,et.poffset=U,et.bargroupwidth=z,et.bardelta=N}F.binWidth=k[0][0].t.barwidth/100,d(F),o(p,F),v(p,F)}function d(p){var D,N,F=p.traces;for(D=0;D<F.length;D++){var J,k=F[D],z=k[0],B=z.trace,O=z.t,U=B._offset||B.offset,G=O.poffset;if(y(U)){for(J=Array.prototype.slice.call(U,0,k.length),N=0;N<J.length;N++)A(J[N])||(J[N]=G);for(N=J.length;N<k.length;N++)J.push(G);O.poffset=J}else void 0!==U&&(O.poffset=U);var et=B._width||B.width,at=O.barwidth;if(y(et)){var lt=Array.prototype.slice.call(et,0,k.length);for(N=0;N<lt.length;N++)A(lt[N])||(lt[N]=at);for(N=lt.length;N<k.length;N++)lt.push(at);if(O.barwidth=lt,void 0===U){for(J=[],N=0;N<k.length;N++)J.push(G+(at-lt[N])/2);O.poffset=J}}else void 0!==et&&(O.barwidth=et,void 0===U&&(O.poffset=G+(at-et)/2))}}function o(p,F){for(var D=F.traces,N=C(p),k=0;k<D.length;k++)for(var z=D[k],B=z[0].t,O=B.poffset,U=y(O),G=B.barwidth,J=y(G),et=0;et<z.length;et++){var at=z[et],lt=at.w=J?G[et]:G;void 0===at.p&&(at.p=at[N],at["orig_"+N]=at[N]),at[N]=at.p+((U?O[et]:O)+lt/2)}}function v(p,F,D){var N=F.traces,z=F.minDiff/2;L.minDtick(p,F.minDiff,F.distinctPositions[0],D);for(var B=0;B<N.length;B++){var et,at,K,O=N[B],U=O[0],G=U.trace,J=[];for(K=0;K<O.length;K++)J.push(at=(et=O[K]).p-z,et.p+z);if(G.width||G.offset){var j=U.t,rt=j.poffset,H=j.barwidth,Z=y(rt),it=y(H);for(K=0;K<O.length;K++)J.push(at=(et=O[K]).p+(Z?rt[K]:rt),at+(it?H[K]:H))}G._extremes[p._id]=L.findExtremes(p,J,{padded:!1})}}function M(p,F){for(var D=F.traces,N=C(p),k=0;k<D.length;k++){for(var z=D[k],B=z[0].trace,O="scatter"===B.type,U="v"===B.orientation,G=[],J=!1,et=0;et<z.length;et++){var at=z[et],lt=O?0:at.b,K=O?U?at.y:at.x:lt+at.s;at[N]=K,G.push(K),at.hasB&&G.push(lt),(!at.hasB||!at.b)&&(J=!0)}B._extremes[p._id]=L.findExtremes(p,G,{tozero:J,padded:!0})}}function E(p){for(var F=p.traces,D=0;D<F.length;D++)for(var N=F[D],k=0;k<N.length;k++){var z=N[k];z.s!==i&&p.put(z.p,z.b+z.s)}}function S(p,F,D){var N=F.traces,k=C(p),z="fraction"===D.norm?1:100,B=z/1e9,O=p.l2c(p.c2l(0)),U="stack"===D.mode?z:O;function G(Y){return A(p.c2l(Y))&&(Y<O-B||Y>U+B||!A(O))}for(var J=0;J<N.length;J++){for(var et=N[J],at=et[0].trace,lt=[],K=!1,j=!1,rt=0;rt<et.length;rt++){var H=et[rt];if(H.s!==i){var Z=Math.abs(z/F.get(H.p,H.s));H.b*=Z,H.s*=Z;var it=H.b,Q=it+H.s;H[k]=Q,lt.push(Q),j=j||G(Q),H.hasB&&(lt.push(it),j=j||G(it)),(!H.hasB||!H.b)&&(K=!0)}}at._extremes[p._id]=L.findExtremes(p,lt,{tozero:K,padded:j})}}function C(p){return p._id.charAt(0)}tt.exports={crossTraceCalc:function r(p,F){for(var D=F.xaxis,N=F.yaxis,k=p._fullLayout,z=p._fullData,B=p.calcdata,O=[],U=[],G=0;G<z.length;G++){var J=z[G];if(!0===J.visible&&P.traceIs(J,"bar")&&J.xaxis===D._id&&J.yaxis===N._id&&("h"===J.orientation?O.push(B[G]):U.push(B[G]),J._computePh))for(var et=p.calcdata[G],at=0;at<et.length;at++)"function"==typeof et[at].ph0&&(et[at].ph0=et[at].ph0()),"function"==typeof et[at].ph1&&(et[at].ph1=et[at].ph1())}var lt={xCat:"category"===D.type||"multicategory"===D.type,yCat:"category"===N.type||"multicategory"===N.type,mode:k.barmode,norm:k.barnorm,gap:k.bargap,groupgap:k.bargroupgap};e(p,D,N,U,lt),e(p,N,D,O,lt)},setGroupPositions:e}},31508:function(tt,W,t){"use strict";var A=t(38248),y=t(3400),i=t(76308),P=t(24040),L=t(43980),l=t(31147),m=t(55592),r=t(20011),e=t(20832),s=y.coerceFont;function f(g){if(A(g)){if((g=+g)>=0)return g}else if("string"==typeof g&&"%"===(g=g.trim()).slice(-1)&&A(g.slice(0,-1))&&(g=+g.slice(0,-1))>=0)return g+"%"}function u(g,c,w,d,o,v){var M=!1!==(v=v||{}).moduleHasSelected,b=!1!==v.moduleHasUnselected,E=!1!==v.moduleHasConstrain,x=!1!==v.moduleHasCliponaxis,S=!1!==v.moduleHasTextangle,T=!1!==v.moduleHasInsideanchor,n=!!v.hasPathbar,C=Array.isArray(o)||"auto"===o,p=C||"inside"===o,F=C||"outside"===o;if(p||F){var D=s(d,"textfont",w.font),N=y.extendFlat({},D),z=!(g.textfont&&g.textfont.color);if(z&&delete N.color,s(d,"insidetextfont",N),n){var B=y.extendFlat({},D);z&&delete B.color,s(d,"pathbar.textfont",B)}F&&s(d,"outsidetextfont",D),M&&d("selected.textfont.color"),b&&d("unselected.textfont.color"),E&&d("constraintext"),x&&d("cliponaxis"),S&&d("textangle"),d("texttemplate")}p&&T&&d("insidetextanchor")}tt.exports={supplyDefaults:function a(g,c,w,d){function o(x,S){return y.coerce(g,c,e,x,S)}if(L(g,c,d,o)){l(g,c,d,o),o("xhoverformat"),o("yhoverformat"),o("orientation",c.x&&!c.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var M=o("textposition");u(g,0,d,o,M,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),m(g,c,o,w,d);var b=(c.marker.line||{}).color,E=P.getComponentMethod("errorbars","supplyDefaults");E(g,c,b||i.defaultLine,{axis:"y"}),E(g,c,b||i.defaultLine,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(c,o)}else c.visible=!1},crossTraceDefaults:function h(g,c){var w,d;function o(b,E){return y.coerce(d._input,d,e,b,E)}for(var v=0;v<g.length;v++)if("bar"===(d=g[v]).type){w=d._input;var M=o("marker.cornerradius",c.barcornerradius);d.marker&&(d.marker.cornerradius=f(M)),"group"===c.barmode&&r(w,d,c,o)}},handleText:u,validateCornerradius:f}},52160:function(tt){"use strict";tt.exports=function(t,A,y){return t.x="xVal"in A?A.xVal:A.x,t.y="yVal"in A?A.yVal:A.y,A.xa&&(t.xaxis=A.xa),A.ya&&(t.yaxis=A.ya),"h"===y.orientation?(t.label=t.y,t.value=t.x):(t.label=t.x,t.value=t.y),t}},60444:function(tt,W,t){"use strict";var A=t(38248),y=t(49760),i=t(3400).isArrayOrTypedArray;W.coerceString=function(P,L,l){if("string"==typeof L){if(L||!P.noBlank)return L}else if(("number"==typeof L||!0===L)&&!P.strict)return String(L);return void 0!==l?l:P.dflt},W.coerceNumber=function(P,L,l){if(A(L)){L=+L;var m=P.min,r=P.max;if(!(void 0!==m&&L<m||void 0!==r&&L>r))return L}return void 0!==l?l:P.dflt},W.coerceColor=function(P,L,l){return y(L).isValid()?L:void 0!==l?l:P.dflt},W.coerceEnumerated=function(P,L,l){return P.coerceNumber&&(L=+L),-1!==P.values.indexOf(L)?L:void 0!==l?l:P.dflt},W.getValue=function(P,L){var l;return i(P)?L<P.length&&(l=P[L]):l=P,l},W.getLineWidth=function(P,L){return 0<L.mlw?L.mlw:i(P.marker.line.width)?0:P.marker.line.width}},63400:function(tt,W,t){"use strict";var A=t(93024),y=t(24040),i=t(76308),P=t(3400).fillText,L=t(60444).getLineWidth,l=t(54460).hoverLabelText,m=t(39032).BADNUM;function e(a,h,f,u,g){var E,x,S,T,n,C,p,c=a.cd,w=c[0].trace,d=c[0].t,o="closest"===u,v="waterfall"===w.type,M=a.maxHoverDistance,b=a.maxSpikeDistance;"h"===w.orientation?(E=f,x=h,S="y",T="x",n=lt,C=J):(E=h,x=f,S="x",T="y",C=lt,n=J);var F=w[S+"period"],D=o||F;function N(st){return z(st,-1)}function k(st){return z(st,1)}function z(st,dt){return st[S]+dt*st.w/2}function B(st){return st[S+"End"]-st[S+"Start"]}var O=o?N:F?function(st){return st.p-B(st)/2}:function(st){return Math.min(N(st),st.p-d.bardelta/2)},U=o?k:F?function(st){return st.p+B(st)/2}:function(st){return Math.max(k(st),st.p+d.bardelta/2)};function G(st,dt,xt){return g.finiteRange&&(xt=0),A.inbox(st-E,dt-E,xt+Math.min(1,Math.abs(dt-st)/p)-1)}function J(st){return G(O(st),U(st),M)}function at(st){var dt=st[T];if(v){var xt=Math.abs(st.rawS)||0;x>0?dt+=xt:x<0&&(dt-=xt)}return dt}function lt(st){var dt=x,xt=st.b,yt=at(st);return A.inbox(xt-dt,yt-dt,M+(yt-dt)/(yt-xt)-1)}var j=a[S+"a"],rt=a[T+"a"];p=Math.abs(j.r2c(j.range[1])-j.r2c(j.range[0]));var Z=A.getDistanceFunction(u,n,C,function H(st){return(n(st)+C(st))/2});if(A.getClosest(c,Z,a),!1!==a.index&&c[a.index].p!==m){D||(O=function(st){return Math.min(N(st),st.p-d.bargroupwidth/2)},U=function(st){return Math.max(k(st),st.p+d.bargroupwidth/2)});var Q=c[a.index],Y=w.base?Q.b+Q.s:Q.s;a[T+"0"]=a[T+"1"]=rt.c2p(Q[T],!0),a[T+"LabelVal"]=Y;var nt=d.extents[d.extents.round(Q.p)];return a[S+"0"]=j.c2p(o?O(Q):nt[0],!0),a[S+"1"]=j.c2p(o?U(Q):nt[1],!0),a[S+"LabelVal"]=void 0!==Q.orig_p?Q.orig_p:Q.p,a.labelLabel=l(j,a[S+"LabelVal"],w[S+"hoverformat"]),a.valueLabel=l(rt,a[T+"LabelVal"],w[T+"hoverformat"]),a.baseLabel=l(rt,Q.b,w[T+"hoverformat"]),a.spikeDistance=(function K(st){var dt=x,xt=st.b,yt=at(st);return A.inbox(xt-dt,yt-dt,b+(yt-dt)/(yt-xt)-1)}(Q)+function et(st){return G(N(st),k(st),b)}(Q))/2,a[S+"Spike"]=j.c2p(Q.p,!0),P(Q,w,a),a.hovertemplate=w.hovertemplate,a}}function s(a,h){var f=h.mcc||a.marker.color,u=h.mlcc||a.marker.line.color,g=L(a,h);return i.opacity(f)?f:i.opacity(u)&&g?u:void 0}tt.exports={hoverPoints:function r(a,h,f,u,g){var c=e(a,h,f,u,g);if(c){var w=c.cd,d=w[0].trace,o=w[c.index];return c.color=s(d,o),y.getComponentMethod("errorbars","hoverInfo")(o,d,c),[c]}},hoverOnBars:e,getTraceColor:s}},51132:function(tt,W,t){"use strict";tt.exports={attributes:t(20832),layoutAttributes:t(39324),supplyDefaults:t(31508).supplyDefaults,crossTraceDefaults:t(31508).crossTraceDefaults,supplyLayoutDefaults:t(37156),calc:t(71820),crossTraceCalc:t(96376).crossTraceCalc,colorbar:t(5528),arraysToCalcdata:t(84664),plot:t(98184).plot,style:t(60100).style,styleOnSelect:t(60100).styleOnSelect,hoverPoints:t(63400).hoverPoints,eventData:t(52160),selectPoints:t(45784),moduleType:"trace",name:"bar",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(tt){"use strict";tt.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(tt,W,t){"use strict";var A=t(24040),y=t(54460),i=t(3400),P=t(39324),L=t(31508).validateCornerradius;tt.exports=function(l,m,r){function e(v,M){return i.coerce(l,m,P,v,M)}for(var s=!1,a=!1,h=!1,f={},u=e("barmode"),g=0;g<r.length;g++){var c=r[g];if(A.traceIs(c,"bar")&&c.visible){if(s=!0,"group"===u){var w=c.xaxis+c.yaxis;f[w]&&(h=!0),f[w]=!0}c.visible&&"histogram"===c.type&&"category"!==y.getFromId({_fullLayout:m},c["v"===c.orientation?"xaxis":"yaxis"]).type&&(a=!0)}}if(s){"overlay"!==u&&e("barnorm"),e("bargap",a&&!h?0:.2),e("bargroupgap");var o=e("barcornerradius");m.barcornerradius=L(o)}else delete m.barmode}},98184:function(tt,W,t){"use strict";var A=t(33428),y=t(38248),i=t(3400),P=t(72736),L=t(76308),l=t(43616),m=t(24040),r=t(54460).tickText,e=t(82744),s=e.recordMinTextSize,a=e.clearMinTextSize,h=t(60100),f=t(60444),u=t(78048),g=t(20832),c=g.text,w=g.textposition,d=t(10624).appendArrayPointValue,o=u.TEXTPAD;function v(J){return J.id}function b(J){return(J>0)-(J<0)}function E(J,et){return J<et?1:-1}function S(J,et,at,lt){var K;return!et.uniformtext.mode&&T(at)?(lt&&(K=lt()),J.transition().duration(at.duration).ease(at.easing).each("end",function(){K&&K()}).each("interrupt",function(){K&&K()})):J}function T(J){return J&&J.duration>0}function p(J,et,at,lt,K){return!(J<0||et<0)&&(at<=J&&lt<=et||at<=et&&lt<=J||(K?J>=at*(et/lt):et>=lt*(J/at)))}function F(J){return"auto"===J?0:J}function D(J,et){var at=Math.PI/180*et,lt=Math.abs(Math.sin(at)),K=Math.abs(Math.cos(at));return{x:J.width*K+J.height*lt,y:J.width*lt+J.height*K}}function N(J,et,at,lt,K,j){var rt=!!j.isHorizontal,H=!!j.constrained,Z=j.angle||0,it=j.anchor,Q="end"===it,Y="start"===it,_=((j.leftToRight||0)+1)/2,st=1-_,dt=j.hasB,xt=j.r,yt=j.overhead,St=K.width,Et=K.height,Tt=Math.abs(et-J),gt=Math.abs(lt-at),Mt=Tt>2*o&&gt>2*o?o:0;Tt-=2*Mt,gt-=2*Mt;var Nt=F(Z);"auto"===Z&&!(St<=Tt&&Et<=gt)&&(St>Tt||Et>gt)&&(!(St>gt||Et>Tt)||St<Et!=Tt<gt)&&(Nt+=90);var Pt,Vt,Gt=D(K,Nt);if(xt&&xt-yt>o){var re=function k(J,et,at,lt,K,j,rt,H,Z){var dt,xt,yt,St,it=Math.max(0,Math.abs(et-J)-2*o),Q=Math.max(0,Math.abs(lt-at)-2*o),Y=j-o,nt=rt?Y-Math.sqrt(Y*Y-(Y-rt)*(Y-rt)):Y;return K.y/K.x>=Q/(it-(Z?2*Y:H?Y-rt:2*nt))?St=Q/K.y:K.y/K.x<=(Q-(Z?2*Y:H?2*nt:Y-rt))/it?St=it/K.x:!Z&&H?(dt=K.x*K.x+K.y*K.y/4,yt=(it-Y)*(it-Y)+(Q/2-Y)*(Q/2-Y)-Y*Y,St=(-(xt=-2*K.x*(it-Y)-K.y*(Q/2-Y))+Math.sqrt(xt*xt-4*dt*yt))/(2*dt)):Z?(dt=(K.x*K.x+K.y*K.y)/4,yt=(it/2-Y)*(it/2-Y)+(Q/2-Y)*(Q/2-Y)-Y*Y,St=(-(xt=-K.x*(it/2-Y)-K.y*(Q/2-Y))+Math.sqrt(xt*xt-4*dt*yt))/(2*dt)):(dt=K.x*K.x/4+K.y*K.y,yt=(it/2-Y)*(it/2-Y)+(Q-Y)*(Q-Y)-Y*Y,St=(-(xt=-K.x*(it/2-Y)-2*K.y*(Q-Y))+Math.sqrt(xt*xt-4*dt*yt))/(2*dt)),{scale:St=Math.min(1,St),pad:H?Math.max(0,Y-Math.sqrt(Math.max(0,Y*Y-(Y-(Q-K.y*St)/2)*(Y-(Q-K.y*St)/2)))-rt):Math.max(0,Y-Math.sqrt(Math.max(0,Y*Y-(Y-(it-K.x*St)/2)*(Y-(it-K.x*St)/2)))-rt)}}(J,et,at,lt,Gt,xt,yt,rt,dt);Pt=re.scale,Vt=re.pad}else Pt=1,H&&(Pt=Math.min(1,Tt/Gt.x,gt/Gt.y)),Vt=0;var le=K.left*st+K.right*_,It=(K.top+K.bottom)/2,Rt=(J+o)*st+(et-o)*_,$t=(at+lt)/2,oe=0,se=0;if(Y||Q){var ve=(rt?Gt.x:Gt.y)/2;xt&&(Q||dt)&&(Mt+=Vt);var de=rt?E(J,et):E(at,lt);rt?Y?(Rt=J+de*Mt,oe=-de*ve):(Rt=et-de*Mt,oe=de*ve):Y?($t=at+de*Mt,se=-de*ve):($t=lt-de*Mt,se=de*ve)}return{textX:le,textY:It,targetX:Rt,targetY:$t,anchorX:oe,anchorY:se,scale:Pt,rotate:Nt}}tt.exports={plot:function n(J,et,at,lt,K,j){var rt=et.xaxis,H=et.yaxis,Z=J._fullLayout,it=J._context.staticPlot;K||(K={mode:Z.barmode,norm:Z.barmode,gap:Z.bargap,groupgap:Z.bargroupgap},a("bar",Z));var Q=i.makeTraceGroups(lt,at,"trace bars").each(function(Y){var nt=A.select(this),_=Y[0].trace,st=Y[0].t,yt="histogram"===_.type,St="bar"===_.type,Et=St||"funnel"===_.type,Tt=0;"waterfall"===_.type&&_.connector.visible&&"between"===_.connector.mode&&(Tt=_.connector.line.width/2);var gt="h"===_.orientation,Mt=T(K),Nt=i.ensureSingle(nt,"g","points"),Gt=function M(J){if(J.ids)return v}(_),Pt=Nt.selectAll("g.point").data(i.identity,Gt);Pt.enter().append("g").classed("point",!0),Pt.exit().remove(),Pt.each(function(re,le){var jt,Ct,It=A.select(this),Rt=function x(J,et,at,lt){var K=[],j=[],rt=lt?et:at,H=lt?at:et;return K[0]=rt.c2p(J.s0,!0),j[0]=H.c2p(J.p0,!0),K[1]=rt.c2p(J.s1,!0),j[1]=H.c2p(J.p1,!0),lt?[K,j]:[j,K]}(re,rt,H,gt),$t=Rt[0][0],oe=Rt[0][1],se=Rt[1][0],ve=Rt[1][1],de=0==(gt?oe-$t:ve-se);if(de&&Et&&f.getLineWidth(_,re)&&(de=!1),de||(de=!(y($t)&&y(oe)&&y(se)&&y(ve))),re.isBlank=de,de&&(gt?oe=$t:ve=se),Tt&&!de&&(gt?($t-=E($t,oe)*Tt,oe+=E($t,oe)*Tt):(se-=E(se,ve)*Tt,ve+=E(se,ve)*Tt)),"waterfall"===_.type){if(!de){var Wt=_[re.dir].marker;jt=Wt.line.width,Ct=Wt.color}}else jt=f.getLineWidth(_,re),Ct=re.mc||_.marker.color;function Xt(ne){var pe=A.round(jt/2%1,2);return 0===K.gap&&0===K.groupgap?A.round(Math.round(ne)-pe,2):ne}var zt=L.opacity(Ct)<1||jt>.01?Xt:function Ht(ne,pe,be){return be&&ne===pe?ne:Math.abs(ne-pe)>=2?Xt(ne):ne>pe?Math.ceil(ne):Math.floor(ne)};J._context.staticPlot||($t=zt($t,oe,gt),oe=zt(oe,$t,gt),se=zt(se,ve,!gt),ve=zt(ve,se,!gt));var wt,kt=gt?rt.c2p:H.c2p;wt=re.s0>0?re._sMax:re.s0<0?re._sMin:re.s1>0?re._sMax:re._sMin;var Dt,Qt,pt=St||yt?function ft(ne,pe){if(!ne)return 0;var Fe,be=Math.abs(gt?ve-se:oe-$t),Se=Math.abs(gt?oe-$t:ve-se),Me=zt(Math.abs(kt(wt,!0)-kt(0,!0))),Ie=re.hasB?Math.min(be/2,Se/2):Math.min(be/2,Me);return Fe="%"===pe?be*(Math.min(50,ne)/100):ne,zt(Math.max(Math.min(Fe,Ie),0))}(st.cornerradiusvalue,st.cornerradiusform):0,te="M"+$t+","+se+"V"+ve+"H"+oe+"V"+se+"Z",ee=0;if(pt&&re.s){var Ne=0===b(re.s0)||b(re.s)===b(re.s0)?re.s1:re.s0;if((ee=zt(re.hasB?0:Math.abs(kt(wt,!0)-kt(Ne,!0))))<pt){var We=E($t,oe),ye=E(se,ve),Te=We===-ye?1:0;if(gt)if(re.hasB)Dt="M"+($t+pt*We)+","+se+"A "+pt+","+pt+" 0 0 "+Te+" "+$t+","+(se+pt*ye)+"V"+(ve-pt*ye)+"A "+pt+","+pt+" 0 0 "+Te+" "+($t+pt*We)+","+ve+"H"+(oe-pt*We)+"A "+pt+","+pt+" 0 0 "+Te+" "+oe+","+(ve-pt*ye)+"V"+(se+pt*ye)+"A "+pt+","+pt+" 0 0 "+Te+" "+(oe-pt*We)+","+se+"Z";else{var Ge=(Qt=Math.abs(oe-$t)+ee)<pt?pt-Math.sqrt(Qt*(2*pt-Qt)):0,hr=ee>0?Math.sqrt(ee*(2*pt-ee)):0,ce=We>0?Math.max:Math.min;Dt="M"+$t+","+se+"V"+(ve-Ge*ye)+"H"+ce(oe-(pt-ee)*We,$t)+"A "+pt+","+pt+" 0 0 "+Te+" "+oe+","+(ve-pt*ye-hr)+"V"+(se+pt*ye+hr)+"A "+pt+","+pt+" 0 0 "+Te+" "+ce(oe-(pt-ee)*We,$t)+","+(se+Ge*ye)+"Z"}else if(re.hasB)Dt="M"+($t+pt*We)+","+se+"A "+pt+","+pt+" 0 0 "+Te+" "+$t+","+(se+pt*ye)+"V"+(ve-pt*ye)+"A "+pt+","+pt+" 0 0 "+Te+" "+($t+pt*We)+","+ve+"H"+(oe-pt*We)+"A "+pt+","+pt+" 0 0 "+Te+" "+oe+","+(ve-pt*ye)+"V"+(se+pt*ye)+"A "+pt+","+pt+" 0 0 "+Te+" "+(oe-pt*We)+","+se+"Z";else{var Ue=(Qt=Math.abs(ve-se)+ee)<pt?pt-Math.sqrt(Qt*(2*pt-Qt)):0,Ye=ee>0?Math.sqrt(ee*(2*pt-ee)):0,gr=ye>0?Math.max:Math.min;Dt="M"+($t+Ue*We)+","+se+"V"+gr(ve-(pt-ee)*ye,se)+"A "+pt+","+pt+" 0 0 "+Te+" "+($t+pt*We-Ye)+","+ve+"H"+(oe-pt*We+Ye)+"A "+pt+","+pt+" 0 0 "+Te+" "+(oe-Ue*We)+","+gr(ve-(pt-ee)*ye,se)+"V"+se+"Z"}}else Dt=te}else Dt=te;var tr=S(i.ensureSingle(It,"path"),Z,K,j);if(tr.style("vector-effect",it?"none":"non-scaling-stroke").attr("d",isNaN((oe-$t)*(ve-se))||de&&J._context.staticPlot?"M0,0Z":Dt).call(l.setClipUrl,et.layerClipId,J),!Z.uniformtext.mode&&Mt){var he=l.makePointStyleFns(_);l.singlePointStyle(re,tr,_,he,J)}(function C(J,et,at,lt,K,j,rt,H,Z,it,Q,Y,nt){var xt,_=et.xaxis,st=et.yaxis,dt=J._fullLayout;function yt(Qt,te,ee){return i.ensureSingle(Qt,"text").text(te).attr({class:"bartext bartext-"+xt,"text-anchor":"middle","data-notex":1}).call(l.font,ee).call(P.convertToTspans,J)}var St=lt[0].trace,Et="h"===St.orientation,Tt=function B(J,et,at,lt,K){var H,j=et[0].trace;return H=j.texttemplate?function U(J,et,at,lt,K){var j=et[0].trace,rt=i.castOption(j,at,"texttemplate");if(!rt)return"";var Y,nt,_,st,H="histogram"===j.type,Z="waterfall"===j.type,it="funnel"===j.type,Q="h"===j.orientation;function dt(Mt){return r(nt,nt.c2l(Mt),!0).text}function xt(Mt){return r(st,st.c2l(Mt),!0).text}Q?(Y="y",nt=K,_="x",st=lt):(Y="x",nt=lt,_="y",st=K);var yt=et[at],St={};St.label=yt.p,St.labelLabel=St[Y+"Label"]=dt(yt.p);var Et=i.castOption(j,yt.i,"text");(0===Et||Et)&&(St.text=Et),St.value=yt.s,St.valueLabel=St[_+"Label"]=xt(yt.s);var Tt={};d(Tt,j,yt.i),(H||void 0===Tt.x)&&(Tt.x=Q?St.value:St.label),(H||void 0===Tt.y)&&(Tt.y=Q?St.label:St.value),(H||void 0===Tt.xLabel)&&(Tt.xLabel=Q?St.valueLabel:St.labelLabel),(H||void 0===Tt.yLabel)&&(Tt.yLabel=Q?St.labelLabel:St.valueLabel),Z&&(St.delta=+yt.rawS||yt.s,St.deltaLabel=xt(St.delta),St.final=yt.v,St.finalLabel=xt(St.final),St.initial=St.final-St.delta,St.initialLabel=xt(St.initial)),it&&(St.value=yt.s,St.valueLabel=xt(St.value),St.percentInitial=yt.begR,St.percentInitialLabel=i.formatPercent(yt.begR),St.percentPrevious=yt.difR,St.percentPreviousLabel=i.formatPercent(yt.difR),St.percentTotal=yt.sumR,St.percenTotalLabel=i.formatPercent(yt.sumR));var gt=i.castOption(j,yt.i,"customdata");return gt&&(St.customdata=gt),i.texttemplateString(rt,St,J._d3locale,Tt,St,j._meta||{})}(J,et,at,lt,K):j.textinfo?function G(J,et,at,lt){var K=J[0].trace,j="h"===K.orientation,rt="waterfall"===K.type,H="funnel"===K.type;function Z(gt){return r(j?lt:at,gt,!0).text}function it(gt){return r(j?at:lt,+gt,!0).text}var st,Y=J[et],nt=K.textinfo.split("+"),_=[],dt=function(gt){return-1!==nt.indexOf(gt)};if(dt("label")&&_.push(Z(J[et].p)),dt("text")&&(0===(st=i.castOption(K,Y.i,"text"))||st)&&_.push(st),rt){var xt=+Y.rawS||Y.s,yt=Y.v,St=yt-xt;dt("initial")&&_.push(it(St)),dt("delta")&&_.push(it(xt)),dt("final")&&_.push(it(yt))}if(H){dt("value")&&_.push(it(Y.s));var Et=0;dt("percent initial")&&Et++,dt("percent previous")&&Et++,dt("percent total")&&Et++;var Tt=Et>1;dt("percent initial")&&(st=i.formatPercent(Y.begR),Tt&&(st+=" of initial"),_.push(st)),dt("percent previous")&&(st=i.formatPercent(Y.difR),Tt&&(st+=" of previous"),_.push(st)),dt("percent total")&&(st=i.formatPercent(Y.sumR),Tt&&(st+=" of total"),_.push(st))}return _.join("<br>")}(et,at,lt,K):f.getValue(j.text,at),f.coerceString(c,H)}(dt,lt,K,_,st);xt=function O(J,et){var at=f.getValue(J.textposition,et);return f.coerceEnumerated(w,at)}(St,K);var Mt=lt[K],Nt=!("stack"===Y.mode||"relative"===Y.mode)||Mt._outmost,Gt=Mt.hasB,Pt=it&&it-Q>o;if(Tt&&"none"!==xt&&(!Mt.isBlank&&j!==rt&&H!==Z||"auto"!==xt&&"inside"!==xt)){var Vt=dt.font,re=h.getBarColor(lt[K],St),le=h.getInsideTextFont(St,K,Vt,re),It=h.getOutsideTextFont(St,K,Vt),Rt=St.insidetextanchor||"end",$t=at.datum();Et?"log"===_.type&&$t.s0<=0&&(j=_.range[0]<_.range[1]?0:_._length):"log"===st.type&&$t.s0<=0&&(H=st.range[0]<st.range[1]?st._length:0);var jt,Ct,Wt,Xt,Ht,oe=Math.abs(rt-j),se=Math.abs(Z-H),ve=oe-2*o,de=se-2*o;if("outside"===xt&&!Nt&&!Mt.hasB&&(xt="inside"),"auto"===xt)if(Nt){xt="inside",jt=yt(at,Tt,Ht=i.ensureUniformFontSize(J,le)),Xt=(Ct=l.bBox(jt.node())).height;var zt,Bt=(Wt=Ct.width)>0&&Xt>0;zt=Pt?Gt?p(ve-2*it,de,Wt,Xt,Et)||p(ve,de-2*it,Wt,Xt,Et):Et?p(ve-(it-Q),de,Wt,Xt,Et)||p(ve,de-2*(it-Q),Wt,Xt,Et):p(ve,de-(it-Q),Wt,Xt,Et)||p(ve-2*(it-Q),de,Wt,Xt,Et):p(ve,de,Wt,Xt,Et),Bt&&zt?xt="inside":(xt="outside",jt.remove(),jt=null)}else xt="inside";if(!jt){var kt=(jt=yt(at,Tt,Ht=i.ensureUniformFontSize(J,"outside"===xt?It:le))).attr("transform");if(jt.attr("transform",""),Wt=(Ct=l.bBox(jt.node())).width,Xt=Ct.height,jt.attr("transform",kt),Wt<=0||Xt<=0)return void jt.remove()}var ft,wt=St.textangle;(ft="outside"===xt?function z(J,et,at,lt,K,j){var _,rt=!!j.isHorizontal,H=!!j.constrained,Z=j.angle||0,it=K.width,Q=K.height,Y=Math.abs(et-J),nt=Math.abs(lt-at);_=rt?nt>2*o?o:0:Y>2*o?o:0;var st=1;H&&(st=rt?Math.min(1,nt/Q):Math.min(1,Y/it));var dt=F(Z),xt=D(K,dt),yt=(rt?xt.x:xt.y)/2,St=(K.left+K.right)/2,Et=(K.top+K.bottom)/2,Tt=(J+et)/2,gt=(at+lt)/2,Mt=0,Nt=0,Gt=rt?E(et,J):E(at,lt);return rt?(Tt=et-Gt*_,Mt=Gt*yt):(gt=lt+Gt*_,Nt=-Gt*yt),{textX:St,textY:Et,targetX:Tt,targetY:gt,anchorX:Mt,anchorY:Nt,scale:st,rotate:dt}}(j,rt,H,Z,Ct,{isHorizontal:Et,constrained:"both"===St.constraintext||"outside"===St.constraintext,angle:wt}):N(j,rt,H,Z,Ct,{isHorizontal:Et,constrained:"both"===St.constraintext||"inside"===St.constraintext,angle:wt,anchor:Rt,hasB:Gt,r:it,overhead:Q})).fontSize=Ht.size,s("histogram"===St.type?"bar":St.type,ft,dt),Mt.transform=ft;var Dt=S(jt,dt,Y,nt);i.setTransormAndDisplay(Dt,ft)}else at.select("text").remove()})(J,et,It,Y,le,$t,oe,se,ve,pt,ee,K,j),et.layerClipId&&l.hideOutsideRangePoint(re,It.select("text"),rt,H,_.xcalendar,_.ycalendar)}),l.setClipUrl(nt,!1===_.cliponaxis?null:et.layerClipId,J)});m.getComponentMethod("errorbars","plot")(J,Q,et,K)},toMoveInsideBar:N}},45784:function(tt){"use strict";function W(t,A,y,i,P){var L=A.c2p(i?t.s0:t.p0,!0),l=A.c2p(i?t.s1:t.p1,!0),m=y.c2p(i?t.p0:t.s0,!0),r=y.c2p(i?t.p1:t.s1,!0);return P?[(L+l)/2,(m+r)/2]:i?[l,(m+r)/2]:[(L+l)/2,r]}tt.exports=function(A,y){var s,i=A.cd,P=A.xaxis,L=A.yaxis,l=i[0].trace,m="funnel"===l.type,r="h"===l.orientation,e=[];if(!1===y)for(s=0;s<i.length;s++)i[s].selected=0;else for(s=0;s<i.length;s++){var a=i[s],h="ct"in a?a.ct:W(a,P,L,r,m);y.contains(h,!1,s,A)?(e.push({pointNumber:s,x:P.c2d(a.x),y:L.c2d(a.y)}),a.selected=1):a.selected=0}return e}},72592:function(tt,W,t){"use strict";tt.exports=y;var A=t(3400).distinctVals;function y(i,P){this.traces=i,this.sepNegVal=P.sepNegVal,this.overlapNoMerge=P.overlapNoMerge;for(var L=1/0,l=P.posAxis._id.charAt(0),m=[],r=0;r<i.length;r++){for(var e=i[r],s=0;s<e.length;s++){var a=e[s],h=a.p;void 0===h&&(h=a[l]),void 0!==h&&m.push(h)}e[0]&&e[0].width1&&(L=Math.min(e[0].width1,L))}this.positions=m;var f=A(m);this.distinctPositions=f.vals,this.minDiff=1===f.vals.length&&L!==1/0?L:Math.min(f.minDiff,L);var u=(P.posAxis||{}).type;("category"===u||"multicategory"===u)&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}y.prototype.put=function(P,L){var l=this.getLabel(P,L),m=this.bins[l]||0;return this.bins[l]=m+L,m},y.prototype.get=function(P,L){var l=this.getLabel(P,L);return this.bins[l]||0},y.prototype.getLabel=function(P,L){return(L<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?P:Math.round(P/this.binWidth))}},60100:function(tt,W,t){"use strict";var A=t(33428),y=t(76308),i=t(43616),P=t(3400),L=t(24040),l=t(82744).resizeText,m=t(20832),r=m.textfont,e=m.insidetextfont,s=m.outsidetextfont,a=t(60444);function f(x,S,T){i.pointStyle(x.selectAll("path"),S,T),u(x,S,T)}function u(x,S,T){x.selectAll("text").each(function(n){var C=A.select(this),p=P.ensureUniformFontSize(T,d(C,n,S,T));i.font(C,p)})}function d(x,S,T,n){var C=n._fullLayout.font,p=T.textfont;if(x.classed("bartext-inside")){var F=E(S,T);p=v(T,S.i,C,F)}else x.classed("bartext-outside")&&(p=M(T,S.i,C));return p}function o(x,S,T){return b(r,x.textfont,S,T)}function v(x,S,T,n){var C=o(x,S,T);return(void 0===x._input.textfont||void 0===x._input.textfont.color||Array.isArray(x.textfont.color)&&void 0===x.textfont.color[S])&&(C={color:y.contrast(n),family:C.family,size:C.size}),b(e,x.insidetextfont,S,C)}function M(x,S,T){var n=o(x,S,T);return b(s,x.outsidetextfont,S,n)}function b(x,S,T,n){var C=a.getValue((S=S||{}).family,T),p=a.getValue(S.size,T),F=a.getValue(S.color,T);return{family:a.coerceString(x.family,C,n.family),size:a.coerceNumber(x.size,p,n.size),color:a.coerceColor(x.color,F,n.color)}}function E(x,S){return"waterfall"===S.type?S[x.dir].marker.color:x.mcc||x.mc||S.marker.color}tt.exports={style:function h(x){var S=A.select(x).selectAll("g.barlayer").selectAll("g.trace");l(x,S,"bar");var T=S.size(),n=x._fullLayout;S.style("opacity",function(C){return C[0].trace.opacity}).each(function(C){("stack"===n.barmode&&T>1||0===n.bargap&&0===n.bargroupgap&&!C[0].trace.marker.line.width)&&A.select(this).attr("shape-rendering","crispEdges")}),S.selectAll("g.points").each(function(C){f(A.select(this),C[0].trace,x)}),L.getComponentMethod("errorbars","style")(S)},styleTextPoints:u,styleOnSelect:function g(x,S,T){var n=S[0].trace;n.selectedpoints?function c(x,S,T){i.selectedPointStyle(x.selectAll("path"),S),function w(x,S,T){x.each(function(n){var p,C=A.select(this);if(n.selected){p=P.ensureUniformFontSize(T,d(C,n,S,T));var F=S.selected.textfont&&S.selected.textfont.color;F&&(p.color=F),i.font(C,p)}else i.selectedTextStyle(C,S)})}(x.selectAll("text"),S,T)}(T,n,x):(f(T,n,x),L.getComponentMethod("errorbars","style")(T))},getInsideTextFont:v,getOutsideTextFont:M,getBarColor:E,resizeText:l}},55592:function(tt,W,t){"use strict";var A=t(76308),y=t(94288).hasColorscale,i=t(27260),P=t(3400).coercePattern;tt.exports=function(l,m,r,e,s){var a=r("marker.color",e),h=y(l,"marker");h&&i(l,m,s,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",A.defaultLine),y(l,"marker.line")&&i(l,m,s,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),P(r,"marker.pattern",a,h),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(tt,W,t){"use strict";var A=t(33428),y=t(3400);function l(m){return"_"+m+"Text_minsize"}tt.exports={recordMinTextSize:function P(m,r,e){if(e.uniformtext.mode){var s=l(m),a=e.uniformtext.minsize,h=r.scale*r.fontSize;r.hide=h<a,e[s]=e[s]||1/0,r.hide||(e[s]=Math.min(e[s],Math.max(h,a)))}},clearMinTextSize:function L(m,r){r[l(m)]=void 0},resizeText:function i(m,r,e){var s=m._fullLayout,a=s["_"+e+"Text_minsize"];if(a){var f,h="hide"===s.uniformtext.mode;switch(e){case"funnelarea":case"pie":case"sunburst":f="g.slice";break;case"treemap":case"icicle":f="g.slice, g.pathbar";break;default:f="g.points > g.point"}r.selectAll(f).each(function(u){var g=u.transform;if(g){g.scale=h&&g.hide?0:a/g.fontSize;var c=A.select(this).select("text");y.setTransormAndDisplay(c,g)}})}}}},78100:function(tt,W,t){"use strict";var A=t(21776).Ks,y=t(92880).extendFlat,i=t(8319),P=t(20832);tt.exports={r:i.r,theta:i.theta,r0:i.r0,dr:i.dr,theta0:i.theta0,dtheta:i.dtheta,thetaunit:i.thetaunit,base:y({},P.base,{}),offset:y({},P.offset,{}),width:y({},P.width,{}),text:y({},P.text,{}),hovertext:y({},P.hovertext,{}),marker:function L(){var l=y({},P.marker);return delete l.cornerradius,l}(),hoverinfo:i.hoverinfo,hovertemplate:A(),selected:P.selected,unselected:P.unselected}},47056:function(tt,W,t){"use strict";var A=t(94288).hasColorscale,y=t(47128),i=t(3400).isArrayOrTypedArray,P=t(84664),L=t(96376).setGroupPositions,l=t(4500),m=t(24040).traceIs,r=t(3400).extendFlat;tt.exports={calc:function e(a,h){for(var f=a._fullLayout,u=h.subplot,c=f[u].angularaxis,w=f[u].radialaxis.makeCalcdata(h,"r"),d=c.makeCalcdata(h,"theta"),o=h._length,v=new Array(o),M=w,b=d,E=0;E<o;E++)v[E]={p:b[E],s:M[E]};function x(S){var T=h[S];void 0!==T&&(h["_"+S]=i(T)?c.makeCalcdata(h,S):c.d2c(T,h.thetaunit))}return"linear"===c.type&&(x("width"),x("offset")),A(h,"marker")&&y(a,h,{vals:h.marker.color,containerStr:"marker",cLetter:"c"}),A(h,"marker.line")&&y(a,h,{vals:h.marker.line.color,containerStr:"marker.line",cLetter:"c"}),P(v,h),l(v,h),v},crossTraceCalc:function s(a,h,f){for(var u=a.calcdata,g=[],c=0;c<u.length;c++){var w=u[c],d=w[0].trace;!0===d.visible&&m(d,"bar")&&d.subplot===f&&g.push(w)}var o=r({},h.radialaxis,{_id:"x"});L(a,h.angularaxis,o,g,{mode:h.barmode,norm:h.barnorm,gap:h.bargap,groupgap:h.bargroupgap})}}},70384:function(tt,W,t){"use strict";var A=t(3400),y=t(85968).handleRThetaDefaults,i=t(55592),P=t(78100);tt.exports=function(l,m,r,e){function s(h,f){return A.coerce(l,m,P,h,f)}y(l,m,e,s)?(s("thetaunit"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate"),i(l,m,s,r,e),A.coerceSelectionMarkerOpacity(m,s)):m.visible=!1}},68896:function(tt,W,t){"use strict";var A=t(93024),y=t(3400),i=t(63400).getTraceColor,P=y.fillText,L=t(8504).makeHoverPointText,l=t(57384).isPtInsidePolygon;tt.exports=function(r,e,s){var a=r.cd,h=a[0].trace,f=r.subplot,u=f.radialAxis,c=f.vangles,w=c?l:y.isPtInsideSector,d=r.maxHoverDistance,o=f.angularAxis._period||2*Math.PI,v=Math.abs(u.g2p(Math.sqrt(e*e+s*s))),M=Math.atan2(s,e);if(u.range[0]>u.range[1]&&(M+=Math.PI),A.getClosest(a,function(T){return w(v,M,[T.rp0,T.rp1],[T.thetag0,T.thetag1],c)?d+Math.min(1,Math.abs(T.thetag1-T.thetag0)/o)-1+(T.rp1-v)/(T.rp1-T.rp0)-1:1/0},r),!1!==r.index){var x=a[r.index];r.x0=r.x1=x.ct[0],r.y0=r.y1=x.ct[1];var S=y.extendFlat({},x,{r:x.s,theta:x.p});return P(x,h,r),L(S,h,f,r),r.hovertemplate=h.hovertemplate,r.color=i(h,x),r.xLabelVal=r.yLabelVal=void 0,x.s<0&&(r.idealAlign="left"),[r]}}},94456:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"barpolar",basePlotModule:t(40872),categories:["polar","bar","showLegend"],attributes:t(78100),layoutAttributes:t(9320),supplyDefaults:t(70384),supplyLayoutDefaults:t(89580),calc:t(47056).calc,crossTraceCalc:t(47056).crossTraceCalc,plot:t(42040),colorbar:t(5528),formatLabels:t(22852),style:t(60100).style,styleOnSelect:t(60100).styleOnSelect,hoverPoints:t(68896),selectPoints:t(45784),meta:{}}},9320:function(tt){"use strict";tt.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(tt,W,t){"use strict";var A=t(3400),y=t(9320);tt.exports=function(i,P,L){var m,l={};function r(a,h){return A.coerce(i[m]||{},P[m],y,a,h)}for(var e=0;e<L.length;e++){var s=L[e];"barpolar"===s.type&&!0===s.visible&&(l[m=s.subplot]||(r("barmode"),r("bargap"),l[m]=1))}}},42040:function(tt,W,t){"use strict";var A=t(33428),y=t(38248),i=t(3400),P=t(43616),L=t(57384);tt.exports=function(r,e,s){var a=r._context.staticPlot,h=e.xaxis,f=e.yaxis,u=e.radialAxis,g=e.angularAxis,c=function l(m){var r=m.cxx,e=m.cyy;return m.vangles?function(s,a,h,f){var u,g;i.angleDelta(h,f)>0?(u=h,g=f):(u=f,g=h);var c=L.findEnclosingVertexAngles(u,m.vangles)[0],w=L.findEnclosingVertexAngles(g,m.vangles)[1];return L.pathPolygonAnnulus(s,a,u,g,[c,(u+g)/2,w],r,e)}:function(s,a,h,f){return i.pathAnnulus(s,a,h,f,r,e)}}(e),w=e.layers.frontplot.select("g.barlayer");i.makeTraceGroups(w,s,"trace bars").each(function(){var d=A.select(this),v=i.ensureSingle(d,"g","points").selectAll("g.point").data(i.identity);v.enter().append("g").style("vector-effect",a?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),v.exit().remove(),v.each(function(M){var n,b=A.select(this),E=M.rp0=u.c2p(M.s0),x=M.rp1=u.c2p(M.s1),S=M.thetag0=g.c2g(M.p0),T=M.thetag1=g.c2g(M.p1);if(y(E)&&y(x)&&y(S)&&y(T)&&E!==x&&S!==T){var C=u.c2g(M.s1),p=(S+T)/2;M.ct=[h.c2p(C*Math.cos(p)),f.c2p(C*Math.sin(p))],n=c(E,x,S,T)}else n="M0,0Z";i.ensureSingle(b,"path").attr("d",n)}),P.setClipUrl(d,e._hasClipOnAxisFalse?e.clipIds.forTraces:null,r)})}},63188:function(tt,W,t){"use strict";var A=t(52904),y=t(20832),i=t(22548),P=t(29736).axisHoverFormat,L=t(21776).Ks,l=t(92880).extendFlat,m=A.marker,r=m.line;tt.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:l({},m.symbol,{arrayOk:!1,editType:"plot"}),opacity:l({},m.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:l({},m.angle,{arrayOk:!1,editType:"calc"}),size:l({},m.size,{arrayOk:!1,editType:"calc"}),color:l({},m.color,{arrayOk:!1,editType:"style"}),line:{color:l({},r.color,{arrayOk:!1,dflt:i.defaultLine,editType:"style"}),width:l({},r.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:A.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,selected:{marker:A.selected.marker,editType:"style"},unselected:{marker:A.unselected.marker,editType:"style"},text:l({},A.text,{}),hovertext:l({},A.hovertext,{}),hovertemplate:L({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},62555:function(tt,W,t){"use strict";var A=t(38248),y=t(54460),i=t(1220),P=t(3400),L=t(39032).BADNUM,l=P._;tt.exports=function(M,b){var C,p,F,D,N,k,z,E=M._fullLayout,x=y.getFromId(M,b.xaxis||"x"),S=y.getFromId(M,b.yaxis||"y"),T=[],n="violin"===b.type?"_numViolins":"_numBoxes";"h"===b.orientation?(F=x,D="x",N=S,k="y",z=!!b.yperiodalignment):(F=S,D="y",N=x,k="x",z=!!b.xperiodalignment);var at,lt,K,j,rt,H,B=function m(v,M,b,E){var p,S=M+"0"in v;if(M in v||S&&"d"+M in v){var n=b.makeCalcdata(v,M);return[i(v,b,M,n).vals,n]}p=S?v[M+"0"]:"name"in v&&("category"===b.type||A(v.name)&&-1!==["linear","log"].indexOf(b.type)||P.isDateTime(v.name)&&"date"===b.type)?v.name:E;for(var F="multicategory"===b.type?b.r2c_just_indices(p):b.d2c(p,0,v[M+"calendar"]),D=v._length,N=new Array(D),k=0;k<D;k++)N[k]=F;return[N]}(b,k,N,E[n]),O=B[0],U=B[1],G=P.distinctVals(O,N),J=G.vals,et=G.minDiff/2,Z="all"===(b.boxpoints||b.points)?P.identity:function(de){return de.v<at.lf||de.v>at.uf};if(b._hasPreCompStats){var it=b[D],Q=function(de){return F.d2c((b[de]||[])[C])},Y=1/0,nt=-1/0;for(C=0;C<b._length;C++){var _=O[C];if(A(_)){if((at={}).pos=at[k]=_,z&&U&&(at.orig_p=U[C]),at.q1=Q("q1"),at.med=Q("median"),at.q3=Q("q3"),lt=[],it&&P.isArrayOrTypedArray(it[C]))for(p=0;p<it[C].length;p++)(H=F.d2c(it[C][p]))!==L&&(a(rt={v:H,i:[C,p]},b,[C,p]),lt.push(rt));if(at.pts=lt.sort(f),j=(K=at[D]=lt.map(u)).length,at.med!==L&&at.q1!==L&&at.q3!==L&&at.med>=at.q1&&at.q3>=at.med){var st=Q("lowerfence");at.lf=st!==L&&st<=at.q1?st:g(at,K,j);var dt=Q("upperfence");at.uf=dt!==L&&dt>=at.q3?dt:c(at,K,j);var xt=Q("mean");at.mean=xt!==L?xt:j?P.mean(K,j):(at.q1+at.q3)/2;var yt=Q("sd");at.sd=xt!==L&&yt>=0?yt:j?P.stdev(K,j,at.mean):at.q3-at.q1,at.lo=w(at),at.uo=d(at);var St=Q("notchspan");St=St!==L&&St>0?St:o(at,j),at.ln=at.med-St,at.un=at.med+St;var Et=at.lf,Tt=at.uf;b.boxpoints&&K.length&&(Et=Math.min(Et,K[0]),Tt=Math.max(Tt,K[j-1])),b.notched&&(Et=Math.min(Et,at.ln),Tt=Math.max(Tt,at.un)),at.min=Et,at.max=Tt}else{var gt;P.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+at.q1,"median = "+at.med,"q3 = "+at.q3].join("\n")),at.med=gt=at.med!==L?at.med:at.q1!==L?at.q3!==L?(at.q1+at.q3)/2:at.q1:at.q3!==L?at.q3:0,at.q1=at.q3=gt,at.lf=at.uf=gt,at.mean=at.sd=gt,at.ln=at.un=gt,at.min=at.max=gt}Y=Math.min(Y,at.min),nt=Math.max(nt,at.max),at.pts2=lt.filter(Z),T.push(at)}}b._extremes[F._id]=y.findExtremes(F,[Y,nt],{padded:!0})}else{var Mt=F.makeCalcdata(b,D),Nt=function r(v,M){for(var b=v.length,E=new Array(b+1),x=0;x<b;x++)E[x]=v[x]-M;return E[b]=v[b-1]+M,E}(J,et),Gt=J.length,Pt=function e(v){for(var M=new Array(v),b=0;b<v;b++)M[b]=[];return M}(Gt);for(C=0;C<b._length;C++)if(A(H=Mt[C])){var Vt=P.findBin(O[C],Nt);Vt>=0&&Vt<Gt&&(a(rt={v:H,i:C},b,C),Pt[Vt].push(rt))}var re=1/0,le=-1/0,It=b.quartilemethod,Rt="exclusive"===It,$t="inclusive"===It;for(C=0;C<Gt;C++)if(Pt[C].length>0){var oe,se;(at={}).pos=at[k]=J[C],lt=at.pts=Pt[C].sort(f),j=(K=at[D]=lt.map(u)).length,at.min=K[0],at.max=K[j-1],at.mean=P.mean(K,j),at.sd=P.stdev(K,j,at.mean)*b.sdmultiple,at.med=P.interp(K,.5),j%2&&(Rt||$t)?(Rt?(oe=K.slice(0,j/2),se=K.slice(j/2+1)):$t&&(oe=K.slice(0,j/2+1),se=K.slice(j/2)),at.q1=P.interp(oe,.5),at.q3=P.interp(se,.5)):(at.q1=P.interp(K,.25),at.q3=P.interp(K,.75)),at.lf=g(at,K,j),at.uf=c(at,K,j),at.lo=w(at),at.uo=d(at);var ve=o(at,j);at.ln=at.med-ve,at.un=at.med+ve,re=Math.min(re,at.ln),le=Math.max(le,at.un),at.pts2=lt.filter(Z),T.push(at)}b.notched&&P.isTypedArray(Mt)&&(Mt=Array.from(Mt)),b._extremes[F._id]=y.findExtremes(F,b.notched?Mt.concat([re,le]):Mt,{padded:!0})}return function h(v,M){if(P.isArrayOrTypedArray(M.selectedpoints))for(var b=0;b<v.length;b++){for(var E=v[b].pts||[],x={},S=0;S<E.length;S++)x[E[S].i]=S;P.tagSelected(E,M,x)}}(T,b),T.length>0?(T[0].t={num:E[n],dPos:et,posLetter:k,valLetter:D,labels:{med:l(M,"median:"),min:l(M,"min:"),q1:l(M,"q1:"),q3:l(M,"q3:"),max:l(M,"max:"),mean:"sd"===b.boxmean||"sd"===b.sizemode?l(M,"mean \xb1 \u03c3:").replace("\u03c3",1===b.sdmultiple?"\u03c3":b.sdmultiple+"\u03c3"):l(M,"mean:"),lf:l(M,"lower fence:"),uf:l(M,"upper fence:")}},E[n]++,T):[{t:{empty:!0}}]};var s={text:"tx",hovertext:"htx"};function a(v,M,b){for(var E in s)P.isArrayOrTypedArray(M[E])&&(Array.isArray(b)?P.isArrayOrTypedArray(M[E][b[0]])&&(v[s[E]]=M[E][b[0]][b[1]]):v[s[E]]=M[E][b])}function f(v,M){return v.v-M.v}function u(v){return v.v}function g(v,M,b){return 0===b?v.q1:Math.min(v.q1,M[Math.min(P.findBin(2.5*v.q1-1.5*v.q3,M,!0)+1,b-1)])}function c(v,M,b){return 0===b?v.q3:Math.max(v.q3,M[Math.max(P.findBin(2.5*v.q3-1.5*v.q1,M),0)])}function w(v){return 4*v.q1-3*v.q3}function d(v){return 4*v.q3-3*v.q1}function o(v,M){return 0===M?0:1.57*(v.q3-v.q1)/Math.sqrt(M)}},96404:function(tt,W,t){"use strict";var A=t(54460),y=t(3400),i=t(71888).getAxisGroup,P=["v","h"];function l(m,r,e,s){var g,c,w,a=r.calcdata,h=r._fullLayout,f=s._id,u=f.charAt(0),d=[],o=0;for(g=0;g<e.length;g++)for(w=a[e[g]],c=0;c<w.length;c++)d.push(s.c2l(w[c].pos,!0)),o+=(w[c].pts2||[]).length;if(d.length){var v=y.distinctVals(d);("category"===s.type||"multicategory"===s.type)&&(v.minDiff=1);var M=v.minDiff/2;A.minDtick(s,v.minDiff,v.vals[0],!0);var E=h["violin"===m?"_numViolins":"_numBoxes"],x="group"===h[m+"mode"]&&E>1,S=1-h[m+"gap"],T=1-h[m+"groupgap"];for(g=0;g<e.length;g++){var D,N,k,z,n=(w=a[e[g]])[0].trace,C=w[0].t,p=n.width,F=n.side;if(p)D=N=z=p/2,k=0;else if(D=M,x){var B=i(h,s._id)+n.orientation,G=Object.keys(((h._alignmentOpts[B]||{})[n.alignmentgroup]||{}).offsetGroups||{}).length,J=G||E;N=D*S*T/J,k=2*D*(((G?n._offsetIndex:C.num)+.5)/J-.5)*S,z=D*S/J}else N=D*S*T,k=0,z=D;C.dPos=D,C.bPos=k,C.bdPos=N,C.wHover=z;var at,lt,j,rt,H,Z,it,Q,K=k+N,Y=Boolean(p);if("positive"===F?(at=D*(p?1:.5),j=K,lt=j=k):"negative"===F?(at=j=k,lt=D*(p?1:.5),rt=K):(at=lt=D,j=rt=K),(n.boxpoints||n.points)&&o>0){var _=n.pointpos,st=n.jitter,dt=n.marker.size/2,xt=0;_+st>=0&&((xt=K*(_+st))>at?(Y=!0,it=dt,H=xt):xt>j&&(it=dt,H=at)),xt<=at&&(H=at);var yt=0;_-st<=0&&((yt=-K*(_-st))>lt?(Y=!0,Q=dt,Z=yt):yt>rt&&(Q=dt,Z=lt)),yt<=lt&&(Z=lt)}else H=at,Z=lt;var St=new Array(w.length);for(c=0;c<w.length;c++)St[c]=w[c].pos;n._extremes[f]=A.findExtremes(s,St,{padded:Y,vpadminus:Z,vpadplus:H,vpadLinearized:!0,ppadminus:{x:Q,y:it}[u],ppadplus:{x:it,y:Q}[u]})}}}tt.exports={crossTraceCalc:function L(m,r){for(var e=m.calcdata,s=r.xaxis,a=r.yaxis,h=0;h<P.length;h++){for(var f=P[h],u="h"===f?a:s,g=[],c=0;c<e.length;c++){var w=e[c],o=w[0].trace;!0===o.visible&&("box"===o.type||"candlestick"===o.type)&&!w[0].t.empty&&(o.orientation||"v")===f&&o.xaxis===s._id&&o.yaxis===a._id&&g.push(c)}l("box",m,g,u)}},setPositionOffset:l}},90624:function(tt,W,t){"use strict";var A=t(3400),y=t(24040),i=t(76308),P=t(31147),L=t(20011),l=t(52976),m=t(63188);function e(h,f,u,g){function c(G){var J=0;return G&&G.length&&(J+=1,A.isArrayOrTypedArray(G[0])&&G[0].length&&(J+=1)),J}function w(G){return A.validate(h[G],m[G])}var v,d=u("y"),o=u("x");if("box"===f.type){var M=u("q1"),b=u("median"),E=u("q3");f._hasPreCompStats=M&&M.length&&b&&b.length&&E&&E.length,v=Math.min(A.minRowLength(M),A.minRowLength(b),A.minRowLength(E))}var F,D,x=c(d),S=c(o),T=x&&A.minRowLength(d),n=S&&A.minRowLength(o),C=g.calendar,p={autotypenumbers:g.autotypenumbers};if(f._hasPreCompStats)switch(String(S)+String(x)){case"00":var N=w("x0")||w("dx");F=!w("y0")&&!w("dy")||N?"v":"h",D=v;break;case"10":F="v",D=Math.min(v,n);break;case"20":F="h",D=Math.min(v,o.length);break;case"01":F="h",D=Math.min(v,T);break;case"02":F="v",D=Math.min(v,d.length);break;case"12":F="v",D=Math.min(v,n,d.length);break;case"21":F="h",D=Math.min(v,o.length,T);break;case"11":D=0;break;case"22":var B,z=!1;for(B=0;B<o.length;B++)if("category"===l(o[B],C,p)){z=!0;break}if(z)F="v",D=Math.min(v,n,d.length);else{for(B=0;B<d.length;B++)if("category"===l(d[B],C,p)){z=!0;break}z?(F="h",D=Math.min(v,o.length,T)):(F="v",D=Math.min(v,n,d.length))}}else x>0?(F="v",D=S>0?Math.min(n,T):Math.min(T)):S>0?(F="h",D=Math.min(n)):D=0;if(D){f._length=D;var O=u("orientation",F);f._hasPreCompStats?"v"===O&&0===S?(u("x0",0),u("dx",1)):"h"===O&&0===x&&(u("y0",0),u("dy",1)):"v"===O&&0===S?u("x0"):"h"===O&&0===x&&u("y0"),y.getComponentMethod("calendars","handleTraceDefaults")(h,f,["x","y"],g)}else f.visible=!1}function s(h,f,u,g){var c=g.prefix,w=A.coerce2(h,f,m,"marker.outliercolor"),d=u("marker.line.outliercolor"),o="outliers";f._hasPreCompStats?o="all":(w||d)&&(o="suspectedoutliers");var v=u(c+"points",o);v?(u("jitter","all"===v?.3:0),u("pointpos","all"===v?-1.5:0),u("marker.symbol"),u("marker.opacity"),u("marker.size"),u("marker.angle"),u("marker.color",f.line.color),u("marker.line.color"),u("marker.line.width"),"suspectedoutliers"===v&&(u("marker.line.outliercolor",f.marker.color),u("marker.line.outlierwidth")),u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size"),u("text"),u("hovertext")):delete f.marker;var M=u("hoveron");("all"===M||-1!==M.indexOf("points"))&&u("hovertemplate"),A.coerceSelectionMarkerOpacity(f,u)}tt.exports={supplyDefaults:function r(h,f,u,g){function c(T,n){return A.coerce(h,f,m,T,n)}if(e(h,f,c,g),!1!==f.visible){P(h,f,g,c),c("xhoverformat"),c("yhoverformat");var w=f._hasPreCompStats;w&&(c("lowerfence"),c("upperfence")),c("line.color",(h.marker||{}).color||u),c("line.width"),c("fillcolor",i.addOpacity(f.line.color,.5));var d=!1;if(w){var o=c("mean"),v=c("sd");o&&o.length&&(d=!0,v&&v.length&&(d="sd"))}c("whiskerwidth");var b,M=c("sizemode");"quartiles"===M&&(b=c("boxmean",d)),c("showwhiskers","quartiles"===M),("sd"===M||"sd"===b)&&c("sdmultiple"),c("width"),c("quartilemethod");var E=!1;if(w){var x=c("notchspan");x&&x.length&&(E=!0)}else A.validate(h.notchwidth,m.notchwidth)&&(E=!0);c("notched",E)&&c("notchwidth"),s(h,f,c,{prefix:"box"})}},crossTraceDefaults:function a(h,f){var g;function c(o){return A.coerce(g._input,g,m,o)}for(var w=0;w<h.length;w++){var d=(g=h[w]).type;("box"===d||"violin"===d)&&"group"===f[d+"mode"]&&L(g._input,g,f,c)}},handleSampleDefaults:e,handlePointsDefaults:s}},10392:function(tt){"use strict";tt.exports=function(t,A){return A.hoverOnBox&&(t.hoverOnBox=A.hoverOnBox),"xVal"in A&&(t.x=A.xVal),"yVal"in A&&(t.y=A.yVal),A.xa&&(t.xaxis=A.xa),A.ya&&(t.yaxis=A.ya),t}},27576:function(tt,W,t){"use strict";var A=t(54460),y=t(3400),i=t(93024),P=t(76308),L=y.fillText;function m(e,s,a,h){var o,v,M,b,E,x,S,T,n,C,p,D,N,B,f=e.cd,u=e.xa,g=e.ya,c=f[0].trace,w=f[0].t,d="violin"===c.type,F=w.bdPos,k=w.wHover,z=function(yt){return M.c2l(yt.pos)+w.bPos-M.c2l(x)};d&&"both"!==c.side?("positive"===c.side&&(n=function(yt){var St=z(yt);return i.inbox(St,St+k,C)},D=F,N=0),"negative"===c.side&&(n=function(yt){var St=z(yt);return i.inbox(St-k,St,C)},D=0,N=F)):(n=function(yt){var St=z(yt);return i.inbox(St-k,St+k,C)},D=N=F),B=d?function(yt){return i.inbox(yt.span[0]-E,yt.span[1]-E,C)}:function(yt){return i.inbox(yt.min-E,yt.max-E,C)},"h"===c.orientation?(E=s,x=a,S=B,T=n,o="y",M=g,v="x",b=u):(E=a,x=s,S=n,T=B,o="x",M=u,v="y",b=g);var O=Math.min(1,F/Math.abs(M.r2c(M.range[1])-M.r2c(M.range[0])));function U(yt){return(S(yt)+T(yt))/2}C=e.maxHoverDistance-O,p=e.maxSpikeDistance-O;var G=i.getDistanceFunction(h,S,T,U);if(i.getClosest(f,G,e),!1===e.index)return[];var J=f[e.index],et=c.line.color,at=(c.marker||{}).color;e.color=P.opacity(et)&&c.line.width?et:P.opacity(at)&&c.boxpoints?at:c.fillcolor,e[o+"0"]=M.c2p(J.pos+w.bPos-N,!0),e[o+"1"]=M.c2p(J.pos+w.bPos+D,!0),e[o+"LabelVal"]=void 0!==J.orig_p?J.orig_p:J.pos;var lt=o+"Spike";e.spikeDistance=U(J)*p/C,e[lt]=M.c2p(J.pos,!0);var K=c.boxmean||"sd"===c.sizemode||(c.meanline||{}).visible,j=c.boxpoints||c.points,rt=j&&K?["max","uf","q3","med","mean","q1","lf","min"]:j&&!K?["max","uf","q3","med","q1","lf","min"]:!j&&K?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"];c.orientation===(b.range[1]<b.range[0]?"v":"h")&&rt.reverse();for(var Z=e.spikeDistance,it=e[lt],Q=[],Y=0;Y<rt.length;Y++){var nt=rt[Y];if(nt in J){var _=J[nt],st=b.c2p(_,!0),dt=y.extendFlat({},e);dt.attr=nt,dt[v+"0"]=dt[v+"1"]=st,dt[v+"LabelVal"]=_,dt[v+"Label"]=(w.labels?w.labels[nt]+" ":"")+A.hoverLabelText(b,_,c[v+"hoverformat"]),dt.hoverOnBox=!0,"mean"===nt&&"sd"in J&&("sd"===c.boxmean||"sd"===c.sizemode)&&(dt[v+"err"]=J.sd),dt.hovertemplate=!1,Q.push(dt)}}e.name="",e.spikeDistance=void 0,e[lt]=void 0;for(var xt=0;xt<Q.length;xt++)"med"!==Q[xt].attr?(Q[xt].name="",Q[xt].spikeDistance=void 0,Q[xt][lt]=void 0):(Q[xt].spikeDistance=Z,Q[xt][lt]=it);return Q}function r(e,s,a){for(var d,E,x,h=e.cd,f=e.xa,u=e.ya,g=h[0].trace,c=f.c2p(s),w=u.c2p(a),M=i.quadrature(function(B){var O=Math.max(3,B.mrc||0);return Math.max(Math.abs(f.c2p(B.x)-c)-O,1-3/O)},function(B){var O=Math.max(3,B.mrc||0);return Math.max(Math.abs(u.c2p(B.y)-w)-O,1-3/O)}),b=!1,S=0;S<h.length;S++){E=h[S];for(var T=0;T<(E.pts||[]).length;T++){var n=M(x=E.pts[T]);n<=e.distance&&(e.distance=n,b=[S,T])}}if(!b)return!1;var C=f.c2p((x=(E=h[b[0]]).pts[b[1]]).x,!0),p=u.c2p(x.y,!0),F=x.mrc||1;d=y.extendFlat({},e,{index:x.i,color:(g.marker||{}).color,name:g.name,x0:C-F,x1:C+F,y0:p-F,y1:p+F,spikeDistance:e.distance,hovertemplate:g.hovertemplate});var k,D=E.orig_p,N=void 0!==D?D:E.pos;return"h"===g.orientation?(k=u,d.xLabelVal=x.x,d.yLabelVal=N):(k=f,d.xLabelVal=N,d.yLabelVal=x.y),d[k._id.charAt(0)+"Spike"]=k.c2p(E.pos,!0),L(x,g,d),d}tt.exports={hoverPoints:function l(e,s,a,h){var w,g=e.cd[0].trace.hoveron,c=[];return-1!==g.indexOf("boxes")&&(c=c.concat(m(e,s,a,h))),-1!==g.indexOf("points")&&(w=r(e,s,a)),"closest"===h?w?[w]:c:(w&&c.push(w),c)},hoverOnBoxes:m,hoverOnPoints:r}},67244:function(tt,W,t){"use strict";tt.exports={attributes:t(63188),layoutAttributes:t(16560),supplyDefaults:t(90624).supplyDefaults,crossTraceDefaults:t(90624).crossTraceDefaults,supplyLayoutDefaults:t(68832).supplyLayoutDefaults,calc:t(62555),crossTraceCalc:t(96404).crossTraceCalc,plot:t(18728).plot,style:t(25776).style,styleOnSelect:t(25776).styleOnSelect,hoverPoints:t(27576).hoverPoints,eventData:t(10392),selectPoints:t(8264),moduleType:"trace",name:"box",basePlotModule:t(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(tt){"use strict";tt.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(tt,W,t){"use strict";var A=t(24040),y=t(3400),i=t(16560);function P(l,m,r,e,s){for(var a=s+"Layout",h=!1,f=0;f<r.length;f++)if(A.traceIs(r[f],a)){h=!0;break}!h||(e(s+"mode"),e(s+"gap"),e(s+"groupgap"))}tt.exports={supplyLayoutDefaults:function L(l,m,r){P(0,0,r,function e(s,a){return y.coerce(l,m,i,s,a)},"box")},_supply:P}},18728:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=t(43616);function m(s,a,h,f,u){var T,n,g="h"===h.orientation,c=a.val,w=a.pos,d=!!w.rangebreaks,o=f.bPos,v=f.wdPos||0,M=f.bPosPxOffset||0,b=h.whiskerwidth||0,E=!1!==h.showwhiskers,x=h.notched||!1,S=x?1-2*h.notchwidth:1;Array.isArray(f.bdPos)?(T=f.bdPos[0],n=f.bdPos[1]):(T=f.bdPos,n=f.bdPos);var C=s.selectAll("path.box").data("violin"!==h.type||h.box.visible?y.identity:[]);C.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","box"),C.exit().remove(),C.each(function(p){if(p.empty)return A.select(this).attr("d","M0,0Z");var F=w.c2l(p.pos+o,!0),D=w.l2p(F-T)+M,N=w.l2p(F+n)+M,k=d?(D+N)/2:w.l2p(F)+M,z=h.whiskerwidth,B=d?D*z+(1-z)*k:w.l2p(F-v)+M,O=d?N*z+(1-z)*k:w.l2p(F+v)+M,U=w.l2p(F-T*S)+M,G=w.l2p(F+n*S)+M,J="sd"===h.sizemode,et=c.c2p(J?p.mean-p.sd:p.q1,!0),at=c.c2p(J?p.mean+p.sd:p.q3,!0),lt=y.constrain(c.c2p(J?p.mean:p.med,!0),Math.min(et,at)+1,Math.max(et,at)-1),K=void 0===p.lf||!1===h.boxpoints||J,j=c.c2p(K?p.min:p.lf,!0),rt=c.c2p(K?p.max:p.uf,!0),H=c.c2p(p.ln,!0),Z=c.c2p(p.un,!0);g?A.select(this).attr("d","M"+lt+","+U+"V"+G+"M"+et+","+D+"V"+N+(x?"H"+H+"L"+lt+","+G+"L"+Z+","+N:"")+"H"+at+"V"+D+(x?"H"+Z+"L"+lt+","+U+"L"+H+","+D:"")+"Z"+(E?"M"+et+","+k+"H"+j+"M"+at+","+k+"H"+rt+(0===b?"":"M"+j+","+B+"V"+O+"M"+rt+","+B+"V"+O):"")):A.select(this).attr("d","M"+U+","+lt+"H"+G+"M"+D+","+et+"H"+N+(x?"V"+H+"L"+G+","+lt+"L"+N+","+Z:"")+"V"+at+"H"+D+(x?"V"+Z+"L"+U+","+lt+"L"+D+","+H:"")+"Z"+(E?"M"+k+","+et+"V"+j+"M"+k+","+at+"V"+rt+(0===b?"":"M"+B+","+j+"H"+O+"M"+B+","+rt+"H"+O):""))})}function r(s,a,h,f){var u=a.x,g=a.y,c=f.bdPos,w=f.bPos,d=h.boxpoints||h.points;y.seedPseudoRandom();var v=s.selectAll("g.points").data(d?function(b){return b.forEach(function(E){E.t=f,E.trace=h}),b}:[]);v.enter().append("g").attr("class","points"),v.exit().remove();var M=v.selectAll("path").data(function(b){var E,F,x=b.pts2,S=Math.max((b.max-b.min)/10,b.q3-b.q1),T=1e-9*S,n=.01*S,C=[],p=0;if(h.jitter){if(0===S)for(p=1,C=new Array(x.length),E=0;E<x.length;E++)C[E]=1;else for(E=0;E<x.length;E++){var D=Math.max(0,E-5),N=x[D].v,k=Math.min(x.length-1,E+5),z=x[k].v;"all"!==d&&(x[E].v<b.lf?z=Math.min(z,b.lf):N=Math.max(N,b.uf));var B=Math.sqrt(n*(k-D)/(z-N+T))||0;B=y.constrain(Math.abs(B),0,1),C.push(B),p=Math.max(B,p)}F=2*h.jitter/(p||1)}for(E=0;E<x.length;E++){var O=x[E],U=O.v,G=h.jitter?F*C[E]*(y.pseudoRandom()-.5):0,J=b.pos+w+c*(h.pointpos+G);"h"===h.orientation?(O.y=J,O.x=U):(O.x=J,O.y=U),"suspectedoutliers"===d&&U<b.uo&&U>b.lo&&(O.so=!0)}return x});M.enter().append("path").classed("point",!0),M.exit().remove(),M.call(i.translatePoints,u,g)}function e(s,a,h,f){var v,M,u=a.val,g=a.pos,c=!!g.rangebreaks,w=f.bPos,d=f.bPosPxOffset||0,o=h.boxmean||(h.meanline||{}).visible;Array.isArray(f.bdPos)?(v=f.bdPos[0],M=f.bdPos[1]):(v=f.bdPos,M=f.bdPos);var b=s.selectAll("path.mean").data("box"===h.type&&h.boxmean||"violin"===h.type&&h.box.visible&&h.meanline.visible?y.identity:[]);b.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),b.exit().remove(),b.each(function(E){var x=g.c2l(E.pos+w,!0),S=g.l2p(x-v)+d,T=g.l2p(x+M)+d,n=c?(S+T)/2:g.l2p(x)+d,C=u.c2p(E.mean,!0),p=u.c2p(E.mean-E.sd,!0),F=u.c2p(E.mean+E.sd,!0);"h"===h.orientation?A.select(this).attr("d","M"+C+","+S+"V"+T+("sd"===o?"m0,0L"+p+","+n+"L"+C+","+S+"L"+F+","+n+"Z":"")):A.select(this).attr("d","M"+S+","+C+"H"+T+("sd"===o?"m0,0L"+n+","+p+"L"+S+","+C+"L"+n+","+F+"Z":""))})}tt.exports={plot:function l(s,a,h,f){var u=s._context.staticPlot,g=a.xaxis,c=a.yaxis;y.makeTraceGroups(f,h,"trace boxes").each(function(w){var b,E,d=A.select(this),o=w[0],v=o.t,M=o.trace;v.wdPos=v.bdPos*M.whiskerwidth,!0!==M.visible||v.empty?d.remove():("h"===M.orientation?(b=c,E=g):(b=g,E=c),m(d,{pos:b,val:E},M,v,u),r(d,{x:g,y:c},M,v),e(d,{pos:b,val:E},M,v))})},plotBoxAndWhiskers:m,plotPoints:r,plotBoxMean:e}},8264:function(tt){"use strict";tt.exports=function(t,A){var l,m,y=t.cd,i=t.xaxis,P=t.yaxis,L=[];if(!1===A)for(l=0;l<y.length;l++)for(m=0;m<(y[l].pts||[]).length;m++)y[l].pts[m].selected=0;else for(l=0;l<y.length;l++)for(m=0;m<(y[l].pts||[]).length;m++){var r=y[l].pts[m],e=i.c2p(r.x),s=P.c2p(r.y);A.contains([e,s],null,r.i,t)?(L.push({pointNumber:r.i,x:i.c2d(r.x),y:P.c2d(r.y)}),r.selected=1):r.selected=0}return L}},25776:function(tt,W,t){"use strict";var A=t(33428),y=t(76308),i=t(43616);tt.exports={style:function P(l,m,r){var e=r||A.select(l).selectAll("g.trace.boxes");e.style("opacity",function(s){return s[0].trace.opacity}),e.each(function(s){var a=A.select(this),h=s[0].trace,f=h.line.width;function u(w,d,o,v){w.style("stroke-width",d+"px").call(y.stroke,o).call(y.fill,v)}var g=a.selectAll("path.box");if("candlestick"===h.type)g.each(function(w){if(!w.empty){var d=A.select(this),o=h[w.dir];u(d,o.line.width,o.line.color,o.fillcolor),d.style("opacity",h.selectedpoints&&!w.selected?.3:1)}});else{u(g,f,h.line.color,h.fillcolor),a.selectAll("path.mean").style({"stroke-width":f,"stroke-dasharray":2*f+"px,"+f+"px"}).call(y.stroke,h.line.color);var c=a.selectAll("path.point");i.pointStyle(c,h,l)}})},styleOnSelect:function L(l,m,r){var e=m[0].trace,s=r.selectAll("path.point");e.selectedpoints?i.selectedPointStyle(s,e):i.pointStyle(s,e,l)}}},64216:function(tt,W,t){"use strict";var A=t(3400).extendFlat,y=t(29736).axisHoverFormat,i=t(20279),P=t(63188);function L(l){return{line:{color:A({},P.line.color,{dflt:l}),width:P.line.width,editType:"style"},fillcolor:P.fillcolor,editType:"style"}}tt.exports={xperiod:i.xperiod,xperiod0:i.xperiod0,xperiodalignment:i.xperiodalignment,xhoverformat:y("x"),yhoverformat:y("y"),x:i.x,open:i.open,high:i.high,low:i.low,close:i.close,line:{width:A({},P.line.width,{}),editType:"style"},increasing:L(i.increasing.line.color.dflt),decreasing:L(i.decreasing.line.color.dflt),text:i.text,hovertext:i.hovertext,whiskerwidth:A({},P.whiskerwidth,{dflt:0}),hoverlabel:i.hoverlabel}},46283:function(tt,W,t){"use strict";var A=t(3400),y=t(54460),i=t(1220),P=t(42812).calcCommon;function L(l,m,r,e){return{min:r,q1:Math.min(l,e),med:e,q3:Math.max(l,e),max:m}}tt.exports=function(l,m){var r=l._fullLayout,e=y.getFromId(l,m.xaxis),s=y.getFromId(l,m.yaxis),a=e.makeCalcdata(m,"x"),h=i(m,e,"x",a).vals,f=P(l,m,a,h,s,L);return f.length?(A.extendFlat(f[0].t,{num:r._numBoxes,dPos:A.distinctVals(h).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,f):[{t:{empty:!0}}]}},64588:function(tt,W,t){"use strict";var A=t(3400),y=t(76308),i=t(52744),P=t(31147),L=t(64216);function l(m,r,e,s){var a=e(s+".line.color");e(s+".line.width",r.line.width),e(s+".fillcolor",y.addOpacity(a,.5))}tt.exports=function(r,e,s,a){function h(u,g){return A.coerce(r,e,L,u,g)}i(r,e,h,a)?(P(r,e,a,h,{x:!0}),h("xhoverformat"),h("yhoverformat"),h("line.width"),l(0,e,h,"increasing"),l(0,e,h,"decreasing"),h("text"),h("hovertext"),h("whiskerwidth"),a._requestRangeslider[e.xaxis]=!0):e.visible=!1}},61712:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"candlestick",basePlotModule:t(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:t(64216),layoutAttributes:t(16560),supplyLayoutDefaults:t(68832).supplyLayoutDefaults,crossTraceCalc:t(96404).crossTraceCalc,supplyDefaults:t(64588),calc:t(46283),plot:t(18728).plot,layerName:"boxlayer",style:t(25776).style,hoverPoints:t(18720).hoverPoints,selectPoints:t(97384)}},93504:function(tt,W,t){"use strict";var A=t(63856),y=t(31780);tt.exports=function(L,l,m,r,e){r("a")||(r("da"),r("a0")),r("b")||(r("db"),r("b0")),function i(P,L,l,m){["aaxis","baxis"].forEach(function(e){var s=e.charAt(0),a=P[e]||{},h=y.newContainer(L,e);A(a,h,{noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:s+"axis",letter:s,font:L.font,name:e,data:P[s],calendar:L.calendar,dfltColor:m,bgColor:l.paper_bgcolor,autotypenumbersDflt:l.autotypenumbers,fullLayout:l}),h._categories=h._categories||[],!P[e]&&"-"!==a.type&&(P[e]={type:a.type})})}(L,l,m,e)}},51676:function(tt,W,t){"use strict";var A=t(3400).isArrayOrTypedArray;function y(i,P){if(!A(i)||P>=10)return null;for(var L=1/0,l=-1/0,m=i.length,r=0;r<m;r++){var e=i[r];if(A(e)){var s=y(e,P+1);s&&(L=Math.min(s[0],L),l=Math.max(s[1],l))}else L=Math.min(e,L),l=Math.max(e,l)}return[L,l]}tt.exports=function(i){return y(i,0)}},85720:function(tt,W,t){"use strict";var A=t(25376),y=t(98692),i=t(22548),P=A({editType:"calc"});P.family.dflt='"Open Sans", verdana, arial, sans-serif',P.size.dflt=12,P.color.dflt=i.defaultLine,tt.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:y,baxis:y,font:P,color:{valType:"color",dflt:i.defaultLine,editType:"plot"},transforms:void 0}},77712:function(tt,W,t){"use strict";var A=t(3400).isArrayOrTypedArray;tt.exports=function(y,i,P,L){var l,m,r,e,s,a,h,f,u,g,c,w,d,o=A(P)?"a":"b",M=("a"===o?y.aaxis:y.baxis).smoothing,b="a"===o?y.a2i:y.b2j,E="a"===o?P:L,x="a"===o?L:P,S="a"===o?i.a.length:i.b.length,T="a"===o?i.b.length:i.a.length,n=Math.floor("a"===o?y.b2j(x):y.a2i(x)),C="a"===o?function(et){return y.evalxy([],et,n)}:function(et){return y.evalxy([],n,et)};M&&(r=Math.max(0,Math.min(T-2,n)),e=n-r,m="a"===o?function(et,at){return y.dxydi([],et,r,at,e)}:function(et,at){return y.dxydj([],r,et,e,at)});var p=b(E[0]),F=b(E[1]),D=p<F?1:-1,N=1e-8*(F-p),k=D>0?Math.floor:Math.ceil,z=D>0?Math.ceil:Math.floor,B=D>0?Math.min:Math.max,O=D>0?Math.max:Math.min,U=k(p+N),G=z(F-N),J=[[h=C(p)]];for(l=U;l*D<G*D;l+=D)s=[],c=O(p,l),d=(w=B(F,l+D))-c,a=Math.max(0,Math.min(S-2,Math.floor(.5*(c+w)))),f=C(w),M&&(u=m(a,c-a),g=m(a,w-a),s.push([h[0]+u[0]/3*d,h[1]+u[1]/3*d]),s.push([f[0]-g[0]/3*d,f[1]-g[1]/3*d])),s.push(f),J.push(s),h=f;return J}},98692:function(tt,W,t){"use strict";var A=t(25376),y=t(22548),i=t(94724),P=t(29736).descriptionWithDates,L=t(67824).overrideAll,l=t(98192).u,m=t(92880).extendFlat;tt.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:A({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:i.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:m({},i.labelalias,{editType:"calc"}),tickfont:A({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:P("tick label")},tickformatstops:L(i.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:y.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:m({},l,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:m({},l,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:y.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:A({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(tt,W,t){"use strict";var A=t(85720),y=t(76308).addOpacity,i=t(24040),P=t(3400),L=t(26332),l=t(95936),m=t(42568),r=t(22416),e=t(78344),s=t(52976);tt.exports=function(f,u,g){var c=g.letter,w=g.font||{},d=A[c+"axis"];function o(U,G){return P.coerce(f,u,d,U,G)}function v(U,G){return P.coerce2(f,u,d,U,G)}g.name&&(u._name=g.name,u._id=g.name),o("autotypenumbers",g.autotypenumbersDflt);var M=o("type");"-"===M&&(g.data&&function a(h,f){if("-"===h.type){var g=h._id.charAt(0);h.type=s(f,h[g+"calendar"],{autotypenumbers:h.autotypenumbers})}}(u,g.data),"-"===u.type?u.type="linear":M=f.type=u.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",c+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),"array"===u.tickmode&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),u._hovertitle=c,"date"===M&&i.getComponentMethod("calendars","handleDefaults")(f,u,"calendar",g.calendar),e(u,g.fullLayout),u.c2p=P.identity;var E=o("color",g.dfltColor),x=E===f.color?E:w.color;o("title.text")&&(P.coerceFont(o,"title.font",{family:w.family,size:P.bigFont(w.size),color:x}),o("title.offset")),o("tickangle"),o("autorange",!u.isValidRange(f.range))&&o("rangemode"),o("range"),u.cleanRange(),o("fixedrange"),L(f,u,o,M),m(f,u,o,M,g),l(f,u,o,M,g),r(f,u,o,{data:g.data,dataAttr:c});var n=v("gridcolor",y(E,.3)),C=v("gridwidth"),p=v("griddash"),F=o("showgrid");F||(delete u.gridcolor,delete u.gridwidth,delete u.griddash);var D=v("startlinecolor",E),N=v("startlinewidth",C);o("startline",u.showgrid||!!D||!!N)||(delete u.startlinecolor,delete u.startlinewidth);var z=v("endlinecolor",E),B=v("endlinewidth",C);return o("endline",u.showgrid||!!z||!!B)||(delete u.endlinecolor,delete u.endlinewidth),F?(o("minorgridcount"),o("minorgridwidth",C),o("minorgriddash",p),o("minorgridcolor",y(n,.06)),u.minorgridcount||(delete u.minorgridwidth,delete u.minorgriddash,delete u.minorgridcolor)):(delete u.gridcolor,delete u.gridwidth,delete u.griddash),"none"===u.showticklabels&&(delete u.tickfont,delete u.tickangle,delete u.showexponent,delete u.exponentformat,delete u.minexponent,delete u.tickformat,delete u.showticksuffix,delete u.showtickprefix),u.showticksuffix||delete u.ticksuffix,u.showtickprefix||delete u.tickprefix,o("tickmode"),u}},58744:function(tt,W,t){"use strict";var A=t(54460),y=t(3400).isArray1D,i=t(60776),P=t(51676),L=t(19216),l=t(14724),m=t(24944),r=t(26136),e=t(51512),s=t(2872),a=t(81e3);tt.exports=function(f,u){var g=A.getFromId(f,u.xaxis),c=A.getFromId(f,u.yaxis),w=u.aaxis,d=u.baxis,o=u.x,v=u.y,M=[];o&&y(o)&&M.push("x"),v&&y(v)&&M.push("y"),M.length&&s(u,w,d,"a","b",M);var b=u._a=u._a||u.a,E=u._b=u._b||u.b;o=u._x||u.x,v=u._y||u.y;var x={};u._cheater&&(o=i("index"===w.cheatertype?b.length:b,"index"===d.cheatertype?E.length:E,u.cheaterslope)),u._x=o=r(o),u._y=v=r(v),e(o,b,E),e(v,b,E),a(u),u.setScale();var n=P(o),C=P(v),p=.5*(n[1]-n[0]),F=.5*(n[1]+n[0]),D=.5*(C[1]-C[0]),N=.5*(C[1]+C[0]),k=1.3;return C=[N-D*k,N+D*k],u._extremes[g._id]=A.findExtremes(g,n=[F-p*k,F+p*k],{padded:!0}),u._extremes[c._id]=A.findExtremes(c,C,{padded:!0}),L(u,"a","b"),L(u,"b","a"),l(u,w),l(u,d),x.clipsegments=m(u._xctrl,u._yctrl,w,d),x.x=o,x.y=v,x.a=b,x.b=E,[x]}},24944:function(tt){"use strict";tt.exports=function(t,A,y,i){var P,L,l,m=[],r=!!y.smoothing,e=!!i.smoothing,s=t[0].length-1,a=t.length-1;for(P=0,L=[],l=[];P<=s;P++)L[P]=t[0][P],l[P]=A[0][P];for(m.push({x:L,y:l,bicubic:r}),P=0,L=[],l=[];P<=a;P++)L[P]=t[P][s],l[P]=A[P][s];for(m.push({x:L,y:l,bicubic:e}),P=s,L=[],l=[];P>=0;P--)L[s-P]=t[a][P],l[s-P]=A[a][P];for(m.push({x:L,y:l,bicubic:r}),P=a,L=[],l=[];P>=0;P--)L[a-P]=t[P][0],l[a-P]=A[P][0];return m.push({x:L,y:l,bicubic:e}),m}},19216:function(tt,W,t){"use strict";var A=t(54460),y=t(92880).extendFlat;tt.exports=function(P,L,l){var m,r,e,s,a,h,f,u,g,c,w,d,o,v,M=P["_"+L],b=P[L+"axis"],E=b._gridlines=[],x=b._minorgridlines=[],S=b._boundarylines=[],T=P["_"+l],n=P[l+"axis"];"array"===b.tickmode&&(b.tickvals=M.slice());var C=P._xctrl,p=P._yctrl,F=C[0].length,D=C.length,N=P._a.length,k=P._b.length;A.prepTicks(b),"array"===b.tickmode&&delete b.tickvals;var z=b.smoothing?3:1;function B(U){var G,J,et,at,lt,K,j,rt,H,Z,it,Q,Y=[],nt=[],_={};if("b"===L)for(J=P.b2j(U),et=Math.floor(Math.max(0,Math.min(k-2,J))),at=J-et,_.length=k,_.crossLength=N,_.xy=function(st){return P.evalxy([],st,J)},_.dxy=function(st,dt){return P.dxydi([],st,et,dt,at)},G=0;G<N;G++)K=Math.min(N-2,G),j=G-K,rt=P.evalxy([],G,J),n.smoothing&&G>0&&(H=P.dxydi([],G-1,et,0,at),Y.push(lt[0]+H[0]/3),nt.push(lt[1]+H[1]/3),Z=P.dxydi([],G-1,et,1,at),Y.push(rt[0]-Z[0]/3),nt.push(rt[1]-Z[1]/3)),Y.push(rt[0]),nt.push(rt[1]),lt=rt;else for(G=P.a2i(U),K=Math.floor(Math.max(0,Math.min(N-2,G))),j=G-K,_.length=N,_.crossLength=k,_.xy=function(st){return P.evalxy([],G,st)},_.dxy=function(st,dt){return P.dxydj([],K,st,j,dt)},J=0;J<k;J++)et=Math.min(k-2,J),at=J-et,rt=P.evalxy([],G,J),n.smoothing&&J>0&&(it=P.dxydj([],K,J-1,j,0),Y.push(lt[0]+it[0]/3),nt.push(lt[1]+it[1]/3),Q=P.dxydj([],K,J-1,j,1),Y.push(rt[0]-Q[0]/3),nt.push(rt[1]-Q[1]/3)),Y.push(rt[0]),nt.push(rt[1]),lt=rt;return _.axisLetter=L,_.axis=b,_.crossAxis=n,_.value=U,_.constvar=l,_.index=u,_.x=Y,_.y=nt,_.smoothing=n.smoothing,_}function O(U){var G,J,et,at,lt,K=[],j=[],rt={};if(rt.length=M.length,rt.crossLength=T.length,"b"===L)for(et=Math.max(0,Math.min(k-2,U)),lt=Math.min(1,Math.max(0,U-et)),rt.xy=function(H){return P.evalxy([],H,U)},rt.dxy=function(H,Z){return P.dxydi([],H,et,Z,lt)},G=0;G<F;G++)K[G]=C[U*z][G],j[G]=p[U*z][G];else for(J=Math.max(0,Math.min(N-2,U)),at=Math.min(1,Math.max(0,U-J)),rt.xy=function(H){return P.evalxy([],U,H)},rt.dxy=function(H,Z){return P.dxydj([],J,H,at,Z)},G=0;G<D;G++)K[G]=C[G][U*z],j[G]=p[G][U*z];return rt.axisLetter=L,rt.axis=b,rt.crossAxis=n,rt.value=M[U],rt.constvar=l,rt.index=U,rt.x=K,rt.y=j,rt.smoothing=n.smoothing,rt}if("array"===b.tickmode){for(s=5e-15,f=(a=[Math.floor((M.length-1-b.arraytick0)/b.arraydtick*(1+s)),Math.ceil(-b.arraytick0/b.arraydtick/(1+s))].sort(function(U,G){return U-G}))[1]+1,u=h=a[0]-1;u<f;u++)!((r=b.arraytick0+b.arraydtick*u)<0||r>M.length-1)&&E.push(y(O(r),{color:b.gridcolor,width:b.gridwidth,dash:b.griddash}));for(u=h;u<f;u++)if(e=b.arraytick0+b.arraydtick*u,w=Math.min(e+b.arraydtick,M.length-1),!(e<0||e>M.length-1||w<0||w>M.length-1))for(d=M[e],o=M[w],m=0;m<b.minorgridcount;m++)!((v=w-e)<=0)&&!((c=d+(o-d)*(m+1)/(b.minorgridcount+1)*(b.arraydtick/v))<M[0]||c>M[M.length-1])&&x.push(y(B(c),{color:b.minorgridcolor,width:b.minorgridwidth,dash:b.minorgriddash}));b.startline&&S.push(y(O(0),{color:b.startlinecolor,width:b.startlinewidth})),b.endline&&S.push(y(O(M.length-1),{color:b.endlinecolor,width:b.endlinewidth}))}else{for(s=5e-15,f=(a=[Math.floor((M[M.length-1]-b.tick0)/b.dtick*(1+s)),Math.ceil((M[0]-b.tick0)/b.dtick/(1+s))].sort(function(U,G){return U-G}))[1],u=h=a[0];u<=f;u++)E.push(y(B(g=b.tick0+b.dtick*u),{color:b.gridcolor,width:b.gridwidth,dash:b.griddash}));for(u=h-1;u<f+1;u++)for(g=b.tick0+b.dtick*u,m=0;m<b.minorgridcount;m++)!((c=g+b.dtick*(m+1)/(b.minorgridcount+1))<M[0]||c>M[M.length-1])&&x.push(y(B(c),{color:b.minorgridcolor,width:b.minorgridwidth,dash:b.minorgriddash}));b.startline&&S.push(y(B(M[0]),{color:b.startlinecolor,width:b.startlinewidth})),b.endline&&S.push(y(B(M[M.length-1]),{color:b.endlinecolor,width:b.endlinewidth}))}}},14724:function(tt,W,t){"use strict";var A=t(54460),y=t(92880).extendFlat;tt.exports=function(P,L){var l,m,s,a=L._labels=[],h=L._gridlines;for(l=0;l<h.length;l++)s=h[l],-1!==["start","both"].indexOf(L.showticklabels)&&(m=A.tickText(L,s.value),y(m,{prefix:undefined,suffix:undefined,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:0===l,isLast:l===h.length-1}),a.push(m)),-1!==["end","both"].indexOf(L.showticklabels)&&(m=A.tickText(L,s.value),y(m,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:0===l,isLast:l===h.length-1}),a.push(m))}},62284:function(tt){"use strict";tt.exports=function(A,y,i,P){var L=A[0]-y[0],l=A[1]-y[1],m=i[0]-y[0],r=i[1]-y[1],e=Math.pow(L*L+l*l,.25),s=Math.pow(m*m+r*r,.25),a=(s*s*L-e*e*m)*P,h=(s*s*l-e*e*r)*P,f=s*(e+s)*3,u=e*(e+s)*3;return[[y[0]+(f&&a/f),y[1]+(f&&h/f)],[y[0]-(u&&a/u),y[1]-(u&&h/u)]]}},60776:function(tt,W,t){"use strict";var A=t(3400).isArrayOrTypedArray;tt.exports=function(y,i,P){var L,l,m,r,s,a=[],h=A(y)?y.length:y,f=A(i)?i.length:i,u=A(y)?y:null,g=A(i)?i:null;u&&(m=(u.length-1)/(u[u.length-1]-u[0])/(h-1)),g&&(r=(g.length-1)/(g[g.length-1]-g[0])/(f-1));var c,w=1/0,d=-1/0;for(l=0;l<f;l++)for(a[l]=[],s=g?(g[l]-g[0])*r:l/(f-1),L=0;L<h;L++)c=(u?(u[L]-u[0])*m:L/(h-1))-s*P,w=Math.min(c,w),d=Math.max(c,d),a[l][L]=c;var o=1/(d-w),v=-w*o;for(l=0;l<f;l++)for(L=0;L<h;L++)a[l][L]=o*a[l][L]+v;return a}},30180:function(tt,W,t){"use strict";var A=t(62284),y=t(3400).ensureArray;function i(P,L,l){return[(2*(-.5*l[0]+1.5*L[0])+P[0])/3,(2*(-.5*l[1]+1.5*L[1])+P[1])/3]}tt.exports=function(L,l,m,r,e,s){var a,h,f,u,g,c,w,d,o,v,M=m[0].length,b=m.length,E=e?3*M-2:M,x=s?3*b-2:b;for(L=y(L,x),l=y(l,x),f=0;f<x;f++)L[f]=y(L[f],E),l[f]=y(l[f],E);for(h=0,u=0;h<b;h++,u+=s?3:1)for(g=L[u],c=l[u],w=m[h],d=r[h],a=0,f=0;a<M;a++,f+=e?3:1)g[f]=w[a],c[f]=d[a];if(e)for(h=0,u=0;h<b;h++,u+=s?3:1){for(a=1,f=3;a<M-1;a++,f+=3)o=A([m[h][a-1],r[h][a-1]],[m[h][a],r[h][a]],[m[h][a+1],r[h][a+1]],e),L[u][f-1]=o[0][0],l[u][f-1]=o[0][1],L[u][f+1]=o[1][0],l[u][f+1]=o[1][1];v=i([L[u][0],l[u][0]],[L[u][2],l[u][2]],[L[u][3],l[u][3]]),L[u][1]=v[0],l[u][1]=v[1],v=i([L[u][E-1],l[u][E-1]],[L[u][E-3],l[u][E-3]],[L[u][E-4],l[u][E-4]]),L[u][E-2]=v[0],l[u][E-2]=v[1]}if(s)for(f=0;f<E;f++){for(u=3;u<x-3;u+=3)o=A([L[u-3][f],l[u-3][f]],[L[u][f],l[u][f]],[L[u+3][f],l[u+3][f]],s),L[u-1][f]=o[0][0],l[u-1][f]=o[0][1],L[u+1][f]=o[1][0],l[u+1][f]=o[1][1];v=i([L[0][f],l[0][f]],[L[2][f],l[2][f]],[L[3][f],l[3][f]]),L[1][f]=v[0],l[1][f]=v[1],v=i([L[x-1][f],l[x-1][f]],[L[x-3][f],l[x-3][f]],[L[x-4][f],l[x-4][f]]),L[x-2][f]=v[0],l[x-2][f]=v[1]}if(e&&s)for(u=1;u<x;u+=(u+1)%3==0?2:1){for(f=3;f<E-3;f+=3)o=A([L[u][f-3],l[u][f-3]],[L[u][f],l[u][f]],[L[u][f+3],l[u][f+3]],e),L[u][f-1]=.5*(L[u][f-1]+o[0][0]),l[u][f-1]=.5*(l[u][f-1]+o[0][1]),L[u][f+1]=.5*(L[u][f+1]+o[1][0]),l[u][f+1]=.5*(l[u][f+1]+o[1][1]);v=i([L[u][0],l[u][0]],[L[u][2],l[u][2]],[L[u][3],l[u][3]]),L[u][1]=.5*(L[u][1]+v[0]),l[u][1]=.5*(l[u][1]+v[1]),v=i([L[u][E-1],l[u][E-1]],[L[u][E-3],l[u][E-3]],[L[u][E-4],l[u][E-4]]),L[u][E-2]=.5*(L[u][E-2]+v[0]),l[u][E-2]=.5*(l[u][E-2]+v[1])}return[L,l]}},24588:function(tt){"use strict";tt.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(tt){"use strict";tt.exports=function(W,t,A){return t&&A?function(y,i,P,L,l){var a,h;y||(y=[]),i*=3,P*=3;var f=L*L,u=1-L,g=u*u,c=u*L*2,w=-3*g,d=3*(g-c),o=3*(c-f),v=3*f,M=l*l,b=M*l,E=1-l,x=E*E,S=x*E;for(h=0;h<W.length;h++)y[h]=S*(w*(a=W[h])[P][i]+d*a[P][i+1]+o*a[P][i+2]+v*a[P][i+3])+3*(x*l*(w*a[P+1][i]+d*a[P+1][i+1]+o*a[P+1][i+2]+v*a[P+1][i+3])+E*M*(w*a[P+2][i]+d*a[P+2][i+1]+o*a[P+2][i+2]+v*a[P+2][i+3]))+b*(w*a[P+3][i]+d*a[P+3][i+1]+o*a[P+3][i+2]+v*a[P+3][i+3]);return y}:t?function(y,i,P,L,l){var e,s;y||(y=[]),i*=3;var a=L*L,h=1-L,f=h*h,u=h*L*2,g=-3*f,c=3*(f-u),w=3*(u-a),d=3*a,o=1-l;for(e=0;e<W.length;e++)y[e]=o*(g*(s=W[e])[P][i]+c*s[P][i+1]+w*s[P][i+2]+d*s[P][i+3])+l*(g*s[P+1][i]+c*s[P+1][i+1]+w*s[P+1][i+2]+d*s[P+1][i+3]);return y}:A?function(y,i,P,L,l){var a,h;y||(y=[]),P*=3;var f=l*l,u=f*l,g=1-l,c=g*g,w=c*g;for(a=0;a<W.length;a++)y[a]=w*((h=W[a])[P][i+1]-h[P][i])+3*(c*l*(h[P+1][i+1]-h[P+1][i])+g*f*(h[P+2][i+1]-h[P+2][i]))+u*(h[P+3][i+1]-h[P+3][i]);return y}:function(y,i,P,L,l){y||(y=[]);var e,s,a=1-l;for(e=0;e<W.length;e++)y[e]=a*((s=W[e])[P][i+1]-s[P][i])+l*(s[P+1][i+1]-s[P+1][i]);return y}}},24464:function(tt){"use strict";tt.exports=function(W,t,A){return t&&A?function(y,i,P,L,l){var a,h;y||(y=[]),i*=3,P*=3;var f=L*L,u=f*L,g=1-L,c=g*g,w=c*g,d=l*l,o=1-l,v=o*o,M=o*l*2,b=-3*v,E=3*(v-M),x=3*(M-d),S=3*d;for(h=0;h<W.length;h++)y[h]=w*(b*(a=W[h])[P][i]+E*a[P+1][i]+x*a[P+2][i]+S*a[P+3][i])+3*(c*L*(b*a[P][i+1]+E*a[P+1][i+1]+x*a[P+2][i+1]+S*a[P+3][i+1])+g*f*(b*a[P][i+2]+E*a[P+1][i+2]+x*a[P+2][i+2]+S*a[P+3][i+2]))+u*(b*a[P][i+3]+E*a[P+1][i+3]+x*a[P+2][i+3]+S*a[P+3][i+3]);return y}:t?function(y,i,P,L,l){var a,h;y||(y=[]),i*=3;var f=l*l,u=f*l,g=1-l,c=g*g,w=c*g;for(a=0;a<W.length;a++)y[a]=w*((h=W[a])[P+1][i]-h[P][i])+3*(c*l*(h[P+1][i+1]-h[P][i+1])+g*f*(h[P+1][i+2]-h[P][i+2]))+u*(h[P+1][i+3]-h[P][i+3]);return y}:A?function(y,i,P,L,l){var e,s;y||(y=[]),P*=3;var a=1-L,h=l*l,f=1-l,u=f*f,g=f*l*2,c=-3*u,w=3*(u-g),d=3*(g-h),o=3*h;for(e=0;e<W.length;e++)y[e]=a*(c*(s=W[e])[P][i]+w*s[P+1][i]+d*s[P+2][i]+o*s[P+3][i])+L*(c*s[P][i+1]+w*s[P+1][i+1]+d*s[P+2][i+1]+o*s[P+3][i+1]);return y}:function(y,i,P,L,l){y||(y=[]);var e,s,a=1-L;for(e=0;e<W.length;e++)y[e]=a*((s=W[e])[P+1][i]-s[P][i])+L*(s[P+1][i+1]-s[P][i+1]);return y}}},29056:function(tt){"use strict";tt.exports=function(W,t,A,y,i){var P=t-2,L=A-2;return y&&i?function(l,m,r){l||(l=[]);var f,u,g=Math.max(0,Math.min(Math.floor(m),P)),c=Math.max(0,Math.min(Math.floor(r),L)),w=Math.max(0,Math.min(1,m-g)),d=Math.max(0,Math.min(1,r-c));g*=3,c*=3;var o=w*w,v=o*w,M=1-w,b=M*M,E=b*M,x=d*d,S=x*d,T=1-d,n=T*T,C=n*T;for(u=0;u<W.length;u++)l[u]=C*(E*(f=W[u])[c][g]+3*(b*w*f[c][g+1]+M*o*f[c][g+2])+v*f[c][g+3])+3*(n*d*(E*f[c+1][g]+3*(b*w*f[c+1][g+1]+M*o*f[c+1][g+2])+v*f[c+1][g+3])+T*x*(E*f[c+2][g]+3*(b*w*f[c+2][g+1]+M*o*f[c+2][g+2])+v*f[c+2][g+3]))+S*(E*f[c+3][g]+3*(b*w*f[c+3][g+1]+M*o*f[c+3][g+2])+v*f[c+3][g+3]);return l}:y?function(l,m,r){l||(l=[]);var w,d,e=Math.max(0,Math.min(Math.floor(m),P)),s=Math.max(0,Math.min(Math.floor(r),L)),a=Math.max(0,Math.min(1,m-e)),h=Math.max(0,Math.min(1,r-s));e*=3;var o=a*a,v=o*a,M=1-a,b=M*M,E=b*M,x=1-h;for(w=0;w<W.length;w++)l[w]=E*(x*(d=W[w])[s][e]+h*d[s+1][e])+3*(b*a*(x*d[s][e+1]+h*d[s+1][e+1])+M*o*(x*d[s][e+2]+h*d[s+1][e+1]))+v*(x*d[s][e+3]+h*d[s+1][e+1]);return l}:i?function(l,m,r){l||(l=[]);var w,d,e=Math.max(0,Math.min(Math.floor(m),P)),s=Math.max(0,Math.min(Math.floor(r),L)),a=Math.max(0,Math.min(1,m-e)),h=Math.max(0,Math.min(1,r-s));s*=3;var o=h*h,v=o*h,M=1-h,b=M*M,E=b*M,x=1-a;for(w=0;w<W.length;w++)l[w]=E*(x*(d=W[w])[s][e]+a*d[s][e+1])+3*(b*h*(x*d[s+1][e]+a*d[s+1][e+1])+M*o*(x*d[s+2][e]+a*d[s+2][e+1]))+v*(x*d[s+3][e]+a*d[s+3][e+1]);return l}:function(l,m,r){l||(l=[]);var g,c,e=Math.max(0,Math.min(Math.floor(m),P)),s=Math.max(0,Math.min(Math.floor(r),L)),a=Math.max(0,Math.min(1,m-e)),h=Math.max(0,Math.min(1,r-s)),w=1-h,d=1-a;for(g=0;g<W.length;g++)l[g]=w*(d*(c=W[g])[s][e]+a*c[s][e+1])+h*(d*c[s+1][e]+a*c[s+1][e+1]);return l}}},38356:function(tt,W,t){"use strict";var A=t(3400),y=t(86411),i=t(93504),P=t(85720),L=t(22548);tt.exports=function(m,r,e,s){function a(u,g){return A.coerce(m,r,P,u,g)}r._clipPathId="clip"+r.uid+"carpet";var h=a("color",L.defaultLine);A.coerceFont(a,"font"),a("carpet"),i(m,r,s,a,h),r.a&&r.b?(r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0),y(m,r,a)||(r.visible=!1),r._cheater&&a("cheaterslope")):r.visible=!1}},95856:function(tt,W,t){"use strict";tt.exports={attributes:t(85720),supplyDefaults:t(38356),plot:t(164),calc:t(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:t(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(tt){"use strict";tt.exports=function(W,t){for(var y,A=W._fullData.length,i=0;i<A;i++){var P=W._fullData[i];if(P.index!==t.index&&"carpet"===P.type&&(y||(y=P),P.carpet===t.carpet))return P}return y}},53416:function(tt){"use strict";tt.exports=function(t,A,y){if(0===t.length)return"";var i,P=[],L=y?3:1;for(i=0;i<t.length;i+=L)P.push(t[i]+","+A[i]),y&&i<t.length-L&&(P.push("C"),P.push([t[i+1]+","+A[i+1],t[i+2]+","+A[i+2]+" "].join(" ")));return P.join(y?"":"L")}},87072:function(tt,W,t){"use strict";var A=t(3400).isArrayOrTypedArray;tt.exports=function(i,P,L){var l;for(A(i)?i.length>P.length&&(i=i.slice(0,P.length)):i=[],l=0;l<P.length;l++)i[l]=L(P[l]);return i}},15584:function(tt){"use strict";tt.exports=function(t,A,y,i,P,L){var l=P[0]*t.dpdx(A),m=P[1]*t.dpdy(y),r=1,e=1;if(L){var s=Math.sqrt(P[0]*P[0]+P[1]*P[1]),a=Math.sqrt(L[0]*L[0]+L[1]*L[1]);e=Math.max(0,(P[0]*L[0]+P[1]*L[1])/s/a)}var f=180*Math.atan2(m,l)/Math.PI;return f<-90?(f+=180,r=-r):f>90&&(f-=180,r=-r),{angle:f,flip:r,p:t.c2p(i,A,y),offsetMultplier:e}}},164:function(tt,W,t){"use strict";var A=t(33428),y=t(43616),i=t(87072),P=t(53416),L=t(15584),l=t(72736),m=t(3400),r=m.strRotate,e=m.strTranslate,s=t(84284);function h(d,o,v,M,b,E,x){var S="const-"+b+"-lines",T=v.selectAll("."+S).data(E);T.enter().append("path").classed(S,!0).style("vector-effect",x?"none":"non-scaling-stroke"),T.each(function(n){var C=n,F=C.y,D=i([],C.x,d.c2p),N=i([],F,o.c2p),k="M"+P(D,N,C.smoothing);A.select(this).attr("d",k).style("stroke-width",C.width).style("stroke",C.color).style("stroke-dasharray",y.dashStyle(C.dash,C.width)).style("fill","none")}),T.exit().remove()}function f(d,o,v,M,b,E,x,S){var T=E.selectAll("text."+S).data(x);T.enter().append("text").classed(S,!0);var n=0,C={};return T.each(function(p,F){var D;if("auto"===p.axis.tickangle)D=L(M,o,v,p.xy,p.dxy);else{var N=(p.axis.tickangle+180)*Math.PI/180;D=L(M,o,v,p.xy,[Math.cos(N),Math.sin(N)])}F||(C={angle:D.angle,flip:D.flip});var k=(p.endAnchor?-1:1)*D.flip,z=A.select(this).attr({"text-anchor":k>0?"start":"end","data-notex":1}).call(y.font,p.font).text(p.text).call(l.convertToTspans,d),B=y.bBox(this);z.attr("transform",e(D.p[0],D.p[1])+r(D.angle)+e(p.axis.labelpadding*k,.3*B.height)),n=Math.max(n,B.width+p.axis.labelpadding)}),T.exit().remove(),C.maxExtent=n,C}tt.exports=function(o,v,M,b){var E=o._context.staticPlot,x=v.xaxis,S=v.yaxis,n=o._fullLayout._clips;m.makeTraceGroups(b,M,"trace").each(function(C){var p=A.select(this),F=C[0],D=F.trace,N=D.aaxis,k=D.baxis,z=m.ensureSingle(p,"g","minorlayer"),B=m.ensureSingle(p,"g","majorlayer"),O=m.ensureSingle(p,"g","boundarylayer"),U=m.ensureSingle(p,"g","labellayer");p.style("opacity",D.opacity),h(x,S,B,0,"a",N._gridlines,!0),h(x,S,B,0,"b",k._gridlines,!0),h(x,S,z,0,"a",N._minorgridlines,!0),h(x,S,z,0,"b",k._minorgridlines,!0),h(x,S,O,0,"a-boundary",N._boundarylines,E),h(x,S,O,0,"b-boundary",k._boundarylines,E);var G=f(o,x,S,D,0,U,N._labels,"a-label"),J=f(o,x,S,D,0,U,k._labels,"b-label");(function u(d,o,v,M,b,E,x,S){var T,n,C,p,F=m.aggNums(Math.min,null,v.a),D=m.aggNums(Math.max,null,v.a),N=m.aggNums(Math.min,null,v.b),k=m.aggNums(Math.max,null,v.b);C=v.ab2xy(T=.5*(F+D),n=N,!0),p=v.dxyda_rough(T,n),void 0===x.angle&&m.extendFlat(x,L(v,b,E,C,v.dxydb_rough(T,n))),w(d,o,v,0,C,p,v.aaxis,b,E,x,"a-title"),C=v.ab2xy(T=F,n=.5*(N+k),!0),p=v.dxydb_rough(T,n),void 0===S.angle&&m.extendFlat(S,L(v,b,E,C,v.dxyda_rough(T,n))),w(d,o,v,0,C,p,v.baxis,b,E,S,"b-title")})(o,U,D,0,x,S,G,J),function a(d,o,v,M,b){var E,x,S,T,n=v.select("#"+d._clipPathId);n.size()||(n=v.append("clipPath").classed("carpetclip",!0));var C=m.ensureSingle(n,"path","carpetboundary"),p=o.clipsegments,F=[];for(T=0;T<p.length;T++)x=i([],(E=p[T]).x,M.c2p),S=i([],E.y,b.c2p),F.push(P(x,S,E.bicubic));var D="M"+F.join("L")+"Z";n.attr("id",d._clipPathId),C.attr("d",D)}(D,F,n,x,S)})};var g=s.LINE_SPACING,c=(1-s.MID_SHIFT)/g+1;function w(d,o,v,M,b,E,x,S,T,n,C){var p=[];x.title.text&&p.push(x.title.text);var F=o.selectAll("text."+C).data(p),D=n.maxExtent;F.enter().append("text").classed(C,!0),F.each(function(){var N=L(v,S,T,b,E);-1===["start","both"].indexOf(x.showticklabels)&&(D=0);var k=x.title.font.size;D+=k+x.title.offset;var B=(n.angle+(n.flip<0?180:0)-N.angle+450)%360,O=B>90&&B<270,U=A.select(this);U.text(x.title.text).call(l.convertToTspans,d),O&&(D=(-l.lineCount(U)+c)*g*k-D),U.attr("transform",e(N.p[0],N.p[1])+r(N.angle)+e(0,D)).attr("text-anchor","middle").call(y.font,x.title.font)}),F.exit().remove()}},81e3:function(tt,W,t){"use strict";var A=t(24588),y=t(14952).findBin,i=t(30180),P=t(29056),L=t(26435),l=t(24464);tt.exports=function(r){var e=r._a,s=r._b,a=e.length,h=s.length,f=r.aaxis,u=r.baxis,g=e[0],c=e[a-1],w=s[0],d=s[h-1],o=e[e.length-1]-e[0],v=s[s.length-1]-s[0],M=o*A.RELATIVE_CULL_TOLERANCE,b=v*A.RELATIVE_CULL_TOLERANCE;g-=M,c+=M,w-=b,d+=b,r.isVisible=function(E,x){return E>g&&E<c&&x>w&&x<d},r.isOccluded=function(E,x){return E<g||E>c||x<w||x>d},r.setScale=function(){var S=i(r._xctrl,r._yctrl,r._x,r._y,f.smoothing,u.smoothing);r._xctrl=S[0],r._yctrl=S[1],r.evalxy=P([r._xctrl,r._yctrl],a,h,f.smoothing,u.smoothing),r.dxydi=L([r._xctrl,r._yctrl],f.smoothing,u.smoothing),r.dxydj=l([r._xctrl,r._yctrl],f.smoothing,u.smoothing)},r.i2a=function(E){var x=Math.max(0,Math.floor(E[0]),a-2),S=E[0]-x;return(1-S)*e[x]+S*e[x+1]},r.j2b=function(E){var x=Math.max(0,Math.floor(E[1]),a-2),S=E[1]-x;return(1-S)*s[x]+S*s[x+1]},r.ij2ab=function(E){return[r.i2a(E[0]),r.j2b(E[1])]},r.a2i=function(E){var x=Math.max(0,Math.min(y(E,e),a-2)),S=e[x];return Math.max(0,Math.min(a-1,x+(E-S)/(e[x+1]-S)))},r.b2j=function(E){var x=Math.max(0,Math.min(y(E,s),h-2)),S=s[x];return Math.max(0,Math.min(h-1,x+(E-S)/(s[x+1]-S)))},r.ab2ij=function(E){return[r.a2i(E[0]),r.b2j(E[1])]},r.i2c=function(E,x){return r.evalxy([],E,x)},r.ab2xy=function(E,x,S){if(!S&&(E<e[0]||E>e[a-1]|x<s[0]||x>s[h-1]))return[!1,!1];var T=r.a2i(E),n=r.b2j(x),C=r.evalxy([],T,n);if(S){var N,k,z,B,p=0,F=0,D=[];E<e[0]?(N=0,k=0,p=(E-e[0])/(e[1]-e[0])):E>e[a-1]?(N=a-2,k=1,p=(E-e[a-1])/(e[a-1]-e[a-2])):k=T-(N=Math.max(0,Math.min(a-2,Math.floor(T)))),x<s[0]?(z=0,B=0,F=(x-s[0])/(s[1]-s[0])):x>s[h-1]?(z=h-2,B=1,F=(x-s[h-1])/(s[h-1]-s[h-2])):B=n-(z=Math.max(0,Math.min(h-2,Math.floor(n)))),p&&(r.dxydi(D,N,z,k,B),C[0]+=D[0]*p,C[1]+=D[1]*p),F&&(r.dxydj(D,N,z,k,B),C[0]+=D[0]*F,C[1]+=D[1]*F)}return C},r.c2p=function(E,x,S){return[x.c2p(E[0]),S.c2p(E[1])]},r.p2x=function(E,x,S){return[x.p2c(E[0]),S.p2c(E[1])]},r.dadi=function(E){var x=Math.max(0,Math.min(e.length-2,E));return e[x+1]-e[x]},r.dbdj=function(E){var x=Math.max(0,Math.min(s.length-2,E));return s[x+1]-s[x]},r.dxyda=function(E,x,S,T){var n=r.dxydi(null,E,x,S,T),C=r.dadi(E,S);return[n[0]/C,n[1]/C]},r.dxydb=function(E,x,S,T){var n=r.dxydj(null,E,x,S,T),C=r.dbdj(x,T);return[n[0]/C,n[1]/C]},r.dxyda_rough=function(E,x,S){var T=o*(S||.1),n=r.ab2xy(E+T,x,!0),C=r.ab2xy(E-T,x,!0);return[.5*(n[0]-C[0])/T,.5*(n[1]-C[1])/T]},r.dxydb_rough=function(E,x,S){var T=v*(S||.1),n=r.ab2xy(E,x+T,!0),C=r.ab2xy(E,x-T,!0);return[.5*(n[0]-C[0])/T,.5*(n[1]-C[1])/T]},r.dpdx=function(E){return E._m},r.dpdy=function(E){return E._m}}},51512:function(tt,W,t){"use strict";var A=t(3400);tt.exports=function(i,P,L){var l,m,r,e=[],s=[],a=i[0].length,h=i.length;var J,et,lt,at,K,u=0;for(l=0;l<a;l++)for(m=0;m<h;m++)void 0===i[m][l]&&(e.push(l),s.push(m),i[m][l]=(et=m,lt=void 0,at=void 0,K=void 0,at=0,K=0,(J=l)>0&&void 0!==(lt=i[et][J-1])&&(K++,at+=lt),J<a-1&&void 0!==(lt=i[et][J+1])&&(K++,at+=lt),et>0&&void 0!==(lt=i[et-1][J])&&(K++,at+=lt),et<h-1&&void 0!==(lt=i[et+1][J])&&(K++,at+=lt),at/Math.max(1,K))),u=Math.max(u,Math.abs(i[m][l]));if(!e.length)return i;var g,c,w,d,o,v,M,b,E,x,n=0,p=0,F=e.length;do{for(n=0,r=0;r<F;r++){m=s[r];var z,O,U,G,D=0,N=0;0===(l=e[r])?(U=Math.min(a-1,2),N+=(z=i[m][1])+(z-i[m][U])*(P[0]-(O=P[1]))/(O-P[U]),D++):l===a-1&&(U=Math.max(0,a-3),N+=(z=i[m][a-2])+(z-i[m][U])*(P[a-1]-(O=P[a-2]))/(O-P[U]),D++),(0===l||l===a-1)&&m>0&&m<h-1&&(N+=((c=L[m]-L[m-1])*i[m+1][l]+(g=L[m+1]-L[m])*i[m-1][l])/(c+g),D++),0===m?(G=Math.min(h-1,2),N+=(z=i[1][l])+(z-i[G][l])*(L[0]-(O=L[1]))/(O-L[G]),D++):m===h-1&&(G=Math.max(0,h-3),N+=(z=i[h-2][l])+(z-i[G][l])*(L[h-1]-(O=L[h-2]))/(O-L[G]),D++),(0===m||m===h-1)&&l>0&&l<a-1&&(N+=((c=P[l]-P[l-1])*i[m][l+1]+(g=P[l+1]-P[l])*i[m][l-1])/(c+g),D++),D?N/=D:N=((M=(w=P[l+1]-P[l])*(d=P[l]-P[l-1])*(w+d))*((v=L[m]-L[m-1])*i[m+1][l]+(o=L[m+1]-L[m])*i[m-1][l])+(b=o*v*(o+v))*(d*i[m][l+1]+w*i[m][l-1]))/(b*(d+w)+M*(v+o)),n+=(x=(E=N-i[m][l])/u)*x,i[m][l]+=E*(1+(D?0:.85))}n=Math.sqrt(n)}while(p++<100&&n>1e-5);return A.log("Smoother converged to",n,"after",p,"iterations"),i}},86411:function(tt,W,t){"use strict";var A=t(3400).isArray1D;tt.exports=function(i,P,L){var l=L("x"),m=l&&l.length,r=L("y"),e=r&&r.length;if(!m&&!e)return!1;if(P._cheater=!l,m&&!A(l)||e&&!A(r))P._length=null;else{var s=m?l.length:1/0;e&&(s=Math.min(s,r.length)),P.a&&P.a.length&&(s=Math.min(s,P.a.length)),P.b&&P.b.length&&(s=Math.min(s,P.b.length)),P._length=s}return!0}},83372:function(tt,W,t){"use strict";var A=t(21776).Ks,y=t(6096),i=t(49084),P=t(45464),L=t(22548).defaultLine,l=t(92880).extendFlat,m=y.marker.line;tt.exports=l({locations:{valType:"data_array",editType:"calc"},locationmode:y.locationmode,z:{valType:"data_array",editType:"calc"},geojson:l({},y.geojson,{}),featureidkey:y.featureidkey,text:l({},y.text,{}),hovertext:l({},y.hovertext,{}),marker:{line:{color:l({},m.color,{dflt:L}),width:l({},m.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:y.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:y.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:l({},P.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:A(),showlegend:l({},P.showlegend,{dflt:!1})},i("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(tt,W,t){"use strict";var A=t(38248),y=t(39032).BADNUM,i=t(47128),P=t(20148),L=t(4500);function l(m){return m&&"string"==typeof m}tt.exports=function(r,e){var h,s=e._length,a=new Array(s);h=e.geojson?function(w){return l(w)||A(w)}:l;for(var f=0;f<s;f++){var u=a[f]={},g=e.locations[f],c=e.z[f];h(g)&&A(c)?(u.loc=g,u.z=c):(u.loc=null,u.z=y),u.index=f}return P(a,e),i(r,e,{vals:e.z,containerStr:"",cLetter:"z"}),L(a,e),a}},30972:function(tt,W,t){"use strict";var A=t(3400),y=t(27260),i=t(83372);tt.exports=function(L,l,m,r){function e(c,w){return A.coerce(L,l,i,c,w)}var s=e("locations"),a=e("z");if(s&&s.length&&A.isArrayOrTypedArray(a)&&a.length){l._length=Math.min(s.length,a.length);var f,h=e("geojson");("string"==typeof h&&""!==h||A.isPlainObject(h))&&(f="geojson-id"),"geojson-id"===e("locationmode",f)&&e("featureidkey"),e("text"),e("hovertext"),e("hovertemplate"),e("marker.line.width")&&e("marker.line.color"),e("marker.opacity"),y(L,l,r,e,{prefix:"",cLetter:"z"}),A.coerceSelectionMarkerOpacity(l,e)}else l.visible=!1}},52428:function(tt){"use strict";tt.exports=function(t,A,y,i,P){t.location=A.location,t.z=A.z;var L=i[P];return L.fIn&&L.fIn.properties&&(t.properties=L.fIn.properties),t.ct=L.ct,t}},69224:function(tt,W,t){"use strict";var A=t(54460),y=t(83372),i=t(3400).fillText;tt.exports=function(l,m,r){var h,f,u,g,e=l.cd,s=e[0].trace,a=l.subplot,c=[m,r],w=[m+360,r];for(f=0;f<e.length;f++)if(g=!1,(h=e[f])._polygons){for(u=0;u<h._polygons.length;u++)h._polygons[u].contains(c)&&(g=!g),h._polygons[u].contains(w)&&(g=!g);if(g)break}if(g&&h)return l.x0=l.x1=l.xa.c2p(h.ct),l.y0=l.y1=l.ya.c2p(h.ct),l.index=h.index,l.location=h.loc,l.z=h.z,l.zLabel=A.tickText(a.mockAxis,a.mockAxis.c2l(h.z),"hover").text,l.hovertemplate=h.hovertemplate,function P(L,l,m){if(!l.hovertemplate){var r=m.hi||l.hoverinfo,e=String(m.loc),s="all"===r?y.hoverinfo.flags:r.split("+"),a=-1!==s.indexOf("name"),h=-1!==s.indexOf("location"),f=-1!==s.indexOf("z"),u=-1!==s.indexOf("text"),c=[];!a&&h?L.nameOverride=e:(a&&(L.nameOverride=l.name),h&&c.push(e)),f&&c.push(L.zLabel),u&&i(m,l,c),L.extraText=c.join("<br>")}}(l,s,h),[l]}},54272:function(tt,W,t){"use strict";tt.exports={attributes:t(83372),supplyDefaults:t(30972),colorbar:t(96288),calc:t(7924),calcGeoJSON:t(88364).calcGeoJSON,plot:t(88364).plot,style:t(7947).style,styleOnSelect:t(7947).styleOnSelect,hoverPoints:t(69224),eventData:t(52428),selectPoints:t(17328),moduleType:"trace",name:"choropleth",basePlotModule:t(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=t(27144),P=t(59972).getTopojsonFeatures,L=t(19280).findExtremes,l=t(7947).style;tt.exports={calcGeoJSON:function r(e,s){for(var a=e[0].trace,h=s[a.geo],f=h._subplot,u=a.locationmode,g=a._length,c="geojson-id"===u?i.extractTraceFeature(e):P(a,f.topojson),w=[],d=[],o=0;o<g;o++){var v=e[o],M="geojson-id"===u?v.fOut:i.locationToFeature(u,v.loc,c);if(M){v.geojson=M,v.ct=M.properties.ct,v._polygons=i.feature2polygons(M);var b=i.computeBbox(M);w.push(b[0],b[2]),d.push(b[1],b[3])}else v.geojson=null}if("geojson"===h.fitbounds&&"geojson-id"===u){var E=i.computeBbox(i.getTraceGeojson(a));w=[E[0],E[2]],d=[E[1],E[3]]}var x={padded:!0};a._extremes.lon=L(h.lonaxis._ax,w,x),a._extremes.lat=L(h.lataxis._ax,d,x)},plot:function m(e,s,a){var h=s.layers.backplot.select(".choroplethlayer");y.makeTraceGroups(h,a,"trace choropleth").each(function(f){var g=A.select(this).selectAll("path.choroplethlocation").data(y.identity);g.enter().append("path").classed("choroplethlocation",!0),g.exit().remove(),l(e,f)})}}},17328:function(tt){"use strict";tt.exports=function(t,A){var l,m,r,e,s,y=t.cd,i=t.xaxis,P=t.yaxis,L=[];if(!1===A)for(l=0;l<y.length;l++)y[l].selected=0;else for(l=0;l<y.length;l++)(r=(m=y[l]).ct)&&(e=i.c2p(r),s=P.c2p(r),A.contains([e,s],null,l,t)?(L.push({pointNumber:l,lon:r[0],lat:r[1]}),m.selected=1):m.selected=0);return L}},7947:function(tt,W,t){"use strict";var A=t(33428),y=t(76308),i=t(43616),P=t(8932);function l(r,e){var s=e[0].trace,h=e[0].node3.selectAll(".choroplethlocation"),f=s.marker||{},u=f.line||{},g=P.makeColorScaleFuncFromTrace(s);h.each(function(c){A.select(this).attr("fill",g(c.z)).call(y.stroke,c.mlc||u.color).call(i.dashLine,"",c.mlw||u.width||0).style("opacity",f.opacity)}),i.selectedPointStyle(h,s)}tt.exports={style:function L(r,e){e&&l(0,e)},styleOnSelect:function m(r,e){var a=e[0].trace;a.selectedpoints?i.selectedPointStyle(e[0].node3.selectAll(".choroplethlocation"),a):l(0,e)}}},45608:function(tt,W,t){"use strict";var A=t(83372),y=t(49084),i=t(21776).Ks,P=t(45464),L=t(92880).extendFlat;tt.exports=L({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:L({},A.featureidkey,{}),below:{valType:"string",editType:"plot"},text:A.text,hovertext:A.hovertext,marker:{line:{color:L({},A.marker.line.color,{editType:"plot"}),width:L({},A.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:L({},A.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:L({},A.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:L({},A.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:A.hoverinfo,hovertemplate:i({},{keys:["properties"]}),showlegend:L({},P.showlegend,{dflt:!1})},y("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(tt,W,t){"use strict";var A=t(38248),y=t(3400),i=t(8932),P=t(43616),L=t(44808).makeBlank,l=t(27144);function r(e){var h,s=e[0].trace,a=s._opts;if(s.selectedpoints){for(var f=P.makeSelectedPointStyleFns(s),u=0;u<e.length;u++){var g=e[u];g.fOut&&(g.fOut.properties.mo2=f.selectedOpacityFn(g))}h={type:"identity",property:"mo2"}}else h=y.isArrayOrTypedArray(s.marker.opacity)?{type:"identity",property:"mo"}:s.marker.opacity;return y.extendFlat(a.fill.paint,{"fill-opacity":h}),y.extendFlat(a.line.paint,{"line-opacity":h}),a}tt.exports={convert:function m(e){var s=e[0].trace,a=!0===s.visible&&0!==s._length,h={layout:{visibility:"none"},paint:{}},f={layout:{visibility:"none"},paint:{}},u=s._opts={fill:h,line:f,geojson:L()};if(!a)return u;var g=l.extractTraceFeature(e);if(!g)return u;var o,v,M,c=i.makeColorScaleFuncFromTrace(s),w=s.marker,d=w.line||{};y.isArrayOrTypedArray(w.opacity)&&(o=function(n){var C=n.mo;return A(C)?+y.constrain(C,0,1):0}),y.isArrayOrTypedArray(d.color)&&(v=function(n){return n.mlc}),y.isArrayOrTypedArray(d.width)&&(M=function(n){return n.mlw});for(var b=0;b<e.length;b++){var E=e[b],x=E.fOut;if(x){var S=x.properties;S.fc=c(E.z),o&&(S.mo=o(E)),v&&(S.mlc=v(E)),M&&(S.mlw=M(E)),E.ct=S.ct,E._polygons=l.feature2polygons(x)}}var T=o?{type:"identity",property:"mo"}:w.opacity;return y.extendFlat(h.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":T}),y.extendFlat(f.paint,{"line-color":v?{type:"identity",property:"mlc"}:d.color,"line-width":M?{type:"identity",property:"mlw"}:d.width,"line-opacity":T}),h.layout.visibility="visible",f.layout.visibility="visible",u.geojson={type:"FeatureCollection",features:g},r(e),u},convertOnSelect:r}},9352:function(tt,W,t){"use strict";var A=t(3400),y=t(27260),i=t(45608);tt.exports=function(L,l,m,r){function e(u,g){return A.coerce(L,l,i,u,g)}var s=e("locations"),a=e("z"),h=e("geojson");A.isArrayOrTypedArray(s)&&s.length&&A.isArrayOrTypedArray(a)&&a.length&&("string"==typeof h&&""!==h||A.isPlainObject(h))?(e("featureidkey"),l._length=Math.min(s.length,a.length),e("below"),e("text"),e("hovertext"),e("hovertemplate"),e("marker.line.width")&&e("marker.line.color"),e("marker.opacity"),y(L,l,r,e,{prefix:"",cLetter:"z"}),A.coerceSelectionMarkerOpacity(l,e)):l.visible=!1}},85404:function(tt,W,t){"use strict";tt.exports={attributes:t(45608),supplyDefaults:t(9352),colorbar:t(96288),calc:t(7924),plot:t(61288),hoverPoints:t(69224),eventData:t(52428),selectPoints:t(17328),styleOnSelect:function(A,y){y&&y[0].trace._glTrace.updateOnSelect(y)},getBelow:function(A,y){for(var i=y.getMapLayers(),P=i.length-2;P>=0;P--){var L=i[P].id;if("string"==typeof L&&0===L.indexOf("water"))for(var l=P+1;l<i.length;l++)if("string"==typeof(L=i[l].id)&&-1===L.indexOf("plotly-"))return L}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:t(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(tt,W,t){"use strict";var A=t(13504).convert,y=t(13504).convertOnSelect,i=t(47552).traceLayerPrefix;function P(l,m){this.type="choroplethmapbox",this.subplot=l,this.uid=m,this.sourceId="source-"+m,this.layerList=[["fill",i+m+"-fill"],["line",i+m+"-line"]],this.below=null}var L=P.prototype;L.update=function(l){this._update(A(l)),l[0].trace._glTrace=this},L.updateOnSelect=function(l){this._update(y(l))},L._update=function(l){var m=this.subplot,r=this.layerList,e=m.belowLookup["trace-"+this.uid];m.map.getSource(this.sourceId).setData(l.geojson),e!==this.below&&(this._removeLayers(),this._addLayers(l,e),this.below=e);for(var s=0;s<r.length;s++){var a=r[s],f=a[1],u=l[a[0]];m.setOptions(f,"setLayoutProperty",u.layout),"visible"===u.layout.visibility&&m.setOptions(f,"setPaintProperty",u.paint)}},L._addLayers=function(l,m){for(var r=this.subplot,e=this.layerList,s=this.sourceId,a=0;a<e.length;a++){var h=e[a],f=h[0],u=l[f];r.addLayer({type:f,id:h[1],source:s,layout:u.layout,paint:u.paint},m)}},L._removeLayers=function(){for(var l=this.subplot.map,m=this.layerList,r=m.length-1;r>=0;r--)l.removeLayer(m[r][1])},L.dispose=function(){var l=this.subplot.map;this._removeLayers(),l.removeSource(this.sourceId)},tt.exports=function(m,r){var e=r[0].trace,s=new P(m,e.uid),a=s.sourceId,h=A(r),f=s.below=m.belowLookup["trace-"+e.uid];return m.map.addSource(a,{type:"geojson",data:h.geojson}),s._addLayers(h,f),r[0].trace._glTrace=s,s}},86040:function(tt,W,t){"use strict";var A=t(49084),y=t(29736).axisHoverFormat,i=t(21776).Ks,P=t(52948),L=t(45464),l=t(92880).extendFlat,m={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["norm"]}),uhoverformat:y("u",1),vhoverformat:y("v",1),whoverformat:y("w",1),xhoverformat:y("x"),yhoverformat:y("y"),zhoverformat:y("z"),showlegend:l({},L.showlegend,{dflt:!1})};l(m,A("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(e){m[e]=P[e]}),m.hoverinfo=l({},L.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),m.transforms=void 0,tt.exports=m},83344:function(tt,W,t){"use strict";var A=t(47128);tt.exports=function(i,P){for(var L=P.u,l=P.v,m=P.w,r=Math.min(P.x.length,P.y.length,P.z.length,L.length,l.length,m.length),e=-1/0,s=1/0,a=0;a<r;a++){var h=L[a],f=l[a],u=m[a],g=Math.sqrt(h*h+f*f+u*u);e=Math.max(e,g),s=Math.min(s,g)}P._len=r,P._normMax=e,A(i,P,{vals:[s,e],containerStr:"",cLetter:"c"})}},6648:function(tt,W,t){"use strict";var A=t(67792).gl_cone3d,y=t(67792).gl_cone3d.createConeMesh,i=t(3400).simpleMap,P=t(33040).parseColorScale,L=t(8932).extractOpts,l=t(3400).isArrayOrTypedArray,m=t(52094);function r(g,c){this.scene=g,this.uid=c,this.mesh=null,this.data=null}var e=r.prototype;e.handlePick=function(g){if(g.object===this.mesh){var c=g.index=g.data.index,v=this.data.u[c],M=this.data.v[c],b=this.data.w[c];g.traceCoordinate=[this.data.x[c],this.data.y[c],this.data.z[c],v,M,b,Math.sqrt(v*v+M*M+b*b)];var E=this.data.hovertext||this.data.text;return l(E)&&void 0!==E[c]?g.textLabel=E[c]:E&&(g.textLabel=E),!0}};var s={xaxis:0,yaxis:1,zaxis:2},a={tip:1,tail:0,cm:.25,center:.5},h={tip:1,tail:1,cm:.75,center:.5};function f(g,c){var w=g.fullSceneLayout,d=g.dataScale,o={};function v(x,S){var T=w[S],n=d[s[S]];return i(x,function(C){return T.d2l(C)*n})}o.vectors=m(v(c.u,"xaxis"),v(c.v,"yaxis"),v(c.w,"zaxis"),c._len),o.positions=m(v(c.x,"xaxis"),v(c.y,"yaxis"),v(c.z,"zaxis"),c._len);var M=L(c);o.colormap=P(c),o.vertexIntensityBounds=[M.min/c._normMax,M.max/c._normMax],o.coneOffset=a[c.anchor],o.coneSize="scaled"===c.sizemode?c.sizeref||.5:c.sizeref&&c._normMax?c.sizeref/c._normMax:.5;var b=A(o),E=c.lightposition;return b.lightPosition=[E.x,E.y,E.z],b.ambient=c.lighting.ambient,b.diffuse=c.lighting.diffuse,b.specular=c.lighting.specular,b.roughness=c.lighting.roughness,b.fresnel=c.lighting.fresnel,b.opacity=c.opacity,c._pad=h[c.anchor]*b.vectorScale*b.coneScale*c._normMax,b}e.update=function(g){this.data=g;var c=f(this.scene,g);this.mesh.update(c)},e.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},tt.exports=function u(g,c){var w=g.glplot.gl,d=f(g,c),o=y(w,d),v=new r(g,c.uid);return v.mesh=o,v.data=c,o._trace=v,g.glplot.add(o),v}},86096:function(tt,W,t){"use strict";var A=t(3400),y=t(27260),i=t(86040);tt.exports=function(L,l,m,r){function e(c,w){return A.coerce(L,l,i,c,w)}var s=e("u"),a=e("v"),h=e("w"),f=e("x"),u=e("y"),g=e("z");s&&s.length&&a&&a.length&&h&&h.length&&f&&f.length&&u&&u.length&&g&&g.length?(e("sizeref"),e("sizemode"),e("anchor"),e("lighting.ambient"),e("lighting.diffuse"),e("lighting.specular"),e("lighting.roughness"),e("lighting.fresnel"),e("lightposition.x"),e("lightposition.y"),e("lightposition.z"),y(L,l,r,e,{prefix:"",cLetter:"c"}),e("text"),e("hovertext"),e("hovertemplate"),e("uhoverformat"),e("vhoverformat"),e("whoverformat"),e("xhoverformat"),e("yhoverformat"),e("zhoverformat"),l._length=null):l.visible=!1}},26048:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"cone",basePlotModule:t(12536),categories:["gl3d","showLegend"],attributes:t(86040),supplyDefaults:t(86096),colorbar:{min:"cmin",max:"cmax"},calc:t(83344),plot:t(6648),eventData:function(A,y){return A.norm=y.traceCoordinate[6],A},meta:{}}},67104:function(tt,W,t){"use strict";var A=t(83328),y=t(52904),i=t(29736),P=i.axisHoverFormat,L=i.descriptionOnlyNumbers,l=t(49084),m=t(98192).u,r=t(25376),e=t(92880).extendFlat,s=t(69104),a=s.COMPARISON_OPS2,h=s.INTERVAL_OPS,f=y.line;tt.exports=e({z:A.z,x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,text:A.text,hovertext:A.hovertext,transpose:A.transpose,xtype:A.xtype,ytype:A.ytype,xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:A.hovertemplate,texttemplate:e({},A.texttemplate,{}),textfont:e({},A.textfont,{}),hoverongaps:A.hoverongaps,connectgaps:e({},A.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:L("contour label")},operation:{valType:"enumerated",values:[].concat(a).concat(h),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:e({},f.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:m,smoothing:e({},f.smoothing,{}),editType:"plot"}},l("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(tt,W,t){"use strict";var A=t(8932),y=t(19512),i=t(54444),P=t(46960);tt.exports=function(l,m){var r=y(l,m),e=r[0].z;i(m,e);var h,s=m.contours,a=A.extractOpts(m);if("heatmap"===s.coloring&&a.auto&&!1===m.autocontour){var f=s.start,u=P(s),g=s.size||1,c=Math.floor((u-f)/g)+1;isFinite(g)||(g=1,c=1);var w=f-g/2;h=[w,w+c*g]}else h=e;return A.calc(l,m,{vals:h,cLetter:"z"}),r}},56008:function(tt){"use strict";tt.exports=function(W,t){var i,A=W[0],y=A.z;switch(t.type){case"levels":var P=Math.min(y[0][0],y[0][1]);for(i=0;i<W.length;i++){var L=W[i];L.prefixBoundary=!L.edgepaths.length&&(P>L.level||L.starts.length&&P===L.level)}break;case"constraint":if(A.prefixBoundary=!1,A.edgepaths.length)return;var l=A.x.length,m=A.y.length,r=-1/0,e=1/0;for(i=0;i<m;i++)e=Math.min(e,y[i][0]),e=Math.min(e,y[i][l-1]),r=Math.max(r,y[i][0]),r=Math.max(r,y[i][l-1]);for(i=1;i<l-1;i++)e=Math.min(e,y[0][i]),e=Math.min(e,y[m-1][i]),r=Math.max(r,y[0][i]),r=Math.max(r,y[m-1][i]);var a,h,s=t.value;switch(t._operation){case">":s>r&&(A.prefixBoundary=!0);break;case"<":(s<e||A.starts.length&&s===e)&&(A.prefixBoundary=!0);break;case"[]":a=Math.min(s[0],s[1]),((h=Math.max(s[0],s[1]))<e||a>r||A.starts.length&&h===e)&&(A.prefixBoundary=!0);break;case"][":a=Math.min(s[0],s[1]),h=Math.max(s[0],s[1]),a<e&&h>r&&(A.prefixBoundary=!0)}}}},55296:function(tt,W,t){"use strict";var A=t(8932),y=t(41076),i=t(46960);tt.exports={min:"zmin",max:"zmax",calc:function P(L,l,m){var r=l.contours,e=l.line,s=r.size||1,a=r.coloring,h=y(l,{isColorbar:!0});if("heatmap"===a){var f=A.extractOpts(l);m._fillgradient=f.reversescale?A.flipScale(f.colorscale):f.colorscale,m._zrange=[f.min,f.max]}else"fill"===a&&(m._fillcolor=h);m._line={color:"lines"===a?h:e.color,width:!1!==r.showlines?e.width:0,dash:e.dash},m._levels={start:r.start,end:i(r),size:s}}}},93252:function(tt){"use strict";tt.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(tt,W,t){"use strict";var A=t(38248),y=t(17428),i=t(76308),P=i.addOpacity,L=i.opacity,l=t(69104),m=t(3400).isArrayOrTypedArray,r=l.CONSTRAINT_REDUCTION,e=l.COMPARISON_OPS2;tt.exports=function(h,f,u,g,c,w){var o,v,M,d=f.contours,b=u("contours.operation");d._operation=r[b],function s(a,h){var f;-1===e.indexOf(h.operation)?(a("contours.value",[0,1]),m(h.value)?h.value.length>2?h.value=h.value.slice(2):0===h.length?h.value=[0,1]:h.length<2?(f=parseFloat(h.value[0]),h.value=[f,f+1]):h.value=[parseFloat(h.value[0]),parseFloat(h.value[1])]:A(h.value)&&(f=parseFloat(h.value),h.value=[f,f+1])):(a("contours.value",0),A(h.value)||(h.value=m(h.value)?parseFloat(h.value[0]):0))}(u,d),"="===b?o=d.showlines=!0:(o=u("contours.showlines"),M=u("fillcolor",P((h.line||{}).color||c,.5))),o&&(v=u("line.color",M&&L(M)?P(f.fillcolor,1):c),u("line.width",2),u("line.dash")),u("line.smoothing"),y(u,g,v,w)}},3212:function(tt,W,t){"use strict";var A=t(69104),y=t(38248);function i(l,m){var e,r=Array.isArray(m);function s(a){return y(a)?+a:null}return-1!==A.COMPARISON_OPS2.indexOf(l)?e=s(r?m[0]:m):-1!==A.INTERVAL_OPS.indexOf(l)?e=r?[s(m[0]),s(m[1])]:[s(m),s(m)]:-1!==A.SET_OPS.indexOf(l)&&(e=r?m.map(s):[s(m)]),e}function P(l){return function(m){m=i(l,m);var r=Math.min(m[0],m[1]),e=Math.max(m[0],m[1]);return{start:r,end:e,size:e-r}}}function L(l){return function(m){return{start:m=i(l,m),end:1/0,size:1/0}}}tt.exports={"[]":P("[]"),"][":P("]["),">":L(">"),"<":L("<"),"=":L("=")}},84952:function(tt){"use strict";tt.exports=function(t,A,y,i){var P=i("contours.start"),L=i("contours.end"),l=!1===P||!1===L,m=y("contours.size");((l?A.autocontour=!0:y("autocontour",!1))||!m)&&y("ncontours")}},82172:function(tt,W,t){"use strict";var A=t(3400);function y(i){return A.extendFlat({},i,{edgepaths:A.extendDeep([],i.edgepaths),paths:A.extendDeep([],i.paths),starts:A.extendDeep([],i.starts)})}tt.exports=function(i,P){var L,l,m,r=function(a){return a.reverse()},e=function(a){return a};switch(P){case"=":case"<":return i;case">":for(1!==i.length&&A.warn("Contour data invalid for the specified inequality operation."),l=i[0],L=0;L<l.edgepaths.length;L++)l.edgepaths[L]=r(l.edgepaths[L]);for(L=0;L<l.paths.length;L++)l.paths[L]=r(l.paths[L]);for(L=0;L<l.starts.length;L++)l.starts[L]=r(l.starts[L]);return i;case"][":var s=r;r=e,e=s;case"[]":for(2!==i.length&&A.warn("Contour data invalid for the specified inequality range operation."),l=y(i[0]),m=y(i[1]),L=0;L<l.edgepaths.length;L++)l.edgepaths[L]=r(l.edgepaths[L]);for(L=0;L<l.paths.length;L++)l.paths[L]=r(l.paths[L]);for(L=0;L<l.starts.length;L++)l.starts[L]=r(l.starts[L]);for(;m.edgepaths.length;)l.edgepaths.push(e(m.edgepaths.shift()));for(;m.paths.length;)l.paths.push(e(m.paths.shift()));for(;m.starts.length;)l.starts.push(e(m.starts.shift()));return[l]}}},57004:function(tt,W,t){"use strict";var A=t(3400),y=t(51264),i=t(31147),P=t(95536),L=t(84952),l=t(97680),m=t(39096),r=t(67104);tt.exports=function(s,a,h,f){function u(d,o){return A.coerce(s,a,r,d,o)}if(y(s,a,u,f)){i(s,a,f,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hoverongaps"),u("hovertemplate");var w="constraint"===u("contours.type");u("connectgaps",A.isArray1D(a.z)),w?P(s,a,u,f,h):(L(s,a,u,function g(d){return A.coerce2(s,a,r,d)}),l(s,a,u,f)),a.contours&&"heatmap"===a.contours.coloring&&m(u,f)}else a.visible=!1}},61512:function(tt,W,t){"use strict";var A=t(3400),y=t(3212),i=t(46960);tt.exports=function(L,l,m){for(var r="constraint"===L.type?y[L._operation](L.value):L,e=r.size,s=[],a=i(r),h=m.trace._carpetTrace,f=h?{xaxis:h.aaxis,yaxis:h.baxis,x:m.a,y:m.b}:{xaxis:l.xaxis,yaxis:l.yaxis,x:m.x,y:m.y},u=r.start;u<a;u+=e)if(s.push(A.extendFlat({level:u,crossings:{},starts:[],edgepaths:[],paths:[],z:m.z,smoothing:m.trace.line.smoothing},f)),s.length>1e3){A.warn("Too many contours, clipping at 1000",L);break}return s}},46960:function(tt){"use strict";tt.exports=function(t){return t.end+t.size/1e6}},88748:function(tt,W,t){"use strict";var A=t(3400),y=t(93252);function i(r,e,s,a){return Math.abs(r[0]-e[0])<s&&Math.abs(r[1]-e[1])<a}function P(r,e){var s=r[2]-e[2],a=r[3]-e[3];return Math.sqrt(s*s+a*a)}function L(r,e,s,a,h){var M,f=e.join(","),u=r.crossings[f],g=function l(r,e,s){var a=0,h=0;return r>20&&e?208===r||1114===r?a=0===s[0]?1:-1:h=0===s[1]?1:-1:-1!==y.BOTTOMSTART.indexOf(r)?h=1:-1!==y.LEFTSTART.indexOf(r)?a=1:-1!==y.TOPSTART.indexOf(r)?h=-1:a=-1,[a,h]}(u,s,e),c=[m(r,e,[-g[0],-g[1]])],w=r.z.length,d=r.z[0].length,o=e.slice(),v=g.slice();for(M=0;M<1e4;M++){if(u>20?r.crossings[f]=y.SADDLEREMAINDER[u=y.CHOOSESADDLE[u][(g[0]||g[1])<0?0:1]]:delete r.crossings[f],!(g=y.NEWDELTA[u])){A.log("Found bad marching index:",u,e,r.level);break}if(c.push(m(r,e,g)),e[0]+=g[0],e[1]+=g[1],f=e.join(","),i(c[c.length-1],c[c.length-2],a,h)&&c.pop(),e[0]===o[0]&&e[1]===o[1]&&g[0]===v[0]&&g[1]===v[1]||s&&(g[0]&&(e[0]<0||e[0]>d-2)||g[1]&&(e[1]<0||e[1]>w-2)))break;u=r.crossings[f]}1e4===M&&A.log("Infinite loop in contour?");var p,F,D,N,k,z,B,O,U,G,J,x=i(c[0],c[c.length-1],a,h),S=0,T=.2*r.smoothing,n=[],C=0;for(M=1;M<c.length;M++)S+=B=P(c[M],c[M-1]),n.push(B);var et=S/n.length*T;function at(j){return c[j%c.length]}for(M=c.length-2;M>=C;M--)if((p=n[M])<et){for(D=0,F=M-1;F>=C&&p+n[F]<et;F--)p+=n[F];if(x&&M===c.length-2)for(D=0;D<F&&p+n[D]<et;D++)p+=n[D];k=M-F+D+1,z=Math.floor((M+F+D+2)/2),N=x||M!==c.length-2?x||-1!==F?k%2?at(z):[(at(z)[0]+at(z+1)[0])/2,(at(z)[1]+at(z+1)[1])/2]:c[0]:c[c.length-1],c.splice(F+1,M-F+1,N),M=F+1,D&&(C=D),x&&(M===c.length-2?c[D]=c[c.length-1]:0===M&&(c[c.length-1]=c[0]))}for(c.splice(0,C),M=0;M<c.length;M++)c[M].length=2;if(!(c.length<2))if(x)c.pop(),r.paths.push(c);else{s||A.log("Unclosed interior contour?",r.level,o.join(","),c.join("L"));var lt=!1;for(O=0;O<r.edgepaths.length;O++)if(G=r.edgepaths[O],!lt&&i(G[0],c[c.length-1],a,h)){c.pop(),lt=!0;var K=!1;for(U=0;U<r.edgepaths.length;U++)if(i((J=r.edgepaths[U])[J.length-1],c[0],a,h)){K=!0,c.shift(),r.edgepaths.splice(O,1),U===O?r.paths.push(c.concat(J)):(U>O&&U--,r.edgepaths[U]=J.concat(c,G));break}K||(r.edgepaths[O]=c.concat(G))}for(O=0;O<r.edgepaths.length&&!lt;O++)i((G=r.edgepaths[O])[G.length-1],c[0],a,h)&&(c.shift(),r.edgepaths[O]=G.concat(c),lt=!0);lt||r.edgepaths.push(c)}}function m(r,e,s){var a=e[0]+Math.max(s[0],0),h=e[1]+Math.max(s[1],0),f=r.z[h][a],u=r.xaxis,g=r.yaxis;if(s[1]){var c=(r.level-f)/(r.z[h][a+1]-f),w=(1!==c?(1-c)*u.c2l(r.x[a]):0)+(0!==c?c*u.c2l(r.x[a+1]):0);return[u.c2p(u.l2c(w),!0),g.c2p(r.y[h],!0),a+c,h]}var d=(r.level-f)/(r.z[h+1][a]-f),o=(1!==d?(1-d)*g.c2l(r.y[h]):0)+(0!==d?d*g.c2l(r.y[h+1]):0);return[u.c2p(r.x[a],!0),g.c2p(g.l2c(o),!0),a,h+d]}tt.exports=function(e,s,a){var h,u,g,c;for(s=s||.01,a=a||.01,u=0;u<e.length;u++){for(g=e[u],c=0;c<g.starts.length;c++)L(g,g.starts[c],"edge",s,a);for(h=0;Object.keys(g.crossings).length&&h<1e4;)h++,L(g,Object.keys(g.crossings)[0].split(",").map(Number),void 0,s,a);1e4===h&&A.log("Infinite loop in contour?")}}},38200:function(tt,W,t){"use strict";var A=t(76308),y=t(55512);tt.exports=function(P,L,l,m,r){r||(r={}),r.isContour=!0;var e=y(P,L,l,m,r);return e&&e.forEach(function(s){var a=s.trace;"constraint"===a.contours.type&&(a.fillcolor&&A.opacity(a.fillcolor)?s.color=A.addOpacity(a.fillcolor,1):a.contours.showlines&&A.opacity(a.line.color)&&(s.color=A.addOpacity(a.line.color,1)))}),e}},66240:function(tt,W,t){"use strict";tt.exports={attributes:t(67104),supplyDefaults:t(57004),calc:t(20688),plot:t(23676).plot,style:t(52440),colorbar:t(55296),hoverPoints:t(38200),moduleType:"trace",name:"contour",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(tt,W,t){"use strict";var A=t(3400);tt.exports=function(i,P,L,l){if(l||(l={}),i("contours.showlabels")){var r=P.font;A.coerceFont(i,"contours.labelfont",{family:r.family,size:r.size,color:L}),i("contours.labelformat")}!1!==l.hasHover&&i("zhoverformat")}},41076:function(tt,W,t){"use strict";var A=t(33428),y=t(8932),i=t(46960);tt.exports=function(L){var l=L.contours,m=l.start,r=i(l),e=l.size||1,s=Math.floor((r-m)/e)+1,a="lines"===l.coloring?0:1,h=y.extractOpts(L);isFinite(e)||(e=1,s=1);var w,d,f=h.reversescale?y.flipScale(h.colorscale):h.colorscale,u=f.length,g=new Array(u),c=new Array(u),o=h.min,v=h.max;if("heatmap"===l.coloring){for(d=0;d<u;d++)g[d]=(w=f[d])[0]*(v-o)+o,c[d]=w[1];var M=A.extent([o,v,l.start,l.start+e*(s-1)]),b=M[o<v?0:1],E=M[o<v?1:0];b!==o&&(g.splice(0,0,b),c.splice(0,0,c[0])),E!==v&&(g.push(E),c.push(c[c.length-1]))}else{var x=L._input&&"number"==typeof L._input.zmin&&"number"==typeof L._input.zmax;for(x&&(m<=o||r>=v)&&(m<=o&&(m=o),r>=v&&(r=v),s=Math.floor((r-m)/e)+1,a=0),d=0;d<u;d++)g[d]=((w=f[d])[0]*(s+a-1)-a/2)*e+m,c[d]=w[1];(x||L.autocontour)&&(g[0]>o&&(g.unshift(o),c.unshift(c[0])),g[g.length-1]<v&&(g.push(v),c.push(c[c.length-1])))}return y.makeColorScaleFunc({domain:g,range:c},{noNumericCheck:!0})}},72424:function(tt,W,t){"use strict";var A=t(93252);function y(i,P){var L=(P[0][0]>i?0:1)+(P[0][1]>i?0:2)+(P[1][1]>i?0:4)+(P[1][0]>i?0:8);return 5===L||10===L?i>(P[0][0]+P[0][1]+P[1][0]+P[1][1])/4?5===L?713:1114:5===L?104:208:15===L?0:L}tt.exports=function(P){var e,s,a,h,f,u,g,c,w,L=P[0].z,l=L.length,m=L[0].length,r=2===l||2===m;for(s=0;s<l-1;s++)for(h=[],0===s&&(h=h.concat(A.BOTTOMSTART)),s===l-2&&(h=h.concat(A.TOPSTART)),e=0;e<m-1;e++)for(a=h.slice(),0===e&&(a=a.concat(A.LEFTSTART)),e===m-2&&(a=a.concat(A.RIGHTSTART)),f=e+","+s,u=[[L[s][e],L[s][e+1]],[L[s+1][e],L[s+1][e+1]]],w=0;w<P.length;w++)(g=y((c=P[w]).level,u))&&(c.crossings[f]=g,-1!==a.indexOf(g)&&(c.starts.push([e,s]),r&&-1!==a.indexOf(g,a.indexOf(g)+1)&&c.starts.push([e,s])))}},23676:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=t(43616),P=t(8932),L=t(72736),l=t(54460),m=t(78344),r=t(41420),e=t(72424),s=t(88748),a=t(61512),h=t(82172),f=t(56008),u=t(93252),g=u.LABELOPTIMIZER;function d(E,x){var p,F,D,N,k,z,S="",T=0,n=E.edgepaths.map(function(et,at){return at}),C=!0;function O(et){return Math.abs(et[1]-x[2][1])<.01}function U(et){return Math.abs(et[0]-x[0][0])<.01}function G(et){return Math.abs(et[0]-x[2][0])<.01}for(;n.length;){for(z=i.smoothopen(E.edgepaths[T],E.smoothing),S+=C?z:z.replace(/^M/,"L"),n.splice(n.indexOf(T),1),p=E.edgepaths[T][E.edgepaths[T].length-1],N=-1,D=0;D<4;D++){if(!p){y.log("Missing end?",T,E);break}for(Math.abs(p[1]-x[0][1])<.01&&!G(p)?F=x[1]:U(p)?F=x[0]:O(p)?F=x[3]:G(p)&&(F=x[2]),k=0;k<E.edgepaths.length;k++){var J=E.edgepaths[k][0];Math.abs(p[0]-F[0])<.01?Math.abs(p[0]-J[0])<.01&&(J[1]-p[1])*(F[1]-J[1])>=0&&(F=J,N=k):Math.abs(p[1]-F[1])<.01?Math.abs(p[1]-J[1])<.01&&(J[0]-p[0])*(F[0]-J[0])>=0&&(F=J,N=k):y.log("endpt to newendpt is not vert. or horz.",p,F,J)}if(p=F,N>=0)break;S+="L"+F}if(N===E.edgepaths.length){y.log("unclosed perimeter path");break}(C=-1===n.indexOf(T=N))&&(T=n[0],S+="Z")}for(T=0;T<E.paths.length;T++)S+=i.smoothclosed(E.paths[T],E.smoothing);return S}function v(E,x,S,T){var n=x.width/2,C=x.height/2,p=E.x,F=E.y,D=E.theta,N=Math.cos(D)*n,k=Math.sin(D)*n,z=(p>T.center?T.right-p:p-T.left)/(N+Math.abs(Math.sin(D)*C)),B=(F>T.middle?T.bottom-F:F-T.top)/(Math.abs(k)+Math.cos(D)*C);if(z<1||B<1)return 1/0;var O=g.EDGECOST*(1/(z-1)+1/(B-1));O+=g.ANGLECOST*D*D;for(var U=p-N,G=F-k,J=p+N,et=F+k,at=0;at<S.length;at++){var lt=S[at],K=Math.cos(lt.theta)*lt.width/2,j=Math.sin(lt.theta)*lt.width/2,rt=2*y.segmentDistance(U,G,J,et,lt.x-K,lt.y-j,lt.x+K,lt.y+j)/(x.height+lt.height),H=lt.level===x.level,Z=H?g.SAMELEVELDISTANCE:1;if(rt<=Z)return 1/0;O+=g.NEIGHBORCOST*(H?g.SAMELEVELFACTOR:1)/(rt-Z)}return O}function b(E){var C,F,x=E.trace._emptypoints,S=[],T=E.z.length,n=E.z[0].length,p=[];for(C=0;C<n;C++)p.push(1);for(C=0;C<T;C++)S.push(p.slice());for(C=0;C<x.length;C++)S[(F=x[C])[0]][F[1]]=0;return E.zmask=S,S}W.plot=function(x,S,T,n){var C=S.xaxis,p=S.yaxis;y.makeTraceGroups(n,T,"contour").each(function(F){var D=A.select(this),N=F[0],z=N.x,B=N.y,O=N.trace.contours,U=a(O,S,N),G=y.ensureSingle(D,"g","heatmapcoloring"),J=[];"heatmap"===O.coloring&&(J=[F]),r(x,S,J,G),e(U),s(U);var et=C.c2p(z[0],!0),at=C.c2p(z[z.length-1],!0),lt=p.c2p(B[0],!0),K=p.c2p(B[B.length-1],!0),j=[[et,K],[at,K],[at,lt],[et,lt]],rt=U;"constraint"===O.type&&(rt=h(U,O._operation)),function c(E,x,S){var n=y.ensureSingle(E,"g","contourbg").selectAll("path").data("fill"===S.coloring?[0]:[]);n.enter().append("path"),n.exit().remove(),n.attr("d","M"+x.join("L")+"Z").style("stroke","none")}(D,j,O),function w(E,x,S,T){var n="fill"===T.coloring||"constraint"===T.type&&"="!==T._operation,C="M"+S.join("L")+"Z";n&&f(x,T);var F=y.ensureSingle(E,"g","contourfill").selectAll("path").data(n?x:[]);F.enter().append("path"),F.exit().remove(),F.each(function(D){var N=(D.prefixBoundary?C:"")+d(D,S);N?A.select(this).attr("d",N).style("stroke","none"):A.select(this).remove()})}(D,rt,j,O),function o(E,x,S,T,n){var C=S._context.staticPlot,p=y.ensureSingle(E,"g","contourlines"),F=!1!==n.showlines,D=n.showlabels,N=F&&D,k=W.createLines(p,F||D,x,C),z=W.createLineClip(p,N,S,T.trace.uid),B=E.selectAll("g.contourlabels").data(D?[0]:[]);if(B.exit().remove(),B.enter().append("g").classed("contourlabels",!0),D){var O=[],U=[];y.clearLocationCache();var G=W.labelFormatter(S,T),J=i.tester.append("text").attr("data-notex",1).call(i.font,n.labelfont),et=x[0].xaxis,at=x[0].yaxis,lt=et._length,K=at._length,j=et.range,rt=at.range,H=y.aggNums(Math.min,null,T.x),Z=y.aggNums(Math.max,null,T.x),it=y.aggNums(Math.min,null,T.y),Q=y.aggNums(Math.max,null,T.y),Y=Math.max(et.c2p(H,!0),0),nt=Math.min(et.c2p(Z,!0),lt),_=Math.max(at.c2p(Q,!0),0),st=Math.min(at.c2p(it,!0),K),dt={};j[0]<j[1]?(dt.left=Y,dt.right=nt):(dt.left=nt,dt.right=Y),rt[0]<rt[1]?(dt.top=_,dt.bottom=st):(dt.top=st,dt.bottom=_),dt.middle=(dt.top+dt.bottom)/2,dt.center=(dt.left+dt.right)/2,O.push([[dt.left,dt.top],[dt.right,dt.top],[dt.right,dt.bottom],[dt.left,dt.bottom]]);var xt=Math.sqrt(lt*lt+K*K),yt=u.LABELDISTANCE*xt/Math.max(1,x.length/u.LABELINCREASE);k.each(function(St){var Et=W.calcTextOpts(St.level,G,J,S);A.select(this).selectAll("path").each(function(){var gt=y.getVisibleSegment(this,dt,Et.height/2);if(gt&&!(gt.len<(Et.width+Et.height)*u.LABELMIN))for(var Mt=Math.min(Math.ceil(gt.len/yt),u.LABELMAX),Nt=0;Nt<Mt;Nt++){var Gt=W.findBestTextLocation(this,gt,Et,U,dt);if(!Gt)break;W.addLabelData(Gt,Et,U,O)}})}),J.remove(),W.drawLabels(B,U,S,z,N?O:null)}D&&!F&&k.remove()}(D,U,x,N,O),function M(E,x,S,T,n){var C=T.trace,F="clip"+C.uid,D=S._fullLayout._clips.selectAll("#"+F).data(C.connectgaps?[]:[0]);if(D.enter().append("clipPath").classed("contourclip",!0).attr("id",F),D.exit().remove(),!1===C.connectgaps){var N={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:x.xaxis,yaxis:x.yaxis,x:T.x,y:T.y,z:b(T),smoothing:0};e([N]),s([N]),f([N],{type:"levels"}),y.ensureSingle(D,"path","").attr("d",(N.prefixBoundary?"M"+n.join("L")+"Z":"")+d(N,n))}else F=null;i.setClipUrl(E,F,S)}(D,S,x,N,j)})},W.createLines=function(E,x,S,T){var n=S[0].smoothing,C=E.selectAll("g.contourlevel").data(x?S:[]);if(C.exit().remove(),C.enter().append("g").classed("contourlevel",!0),x){var p=C.selectAll("path.openline").data(function(D){return D.pedgepaths||D.edgepaths});p.exit().remove(),p.enter().append("path").classed("openline",!0),p.attr("d",function(D){return i.smoothopen(D,n)}).style("stroke-miterlimit",1).style("vector-effect",T?"none":"non-scaling-stroke");var F=C.selectAll("path.closedline").data(function(D){return D.ppaths||D.paths});F.exit().remove(),F.enter().append("path").classed("closedline",!0),F.attr("d",function(D){return i.smoothclosed(D,n)}).style("stroke-miterlimit",1).style("vector-effect",T?"none":"non-scaling-stroke")}return C},W.createLineClip=function(E,x,S,T){var C=x?"clipline"+T:null,p=S._fullLayout._clips.selectAll("#"+C).data(x?[0]:[]);return p.exit().remove(),p.enter().append("clipPath").classed("contourlineclip",!0).attr("id",C),i.setClipUrl(E,C,S),p},W.labelFormatter=function(E,x){var S=E._fullLayout,T=x.trace,n=T.contours,C={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(n.labelformat)C.tickformat=n.labelformat,m(C,S);else{var p=P.extractOpts(T);if(p&&p.colorbar&&p.colorbar._axis)C=p.colorbar._axis;else{if("constraint"===n.type){var F=n.value;C.range=y.isArrayOrTypedArray(F)?[F[0],F[F.length-1]]:[F,F]}else C.range=[n.start,n.end],C.nticks=(n.end-n.start)/n.size;C.range[0]===C.range[1]&&(C.range[1]+=C.range[0]||1),C.nticks||(C.nticks=1e3),m(C,S),l.prepTicks(C),C._tmin=null,C._tmax=null}}return function(D){return l.tickText(C,D).text}},W.calcTextOpts=function(E,x,S,T){var n=x(E);S.text(n).call(L.convertToTspans,T);var C=S.node(),p=i.bBox(C,!0);return{text:n,width:p.width,height:p.height,fontSize:+C.style["font-size"].replace("px",""),level:E,dy:(p.top+p.bottom)/2}},W.findBestTextLocation=function(E,x,S,T,n){var p,F,D,N,k,C=S.width;x.isClosed?(p=x.min+(F=x.len/g.INITIALSEARCHPOINTS)/2,D=x.max):(p=x.min+(F=(x.len-C)/(g.INITIALSEARCHPOINTS+1))+C/2,D=x.max-(F+C)/2);for(var z=1/0,B=0;B<g.ITERATIONS;B++){for(var O=p;O<D;O+=F){var U=y.getTextLocation(E,x.total,O,C),G=v(U,S,T,n);G<z&&(z=G,k=U,N=O)}if(z>2*g.MAXCOST)break;B&&(F/=2),D=(p=N-F/2)+1.5*F}if(z<=g.MAXCOST)return k},W.addLabelData=function(E,x,S,T){var n=x.fontSize,C=x.width+n/3,p=Math.max(0,x.height-n/3),F=E.x,D=E.y,N=E.theta,k=Math.sin(N),z=Math.cos(N),B=function(U,G){return[F+U*z-G*k,D+U*k+G*z]},O=[B(-C/2,-p/2),B(-C/2,p/2),B(C/2,p/2),B(C/2,-p/2)];S.push({text:x.text,x:F,y:D,dy:x.dy,theta:N,level:x.level,width:C,height:p}),T.push(O)},W.drawLabels=function(E,x,S,T,n){var C=E.selectAll("text").data(x,function(N){return N.text+","+N.x+","+N.y+","+N.theta});if(C.exit().remove(),C.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(N){var k=N.x+Math.sin(N.theta)*N.dy,z=N.y-Math.cos(N.theta)*N.dy;A.select(this).text(N.text).attr({x:k,y:z,transform:"rotate("+180*N.theta/Math.PI+" "+k+" "+z+")"}).call(L.convertToTspans,S)}),n){for(var p="",F=0;F<n.length;F++)p+="M"+n[F].join("L")+"Z";y.ensureSingle(T,"path","").attr("d",p)}}},54444:function(tt,W,t){"use strict";var A=t(54460),y=t(3400);function i(P,L,l){var m={type:"linear",range:[P,L]};return A.autoTicks(m,(L-P)/(l||15)),m}tt.exports=function(L,l){var m=L.contours;if(L.autocontour){var r=L.zmin,e=L.zmax;(L.zauto||void 0===r)&&(r=y.aggNums(Math.min,null,l)),(L.zauto||void 0===e)&&(e=y.aggNums(Math.max,null,l));var s=i(r,e,L.ncontours);m.size=s.dtick,m.start=A.tickFirst(s),s.range.reverse(),m.end=A.tickFirst(s),m.start===r&&(m.start+=m.size),m.end===e&&(m.end-=m.size),m.start>m.end&&(m.start=m.end=(m.start+m.end)/2),L._input.contours||(L._input.contours={}),y.extendFlat(L._input.contours,{start:m.start,end:m.end,size:m.size}),L._input.autocontour=!0}else if("constraint"!==m.type){var u,a=m.start,h=m.end,f=L._input.contours;a>h&&(m.start=f.start=h,h=m.end=f.end=a,a=m.start),m.size>0||(u=a===h?1:i(a,h,L.ncontours).dtick,f.size=m.size=u)}}},52440:function(tt,W,t){"use strict";var A=t(33428),y=t(43616),i=t(41648),P=t(41076);tt.exports=function(l){var m=A.select(l).selectAll("g.contour");m.style("opacity",function(r){return r[0].trace.opacity}),m.each(function(r){var e=A.select(this),s=r[0].trace,a=s.contours,h=s.line,f=a.size||1,u=a.start,g="constraint"===a.type,c=!g&&"lines"===a.coloring,w=!g&&"fill"===a.coloring,d=c||w?P(s):null;e.selectAll("g.contourlevel").each(function(M){A.select(this).selectAll("path").call(y.lineGroupStyle,h.width,c?d(M.level):h.color,h.dash)});var o=a.labelfont;if(e.selectAll("g.contourlabels text").each(function(M){y.font(A.select(this),{family:o.family,size:o.size,color:o.color||(c?d(M.level):h.color)})}),g)e.selectAll("g.contourfill path").style("fill",s.fillcolor);else if(w){var v;e.selectAll("g.contourfill path").style("fill",function(M){return void 0===v&&(v=M.level),d(M.level+.5*f)}),void 0===v&&(v=u),e.selectAll("g.contourbg path").style("fill",d(v-.5*f))}}),i(l)}},97680:function(tt,W,t){"use strict";var A=t(27260),y=t(17428);tt.exports=function(P,L,l,m,r){var s,e=l("contours.coloring"),a="";"fill"===e&&(s=l("contours.showlines")),!1!==s&&("lines"!==e&&(a=l("line.color","#000")),l("line.width",.5),l("line.dash")),"none"!==e&&(!0!==P.showlegend&&(L.showlegend=!1),L._dfltShowLegend=!1,A(P,L,m,l,{prefix:"",cLetter:"z"})),l("line.smoothing"),y(l,m,a,r)}},37960:function(tt,W,t){"use strict";var A=t(83328),y=t(67104),i=t(49084),P=t(92880).extendFlat,L=y.contours;tt.exports=P({carpet:{valType:"string",editType:"calc"},z:A.z,a:A.x,a0:A.x0,da:A.dx,b:A.y,b0:A.y0,db:A.dy,text:A.text,hovertext:A.hovertext,transpose:A.transpose,atype:A.xtype,btype:A.ytype,fillcolor:y.fillcolor,autocontour:y.autocontour,ncontours:y.ncontours,contours:{type:L.type,start:L.start,end:L.end,size:L.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:L.showlines,showlabels:L.showlabels,labelfont:L.labelfont,labelformat:L.labelformat,operation:L.operation,value:L.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:y.line.color,width:y.line.width,dash:y.line.dash,smoothing:y.line.smoothing,editType:"plot"},transforms:void 0},i("",{cLetter:"z",autoColorDflt:!1}))},30572:function(tt,W,t){"use strict";var A=t(47128),y=t(3400),i=t(2872),P=t(26136),L=t(70448),l=t(11240),m=t(35744),r=t(3252),e=t(50948),s=t(54444);tt.exports=function(f,u){var g=u._carpetTrace=e(f,u);if(g&&g.visible&&"legendonly"!==g.visible){if(!u.a||!u.b){var c=f.data[g.index],w=f.data[u.index];w.a||(w.a=c.a),w.b||(w.b=c.b),r(w,u,u._defaultColor,f._fullLayout)}var d=function a(h,f){var w,d,o,v,M,b,E,u=f._carpetTrace,g=u.aaxis,c=u.baxis;g._minDtick=0,c._minDtick=0,y.isArray1D(f.z)&&i(f,g,c,"a","b",["z"]),w=f._a=f._a||f.a,v=f._b=f._b||f.b,w=w?g.makeCalcdata(f,"_a"):[],v=v?c.makeCalcdata(f,"_b"):[],d=f.a0||0,o=f.da||1,M=f.b0||0,b=f.db||1,E=f._z=P(f._z||f.z,f.transpose),f._emptypoints=l(E),L(E,f._emptypoints);var x=y.maxRowLength(E),p={a:m(f,"scaled"===f.xtype?"":w,d,o,x,g),b:m(f,"scaled"===f.ytype?"":v,M,b,E.length,c),z:E};return"levels"===f.contours.type&&"none"!==f.contours.coloring&&A(h,f,{vals:E,containerStr:"",cLetter:"z"}),[p]}(f,u);return s(u,u._z),d}}},3252:function(tt,W,t){"use strict";var A=t(3400),y=t(51264),i=t(37960),P=t(95536),L=t(84952),l=t(97680);tt.exports=function(r,e,s,a){function h(c,w){return A.coerce(r,e,i,c,w)}if(h("carpet"),r.a&&r.b){if(!y(r,e,h,a,"a","b"))return void(e.visible=!1);h("text"),"constraint"===h("contours.type")?P(r,e,h,a,s,{hasHover:!1}):(L(r,e,h,function f(c){return A.coerce2(r,e,i,c)}),l(r,e,h,a,{hasHover:!1}))}else e._defaultColor=s,e._length=null}},40448:function(tt,W,t){"use strict";tt.exports={attributes:t(37960),supplyDefaults:t(3252),colorbar:t(55296),calc:t(30572),plot:t(94440),style:t(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:t(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(tt,W,t){"use strict";var A=t(33428),y=t(87072),i=t(53416),P=t(43616),L=t(3400),l=t(72424),m=t(88748),r=t(23676),e=t(93252),s=t(82172),a=t(61512),h=t(56008),f=t(50948),u=t(77712);function c(x,S,T,n,C,p,F){var D=T._context.staticPlot,N=L.ensureSingle(x,"g","contourlines"),k=!1!==C.showlines,z=C.showlabels,B=k&&z,O=r.createLines(N,k||z,S,D),U=r.createLineClip(N,B,T,n.trace.uid),G=x.selectAll("g.contourlabels").data(z?[0]:[]);if(G.exit().remove(),G.enter().append("g").classed("contourlabels",!0),z){var at=p.xaxis._length,lt=p.yaxis._length,K=[[[0,0],[at,0],[at,lt],[0,lt]]],j=[];L.clearLocationCache();var rt=r.labelFormatter(T,n),H=P.tester.append("text").attr("data-notex",1).call(P.font,C.labelfont),Z={left:0,right:at,center:at/2,top:0,bottom:lt,middle:lt/2},it=Math.sqrt(at*at+lt*lt),Q=e.LABELDISTANCE*it/Math.max(1,S.length/e.LABELINCREASE);O.each(function(Y){var nt=r.calcTextOpts(Y.level,rt,H,T);A.select(this).selectAll("path").each(function(_){var dt=L.getVisibleSegment(this,Z,nt.height/2);if(dt&&(function w(x,S,T,n,C,p){for(var F,D=0;D<T.pedgepaths.length;D++)S===T.pedgepaths[D]&&(F=T.edgepaths[D]);if(F){var N=C.a[0],k=C.a[C.a.length-1],z=C.b[0],B=C.b[C.b.length-1],U=d(x,0,1),G=d(x,n.total,n.total-1),J=O(F[0],U),et=n.total-O(F[F.length-1],G);n.min<J&&(n.min=J),n.max>et&&(n.max=et),n.len=n.max-n.min}function O(at,lt){var j,K=0,rt=.1;return(Math.abs(at[0]-N)<rt||Math.abs(at[0]-k)<rt)&&(j=o(C.dxydb_rough(at[0],at[1],rt)),K=Math.max(K,p*v(lt,j)/2)),(Math.abs(at[1]-z)<rt||Math.abs(at[1]-B)<rt)&&(j=o(C.dxyda_rough(at[0],at[1],rt)),K=Math.max(K,p*v(lt,j)/2)),K}}(this,_,Y,dt,F,nt.height),!(dt.len<(nt.width+nt.height)*e.LABELMIN)))for(var xt=Math.min(Math.ceil(dt.len/Q),e.LABELMAX),yt=0;yt<xt;yt++){var St=r.findBestTextLocation(this,dt,nt,j,Z);if(!St)break;r.addLabelData(St,nt,j,K)}})}),H.remove(),r.drawLabels(G,j,T,U,B?K:null)}z&&!k&&O.remove()}function d(x,S,T){var n=x.getPointAtLength(S),C=x.getPointAtLength(T),p=C.x-n.x,F=C.y-n.y,D=Math.sqrt(p*p+F*F);return[p/D,F/D]}function o(x){var S=Math.sqrt(x[0]*x[0]+x[1]*x[1]);return[x[0]/S,x[1]/S]}function v(x,S){var T=Math.abs(x[0]*S[0]+x[1]*S[1]);return Math.sqrt(1-T*T)/T}function b(x,S,T,n,C,p,F,D,N,k,z){var B="fill"===k;B&&h(C,x.contours);var U=L.ensureSingle(S,"g","contourfill").selectAll("path").data(B?C:[]);U.enter().append("path"),U.exit().remove(),U.each(function(G){var J=(G.prefixBoundary?z:"")+function E(x,S,T,n,C,p,F,D){var N,O,U,G,J,et,at,k="",z=S.edgepaths.map(function(nt,_){return _}),B=!0,lt=1e-4*Math.abs(T[0][0]-T[2][0]),K=1e-4*Math.abs(T[0][1]-T[2][1]);function j(nt){return Math.abs(nt[1]-T[0][1])<K}function rt(nt){return Math.abs(nt[1]-T[2][1])<K}function H(nt){return Math.abs(nt[0]-T[0][0])<lt}function Z(nt){return Math.abs(nt[0]-T[2][0])<lt}function it(nt,_){var st,dt,xt,yt,St="";for(j(nt)&&!Z(nt)||rt(nt)&&!H(nt)?(yt=C.aaxis,xt=u(C,p,[nt[0],_[0]],.5*(nt[1]+_[1]))):(yt=C.baxis,xt=u(C,p,.5*(nt[0]+_[0]),[nt[1],_[1]])),st=1;st<xt.length;st++)for(St+=yt.smoothing?"C":"L",dt=0;dt<xt[st].length;dt++){var Et=xt[st][dt];St+=[F.c2p(Et[0]),D.c2p(Et[1])]+" "}return St}for(N=0,O=null;z.length;){for(O&&(k+=it(O,S.edgepaths[N][0])),at=P.smoothopen(S.edgepaths[N].map(n),S.smoothing),k+=B?at:at.replace(/^M/,"L"),z.splice(z.indexOf(N),1),O=S.edgepaths[N][S.edgepaths[N].length-1],J=-1,G=0;G<4;G++){if(!O){L.log("Missing end?",N,S);break}for(j(O)&&!Z(O)?U=T[1]:H(O)?U=T[0]:rt(O)?U=T[3]:Z(O)&&(U=T[2]),et=0;et<S.edgepaths.length;et++){var Y=S.edgepaths[et][0];Math.abs(O[0]-U[0])<lt?Math.abs(O[0]-Y[0])<lt&&(Y[1]-O[1])*(U[1]-Y[1])>=0&&(U=Y,J=et):Math.abs(O[1]-U[1])<K?Math.abs(O[1]-Y[1])<K&&(Y[0]-O[0])*(U[0]-Y[0])>=0&&(U=Y,J=et):L.log("endpt to newendpt is not vert. or horz.",O,U,Y)}if(J>=0)break;k+=it(O,U),O=U}if(J===S.edgepaths.length){L.log("unclosed perimeter path");break}(B=-1===z.indexOf(N=J))&&(N=z[0],k+=it(O,U)+"Z",O=null)}for(N=0;N<S.paths.length;N++)k+=P.smoothclosed(S.paths[N].map(n),S.smoothing);return k}(0,G,p,F,D,N,T,n);J?A.select(this).attr("d",J).style("stroke","none"):A.select(this).remove()})}tt.exports=function(S,T,n,C){var p=T.xaxis,F=T.yaxis;L.makeTraceGroups(C,n,"contour").each(function(D){var N=A.select(this),k=D[0],z=k.trace,B=z._carpetTrace=f(S,z),O=S.calcdata[B.index][0];if(B.visible&&"legendonly"!==B.visible){var U=k.a,G=k.b,J=z.contours,et=a(J,T,k),at="constraint"===J.type,lt=J._operation,K=at?"="===lt?"lines":"fill":J.coloring,rt=[[U[0],G[G.length-1]],[U[U.length-1],G[G.length-1]],[U[U.length-1],G[0]],[U[0],G[0]]];l(et),m(et,1e-8*(U[U.length-1]-U[0]),1e-8*(G[G.length-1]-G[0]));var it=et;"constraint"===J.type&&(it=s(et,lt)),function g(x,S){var T,n,C,p,F,D,N,k,z;for(T=0;T<x.length;T++){for(F=(p=x[T]).pedgepaths=[],D=p.ppaths=[],n=0;n<p.edgepaths.length;n++){for(z=p.edgepaths[n],N=[],C=0;C<z.length;C++)N[C]=S(z[C]);F.push(N)}for(n=0;n<p.paths.length;n++){for(z=p.paths[n],k=[],C=0;C<z.length;C++)k[C]=S(z[C]);D.push(k)}}}(et,j);var Q,Y,nt,_,st=[];for(_=O.clipsegments.length-1;_>=0;_--)Y=y([],(Q=O.clipsegments[_]).x,p.c2p),nt=y([],Q.y,F.c2p),Y.reverse(),nt.reverse(),st.push(i(Y,nt,Q.bicubic));var dt="M"+st.join("L")+"Z";(function M(x,S,T,n,C,p){var F,D,N,k,B=L.ensureSingle(x,"g","contourbg").selectAll("path").data("fill"!==p||C?[]:[0]);B.enter().append("path"),B.exit().remove();var O=[];for(k=0;k<S.length;k++)D=y([],(F=S[k]).x,T.c2p),N=y([],F.y,n.c2p),O.push(i(D,N,F.bicubic));B.attr("d","M"+O.join("L")+"Z").style("stroke","none")})(N,O.clipsegments,p,F,at,K),b(z,N,p,F,it,rt,j,B,O,K,dt),c(N,et,S,k,J,T,B),P.setClipUrl(N,B._clipPathId,S)}function j(xt){var yt=B.ab2xy(xt[0],xt[1],!0);return[p.c2p(yt[0]),F.c2p(yt[1])]}})}},33928:function(tt,W,t){"use strict";var A=t(49084),y=t(21776).Ks,i=t(45464),P=t(31512),L=t(92880).extendFlat;tt.exports=L({lon:P.lon,lat:P.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:P.text,hovertext:P.hovertext,hoverinfo:L({},i.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:y(),showlegend:L({},i.showlegend,{dflt:!1})},A("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(tt,W,t){"use strict";var A=t(38248),y=t(3400).isArrayOrTypedArray,i=t(39032).BADNUM,P=t(47128),L=t(3400)._;tt.exports=function(m,r){for(var e=r._length,s=new Array(e),a=r.z,h=y(a)&&a.length,f=0;f<e;f++){var u=s[f]={},g=r.lon[f],c=r.lat[f];if(u.lonlat=A(g)&&A(c)?[+g,+c]:[i,i],h){var w=a[f];u.z=A(w)?w:i}}return P(m,r,{vals:h?a:[0,1],containerStr:"",cLetter:"z"}),e&&(s[0].t={labels:{lat:L(m,"lat:")+" ",lon:L(m,"lon:")+" "}}),s}},4629:function(tt,W,t){"use strict";var A=t(38248),y=t(3400),i=t(76308),P=t(8932),L=t(39032).BADNUM,l=t(44808).makeBlank;tt.exports=function(r){var e=r[0].trace,s=!0===e.visible&&0!==e._length,h=e._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:l()};if(!s)return h;var u,f=[],g=e.z,c=e.radius,w=y.isArrayOrTypedArray(g)&&g.length,d=y.isArrayOrTypedArray(c);for(u=0;u<r.length;u++){var o=r[u],v=o.lonlat;if(v[0]!==L){var M={};if(w){var b=o.z;M.z=b!==L?b:0}d&&(M.r=A(c[u])&&c[u]>0?+c[u]:0),f.push({type:"Feature",geometry:{type:"Point",coordinates:v},properties:M})}}var E=P.extractOpts(e),x=E.reversescale?P.flipScale(E.colorscale):E.colorscale,S=x[0][1],n=["interpolate",["linear"],["heatmap-density"],0,i.opacity(S)<1?S:i.addOpacity(S,0)];for(u=1;u<x.length;u++)n.push(x[u][0],x[u][1]);return y.extendFlat(h.heatmap.paint,{"heatmap-weight":w?["interpolate",["linear"],["get","z"],E.min,0,E.max,1]:1/(E.max-E.min),"heatmap-color":n,"heatmap-radius":d?{type:"identity",property:"r"}:e.radius,"heatmap-opacity":e.opacity}),h.geojson={type:"FeatureCollection",features:f},h.heatmap.layout.visibility="visible",h}},97664:function(tt,W,t){"use strict";var A=t(3400),y=t(27260),i=t(33928);tt.exports=function(L,l,m,r){function e(f,u){return A.coerce(L,l,i,f,u)}var s=e("lon")||[],a=e("lat")||[],h=Math.min(s.length,a.length);h?(l._length=h,e("z"),e("radius"),e("below"),e("text"),e("hovertext"),e("hovertemplate"),y(L,l,r,e,{prefix:"",cLetter:"z"})):l.visible=!1}},96176:function(tt){"use strict";tt.exports=function(t,A){return t.lon=A.lon,t.lat=A.lat,t.z=A.z,t}},25336:function(tt,W,t){"use strict";var A=t(54460),y=t(63312).hoverPoints,i=t(63312).getExtraText;tt.exports=function(L,l,m){var r=y(L,l,m);if(r){var e=r[0],s=e.cd,a=s[0].trace,h=s[e.index];if(delete e.color,"z"in h){var f=e.subplot.mockAxis;e.z=h.z,e.zLabel=A.tickText(f,f.c2l(h.z),"hover").text}return e.extraText=i(a,h,s[0].t.labels),[e]}}},15088:function(tt,W,t){"use strict";tt.exports={attributes:t(33928),supplyDefaults:t(97664),colorbar:t(96288),formatLabels:t(11960),calc:t(90876),plot:t(35256),hoverPoints:t(25336),eventData:t(96176),getBelow:function(A,y){for(var i=y.getMapLayers(),P=0;P<i.length;P++){var L=i[P],l=L.id;if("symbol"===L.type&&"string"==typeof l&&-1===l.indexOf("plotly-"))return l}},moduleType:"trace",name:"densitymapbox",basePlotModule:t(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(tt,W,t){"use strict";var A=t(4629),y=t(47552).traceLayerPrefix;function i(L,l){this.type="densitymapbox",this.subplot=L,this.uid=l,this.sourceId="source-"+l,this.layerList=[["heatmap",y+l+"-heatmap"]],this.below=null}var P=i.prototype;P.update=function(L){var l=this.subplot,m=this.layerList,r=A(L),e=l.belowLookup["trace-"+this.uid];l.map.getSource(this.sourceId).setData(r.geojson),e!==this.below&&(this._removeLayers(),this._addLayers(r,e),this.below=e);for(var s=0;s<m.length;s++){var a=m[s],f=a[1],u=r[a[0]];l.setOptions(f,"setLayoutProperty",u.layout),"visible"===u.layout.visibility&&l.setOptions(f,"setPaintProperty",u.paint)}},P._addLayers=function(L,l){for(var m=this.subplot,r=this.layerList,e=this.sourceId,s=0;s<r.length;s++){var a=r[s],h=a[0],f=L[h];m.addLayer({type:h,id:a[1],source:e,layout:f.layout,paint:f.paint},l)}},P._removeLayers=function(){for(var L=this.subplot.map,l=this.layerList,m=l.length-1;m>=0;m--)L.removeLayer(l[m][1])},P.dispose=function(){var L=this.subplot.map;this._removeLayers(),L.removeSource(this.sourceId)},tt.exports=function(l,m){var r=m[0].trace,e=new i(l,r.uid),s=e.sourceId,a=A(m),h=e.below=l.belowLookup["trace-"+r.uid];return l.map.addSource(s,{type:"geojson",data:a.geojson}),e._addLayers(a,h),e}},74248:function(tt,W,t){"use strict";var A=t(3400);tt.exports=function(i,P){for(var L=0;L<i.length;L++)i[L].i=L;A.mergeArray(P.text,i,"tx"),A.mergeArray(P.hovertext,i,"htx");var l=P.marker;if(l){A.mergeArray(l.opacity,i,"mo"),A.mergeArray(l.color,i,"mc");var m=l.line;m&&(A.mergeArray(m.color,i,"mlc"),A.mergeArrayCastPositive(m.width,i,"mlw"))}}},20088:function(tt,W,t){"use strict";var A=t(20832),y=t(52904).line,i=t(45464),P=t(29736).axisHoverFormat,L=t(21776).Ks,l=t(21776).Gw,m=t(74732),r=t(92880).extendFlat,e=t(76308);tt.exports={x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),hovertext:A.hovertext,hovertemplate:L({},{keys:m.eventDataKeys}),hoverinfo:r({},i.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:l({editType:"plot"},{keys:m.eventDataKeys.concat(["label","value"])}),text:A.text,textposition:A.textposition,insidetextanchor:r({},A.insidetextanchor,{dflt:"middle"}),textangle:r({},A.textangle,{dflt:0}),textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:A.outsidetextfont,constraintext:A.constraintext,cliponaxis:A.cliponaxis,orientation:r({},A.orientation,{}),offset:r({},A.offset,{arrayOk:!1}),width:r({},A.width,{arrayOk:!1}),marker:function s(){var a=r({},A.marker);return delete a.pattern,delete a.cornerradius,a}(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},y.color,{dflt:e.defaultLine}),width:r({},y.width,{dflt:0,editType:"plot"}),dash:y.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup}},23096:function(tt,W,t){"use strict";var A=t(54460),y=t(1220),i=t(74248),P=t(4500),L=t(39032).BADNUM;function l(m){return m===L?0:m}tt.exports=function(r,e){var h,f,u,g,c,w,d,o,s=A.getFromId(r,e.xaxis||"x"),a=A.getFromId(r,e.yaxis||"y");"h"===e.orientation?(h=s.makeCalcdata(e,"x"),u=a.makeCalcdata(e,"y"),g=y(e,a,"y",u),c=!!e.yperiodalignment,w="y"):(h=a.makeCalcdata(e,"y"),u=s.makeCalcdata(e,"x"),g=y(e,s,"x",u),c=!!e.xperiodalignment,w="x"),f=g.vals;var E,v=Math.min(f.length,h.length),M=new Array(v);for(e._base=[],d=0;d<v;d++){h[d]<0&&(h[d]=L);var b=!1;h[d]!==L&&d+1<v&&h[d+1]!==L&&(b=!0),o=M[d]={p:f[d],s:h[d],cNext:b},e._base[d]=-.5*o.s,c&&(M[d].orig_p=u[d],M[d][w+"End"]=g.ends[d],M[d][w+"Start"]=g.starts[d]),e.ids&&(o.id=String(e.ids[d])),0===d&&(M[0].vTotal=0),M[0].vTotal+=l(o.s),o.begR=l(o.s)/l(M[0].s)}for(d=0;d<v;d++)(o=M[d]).s!==L&&(o.sumR=o.s/M[0].vTotal,o.difR=void 0!==E?o.s/E:1,E=o.s);return i(M,e),P(M,e),M}},74732:function(tt){"use strict";tt.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(tt,W,t){"use strict";var A=t(96376).setGroupPositions;tt.exports=function(i,P){var f,u,L=i._fullLayout,l=i._fullData,m=i.calcdata,r=P.xaxis,e=P.yaxis,s=[],a=[],h=[];for(u=0;u<l.length;u++){var g=l[u];!0===g.visible&&g.xaxis===r._id&&g.yaxis===e._id&&"funnel"===g.type&&(f=m[u],"h"===g.orientation?h.push(f):a.push(f),s.push(f))}var w={mode:L.funnelmode,norm:L.funnelnorm,gap:L.funnelgap,groupgap:L.funnelgroupgap};for(A(i,r,e,a,w),A(i,e,r,h,w),u=0;u<s.length;u++){f=s[u];for(var d=0;d<f.length;d++)d+1<f.length&&(f[d].nextP0=f[d+1].p0,f[d].nextS0=f[d+1].s0,f[d].nextP1=f[d+1].p1,f[d].nextS1=f[d+1].s1)}}},45432:function(tt,W,t){"use strict";var A=t(3400),y=t(20011),i=t(31508).handleText,P=t(43980),L=t(31147),l=t(20088),m=t(76308);tt.exports={supplyDefaults:function r(a,h,f,u){function g(b,E){return A.coerce(a,h,l,b,E)}if(P(a,h,u,g)){L(a,h,u,g),g("xhoverformat"),g("yhoverformat"),g("orientation",h.y&&!h.x?"v":"h"),g("offset"),g("width");var w=g("text");g("hovertext"),g("hovertemplate");var d=g("textposition");i(a,h,u,g,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==h.textposition&&!h.texttemplate&&g("textinfo",A.isArrayOrTypedArray(w)?"text+value":"value");var o=g("marker.color",f);g("marker.line.color",m.defaultLine),g("marker.line.width"),g("connector.visible")&&(g("connector.fillcolor",function e(a){var h=A.isArrayOrTypedArray(a)?"#000":a;return m.addOpacity(h,.5*m.opacity(h))}(o)),g("connector.line.width")&&(g("connector.line.color"),g("connector.line.dash")))}else h.visible=!1},crossTraceDefaults:function s(a,h){var u;function g(w){return A.coerce(u._input,u,l,w)}if("group"===h.funnelmode)for(var c=0;c<a.length;c++)y((u=a[c])._input,u,h,g)}}},34580:function(tt){"use strict";tt.exports=function(t,A){return t.x="xVal"in A?A.xVal:A.x,t.y="yVal"in A?A.yVal:A.y,"percentInitial"in A&&(t.percentInitial=A.percentInitial),"percentPrevious"in A&&(t.percentPrevious=A.percentPrevious),"percentTotal"in A&&(t.percentTotal=A.percentTotal),A.xa&&(t.xaxis=A.xa),A.ya&&(t.yaxis=A.ya),t}},31488:function(tt,W,t){"use strict";var A=t(76308).opacity,y=t(63400).hoverOnBars,i=t(3400).formatPercent;tt.exports=function(l,m,r,e,s){var a=y(l,m,r,e,s);if(a){var h=a.cd,f=h[0].trace,c=h[a.index];a[("h"===f.orientation?"x":"y")+"LabelVal"]=c.s,a.percentInitial=c.begR,a.percentInitialLabel=i(c.begR,1),a.percentPrevious=c.difR,a.percentPreviousLabel=i(c.difR,1),a.percentTotal=c.sumR,a.percentTotalLabel=i(c.sumR,1);var d=c.hi||f.hoverinfo,o=[];if(d&&"none"!==d&&"skip"!==d){var v="all"===d,M=d.split("+"),b=function(E){return v||-1!==M.indexOf(E)};b("percent initial")&&o.push(a.percentInitialLabel+" of initial"),b("percent previous")&&o.push(a.percentPreviousLabel+" of previous"),b("percent total")&&o.push(a.percentTotalLabel+" of total")}return a.extraText=o.join("<br>"),a.color=function P(L,l){var m=L.marker,r=l.mc||m.color,e=l.mlc||m.line.color,s=l.mlw||m.line.width;return A(r)?r:A(e)&&s?e:void 0}(f,c),[a]}}},94704:function(tt,W,t){"use strict";tt.exports={attributes:t(20088),layoutAttributes:t(7076),supplyDefaults:t(45432).supplyDefaults,crossTraceDefaults:t(45432).crossTraceDefaults,supplyLayoutDefaults:t(11631),calc:t(23096),crossTraceCalc:t(4804),plot:t(42200),style:t(44544).style,hoverPoints:t(31488),eventData:t(34580),selectPoints:t(45784),moduleType:"trace",name:"funnel",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(tt){"use strict";tt.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(tt,W,t){"use strict";var A=t(3400),y=t(7076);tt.exports=function(i,P,L){var l=!1;function m(s,a){return A.coerce(i,P,y,s,a)}for(var r=0;r<L.length;r++){var e=L[r];if(e.visible&&"funnel"===e.type){l=!0;break}}l&&(m("funnelmode"),m("funnelgap",.2),m("funnelgroupgap"))}},42200:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=t(43616),P=t(39032).BADNUM,L=t(98184),l=t(82744).clearMinTextSize;function e(s,a,h,f){var u=[],g=[],c=f?a:h,w=f?h:a;return u[0]=c.c2p(s.s0,!0),g[0]=w.c2p(s.p0,!0),u[1]=c.c2p(s.s1,!0),g[1]=w.c2p(s.p1,!0),u[2]=c.c2p(s.nextS0,!0),g[2]=w.c2p(s.nextP0,!0),u[3]=c.c2p(s.nextS1,!0),g[3]=w.c2p(s.nextP1,!0),f?[u,g]:[g,u]}tt.exports=function(a,h,f,u){var g=a._fullLayout;l("funnel",g),function m(s,a,h,f){var u=a.xaxis,g=a.yaxis;y.makeTraceGroups(f,h,"trace bars").each(function(c){var w=A.select(this),d=c[0].trace,o=y.ensureSingle(w,"g","regions");if(d.connector&&d.connector.visible){var v="h"===d.orientation,M=o.selectAll("g.region").data(y.identity);M.enter().append("g").classed("region",!0),M.exit().remove();var b=M.size();M.each(function(E,x){if(x===b-1||E.cNext){var S=e(E,u,g,v),T=S[0],n=S[1],C="";T[0]!==P&&n[0]!==P&&T[1]!==P&&n[1]!==P&&T[2]!==P&&n[2]!==P&&T[3]!==P&&n[3]!==P&&(C+=v?"M"+T[0]+","+n[1]+"L"+T[2]+","+n[2]+"H"+T[3]+"L"+T[1]+","+n[1]+"Z":"M"+T[1]+","+n[1]+"L"+T[2]+","+n[3]+"V"+n[2]+"L"+T[1]+","+n[0]+"Z"),""===C&&(C="M0,0Z"),y.ensureSingle(A.select(this),"path").attr("d",C).call(i.setClipUrl,a.layerClipId,s)}})}else o.remove()})}(a,h,f,u),function r(s,a,h,f){var u=a.xaxis,g=a.yaxis;y.makeTraceGroups(f,h,"trace bars").each(function(c){var w=A.select(this),d=c[0].trace,o=y.ensureSingle(w,"g","lines");if(d.connector&&d.connector.visible&&d.connector.line.width){var v="h"===d.orientation,M=o.selectAll("g.line").data(y.identity);M.enter().append("g").classed("line",!0),M.exit().remove();var b=M.size();M.each(function(E,x){if(x===b-1||E.cNext){var S=e(E,u,g,v),T=S[0],n=S[1],C="";void 0!==T[3]&&void 0!==n[3]&&(v?(C+="M"+T[0]+","+n[1]+"L"+T[2]+","+n[2],C+="M"+T[1]+","+n[1]+"L"+T[3]+","+n[2]):(C+="M"+T[1]+","+n[1]+"L"+T[2]+","+n[3],C+="M"+T[1]+","+n[0]+"L"+T[2]+","+n[2])),""===C&&(C="M0,0Z"),y.ensureSingle(A.select(this),"path").attr("d",C).call(i.setClipUrl,a.layerClipId,s)}})}else o.remove()})}(a,h,f,u),L.plot(a,h,f,u,{mode:g.funnelmode,norm:g.funnelmode,gap:g.funnelgap,groupgap:g.funnelgroupgap})}},44544:function(tt,W,t){"use strict";var A=t(33428),y=t(43616),i=t(76308),P=t(13448).DESELECTDIM,L=t(60100),l=t(82744).resizeText,m=L.styleTextPoints;tt.exports={style:function r(e,s,a){var h=a||A.select(e).selectAll("g.funnellayer").selectAll("g.trace");l(e,h,"funnel"),h.style("opacity",function(f){return f[0].trace.opacity}),h.each(function(f){var u=A.select(this),g=f[0].trace;u.selectAll(".point > path").each(function(c){if(!c.isBlank){var w=g.marker;A.select(this).call(i.fill,c.mc||w.color).call(i.stroke,c.mlc||w.line.color).call(y.dashLine,w.line.dash,c.mlw||w.line.width).style("opacity",g.selectedpoints&&!c.selected?P:1)}}),m(u,g,e),u.selectAll(".regions").each(function(){A.select(this).selectAll("path").style("stroke-width",0).call(i.fill,g.connector.fillcolor)}),u.selectAll(".lines").each(function(){var c=g.connector.line;y.lineGroupStyle(A.select(this).selectAll("path"),c.width,c.color,c.dash)})})}}},22332:function(tt,W,t){"use strict";var A=t(74996),y=t(45464),i=t(86968).u,P=t(21776).Ks,L=t(21776).Gw,l=t(92880).extendFlat;tt.exports={labels:A.labels,label0:A.label0,dlabel:A.dlabel,values:A.values,marker:{colors:A.marker.colors,line:{color:l({},A.marker.line.color,{dflt:null}),width:l({},A.marker.line.width,{dflt:1}),editType:"calc"},pattern:A.marker.pattern,editType:"calc"},text:A.text,hovertext:A.hovertext,scalegroup:l({},A.scalegroup,{}),textinfo:l({},A.textinfo,{flags:["label","text","value","percent"]}),texttemplate:L({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:l({},y.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:P({},{keys:["label","color","value","text","percent"]}),textposition:l({},A.textposition,{values:["inside","none"],dflt:"inside"}),textfont:A.textfont,insidetextfont:A.insidetextfont,title:{text:A.title.text,font:A.title.font,position:l({},A.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:i({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(tt,W,t){"use strict";var A=t(7316);W.name="funnelarea",W.plot=function(y,i,P,L){A.plotBasePlot(W.name,y,i,P,L)},W.clean=function(y,i,P,L){A.cleanBasePlot(W.name,y,i,P,L)}},54e3:function(tt,W,t){"use strict";var A=t(45768);tt.exports={calc:function y(P,L){return A.calc(P,L)},crossTraceCalc:function i(P){A.crossTraceCalc(P,{type:"funnelarea"})}}},92688:function(tt,W,t){"use strict";var A=t(3400),y=t(22332),i=t(86968).Q,P=t(31508).handleText,L=t(74174).handleLabelsAndValues,l=t(74174).handleMarkerDefaults;tt.exports=function(r,e,s,a){function h(b,E){return A.coerce(r,e,y,b,E)}var f=h("labels"),u=h("values"),g=L(f,u),c=g.len;if(e._hasLabels=g.hasLabels,e._hasValues=g.hasValues,!e._hasLabels&&e._hasValues&&(h("label0"),h("dlabel")),c){e._length=c,l(r,e,a,h),h("scalegroup");var o,w=h("text"),d=h("texttemplate");if(d||(o=h("textinfo",Array.isArray(w)?"text+percent":"percent")),h("hovertext"),h("hovertemplate"),d||o&&"none"!==o){var v=h("textposition");P(r,e,a,h,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}i(e,a,h),h("title.text")&&(h("title.position"),A.coerceFont(h,"title.font",a.font)),h("aspectratio"),h("baseratio")}else e.visible=!1}},62396:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"funnelarea",basePlotModule:t(91248),categories:["pie-like","funnelarea","showLegend"],attributes:t(22332),layoutAttributes:t(61280),supplyDefaults:t(92688),supplyLayoutDefaults:t(35384),calc:t(54e3).calc,crossTraceCalc:t(54e3).crossTraceCalc,plot:t(39472),style:t(62096),styleOne:t(10528),meta:{}}},61280:function(tt,W,t){"use strict";var A=t(85204).hiddenlabels;tt.exports={hiddenlabels:A,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(tt,W,t){"use strict";var A=t(3400),y=t(61280);tt.exports=function(P,L){function l(m,r){return A.coerce(P,L,y,m,r)}l("hiddenlabels"),l("funnelareacolorway",L.colorway),l("extendfunnelareacolors")}},39472:function(tt,W,t){"use strict";var A=t(33428),y=t(43616),i=t(3400),P=i.strScale,L=i.strTranslate,l=t(72736),r=t(98184).toMoveInsideBar,e=t(82744),s=e.recordMinTextSize,a=e.clearMinTextSize,h=t(69656),f=t(37820),u=f.attachFxHandlers,g=f.determineInsideTextFont,c=f.layoutAreas,w=f.prerenderTitles,d=f.positionTitleOutside,o=f.formatSliceLabel;function v(E,x){return"l"+(x[0]-E[0])+","+(x[1]-E[1])}function M(E,x){return[.5*(E[0]+x[0]),.5*(E[1]+x[1])]}function b(E){if(E.length){var x=E[0],S=x.trace,T=S.aspectratio,n=S.baseratio;n>.999&&(n=.999);var B,U,G,C=Math.pow(n,2),p=x.vTotal,D=p,N=p*C/(1-C)/p,O=[];for(O.push(z()),U=E.length-1;U>-1;U--)(G=E[U]).hidden||(N+=G.v/D,O.push(z()));var et=1/0,at=-1/0;for(U=0;U<O.length;U++)B=O[U],et=Math.min(et,B[1]),at=Math.max(at,B[1]);for(U=0;U<O.length;U++)O[U][1]-=(at+et)/2;var K=x.r,j=(at-et)/2,rt=K/O[O.length-1][0],H=K/j*T;for(x.r=H*j,U=0;U<O.length;U++)O[U][0]*=rt,O[U][1]*=H;var Z=[-(B=O[0])[0],B[1]],it=[B[0],B[1]],Q=0;for(U=E.length-1;U>-1;U--)if(!(G=E[U]).hidden){var Y=O[Q+=1][0],nt=O[Q][1];G.TL=[-Y,nt],G.TR=[Y,nt],G.BL=Z,G.BR=it,G.pxmid=M(G.TR,G.BR),Z=G.TL,it=G.TR}}function z(){var _=function k(){var _=Math.sqrt(N);return{x:_,y:-_}}();return[_.x,_.y]}}tt.exports=function(x,S){var T=x._context.staticPlot,n=x._fullLayout;a("funnelarea",n),w(S,x),c(S,n._size),i.makeTraceGroups(n._funnelarealayer,S,"trace").each(function(C){var p=A.select(this),F=C[0],D=F.trace;b(C),p.each(function(){var N=A.select(this).selectAll("g.slice").data(C);N.enter().append("g").classed("slice",!0),N.exit().remove(),N.each(function(z,B){if(z.hidden)A.select(this).selectAll("path,g").remove();else{z.pointNumber=z.i,z.curveNumber=D.index;var O=F.cx,U=F.cy,G=A.select(this),J=G.selectAll("path.surface").data([z]);J.enter().append("path").classed("surface",!0).style({"pointer-events":T?"none":"all"}),G.call(u,x,C);var et="M"+(O+z.TR[0])+","+(U+z.TR[1])+v(z.TR,z.BR)+v(z.BR,z.BL)+v(z.BL,z.TL)+"Z";J.attr("d",et),o(x,z,F);var at=h.castOption(D.textposition,z.pts),lt=G.selectAll("g.slicetext").data(z.text&&"none"!==at?[0]:[]);lt.enter().append("g").classed("slicetext",!0),lt.exit().remove(),lt.each(function(){var K=i.ensureSingle(A.select(this),"text","",function(nt){nt.attr("data-notex",1)}),j=i.ensureUniformFontSize(x,g(D,z,n.font));K.text(z.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(y.font,j).call(l.convertToTspans,x);var H,Z,it,rt=y.bBox(K.node()),Q=Math.min(z.BL[1],z.BR[1])+U,Y=Math.max(z.TL[1],z.TR[1])+U;Z=Math.max(z.TL[0],z.BL[0])+O,it=Math.min(z.TR[0],z.BR[0])+O,(H=r(Z,it,Q,Y,rt,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=j.size,s(D.type,H,n),C[B].transform=H,i.setTransormAndDisplay(K,H)})}});var k=A.select(this).selectAll("g.titletext").data(D.title.text?[0]:[]);k.enter().append("g").classed("titletext",!0),k.exit().remove(),k.each(function(){var z=i.ensureSingle(A.select(this),"text","",function(U){U.attr("data-notex",1)}),B=D.title.text;D._meta&&(B=i.templateString(B,D._meta)),z.text(B).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(y.font,D.title.font).call(l.convertToTspans,x);var O=d(F,n._size);z.attr("transform",L(O.x,O.y)+P(Math.min(1,O.scale))+L(O.tx,O.ty))})})})}},62096:function(tt,W,t){"use strict";var A=t(33428),y=t(10528),i=t(82744).resizeText;tt.exports=function(L){var l=L._fullLayout._funnelarealayer.selectAll(".trace");i(L,l,"funnelarea"),l.each(function(m){var e=m[0].trace,s=A.select(this);s.style({opacity:e.opacity}),s.selectAll("path.surface").each(function(a){A.select(this).call(y,a,e,L)})})}},83328:function(tt,W,t){"use strict";var A=t(52904),y=t(45464),i=t(25376),P=t(29736).axisHoverFormat,L=t(21776).Ks,l=t(21776).Gw,m=t(49084),r=t(92880).extendFlat;tt.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},A.x,{impliedEdits:{xtype:"array"}}),x0:r({},A.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},A.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},A.y,{impliedEdits:{ytype:"array"}}),y0:r({},A.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},A.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},A.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},A.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},A.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},A.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},A.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},A.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:L(),texttemplate:l({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:i({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},y.showlegend,{dflt:!1})},{transforms:void 0},m("",{cLetter:"z",autoColorDflt:!1}))},19512:function(tt,W,t){"use strict";var A=t(24040),y=t(3400),i=t(54460),P=t(1220),L=t(55480),l=t(47128),m=t(2872),r=t(26136),e=t(70448),s=t(11240),a=t(35744),h=t(39032).BADNUM;function f(g){for(var c=[],w=g.length,d=0;d<w;d++){var o=g[d];o!==h&&c.push(o)}return c}tt.exports=function(c,w){var x,S,T,n,C,p,F,D,N,k,z,d=i.getFromId(c,w.xaxis||"x"),o=i.getFromId(c,w.yaxis||"y"),v=A.traceIs(w,"contour"),M=A.traceIs(w,"histogram"),b=A.traceIs(w,"gl2d"),E=v?"best":w.zsmooth;if(d._minDtick=0,o._minDtick=0,M)n=(z=L(c,w)).orig_x,x=z.x,S=z.x0,T=z.dx,D=z.orig_y,C=z.y,p=z.y0,F=z.dy,N=z.z;else{var B=w.z;y.isArray1D(B)?(m(w,d,o,"x","y",["z"]),x=w._x,C=w._y,B=w._z):(n=w.x?d.makeCalcdata(w,"x"):[],D=w.y?o.makeCalcdata(w,"y"):[],x=P(w,d,"x",n).vals,C=P(w,o,"y",D).vals,w._x=x,w._y=C),S=w.x0,T=w.dx,p=w.y0,F=w.dy,N=r(B,w,d,o)}function O(rt){E=w._input.zsmooth=w.zsmooth=!1,y.warn('cannot use zsmooth: "fast": '+rt)}function U(rt){if(rt.length>1){var H=(rt[rt.length-1]-rt[0])/(rt.length-1),Z=Math.abs(H/100);for(k=0;k<rt.length-1;k++)if(Math.abs(rt[k+1]-rt[k]-H)>Z)return!1}return!0}(d.rangebreaks||o.rangebreaks)&&(N=function u(g,c,w){for(var d=[],o=-1,v=0;v<w.length;v++)if(c[v]!==h){d[++o]=[];for(var M=0;M<w[v].length;M++)g[M]!==h&&d[o].push(w[v][M])}return d}(x,C,N),M||(x=f(x),C=f(C),w._x=x,w._y=C)),!M&&(v||w.connectgaps)&&(w._emptypoints=s(N),e(N,w._emptypoints)),w._islinear=!1,"log"===d.type||"log"===o.type?"fast"===E&&O("log axis found"):U(x)?U(C)?w._islinear=!0:"fast"===E&&O("y scale is not linear"):"fast"===E&&O("x scale is not linear");var G=y.maxRowLength(N),J="scaled"===w.xtype?"":x,et=a(w,J,S,T,G,d),at="scaled"===w.ytype?"":C,lt=a(w,at,p,F,N.length,o);b||(w._extremes[d._id]=i.findExtremes(d,et),w._extremes[o._id]=i.findExtremes(o,lt));var K={x:et,y:lt,z:N,text:w._text||w.text,hovertext:w._hovertext||w.hovertext};if(w.xperiodalignment&&n&&(K.orig_x=n),w.yperiodalignment&&D&&(K.orig_y=D),J&&J.length===et.length-1&&(K.xCenter=J),at&&at.length===lt.length-1&&(K.yCenter=at),M&&(K.xRanges=z.xRanges,K.yRanges=z.yRanges,K.pts=z.pts),v||l(c,w,{vals:N,cLetter:"z"}),v&&w.contours&&"heatmap"===w.contours.coloring){var j={type:"contour"===w.type?"heatmap":"histogram2d",xcalendar:w.xcalendar,ycalendar:w.ycalendar};K.xfill=a(j,J,S,T,G,d),K.yfill=a(j,at,p,F,N.length,o)}return[K]}},26136:function(tt,W,t){"use strict";var A=t(38248),y=t(3400),i=t(39032).BADNUM;tt.exports=function(L,l,m,r){var e,s,a,h,f,u;function g(M){if(A(M))return+M}if(l&&l.transpose){for(e=0,f=0;f<L.length;f++)e=Math.max(e,L[f].length);if(0===e)return!1;a=function(M){return M.length},h=function(M,b,E){return(M[E]||[])[b]}}else e=L.length,a=function(M,b){return M[b].length},h=function(M,b,E){return(M[b]||[])[E]};function w(M){if(l&&"carpet"!==l.type&&"contourcarpet"!==l.type&&M&&"category"===M.type&&l["_"+M._id.charAt(0)].length){var b=M._id.charAt(0),E={},x=l["_"+b+"CategoryMap"]||l[b];for(f=0;f<x.length;f++)E[x[f]]=f;return function(S){var T=E[M._categories[S]];return T+1?T:i}}return y.identity}var d=w(m),o=w(r);r&&"category"===r.type&&(e=r._categories.length);var M,b,E,v=new Array(e);for(f=0;f<e;f++)for(s=m&&"category"===m.type?m._categories.length:a(L,f),v[f]=new Array(s),u=0;u<s;u++)v[f][u]=g((M=L,b=o(f),E=d(u),b===i||E===i?i:h(M,b,E)));return v}},96288:function(tt){"use strict";tt.exports={min:"zmin",max:"zmax"}},2872:function(tt,W,t){"use strict";var A=t(3400),y=t(39032).BADNUM,i=t(1220);tt.exports=function(L,l,m,r,e,s){var a=L._length,h=l.makeCalcdata(L,r),f=m.makeCalcdata(L,e);h=i(L,l,r,h).vals,f=i(L,m,e,f).vals;var d,o,S,T,u=L.text,g=void 0!==u&&A.isArray1D(u),c=L.hovertext,w=void 0!==c&&A.isArray1D(c),v=A.distinctVals(h),M=v.vals,b=A.distinctVals(f),E=b.vals,x=[],n=E.length,C=M.length;for(d=0;d<s.length;d++)x[d]=A.init2dArray(n,C);g&&(S=A.init2dArray(n,C)),w&&(T=A.init2dArray(n,C));var p=A.init2dArray(n,C);for(d=0;d<a;d++)if(h[d]!==y&&f[d]!==y){var F=A.findBin(h[d]+v.minDiff/2,M),D=A.findBin(f[d]+b.minDiff/2,E);for(o=0;o<s.length;o++)x[o][D][F]=L[s[o]][d],p[D][F]=d;g&&(S[D][F]=u[d]),w&&(T[D][F]=c[d])}for(L["_"+r]=M,L["_"+e]=E,o=0;o<s.length;o++)L["_"+s[o]]=x[o];g&&(L._text=S),w&&(L._hovertext=T),l&&"category"===l.type&&(L["_"+r+"CategoryMap"]=M.map(function(B){return l._categories[B]})),m&&"category"===m.type&&(L["_"+e+"CategoryMap"]=E.map(function(B){return m._categories[B]})),L._after2before=p}},24480:function(tt,W,t){"use strict";var A=t(3400),y=t(51264),i=t(39096),P=t(31147),L=t(82748),l=t(27260),m=t(83328);tt.exports=function(e,s,a,h){function f(g,c){return A.coerce(e,s,m,g,c)}y(e,s,f,h)?(P(e,s,h,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hovertemplate"),i(f,h),L(e,s,f,h),f("hoverongaps"),f("connectgaps",A.isArray1D(s.z)&&!1!==s.zsmooth),l(e,s,h,f,{prefix:"",cLetter:"z"})):s.visible=!1}},11240:function(tt,W,t){"use strict";var A=t(3400).maxRowLength;tt.exports=function(i){var a,h,f,u,g,c,w,d,P=[],L={},l=[],m=i[0],r=[],e=[0,0,0],s=A(i);for(h=0;h<i.length;h++)for(a=r,r=m,m=i[h+1]||[],f=0;f<s;f++)void 0===r[f]&&((c=(void 0!==r[f-1]?1:0)+(void 0!==r[f+1]?1:0)+(void 0!==a[f]?1:0)+(void 0!==m[f]?1:0))?(0===h&&c++,0===f&&c++,h===i.length-1&&c++,f===r.length-1&&c++,c<4&&(L[[h,f]]=[h,f,c]),P.push([h,f,c])):l.push([h,f]));for(;l.length;){for(w={},d=!1,g=l.length-1;g>=0;g--)(c=((L[[(h=(u=l[g])[0])-1,f=u[1]]]||e)[2]+(L[[h+1,f]]||e)[2]+(L[[h,f-1]]||e)[2]+(L[[h,f+1]]||e)[2])/20)&&(w[u]=[h,f,c],l.splice(g,1),d=!0);if(!d)throw"findEmpties iterated with no new neighbors";for(u in w)L[u]=w[u],P.push(w[u])}return P.sort(function(o,v){return v[2]-o[2]})}},55512:function(tt,W,t){"use strict";var A=t(93024),y=t(3400),i=y.isArrayOrTypedArray,P=t(54460),L=t(8932).extractOpts;tt.exports=function(m,r,e,s,a){a||(a={});var T,n,C,p,h=a.isContour,f=m.cd[0],u=f.trace,g=m.xa,c=m.ya,w=f.x,d=f.y,o=f.z,v=f.xCenter,M=f.yCenter,b=f.zmask,E=u.zhoverformat,x=w,S=d;if(!1!==m.index){try{C=Math.round(m.index[1]),p=Math.round(m.index[0])}catch(lt){return void y.error("Error hovering on heatmap, pointNumber must be [row,col], found:",m.index)}if(C<0||C>=o[0].length||p<0||p>o.length)return}else{if(A.inbox(r-w[0],r-w[w.length-1],0)>0||A.inbox(e-d[0],e-d[d.length-1],0)>0)return;if(h){var F;for(x=[2*w[0]-w[1]],F=1;F<w.length;F++)x.push((w[F]+w[F-1])/2);for(x.push([2*w[w.length-1]-w[w.length-2]]),S=[2*d[0]-d[1]],F=1;F<d.length;F++)S.push((d[F]+d[F-1])/2);S.push([2*d[d.length-1]-d[d.length-2]])}C=Math.max(0,Math.min(x.length-2,y.findBin(r,x))),p=Math.max(0,Math.min(S.length-2,y.findBin(e,S)))}var B,O,D=g.c2p(w[C]),N=g.c2p(w[C+1]),k=c.c2p(d[p]),z=c.c2p(d[p+1]);h?(N=D,T=(B=f.orig_x||w)[C],z=k,n=(O=f.orig_y||d)[p]):(B=f.orig_x||v||w,O=f.orig_y||M||d,T=v?B[C]:(B[C]+B[C+1])/2,n=M?O[p]:(O[p]+O[p+1])/2,g&&"category"===g.type&&(T=w[C]),c&&"category"===c.type&&(n=d[p]),u.zsmooth&&(D=N=g.c2p(T),k=z=c.c2p(n)));var U=o[p][C];if(b&&!b[p][C]&&(U=void 0),void 0!==U||u.hoverongaps){var G;i(f.hovertext)&&i(f.hovertext[p])?G=f.hovertext[p][C]:i(f.text)&&i(f.text[p])&&(G=f.text[p][C]);var J=L(u),at=P.tickText({type:"linear",range:[J.min,J.max],hoverformat:E,_separators:g._separators,_numFormat:g._numFormat},U,"hover").text;return[y.extendFlat(m,{index:u._after2before?u._after2before[p][C]:[p,C],distance:m.maxHoverDistance,spikeDistance:m.maxSpikeDistance,x0:D,x1:N,y0:k,y1:z,xLabelVal:T,yLabelVal:n,zLabelVal:U,zLabel:at,text:G})]}}},81932:function(tt,W,t){"use strict";tt.exports={attributes:t(83328),supplyDefaults:t(24480),calc:t(19512),plot:t(41420),colorbar:t(96288),style:t(41648),hoverPoints:t(55512),moduleType:"trace",name:"heatmap",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(tt,W,t){"use strict";var A=t(3400),i=[[-1,0],[1,0],[0,-1],[0,1]];function L(l,m,r){var s,a,h,f,u,g,c,w,d,o,v,M,b,e=0;for(f=0;f<m.length;f++){for(v=l[a=(s=m[f])[0]][h=s[1]],o=0,d=0,u=0;u<4;u++)(c=l[a+(g=i[u])[0]])&&void 0!==(w=c[h+g[1]])&&(0===o?M=b=w:(M=Math.min(M,w),b=Math.max(b,w)),d++,o+=w);if(0===d)throw"iterateInterp2d order is wrong: no defined neighbors";l[a][h]=o/d,void 0===v?d<4&&(e=1):(l[a][h]=(1+r)*l[a][h]-r*v,b>M&&(e=Math.max(e,Math.abs(l[a][h]-v)/(b-M))))}return e}tt.exports=function(m,r){var s,e=1;for(L(m,r),s=0;s<r.length&&!(r[s][2]<4);s++);for(r=r.slice(s),s=0;s<100&&e>.01;s++)e=L(m,r,.5-.25*Math.min(1,.5*e));return e>.01&&A.log("interp2d didn't converge quickly",e),m}},39096:function(tt,W,t){"use strict";var A=t(3400);tt.exports=function(i,P){i("texttemplate");var L=A.extendFlat({},P.font,{color:"auto",size:"auto"});A.coerceFont(i,"textfont",L)}},35744:function(tt,W,t){"use strict";var A=t(24040),y=t(3400).isArrayOrTypedArray;tt.exports=function(P,L,l,m,r,e){var u,g,c,s=[],a=A.traceIs(P,"contour"),h=A.traceIs(P,"histogram"),f=A.traceIs(P,"gl2d");if(y(L)&&L.length>1&&!h&&"category"!==e.type){var d=L.length;if(!(d<=r))return L.slice(0,a?r:r+1);if(a||f)s=Array.from(L).slice(0,r);else if(1===r)s="log"===e.type?[.5*L[0],2*L[0]]:[L[0]-.5,L[0]+.5];else if("log"===e.type){for(s=[Math.pow(L[0],1.5)/Math.pow(L[1],.5)],c=1;c<d;c++)s.push(Math.sqrt(L[c-1]*L[c]));s.push(Math.pow(L[d-1],1.5)/Math.pow(L[d-2],.5))}else{for(s=[1.5*L[0]-.5*L[1]],c=1;c<d;c++)s.push(.5*(L[c-1]+L[c]));s.push(1.5*L[d-1]-.5*L[d-2])}if(d<r){var v,o=s[s.length-1];if("log"===e.type)for(v=o/s[s.length-2],c=d;c<r;c++)s.push(o*=v);else for(v=o-s[s.length-2],c=d;c<r;c++)s.push(o+=v)}}else{var M=P[e._id.charAt(0)+"calendar"];for(u=h?e.r2c(l,0,M):y(L)&&1===L.length?L[0]:void 0===l?0:("log"===e.type?e.d2c:e.r2c)(l,0,M),g=m||1,c=a||f?0:-.5;c<r;c++)s.push(u+g*c)}return s}},41420:function(tt,W,t){"use strict";var A=t(33428),y=t(49760),i=t(24040),P=t(43616),L=t(54460),l=t(3400),m=t(72736),r=t(76688),e=t(76308),s=t(8932).extractOpts,a=t(8932).makeColorScaleFuncFromTrace,h=t(9616),u=t(84284).LINE_SPACING,g=t(9188),c=t(2264).STYLE,w="heatmap-label";function d(E){return E.selectAll("g."+w)}function o(E){d(E).remove()}function v(E,x){var S=x.length-2,T=l.constrain(l.findBin(E,x),0,S),n=x[T],p=l.constrain(T+(E-n)/(x[T+1]-n)-.5,0,S),F=Math.round(p),D=Math.abs(p-F);return p&&p!==S&&D?{bin0:F,frac:D,bin1:Math.round(F+D/(p-F))}:{bin0:F,bin1:F,frac:0}}function M(E,x){var S=x.length-1,T=l.constrain(l.findBin(E,x),0,S),n=x[T],p=(E-n)/(x[T+1]-n)||0;return p<=0?{bin0:T,bin1:T,frac:0}:p<.5?{bin0:T,bin1:T+1,frac:p}:{bin0:T+1,bin1:T,frac:1-p}}function b(E,x,S){E[x]=S[0],E[x+1]=S[1],E[x+2]=S[2],E[x+3]=Math.round(255*S[3])}tt.exports=function(E,x,S,T){var n=x.xaxis,C=x.yaxis;l.makeTraceGroups(T,S,"hm").each(function(p){var H,Z,it,Q,Y,nt,_,st,F=A.select(this),D=p[0],N=D.trace,k=N.xgap||0,z=N.ygap||0,B=D.z,O=D.x,U=D.y,G=D.xCenter,J=D.yCenter,et=i.traceIs(N,"contour"),at=et?"best":N.zsmooth,lt=B.length,K=l.maxRowLength(B),j=!1,rt=!1;for(nt=0;void 0===H&&nt<O.length-1;)H=n.c2p(O[nt]),nt++;for(nt=O.length-1;void 0===Z&&nt>0;)Z=n.c2p(O[nt]),nt--;for(Z<H&&(it=Z,Z=H,H=it,j=!0),nt=0;void 0===Q&&nt<U.length-1;)Q=C.c2p(U[nt]),nt++;for(nt=U.length-1;void 0===Y&&nt>0;)Y=C.c2p(U[nt]),nt--;Y<Q&&(it=Q,Q=Y,Y=it,rt=!0),et&&(G=O,J=U,O=D.xfill,U=D.yfill);var dt="default";if(at?dt="best"===at?"smooth":"fast":N._islinear&&0===k&&0===z&&g()&&(dt="fast"),"fast"!==dt){var xt="best"===at?0:.5;H=Math.max(-xt*n._length,H),Z=Math.min((1+xt)*n._length,Z),Q=Math.max(-xt*C._length,Q),Y=Math.min((1+xt)*C._length,Y)}var gt,Mt,yt=Math.round(Z-H),St=Math.round(Y-Q);if(H>=n._length||Z<=0||Q>=C._length||Y<=0)return F.selectAll("image").data([]).exit().remove(),void o(F);"fast"===dt?(gt=K,Mt=lt):(gt=yt,Mt=St);var Nt=document.createElement("canvas");Nt.width=gt,Nt.height=Mt;var Vt,re,Gt=Nt.getContext("2d",{willReadFrequently:!0}),Pt=a(N,{noNumericCheck:!0,returnArray:!0});"fast"===dt?(Vt=j?function(sn){return K-1-sn}:l.identity,re=rt?function(sn){return lt-1-sn}:l.identity):(Vt=function(sn){return l.constrain(Math.round(n.c2p(O[sn])-H),0,yt)},re=function(sn){return l.constrain(Math.round(C.c2p(U[sn])-Q),0,St)});var jt,Ct,Xt,Ht,le=re(0),It=[le,le],Rt=j?0:1,$t=rt?0:1,oe=0,se=0,ve=0,de=0;function Bt(sn,pn){if(void 0!==sn){var gn=Pt(sn);return gn[0]=Math.round(gn[0]),gn[1]=Math.round(gn[1]),gn[2]=Math.round(gn[2]),oe+=pn,se+=gn[0]*pn,ve+=gn[1]*pn,de+=gn[2]*pn,gn}return[0,0,0,0]}function zt(sn,pn,gn,wn){var Rn=sn[gn.bin0];if(void 0===Rn)return Bt(void 0,1);var Kn=sn[gn.bin1],_n=pn[gn.bin0],ua=pn[gn.bin1];return Bt(Rn+gn.frac*(Kn-Rn||0)+wn.frac*((_n-Rn||0)+gn.frac*(void 0===Kn?void 0===ua?0:void 0===_n?2*(ua-Rn):2*(2*ua-_n-Rn)/3:void 0===ua?void 0===_n?0:2*(2*Rn-Kn-_n)/3:void 0===_n?2*(2*ua-Kn-Rn)/3:ua+Rn-Kn-_n)))}if("default"!==dt){var wt,kt=0;try{wt=new Uint8Array(gt*Mt*4)}catch(sn){wt=new Array(gt*Mt*4)}if("smooth"===dt){var We,ye,Te,ft=G||O,pt=J||U,Dt=new Array(ft.length),Qt=new Array(pt.length),te=new Array(yt),ee=G?M:v,Ne=J?M:v;for(nt=0;nt<ft.length;nt++)Dt[nt]=Math.round(n.c2p(ft[nt])-H);for(nt=0;nt<pt.length;nt++)Qt[nt]=Math.round(C.c2p(pt[nt])-Q);for(nt=0;nt<yt;nt++)te[nt]=ee(nt,Dt);for(_=0;_<St;_++)for(ye=B[(We=Ne(_,Qt)).bin0],Te=B[We.bin1],nt=0;nt<yt;nt++,kt+=4)b(wt,kt,Ht=zt(ye,Te,te[nt],We))}else for(_=0;_<lt;_++)for(Xt=B[_],It=re(_),nt=0;nt<K;nt++)Ht=Bt(Xt[nt],1),b(wt,kt=4*(It*K+Vt(nt)),Ht);var Ge=Gt.createImageData(gt,Mt);try{Ge.data.set(wt)}catch(sn){var hr=Ge.data,ce=hr.length;for(_=0;_<ce;_++)hr[_]=wt[_]}Gt.putImageData(Ge,0,0)}else{var Ue=Math.floor(k/2),Ye=Math.floor(z/2);for(_=0;_<lt;_++)if(Xt=B[_],It.reverse(),It[$t]=re(_+1),It[0]!==It[1]&&void 0!==It[0]&&void 0!==It[1])for(jt=[Ct=Vt(0),Ct],nt=0;nt<K;nt++)jt.reverse(),jt[Rt]=Vt(nt+1),jt[0]!==jt[1]&&void 0!==jt[0]&&void 0!==jt[1]&&(Ht=Bt(Xt[nt],(jt[1]-jt[0])*(It[1]-It[0])),Gt.fillStyle="rgba("+Ht.join(",")+")",Gt.fillRect(jt[0]+Ue,It[0]+Ye,jt[1]-jt[0]-k,It[1]-It[0]-z))}se=Math.round(se/oe),ve=Math.round(ve/oe),de=Math.round(de/oe);var gr=y("rgb("+se+","+ve+","+de+")");E._hmpixcount=(E._hmpixcount||0)+oe,E._hmlumcount=(E._hmlumcount||0)+oe*gr.getLuminance();var tr=F.selectAll("image").data(p);tr.enter().append("svg:image").attr({xmlns:h.svg,preserveAspectRatio:"none"}),tr.attr({height:St,width:yt,x:H,y:Q,"xlink:href":Nt.toDataURL("image/png")}),"fast"===dt&&!at&&tr.attr("style",c),o(F);var he=N.texttemplate;if(he){var ne=s(N),pe={type:"linear",range:[ne.min,ne.max],_separators:n._separators,_numFormat:n._numFormat},be="histogram2dcontour"===N.type,Se="contour"===N.type,Ie=Se?lt-1:lt,Fe=Se?1:0,Ze=Se?K-1:K,nr=[];for(nt=Se?1:0;nt<Ie;nt++){var ir;if(Se)ir=D.y[nt];else if(be){if(0===nt||nt===lt-1)continue;ir=D.y[nt]}else if(D.yCenter)ir=D.yCenter[nt];else{if(nt+1===lt&&void 0===D.y[nt+1])continue;ir=(D.y[nt]+D.y[nt+1])/2}var lr=Math.round(C.c2p(ir));if(!(0>lr||lr>C._length))for(_=Fe;_<Ze;_++){var Ot;if(Se)Ot=D.x[_];else if(be){if(0===_||_===K-1)continue;Ot=D.x[_]}else if(D.xCenter)Ot=D.xCenter[_];else{if(_+1===K&&void 0===D.x[_+1])continue;Ot=(D.x[_]+D.x[_+1])/2}var Ut=Math.round(n.c2p(Ot));if(!(0>Ut||Ut>n._length)){var Ce=r({x:Ot,y:ir},N,E._fullLayout);Ce.x=Ot,Ce.y=ir;var Le=D.z[nt][_];void 0===Le?(Ce.z="",Ce.zLabel=""):(Ce.z=Le,Ce.zLabel=L.tickText(pe,Le,"hover").text);var Xe=D.text&&D.text[nt]&&D.text[nt][_];(void 0===Xe||!1===Xe)&&(Xe=""),Ce.text=Xe;var _e=l.texttemplateString(he,Ce,E._fullLayout._d3locale,Ce,N._meta||{});if(_e){var fr=_e.split("<br>"),$e=fr.length,Re=0;for(st=0;st<$e;st++)Re=Math.max(Re,fr[st].length);nr.push({l:$e,c:Re,t:_e,x:Ut,y:lr,z:Le})}}}}var or=N.textfont,dr=or.family,pr=or.size,Cr=E._fullLayout.font.size;if(!pr||"auto"===pr){var $r=1/0,Ar=1/0,Gr=0,nn=0;for(st=0;st<nr.length;st++){var Ur=nr[st];if(Gr=Math.max(Gr,Ur.l),nn=Math.max(nn,Ur.c),st<nr.length-1){var Tn=nr[st+1],bn=Math.abs(Tn.x-Ur.x),ur=Math.abs(Tn.y-Ur.y);bn&&($r=Math.min($r,bn)),ur&&(Ar=Math.min(Ar,ur))}}isFinite($r)&&isFinite(Ar)?($r-=k,Ar-=z,$r/=nn,Ar/=Gr,$r/=u/2,Ar/=u,pr=Math.min(Math.floor($r),Math.floor(Ar),Cr)):pr=Cr}if(pr<=0||!isFinite(pr))return;d(F).data(nr).enter().append("g").classed(w,1).append("text").attr("text-anchor","middle").each(function(sn){var pn=A.select(this),gn=or.color;(!gn||"auto"===gn)&&(gn=e.contrast("rgba("+Pt(sn.z).join()+")")),pn.attr("data-notex",1).call(m.positionText,function(sn){return sn.x}(sn),function(sn){return sn.y-pr*(sn.l*u/2-1)}(sn)).call(P.font,dr,pr,gn).text(sn.t).call(m.convertToTspans,E)})}})}},41648:function(tt,W,t){"use strict";var A=t(33428);tt.exports=function(i){A.select(i).selectAll(".hm image").style("opacity",function(P){return P.trace.opacity})}},82748:function(tt){"use strict";tt.exports=function(t,A,y){!1===y("zsmooth")&&(y("xgap"),y("ygap")),y("zhoverformat")}},51264:function(tt,W,t){"use strict";var A=t(38248),y=t(3400),i=t(24040);function P(l,m){var r=m(l);return"scaled"===(r?m(l+"type","array"):"scaled")&&(m(l+"0"),m("d"+l)),r}tt.exports=function(m,r,e,s,a,h){var u,g,f=e("z");if(a=a||"x",h=h||"y",void 0===f||!f.length)return 0;if(y.isArray1D(f)){u=e(a),g=e(h);var c=y.minRowLength(u),w=y.minRowLength(g);if(0===c||0===w)return 0;r._length=Math.min(c,w,f.length)}else{if(u=P(a,e),g=P(h,e),!function L(l){for(var s,m=!0,r=!1,e=!1,a=0;a<l.length;a++){if(!y.isArrayOrTypedArray(s=l[a])){m=!1;break}s.length>0&&(r=!0);for(var h=0;h<s.length;h++)if(A(s[h])){e=!0;break}}return m&&r&&e}(f))return 0;e("transpose"),r._length=null}return"heatmapgl"===m.type||i.getComponentMethod("calendars","handleTraceDefaults")(m,r,[a,h],s),!0}},74512:function(tt,W,t){"use strict";for(var A=t(83328),y=t(49084),i=t(92880).extendFlat,P=t(67824).overrideAll,L=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],l={},m=0;m<L.length;m++){var r=L[m];l[r]=A[r]}l.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},i(l,y("",{cLetter:"z",autoColorDflt:!1})),tt.exports=P(l,"calc","nested")},84656:function(tt,W,t){"use strict";var A=t(67792).gl_heatmap2d,y=t(54460),i=t(43080);function P(r,e){this.scene=r,this.uid=e,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=A(r.glplot,this.options),this.heatmap._trace=this}var L=P.prototype;L.handlePick=function(r){var e=this.options,s=e.shape,a=r.pointId,h=a%s[0],f=Math.floor(a/s[0]);return{trace:this,dataCoord:r.dataCoord,traceCoord:[e.x[h],e.y[f],e.z[a]],textLabel:this.textLabels[a],name:this.name,pointIndex:[f,h],hoverinfo:this.hoverinfo}},L.update=function(r,e){var s=e[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var a=s.z;this.options.z=[].concat.apply([],a),this.options.shape=[a[0].length,a.length],this.options.x=s.x,this.options.y=s.y,this.options.zsmooth=r.zsmooth;var u=function l(r){for(var e=r.colorscale,s=r.zmin,a=r.zmax,h=e.length,f=new Array(h),u=new Array(4*h),g=0;g<h;g++){var c=e[g],w=i(c[1]);f[g]=s+c[0]*(a-s);for(var d=0;d<4;d++)u[4*g+d]=w[d]}return{colorLevels:f,colorValues:u}}(r);this.options.colorLevels=u.colorLevels,this.options.colorValues=u.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var w,d,g=this.scene.xaxis,c=this.scene.yaxis;!1===r.zsmooth&&(w={ppad:s.x[1]-s.x[0]},d={ppad:s.y[1]-s.y[0]}),r._extremes[g._id]=y.findExtremes(g,s.x,w),r._extremes[c._id]=y.findExtremes(c,s.y,d)},L.dispose=function(){this.heatmap.dispose()},tt.exports=function m(r,e,s){var a=new P(r,e.uid);return a.update(e,s),a}},86464:function(tt,W,t){"use strict";var A=t(3400),y=t(51264),i=t(27260),P=t(74512);tt.exports=function(l,m,r,e){function s(h,f){return A.coerce(l,m,P,h,f)}y(l,m,s,e)?(s("text"),s("zsmooth"),i(l,m,e,s,{prefix:"",cLetter:"z"})):m.visible=!1}},45536:function(tt,W,t){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),tt.exports={attributes:t(74512),supplyDefaults:t(86464),colorbar:t(96288),calc:t(19512),plot:t(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:t(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(tt,W,t){"use strict";var A=t(20832),y=t(29736).axisHoverFormat,i=t(21776).Ks,P=t(21776).Gw,L=t(25376),l=t(11120),m=t(73316),r=t(92880).extendFlat;tt.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:y("x"),yhoverformat:y("y"),text:r({},A.text,{}),hovertext:r({},A.hovertext,{}),orientation:A.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:l("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:l("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({},{keys:m.eventDataKeys}),texttemplate:P({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},A.textposition,{arrayOk:!1}),textfont:L({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:L({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:L({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:A.insidetextanchor,textangle:A.textangle,cliponaxis:A.cliponaxis,constraintext:A.constraintext,marker:A.marker,offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,selected:A.selected,unselected:A.unselected,_deprecated:{bardir:A._deprecated.bardir}}},2e3:function(tt){"use strict";tt.exports=function(t,A){for(var y=t.length,i=0,P=0;P<y;P++)A[P]?(t[P]/=A[P],i+=t[P]):t[P]=null;return i}},11120:function(tt){"use strict";tt.exports=function(t,A){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(tt,W,t){"use strict";var A=t(38248);tt.exports={count:function(y,i,P){return P[y]++,1},sum:function(y,i,P,L){var l=L[i];return A(l)?(l=Number(l),P[y]+=l,l):0},avg:function(y,i,P,L,l){var m=L[i];return A(m)&&(m=Number(m),P[y]+=m,l[y]++),0},min:function(y,i,P,L){var l=L[i];if(A(l)){if(l=Number(l),!A(P[y]))return P[y]=l,l;if(P[y]>l){var m=l-P[y];return P[y]=l,m}}return 0},max:function(y,i,P,L){var l=L[i];if(A(l)){if(l=Number(l),!A(P[y]))return P[y]=l,l;if(P[y]<l){var m=l-P[y];return P[y]=l,m}}return 0}}},67712:function(tt,W,t){"use strict";var A=t(39032),y=A.ONEAVGYEAR,i=A.ONEAVGMONTH,P=A.ONEDAY,L=A.ONEHOUR,l=A.ONEMIN,m=A.ONESEC,r=t(54460).tickIncrement;function e(f,u,g,c){if(f*u<=0)return 1/0;for(var w=Math.abs(u-f),d="date"===g.type,o=s(w,d),v=0;v<10;v++){var M=s(80*o,d);if(o===M)break;if(!a(M,f,u,d,g,c))break;o=M}return o}function s(f,u){return u&&f>m?f>P?f>1.1*y?y:f>1.1*i?i:P:f>L?L:f>l?l:m:Math.pow(10,Math.floor(Math.log(f)/Math.LN10))}function a(f,u,g,c,w,d){if(c&&f>P){var o=h(u,w,d),v=h(g,w,d),M=f===y?0:1;return o[M]!==v[M]}return Math.floor(g/f)-Math.floor(u/f)>.1}function h(f,u,g){var c=u.c2d(f,y,g).split("-");return""===c[0]&&(c.unshift(),c[0]="-"+c[0]),c}tt.exports=function(u,g,c,w,d){var T,n,o=-1.1*g,v=-.1*g,M=u-v,b=c[0],E=c[1],x=Math.min(e(b+v,b+M,w,d),e(E+v,E+M,w,d)),S=Math.min(e(b+o,b+v,w,d),e(E+o,E+v,w,d));if(x>S&&S<Math.abs(E-b)/4e3?(T=x,n=!1):(T=Math.min(x,S),n=!0),"date"===w.type&&T>P){var C=T===y?1:6,p=T===y?"M12":"M1";return function(F,D){var N=w.c2d(F,y,d),k=N.indexOf("-",C);k>0&&(N=N.substr(0,k));var z=w.d2c(N,0,d);if(z<F){var B=r(z,p,!1,d);(z+B)/2<F+u&&(z=B)}return D&&n?r(z,p,!0,d):z}}return function(F,D){var N=T*Math.round(F/T);return N+T/10<F&&N+.9*T<F+u&&(N+=T),D&&n&&(N-=T),N}}},35852:function(tt,W,t){"use strict";var A=t(38248),y=t(3400),i=t(24040),P=t(54460),L=t(84664),l=t(16964),m=t(10648),r=t(2e3),e=t(67712);function a(g,c,w,d,o){var S,T,n,C,p,F,D,v=d+"bins",M=g._fullLayout,E=M._histogramBinOpts[c["_"+d+"bingroup"]],x="overlay"===M.barmode,N=function(yt){return w.r2c(yt,0,C)},k=function(yt){return w.c2r(yt,0,C)},z="date"===w.type?function(yt){return yt||0===yt?y.cleanDate(yt,null,C):null}:function(yt){return A(yt)?Number(yt):null};function B(yt,St,Et){St[yt+"Found"]?(St[yt]=z(St[yt]),null===St[yt]&&(St[yt]=Et[yt])):(F[yt]=St[yt]=Et[yt],y.nestedProperty(T[0],v+"."+yt).set(Et[yt]))}if(c["_"+d+"autoBinFinished"])delete c["_"+d+"autoBinFinished"];else{T=E.traces;var O=[],U=!0,G=!1,J=!1;for(S=0;S<T.length;S++)if((n=T[S]).visible){var et=E.dirs[S];p=n["_"+et+"pos0"]=w.makeCalcdata(n,et),O=y.concat(O,p),delete n["_"+d+"autoBinFinished"],!0===c.visible&&(U?U=!1:(delete n._autoBin,n["_"+d+"autoBinFinished"]=1),i.traceIs(n,"2dMap")&&(G=!0),"histogram2dcontour"===n.type&&(J=!0))}var at=P.autoBin(O,w,E.nbins,G,C=T[0][d+"calendar"],E.sizeFound&&E.size),lt=T[0]._autoBin={};if(F=lt[E.dirs[0]]={},J&&(E.size||(at.start=k(P.tickIncrement(N(at.start),at.size,!0,C))),void 0===E.end&&(at.end=k(P.tickIncrement(N(at.end),at.size,!1,C)))),x&&!i.traceIs(c,"2dMap")&&0===at._dataSpan&&"category"!==w.type&&"multicategory"!==w.type&&""===c.bingroup&&void 0===c.xbins){if(o)return[at,p,!0];at=function h(g,c,w,d,o){var S,T,n,v=g._fullLayout,M=function f(g,c){for(var w=c.xaxis,d=c.yaxis,o=c.orientation,v=[],M=g._fullData,b=0;b<M.length;b++){var E=M[b];"histogram"===E.type&&!0===E.visible&&E.orientation===o&&E.xaxis===w&&E.yaxis===d&&v.push(E)}return v}(g,c),b=!1,E=1/0,x=[c];for(S=0;S<M.length;S++)if((T=M[S])===c)b=!0;else if(b){var C=a(g,T,w,d,!0),p=C[0],F=C[2];T["_"+d+"autoBinFinished"]=1,T["_"+d+"pos0"]=C[1],F?x.push(T):E=Math.min(E,p.size)}else n=v._histogramBinOpts[T["_"+d+"bingroup"]],E=Math.min(E,n.size||T[o].size);var D=new Array(x.length);for(S=0;S<x.length;S++)for(var N=x[S]["_"+d+"pos0"],k=0;k<N.length;k++)if(void 0!==N[k]){D[S]=N[k];break}for(isFinite(E)||(E=y.distinctVals(D).minDiff),S=0;S<x.length;S++){var z=(T=x[S])[d+"calendar"],B={start:w.c2r(D[S]-E/2,0,z),end:w.c2r(D[S]+E/2,0,z),size:E};T._input[o]=T[o]=B,(n=v._histogramBinOpts[T["_"+d+"bingroup"]])&&y.extendFlat(n,B)}return c[o]}(g,c,w,d,v)}(D=n.cumulative||{}).enabled&&"include"!==D.currentbin&&("decreasing"===D.direction?at.start=k(P.tickIncrement(N(at.start),at.size,!0,C)):at.end=k(P.tickIncrement(N(at.end),at.size,!1,C))),E.size=at.size,E.sizeFound||(F.size=at.size,y.nestedProperty(T[0],v+".size").set(at.size)),B("start",E,at),B("end",E,at)}p=c["_"+d+"pos0"],delete c["_"+d+"pos0"];var K=c._input[v]||{},j=y.extendFlat({},E),rt=E.start,H=w.r2l(K.start),Z=void 0!==H;if((E.startFound||Z)&&H!==w.r2l(rt)){var it=Z?H:y.aggNums(Math.min,null,p),Q={type:"category"===w.type||"multicategory"===w.type?"linear":w.type,r2l:w.r2l,dtick:E.size,tick0:rt,calendar:C,range:[it,P.tickIncrement(it,E.size,!1,C)].map(w.l2r)},Y=P.tickFirst(Q);Y>w.r2l(it)&&(Y=P.tickIncrement(Y,E.size,!0,C)),j.start=w.l2r(Y),Z||y.nestedProperty(c,v+".start").set(j.start)}var nt=E.end,_=w.r2l(K.end),st=void 0!==_;if((E.endFound||st)&&_!==w.r2l(nt)){var dt=st?_:y.aggNums(Math.max,null,p);j.end=w.l2r(dt),st||y.nestedProperty(c,v+".start").set(j.end)}var xt="autobin"+d;return!1===c._input[xt]&&(c._input[v]=y.extendFlat({},c[v]||{}),delete c._input[xt],delete c[xt]),[j,p]}tt.exports={calc:function s(g,c){var S,J,et,at,w=[],d=[],o="h"===c.orientation,v=P.getFromId(g,o?c.yaxis:c.xaxis),M=o?"y":"x",b={x:"y",y:"x"}[M],E=c[M+"calendar"],x=c.cumulative,T=a(g,c,v,M),n=T[0],C=T[1],p="string"==typeof n.size,F=[],D=p?F:n,N=[],k=[],z=[],B=0,O=c.histnorm,U=c.histfunc,G=-1!==O.indexOf("density");x.enabled&&G&&(O=O.replace(/ ?density$/,""),G=!1);var it,K="max"===U||"min"===U?null:0,j=l.count,rt=m[O],H=!1,Z=function(Gt){return v.r2c(Gt,0,E)};for(y.isArrayOrTypedArray(c[b])&&"count"!==U&&(it=c[b],H="avg"===U,j=l[U]),S=Z(n.start),et=Z(n.end)+(S-P.tickIncrement(S,n.size,!1,E))/1e6;S<et&&w.length<1e6&&(J=P.tickIncrement(S,n.size,!1,E),w.push((S+J)/2),d.push(K),z.push([]),F.push(S),G&&N.push(1/(J-S)),H&&k.push(0),!(J<=S));)S=J;F.push(S),!p&&"date"===v.type&&(D={start:Z(D.start),end:Z(D.end),size:D.size}),g._fullLayout._roundFnOpts||(g._fullLayout._roundFnOpts={});var Q=c["_"+M+"bingroup"],Y={leftGap:1/0,rightGap:1/0};Q&&(g._fullLayout._roundFnOpts[Q]||(g._fullLayout._roundFnOpts[Q]=Y),Y=g._fullLayout._roundFnOpts[Q]);var St,nt=d.length,_=!0,st=Y.leftGap,dt=Y.rightGap,xt={};for(S=0;S<C.length;S++){var yt=C[S];(at=y.findBin(yt,D))>=0&&at<nt&&(B+=j(at,S,d,it,k),_&&z[at].length&&yt!==C[z[at][0]]&&(_=!1),z[at].push(S),xt[S]=at,st=Math.min(st,yt-F[at]),dt=Math.min(dt,F[at+1]-yt))}Y.leftGap=st,Y.rightGap=dt,_||(St=function(Gt,Pt){return function(){var Vt=g._fullLayout._roundFnOpts[Q];return e(Vt.leftGap,Vt.rightGap,F,v,E)(Gt,Pt)}}),H&&(B=r(d,k)),rt&&rt(d,B,N),x.enabled&&function u(g,c,w){var d,o,v;function M(E){v=g[E],g[E]/=2}function b(E){g[E]=v+(o=g[E])/2,v+=o}if("half"===w)if("increasing"===c)for(M(0),d=1;d<g.length;d++)b(d);else for(M(g.length-1),d=g.length-2;d>=0;d--)b(d);else if("increasing"===c){for(d=1;d<g.length;d++)g[d]+=g[d-1];"exclude"===w&&(g.unshift(0),g.pop())}else{for(d=g.length-2;d>=0;d--)g[d]+=g[d+1];"exclude"===w&&(g.push(0),g.shift())}}(d,x.direction,x.currentbin);var Et=Math.min(w.length,d.length),Tt=[],gt=0,Mt=Et-1;for(S=0;S<Et;S++)if(d[S]){gt=S;break}for(S=Et-1;S>=gt;S--)if(d[S]){Mt=S;break}for(S=gt;S<=Mt;S++)if(A(w[S])&&A(d[S])){var Nt={p:w[S],s:d[S],b:0};x.enabled||(Nt.pts=z[S],_?Nt.ph0=Nt.ph1=z[S].length?C[z[S][0]]:w[S]:(c._computePh=!0,Nt.ph0=St(F[S]),Nt.ph1=St(F[S+1],!0))),Tt.push(Nt)}return 1===Tt.length&&(Tt[0].width1=P.tickIncrement(Tt[0].p,n.size,!1,E)-Tt[0].p),L(Tt,c),y.isArrayOrTypedArray(c.selectedpoints)&&y.tagSelected(Tt,c,xt),Tt},calcAllAutoBins:a}},73316:function(tt){"use strict";tt.exports={eventDataKeys:["binNumber"]}},80536:function(tt,W,t){"use strict";var A=t(3400),y=t(79811),i=t(24040).traceIs,P=t(20011),L=t(31508).validateCornerradius,l=A.nestedProperty,m=t(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],e=["x","y"];tt.exports=function(a,h){var w,d,o,v,M,b,E,f=h._histogramBinOpts={},u=[],g={},c=[];function x(at,lt){return A.coerce(w._input,w,w._module.attributes,at,lt)}function S(at){return"v"===at.orientation?"x":"y"}function n(at,lt,K){var j=at.uid+"__"+K;lt||(lt=j);var rt=function T(at,lt){return y.getFromTrace({_fullLayout:h},at,lt).type}(at,K),H=at[K+"calendar"]||"",Z=f[lt],it=!0;Z&&(rt===Z.axType&&H===Z.calendar?(it=!1,Z.traces.push(at),Z.dirs.push(K)):(lt=j,rt!==Z.axType&&A.warn(["Attempted to group the bins of trace",at.index,"set on a","type:"+rt,"axis","with bins on","type:"+Z.axType,"axis."].join(" ")),H!==Z.calendar&&A.warn(["Attempted to group the bins of trace",at.index,"set with a",H,"calendar","with bins",Z.calendar?"on a "+Z.calendar+" calendar":"w/o a set calendar"].join(" ")))),it&&(f[lt]={traces:[at],dirs:[K],axType:rt,calendar:at[K+"calendar"]||""}),at["_"+K+"bingroup"]=lt}for(M=0;M<a.length;M++)if(i(w=a[M],"histogram")){if(u.push(w),delete w._xautoBinFinished,delete w._yautoBinFinished,"histogram"===w.type){var C=x("marker.cornerradius",h.barcornerradius);w.marker&&(w.marker.cornerradius=L(C))}i(w,"2dMap")||P(w._input,w,h,x)}var p=h._alignmentOpts||{};for(M=0;M<u.length;M++){if(o="",!i(w=u[M],"2dMap")){if(v=S(w),"group"===h.barmode&&w.alignmentgroup){var D=m(h,w[v+"axis"])+w.orientation;(p[D]||{})[w.alignmentgroup]&&(o=D)}!o&&"overlay"!==h.barmode&&(o=m(h,w.xaxis)+m(h,w.yaxis)+S(w))}o?(g[o]||(g[o]=[]),g[o].push(w)):c.push(w)}for(o in g)if(1!==(d=g[o]).length){var N=!1;for(d.length&&(w=d[0],N=x("bingroup")),o=N||o,M=0;M<d.length;M++){var k=(w=d[M])._input.bingroup;k&&k!==o&&A.warn(["Trace",w.index,"must match","within bingroup",o+".","Ignoring its bingroup:",k,"setting."].join(" ")),w.bingroup=o,n(w,o,S(w))}}else c.push(d[0]);for(M=0;M<c.length;M++){w=c[M];var z=x("bingroup");if(i(w,"2dMap"))for(E=0;E<2;E++){var B=x((v=e[E])+"bingroup",z?z+"__"+v:null);n(w,B,v)}else n(w,z,S(w))}for(o in f){var O=f[o];for(d=O.traces,b=0;b<r.length;b++){var J,et,U=r[b],G=U.name;if("nbins"!==G||!O.sizeFound){for(M=0;M<d.length;M++){if(void 0!==l((w=d[M])._input,J=U.aStr[v=O.dirs[M]]).get()){O[G]=x(J),O[G+"Found"]=!0;break}(et=(w._autoBin||{})[v]||{})[G]&&l(w,J).set(et[G])}if("start"===G||"end"===G)for(;M<d.length;M++)(w=d[M])["_"+v+"bingroup"]&&x(J,(et=(w._autoBin||{})[v]||{})[G]);"nbins"===G&&!O.sizeFound&&!O.nbinsFound&&(w=d[0],O[G]=x(J))}}}}},6616:function(tt,W,t){"use strict";var A=t(24040),y=t(3400),i=t(76308),P=t(31508).handleText,L=t(55592),l=t(40196);tt.exports=function(r,e,s,a){function h(S,T){return y.coerce(r,e,l,S,T)}var f=h("x"),u=h("y");h("cumulative.enabled")&&(h("cumulative.direction"),h("cumulative.currentbin")),h("text");var c=h("textposition");P(r,e,a,h,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h("hovertext"),h("hovertemplate"),h("xhoverformat"),h("yhoverformat");var w=h("orientation",u&&!f?"h":"v"),d="v"===w?"x":"y",o="v"===w?"y":"x",v=f&&u?Math.min(y.minRowLength(f)&&y.minRowLength(u)):y.minRowLength(e[d]||[]);if(v){e._length=v,A.getComponentMethod("calendars","handleTraceDefaults")(r,e,["x","y"],a),e[o]&&h("histfunc"),h("histnorm"),h("autobin"+d),L(r,e,h,s,a),y.coerceSelectionMarkerOpacity(e,h);var E=(e.marker.line||{}).color,x=A.getComponentMethod("errorbars","supplyDefaults");x(r,e,E||i.defaultLine,{axis:"y"}),x(r,e,E||i.defaultLine,{axis:"x",inherit:"y"})}else e.visible=!1}},84980:function(tt){"use strict";tt.exports=function(t,A,y,i,P){if(t.x="xVal"in A?A.xVal:A.x,t.y="yVal"in A?A.yVal:A.y,"zLabelVal"in A&&(t.z=A.zLabelVal),A.xa&&(t.xaxis=A.xa),A.ya&&(t.yaxis=A.ya),!(y.cumulative||{}).enabled){var l,L=Array.isArray(P)?i[0].pts[P[0]][P[1]]:i[P].pts;if(t.pointNumbers=L,t.binNumber=t.pointNumber,delete t.pointNumber,delete t.pointIndex,y._indexToPoints){l=[];for(var m=0;m<L.length;m++)l=l.concat(y._indexToPoints[L[m]])}else l=L;t.pointIndices=l}return t}},43339:function(tt,W,t){"use strict";var A=t(63400).hoverPoints,y=t(54460).hoverLabelText;tt.exports=function(P,L,l,m,r){var e=A(P,L,l,m,r);if(e){var s=(P=e[0]).cd[P.index],a=P.cd[0].trace;if(!a.cumulative.enabled){var h="h"===a.orientation?"y":"x";P[h+"Label"]=y(P[h+"a"],[s.ph0,s.ph1],a[h+"hoverformat"])}return e}}},42600:function(tt,W,t){"use strict";tt.exports={attributes:t(40196),layoutAttributes:t(39324),supplyDefaults:t(6616),crossTraceDefaults:t(80536),supplyLayoutDefaults:t(37156),calc:t(35852).calc,crossTraceCalc:t(96376).crossTraceCalc,plot:t(98184).plot,layerName:"barlayer",style:t(60100).style,styleOnSelect:t(60100).styleOnSelect,colorbar:t(5528),hoverPoints:t(43339),selectPoints:t(45784),eventData:t(84980),moduleType:"trace",name:"histogram",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(tt){"use strict";tt.exports={percent:function(W,t){for(var A=W.length,y=100/t,i=0;i<A;i++)W[i]*=y},probability:function(W,t){for(var A=W.length,y=0;y<A;y++)W[y]/=t},density:function(W,t,A,y){var i=W.length;y=y||1;for(var P=0;P<i;P++)W[P]*=A[P]*y},"probability density":function(W,t,A,y){var i=W.length;y&&(t/=y);for(var P=0;P<i;P++)W[P]*=A[P]/t}}},37008:function(tt,W,t){"use strict";var A=t(40196),y=t(11120),i=t(83328),P=t(45464),L=t(29736).axisHoverFormat,l=t(21776).Ks,m=t(21776).Gw,r=t(49084),e=t(92880).extendFlat;tt.exports=e({x:A.x,y:A.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:A.histnorm,histfunc:A.histfunc,nbinsx:A.nbinsx,xbins:y("x"),nbinsy:A.nbinsy,ybins:y("y"),autobinx:A.autobinx,autobiny:A.autobiny,bingroup:e({},A.bingroup,{}),xbingroup:e({},A.bingroup,{}),ybingroup:e({},A.bingroup,{}),xgap:i.xgap,ygap:i.ygap,zsmooth:i.zsmooth,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:l({},{keys:"z"}),texttemplate:m({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:i.textfont,showlegend:e({},P.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(tt,W,t){"use strict";var A=t(3400),y=t(54460),i=t(16964),P=t(10648),L=t(2e3),l=t(67712),m=t(35852).calcAllAutoBins;function r(a,h,f,u){var c,g=new Array(a);if(u)for(c=0;c<a;c++)g[c]=1/(h[c+1]-h[c]);else{var w=1/f;for(c=0;c<a;c++)g[c]=w}return g}function e(a,h){return{start:a(h.start),end:a(h.end),size:h.size}}function s(a,h,f,u,g,c){var w,d=a.length-1,o=new Array(d),v=l(f,u,a,g,c);for(w=0;w<d;w++){var M=(h||[])[w];o[w]=void 0===M?[v(a[w]),v(a[w+1],!0)]:[M,M]}return o}tt.exports=function(h,f){var b,E,x,S,u=y.getFromId(h,f.xaxis),g=y.getFromId(h,f.yaxis),c=f.xcalendar,w=f.ycalendar,d=function(Ht){return u.r2c(Ht,0,c)},o=function(Ht){return g.r2c(Ht,0,w)},T=m(h,f,u,"x"),n=T[0],C=T[1],p=m(h,f,g,"y"),F=p[0],D=p[1],N=f._length;C.length>N&&C.splice(N,C.length-N),D.length>N&&D.splice(N,D.length-N);var k=[],z=[],B=[],O="string"==typeof n.size,U="string"==typeof F.size,G=[],J=[],et=O?G:n,at=U?J:F,lt=0,K=[],j=[],rt=f.histnorm,H=f.histfunc,Z=-1!==rt.indexOf("density"),Q="max"===H||"min"===H?null:0,Y=i.count,nt=P[rt],_=!1,st=[],dt=[],xt="z"in f?f.z:"marker"in f&&Array.isArray(f.marker.color)?f.marker.color:"";xt&&"count"!==H&&(_="avg"===H,Y=i[H]);var yt=n.size,St=d(n.start),Et=d(n.end)+(St-y.tickIncrement(St,yt,!1,c))/1e6;for(b=St;b<Et;b=y.tickIncrement(b,yt,!1,c))z.push(Q),G.push(b),_&&B.push(0);G.push(b);var Tt=z.length,gt=(b-St)/Tt,Mt=u.c2r(St+gt/2,0,c),Nt=F.size,Gt=o(F.start),Pt=o(F.end)+(Gt-y.tickIncrement(Gt,Nt,!1,w))/1e6;for(b=Gt;b<Pt;b=y.tickIncrement(b,Nt,!1,w)){k.push(z.slice()),J.push(b);var Vt=new Array(Tt);for(E=0;E<Tt;E++)Vt[E]=[];j.push(Vt),_&&K.push(B.slice())}J.push(b);var re=k.length,le=(b-Gt)/re,It=function(Ht){return g.c2r(Ht,0,w)}(Gt+le/2);Z&&(st=r(z.length,et,gt,O),dt=r(k.length,at,le,U)),!O&&"date"===u.type&&(et=e(d,et)),!U&&"date"===g.type&&(at=e(o,at));var Rt=!0,$t=!0,oe=new Array(Tt),se=new Array(re),ve=1/0,de=1/0,jt=1/0,Ct=1/0;for(b=0;b<N;b++){var Wt=C[b],Xt=D[b];x=A.findBin(Wt,et),S=A.findBin(Xt,at),x>=0&&x<Tt&&S>=0&&S<re&&(lt+=Y(x,b,k[S],xt,K[S]),j[S][x].push(b),Rt&&(void 0===oe[x]?oe[x]=Wt:oe[x]!==Wt&&(Rt=!1)),$t&&(void 0===se[S]?se[S]=Xt:se[S]!==Xt&&($t=!1)),ve=Math.min(ve,Wt-G[x]),de=Math.min(de,G[x+1]-Wt),jt=Math.min(jt,Xt-J[S]),Ct=Math.min(Ct,J[S+1]-Xt))}if(_)for(S=0;S<re;S++)lt+=L(k[S],K[S]);if(nt)for(S=0;S<re;S++)nt(k[S],lt,st,dt[S]);return{x:C,xRanges:s(G,Rt&&oe,ve,de,u,c),x0:Mt,dx:gt,y:D,yRanges:s(J,$t&&se,jt,Ct,g,w),y0:It,dy:le,z:k,pts:j}}},99784:function(tt,W,t){"use strict";var A=t(3400),y=t(56408),i=t(82748),P=t(27260),L=t(39096),l=t(37008);tt.exports=function(r,e,s,a){function h(f,u){return A.coerce(r,e,l,f,u)}y(r,e,h,a),!1!==e.visible&&(i(r,e,h,a),P(r,e,a,h,{prefix:"",cLetter:"z"}),h("hovertemplate"),L(h,a),h("xhoverformat"),h("yhoverformat"))}},59576:function(tt,W,t){"use strict";var A=t(55512),y=t(54460).hoverLabelText;tt.exports=function(P,L,l,m,r){var e=A(P,L,l,m,r);if(e){var s=(P=e[0]).index,f=P.cd[0],u=f.trace,g=f.xRanges[s[1]],c=f.yRanges[s[0]];return P.xLabel=y(P.xa,[g[0],g[1]],u.xhoverformat),P.yLabel=y(P.ya,[c[0],c[1]],u.yhoverformat),e}}},21536:function(tt,W,t){"use strict";tt.exports={attributes:t(37008),supplyDefaults:t(99784),crossTraceDefaults:t(80536),calc:t(19512),plot:t(41420),layerName:"heatmaplayer",colorbar:t(96288),style:t(41648),hoverPoints:t(59576),eventData:t(84980),moduleType:"trace",name:"histogram2d",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(tt,W,t){"use strict";var A=t(24040),y=t(3400);tt.exports=function(P,L,l,m){var r=l("x"),e=l("y"),s=y.minRowLength(r),a=y.minRowLength(e);s&&a?(L._length=Math.min(s,a),A.getComponentMethod("calendars","handleTraceDefaults")(P,L,["x","y"],m),(l("z")||l("marker.color"))&&l("histfunc"),l("histnorm"),l("autobinx"),l("autobiny")):L.visible=!1}},81220:function(tt,W,t){"use strict";var A=t(37008),y=t(67104),i=t(49084),P=t(29736).axisHoverFormat,L=t(92880).extendFlat;tt.exports=L({x:A.x,y:A.y,z:A.z,marker:A.marker,histnorm:A.histnorm,histfunc:A.histfunc,nbinsx:A.nbinsx,xbins:A.xbins,nbinsy:A.nbinsy,ybins:A.ybins,autobinx:A.autobinx,autobiny:A.autobiny,bingroup:A.bingroup,xbingroup:A.xbingroup,ybingroup:A.ybingroup,autocontour:y.autocontour,ncontours:y.ncontours,contours:y.contours,line:{color:y.line.color,width:L({},y.line.width,{dflt:.5}),dash:y.line.dash,smoothing:y.line.smoothing,editType:"plot"},xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:A.hovertemplate,texttemplate:y.texttemplate,textfont:y.textfont},i("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(tt,W,t){"use strict";var A=t(3400),y=t(56408),i=t(84952),P=t(97680),L=t(39096),l=t(81220);tt.exports=function(r,e,s,a){function h(u,g){return A.coerce(r,e,l,u,g)}y(r,e,h,a),!1!==e.visible&&(i(r,e,h,function f(u){return A.coerce2(r,e,l,u)}),P(r,e,h,a),h("xhoverformat"),h("yhoverformat"),h("hovertemplate"),e.contours&&"heatmap"===e.contours.coloring&&L(h,a))}},65664:function(tt,W,t){"use strict";tt.exports={attributes:t(81220),supplyDefaults:t(3704),crossTraceDefaults:t(80536),calc:t(20688),plot:t(23676).plot,layerName:"contourlayer",style:t(52440),colorbar:t(55296),hoverPoints:t(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(tt,W,t){"use strict";var A=t(21776).Ks,y=t(21776).Gw,i=t(49084),P=t(86968).u,L=t(74996),l=t(424),m=t(40516),r=t(32984),e=t(92880).extendFlat,s=t(98192).c;tt.exports={labels:l.labels,parents:l.parents,values:l.values,branchvalues:l.branchvalues,count:l.count,level:l.level,maxdepth:l.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:m.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:e({colors:l.marker.colors,line:l.marker.line,pattern:s,editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),leaf:l.leaf,pathbar:m.pathbar,text:L.text,textinfo:l.textinfo,texttemplate:y({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:L.hovertext,hoverinfo:l.hoverinfo,hovertemplate:A({},{keys:r.eventDataKeys}),textfont:L.textfont,insidetextfont:L.insidetextfont,outsidetextfont:m.outsidetextfont,textposition:m.textposition,sort:L.sort,root:l.root,domain:P({name:"icicle",trace:!0,editType:"calc"})}},59564:function(tt,W,t){"use strict";var A=t(7316);W.name="icicle",W.plot=function(y,i,P,L){A.plotBasePlot(W.name,y,i,P,L)},W.clean=function(y,i,P,L){A.cleanBasePlot(W.name,y,i,P,L)}},73876:function(tt,W,t){"use strict";var A=t(3776);W.r=function(y,i){return A.calc(y,i)},W.q=function(y){return A._runCrossTraceCalc("icicle",y)}},7045:function(tt,W,t){"use strict";var A=t(3400),y=t(97376),i=t(76308),P=t(86968).Q,L=t(31508).handleText,l=t(78048).TEXTPAD,m=t(74174).handleMarkerDefaults,r=t(8932),e=r.hasColorscale,s=r.handleDefaults;tt.exports=function(h,f,u,g){function c(x,S){return A.coerce(h,f,y,x,S)}var w=c("labels"),d=c("parents");if(w&&w.length&&d&&d.length){var o=c("values");c(o&&o.length?"branchvalues":"count"),c("level"),c("maxdepth"),c("tiling.orientation"),c("tiling.flip"),c("tiling.pad");var v=c("text");c("texttemplate"),f.texttemplate||c("textinfo",A.isArrayOrTypedArray(v)?"text+label":"label"),c("hovertext"),c("hovertemplate");var M=c("pathbar.visible");L(h,f,g,c,"auto",{hasPathbar:M,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition"),m(h,f,g,c);var E=f._hasColorscale=e(h,"marker","colors")||(h.marker||{}).coloraxis;E&&s(h,f,g,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",E?1:.7),f._hovered={marker:{line:{width:2,color:i.contrast(g.paper_bgcolor)}}},M&&(c("pathbar.thickness",f.pathbar.textfont.size+2*l),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),P(f,g,c),f._length=null}else f.visible=!1}},67880:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=t(43616),P=t(72736),L=t(25132),l=t(47192).styleOne,m=t(32984),r=t(78176),e=t(45716),s=t(96488).formatSliceLabel,a=!1;tt.exports=function(f,u,g,c,w){var d=w.width,o=w.height,v=w.viewX,M=w.viewY,b=w.pathSlice,E=w.toMoveInsideSlice,x=w.strTransform,S=w.hasTransition,T=w.handleSlicesExit,n=w.makeUpdateSliceInterpolator,C=w.makeUpdateTextInterpolator,p=w.prevEntry,D=f._context.staticPlot,N=f._fullLayout,z=u[0].trace,B=-1!==z.textposition.indexOf("left"),O=-1!==z.textposition.indexOf("right"),U=-1!==z.textposition.indexOf("bottom"),J=L(g,[d,o],{flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,orientation:z.tiling.orientation,pad:{inner:z.tiling.pad},maxDepth:z._maxDepth}).descendants(),et=1/0,at=-1/0;J.forEach(function(H){var Z=H.depth;Z>=z._maxDepth?(H.x0=H.x1=(H.x0+H.x1)/2,H.y0=H.y1=(H.y0+H.y1)/2):(et=Math.min(et,Z),at=Math.max(at,Z))}),c=c.data(J,r.getPtId),z._maxVisibleLayers=isFinite(at)?at-et+1:0,c.enter().append("g").classed("slice",!0),T(c,a,{},[d,o],b),c.order();var lt=null;if(S&&p){var K=r.getPtId(p);c.each(function(H){null===lt&&r.getPtId(H)===K&&(lt={x0:H.x0,x1:H.x1,y0:H.y0,y1:H.y1})})}var j=function(){return lt||{x0:0,x1:d,y0:0,y1:o}},rt=c;return S&&(rt=rt.transition().each("end",function(){var H=A.select(this);r.setSliceCursor(H,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),rt.each(function(H){H._x0=v(H.x0),H._x1=v(H.x1),H._y0=M(H.y0),H._y1=M(H.y1),H._hoverX=v(H.x1-z.tiling.pad),H._hoverY=M(U?H.y1-z.tiling.pad/2:H.y0+z.tiling.pad/2);var Z=A.select(this),it=y.ensureSingle(Z,"path","surface",function(_){_.style("pointer-events",D?"none":"all")});S?it.transition().attrTween("d",function(_){var st=n(_,a,j(),[d,o],{orientation:z.tiling.orientation,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1});return function(dt){return b(st(dt))}}):it.attr("d",b),Z.call(e,g,f,u,{styleOne:l,eventDataKeys:m.eventDataKeys,transitionTime:m.CLICK_TRANSITION_TIME,transitionEasing:m.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{isTransitioning:f._transitioning}),it.call(l,H,z,f,{hovered:!1}),H._text=H.x0===H.x1||H.y0===H.y1?"":s(H,g,z,u,N)||"";var Q=y.ensureSingle(Z,"g","slicetext"),Y=y.ensureSingle(Q,"text","",function(_){_.attr("data-notex",1)}),nt=y.ensureUniformFontSize(f,r.determineTextFont(z,H,N.font));Y.text(H._text||" ").classed("slicetext",!0).attr("text-anchor",O?"end":B?"start":"middle").call(i.font,nt).call(P.convertToTspans,f),H.textBB=i.bBox(Y.node()),H.transform=E(H,{fontSize:nt.size}),H.transform.fontSize=nt.size,S?Y.transition().attrTween("transform",function(_){var st=C(_,a,j(),[d,o]);return function(dt){return x(st(dt))}}):Y.attr("transform",x(H))}),lt}},29044:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"icicle",basePlotModule:t(59564),categories:[],animatable:!0,attributes:t(97376),layoutAttributes:t(90676),supplyDefaults:t(7045),supplyLayoutDefaults:t(4304),calc:t(73876).r,crossTraceCalc:t(73876).q,plot:t(38364),style:t(47192).style,colorbar:t(5528),meta:{}}},90676:function(tt){"use strict";tt.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(tt,W,t){"use strict";var A=t(3400),y=t(90676);tt.exports=function(P,L){function l(m,r){return A.coerce(P,L,y,m,r)}l("iciclecolorway",L.colorway),l("extendiciclecolors")}},25132:function(tt,W,t){"use strict";var A=t(74148),y=t(83024);tt.exports=function(P,L,l){var m=l.flipX,r=l.flipY,e="h"===l.orientation,s=l.maxDepth,a=L[0],h=L[1];s&&(a=(P.height+1)*L[0]/Math.min(P.height+1,s),h=(P.height+1)*L[1]/Math.min(P.height+1,s));var f=A.partition().padding(l.pad.inner).size(e?[L[1],a]:[L[0],h])(P);return(e||m||r)&&y(f,L,{swapXY:e,flipX:m,flipY:r}),f}},38364:function(tt,W,t){"use strict";var A=t(95808),y=t(67880);tt.exports=function(P,L,l,m){return A(P,L,l,m,{type:"icicle",drawDescendants:y})}},47192:function(tt,W,t){"use strict";var A=t(33428),y=t(76308),i=t(3400),P=t(82744).resizeText,L=t(60404);function m(r,e,s,a){var f=!e.children,u=e.data.data.i,g=i.castOption(s,u,"marker.line.color")||y.defaultLine,c=i.castOption(s,u,"marker.line.width")||0;r.call(L,e,s,a).style("stroke-width",c).call(y.stroke,g).style("opacity",f?s.leaf.opacity:null)}tt.exports={style:function l(r){var e=r._fullLayout._iciclelayer.selectAll(".trace");P(r,e,"icicle"),e.each(function(s){var a=A.select(this),f=s[0].trace;a.style("opacity",f.opacity),a.selectAll("path.surface").each(function(u){A.select(this).call(m,u,f,r)})})},styleOne:m}},95188:function(tt,W,t){"use strict";for(var A=t(45464),y=t(21776).Ks,i=t(92880).extendFlat,P=t(47797).colormodel,L=["rgb","rgba","rgba256","hsl","hsla"],l=[],m=[],r=0;r<L.length;r++){var e=P[L[r]];l.push("For the `"+L[r]+"` colormodel, it is ["+(e.zminDflt||e.min).join(", ")+"]."),m.push("For the `"+L[r]+"` colormodel, it is ["+(e.zmaxDflt||e.max).join(", ")+"].")}tt.exports=i({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:L,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:i({},A.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:y({},{keys:["z","color","colormodel"]}),transforms:void 0})},93336:function(tt,W,t){"use strict";var A=t(3400),y=t(47797),i=t(38248),P=t(54460),L=t(3400).maxRowLength,l=t(18712).i;function m(s,a,h,f){return function(u){return A.constrain((u-s)*a,h,f)}}function r(s,a){return function(h){return A.constrain(h,s,a)}}tt.exports=function(a,h){var f,u;if(h._hasZ)f=h.z.length,u=L(h.z);else if(h._hasSource){var g=l(h.source);f=g.height,u=g.width}var v,c=P.getFromId(a,h.xaxis||"x"),w=P.getFromId(a,h.yaxis||"y"),d=c.d2c(h.x0)-h.dx/2,o=w.d2c(h.y0)-h.dy/2,M=[d,d+u*h.dx],b=[o,o+f*h.dy];if(c&&"log"===c.type)for(v=0;v<u;v++)M.push(d+v*h.dx);if(w&&"log"===w.type)for(v=0;v<f;v++)b.push(o+v*h.dy);return h._extremes[c._id]=P.findExtremes(c,M),h._extremes[w._id]=P.findExtremes(w,b),h._scaler=function e(s){var a=y.colormodel[s.colormodel],f=(a.colormodel||s.colormodel).length;s._sArray=[];for(var u=0;u<f;u++)s._sArray.push(a.min[u]!==s.zmin[u]||a.max[u]!==s.zmax[u]?m(s.zmin[u],(a.max[u]-a.min[u])/(s.zmax[u]-s.zmin[u]),a.min[u],a.max[u]):r(a.min[u],a.max[u]));return function(g){for(var c=g.slice(0,f),w=0;w<f;w++){var d=c[w];if(!i(d))return!1;c[w]=s._sArray[w](d)}return c}}(h),[{x0:d,y0:o,z:h.z,w:u,h:f}]}},47797:function(tt){"use strict";tt.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(W){return W.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(W){return W.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(W){return W.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(W){var t=W.slice(0,3);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["\xb0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(W){var t=W.slice(0,4);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["\xb0","%","%",""]}}}},13188:function(tt,W,t){"use strict";var A=t(3400),y=t(95188),i=t(47797),P=t(81792).IMAGE_URL_PREFIX;tt.exports=function(l,m){function r(a,h){return A.coerce(l,m,y,a,h)}r("source"),m.source&&!m.source.match(P)&&delete m.source,m._hasSource=!!m.source;var s,e=r("z");m._hasZ=!(void 0===e||!e.length||!e[0]||!e[0].length),m._hasZ||m._hasSource?(r("x0"),r("y0"),r("dx"),r("dy"),m._hasZ?(r("colormodel","rgb"),r("zmin",(s=i.colormodel[m.colormodel]).zminDflt||s.min),r("zmax",s.zmaxDflt||s.max)):m._hasSource&&(m.colormodel="rgba256",m.zmin=(s=i.colormodel[m.colormodel]).zminDflt,m.zmax=s.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),m._length=null):m.visible=!1}},79972:function(tt){"use strict";tt.exports=function(t,A){return"xVal"in A&&(t.x=A.xVal),"yVal"in A&&(t.y=A.yVal),A.xa&&(t.xaxis=A.xa),A.ya&&(t.yaxis=A.ya),t.color=A.color,t.colormodel=A.trace.colormodel,t.z||(t.z=A.color),t}},18712:function(tt,W,t){"use strict";var A=t(19480),y=t(81792).IMAGE_URL_PREFIX,i=t(33576).Buffer;W.i=function(P){var L=P.replace(y,""),l=new i(L,"base64");return A(l)}},24892:function(tt,W,t){"use strict";var A=t(93024),y=t(3400),i=y.isArrayOrTypedArray,P=t(47797);tt.exports=function(l,m,r){var e=l.cd[0],s=e.trace,a=l.xa,h=l.ya;if(!(A.inbox(m-e.x0,m-(e.x0+e.w*s.dx),0)>0||A.inbox(r-e.y0,r-(e.y0+e.h*s.dy),0)>0)){var g,f=Math.floor((m-e.x0)/s.dx),u=Math.floor(Math.abs(r-e.y0)/s.dy);if(s._hasZ?g=e.z[u][f]:s._hasSource&&(g=s._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(f,u,1,1).data),g){var w,c=e.hi||s.hoverinfo;if(c){var d=c.split("+");-1!==d.indexOf("all")&&(d=["color"]),-1!==d.indexOf("color")&&(w=!0)}var S,o=P.colormodel[s.colormodel],v=o.colormodel||s.colormodel,M=v.length,b=s._scaler(g),E=o.suffix,x=[];(s.hovertemplate||w)&&(x.push("["+[b[0]+E[0],b[1]+E[1],b[2]+E[2]].join(", ")),4===M&&x.push(", "+b[3]+E[3]),x.push("]"),x=x.join(""),l.extraText=v.toUpperCase()+": "+x),i(s.hovertext)&&i(s.hovertext[u])?S=s.hovertext[u][f]:i(s.text)&&i(s.text[u])&&(S=s.text[u][f]);var T=h.c2p(e.y0+(u+.5)*s.dy),n=e.x0+(f+.5)*s.dx,C=e.y0+(u+.5)*s.dy,p="["+g.slice(0,s.colormodel.length).join(", ")+"]";return[y.extendFlat(l,{index:[u,f],x0:a.c2p(e.x0+f*s.dx),x1:a.c2p(e.x0+(f+1)*s.dx),y0:T,y1:T,color:b,xVal:n,xLabelVal:n,yVal:C,yLabelVal:C,zLabelVal:p,text:S,hovertemplateLabels:{zLabel:p,colorLabel:x,"color[0]Label":b[0]+E[0],"color[1]Label":b[1]+E[1],"color[2]Label":b[2]+E[2],"color[3]Label":b[3]+E[3]}})]}}}},48928:function(tt,W,t){"use strict";tt.exports={attributes:t(95188),supplyDefaults:t(13188),calc:t(93336),plot:t(63715),style:t(28576),hoverPoints:t(24892),eventData:t(79972),moduleType:"trace",name:"image",basePlotModule:t(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=y.strTranslate,P=t(9616),L=t(47797),l=t(9188),m=t(2264).STYLE;tt.exports=function(e,s,a,h){var f=s.xaxis,u=s.yaxis,g=!e._context._exportedPlot&&l();y.makeTraceGroups(h,a,"im").each(function(c){var w=A.select(this),d=c[0],o=d.trace,v=("fast"===o.zsmooth||!1===o.zsmooth&&g)&&!o._hasZ&&o._hasSource&&"linear"===f.type&&"linear"===u.type;o._realImage=v;var C,p,F,D,N,k,M=d.z,b=d.x0,E=d.y0,x=d.w,S=d.h,T=o.dx,n=o.dy;for(k=0;void 0===C&&k<x;)C=f.c2p(b+k*T),k++;for(k=x;void 0===p&&k>0;)p=f.c2p(b+k*T),k--;for(k=0;void 0===D&&k<S;)D=u.c2p(E+k*n),k++;for(k=S;void 0===N&&k>0;)N=u.c2p(E+k*n),k--;if(p<C&&(F=p,p=C,C=F),N<D&&(F=D,D=N,N=F),!v){var z=.5;C=Math.max(-z*f._length,C),p=Math.min(1.5*f._length,p),D=Math.max(-z*u._length,D),N=Math.min(1.5*u._length,N)}var B=Math.round(p-C),O=Math.round(N-D);if(B<=0||O<=0)w.selectAll("image").data([]).exit().remove();else{var et=w.selectAll("image").data([c]);et.enter().append("svg:image").attr({xmlns:P.svg,preserveAspectRatio:"none"}),et.exit().remove();var at=!1===o.zsmooth?m:"";if(v){var lt=y.simpleMap(f.range,f.r2l),K=y.simpleMap(u.range,u.r2l),j=lt[1]<lt[0],rt=K[1]>K[0];if(j||rt){var H=C+B/2,Z=D+O/2;at+="transform:"+i(H+"px",Z+"px")+"scale("+(j?-1:1)+","+(rt?-1:1)+")"+i(-H+"px",-Z+"px")+";"}}et.attr("style",at);var it=new Promise(function(Q){if(o._hasZ)Q();else if(o._hasSource)if(o._canvas&&o._canvas.el.width===x&&o._canvas.el.height===S&&o._canvas.source===o.source)Q();else{var Y=document.createElement("canvas");Y.width=x,Y.height=S;var nt=Y.getContext("2d",{willReadFrequently:!0});o._image=o._image||new Image;var _=o._image;_.onload=function(){nt.drawImage(_,0,0),o._canvas={el:Y,source:o.source},Q()},_.setAttribute("src",o.source)}}).then(function(){var Q;if(o._hasZ)Q=J(function(st,dt){var xt=M[dt][st];return y.isTypedArray(xt)&&(xt=Array.from(xt)),xt}).toDataURL("image/png");else if(o._hasSource)if(v)Q=o.source;else{var _=o._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,x,S).data;Q=J(function(st,dt){var xt=4*(dt*x+st);return[_[xt],_[xt+1],_[xt+2],_[xt+3]]}).toDataURL("image/png")}et.attr({"xlink:href":Q,height:O,width:B,x:C,y:D})});e._promises.push(it)}function J(Q){var Y=document.createElement("canvas");Y.width=B,Y.height=O;var St,nt=Y.getContext("2d",{willReadFrequently:!0}),_=function(Gt){return y.constrain(Math.round(f.c2p(b+Gt*T)-C),0,B)},st=function(Gt){return y.constrain(Math.round(u.c2p(E+Gt*n)-D),0,O)},dt=L.colormodel[o.colormodel],xt=dt.colormodel||o.colormodel,yt=dt.fmt;for(k=0;k<d.w;k++){var Et=_(k),Tt=_(k+1);if(Tt!==Et&&!isNaN(Tt)&&!isNaN(Et))for(var gt=0;gt<d.h;gt++){var Mt=st(gt),Nt=st(gt+1);Nt===Mt||isNaN(Nt)||isNaN(Mt)||!Q(k,gt)||(St=o._scaler(Q(k,gt)),nt.fillStyle=St?xt+"("+yt(St).join(",")+")":"rgba(0,0,0,0)",nt.fillRect(Et,Mt,Tt-Et,Nt-Mt))}}return Y}})}},28576:function(tt,W,t){"use strict";var A=t(33428);tt.exports=function(i){A.select(i).selectAll(".im image").style("opacity",function(P){return P[0].trace.opacity})}},89864:function(tt,W,t){"use strict";var A=t(92880).extendFlat,y=t(92880).extendDeep,i=t(67824).overrideAll,P=t(25376),L=t(22548),l=t(86968).u,m=t(94724),r=t(31780).templatedArray,e=t(48164),s=t(29736).descriptionOnlyNumbers,a=P({editType:"plot",colorEditType:"plot"}),h={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:L.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},f={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=r("step",y({},h,{range:f}));tt.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:l({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:A({},a,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:s("value")},font:A({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:s("value")},increasing:{symbol:{valType:"string",dflt:e.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:e.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:e.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:e.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:A({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:y({},h,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:i({range:f,visible:A({},m.visible,{dflt:!0}),tickmode:m.minor.tickmode,nticks:m.nticks,tick0:m.tick0,dtick:m.dtick,tickvals:m.tickvals,ticktext:m.ticktext,ticks:A({},m.ticks,{dflt:"outside"}),ticklen:m.ticklen,tickwidth:m.tickwidth,tickcolor:m.tickcolor,ticklabelstep:m.ticklabelstep,showticklabels:m.showticklabels,labelalias:m.labelalias,tickfont:P({}),tickangle:m.tickangle,tickformat:m.tickformat,tickformatstops:m.tickformatstops,tickprefix:m.tickprefix,showtickprefix:m.showtickprefix,ticksuffix:m.ticksuffix,showticksuffix:m.showticksuffix,separatethousands:m.separatethousands,exponentformat:m.exponentformat,minexponent:m.minexponent,showexponent:m.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:A({},h.line.color,{}),width:A({},h.line.width,{dflt:1}),editType:"plot"},thickness:A({},h.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(tt,W,t){"use strict";var A=t(7316);W.name="indicator",W.plot=function(y,i,P,L){A.plotBasePlot(W.name,y,i,P,L)},W.clean=function(y,i,P,L){A.cleanBasePlot(W.name,y,i,P,L)}},79136:function(tt){"use strict";tt.exports={calc:function W(t,A){var y=[],i=A.value;"number"!=typeof A._lastValue&&(A._lastValue=A.value);var P=A._lastValue,L=P;return A._hasDelta&&"number"==typeof A.delta.reference&&(L=A.delta.reference),y[0]={y:i,lastY:P,delta:i-L,relativeDelta:(i-L)/L},y}}},12096:function(tt){"use strict";tt.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(tt,W,t){"use strict";var A=t(3400),y=t(89864),i=t(86968).Q,P=t(31780),L=t(51272),l=t(12096),m=t(26332),r=t(25404),e=t(95936),s=t(42568);function h(f,u){function g(c,w){return A.coerce(f,u,y.gauge.steps,c,w)}g("color"),g("line.color"),g("line.width"),g("range"),g("thickness")}tt.exports={supplyDefaults:function a(f,u,g,c){function w(N,k){return A.coerce(f,u,y,N,k)}i(u,c,w),w("mode"),u._hasNumber=-1!==u.mode.indexOf("number"),u._hasDelta=-1!==u.mode.indexOf("delta"),u._hasGauge=-1!==u.mode.indexOf("gauge");var d=w("value");u._range=[0,"number"==typeof d?1.5*d:1];var v,M,b,E,x,S,o=new Array(2);function T(N,k){return A.coerce(b,E,y.gauge,N,k)}function n(N,k){return A.coerce(x,S,y.gauge.axis,N,k)}if(u._hasNumber&&(w("number.valueformat"),w("number.font.color",c.font.color),w("number.font.family",c.font.family),w("number.font.size"),void 0===u.number.font.size&&(u.number.font.size=l.defaultNumberFontSize,o[0]=!0),w("number.prefix"),w("number.suffix"),v=u.number.font.size),u._hasDelta&&(w("delta.font.color",c.font.color),w("delta.font.family",c.font.family),w("delta.font.size"),void 0===u.delta.font.size&&(u.delta.font.size=(u._hasNumber?.5:1)*(v||l.defaultNumberFontSize),o[1]=!0),w("delta.reference",u.value),w("delta.relative"),w("delta.valueformat",u.delta.relative?"2%":""),w("delta.increasing.symbol"),w("delta.increasing.color"),w("delta.decreasing.symbol"),w("delta.decreasing.color"),w("delta.position"),w("delta.prefix"),w("delta.suffix"),M=u.delta.font.size),u._scaleNumbers=(!u._hasNumber||o[0])&&(!u._hasDelta||o[1])||!1,w("title.font.color",c.font.color),w("title.font.family",c.font.family),w("title.font.size",.25*(v||M||l.defaultNumberFontSize)),w("title.text"),u._hasGauge){(b=f.gauge)||(b={}),E=P.newContainer(u,"gauge"),T("shape"),(u._isBullet="bullet"===u.gauge.shape)||w("title.align","center"),(u._isAngular="angular"===u.gauge.shape)||w("align","center"),T("bgcolor",c.paper_bgcolor),T("borderwidth"),T("bordercolor"),T("bar.color"),T("bar.line.color"),T("bar.line.width"),T("bar.thickness",l.valueThickness*("bullet"===u.gauge.shape?.5:1)),L(b,E,{name:"steps",handleItemDefaults:h}),T("threshold.value"),T("threshold.thickness"),T("threshold.line.width"),T("threshold.line.color"),x={},b&&(x=b.axis||{}),S=P.newContainer(E,"axis"),n("visible"),u._range=n("range",u._range);var D={noAutotickangles:!0,outerTicks:!0};m(x,S,n,"linear"),s(x,S,n,"linear",D),e(x,S,n,"linear",D),r(x,S,n,D)}else w("title.align","center"),w("align","center"),u._isAngular=u._isBullet=!1;u._length=null}}},43480:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"indicator",basePlotModule:t(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:t(89864),supplyDefaults:t(20424).supplyDefaults,calc:t(79136).calc,plot:t(97864),meta:{}}},97864:function(tt,W,t){"use strict";var A=t(33428),y=t(67756).qy,i=t(67756).Gz,P=t(3400),L=P.strScale,l=P.strTranslate,m=P.rad2deg,r=t(84284).MID_SHIFT,e=t(43616),s=t(12096),a=t(72736),h=t(54460),f=t(28336),u=t(37668),g=t(94724),c=t(76308),w={left:"start",center:"middle",right:"end"},d={left:0,center:.5,right:1},o=/[yzafpn\xb5mkMGTPEZY]/;function v(D){return D&&D.duration>0}function b(D,N,k,z){var Y,nt,_,st,B=k[0].trace,O=z.size,U=z.radius,G=z.innerRadius,J=z.gaugeBg,et=z.gaugeOutline,at=[O.l+O.w/2,O.t+O.h/2+U/2],lt=z.gauge,K=z.layer,j=z.transitionOpts,rt=z.onComplete,H=Math.PI/2;function Z(Rt){var $t=B.gauge.axis.range[0],se=(Rt-$t)/(B.gauge.axis.range[1]-$t)*Math.PI-H;return se<-H?-H:se>H?H:se}function it(Rt){return A.svg.arc().innerRadius((G+U)/2-Rt/2*(U-G)).outerRadius((G+U)/2+Rt/2*(U-G)).startAngle(-H)}function Q(Rt){Rt.attr("d",function($t){return it($t.thickness).startAngle(Z($t.range[0])).endAngle(Z($t.range[1]))()})}lt.enter().append("g").classed("angular",!0),lt.attr("transform",l(at[0],at[1])),K.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),K.selectAll("g.xangularaxistick,path,text").remove(),(Y=T(D,B.gauge.axis)).type="linear",Y.range=B.gauge.axis.range,Y._id="xangularaxis",Y.ticklabeloverflow="allow",Y.setScale();var dt=function(Rt){return(Y.range[0]-Rt.x)/(Y.range[1]-Y.range[0])*Math.PI+Math.PI},xt={},St=h.makeLabelFns(Y,0).labelStandoff;xt.xFn=function(Rt){var $t=dt(Rt);return Math.cos($t)*St},xt.yFn=function(Rt){var $t=dt(Rt),oe=Math.sin($t)>0?.2:1;return-Math.sin($t)*(St+Rt.fontSize*oe)+Math.abs(Math.cos($t))*(Rt.fontSize*r)},xt.anchorFn=function(Rt){var $t=dt(Rt),oe=Math.cos($t);return Math.abs(oe)<.1?"middle":oe>0?"start":"end"},xt.heightFn=function(Rt,$t,oe){var se=dt(Rt);return-.5*(1+Math.sin(se))*oe};var Et=function(Rt){return l(at[0]+U*Math.cos(Rt),at[1]-U*Math.sin(Rt))};_=function(Rt){return Et(dt(Rt))};nt=h.calcTicks(Y),st=h.getTickSigns(Y)[2],Y.visible&&(h.drawTicks(D,Y,{vals:nt,layer:K,path:"M"+(st="inside"===Y.ticks?-1:1)*((Y.linewidth||1)/2)+",0h"+st*Y.ticklen,transFn:function(Rt){var $t=dt(Rt);return Et($t)+"rotate("+-m($t)+")"}}),h.drawLabels(D,Y,{vals:nt,layer:K,transFn:_,labelFns:xt}));var Mt=[J].concat(B.gauge.steps),Nt=lt.selectAll("g.bg-arc").data(Mt);Nt.enter().append("g").classed("bg-arc",!0).append("path"),Nt.select("path").call(Q).call(x),Nt.exit().remove();var Gt=it(B.gauge.bar.thickness),Pt=lt.selectAll("g.value-arc").data([B.gauge.bar]);Pt.enter().append("g").classed("value-arc",!0).append("path");var Vt=Pt.select("path");v(j)?(Vt.transition().duration(j.duration).ease(j.easing).each("end",function(){rt&&rt()}).each("interrupt",function(){rt&&rt()}).attrTween("d",function S(D,N,k){return function(){var z=y(N,k);return function(B){return D.endAngle(z(B))()}}}(Gt,Z(k[0].lastY),Z(k[0].y))),B._lastValue=k[0].y):Vt.attr("d","number"==typeof k[0].y?Gt.endAngle(Z(k[0].y)):"M0,0Z"),Vt.call(x),Pt.exit().remove(),Mt=[];var re=B.gauge.threshold.value;(re||0===re)&&Mt.push({range:[re,re],color:B.gauge.threshold.color,line:{color:B.gauge.threshold.line.color,width:B.gauge.threshold.line.width},thickness:B.gauge.threshold.thickness});var le=lt.selectAll("g.threshold-arc").data(Mt);le.enter().append("g").classed("threshold-arc",!0).append("path"),le.select("path").call(Q).call(x),le.exit().remove();var It=lt.selectAll("g.gauge-outline").data([et]);It.enter().append("g").classed("gauge-outline",!0).append("path"),It.select("path").call(Q).call(x),It.exit().remove()}function x(D){D.each(function(N){c.stroke(A.select(this),N.line.color)}).each(function(N){c.fill(A.select(this),N.color)}).style("stroke-width",function(N){return N.line.width})}function T(D,N,k){var z=D._fullLayout,B=P.extendFlat({type:"linear",ticks:"outside",range:k,showline:!0},N),O={type:"linear",_id:"x"+N._id},U={letter:"x",font:z.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function G(J,et){return P.coerce(B,O,g,J,et)}return f(B,O,G,U,z),u(B,O,G,U),O}function n(D,N,k){return[Math.min(N/D.width,k/D.height),D,N+"x"+k]}function p(D,N,k,z){var B=document.createElementNS("http://www.w3.org/2000/svg","text"),O=A.select(B);return O.text(D).attr("x",0).attr("y",0).attr("text-anchor",k).attr("data-unformatted",D).call(a.convertToTspans,z).call(e.font,N),e.bBox(O.node())}function F(D,N,k,z,B,O){var U="_cache"+N;D[U]&&D[U].key===B||(D[U]={key:B,value:k});var G=P.aggNums(O,null,[D[U].value,z],2);return D[U].value=G,G}tt.exports=function(N,k,z,B){var U,O=N._fullLayout;v(z)&&B&&(U=B()),P.makeTraceGroups(O._indicatorlayer,k,"trace").each(function(G){var nt,_,st,St,Et,et=G[0].trace,at=A.select(this),lt=et._hasGauge,K=et._isAngular,j=et._isBullet,rt=et.domain,H={w:O._size.w*(rt.x[1]-rt.x[0]),h:O._size.h*(rt.y[1]-rt.y[0]),l:O._size.l+O._size.w*rt.x[0],r:O._size.r+O._size.w*(1-rt.x[1]),t:O._size.t+O._size.h*(1-rt.y[1]),b:O._size.b+O._size.h*rt.y[0]},Z=H.l+H.w/2,it=H.t+H.h/2,Q=Math.min(H.w/2,H.h),Y=s.innerRadius*Q,dt=et.align||"center";if(_=it,lt){if(K&&(nt=Z,_=it+Q/2,st=function(Pt){return function C(D,N){return[N/Math.sqrt(D.width/2*(D.width/2)+D.height*D.height),D,N]}(Pt,.9*Y)}),j){var xt=s.bulletPadding,yt=1-s.bulletNumberDomainSize+xt;nt=H.l+(yt+(1-yt)*d[dt])*H.w,st=function(Pt){return n(Pt,(s.bulletNumberDomainSize-xt)*H.w,H.h)}}}else nt=H.l+d[dt]*H.w,st=function(Pt){return n(Pt,H.w,H.h)};(function E(D,N,k,z){var K,j,rt,B=k[0].trace,O=z.numbersX,U=z.numbersY,G=B.align||"center",J=w[G],et=z.transitionOpts,at=z.onComplete,lt=P.ensureSingle(N,"g","numbers"),H=[];B._hasNumber&&H.push("number"),B._hasDelta&&(H.push("delta"),"left"===B.delta.position&&H.reverse());var Z=lt.selectAll("text").data(H);function it(Et,Tt,gt,Mt){if(!Et.match("s")||gt>=0==Mt>=0||Tt(gt).slice(-1).match(o)||Tt(Mt).slice(-1).match(o))return Tt;var Nt=Et.slice().replace("s","f").replace(/\d+/,function(Pt){return parseInt(Pt)-1}),Gt=T(D,{tickformat:Nt});return function(Pt){return Math.abs(Pt)<1?h.tickText(Gt,Pt).text:Tt(Pt)}}Z.enter().append("text"),Z.attr("text-anchor",function(){return J}).attr("class",function(Et){return Et}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),Z.exit().remove();var _,nt=B.mode+B.align;if(B._hasDelta&&(_=function Y(){var Et=T(D,{tickformat:B.delta.valueformat},B._range);Et.setScale(),h.prepTicks(Et);var Tt=function(le){return h.tickText(Et,le).text},gt=B.delta.suffix,Mt=B.delta.prefix,Nt=function(le){return B.delta.relative?le.relativeDelta:le.delta},Gt=function(le,It){return 0===le||"number"!=typeof le||isNaN(le)?"-":(le>0?B.delta.increasing.symbol:B.delta.decreasing.symbol)+Mt+It(le)+gt},Pt=function(le){return le.delta>=0?B.delta.increasing.color:B.delta.decreasing.color};void 0===B._deltaLastValue&&(B._deltaLastValue=Nt(k[0]));var Vt=lt.select("text.delta");function re(){Vt.text(Gt(Nt(k[0]),Tt)).call(c.fill,Pt(k[0])).call(a.convertToTspans,D)}return Vt.call(e.font,B.delta.font).call(c.fill,Pt({delta:B._deltaLastValue})),v(et)?Vt.transition().duration(et.duration).ease(et.easing).tween("text",function(){var le=A.select(this),It=Nt(k[0]),Rt=B._deltaLastValue,$t=it(B.delta.valueformat,Tt,Rt,It),oe=i(Rt,It);return B._deltaLastValue=It,function(se){le.text(Gt(oe(se),$t)),le.call(c.fill,Pt({delta:oe(se)}))}}).each("end",function(){re(),at&&at()}).each("interrupt",function(){re(),at&&at()}):re(),j=p(Gt(Nt(k[0]),Tt),B.delta.font,J,D),Vt}(),nt+=B.delta.position+B.delta.font.size+B.delta.font.family+B.delta.valueformat,nt+=B.delta.increasing.symbol+B.delta.decreasing.symbol,rt=j),B._hasNumber&&(function Q(){var Et=T(D,{tickformat:B.number.valueformat},B._range);Et.setScale(),h.prepTicks(Et);var Tt=function(Pt){return h.tickText(Et,Pt).text},gt=B.number.suffix,Mt=B.number.prefix,Nt=lt.select("text.number");function Gt(){var Pt="number"==typeof k[0].y?Mt+Tt(k[0].y)+gt:"-";Nt.text(Pt).call(e.font,B.number.font).call(a.convertToTspans,D)}v(et)?Nt.transition().duration(et.duration).ease(et.easing).each("end",function(){Gt(),at&&at()}).each("interrupt",function(){Gt(),at&&at()}).attrTween("text",function(){var Pt=A.select(this),Vt=i(k[0].lastY,k[0].y);B._lastValue=k[0].y;var re=it(B.number.valueformat,Tt,k[0].lastY,k[0].y);return function(le){Pt.text(Mt+re(Vt(le))+gt)}}):Gt(),K=p(Mt+Tt(k[0].y)+gt,B.number.font,J,D)}(),nt+=B.number.font.size+B.number.font.family+B.number.valueformat+B.number.suffix+B.number.prefix,rt=K),B._hasDelta&&B._hasNumber){var xt,yt,st=[(K.left+K.right)/2,(K.top+K.bottom)/2],dt=[(j.left+j.right)/2,(j.top+j.bottom)/2],St=.75*B.delta.font.size;"left"===B.delta.position&&(xt=F(B,"deltaPos",0,-1*(K.width*d[B.align]+j.width*(1-d[B.align])+St),nt,Math.min),yt=st[1]-dt[1],rt={width:K.width+j.width+St,height:Math.max(K.height,j.height),left:j.left+xt,right:K.right,top:Math.min(K.top,j.top+yt),bottom:Math.max(K.bottom,j.bottom+yt)}),"right"===B.delta.position&&(xt=F(B,"deltaPos",0,K.width*(1-d[B.align])+j.width*d[B.align]+St,nt,Math.max),yt=st[1]-dt[1],rt={width:K.width+j.width+St,height:Math.max(K.height,j.height),left:K.left,right:j.right+xt,top:Math.min(K.top,j.top+yt),bottom:Math.max(K.bottom,j.bottom+yt)}),"bottom"===B.delta.position&&(xt=null,yt=j.height,rt={width:Math.max(K.width,j.width),height:K.height+j.height,left:Math.min(K.left,j.left),right:Math.max(K.right,j.right),top:K.bottom-K.height,bottom:K.bottom+j.height}),"top"===B.delta.position&&(xt=null,yt=K.top,rt={width:Math.max(K.width,j.width),height:K.height+j.height,left:Math.min(K.left,j.left),right:Math.max(K.right,j.right),top:K.bottom-K.height-j.height,bottom:K.bottom}),_.attr({dx:xt,dy:yt})}(B._hasNumber||B._hasDelta)&&lt.attr("transform",function(){var gt,Et=z.numbersScaler(rt),Tt=F(B,"numbersScale",1,Et[0],nt+=Et[2],Math.min);B._scaleNumbers||(Tt=1),B._numbersTop=Tt*rt.top+(gt=B._isAngular?U-Tt*rt.bottom:U-Tt*(rt.top+rt.bottom)/2);var Mt=rt[G];"center"===G&&(Mt=(rt.left+rt.right)/2);var Nt=O-Tt*Mt;return Nt=F(B,"numbersTranslate",0,Nt,nt,Math.max),l(Nt,gt)+L(Tt)})})(N,at,G,{numbersX:nt,numbersY:_,numbersScaler:st,transitionOpts:z,onComplete:U}),lt&&(St={range:et.gauge.axis.range,color:et.gauge.bgcolor,line:{color:et.gauge.bordercolor,width:0},thickness:1},Et={range:et.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:et.gauge.bordercolor,width:et.gauge.borderwidth},thickness:1});var Tt=at.selectAll("g.angular").data(K?G:[]);Tt.exit().remove();var gt=at.selectAll("g.angularaxis").data(K?G:[]);gt.exit().remove(),K&&b(N,0,G,{radius:Q,innerRadius:Y,gauge:Tt,layer:gt,size:H,gaugeBg:St,gaugeOutline:Et,transitionOpts:z,onComplete:U});var Mt=at.selectAll("g.bullet").data(j?G:[]);Mt.exit().remove();var Nt=at.selectAll("g.bulletaxis").data(j?G:[]);Nt.exit().remove(),j&&function M(D,N,k,z){var j,rt,H,Z,it,B=k[0].trace,O=z.gauge,U=z.layer,G=z.gaugeBg,J=z.gaugeOutline,et=z.size,at=B.domain,lt=z.transitionOpts,K=z.onComplete;O.enter().append("g").classed("bullet",!0),O.attr("transform",l(et.l,et.t)),U.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),U.selectAll("g.xbulletaxistick,path,text").remove();var Q=et.h,Y=B.gauge.bar.thickness*Q,nt=at.x[0],_=at.x[0]+(at.x[1]-at.x[0])*(B._hasNumber||B._hasDelta?1-s.bulletNumberDomainSize:1);function st(gt){gt.attr("width",function(Mt){return Math.max(0,j.c2p(Mt.range[1])-j.c2p(Mt.range[0]))}).attr("x",function(Mt){return j.c2p(Mt.range[0])}).attr("y",function(Mt){return.5*(1-Mt.thickness)*Q}).attr("height",function(Mt){return Mt.thickness*Q})}(j=T(D,B.gauge.axis))._id="xbulletaxis",j.domain=[nt,_],j.setScale(),rt=h.calcTicks(j),H=h.makeTransTickFn(j),Z=h.getTickSigns(j)[2],it=et.t+et.h,j.visible&&(h.drawTicks(D,j,{vals:"inside"===j.ticks?h.clipEnds(j,rt):rt,layer:U,path:h.makeTickPath(j,it,Z),transFn:H}),h.drawLabels(D,j,{vals:rt,layer:U,transFn:H,labelFns:h.makeLabelFns(j,it)}));var dt=[G].concat(B.gauge.steps),xt=O.selectAll("g.bg-bullet").data(dt);xt.enter().append("g").classed("bg-bullet",!0).append("rect"),xt.select("rect").call(st).call(x),xt.exit().remove();var yt=O.selectAll("g.value-bullet").data([B.gauge.bar]);yt.enter().append("g").classed("value-bullet",!0).append("rect"),yt.select("rect").attr("height",Y).attr("y",(Q-Y)/2).call(x),v(lt)?yt.select("rect").transition().duration(lt.duration).ease(lt.easing).each("end",function(){K&&K()}).each("interrupt",function(){K&&K()}).attr("width",Math.max(0,j.c2p(Math.min(B.gauge.axis.range[1],k[0].y)))):yt.select("rect").attr("width","number"==typeof k[0].y?Math.max(0,j.c2p(Math.min(B.gauge.axis.range[1],k[0].y))):0),yt.exit().remove();var St=k.filter(function(){return B.gauge.threshold.value||0===B.gauge.threshold.value}),Et=O.selectAll("g.threshold-bullet").data(St);Et.enter().append("g").classed("threshold-bullet",!0).append("line"),Et.select("line").attr("x1",j.c2p(B.gauge.threshold.value)).attr("x2",j.c2p(B.gauge.threshold.value)).attr("y1",(1-B.gauge.threshold.thickness)/2*Q).attr("y2",(1-(1-B.gauge.threshold.thickness)/2)*Q).call(c.stroke,B.gauge.threshold.line.color).style("stroke-width",B.gauge.threshold.line.width),Et.exit().remove();var Tt=O.selectAll("g.gauge-outline").data([J]);Tt.enter().append("g").classed("gauge-outline",!0).append("rect"),Tt.select("rect").call(st).call(x),Tt.exit().remove()}(N,0,G,{gauge:Mt,layer:Nt,size:H,gaugeBg:St,gaugeOutline:Et,transitionOpts:z,onComplete:U});var Gt=at.selectAll("text.title").data(G);Gt.exit().remove(),Gt.enter().append("text").classed("title",!0),Gt.attr("text-anchor",function(){return j?w.right:w[et.title.align]}).text(et.title.text).call(e.font,et.title.font).call(a.convertToTspans,N),Gt.attr("transform",function(){var Vt,Pt=H.l+H.w*d[et.title.align],re=s.titlePadding,le=e.bBox(Gt.node());return lt?(K&&(Vt=et.gauge.axis.visible?e.bBox(gt.node()).top-re-le.bottom:H.t+H.h/2-Q/2-le.bottom-re),j&&(Vt=_-(le.top+le.bottom)/2,Pt=H.l-s.bulletPadding*H.w)):Vt=et._numbersTop-re-le.bottom,l(Pt,Vt)})})}},50048:function(tt,W,t){"use strict";var A=t(49084),y=t(29736).axisHoverFormat,i=t(21776).Ks,P=t(52948),L=t(45464),l=t(92880).extendFlat,m=t(67824).overrideAll;var s=tt.exports=m(l({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:i(),xhoverformat:y("x"),yhoverformat:y("y"),zhoverformat:y("z"),valuehoverformat:y("value",1),showlegend:l({},L.showlegend,{dflt:!1})},A("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:P.opacity,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:l({},L.hoverinfo)}),"calc","nested");s.flatshading.dflt=!0,s.lighting.facenormalsepsilon.dflt=0,s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},62624:function(tt,W,t){"use strict";var A=t(47128),y=t(3832).processGrid,i=t(3832).filter;tt.exports=function(L,l){l._len=Math.min(l.x.length,l.y.length,l.z.length,l.value.length),l._x=i(l.x,l._len),l._y=i(l.y,l._len),l._z=i(l.z,l._len),l._value=i(l.value,l._len);var m=y(l);l._gridFill=m.fill,l._Xs=m.Xs,l._Ys=m.Ys,l._Zs=m.Zs,l._len=m.len;for(var r=1/0,e=-1/0,s=0;s<l._len;s++){var a=l._value[s];r=Math.min(r,a),e=Math.max(e,a)}l._minValues=r,l._maxValues=e,l._vMin=null==l.isomin?r:l.isomin,l._vMax=void 0===l.isomax||null===l.isomin?e:l.isomax,A(L,l,{vals:[l._vMin,l._vMax],containerStr:"",cLetter:"c"})}},31460:function(tt,W,t){"use strict";var A=t(67792).gl_mesh3d,y=t(33040).parseColorScale,i=t(3400).isArrayOrTypedArray,P=t(43080),L=t(8932).extractOpts,l=t(52094),m=function(f,u){for(var g=u.length-1;g>0;g--){var c=Math.min(u[g],u[g-1]),w=Math.max(u[g],u[g-1]);if(w>c&&c<f&&f<=w)return{id:g,distRatio:(w-f)/(w-c)}}return{id:0,distRatio:0}};function r(f,u,g){this.scene=f,this.uid=g,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var e=r.prototype;e.handlePick=function(f){if(f.object===this.mesh){var u=f.data.index,c=this.data._meshY[u],w=this.data._meshZ[u],d=this.data._Ys.length,o=this.data._Zs.length,v=m(this.data._meshX[u],this.data._Xs).id,M=m(c,this.data._Ys).id,b=m(w,this.data._Zs).id,E=f.index=b+o*M+o*d*v;f.traceCoordinate=[this.data._meshX[E],this.data._meshY[E],this.data._meshZ[E],this.data._value[E]];var x=this.data.hovertext||this.data.text;return i(x)&&void 0!==x[E]?f.textLabel=x[E]:x&&(f.textLabel=x),!0}},e.update=function(f){var u=this.scene,g=u.fullSceneLayout;function c(M,b,E,x){return b.map(function(S){return M.d2l(S,0,x)*E})}this.data=a(f);var o={positions:l(c(g.xaxis,f._meshX,u.dataScale[0],f.xcalendar),c(g.yaxis,f._meshY,u.dataScale[1],f.ycalendar),c(g.zaxis,f._meshZ,u.dataScale[2],f.zcalendar)),cells:l(f._meshI,f._meshJ,f._meshK),lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,contourEnable:f.contour.show,contourColor:P(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},v=L(f);o.vertexIntensity=f._meshIntensity,o.vertexIntensityBounds=[v.min,v.max],o.colormap=y(f),this.mesh.update(o)},e.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var s=["xyz","xzy","yxz","yzx","zxy","zyx"];function a(f){f._meshI=[],f._meshJ=[],f._meshK=[];var M,b,B,O,U,G,H,u=f.surface.show,g=f.spaceframe.show,c=f.surface.fill,w=f.spaceframe.fill,d=!1,o=!1,v=0,E=f._Xs,x=f._Ys,S=f._Zs,T=E.length,n=x.length,C=S.length,p=s.indexOf(f._gridFill.replace(/-/g,"").replace(/\+/g,"")),F=function(Xt,Ht,Bt){switch(p){case 5:return Bt+C*Ht+C*n*Xt;case 4:return Bt+C*Xt+C*T*Ht;case 3:return Ht+n*Bt+n*C*Xt;case 2:return Ht+n*Xt+n*T*Bt;case 1:return Xt+T*Bt+T*C*Ht;default:return Xt+T*Ht+T*n*Bt}},D=f._minValues,N=f._maxValues,k=f._vMin,z=f._vMax;function J(Xt,Ht,Bt){for(var zt=G.length,kt=b;kt<zt;kt++)if(Xt===B[kt]&&Ht===O[kt]&&Bt===U[kt])return kt;return-1}function et(){b=M}function at(){B=[],O=[],U=[],G=[],M=0,et()}function lt(Xt,Ht,Bt,zt){return B.push(Xt),O.push(Ht),U.push(Bt),G.push(zt),++M-1}function K(Xt,Ht,Bt){return f._meshI.push(Xt),f._meshJ.push(Ht),f._meshK.push(Bt),++v-1}function rt(Xt,Ht,Bt){for(var zt=[],kt=0;kt<Xt.length;kt++)zt[kt]=Xt[kt]*(1-Bt)+Bt*Ht[kt];return zt}function Z(Xt){H=Xt}function Q(Xt,Ht){return"all"===Xt||null===Xt||Xt.indexOf(Ht)>-1}function Y(Xt,Ht){return null===Xt?Ht:Xt}function nt(Xt,Ht,Bt){et();var zt=[Ht],kt=[Bt];if(H>=1)zt=[Ht],kt=[Bt];else if(H>0){var wt=function it(Xt,Ht){var Bt=Xt[0],zt=Xt[1],kt=Xt[2],wt=function j(Xt,Ht,Bt){for(var zt=[],kt=0;kt<Xt.length;kt++)zt[kt]=(Xt[kt]+Ht[kt]+Bt[kt])/3;return zt}(Bt,zt,kt),ft=Math.sqrt(1-H),pt=rt(wt,Bt,ft),Dt=rt(wt,zt,ft),Qt=rt(wt,kt,ft),te=Ht[0],ee=Ht[1],Ne=Ht[2];return{xyzv:[[Bt,zt,Dt],[Dt,pt,Bt],[zt,kt,Qt],[Qt,Dt,zt],[kt,Bt,pt],[pt,Qt,kt]],abc:[[te,ee,-1],[-1,-1,te],[ee,Ne,-1],[-1,-1,ee],[Ne,te,-1],[-1,-1,Ne]]}}(Ht,Bt);zt=wt.xyzv,kt=wt.abc}for(var ft=0;ft<zt.length;ft++){Ht=zt[ft],Bt=kt[ft];for(var pt=[],Dt=0;Dt<3;Dt++){var Qt=Ht[Dt][0],te=Ht[Dt][1],ee=Ht[Dt][2],Ne=Ht[Dt][3],We=Bt[Dt]>-1?Bt[Dt]:J(Qt,te,ee);pt[Dt]=We>-1?We:lt(Qt,te,ee,Y(Xt,Ne))}K(pt[0],pt[1],pt[2])}}function dt(Xt,Ht,Bt,zt){var kt=Xt[3];kt<Bt&&(kt=Bt),kt>zt&&(kt=zt);for(var wt=(Xt[3]-kt)/(Xt[3]-Ht[3]+1e-9),ft=[],pt=0;pt<4;pt++)ft[pt]=(1-wt)*Xt[pt]+wt*Ht[pt];return ft}function xt(Xt,Ht,Bt){return Xt>=Ht&&Xt<=Bt}function yt(Xt){var Ht=.001*(z-k);return Xt>=k-Ht&&Xt<=z+Ht}function St(Xt){for(var Ht=[],Bt=0;Bt<4;Bt++){var zt=Xt[Bt];Ht.push([f._x[zt],f._y[zt],f._z[zt],f._value[zt]])}return Ht}function Tt(Xt,Ht,Bt,zt,kt,wt){wt||(wt=1),Bt=[-1,-1,-1];var ft=!1,pt=[xt(Ht[0][3],zt,kt),xt(Ht[1][3],zt,kt),xt(Ht[2][3],zt,kt)];if(!pt[0]&&!pt[1]&&!pt[2])return!1;var Dt=function(te,ee,Ne){return yt(ee[0][3])&&yt(ee[1][3])&&yt(ee[2][3])?(nt(te,ee,Ne),!0):wt<3&&Tt(te,ee,Ne,k,z,++wt)};if(pt[0]&&pt[1]&&pt[2])return Dt(Xt,Ht,Bt)||ft;var Qt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(te){if(pt[te[0]]&&pt[te[1]]&&!pt[te[2]]){var ee=Ht[te[0]],Ne=Ht[te[1]],We=Ht[te[2]],ye=dt(We,ee,zt,kt),Te=dt(We,Ne,zt,kt);ft=Dt(Xt,[Te,ye,ee],[-1,-1,Bt[te[0]]])||ft,ft=Dt(Xt,[ee,Ne,Te],[Bt[te[0]],Bt[te[1]],-1])||ft,Qt=!0}}),Qt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(te){if(pt[te[0]]&&!pt[te[1]]&&!pt[te[2]]){var ee=Ht[te[0]],We=Ht[te[2]],ye=dt(Ht[te[1]],ee,zt,kt),Te=dt(We,ee,zt,kt);ft=Dt(Xt,[Te,ye,ee],[-1,-1,Bt[te[0]]])||ft,Qt=!0}}),ft}function gt(Xt,Ht,Bt,zt){var kt=!1,wt=St(Ht),ft=[xt(wt[0][3],Bt,zt),xt(wt[1][3],Bt,zt),xt(wt[2][3],Bt,zt),xt(wt[3][3],Bt,zt)];if(!(ft[0]||ft[1]||ft[2]||ft[3]))return kt;if(ft[0]&&ft[1]&&ft[2]&&ft[3])return o&&(kt=function st(Xt,Ht,Bt){var zt=function(kt,wt,ft){nt(Xt,[Ht[kt],Ht[wt],Ht[ft]],[Bt[kt],Bt[wt],Bt[ft]])};zt(0,1,2),zt(3,0,1),zt(2,3,0),zt(1,2,3)}(Xt,wt,Ht)||kt),kt;var pt=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Dt){if(ft[Dt[0]]&&ft[Dt[1]]&&ft[Dt[2]]&&!ft[Dt[3]]){var Qt=wt[Dt[0]],te=wt[Dt[1]],ee=wt[Dt[2]],Ne=wt[Dt[3]];if(o)kt=nt(Xt,[Qt,te,ee],[Ht[Dt[0]],Ht[Dt[1]],Ht[Dt[2]]])||kt;else{var We=dt(Ne,Qt,Bt,zt),ye=dt(Ne,te,Bt,zt),Te=dt(Ne,ee,Bt,zt);kt=nt(null,[We,ye,Te],[-1,-1,-1])||kt}pt=!0}}),pt||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Dt){if(ft[Dt[0]]&&ft[Dt[1]]&&!ft[Dt[2]]&&!ft[Dt[3]]){var Qt=wt[Dt[0]],te=wt[Dt[1]],ee=wt[Dt[2]],Ne=wt[Dt[3]],We=dt(ee,Qt,Bt,zt),ye=dt(ee,te,Bt,zt),Te=dt(Ne,te,Bt,zt),Ge=dt(Ne,Qt,Bt,zt);o?(kt=nt(Xt,[Qt,Ge,We],[Ht[Dt[0]],-1,-1])||kt,kt=nt(Xt,[te,ye,Te],[Ht[Dt[1]],-1,-1])||kt):kt=function _(Xt,Ht,Bt){var zt=function(kt,wt,ft){nt(Xt,[Ht[kt],Ht[wt],Ht[ft]],[Bt[kt],Bt[wt],Bt[ft]])};zt(0,1,2),zt(2,3,0)}(null,[We,ye,Te,Ge],[-1,-1,-1,-1])||kt,pt=!0}}),pt)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Dt){if(ft[Dt[0]]&&!ft[Dt[1]]&&!ft[Dt[2]]&&!ft[Dt[3]]){var Qt=wt[Dt[0]],ee=wt[Dt[2]],Ne=wt[Dt[3]],We=dt(wt[Dt[1]],Qt,Bt,zt),ye=dt(ee,Qt,Bt,zt),Te=dt(Ne,Qt,Bt,zt);o?(kt=nt(Xt,[Qt,We,ye],[Ht[Dt[0]],-1,-1])||kt,kt=nt(Xt,[Qt,ye,Te],[Ht[Dt[0]],-1,-1])||kt,kt=nt(Xt,[Qt,Te,We],[Ht[Dt[0]],-1,-1])||kt):kt=nt(null,[We,ye,Te],[-1,-1,-1])||kt,pt=!0}}),kt}function Mt(Xt,Ht,Bt,zt,kt,wt,ft,pt,Dt,Qt,te){var ee=!1;return d&&(Q(Xt,"A")&&(ee=gt(null,[Ht,Bt,zt,wt],Qt,te)||ee),Q(Xt,"B")&&(ee=gt(null,[Bt,zt,kt,Dt],Qt,te)||ee),Q(Xt,"C")&&(ee=gt(null,[Bt,wt,ft,Dt],Qt,te)||ee),Q(Xt,"D")&&(ee=gt(null,[zt,wt,pt,Dt],Qt,te)||ee),Q(Xt,"E")&&(ee=gt(null,[Bt,zt,wt,Dt],Qt,te)||ee)),o&&(ee=gt(Xt,[Bt,zt,wt,Dt],Qt,te)||ee),ee}function Nt(Xt,Ht,Bt,zt,kt,wt,ft,pt){return[!0===pt[0]||Tt(Xt,St([Ht,Bt,zt]),[Ht,Bt,zt],wt,ft),!0===pt[1]||Tt(Xt,St([zt,kt,Ht]),[zt,kt,Ht],wt,ft)]}function Gt(Xt,Ht,Bt,zt,kt,wt,ft,pt,Dt){return pt?Nt(Xt,Ht,Bt,kt,zt,wt,ft,Dt):Nt(Xt,Bt,kt,zt,Ht,wt,ft,Dt)}function Pt(Xt,Ht,Bt,zt,kt,wt,ft){var Dt,Qt,te,ee,pt=!1,Ne=function(){pt=Tt(Xt,[Dt,Qt,te],[-1,-1,-1],kt,wt)||pt,pt=Tt(Xt,[te,ee,Dt],[-1,-1,-1],kt,wt)||pt},We=ft[0],ye=ft[1],Te=ft[2];return We&&(Dt=rt(St([F(Ht,Bt-0,zt-0)])[0],St([F(Ht-1,Bt-0,zt-0)])[0],We),Qt=rt(St([F(Ht,Bt-0,zt-1)])[0],St([F(Ht-1,Bt-0,zt-1)])[0],We),te=rt(St([F(Ht,Bt-1,zt-1)])[0],St([F(Ht-1,Bt-1,zt-1)])[0],We),ee=rt(St([F(Ht,Bt-1,zt-0)])[0],St([F(Ht-1,Bt-1,zt-0)])[0],We),Ne()),ye&&(Dt=rt(St([F(Ht-0,Bt,zt-0)])[0],St([F(Ht-0,Bt-1,zt-0)])[0],ye),Qt=rt(St([F(Ht-0,Bt,zt-1)])[0],St([F(Ht-0,Bt-1,zt-1)])[0],ye),te=rt(St([F(Ht-1,Bt,zt-1)])[0],St([F(Ht-1,Bt-1,zt-1)])[0],ye),ee=rt(St([F(Ht-1,Bt,zt-0)])[0],St([F(Ht-1,Bt-1,zt-0)])[0],ye),Ne()),Te&&(Dt=rt(St([F(Ht-0,Bt-0,zt)])[0],St([F(Ht-0,Bt-0,zt-1)])[0],Te),Qt=rt(St([F(Ht-0,Bt-1,zt)])[0],St([F(Ht-0,Bt-1,zt-1)])[0],Te),te=rt(St([F(Ht-1,Bt-1,zt)])[0],St([F(Ht-1,Bt-1,zt-1)])[0],Te),ee=rt(St([F(Ht-1,Bt-0,zt)])[0],St([F(Ht-1,Bt-0,zt-1)])[0],Te),Ne()),pt}function Vt(Xt,Ht,Bt,zt,kt,wt,ft,pt,Dt,Qt,te,ee){var Ne=Xt;return ee?(d&&"even"===Xt&&(Ne=null),Mt(Ne,Ht,Bt,zt,kt,wt,ft,pt,Dt,Qt,te)):(d&&"odd"===Xt&&(Ne=null),Mt(Ne,Dt,pt,ft,wt,kt,zt,Bt,Ht,Qt,te))}function re(Xt,Ht,Bt,zt,kt){for(var wt=[],ft=0,pt=0;pt<Ht.length;pt++)for(var Dt=Ht[pt],Qt=1;Qt<C;Qt++)for(var te=1;te<n;te++)wt.push(Gt(Xt,F(Dt,te-1,Qt-1),F(Dt,te-1,Qt),F(Dt,te,Qt-1),F(Dt,te,Qt),Bt,zt,(Dt+te+Qt)%2,kt&&kt[ft]?kt[ft]:[])),ft++;return wt}function le(Xt,Ht,Bt,zt,kt){for(var wt=[],ft=0,pt=0;pt<Ht.length;pt++)for(var Dt=Ht[pt],Qt=1;Qt<T;Qt++)for(var te=1;te<C;te++)wt.push(Gt(Xt,F(Qt-1,Dt,te-1),F(Qt,Dt,te-1),F(Qt-1,Dt,te),F(Qt,Dt,te),Bt,zt,(Qt+Dt+te)%2,kt&&kt[ft]?kt[ft]:[])),ft++;return wt}function It(Xt,Ht,Bt,zt,kt){for(var wt=[],ft=0,pt=0;pt<Ht.length;pt++)for(var Dt=Ht[pt],Qt=1;Qt<n;Qt++)for(var te=1;te<T;te++)wt.push(Gt(Xt,F(te-1,Qt-1,Dt),F(te-1,Qt,Dt),F(te,Qt-1,Dt),F(te,Qt,Dt),Bt,zt,(te+Qt+Dt)%2,kt&&kt[ft]?kt[ft]:[])),ft++;return wt}function Rt(Xt,Ht,Bt){for(var zt=1;zt<C;zt++)for(var kt=1;kt<n;kt++)for(var wt=1;wt<T;wt++)Vt(Xt,F(wt-1,kt-1,zt-1),F(wt-1,kt-1,zt),F(wt-1,kt,zt-1),F(wt-1,kt,zt),F(wt,kt-1,zt-1),F(wt,kt-1,zt),F(wt,kt,zt-1),F(wt,kt,zt),Ht,Bt,(wt+kt+zt)%2)}function oe(Xt,Ht,Bt){d=!0,Rt(Xt,Ht,Bt),d=!1}function se(Xt,Ht,Bt,zt,kt,wt){for(var ft=[],Dt=0;Dt<Ht.length;Dt++)for(var Qt=Ht[Dt],te=1;te<C;te++)for(var ee=1;ee<n;ee++)ft.push(Pt(Xt,Qt,ee,te,Bt,zt,kt[Dt]));return ft}function ve(Xt,Ht,Bt,zt,kt,wt){for(var ft=[],Dt=0;Dt<Ht.length;Dt++)for(var Qt=Ht[Dt],te=1;te<T;te++)for(var ee=1;ee<C;ee++)ft.push(Pt(Xt,te,Qt,ee,Bt,zt,kt[Dt]));return ft}function de(Xt,Ht,Bt,zt,kt,wt){for(var ft=[],Dt=0;Dt<Ht.length;Dt++)for(var Qt=Ht[Dt],te=1;te<n;te++)for(var ee=1;ee<T;ee++)ft.push(Pt(Xt,ee,te,Qt,Bt,zt,kt[Dt]));return ft}function jt(Xt,Ht){for(var Bt=[],zt=Xt;zt<Ht;zt++)Bt.push(zt);return Bt}return function Wt(){at(),function Ct(){for(var Xt=0;Xt<T;Xt++)for(var Ht=0;Ht<n;Ht++)for(var Bt=0;Bt<C;Bt++){var zt=F(Xt,Ht,Bt);lt(f._x[zt],f._y[zt],f._z[zt],f._value[zt])}}();var Xt=null;if(g&&w&&(Z(w),function $t(Xt,Ht,Bt){o=!0,Rt(Xt,Ht,Bt),o=!1}(Xt,k,z)),u&&c){Z(c);for(var Ht=f.surface.pattern,Bt=f.surface.count,zt=0;zt<Bt;zt++){var kt=1===Bt?.5:zt/(Bt-1),wt=(1-kt)*k+kt*z,Dt=Math.abs(wt-D)>Math.abs(wt-N)?[D,wt]:[wt,N];oe(Ht,Dt[0],Dt[1])}}var Qt=[[Math.min(k,N),Math.max(k,N)],[Math.min(D,z),Math.max(D,z)]];["x","y","z"].forEach(function(te){for(var ee=[],Ne=0;Ne<Qt.length;Ne++){var We=0,ye=Qt[Ne][0],Te=Qt[Ne][1],Ge=f.slices[te];if(Ge.show&&Ge.fill){Z(Ge.fill);var hr=[],ce=[],Ue=[];if(Ge.locations.length)for(var Ye=0;Ye<Ge.locations.length;Ye++){var gr=m(Ge.locations[Ye],"x"===te?E:"y"===te?x:S);0===gr.distRatio?hr.push(gr.id):gr.id>0&&(ce.push(gr.id),Ue.push("x"===te?[gr.distRatio,0,0]:"y"===te?[0,gr.distRatio,0]:[0,0,gr.distRatio]))}else hr=jt(1,"x"===te?T-1:"y"===te?n-1:C-1);ce.length>0&&(ee[We]="x"===te?se(Xt,ce,ye,Te,Ue):"y"===te?ve(Xt,ce,ye,Te,Ue):de(Xt,ce,ye,Te,Ue),We++),hr.length>0&&(ee[We]="x"===te?re(Xt,hr,ye,Te,ee[We]):"y"===te?le(Xt,hr,ye,Te,ee[We]):It(Xt,hr,ye,Te,ee[We]),We++)}var tr=f.caps[te];tr.show&&tr.fill&&(Z(tr.fill),ee[We]="x"===te?re(Xt,[0,T-1],ye,Te,ee[We]):"y"===te?le(Xt,[0,n-1],ye,Te,ee[We]):It(Xt,[0,C-1],ye,Te,ee[We]),We++)}}),0===v&&at(),f._meshX=B,f._meshY=O,f._meshZ=U,f._meshIntensity=G,f._Xs=E,f._Ys=x,f._Zs=S}(),f}tt.exports={findNearestOnAxis:m,generateIsoMeshes:a,createIsosurfaceTrace:function h(f,u){var c=A({gl:f.glplot.gl}),w=new r(f,c,u.uid);return c._trace=w,w.update(u),f.glplot.add(c),w}}},70548:function(tt,W,t){"use strict";var A=t(3400),y=t(24040),i=t(50048),P=t(27260);function l(m,r,e,s,a){var h=a("isomin"),f=a("isomax");null!=f&&null!=h&&h>f&&(r.isomin=null,r.isomax=null);var u=a("x"),g=a("y"),c=a("z"),w=a("value");u&&u.length&&g&&g.length&&c&&c.length&&w&&w.length?(y.getComponentMethod("calendars","handleTraceDefaults")(m,r,["x","y","z"],s),a("valuehoverformat"),["x","y","z"].forEach(function(b){a(b+"hoverformat");var E="caps."+b;a(E+".show")&&a(E+".fill");var S="slices."+b;a(S+".show")&&(a(S+".fill"),a(S+".locations"))}),a("spaceframe.show")&&a("spaceframe.fill"),a("surface.show")&&(a("surface.count"),a("surface.fill"),a("surface.pattern")),a("contour.show")&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(b){a(b)}),P(m,r,s,a,{prefix:"",cLetter:"c"}),r._length=null):r.visible=!1}tt.exports={supplyDefaults:function L(m,r,e,s){l(m,r,0,s,function a(h,f){return A.coerce(m,r,i,h,f)})},supplyIsoDefaults:l}},6296:function(tt,W,t){"use strict";tt.exports={attributes:t(50048),supplyDefaults:t(70548).supplyDefaults,calc:t(62624),colorbar:{min:"cmin",max:"cmax"},plot:t(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:t(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(tt,W,t){"use strict";var A=t(49084),y=t(29736).axisHoverFormat,i=t(21776).Ks,P=t(16716),L=t(45464),l=t(92880).extendFlat;tt.exports=l({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"}),xhoverformat:y("x"),yhoverformat:y("y"),zhoverformat:y("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},A("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:P.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:l({},P.contours.x.show,{}),color:P.contours.x.color,width:P.contours.x.width,editType:"calc"},lightposition:{x:l({},P.lightposition.x,{dflt:1e5}),y:l({},P.lightposition.y,{dflt:1e5}),z:l({},P.lightposition.z,{dflt:0}),editType:"calc"},lighting:l({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},P.lighting),hoverinfo:l({},L.hoverinfo,{editType:"calc"}),showlegend:l({},L.showlegend,{dflt:!1})})},1876:function(tt,W,t){"use strict";var A=t(47128);tt.exports=function(i,P){P.intensity&&A(i,P,{vals:P.intensity,containerStr:"",cLetter:"c"})}},576:function(tt,W,t){"use strict";var A=t(67792).gl_mesh3d,y=t(67792).delaunay_triangulate,i=t(67792).alpha_shape,P=t(67792).convex_hull,L=t(33040).parseColorScale,l=t(3400).isArrayOrTypedArray,m=t(43080),r=t(8932).extractOpts,e=t(52094);function s(d,o,v){this.scene=d,this.uid=v,this.mesh=o,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var a=s.prototype;function h(d){for(var o=[],v=d.length,M=0;M<v;M++)o[M]=m(d[M]);return o}function f(d,o,v,M){for(var b=[],E=o.length,x=0;x<E;x++)b[x]=d.d2l(o[x],0,M)*v;return b}function u(d){for(var o=[],v=d.length,M=0;M<v;M++)o[M]=Math.round(d[M]);return o}function c(d,o){for(var v=d.length,M=0;M<v;M++)if(d[M]<=-.5||d[M]>=o-.5)return!1;return!0}a.handlePick=function(d){if(d.object===this.mesh){var o=d.index=d.data.index;d.traceCoordinate=d.data._cellCenter?d.data.dataCoordinate:[this.data.x[o],this.data.y[o],this.data.z[o]];var v=this.data.hovertext||this.data.text;return l(v)&&void 0!==v[o]?d.textLabel=v[o]:v&&(d.textLabel=v),!0}},a.update=function(d){var o=this.scene,v=o.fullSceneLayout;this.data=d;var E,M=d.x.length,b=e(f(v.xaxis,d.x,o.dataScale[0],d.xcalendar),f(v.yaxis,d.y,o.dataScale[1],d.ycalendar),f(v.zaxis,d.z,o.dataScale[2],d.zcalendar));if(d.i&&d.j&&d.k){if(d.i.length!==d.j.length||d.j.length!==d.k.length||!c(d.i,M)||!c(d.j,M)||!c(d.k,M))return;E=e(u(d.i),u(d.j),u(d.k))}else E=0===d.alphahull?P(b):d.alphahull>0?i(d.alphahull,b):function g(d,o){for(var v=["x","y","z"].indexOf(d),M=[],b=o.length,E=0;E<b;E++)M[E]=[o[E][(v+1)%3],o[E][(v+2)%3]];return y(M)}(d.delaunayaxis,b);var x={positions:b,cells:E,lightPosition:[d.lightposition.x,d.lightposition.y,d.lightposition.z],ambient:d.lighting.ambient,diffuse:d.lighting.diffuse,specular:d.lighting.specular,roughness:d.lighting.roughness,fresnel:d.lighting.fresnel,vertexNormalsEpsilon:d.lighting.vertexnormalsepsilon,faceNormalsEpsilon:d.lighting.facenormalsepsilon,opacity:d.opacity,contourEnable:d.contour.show,contourColor:m(d.contour.color).slice(0,3),contourWidth:d.contour.width,useFacetNormals:d.flatshading};if(d.intensity){var S=r(d);this.color="#fff";var T=d.intensitymode;x[T+"Intensity"]=d.intensity,x[T+"IntensityBounds"]=[S.min,S.max],x.colormap=L(d)}else d.vertexcolor?(this.color=d.vertexcolor[0],x.vertexColors=h(d.vertexcolor)):d.facecolor?(this.color=d.facecolor[0],x.cellColors=h(d.facecolor)):(this.color=d.color,x.meshColor=m(d.color));this.mesh.update(x)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},tt.exports=function w(d,o){var M=A({gl:d.glplot.gl}),b=new s(d,M,o.uid);return M._trace=b,b.update(o),d.glplot.add(M),b}},74212:function(tt,W,t){"use strict";var A=t(24040),y=t(3400),i=t(27260),P=t(52948);tt.exports=function(l,m,r,e){function s(g,c){return y.coerce(l,m,P,g,c)}function a(g){var c=g.map(function(w){var d=s(w);return d&&y.isArrayOrTypedArray(d)?d:null});return c.every(function(w){return w&&w.length===c[0].length})&&c}a(["x","y","z"])?(a(["i","j","k"]),(!m.i||m.j&&m.k)&&(!m.j||m.k&&m.i)&&(!m.k||m.i&&m.j)?(A.getComponentMethod("calendars","handleTraceDefaults")(l,m,["x","y","z"],e),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(g){s(g)}),s("contour.show")&&(s("contour.color"),s("contour.width")),"intensity"in l?(s("intensity"),s("intensitymode"),i(l,m,e,s,{prefix:"",cLetter:"c"})):(m.showscale=!1,"facecolor"in l?s("facecolor"):"vertexcolor"in l?s("vertexcolor"):s("color",r)),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),m._length=null):m.visible=!1):m.visible=!1}},7404:function(tt,W,t){"use strict";tt.exports={attributes:t(52948),supplyDefaults:t(74212),calc:t(1876),colorbar:{min:"cmin",max:"cmax"},plot:t(576),moduleType:"trace",name:"mesh3d",basePlotModule:t(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(tt,W,t){"use strict";var A=t(3400).extendFlat,y=t(52904),i=t(29736).axisHoverFormat,P=t(98192).u,L=t(55756),l=t(48164),m=l.INCREASING.COLOR,r=l.DECREASING.COLOR,e=y.line;function s(a){return{line:{color:A({},e.color,{dflt:a}),width:e.width,dash:P,editType:"style"},editType:"style"}}tt.exports={xperiod:y.xperiod,xperiod0:y.xperiod0,xperiodalignment:y.xperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:A({},e.width,{}),dash:A({},P,{}),editType:"style"},increasing:s(m),decreasing:s(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:A({},L.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},42812:function(tt,W,t){"use strict";var A=t(3400),y=A._,i=t(54460),P=t(1220),L=t(39032).BADNUM;function m(s,a,h,f){return{o:s,h:a,l:h,c:f}}function r(s,a,h,f,u,g){for(var c=u.makeCalcdata(a,"open"),w=u.makeCalcdata(a,"high"),d=u.makeCalcdata(a,"low"),o=u.makeCalcdata(a,"close"),v=A.isArrayOrTypedArray(a.text),M=A.isArrayOrTypedArray(a.hovertext),b=!0,E=null,x=!!a.xperiodalignment,S=[],T=0;T<f.length;T++){var n=f[T],C=c[T],p=w[T],F=d[T],D=o[T];if(n!==L&&C!==L&&p!==L&&F!==L&&D!==L){D===C?null!==E&&D!==E&&(b=D>E):b=D>C,E=D;var N=g(C,p,F,D);N.pos=n,N.yc=(C+D)/2,N.i=T,N.dir=b?"increasing":"decreasing",N.x=N.pos,N.y=[F,p],x&&(N.orig_p=h[T]),v&&(N.tx=a.text[T]),M&&(N.htx=a.hovertext[T]),S.push(N)}else S.push({pos:n,empty:!0})}return a._extremes[u._id]=i.findExtremes(u,A.concat(d,w),{padded:!0}),S.length&&(S[0].t={labels:{open:y(s,"open:")+" ",high:y(s,"high:")+" ",low:y(s,"low:")+" ",close:y(s,"close:")+" "}}),S}tt.exports={calc:function l(s,a){var h=i.getFromId(s,a.xaxis),f=i.getFromId(s,a.yaxis),u=function e(s,a,h){var f=h._minDiff;if(!f){var c,u=s._fullData,g=[];for(f=1/0,c=0;c<u.length;c++){var w=u[c];if("ohlc"===w.type&&!0===w.visible&&w.xaxis===a._id){g.push(w);var d=a.makeCalcdata(w,"x");w._origX=d;var o=P(h,a,"x",d).vals;w._xcalc=o;var v=A.distinctVals(o).minDiff;v&&isFinite(v)&&(f=Math.min(f,v))}}for(f===1/0&&(f=1),c=0;c<g.length;c++)g[c]._minDiff=f}return f*h.tickwidth}(s,h,a),g=a._minDiff;a._minDiff=null;var c=a._origX;a._origX=null;var w=a._xcalc;a._xcalc=null;var d=r(s,a,c,w,f,m);return a._extremes[h._id]=i.findExtremes(h,w,{vpad:g/2}),d.length?(A.extendFlat(d[0].t,{wHover:g/2,tickLen:u}),d):[{t:{empty:!0}}]},calcCommon:r}},23860:function(tt,W,t){"use strict";var A=t(3400),y=t(52744),i=t(31147),P=t(20279);function L(l,m,r,e){r(e+".line.color"),r(e+".line.width",m.line.width),r(e+".line.dash",m.line.dash)}tt.exports=function(m,r,e,s){function a(f,u){return A.coerce(m,r,P,f,u)}y(m,r,a,s)?(i(m,r,s,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),L(0,r,a,"increasing"),L(0,r,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),s._requestRangeslider[r.xaxis]=!0):r.visible=!1}},18720:function(tt,W,t){"use strict";var A=t(54460),y=t(3400),i=t(93024),P=t(76308),L=t(3400).fillText,l=t(48164),m={increasing:l.INCREASING.SYMBOL,decreasing:l.DECREASING.SYMBOL};function e(h,f,u,g){var E,x,c=h.cd,w=h.xa,d=c[0].trace,o=c[0].t,v=d.type,M="ohlc"===v?"l":"min",b="ohlc"===v?"h":"max",S=o.bPos||0,n=o.bdPos||o.tickLen,C=o.wHover,p=Math.min(1,n/Math.abs(w.r2c(w.range[1])-w.r2c(w.range[0])));function F(G){var J=function(G){return G.pos+S-f}(G);return i.inbox(J-C,J+C,E)}function D(G){var J=G[M],et=G[b];return J===et||i.inbox(J-u,et-u,E)}function N(G){return(F(G)+D(G))/2}E=h.maxHoverDistance-p,x=h.maxSpikeDistance-p;var k=i.getDistanceFunction(g,F,D,N);if(i.getClosest(c,k,h),!1===h.index)return null;var z=c[h.index];if(z.empty)return null;var O=d[z.dir],U=O.line.color;return h.color=P.opacity(U)&&O.line.width?U:O.fillcolor,h.x0=w.c2p(z.pos+S-n,!0),h.x1=w.c2p(z.pos+S+n,!0),h.xLabelVal=void 0!==z.orig_p?z.orig_p:z.pos,h.spikeDistance=N(z)*x/E,h.xSpike=w.c2p(z.pos,!0),h}function s(h,f,u,g){var c=h.cd,w=h.ya,d=c[0].trace,o=c[0].t,v=[],M=e(h,f,u,g);if(!M)return[];var x=c[M.index].hi||d.hoverinfo,S=x.split("+");if("all"!==x&&-1===S.indexOf("y"))return[];for(var C=["high","open","close","low"],p={},F=0;F<C.length;F++){var z,D=C[F],N=d[D][M.index],k=w.c2p(N,!0);N in p?(z=p[N]).yLabel+="<br>"+o.labels[D]+A.hoverLabelText(w,N,d.yhoverformat):((z=y.extendFlat({},M)).y0=z.y1=k,z.yLabelVal=N,z.yLabel=o.labels[D]+A.hoverLabelText(w,N,d.yhoverformat),z.name="",v.push(z),p[N]=z)}return v}function a(h,f,u,g){var c=h.cd,w=h.ya,d=c[0].trace,o=c[0].t,v=e(h,f,u,g);if(!v)return[];var b=c[v.index],E=v.index=b.i,x=b.dir;function S(N){return o.labels[N]+A.hoverLabelText(w,d[N][E],d.yhoverformat)}var T=b.hi||d.hoverinfo,n=T.split("+"),C="all"===T,p=C||-1!==n.indexOf("y"),F=C||-1!==n.indexOf("text"),D=p?[S("open"),S("high"),S("low"),S("close")+"  "+m[x]]:[];return F&&L(b,d,D),v.extraText=D.join("<br>"),v.y0=v.y1=w.c2p(b.yc,!0),[v]}tt.exports={hoverPoints:function r(h,f,u,g){return h.cd[0].trace.hoverlabel.split?s(h,f,u,g):a(h,f,u,g)},hoverSplit:s,hoverOnPoints:a}},65456:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"ohlc",basePlotModule:t(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:t(20279),supplyDefaults:t(23860),calc:t(42812).calc,plot:t(36664),style:t(14008),hoverPoints:t(18720).hoverPoints,selectPoints:t(97384)}},52744:function(tt,W,t){"use strict";var A=t(24040),y=t(3400);tt.exports=function(P,L,l,m){var r=l("x"),e=l("open"),s=l("high"),a=l("low"),h=l("close");if(l("hoverlabel.split"),A.getComponentMethod("calendars","handleTraceDefaults")(P,L,["x"],m),e&&s&&a&&h){var u=Math.min(e.length,s.length,a.length,h.length);return r&&(u=Math.min(u,y.minRowLength(r))),L._length=u,u}}},36664:function(tt,W,t){"use strict";var A=t(33428),y=t(3400);tt.exports=function(P,L,l,m){var r=L.yaxis,e=L.xaxis,s=!!e.rangebreaks;y.makeTraceGroups(m,l,"trace ohlc").each(function(a){var h=A.select(this),f=a[0],u=f.t;if(!0!==f.trace.visible||u.empty)h.remove();else{var c=u.tickLen,w=h.selectAll("path").data(y.identity);w.enter().append("path"),w.exit().remove(),w.attr("d",function(d){if(d.empty)return"M0,0Z";var o=e.c2p(d.pos-c,!0),v=e.c2p(d.pos+c,!0),M=s?(o+v)/2:e.c2p(d.pos,!0);return"M"+o+","+r.c2p(d.o,!0)+"H"+M+"M"+M+","+r.c2p(d.h,!0)+"V"+r.c2p(d.l,!0)+"M"+v+","+r.c2p(d.c,!0)+"H"+M})}})}},97384:function(tt){"use strict";tt.exports=function(t,A){var l,y=t.cd,i=t.xaxis,P=t.yaxis,L=[],m=y[0].t.bPos||0;if(!1===A)for(l=0;l<y.length;l++)y[l].selected=0;else for(l=0;l<y.length;l++){var r=y[l];A.contains([i.c2p(r.pos+m),P.c2p(r.yc)],null,r.i,t)?(L.push({pointNumber:r.i,x:i.c2d(r.pos),y:P.c2d(r.yc)}),r.selected=1):r.selected=0}return L}},14008:function(tt,W,t){"use strict";var A=t(33428),y=t(43616),i=t(76308);tt.exports=function(L,l,m){var r=m||A.select(L).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(e){return e[0].trace.opacity}),r.each(function(e){var s=e[0].trace;A.select(this).selectAll("path").each(function(a){if(!a.empty){var h=s[a.dir].line;A.select(this).style("fill","none").call(i.stroke,h.color).call(y.dashLine,h.dash,h.width).style("opacity",s.selectedpoints&&!a.selected?.3:1)}})})}},72140:function(tt,W,t){"use strict";var A=t(92880).extendFlat,y=t(45464),i=t(25376),P=t(49084),L=t(21776).Ks,l=t(86968).u,m=A({editType:"calc"},P("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:L({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});tt.exports={domain:l({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:A({},y.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:L({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:i({editType:"calc"}),tickfont:i({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:m,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(tt,W,t){"use strict";var A=t(84888)._M,y=t(60268),i="parcats";W.name=i,W.plot=function(P,L,l,m){var r=A(P.calcdata,i);r.length&&y(P,r[0],l,m)},W.clean=function(P,L,l,m){var r=m._has&&m._has("parcats"),e=L._has&&L._has("parcats");r&&!e&&m._paperdiv.selectAll(".parcats").remove()}},69136:function(tt,W,t){"use strict";var A=t(71688).wrap,y=t(94288).hasColorscale,i=t(47128),P=t(68944),L=t(43616),l=t(3400),m=t(38248);function s(d,o,v,M){return{dimensionInd:d,categoryInd:o,categoryValue:v,displayInd:o,categoryLabel:M,valueInds:[],count:0,dragY:null}}function a(d,o,v){d.valueInds.push(o),d.count+=v}function h(d,o,v){return{categoryInds:d,color:o,rawColor:v,valueInds:[],count:0}}function f(d,o,v){d.valueInds.push(o),d.count+=v}function g(d){var v;if(function w(d){for(var o=new Array(d.length),v=0;v<d.length;v++){if(d[v]<0||d[v]>=d.length||void 0!==o[d[v]])return!1;o[d[v]]=!0}return!0}(d.map(function(M){return M.displayindex})))for(v=0;v<d.length;v++)d[v]._displayindex=d[v].displayindex;else for(v=0;v<d.length;v++)d[v]._displayindex=v}tt.exports=function(o,v){var M=l.filterVisible(v.dimensions);if(0===M.length)return[];var E,x,S,b=M.map(function(K){var j;if("trace"===K.categoryorder)j=null;else if("array"===K.categoryorder)j=K.categoryarray;else{j=P(K.values);for(var rt=!0,H=0;H<j.length;H++)if(!m(j[H])){rt=!1;break}j.sort(rt?l.sorterAsc:void 0),"category descending"===K.categoryorder&&(j=j.reverse())}return function u(d,o){o=null==o?[]:o.map(function(n){return n});var v={},M={},b=[];o.forEach(function(n,C){v[n]=0,M[n]=C});for(var E=0;E<d.length;E++){var S,x=d[E];void 0===v[x]?(v[x]=1,S=o.push(x)-1,M[x]=S):(v[x]++,S=M[x]),b.push(S)}var T=o.map(function(n){return v[n]});return{uniqueValues:o,uniqueCounts:T,inds:b}}(K.values,j)});E=l.isArrayOrTypedArray(v.counts)?v.counts:[v.counts],g(M),M.forEach(function(K,j){!function c(d,o){d._categoryarray=o.uniqueValues,d._ticktext=null==d.ticktext?[]:d.ticktext.slice();for(var v=d._ticktext.length;v<o.uniqueValues.length;v++)d._ticktext.push(o.uniqueValues[v])}(K,b[j])});var n,T=v.line;T?(y(v,"line")&&i(o,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),n=L.tryColorscale(T)):n=l.identity;var N,k,K,j,rt,p=M[0].values.length,F={},D=b.map(function(K){return K.inds});for(S=0,N=0;N<p;N++){var z=[];for(k=0;k<D.length;k++)z.push(D[k][N]);S+=x=E[N%E.length];var B=(K=N,j=void 0,rt=void 0,l.isArrayOrTypedArray(T.color)?rt=j=T.color[K%T.color.length]:j=T.color,{color:n(j),rawColor:rt}),O=z+"-"+B.rawColor;void 0===F[O]&&(F[O]=h(z,B.color,B.rawColor)),f(F[O],N,x)}var U=M.map(function(K,j){return function e(d,o,v,M,b){return{dimensionInd:d,containerInd:o,displayInd:v,dimensionLabel:M,count:b,categories:[],dragX:null}}(j,K._index,K._displayindex,K.label,S)});for(N=0;N<p;N++)for(x=E[N%E.length],k=0;k<U.length;k++){var G=U[k].containerInd,J=b[k].inds[N],et=U[k].categories;void 0===et[J]&&(et[J]=s(k,J,v.dimensions[G]._categoryarray[J],v.dimensions[G]._ticktext[J])),a(et[J],N,x)}return A(function r(d,o,v){var M=d.map(function(b){return b.categories.length}).reduce(function(b,E){return Math.max(b,E)});return{dimensions:d,paths:o,trace:void 0,maxCats:M,count:v}}(U,F,S))}},76671:function(tt,W,t){"use strict";var A=t(3400),y=t(94288).hasColorscale,i=t(27260),P=t(86968).Q,L=t(51272),l=t(72140),m=t(26284),r=t(38116).isTypedArraySpec;function s(a,h){function f(v,M){return A.coerce(a,h,l.dimensions,v,M)}var u=f("values"),g=f("visible");if(u&&u.length||(g=h.visible=!1),g){f("label"),f("displayindex",h._index);var d,c=a.categoryarray,w=A.isArrayOrTypedArray(c)&&c.length>0||r(c);w&&(d="array");var o=f("categoryorder",d);"array"===o?(f("categoryarray"),f("ticktext")):(delete a.categoryarray,delete a.ticktext),!w&&"array"===o&&(h.categoryorder="trace")}}tt.exports=function(h,f,u,g){function c(M,b){return A.coerce(h,f,l,M,b)}var w=L(h,f,{name:"dimensions",handleItemDefaults:s}),d=function e(a,h,f,u,g){g("line.shape"),g("line.hovertemplate");var c=g("line.color",u.colorway[0]);if(y(a,"line")&&A.isArrayOrTypedArray(c)){if(c.length)return g("line.colorscale"),i(a,h,u,g,{prefix:"line.",cLetter:"c"}),c.length;h.line.color=f}return 1/0}(h,f,u,g,c);P(f,g,c),(!Array.isArray(w)||!w.length)&&(f.visible=!1),m(f,w,"values",d),c("hoveron"),c("hovertemplate"),c("arrangement"),c("bundlecolors"),c("sortpaths"),c("counts");var o={family:g.font.family,size:Math.round(g.font.size),color:g.font.color};A.coerceFont(c,"labelfont",o);var v={family:g.font.family,size:Math.round(g.font.size/1.2),color:g.font.color};A.coerceFont(c,"tickfont",v)}},22020:function(tt,W,t){"use strict";tt.exports={attributes:t(72140),supplyDefaults:t(76671),calc:t(69136),plot:t(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:t(91800),categories:["noOpacity"],meta:{}}},51036:function(tt,W,t){"use strict";var A=t(33428),y=t(67756).Gz,i=t(36424),P=t(93024),L=t(3400),l=L.strTranslate,m=t(43616),r=t(49760),e=t(72736);function s(H,Z,it,Q){var Y=Z._context.staticPlot,nt=H.map(at.bind(0,Z,it)),_=Q.selectAll("g.parcatslayer").data([null]);_.enter().append("g").attr("class","parcatslayer").style("pointer-events",Y?"none":"all");var st=_.selectAll("g.trace.parcats").data(nt,a),dt=st.enter().append("g").attr("class","trace parcats");st.attr("transform",function(Vt){return l(Vt.x,Vt.y)}),dt.append("g").attr("class","paths");var yt=st.select("g.paths").selectAll("path.path").data(function(Vt){return Vt.paths},a);yt.attr("fill",function(Vt){return Vt.model.color});var St=yt.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Vt){return Vt.model.color}).attr("fill-opacity",0);o(St),yt.attr("d",function(Vt){return Vt.svgD}),St.empty()||yt.sort(f),yt.exit().remove(),yt.on("mouseover",u).on("mouseout",g).on("click",d),dt.append("g").attr("class","dimensions");var Tt=st.select("g.dimensions").selectAll("g.dimension").data(function(Vt){return Vt.dimensions},a);Tt.enter().append("g").attr("class","dimension"),Tt.attr("transform",function(Vt){return l(Vt.x,0)}),Tt.exit().remove();var gt=Tt.selectAll("g.category").data(function(Vt){return Vt.categories},a),Mt=gt.enter().append("g").attr("class","category");gt.attr("transform",function(Vt){return l(0,Vt.y)}),Mt.append("rect").attr("class","catrect").attr("pointer-events","none"),gt.select("rect.catrect").attr("fill","none").attr("width",function(Vt){return Vt.width}).attr("height",function(Vt){return Vt.height}),b(Mt);var Nt=gt.selectAll("rect.bandrect").data(function(Vt){return Vt.bands},a);Nt.each(function(){L.raiseToTop(this)}),Nt.attr("fill",function(Vt){return Vt.color});var Gt=Nt.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Vt){return Vt.color}).attr("fill-opacity",0);Nt.attr("fill",function(Vt){return Vt.color}).attr("width",function(Vt){return Vt.width}).attr("height",function(Vt){return Vt.height}).attr("y",function(Vt){return Vt.y}).attr("cursor",function(Vt){return"fixed"===Vt.parcatsViewModel.arrangement?"default":"perpendicular"===Vt.parcatsViewModel.arrangement?"ns-resize":"move"}),x(Gt),Nt.exit().remove(),Mt.append("text").attr("class","catlabel").attr("pointer-events","none");var Pt=Z._fullLayout.paper_bgcolor;gt.select("text.catlabel").attr("text-anchor",function(Vt){return h(Vt)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",e.makeTextShadow(Pt)).style("fill","rgb(0, 0, 0)").attr("x",function(Vt){return h(Vt)?Vt.width+5:-5}).attr("y",function(Vt){return Vt.height/2}).text(function(Vt){return Vt.model.categoryLabel}).each(function(Vt){m.font(A.select(this),Vt.parcatsViewModel.categorylabelfont),e.convertToTspans(A.select(this),Z)}),Mt.append("text").attr("class","dimlabel"),gt.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Vt){return"fixed"===Vt.parcatsViewModel.arrangement?"default":"ew-resize"}).attr("x",function(Vt){return Vt.width/2}).attr("y",-5).text(function(Vt,re){return 0===re?Vt.parcatsViewModel.model.dimensions[Vt.model.dimensionInd].dimensionLabel:null}).each(function(Vt){m.font(A.select(this),Vt.parcatsViewModel.labelfont)}),gt.selectAll("rect.bandrect").on("mouseover",k).on("mouseout",z),gt.exit().remove(),Tt.call(A.behavior.drag().origin(function(Vt){return{x:Vt.x,y:0}}).on("dragstart",B).on("drag",O).on("dragend",U)),st.each(function(Vt){Vt.traceSelection=A.select(this),Vt.pathSelection=A.select(this).selectAll("g.paths").selectAll("path.path"),Vt.dimensionSelection=A.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),st.exit().remove()}function a(H){return H.key}function h(H){return H.model.dimensionInd===H.parcatsViewModel.dimensions[H.parcatsViewModel.dimensions.length-1].model.dimensionInd}function f(H,Z){return H.model.rawColor>Z.model.rawColor?1:H.model.rawColor<Z.model.rawColor?-1:0}function u(H){if(!H.parcatsViewModel.dragDimension&&-1===H.parcatsViewModel.hoverinfoItems.indexOf("skip")){L.raiseToTop(this),v(A.select(this));var Z=c(H),it=w(H);if(H.parcatsViewModel.graphDiv.emit("plotly_hover",{points:Z,event:A.event,constraints:it}),-1===H.parcatsViewModel.hoverinfoItems.indexOf("none")){var xt,yt,St,Q=A.mouse(this)[0],Y=H.parcatsViewModel.graphDiv,nt=H.parcatsViewModel.trace,_=Y._fullLayout,st=_._paperdiv.node().getBoundingClientRect(),dt=H.parcatsViewModel.graphDiv.getBoundingClientRect();for(St=0;St<H.leftXs.length-1;St++)if(H.leftXs[St]+H.dimWidths[St]-2<=Q&&Q<=H.leftXs[St+1]+2){var Et=H.parcatsViewModel.dimensions[St];xt=(Et.x+Et.width+H.parcatsViewModel.dimensions[St+1].x)/2,yt=(H.topYs[St]+H.topYs[St+1]+H.height)/2;break}var gt=H.parcatsViewModel.x+xt,Mt=H.parcatsViewModel.y+yt,Nt=r.mostReadable(H.model.color,["black","white"]),Gt=H.model.count,Pt=Gt/H.parcatsViewModel.model.count,Vt={countLabel:Gt,probabilityLabel:Pt.toFixed(3)},re=[];-1!==H.parcatsViewModel.hoverinfoItems.indexOf("count")&&re.push(["Count:",Vt.countLabel].join(" ")),-1!==H.parcatsViewModel.hoverinfoItems.indexOf("probability")&&re.push(["P:",Vt.probabilityLabel].join(" "));var le=re.join("<br>"),It=A.mouse(Y)[0];P.loneHover({trace:nt,x:gt-st.left+dt.left,y:Mt-st.top+dt.top,text:le,color:H.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Nt,idealAlign:It<gt?"right":"left",hovertemplate:(nt.line||{}).hovertemplate,hovertemplateLabels:Vt,eventData:[{data:nt._input,fullData:nt,count:Gt,probability:Pt}]},{container:_._hoverlayer.node(),outerContainer:_._paper.node(),gd:Y})}}}function g(H){if(!H.parcatsViewModel.dragDimension&&(o(A.select(this)),P.loneUnhover(H.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),H.parcatsViewModel.pathSelection.sort(f),-1===H.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var Z=c(H),it=w(H);H.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:Z,event:A.event,constraints:it})}}function c(H){for(var Z=[],it=G(H.parcatsViewModel),Q=0;Q<H.model.valueInds.length;Q++)Z.push({curveNumber:it,pointNumber:H.model.valueInds[Q]});return Z}function w(H){for(var Z={},it=H.parcatsViewModel.model.dimensions,Q=0;Q<it.length;Q++){var Y=it[Q];Z[Y.containerInd]=Y.categories[H.model.categoryInds[Q]].categoryValue}return void 0!==H.model.rawColor&&(Z.color=H.model.rawColor),Z}function d(H){if(-1===H.parcatsViewModel.hoverinfoItems.indexOf("skip")){var Z=c(H),it=w(H);H.parcatsViewModel.graphDiv.emit("plotly_click",{points:Z,event:A.event,constraints:it})}}function o(H){H.attr("fill",function(Z){return Z.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function v(H){H.attr("fill-opacity",.8).attr("stroke",function(Z){return r.mostReadable(Z.model.color,["black","white"])}).attr("stroke-width",.3)}function b(H){H.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function x(H){H.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function S(H){var it=H.categoryViewModel.model.dimensionInd,Q=H.categoryViewModel.model.categoryInd;return H.parcatsViewModel.pathSelection.filter(function(Y){return Y.model.categoryInds[it]===Q&&Y.model.color===H.color})}function C(H,Z,it){var Q=A.select(H).datum(),Y=Q.categoryViewModel.model,nt=Q.parcatsViewModel.graphDiv,_=A.select(H.parentNode).selectAll("rect.bandrect"),st=[];_.each(function(xt){S(xt).each(function(St){Array.prototype.push.apply(st,c(St))})});var dt={};dt[Y.dimensionInd]=Y.categoryValue,nt.emit(Z,{points:st,event:it,constraints:dt})}function p(H,Z,it){var Q=A.select(H).datum(),Y=Q.categoryViewModel.model,nt=Q.parcatsViewModel.graphDiv,_=S(Q),st=[];_.each(function(xt){Array.prototype.push.apply(st,c(xt))});var dt={};dt[Y.dimensionInd]=Y.categoryValue,void 0!==Q.rawColor&&(dt.color=Q.rawColor),nt.emit(Z,{points:st,event:it,constraints:dt})}function F(H,Z,it){H._fullLayout._calcInverseTransform(H);var Et,Tt,Q=H._fullLayout._invScaleX,Y=H._fullLayout._invScaleY,nt=A.select(it.parentNode).select("rect.catrect"),_=nt.node().getBoundingClientRect(),st=nt.datum(),dt=st.parcatsViewModel,yt=dt.trace,St=_.top+_.height/2;dt.dimensions.length>1&&dt.model.dimensions[st.model.dimensionInd].displayInd===dt.dimensions.length-1?(Et=_.left,Tt="left"):(Et=_.left+_.width,Tt="right");var gt=st.model.count,Mt=st.model.categoryLabel,Nt=gt/st.parcatsViewModel.model.count,Gt={countLabel:gt,categoryLabel:Mt,probabilityLabel:Nt.toFixed(3)},Pt=[];-1!==st.parcatsViewModel.hoverinfoItems.indexOf("count")&&Pt.push(["Count:",Gt.countLabel].join(" ")),-1!==st.parcatsViewModel.hoverinfoItems.indexOf("probability")&&Pt.push(["P("+Gt.categoryLabel+"):",Gt.probabilityLabel].join(" "));var Vt=Pt.join("<br>");return{trace:yt,x:Q*(Et-Z.left),y:Y*(St-Z.top),text:Vt,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Tt,hovertemplate:yt.hovertemplate,hovertemplateLabels:Gt,eventData:[{data:yt._input,fullData:yt,count:gt,category:Mt,probability:Nt}]}}function k(H){if(!H.parcatsViewModel.dragDimension&&-1===H.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(A.mouse(this)[1]<-1)return;var st,it=H.parcatsViewModel.graphDiv,Q=it._fullLayout,Y=Q._paperdiv.node().getBoundingClientRect(),nt=H.parcatsViewModel.hoveron,_=this;"color"===nt?(function n(H){var Z=A.select(H).datum(),it=S(Z);v(it),it.each(function(){L.raiseToTop(this)}),A.select(H.parentNode).selectAll("rect.bandrect").filter(function(Q){return Q.color===Z.color}).each(function(){L.raiseToTop(this),function E(H){H.attr("stroke","black").attr("stroke-width",1.5)}(A.select(this))})}(_),p(_,"plotly_hover",A.event)):(function T(H){A.select(H.parentNode).selectAll("rect.bandrect").each(function(it){var Q=S(it);v(Q),Q.each(function(){L.raiseToTop(this)})}),function M(H){H.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(A.select(H.parentNode))}(_),C(_,"plotly_hover",A.event)),-1===H.parcatsViewModel.hoverinfoItems.indexOf("none")&&("category"===nt?st=F(it,Y,_):"color"===nt?st=function N(H,Z,it){H._fullLayout._calcInverseTransform(H);var Et,Tt,Q=H._fullLayout._invScaleX,Y=H._fullLayout._invScaleY,nt=it.getBoundingClientRect(),_=A.select(it).datum(),st=_.categoryViewModel,dt=st.parcatsViewModel,yt=dt.trace,St=nt.y+nt.height/2;dt.dimensions.length>1&&dt.model.dimensions[st.model.dimensionInd].displayInd===dt.dimensions.length-1?(Et=nt.left,Tt="left"):(Et=nt.left+nt.width,Tt="right");var gt=st.model.categoryLabel,Mt=_.parcatsViewModel.model.count,Nt=0;_.categoryViewModel.bands.forEach(function(se){se.color===_.color&&(Nt+=se.count)});var Gt=st.model.count,Pt=0;dt.pathSelection.each(function(se){se.model.color===_.color&&(Pt+=se.model.count)});var Vt=Nt/Mt,re=Nt/Pt,le=Nt/Gt,It={countLabel:Mt,categoryLabel:gt,probabilityLabel:Vt.toFixed(3)},Rt=[];-1!==st.parcatsViewModel.hoverinfoItems.indexOf("count")&&Rt.push(["Count:",It.countLabel].join(" ")),-1!==st.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(Rt.push("P(color \u2229 "+gt+"): "+It.probabilityLabel),Rt.push("P("+gt+" | color): "+re.toFixed(3)),Rt.push("P(color | "+gt+"): "+le.toFixed(3)));var $t=Rt.join("<br>"),oe=r.mostReadable(_.color,["black","white"]);return{trace:yt,x:Q*(Et-Z.left),y:Y*(St-Z.top),text:$t,color:_.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:oe,fontSize:10,idealAlign:Tt,hovertemplate:yt.hovertemplate,hovertemplateLabels:It,eventData:[{data:yt._input,fullData:yt,category:gt,count:Mt,probability:Vt,categorycount:Gt,colorcount:Pt,bandcolorcount:Nt}]}}(it,Y,_):"dimension"===nt&&(st=function D(H,Z,it){var Q=[];return A.select(it.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){Q.push(F(H,Z,this))}),Q}(it,Y,_)),st&&P.loneHover(st,{container:Q._hoverlayer.node(),outerContainer:Q._paper.node(),gd:it}))}}function z(H){var Z=H.parcatsViewModel;if(!Z.dragDimension&&(o(Z.pathSelection),b(Z.dimensionSelection.selectAll("g.category")),x(Z.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),P.loneUnhover(Z.graphDiv._fullLayout._hoverlayer.node()),Z.pathSelection.sort(f),-1===Z.hoverinfoItems.indexOf("skip"))){"color"===H.parcatsViewModel.hoveron?p(this,"plotly_unhover",A.event):C(this,"plotly_unhover",A.event)}}function B(H){"fixed"!==H.parcatsViewModel.arrangement&&(H.dragDimensionDisplayInd=H.model.displayInd,H.initialDragDimensionDisplayInds=H.parcatsViewModel.model.dimensions.map(function(Z){return Z.displayInd}),H.dragHasMoved=!1,H.dragCategoryDisplayInd=null,A.select(this).selectAll("g.category").select("rect.catrect").each(function(Z){var it=A.mouse(this)[0],Q=A.mouse(this)[1];-2<=it&&it<=Z.width+2&&-2<=Q&&Q<=Z.height+2&&(H.dragCategoryDisplayInd=Z.model.displayInd,H.initialDragCategoryDisplayInds=H.model.categories.map(function(Y){return Y.displayInd}),Z.model.dragY=Z.y,L.raiseToTop(this.parentNode),A.select(this.parentNode).selectAll("rect.bandrect").each(function(Y){Y.y<Q&&Q<=Y.y+Y.height&&(H.potentialClickBand=this)}))}),H.parcatsViewModel.dragDimension=H,P.loneUnhover(H.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function O(H){if("fixed"!==H.parcatsViewModel.arrangement&&(H.dragHasMoved=!0,null!==H.dragDimensionDisplayInd)){var Z=H.dragDimensionDisplayInd,it=Z-1,Q=Z+1,Y=H.parcatsViewModel.dimensions[Z];if(null!==H.dragCategoryDisplayInd){var nt=Y.categories[H.dragCategoryDisplayInd];nt.model.dragY+=A.event.dy;var _=nt.model.dragY,st=nt.model.displayInd,dt=Y.categories,xt=dt[st-1],yt=dt[st+1];void 0!==xt&&_<xt.y+xt.height/2&&(nt.model.displayInd=xt.model.displayInd,xt.model.displayInd=st),void 0!==yt&&_+nt.height>yt.y+yt.height/2&&(nt.model.displayInd=yt.model.displayInd,yt.model.displayInd=st),H.dragCategoryDisplayInd=nt.model.displayInd}if(null===H.dragCategoryDisplayInd||"freeform"===H.parcatsViewModel.arrangement){Y.model.dragX=A.event.x;var St=H.parcatsViewModel.dimensions[it],Et=H.parcatsViewModel.dimensions[Q];void 0!==St&&Y.model.dragX<St.x+St.width&&(Y.model.displayInd=St.model.displayInd,St.model.displayInd=Z),void 0!==Et&&Y.model.dragX+Y.width>Et.x&&(Y.model.displayInd=Et.model.displayInd,Et.model.displayInd=H.dragDimensionDisplayInd),H.dragDimensionDisplayInd=Y.model.displayInd}j(H.parcatsViewModel),K(H.parcatsViewModel),et(H.parcatsViewModel),J(H.parcatsViewModel)}}function U(H){if("fixed"!==H.parcatsViewModel.arrangement&&null!==H.dragDimensionDisplayInd){A.select(this).selectAll("text").attr("font-weight","normal");var Z={},it=G(H.parcatsViewModel),Q=H.parcatsViewModel.model.dimensions.map(function(Et){return Et.displayInd}),Y=H.initialDragDimensionDisplayInds.some(function(Et,Tt){return Et!==Q[Tt]});Y&&Q.forEach(function(Et,Tt){Z["dimensions["+H.parcatsViewModel.model.dimensions[Tt].containerInd+"].displayindex"]=Et});var nt=!1;if(null!==H.dragCategoryDisplayInd){var _=H.model.categories.map(function(Et){return Et.displayInd});if(nt=H.initialDragCategoryDisplayInds.some(function(Et,Tt){return Et!==_[Tt]})){var st=H.model.categories.slice().sort(function(Et,Tt){return Et.displayInd-Tt.displayInd}),dt=st.map(function(Et){return Et.categoryValue}),xt=st.map(function(Et){return Et.categoryLabel});Z["dimensions["+H.model.containerInd+"].categoryarray"]=[dt],Z["dimensions["+H.model.containerInd+"].ticktext"]=[xt],Z["dimensions["+H.model.containerInd+"].categoryorder"]="array"}}-1===H.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!H.dragHasMoved&&H.potentialClickBand&&("color"===H.parcatsViewModel.hoveron?p(H.potentialClickBand,"plotly_click",A.event.sourceEvent):C(H.potentialClickBand,"plotly_click",A.event.sourceEvent)),H.model.dragX=null,null!==H.dragCategoryDisplayInd&&(H.parcatsViewModel.dimensions[H.dragDimensionDisplayInd].categories[H.dragCategoryDisplayInd].model.dragY=null,H.dragCategoryDisplayInd=null),H.dragDimensionDisplayInd=null,H.parcatsViewModel.dragDimension=null,H.dragHasMoved=null,H.potentialClickBand=null,j(H.parcatsViewModel),K(H.parcatsViewModel),A.transition().duration(300).ease("cubic-in-out").each(function(){et(H.parcatsViewModel,!0),J(H.parcatsViewModel,!0)}).each("end",function(){(Y||nt)&&i.restyle(H.parcatsViewModel.graphDiv,Z,[it])})}}function G(H){for(var Z,it=H.graphDiv._fullData,Q=0;Q<it.length;Q++)if(H.key===it[Q].uid){Z=Q;break}return Z}function J(H,Z){void 0===Z&&(Z=!1),H.pathSelection.data(function(Q){return Q.paths},a),function it(Q){return Z?Q.transition():Q}(H.pathSelection).attr("d",function(Q){return Q.svgD})}function et(H,Z){function it(dt){return Z?dt.transition():dt}void 0===Z&&(Z=!1),H.dimensionSelection.data(function(dt){return dt.dimensions},a);var Q=H.dimensionSelection.selectAll("g.category").data(function(dt){return dt.categories},a);it(H.dimensionSelection).attr("transform",function(dt){return l(dt.x,0)}),it(Q).attr("transform",function(dt){return l(0,dt.y)}),Q.select(".dimlabel").text(function(dt,xt){return 0===xt?dt.parcatsViewModel.model.dimensions[dt.model.dimensionInd].dimensionLabel:null}),Q.select(".catlabel").attr("text-anchor",function(dt){return h(dt)?"start":"end"}).attr("x",function(dt){return h(dt)?dt.width+5:-5}).each(function(dt){var xt,yt;h(dt)?(xt=dt.width+5,yt="start"):(xt=-5,yt="end"),A.select(this).selectAll("tspan").attr("x",xt).attr("text-anchor",yt)});var _=Q.selectAll("rect.bandrect").data(function(dt){return dt.bands},a),st=_.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(dt){return dt.color}).attr("fill-opacity",0);_.attr("fill",function(dt){return dt.color}).attr("width",function(dt){return dt.width}).attr("height",function(dt){return dt.height}).attr("y",function(dt){return dt.y}),x(st),_.each(function(){L.raiseToTop(this)}),_.exit().remove()}function at(H,Z,it){var gt,Q=it[0],Y=Z.margin||{l:80,r:80,t:100,b:80},nt=Q.trace,_=nt.domain,st=Z.width,dt=Z.height,xt=Math.floor(st*(_.x[1]-_.x[0])),yt=Math.floor(dt*(_.y[1]-_.y[0])),St=_.x[0]*st+Y.l,Et=Z.height-_.y[1]*Z.height+Y.t,Tt=nt.line.shape;gt="all"===nt.hoverinfo?["count","probability"]:(nt.hoverinfo||"").split("+");var Mt={trace:nt,key:nt.uid,model:Q,x:St,y:Et,width:xt,height:yt,hoveron:nt.hoveron,hoverinfoItems:gt,arrangement:nt.arrangement,bundlecolors:nt.bundlecolors,sortpaths:nt.sortpaths,labelfont:nt.labelfont,categorylabelfont:nt.tickfont,pathShape:Tt,dragDimension:null,margin:Y,paths:[],dimensions:[],graphDiv:H,traceSelection:null,pathSelection:null,dimensionSelection:null};return Q.dimensions&&(j(Mt),K(Mt)),Mt}function lt(H,Z,it,Q,Y){var st,dt,nt=[],_=[];for(dt=0;dt<it.length-1;dt++)st=y(it[dt]+H[dt],H[dt+1]),nt.push(st(Y)),_.push(st(1-Y));var xt="M "+H[0]+","+Z[0];for(xt+="l"+it[0]+",0 ",dt=1;dt<it.length;dt++)xt+="C"+nt[dt-1]+","+Z[dt-1]+" "+_[dt-1]+","+Z[dt]+" "+H[dt]+","+Z[dt],xt+="l"+it[dt]+",0 ";for(xt+="l0,"+Q+" ",xt+="l -"+it[it.length-1]+",0 ",dt=it.length-2;dt>=0;dt--)xt+="C"+_[dt]+","+(Z[dt+1]+Q)+" "+nt[dt]+","+(Z[dt]+Q)+" "+(H[dt]+it[dt])+","+(Z[dt]+Q),xt+="l-"+it[dt]+",0 ";return xt+"Z"}function K(H){var Z=H.dimensions,it=H.model,Q=Z.map(function(jt){return jt.categories.map(function(Ct){return Ct.y})}),Y=H.model.dimensions.map(function(jt){return jt.categories.map(function(Ct){return Ct.displayInd})}),nt=H.model.dimensions.map(function(jt){return jt.displayInd}),_=H.dimensions.map(function(jt){return jt.model.dimensionInd}),st=Z.map(function(jt){return jt.x}),dt=Z.map(function(jt){return jt.width}),xt=[];for(var yt in it.paths)it.paths.hasOwnProperty(yt)&&xt.push(it.paths[yt]);function St(jt){var Ct=jt.categoryInds.map(function(Xt,Ht){return Y[Ht][Xt]});return _.map(function(Xt){return Ct[Xt]})}xt.sort(function(jt,Ct){var Wt=St(jt),Xt=St(Ct);return"backward"===H.sortpaths&&(Wt.reverse(),Xt.reverse()),Wt.push(jt.valueInds[0]),Xt.push(Ct.valueInds[0]),H.bundlecolors&&(Wt.unshift(jt.rawColor),Xt.unshift(Ct.rawColor)),Wt<Xt?-1:Wt>Xt?1:0});for(var Et=new Array(xt.length),Tt=Z[0].model.count,gt=Z[0].categories.map(function(jt){return jt.height}).reduce(function(jt,Ct){return jt+Ct}),Mt=0;Mt<xt.length;Mt++){var Gt,de,Nt=xt[Mt];Gt=Tt>0?gt*(Nt.count/Tt):0;for(var Pt=new Array(Q.length),Vt=0;Vt<Nt.categoryInds.length;Vt++){var le=Y[Vt][Nt.categoryInds[Vt]],It=nt[Vt];Pt[It]=Q[It][le],Q[It][le]+=Gt;var Rt=H.dimensions[It].categories[le],$t=Rt.bands.length,oe=Rt.bands[$t-1];if(void 0===oe||Nt.rawColor!==oe.rawColor){var se=void 0===oe?0:oe.y+oe.height;Rt.bands.push({key:se,color:Nt.color,rawColor:Nt.rawColor,height:Gt,width:Rt.width,count:Nt.count,y:se,categoryViewModel:Rt,parcatsViewModel:H})}else{var ve=Rt.bands[$t-1];ve.height+=Gt,ve.count+=Nt.count}}de=lt(st,Pt,dt,Gt,"hspline"===H.pathShape?.5:0),Et[Mt]={key:Nt.valueInds[0],model:Nt,height:Gt,leftXs:st,topYs:Pt,dimWidths:dt,svgD:de,parcatsViewModel:H}}H.paths=Et}function j(H){var Z=H.model.dimensions.map(function(_){return{displayInd:_.displayInd,dimensionInd:_.dimensionInd}});Z.sort(function(_,st){return _.displayInd-st.displayInd});var it=[];for(var Q in Z)it.push(rt(H,H.model.dimensions[Z[Q].dimensionInd]));H.dimensions=it}function rt(H,Z){var dt,Y=H.model.dimensions.length;dt=40+(Y>1?(H.width-80-16)/(Y-1):0)*Z.displayInd;var Mt,Nt,Gt,Vt,xt=[],yt=H.model.maxCats,St=Z.categories.length,Tt=Z.count,gt=H.height-8*(yt-1),re=8*(yt-St)/2,le=Z.categories.map(function(It){return{displayInd:It.displayInd,categoryInd:It.categoryInd}});for(le.sort(function(It,Rt){return It.displayInd-Rt.displayInd}),Vt=0;Vt<St;Vt++)Gt={key:(Nt=Z.categories[le[Vt].categoryInd]).valueInds[0],model:Nt,width:16,height:Mt=Tt>0?Nt.count/Tt*gt:0,y:null!==Nt.dragY?Nt.dragY:re,bands:[],parcatsViewModel:H},re=re+Mt+8,xt.push(Gt);return{key:Z.dimensionInd,x:null!==Z.dragX?Z.dragX:dt,y:0,width:16,model:Z,categories:xt,parcatsViewModel:H,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}tt.exports=function(H,Z,it,Q){s(it,H,Q,Z)}},60268:function(tt,W,t){"use strict";var A=t(51036);tt.exports=function(i,P,L,l){var m=i._fullLayout,e=m._size;A(i,m._paper,P,{width:e.w,height:e.h,margin:{t:e.t,r:e.r,b:e.b,l:e.l}},L,l)}},82296:function(tt,W,t){"use strict";var A=t(49084),y=t(94724),i=t(25376),P=t(86968).u,L=t(92880).extendFlat,l=t(31780).templatedArray;tt.exports={domain:P({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:i({editType:"plot"}),tickfont:i({editType:"plot"}),rangefont:i({editType:"plot"}),dimensions:l("dimension",{label:{valType:"string",editType:"plot"},tickvals:L({},y.tickvals,{editType:"plot"}),ticktext:L({},y.ticktext,{editType:"plot"}),tickformat:L({},y.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:L({editType:"calc"},A("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(tt,W,t){"use strict";var A=t(30140),y=t(33428),i=t(71688).keyFun,P=t(71688).repeat,L=t(3400).sorterAsc,l=t(3400).strTranslate,m=A.bar.snapRatio;function r(U,G){return U*(1-m)+G*m}var e=A.bar.snapClose;function s(U,G){return U*(1-e)+G*e}function a(U,G,J,et){if(function h(U,G){for(var J=0;J<G.length;J++)if(U>=G[J][0]&&U<=G[J][1])return!0;return!1}(J,et))return J;var at=U?-1:1,lt=0,K=G.length-1;if(at<0){var j=lt;lt=K,K=j}for(var rt=G[lt],H=rt,Z=lt;at*Z<at*K;Z+=at){var it=Z+at,Q=G[it];if(at*J<at*s(rt,Q))return r(rt,H);if(at*J<at*Q||it===K)return r(Q,rt);H=rt,rt=Q}}function f(U){U.attr("x",-A.bar.captureWidth/2).attr("width",A.bar.captureWidth)}function u(U){U.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function g(U){if(!U.brush.filterSpecified)return"0,"+U.height;for(var et,at,lt,G=c(U.brush.filter.getConsolidated(),U.height),J=[0],K=G.length?G[0][0]:null,j=0;j<G.length;j++)at=(et=G[j])[1]-et[0],J.push(K),J.push(at),(lt=j+1)<G.length&&(K=G[lt][0]-et[1]);return J.push(U.height),J}function c(U,G){return U.map(function(J){return J.map(function(et){return Math.max(0,et*G)}).sort(L)})}function d(){y.select(document.body).style("cursor",null)}function o(U){U.attr("stroke-dasharray",g)}function v(U,G){var J=y.select(U).selectAll(".highlight, .highlight-shadow");o(G?J.transition().duration(A.bar.snapDuration).each("end",G):J)}function M(U,G){var K,J=U.brush,at=NaN,lt={};if(J.filterSpecified){var j=U.height,rt=J.filter.getConsolidated(),H=c(rt,j),Z=NaN,it=NaN,Q=NaN;for(K=0;K<=H.length;K++){var Y=H[K];if(Y&&Y[0]<=G&&G<=Y[1]){Z=K;break}if(it=K?K-1:NaN,Y&&Y[0]>G){Q=K;break}}if(at=Z,isNaN(at)&&(at=isNaN(it)||isNaN(Q)?isNaN(it)?Q:it:G-H[it][1]<H[Q][0]-G?it:Q),!isNaN(at)){var nt=H[at],_=function w(U,G){var J=A.bar.handleHeight;if(!(G>U[1]+J||G<U[0]-J))return G>=.9*U[1]+.1*U[0]?"n":G<=.9*U[0]+.1*U[1]?"s":"ns"}(nt,G);_&&(lt.interval=rt[at],lt.intervalPix=nt,lt.region=_)}}if(U.ordinal&&!lt.region){var st=U.unitTickvals,dt=U.unitToPaddedPx.invert(G);for(K=0;K<st.length;K++){var xt=[.25*st[Math.max(K-1,0)]+.75*st[K],.25*st[Math.min(K+1,st.length-1)]+.75*st[K]];if(dt>=xt[0]&&dt<=xt[1]){lt.clickableOrdinalRange=xt;break}}}return lt}function E(U,G){y.event.sourceEvent.stopPropagation();var J=G.height-y.mouse(U)[1]-2*A.verticalPadding,et=G.brush.svgBrush;et.wasDragged=!0,et._dragging=!0,et.newExtent=et.grabbingBar?[J-et.grabPoint,J+et.barLength-et.grabPoint].map(G.unitToPaddedPx.invert):[et.startExtent,G.unitToPaddedPx.invert(J)].sort(L),G.brush.filterSpecified=!0,et.extent=et.stayingIntervals.concat([et.newExtent]),et.brushCallback(G),v(U.parentNode)}function S(U,G){var et=M(G,G.height-y.mouse(U)[1]-2*A.verticalPadding),at="crosshair";et.clickableOrdinalRange?at="pointer":et.region&&(at=et.region+"-resize"),y.select(document.body).style("cursor",at)}function T(U){U.on("mousemove",function(G){y.event.preventDefault(),G.parent.inBrushDrag||S(this,G)}).on("mouseleave",function(G){G.parent.inBrushDrag||d()}).call(y.behavior.drag().on("dragstart",function(G){!function b(U,G){y.event.sourceEvent.stopPropagation();var J=G.height-y.mouse(U)[1]-2*A.verticalPadding,et=G.unitToPaddedPx.invert(J),at=G.brush,lt=M(G,J),K=lt.interval,j=at.svgBrush;if(j.wasDragged=!1,j.grabbingBar="ns"===lt.region,j.grabbingBar){var rt=K.map(G.unitToPaddedPx);j.grabPoint=J-rt[0]-A.verticalPadding,j.barLength=rt[1]-rt[0]}j.clickableOrdinalRange=lt.clickableOrdinalRange,j.stayingIntervals=G.multiselect&&at.filterSpecified?at.filter.getConsolidated():[],K&&(j.stayingIntervals=j.stayingIntervals.filter(function(H){return H[0]!==K[0]&&H[1]!==K[1]})),j.startExtent=lt.region?K["s"===lt.region?1:0]:et,G.parent.inBrushDrag=!0,j.brushStartCallback()}(this,G)}).on("drag",function(G){E(this,G)}).on("dragend",function(G){!function x(U,G){var J=G.brush,et=J.filter,at=J.svgBrush;at._dragging||(S(U,G),E(U,G),G.brush.svgBrush.wasDragged=!1),at._dragging=!1,y.event.sourceEvent.stopPropagation();var K=at.grabbingBar;if(at.grabbingBar=!1,at.grabLocation=void 0,G.parent.inBrushDrag=!1,d(),!at.wasDragged)return at.wasDragged=void 0,at.clickableOrdinalRange?J.filterSpecified&&G.multiselect?at.extent.push(at.clickableOrdinalRange):(at.extent=[at.clickableOrdinalRange],J.filterSpecified=!0):K?(at.extent=at.stayingIntervals,0===at.extent.length&&D(J)):D(J),at.brushCallback(G),v(U.parentNode),void at.brushEndCallback(J.filterSpecified?et.getConsolidated():[]);var j=function(){et.set(et.getConsolidated())};if(G.ordinal){var rt=G.unitTickvals;rt[rt.length-1]<rt[0]&&rt.reverse(),at.newExtent=[a(0,rt,at.newExtent[0],at.stayingIntervals),a(1,rt,at.newExtent[1],at.stayingIntervals)];var H=at.newExtent[1]>at.newExtent[0];at.extent=at.stayingIntervals.concat(H?[at.newExtent]:[]),at.extent.length||D(J),at.brushCallback(G),H?v(U.parentNode,j):(j(),v(U.parentNode))}else j();at.brushEndCallback(J.filterSpecified?et.getConsolidated():[])}(this,G)}))}function n(U,G){return U[0]-G[0]}function D(U){U.filterSpecified=!1,U.svgBrush.extent=[[-1/0,1/0]]}function N(U){return function(J){var et=J.brush,lt=function F(U){return U.svgBrush.extent.map(function(G){return G.slice()})}(et).slice();et.filter.set(lt),U()}}function k(U){for(var et,G=U.slice(),J=[],at=G.shift();at;){for(et=at.slice();(at=G.shift())&&at[0]<=et[1];)et[1]=Math.max(et[1],at[1]);J.push(et)}return 1===J.length&&J[0][0]>J[0][1]&&(J=[]),J}tt.exports={makeBrush:function B(U,G,J,et,at,lt){var K=function z(){var G,J,U=[];return{set:function(et){1===(U=et.map(function(at){return at.slice().sort(L)}).sort(n)).length&&U[0][0]===-1/0&&U[0][1]===1/0&&(U=[[0,-1]]),G=k(U),J=U.reduce(function(at,lt){return[Math.min(at[0],lt[0]),Math.max(at[1],lt[1])]},[1/0,-1/0])},get:function(){return U.slice()},getConsolidated:function(){return G},getBounds:function(){return J}}}();return K.set(J),{filter:K,filterSpecified:G,svgBrush:{extent:[],brushStartCallback:et,brushCallback:N(at),brushEndCallback:lt}}},ensureAxisBrush:function p(U,G,J){var et=U.selectAll("."+A.cn.axisBrush).data(P,i);et.enter().append("g").classed(A.cn.axisBrush,!0),function C(U,G,J){var et=J._context.staticPlot,at=U.selectAll(".background").data(P);at.enter().append("rect").classed("background",!0).call(f).call(u).style("pointer-events",et?"none":"auto").attr("transform",l(0,A.verticalPadding)),at.call(T).attr("height",function(j){return j.height-A.verticalPadding});var lt=U.selectAll(".highlight-shadow").data(P);lt.enter().append("line").classed("highlight-shadow",!0).attr("x",-A.bar.width/2).attr("stroke-width",A.bar.width+A.bar.strokeWidth).attr("stroke",G).attr("opacity",A.bar.strokeOpacity).attr("stroke-linecap","butt"),lt.attr("y1",function(j){return j.height}).call(o);var K=U.selectAll(".highlight").data(P);K.enter().append("line").classed("highlight",!0).attr("x",-A.bar.width/2).attr("stroke-width",A.bar.width-A.bar.strokeWidth).attr("stroke",A.bar.fillColor).attr("opacity",A.bar.fillOpacity).attr("stroke-linecap","butt"),K.attr("y1",function(j){return j.height}).call(o)}(et,G,J)},cleanRanges:function O(U,G){if(Array.isArray(U[0])?(U=U.map(function(et){return et.sort(L)}),U=G.multiselect?k(U.sort(n)):[U[0]]):U=[U.sort(L)],G.tickvals){var J=G.tickvals.slice().sort(L);if(!(U=U.map(function(et){var at=[a(0,J,et[0],[]),a(1,J,et[1],[])];if(at[1]>at[0])return at}).filter(function(et){return et})).length)return}return U.length>1?U:U[0]}}},61664:function(tt,W,t){"use strict";tt.exports={attributes:t(82296),supplyDefaults:t(60664),calc:t(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:t(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(tt,W,t){"use strict";var A=t(33428),y=t(84888)._M,i=t(24196),P=t(9616);W.name="parcoords",W.plot=function(L){var l=y(L.calcdata,"parcoords")[0];l.length&&i(L,l)},W.clean=function(L,l,m,r){var e=r._has&&r._has("parcoords"),s=l._has&&l._has("parcoords");e&&!s&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},W.toSVG=function(L){var l=L._fullLayout._glimages,m=A.select(L).selectAll(".svg-container");m.filter(function(s,a){return a===m.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function e(){var s=this,a=s.toDataURL("image/png");l.append("svg:image").attr({xmlns:P.svg,"xlink:href":a,preserveAspectRatio:"none",x:0,y:0,width:s.style.width,height:s.style.height})}),window.setTimeout(function(){A.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(tt,W,t){"use strict";var A=t(3400).isArrayOrTypedArray,y=t(8932),i=t(71688).wrap;tt.exports=function(l,m){var r,e;return y.hasColorscale(m,"line")&&A(m.line.color)?(r=m.line.color,e=y.extractOpts(m.line).colorscale,y.calc(l,m,{vals:r,containerStr:"line",cLetter:"c"})):(r=function P(L){for(var l=new Array(L),m=0;m<L;m++)l[m]=.5;return l}(m._length),e=[[0,m.line.color],[1,m.line.color]]),i({lineColor:r,cscale:e})}},30140:function(tt){"use strict";tt.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(tt,W,t){"use strict";var A=t(3400),y=t(94288).hasColorscale,i=t(27260),P=t(86968).Q,L=t(51272),l=t(54460),m=t(82296),r=t(71864),e=t(30140).maxDimensionCount,s=t(26284);function h(f,u,g,c){function w(b,E){return A.coerce(f,u,m.dimensions,b,E)}var d=w("values"),o=w("visible");if(d&&d.length||(o=u.visible=!1),o){w("label"),w("tickvals"),w("ticktext"),w("tickformat");var v=w("range");u._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:v},l.setConvert(u._ax,c.layout),w("multiselect");var M=w("constraintrange");M&&(u.constraintrange=r.cleanRanges(M,u))}}tt.exports=function(u,g,c,w){function d(E,x){return A.coerce(u,g,m,E,x)}var o=u.dimensions;Array.isArray(o)&&o.length>e&&(A.log("parcoords traces support up to "+e+" dimensions at the moment"),o.splice(e));var v=L(u,g,{name:"dimensions",layout:w,handleItemDefaults:h}),M=function a(f,u,g,c,w){var d=w("line.color",g);if(y(f,"line")&&A.isArrayOrTypedArray(d)){if(d.length)return w("line.colorscale"),i(f,u,c,w,{prefix:"line.",cLetter:"c"}),d.length;u.line.color=g}return 1/0}(u,g,c,w,d);P(g,w,d),(!Array.isArray(v)||!v.length)&&(g.visible=!1),s(g,v,"values",M);var b={family:w.font.family,size:Math.round(w.font.size/1.2),color:w.font.color};A.coerceFont(d,"labelfont",b),A.coerceFont(d,"tickfont",b),A.coerceFont(d,"rangefont",b),d("labelangle"),d("labelside"),d("unselected.line.color"),d("unselected.line.opacity")}},95724:function(tt,W,t){"use strict";var A=t(3400).isTypedArray;W.convertTypedArray=function(y){return A(y)?Array.prototype.slice.call(y):y},W.isOrdinal=function(y){return!!y.tickvals},W.isVisible=function(y){return y.visible||!("visible"in y)}},29928:function(tt,W,t){"use strict";var A=t(61664);A.plot=t(24196),tt.exports=A},51352:function(tt,W,t){"use strict";var A=t(26444),y=A(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nattribute vec4 p01_04, p05_08, p09_12, p13_16,\n               p17_20, p21_24, p25_28, p29_32,\n               p33_36, p37_40, p41_44, p45_48,\n               p49_52, p53_56, p57_60, colors;\n\nuniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution, viewBoxPos, viewBoxSize;\nuniform float maskHeight;\nuniform float drwLayer; // 0: context, 1: focus, 2: pick\nuniform vec4 contextColor;\nuniform sampler2D maskTexture, palette;\n\nbool isPick    = (drwLayer > 1.5);\nbool isContext = (drwLayer < 0.5);\n\nconst vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);\nconst vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * UNITS, UNITS);\n}\n\nfloat axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);\n    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);\n    return y1 * (1.0 - ratio) + y2 * ratio;\n}\n\nint iMod(int a, int b) {\n    return a - b * (a / b);\n}\n\nbool fOutside(float p, float lo, float hi) {\n    return (lo < hi) && (lo > p || p > hi);\n}\n\nbool vOutside(vec4 p, vec4 lo, vec4 hi) {\n    return (\n        fOutside(p[0], lo[0], hi[0]) ||\n        fOutside(p[1], lo[1], hi[1]) ||\n        fOutside(p[2], lo[2], hi[2]) ||\n        fOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool mOutside(mat4 p, mat4 lo, mat4 hi) {\n    return (\n        vOutside(p[0], lo[0], hi[0]) ||\n        vOutside(p[1], lo[1], hi[1]) ||\n        vOutside(p[2], lo[2], hi[2]) ||\n        vOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {\n    return mOutside(A, loA, hiA) ||\n           mOutside(B, loB, hiB) ||\n           mOutside(C, loC, hiC) ||\n           mOutside(D, loD, hiD);\n}\n\nbool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {\n    mat4 pnts[4];\n    pnts[0] = A;\n    pnts[1] = B;\n    pnts[2] = C;\n    pnts[3] = D;\n\n    for(int i = 0; i < 4; ++i) {\n        for(int j = 0; j < 4; ++j) {\n            for(int k = 0; k < 4; ++k) {\n                if(0 == iMod(\n                    int(255.0 * texture2D(maskTexture,\n                        vec2(\n                            (float(i * 2 + j / 2) + 0.5) / 8.0,\n                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight\n                        ))[3]\n                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),\n                    2\n                )) return true;\n            }\n        }\n    }\n    return false;\n}\n\nvec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float x = 0.5 * sign(v) + 0.5;\n    float y = axisY(x, A, B, C, D);\n    float z = 1.0 - abs(v);\n\n    z += isContext ? 0.0 : 2.0 * float(\n        outsideBoundingBox(A, B, C, D) ||\n        outsideRasterMask(A, B, C, D)\n    );\n\n    return vec4(\n        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,\n        z,\n        1.0\n    );\n}\n\nvoid main() {\n    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);\n    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);\n    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);\n    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);\n\n    float v = colors[3];\n\n    gl_Position = position(isContext, v, A, B, C, D);\n\n    fragColor =\n        isContext ? vec4(contextColor) :\n        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));\n}\n"]),i=A(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),P=t(30140).maxDimensionCount,L=t(3400),l=1e-6,m=2048,r=new Uint8Array(4),e=new Uint8Array(4),s={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function h(S,T,n,C,p){var F=S._gl;F.enable(F.SCISSOR_TEST),F.scissor(T,n,C,p),S.clear({color:[0,0,0,0],depth:1})}function f(S,T,n,C,p,F){var D=F.key;n.drawCompleted||(function a(S){S.read({x:0,y:0,width:1,height:1,data:r})}(S),n.drawCompleted=!0),function N(k){var z=Math.min(C,p-k*C);0===k&&(window.cancelAnimationFrame(n.currentRafs[D]),delete n.currentRafs[D],h(S,F.scissorX,F.scissorY,F.scissorWidth,F.viewBoxSize[1])),!n.clearOnly&&(F.count=2*z,F.offset=2*k*C,T(F),k*C+z<p&&(n.currentRafs[D]=window.requestAnimationFrame(function(){N(k+1)})),n.drawCompleted=!1)}(0)}function u(S){return Math.max(l,Math.min(1-l,S))}function g(S,T){for(var n=new Array(256),C=0;C<256;C++)n[C]=S(C/255).concat(T);return n}function c(S,T){return(S>>>8*T)%256/255}function d(S,T,n){for(var C=new Array(8*T),p=0,F=0;F<T;F++)for(var D=0;D<2;D++)for(var N=0;N<4;N++){var k=4*S+N,z=n[64*F+k];63===k&&0===D&&(z*=-1),C[p++]=z}return C}function o(S){var T="0"+S;return T.substr(T.length-2)}function v(S){return S<P?"p"+o(S+1)+"_"+o(S+4):"colors"}function E(S,T,n,C,p,F,D,N,k,z,B,O,U,G){for(var J=[[],[]],et=0;et<64;et++)J[0][et]=et===p?1:0,J[1][et]=et===F?1:0;var at=S.lines.canvasOverdrag*G,lt=S.domain,K=S.canvasWidth*G,j=S.canvasHeight*G,rt=S.pad.l*G,H=S.pad.b*G,Z=S.layoutHeight*G,it=S.layoutWidth*G,Q=S.deselectedLines.color,Y=S.deselectedLines.opacity;return L.extendFlat({key:B,resolution:[K,j],viewBoxPos:[(D*=G)+at,N*=G],viewBoxSize:[k*=G,z*=G],i0:p,i1:F,dim0A:J[0].slice(0,16),dim0B:J[0].slice(16,32),dim0C:J[0].slice(32,48),dim0D:J[0].slice(48,64),dim1A:J[1].slice(0,16),dim1B:J[1].slice(16,32),dim1C:J[1].slice(32,48),dim1D:J[1].slice(48,64),drwLayer:O,contextColor:[Q[0]/255,Q[1]/255,Q[2]/255,"auto"!==Y?Q[3]*Y:Math.max(1/255,Math.pow(1/S.lines.color.length,1/3))],scissorX:(C===T?0:D+at)+(rt-at)+it*lt.x[0],scissorWidth:(C===n?K-D+at:k+.5)+(C===T?D+at:0),scissorY:N+H+Z*lt.y[0],scissorHeight:z,viewportX:rt-at+it*lt.x[0],viewportY:H+Z*lt.y[0],viewportWidth:K,viewportHeight:j},U)}function x(S){var T=m-1,n=Math.max(0,Math.floor(S[0]*T),0),C=Math.min(T,Math.ceil(S[1]*T),T);return[Math.min(n,C),Math.max(n,C)]}tt.exports=function(S,T){var z,O,U,J,n=T.context,C=T.pick,p=T.regl,F=p._gl,D=F.getParameter(F.ALIASED_LINE_WIDTH_RANGE),N=Math.max(D[0],Math.min(D[1],T.viewModel.plotGlPixelRatio)),k={currentRafs:{},drawCompleted:!0,clearOnly:!1},G=function b(S){for(var T={},n=0;n<=P;n+=4)T[v(n)]=S.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return T}(p),et=p.texture(s),at=[];K(T);var lt=p({profile:!1,blend:{enable:n,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!n,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:p.prop("scissorX"),y:p.prop("scissorY"),width:p.prop("scissorWidth"),height:p.prop("scissorHeight")}},viewport:{x:p.prop("viewportX"),y:p.prop("viewportY"),width:p.prop("viewportWidth"),height:p.prop("viewportHeight")},dither:!1,vert:y,frag:i,primitive:"lines",lineWidth:N,attributes:G,uniforms:{resolution:p.prop("resolution"),viewBoxPos:p.prop("viewBoxPos"),viewBoxSize:p.prop("viewBoxSize"),dim0A:p.prop("dim0A"),dim1A:p.prop("dim1A"),dim0B:p.prop("dim0B"),dim1B:p.prop("dim1B"),dim0C:p.prop("dim0C"),dim1C:p.prop("dim1C"),dim0D:p.prop("dim0D"),dim1D:p.prop("dim1D"),loA:p.prop("loA"),hiA:p.prop("hiA"),loB:p.prop("loB"),hiB:p.prop("hiB"),loC:p.prop("loC"),hiC:p.prop("hiC"),loD:p.prop("loD"),hiD:p.prop("hiD"),palette:et,contextColor:p.prop("contextColor"),maskTexture:p.prop("maskTexture"),drwLayer:p.prop("drwLayer"),maskHeight:p.prop("maskHeight")},offset:p.prop("offset"),count:p.prop("count")});function K(Q){z=Q.model,O=Q.viewModel.dimensions.slice(),U=O[0]?O[0].values.length:0;var Y=z.lines,nt=C?Y.color.map(function(st,dt){return dt/Y.color.length}):Y.color,_=function w(S,T,n){for(var C=new Array(S*(P+4)),p=0,F=0;F<S;F++){for(var D=0;D<P;D++)C[p++]=D<T.length?T[D].paddedUnitValues[F]:.5;C[p++]=c(F,2),C[p++]=c(F,1),C[p++]=c(F,0),C[p++]=u(n[F])}return C}(U,O,nt);(function M(S,T,n){for(var C=0;C<=P;C+=4)S[v(C)](d(C/4,T,n))})(G,U,_),!n&&!C&&(et=p.texture(L.extendFlat({data:g(z.unitToColor,255)},s)))}return{render:function rt(Q,Y,nt){var st,dt,xt,_=Q.length,yt=1/0,St=-1/0;for(st=0;st<_;st++)Q[st].dim0.canvasX<yt&&(yt=Q[st].dim0.canvasX,dt=st),Q[st].dim1.canvasX>St&&(St=Q[st].dim1.canvasX,xt=st);0===_&&h(p,0,0,z.canvasWidth,z.canvasHeight);var Et=function j(Q){var Y,nt,_,st=[[],[]];for(_=0;_<64;_++){var dt=!Q&&_<O.length?O[_].brush.filter.getBounds():[-1/0,1/0];st[0][_]=dt[0],st[1][_]=dt[1]}var yt=new Array(16384);for(Y=0;Y<16384;Y++)yt[Y]=255;if(!Q)for(Y=0;Y<O.length;Y++){var St=Y%8,Et=(Y-St)/8,Tt=Math.pow(2,St),Mt=O[Y].brush.filter.get();if(!(Mt.length<2)){var Nt=x(Mt[0])[1];for(nt=1;nt<Mt.length;nt++){var Gt=x(Mt[nt]);for(_=Nt+1;_<Gt[0];_++)yt[8*_+Et]&=~Tt;Nt=Math.max(Nt,Gt[1])}}}var Pt={shape:[8,m],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:yt};return J?J(Pt):J=p.texture(Pt),{maskTexture:J,maskHeight:m,loA:st[0].slice(0,16),loB:st[0].slice(16,32),loC:st[0].slice(32,48),loD:st[0].slice(48,64),hiA:st[1].slice(0,16),hiB:st[1].slice(16,32),hiC:st[1].slice(32,48),hiD:st[1].slice(48,64)}}(n);for(st=0;st<_;st++){var Tt=Q[st],gt=Tt.dim0.crossfilterDimensionIndex,Mt=Tt.dim1.crossfilterDimensionIndex,Nt=Tt.canvasX,Gt=Tt.canvasY,Pt=Nt+Tt.panelSizeX,Vt=Tt.plotGlPixelRatio;if(Y||!at[gt]||at[gt][0]!==Nt||at[gt][1]!==Pt){at[gt]=[Nt,Pt];var re=E(z,dt,xt,st,gt,Mt,Nt,Gt,Tt.panelSizeX,Tt.panelSizeY,Tt.dim0.crossfilterDimensionIndex,n?0:C?2:1,Et,Vt);k.clearOnly=nt,f(p,lt,k,Y?z.lines.blockLineCount:U,U,re)}}},readPixel:function H(Q,Y){return p.read({x:Q,y:Y,width:1,height:1,data:e}),e},readPixels:function Z(Q,Y,nt,_){var st=new Uint8Array(4*nt*_);return p.read({x:Q,y:Y,width:nt,height:_,data:st}),st},destroy:function it(){for(var Q in S.style["pointer-events"]="none",et.destroy(),J&&J.destroy(),G)G[Q].destroy()},update:K}}},26284:function(tt){"use strict";tt.exports=function(W,t,A,y){var i,P;for(y||(y=1/0),i=0;i<t.length;i++)(P=t[i]).visible&&(y=Math.min(y,P[A].length));for(y===1/0&&(y=0),W._length=y,i=0;i<t.length;i++)(P=t[i]).visible&&(P._length=y);return y}},36336:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=y.isArrayOrTypedArray,P=y.numberFormat,L=t(96824),l=t(54460),m=y.strRotate,r=y.strTranslate,e=t(72736),s=t(43616),a=t(8932),h=t(71688),f=h.keyFun,u=h.repeat,g=h.unwrap,c=t(95724),w=t(30140),d=t(71864),o=t(51352);function v(et,at,lt){return y.aggNums(et,null,at,lt)}function M(et,at){return E(v(Math.min,et,at),v(Math.max,et,at))}function b(et){var at=et.range;return at?E(at[0],at[1]):M(et.values,et._length)}function E(et,at){return(isNaN(et)||!isFinite(et))&&(et=0),(isNaN(at)||!isFinite(at))&&(at=0),et===at&&(0===et?(et-=1,at+=1):(et*=.9,at*=1.1)),[et,at]}function S(et,at,lt,K,j){var rt=b(lt);return K?A.scale.ordinal().domain(K.map(function x(et,at){return at?function(lt,K){var j=at[K];return null==j?et(lt):j}:et}(P(lt.tickformat),j))).range(K.map(function(H){return et-at+(H-rt[0])/(rt[1]-rt[0])*(2*at-et)})):A.scale.linear().domain(rt).range([et-at,at])}function C(et){if(et.tickvals){var at=b(et);return A.scale.ordinal().domain(et.tickvals).range(et.tickvals.map(function(lt){return(lt-at[0])/(at[1]-at[0])}))}}function p(et){var at=et.map(function(rt){return rt[0]}),lt=et.map(function(rt){var H=L(rt[1]);return A.rgb("rgb("+H[0]+","+H[1]+","+H[2]+")")}),j="rgb".split("").map(function(rt){return A.scale.linear().clamp(!0).domain(at).range(lt.map(function(rt){return function(H){return H[rt]}}(rt)))});return function(rt){return j.map(function(H){return H(rt)})}}function F(et){return et.dimensions.some(function(at){return at.brush.filterSpecified})}function D(et,at,lt){var K=g(at),j=K.trace,rt=c.convertTypedArray(K.lineColor),H=j.line,Z={color:L(j.unselected.line.color),opacity:j.unselected.line.opacity},it=a.extractOpts(H),Q=it.reversescale?a.flipScale(K.cscale):K.cscale,Y=j.domain,nt=j.dimensions,_=et.width,st=j.labelangle,dt=j.labelside,xt=j.labelfont,yt=j.tickfont,St=j.rangefont,Et=y.extendDeepNoArrays({},H,{color:rt.map(A.scale.linear().domain(b({values:rt,range:[it.min,it.max],_length:j._length}))),blockLineCount:w.blockLineCount,canvasOverdrag:w.overdrag*w.canvasPixelRatio}),Tt=Math.floor(_*(Y.x[1]-Y.x[0])),gt=Math.floor(et.height*(Y.y[1]-Y.y[0])),Mt=et.margin||{l:80,r:80,t:100,b:80},Nt=Tt,Gt=gt;return{key:lt,colCount:nt.filter(c.isVisible).length,dimensions:nt,tickDistance:w.tickDistance,unitToColor:p(Q),lines:Et,deselectedLines:Z,labelAngle:st,labelSide:dt,labelFont:xt,tickFont:yt,rangeFont:St,layoutWidth:_,layoutHeight:et.height,domain:Y,translateX:Y.x[0]*_,translateY:et.height-Y.y[1]*et.height,pad:Mt,canvasWidth:Nt*w.canvasPixelRatio+2*Et.canvasOverdrag,canvasHeight:Gt*w.canvasPixelRatio,width:Nt,height:Gt,canvasPixelRatio:w.canvasPixelRatio}}function N(et,at,lt){var K=lt.width,j=lt.height,rt=lt.dimensions,H=lt.canvasPixelRatio,Z=function(_){return K*_/Math.max(1,lt.colCount-1)},it=w.verticalPadding/j,Q=function T(et,at){return A.scale.linear().range([at,et-at])}(j,w.verticalPadding),Y={key:lt.key,xScale:Z,model:lt,inBrushDrag:!1},nt={};return Y.dimensions=rt.filter(c.isVisible).map(function(_,st){var dt=function n(et,at){return A.scale.linear().domain(b(et)).range([at,1-at])}(_,it),xt=nt[_.label];nt[_.label]=(xt||0)+1;var yt=_.label+(xt?"__"+xt:""),St=_.constraintrange,Et=St&&St.length;Et&&!i(St[0])&&(St=[St]);var Tt=Et?St.map(function(Rt){return Rt.map(dt)}):[[-1/0,1/0]],Mt=_.values;Mt.length>_._length&&(Mt=Mt.slice(0,_._length));var Gt,Nt=_.tickvals;function Pt(Rt,$t){return{val:Rt,text:Gt[$t]}}function Vt(Rt,$t){return Rt.val-$t.val}if(i(Nt)&&Nt.length){y.isTypedArray(Nt)&&(Nt=Array.from(Nt)),i(Gt=_.ticktext)&&Gt.length?Gt.length>Nt.length?Gt=Gt.slice(0,Nt.length):Nt.length>Gt.length&&(Nt=Nt.slice(0,Gt.length)):Gt=Nt.map(P(_.tickformat));for(var re=1;re<Nt.length;re++)if(Nt[re]<Nt[re-1]){for(var le=Nt.map(Pt).sort(Vt),It=0;It<Nt.length;It++)Nt[It]=le[It].val,Gt[It]=le[It].text;break}}else Nt=void 0;return Mt=c.convertTypedArray(Mt),{key:yt,label:_.label,tickFormat:_.tickformat,tickvals:Nt,ticktext:Gt,ordinal:c.isOrdinal(_),multiselect:_.multiselect,xIndex:st,crossfilterDimensionIndex:st,visibleIndex:_._index,height:j,values:Mt,paddedUnitValues:Mt.map(dt),unitTickvals:Nt&&Nt.map(dt),xScale:Z,x:Z(st),canvasX:Z(st)*H,unitToPaddedPx:Q,domainScale:S(j,w.verticalPadding,_,Nt,Gt),ordinalScale:C(_),parent:Y,model:lt,brush:d.makeBrush(et,Et,Tt,function(){et.linePickActive(!1)},function(){var Rt=Y;Rt.focusLayer&&Rt.focusLayer.render(Rt.panels,!0);var $t=F(Rt);!et.contextShown()&&$t?(Rt.contextLayer&&Rt.contextLayer.render(Rt.panels,!0),et.contextShown(!0)):et.contextShown()&&!$t&&(Rt.contextLayer&&Rt.contextLayer.render(Rt.panels,!0,!0),et.contextShown(!1))},function(Rt){if(Y.focusLayer.render(Y.panels,!0),Y.pickLayer&&Y.pickLayer.render(Y.panels,!0),et.linePickActive(!0),at&&at.filterChanged){var $t=dt.invert,oe=Rt.map(function(se){return se.map($t).sort(y.sorterAsc)}).sort(function(se,ve){return se[0]-ve[0]});at.filterChanged(Y.key,_._index,oe)}})}}),Y}function k(et){et.classed(w.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function B(et,at){var K=et*Math.PI/180;return{dir:"top"===at?1:-1,dx:Math.sin(K),dy:Math.cos(K),degrees:et}}function O(et,at,lt){for(var K=at.panels||(at.panels=[]),j=et.data(),rt=0;rt<j.length-1;rt++){var H=K[rt]||(K[rt]={}),Z=j[rt],it=j[rt+1];H.dim0=Z,H.dim1=it,H.canvasX=Z.canvasX,H.panelSizeX=it.canvasX-Z.canvasX,H.panelSizeY=at.model.canvasHeight,H.y=0,H.canvasY=0,H.plotGlPixelRatio=lt}}function G(et,at){return l.tickText(et._ax,at,!1).text}function J(et,at){if(et.ordinal)return"";var lt=et.domainScale.domain();return G(et.model.dimensions[et.visibleIndex],lt[at?lt.length-1:0])}tt.exports=function(at,lt,K,j){var rt=at._context.staticPlot,H=at._fullLayout,Z=H._toppaper,it=H._glcontainer,Q=at._context.plotGlPixelRatio,Y=at._fullLayout.paper_bgcolor;!function U(et){for(var at=0;at<et.length;at++)for(var lt=0;lt<et[at].length;lt++)for(var K=et[at][lt].trace,j=K.dimensions,rt=0;rt<j.length;rt++){var H=j[rt].values,Z=j[rt]._ax;Z&&(Z.range=Z.range?E(Z.range[0],Z.range[1]):M(H,K._length),Z.dtick||(Z.dtick=.01*(Math.abs(Z.range[1]-Z.range[0])||1)),Z.tickformat=j[rt].tickformat,l.calcTicks(Z),Z.cleanRange())}}(lt);var nt=function z(){var et=!0,at=!1;return{linePickActive:function(lt){return arguments.length?et=!!lt:et},contextShown:function(lt){return arguments.length?at=!!lt:at}}}(),_=lt.filter(function(It){return g(It).trace.visible}).map(D.bind(0,K)).map(N.bind(0,nt,j));it.each(function(It,Rt){return y.extendFlat(It,_[Rt])});var st=it.selectAll(".gl-canvas").each(function(It){It.viewModel=_[0],It.viewModel.plotGlPixelRatio=Q,It.viewModel.paperColor=Y,It.model=It.viewModel?It.viewModel.model:null}),dt=null;st.filter(function(It){return It.pick}).style("pointer-events",rt?"none":"auto").on("mousemove",function(It){if(nt.linePickActive()&&It.lineLayer&&j&&j.hover){var Rt=A.event,$t=this.width,oe=this.height,se=A.mouse(this),ve=se[0],de=se[1];if(ve<0||de<0||ve>=$t||de>=oe)return;var jt=It.lineLayer.readPixel(ve,oe-1-de),Ct=0!==jt[3],Wt=Ct?jt[2]+256*(jt[1]+256*jt[0]):null,Xt={x:ve,y:de,clientX:Rt.clientX,clientY:Rt.clientY,dataIndex:It.model.key,curveNumber:Wt};Wt!==dt&&(Ct?j.hover(Xt):j.unhover&&j.unhover(Xt),dt=Wt)}}),st.style("opacity",function(It){return It.pick?0:1}),Z.style("background","rgba(255, 255, 255, 0)");var yt=Z.selectAll("."+w.cn.parcoords).data(_,f);yt.exit().remove(),yt.enter().append("g").classed(w.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),yt.attr("transform",function(It){return r(It.model.translateX,It.model.translateY)});var St=yt.selectAll("."+w.cn.parcoordsControlView).data(u,f);St.enter().append("g").classed(w.cn.parcoordsControlView,!0),St.attr("transform",function(It){return r(It.model.pad.l,It.model.pad.t)});var Et=St.selectAll("."+w.cn.yAxis).data(function(It){return It.dimensions},f);Et.enter().append("g").classed(w.cn.yAxis,!0),St.each(function(It){O(Et,It,Q)}),st.each(function(It){It.viewModel&&(!It.lineLayer||j?It.lineLayer=o(this,It):It.lineLayer.update(It),(It.key||0===It.key)&&(It.viewModel[It.key]=It.lineLayer),It.lineLayer.render(It.viewModel.panels,!It.context||j))}),Et.attr("transform",function(It){return r(It.xScale(It.xIndex),0)}),Et.call(A.behavior.drag().origin(function(It){return It}).on("drag",function(It){var Rt=It.parent;nt.linePickActive(!1),It.x=Math.max(-w.overdrag,Math.min(It.model.width+w.overdrag,A.event.x)),It.canvasX=It.x*It.model.canvasPixelRatio,Et.sort(function($t,oe){return $t.x-oe.x}).each(function($t,oe){$t.xIndex=oe,$t.x=It===$t?$t.x:$t.xScale($t.xIndex),$t.canvasX=$t.x*$t.model.canvasPixelRatio}),O(Et,Rt,Q),Et.filter(function($t){return 0!==Math.abs(It.xIndex-$t.xIndex)}).attr("transform",function($t){return r($t.xScale($t.xIndex),0)}),A.select(this).attr("transform",r(It.x,0)),Et.each(function($t,oe,se){se===It.parent.key&&(Rt.dimensions[oe]=$t)}),Rt.contextLayer&&Rt.contextLayer.render(Rt.panels,!1,!F(Rt)),Rt.focusLayer.render&&Rt.focusLayer.render(Rt.panels)}).on("dragend",function(It){var Rt=It.parent;It.x=It.xScale(It.xIndex),It.canvasX=It.x*It.model.canvasPixelRatio,O(Et,Rt,Q),A.select(this).attr("transform",function($t){return r($t.x,0)}),Rt.contextLayer&&Rt.contextLayer.render(Rt.panels,!1,!F(Rt)),Rt.focusLayer&&Rt.focusLayer.render(Rt.panels),Rt.pickLayer&&Rt.pickLayer.render(Rt.panels,!0),nt.linePickActive(!0),j&&j.axesMoved&&j.axesMoved(Rt.key,Rt.dimensions.map(function($t){return $t.crossfilterDimensionIndex}))})),Et.exit().remove();var Tt=Et.selectAll("."+w.cn.axisOverlays).data(u,f);Tt.enter().append("g").classed(w.cn.axisOverlays,!0),Tt.selectAll("."+w.cn.axis).remove();var gt=Tt.selectAll("."+w.cn.axis).data(u,f);gt.enter().append("g").classed(w.cn.axis,!0),gt.each(function(It){var Rt=It.model.height/It.model.tickDistance,$t=It.domainScale,oe=$t.domain();A.select(this).call(A.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Rt,It.tickFormat).tickValues(It.ordinal?oe:null).tickFormat(function(se){return c.isOrdinal(It)?se:G(It.model.dimensions[It.visibleIndex],se)}).scale($t)),s.font(gt.selectAll("text"),It.model.tickFont)}),gt.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),gt.selectAll("text").style("text-shadow",e.makeTextShadow(Y)).style("cursor","default");var Mt=Tt.selectAll("."+w.cn.axisHeading).data(u,f);Mt.enter().append("g").classed(w.cn.axisHeading,!0);var Nt=Mt.selectAll("."+w.cn.axisTitle).data(u,f);Nt.enter().append("text").classed(w.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",rt?"none":"auto"),Nt.text(function(It){return It.label}).each(function(It){var Rt=A.select(this);s.font(Rt,It.model.labelFont),e.convertToTspans(Rt,at)}).attr("transform",function(It){var Rt=B(It.model.labelAngle,It.model.labelSide),$t=w.axisTitleOffset;return(Rt.dir>0?"":r(0,2*$t+It.model.height))+m(Rt.degrees)+r(-$t*Rt.dx,-$t*Rt.dy)}).attr("text-anchor",function(It){var Rt=B(It.model.labelAngle,It.model.labelSide);return 2*Math.abs(Rt.dx)>Math.abs(Rt.dy)?Rt.dir*Rt.dx<0?"start":"end":"middle"});var Gt=Tt.selectAll("."+w.cn.axisExtent).data(u,f);Gt.enter().append("g").classed(w.cn.axisExtent,!0);var Pt=Gt.selectAll("."+w.cn.axisExtentTop).data(u,f);Pt.enter().append("g").classed(w.cn.axisExtentTop,!0),Pt.attr("transform",r(0,-w.axisExtentOffset));var Vt=Pt.selectAll("."+w.cn.axisExtentTopText).data(u,f);Vt.enter().append("text").classed(w.cn.axisExtentTopText,!0).call(k),Vt.text(function(It){return J(It,!0)}).each(function(It){s.font(A.select(this),It.model.rangeFont)});var re=Gt.selectAll("."+w.cn.axisExtentBottom).data(u,f);re.enter().append("g").classed(w.cn.axisExtentBottom,!0),re.attr("transform",function(It){return r(0,It.model.height+w.axisExtentOffset)});var le=re.selectAll("."+w.cn.axisExtentBottomText).data(u,f);le.enter().append("text").classed(w.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(k),le.text(function(It){return J(It,!1)}).each(function(It){s.font(A.select(this),It.model.rangeFont)}),d.ensureAxisBrush(Tt,Y,at)}},24196:function(tt,W,t){"use strict";var A=t(36336),y=t(5048),i=t(95724).isVisible,P={};function L(r,e,s){var a=e.indexOf(s),h=r.indexOf(a);return-1===h&&(h+=e.length),h}(tt.exports=function(e,s){var a=e._fullLayout;if(y(e,[],P)){var f={},u={},g={},c={},w=a._size;s.forEach(function(b,E){var x=b[0].trace;g[E]=x.index;var S=c[E]=x._fullInput.index;f[E]=e.data[S].dimensions,u[E]=e.data[S].dimensions.slice()});A(e,s,{width:w.w,height:w.h,margin:{t:w.t,r:w.r,b:w.b,l:w.l}},{filterChanged:function(b,E,x){var S=u[b][E],T=x.map(function(N){return N.slice()}),n="dimensions["+E+"].constraintrange",C=a._tracePreGUI[e._fullData[g[b]]._fullInput.uid];void 0===C[n]&&(C[n]=S.constraintrange||null);var F=e._fullData[g[b]].dimensions[E];T.length?(1===T.length&&(T=T[0]),S.constraintrange=T,F.constraintrange=T.slice(),T=[T]):(delete S.constraintrange,delete F.constraintrange,T=null);var D={};D[n]=T,e.emit("plotly_restyle",[D,[c[b]]])},hover:function(b){e.emit("plotly_hover",b)},unhover:function(b){e.emit("plotly_unhover",b)},axesMoved:function(b,E){var x=function l(r,e){return function(a,h){return L(r,e,a)-L(r,e,h)}}(E,u[b].filter(i));f[b].sort(x),u[b].filter(function(S){return!i(S)}).sort(function(S){return u[b].indexOf(S)}).forEach(function(S){f[b].splice(f[b].indexOf(S),1),f[b].splice(u[b].indexOf(S),0,S)}),e.emit("plotly_restyle",[{dimensions:[f[b]]},[c[b]]])}})}}).reglPrecompiled=P},74996:function(tt,W,t){"use strict";var A=t(45464),y=t(86968).u,i=t(25376),P=t(22548),L=t(21776).Ks,l=t(21776).Gw,m=t(92880).extendFlat,r=t(98192).c,e=i({editType:"plot",arrayOk:!0,colorEditType:"plot"});tt.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:P.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:m({},A.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","percent","text"]}),texttemplate:l({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:m({},e,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:m({},e,{}),outsidetextfont:m({},e,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:m({},e,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:y({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:m({},e,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(tt,W,t){"use strict";var A=t(7316);W.name="pie",W.plot=function(y,i,P,L){A.plotBasePlot(W.name,y,i,P,L)},W.clean=function(y,i,P,L){A.cleanBasePlot(W.name,y,i,P,L)}},45768:function(tt,W,t){"use strict";var A=t(38248),y=t(49760),i=t(76308),P={};function l(e){return function(a,h){return!(!a||(a=y(a),!a.isValid()))&&(a=i.addOpacity(a,a.getAlpha()),e[h]||(e[h]=a),a)}}function r(e,s){var a,h=JSON.stringify(e),f=s[h];if(!f){for(f=e.slice(),a=0;a<e.length;a++)f.push(y(e[a]).lighten(20).toHexString());for(a=0;a<e.length;a++)f.push(y(e[a]).darken(20).toHexString());s[h]=f}return f}tt.exports={calc:function L(e,s){var o,v,a=[],h=e._fullLayout,f=h.hiddenlabels||[],u=s.labels,g=s.marker.colors||[],c=s.values,w=s._length,d=s._hasValues&&w;if(s.dlabel)for(u=new Array(w),o=0;o<w;o++)u[o]=String(s.label0+o*s.dlabel);var M={},b=l(h["_"+s.type+"colormap"]),E=0,x=!1;for(o=0;o<w;o++){var S,T,n;if(d){if(!A(S=c[o]))continue;S=+S}else S=1;(void 0===(T=u[o])||""===T)&&(T=o);var C=M[T=String(T)];void 0===C?(M[T]=a.length,(n=-1!==f.indexOf(T))||(E+=S),a.push({v:S,label:T,color:b(g[o],T),i:o,pts:[o],hidden:n})):(x=!0,(v=a[C]).v+=S,v.pts.push(o),v.hidden||(E+=S),!1===v.color&&g[o]&&(v.color=b(g[o],T)))}return a=a.filter(function(F){return F.v>=0}),("funnelarea"===s.type?x:s.sort)&&a.sort(function(F,D){return D.v-F.v}),a[0]&&(a[0].vTotal=E),a},crossTraceCalc:function m(e,s){var a=(s||{}).type;a||(a="pie");var h=e._fullLayout,f=e.calcdata,u=h[a+"colorway"],g=h["_"+a+"colormap"];h["extend"+a+"colors"]&&(u=r(u,P));for(var c=0,w=0;w<f.length;w++){var d=f[w];if(d[0].trace.type===a)for(var v=0;v<d.length;v++){var M=d[v];!1===M.color&&(g[M.label]?M.color=g[M.label]:(g[M.label]=M.color=u[c%u.length],c++))}}},makePullColorFn:l,generateExtendedColors:r}},74174:function(tt,W,t){"use strict";var A=t(38248),y=t(3400),i=t(74996),P=t(86968).Q,L=t(31508).handleText,l=t(3400).coercePattern;function m(s,a){var h=y.isArrayOrTypedArray(s),f=y.isArrayOrTypedArray(a),u=Math.min(h?s.length:1/0,f?a.length:1/0);if(isFinite(u)||(u=0),u&&f){for(var g,c=0;c<u;c++){var w=a[c];if(A(w)&&w>0){g=!0;break}}g||(u=0)}return{hasLabels:h,hasValues:f,len:u}}function r(s,a,h,f,u){f("marker.line.width")&&f("marker.line.color",u?void 0:h.paper_bgcolor);var c=f("marker.colors");l(f,"marker.pattern",c),s.marker&&!a.marker.pattern.fgcolor&&(a.marker.pattern.fgcolor=s.marker.colors),a.marker.pattern.bgcolor||(a.marker.pattern.bgcolor=h.paper_bgcolor)}tt.exports={handleLabelsAndValues:m,handleMarkerDefaults:r,supplyDefaults:function e(s,a,h,f){function u(C,p){return y.coerce(s,a,i,C,p)}var w=m(u("labels"),u("values")),d=w.len;if(a._hasLabels=w.hasLabels,a._hasValues=w.hasValues,!a._hasLabels&&a._hasValues&&(u("label0"),u("dlabel")),d){a._length=d,r(s,a,f,u,!0),u("scalegroup");var M,o=u("text"),v=u("texttemplate");if(v||(M=u("textinfo",y.isArrayOrTypedArray(o)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),v||M&&"none"!==M){var b=u("textposition");L(s,a,f,u,b,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(b)||"auto"===b||"outside"===b)&&u("automargin"),("inside"===b||"auto"===b||Array.isArray(b))&&u("insidetextorientation")}P(a,f,u);var S=u("hole");if(u("title.text")){var n=u("title.position",S?"middle center":"top center");!S&&"middle center"===n&&(a.title.position="top center"),y.coerceFont(u,"title.font",f.font)}u("sort"),u("direction"),u("rotation"),u("pull")}else a.visible=!1}}},53644:function(tt,W,t){"use strict";var A=t(10624).appendArrayMultiPointValues;tt.exports=function(i,P){var L={curveNumber:P.index,pointNumbers:i.pts,data:P._input,fullData:P,label:i.label,color:i.color,value:i.v,percent:i.percent,text:i.text,bbox:i.bbox,v:i.v};return 1===i.pts.length&&(L.pointNumber=L.i=i.pts[0]),A(L,P,i.pts),"funnelarea"===P.type&&(delete L.v,delete L.i),L}},21552:function(tt,W,t){"use strict";var A=t(43616),y=t(76308);tt.exports=function(P,L,l,m){var r=l.marker.pattern;r&&r.shape?A.pointStyle(P,l,m,L):y.fill(P,L.color)}},69656:function(tt,W,t){"use strict";var A=t(3400);function y(i){return-1!==i.indexOf("e")?i.replace(/[.]?0+e/,"e"):-1!==i.indexOf(".")?i.replace(/[.]?0+$/,""):i}W.formatPiePercent=function(P,L){var l=y((100*P).toPrecision(3));return A.numSeparate(l,L)+"%"},W.formatPieValue=function(P,L){var l=y(P.toPrecision(10));return A.numSeparate(l,L)},W.getFirstFilled=function(P,L){if(A.isArrayOrTypedArray(P))for(var l=0;l<L.length;l++){var m=P[L[l]];if(m||0===m||""===m)return m}},W.castOption=function(P,L){return A.isArrayOrTypedArray(P)?W.getFirstFilled(P,L):P||void 0},W.getRotationAngle=function(i){return("auto"===i?0:i)*Math.PI/180}},75792:function(tt,W,t){"use strict";tt.exports={attributes:t(74996),supplyDefaults:t(74174).supplyDefaults,supplyLayoutDefaults:t(90248),layoutAttributes:t(85204),calc:t(45768).calc,crossTraceCalc:t(45768).crossTraceCalc,plot:t(37820).plot,style:t(22152),styleOne:t(10528),moduleType:"trace",name:"pie",basePlotModule:t(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(tt){"use strict";tt.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(tt,W,t){"use strict";var A=t(3400),y=t(85204);tt.exports=function(P,L){function l(m,r){return A.coerce(P,L,y,m,r)}l("hiddenlabels"),l("piecolorway",L.colorway),l("extendpiecolors")}},37820:function(tt,W,t){"use strict";var A=t(33428),y=t(7316),i=t(93024),P=t(76308),L=t(43616),l=t(3400),m=l.strScale,r=l.strTranslate,e=t(72736),s=t(82744),a=s.recordMinTextSize,h=s.clearMinTextSize,f=t(78048).TEXTPAD,u=t(69656),g=t(53644),c=t(3400).isValidTextValue;function o(j,rt,H){var Z=H[0],it=Z.cx,Q=Z.cy,Y=Z.trace,nt="funnelarea"===Y.type;"_hasHoverLabel"in Y||(Y._hasHoverLabel=!1),"_hasHoverEvent"in Y||(Y._hasHoverEvent=!1),j.on("mouseover",function(_){var st=rt._fullLayout,dt=rt._fullData[Y.index];if(!rt._dragging&&!1!==st.hovermode){var xt=dt.hoverinfo;if(Array.isArray(xt)&&(xt=i.castHoverinfo({hoverinfo:[u.castOption(xt,_.pts)],_module:Y._module},st,0)),"all"===xt&&(xt="label+text+value+percent+name"),dt.hovertemplate||"none"!==xt&&"skip"!==xt&&xt){var yt=_.rInscribed||0,St=it+_.pxmid[0]*(1-yt),Et=Q+_.pxmid[1]*(1-yt),Tt=st.separators,gt=[];if(xt&&-1!==xt.indexOf("label")&&gt.push(_.label),_.text=u.castOption(dt.hovertext||dt.text,_.pts),xt&&-1!==xt.indexOf("text")){var Mt=_.text;l.isValidTextValue(Mt)&&gt.push(Mt)}_.value=_.v,_.valueLabel=u.formatPieValue(_.v,Tt),xt&&-1!==xt.indexOf("value")&&gt.push(_.valueLabel),_.percent=_.v/Z.vTotal,_.percentLabel=u.formatPiePercent(_.percent,Tt),xt&&-1!==xt.indexOf("percent")&&gt.push(_.percentLabel);var Nt=dt.hoverlabel,Gt=Nt.font,Pt=[];i.loneHover({trace:Y,x0:St-yt*Z.r,x1:St+yt*Z.r,y:Et,_x0:nt?it+_.TL[0]:St-yt*Z.r,_x1:nt?it+_.TR[0]:St+yt*Z.r,_y0:nt?Q+_.TL[1]:Et-yt*Z.r,_y1:nt?Q+_.BL[1]:Et+yt*Z.r,text:gt.join("<br>"),name:dt.hovertemplate||-1!==xt.indexOf("name")?dt.name:void 0,idealAlign:_.pxmid[0]<0?"left":"right",color:u.castOption(Nt.bgcolor,_.pts)||_.color,borderColor:u.castOption(Nt.bordercolor,_.pts),fontFamily:u.castOption(Gt.family,_.pts),fontSize:u.castOption(Gt.size,_.pts),fontColor:u.castOption(Gt.color,_.pts),nameLength:u.castOption(Nt.namelength,_.pts),textAlign:u.castOption(Nt.align,_.pts),hovertemplate:u.castOption(dt.hovertemplate,_.pts),hovertemplateLabels:_,eventData:[g(_,dt)]},{container:st._hoverlayer.node(),outerContainer:st._paper.node(),gd:rt,inOut_bbox:Pt}),_.bbox=Pt[0],Y._hasHoverLabel=!0}Y._hasHoverEvent=!0,rt.emit("plotly_hover",{points:[g(_,dt)],event:A.event})}}),j.on("mouseout",function(_){var st=rt._fullLayout,dt=rt._fullData[Y.index],xt=A.select(this).datum();Y._hasHoverEvent&&(_.originalEvent=A.event,rt.emit("plotly_unhover",{points:[g(xt,dt)],event:A.event}),Y._hasHoverEvent=!1),Y._hasHoverLabel&&(i.loneUnhover(st._hoverlayer.node()),Y._hasHoverLabel=!1)}),j.on("click",function(_){rt._dragging||!1===rt._fullLayout.hovermode||(rt._hoverdata=[g(_,rt._fullData[Y.index])],i.click(rt,A.event))})}function M(j,rt,H){var Z=u.castOption(j.insidetextfont.color,rt.pts);!Z&&j._input.textfont&&(Z=u.castOption(j._input.textfont.color,rt.pts));var it=u.castOption(j.insidetextfont.family,rt.pts)||u.castOption(j.textfont.family,rt.pts)||H.family,Q=u.castOption(j.insidetextfont.size,rt.pts)||u.castOption(j.textfont.size,rt.pts)||H.size;return{color:Z||P.contrast(rt.color),family:it,size:Q}}function b(j,rt){for(var H,Z,it=0;it<j.length;it++)if((Z=(H=j[it][0]).trace).title.text){var Q=Z.title.text;Z._meta&&(Q=l.templateString(Q,Z._meta));var Y=L.tester.append("text").attr("data-notex",1).text(Q).call(L.font,Z.title.font).call(e.convertToTspans,rt),nt=L.bBox(Y.node(),!0);H.titleBox={width:nt.width,height:nt.height},Y.remove()}}function E(j,rt,H){var Z=H.r||rt.rpx1,it=rt.rInscribed;if(rt.startangle===rt.stopangle)return{rCenter:1-it,scale:0,rotate:0,textPosAngle:0};var gt,Y=rt.ring,nt=1===Y&&Math.abs(rt.startangle-rt.stopangle)===2*Math.PI,_=rt.halfangle,st=rt.midangle,dt=H.trace.insidetextorientation,xt="horizontal"===dt,yt="tangential"===dt,St="radial"===dt,Et="auto"===dt,Tt=[];if(!Et){var Nt,Mt=function(It,Rt){if(function x(j,rt){var H=j.startangle,Z=j.stopangle;return H>rt&&rt>Z||H<rt&&rt<Z}(rt,It)){var $t=Math.abs(It-rt.startangle),oe=Math.abs(It-rt.stopangle),se=$t<oe?$t:oe;(gt="tan"===Rt?T(j,Z,Y,se,0):S(j,Z,Y,se,Math.PI/2)).textPosAngle=It,Tt.push(gt)}};if(xt||yt){for(Nt=4;Nt>=-4;Nt-=2)Mt(Math.PI*Nt,"tan");for(Nt=4;Nt>=-4;Nt-=2)Mt(Math.PI*(Nt+1),"tan")}if(xt||St){for(Nt=4;Nt>=-4;Nt-=2)Mt(Math.PI*(Nt+1.5),"rad");for(Nt=4;Nt>=-4;Nt-=2)Mt(Math.PI*(Nt+.5),"rad")}}if(nt||Et||xt){var Gt=Math.sqrt(j.width*j.width+j.height*j.height);if((gt={scale:it*Z*2/Gt,rCenter:1-it,rotate:0}).textPosAngle=(rt.startangle+rt.stopangle)/2,gt.scale>=1)return gt;Tt.push(gt)}(Et||St)&&((gt=S(j,Z,Y,_,st)).textPosAngle=(rt.startangle+rt.stopangle)/2,Tt.push(gt)),(Et||yt)&&((gt=T(j,Z,Y,_,st)).textPosAngle=(rt.startangle+rt.stopangle)/2,Tt.push(gt));for(var Pt=0,Vt=0,re=0;re<Tt.length;re++){var le=Tt[re].scale;if(Vt<le&&(Vt=le,Pt=re),!Et&&Vt>=1)break}return Tt[Pt]}function S(j,rt,H,Z,it){rt=Math.max(0,rt-2*f);var Q=j.width/j.height,Y=p(Q,Z,rt,H);return{scale:2*Y/j.height,rCenter:n(Q,Y/rt),rotate:C(it)}}function T(j,rt,H,Z,it){rt=Math.max(0,rt-2*f);var Q=j.height/j.width,Y=p(Q,Z,rt,H);return{scale:2*Y/j.width,rCenter:n(Q,Y/rt),rotate:C(it+Math.PI/2)}}function n(j,rt){return Math.cos(rt)-j*rt}function C(j){return(180/Math.PI*j+720)%180-90}function p(j,rt,H,Z){var it=j+1/(2*Math.tan(rt));return H*Math.min(1/(Math.sqrt(it*it+.5)+it),Z/(Math.sqrt(j*j+Z/2)+j))}function F(j,rt){return j.v!==rt.vTotal||rt.trace.hole?Math.min(1/(1+1/Math.sin(j.halfangle)),j.ring/2):1}function D(j,rt){var H=rt.pxmid[0],Z=rt.pxmid[1],it=j.width/2,Q=j.height/2;return H<0&&(it*=-1),Z<0&&(Q*=-1),{scale:1,rCenter:1,rotate:0,x:it+Math.abs(Q)*(it>0?1:-1)/2,y:Q/(1+H*H/(Z*Z)),outside:!0}}function k(j,rt){var it,H,Z,Q=j.trace,Y={x:j.cx,y:j.cy},nt={tx:0,ty:0};nt.ty+=Q.title.font.size,it=O(Q),-1!==Q.title.position.indexOf("top")?(Y.y-=(1+it)*j.r,nt.ty-=j.titleBox.height):-1!==Q.title.position.indexOf("bottom")&&(Y.y+=(1+it)*j.r);var _=function z(j,rt){return j/(void 0===rt?1:rt)}(j.r,j.trace.aspectratio),st=rt.w*(Q.domain.x[1]-Q.domain.x[0])/2;return-1!==Q.title.position.indexOf("left")?(st+=_,Y.x-=(1+it)*_,nt.tx+=j.titleBox.width/2):-1!==Q.title.position.indexOf("center")?st*=2:-1!==Q.title.position.indexOf("right")&&(st+=_,Y.x+=(1+it)*_,nt.tx-=j.titleBox.width/2),H=st/j.titleBox.width,Z=B(j,rt)/j.titleBox.height,{x:Y.x,y:Y.y,scale:Math.min(H,Z),tx:nt.tx,ty:nt.ty}}function B(j,rt){var H=j.trace;return Math.min(j.titleBox.height,rt.h*(H.domain.y[1]-H.domain.y[0])/2)}function O(j){var H,rt=j.pull;if(!rt)return 0;if(l.isArrayOrTypedArray(rt))for(rt=0,H=0;H<j.pull.length;H++)j.pull[H]>rt&&(rt=j.pull[H]);return rt}function G(j,rt){for(var H=[],Z=0;Z<j.length;Z++){var it=j[Z][0],Q=it.trace,Y=Q.domain,nt=rt.w*(Y.x[1]-Y.x[0]),_=rt.h*(Y.y[1]-Y.y[0]);Q.title.text&&"middle center"!==Q.title.position&&(_-=B(it,rt));var dt=_/2;"funnelarea"===Q.type&&!Q.scalegroup&&(dt/=Q.aspectratio),it.r=Math.min(nt/2,dt)/(1+O(Q)),it.cx=rt.l+rt.w*(Q.domain.x[1]+Q.domain.x[0])/2,it.cy=rt.t+rt.h*(1-Q.domain.y[0])-_/2,Q.title.text&&-1!==Q.title.position.indexOf("bottom")&&(it.cy-=B(it,rt)),Q.scalegroup&&-1===H.indexOf(Q.scalegroup)&&H.push(Q.scalegroup)}!function J(j,rt){for(var H,Z,it,Q=0;Q<rt.length;Q++){var Y=1/0,nt=rt[Q];for(Z=0;Z<j.length;Z++)if((it=(H=j[Z][0]).trace).scalegroup===nt){var _;if("pie"===it.type)_=H.r*H.r;else if("funnelarea"===it.type){var st,dt;it.aspectratio>1?dt=(st=H.r)/it.aspectratio:st=(dt=H.r)*it.aspectratio,_=(st*=(1+it.baseratio)/2)*dt}Y=Math.min(Y,_/H.vTotal)}for(Z=0;Z<j.length;Z++)if((it=(H=j[Z][0]).trace).scalegroup===nt){var xt=Y*H.vTotal;"funnelarea"===it.type&&(xt/=(1+it.baseratio)/2,xt/=it.aspectratio),H.r=Math.sqrt(xt)}}}(j,H)}function at(j,rt){return[j*Math.sin(rt),-j*Math.cos(rt)]}function lt(j,rt,H){var Z=j._fullLayout,it=H.trace,Q=it.texttemplate,Y=it.textinfo;if(!Q&&Y&&"none"!==Y){var Et,nt=Y.split("+"),_=function(Pt){return-1!==nt.indexOf(Pt)},st=_("label"),dt=_("text"),xt=_("value"),yt=_("percent"),St=Z.separators;if(Et=st?[rt.label]:[],dt){var Tt=u.getFirstFilled(it.text,rt.pts);c(Tt)&&Et.push(Tt)}xt&&Et.push(u.formatPieValue(rt.v,St)),yt&&Et.push(u.formatPiePercent(rt.v/H.vTotal,St)),rt.text=Et.join("<br>")}if(Q){var Mt=l.castOption(it,rt.i,"texttemplate");if(Mt){var Nt=function gt(Pt){return{label:Pt.label,value:Pt.v,valueLabel:u.formatPieValue(Pt.v,Z.separators),percent:Pt.v/H.vTotal,percentLabel:u.formatPiePercent(Pt.v/H.vTotal,Z.separators),color:Pt.color,text:Pt.text,customdata:l.castOption(it,Pt.i,"customdata")}}(rt),Gt=u.getFirstFilled(it.text,rt.pts);(c(Gt)||""===Gt)&&(Nt.text=Gt),rt.text=l.texttemplateString(Mt,Nt,j._fullLayout._d3locale,Nt,it._meta||{})}else rt.text=""}}function K(j,rt){var H=j.rotate*Math.PI/180,Z=Math.cos(H),it=Math.sin(H),Q=(rt.left+rt.right)/2,Y=(rt.top+rt.bottom)/2;j.textX=Q*Z-Y*it,j.textY=Q*it+Y*Z,j.noCenter=!0}tt.exports={plot:function w(j,rt){var H=j._context.staticPlot,Z=j._fullLayout,it=Z._size;h("pie",Z),b(rt,j),G(rt,it);var Q=l.makeTraceGroups(Z._pielayer,rt,"trace").each(function(Y){var nt=A.select(this),_=Y[0],st=_.trace;(function et(j){var _,st,dt,rt=j[0],H=rt.r,Z=rt.trace,it=u.getRotationAngle(Z.rotation),Q=2*Math.PI/rt.vTotal,Y="px0",nt="px1";if("counterclockwise"===Z.direction){for(_=0;_<j.length&&j[_].hidden;_++);if(_===j.length)return;it+=Q*j[_].v,Q*=-1,Y="px1",nt="px0"}for(dt=at(H,it),_=0;_<j.length;_++)!(st=j[_]).hidden&&(st[Y]=dt,st.startangle=it,st.pxmid=at(H,it+=Q*st.v/2),st.midangle=it,dt=at(H,it+=Q*st.v/2),st.stopangle=it,st[nt]=dt,st.largeArc=st.v>rt.vTotal/2?1:0,st.halfangle=Math.PI*Math.min(st.v/rt.vTotal,.5),st.ring=1-Z.hole,st.rInscribed=F(st,rt))})(Y),nt.attr("stroke-linejoin","round"),nt.each(function(){var dt=A.select(this).selectAll("g.slice").data(Y);dt.enter().append("g").classed("slice",!0),dt.exit().remove();var xt=[[[],[]],[[],[]]],yt=!1;dt.each(function(Pt,Vt){if(Pt.hidden)A.select(this).selectAll("path,g").remove();else{Pt.pointNumber=Pt.i,Pt.curveNumber=st.index,xt[Pt.pxmid[1]<0?0:1][Pt.pxmid[0]<0?0:1].push(Pt);var re=_.cx,le=_.cy,It=A.select(this),Rt=It.selectAll("path.surface").data([Pt]);if(Rt.enter().append("path").classed("surface",!0).style({"pointer-events":H?"none":"all"}),It.call(o,j,Y),st.pull){var $t=+u.castOption(st.pull,Pt.pts)||0;$t>0&&(re+=$t*Pt.pxmid[0],le+=$t*Pt.pxmid[1])}Pt.cxFinal=re,Pt.cyFinal=le;var se=st.hole;if(Pt.v===_.vTotal){var ve="M"+(re+Pt.px0[0])+","+(le+Pt.px0[1])+oe(Pt.px0,Pt.pxmid,!0,1)+oe(Pt.pxmid,Pt.px0,!0,1)+"Z";Rt.attr("d",se?"M"+(re+se*Pt.px0[0])+","+(le+se*Pt.px0[1])+oe(Pt.px0,Pt.pxmid,!1,se)+oe(Pt.pxmid,Pt.px0,!1,se)+"Z"+ve:ve)}else{var de=oe(Pt.px0,Pt.px1,!0,1);if(se){var jt=1-se;Rt.attr("d","M"+(re+se*Pt.px1[0])+","+(le+se*Pt.px1[1])+oe(Pt.px1,Pt.px0,!1,se)+"l"+jt*Pt.px0[0]+","+jt*Pt.px0[1]+de+"Z")}else Rt.attr("d","M"+re+","+le+"l"+Pt.px0[0]+","+Pt.px0[1]+de+"Z")}lt(j,Pt,_);var Ct=u.castOption(st.textposition,Pt.pts),Wt=It.selectAll("g.slicetext").data(Pt.text&&"none"!==Ct?[0]:[]);Wt.enter().append("g").classed("slicetext",!0),Wt.exit().remove(),Wt.each(function(){var Xt=l.ensureSingle(A.select(this),"text","",function(Dt){Dt.attr("data-notex",1)}),Ht=l.ensureUniformFontSize(j,"outside"===Ct?function v(j,rt,H){return{color:u.castOption(j.outsidetextfont.color,rt.pts)||u.castOption(j.textfont.color,rt.pts)||H.color,family:u.castOption(j.outsidetextfont.family,rt.pts)||u.castOption(j.textfont.family,rt.pts)||H.family,size:u.castOption(j.outsidetextfont.size,rt.pts)||u.castOption(j.textfont.size,rt.pts)||H.size}}(st,Pt,Z.font):M(st,Pt,Z.font));Xt.text(Pt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(L.font,Ht).call(e.convertToTspans,j);var zt,Bt=L.bBox(Xt.node());if("outside"===Ct)zt=D(Bt,Pt);else if(zt=E(Bt,Pt,_),"auto"===Ct&&zt.scale<1){var kt=l.ensureUniformFontSize(j,st.outsidetextfont);Xt.call(L.font,kt),zt=D(Bt=L.bBox(Xt.node()),Pt)}var wt=zt.textPosAngle,ft=void 0===wt?Pt.pxmid:at(_.r,wt);if(zt.targetX=re+ft[0]*zt.rCenter+(zt.x||0),zt.targetY=le+ft[1]*zt.rCenter+(zt.y||0),K(zt,Bt),zt.outside){var pt=zt.targetY;Pt.yLabelMin=pt-Bt.height/2,Pt.yLabelMid=pt,Pt.yLabelMax=pt+Bt.height/2,Pt.labelExtraX=0,Pt.labelExtraY=0,yt=!0}zt.fontSize=Ht.size,a(st.type,zt,Z),Y[Vt].transform=zt,l.setTransormAndDisplay(Xt,zt)})}function oe(Xt,Ht,Bt,zt){return"a"+zt*_.r+","+zt*_.r+" 0 "+Pt.largeArc+(Bt?" 1 ":" 0 ")+zt*(Ht[0]-Xt[0])+","+zt*(Ht[1]-Xt[1])}});var St=A.select(this).selectAll("g.titletext").data(st.title.text?[0]:[]);if(St.enter().append("g").classed("titletext",!0),St.exit().remove(),St.each(function(){var re,Pt=l.ensureSingle(A.select(this),"text","",function(le){le.attr("data-notex",1)}),Vt=st.title.text;st._meta&&(Vt=l.templateString(Vt,st._meta)),Pt.text(Vt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(L.font,st.title.font).call(e.convertToTspans,j),re="middle center"===st.title.position?function N(j){var rt=Math.sqrt(j.titleBox.width*j.titleBox.width+j.titleBox.height*j.titleBox.height);return{x:j.cx,y:j.cy,scale:j.trace.hole*j.r*2/rt,tx:0,ty:-j.titleBox.height/2+j.trace.title.font.size}}(_):k(_,it),Pt.attr("transform",r(re.x,re.y)+m(Math.min(1,re.scale))+r(re.tx,re.ty))}),yt&&function U(j,rt){var H,Z,it,Q,Y,nt,_,st,dt,xt,yt,St,Et;function Tt(Gt,Pt){return Gt.pxmid[1]-Pt.pxmid[1]}function gt(Gt,Pt){return Pt.pxmid[1]-Gt.pxmid[1]}function Mt(Gt,Pt){Pt||(Pt={});var $t,oe,se,jt,Vt=Pt.labelExtraY+(Z?Pt.yLabelMax:Pt.yLabelMin),re=Z?Gt.yLabelMin:Gt.yLabelMax,le=Z?Gt.yLabelMax:Gt.yLabelMin,It=Gt.cyFinal+Y(Gt.px0[1],Gt.px1[1]),Rt=Vt-re;if(Rt*_>0&&(Gt.labelExtraY=Rt),l.isArrayOrTypedArray(rt.pull))for(oe=0;oe<xt.length;oe++)!((se=xt[oe])===Gt||(u.castOption(rt.pull,Gt.pts)||0)>=(u.castOption(rt.pull,se.pts)||0))&&((Gt.pxmid[1]-se.pxmid[1])*_>0?(Rt=se.cyFinal+Y(se.px0[1],se.px1[1])-re-Gt.labelExtraY)*_>0&&(Gt.labelExtraY+=Rt):(le+Gt.labelExtraY-It)*_>0&&($t=3*nt*Math.abs(oe-xt.indexOf(Gt)),(jt=se.cxFinal+Q(se.px0[0],se.px1[0])+$t-(Gt.cxFinal+Gt.pxmid[0])-Gt.labelExtraX)*nt>0&&(Gt.labelExtraX+=jt)))}for(Z=0;Z<2;Z++)for(it=Z?Tt:gt,Y=Z?Math.max:Math.min,_=Z?1:-1,H=0;H<2;H++){for(Q=H?Math.max:Math.min,nt=H?1:-1,(st=j[Z][H]).sort(it),xt=(dt=j[1-Z][H]).concat(st),St=[],yt=0;yt<st.length;yt++)void 0!==st[yt].yLabelMid&&St.push(st[yt]);for(Et=!1,yt=0;Z&&yt<dt.length;yt++)if(void 0!==dt[yt].yLabelMid){Et=dt[yt];break}for(yt=0;yt<St.length;yt++){var Nt=yt&&St[yt-1];Et&&!yt&&(Nt=Et),Mt(St[yt],Nt)}}}(xt,st),function d(j,rt){j.each(function(H){var Z=A.select(this);if(H.labelExtraX||H.labelExtraY){var it=Z.select("g.slicetext text");H.transform.targetX+=H.labelExtraX,H.transform.targetY+=H.labelExtraY,l.setTransormAndDisplay(it,H.transform);var Q=H.cxFinal+H.pxmid[0],nt="M"+Q+","+(H.cyFinal+H.pxmid[1]),_=(H.yLabelMax-H.yLabelMin)*(H.pxmid[0]<0?-1:1)/4;if(H.labelExtraX){var st=H.labelExtraX*H.pxmid[1]/H.pxmid[0],dt=H.yLabelMid+H.labelExtraY-(H.cyFinal+H.pxmid[1]);Math.abs(st)>Math.abs(dt)?nt+="l"+dt*H.pxmid[0]/H.pxmid[1]+","+dt+"H"+(Q+H.labelExtraX+_):nt+="l"+H.labelExtraX+","+st+"v"+(dt-st)+"h"+_}else nt+="V"+(H.yLabelMid+H.labelExtraY)+"h"+_;l.ensureSingle(Z,"path","textline").call(P.stroke,rt.outsidetextfont.color).attr({"stroke-width":Math.min(2,rt.outsidetextfont.size/8),d:nt,fill:"none"})}else Z.select("path.textline").remove()})}(dt,st),yt&&st.automargin){var Et=L.bBox(nt.node()),Tt=st.domain,Nt=(it.w*(Tt.x[1]-Tt.x[0])*.5-_.r)/it.w,Gt=(it.h*(Tt.y[1]-Tt.y[0])*.5-_.r)/it.h;y.autoMargin(j,"pie."+st.uid+".automargin",{xl:Tt.x[0]-Nt,xr:Tt.x[1]+Nt,yb:Tt.y[0]-Gt,yt:Tt.y[1]+Gt,l:Math.max(_.cx-_.r-Et.left,0),r:Math.max(Et.right-(_.cx+_.r),0),b:Math.max(Et.bottom-(_.cy+_.r),0),t:Math.max(_.cy-_.r-Et.top,0),pad:5})}})});setTimeout(function(){Q.selectAll("tspan").each(function(){var Y=A.select(this);Y.attr("dy")&&Y.attr("dy",Y.attr("dy"))})},0)},formatSliceLabel:lt,transformInsideText:E,determineInsideTextFont:M,positionTitleOutside:k,prerenderTitles:b,layoutAreas:G,attachFxHandlers:o,computeTransform:K}},22152:function(tt,W,t){"use strict";var A=t(33428),y=t(10528),i=t(82744).resizeText;tt.exports=function(L){var l=L._fullLayout._pielayer.selectAll(".trace");i(L,l,"pie"),l.each(function(m){var e=m[0].trace,s=A.select(this);s.style({opacity:e.opacity}),s.selectAll("path.surface").each(function(a){A.select(this).call(y,a,e,L)})})}},10528:function(tt,W,t){"use strict";var A=t(76308),y=t(69656).castOption,i=t(21552);tt.exports=function(L,l,m,r){var e=m.marker.line,s=y(e.color,l.pts)||A.defaultLine,a=y(e.width,l.pts)||0;L.call(i,l,m,r).style("stroke-width",a).call(A.stroke,s)}},35484:function(tt,W,t){"use strict";var A=t(52904);tt.exports={x:A.x,y:A.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:A.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(tt,W,t){"use strict";var A=t(67792).gl_pointcloud2d,y=t(3400).isArrayOrTypedArray,i=t(43080),P=t(19280).findExtremes,L=t(44928);function l(e,s){this.scene=e,this.uid=s,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=A(e.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var m=l.prototype;m.handlePick=function(e){var s=this.idToIndex[e.pointId];return{trace:this,dataCoord:e.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*s],this.pickXYData[2*s+1]]:[this.pickXData[s],this.pickYData[s]],textLabel:y(this.textLabels)?this.textLabels[s]:this.textLabels,color:this.color,name:this.name,pointIndex:s,hoverinfo:this.hoverinfo}},m.update=function(e){this.index=e.index,this.textLabels=e.text,this.name=e.name,this.hoverinfo=e.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(e),this.color=L(e,{})},m.updateFast=function(e){var g,c,w,o,v,M,s=this.xData=this.pickXData=e.x,a=this.yData=this.pickYData=e.y,h=this.pickXYData=e.xy,u=e.indices,d=this.bounds;if(h){if(w=h,g=h.length>>>1,e.xbounds&&e.ybounds)d[0]=e.xbounds[0],d[2]=e.xbounds[1],d[1]=e.ybounds[0],d[3]=e.ybounds[1];else for(M=0;M<g;M++)v=w[2*M+1],(o=w[2*M])<d[0]&&(d[0]=o),o>d[2]&&(d[2]=o),v<d[1]&&(d[1]=v),v>d[3]&&(d[3]=v);if(u)c=u;else for(c=new Int32Array(g),M=0;M<g;M++)c[M]=M}else for(g=s.length,w=new Float32Array(2*g),c=new Int32Array(g),M=0;M<g;M++)o=s[M],v=a[M],c[M]=M,w[2*M]=o,w[2*M+1]=v,o<d[0]&&(d[0]=o),o>d[2]&&(d[2]=o),v<d[1]&&(d[1]=v),v>d[3]&&(d[3]=v);this.idToIndex=c,this.pointcloudOptions.idToIndex=c,this.pointcloudOptions.positions=w;var b=i(e.marker.color),E=i(e.marker.border.color),x=e.opacity*e.marker.opacity;b[3]*=x,this.pointcloudOptions.color=b;var S=e.marker.blend;if(null===S){S=s.length<100||a.length<100}this.pointcloudOptions.blend=S,E[3]*=x,this.pointcloudOptions.borderColor=E;var n=e.marker.sizemin,C=Math.max(e.marker.sizemax,e.marker.sizemin);this.pointcloudOptions.sizeMin=n,this.pointcloudOptions.sizeMax=C,this.pointcloudOptions.areaRatio=e.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var p=this.scene.xaxis,F=this.scene.yaxis,D=C/2||.5;e._extremes[p._id]=P(p,[d[0],d[2]],{ppad:D}),e._extremes[F._id]=P(F,[d[1],d[3]],{ppad:D})},m.dispose=function(){this.pointcloud.dispose()},tt.exports=function r(e,s){var a=new l(e,s.uid);return a.update(s),a}},41904:function(tt,W,t){"use strict";var A=t(3400),y=t(35484);tt.exports=function(P,L,l){function m(r,e){return A.coerce(P,L,y,r,e)}m("x"),m("y"),m("xbounds"),m("ybounds"),P.xy&&P.xy instanceof Float32Array&&(L.xy=P.xy),P.indices&&P.indices instanceof Int32Array&&(L.indices=P.indices),m("text"),m("marker.color",l),m("marker.opacity"),m("marker.blend"),m("marker.sizemin"),m("marker.sizemax"),m("marker.border.color",l),m("marker.border.arearatio"),L._length=null}},156:function(tt,W,t){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),tt.exports={attributes:t(35484),supplyDefaults:t(41904),calc:t(41484),plot:t(11072),moduleType:"trace",name:"pointcloud",basePlotModule:t(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(tt,W,t){"use strict";var A=t(25376),y=t(45464),i=t(22548),P=t(55756),L=t(86968).u,l=t(21776).Ks,m=t(49084),r=t(31780).templatedArray,e=t(29736).descriptionOnlyNumbers,s=t(92880).extendFlat,a=t(67824).overrideAll;(tt.exports=a({hoverinfo:s({},y.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:P.hoverlabel,domain:L({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:e("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:A({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:P.hoverlabel,hovertemplate:l({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:P.hoverlabel,hovertemplate:l({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:s(m().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},10760:function(tt,W,t){"use strict";var A=t(67824).overrideAll,y=t(84888)._M,i=t(59596),P=t(65460),L=t(93972),l=t(86476),m=t(22676).prepSelect,r=t(3400),e=t(24040),s="sankey";function a(h,f){var u=h._fullData[f],g=h._fullLayout,c=g.dragmode,d=u._bgRect;if(d&&"pan"!==c&&"zoom"!==c){L(d,"pan"===g.dragmode?"move":"crosshair");var o={_id:"x",c2p:r.identity,_offset:u._sankey.translateX,_length:u._sankey.width},v={_id:"y",c2p:r.identity,_offset:u._sankey.translateY,_length:u._sankey.height},M={gd:h,element:d.node(),plotinfo:{id:f,xaxis:o,yaxis:v,fillRangeItems:r.noop},subplot:f,xaxes:[o],yaxes:[v],doneFnCompleted:function(b){var x,E=h._fullData[f],S=E.node.groups.slice(),T=[];function n(D){for(var N=E._sankey.graph.nodes,k=0;k<N.length;k++)if(N[k].pointNumber===D)return N[k]}for(var C=0;C<b.length;C++){var p=n(b[C].pointNumber);if(p)if(p.group){for(var F=0;F<p.childrenNodes.length;F++)T.push(p.childrenNodes[F].pointNumber);S[p.pointNumber-E.node._count]=!1}else T.push(p.pointNumber)}x=S.filter(Boolean).concat([T]),e.call("_guiRestyle",h,{"node.groups":[x]},f)},prepFn:function(b,E,x){m(b,E,x,M,c)}};l.init(M)}}W.name=s,W.baseLayoutAttrOverrides=A({hoverlabel:P.hoverlabel},"plot","nested"),W.plot=function(h){var f=y(h.calcdata,s)[0];i(h,f),W.updateFx(h)},W.clean=function(h,f,u,g){var c=g._has&&g._has(s),w=f._has&&f._has(s);c&&!w&&(g._paperdiv.selectAll(".sankey").remove(),g._paperdiv.selectAll(".bgsankey").remove())},W.updateFx=function(h){for(var f=0;f<h._fullData.length;f++)a(h,f)}},48068:function(tt,W,t){"use strict";var A=t(78484),y=t(3400),i=t(71688).wrap,P=y.isArrayOrTypedArray,L=y.isIndex,l=t(8932);function m(e){var o,s=e.node,a=e.link,h=[],f=P(a.color),u=P(a.hovercolor),g=P(a.customdata),c={},w={},d=a.colorscales.length;for(o=0;o<d;o++){var v=a.colorscales[o],M=l.extractScale(v,{cLetter:"c"}),b=l.makeColorScaleFunc(M);w[v.label]=b}var E=0;for(o=0;o<a.value.length;o++)a.source[o]>E&&(E=a.source[o]),a.target[o]>E&&(E=a.target[o]);var x=E+1;e.node._count=x;var S,T=e.node.groups,n={};for(o=0;o<T.length;o++){var C=T[o];for(S=0;S<C.length;S++){var p=C[S],F=x+o;n.hasOwnProperty(p)?y.warn("Node "+p+" is already part of a group."):n[p]=F}}var D={source:[],target:[]};for(o=0;o<a.value.length;o++){var N=a.value[o],k=a.source[o],z=a.target[o];if(N>0&&L(k,x)&&L(z,x)&&(!n.hasOwnProperty(k)||!n.hasOwnProperty(z)||n[k]!==n[z])){n.hasOwnProperty(z)&&(z=n[z]),n.hasOwnProperty(k)&&(k=n[k]),c[k=+k]=c[z=+z]=!0;var B="";a.label&&a.label[o]&&(B=a.label[o]);var O=null;B&&w.hasOwnProperty(B)&&(O=w[B]),h.push({pointNumber:o,label:B,color:f?a.color[o]:a.color,hovercolor:u?a.hovercolor[o]:a.hovercolor,customdata:g?a.customdata[o]:a.customdata,concentrationscale:O,source:k,target:z,value:+N}),D.source.push(k),D.target.push(z)}}var U=x+T.length,G=P(s.color),J=P(s.customdata),et=[];for(o=0;o<U;o++)c[o]&&et.push({group:o>x-1,childrenNodes:[],pointNumber:o,label:s.label[o],color:G?s.color[o]:s.color,customdata:J?s.customdata[o]:s.customdata});var lt=!1;return function r(e,s,a){for(var h=y.init2dArray(e,0),f=0;f<Math.min(s.length,a.length);f++)if(y.isIndex(s[f],e)&&y.isIndex(a[f],e)){if(s[f]===a[f])return!0;h[s[f]].push(a[f])}return A(h).components.some(function(g){return g.length>1})}(U,D.source,D.target)&&(lt=!0),{circular:lt,links:h,nodes:et,groups:T,groupLookup:n}}tt.exports=function(s,a){var h=m(a);return i({circular:h.circular,_nodes:h.nodes,_links:h.links,_groups:h.groups,_groupLookup:h.groupLookup})}},11820:function(tt){"use strict";tt.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(tt,W,t){"use strict";var A=t(3400),y=t(41440),i=t(76308),P=t(49760),L=t(86968).Q,l=t(16132),m=t(31780),r=t(51272);function e(s,a){function h(f,u){return A.coerce(s,a,y.link.colorscales,f,u)}h("label"),h("cmin"),h("cmax"),h("colorscale")}tt.exports=function(a,h,f,u){function g(F,D){return A.coerce(a,h,y,F,D)}var c=A.extendDeep(u.hoverlabel,a.hoverlabel),w=a.node,d=m.newContainer(h,"node");function o(F,D){return A.coerce(w,d,y.node,F,D)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",a.hoverinfo),l(w,d,o,c),o("hovertemplate"),o("align");var v=u.colorway;o("color",d.label.map(function(F,D){return i.addOpacity(function(F){return v[F%v.length]}(D),.8)})),o("customdata");var b=a.link||{},E=m.newContainer(h,"link");function x(F,D){return A.coerce(b,E,y.link,F,D)}x("label"),x("arrowlen"),x("source"),x("target"),x("value"),x("line.color"),x("line.width"),x("hoverinfo",a.hoverinfo),l(b,E,x,c),x("hovertemplate");var p,S=P(u.paper_bgcolor).getLuminance()<.333,n=x("color",S?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)");function C(F){var D=P(F);if(!D.isValid())return F;var N=D.getAlpha();return N<=.8?D.setAlpha(N+.2):D=S?D.brighten():D.darken(),D.toRgbString()}x("hovercolor",Array.isArray(n)?n.map(C):C(n)),x("customdata"),r(b,E,{name:"colorscales",handleItemDefaults:e}),L(h,u,g),g("orientation"),g("valueformat"),g("valuesuffix"),d.x.length&&d.y.length&&(p="freeform"),g("arrangement",p),A.coerceFont(g,"textfont",A.extendFlat({},u.font)),h._length=null}},45499:function(tt,W,t){"use strict";tt.exports={attributes:t(41440),supplyDefaults:t(47140),calc:t(48068),plot:t(59596),moduleType:"trace",name:"sankey",basePlotModule:t(10760),selectPoints:t(81128),categories:["noOpacity"],meta:{}}},59596:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=y.numberFormat,P=t(83248),L=t(93024),l=t(76308),m=t(11820).cn,r=y._;function e(v){return""!==v}function s(v,M){return v.filter(function(b){return b.key===M.traceId})}function a(v,M){A.select(v).select("path").style("fill-opacity",M),A.select(v).select("rect").style("fill-opacity",M)}function h(v){A.select(v).select("text.name").style("fill","black")}function f(v){return function(M){return-1!==v.node.sourceLinks.indexOf(M.link)||-1!==v.node.targetLinks.indexOf(M.link)}}function u(v){return function(M){return-1!==M.node.sourceLinks.indexOf(v.link)||-1!==M.node.targetLinks.indexOf(v.link)}}function g(v,M,b){M&&b&&s(b,M).selectAll("."+m.sankeyLink).filter(f(M)).call(w.bind(0,M,b,!1))}function c(v,M,b){M&&b&&s(b,M).selectAll("."+m.sankeyLink).filter(f(M)).call(d.bind(0,M,b,!1))}function w(v,M,b,E){E.style("fill",function(x){if(!x.link.concentrationscale)return x.tinyColorHoverHue}).style("fill-opacity",function(x){if(!x.link.concentrationscale)return x.tinyColorHoverAlpha}),E.each(function(x){var S=x.link.label;""!==S&&s(M,v).selectAll("."+m.sankeyLink).filter(function(T){return T.link.label===S}).style("fill",function(T){if(!T.link.concentrationscale)return T.tinyColorHoverHue}).style("fill-opacity",function(T){if(!T.link.concentrationscale)return T.tinyColorHoverAlpha})}),b&&s(M,v).selectAll("."+m.sankeyNode).filter(u(v)).call(g)}function d(v,M,b,E){E.style("fill",function(x){return x.tinyColorHue}).style("fill-opacity",function(x){return x.tinyColorAlpha}),E.each(function(x){var S=x.link.label;""!==S&&s(M,v).selectAll("."+m.sankeyLink).filter(function(T){return T.link.label===S}).style("fill",function(T){return T.tinyColorHue}).style("fill-opacity",function(T){return T.tinyColorAlpha})}),b&&s(M,v).selectAll(m.sankeyNode).filter(u(v)).call(c)}function o(v,M){var E=y.nestedProperty(v.hoverlabel||{},M).get();return!Array.isArray(E)&&E}tt.exports=function(M,b){for(var E=M._fullLayout,x=E._paper,S=E._size,T=0;T<M._fullData.length;T++)if(M._fullData[T].visible&&M._fullData[T].type===m.sankey&&!M._fullData[T]._viewInitial){var n=M._fullData[T].node;M._fullData[T]._viewInitial={node:{groups:n.groups.slice(),x:n.x.slice(),y:n.y.slice()}}}var F=r(M,"source:")+" ",D=r(M,"target:")+" ",N=r(M,"concentration:")+" ",k=r(M,"incoming flow count:")+" ",z=r(M,"outgoing flow count:")+" ";P(M,x,b,{width:S.w,height:S.h,margin:{t:S.t,r:S.r,b:S.b,l:S.l}},{linkEvents:{hover:function(at,lt,K){!1!==M._fullLayout.hovermode&&(A.select(at).call(w.bind(0,lt,K,!0)),"skip"!==lt.link.trace.link.hoverinfo&&(lt.link.fullData=lt.link.trace,M.emit("plotly_hover",{event:A.event,points:[lt.link]})))},follow:function(at,lt){if(!1!==M._fullLayout.hovermode){var K=lt.link.trace.link;if("none"!==K.hoverinfo&&"skip"!==K.hoverinfo){for(var j=[],H=0,Z=0;Z<lt.flow.links.length;Z++){var it=lt.flow.links[Z];if("closest"!==M._fullLayout.hovermode||lt.link.pointNumber===it.pointNumber){lt.link.pointNumber===it.pointNumber&&(H=Z),it.fullData=it.trace,K=lt.link.trace.link;var Q=rt(it),Y={valueLabel:i(lt.valueFormat)(it.value)+lt.valueSuffix};j.push({x:Q[0],y:Q[1],name:Y.valueLabel,text:[it.label||"",F+it.source.label,D+it.target.label,it.concentrationscale?N+i("%0.2f")(it.flow.labelConcentration):""].filter(e).join("<br>"),color:o(K,"bgcolor")||l.addOpacity(it.color,1),borderColor:o(K,"bordercolor"),fontFamily:o(K,"font.family"),fontSize:o(K,"font.size"),fontColor:o(K,"font.color"),nameLength:o(K,"namelength"),textAlign:o(K,"align"),idealAlign:A.event.x<Q[0]?"right":"left",hovertemplate:K.hovertemplate,hovertemplateLabels:Y,eventData:[it]})}}L.loneHover(j,{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:M,anchorIndex:H}).each(function(){lt.link.concentrationscale||a(this,.65),h(this)})}}function rt(_){var st,dt;_.circular?(st=(_.circularPathData.leftInnerExtent+_.circularPathData.rightInnerExtent)/2,dt=_.circularPathData.verticalFullExtent):(st=(_.source.x1+_.target.x0)/2,dt=(_.y0+_.y1)/2);var xt=[st,dt];return"v"===_.trace.orientation&&xt.reverse(),xt[0]+=lt.parent.translateX,xt[1]+=lt.parent.translateY,xt}},unhover:function(at,lt,K){!1!==M._fullLayout.hovermode&&(A.select(at).call(d.bind(0,lt,K,!0)),"skip"!==lt.link.trace.link.hoverinfo&&(lt.link.fullData=lt.link.trace,M.emit("plotly_unhover",{event:A.event,points:[lt.link]})),L.loneUnhover(E._hoverlayer.node()))},select:function(at,lt){var K=lt.link;K.originalEvent=A.event,M._hoverdata=[K],L.click(M,{target:!0})}},nodeEvents:{hover:function(at,lt,K){!1!==M._fullLayout.hovermode&&(A.select(at).call(g,lt,K),"skip"!==lt.node.trace.node.hoverinfo&&(lt.node.fullData=lt.node.trace,M.emit("plotly_hover",{event:A.event,points:[lt.node]})))},follow:function(at,lt){if(!1!==M._fullLayout.hovermode){var K=lt.node.trace.node;if("none"!==K.hoverinfo&&"skip"!==K.hoverinfo){var j=A.select(at).select("."+m.nodeRect),rt=M._fullLayout._paperdiv.node().getBoundingClientRect(),H=j.node().getBoundingClientRect(),Z=H.left-2-rt.left,it=H.right+2-rt.left,Q=H.top+H.height/4-rt.top,Y={valueLabel:i(lt.valueFormat)(lt.node.value)+lt.valueSuffix};lt.node.fullData=lt.node.trace,M._fullLayout._calcInverseTransform(M);var nt=M._fullLayout._invScaleX,st=L.loneHover({x0:nt*Z,x1:nt*it,y:M._fullLayout._invScaleY*Q,name:i(lt.valueFormat)(lt.node.value)+lt.valueSuffix,text:[lt.node.label,k+lt.node.targetLinks.length,z+lt.node.sourceLinks.length].filter(e).join("<br>"),color:o(K,"bgcolor")||lt.tinyColorHue,borderColor:o(K,"bordercolor"),fontFamily:o(K,"font.family"),fontSize:o(K,"font.size"),fontColor:o(K,"font.color"),nameLength:o(K,"namelength"),textAlign:o(K,"align"),idealAlign:"left",hovertemplate:K.hovertemplate,hovertemplateLabels:Y,eventData:[lt.node]},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:M});a(st,.85),h(st)}}},unhover:function(at,lt,K){!1!==M._fullLayout.hovermode&&(A.select(at).call(c,lt,K),"skip"!==lt.node.trace.node.hoverinfo&&(lt.node.fullData=lt.node.trace,M.emit("plotly_unhover",{event:A.event,points:[lt.node]})),L.loneUnhover(E._hoverlayer.node()))},select:function(at,lt,K){var j=lt.node;j.originalEvent=A.event,M._hoverdata=[j],A.select(at).call(c,lt,K),L.click(M,{target:!0})}}})}},83248:function(tt,W,t){"use strict";var A=t(49812),y=t(67756).Gz,i=t(33428),P=t(26800),L=t(48932),l=t(11820),m=t(49760),r=t(76308),e=t(43616),s=t(3400),a=s.strTranslate,h=s.strRotate,f=t(71688),u=f.keyFun,g=f.repeat,c=f.unwrap,w=t(72736),d=t(24040),o=t(84284),v=o.CAP_SHIFT,M=o.LINE_SPACING;function E(rt,H,Z){var gt,it=c(H),Q=it.trace,Y=Q.domain,nt="h"===Q.orientation,_=Q.node.pad,st=Q.node.thickness,dt={justify:P.sankeyJustify,left:P.sankeyLeft,right:P.sankeyRight,center:P.sankeyCenter}[Q.node.align],xt=rt.width*(Y.x[1]-Y.x[0]),yt=rt.height*(Y.y[1]-Y.y[0]),St=it._nodes,Et=it._links,Tt=it.circular;(gt=Tt?L.sankeyCircular().circularLinkGap(0):P.sankey()).iterations(l.sankeyIterations).size(nt?[xt,yt]:[yt,xt]).nodeWidth(st).nodePadding(_).nodeId(function(jt){return jt.pointNumber}).nodeAlign(dt).nodes(St).links(Et);var Nt,Gt,Pt,Mt=gt();for(var Vt in gt.nodePadding()<_&&s.warn("node.pad was reduced to ",gt.nodePadding()," to fit within the figure."),it._groupLookup){var le,re=parseInt(it._groupLookup[Vt]);for(Nt=0;Nt<Mt.nodes.length;Nt++)if(Mt.nodes[Nt].pointNumber===re){le=Mt.nodes[Nt];break}if(le){var It={pointNumber:parseInt(Vt),x0:le.x0,x1:le.x1,y0:le.y0,y1:le.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Mt.nodes.unshift(It),le.childrenNodes.unshift(It)}}if(function Rt(){for(Nt=0;Nt<Mt.nodes.length;Nt++){var Wt,Xt,jt=Mt.nodes[Nt],Ct={};for(Gt=0;Gt<jt.targetLinks.length;Gt++)Ct.hasOwnProperty(Wt=(Xt=jt.targetLinks[Gt]).source.pointNumber+":"+Xt.target.pointNumber)||(Ct[Wt]=[]),Ct[Wt].push(Xt);var Ht=Object.keys(Ct);for(Gt=0;Gt<Ht.length;Gt++){var Bt=Ct[Wt=Ht[Gt]],zt=0,kt={};for(Pt=0;Pt<Bt.length;Pt++)kt[(Xt=Bt[Pt]).label]||(kt[Xt.label]=0),kt[Xt.label]+=Xt.value,zt+=Xt.value;for(Pt=0;Pt<Bt.length;Pt++)(Xt=Bt[Pt]).flow={value:zt,labelConcentration:kt[Xt.label]/zt,concentration:Xt.value/zt,links:Bt},Xt.concentrationscale&&(Xt.color=m(Xt.concentrationscale(Xt.flow.labelConcentration)))}var wt=0;for(Gt=0;Gt<jt.sourceLinks.length;Gt++)wt+=jt.sourceLinks[Gt].value;for(Gt=0;Gt<jt.sourceLinks.length;Gt++)(Xt=jt.sourceLinks[Gt]).concentrationOut=Xt.value/wt;var ft=0;for(Gt=0;Gt<jt.targetLinks.length;Gt++)ft+=jt.targetLinks[Gt].value;for(Gt=0;Gt<jt.targetLinks.length;Gt++)(Xt=jt.targetLinks[Gt]).concenrationIn=Xt.value/ft}}(),Q.node.x.length&&Q.node.y.length){for(Nt=0;Nt<Math.min(Q.node.x.length,Q.node.y.length,Mt.nodes.length);Nt++)if(Q.node.x[Nt]&&Q.node.y[Nt]){var se=[Q.node.x[Nt]*xt,Q.node.y[Nt]*yt];Mt.nodes[Nt].x0=se[0]-st/2,Mt.nodes[Nt].x1=se[0]+st/2;var ve=Mt.nodes[Nt].y1-Mt.nodes[Nt].y0;Mt.nodes[Nt].y0=se[1]-ve/2,Mt.nodes[Nt].y1=se[1]+ve/2}"snap"===Q.arrangement&&function $t(jt){jt.forEach(function(Ct){var Wt,Xt,zt,Ht=0,Bt=Ct.length;for(Ct.sort(function(kt,wt){return kt.y0-wt.y0}),zt=0;zt<Bt;++zt)(Wt=Ct[zt]).y0>=Ht||(Xt=Ht-Wt.y0)>1e-6&&(Wt.y0+=Xt,Wt.y1+=Xt),Ht=Wt.y1+_})}(function oe(jt){var Ht,zt,Ct=jt.map(function(wt,ft){return{x0:wt.x0,index:ft}}).sort(function(wt,ft){return wt.x0-ft.x0}),Wt=[],Xt=-1,Bt=-1/0;for(Nt=0;Nt<Ct.length;Nt++){var kt=jt[Ct[Nt].index];kt.x0>Bt+st&&(Xt+=1,Ht=kt.x0),Bt=kt.x0,Wt[Xt]||(Wt[Xt]=[]),Wt[Xt].push(kt),kt.x0+=zt=Ht-kt.x0,kt.x1+=zt}return Wt}(St=Mt.nodes)),gt.update(Mt)}return{circular:Tt,key:Z,trace:Q,guid:s.randstr(),horizontal:nt,width:xt,height:yt,nodePad:Q.node.pad,nodeLineColor:Q.node.line.color,nodeLineWidth:Q.node.line.width,linkLineColor:Q.link.line.color,linkLineWidth:Q.link.line.width,linkArrowLength:Q.link.arrowlen,valueFormat:Q.valueformat,valueSuffix:Q.valuesuffix,textFont:Q.textfont,translateX:Y.x[0]*rt.width+rt.margin.l,translateY:rt.height-Y.y[1]*rt.height+rt.margin.t,dragParallel:nt?yt:xt,dragPerpendicular:nt?xt:yt,arrangement:Q.arrangement,sankey:gt,graph:Mt,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function x(rt,H,Z){var it=m(H.color),Q=m(H.hovercolor),nt=H.source.label+"|"+H.target.label+"__"+Z;return H.trace=rt.trace,H.curveNumber=rt.trace.index,{circular:rt.circular,key:nt,traceId:rt.key,pointNumber:H.pointNumber,link:H,tinyColorHue:r.tinyRGB(it),tinyColorAlpha:it.getAlpha(),tinyColorHoverHue:r.tinyRGB(Q),tinyColorHoverAlpha:Q.getAlpha(),linkPath:T,linkLineColor:rt.linkLineColor,linkLineWidth:rt.linkLineWidth,linkArrowLength:rt.linkArrowLength,valueFormat:rt.valueFormat,valueSuffix:rt.valueSuffix,sankey:rt.sankey,parent:rt,interactionState:rt.interactionState,flow:H.flow}}function T(){return function H(Z){var it=Z.linkArrowLength;if(Z.link.circular)return function S(rt,H){var it=rt.width/2,Q=rt.circularPathData;return"top"===rt.circularLinkType?"M "+(Q.targetX-H)+" "+(Q.targetY+it)+" L"+(Q.rightInnerExtent-H)+" "+(Q.targetY+it)+"A"+(Q.rightLargeArcRadius+it)+" "+(Q.rightSmallArcRadius+it)+" 0 0 1 "+(Q.rightFullExtent-it-H)+" "+(Q.targetY-Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-it-H)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+it)+" "+(Q.rightLargeArcRadius+it)+" 0 0 1 "+(Q.rightInnerExtent-H)+" "+(Q.verticalFullExtent-it)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent-it)+"A"+(Q.leftLargeArcRadius+it)+" "+(Q.leftLargeArcRadius+it)+" 0 0 1 "+(Q.leftFullExtent+it)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+it)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+it)+" "+(Q.leftSmallArcRadius+it)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.sourceY+it)+"L"+Q.sourceX+" "+(Q.sourceY+it)+"L"+Q.sourceX+" "+(Q.sourceY-it)+"L"+Q.leftInnerExtent+" "+(Q.sourceY-it)+"A"+(Q.leftLargeArcRadius-it)+" "+(Q.leftSmallArcRadius-it)+" 0 0 0 "+(Q.leftFullExtent-it)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-it)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-it)+" "+(Q.leftLargeArcRadius-it)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent+it)+"L"+(Q.rightInnerExtent-H)+" "+(Q.verticalFullExtent+it)+"A"+(Q.rightLargeArcRadius-it)+" "+(Q.rightLargeArcRadius-it)+" 0 0 0 "+(Q.rightFullExtent+it-H)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+it-H)+" "+(Q.targetY-Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-it)+" "+(Q.rightSmallArcRadius-it)+" 0 0 0 "+(Q.rightInnerExtent-H)+" "+(Q.targetY-it)+"L"+(Q.targetX-H)+" "+(Q.targetY-it)+(H>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z":"M "+(Q.targetX-H)+" "+(Q.targetY-it)+" L"+(Q.rightInnerExtent-H)+" "+(Q.targetY-it)+"A"+(Q.rightLargeArcRadius+it)+" "+(Q.rightSmallArcRadius+it)+" 0 0 0 "+(Q.rightFullExtent-it-H)+" "+(Q.targetY+Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-it-H)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+it)+" "+(Q.rightLargeArcRadius+it)+" 0 0 0 "+(Q.rightInnerExtent-H)+" "+(Q.verticalFullExtent+it)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent+it)+"A"+(Q.leftLargeArcRadius+it)+" "+(Q.leftLargeArcRadius+it)+" 0 0 0 "+(Q.leftFullExtent+it)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+it)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+it)+" "+(Q.leftSmallArcRadius+it)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.sourceY-it)+"L"+Q.sourceX+" "+(Q.sourceY-it)+"L"+Q.sourceX+" "+(Q.sourceY+it)+"L"+Q.leftInnerExtent+" "+(Q.sourceY+it)+"A"+(Q.leftLargeArcRadius-it)+" "+(Q.leftSmallArcRadius-it)+" 0 0 1 "+(Q.leftFullExtent-it)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-it)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-it)+" "+(Q.leftLargeArcRadius-it)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent-it)+"L"+(Q.rightInnerExtent-H)+" "+(Q.verticalFullExtent-it)+"A"+(Q.rightLargeArcRadius-it)+" "+(Q.rightLargeArcRadius-it)+" 0 0 1 "+(Q.rightFullExtent+it-H)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+it-H)+" "+(Q.targetY+Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-it)+" "+(Q.rightSmallArcRadius-it)+" 0 0 1 "+(Q.rightInnerExtent-H)+" "+(Q.targetY+it)+"L"+(Q.targetX-H)+" "+(Q.targetY+it)+(H>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z"}(Z.link,it);var Q=Math.abs((Z.link.target.x0-Z.link.source.x1)/2);it>Q&&(it=Q);var Y=Z.link.source.x1,nt=Z.link.target.x0-it,_=y(Y,nt),st=_(.5),dt=_(.5),xt=Z.link.y0-Z.link.width/2,yt=Z.link.y0+Z.link.width/2,St=Z.link.y1-Z.link.width/2,Et=Z.link.y1+Z.link.width/2,Nt=it>0?"L"+(nt+it)+","+(St+Z.link.width/2):"";return"M"+Y+","+xt+"C"+st+","+xt+" "+dt+","+St+" "+nt+","+St+(Nt+="L"+nt+","+Et)+"C"+dt+","+Et+" "+st+","+yt+" "+Y+","+yt+"Z"}}function n(rt,H){var Z=m(H.color),it=l.nodePadAcross,Q=rt.nodePad/2;H.dx=H.x1-H.x0,H.dy=H.y1-H.y0;var Y=H.dx,nt=Math.max(.5,H.dy),_="node_"+H.pointNumber;return H.group&&(_=s.randstr()),H.trace=rt.trace,H.curveNumber=rt.trace.index,{index:H.pointNumber,key:_,partOfGroup:H.partOfGroup||!1,group:H.group,traceId:rt.key,trace:rt.trace,node:H,nodePad:rt.nodePad,nodeLineColor:rt.nodeLineColor,nodeLineWidth:rt.nodeLineWidth,textFont:rt.textFont,size:rt.horizontal?rt.height:rt.width,visibleWidth:Math.ceil(Y),visibleHeight:nt,zoneX:-it,zoneY:-Q,zoneWidth:Y+2*it,zoneHeight:nt+2*Q,labelY:rt.horizontal?H.dy/2+1:H.dx/2+1,left:1===H.originalLayer,sizeAcross:rt.width,forceLayouts:rt.forceLayouts,horizontal:rt.horizontal,darkBackground:Z.getBrightness()<=128,tinyColorHue:r.tinyRGB(Z),tinyColorAlpha:Z.getAlpha(),valueFormat:rt.valueFormat,valueSuffix:rt.valueSuffix,sankey:rt.sankey,graph:rt.graph,arrangement:rt.arrangement,uniqueNodeLabelPathId:[rt.guid,rt.key,_].join("_"),interactionState:rt.interactionState,figure:rt}}function C(rt){rt.attr("transform",function(H){return a(H.node.x0.toFixed(3),H.node.y0.toFixed(3))})}function p(rt){rt.call(C)}function F(rt,H){rt.call(p),H.attr("d",T())}function D(rt){rt.attr("width",function(H){return H.node.x1-H.node.x0}).attr("height",function(H){return H.visibleHeight})}function N(rt){return rt.link.width>1||rt.linkLineWidth>0}function k(rt){return a(rt.translateX,rt.translateY)+(rt.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function z(rt,H,Z){rt.on(".basic",null).on("mouseover.basic",function(it){!it.interactionState.dragInProgress&&!it.partOfGroup&&(Z.hover(this,it,H),it.interactionState.hovered=[this,it])}).on("mousemove.basic",function(it){!it.interactionState.dragInProgress&&!it.partOfGroup&&(Z.follow(this,it),it.interactionState.hovered=[this,it])}).on("mouseout.basic",function(it){!it.interactionState.dragInProgress&&!it.partOfGroup&&(Z.unhover(this,it,H),it.interactionState.hovered=!1)}).on("click.basic",function(it){it.interactionState.hovered&&(Z.unhover(this,it,H),it.interactionState.hovered=!1),!it.interactionState.dragInProgress&&!it.partOfGroup&&Z.select(this,it,H)})}function B(rt,H,Z,it){var Q=i.behavior.drag().origin(function(Y){return{x:Y.node.x0+Y.visibleWidth/2,y:Y.node.y0+Y.visibleHeight/2}}).on("dragstart",function(Y){if("fixed"!==Y.arrangement&&(s.ensureSingle(it._fullLayout._infolayer,"g","dragcover",function(_){it._fullLayout._dragCover=_}),s.raiseToTop(this),Y.interactionState.dragInProgress=Y.node,at(Y.node),Y.interactionState.hovered&&(Z.nodeEvents.unhover.apply(0,Y.interactionState.hovered),Y.interactionState.hovered=!1),"snap"===Y.arrangement)){var nt=Y.traceId+"|"+Y.key;Y.forceLayouts[nt]?Y.forceLayouts[nt].alpha(1):function O(rt,H,Z,it){!function K(rt){for(var H=0;H<rt.length;H++)rt[H].y=(rt[H].y0+rt[H].y1)/2,rt[H].x=(rt[H].x0+rt[H].x1)/2}(Z.graph.nodes);var Q=Z.graph.nodes.filter(function(Y){return Y.originalX===Z.node.originalX}).filter(function(Y){return!Y.partOfGroup});Z.forceLayouts[H]=A.forceSimulation(Q).alphaDecay(0).force("collide",A.forceCollide().radius(function(Y){return Y.dy/2+Z.nodePad/2}).strength(1).iterations(l.forceIterations)).force("constrain",function G(rt,H,Z,it){return function(){for(var Y=0,nt=0;nt<Z.length;nt++){var _=Z[nt];_===it.interactionState.dragInProgress?(_.x=_.lastDraggedX,_.y=_.lastDraggedY):(_.vx=(_.originalX-_.x)/l.forceTicksPerFrame,_.y=Math.min(it.size-_.dy/2,Math.max(_.dy/2,_.y))),Y=Math.max(Y,Math.abs(_.vx),Math.abs(_.vy))}!it.interactionState.dragInProgress&&Y<.1&&it.forceLayouts[H].alpha()>0&&it.forceLayouts[H].alpha(0)}}(0,H,Q,Z)).stop()}(0,nt,Y),function U(rt,H,Z,it,Q){window.requestAnimationFrame(function Y(){var nt;for(nt=0;nt<l.forceTicksPerFrame;nt++)Z.forceLayouts[it].tick();if(function j(rt){for(var H=0;H<rt.length;H++)rt[H].y0=rt[H].y-rt[H].dy/2,rt[H].y1=rt[H].y0+rt[H].dy,rt[H].x0=rt[H].x-rt[H].dx/2,rt[H].x1=rt[H].x0+rt[H].dx}(Z.graph.nodes),Z.sankey.update(Z.graph),F(rt.filter(lt(Z)),H),Z.forceLayouts[it].alpha()>0)window.requestAnimationFrame(Y);else{var st=Z.node.originalX;Z.node.x0=st-Z.visibleWidth/2,Z.node.x1=st+Z.visibleWidth/2,J(Z,Q)}})}(rt,H,Y,nt,it)}}).on("drag",function(Y){if("fixed"!==Y.arrangement){var nt=i.event.x,_=i.event.y;"snap"===Y.arrangement?(Y.node.x0=nt-Y.visibleWidth/2,Y.node.x1=nt+Y.visibleWidth/2,Y.node.y0=_-Y.visibleHeight/2,Y.node.y1=_+Y.visibleHeight/2):("freeform"===Y.arrangement&&(Y.node.x0=nt-Y.visibleWidth/2,Y.node.x1=nt+Y.visibleWidth/2),_=Math.max(0,Math.min(Y.size-Y.visibleHeight/2,_)),Y.node.y0=_-Y.visibleHeight/2,Y.node.y1=_+Y.visibleHeight/2),at(Y.node),"snap"!==Y.arrangement&&(Y.sankey.update(Y.graph),F(rt.filter(lt(Y)),H))}}).on("dragend",function(Y){if("fixed"!==Y.arrangement){Y.interactionState.dragInProgress=!1;for(var nt=0;nt<Y.node.childrenNodes.length;nt++)Y.node.childrenNodes[nt].x=Y.node.x,Y.node.childrenNodes[nt].y=Y.node.y;"snap"!==Y.arrangement&&J(Y,it)}});rt.on(".drag",null).call(Q)}function J(rt,H){for(var Z=[],it=[],Q=0;Q<rt.graph.nodes.length;Q++){var nt=(rt.graph.nodes[Q].y0+rt.graph.nodes[Q].y1)/2;Z.push((rt.graph.nodes[Q].x0+rt.graph.nodes[Q].x1)/2/rt.figure.width),it.push(nt/rt.figure.height)}d.call("_guiRestyle",H,{"node.x":[Z],"node.y":[it]},rt.trace.index).then(function(){H._fullLayout._dragCover&&H._fullLayout._dragCover.remove()})}function at(rt){rt.lastDraggedX=rt.x0+rt.dx/2,rt.lastDraggedY=rt.y0+rt.dy/2}function lt(rt){return function(H){return H.node.originalX===rt.node.originalX}}tt.exports=function(rt,H,Z,it,Q){var Y=rt._context.staticPlot,nt=!1;s.ensureSingle(rt._fullLayout._infolayer,"g","first-render",function(){nt=!0});var _=rt._fullLayout._dragCover,st=Z.filter(function(Mt){return c(Mt).trace.visible}).map(E.bind(null,it)),dt=H.selectAll("."+l.cn.sankey).data(st,u);dt.exit().remove(),dt.enter().append("g").classed(l.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",Y?"none":"auto").attr("transform",k),dt.each(function(Mt,Nt){rt._fullData[Nt]._sankey=Mt;var Gt="bgsankey-"+Mt.trace.uid+"-"+Nt;s.ensureSingle(rt._fullLayout._draggers,"rect",Gt),rt._fullData[Nt]._bgRect=i.select("."+Gt),rt._fullData[Nt]._bgRect.style("pointer-events",Y?"none":"all").attr("width",Mt.width).attr("height",Mt.height).attr("x",Mt.translateX).attr("y",Mt.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),dt.transition().ease(l.ease).duration(l.duration).attr("transform",k);var xt=dt.selectAll("."+l.cn.sankeyLinks).data(g,u);xt.enter().append("g").classed(l.cn.sankeyLinks,!0).style("fill","none");var yt=xt.selectAll("."+l.cn.sankeyLink).data(function(Mt){return Mt.graph.links.filter(function(Gt){return Gt.value}).map(x.bind(null,Mt))},u);yt.enter().append("path").classed(l.cn.sankeyLink,!0).call(z,dt,Q.linkEvents),yt.style("stroke",function(Mt){return N(Mt)?r.tinyRGB(m(Mt.linkLineColor)):Mt.tinyColorHue}).style("stroke-opacity",function(Mt){return N(Mt)?r.opacity(Mt.linkLineColor):Mt.tinyColorAlpha}).style("fill",function(Mt){return Mt.tinyColorHue}).style("fill-opacity",function(Mt){return Mt.tinyColorAlpha}).style("stroke-width",function(Mt){return N(Mt)?Mt.linkLineWidth:1}).attr("d",T()),yt.style("opacity",function(){return rt._context.staticPlot||nt||_?1:0}).transition().ease(l.ease).duration(l.duration).style("opacity",1),yt.exit().transition().ease(l.ease).duration(l.duration).style("opacity",0).remove();var St=dt.selectAll("."+l.cn.sankeyNodeSet).data(g,u);St.enter().append("g").classed(l.cn.sankeyNodeSet,!0),St.style("cursor",function(Mt){switch(Mt.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Et=St.selectAll("."+l.cn.sankeyNode).data(function(Mt){var Nt=Mt.graph.nodes;return function et(rt){var Z,H=[];for(Z=0;Z<rt.length;Z++)rt[Z].originalX=(rt[Z].x0+rt[Z].x1)/2,rt[Z].originalY=(rt[Z].y0+rt[Z].y1)/2,-1===H.indexOf(rt[Z].originalX)&&H.push(rt[Z].originalX);for(H.sort(function(it,Q){return it-Q}),Z=0;Z<rt.length;Z++)rt[Z].originalLayerIndex=H.indexOf(rt[Z].originalX),rt[Z].originalLayer=rt[Z].originalLayerIndex/(H.length-1)}(Nt),Nt.map(n.bind(null,Mt))},u);Et.enter().append("g").classed(l.cn.sankeyNode,!0).call(C).style("opacity",function(Mt){return!rt._context.staticPlot&&!nt||Mt.partOfGroup?0:1}),Et.call(z,dt,Q.nodeEvents).call(B,yt,Q,rt),Et.transition().ease(l.ease).duration(l.duration).call(C).style("opacity",function(Mt){return Mt.partOfGroup?0:1}),Et.exit().transition().ease(l.ease).duration(l.duration).style("opacity",0).remove();var Tt=Et.selectAll("."+l.cn.nodeRect).data(g);Tt.enter().append("rect").classed(l.cn.nodeRect,!0).call(D),Tt.style("stroke-width",function(Mt){return Mt.nodeLineWidth}).style("stroke",function(Mt){return r.tinyRGB(m(Mt.nodeLineColor))}).style("stroke-opacity",function(Mt){return r.opacity(Mt.nodeLineColor)}).style("fill",function(Mt){return Mt.tinyColorHue}).style("fill-opacity",function(Mt){return Mt.tinyColorAlpha}),Tt.transition().ease(l.ease).duration(l.duration).call(D);var gt=Et.selectAll("."+l.cn.nodeLabel).data(g);gt.enter().append("text").classed(l.cn.nodeLabel,!0).style("cursor","default"),gt.attr("data-notex",1).text(function(Mt){return Mt.node.label}).each(function(Mt){var Nt=i.select(this);e.font(Nt,Mt.textFont),w.convertToTspans(Nt,rt)}).style("text-shadow",w.makeTextShadow(rt._fullLayout.paper_bgcolor)).attr("text-anchor",function(Mt){return Mt.horizontal&&Mt.left?"end":"start"}).attr("transform",function(Mt){var Nt=i.select(this),Gt=w.lineCount(Nt),Vt=Mt.nodeLineWidth/2+3,re=((Mt.horizontal?Mt.visibleHeight:Mt.visibleWidth)-Mt.textFont.size*((Gt-1)*M-v))/2;Mt.horizontal&&(Mt.left?Vt=-Vt:Vt+=Mt.visibleWidth);var le=Mt.horizontal?"":"scale(-1,1)"+h(90);return a(Mt.horizontal?Vt:re,Mt.horizontal?re:Vt)+le}),gt.transition().ease(l.ease).duration(l.duration)}},81128:function(tt){"use strict";tt.exports=function(t,A){for(var i=[],P=t.cd[0].trace,L=P._sankey.graph.nodes,l=0;l<L.length;l++){var m=L[l];if(!m.partOfGroup){var r=[(m.x0+m.x1)/2,(m.y0+m.y1)/2];"v"===P.orientation&&r.reverse(),A&&A.contains(r,!1,l,t)&&i.push({pointNumber:m.pointNumber})}}return i}},20148:function(tt,W,t){"use strict";var A=t(3400);tt.exports=function(i,P){for(var L=0;L<i.length;L++)i[L].i=L;A.mergeArray(P.text,i,"tx"),A.mergeArray(P.texttemplate,i,"txt"),A.mergeArray(P.hovertext,i,"htx"),A.mergeArray(P.customdata,i,"data"),A.mergeArray(P.textposition,i,"tp"),P.textfont&&(A.mergeArrayCastPositive(P.textfont.size,i,"ts"),A.mergeArray(P.textfont.color,i,"tc"),A.mergeArray(P.textfont.family,i,"tf"));var l=P.marker;if(l){A.mergeArrayCastPositive(l.size,i,"ms"),A.mergeArrayCastPositive(l.opacity,i,"mo"),A.mergeArray(l.symbol,i,"mx"),A.mergeArray(l.angle,i,"ma"),A.mergeArray(l.standoff,i,"mf"),A.mergeArray(l.color,i,"mc");var m=l.line;l.line&&(A.mergeArray(m.color,i,"mlc"),A.mergeArrayCastPositive(m.width,i,"mlw"));var r=l.gradient;r&&"none"!==r.type&&(A.mergeArray(r.type,i,"mgt"),A.mergeArray(r.color,i,"mgc"))}}},52904:function(tt,W,t){"use strict";var A=t(29736).axisHoverFormat,y=t(21776).Gw,i=t(21776).Ks,P=t(49084),L=t(25376),l=t(98192).u,m=t(98192).c,r=t(43616),e=t(88200),s=t(92880).extendFlat;tt.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:A("x"),yhoverformat:A("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:y({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:e.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:s({},l,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:m,marker:s({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:s({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},P("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},P("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:L({editType:"calc",colorEditType:"style",arrayOk:!0})}},16356:function(tt,W,t){"use strict";var A=t(38248),y=t(3400),i=t(54460),P=t(1220),L=t(39032).BADNUM,l=t(43028),m=t(90136),r=t(20148),e=t(4500);function a(c,w,d,o,v,M,b){var E=w._length,x=c._fullLayout,S=d._id,T=o._id,n=x._firstScatter[u(w)]===w.uid,C=(g(w,x,d,o)||{}).orientation,p=w.fill;d._minDtick=0,o._minDtick=0;var F={padded:!0},D={padded:!0};b&&(F.ppad=D.ppad=b);var N=E<2||v[0]!==v[E-1]||M[0]!==M[E-1];N&&("tozerox"===p||"tonextx"===p&&(n||"h"===C))?F.tozero=!0:!(w.error_y||{}).visible&&("tonexty"===p||"tozeroy"===p||!l.hasMarkers(w)&&!l.hasText(w))&&(F.padded=!1,F.ppad=0),N&&("tozeroy"===p||"tonexty"===p&&(n||"v"===C))?D.tozero=!0:("tonextx"===p||"tozerox"===p)&&(D.padded=!1),S&&(w._extremes[S]=i.findExtremes(d,v,F)),T&&(w._extremes[T]=i.findExtremes(o,M,D))}function h(c,w){if(l.hasMarkers(c)){var v,d=c.marker,o=1.6*(c.marker.sizeref||1);if(v="area"===c.marker.sizemode?function(S){return Math.max(Math.sqrt((S||0)/o),3)}:function(S){return Math.max((S||0)/o,3)},y.isArrayOrTypedArray(d.size)){var M={type:"linear"};i.setConvert(M);for(var b=M.makeCalcdata(c.marker,"size"),E=new Array(w),x=0;x<w;x++)E[x]=v(b[x]);return E}return v(d.size)}}function f(c,w){var d=u(w),o=c._firstScatter;o[d]||(o[d]=w.uid)}function u(c){var w=c.stackgroup;return c.xaxis+c.yaxis+c.type+(w?"-"+w:"")}function g(c,w,d,o){var v=c.stackgroup;if(v){var M=w._scatterStackOpts[d._id+o._id][v],b="v"===M.orientation?o:d;if("linear"===b.type||"log"===b.type)return M}}tt.exports={calc:function s(c,w){var N,k,z,B,O,U,d=c._fullLayout,o=w._xA=i.getFromId(c,w.xaxis||"x","x"),v=w._yA=i.getFromId(c,w.yaxis||"y","y"),M=o.makeCalcdata(w,"x"),b=v.makeCalcdata(w,"y"),E=P(w,o,"x",M),x=P(w,v,"y",b),S=E.vals,T=x.vals,n=w._length,C=new Array(n),p=w.ids,F=g(w,d,o,v),D=!1;f(d,w);var et,G="x",J="y";F?(y.pushUnique(F.traceIndices,w._expandedIndex),(N="v"===F.orientation)?(J="s",et="x"):(G="s",et="y"),O="interpolate"===F.stackgaps):a(c,w,o,v,S,T,h(w,n));var lt=!!w.xperiodalignment,K=!!w.yperiodalignment;for(k=0;k<n;k++){var j=C[k]={},rt=A(S[k]),H=A(T[k]);rt&&H?(j[G]=S[k],j[J]=T[k],lt&&(j.orig_x=M[k],j.xEnd=E.ends[k],j.xStart=E.starts[k]),K&&(j.orig_y=b[k],j.yEnd=x.ends[k],j.yStart=x.starts[k])):F&&(N?rt:H)?(j[et]=N?S[k]:T[k],j.gap=!0,O?(j.s=L,D=!0):j.s=0):j[G]=j[J]=L,p&&(j.id=String(p[k]))}if(r(C,w),m(c,w),e(C,w),F){for(k=0;k<C.length;)C[k][et]===L?C.splice(k,1):k++;if(y.sort(C,function(Y,nt){return Y[et]-nt[et]||Y.i-nt.i}),D){for(k=0;k<C.length-1&&C[k].gap;)k++;for((U=C[k].s)||(U=C[k].s=0),z=0;z<k;z++)C[z].s=U;for(B=C.length-1;B>k&&C[B].gap;)B--;for(U=C[B].s,z=C.length-1;z>B;z--)C[z].s=U;for(;k<B;)if(C[++k].gap){for(z=k+1;C[z].gap;)z++;for(var Z=C[k-1][et],it=C[k-1].s,Q=(C[z].s-it)/(C[z][et]-Z);k<z;)C[k].s=it+(C[k][et]-Z)*Q,k++}}}return C},calcMarkerSize:h,calcAxisExpansion:a,setFirstScatter:f,getStackOpts:g}},4500:function(tt,W,t){"use strict";var A=t(3400);tt.exports=function(i,P){A.isArrayOrTypedArray(P.selectedpoints)&&A.tagSelected(i,P)}},90136:function(tt,W,t){"use strict";var A=t(94288).hasColorscale,y=t(47128),i=t(43028);tt.exports=function(L,l){i.hasLines(l)&&A(l,"line")&&y(L,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(l)&&(A(l,"marker")&&y(L,l,{vals:l.marker.color,containerStr:"marker",cLetter:"c"}),A(l,"marker.line")&&y(L,l,{vals:l.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(tt){"use strict";tt.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(tt,W,t){"use strict";var A=t(16356),y=t(96376).setGroupPositions;function P(l,m,r,e,s,a,h){s[e]=!0;var f={i:null,gap:!0,s:0};if(f[h]=r,l.splice(m,0,f),m&&r===l[m-1][h]){var u=l[m-1];f.s=u.s,f.i=u.i,f.gap=u.gap}else a&&(f.s=function L(l,m,r,e){var s=l[m-1],a=l[m+1];return a?s?s.s+(a.s-s.s)*(r-s[e])/(a[e]-s[e]):a.s:s.s}(l,m,r,h));m||(l[0].t=l[1].t,l[0].trace=l[1].trace,delete l[1].t,delete l[1].trace)}tt.exports=function(m,r){"group"===m._fullLayout.scattermode&&function i(l,m){for(var r=m.xaxis,e=m.yaxis,s=l._fullLayout,a=l._fullData,h=l.calcdata,f=[],u=[],g=0;g<a.length;g++){var c=a[g];!0===c.visible&&"scatter"===c.type&&c.xaxis===r._id&&c.yaxis===e._id&&("h"===c.orientation?f.push(h[g]):"v"===c.orientation&&u.push(h[g]))}var w={mode:s.scattermode,gap:s.scattergap};y(l,r,e,u,w),y(l,e,r,f,w)}(m,r);var e=r.xaxis,s=r.yaxis,h=m._fullLayout._scatterStackOpts[e._id+s._id];if(h){var u,g,c,w,d,o,v,M,b,E,x,S,T,n,C,f=m.calcdata;for(var p in h){var F=(E=h[p]).traceIndices;if(F.length){for(x="interpolate"===E.stackgaps,S=E.groupnorm,"v"===E.orientation?(T="x",n="y"):(T="y",n="x"),C=new Array(F.length),u=0;u<C.length;u++)C[u]=!1;o=f[F[0]];var D=new Array(o.length);for(u=0;u<o.length;u++)D[u]=o[u][T];for(u=1;u<F.length;u++){for(d=f[F[u]],g=c=0;g<d.length;g++){for(v=d[g][T];v>D[c]&&c<D.length;c++)P(d,g,D[c],u,C,x,T),g++;if(v!==D[c]){for(w=0;w<u;w++)P(f[F[w]],c,v,w,C,x,T);D.splice(c,0,v)}c++}for(;c<D.length;c++)P(d,g,D[c],u,C,x,T),g++}var N=D.length;for(g=0;g<o.length;g++){for(M=o[g][n]=o[g].s,u=1;u<F.length;u++)(d=f[F[u]])[0].trace._rawLength=d[0].trace._length,d[0].trace._length=N,d[g][n]=M+=d[g].s;if(S)for(b=("fraction"===S?M:M/100)||1,u=0;u<F.length;u++){var k=f[F[u]][g];k[n]/=b,k.sNorm=k.s/b}}for(u=0;u<F.length;u++){var z=(d=f[F[u]])[0].trace,B=A.calcMarkerSize(z,z._rawLength),O=Array.isArray(B);if(B&&C[u]||O){var U=B;for(B=new Array(N),g=0;g<N;g++)B[g]=d[g].gap?0:O?U[d[g].i]:U}var G=new Array(N),J=new Array(N);for(g=0;g<N;g++)G[g]=d[g].x,J[g]=d[g].y;A.calcAxisExpansion(m,z,e,s,G,J,B),d[0].t.orientation=E.orientation}}}}}},35036:function(tt,W,t){"use strict";var A=t(3400),y=t(20011),i=t(52904);tt.exports=function(L,l){var r,e;function s(g){return A.coerce(r._input,r,i,g)}if("group"===l.scattermode)for(e=0;e<L.length;e++)"scatter"===(r=L[e]).type&&y(r._input,r,l,s);for(e=0;e<L.length;e++){var a=L[e];if("scatter"===a.type){var h=a.fill;if("none"!==h&&"toself"!==h&&(a.opacity=void 0,"tonexty"===h||"tonextx"===h))for(var f=e-1;f>=0;f--){var u=L[f];if("scatter"===u.type&&u.xaxis===a.xaxis&&u.yaxis===a.yaxis){u.opacity=void 0;break}}}}}},18800:function(tt,W,t){"use strict";var A=t(3400),y=t(24040),i=t(52904),P=t(88200),L=t(43028),l=t(43980),m=t(31147),r=t(43912),e=t(74428),s=t(66828),a=t(11731),h=t(124),f=t(70840),u=t(3400).coercePattern;tt.exports=function(c,w,d,o){function v(C,p){return A.coerce(c,w,i,C,p)}var M=l(c,w,o,v);if(M||(w.visible=!1),w.visible){m(c,w,o,v),v("xhoverformat"),v("yhoverformat");var b=r(c,w,o,v);"group"===o.scattermode&&void 0===w.orientation&&v("orientation","v");var E=!b&&M<P.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("mode",E),L.hasMarkers(w)&&e(c,w,d,o,v,{gradient:!0}),L.hasLines(w)&&(s(c,w,d,o,v,{backoff:!0}),a(c,w,v),v("connectgaps"),v("line.simplify")),L.hasText(w)&&(v("texttemplate"),h(c,w,o,v));var x=[];(L.hasMarkers(w)||L.hasText(w))&&(v("cliponaxis"),v("marker.maxdisplayed"),x.push("points")),v("fill",b?b.fillDflt:"none"),"none"!==w.fill&&(f(c,w,d,v),L.hasLines(w)||a(c,w,v),u(v,"fillpattern",w.fillcolor,!1));var S=(w.line||{}).color,T=(w.marker||{}).color;("tonext"===w.fill||"toself"===w.fill)&&x.push("fills"),v("hoveron",x.join("+")||"points"),"fills"!==w.hoveron&&v("hovertemplate");var n=y.getComponentMethod("errorbars","supplyDefaults");n(c,w,S||T||d,{axis:"y"}),n(c,w,S||T||d,{axis:"x",inherit:"y"}),A.coerceSelectionMarkerOpacity(w,v)}}},70840:function(tt,W,t){"use strict";var A=t(76308),y=t(3400).isArrayOrTypedArray;tt.exports=function(P,L,l,m){var r=!1;if(L.marker){var e=L.marker.color,s=(L.marker.line||{}).color;e&&!y(e)?r=e:s&&!y(s)&&(r=s)}m("fillcolor",A.addOpacity((L.line||{}).color||r||l,.5))}},76688:function(tt,W,t){"use strict";var A=t(54460);tt.exports=function(i,P,L){var l={},m={_fullLayout:L},r=A.getFromTrace(m,P,"x"),e=A.getFromTrace(m,P,"y"),s=i.orig_x;void 0===s&&(s=i.x);var a=i.orig_y;return void 0===a&&(a=i.y),l.xLabel=A.tickText(r,r.c2l(s),!0).text,l.yLabel=A.tickText(e,e.c2l(a),!0).text,l}},44928:function(tt,W,t){"use strict";var A=t(76308),y=t(43028);tt.exports=function(P,L){var l,m;if("lines"===P.mode)return(l=P.line.color)&&A.opacity(l)?l:P.fillcolor;if("none"===P.mode)return P.fill?P.fillcolor:"";var r=L.mcc||(P.marker||{}).color,e=L.mlcc||((P.marker||{}).line||{}).color;return(m=r&&A.opacity(r)?r:e&&A.opacity(e)&&(L.mlw||((P.marker||{}).line||{}).width)?e:"")?A.opacity(m)<.3?A.addOpacity(m,.3):m:(l=(P.line||{}).color)&&A.opacity(l)&&y.hasLines(P)&&P.line.width?l:P.fillcolor}},20011:function(tt,W,t){"use strict";var A=t(71888).getAxisGroup;tt.exports=function(i,P,L,l){var m=P.orientation,e=A(L,P[{v:"x",h:"y"}[m]+"axis"])+m,s=L._alignmentOpts||{},a=l("alignmentgroup"),h=s[e];h||(h=s[e]={});var f=h[a];f?f.traces.push(P):f=h[a]={traces:[P],alignmentIndex:Object.keys(h).length,offsetGroups:{}};var u=l("offsetgroup"),g=f.offsetGroups,c=g[u];u&&(c||(c=g[u]={offsetIndex:Object.keys(g).length}),P._offsetIndex=c.offsetIndex)}},98723:function(tt,W,t){"use strict";var A=t(3400),y=t(93024),i=t(24040),P=t(44928),L=t(76308),l=A.fillText;tt.exports=function(r,e,s,a){var h=r.cd,f=h[0].trace,u=r.xa,g=r.ya,c=u.c2p(e),w=g.c2p(s),d=[c,w],o=f.hoveron||"",v=-1!==f.mode.indexOf("markers")?3:.5,M=!!f.xperiodalignment,b=!!f.yperiodalignment;if(-1!==o.indexOf("points")){var S=function(et){var at=Math.max(v,et.mrc||0),lt=u.c2p(et.x)-c,K=g.c2p(et.y)-w;return Math.max(Math.sqrt(lt*lt+K*K)-at,1-v/at)},T=y.getDistanceFunction(a,function(et){if(M){var at=u.c2p(et.xStart),lt=u.c2p(et.xEnd);return c>=Math.min(at,lt)&&c<=Math.max(at,lt)?0:1/0}var K=Math.max(3,et.mrc||0),j=1-1/K,rt=Math.abs(u.c2p(et.x)-c);return rt<K?j*rt/K:rt-K+j},function(et){if(b){var at=g.c2p(et.yStart),lt=g.c2p(et.yEnd);return w>=Math.min(at,lt)&&w<=Math.max(at,lt)?0:1/0}var K=Math.max(3,et.mrc||0),j=1-1/K,rt=Math.abs(g.c2p(et.y)-w);return rt<K?j*rt/K:rt-K+j},S);if(y.getClosest(h,T,r),!1!==r.index){var n=h[r.index],C=u.c2p(n.x,!0),p=g.c2p(n.y,!0),F=n.mrc||1;r.index=n.i;var D=h[0].t.orientation,N=D&&(n.sNorm||n.s),k="h"===D?N:void 0!==n.orig_x?n.orig_x:n.x,z="v"===D?N:void 0!==n.orig_y?n.orig_y:n.y;return A.extendFlat(r,{color:P(f,n),x0:C-F,x1:C+F,xLabelVal:k,y0:p-F,y1:p+F,yLabelVal:z,spikeDistance:S(n),hovertemplate:f.hovertemplate}),l(n,f,r),i.getComponentMethod("errorbars","hoverInfo")(n,f,r),[r]}}function B(et){if(!et)return!1;var at=et.node();try{var lt=new DOMPoint(d[0],d[1]);return at.isPointInFill(lt)}catch(j){var K=at.ownerSVGElement.createSVGPoint();return K.x=d[0],K.y=d[1],at.isPointInFill(K)}}if(-1!==o.indexOf("fills")&&f._fillElement&&B(f._fillElement)&&!B(f._fillExclusionElement)){var G=function O(et){var at,Z,Q,Y,nt,_,dt,xt,lt=[],K=1/0,j=-1/0,rt=1/0,H=-1/0;for(at=0;at<et.length;at++){var it=et[at];it.contains(d)&&(lt.push(it),rt=Math.min(rt,it.ymin),H=Math.max(H,it.ymax))}if(0===lt.length)return null;for(Z=((rt=Math.max(rt,0))+(H=Math.min(H,g._length)))/2,at=0;at<lt.length;at++)for(Y=lt[at].pts,Q=1;Q<Y.length;Q++)(dt=Y[Q-1][1])>Z!=(xt=Y[Q][1])>=Z&&(_=Y[Q-1][0],xt-dt&&(nt=_+(Y[Q][0]-_)*(Z-dt)/(xt-dt),K=Math.min(K,nt),j=Math.max(j,nt)));return{x0:K=Math.max(K,0),x1:j=Math.min(j,u._length),y0:Z,y1:Z}}(f._polygons);null===G&&(G={x0:d[0],x1:d[0],y0:d[1],y1:d[1]});var J=L.defaultLine;return L.opacity(f.fillcolor)?J=f.fillcolor:L.opacity((f.line||{}).color)&&(J=f.line.color),A.extendFlat(r,{distance:r.maxHoverDistance,x0:G.x0,x1:G.x1,y0:G.y0,y1:G.y1,color:J,hovertemplate:!1}),delete r.index,r.text=f.text&&!A.isArrayOrTypedArray(f.text)?String(f.text):f.name,[r]}}},65875:function(tt,W,t){"use strict";var A=t(43028);tt.exports={hasLines:A.hasLines,hasMarkers:A.hasMarkers,hasText:A.hasText,isBubble:A.isBubble,attributes:t(52904),layoutAttributes:t(55308),supplyDefaults:t(18800),crossTraceDefaults:t(35036),supplyLayoutDefaults:t(59748),calc:t(16356).calc,crossTraceCalc:t(96664),arraysToCalcdata:t(20148),plot:t(96504),colorbar:t(5528),formatLabels:t(76688),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(98723),selectPoints:t(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:t(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(tt){"use strict";tt.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(tt,W,t){"use strict";var A=t(3400),y=t(55308);tt.exports=function(i,P){"group"===P.scattermode&&function L(m,r){return A.coerce(i,P,y,m,r)}("scattergap","group"===P.barmode?P.bargap:.2)}},66828:function(tt,W,t){"use strict";var A=t(3400).isArrayOrTypedArray,y=t(94288).hasColorscale,i=t(27260);tt.exports=function(L,l,m,r,e,s){s||(s={});var a=(L.marker||{}).color;a&&a._inputArray&&(a=a._inputArray),e("line.color",m),y(L,"line")?i(L,l,r,e,{prefix:"line.",cLetter:"c"}):e("line.color",!A(a)&&a||m),e("line.width"),s.noDash||e("line.dash"),s.backoff&&e("line.backoff")}},52340:function(tt,W,t){"use strict";var A=t(43616),y=t(39032),i=y.BADNUM,P=y.LOG_CLIP,L=P+.5,l=P-.5,m=t(3400),r=m.segmentsIntersect,e=m.constrain,s=t(88200);tt.exports=function(h,f){var k,z,B,O,U,G,J,et,at,lt,K,j,rt,H,Z,it,nt,_,u=f.trace||{},g=f.xaxis,c=f.yaxis,w="log"===g.type,d="log"===c.type,o=g._length,v=c._length,M=f.backoff,b=u.marker,E=f.connectGaps,x=f.baseTolerance,S=f.shape,T="linear"===S,n=u.fill&&"none"!==u.fill,C=[],p=s.minTolerance,F=h.length,D=new Array(F),N=0;function Q(te){var ee=h[te];if(!ee)return!1;var Ne=f.linearized?g.l2p(ee.x):g.c2p(ee.x),We=f.linearized?c.l2p(ee.y):c.c2p(ee.y);if(Ne===i){if(w&&(Ne=g.c2p(ee.x,!0)),Ne===i)return!1;d&&We===i&&(Ne*=Math.abs(g._m*v*(g._m>0?L:l)/(c._m*o*(c._m>0?L:l)))),Ne*=1e3}if(We===i){if(d&&(We=c.c2p(ee.y,!0)),We===i)return!1;We*=1e3}return[Ne,We]}function Y(te,ee,Ne,We){var ye=Ne-te,Te=We-ee,Ge=.5-te,hr=.5-ee,ce=ye*ye+Te*Te,Ue=ye*Ge+Te*hr;if(Ue>0&&Ue<ce){var Ye=Ge*Te-hr*ye;if(Ye*Ye<ce)return!0}}function st(te,ee){var Ne=te[0]/o,We=te[1]/v,ye=Math.max(0,-Ne,Ne-1,-We,We-1);return ye&&void 0!==nt&&Y(Ne,We,nt,_)&&(ye=0),ye&&ee&&Y(Ne,We,ee[0]/o,ee[1]/v)&&(ye=0),(1+s.toleranceGrowth*ye)*x}function dt(te,ee){var Ne=te[0]-ee[0],We=te[1]-ee[1];return Math.sqrt(Ne*Ne+We*We)}var Mt,Nt,Gt,Pt,Vt,re,se,xt=s.maxScreensAway,yt=-o*xt,St=o*(1+xt),Et=-v*xt,Tt=v*(1+xt),gt=[[yt,Et,St,Et],[St,Et,St,Tt],[St,Tt,yt,Tt],[yt,Tt,yt,Et]];function It(te){if(te[0]<yt||te[0]>St||te[1]<Et||te[1]>Tt)return[e(te[0],yt,St),e(te[1],Et,Tt)]}function Rt(te,ee){if(te[0]===ee[0]&&(te[0]===yt||te[0]===St)||te[1]===ee[1]&&(te[1]===Et||te[1]===Tt))return!0}function oe(te,ee,Ne){return function(We,ye){var Te=It(We),Ge=It(ye),hr=[];if(Te&&Ge&&Rt(Te,Ge))return hr;Te&&hr.push(Te),Ge&&hr.push(Ge);var ce=2*m.constrain((We[te]+ye[te])/2,ee,Ne)-((Te||We)[te]+(Ge||ye)[te]);return ce&&((Te&&Ge?ce>0==Te[te]>Ge[te]?Te:Ge:Te||Ge)[te]+=ce),hr}}function de(te){var ee=te[0],Ne=te[1],We=ee===D[N-1][0],ye=Ne===D[N-1][1];if(!We||!ye)if(N>1){var Te=ee===D[N-2][0],Ge=Ne===D[N-2][1];We&&(ee===yt||ee===St)&&Te?Ge?N--:D[N-1]=te:ye&&(Ne===Et||Ne===Tt)&&Ge?Te?N--:D[N-1]=te:D[N++]=te}else D[N++]=te}function jt(te){D[N-1][0]!==te[0]&&D[N-1][1]!==te[1]&&de([Gt,Pt]),de(te),Vt=null,Gt=Pt=0}"linear"===S||"spline"===S?se=function le(te,ee){for(var Ne=[],We=0,ye=0;ye<4;ye++){var Te=gt[ye],Ge=r(te[0],te[1],ee[0],ee[1],Te[0],Te[1],Te[2],Te[3]);Ge&&(!We||Math.abs(Ge.x-Ne[0][0])>1||Math.abs(Ge.y-Ne[0][1])>1)&&(Ge=[Ge.x,Ge.y],We&&dt(Ge,te)<dt(Ne[0],te)?Ne.unshift(Ge):Ne.push(Ge),We++)}return Ne}:"hv"===S||"vh"===S?se=function $t(te,ee){var Ne=[],We=It(te),ye=It(ee);return We&&ye&&Rt(We,ye)||(We&&Ne.push(We),ye&&Ne.push(ye)),Ne}:"hvh"===S?se=oe(0,yt,St):"vhv"===S&&(se=oe(1,Et,Tt));var Ct=m.isArrayOrTypedArray(b);function Wt(te){if(te&&M&&(te.i=k,te.d=h,te.trace=u,te.marker=Ct?b[te.i]:b,te.backoff=M),nt=te[0]/o,_=te[1]/v,Nt=te[1]<Et?Et:te[1]>Tt?Tt:0,(Mt=te[0]<yt?yt:te[0]>St?St:0)||Nt){if(N)if(Vt){var ee=se(Vt,te);ee.length>1&&(jt(ee[0]),D[N++]=ee[1])}else re=se(D[N-1],te)[0],D[N++]=re;else D[N++]=[Mt||te[0],Nt||te[1]];var Ne=D[N-1];Mt&&Nt&&(Ne[0]!==Mt||Ne[1]!==Nt)?(Vt&&(Gt!==Mt&&Pt!==Nt?de(Gt&&Pt?function ve(te,ee){var Ne=ee[0]-te[0],We=(ee[1]-te[1])/Ne;return(te[1]*ee[0]-ee[1]*te[0])/Ne>0?[We>0?yt:St,Tt]:[We>0?St:yt,Et]}(Vt,te):[Gt||Mt,Pt||Nt]):Gt&&Pt&&de([Gt,Pt])),de([Mt,Nt])):Gt-Mt&&Pt-Nt&&de([Mt||Gt,Nt||Pt]),Vt=te,Gt=Mt,Pt=Nt}else Vt&&jt(se(Vt,te)[0]),D[N++]=te}for(k=0;k<F;k++)if(z=Q(k)){for(N=0,Vt=null,Wt(z),k++;k<F;k++){if(!(O=Q(k))){if(E)continue;break}if(T&&f.simplify){var Xt=Q(k+1);if(lt=dt(O,z),n&&(0===N||N===F-1)||!(lt<st(O,Xt)*p)){for(et=[(O[0]-z[0])/lt,(O[1]-z[1])/lt],U=z,K=lt,j=H=Z=0,J=!1,B=O,k++;k<h.length;k++){if(G=Xt,Xt=Q(k+1),!G){if(E)continue;break}if(it=(at=[G[0]-z[0],G[1]-z[1]])[0]*et[1]-at[1]*et[0],H=Math.min(H,it),(Z=Math.max(Z,it))-H>st(G,Xt))break;B=G,(rt=at[0]*et[0]+at[1]*et[1])>K?(K=rt,O=G,J=!1):rt<j&&(j=rt,U=G,J=!0)}if(J?(Wt(O),B!==U&&Wt(U)):(U!==z&&Wt(U),B!==O&&Wt(O)),Wt(B),k>=h.length||!G)break;Wt(G),z=G}}else Wt(O)}Vt&&de([Gt||Vt[0],Pt||Vt[1]]),C.push(D.slice(0,N))}var Ht=S.slice(S.length-1);if(M&&"h"!==Ht&&"v"!==Ht){for(var Bt=!1,zt=-1,kt=[],wt=0;wt<C.length;wt++)for(var ft=0;ft<C[wt].length-1;ft++){var pt=C[wt][ft],Dt=C[wt][ft+1],Qt=A.applyBackoff(Dt,pt);(Qt[0]!==Dt[0]||Qt[1]!==Dt[1])&&(Bt=!0),kt[zt+1]||(kt[++zt]=[pt,[Qt[0],Qt[1]]])}return Bt?kt:C}return C}},11731:function(tt){"use strict";tt.exports=function(t,A,y){"spline"===y("line.shape")&&y("line.smoothing")}},14328:function(tt){"use strict";var W={tonextx:1,tonexty:1,tonext:1};tt.exports=function(A,y,i){var P,L,l,m,r,e={},s=!1,a=-1,h=0,f=-1;for(L=0;L<i.length;L++)(l=(P=i[L][0].trace).stackgroup||"")?l in e?r=e[l]:(r=e[l]=h,h++):P.fill in W&&f>=0?r=f:(r=f=h,h++),r<a&&(s=!0),P._groupIndex=a=r;var u=i.slice();s&&u.sort(function(c,w){var d=c[0].trace,o=w[0].trace;return d._groupIndex-o._groupIndex||d.index-o.index});var g={};for(L=0;L<u.length;L++)l=(P=u[L][0].trace).stackgroup||"",!0===P.visible?(P._nexttrace=null,P.fill in W&&(P._prevtrace=(m=g[l])||null,m&&(m._nexttrace=P)),P._ownfill=P.fill&&("tozero"===P.fill.substr(0,6)||"toself"===P.fill||"to"===P.fill.substr(0,2)&&!P._prevtrace),g[l]=P):P._prevtrace=P._nexttrace=P._ownfill=null;return u}},7152:function(tt,W,t){"use strict";var A=t(38248);tt.exports=function(i,P){P||(P=2);var L=i.marker,l=L.sizeref||1,m=L.sizemin||0,r="area"===L.sizemode?function(e){return Math.sqrt(e/l)}:function(e){return e/l};return function(e){var s=r(e/P);return A(s)&&s>0?Math.max(s,m):0}}},5528:function(tt){"use strict";tt.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(tt,W,t){"use strict";var A=t(76308),y=t(94288).hasColorscale,i=t(27260),P=t(43028);tt.exports=function(l,m,r,e,s,a){var h=P.isBubble(l),f=(l.line||{}).color;a=a||{},f&&(r=f),s("marker.symbol"),s("marker.opacity",h?.7:1),s("marker.size"),a.noAngle||(s("marker.angle"),a.noAngleRef||s("marker.angleref"),a.noStandOff||s("marker.standoff")),s("marker.color",r),y(l,"marker")&&i(l,m,e,s,{prefix:"marker.",cLetter:"c"}),a.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),a.noLine||(s("marker.line.color",f&&!Array.isArray(f)&&m.marker.color!==f?f:h?A.background:A.defaultLine),y(l,"marker.line")&&i(l,m,e,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",h?1:0)),h&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),a.gradient&&"none"!==s("marker.gradient.type")&&s("marker.gradient.color")}},31147:function(tt,W,t){"use strict";var A=t(3400).dateTick0,i=t(39032).ONEWEEK;function P(L,l){return A(l,L%i==0?1:0)}tt.exports=function(l,m,r,e,s){if(s||(s={x:!0,y:!0}),s.x){var a=e("xperiod");a&&(e("xperiod0",P(a,m.xcalendar)),e("xperiodalignment"))}if(s.y){var h=e("yperiod");h&&(e("yperiod0",P(h,m.ycalendar)),e("yperiodalignment"))}}},96504:function(tt,W,t){"use strict";var A=t(33428),y=t(24040),i=t(3400),P=i.ensureSingle,L=i.identity,l=t(43616),m=t(43028),r=t(52340),e=t(14328),s=t(92065).tester;function h(u,g,c,w,d,o,v){var b,M=u._context.staticPlot;!function f(u,g,c,w,d){var o=c.xaxis,v=c.yaxis,M=A.extent(i.simpleMap(o.range,o.r2c)),b=A.extent(i.simpleMap(v.range,v.r2c)),E=w[0].trace;if(m.hasMarkers(E)){var x=E.marker.maxdisplayed;if(0!==x){var S=w.filter(function(p){return p.x>=M[0]&&p.x<=M[1]&&p.y>=b[0]&&p.y<=b[1]}),T=Math.ceil(S.length/x),n=0;d.forEach(function(p,F){var D=p[0].trace;m.hasMarkers(D)&&D.marker.maxdisplayed>0&&F<g&&n++});var C=Math.round(n*T/3+Math.floor(n/3)*T/7.1);w.forEach(function(p){delete p.vis}),S.forEach(function(p,F){0===Math.round((F+C)%T)&&(p.vis=!0)})}}}(0,g,c,w,d);var E=!!v&&v.duration>0;function x(de){return E?de.transition():de}var S=c.xaxis,T=c.yaxis,n=w[0].trace,C=n.line,p=A.select(o),F=P(p,"g","errorbars"),D=P(p,"g","lines"),N=P(p,"g","points"),k=P(p,"g","text");if(y.getComponentMethod("errorbars","plot")(u,F,c,v),!0===n.visible){x(p).style("opacity",n.opacity);var z,B,U,G,O=n.fill.charAt(n.fill.length-1);"x"!==O&&"y"!==O&&(O=""),"y"===O?(U=1,G=T.c2p(0,!0)):"x"===O&&(U=0,G=S.c2p(0,!0)),w[0][c.isRangePlot?"nodeRangePlot3":"node3"]=p;var J="",et=[],at=n._prevtrace,lt=null,K=null;at&&(J=at._prevRevpath||"",B=at._nextFill,et=at._ownPolygons,lt=at._fillsegments,K=at._fillElement);var j,rt,it,Q,Y,nt,_,st,H="",Z="",dt=[];n._polygons=[];var xt=[],yt=[],St=i.noop;if(z=n._ownFill,m.hasLines(n)||"none"!==n.fill){B&&B.datum(w),-1!==["hv","vh","hvh","vhv"].indexOf(C.shape)?(it=l.steps(C.shape),Q=l.steps(C.shape.split("").reverse().join(""))):it=Q="spline"===C.shape?function(de){var jt=de[de.length-1];return de.length>1&&de[0][0]===jt[0]&&de[0][1]===jt[1]?l.smoothclosed(de.slice(1),C.smoothing):l.smoothopen(de,C.smoothing)}:function(de){return"M"+de.join("L")},Y=function(de){return Q(de.reverse())},yt=r(w,{xaxis:S,yaxis:T,trace:n,connectGaps:n.connectgaps,baseTolerance:Math.max(C.width||1,3)/4,shape:C.shape,backoff:C.backoff,simplify:C.simplify,fill:n.fill}),xt=new Array(yt.length);var Et=0;for(b=0;b<yt.length;b++){var Tt,gt=yt[b];Tt&&O?Tt.push.apply(Tt,gt):(Tt=gt.slice(),xt[Et]=Tt,Et++)}n._fillElement=null,n._fillExclusionElement=K,n._fillsegments=xt.slice(0,Et),xt=n._fillsegments,yt.length&&(nt=yt[0][0].slice(),st=(_=yt[yt.length-1])[_.length-1].slice()),St=function(de){return function(jt){if(j=it(jt),rt=Y(jt),H?O?(H+="L"+j.substr(1),Z=rt+"L"+Z.substr(1)):(H+="Z"+j,Z=rt+"Z"+Z):(H=j,Z=rt),m.hasLines(n)){var Ct=A.select(this);if(Ct.datum(w),de)x(Ct.style("opacity",0).attr("d",j).call(l.lineGroupStyle)).style("opacity",1);else{var Wt=x(Ct);Wt.attr("d",j),l.singleLineStyle(w,Wt)}}}}}var Mt=D.selectAll(".js-line").data(yt);x(Mt.exit()).style("opacity",0).remove(),Mt.each(St(!1)),Mt.enter().append("path").classed("js-line",!0).style("vector-effect",M?"none":"non-scaling-stroke").call(l.lineGroupStyle).each(St(!0)),l.setClipUrl(Mt,c.layerClipId,u);var Gt=function(){var de=new Array(xt.length);for(b=0;b<xt.length;b++)de[b]=s(xt[b]);return de},Pt=function(de){var jt,Ct;if(de&&0!==de.length){for(jt=new Array(de.length-1+xt.length),Ct=0;Ct<de.length-1;Ct++)jt[Ct]=s(de[Ct]);var zt=de[de.length-1].slice();for(zt.reverse(),Ct=0;Ct<xt.length;Ct++)jt[de.length-1+Ct]=s(xt[Ct].concat(zt))}else for(jt=new Array(xt.length),Ct=0;Ct<xt.length;Ct++){var Wt=xt[Ct][0].slice(),Xt=xt[Ct][xt[Ct].length-1].slice();Wt[U]=Xt[U]=G;var Bt=[Xt,Wt].concat(xt[Ct]);jt[Ct]=s(Bt)}return jt};yt.length?(z?(z.datum(w),nt&&st&&(O?(nt[U]=st[U]=G,x(z).attr("d","M"+st+"L"+nt+"L"+H.substr(1)).call(l.singleFillStyle,u),dt=Pt(null)):(x(z).attr("d",H+"Z").call(l.singleFillStyle,u),dt=Gt())),n._polygons=dt,n._fillElement=z):B&&("tonext"===n.fill.substr(0,6)&&H&&J?("tonext"===n.fill?(x(B).attr("d",H+"Z"+J+"Z").call(l.singleFillStyle,u),dt=Gt(),n._polygons=dt.concat(et)):(x(B).attr("d",H+"L"+J.substr(1)+"Z").call(l.singleFillStyle,u),dt=Pt(lt),n._polygons=dt),n._fillElement=B):Nt(B)),n._prevRevpath=Z):(z?Nt(z):B&&Nt(B),n._prevRevpath=null),n._ownPolygons=dt,N.datum(w),k.datum(w),function oe(de,jt,Ct){var Wt,Bt=Ct[0].trace,zt=m.hasMarkers(Bt),kt=m.hasText(Bt),wt=function Rt(de){if(de.ids)return It}(Bt),ft=$t,pt=$t;if(zt||kt){var Dt=L,Qt=Bt.stackgroup,te=Qt&&"infer zero"===u._fullLayout._scatterStackOpts[S._id+T._id][Qt].stackgaps;Bt.marker.maxdisplayed||Bt._needsCull?Dt=te?re:Vt:Qt&&!te&&(Dt=le),zt&&(ft=Dt),kt&&(pt=Dt)}var Ne,ee=(Wt=de.selectAll("path.point").data(ft,wt)).enter().append("path").classed("point",!0);E&&ee.call(l.pointStyle,Bt,u).call(l.translatePoints,S,T).style("opacity",0).transition().style("opacity",1),Wt.order(),zt&&(Ne=l.makePointStyleFns(Bt)),Wt.each(function(We){var ye=A.select(this),Te=x(ye);l.translatePoint(We,Te,S,T)?(l.singlePointStyle(We,Te,Bt,Ne,u),c.layerClipId&&l.hideOutsideRangePoint(We,Te,S,T,Bt.xcalendar,Bt.ycalendar),Bt.customdata&&ye.classed("plotly-customdata",null!=We.data)):Te.remove()}),E?Wt.exit().transition().style("opacity",0).remove():Wt.exit().remove(),(Wt=jt.selectAll("g").data(pt,wt)).enter().append("g").classed("textpoint",!0).append("text"),Wt.order(),Wt.each(function(We){var ye=A.select(this),Te=x(ye.select("text"));l.translatePoint(We,Te,S,T)?c.layerClipId&&l.hideOutsideRangePoint(We,ye,S,T,Bt.xcalendar,Bt.ycalendar):ye.remove()}),Wt.selectAll("text").call(l.textPointStyle,Bt,u).each(function(We){var ye=S.c2p(We.x),Te=T.c2p(We.y);A.select(this).selectAll("tspan.line").each(function(){x(A.select(this)).attr({x:ye,y:Te})})}),Wt.exit().remove()}(N,k,w);var ve=!1===n.cliponaxis?null:c.layerClipId;l.setClipUrl(N,ve,u),l.setClipUrl(k,ve,u)}function Nt(de){x(de).attr("d","M0,0Z")}function Vt(de){return de.filter(function(jt){return!jt.gap&&jt.vis})}function re(de){return de.filter(function(jt){return jt.vis})}function le(de){return de.filter(function(jt){return!jt.gap})}function It(de){return de.id}function $t(){return!1}}tt.exports=function(g,c,w,d,o,v){var M,b,E=!o,x=!!o&&o.duration>0,S=e(g,c,w);(M=d.selectAll("g.trace").data(S,function(n){return n[0].trace.uid})).enter().append("g").attr("class",function(n){return"trace scatter trace"+n[0].trace.uid}).style("stroke-miterlimit",2),M.order(),function a(u,g,c){g.each(function(w){var d=P(A.select(this),"g","fills");l.setClipUrl(d,c.layerClipId,u);var o=w[0].trace,v=[];o._ownfill&&v.push("_ownFill"),o._nexttrace&&v.push("_nextFill");var M=d.selectAll("g").data(v,L);M.enter().append("g"),M.exit().each(function(b){o[b]=null}).remove(),M.order().each(function(b){o[b]=P(A.select(this),"path","js-fill")})})}(g,M,c),x?(v&&(b=v()),A.transition().duration(o.duration).ease(o.easing).each("end",function(){b&&b()}).each("interrupt",function(){b&&b()}).each(function(){d.selectAll("g.trace").each(function(n,C){h(g,C,c,n,S,this,o)})})):M.each(function(n,C){h(g,C,c,n,S,this,o)}),E&&M.exit().remove(),d.selectAll("path:not([d])").remove()}},91560:function(tt,W,t){"use strict";var A=t(43028);tt.exports=function(i,P){var s,a,h,f,L=i.cd,l=i.xaxis,m=i.yaxis,r=[],e=L[0].trace;if(!A.hasMarkers(e)&&!A.hasText(e))return[];if(!1===P)for(s=0;s<L.length;s++)L[s].selected=0;else for(s=0;s<L.length;s++)h=l.c2p((a=L[s]).x),f=m.c2p(a.y),null!==a.i&&P.contains([h,f],!1,s,i)?(r.push({pointNumber:a.i,x:l.c2d(a.x),y:m.c2d(a.y)}),a.selected=1):a.selected=0;return r}},43912:function(tt){"use strict";var W=["orientation","groupnorm","stackgaps"];tt.exports=function(A,y,i,P){var L=i._scatterStackOpts,l=P("stackgroup");if(l){var m=y.xaxis+y.yaxis,r=L[m];r||(r=L[m]={});var e=r[l],s=!1;e?e.traces.push(y):(e=r[l]={traceIndices:[],traces:[y]},s=!0);for(var a={orientation:y.x&&!y.y?"h":"v"},h=0;h<W.length;h++){var f=W[h],u=f+"Found";if(!e[u]){var g=void 0!==A[f],c="orientation"===f;if((g||s)&&(e[f]=P(f,a[f]),c&&(e.fillDflt="h"===e[f]?"tonextx":"tonexty"),g&&(e[u]=!0,!s&&(delete e.traces[0][f],c))))for(var w=0;w<e.traces.length-1;w++){var d=e.traces[w];d._input.fill!==d.fill&&(d.fill=e.fillDflt)}}}return e}}},49224:function(tt,W,t){"use strict";var A=t(33428),y=t(43616),i=t(24040);function L(r,e,s){y.pointStyle(r.selectAll("path.point"),e,s)}function l(r,e,s){y.textPointStyle(r.selectAll("text"),e,s)}tt.exports={style:function P(r){var e=A.select(r).selectAll("g.trace.scatter");e.style("opacity",function(s){return s[0].trace.opacity}),e.selectAll("g.points").each(function(s){L(A.select(this),s.trace||s[0].trace,r)}),e.selectAll("g.text").each(function(s){l(A.select(this),s.trace||s[0].trace,r)}),e.selectAll("g.trace path.js-line").call(y.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(y.fillGroupStyle,r),i.getComponentMethod("errorbars","style")(e)},stylePoints:L,styleText:l,styleOnSelect:function m(r,e,s){var a=e[0].trace;a.selectedpoints?(y.selectedPointStyle(s.selectAll("path.point"),a),y.selectedTextStyle(s.selectAll("text"),a)):(L(s,a,r),l(s,a,r))}}},43028:function(tt,W,t){"use strict";var A=t(3400),y=t(38116).isTypedArraySpec;tt.exports={hasLines:function(i){return i.visible&&i.mode&&-1!==i.mode.indexOf("lines")},hasMarkers:function(i){return i.visible&&(i.mode&&-1!==i.mode.indexOf("markers")||"splom"===i.type)},hasText:function(i){return i.visible&&i.mode&&-1!==i.mode.indexOf("text")},isBubble:function(i){var P=i.marker;return A.isPlainObject(P)&&(A.isArrayOrTypedArray(P.size)||y(P.size))}}},124:function(tt,W,t){"use strict";var A=t(3400);tt.exports=function(y,i,P,L,l){l=l||{},L("textposition"),A.coerceFont(L,"textfont",l.font||P.font),l.noSelect||(L("selected.textfont.color"),L("unselected.textfont.color"))}},43980:function(tt,W,t){"use strict";var A=t(3400),y=t(24040);tt.exports=function(P,L,l,m){var s,r=m("x"),e=m("y");if(y.getComponentMethod("calendars","handleTraceDefaults")(P,L,["x","y"],l),r){var h=A.minRowLength(r);e?s=Math.min(h,A.minRowLength(e)):(s=h,m("y0"),m("dy"))}else{if(!e)return 0;s=A.minRowLength(e),m("x0"),m("dx")}return L._length=s,s}},91592:function(tt,W,t){"use strict";var A=t(52904),y=t(49084),i=t(29736).axisHoverFormat,P=t(21776).Ks,L=t(21776).Gw,l=t(45464),m=t(99168),r=t(87792),e=t(92880).extendFlat,s=t(67824).overrideAll,a=t(95376),f=A.marker,u=f.line,g=e({width:A.line.width,dash:{valType:"enumerated",values:a(m),dflt:"solid"}},y("line"));var w=tt.exports=s({x:A.x,y:A.y,z:{valType:"data_array"},text:e({},A.text,{}),texttemplate:L({},{}),hovertext:e({},A.hovertext,{}),hovertemplate:P(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),mode:e({},A.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}},connectgaps:A.connectgaps,line:g,marker:e({symbol:{valType:"enumerated",values:a(r),dflt:"circle",arrayOk:!0},size:e({},f.size,{dflt:8}),sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:e({},f.opacity,{arrayOk:!1}),colorbar:f.colorbar,line:e({width:e({},u.width,{arrayOk:!1})},y("marker.line"))},y("marker")),textposition:e({},A.textposition,{dflt:"top center"}),textfont:{color:A.textfont.color,size:A.textfont.size,family:e({},A.textfont.family,{arrayOk:!1})},opacity:l.opacity,hoverinfo:e({},l.hoverinfo)},"calc","nested");w.x.editType=w.y.editType=w.z.editType="calc+clearAxisTypes"},41484:function(tt,W,t){"use strict";var A=t(20148),y=t(90136);tt.exports=function(P,L){var l=[{x:!1,y:!1,trace:L,t:{}}];return A(l,L),y(P,L),l}},45156:function(tt,W,t){"use strict";var A=t(24040);function y(L,l,m,r){if(!l||!l.visible)return null;for(var e=A.getComponentMethod("errorbars","makeComputeError")(l),s=new Array(L.length),a=0;a<L.length;a++){var h=e(+L[a],a);if("log"===r.type){var f=r.c2l(L[a]),u=L[a]-h[0],g=L[a]+h[1];if(s[a]=[(r.c2l(u,!0)-f)*m,(r.c2l(g,!0)-f)*m],u>0){var c=r.c2l(u);r._lowerLogErrorBound||(r._lowerLogErrorBound=c),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,c)}}else s[a]=[-h[0]*m,h[1]*m]}return s}tt.exports=function P(L,l,m){var r=[y(L.x,L.error_x,l[0],m.xaxis),y(L.y,L.error_y,l[1],m.yaxis),y(L.z,L.error_z,l[2],m.zaxis)],e=function i(L){for(var l=0;l<L.length;l++)if(L[l])return L[l].length;return 0}(r);if(0===e)return null;for(var s=new Array(e),a=0;a<e;a++){for(var h=[[0,0,0],[0,0,0]],f=0;f<3;f++)if(r[f])for(var u=0;u<2;u++)h[u][f]=r[f][a][u];s[a]=h}return s}},41064:function(tt,W,t){"use strict";var A=t(67792).gl_line3d,y=t(67792).gl_scatter3d,i=t(67792).gl_error3d,P=t(67792).gl_mesh3d,L=t(67792).delaunay_triangulate,l=t(3400),m=t(43080),r=t(33040).formatColor,e=t(7152),s=t(99168),a=t(87792),h=t(54460),f=t(10624).appendArrayPointValue,u=t(45156);function g(p,F){this.scene=p,this.uid=F,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=g.prototype;function o(p){return null==p?0:p.indexOf("left")>-1?-1:p.indexOf("right")>-1?1:0}function v(p){return null==p?0:p.indexOf("top")>-1?-1:p.indexOf("bottom")>-1?1:0}function b(p,F){return F(4*p)}function E(p){return a[p]}function x(p,F,D,N,k){var z=null;if(l.isArrayOrTypedArray(p)){z=[];for(var B=0;B<F;B++)z[B]=void 0===p[B]?N:D(p[B],k)}else z=D(p,l.identity);return z}function S(p,F){var H,Z,it,Q,Y,nt,D=[],N=p.fullSceneLayout,k=p.dataScale,z=N.xaxis,B=N.yaxis,O=N.zaxis,U=F.marker,G=F.line,J=F.x||[],et=F.y||[],at=F.z||[],lt=J.length,K=F.xcalendar,j=F.ycalendar,rt=F.zcalendar;for(Y=0;Y<lt;Y++)H=z.d2l(J[Y],0,K)*k[0],Z=B.d2l(et[Y],0,j)*k[1],it=O.d2l(at[Y],0,rt)*k[2],D[Y]=[H,Z,it];if(Array.isArray(F.text))nt=F.text;else if(l.isTypedArray(F.text))nt=Array.from(F.text);else if(void 0!==F.text)for(nt=new Array(lt),Y=0;Y<lt;Y++)nt[Y]=F.text;function _(le,It){var Rt=N[le];return h.tickText(Rt,Rt.d2l(It),!0).text}var st=F.texttemplate;if(st){var xt=p.fullLayout._d3locale,yt=Array.isArray(st),St=yt?Math.min(st.length,lt):lt,Et=yt?function(le){return st[le]}:function(){return st};for(nt=new Array(St),Y=0;Y<St;Y++){var Tt={x:J[Y],y:et[Y],z:at[Y]},gt={xLabel:_("xaxis",J[Y]),yLabel:_("yaxis",et[Y]),zLabel:_("zaxis",at[Y])},Mt={};f(Mt,F,Y);var Nt=F._meta||{};nt[Y]=l.texttemplateString(Et(Y),gt,xt,Mt,Tt,Nt)}}if(Q={position:D,mode:F.mode,text:nt},"line"in F&&(Q.lineColor=r(G,1,lt),Q.lineWidth=G.width,Q.lineDashes=G.dash),"marker"in F){var Gt=e(F);Q.scatterColor=r(U,1,lt),Q.scatterSize=x(U.size,lt,b,20,Gt),Q.scatterMarker=x(U.symbol,lt,E,"\u25cf"),Q.scatterLineWidth=U.line.width,Q.scatterLineColor=r(U.line,1,lt),Q.scatterAngle=0}"textposition"in F&&(Q.textOffset=function M(p){var N=[0,0];if(Array.isArray(p))for(var k=0;k<p.length;k++)N[k]=[0,0],p[k]&&(N[k][0]=o(p[k]),N[k][1]=v(p[k]));else N[0]=o(p),N[1]=v(p);return N}(F.textposition),Q.textColor=r(F.textfont,1,lt),Q.textSize=x(F.textfont.size,lt,l.identity,12),Q.textFont=F.textfont.family,Q.textAngle=0);var Pt=["x","y","z"];for(Q.project=[!1,!1,!1],Q.projectScale=[1,1,1],Q.projectOpacity=[1,1,1],Y=0;Y<3;++Y){var Vt=F.projection[Pt[Y]];(Q.project[Y]=Vt.show)&&(Q.projectOpacity[Y]=Vt.opacity,Q.projectScale[Y]=Vt.scale)}Q.errorBounds=u(F,k,N);var re=function d(p){for(var F=[0,0,0],D=[[0,0,0],[0,0,0],[0,0,0]],N=[1,1,1],k=0;k<3;k++){var z=p[k];z&&!1!==z.copy_zstyle&&!1!==p[2].visible&&(z=p[2]),z&&z.visible&&(F[k]=z.width/2,D[k]=m(z.color),N[k]=z.thickness)}return{capSize:F,color:D,lineWidth:N}}([F.error_x,F.error_y,F.error_z]);return Q.errorColor=re.color,Q.errorLineWidth=re.lineWidth,Q.errorCapSize=re.capSize,Q.delaunayAxis=F.surfaceaxis,Q.delaunayColor=m(F.surfacecolor),Q}function T(p){if(l.isArrayOrTypedArray(p)){var F=p[0];return l.isArrayOrTypedArray(F)&&(p=F),"rgb("+p.slice(0,3).map(function(D){return Math.round(255*D)})+")"}return null}function n(p){return l.isArrayOrTypedArray(p)?4===p.length&&"number"==typeof p[0]?T(p):p.map(T):null}c.handlePick=function(p){if(p.object&&(p.object===this.linePlot||p.object===this.delaunayMesh||p.object===this.textMarkers||p.object===this.scatterPlot)){var F=p.index=p.data.index;return p.object.highlight&&p.object.highlight(null),this.scatterPlot&&(p.object=this.scatterPlot,this.scatterPlot.highlight(p.data)),p.textLabel="",this.textLabels&&(l.isArrayOrTypedArray(this.textLabels)?(this.textLabels[F]||0===this.textLabels[F])&&(p.textLabel=this.textLabels[F]):p.textLabel=this.textLabels),p.traceCoordinate=[this.data.x[F],this.data.y[F],this.data.z[F]],!0}},c.update=function(p){var D,N,k,z,F=this.scene.glplot.gl,B=s.solid;this.data=p;var O=S(this.scene,p);"mode"in O&&(this.mode=O.mode),"lineDashes"in O&&O.lineDashes in s&&(B=s[O.lineDashes]),this.color=n(O.scatterColor)||n(O.lineColor),this.dataPoints=O.position,D={gl:this.scene.glplot.gl,position:O.position,color:O.lineColor,lineWidth:O.lineWidth||1,dashes:B[0],dashScale:B[1],opacity:p.opacity,connectGaps:p.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(D):(this.linePlot=A(D),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var U=p.opacity;if(p.marker&&void 0!==p.marker.opacity&&(U*=p.marker.opacity),N={gl:this.scene.glplot.gl,position:O.position,color:O.scatterColor,size:O.scatterSize,glyph:O.scatterMarker,opacity:U,orthographic:!0,lineWidth:O.scatterLineWidth,lineColor:O.scatterLineColor,project:O.project,projectScale:O.projectScale,projectOpacity:O.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(N):(this.scatterPlot=y(N),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),z={gl:this.scene.glplot.gl,position:O.position,glyph:O.text,color:O.textColor,size:O.textSize,angle:O.textAngle,alignment:O.textOffset,font:O.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:p.opacity},this.textLabels=p.hovertext||p.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(z):(this.textMarkers=y(z),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),k={gl:this.scene.glplot.gl,position:O.position,color:O.errorColor,error:O.errorBounds,lineWidth:O.errorLineWidth,capSize:O.errorCapSize,opacity:p.opacity},this.errorBars?O.errorBounds?this.errorBars.update(k):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):O.errorBounds&&(this.errorBars=i(k),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),O.delaunayAxis>=0){var G=function w(p,F,D){var O,N=(D+1)%3,k=(D+2)%3,z=[],B=[];for(O=0;O<p.length;++O){var U=p[O];isNaN(U[N])||!isFinite(U[N])||isNaN(U[k])||!isFinite(U[k])||(z.push([U[N],U[k]]),B.push(O))}var G=L(z);for(O=0;O<G.length;++O)for(var J=G[O],et=0;et<J.length;++et)J[et]=B[J[et]];return{positions:p,cells:G,meshColor:F}}(O.position,O.delaunayColor,O.delaunayAxis);G.opacity=p.opacity,this.delaunayMesh?this.delaunayMesh.update(G):(G.gl=F,this.delaunayMesh=P(G),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},tt.exports=function C(p,F){var D=new g(p,F.uid);return D.update(F),D}},83484:function(tt,W,t){"use strict";var A=t(24040),y=t(3400),i=t(43028),P=t(74428),L=t(66828),l=t(124),m=t(91592);tt.exports=function(s,a,h,f){function u(b,E){return y.coerce(s,a,m,b,E)}if(function r(e,s,a,h){var f=0,u=a("x"),g=a("y"),c=a("z");return A.getComponentMethod("calendars","handleTraceDefaults")(e,s,["x","y","z"],h),u&&g&&c&&(f=Math.min(u.length,g.length,c.length),s._length=s._xlength=s._ylength=s._zlength=f),f}(s,a,u,f)){u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),u("mode"),i.hasMarkers(a)&&P(s,a,h,f,u,{noSelect:!0,noAngle:!0}),i.hasLines(a)&&(u("connectgaps"),L(s,a,h,f,u)),i.hasText(a)&&(u("texttemplate"),l(s,a,f,u,{noSelect:!0}));var c=(a.line||{}).color,w=(a.marker||{}).color;u("surfaceaxis")>=0&&u("surfacecolor",c||w);for(var d=["x","y","z"],o=0;o<3;++o){var v="projection."+d[o];u(v+".show")&&(u(v+".opacity"),u(v+".scale"))}var M=A.getComponentMethod("errorbars","supplyDefaults");M(s,a,c||w||h,{axis:"z"}),M(s,a,c||w||h,{axis:"y",inherit:"z"}),M(s,a,c||w||h,{axis:"x",inherit:"z"})}else a.visible=!1}},3296:function(tt,W,t){"use strict";tt.exports={plot:t(41064),attributes:t(91592),markerSymbols:t(87792),supplyDefaults:t(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:t(41484),moduleType:"trace",name:"scatter3d",basePlotModule:t(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(tt,W,t){"use strict";var A=t(52904),y=t(45464),i=t(21776).Ks,P=t(21776).Gw,L=t(49084),l=t(92880).extendFlat,m=A.marker,r=A.line,e=m.line;tt.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:l({},A.mode,{dflt:"markers"}),text:l({},A.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","text"]}),hovertext:l({},A.hovertext,{}),line:{color:r.color,width:r.width,dash:r.dash,backoff:r.backoff,shape:l({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:A.connectgaps,fill:l({},A.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:A.fillcolor,marker:l({symbol:m.symbol,opacity:m.opacity,maxdisplayed:m.maxdisplayed,angle:m.angle,angleref:m.angleref,standoff:m.standoff,size:m.size,sizeref:m.sizeref,sizemin:m.sizemin,sizemode:m.sizemode,line:l({width:e.width,editType:"calc"},L("marker.line")),gradient:m.gradient,editType:"calc"},L("marker")),textfont:A.textfont,textposition:A.textposition,selected:A.selected,unselected:A.unselected,hoverinfo:l({},y.hoverinfo,{flags:["a","b","text","name"]}),hoveron:A.hoveron,hovertemplate:i()}},48228:function(tt,W,t){"use strict";var A=t(38248),y=t(90136),i=t(20148),P=t(4500),L=t(16356).calcMarkerSize,l=t(50948);tt.exports=function(r,e){var s=e._carpetTrace=l(r,e);if(s&&s.visible&&"legendonly"!==s.visible){var a;e.xaxis=s.xaxis,e.yaxis=s.yaxis;var u,g,h=e._length,f=new Array(h),c=!1;for(a=0;a<h;a++)if(g=e.b[a],A(u=e.a[a])&&A(g)){var w=s.ab2xy(+u,+g,!0),d=s.isVisible(+u,+g);d||(c=!0),f[a]={x:w[0],y:w[1],a:u,b:g,vis:d}}else f[a]={x:!1,y:!1};return e._needsCull=c,f[0].carpet=s,f[0].trace=e,L(e,h),y(r,e),i(f,e),P(f,e),f}}},6176:function(tt,W,t){"use strict";var A=t(3400),y=t(88200),i=t(43028),P=t(74428),L=t(66828),l=t(11731),m=t(124),r=t(70840),e=t(90372);tt.exports=function(a,h,f,u){function g(b,E){return A.coerce(a,h,e,b,E)}g("carpet"),h.xaxis="x",h.yaxis="y";var c=g("a"),w=g("b"),d=Math.min(c.length,w.length);if(d){h._length=d,g("text"),g("texttemplate"),g("hovertext"),g("mode",d<y.PTS_LINESONLY?"lines+markers":"lines"),i.hasMarkers(h)&&P(a,h,f,u,g,{gradient:!0}),i.hasLines(h)&&(L(a,h,f,u,g,{backoff:!0}),l(a,h,g),g("connectgaps")),i.hasText(h)&&m(a,h,u,g);var v=[];(i.hasMarkers(h)||i.hasText(h))&&(g("marker.maxdisplayed"),v.push("points")),g("fill"),"none"!==h.fill&&(r(a,h,f,g),i.hasLines(h)||l(a,h,g)),("tonext"===h.fill||"toself"===h.fill)&&v.push("fills"),"fills"!==g("hoveron",v.join("+")||"points")&&g("hovertemplate"),A.coerceSelectionMarkerOpacity(h,g)}else h.visible=!1}},89307:function(tt){"use strict";tt.exports=function(t,A,y,i,P){var L=i[P];return t.a=L.a,t.b=L.b,t.y=L.y,t}},52364:function(tt){"use strict";tt.exports=function(t,A){var y={},i=A._carpet,P=i.ab2ij([t.a,t.b]),L=Math.floor(P[0]),l=P[0]-L,m=Math.floor(P[1]),e=i.evalxy([],L,m,l,P[1]-m);return y.yLabel=e[1].toFixed(3),y}},58960:function(tt,W,t){"use strict";var A=t(98723),y=t(3400).fillText;tt.exports=function(P,L,l,m){var r=A(P,L,l,m);if(r&&!1!==r[0].index){var e=r[0];if(void 0===e.index){var a=P.xa._length,h=a*(1-e.y0/P.ya._length)/2,f=a-h;return e.x0=Math.max(Math.min(e.x0,f),h),e.x1=Math.max(Math.min(e.x1,f),h),r}var u=e.cd[e.index];e.a=u.a,e.b=u.b,e.xLabelVal=void 0,e.yLabelVal=void 0;var g=e.trace,c=g._carpet,w=g._module.formatLabels(u,g);e.yLabel=w.yLabel,delete e.text;var d=[];if(!g.hovertemplate){var M=(u.hi||g.hoverinfo).split("+");-1!==M.indexOf("all")&&(M=["a","b","text"]),-1!==M.indexOf("a")&&o(c.aaxis,u.a),-1!==M.indexOf("b")&&o(c.baxis,u.b),d.push("y: "+e.yLabel),-1!==M.indexOf("text")&&y(u,g,d),e.extraText=d.join("<br>")}return r}function o(b,E){var x;x=b.labelprefix&&b.labelprefix.length>0?b.labelprefix.replace(/ = $/,""):b._hovertitle,d.push(x+": "+E.toFixed(3)+b.labelsuffix)}}},4184:function(tt,W,t){"use strict";tt.exports={attributes:t(90372),supplyDefaults:t(6176),colorbar:t(5528),formatLabels:t(52364),calc:t(48228),plot:t(20036),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(58960),selectPoints:t(91560),eventData:t(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:t(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(tt,W,t){"use strict";var A=t(96504),y=t(54460),i=t(43616);tt.exports=function(L,l,m,r){var e,s,a,h=m[0][0].carpet,f=y.getFromId(L,h.xaxis||"x"),u=y.getFromId(L,h.yaxis||"y"),g={xaxis:f,yaxis:u,plot:l.plot};for(e=0;e<m.length;e++)(s=m[e][0].trace)._xA=f,s._yA=u;for(A(L,g,m,r),e=0;e<m.length;e++)a=r.selectAll("g.trace"+(s=m[e][0].trace).uid+" .js-line"),i.setClipUrl(a,m[e][0].carpet._clipPathId,L)}},6096:function(tt,W,t){"use strict";var A=t(21776).Ks,y=t(21776).Gw,i=t(52904),P=t(45464),L=t(49084),l=t(98192).u,m=t(92880).extendFlat,r=t(67824).overrideAll,e=i.marker,s=i.line,a=e.line;tt.exports=r({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:m({},i.mode,{dflt:"markers"}),text:m({},i.text,{}),texttemplate:y({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:m({},i.hovertext,{}),textfont:i.textfont,textposition:i.textposition,line:{color:s.color,width:s.width,dash:l},connectgaps:i.connectgaps,marker:m({symbol:e.symbol,opacity:e.opacity,angle:e.angle,angleref:m({},e.angleref,{values:["previous","up","north"]}),standoff:e.standoff,size:e.size,sizeref:e.sizeref,sizemin:e.sizemin,sizemode:e.sizemode,colorbar:e.colorbar,line:m({width:a.width},L("marker.line")),gradient:e.gradient},L("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:i.fillcolor,selected:i.selected,unselected:i.unselected,hoverinfo:m({},P.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:A()},"calc","nested")},25212:function(tt,W,t){"use strict";var A=t(38248),y=t(39032).BADNUM,i=t(90136),P=t(20148),L=t(4500),l=t(3400).isArrayOrTypedArray,m=t(3400)._;function r(e){return e&&"string"==typeof e}tt.exports=function(s,a){var g,h=l(a.locations),f=h?a.locations.length:a._length,u=new Array(f);g=a.geojson?function(M){return r(M)||A(M)}:r;for(var c=0;c<f;c++){var w=u[c]={};if(h){var d=a.locations[c];w.loc=g(d)?d:null}else{var o=a.lon[c],v=a.lat[c];w.lonlat=A(o)&&A(v)?[+o,+v]:[y,y]}}return P(u,a),i(s,a),L(u,a),f&&(u[0].t={labels:{lat:m(s,"lat:")+" ",lon:m(s,"lon:")+" "}}),u}},86188:function(tt,W,t){"use strict";var A=t(3400),y=t(43028),i=t(74428),P=t(66828),L=t(124),l=t(70840),m=t(6096);tt.exports=function(e,s,a,h){function f(M,b){return A.coerce(e,s,m,M,b)}var g,u=f("locations");if(u&&u.length){var w,c=f("geojson");("string"==typeof c&&""!==c||A.isPlainObject(c))&&(w="geojson-id"),"geojson-id"===f("locationmode",w)&&f("featureidkey"),g=u.length}else{var o=f("lon")||[],v=f("lat")||[];g=Math.min(o.length,v.length)}g?(s._length=g,f("text"),f("hovertext"),f("hovertemplate"),f("mode"),y.hasMarkers(s)&&i(e,s,a,h,f,{gradient:!0}),y.hasLines(s)&&(P(e,s,a,h,f),f("connectgaps")),y.hasText(s)&&(f("texttemplate"),L(e,s,h,f)),f("fill"),"none"!==s.fill&&l(e,s,a,f),A.coerceSelectionMarkerOpacity(s,f)):s.visible=!1}},58544:function(tt){"use strict";tt.exports=function(t,A,y,i,P){t.lon=A.lon,t.lat=A.lat,t.location=A.loc?A.loc:null;var L=i[P];return L.fIn&&L.fIn.properties&&(t.properties=L.fIn.properties),t}},56696:function(tt,W,t){"use strict";var A=t(54460);tt.exports=function(i,P,L){var l={},r=L[P.geo]._subplot.mockAxis,e=i.lonlat;return l.lonLabel=A.tickText(r,r.c2l(e[0]),!0).text,l.latLabel=A.tickText(r,r.c2l(e[1]),!0).text,l}},64292:function(tt,W,t){"use strict";var A=t(93024),y=t(39032).BADNUM,i=t(44928),P=t(3400).fillText,L=t(6096);tt.exports=function(r,e,s){var a=r.cd,h=a[0].trace,f=r.xa,u=r.ya,g=r.subplot,c=g.projection.isLonLatOverEdges,w=g.project;if(A.getClosest(a,function d(S){var T=S.lonlat;if(T[0]===y||c(T))return 1/0;var n=w(T),C=w([e,s]),p=Math.abs(n[0]-C[0]),F=Math.abs(n[1]-C[1]),D=Math.max(3,S.mrc||0);return Math.max(Math.sqrt(p*p+F*F)-D,1-3/D)},r),!1!==r.index){var o=a[r.index],v=o.lonlat,M=[f.c2p(v),u.c2p(v)],b=o.mrc||1;r.x0=M[0]-b,r.x1=M[0]+b,r.y0=M[1]-b,r.y1=M[1]+b,r.loc=o.loc,r.lon=v[0],r.lat=v[1];var E={};E[h.geo]={_subplot:g};var x=h._module.formatLabels(o,h,E);return r.lonLabel=x.lonLabel,r.latLabel=x.latLabel,r.color=i(h,o),r.extraText=function l(m,r,e,s){if(!m.hovertemplate){var a=r.hi||m.hoverinfo,h="all"===a?L.hoverinfo.flags:a.split("+"),f=-1!==h.indexOf("location")&&Array.isArray(m.locations),u=-1!==h.indexOf("lon"),g=-1!==h.indexOf("lat"),c=-1!==h.indexOf("text"),w=[];return f?w.push(r.loc):u&&g?w.push("("+d(e.latLabel)+", "+d(e.lonLabel)+")"):u?w.push(s.lon+d(e.lonLabel)):g&&w.push(s.lat+d(e.latLabel)),c&&P(r,m,w),w.join("<br>")}function d(o){return o+"\xb0"}}(h,o,r,a[0].t.labels),r.hovertemplate=h.hovertemplate,[r]}}},36952:function(tt,W,t){"use strict";tt.exports={attributes:t(6096),supplyDefaults:t(86188),colorbar:t(5528),formatLabels:t(56696),calc:t(25212),calcGeoJSON:t(48691).calcGeoJSON,plot:t(48691).plot,style:t(25064),styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(64292),eventData:t(58544),selectPoints:t(8796),moduleType:"trace",name:"scattergeo",basePlotModule:t(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=t(59972).getTopojsonFeatures,P=t(44808),L=t(27144),l=t(19280).findExtremes,m=t(39032).BADNUM,r=t(16356).calcMarkerSize,e=t(43028),s=t(25064);tt.exports={calcGeoJSON:function h(f,u){var o,v,g=f[0].trace,c=u[g.geo],w=c._subplot,d=g._length;if(y.isArrayOrTypedArray(g.locations)){var M=g.locationmode,b="geojson-id"===M?L.extractTraceFeature(f):i(g,w.topojson);for(o=0;o<d;o++){v=f[o];var E="geojson-id"===M?v.fOut:L.locationToFeature(M,v.loc,b);v.lonlat=E?E.properties.ct:[m,m]}}var S,T,x={padded:!0};if("geojson"===c.fitbounds&&"geojson-id"===g.locationmode){var n=L.computeBbox(L.getTraceGeojson(g));S=[n[0],n[2]],T=[n[1],n[3]]}else{for(S=new Array(d),T=new Array(d),o=0;o<d;o++)S[o]=(v=f[o]).lonlat[0],T[o]=v.lonlat[1];x.ppad=r(g,d)}g._extremes.lon=l(c.lonaxis._ax,S,x),g._extremes.lat=l(c.lataxis._ax,T,x)},plot:function a(f,u,g){var c=u.layers.frontplot.select(".scatterlayer"),w=y.makeTraceGroups(c,g,"trace scattergeo");function d(o,v){o.lonlat[0]===m&&A.select(v).remove()}w.selectAll("*").remove(),w.each(function(o){var v=A.select(this),M=o[0].trace;if(e.hasLines(M)||"none"!==M.fill){var b=P.calcTraceToLineCoords(o),E="none"!==M.fill?P.makePolygon(b):P.makeLine(b);v.selectAll("path.js-line").data([{geojson:E,trace:M}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}e.hasMarkers(M)&&v.selectAll("path.point").data(y.identity).enter().append("path").classed("point",!0).each(function(x){d(x,this)}),e.hasText(M)&&v.selectAll("g").data(y.identity).enter().append("g").append("text").each(function(x){d(x,this)}),s(f,o)})}}},8796:function(tt,W,t){"use strict";var A=t(43028),y=t(39032).BADNUM;tt.exports=function(P,L){var a,h,f,u,g,l=P.cd,m=P.xaxis,r=P.yaxis,e=[],s=l[0].trace;if(!A.hasMarkers(s)&&!A.hasText(s))return[];if(!1===L)for(g=0;g<l.length;g++)l[g].selected=0;else for(g=0;g<l.length;g++)(h=(a=l[g]).lonlat)[0]!==y&&(f=m.c2p(h),u=r.c2p(h),L.contains([f,u],null,g,P)?(e.push({pointNumber:g,lon:h[0],lat:h[1]}),a.selected=1):a.selected=0);return e}},25064:function(tt,W,t){"use strict";var A=t(33428),y=t(43616),i=t(76308),P=t(49224),L=P.stylePoints,l=P.styleText;tt.exports=function(e,s){s&&function m(r,e){var s=e[0].trace,a=e[0].node3;a.style("opacity",e[0].trace.opacity),L(a,s,r),l(a,s,r),a.selectAll("path.js-line").style("fill","none").each(function(h){var f=A.select(this),u=h.trace,g=u.line||{};f.call(i.stroke,g.color).call(y.dashLine,g.dash||"",g.width||0),"none"!==u.fill&&f.call(i.fill,u.fillcolor)})}(e,s)}},2876:function(tt,W,t){"use strict";var A=t(45464),y=t(52904),i=t(29736).axisHoverFormat,P=t(49084),L=t(95376),l=t(92880).extendFlat,m=t(67824).overrideAll,r=t(67072).DASHES,e=y.line,s=y.marker,a=s.line,h=tt.exports=m({x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),text:y.text,hovertext:y.hovertext,textposition:y.textposition,textfont:y.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:e.color,width:e.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:L(r),dflt:"solid"}},marker:l({},P("marker"),{symbol:s.symbol,angle:s.angle,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:s.opacity,colorbar:s.colorbar,line:l({},P("marker.line"),{width:a.width})}),connectgaps:y.connectgaps,fill:l({},y.fill,{dflt:"none"}),fillcolor:y.fillcolor,selected:{marker:y.selected.marker,textfont:y.selected.textfont},unselected:{marker:y.unselected.marker,textfont:y.unselected.textfont},opacity:A.opacity},"calc","nested");h.x.editType=h.y.editType=h.x0.editType=h.y0.editType="calc+clearAxisTypes",h.hovertemplate=y.hovertemplate,h.texttemplate=y.texttemplate},64628:function(tt,W,t){"use strict";var A=t(41272);tt.exports={moduleType:"trace",name:"scattergl",basePlotModule:t(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:t(2876),supplyDefaults:t(80220),crossTraceDefaults:t(35036),colorbar:t(5528),formatLabels:t(99396),calc:t(24856),hoverPoints:A.hoverPoints,selectPoints:t(73224),meta:{}}},24856:function(tt,W,t){"use strict";var A=t(3108),y=t(3400),i=t(79811),P=t(19280).findExtremes,L=t(1220),l=t(16356),m=l.calcMarkerSize,r=l.calcAxisExpansion,e=l.setFirstScatter,s=t(90136),a=t(84236),h=t(74588),f=t(39032).BADNUM,u=t(67072).TOO_MANY_POINTS;function g(w,d,o){var v=w._extremes[d._id],M=P(d,o._bnds,{padded:!0});v.min=v.min.concat(M.min),v.max=v.max.concat(M.max)}tt.exports=function(d,o){var C,v=d._fullLayout,M=o._xA=i.getFromId(d,o.xaxis,"x"),b=o._yA=i.getFromId(d,o.yaxis,"y"),E=v._plots[o.xaxis+o.yaxis],x=o._length,S=x>=u,T=2*x,n={},p=M.makeCalcdata(o,"x"),F=b.makeCalcdata(o,"y"),D=L(o,M,"x",p),N=L(o,b,"y",F),k=D.vals,z=N.vals;o._x=k,o._y=z,o.xperiodalignment&&(o._origX=p,o._xStarts=D.starts,o._xEnds=D.ends),o.yperiodalignment&&(o._origY=F,o._yStarts=N.starts,o._yEnds=N.ends);var B=new Array(T),O=new Array(x);for(C=0;C<x;C++)B[2*C]=k[C]===f?NaN:k[C],B[2*C+1]=z[C]===f?NaN:z[C],O[C]=C;if("log"===M.type)for(C=0;C<T;C+=2)B[C]=M.c2l(B[C]);if("log"===b.type)for(C=1;C<T;C+=2)B[C]=b.c2l(B[C]);S&&"log"!==M.type&&"log"!==b.type?n.tree=A(B):n.ids=O,s(d,o);var J,U=function c(w,d,o,v,M,b){var E=a.style(w,o);if(E.marker&&(E.marker.positions=v),E.line&&v.length>1&&y.extendFlat(E.line,a.linePositions(w,o,v)),E.errorX||E.errorY){var x=a.errorBarPositions(w,o,v,M,b);E.errorX&&y.extendFlat(E.errorX,x.x),E.errorY&&y.extendFlat(E.errorY,x.y)}return E.text&&(y.extendFlat(E.text,{positions:v},a.textPosition(w,o,E.text,E.marker)),y.extendFlat(E.textSel,{positions:v},a.textPosition(w,o,E.text,E.markerSel)),y.extendFlat(E.textUnsel,{positions:v},a.textPosition(w,o,E.text,E.markerUnsel))),E}(d,0,o,B,k,z),G=h(d,E);return e(v,o),S?U.marker&&(J=U.marker.sizeAvg||Math.max(U.marker.size,3)):J=m(o,x),r(d,o,M,b,k,z,J),U.errorX&&g(o,M,U.errorX),U.errorY&&g(o,b,U.errorY),U.fill&&!G.fill2d&&(G.fill2d=!0),U.marker&&!G.scatter2d&&(G.scatter2d=!0),U.line&&!G.line2d&&(G.line2d=!0),(U.errorX||U.errorY)&&!G.error2d&&(G.error2d=!0),U.text&&!G.glText&&(G.glText=!0),U.marker&&(U.marker.snap=x),G.lineOptions.push(U.line),G.errorXOptions.push(U.errorX),G.errorYOptions.push(U.errorY),G.fillOptions.push(U.fill),G.markerOptions.push(U.marker),G.markerSelectedOptions.push(U.markerSel),G.markerUnselectedOptions.push(U.markerUnsel),G.textOptions.push(U.text),G.textSelectedOptions.push(U.textSel),G.textUnselectedOptions.push(U.textUnsel),G.selectBatch.push([]),G.unselectBatch.push([]),n._scene=G,n.index=G.count,n.x=k,n.y=z,n.positions=B,G.count++,[{x:!1,y:!1,t:n,trace:o}]}},67072:function(tt){"use strict";tt.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(tt,W,t){"use strict";var A=t(38248),y=t(20472),i=t(72160),P=t(24040),L=t(3400),l=L.isArrayOrTypedArray,m=t(43616),r=t(79811),e=t(33040).formatColor,s=t(43028),a=t(7152),h=t(80088),f=t(67072),u=t(13448).DESELECTDIM,g={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},c=t(10624).appendArrayPointValue;function d(N,k){var K,z=N._fullLayout,B=k._length,O=k.textfont,U=k.textposition,G=l(U)?U:[U],J=O.color,et=O.size,at=O.family,lt={},j=N._context.plotGlPixelRatio,rt=k.texttemplate;if(rt){lt.text=[];var H=z._d3locale,Z=Array.isArray(rt),it=Z?Math.min(rt.length,B):B,Q=Z?function(yt){return rt[yt]}:function(){return rt};for(K=0;K<it;K++){var Y={i:K},nt=k._module.formatLabels(Y,k,z),_={};c(_,k,K);var st=k._meta||{};lt.text.push(L.texttemplateString(Q(K),nt,H,_,Y,st))}}else lt.text=l(k.text)&&k.text.length<B?k.text.slice():k.text;if(l(lt.text))for(K=lt.text.length;K<B;K++)lt.text[K]="";for(lt.opacity=k.opacity,lt.font={},lt.align=[],lt.baseline=[],K=0;K<G.length;K++){var dt=G[K].split(/\s+/);switch(dt[1]){case"left":lt.align.push("right");break;case"right":lt.align.push("left");break;default:lt.align.push(dt[1])}switch(dt[0]){case"top":lt.baseline.push("bottom");break;case"bottom":lt.baseline.push("top");break;default:lt.baseline.push(dt[0])}}if(l(J))for(lt.color=new Array(B),K=0;K<B;K++)lt.color[K]=J[K];else lt.color=J;if(l(et)||l(at))for(lt.font=new Array(B),K=0;K<B;K++){var xt=lt.font[K]={};xt.size=(L.isTypedArray(et)?et[K]:l(et)?A(et[K])?et[K]:0:et)*j,xt.family=l(at)?at[K]:at}else lt.font={size:et*j,family:at};return lt}function o(N,k){var U,rt,z=k._length,B=k.marker,O={},G=l(B.symbol),J=l(B.angle),et=l(B.color),at=l(B.line.color),lt=l(B.opacity),K=l(B.size),j=l(B.line.width);if(G||(rt=h.isOpenSymbol(B.symbol)),G||et||at||lt||J){O.symbols=new Array(z),O.angles=new Array(z),O.colors=new Array(z),O.borderColors=new Array(z);var H=B.symbol,Z=B.angle,it=e(B,B.opacity,z),Q=e(B.line,B.opacity,z);if(!l(Q[0])){var Y=Q;for(Q=Array(z),U=0;U<z;U++)Q[U]=Y}if(!l(it[0])){var nt=it;for(it=Array(z),U=0;U<z;U++)it[U]=nt}if(!l(H)){var _=H;for(H=Array(z),U=0;U<z;U++)H[U]=_}if(!l(Z)){var st=Z;for(Z=Array(z),U=0;U<z;U++)Z[U]=st}for(O.symbols=H,O.angles=Z,O.colors=it,O.borderColors=Q,U=0;U<z;U++)G&&(rt=h.isOpenSymbol(B.symbol[U])),rt&&(Q[U]=it[U].slice(),it[U]=it[U].slice(),it[U][3]=0);for(O.opacity=k.opacity,O.markers=new Array(z),U=0;U<z;U++)O.markers[U]=C({mx:O.symbols[U],ma:O.angles[U]},k)}else rt?(O.color=i(B.color,"uint8"),O.color[3]=0,O.borderColor=i(B.color,"uint8")):(O.color=i(B.color,"uint8"),O.borderColor=i(B.line.color,"uint8")),O.opacity=k.opacity*B.opacity,O.marker=C({mx:B.symbol,ma:B.angle},k);var yt,xt=a(k,1);if(K||j){var gt,St=O.sizes=new Array(z),Et=O.borderSizes=new Array(z),Tt=0;if(K){for(U=0;U<z;U++)St[U]=xt(B.size[U]),Tt+=St[U];gt=Tt/z}else for(yt=xt(B.size),U=0;U<z;U++)St[U]=yt;if(j)for(U=0;U<z;U++)Et[U]=B.line.width[U];else for(yt=B.line.width,U=0;U<z;U++)Et[U]=yt;O.sizeAvg=gt}else O.size=xt(B&&B.size||10),O.borderSizes=xt(B.line.width);return O}function v(N,k,z){var O={};return z&&(z.marker&&z.marker.symbol?O=o(0,L.extendFlat({},k.marker,z.marker)):z.marker&&(z.marker.size&&(O.size=z.marker.size),z.marker.color&&(O.colors=z.marker.color),void 0!==z.marker.opacity&&(O.opacity=z.marker.opacity))),O}function M(N,k,z){var B={};if(!z)return B;if(z.textfont){var O={opacity:1,text:k.text,texttemplate:k.texttemplate,textposition:k.textposition,textfont:L.extendFlat({},k.textfont)};z.textfont&&L.extendFlat(O.textfont,z.textfont),B=d(N,O)}return B}function b(N,k,z){var B={capSize:2*k.width*z,lineWidth:k.thickness*z,color:k.color};return k.copy_ystyle&&(B=N.error_y),B}var E=f.SYMBOL_SDF_SIZE,x=f.SYMBOL_SIZE,S=f.SYMBOL_STROKE,T={},n=m.symbolFuncs[0](.05*x);function C(N,k){var z=N.mx;if("circle"===z)return null;var B,O,U=m.symbolNumber(z),G=m.symbolFuncs[U%100],J=!!m.symbolNoDot[U%100],et=!!m.symbolNoFill[U%100],at=h.isDotSymbol(z);if(N.ma&&(z+="_"+N.ma),T[z])return T[z];var lt=m.getMarkerAngle(N,k);return B=at&&!J?G(1.1*x,lt)+n:G(x,lt),O=y(B,{w:E,h:E,viewBox:[-x,-x,x,x],stroke:et?S:-S}),T[z]=O,O||null}tt.exports={style:function w(N,k){var z,B={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},O=N._context.plotGlPixelRatio;if(!0!==k.visible)return B;if(s.hasText(k)&&(B.text=d(N,k),B.textSel=M(N,k,k.selected),B.textUnsel=M(N,k,k.unselected)),s.hasMarkers(k)&&(B.marker=o(0,k),B.markerSel=v(N,k,k.selected),B.markerUnsel=v(N,k,k.unselected),!k.unselected&&l(k.marker.opacity))){var U=k.marker.opacity;for(B.markerUnsel.opacity=new Array(U.length),z=0;z<U.length;z++)B.markerUnsel.opacity[z]=u*U[z]}if(s.hasLines(k)){B.line={overlay:!0,thickness:k.line.width*O,color:k.line.color,opacity:k.opacity};var G=(f.DASHES[k.line.dash]||[1]).slice();for(z=0;z<G.length;++z)G[z]*=k.line.width*O;B.line.dashes=G}return k.error_x&&k.error_x.visible&&(B.errorX=b(k,k.error_x,O)),k.error_y&&k.error_y.visible&&(B.errorY=b(k,k.error_y,O)),!!k.fill&&"none"!==k.fill&&(B.fill={closed:!0,fill:k.fillcolor,thickness:0}),B},markerStyle:o,markerSelection:v,linePositions:function p(N,k,z){var U,G,B=z.length,O=B/2;if(s.hasLines(k)&&O)if("hv"===k.line.shape){for(U=[],G=0;G<O-1;G++)isNaN(z[2*G])||isNaN(z[2*G+1])?U.push(NaN,NaN,NaN,NaN):(U.push(z[2*G],z[2*G+1]),isNaN(z[2*G+2])||isNaN(z[2*G+3])?U.push(NaN,NaN):U.push(z[2*G+2],z[2*G+1]));U.push(z[B-2],z[B-1])}else if("hvh"===k.line.shape){for(U=[],G=0;G<O-1;G++)if(isNaN(z[2*G])||isNaN(z[2*G+1])||isNaN(z[2*G+2])||isNaN(z[2*G+3]))isNaN(z[2*G])||isNaN(z[2*G+1])?U.push(NaN,NaN):U.push(z[2*G],z[2*G+1]),U.push(NaN,NaN);else{var J=(z[2*G]+z[2*G+2])/2;U.push(z[2*G],z[2*G+1],J,z[2*G+1],J,z[2*G+3])}U.push(z[B-2],z[B-1])}else if("vhv"===k.line.shape){for(U=[],G=0;G<O-1;G++)if(isNaN(z[2*G])||isNaN(z[2*G+1])||isNaN(z[2*G+2])||isNaN(z[2*G+3]))isNaN(z[2*G])||isNaN(z[2*G+1])?U.push(NaN,NaN):U.push(z[2*G],z[2*G+1]),U.push(NaN,NaN);else{var et=(z[2*G+1]+z[2*G+3])/2;U.push(z[2*G],z[2*G+1],z[2*G],et,z[2*G+2],et)}U.push(z[B-2],z[B-1])}else if("vh"===k.line.shape){for(U=[],G=0;G<O-1;G++)isNaN(z[2*G])||isNaN(z[2*G+1])?U.push(NaN,NaN,NaN,NaN):(U.push(z[2*G],z[2*G+1]),isNaN(z[2*G+2])||isNaN(z[2*G+3])?U.push(NaN,NaN):U.push(z[2*G],z[2*G+3]));U.push(z[B-2],z[B-1])}else U=z;var at=!1;for(G=0;G<U.length;G++)if(isNaN(U[G])){at=!0;break}var lt=at||U.length>f.TOO_MANY_POINTS||s.hasMarkers(k)?"rect":"round";if(at&&k.connectgaps){var K=U[0],j=U[1];for(G=0;G<U.length;G+=2)isNaN(U[G])||isNaN(U[G+1])?(U[G]=K,U[G+1]=j):(K=U[G],j=U[G+1])}return{join:lt,positions:U}},errorBarPositions:function F(N,k,z,B,O){var U=P.getComponentMethod("errorbars","makeComputeError"),G=r.getFromId(N,k.xaxis,"x"),J=r.getFromId(N,k.yaxis,"y"),et=z.length/2,at={};function lt(K,j){var rt=j._id.charAt(0),H=k["error_"+rt];if(H&&H.visible&&("linear"===j.type||"log"===j.type)){for(var Z=U(H),it={x:0,y:1}[rt],Q={x:[0,1,2,3],y:[2,3,0,1]}[rt],Y=new Float64Array(4*et),nt=1/0,_=-1/0,st=0,dt=0;st<et;st++,dt+=4){var xt=K[st];if(A(xt)){var yt=z[2*st+it],St=Z(xt,st),Et=St[0],Tt=St[1];if(A(Et)&&A(Tt)){var Mt=xt+Tt;Y[dt+Q[0]]=yt-j.c2l(xt-Et),Y[dt+Q[1]]=j.c2l(Mt)-yt,Y[dt+Q[2]]=0,Y[dt+Q[3]]=0,nt=Math.min(nt,xt-Et),_=Math.max(_,xt+Tt)}}}at[rt]={positions:z,errors:Y,_bnds:[nt,_]}}}return lt(B,G),lt(O,J),at},textPosition:function D(N,k,z,B){var G,O=k._length,U={};if(s.hasMarkers(k)){var J=z.font,et=z.align,at=z.baseline;for(U.offset=new Array(O),G=0;G<O;G++){var lt=B.sizes?B.sizes[G]:B.size,K=l(J)?J[G].size:J.size,j=l(et)?et.length>1?et[G]:et[0]:et,rt=l(at)?at.length>1?at[G]:at[0]:at,Z=g[rt],it=lt?lt/.8+1:0;U.offset[G]=[g[j]*it/K,(-Z*it-.5*Z)/K]}}return U}}},80220:function(tt,W,t){"use strict";var A=t(3400),y=t(24040),i=t(80088),P=t(2876),L=t(88200),l=t(43028),m=t(43980),r=t(31147),e=t(74428),s=t(66828),a=t(70840),h=t(124);tt.exports=function(u,g,c,w){function d(T,n){return A.coerce(u,g,P,T,n)}var o=!!u.marker&&i.isOpenSymbol(u.marker.symbol),v=l.isBubble(u),M=m(u,g,w,d);if(M){r(u,g,w,d),d("xhoverformat"),d("yhoverformat");var b=M<L.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("hovertemplate"),d("mode",b),l.hasMarkers(g)&&(e(u,g,c,w,d,{noAngleRef:!0,noStandOff:!0}),d("marker.line.width",o||v?1:0)),l.hasLines(g)&&(d("connectgaps"),s(u,g,c,w,d),d("line.shape")),l.hasText(g)&&(d("texttemplate"),h(u,g,w,d));var E=(g.line||{}).color,x=(g.marker||{}).color;d("fill"),"none"!==g.fill&&a(u,g,c,d);var S=y.getComponentMethod("errorbars","supplyDefaults");S(u,g,E||x||c,{axis:"y"}),S(u,g,E||x||c,{axis:"x",inherit:"y"}),A.coerceSelectionMarkerOpacity(g,d)}else g.visible=!1}},26768:function(tt,W,t){"use strict";var A=t(3400),y=t(76308),i=t(13448).DESELECTDIM;tt.exports={styleTextSelection:function P(L){var w,d,l=L[0],m=l.trace,r=l.t,e=r._scene,s=r.index,a=e.selectBatch[s],h=e.unselectBatch[s],f=e.textOptions[s],u=e.textSelectedOptions[s]||{},g=e.textUnselectedOptions[s]||{},c=A.extendFlat({},f);if(a.length||h.length){var o=u.color,v=g.color,M=f.color,b=A.isArrayOrTypedArray(M);for(c.color=new Array(m._length),w=0;w<a.length;w++)c.color[d=a[w]]=o||(b?M[d]:M);for(w=0;w<h.length;w++){d=h[w];var E=b?M[d]:M;c.color[d]=v||(o?E:y.addOpacity(E,i))}}e.glText[s].update(c)}}},99396:function(tt,W,t){"use strict";var A=t(76688);tt.exports=function(i,P,L){var l=i.i;return"x"in i||(i.x=P._x[l]),"y"in i||(i.y=P._y[l]),A(i,P,L)}},80088:function(tt,W,t){"use strict";var A=t(67072);W.isOpenSymbol=function(y){return"string"==typeof y?A.OPEN_RE.test(y):y%200>100},W.isDotSymbol=function(y){return"string"==typeof y?A.DOT_RE.test(y):y>200}},41272:function(tt,W,t){"use strict";var A=t(24040),y=t(3400),i=t(44928);function L(l,m,r,e){var s=l.xa,a=l.ya,h=l.distance,f=l.dxy,u=l.index,g={pointNumber:u,x:m[u],y:r[u]};g.tx=y.isArrayOrTypedArray(e.text)?e.text[u]:e.text,g.htx=Array.isArray(e.hovertext)?e.hovertext[u]:e.hovertext,g.data=Array.isArray(e.customdata)?e.customdata[u]:e.customdata,g.tp=Array.isArray(e.textposition)?e.textposition[u]:e.textposition;var c=e.textfont;c&&(g.ts=y.isArrayOrTypedArray(c.size)?c.size[u]:c.size,g.tc=Array.isArray(c.color)?c.color[u]:c.color,g.tf=Array.isArray(c.family)?c.family[u]:c.family);var w=e.marker;w&&(g.ms=y.isArrayOrTypedArray(w.size)?w.size[u]:w.size,g.mo=y.isArrayOrTypedArray(w.opacity)?w.opacity[u]:w.opacity,g.mx=y.isArrayOrTypedArray(w.symbol)?w.symbol[u]:w.symbol,g.ma=y.isArrayOrTypedArray(w.angle)?w.angle[u]:w.angle,g.mc=y.isArrayOrTypedArray(w.color)?w.color[u]:w.color);var d=w&&w.line;d&&(g.mlc=Array.isArray(d.color)?d.color[u]:d.color,g.mlw=y.isArrayOrTypedArray(d.width)?d.width[u]:d.width);var o=w&&w.gradient;o&&"none"!==o.type&&(g.mgt=Array.isArray(o.type)?o.type[u]:o.type,g.mgc=Array.isArray(o.color)?o.color[u]:o.color);var v=s.c2p(g.x,!0),M=a.c2p(g.y,!0),b=g.mrc||1,E=e.hoverlabel;E&&(g.hbg=Array.isArray(E.bgcolor)?E.bgcolor[u]:E.bgcolor,g.hbc=Array.isArray(E.bordercolor)?E.bordercolor[u]:E.bordercolor,g.hts=y.isArrayOrTypedArray(E.font.size)?E.font.size[u]:E.font.size,g.htc=Array.isArray(E.font.color)?E.font.color[u]:E.font.color,g.htf=Array.isArray(E.font.family)?E.font.family[u]:E.font.family,g.hnl=y.isArrayOrTypedArray(E.namelength)?E.namelength[u]:E.namelength);var x=e.hoverinfo;x&&(g.hi=Array.isArray(x)?x[u]:x);var S=e.hovertemplate;S&&(g.ht=Array.isArray(S)?S[u]:S);var T={};T[l.index]=g;var n=e._origX,C=e._origY,p=y.extendFlat({},l,{color:i(e,g),x0:v-b,x1:v+b,xLabelVal:n?n[u]:g.x,y0:M-b,y1:M+b,yLabelVal:C?C[u]:g.y,cd:T,distance:h,spikeDistance:f,hovertemplate:g.ht});return g.htx?p.text=g.htx:g.tx?p.text=g.tx:e.text&&(p.text=e.text),y.fillText(g,e,p),A.getComponentMethod("errorbars","hoverInfo")(g,e,p),p}tt.exports={hoverPoints:function P(l,m,r,e){var v,s=l.cd,a=s[0].t,h=s[0].trace,f=l.xa,u=l.ya,g=a.x,c=a.y,w=f.c2p(m),d=u.c2p(r),o=l.distance;if(a.tree){var M=f.p2c(w-o),b=f.p2c(w+o),E=u.p2c(d-o),x=u.p2c(d+o);v="x"===e?a.tree.range(Math.min(M,b),Math.min(u._rl[0],u._rl[1]),Math.max(M,b),Math.max(u._rl[0],u._rl[1])):a.tree.range(Math.min(M,b),Math.min(E,x),Math.max(M,b),Math.max(E,x))}else v=a.ids;var S,T,n,C,p,F,D,N,k,z=o;if("x"===e){var B=!!h.xperiodalignment,O=!!h.yperiodalignment;for(p=0;p<v.length;p++){if(n=g[S=v[p]],F=Math.abs(f.c2p(n)-w),B){var U=f.c2p(h._xStarts[S]),G=f.c2p(h._xEnds[S]);F=w>=Math.min(U,G)&&w<=Math.max(U,G)?0:1/0}if(F<z){if(z=F,D=u.c2p(C=c[S])-d,O){var J=u.c2p(h._yStarts[S]),et=u.c2p(h._yEnds[S]);D=d>=Math.min(J,et)&&d<=Math.max(J,et)?0:1/0}k=Math.sqrt(F*F+D*D),T=v[p]}}}else for(p=v.length-1;p>-1;p--)C=c[S=v[p]],F=f.c2p(n=g[S])-w,D=u.c2p(C)-d,(N=Math.sqrt(F*F+D*D))<z&&(z=k=N,T=S);return l.index=T,l.distance=z,l.dxy=k,void 0===T?[l]:[L(l,g,c,h)]},calcHover:L}},38983:function(tt,W,t){"use strict";var A=t(64628);A.plot=t(89876),tt.exports=A},89876:function(tt,W,t){"use strict";var A=t(38540),y=t(13472),i=t(24544),P=t(23352),L=t(3400),l=t(72760).selectMode,m=t(5048),r=t(43028),e=t(14328),s=t(26768).styleTextSelection,a={};function h(u,g,c,w){var d=u._size,S=d.w*w,T=d.h*w;return[d.l*w+g.domain[0]*S,d.b*w+c.domain[0]*T,u.width*w-d.r*w-(1-g.domain[1])*S,u.height*w-d.t*w-(1-c.domain[1])*T]}(tt.exports=function(g,c,w){if(w.length){var b,E,d=g._fullLayout,o=c._scene,v=c.xaxis,M=c.yaxis;if(o){if(!m(g,["ANGLE_instanced_arrays","OES_element_index_uint"],a))return void o.init();var S=o.count,T=d._glcanvas.data()[0].regl;if(e(g,c,w),o.dirty){if((o.line2d||o.error2d)&&!(o.scatter2d||o.fill2d||o.glText)&&T.clear({}),!0===o.error2d&&(o.error2d=i(T)),!0===o.line2d&&(o.line2d=y(T)),!0===o.scatter2d&&(o.scatter2d=A(T)),!0===o.fill2d&&(o.fill2d=y(T)),!0===o.glText)for(o.glText=new Array(S),b=0;b<S;b++)o.glText[b]=new P(T);if(o.glText){if(S>o.glText.length){var n=S-o.glText.length;for(b=0;b<n;b++)o.glText.push(new P(T))}else S<o.glText.length&&o.glText.splice(S,o.glText.length-S).forEach(function(Q){Q.destroy()});for(b=0;b<S;b++)o.glText[b].update(o.textOptions[b])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(Q){if(Q&&Q.positions){for(var Y=Q.positions,nt=0;nt<Y.length&&(isNaN(Y[nt])||isNaN(Y[nt+1]));)nt+=2;for(var _=Y.length-2;_>nt&&(isNaN(Y[_])||isNaN(Y[_+1]));)_-=2;Q.positions=Y.slice(nt,_+2)}return Q}),o.line2d.update(o.lineOptions)),o.error2d){var F=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(F)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=L.repeat(null,S),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(Q,Y){var nt=w[Y];if(Q&&nt&&nt[0]&&nt[0].trace){var yt,St,_=nt[0],st=_.trace,dt=_.t,xt=o.lineOptions[Y],Et=[];st._ownfill&&Et.push(Y),st._nexttrace&&Et.push(Y+1),Et.length&&(o.fillOrder[Y]=Et);var Mt,Nt,Tt=[],gt=xt&&xt.positions||dt.positions;if("tozeroy"===st.fill){for(Mt=0;Mt<gt.length&&isNaN(gt[Mt+1]);)Mt+=2;for(Nt=gt.length-2;Nt>Mt&&isNaN(gt[Nt+1]);)Nt-=2;0!==gt[Mt+1]&&(Tt=[gt[Mt],0]),Tt=Tt.concat(gt.slice(Mt,Nt+2)),0!==gt[Nt+1]&&(Tt=Tt.concat([gt[Nt],0]))}else if("tozerox"===st.fill){for(Mt=0;Mt<gt.length&&isNaN(gt[Mt]);)Mt+=2;for(Nt=gt.length-2;Nt>Mt&&isNaN(gt[Nt]);)Nt-=2;0!==gt[Mt]&&(Tt=[0,gt[Mt+1]]),Tt=Tt.concat(gt.slice(Mt,Nt+2)),0!==gt[Nt]&&(Tt=Tt.concat([0,gt[Nt+1]]))}else if("toself"===st.fill||"tonext"===st.fill){for(Tt=[],yt=0,Q.splitNull=!0,St=0;St<gt.length;St+=2)(isNaN(gt[St])||isNaN(gt[St+1]))&&((Tt=Tt.concat(gt.slice(yt,St))).push(gt[yt],gt[yt+1]),Tt.push(null,null),yt=St+2);Tt=Tt.concat(gt.slice(yt)),yt&&Tt.push(gt[yt],gt[yt+1])}else{var Gt=st._nexttrace;if(Gt){var Pt=o.lineOptions[Y+1];if(Pt){var Vt=Pt.positions;if("tonexty"===st.fill){for(Tt=gt.slice(),Y=Math.floor(Vt.length/2);Y--;){var re=Vt[2*Y],le=Vt[2*Y+1];isNaN(re)||isNaN(le)||Tt.push(re,le)}Q.fill=Gt.fillcolor}}}}if(st._prevtrace&&"tonext"===st._prevtrace.fill){var It=o.lineOptions[Y-1].positions,Rt=Tt.length/2,$t=[yt=Rt];for(St=0;St<It.length;St+=2)(isNaN(It[St])||isNaN(It[St+1]))&&($t.push(St/2+Rt+1),yt=St+2);Tt=Tt.concat(It),Q.hole=$t}return Q.fillmode=st.fill,Q.opacity=st.opacity,Q.positions=Tt,Q}}),o.fill2d.update(o.fillOptions))}var N=l(d.dragmode),k=d.clickmode.indexOf("select")>-1;for(b=0;b<S;b++){var z=w[b][0],B=z.trace,O=z.t,U=O.index,G=B._length,J=O.x,et=O.y;if(B.selectedpoints||N||k){if(N||(N=!0),B.selectedpoints){var at=o.selectBatch[U]=L.selIndices2selPoints(B),lt={};for(E=0;E<at.length;E++)lt[at[E]]=1;var K=[];for(E=0;E<G;E++)lt[E]||K.push(E);o.unselectBatch[U]=K}var j=O.xpx=new Array(G),rt=O.ypx=new Array(G);for(E=0;E<G;E++)j[E]=v.c2p(J[E]),rt[E]=M.c2p(et[E])}else O.xpx=O.ypx=null}if(N){if(o.select2d||(o.select2d=A(d._glcanvas.data()[1].regl)),o.scatter2d){var H=new Array(S);for(b=0;b<S;b++)H[b]=o.selectBatch[b].length||o.unselectBatch[b].length?o.markerUnselectedOptions[b]:{};o.scatter2d.update(H)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&w.forEach(function(Q){r.hasText(((Q||[])[0]||{}).trace||{})&&s(Q)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var Z={viewport:h(d,v,M,g._context.plotGlPixelRatio),range:[(v._rl||v.range)[0],(M._rl||M.range)[0],(v._rl||v.range)[1],(M._rl||M.range)[1]]},it=L.repeat(Z,o.count);o.fill2d&&o.fill2d.update(it),o.line2d&&o.line2d.update(it),o.error2d&&o.error2d.update(it.concat(it)),o.scatter2d&&o.scatter2d.update(it),o.select2d&&o.select2d.update(it),o.glText&&o.glText.forEach(function(Q){Q.update(Z)})}}}).reglPrecompiled=a},74588:function(tt,W,t){"use strict";var A=t(3400);tt.exports=function(i,P){var L=P._scene,l={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},m={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return P._scene||((L=P._scene={}).init=function(){A.extendFlat(L,m,l)},L.init(),L.update=function(e){var s=A.repeat(e,L.count);if(L.fill2d&&L.fill2d.update(s),L.scatter2d&&L.scatter2d.update(s),L.line2d&&L.line2d.update(s),L.error2d&&L.error2d.update(s.concat(s)),L.select2d&&L.select2d.update(s),L.glText)for(var a=0;a<L.count;a++)L.glText[a].update(e)},L.draw=function(){for(var e=L.count,s=L.fill2d,a=L.error2d,h=L.line2d,f=L.scatter2d,u=L.glText,g=L.select2d,c=L.selectBatch,w=L.unselectBatch,d=0;d<e;d++){if(s&&L.fillOrder[d]&&s.draw(L.fillOrder[d]),h&&L.lineOptions[d]&&h.draw(d),a&&(L.errorXOptions[d]&&a.draw(d),L.errorYOptions[d]&&a.draw(d+e)),f&&L.markerOptions[d])if(w[d].length){var o=A.repeat([],L.count);o[d]=w[d],f.draw(o)}else c[d].length||f.draw(d);u[d]&&L.textOptions[d]&&u[d].render()}g&&g.draw(c),L.dirty=!1},L.destroy=function(){L.fill2d&&L.fill2d.destroy&&L.fill2d.destroy(),L.scatter2d&&L.scatter2d.destroy&&L.scatter2d.destroy(),L.error2d&&L.error2d.destroy&&L.error2d.destroy(),L.line2d&&L.line2d.destroy&&L.line2d.destroy(),L.select2d&&L.select2d.destroy&&L.select2d.destroy(),L.glText&&L.glText.forEach(function(e){e.destroy&&e.destroy()}),L.lineOptions=null,L.fillOptions=null,L.markerOptions=null,L.markerSelectedOptions=null,L.markerUnselectedOptions=null,L.errorXOptions=null,L.errorYOptions=null,L.textOptions=null,L.textSelectedOptions=null,L.textUnselectedOptions=null,L.selectBatch=null,L.unselectBatch=null,P._scene=null}),L.dirty||A.extendFlat(L,l),L}},73224:function(tt,W,t){"use strict";var A=t(43028),y=t(26768).styleTextSelection;tt.exports=function(P,L){var l=P.cd,m=P.xaxis,r=P.yaxis,e=[],s=l[0].trace,a=l[0].t,h=s._length,f=a.x,u=a.y,g=a._scene,c=a.index;if(!g)return e;var w=A.hasText(s),d=A.hasMarkers(s);if(!0!==s.visible||!d&&!w)return e;var v=[],M=[];if(!1!==L&&!L.degenerate)for(var b=0;b<h;b++)L.contains([a.xpx[b],a.ypx[b]],!1,b,P)?(v.push(b),e.push({pointNumber:b,x:m.c2d(f[b]),y:r.c2d(u[b])})):M.push(b);if(d){var E=g.scatter2d;if(v.length||M.length){if(!g.selectBatch[c].length&&!g.unselectBatch[c].length){var S=new Array(g.count);S[c]=g.markerUnselectedOptions[c],E.update.apply(E,S)}}else{var x=new Array(g.count);x[c]=g.markerOptions[c],E.update.apply(E,x)}}return g.selectBatch[c]=v,g.unselectBatch[c]=M,w&&y(l),e}},31512:function(tt,W,t){"use strict";var A=t(21776).Ks,y=t(21776).Gw,i=t(6096),P=t(52904),L=t(5232),l=t(45464),m=t(49084),r=t(92880).extendFlat,e=t(67824).overrideAll,s=t(5232),a=i.line,h=i.marker;tt.exports=e({lon:i.lon,lat:i.lat,cluster:{enabled:{valType:"boolean"},maxzoom:r({},s.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:r({},h.opacity,{dflt:1})},mode:r({},P.mode,{dflt:"markers"}),text:r({},P.text,{}),texttemplate:y({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:r({},P.hovertext,{}),line:{color:a.color,width:a.width},connectgaps:P.connectgaps,marker:r({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:h.opacity,size:h.size,sizeref:h.sizeref,sizemin:h.sizemin,sizemode:h.sizemode},m("marker")),fill:i.fill,fillcolor:P.fillcolor,textfont:L.layers.symbol.textfont,textposition:L.layers.symbol.textposition,below:{valType:"string"},selected:{marker:P.selected.marker},unselected:{marker:P.unselected.marker},hoverinfo:r({},l.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:A()},"calc","nested")},59392:function(tt,W,t){"use strict";var A=t(38248),y=t(3400),i=t(39032).BADNUM,P=t(44808),L=t(8932),l=t(43616),m=t(7152),r=t(43028),e=t(89032),s=t(10624).appendArrayPointValue,a=t(72736).NEWLINES,h=t(72736).BR_TAG_ALL;function f(v){return{type:v,geojson:P.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function c(v,M){return y.isArrayOrTypedArray(v)?M?function(b){return A(v[b])?+v[b]:0}:function(b){return v[b]}:v?function(){return v}:w}function w(){return""}function d(v){return v[0]===i}function o(v,M){var b;if(y.isArrayOrTypedArray(v)&&y.isArrayOrTypedArray(M)){b=["step",["get","point_count"],v[0]];for(var E=1;E<v.length;E++)b.push(M[E-1],v[E])}else b=v;return b}tt.exports=function(M,b){var U,E=b[0].trace,x=!0===E.visible&&0!==E._length,S="none"!==E.fill,T=r.hasLines(E),n=r.hasMarkers(E),C=r.hasText(E),p=n&&"circle"===E.marker.symbol,F=n&&"circle"!==E.marker.symbol,D=E.cluster&&E.cluster.enabled,N=f("fill"),k=f("line"),z=f("circle"),B=f("symbol"),O={fill:N,line:k,circle:z,symbol:B};if(!x)return O;if((S||T)&&(U=P.calcTraceToLineCoords(b)),S&&(N.geojson=P.makePolygon(U),N.layout.visibility="visible",y.extendFlat(N.paint,{"fill-color":E.fillcolor})),T&&(k.geojson=P.makeLine(U),k.layout.visibility="visible",y.extendFlat(k.paint,{"line-width":E.line.width,"line-color":E.line.color,"line-opacity":E.opacity})),p){var G=function u(v){var n,F,D,N,M=v[0].trace,b=M.marker,E=M.selectedpoints,x=y.isArrayOrTypedArray(b.color),S=y.isArrayOrTypedArray(b.size),T=y.isArrayOrTypedArray(b.opacity);function C(J){return M.opacity*J}x&&(F=L.hasColorscale(M,"marker")?L.makeColorScaleFuncFromTrace(b):y.identity),S&&(D=m(M)),T&&(N=function(J){return C(A(J)?+y.constrain(J,0,1):0)});var U,k=[];for(n=0;n<v.length;n++){var z=v[n],B=z.lonlat;if(!d(B)){var O={};F&&(O.mcc=z.mcc=F(z.mc)),D&&(O.mrc=z.mrc=D(z.ms)),N&&(O.mo=N(z.mo)),E&&(O.selected=z.selected||0),k.push({type:"Feature",id:n+1,geometry:{type:"Point",coordinates:B},properties:O})}}if(E)for(U=l.makeSelectedPointStyleFns(M),n=0;n<k.length;n++){var G=k[n].properties;U.selectedOpacityFn&&(G.mo=C(U.selectedOpacityFn(G))),U.selectedColorFn&&(G.mcc=U.selectedColorFn(G)),U.selectedSizeFn&&(G.mrc=U.selectedSizeFn(G))}return{geojson:{type:"FeatureCollection",features:k},mcc:x||U&&U.selectedColorFn?{type:"identity",property:"mcc"}:b.color,mrc:S||U&&U.selectedSizeFn?{type:"identity",property:"mrc"}:function p(J){return J/2}(b.size),mo:T||U&&U.selectedOpacityFn?{type:"identity",property:"mo"}:C(b.opacity)}}(b);z.geojson=G.geojson,z.layout.visibility="visible",D&&(z.filter=["!",["has","point_count"]],O.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":o(E.cluster.color,E.cluster.step),"circle-radius":o(E.cluster.size,E.cluster.step),"circle-opacity":o(E.cluster.opacity,E.cluster.step)}},O.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),y.extendFlat(z.paint,{"circle-color":G.mcc,"circle-radius":G.mrc,"circle-opacity":G.mo})}if(p&&D&&(z.filter=["!",["has","point_count"]]),(F||C)&&(B.geojson=function g(v,M){for(var b=M._fullLayout,E=v[0].trace,x=E.marker||{},S=x.symbol,T=x.angle,n="circle"!==S?c(S):w,C="auto"!==T?c(T,!0):w,p=r.hasText(E)?c(E.text):w,F=[],D=0;D<v.length;D++){var N=v[D];if(!d(N.lonlat)){var z,k=E.texttemplate;if(k){var B=Array.isArray(k)?k[D]||"":k,O=E._module.formatLabels(N,E,b),U={};s(U,E,N.i),z=y.texttemplateString(B,O,b._d3locale,U,N,E._meta||{})}else z=p(D);z&&(z=z.replace(a,"").replace(h,"\n")),F.push({type:"Feature",geometry:{type:"Point",coordinates:N.lonlat},properties:{symbol:n(D),angle:C(D),text:z}})}}return{type:"FeatureCollection",features:F}}(b,M),y.extendFlat(B.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),F&&(y.extendFlat(B.layout,{"icon-size":E.marker.size/10}),"angle"in E.marker&&"auto"!==E.marker.angle&&y.extendFlat(B.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),B.layout["icon-allow-overlap"]=E.marker.allowoverlap,y.extendFlat(B.paint,{"icon-opacity":E.opacity*E.marker.opacity,"icon-color":E.marker.color})),C)){var et=e(E.textposition,(E.marker||{}).size);y.extendFlat(B.layout,{"text-size":E.textfont.size,"text-anchor":et.anchor,"text-offset":et.offset,"text-font":E.textfont.family.split(", ")}),y.extendFlat(B.paint,{"text-color":E.textfont.color,"text-opacity":E.opacity})}return O}},15752:function(tt,W,t){"use strict";var A=t(3400),y=t(43028),i=t(74428),P=t(66828),L=t(124),l=t(70840),m=t(31512),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];tt.exports=function(a,h,f,u){function g(S,T){return A.coerce(a,h,m,S,T)}function c(S,T){return A.coerce2(a,h,m,S,T)}if(function e(s,a,h){var f=h("lon")||[],u=h("lat")||[],g=Math.min(f.length,u.length);return a._length=g,g}(0,h,g)){if(g("text"),g("texttemplate"),g("hovertext"),g("hovertemplate"),g("mode"),g("below"),y.hasMarkers(h)){i(a,h,f,u,g,{noLine:!0,noAngle:!0}),g("marker.allowoverlap"),g("marker.angle");var d=h.marker;"circle"!==d.symbol&&(A.isArrayOrTypedArray(d.size)&&(d.size=d.size[0]),A.isArrayOrTypedArray(d.color)&&(d.color=d.color[0]))}y.hasLines(h)&&(P(a,h,f,u,g,{noDash:!0}),g("connectgaps"));var o=c("cluster.maxzoom"),v=c("cluster.step"),M=c("cluster.color",h.marker&&h.marker.color||f),b=c("cluster.size"),E=c("cluster.opacity");g("cluster.enabled",!1!==o||!1!==v||!1!==M||!1!==b||!1!==E),y.hasText(h)&&L(a,h,u,g,{noSelect:!0,font:{family:-1!==r.indexOf(u.font.family)?u.font.family:"Open Sans Regular",size:u.font.size,color:u.font.color}}),g("fill"),"none"!==h.fill&&l(a,h,f,g),A.coerceSelectionMarkerOpacity(h,g)}else h.visible=!1}},37920:function(tt){"use strict";tt.exports=function(t,A){return t.lon=A.lon,t.lat=A.lat,t}},11960:function(tt,W,t){"use strict";var A=t(54460);tt.exports=function(i,P,L){var l={},r=L[P.subplot]._subplot.mockAxis,e=i.lonlat;return l.lonLabel=A.tickText(r,r.c2l(e[0]),!0).text,l.latLabel=A.tickText(r,r.c2l(e[1]),!0).text,l}},63312:function(tt,W,t){"use strict";var A=t(93024),y=t(3400),i=t(44928),P=y.fillText,L=t(39032).BADNUM,l=t(47552).traceLayerPrefix;function r(e,s,a){if(!e.hovertemplate){var f=(s.hi||e.hoverinfo).split("+"),u=-1!==f.indexOf("all"),g=-1!==f.indexOf("lon"),c=-1!==f.indexOf("lat"),w=s.lonlat,d=[];return u||g&&c?d.push("("+o(w[1])+", "+o(w[0])+")"):g?d.push(a.lon+o(w[0])):c&&d.push(a.lat+o(w[1])),(u||-1!==f.indexOf("text"))&&P(s,e,d),d.join("<br>")}function o(v){return v+"\xb0"}}tt.exports={hoverPoints:function m(e,s,a){var h=e.cd,f=h[0].trace,u=e.xa,g=e.ya,c=e.subplot,w=[],o=f.cluster&&f.cluster.enabled;if(o){var v=c.map.queryRenderedFeatures(null,{layers:[l+f.uid+"-circle"]});w=v.map(function(k){return k.id})}var b=360*(s>=0?Math.floor((s+180)/360):Math.ceil((s-180)/360)),E=s-b;if(A.getClosest(h,function x(k){var z=k.lonlat;if(z[0]===L||o&&-1===w.indexOf(k.i+1))return 1/0;var B=y.modHalf(z[0],360),O=z[1],U=c.project([B,O]),G=U.x-u.c2p([E,O]),J=U.y-g.c2p([B,a]),et=Math.max(3,k.mrc||0);return Math.max(Math.sqrt(G*G+J*J)-et,1-3/et)},e),!1!==e.index){var S=h[e.index],T=S.lonlat,n=[y.modHalf(T[0],360)+b,T[1]],C=u.c2p(n),p=g.c2p(n),F=S.mrc||1;e.x0=C-F,e.x1=C+F,e.y0=p-F,e.y1=p+F;var D={};D[f.subplot]={_subplot:c};var N=f._module.formatLabels(S,f,D);return e.lonLabel=N.lonLabel,e.latLabel=N.latLabel,e.color=i(f,S),e.extraText=r(f,S,h[0].t.labels),e.hovertemplate=f.hovertemplate,[e]}},getExtraText:r}},11572:function(tt,W,t){"use strict";tt.exports={attributes:t(31512),supplyDefaults:t(15752),colorbar:t(5528),formatLabels:t(11960),calc:t(25212),plot:t(9660),hoverPoints:t(63312).hoverPoints,eventData:t(37920),selectPoints:t(404),styleOnSelect:function(A,y){y&&y[0].trace._glTrace.update(y)},moduleType:"trace",name:"scattermapbox",basePlotModule:t(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(tt,W,t){"use strict";var A=t(3400),y=t(59392),i=t(47552).traceLayerPrefix,P={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function L(m,r,e,s){this.type="scattermapbox",this.subplot=m,this.uid=r,this.clusterEnabled=e,this.isHidden=s,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:i+r+"-fill",line:i+r+"-line",circle:i+r+"-circle",symbol:i+r+"-symbol",cluster:i+r+"-cluster",clusterCount:i+r+"-cluster-count"},this.below=null}var l=L.prototype;l.addSource=function(m,r,e){var s={type:"geojson",data:r.geojson};e&&e.enabled&&A.extendFlat(s,{cluster:!0,clusterMaxZoom:e.maxzoom});var a=this.subplot.map.getSource(this.sourceIds[m]);a?a.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[m],s)},l.setSourceData=function(m,r){this.subplot.map.getSource(this.sourceIds[m]).setData(r.geojson)},l.addLayer=function(m,r,e){var s={type:r.type,id:this.layerIds[m],source:this.sourceIds[m],layout:r.layout,paint:r.paint};r.filter&&(s.filter=r.filter);for(var h,a=this.layerIds[m],f=this.subplot.getMapLayers(),u=0;u<f.length;u++)if(f[u].id===a){h=!0;break}h?(this.subplot.setOptions(a,"setLayoutProperty",s.layout),"visible"===s.layout.visibility&&this.subplot.setOptions(a,"setPaintProperty",s.paint)):this.subplot.addLayer(s,e)},l.update=function(r){var e=r[0].trace,s=this.subplot,a=s.map,h=y(s.gd,r),f=s.belowLookup["trace-"+this.uid],u=!(!e.cluster||!e.cluster.enabled),g=!!this.clusterEnabled,c=this;function M(T){g?function d(T){for(var n=P.cluster,C=n.length-1;C>=0;C--)a.removeLayer(c.layerIds[n[C]]);T||a.removeSource(c.sourceIds.circle)}(T):function v(T){for(var n=P.nonCluster,C=n.length-1;C>=0;C--){var p=n[C];a.removeLayer(c.layerIds[p]),T||a.removeSource(c.sourceIds[p])}}(T)}function b(T){u?function w(T){T||c.addSource("circle",h.circle,e.cluster);for(var n=P.cluster,C=0;C<n.length;C++){var p=n[C];c.addLayer(p,h[p],f)}}(T):function o(T){for(var n=P.nonCluster,C=0;C<n.length;C++){var p=n[C],F=h[p];T||c.addSource(p,F),c.addLayer(p,F,f)}}(T)}var x=this.isHidden,S=!0!==e.visible;S?x||M():x?S||b():g!==u?(M(),b()):(this.below!==f&&(M(!0),b(!0)),function E(){for(var T=u?P.cluster:P.nonCluster,n=0;n<T.length;n++){var C=T[n],p=h[C];!p||(s.setOptions(c.layerIds[C],"setLayoutProperty",p.layout),"visible"===p.layout.visibility&&("cluster"!==C&&c.setSourceData(C,p),s.setOptions(c.layerIds[C],"setPaintProperty",p.paint)))}}()),this.clusterEnabled=u,this.isHidden=S,this.below=f,r[0].trace._glTrace=this},l.dispose=function(){for(var r=this.subplot.map,e=this.clusterEnabled?P.cluster:P.nonCluster,s=e.length-1;s>=0;s--){var a=e[s];r.removeLayer(this.layerIds[a]),r.removeSource(this.sourceIds[a])}},tt.exports=function(r,e){var c,w,d,s=e[0].trace,a=s.cluster&&s.cluster.enabled,f=new L(r,s.uid,a,!0!==s.visible),u=y(r.gd,e),g=f.below=r.belowLookup["trace-"+s.uid];if(a)for(f.addSource("circle",u.circle,s.cluster),c=0;c<P.cluster.length;c++)f.addLayer(w=P.cluster[c],d=u[w],g);else for(c=0;c<P.nonCluster.length;c++)f.addSource(w=P.nonCluster[c],d=u[w],s.cluster),f.addLayer(w,d,g);return e[0].trace._glTrace=f,f}},404:function(tt,W,t){"use strict";var A=t(3400),y=t(43028),i=t(39032).BADNUM;tt.exports=function(L,l){var h,m=L.cd,r=L.xaxis,e=L.yaxis,s=[];if(!y.hasMarkers(m[0].trace))return[];if(!1===l)for(h=0;h<m.length;h++)m[h].selected=0;else for(h=0;h<m.length;h++){var f=m[h],u=f.lonlat;if(u[0]!==i){var g=[A.modHalf(u[0],360),u[1]],c=[r.c2p(g),e.c2p(g)];l.contains(c,null,h,L)?(s.push({pointNumber:h,lon:u[0],lat:u[1]}),f.selected=1):f.selected=0}}return s}},8319:function(tt,W,t){"use strict";var A=t(21776).Ks,y=t(21776).Gw,i=t(92880).extendFlat,P=t(52904),L=t(45464),l=P.line;tt.exports={mode:P.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:P.text,texttemplate:y({editType:"plot"},{keys:["r","theta","text"]}),hovertext:P.hovertext,line:{color:l.color,width:l.width,dash:l.dash,backoff:l.backoff,shape:i({},l.shape,{values:["linear","spline"]}),smoothing:l.smoothing,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,cliponaxis:i({},P.cliponaxis,{dflt:!1}),textposition:P.textposition,textfont:P.textfont,fill:i({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:P.fillcolor,hoverinfo:i({},L.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:P.hoveron,hovertemplate:A(),selected:P.selected,unselected:P.unselected}},58320:function(tt,W,t){"use strict";var A=t(38248),y=t(39032).BADNUM,i=t(54460),P=t(90136),L=t(20148),l=t(4500),m=t(16356).calcMarkerSize;tt.exports=function(e,s){for(var a=e._fullLayout,h=s.subplot,f=a[h].radialaxis,u=a[h].angularaxis,g=f.makeCalcdata(s,"r"),c=u.makeCalcdata(s,"theta"),w=s._length,d=new Array(w),o=0;o<w;o++){var v=g[o],M=c[o],b=d[o]={};A(v)&&A(M)?(b.r=v,b.theta=M):b.r=y}var E=m(s,w);return s._extremes.x=i.findExtremes(f,g,{ppad:E}),P(e,s),L(d,s),l(d,s),d}},85968:function(tt,W,t){"use strict";var A=t(3400),y=t(43028),i=t(74428),P=t(66828),L=t(11731),l=t(124),m=t(70840),r=t(88200).PTS_LINESONLY,e=t(8319);function a(h,f,u,g){var d,c=g("r"),w=g("theta");if(A.isTypedArray(c)&&(f.r=c=Array.from(c)),A.isTypedArray(w)&&(f.theta=w=Array.from(w)),c)w?d=Math.min(c.length,w.length):(d=c.length,g("theta0"),g("dtheta"));else{if(!w)return 0;d=f.theta.length,g("r0"),g("dr")}return f._length=d,d}tt.exports={handleRThetaDefaults:a,supplyDefaults:function s(h,f,u,g){function c(o,v){return A.coerce(h,f,e,o,v)}var w=a(0,f,0,c);if(w){c("thetaunit"),c("mode",w<r?"lines+markers":"lines"),c("text"),c("hovertext"),"fills"!==f.hoveron&&c("hovertemplate"),y.hasMarkers(f)&&i(h,f,u,g,c,{gradient:!0}),y.hasLines(f)&&(P(h,f,u,g,c,{backoff:!0}),L(h,f,c),c("connectgaps")),y.hasText(f)&&(c("texttemplate"),l(h,f,g,c));var d=[];(y.hasMarkers(f)||y.hasText(f))&&(c("cliponaxis"),c("marker.maxdisplayed"),d.push("points")),c("fill"),"none"!==f.fill&&(m(h,f,u,c),y.hasLines(f)||L(h,f,c)),("tonext"===f.fill||"toself"===f.fill)&&d.push("fills"),c("hoveron",d.join("+")||"points"),A.coerceSelectionMarkerOpacity(f,c)}else f.visible=!1}}},22852:function(tt,W,t){"use strict";var A=t(3400),y=t(54460);tt.exports=function(P,L,l){var e,s,m={},r=l[L.subplot]._subplot;r?(e=r.radialAxis,s=r.angularAxis):(e=(r=l[L.subplot]).radialaxis,s=r.angularaxis);var a=e.c2l(P.r);m.rLabel=y.tickText(e,a,!0).text;var h="degrees"===s.thetaunit?A.rad2deg(P.theta):P.theta;return m.thetaLabel=y.tickText(s,h,!0).text,m}},8504:function(tt,W,t){"use strict";var A=t(98723);function i(P,L,l,m){var r=l.radialAxis,e=l.angularAxis;r._hovertitle="r",e._hovertitle="\u03b8";var s={};s[L.subplot]={_subplot:l};var a=L._module.formatLabels(P,L,s);m.rLabel=a.rLabel,m.thetaLabel=a.thetaLabel;var f=[];function u(c,w){f.push(c._hovertitle+": "+w)}if(!L.hovertemplate){var g=(P.hi||L.hoverinfo).split("+");-1!==g.indexOf("all")&&(g=["r","theta","text"]),-1!==g.indexOf("r")&&u(r,m.rLabel),-1!==g.indexOf("theta")&&u(e,m.thetaLabel),-1!==g.indexOf("text")&&m.text&&(f.push(m.text),delete m.text),m.extraText=f.join("<br>")}}tt.exports={hoverPoints:function y(P,L,l,m){var r=A(P,L,l,m);if(r&&!1!==r[0].index){var e=r[0];if(void 0===e.index)return r;var s=P.subplot,a=e.cd[e.index],h=e.trace;if(s.isPtInside(a))return e.xLabelVal=void 0,e.yLabelVal=void 0,i(a,h,s,e),e.hovertemplate=h.hovertemplate,r}},makeHoverPointText:i}},76924:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:t(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:t(8319),supplyDefaults:t(85968).supplyDefaults,colorbar:t(5528),formatLabels:t(22852),calc:t(58320),plot:t(43456),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(8504).hoverPoints,selectPoints:t(91560),meta:{}}},43456:function(tt,W,t){"use strict";var A=t(96504),y=t(39032).BADNUM;tt.exports=function(P,L,l){for(var m=L.layers.frontplot.select("g.scatterlayer"),r=L.xaxis,e=L.yaxis,s={xaxis:r,yaxis:e,plot:L.framework,layerClipId:L._hasClipOnAxisFalse?L.clipIds.forTraces:null},a=L.radialAxis,h=L.angularAxis,f=0;f<l.length;f++)for(var u=l[f],g=0;g<u.length;g++){0===g&&(u[0].trace._xA=r,u[0].trace._yA=e);var c=u[g],w=c.r;if(w===y)c.x=c.y=y;else{var d=a.c2g(w),o=h.c2g(c.theta);c.x=d*Math.cos(o),c.y=d*Math.sin(o)}}A(P,s,l,m)}},24396:function(tt,W,t){"use strict";var A=t(8319),y=t(2876),i=t(21776).Gw;tt.exports={mode:A.mode,r:A.r,theta:A.theta,r0:A.r0,dr:A.dr,theta0:A.theta0,dtheta:A.dtheta,thetaunit:A.thetaunit,text:A.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:A.hovertext,hovertemplate:A.hovertemplate,line:{color:y.line.color,width:y.line.width,dash:y.line.dash,editType:"calc"},connectgaps:y.connectgaps,marker:y.marker,fill:y.fill,fillcolor:y.fillcolor,textposition:y.textposition,textfont:y.textfont,hoverinfo:A.hoverinfo,selected:A.selected,unselected:A.unselected}},27160:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:t(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:t(24396),supplyDefaults:t(98608),colorbar:t(5528),formatLabels:t(94120),calc:t(66720),hoverPoints:t(1600).hoverPoints,selectPoints:t(73224),meta:{}}},66720:function(tt,W,t){"use strict";var A=t(90136),y=t(16356).calcMarkerSize,i=t(84236),P=t(54460),L=t(67072).TOO_MANY_POINTS;tt.exports=function(m,r){var e=m._fullLayout,s=r.subplot,a=e[s].radialaxis,h=e[s].angularaxis,f=r._r=a.makeCalcdata(r,"r"),u=r._theta=h.makeCalcdata(r,"theta"),g=r._length,c={};g<f.length&&(f=f.slice(0,g)),g<u.length&&(u=u.slice(0,g)),c.r=f,c.theta=u,A(m,r);var d,w=c.opts=i.style(m,r);return g<L?d=y(r,g):w.marker&&(d=2*(w.marker.sizeAvg||Math.max(w.marker.size,3))),r._extremes.x=P.findExtremes(a,f,{ppad:d}),[{x:!1,y:!1,t:c,trace:r}]}},98608:function(tt,W,t){"use strict";var A=t(3400),y=t(43028),i=t(85968).handleRThetaDefaults,P=t(74428),L=t(66828),l=t(124),m=t(70840),r=t(88200).PTS_LINESONLY,e=t(24396);tt.exports=function(a,h,f,u){function g(w,d){return A.coerce(a,h,e,w,d)}var c=i(a,h,u,g);c?(g("thetaunit"),g("mode",c<r?"lines+markers":"lines"),g("text"),g("hovertext"),"fills"!==h.hoveron&&g("hovertemplate"),y.hasMarkers(h)&&P(a,h,f,u,g,{noAngleRef:!0,noStandOff:!0}),y.hasLines(h)&&(L(a,h,f,u,g),g("connectgaps")),y.hasText(h)&&(g("texttemplate"),l(a,h,u,g)),g("fill"),"none"!==h.fill&&m(a,h,f,g),A.coerceSelectionMarkerOpacity(h,g)):h.visible=!1}},94120:function(tt,W,t){"use strict";var A=t(22852);tt.exports=function(i,P,L){var l=i.i;return"r"in i||(i.r=P._r[l]),"theta"in i||(i.theta=P._theta[l]),A(i,P,L)}},1600:function(tt,W,t){"use strict";var A=t(41272),y=t(8504).makeHoverPointText;tt.exports={hoverPoints:function i(P,L,l,m){var e=P.cd[0].t,s=e.r,a=e.theta,h=A.hoverPoints(P,L,l,m);if(h&&!1!==h[0].index){var f=h[0];if(void 0===f.index)return h;var u=P.subplot,g=f.cd[f.index],c=f.trace;if(g.r=s[f.index],g.theta=a[f.index],u.isPtInside(g))return f.xLabelVal=void 0,f.yLabelVal=void 0,y(g,c,u,f),h}}}},62944:function(tt,W,t){"use strict";var A=t(27160);A.plot=t(56512),tt.exports=A},56512:function(tt,W,t){"use strict";var A=t(3108),y=t(38248),i=t(89876),P=t(74588),L=t(84236),l=t(3400),m=t(67072).TOO_MANY_POINTS;tt.exports=function(s,a,h){if(h.length){var f=a.radialAxis,u=a.angularAxis,g=P(s,a);return h.forEach(function(c){if(c&&c[0]&&c[0].trace){var x,w=c[0],d=w.trace,o=w.t,v=d._length,M=o.r,b=o.theta,E=o.opts,S=M.slice(),T=b.slice();for(x=0;x<M.length;x++)a.isPtInside({r:M[x],theta:b[x]})||(S[x]=NaN,T[x]=NaN);var n=new Array(2*v),C=Array(v),p=Array(v);for(x=0;x<v;x++){var D,N,F=S[x];if(y(F)){var k=f.c2g(F),z=u.c2g(T[x],d.thetaunit);D=k*Math.cos(z),N=k*Math.sin(z)}else D=N=NaN;C[x]=n[2*x]=D,p[x]=n[2*x+1]=N}o.tree=A(n),E.marker&&v>=m&&(E.marker.cluster=o.tree),E.marker&&(E.markerSel.positions=E.markerUnsel.positions=E.marker.positions=n),E.line&&n.length>1&&l.extendFlat(E.line,L.linePositions(s,d,n)),E.text&&(l.extendFlat(E.text,{positions:n},L.textPosition(s,d,E.text,E.marker)),l.extendFlat(E.textSel,{positions:n},L.textPosition(s,d,E.text,E.markerSel)),l.extendFlat(E.textUnsel,{positions:n},L.textPosition(s,d,E.text,E.markerUnsel))),E.fill&&!g.fill2d&&(g.fill2d=!0),E.marker&&!g.scatter2d&&(g.scatter2d=!0),E.line&&!g.line2d&&(g.line2d=!0),E.text&&!g.glText&&(g.glText=!0),g.lineOptions.push(E.line),g.fillOptions.push(E.fill),g.markerOptions.push(E.marker),g.markerSelectedOptions.push(E.markerSel),g.markerUnselectedOptions.push(E.markerUnsel),g.textOptions.push(E.text),g.textSelectedOptions.push(E.textSel),g.textUnselectedOptions.push(E.textUnsel),g.selectBatch.push([]),g.unselectBatch.push([]),o.x=C,o.y=p,o.rawx=C,o.rawy=p,o.r=M,o.theta=b,o.positions=n,o._scene=g,o.index=g.count,g.count++}}),i(s,a,h)}},tt.exports.reglPrecompiled={}},69496:function(tt,W,t){"use strict";var A=t(21776).Ks,y=t(21776).Gw,i=t(92880).extendFlat,P=t(52904),L=t(45464),l=P.line;tt.exports={mode:P.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:P.text,texttemplate:y({editType:"plot"},{keys:["real","imag","text"]}),hovertext:P.hovertext,line:{color:l.color,width:l.width,dash:l.dash,backoff:l.backoff,shape:i({},l.shape,{values:["linear","spline"]}),smoothing:l.smoothing,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,cliponaxis:i({},P.cliponaxis,{dflt:!1}),textposition:P.textposition,textfont:P.textfont,fill:i({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:P.fillcolor,hoverinfo:i({},L.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:P.hoveron,hovertemplate:A(),selected:P.selected,unselected:P.unselected}},47507:function(tt,W,t){"use strict";var A=t(38248),y=t(39032).BADNUM,i=t(90136),P=t(20148),L=t(4500),l=t(16356).calcMarkerSize;tt.exports=function(r,e){for(var s=r._fullLayout,a=e.subplot,f=s[a].imaginaryaxis,u=s[a].realaxis.makeCalcdata(e,"real"),g=f.makeCalcdata(e,"imag"),c=e._length,w=new Array(c),d=0;d<c;d++){var o=u[d],v=g[d],M=w[d]={};A(o)&&A(v)?(M.real=o,M.imag=v):M.real=y}return l(e,c),i(r,e),P(w,e),L(w,e),w}},76716:function(tt,W,t){"use strict";var A=t(3400),y=t(43028),i=t(74428),P=t(66828),L=t(11731),l=t(124),m=t(70840),r=t(88200).PTS_LINESONLY,e=t(69496);tt.exports=function(h,f,u,g){function c(o,v){return A.coerce(h,f,e,o,v)}var w=function s(a,h,f,u){var w,g=u("real"),c=u("imag");return g&&c&&(w=Math.min(g.length,c.length)),A.isTypedArray(g)&&(h.real=g=Array.from(g)),A.isTypedArray(c)&&(h.imag=c=Array.from(c)),h._length=w,w}(0,f,0,c);if(w){c("mode",w<r?"lines+markers":"lines"),c("text"),c("hovertext"),"fills"!==f.hoveron&&c("hovertemplate"),y.hasMarkers(f)&&i(h,f,u,g,c,{gradient:!0}),y.hasLines(f)&&(P(h,f,u,g,c,{backoff:!0}),L(h,f,c),c("connectgaps")),y.hasText(f)&&(c("texttemplate"),l(h,f,g,c));var d=[];(y.hasMarkers(f)||y.hasText(f))&&(c("cliponaxis"),c("marker.maxdisplayed"),d.push("points")),c("fill"),"none"!==f.fill&&(m(h,f,u,c),y.hasLines(f)||L(h,f,c)),("tonext"===f.fill||"toself"===f.fill)&&d.push("fills"),c("hoveron",d.join("+")||"points"),A.coerceSelectionMarkerOpacity(f,c)}else f.visible=!1}},49504:function(tt,W,t){"use strict";var A=t(54460);tt.exports=function(i,P,L){var l={},m=L[P.subplot]._subplot;return l.realLabel=A.tickText(m.radialAxis,i.real,!0).text,l.imagLabel=A.tickText(m.angularAxis,i.imag,!0).text,l}},25292:function(tt,W,t){"use strict";var A=t(98723);function i(P,L,l,m){var r=l.radialAxis,e=l.angularAxis;r._hovertitle="real",e._hovertitle="imag";var s={};s[L.subplot]={_subplot:l};var a=L._module.formatLabels(P,L,s);m.realLabel=a.realLabel,m.imagLabel=a.imagLabel;var f=[];function u(c,w){f.push(c._hovertitle+": "+w)}if(!L.hovertemplate){var g=(P.hi||L.hoverinfo).split("+");-1!==g.indexOf("all")&&(g=["real","imag","text"]),-1!==g.indexOf("real")&&u(r,m.realLabel),-1!==g.indexOf("imag")&&u(e,m.imagLabel),-1!==g.indexOf("text")&&m.text&&(f.push(m.text),delete m.text),m.extraText=f.join("<br>")}}tt.exports={hoverPoints:function y(P,L,l,m){var r=A(P,L,l,m);if(r&&!1!==r[0].index){var e=r[0];if(void 0===e.index)return r;var s=P.subplot,a=e.cd[e.index],h=e.trace;if(s.isPtInside(a))return e.xLabelVal=void 0,e.yLabelVal=void 0,i(a,h,s,e),e.hovertemplate=h.hovertemplate,r}},makeHoverPointText:i}},95443:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"scattersmith",basePlotModule:t(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:t(69496),supplyDefaults:t(76716),colorbar:t(5528),formatLabels:t(49504),calc:t(47507),plot:t(34927),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(25292).hoverPoints,selectPoints:t(91560),meta:{}}},34927:function(tt,W,t){"use strict";var A=t(96504),y=t(39032).BADNUM,P=t(36416).smith;tt.exports=function(l,m,r){for(var e=m.layers.frontplot.select("g.scatterlayer"),s=m.xaxis,a=m.yaxis,h={xaxis:s,yaxis:a,plot:m.framework,layerClipId:m._hasClipOnAxisFalse?m.clipIds.forTraces:null},f=0;f<r.length;f++)for(var u=r[f],g=0;g<u.length;g++){0===g&&(u[0].trace._xA=s,u[0].trace._yA=a);var c=u[g],w=c.real;if(w===y)c.x=c.y=y;else{var d=P([w,c.imag]);c.x=d[0],c.y=d[1]}}A(l,h,r,e)}},5896:function(tt,W,t){"use strict";var A=t(21776).Ks,y=t(21776).Gw,i=t(52904),P=t(45464),L=t(49084),l=t(98192).u,m=t(92880).extendFlat,r=i.marker,e=i.line,s=r.line;tt.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:m({},i.mode,{dflt:"markers"}),text:m({},i.text,{}),texttemplate:y({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:m({},i.hovertext,{}),line:{color:e.color,width:e.width,dash:l,backoff:e.backoff,shape:m({},e.shape,{values:["linear","spline"]}),smoothing:e.smoothing,editType:"calc"},connectgaps:i.connectgaps,cliponaxis:i.cliponaxis,fill:m({},i.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:i.fillcolor,marker:m({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:r.angleref,standoff:r.standoff,maxdisplayed:r.maxdisplayed,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:m({width:s.width,editType:"calc"},L("marker.line")),gradient:r.gradient,editType:"calc"},L("marker")),textfont:i.textfont,textposition:i.textposition,selected:i.selected,unselected:i.unselected,hoverinfo:m({},P.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:i.hoveron,hovertemplate:A()}},34335:function(tt,W,t){"use strict";var A=t(38248),y=t(90136),i=t(20148),P=t(4500),L=t(16356).calcMarkerSize,l=["a","b","c"],m={a:["b","c"],b:["a","c"],c:["a","b"]};tt.exports=function(e,s){var g,c,w,d,o,v,h=e._fullLayout[s.subplot].sum,f=s.sum||h,u={a:s.a,b:s.b,c:s.c};for(g=0;g<l.length;g++)if(!u[w=l[g]]){for(o=u[m[w][0]],v=u[m[w][1]],d=new Array(o.length),c=0;c<o.length;c++)d[c]=f-o[c]-v[c];u[w]=d}var E,x,S,T,M=s._length,b=new Array(M);for(g=0;g<M;g++)x=u.b[g],S=u.c[g],A(E=u.a[g])&&A(x)&&A(S)?(1!=(T=h/((E=+E)+(x=+x)+(S=+S)))&&(E*=T,x*=T,S*=T),b[g]={x:S-x,y:E,a:E,b:x,c:S}):b[g]={x:!1,y:!1};return L(s,M),y(e,s),i(b,s),P(b,s),b}},84256:function(tt,W,t){"use strict";var A=t(3400),y=t(88200),i=t(43028),P=t(74428),L=t(66828),l=t(11731),m=t(124),r=t(70840),e=t(5896);tt.exports=function(a,h,f,u){function g(b,E){return A.coerce(a,h,e,b,E)}var o,c=g("a"),w=g("b"),d=g("c");if(c?(o=c.length,w?(o=Math.min(o,w.length),d&&(o=Math.min(o,d.length))):o=d?Math.min(o,d.length):0):w&&d&&(o=Math.min(w.length,d.length)),o){h._length=o,g("sum"),g("text"),g("hovertext"),"fills"!==h.hoveron&&g("hovertemplate"),g("mode",o<y.PTS_LINESONLY?"lines+markers":"lines"),i.hasMarkers(h)&&P(a,h,f,u,g,{gradient:!0}),i.hasLines(h)&&(L(a,h,f,u,g,{backoff:!0}),l(a,h,g),g("connectgaps")),i.hasText(h)&&(g("texttemplate"),m(a,h,u,g));var M=[];(i.hasMarkers(h)||i.hasText(h))&&(g("cliponaxis"),g("marker.maxdisplayed"),M.push("points")),g("fill"),"none"!==h.fill&&(r(a,h,f,g),i.hasLines(h)||l(a,h,g)),("tonext"===h.fill||"toself"===h.fill)&&M.push("fills"),g("hoveron",M.join("+")||"points"),A.coerceSelectionMarkerOpacity(h,g)}else h.visible=!1}},97476:function(tt){"use strict";tt.exports=function(t,A,y,i,P){if(A.xa&&(t.xaxis=A.xa),A.ya&&(t.yaxis=A.ya),i[P]){var L=i[P];t.a=L.a,t.b=L.b,t.c=L.c}else t.a=A.a,t.b=A.b,t.c=A.c;return t}},90404:function(tt,W,t){"use strict";var A=t(54460);tt.exports=function(i,P,L){var l={},m=L[P.subplot]._subplot;return l.aLabel=A.tickText(m.aaxis,i.a,!0).text,l.bLabel=A.tickText(m.baxis,i.b,!0).text,l.cLabel=A.tickText(m.caxis,i.c,!0).text,l}},26596:function(tt,W,t){"use strict";var A=t(98723);tt.exports=function(i,P,L,l){var m=A(i,P,L,l);if(m&&!1!==m[0].index){var r=m[0];if(void 0===r.index){var s=i.xa._length,a=s*(1-r.y0/i.ya._length)/2,h=s-a;return r.x0=Math.max(Math.min(r.x0,h),a),r.x1=Math.max(Math.min(r.x1,h),a),m}var f=r.cd[r.index],u=r.trace,g=r.subplot;r.a=f.a,r.b=f.b,r.c=f.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var c={};c[u.subplot]={_subplot:g};var w=u._module.formatLabels(f,u,c);r.aLabel=w.aLabel,r.bLabel=w.bLabel,r.cLabel=w.cLabel;var o=[];if(!u.hovertemplate){var M=(f.hi||u.hoverinfo).split("+");-1!==M.indexOf("all")&&(M=["a","b","c"]),-1!==M.indexOf("a")&&v(g.aaxis,r.aLabel),-1!==M.indexOf("b")&&v(g.baxis,r.bLabel),-1!==M.indexOf("c")&&v(g.caxis,r.cLabel)}return r.extraText=o.join("<br>"),r.hovertemplate=u.hovertemplate,m}function v(b,E){o.push(b._hovertitle+": "+E)}}},34864:function(tt,W,t){"use strict";tt.exports={attributes:t(5896),supplyDefaults:t(84256),colorbar:t(5528),formatLabels:t(90404),calc:t(34335),plot:t(88776),style:t(49224).style,styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(26596),selectPoints:t(91560),eventData:t(97476),moduleType:"trace",name:"scatterternary",basePlotModule:t(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(tt,W,t){"use strict";var A=t(96504);tt.exports=function(i,P,L){var l=P.plotContainer;l.select(".scatterlayer").selectAll("*").remove();for(var m=P.xaxis,r=P.yaxis,e={xaxis:m,yaxis:r,plot:l,layerClipId:P._hasClipOnAxisFalse?P.clipIdRelative:null},s=P.layers.frontplot.select("g.scatterlayer"),a=0;a<L.length;a++){var h=L[a];h.length&&(h[0].trace._xA=m,h[0].trace._yA=r)}A(i,e,L,s)}},44524:function(tt,W,t){"use strict";var A=t(52904),y=t(49084),i=t(29736).axisHoverFormat,P=t(21776).Ks,L=t(2876),l=t(33816).idRegex,m=t(31780).templatedArray,r=t(92880).extendFlat,e=A.marker,s=e.line,a=r(y("marker.line",{editTypeOverride:"calc"}),{width:r({},s.width,{editType:"calc"}),editType:"calc"}),h=r(y("marker"),{symbol:e.symbol,angle:e.angle,size:r({},e.size,{editType:"markerSize"}),sizeref:e.sizeref,sizemin:e.sizemin,sizemode:e.sizemode,opacity:e.opacity,colorbar:e.colorbar,line:a,editType:"calc"});function f(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:l[u],editType:"plot"}}}h.color.editType=h.cmin.editType=h.cmax.editType="style",tt.exports={dimensions:m("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},L.text,{}),hovertext:r({},L.hovertext,{}),hovertemplate:P(),xhoverformat:i("x"),yhoverformat:i("y"),marker:h,xaxes:f("x"),yaxes:f("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:L.selected.marker,editType:"calc"},unselected:{marker:L.unselected.marker,editType:"calc"},opacity:L.opacity}},28888:function(tt,W,t){"use strict";var A=t(24040),y=t(12704);tt.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:t(44524),supplyDefaults:t(69544),colorbar:t(5528),calc:t(66821),plot:t(54840),hoverPoints:t(72248).hoverPoints,selectPoints:t(62500),editStyle:t(83156),meta:{}},A.register(y)},99332:function(tt,W,t){"use strict";var A=t(13472),y=t(24040),i=t(5048),P=t(84888)._M,L=t(57952),l=t(79811).getFromId,m=t(54460).shouldShowZeroLine,r="splom",e={};function h(c,w,d){for(var v=w._visibleDims,M=d.viewOpts.ranges=new Array(d.matrixOptions.data.length),b=0;b<v.length;b++){var E=v[b],x=M[b]=new Array(4),S=l(c,w._diag[E][0]);S&&(x[0]=S.r2l(S.range[0]),x[2]=S.r2l(S.range[1]));var T=l(c,w._diag[E][1]);T&&(x[1]=T.r2l(T.range[0]),x[3]=T.r2l(T.range[1]))}d.selectBatch.length||d.unselectBatch.length?d.matrix.update({ranges:M},{ranges:M}):d.matrix.update({ranges:M})}function f(c){var w=c._fullLayout,d=w._glcanvas.data()[0].regl,o=w._splomGrid;o||(o=w._splomGrid=A(d)),o.update(function u(c){var b,w=c._context.plotGlPixelRatio,d=c._fullLayout,o=d._size,v=[0,0,d.width*w,d.height*w],M={};function E(G,J,et,at,lt,K){et*=w,at*=w,lt*=w,K*=w;var j=J[G+"color"],rt=J[G+"width"],H=String(j+rt);H in M?M[H].data.push(NaN,NaN,et,at,lt,K):M[H]={data:[et,at,lt,K],join:"rect",thickness:rt*w,color:j,viewport:v,range:v,overlay:!1}}for(b in d._splomSubplots){var B,O,x=d._plots[b],S=x.xaxis,T=x.yaxis,n=S._gridVals,C=T._gridVals,p=S._offset,F=S._length,D=T._length,N=o.b+T.domain[0]*o.h,k=-T._m,z=-k*T.r2l(T.range[0],T.calendar);if(S.showgrid)for(b=0;b<n.length;b++)B=p+S.l2p(n[b].x),E("grid",S,B,N,B,N+D);if(T.showgrid)for(b=0;b<C.length;b++)E("grid",T,p,O=N+z+k*C[b].x,p+F,O);m(c,S,T)&&(B=p+S.l2p(0),E("zeroline",S,B,N,B,N+D)),m(c,T,S)&&E("zeroline",T,p,O=N+z+0,p+F,O)}var U=[];for(b in M)U.push(M[b]);return U}(c))}tt.exports={name:r,attr:L.attr,attrRegex:L.attrRegex,layoutAttributes:L.layoutAttributes,supplyLayoutDefaults:L.supplyLayoutDefaults,drawFramework:L.drawFramework,plot:function s(c){var w=c._fullLayout,d=y.getModule(r),o=P(c.calcdata,d)[0];!i(c,["ANGLE_instanced_arrays","OES_element_index_uint"],e)||(w._hasOnlyLargeSploms&&f(c),d.plot(c,{},o))},drag:function a(c){var w=c.calcdata,d=c._fullLayout;d._hasOnlyLargeSploms&&f(c);for(var o=0;o<w.length;o++){var M=w[o][0].trace,b=d._splomScenes[M.uid];"splom"===M.type&&b&&b.matrix&&h(c,M,b)}},updateGrid:f,clean:function g(c,w,d,o){var M,v={};if(o._splomScenes){for(M=0;M<c.length;M++){var b=c[M];"splom"===b.type&&(v[b.uid]=1)}for(M=0;M<d.length;M++){var E=d[M];if(!v[E.uid]){var x=o._splomScenes[E.uid];x&&x.destroy&&x.destroy(),o._splomScenes[E.uid]=null,delete o._splomScenes[E.uid]}}}0===Object.keys(o._splomScenes||{}).length&&delete o._splomScenes,o._splomGrid&&!w._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),L.clean(c,w,d,o)},updateFx:L.updateFx,toSVG:L.toSVG,reglPrecompiled:e}},66821:function(tt,W,t){"use strict";var A=t(3400),y=t(79811),i=t(16356).calcMarkerSize,P=t(16356).calcAxisExpansion,L=t(90136),l=t(84236).markerSelection,m=t(84236).markerStyle,r=t(72308),e=t(39032).BADNUM,s=t(67072).TOO_MANY_POINTS;tt.exports=function(h,f){var v,M,b,E,x,C,u=f.dimensions,g=f._length,c={},w=c.cdata=[],d=c.data=[],o=f._visibleDims=[];function S(F,D){for(var N=F.makeCalcdata({v:D.values,vcalendar:f.calendar},"v"),k=0;k<N.length;k++)N[k]=N[k]===e?NaN:N[k];w.push(N),d.push("log"===F.type?A.simpleMap(N,F.c2l):N)}for(v=0;v<u.length;v++)if((b=u[v]).visible){if(E=y.getFromId(h,f._diag[v][0]),x=y.getFromId(h,f._diag[v][1]),E&&x&&E.type!==x.type){A.log("Skipping splom dimension "+v+" with conflicting axis types");continue}E?(S(E,b),x&&"category"===x.type&&(x._categories=E._categories.slice())):S(x,b),o.push(v)}for(L(h,f),A.extendFlat(c,m(h,f)),C=w.length*g>s?c.sizeAvg||Math.max(c.size,3):i(f,g),M=0;M<o.length;M++)b=u[v=o[M]],E=y.getFromId(h,f._diag[v][0])||{},x=y.getFromId(h,f._diag[v][1])||{},P(h,f,E,x,w[M],w[M],C);var p=r(h,f);return p.matrix||(p.matrix=!0),p.matrixOptions=c,p.selectedOptions=l(h,f,f.selected),p.unselectedOptions=l(h,f,f.unselected),[{x:!1,y:!1,t:{},trace:f}]}},69544:function(tt,W,t){"use strict";var A=t(3400),y=t(51272),i=t(44524),P=t(43028),L=t(74428),l=t(26284),m=t(80088).isOpenSymbol;function r(s,a){function h(u,g){return A.coerce(s,a,i.dimensions,u,g)}h("label");var f=h("values");f&&f.length?h("visible"):a.visible=!1,h("axis.type"),h("axis.matches")}tt.exports=function(a,h,f,u){function g(E,x){return A.coerce(a,h,i,E,x)}var c=y(a,h,{name:"dimensions",handleItemDefaults:r}),w=g("diagonal.visible"),d=g("showupperhalf"),o=g("showlowerhalf");if(l(h,c,"values")&&(w||d||o)){g("text"),g("hovertext"),g("hovertemplate"),g("xhoverformat"),g("yhoverformat"),L(a,h,f,u,g,{noAngleRef:!0,noStandOff:!0});var M=m(h.marker.symbol),b=P.isBubble(h);g("marker.line.width",M||b?1:0),function e(s,a,h,f){var o,v,u=a.dimensions,g=u.length,c=a.showupperhalf,w=a.showlowerhalf,d=a.diagonal.visible,M=new Array(g),b=new Array(g);for(o=0;o<g;o++){var E=o?o+1:"";M[o]="x"+E,b[o]="y"+E}var x=f("xaxes",M),S=f("yaxes",b),T=a._diag=new Array(g);a._xaxes={},a._yaxes={};var n=[],C=[];function p(G,J,et,at){if(G){var lt=G.charAt(0),K=h._splomAxes[lt];if(a["_"+lt+"axes"][G]=1,at.push(G),!(G in K)){var j=K[G]={};et&&(j.label=et.label||"",et.visible&&et.axis&&(et.axis.type&&(j.type=et.axis.type),et.axis.matches&&(j.matches=J)))}}}var F=!d&&!w,D=!d&&!c;for(a._axesDim={},o=0;o<g;o++){var N=u[o],k=0===o,z=o===g-1,B=k&&F||z&&D?void 0:x[o],O=k&&D||z&&F?void 0:S[o];p(B,O,N,n),p(O,B,N,C),T[o]=[B,O],a._axesDim[B]=o,a._axesDim[O]=o}for(o=0;o<n.length;o++)for(v=0;v<C.length;v++)(o>v&&c||o<v&&w||o===v&&(d||!w||!c))&&(h._splomSubplots[n[o]+C[v]]=1);(!w||!d&&c&&w)&&(h._splomGridDflt.xside="bottom",h._splomGridDflt.yside="left")}(0,h,u,g),A.coerceSelectionMarkerOpacity(h,g)}else h.visible=!1}},83156:function(tt,W,t){"use strict";var A=t(3400),y=t(90136),i=t(84236).markerStyle;tt.exports=function(L,l){var m=l.trace,r=L._fullLayout._splomScenes[m.uid];if(r){y(L,m),A.extendFlat(r.matrixOptions,i(L,m));var e=A.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(e,null)}}},50328:function(tt,W){"use strict";W.getDimIndex=function(A,y){for(var i=y._id,L={x:0,y:1}[i.charAt(0)],l=A._visibleDims,m=0;m<l.length;m++)if(A._diag[l[m]][L]===i)return m;return!1}},72248:function(tt,W,t){"use strict";var A=t(50328),y=t(41272).calcHover;tt.exports={hoverPoints:function i(P,L,l){var r=P.cd[0].trace,s=P.scene.matrixOptions.cdata,a=P.xa,h=P.ya,f=a.c2p(L),u=h.c2p(l),g=P.distance,c=A.getDimIndex(r,a),w=A.getDimIndex(r,h);if(!1===c||!1===w)return[P];for(var v,M,d=s[c],o=s[w],b=g,E=0;E<d.length;E++){var S=o[E],T=a.c2p(d[E])-f,n=h.c2p(S)-u,C=Math.sqrt(T*T+n*n);C<b&&(b=M=C,v=E)}return P.index=v,P.distance=b,P.dxy=M,void 0===v?[P]:[y(P,d,o,r)]}}},97924:function(tt,W,t){"use strict";var A=t(28888);A.basePlotModule=t(99332),tt.exports=A},54840:function(tt,W,t){"use strict";var A=t(55795),y=t(3400),i=t(79811),P=t(72760).selectMode;function L(l,m){var w,d,o,v,M,r=l._fullLayout,e=r._size,s=m.trace,a=m.t,h=r._splomScenes[s.uid],f=h.matrixOptions,u=f.cdata,g=r._glcanvas.data()[0].regl,c=r.dragmode;if(0!==u.length){f.lower=s.showupperhalf,f.upper=s.showlowerhalf,f.diagonal=s.diagonal.visible;var b=s._visibleDims,E=u.length,x=h.viewOpts={};for(x.ranges=new Array(E),x.domains=new Array(E),M=0;M<b.length;M++){o=b[M];var S=x.ranges[M]=new Array(4),T=x.domains[M]=new Array(4);(w=i.getFromId(l,s._diag[o][0]))&&(S[0]=w._rl[0],S[2]=w._rl[1],T[0]=w.domain[0],T[2]=w.domain[1]),(d=i.getFromId(l,s._diag[o][1]))&&(S[1]=d._rl[0],S[3]=d._rl[1],T[1]=d.domain[0],T[3]=d.domain[1])}var n=l._context.plotGlPixelRatio,C=e.l*n,p=e.b*n;x.viewport=[C,p,e.w*n+C,e.h*n+p],!0===h.matrix&&(h.matrix=A(g));var N=r.clickmode.indexOf("select")>-1,z=!0;if(P(c)||s.selectedpoints||N){var B=s._length;if(s.selectedpoints){h.selectBatch=s.selectedpoints;var O=s.selectedpoints,U={};for(o=0;o<O.length;o++)U[O[o]]=!0;var G=[];for(o=0;o<B;o++)U[o]||G.push(o);h.unselectBatch=G}var J=a.xpx=new Array(E),et=a.ypx=new Array(E);for(M=0;M<b.length;M++){if(w=i.getFromId(l,s._diag[o=b[M]][0]))for(J[M]=new Array(B),v=0;v<B;v++)J[M][v]=w.c2p(u[M][v]);if(d=i.getFromId(l,s._diag[o][1]))for(et[M]=new Array(B),v=0;v<B;v++)et[M][v]=d.c2p(u[M][v])}if(h.selectBatch.length||h.unselectBatch.length){var at=y.extendFlat({},f,h.unselectedOptions,x),lt=y.extendFlat({},f,h.selectedOptions,x);h.matrix.update(at,lt),z=!1}}else a.xpx=a.ypx=null;if(z){var K=y.extendFlat({},f,x);h.matrix.update(K,null)}}}tt.exports=function(m,r,e){if(e.length)for(var s=0;s<e.length;s++)L(m,e[s][0])}},72308:function(tt,W,t){"use strict";var A=t(3400);tt.exports=function(i,P){var L=i._fullLayout,l=P.uid,m=L._splomScenes;m||(m=L._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},s=m[P.uid];return s||((s=m[l]=A.extendFlat({},r,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){s.matrix&&s.matrix.draw&&(s.selectBatch.length||s.unselectBatch.length?s.matrix.draw(s.unselectBatch,s.selectBatch):s.matrix.draw()),s.dirty=!1},s.destroy=function(){s.matrix&&s.matrix.destroy&&s.matrix.destroy(),s.matrixOptions=null,s.selectBatch=null,s.unselectBatch=null,s=null}),s.dirty||A.extendFlat(s,r),s}},62500:function(tt,W,t){"use strict";var A=t(3400),y=A.pushUnique,i=t(43028),P=t(50328);tt.exports=function(l,m){var r=l.cd,e=r[0].trace,s=r[0].t,a=l.scene,h=a.matrixOptions.cdata,f=l.xaxis,u=l.yaxis,g=[];if(!a)return g;var c=!i.hasMarkers(e)&&!i.hasText(e);if(!0!==e.visible||c)return g;var w=P.getDimIndex(e,f),d=P.getDimIndex(e,u);if(!1===w||!1===d)return g;var o=s.xpx[w],v=s.ypx[d],M=h[w],b=h[d],E=(l.scene.selectBatch||[]).slice(),x=[];if(!1!==m&&!m.degenerate)for(var S=0;S<M.length;S++)m.contains([o[S],v[S]],null,S,l)?(g.push({pointNumber:S,x:M[S],y:b[S]}),y(E,S)):-1!==E.indexOf(S)?y(E,S):x.push(S);var T=a.matrixOptions;return E.length||x.length?!a.selectBatch.length&&!a.unselectBatch.length&&a.matrix.update(a.unselectedOptions,A.extendFlat({},T,a.selectedOptions,a.viewOpts)):a.matrix.update(T,null),a.selectBatch=E,a.unselectBatch=x,g}},90167:function(tt,W,t){"use strict";var A=t(49084),y=t(29736).axisHoverFormat,i=t(21776).Ks,P=t(52948),L=t(45464),l=t(92880).extendFlat,m={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:y("u",1),vhoverformat:y("v",1),whoverformat:y("w",1),xhoverformat:y("x"),yhoverformat:y("y"),zhoverformat:y("z"),showlegend:l({},L.showlegend,{dflt:!1})};l(m,A("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(e){m[e]=P[e]}),m.hoverinfo=l({},L.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),m.transforms=void 0,tt.exports=m},3832:function(tt,W,t){"use strict";var A=t(3400),y=t(47128);function P(m){var h,f,u,b,E,x,S,T,n,C,p,F,r=m._x,e=m._y,s=m._z,a=m._len,g=-1/0,c=1/0,w=-1/0,d=1/0,o=-1/0,v=1/0,M="";for(a&&(S=r[0],n=e[0],p=s[0]),a>1&&(T=r[a-1],C=e[a-1],F=s[a-1]),h=0;h<a;h++)g=Math.max(g,r[h]),c=Math.min(c,r[h]),w=Math.max(w,e[h]),d=Math.min(d,e[h]),o=Math.max(o,s[h]),v=Math.min(v,s[h]),!b&&r[h]!==S&&(b=!0,M+="x"),!E&&e[h]!==n&&(E=!0,M+="y"),!x&&s[h]!==p&&(x=!0,M+="z");b||(M+="x"),E||(M+="y"),x||(M+="z");var D=L(m._x),N=L(m._y),k=L(m._z);M=(M=(M=M.replace("x",(S>T?"-":"+")+"x")).replace("y",(n>C?"-":"+")+"y")).replace("z",(p>F?"-":"+")+"z");var z=function(){a=0,D=[],N=[],k=[]};(!a||a<D.length*N.length*k.length)&&z();var B=function(st){return"x"===st?r:"y"===st?e:s},O=function(st){return"x"===st?D:"y"===st?N:k},U=function(st){return st[a-1]<st[0]?-1:1},G=B(M[1]),J=B(M[3]),et=B(M[5]),at=O(M[1]).length,lt=O(M[3]).length,K=O(M[5]).length,j=!1,rt=function(st,dt,xt){return at*(lt*st+dt)+xt},H=U(B(M[1])),Z=U(B(M[3])),it=U(B(M[5]));for(h=0;h<K-1;h++){for(f=0;f<lt-1;f++){for(u=0;u<at-1;u++){var Q=rt(h,f,u),Y=rt(h,f,u+1),nt=rt(h,f+1,u),_=rt(h+1,f,u);if(G[Q]*H<G[Y]*H&&J[Q]*Z<J[nt]*Z&&et[Q]*it<et[_]*it||(j=!0),j)break}if(j)break}if(j)break}return j&&(A.warn("Encountered arbitrary coordinates! Unable to input data grid."),z()),{xMin:c,yMin:d,zMin:v,xMax:g,yMax:w,zMax:o,Xs:D,Ys:N,Zs:k,len:a,fill:M}}function L(m){return A.distinctVals(m).vals}function l(m,r){if(void 0===r&&(r=m.length),A.isTypedArray(m))return m.subarray(0,r);for(var e=[],s=0;s<r;s++)e[s]=+m[s];return e}tt.exports={calc:function i(m,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=l(r.u,r._len),r._v=l(r.v,r._len),r._w=l(r.w,r._len),r._x=l(r.x,r._len),r._y=l(r.y,r._len),r._z=l(r.z,r._len);var e=P(r);r._gridFill=e.fill,r._Xs=e.Xs,r._Ys=e.Ys,r._Zs=e.Zs,r._len=e.len;var a,h,f,s=0;r.starts&&(a=l(r.starts.x||[]),h=l(r.starts.y||[]),f=l(r.starts.z||[]),s=Math.min(a.length,h.length,f.length)),r._startsX=a||[],r._startsY=h||[],r._startsZ=f||[];var c,u=0,g=1/0;for(c=0;c<r._len;c++){var w=r._u[c],d=r._v[c],o=r._w[c],v=Math.sqrt(w*w+d*d+o*o);u=Math.max(u,v),g=Math.min(g,v)}for(y(m,r,{vals:[g,u],containerStr:"",cLetter:"c"}),c=0;c<s;c++){var M=a[c];e.xMax=Math.max(e.xMax,M),e.xMin=Math.min(e.xMin,M);var b=h[c];e.yMax=Math.max(e.yMax,b),e.yMin=Math.min(e.yMin,b);var E=f[c];e.zMax=Math.max(e.zMax,E),e.zMin=Math.min(e.zMin,E)}r._slen=s,r._normMax=u,r._xbnds=[e.xMin,e.xMax],r._ybnds=[e.yMin,e.yMax],r._zbnds=[e.zMin,e.zMax]},filter:l,processGrid:P}},25668:function(tt,W,t){"use strict";var A=t(67792).gl_streamtube3d,y=A.createTubeMesh,i=t(3400),P=t(33040).parseColorScale,L=t(8932).extractOpts,l=t(52094),m={xaxis:0,yaxis:1,zaxis:2};function r(u,g){this.scene=u,this.uid=g,this.mesh=null,this.data=null}var e=r.prototype;function s(u){var g=u.length;return g>2?u.slice(1,g-1):2===g?[(u[0]+u[1])/2]:u}function a(u){var g=u.length;return 1===g?[.5,.5]:[u[1]-u[0],u[g-1]-u[g-2]]}function h(u,g){var c=u.fullSceneLayout,w=u.dataScale,d=g._len,o={};function v(lt,K){var j=c[K],rt=w[m[K]];return i.simpleMap(lt,function(H){return j.d2l(H)*rt})}if(o.vectors=l(v(g._u,"xaxis"),v(g._v,"yaxis"),v(g._w,"zaxis"),d),!d)return{positions:[],cells:[]};var M=v(g._Xs,"xaxis"),b=v(g._Ys,"yaxis"),E=v(g._Zs,"zaxis");if(o.meshgrid=[M,b,E],o.gridFill=g._gridFill,g._slen)o.startingPositions=l(v(g._startsX,"xaxis"),v(g._startsY,"yaxis"),v(g._startsZ,"zaxis"));else{for(var S=b[0],T=s(M),n=s(E),C=new Array(T.length*n.length),p=0,F=0;F<T.length;F++)for(var D=0;D<n.length;D++)C[p++]=[T[F],S,n[D]];o.startingPositions=C}o.colormap=P(g),o.tubeSize=g.sizeref,o.maxLength=g.maxdisplayed;var N=v(g._xbnds,"xaxis"),k=v(g._ybnds,"yaxis"),z=v(g._zbnds,"zaxis"),B=a(M),O=a(b),U=a(E),J=A(o,[[N[0]-B[0],k[0]-O[0],z[0]-U[0]],[N[1]+B[1],k[1]+O[1],z[1]+U[1]]]),et=L(g);J.vertexIntensityBounds=[et.min/g._normMax,et.max/g._normMax];var at=g.lightposition;return J.lightPosition=[at.x,at.y,at.z],J.ambient=g.lighting.ambient,J.diffuse=g.lighting.diffuse,J.specular=g.lighting.specular,J.roughness=g.lighting.roughness,J.fresnel=g.lighting.fresnel,J.opacity=g.opacity,g._pad=J.tubeScale*g.sizeref*2,J}e.handlePick=function(u){var g=this.scene.fullSceneLayout,c=this.scene.dataScale;function w(v,M){var E=c[m[M]];return g[M].l2c(v)/E}if(u.object===this.mesh){var d=u.data.position,o=u.data.velocity;return u.traceCoordinate=[w(d[0],"xaxis"),w(d[1],"yaxis"),w(d[2],"zaxis"),w(o[0],"xaxis"),w(o[1],"yaxis"),w(o[2],"zaxis"),u.data.intensity*this.data._normMax,u.data.divergence],u.textLabel=this.data.hovertext||this.data.text,!0}},e.update=function(u){this.data=u;var g=h(this.scene,u);this.mesh.update(g)},e.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},tt.exports=function f(u,g){var c=u.glplot.gl,w=h(u,g),d=y(c,w),o=new r(u,g.uid);return o.mesh=d,o.data=g,d._trace=o,u.glplot.add(d),o}},54304:function(tt,W,t){"use strict";var A=t(3400),y=t(27260),i=t(90167);tt.exports=function(L,l,m,r){function e(c,w){return A.coerce(L,l,i,c,w)}var s=e("u"),a=e("v"),h=e("w"),f=e("x"),u=e("y"),g=e("z");s&&s.length&&a&&a.length&&h&&h.length&&f&&f.length&&u&&u.length&&g&&g.length?(e("starts.x"),e("starts.y"),e("starts.z"),e("maxdisplayed"),e("sizeref"),e("lighting.ambient"),e("lighting.diffuse"),e("lighting.specular"),e("lighting.roughness"),e("lighting.fresnel"),e("lightposition.x"),e("lightposition.y"),e("lightposition.z"),y(L,l,r,e,{prefix:"",cLetter:"c"}),e("text"),e("hovertext"),e("hovertemplate"),e("uhoverformat"),e("vhoverformat"),e("whoverformat"),e("xhoverformat"),e("yhoverformat"),e("zhoverformat"),l._length=null):l.visible=!1}},15436:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"streamtube",basePlotModule:t(12536),categories:["gl3d","showLegend"],attributes:t(90167),supplyDefaults:t(54304),colorbar:{min:"cmin",max:"cmax"},calc:t(3832).calc,plot:t(25668),eventData:function(A,y){return A.tubex=A.x,A.tubey=A.y,A.tubez=A.z,A.tubeu=y.traceCoordinate[3],A.tubev=y.traceCoordinate[4],A.tubew=y.traceCoordinate[5],A.norm=y.traceCoordinate[6],A.divergence=y.traceCoordinate[7],delete A.x,delete A.y,delete A.z,A},meta:{}}},424:function(tt,W,t){"use strict";var A=t(45464),y=t(21776).Ks,i=t(21776).Gw,P=t(49084),L=t(86968).u,l=t(74996),m=t(27328),r=t(92880).extendFlat,e=t(98192).c;tt.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},l.marker.line.color,{dflt:null}),width:r({},l.marker.line.width,{dflt:1}),editType:"calc"},pattern:e,editType:"calc"},P("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:l.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:i({editType:"plot"},{keys:m.eventDataKeys.concat(["label","value"])}),hovertext:l.hovertext,hoverinfo:r({},A.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:y({},{keys:m.eventDataKeys}),textfont:l.textfont,insidetextorientation:l.insidetextorientation,insidetextfont:l.insidetextfont,outsidetextfont:r({},l.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:l.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:L({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(tt,W,t){"use strict";var A=t(7316);W.name="sunburst",W.plot=function(y,i,P,L){A.plotBasePlot(W.name,y,i,P,L)},W.clean=function(y,i,P,L){A.cleanBasePlot(W.name,y,i,P,L)}},3776:function(tt,W,t){"use strict";var A=t(74148),y=t(38248),i=t(3400),P=t(8932).makeColorScaleFuncFromTrace,L=t(45768).makePullColorFn,l=t(45768).generateExtendedColors,m=t(8932).calc,r=t(39032).ALMOST_EQUAL,e={},s={},a={};function h(f,u,g){var c=0,w=f.children;if(w){for(var d=w.length,o=0;o<d;o++)c+=h(w[o],u,g);g.branches&&c++}else g.leaves&&c++;return f.value=f.data.data.value=c,u._values||(u._values=[]),u._values[f.data.data.i]=c,c}W.calc=function(f,u){var C,p,F,J,H,Z,g=f._fullLayout,c=u.ids,w=i.isArrayOrTypedArray(c),d=u.labels,o=u.parents,v=u.values,M=i.isArrayOrTypedArray(v),b=[],E={},x={},T=function(H){return H||"number"==typeof H},n=function(H){return!M||y(v[H])&&v[H]>=0};w?(C=Math.min(c.length,o.length),p=function(H){return T(c[H])&&n(H)},F=function(H){return String(c[H])}):(C=Math.min(d.length,o.length),p=function(H){return T(d[H])&&n(H)},F=function(H){return String(d[H])}),M&&(C=Math.min(C,v.length));for(var D=0;D<C;D++)if(p(D)){var N=F(D),k=T(o[D])?String(o[D]):"",z={i:D,id:N,pid:k,label:T(d[D])?String(d[D]):""};M&&(z.v=+v[D]),b.push(z),Z=N,E[H=k]?E[H].push(Z):E[H]=[Z],x[Z]=1}if(E[""]){if(E[""].length>1){for(var U=i.randstr(),G=0;G<b.length;G++)""===b[G].pid&&(b[G].pid=U);b.unshift({hasMultipleRoots:!0,id:U,pid:"",label:""})}}else{var O,B=[];for(O in E)x[O]||B.push(O);if(1!==B.length)return i.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",B.join(", ")].join(" "));b.unshift({hasImpliedRoot:!0,id:O=B[0],pid:"",label:O})}try{J=A.stratify().id(function(H){return H.id}).parentId(function(H){return H.pid})(b)}catch(H){return i.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",H.message].join(" "))}var et=A.hierarchy(J),at=!1;if(M)switch(u.branchvalues){case"remainder":et.sum(function(H){return H.data.v});break;case"total":et.each(function(H){var Z=H.data.data,it=Z.v;if(H.children){var Q=H.children.reduce(function(Y,nt){return Y+nt.data.data.v},0);if((Z.hasImpliedRoot||Z.hasMultipleRoots)&&(it=Q),it<Q*r)return at=!0,i.warn(["Total value for node",H.data.data.id,"of",u.name,"is smaller than the sum of its children.","\nparent value =",it,"\nchildren sum =",Q].join(" "))}H.value=it})}else h(et,u,{branches:-1!==u.count.indexOf("branches"),leaves:-1!==u.count.indexOf("leaves")});if(!at){u.sort&&et.sort(function(H,Z){return Z.value-H.value});var lt,K,j=u.marker.colors||[];return u._hasColorscale?(!!j.length||(j=M?u.values:u._values),m(f,u,{vals:j,containerStr:"marker",cLetter:"c"}),K=P(u.marker)):lt=L(g["_"+u.type+"colormap"]),et.each(function(H){var Z=H.data.data;Z.color=u._hasColorscale?K(j[Z.i]):lt(j[Z.i],Z.id)}),b[0].hierarchy=et,b}},W._runCrossTraceCalc=function(f,u){var g=u._fullLayout,c=u.calcdata,w=g[f+"colorway"],d=g["_"+f+"colormap"];g["extend"+f+"colors"]&&(w=l(w,"icicle"===f?a:"treemap"===f?s:e));var v,o=0;function M(S){var T=S.data.data,n=T.id;!1===T.color&&(d[n]?T.color=d[n]:S.parent?S.parent.parent?T.color=S.parent.data.data.color:(d[n]=T.color=w[o%w.length],o++):T.color=v)}for(var b=0;b<c.length;b++){var x=c[b][0];x.trace.type===f&&x.hierarchy&&(v=x.trace.root.color,x.hierarchy.each(M))}},W.crossTraceCalc=function(f){return W._runCrossTraceCalc("sunburst",f)}},27328:function(tt){"use strict";tt.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(tt,W,t){"use strict";var A=t(3400),y=t(424),i=t(86968).Q,P=t(31508).handleText,L=t(74174).handleMarkerDefaults,l=t(8932),m=l.hasColorscale,r=l.handleDefaults;tt.exports=function(s,a,h,f){function u(M,b){return A.coerce(s,a,y,M,b)}var g=u("labels"),c=u("parents");if(g&&g.length&&c&&c.length){var w=u("values");u(w&&w.length?"branchvalues":"count"),u("level"),u("maxdepth"),L(s,a,f,u);var d=a._hasColorscale=m(s,"marker","colors")||(s.marker||{}).coloraxis;d&&r(s,a,f,u,{prefix:"marker.",cLetter:"c"}),u("leaf.opacity",d?1:.7);var o=u("text");u("texttemplate"),a.texttemplate||u("textinfo",A.isArrayOrTypedArray(o)?"text+label":"label"),u("hovertext"),u("hovertemplate"),P(s,a,f,u,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u("insidetextorientation"),u("sort"),u("rotation"),u("root.color"),i(a,f,u),a._length=null}else a.visible=!1}},60404:function(tt,W,t){"use strict";var A=t(43616),y=t(76308);tt.exports=function(P,L,l,m,r){var e=L.data.data,a=r||e.color;if(e.i>=0){L.i=e.i;var h=l.marker;h.pattern?(!h.colors||!h.pattern.shape)&&(h.color=a,L.color=a):(h.color=a,L.color=a),A.pointStyle(P,l,m,L)}else y.fill(P,a)}},45716:function(tt,W,t){"use strict";var A=t(33428),y=t(24040),i=t(10624).appendArrayPointValue,P=t(93024),L=t(3400),l=t(95924),m=t(78176),e=t(69656).formatPieValue;function s(a,h,f){for(var u=a.data.data,g={curveNumber:h.index,pointNumber:u.i,data:h._input,fullData:h},c=0;c<f.length;c++){var w=f[c];w in a&&(g[w]=a[w])}return"parentString"in a&&!m.isHierarchyRoot(a)&&(g.parent=a.parentString),i(g,h,u.i),g}tt.exports=function(h,f,u,g,c){var w=g[0],d=w.trace,o=w.hierarchy,v="sunburst"===d.type,M="treemap"===d.type||"icicle"===d.type;"_hasHoverLabel"in d||(d._hasHoverLabel=!1),"_hasHoverEvent"in d||(d._hasHoverEvent=!1);h.on("mouseover",function(S){var T=u._fullLayout;if(!u._dragging&&!1!==T.hovermode){var U,n=u._fullData[d.index],C=S.data.data,p=C.i,F=m.isHierarchyRoot(S),D=m.getParent(o,S),N=m.getValue(S),k=function(Y){return L.castOption(n,p,Y)},z=k("hovertemplate"),B=P.castHoverinfo(n,T,p),O=T.separators;if(z||B&&"none"!==B&&"skip"!==B){var G,J;v&&(G=w.cx+S.pxmid[0]*(1-S.rInscribed),J=w.cy+S.pxmid[1]*(1-S.rInscribed)),M&&(G=S._hoverX,J=S._hoverY);var et={},at=[],lt=[],K=function(Y){return-1!==at.indexOf(Y)};B&&(at="all"===B?n._module.attributes.hoverinfo.flags:B.split("+")),et.label=C.label,K("label")&&et.label&&lt.push(et.label),C.hasOwnProperty("v")&&(et.value=C.v,et.valueLabel=e(et.value,O),K("value")&&lt.push(et.valueLabel)),et.currentPath=S.currentPath=m.getPath(S.data),K("current path")&&!F&&lt.push(et.currentPath);var j,rt=[],H=function(){-1===rt.indexOf(j)&&(lt.push(j),rt.push(j))};et.percentParent=S.percentParent=N/m.getValue(D),et.parent=S.parentString=m.getPtLabel(D),K("percent parent")&&(j=m.formatPercent(et.percentParent,O)+" of "+et.parent,H()),et.percentEntry=S.percentEntry=N/m.getValue(f),et.entry=S.entry=m.getPtLabel(f),K("percent entry")&&!F&&!S.onPathbar&&(j=m.formatPercent(et.percentEntry,O)+" of "+et.entry,H()),et.percentRoot=S.percentRoot=N/m.getValue(o),et.root=S.root=m.getPtLabel(o),K("percent root")&&!F&&(j=m.formatPercent(et.percentRoot,O)+" of "+et.root,H()),et.text=k("hovertext")||k("text"),K("text")&&L.isValidTextValue(j=et.text)&&lt.push(j),U=[s(S,n,c.eventDataKeys)];var Z={trace:n,y:J,_x0:S._x0,_x1:S._x1,_y0:S._y0,_y1:S._y1,text:lt.join("<br>"),name:z||K("name")?n.name:void 0,color:k("hoverlabel.bgcolor")||C.color,borderColor:k("hoverlabel.bordercolor"),fontFamily:k("hoverlabel.font.family"),fontSize:k("hoverlabel.font.size"),fontColor:k("hoverlabel.font.color"),nameLength:k("hoverlabel.namelength"),textAlign:k("hoverlabel.align"),hovertemplate:z,hovertemplateLabels:et,eventData:U};v&&(Z.x0=G-S.rInscribed*S.rpx1,Z.x1=G+S.rInscribed*S.rpx1,Z.idealAlign=S.pxmid[0]<0?"left":"right"),M&&(Z.x=G,Z.idealAlign=G<0?"left":"right");var it=[];P.loneHover(Z,{container:T._hoverlayer.node(),outerContainer:T._paper.node(),gd:u,inOut_bbox:it}),U[0].bbox=it[0],d._hasHoverLabel=!0}if(M){var Q=h.select("path.surface");c.styleOne(Q,S,n,u,{hovered:!0})}d._hasHoverEvent=!0,u.emit("plotly_hover",{points:U||[s(S,n,c.eventDataKeys)],event:A.event})}}),h.on("mouseout",function(S){var T=u._fullLayout,n=u._fullData[d.index],C=A.select(this).datum();if(d._hasHoverEvent&&(S.originalEvent=A.event,u.emit("plotly_unhover",{points:[s(C,n,c.eventDataKeys)],event:A.event}),d._hasHoverEvent=!1),d._hasHoverLabel&&(P.loneUnhover(T._hoverlayer.node()),d._hasHoverLabel=!1),M){var p=h.select("path.surface");c.styleOne(p,C,n,u,{hovered:!1})}}),h.on("click",function(S){var T=u._fullLayout,n=u._fullData[d.index],C=v&&(m.isHierarchyRoot(S)||m.isLeaf(S)),p=m.getPtId(S),F=m.isEntry(S)?m.findEntryWithChild(o,p):m.findEntryWithLevel(o,p),D=m.getPtId(F),N={points:[s(S,n,c.eventDataKeys)],event:A.event};C||(N.nextLevel=D);var k=l.triggerHandler(u,"plotly_"+d.type+"click",N);if(!1!==k&&T.hovermode&&(u._hoverdata=[s(S,n,c.eventDataKeys)],P.click(u,A.event)),!C&&!1!==k&&!u._dragging&&!u._transitioning){y.call("_storeDirectGUIEdit",n,T._tracePreGUI[n.uid],{level:n.level});var z={data:[{level:D}],traces:[d.index]},B={frame:{redraw:!1,duration:c.transitionTime},transition:{duration:c.transitionTime,easing:c.transitionEasing},mode:"immediate",fromcurrent:!0};P.loneUnhover(T._hoverlayer.node()),y.call("animate",u,z,B)}})}},78176:function(tt,W,t){"use strict";var A=t(3400),y=t(76308),i=t(93972),P=t(69656);function m(r){return r.data.data.pid}W.findEntryWithLevel=function(r,e){var s;return e&&r.eachAfter(function(a){if(W.getPtId(a)===e)return s=a.copy()}),s||r},W.findEntryWithChild=function(r,e){var s;return r.eachAfter(function(a){for(var h=a.children||[],f=0;f<h.length;f++)if(W.getPtId(h[f])===e)return s=a.copy()}),s||r},W.isEntry=function(r){return!r.parent},W.isLeaf=function(r){return!r.children},W.getPtId=function(r){return r.data.data.id},W.getPtLabel=function(r){return r.data.data.label},W.getValue=function(r){return r.value},W.isHierarchyRoot=function(r){return""===m(r)},W.setSliceCursor=function(r,e,s){var a=s.isTransitioning;if(!a){var h=r.datum();a=s.hideOnRoot&&W.isHierarchyRoot(h)||s.hideOnLeaves&&W.isLeaf(h)}i(r,a?null:"pointer")},W.getInsideTextFontKey=function(r,e,s,a,h){var g=s.data.data.i;return A.castOption(e,g,((h||{}).onPathbar?"pathbar.textfont":"insidetextfont")+"."+r)||A.castOption(e,g,"textfont."+r)||a.size},W.getOutsideTextFontKey=function(r,e,s,a){var h=s.data.data.i;return A.castOption(e,h,"outsidetextfont."+r)||A.castOption(e,h,"textfont."+r)||a.size},W.isOutsideText=function(r,e){return!r._hasColorscale&&W.isHierarchyRoot(e)},W.determineTextFont=function(r,e,s,a){return W.isOutsideText(r,e)?function L(r,e,s){return{color:W.getOutsideTextFontKey("color",r,e,s),family:W.getOutsideTextFontKey("family",r,e,s),size:W.getOutsideTextFontKey("size",r,e,s)}}(r,e,s):function l(r,e,s,a){var f=e.data.data,u=f.i,g=A.castOption(r,u,((a||{}).onPathbar?"pathbar.textfont":"insidetextfont")+".color");return!g&&r._input.textfont&&(g=A.castOption(r._input,u,"textfont.color")),{color:g||y.contrast(f.color),family:W.getInsideTextFontKey("family",r,e,s,a),size:W.getInsideTextFontKey("size",r,e,s,a)}}(r,e,s,a)},W.hasTransition=function(r){return!!(r&&r.duration>0)},W.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},W.isHeader=function(r,e){return!(W.isLeaf(r)||r.depth===e._maxDepth-1)},W.getParent=function(r,e){return W.findEntryWithLevel(r,m(e))},W.listPath=function(r,e){var s=r.parent;if(!s)return[];var a=e?[s.data[e]]:[s];return W.listPath(s,e).concat(a)},W.getPath=function(r){return W.listPath(r,"label").join("/")+"/"},W.formatValue=P.formatPieValue,W.formatPercent=function(r,e){var s=A.formatPercent(r,0);return"0%"===s&&(s=P.formatPiePercent(r,e)),s}},5621:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"sunburst",basePlotModule:t(54904),categories:[],animatable:!0,attributes:t(424),layoutAttributes:t(84920),supplyDefaults:t(25244),supplyLayoutDefaults:t(28732),calc:t(3776).calc,crossTraceCalc:t(3776).crossTraceCalc,plot:t(96488).plot,style:t(85676).style,colorbar:t(5528),meta:{}}},84920:function(tt){"use strict";tt.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(tt,W,t){"use strict";var A=t(3400),y=t(84920);tt.exports=function(P,L){function l(m,r){return A.coerce(P,L,y,m,r)}l("sunburstcolorway",L.colorway),l("extendsunburstcolors")}},96488:function(tt,W,t){"use strict";var A=t(33428),y=t(74148),i=t(67756).qy,P=t(43616),L=t(3400),l=t(72736),m=t(82744),r=m.recordMinTextSize,e=m.clearMinTextSize,s=t(37820),a=t(69656).getRotationAngle,h=s.computeTransform,f=s.transformInsideText,u=t(85676).styleOne,g=t(60100).resizeText,c=t(45716),w=t(27328),d=t(78176);function o(x,S,T,n){var C=x._context.staticPlot,p=x._fullLayout,F=!p.uniformtext.mode&&d.hasTransition(n),N=A.select(T).selectAll("g.slice"),k=S[0],z=k.trace,O=d.findEntryWithLevel(k.hierarchy,z.level),U=d.getMaxDepth(z),G=p._size,J=z.domain,at=G.h*(J.y[1]-J.y[0]),lt=.5*Math.min(G.w*(J.x[1]-J.x[0]),at),K=k.cx=G.l+G.w*(J.x[1]+J.x[0])/2,j=k.cy=G.t+G.h*(1-J.y[0])-at/2;if(!O)return N.remove();var rt=null,H={};F&&N.each(function(Vt){H[d.getPtId(Vt)]={rpx0:Vt.rpx0,rpx1:Vt.rpx1,x0:Vt.x0,x1:Vt.x1,transform:Vt.transform},!rt&&d.isEntry(Vt)&&(rt=Vt)});var Z=function v(x){return y.partition().size([2*Math.PI,x.height+1])(x)}(O).descendants(),it=O.height+1,Q=0,Y=U;k.hasMultipleRoots&&d.isHierarchyRoot(O)&&(Z=Z.slice(1),it-=1,Q=1,Y+=1),Z=Z.filter(function(Vt){return Vt.y1<=Y});var nt=a(z.rotation);nt&&Z.forEach(function(Vt){Vt.x0+=nt,Vt.x1+=nt});var _=Math.min(it,U),st=function(Vt){return(Vt-Q)/_*lt},dt=function(Vt,re){return[Vt*Math.cos(re),-Vt*Math.sin(re)]},xt=function(Vt){return L.pathAnnulus(Vt.rpx0,Vt.rpx1,Vt.x0,Vt.x1,K,j)},yt=function(Vt){return K+b(Vt)[0]*(Vt.transform.rCenter||0)+(Vt.transform.x||0)},St=function(Vt){return j+b(Vt)[1]*(Vt.transform.rCenter||0)+(Vt.transform.y||0)};(N=N.data(Z,d.getPtId)).enter().append("g").classed("slice",!0),F?N.exit().transition().each(function(){var Vt=A.select(this);Vt.select("path.surface").transition().attrTween("d",function(It){var Rt=function Mt(Vt){var Rt,re=d.getPtId(Vt),le=H[re],It=H[d.getPtId(O)];if(It){var $t=(Vt.x1>It.x1?2*Math.PI:0)+nt;Rt=Vt.rpx1<It.rpx1?{x0:Vt.x0,x1:Vt.x1,rpx0:0,rpx1:0}:{x0:$t,x1:$t,rpx0:Vt.rpx0,rpx1:Vt.rpx1}}else{var oe,se=d.getPtId(Vt.parent);N.each(function(Wt){if(d.getPtId(Wt)===se)return oe=Wt});var de,ve=oe.children;ve.forEach(function(Wt,Xt){if(d.getPtId(Wt)===re)return de=Xt});var jt=ve.length,Ct=i(oe.x0,oe.x1);Rt={rpx0:lt,rpx1:lt,x0:Ct(de/jt),x1:Ct((de+1)/jt)}}return i(le,Rt)}(It);return function($t){return xt(Rt($t))}}),Vt.select("g.slicetext").attr("opacity",0)}).remove():N.exit().remove(),N.order();var Et=null;if(F&&rt){var Tt=d.getPtId(rt);N.each(function(Vt){null===Et&&d.getPtId(Vt)===Tt&&(Et=Vt.x1)})}var gt=N;function Gt(Vt){var le,re=H[d.getPtId(Vt)],It=Vt.transform;if(re)le=re;else if(le={rpx1:Vt.rpx1,transform:{textPosAngle:It.textPosAngle,scale:0,rotate:It.rotate,rCenter:It.rCenter,x:It.x,y:It.y}},rt)if(Vt.parent)if(Et){var Rt=Vt.x1>Et?2*Math.PI:0;le.x0=le.x1=Rt}else L.extendFlat(le,Pt(Vt));else le.x0=le.x1=nt;else le.x0=le.x1=nt;var $t=i(le.transform.textPosAngle,Vt.transform.textPosAngle),oe=i(le.rpx1,Vt.rpx1),se=i(le.x0,Vt.x0),ve=i(le.x1,Vt.x1),de=i(le.transform.scale,It.scale),jt=i(le.transform.rotate,It.rotate),Ct=0===It.rCenter?3:0===le.transform.rCenter?1/3:1,Wt=i(le.transform.rCenter,It.rCenter);return function(Ht){var Bt=oe(Ht),zt=se(Ht),kt=ve(Ht),wt=function(Ht){return Wt(Math.pow(Ht,Ct))}(Ht),Dt={pxmid:dt(Bt,(zt+kt)/2),rpx1:Bt,transform:{textPosAngle:$t(Ht),rCenter:wt,x:It.x,y:It.y}};return r(z.type,It,p),{transform:{targetX:yt(Dt),targetY:St(Dt),scale:de(Ht),rotate:jt(Ht),rCenter:wt}}}}function Pt(Vt){var re=Vt.parent,le=H[d.getPtId(re)],It={};if(le){var Rt=re.children,$t=Rt.indexOf(Vt),oe=Rt.length,se=i(le.x0,le.x1);It.x0=se($t/oe),It.x1=se($t/oe)}else It.x0=It.x1=0;return It}F&&(gt=gt.transition().each("end",function(){var Vt=A.select(this);d.setSliceCursor(Vt,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),gt.each(function(Vt){var re=A.select(this),le=L.ensureSingle(re,"path","surface",function(ve){ve.style("pointer-events",C?"none":"all")});Vt.rpx0=st(Vt.y0),Vt.rpx1=st(Vt.y1),Vt.xmid=(Vt.x0+Vt.x1)/2,Vt.pxmid=dt(Vt.rpx1,Vt.xmid),Vt.midangle=-(Vt.xmid-Math.PI/2),Vt.startangle=-(Vt.x0-Math.PI/2),Vt.stopangle=-(Vt.x1-Math.PI/2),Vt.halfangle=.5*Math.min(L.angleDelta(Vt.x0,Vt.x1)||Math.PI,Math.PI),Vt.ring=1-Vt.rpx0/Vt.rpx1,Vt.rInscribed=function M(x){return 0===x.rpx0&&L.isFullCircle([x.x0,x.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(x.halfangle)),x.ring/2))}(Vt),F?le.transition().attrTween("d",function(ve){var de=function Nt(Vt){var le,re=H[d.getPtId(Vt)],It={x0:Vt.x0,x1:Vt.x1,rpx0:Vt.rpx0,rpx1:Vt.rpx1};if(re)le=re;else if(rt)if(Vt.parent)if(Et){var Rt=(Vt.x1>Et?2*Math.PI:0)+nt;le={x0:Rt,x1:Rt}}else L.extendFlat(le={rpx0:lt,rpx1:lt},Pt(Vt));else le={rpx0:0,rpx1:0};else le={x0:nt,x1:nt};return i(le,It)}(ve);return function(jt){return xt(de(jt))}}):le.attr("d",xt),re.call(c,O,x,S,{eventDataKeys:w.eventDataKeys,transitionTime:w.CLICK_TRANSITION_TIME,transitionEasing:w.CLICK_TRANSITION_EASING}).call(d.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),le.call(u,Vt,z,x);var It=L.ensureSingle(re,"g","slicetext"),Rt=L.ensureSingle(It,"text","",function(ve){ve.attr("data-notex",1)}),$t=L.ensureUniformFontSize(x,d.determineTextFont(z,Vt,p.font));Rt.text(W.formatSliceLabel(Vt,O,z,S,p)).classed("slicetext",!0).attr("text-anchor","middle").call(P.font,$t).call(l.convertToTspans,x);var oe=P.bBox(Rt.node());Vt.transform=f(oe,Vt,k),Vt.transform.targetX=yt(Vt),Vt.transform.targetY=St(Vt);var se=function(ve,de){var jt=ve.transform;return h(jt,de),jt.fontSize=$t.size,r(z.type,jt,p),L.getTextTransform(jt)};F?Rt.transition().attrTween("transform",function(ve){var de=Gt(ve);return function(jt){return se(de(jt),oe)}}):Rt.attr("transform",se(Vt,oe))})}function b(x){return function E(x,S){return[x*Math.sin(S),-x*Math.cos(S)]}(x.rpx1,x.transform.textPosAngle)}W.plot=function(x,S,T,n){var F,D,C=x._fullLayout,p=C._sunburstlayer,N=!T,k=!C.uniformtext.mode&&d.hasTransition(T);e("sunburst",C),(F=p.selectAll("g.trace.sunburst").data(S,function(B){return B[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),F.order(),k?(n&&(D=n()),A.transition().duration(T.duration).ease(T.easing).each("end",function(){D&&D()}).each("interrupt",function(){D&&D()}).each(function(){p.selectAll("g.trace").each(function(B){o(x,B,this,T)})})):(F.each(function(B){o(x,B,this,T)}),C.uniformtext.mode&&g(x,C._sunburstlayer.selectAll(".trace"),"sunburst")),N&&F.exit().remove()},W.formatSliceLabel=function(x,S,T,n,C){var p=T.texttemplate,F=T.textinfo;if(!(p||F&&"none"!==F))return"";var D=C.separators,k=x.data.data,z=n[0].hierarchy,B=d.isHierarchyRoot(x),O=d.getParent(z,x),U=d.getValue(x);if(!p){var at,G=F.split("+"),J=function(Q){return-1!==G.indexOf(Q)},et=[];if(J("label")&&k.label&&et.push(k.label),k.hasOwnProperty("v")&&J("value")&&et.push(d.formatValue(k.v,D)),!B){J("current path")&&et.push(d.getPath(x.data));var lt=0;J("percent parent")&&lt++,J("percent entry")&&lt++,J("percent root")&&lt++;var K=lt>1;if(lt){var j,rt=function(Q){at=d.formatPercent(j,D),K&&(at+=" of "+Q),et.push(at)};J("percent parent")&&!B&&(j=U/d.getValue(O),rt("parent")),J("percent entry")&&(j=U/d.getValue(S),rt("entry")),J("percent root")&&(j=U/d.getValue(z),rt("root"))}}return J("text")&&(at=L.castOption(T,k.i,"text"),L.isValidTextValue(at)&&et.push(at)),et.join("<br>")}var H=L.castOption(T,k.i,"texttemplate");if(!H)return"";var Z={};k.label&&(Z.label=k.label),k.hasOwnProperty("v")&&(Z.value=k.v,Z.valueLabel=d.formatValue(k.v,D)),Z.currentPath=d.getPath(x.data),B||(Z.percentParent=U/d.getValue(O),Z.percentParentLabel=d.formatPercent(Z.percentParent,D),Z.parent=d.getPtLabel(O)),Z.percentEntry=U/d.getValue(S),Z.percentEntryLabel=d.formatPercent(Z.percentEntry,D),Z.entry=d.getPtLabel(S),Z.percentRoot=U/d.getValue(z),Z.percentRootLabel=d.formatPercent(Z.percentRoot,D),Z.root=d.getPtLabel(z),k.hasOwnProperty("color")&&(Z.color=k.color);var it=L.castOption(T,k.i,"text");return(L.isValidTextValue(it)||""===it)&&(Z.text=it),Z.customdata=L.castOption(T,k.i,"customdata"),L.texttemplateString(H,Z,C._d3locale,Z,T._meta||{})}},85676:function(tt,W,t){"use strict";var A=t(33428),y=t(76308),i=t(3400),P=t(82744).resizeText,L=t(60404);function m(r,e,s,a){var f=!e.children,u=e.data.data.i,g=i.castOption(s,u,"marker.line.color")||y.defaultLine,c=i.castOption(s,u,"marker.line.width")||0;r.call(L,e,s,a).style("stroke-width",c).call(y.stroke,g).style("opacity",f?s.leaf.opacity:null)}tt.exports={style:function l(r){var e=r._fullLayout._sunburstlayer.selectAll(".trace");P(r,e,"sunburst"),e.each(function(s){var a=A.select(this),f=s[0].trace;a.style("opacity",f.opacity),a.selectAll("path.surface").each(function(u){A.select(this).call(m,u,f,r)})})},styleOne:m}},16716:function(tt,W,t){"use strict";var A=t(76308),y=t(49084),i=t(29736).axisHoverFormat,P=t(21776).Ks,L=t(45464),l=t(92880).extendFlat,m=t(67824).overrideAll;function e(a){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:A.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:A.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var s=tt.exports=m(l({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:P(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},y("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:e(),y:e(),z:e()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:l({},y.zauto,{}),zmin:l({},y.zmin,{}),zmax:l({},y.zmax,{})},hoverinfo:l({},L.hoverinfo),showlegend:l({},L.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes",s.transforms=void 0},56576:function(tt,W,t){"use strict";var A=t(47128);tt.exports=function(i,P){A(i,P,P.surfacecolor?{vals:P.surfacecolor,containerStr:"",cLetter:"c"}:{vals:P.z,containerStr:"",cLetter:"c"})}},79164:function(tt,W,t){"use strict";var A=t(67792).gl_surface3d,y=t(67792).ndarray,i=t(67792).ndarray_linear_interpolate.d2,P=t(70448),L=t(11240),l=t(3400).isArrayOrTypedArray,m=t(33040).parseColorScale,r=t(43080),e=t(8932).extractOpts;function s(n,C,p){this.scene=n,this.uid=p,this.surface=C,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var a=s.prototype;a.getXat=function(n,C,p,F){var D=l(this.data.x)?l(this.data.x[0])?this.data.x[C][n]:this.data.x[n]:n;return void 0===p?D:F.d2l(D,0,p)},a.getYat=function(n,C,p,F){var D=l(this.data.y)?l(this.data.y[0])?this.data.y[C][n]:this.data.y[C]:C;return void 0===p?D:F.d2l(D,0,p)},a.getZat=function(n,C,p,F){var D=this.data.z[C][n];return null===D&&this.data.connectgaps&&this.data._interpolatedZ&&(D=this.data._interpolatedZ[C][n]),void 0===p?D:F.d2l(D,0,p)},a.handlePick=function(n){if(n.object===this.surface){var p=(n.data.index[1]-1)/this.dataScaleY-1,F=Math.max(Math.min(Math.round((n.data.index[0]-1)/this.dataScaleX-1),this.data.z[0].length-1),0),D=Math.max(Math.min(Math.round(p),this.data._ylength-1),0);n.index=[F,D],n.traceCoordinate=[this.getXat(F,D),this.getYat(F,D),this.getZat(F,D)],n.dataCoordinate=[this.getXat(F,D,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(F,D,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(F,D,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var N=0;N<3;N++)null!=n.dataCoordinate[N]&&(n.dataCoordinate[N]*=this.scene.dataScale[N]);var z=this.data.hovertext||this.data.text;return n.textLabel=l(z)&&z[D]&&void 0!==z[D][F]?z[D][F]:z||"",n.data.dataCoordinate=n.dataCoordinate.slice(),this.surface.highlight(n.data),this.scene.glplot.spikes.position=n.dataCoordinate,!0}};var f=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function u(n,C){if(n<C)return 0;for(var p=0;0===Math.floor(n%C);)n/=C,p++;return p}function g(n){for(var C=[],p=0;p<f.length;p++)C.push(u(n,f[p]));return C}function c(n){for(var C=g(n),p=n,F=0;F<f.length;F++)if(C[F]>0){p=f[F];break}return p}function w(n,C){if(!(n<1||C<1)){for(var p=g(n),F=g(C),D=1,N=0;N<f.length;N++)D*=Math.pow(f[N],Math.max(p[N],F[N]));return D}}a.calcXnums=function(n){var C,p=[];for(C=1;C<n;C++){var F=this.getXat(C-1,0),D=this.getXat(C,0);p[C-1]=D!==F&&null!=F&&null!=D?Math.abs(D-F):0}var N=0;for(C=1;C<n;C++)N+=p[C-1];for(C=1;C<n;C++)p[C-1]=0===p[C-1]?1:Math.round(N/p[C-1]);return p},a.calcYnums=function(n){var C,p=[];for(C=1;C<n;C++){var F=this.getYat(0,C-1),D=this.getYat(0,C);p[C-1]=D!==F&&null!=F&&null!=D?Math.abs(D-F):0}var N=0;for(C=1;C<n;C++)N+=p[C-1];for(C=1;C<n;C++)p[C-1]=0===p[C-1]?1:Math.round(N/p[C-1]);return p};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],v=o[9],M=o[13];function b(n,C,p){var F=p[8]+p[2]*C[0]+p[5]*C[1];return n[0]=(p[6]+p[0]*C[0]+p[3]*C[1])/F,n[1]=(p[7]+p[1]*C[0]+p[4]*C[1])/F,n}function E(n,C,p){return function x(n,C,p,F){for(var D=[0,0],N=n.shape[0],k=n.shape[1],z=0;z<N;z++)for(var B=0;B<k;B++)p(D,[z,B],F),n.set(z,B,i(C,D[0],D[1]));return n}(n,C,b,p),n}function S(n,C){for(var p=!1,F=0;F<n.length;F++)if(C===n[F]){p=!0;break}!1===p&&n.push(C)}a.estimateScale=function(n,C){for(var F=1+function d(n){if(0!==n.length){for(var C=1,p=0;p<n.length;p++)C=w(C,n[p]);return C}}(0===C?this.calcXnums(n):this.calcYnums(n));F<v;)F*=2;for(;F>M;)F--,F/=c(F),++F<v&&(F=M);var D=Math.round(F/n);return D>1?D:1},a.refineCoords=function(n){for(var C=this.dataScaleX,p=this.dataScaleY,F=n[0].shape[0],D=n[0].shape[1],N=0|Math.floor(n[0].shape[0]*C+1),k=0|Math.floor(n[0].shape[1]*p+1),z=1+F+1,B=1+D+1,O=y(new Float32Array(z*B),[z,B]),U=[1/C,0,0,0,1/p,0,0,0,1],G=0;G<n.length;++G){this.surface.padField(O,n[G]);var J=y(new Float32Array(N*k),[N,k]);E(J,O,U),n[G]=J}},a.setContourLevels=function(){var F,D,n=[[],[],[]],C=[!1,!1,!1],p=!1;for(F=0;F<3;++F)if(this.showContour[F]&&(p=!0,this.contourSize[F]>0&&null!==this.contourStart[F]&&null!==this.contourEnd[F]&&this.contourEnd[F]>this.contourStart[F]))for(C[F]=!0,D=this.contourStart[F];D<this.contourEnd[F];D+=this.contourSize[F])S(n[F],D*this.scene.dataScale[F]);if(p){var k=[[],[],[]];for(F=0;F<3;++F)this.showContour[F]&&(k[F]=C[F]?n[F]:this.scene.contourLevels[F]);this.surface.update({levels:k})}},a.update=function(n){var C=this.scene,p=C.fullSceneLayout,F=this.surface,D=m(n),N=C.dataScale,k=n.z[0].length,z=n._ylength,B=C.contourLevels;this.data=n;var O,U,G,J,et=[];for(O=0;O<3;O++)for(et[O]=[],U=0;U<k;U++)et[O][U]=[];for(U=0;U<k;U++)for(G=0;G<z;G++)et[0][U][G]=this.getXat(U,G,n.xcalendar,p.xaxis),et[1][U][G]=this.getYat(U,G,n.ycalendar,p.yaxis),et[2][U][G]=this.getZat(U,G,n.zcalendar,p.zaxis);if(n.connectgaps)for(n._emptypoints=L(et[2]),P(et[2],n._emptypoints),n._interpolatedZ=[],U=0;U<k;U++)for(n._interpolatedZ[U]=[],G=0;G<z;G++)n._interpolatedZ[U][G]=et[2][U][G];for(O=0;O<3;O++)for(U=0;U<k;U++)for(G=0;G<z;G++)null==(J=et[O][U][G])?et[O][U][G]=NaN:J=et[O][U][G]*=N[O];for(O=0;O<3;O++)for(U=0;U<k;U++)for(G=0;G<z;G++)null!=(J=et[O][U][G])&&(this.minValues[O]>J&&(this.minValues[O]=J),this.maxValues[O]<J&&(this.maxValues[O]=J));for(O=0;O<3;O++)this.objectOffset[O]=.5*(this.minValues[O]+this.maxValues[O]);for(O=0;O<3;O++)for(U=0;U<k;U++)for(G=0;G<z;G++)null!=(J=et[O][U][G])&&(et[O][U][G]-=this.objectOffset[O]);var at=[y(new Float32Array(k*z),[k,z]),y(new Float32Array(k*z),[k,z]),y(new Float32Array(k*z),[k,z])];for(O=0;O<3;O++)for(U=0;U<k;U++)for(G=0;G<z;G++)at[O].set(U,G,et[O][U][G]);et=[];var lt={colormap:D,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!n.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:n.opacityscale,opacity:n.opacity},K=e(n);if(lt.intensityBounds=[K.min,K.max],n.surfacecolor){var j=y(new Float32Array(k*z),[k,z]);for(U=0;U<k;U++)for(G=0;G<z;G++)j.set(U,G,n.surfacecolor[G][U]);at.push(j)}else lt.intensityBounds[0]*=N[2],lt.intensityBounds[1]*=N[2];(M<at[0].shape[0]||M<at[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(at[0].shape[0],0),this.dataScaleY=this.estimateScale(at[0].shape[1],1),(1!==this.dataScaleX||1!==this.dataScaleY)&&this.refineCoords(at)),n.surfacecolor&&(lt.intensity=at.pop());var rt=[!0,!0,!0],H=["x","y","z"];for(O=0;O<3;++O){var Z=n.contours[H[O]];rt[O]=Z.highlight,lt.showContour[O]=Z.show||Z.highlight,lt.showContour[O]&&(lt.contourProject[O]=[Z.project.x,Z.project.y,Z.project.z],Z.show?(this.showContour[O]=!0,lt.levels[O]=B[O],F.highlightColor[O]=lt.contourColor[O]=r(Z.color),F.highlightTint[O]=lt.contourTint[O]=Z.usecolormap?0:1,lt.contourWidth[O]=Z.width,this.contourStart[O]=Z.start,this.contourEnd[O]=Z.end,this.contourSize[O]=Z.size):(this.showContour[O]=!1,this.contourStart[O]=null,this.contourEnd[O]=null,this.contourSize[O]=0),Z.highlight&&(lt.dynamicColor[O]=r(Z.highlightcolor),lt.dynamicWidth[O]=Z.highlightwidth))}(function h(n){var C=n[0].rgb,p=n[n.length-1].rgb;return C[0]===p[0]&&C[1]===p[1]&&C[2]===p[2]&&C[3]===p[3]})(D)&&(lt.vertexColor=!0),lt.objectOffset=this.objectOffset,lt.coords=at,F.update(lt),F.visible=n.visible,F.enableDynamic=rt,F.enableHighlight=rt,F.snapToData=!0,"lighting"in n&&(F.ambientLight=n.lighting.ambient,F.diffuseLight=n.lighting.diffuse,F.specularLight=n.lighting.specular,F.roughness=n.lighting.roughness,F.fresnel=n.lighting.fresnel),"lightposition"in n&&(F.lightPosition=[n.lightposition.x,n.lightposition.y,n.lightposition.z])},a.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},tt.exports=function T(n,C){var F=A({gl:n.glplot.gl}),D=new s(n,F,C.uid);return F._trace=D,D.update(C),n.glplot.add(F),D}},60192:function(tt,W,t){"use strict";var A=t(24040),y=t(3400),i=t(27260),P=t(16716);function e(a,h,f,u){var g=u("opacityscale");"max"===g?h.opacityscale=[[0,.1],[1,1]]:"min"===g?h.opacityscale=[[0,1],[1,.1]]:"extremes"===g?h.opacityscale=function l(a,h){for(var f=[],g=0;g<32;g++){var c=g/31,w=h+(1-h)*(1-Math.pow(Math.sin(a*c*Math.PI),2));f.push([c,Math.max(0,Math.min(1,w))])}return f}(1,.1):function m(a){var h=0;if(!Array.isArray(a)||a.length<2||!a[0]||!a[a.length-1]||0!=+a[0][0]||1!=+a[a.length-1][0])return!1;for(var f=0;f<a.length;f++){var u=a[f];if(2!==u.length||+u[0]<h)return!1;h=+u[0]}return!0}(g)||(h.opacityscale=void 0)}function s(a,h,f){h in a&&!(f in a)&&(a[f]=a[h])}tt.exports={supplyDefaults:function r(a,h,f,u){var g,c;function w(n,C){return y.coerce(a,h,P,n,C)}var d=w("x"),o=w("y"),v=w("z");if(!v||!v.length||d&&d.length<1||o&&o.length<1)h.visible=!1;else{h._xlength=Array.isArray(d)&&y.isArrayOrTypedArray(d[0])?v.length:v[0].length,h._ylength=v.length,A.getComponentMethod("calendars","handleTraceDefaults")(a,h,["x","y","z"],u),w("text"),w("hovertext"),w("hovertemplate"),w("xhoverformat"),w("yhoverformat"),w("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(n){w(n)});var b=w("surfacecolor"),E=["x","y","z"];for(g=0;g<3;++g){var x="contours."+E[g],S=w(x+".show"),T=w(x+".highlight");if(S||T)for(c=0;c<3;++c)w(x+".project."+E[c]);S&&(w(x+".color"),w(x+".width"),w(x+".usecolormap")),T&&(w(x+".highlightcolor"),w(x+".highlightwidth")),w(x+".start"),w(x+".end"),w(x+".size")}b||(s(a,"zmin","cmin"),s(a,"zmax","cmax"),s(a,"zauto","cauto")),i(a,h,u,w,{prefix:"",cLetter:"c"}),e(0,h,0,w),h._length=null}},opacityscaleDefaults:e}},91304:function(tt,W,t){"use strict";tt.exports={attributes:t(16716),supplyDefaults:t(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:t(56576),plot:t(79164),moduleType:"trace",name:"surface",basePlotModule:t(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(tt,W,t){"use strict";var A=t(13916),y=t(92880).extendFlat,i=t(67824).overrideAll,P=t(25376),L=t(86968).u,l=t(29736).descriptionOnlyNumbers;(tt.exports=i({domain:L({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:l("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:y({},A.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:y({},P({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:l("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:y({},A.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:y({},P({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},85852:function(tt,W,t){"use strict";var A=t(84888)._M,y=t(24752),i="table";W.name=i,W.plot=function(P){var L=A(P.calcdata,i)[0];L.length&&y(P,L)},W.clean=function(P,L,l,m){var r=m._has&&m._has(i),e=L._has&&L._has(i);r&&!e&&m._paperdiv.selectAll(".table").remove()}},39312:function(tt,W,t){"use strict";var A=t(71688).wrap;tt.exports=function(){return A({})}},23536:function(tt){"use strict";tt.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(tt,W,t){"use strict";var A=t(23536),y=t(92880).extendFlat,i=t(38248),P=t(38116).isTypedArray,L=t(38116).isArrayOrTypedArray;function l(u){if(L(u)){for(var g=0,c=0;c<u.length;c++)g=Math.max(g,l(u[c]));return g}return u}function m(u,g){return u+g}function r(u){var d,g=u.slice(),c=1/0,w=0;for(d=0;d<g.length;d++)P(g[d])?g[d]=Array.from(g[d]):L(g[d])||(g[d]=[g[d]]),c=Math.min(c,g[d].length),w=Math.max(w,g[d].length);if(c!==w)for(d=0;d<g.length;d++){var o=w-g[d].length;o&&(g[d]=g[d].concat(e(o)))}return g}function e(u){for(var g=new Array(u),c=0;c<u;c++)g[c]="";return g}function s(u){return u.calcdata.columns.reduce(function(g,c){return c.xIndex<u.xIndex?g+c.columnWidth:g},0)}function a(u,g){return Object.keys(u).map(function(w){return y({},u[w],{auxiliaryBlocks:g})})}function h(u,g){for(var w,c={},d=0,o=0,v={firstRowIndex:null,lastRowIndex:null,rows:[]},M=0,b=0,E=0;E<u.length;E++)v.rows.push({rowIndex:E,rowHeight:w=u[E]}),((o+=w)>=g||E===u.length-1)&&(c[d]=v,v.key=b++,v.firstRowIndex=M,v.lastRowIndex=E,v={firstRowIndex:null,lastRowIndex:null,rows:[]},d+=o,M=E+1,o=0);return c}tt.exports=function(g,c){var w=r(c.cells.values),d=function(J){return J.slice(c.header.values.length,J.length)},o=r(c.header.values);o.length&&!o[0].length&&(o[0]=[""],o=r(o));var v=o.concat(d(w).map(function(){return e((o[0]||[""]).length)})),M=c.domain,b=Math.floor(g._fullLayout._size.w*(M.x[1]-M.x[0])),E=Math.floor(g._fullLayout._size.h*(M.y[1]-M.y[0])),x=c.header.values.length?v[0].map(function(){return c.header.height}):[A.emptyHeaderHeight],S=w.length?w[0].map(function(){return c.cells.height}):[],T=x.reduce(m,0),p=h(S,E-T+A.uplift),D=a(h(x,T),[]),N=a(p,D),k={},z=c._fullInput.columnorder;L(z)&&(z=Array.from(z)),z=z.concat(d(w.map(function(J,et){return et})));var B=v.map(function(J,et){var at=L(c.columnwidth)?c.columnwidth[Math.min(et,c.columnwidth.length-1)]:c.columnwidth;return i(at)?Number(at):1}),O=B.reduce(m,0);B=B.map(function(J){return J/O*b});var U=Math.max(l(c.header.line.width),l(c.cells.line.width)),G={key:c.uid+g._context.staticPlot,translateX:M.x[0]*g._fullLayout._size.w,translateY:g._fullLayout._size.h*(1-M.y[1]),size:g._fullLayout._size,width:b,maxLineWidth:U,height:E,columnOrder:z,groupHeight:E,rowBlocks:N,headerRowBlocks:D,scrollY:0,cells:y({},c.cells,{values:w}),headerCells:y({},c.header,{values:v}),gdColumns:v.map(function(J){return J[0]}),gdColumnsOriginalOrder:v.map(function(J){return J[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:v.map(function(J,et){return k[J]=(k[J]||0)+1,{key:J+"__"+k[J],label:J,specIndex:et,xIndex:z[et],xScale:s,x:void 0,calcdata:void 0,columnWidth:B[et]}})};return G.columns.forEach(function(J){J.calcdata=G,J.x=s(J)}),G}},53056:function(tt,W,t){"use strict";var A=t(92880).extendFlat;W.splitToPanels=function(i){var P=[0,0],L=A({},i,{key:"header",type:"header",page:0,prevPages:P,currentRepaint:[null,null],dragHandle:!0,values:i.calcdata.headerCells.values[i.specIndex],rowBlocks:i.calcdata.headerRowBlocks,calcdata:A({},i.calcdata,{cells:i.calcdata.headerCells})});return[A({},i,{key:"cells1",type:"cells",page:0,prevPages:P,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks}),A({},i,{key:"cells2",type:"cells",page:1,prevPages:P,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks}),L]},W.splitToCells=function(i){var P=function y(i){var P=i.rowBlocks[i.page],L=P?P.rows[0].rowIndex:0;return[L,P?L+P.rows.length:0]}(i);return(i.values||[]).slice(P[0],P[1]).map(function(L,l){return{keyWithinBlock:l+("string"==typeof L&&L.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:P[0]+l,column:i,calcdata:i.calcdata,page:i.page,rowBlocks:i.rowBlocks,value:L}})}},53212:function(tt,W,t){"use strict";var A=t(3400),y=t(60520),i=t(86968).Q;tt.exports=function(l,m,r,e){function s(a,h){return A.coerce(l,m,y,a,h)}i(m,e,s),s("columnwidth"),s("header.values"),s("header.format"),s("header.align"),s("header.prefix"),s("header.suffix"),s("header.height"),s("header.line.width"),s("header.line.color"),s("header.fill.color"),A.coerceFont(s,"header.font",A.extendFlat({},e.font)),function P(L,l){for(var r=L.header.values.length,e=(L.columnorder||[]).slice(0,r),s=e.slice().sort(function(f,u){return f-u}),a=e.map(function(f){return s.indexOf(f)}),h=a.length;h<r;h++)a.push(h);l("columnorder",a)}(m,s),s("cells.values"),s("cells.format"),s("cells.align"),s("cells.prefix"),s("cells.suffix"),s("cells.height"),s("cells.line.width"),s("cells.line.color"),s("cells.fill.color"),A.coerceFont(s,"cells.font",A.extendFlat({},e.font)),m._length=null}},41724:function(tt,W,t){"use strict";tt.exports={attributes:t(60520),supplyDefaults:t(53212),calc:t(39312),plot:t(24752),moduleType:"trace",name:"table",basePlotModule:t(85852),categories:["noOpacity"],meta:{}}},24752:function(tt,W,t){"use strict";var A=t(23536),y=t(33428),i=t(3400),P=i.numberFormat,L=t(71688),l=t(43616),m=t(72736),r=t(3400).raiseToTop,e=t(3400).strTranslate,s=t(3400).cancelTransition,a=t(55992),h=t(53056),f=t(76308);function u(Y){return Math.ceil(Y.calcdata.maxLineWidth/2)}function g(Y,nt){return"clip"+Y._fullLayout._uid+"_scrollAreaBottomClip_"+nt.key}function c(Y,nt){return"clip"+Y._fullLayout._uid+"_columnBoundaryClippath_"+nt.calcdata.key+"_"+nt.specIndex}function w(Y){return[].concat.apply([],Y.map(function(nt){return nt})).map(function(nt){return nt.__data__})}function d(Y,nt,_){var dt=Y.selectAll("."+A.cn.scrollbarKit).data(L.repeat,L.keyFun);dt.enter().append("g").classed(A.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),dt.each(function(Tt){var gt=Tt.scrollbarState;gt.totalHeight=function st(Tt){var gt=Tt.rowBlocks;return rt(gt,gt.length-1)+(gt.length?H(gt[gt.length-1],1/0):1)}(Tt),gt.scrollableAreaHeight=Tt.groupHeight-O(Tt),gt.currentlyVisibleHeight=Math.min(gt.totalHeight,gt.scrollableAreaHeight),gt.ratio=gt.currentlyVisibleHeight/gt.totalHeight,gt.barLength=Math.max(gt.ratio*gt.currentlyVisibleHeight,A.goldenRatio*A.scrollbarWidth),gt.barWiggleRoom=gt.currentlyVisibleHeight-gt.barLength,gt.wiggleRoom=Math.max(0,gt.totalHeight-gt.scrollableAreaHeight),gt.topY=0===gt.barWiggleRoom?0:Tt.scrollY/gt.wiggleRoom*gt.barWiggleRoom,gt.bottomY=gt.topY+gt.barLength,gt.dragMultiplier=gt.wiggleRoom/gt.barWiggleRoom}).attr("transform",function(Tt){return e(Tt.width+A.scrollbarWidth/2+A.scrollbarOffset,O(Tt))});var xt=dt.selectAll("."+A.cn.scrollbar).data(L.repeat,L.keyFun);xt.enter().append("g").classed(A.cn.scrollbar,!0);var yt=xt.selectAll("."+A.cn.scrollbarSlider).data(L.repeat,L.keyFun);yt.enter().append("g").classed(A.cn.scrollbarSlider,!0),yt.attr("transform",function(Tt){return e(0,Tt.scrollbarState.topY||0)});var St=yt.selectAll("."+A.cn.scrollbarGlyph).data(L.repeat,L.keyFun);St.enter().append("line").classed(A.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",A.scrollbarWidth).attr("stroke-linecap","round").attr("y1",A.scrollbarWidth/2),St.attr("y2",function(Tt){return Tt.scrollbarState.barLength-A.scrollbarWidth/2}).attr("stroke-opacity",function(Tt){return Tt.columnDragInProgress||!Tt.scrollbarState.barWiggleRoom||_?0:.4}),St.transition().delay(0).duration(0),St.transition().delay(A.scrollbarHideDelay).duration(A.scrollbarHideDuration).attr("stroke-opacity",0);var Et=xt.selectAll("."+A.cn.scrollbarCaptureZone).data(L.repeat,L.keyFun);Et.enter().append("line").classed(A.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",A.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Tt){var gt=y.event.y,Mt=this.getBoundingClientRect(),Nt=Tt.scrollbarState,Gt=gt-Mt.top,Pt=y.scale.linear().domain([0,Nt.scrollableAreaHeight]).range([0,Nt.totalHeight]).clamp(!0);Nt.topY<=Gt&&Gt<=Nt.bottomY||J(nt,Y,null,Pt(Gt-Nt.barLength/2))(Tt)}).call(y.behavior.drag().origin(function(Tt){return y.event.stopPropagation(),Tt.scrollbarState.scrollbarScrollInProgress=!0,Tt}).on("drag",J(nt,Y)).on("dragend",function(){})),Et.attr("y2",function(Tt){return Tt.scrollbarState.scrollableAreaHeight}),nt._context.staticPlot&&(St.remove(),Et.remove())}function o(Y,nt,_,st){var xt=function M(Y){var nt=Y.selectAll("."+A.cn.columnCell).data(h.splitToCells,function(_){return _.keyWithinBlock});return nt.enter().append("g").classed(A.cn.columnCell,!0),nt.exit().remove(),nt}(function v(Y){var nt=Y.selectAll("."+A.cn.columnCells).data(L.repeat,L.keyFun);return nt.enter().append("g").classed(A.cn.columnCells,!0),nt.exit().remove(),nt}(_));(function S(Y){Y.each(function(nt,_){var st=nt.calcdata.cells.font,dt=nt.column.specIndex,xt={size:N(st.size,dt,_),color:N(st.color,dt,_),family:N(st.family,dt,_)};nt.rowNumber=nt.key,nt.align=N(nt.calcdata.cells.align,dt,_),nt.cellBorderWidth=N(nt.calcdata.cells.line.width,dt,_),nt.font=xt})})(xt),function n(Y){Y.attr("width",function(nt){return nt.column.columnWidth}).attr("stroke-width",function(nt){return nt.cellBorderWidth}).each(function(nt){var _=y.select(this);f.stroke(_,N(nt.calcdata.cells.line.color,nt.column.specIndex,nt.rowNumber)),f.fill(_,N(nt.calcdata.cells.fill.color,nt.column.specIndex,nt.rowNumber))})}(function b(Y){var nt=Y.selectAll("."+A.cn.cellRect).data(L.repeat,function(_){return _.keyWithinBlock});return nt.enter().append("rect").classed(A.cn.cellRect,!0),nt}(xt));var Et=function E(Y){var nt=Y.selectAll("."+A.cn.cellText).data(L.repeat,function(_){return _.keyWithinBlock});return nt.enter().append("text").classed(A.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){y.event.stopPropagation()}),nt}(function x(Y){var nt=Y.selectAll("."+A.cn.cellTextHolder).data(L.repeat,function(_){return _.keyWithinBlock});return nt.enter().append("g").classed(A.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),nt}(xt));(function T(Y){Y.each(function(nt){l.font(y.select(this),nt.font)})})(Et),C(Et,nt,st,Y),j(xt)}function C(Y,nt,_,st){Y.text(function(dt){var xt=dt.column.specIndex,yt=dt.rowNumber,St=dt.value,Et="string"==typeof St,Tt=Et&&St.match(/<br>/i),gt=!Et||Tt;dt.mayHaveMarkup=Et&&St.match(/[<&>]/);var Mt=function p(Y){return"string"==typeof Y&&Y.match(A.latexCheck)}(St);dt.latex=Mt;var re,le,Nt=Mt?"":N(dt.calcdata.cells.prefix,xt,yt)||"",Gt=Mt?"":N(dt.calcdata.cells.suffix,xt,yt)||"",Pt=Mt?null:N(dt.calcdata.cells.format,xt,yt)||null,Vt=Nt+(Pt?P(Pt)(dt.value):dt.value)+Gt;if(dt.wrappingNeeded=!dt.wrapped&&!gt&&!Mt&&(re=F(Vt)),dt.cellHeightMayIncrease=Tt||Mt||dt.mayHaveMarkup||(void 0===re?F(Vt):re),dt.needsConvertToTspans=dt.mayHaveMarkup||dt.wrappingNeeded||dt.latex,dt.wrappingNeeded){var Rt=(" "===A.wrapSplitCharacter?Vt.replace(/<a href=/gi,"<a_href="):Vt).split(A.wrapSplitCharacter),$t=" "===A.wrapSplitCharacter?Rt.map(function(oe){return oe.replace(/<a_href=/gi,"<a href=")}):Rt;dt.fragments=$t.map(function(oe){return{text:oe,width:null}}),dt.fragments.push({fragment:A.wrapSpacer,width:null}),le=$t.join(A.lineBreaker)+A.lineBreaker+A.wrapSpacer}else delete dt.fragments,le=Vt;return le}).attr("dy",function(dt){return dt.needsConvertToTspans?0:"0.75em"}).each(function(dt){var yt=y.select(this);dt.needsConvertToTspans?m.convertToTspans(yt,st,(dt.wrappingNeeded?at:lt)(_,this,nt,st,dt)):y.select(this.parentNode).attr("transform",function(Et){return e(K(Et),A.cellPad)}).attr("text-anchor",function(Et){return{left:"start",center:"middle",right:"end"}[Et.align]})})}function F(Y){return-1!==Y.indexOf(A.wrapSplitCharacter)}function N(Y,nt,_){if(i.isArrayOrTypedArray(Y)){var st=Y[Math.min(nt,Y.length-1)];return i.isArrayOrTypedArray(st)?st[Math.min(_,st.length-1)]:st}return Y}function k(Y,nt,_){Y.transition().ease(A.releaseTransitionEase).duration(A.releaseTransitionDuration).attr("transform",e(nt.x,_))}function z(Y){return"cells"===Y.type}function B(Y){return"header"===Y.type}function O(Y){return(Y.rowBlocks.length?Y.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(_,st){return _+H(st,1/0)},0)}function G(Y,nt,_){var st=w(nt)[0];if(void 0!==st){var dt=st.rowBlocks,xt=st.calcdata,yt=rt(dt,dt.length),St=st.calcdata.groupHeight-O(st),Et=xt.scrollY=Math.max(0,Math.min(yt-St,xt.scrollY)),Tt=function U(Y,nt,_){for(var st=[],dt=0,xt=0;xt<Y.length;xt++){for(var yt=Y[xt],St=yt.rows,Et=0,Tt=0;Tt<St.length;Tt++)Et+=St[Tt].rowHeight;yt.allRowsHeight=Et,nt<dt+Et&&nt+_>dt&&st.push(xt),dt+=Et}return st}(dt,Et,St);1===Tt.length&&(Tt[0]===dt.length-1?Tt.unshift(Tt[0]-1):Tt.push(Tt[0]+1)),Tt[0]%2&&Tt.reverse(),nt.each(function(gt,Mt){gt.page=Tt[Mt],gt.scrollY=Et}),nt.attr("transform",function(gt){var Mt=rt(gt.rowBlocks,gt.page)-gt.scrollY;return e(0,Mt)}),Y&&(et(Y,_,nt,Tt,st.prevPages,st,0),et(Y,_,nt,Tt,st.prevPages,st,1),d(_,Y))}}function J(Y,nt,_,st){return function(xt){var yt=xt.calcdata?xt.calcdata:xt,St=nt.filter(function(Mt){return yt.key===Mt.key}),Tt=yt.scrollY;yt.scrollY=void 0===st?yt.scrollY+(_||yt.scrollbarState.dragMultiplier)*y.event.dy:st;var gt=St.selectAll("."+A.cn.yColumn).selectAll("."+A.cn.columnBlock).filter(z);return G(Y,gt,St),yt.scrollY===Tt}}function et(Y,nt,_,st,dt,xt,yt){st[yt]!==dt[yt]&&(clearTimeout(xt.currentRepaint[yt]),xt.currentRepaint[yt]=setTimeout(function(){var Et=_.filter(function(Tt,gt){return gt===yt&&st[gt]!==dt[gt]});o(Y,nt,Et,_),dt[yt]=st[yt]}))}function at(Y,nt,_,st){return function(){var xt=y.select(nt.parentNode);xt.each(function(yt){var St=yt.fragments;xt.selectAll("tspan.line").each(function(Vt,re){St[re].width=this.getComputedTextLength()});var Mt,Nt,Et=St[St.length-1].width,Tt=St.slice(0,-1),gt=[],Gt=0,Pt=yt.column.columnWidth-2*A.cellPad;for(yt.value="";Tt.length;)Gt+(Nt=(Mt=Tt.shift()).width+Et)>Pt&&(yt.value+=gt.join(A.wrapSpacer)+A.lineBreaker,gt=[],Gt=0),gt.push(Mt.text),Gt+=Nt;Gt&&(yt.value+=gt.join(A.wrapSpacer)),yt.wrapped=!0}),xt.selectAll("tspan.line").remove(),C(xt.select("."+A.cn.cellText),_,Y,st),y.select(nt.parentNode.parentNode).call(j)}}function lt(Y,nt,_,st,dt){return function(){if(!dt.settledY){var yt=y.select(nt.parentNode),St=it(dt),Et=dt.key-St.firstRowIndex,Tt=St.rows[Et].rowHeight,gt=dt.cellHeightMayIncrease?nt.parentNode.getBoundingClientRect().height+2*A.cellPad:Tt,Mt=Math.max(gt,Tt);Mt-St.rows[Et].rowHeight&&(St.rows[Et].rowHeight=Mt,Y.selectAll("."+A.cn.columnCell).call(j),G(null,Y.filter(z),0),d(_,st,!0)),yt.attr("transform",function(){var Vt=this.parentNode.getBoundingClientRect(),re=y.select(this.parentNode).select("."+A.cn.cellRect).node().getBoundingClientRect(),le=this.transform.baseVal.consolidate(),It=re.top-Vt.top+(le?le.matrix.f:A.cellPad);return e(K(dt,y.select(this.parentNode).select("."+A.cn.cellTextHolder).node().getBoundingClientRect().width),It)}),dt.settledY=!0}}}function K(Y,nt){switch(Y.align){case"left":default:return A.cellPad;case"right":return Y.column.columnWidth-(nt||0)-A.cellPad;case"center":return(Y.column.columnWidth-(nt||0))/2}}function j(Y){Y.attr("transform",function(nt){var _=nt.rowBlocks[0].auxiliaryBlocks.reduce(function(yt,St){return yt+H(St,1/0)},0),dt=H(it(nt),nt.key);return e(0,dt+_)}).selectAll("."+A.cn.cellRect).attr("height",function(nt){return function Q(Y,nt){return Y.rows[nt-Y.firstRowIndex]}(it(nt),nt.key).rowHeight})}function rt(Y,nt){for(var _=0,st=nt-1;st>=0;st--)_+=Z(Y[st]);return _}function H(Y,nt){for(var _=0,st=0;st<Y.rows.length&&Y.rows[st].rowIndex<nt;st++)_+=Y.rows[st].rowHeight;return _}function Z(Y){var nt=Y.allRowsHeight;if(void 0!==nt)return nt;for(var _=0,st=0;st<Y.rows.length;st++)_+=Y.rows[st].rowHeight;return Y.allRowsHeight=_,_}function it(Y){return Y.rowBlocks[Y.page]}tt.exports=function(nt,_){var st=!nt._context.staticPlot,dt=nt._fullLayout._paper.selectAll("."+A.cn.table).data(_.map(function(It){var Rt=L.unwrap(It);return a(nt,Rt.trace)}),L.keyFun);dt.exit().remove(),dt.enter().append("g").classed(A.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),dt.attr("width",function(It){return It.width+It.size.l+It.size.r}).attr("height",function(It){return It.height+It.size.t+It.size.b}).attr("transform",function(It){return e(It.translateX,It.translateY)});var xt=dt.selectAll("."+A.cn.tableControlView).data(L.repeat,L.keyFun),yt=xt.enter().append("g").classed(A.cn.tableControlView,!0).style("box-sizing","content-box");if(st){var St="onwheel"in document?"wheel":"mousewheel";yt.on("mousemove",function(It){xt.filter(function(Rt){return It===Rt}).call(d,nt)}).on(St,function(It){It.scrollbarState.wheeling||(It.scrollbarState.wheeling=!0,J(nt,xt,null,It.scrollY+y.event.deltaY)(It)||(y.event.stopPropagation(),y.event.preventDefault()),It.scrollbarState.wheeling=!1)}).call(d,nt,!0)}xt.attr("transform",function(It){return e(It.size.l,It.size.t)});var Et=xt.selectAll("."+A.cn.scrollBackground).data(L.repeat,L.keyFun);Et.enter().append("rect").classed(A.cn.scrollBackground,!0).attr("fill","none"),Et.attr("width",function(It){return It.width}).attr("height",function(It){return It.height}),xt.each(function(It){l.setClipUrl(y.select(this),g(nt,It),nt)});var Tt=xt.selectAll("."+A.cn.yColumn).data(function(It){return It.columns},L.keyFun);Tt.enter().append("g").classed(A.cn.yColumn,!0),Tt.exit().remove(),Tt.attr("transform",function(It){return e(It.x,0)}),st&&Tt.call(y.behavior.drag().origin(function(It){return k(y.select(this),It,-A.uplift),r(this),It.calcdata.columnDragInProgress=!0,d(xt.filter(function($t){return It.calcdata.key===$t.key}),nt),It}).on("drag",function(It){var Rt=y.select(this),$t=function(ve){return(It===ve?y.event.x:ve.x)+ve.columnWidth/2};It.x=Math.max(-A.overdrag,Math.min(It.calcdata.width+A.overdrag-It.columnWidth,y.event.x)),w(Tt).filter(function(ve){return ve.calcdata.key===It.calcdata.key}).sort(function(ve,de){return $t(ve)-$t(de)}).forEach(function(ve,de){ve.xIndex=de,ve.x=It===ve?ve.x:ve.xScale(ve)}),Tt.filter(function(ve){return It!==ve}).transition().ease(A.transitionEase).duration(A.transitionDuration).attr("transform",function(ve){return e(ve.x,0)}),Rt.call(s).attr("transform",e(It.x,-A.uplift))}).on("dragend",function(It){var Rt=y.select(this),$t=It.calcdata;It.x=It.xScale(It),It.calcdata.columnDragInProgress=!1,k(Rt,It,0),function D(Y,nt,_){var st=nt.gdColumnsOriginalOrder;nt.gdColumns.sort(function(dt,xt){return _[st.indexOf(dt)]-_[st.indexOf(xt)]}),nt.columnorder=_,Y.emit("plotly_restyle")}(nt,$t,$t.columns.map(function(oe){return oe.xIndex}))})),Tt.each(function(It){l.setClipUrl(y.select(this),c(nt,It),nt)});var gt=Tt.selectAll("."+A.cn.columnBlock).data(h.splitToPanels,L.keyFun);gt.enter().append("g").classed(A.cn.columnBlock,!0).attr("id",function(It){return It.key}),gt.style("cursor",function(It){return It.dragHandle?"ew-resize":It.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Mt=gt.filter(B),Nt=gt.filter(z);st&&Nt.call(y.behavior.drag().origin(function(It){return y.event.stopPropagation(),It}).on("drag",J(nt,xt,-1)).on("dragend",function(){})),o(nt,xt,Mt,gt),o(nt,xt,Nt,gt);var Gt=xt.selectAll("."+A.cn.scrollAreaClip).data(L.repeat,L.keyFun);Gt.enter().append("clipPath").classed(A.cn.scrollAreaClip,!0).attr("id",function(It){return g(nt,It)});var Pt=Gt.selectAll("."+A.cn.scrollAreaClipRect).data(L.repeat,L.keyFun);Pt.enter().append("rect").classed(A.cn.scrollAreaClipRect,!0).attr("x",-A.overdrag).attr("y",-A.uplift).attr("fill","none"),Pt.attr("width",function(It){return It.width+2*A.overdrag}).attr("height",function(It){return It.height+A.uplift}),Tt.selectAll("."+A.cn.columnBoundary).data(L.repeat,L.keyFun).enter().append("g").classed(A.cn.columnBoundary,!0);var re=Tt.selectAll("."+A.cn.columnBoundaryClippath).data(L.repeat,L.keyFun);re.enter().append("clipPath").classed(A.cn.columnBoundaryClippath,!0),re.attr("id",function(It){return c(nt,It)});var le=re.selectAll("."+A.cn.columnBoundaryRect).data(L.repeat,L.keyFun);le.enter().append("rect").classed(A.cn.columnBoundaryRect,!0).attr("fill","none"),le.attr("width",function(It){return It.columnWidth+2*u(It)}).attr("height",function(It){return It.calcdata.height+2*u(It)+A.uplift}).attr("x",function(It){return-u(It)}).attr("y",function(It){return-u(It)}),G(null,Nt,xt)}},40516:function(tt,W,t){"use strict";var A=t(21776).Ks,y=t(21776).Gw,i=t(49084),P=t(86968).u,L=t(74996),l=t(424),m=t(32984),r=t(92880).extendFlat,e=t(98192).c;tt.exports={labels:l.labels,parents:l.parents,values:l.values,branchvalues:l.branchvalues,count:l.count,level:l.level,maxdepth:l.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:l.marker.colors,pattern:e,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:l.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},L.textfont,{}),editType:"calc"},text:L.text,textinfo:l.textinfo,texttemplate:y({editType:"plot"},{keys:m.eventDataKeys.concat(["label","value"])}),hovertext:L.hovertext,hoverinfo:l.hoverinfo,hovertemplate:A({},{keys:m.eventDataKeys}),textfont:L.textfont,insidetextfont:L.insidetextfont,outsidetextfont:r({},L.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:L.sort,root:l.root,domain:P({name:"treemap",trace:!0,editType:"calc"})}},79516:function(tt,W,t){"use strict";var A=t(7316);W.name="treemap",W.plot=function(y,i,P,L){A.plotBasePlot(W.name,y,i,P,L)},W.clean=function(y,i,P,L){A.cleanBasePlot(W.name,y,i,P,L)}},97840:function(tt,W,t){"use strict";var A=t(3776);W.r=function(y,i){return A.calc(y,i)},W.q=function(y){return A._runCrossTraceCalc("treemap",y)}},32984:function(tt){"use strict";tt.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(tt,W,t){"use strict";var A=t(3400),y=t(40516),i=t(76308),P=t(86968).Q,L=t(31508).handleText,l=t(78048).TEXTPAD,m=t(74174).handleMarkerDefaults,r=t(8932),e=r.hasColorscale,s=r.handleDefaults;tt.exports=function(h,f,u,g){function c(n,C){return A.coerce(h,f,y,n,C)}var w=c("labels"),d=c("parents");if(w&&w.length&&d&&d.length){var o=c("values");c(o&&o.length?"branchvalues":"count"),c("level"),c("maxdepth"),"squarify"===c("tiling.packing")&&c("tiling.squarifyratio"),c("tiling.flip"),c("tiling.pad");var M=c("text");c("texttemplate"),f.texttemplate||c("textinfo",A.isArrayOrTypedArray(M)?"text+label":"label"),c("hovertext"),c("hovertemplate");var b=c("pathbar.visible");L(h,f,g,c,"auto",{hasPathbar:b,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition");var x=-1!==f.textposition.indexOf("bottom");m(h,f,g,c),(f._hasColorscale=e(h,"marker","colors")||(h.marker||{}).coloraxis)?s(h,f,g,c,{prefix:"marker.",cLetter:"c"}):c("marker.depthfade",!(f.marker.colors||[]).length);var T=2*f.textfont.size;c("marker.pad.t",x?T/4:T),c("marker.pad.l",T/4),c("marker.pad.r",T/4),c("marker.pad.b",x?T:T/4),c("marker.cornerradius"),f._hovered={marker:{line:{width:2,color:i.contrast(g.paper_bgcolor)}}},b&&(c("pathbar.thickness",f.pathbar.textfont.size+2*l),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),P(f,g,c),f._length=null}else f.visible=!1}},95808:function(tt,W,t){"use strict";var A=t(33428),y=t(78176),P=t(82744).clearMinTextSize,L=t(60100).resizeText,l=t(52960);tt.exports=function(r,e,s,a,h){var w,d,f=h.type,u=h.drawDescendants,g=r._fullLayout,c=g["_"+f+"layer"],o=!s;P(f,g),(w=c.selectAll("g.trace."+f).data(e,function(M){return M[0].trace.uid})).enter().append("g").classed("trace",!0).classed(f,!0),w.order(),!g.uniformtext.mode&&y.hasTransition(s)?(a&&(d=a()),A.transition().duration(s.duration).ease(s.easing).each("end",function(){d&&d()}).each("interrupt",function(){d&&d()}).each(function(){c.selectAll("g.trace").each(function(M){l(r,M,this,s,u)})})):(w.each(function(M){l(r,M,this,s,u)}),g.uniformtext.mode&&L(r,c.selectAll(".trace"),f)),o&&w.exit().remove()}},27336:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=t(43616),P=t(72736),L=t(13832),l=t(66192).styleOne,m=t(32984),r=t(78176),e=t(45716),s=!0;tt.exports=function(h,f,u,g,c){var w=c.barDifY,d=c.width,o=c.height,v=c.viewX,M=c.viewY,b=c.pathSlice,E=c.toMoveInsideSlice,x=c.strTransform,S=c.hasTransition,T=c.handleSlicesExit,n=c.makeUpdateSliceInterpolator,C=c.makeUpdateTextInterpolator,p={},F=h._context.staticPlot,D=h._fullLayout,N=f[0],k=N.trace,z=N.hierarchy,B=d/k._entryDepth,O=r.listPath(u.data,"id"),U=L(z.copy(),[d,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(U=U.filter(function(J){var et=O.indexOf(J.data.id);return-1!==et&&(J.x0=B*et,J.x1=B*(et+1),J.y0=w,J.y1=w+o,J.onPathbar=!0,!0)})).reverse(),(g=g.data(U,r.getPtId)).enter().append("g").classed("pathbar",!0),T(g,s,p,[d,o],b),g.order();var G=g;S&&(G=G.transition().each("end",function(){var J=A.select(this);r.setSliceCursor(J,h,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),G.each(function(J){J._x0=v(J.x0),J._x1=v(J.x1),J._y0=M(J.y0),J._y1=M(J.y1),J._hoverX=v(J.x1-Math.min(d,o)/2),J._hoverY=M(J.y1-o/2);var et=A.select(this),at=y.ensureSingle(et,"path","surface",function(rt){rt.style("pointer-events",F?"none":"all")});S?at.transition().attrTween("d",function(rt){var H=n(rt,s,p,[d,o]);return function(Z){return b(H(Z))}}):at.attr("d",b),et.call(e,u,h,f,{styleOne:l,eventDataKeys:m.eventDataKeys,transitionTime:m.CLICK_TRANSITION_TIME,transitionEasing:m.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,h,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:h._transitioning}),at.call(l,J,k,h,{hovered:!1}),J._text=(r.getPtLabel(J)||"").split("<br>").join(" ")||"";var lt=y.ensureSingle(et,"g","slicetext"),K=y.ensureSingle(lt,"text","",function(rt){rt.attr("data-notex",1)}),j=y.ensureUniformFontSize(h,r.determineTextFont(k,J,D.font,{onPathbar:!0}));K.text(J._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(i.font,j).call(P.convertToTspans,h),J.textBB=i.bBox(K.node()),J.transform=E(J,{fontSize:j.size,onPathbar:!0}),J.transform.fontSize=j.size,S?K.transition().attrTween("transform",function(rt){var H=C(rt,s,p,[d,o]);return function(Z){return x(H(Z))}}):K.attr("transform",x(J))})}},76477:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=t(43616),P=t(72736),L=t(13832),l=t(66192).styleOne,m=t(32984),r=t(78176),e=t(45716),s=t(96488).formatSliceLabel,a=!1;tt.exports=function(f,u,g,c,w){var d=w.width,o=w.height,v=w.viewX,M=w.viewY,b=w.pathSlice,E=w.toMoveInsideSlice,x=w.strTransform,S=w.hasTransition,T=w.handleSlicesExit,n=w.makeUpdateSliceInterpolator,C=w.makeUpdateTextInterpolator,p=w.prevEntry,D=f._context.staticPlot,N=f._fullLayout,z=u[0].trace,B=-1!==z.textposition.indexOf("left"),O=-1!==z.textposition.indexOf("right"),U=-1!==z.textposition.indexOf("bottom"),G=!U&&!z.marker.pad.t||U&&!z.marker.pad.b,et=L(g,[d,o],{packing:z.tiling.packing,squarifyratio:z.tiling.squarifyratio,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,pad:{inner:z.tiling.pad,top:z.marker.pad.t,left:z.marker.pad.l,right:z.marker.pad.r,bottom:z.marker.pad.b}}).descendants(),at=1/0,lt=-1/0;et.forEach(function(Z){var it=Z.depth;it>=z._maxDepth?(Z.x0=Z.x1=(Z.x0+Z.x1)/2,Z.y0=Z.y1=(Z.y0+Z.y1)/2):(at=Math.min(at,it),lt=Math.max(lt,it))}),c=c.data(et,r.getPtId),z._maxVisibleLayers=isFinite(lt)?lt-at+1:0,c.enter().append("g").classed("slice",!0),T(c,a,{},[d,o],b),c.order();var K=null;if(S&&p){var j=r.getPtId(p);c.each(function(Z){null===K&&r.getPtId(Z)===j&&(K={x0:Z.x0,x1:Z.x1,y0:Z.y0,y1:Z.y1})})}var rt=function(){return K||{x0:0,x1:d,y0:0,y1:o}},H=c;return S&&(H=H.transition().each("end",function(){var Z=A.select(this);r.setSliceCursor(Z,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),H.each(function(Z){var it=r.isHeader(Z,z);Z._x0=v(Z.x0),Z._x1=v(Z.x1),Z._y0=M(Z.y0),Z._y1=M(Z.y1),Z._hoverX=v(Z.x1-z.marker.pad.r),Z._hoverY=M(U?Z.y1-z.marker.pad.b/2:Z.y0+z.marker.pad.t/2);var Q=A.select(this),Y=y.ensureSingle(Q,"path","surface",function(dt){dt.style("pointer-events",D?"none":"all")});S?Y.transition().attrTween("d",function(dt){var xt=n(dt,a,rt(),[d,o]);return function(yt){return b(xt(yt))}}):Y.attr("d",b),Q.call(e,g,f,u,{styleOne:l,eventDataKeys:m.eventDataKeys,transitionTime:m.CLICK_TRANSITION_TIME,transitionEasing:m.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{isTransitioning:f._transitioning}),Y.call(l,Z,z,f,{hovered:!1}),Z._text=Z.x0===Z.x1||Z.y0===Z.y1?"":it?G?"":r.getPtLabel(Z)||"":s(Z,g,z,u,N)||"";var nt=y.ensureSingle(Q,"g","slicetext"),_=y.ensureSingle(nt,"text","",function(dt){dt.attr("data-notex",1)}),st=y.ensureUniformFontSize(f,r.determineTextFont(z,Z,N.font));_.text(Z._text||" ").classed("slicetext",!0).attr("text-anchor",O?"end":B||it?"start":"middle").call(i.font,st).call(P.convertToTspans,f),Z.textBB=i.bBox(_.node()),Z.transform=E(Z,{fontSize:st.size,isHeader:it}),Z.transform.fontSize=st.size,S?_.transition().attrTween("transform",function(dt){var xt=C(dt,a,rt(),[d,o]);return function(yt){return x(xt(yt))}}):_.attr("transform",x(Z))}),K}},83024:function(tt){"use strict";tt.exports=function W(t,A,y){var i;y.swapXY&&(i=t.x0,t.x0=t.y0,t.y0=i,i=t.x1,t.x1=t.y1,t.y1=i),y.flipX&&(i=t.x0,t.x0=A[0]-t.x1,t.x1=A[0]-i),y.flipY&&(i=t.y0,t.y0=A[1]-t.y1,t.y1=A[1]-i);var P=t.children;if(P)for(var L=0;L<P.length;L++)W(P[L],A,y)}},31991:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"treemap",basePlotModule:t(79516),categories:[],animatable:!0,attributes:t(40516),layoutAttributes:t(45392),supplyDefaults:t(34092),supplyLayoutDefaults:t(77480),calc:t(97840).r,crossTraceCalc:t(97840).q,plot:t(53264),style:t(66192).style,colorbar:t(5528),meta:{}}},45392:function(tt){"use strict";tt.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(tt,W,t){"use strict";var A=t(3400),y=t(45392);tt.exports=function(P,L){function l(m,r){return A.coerce(P,L,y,m,r)}l("treemapcolorway",L.colorway),l("extendtreemapcolors")}},13832:function(tt,W,t){"use strict";var A=t(74148),y=t(83024);tt.exports=function(L,l,m){var g,r=m.flipX,e=m.flipY,s="dice-slice"===m.packing,a=m.pad[e?"bottom":"top"],h=m.pad[r?"right":"left"],f=m.pad[r?"left":"right"],u=m.pad[e?"top":"bottom"];s&&(g=h,h=a,a=g,g=f,f=u,u=g);var c=A.treemap().tile(function i(P,L){switch(P){case"squarify":return A.treemapSquarify.ratio(L);case"binary":return A.treemapBinary;case"dice":return A.treemapDice;case"slice":return A.treemapSlice;default:return A.treemapSliceDice}}(m.packing,m.squarifyratio)).paddingInner(m.pad.inner).paddingLeft(h).paddingRight(f).paddingTop(a).paddingBottom(u).size(s?[l[1],l[0]]:l)(L);return(s||r||e)&&y(c,l,{swapXY:s,flipX:r,flipY:e}),c}},53264:function(tt,W,t){"use strict";var A=t(95808),y=t(76477);tt.exports=function(P,L,l,m){return A(P,L,l,m,{type:"treemap",drawDescendants:y})}},52960:function(tt,W,t){"use strict";var A=t(33428),y=t(67756).qy,i=t(78176),P=t(3400),L=t(78048).TEXTPAD,m=t(98184).toMoveInsideBar,e=t(82744).recordMinTextSize,s=t(32984),a=t(27336);function h(f){return i.isHierarchyRoot(f)?"":i.getPtId(f)}tt.exports=function(u,g,c,w,d){var o=u._fullLayout,v=g[0],M=v.trace,E="icicle"===M.type,x=v.hierarchy,S=i.findEntryWithLevel(x,M.level),T=A.select(c),n=T.selectAll("g.pathbar"),C=T.selectAll("g.slice");if(!S)return n.remove(),void C.remove();var p=i.isHierarchyRoot(S),F=!o.uniformtext.mode&&i.hasTransition(w),D=i.getMaxDepth(M),k=o._size,z=M.domain,B=k.w*(z.x[1]-z.x[0]),O=k.h*(z.y[1]-z.y[0]),U=B,G=M.pathbar.thickness,J=M.marker.line.width+s.gapWithPathbar,et=M.pathbar.visible?M.pathbar.side.indexOf("bottom")>-1?O+J:-(G+J):0,at={x0:U,x1:U,y0:et,y1:et+G},lt=function(Ct,Wt,Xt){var Ht=M.tiling.pad,Bt=function(ft){return ft-Ht<=Wt.x0},zt=function(ft){return ft+Ht>=Wt.x1},kt=function(ft){return ft-Ht<=Wt.y0},wt=function(ft){return ft+Ht>=Wt.y1};return Ct.x0===Wt.x0&&Ct.x1===Wt.x1&&Ct.y0===Wt.y0&&Ct.y1===Wt.y1?{x0:Ct.x0,x1:Ct.x1,y0:Ct.y0,y1:Ct.y1}:{x0:Bt(Ct.x0-Ht)?0:zt(Ct.x0-Ht)?Xt[0]:Ct.x0,x1:Bt(Ct.x1+Ht)?0:zt(Ct.x1+Ht)?Xt[0]:Ct.x1,y0:kt(Ct.y0-Ht)?0:wt(Ct.y0-Ht)?Xt[1]:Ct.y0,y1:kt(Ct.y1+Ht)?0:wt(Ct.y1+Ht)?Xt[1]:Ct.y1}},K=null,j={},rt={},H=null,Z=function(Ct,Wt){return Wt?j[h(Ct)]:rt[h(Ct)]},it=function(Ct,Wt,Xt,Ht){if(Wt)return j[h(x)]||at;var Bt=rt[M.level]||Xt;return function(Ct){return Ct.data.depth-S.data.depth<D}(Ct)?lt(Ct,Bt,Ht):{}};v.hasMultipleRoots&&p&&D++,M._maxDepth=D,M._backgroundColor=o.paper_bgcolor,M._entryDepth=S.data.depth,M._atRootLevel=p;var Q=-B/2+k.l+k.w*(z.x[1]+z.x[0])/2,Y=-O/2+k.t+k.h*(1-(z.y[1]+z.y[0])/2),nt=function(Ct){return Q+Ct},_=function(Ct){return Y+Ct},st=_(0),dt=nt(0),xt=function(Ct){return dt+Ct},yt=function(Ct){return st+Ct};function St(Ct,Wt){return Ct+","+Wt}var Et=xt(0),Tt=function(Ct){Ct.x=Math.max(Et,Ct.x)},gt=M.pathbar.edgeshape,Nt=M[E?"tiling":"marker"].pad,Gt=function(Ct){return-1!==M.textposition.indexOf(Ct)},Pt=Gt("top"),Vt=Gt("left"),re=Gt("right"),le=Gt("bottom"),Rt=function(Ct,Wt){var Xt=Ct.x0,Ht=Ct.x1,Bt=Ct.y0,zt=Ct.y1,kt=Ct.textBB,ft=Pt||Wt.isHeader&&!le?"start":le?"end":"middle",pt=Gt("right"),Dt=Gt("left")||Wt.onPathbar;if(Wt.isHeader){if((Xt+=(E?Nt:Nt.l)-L)>=(Ht-=(E?Nt:Nt.r)-L)){var te=(Xt+Ht)/2;Xt=te,Ht=te}var ee;le?Bt<(ee=zt-(E?Nt:Nt.b))&&ee<zt&&(Bt=ee):Bt<(ee=Bt+(E?Nt:Nt.t))&&ee<zt&&(zt=ee)}var Ne=m(Xt,Ht,Bt,zt,kt,{isHorizontal:!1,constrained:!0,angle:0,anchor:ft,leftToRight:Dt?-1:pt?1:0});return Ne.fontSize=Wt.fontSize,Ne.targetX=nt(Ne.targetX),Ne.targetY=_(Ne.targetY),isNaN(Ne.targetX)||isNaN(Ne.targetY)?{}:(Xt!==Ht&&Bt!==zt&&e(M.type,Ne,o),{scale:Ne.scale,rotate:Ne.rotate,textX:Ne.textX,textY:Ne.textY,anchorX:Ne.anchorX,anchorY:Ne.anchorY,targetX:Ne.targetX,targetY:Ne.targetY})},$t=function(Ct,Wt){for(var Xt,Ht=0,Bt=Ct;!Xt&&Ht<D;)Ht++,(Bt=Bt.parent)?Xt=Z(Bt,Wt):Ht=D;return Xt||{}},se=function(Ct,Wt,Xt,Ht,Bt){var kt,zt=Z(Ct,Wt);if(zt)kt=zt;else if(Wt)kt=at;else if(K)if(Ct.parent){var wt=H||Xt;wt&&!Wt?kt=lt(Ct,wt,Ht):P.extendFlat(kt={},$t(Ct,Wt))}else kt=P.extendFlat({},Ct),E&&("h"===Bt.orientation?Bt.flipX?kt.x0=Ct.x1:kt.x1=0:Bt.flipY?kt.y0=Ct.y1:kt.y1=0);else kt={};return y(kt,{x0:Ct.x0,x1:Ct.x1,y0:Ct.y0,y1:Ct.y1})},ve=function(Ct,Wt,Xt,Ht){var Bt=Z(Ct,Wt),zt={},kt=it(Ct,Wt,Xt,Ht);P.extendFlat(zt,{transform:Rt({x0:kt.x0,x1:kt.x1,y0:kt.y0,y1:kt.y1,textBB:Ct.textBB,_text:Ct._text},{isHeader:i.isHeader(Ct,M)})}),Bt?zt=Bt:Ct.parent&&P.extendFlat(zt,$t(Ct,Wt));var wt=Ct.transform;return Ct.x0!==Ct.x1&&Ct.y0!==Ct.y1&&e(M.type,wt,o),y(zt,{transform:{scale:wt.scale,rotate:wt.rotate,textX:wt.textX,textY:wt.textY,anchorX:wt.anchorX,anchorY:wt.anchorY,targetX:wt.targetX,targetY:wt.targetY}})},de=function(Ct,Wt,Xt,Ht,Bt){var zt=Ht[0],kt=Ht[1];F?Ct.exit().transition().each(function(){var wt=A.select(this);wt.select("path.surface").transition().attrTween("d",function(Dt){var Qt=function(Ct,Wt,Xt,Ht){var zt,Bt=Z(Ct,Wt);if(Wt)zt=at;else{var kt=Z(S,Wt);zt=kt?lt(Ct,kt,Ht):{}}return y(Bt,zt)}(Dt,Wt,0,[zt,kt]);return function(te){return Bt(Qt(te))}}),wt.select("g.slicetext").attr("opacity",0)}).remove():Ct.exit().remove()},jt=function(Ct){var Wt=Ct.transform;return Ct.x0!==Ct.x1&&Ct.y0!==Ct.y1&&e(M.type,Wt,o),P.getTextTransform({textX:Wt.textX,textY:Wt.textY,anchorX:Wt.anchorX,anchorY:Wt.anchorY,targetX:Wt.targetX,targetY:Wt.targetY,scale:Wt.scale,rotate:Wt.rotate})};F&&(n.each(function(Ct){j[h(Ct)]={x0:Ct.x0,x1:Ct.x1,y0:Ct.y0,y1:Ct.y1},Ct.transform&&(j[h(Ct)].transform={textX:Ct.transform.textX,textY:Ct.transform.textY,anchorX:Ct.transform.anchorX,anchorY:Ct.transform.anchorY,targetX:Ct.transform.targetX,targetY:Ct.transform.targetY,scale:Ct.transform.scale,rotate:Ct.transform.rotate})}),C.each(function(Ct){rt[h(Ct)]={x0:Ct.x0,x1:Ct.x1,y0:Ct.y0,y1:Ct.y1},Ct.transform&&(rt[h(Ct)].transform={textX:Ct.transform.textX,textY:Ct.transform.textY,anchorX:Ct.transform.anchorX,anchorY:Ct.transform.anchorY,targetX:Ct.transform.targetX,targetY:Ct.transform.targetY,scale:Ct.transform.scale,rotate:Ct.transform.rotate}),!K&&i.isEntry(Ct)&&(K=Ct)})),H=d(u,g,S,C,{width:B,height:O,viewX:nt,viewY:_,pathSlice:function(Ct){var Wt=nt(Ct.x0),Xt=nt(Ct.x1),Ht=_(Ct.y0),Bt=_(Ct.y1),zt=Xt-Wt,kt=Bt-Ht;if(!zt||!kt)return"";var ft=Math.min(M.marker.cornerradius||0,zt/2,kt/2);ft&&Ct.data&&Ct.data.data&&Ct.data.data.label&&(Pt&&(ft=Math.min(ft,Nt.t)),Vt&&(ft=Math.min(ft,Nt.l)),re&&(ft=Math.min(ft,Nt.r)),le&&(ft=Math.min(ft,Nt.b)));var pt=function(Dt,Qt){return ft?"a"+St(ft,ft)+" 0 0 1 "+St(Dt,Qt):""};return"M"+St(Wt,Ht+ft)+pt(ft,-ft)+"L"+St(Xt-ft,Ht)+pt(ft,ft)+"L"+St(Xt,Bt-ft)+pt(-ft,ft)+"L"+St(Wt+ft,Bt)+pt(-ft,-ft)+"Z"},toMoveInsideSlice:Rt,prevEntry:K,makeUpdateSliceInterpolator:se,makeUpdateTextInterpolator:ve,handleSlicesExit:de,hasTransition:F,strTransform:jt}),M.pathbar.visible?a(u,g,S,n,{barDifY:et,width:U,height:G,viewX:xt,viewY:yt,pathSlice:function(Ct){var Wt=xt(Math.max(Math.min(Ct.x0,Ct.x0),0)),Xt=xt(Math.min(Math.max(Ct.x1,Ct.x1),U)),Ht=yt(Ct.y0),Bt=yt(Ct.y1),zt=G/2,kt={},wt={};kt.x=Wt,wt.x=Xt,kt.y=wt.y=(Ht+Bt)/2;var ft={x:Wt,y:Ht},pt={x:Xt,y:Ht},Dt={x:Xt,y:Bt},Qt={x:Wt,y:Bt};return">"===gt?(ft.x-=zt,pt.x-=zt,Dt.x-=zt,Qt.x-=zt):"/"===gt?(Dt.x-=zt,Qt.x-=zt,kt.x-=zt/2,wt.x-=zt/2):"\\"===gt?(ft.x-=zt,pt.x-=zt,kt.x-=zt/2,wt.x-=zt/2):"<"===gt&&(kt.x-=zt,wt.x-=zt),Tt(ft),Tt(Qt),Tt(kt),Tt(pt),Tt(Dt),Tt(wt),"M"+St(ft.x,ft.y)+"L"+St(pt.x,pt.y)+"L"+St(wt.x,wt.y)+"L"+St(Dt.x,Dt.y)+"L"+St(Qt.x,Qt.y)+"L"+St(kt.x,kt.y)+"Z"},toMoveInsideSlice:Rt,makeUpdateSliceInterpolator:se,makeUpdateTextInterpolator:ve,handleSlicesExit:de,hasTransition:F,strTransform:jt}):n.remove()}},66192:function(tt,W,t){"use strict";var A=t(33428),y=t(76308),i=t(3400),P=t(78176),L=t(82744).resizeText,l=t(60404);function r(e,s,a,h,f){var w,d,u=(f||{}).hovered,g=s.data.data,c=g.i,o=g.color,v=P.isHierarchyRoot(s),M=1;if(u)w=a._hovered.marker.line.color,d=a._hovered.marker.line.width;else if(v&&o===a.root.color)M=100,w="rgba(0,0,0,0)",d=0;else if(w=i.castOption(a,c,"marker.line.color")||y.defaultLine,d=i.castOption(a,c,"marker.line.width")||0,!a._hasColorscale&&!s.onPathbar){var b=a.marker.depthfade;if(b){var x,E=y.combine(y.addOpacity(a._backgroundColor,.75),o);if(!0===b){var S=P.getMaxDepth(a);x=isFinite(S)?P.isLeaf(s)?0:a._maxVisibleLayers-(s.data.depth-a._entryDepth):s.data.height+1}else x=s.data.depth-a._entryDepth,a._atRootLevel||x++;if(x>0)for(var T=0;T<x;T++)o=y.combine(y.addOpacity(E,.5*T/x),o)}}e.call(l,s,a,h,o).style("stroke-width",d).call(y.stroke,w).style("opacity",M)}tt.exports={style:function m(e){var s=e._fullLayout._treemaplayer.selectAll(".trace");L(e,s,"treemap"),s.each(function(a){var h=A.select(this),u=a[0].trace;h.style("opacity",u.opacity),h.selectAll("path.surface").each(function(g){A.select(this).call(r,g,u,e,{hovered:!1})})})},styleOne:r}},13988:function(tt,W,t){"use strict";var A=t(63188),y=t(92880).extendFlat,i=t(29736).axisHoverFormat;tt.exports={y:A.y,x:A.x,x0:A.x0,y0:A.y0,xhoverformat:i("x"),yhoverformat:i("y"),name:y({},A.name,{}),orientation:y({},A.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:A.fillcolor,points:y({},A.boxpoints,{}),jitter:y({},A.jitter,{}),pointpos:y({},A.pointpos,{}),width:y({},A.width,{}),marker:A.marker,text:A.text,hovertext:A.hovertext,hovertemplate:A.hovertemplate,quartilemethod:A.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,selected:A.selected,unselected:A.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},67064:function(tt,W,t){"use strict";var A=t(3400),y=t(54460),i=t(62555),P=t(63800),L=t(39032).BADNUM;function m(e,s,a){var h=s.max-s.min;if(!h)return e.bandwidth?e.bandwidth:0;if(e.bandwidth)return Math.max(e.bandwidth,h/1e4);var f=a.length,u=A.stdev(a,f-1,s.mean);return Math.max(function l(e,s,a){return 1.059*Math.min(s,a/1.349)*Math.pow(e,-.2)}(f,u,s.q3-s.q1),h/100)}function r(e,s,a,h){var w,f=e.spanmode,u=e.span||[],c=[s.min-2*h,s.max+2*h];function d(v){var M=u[v],b="multicategory"===a.type?a.r2c(M):a.d2c(M,0,e[s.valLetter+"calendar"]);return b===L?c[v]:b}var o={type:"linear",range:w="soft"===f?c:"hard"===f?[s.min,s.max]:[d(0),d(1)]};return y.setConvert(o),o.cleanRange(),w}tt.exports=function(s,a){var h=i(s,a);if(h[0].t.empty)return h;for(var f=s._fullLayout,u=y.getFromId(s,a["h"===a.orientation?"xaxis":"yaxis"]),g=1/0,c=-1/0,w=0,d=0,o=0;o<h.length;o++){var v=h[o],M=v.pts.map(P.extractVal),b=v.bandwidth=m(a,v,M),E=v.span=r(a,v,u,b);if(v.min===v.max&&0===b)E=v.span=[v.min,v.max],v.density=[{v:1,t:E[0]}],v.bandwidth=b,w=Math.max(w,1);else{var x=E[1]-E[0],S=Math.ceil(x/(b/3)),T=x/S;if(!isFinite(T)||!isFinite(S))return A.error("Something went wrong with computing the violin span"),h[0].t.empty=!0,h;var n=P.makeKDE(v,a,M);v.density=new Array(S);for(var C=0,p=E[0];p<E[1]+T/2;C++,p+=T){var F=n(p);v.density[C]={v:F,t:p},w=Math.max(w,F)}}d=Math.max(d,M.length),g=Math.min(g,E[0]),c=Math.max(c,E[1])}var D=y.findExtremes(u,[g,c],{padded:!0});if(a._extremes[u._id]=D,a.width)h[0].t.maxKDE=w;else{var N=f._violinScaleGroupStats,k=a.scalegroup,z=N[k];z?(z.maxKDE=Math.max(z.maxKDE,w),z.maxCount=Math.max(z.maxCount,d)):N[k]={maxKDE:w,maxCount:d}}return h[0].t.labels.kde=A._(s,"kde:"),h}},14348:function(tt,W,t){"use strict";var A=t(96404).setPositionOffset,y=["v","h"];tt.exports=function(P,L){for(var l=P.calcdata,m=L.xaxis,r=L.yaxis,e=0;e<y.length;e++){for(var s=y[e],a="h"===s?r:m,h=[],f=0;f<l.length;f++){var u=l[f],c=u[0].trace;!0===c.visible&&"violin"===c.type&&!u[0].t.empty&&c.orientation===s&&c.xaxis===m._id&&c.yaxis===r._id&&h.push(f)}A("violin",P,h,a)}}},36240:function(tt,W,t){"use strict";var A=t(3400),y=t(76308),i=t(90624),P=t(13988);tt.exports=function(l,m,r,e){function s(T,n){return A.coerce(l,m,P,T,n)}function a(T,n){return A.coerce2(l,m,P,T,n)}if(i.handleSampleDefaults(l,m,s,e),!1!==m.visible){s("bandwidth"),s("side"),s("width")||(s("scalegroup",m.name),s("scalemode"));var u,f=s("span");Array.isArray(f)&&(u="manual"),s("spanmode",u);var g=s("line.color",(l.marker||{}).color||r),c=s("line.width"),w=s("fillcolor",y.addOpacity(m.line.color,.5));i.handlePointsDefaults(l,m,s,{prefix:""});var d=a("box.width"),o=a("box.fillcolor",w),v=a("box.line.color",g),M=a("box.line.width",c);s("box.visible",Boolean(d||o||v||M))||(m.box={visible:!1});var E=a("meanline.color",g),x=a("meanline.width",c);s("meanline.visible",Boolean(E||x))||(m.meanline={visible:!1}),s("quartilemethod")}}},63800:function(tt,W,t){"use strict";var A=t(3400),y_gaussian=function(i){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*i*i)};W.makeKDE=function(i,P,L){var l=L.length,m=y_gaussian,r=i.bandwidth,e=1/(l*r);return function(s){for(var a=0,h=0;h<l;h++)a+=m((s-L[h])/r);return e*a}},W.getPositionOnKdePath=function(i,P,L){var l,m;"h"===P.orientation?(l="y",m="x"):(l="x",m="y");var r=A.findPointOnPath(i.path,L,m,{pathLength:i.pathLength}),e=i.posCenterPx,s=r[l];return[s,"both"===P.side?2*e-s:e]},W.getKdeValue=function(i,P,L){var l=i.pts.map(W.extractVal);return W.makeKDE(i,P,l)(L)/i.posDensityScale},W.extractVal=function(i){return i.v}},78e3:function(tt,W,t){"use strict";var A=t(76308),y=t(3400),i=t(54460),P=t(27576),L=t(63800);tt.exports=function(m,r,e,s,a){a||(a={});var o,v,h=a.hoverLayer,f=m.cd,u=f[0].trace,g=u.hoveron,c=-1!==g.indexOf("violins"),w=-1!==g.indexOf("kde"),d=[];if(c||w){var M=P.hoverOnBoxes(m,r,e,s);if(w&&M.length>0){var x,S,T,n,C,b=m.xa,E=m.ya;"h"===u.orientation?(C=r,x="y",T=E,S="x",n=b):(C=e,x="x",T=b,S="y",n=E);var p=f[m.index];if(C>=p.span[0]&&C<=p.span[1]){var F=y.extendFlat({},m),D=n.c2p(C,!0),N=L.getKdeValue(p,u,C),k=L.getPositionOnKdePath(p,u,D),z=T._offset,B=T._length;F[x+"0"]=k[0],F[x+"1"]=k[1],F[S+"0"]=F[S+"1"]=D,F[S+"Label"]=S+": "+i.hoverLabelText(n,C,u[S+"hoverformat"])+", "+f[0].t.labels.kde+" "+N.toFixed(3);for(var O=0,U=0;U<M.length;U++)if("med"===M[U].attr){O=U;break}F.spikeDistance=M[O].spikeDistance;var G=x+"Spike";F[G]=M[O][G],M[O].spikeDistance=void 0,M[O][G]=void 0,F.hovertemplate=!1,d.push(F),(v={})[x+"1"]=y.constrain(z+k[0],z,z+B),v[x+"2"]=y.constrain(z+k[1],z,z+B),v[S+"1"]=v[S+"2"]=n._offset+D}}c&&(d=d.concat(M))}-1!==g.indexOf("points")&&(o=P.hoverOnPoints(m,r,e));var J=h.selectAll(".violinline-"+u.uid).data(v?[0]:[]);return J.enter().append("line").classed("violinline-"+u.uid,!0).attr("stroke-width",1.5),J.exit().remove(),J.attr(v).call(A.stroke,m.color),"closest"===s?o?[o]:d:(o&&d.push(o),d)}},22869:function(tt,W,t){"use strict";tt.exports={attributes:t(13988),layoutAttributes:t(98228),supplyDefaults:t(36240),crossTraceDefaults:t(90624).crossTraceDefaults,supplyLayoutDefaults:t(8939),calc:t(67064),crossTraceCalc:t(14348),plot:t(5140),style:t(95908),styleOnSelect:t(49224).styleOnSelect,hoverPoints:t(78e3),selectPoints:t(8264),moduleType:"trace",name:"violin",basePlotModule:t(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(tt,W,t){"use strict";var A=t(16560),y=t(3400).extendFlat;tt.exports={violinmode:y({},A.boxmode,{}),violingap:y({},A.boxgap,{}),violingroupgap:y({},A.boxgroupgap,{})}},8939:function(tt,W,t){"use strict";var A=t(3400),y=t(98228),i=t(68832);tt.exports=function(L,l,m){i._supply(L,l,m,function r(e,s){return A.coerce(L,l,y,e,s)},"violin")}},5140:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=t(43616),P=t(18728),L=t(52340),l=t(63800);tt.exports=function(r,e,s,a){var h=r._context.staticPlot,f=r._fullLayout,u=e.xaxis,g=e.yaxis;function c(w,d){var o=L(w,{xaxis:u,yaxis:g,trace:d,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return i.smoothopen(o[0],1)}y.makeTraceGroups(a,s,"trace violins").each(function(w){var d=A.select(this),o=w[0],v=o.t,M=o.trace;if(!0!==M.visible||v.empty)d.remove();else{var b=v.bPos,E=v.bdPos,x=e[v.valLetter+"axis"],S=e[v.posLetter+"axis"],T="both"===M.side,n=T||"positive"===M.side,C=T||"negative"===M.side,p=d.selectAll("path.violin").data(y.identity);p.enter().append("path").style("vector-effect",h?"none":"non-scaling-stroke").attr("class","violin"),p.exit().remove(),p.each(function(U){var K,rt,H,Z,it,Q,Y,nt,G=A.select(this),J=U.density,et=J.length,at=S.c2l(U.pos+b,!0),lt=S.l2p(at);if(M.width)K=v.maxKDE/E;else{var j=f._violinScaleGroupStats[M.scalegroup];K="count"===M.scalemode?j.maxKDE/E*(j.maxCount/U.pts.length):j.maxKDE/E}if(n){for(Y=new Array(et),it=0;it<et;it++)(nt=Y[it]={})[v.posLetter]=at+J[it].v/K,nt[v.valLetter]=x.c2l(J[it].t,!0);rt=c(Y,M)}if(C){for(Y=new Array(et),Q=0,it=et-1;Q<et;Q++,it--)(nt=Y[Q]={})[v.posLetter]=at-J[it].v/K,nt[v.valLetter]=x.c2l(J[it].t,!0);H=c(Y,M)}if(T)Z=rt+"L"+H.substr(1)+"Z";else{var _=[lt,x.c2p(J[0].t)],st=[lt,x.c2p(J[et-1].t)];"h"===M.orientation&&(_.reverse(),st.reverse()),Z=n?"M"+_+"L"+rt.substr(1)+"L"+st:"M"+st+"L"+H.substr(1)+"L"+_}G.attr("d",Z),U.posCenterPx=lt,U.posDensityScale=K*E,U.path=G.node(),U.pathLength=U.path.getTotalLength()/(T?2:1)});var k,z,B,F=M.box,D=F.width,N=(F.line||{}).width;T?(k=E*D,z=0):n?(k=[0,E*D/2],z=N*{x:1,y:-1}[v.posLetter]):(k=[E*D/2,0],z=N*{x:-1,y:1}[v.posLetter]),P.plotBoxAndWhiskers(d,{pos:S,val:x},M,{bPos:b,bdPos:k,bPosPxOffset:z}),P.plotBoxMean(d,{pos:S,val:x},M,{bPos:b,bdPos:k,bPosPxOffset:z}),!M.box.visible&&M.meanline.visible&&(B=y.identity);var O=d.selectAll("path.meanline").data(B||[]);O.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",h?"none":"non-scaling-stroke"),O.exit().remove(),O.each(function(U){var G=x.c2p(U.mean,!0),J=l.getPositionOnKdePath(U,M,G);A.select(this).attr("d","h"===M.orientation?"M"+G+","+J[0]+"V"+J[1]:"M"+J[0]+","+G+"H"+J[1])}),P.plotPoints(d,{x:u,y:g},M,v)}})}},95908:function(tt,W,t){"use strict";var A=t(33428),y=t(76308),i=t(49224).stylePoints;tt.exports=function(L){var l=A.select(L).selectAll("g.trace.violins");l.style("opacity",function(m){return m[0].trace.opacity}),l.each(function(m){var r=m[0].trace,e=A.select(this),s=r.box||{},a=s.line||{},h=r.meanline||{},f=h.width;e.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(y.stroke,r.line.color).call(y.fill,r.fillcolor),e.selectAll("path.box").style("stroke-width",a.width+"px").call(y.stroke,a.color).call(y.fill,s.fillcolor);var u={"stroke-width":f+"px","stroke-dasharray":2*f+"px,"+f+"px"};e.selectAll("path.mean").style(u).call(y.stroke,h.color),e.selectAll("path.meanline").style(u).call(y.stroke,h.color),i(e,r,L)})}},58168:function(tt,W,t){"use strict";var A=t(49084),y=t(50048),i=t(16716),P=t(45464),L=t(92880).extendFlat,l=t(67824).overrideAll,m=tt.exports=l(L({x:y.x,y:y.y,z:y.z,value:y.value,isomin:y.isomin,isomax:y.isomax,surface:y.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:y.slices,caps:y.caps,text:y.text,hovertext:y.hovertext,xhoverformat:y.xhoverformat,yhoverformat:y.yhoverformat,zhoverformat:y.zhoverformat,valuehoverformat:y.valuehoverformat,hovertemplate:y.hovertemplate},A("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:y.colorbar,opacity:y.opacity,opacityscale:i.opacityscale,lightposition:y.lightposition,lighting:y.lighting,flatshading:y.flatshading,contour:y.contour,hoverinfo:L({},P.hoverinfo),showlegend:L({},P.showlegend,{dflt:!1})}),"calc","nested");m.x.editType=m.y.editType=m.z.editType=m.value.editType="calc+clearAxisTypes",m.transforms=void 0},91976:function(tt,W,t){"use strict";var A=t(67792).gl_mesh3d,y=t(33040).parseColorScale,i=t(3400).isArrayOrTypedArray,P=t(43080),L=t(8932).extractOpts,l=t(52094),m=t(31460).findNearestOnAxis,r=t(31460).generateIsoMeshes;function e(h,f,u){this.scene=h,this.uid=u,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var s=e.prototype;s.handlePick=function(h){if(h.object===this.mesh){var f=h.data.index,g=this.data._meshY[f],c=this.data._meshZ[f],w=this.data._Ys.length,d=this.data._Zs.length,o=m(this.data._meshX[f],this.data._Xs).id,v=m(g,this.data._Ys).id,M=m(c,this.data._Zs).id,b=h.index=M+d*v+d*w*o;h.traceCoordinate=[this.data._meshX[b],this.data._meshY[b],this.data._meshZ[b],this.data._value[b]];var E=this.data.hovertext||this.data.text;return i(E)&&void 0!==E[b]?h.textLabel=E[b]:E&&(h.textLabel=E),!0}},s.update=function(h){var f=this.scene,u=f.fullSceneLayout;function g(v,M,b,E){return M.map(function(x){return v.d2l(x,0,E)*b})}this.data=r(h);var d={positions:l(g(u.xaxis,h._meshX,f.dataScale[0],h.xcalendar),g(u.yaxis,h._meshY,f.dataScale[1],h.ycalendar),g(u.zaxis,h._meshZ,f.dataScale[2],h.zcalendar)),cells:l(h._meshI,h._meshJ,h._meshK),lightPosition:[h.lightposition.x,h.lightposition.y,h.lightposition.z],ambient:h.lighting.ambient,diffuse:h.lighting.diffuse,specular:h.lighting.specular,roughness:h.lighting.roughness,fresnel:h.lighting.fresnel,vertexNormalsEpsilon:h.lighting.vertexnormalsepsilon,faceNormalsEpsilon:h.lighting.facenormalsepsilon,opacity:h.opacity,opacityscale:h.opacityscale,contourEnable:h.contour.show,contourColor:P(h.contour.color).slice(0,3),contourWidth:h.contour.width,useFacetNormals:h.flatshading},o=L(h);d.vertexIntensity=h._meshIntensity,d.vertexIntensityBounds=[o.min,o.max],d.colormap=y(h),this.mesh.update(d)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},tt.exports=function a(h,f){var g=A({gl:h.glplot.gl}),c=new e(h,g,f.uid);return g._trace=c,c.update(f),h.glplot.add(g),c}},12448:function(tt,W,t){"use strict";var A=t(3400),y=t(58168),i=t(70548).supplyIsoDefaults,P=t(60192).opacityscaleDefaults;tt.exports=function(l,m,r,e){function s(a,h){return A.coerce(l,m,y,a,h)}i(l,m,r,e,s),P(l,m,e,s)}},67776:function(tt,W,t){"use strict";tt.exports={attributes:t(58168),supplyDefaults:t(12448),calc:t(62624),colorbar:{min:"cmin",max:"cmax"},plot:t(91976),moduleType:"trace",name:"volume",basePlotModule:t(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(tt,W,t){"use strict";var A=t(20832),y=t(52904).line,i=t(45464),P=t(29736).axisHoverFormat,L=t(21776).Ks,l=t(21776).Gw,m=t(10213),r=t(92880).extendFlat,e=t(76308);function s(a){return{marker:{color:r({},A.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},A.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},A.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}tt.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),hovertext:A.hovertext,hovertemplate:L({},{keys:m.eventDataKeys}),hoverinfo:r({},i.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:l({editType:"plot"},{keys:m.eventDataKeys.concat(["label"])}),text:A.text,textposition:A.textposition,insidetextanchor:A.insidetextanchor,textangle:A.textangle,textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:A.outsidetextfont,constraintext:A.constraintext,cliponaxis:A.cliponaxis,orientation:A.orientation,offset:A.offset,width:A.width,increasing:s(),decreasing:s(),totals:s(),connector:{line:{color:r({},y.color,{dflt:e.defaultLine}),width:r({},y.width,{editType:"plot"}),dash:y.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup}},73540:function(tt,W,t){"use strict";var A=t(54460),y=t(1220),i=t(3400).mergeArray,P=t(4500),L=t(39032).BADNUM;function l(r){return"a"===r||"absolute"===r}function m(r){return"t"===r||"total"===r}tt.exports=function(e,s){var f,u,g,c,w,d,a=A.getFromId(e,s.xaxis||"x"),h=A.getFromId(e,s.yaxis||"y");"h"===s.orientation?(f=a.makeCalcdata(s,"x"),g=h.makeCalcdata(s,"y"),c=y(s,h,"y",g),w=!!s.yperiodalignment,d="y"):(f=h.makeCalcdata(s,"y"),g=a.makeCalcdata(s,"x"),c=y(s,a,"x",g),w=!!s.xperiodalignment,d="x"),u=c.vals;for(var b,o=Math.min(u.length,f.length),v=new Array(o),M=0,E=!1,x=0;x<o;x++){var S=f[x]||0,T=!1;(f[x]!==L||m(s.measure[x])||l(s.measure[x]))&&x+1<o&&(f[x+1]!==L||m(s.measure[x+1])||l(s.measure[x+1]))&&(T=!0);var n=v[x]={i:x,p:u[x],s:S,rawS:S,cNext:T};l(s.measure[x])?(M=n.s,n.isSum=!0,n.dir="totals",n.s=M):m(s.measure[x])?(n.isSum=!0,n.dir="totals",n.s=M):(n.isSum=!1,n.dir=n.rawS<0?"decreasing":"increasing",n.s=M+(b=n.s),M+=b),"totals"===n.dir&&(E=!0),w&&(v[x].orig_p=g[x],v[x][d+"End"]=c.ends[x],v[x][d+"Start"]=c.starts[x]),s.ids&&(n.id=String(s.ids[x])),n.v=(s.base||0)+M}return v.length&&(v[0].hasTotals=E),i(s.text,v,"tx"),i(s.hovertext,v,"htx"),P(v,s),v}},10213:function(tt){"use strict";tt.exports={eventDataKeys:["initial","delta","final"]}},50152:function(tt,W,t){"use strict";var A=t(96376).setGroupPositions;tt.exports=function(i,P){var f,u,L=i._fullLayout,l=i._fullData,m=i.calcdata,r=P.xaxis,e=P.yaxis,s=[],a=[],h=[];for(u=0;u<l.length;u++){var g=l[u];!0===g.visible&&g.xaxis===r._id&&g.yaxis===e._id&&"waterfall"===g.type&&(f=m[u],"h"===g.orientation?h.push(f):a.push(f),s.push(f))}var c={mode:L.waterfallmode,norm:L.waterfallnorm,gap:L.waterfallgap,groupgap:L.waterfallgroupgap};for(A(i,r,e,a,c),A(i,e,r,h,c),u=0;u<s.length;u++){f=s[u];for(var w=0;w<f.length;w++){var d=f[w];!1===d.isSum&&(d.s0+=0===w?0:f[w-1].s),w+1<f.length&&(f[w].nextP0=f[w+1].p0,f[w].nextS0=f[w+1].s0)}}}},24224:function(tt,W,t){"use strict";var A=t(3400),y=t(20011),i=t(31508).handleText,P=t(43980),L=t(31147),l=t(65776),m=t(76308),r=t(48164),e=r.INCREASING.COLOR,s=r.DECREASING.COLOR;function h(g,c,w){g(c+".marker.color",w),g(c+".marker.line.color",m.defaultLine),g(c+".marker.line.width")}tt.exports={supplyDefaults:function f(g,c,w,d){function o(x,S){return A.coerce(g,c,l,x,S)}if(P(g,c,d,o)){L(g,c,d,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",c.x&&!c.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var M=o("textposition");i(g,c,d,o,M,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==c.textposition&&(o("texttemplate"),c.texttemplate||o("textinfo")),h(o,"increasing",e),h(o,"decreasing",s),h(o,"totals","#4499FF"),o("connector.visible")&&(o("connector.mode"),o("connector.line.width")&&(o("connector.line.color"),o("connector.line.dash")))}else c.visible=!1},crossTraceDefaults:function u(g,c){var d;function o(M){return A.coerce(d._input,d,l,M)}if("group"===c.waterfallmode)for(var v=0;v<g.length;v++)y((d=g[v])._input,d,c,o)}}},53256:function(tt){"use strict";tt.exports=function(t,A){return t.x="xVal"in A?A.xVal:A.x,t.y="yVal"in A?A.yVal:A.y,"initial"in A&&(t.initial=A.initial),"delta"in A&&(t.delta=A.delta),"final"in A&&(t.final=A.final),A.xa&&(t.xaxis=A.xa),A.ya&&(t.yaxis=A.ya),t}},94196:function(tt,W,t){"use strict";var A=t(54460).hoverLabelText,y=t(76308).opacity,i=t(63400).hoverOnBars,P=t(48164),L_increasing=P.INCREASING.SYMBOL,L_decreasing=P.DECREASING.SYMBOL;tt.exports=function(r,e,s,a,h){var f=i(r,e,s,a,h);if(f){var u=f.cd,g=u[0].trace,c="h"===g.orientation,w=c?"x":"y",d=c?r.xa:r.ya,M=u[f.index],b=M.isSum?M.b+M.s:M.rawS;f.initial=M.b+M.s-b,f.delta=b,f.final=f.initial+f.delta;var E=o(Math.abs(f.delta));f.deltaLabel=b<0?"("+E+")":E,f.finalLabel=o(f.final),f.initialLabel=o(f.initial);var x=M.hi||g.hoverinfo,S=[];if(x&&"none"!==x&&"skip"!==x){var T="all"===x,n=x.split("+"),C=function(p){return T||-1!==n.indexOf(p)};M.isSum||(C("final")&&(c?!C("x"):!C("y"))&&S.push(f.finalLabel),C("delta")&&S.push(b<0?f.deltaLabel+" "+L_decreasing:f.deltaLabel+" "+L_increasing),C("initial")&&S.push("Initial: "+f.initialLabel))}return S.length&&(f.extraText=S.join("<br>")),f.color=function l(m,r){var e=m[r.dir].marker,s=e.color,a=e.line.color,h=e.line.width;return y(s)?s:y(a)&&h?a:void 0}(g,M),[f]}function o(p){return A(d,p,g[w+"hoverformat"])}}},95952:function(tt,W,t){"use strict";tt.exports={attributes:t(65776),layoutAttributes:t(91352),supplyDefaults:t(24224).supplyDefaults,crossTraceDefaults:t(24224).crossTraceDefaults,supplyLayoutDefaults:t(59464),calc:t(73540),crossTraceCalc:t(50152),plot:t(64488),style:t(12252).style,hoverPoints:t(94196),eventData:t(53256),selectPoints:t(45784),moduleType:"trace",name:"waterfall",basePlotModule:t(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(tt){"use strict";tt.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(tt,W,t){"use strict";var A=t(3400),y=t(91352);tt.exports=function(i,P,L){var l=!1;function m(s,a){return A.coerce(i,P,y,s,a)}for(var r=0;r<L.length;r++){var e=L[r];if(e.visible&&"waterfall"===e.type){l=!0;break}}l&&(m("waterfallmode"),m("waterfallgap",.2),m("waterfallgroupgap"))}},64488:function(tt,W,t){"use strict";var A=t(33428),y=t(3400),i=t(43616),P=t(39032).BADNUM,L=t(98184),l=t(82744).clearMinTextSize;tt.exports=function(s,a,h,f){var u=s._fullLayout;l("waterfall",u),L.plot(s,a,h,f,{mode:u.waterfallmode,norm:u.waterfallmode,gap:u.waterfallgap,groupgap:u.waterfallgroupgap}),function m(e,s,a,h){var f=s.xaxis,u=s.yaxis;y.makeTraceGroups(h,a,"trace bars").each(function(g){var c=A.select(this),w=g[0].trace,d=y.ensureSingle(c,"g","lines");if(w.connector&&w.connector.visible){var o="h"===w.orientation,v=w.connector.mode,M=d.selectAll("g.line").data(y.identity);M.enter().append("g").classed("line",!0),M.exit().remove();var b=M.size();M.each(function(E,x){if(x===b-1||E.cNext){var S=function r(e,s,a,h){var f=[],u=[],g=h?s:a,c=h?a:s;return f[0]=g.c2p(e.s0,!0),u[0]=c.c2p(e.p0,!0),f[1]=g.c2p(e.s1,!0),u[1]=c.c2p(e.p1,!0),f[2]=g.c2p(e.nextS0,!0),u[2]=c.c2p(e.nextP0,!0),h?[f,u]:[u,f]}(E,f,u,o),T=S[0],n=S[1],C="";T[0]!==P&&n[0]!==P&&T[1]!==P&&n[1]!==P&&("spanning"===v&&!E.isSum&&x>0&&(C+=o?"M"+T[0]+","+n[1]+"V"+n[0]:"M"+T[1]+","+n[0]+"H"+T[0]),"between"!==v&&(E.isSum||x<b-1)&&(C+=o?"M"+T[1]+","+n[0]+"V"+n[1]:"M"+T[0]+","+n[1]+"H"+T[1]),T[2]!==P&&n[2]!==P&&(C+=o?"M"+T[1]+","+n[1]+"V"+n[2]:"M"+T[1]+","+n[1]+"H"+T[2])),""===C&&(C="M0,0Z"),y.ensureSingle(A.select(this),"path").attr("d",C).call(i.setClipUrl,s.layerClipId,e)}})}else d.remove()})}(s,a,h,f)}},12252:function(tt,W,t){"use strict";var A=t(33428),y=t(43616),i=t(76308),P=t(13448).DESELECTDIM,L=t(60100),l=t(82744).resizeText,m=L.styleTextPoints;tt.exports={style:function r(e,s,a){var h=a||A.select(e).selectAll("g.waterfalllayer").selectAll("g.trace");l(e,h,"waterfall"),h.style("opacity",function(f){return f[0].trace.opacity}),h.each(function(f){var u=A.select(this),g=f[0].trace;u.selectAll(".point > path").each(function(c){if(!c.isBlank){var w=g[c.dir].marker;A.select(this).call(i.fill,w.color).call(i.stroke,w.line.color).call(y.dashLine,w.line.dash,w.line.width).style("opacity",g.selectedpoints&&!c.selected?P:1)}}),m(u,g,e),u.selectAll(".lines").each(function(){var c=g.connector.line;y.lineGroupStyle(A.select(this).selectAll("path"),c.width,c.color,c.dash)})})}}},84224:function(tt,W,t){"use strict";var A=t(54460),y=t(3400),i=t(73060),P=t(60468).W,L=t(39032).BADNUM;W.moduleType="transform",W.name="aggregate";var l=W.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},m=l.aggregations;function r(f,u,g,c){if(c.enabled){for(var w=c.target,d=y.nestedProperty(u,w),o=d.get(),M=function e(f,u){var c=u.d2c,w=u.c2d;switch(f.func){case"count":return s;case"first":return a;case"last":return h;case"sum":return function(d,o){for(var v=0,M=0;M<o.length;M++){var b=c(d[o[M]]);b!==L&&(v+=b)}return w(v)};case"avg":return function(d,o){for(var v=0,M=0,b=0;b<o.length;b++){var E=c(d[o[b]]);E!==L&&(v+=E,M++)}return M?w(v/M):L};case"min":return function(d,o){for(var v=1/0,M=0;M<o.length;M++){var b=c(d[o[M]]);b!==L&&(v=Math.min(v,b))}return v===1/0?L:w(v)};case"max":return function(d,o){for(var v=-1/0,M=0;M<o.length;M++){var b=c(d[o[M]]);b!==L&&(v=Math.max(v,b))}return v===-1/0?L:w(v)};case"range":return function(d,o){for(var v=1/0,M=-1/0,b=0;b<o.length;b++){var E=c(d[o[b]]);E!==L&&(v=Math.min(v,E),M=Math.max(M,E))}return M===-1/0||v===1/0?L:w(M-v)};case"change":return function(d,o){var v=c(d[o[0]]),M=c(d[o[o.length-1]]);return v===L||M===L?L:w(M-v)};case"median":return function(d,o){for(var v=[],M=0;M<o.length;M++){var b=c(d[o[M]]);b!==L&&v.push(b)}if(!v.length)return L;v.sort(y.sorterAsc);var E=(v.length-1)/2;return w((v[Math.floor(E)]+v[Math.ceil(E)])/2)};case"mode":return function(d,o){for(var v={},M=0,b=L,E=0;E<o.length;E++){var x=c(d[o[E]]);if(x!==L){var S=v[x]=(v[x]||0)+1;S>M&&(M=S,b=x)}}return M?w(b):L};case"rms":return function(d,o){for(var v=0,M=0,b=0;b<o.length;b++){var E=c(d[o[b]]);E!==L&&(v+=E*E,M++)}return M?w(Math.sqrt(v/M)):L};case"stddev":return function(d,o){var x,v=0,M=0,b=1,E=L;for(x=0;x<o.length&&E===L;x++)E=c(d[o[x]]);if(E===L)return L;for(;x<o.length;x++){var S=c(d[o[x]]);if(S!==L){var T=S-E;v+=T,M+=T*T,b++}}var n="sample"===f.funcmode?b-1:b;return n?Math.sqrt((M-v*v/b)/n):0}}}(c,A.getDataConversions(f,u,w,o)),b=new Array(g.length),E=0;E<g.length;E++)b[E]=M(o,g[E]);d.set(b),"count"===c.func&&y.pushUnique(u._arrayAttrs,w)}}function s(f,u){return u.length}function a(f,u){return f[u[0]]}function h(f,u){return f[u[u.length-1]]}W.supplyDefaults=function(f,u){var c,g={};function w(p,F){return y.coerce(f,g,l,p,F)}if(!w("enabled"))return g;var o=i.findArrayAttributes(u),v={};for(c=0;c<o.length;c++)v[o[c]]=1;var M=w("groups");if(!Array.isArray(M)){if(!v[M])return g.enabled=!1,g;v[M]=0}var x,b=f.aggregations||[],E=g.aggregations=new Array(b.length);function S(p,F){return y.coerce(b[c],x,m,p,F)}for(c=0;c<b.length;c++){x={_index:c};var T=S("target"),n=S("func");S("enabled")&&T&&(v[T]||"count"===n&&void 0===v[T])?("stddev"===n&&S("funcmode"),v[T]=0,E[c]=x):E[c]={enabled:!1,_index:c}}for(c=0;c<o.length;c++)v[o[c]]&&E.push({target:o[c],func:m.func.dflt,enabled:!0,_index:-1});return g},W.calcTransform=function(f,u,g){if(g.enabled){var c=g.groups,w=y.getTargetArray(u,{target:c});if(w){var d,o,v,b={},E={},x=[],S=P(u.transforms,g),T=w.length;for(u._length&&(T=Math.min(T,u._length)),d=0;d<T;d++)void 0===(v=b[o=w[d]])?(b[o]=x.length,x.push([d]),E[b[o]]=S(d)):(x[v].push(d),E[b[o]]=(E[b[o]]||[]).concat(S(d)));g._indexToPoints=E;var n=g.aggregations;for(d=0;d<n.length;d++)r(f,u,x,n[d]);"string"==typeof c&&r(f,u,x,{target:c,func:"first",enabled:!0}),u._length=x.length}}}},76744:function(tt,W,t){"use strict";var A=t(3400),y=t(24040),i=t(54460),P=t(60468).W,L=t(69104),l=L.COMPARISON_OPS,m=L.INTERVAL_OPS,r=L.SET_OPS;W.moduleType="transform",W.name="filter",W.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(l).concat(m).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},W.supplyDefaults=function(s){var a={};function h(c,w){return A.coerce(s,a,W.attributes,c,w)}if(h("enabled")){var u=h("target");if(A.isArrayOrTypedArray(u)&&0===u.length)return a.enabled=!1,a;h("preservegaps"),h("operation"),h("value");var g=y.getComponentMethod("calendars","handleDefaults");g(s,a,"valuecalendar",null),g(s,a,"targetcalendar",null)}return a},W.calcTransform=function(s,a,h){if(h.enabled){var f=A.getTargetArray(a,h);if(f){var u=h.target,g=f.length;a._length&&(g=Math.min(g,a._length));var c=h.targetcalendar,w=a._arrayAttrs,d=h.preservegaps;if("string"==typeof u){var o=A.nestedProperty(a,u+"calendar").get();o&&(c=o)}var T,n,M=function e(s,a,h){var f=s.operation,u=s.value,g=A.isArrayOrTypedArray(u);function c(v){return-1!==v.indexOf(f)}var o,w=function(v){return a(v,0,s.valuecalendar)},d=function(v){return a(v,0,h)};switch(c(l)?o=w(g?u[0]:u):c(m)?o=g?[w(u[0]),w(u[1])]:[w(u),w(u)]:c(r)&&(o=g?u.map(w):[w(u)]),f){case"=":return function(v){return d(v)===o};case"!=":return function(v){return d(v)!==o};case"<":return function(v){return d(v)<o};case"<=":return function(v){return d(v)<=o};case">":return function(v){return d(v)>o};case">=":return function(v){return d(v)>=o};case"[]":return function(v){var M=d(v);return M>=o[0]&&M<=o[1]};case"()":return function(v){var M=d(v);return M>o[0]&&M<o[1]};case"[)":return function(v){var M=d(v);return M>=o[0]&&M<o[1]};case"(]":return function(v){var M=d(v);return M>o[0]&&M<=o[1]};case"][":return function(v){var M=d(v);return M<=o[0]||M>=o[1]};case")(":return function(v){var M=d(v);return M<o[0]||M>o[1]};case"](":return function(v){var M=d(v);return M<=o[0]||M>o[1]};case")[":return function(v){var M=d(v);return M<o[0]||M>=o[1]};case"{}":return function(v){return-1!==o.indexOf(d(v))};case"}{":return function(v){return-1===o.indexOf(d(v))}}}(h,i.getDataToCoordFunc(s,a,u,f),c),b={},E={},x=0;d?(T=function(D){b[D.astr]=A.extendDeep([],D.get()),D.set(new Array(g))},n=function(D,N){var k=b[D.astr][N];D.get()[N]=k}):(T=function(D){b[D.astr]=A.extendDeep([],D.get()),D.set([])},n=function(D,N){var k=b[D.astr][N];D.get().push(k)}),S(T);for(var C=P(a.transforms,h),p=0;p<g;p++)M(f[p])?(S(n,p),E[x++]=C(p)):d&&x++;h._indexToPoints=E,a._length=x}}function S(D,N){for(var k=0;k<w.length;k++)D(A.nestedProperty(a,w[k]),N)}}},32028:function(tt,W,t){"use strict";var A=t(3400),y=t(73060),i=t(7316),P=t(60468).W;function L(l,m){var r,e,s,a,h,f,u,g,c,w,d=m.transform,o=m.transformIndex,v=l.transforms[o].groups,M=P(l.transforms,d);if(!A.isArrayOrTypedArray(v)||0===v.length)return[l];var b=A.filterUnique(v),E=new Array(b.length),x=v.length,S=y.findArrayAttributes(l),T=d.styles||[],n={};for(r=0;r<T.length;r++)n[T[r].target]=T[r].value;d.styles&&(w=A.keyedContainer(d,"styles","target","value.name"));var C={},p={};for(r=0;r<b.length;r++){C[f=b[r]]=r,p[f]=0,(u=E[r]=A.extendDeepNoArrays({},l))._group=f,u.transforms[o]._indexToPoints={};var F=null;for(w&&(F=w.get(f)),u.name=F||""===F?F:A.templateString(d.nameformat,{trace:l.name,group:f}),g=u.transforms,u.transforms=[],e=0;e<g.length;e++)u.transforms[e]=A.extendDeepNoArrays({},g[e]);for(e=0;e<S.length;e++)A.nestedProperty(u,S[e]).set([])}for(s=0;s<S.length;s++){for(a=S[s],e=0,c=[];e<b.length;e++)c[e]=A.nestedProperty(E[e],a).get();for(h=A.nestedProperty(l,a).get(),e=0;e<x;e++)c[C[v[e]]].push(h[e])}for(e=0;e<x;e++)(u=E[C[v[e]]]).transforms[o]._indexToPoints[p[v[e]]]=M(e),p[v[e]]++;for(r=0;r<b.length;r++)f=b[r],i.clearExpandedTraceDefaultColors(u=E[r]),u=A.extendDeepNoArrays(u,n[f]||{});return E}W.moduleType="transform",W.name="groupby",W.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},W.supplyDefaults=function(l,m,r){var e,s={};function a(w,d){return A.coerce(l,s,W.attributes,w,d)}if(!a("enabled"))return s;a("groups"),a("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var f=l.styles,u=s.styles=[];if(f)for(e=0;e<f.length;e++){var g=u[e]={};A.coerce(f[e],u[e],W.attributes.styles,"target");var c=A.coerce(f[e],u[e],W.attributes.styles,"value");A.isPlainObject(c)?g.value=A.extendDeep({},c):c&&delete g.value}return s},W.transform=function(l,m){var r,e,s,a=[];for(e=0;e<l.length;e++)for(r=L(l[e],m),s=0;s<r.length;s++)a.push(r[s]);return a}},60468:function(tt,W){"use strict";W.W=function(t,A){for(var y,i,P=0;P<t.length&&(y=t[P])!==A;P++)!y._indexToPoints||!1===y.enabled||(i=y._indexToPoints);return i?function(l){return i[l]}:function(l){return[l]}}},76272:function(tt,W,t){"use strict";var A=t(3400),y=t(54460),i=t(60468).W,P=t(39032).BADNUM;function L(m,r,e,s){var f,a=new Array(s),h=new Array(s);for(f=0;f<s;f++)a[f]={v:r[f],i:f};for(a.sort(function l(m,r){switch(m.order){case"ascending":return function(e,s){var a=r(e.v),h=r(s.v);return a===P?1:h===P?-1:a-h};case"descending":return function(e,s){var a=r(e.v),h=r(s.v);return a===P?1:h===P?-1:h-a}}}(m,e)),f=0;f<s;f++)h[f]=a[f].i;return h}W.moduleType="transform",W.name="sort",W.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},W.supplyDefaults=function(m){var r={};function e(a,h){return A.coerce(m,r,W.attributes,a,h)}return e("enabled")&&(e("target"),e("order")),r},W.calcTransform=function(m,r,e){if(e.enabled){var s=A.getTargetArray(r,e);if(s){var a=e.target,h=s.length;r._length&&(h=Math.min(h,r._length));var d,o,f=r._arrayAttrs,g=L(e,s,y.getDataToCoordFunc(m,r,a,s),h),c=i(r.transforms,e),w={};for(d=0;d<f.length;d++){var v=A.nestedProperty(r,f[d]),M=v.get(),b=new Array(h);for(o=0;o<h;o++)b[o]=M[g[o]];v.set(b)}for(o=0;o<h;o++)w[o]=c(g[o]);e._indexToPoints=w,r._length=h}}}},25788:function(tt,W){"use strict";W.version="2.29.1"},67792:function(tt,W,t){var P,A=t(4168);self,P=function(){return function(){var y={7386:function(l,m,r){l.exports={alpha_shape:r(2350),convex_hull:r(5537),delaunay_triangulate:r(4419),gl_cone3d:r(1140),gl_error3d:r(3110),gl_heatmap2d:r(6386),gl_line3d:r(6086),gl_mesh3d:r(8116),gl_plot2d:r(2117),gl_plot3d:r(1059),gl_pointcloud2d:r(8271),gl_scatter3d:r(2182),gl_select_box:r(6623),gl_spikes2d:r(3050),gl_streamtube3d:r(7307),gl_surface3d:r(3754),ndarray:r(5050),ndarray_linear_interpolate:r(3581)}},2146:function(l,m,r){"use strict";function s(wt,ft){if(!(wt instanceof ft))throw new TypeError("Cannot call a class as a function")}function a(wt,ft){for(var pt=0;pt<ft.length;pt++){var Dt=ft[pt];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(wt,Dt.key,Dt)}}function f(wt,ft){if("function"!=typeof ft&&null!==ft)throw new TypeError("Super expression must either be null or a function");wt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:wt,writable:!0,configurable:!0}}),Object.defineProperty(wt,"prototype",{writable:!1}),ft&&u(wt,ft)}function u(wt,ft){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Dt,Qt){return Dt.__proto__=Qt,Dt})(wt,ft)}function g(wt){var ft=function d(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(wt){return!1}}();return function(){var Qt,Dt=o(wt);if(ft){var te=o(this).constructor;Qt=Reflect.construct(Dt,arguments,te)}else Qt=Dt.apply(this,arguments);return c(this,Qt)}}function c(wt,ft){if(ft&&("object"===v(ft)||"function"==typeof ft))return ft;if(void 0!==ft)throw new TypeError("Derived constructors may only return object or undefined");return w(wt)}function w(wt){if(void 0===wt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}function o(wt){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(pt){return pt.__proto__||Object.getPrototypeOf(pt)})(wt)}function v(wt){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ft){return typeof ft}:function(ft){return ft&&"function"==typeof Symbol&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft})(wt)}var M=r(3910),b=r(3187),E="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;m.lW=n,m.h2=50;var x=2147483647;function T(wt){if(wt>x)throw new RangeError('The value "'+wt+'" is invalid for option "size"');var ft=new Uint8Array(wt);return Object.setPrototypeOf(ft,n.prototype),ft}function n(wt,ft,pt){if("number"==typeof wt){if("string"==typeof ft)throw new TypeError('The "string" argument must be of type string. Received type number');return D(wt)}return C(wt,ft,pt)}function C(wt,ft,pt){if("string"==typeof wt)return function N(wt,ft){if(("string"!=typeof ft||""===ft)&&(ft="utf8"),!n.isEncoding(ft))throw new TypeError("Unknown encoding: "+ft);var pt=0|J(wt,ft),Dt=T(pt),Qt=Dt.write(wt,ft);return Qt!==pt&&(Dt=Dt.slice(0,Qt)),Dt}(wt,ft);if(ArrayBuffer.isView(wt))return function z(wt){if(Xt(wt,Uint8Array)){var ft=new Uint8Array(wt);return B(ft.buffer,ft.byteOffset,ft.byteLength)}return k(wt)}(wt);if(null==wt)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+v(wt));if(Xt(wt,ArrayBuffer)||wt&&Xt(wt.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(Xt(wt,SharedArrayBuffer)||wt&&Xt(wt.buffer,SharedArrayBuffer)))return B(wt,ft,pt);if("number"==typeof wt)throw new TypeError('The "value" argument must not be of type number. Received type number');var Dt=wt.valueOf&&wt.valueOf();if(null!=Dt&&Dt!==wt)return n.from(Dt,ft,pt);var Qt=function O(wt){if(n.isBuffer(wt)){var ft=0|U(wt.length),pt=T(ft);return 0===pt.length||wt.copy(pt,0,0,ft),pt}return void 0!==wt.length?"number"!=typeof wt.length||Ht(wt.length)?T(0):k(wt):"Buffer"===wt.type&&Array.isArray(wt.data)?k(wt.data):void 0}(wt);if(Qt)return Qt;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof wt[Symbol.toPrimitive])return n.from(wt[Symbol.toPrimitive]("string"),ft,pt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+v(wt))}function p(wt){if("number"!=typeof wt)throw new TypeError('"size" argument must be of type number');if(wt<0)throw new RangeError('The value "'+wt+'" is invalid for option "size"')}function D(wt){return p(wt),T(wt<0?0:0|U(wt))}function k(wt){for(var ft=wt.length<0?0:0|U(wt.length),pt=T(ft),Dt=0;Dt<ft;Dt+=1)pt[Dt]=255&wt[Dt];return pt}function B(wt,ft,pt){if(ft<0||wt.byteLength<ft)throw new RangeError('"offset" is outside of buffer bounds');if(wt.byteLength<ft+(pt||0))throw new RangeError('"length" is outside of buffer bounds');var Dt;return Dt=void 0===ft&&void 0===pt?new Uint8Array(wt):void 0===pt?new Uint8Array(wt,ft):new Uint8Array(wt,ft,pt),Object.setPrototypeOf(Dt,n.prototype),Dt}function U(wt){if(wt>=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return 0|wt}function J(wt,ft){if(n.isBuffer(wt))return wt.length;if(ArrayBuffer.isView(wt)||Xt(wt,ArrayBuffer))return wt.byteLength;if("string"!=typeof wt)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+v(wt));var pt=wt.length,Dt=arguments.length>2&&!0===arguments[2];if(!Dt&&0===pt)return 0;for(var Qt=!1;;)switch(ft){case"ascii":case"latin1":case"binary":return pt;case"utf8":case"utf-8":return ve(wt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*pt;case"hex":return pt>>>1;case"base64":return Ct(wt).length;default:if(Qt)return Dt?-1:ve(wt).length;ft=(""+ft).toLowerCase(),Qt=!0}}function et(wt,ft,pt){var Dt=!1;if((void 0===ft||ft<0)&&(ft=0),ft>this.length||((void 0===pt||pt>this.length)&&(pt=this.length),pt<=0)||(pt>>>=0)<=(ft>>>=0))return"";for(wt||(wt="utf8");;)switch(wt){case"hex":return xt(this,ft,pt);case"utf8":case"utf-8":return Y(this,ft,pt);case"ascii":return st(this,ft,pt);case"latin1":case"binary":return dt(this,ft,pt);case"base64":return Q(this,ft,pt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,ft,pt);default:if(Dt)throw new TypeError("Unknown encoding: "+wt);wt=(wt+"").toLowerCase(),Dt=!0}}function at(wt,ft,pt){var Dt=wt[ft];wt[ft]=wt[pt],wt[pt]=Dt}function lt(wt,ft,pt,Dt,Qt){if(0===wt.length)return-1;if("string"==typeof pt?(Dt=pt,pt=0):pt>2147483647?pt=2147483647:pt<-2147483648&&(pt=-2147483648),Ht(pt=+pt)&&(pt=Qt?0:wt.length-1),pt<0&&(pt=wt.length+pt),pt>=wt.length){if(Qt)return-1;pt=wt.length-1}else if(pt<0){if(!Qt)return-1;pt=0}if("string"==typeof ft&&(ft=n.from(ft,Dt)),n.isBuffer(ft))return 0===ft.length?-1:K(wt,ft,pt,Dt,Qt);if("number"==typeof ft)return ft&=255,"function"==typeof Uint8Array.prototype.indexOf?Qt?Uint8Array.prototype.indexOf.call(wt,ft,pt):Uint8Array.prototype.lastIndexOf.call(wt,ft,pt):K(wt,[ft],pt,Dt,Qt);throw new TypeError("val must be string, number or Buffer")}function K(wt,ft,pt,Dt,Qt){var ye,te=1,ee=wt.length,Ne=ft.length;if(void 0!==Dt&&("ucs2"===(Dt=String(Dt).toLowerCase())||"ucs-2"===Dt||"utf16le"===Dt||"utf-16le"===Dt)){if(wt.length<2||ft.length<2)return-1;te=2,ee/=2,Ne/=2,pt/=2}function We(ce,Ue){return 1===te?ce[Ue]:ce.readUInt16BE(Ue*te)}if(Qt){var Te=-1;for(ye=pt;ye<ee;ye++)if(We(wt,ye)===We(ft,-1===Te?0:ye-Te)){if(-1===Te&&(Te=ye),ye-Te+1===Ne)return Te*te}else-1!==Te&&(ye-=ye-Te),Te=-1}else for(pt+Ne>ee&&(pt=ee-Ne),ye=pt;ye>=0;ye--){for(var Ge=!0,hr=0;hr<Ne;hr++)if(We(wt,ye+hr)!==We(ft,hr)){Ge=!1;break}if(Ge)return ye}return-1}function j(wt,ft,pt,Dt){pt=Number(pt)||0;var Qt=wt.length-pt;Dt?(Dt=Number(Dt))>Qt&&(Dt=Qt):Dt=Qt;var ee,te=ft.length;for(Dt>te/2&&(Dt=te/2),ee=0;ee<Dt;++ee){var Ne=parseInt(ft.substr(2*ee,2),16);if(Ht(Ne))return ee;wt[pt+ee]=Ne}return ee}function rt(wt,ft,pt,Dt){return Wt(ve(ft,wt.length-pt),wt,pt,Dt)}function H(wt,ft,pt,Dt){return Wt(function de(wt){for(var ft=[],pt=0;pt<wt.length;++pt)ft.push(255&wt.charCodeAt(pt));return ft}(ft),wt,pt,Dt)}function Z(wt,ft,pt,Dt){return Wt(Ct(ft),wt,pt,Dt)}function it(wt,ft,pt,Dt){return Wt(function jt(wt,ft){for(var pt,Dt,te=[],ee=0;ee<wt.length&&!((ft-=2)<0);++ee)Dt=(pt=wt.charCodeAt(ee))>>8,te.push(pt%256),te.push(Dt);return te}(ft,wt.length-pt),wt,pt,Dt)}function Q(wt,ft,pt){return M.fromByteArray(0===ft&&pt===wt.length?wt:wt.slice(ft,pt))}function Y(wt,ft,pt){pt=Math.min(wt.length,pt);for(var Dt=[],Qt=ft;Qt<pt;){var te=wt[Qt],ee=null,Ne=te>239?4:te>223?3:te>191?2:1;if(Qt+Ne<=pt){var We=void 0,ye=void 0,Te=void 0,Ge=void 0;switch(Ne){case 1:te<128&&(ee=te);break;case 2:128==(192&(We=wt[Qt+1]))&&(Ge=(31&te)<<6|63&We)>127&&(ee=Ge);break;case 3:ye=wt[Qt+2],128==(192&(We=wt[Qt+1]))&&128==(192&ye)&&(Ge=(15&te)<<12|(63&We)<<6|63&ye)>2047&&(Ge<55296||Ge>57343)&&(ee=Ge);break;case 4:ye=wt[Qt+2],Te=wt[Qt+3],128==(192&(We=wt[Qt+1]))&&128==(192&ye)&&128==(192&Te)&&(Ge=(15&te)<<18|(63&We)<<12|(63&ye)<<6|63&Te)>65535&&Ge<1114112&&(ee=Ge)}}null===ee?(ee=65533,Ne=1):ee>65535&&(Dt.push((ee-=65536)>>>10&1023|55296),ee=56320|1023&ee),Dt.push(ee),Qt+=Ne}return function _(wt){var ft=wt.length;if(ft<=4096)return String.fromCharCode.apply(String,wt);for(var pt="",Dt=0;Dt<ft;)pt+=String.fromCharCode.apply(String,wt.slice(Dt,Dt+=4096));return pt}(Dt)}!(n.TYPED_ARRAY_SUPPORT=function S(){try{var wt=new Uint8Array(1),ft={foo:function(){return 42}};return Object.setPrototypeOf(ft,Uint8Array.prototype),Object.setPrototypeOf(wt,ft),42===wt.foo()}catch(pt){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),n.poolSize=8192,n.from=function(wt,ft,pt){return C(wt,ft,pt)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(wt,ft,pt){return function F(wt,ft,pt){return p(wt),wt<=0?T(wt):void 0!==ft?"string"==typeof pt?T(wt).fill(ft,pt):T(wt).fill(ft):T(wt)}(wt,ft,pt)},n.allocUnsafe=function(wt){return D(wt)},n.allocUnsafeSlow=function(wt){return D(wt)},n.isBuffer=function(ft){return null!=ft&&!0===ft._isBuffer&&ft!==n.prototype},n.compare=function(ft,pt){if(Xt(ft,Uint8Array)&&(ft=n.from(ft,ft.offset,ft.byteLength)),Xt(pt,Uint8Array)&&(pt=n.from(pt,pt.offset,pt.byteLength)),!n.isBuffer(ft)||!n.isBuffer(pt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ft===pt)return 0;for(var Dt=ft.length,Qt=pt.length,te=0,ee=Math.min(Dt,Qt);te<ee;++te)if(ft[te]!==pt[te]){Dt=ft[te],Qt=pt[te];break}return Dt<Qt?-1:Qt<Dt?1:0},n.isEncoding=function(ft){switch(String(ft).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(ft,pt){if(!Array.isArray(ft))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ft.length)return n.alloc(0);var Dt;if(void 0===pt)for(pt=0,Dt=0;Dt<ft.length;++Dt)pt+=ft[Dt].length;var Qt=n.allocUnsafe(pt),te=0;for(Dt=0;Dt<ft.length;++Dt){var ee=ft[Dt];if(Xt(ee,Uint8Array))te+ee.length>Qt.length?(n.isBuffer(ee)||(ee=n.from(ee)),ee.copy(Qt,te)):Uint8Array.prototype.set.call(Qt,ee,te);else{if(!n.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(Qt,te)}te+=ee.length}return Qt},n.byteLength=J,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var ft=this.length;if(ft%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var pt=0;pt<ft;pt+=2)at(this,pt,pt+1);return this},n.prototype.swap32=function(){var ft=this.length;if(ft%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var pt=0;pt<ft;pt+=4)at(this,pt,pt+3),at(this,pt+1,pt+2);return this},n.prototype.swap64=function(){var ft=this.length;if(ft%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var pt=0;pt<ft;pt+=8)at(this,pt,pt+7),at(this,pt+1,pt+6),at(this,pt+2,pt+5),at(this,pt+3,pt+4);return this},n.prototype.toLocaleString=n.prototype.toString=function(){var ft=this.length;return 0===ft?"":0===arguments.length?Y(this,0,ft):et.apply(this,arguments)},n.prototype.equals=function(ft){if(!n.isBuffer(ft))throw new TypeError("Argument must be a Buffer");return this===ft||0===n.compare(this,ft)},n.prototype.inspect=function(){var ft="",pt=m.h2;return ft=this.toString("hex",0,pt).replace(/(.{2})/g,"$1 ").trim(),this.length>pt&&(ft+=" ... "),"<Buffer "+ft+">"},E&&(n.prototype[E]=n.prototype.inspect),n.prototype.compare=function(ft,pt,Dt,Qt,te){if(Xt(ft,Uint8Array)&&(ft=n.from(ft,ft.offset,ft.byteLength)),!n.isBuffer(ft))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+v(ft));if(void 0===pt&&(pt=0),void 0===Dt&&(Dt=ft?ft.length:0),void 0===Qt&&(Qt=0),void 0===te&&(te=this.length),pt<0||Dt>ft.length||Qt<0||te>this.length)throw new RangeError("out of range index");if(Qt>=te&&pt>=Dt)return 0;if(Qt>=te)return-1;if(pt>=Dt)return 1;if(this===ft)return 0;for(var ee=(te>>>=0)-(Qt>>>=0),Ne=(Dt>>>=0)-(pt>>>=0),We=Math.min(ee,Ne),ye=this.slice(Qt,te),Te=ft.slice(pt,Dt),Ge=0;Ge<We;++Ge)if(ye[Ge]!==Te[Ge]){ee=ye[Ge],Ne=Te[Ge];break}return ee<Ne?-1:Ne<ee?1:0},n.prototype.includes=function(ft,pt,Dt){return-1!==this.indexOf(ft,pt,Dt)},n.prototype.indexOf=function(ft,pt,Dt){return lt(this,ft,pt,Dt,!0)},n.prototype.lastIndexOf=function(ft,pt,Dt){return lt(this,ft,pt,Dt,!1)},n.prototype.write=function(ft,pt,Dt,Qt){if(void 0===pt)Qt="utf8",Dt=this.length,pt=0;else if(void 0===Dt&&"string"==typeof pt)Qt=pt,Dt=this.length,pt=0;else{if(!isFinite(pt))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");pt>>>=0,isFinite(Dt)?(Dt>>>=0,void 0===Qt&&(Qt="utf8")):(Qt=Dt,Dt=void 0)}var te=this.length-pt;if((void 0===Dt||Dt>te)&&(Dt=te),ft.length>0&&(Dt<0||pt<0)||pt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Qt||(Qt="utf8");for(var ee=!1;;)switch(Qt){case"hex":return j(this,ft,pt,Dt);case"utf8":case"utf-8":return rt(this,ft,pt,Dt);case"ascii":case"latin1":case"binary":return H(this,ft,pt,Dt);case"base64":return Z(this,ft,pt,Dt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return it(this,ft,pt,Dt);default:if(ee)throw new TypeError("Unknown encoding: "+Qt);Qt=(""+Qt).toLowerCase(),ee=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function st(wt,ft,pt){var Dt="";pt=Math.min(wt.length,pt);for(var Qt=ft;Qt<pt;++Qt)Dt+=String.fromCharCode(127&wt[Qt]);return Dt}function dt(wt,ft,pt){var Dt="";pt=Math.min(wt.length,pt);for(var Qt=ft;Qt<pt;++Qt)Dt+=String.fromCharCode(wt[Qt]);return Dt}function xt(wt,ft,pt){var Dt=wt.length;(!ft||ft<0)&&(ft=0),(!pt||pt<0||pt>Dt)&&(pt=Dt);for(var Qt="",te=ft;te<pt;++te)Qt+=Bt[wt[te]];return Qt}function yt(wt,ft,pt){for(var Dt=wt.slice(ft,pt),Qt="",te=0;te<Dt.length-1;te+=2)Qt+=String.fromCharCode(Dt[te]+256*Dt[te+1]);return Qt}function St(wt,ft,pt){if(wt%1!=0||wt<0)throw new RangeError("offset is not uint");if(wt+ft>pt)throw new RangeError("Trying to access beyond buffer length")}function Et(wt,ft,pt,Dt,Qt,te){if(!n.isBuffer(wt))throw new TypeError('"buffer" argument must be a Buffer instance');if(ft>Qt||ft<te)throw new RangeError('"value" argument is out of bounds');if(pt+Dt>wt.length)throw new RangeError("Index out of range")}function Tt(wt,ft,pt,Dt,Qt){It(ft,Dt,Qt,wt,pt,7);var te=Number(ft&BigInt(4294967295));wt[pt++]=te,wt[pt++]=te>>=8,wt[pt++]=te>>=8,wt[pt++]=te>>=8;var ee=Number(ft>>BigInt(32)&BigInt(4294967295));return wt[pt++]=ee,wt[pt++]=ee>>=8,wt[pt++]=ee>>=8,wt[pt++]=ee>>=8,pt}function gt(wt,ft,pt,Dt,Qt){It(ft,Dt,Qt,wt,pt,7);var te=Number(ft&BigInt(4294967295));wt[pt+7]=te,wt[pt+6]=te>>=8,wt[pt+5]=te>>=8,wt[pt+4]=te>>=8;var ee=Number(ft>>BigInt(32)&BigInt(4294967295));return wt[pt+3]=ee,wt[pt+2]=ee>>=8,wt[pt+1]=ee>>=8,wt[pt]=ee>>=8,pt+8}function Mt(wt,ft,pt,Dt,Qt,te){if(pt+Dt>wt.length)throw new RangeError("Index out of range");if(pt<0)throw new RangeError("Index out of range")}function Nt(wt,ft,pt,Dt,Qt){return ft=+ft,pt>>>=0,Qt||Mt(wt,0,pt,4),b.write(wt,ft,pt,Dt,23,4),pt+4}function Gt(wt,ft,pt,Dt,Qt){return ft=+ft,pt>>>=0,Qt||Mt(wt,0,pt,8),b.write(wt,ft,pt,Dt,52,8),pt+8}n.prototype.slice=function(ft,pt){var Dt=this.length;(ft=~~ft)<0?(ft+=Dt)<0&&(ft=0):ft>Dt&&(ft=Dt),(pt=void 0===pt?Dt:~~pt)<0?(pt+=Dt)<0&&(pt=0):pt>Dt&&(pt=Dt),pt<ft&&(pt=ft);var Qt=this.subarray(ft,pt);return Object.setPrototypeOf(Qt,n.prototype),Qt},n.prototype.readUintLE=n.prototype.readUIntLE=function(ft,pt,Dt){ft>>>=0,pt>>>=0,Dt||St(ft,pt,this.length);for(var Qt=this[ft],te=1,ee=0;++ee<pt&&(te*=256);)Qt+=this[ft+ee]*te;return Qt},n.prototype.readUintBE=n.prototype.readUIntBE=function(ft,pt,Dt){ft>>>=0,pt>>>=0,Dt||St(ft,pt,this.length);for(var Qt=this[ft+--pt],te=1;pt>0&&(te*=256);)Qt+=this[ft+--pt]*te;return Qt},n.prototype.readUint8=n.prototype.readUInt8=function(ft,pt){return ft>>>=0,pt||St(ft,1,this.length),this[ft]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(ft,pt){return ft>>>=0,pt||St(ft,2,this.length),this[ft]|this[ft+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(ft,pt){return ft>>>=0,pt||St(ft,2,this.length),this[ft]<<8|this[ft+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(ft,pt){return ft>>>=0,pt||St(ft,4,this.length),(this[ft]|this[ft+1]<<8|this[ft+2]<<16)+16777216*this[ft+3]},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(ft,pt){return ft>>>=0,pt||St(ft,4,this.length),16777216*this[ft]+(this[ft+1]<<16|this[ft+2]<<8|this[ft+3])},n.prototype.readBigUInt64LE=zt(function(ft){Rt(ft>>>=0,"offset");var pt=this[ft],Dt=this[ft+7];(void 0===pt||void 0===Dt)&&$t(ft,this.length-8);var Qt=pt+this[++ft]*Math.pow(2,8)+this[++ft]*Math.pow(2,16)+this[++ft]*Math.pow(2,24),te=this[++ft]+this[++ft]*Math.pow(2,8)+this[++ft]*Math.pow(2,16)+Dt*Math.pow(2,24);return BigInt(Qt)+(BigInt(te)<<BigInt(32))}),n.prototype.readBigUInt64BE=zt(function(ft){Rt(ft>>>=0,"offset");var pt=this[ft],Dt=this[ft+7];(void 0===pt||void 0===Dt)&&$t(ft,this.length-8);var Qt=pt*Math.pow(2,24)+this[++ft]*Math.pow(2,16)+this[++ft]*Math.pow(2,8)+this[++ft],te=this[++ft]*Math.pow(2,24)+this[++ft]*Math.pow(2,16)+this[++ft]*Math.pow(2,8)+Dt;return(BigInt(Qt)<<BigInt(32))+BigInt(te)}),n.prototype.readIntLE=function(ft,pt,Dt){ft>>>=0,pt>>>=0,Dt||St(ft,pt,this.length);for(var Qt=this[ft],te=1,ee=0;++ee<pt&&(te*=256);)Qt+=this[ft+ee]*te;return Qt>=(te*=128)&&(Qt-=Math.pow(2,8*pt)),Qt},n.prototype.readIntBE=function(ft,pt,Dt){ft>>>=0,pt>>>=0,Dt||St(ft,pt,this.length);for(var Qt=pt,te=1,ee=this[ft+--Qt];Qt>0&&(te*=256);)ee+=this[ft+--Qt]*te;return ee>=(te*=128)&&(ee-=Math.pow(2,8*pt)),ee},n.prototype.readInt8=function(ft,pt){return ft>>>=0,pt||St(ft,1,this.length),128&this[ft]?-1*(255-this[ft]+1):this[ft]},n.prototype.readInt16LE=function(ft,pt){ft>>>=0,pt||St(ft,2,this.length);var Dt=this[ft]|this[ft+1]<<8;return 32768&Dt?4294901760|Dt:Dt},n.prototype.readInt16BE=function(ft,pt){ft>>>=0,pt||St(ft,2,this.length);var Dt=this[ft+1]|this[ft]<<8;return 32768&Dt?4294901760|Dt:Dt},n.prototype.readInt32LE=function(ft,pt){return ft>>>=0,pt||St(ft,4,this.length),this[ft]|this[ft+1]<<8|this[ft+2]<<16|this[ft+3]<<24},n.prototype.readInt32BE=function(ft,pt){return ft>>>=0,pt||St(ft,4,this.length),this[ft]<<24|this[ft+1]<<16|this[ft+2]<<8|this[ft+3]},n.prototype.readBigInt64LE=zt(function(ft){Rt(ft>>>=0,"offset");var pt=this[ft],Dt=this[ft+7];(void 0===pt||void 0===Dt)&&$t(ft,this.length-8);var Qt=this[ft+4]+this[ft+5]*Math.pow(2,8)+this[ft+6]*Math.pow(2,16)+(Dt<<24);return(BigInt(Qt)<<BigInt(32))+BigInt(pt+this[++ft]*Math.pow(2,8)+this[++ft]*Math.pow(2,16)+this[++ft]*Math.pow(2,24))}),n.prototype.readBigInt64BE=zt(function(ft){Rt(ft>>>=0,"offset");var pt=this[ft],Dt=this[ft+7];(void 0===pt||void 0===Dt)&&$t(ft,this.length-8);var Qt=(pt<<24)+this[++ft]*Math.pow(2,16)+this[++ft]*Math.pow(2,8)+this[++ft];return(BigInt(Qt)<<BigInt(32))+BigInt(this[++ft]*Math.pow(2,24)+this[++ft]*Math.pow(2,16)+this[++ft]*Math.pow(2,8)+Dt)}),n.prototype.readFloatLE=function(ft,pt){return ft>>>=0,pt||St(ft,4,this.length),b.read(this,ft,!0,23,4)},n.prototype.readFloatBE=function(ft,pt){return ft>>>=0,pt||St(ft,4,this.length),b.read(this,ft,!1,23,4)},n.prototype.readDoubleLE=function(ft,pt){return ft>>>=0,pt||St(ft,8,this.length),b.read(this,ft,!0,52,8)},n.prototype.readDoubleBE=function(ft,pt){return ft>>>=0,pt||St(ft,8,this.length),b.read(this,ft,!1,52,8)},n.prototype.writeUintLE=n.prototype.writeUIntLE=function(ft,pt,Dt,Qt){ft=+ft,pt>>>=0,Dt>>>=0,Qt||Et(this,ft,pt,Dt,Math.pow(2,8*Dt)-1,0);var ee=1,Ne=0;for(this[pt]=255&ft;++Ne<Dt&&(ee*=256);)this[pt+Ne]=ft/ee&255;return pt+Dt},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(ft,pt,Dt,Qt){ft=+ft,pt>>>=0,Dt>>>=0,Qt||Et(this,ft,pt,Dt,Math.pow(2,8*Dt)-1,0);var ee=Dt-1,Ne=1;for(this[pt+ee]=255&ft;--ee>=0&&(Ne*=256);)this[pt+ee]=ft/Ne&255;return pt+Dt},n.prototype.writeUint8=n.prototype.writeUInt8=function(ft,pt,Dt){return ft=+ft,pt>>>=0,Dt||Et(this,ft,pt,1,255,0),this[pt]=255&ft,pt+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(ft,pt,Dt){return ft=+ft,pt>>>=0,Dt||Et(this,ft,pt,2,65535,0),this[pt]=255&ft,this[pt+1]=ft>>>8,pt+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(ft,pt,Dt){return ft=+ft,pt>>>=0,Dt||Et(this,ft,pt,2,65535,0),this[pt]=ft>>>8,this[pt+1]=255&ft,pt+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(ft,pt,Dt){return ft=+ft,pt>>>=0,Dt||Et(this,ft,pt,4,4294967295,0),this[pt+3]=ft>>>24,this[pt+2]=ft>>>16,this[pt+1]=ft>>>8,this[pt]=255&ft,pt+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(ft,pt,Dt){return ft=+ft,pt>>>=0,Dt||Et(this,ft,pt,4,4294967295,0),this[pt]=ft>>>24,this[pt+1]=ft>>>16,this[pt+2]=ft>>>8,this[pt+3]=255&ft,pt+4},n.prototype.writeBigUInt64LE=zt(function(ft){return Tt(this,ft,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=zt(function(ft){return gt(this,ft,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(ft,pt,Dt,Qt){if(ft=+ft,pt>>>=0,!Qt){var te=Math.pow(2,8*Dt-1);Et(this,ft,pt,Dt,te-1,-te)}var ee=0,Ne=1,We=0;for(this[pt]=255&ft;++ee<Dt&&(Ne*=256);)ft<0&&0===We&&0!==this[pt+ee-1]&&(We=1),this[pt+ee]=(ft/Ne>>0)-We&255;return pt+Dt},n.prototype.writeIntBE=function(ft,pt,Dt,Qt){if(ft=+ft,pt>>>=0,!Qt){var te=Math.pow(2,8*Dt-1);Et(this,ft,pt,Dt,te-1,-te)}var ee=Dt-1,Ne=1,We=0;for(this[pt+ee]=255&ft;--ee>=0&&(Ne*=256);)ft<0&&0===We&&0!==this[pt+ee+1]&&(We=1),this[pt+ee]=(ft/Ne>>0)-We&255;return pt+Dt},n.prototype.writeInt8=function(ft,pt,Dt){return ft=+ft,pt>>>=0,Dt||Et(this,ft,pt,1,127,-128),ft<0&&(ft=255+ft+1),this[pt]=255&ft,pt+1},n.prototype.writeInt16LE=function(ft,pt,Dt){return ft=+ft,pt>>>=0,Dt||Et(this,ft,pt,2,32767,-32768),this[pt]=255&ft,this[pt+1]=ft>>>8,pt+2},n.prototype.writeInt16BE=function(ft,pt,Dt){return ft=+ft,pt>>>=0,Dt||Et(this,ft,pt,2,32767,-32768),this[pt]=ft>>>8,this[pt+1]=255&ft,pt+2},n.prototype.writeInt32LE=function(ft,pt,Dt){return ft=+ft,pt>>>=0,Dt||Et(this,ft,pt,4,2147483647,-2147483648),this[pt]=255&ft,this[pt+1]=ft>>>8,this[pt+2]=ft>>>16,this[pt+3]=ft>>>24,pt+4},n.prototype.writeInt32BE=function(ft,pt,Dt){return ft=+ft,pt>>>=0,Dt||Et(this,ft,pt,4,2147483647,-2147483648),ft<0&&(ft=4294967295+ft+1),this[pt]=ft>>>24,this[pt+1]=ft>>>16,this[pt+2]=ft>>>8,this[pt+3]=255&ft,pt+4},n.prototype.writeBigInt64LE=zt(function(ft){return Tt(this,ft,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=zt(function(ft){return gt(this,ft,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeFloatLE=function(ft,pt,Dt){return Nt(this,ft,pt,!0,Dt)},n.prototype.writeFloatBE=function(ft,pt,Dt){return Nt(this,ft,pt,!1,Dt)},n.prototype.writeDoubleLE=function(ft,pt,Dt){return Gt(this,ft,pt,!0,Dt)},n.prototype.writeDoubleBE=function(ft,pt,Dt){return Gt(this,ft,pt,!1,Dt)},n.prototype.copy=function(ft,pt,Dt,Qt){if(!n.isBuffer(ft))throw new TypeError("argument should be a Buffer");if(Dt||(Dt=0),!Qt&&0!==Qt&&(Qt=this.length),pt>=ft.length&&(pt=ft.length),pt||(pt=0),Qt>0&&Qt<Dt&&(Qt=Dt),Qt===Dt||0===ft.length||0===this.length)return 0;if(pt<0)throw new RangeError("targetStart out of bounds");if(Dt<0||Dt>=this.length)throw new RangeError("Index out of range");if(Qt<0)throw new RangeError("sourceEnd out of bounds");Qt>this.length&&(Qt=this.length),ft.length-pt<Qt-Dt&&(Qt=ft.length-pt+Dt);var te=Qt-Dt;return this===ft&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(pt,Dt,Qt):Uint8Array.prototype.set.call(ft,this.subarray(Dt,Qt),pt),te},n.prototype.fill=function(ft,pt,Dt,Qt){if("string"==typeof ft){if("string"==typeof pt?(Qt=pt,pt=0,Dt=this.length):"string"==typeof Dt&&(Qt=Dt,Dt=this.length),void 0!==Qt&&"string"!=typeof Qt)throw new TypeError("encoding must be a string");if("string"==typeof Qt&&!n.isEncoding(Qt))throw new TypeError("Unknown encoding: "+Qt);if(1===ft.length){var te=ft.charCodeAt(0);("utf8"===Qt&&te<128||"latin1"===Qt)&&(ft=te)}}else"number"==typeof ft?ft&=255:"boolean"==typeof ft&&(ft=Number(ft));if(pt<0||this.length<pt||this.length<Dt)throw new RangeError("Out of range index");if(Dt<=pt)return this;var ee;if(pt>>>=0,Dt=void 0===Dt?this.length:Dt>>>0,ft||(ft=0),"number"==typeof ft)for(ee=pt;ee<Dt;++ee)this[ee]=ft;else{var Ne=n.isBuffer(ft)?ft:n.from(ft,Qt),We=Ne.length;if(0===We)throw new TypeError('The value "'+ft+'" is invalid for argument "value"');for(ee=0;ee<Dt-pt;++ee)this[ee+pt]=Ne[ee%We]}return this};var Pt={};function Vt(wt,ft,pt){Pt[wt]=function(Dt){f(te,Dt);var Qt=g(te);function te(){var ee;return s(this,te),ee=Qt.call(this),Object.defineProperty(w(ee),"message",{value:ft.apply(w(ee),arguments),writable:!0,configurable:!0}),ee.name="".concat(ee.name," [").concat(wt,"]"),delete ee.name,ee}return function h(wt,ft,pt){return ft&&a(wt.prototype,ft),pt&&a(wt,pt),Object.defineProperty(wt,"prototype",{writable:!1}),wt}(te,[{key:"code",get:function(){return wt},set:function(Ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ne,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(wt,"]: ").concat(this.message)}}]),te}(pt)}function re(wt){for(var ft="",pt=wt.length,Dt="-"===wt[0]?1:0;pt>=Dt+4;pt-=3)ft="_".concat(wt.slice(pt-3,pt)).concat(ft);return"".concat(wt.slice(0,pt)).concat(ft)}function It(wt,ft,pt,Dt,Qt,te){if(wt>pt||wt<ft){var Ne,ee="bigint"==typeof ft?"n":"";throw Ne=te>3?0===ft||ft===BigInt(0)?">= 0".concat(ee," and < 2").concat(ee," ** ").concat(8*(te+1)).concat(ee):">= -(2".concat(ee," ** ").concat(8*(te+1)-1).concat(ee,") and < 2 ** ")+"".concat(8*(te+1)-1).concat(ee):">= ".concat(ft).concat(ee," and <= ").concat(pt).concat(ee),new Pt.ERR_OUT_OF_RANGE("value",Ne,wt)}!function le(wt,ft,pt){Rt(ft,"offset"),(void 0===wt[ft]||void 0===wt[ft+pt])&&$t(ft,wt.length-(pt+1))}(Dt,Qt,te)}function Rt(wt,ft){if("number"!=typeof wt)throw new Pt.ERR_INVALID_ARG_TYPE(ft,"number",wt)}function $t(wt,ft,pt){throw Math.floor(wt)!==wt?(Rt(wt,pt),new Pt.ERR_OUT_OF_RANGE(pt||"offset","an integer",wt)):ft<0?new Pt.ERR_BUFFER_OUT_OF_BOUNDS:new Pt.ERR_OUT_OF_RANGE(pt||"offset",">= ".concat(pt?1:0," and <= ").concat(ft),wt)}Vt("ERR_BUFFER_OUT_OF_BOUNDS",function(wt){return wt?"".concat(wt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Vt("ERR_INVALID_ARG_TYPE",function(wt,ft){return'The "'.concat(wt,'" argument must be of type number. Received type ').concat(v(ft))},TypeError),Vt("ERR_OUT_OF_RANGE",function(wt,ft,pt){var Dt='The value of "'.concat(wt,'" is out of range.'),Qt=pt;return Number.isInteger(pt)&&Math.abs(pt)>Math.pow(2,32)?Qt=re(String(pt)):"bigint"==typeof pt&&(Qt=String(pt),(pt>Math.pow(BigInt(2),BigInt(32))||pt<-Math.pow(BigInt(2),BigInt(32)))&&(Qt=re(Qt)),Qt+="n"),Dt+" It must be ".concat(ft,". Received ").concat(Qt)},RangeError);var oe=/[^+/0-9A-Za-z-_]/g;function ve(wt,ft){ft=ft||1/0;for(var pt,Dt=wt.length,Qt=null,te=[],ee=0;ee<Dt;++ee){if((pt=wt.charCodeAt(ee))>55295&&pt<57344){if(!Qt){if(pt>56319){(ft-=3)>-1&&te.push(239,191,189);continue}if(ee+1===Dt){(ft-=3)>-1&&te.push(239,191,189);continue}Qt=pt;continue}if(pt<56320){(ft-=3)>-1&&te.push(239,191,189),Qt=pt;continue}pt=65536+(Qt-55296<<10|pt-56320)}else Qt&&(ft-=3)>-1&&te.push(239,191,189);if(Qt=null,pt<128){if((ft-=1)<0)break;te.push(pt)}else if(pt<2048){if((ft-=2)<0)break;te.push(pt>>6|192,63&pt|128)}else if(pt<65536){if((ft-=3)<0)break;te.push(pt>>12|224,pt>>6&63|128,63&pt|128)}else{if(!(pt<1114112))throw new Error("Invalid code point");if((ft-=4)<0)break;te.push(pt>>18|240,pt>>12&63|128,pt>>6&63|128,63&pt|128)}}return te}function Ct(wt){return M.toByteArray(function se(wt){if((wt=(wt=wt.split("=")[0]).trim().replace(oe,"")).length<2)return"";for(;wt.length%4!=0;)wt+="=";return wt}(wt))}function Wt(wt,ft,pt,Dt){var Qt;for(Qt=0;Qt<Dt&&!(Qt+pt>=ft.length||Qt>=wt.length);++Qt)ft[Qt+pt]=wt[Qt];return Qt}function Xt(wt,ft){return wt instanceof ft||null!=wt&&null!=wt.constructor&&null!=wt.constructor.name&&wt.constructor.name===ft.name}function Ht(wt){return wt!=wt}var Bt=function(){for(var wt="0123456789abcdef",ft=new Array(256),pt=0;pt<16;++pt)for(var Dt=16*pt,Qt=0;Qt<16;++Qt)ft[Dt+Qt]=wt[pt]+wt[Qt];return ft}();function zt(wt){return"undefined"==typeof BigInt?kt:wt}function kt(){throw new Error("BigInt not supported")}},2321:function(l){"use strict";l.exports=s,l.exports.isMobile=s,l.exports.default=s;var m=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,e=/android|ipad|playbook|silk/i;function s(a){a||(a={});var h=a.ua;if(!h&&"undefined"!=typeof navigator&&(h=navigator.userAgent),h&&h.headers&&"string"==typeof h.headers["user-agent"]&&(h=h.headers["user-agent"]),"string"!=typeof h)return!1;var f=m.test(h)&&!r.test(h)||!!a.tablet&&e.test(h);return!f&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==h.indexOf("Macintosh")&&-1!==h.indexOf("Safari")&&(f=!0),f}},3910:function(l,m){"use strict";m.byteLength=function g(M){var b=u(M),x=b[1];return 3*(b[0]+x)/4-x},m.toByteArray=function w(M){var b,p,E=u(M),x=E[0],S=E[1],T=new s(function c(M,b,E){return 3*(b+E)/4-E}(0,x,S)),n=0,C=S>0?x-4:x;for(p=0;p<C;p+=4)b=e[M.charCodeAt(p)]<<18|e[M.charCodeAt(p+1)]<<12|e[M.charCodeAt(p+2)]<<6|e[M.charCodeAt(p+3)],T[n++]=b>>16&255,T[n++]=b>>8&255,T[n++]=255&b;return 2===S&&(b=e[M.charCodeAt(p)]<<2|e[M.charCodeAt(p+1)]>>4,T[n++]=255&b),1===S&&(b=e[M.charCodeAt(p)]<<10|e[M.charCodeAt(p+1)]<<4|e[M.charCodeAt(p+2)]>>2,T[n++]=b>>8&255,T[n++]=255&b),T},m.fromByteArray=function v(M){for(var b,E=M.length,x=E%3,S=[],T=16383,n=0,C=E-x;n<C;n+=T)S.push(o(M,n,n+T>C?C:n+T));return 1===x?S.push(r[(b=M[E-1])>>2]+r[b<<4&63]+"=="):2===x&&S.push(r[(b=(M[E-2]<<8)+M[E-1])>>10]+r[b>>4&63]+r[b<<2&63]+"="),S.join("")};for(var r=[],e=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,f=a.length;h<f;++h)r[h]=a[h],e[a.charCodeAt(h)]=h;function u(M){var b=M.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=M.indexOf("=");return-1===E&&(E=b),[E,E===b?0:4-E%4]}function d(M){return r[M>>18&63]+r[M>>12&63]+r[M>>6&63]+r[63&M]}function o(M,b,E){for(var S=[],T=b;T<E;T+=3)S.push(d((M[T]<<16&16711680)+(M[T+1]<<8&65280)+(255&M[T+2])));return S.join("")}e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63},3187:function(l,m){m.read=function(r,e,s,a,h){var f,u,g=8*h-a-1,c=(1<<g)-1,w=c>>1,d=-7,o=s?h-1:0,v=s?-1:1,M=r[e+o];for(o+=v,f=M&(1<<-d)-1,M>>=-d,d+=g;d>0;f=256*f+r[e+o],o+=v,d-=8);for(u=f&(1<<-d)-1,f>>=-d,d+=a;d>0;u=256*u+r[e+o],o+=v,d-=8);if(0===f)f=1-w;else{if(f===c)return u?NaN:1/0*(M?-1:1);u+=Math.pow(2,a),f-=w}return(M?-1:1)*u*Math.pow(2,f-a)},m.write=function(r,e,s,a,h,f){var u,g,c,w=8*f-h-1,d=(1<<w)-1,o=d>>1,v=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,M=a?0:f-1,b=a?1:-1,E=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(g=isNaN(e)?1:0,u=d):(u=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-u))<1&&(u--,c*=2),(e+=u+o>=1?v/c:v*Math.pow(2,1-o))*c>=2&&(u++,c/=2),u+o>=d?(g=0,u=d):u+o>=1?(g=(e*c-1)*Math.pow(2,h),u+=o):(g=e*Math.pow(2,o-1)*Math.pow(2,h),u=0));h>=8;r[s+M]=255&g,M+=b,g/=256,h-=8);for(u=u<<h|g,w+=h;w>0;r[s+M]=255&u,M+=b,u/=256,w-=8);r[s+M-b]|=128*E}},1152:function(l,m,r){"use strict";l.exports=function u(g){var c=(g=g||{}).eye||[0,0,1],w=g.center||[0,0,0],d=g.up||[0,1,0],o=g.distanceLimits||[0,1/0],v=g.mode||"turntable",M=e(),b=s(),E=a();return M.setDistanceLimits(o[0],o[1]),M.lookAt(0,c,w,d),b.setDistanceLimits(o[0],o[1]),b.lookAt(0,c,w,d),E.setDistanceLimits(o[0],o[1]),E.lookAt(0,c,w,d),new h({turntable:M,orbit:b,matrix:E},v)};var e=r(3440),s=r(7774),a=r(9298);function h(g,c){this._controllerNames=Object.keys(g),this._controllerList=this._controllerNames.map(function(w){return g[w]}),this._mode=c,this._active=g[c],this._active||(this._mode="turntable",this._active=g.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var f=h.prototype;f.flush=function(g){for(var c=this._controllerList,w=0;w<c.length;++w)c[w].flush(g)},f.idle=function(g){for(var c=this._controllerList,w=0;w<c.length;++w)c[w].idle(g)},f.lookAt=function(g,c,w,d){for(var o=this._controllerList,v=0;v<o.length;++v)o[v].lookAt(g,c,w,d)},f.rotate=function(g,c,w,d){for(var o=this._controllerList,v=0;v<o.length;++v)o[v].rotate(g,c,w,d)},f.pan=function(g,c,w,d){for(var o=this._controllerList,v=0;v<o.length;++v)o[v].pan(g,c,w,d)},f.translate=function(g,c,w,d){for(var o=this._controllerList,v=0;v<o.length;++v)o[v].translate(g,c,w,d)},f.setMatrix=function(g,c){for(var w=this._controllerList,d=0;d<w.length;++d)w[d].setMatrix(g,c)},f.setDistanceLimits=function(g,c){for(var w=this._controllerList,d=0;d<w.length;++d)w[d].setDistanceLimits(g,c)},f.setDistance=function(g,c){for(var w=this._controllerList,d=0;d<w.length;++d)w[d].setDistance(g,c)},f.recalcMatrix=function(g){this._active.recalcMatrix(g)},f.getDistance=function(g){return this._active.getDistance(g)},f.getDistanceLimits=function(g){return this._active.getDistanceLimits(g)},f.lastT=function(){return this._active.lastT()},f.setMode=function(g){if(g!==this._mode){var c=this._controllerNames.indexOf(g);if(!(c<0)){var w=this._active,d=this._controllerList[c],o=Math.max(w.lastT(),d.lastT());w.recalcMatrix(o),d.setMatrix(o,w.computedMatrix),this._active=d,this._mode=g,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},f.getMode=function(){return this._mode}},8126:function(l,m,r){"use strict";var e="undefined"==typeof WeakMap?r(5346):WeakMap,s=r(5827),a=r(2944),h=new e;l.exports=function f(u){var g=h.get(u),c=g&&(g._triangleBuffer.handle||g._triangleBuffer.buffer);if(!c||!u.isBuffer(c)){var w=s(u,new Float32Array([-1,-1,-1,4,4,-1]));(g=a(u,[{buffer:w,type:u.FLOAT,size:2}]))._triangleBuffer=w,h.set(u,g)}g.bind(),u.drawArrays(u.TRIANGLES,0,3),g.unbind()}},8008:function(l,m,r){var e=r(4930);l.exports=function s(a,h,f){h="number"==typeof h?h:1,f=f||": ";var u=a.split(/\r?\n/),g=String(u.length+h-1).length;return u.map(function(c,w){var d=w+h,o=String(d).length;return e(d,g-o)+f+c}).join("\n")}},2153:function(l,m,r){"use strict";l.exports=function a(h){var f=h.length;if(0===f)return[];if(1===f)return[0];for(var u=h[0].length,g=[h[0]],c=[0],w=1;w<f;++w)if(g.push(h[w]),s(g,u)){if(c.push(w),c.length===u+1)return c}else g.pop();return c};var e=r(417);function s(h,f){for(var u=new Array(f+1),g=0;g<h.length;++g)u[g]=h[g];for(g=0;g<=h.length;++g){for(var c=h.length;c<=f;++c){for(var w=new Array(f),d=0;d<f;++d)w[d]=Math.pow(c+1-g,d);u[c]=w}if(e.apply(void 0,u))return!0}return!1}},4653:function(l,m,r){"use strict";l.exports=function a(h,f){return e(f).filter(function(u){for(var g=new Array(u.length),c=0;c<u.length;++c)g[c]=f[u[c]];return s(g)*h<1})};var e=r(4419),s=r(1778)},2350:function(l,m,r){l.exports=function a(h,f){return s(e(h,f))};var e=r(4653),s=r(8691)},7896:function(l){l.exports=function(r){return atob(r)}},957:function(l,m,r){"use strict";l.exports=function a(h,f){for(var u=f.length,g=new Array(u+1),c=0;c<u;++c){for(var w=new Array(u+1),d=0;d<=u;++d)w[d]=h[d][c];g[c]=w}for(g[u]=new Array(u+1),c=0;c<=u;++c)g[u][c]=1;var o=new Array(u+1);for(c=0;c<u;++c)o[c]=f[c];o[u]=1;var v=e(g,o),M=s(v[u+1]);0===M&&(M=1);var b=new Array(u+1);for(c=0;c<=u;++c)b[c]=s(v[c])/M;return b};var e=r(6606);function s(h){for(var f=0,u=0;u<h.length;++u)f+=h[u];return f}},1539:function(l,m,r){"use strict";var e=r(8524);l.exports=function s(a,h){return e(a[0].mul(h[1]).add(h[0].mul(a[1])),a[1].mul(h[1]))}},8846:function(l){"use strict";l.exports=function m(r,e){return r[0].mul(e[1]).cmp(e[0].mul(r[1]))}},9189:function(l,m,r){"use strict";var e=r(8524);l.exports=function s(a,h){return e(a[0].mul(h[1]),a[1].mul(h[0]))}},5125:function(l,m,r){"use strict";var e=r(234),s=r(3218),a=r(5514),h=r(2813),f=r(8524),u=r(9189);l.exports=function g(c,w){if(e(c))return w?u(c,g(w)):[c[0].clone(),c[1].clone()];var o,v,d=0;if(s(c))o=c.clone();else if("string"==typeof c)o=h(c);else{if(0===c)return[a(0),a(1)];if(c===Math.floor(c))o=a(c);else{for(;c!==Math.floor(c);)c*=Math.pow(2,256),d-=256;o=a(c)}}if(e(w))o.mul(w[1]),v=w[0].clone();else if(s(w))v=w.clone();else if("string"==typeof w)v=h(w);else if(w)if(w===Math.floor(w))v=a(w);else{for(;w!==Math.floor(w);)w*=Math.pow(2,256),d+=256;v=a(w)}else v=a(1);return d>0?o=o.ushln(d):d<0&&(v=v.ushln(-d)),f(o,v)}},234:function(l,m,r){"use strict";var e=r(3218);l.exports=function s(a){return Array.isArray(a)&&2===a.length&&e(a[0])&&e(a[1])}},4275:function(l,m,r){"use strict";var e=r(1928);l.exports=function s(a){return a.cmp(new e(0))}},9958:function(l,m,r){"use strict";var e=r(4275);l.exports=function s(a){var h=a.length,f=a.words,u=0;if(1===h)u=f[0];else if(2===h)u=f[0]+67108864*f[1];else for(var g=0;g<h;g++)u+=f[g]*Math.pow(67108864,g);return e(a)*u}},1112:function(l,m,r){"use strict";var e=r(8362),s=r(2288).countTrailingZeros;l.exports=function a(h){var f=s(e.lo(h));if(f<32)return f;var u=s(e.hi(h));return u>20?52:u+32}},3218:function(l,m,r){"use strict";r(1928),l.exports=function s(a){return a&&"object"==typeof a&&Boolean(a.words)}},5514:function(l,m,r){"use strict";var e=r(1928),s=r(8362);l.exports=function a(h){var f=s.exponent(h);return f<52?new e(h):new e(h*Math.pow(2,52-f)).ushln(f-52)}},8524:function(l,m,r){"use strict";var e=r(5514),s=r(4275);l.exports=function a(h,f){var u=s(h),g=s(f);if(0===u)return[e(0),e(1)];if(0===g)return[e(0),e(0)];g<0&&(h=h.neg(),f=f.neg());var c=h.gcd(f);return c.cmpn(1)?[h.div(c),f.div(c)]:[h,f]}},2813:function(l,m,r){"use strict";var e=r(1928);l.exports=function s(a){return new e(a)}},3962:function(l,m,r){"use strict";var e=r(8524);l.exports=function s(a,h){return e(a[0].mul(h[0]),a[1].mul(h[1]))}},4951:function(l,m,r){"use strict";var e=r(4275);l.exports=function s(a){return e(a[0])*e(a[1])}},4354:function(l,m,r){"use strict";var e=r(8524);l.exports=function s(a,h){return e(a[0].mul(h[1]).sub(a[1].mul(h[0])),a[1].mul(h[1]))}},7999:function(l,m,r){"use strict";var e=r(9958),s=r(1112);l.exports=function a(h){var f=h[0],u=h[1];if(0===f.cmpn(0))return 0;var g=f.abs().divmod(u.abs()),w=e(g.div),d=g.mod,o=f.negative!==u.negative?-1:1;if(0===d.cmpn(0))return o*w;if(w){var v=s(w)+4;return o*(w+(M=e(d.ushln(v).divRound(u)))*Math.pow(2,-v))}var b=u.bitLength()-d.bitLength()+53,M=e(d.ushln(b).divRound(u));return b<1023?o*M*Math.pow(2,-b):o*(M*=Math.pow(2,-1023))*Math.pow(2,1023-b)}},5070:function(l){"use strict";function m(f,u,g,c,w){for(var d=w+1;c<=w;){var o=c+w>>>1,v=f[o];(void 0!==g?g(v,u):v-u)>=0?(d=o,w=o-1):c=o+1}return d}function r(f,u,g,c,w){for(var d=w+1;c<=w;){var o=c+w>>>1,v=f[o];(void 0!==g?g(v,u):v-u)>0?(d=o,w=o-1):c=o+1}return d}function e(f,u,g,c,w){for(var d=c-1;c<=w;){var o=c+w>>>1,v=f[o];(void 0!==g?g(v,u):v-u)<0?(d=o,c=o+1):w=o-1}return d}function s(f,u,g,c,w){for(var d=c-1;c<=w;){var o=c+w>>>1,v=f[o];(void 0!==g?g(v,u):v-u)<=0?(d=o,c=o+1):w=o-1}return d}function a(f,u,g,c,w){for(;c<=w;){var d=c+w>>>1,o=f[d],v=void 0!==g?g(o,u):o-u;if(0===v)return d;v<=0?c=d+1:w=d-1}return-1}function h(f,u,g,c,w,d){return"function"==typeof g?d(f,u,g,void 0===c?0:0|c,void 0===w?f.length-1:0|w):d(f,u,void 0,void 0===g?0:0|g,void 0===c?f.length-1:0|c)}l.exports={ge:function(f,u,g,c,w){return h(f,u,g,c,w,m)},gt:function(f,u,g,c,w){return h(f,u,g,c,w,r)},lt:function(f,u,g,c,w){return h(f,u,g,c,w,e)},le:function(f,u,g,c,w){return h(f,u,g,c,w,s)},eq:function(f,u,g,c,w){return h(f,u,g,c,w,a)}}},2288:function(l,m){"use strict";function e(a){var h=32;return(a&=-a)&&h--,65535&a&&(h-=16),16711935&a&&(h-=8),252645135&a&&(h-=4),858993459&a&&(h-=2),1431655765&a&&(h-=1),h}m.INT_BITS=32,m.INT_MAX=2147483647,m.INT_MIN=-1<<31,m.sign=function(a){return(a>0)-(a<0)},m.abs=function(a){var h=a>>31;return(a^h)-h},m.min=function(a,h){return h^(a^h)&-(a<h)},m.max=function(a,h){return a^(a^h)&-(a<h)},m.isPow2=function(a){return!(a&a-1||!a)},m.log2=function(a){var h,f;return h=(a>65535)<<4,h|=f=((a>>>=h)>255)<<3,h|=f=((a>>>=f)>15)<<2,(h|=f=((a>>>=f)>3)<<1)|(a>>>=f)>>1},m.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},m.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},m.countTrailingZeros=e,m.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,1+((a|=a>>>8)|a>>>16)},m.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},m.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var s=new Array(256);(function(a){for(var h=0;h<256;++h){var f=h,u=h,g=7;for(f>>>=1;f;f>>>=1)u<<=1,u|=1&f,--g;a[h]=u<<g&255}})(s),m.reverse=function(a){return s[255&a]<<24|s[a>>>8&255]<<16|s[a>>>16&255]<<8|s[a>>>24&255]},m.interleave2=function(a,h){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(h=1431655765&((h=858993459&((h=252645135&((h=16711935&((h&=65535)|h<<8))|h<<4))|h<<2))|h<<1))<<1},m.deinterleave2=function(a,h){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>h&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},m.interleave3=function(a,h,f){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(h=1227133513&((h=3272356035&((h=251719695&((h=4278190335&((h&=1023)|h<<16))|h<<8))|h<<4))|h<<2))<<1)|(f=1227133513&((f=3272356035&((f=251719695&((f=4278190335&((f&=1023)|f<<16))|f<<8))|f<<4))|f<<2))<<2},m.deinterleave3=function(a,h){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>h&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},m.nextCombination=function(a){var h=a|a-1;return h+1|(~h&-~h)-1>>>e(a)+1}},1928:function(l,m,r){!function(e,s){"use strict";function a(B,O){if(!B)throw new Error(O||"Assertion failed")}function h(B,O){B.super_=O;var U=function(){};U.prototype=O.prototype,B.prototype=new U,B.prototype.constructor=B}function f(B,O,U){if(f.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,null!==B&&(("le"===O||"be"===O)&&(U=O,O=10),this._init(B||0,O||10,U||"be"))}var u;"object"==typeof e?e.exports=f:s.BN=f,f.BN=f,f.wordSize=26;try{u="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6601).Buffer}catch(B){}function g(B,O){var U=B.charCodeAt(O);return U>=65&&U<=70?U-55:U>=97&&U<=102?U-87:U-48&15}function c(B,O,U){var G=g(B,U);return U-1>=O&&(G|=g(B,U-1)<<4),G}function w(B,O,U,G){for(var J=0,et=Math.min(B.length,U),at=O;at<et;at++){var lt=B.charCodeAt(at)-48;J*=G,J+=lt>=49?lt-49+10:lt>=17?lt-17+10:lt}return J}f.isBN=function(O){return O instanceof f||null!==O&&"object"==typeof O&&O.constructor.wordSize===f.wordSize&&Array.isArray(O.words)},f.max=function(O,U){return O.cmp(U)>0?O:U},f.min=function(O,U){return O.cmp(U)<0?O:U},f.prototype._init=function(O,U,G){if("number"==typeof O)return this._initNumber(O,U,G);if("object"==typeof O)return this._initArray(O,U,G);"hex"===U&&(U=16),a(U===(0|U)&&U>=2&&U<=36);var J=0;"-"===(O=O.toString().replace(/\s+/g,""))[0]&&(J++,this.negative=1),J<O.length&&(16===U?this._parseHex(O,J,G):(this._parseBase(O,U,J),"le"===G&&this._initArray(this.toArray(),U,G)))},f.prototype._initNumber=function(O,U,G){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[67108863&O],this.length=1):O<4503599627370496?(this.words=[67108863&O,O/67108864&67108863],this.length=2):(a(O<9007199254740992),this.words=[67108863&O,O/67108864&67108863,1],this.length=3),"le"===G&&this._initArray(this.toArray(),U,G)},f.prototype._initArray=function(O,U,G){if(a("number"==typeof O.length),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var et,at,lt=0;if("be"===G)for(J=O.length-1,et=0;J>=0;J-=3)this.words[et]|=(at=O[J]|O[J-1]<<8|O[J-2]<<16)<<lt&67108863,this.words[et+1]=at>>>26-lt&67108863,(lt+=24)>=26&&(lt-=26,et++);else if("le"===G)for(J=0,et=0;J<O.length;J+=3)this.words[et]|=(at=O[J]|O[J+1]<<8|O[J+2]<<16)<<lt&67108863,this.words[et+1]=at>>>26-lt&67108863,(lt+=24)>=26&&(lt-=26,et++);return this.strip()},f.prototype._parseHex=function(O,U,G){this.length=Math.ceil((O.length-U)/6),this.words=new Array(this.length);for(var J=0;J<this.length;J++)this.words[J]=0;var lt,et=0,at=0;if("be"===G)for(J=O.length-1;J>=U;J-=2)lt=c(O,U,J)<<et,this.words[at]|=67108863&lt,et>=18?(et-=18,this.words[at+=1]|=lt>>>26):et+=8;else for(J=(O.length-U)%2==0?U+1:U;J<O.length;J+=2)lt=c(O,U,J)<<et,this.words[at]|=67108863&lt,et>=18?(et-=18,this.words[at+=1]|=lt>>>26):et+=8;this.strip()},f.prototype._parseBase=function(O,U,G){this.words=[0],this.length=1;for(var J=0,et=1;et<=67108863;et*=U)J++;J--,et=et/U|0;for(var at=O.length-G,lt=at%J,K=Math.min(at,at-lt)+G,j=0,rt=G;rt<K;rt+=J)j=w(O,rt,rt+J,U),this.imuln(et),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(0!==lt){var H=1;for(j=w(O,rt,O.length,U),rt=0;rt<lt;rt++)H*=U;this.imuln(H),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this.strip()},f.prototype.copy=function(O){O.words=new Array(this.length);for(var U=0;U<this.length;U++)O.words[U]=this.words[U];O.length=this.length,O.negative=this.negative,O.red=this.red},f.prototype.clone=function(){var O=new f(null);return this.copy(O),O},f.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},f.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function b(B,O,U){U.negative=O.negative^B.negative;var G=B.length+O.length|0;U.length=G,G=G-1|0;var J=0|B.words[0],et=0|O.words[0],at=J*et,K=at/67108864|0;U.words[0]=67108863&at;for(var j=1;j<G;j++){for(var rt=K>>>26,H=67108863&K,Z=Math.min(j,O.length-1),it=Math.max(0,j-B.length+1);it<=Z;it++)rt+=(at=(J=0|B.words[j-it|0])*(et=0|O.words[it])+H)/67108864|0,H=67108863&at;U.words[j]=0|H,K=0|rt}return 0!==K?U.words[j]=0|K:U.length--,U.strip()}f.prototype.toString=function(O,U){var G;if(U=0|U||1,16===(O=O||10)||"hex"===O){G="";for(var J=0,et=0,at=0;at<this.length;at++){var lt=this.words[at],K=(16777215&(lt<<J|et)).toString(16);G=0!=(et=lt>>>24-J&16777215)||at!==this.length-1?d[6-K.length]+K+G:K+G,(J+=2)>=26&&(J-=26,at--)}for(0!==et&&(G=et.toString(16)+G);G.length%U!=0;)G="0"+G;return 0!==this.negative&&(G="-"+G),G}if(O===(0|O)&&O>=2&&O<=36){var j=o[O],rt=v[O];G="";var H=this.clone();for(H.negative=0;!H.isZero();){var Z=H.modn(rt).toString(O);G=(H=H.idivn(rt)).isZero()?Z+G:d[j-Z.length]+Z+G}for(this.isZero()&&(G="0"+G);G.length%U!=0;)G="0"+G;return 0!==this.negative&&(G="-"+G),G}a(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var O=this.words[0];return 2===this.length?O+=67108864*this.words[1]:3===this.length&&1===this.words[2]?O+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-O:O},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(O,U){return a(void 0!==u),this.toArrayLike(u,O,U)},f.prototype.toArray=function(O,U){return this.toArrayLike(Array,O,U)},f.prototype.toArrayLike=function(O,U,G){var J=this.byteLength(),et=G||Math.max(1,J);a(J<=et,"byte array longer than desired length"),a(et>0,"Requested array length <= 0"),this.strip();var K,j,at="le"===U,lt=new O(et),rt=this.clone();if(at){for(j=0;!rt.isZero();j++)K=rt.andln(255),rt.iushrn(8),lt[j]=K;for(;j<et;j++)lt[j]=0}else{for(j=0;j<et-J;j++)lt[j]=0;for(j=0;!rt.isZero();j++)K=rt.andln(255),rt.iushrn(8),lt[et-j-1]=K}return lt},f.prototype._countBits=Math.clz32?function(O){return 32-Math.clz32(O)}:function(O){var U=O,G=0;return U>=4096&&(G+=13,U>>>=13),U>=64&&(G+=7,U>>>=7),U>=8&&(G+=4,U>>>=4),U>=2&&(G+=2,U>>>=2),G+U},f.prototype._zeroBits=function(O){if(0===O)return 26;var U=O,G=0;return 0==(8191&U)&&(G+=13,U>>>=13),0==(127&U)&&(G+=7,U>>>=7),0==(15&U)&&(G+=4,U>>>=4),0==(3&U)&&(G+=2,U>>>=2),0==(1&U)&&G++,G},f.prototype.bitLength=function(){var U=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+U},f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,U=0;U<this.length;U++){var G=this._zeroBits(this.words[U]);if(O+=G,26!==G)break}return O},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(O){return 0!==this.negative?this.abs().inotn(O).iaddn(1):this.clone()},f.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return 0!==this.negative},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var U=0;U<O.length;U++)this.words[U]=this.words[U]|O.words[U];return this.strip()},f.prototype.ior=function(O){return a(0==(this.negative|O.negative)),this.iuor(O)},f.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},f.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},f.prototype.iuand=function(O){var U;U=this.length>O.length?O:this;for(var G=0;G<U.length;G++)this.words[G]=this.words[G]&O.words[G];return this.length=U.length,this.strip()},f.prototype.iand=function(O){return a(0==(this.negative|O.negative)),this.iuand(O)},f.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},f.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},f.prototype.iuxor=function(O){var U,G;this.length>O.length?(U=this,G=O):(U=O,G=this);for(var J=0;J<G.length;J++)this.words[J]=U.words[J]^G.words[J];if(this!==U)for(;J<U.length;J++)this.words[J]=U.words[J];return this.length=U.length,this.strip()},f.prototype.ixor=function(O){return a(0==(this.negative|O.negative)),this.iuxor(O)},f.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},f.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},f.prototype.inotn=function(O){a("number"==typeof O&&O>=0);var U=0|Math.ceil(O/26),G=O%26;this._expand(U),G>0&&U--;for(var J=0;J<U;J++)this.words[J]=67108863&~this.words[J];return G>0&&(this.words[J]=~this.words[J]&67108863>>26-G),this.strip()},f.prototype.notn=function(O){return this.clone().inotn(O)},f.prototype.setn=function(O,U){a("number"==typeof O&&O>=0);var G=O/26|0,J=O%26;return this._expand(G+1),this.words[G]=U?this.words[G]|1<<J:this.words[G]&~(1<<J),this.strip()},f.prototype.iadd=function(O){var U,G,J;if(0!==this.negative&&0===O.negative)return this.negative=0,U=this.isub(O),this.negative^=1,this._normSign();if(0===this.negative&&0!==O.negative)return O.negative=0,U=this.isub(O),O.negative=1,U._normSign();this.length>O.length?(G=this,J=O):(G=O,J=this);for(var et=0,at=0;at<J.length;at++)this.words[at]=67108863&(U=(0|G.words[at])+(0|J.words[at])+et),et=U>>>26;for(;0!==et&&at<G.length;at++)this.words[at]=67108863&(U=(0|G.words[at])+et),et=U>>>26;if(this.length=G.length,0!==et)this.words[this.length]=et,this.length++;else if(G!==this)for(;at<G.length;at++)this.words[at]=G.words[at];return this},f.prototype.add=function(O){var U;return 0!==O.negative&&0===this.negative?(O.negative=0,U=this.sub(O),O.negative^=1,U):0===O.negative&&0!==this.negative?(this.negative=0,U=O.sub(this),this.negative=1,U):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},f.prototype.isub=function(O){if(0!==O.negative){O.negative=0;var U=this.iadd(O);return O.negative=1,U._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var J,et,G=this.cmp(O);if(0===G)return this.negative=0,this.length=1,this.words[0]=0,this;G>0?(J=this,et=O):(J=O,et=this);for(var at=0,lt=0;lt<et.length;lt++)at=(U=(0|J.words[lt])-(0|et.words[lt])+at)>>26,this.words[lt]=67108863&U;for(;0!==at&&lt<J.length;lt++)at=(U=(0|J.words[lt])+at)>>26,this.words[lt]=67108863&U;if(0===at&&lt<J.length&&J!==this)for(;lt<J.length;lt++)this.words[lt]=J.words[lt];return this.length=Math.max(this.length,lt),J!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(O){return this.clone().isub(O)};var E=function(O,U,G){var K,j,rt,J=O.words,et=U.words,at=G.words,lt=0,H=0|J[0],Z=8191&H,it=H>>>13,Q=0|J[1],Y=8191&Q,nt=Q>>>13,_=0|J[2],st=8191&_,dt=_>>>13,xt=0|J[3],yt=8191&xt,St=xt>>>13,Et=0|J[4],Tt=8191&Et,gt=Et>>>13,Mt=0|J[5],Nt=8191&Mt,Gt=Mt>>>13,Pt=0|J[6],Vt=8191&Pt,re=Pt>>>13,le=0|J[7],It=8191&le,Rt=le>>>13,$t=0|J[8],oe=8191&$t,se=$t>>>13,ve=0|J[9],de=8191&ve,jt=ve>>>13,Ct=0|et[0],Wt=8191&Ct,Xt=Ct>>>13,Ht=0|et[1],Bt=8191&Ht,zt=Ht>>>13,kt=0|et[2],wt=8191&kt,ft=kt>>>13,pt=0|et[3],Dt=8191&pt,Qt=pt>>>13,te=0|et[4],ee=8191&te,Ne=te>>>13,We=0|et[5],ye=8191&We,Te=We>>>13,Ge=0|et[6],hr=8191&Ge,ce=Ge>>>13,Ue=0|et[7],Ye=8191&Ue,gr=Ue>>>13,tr=0|et[8],he=8191&tr,ne=tr>>>13,pe=0|et[9],be=8191&pe,Se=pe>>>13;G.negative=O.negative^U.negative,G.length=19;var Me=(lt+(K=Math.imul(Z,Wt))|0)+((8191&(j=(j=Math.imul(Z,Xt))+Math.imul(it,Wt)|0))<<13)|0;lt=((rt=Math.imul(it,Xt))+(j>>>13)|0)+(Me>>>26)|0,Me&=67108863,K=Math.imul(Y,Wt),j=(j=Math.imul(Y,Xt))+Math.imul(nt,Wt)|0,rt=Math.imul(nt,Xt);var Ie=(lt+(K=K+Math.imul(Z,Bt)|0)|0)+((8191&(j=(j=j+Math.imul(Z,zt)|0)+Math.imul(it,Bt)|0))<<13)|0;lt=((rt=rt+Math.imul(it,zt)|0)+(j>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,K=Math.imul(st,Wt),j=(j=Math.imul(st,Xt))+Math.imul(dt,Wt)|0,rt=Math.imul(dt,Xt),K=K+Math.imul(Y,Bt)|0,j=(j=j+Math.imul(Y,zt)|0)+Math.imul(nt,Bt)|0,rt=rt+Math.imul(nt,zt)|0;var Fe=(lt+(K=K+Math.imul(Z,wt)|0)|0)+((8191&(j=(j=j+Math.imul(Z,ft)|0)+Math.imul(it,wt)|0))<<13)|0;lt=((rt=rt+Math.imul(it,ft)|0)+(j>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,K=Math.imul(yt,Wt),j=(j=Math.imul(yt,Xt))+Math.imul(St,Wt)|0,rt=Math.imul(St,Xt),K=K+Math.imul(st,Bt)|0,j=(j=j+Math.imul(st,zt)|0)+Math.imul(dt,Bt)|0,rt=rt+Math.imul(dt,zt)|0,K=K+Math.imul(Y,wt)|0,j=(j=j+Math.imul(Y,ft)|0)+Math.imul(nt,wt)|0,rt=rt+Math.imul(nt,ft)|0;var Ze=(lt+(K=K+Math.imul(Z,Dt)|0)|0)+((8191&(j=(j=j+Math.imul(Z,Qt)|0)+Math.imul(it,Dt)|0))<<13)|0;lt=((rt=rt+Math.imul(it,Qt)|0)+(j>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,K=Math.imul(Tt,Wt),j=(j=Math.imul(Tt,Xt))+Math.imul(gt,Wt)|0,rt=Math.imul(gt,Xt),K=K+Math.imul(yt,Bt)|0,j=(j=j+Math.imul(yt,zt)|0)+Math.imul(St,Bt)|0,rt=rt+Math.imul(St,zt)|0,K=K+Math.imul(st,wt)|0,j=(j=j+Math.imul(st,ft)|0)+Math.imul(dt,wt)|0,rt=rt+Math.imul(dt,ft)|0,K=K+Math.imul(Y,Dt)|0,j=(j=j+Math.imul(Y,Qt)|0)+Math.imul(nt,Dt)|0,rt=rt+Math.imul(nt,Qt)|0;var nr=(lt+(K=K+Math.imul(Z,ee)|0)|0)+((8191&(j=(j=j+Math.imul(Z,Ne)|0)+Math.imul(it,ee)|0))<<13)|0;lt=((rt=rt+Math.imul(it,Ne)|0)+(j>>>13)|0)+(nr>>>26)|0,nr&=67108863,K=Math.imul(Nt,Wt),j=(j=Math.imul(Nt,Xt))+Math.imul(Gt,Wt)|0,rt=Math.imul(Gt,Xt),K=K+Math.imul(Tt,Bt)|0,j=(j=j+Math.imul(Tt,zt)|0)+Math.imul(gt,Bt)|0,rt=rt+Math.imul(gt,zt)|0,K=K+Math.imul(yt,wt)|0,j=(j=j+Math.imul(yt,ft)|0)+Math.imul(St,wt)|0,rt=rt+Math.imul(St,ft)|0,K=K+Math.imul(st,Dt)|0,j=(j=j+Math.imul(st,Qt)|0)+Math.imul(dt,Dt)|0,rt=rt+Math.imul(dt,Qt)|0,K=K+Math.imul(Y,ee)|0,j=(j=j+Math.imul(Y,Ne)|0)+Math.imul(nt,ee)|0,rt=rt+Math.imul(nt,Ne)|0;var ir=(lt+(K=K+Math.imul(Z,ye)|0)|0)+((8191&(j=(j=j+Math.imul(Z,Te)|0)+Math.imul(it,ye)|0))<<13)|0;lt=((rt=rt+Math.imul(it,Te)|0)+(j>>>13)|0)+(ir>>>26)|0,ir&=67108863,K=Math.imul(Vt,Wt),j=(j=Math.imul(Vt,Xt))+Math.imul(re,Wt)|0,rt=Math.imul(re,Xt),K=K+Math.imul(Nt,Bt)|0,j=(j=j+Math.imul(Nt,zt)|0)+Math.imul(Gt,Bt)|0,rt=rt+Math.imul(Gt,zt)|0,K=K+Math.imul(Tt,wt)|0,j=(j=j+Math.imul(Tt,ft)|0)+Math.imul(gt,wt)|0,rt=rt+Math.imul(gt,ft)|0,K=K+Math.imul(yt,Dt)|0,j=(j=j+Math.imul(yt,Qt)|0)+Math.imul(St,Dt)|0,rt=rt+Math.imul(St,Qt)|0,K=K+Math.imul(st,ee)|0,j=(j=j+Math.imul(st,Ne)|0)+Math.imul(dt,ee)|0,rt=rt+Math.imul(dt,Ne)|0,K=K+Math.imul(Y,ye)|0,j=(j=j+Math.imul(Y,Te)|0)+Math.imul(nt,ye)|0,rt=rt+Math.imul(nt,Te)|0;var lr=(lt+(K=K+Math.imul(Z,hr)|0)|0)+((8191&(j=(j=j+Math.imul(Z,ce)|0)+Math.imul(it,hr)|0))<<13)|0;lt=((rt=rt+Math.imul(it,ce)|0)+(j>>>13)|0)+(lr>>>26)|0,lr&=67108863,K=Math.imul(It,Wt),j=(j=Math.imul(It,Xt))+Math.imul(Rt,Wt)|0,rt=Math.imul(Rt,Xt),K=K+Math.imul(Vt,Bt)|0,j=(j=j+Math.imul(Vt,zt)|0)+Math.imul(re,Bt)|0,rt=rt+Math.imul(re,zt)|0,K=K+Math.imul(Nt,wt)|0,j=(j=j+Math.imul(Nt,ft)|0)+Math.imul(Gt,wt)|0,rt=rt+Math.imul(Gt,ft)|0,K=K+Math.imul(Tt,Dt)|0,j=(j=j+Math.imul(Tt,Qt)|0)+Math.imul(gt,Dt)|0,rt=rt+Math.imul(gt,Qt)|0,K=K+Math.imul(yt,ee)|0,j=(j=j+Math.imul(yt,Ne)|0)+Math.imul(St,ee)|0,rt=rt+Math.imul(St,Ne)|0,K=K+Math.imul(st,ye)|0,j=(j=j+Math.imul(st,Te)|0)+Math.imul(dt,ye)|0,rt=rt+Math.imul(dt,Te)|0,K=K+Math.imul(Y,hr)|0,j=(j=j+Math.imul(Y,ce)|0)+Math.imul(nt,hr)|0,rt=rt+Math.imul(nt,ce)|0;var Ot=(lt+(K=K+Math.imul(Z,Ye)|0)|0)+((8191&(j=(j=j+Math.imul(Z,gr)|0)+Math.imul(it,Ye)|0))<<13)|0;lt=((rt=rt+Math.imul(it,gr)|0)+(j>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,K=Math.imul(oe,Wt),j=(j=Math.imul(oe,Xt))+Math.imul(se,Wt)|0,rt=Math.imul(se,Xt),K=K+Math.imul(It,Bt)|0,j=(j=j+Math.imul(It,zt)|0)+Math.imul(Rt,Bt)|0,rt=rt+Math.imul(Rt,zt)|0,K=K+Math.imul(Vt,wt)|0,j=(j=j+Math.imul(Vt,ft)|0)+Math.imul(re,wt)|0,rt=rt+Math.imul(re,ft)|0,K=K+Math.imul(Nt,Dt)|0,j=(j=j+Math.imul(Nt,Qt)|0)+Math.imul(Gt,Dt)|0,rt=rt+Math.imul(Gt,Qt)|0,K=K+Math.imul(Tt,ee)|0,j=(j=j+Math.imul(Tt,Ne)|0)+Math.imul(gt,ee)|0,rt=rt+Math.imul(gt,Ne)|0,K=K+Math.imul(yt,ye)|0,j=(j=j+Math.imul(yt,Te)|0)+Math.imul(St,ye)|0,rt=rt+Math.imul(St,Te)|0,K=K+Math.imul(st,hr)|0,j=(j=j+Math.imul(st,ce)|0)+Math.imul(dt,hr)|0,rt=rt+Math.imul(dt,ce)|0,K=K+Math.imul(Y,Ye)|0,j=(j=j+Math.imul(Y,gr)|0)+Math.imul(nt,Ye)|0,rt=rt+Math.imul(nt,gr)|0;var Ut=(lt+(K=K+Math.imul(Z,he)|0)|0)+((8191&(j=(j=j+Math.imul(Z,ne)|0)+Math.imul(it,he)|0))<<13)|0;lt=((rt=rt+Math.imul(it,ne)|0)+(j>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,K=Math.imul(de,Wt),j=(j=Math.imul(de,Xt))+Math.imul(jt,Wt)|0,rt=Math.imul(jt,Xt),K=K+Math.imul(oe,Bt)|0,j=(j=j+Math.imul(oe,zt)|0)+Math.imul(se,Bt)|0,rt=rt+Math.imul(se,zt)|0,K=K+Math.imul(It,wt)|0,j=(j=j+Math.imul(It,ft)|0)+Math.imul(Rt,wt)|0,rt=rt+Math.imul(Rt,ft)|0,K=K+Math.imul(Vt,Dt)|0,j=(j=j+Math.imul(Vt,Qt)|0)+Math.imul(re,Dt)|0,rt=rt+Math.imul(re,Qt)|0,K=K+Math.imul(Nt,ee)|0,j=(j=j+Math.imul(Nt,Ne)|0)+Math.imul(Gt,ee)|0,rt=rt+Math.imul(Gt,Ne)|0,K=K+Math.imul(Tt,ye)|0,j=(j=j+Math.imul(Tt,Te)|0)+Math.imul(gt,ye)|0,rt=rt+Math.imul(gt,Te)|0,K=K+Math.imul(yt,hr)|0,j=(j=j+Math.imul(yt,ce)|0)+Math.imul(St,hr)|0,rt=rt+Math.imul(St,ce)|0,K=K+Math.imul(st,Ye)|0,j=(j=j+Math.imul(st,gr)|0)+Math.imul(dt,Ye)|0,rt=rt+Math.imul(dt,gr)|0,K=K+Math.imul(Y,he)|0,j=(j=j+Math.imul(Y,ne)|0)+Math.imul(nt,he)|0,rt=rt+Math.imul(nt,ne)|0;var Ce=(lt+(K=K+Math.imul(Z,be)|0)|0)+((8191&(j=(j=j+Math.imul(Z,Se)|0)+Math.imul(it,be)|0))<<13)|0;lt=((rt=rt+Math.imul(it,Se)|0)+(j>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,K=Math.imul(de,Bt),j=(j=Math.imul(de,zt))+Math.imul(jt,Bt)|0,rt=Math.imul(jt,zt),K=K+Math.imul(oe,wt)|0,j=(j=j+Math.imul(oe,ft)|0)+Math.imul(se,wt)|0,rt=rt+Math.imul(se,ft)|0,K=K+Math.imul(It,Dt)|0,j=(j=j+Math.imul(It,Qt)|0)+Math.imul(Rt,Dt)|0,rt=rt+Math.imul(Rt,Qt)|0,K=K+Math.imul(Vt,ee)|0,j=(j=j+Math.imul(Vt,Ne)|0)+Math.imul(re,ee)|0,rt=rt+Math.imul(re,Ne)|0,K=K+Math.imul(Nt,ye)|0,j=(j=j+Math.imul(Nt,Te)|0)+Math.imul(Gt,ye)|0,rt=rt+Math.imul(Gt,Te)|0,K=K+Math.imul(Tt,hr)|0,j=(j=j+Math.imul(Tt,ce)|0)+Math.imul(gt,hr)|0,rt=rt+Math.imul(gt,ce)|0,K=K+Math.imul(yt,Ye)|0,j=(j=j+Math.imul(yt,gr)|0)+Math.imul(St,Ye)|0,rt=rt+Math.imul(St,gr)|0,K=K+Math.imul(st,he)|0,j=(j=j+Math.imul(st,ne)|0)+Math.imul(dt,he)|0,rt=rt+Math.imul(dt,ne)|0;var Le=(lt+(K=K+Math.imul(Y,be)|0)|0)+((8191&(j=(j=j+Math.imul(Y,Se)|0)+Math.imul(nt,be)|0))<<13)|0;lt=((rt=rt+Math.imul(nt,Se)|0)+(j>>>13)|0)+(Le>>>26)|0,Le&=67108863,K=Math.imul(de,wt),j=(j=Math.imul(de,ft))+Math.imul(jt,wt)|0,rt=Math.imul(jt,ft),K=K+Math.imul(oe,Dt)|0,j=(j=j+Math.imul(oe,Qt)|0)+Math.imul(se,Dt)|0,rt=rt+Math.imul(se,Qt)|0,K=K+Math.imul(It,ee)|0,j=(j=j+Math.imul(It,Ne)|0)+Math.imul(Rt,ee)|0,rt=rt+Math.imul(Rt,Ne)|0,K=K+Math.imul(Vt,ye)|0,j=(j=j+Math.imul(Vt,Te)|0)+Math.imul(re,ye)|0,rt=rt+Math.imul(re,Te)|0,K=K+Math.imul(Nt,hr)|0,j=(j=j+Math.imul(Nt,ce)|0)+Math.imul(Gt,hr)|0,rt=rt+Math.imul(Gt,ce)|0,K=K+Math.imul(Tt,Ye)|0,j=(j=j+Math.imul(Tt,gr)|0)+Math.imul(gt,Ye)|0,rt=rt+Math.imul(gt,gr)|0,K=K+Math.imul(yt,he)|0,j=(j=j+Math.imul(yt,ne)|0)+Math.imul(St,he)|0,rt=rt+Math.imul(St,ne)|0;var Xe=(lt+(K=K+Math.imul(st,be)|0)|0)+((8191&(j=(j=j+Math.imul(st,Se)|0)+Math.imul(dt,be)|0))<<13)|0;lt=((rt=rt+Math.imul(dt,Se)|0)+(j>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,K=Math.imul(de,Dt),j=(j=Math.imul(de,Qt))+Math.imul(jt,Dt)|0,rt=Math.imul(jt,Qt),K=K+Math.imul(oe,ee)|0,j=(j=j+Math.imul(oe,Ne)|0)+Math.imul(se,ee)|0,rt=rt+Math.imul(se,Ne)|0,K=K+Math.imul(It,ye)|0,j=(j=j+Math.imul(It,Te)|0)+Math.imul(Rt,ye)|0,rt=rt+Math.imul(Rt,Te)|0,K=K+Math.imul(Vt,hr)|0,j=(j=j+Math.imul(Vt,ce)|0)+Math.imul(re,hr)|0,rt=rt+Math.imul(re,ce)|0,K=K+Math.imul(Nt,Ye)|0,j=(j=j+Math.imul(Nt,gr)|0)+Math.imul(Gt,Ye)|0,rt=rt+Math.imul(Gt,gr)|0,K=K+Math.imul(Tt,he)|0,j=(j=j+Math.imul(Tt,ne)|0)+Math.imul(gt,he)|0,rt=rt+Math.imul(gt,ne)|0;var _e=(lt+(K=K+Math.imul(yt,be)|0)|0)+((8191&(j=(j=j+Math.imul(yt,Se)|0)+Math.imul(St,be)|0))<<13)|0;lt=((rt=rt+Math.imul(St,Se)|0)+(j>>>13)|0)+(_e>>>26)|0,_e&=67108863,K=Math.imul(de,ee),j=(j=Math.imul(de,Ne))+Math.imul(jt,ee)|0,rt=Math.imul(jt,Ne),K=K+Math.imul(oe,ye)|0,j=(j=j+Math.imul(oe,Te)|0)+Math.imul(se,ye)|0,rt=rt+Math.imul(se,Te)|0,K=K+Math.imul(It,hr)|0,j=(j=j+Math.imul(It,ce)|0)+Math.imul(Rt,hr)|0,rt=rt+Math.imul(Rt,ce)|0,K=K+Math.imul(Vt,Ye)|0,j=(j=j+Math.imul(Vt,gr)|0)+Math.imul(re,Ye)|0,rt=rt+Math.imul(re,gr)|0,K=K+Math.imul(Nt,he)|0,j=(j=j+Math.imul(Nt,ne)|0)+Math.imul(Gt,he)|0,rt=rt+Math.imul(Gt,ne)|0;var fr=(lt+(K=K+Math.imul(Tt,be)|0)|0)+((8191&(j=(j=j+Math.imul(Tt,Se)|0)+Math.imul(gt,be)|0))<<13)|0;lt=((rt=rt+Math.imul(gt,Se)|0)+(j>>>13)|0)+(fr>>>26)|0,fr&=67108863,K=Math.imul(de,ye),j=(j=Math.imul(de,Te))+Math.imul(jt,ye)|0,rt=Math.imul(jt,Te),K=K+Math.imul(oe,hr)|0,j=(j=j+Math.imul(oe,ce)|0)+Math.imul(se,hr)|0,rt=rt+Math.imul(se,ce)|0,K=K+Math.imul(It,Ye)|0,j=(j=j+Math.imul(It,gr)|0)+Math.imul(Rt,Ye)|0,rt=rt+Math.imul(Rt,gr)|0,K=K+Math.imul(Vt,he)|0,j=(j=j+Math.imul(Vt,ne)|0)+Math.imul(re,he)|0,rt=rt+Math.imul(re,ne)|0;var $e=(lt+(K=K+Math.imul(Nt,be)|0)|0)+((8191&(j=(j=j+Math.imul(Nt,Se)|0)+Math.imul(Gt,be)|0))<<13)|0;lt=((rt=rt+Math.imul(Gt,Se)|0)+(j>>>13)|0)+($e>>>26)|0,$e&=67108863,K=Math.imul(de,hr),j=(j=Math.imul(de,ce))+Math.imul(jt,hr)|0,rt=Math.imul(jt,ce),K=K+Math.imul(oe,Ye)|0,j=(j=j+Math.imul(oe,gr)|0)+Math.imul(se,Ye)|0,rt=rt+Math.imul(se,gr)|0,K=K+Math.imul(It,he)|0,j=(j=j+Math.imul(It,ne)|0)+Math.imul(Rt,he)|0,rt=rt+Math.imul(Rt,ne)|0;var Re=(lt+(K=K+Math.imul(Vt,be)|0)|0)+((8191&(j=(j=j+Math.imul(Vt,Se)|0)+Math.imul(re,be)|0))<<13)|0;lt=((rt=rt+Math.imul(re,Se)|0)+(j>>>13)|0)+(Re>>>26)|0,Re&=67108863,K=Math.imul(de,Ye),j=(j=Math.imul(de,gr))+Math.imul(jt,Ye)|0,rt=Math.imul(jt,gr),K=K+Math.imul(oe,he)|0,j=(j=j+Math.imul(oe,ne)|0)+Math.imul(se,he)|0,rt=rt+Math.imul(se,ne)|0;var or=(lt+(K=K+Math.imul(It,be)|0)|0)+((8191&(j=(j=j+Math.imul(It,Se)|0)+Math.imul(Rt,be)|0))<<13)|0;lt=((rt=rt+Math.imul(Rt,Se)|0)+(j>>>13)|0)+(or>>>26)|0,or&=67108863,K=Math.imul(de,he),j=(j=Math.imul(de,ne))+Math.imul(jt,he)|0,rt=Math.imul(jt,ne);var dr=(lt+(K=K+Math.imul(oe,be)|0)|0)+((8191&(j=(j=j+Math.imul(oe,Se)|0)+Math.imul(se,be)|0))<<13)|0;lt=((rt=rt+Math.imul(se,Se)|0)+(j>>>13)|0)+(dr>>>26)|0,dr&=67108863;var pr=(lt+(K=Math.imul(de,be))|0)+((8191&(j=(j=Math.imul(de,Se))+Math.imul(jt,be)|0))<<13)|0;return lt=((rt=Math.imul(jt,Se))+(j>>>13)|0)+(pr>>>26)|0,pr&=67108863,at[0]=Me,at[1]=Ie,at[2]=Fe,at[3]=Ze,at[4]=nr,at[5]=ir,at[6]=lr,at[7]=Ot,at[8]=Ut,at[9]=Ce,at[10]=Le,at[11]=Xe,at[12]=_e,at[13]=fr,at[14]=$e,at[15]=Re,at[16]=or,at[17]=dr,at[18]=pr,0!==lt&&(at[19]=lt,G.length++),G};function S(B,O,U){return(new T).mulp(B,O,U)}function T(B,O){this.x=B,this.y=O}Math.imul||(E=b),f.prototype.mulTo=function(O,U){var J=this.length+O.length;return 10===this.length&&10===O.length?E(this,O,U):J<63?b(this,O,U):J<1024?function x(B,O,U){U.negative=O.negative^B.negative,U.length=B.length+O.length;for(var G=0,J=0,et=0;et<U.length-1;et++){var at=J;J=0;for(var lt=67108863&G,K=Math.min(et,O.length-1),j=Math.max(0,et-B.length+1);j<=K;j++){var it=(0|B.words[et-j])*(0|O.words[j]),Q=67108863&it;lt=67108863&(Q=Q+lt|0),J+=(at=(at=at+(it/67108864|0)|0)+(Q>>>26)|0)>>>26,at&=67108863}U.words[et]=lt,G=at,at=J}return 0!==G?U.words[et]=G:U.length--,U.strip()}(this,O,U):S(this,O,U)},T.prototype.makeRBT=function(O){for(var U=new Array(O),G=f.prototype._countBits(O)-1,J=0;J<O;J++)U[J]=this.revBin(J,G,O);return U},T.prototype.revBin=function(O,U,G){if(0===O||O===G-1)return O;for(var J=0,et=0;et<U;et++)J|=(1&O)<<U-et-1,O>>=1;return J},T.prototype.permute=function(O,U,G,J,et,at){for(var lt=0;lt<at;lt++)J[lt]=U[O[lt]],et[lt]=G[O[lt]]},T.prototype.transform=function(O,U,G,J,et,at){this.permute(at,O,U,G,J,et);for(var lt=1;lt<et;lt<<=1)for(var K=lt<<1,j=Math.cos(2*Math.PI/K),rt=Math.sin(2*Math.PI/K),H=0;H<et;H+=K)for(var Z=j,it=rt,Q=0;Q<lt;Q++){var Y=G[H+Q],nt=J[H+Q],_=G[H+Q+lt],st=J[H+Q+lt],dt=Z*_-it*st;st=Z*st+it*_,G[H+Q]=Y+(_=dt),J[H+Q]=nt+st,G[H+Q+lt]=Y-_,J[H+Q+lt]=nt-st,Q!==K&&(dt=j*Z-rt*it,it=j*it+rt*Z,Z=dt)}},T.prototype.guessLen13b=function(O,U){var G=1|Math.max(U,O),J=1&G,et=0;for(G=G/2|0;G;G>>>=1)et++;return 1<<et+1+J},T.prototype.conjugate=function(O,U,G){if(!(G<=1))for(var J=0;J<G/2;J++){var et=O[J];O[J]=O[G-J-1],O[G-J-1]=et,et=U[J],U[J]=-U[G-J-1],U[G-J-1]=-et}},T.prototype.normalize13b=function(O,U){for(var G=0,J=0;J<U/2;J++){var et=8192*Math.round(O[2*J+1]/U)+Math.round(O[2*J]/U)+G;O[J]=67108863&et,G=et<67108864?0:et/67108864|0}return O},T.prototype.convert13b=function(O,U,G,J){for(var et=0,at=0;at<U;at++)G[2*at]=8191&(et+=0|O[at]),G[2*at+1]=8191&(et>>>=13),et>>>=13;for(at=2*U;at<J;++at)G[at]=0;a(0===et),a(0==(-8192&et))},T.prototype.stub=function(O){for(var U=new Array(O),G=0;G<O;G++)U[G]=0;return U},T.prototype.mulp=function(O,U,G){var J=2*this.guessLen13b(O.length,U.length),et=this.makeRBT(J),at=this.stub(J),lt=new Array(J),K=new Array(J),j=new Array(J),rt=new Array(J),H=new Array(J),Z=new Array(J),it=G.words;it.length=J,this.convert13b(O.words,O.length,lt,J),this.convert13b(U.words,U.length,rt,J),this.transform(lt,at,K,j,J,et),this.transform(rt,at,H,Z,J,et);for(var Q=0;Q<J;Q++){var Y=K[Q]*H[Q]-j[Q]*Z[Q];j[Q]=K[Q]*Z[Q]+j[Q]*H[Q],K[Q]=Y}return this.conjugate(K,j,J),this.transform(K,j,it,at,J,et),this.conjugate(it,at,J),this.normalize13b(it,J),G.negative=O.negative^U.negative,G.length=O.length+U.length,G.strip()},f.prototype.mul=function(O){var U=new f(null);return U.words=new Array(this.length+O.length),this.mulTo(O,U)},f.prototype.mulf=function(O){var U=new f(null);return U.words=new Array(this.length+O.length),S(this,O,U)},f.prototype.imul=function(O){return this.clone().mulTo(O,this)},f.prototype.imuln=function(O){a("number"==typeof O),a(O<67108864);for(var U=0,G=0;G<this.length;G++){var J=(0|this.words[G])*O,et=(67108863&J)+(67108863&U);U>>=26,U+=J/67108864|0,U+=et>>>26,this.words[G]=67108863&et}return 0!==U&&(this.words[G]=U,this.length++),this},f.prototype.muln=function(O){return this.clone().imuln(O)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(O){var U=function M(B){for(var O=new Array(B.bitLength()),U=0;U<O.length;U++){var J=U%26;O[U]=(B.words[U/26|0]&1<<J)>>>J}return O}(O);if(0===U.length)return new f(1);for(var G=this,J=0;J<U.length&&0===U[J];J++,G=G.sqr());if(++J<U.length)for(var et=G.sqr();J<U.length;J++,et=et.sqr())0!==U[J]&&(G=G.mul(et));return G},f.prototype.iushln=function(O){a("number"==typeof O&&O>=0);var et,U=O%26,G=(O-U)/26,J=67108863>>>26-U<<26-U;if(0!==U){var at=0;for(et=0;et<this.length;et++){var lt=this.words[et]&J;this.words[et]=(0|this.words[et])-lt<<U|at,at=lt>>>26-U}at&&(this.words[et]=at,this.length++)}if(0!==G){for(et=this.length-1;et>=0;et--)this.words[et+G]=this.words[et];for(et=0;et<G;et++)this.words[et]=0;this.length+=G}return this.strip()},f.prototype.ishln=function(O){return a(0===this.negative),this.iushln(O)},f.prototype.iushrn=function(O,U,G){var J;a("number"==typeof O&&O>=0),J=U?(U-U%26)/26:0;var et=O%26,at=Math.min((O-et)/26,this.length),lt=67108863^67108863>>>et<<et,K=G;if(J-=at,J=Math.max(0,J),K){for(var j=0;j<at;j++)K.words[j]=this.words[j];K.length=at}if(0!==at)if(this.length>at)for(this.length-=at,j=0;j<this.length;j++)this.words[j]=this.words[j+at];else this.words[0]=0,this.length=1;var rt=0;for(j=this.length-1;j>=0&&(0!==rt||j>=J);j--){var H=0|this.words[j];this.words[j]=rt<<26-et|H>>>et,rt=H&lt}return K&&0!==rt&&(K.words[K.length++]=rt),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(O,U,G){return a(0===this.negative),this.iushrn(O,U,G)},f.prototype.shln=function(O){return this.clone().ishln(O)},f.prototype.ushln=function(O){return this.clone().iushln(O)},f.prototype.shrn=function(O){return this.clone().ishrn(O)},f.prototype.ushrn=function(O){return this.clone().iushrn(O)},f.prototype.testn=function(O){a("number"==typeof O&&O>=0);var U=O%26,G=(O-U)/26;return!(this.length<=G||!(this.words[G]&1<<U))},f.prototype.imaskn=function(O){a("number"==typeof O&&O>=0);var U=O%26,G=(O-U)/26;return a(0===this.negative,"imaskn works only with positive numbers"),this.length<=G?this:(0!==U&&G++,this.length=Math.min(G,this.length),0!==U&&(this.words[this.length-1]&=67108863^67108863>>>U<<U),this.strip())},f.prototype.maskn=function(O){return this.clone().imaskn(O)},f.prototype.iaddn=function(O){return a("number"==typeof O),a(O<67108864),O<0?this.isubn(-O):0!==this.negative?1===this.length&&(0|this.words[0])<O?(this.words[0]=O-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},f.prototype._iaddn=function(O){this.words[0]+=O;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)this.words[U]-=67108864,U===this.length-1?this.words[U+1]=1:this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},f.prototype.isubn=function(O){if(a("number"==typeof O),a(O<67108864),O<0)return this.iaddn(-O);if(0!==this.negative)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},f.prototype.addn=function(O){return this.clone().iaddn(O)},f.prototype.subn=function(O){return this.clone().isubn(O)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(O,U,G){var et;this._expand(O.length+G);var at,lt=0;for(et=0;et<O.length;et++){at=(0|this.words[et+G])+lt;var K=(0|O.words[et])*U;lt=((at-=67108863&K)>>26)-(K/67108864|0),this.words[et+G]=67108863&at}for(;et<this.length-G;et++)lt=(at=(0|this.words[et+G])+lt)>>26,this.words[et+G]=67108863&at;if(0===lt)return this.strip();for(a(-1===lt),lt=0,et=0;et<this.length;et++)lt=(at=-(0|this.words[et])+lt)>>26,this.words[et]=67108863&at;return this.negative=1,this.strip()},f.prototype._wordDiv=function(O,U){var G,J=this.clone(),et=O,at=0|et.words[et.length-1];0!=(G=26-this._countBits(at))&&(et=et.ushln(G),J.iushln(G),at=0|et.words[et.length-1]);var j,K=J.length-et.length;if("mod"!==U){(j=new f(null)).length=K+1,j.words=new Array(j.length);for(var rt=0;rt<j.length;rt++)j.words[rt]=0}var H=J.clone()._ishlnsubmul(et,1,K);0===H.negative&&(J=H,j&&(j.words[K]=1));for(var Z=K-1;Z>=0;Z--){var it=67108864*(0|J.words[et.length+Z])+(0|J.words[et.length+Z-1]);for(it=Math.min(it/at|0,67108863),J._ishlnsubmul(et,it,Z);0!==J.negative;)it--,J.negative=0,J._ishlnsubmul(et,1,Z),J.isZero()||(J.negative^=1);j&&(j.words[Z]=it)}return j&&j.strip(),J.strip(),"div"!==U&&0!==G&&J.iushrn(G),{div:j||null,mod:J}},f.prototype.divmod=function(O,U,G){return a(!O.isZero()),this.isZero()?{div:new f(0),mod:new f(0)}:0!==this.negative&&0===O.negative?(at=this.neg().divmod(O,U),"mod"!==U&&(J=at.div.neg()),"div"!==U&&(et=at.mod.neg(),G&&0!==et.negative&&et.iadd(O)),{div:J,mod:et}):0===this.negative&&0!==O.negative?(at=this.divmod(O.neg(),U),"mod"!==U&&(J=at.div.neg()),{div:J,mod:at.mod}):0!=(this.negative&O.negative)?(at=this.neg().divmod(O.neg(),U),"div"!==U&&(et=at.mod.neg(),G&&0!==et.negative&&et.isub(O)),{div:at.div,mod:et}):O.length>this.length||this.cmp(O)<0?{div:new f(0),mod:this}:1===O.length?"div"===U?{div:this.divn(O.words[0]),mod:null}:"mod"===U?{div:null,mod:new f(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new f(this.modn(O.words[0]))}:this._wordDiv(O,U);var J,et,at},f.prototype.div=function(O){return this.divmod(O,"div",!1).div},f.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},f.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},f.prototype.divRound=function(O){var U=this.divmod(O);if(U.mod.isZero())return U.div;var G=0!==U.div.negative?U.mod.isub(O):U.mod,J=O.ushrn(1),et=O.andln(1),at=G.cmp(J);return at<0||1===et&&0===at?U.div:0!==U.div.negative?U.div.isubn(1):U.div.iaddn(1)},f.prototype.modn=function(O){a(O<=67108863);for(var U=(1<<26)%O,G=0,J=this.length-1;J>=0;J--)G=(U*G+(0|this.words[J]))%O;return G},f.prototype.idivn=function(O){a(O<=67108863);for(var U=0,G=this.length-1;G>=0;G--){var J=(0|this.words[G])+67108864*U;this.words[G]=J/O|0,U=J%O}return this.strip()},f.prototype.divn=function(O){return this.clone().idivn(O)},f.prototype.egcd=function(O){a(0===O.negative),a(!O.isZero());var U=this,G=O.clone();U=0!==U.negative?U.umod(O):U.clone();for(var J=new f(1),et=new f(0),at=new f(0),lt=new f(1),K=0;U.isEven()&&G.isEven();)U.iushrn(1),G.iushrn(1),++K;for(var j=G.clone(),rt=U.clone();!U.isZero();){for(var H=0,Z=1;0==(U.words[0]&Z)&&H<26;++H,Z<<=1);if(H>0)for(U.iushrn(H);H-- >0;)(J.isOdd()||et.isOdd())&&(J.iadd(j),et.isub(rt)),J.iushrn(1),et.iushrn(1);for(var it=0,Q=1;0==(G.words[0]&Q)&&it<26;++it,Q<<=1);if(it>0)for(G.iushrn(it);it-- >0;)(at.isOdd()||lt.isOdd())&&(at.iadd(j),lt.isub(rt)),at.iushrn(1),lt.iushrn(1);U.cmp(G)>=0?(U.isub(G),J.isub(at),et.isub(lt)):(G.isub(U),at.isub(J),lt.isub(et))}return{a:at,b:lt,gcd:G.iushln(K)}},f.prototype._invmp=function(O){a(0===O.negative),a(!O.isZero());var H,U=this,G=O.clone();U=0!==U.negative?U.umod(O):U.clone();for(var J=new f(1),et=new f(0),at=G.clone();U.cmpn(1)>0&&G.cmpn(1)>0;){for(var lt=0,K=1;0==(U.words[0]&K)&&lt<26;++lt,K<<=1);if(lt>0)for(U.iushrn(lt);lt-- >0;)J.isOdd()&&J.iadd(at),J.iushrn(1);for(var j=0,rt=1;0==(G.words[0]&rt)&&j<26;++j,rt<<=1);if(j>0)for(G.iushrn(j);j-- >0;)et.isOdd()&&et.iadd(at),et.iushrn(1);U.cmp(G)>=0?(U.isub(G),J.isub(et)):(G.isub(U),et.isub(J))}return(H=0===U.cmpn(1)?J:et).cmpn(0)<0&&H.iadd(O),H},f.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var U=this.clone(),G=O.clone();U.negative=0,G.negative=0;for(var J=0;U.isEven()&&G.isEven();J++)U.iushrn(1),G.iushrn(1);for(;;){for(;U.isEven();)U.iushrn(1);for(;G.isEven();)G.iushrn(1);var et=U.cmp(G);if(et<0){var at=U;U=G,G=at}else if(0===et||0===G.cmpn(1))break;U.isub(G)}return G.iushln(J)},f.prototype.invm=function(O){return this.egcd(O).a.umod(O)},f.prototype.isEven=function(){return 0==(1&this.words[0])},f.prototype.isOdd=function(){return 1==(1&this.words[0])},f.prototype.andln=function(O){return this.words[0]&O},f.prototype.bincn=function(O){a("number"==typeof O);var U=O%26,G=(O-U)/26,J=1<<U;if(this.length<=G)return this._expand(G+1),this.words[G]|=J,this;for(var et=J,at=G;0!==et&&at<this.length;at++){var lt=0|this.words[at];et=(lt+=et)>>>26,this.words[at]=lt&=67108863}return 0!==et&&(this.words[at]=et,this.length++),this},f.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},f.prototype.cmpn=function(O){var G,U=O<0;if(0!==this.negative&&!U)return-1;if(0===this.negative&&U)return 1;if(this.strip(),this.length>1)G=1;else{U&&(O=-O),a(O<=67108863,"Number is too big");var J=0|this.words[0];G=J===O?0:J<O?-1:1}return 0!==this.negative?0|-G:G},f.prototype.cmp=function(O){if(0!==this.negative&&0===O.negative)return-1;if(0===this.negative&&0!==O.negative)return 1;var U=this.ucmp(O);return 0!==this.negative?0|-U:U},f.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var U=0,G=this.length-1;G>=0;G--){var J=0|this.words[G],et=0|O.words[G];if(J!==et){J<et?U=-1:J>et&&(U=1);break}}return U},f.prototype.gtn=function(O){return 1===this.cmpn(O)},f.prototype.gt=function(O){return 1===this.cmp(O)},f.prototype.gten=function(O){return this.cmpn(O)>=0},f.prototype.gte=function(O){return this.cmp(O)>=0},f.prototype.ltn=function(O){return-1===this.cmpn(O)},f.prototype.lt=function(O){return-1===this.cmp(O)},f.prototype.lten=function(O){return this.cmpn(O)<=0},f.prototype.lte=function(O){return this.cmp(O)<=0},f.prototype.eqn=function(O){return 0===this.cmpn(O)},f.prototype.eq=function(O){return 0===this.cmp(O)},f.red=function(O){return new k(O)},f.prototype.toRed=function(O){return a(!this.red,"Already a number in reduction context"),a(0===this.negative,"red works only with positives"),O.convertTo(this)._forceRed(O)},f.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(O){return this.red=O,this},f.prototype.forceRed=function(O){return a(!this.red,"Already a number in reduction context"),this._forceRed(O)},f.prototype.redAdd=function(O){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},f.prototype.redIAdd=function(O){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},f.prototype.redSub=function(O){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},f.prototype.redISub=function(O){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},f.prototype.redShl=function(O){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},f.prototype.redMul=function(O){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},f.prototype.redIMul=function(O){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},f.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(O){return a(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var n={k256:null,p224:null,p192:null,p25519:null};function C(B,O){this.name=B,this.p=new f(O,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function p(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function F(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function D(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function N(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(B){if("string"==typeof B){var O=f._prime(B);this.m=O.p,this.prime=O}else a(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}function z(B){k.call(this,B),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}C.prototype._tmp=function(){var O=new f(null);return O.words=new Array(Math.ceil(this.n/13)),O},C.prototype.ireduce=function(O){var G,U=O;do{this.split(U,this.tmp),G=(U=(U=this.imulK(U)).iadd(this.tmp)).bitLength()}while(G>this.n);var J=G<this.n?-1:U.ucmp(this.p);return 0===J?(U.words[0]=0,U.length=1):J>0?U.isub(this.p):void 0!==U.strip?U.strip():U._strip(),U},C.prototype.split=function(O,U){O.iushrn(this.n,0,U)},C.prototype.imulK=function(O){return O.imul(this.k)},h(p,C),p.prototype.split=function(O,U){for(var G=4194303,J=Math.min(O.length,9),et=0;et<J;et++)U.words[et]=O.words[et];if(U.length=J,O.length<=9)return O.words[0]=0,void(O.length=1);var at=O.words[9];for(U.words[U.length++]=at&G,et=10;et<O.length;et++){var lt=0|O.words[et];O.words[et-10]=(lt&G)<<4|at>>>22,at=lt}O.words[et-10]=at>>>=22,O.length-=0===at&&O.length>10?10:9},p.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var U=0,G=0;G<O.length;G++){var J=0|O.words[G];O.words[G]=67108863&(U+=977*J),U=64*J+(U/67108864|0)}return 0===O.words[O.length-1]&&(O.length--,0===O.words[O.length-1]&&O.length--),O},h(F,C),h(D,C),h(N,C),N.prototype.imulK=function(O){for(var U=0,G=0;G<O.length;G++){var J=19*(0|O.words[G])+U,et=67108863&J;J>>>=26,O.words[G]=et,U=J}return 0!==U&&(O.words[O.length++]=U),O},f._prime=function(O){if(n[O])return n[O];var U;if("k256"===O)U=new p;else if("p224"===O)U=new F;else if("p192"===O)U=new D;else{if("p25519"!==O)throw new Error("Unknown prime "+O);U=new N}return n[O]=U,U},k.prototype._verify1=function(O){a(0===O.negative,"red works only with positives"),a(O.red,"red works only with red numbers")},k.prototype._verify2=function(O,U){a(0==(O.negative|U.negative),"red works only with positives"),a(O.red&&O.red===U.red,"red works only with red numbers")},k.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},k.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},k.prototype.add=function(O,U){this._verify2(O,U);var G=O.add(U);return G.cmp(this.m)>=0&&G.isub(this.m),G._forceRed(this)},k.prototype.iadd=function(O,U){this._verify2(O,U);var G=O.iadd(U);return G.cmp(this.m)>=0&&G.isub(this.m),G},k.prototype.sub=function(O,U){this._verify2(O,U);var G=O.sub(U);return G.cmpn(0)<0&&G.iadd(this.m),G._forceRed(this)},k.prototype.isub=function(O,U){this._verify2(O,U);var G=O.isub(U);return G.cmpn(0)<0&&G.iadd(this.m),G},k.prototype.shl=function(O,U){return this._verify1(O),this.imod(O.ushln(U))},k.prototype.imul=function(O,U){return this._verify2(O,U),this.imod(O.imul(U))},k.prototype.mul=function(O,U){return this._verify2(O,U),this.imod(O.mul(U))},k.prototype.isqr=function(O){return this.imul(O,O.clone())},k.prototype.sqr=function(O){return this.mul(O,O)},k.prototype.sqrt=function(O){if(O.isZero())return O.clone();var U=this.m.andln(3);if(a(U%2==1),3===U){var G=this.m.add(new f(1)).iushrn(2);return this.pow(O,G)}for(var J=this.m.subn(1),et=0;!J.isZero()&&0===J.andln(1);)et++,J.iushrn(1);a(!J.isZero());var at=new f(1).toRed(this),lt=at.redNeg(),K=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new f(2*j*j).toRed(this);0!==this.pow(j,K).cmp(lt);)j.redIAdd(lt);for(var rt=this.pow(j,J),H=this.pow(O,J.addn(1).iushrn(1)),Z=this.pow(O,J),it=et;0!==Z.cmp(at);){for(var Q=Z,Y=0;0!==Q.cmp(at);Y++)Q=Q.redSqr();a(Y<it);var nt=this.pow(rt,new f(1).iushln(it-Y-1));H=H.redMul(nt),rt=nt.redSqr(),Z=Z.redMul(rt),it=Y}return H},k.prototype.invm=function(O){var U=O._invmp(this.m);return 0!==U.negative?(U.negative=0,this.imod(U).redNeg()):this.imod(U)},k.prototype.pow=function(O,U){if(U.isZero())return new f(1).toRed(this);if(0===U.cmpn(1))return O.clone();var J=new Array(16);J[0]=new f(1).toRed(this),J[1]=O;for(var et=2;et<J.length;et++)J[et]=this.mul(J[et-1],O);var at=J[0],lt=0,K=0,j=U.bitLength()%26;for(0===j&&(j=26),et=U.length-1;et>=0;et--){for(var rt=U.words[et],H=j-1;H>=0;H--){var Z=rt>>H&1;at!==J[0]&&(at=this.sqr(at)),0!==Z||0!==lt?(lt<<=1,lt|=Z,(4==++K||0===et&&0===H)&&(at=this.mul(at,J[lt]),K=0,lt=0)):K=0}j=26}return at},k.prototype.convertTo=function(O){var U=O.umod(this.m);return U===O?U.clone():U},k.prototype.convertFrom=function(O){var U=O.clone();return U.red=null,U},f.mont=function(O){return new z(O)},h(z,k),z.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},z.prototype.convertFrom=function(O){var U=this.imod(O.mul(this.rinv));return U.red=null,U},z.prototype.imul=function(O,U){if(O.isZero()||U.isZero())return O.words[0]=0,O.length=1,O;var G=O.imul(U),J=G.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),et=G.isub(J).iushrn(this.shift),at=et;return et.cmp(this.m)>=0?at=et.isub(this.m):et.cmpn(0)<0&&(at=et.iadd(this.m)),at._forceRed(this)},z.prototype.mul=function(O,U){if(O.isZero()||U.isZero())return new f(0)._forceRed(this);var G=O.mul(U),J=G.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),et=G.isub(J).iushrn(this.shift),at=et;return et.cmp(this.m)>=0?at=et.isub(this.m):et.cmpn(0)<0&&(at=et.iadd(this.m)),at._forceRed(this)},z.prototype.invm=function(O){return this.imod(O._invmp(this.m).mul(this.r2))._forceRed(this)}}(l=r.nmd(l),this)},2692:function(l){"use strict";l.exports=function m(r){var e,s,a,h=r.length,f=0;for(e=0;e<h;++e)f+=r[e].length;var u=new Array(f),g=0;for(e=0;e<h;++e){var c=r[e],w=c.length;for(s=0;s<w;++s){var d=u[g++]=new Array(w-1),o=0;for(a=0;a<w;++a)a!==s&&(d[o++]=c[a]);if(1&s){var v=d[1];d[1]=d[0],d[0]=v}}}return u}},2569:function(l,m,r){"use strict";l.exports=function o(v,M,b){switch(arguments.length){case 1:return w(v);case 2:return"function"==typeof M?u(v,v,M,!0):d(v,M);case 3:return u(v,M,b,!1);default:throw new Error("box-intersect: Invalid arguments")}};var g,e=r(5306),s=r(1390),a=r(2337);function h(v,M){for(var b=0;b<v;++b)if(!(M[b]<=M[b+v]))return!0;return!1}function f(v,M,b,E){for(var x=0,S=0,T=0,n=v.length;T<n;++T){var C=v[T];if(!h(M,C)){for(var p=0;p<2*M;++p)b[x++]=C[p];E[S++]=T}}return S}function u(v,M,b,E){var x=v.length,S=M.length;if(!(x<=0||S<=0)){var T=v[0].length>>>1;if(!(T<=0)){var n,C=e.mallocDouble(2*T*x),p=e.mallocInt32(x);if((x=f(v,T,C,p))>0){if(1===T&&E)s.init(x),n=s.sweepComplete(T,b,0,x,C,p,0,x,C,p);else{var F=e.mallocDouble(2*T*S),D=e.mallocInt32(S);(S=f(M,T,F,D))>0&&(s.init(x+S),n=1===T?s.sweepBipartite(T,b,0,x,C,p,0,S,F,D):a(T,b,E,x,C,p,S,F,D),e.free(F),e.free(D))}e.free(C),e.free(p)}return n}}}function c(v,M){g.push([v,M])}function w(v){return g=[],u(v,v,c,!0),g}function d(v,M){return g=[],u(v,M,c,!1),g}},7333:function(l,m){"use strict";function s(a){return a?function f(u,g,c,w,d,o,v,M,b,E,x){return d-w>b-M?function a(u,g,c,w,d,o,v,M,b,E,x){for(var S=2*u,T=w,n=S*w;T<d;++T,n+=S){var C=o[g+n],p=o[g+n+u],F=v[T];t:for(var D=M,N=S*M;D<b;++D,N+=S){var B=x[D];if(!(E[g+N+u]<C||p<E[g+N])){for(var O=g+1;O<u;++O)if(o[O+u+n]<E[O+N]||E[O+u+N]<o[O+n])continue t;var at=c(F,B);if(void 0!==at)return at}}}}(u,g,c,w,d,o,v,M,b,E,x):function h(u,g,c,w,d,o,v,M,b,E,x){for(var S=2*u,T=M,n=S*M;T<b;++T,n+=S){var C=E[g+n],p=E[g+n+u],F=x[T];t:for(var D=w,N=S*w;D<d;++D,N+=S){var B=v[D];if(!(p<o[g+N]||o[g+N+u]<C)){for(var O=g+1;O<u;++O)if(o[O+u+N]<E[O+n]||E[O+u+n]<o[O+N])continue t;var at=c(B,F);if(void 0!==at)return at}}}}(u,g,c,w,d,o,v,M,b,E,x)}:function g(c,w,d,o,v,M,b,E,x,S,T,n){return M-v>S-x?o?function a(c,w,d,o,v,M,b,E,x,S,T){for(var n=2*c,C=o,p=n*o;C<v;++C,p+=n){var F=M[w+p],D=M[w+p+c],N=b[C];t:for(var k=E,z=n*E;k<x;++k,z+=n){var B=S[w+z],O=T[k];if(!(B<=F||D<B)){for(var U=w+1;U<c;++U)if(M[U+c+p]<S[U+z]||S[U+c+z]<M[U+p])continue t;var lt=d(O,N);if(void 0!==lt)return lt}}}}(c,w,d,v,M,b,E,x,S,T,n):function h(c,w,d,o,v,M,b,E,x,S,T){for(var n=2*c,C=o,p=n*o;C<v;++C,p+=n){var F=M[w+p],D=M[w+p+c],N=b[C];t:for(var k=E,z=n*E;k<x;++k,z+=n){var B=S[w+z],O=T[k];if(!(B<F||D<B)){for(var U=w+1;U<c;++U)if(M[U+c+p]<S[U+z]||S[U+c+z]<M[U+p])continue t;var lt=d(N,O);if(void 0!==lt)return lt}}}}(c,w,d,v,M,b,E,x,S,T,n):o?function f(c,w,d,o,v,M,b,E,x,S,T){for(var n=2*c,C=E,p=n*E;C<x;++C,p+=n){var F=S[w+p],D=T[C];t:for(var N=o,k=n*o;N<v;++N,k+=n){var O=b[N];if(!(F<=M[w+k]||M[w+k+c]<F)){for(var U=w+1;U<c;++U)if(M[U+c+k]<S[U+p]||S[U+c+p]<M[U+k])continue t;var lt=d(D,O);if(void 0!==lt)return lt}}}}(c,w,d,v,M,b,E,x,S,T,n):function u(c,w,d,o,v,M,b,E,x,S,T){for(var n=2*c,C=E,p=n*E;C<x;++C,p+=n){var F=S[w+p],D=T[C];t:for(var N=o,k=n*o;N<v;++N,k+=n){var O=b[N];if(!(F<M[w+k]||M[w+k+c]<F)){for(var U=w+1;U<c;++U)if(M[U+c+k]<S[U+p]||S[U+c+p]<M[U+k])continue t;var lt=d(O,D);if(void 0!==lt)return lt}}}}(c,w,d,v,M,b,E,x,S,T,n)}}m.partial=s(!1),m.full=s(!0)},2337:function(l,m,r){"use strict";l.exports=function B(O,U,G,J,et,at,lt,K,j){!function D(O,U){var G=8*s.log2(U+1)*(O+1)|0,J=s.nextPow2(6*G);p.length<J&&(e.free(p),p=e.mallocInt32(J));var et=s.nextPow2(2*G);F.length<et&&(e.free(F),F=e.mallocDouble(et))}(O,J+lt);var Z,rt=0,H=2*O;for(N(rt++,0,0,J,0,lt,G?16:0,-1/0,1/0),G||N(rt++,0,0,lt,0,J,1,-1/0,1/0);rt>0;){var it=6*(rt-=1),Q=p[it],Y=p[it+1],nt=p[it+2],_=p[it+3],st=p[it+4],dt=p[it+5],xt=2*rt,yt=F[xt],St=F[xt+1],Et=1&dt,Tt=!!(16&dt),gt=et,Mt=at,Nt=K,Gt=j;if(Et&&(gt=K,Mt=j,Nt=et,Gt=at),!(2&dt&&(nt=b(O,Q,Y,nt,gt,Mt,St),Y>=nt)||4&dt&&(Y=E(O,Q,Y,nt,gt,Mt,yt),Y>=nt))){var Pt=nt-Y,Vt=st-_;if(Tt){if(O*Pt*(Pt+Vt)<4194304){if(void 0!==(Z=u.scanComplete(O,Q,U,Y,nt,gt,Mt,_,st,Nt,Gt)))return Z;continue}}else{if(O*Math.min(Pt,Vt)<128){if(void 0!==(Z=h(O,Q,U,Et,Y,nt,gt,Mt,_,st,Nt,Gt)))return Z;continue}if(O*Pt*Vt<4194304){if(void 0!==(Z=u.scanBipartite(O,Q,U,Et,Y,nt,gt,Mt,_,st,Nt,Gt)))return Z;continue}}var re=v(O,Q,Y,nt,gt,Mt,yt,St);if(Y<re)if(O*(re-Y)<128){if(void 0!==(Z=f(O,Q+1,U,Y,re,gt,Mt,_,st,Nt,Gt)))return Z}else if(Q===O-2){if(void 0!==(Z=Et?u.sweepBipartite(O,U,_,st,Nt,Gt,Y,re,gt,Mt):u.sweepBipartite(O,U,Y,re,gt,Mt,_,st,Nt,Gt)))return Z}else N(rt++,Q+1,Y,re,_,st,Et,-1/0,1/0),N(rt++,Q+1,_,st,Y,re,1^Et,-1/0,1/0);if(re<nt){var le=g(O,Q,_,st,Nt,Gt),It=Nt[H*le+Q],Rt=M(O,Q,le,st,Nt,Gt,It);if(Rt<st&&N(rt++,Q,re,nt,Rt,st,(4|Et)+(Tt?16:0),It,St),_<le&&N(rt++,Q,re,nt,_,le,(2|Et)+(Tt?16:0),yt,It),le+1===Rt){if(void 0!==(Z=Tt?z(O,Q,U,re,nt,gt,Mt,le,Nt,Gt[le]):k(O,Q,U,Et,re,nt,gt,Mt,le,Nt,Gt[le])))return Z}else if(le<Rt){var $t;if(Tt){if(re<($t=x(O,Q,re,nt,gt,Mt,It))){var oe=M(O,Q,re,$t,gt,Mt,It);if(Q===O-2){if(re<oe&&void 0!==(Z=u.sweepComplete(O,U,re,oe,gt,Mt,le,Rt,Nt,Gt))||oe<$t&&void 0!==(Z=u.sweepBipartite(O,U,oe,$t,gt,Mt,le,Rt,Nt,Gt)))return Z}else re<oe&&N(rt++,Q+1,re,oe,le,Rt,16,-1/0,1/0),oe<$t&&(N(rt++,Q+1,oe,$t,le,Rt,0,-1/0,1/0),N(rt++,Q+1,le,Rt,oe,$t,1,-1/0,1/0))}}else re<($t=Et?S(O,Q,re,nt,gt,Mt,It):x(O,Q,re,nt,gt,Mt,It))&&(Q===O-2?Z=Et?u.sweepBipartite(O,U,le,Rt,Nt,Gt,re,$t,gt,Mt):u.sweepBipartite(O,U,re,$t,gt,Mt,le,Rt,Nt,Gt):(N(rt++,Q+1,re,$t,le,Rt,Et,-1/0,1/0),N(rt++,Q+1,le,Rt,re,$t,1^Et,-1/0,1/0)))}}}}};var e=r(5306),s=r(2288),a=r(7333),h=a.partial,f=a.full,u=r(1390),g=r(2464),c=r(122),v=c("!(lo>=p0)&&!(p1>=hi)"),M=c("lo===p0"),b=c("lo<p0"),E=c("hi<=p0"),x=c("lo<=p0&&p0<=hi"),S=c("lo<p0&&p0<=hi"),p=e.mallocInt32(1024),F=e.mallocDouble(1024);function N(O,U,G,J,et,at,lt,K,j){var rt=6*O;p[rt]=U,p[rt+1]=G,p[rt+2]=J,p[rt+3]=et,p[rt+4]=at,p[rt+5]=lt;var H=2*O;F[H]=K,F[H+1]=j}function k(O,U,G,J,et,at,lt,K,j,rt,H){var Z=2*O,it=j*Z,Q=rt[it+U];t:for(var Y=et,nt=et*Z;Y<at;++Y,nt+=Z){var st=lt[nt+U+O];if(!(Q<(_=lt[nt+U])||st<Q||J&&Q===_)){for(var dt=K[Y],xt=U+1;xt<O;++xt){var _=lt[nt+xt];if((st=lt[nt+xt+O])<rt[it+xt]||rt[it+xt+O]<_)continue t}var Et;if(void 0!==(Et=J?G(H,dt):G(dt,H)))return Et}}}function z(O,U,G,J,et,at,lt,K,j,rt){var H=2*O,Z=K*H,it=j[Z+U];t:for(var Q=J,Y=J*H;Q<et;++Q,Y+=H){var nt=lt[Q];if(nt!==rt){var st=at[Y+U+O];if(!(it<(_=at[Y+U])||st<it)){for(var dt=U+1;dt<O;++dt){var _=at[Y+dt];if((st=at[Y+dt+O])<j[Z+dt]||j[Z+dt+O]<_)continue t}var St=G(nt,rt);if(void 0!==St)return St}}}}},2464:function(l,m,r){"use strict";l.exports=function f(u,g,c,w,d,o){if(w<=c+1)return c;for(var v=c,M=w,b=w+c>>>1,E=2*u,x=b,S=d[E*b+g];v<M;){if(M-v<8){h(u,g,v,M,d,o),S=d[E*b+g];break}var T=M-v,n=Math.random()*T+v|0,C=d[E*n+g],p=Math.random()*T+v|0,F=d[E*p+g],D=Math.random()*T+v|0,N=d[E*D+g];C<=F?N>=F?(x=p,S=F):C>=N?(x=n,S=C):(x=D,S=N):F>=N?(x=p,S=F):N>=C?(x=n,S=C):(x=D,S=N);for(var B=E*(M-1),O=E*x,k=0;k<E;++k,++B,++O){var z=d[B];d[B]=d[O],d[O]=z}var U=o[M-1];for(o[M-1]=o[x],o[x]=U,B=E*(M-1),O=E*(x=s(u,g,v,M-1,d,o,S)),k=0;k<E;++k,++B,++O)z=d[B],d[B]=d[O],d[O]=z;if(U=o[M-1],o[M-1]=o[x],o[x]=U,b<x){for(M=x-1;v<M&&d[E*(M-1)+g]===S;)M-=1;M+=1}else{if(!(x<b))break;for(v=x+1;v<M&&d[E*v+g]===S;)v+=1}}return s(u,g,c,b,d,o,d[E*b+g])};var s=r(122)("lo<p0");function h(u,g,c,w,d,o){for(var v=2*u,M=v*(c+1)+g,b=c+1;b<w;++b,M+=v)for(var E=d[M],x=b,S=v*(b-1);x>c&&d[S+g]>E;--x,S-=v){for(var T=S,n=S+v,C=0;C<v;++C,++T,++n){var p=d[T];d[T]=d[n],d[n]=p}var F=o[x];o[x]=o[x-1],o[x-1]=F}}},122:function(l){"use strict";l.exports=function r(c){return m[c]};var m={"lo===p0":function e(c,w,d,o,v,M,b){for(var E=2*c,x=E*d,S=x,T=d,n=w,p=d;o>p;++p,x+=E)if(v[x+n]===b)if(T===p)T+=1,S+=E;else{for(var D=0;E>D;++D){var N=v[x+D];v[x+D]=v[S],v[S++]=N}var k=M[p];M[p]=M[T],M[T++]=k}return T},"lo<p0":function s(c,w,d,o,v,M,b){for(var E=2*c,x=E*d,S=x,T=d,n=w,p=d;o>p;++p,x+=E)if(v[x+n]<b)if(T===p)T+=1,S+=E;else{for(var D=0;E>D;++D){var N=v[x+D];v[x+D]=v[S],v[S++]=N}var k=M[p];M[p]=M[T],M[T++]=k}return T},"lo<=p0":function a(c,w,d,o,v,M,b){for(var E=2*c,x=E*d,S=x,T=d,C=c+w,p=d;o>p;++p,x+=E)if(v[x+C]<=b)if(T===p)T+=1,S+=E;else{for(var D=0;E>D;++D){var N=v[x+D];v[x+D]=v[S],v[S++]=N}var k=M[p];M[p]=M[T],M[T++]=k}return T},"hi<=p0":function h(c,w,d,o,v,M,b){for(var E=2*c,x=E*d,S=x,T=d,C=c+w,p=d;o>p;++p,x+=E)if(v[x+C]<=b)if(T===p)T+=1,S+=E;else{for(var D=0;E>D;++D){var N=v[x+D];v[x+D]=v[S],v[S++]=N}var k=M[p];M[p]=M[T],M[T++]=k}return T},"lo<p0&&p0<=hi":function u(c,w,d,o,v,M,b){for(var E=2*c,x=E*d,S=x,T=d,n=w,C=c+w,p=d;o>p;++p,x+=E)if(v[x+n]<b&&b<=v[x+C])if(T===p)T+=1,S+=E;else{for(var N=0;E>N;++N){var k=v[x+N];v[x+N]=v[S],v[S++]=k}var z=M[p];M[p]=M[T],M[T++]=z}return T},"lo<=p0&&p0<=hi":function f(c,w,d,o,v,M,b){for(var E=2*c,x=E*d,S=x,T=d,n=w,C=c+w,p=d;o>p;++p,x+=E)if(v[x+n]<=b&&b<=v[x+C])if(T===p)T+=1,S+=E;else{for(var N=0;E>N;++N){var k=v[x+N];v[x+N]=v[S],v[S++]=k}var z=M[p];M[p]=M[T],M[T++]=z}return T},"!(lo>=p0)&&!(p1>=hi)":function g(c,w,d,o,v,M,b,E){for(var x=2*c,S=x*d,T=S,n=d,C=w,p=c+w,F=d;o>F;++F,S+=x)if(!(v[S+C]>=b||E>=v[S+p]))if(n===F)n+=1,T+=x;else{for(var k=0;x>k;++k){var z=v[S+k];v[S+k]=v[T],v[T++]=z}var B=M[F];M[F]=M[n],M[n++]=B}return n}}},309:function(l){"use strict";l.exports=function r(w,d){d<=128?e(0,d-1,w):c(0,d-1,w)};function e(w,d,o){for(var v=2*(w+1),M=w+1;M<=d;++M){for(var b=o[v++],E=o[v++],x=M,S=v-2;x-- >w;){var T=o[S-2],n=o[S-1];if(T<b)break;if(T===b&&n<E)break;o[S]=T,o[S+1]=n,S-=2}o[S]=b,o[S+1]=E}}function s(w,d,o){var v=o[w*=2],M=o[w+1];o[w]=o[d*=2],o[w+1]=o[d+1],o[d]=v,o[d+1]=M}function a(w,d,o){o[w*=2]=o[d*=2],o[w+1]=o[d+1]}function h(w,d,o,v){o*=2;var M=v[w*=2],b=v[w+1];v[w]=v[d*=2],v[w+1]=v[d+1],v[d]=v[o],v[d+1]=v[o+1],v[o]=M,v[o+1]=b}function f(w,d,o,v,M){M[w*=2]=M[d*=2],M[d]=o,M[w+1]=M[d+1],M[d+1]=v}function u(w,d,o){var v=o[w*=2],M=o[d*=2];return!(v<M)&&(v!==M||o[w+1]>o[d+1])}function g(w,d,o,v){var M=v[w*=2];return M<d||M===d&&v[w+1]<o}function c(w,d,o){var v=(d-w+1)/6|0,M=w+v,b=d-v,E=w+d>>1,x=E-v,S=E+v,T=M,n=x,C=E,p=S,F=b,D=w+1,N=d-1,k=0;u(T,n,o)&&(k=T,T=n,n=k),u(p,F,o)&&(k=p,p=F,F=k),u(T,C,o)&&(k=T,T=C,C=k),u(n,C,o)&&(k=n,n=C,C=k),u(T,p,o)&&(k=T,T=p,p=k),u(C,p,o)&&(k=C,C=p,p=k),u(n,F,o)&&(k=n,n=F,F=k),u(n,C,o)&&(k=n,n=C,C=k),u(p,F,o)&&(k=p,p=F,F=k);for(var z=o[2*n],B=o[2*n+1],O=o[2*p],U=o[2*p+1],G=2*T,J=2*C,et=2*F,at=2*M,lt=2*E,K=2*b,j=0;j<2;++j){var H=o[J+j],Z=o[et+j];o[at+j]=o[G+j],o[lt+j]=H,o[K+j]=Z}a(x,w,o),a(S,d,o);for(var it=D;it<=N;++it)if(g(it,z,B,o))it!==D&&s(it,D,o),++D;else if(!g(it,O,U,o))for(;;){if(g(N,O,U,o)){g(N,z,B,o)?(h(it,D,N,o),++D,--N):(s(it,N,o),--N);break}if(--N<it)break}f(w,D-1,z,B,o),f(d,N+1,O,U,o),D-2-w<=32?e(w,D-2,o):c(w,D-2,o),d-(N+2)<=32?e(N+2,d,o):c(N+2,d,o),N-D<=32?e(D,N,o):c(D,N,o)}},1390:function(l,m,r){"use strict";l.exports={init:function M(C){var p=s.nextPow2(C);u.length<p&&(e.free(u),u=e.mallocInt32(p)),g.length<p&&(e.free(g),g=e.mallocInt32(p)),c.length<p&&(e.free(c),c=e.mallocInt32(p)),w.length<p&&(e.free(w),w=e.mallocInt32(p)),d.length<p&&(e.free(d),d=e.mallocInt32(p)),o.length<p&&(e.free(o),o=e.mallocInt32(p));var F=8*p;v.length<F&&(e.free(v),v=e.mallocDouble(F))},sweepBipartite:function x(C,p,F,D,N,k,z,B,O,U){for(var G=0,J=2*C,et=C-1,at=J-1,lt=F;lt<D;++lt){var K=k[lt],j=J*lt;v[G++]=N[j+et],v[G++]=-(K+1),v[G++]=N[j+at],v[G++]=K}for(lt=z;lt<B;++lt){K=U[lt]+h;var rt=J*lt;v[G++]=O[rt+et],v[G++]=-K,v[G++]=O[rt+at],v[G++]=K}var H=G>>>1;a(v,H);var Z=0,it=0;for(lt=0;lt<H;++lt){var Q=0|v[2*lt+1];if(Q>=h)b(c,w,it--,Q=Q-h|0);else if(Q>=0)b(u,g,Z--,Q);else if(Q<=-h){Q=-Q-h|0;for(var Y=0;Y<Z;++Y)if(void 0!==(nt=p(u[Y],Q)))return nt;E(c,w,it++,Q)}else{for(Q=-Q-1|0,Y=0;Y<it;++Y){var nt;if(void 0!==(nt=p(Q,c[Y])))return nt}E(u,g,Z++,Q)}}},sweepComplete:function S(C,p,F,D,N,k,z,B,O,U){for(var G=0,J=2*C,et=C-1,at=J-1,lt=F;lt<D;++lt){var K=k[lt]+1<<1,j=J*lt;v[G++]=N[j+et],v[G++]=-K,v[G++]=N[j+at],v[G++]=K}for(lt=z;lt<B;++lt){K=U[lt]+1<<1;var rt=J*lt;v[G++]=O[rt+et],v[G++]=1|-K,v[G++]=O[rt+at],v[G++]=1|K}var H=G>>>1;a(v,H);var Z=0,it=0,Q=0;for(lt=0;lt<H;++lt){var Y=0|v[2*lt+1],nt=1&Y;if(lt<H-1&&Y>>1==v[2*lt+3]>>1&&(nt=2,lt+=1),Y<0){for(var _=-(Y>>1)-1,st=0;st<Q;++st)if(void 0!==(dt=p(d[st],_)))return dt;if(0!==nt)for(st=0;st<Z;++st)if(void 0!==(dt=p(u[st],_)))return dt;if(1!==nt)for(st=0;st<it;++st){var dt;if(void 0!==(dt=p(c[st],_)))return dt}0===nt?E(u,g,Z++,_):1===nt?E(c,w,it++,_):2===nt&&E(d,o,Q++,_)}else _=(Y>>1)-1,0===nt?b(u,g,Z--,_):1===nt?b(c,w,it--,_):2===nt&&b(d,o,Q--,_)}},scanBipartite:function T(C,p,F,D,N,k,z,B,O,U,G,J){var et=0,at=2*C,lt=p,K=p+C,j=1,rt=1;D?rt=h:j=h;for(var H=N;H<k;++H){var Z=H+j,it=at*H;v[et++]=z[it+lt],v[et++]=-Z,v[et++]=z[it+K],v[et++]=Z}for(H=O;H<U;++H)Z=H+rt,v[et++]=G[at*H+lt],v[et++]=-Z;var Y=et>>>1;a(v,Y);var nt=0;for(H=0;H<Y;++H){var _=0|v[2*H+1];if(_<0){var st=!1;if((Z=-_)>=h?(st=!D,Z-=h):(st=!!D,Z-=1),st)E(u,g,nt++,Z);else{var dt=J[Z],xt=at*Z,yt=G[xt+p+1],St=G[xt+p+1+C];t:for(var Et=0;Et<nt;++Et){var Tt=u[Et],gt=at*Tt;if(!(St<z[gt+p+1]||z[gt+p+1+C]<yt)){for(var Mt=p+2;Mt<C;++Mt)if(G[xt+Mt+C]<z[gt+Mt]||z[gt+Mt+C]<G[xt+Mt])continue t;var Gt,Nt=B[Tt];if(void 0!==(Gt=D?F(dt,Nt):F(Nt,dt)))return Gt}}}}else b(u,g,nt--,_-j)}},scanComplete:function n(C,p,F,D,N,k,z,B,O,U,G){for(var J=0,et=2*C,at=p,lt=p+C,K=D;K<N;++K){var j=K+h,rt=et*K;v[J++]=k[rt+at],v[J++]=-j,v[J++]=k[rt+lt],v[J++]=j}for(K=B;K<O;++K)j=K+1,v[J++]=U[et*K+at],v[J++]=-j;var Z=J>>>1;a(v,Z);var it=0;for(K=0;K<Z;++K){var Q=0|v[2*K+1];if(Q<0)if((j=-Q)>=h)u[it++]=j-h;else{var Y=G[j-=1],nt=et*j,_=U[nt+p+1],st=U[nt+p+1+C];t:for(var dt=0;dt<it;++dt){var xt=u[dt],yt=z[xt];if(yt===Y)break;var St=et*xt;if(!(st<k[St+p+1]||k[St+p+1+C]<_)){for(var Et=p+2;Et<C;++Et)if(U[nt+Et+C]<k[St+Et]||k[St+Et+C]<U[nt+Et])continue t;var Tt=F(yt,Y);if(void 0!==Tt)return Tt}}}else{for(j=Q-h,dt=it-1;dt>=0;--dt)if(u[dt]===j){for(Et=dt+1;Et<it;++Et)u[Et-1]=u[Et];break}--it}}}};var e=r(5306),s=r(2288),a=r(309),h=1<<28,f=1024,u=e.mallocInt32(f),g=e.mallocInt32(f),c=e.mallocInt32(f),w=e.mallocInt32(f),d=e.mallocInt32(f),o=e.mallocInt32(f),v=e.mallocDouble(8*f);function b(C,p,F,D){var N=p[D],k=C[F-1];C[N]=k,p[k]=N}function E(C,p,F,D){C[F]=D,p[D]=F}},7761:function(l,m,r){"use strict";var e=r(9971),s=r(743),a=r(2161),h=r(7098);function f(d){return[Math.min(d[0],d[1]),Math.max(d[0],d[1])]}function u(d,o){return d[0]-o[0]||d[1]-o[1]}function c(d,o,v){return o in d?d[o]:v}l.exports=function w(d,o,v){Array.isArray(o)?(v=v||{},o=o||[]):(v=o||{},o=[]);var M=!!c(v,"delaunay",!0),b=!!c(v,"interior",!0),E=!!c(v,"exterior",!0),x=!!c(v,"infinity",!1);if(!b&&!E||0===d.length)return[];var S=e(d,o);if(M||b!==E||x){for(var T=s(d.length,function g(d){return d.map(f).sort(u)}(o)),n=0;n<S.length;++n){var C=S[n];T.addTriangle(C[0],C[1],C[2])}return M&&a(d,T),E?b?x?h(T,0,x):T.cells():h(T,1,x):h(T,-1)}return S}},2161:function(l,m,r){"use strict";var e=r(2227)[4];function a(f,u,g,c,w,d){var o=u.opposite(c,w);if(!(o<0)){if(w<c){var v=c;c=w,w=v,v=d,d=o,o=v}u.isConstraint(c,w)||e(f[c],f[w],f[d],f[o])<0&&g.push(c,w)}}r(5070),l.exports=function h(f,u){for(var g=[],c=f.length,w=u.stars,d=0;d<c;++d)for(var o=w[d],v=1;v<o.length;v+=2)if(!((M=o[v])<d||u.isConstraint(d,M))){for(var b=o[v-1],E=-1,x=1;x<o.length;x+=2)if(o[x-1]===M){E=o[x];break}E<0||e(f[d],f[M],f[b],f[E])<0&&g.push(d,M)}for(;g.length>0;){for(var M=g.pop(),S=(b=-1,E=-1,o=w[d=g.pop()],1);S<o.length;S+=2){var T=o[S-1],n=o[S];T===M?E=n:n===M&&(b=T)}b<0||E<0||e(f[d],f[M],f[b],f[E])>=0||(u.flip(d,M),a(f,u,g,b,d,E),a(f,u,g,d,E,b),a(f,u,g,E,M,b),a(f,u,g,M,b,E))}}},7098:function(l,m,r){"use strict";var c,e=r(5070);function s(c,w,d,o,v,M,b){this.cells=c,this.neighbor=w,this.flags=o,this.constraint=d,this.active=v,this.next=M,this.boundary=b}function h(c,w){return c[0]-w[0]||c[1]-w[1]||c[2]-w[2]}l.exports=function g(c,w,d){var o=function f(c,w){for(var d=c.cells(),o=d.length,v=0;v<o;++v){var b=(M=d[v])[0],x=M[2];(E=M[1])<x?E<b&&(M[0]=E,M[1]=x,M[2]=b):x<b&&(M[0]=x,M[1]=b,M[2]=E)}d.sort(h);var S=new Array(o);for(v=0;v<S.length;++v)S[v]=0;var T=[],n=[],C=new Array(3*o),p=new Array(3*o),F=null;w&&(F=[]);var D=new s(d,C,p,S,T,n,F);for(v=0;v<o;++v)for(var M=d[v],N=0;N<3;++N){var E,k=C[3*v+N]=D.locate(E=M[(N+1)%3],b=M[N],c.opposite(E,b)),z=p[3*v+N]=c.isConstraint(b,E);k<0&&(z?n.push(v):(T.push(v),S[v]=1),w&&F.push([E,b,-1]))}return D}(c,d);if(0===w)return d?o.cells.concat(o.boundary):o.cells;for(var v=1,M=o.active,b=o.next,E=o.flags,x=o.cells,S=o.constraint,T=o.neighbor;M.length>0||b.length>0;){for(;M.length>0;){var n=M.pop();if(E[n]!==-v){E[n]=v;for(var p=0;p<3;++p){var F=T[3*n+p];F>=0&&0===E[F]&&(S[3*n+p]?b.push(F):(M.push(F),E[F]=v))}}}var D=b;b=M,M=D,b.length=0,v=-v}var N=function u(c,w,d){for(var o=0,v=0;v<c.length;++v)w[v]===d&&(c[o++]=c[v]);return c.length=o,c}(x,E,w);return d?N.concat(o.boundary):N},s.prototype.locate=(c=[0,0,0],function(w,d,o){var v=w,M=d,b=o;return d<o?d<w&&(v=d,M=o,b=w):o<w&&(v=o,M=w,b=d),v<0?-1:(c[0]=v,c[1]=M,c[2]=b,e.eq(this.cells,c,h))})},9971:function(l,m,r){"use strict";var e=r(5070),s=r(417)[3];function u(E,x,S,T,n){this.a=E,this.b=x,this.idx=S,this.lowerIds=T,this.upperIds=n}function g(E,x,S,T){this.a=E,this.b=x,this.type=S,this.idx=T}function c(E,x){var S=E.a[0]-x.a[0]||E.a[1]-x.a[1]||E.type-x.type;return S||0!==E.type&&(S=s(E.a,E.b,x.b))?S:E.idx-x.idx}function w(E,x){return s(E.a,E.b,x)}function d(E,x,S,T,n){for(var C=e.lt(x,T,w),p=e.gt(x,T,w),F=C;F<p;++F){for(var D=x[F],N=D.lowerIds,z=N.length;z>1&&s(S[N[z-2]],S[N[z-1]],T)>0;)E.push([N[z-1],N[z-2],n]),z-=1;N.length=z,N.push(n);var k=D.upperIds;for(z=k.length;z>1&&s(S[k[z-2]],S[k[z-1]],T)<0;)E.push([k[z-2],k[z-1],n]),z-=1;k.length=z,k.push(n)}}function o(E,x){return(E.a[0]<x.a[0]?s(E.a,E.b,x.a):s(x.b,x.a,E.a))||(x.b[0]<E.b[0]?s(E.a,E.b,x.b):s(x.b,x.a,E.b))||E.idx-x.idx}function v(E,x,S){var T=e.le(E,S,o),n=E[T],C=n.upperIds,p=C[C.length-1];n.upperIds=[p],E.splice(T+1,0,new u(S.a,S.b,S.idx,[p],C))}function M(E,x,S){var T=S.a;S.a=S.b,S.b=T;var n=e.eq(E,S,o);E[n-1].upperIds=E[n].upperIds,E.splice(n,1)}l.exports=function b(E,x){for(var S=E.length,T=x.length,n=[],C=0;C<S;++C)n.push(new g(E[C],null,0,C));for(C=0;C<T;++C){var p=x[C],F=E[p[0]],D=E[p[1]];F[0]<D[0]?n.push(new g(F,D,2,C),new g(D,F,1,C)):F[0]>D[0]&&n.push(new g(D,F,2,C),new g(F,D,1,C))}n.sort(c);for(var N=n[0].a[0]-(1+Math.abs(n[0].a[0]))*Math.pow(2,-52),k=[new u([N,1],[N,0],-1,[],[],[],[])],z=[],B=(C=0,n.length);C<B;++C){var O=n[C],U=O.type;0===U?d(z,k,E,O.a,O.idx):2===U?v(k,0,O):M(k,0,O)}return z}},743:function(l,m,r){"use strict";var e=r(5070);function s(u,g){this.stars=u,this.edges=g}l.exports=function f(u,g){for(var c=new Array(u),w=0;w<u;++w)c[w]=[];return new s(c,g)};var a=s.prototype;function h(u,g,c){for(var w=1,d=u.length;w<d;w+=2)if(u[w-1]===g&&u[w]===c)return u[w-1]=u[d-2],u[w]=u[d-1],void(u.length=d-2)}a.isConstraint=function(){var u=[0,0];function g(c,w){return c[0]-w[0]||c[1]-w[1]}return function(c,w){return u[0]=Math.min(c,w),u[1]=Math.max(c,w),e.eq(this.edges,u,g)>=0}}(),a.removeTriangle=function(u,g,c){var w=this.stars;h(w[u],g,c),h(w[g],c,u),h(w[c],u,g)},a.addTriangle=function(u,g,c){var w=this.stars;w[u].push(g,c),w[g].push(c,u),w[c].push(u,g)},a.opposite=function(u,g){for(var c=this.stars[g],w=1,d=c.length;w<d;w+=2)if(c[w]===u)return c[w-1];return-1},a.flip=function(u,g){var c=this.opposite(u,g),w=this.opposite(g,u);this.removeTriangle(u,g,c),this.removeTriangle(g,u,w),this.addTriangle(u,w,c),this.addTriangle(g,c,w)},a.edges=function(){for(var u=this.stars,g=[],c=0,w=u.length;c<w;++c)for(var d=u[c],o=0,v=d.length;o<v;o+=2)g.push([d[o],d[o+1]]);return g},a.cells=function(){for(var u=this.stars,g=[],c=0,w=u.length;c<w;++c)for(var d=u[c],o=0,v=d.length;o<v;o+=2){var M=d[o],b=d[o+1];c<Math.min(M,b)&&g.push([c,M,b])}return g}},9887:function(l){"use strict";l.exports=function m(r){for(var e=1,s=1;s<r.length;++s)for(var a=0;a<s;++a)if(r[s]<r[a])e=-e;else if(r[a]===r[s])return 0;return e}},9243:function(l,m,r){"use strict";var e=r(3094),s=r(6606);function a(u,g){for(var c=0,w=u.length,d=0;d<w;++d)c+=u[d]*g[d];return c}function h(u){var g=u.length;if(0===g)return[];var w=e([u.length+1,u.length+1],1),d=e([u.length+1],1);w[g][g]=0;for(var o=0;o<g;++o){for(var v=0;v<=o;++v)w[v][o]=w[o][v]=2*a(u[o],u[v]);d[o]=a(u[o],u[o])}var M=s(w,d),b=0,E=M[g+1];for(o=0;o<E.length;++o)b+=E[o];var x=new Array(g);for(o=0;o<g;++o){E=M[o];var S=0;for(v=0;v<E.length;++v)S+=E[v];x[o]=S/b}return x}function f(u){if(0===u.length)return[];for(var g=u[0].length,c=e([g]),w=h(u),d=0;d<u.length;++d)for(var o=0;o<g;++o)c[o]+=u[d][o]*w[d];return c}f.barycenetric=h,l.exports=f},1778:function(l,m,r){l.exports=function s(a){for(var h=e(a),f=0,u=0;u<a.length;++u)for(var g=a[u],c=0;c<h.length;++c)f+=Math.pow(g[c]-h[c],2);return Math.sqrt(f/a.length)};var e=r(9243)},197:function(l,m,r){"use strict";l.exports=function F(D,N,k){var z;if(k){z=N;for(var B=new Array(N.length),O=0;O<N.length;++O)B[O]=[(U=N[O])[0],U[1],k[O]];N=B}for(var G=function C(D,N,k){var z=x(D,[],v(D));return n(N,z,k),!!z}(D,N,!!k);p(D,N,!!k);)G=!0;if(k&&G)for(z.length=0,k.length=0,O=0;O<N.length;++O){var U;z.push([(U=N[O])[0],U[1]]),k.push(U[2])}return G};var e=r(1731),s=r(2569),a=r(4434),h=r(5125),f=r(8846),u=r(7999),g=r(2826),c=r(8551),w=r(5528);function d(D){var N=u(D);return[c(N,-1/0),c(N,1/0)]}function v(D){for(var N=new Array(D.length),k=0;k<D.length;++k){var z=D[k];N[k]=[c(z[0],-1/0),c(z[1],-1/0),c(z[0],1/0),c(z[1],1/0)]}return N}function x(D,N,k){for(var z=N.length,B=new e(z),O=[],U=0;U<N.length;++U){var G=N[U],J=d(G[0]),et=d(G[1]);O.push([c(J[0],-1/0),c(et[0],-1/0),c(J[1],1/0),c(et[1],1/0)])}s(O,function(rt,H){B.link(rt,H)});var at=!0,lt=new Array(z);for(U=0;U<z;++U)(K=B.find(U))!==U&&(at=!1,D[K]=[Math.min(D[U][0],D[K][0]),Math.min(D[U][1],D[K][1])]);if(at)return null;var j=0;for(U=0;U<z;++U){var K;(K=B.find(U))===U?(lt[U]=j,D[j++]=D[U]):lt[U]=-1}for(D.length=j,U=0;U<z;++U)lt[U]<0&&(lt[U]=lt[B.find(U)]);return lt}function S(D,N){return D[0]-N[0]||D[1]-N[1]}function T(D,N){return D[0]-N[0]||D[1]-N[1]||(D[2]<N[2]?-1:D[2]>N[2]?1:0)}function n(D,N,k){if(0!==D.length){if(N)for(var z=0;z<D.length;++z){var O=N[(B=D[z])[0]],U=N[B[1]];B[0]=Math.min(O,U),B[1]=Math.max(O,U)}else for(z=0;z<D.length;++z){var B;O=(B=D[z])[0],U=B[1],B[0]=Math.min(O,U),B[1]=Math.max(O,U)}D.sort(k?T:S);var G=1;for(z=1;z<D.length;++z){var J=D[z-1],et=D[z];et[0]===J[0]&&et[1]===J[1]&&(!k||et[2]===J[2])||(D[G++]=et)}D.length=G}}function p(D,N,k){var z=function o(D,N){for(var k=new Array(N.length),z=0;z<N.length;++z){var B=N[z],O=D[B[0]],U=D[B[1]];k[z]=[c(Math.min(O[0],U[0]),-1/0),c(Math.min(O[1],U[1]),-1/0),c(Math.max(O[0],U[0]),1/0),c(Math.max(O[1],U[1]),1/0)]}return k}(D,N),B=function M(D,N,k){var z=[];return s(k,function(B,O){var U=N[B],G=N[O];U[0]!==G[0]&&U[0]!==G[1]&&U[1]!==G[0]&&U[1]!==G[1]&&a(D[U[0]],D[U[1]],D[G[0]],D[G[1]])&&z.push([B,O])}),z}(D,N,z),O=v(D),U=function b(D,N,k,z){var B=[];return s(k,z,function(O,U){var G=N[O];if(G[0]!==U&&G[1]!==U){var J=D[U];a(D[G[0]],D[G[1]],J,J)&&B.push([O,U])}}),B}(D,N,z,O),J=x(D,function E(D,N,k,z,B){var O,U,G=D.map(function(xt){return[h(xt[0]),h(xt[1])]});for(O=0;O<k.length;++O){var J=k[O],et=J[1],at=N[U=J[0]],lt=N[et],K=w(g(D[at[0]]),g(D[at[1]]),g(D[lt[0]]),g(D[lt[1]]));if(K){var j=D.length;D.push([u(K[0]),u(K[1])]),G.push(K),z.push([U,j],[et,j])}}for(z.sort(function(xt,yt){if(xt[0]!==yt[0])return xt[0]-yt[0];var St=G[xt[1]],Et=G[yt[1]];return f(St[0],Et[0])||f(St[1],Et[1])}),O=z.length-1;O>=0;--O){var H=N[U=(rt=z[O])[0]],Z=H[0],it=H[1],Q=D[Z],Y=D[it];if((Q[0]-Y[0]||Q[1]-Y[1])<0){var nt=Z;Z=it,it=nt}H[0]=Z;var st,_=H[1]=rt[1];for(B&&(st=H[2]);O>0&&z[O-1][0]===U;){var rt,dt=(rt=z[--O])[1];N.push(B?[_,dt,st]:[_,dt]),_=dt}N.push(B?[_,it,st]:[_,it])}return G}(D,N,B,U,k));return n(N,J,k),!!J||B.length>0||U.length>0}},5528:function(l,m,r){"use strict";l.exports=function w(d,o,v,M){var b=f(o,d),E=f(M,v),x=c(b,E);if(0===h(x))return null;var T=c(E,f(d,v)),n=s(T,x),C=g(b,n);return u(d,C)};var e=r(3962),s=r(9189),a=r(4354),h=r(4951),f=r(6695),u=r(7584),g=r(4469);function c(d,o){return a(e(d[0],o[1]),e(d[1],o[0]))}},5692:function(l){l.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(l,m,r){"use strict";var e=r(5692),s=r(3578);function h(g){return[g[0]/255,g[1]/255,g[2]/255,g[3]]}function f(g){for(var c,w="#",d=0;d<3;++d)w+=("00"+(c=(c=g[d]).toString(16))).substr(c.length);return w}function u(g){return"rgba("+g.join(",")+")"}l.exports=function a(g){var c,w,d,o,v,M,b,E,x,S;if(g||(g={}),E=(g.nshades||72)-1,b=g.format||"hex",(M=g.colormap)||(M="jet"),"string"==typeof M){if(M=M.toLowerCase(),!e[M])throw Error(M+" not a supported colorscale");v=e[M]}else{if(!Array.isArray(M))throw Error("unsupported colormap option",M);v=M.slice()}if(v.length>E+1)throw new Error(M+" map requires nshades to be at least size "+v.length);x=Array.isArray(g.alpha)?2!==g.alpha.length?[1,1]:g.alpha.slice():"number"==typeof g.alpha?[g.alpha,g.alpha]:[1,1],c=v.map(function(F){return Math.round(F.index*E)}),x[0]=Math.min(Math.max(x[0],0),1),x[1]=Math.min(Math.max(x[1],0),1);var T=v.map(function(F,D){var N=v[D].index,k=v[D].rgb.slice();return 4===k.length&&k[3]>=0&&k[3]<=1||(k[3]=x[0]+(x[1]-x[0])*N),k}),n=[];for(S=0;S<c.length-1;++S){o=c[S+1]-c[S],w=T[S],d=T[S+1];for(var C=0;C<o;C++){var p=C/o;n.push([Math.round(s(w[0],d[0],p)),Math.round(s(w[1],d[1],p)),Math.round(s(w[2],d[2],p)),s(w[3],d[3],p)])}}return n.push(v[v.length-1].rgb.concat(x[1])),"hex"===b?n=n.map(f):"rgbaString"===b?n=n.map(u):"float"===b&&(n=n.map(h)),n}},9398:function(l,m,r){"use strict";l.exports=function g(c,w,d,o){var v=e(w,d,o);if(0===v){var M=s(e(c,w,d)),b=s(e(c,w,o));if(M===b){if(0===M){var E=u(c,w,d);return E===u(c,w,o)?0:E?1:-1}return 0}return 0===b?M>0||u(c,w,o)?-1:1:0===M?b>0||u(c,w,d)?1:-1:s(b-M)}var S=e(c,w,d);return S>0?v>0&&e(c,w,o)>0?1:-1:S<0?v>0||e(c,w,o)>0?1:-1:e(c,w,o)>0||u(c,w,d)?1:-1};var e=r(417),s=r(7538),a=r(87),h=r(2019),f=r(9662);function u(c,w,d){var o=a(c[0],-w[0]),v=a(c[1],-w[1]),M=a(d[0],-w[0]),b=a(d[1],-w[1]),E=f(h(o,M),h(v,b));return E[E.length-1]>=0}},7538:function(l){"use strict";l.exports=function(r){return r<0?-1:r>0?1:0}},9209:function(l){l.exports=function e(s,a){var h=s.length,f=s.length-a.length;if(f)return f;switch(h){case 0:return 0;case 1:return s[0]-a[0];case 2:return s[0]+s[1]-a[0]-a[1]||m(s[0],s[1])-m(a[0],a[1]);case 3:var u=s[0]+s[1],g=a[0]+a[1];if(f=u+s[2]-(g+a[2]))return f;var c=m(s[0],s[1]),w=m(a[0],a[1]);return m(c,s[2])-m(w,a[2])||m(c+s[2],u)-m(w+a[2],g);case 4:var d=s[0],o=s[1],v=s[2],M=s[3],b=a[0],E=a[1],x=a[2],S=a[3];return d+o+v+M-(b+E+x+S)||m(d,o,v,M)-m(b,E,x,S,b)||m(d+o,d+v,d+M,o+v,o+M,v+M)-m(b+E,b+x,b+S,E+x,E+S,x+S)||m(d+o+v,d+o+M,d+v+M,o+v+M)-m(b+E+x,b+E+S,b+x+S,E+x+S);default:for(var T=s.slice().sort(r),n=a.slice().sort(r),C=0;C<h;++C)if(f=T[C]-n[C])return f;return 0}};var m=Math.min;function r(s,a){return s-a}},1284:function(l,m,r){"use strict";var e=r(9209),s=r(9887);l.exports=function a(h,f){return e(h,f)||s(h)-s(f)}},5537:function(l,m,r){"use strict";var e=r(8950),s=r(8722),a=r(3332);l.exports=function h(f){var u=f.length;if(0===u)return[];if(1===u)return[[0]];var g=f[0].length;return 0===g?[]:1===g?e(f):2===g?s(f):a(f,g)}},8950:function(l){"use strict";l.exports=function m(r){for(var e=0,s=0,a=1;a<r.length;++a)r[a][0]<r[e][0]&&(e=a),r[a][0]>r[s][0]&&(s=a);return e<s?[[e],[s]]:e>s?[[s],[e]]:[[e]]}},8722:function(l,m,r){"use strict";l.exports=function s(a){var h=e(a),f=h.length;if(f<=2)return[];for(var u=new Array(f),g=h[f-1],c=0;c<f;++c){var w=h[c];u[c]=[g,w],g=w}return u};var e=r(3266)},3332:function(l,m,r){"use strict";l.exports=function f(u,g){try{return e(u,!0)}catch(o){var c=s(u);if(c.length<=g)return[];var w=function a(u,g){for(var c=u.length,w=new Array(c),d=0;d<g.length;++d)w[d]=u[g[d]];var o=g.length;for(d=0;d<c;++d)g.indexOf(d)<0&&(w[o++]=u[d]);return w}(u,c);return function h(u,g){for(var c=u.length,w=g.length,d=0;d<c;++d)for(var o=u[d],v=0;v<o.length;++v){var M=o[v];if(M<w)o[v]=g[M];else{M-=w;for(var b=0;b<w;++b)M>=g[b]&&(M+=1);o[v]=M}}return u}(e(w,!0),c)}};var e=r(2183),s=r(2153)},9680:function(l){"use strict";l.exports=function r(e,s,a,h,f,u){var g=f-1,c=f*f,w=g*g,d=(1+2*f)*w,o=f*w,v=c*(3-2*f),M=c*g;if(e.length){u||(u=new Array(e.length));for(var b=e.length-1;b>=0;--b)u[b]=d*e[b]+o*s[b]+v*a[b]+M*h[b];return u}return d*e+o*s+v*a+M*h},l.exports.derivative=function m(e,s,a,h,f,u){var g=6*f*f-6*f,c=3*f*f-4*f+1,w=-6*f*f+6*f,d=3*f*f-2*f;if(e.length){u||(u=new Array(e.length));for(var o=e.length-1;o>=0;--o)u[o]=g*e[o]+c*s[o]+w*a[o]+d*h[o];return u}return g*e+c*s+w*a[o]+d*h}},4419:function(l,m,r){"use strict";var e=r(2183),s=r(1215);function a(g,c){this.point=g,this.index=c}function h(g,c){for(var w=g.point,d=c.point,o=w.length,v=0;v<o;++v){var M=d[v]-w[v];if(M)return M}return 0}l.exports=function u(g,c){var w=g.length;if(0===w)return[];var d=g[0].length;if(d<1)return[];if(1===d)return function f(g,c,w){if(1===g)return w?[[-1,0]]:[];var d=c.map(function(E,x){return[E[0],x]});d.sort(function(E,x){return E[0]-x[0]});for(var o=new Array(g-1),v=1;v<g;++v)o[v-1]=[d[v-1][1],d[v][1]];return w&&o.push([-1,o[0][1]],[o[g-1][1],-1]),o}(w,g,c);for(var o=new Array(w),v=1,M=0;M<w;++M){for(var b=g[M],E=new Array(d+1),x=0,S=0;S<d;++S){var T=b[S];E[S]=T,x+=T*T}E[d]=x,o[M]=new a(E,M),v=Math.max(x,v)}s(o,h),w=o.length;var n=new Array(w+d+1),C=new Array(w+d+1),p=(d+1)*(d+1)*v,F=new Array(d+1);for(M=0;M<=d;++M)F[M]=0;for(F[d]=p,n[0]=F.slice(),C[0]=-1,M=0;M<=d;++M)(E=F.slice())[M]=1,n[M+1]=E,C[M+1]=-1;for(M=0;M<w;++M)n[M+d+1]=(D=o[M]).point,C[M+d+1]=D.index;var N=e(n,!1);if(N=N.filter(c?function(k){for(var z=0,B=0;B<=d;++B){var O=C[k[B]];if(O<0&&++z>=2)return!1;k[B]=O}return!0}:function(k){for(var z=0;z<=d;++z){var B=C[k[z]];if(B<0)return!1;k[z]=B}return!0}),1&d)for(M=0;M<N.length;++M){var D;E=(D=N[M])[0],D[0]=D[1],D[1]=E}return N}},8362:function(l){var m=!1;if("undefined"!=typeof Float64Array){var r=new Float64Array(1),e=new Uint32Array(r.buffer);if(r[0]=1,m=!0,1072693248===e[1]){let v=function(E,x){return e[0]=E,e[1]=x,r[0]},M=function(E){return r[0]=E,e[0]},b=function(E){return r[0]=E,e[1]};l.exports=function(x){return r[0]=x,[e[0],e[1]]},l.exports.pack=v,l.exports.lo=M,l.exports.hi=b}else if(1072693248===e[0]){let v=function(E,x){return e[1]=E,e[0]=x,r[0]},M=function(E){return r[0]=E,e[1]},b=function(E){return r[0]=E,e[0]};l.exports=function(x){return r[0]=x,[e[1],e[0]]},l.exports.pack=v,l.exports.lo=M,l.exports.hi=b}else m=!1}if(!m){let v=function(E,x){return s.writeUInt32LE(E,0,!0),s.writeUInt32LE(x,4,!0),s.readDoubleLE(0,!0)},M=function(E){return s.writeDoubleLE(E,0,!0),s.readUInt32LE(0,!0)},b=function(E){return s.writeDoubleLE(E,0,!0),s.readUInt32LE(4,!0)};var s=new Buffer(8);l.exports=function(x){return s.writeDoubleLE(x,0,!0),[s.readUInt32LE(0,!0),s.readUInt32LE(4,!0)]},l.exports.pack=v,l.exports.lo=M,l.exports.hi=b}l.exports.sign=function(v){return l.exports.hi(v)>>>31},l.exports.exponent=function(v){return(l.exports.hi(v)<<1>>>21)-1023},l.exports.fraction=function(v){var M=l.exports.lo(v),b=l.exports.hi(v),E=1048575&b;return 2146435072&b&&(E+=1048576),[M,E]},l.exports.denormalized=function(v){return!(2146435072&l.exports.hi(v))}},3094:function(l){"use strict";function m(s,a,h){var f=0|s[h];if(f<=0)return[];var g,u=new Array(f);if(h===s.length-1)for(g=0;g<f;++g)u[g]=a;else for(g=0;g<f;++g)u[g]=m(s,a,h+1);return u}l.exports=function e(s,a){switch(void 0===a&&(a=0),typeof s){case"number":if(s>0)return function r(s,a){var h,f;for(h=new Array(s),f=0;f<s;++f)h[f]=a;return h}(0|s,a);break;case"object":if("number"==typeof s.length)return m(s,a,0)}return[]}},8348:function(l,m,r){"use strict";l.exports=function s(a,h){var f=a.length;if("number"!=typeof h){h=0;for(var u=0;u<f;++u){var g=a[u];h=Math.max(h,g[0],g[1])}h=1+(0|h)}h|=0;var c=new Array(h);for(u=0;u<h;++u)c[u]=[];for(u=0;u<f;++u)c[(g=a[u])[0]].push(g[1]),c[g[1]].push(g[0]);for(var w=0;w<h;++w)e(c[w],function(d,o){return d-o});return c};var e=r(1215)},5795:function(l){"use strict";l.exports=function m(r,e,s){var a=e||0,h=s||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[a*r[12]+r[8],a*r[13]+r[9],a*r[14]+r[10],a*r[15]+r[11]],[h*r[12]-r[8],h*r[13]-r[9],h*r[14]-r[10],h*r[15]-r[11]]]}},8444:function(l,m,r){"use strict";l.exports=function g(c,w,d){switch(arguments.length){case 0:return new h([0],[0],0);case 1:return"number"==typeof c?new h(o=u(c),o,0):new h(c,u(c.length),0);case 2:var o;if("number"==typeof w)return new h(c,o=u(c.length),+w);d=0;case 3:if(c.length!==w.length)throw new Error("state and velocity lengths must match");return new h(c,w,d)}};var e=r(9680),s=r(5070);function a(c,w,d){return Math.min(w,Math.max(c,d))}function h(c,w,d){this.dimension=c.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=c.slice().reverse(),this._velocity=w.slice().reverse(),this._time=[d],this._scratch=[c.slice(),c.slice(),c.slice(),c.slice(),c.slice()]}var f=h.prototype;function u(c){for(var w=new Array(c),d=0;d<c;++d)w[d]=0;return w}f.flush=function(c){var w=s.gt(this._time,c)-1;w<=0||(this._time.splice(0,w),this._state.splice(0,w*this.dimension),this._velocity.splice(0,w*this.dimension))},f.curve=function(c){var w=this._time,d=w.length,o=s.le(w,c),v=this._scratch[0],M=this._state,b=this._velocity,E=this.dimension,x=this.bounds;if(o<0)for(var S=E-1,T=0;T<E;++T,--S)v[T]=M[S];else if(o>=d-1){S=M.length-1;var n=c-w[d-1];for(T=0;T<E;++T,--S)v[T]=M[S]+n*b[S]}else{S=E*(o+1)-1;var C=w[o],F=w[o+1]-C||1,D=this._scratch[1],N=this._scratch[2],k=this._scratch[3],z=this._scratch[4],B=!0;for(T=0;T<E;++T,--S)D[T]=M[S],k[T]=b[S]*F,N[T]=M[S+E],z[T]=b[S+E]*F,B=B&&D[T]===N[T]&&k[T]===z[T]&&0===k[T];if(B)for(T=0;T<E;++T)v[T]=D[T];else e(D,k,N,z,(c-C)/F,v)}var O=x[0],U=x[1];for(T=0;T<E;++T)v[T]=a(O[T],U[T],v[T]);return v},f.dcurve=function(c){var w=this._time,d=w.length,o=s.le(w,c),v=this._scratch[0],M=this._state,b=this._velocity,E=this.dimension;if(o>=d-1)for(var x=M.length-1,T=0;T<E;++T,--x)v[T]=b[x];else{x=E*(o+1)-1;var n=w[o],p=w[o+1]-n||1,F=this._scratch[1],D=this._scratch[2],N=this._scratch[3],k=this._scratch[4],z=!0;for(T=0;T<E;++T,--x)F[T]=M[x],N[T]=b[x]*p,D[T]=M[x+E],k[T]=b[x+E]*p,z=z&&F[T]===D[T]&&N[T]===k[T]&&0===N[T];if(z)for(T=0;T<E;++T)v[T]=0;else for(e.derivative(F,N,D,k,(c-n)/p,v),T=0;T<E;++T)v[T]/=p}return v},f.lastT=function(){var c=this._time;return c[c.length-1]},f.stable=function(){for(var c=this._velocity,w=c.length,d=this.dimension-1;d>=0;--d)if(c[--w])return!1;return!0},f.jump=function(c){var w=this.lastT(),d=this.dimension;if(!(c<w||arguments.length!==d+1)){var o=this._state,v=this._velocity,M=o.length-this.dimension,b=this.bounds,E=b[0],x=b[1];this._time.push(w,c);for(var S=0;S<2;++S)for(var T=0;T<d;++T)o.push(o[M++]),v.push(0);for(this._time.push(c),T=d;T>0;--T)o.push(a(E[T-1],x[T-1],arguments[T])),v.push(0)}},f.push=function(c){var w=this.lastT(),d=this.dimension;if(!(c<w||arguments.length!==d+1)){var o=this._state,v=this._velocity,M=o.length-this.dimension,b=c-w,E=this.bounds,x=E[0],S=E[1],T=b>1e-6?1/b:0;this._time.push(c);for(var n=d;n>0;--n){var C=a(x[n-1],S[n-1],arguments[n]);o.push(C),v.push((C-o[M++])*T)}}},f.set=function(c){var w=this.dimension;if(!(c<this.lastT()||arguments.length!==w+1)){var d=this._state,o=this._velocity,v=this.bounds,M=v[0],b=v[1];this._time.push(c);for(var E=w;E>0;--E)d.push(a(M[E-1],b[E-1],arguments[E])),o.push(0)}},f.move=function(c){var w=this.lastT(),d=this.dimension;if(!(c<=w||arguments.length!==d+1)){var o=this._state,v=this._velocity,M=o.length-this.dimension,b=this.bounds,E=b[0],x=b[1],S=c-w,T=S>1e-6?1/S:0;this._time.push(c);for(var n=d;n>0;--n){var C=arguments[n];o.push(a(E[n-1],x[n-1],o[M++]+C)),v.push(C*T)}}},f.idle=function(c){var w=this.lastT();if(!(c<w)){var d=this.dimension,o=this._state,v=this._velocity,M=o.length-d,b=this.bounds,E=b[0],x=b[1],S=c-w;this._time.push(c);for(var T=d-1;T>=0;--T)o.push(a(E[T],x[T],o[M]+S*v[M])),v.push(0),M+=1}}},7080:function(l){"use strict";l.exports=function E(x){return new f(x||b,null)};function e(x,S,T,n,C,p){this._color=x,this.key=S,this.value=T,this.left=n,this.right=C,this._count=p}function s(x){return new e(x._color,x.key,x.value,x.left,x.right,x._count)}function a(x,S){return new e(x,S.key,S.value,S.left,S.right,S._count)}function h(x){x._count=1+(x.left?x.left._count:0)+(x.right?x.right._count:0)}function f(x,S){this._compare=x,this.root=S}var u=f.prototype;function g(x,S){var T;return S.left&&(T=g(x,S.left))?T:(T=x(S.key,S.value))||(S.right?g(x,S.right):void 0)}function c(x,S,T,n){if(S(x,n.key)<=0){var p;if(n.left&&(p=c(x,S,T,n.left)))return p;if(p=T(n.key,n.value))return p}if(n.right)return c(x,S,T,n.right)}function w(x,S,T,n,C){var D,p=T(x,C.key),F=T(S,C.key);return p<=0&&(C.left&&(D=w(x,S,T,n,C.left))||F>0&&(D=n(C.key,C.value)))?D:F>0&&C.right?w(x,S,T,n,C.right):void 0}function d(x,S){this.tree=x,this._stack=S}Object.defineProperty(u,"keys",{get:function(){var x=[];return this.forEach(function(S,T){x.push(S)}),x}}),Object.defineProperty(u,"values",{get:function(){var x=[];return this.forEach(function(S,T){x.push(T)}),x}}),Object.defineProperty(u,"length",{get:function(){return this.root?this.root._count:0}}),u.insert=function(x,S){for(var T=this._compare,n=this.root,C=[],p=[];n;){var F=T(x,n.key);C.push(n),p.push(F),n=F<=0?n.left:n.right}C.push(new e(0,x,S,null,null,1));for(var D=C.length-2;D>=0;--D)n=C[D],C[D]=p[D]<=0?new e(n._color,n.key,n.value,C[D+1],n.right,n._count+1):new e(n._color,n.key,n.value,n.left,C[D+1],n._count+1);for(D=C.length-1;D>1;--D){var N=C[D-1];if(n=C[D],1===N._color||1===n._color)break;var k=C[D-2];if(k.left===N)if(N.left===n){if(!(z=k.right)||0!==z._color){k._color=0,k.left=N.right,N._color=1,N.right=k,C[D-2]=N,C[D-1]=n,h(k),h(N),D>=3&&((B=C[D-3]).left===k?B.left=N:B.right=N);break}N._color=1,k.right=a(1,z),k._color=0,D-=1}else{if(!(z=k.right)||0!==z._color){N.right=n.left,k._color=0,k.left=n.right,n._color=1,n.left=N,n.right=k,C[D-2]=n,C[D-1]=N,h(k),h(N),h(n),D>=3&&((B=C[D-3]).left===k?B.left=n:B.right=n);break}N._color=1,k.right=a(1,z),k._color=0,D-=1}else if(N.right===n){if(!(z=k.left)||0!==z._color){k._color=0,k.right=N.left,N._color=1,N.left=k,C[D-2]=N,C[D-1]=n,h(k),h(N),D>=3&&((B=C[D-3]).right===k?B.right=N:B.left=N);break}N._color=1,k.left=a(1,z),k._color=0,D-=1}else{var z;if(!(z=k.left)||0!==z._color){var B;N.left=n.right,k._color=0,k.right=n.left,n._color=1,n.right=N,n.left=k,C[D-2]=n,C[D-1]=N,h(k),h(N),h(n),D>=3&&((B=C[D-3]).right===k?B.right=n:B.left=n);break}N._color=1,k.left=a(1,z),k._color=0,D-=1}}return C[0]._color=1,new f(T,C[0])},u.forEach=function(S,T,n){if(this.root)switch(arguments.length){case 1:return g(S,this.root);case 2:return c(T,this._compare,S,this.root);case 3:return this._compare(T,n)>=0?void 0:w(T,n,this._compare,S,this.root)}},Object.defineProperty(u,"begin",{get:function(){for(var x=[],S=this.root;S;)x.push(S),S=S.left;return new d(this,x)}}),Object.defineProperty(u,"end",{get:function(){for(var x=[],S=this.root;S;)x.push(S),S=S.right;return new d(this,x)}}),u.at=function(x){if(x<0)return new d(this,[]);for(var S=this.root,T=[];;){if(T.push(S),S.left){if(x<S.left._count){S=S.left;continue}x-=S.left._count}if(!x)return new d(this,T);if(x-=1,!S.right)break;if(x>=S.right._count)break;S=S.right}return new d(this,[])},u.ge=function(x){for(var S=this._compare,T=this.root,n=[],C=0;T;){var p=S(x,T.key);n.push(T),p<=0&&(C=n.length),T=p<=0?T.left:T.right}return n.length=C,new d(this,n)},u.gt=function(x){for(var S=this._compare,T=this.root,n=[],C=0;T;){var p=S(x,T.key);n.push(T),p<0&&(C=n.length),T=p<0?T.left:T.right}return n.length=C,new d(this,n)},u.lt=function(x){for(var S=this._compare,T=this.root,n=[],C=0;T;){var p=S(x,T.key);n.push(T),p>0&&(C=n.length),T=p<=0?T.left:T.right}return n.length=C,new d(this,n)},u.le=function(x){for(var S=this._compare,T=this.root,n=[],C=0;T;){var p=S(x,T.key);n.push(T),p>=0&&(C=n.length),T=p<0?T.left:T.right}return n.length=C,new d(this,n)},u.find=function(x){for(var S=this._compare,T=this.root,n=[];T;){var C=S(x,T.key);if(n.push(T),0===C)return new d(this,n);T=C<=0?T.left:T.right}return new d(this,[])},u.remove=function(x){var S=this.find(x);return S?S.remove():this},u.get=function(x){for(var S=this._compare,T=this.root;T;){var n=S(x,T.key);if(0===n)return T.value;T=n<=0?T.left:T.right}};var o=d.prototype;function v(x,S){x.key=S.key,x.value=S.value,x.left=S.left,x.right=S.right,x._color=S._color,x._count=S._count}function b(x,S){return x<S?-1:x>S?1:0}Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new d(this.tree,this._stack.slice())},o.remove=function(){var x=this._stack;if(0===x.length)return this.tree;var S=new Array(x.length);S[S.length-1]=new e((T=x[x.length-1])._color,T.key,T.value,T.left,T.right,T._count);for(var n=x.length-2;n>=0;--n){var T;S[n]=(T=x[n]).left===x[n+1]?new e(T._color,T.key,T.value,S[n+1],T.right,T._count):new e(T._color,T.key,T.value,T.left,S[n+1],T._count)}if((T=S[S.length-1]).left&&T.right){var C=S.length;for(T=T.left;T.right;)S.push(T),T=T.right;var p=S[C-1];for(S.push(new e(T._color,p.key,p.value,T.left,T.right,T._count)),S[C-1].key=T.key,S[C-1].value=T.value,n=S.length-2;n>=C;--n)S[n]=new e((T=S[n])._color,T.key,T.value,T.left,S[n+1],T._count);S[C-1].left=S[C]}if(0===(T=S[S.length-1])._color){var F=S[S.length-2];for(F.left===T?F.left=null:F.right===T&&(F.right=null),S.pop(),n=0;n<S.length;++n)S[n]._count--;return new f(this.tree._compare,S[0])}if(T.left||T.right){for(T.left?v(T,T.left):T.right&&v(T,T.right),T._color=1,n=0;n<S.length-1;++n)S[n]._count--;return new f(this.tree._compare,S[0])}if(1===S.length)return new f(this.tree._compare,null);for(n=0;n<S.length;++n)S[n]._count--;var D=S[S.length-2];return function M(x){for(var S,T,n,C,p=x.length-1;p>=0;--p){if(S=x[p],0===p)return void(S._color=1);if((T=x[p-1]).left===S){if((n=T.right).right&&0===n.right._color)return C=(n=T.right=s(n)).right=s(n.right),T.right=n.left,n.left=T,n.right=C,n._color=T._color,S._color=1,T._color=1,C._color=1,h(T),h(n),p>1&&((F=x[p-2]).left===T?F.left=n:F.right=n),void(x[p-1]=n);if(n.left&&0===n.left._color)return C=(n=T.right=s(n)).left=s(n.left),T.right=C.left,n.left=C.right,C.left=T,C.right=n,C._color=T._color,T._color=1,n._color=1,S._color=1,h(T),h(n),h(C),p>1&&((F=x[p-2]).left===T?F.left=C:F.right=C),void(x[p-1]=C);if(1===n._color){if(0===T._color)return T._color=1,void(T.right=a(0,n));T.right=a(0,n);continue}n=s(n),T.right=n.left,n.left=T,n._color=T._color,T._color=0,h(T),h(n),p>1&&((F=x[p-2]).left===T?F.left=n:F.right=n),x[p-1]=n,x[p]=T,p+1<x.length?x[p+1]=S:x.push(S),p+=2}else{if((n=T.left).left&&0===n.left._color)return C=(n=T.left=s(n)).left=s(n.left),T.left=n.right,n.right=T,n.left=C,n._color=T._color,S._color=1,T._color=1,C._color=1,h(T),h(n),p>1&&((F=x[p-2]).right===T?F.right=n:F.left=n),void(x[p-1]=n);if(n.right&&0===n.right._color)return C=(n=T.left=s(n)).right=s(n.right),T.left=C.right,n.right=C.left,C.right=T,C.left=n,C._color=T._color,T._color=1,n._color=1,S._color=1,h(T),h(n),h(C),p>1&&((F=x[p-2]).right===T?F.right=C:F.left=C),void(x[p-1]=C);if(1===n._color){if(0===T._color)return T._color=1,void(T.left=a(0,n));T.left=a(0,n);continue}var F;n=s(n),T.left=n.right,n.right=T,n._color=T._color,T._color=0,h(T),h(n),p>1&&((F=x[p-2]).right===T?F.right=n:F.left=n),x[p-1]=n,x[p]=T,p+1<x.length?x[p+1]=S:x.push(S),p+=2}}}(S),D.left===T?D.left=null:D.right=null,new f(this.tree._compare,S[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var x=0,S=this._stack;if(0===S.length){var T=this.tree.root;return T?T._count:0}S[S.length-1].left&&(x=S[S.length-1].left._count);for(var n=S.length-2;n>=0;--n)S[n+1]===S[n].right&&(++x,S[n].left&&(x+=S[n].left._count));return x},enumerable:!0}),o.next=function(){var x=this._stack;if(0!==x.length){var S=x[x.length-1];if(S.right)for(S=S.right;S;)x.push(S),S=S.left;else for(x.pop();x.length>0&&x[x.length-1].right===S;)S=x[x.length-1],x.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var x=this._stack;if(0===x.length)return!1;if(x[x.length-1].right)return!0;for(var S=x.length-1;S>0;--S)if(x[S-1].left===x[S])return!0;return!1}}),o.update=function(x){var S=this._stack;if(0===S.length)throw new Error("Can't update empty node!");var T=new Array(S.length),n=S[S.length-1];T[T.length-1]=new e(n._color,n.key,x,n.left,n.right,n._count);for(var C=S.length-2;C>=0;--C)T[C]=(n=S[C]).left===S[C+1]?new e(n._color,n.key,n.value,T[C+1],n.right,n._count):new e(n._color,n.key,n.value,n.left,T[C+1],n._count);return new f(this.tree._compare,T[0])},o.prev=function(){var x=this._stack;if(0!==x.length){var S=x[x.length-1];if(S.left)for(S=S.left;S;)x.push(S),S=S.right;else for(x.pop();x.length>0&&x[x.length-1].left===S;)S=x[x.length-1],x.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var x=this._stack;if(0===x.length)return!1;if(x[x.length-1].left)return!0;for(var S=x.length-1;S>0;--S)if(x[S-1].right===x[S])return!0;return!1}})},7453:function(l,m,r){"use strict";l.exports=function n(C,p){var F=new c(C);return F.update(p),F};var e=r(9557),s=r(1681),a=r(1011),h=r(2864),f=r(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function g(C,p){return C[0]=p[0],C[1]=p[1],C[2]=p[2],C}function c(C){this.gl=C,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=a(C)}var w=c.prototype;function d(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}w.update=function(C){function p(at,lt,K){if(K in C){var H,j=C[K],rt=this[K];this[K]=H=(at?Array.isArray(j)&&Array.isArray(j[0]):Array.isArray(j))?[lt(j[0]),lt(j[1]),lt(j[2])]:[lt(j),lt(j),lt(j)];for(var Z=0;Z<3;++Z)if(H[Z]!==rt[Z])return!0}return!1}C=C||{};var z,F=p.bind(this,!1,Number),D=p.bind(this,!1,Boolean),N=p.bind(this,!1,String),k=p.bind(this,!0,function(at){if(Array.isArray(at)){if(3===at.length)return[+at[0],+at[1],+at[2],1];if(4===at.length)return[+at[0],+at[1],+at[2],+at[3]]}return[0,0,0,1]}),B=!1,O=!1;if("bounds"in C)for(var U=C.bounds,G=0;G<2;++G)for(var J=0;J<3;++J)U[G][J]!==this.bounds[G][J]&&(O=!0),this.bounds[G][J]=U[G][J];if("ticks"in C)for(z=C.ticks,B=!0,this.autoTicks=!1,G=0;G<3;++G)this.tickSpacing[G]=0;else F("tickSpacing")&&(this.autoTicks=!0,O=!0);if(this._firstInit&&("ticks"in C||"tickSpacing"in C||(this.autoTicks=!0),O=!0,B=!0,this._firstInit=!1),O&&this.autoTicks&&(z=f.create(this.bounds,this.tickSpacing),B=!0),B){for(G=0;G<3;++G)z[G].sort(function(lt,K){return lt.x-K.x});f.equal(z,this.ticks)?B=!1:this.ticks=z}D("tickEnable"),N("tickFont")&&(B=!0),F("tickSize"),F("tickAngle"),F("tickPad"),k("tickColor");var et=N("labels");N("labelFont")&&(et=!0),D("labelEnable"),F("labelSize"),F("labelPad"),k("labelColor"),D("lineEnable"),D("lineMirror"),F("lineWidth"),k("lineColor"),D("lineTickEnable"),D("lineTickMirror"),F("lineTickLength"),F("lineTickWidth"),k("lineTickColor"),D("gridEnable"),F("gridWidth"),k("gridColor"),D("zeroEnable"),k("zeroLineColor"),F("zeroLineWidth"),D("backgroundEnable"),k("backgroundColor"),this._text?this._text&&(et||B)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=e(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&B&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=s(this.gl,this.bounds,this.ticks))};var o=[new d,new d,new d];function v(C,p,F,D,N){for(var k=C.primalOffset,z=C.primalMinor,B=C.mirrorOffset,O=C.mirrorMinor,U=D[p],G=0;G<3;++G)if(p!==G){var J=k,et=B,at=z,lt=O;U&1<<G&&(J=B,et=k,at=O,lt=z),J[G]=F[0][G],et[G]=F[1][G],N[G]>0?(at[G]=-1,lt[G]=0):(at[G]=0,lt[G]=1)}}var M=[0,0,0],b={model:u,view:u,projection:u,_ortho:!1};w.isOpaque=function(){return!0},w.isTransparent=function(){return!1},w.drawTransparent=function(C){};var x=[0,0,0],S=[0,0,0],T=[0,0,0];w.draw=function(C){for(var rt=this.gl,p=(C=C||b).model||u,F=C.view||u,D=C.projection||u,N=this.bounds,k=C._ortho||!1,z=h(p,F,D,N,k),B=z.cubeEdges,O=z.axis,lt=(k?2:1)*this.pixelRatio*(D[3]*F[12]+D[7]*F[13]+D[11]*F[14]+D[15]*F[15])/rt.drawingBufferHeight,K=0;K<3;++K)this.lastCubeProps.cubeEdges[K]=B[K],this.lastCubeProps.axis[K]=O[K];var j=o;for(K=0;K<3;++K)v(o[K],K,this.bounds,B,O);rt=this.gl;var H=M;for(K=0;K<3;++K)H[K]=this.backgroundEnable[K]?O[K]:0;for(this._background.draw(p,F,D,N,H,this.backgroundColor),this._lines.bind(p,F,D,this),K=0;K<3;++K){var Z=[0,0,0];Z[K]=O[K]>0?N[1][K]:N[0][K];for(var it=0;it<2;++it){var Y=(K+1+(1^it))%3;this.gridEnable[Q=(K+1+it)%3]&&this._lines.drawGrid(Q,Y,this.bounds,Z,this.gridColor[Q],this.gridWidth[Q]*this.pixelRatio)}for(it=0;it<2;++it){var Q=(K+1+it)%3;this.zeroEnable[Y=(K+1+(1^it))%3]&&Math.min(N[0][Y],N[1][Y])<=0&&Math.max(N[0][Y],N[1][Y])>=0&&this._lines.drawZero(Q,Y,this.bounds,Z,this.zeroLineColor[Y],this.zeroLineWidth[Y]*this.pixelRatio)}}for(K=0;K<3;++K){this.lineEnable[K]&&this._lines.drawAxisLine(K,this.bounds,j[K].primalOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio),this.lineMirror[K]&&this._lines.drawAxisLine(K,this.bounds,j[K].mirrorOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio);var nt=g(x,j[K].primalMinor),_=g(S,j[K].mirrorMinor),st=this.lineTickLength;for(it=0;it<3;++it){var dt=lt/p[5*it];nt[it]*=st[it]*dt,_[it]*=st[it]*dt}this.lineTickEnable[K]&&this._lines.drawAxisTicks(K,j[K].primalOffset,nt,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio),this.lineTickMirror[K]&&this._lines.drawAxisTicks(K,j[K].mirrorOffset,_,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio)}this._lines.unbind(),this._text.bind(p,F,D,this.pixelRatio);var xt,St,Et,Vt,re,le,It,Rt,$t,oe,se,ve;function Tt(Vt){(Et=[0,0,0])[Vt]=1}for(K=0;K<3;++K){var Mt=j[K].primalMinor,Nt=j[K].mirrorMinor,Gt=g(T,j[K].primalOffset);for(it=0;it<3;++it)this.lineTickEnable[K]&&(Gt[it]+=lt*Mt[it]*Math.max(this.lineTickLength[it],0)/p[5*it]);var Pt=[0,0,0];if(Pt[K]=1,this.tickEnable[K]){for(-3600===this.tickAngle[K]?(this.tickAngle[K]=0,this.tickAlign[K]="auto"):this.tickAlign[K]=-1,(xt=[this.tickAlign[K],.5,St=1])[0]="auto"===xt[0]?0:parseInt(""+xt[0]),Et=[0,0,0],It=void 0,Rt=void 0,$t=void 0,oe=void 0,se=void 0,ve=void 0,oe=(re=Mt)[Rt=((Vt=K)+2)%3],se=(le=Nt)[It=(Vt+1)%3],ve=le[Rt],($t=re[It])>0&&ve>0||$t>0&&ve<0||$t<0&&ve>0||$t<0&&ve<0?Tt(It):(oe>0&&se>0||oe>0&&se<0||oe<0&&se>0||oe<0&&se<0)&&Tt(Rt),it=0;it<3;++it)Gt[it]+=lt*Mt[it]*this.tickPad[it]/p[5*it];this._text.drawTicks(K,this.tickSize[K],this.tickAngle[K],Gt,this.tickColor[K],Pt,Et,xt)}if(this.labelEnable[K]){for(St=0,Et=[0,0,0],this.labels[K].length>4&&(Tt(K),St=1),(xt=[this.labelAlign[K],.5,St])[0]="auto"===xt[0]?0:parseInt(""+xt[0]),it=0;it<3;++it)Gt[it]+=lt*Mt[it]*this.labelPad[it]/p[5*it];Gt[K]+=.5*(N[0][K]+N[1][K]),this._text.drawLabel(K,this.labelSize[K],this.labelAngle[K],Gt,this.labelColor[K],[0,0,0],Et,xt)}}this._text.unbind()},w.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(l,m,r){"use strict";l.exports=function u(g){for(var c=[],w=[],d=0,o=0;o<3;++o)for(var v=(o+1)%3,M=(o+2)%3,b=[0,0,0],E=[0,0,0],x=-1;x<=1;x+=2){w.push(d,d+2,d+1,d+1,d+2,d+3),b[o]=x,E[o]=x;for(var S=-1;S<=1;S+=2){b[v]=S;for(var T=-1;T<=1;T+=2)b[M]=T,c.push(b[0],b[1],b[2],E[0],E[1],E[2]),d+=1}var n=v;v=M,M=n}var C=e(g,new Float32Array(c)),p=e(g,new Uint16Array(w),g.ELEMENT_ARRAY_BUFFER),F=s(g,[{buffer:C,type:g.FLOAT,size:3,offset:0,stride:24},{buffer:C,type:g.FLOAT,size:3,offset:12,stride:24}],p),D=a(g);return D.attributes.position.location=0,D.attributes.normal.location=1,new h(g,C,F,D)};var e=r(5827),s=r(2944),a=r(1943).bg;function h(g,c,w,d){this.gl=g,this.buffer=c,this.vao=w,this.shader=d}var f=h.prototype;f.draw=function(g,c,w,d,o,v){for(var M=!1,b=0;b<3;++b)M=M||o[b];if(M){var E=this.gl;E.enable(E.POLYGON_OFFSET_FILL),E.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:g,view:c,projection:w,bounds:d,enable:o,colors:v},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),E.disable(E.POLYGON_OFFSET_FILL)}},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(l,m,r){"use strict";l.exports=function x(S,T,n,C,p){s(f,T,S),s(f,n,f);for(var F=0,D=0;D<2;++D){c[2]=C[D][2];for(var N=0;N<2;++N){c[1]=C[N][1];for(var k=0;k<2;++k)c[0]=C[k][0],d(u[F],c,f),F+=1}}var z=-1;for(D=0;D<8;++D){for(var B=u[D][3],O=0;O<3;++O)g[D][O]=u[D][O]/B;p&&(g[D][2]*=-1),B<0&&(z<0||g[D][2]<g[z][2])&&(z=D)}if(z<0){z=0;for(var U=0;U<3;++U){for(var G=(U+2)%3,J=(U+1)%3,et=-1,at=-1,lt=0;lt<2;++lt)h(g[K=lt<<U],g[K+(lt<<G)+(1-lt<<J)],g[K+(1-lt<<G)+(lt<<J)],w)<0||(lt?et=1:at=1);if(et<0||at<0)at>et&&(z|=1<<U);else{for(lt=0;lt<2;++lt){var K,H=v([u[K=lt<<U],u[K+(lt<<G)+(1-lt<<J)],u[K+(1-lt<<G)+(lt<<J)],u[K+(1<<G)+(1<<J)]]);lt?et=H:at=H}at>et&&(z|=1<<U)}}}var Z=7^z,it=-1;for(D=0;D<8;++D)D===z||D===Z||(it<0||g[it][1]>g[D][1])&&(it=D);var Q=-1;for(D=0;D<3;++D)(Y=it^1<<D)!==z&&Y!==Z&&(Q<0&&(Q=Y),(J=g[Y])[0]<g[Q][0]&&(Q=Y));var nt=-1;for(D=0;D<3;++D){var Y;(Y=it^1<<D)!==z&&Y!==Z&&Y!==Q&&(nt<0&&(nt=Y),(J=g[Y])[0]>g[nt][0]&&(nt=Y))}var _=M;_[0]=_[1]=_[2]=0,_[e.log2(Q^it)]=it&Q,_[e.log2(it^nt)]=it&nt;var st=7^nt;st===z||st===Z?_[e.log2(nt^(st=7^Q))]=st&nt:_[e.log2(Q^st)]=st&Q;var dt=b,xt=z;for(U=0;U<3;++U)dt[U]=xt&1<<U?-1:1;return E};var e=r(2288),s=r(104),a=r(4670),h=r(417),f=new Array(16),u=new Array(8),g=new Array(8),c=new Array(3),w=[0,0,0];function d(S,T,n){for(var C=0;C<4;++C){S[C]=n[12+C];for(var p=0;p<3;++p)S[C]+=T[p]*n[4*p+C]}}!function(){for(var S=0;S<8;++S)u[S]=[1,1,1,1],g[S]=[1,1,1]}();var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function v(S){for(var T=0;T<o.length;++T)if((S=a.positive(S,o[T])).length<3)return 0;var n=S[0],C=n[0]/n[3],p=n[1]/n[3],F=0;for(T=1;T+1<S.length;++T){var D=S[T],N=S[T+1];F+=Math.abs((D[0]/D[3]-C)*(N[1]/N[3]-p)-(D[1]/D[3]-p)*(N[0]/N[3]-C))}return F}var M=[1,1,1],b=[0,0,0],E={cubeEdges:M,axis:b}},1681:function(l,m,r){"use strict";l.exports=function M(b,E,x){var S=[],T=[0,0,0],n=[0,0,0],C=[0,0,0],p=[0,0,0];S.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var F=0;F<3;++F){for(var k=S.length/3|0,D=0;D<x[F].length;++D)S.push(N=+x[F][D].x,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1);var B=S.length/3|0;T[F]=k,n[F]=B-k,k=S.length/3|0;for(var z=0;z<x[F].length;++z){var N;S.push(N=+x[F][z].x,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}B=S.length/3|0,C[F]=k,p[F]=B-k}var O=e(b,new Float32Array(S)),U=s(b,[{buffer:O,type:b.FLOAT,size:3,stride:0,offset:0}]),G=a(b);return G.attributes.position.location=0,new o(b,O,U,G,n,T,p,C)};var e=r(5827),s=r(2944),a=r(1943).j,h=[0,0,0],f=[0,0,0],u=[0,0,0],g=[0,0,0],c=[1,1];function w(b){return b[0]=b[1]=b[2]=0,b}function d(b,E){return b[0]=E[0],b[1]=E[1],b[2]=E[2],b}function o(b,E,x,S,T,n,C,p){this.gl=b,this.vertBuffer=E,this.vao=x,this.shader=S,this.tickCount=T,this.tickOffset=n,this.gridCount=C,this.gridOffset=p}var v=o.prototype;v.bind=function(b,E,x){this.shader.bind(),this.shader.uniforms.model=b,this.shader.uniforms.view=E,this.shader.uniforms.projection=x,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},v.unbind=function(){this.vao.unbind()},v.drawAxisLine=function(b,E,x,S,T){var n=w(f);this.shader.uniforms.majorAxis=f,n[b]=E[1][b]-E[0][b],this.shader.uniforms.minorAxis=n;var p,C=d(g,x);C[b]+=E[0][b],this.shader.uniforms.offset=C,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=S,(p=w(u))[(b+2)%3]=1,this.shader.uniforms.screenAxis=p,this.vao.draw(this.gl.TRIANGLES,6),(p=w(u))[(b+1)%3]=1,this.shader.uniforms.screenAxis=p,this.vao.draw(this.gl.TRIANGLES,6)},v.drawAxisTicks=function(b,E,x,S,T){if(this.tickCount[b]){var n=w(h);n[b]=1,this.shader.uniforms.majorAxis=n,this.shader.uniforms.offset=E,this.shader.uniforms.minorAxis=x,this.shader.uniforms.color=S,this.shader.uniforms.lineWidth=T;var C=w(u);C[b]=1,this.shader.uniforms.screenAxis=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[b],this.tickOffset[b])}},v.drawGrid=function(b,E,x,S,T,n){if(this.gridCount[b]){var C=w(f);C[E]=x[1][E]-x[0][E],this.shader.uniforms.minorAxis=C;var p=d(g,S);p[E]+=x[0][E],this.shader.uniforms.offset=p;var F=w(h);F[b]=1,this.shader.uniforms.majorAxis=F;var D=w(u);D[b]=1,this.shader.uniforms.screenAxis=D,this.shader.uniforms.lineWidth=n,this.shader.uniforms.color=T,this.vao.draw(this.gl.TRIANGLES,this.gridCount[b],this.gridOffset[b])}},v.drawZero=function(b,E,x,S,T,n){var C=w(f);this.shader.uniforms.majorAxis=C,C[b]=x[1][b]-x[0][b],this.shader.uniforms.minorAxis=C;var p=d(g,S);p[b]+=x[0][b],this.shader.uniforms.offset=p;var F=w(u);F[E]=1,this.shader.uniforms.screenAxis=F,this.shader.uniforms.lineWidth=n,this.shader.uniforms.color=T,this.vao.draw(this.gl.TRIANGLES,6)},v.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(l,m,r){"use strict";var e=r(6832),s=r(5158),a=e(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),h=e(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);m.j=function(w){return s(w,a,h,null,[{name:"position",type:"vec3"}])};var f=e(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),u=e(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);m.f=function(w){return s(w,f,u,null,[{name:"position",type:"vec3"}])};var g=e(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),c=e(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);m.bg=function(w){return s(w,g,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(l,m,r){"use strict";l.exports=function v(M,b,E,x,S,T){var n=e(M),C=s(M,[{buffer:n,size:3}]),p=h(M);p.attributes.position.location=0;var F=new c(M,p,n,C);return F.update(b,E,x,S,T),F};var e=r(5827),s=r(2944),a=r(875),h=r(1943).f,f=window||A.global||{},u=f.__TEXT_CACHE||{};f.__TEXT_CACHE={};function c(M,b,E,x){this.gl=M,this.shader=b,this.buffer=E,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var w=c.prototype,d=[0,0];w.bind=function(M,b,E,x){this.vao.bind(),this.shader.bind();var S=this.shader.uniforms;S.model=M,S.view=b,S.projection=E,S.pixelScale=x,d[0]=this.gl.drawingBufferWidth,d[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=d},w.unbind=function(){this.vao.unbind()},w.update=function(M,b,E,x,S){var T=[];function n(O,U,G,J,et,at){var lt=u[G];lt||(lt=u[G]={});var K=lt[U];K||(K=lt[U]=function o(M,b){try{return a(M,b)}catch(E){return console.warn('error vectorizing text:"'+M+'" error:',E),{cells:[],positions:[]}}}(U,{triangles:!0,font:G,textAlign:"center",textBaseline:"middle",lineSpacing:et,styletags:at}));for(var j=(J||12)/12,rt=K.positions,H=K.cells,Z=0,it=H.length;Z<it;++Z)for(var Q=H[Z],Y=2;Y>=0;--Y){var nt=rt[Q[Y]];T.push(j*nt[0],-j*nt[1],O)}}for(var C=[0,0,0],p=[0,0,0],F=[0,0,0],D=[0,0,0],k={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},z=0;z<3;++z){F[z]=T.length/3|0,n(.5*(M[0][z]+M[1][z]),b[z],E[z],12,1.25,k),D[z]=(T.length/3|0)-F[z],C[z]=T.length/3|0;for(var B=0;B<x[z].length;++B)!x[z][B].text||n(x[z][B].x,x[z][B].text,x[z][B].font||S,x[z][B].fontSize||12,1.25,k);p[z]=(T.length/3|0)-C[z]}this.buffer.update(T),this.tickOffset=C,this.tickCount=p,this.labelOffset=F,this.labelCount=D},w.drawTicks=function(M,b,E,x,S,T,n,C){!this.tickCount[M]||(this.shader.uniforms.axis=T,this.shader.uniforms.color=S,this.shader.uniforms.angle=E,this.shader.uniforms.scale=b,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=n,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[M],this.tickOffset[M]))},w.drawLabel=function(M,b,E,x,S,T,n,C){!this.labelCount[M]||(this.shader.uniforms.axis=T,this.shader.uniforms.color=S,this.shader.uniforms.angle=E,this.shader.uniforms.scale=b,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=n,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.labelCount[M],this.labelOffset[M]))},w.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(l,m){"use strict";function r(a,h){var f=a+"",u=f.indexOf("."),g=0;u>=0&&(g=f.length-u-1);var c=Math.pow(10,g),w=Math.round(a*h*c),d=w+"";if(d.indexOf("e")>=0)return d;var o=w/c,v=w%c;w<0?(o=0|-Math.ceil(o),v=0|-v):(o=0|Math.floor(o),v|=0);var M=""+o;if(w<0&&(M="-"+M),g){for(var b=""+v;b.length<g;)b="0"+b;return M+"."+b}return M}m.create=function e(a,h){for(var f=[],u=0;u<3;++u){for(var g=[],w=0;w*h[u]<=a[1][u];++w)g.push({x:w*h[u],text:r(h[u],w)});for(w=-1;w*h[u]>=a[0][u];--w)g.push({x:w*h[u],text:r(h[u],w)});f.push(g)}return f},m.equal=function s(a,h){for(var f=0;f<3;++f){if(a[f].length!==h[f].length)return!1;for(var u=0;u<a[f].length;++u){var g=a[f][u],c=h[f][u];if(g.x!==c.x||g.text!==c.text||g.font!==c.font||g.fontColor!==c.fontColor||g.fontSize!==c.fontSize||g.dx!==c.dx||g.dy!==c.dy)return!1}}return!0}},2771:function(l,m,r){"use strict";l.exports=function E(x,S,T,n,z){var p=S.model||g,F=S.view||g,D=S.projection||g,N=S._ortho||!1,k=x.bounds,B=(z=z||a(p,F,D,k,N)).axis;h(c,F,p),h(c,D,c);for(var O=M,U=0;U<3;++U)O[U].lo=1/0,O[U].hi=-1/0,O[U].pixelsPerDataUnit=1/0;var G=e(f(c,c));f(c,c);for(var J=0;J<3;++J){var et=(J+1)%3,at=(J+2)%3,lt=b;t:for(U=0;U<2;++U){var K=[];if(B[J]<0!=!!U){lt[J]=k[U][J];for(var j=0;j<2;++j){lt[et]=k[j^U][et];for(var rt=0;rt<2;++rt)lt[at]=k[rt^j^U][at],K.push(lt.slice())}var H=N?5:4;for(j=H;j===H;++j){if(0===K.length)continue t;K=s.positive(K,G[j])}for(j=0;j<K.length;++j){var Z=v(b,c,at=K[j],T,n);for(rt=0;rt<3;++rt)O[rt].lo=Math.min(O[rt].lo,at[rt]),O[rt].hi=Math.max(O[rt].hi,at[rt]),rt!==J&&(O[rt].pixelsPerDataUnit=Math.min(O[rt].pixelsPerDataUnit,Math.abs(Z[rt])))}}}}return O};var e=r(5795),s=r(4670),a=r(2864),h=r(104),f=r(2142),u=r(6342),g=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function w(x,S,T){this.lo=x,this.hi=S,this.pixelsPerDataUnit=T}var d=[0,0,0,1],o=[0,0,0,1];function v(x,S,T,n,C){for(var p=0;p<3;++p){for(var F=d,D=o,N=0;N<3;++N)D[N]=F[N]=T[N];D[3]=F[3]=1,D[p]+=1,u(D,D,S),D[3]<0&&(x[p]=1/0),F[p]-=1,u(F,F,S),F[3]<0&&(x[p]=1/0);var k=(F[0]/F[3]-D[0]/D[3])*n,z=(F[1]/F[3]-D[1]/D[3])*C;x[p]=.25*Math.sqrt(k*k+z*z)}return x}var M=[new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0)],b=[0,0,0]},5827:function(l,m,r){"use strict";var e=r(5306),s=r(7498),a=r(5050),h=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function f(o,v,M,b,E){this.gl=o,this.type=v,this.handle=M,this.length=b,this.usage=E}var u=f.prototype;function g(o,v,M,b,E,x){var S=E.length*E.BYTES_PER_ELEMENT;if(x<0)return o.bufferData(v,E,b),S;if(S+x>M)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(v,x,E),M}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(o,v){if("number"!=typeof v&&(v=-1),this.bind(),"object"==typeof o&&void 0!==o.shape){var M=o.dtype;if(h.indexOf(M)<0&&(M="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(M=gl.getExtension("OES_element_index_uint")&&"uint16"!==M?"uint32":"uint16"),M===o.dtype&&function w(o,v){for(var M=1,b=v.length-1;b>=0;--b){if(v[b]!==M)return!1;M*=o[b]}return!0}(o.shape,o.stride))this.length=g(this.gl,this.type,this.length,this.usage,0===o.offset&&o.data.length===o.shape[0]?o.data:o.data.subarray(o.offset,o.shape[0]),v);else{var E=e.malloc(o.size,M),x=a(E,o.shape);s.assign(x,o),this.length=g(this.gl,this.type,this.length,this.usage,v<0?E:E.subarray(0,o.size),v),e.free(E)}}else if(Array.isArray(o)){var S;S=function c(o,v){for(var M=e.malloc(o.length,v),b=o.length,E=0;E<b;++E)M[E]=o[E];return M}(o,this.type===this.gl.ELEMENT_ARRAY_BUFFER?"uint16":"float32"),this.length=g(this.gl,this.type,this.length,this.usage,v<0?S:S.subarray(0,o.length),v),e.free(S)}else if("object"==typeof o&&"number"==typeof o.length)this.length=g(this.gl,this.type,this.length,this.usage,o,v);else{if("number"!=typeof o&&void 0!==o)throw new Error("gl-buffer: Invalid data type");if(v>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(o|=0)<=0&&(o=1),this.gl.bufferData(this.type,0|o,this.usage),this.length=o}},l.exports=function d(o,v,M,b){if(b=b||o.DYNAMIC_DRAW,(M=M||o.ARRAY_BUFFER)!==o.ARRAY_BUFFER&&M!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(b!==o.DYNAMIC_DRAW&&b!==o.STATIC_DRAW&&b!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var E=o.createBuffer(),x=new f(o,M,E,0,b);return x.update(v),x}},1140:function(l,m,r){"use strict";var e=r(2858);l.exports=function(a,h){var f=a.positions,u=a.vectors,g={positions:[],vertexIntensity:[],vertexIntensityBounds:a.vertexIntensityBounds,vectors:[],cells:[],coneOffset:a.coneOffset,colormap:a.colormap};if(0===a.positions.length)return h&&(h[0]=[0,0,0],h[1]=[0,0,0]),g;for(var c=0,w=1/0,d=-1/0,o=1/0,v=-1/0,M=1/0,b=-1/0,E=null,x=null,S=[],T=1/0,n=!1,C=0;C<f.length;C++){var p=f[C];w=Math.min(p[0],w),d=Math.max(p[0],d),o=Math.min(p[1],o),v=Math.max(p[1],v),M=Math.min(p[2],M),b=Math.max(p[2],b);var F=u[C];if(e.length(F)>c&&(c=e.length(F)),C){var D=2*e.distance(E,p)/(e.length(x)+e.length(F));D?(T=Math.min(T,D),n=!1):n=!0}n||(E=p,x=F),S.push(F)}var k=[d,v,b];h&&(h[0]=[w,o,M],h[1]=k),0===c&&(c=1);var z=1/c;isFinite(T)||(T=1),g.vectorScale=T;var B=a.coneSize||.5;a.absoluteConeSize&&(B=a.absoluteConeSize*z),g.coneScale=B,C=0;for(var O=0;C<f.length;C++)for(var U=(p=f[C])[0],G=p[1],J=p[2],et=S[C],at=e.length(et)*z,lt=0;lt<8;lt++){g.positions.push([U,G,J,O++]),g.positions.push([U,G,J,O++]),g.positions.push([U,G,J,O++]),g.positions.push([U,G,J,O++]),g.positions.push([U,G,J,O++]),g.positions.push([U,G,J,O++]),g.vectors.push(et),g.vectors.push(et),g.vectors.push(et),g.vectors.push(et),g.vectors.push(et),g.vectors.push(et),g.vertexIntensity.push(at,at,at),g.vertexIntensity.push(at,at,at);var j=g.positions.length;g.cells.push([j-6,j-5,j-4],[j-3,j-2,j-1])}return g};var s=r(7234);l.exports.createMesh=r(5028),l.exports.createConeMesh=function(a,h){return l.exports.createMesh(a,h,{shaders:s,traceType:"cone"})}},5028:function(l,m,r){"use strict";var e=r(5158),s=r(5827),a=r(2944),h=r(8931),f=r(104),u=r(7437),g=r(5050),c=r(9156),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(S,T,n,C,p,F,D,N,k,z,B){this.gl=S,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=T,this.dirty=!0,this.triShader=n,this.pickShader=C,this.trianglePositions=p,this.triangleVectors=F,this.triangleColors=N,this.triangleUVs=k,this.triangleIds=D,this.triangleVAO=z,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=B,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var o=d.prototype;function b(S,T){var n=e(S,T.meshShader.vertex,T.meshShader.fragment,null,T.meshShader.attributes);return n.attributes.position.location=0,n.attributes.color.location=2,n.attributes.uv.location=3,n.attributes.vector.location=4,n}function E(S,T){var n=e(S,T.pickShader.vertex,T.pickShader.fragment,null,T.pickShader.attributes);return n.attributes.position.location=0,n.attributes.id.location=1,n.attributes.vector.location=4,n}o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(S){this.pickId=S},o.update=function(S){S=S||{};var T=this.gl;this.dirty=!0,"lightPosition"in S&&(this.lightPosition=S.lightPosition),"opacity"in S&&(this.opacity=S.opacity),"ambient"in S&&(this.ambientLight=S.ambient),"diffuse"in S&&(this.diffuseLight=S.diffuse),"specular"in S&&(this.specularLight=S.specular),"roughness"in S&&(this.roughness=S.roughness),"fresnel"in S&&(this.fresnel=S.fresnel),void 0!==S.tubeScale&&(this.tubeScale=S.tubeScale),void 0!==S.vectorScale&&(this.vectorScale=S.vectorScale),void 0!==S.coneScale&&(this.coneScale=S.coneScale),void 0!==S.coneOffset&&(this.coneOffset=S.coneOffset),S.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=T.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=T.LINEAR,this.texture.setPixels(function v(S){for(var T=c({colormap:S,nshades:256,format:"rgba"}),n=new Uint8Array(1024),C=0;C<256;++C){for(var p=T[C],F=0;F<3;++F)n[4*C+F]=p[F];n[4*C+3]=255*p[3]}return g(n,[256,256,4],[4,0,1])}(S.colormap)),this.texture.generateMipmap());var n=S.cells,C=S.positions,p=S.vectors;if(C&&n&&p){var F=[],D=[],N=[],k=[],z=[];this.cells=n,this.positions=C,this.vectors=p;var B=S.meshColor||[1,1,1,1],O=S.vertexIntensity,U=1/0,G=-1/0;if(O)if(S.vertexIntensityBounds)U=+S.vertexIntensityBounds[0],G=+S.vertexIntensityBounds[1];else for(var J=0;J<O.length;++J){var et=O[J];U=Math.min(U,et),G=Math.max(G,et)}else for(J=0;J<C.length;++J)et=C[J][2],U=Math.min(U,et),G=Math.max(G,et);for(this.intensity=O||function M(S){for(var T=S.length,n=new Array(T),C=0;C<T;++C)n[C]=S[C][2];return n}(C),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],J=0;J<C.length;++J)for(var at=C[J],lt=0;lt<3;++lt)isNaN(at[lt])||!isFinite(at[lt])||(this.bounds[0][lt]=Math.min(this.bounds[0][lt],at[lt]),this.bounds[1][lt]=Math.max(this.bounds[1][lt],at[lt]));var K=0;t:for(J=0;J<n.length;++J){var j=n[J];if(3===j.length){for(lt=0;lt<3;++lt){at=C[rt=j[lt]];for(var H=0;H<3;++H)if(isNaN(at[H])||!isFinite(at[H]))continue t}for(lt=0;lt<3;++lt){var rt;F.push((at=C[rt=j[2-lt]])[0],at[1],at[2],at[3]);var Z=p[rt];D.push(Z[0],Z[1],Z[2],Z[3]||0);var Q;N.push(B[0],B[1],B[2],3===B.length?1:B[3]),k.push((Q=O?[(O[rt]-U)/(G-U),0]:[(at[2]-U)/(G-U),0])[0],Q[1]),z.push(J)}K+=1}}this.triangleCount=K,this.trianglePositions.update(F),this.triangleVectors.update(D),this.triangleColors.update(N),this.triangleUVs.update(k),this.triangleIds.update(new Uint32Array(z))}},o.drawTransparent=o.draw=function(S){for(var T=this.gl,n=(S=S||{}).model||w,C=S.view||w,p=S.projection||w,F=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)F[0][D]=Math.max(F[0][D],this.clipBounds[0][D]),F[1][D]=Math.min(F[1][D],this.clipBounds[1][D]);var N={model:n,view:C,projection:p,inverseModel:w.slice(),clipBounds:F,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};N.inverseModel=u(N.inverseModel,N.model),T.disable(T.CULL_FACE),this.texture.bind(0);var k=new Array(16);for(f(k,N.view,N.model),f(k,N.projection,k),u(k,k),D=0;D<3;++D)N.eyePosition[D]=k[12+D]/k[15];var z=k[15];for(D=0;D<3;++D)z+=this.lightPosition[D]*k[4*D+3];for(D=0;D<3;++D){for(var B=k[12+D],O=0;O<3;++O)B+=k[4*O+D]*this.lightPosition[O];N.lightPosition[D]=B/z}if(this.triangleCount>0){var U=this.triShader;U.bind(),U.uniforms=N,this.triangleVAO.bind(),T.drawArrays(T.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},o.drawPick=function(S){for(var T=this.gl,n=(S=S||{}).model||w,C=S.view||w,p=S.projection||w,F=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)F[0][D]=Math.max(F[0][D],this.clipBounds[0][D]),F[1][D]=Math.min(F[1][D],this.clipBounds[1][D]);this._model=[].slice.call(n),this._view=[].slice.call(C),this._projection=[].slice.call(p),this._resolution=[T.drawingBufferWidth,T.drawingBufferHeight];var N={model:n,view:C,projection:p,clipBounds:F,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},k=this.pickShader;k.bind(),k.uniforms=N,this.triangleCount>0&&(this.triangleVAO.bind(),T.drawArrays(T.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},o.pick=function(S){if(!S||S.id!==this.pickId)return null;var T=S.value[0]+256*S.value[1]+65536*S.value[2],n=this.cells[T],C=this.positions[n[1]].slice(0,3),p={position:C,dataCoordinate:C,index:Math.floor(n[1]/48)};return"cone"===this.traceType?p.index=Math.floor(n[1]/48):"streamtube"===this.traceType&&(p.intensity=this.intensity[n[1]],p.velocity=this.vectors[n[1]].slice(0,3),p.divergence=this.vectors[n[1]][3],p.index=T),p},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},l.exports=function x(S,T,n){var C=n.shaders;1===arguments.length&&(S=(T=S).gl);var p=b(S,C),F=E(S,C),D=h(S,g(new Uint8Array([255,255,255,255]),[1,1,4]));D.generateMipmap(),D.minFilter=S.LINEAR_MIPMAP_LINEAR,D.magFilter=S.LINEAR;var N=s(S),k=s(S),z=s(S),B=s(S),O=s(S),G=new d(S,D,p,F,N,k,O,z,B,a(S,[{buffer:N,type:S.FLOAT,size:4},{buffer:O,type:S.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:z,type:S.FLOAT,size:4},{buffer:B,type:S.FLOAT,size:2},{buffer:k,type:S.FLOAT,size:4}]),n.traceType||"cone");return G.update(T),G}},7234:function(l,m,r){var e=r(6832),s=e(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),a=e(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),h=e(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),f=e(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);m.meshShader={vertex:s,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},m.pickShader={vertex:h,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(l){l.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(l,m,r){var e=r(1950);l.exports=function(a){return e[a]}},3110:function(l,m,r){"use strict";l.exports=function d(o){var v=o.gl,M=e(v),b=s(v,[{buffer:M,type:v.FLOAT,size:3,offset:0,stride:40},{buffer:M,type:v.FLOAT,size:4,offset:12,stride:40},{buffer:M,type:v.FLOAT,size:3,offset:28,stride:40}]),E=a(v);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.offset.location=2;var x=new f(v,M,b,E);return x.update(o),x};var e=r(5827),s=r(2944),a=r(7667),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(o,v,M,b){this.gl=o,this.shader=b,this.buffer=v,this.vao=M,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=f.prototype;function g(o,v){for(var M=0;M<3;++M)o[0][M]=Math.min(o[0][M],v[M]),o[1][M]=Math.max(o[1][M],v[M])}u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(o){var v=this.gl,M=this.shader.uniforms;this.shader.bind();var b=M.view=o.view||h,E=M.projection=o.projection||h;M.model=o.model||h,M.clipBounds=this.clipBounds,M.opacity=this.opacity;var F=(o._ortho?2:1)*this.pixelRatio*(E[3]*b[12]+E[7]*b[13]+E[11]*b[14]+E[15]*b[15])/v.drawingBufferHeight;this.vao.bind();for(var D=0;D<3;++D)v.lineWidth(this.lineWidth[D]*this.pixelRatio),M.capSize=this.capSize[D]*F,this.lineCount[D]&&v.drawArrays(v.LINES,this.lineOffset[D],this.lineCount[D]);this.vao.unbind()};var c=function(){for(var o=new Array(3),v=0;v<3;++v){for(var M=[],b=1;b<=2;++b)for(var E=-1;E<=1;E+=2){var S=[0,0,0];S[(b+v)%3]=E,M.push(S)}o[v]=M}return o}();function w(o,v,M,b){for(var E=c[b],x=0;x<E.length;++x){var S=E[x];o.push(v[0],v[1],v[2],M[0],M[1],M[2],M[3],S[0],S[1],S[2])}return E.length}u.update=function(o){"lineWidth"in(o=o||{})&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var v=o.color||[[0,0,0],[0,0,0],[0,0,0]],M=o.position,b=o.error;if(Array.isArray(v[0])||(v=[v,v,v]),M&&b){var E=[],x=M.length,S=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var T=0;T<3;++T){this.lineOffset[T]=S;t:for(var n=0;n<x;++n){for(var C=M[n],p=0;p<3;++p)if(isNaN(C[p])||!isFinite(C[p]))continue t;var N,F=b[n],D=v[T];Array.isArray(D[0])&&(D=v[n]),3===D.length?D=[D[0],D[1],D[2],1]:4===D.length&&(D=[D[0],D[1],D[2],D[3]],!this.hasAlpha&&D[3]<1&&(this.hasAlpha=!0)),isNaN(F[0][T])||isNaN(F[1][T])||(F[0][T]<0&&((N=C.slice())[T]+=F[0][T],E.push(C[0],C[1],C[2],D[0],D[1],D[2],D[3],0,0,0,N[0],N[1],N[2],D[0],D[1],D[2],D[3],0,0,0),g(this.bounds,N),S+=2+w(E,N,D,T)),F[1][T]>0&&((N=C.slice())[T]+=F[1][T],E.push(C[0],C[1],C[2],D[0],D[1],D[2],D[3],0,0,0,N[0],N[1],N[2],D[0],D[1],D[2],D[3],0,0,0),g(this.bounds,N),S+=2+w(E,N,D,T)))}this.lineCount[T]=S-this.lineOffset[T]}this.buffer.update(E)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(l,m,r){"use strict";var e=r(6832),s=r(5158),a=e(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),h=e(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);l.exports=function(f){return s(f,a,h,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(l,m,r){"use strict";var e=r(8931);l.exports=function S(T,n,C,p){a||(a=T.FRAMEBUFFER_UNSUPPORTED,h=T.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,f=T.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,u=T.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var F=T.getExtension("WEBGL_draw_buffers");if(!s&&F&&function w(T,n){var C=T.getParameter(n.MAX_COLOR_ATTACHMENTS_WEBGL);s=new Array(C+1);for(var p=0;p<=C;++p){for(var F=new Array(C),D=0;D<p;++D)F[D]=T.COLOR_ATTACHMENT0+D;for(D=p;D<C;++D)F[D]=T.NONE;s[p]=F}}(T,F),Array.isArray(n)&&(p=C,C=0|n[1],n=0|n[0]),"number"!=typeof n)throw new Error("gl-fbo: Missing shape parameter");var D=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(n<0||n>D||C<0||C>D)throw new Error("gl-fbo: Parameters are too large for FBO");var N=1;if("color"in(p=p||{})){if((N=Math.max(0|p.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(N>1){if(!F)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(N>T.getParameter(F.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+N+" draw buffers")}}var k=T.UNSIGNED_BYTE,z=T.getExtension("OES_texture_float");if(p.float&&N>0){if(!z)throw new Error("gl-fbo: Context does not support floating point textures");k=T.FLOAT}else p.preferFloat&&N>0&&z&&(k=T.FLOAT);var B=!0;"depth"in p&&(B=!!p.depth);var O=!1;return"stencil"in p&&(O=!!p.stencil),new b(T,n,C,k,N,B,O,F)};var a,h,f,u,s=null;function g(T){return[T.getParameter(T.FRAMEBUFFER_BINDING),T.getParameter(T.RENDERBUFFER_BINDING),T.getParameter(T.TEXTURE_BINDING_2D)]}function c(T,n){T.bindFramebuffer(T.FRAMEBUFFER,n[0]),T.bindRenderbuffer(T.RENDERBUFFER,n[1]),T.bindTexture(T.TEXTURE_2D,n[2])}function d(T){switch(T){case a:throw new Error("gl-fbo: Framebuffer unsupported");case h:throw new Error("gl-fbo: Framebuffer incomplete attachment");case f:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case u:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(T,n,C,p,F,D){if(!p)return null;var N=e(T,n,C,F,p);return N.magFilter=T.NEAREST,N.minFilter=T.NEAREST,N.mipSamples=1,N.bind(),T.framebufferTexture2D(T.FRAMEBUFFER,D,T.TEXTURE_2D,N.handle,0),N}function v(T,n,C,p,F){var D=T.createRenderbuffer();return T.bindRenderbuffer(T.RENDERBUFFER,D),T.renderbufferStorage(T.RENDERBUFFER,p,n,C),T.framebufferRenderbuffer(T.FRAMEBUFFER,F,T.RENDERBUFFER,D),D}function b(T,n,C,p,F,D,N,k){this.gl=T,this._shape=[0|n,0|C],this._destroyed=!1,this._ext=k,this.color=new Array(F);for(var z=0;z<F;++z)this.color[z]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=p,this._useDepth=D,this._useStencil=N;var B=this,O=[0|n,0|C];Object.defineProperties(O,{0:{get:function(){return B._shape[0]},set:function(U){return B.width=U}},1:{get:function(){return B._shape[1]},set:function(U){return B.height=U}}}),this._shapeVector=O,function M(T){var n=g(T.gl),C=T.gl,p=T.handle=C.createFramebuffer(),F=T._shape[0],D=T._shape[1],N=T.color.length,k=T._ext,z=T._useStencil,B=T._useDepth,O=T._colorType;C.bindFramebuffer(C.FRAMEBUFFER,p);for(var U=0;U<N;++U)T.color[U]=o(C,F,D,O,C.RGBA,C.COLOR_ATTACHMENT0+U);0===N?(T._color_rb=v(C,F,D,C.RGBA4,C.COLOR_ATTACHMENT0),k&&k.drawBuffersWEBGL(s[0])):N>1&&k.drawBuffersWEBGL(s[N]);var G=C.getExtension("WEBGL_depth_texture");G?z?T.depth=o(C,F,D,G.UNSIGNED_INT_24_8_WEBGL,C.DEPTH_STENCIL,C.DEPTH_STENCIL_ATTACHMENT):B&&(T.depth=o(C,F,D,C.UNSIGNED_SHORT,C.DEPTH_COMPONENT,C.DEPTH_ATTACHMENT)):B&&z?T._depth_rb=v(C,F,D,C.DEPTH_STENCIL,C.DEPTH_STENCIL_ATTACHMENT):B?T._depth_rb=v(C,F,D,C.DEPTH_COMPONENT16,C.DEPTH_ATTACHMENT):z&&(T._depth_rb=v(C,F,D,C.STENCIL_INDEX,C.STENCIL_ATTACHMENT));var J=C.checkFramebufferStatus(C.FRAMEBUFFER);if(J!==C.FRAMEBUFFER_COMPLETE){for(T._destroyed=!0,C.bindFramebuffer(C.FRAMEBUFFER,null),C.deleteFramebuffer(T.handle),T.handle=null,T.depth&&(T.depth.dispose(),T.depth=null),T._depth_rb&&(C.deleteRenderbuffer(T._depth_rb),T._depth_rb=null),U=0;U<T.color.length;++U)T.color[U].dispose(),T.color[U]=null;T._color_rb&&(C.deleteRenderbuffer(T._color_rb),T._color_rb=null),c(C,n),d(J)}c(C,n)}(this)}var E=b.prototype;function x(T,n,C){if(T._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(T._shape[0]!==n||T._shape[1]!==C){var p=T.gl,F=p.getParameter(p.MAX_RENDERBUFFER_SIZE);if(n<0||n>F||C<0||C>F)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");T._shape[0]=n,T._shape[1]=C;for(var D=g(p),N=0;N<T.color.length;++N)T.color[N].shape=T._shape;T._color_rb&&(p.bindRenderbuffer(p.RENDERBUFFER,T._color_rb),p.renderbufferStorage(p.RENDERBUFFER,p.RGBA4,T._shape[0],T._shape[1])),T.depth&&(T.depth.shape=T._shape),T._depth_rb&&(p.bindRenderbuffer(p.RENDERBUFFER,T._depth_rb),T._useDepth&&T._useStencil?p.renderbufferStorage(p.RENDERBUFFER,p.DEPTH_STENCIL,T._shape[0],T._shape[1]):T._useDepth?p.renderbufferStorage(p.RENDERBUFFER,p.DEPTH_COMPONENT16,T._shape[0],T._shape[1]):T._useStencil&&p.renderbufferStorage(p.RENDERBUFFER,p.STENCIL_INDEX,T._shape[0],T._shape[1])),p.bindFramebuffer(p.FRAMEBUFFER,T.handle);var k=p.checkFramebufferStatus(p.FRAMEBUFFER);k!==p.FRAMEBUFFER_COMPLETE&&(T.dispose(),c(p,D),d(k)),c(p,D)}}Object.defineProperties(E,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(T){if(Array.isArray(T)||(T=[0|T,0|T]),2!==T.length)throw new Error("gl-fbo: Shape vector must be length 2");var n=0|T[0],C=0|T[1];return x(this,n,C),[n,C]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(T){return x(this,T|=0,this._shape[1]),T},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(T){return x(this,this._shape[0],T|=0),T},enumerable:!1}}),E.bind=function(){if(!this._destroyed){var T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,this.handle),T.viewport(0,0,this._shape[0],this._shape[1])}},E.dispose=function(){if(!this._destroyed){this._destroyed=!0;var T=this.gl;T.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(T.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var n=0;n<this.color.length;++n)this.color[n].dispose(),this.color[n]=null;this._color_rb&&(T.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(l,m,r){var e=r(8974).sprintf,s=r(6603),a=r(9365),h=r(8008);l.exports=function f(u,g,c){"use strict";var w=a(g)||"of unknown name (see npm glsl-shader-name)",d="unknown type";void 0!==c&&(d=c===s.FRAGMENT_SHADER?"fragment":"vertex");for(var o=e("Error compiling %s shader %s:\n",d,w),v=e("%s%s",o,u),M=u.split("\n"),b={},E=0;E<M.length;E++){var x=M[E];if(""!==x&&"\0"!==x){var S=parseInt(x.split(":")[2]);if(isNaN(S))throw new Error(e("Could not parse error: %s",x));b[S]=x}}var T=h(g).split("\n");for(E=0;E<T.length;E++)if((b[E+3]||b[E+2]||b[E+1])&&(o+=T[E]+"\n",b[E+1])){var C=b[E+1];C=C.substr(C.split(":",3).join(":").length+1).trim(),o+=e("^^^ %s\n\n",C)}return{long:o.trim(),short:v.trim()}}},6386:function(l,m,r){"use strict";l.exports=function d(o,v){var M=o.gl,C=new g(o,h(M,u.vertex,u.fragment),h(M,u.pickVertex,u.pickFragment),f(M),f(M),f(M),f(M));return C.update(v),o.addObject(C),C};var e=r(5070),s=r(9560),a=r(5306),h=r(5158),f=r(5827),u=r(1292);function g(o,v,M,b,E,x,S){this.plot=o,this.shader=v,this.pickShader=M,this.positionBuffer=b,this.weightBuffer=E,this.colorBuffer=x,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var o,c=g.prototype,w=[0,0,1,0,0,1,1,0,1,1,0,1];c.draw=(o=[1,0,0,0,1,0,0,0,1],function(){var v=this.plot,M=this.shader,b=this.bounds,E=this.numVertices;if(!(E<=0)){var x=v.gl,S=v.dataBox,n=b[3]-b[1],C=S[2]-S[0],p=S[3]-S[1];o[0]=2*(b[2]-b[0])/C,o[4]=2*n/p,o[6]=2*(b[0]-S[0])/C-1,o[7]=2*(b[1]-S[1])/p-1,M.bind();var F=M.uniforms;F.viewTransform=o,F.shape=this.shape;var D=M.attributes;this.positionBuffer.bind(),D.position.pointer(),this.weightBuffer.bind(),D.weight.pointer(x.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),D.color.pointer(x.UNSIGNED_BYTE,!0),x.drawArrays(x.TRIANGLES,0,E)}}),c.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],v=[0,0,0,0];return function(M){var b=this.plot,E=this.pickShader,x=this.bounds,S=this.numVertices;if(!(S<=0)){var T=b.gl,n=b.dataBox,p=x[3]-x[1],F=n[2]-n[0],D=n[3]-n[1];o[0]=2*(x[2]-x[0])/F,o[4]=2*p/D,o[6]=2*(x[0]-n[0])/F-1,o[7]=2*(x[1]-n[1])/D-1;for(var N=0;N<4;++N)v[N]=M>>8*N&255;this.pickOffset=M,E.bind();var k=E.uniforms;k.viewTransform=o,k.pickOffset=v,k.shape=this.shape;var z=E.attributes;return this.positionBuffer.bind(),z.position.pointer(),this.weightBuffer.bind(),z.weight.pointer(T.UNSIGNED_BYTE,!1),this.idBuffer.bind(),z.pickId.pointer(T.UNSIGNED_BYTE,!1),T.drawArrays(T.TRIANGLES,0,S),M+this.shape[0]*this.shape[1]}}}(),c.pick=function(o,v,M){var b=this.pickOffset;if(M<b||M>=b+this.shape[0]*this.shape[1])return null;var x=M-b;return{object:this,pointId:x,dataCoord:[this.xData[x%this.shape[0]],this.yData[x/this.shape[0]|0]]}},c.update=function(o){var v=(o=o||{}).shape||[0,0],M=o.x||s(v[0]),b=o.y||s(v[1]),E=o.z||new Float32Array(v[0]*v[1]),x=!1!==o.zsmooth;this.xData=M,this.yData=b;var p,F,D,N,S=o.colorLevels||[0],T=o.colorValues||[0,0,0,1],n=S.length,C=this.bounds;x?(p=C[0]=M[0],F=C[1]=b[0],D=C[2]=M[M.length-1],N=C[3]=b[b.length-1]):(p=C[0]=M[0]+(M[1]-M[0])/2,F=C[1]=b[0]+(b[1]-b[0])/2,D=C[2]=M[M.length-1]+(M[M.length-1]-M[M.length-2])/2,N=C[3]=b[b.length-1]+(b[b.length-1]-b[b.length-2])/2);var k=1/(D-p),z=1/(N-F),B=v[0],O=v[1];this.shape=[B,O];var U=(x?(B-1)*(O-1):B*O)*(w.length>>>1);this.numVertices=U;for(var G=a.mallocUint8(4*U),J=a.mallocFloat32(2*U),et=a.mallocUint8(2*U),at=a.mallocUint32(U),lt=0,K=x?B-1:B,j=x?O-1:O,rt=0;rt<j;++rt){var H,Z;x?(H=z*(b[rt]-F),Z=z*(b[rt+1]-F)):(H=rt<O-1?z*(b[rt]-(b[rt+1]-b[rt])/2-F):z*(b[rt]-(b[rt]-b[rt-1])/2-F),Z=rt<O-1?z*(b[rt]+(b[rt+1]-b[rt])/2-F):z*(b[rt]+(b[rt]-b[rt-1])/2-F));for(var it=0;it<K;++it){var Q,Y;x?(Q=k*(M[it]-p),Y=k*(M[it+1]-p)):(Q=it<B-1?k*(M[it]-(M[it+1]-M[it])/2-p):k*(M[it]-(M[it]-M[it-1])/2-p),Y=it<B-1?k*(M[it]+(M[it+1]-M[it])/2-p):k*(M[it]+(M[it]-M[it-1])/2-p));for(var nt=0;nt<w.length;nt+=2){var St,Et,Tt,gt,_=w[nt],st=w[nt+1],xt=E[x?(rt+st)*B+(it+_):rt*B+it],yt=e.le(S,xt);if(yt<0)St=T[0],Et=T[1],Tt=T[2],gt=T[3];else if(yt===n-1)St=T[4*n-4],Et=T[4*n-3],Tt=T[4*n-2],gt=T[4*n-1];else{var Mt=(xt-S[yt])/(S[yt+1]-S[yt]),Nt=1-Mt,Gt=4*yt,Pt=4*(yt+1);St=Nt*T[Gt]+Mt*T[Pt],Et=Nt*T[Gt+1]+Mt*T[Pt+1],Tt=Nt*T[Gt+2]+Mt*T[Pt+2],gt=Nt*T[Gt+3]+Mt*T[Pt+3]}G[4*lt]=255*St,G[4*lt+1]=255*Et,G[4*lt+2]=255*Tt,G[4*lt+3]=255*gt,J[2*lt]=.5*Q+.5*Y,J[2*lt+1]=.5*H+.5*Z,et[2*lt]=_,et[2*lt+1]=st,at[lt]=rt*B+it,lt+=1}}}this.positionBuffer.update(J),this.weightBuffer.update(et),this.colorBuffer.update(G),this.idBuffer.update(at),a.free(J),a.free(G),a.free(et),a.free(at)},c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(l,m,r){"use strict";var e=r(6832);l.exports={fragment:e(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:e(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:e(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:e(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},248:function(l,m,r){var e=r(6832),s=r(5158),a=e(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),h=e(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),f=e(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];m.createShader=function(g){return s(g,a,h,null,u)},m.createPickShader=function(g){return s(g,a,f,null,u)}},6086:function(l,m,r){"use strict";l.exports=function T(n){var C=n.gl||n.scene&&n.scene.gl,p=d(C);p.attributes.position.location=0,p.attributes.nextPosition.location=1,p.attributes.arcLength.location=2,p.attributes.lineWidth.location=3,p.attributes.color.location=4;var F=o(C);F.attributes.position.location=0,F.attributes.nextPosition.location=1,F.attributes.arcLength.location=2,F.attributes.lineWidth.location=3,F.attributes.color.location=4;for(var D=e(C),N=s(C,[{buffer:D,size:3,offset:0,stride:48},{buffer:D,size:3,offset:12,stride:48},{buffer:D,size:1,offset:24,stride:48},{buffer:D,size:1,offset:28,stride:48},{buffer:D,size:4,offset:32,stride:48}]),k=c(new Array(1024),[256,1,4]),z=0;z<1024;++z)k.data[z]=255;var B=a(C,k);B.wrap=C.REPEAT;var O=new x(C,p,F,D,N,B);return O.update(n),O};var e=r(5827),s=r(2944),a=r(8931),h=new Uint8Array(4),f=new Float32Array(h.buffer);var g=r(5070),c=r(5050),w=r(248),d=w.createShader,o=w.createPickShader,v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function M(n,C){for(var p=0,F=0;F<3;++F){var D=n[F]-C[F];p+=D*D}return Math.sqrt(p)}function b(n){for(var C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],p=0;p<3;++p)C[0][p]=Math.max(n[0][p],C[0][p]),C[1][p]=Math.min(n[1][p],C[1][p]);return C}function E(n,C,p,F){this.arcLength=n,this.position=C,this.index=p,this.dataCoordinate=F}function x(n,C,p,F,D,N){this.gl=n,this.shader=C,this.pickShader=p,this.buffer=F,this.vao=D,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var S=x.prototype;S.isTransparent=function(){return this.hasAlpha},S.isOpaque=function(){return!this.hasAlpha},S.pickSlots=1,S.setPickBase=function(n){this.pickId=n},S.drawTransparent=S.draw=function(n){if(this.vertexCount){var C=this.gl,p=this.shader,F=this.vao;p.bind(),p.uniforms={model:n.model||v,view:n.view||v,projection:n.projection||v,clipBounds:b(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[C.drawingBufferWidth,C.drawingBufferHeight],pixelRatio:this.pixelRatio},F.bind(),F.draw(C.TRIANGLE_STRIP,this.vertexCount),F.unbind()}},S.drawPick=function(n){if(this.vertexCount){var C=this.gl,p=this.pickShader,F=this.vao;p.bind(),p.uniforms={model:n.model||v,view:n.view||v,projection:n.projection||v,pickId:this.pickId,clipBounds:b(this.clipBounds),screenShape:[C.drawingBufferWidth,C.drawingBufferHeight],pixelRatio:this.pixelRatio},F.bind(),F.draw(C.TRIANGLE_STRIP,this.vertexCount),F.unbind()}},S.update=function(n){var C,p;this.dirty=!0;var F=!!n.connectGaps;"dashScale"in n&&(this.dashScale=n.dashScale),this.hasAlpha=!1,"opacity"in n&&(this.opacity=+n.opacity,this.opacity<1&&(this.hasAlpha=!0));var D=[],N=[],k=[],z=0,B=0,O=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],U=n.position||n.positions;if(U){var G=n.color||n.colors||[0,0,0,1],J=n.lineWidth||1,et=!1;t:for(C=1;C<U.length;++C){var j,rt,H,at=U[C-1],lt=U[C];for(N.push(z),k.push(at.slice()),p=0;p<3;++p){if(isNaN(at[p])||isNaN(lt[p])||!isFinite(at[p])||!isFinite(lt[p])){if(!F&&D.length>0){for(var K=0;K<24;++K)D.push(D[D.length-12]);B+=2,et=!0}continue t}O[0][p]=Math.min(O[0][p],at[p],lt[p]),O[1][p]=Math.max(O[1][p],at[p],lt[p])}Array.isArray(G[0])?(j=G.length>C-1?G[C-1]:G.length>0?G[G.length-1]:[0,0,0,1],rt=G.length>C?G[C]:G.length>0?G[G.length-1]:[0,0,0,1]):j=rt=G,3===j.length&&(j=[j[0],j[1],j[2],1]),3===rt.length&&(rt=[rt[0],rt[1],rt[2],1]),!this.hasAlpha&&j[3]<1&&(this.hasAlpha=!0),H=Array.isArray(J)?J.length>C-1?J[C-1]:J.length>0?J[J.length-1]:[0,0,0,1]:J;var Z=z;if(z+=M(at,lt),et){for(p=0;p<2;++p)D.push(at[0],at[1],at[2],lt[0],lt[1],lt[2],Z,H,j[0],j[1],j[2],j[3]);B+=2,et=!1}D.push(at[0],at[1],at[2],lt[0],lt[1],lt[2],Z,H,j[0],j[1],j[2],j[3],at[0],at[1],at[2],lt[0],lt[1],lt[2],Z,-H,j[0],j[1],j[2],j[3],lt[0],lt[1],lt[2],at[0],at[1],at[2],z,-H,rt[0],rt[1],rt[2],rt[3],lt[0],lt[1],lt[2],at[0],at[1],at[2],z,H,rt[0],rt[1],rt[2],rt[3]),B+=4}}if(this.buffer.update(D),N.push(z),k.push(U[U.length-1].slice()),this.bounds=O,this.vertexCount=B,this.points=k,this.arcLength=N,"dashes"in n){var Q=n.dashes.slice();for(Q.unshift(0),C=1;C<Q.length;++C)Q[C]=Q[C-1]+Q[C];var Y=c(new Array(1024),[256,1,4]);for(C=0;C<256;++C){for(p=0;p<4;++p)Y.set(C,0,p,0);1&g.le(Q,Q[Q.length-1]*C/255)?Y.set(C,0,0,0):Y.set(C,0,0,255)}this.texture.setPixels(Y)}},S.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},S.pick=function(n){if(!n||n.id!==this.pickId)return null;var C=function u(n,C,p,F){return h[0]=F,h[1]=p,h[2]=C,h[3]=n,f[0]}(n.value[0],n.value[1],n.value[2],0),p=g.le(this.arcLength,C);if(p<0)return null;if(p===this.arcLength.length-1)return new E(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),p);for(var F=this.points[p],D=this.points[Math.min(p+1,this.points.length-1)],N=(C-this.arcLength[p])/(this.arcLength[p+1]-this.arcLength[p]),k=1-N,z=[0,0,0],B=0;B<3;++B)z[B]=k*F[B]+N*D[B];var O=Math.min(N<.5?p:p+1,this.points.length-1);return new E(C,z,O,this.points[O])}},7332:function(l){l.exports=function m(r){var e=new Float32Array(16);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}},9823:function(l){l.exports=function m(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7787:function(l){l.exports=function m(r){var e=r[0],s=r[1],a=r[2],h=r[3],f=r[4],u=r[5],g=r[6],c=r[7],w=r[8],d=r[9],o=r[10],v=r[11],M=r[12],b=r[13],E=r[14],x=r[15];return(e*u-s*f)*(o*x-v*E)-(e*g-a*f)*(d*x-v*b)+(e*c-h*f)*(d*E-o*b)+(s*g-a*u)*(w*x-v*M)-(s*c-h*u)*(w*E-o*M)+(a*c-h*g)*(w*b-d*M)}},5950:function(l){l.exports=function m(r,e){var s=e[0],a=e[1],h=e[2],f=e[3],u=s+s,g=a+a,c=h+h,w=s*u,d=a*u,o=a*g,v=h*u,M=h*g,b=h*c,E=f*u,x=f*g,S=f*c;return r[0]=1-o-b,r[1]=d+S,r[2]=v-x,r[3]=0,r[4]=d-S,r[5]=1-w-b,r[6]=M+E,r[7]=0,r[8]=v+x,r[9]=M-E,r[10]=1-w-o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7280:function(l){l.exports=function m(r,e,s){var a=e[0],h=e[1],f=e[2],u=e[3],g=a+a,c=h+h,w=f+f,d=a*g,o=a*c,v=a*w,M=h*c,b=h*w,E=f*w,x=u*g,S=u*c,T=u*w;return r[0]=1-(M+E),r[1]=o+T,r[2]=v-S,r[3]=0,r[4]=o-T,r[5]=1-(d+E),r[6]=b+x,r[7]=0,r[8]=v+S,r[9]=b-x,r[10]=1-(d+M),r[11]=0,r[12]=s[0],r[13]=s[1],r[14]=s[2],r[15]=1,r}},9947:function(l){l.exports=function m(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7437:function(l){l.exports=function m(r,e){var s=e[0],a=e[1],h=e[2],f=e[3],u=e[4],g=e[5],c=e[6],w=e[7],d=e[8],o=e[9],v=e[10],M=e[11],b=e[12],E=e[13],x=e[14],S=e[15],T=s*g-a*u,n=s*c-h*u,C=s*w-f*u,p=a*c-h*g,F=a*w-f*g,D=h*w-f*c,N=d*E-o*b,k=d*x-v*b,z=d*S-M*b,B=o*x-v*E,O=o*S-M*E,U=v*S-M*x,G=T*U-n*O+C*B+p*z-F*k+D*N;return G?(r[0]=(g*U-c*O+w*B)*(G=1/G),r[1]=(h*O-a*U-f*B)*G,r[2]=(E*D-x*F+S*p)*G,r[3]=(v*F-o*D-M*p)*G,r[4]=(c*z-u*U-w*k)*G,r[5]=(s*U-h*z+f*k)*G,r[6]=(x*C-b*D-S*n)*G,r[7]=(d*D-v*C+M*n)*G,r[8]=(u*O-g*z+w*N)*G,r[9]=(a*z-s*O-f*N)*G,r[10]=(b*F-E*C+S*T)*G,r[11]=(o*C-d*F-M*T)*G,r[12]=(g*k-u*B-c*N)*G,r[13]=(s*B-a*k+h*N)*G,r[14]=(E*n-b*p-x*T)*G,r[15]=(d*p-o*n+v*T)*G,r):null}},3012:function(l,m,r){var e=r(9947);l.exports=function s(a,h,f,u){var g,c,w,d,o,v,M,b,E,x,S=h[0],T=h[1],n=h[2],C=u[0],p=u[1],F=u[2],D=f[0],N=f[1],k=f[2];return Math.abs(S-D)<1e-6&&Math.abs(T-N)<1e-6&&Math.abs(n-k)<1e-6?e(a):(M=S-D,b=T-N,E=n-k,g=p*(E*=x=1/Math.sqrt(M*M+b*b+E*E))-F*(b*=x),c=F*(M*=x)-C*E,w=C*b-p*M,(x=Math.sqrt(g*g+c*c+w*w))?(g*=x=1/x,c*=x,w*=x):(g=0,c=0,w=0),d=b*w-E*c,o=E*g-M*w,v=M*c-b*g,(x=Math.sqrt(d*d+o*o+v*v))?(d*=x=1/x,o*=x,v*=x):(d=0,o=0,v=0),a[0]=g,a[1]=d,a[2]=M,a[3]=0,a[4]=c,a[5]=o,a[6]=b,a[7]=0,a[8]=w,a[9]=v,a[10]=E,a[11]=0,a[12]=-(g*S+c*T+w*n),a[13]=-(d*S+o*T+v*n),a[14]=-(M*S+b*T+E*n),a[15]=1,a)}},104:function(l){l.exports=function m(r,e,s){var a=e[0],h=e[1],f=e[2],u=e[3],g=e[4],c=e[5],w=e[6],d=e[7],o=e[8],v=e[9],M=e[10],b=e[11],E=e[12],x=e[13],S=e[14],T=e[15],n=s[0],C=s[1],p=s[2],F=s[3];return r[0]=n*a+C*g+p*o+F*E,r[1]=n*h+C*c+p*v+F*x,r[2]=n*f+C*w+p*M+F*S,r[3]=n*u+C*d+p*b+F*T,r[4]=(n=s[4])*a+(C=s[5])*g+(p=s[6])*o+(F=s[7])*E,r[5]=n*h+C*c+p*v+F*x,r[6]=n*f+C*w+p*M+F*S,r[7]=n*u+C*d+p*b+F*T,r[8]=(n=s[8])*a+(C=s[9])*g+(p=s[10])*o+(F=s[11])*E,r[9]=n*h+C*c+p*v+F*x,r[10]=n*f+C*w+p*M+F*S,r[11]=n*u+C*d+p*b+F*T,r[12]=(n=s[12])*a+(C=s[13])*g+(p=s[14])*o+(F=s[15])*E,r[13]=n*h+C*c+p*v+F*x,r[14]=n*f+C*w+p*M+F*S,r[15]=n*u+C*d+p*b+F*T,r}},5268:function(l){l.exports=function m(r,e,s,a,h,f,u){var g=1/(e-s),c=1/(a-h),w=1/(f-u);return r[0]=-2*g,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*c,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*w,r[11]=0,r[12]=(e+s)*g,r[13]=(h+a)*c,r[14]=(u+f)*w,r[15]=1,r}},1120:function(l){l.exports=function m(r,e,s,a,h){var f=1/Math.tan(e/2),u=1/(a-h);return r[0]=f/s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(h+a)*u,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*h*a*u,r[15]=0,r}},4422:function(l){l.exports=function m(r,e,s,a){var c,w,d,o,v,M,b,E,x,S,T,n,C,p,F,D,N,k,z,B,O,U,G,J,h=a[0],f=a[1],u=a[2],g=Math.sqrt(h*h+f*f+u*u);return Math.abs(g)<1e-6?null:(h*=g=1/g,f*=g,u*=g,c=Math.sin(s),w=Math.cos(s),v=e[1],M=e[2],b=e[3],x=e[5],S=e[6],T=e[7],C=e[9],p=e[10],F=e[11],z=h*f*(d=1-w)-u*c,B=f*f*d+w,O=u*f*d+h*c,U=h*u*d+f*c,G=f*u*d-h*c,J=u*u*d+w,r[0]=(o=e[0])*(D=h*h*d+w)+(E=e[4])*(N=f*h*d+u*c)+(n=e[8])*(k=u*h*d-f*c),r[1]=v*D+x*N+C*k,r[2]=M*D+S*N+p*k,r[3]=b*D+T*N+F*k,r[4]=o*z+E*B+n*O,r[5]=v*z+x*B+C*O,r[6]=M*z+S*B+p*O,r[7]=b*z+T*B+F*O,r[8]=o*U+E*G+n*J,r[9]=v*U+x*G+C*J,r[10]=M*U+S*G+p*J,r[11]=b*U+T*G+F*J,e!==r&&(r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r)}},6109:function(l){l.exports=function m(r,e,s){var a=Math.sin(s),h=Math.cos(s),f=e[4],u=e[5],g=e[6],c=e[7],w=e[8],d=e[9],o=e[10],v=e[11];return e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[4]=f*h+w*a,r[5]=u*h+d*a,r[6]=g*h+o*a,r[7]=c*h+v*a,r[8]=w*h-f*a,r[9]=d*h-u*a,r[10]=o*h-g*a,r[11]=v*h-c*a,r}},7115:function(l){l.exports=function m(r,e,s){var a=Math.sin(s),h=Math.cos(s),f=e[0],u=e[1],g=e[2],c=e[3],w=e[8],d=e[9],o=e[10],v=e[11];return e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=f*h-w*a,r[1]=u*h-d*a,r[2]=g*h-o*a,r[3]=c*h-v*a,r[8]=f*a+w*h,r[9]=u*a+d*h,r[10]=g*a+o*h,r[11]=c*a+v*h,r}},5240:function(l){l.exports=function m(r,e,s){var a=Math.sin(s),h=Math.cos(s),f=e[0],u=e[1],g=e[2],c=e[3],w=e[4],d=e[5],o=e[6],v=e[7];return e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=f*h+w*a,r[1]=u*h+d*a,r[2]=g*h+o*a,r[3]=c*h+v*a,r[4]=w*h-f*a,r[5]=d*h-u*a,r[6]=o*h-g*a,r[7]=v*h-c*a,r}},3668:function(l){l.exports=function m(r,e,s){var a=s[0],h=s[1],f=s[2];return r[0]=e[0]*a,r[1]=e[1]*a,r[2]=e[2]*a,r[3]=e[3]*a,r[4]=e[4]*h,r[5]=e[5]*h,r[6]=e[6]*h,r[7]=e[7]*h,r[8]=e[8]*f,r[9]=e[9]*f,r[10]=e[10]*f,r[11]=e[11]*f,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}},998:function(l){l.exports=function m(r,e,s){var u,g,c,w,d,o,v,M,b,E,x,S,a=s[0],h=s[1],f=s[2];return e===r?(r[12]=e[0]*a+e[4]*h+e[8]*f+e[12],r[13]=e[1]*a+e[5]*h+e[9]*f+e[13],r[14]=e[2]*a+e[6]*h+e[10]*f+e[14],r[15]=e[3]*a+e[7]*h+e[11]*f+e[15]):(g=e[1],c=e[2],w=e[3],d=e[4],o=e[5],v=e[6],M=e[7],b=e[8],E=e[9],x=e[10],S=e[11],r[0]=u=e[0],r[1]=g,r[2]=c,r[3]=w,r[4]=d,r[5]=o,r[6]=v,r[7]=M,r[8]=b,r[9]=E,r[10]=x,r[11]=S,r[12]=u*a+d*h+b*f+e[12],r[13]=g*a+o*h+E*f+e[13],r[14]=c*a+v*h+x*f+e[14],r[15]=w*a+M*h+S*f+e[15]),r}},2142:function(l){l.exports=function m(r,e){if(r===e){var s=e[1],a=e[2],h=e[3],f=e[6],u=e[7],g=e[11];r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=s,r[6]=e[9],r[7]=e[13],r[8]=a,r[9]=f,r[11]=e[14],r[12]=h,r[13]=u,r[14]=g}else r[0]=e[0],r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=e[1],r[5]=e[5],r[6]=e[9],r[7]=e[13],r[8]=e[2],r[9]=e[6],r[10]=e[10],r[11]=e[14],r[12]=e[3],r[13]=e[7],r[14]=e[11],r[15]=e[15];return r}},4340:function(l,m,r){"use strict";var e=r(957),s=r(7309);function a(c,w){for(var d=[0,0,0,0],o=0;o<4;++o)for(var v=0;v<4;++v)d[v]+=c[4*o+v]*w[o];return d}function h(c,w,d,o,v){for(var M=a(o,a(d,a(w,[c[0],c[1],c[2],1]))),b=0;b<3;++b)M[b]/=M[3];return[.5*v[0]*(1+M[0]),.5*v[1]*(1-M[1])]}function u(c,w){for(var d=[0,0,0],o=0;o<c.length;++o)for(var v=c[o],M=w[o],b=0;b<3;++b)d[b]+=M*v[b];return d}l.exports=function g(c,w,d,o,v,M){if(1===c.length)return[0,c[0].slice()];for(var b=new Array(c.length),E=0;E<c.length;++E)b[E]=h(c[E],d,o,v,M);var x=0,S=1/0;for(E=0;E<b.length;++E){for(var T=0,n=0;n<2;++n)T+=Math.pow(b[E][n]-w[n],2);T<S&&(S=T,x=E)}var C=function f(c,w){if(2===c.length){for(var d=0,o=0,v=0;v<2;++v)d+=Math.pow(w[v]-c[0][v],2),o+=Math.pow(w[v]-c[1][v],2);return(d=Math.sqrt(d))+(o=Math.sqrt(o))<1e-6?[1,0]:[o/(d+o),d/(o+d)]}if(3===c.length){var M=[0,0];return s(c[0],c[1],c[2],w,M),e(c,M)}return[]}(b,w),p=0;for(E=0;E<3;++E){if(C[E]<-.001||C[E]>1.0001)return null;p+=C[E]}return Math.abs(p-1)>.001?null:[x,u(c,C),C]}},2056:function(l,m,r){var e=r(6832),s=e(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),a=e(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),h=e(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),f=e(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),u=e(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),g=e(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),c=e(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),w=e(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),d=e(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),o=e(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),v=e(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);m.meshShader={vertex:s,fragment:a,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},m.wireShader={vertex:h,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},m.pointShader={vertex:u,fragment:g,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},m.pickShader={vertex:c,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},m.pointPickShader={vertex:d,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},m.contourShader={vertex:o,fragment:v,attributes:[{name:"position",type:"vec3"}]}},8116:function(l,m,r){"use strict";var a=r(5158),h=r(5827),f=r(2944),u=r(8931),g=r(115),c=r(104),w=r(7437),d=r(5050),o=r(9156),v=r(7212),M=r(5306),b=r(2056),E=r(4340),x=b.meshShader,S=b.wireShader,T=b.pointShader,n=b.pickShader,C=b.pointPickShader,p=b.contourShader,F=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function D(K,j,rt,H,Z,it,Q,Y,nt,_,st,dt,xt,yt,St,Et,Tt,gt,Mt,Nt,Gt,Pt,Vt,re,le,It,Rt){this.gl=K,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=j,this.dirty=!0,this.triShader=rt,this.lineShader=H,this.pointShader=Z,this.pickShader=it,this.pointPickShader=Q,this.contourShader=Y,this.trianglePositions=nt,this.triangleColors=st,this.triangleNormals=xt,this.triangleUVs=dt,this.triangleIds=_,this.triangleVAO=yt,this.triangleCount=0,this.lineWidth=1,this.edgePositions=St,this.edgeColors=Tt,this.edgeUVs=gt,this.edgeIds=Et,this.edgeVAO=Mt,this.edgeCount=0,this.pointPositions=Nt,this.pointColors=Pt,this.pointUVs=Vt,this.pointSizes=re,this.pointIds=Gt,this.pointVAO=le,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=It,this.contourVAO=Rt,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=F,this._view=F,this._projection=F,this._resolution=[1,1]}var N=D.prototype;function k(K,j){if(!j||!j.length)return 1;for(var rt=0;rt<j.length;++rt){if(j.length<2)return 1;if(j[rt][0]===K)return j[rt][1];if(j[rt][0]>K&&rt>0){var H=(j[rt][0]-K)/(j[rt][0]-j[rt-1][0]);return j[rt][1]*(1-H)+H*j[rt-1][1]}}return 1}function O(K){var j=a(K,x.vertex,x.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j.attributes.normal.location=4,j}function U(K){var j=a(K,S.vertex,S.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j}function G(K){var j=a(K,T.vertex,T.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j.attributes.pointSize.location=4,j}function J(K){var j=a(K,n.vertex,n.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j}function et(K){var j=a(K,C.vertex,C.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j.attributes.pointSize.location=4,j}function at(K){var j=a(K,p.vertex,p.fragment);return j.attributes.position.location=0,j}N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(K){this.pickId=K},N.highlight=function(K){if(K&&this.contourEnable){for(var j=v(this.cells,this.intensity,K.intensity),rt=j.cells,H=j.vertexIds,Z=j.vertexWeights,it=rt.length,Q=M.mallocFloat32(6*it),Y=0,nt=0;nt<it;++nt)for(var _=rt[nt],st=0;st<2;++st){var dt=_[0];2===_.length&&(dt=_[st]);for(var St=Z[dt],Et=1-St,Tt=this.positions[H[dt][0]],gt=this.positions[H[dt][1]],Mt=0;Mt<3;++Mt)Q[Y++]=St*Tt[Mt]+Et*gt[Mt]}this.contourCount=Y/3|0,this.contourPositions.update(Q.subarray(0,Y)),M.free(Q)}else this.contourCount=0},N.update=function(K){K=K||{};var j=this.gl;this.dirty=!0,"contourEnable"in K&&(this.contourEnable=K.contourEnable),"contourColor"in K&&(this.contourColor=K.contourColor),"lineWidth"in K&&(this.lineWidth=K.lineWidth),"lightPosition"in K&&(this.lightPosition=K.lightPosition),this.hasAlpha=!1,"opacity"in K&&(this.opacity=K.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in K&&(this.opacityscale=K.opacityscale,this.hasAlpha=!0),"ambient"in K&&(this.ambientLight=K.ambient),"diffuse"in K&&(this.diffuseLight=K.diffuse),"specular"in K&&(this.specularLight=K.specular),"roughness"in K&&(this.roughness=K.roughness),"fresnel"in K&&(this.fresnel=K.fresnel),K.texture?(this.texture.dispose(),this.texture=u(j,K.texture)):K.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=j.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=j.LINEAR,this.texture.setPixels(function z(K,j){for(var rt=o({colormap:K,nshades:256,format:"rgba"}),H=new Uint8Array(1024),Z=0;Z<256;++Z){for(var it=rt[Z],Q=0;Q<3;++Q)H[4*Z+Q]=it[Q];H[4*Z+3]=j?255*k(Z/255,j):255*it[3]}return d(H,[256,256,4],[4,0,1])}(K.colormap,this.opacityscale)),this.texture.generateMipmap());var rt=K.cells,H=K.positions;if(H&&rt){var Z=[],it=[],Q=[],Y=[],nt=[],_=[],st=[],dt=[],xt=[],yt=[],St=[],Et=[],Tt=[],gt=[];this.cells=rt,this.positions=H;var Mt=K.vertexNormals,Nt=K.cellNormals,Gt=void 0===K.vertexNormalsEpsilon?1e-6:K.vertexNormalsEpsilon;K.useFacetNormals&&!Nt&&(Nt=g.faceNormals(rt,H,void 0===K.faceNormalsEpsilon?1e-6:K.faceNormalsEpsilon)),!Nt&&!Mt&&(Mt=g.vertexNormals(rt,H,Gt));var Vt=K.vertexColors,re=K.cellColors,le=K.meshColor||[1,1,1,1],It=K.vertexUVs,Rt=K.vertexIntensity,$t=K.cellUVs,oe=K.cellIntensity,se=1/0,ve=-1/0;if(!It&&!$t)if(Rt)if(K.vertexIntensityBounds)se=+K.vertexIntensityBounds[0],ve=+K.vertexIntensityBounds[1];else for(var de=0;de<Rt.length;++de){var jt=Rt[de];se=Math.min(se,jt),ve=Math.max(ve,jt)}else if(oe)if(K.cellIntensityBounds)se=+K.cellIntensityBounds[0],ve=+K.cellIntensityBounds[1];else for(de=0;de<oe.length;++de)jt=oe[de],se=Math.min(se,jt),ve=Math.max(ve,jt);else for(de=0;de<H.length;++de)jt=H[de][2],se=Math.min(se,jt),ve=Math.max(ve,jt);this.intensity=Rt||oe||function B(K){for(var j=K.length,rt=new Array(j),H=0;H<j;++H)rt[H]=K[H][2];return rt}(H),this.pickVertex=!(oe||re);var Ct=K.pointSizes,Wt=K.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],de=0;de<H.length;++de)for(var Xt=H[de],Ht=0;Ht<3;++Ht)isNaN(Xt[Ht])||!isFinite(Xt[Ht])||(this.bounds[0][Ht]=Math.min(this.bounds[0][Ht],Xt[Ht]),this.bounds[1][Ht]=Math.max(this.bounds[1][Ht],Xt[Ht]));var Bt=0,zt=0,kt=0;t:for(de=0;de<rt.length;++de){var wt=rt[de];switch(wt.length){case 1:for(Xt=H[ft=wt[0]],Ht=0;Ht<3;++Ht)if(isNaN(Xt[Ht])||!isFinite(Xt[Ht]))continue t;yt.push(Xt[0],Xt[1],Xt[2]),pt=Vt?Vt[ft]:re?re[de]:le,this.opacityscale&&Rt?it.push(pt[0],pt[1],pt[2],this.opacity*k((Rt[ft]-se)/(ve-se),this.opacityscale)):3===pt.length?St.push(pt[0],pt[1],pt[2],this.opacity):(St.push(pt[0],pt[1],pt[2],pt[3]*this.opacity),pt[3]<1&&(this.hasAlpha=!0)),Et.push((Dt=It?It[ft]:Rt?[(Rt[ft]-se)/(ve-se),0]:$t?$t[de]:oe?[(oe[de]-se)/(ve-se),0]:[(Xt[2]-se)/(ve-se),0])[0],Dt[1]),Tt.push(Ct?Ct[ft]:Wt),gt.push(de),kt+=1;break;case 2:for(Ht=0;Ht<2;++Ht){Xt=H[ft=wt[Ht]];for(var Qt=0;Qt<3;++Qt)if(isNaN(Xt[Qt])||!isFinite(Xt[Qt]))continue t}for(Ht=0;Ht<2;++Ht)_.push((Xt=H[ft=wt[Ht]])[0],Xt[1],Xt[2]),pt=Vt?Vt[ft]:re?re[de]:le,this.opacityscale&&Rt?it.push(pt[0],pt[1],pt[2],this.opacity*k((Rt[ft]-se)/(ve-se),this.opacityscale)):3===pt.length?st.push(pt[0],pt[1],pt[2],this.opacity):(st.push(pt[0],pt[1],pt[2],pt[3]*this.opacity),pt[3]<1&&(this.hasAlpha=!0)),dt.push((Dt=It?It[ft]:Rt?[(Rt[ft]-se)/(ve-se),0]:$t?$t[de]:oe?[(oe[de]-se)/(ve-se),0]:[(Xt[2]-se)/(ve-se),0])[0],Dt[1]),xt.push(de);zt+=1;break;case 3:for(Ht=0;Ht<3;++Ht)for(Xt=H[ft=wt[Ht]],Qt=0;Qt<3;++Qt)if(isNaN(Xt[Qt])||!isFinite(Xt[Qt]))continue t;for(Ht=0;Ht<3;++Ht){var ft,pt,Dt,te;Z.push((Xt=H[ft=wt[2-Ht]])[0],Xt[1],Xt[2]),(pt=Vt?Vt[ft]:re?re[de]:le)?this.opacityscale&&Rt?it.push(pt[0],pt[1],pt[2],this.opacity*k((Rt[ft]-se)/(ve-se),this.opacityscale)):3===pt.length?it.push(pt[0],pt[1],pt[2],this.opacity):(it.push(pt[0],pt[1],pt[2],pt[3]*this.opacity),pt[3]<1&&(this.hasAlpha=!0)):it.push(.5,.5,.5,1),Y.push((Dt=It?It[ft]:Rt?[(Rt[ft]-se)/(ve-se),0]:$t?$t[de]:oe?[(oe[de]-se)/(ve-se),0]:[(Xt[2]-se)/(ve-se),0])[0],Dt[1]),Q.push((te=Mt?Mt[ft]:Nt[de])[0],te[1],te[2]),nt.push(de)}Bt+=1}}this.pointCount=kt,this.edgeCount=zt,this.triangleCount=Bt,this.pointPositions.update(yt),this.pointColors.update(St),this.pointUVs.update(Et),this.pointSizes.update(Tt),this.pointIds.update(new Uint32Array(gt)),this.edgePositions.update(_),this.edgeColors.update(st),this.edgeUVs.update(dt),this.edgeIds.update(new Uint32Array(xt)),this.trianglePositions.update(Z),this.triangleColors.update(it),this.triangleUVs.update(Y),this.triangleNormals.update(Q),this.triangleIds.update(new Uint32Array(nt))}},N.drawTransparent=N.draw=function(K){for(var j=this.gl,rt=(K=K||{}).model||F,H=K.view||F,Z=K.projection||F,it=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)it[0][Q]=Math.max(it[0][Q],this.clipBounds[0][Q]),it[1][Q]=Math.min(it[1][Q],this.clipBounds[1][Q]);var Y={model:rt,view:H,projection:Z,inverseModel:F.slice(),clipBounds:it,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};Y.inverseModel=w(Y.inverseModel,Y.model),j.disable(j.CULL_FACE),this.texture.bind(0);var xt,nt=new Array(16);for(c(nt,Y.view,Y.model),c(nt,Y.projection,nt),w(nt,nt),Q=0;Q<3;++Q)Y.eyePosition[Q]=nt[12+Q]/nt[15];var _=nt[15];for(Q=0;Q<3;++Q)_+=this.lightPosition[Q]*nt[4*Q+3];for(Q=0;Q<3;++Q){for(var st=nt[12+Q],dt=0;dt<3;++dt)st+=nt[4*dt+Q]*this.lightPosition[dt];Y.lightPosition[Q]=st/_}this.triangleCount>0&&((xt=this.triShader).bind(),xt.uniforms=Y,this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((xt=this.lineShader).bind(),xt.uniforms=Y,this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((xt=this.pointShader).bind(),xt.uniforms=Y,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((xt=this.contourShader).bind(),xt.uniforms=Y,this.contourVAO.bind(),j.drawArrays(j.LINES,0,this.contourCount),this.contourVAO.unbind())},N.drawPick=function(K){for(var j=this.gl,rt=(K=K||{}).model||F,H=K.view||F,Z=K.projection||F,it=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)it[0][Q]=Math.max(it[0][Q],this.clipBounds[0][Q]),it[1][Q]=Math.min(it[1][Q],this.clipBounds[1][Q]);this._model=[].slice.call(rt),this._view=[].slice.call(H),this._projection=[].slice.call(Z),this._resolution=[j.drawingBufferWidth,j.drawingBufferHeight];var nt,Y={model:rt,view:H,projection:Z,clipBounds:it,pickId:this.pickId/255};(nt=this.pickShader).bind(),nt.uniforms=Y,this.triangleCount>0&&(this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((nt=this.pointPickShader).bind(),nt.uniforms=Y,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind())},N.pick=function(K){if(!K||K.id!==this.pickId)return null;for(var j=K.value[0]+256*K.value[1]+65536*K.value[2],rt=this.cells[j],H=this.positions,Z=new Array(rt.length),it=0;it<rt.length;++it)Z[it]=H[rt[it]];var Q=K.coord[0],Y=K.coord[1];if(!this.pickVertex){var nt=this.positions[rt[0]],_=this.positions[rt[1]],st=this.positions[rt[2]];return{_cellCenter:!0,position:[Q,Y],index:j,cell:rt,cellId:j,intensity:this.intensity[j],dataCoordinate:[(nt[0]+_[0]+st[0])/3,(nt[1]+_[1]+st[1])/3,(nt[2]+_[2]+st[2])/3]}}var xt=E(Z,[Q*this.pixelRatio,this._resolution[1]-Y*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!xt)return null;var yt=xt[2],St=0;for(it=0;it<rt.length;++it)St+=yt[it]*this.intensity[rt[it]];return{position:xt[1],index:rt[xt[0]],cell:rt,cellId:j,intensity:St,dataCoordinate:this.positions[rt[xt[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},l.exports=function lt(K,j){if(1===arguments.length&&(K=(j=K).gl),!(K.getExtension("OES_standard_derivatives")||K.getExtension("MOZ_OES_standard_derivatives")||K.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var H=O(K),Z=U(K),it=G(K),Q=J(K),Y=et(K),nt=at(K),_=u(K,d(new Uint8Array([255,255,255,255]),[1,1,4]));_.generateMipmap(),_.minFilter=K.LINEAR_MIPMAP_LINEAR,_.magFilter=K.LINEAR;var st=h(K),dt=h(K),xt=h(K),yt=h(K),St=h(K),Et=f(K,[{buffer:st,type:K.FLOAT,size:3},{buffer:St,type:K.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:dt,type:K.FLOAT,size:4},{buffer:xt,type:K.FLOAT,size:2},{buffer:yt,type:K.FLOAT,size:3}]),Tt=h(K),gt=h(K),Mt=h(K),Nt=h(K),Gt=f(K,[{buffer:Tt,type:K.FLOAT,size:3},{buffer:Nt,type:K.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:gt,type:K.FLOAT,size:4},{buffer:Mt,type:K.FLOAT,size:2}]),Pt=h(K),Vt=h(K),re=h(K),le=h(K),It=h(K),Rt=f(K,[{buffer:Pt,type:K.FLOAT,size:3},{buffer:It,type:K.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Vt,type:K.FLOAT,size:4},{buffer:re,type:K.FLOAT,size:2},{buffer:le,type:K.FLOAT,size:1}]),$t=h(K),se=new D(K,_,H,Z,it,Q,Y,nt,st,St,dt,xt,yt,Et,Tt,Nt,gt,Mt,Gt,Pt,It,Vt,re,le,Rt,$t,f(K,[{buffer:$t,type:K.FLOAT,size:3}]));return se.update(j),se}},4554:function(l,m,r){"use strict";l.exports=function u(g){var c=g.gl;return new h(g,e(c,[0,0,0,1,1,0,1,1]),s(c,a.boxVert,a.lineFrag))};var e=r(5827),s=r(5158),a=r(2709);function h(g,c,w){this.plot=g,this.vbo=c,this.shader=w}var g,c,f=h.prototype;f.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},f.drawBox=(g=[0,0],c=[0,0],function(w,d,o,v,M){var E=this.shader,x=this.plot.gl;g[0]=w,g[1]=d,c[0]=o,c[1]=v,E.uniforms.lo=g,E.uniforms.hi=c,E.uniforms.color=M,x.drawArrays(x.TRIANGLE_STRIP,0,4)}),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(l,m,r){"use strict";l.exports=function c(w){var d=w.gl;return new f(w,e(d),s(d,h.gridVert,h.gridFrag),s(d,h.tickVert,h.gridFrag))};var e=r(5827),s=r(5158),a=r(5070),h=r(2709);function f(w,d,o,v){this.plot=w,this.vbo=d,this.shader=o,this.tickShader=v,this.ticks=[[],[]]}function u(w,d){return w-d}var w,d,o,g=f.prototype;g.draw=(w=[0,0],d=[0,0],o=[0,0],function(){for(var v=this.plot,M=this.vbo,b=this.shader,E=this.ticks,x=v.gl,S=v._tickBounds,T=v.dataBox,n=v.viewBox,C=v.gridLineWidth,p=v.gridLineColor,F=v.gridLineEnable,D=v.pixelRatio,N=0;N<2;++N){var k=S[N],O=.5*(T[N+2]+T[N]),U=T[N+2]-T[N];d[N]=2*(S[N+2]-k)/U,w[N]=2*(k-O)/U}b.bind(),M.bind(),b.attributes.dataCoord.pointer(),b.uniforms.dataShift=w,b.uniforms.dataScale=d;var G=0;for(N=0;N<2;++N){o[0]=o[1]=0,o[N]=1,b.uniforms.dataAxis=o,b.uniforms.lineWidth=C[N]/(n[N+2]-n[N])*D,b.uniforms.color=p[N];var J=6*E[N].length;F[N]&&J&&x.drawArrays(x.TRIANGLES,G,J),G+=J}}),g.drawTickMarks=function(){var w=[0,0],d=[0,0],o=[1,0],v=[0,1],M=[0,0],b=[0,0];return function(){for(var E=this.plot,x=this.vbo,S=this.tickShader,T=this.ticks,n=E.gl,C=E._tickBounds,p=E.dataBox,F=E.viewBox,D=E.pixelRatio,N=E.screenBox,k=N[2]-N[0],z=N[3]-N[1],B=F[2]-F[0],O=F[3]-F[1],U=0;U<2;++U){var G=C[U],at=.5*(p[U+2]+p[U]),lt=p[U+2]-p[U];d[U]=2*(C[U+2]-G)/lt,w[U]=2*(G-at)/lt}d[0]*=B/k,w[0]*=B/k,d[1]*=O/z,w[1]*=O/z,S.bind(),x.bind(),S.attributes.dataCoord.pointer();var K=S.uniforms;K.dataShift=w,K.dataScale=d;var j=E.tickMarkLength,rt=E.tickMarkWidth,H=E.tickMarkColor,it=6*T[0].length,Q=Math.min(a.ge(T[0],(p[0]-C[0])/(C[2]-C[0]),u),T[0].length),Y=Math.min(a.gt(T[0],(p[2]-C[0])/(C[2]-C[0]),u),T[0].length),nt=0+6*Q,_=6*Math.max(0,Y-Q),st=Math.min(a.ge(T[1],(p[1]-C[1])/(C[3]-C[1]),u),T[1].length),dt=Math.min(a.gt(T[1],(p[3]-C[1])/(C[3]-C[1]),u),T[1].length),xt=it+6*st,yt=6*Math.max(0,dt-st);M[0]=2*(F[0]-j[1])/k-1,M[1]=(F[3]+F[1])/z-1,b[0]=j[1]*D/k,b[1]=rt[1]*D/z,yt&&(K.color=H[1],K.tickScale=b,K.dataAxis=v,K.screenOffset=M,n.drawArrays(n.TRIANGLES,xt,yt)),M[0]=(F[2]+F[0])/k-1,M[1]=2*(F[1]-j[0])/z-1,b[0]=rt[0]*D/k,b[1]=j[0]*D/z,_&&(K.color=H[0],K.tickScale=b,K.dataAxis=o,K.screenOffset=M,n.drawArrays(n.TRIANGLES,nt,_)),M[0]=2*(F[2]+j[3])/k-1,M[1]=(F[3]+F[1])/z-1,b[0]=j[3]*D/k,b[1]=rt[3]*D/z,yt&&(K.color=H[3],K.tickScale=b,K.dataAxis=v,K.screenOffset=M,n.drawArrays(n.TRIANGLES,xt,yt)),M[0]=(F[2]+F[0])/k-1,M[1]=2*(F[3]+j[2])/z-1,b[0]=rt[2]*D/k,b[1]=j[2]*D/z,_&&(K.color=H[2],K.tickScale=b,K.dataAxis=o,K.screenOffset=M,n.drawArrays(n.TRIANGLES,nt,_))}}(),g.update=function(){var w=[1,1,-1,-1,1,-1],d=[1,-1,1,1,-1,-1];return function(o){for(var v=o.ticks,M=o.bounds,b=new Float32Array(18*(v[0].length+v[1].length)),x=0,S=[[],[]],T=0;T<2;++T)for(var n=S[T],C=v[T],p=M[T],F=M[T+2],D=0;D<C.length;++D){var N=(C[D].x-p)/(F-p);n.push(N);for(var k=0;k<6;++k)b[x++]=N,b[x++]=w[k],b[x++]=d[k]}this.ticks=S,this.vbo.update(b)}}(),g.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(l,m,r){"use strict";l.exports=function u(g){var c=g.gl;return new h(g,e(c,[-1,-1,-1,1,1,-1,1,1]),s(c,a.lineVert,a.lineFrag))};var e=r(5827),s=r(5158),a=r(2709);function h(g,c,w){this.plot=g,this.vbo=c,this.shader=w}var g,c,f=h.prototype;f.bind=function(){var g=this.shader;this.vbo.bind(),this.shader.bind(),g.attributes.coord.pointer(),g.uniforms.screenBox=this.plot.screenBox},f.drawLine=(g=[0,0],c=[0,0],function(w,d,o,v,M,b){var E=this.plot,x=this.shader,S=E.gl;g[0]=w,g[1]=d,c[0]=o,c[1]=v,x.uniforms.start=g,x.uniforms.end=c,x.uniforms.width=M*E.pixelRatio,x.uniforms.color=b,S.drawArrays(S.TRIANGLE_STRIP,0,4)}),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(l,m,r){"use strict";var e=r(6832),s=e(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);l.exports={lineVert:e(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:s,textVert:e(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:s,gridVert:e(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:s,boxVert:e(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:e(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},5613:function(l,m,r){"use strict";l.exports=function c(w){var d=w.gl;return new u(w,e(d),s(d,f.textVert,f.textFrag))};var e=r(5827),s=r(5158),a=r(6946),h=r(5070),f=r(2709);function u(w,d,o){this.plot=w,this.vbo=d,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var w,d,o,g=u.prototype;g.drawTicks=(w=[0,0],d=[0,0],o=[0,0],function(v){var M=this.plot,b=this.shader,E=this.tickX[v],x=this.tickOffset[v],S=M.gl,T=M.viewBox,n=M.dataBox,C=M.screenBox,p=M.pixelRatio,F=M.tickEnable,D=M.tickPad,N=M.tickColor,k=M.tickAngle,z=M.labelEnable,B=M.labelPad,O=M.labelColor,U=M.labelAngle,G=this.labelOffset[v],J=this.labelCount[v],et=h.lt(E,n[v]),at=h.le(E,n[v+2]);w[0]=w[1]=0,w[v]=1,d[v]=(T[2+v]+T[v])/(C[2+v]-C[v])-1;var lt=2/C[2+(1^v)]-C[1^v];d[1^v]=lt*T[1^v]-1,F[v]&&(d[1^v]-=lt*p*D[v],et<at&&x[at]>x[et]&&(b.uniforms.dataAxis=w,b.uniforms.screenOffset=d,b.uniforms.color=N[v],b.uniforms.angle=k[v],S.drawArrays(S.TRIANGLES,x[et],x[at]-x[et]))),z[v]&&J&&(d[1^v]-=lt*p*B[v],b.uniforms.dataAxis=o,b.uniforms.screenOffset=d,b.uniforms.color=O[v],b.uniforms.angle=U[v],S.drawArrays(S.TRIANGLES,G,J)),d[1^v]=lt*T[2+(1^v)]-1,F[v+2]&&(d[1^v]+=lt*p*D[v+2],et<at&&x[at]>x[et]&&(b.uniforms.dataAxis=w,b.uniforms.screenOffset=d,b.uniforms.color=N[v+2],b.uniforms.angle=k[v+2],S.drawArrays(S.TRIANGLES,x[et],x[at]-x[et]))),z[v+2]&&J&&(d[1^v]+=lt*p*B[v+2],b.uniforms.dataAxis=o,b.uniforms.screenOffset=d,b.uniforms.color=O[v+2],b.uniforms.angle=U[v+2],S.drawArrays(S.TRIANGLES,G,J))}),g.drawTitle=function(){var w=[0,0],d=[0,0];return function(){var o=this.plot,v=this.shader,M=o.gl,b=o.screenBox,E=o.titleCenter,x=o.titleAngle,S=o.titleColor,T=o.pixelRatio;if(this.titleCount){for(var n=0;n<2;++n)d[n]=2*(E[n]*T-b[n])/(b[2+n]-b[n])-1;v.bind(),v.uniforms.dataAxis=w,v.uniforms.screenOffset=d,v.uniforms.angle=x,v.uniforms.color=S,M.drawArrays(M.TRIANGLES,this.titleOffset,this.titleCount)}}}(),g.bind=function(){var w=[0,0],d=[0,0],o=[0,0];return function(){var v=this.plot,M=this.shader,b=v._tickBounds,E=v.dataBox,x=v.screenBox,S=v.viewBox;M.bind();for(var T=0;T<2;++T){var n=b[T],F=.5*(E[T+2]+E[T]),D=E[T+2]-E[T],z=S[T+2]-S[T],U=x[T+2]-x[T];d[T]=2*(b[T+2]-n)/D*z/U,w[T]=2*(n-F)/D*z/U}o[1]=2*v.pixelRatio/(x[3]-x[1]),o[0]=o[1]*(x[3]-x[1])/(x[2]-x[0]),M.uniforms.dataScale=d,M.uniforms.dataShift=w,M.uniforms.textScale=o,this.vbo.bind(),M.attributes.textCoordinate.pointer()}}(),g.update=function(w){var M,b,x,S,T,d=[],o=w.ticks,v=w.bounds;for(T=0;T<2;++T){var n=[Math.floor(d.length/3)],C=[-1/0],p=o[T];for(M=0;M<p.length;++M){var F=p[M],D=F.x,k=F.font||"sans-serif";S=F.fontSize||12;for(var z=1/(v[T+2]-v[T]),B=v[T],O=F.text.split("\n"),U=0;U<O.length;U++)for(x=a(k,O[U]).data,b=0;b<x.length;b+=2)d.push(x[b]*S,-x[b+1]*S-U*S*1.2,(D-B)*z);n.push(Math.floor(d.length/3)),C.push(D)}this.tickOffset[T]=n,this.tickX[T]=C}for(T=0;T<2;++T){for(this.labelOffset[T]=Math.floor(d.length/3),x=a(w.labelFont[T],w.labels[T],{textAlign:"center"}).data,S=w.labelSize[T],M=0;M<x.length;M+=2)d.push(x[M]*S,-x[M+1]*S,0);this.labelCount[T]=Math.floor(d.length/3)-this.labelOffset[T]}for(this.titleOffset=Math.floor(d.length/3),x=a(w.titleFont,w.title).data,S=w.titleSize,M=0;M<x.length;M+=2)d.push(x[M]*S,-x[M+1]*S,0);this.titleCount=Math.floor(d.length/3)-this.titleOffset,this.vbo.update(d)},g.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(l,m,r){"use strict";l.exports=function o(v){var M=v.gl,E=new u(M,e(M,[M.drawingBufferWidth,M.drawingBufferHeight]));return E.grid=s(E),E.text=a(E),E.line=h(E),E.box=f(E),E.update(v),E};var e=r(2611),s=r(3016),a=r(5613),h=r(1154),f=r(4554);function u(v,M){this.gl=v,this.pickBuffer=M,this.screenBox=[0,0,v.drawingBufferWidth,v.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var g=u.prototype;function w(v){for(var M=v.slice(),b=0;b<M.length;++b)M[b]=M[b].slice();return M}function d(v,M){return v.x-M.x}g.setDirty=function(){this.dirty=this.pickDirty=!0},g.setOverlayDirty=function(){this.dirty=!0},g.nextDepthValue=function(){return this._depthCounter++/65536},g.draw=function(){var M=this.gl,b=this.screenBox,E=this.viewBox,x=this.dataBox,S=this.pixelRatio,T=this.grid,n=this.line,C=this.text,p=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,M.bindFramebuffer(M.FRAMEBUFFER,null),M.enable(M.SCISSOR_TEST),M.disable(M.DEPTH_TEST),M.depthFunc(M.LESS),M.depthMask(!1),M.enable(M.BLEND),M.blendEquation(M.FUNC_ADD,M.FUNC_ADD),M.blendFunc(M.ONE,M.ONE_MINUS_SRC_ALPHA),this.borderColor){M.scissor(b[0],b[1],b[2]-b[0],b[3]-b[1]);var F=this.borderColor;M.clearColor(F[0]*F[3],F[1]*F[3],F[2]*F[3],F[3]),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT)}M.scissor(E[0],E[1],E[2]-E[0],E[3]-E[1]),M.viewport(E[0],E[1],E[2]-E[0],E[3]-E[1]);var D=this.backgroundColor;M.clearColor(D[0]*D[3],D[1]*D[3],D[2]*D[3],D[3]),M.clear(M.COLOR_BUFFER_BIT),T.draw();var N=this.zeroLineEnable,k=this.zeroLineColor,z=this.zeroLineWidth;if(N[0]||N[1]){n.bind();for(var B=0;B<2;++B)if(N[B]&&x[B]<=0&&x[B+2]>=0){var O=b[B]-x[B]*(b[B+2]-b[B])/(x[B+2]-x[B]);0===B?n.drawLine(O,b[1],O,b[3],z[B],k[B]):n.drawLine(b[0],O,b[2],O,z[B],k[B])}}for(B=0;B<p.length;++B)p[B].draw();M.viewport(b[0],b[1],b[2]-b[0],b[3]-b[1]),M.scissor(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.grid.drawTickMarks(),n.bind();var U=this.borderLineEnable,G=this.borderLineWidth,J=this.borderLineColor;for(U[1]&&n.drawLine(E[0],E[1]-.5*G[1]*S,E[0],E[3]+.5*G[3]*S,G[1],J[1]),U[0]&&n.drawLine(E[0]-.5*G[0]*S,E[1],E[2]+.5*G[2]*S,E[1],G[0],J[0]),U[3]&&n.drawLine(E[2],E[1]-.5*G[1]*S,E[2],E[3]+.5*G[3]*S,G[3],J[3]),U[2]&&n.drawLine(E[0]-.5*G[0]*S,E[3],E[2]+.5*G[2]*S,E[3],G[2],J[2]),C.bind(),B=0;B<2;++B)C.drawTicks(B);this.titleEnable&&C.drawTitle();var et=this.overlays;for(B=0;B<et.length;++B)et[B].draw();M.disable(M.SCISSOR_TEST),M.disable(M.BLEND),M.depthMask(!0)}},g.drawPick=function(){if(!this.static){var v=this.pickBuffer;this._pickTimeout=null,v.begin();for(var b=1,E=this.objects,x=0;x<E.length;++x)b=E[x].drawPick(b);v.end()}},g.pick=function(v,M){if(!this.static){var b=this.pixelRatio,E=this.pickPixelRatio,x=this.viewBox,S=0|Math.round((v-x[0]/b)*E),T=0|Math.round((M-x[1]/b)*E),n=this.pickBuffer.query(S,T,this.pickRadius);if(!n)return null;for(var C=n.id+(n.value[0]<<8)+(n.value[1]<<16)+(n.value[2]<<24),p=this.objects,F=0;F<p.length;++F){var D=p[F].pick(S,T,C);if(D)return D}return null}},g.setScreenBox=function(v){var M=this.screenBox,b=this.pixelRatio;M[0]=0|Math.round(v[0]*b),M[1]=0|Math.round(v[1]*b),M[2]=0|Math.round(v[2]*b),M[3]=0|Math.round(v[3]*b),this.setDirty()},g.setDataBox=function(v){var M=this.dataBox;(M[0]!==v[0]||M[1]!==v[1]||M[2]!==v[2]||M[3]!==v[3])&&(M[0]=v[0],M[1]=v[1],M[2]=v[2],M[3]=v[3],this.setDirty())},g.setViewBox=function(v){var M=this.pixelRatio,b=this.viewBox;b[0]=0|Math.round(v[0]*M),b[1]=0|Math.round(v[1]*M),b[2]=0|Math.round(v[2]*M),b[3]=0|Math.round(v[3]*M);var E=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((v[2]-v[0])*E),0|Math.round((v[3]-v[1])*E)],this.setDirty()},g.update=function(v){var M=this.gl;this.pixelRatio=(v=v||{}).pixelRatio||1;var b=this.pixelRatio;this.pickPixelRatio=Math.max(b,1),this.setScreenBox(v.screenBox||[0,0,M.drawingBufferWidth/b,M.drawingBufferHeight/b]),this.setViewBox(v.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/b,.125*(this.screenBox[3]-this.screenBox[1])/b,.875*(this.screenBox[2]-this.screenBox[0])/b,.875*(this.screenBox[3]-this.screenBox[1])/b]);var x=this.viewBox,S=(x[2]-x[0])/(x[3]-x[1]);this.setDataBox(v.dataBox||[-10,-10/S,10,10/S]),this.borderColor=!1!==v.borderColor&&(v.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(v.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(v.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(v.gridLineWidth||[1,1]).slice(),this.gridLineColor=w(v.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(v.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(v.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=w(v.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(v.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(v.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=w(v.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(v.titleCenter||[.5*(x[0]+x[2])/b,(x[3]+120)/b]).slice(),this.titleEnable=!("titleEnable"in v)||!!v.titleEnable,this.titleAngle=v.titleAngle||0,this.titleColor=(v.titleColor||[0,0,0,1]).slice(),this.labelPad=(v.labelPad||[15,15,15,15]).slice(),this.labelAngle=(v.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(v.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=w(v.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(v.tickPad||[15,15,15,15]).slice(),this.tickAngle=(v.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(v.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=w(v.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(v.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(v.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=w(v.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var T=v.ticks||[[],[]],n=this._tickBounds;n[0]=n[1]=1/0,n[2]=n[3]=-1/0;for(var C=0;C<2;++C){var p=T[C].slice(0);0!==p.length&&(p.sort(d),n[C]=Math.min(n[C],p[0].x),n[C+2]=Math.max(n[C+2],p[p.length-1].x))}this.grid.update({bounds:n,ticks:T}),this.text.update({bounds:n,ticks:T,labels:v.labels||["x","y"],labelSize:v.labelSize||[12,12],labelFont:v.labelFont||["sans-serif","sans-serif"],title:v.title||"",titleSize:v.titleSize||18,titleFont:v.titleFont||"sans-serif"}),this.static=!!v.static,this.setDirty()},g.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var v=this.objects.length-1;v>=0;--v)this.objects[v].dispose();for(this.objects.length=0,v=this.overlays.length-1;v>=0;--v)this.overlays[v].dispose();this.overlays.length=0,this.gl=null},g.addObject=function(v){this.objects.indexOf(v)<0&&(this.objects.push(v),this.setDirty())},g.removeObject=function(v){for(var M=this.objects,b=0;b<M.length;++b)if(M[b]===v){M.splice(b,1),this.setDirty();break}},g.addOverlay=function(v){this.overlays.indexOf(v)<0&&(this.overlays.push(v),this.setOverlayDirty())},g.removeOverlay=function(v){for(var M=this.overlays,b=0;b<M.length;++b)if(M[b]===v){M.splice(b,1),this.setOverlayDirty();break}}},4296:function(l,m,r){"use strict";l.exports=function g(c,w){c=c||document.body;var d=[.01,1/0];"distanceLimits"in(w=w||{})&&(d[0]=w.distanceLimits[0],d[1]=w.distanceLimits[1]),"zoomMin"in w&&(d[0]=w.zoomMin),"zoomMax"in w&&(d[1]=w.zoomMax);var o=s({center:w.center||[0,0,0],up:w.up||[0,1,0],eye:w.eye||[0,0,10],mode:w.mode||"orbit",distanceLimits:d}),v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M=0,b=c.clientWidth,E=c.clientHeight,x={keyBindingMode:"rotate",enableWheel:!0,view:o,element:c,delay:w.delay||16,rotateSpeed:w.rotateSpeed||1,zoomSpeed:w.zoomSpeed||1,translateSpeed:w.translateSpeed||1,flipX:!!w.flipX,flipY:!!w.flipY,modes:o.modes,_ortho:w._ortho||w.projection&&"orthographic"===w.projection.type||!1,tick:function(){var S=e(),T=this.delay,n=S-2*T;o.idle(S-T),o.recalcMatrix(n),o.flush(S-(100+2*T));for(var C=!0,p=o.computedMatrix,F=0;F<16;++F)C=C&&v[F]===p[F],v[F]=p[F];var D=c.clientWidth===b&&c.clientHeight===E;return b=c.clientWidth,E=c.clientHeight,C?!D:(M=Math.exp(o.computedRadius[0]),!0)},lookAt:function(S,T,n){o.lookAt(o.lastT(),S,T,n)},rotate:function(S,T,n){o.rotate(o.lastT(),S,T,n)},pan:function(S,T,n){o.pan(o.lastT(),S,T,n)},translate:function(S,T,n){o.translate(o.lastT(),S,T,n)}};return Object.defineProperties(x,{matrix:{get:function(){return o.computedMatrix},set:function(S){return o.setMatrix(o.lastT(),S),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(S){var T=o.computedUp.slice(),n=o.computedEye.slice(),C=o.computedCenter.slice();if(o.setMode(S),"turntable"===S){var p=e();o._active.lookAt(p,n,C,T),o._active.lookAt(p+500,n,C,[0,0,1]),o._active.flush(p)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(S){return o.lookAt(o.lastT(),null,S),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(S){return o.lookAt(o.lastT(),S),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(S){return o.lookAt(o.lastT(),null,null,S),o.computedUp},enumerable:!0},distance:{get:function(){return M},set:function(S){return o.setDistance(o.lastT(),S),S},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(d)},set:function(S){return o.setDistanceLimits(S),S},enumerable:!0}}),c.addEventListener("contextmenu",function(S){return S.preventDefault(),!1}),x._lastX=-1,x._lastY=-1,x._lastMods={shift:!1,control:!1,alt:!1,meta:!1},x.enableMouseListeners=function(){function S(T,n,C,p){var F=x.keyBindingMode;if(!1!==F){var D="rotate"===F,N="pan"===F,k="zoom"===F,z=!!p.control,B=!!p.alt,O=!!p.shift,U=!!(1&T),G=!!(2&T),J=!!(4&T),et=1/c.clientHeight,at=et*(n-x._lastX),lt=et*(C-x._lastY),K=x.flipX?1:-1,j=x.flipY?1:-1,rt=Math.PI*x.rotateSpeed,H=e();if(-1!==x._lastX&&-1!==x._lastY&&((D&&U&&!z&&!B&&!O||U&&!z&&!B&&O)&&o.rotate(H,K*rt*at,-j*rt*lt,0),(N&&U&&!z&&!B&&!O||G||U&&z&&!B&&!O)&&o.pan(H,-x.translateSpeed*at*M,x.translateSpeed*lt*M,0),k&&U&&!z&&!B&&!O||J||U&&!z&&B&&!O)){var Z=-x.zoomSpeed*lt/window.innerHeight*(H-o.lastT())*100;o.pan(H,0,0,M*(Math.exp(Z)-1))}return x._lastX=n,x._lastY=C,x._lastMods=p,!0}}x.mouseListener=a(c,S),c.addEventListener("touchstart",function(T){var n=f(T.changedTouches[0],c);S(0,n[0],n[1],x._lastMods),S(1,n[0],n[1],x._lastMods)},!!u&&{passive:!0}),c.addEventListener("touchmove",function(T){var n=f(T.changedTouches[0],c);S(1,n[0],n[1],x._lastMods),T.preventDefault()},!!u&&{passive:!1}),c.addEventListener("touchend",function(T){S(0,x._lastX,x._lastY,x._lastMods)},!!u&&{passive:!0}),x.wheelListener=h(c,function(T,n){if(!1!==x.keyBindingMode&&x.enableWheel){var C=x.flipX?1:-1,p=x.flipY?1:-1,F=e();if(Math.abs(T)>Math.abs(n))o.rotate(F,0,0,-T*C*Math.PI*x.rotateSpeed/window.innerWidth);else if(!x._ortho){var D=-x.zoomSpeed*p*n/window.innerHeight*(F-o.lastT())/20;o.pan(F,0,0,M*(Math.exp(D)-1))}}},!0)},x.enableMouseListeners(),x};var e=r(8161),s=r(1152),a=r(6145),h=r(6475),f=r(2565),u=r(5233)},8245:function(l,m,r){var e=r(6832),s=r(5158),a=e(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),h=e(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);l.exports=function(f){return s(f,a,h,null,[{name:"position",type:"vec2"}])}},1059:function(l,m,r){"use strict";var e=r(4296),s=r(7453),a=r(2771),h=r(6496),f=r(2611),u=r(4234),g=r(8126),c=r(6145),w=r(1120),d=r(5268),o=r(8245),v=r(2321)({tablet:!0,featureDetect:!0});function M(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function E(n){var C=Math.round(Math.log(Math.abs(n))/Math.log(10));if(C<0){var p=Math.round(Math.pow(10,-C));return Math.ceil(n*p)/p}return C>0?(p=Math.round(Math.pow(10,C)),Math.ceil(n/p)*p):Math.ceil(n)}function x(n){return"boolean"!=typeof n||n}l.exports={createScene:function S(n){(n=n||{}).camera=n.camera||{};var C=n.canvas;C||(C=document.createElement("canvas"),n.container?n.container.appendChild(C):document.body.appendChild(C));var F=n.gl;if(F||(n.glOptions&&(v=!!n.glOptions.preserveDrawingBuffer),F=function b(n,C){var p=null;try{(p=n.getContext("webgl",C))||(p=n.getContext("experimental-webgl",C))}catch(F){return null}return p}(C,n.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:v})),!F)throw new Error("webgl not supported");var D=n.bounds||[[-10,-10,-10],[10,10,10]],N=new M,k=u(F,F.drawingBufferWidth,F.drawingBufferHeight,{preferFloat:!v}),z=o(F),B=n.cameraObject&&!0===n.cameraObject._ortho||n.camera.projection&&"orthographic"===n.camera.projection.type||!1,O={eye:n.camera.eye||[2,0,0],center:n.camera.center||[0,0,0],up:n.camera.up||[0,1,0],zoomMin:n.camera.zoomMax||.1,zoomMax:n.camera.zoomMin||100,mode:n.camera.mode||"turntable",_ortho:B},U=n.axes||{},G=s(F,U);G.enable=!U.disable;var et=h(F,n.spikes||{}),at=[],lt=[],K=[],j=[],rt=!0,Q=!0,it={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},Y=(Q=!0,[F.drawingBufferWidth,F.drawingBufferHeight]),nt=n.cameraObject||e(C,O),_={gl:F,contextLost:!1,pixelRatio:n.pixelRatio||1,canvas:C,selection:N,camera:nt,axes:G,axesPixels:null,spikes:et,bounds:D,objects:at,shape:Y,aspect:n.aspectRatio||[1,1,1],pickRadius:n.pickRadius||10,zNear:n.zNear||.01,zFar:n.zFar||1e3,fovy:n.fovy||Math.PI/4,clearColor:n.clearColor||[0,0,0,0],autoResize:x(n.autoResize),autoBounds:x(n.autoBounds),autoScale:!!n.autoScale,autoCenter:x(n.autoCenter),clipToBounds:x(n.clipToBounds),snapToData:!!n.snapToData,onselect:n.onselect||null,onrender:n.onrender||null,onclick:n.onclick||null,cameraParams:it,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Nt){this.aspect[0]=Nt.x,this.aspect[1]=Nt.y,this.aspect[2]=Nt.z,Q=!0},setBounds:function(Nt,Gt){this.bounds[0][Nt]=Gt.min,this.bounds[1][Nt]=Gt.max},setClearColor:function(Nt){this.clearColor=Nt},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},st=[F.drawingBufferWidth/_.pixelRatio|0,F.drawingBufferHeight/_.pixelRatio|0];function dt(){if(!_._stopped&&_.autoResize){var Nt=C.parentNode,Gt=1,Pt=1;Nt&&Nt!==document.body?(Gt=Nt.clientWidth,Pt=Nt.clientHeight):(Gt=window.innerWidth,Pt=window.innerHeight);var Vt=0|Math.ceil(Gt*_.pixelRatio),re=0|Math.ceil(Pt*_.pixelRatio);if(Vt!==C.width||re!==C.height){C.width=Vt,C.height=re;var le=C.style;le.position=le.position||"absolute",le.left="0px",le.top="0px",le.width=Gt+"px",le.height=Pt+"px",rt=!0}}}function xt(){for(var Nt=at.length,Gt=j.length,Pt=0;Pt<Gt;++Pt)K[Pt]=0;t:for(Pt=0;Pt<Nt;++Pt){var Vt=at[Pt],re=Vt.pickSlots;if(re){for(var le=0;le<Gt;++le)if(K[le]+re<255){lt[Pt]=le,Vt.setPickBase(K[le]+1),K[le]+=re;continue t}var It=f(F,Y);lt[Pt]=Gt,j.push(It),K.push(re),Vt.setPickBase(1),Gt+=1}else lt[Pt]=-1}for(;Gt>0&&0===K[Gt-1];)K.pop(),j.pop().dispose()}function yt(){if(_.contextLost)return!0;F.isContextLost()&&(_.contextLost=!0,_.mouseListener.enabled=!1,_.selection.object=null,_.oncontextloss&&_.oncontextloss())}_.autoResize&&dt(),window.addEventListener("resize",dt),_.update=function(Nt){_._stopped||(Nt=Nt||{},rt=!0,Q=!0)},_.add=function(Nt){_._stopped||(Nt.axes=G,at.push(Nt),lt.push(-1),rt=!0,Q=!0,xt())},_.remove=function(Nt){if(!_._stopped){var Gt=at.indexOf(Nt);Gt<0||(at.splice(Gt,1),lt.pop(),rt=!0,Q=!0,xt())}},_.dispose=function(){if(!_._stopped&&(_._stopped=!0,window.removeEventListener("resize",dt),C.removeEventListener("webglcontextlost",yt),_.mouseListener.enabled=!1,!_.contextLost)){G.dispose(),et.dispose();for(var Nt=0;Nt<at.length;++Nt)at[Nt].dispose();for(k.dispose(),Nt=0;Nt<j.length;++Nt)j[Nt].dispose();z.dispose(),F=null,G=null,et=null,at=[]}},_._mouseRotating=!1,_._prevButtons=0,_.enableMouseListeners=function(){_.mouseListener=c(C,function(Nt,Gt,Pt){if(!_._stopped){var Vt=j.length,re=at.length,le=N.object;N.distance=1/0,N.mouse[0]=Gt,N.mouse[1]=Pt,N.object=null,N.screen=null,N.dataCoordinate=N.dataPosition=null;var It=!1;if(Nt&&_._prevButtons)_._mouseRotating=!0;else{_._mouseRotating&&(Q=!0),_._mouseRotating=!1;for(var Rt=0;Rt<Vt;++Rt){var $t=j[Rt].query(Gt,st[1]-Pt-1,_.pickRadius);if($t){if($t.distance>N.distance)continue;for(var oe=0;oe<re;++oe){var se=at[oe];if(lt[oe]===Rt){var ve=se.pick($t);ve&&(N.buttons=Nt,N.screen=$t.coord,N.distance=$t.distance,N.object=se,N.index=ve.distance,N.dataPosition=ve.position,N.dataCoordinate=ve.dataCoordinate,N.data=ve,It=!0)}}}}}le&&le!==N.object&&(le.highlight&&le.highlight(null),rt=!0),N.object&&(N.object.highlight&&N.object.highlight(N.data),rt=!0),(It=It||N.object!==le)&&_.onselect&&_.onselect(N),1&Nt&&!(1&_._prevButtons)&&_.onclick&&_.onclick(N),_._prevButtons=Nt}})},C.addEventListener("webglcontextlost",yt);var Et=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Tt=[Et[0].slice(),Et[1].slice()];function gt(){if(!yt()){dt();var Nt=_.camera.tick();it.view=_.camera.matrix,rt=rt||Nt,Q=Q||Nt,G.pixelRatio=_.pixelRatio,et.pixelRatio=_.pixelRatio;var Gt=at.length,Pt=Et[0],Vt=Et[1];Pt[0]=Pt[1]=Pt[2]=1/0,Vt[0]=Vt[1]=Vt[2]=-1/0;for(var re=0;re<Gt;++re){(le=at[re]).pixelRatio=_.pixelRatio,le.axes=_.axes,rt=rt||!!le.dirty,Q=Q||!!le.dirty;var It=le.bounds;if(It)for(var Rt=It[0],$t=It[1],oe=0;oe<3;++oe)Pt[oe]=Math.min(Pt[oe],Rt[oe]),Vt[oe]=Math.max(Vt[oe],$t[oe])}var se=_.bounds;if(_.autoBounds)for(oe=0;oe<3;++oe){if(Vt[oe]<Pt[oe])Pt[oe]=-1,Vt[oe]=1;else{Pt[oe]===Vt[oe]&&(Pt[oe]-=1,Vt[oe]+=1);var ve=.05*(Vt[oe]-Pt[oe]);Pt[oe]=Pt[oe]-ve,Vt[oe]=Vt[oe]+ve}se[0][oe]=Pt[oe],se[1][oe]=Vt[oe]}var de=!1;for(oe=0;oe<3;++oe)de=de||Tt[0][oe]!==se[0][oe]||Tt[1][oe]!==se[1][oe],Tt[0][oe]=se[0][oe],Tt[1][oe]=se[1][oe];if(Q=Q||de,rt=rt||de){if(de){var jt=[0,0,0];for(re=0;re<3;++re)jt[re]=E((se[1][re]-se[0][re])/10);G.update(G.autoTicks?{bounds:se,tickSpacing:jt}:{bounds:se})}var Ct=F.drawingBufferWidth,Wt=F.drawingBufferHeight;for(Y[0]=Ct,Y[1]=Wt,st[0]=0|Math.max(Ct/_.pixelRatio,1),st[1]=0|Math.max(Wt/_.pixelRatio,1),function T(n,C){var p=n.bounds,F=n.cameraParams,D=F.projection,N=F.model,B=n.zNear,O=n.zFar,U=n.fovy,G=n.gl.drawingBufferWidth/n.gl.drawingBufferHeight;C?(d(D,-G,G,-1,1,B,O),F._ortho=!0):(w(D,U,G,B,O),F._ortho=!1);for(var J=0;J<16;++J)N[J]=0;N[15]=1;var et=0;for(J=0;J<3;++J)et=Math.max(et,p[1][J]-p[0][J]);for(J=0;J<3;++J)N[5*J]=n.autoScale?n.aspect[J]/(p[1][J]-p[0][J]):1/et,n.autoCenter&&(N[12+J]=.5*-N[5*J]*(p[0][J]+p[1][J]))}(_,B),re=0;re<Gt;++re)(le=at[re]).axesBounds=se,_.clipToBounds&&(le.clipBounds=se);N.object&&(et.position=_.snapToData?N.dataCoordinate:N.dataPosition,et.bounds=se),Q&&(Q=!1,function St(){if(!yt()){F.colorMask(!0,!0,!0,!0),F.depthMask(!0),F.disable(F.BLEND),F.enable(F.DEPTH_TEST),F.depthFunc(F.LEQUAL);for(var Nt=at.length,Gt=j.length,Pt=0;Pt<Gt;++Pt){var Vt=j[Pt];Vt.shape=st,Vt.begin();for(var re=0;re<Nt;++re)if(lt[re]===Pt){var le=at[re];le.drawPick&&(le.pixelRatio=1,le.drawPick(it))}Vt.end()}}}()),_.axesPixels=a(_.axes,it,Ct,Wt),_.onrender&&_.onrender(),F.bindFramebuffer(F.FRAMEBUFFER,null),F.viewport(0,0,Ct,Wt),_.clearRGBA(),F.depthMask(!0),F.colorMask(!0,!0,!0,!0),F.enable(F.DEPTH_TEST),F.depthFunc(F.LEQUAL),F.disable(F.BLEND),F.disable(F.CULL_FACE);var Xt=!1;for(G.enable&&(Xt=Xt||G.isTransparent(),G.draw(it)),et.axes=G,N.object&&et.draw(it),F.disable(F.CULL_FACE),re=0;re<Gt;++re)(le=at[re]).axes=G,le.pixelRatio=_.pixelRatio,le.isOpaque&&le.isOpaque()&&le.draw(it),le.isTransparent&&le.isTransparent()&&(Xt=!0);if(Xt){for(k.shape=Y,k.bind(),F.clear(F.DEPTH_BUFFER_BIT),F.colorMask(!1,!1,!1,!1),F.depthMask(!0),F.depthFunc(F.LESS),G.enable&&G.isTransparent()&&G.drawTransparent(it),re=0;re<Gt;++re)(le=at[re]).isOpaque&&le.isOpaque()&&le.draw(it);for(F.enable(F.BLEND),F.blendEquation(F.FUNC_ADD),F.blendFunc(F.ONE,F.ONE_MINUS_SRC_ALPHA),F.colorMask(!0,!0,!0,!0),F.depthMask(!1),F.clearColor(0,0,0,0),F.clear(F.COLOR_BUFFER_BIT),G.isTransparent()&&G.drawTransparent(it),re=0;re<Gt;++re){var le;(le=at[re]).isTransparent&&le.isTransparent()&&le.drawTransparent(it)}F.bindFramebuffer(F.FRAMEBUFFER,null),F.blendFunc(F.ONE,F.ONE_MINUS_SRC_ALPHA),F.disable(F.DEPTH_TEST),z.bind(),k.color[0].bind(0),z.uniforms.accumBuffer=0,g(F),F.disable(F.BLEND)}for(rt=!1,re=0;re<Gt;++re)at[re].dirty=!1}}}return _.enableMouseListeners(),function Mt(){_._stopped||_.contextLost||(gt(),requestAnimationFrame(Mt))}(),_.redraw=function(){_._stopped||(rt=!0,gt())},_},createCamera:e}},8023:function(l,m,r){var e=r(6832);m.pointVertex=e(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),m.pointFragment=e(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),m.pickVertex=e(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),m.pickFragment=e(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},8271:function(l,m,r){"use strict";var e=r(5158),s=r(5827),a=r(5306),h=r(8023);function f(w,d,o,v,M){this.plot=w,this.offsetBuffer=d,this.pickBuffer=o,this.shader=v,this.pickShader=M,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}l.exports=function c(w,d){var o=w.gl,x=new f(w,s(o),s(o),e(o,h.pointVertex,h.pointFragment),e(o,h.pickVertex,h.pickFragment));return x.update(d),w.addObject(x),x};var w,d,u=f.prototype;u.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},u.update=function(w){var d;function o(T,n){return T in w?w[T]:n}w=w||{},this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var v=w.positions.length>>>1,M=w.positions instanceof Float32Array,b=w.idToIndex instanceof Int32Array&&w.idToIndex.length>=v,E=w.positions,x=M?E:a.mallocFloat32(E.length),S=b?w.idToIndex:a.mallocInt32(v);if(M||x.set(E),!b)for(x.set(E),d=0;d<v;d++)S[d]=d;this.points=E,this.offsetBuffer.update(x),this.pickBuffer.update(S),M||a.free(x),b||a.free(S),this.pointCount=v,this.pickOffset=0},u.unifiedDraw=(w=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0],function(o){var v=void 0!==o,M=v?this.pickShader:this.shader,b=this.plot.gl,E=this.plot.dataBox;if(0===this.pointCount)return o;var x=E[2]-E[0],S=E[3]-E[1],T=function g(w,d){var M,o=0,v=w.length>>>1;for(M=0;M<v;M++){var b=w[2*M],E=w[2*M+1];b>=d[0]&&b<=d[2]&&E>=d[1]&&E<=d[3]&&o++}return o}(this.points,E),n=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(T,.33333)));w[0]=2/x,w[4]=2/S,w[6]=-2*E[0]/x-1,w[7]=-2*E[1]/S-1,this.offsetBuffer.bind(),M.bind(),M.attributes.position.pointer(),M.uniforms.matrix=w,M.uniforms.color=this.color,M.uniforms.borderColor=this.borderColor,M.uniforms.pointCloud=n<5,M.uniforms.pointSize=n,M.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),v&&(d[0]=255&o,d[1]=o>>8&255,d[2]=o>>16&255,d[3]=o>>24&255,this.pickBuffer.bind(),M.attributes.pickId.pointer(b.UNSIGNED_BYTE),M.uniforms.pickOffset=d,this.pickOffset=o);var C=b.getParameter(b.BLEND),p=b.getParameter(b.DITHER);return C&&!this.blend&&b.disable(b.BLEND),p&&b.disable(b.DITHER),b.drawArrays(b.POINTS,0,this.pointCount),C&&!this.blend&&b.enable(b.BLEND),p&&b.enable(b.DITHER),o+this.pointCount}),u.draw=u.unifiedDraw,u.drawPick=u.unifiedDraw,u.pick=function(w,d,o){var v=this.pickOffset;if(o<v||o>=v+this.pointCount)return null;var b=o-v,E=this.points;return{object:this,pointId:b,dataCoord:[E[2*b],E[2*b+1]]}}},6093:function(l){l.exports=function m(r,e,s,a){var v,M,b,E,x,h=e[0],f=e[1],u=e[2],g=e[3],c=s[0],w=s[1],d=s[2],o=s[3];return(M=h*c+f*w+u*d+g*o)<0&&(M=-M,c=-c,w=-w,d=-d,o=-o),1-M>1e-6?(v=Math.acos(M),b=Math.sin(v),E=Math.sin((1-a)*v)/b,x=Math.sin(a*v)/b):(E=1-a,x=a),r[0]=E*h+x*c,r[1]=E*f+x*w,r[2]=E*u+x*d,r[3]=E*g+x*o,r}},8240:function(l){"use strict";l.exports=function(m){return m||0===m?m.toString():""}},4123:function(l,m,r){"use strict";var e=r(875);l.exports=function a(h,f,u){var g=s[f];if(g||(g=s[f]={}),h in g)return g[h];var c={textAlign:"center",textBaseline:"middle",lineHeight:1,font:f,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},w=e(h,c);c.triangles=!1;var o,v,d=e(h,c);if(u&&1!==u){for(o=0;o<w.positions.length;++o)for(v=0;v<w.positions[o].length;++v)w.positions[o][v]/=u;for(o=0;o<d.positions.length;++o)for(v=0;v<d.positions[o].length;++v)d.positions[o][v]/=u}var M=[[1/0,1/0],[-1/0,-1/0]],b=d.positions.length;for(o=0;o<b;++o){var E=d.positions[o];for(v=0;v<2;++v)M[0][v]=Math.min(M[0][v],E[v]),M[1][v]=Math.max(M[1][v],E[v])}return g[h]=[w,d,M]};var s={}},9282:function(l,m,r){var e=r(5158),s=r(6832),a=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),h=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),f=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),u=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),g=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],w={vertex:a,fragment:u,attributes:c},d={vertex:h,fragment:u,attributes:c},o={vertex:f,fragment:u,attributes:c},v={vertex:a,fragment:g,attributes:c},M={vertex:h,fragment:g,attributes:c},b={vertex:f,fragment:g,attributes:c};function E(x,S){var T=e(x,S),n=T.attributes;return n.position.location=0,n.color.location=1,n.glyph.location=2,n.id.location=3,T}m.createPerspective=function(x){return E(x,w)},m.createOrtho=function(x){return E(x,d)},m.createProject=function(x){return E(x,o)},m.createPickPerspective=function(x){return E(x,v)},m.createPickOrtho=function(x){return E(x,M)},m.createPickProject=function(x){return E(x,b)}},2182:function(l,m,r){"use strict";var e=r(3596),s=r(5827),a=r(2944),h=r(5306),f=r(104),u=r(9282),g=r(4123),c=r(8240),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(K,j){var rt=K[0],H=K[1],Z=K[2],it=K[3];return K[0]=j[0]*rt+j[4]*H+j[8]*Z+j[12]*it,K[1]=j[1]*rt+j[5]*H+j[9]*Z+j[13]*it,K[2]=j[2]*rt+j[6]*H+j[10]*Z+j[14]*it,K[3]=j[3]*rt+j[7]*H+j[11]*Z+j[15]*it,K}function o(K,j,rt,H){return d(H,H),d(H,H),d(H,H)}function v(K,j){this.index=K,this.dataCoordinate=this.position=j}function M(K){return!0===K||K>1?1:K}function b(K,j,rt,H,Z,it,Q,Y,nt,_,st,dt){this.gl=K,this.pixelRatio=1,this.shader=j,this.orthoShader=rt,this.projectShader=H,this.pointBuffer=Z,this.colorBuffer=it,this.glyphBuffer=Q,this.idBuffer=Y,this.vao=nt,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=_,this.pickOrthoShader=st,this.pickProjectShader=dt,this.points=[],this._selectResult=new v(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}l.exports=function lt(K){var j=K.gl,rt=u.createPerspective(j),H=u.createOrtho(j),Z=u.createProject(j),it=u.createPickPerspective(j),Q=u.createPickOrtho(j),Y=u.createPickProject(j),nt=s(j),_=s(j),st=s(j),dt=s(j),yt=new b(j,rt,H,Z,nt,_,st,dt,a(j,[{buffer:nt,size:3,type:j.FLOAT},{buffer:_,size:4,type:j.FLOAT},{buffer:st,size:2,type:j.FLOAT},{buffer:dt,size:4,type:j.UNSIGNED_BYTE,normalized:!0}]),it,Q,Y);return yt.update(K),yt};var E=b.prototype;E.pickSlots=1,E.setPickBase=function(K){this.pickId=K},E.isTransparent=function(){if(this.hasAlpha)return!0;for(var K=0;K<3;++K)if(this.axesProject[K]&&this.projectHasAlpha)return!0;return!1},E.isOpaque=function(){if(!this.hasAlpha)return!0;for(var K=0;K<3;++K)if(this.axesProject[K]&&!this.projectHasAlpha)return!0;return!1};var x=[0,0],S=[0,0,0],T=[0,0,0],n=[0,0,0,1],C=[0,0,0,1],p=w.slice(),F=[0,0,0],D=[[0,0,0],[0,0,0]];function N(K){return K[0]=K[1]=K[2]=0,K}function k(K,j){return K[0]=j[0],K[1]=j[1],K[2]=j[2],K[3]=1,K}function z(K,j,rt,H){return K[0]=j[0],K[1]=j[1],K[2]=j[2],K[rt]=H,K}function O(K,j,rt,H){var xt,Z=j.axesProject,it=j.gl,Q=K.uniforms,Y=rt.model||w,nt=rt.view||w,_=rt.projection||w,st=j.axesBounds,dt=function B(K){for(var j=D,rt=0;rt<2;++rt)for(var H=0;H<3;++H)j[rt][H]=Math.max(Math.min(K[rt][H],1e8),-1e8);return j}(j.clipBounds);xt=j.axes&&j.axes.lastCubeProps?j.axes.lastCubeProps.axis:[1,1,1],x[0]=2/it.drawingBufferWidth,x[1]=2/it.drawingBufferHeight,K.bind(),Q.view=nt,Q.projection=_,Q.screenSize=x,Q.highlightId=j.highlightId,Q.highlightScale=j.highlightScale,Q.clipBounds=dt,Q.pickGroup=j.pickId/255,Q.pixelRatio=H;for(var yt=0;yt<3;++yt)if(Z[yt]){Q.scale=j.projectScale[yt],Q.opacity=j.projectOpacity[yt];for(var St=p,Et=0;Et<16;++Et)St[Et]=0;for(Et=0;Et<4;++Et)St[5*Et]=1;St[5*yt]=0,St[12+yt]=xt[yt]<0?st[0][yt]:st[1][yt],f(St,Y,St),Q.model=St;var Tt=(yt+1)%3,gt=(yt+2)%3,Mt=N(S),Nt=N(T);Mt[Tt]=1,Nt[gt]=1;var Gt=o(0,0,0,k(n,Mt)),Pt=o(0,0,0,k(C,Nt));if(Math.abs(Gt[1])>Math.abs(Pt[1])){var Vt=Gt;Gt=Pt,Pt=Vt,Vt=Mt,Mt=Nt,Nt=Vt;var re=Tt;Tt=gt,gt=re}Gt[0]<0&&(Mt[Tt]=-1),Pt[1]>0&&(Nt[gt]=-1);var le=0,It=0;for(Et=0;Et<4;++Et)le+=Math.pow(Y[4*Tt+Et],2),It+=Math.pow(Y[4*gt+Et],2);Mt[Tt]/=Math.sqrt(le),Nt[gt]/=Math.sqrt(It),Q.axes[0]=Mt,Q.axes[1]=Nt,Q.fragClipBounds[0]=z(F,dt[0],yt,-1e8),Q.fragClipBounds[1]=z(F,dt[1],yt,1e8),j.vao.bind(),j.vao.draw(it.TRIANGLES,j.vertexCount),j.lineWidth>0&&(it.lineWidth(j.lineWidth*H),j.vao.draw(it.LINES,j.lineVertexCount,j.vertexCount)),j.vao.unbind()}}var J=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function et(K,j,rt,H,Z,it,Q){var Y=rt.gl;if((it===rt.projectHasAlpha||Q)&&O(j,rt,H,Z),it===rt.hasAlpha||Q){K.bind();var nt=K.uniforms;nt.model=H.model||w,nt.view=H.view||w,nt.projection=H.projection||w,x[0]=2/Y.drawingBufferWidth,x[1]=2/Y.drawingBufferHeight,nt.screenSize=x,nt.highlightId=rt.highlightId,nt.highlightScale=rt.highlightScale,nt.fragClipBounds=J,nt.clipBounds=rt.axes.bounds,nt.opacity=rt.opacity,nt.pickGroup=rt.pickId/255,nt.pixelRatio=Z,rt.vao.bind(),rt.vao.draw(Y.TRIANGLES,rt.vertexCount),rt.lineWidth>0&&(Y.lineWidth(rt.lineWidth*Z),rt.vao.draw(Y.LINES,rt.lineVertexCount,rt.vertexCount)),rt.vao.unbind()}}function at(K,j,rt,H){var Z;Z=Array.isArray(K)?j<K.length?K[j]:void 0:K,Z=c(Z);var it=!0;e(Z)&&(Z="\u25bc",it=!1);var Q=g(Z,rt,H);return{mesh:Q[0],lines:Q[1],bounds:Q[2],visible:it}}E.draw=function(K){et(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,K,this.pixelRatio,!1,!1)},E.drawTransparent=function(K){et(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,K,this.pixelRatio,!0,!1)},E.drawPick=function(K){et(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,K,1,!0,!0)},E.pick=function(K){if(!K||K.id!==this.pickId)return null;var j=K.value[2]+(K.value[1]<<8)+(K.value[0]<<16);if(j>=this.pointCount||j<0)return null;var rt=this.points[j],H=this._selectResult;H.index=j;for(var Z=0;Z<3;++Z)H.position[Z]=H.dataCoordinate[Z]=rt[Z];return H},E.highlight=function(K){if(K){var j=K.index;this.highlightId=[(255&j)/255,(j>>8&255)/255,(j>>16&255)/255,0]}else this.highlightId=[1,1,1,1]},E.update=function(K){if("perspective"in(K=K||{})&&(this.useOrtho=!K.perspective),"orthographic"in K&&(this.useOrtho=!!K.orthographic),"lineWidth"in K&&(this.lineWidth=K.lineWidth),"project"in K)if(Array.isArray(K.project))this.axesProject=K.project;else{var j=!!K.project;this.axesProject=[j,j,j]}if("projectScale"in K&&(this.projectScale=Array.isArray(K.projectScale)?K.projectScale.slice():[rt=+K.projectScale,rt,rt]),this.projectHasAlpha=!1,"projectOpacity"in K){var rt;this.projectOpacity=Array.isArray(K.projectOpacity)?K.projectOpacity.slice():[rt=+K.projectOpacity,rt,rt];for(var H=0;H<3;++H)this.projectOpacity[H]=M(this.projectOpacity[H]),this.projectOpacity[H]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in K&&(this.opacity=M(K.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var Y,nt,Z=K.position,it=K.font||"normal",Q=K.alignment||[0,0];if(2===Q.length)Y=Q[0],nt=Q[1];else for(Y=[],nt=[],H=0;H<Q.length;++H)Y[H]=Q[H][0],nt[H]=Q[H][1];var _=[1/0,1/0,1/0],st=[-1/0,-1/0,-1/0],dt=K.glyph,xt=K.color,yt=K.size,St=K.angle,Et=K.lineColor,Tt=-1,gt=0,Mt=0,Nt=0;if(Z.length){Nt=Z.length;t:for(H=0;H<Nt;++H){for(var Gt=Z[H],Pt=0;Pt<3;++Pt)if(isNaN(Gt[Pt])||!isFinite(Gt[Pt]))continue t;var It=(Vt=at(dt,H,it,this.pixelRatio)).bounds;gt+=3*(re=Vt.mesh).cells.length,Mt+=2*(le=Vt.lines).edges.length}}var Rt=gt+Mt,$t=h.mallocFloat(3*Rt),oe=h.mallocFloat(4*Rt),se=h.mallocFloat(2*Rt),ve=h.mallocUint32(Rt);if(Rt>0){var de=0,jt=gt,Ct=[0,0,0,1],Wt=[0,0,0,1],Xt=Array.isArray(xt)&&Array.isArray(xt[0]),Ht=Array.isArray(Et)&&Array.isArray(Et[0]);t:for(H=0;H<Nt;++H){for(Tt+=1,Gt=Z[H],Pt=0;Pt<3;++Pt){if(isNaN(Gt[Pt])||!isFinite(Gt[Pt]))continue t;st[Pt]=Math.max(st[Pt],Gt[Pt]),_[Pt]=Math.min(_[Pt],Gt[Pt])}var Vt,re=(Vt=at(dt,H,it,this.pixelRatio)).mesh,le=Vt.lines,Bt=(It=Vt.bounds,Vt.visible);if(Bt)if(Array.isArray(xt)){if(3===(zt=Xt?H<xt.length?xt[H]:[0,0,0,0]:xt).length){for(Pt=0;Pt<3;++Pt)Ct[Pt]=zt[Pt];Ct[3]=1}else if(4===zt.length){for(Pt=0;Pt<4;++Pt)Ct[Pt]=zt[Pt];!this.hasAlpha&&zt[3]<1&&(this.hasAlpha=!0)}}else Ct[0]=Ct[1]=Ct[2]=0,Ct[3]=1;else Ct=[1,1,1,0];if(Bt)if(Array.isArray(Et)){var zt;if(3===(zt=Ht?H<Et.length?Et[H]:[0,0,0,0]:Et).length){for(Pt=0;Pt<3;++Pt)Wt[Pt]=zt[Pt];Wt[Pt]=1}else if(4===zt.length){for(Pt=0;Pt<4;++Pt)Wt[Pt]=zt[Pt];!this.hasAlpha&&zt[3]<1&&(this.hasAlpha=!0)}}else Wt[0]=Wt[1]=Wt[2]=0,Wt[3]=1;else Wt=[1,1,1,0];var kt=.5;Bt?Array.isArray(yt)?kt=H<yt.length?+yt[H]:12:yt?kt=+yt:this.useOrtho&&(kt=12):kt=0;var wt=0;Array.isArray(St)?wt=H<St.length?+St[H]:0:St&&(wt=+St);var ft=Math.cos(wt),pt=Math.sin(wt);for(Gt=Z[H],Pt=0;Pt<3;++Pt)st[Pt]=Math.max(st[Pt],Gt[Pt]),_[Pt]=Math.min(_[Pt],Gt[Pt]);var Dt=Y,Qt=nt;Dt=0,Array.isArray(Y)?Dt=H<Y.length?Y[H]:0:Y&&(Dt=Y),Qt=0,Array.isArray(nt)?Qt=H<nt.length?nt[H]:0:nt&&(Qt=nt);var te=[Dt*=Dt>0?1-It[0][0]:Dt<0?1+It[1][0]:1,Qt*=Qt>0?1-It[0][1]:Qt<0?1+It[1][1]:1],Te=re.cells||[],Ge=re.positions||[];for(Pt=0;Pt<Te.length;++Pt)for(var ee=Te[Pt],Ne=0;Ne<3;++Ne){for(var We=0;We<3;++We)$t[3*de+We]=Gt[We];for(We=0;We<4;++We)oe[4*de+We]=Ct[We];ve[de]=Tt,se[2*de]=kt*(ft*(ye=Ge[ee[Ne]])[0]-pt*ye[1]+te[0]),se[2*de+1]=kt*(pt*ye[0]+ft*ye[1]+te[1]),de+=1}for(Te=le.edges,Ge=le.positions,Pt=0;Pt<Te.length;++Pt)for(ee=Te[Pt],Ne=0;Ne<2;++Ne){for(We=0;We<3;++We)$t[3*jt+We]=Gt[We];for(We=0;We<4;++We)oe[4*jt+We]=Wt[We];var ye;ve[jt]=Tt,se[2*jt]=kt*(ft*(ye=Ge[ee[Ne]])[0]-pt*ye[1]+te[0]),se[2*jt+1]=kt*(pt*ye[0]+ft*ye[1]+te[1]),jt+=1}}}this.bounds=[_,st],this.points=Z,this.pointCount=Z.length,this.vertexCount=gt,this.lineVertexCount=Mt,this.pointBuffer.update($t),this.colorBuffer.update(oe),this.glyphBuffer.update(se),this.idBuffer.update(ve),h.free($t),h.free(oe),h.free(se),h.free(ve)},E.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(l,m,r){"use strict";var e=r(6832);m.boxVertex=e(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),m.boxFragment=e(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},6623:function(l,m,r){"use strict";var e=r(5158),s=r(5827),a=r(1884);function h(g,c,w){this.plot=g,this.boxBuffer=c,this.boxShader=w,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}l.exports=function u(g,c){var w=g.gl,v=new h(g,s(w,[0,0,0,1,1,0,1,1]),e(w,a.boxVertex,a.boxFragment));return v.update(c),g.addOverlay(v),v};var f=h.prototype;f.draw=function(){if(this.enabled){var g=this.plot,c=this.selectBox,w=this.borderWidth,o=this.innerColor,M=this.outerColor,b=this.borderColor,E=g.box,x=g.screenBox,S=g.dataBox,T=g.viewBox,n=g.pixelRatio,C=(c[0]-S[0])*(T[2]-T[0])/(S[2]-S[0])+T[0],p=(c[1]-S[1])*(T[3]-T[1])/(S[3]-S[1])+T[1],F=(c[2]-S[0])*(T[2]-T[0])/(S[2]-S[0])+T[0],D=(c[3]-S[1])*(T[3]-T[1])/(S[3]-S[1])+T[1];if(C=Math.max(C,T[0]),p=Math.max(p,T[1]),F=Math.min(F,T[2]),D=Math.min(D,T[3]),!(F<C||D<p)){E.bind();var N=x[2]-x[0],k=x[3]-x[1];if(this.outerFill&&(E.drawBox(0,0,N,p,M),E.drawBox(0,p,C,D,M),E.drawBox(0,D,N,k,M),E.drawBox(F,p,N,D,M)),this.innerFill&&E.drawBox(C,p,F,D,o),w>0){var z=w*n;E.drawBox(C-z,p-z,F+z,p+z,b),E.drawBox(C-z,D-z,F+z,D+z,b),E.drawBox(C-z,p-z,C+z,D+z,b),E.drawBox(F-z,p-z,F+z,D+z,b)}}}},f.update=function(g){this.innerFill=!!(g=g||{}).innerFill,this.outerFill=!!g.outerFill,this.innerColor=(g.innerColor||[0,0,0,.5]).slice(),this.outerColor=(g.outerColor||[0,0,0,.5]).slice(),this.borderColor=(g.borderColor||[0,0,0,1]).slice(),this.borderWidth=g.borderWidth||0,this.selectBox=(g.selectBox||this.selectBox).slice()},f.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(l,m,r){"use strict";l.exports=function w(d,o){var v=o[0],M=o[1];return new g(d,e(d,v,M,{}),s.mallocUint8(v*M*4))};var e=r(4234),s=r(5306),a=r(5050),h=r(2288).nextPow2;function u(d,o,v,M,b){this.coord=[d,o],this.id=v,this.value=M,this.distance=b}function g(d,o,v){this.gl=d,this.fbo=o,this.buffer=v,this._readTimeout=null;var M=this;this._readCallback=function(){!M.gl||(o.bind(),d.readPixels(0,0,o.shape[0],o.shape[1],d.RGBA,d.UNSIGNED_BYTE,M.buffer),M._readTimeout=null)}}var c=g.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(d){if(this.gl){this.fbo.shape=d;var o=this.fbo.shape[0],v=this.fbo.shape[1];if(v*o*4>this.buffer.length){s.free(this.buffer);for(var M=this.buffer=s.mallocUint8(h(v*o*4)),b=0;b<v*o*4;++b)M[b]=255}return d}}}),c.begin=function(){var d=this.gl;!d||(this.fbo.bind(),d.clearColor(1,1,1,1),d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT))},c.end=function(){var d=this.gl;!d||(d.bindFramebuffer(d.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(d,o,v){if(!this.gl)return null;var M=this.fbo.shape.slice();d|=0,o|=0,"number"!=typeof v&&(v=1);var b=0|Math.min(Math.max(d-v,0),M[0]),E=0|Math.min(Math.max(d+v,0),M[0]),x=0|Math.min(Math.max(o-v,0),M[1]),S=0|Math.min(Math.max(o+v,0),M[1]);if(E<=b||S<=x)return null;var T=[E-b,S-x],n=a(this.buffer,[T[0],T[1],4],[4,4*M[0],1],4*(b+M[0]*x)),C=function(d,o,v){for(var M=1e8,b=-1,E=-1,x=d.shape[0],S=d.shape[1],T=0;T<x;T++)for(var n=0;n<S;n++){var C=d.get(T,n,0),p=d.get(T,n,1),F=d.get(T,n,2),D=d.get(T,n,3);if(C<255||p<255||F<255||D<255){var N=o-T,k=v-n,z=N*N+k*k;z<M&&(M=z,b=T,E=n)}}return[b,E,M]}(n.hi(T[0],T[1],1),v,v),p=C[0],F=C[1];return p<0||Math.pow(this.radius,2)<C[2]?null:new u(p+b|0,F+x|0,n.get(p,F,0),[n.get(p,F,1),n.get(p,F,2),n.get(p,F,3)],Math.sqrt(C[2]))},c.dispose=function(){!this.gl||(this.fbo.dispose(),s.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(l,m,r){"use strict";var e=r(9016),s=r(4280),a=r(3984),h=r(1628),f=r(2631),u=r(9068);function g(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=g.prototype;function w(o,v){return o.name<v.name?-1:1}c.bind=function(){this.program||this._relink();var o,v=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),M=this.gl.lastAttribCount;if(v>M)for(o=M;o<v;o++)this.gl.enableVertexAttribArray(o);else if(M>v)for(o=v;o<M;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=v,this.gl.useProgram(this.program)},c.dispose=function(){for(var o=this.gl.lastAttribCount,v=0;v<o;v++)this.gl.disableVertexAttribArray(v);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(o,v,M,b){if(!v||1===arguments.length){var E=o;o=E.vertex,v=E.fragment,M=E.uniforms,b=E.attributes}var x=this,S=x.gl,T=x._vref;x._vref=h.shader(S,S.VERTEX_SHADER,o),T&&T.dispose(),x.vertShader=x._vref.shader;var n=this._fref;if(x._fref=h.shader(S,S.FRAGMENT_SHADER,v),n&&n.dispose(),x.fragShader=x._fref.shader,!M||!b){var C=S.createProgram();if(S.attachShader(C,x.fragShader),S.attachShader(C,x.vertShader),S.linkProgram(C),!S.getProgramParameter(C,S.LINK_STATUS)){var p=S.getProgramInfoLog(C);throw new u(p,"Error linking program:"+p)}M=M||f.uniforms(S,C),b=b||f.attributes(S,C),S.deleteProgram(C)}(b=b.slice()).sort(w);var k,F=[],D=[],N=[];for(k=0;k<b.length;++k){var z=b[k];if(z.type.indexOf("mat")>=0){for(var B=0|z.type.charAt(z.type.length-1),O=new Array(B),U=0;U<B;++U)O[U]=N.length,D.push(z.name+"["+U+"]"),"number"==typeof z.location?N.push(z.location+U):Array.isArray(z.location)&&z.location.length===B&&"number"==typeof z.location[U]?N.push(0|z.location[U]):N.push(-1);F.push({name:z.name,type:z.type,locations:O})}else F.push({name:z.name,type:z.type,locations:[N.length]}),D.push(z.name),N.push("number"==typeof z.location?0|z.location:-1)}var G=0;for(k=0;k<N.length;++k)if(N[k]<0){for(;N.indexOf(G)>=0;)G+=1;N[k]=G}var J=new Array(M.length);function et(){x.program=h.program(S,x._vref,x._fref,D,N);for(var at=0;at<M.length;++at)J[at]=S.getUniformLocation(x.program,M[at].name)}et(),x._relink=et,x.types={uniforms:a(M),attributes:a(b)},x.attributes=s(S,x,F,N),Object.defineProperty(x,"uniforms",e(S,x,M,J))},l.exports=function d(o,v,M,b,E){var x=new g(o);return x.update(v,M,b,E),x}},9068:function(l){function m(r,e,s){this.shortMessage=e||"",this.longMessage=s||"",this.rawError=r||"",this.message="gl-shader: "+(e||r||"")+(s?"\n"+s:""),this.stack=(new Error).stack}(m.prototype=new Error).name="GLError",m.prototype.constructor=m,l.exports=m},4280:function(l,m,r){"use strict";l.exports=function g(c,w,d,o){for(var v={},M=0,b=d.length;M<b;++M){var E=d[M],x=E.name,S=E.type,T=E.locations;switch(S){case"bool":case"int":case"float":f(c,w,T[0],o,1,v,x);break;default:if(S.indexOf("vec")>=0){if((n=S.charCodeAt(S.length-1)-48)<2||n>4)throw new e("","Invalid data type for attribute "+x+": "+S);f(c,w,T[0],o,n,v,x)}else{if(!(S.indexOf("mat")>=0))throw new e("","Unknown data type for attribute "+x+": "+S);var n;if((n=S.charCodeAt(S.length-1)-48)<2||n>4)throw new e("","Invalid data type for attribute "+x+": "+S);u(c,w,T,o,n,v,x)}}}return v};var e=r(9068);function s(c,w,d,o,v,M){this._gl=c,this._wrapper=w,this._index=d,this._locations=o,this._dimension=v,this._constFunc=M}var a=s.prototype;a.pointer=function(w,d,o,v){var M=this,b=M._gl,E=M._locations[M._index];b.vertexAttribPointer(E,M._dimension,w||b.FLOAT,!!d,o||0,v||0),b.enableVertexAttribArray(E)},a.set=function(c,w,d,o){return this._constFunc(this._locations[this._index],c,w,d,o)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(c){return c!==this._locations[this._index]&&(this._locations[this._index]=0|c,this._wrapper.program=null),0|c}});var h=[function(c,w,d){return void 0===d.length?c.vertexAttrib1f(w,d):c.vertexAttrib1fv(w,d)},function(c,w,d,o){return void 0===d.length?c.vertexAttrib2f(w,d,o):c.vertexAttrib2fv(w,d)},function(c,w,d,o,v){return void 0===d.length?c.vertexAttrib3f(w,d,o,v):c.vertexAttrib3fv(w,d)},function(c,w,d,o,v,M){return void 0===d.length?c.vertexAttrib4f(w,d,o,v,M):c.vertexAttrib4fv(w,d)}];function f(c,w,d,o,v,M,b){var E=h[v],x=new s(c,w,d,o,v,E);Object.defineProperty(M,b,{set:function(S){return c.disableVertexAttribArray(o[d]),E(c,o[d],S),S},get:function(){return x},enumerable:!0})}function u(c,w,d,o,v,M,b){for(var E=new Array(v),x=new Array(v),S=0;S<v;++S)f(c,w,d[S],o,v,E,S),x[S]=E[S];Object.defineProperty(E,"location",{set:function(C){if(Array.isArray(C))for(var p=0;p<v;++p)x[p].location=C[p];else for(p=0;p<v;++p)x[p].location=C+p;return C},get:function(){for(var C=new Array(v),p=0;p<v;++p)C[p]=o[d[p]];return C},enumerable:!0}),E.pointer=function(C,p,F,D){C=C||c.FLOAT,p=!!p,F=F||v*v,D=D||0;for(var N=0;N<v;++N){var k=o[d[N]];c.vertexAttribPointer(k,v,C,p,F,D+N*v),c.enableVertexAttribArray(k)}};var T=new Array(v),n=c["vertexAttrib"+v+"fv"];Object.defineProperty(M,b,{set:function(C){for(var p=0;p<v;++p){var F=o[d[p]];if(c.disableVertexAttribArray(F),Array.isArray(C[0]))n.call(c,F,C[p]);else{for(var D=0;D<v;++D)T[D]=C[v*p+D];n.call(c,F,T)}}return C},get:function(){return E},enumerable:!0})}},9016:function(l,m,r){"use strict";var e=r(3984),s=r(9068);function a(u){return function(){return u}}function h(u,g){for(var c=new Array(u),w=0;w<u;++w)c[w]=g;return c}l.exports=function f(u,g,c,w){function d(S){return function(T,n,C){return T.getUniform(n.program,C[S])}}function o(S){return function(n){for(var C=v("",S),p=0;p<C.length;++p){var F=C[p],D=F[0],N=F[1];if(w[N]){var k=n;if("string"==typeof D&&(0===D.indexOf(".")||0===D.indexOf("["))){var z=D;if(0===D.indexOf(".")&&(z=D.slice(1)),z.indexOf("]")===z.length-1){var B=z.indexOf("["),O=z.slice(0,B),U=z.slice(B+1,z.length-1);k=O?n[O][U]:n[U]}else k=n[z]}var J,G=c[N].type;switch(G){case"bool":case"int":case"sampler2D":case"samplerCube":u.uniform1i(w[N],k);break;case"float":u.uniform1f(w[N],k);break;default:var et=G.indexOf("vec");if(!(0<=et&&et<=1&&G.length===4+et)){if(0===G.indexOf("mat")&&4===G.length){if((J=G.charCodeAt(G.length-1)-48)<2||J>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+G);u["uniformMatrix"+J+"fv"](w[N],!1,k);break}throw new s("","Unknown uniform data type for "+name+": "+G)}if((J=G.charCodeAt(G.length-1)-48)<2||J>4)throw new s("","Invalid data type");switch(G.charAt(0)){case"b":case"i":u["uniform"+J+"iv"](w[N],k);break;case"v":u["uniform"+J+"fv"](w[N],k);break;default:throw new s("","Unrecognized data type for vector "+name+": "+G)}}}}}}function v(S,T){if("object"!=typeof T)return[[S,T]];var n=[];for(var C in T){var p=T[C],F=S;parseInt(C)+""===C?F+="["+C+"]":F+="."+C,"object"==typeof p?n.push.apply(n,v(F,p)):n.push([F,p])}return n}function b(S,T,n){if("object"==typeof n){var C=E(n);Object.defineProperty(S,T,{get:a(C),set:o(n),enumerable:!0,configurable:!1})}else w[n]?Object.defineProperty(S,T,{get:d(n),set:o(n),enumerable:!0,configurable:!1}):S[T]=function M(S){switch(S){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var T=S.indexOf("vec");if(0<=T&&T<=1&&S.length===4+T){if((n=S.charCodeAt(S.length-1)-48)<2||n>4)throw new s("","Invalid data type");return"b"===S.charAt(0)?h(n,!1):h(n,0)}if(0===S.indexOf("mat")&&4===S.length){var n;if((n=S.charCodeAt(S.length-1)-48)<2||n>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+S);return h(n*n,0)}throw new s("","Unknown uniform data type for "+name+": "+S)}}(c[n].type)}function E(S){var T;if(Array.isArray(S)){T=new Array(S.length);for(var n=0;n<S.length;++n)b(T,n,S[n])}else for(var C in T={},S)b(T,C,S[C]);return T}var x=e(c,!0);return{get:a(E(x)),set:o(x),enumerable:!0,configurable:!0}}},3984:function(l){"use strict";l.exports=function m(r,e){for(var s={},a=0;a<r.length;++a)for(var f=r[a].name.split("."),u=s,g=0;g<f.length;++g){var c=f[g].split("[");if(c.length>1){c[0]in u||(u[c[0]]=[]),u=u[c[0]];for(var w=1;w<c.length;++w){var d=parseInt(c[w]);w<c.length-1||g<f.length-1?(d in u||(u[d]=w<c.length-1?[]:{}),u=u[d]):u[d]=e?a:r[a].type}}else g<f.length-1?(c[0]in u||(u[c[0]]={}),u=u[c[0]]):u[c[0]]=e?a:r[a].type}return s}},2631:function(l,m){"use strict";m.uniforms=function a(f,u){for(var g=f.getProgramParameter(u,f.ACTIVE_UNIFORMS),c=[],w=0;w<g;++w){var d=f.getActiveUniform(u,w);if(d){var o=s(f,d.type);if(d.size>1)for(var v=0;v<d.size;++v)c.push({name:d.name.replace("[0]","["+v+"]"),type:o});else c.push({name:d.name,type:o})}}return c},m.attributes=function h(f,u){for(var g=f.getProgramParameter(u,f.ACTIVE_ATTRIBUTES),c=[],w=0;w<g;++w){var d=f.getActiveAttrib(u,w);d&&c.push({name:d.name,type:s(f,d.type)})}return c};var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},e=null;function s(f,u){if(!e){var g=Object.keys(r);e={};for(var c=0;c<g.length;++c){var w=g[c];e[f[w]]=r[w]}}return e[u]}},1628:function(l,m,r){"use strict";m.shader=function v(b,E,x){return o(b).getShaderReference(E,x)},m.program=function M(b,E,x,S,T){return o(b).getProgram(E,x,S,T)};var e=r(9068),s=r(3530),h=new("undefined"==typeof WeakMap?r(4037):WeakMap),f=0;function u(b,E,x,S,T,n,C){this.id=b,this.src=E,this.type=x,this.shader=S,this.count=n,this.programs=[],this.cache=C}function g(b){this.gl=b,this.shaders=[{},{}],this.programs={}}u.prototype.dispose=function(){if(0==--this.count){for(var b=this.cache,E=b.gl,x=this.programs,S=0,T=x.length;S<T;++S){var n=b.programs[x[S]];n&&(delete b.programs[S],E.deleteProgram(n))}E.deleteShader(this.shader),delete b.shaders[this.type===E.FRAGMENT_SHADER|0][this.src]}};var c=g.prototype;function o(b){var E=h.get(b);return E||(E=new g(b),h.set(b,E)),E}c.getShaderReference=function(b,E){var x=this.gl,S=this.shaders[b===x.FRAGMENT_SHADER|0],T=S[E];if(T&&x.isShader(T.shader))T.count+=1;else{var n=function w(b,E,x){var S=b.createShader(E);if(b.shaderSource(S,x),b.compileShader(S),!b.getShaderParameter(S,b.COMPILE_STATUS)){var T=b.getShaderInfoLog(S);try{var n=s(T,x,E)}catch(C){throw console.warn("Failed to format compiler error: "+C),new e(T,"Error compiling shader:\n"+T)}throw new e(T,n.short,n.long)}return S}(x,b,E);T=S[E]=new u(f++,E,b,n,[],1,this)}return T},c.getProgram=function(b,E,x,S){var T=[b.id,E.id,x.join(":"),S.join(":")].join("@"),n=this.programs[T];return(!n||!this.gl.isProgram(n))&&(this.programs[T]=n=function d(b,E,x,S,T){var n=b.createProgram();b.attachShader(n,E),b.attachShader(n,x);for(var C=0;C<S.length;++C)b.bindAttribLocation(n,T[C],S[C]);if(b.linkProgram(n),!b.getProgramParameter(n,b.LINK_STATUS)){var p=b.getProgramInfoLog(n);throw new e(p,"Error linking program: "+p)}return n}(this.gl,b.shader,E.shader,x,S),b.programs.push(T),E.programs.push(T)),n}},3050:function(l){"use strict";function m(s){this.plot=s,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}l.exports=function e(s,a){var h=new m(s);return h.update(a),s.addOverlay(h),h};var r=m.prototype;r.update=function(s){this.enable=((s=s||{}).enable||[!0,!0,!1,!1]).slice(),this.width=(s.width||[1,1,1,1]).slice(),this.color=(s.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(s.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var s=this.enable,a=this.width,h=this.color,f=this.center,u=this.plot,g=u.line,c=u.dataBox,w=u.viewBox;if(g.bind(),c[0]<=f[0]&&f[0]<=c[2]&&c[1]<=f[1]&&f[1]<=c[3]){var d=w[0]+(f[0]-c[0])/(c[2]-c[0])*(w[2]-w[0]),o=w[1]+(f[1]-c[1])/(c[3]-c[1])*(w[3]-w[1]);s[0]&&g.drawLine(d,o,w[0],o,a[0],h[0]),s[1]&&g.drawLine(d,o,d,w[1],a[1],h[1]),s[2]&&g.drawLine(d,o,w[2],o,a[2],h[2]),s[3]&&g.drawLine(d,o,d,w[3],a[3],h[3])}},r.dispose=function(){this.plot.removeOverlay(this)}},3540:function(l,m,r){"use strict";var e=r(6832),s=r(5158),a=e(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),h=e(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);l.exports=function(f){return s(f,a,h,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(l,m,r){"use strict";var e=r(5827),s=r(2944),a=r(3540);l.exports=function d(o,v){var M=[];function b(n,C,p,F,D,N){var k=[n,C,p,0,0,0,1];k[F+3]=1,k[F]=D,M.push.apply(M,k),k[6]=-1,M.push.apply(M,k),k[F]=N,M.push.apply(M,k),M.push.apply(M,k),k[6]=1,M.push.apply(M,k),k[F]=D,M.push.apply(M,k)}b(0,0,0,0,0,1),b(0,0,0,1,0,1),b(0,0,0,2,0,1),b(1,0,0,1,-1,1),b(1,0,0,2,-1,1),b(0,1,0,0,-1,1),b(0,1,0,2,-1,1),b(0,0,1,0,-1,1),b(0,0,1,1,-1,1);var E=e(o,M),x=s(o,[{type:o.FLOAT,buffer:E,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:E,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:E,size:1,offset:24,stride:28}]),S=a(o);S.attributes.position.location=0,S.attributes.color.location=1,S.attributes.weight.location=2;var T=new f(o,E,x,S);return T.update(v),T};var h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(o,v,M,b){this.gl=o,this.buffer=v,this.vao=M,this.shader=b,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=f.prototype,g=[0,0,0],c=[0,0,0],w=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(o){},u.draw=function(o){var v=this.gl,M=this.vao,b=this.shader;M.bind(),b.bind();var T,E=o.model||h,x=o.view||h,S=o.projection||h;this.axes&&(T=this.axes.lastCubeProps.axis);for(var n=g,C=c,p=0;p<3;++p)T&&T[p]<0?(n[p]=this.bounds[0][p],C[p]=this.bounds[1][p]):(n[p]=this.bounds[1][p],C[p]=this.bounds[0][p]);for(w[0]=v.drawingBufferWidth,w[1]=v.drawingBufferHeight,b.uniforms.model=E,b.uniforms.view=x,b.uniforms.projection=S,b.uniforms.coordinates=[this.position,n,C],b.uniforms.colors=this.colors,b.uniforms.screenShape=w,p=0;p<3;++p)b.uniforms.lineWidth=this.lineWidth[p]*this.pixelRatio,this.enabled[p]&&(M.draw(v.TRIANGLES,6,6*p),this.drawSides[p]&&M.draw(v.TRIANGLES,12,18+12*p));M.unbind()},u.update=function(o){!o||("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(l,m,r){var e=r(6832),s=e(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),a=e(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),h=e(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),f=e(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);m.meshShader={vertex:s,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},m.pickShader={vertex:h,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(l,m,r){"use strict";var e=r(2858),s=r(4020),a=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(b,E,x,S){for(var T=0,n=0;n<b.length;n++)for(var C=b[n].velocities,p=0;p<C.length;p++)T=Math.max(T,e.length(C[p]));var F=b.map(function(et){return function(b,E,x,S){for(var T=b.points,n=b.velocities,C=b.divergences,p=[],F=[],D=[],N=[],k=[],z=[],B=0,O=0,U=s.create(),G=s.create(),et=0;et<T.length;et++){var at=T[et],lt=n[et],K=C[et];0===E&&(K=.05*x),O=e.length(lt)/S,U=s.create(),e.copy(U,lt),U[3]=K;for(var j=0;j<8;j++)k[j]=[at[0],at[1],at[2],j];if(N.length>0)for(j=0;j<8;j++){var rt=(j+1)%8;p.push(N[j],k[j],k[rt],k[rt],N[rt],N[j]),D.push(G,U,U,U,G,G),z.push(B,O,O,O,B,B);var H=p.length;F.push([H-6,H-5,H-4],[H-3,H-2,H-1])}var Z=N;N=k,k=Z;var it=G;G=U,U=it;var Q=B;B=O,O=Q}return{positions:p,cells:F,vectors:D,vertexIntensity:z}}(et,x,S,T)}),D=[],N=[],k=[],z=[];for(n=0;n<F.length;n++){var B=F[n],O=D.length;for(D=D.concat(B.positions),k=k.concat(B.vectors),z=z.concat(B.vertexIntensity),p=0;p<B.cells.length;p++){var U=B.cells[p],G=[];N.push(G);for(var J=0;J<U.length;J++)G.push(U[J]+O)}}return{positions:D,cells:N,vectors:k,vertexIntensity:z,colormap:E}},u=function(b,E){var S,x=b.length;for(S=0;S<x;S++){var T=b[S];if(T===E)return S;if(T>E)return S-1}return S},g=function(b,E,x){return b<E?E:b>x?x:b},d=function(b){var E=1/0;b.sort(function(n,C){return n-C});for(var x=b.length,S=1;S<x;S++){var T=Math.abs(b[S]-b[S-1]);T<E&&(E=T)}return E};l.exports=function(b,E){var x=b.startingPositions,S=b.maxLength||1e3,T=b.tubeSize||1,n=b.absoluteTubeSize,C=b.gridFill||"+x+y+z",p={};-1!==C.indexOf("-x")&&(p.reversedX=!0),-1!==C.indexOf("-y")&&(p.reversedY=!0),-1!==C.indexOf("-z")&&(p.reversedZ=!0),p.filled=a.indexOf(C.replace(/-/g,"").replace(/\+/g,""));var Tt,gt,Mt,Nt,F=b.getVelocity||function(Tt){return function(b,E,x){var S=E.vectors,T=E.meshgrid,n=b[0],C=b[1],p=b[2],F=T[0].length,D=T[1].length,N=T[2].length,k=u(T[0],n),z=u(T[1],C),B=u(T[2],p),O=k+1,U=z+1,G=B+1;if(k=g(k,0,F-1),O=g(O,0,F-1),z=g(z,0,D-1),U=g(U,0,D-1),B=g(B,0,N-1),G=g(G,0,N-1),k<0||z<0||B<0||O>F-1||U>D-1||G>N-1)return e.create();var it,Q,Y,nt,_,st,J=T[0][k],at=T[1][z],K=T[2][B],rt=(n-J)/(T[0][O]-J),H=(C-at)/(T[1][U]-at),Z=(p-K)/(T[2][G]-K);switch(isFinite(rt)||(rt=.5),isFinite(H)||(H=.5),isFinite(Z)||(Z=.5),x.reversedX&&(k=F-1-k,O=F-1-O),x.reversedY&&(z=D-1-z,U=D-1-U),x.reversedZ&&(B=N-1-B,G=N-1-G),x.filled){case 5:_=B,st=G,Y=z*N,nt=U*N,it=k*N*D,Q=O*N*D;break;case 4:_=B,st=G,it=k*N,Q=O*N,Y=z*N*F,nt=U*N*F;break;case 3:Y=z,nt=U,_=B*D,st=G*D,it=k*D*N,Q=O*D*N;break;case 2:Y=z,nt=U,it=k*D,Q=O*D,_=B*D*F,st=G*D*F;break;case 1:it=k,Q=O,_=B*F,st=G*F,Y=z*F*N,nt=U*F*N;break;default:it=k,Q=O,Y=z*F,nt=U*F,_=B*F*D,st=G*F*D}var dt=S[it+Y+_],xt=S[it+Y+st],yt=S[it+nt+_],St=S[it+nt+st],Et=S[Q+Y+_],Tt=S[Q+Y+st],gt=S[Q+nt+_],Mt=S[Q+nt+st],Nt=e.create(),Gt=e.create(),Pt=e.create(),Vt=e.create();e.lerp(Nt,dt,Et,rt),e.lerp(Gt,xt,Tt,rt),e.lerp(Pt,yt,gt,rt),e.lerp(Vt,St,Mt,rt);var re=e.create(),le=e.create();e.lerp(re,Nt,Pt,H),e.lerp(le,Gt,Vt,H);var It=e.create();return e.lerp(It,re,le,Z),It}(Tt,b,p)},D=b.getDivergence||function(Tt,gt){var Mt=e.create(),Nt=1e-4;e.add(Mt,Tt,[Nt,0,0]);var Gt=F(Mt);e.subtract(Gt,Gt,gt),e.scale(Gt,Gt,1/Nt),e.add(Mt,Tt,[0,Nt,0]);var Pt=F(Mt);e.subtract(Pt,Pt,gt),e.scale(Pt,Pt,1/Nt),e.add(Mt,Tt,[0,0,Nt]);var Vt=F(Mt);return e.subtract(Vt,Vt,gt),e.scale(Vt,Vt,1/Nt),e.add(Mt,Gt,Pt),e.add(Mt,Mt,Vt),Mt},N=[],k=E[0][0],z=E[0][1],B=E[0][2],O=E[1][0],U=E[1][1],G=E[1][2],at=10*e.distance(E[0],E[1])/S,lt=at*at,K=1,j=0,rt=x.length;rt>1&&(K=function(b){for(var E=[],x=[],S=[],T={},n={},C={},p=b.length,F=0;F<p;F++){var D=b[F],N=D[0],k=D[1],z=D[2];T[N]||(E.push(N),T[N]=!0),n[k]||(x.push(k),n[k]=!0),C[z]||(S.push(z),C[z]=!0)}var B=d(E),O=d(x),U=d(S),G=Math.min(B,O,U);return isFinite(G)?G:1}(x));for(var H=0;H<rt;H++){var Z=e.create();e.copy(Z,x[H]);var it=[Z],Q=[],Y=F(Z),nt=Z;Q.push(Y);var _=[],st=D(Z,Y),dt=e.length(st);isFinite(dt)&&dt>j&&(j=dt),_.push(dt),N.push({points:it,velocities:Q,divergences:_});for(var xt=0;xt<100*S&&it.length<S&&(gt=void 0,Mt=void 0,Nt=void 0,Mt=(Tt=Z)[1],Nt=Tt[2],!((gt=Tt[0])<k||gt>O||Mt<z||Mt>U||Nt<B||Nt>G));){xt++;var yt=e.clone(Y),St=e.squaredLength(yt);if(0===St)break;St>lt&&e.scale(yt,yt,at/Math.sqrt(St)),e.add(yt,yt,Z),Y=F(yt),e.squaredDistance(nt,yt)-lt>-1e-4*lt&&(it.push(yt),nt=yt,Q.push(Y),st=D(yt,Y),dt=e.length(st),isFinite(dt)&&dt>j&&(j=dt),_.push(dt)),Z=yt}}var Et=f(N,b.colormap,j,K);return n?Et.tubeScale=n:(0===j&&(j=1),Et.tubeScale=.5*T*K/j),Et};var v=r(9578),M=r(1140).createMesh;l.exports.createTubeMesh=function(b,E){return M(b,E,{shaders:v,traceType:"streamtube"})}},9054:function(l,m,r){var e=r(5158),s=r(6832),a=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),h=s(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),f=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),u=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);m.createShader=function(g){var c=e(g,a,h,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},m.createPickShader=function(g){var c=e(g,a,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},m.createContourShader=function(g){var c=e(g,f,h,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},m.createPickContourShader=function(g){var c=e(g,f,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},3754:function(l,m,r){"use strict";l.exports=function it(Q){var Y=Q.gl,nt=x(Y),_=T(Y),st=S(Y),dt=n(Y),xt=s(Y),yt=a(Y,[{buffer:xt,size:4,stride:40,offset:0},{buffer:xt,size:3,stride:40,offset:16},{buffer:xt,size:3,stride:40,offset:28}]),St=s(Y),Et=a(Y,[{buffer:St,size:4,stride:20,offset:0},{buffer:St,size:1,stride:20,offset:16}]),Tt=s(Y),gt=a(Y,[{buffer:Tt,size:2,type:Y.FLOAT}]),Mt=h(Y,1,256,Y.RGBA,Y.UNSIGNED_BYTE);Mt.minFilter=Y.LINEAR,Mt.magFilter=Y.LINEAR;var Nt=new z(Y,[0,0],[[0,0,0],[0,0,0]],nt,_,xt,yt,Mt,st,dt,St,Et,Tt,gt,[0,0,0]),Gt={levels:[[],[],[]]};for(var Pt in Q)Gt[Pt]=Q[Pt];return Gt.colormap=Gt.colormap||"jet",Nt.update(Gt),Nt};var e=r(2288),s=r(5827),a=r(2944),h=r(8931),f=r(5306),u=r(9156),g=r(7498),c=r(7382),w=r(5050),d=r(4162),o=r(104),v=r(7437),M=r(5070),b=r(9144),E=r(9054),x=E.createShader,S=E.createContourShader,T=E.createPickShader,n=E.createPickContourShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],F=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],D=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function N(Q,Y,nt,_,st){this.position=Q,this.index=Y,this.uv=nt,this.level=_,this.dataCoordinate=st}!function(){for(var Q=0;Q<3;++Q){var Y=D[Q],_=(Q+2)%3;Y[(Q+1)%3+0]=1,Y[_+3]=1,Y[Q+6]=1}}();function z(Q,Y,nt,_,st,dt,xt,yt,St,Et,Tt,gt,Mt,Nt,Gt){this.gl=Q,this.shape=Y,this.bounds=nt,this.objectOffset=Gt,this.intensityBounds=[],this._shader=_,this._pickShader=st,this._coordinateBuffer=dt,this._vao=xt,this._colorMap=yt,this._contourShader=St,this._contourPickShader=Et,this._contourBuffer=Tt,this._contourVAO=gt,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new N([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Mt,this._dynamicVAO=Nt,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[w(f.mallocFloat(1024),[0,0]),w(f.mallocFloat(1024),[0,0]),w(f.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var B=z.prototype;B.genColormap=function(Q,Y){var nt=!1,_=c([u({colormap:Q,nshades:256,format:"rgba"}).map(function(st,dt){var xt=Y?function O(Q,Y){if(!Y||!Y.length)return 1;for(var nt=0;nt<Y.length;++nt){if(Y.length<2)return 1;if(Y[nt][0]===Q)return Y[nt][1];if(Y[nt][0]>Q&&nt>0){var _=(Y[nt][0]-Q)/(Y[nt][0]-Y[nt-1][0]);return Y[nt][1]*(1-_)+_*Y[nt-1][1]}}return 1}(dt/255,Y):st[3];return xt<1&&(nt=!0),[st[0],st[1],st[2],255*xt]})]);return g.divseq(_,255),this.hasAlphaScale=nt,_},B.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},B.isOpaque=function(){return!this.isTransparent()},B.pickSlots=1,B.setPickBase=function(Q){this.pickId=Q};var U=[0,0,0],G={showSurface:!1,showContour:!1,projections:[p.slice(),p.slice(),p.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function J(Q,Y){var nt,_,st,dt=Y.axes&&Y.axes.lastCubeProps.axis||U,xt=Y.showSurface,yt=Y.showContour;for(nt=0;nt<3;++nt)for(xt=xt||Y.surfaceProject[nt],_=0;_<3;++_)yt=yt||Y.contourProject[nt][_];for(nt=0;nt<3;++nt){var St=G.projections[nt];for(_=0;_<16;++_)St[_]=0;for(_=0;_<4;++_)St[5*_]=1;St[5*nt]=0,St[12+nt]=Y.axesBounds[+(dt[nt]>0)][nt],o(St,Q.model,St);var Et=G.clipBounds[nt];for(st=0;st<2;++st)for(_=0;_<3;++_)Et[st][_]=Q.clipBounds[st][_];Et[0][nt]=-1e8,Et[1][nt]=1e8}return G.showSurface=xt,G.showContour=yt,G}var et={model:p,view:p,projection:p,inverseModel:p.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},at=p.slice(),lt=[1,0,0,0,1,0,0,0,1];function K(Q,Y){Q=Q||{};var nt=this.gl;nt.disable(nt.CULL_FACE),this._colorMap.bind(0);var _=et;_.model=Q.model||p,_.view=Q.view||p,_.projection=Q.projection||p,_.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],_.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],_.objectOffset=this.objectOffset,_.contourColor=this.contourColor[0],_.inverseModel=v(_.inverseModel,_.model);for(var st=0;st<2;++st)for(var dt=_.clipBounds[st],xt=0;xt<3;++xt)dt[xt]=Math.min(Math.max(this.clipBounds[st][xt],-1e8),1e8);_.kambient=this.ambientLight,_.kdiffuse=this.diffuseLight,_.kspecular=this.specularLight,_.roughness=this.roughness,_.fresnel=this.fresnel,_.opacity=this.opacity,_.height=0,_.permutation=lt,_.vertexColor=this.vertexColor;var yt=at;for(o(yt,_.view,_.model),o(yt,_.projection,yt),v(yt,yt),st=0;st<3;++st)_.eyePosition[st]=yt[12+st]/yt[15];var St=yt[15];for(st=0;st<3;++st)St+=this.lightPosition[st]*yt[4*st+3];for(st=0;st<3;++st){var Et=yt[12+st];for(xt=0;xt<3;++xt)Et+=yt[4*xt+st]*this.lightPosition[xt];_.lightPosition[st]=Et/St}var Tt=J(_,this);if(Tt.showSurface){for(this._shader.bind(),this._shader.uniforms=_,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(nt.TRIANGLES,this._vertexCount),st=0;st<3;++st)!this.surfaceProject[st]||!this.vertexCount||(this._shader.uniforms.model=Tt.projections[st],this._shader.uniforms.clipBounds=Tt.clipBounds[st],this._vao.draw(nt.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Tt.showContour){var gt=this._contourShader;_.kambient=1,_.kdiffuse=0,_.kspecular=0,_.opacity=1,gt.bind(),gt.uniforms=_;var Mt=this._contourVAO;for(Mt.bind(),st=0;st<3;++st)for(gt.uniforms.permutation=D[st],nt.lineWidth(this.contourWidth[st]*this.pixelRatio),xt=0;xt<this.contourLevels[st].length;++xt)xt===this.highlightLevel[st]?(gt.uniforms.contourColor=this.highlightColor[st],gt.uniforms.contourTint=this.highlightTint[st]):(0===xt||xt-1===this.highlightLevel[st])&&(gt.uniforms.contourColor=this.contourColor[st],gt.uniforms.contourTint=this.contourTint[st]),this._contourCounts[st][xt]&&(gt.uniforms.height=this.contourLevels[st][xt],Mt.draw(nt.LINES,this._contourCounts[st][xt],this._contourOffsets[st][xt]));for(st=0;st<3;++st)for(gt.uniforms.model=Tt.projections[st],gt.uniforms.clipBounds=Tt.clipBounds[st],xt=0;xt<3;++xt)if(this.contourProject[st][xt]){gt.uniforms.permutation=D[xt],nt.lineWidth(this.contourWidth[xt]*this.pixelRatio);for(var Nt=0;Nt<this.contourLevels[xt].length;++Nt)Nt===this.highlightLevel[xt]?(gt.uniforms.contourColor=this.highlightColor[xt],gt.uniforms.contourTint=this.highlightTint[xt]):(0===Nt||Nt-1===this.highlightLevel[xt])&&(gt.uniforms.contourColor=this.contourColor[xt],gt.uniforms.contourTint=this.contourTint[xt]),this._contourCounts[xt][Nt]&&(gt.uniforms.height=this.contourLevels[xt][Nt],Mt.draw(nt.LINES,this._contourCounts[xt][Nt],this._contourOffsets[xt][Nt]))}for(Mt.unbind(),(Mt=this._dynamicVAO).bind(),st=0;st<3;++st)if(0!==this._dynamicCounts[st])for(gt.uniforms.model=_.model,gt.uniforms.clipBounds=_.clipBounds,gt.uniforms.permutation=D[st],nt.lineWidth(this.dynamicWidth[st]*this.pixelRatio),gt.uniforms.contourColor=this.dynamicColor[st],gt.uniforms.contourTint=this.dynamicTint[st],gt.uniforms.height=this.dynamicLevel[st],Mt.draw(nt.LINES,this._dynamicCounts[st],this._dynamicOffsets[st]),xt=0;xt<3;++xt)!this.contourProject[xt][st]||(gt.uniforms.model=Tt.projections[xt],gt.uniforms.clipBounds=Tt.clipBounds[xt],Mt.draw(nt.LINES,this._dynamicCounts[st],this._dynamicOffsets[st]));Mt.unbind()}}B.draw=function(Q){return K.call(this,Q,!1)},B.drawTransparent=function(Q){return K.call(this,Q,!0)};var j={model:p,view:p,projection:p,inverseModel:p,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function rt(Q,Y){return Array.isArray(Q)?[Y(Q[0]),Y(Q[1]),Y(Q[2])]:[Y(Q),Y(Q),Y(Q)]}function H(Q){return Array.isArray(Q)?3===Q.length?[Q[0],Q[1],Q[2],1]:[Q[0],Q[1],Q[2],Q[3]]:[0,0,0,1]}function Z(Q){if(Array.isArray(Q)){if(Array.isArray(Q))return[H(Q[0]),H(Q[1]),H(Q[2])];var Y=H(Q);return[Y.slice(),Y.slice(),Y.slice()]}}B.drawPick=function(Q){Q=Q||{};var Y=this.gl;Y.disable(Y.CULL_FACE);var nt=j;nt.model=Q.model||p,nt.view=Q.view||p,nt.projection=Q.projection||p,nt.shape=this._field[2].shape,nt.pickId=this.pickId/255,nt.lowerBound=this.bounds[0],nt.upperBound=this.bounds[1],nt.objectOffset=this.objectOffset,nt.permutation=lt;for(var _=0;_<2;++_)for(var st=nt.clipBounds[_],dt=0;dt<3;++dt)st[dt]=Math.min(Math.max(this.clipBounds[_][dt],-1e8),1e8);var xt=J(nt,this);if(xt.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=nt,this._vao.bind(),this._vao.draw(Y.TRIANGLES,this._vertexCount),_=0;_<3;++_)!this.surfaceProject[_]||(this._pickShader.uniforms.model=xt.projections[_],this._pickShader.uniforms.clipBounds=xt.clipBounds[_],this._vao.draw(Y.TRIANGLES,this._vertexCount));this._vao.unbind()}if(xt.showContour){var yt=this._contourPickShader;yt.bind(),yt.uniforms=nt;var St=this._contourVAO;for(St.bind(),dt=0;dt<3;++dt)for(Y.lineWidth(this.contourWidth[dt]*this.pixelRatio),yt.uniforms.permutation=D[dt],_=0;_<this.contourLevels[dt].length;++_)this._contourCounts[dt][_]&&(yt.uniforms.height=this.contourLevels[dt][_],St.draw(Y.LINES,this._contourCounts[dt][_],this._contourOffsets[dt][_]));for(_=0;_<3;++_)for(yt.uniforms.model=xt.projections[_],yt.uniforms.clipBounds=xt.clipBounds[_],dt=0;dt<3;++dt)if(this.contourProject[_][dt]){yt.uniforms.permutation=D[dt],Y.lineWidth(this.contourWidth[dt]*this.pixelRatio);for(var Et=0;Et<this.contourLevels[dt].length;++Et)this._contourCounts[dt][Et]&&(yt.uniforms.height=this.contourLevels[dt][Et],St.draw(Y.LINES,this._contourCounts[dt][Et],this._contourOffsets[dt][Et]))}St.unbind()}},B.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var Y=this._field[2].shape,nt=this._pickResult,_=Y[0]*(Q.value[0]+(Q.value[2]>>4)/16)/255,st=Math.floor(_),dt=_-st,xt=Y[1]*(Q.value[1]+(15&Q.value[2])/16)/255,yt=Math.floor(xt),St=xt-yt;st+=1,yt+=1;var Et=nt.position;Et[0]=Et[1]=Et[2]=0;for(var Tt=0;Tt<2;++Tt)for(var gt=Tt?dt:1-dt,Mt=0;Mt<2;++Mt)for(var Gt=st+Tt,Pt=yt+Mt,Vt=gt*(Mt?St:1-St),re=0;re<3;++re)Et[re]+=this._field[re].get(Gt,Pt)*Vt;for(var le=this._pickResult.level,It=0;It<3;++It)if(le[It]=M.le(this.contourLevels[It],Et[It]),le[It]<0)this.contourLevels[It].length>0&&(le[It]=0);else if(le[It]<this.contourLevels[It].length-1){var $t=this.contourLevels[It][le[It]+1];Math.abs(this.contourLevels[It][le[It]]-Et[It])>Math.abs($t-Et[It])&&(le[It]+=1)}for(nt.index[0]=dt<.5?st:st+1,nt.index[1]=St<.5?yt:yt+1,nt.uv[0]=_/Y[0],nt.uv[1]=xt/Y[1],re=0;re<3;++re)nt.dataCoordinate[re]=this._field[re].get(nt.index[0],nt.index[1]);return nt},B.padField=function(Q,Y){var nt=Y.shape.slice(),_=Q.shape.slice();g.assign(Q.lo(1,1).hi(nt[0],nt[1]),Y),g.assign(Q.lo(1).hi(nt[0],1),Y.hi(nt[0],1)),g.assign(Q.lo(1,_[1]-1).hi(nt[0],1),Y.lo(0,nt[1]-1).hi(nt[0],1)),g.assign(Q.lo(0,1).hi(1,nt[1]),Y.hi(1)),g.assign(Q.lo(_[0]-1,1).hi(1,nt[1]),Y.lo(nt[0]-1)),Q.set(0,0,Y.get(0,0)),Q.set(0,_[1]-1,Y.get(0,nt[1]-1)),Q.set(_[0]-1,0,Y.get(nt[0]-1,0)),Q.set(_[0]-1,_[1]-1,Y.get(nt[0]-1,nt[1]-1))},B.update=function(Q){this.objectOffset=(Q=Q||{}).objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in Q&&(this.contourWidth=rt(Q.contourWidth,Number)),"showContour"in Q&&(this.showContour=rt(Q.showContour,Boolean)),"showSurface"in Q&&(this.showSurface=!!Q.showSurface),"contourTint"in Q&&(this.contourTint=rt(Q.contourTint,Boolean)),"contourColor"in Q&&(this.contourColor=Z(Q.contourColor)),"contourProject"in Q&&(this.contourProject=rt(Q.contourProject,function(Le){return rt(Le,Boolean)})),"surfaceProject"in Q&&(this.surfaceProject=Q.surfaceProject),"dynamicColor"in Q&&(this.dynamicColor=Z(Q.dynamicColor)),"dynamicTint"in Q&&(this.dynamicTint=rt(Q.dynamicTint,Number)),"dynamicWidth"in Q&&(this.dynamicWidth=rt(Q.dynamicWidth,Number)),"opacity"in Q&&(this.opacity=Q.opacity),"opacityscale"in Q&&(this.opacityscale=Q.opacityscale),"colorBounds"in Q&&(this.colorBounds=Q.colorBounds),"vertexColor"in Q&&(this.vertexColor=Q.vertexColor?1:0),"colormap"in Q&&this._colorMap.setPixels(this.genColormap(Q.colormap,this.opacityscale));var Y=Q.field||Q.coords&&Q.coords[2]||null,nt=!1;if(Y||(Y=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in Q||"coords"in Q){var _=(Y.shape[0]+2)*(Y.shape[1]+2);_>this._field[2].data.length&&(f.freeFloat(this._field[2].data),this._field[2].data=f.mallocFloat(e.nextPow2(_))),this._field[2]=w(this._field[2].data,[Y.shape[0]+2,Y.shape[1]+2]),this.padField(this._field[2],Y),this.shape=Y.shape.slice();for(var st=this.shape,dt=0;dt<2;++dt)this._field[2].size>this._field[dt].data.length&&(f.freeFloat(this._field[dt].data),this._field[dt].data=f.mallocFloat(this._field[2].size)),this._field[dt]=w(this._field[dt].data,[st[0]+2,st[1]+2]);if(Q.coords){var xt=Q.coords;if(!Array.isArray(xt)||3!==xt.length)throw new Error("gl-surface: invalid coordinates for x/y");for(dt=0;dt<2;++dt){var yt=xt[dt];for(Mt=0;Mt<2;++Mt)if(yt.shape[Mt]!==st[Mt])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[dt],yt)}}else if(Q.ticks){var St=Q.ticks;if(!Array.isArray(St)||2!==St.length)throw new Error("gl-surface: invalid ticks");for(dt=0;dt<2;++dt){var Et=St[dt];if((Array.isArray(Et)||Et.length)&&(Et=w(Et)),Et.shape[0]!==st[dt])throw new Error("gl-surface: invalid tick length");var Tt=w(Et.data,st);Tt.stride[dt]=Et.stride[0],Tt.stride[1^dt]=0,this.padField(this._field[dt],Tt)}}else{for(dt=0;dt<2;++dt){var gt=[0,0];gt[dt]=1,this._field[dt]=w(this._field[dt].data,[st[0]+2,st[1]+2],gt,0)}this._field[0].set(0,0,0);for(var Mt=0;Mt<st[0];++Mt)this._field[0].set(Mt+1,0,Mt);for(this._field[0].set(st[0]+1,0,st[0]-1),this._field[1].set(0,0,0),Mt=0;Mt<st[1];++Mt)this._field[1].set(0,Mt+1,Mt);this._field[1].set(0,st[1]+1,st[1]-1)}var Nt=this._field,Gt=w(f.mallocFloat(3*Nt[2].size*2),[3,st[0]+2,st[1]+2,2]);for(dt=0;dt<3;++dt)b(Gt.pick(dt),Nt[dt],"mirror");var Pt=w(f.mallocFloat(3*Nt[2].size),[st[0]+2,st[1]+2,3]);for(dt=0;dt<st[0]+2;++dt)for(Mt=0;Mt<st[1]+2;++Mt){var Vt=Gt.get(0,dt,Mt,0),re=Gt.get(0,dt,Mt,1),le=Gt.get(1,dt,Mt,0),It=Gt.get(1,dt,Mt,1),Rt=Gt.get(2,dt,Mt,0),$t=Gt.get(2,dt,Mt,1),oe=le*$t-It*Rt,se=Rt*re-$t*Vt,ve=Vt*It-re*le,de=Math.sqrt(oe*oe+se*se+ve*ve);de<1e-8?(de=Math.max(Math.abs(oe),Math.abs(se),Math.abs(ve)))<1e-8?(ve=1,se=oe=0,de=1):de=1/de:de=1/Math.sqrt(de),Pt.set(dt,Mt,0,oe*de),Pt.set(dt,Mt,1,se*de),Pt.set(dt,Mt,2,ve*de)}f.free(Gt.data);var jt=[1/0,1/0,1/0],Ct=[-1/0,-1/0,-1/0],Wt=1/0,Xt=-1/0,Bt=f.mallocFloat(e.nextPow2((st[0]-1)*(st[1]-1)*6*10)),zt=0,kt=0;for(dt=0;dt<st[0]-1;++dt)t:for(Mt=0;Mt<st[1]-1;++Mt){for(var wt=0;wt<2;++wt)for(var ft=0;ft<2;++ft)for(var pt=0;pt<3;++pt){var Dt=this._field[pt].get(1+dt+wt,1+Mt+ft);if(isNaN(Dt)||!isFinite(Dt))continue t}for(pt=0;pt<6;++pt){var Qt=dt+F[pt][0],te=Mt+F[pt][1],ee=this._field[0].get(Qt+1,te+1),Ne=this._field[1].get(Qt+1,te+1);Dt=this._field[2].get(Qt+1,te+1),oe=Pt.get(Qt+1,te+1,0),se=Pt.get(Qt+1,te+1,1),ve=Pt.get(Qt+1,te+1,2),Q.intensity&&(We=Q.intensity.get(Qt,te));var We=Q.intensity?Q.intensity.get(Qt,te):Dt+this.objectOffset[2];Bt[zt++]=Qt,Bt[zt++]=te,Bt[zt++]=ee,Bt[zt++]=Ne,Bt[zt++]=Dt,Bt[zt++]=0,Bt[zt++]=We,Bt[zt++]=oe,Bt[zt++]=se,Bt[zt++]=ve,jt[0]=Math.min(jt[0],ee+this.objectOffset[0]),jt[1]=Math.min(jt[1],Ne+this.objectOffset[1]),jt[2]=Math.min(jt[2],Dt+this.objectOffset[2]),Wt=Math.min(Wt,We),Ct[0]=Math.max(Ct[0],ee+this.objectOffset[0]),Ct[1]=Math.max(Ct[1],Ne+this.objectOffset[1]),Ct[2]=Math.max(Ct[2],Dt+this.objectOffset[2]),Xt=Math.max(Xt,We),kt+=1}}for(Q.intensityBounds&&(Wt=+Q.intensityBounds[0],Xt=+Q.intensityBounds[1]),dt=6;dt<zt;dt+=10)Bt[dt]=(Bt[dt]-Wt)/(Xt-Wt);this._vertexCount=kt,this._coordinateBuffer.update(Bt.subarray(0,zt)),f.freeFloat(Bt),f.free(Pt.data),this.bounds=[jt,Ct],this.intensity=Q.intensity||this._field[2],(this.intensityBounds[0]!==Wt||this.intensityBounds[1]!==Xt)&&(nt=!0),this.intensityBounds=[Wt,Xt]}if("levels"in Q){var ye=Q.levels;for(ye=Array.isArray(ye[0])?ye.slice():[[],[],ye],dt=0;dt<3;++dt)ye[dt]=ye[dt].slice(),ye[dt].sort(function(Le,Xe){return Le-Xe});for(dt=0;dt<3;++dt)for(Mt=0;Mt<ye[dt].length;++Mt)ye[dt][Mt]-=this.objectOffset[dt];t:for(dt=0;dt<3;++dt){if(ye[dt].length!==this.contourLevels[dt].length){nt=!0;break}for(Mt=0;Mt<ye[dt].length;++Mt)if(ye[dt][Mt]!==this.contourLevels[dt][Mt]){nt=!0;break t}}this.contourLevels=ye}if(nt){Nt=this._field,st=this.shape;for(var Te=[],Ge=0;Ge<3;++Ge){var hr=this.contourLevels[Ge],ce=[],Ue=[],Ye=[0,0,0];for(dt=0;dt<hr.length;++dt){var gr=d(this._field[Ge],hr[dt]);ce.push(Te.length/5|0),kt=0;t:for(Mt=0;Mt<gr.cells.length;++Mt){var tr=gr.cells[Mt];for(pt=0;pt<2;++pt){var he=gr.positions[tr[pt]],ne=he[0],pe=0|Math.floor(ne),be=ne-pe,Se=he[1],Me=0|Math.floor(Se),Ie=Se-Me,Fe=!1;e:for(var Ze=0;Ze<3;++Ze){Ye[Ze]=0;var nr=(Ge+Ze+1)%3;for(wt=0;wt<2;++wt){var ir=wt?be:1-be;for(Qt=0|Math.min(Math.max(pe+wt,0),st[0]),ft=0;ft<2;++ft){var lr=ft?Ie:1-Ie;if(te=0|Math.min(Math.max(Me+ft,0),st[1]),Dt=Ze<2?this._field[nr].get(Qt,te):(this.intensity.get(Qt,te)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Dt)||isNaN(Dt)){Fe=!0;break e}Ye[Ze]+=ir*lr*Dt}}}if(Fe){if(pt>0){for(var Ut=0;Ut<5;++Ut)Te.pop();kt-=1}continue t}Te.push(Ye[0],Ye[1],he[0],he[1],Ye[2]),kt+=1}}Ue.push(kt)}this._contourOffsets[Ge]=ce,this._contourCounts[Ge]=Ue}var Ce=f.mallocFloat(Te.length);for(dt=0;dt<Te.length;++dt)Ce[dt]=Te[dt];this._contourBuffer.update(Ce),f.freeFloat(Ce)}},B.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var Q=0;Q<3;++Q)f.freeFloat(this._field[Q].data)},B.highlight=function(Q){var Y,nt;if(!Q)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(Y=0;Y<3;++Y)this.highlightLevel[Y]=this.enableHighlight[Y]?Q.level[Y]:-1;for(nt=this.snapToData?Q.dataCoordinate:Q.position,Y=0;Y<3;++Y)nt[Y]-=this.objectOffset[Y];if(this.enableDynamic[0]&&nt[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&nt[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&nt[2]!==this.dynamicLevel[2]){for(var _=0,st=this.shape,dt=f.mallocFloat(12*st[0]*st[1]),xt=0;xt<3;++xt)if(this.enableDynamic[xt]){this.dynamicLevel[xt]=nt[xt];var Tt=this._field[(xt+1)%3],gt=this._field[(xt+2)%3],Mt=d(this._field[xt],nt[xt]),Nt=Mt.cells,Gt=Mt.positions;for(this._dynamicOffsets[xt]=_,Y=0;Y<Nt.length;++Y)for(var Pt=Nt[Y],Vt=0;Vt<2;++Vt){var re=Gt[Pt[Vt]],le=+re[0],It=0|le,Rt=0|Math.min(It+1,st[0]),$t=le-It,oe=1-$t,se=+re[1],ve=0|se,de=0|Math.min(ve+1,st[1]),jt=se-ve,Ct=1-jt,Wt=oe*Ct,Xt=oe*jt,Ht=$t*Ct,Bt=$t*jt,zt=Wt*Tt.get(It,ve)+Xt*Tt.get(It,de)+Ht*Tt.get(Rt,ve)+Bt*Tt.get(Rt,de),kt=Wt*gt.get(It,ve)+Xt*gt.get(It,de)+Ht*gt.get(Rt,ve)+Bt*gt.get(Rt,de);if(isNaN(zt)||isNaN(kt)){Vt&&(_-=1);break}dt[2*_+0]=zt,dt[2*_+1]=kt,_+=1}this._dynamicCounts[xt]=_-this._dynamicOffsets[xt]}else this.dynamicLevel[xt]=NaN,this._dynamicCounts[xt]=0;this._dynamicBuffer.update(dt.subarray(0,2*_)),f.freeFloat(dt)}}},8931:function(l,m,r){"use strict";var e=r(5050),s=r(7498),a=r(5306);l.exports=function n(C){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(h||g(C),"number"==typeof arguments[1])return x(C,arguments[1],arguments[2],arguments[3]||C.RGBA,arguments[4]||C.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return x(C,0|arguments[1][0],0|arguments[1][1],arguments[2]||C.RGBA,arguments[3]||C.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var p=arguments[1],F=c(p)?p:p.raw;if(F)return S(C,F,0|p.width,0|p.height,arguments[2]||C.RGBA,arguments[3]||C.UNSIGNED_BYTE);if(p.shape&&p.data&&p.stride)return T(C,p)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var h=null,f=null,u=null;function g(C){h=[C.LINEAR,C.NEAREST_MIPMAP_LINEAR,C.LINEAR_MIPMAP_NEAREST,C.LINEAR_MIPMAP_NEAREST],f=[C.NEAREST,C.LINEAR,C.NEAREST_MIPMAP_NEAREST,C.NEAREST_MIPMAP_LINEAR,C.LINEAR_MIPMAP_NEAREST,C.LINEAR_MIPMAP_LINEAR],u=[C.REPEAT,C.CLAMP_TO_EDGE,C.MIRRORED_REPEAT]}function c(C){return"undefined"!=typeof HTMLCanvasElement&&C instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&C instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&C instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&C instanceof ImageData}var w=function(C,p){s.muls(C,p,255)};function d(C,p,F){var D=C.gl,N=D.getParameter(D.MAX_TEXTURE_SIZE);if(p<0||p>N||F<0||F>N)throw new Error("gl-texture2d: Invalid texture size");return C._shape=[p,F],C.bind(),D.texImage2D(D.TEXTURE_2D,0,C.format,p,F,0,C.format,C.type,null),C._mipLevels=[0],C}function o(C,p,F,D,N,k){this.gl=C,this.handle=p,this.format=N,this.type=k,this._shape=[F,D],this._mipLevels=[0],this._magFilter=C.NEAREST,this._minFilter=C.NEAREST,this._wrapS=C.CLAMP_TO_EDGE,this._wrapT=C.CLAMP_TO_EDGE,this._anisoSamples=1;var z=this,B=[this._wrapS,this._wrapT];Object.defineProperties(B,[{get:function(){return z._wrapS},set:function(U){return z.wrapS=U}},{get:function(){return z._wrapT},set:function(U){return z.wrapT=U}}]),this._wrapVector=B;var O=[this._shape[0],this._shape[1]];Object.defineProperties(O,[{get:function(){return z._shape[0]},set:function(U){return z.width=U}},{get:function(){return z._shape[1]},set:function(U){return z.height=U}}]),this._shapeVector=O}var v=o.prototype;function M(C,p){return 3===C.length?1===p[2]&&p[1]===C[0]*C[2]&&p[0]===C[2]:1===p[0]&&p[1]===C[0]}function E(C){var p=C.createTexture();return C.bindTexture(C.TEXTURE_2D,p),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE),p}function x(C,p,F,D,N){var k=C.getParameter(C.MAX_TEXTURE_SIZE);if(p<0||p>k||F<0||F>k)throw new Error("gl-texture2d: Invalid texture shape");if(N===C.FLOAT&&!C.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var z=E(C);return C.texImage2D(C.TEXTURE_2D,0,D,p,F,0,D,N,null),new o(C,z,p,F,D,N)}function S(C,p,F,D,N,k){var z=E(C);return C.texImage2D(C.TEXTURE_2D,0,N,N,k,p),new o(C,z,F,D,N,k)}function T(C,p){var F=p.dtype,D=p.shape.slice(),N=C.getParameter(C.MAX_TEXTURE_SIZE);if(D[0]<0||D[0]>N||D[1]<0||D[1]>N)throw new Error("gl-texture2d: Invalid texture size");var k=M(D,p.stride.slice()),z=0;"float32"===F?z=C.FLOAT:"float64"===F?(z=C.FLOAT,k=!1,F="float32"):"uint8"===F?z=C.UNSIGNED_BYTE:(z=C.UNSIGNED_BYTE,k=!1,F="uint8");var B=0;if(2===D.length)B=C.LUMINANCE,p=e(p.data,D=[D[0],D[1],1],[p.stride[0],p.stride[1],1],p.offset);else{if(3!==D.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===D[2])B=C.ALPHA;else if(2===D[2])B=C.LUMINANCE_ALPHA;else if(3===D[2])B=C.RGB;else{if(4!==D[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");B=C.RGBA}}z===C.FLOAT&&!C.getExtension("OES_texture_float")&&(z=C.UNSIGNED_BYTE,k=!1);var O,U,G=p.size;if(k)O=0===p.offset&&p.data.length===G?p.data:p.data.subarray(p.offset,p.offset+G);else{var J=[D[2],D[2]*D[0],1];U=a.malloc(G,F);var et=e(U,D,J,0);"float32"!==F&&"float64"!==F||z!==C.UNSIGNED_BYTE?s.assign(et,p):w(et,p),O=U.subarray(0,G)}var at=E(C);return C.texImage2D(C.TEXTURE_2D,0,B,D[0],D[1],0,B,z,O),k||a.free(U),new o(C,at,D[0],D[1],B,z)}Object.defineProperties(v,{minFilter:{get:function(){return this._minFilter},set:function(C){this.bind();var p=this.gl;if(this.type===p.FLOAT&&h.indexOf(C)>=0&&(p.getExtension("OES_texture_float_linear")||(C=p.NEAREST)),f.indexOf(C)<0)throw new Error("gl-texture2d: Unknown filter mode "+C);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,C),this._minFilter=C}},magFilter:{get:function(){return this._magFilter},set:function(C){this.bind();var p=this.gl;if(this.type===p.FLOAT&&h.indexOf(C)>=0&&(p.getExtension("OES_texture_float_linear")||(C=p.NEAREST)),f.indexOf(C)<0)throw new Error("gl-texture2d: Unknown filter mode "+C);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,C),this._magFilter=C}},mipSamples:{get:function(){return this._anisoSamples},set:function(C){var p=this._anisoSamples;if(this._anisoSamples=0|Math.max(C,1),p!==this._anisoSamples){var F=this.gl.getExtension("EXT_texture_filter_anisotropic");F&&this.gl.texParameterf(this.gl.TEXTURE_2D,F.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(C){if(this.bind(),u.indexOf(C)<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,C),this._wrapS=C}},wrapT:{get:function(){return this._wrapT},set:function(C){if(this.bind(),u.indexOf(C)<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,C),this._wrapT=C}},wrap:{get:function(){return this._wrapVector},set:function(C){if(Array.isArray(C)||(C=[C,C]),2!==C.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var p=0;p<2;++p)if(u.indexOf(C[p])<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);this._wrapS=C[0],this._wrapT=C[1];var F=this.gl;return this.bind(),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,this._wrapS),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,this._wrapT),C}},shape:{get:function(){return this._shapeVector},set:function(C){if(Array.isArray(C)){if(2!==C.length)throw new Error("gl-texture2d: Invalid texture shape")}else C=[0|C,0|C];return d(this,0|C[0],0|C[1]),[0|C[0],0|C[1]]}},width:{get:function(){return this._shape[0]},set:function(C){return d(this,C|=0,this._shape[1]),C}},height:{get:function(){return this._shape[1]},set:function(C){return d(this,this._shape[0],C|=0),C}}}),v.bind=function(C){var p=this.gl;return void 0!==C&&p.activeTexture(p.TEXTURE0+(0|C)),p.bindTexture(p.TEXTURE_2D,this.handle),void 0!==C?0|C:p.getParameter(p.ACTIVE_TEXTURE)-p.TEXTURE0},v.dispose=function(){this.gl.deleteTexture(this.handle)},v.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var C=Math.min(this._shape[0],this._shape[1]),p=0;C>0;++p,C>>>=1)this._mipLevels.indexOf(p)<0&&this._mipLevels.push(p)},v.setPixels=function(C,p,F,D){var N=this.gl;this.bind(),Array.isArray(p)?(D=F,F=0|p[1],p=0|p[0]):(p=p||0,F=F||0),D=D||0;var k=c(C)?C:C.raw;if(k)this._mipLevels.indexOf(D)<0?(N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,this.type,k),this._mipLevels.push(D)):N.texSubImage2D(N.TEXTURE_2D,D,p,F,this.format,this.type,k);else{if(!(C.shape&&C.stride&&C.data))throw new Error("gl-texture2d: Unsupported data type");if(C.shape.length<2||p+C.shape[1]>this._shape[1]>>>D||F+C.shape[0]>this._shape[0]>>>D||p<0||F<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function b(C,p,F,D,N,k,z,B){var O=B.dtype,U=B.shape.slice();if(U.length<2||U.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var G=0,J=0,et=M(U,B.stride.slice());if("float32"===O?G=C.FLOAT:"float64"===O?(G=C.FLOAT,et=!1,O="float32"):"uint8"===O?G=C.UNSIGNED_BYTE:(G=C.UNSIGNED_BYTE,et=!1,O="uint8"),2===U.length)J=C.LUMINANCE,B=e(B.data,U=[U[0],U[1],1],[B.stride[0],B.stride[1],1],B.offset);else{if(3!==U.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===U[2])J=C.ALPHA;else if(2===U[2])J=C.LUMINANCE_ALPHA;else if(3===U[2])J=C.RGB;else{if(4!==U[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");J=C.RGBA}}if((J===C.LUMINANCE||J===C.ALPHA)&&(N===C.LUMINANCE||N===C.ALPHA)&&(J=N),J!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var lt=B.size,K=z.indexOf(D)<0;if(K&&z.push(D),G===k&&et)0===B.offset&&B.data.length===lt?K?C.texImage2D(C.TEXTURE_2D,D,N,U[0],U[1],0,N,k,B.data):C.texSubImage2D(C.TEXTURE_2D,D,p,F,U[0],U[1],N,k,B.data):K?C.texImage2D(C.TEXTURE_2D,D,N,U[0],U[1],0,N,k,B.data.subarray(B.offset,B.offset+lt)):C.texSubImage2D(C.TEXTURE_2D,D,p,F,U[0],U[1],N,k,B.data.subarray(B.offset,B.offset+lt));else{var j;j=k===C.FLOAT?a.mallocFloat32(lt):a.mallocUint8(lt);var rt=e(j,U,[U[2],U[2]*U[0],1]);G===C.FLOAT&&k===C.UNSIGNED_BYTE?w(rt,B):s.assign(rt,B),K?C.texImage2D(C.TEXTURE_2D,D,N,U[0],U[1],0,N,k,j.subarray(0,lt)):C.texSubImage2D(C.TEXTURE_2D,D,p,F,U[0],U[1],N,k,j.subarray(0,lt)),k===C.FLOAT?a.freeFloat32(j):a.freeUint8(j)}}(N,p,F,D,this.format,this.type,this._mipLevels,C)}}},3056:function(l){"use strict";l.exports=function m(r,e,s){e?e.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var a=0|r.getParameter(r.MAX_VERTEX_ATTRIBS);if(s){if(s.length>a)throw new Error("gl-vao: Too many vertex attributes");for(var h=0;h<s.length;++h){var f=s[h];if(f.buffer){var g=f.size||4,c=f.type||r.FLOAT,w=!!f.normalized,d=f.stride||0,o=f.offset||0;f.buffer.bind(),r.enableVertexAttribArray(h),r.vertexAttribPointer(h,g,c,w,d,o)}else{if("number"==typeof f)r.vertexAttrib1f(h,f);else if(1===f.length)r.vertexAttrib1f(h,f[0]);else if(2===f.length)r.vertexAttrib2f(h,f[0],f[1]);else if(3===f.length)r.vertexAttrib3f(h,f[0],f[1],f[2]);else{if(4!==f.length)throw new Error("gl-vao: Invalid vertex attribute");r.vertexAttrib4f(h,f[0],f[1],f[2],f[3])}r.disableVertexAttribArray(h)}}for(;h<a;++h)r.disableVertexAttribArray(h)}else for(r.bindBuffer(r.ARRAY_BUFFER,null),h=0;h<a;++h)r.disableVertexAttribArray(h)}},7220:function(l,m,r){"use strict";var e=r(3056);function s(h){this.gl=h,this._elements=null,this._attributes=null,this._elementsType=h.UNSIGNED_SHORT}s.prototype.bind=function(){e(this.gl,this._elements,this._attributes)},s.prototype.update=function(h,f,u){this._elements=f,this._attributes=h,this._elementsType=u||this.gl.UNSIGNED_SHORT},s.prototype.dispose=function(){},s.prototype.unbind=function(){},s.prototype.draw=function(h,f,u){u=u||0;var g=this.gl;this._elements?g.drawElements(h,f,this._elementsType,u):g.drawArrays(h,u,f)},l.exports=function a(h){return new s(h)}},3778:function(l,m,r){"use strict";var e=r(3056);function s(f,u,g,c,w,d){this.location=f,this.dimension=u,this.a=g,this.b=c,this.c=w,this.d=d}function a(f,u,g){this.gl=f,this._ext=u,this.handle=g,this._attribs=[],this._useElements=!1,this._elementsType=f.UNSIGNED_SHORT}s.prototype.bind=function(f){switch(this.dimension){case 1:f.vertexAttrib1f(this.location,this.a);break;case 2:f.vertexAttrib2f(this.location,this.a,this.b);break;case 3:f.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:f.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var f=0;f<this._attribs.length;++f)this._attribs[f].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(f,u,g){if(this.bind(),e(this.gl,u,f),this.unbind(),this._attribs.length=0,f)for(var c=0;c<f.length;++c){var w=f[c];"number"==typeof w?this._attribs.push(new s(c,1,w)):Array.isArray(w)&&this._attribs.push(new s(c,w.length,w[0],w[1],w[2],w[3]))}this._useElements=!!u,this._elementsType=g||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(f,u,g){g=g||0;var c=this.gl;this._useElements?c.drawElements(f,u,this._elementsType,g):c.drawArrays(f,g,u)},l.exports=function h(f,u){return new a(f,u,u.createVertexArrayOES())}},2944:function(l,m,r){"use strict";var e=r(3778),s=r(7220);function a(f){this.bindVertexArrayOES=f.bindVertexArray.bind(f),this.createVertexArrayOES=f.createVertexArray.bind(f),this.deleteVertexArrayOES=f.deleteVertexArray.bind(f)}l.exports=function h(f,u,g,c){var d,w=f.createVertexArray?new a(f):f.getExtension("OES_vertex_array_object");return(d=w?e(f,w):s(f)).update(u,g,c),d}},2598:function(l){l.exports=function m(r,e,s){return r[0]=e[0]+s[0],r[1]=e[1]+s[1],r[2]=e[2]+s[2],r}},5879:function(l,m,r){l.exports=function h(f,u){var g=e(f[0],f[1],f[2]),c=e(u[0],u[1],u[2]);s(g,g),s(c,c);var w=a(g,c);return w>1?0:Math.acos(w)};var e=r(5415),s=r(899),a=r(9305)},8827:function(l){l.exports=function m(r,e){return r[0]=Math.ceil(e[0]),r[1]=Math.ceil(e[1]),r[2]=Math.ceil(e[2]),r}},7622:function(l){l.exports=function m(r){var e=new Float32Array(3);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e}},8782:function(l){l.exports=function m(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r}},8501:function(l){l.exports=function m(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},903:function(l){l.exports=function m(r,e,s){var a=e[0],h=e[1],f=e[2],u=s[0],g=s[1],c=s[2];return r[0]=h*c-f*g,r[1]=f*u-a*c,r[2]=a*g-h*u,r}},5981:function(l,m,r){l.exports=r(8288)},8288:function(l){l.exports=function m(r,e){var s=e[0]-r[0],a=e[1]-r[1],h=e[2]-r[2];return Math.sqrt(s*s+a*a+h*h)}},8629:function(l,m,r){l.exports=r(7979)},7979:function(l){l.exports=function m(r,e,s){return r[0]=e[0]/s[0],r[1]=e[1]/s[1],r[2]=e[2]/s[2],r}},9305:function(l){l.exports=function m(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}},154:function(l){l.exports=1e-6},4932:function(l,m,r){l.exports=function s(a,h){var f=a[0],u=a[1],g=a[2],c=h[0],w=h[1],d=h[2];return Math.abs(f-c)<=e*Math.max(1,Math.abs(f),Math.abs(c))&&Math.abs(u-w)<=e*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(g-d)<=e*Math.max(1,Math.abs(g),Math.abs(d))};var e=r(154)},5777:function(l){l.exports=function m(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]}},3306:function(l){l.exports=function m(r,e){return r[0]=Math.floor(e[0]),r[1]=Math.floor(e[1]),r[2]=Math.floor(e[2]),r}},7447:function(l,m,r){l.exports=function s(a,h,f,u,g,c){var w,d;for(h||(h=3),f||(f=0),d=u?Math.min(u*h+f,a.length):a.length,w=f;w<d;w+=h)e[0]=a[w],e[1]=a[w+1],e[2]=a[w+2],g(e,e,c),a[w]=e[0],a[w+1]=e[1],a[w+2]=e[2];return a};var e=r(8501)()},5415:function(l){l.exports=function m(r,e,s){var a=new Float32Array(3);return a[0]=r,a[1]=e,a[2]=s,a}},2858:function(l,m,r){l.exports={EPSILON:r(154),create:r(8501),clone:r(7622),angle:r(5879),fromValues:r(5415),copy:r(8782),set:r(831),equals:r(4932),exactEquals:r(5777),add:r(2598),subtract:r(911),sub:r(8921),multiply:r(105),mul:r(5733),divide:r(7979),div:r(8629),min:r(3605),max:r(1716),floor:r(3306),ceil:r(8827),round:r(1624),scale:r(5685),scaleAndAdd:r(6722),distance:r(8288),dist:r(5981),squaredDistance:r(6403),sqrDist:r(5294),length:r(4693),len:r(1468),squaredLength:r(4337),sqrLen:r(3303),negate:r(435),inverse:r(2073),normalize:r(899),dot:r(9305),cross:r(903),lerp:r(1868),random:r(6660),transformMat4:r(3255),transformMat3:r(9908),transformQuat:r(6568),rotateX:r(392),rotateY:r(3222),rotateZ:r(3388),forEach:r(7447)}},2073:function(l){l.exports=function m(r,e){return r[0]=1/e[0],r[1]=1/e[1],r[2]=1/e[2],r}},1468:function(l,m,r){l.exports=r(4693)},4693:function(l){l.exports=function m(r){var e=r[0],s=r[1],a=r[2];return Math.sqrt(e*e+s*s+a*a)}},1868:function(l){l.exports=function m(r,e,s,a){var h=e[0],f=e[1],u=e[2];return r[0]=h+a*(s[0]-h),r[1]=f+a*(s[1]-f),r[2]=u+a*(s[2]-u),r}},1716:function(l){l.exports=function m(r,e,s){return r[0]=Math.max(e[0],s[0]),r[1]=Math.max(e[1],s[1]),r[2]=Math.max(e[2],s[2]),r}},3605:function(l){l.exports=function m(r,e,s){return r[0]=Math.min(e[0],s[0]),r[1]=Math.min(e[1],s[1]),r[2]=Math.min(e[2],s[2]),r}},5733:function(l,m,r){l.exports=r(105)},105:function(l){l.exports=function m(r,e,s){return r[0]=e[0]*s[0],r[1]=e[1]*s[1],r[2]=e[2]*s[2],r}},435:function(l){l.exports=function m(r,e){return r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r}},899:function(l){l.exports=function m(r,e){var s=e[0],a=e[1],h=e[2],f=s*s+a*a+h*h;return f>0&&(f=1/Math.sqrt(f),r[0]=e[0]*f,r[1]=e[1]*f,r[2]=e[2]*f),r}},6660:function(l){l.exports=function m(r,e){e=e||1;var s=2*Math.random()*Math.PI,a=2*Math.random()-1,h=Math.sqrt(1-a*a)*e;return r[0]=Math.cos(s)*h,r[1]=Math.sin(s)*h,r[2]=a*e,r}},392:function(l){l.exports=function m(r,e,s,a){var h=s[1],f=s[2],u=e[1]-h,g=e[2]-f,c=Math.sin(a),w=Math.cos(a);return r[0]=e[0],r[1]=h+u*w-g*c,r[2]=f+u*c+g*w,r}},3222:function(l){l.exports=function m(r,e,s,a){var h=s[0],f=s[2],u=e[0]-h,g=e[2]-f,c=Math.sin(a),w=Math.cos(a);return r[0]=h+g*c+u*w,r[1]=e[1],r[2]=f+g*w-u*c,r}},3388:function(l){l.exports=function m(r,e,s,a){var h=s[0],f=s[1],u=e[0]-h,g=e[1]-f,c=Math.sin(a),w=Math.cos(a);return r[0]=h+u*w-g*c,r[1]=f+u*c+g*w,r[2]=e[2],r}},1624:function(l){l.exports=function m(r,e){return r[0]=Math.round(e[0]),r[1]=Math.round(e[1]),r[2]=Math.round(e[2]),r}},5685:function(l){l.exports=function m(r,e,s){return r[0]=e[0]*s,r[1]=e[1]*s,r[2]=e[2]*s,r}},6722:function(l){l.exports=function m(r,e,s,a){return r[0]=e[0]+s[0]*a,r[1]=e[1]+s[1]*a,r[2]=e[2]+s[2]*a,r}},831:function(l){l.exports=function m(r,e,s,a){return r[0]=e,r[1]=s,r[2]=a,r}},5294:function(l,m,r){l.exports=r(6403)},3303:function(l,m,r){l.exports=r(4337)},6403:function(l){l.exports=function m(r,e){var s=e[0]-r[0],a=e[1]-r[1],h=e[2]-r[2];return s*s+a*a+h*h}},4337:function(l){l.exports=function m(r){var e=r[0],s=r[1],a=r[2];return e*e+s*s+a*a}},8921:function(l,m,r){l.exports=r(911)},911:function(l){l.exports=function m(r,e,s){return r[0]=e[0]-s[0],r[1]=e[1]-s[1],r[2]=e[2]-s[2],r}},9908:function(l){l.exports=function m(r,e,s){var a=e[0],h=e[1],f=e[2];return r[0]=a*s[0]+h*s[3]+f*s[6],r[1]=a*s[1]+h*s[4]+f*s[7],r[2]=a*s[2]+h*s[5]+f*s[8],r}},3255:function(l){l.exports=function m(r,e,s){var a=e[0],h=e[1],f=e[2],u=s[3]*a+s[7]*h+s[11]*f+s[15];return r[0]=(s[0]*a+s[4]*h+s[8]*f+s[12])/(u=u||1),r[1]=(s[1]*a+s[5]*h+s[9]*f+s[13])/u,r[2]=(s[2]*a+s[6]*h+s[10]*f+s[14])/u,r}},6568:function(l){l.exports=function m(r,e,s){var a=e[0],h=e[1],f=e[2],u=s[0],g=s[1],c=s[2],w=s[3],d=w*a+g*f-c*h,o=w*h+c*a-u*f,v=w*f+u*h-g*a,M=-u*a-g*h-c*f;return r[0]=d*w+M*-u+o*-c-v*-g,r[1]=o*w+M*-g+v*-u-d*-c,r[2]=v*w+M*-c+d*-g-o*-u,r}},3433:function(l){l.exports=function m(r,e,s){return r[0]=e[0]+s[0],r[1]=e[1]+s[1],r[2]=e[2]+s[2],r[3]=e[3]+s[3],r}},1413:function(l){l.exports=function m(r){var e=new Float32Array(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}},3470:function(l){l.exports=function m(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r}},5313:function(l){l.exports=function m(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},5446:function(l){l.exports=function m(r,e){var s=e[0]-r[0],a=e[1]-r[1],h=e[2]-r[2],f=e[3]-r[3];return Math.sqrt(s*s+a*a+h*h+f*f)}},205:function(l){l.exports=function m(r,e,s){return r[0]=e[0]/s[0],r[1]=e[1]/s[1],r[2]=e[2]/s[2],r[3]=e[3]/s[3],r}},4242:function(l){l.exports=function m(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]*e[3]}},5680:function(l){l.exports=function m(r,e,s,a){var h=new Float32Array(4);return h[0]=r,h[1]=e,h[2]=s,h[3]=a,h}},4020:function(l,m,r){l.exports={create:r(5313),clone:r(1413),fromValues:r(5680),copy:r(3470),set:r(6453),add:r(3433),subtract:r(2705),multiply:r(746),divide:r(205),min:r(2170),max:r(3030),scale:r(5510),scaleAndAdd:r(4224),distance:r(5446),squaredDistance:r(1542),length:r(8177),squaredLength:r(9037),negate:r(6459),inverse:r(8057),normalize:r(381),dot:r(4242),lerp:r(8746),random:r(3770),transformMat4:r(6342),transformQuat:r(5022)}},8057:function(l){l.exports=function m(r,e){return r[0]=1/e[0],r[1]=1/e[1],r[2]=1/e[2],r[3]=1/e[3],r}},8177:function(l){l.exports=function m(r){var e=r[0],s=r[1],a=r[2],h=r[3];return Math.sqrt(e*e+s*s+a*a+h*h)}},8746:function(l){l.exports=function m(r,e,s,a){var h=e[0],f=e[1],u=e[2],g=e[3];return r[0]=h+a*(s[0]-h),r[1]=f+a*(s[1]-f),r[2]=u+a*(s[2]-u),r[3]=g+a*(s[3]-g),r}},3030:function(l){l.exports=function m(r,e,s){return r[0]=Math.max(e[0],s[0]),r[1]=Math.max(e[1],s[1]),r[2]=Math.max(e[2],s[2]),r[3]=Math.max(e[3],s[3]),r}},2170:function(l){l.exports=function m(r,e,s){return r[0]=Math.min(e[0],s[0]),r[1]=Math.min(e[1],s[1]),r[2]=Math.min(e[2],s[2]),r[3]=Math.min(e[3],s[3]),r}},746:function(l){l.exports=function m(r,e,s){return r[0]=e[0]*s[0],r[1]=e[1]*s[1],r[2]=e[2]*s[2],r[3]=e[3]*s[3],r}},6459:function(l){l.exports=function m(r,e){return r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=-e[3],r}},381:function(l){l.exports=function m(r,e){var s=e[0],a=e[1],h=e[2],f=e[3],u=s*s+a*a+h*h+f*f;return u>0&&(u=1/Math.sqrt(u),r[0]=s*u,r[1]=a*u,r[2]=h*u,r[3]=f*u),r}},3770:function(l,m,r){var e=r(381),s=r(5510);l.exports=function a(h,f){return f=f||1,h[0]=Math.random(),h[1]=Math.random(),h[2]=Math.random(),h[3]=Math.random(),e(h,h),s(h,h,f),h}},5510:function(l){l.exports=function m(r,e,s){return r[0]=e[0]*s,r[1]=e[1]*s,r[2]=e[2]*s,r[3]=e[3]*s,r}},4224:function(l){l.exports=function m(r,e,s,a){return r[0]=e[0]+s[0]*a,r[1]=e[1]+s[1]*a,r[2]=e[2]+s[2]*a,r[3]=e[3]+s[3]*a,r}},6453:function(l){l.exports=function m(r,e,s,a,h){return r[0]=e,r[1]=s,r[2]=a,r[3]=h,r}},1542:function(l){l.exports=function m(r,e){var s=e[0]-r[0],a=e[1]-r[1],h=e[2]-r[2],f=e[3]-r[3];return s*s+a*a+h*h+f*f}},9037:function(l){l.exports=function m(r){var e=r[0],s=r[1],a=r[2],h=r[3];return e*e+s*s+a*a+h*h}},2705:function(l){l.exports=function m(r,e,s){return r[0]=e[0]-s[0],r[1]=e[1]-s[1],r[2]=e[2]-s[2],r[3]=e[3]-s[3],r}},6342:function(l){l.exports=function m(r,e,s){var a=e[0],h=e[1],f=e[2],u=e[3];return r[0]=s[0]*a+s[4]*h+s[8]*f+s[12]*u,r[1]=s[1]*a+s[5]*h+s[9]*f+s[13]*u,r[2]=s[2]*a+s[6]*h+s[10]*f+s[14]*u,r[3]=s[3]*a+s[7]*h+s[11]*f+s[15]*u,r}},5022:function(l){l.exports=function m(r,e,s){var a=e[0],h=e[1],f=e[2],u=s[0],g=s[1],c=s[2],w=s[3],d=w*a+g*f-c*h,o=w*h+c*a-u*f,v=w*f+u*h-g*a,M=-u*a-g*h-c*f;return r[0]=d*w+M*-u+o*-c-v*-g,r[1]=o*w+M*-g+v*-u-d*-c,r[2]=v*w+M*-c+d*-g-o*-u,r[3]=e[3],r}},9365:function(l,m,r){var e=r(8096),s=r(7896);l.exports=function a(h){for(var f=Array.isArray(h)?h:e(h),u=0;u<f.length;u++){var g=f[u];if("preprocessor"===g.type){var c=g.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(c&&c[2]){var d=c[2];return(c[1]?s(d):d).trim()}}}}},3193:function(l,m,r){l.exports=function p(F){var z,B,H,D=0,N=0,k=u,O=[],U=[],et=1,at=0,lt=0,K=!1,j=!1,rt="",Z=a,it=e;"300 es"===(F=F||{}).version&&(Z=f,it=h);var Q={},Y={};for(D=0;D<Z.length;D++)Q[Z[D]]=!0;for(D=0;D<it.length;D++)Y[it[D]]=!0;return function(Vt){return U=[],null!==Vt?function _(Vt){D=0,Vt.toString&&(Vt=Vt.toString()),rt+=Vt.replace(/\r\n/g,"\n"),H=rt.length;for(var re;z=rt[D],D<H;){switch(re=D,k){case 0:D=Et();break;case 1:D=St();break;case 2:D=yt();break;case 3:D=Tt();break;case 4:D=Nt();break;case 11:D=Mt();break;case 5:D=Gt();break;case g:D=Pt();break;case 9:D=xt();break;case u:D=dt()}re!==D&&("\n"===rt[re]?(at=0,++et):++at)}return N+=D,rt=rt.slice(D),U}(Vt):function st(Vt){return O.length&&nt(O.join("")),k=10,nt("(eof)"),U}()};function nt(Vt){Vt.length&&U.push({type:C[k],data:Vt,position:lt,line:et,column:at})}function dt(){return O=O.length?[]:O,"/"===B&&"*"===z?(lt=N+D-1,k=0,B=z,D+1):"/"===B&&"/"===z?(lt=N+D-1,k=1,B=z,D+1):"#"===z?(k=2,lt=N+D,D):/\s/.test(z)?(k=9,lt=N+D,D):(K=/\d/.test(z),j=/[^\w_]/.test(z),lt=N+D,k=K?4:j?3:g,D)}function xt(){return/[^\s]/g.test(z)?(nt(O.join("")),k=u,D):(O.push(z),B=z,D+1)}function yt(){return"\r"!==z&&"\n"!==z||"\\"===B?(O.push(z),B=z,D+1):(nt(O.join("")),k=u,D)}function St(){return yt()}function Et(){return"/"===z&&"*"===B?(O.push(z),nt(O.join("")),k=u,D+1):(O.push(z),B=z,D+1)}function Tt(){if("."===B&&/\d/.test(z))return k=5,D;if("/"===B&&"*"===z)return k=0,D;if("/"===B&&"/"===z)return k=1,D;if("."===z&&O.length){for(;gt(O););return k=5,D}if(";"===z||")"===z||"("===z){if(O.length)for(;gt(O););return nt(z),k=u,D+1}var Vt=2===O.length&&"="!==z;if(/[\w_\d\s]/.test(z)||Vt){for(;gt(O););return k=u,D}return O.push(z),B=z,D+1}function gt(Vt){for(var le,It,re=0;;){if(le=s.indexOf(Vt.slice(0,Vt.length+re).join("")),It=s[le],-1===le){if(re--+Vt.length>0)continue;It=Vt.slice(0,1).join("")}return nt(It),lt+=It.length,(O=O.slice(It.length)).length}}function Mt(){return/[^a-fA-F0-9]/.test(z)?(nt(O.join("")),k=u,D):(O.push(z),B=z,D+1)}function Nt(){return"."===z||/[eE]/.test(z)?(O.push(z),k=5,B=z,D+1):"x"===z&&1===O.length&&"0"===O[0]?(k=11,O.push(z),B=z,D+1):/[^\d]/.test(z)?(nt(O.join("")),k=u,D):(O.push(z),B=z,D+1)}function Gt(){return"f"===z&&(O.push(z),B=z,D+=1),/[eE]/.test(z)||("-"===z||"+"===z)&&/[eE]/.test(B)?(O.push(z),B=z,D+1):/[^\d]/.test(z)?(nt(O.join("")),k=u,D):(O.push(z),B=z,D+1)}function Pt(){if(/[^\d\w_]/.test(z)){var Vt=O.join("");return k=Y[Vt]?8:Q[Vt]?7:6,nt(O.join("")),k=u,D}return O.push(z),B=z,D+1}};var e=r(399),s=r(9746),a=r(9525),h=r(9458),f=r(3585),u=999,g=9999,C=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(l,m,r){var e=r(9525);e=e.slice().filter(function(s){return!/^(gl\_|texture)/.test(s)}),l.exports=e.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(l){l.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(l,m,r){var e=r(399);l.exports=e.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(l){l.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(l){l.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(l,m,r){var e=r(3193);l.exports=function s(a,h){var f=e(h),u=[];return(u=u.concat(f(a))).concat(f(null))}},6832:function(l){l.exports=function(m){"string"==typeof m&&(m=[m]);for(var r=[].slice.call(arguments,1),e=[],s=0;s<m.length-1;s++)e.push(m[s],r[s]||"");return e.push(m[s]),e.join("")}},5233:function(l,m,r){"use strict";var e=r(4846);l.exports=e&&function s(){var a=!1;try{var h=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,h),window.removeEventListener("test",null,h)}catch(f){a=!1}return a}()},2183:function(l,m,r){"use strict";l.exports=function o(v,M){var b=v.length;if(0===b)throw new Error("Must have at least d+1 points");var E=v[0].length;if(b<=E)throw new Error("Must input at least d+1 points");var x=v.slice(0,E+1),S=e.apply(void 0,x);if(0===S)throw new Error("Input not in general position");for(var T=new Array(E+1),n=0;n<=E;++n)T[n]=n;S<0&&(T[0]=1,T[1]=0);var C=new a(T,new Array(E+1),!1),p=C.adjacent,F=new Array(E+2);for(n=0;n<=E;++n){for(var D=T.slice(),N=0;N<=E;++N)N===n&&(D[N]=-1);var k=D[0];D[0]=D[1],D[1]=k;var z=new a(D,new Array(E+1),!0);p[n]=z,F[n]=z}for(F[E+1]=C,n=0;n<=E;++n){D=p[n].vertices;var B=p[n].adjacent;for(N=0;N<=E;++N){var O=D[N];if(O<0)B[N]=C;else for(var U=0;U<=E;++U)p[U].vertices.indexOf(O)<0&&(B[N]=p[U])}}var G=new w(E,x,F),J=!!M;for(n=E+1;n<b;++n)G.insert(v[n],J);return G.boundary()};var e=r(417),s=r(8211).H;function a(v,M,b){this.vertices=v,this.adjacent=M,this.boundary=b,this.lastVisited=-1}function h(v,M,b){this.vertices=v,this.cell=M,this.index=b}function f(v,M){return s(v.vertices,M.vertices)}a.prototype.flip=function(){var v=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=v;var M=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=M};var c=[];function w(v,M,b){this.dimension=v,this.vertices=M,this.simplices=b,this.interior=b.filter(function(S){return!S.boundary}),this.tuple=new Array(v+1);for(var E=0;E<=v;++E)this.tuple[E]=this.vertices[E];var x=c[v];x||(x=c[v]=function g(v){var M=e[v+1];return M||(M=e),function u(v){return function(){return v.apply(this,this.tuple)}}(M)}(v)),this.orient=x}var d=w.prototype;d.handleBoundaryDegeneracy=function(v,M){var b=this.dimension,E=this.vertices.length-1,x=this.tuple,S=this.vertices,T=[v];for(v.lastVisited=-E;T.length>0;)for(var n=(v=T.pop()).adjacent,C=0;C<=b;++C){var p=n[C];if(p.boundary&&!(p.lastVisited<=-E)){for(var F=p.vertices,D=0;D<=b;++D){var N=F[D];x[D]=N<0?M:S[N]}var k=this.orient();if(k>0)return p;p.lastVisited=-E,0===k&&T.push(p)}}return null},d.walk=function(v,M){var b=this.vertices.length-1,E=this.dimension,x=this.vertices,S=this.tuple,T=M?this.interior.length*Math.random()|0:this.interior.length-1,n=this.interior[T];t:for(;!n.boundary;){for(var C=n.vertices,p=n.adjacent,F=0;F<=E;++F)S[F]=x[C[F]];for(n.lastVisited=b,F=0;F<=E;++F){var D=p[F];if(!(D.lastVisited>=b)){var N=S[F];S[F]=v;var k=this.orient();if(S[F]=N,k<0){n=D;continue t}D.lastVisited=D.boundary?-b:b}}return}return n},d.addPeaks=function(v,M){var b=this.vertices.length-1,E=this.dimension,x=this.vertices,S=this.tuple,T=this.interior,n=this.simplices,C=[M];M.lastVisited=b,M.vertices[M.vertices.indexOf(-1)]=b,M.boundary=!1,T.push(M);for(var p=[];C.length>0;){var F=(M=C.pop()).vertices,D=M.adjacent,N=F.indexOf(b);if(!(N<0))for(var k=0;k<=E;++k)if(k!==N){var z=D[k];if(z.boundary&&!(z.lastVisited>=b)){var B=z.vertices;if(z.lastVisited!==-b){for(var O=0,U=0;U<=E;++U)B[U]<0?(O=U,S[U]=v):S[U]=x[B[U]];if(this.orient()>0){B[O]=b,z.boundary=!1,T.push(z),C.push(z),z.lastVisited=b;continue}z.lastVisited=-b}var J=z.adjacent,et=F.slice(),at=D.slice(),lt=new a(et,at,!0);n.push(lt);var K=J.indexOf(M);if(!(K<0))for(J[K]=lt,at[N]=z,et[k]=-1,at[k]=M,D[k]=lt,lt.flip(),U=0;U<=E;++U){var j=et[U];if(!(j<0||j===b)){for(var rt=new Array(E-1),H=0,Z=0;Z<=E;++Z){var it=et[Z];it<0||Z===U||(rt[H++]=it)}p.push(new h(rt,lt,U))}}}}}for(p.sort(f),k=0;k+1<p.length;k+=2){var Q=p[k],Y=p[k+1];Q.index<0||Y.index<0||(Q.cell.adjacent[Q.index]=Y.cell,Y.cell.adjacent[Y.index]=Q.cell)}},d.insert=function(v,M){var b=this.vertices;b.push(v);var E=this.walk(v,M);if(E){for(var x=this.dimension,S=this.tuple,T=0;T<=x;++T){var n=E.vertices[T];S[T]=n<0?v:b[n]}var C=this.orient(S);C<0||0===C&&!(E=this.handleBoundaryDegeneracy(E,v))||this.addPeaks(v,E)}},d.boundary=function(){for(var v=this.dimension,M=[],b=this.simplices,E=b.length,x=0;x<E;++x){var S=b[x];if(S.boundary){for(var T=new Array(v),n=S.vertices,C=0,p=0,F=0;F<=v;++F)n[F]>=0?T[C++]=n[F]:p=1&F;if(p===(1&v)){var D=T[0];T[0]=T[1],T[1]=D}M.push(T)}}return M}},9014:function(l,m,r){"use strict";var e=r(5070);function f(p,F,D,N,k){this.mid=p,this.left=F,this.right=D,this.leftPoints=N,this.rightPoints=k,this.count=(F?F.count:0)+(D?D.count:0)+N.length}l.exports=function C(p){return new T(p&&0!==p.length?S(p):null)};var u=f.prototype;function g(p,F){p.mid=F.mid,p.left=F.left,p.right=F.right,p.leftPoints=F.leftPoints,p.rightPoints=F.rightPoints,p.count=F.count}function c(p,F){var D=S(F);p.mid=D.mid,p.left=D.left,p.right=D.right,p.leftPoints=D.leftPoints,p.rightPoints=D.rightPoints,p.count=D.count}function w(p,F){var D=p.intervals([]);D.push(F),c(p,D)}function d(p,F){var D=p.intervals([]),N=D.indexOf(F);return N<0?0:(D.splice(N,1),c(p,D),1)}function o(p,F,D){for(var N=0;N<p.length&&p[N][0]<=F;++N){var k=D(p[N]);if(k)return k}}function v(p,F,D){for(var N=p.length-1;N>=0&&p[N][1]>=F;--N){var k=D(p[N]);if(k)return k}}function M(p,F){for(var D=0;D<p.length;++D){var N=F(p[D]);if(N)return N}}function b(p,F){return p-F}function E(p,F){return p[0]-F[0]||p[1]-F[1]}function x(p,F){return p[1]-F[1]||p[0]-F[0]}function S(p){if(0===p.length)return null;for(var F=[],D=0;D<p.length;++D)F.push(p[D][0],p[D][1]);F.sort(b);var N=F[F.length>>1],k=[],z=[],B=[];for(D=0;D<p.length;++D){var O=p[D];O[1]<N?k.push(O):N<O[0]?z.push(O):B.push(O)}var U=B,G=B.slice();return U.sort(E),G.sort(x),new f(N,S(k),S(z),U,G)}function T(p){this.root=p}u.intervals=function(p){return p.push.apply(p,this.leftPoints),this.left&&this.left.intervals(p),this.right&&this.right.intervals(p),p},u.insert=function(p){var F=this.count-this.leftPoints.length;if(this.count+=1,p[1]<this.mid)this.left?4*(this.left.count+1)>3*(F+1)?w(this,p):this.left.insert(p):this.left=S([p]);else if(p[0]>this.mid)this.right?4*(this.right.count+1)>3*(F+1)?w(this,p):this.right.insert(p):this.right=S([p]);else{var D=e.ge(this.leftPoints,p,E),N=e.ge(this.rightPoints,p,x);this.leftPoints.splice(D,0,p),this.rightPoints.splice(N,0,p)}},u.remove=function(p){var F=this.count-this.leftPoints;if(p[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(F-1)?d(this,p):2===(N=this.left.remove(p))?(this.left=null,this.count-=1,1):(1===N&&(this.count-=1),N):0;if(p[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(F-1)?d(this,p):2===(N=this.right.remove(p))?(this.right=null,this.count-=1,1):(1===N&&(this.count-=1),N):0;if(1===this.count)return this.leftPoints[0]===p?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===p){if(this.left&&this.right){for(var z=this,B=this.left;B.right;)z=B,B=B.right;if(z===this)B.right=this.right;else{var O=this.left,N=this.right;z.count-=B.count,z.right=B.left,B.left=O,B.right=N}g(this,B),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else g(this,this.left?this.left:this.right);return 1}for(O=e.ge(this.leftPoints,p,E);O<this.leftPoints.length&&this.leftPoints[O][0]===p[0];++O)if(this.leftPoints[O]===p)for(this.count-=1,this.leftPoints.splice(O,1),N=e.ge(this.rightPoints,p,x);N<this.rightPoints.length&&this.rightPoints[N][1]===p[1];++N)if(this.rightPoints[N]===p)return this.rightPoints.splice(N,1),1;return 0},u.queryPoint=function(p,F){return p<this.mid?this.left&&(D=this.left.queryPoint(p,F))?D:o(this.leftPoints,p,F):p>this.mid?this.right&&(D=this.right.queryPoint(p,F))?D:v(this.rightPoints,p,F):M(this.leftPoints,F);var D},u.queryInterval=function(p,F,D){var N;return p<this.mid&&this.left&&(N=this.left.queryInterval(p,F,D))||F>this.mid&&this.right&&(N=this.right.queryInterval(p,F,D))?N:F<this.mid?o(this.leftPoints,F,D):p>this.mid?v(this.rightPoints,p,D):M(this.leftPoints,D)};var n=T.prototype;n.insert=function(p){this.root?this.root.insert(p):this.root=new f(p[0],null,null,[p],[p])},n.remove=function(p){if(this.root){var F=this.root.remove(p);return 2===F&&(this.root=null),0!==F}return!1},n.queryPoint=function(p,F){if(this.root)return this.root.queryPoint(p,F)},n.queryInterval=function(p,F,D){if(p<=F&&this.root)return this.root.queryInterval(p,F,D)},Object.defineProperty(n,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(n,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(l){"use strict";l.exports=function m(r){for(var e=new Array(r),s=0;s<r;++s)e[s]=s;return e}},4846:function(l){l.exports=!0},4780:function(l){function m(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}l.exports=function(e){return null!=e&&(m(e)||function r(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&m(e.slice(0,0))}(e)||!!e._isBuffer)}},3596:function(l){"use strict";l.exports=function(m){for(var e,r=m.length,s=0;s<r;s++)if(((e=m.charCodeAt(s))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}},3578:function(l){l.exports=function m(r,e,s){return r*(1-s)+e*s}},7191:function(l,m,r){var e=r(4690),s=r(9823),a=r(7332),h=r(7787),f=r(7437),u=r(2142),g={length:r(4693),normalize:r(899),dot:r(9305),cross:r(903)},c=s(),w=s(),d=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],v=[0,0,0];function E(x,S,T,n,C){x[0]=S[0]*n+T[0]*C,x[1]=S[1]*n+T[1]*C,x[2]=S[2]*n+T[2]*C}l.exports=function(S,T,n,C,p,F){if(T||(T=[0,0,0]),n||(n=[0,0,0]),C||(C=[0,0,0]),p||(p=[0,0,0,1]),F||(F=[0,0,0,1]),!e(c,S)||(a(w,c),w[3]=0,w[7]=0,w[11]=0,w[15]=1,Math.abs(h(w)<1e-8)))return!1;var D=c[3],N=c[7],k=c[11],z=c[12],B=c[13],O=c[14],U=c[15];if(0!==D||0!==N||0!==k){if(d[0]=D,d[1]=N,d[2]=k,d[3]=U,!f(w,w))return!1;u(w,w),function M(x,S,T){var n=S[0],C=S[1],p=S[2],F=S[3];return x[0]=T[0]*n+T[4]*C+T[8]*p+T[12]*F,x[1]=T[1]*n+T[5]*C+T[9]*p+T[13]*F,x[2]=T[2]*n+T[6]*C+T[10]*p+T[14]*F,x[3]=T[3]*n+T[7]*C+T[11]*p+T[15]*F,x}(p,d,w)}else p[0]=p[1]=p[2]=0,p[3]=1;if(T[0]=z,T[1]=B,T[2]=O,function b(x,S){x[0][0]=S[0],x[0][1]=S[1],x[0][2]=S[2],x[1][0]=S[4],x[1][1]=S[5],x[1][2]=S[6],x[2][0]=S[8],x[2][1]=S[9],x[2][2]=S[10]}(o,c),n[0]=g.length(o[0]),g.normalize(o[0],o[0]),C[0]=g.dot(o[0],o[1]),E(o[1],o[1],o[0],1,-C[0]),n[1]=g.length(o[1]),g.normalize(o[1],o[1]),C[0]/=n[1],C[1]=g.dot(o[0],o[2]),E(o[2],o[2],o[0],1,-C[1]),C[2]=g.dot(o[1],o[2]),E(o[2],o[2],o[1],1,-C[2]),n[2]=g.length(o[2]),g.normalize(o[2],o[2]),C[1]/=n[2],C[2]/=n[2],g.cross(v,o[1],o[2]),g.dot(o[0],v)<0)for(var J=0;J<3;J++)n[J]*=-1,o[J][0]*=-1,o[J][1]*=-1,o[J][2]*=-1;return F[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),F[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),F[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),F[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(F[0]=-F[0]),o[0][2]>o[2][0]&&(F[1]=-F[1]),o[1][0]>o[0][1]&&(F[2]=-F[2]),!0}},4690:function(l){l.exports=function(r,e){var s=e[15];if(0===s)return!1;for(var a=1/s,h=0;h<16;h++)r[h]=e[h]*a;return!0}},7649:function(l,m,r){var e=r(1868),s=r(1102),a=r(7191),h=r(7787),f=r(1116),u=d(),g=d(),c=d();function d(){return{translate:o(),scale:o(1),skew:o(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function o(M){return[M||0,M||0,M||0]}l.exports=function w(M,b,E,x){if(0===h(b)||0===h(E))return!1;var S=a(b,u.translate,u.scale,u.skew,u.perspective,u.quaternion),T=a(E,g.translate,g.scale,g.skew,g.perspective,g.quaternion);return!(!S||!T||(e(c.translate,u.translate,g.translate,x),e(c.skew,u.skew,g.skew,x),e(c.scale,u.scale,g.scale,x),e(c.perspective,u.perspective,g.perspective,x),f(c.quaternion,u.quaternion,g.quaternion,x),s(M,c.translate,c.scale,c.skew,c.perspective,c.quaternion),0))}},1102:function(l,m,r){var e={identity:r(9947),translate:r(998),multiply:r(104),create:r(9823),scale:r(3668),fromRotationTranslation:r(7280)},a=(e.create(),e.create());l.exports=function(f,u,g,c,w,d){return e.identity(f),e.fromRotationTranslation(f,d,u),f[3]=w[0],f[7]=w[1],f[11]=w[2],f[15]=w[3],e.identity(a),0!==c[2]&&(a[9]=c[2],e.multiply(f,f,a)),0!==c[1]&&(a[9]=0,a[8]=c[1],e.multiply(f,f,a)),0!==c[0]&&(a[8]=0,a[4]=c[0],e.multiply(f,f,a)),e.scale(f,f,g),f}},9298:function(l,m,r){"use strict";var e=r(5070),s=r(7649),a=r(7437),h=r(6109),f=r(7115),u=r(5240),g=r(3012),c=r(998),d=(r(3668),r(899)),o=[0,0,0];function v(x){this._components=x.slice(),this._time=[0],this.prevMatrix=x.slice(),this.nextMatrix=x.slice(),this.computedMatrix=x.slice(),this.computedInverse=x.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}l.exports=function E(x){return new v((x=x||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var M=v.prototype;M.recalcMatrix=function(x){var S=this._time,T=e.le(S,x),n=this.computedMatrix;if(!(T<0)){var C=this._components;if(T===S.length-1)for(var p=16*T,F=0;F<16;++F)n[F]=C[p++];else{var D=S[T+1]-S[T],N=(p=16*T,this.prevMatrix),k=!0;for(F=0;F<16;++F)N[F]=C[p++];var z=this.nextMatrix;for(F=0;F<16;++F)z[F]=C[p++],k=k&&N[F]===z[F];if(D<1e-6||k)for(F=0;F<16;++F)n[F]=N[F];else s(n,N,z,(x-S[T])/D)}var B=this.computedUp;B[0]=n[1],B[1]=n[5],B[2]=n[9],d(B,B);var O=this.computedInverse;a(O,n);var U=this.computedEye,G=O[15];U[0]=O[12]/G,U[1]=O[13]/G,U[2]=O[14]/G;var J=this.computedCenter,et=Math.exp(this.computedRadius[0]);for(F=0;F<3;++F)J[F]=U[F]-n[2+4*F]*et}},M.idle=function(x){if(!(x<this.lastT())){for(var S=this._components,T=S.length-16,n=0;n<16;++n)S.push(S[T++]);this._time.push(x)}},M.flush=function(x){var S=e.gt(this._time,x)-2;S<0||(this._time.splice(0,S),this._components.splice(0,16*S))},M.lastT=function(){return this._time[this._time.length-1]},M.lookAt=function(x,S,T,n){this.recalcMatrix(x),this.setMatrix(x,g(this.computedMatrix,S=S||this.computedEye,T=T||o,n=n||this.computedUp));for(var C=0,p=0;p<3;++p)C+=Math.pow(T[p]-S[p],2);C=Math.log(Math.sqrt(C)),this.computedRadius[0]=C},M.rotate=function(x,S,T,n){this.recalcMatrix(x);var C=this.computedInverse;S&&f(C,C,S),T&&h(C,C,T),n&&u(C,C,n),this.setMatrix(x,a(this.computedMatrix,C))};var b=[0,0,0];M.pan=function(x,S,T,n){b[0]=-(S||0),b[1]=-(T||0),b[2]=-(n||0),this.recalcMatrix(x);var C=this.computedInverse;c(C,C,b),this.setMatrix(x,a(C,C))},M.translate=function(x,S,T,n){b[0]=S||0,b[1]=T||0,b[2]=n||0,this.recalcMatrix(x);var C=this.computedMatrix;c(C,C,b),this.setMatrix(x,C)},M.setMatrix=function(x,S){if(!(x<this.lastT())){this._time.push(x);for(var T=0;T<16;++T)this._components.push(S[T])}},M.setDistance=function(x,S){this.computedRadius[0]=S},M.setDistanceLimits=function(x,S){var T=this._limits;T[0]=x,T[1]=S},M.getDistanceLimits=function(x){var S=this._limits;return x?(x[0]=S[0],x[1]=S[1],x):S}},3266:function(l,m,r){"use strict";l.exports=function s(a){var h=a.length;if(h<3){for(var v=new Array(h),f=0;f<h;++f)v[f]=f;return 2===h&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:v}var u=new Array(h);for(f=0;f<h;++f)u[f]=f;u.sort(function(x,S){return a[x][0]-a[S][0]||a[x][1]-a[S][1]});var g=[u[0],u[1]],c=[u[0],u[1]];for(f=2;f<h;++f){for(var w=u[f],d=a[w],o=g.length;o>1&&e(a[g[o-2]],a[g[o-1]],d)<=0;)o-=1,g.pop();for(g.push(w),o=c.length;o>1&&e(a[c[o-2]],a[c[o-1]],d)>=0;)o-=1,c.pop();c.push(w)}v=new Array(c.length+g.length-2);for(var M=0,b=(f=0,g.length);f<b;++f)v[M++]=g[f];for(var E=c.length-2;E>0;--E)v[M++]=c[E];return v};var e=r(417)[3]},6145:function(l,m,r){"use strict";l.exports=function s(a,h){h||(h=a,a=window);var f=0,u=0,g=0,c={shift:!1,alt:!1,control:!1,meta:!1},w=!1;function d(p){var F=!1;return"altKey"in p&&(F=F||p.altKey!==c.alt,c.alt=!!p.altKey),"shiftKey"in p&&(F=F||p.shiftKey!==c.shift,c.shift=!!p.shiftKey),"ctrlKey"in p&&(F=F||p.ctrlKey!==c.control,c.control=!!p.ctrlKey),"metaKey"in p&&(F=F||p.metaKey!==c.meta,c.meta=!!p.metaKey),F}function o(p,F){var D=e.x(F),N=e.y(F);"buttons"in F&&(p=0|F.buttons),(p!==f||D!==u||N!==g||d(F))&&(f=0|p,u=D||0,g=N||0,h&&h(f,u,g,c))}function v(p){o(0,p)}function M(){(f||u||g||c.shift||c.alt||c.meta||c.control)&&(u=g=0,f=0,c.shift=c.alt=c.control=c.meta=!1,h&&h(0,0,0,c))}function b(p){d(p)&&h&&h(f,u,g,c)}function E(p){0===e.buttons(p)?o(0,p):o(f,p)}function x(p){o(f|e.buttons(p),p)}function S(p){o(f&~e.buttons(p),p)}function T(){w||(w=!0,a.addEventListener("mousemove",E),a.addEventListener("mousedown",x),a.addEventListener("mouseup",S),a.addEventListener("mouseleave",v),a.addEventListener("mouseenter",v),a.addEventListener("mouseout",v),a.addEventListener("mouseover",v),a.addEventListener("blur",M),a.addEventListener("keyup",b),a.addEventListener("keydown",b),a.addEventListener("keypress",b),a!==window&&(window.addEventListener("blur",M),window.addEventListener("keyup",b),window.addEventListener("keydown",b),window.addEventListener("keypress",b)))}T();var C={element:a};return Object.defineProperties(C,{enabled:{get:function(){return w},set:function(p){p?T():function n(){!w||(w=!1,a.removeEventListener("mousemove",E),a.removeEventListener("mousedown",x),a.removeEventListener("mouseup",S),a.removeEventListener("mouseleave",v),a.removeEventListener("mouseenter",v),a.removeEventListener("mouseout",v),a.removeEventListener("mouseover",v),a.removeEventListener("blur",M),a.removeEventListener("keyup",b),a.removeEventListener("keydown",b),a.removeEventListener("keypress",b),a!==window&&(window.removeEventListener("blur",M),window.removeEventListener("keyup",b),window.removeEventListener("keydown",b),window.removeEventListener("keypress",b)))}()},enumerable:!0},buttons:{get:function(){return f},enumerable:!0},x:{get:function(){return u},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return c},enumerable:!0}}),C};var e=r(4110)},2565:function(l){var m={left:0,top:0};l.exports=function r(s,a,h){a=a||s.currentTarget||s.srcElement,Array.isArray(h)||(h=[0,0]);var f=s.clientX||0,u=s.clientY||0,g=function e(s){return s===window||s===document||s===document.body?m:s.getBoundingClientRect()}(a);return h[0]=f-g.left,h[1]=u-g.top,h}},4110:function(l,m){"use strict";function e(h){return h.target||h.srcElement||window}m.buttons=function r(h){if("object"==typeof h){if("buttons"in h)return h.buttons;if("which"in h){if(2===(f=h.which))return 4;if(3===f)return 2;if(f>0)return 1<<f-1}else if("button"in h){var f;if(1===(f=h.button))return 4;if(2===f)return 2;if(f>=0)return 1<<f}}return 0},m.element=e,m.x=function s(h){if("object"==typeof h){if("offsetX"in h)return h.offsetX;var u=e(h).getBoundingClientRect();return h.clientX-u.left}return 0},m.y=function a(h){if("object"==typeof h){if("offsetY"in h)return h.offsetY;var u=e(h).getBoundingClientRect();return h.clientY-u.top}return 0}},6475:function(l,m,r){"use strict";var e=r(14);l.exports=function s(a,h,f){"function"==typeof a&&(f=!!h,h=a,a=window);var u=e("ex",a),g=function(c){f&&c.preventDefault();var w=c.deltaX||0,d=c.deltaY||0,o=c.deltaZ||0,M=1;switch(c.deltaMode){case 1:M=u;break;case 2:M=window.innerHeight}if(d*=M,o*=M,(w*=M)||d||o)return h(w,d,o,c)};return a.addEventListener("wheel",g),g}},9284:function(l,m,r){"use strict";var e=r(5306);l.exports=function h(f){function u(M){throw new Error("ndarray-extract-contour: "+M)}"object"!=typeof f&&u("Must specify arguments");var g=f.order;Array.isArray(g)||u("Must specify order");var c=f.arrayArguments||1;c<1&&u("Must have at least one array argument");var w=f.scalarArguments||0;w<0&&u("Scalar arg count must be > 0"),"function"!=typeof f.vertex&&u("Must specify vertex creation function"),"function"!=typeof f.cell&&u("Must specify cell creation function"),"function"!=typeof f.phase&&u("Must specify phase function");for(var d=f.getters||[],o=new Array(c),v=0;v<c;++v)o[v]=d.indexOf(v)>=0;return function a(f,u,g,c,w,d){var o=[d,w].join(",");return(0,s[o])(f,u,g,e.mallocUint32,e.freeUint32)}(f.vertex,f.cell,f.phase,0,g,o)};var s={"false,0,1":function(u,g,c,w,d){return function(v,M,b,E){var D,x=0|v.shape[0],S=0|v.shape[1],T=v.data,C=0|v.stride[0],p=0|v.stride[1],F=0|v.offset,N=0|-C,k=0,z=0|-p,B=0,O=-C-p|0,U=0,G=0|C,J=p-C*x|0,et=0,at=0,lt=0,K=2*x|0,j=w(K),rt=w(K),H=0,Z=0,it=-1,Q=-1,Y=0,nt=0|-x,_=0|x,st=0,dt=-x-1|0,xt=x-1|0,yt=0,St=0,Et=0;for(et=0;et<x;++et)j[H++]=c(T[F],M,b,E),F+=G;if(F+=J,S>0){if(at=1,j[H++]=c(T[F],M,b,E),F+=G,x>0)for(et=1,Z=j[H]=c(D=T[F],M,b,E),st=j[H+nt],yt=j[H+dt],(Z!==(Y=j[H+it])||Z!==st||Z!==yt)&&(u(et,at,D,k=T[F+N],B=T[F+z],U=T[F+O],Z,Y,st,yt,M,b,E),St=rt[H]=lt++),H+=1,F+=G,et=2;et<x;++et)Z=j[H]=c(D=T[F],M,b,E),st=j[H+nt],yt=j[H+dt],(Z!==(Y=j[H+it])||Z!==st||Z!==yt)&&(u(et,at,D,k=T[F+N],B=T[F+z],U=T[F+O],Z,Y,st,yt,M,b,E),St=rt[H]=lt++,yt!==Y&&g(rt[H+it],St,U,k,yt,Y,M,b,E)),H+=1,F+=G;for(F+=J,H=0,Et=it,it=Q,Q=Et,Et=nt,nt=_,_=Et,Et=dt,dt=xt,xt=Et,at=2;at<S;++at){if(j[H++]=c(T[F],M,b,E),F+=G,x>0)for(et=1,Z=j[H]=c(D=T[F],M,b,E),st=j[H+nt],yt=j[H+dt],(Z!==(Y=j[H+it])||Z!==st||Z!==yt)&&(u(et,at,D,k=T[F+N],B=T[F+z],U=T[F+O],Z,Y,st,yt,M,b,E),St=rt[H]=lt++,yt!==st&&g(rt[H+nt],St,B,U,st,yt,M,b,E)),H+=1,F+=G,et=2;et<x;++et)Z=j[H]=c(D=T[F],M,b,E),st=j[H+nt],yt=j[H+dt],(Z!==(Y=j[H+it])||Z!==st||Z!==yt)&&(u(et,at,D,k=T[F+N],B=T[F+z],U=T[F+O],Z,Y,st,yt,M,b,E),St=rt[H]=lt++,yt!==st&&g(rt[H+nt],St,B,U,st,yt,M,b,E),yt!==Y&&g(rt[H+it],St,U,k,yt,Y,M,b,E)),H+=1,F+=G;1&at&&(H=0),Et=it,it=Q,Q=Et,Et=nt,nt=_,_=Et,Et=dt,dt=xt,xt=Et,F+=J}}d(rt),d(j)}},"false,1,0":function(u,g,c,w,d){return function(v,M,b,E){var D,x=0|v.shape[0],S=0|v.shape[1],T=v.data,C=0|v.stride[0],p=0|v.stride[1],F=0|v.offset,N=0|-C,k=0,z=0|-p,B=0,O=-C-p|0,U=0,G=0|p,J=C-p*S|0,et=0,at=0,lt=0,K=2*S|0,j=w(K),rt=w(K),H=0,Z=0,it=-1,Q=-1,Y=0,nt=0|-S,_=0|S,st=0,dt=-S-1|0,xt=S-1|0,yt=0,St=0,Et=0;for(at=0;at<S;++at)j[H++]=c(T[F],M,b,E),F+=G;if(F+=J,x>0){if(et=1,j[H++]=c(T[F],M,b,E),F+=G,S>0)for(at=1,Z=j[H]=c(D=T[F],M,b,E),Y=j[H+it],yt=j[H+dt],(Z!==(st=j[H+nt])||Z!==Y||Z!==yt)&&(u(et,at,D,k=T[F+N],B=T[F+z],U=T[F+O],Z,st,Y,yt,M,b,E),St=rt[H]=lt++),H+=1,F+=G,at=2;at<S;++at)Z=j[H]=c(D=T[F],M,b,E),Y=j[H+it],yt=j[H+dt],(Z!==(st=j[H+nt])||Z!==Y||Z!==yt)&&(u(et,at,D,k=T[F+N],B=T[F+z],U=T[F+O],Z,st,Y,yt,M,b,E),St=rt[H]=lt++,yt!==Y&&g(rt[H+it],St,B,U,Y,yt,M,b,E)),H+=1,F+=G;for(F+=J,H=0,Et=nt,nt=_,_=Et,Et=it,it=Q,Q=Et,Et=dt,dt=xt,xt=Et,et=2;et<x;++et){if(j[H++]=c(T[F],M,b,E),F+=G,S>0)for(at=1,Z=j[H]=c(D=T[F],M,b,E),Y=j[H+it],yt=j[H+dt],(Z!==(st=j[H+nt])||Z!==Y||Z!==yt)&&(u(et,at,D,k=T[F+N],B=T[F+z],U=T[F+O],Z,st,Y,yt,M,b,E),St=rt[H]=lt++,yt!==st&&g(rt[H+nt],St,U,k,yt,st,M,b,E)),H+=1,F+=G,at=2;at<S;++at)Z=j[H]=c(D=T[F],M,b,E),Y=j[H+it],yt=j[H+dt],(Z!==(st=j[H+nt])||Z!==Y||Z!==yt)&&(u(et,at,D,k=T[F+N],B=T[F+z],U=T[F+O],Z,st,Y,yt,M,b,E),St=rt[H]=lt++,yt!==Y&&g(rt[H+it],St,B,U,Y,yt,M,b,E),yt!==st&&g(rt[H+nt],St,U,k,yt,st,M,b,E)),H+=1,F+=G;1&et&&(H=0),Et=nt,nt=_,_=Et,Et=it,it=Q,Q=Et,Et=dt,dt=xt,xt=Et,F+=J}}d(rt),d(j)}}}},9144:function(l,m,r){"use strict";var e=r(3094),s={zero:function(E,x,S,T){var n=E[0];T|=0;var p=0,F=S[0];for(p=0;p<n;++p)x[T]=0,T+=F},fdTemplate1:function(E,x,S,T,n,C,p){var F=E[0],D=S[0],k=-1*D,z=D;T|=0,p|=0;var B=0,O=D,U=C[0];for(B=0;B<F;++B)n[p]=.5*(x[T+k]-x[T+z]),T+=O,p+=U},fdTemplate2:function(E,x,S,T,n,C,p,F,D,N){var k=E[0],z=E[1],B=S[0],O=S[1],G=C[1],et=D[1],at=-1*B,lt=B,K=-1*O,j=O;T|=0,p|=0,N|=0;var rt=0,H=0,Z=O,it=B-z*O,Q=G,Y=C[0]-z*G,nt=et,_=D[0]-z*et;for(H=0;H<k;++H){for(rt=0;rt<z;++rt)n[p]=.5*(x[T+at]-x[T+lt]),F[N]=.5*(x[T+K]-x[T+j]),T+=Z,p+=Q,N+=nt;T+=it,p+=Y,N+=_}}},a={cdiff:function(E){var x={};return function(T,n,C){var p=T.dtype,F=T.order,D=n.dtype,N=n.order,k=C.dtype,z=C.order,B=[p,F.join(),D,N.join(),k,z.join()].join(),O=x[B];return O||(x[B]=O=E([p,F,D,N,k,z])),O(T.shape.slice(0),T.data,T.stride,0|T.offset,n.data,n.stride,0|n.offset,C.data,C.stride,0|C.offset)}},zero:function(E){var x={};return function(T){var n=T.dtype,C=T.order,p=[n,C.join()].join(),F=x[p];return F||(x[p]=F=E([n,C])),F(T.shape.slice(0),T.data,T.stride,0|T.offset)}},fdTemplate1:function(E){var x={};return function(T,n){var C=T.dtype,p=T.order,F=n.dtype,D=n.order,N=[C,p.join(),F,D.join()].join(),k=x[N];return k||(x[N]=k=E([C,p,F,D])),k(T.shape.slice(0),T.data,T.stride,0|T.offset,n.data,n.stride,0|n.offset)}},fdTemplate2:function(E){var x={};return function(T,n,C){var p=T.dtype,F=T.order,D=n.dtype,N=n.order,k=C.dtype,z=C.order,B=[p,F.join(),D,N.join(),k,z.join()].join(),O=x[B];return O||(x[B]=O=E([p,F,D,N,k,z])),O(T.shape.slice(0),T.data,T.stride,0|T.offset,n.data,n.stride,0|n.offset,C.data,C.stride,0|C.offset)}}};function h(E){return(0,a[E.funcName])(f.bind(void 0,E))}function f(E){return s[E.funcName]}function u(E){return h({funcName:E.funcName})}var g={},c={},d=u({funcName:"cdiff"}),o=u({funcName:"zero"});function v(E){return E in g?g[E]:g[E]=u({funcName:"fdTemplate"+E})}function M(E,x,S,T){return function(n,C){var p=C.shape.slice();return p[0]>2&&p[1]>2&&T(C.pick(-1,-1).lo(1,1).hi(p[0]-2,p[1]-2),n.pick(-1,-1,0).lo(1,1).hi(p[0]-2,p[1]-2),n.pick(-1,-1,1).lo(1,1).hi(p[0]-2,p[1]-2)),p[1]>2&&(S(C.pick(0,-1).lo(1).hi(p[1]-2),n.pick(0,-1,1).lo(1).hi(p[1]-2)),x(n.pick(0,-1,0).lo(1).hi(p[1]-2))),p[1]>2&&(S(C.pick(p[0]-1,-1).lo(1).hi(p[1]-2),n.pick(p[0]-1,-1,1).lo(1).hi(p[1]-2)),x(n.pick(p[0]-1,-1,0).lo(1).hi(p[1]-2))),p[0]>2&&(S(C.pick(-1,0).lo(1).hi(p[0]-2),n.pick(-1,0,0).lo(1).hi(p[0]-2)),x(n.pick(-1,0,1).lo(1).hi(p[0]-2))),p[0]>2&&(S(C.pick(-1,p[1]-1).lo(1).hi(p[0]-2),n.pick(-1,p[1]-1,0).lo(1).hi(p[0]-2)),x(n.pick(-1,p[1]-1,1).lo(1).hi(p[0]-2))),n.set(0,0,0,0),n.set(0,0,1,0),n.set(p[0]-1,0,0,0),n.set(p[0]-1,0,1,0),n.set(0,p[1]-1,0,0),n.set(0,p[1]-1,1,0),n.set(p[0]-1,p[1]-1,0,0),n.set(p[0]-1,p[1]-1,1,0),n}}l.exports=function(x,S,T){return Array.isArray(T)||(T=e(S.dimension,"string"==typeof T?T:"clamp")),0===S.size?x:0===S.dimension?(x.set(0),x):function b(E){var x=E.join();if(p=c[x])return p;for(var S=E.length,T=[d,o],n=1;n<=S;++n)T.push(v(n));var p=M.apply(void 0,T);return c[x]=p,p}(T)(x,S)}},3581:function(l){"use strict";function m(h,f){var u=Math.floor(f),g=f-u,w=0<=u+1&&u+1<h.shape[0];return(1-g)*(0<=u&&u<h.shape[0]?+h.get(u):0)+g*(w?+h.get(u+1):0)}function r(h,f,u){var g=Math.floor(f),c=f-g,w=0<=g&&g<h.shape[0],d=0<=g+1&&g+1<h.shape[0],o=Math.floor(u),v=u-o,M=0<=o&&o<h.shape[1],b=0<=o+1&&o+1<h.shape[1],E=w&&M?h.get(g,o):0,x=w&&b?h.get(g,o+1):0;return(1-v)*((1-c)*E+c*(d&&M?h.get(g+1,o):0))+v*((1-c)*x+c*(d&&b?h.get(g+1,o+1):0))}function e(h,f,u,g){var c=Math.floor(f),w=f-c,d=0<=c&&c<h.shape[0],o=0<=c+1&&c+1<h.shape[0],v=Math.floor(u),M=u-v,b=0<=v&&v<h.shape[1],E=0<=v+1&&v+1<h.shape[1],x=Math.floor(g),S=g-x,T=0<=x&&x<h.shape[2],n=0<=x+1&&x+1<h.shape[2],C=d&&b&&T?h.get(c,v,x):0,p=d&&E&&T?h.get(c,v+1,x):0,F=o&&b&&T?h.get(c+1,v,x):0,D=o&&E&&T?h.get(c+1,v+1,x):0,N=d&&b&&n?h.get(c,v,x+1):0,k=d&&E&&n?h.get(c,v+1,x+1):0;return(1-S)*((1-M)*((1-w)*C+w*F)+M*((1-w)*p+w*D))+S*((1-M)*((1-w)*N+w*(o&&b&&n?h.get(c+1,v,x+1):0))+M*((1-w)*k+w*(o&&E&&n?h.get(c+1,v+1,x+1):0)))}function s(h){var d,o,f=0|h.shape.length,u=new Array(f),g=new Array(f),c=new Array(f),w=new Array(f);for(d=0;d<f;++d)o=+arguments[d+1],u[d]=Math.floor(o),g[d]=o-u[d],c[d]=0<=u[d]&&u[d]<h.shape[d],w[d]=0<=u[d]+1&&u[d]+1<h.shape[d];var M,b,E,v=0;t:for(d=0;d<1<<f;++d){for(b=1,E=h.offset,M=0;M<f;++M)if(d&1<<M){if(!w[M])continue t;b*=g[M],E+=h.stride[M]*(u[M]+1)}else{if(!c[M])continue t;b*=1-g[M],E+=h.stride[M]*u[M]}v+=b*h.data[E]}return v}l.exports=function a(h,f,u,g){switch(h.shape.length){case 0:return 0;case 1:return m(h,f);case 2:return r(h,f,u);case 3:return e(h,f,u,g);default:return s.apply(void 0,arguments)}},l.exports.d1=m,l.exports.d2=r,l.exports.d3=e},7498:function(l,m){"use strict";var r={"float64,2,1,0":function(){return function(c,w,d,o,v){var M=c[0],b=c[1],E=c[2],S=d[1],T=d[2];o|=0;var n=0,C=0,p=0,F=T,D=S-E*T,N=d[0]-b*S;for(p=0;p<M;++p){for(C=0;C<b;++C){for(n=0;n<E;++n)w[o]/=v,o+=F;o+=D}o+=N}}},"uint8,2,0,1,float64,2,1,0":function(){return function(c,w,d,o,v,M,b,E){for(var x=c[0],S=c[1],T=c[2],n=d[0],C=d[1],p=d[2],F=M[0],D=M[1],N=M[2],k=o|=0,z=b|=0,B=0|c[0];B>0;){B<64?(x=B,B=0):(x=64,B-=64);for(var O=0|c[1];O>0;){O<64?(S=O,O=0):(S=64,O-=64),o=k+B*n+O*C,b=z+B*F+O*D;var U=0,G=0,J=0,et=p,at=n-T*p,lt=C-x*n,K=N,j=F-T*N,rt=D-x*F;for(J=0;J<S;++J){for(G=0;G<x;++G){for(U=0;U<T;++U)w[o]=v[b]*E,o+=et,b+=K;o+=at,b+=j}o+=lt,b+=rt}}}}},"float32,1,0,float32,1,0":function(){return function(c,w,d,o,v,M,b){var E=c[0],x=c[1],T=d[1],C=M[1];o|=0,b|=0;var p=0,F=0,D=T,N=d[0]-x*T,k=C,z=M[0]-x*C;for(F=0;F<E;++F){for(p=0;p<x;++p)w[o]=v[b],o+=D,b+=k;o+=N,b+=z}}},"float32,1,0,float32,0,1":function(){return function(c,w,d,o,v,M,b){for(var E=c[0],x=c[1],S=d[0],T=d[1],n=M[0],C=M[1],p=o|=0,F=b|=0,D=0|c[1];D>0;){D<64?(x=D,D=0):(x=64,D-=64);for(var N=0|c[0];N>0;){N<64?(E=N,N=0):(E=64,N-=64),o=p+D*T+N*S,b=F+D*C+N*n;var k=0,z=0,B=T,O=S-x*T,U=C,G=n-x*C;for(z=0;z<E;++z){for(k=0;k<x;++k)w[o]=v[b],o+=B,b+=U;o+=O,b+=G}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(c,w,d,o,v,M,b){for(var E=c[0],x=c[1],S=c[2],T=d[0],n=d[1],C=d[2],p=M[0],F=M[1],D=M[2],N=o|=0,k=b|=0,z=0|c[2];z>0;){z<64?(S=z,z=0):(S=64,z-=64);for(var B=0|c[0];B>0;){B<64?(E=B,B=0):(E=64,B-=64);for(var O=0|c[1];O>0;){O<64?(x=O,O=0):(x=64,O-=64),o=N+z*C+B*T+O*n,b=k+z*D+B*p+O*F;var U=0,G=0,J=0,et=C,at=T-S*C,lt=n-E*T,K=D,j=p-S*D,rt=F-E*p;for(J=0;J<x;++J){for(G=0;G<E;++G){for(U=0;U<S;++U)w[o]=v[b],o+=et,b+=K;o+=at,b+=j}o+=lt,b+=rt}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(c,w,d,o,v,M,b){var E=c[0],x=c[1],S=c[2],T=d[0],C=d[2],p=M[0],D=M[2];o|=0,b|=0;var N=0,k=0,z=0,B=C,O=T-S*C,U=d[1]-E*T,G=D,J=p-S*D,et=M[1]-E*p;for(z=0;z<x;++z){for(k=0;k<E;++k){for(N=0;N<S;++N)w[o]=v[b],o+=B,b+=G;o+=O,b+=J}o+=U,b+=et}}}};var s=function e(g,c){var w=c.join(",");return(0,r[w])()},a={mul:function(g){var c={};return function(d,o,v){var M=d.dtype,b=d.order,E=o.dtype,x=o.order,S=v.dtype,T=v.order,n=[M,b.join(),E,x.join(),S,T.join()].join(),C=c[n];return C||(c[n]=C=g([M,b,E,x,S,T])),C(d.shape.slice(0),d.data,d.stride,0|d.offset,o.data,o.stride,0|o.offset,v.data,v.stride,0|v.offset)}},muls:function(g){var c={};return function(d,o,v){var M=d.dtype,b=d.order,E=o.dtype,x=o.order,S=[M,b.join(),E,x.join()].join(),T=c[S];return T||(c[S]=T=g([M,b,E,x])),T(d.shape.slice(0),d.data,d.stride,0|d.offset,o.data,o.stride,0|o.offset,v)}},mulseq:function(g){var c={};return function(d,o){var v=d.dtype,M=d.order,b=[v,M.join()].join(),E=c[b];return E||(c[b]=E=g([v,M])),E(d.shape.slice(0),d.data,d.stride,0|d.offset,o)}},div:function(g){var c={};return function(d,o,v){var M=d.dtype,b=d.order,E=o.dtype,x=o.order,S=v.dtype,T=v.order,n=[M,b.join(),E,x.join(),S,T.join()].join(),C=c[n];return C||(c[n]=C=g([M,b,E,x,S,T])),C(d.shape.slice(0),d.data,d.stride,0|d.offset,o.data,o.stride,0|o.offset,v.data,v.stride,0|v.offset)}},divs:function(g){var c={};return function(d,o,v){var M=d.dtype,b=d.order,E=o.dtype,x=o.order,S=[M,b.join(),E,x.join()].join(),T=c[S];return T||(c[S]=T=g([M,b,E,x])),T(d.shape.slice(0),d.data,d.stride,0|d.offset,o.data,o.stride,0|o.offset,v)}},divseq:function(g){var c={};return function(d,o){var v=d.dtype,M=d.order,b=[v,M.join()].join(),E=c[b];return E||(c[b]=E=g([v,M])),E(d.shape.slice(0),d.data,d.stride,0|d.offset,o)}},assign:function(g){var c={};return function(d,o){var v=d.dtype,M=d.order,b=o.dtype,E=o.order,x=[v,M.join(),b,E.join()].join(),S=c[x];return S||(c[x]=S=g([v,M,b,E])),S(d.shape.slice(0),d.data,d.stride,0|d.offset,o.data,o.stride,0|o.offset)}}};function f(g){return function h(g){return(0,a[g.funcName])(s.bind(void 0,g))}({funcName:g.funcName})}var u={mul:"*",div:"/"};(function(){for(var g in u)m[g]=f({funcName:g}),m[g+"s"]=f({funcName:g+"s"}),m[g+"seq"]=f({funcName:g+"seq"})})(),m.assign=f({funcName:"assign"})},7382:function(l,m,r){"use strict";var e=r(5050),s=r(9262);l.exports=function(h,f){for(var u=[],g=h,c=1;Array.isArray(g);)u.push(g.length),c*=g.length,g=g[0];return 0===u.length?e():(f||(f=e(new Float64Array(c),u)),s(f,h),f)}},9262:function(l){"use strict";var e=function r(){return function(f,u,g,c,w){var d=f[0],o=f[1],v=f[2],b=g[1],E=g[2],x=[0,0,0];c|=0;var S=0,T=0,n=0,C=E,p=b-v*E,F=g[0]-o*b;for(n=0;n<d;++n){for(T=0;T<o;++T){for(S=0;S<v;++S){var N,D=w;for(N=0;N<x.length-1;++N)D=D[x[N]];u[c]=D[x[x.length-1]],c+=C,++x[2]}c+=p,x[2]-=v,++x[1]}c+=F,x[1]-=o,++x[0]}}};l.exports=function h(f){return function a(f){return function s(f){var u={};return function(c,w){var d=c.dtype,o=c.order,v=[d,o.join()].join(),M=u[v];return M||(u[v]=M=f([d,o])),M(c.shape.slice(0),c.data,c.stride,0|c.offset,w)}}(e.bind(void 0,f))}({funcName:f.funcName})}({funcName:"convert"})},8139:function(l,m,r){"use strict";var e=r(5306);function s(w){return"uint32"===w?[e.mallocUint32,e.freeUint32]:null}var a={"uint32,1,0":function(w,d){return function(v,M,b,E,x,S,T,n,C,p,F){var D,N,k,B,U,G,J,et,z=v*x+E,O=w(n);for(D=v+1;D<=M;++D){for(N=D,k=z+=x,U=0,G=z,B=0;B<n;++B)O[U++]=b[G],G+=C;t:for(;N-- >v;){U=0,G=k-x;e:for(B=0;B<n;++B){if((J=b[G])<(et=O[U]))break t;if(J>et)break e;G+=p,U+=F}for(U=k,G=k-x,B=0;B<n;++B)b[U]=b[G],U+=C,G+=C;k-=x}for(U=k,G=0,B=0;B<n;++B)b[U]=O[G++],U+=C}d(O)}}};var f={"uint32,1,0":function(w,d,o){return function v(M,b,E,x,S,T,n,C,p,F,D){var H,Z,Q,Y,nt,_,st,dt,Et,Tt,gt,Mt,Nt,Gt,Pt,Vt,re,le,It,Rt,$t,oe,se,ve,N=(b-M+1)/6|0,k=M+N,z=b-N,B=M+b>>1,O=B-N,U=B+N,G=k,J=O,et=B,at=U,lt=z,K=M+1,j=b-1,rt=!0,xt=0,yt=0,St=0,de=C,jt=d(de),Ct=d(de);Tt=S*G,gt=S*J,ve=x;t:for(Et=0;Et<C;++Et){if((St=E[_=Tt+ve]-E[st=gt+ve])>0){Z=G,G=J,J=Z;break t}if(St<0)break t;ve+=F}Tt=S*at,gt=S*lt,ve=x;t:for(Et=0;Et<C;++Et){if((St=E[_=Tt+ve]-E[st=gt+ve])>0){Z=at,at=lt,lt=Z;break t}if(St<0)break t;ve+=F}Tt=S*G,gt=S*et,ve=x;t:for(Et=0;Et<C;++Et){if((St=E[_=Tt+ve]-E[st=gt+ve])>0){Z=G,G=et,et=Z;break t}if(St<0)break t;ve+=F}Tt=S*J,gt=S*et,ve=x;t:for(Et=0;Et<C;++Et){if((St=E[_=Tt+ve]-E[st=gt+ve])>0){Z=J,J=et,et=Z;break t}if(St<0)break t;ve+=F}Tt=S*G,gt=S*at,ve=x;t:for(Et=0;Et<C;++Et){if((St=E[_=Tt+ve]-E[st=gt+ve])>0){Z=G,G=at,at=Z;break t}if(St<0)break t;ve+=F}Tt=S*et,gt=S*at,ve=x;t:for(Et=0;Et<C;++Et){if((St=E[_=Tt+ve]-E[st=gt+ve])>0){Z=et,et=at,at=Z;break t}if(St<0)break t;ve+=F}Tt=S*J,gt=S*lt,ve=x;t:for(Et=0;Et<C;++Et){if((St=E[_=Tt+ve]-E[st=gt+ve])>0){Z=J,J=lt,lt=Z;break t}if(St<0)break t;ve+=F}Tt=S*J,gt=S*et,ve=x;t:for(Et=0;Et<C;++Et){if((St=E[_=Tt+ve]-E[st=gt+ve])>0){Z=J,J=et,et=Z;break t}if(St<0)break t;ve+=F}Tt=S*at,gt=S*lt,ve=x;t:for(Et=0;Et<C;++Et){if((St=E[_=Tt+ve]-E[st=gt+ve])>0){Z=at,at=lt,lt=Z;break t}if(St<0)break t;ve+=F}for(Tt=S*G,gt=S*J,Mt=S*et,Nt=S*at,Gt=S*lt,Pt=S*k,Vt=S*B,re=S*z,se=0,ve=x,Et=0;Et<C;++Et)_=Tt+ve,dt=Mt+ve,le=Nt+ve,It=Gt+ve,Rt=Pt+ve,$t=Vt+ve,oe=re+ve,jt[se]=E[st=gt+ve],Ct[se]=E[le],rt=rt&&jt[se]===Ct[se],Q=E[dt],Y=E[It],E[Rt]=E[_],E[$t]=Q,E[oe]=Y,++se,ve+=p;for(Tt=S*O,gt=S*M,ve=x,Et=0;Et<C;++Et)E[_=Tt+ve]=E[st=gt+ve],ve+=p;for(Tt=S*U,gt=S*b,ve=x,Et=0;Et<C;++Et)E[_=Tt+ve]=E[st=gt+ve],ve+=p;if(rt)for(nt=K;nt<=j;++nt){for(_=x+nt*S,se=0,Et=0;Et<C&&0==(St=E[_]-jt[se]);++Et)se+=D,_+=F;if(0!==St)if(St<0){if(nt!==K)for(Tt=S*nt,gt=S*K,ve=x,Et=0;Et<C;++Et)H=E[_=Tt+ve],E[_]=E[st=gt+ve],E[st]=H,ve+=p;++K}else for(;;){for(_=x+j*S,se=0,Et=0;Et<C&&0==(St=E[_]-jt[se]);++Et)se+=D,_+=F;if(!(St>0)){if(St<0){for(Tt=S*nt,gt=S*K,Mt=S*j,ve=x,Et=0;Et<C;++Et)dt=Mt+ve,H=E[_=Tt+ve],E[_]=E[st=gt+ve],E[st]=E[dt],E[dt]=H,ve+=p;++K,--j;break}for(Tt=S*nt,gt=S*j,ve=x,Et=0;Et<C;++Et)H=E[_=Tt+ve],E[_]=E[st=gt+ve],E[st]=H,ve+=p;--j;break}j--}}else for(nt=K;nt<=j;++nt){for(_=x+nt*S,se=0,Et=0;Et<C&&0==(xt=E[_]-jt[se]);++Et)se+=D,_+=F;if(xt<0){if(nt!==K)for(Tt=S*nt,gt=S*K,ve=x,Et=0;Et<C;++Et)H=E[_=Tt+ve],E[_]=E[st=gt+ve],E[st]=H,ve+=p;++K}else{for(_=x+nt*S,se=0,Et=0;Et<C&&0==(yt=E[_]-Ct[se]);++Et)se+=D,_+=F;if(yt>0)for(;;){for(_=x+j*S,se=0,Et=0;Et<C&&0==(St=E[_]-Ct[se]);++Et)se+=D,_+=F;if(!(St>0)){for(_=x+j*S,se=0,Et=0;Et<C&&0==(St=E[_]-jt[se]);++Et)se+=D,_+=F;if(St<0){for(Tt=S*nt,gt=S*K,Mt=S*j,ve=x,Et=0;Et<C;++Et)dt=Mt+ve,H=E[_=Tt+ve],E[_]=E[st=gt+ve],E[st]=E[dt],E[dt]=H,ve+=p;++K,--j}else{for(Tt=S*nt,gt=S*j,ve=x,Et=0;Et<C;++Et)H=E[_=Tt+ve],E[_]=E[st=gt+ve],E[st]=H,ve+=p;--j}break}if(--j<nt)break}}}for(Tt=S*M,gt=S*(K-1),se=0,ve=x,Et=0;Et<C;++Et)E[_=Tt+ve]=E[st=gt+ve],E[st]=jt[se],++se,ve+=p;for(Tt=S*b,gt=S*(j+1),se=0,ve=x,Et=0;Et<C;++Et)E[_=Tt+ve]=E[st=gt+ve],E[st]=Ct[se],++se,ve+=p;if(K-2-M<=32?w(M,K-2,E,x,S,T,n,C,p,F,D):v(M,K-2,E,x,S,T,n,C,p,F,D),b-(j+2)<=32?w(j+2,b,E,x,S,T,n,C,p,F,D):v(j+2,b,E,x,S,T,n,C,p,F,D),rt)return o(jt),void o(Ct);if(K<k&&j>z){t:for(;;){for(_=x+K*S,se=0,ve=x,Et=0;Et<C;++Et){if(E[_]!==jt[se])break t;++se,_+=p}++K}t:for(;;){for(_=x+j*S,se=0,ve=x,Et=0;Et<C;++Et){if(E[_]!==Ct[se])break t;++se,_+=p}--j}for(nt=K;nt<=j;++nt){for(_=x+nt*S,se=0,Et=0;Et<C&&0==(xt=E[_]-jt[se]);++Et)se+=D,_+=F;if(0===xt){if(nt!==K)for(Tt=S*nt,gt=S*K,ve=x,Et=0;Et<C;++Et)H=E[_=Tt+ve],E[_]=E[st=gt+ve],E[st]=H,ve+=p;++K}else{for(_=x+nt*S,se=0,Et=0;Et<C&&0==(yt=E[_]-Ct[se]);++Et)se+=D,_+=F;if(0===yt)for(;;){for(_=x+j*S,se=0,Et=0;Et<C&&0==(St=E[_]-Ct[se]);++Et)se+=D,_+=F;if(0!==St){for(_=x+j*S,se=0,Et=0;Et<C&&0==(St=E[_]-jt[se]);++Et)se+=D,_+=F;if(St<0){for(Tt=S*nt,gt=S*K,Mt=S*j,ve=x,Et=0;Et<C;++Et)dt=Mt+ve,H=E[_=Tt+ve],E[_]=E[st=gt+ve],E[st]=E[dt],E[dt]=H,ve+=p;++K,--j}else{for(Tt=S*nt,gt=S*j,ve=x,Et=0;Et<C;++Et)H=E[_=Tt+ve],E[_]=E[st=gt+ve],E[st]=H,ve+=p;--j}break}if(--j<nt)break}}}}o(jt),o(Ct),j-K<=32?w(K,j,E,x,S,T,n,C,p,F,D):v(K,j,E,x,S,T,n,C,p,F,D)}}};var g={"uint32,1,0":function(w,d){return function(o){var v=o.data,M=0|o.offset,b=o.shape,E=o.stride,x=0|E[0],S=0|b[0],T=0|E[1],n=0|b[1],C=T,p=T;S<=32?w(0,S-1,v,M,x,T,S,n,C,p,1):d(0,S-1,v,M,x,T,S,n,C,p,1)}}};l.exports=function c(w,d){var o=[d,w].join(","),v=g[o],M=function h(w,d){var o=s(d),v=[d,w].join(","),M=a[v];return o?M(o[0],o[1]):M()}(w,d);return v(M,function u(w,d,o){var v=s(d),M=[d,w].join(","),b=f[M];return w.length>1&&v?b(o,v[0],v[1]):b(o)}(w,d,M))}},8729:function(l,m,r){"use strict";var e=r(8139),s={};l.exports=function a(h){var f=h.order,u=h.dtype,c=[f,u].join(":"),w=s[c];return w||(s[c]=w=e(f,u)),w(h),h}},5050:function(l,m,r){var e=r(4780),s="undefined"!=typeof Float64Array;function a(d,o){return d[0]-o[0]}function h(){var v,d=this.stride,o=new Array(d.length);for(v=0;v<o.length;++v)o[v]=[Math.abs(d[v]),v];o.sort(a);var M=new Array(o.length);for(v=0;v<M.length;++v)M[v]=o[v][1];return M}var f={T:function(d){function o(M){this.data=M}var v=o.prototype;return v.dtype=d,v.index=function(){return-1},v.size=0,v.dimension=-1,v.shape=v.stride=v.order=[],v.lo=v.hi=v.transpose=v.step=function(){return new o(this.data)},v.get=v.set=function(){},v.pick=function(){return null},function(b){return new o(b)}},0:function(d,o){function v(b,E){this.data=b,this.offset=E}var M=v.prototype;return M.dtype=d,M.index=function(){return this.offset},M.dimension=0,M.size=1,M.shape=M.stride=M.order=[],M.lo=M.hi=M.transpose=M.step=function(){return new v(this.data,this.offset)},M.pick=function(){return o(this.data)},M.valueOf=M.get=function(){return"generic"===d?this.data.get(this.offset):this.data[this.offset]},M.set=function(E){return"generic"===d?this.data.set(this.offset,E):this.data[this.offset]=E},function(E,x,S,T){return new v(E,T)}},1:function(d,o,v){function M(E,x,S,T){this.data=E,this.shape=[x],this.stride=[S],this.offset=0|T}var b=M.prototype;return b.dtype=d,b.dimension=1,Object.defineProperty(b,"size",{get:function(){return this.shape[0]}}),b.order=[0],b.set=function(x,S){return"generic"===d?this.data.set(this.offset+this.stride[0]*x,S):this.data[this.offset+this.stride[0]*x]=S},b.get=function(x){return"generic"===d?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},b.index=function(x){return this.offset+this.stride[0]*x},b.hi=function(x){return new M(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,this.stride[0],this.offset)},b.lo=function(x){var S=this.offset,T=0,n=this.shape[0],C=this.stride[0];return"number"==typeof x&&x>=0&&(S+=C*(T=0|x),n-=T),new M(this.data,n,C,S)},b.step=function(x){var S=this.shape[0],T=this.stride[0],n=this.offset,C=0,p=Math.ceil;return"number"==typeof x&&((C=0|x)<0?(n+=T*(S-1),S=p(-S/C)):S=p(S/C),T*=C),new M(this.data,S,T,n)},b.transpose=function(x){return new M(this.data,this.shape[x=void 0===x?0:0|x],this.stride[x],this.offset)},b.pick=function(x){var S=[],T=[],n=this.offset;return"number"==typeof x&&x>=0?n=n+this.stride[0]*x|0:(S.push(this.shape[0]),T.push(this.stride[0])),(0,o[S.length+1])(this.data,S,T,n)},function(x,S,T,n){return new M(x,S[0],T[0],n)}},2:function(d,o,v){function M(E,x,S,T,n,C){this.data=E,this.shape=[x,S],this.stride=[T,n],this.offset=0|C}var b=M.prototype;return b.dtype=d,b.dimension=2,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(b,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),b.set=function(x,S,T){return"generic"===d?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*S,T):this.data[this.offset+this.stride[0]*x+this.stride[1]*S]=T},b.get=function(x,S){return"generic"===d?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*S):this.data[this.offset+this.stride[0]*x+this.stride[1]*S]},b.index=function(x,S){return this.offset+this.stride[0]*x+this.stride[1]*S},b.hi=function(x,S){return new M(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof S||S<0?this.shape[1]:0|S,this.stride[0],this.stride[1],this.offset)},b.lo=function(x,S){var T=this.offset,n=0,C=this.shape[0],p=this.shape[1],F=this.stride[0],D=this.stride[1];return"number"==typeof x&&x>=0&&(T+=F*(n=0|x),C-=n),"number"==typeof S&&S>=0&&(T+=D*(n=0|S),p-=n),new M(this.data,C,p,F,D,T)},b.step=function(x,S){var T=this.shape[0],n=this.shape[1],C=this.stride[0],p=this.stride[1],F=this.offset,D=0,N=Math.ceil;return"number"==typeof x&&((D=0|x)<0?(F+=C*(T-1),T=N(-T/D)):T=N(T/D),C*=D),"number"==typeof S&&((D=0|S)<0?(F+=p*(n-1),n=N(-n/D)):n=N(n/D),p*=D),new M(this.data,T,n,C,p,F)},b.transpose=function(x,S){var T=this.shape,n=this.stride;return new M(this.data,T[x=void 0===x?0:0|x],T[S=void 0===S?1:0|S],n[x],n[S],this.offset)},b.pick=function(x,S){var T=[],n=[],C=this.offset;return"number"==typeof x&&x>=0?C=C+this.stride[0]*x|0:(T.push(this.shape[0]),n.push(this.stride[0])),"number"==typeof S&&S>=0?C=C+this.stride[1]*S|0:(T.push(this.shape[1]),n.push(this.stride[1])),(0,o[T.length+1])(this.data,T,n,C)},function(x,S,T,n){return new M(x,S[0],S[1],T[0],T[1],n)}},3:function(d,o,v){function M(E,x,S,T,n,C,p,F){this.data=E,this.shape=[x,S,T],this.stride=[n,C,p],this.offset=0|F}var b=M.prototype;return b.dtype=d,b.dimension=3,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(b,"order",{get:function(){var x=Math.abs(this.stride[0]),S=Math.abs(this.stride[1]),T=Math.abs(this.stride[2]);return x>S?S>T?[2,1,0]:x>T?[1,2,0]:[1,0,2]:x>T?[2,0,1]:T>S?[0,1,2]:[0,2,1]}}),b.set=function(x,S,T,n){return"generic"===d?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*T,n):this.data[this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*T]=n},b.get=function(x,S,T){return"generic"===d?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*T):this.data[this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*T]},b.index=function(x,S,T){return this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*T},b.hi=function(x,S,T){return new M(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof S||S<0?this.shape[1]:0|S,"number"!=typeof T||T<0?this.shape[2]:0|T,this.stride[0],this.stride[1],this.stride[2],this.offset)},b.lo=function(x,S,T){var n=this.offset,C=0,p=this.shape[0],F=this.shape[1],D=this.shape[2],N=this.stride[0],k=this.stride[1],z=this.stride[2];return"number"==typeof x&&x>=0&&(n+=N*(C=0|x),p-=C),"number"==typeof S&&S>=0&&(n+=k*(C=0|S),F-=C),"number"==typeof T&&T>=0&&(n+=z*(C=0|T),D-=C),new M(this.data,p,F,D,N,k,z,n)},b.step=function(x,S,T){var n=this.shape[0],C=this.shape[1],p=this.shape[2],F=this.stride[0],D=this.stride[1],N=this.stride[2],k=this.offset,z=0,B=Math.ceil;return"number"==typeof x&&((z=0|x)<0?(k+=F*(n-1),n=B(-n/z)):n=B(n/z),F*=z),"number"==typeof S&&((z=0|S)<0?(k+=D*(C-1),C=B(-C/z)):C=B(C/z),D*=z),"number"==typeof T&&((z=0|T)<0?(k+=N*(p-1),p=B(-p/z)):p=B(p/z),N*=z),new M(this.data,n,C,p,F,D,N,k)},b.transpose=function(x,S,T){var n=this.shape,C=this.stride;return new M(this.data,n[x=void 0===x?0:0|x],n[S=void 0===S?1:0|S],n[T=void 0===T?2:0|T],C[x],C[S],C[T],this.offset)},b.pick=function(x,S,T){var n=[],C=[],p=this.offset;return"number"==typeof x&&x>=0?p=p+this.stride[0]*x|0:(n.push(this.shape[0]),C.push(this.stride[0])),"number"==typeof S&&S>=0?p=p+this.stride[1]*S|0:(n.push(this.shape[1]),C.push(this.stride[1])),"number"==typeof T&&T>=0?p=p+this.stride[2]*T|0:(n.push(this.shape[2]),C.push(this.stride[2])),(0,o[n.length+1])(this.data,n,C,p)},function(x,S,T,n){return new M(x,S[0],S[1],S[2],T[0],T[1],T[2],n)}},4:function(d,o,v){function M(E,x,S,T,n,C,p,F,D,N){this.data=E,this.shape=[x,S,T,n],this.stride=[C,p,F,D],this.offset=0|N}var b=M.prototype;return b.dtype=d,b.dimension=4,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(b,"order",{get:v}),b.set=function(x,S,T,n,C){return"generic"===d?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*T+this.stride[3]*n,C):this.data[this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*T+this.stride[3]*n]=C},b.get=function(x,S,T,n){return"generic"===d?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*T+this.stride[3]*n):this.data[this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*T+this.stride[3]*n]},b.index=function(x,S,T,n){return this.offset+this.stride[0]*x+this.stride[1]*S+this.stride[2]*T+this.stride[3]*n},b.hi=function(x,S,T,n){return new M(this.data,"number"!=typeof x||x<0?this.shape[0]:0|x,"number"!=typeof S||S<0?this.shape[1]:0|S,"number"!=typeof T||T<0?this.shape[2]:0|T,"number"!=typeof n||n<0?this.shape[3]:0|n,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},b.lo=function(x,S,T,n){var C=this.offset,p=0,F=this.shape[0],D=this.shape[1],N=this.shape[2],k=this.shape[3],z=this.stride[0],B=this.stride[1],O=this.stride[2],U=this.stride[3];return"number"==typeof x&&x>=0&&(C+=z*(p=0|x),F-=p),"number"==typeof S&&S>=0&&(C+=B*(p=0|S),D-=p),"number"==typeof T&&T>=0&&(C+=O*(p=0|T),N-=p),"number"==typeof n&&n>=0&&(C+=U*(p=0|n),k-=p),new M(this.data,F,D,N,k,z,B,O,U,C)},b.step=function(x,S,T,n){var C=this.shape[0],p=this.shape[1],F=this.shape[2],D=this.shape[3],N=this.stride[0],k=this.stride[1],z=this.stride[2],B=this.stride[3],O=this.offset,U=0,G=Math.ceil;return"number"==typeof x&&((U=0|x)<0?(O+=N*(C-1),C=G(-C/U)):C=G(C/U),N*=U),"number"==typeof S&&((U=0|S)<0?(O+=k*(p-1),p=G(-p/U)):p=G(p/U),k*=U),"number"==typeof T&&((U=0|T)<0?(O+=z*(F-1),F=G(-F/U)):F=G(F/U),z*=U),"number"==typeof n&&((U=0|n)<0?(O+=B*(D-1),D=G(-D/U)):D=G(D/U),B*=U),new M(this.data,C,p,F,D,N,k,z,B,O)},b.transpose=function(x,S,T,n){var C=this.shape,p=this.stride;return new M(this.data,C[x=void 0===x?0:0|x],C[S=void 0===S?1:0|S],C[T=void 0===T?2:0|T],C[n=void 0===n?3:0|n],p[x],p[S],p[T],p[n],this.offset)},b.pick=function(x,S,T,n){var C=[],p=[],F=this.offset;return"number"==typeof x&&x>=0?F=F+this.stride[0]*x|0:(C.push(this.shape[0]),p.push(this.stride[0])),"number"==typeof S&&S>=0?F=F+this.stride[1]*S|0:(C.push(this.shape[1]),p.push(this.stride[1])),"number"==typeof T&&T>=0?F=F+this.stride[2]*T|0:(C.push(this.shape[2]),p.push(this.stride[2])),"number"==typeof n&&n>=0?F=F+this.stride[3]*n|0:(C.push(this.shape[3]),p.push(this.stride[3])),(0,o[C.length+1])(this.data,C,p,F)},function(x,S,T,n){return new M(x,S[0],S[1],S[2],S[3],T[0],T[1],T[2],T[3],n)}},5:function(o,v,M){function b(x,S,T,n,C,p,F,D,N,k,z,B){this.data=x,this.shape=[S,T,n,C,p],this.stride=[F,D,N,k,z],this.offset=0|B}var E=b.prototype;return E.dtype=o,E.dimension=5,Object.defineProperty(E,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(E,"order",{get:M}),E.set=function(S,T,n,C,p,F){return"generic"===o?this.data.set(this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*n+this.stride[3]*C+this.stride[4]*p,F):this.data[this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*n+this.stride[3]*C+this.stride[4]*p]=F},E.get=function(S,T,n,C,p){return"generic"===o?this.data.get(this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*n+this.stride[3]*C+this.stride[4]*p):this.data[this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*n+this.stride[3]*C+this.stride[4]*p]},E.index=function(S,T,n,C,p){return this.offset+this.stride[0]*S+this.stride[1]*T+this.stride[2]*n+this.stride[3]*C+this.stride[4]*p},E.hi=function(S,T,n,C,p){return new b(this.data,"number"!=typeof S||S<0?this.shape[0]:0|S,"number"!=typeof T||T<0?this.shape[1]:0|T,"number"!=typeof n||n<0?this.shape[2]:0|n,"number"!=typeof C||C<0?this.shape[3]:0|C,"number"!=typeof p||p<0?this.shape[4]:0|p,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},E.lo=function(S,T,n,C,p){var F=this.offset,D=0,N=this.shape[0],k=this.shape[1],z=this.shape[2],B=this.shape[3],O=this.shape[4],U=this.stride[0],G=this.stride[1],J=this.stride[2],et=this.stride[3],at=this.stride[4];return"number"==typeof S&&S>=0&&(F+=U*(D=0|S),N-=D),"number"==typeof T&&T>=0&&(F+=G*(D=0|T),k-=D),"number"==typeof n&&n>=0&&(F+=J*(D=0|n),z-=D),"number"==typeof C&&C>=0&&(F+=et*(D=0|C),B-=D),"number"==typeof p&&p>=0&&(F+=at*(D=0|p),O-=D),new b(this.data,N,k,z,B,O,U,G,J,et,at,F)},E.step=function(S,T,n,C,p){var F=this.shape[0],D=this.shape[1],N=this.shape[2],k=this.shape[3],z=this.shape[4],B=this.stride[0],O=this.stride[1],U=this.stride[2],G=this.stride[3],J=this.stride[4],et=this.offset,at=0,lt=Math.ceil;return"number"==typeof S&&((at=0|S)<0?(et+=B*(F-1),F=lt(-F/at)):F=lt(F/at),B*=at),"number"==typeof T&&((at=0|T)<0?(et+=O*(D-1),D=lt(-D/at)):D=lt(D/at),O*=at),"number"==typeof n&&((at=0|n)<0?(et+=U*(N-1),N=lt(-N/at)):N=lt(N/at),U*=at),"number"==typeof C&&((at=0|C)<0?(et+=G*(k-1),k=lt(-k/at)):k=lt(k/at),G*=at),"number"==typeof p&&((at=0|p)<0?(et+=J*(z-1),z=lt(-z/at)):z=lt(z/at),J*=at),new b(this.data,F,D,N,k,z,B,O,U,G,J,et)},E.transpose=function(S,T,n,C,p){var F=this.shape,D=this.stride;return new b(this.data,F[S=void 0===S?0:0|S],F[T=void 0===T?1:0|T],F[n=void 0===n?2:0|n],F[C=void 0===C?3:0|C],F[p=void 0===p?4:0|p],D[S],D[T],D[n],D[C],D[p],this.offset)},E.pick=function(S,T,n,C,p){var F=[],D=[],N=this.offset;return"number"==typeof S&&S>=0?N=N+this.stride[0]*S|0:(F.push(this.shape[0]),D.push(this.stride[0])),"number"==typeof T&&T>=0?N=N+this.stride[1]*T|0:(F.push(this.shape[1]),D.push(this.stride[1])),"number"==typeof n&&n>=0?N=N+this.stride[2]*n|0:(F.push(this.shape[2]),D.push(this.stride[2])),"number"==typeof C&&C>=0?N=N+this.stride[3]*C|0:(F.push(this.shape[3]),D.push(this.stride[3])),"number"==typeof p&&p>=0?N=N+this.stride[4]*p|0:(F.push(this.shape[4]),D.push(this.stride[4])),(0,v[F.length+1])(this.data,F,D,N)},function(S,T,n,C){return new b(S,T[0],T[1],T[2],T[3],T[4],n[0],n[1],n[2],n[3],n[4],C)}}};function u(d,o){var v=-1===o?"T":String(o),M=f[v];return-1===o?M(d):0===o?M(d,c[d][0]):M(d,c[d],h)}var c={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};l.exports=function w(d,o,v,M){if(void 0===d)return(0,c.array[0])([]);"number"==typeof d&&(d=[d]),void 0===o&&(o=[d.length]);var b=o.length;if(void 0===v){v=new Array(b);for(var E=b-1,x=1;E>=0;--E)v[E]=x,x*=o[E]}if(void 0===M)for(M=0,E=0;E<b;++E)v[E]<0&&(M-=(o[E]-1)*v[E]);for(var S=function g(d){if(e(d))return"buffer";if(s)switch(Object.prototype.toString.call(d)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(d)?"array":"generic"}(d),T=c[S];T.length<=b+1;)T.push(u(S,T.length-1));return(0,T[b+1])(d,o,v,M)}},8551:function(l,m,r){"use strict";var e=r(8362),s=Math.pow(2,-1074),a=-1>>>0;l.exports=function h(f,u){if(isNaN(f)||isNaN(u))return NaN;if(f===u)return f;if(0===f)return u<0?-s:s;var g=e.hi(f),c=e.lo(f);return u>f==f>0?c===a?(g+=1,c=0):c+=1:0===c?(c=a,g-=1):c-=1,e.pack(c,g)}},115:function(l,m){m.vertexNormals=function(s,a,h){for(var f=a.length,u=new Array(f),g=void 0===h?1e-6:h,c=0;c<f;++c)u[c]=[0,0,0];for(c=0;c<s.length;++c)for(var w=s[c],o=w[w.length-1],v=w[0],M=0;M<w.length;++M){for(var b=a[o],E=a[o=v],x=a[v=w[(M+1)%w.length]],S=new Array(3),T=0,n=new Array(3),C=0,p=0;p<3;++p)S[p]=b[p]-E[p],T+=S[p]*S[p],n[p]=x[p]-E[p],C+=n[p]*n[p];if(T*C>g){var F=u[o],D=1/Math.sqrt(T*C);for(p=0;p<3;++p){var N=(p+1)%3,k=(p+2)%3;F[p]+=D*(n[N]*S[k]-n[k]*S[N])}}}for(c=0;c<f;++c){F=u[c];var z=0;for(p=0;p<3;++p)z+=F[p]*F[p];if(z>g)for(D=1/Math.sqrt(z),p=0;p<3;++p)F[p]*=D;else for(p=0;p<3;++p)F[p]=0}return u},m.faceNormals=function(s,a,h){for(var f=s.length,u=new Array(f),g=void 0===h?1e-6:h,c=0;c<f;++c){for(var w=s[c],d=new Array(3),o=0;o<3;++o)d[o]=a[w[o]];var v=new Array(3),M=new Array(3);for(o=0;o<3;++o)v[o]=d[1][o]-d[0][o],M[o]=d[2][o]-d[0][o];var b=new Array(3),E=0;for(o=0;o<3;++o){var x=(o+1)%3,S=(o+2)%3;b[o]=v[x]*M[S]-v[S]*M[x],E+=b[o]*b[o]}for(E=E>g?1/Math.sqrt(E):0,o=0;o<3;++o)b[o]*=E;u[c]=b}return u}},567:function(l){"use strict";l.exports=function m(r,e,s,a,h,f,u,g,c,w){var d=e+f+w;if(o>0){var o=Math.sqrt(d+1);r[0]=.5*(u-c)/o,r[1]=.5*(g-a)/o,r[2]=.5*(s-f)/o,r[3]=.5*o}else{var v=Math.max(e,f,w);o=Math.sqrt(2*v-d+1),e>=v?(r[0]=.5*o,r[1]=.5*(h+s)/o,r[2]=.5*(g+a)/o,r[3]=.5*(u-c)/o):f>=v?(r[0]=.5*(s+h)/o,r[1]=.5*o,r[2]=.5*(c+u)/o,r[3]=.5*(g-a)/o):(r[0]=.5*(a+g)/o,r[1]=.5*(u+c)/o,r[2]=.5*o,r[3]=.5*(s-h)/o)}return r}},7774:function(l,m,r){"use strict";l.exports=function o(v){var M=(v=v||{}).center||[0,0,0],b=v.rotation||[0,0,0,1],E=v.radius||1;M=[].slice.call(M,0,3),c(b=[].slice.call(b,0,4),b);var x=new w(b,M,Math.log(E));return x.setDistanceLimits(v.zoomMin,v.zoomMax),("eye"in v||"up"in v)&&x.lookAt(0,v.eye,v.center,v.up),x};var e=r(8444),s=r(3012),a=r(5950),h=r(7437),f=r(567);function u(v,M,b){return Math.sqrt(Math.pow(v,2)+Math.pow(M,2)+Math.pow(b,2))}function g(v,M,b,E){return Math.sqrt(Math.pow(v,2)+Math.pow(M,2)+Math.pow(b,2)+Math.pow(E,2))}function c(v,M){var b=M[0],E=M[1],x=M[2],S=M[3],T=g(b,E,x,S);T>1e-6?(v[0]=b/T,v[1]=E/T,v[2]=x/T,v[3]=S/T):(v[0]=v[1]=v[2]=0,v[3]=1)}function w(v,M,b){this.radius=e([b]),this.center=e(M),this.rotation=e(v),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var d=w.prototype;d.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},d.recalcMatrix=function(v){this.radius.curve(v),this.center.curve(v),this.rotation.curve(v);var M=this.computedRotation;c(M,M);var b=this.computedMatrix;a(b,M);var E=this.computedCenter,x=this.computedEye,S=this.computedUp,T=Math.exp(this.computedRadius[0]);x[0]=E[0]+T*b[2],x[1]=E[1]+T*b[6],x[2]=E[2]+T*b[10],S[0]=b[1],S[1]=b[5],S[2]=b[9];for(var n=0;n<3;++n){for(var C=0,p=0;p<3;++p)C+=b[n+4*p]*x[p];b[12+n]=-C}},d.getMatrix=function(v,M){this.recalcMatrix(v);var b=this.computedMatrix;if(M){for(var E=0;E<16;++E)M[E]=b[E];return M}return b},d.idle=function(v){this.center.idle(v),this.radius.idle(v),this.rotation.idle(v)},d.flush=function(v){this.center.flush(v),this.radius.flush(v),this.rotation.flush(v)},d.pan=function(v,M,b,E){M=M||0,b=b||0,E=E||0,this.recalcMatrix(v);var x=this.computedMatrix,S=x[1],T=x[5],n=x[9],C=u(S,T,n),p=x[0],F=x[4],D=x[8],N=p*(S/=C)+F*(T/=C)+D*(n/=C),k=u(p-=S*N,F-=T*N,D-=n*N),z=x[2],B=x[6],O=x[10],U=z*S+B*T+O*n,G=z*(p/=k)+B*(F/=k)+O*(D/=k),J=u(z-=U*S+G*p,B-=U*T+G*F,O-=U*n+G*D);z/=J,B/=J,O/=J,this.center.move(v,p*M+S*b,F*M+T*b,D*M+n*b);var K=Math.exp(this.computedRadius[0]);K=Math.max(1e-4,K+E),this.radius.set(v,Math.log(K))},d.rotate=function(v,M,b,E){this.recalcMatrix(v);var x=this.computedMatrix,D=x[2],N=x[6],k=x[10],z=(M=M||0)*x[0]+(b=b||0)*x[1],B=M*x[4]+b*x[5],O=M*x[8]+b*x[9],U=-(N*O-k*B),G=-(k*z-D*O),J=-(D*B-N*z),et=Math.sqrt(Math.max(0,1-Math.pow(U,2)-Math.pow(G,2)-Math.pow(J,2))),at=g(U,G,J,et);at>1e-6?(U/=at,G/=at,J/=at,et/=at):(U=G=J=0,et=1);var lt=this.computedRotation,K=lt[0],j=lt[1],rt=lt[2],H=lt[3],Z=K*et+H*U+j*J-rt*G,it=j*et+H*G+rt*U-K*J,Q=rt*et+H*J+K*G-j*U,Y=H*et-K*U-j*G-rt*J;if(E){U=D,G=N,J=k;var nt=Math.sin(E)/u(U,G,J);U*=nt,G*=nt,J*=nt,Y=Y*(et=Math.cos(M))-(Z=Z*et+Y*U+it*J-Q*G)*U-(it=it*et+Y*G+Q*U-Z*J)*G-(Q=Q*et+Y*J+Z*G-it*U)*J}var _=g(Z,it,Q,Y);_>1e-6?(Z/=_,it/=_,Q/=_,Y/=_):(Z=it=Q=0,Y=1),this.rotation.set(v,Z,it,Q,Y)},d.lookAt=function(v,M,b,E){this.recalcMatrix(v);var x=this.computedMatrix;s(x,M=M||this.computedEye,b=b||this.computedCenter,E=E||this.computedUp);var S=this.computedRotation;f(S,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),c(S,S),this.rotation.set(v,S[0],S[1],S[2],S[3]);for(var T=0,n=0;n<3;++n)T+=Math.pow(b[n]-M[n],2);this.radius.set(v,.5*Math.log(Math.max(T,1e-6))),this.center.set(v,b[0],b[1],b[2])},d.translate=function(v,M,b,E){this.center.move(v,M||0,b||0,E||0)},d.setMatrix=function(v,M){var b=this.computedRotation;f(b,M[0],M[1],M[2],M[4],M[5],M[6],M[8],M[9],M[10]),c(b,b),this.rotation.set(v,b[0],b[1],b[2],b[3]);var E=this.computedMatrix;h(E,M);var x=E[15];if(Math.abs(x)>1e-6){var S=E[12]/x,T=E[13]/x,n=E[14]/x;this.recalcMatrix(v);var C=Math.exp(this.computedRadius[0]);this.center.set(v,S-E[2]*C,T-E[6]*C,n-E[10]*C),this.radius.idle(v)}else this.center.idle(v),this.radius.idle(v)},d.setDistance=function(v,M){M>0&&this.radius.set(v,Math.log(M))},d.setDistanceLimits=function(v,M){v=v>0?Math.log(v):-1/0,M=M>0?Math.log(M):1/0,M=Math.max(M,v),this.radius.bounds[0][0]=v,this.radius.bounds[1][0]=M},d.getDistanceLimits=function(v){var M=this.radius.bounds;return v?(v[0]=Math.exp(M[0][0]),v[1]=Math.exp(M[1][0]),v):[Math.exp(M[0][0]),Math.exp(M[1][0])]},d.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},d.fromJSON=function(v){var M=this.lastT(),b=v.center;b&&this.center.set(M,b[0],b[1],b[2]);var E=v.rotation;E&&this.rotation.set(M,E[0],E[1],E[2],E[3]);var x=v.distance;x&&x>0&&this.radius.set(M,Math.log(x)),this.setDistanceLimits(v.zoomMin,v.zoomMax)}},4930:function(l,m,r){"use strict";var e=r(6184);l.exports=function(a,h,f){return e(f=void 0!==f?f+"":" ",h)+a}},4405:function(l){l.exports=function(r,e){e||(e=[0,""]),r=String(r);var s=parseFloat(r,10);return e[0]=s,e[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},4166:function(l,m,r){"use strict";l.exports=function s(a,h){for(var f=0|h.length,u=a.length,g=[new Array(f),new Array(f)],c=0;c<f;++c)g[0][c]=[],g[1][c]=[];for(c=0;c<u;++c){var w=a[c];g[0][w[0]].push(w),g[1][w[1]].push(w)}var d=[];for(c=0;c<f;++c)g[0][c].length+g[1][c].length===0&&d.push([c]);function o(n,C){var p=g[C][n[C]];p.splice(p.indexOf(n),1)}function v(n,C,p){for(var F,D,N,k=0;k<2;++k)if(g[k][C].length>0){F=g[k][C][0],N=k;break}D=F[1^N];for(var z=0;z<2;++z)for(var B=g[z][C],O=0;O<B.length;++O){var U=B[O],G=U[1^z];e(h[n],h[C],h[D],h[G])>0&&(F=U,D=G,N=z)}return p||F&&o(F,N),D}function M(n,C){var p=g[C][n][0],F=[n];o(p,C);for(var D=p[1^C];;){for(;D!==n;)F.push(D),D=v(F[F.length-2],D,!1);if(g[0][n].length+g[1][n].length===0)break;var k=F[F.length-1],z=n,B=F[1],O=v(k,z,!0);if(e(h[k],h[z],h[B],h[O])<0)break;F.push(n),D=v(k,z)}return F}for(c=0;c<f;++c)for(var E=0;E<2;++E){for(var x=[];g[E][c].length>0;){var T=M(c,E);(C=T)[1]===C[C.length-1]?x.push.apply(x,T):(x.length>0&&d.push(x),x=T)}x.length>0&&d.push(x)}var C;return d};var e=r(9398)},3959:function(l,m,r){"use strict";l.exports=function s(a,h){for(var f=e(a,h.length),u=new Array(h.length),g=new Array(h.length),c=[],w=0;w<h.length;++w){var d=f[w].length;g[w]=d,u[w]=!0,d<=1&&c.push(w)}for(;c.length>0;){u[o=c.pop()]=!1;var v=f[o];for(w=0;w<v.length;++w){var M=v[w];0==--g[M]&&c.push(M)}}var b=new Array(h.length),E=[];for(w=0;w<h.length;++w)if(u[w]){var o;b[w]=o=E.length,E.push(h[w])}else b[w]=-1;var x=[];for(w=0;w<a.length;++w){var S=a[w];u[S[0]]&&u[S[1]]&&x.push([b[S[0]],b[S[1]]])}return[x,E]};var e=r(8348)},8040:function(l,m,r){"use strict";l.exports=function d(o,v){o=(nt=g(o,v))[0];for(var M=(v=nt[1]).length,E=e(o,v.length),x=0;x<M;++x)if(E[x].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var S=s(o,v);var n=(S=S.filter(function T(Et){for(var Tt=Et.length,gt=[0],Mt=0;Mt<Tt;++Mt){var Nt=v[Et[Mt]],Gt=v[Et[(Mt+1)%Tt]],Pt=h(-Nt[0],Nt[1]),Vt=h(-Nt[0],Gt[1]),re=h(Gt[0],Nt[1]),le=h(Gt[0],Gt[1]);gt=f(gt,f(f(Pt,Vt),f(re,le)))}return gt[gt.length-1]>0})).length,C=new Array(n),p=new Array(n);for(x=0;x<n;++x){C[x]=x;var F=new Array(n),D=S[x].map(function(Tt){return v[Tt]}),N=a([D]),k=0;t:for(var z=0;z<n;++z)if(F[z]=0,x!==z){for(var O=(B=S[z]).length,U=0;U<O;++U){var G=N(v[B[U]]);if(0!==G){G<0&&(F[z]=1,k+=1);continue t}}F[z]=1,k+=1}p[x]=[k,x,F]}for(p.sort(function(Et,Tt){return Tt[0]-Et[0]}),x=0;x<n;++x){var J=(F=p[x])[1],et=F[2];for(z=0;z<n;++z)et[z]&&(C[z]=J)}var at=function w(o){for(var v=new Array(o),M=0;M<o;++M)v[M]=[];return v}(n);for(x=0;x<n;++x)at[x].push(C[x]),at[C[x]].push(x);var lt={},K=c(M,!1);for(x=0;x<n;++x)for(O=(B=S[x]).length,z=0;z<O;++z){var j=B[z],rt=B[(z+1)%O],H=Math.min(j,rt)+":"+Math.max(j,rt);if(H in lt){var Z=lt[H];at[Z].push(x),at[x].push(Z),K[j]=K[rt]=!0}else lt[H]=x}function it(Et){for(var Tt=Et.length,gt=0;gt<Tt;++gt)if(!K[Et[gt]])return!1;return!0}var Q=[],Y=c(n,-1);for(x=0;x<n;++x)C[x]!==x||it(S[x])?Y[x]=-1:(Q.push(x),Y[x]=0);for(var nt=[];Q.length>0;){var _=Q.pop(),st=at[_];u(st,function(Et,Tt){return Et-Tt});var yt,dt=st.length,xt=Y[_];for(0===xt&&(yt=[B=S[_]]),x=0;x<dt;++x){var B,St=st[x];Y[St]>=0||(Y[St]=1^xt,Q.push(St),0!==xt)||it(B=S[St])||(B.reverse(),yt.push(B))}0===xt&&nt.push(yt)}return nt};var e=r(8348),s=r(4166),a=r(211),h=r(9660),f=r(9662),u=r(1215),g=r(3959);function c(o,v){for(var M=new Array(o),b=0;b<o;++b)M[b]=v;return M}},211:function(l,m,r){l.exports=function v(M){for(var b=M.length,E=[],x=[],T=0;T<b;++T)for(var n=M[T],C=n.length,p=C-1,F=0;F<C;p=F++){var D=n[p],N=n[F];D[0]===N[0]?x.push([D,N]):E.push([D,N])}if(0===E.length)return 0===x.length?w:function d(M){return function(E){return M(E[0],E[1])?0:1}}(g(x));var k=s(E),z=function c(M,b){return function(E){var x=h.le(b,E[0]);if(x<0)return 1;var S=M[x];if(!S){if(!(x>0&&b[x]===E[0]))return 1;S=M[x-1]}for(var T=1;S;){var n=S.key,C=e(E,n[0],n[1]);if(n[0][0]<n[1][0])if(C<0)S=S.left;else{if(!(C>0))return 0;T=-1,S=S.right}else if(C>0)S=S.left;else{if(!(C<0))return 0;T=1,S=S.right}}return T}}(k.slabs,k.coordinates);return 0===x.length?z:function o(M,b){return function(x){return M(x[0],x[1])?0:b(x)}}(g(x),z)};var e=r(417)[3],s=r(4385),a=r(9014),h=r(5070);function f(){return!0}function g(M){for(var b={},E=0;E<M.length;++E){var x=M[E],S=x[0][0],T=x[0][1],n=x[1][1],C=[Math.min(T,n),Math.max(T,n)];S in b?b[S].push(C):b[S]=[C]}var p={},F=Object.keys(b);for(E=0;E<F.length;++E)p[F[E]]=a(b[F[E]]);return function u(M){return function(b,E){var x=M[b];return!!x&&!!x.queryPoint(E,f)}}(p)}function w(M){return 1}},7309:function(l){"use strict";var m=new Float64Array(4),r=new Float64Array(4),e=new Float64Array(4);l.exports=function s(a,h,f,u,g){m.length<u.length&&(m=new Float64Array(u.length),r=new Float64Array(u.length),e=new Float64Array(u.length));for(var c=0;c<u.length;++c)m[c]=a[c]-u[c],r[c]=h[c]-a[c],e[c]=f[c]-a[c];var w=0,d=0,o=0,v=0,M=0,b=0;for(c=0;c<u.length;++c){var E=r[c],x=e[c],S=m[c];w+=E*E,d+=E*x,o+=x*x,v+=S*E,M+=S*x,b+=S*S}var p,D,N,k,z,T=Math.abs(w*o-d*d),n=d*M-o*v,C=d*v-w*M;if(n+C<=T)if(n<0)C<0&&v<0?(C=0,-v>=w?(n=1,p=w+2*v+b):p=v*(n=-v/w)+b):(n=0,M>=0?(C=0,p=b):-M>=o?(C=1,p=o+2*M+b):p=M*(C=-M/o)+b);else if(C<0)C=0,v>=0?(n=0,p=b):-v>=w?(n=1,p=w+2*v+b):p=v*(n=-v/w)+b;else{var F=1/T;p=(n*=F)*(w*n+d*(C*=F)+2*v)+C*(d*n+o*C+2*M)+b}else n<0?(N=o+M)>(D=d+v)?(k=N-D)>=(z=w-2*d+o)?(n=1,C=0,p=w+2*v+b):p=(n=k/z)*(w*n+d*(C=1-n)+2*v)+C*(d*n+o*C+2*M)+b:(n=0,N<=0?(C=1,p=o+2*M+b):M>=0?(C=0,p=b):p=M*(C=-M/o)+b):C<0?(N=w+v)>(D=d+M)?(k=N-D)>=(z=w-2*d+o)?(C=1,n=0,p=o+2*M+b):p=(n=1-(C=k/z))*(w*n+d*C+2*v)+C*(d*n+o*C+2*M)+b:(C=0,N<=0?(n=1,p=w+2*v+b):v>=0?(n=0,p=b):p=v*(n=-v/w)+b):(k=o+M-d-v)<=0?(n=0,C=1,p=o+2*M+b):k>=(z=w-2*d+o)?(n=1,C=0,p=w+2*v+b):p=(n=k/z)*(w*n+d*(C=1-n)+2*v)+C*(d*n+o*C+2*M)+b;var B=1-n-C;for(c=0;c<u.length;++c)g[c]=B*a[c]+n*h[c]+C*f[c];return p<0?0:p}},1116:function(l,m,r){l.exports=r(6093)},7584:function(l,m,r){"use strict";var e=r(1539);l.exports=function s(a,h){for(var f=a.length,u=new Array(f),g=0;g<f;++g)u[g]=e(a[g],h[g]);return u}},2826:function(l,m,r){"use strict";l.exports=function s(a){for(var h=new Array(a.length),f=0;f<a.length;++f)h[f]=e(a[f]);return h};var e=r(5125)},4469:function(l,m,r){"use strict";var e=r(5125),s=r(3962);l.exports=function a(h,f){for(var u=e(f),g=h.length,c=new Array(g),w=0;w<g;++w)c[w]=s(h[w],u);return c}},6695:function(l,m,r){"use strict";var e=r(4354);l.exports=function s(a,h){for(var f=a.length,u=new Array(f),g=0;g<f;++g)u[g]=e(a[g],h[g]);return u}},7037:function(l,m,r){"use strict";var e=r(9209),s=r(1284),a=r(9887);l.exports=function h(f){f.sort(s);for(var u=f.length,g=0,c=0;c<u;++c){var w=f[c],d=a(w);if(0!==d){if(g>0){var o=f[g-1];if(0===e(w,o)&&a(o)!==d){g-=1;continue}}f[g++]=w}}return f.length=g,f}},6184:function(l){"use strict";var r,m="";l.exports=function e(s,a){if("string"!=typeof s)throw new TypeError("expected a string");if(1===a)return s;if(2===a)return s+s;var h=s.length*a;if(r!==s||void 0===r)r=s,m="";else if(m.length>=h)return m.substr(0,h);for(;h>m.length&&a>1;)1&a&&(m+=s),a>>=1,s+=s;return m=(m+=s).substr(0,h)}},8161:function(l,m,r){l.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(l){"use strict";l.exports=function m(r){for(var e=r.length,s=r[r.length-1],a=e,h=e-2;h>=0;--h)(c=(u=r[h])-((s=(f=s)+u)-f))&&(r[--a]=s,s=c);var w=0;for(h=a;h<e;++h){var f,u,c;(c=(u=s)-((s=(f=r[h])+u)-f))&&(r[w++]=c)}return r[w++]=s,r.length=w,r}},8167:function(l,m,r){"use strict";var e=r(9660),s=r(9662),a=r(8289),h=r(402);function u(b,E,x,S){return function(n){return S(b(x(n[0][0],n[1][1]),x(-n[0][1],n[1][0])))}}function g(b,E,x,S){return function(n){return S(b(E(b(x(n[1][1],n[2][2]),x(-n[1][2],n[2][1])),n[0][0]),b(E(b(x(n[1][0],n[2][2]),x(-n[1][2],n[2][0])),-n[0][1]),E(b(x(n[1][0],n[2][1]),x(-n[1][1],n[2][0])),n[0][2]))))}}function c(b,E,x,S){return function(n){return S(b(b(E(b(E(b(x(n[2][2],n[3][3]),x(-n[2][3],n[3][2])),n[1][1]),b(E(b(x(n[2][1],n[3][3]),x(-n[2][3],n[3][1])),-n[1][2]),E(b(x(n[2][1],n[3][2]),x(-n[2][2],n[3][1])),n[1][3]))),n[0][0]),E(b(E(b(x(n[2][2],n[3][3]),x(-n[2][3],n[3][2])),n[1][0]),b(E(b(x(n[2][0],n[3][3]),x(-n[2][3],n[3][0])),-n[1][2]),E(b(x(n[2][0],n[3][2]),x(-n[2][2],n[3][0])),n[1][3]))),-n[0][1])),b(E(b(E(b(x(n[2][1],n[3][3]),x(-n[2][3],n[3][1])),n[1][0]),b(E(b(x(n[2][0],n[3][3]),x(-n[2][3],n[3][0])),-n[1][1]),E(b(x(n[2][0],n[3][1]),x(-n[2][1],n[3][0])),n[1][3]))),n[0][2]),E(b(E(b(x(n[2][1],n[3][2]),x(-n[2][2],n[3][1])),n[1][0]),b(E(b(x(n[2][0],n[3][2]),x(-n[2][2],n[3][0])),-n[1][1]),E(b(x(n[2][0],n[3][1]),x(-n[2][1],n[3][0])),n[1][2]))),-n[0][3]))))}}function w(b,E,x,S){return function(n){return S(b(b(E(b(b(E(b(E(b(x(n[3][3],n[4][4]),x(-n[3][4],n[4][3])),n[2][2]),b(E(b(x(n[3][2],n[4][4]),x(-n[3][4],n[4][2])),-n[2][3]),E(b(x(n[3][2],n[4][3]),x(-n[3][3],n[4][2])),n[2][4]))),n[1][1]),E(b(E(b(x(n[3][3],n[4][4]),x(-n[3][4],n[4][3])),n[2][1]),b(E(b(x(n[3][1],n[4][4]),x(-n[3][4],n[4][1])),-n[2][3]),E(b(x(n[3][1],n[4][3]),x(-n[3][3],n[4][1])),n[2][4]))),-n[1][2])),b(E(b(E(b(x(n[3][2],n[4][4]),x(-n[3][4],n[4][2])),n[2][1]),b(E(b(x(n[3][1],n[4][4]),x(-n[3][4],n[4][1])),-n[2][2]),E(b(x(n[3][1],n[4][2]),x(-n[3][2],n[4][1])),n[2][4]))),n[1][3]),E(b(E(b(x(n[3][2],n[4][3]),x(-n[3][3],n[4][2])),n[2][1]),b(E(b(x(n[3][1],n[4][3]),x(-n[3][3],n[4][1])),-n[2][2]),E(b(x(n[3][1],n[4][2]),x(-n[3][2],n[4][1])),n[2][3]))),-n[1][4]))),n[0][0]),E(b(b(E(b(E(b(x(n[3][3],n[4][4]),x(-n[3][4],n[4][3])),n[2][2]),b(E(b(x(n[3][2],n[4][4]),x(-n[3][4],n[4][2])),-n[2][3]),E(b(x(n[3][2],n[4][3]),x(-n[3][3],n[4][2])),n[2][4]))),n[1][0]),E(b(E(b(x(n[3][3],n[4][4]),x(-n[3][4],n[4][3])),n[2][0]),b(E(b(x(n[3][0],n[4][4]),x(-n[3][4],n[4][0])),-n[2][3]),E(b(x(n[3][0],n[4][3]),x(-n[3][3],n[4][0])),n[2][4]))),-n[1][2])),b(E(b(E(b(x(n[3][2],n[4][4]),x(-n[3][4],n[4][2])),n[2][0]),b(E(b(x(n[3][0],n[4][4]),x(-n[3][4],n[4][0])),-n[2][2]),E(b(x(n[3][0],n[4][2]),x(-n[3][2],n[4][0])),n[2][4]))),n[1][3]),E(b(E(b(x(n[3][2],n[4][3]),x(-n[3][3],n[4][2])),n[2][0]),b(E(b(x(n[3][0],n[4][3]),x(-n[3][3],n[4][0])),-n[2][2]),E(b(x(n[3][0],n[4][2]),x(-n[3][2],n[4][0])),n[2][3]))),-n[1][4]))),-n[0][1])),b(E(b(b(E(b(E(b(x(n[3][3],n[4][4]),x(-n[3][4],n[4][3])),n[2][1]),b(E(b(x(n[3][1],n[4][4]),x(-n[3][4],n[4][1])),-n[2][3]),E(b(x(n[3][1],n[4][3]),x(-n[3][3],n[4][1])),n[2][4]))),n[1][0]),E(b(E(b(x(n[3][3],n[4][4]),x(-n[3][4],n[4][3])),n[2][0]),b(E(b(x(n[3][0],n[4][4]),x(-n[3][4],n[4][0])),-n[2][3]),E(b(x(n[3][0],n[4][3]),x(-n[3][3],n[4][0])),n[2][4]))),-n[1][1])),b(E(b(E(b(x(n[3][1],n[4][4]),x(-n[3][4],n[4][1])),n[2][0]),b(E(b(x(n[3][0],n[4][4]),x(-n[3][4],n[4][0])),-n[2][1]),E(b(x(n[3][0],n[4][1]),x(-n[3][1],n[4][0])),n[2][4]))),n[1][3]),E(b(E(b(x(n[3][1],n[4][3]),x(-n[3][3],n[4][1])),n[2][0]),b(E(b(x(n[3][0],n[4][3]),x(-n[3][3],n[4][0])),-n[2][1]),E(b(x(n[3][0],n[4][1]),x(-n[3][1],n[4][0])),n[2][3]))),-n[1][4]))),n[0][2]),b(E(b(b(E(b(E(b(x(n[3][2],n[4][4]),x(-n[3][4],n[4][2])),n[2][1]),b(E(b(x(n[3][1],n[4][4]),x(-n[3][4],n[4][1])),-n[2][2]),E(b(x(n[3][1],n[4][2]),x(-n[3][2],n[4][1])),n[2][4]))),n[1][0]),E(b(E(b(x(n[3][2],n[4][4]),x(-n[3][4],n[4][2])),n[2][0]),b(E(b(x(n[3][0],n[4][4]),x(-n[3][4],n[4][0])),-n[2][2]),E(b(x(n[3][0],n[4][2]),x(-n[3][2],n[4][0])),n[2][4]))),-n[1][1])),b(E(b(E(b(x(n[3][1],n[4][4]),x(-n[3][4],n[4][1])),n[2][0]),b(E(b(x(n[3][0],n[4][4]),x(-n[3][4],n[4][0])),-n[2][1]),E(b(x(n[3][0],n[4][1]),x(-n[3][1],n[4][0])),n[2][4]))),n[1][2]),E(b(E(b(x(n[3][1],n[4][2]),x(-n[3][2],n[4][1])),n[2][0]),b(E(b(x(n[3][0],n[4][2]),x(-n[3][2],n[4][0])),-n[2][1]),E(b(x(n[3][0],n[4][1]),x(-n[3][1],n[4][0])),n[2][2]))),-n[1][4]))),-n[0][3]),E(b(b(E(b(E(b(x(n[3][2],n[4][3]),x(-n[3][3],n[4][2])),n[2][1]),b(E(b(x(n[3][1],n[4][3]),x(-n[3][3],n[4][1])),-n[2][2]),E(b(x(n[3][1],n[4][2]),x(-n[3][2],n[4][1])),n[2][3]))),n[1][0]),E(b(E(b(x(n[3][2],n[4][3]),x(-n[3][3],n[4][2])),n[2][0]),b(E(b(x(n[3][0],n[4][3]),x(-n[3][3],n[4][0])),-n[2][2]),E(b(x(n[3][0],n[4][2]),x(-n[3][2],n[4][0])),n[2][3]))),-n[1][1])),b(E(b(E(b(x(n[3][1],n[4][3]),x(-n[3][3],n[4][1])),n[2][0]),b(E(b(x(n[3][0],n[4][3]),x(-n[3][3],n[4][0])),-n[2][1]),E(b(x(n[3][0],n[4][1]),x(-n[3][1],n[4][0])),n[2][3]))),n[1][2]),E(b(E(b(x(n[3][1],n[4][2]),x(-n[3][2],n[4][1])),n[2][0]),b(E(b(x(n[3][0],n[4][2]),x(-n[3][2],n[4][0])),-n[2][1]),E(b(x(n[3][0],n[4][1]),x(-n[3][1],n[4][0])),n[2][2]))),-n[1][3]))),n[0][4])))))}}function d(b){return(2===b?u:3===b?g:4===b?c:5===b?w:void 0)(s,a,e,h)}var o=[function(){return[0]},function(E){return[E[0][0]]}];function v(b,E,x,S,T,n,C,p){return function(D){switch(D.length){case 0:return b(D);case 1:return E(D);case 2:return x(D);case 3:return S(D);case 4:return T(D);case 5:return n(D)}var N=C[D.length];return N||(N=C[D.length]=p(D.length)),N(D)}}!function M(){for(;o.length<6;)o.push(d(o.length));l.exports=v.apply(void 0,o.concat([o,d]));for(var b=0;b<o.length;++b)l.exports[b]=o[b]}()},9130:function(l,m,r){"use strict";var e=r(9660),s=r(9662);l.exports=function a(h,f){for(var u=e(h[0],f[0]),g=1;g<h.length;++g)u=s(u,e(h[g],f[g]));return u}},2227:function(l,m,r){"use strict";var e=r(9660),s=r(9662),a=r(4078),h=r(8289);function u(T){return(3===T?d:4===T?o:5===T?v:M)(s,a,e,h)}function d(T,n,C,p){return function F(D,N,k){var z=C(D[0],D[0]),B=p(z,N[0]),O=p(z,k[0]),U=C(N[0],N[0]),G=p(U,D[0]),J=p(U,k[0]),et=C(k[0],k[0]),at=p(et,D[0]),lt=p(et,N[0]),K=T(n(lt,J),n(G,B)),j=n(at,O),rt=n(K,j);return rt[rt.length-1]}}function o(T,n,C,p){return function F(D,N,k,z){var B=T(C(D[0],D[0]),C(D[1],D[1])),O=p(B,N[0]),U=p(B,k[0]),G=p(B,z[0]),J=T(C(N[0],N[0]),C(N[1],N[1])),et=p(J,D[0]),at=p(J,k[0]),lt=p(J,z[0]),K=T(C(k[0],k[0]),C(k[1],k[1])),j=p(K,D[0]),rt=p(K,N[0]),H=p(K,z[0]),Z=T(C(z[0],z[0]),C(z[1],z[1])),it=p(Z,D[0]),Q=p(Z,N[0]),Y=p(Z,k[0]),nt=T(T(p(n(Y,H),N[1]),T(p(n(Q,lt),-k[1]),p(n(rt,at),z[1]))),T(p(n(Q,lt),D[1]),T(p(n(it,G),-N[1]),p(n(et,O),z[1])))),_=T(T(p(n(Y,H),D[1]),T(p(n(it,G),-k[1]),p(n(j,U),z[1]))),T(p(n(rt,at),D[1]),T(p(n(j,U),-N[1]),p(n(et,O),k[1])))),st=n(nt,_);return st[st.length-1]}}function v(T,n,C,p){return function F(D,N,k,z,B){var O=T(C(D[0],D[0]),T(C(D[1],D[1]),C(D[2],D[2]))),U=p(O,N[0]),G=p(O,k[0]),J=p(O,z[0]),et=p(O,B[0]),at=T(C(N[0],N[0]),T(C(N[1],N[1]),C(N[2],N[2]))),lt=p(at,D[0]),K=p(at,k[0]),j=p(at,z[0]),rt=p(at,B[0]),H=T(C(k[0],k[0]),T(C(k[1],k[1]),C(k[2],k[2]))),Z=p(H,D[0]),it=p(H,N[0]),Q=p(H,z[0]),Y=p(H,B[0]),nt=T(C(z[0],z[0]),T(C(z[1],z[1]),C(z[2],z[2]))),_=p(nt,D[0]),st=p(nt,N[0]),dt=p(nt,k[0]),xt=p(nt,B[0]),yt=T(C(B[0],B[0]),T(C(B[1],B[1]),C(B[2],B[2]))),St=p(yt,D[0]),Et=p(yt,N[0]),Tt=p(yt,k[0]),gt=p(yt,z[0]),Mt=T(T(T(p(T(p(n(gt,xt),k[1]),T(p(n(Tt,Y),-z[1]),p(n(dt,Q),B[1]))),N[2]),T(p(T(p(n(gt,xt),N[1]),T(p(n(Et,rt),-z[1]),p(n(st,j),B[1]))),-k[2]),p(T(p(n(Tt,Y),N[1]),T(p(n(Et,rt),-k[1]),p(n(it,K),B[1]))),z[2]))),T(p(T(p(n(dt,Q),N[1]),T(p(n(st,j),-k[1]),p(n(it,K),z[1]))),-B[2]),T(p(T(p(n(gt,xt),N[1]),T(p(n(Et,rt),-z[1]),p(n(st,j),B[1]))),D[2]),p(T(p(n(gt,xt),D[1]),T(p(n(St,et),-z[1]),p(n(_,J),B[1]))),-N[2])))),T(T(p(T(p(n(Et,rt),D[1]),T(p(n(St,et),-N[1]),p(n(lt,U),B[1]))),z[2]),T(p(T(p(n(st,j),D[1]),T(p(n(_,J),-N[1]),p(n(lt,U),z[1]))),-B[2]),p(T(p(n(dt,Q),N[1]),T(p(n(st,j),-k[1]),p(n(it,K),z[1]))),D[2]))),T(p(T(p(n(dt,Q),D[1]),T(p(n(_,J),-k[1]),p(n(Z,G),z[1]))),-N[2]),T(p(T(p(n(st,j),D[1]),T(p(n(_,J),-N[1]),p(n(lt,U),z[1]))),k[2]),p(T(p(n(it,K),D[1]),T(p(n(Z,G),-N[1]),p(n(lt,U),k[1]))),-z[2]))))),Nt=T(T(T(p(T(p(n(gt,xt),k[1]),T(p(n(Tt,Y),-z[1]),p(n(dt,Q),B[1]))),D[2]),p(T(p(n(gt,xt),D[1]),T(p(n(St,et),-z[1]),p(n(_,J),B[1]))),-k[2])),T(p(T(p(n(Tt,Y),D[1]),T(p(n(St,et),-k[1]),p(n(Z,G),B[1]))),z[2]),p(T(p(n(dt,Q),D[1]),T(p(n(_,J),-k[1]),p(n(Z,G),z[1]))),-B[2]))),T(T(p(T(p(n(Tt,Y),N[1]),T(p(n(Et,rt),-k[1]),p(n(it,K),B[1]))),D[2]),p(T(p(n(Tt,Y),D[1]),T(p(n(St,et),-k[1]),p(n(Z,G),B[1]))),-N[2])),T(p(T(p(n(Et,rt),D[1]),T(p(n(St,et),-N[1]),p(n(lt,U),B[1]))),k[2]),p(T(p(n(it,K),D[1]),T(p(n(Z,G),-N[1]),p(n(lt,U),k[1]))),-B[2])))),Gt=n(Mt,Nt);return Gt[Gt.length-1]}}function M(T,n,C,p){return function F(D,N,k,z,B,O){var U=T(T(C(D[0],D[0]),C(D[1],D[1])),T(C(D[2],D[2]),C(D[3],D[3]))),G=p(U,N[0]),J=p(U,k[0]),et=p(U,z[0]),at=p(U,B[0]),lt=p(U,O[0]),K=T(T(C(N[0],N[0]),C(N[1],N[1])),T(C(N[2],N[2]),C(N[3],N[3]))),j=p(K,D[0]),rt=p(K,k[0]),H=p(K,z[0]),Z=p(K,B[0]),it=p(K,O[0]),Q=T(T(C(k[0],k[0]),C(k[1],k[1])),T(C(k[2],k[2]),C(k[3],k[3]))),Y=p(Q,D[0]),nt=p(Q,N[0]),_=p(Q,z[0]),st=p(Q,B[0]),dt=p(Q,O[0]),xt=T(T(C(z[0],z[0]),C(z[1],z[1])),T(C(z[2],z[2]),C(z[3],z[3]))),yt=p(xt,D[0]),St=p(xt,N[0]),Et=p(xt,k[0]),Tt=p(xt,B[0]),gt=p(xt,O[0]),Mt=T(T(C(B[0],B[0]),C(B[1],B[1])),T(C(B[2],B[2]),C(B[3],B[3]))),Nt=p(Mt,D[0]),Gt=p(Mt,N[0]),Pt=p(Mt,k[0]),Vt=p(Mt,z[0]),re=p(Mt,O[0]),le=T(T(C(O[0],O[0]),C(O[1],O[1])),T(C(O[2],O[2]),C(O[3],O[3]))),It=p(le,D[0]),Rt=p(le,N[0]),$t=p(le,k[0]),oe=p(le,z[0]),se=p(le,B[0]),ve=T(T(T(p(T(T(p(T(p(n(se,re),z[1]),T(p(n(oe,gt),-B[1]),p(n(Vt,Tt),O[1]))),k[2]),p(T(p(n(se,re),k[1]),T(p(n($t,dt),-B[1]),p(n(Pt,st),O[1]))),-z[2])),T(p(T(p(n(oe,gt),k[1]),T(p(n($t,dt),-z[1]),p(n(Et,_),O[1]))),B[2]),p(T(p(n(Vt,Tt),k[1]),T(p(n(Pt,st),-z[1]),p(n(Et,_),B[1]))),-O[2]))),N[3]),T(p(T(T(p(T(p(n(se,re),z[1]),T(p(n(oe,gt),-B[1]),p(n(Vt,Tt),O[1]))),N[2]),p(T(p(n(se,re),N[1]),T(p(n(Rt,it),-B[1]),p(n(Gt,Z),O[1]))),-z[2])),T(p(T(p(n(oe,gt),N[1]),T(p(n(Rt,it),-z[1]),p(n(St,H),O[1]))),B[2]),p(T(p(n(Vt,Tt),N[1]),T(p(n(Gt,Z),-z[1]),p(n(St,H),B[1]))),-O[2]))),-k[3]),p(T(T(p(T(p(n(se,re),k[1]),T(p(n($t,dt),-B[1]),p(n(Pt,st),O[1]))),N[2]),p(T(p(n(se,re),N[1]),T(p(n(Rt,it),-B[1]),p(n(Gt,Z),O[1]))),-k[2])),T(p(T(p(n($t,dt),N[1]),T(p(n(Rt,it),-k[1]),p(n(nt,rt),O[1]))),B[2]),p(T(p(n(Pt,st),N[1]),T(p(n(Gt,Z),-k[1]),p(n(nt,rt),B[1]))),-O[2]))),z[3]))),T(T(p(T(T(p(T(p(n(oe,gt),k[1]),T(p(n($t,dt),-z[1]),p(n(Et,_),O[1]))),N[2]),p(T(p(n(oe,gt),N[1]),T(p(n(Rt,it),-z[1]),p(n(St,H),O[1]))),-k[2])),T(p(T(p(n($t,dt),N[1]),T(p(n(Rt,it),-k[1]),p(n(nt,rt),O[1]))),z[2]),p(T(p(n(Et,_),N[1]),T(p(n(St,H),-k[1]),p(n(nt,rt),z[1]))),-O[2]))),-B[3]),p(T(T(p(T(p(n(Vt,Tt),k[1]),T(p(n(Pt,st),-z[1]),p(n(Et,_),B[1]))),N[2]),p(T(p(n(Vt,Tt),N[1]),T(p(n(Gt,Z),-z[1]),p(n(St,H),B[1]))),-k[2])),T(p(T(p(n(Pt,st),N[1]),T(p(n(Gt,Z),-k[1]),p(n(nt,rt),B[1]))),z[2]),p(T(p(n(Et,_),N[1]),T(p(n(St,H),-k[1]),p(n(nt,rt),z[1]))),-B[2]))),O[3])),T(p(T(T(p(T(p(n(se,re),z[1]),T(p(n(oe,gt),-B[1]),p(n(Vt,Tt),O[1]))),N[2]),p(T(p(n(se,re),N[1]),T(p(n(Rt,it),-B[1]),p(n(Gt,Z),O[1]))),-z[2])),T(p(T(p(n(oe,gt),N[1]),T(p(n(Rt,it),-z[1]),p(n(St,H),O[1]))),B[2]),p(T(p(n(Vt,Tt),N[1]),T(p(n(Gt,Z),-z[1]),p(n(St,H),B[1]))),-O[2]))),D[3]),p(T(T(p(T(p(n(se,re),z[1]),T(p(n(oe,gt),-B[1]),p(n(Vt,Tt),O[1]))),D[2]),p(T(p(n(se,re),D[1]),T(p(n(It,lt),-B[1]),p(n(Nt,at),O[1]))),-z[2])),T(p(T(p(n(oe,gt),D[1]),T(p(n(It,lt),-z[1]),p(n(yt,et),O[1]))),B[2]),p(T(p(n(Vt,Tt),D[1]),T(p(n(Nt,at),-z[1]),p(n(yt,et),B[1]))),-O[2]))),-N[3])))),T(T(T(p(T(T(p(T(p(n(se,re),N[1]),T(p(n(Rt,it),-B[1]),p(n(Gt,Z),O[1]))),D[2]),p(T(p(n(se,re),D[1]),T(p(n(It,lt),-B[1]),p(n(Nt,at),O[1]))),-N[2])),T(p(T(p(n(Rt,it),D[1]),T(p(n(It,lt),-N[1]),p(n(j,G),O[1]))),B[2]),p(T(p(n(Gt,Z),D[1]),T(p(n(Nt,at),-N[1]),p(n(j,G),B[1]))),-O[2]))),z[3]),p(T(T(p(T(p(n(oe,gt),N[1]),T(p(n(Rt,it),-z[1]),p(n(St,H),O[1]))),D[2]),p(T(p(n(oe,gt),D[1]),T(p(n(It,lt),-z[1]),p(n(yt,et),O[1]))),-N[2])),T(p(T(p(n(Rt,it),D[1]),T(p(n(It,lt),-N[1]),p(n(j,G),O[1]))),z[2]),p(T(p(n(St,H),D[1]),T(p(n(yt,et),-N[1]),p(n(j,G),z[1]))),-O[2]))),-B[3])),T(p(T(T(p(T(p(n(Vt,Tt),N[1]),T(p(n(Gt,Z),-z[1]),p(n(St,H),B[1]))),D[2]),p(T(p(n(Vt,Tt),D[1]),T(p(n(Nt,at),-z[1]),p(n(yt,et),B[1]))),-N[2])),T(p(T(p(n(Gt,Z),D[1]),T(p(n(Nt,at),-N[1]),p(n(j,G),B[1]))),z[2]),p(T(p(n(St,H),D[1]),T(p(n(yt,et),-N[1]),p(n(j,G),z[1]))),-B[2]))),O[3]),p(T(T(p(T(p(n(oe,gt),k[1]),T(p(n($t,dt),-z[1]),p(n(Et,_),O[1]))),N[2]),p(T(p(n(oe,gt),N[1]),T(p(n(Rt,it),-z[1]),p(n(St,H),O[1]))),-k[2])),T(p(T(p(n($t,dt),N[1]),T(p(n(Rt,it),-k[1]),p(n(nt,rt),O[1]))),z[2]),p(T(p(n(Et,_),N[1]),T(p(n(St,H),-k[1]),p(n(nt,rt),z[1]))),-O[2]))),D[3]))),T(T(p(T(T(p(T(p(n(oe,gt),k[1]),T(p(n($t,dt),-z[1]),p(n(Et,_),O[1]))),D[2]),p(T(p(n(oe,gt),D[1]),T(p(n(It,lt),-z[1]),p(n(yt,et),O[1]))),-k[2])),T(p(T(p(n($t,dt),D[1]),T(p(n(It,lt),-k[1]),p(n(Y,J),O[1]))),z[2]),p(T(p(n(Et,_),D[1]),T(p(n(yt,et),-k[1]),p(n(Y,J),z[1]))),-O[2]))),-N[3]),p(T(T(p(T(p(n(oe,gt),N[1]),T(p(n(Rt,it),-z[1]),p(n(St,H),O[1]))),D[2]),p(T(p(n(oe,gt),D[1]),T(p(n(It,lt),-z[1]),p(n(yt,et),O[1]))),-N[2])),T(p(T(p(n(Rt,it),D[1]),T(p(n(It,lt),-N[1]),p(n(j,G),O[1]))),z[2]),p(T(p(n(St,H),D[1]),T(p(n(yt,et),-N[1]),p(n(j,G),z[1]))),-O[2]))),k[3])),T(p(T(T(p(T(p(n($t,dt),N[1]),T(p(n(Rt,it),-k[1]),p(n(nt,rt),O[1]))),D[2]),p(T(p(n($t,dt),D[1]),T(p(n(It,lt),-k[1]),p(n(Y,J),O[1]))),-N[2])),T(p(T(p(n(Rt,it),D[1]),T(p(n(It,lt),-N[1]),p(n(j,G),O[1]))),k[2]),p(T(p(n(nt,rt),D[1]),T(p(n(Y,J),-N[1]),p(n(j,G),k[1]))),-O[2]))),-z[3]),p(T(T(p(T(p(n(Et,_),N[1]),T(p(n(St,H),-k[1]),p(n(nt,rt),z[1]))),D[2]),p(T(p(n(Et,_),D[1]),T(p(n(yt,et),-k[1]),p(n(Y,J),z[1]))),-N[2])),T(p(T(p(n(St,H),D[1]),T(p(n(yt,et),-N[1]),p(n(j,G),z[1]))),k[2]),p(T(p(n(nt,rt),D[1]),T(p(n(Y,J),-N[1]),p(n(j,G),k[1]))),-z[2]))),O[3]))))),de=T(T(T(p(T(T(p(T(p(n(se,re),z[1]),T(p(n(oe,gt),-B[1]),p(n(Vt,Tt),O[1]))),k[2]),p(T(p(n(se,re),k[1]),T(p(n($t,dt),-B[1]),p(n(Pt,st),O[1]))),-z[2])),T(p(T(p(n(oe,gt),k[1]),T(p(n($t,dt),-z[1]),p(n(Et,_),O[1]))),B[2]),p(T(p(n(Vt,Tt),k[1]),T(p(n(Pt,st),-z[1]),p(n(Et,_),B[1]))),-O[2]))),D[3]),T(p(T(T(p(T(p(n(se,re),z[1]),T(p(n(oe,gt),-B[1]),p(n(Vt,Tt),O[1]))),D[2]),p(T(p(n(se,re),D[1]),T(p(n(It,lt),-B[1]),p(n(Nt,at),O[1]))),-z[2])),T(p(T(p(n(oe,gt),D[1]),T(p(n(It,lt),-z[1]),p(n(yt,et),O[1]))),B[2]),p(T(p(n(Vt,Tt),D[1]),T(p(n(Nt,at),-z[1]),p(n(yt,et),B[1]))),-O[2]))),-k[3]),p(T(T(p(T(p(n(se,re),k[1]),T(p(n($t,dt),-B[1]),p(n(Pt,st),O[1]))),D[2]),p(T(p(n(se,re),D[1]),T(p(n(It,lt),-B[1]),p(n(Nt,at),O[1]))),-k[2])),T(p(T(p(n($t,dt),D[1]),T(p(n(It,lt),-k[1]),p(n(Y,J),O[1]))),B[2]),p(T(p(n(Pt,st),D[1]),T(p(n(Nt,at),-k[1]),p(n(Y,J),B[1]))),-O[2]))),z[3]))),T(T(p(T(T(p(T(p(n(oe,gt),k[1]),T(p(n($t,dt),-z[1]),p(n(Et,_),O[1]))),D[2]),p(T(p(n(oe,gt),D[1]),T(p(n(It,lt),-z[1]),p(n(yt,et),O[1]))),-k[2])),T(p(T(p(n($t,dt),D[1]),T(p(n(It,lt),-k[1]),p(n(Y,J),O[1]))),z[2]),p(T(p(n(Et,_),D[1]),T(p(n(yt,et),-k[1]),p(n(Y,J),z[1]))),-O[2]))),-B[3]),p(T(T(p(T(p(n(Vt,Tt),k[1]),T(p(n(Pt,st),-z[1]),p(n(Et,_),B[1]))),D[2]),p(T(p(n(Vt,Tt),D[1]),T(p(n(Nt,at),-z[1]),p(n(yt,et),B[1]))),-k[2])),T(p(T(p(n(Pt,st),D[1]),T(p(n(Nt,at),-k[1]),p(n(Y,J),B[1]))),z[2]),p(T(p(n(Et,_),D[1]),T(p(n(yt,et),-k[1]),p(n(Y,J),z[1]))),-B[2]))),O[3])),T(p(T(T(p(T(p(n(se,re),k[1]),T(p(n($t,dt),-B[1]),p(n(Pt,st),O[1]))),N[2]),p(T(p(n(se,re),N[1]),T(p(n(Rt,it),-B[1]),p(n(Gt,Z),O[1]))),-k[2])),T(p(T(p(n($t,dt),N[1]),T(p(n(Rt,it),-k[1]),p(n(nt,rt),O[1]))),B[2]),p(T(p(n(Pt,st),N[1]),T(p(n(Gt,Z),-k[1]),p(n(nt,rt),B[1]))),-O[2]))),D[3]),p(T(T(p(T(p(n(se,re),k[1]),T(p(n($t,dt),-B[1]),p(n(Pt,st),O[1]))),D[2]),p(T(p(n(se,re),D[1]),T(p(n(It,lt),-B[1]),p(n(Nt,at),O[1]))),-k[2])),T(p(T(p(n($t,dt),D[1]),T(p(n(It,lt),-k[1]),p(n(Y,J),O[1]))),B[2]),p(T(p(n(Pt,st),D[1]),T(p(n(Nt,at),-k[1]),p(n(Y,J),B[1]))),-O[2]))),-N[3])))),T(T(T(p(T(T(p(T(p(n(se,re),N[1]),T(p(n(Rt,it),-B[1]),p(n(Gt,Z),O[1]))),D[2]),p(T(p(n(se,re),D[1]),T(p(n(It,lt),-B[1]),p(n(Nt,at),O[1]))),-N[2])),T(p(T(p(n(Rt,it),D[1]),T(p(n(It,lt),-N[1]),p(n(j,G),O[1]))),B[2]),p(T(p(n(Gt,Z),D[1]),T(p(n(Nt,at),-N[1]),p(n(j,G),B[1]))),-O[2]))),k[3]),p(T(T(p(T(p(n($t,dt),N[1]),T(p(n(Rt,it),-k[1]),p(n(nt,rt),O[1]))),D[2]),p(T(p(n($t,dt),D[1]),T(p(n(It,lt),-k[1]),p(n(Y,J),O[1]))),-N[2])),T(p(T(p(n(Rt,it),D[1]),T(p(n(It,lt),-N[1]),p(n(j,G),O[1]))),k[2]),p(T(p(n(nt,rt),D[1]),T(p(n(Y,J),-N[1]),p(n(j,G),k[1]))),-O[2]))),-B[3])),T(p(T(T(p(T(p(n(Pt,st),N[1]),T(p(n(Gt,Z),-k[1]),p(n(nt,rt),B[1]))),D[2]),p(T(p(n(Pt,st),D[1]),T(p(n(Nt,at),-k[1]),p(n(Y,J),B[1]))),-N[2])),T(p(T(p(n(Gt,Z),D[1]),T(p(n(Nt,at),-N[1]),p(n(j,G),B[1]))),k[2]),p(T(p(n(nt,rt),D[1]),T(p(n(Y,J),-N[1]),p(n(j,G),k[1]))),-B[2]))),O[3]),p(T(T(p(T(p(n(Vt,Tt),k[1]),T(p(n(Pt,st),-z[1]),p(n(Et,_),B[1]))),N[2]),p(T(p(n(Vt,Tt),N[1]),T(p(n(Gt,Z),-z[1]),p(n(St,H),B[1]))),-k[2])),T(p(T(p(n(Pt,st),N[1]),T(p(n(Gt,Z),-k[1]),p(n(nt,rt),B[1]))),z[2]),p(T(p(n(Et,_),N[1]),T(p(n(St,H),-k[1]),p(n(nt,rt),z[1]))),-B[2]))),D[3]))),T(T(p(T(T(p(T(p(n(Vt,Tt),k[1]),T(p(n(Pt,st),-z[1]),p(n(Et,_),B[1]))),D[2]),p(T(p(n(Vt,Tt),D[1]),T(p(n(Nt,at),-z[1]),p(n(yt,et),B[1]))),-k[2])),T(p(T(p(n(Pt,st),D[1]),T(p(n(Nt,at),-k[1]),p(n(Y,J),B[1]))),z[2]),p(T(p(n(Et,_),D[1]),T(p(n(yt,et),-k[1]),p(n(Y,J),z[1]))),-B[2]))),-N[3]),p(T(T(p(T(p(n(Vt,Tt),N[1]),T(p(n(Gt,Z),-z[1]),p(n(St,H),B[1]))),D[2]),p(T(p(n(Vt,Tt),D[1]),T(p(n(Nt,at),-z[1]),p(n(yt,et),B[1]))),-N[2])),T(p(T(p(n(Gt,Z),D[1]),T(p(n(Nt,at),-N[1]),p(n(j,G),B[1]))),z[2]),p(T(p(n(St,H),D[1]),T(p(n(yt,et),-N[1]),p(n(j,G),z[1]))),-B[2]))),k[3])),T(p(T(T(p(T(p(n(Pt,st),N[1]),T(p(n(Gt,Z),-k[1]),p(n(nt,rt),B[1]))),D[2]),p(T(p(n(Pt,st),D[1]),T(p(n(Nt,at),-k[1]),p(n(Y,J),B[1]))),-N[2])),T(p(T(p(n(Gt,Z),D[1]),T(p(n(Nt,at),-N[1]),p(n(j,G),B[1]))),k[2]),p(T(p(n(nt,rt),D[1]),T(p(n(Y,J),-N[1]),p(n(j,G),k[1]))),-B[2]))),-z[3]),p(T(T(p(T(p(n(Et,_),N[1]),T(p(n(St,H),-k[1]),p(n(nt,rt),z[1]))),D[2]),p(T(p(n(Et,_),D[1]),T(p(n(yt,et),-k[1]),p(n(Y,J),z[1]))),-N[2])),T(p(T(p(n(St,H),D[1]),T(p(n(yt,et),-N[1]),p(n(j,G),z[1]))),k[2]),p(T(p(n(nt,rt),D[1]),T(p(n(Y,J),-N[1]),p(n(j,G),k[1]))),-z[2]))),B[3]))))),jt=n(ve,de);return jt[jt.length-1]}}var b=[function g(){return 0},function c(){return 0},function w(){return 0}];function E(T){var n=b[T.length];return n||(n=b[T.length]=u(T.length)),n.apply(void 0,T)}function x(T,n,C,p,F,D,N,k){return function z(B,O,U,G,J,et){switch(arguments.length){case 0:case 1:return 0;case 2:return p(B,O);case 3:return F(B,O,U);case 4:return D(B,O,U,G);case 5:return N(B,O,U,G,J);case 6:return k(B,O,U,G,J,et)}for(var at=new Array(arguments.length),lt=0;lt<arguments.length;++lt)at[lt]=arguments[lt];return T(at)}}!function S(){for(;b.length<=6;)b.push(u(b.length));l.exports=x.apply(void 0,[E].concat(b));for(var T=0;T<=6;++T)l.exports[T]=b[T]}()},6606:function(l,m,r){"use strict";var e=r(8167);function a(b){return(2===b?u:3===b?g:4===b?c:5===b?w:d)(b<6?e[b]:e)}function u(b){return function(x,S){return[b([[+S[0],+x[0][1]],[+S[1],+x[1][1]]]),b([[+x[0][0],+S[0]],[+x[1][0],+S[1]]]),b(x)]}}function g(b){return function(x,S){return[b([[+S[0],+x[0][1],+x[0][2]],[+S[1],+x[1][1],+x[1][2]],[+S[2],+x[2][1],+x[2][2]]]),b([[+x[0][0],+S[0],+x[0][2]],[+x[1][0],+S[1],+x[1][2]],[+x[2][0],+S[2],+x[2][2]]]),b([[+x[0][0],+x[0][1],+S[0]],[+x[1][0],+x[1][1],+S[1]],[+x[2][0],+x[2][1],+S[2]]]),b(x)]}}function c(b){return function(x,S){return[b([[+S[0],+x[0][1],+x[0][2],+x[0][3]],[+S[1],+x[1][1],+x[1][2],+x[1][3]],[+S[2],+x[2][1],+x[2][2],+x[2][3]],[+S[3],+x[3][1],+x[3][2],+x[3][3]]]),b([[+x[0][0],+S[0],+x[0][2],+x[0][3]],[+x[1][0],+S[1],+x[1][2],+x[1][3]],[+x[2][0],+S[2],+x[2][2],+x[2][3]],[+x[3][0],+S[3],+x[3][2],+x[3][3]]]),b([[+x[0][0],+x[0][1],+S[0],+x[0][3]],[+x[1][0],+x[1][1],+S[1],+x[1][3]],[+x[2][0],+x[2][1],+S[2],+x[2][3]],[+x[3][0],+x[3][1],+S[3],+x[3][3]]]),b([[+x[0][0],+x[0][1],+x[0][2],+S[0]],[+x[1][0],+x[1][1],+x[1][2],+S[1]],[+x[2][0],+x[2][1],+x[2][2],+S[2]],[+x[3][0],+x[3][1],+x[3][2],+S[3]]]),b(x)]}}function w(b){return function(x,S){return[b([[+S[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4]],[+S[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4]],[+S[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4]],[+S[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4]],[+S[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4]]]),b([[+x[0][0],+S[0],+x[0][2],+x[0][3],+x[0][4]],[+x[1][0],+S[1],+x[1][2],+x[1][3],+x[1][4]],[+x[2][0],+S[2],+x[2][2],+x[2][3],+x[2][4]],[+x[3][0],+S[3],+x[3][2],+x[3][3],+x[3][4]],[+x[4][0],+S[4],+x[4][2],+x[4][3],+x[4][4]]]),b([[+x[0][0],+x[0][1],+S[0],+x[0][3],+x[0][4]],[+x[1][0],+x[1][1],+S[1],+x[1][3],+x[1][4]],[+x[2][0],+x[2][1],+S[2],+x[2][3],+x[2][4]],[+x[3][0],+x[3][1],+S[3],+x[3][3],+x[3][4]],[+x[4][0],+x[4][1],+S[4],+x[4][3],+x[4][4]]]),b([[+x[0][0],+x[0][1],+x[0][2],+S[0],+x[0][4]],[+x[1][0],+x[1][1],+x[1][2],+S[1],+x[1][4]],[+x[2][0],+x[2][1],+x[2][2],+S[2],+x[2][4]],[+x[3][0],+x[3][1],+x[3][2],+S[3],+x[3][4]],[+x[4][0],+x[4][1],+x[4][2],+S[4],+x[4][4]]]),b([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+S[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+S[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+S[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+S[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+S[4]]]),b(x)]}}function d(b){return function(x,S){return[b([[+S[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+S[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+S[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+S[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+S[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+S[5],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),b([[+x[0][0],+S[0],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+S[1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+S[2],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+S[3],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+S[4],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+S[5],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),b([[+x[0][0],+x[0][1],+S[0],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+S[1],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+S[2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+S[3],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+S[4],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+S[5],+x[5][3],+x[5][4],+x[5][5]]]),b([[+x[0][0],+x[0][1],+x[0][2],+S[0],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+S[1],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+S[2],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+S[3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+S[4],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+S[5],+x[5][4],+x[5][5]]]),b([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+S[0],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+S[1],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+S[2],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+S[3],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+S[4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+S[5],+x[5][5]]]),b([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+S[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+S[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+S[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+S[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+S[4]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+S[5]]]),b(x)]}}var o=[function h(){return[[0]]},function f(b,E){return[[E[0]],[b[0][0]]]}];function v(b,E,x,S,T,n,C,p){return function(D,N){switch(D.length){case 0:return b(D,N);case 1:return E(D,N);case 2:return x(D,N);case 3:return S(D,N);case 4:return T(D,N);case 5:return n(D,N)}var k=C[D.length];return k||(k=C[D.length]=p(D.length)),k(D,N)}}!function M(){for(;o.length<6;)o.push(a(o.length));l.exports=v.apply(void 0,o.concat([o,a]));for(var b=0;b<6;++b)l.exports[b]=o[b]}()},417:function(l,m,r){"use strict";var e=r(9660),s=r(9662),a=r(8289),h=r(4078);function w(n,C,p,F){return function(N,k,z){var B=n(n(C(k[1],z[0]),C(-z[1],k[0])),n(C(N[1],k[0]),C(-k[1],N[0]))),O=n(C(N[1],z[0]),C(-z[1],N[0])),U=F(B,O);return U[U.length-1]}}function d(n,C,p,F){return function(N,k,z,B){var O=n(n(p(n(C(z[1],B[0]),C(-B[1],z[0])),k[2]),n(p(n(C(k[1],B[0]),C(-B[1],k[0])),-z[2]),p(n(C(k[1],z[0]),C(-z[1],k[0])),B[2]))),n(p(n(C(k[1],B[0]),C(-B[1],k[0])),N[2]),n(p(n(C(N[1],B[0]),C(-B[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),B[2])))),U=n(n(p(n(C(z[1],B[0]),C(-B[1],z[0])),N[2]),n(p(n(C(N[1],B[0]),C(-B[1],N[0])),-z[2]),p(n(C(N[1],z[0]),C(-z[1],N[0])),B[2]))),n(p(n(C(k[1],z[0]),C(-z[1],k[0])),N[2]),n(p(n(C(N[1],z[0]),C(-z[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),z[2])))),G=F(O,U);return G[G.length-1]}}function o(n,C,p,F){return function(N,k,z,B,O){var U=n(n(n(p(n(p(n(C(B[1],O[0]),C(-O[1],B[0])),z[2]),n(p(n(C(z[1],O[0]),C(-O[1],z[0])),-B[2]),p(n(C(z[1],B[0]),C(-B[1],z[0])),O[2]))),k[3]),n(p(n(p(n(C(B[1],O[0]),C(-O[1],B[0])),k[2]),n(p(n(C(k[1],O[0]),C(-O[1],k[0])),-B[2]),p(n(C(k[1],B[0]),C(-B[1],k[0])),O[2]))),-z[3]),p(n(p(n(C(z[1],O[0]),C(-O[1],z[0])),k[2]),n(p(n(C(k[1],O[0]),C(-O[1],k[0])),-z[2]),p(n(C(k[1],z[0]),C(-z[1],k[0])),O[2]))),B[3]))),n(p(n(p(n(C(z[1],B[0]),C(-B[1],z[0])),k[2]),n(p(n(C(k[1],B[0]),C(-B[1],k[0])),-z[2]),p(n(C(k[1],z[0]),C(-z[1],k[0])),B[2]))),-O[3]),n(p(n(p(n(C(B[1],O[0]),C(-O[1],B[0])),k[2]),n(p(n(C(k[1],O[0]),C(-O[1],k[0])),-B[2]),p(n(C(k[1],B[0]),C(-B[1],k[0])),O[2]))),N[3]),p(n(p(n(C(B[1],O[0]),C(-O[1],B[0])),N[2]),n(p(n(C(N[1],O[0]),C(-O[1],N[0])),-B[2]),p(n(C(N[1],B[0]),C(-B[1],N[0])),O[2]))),-k[3])))),n(n(p(n(p(n(C(k[1],O[0]),C(-O[1],k[0])),N[2]),n(p(n(C(N[1],O[0]),C(-O[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),O[2]))),B[3]),n(p(n(p(n(C(k[1],B[0]),C(-B[1],k[0])),N[2]),n(p(n(C(N[1],B[0]),C(-B[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),B[2]))),-O[3]),p(n(p(n(C(z[1],B[0]),C(-B[1],z[0])),k[2]),n(p(n(C(k[1],B[0]),C(-B[1],k[0])),-z[2]),p(n(C(k[1],z[0]),C(-z[1],k[0])),B[2]))),N[3]))),n(p(n(p(n(C(z[1],B[0]),C(-B[1],z[0])),N[2]),n(p(n(C(N[1],B[0]),C(-B[1],N[0])),-z[2]),p(n(C(N[1],z[0]),C(-z[1],N[0])),B[2]))),-k[3]),n(p(n(p(n(C(k[1],B[0]),C(-B[1],k[0])),N[2]),n(p(n(C(N[1],B[0]),C(-B[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),B[2]))),z[3]),p(n(p(n(C(k[1],z[0]),C(-z[1],k[0])),N[2]),n(p(n(C(N[1],z[0]),C(-z[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),z[2]))),-B[3]))))),G=n(n(n(p(n(p(n(C(B[1],O[0]),C(-O[1],B[0])),z[2]),n(p(n(C(z[1],O[0]),C(-O[1],z[0])),-B[2]),p(n(C(z[1],B[0]),C(-B[1],z[0])),O[2]))),N[3]),p(n(p(n(C(B[1],O[0]),C(-O[1],B[0])),N[2]),n(p(n(C(N[1],O[0]),C(-O[1],N[0])),-B[2]),p(n(C(N[1],B[0]),C(-B[1],N[0])),O[2]))),-z[3])),n(p(n(p(n(C(z[1],O[0]),C(-O[1],z[0])),N[2]),n(p(n(C(N[1],O[0]),C(-O[1],N[0])),-z[2]),p(n(C(N[1],z[0]),C(-z[1],N[0])),O[2]))),B[3]),p(n(p(n(C(z[1],B[0]),C(-B[1],z[0])),N[2]),n(p(n(C(N[1],B[0]),C(-B[1],N[0])),-z[2]),p(n(C(N[1],z[0]),C(-z[1],N[0])),B[2]))),-O[3]))),n(n(p(n(p(n(C(z[1],O[0]),C(-O[1],z[0])),k[2]),n(p(n(C(k[1],O[0]),C(-O[1],k[0])),-z[2]),p(n(C(k[1],z[0]),C(-z[1],k[0])),O[2]))),N[3]),p(n(p(n(C(z[1],O[0]),C(-O[1],z[0])),N[2]),n(p(n(C(N[1],O[0]),C(-O[1],N[0])),-z[2]),p(n(C(N[1],z[0]),C(-z[1],N[0])),O[2]))),-k[3])),n(p(n(p(n(C(k[1],O[0]),C(-O[1],k[0])),N[2]),n(p(n(C(N[1],O[0]),C(-O[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),O[2]))),z[3]),p(n(p(n(C(k[1],z[0]),C(-z[1],k[0])),N[2]),n(p(n(C(N[1],z[0]),C(-z[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),z[2]))),-O[3])))),J=F(U,G);return J[J.length-1]}}function v(n){return(3===n?w:4===n?d:o)(s,e,a,h)}var M=v(3),b=v(4),E=[function(){return 0},function(){return 0},function(C,p){return p[0]-C[0]},function(C,p,F){var z,D=(C[1]-F[1])*(p[0]-F[0]),N=(C[0]-F[0])*(p[1]-F[1]),k=D-N;if(D>0){if(N<=0)return k;z=D+N}else{if(!(D<0))return k;if(N>=0)return k;z=-(D+N)}var B=33306690738754716e-32*z;return k>=B||k<=-B?k:M(C,p,F)},function(C,p,F,D){var N=C[0]-D[0],k=p[0]-D[0],z=F[0]-D[0],B=C[1]-D[1],O=p[1]-D[1],U=F[1]-D[1],G=C[2]-D[2],J=p[2]-D[2],et=F[2]-D[2],at=k*U,lt=z*O,K=z*B,j=N*U,rt=N*O,H=k*B,Z=G*(at-lt)+J*(K-j)+et*(rt-H),Q=7771561172376103e-31*((Math.abs(at)+Math.abs(lt))*Math.abs(G)+(Math.abs(K)+Math.abs(j))*Math.abs(J)+(Math.abs(rt)+Math.abs(H))*Math.abs(et));return Z>Q||-Z>Q?Z:b(C,p,F,D)}];function x(n){var C=E[n.length];return C||(C=E[n.length]=v(n.length)),C.apply(void 0,n)}function S(n,C,p,F,D,N,k){return function(B,O,U,G,J){switch(arguments.length){case 0:case 1:return 0;case 2:return F(B,O);case 3:return D(B,O,U);case 4:return N(B,O,U,G);case 5:return k(B,O,U,G,J)}for(var et=new Array(arguments.length),at=0;at<arguments.length;++at)et[at]=arguments[at];return n(et)}}!function T(){for(;E.length<=5;)E.push(v(E.length));l.exports=S.apply(void 0,[x].concat(E));for(var n=0;n<=5;++n)l.exports[n]=E[n]}()},2019:function(l,m,r){"use strict";var e=r(9662),s=r(8289);l.exports=function a(h,f){if(1===h.length)return s(f,h[0]);if(1===f.length)return s(h,f[0]);if(0===h.length||0===f.length)return[0];var u=[0];if(h.length<f.length)for(var g=0;g<h.length;++g)u=e(u,s(f,h[g]));else for(g=0;g<f.length;++g)u=e(u,s(h,f[g]));return u}},8289:function(l,m,r){"use strict";var e=r(9660),s=r(87);l.exports=function a(h,f){var u=h.length;if(1===u){var g=e(h[0],f);return g[0]?g:[g[1]]}var c=new Array(2*u),w=[.1,.1],d=[.1,.1],o=0;e(h[0],f,w),w[0]&&(c[o++]=w[0]);for(var v=1;v<u;++v){e(h[v],f,d),s(w[1],d[0],w),w[0]&&(c[o++]=w[0]);var b=d[1],E=w[1],x=b+E,T=E-(x-b);w[1]=x,T&&(c[o++]=T)}return w[1]&&(c[o++]=w[1]),0===o&&(c[o++]=0),c.length=o,c}},4434:function(l,m,r){"use strict";l.exports=function a(h,f,u,g){var c=e(h,u,g),w=e(f,u,g);if(c>0&&w>0||c<0&&w<0)return!1;var d=e(u,h,f),o=e(g,h,f);return!(d>0&&o>0||d<0&&o<0)&&(0!==c||0!==w||0!==d||0!==o||function s(h,f,u,g){for(var c=0;c<2;++c){var w=h[c],d=f[c],o=Math.min(w,d),v=Math.max(w,d),M=u[c],b=g[c],E=Math.min(M,b);if(Math.max(M,b)<o||v<E)return!1}return!0}(h,f,u,g))};var e=r(417)[3]},4078:function(l){"use strict";l.exports=function r(e,s){var a=0|e.length,h=0|s.length;if(1===a&&1===h)return function m(e,s){var a=e+s,h=a-e,c=e-(a-h)+(s-h);return c?[c,a]:[a]}(e[0],-s[0]);var E,x,u=new Array(a+h),g=0,c=0,w=0,d=Math.abs,o=e[c],v=d(o),M=-s[w],b=d(M);v<b?(x=o,(c+=1)<a&&(v=d(o=e[c]))):(x=M,(w+=1)<h&&(b=d(M=-s[w]))),c<a&&v<b||w>=h?(E=o,(c+=1)<a&&(v=d(o=e[c]))):(E=M,(w+=1)<h&&(b=d(M=-s[w])));for(var F,D,S=E+x,T=S-E,n=x-T,C=n,p=S;c<a&&w<h;)v<b?(E=o,(c+=1)<a&&(v=d(o=e[c]))):(E=M,(w+=1)<h&&(b=d(M=-s[w]))),(n=(x=C)-(T=(S=E+x)-E))&&(u[g++]=n),C=p-((F=p+S)-(D=F-p))+(S-D),p=F;for(;c<a;)(n=(x=C)-(T=(S=(E=o)+x)-E))&&(u[g++]=n),C=p-((F=p+S)-(D=F-p))+(S-D),p=F,(c+=1)<a&&(o=e[c]);for(;w<h;)(n=(x=C)-(T=(S=(E=M)+x)-E))&&(u[g++]=n),C=p-((F=p+S)-(D=F-p))+(S-D),p=F,(w+=1)<h&&(M=-s[w]);return C&&(u[g++]=C),p&&(u[g++]=p),g||(u[g++]=0),u.length=g,u}},9662:function(l){"use strict";l.exports=function r(e,s){var a=0|e.length,h=0|s.length;if(1===a&&1===h)return function m(e,s){var a=e+s,h=a-e,c=e-(a-h)+(s-h);return c?[c,a]:[a]}(e[0],s[0]);var E,x,u=new Array(a+h),g=0,c=0,w=0,d=Math.abs,o=e[c],v=d(o),M=s[w],b=d(M);v<b?(x=o,(c+=1)<a&&(v=d(o=e[c]))):(x=M,(w+=1)<h&&(b=d(M=s[w]))),c<a&&v<b||w>=h?(E=o,(c+=1)<a&&(v=d(o=e[c]))):(E=M,(w+=1)<h&&(b=d(M=s[w])));for(var F,D,S=E+x,T=S-E,n=x-T,C=n,p=S;c<a&&w<h;)v<b?(E=o,(c+=1)<a&&(v=d(o=e[c]))):(E=M,(w+=1)<h&&(b=d(M=s[w]))),(n=(x=C)-(T=(S=E+x)-E))&&(u[g++]=n),C=p-((F=p+S)-(D=F-p))+(S-D),p=F;for(;c<a;)(n=(x=C)-(T=(S=(E=o)+x)-E))&&(u[g++]=n),C=p-((F=p+S)-(D=F-p))+(S-D),p=F,(c+=1)<a&&(o=e[c]);for(;w<h;)(n=(x=C)-(T=(S=(E=M)+x)-E))&&(u[g++]=n),C=p-((F=p+S)-(D=F-p))+(S-D),p=F,(w+=1)<h&&(M=s[w]);return C&&(u[g++]=C),p&&(u[g++]=p),g||(u[g++]=0),u.length=g,u}},8691:function(l,m,r){"use strict";l.exports=function a(h){return s(e(h))};var e=r(2692),s=r(7037)},7212:function(l,m,r){"use strict";l.exports=function o(v,M,b,E){if(b=b||0,void 0===E&&(E=function f(v){for(var M=v.length,b=0,E=0;E<M;++E)b=0|Math.max(b,v[E].length);return b-1}(v)),0===v.length||E<1)return{cells:[],vertexIds:[],vertexWeights:[]};var S=function u(v,M){for(var b=v.length,E=s.mallocUint8(b),x=0;x<b;++x)E[x]=v[x]<M|0;return E}(M,+b),T=function g(v,M){for(var b=v.length,x=s.mallocUint32(2*(M*(M+1)/2*b|0)),S=0,T=0;T<b;++T)for(var n=v[T],C=(M=n.length,0);C<M;++C)for(var p=0;p<C;++p){var F=n[p],D=n[C];x[S++]=0|Math.min(F,D),x[S++]=0|Math.max(F,D)}a(e(x,[S/2|0,2]));var k=2;for(T=2;T<S;T+=2)x[T-2]===x[T]&&x[T-1]===x[T+1]||(x[k++]=x[T],x[k++]=x[T+1]);return e(x,[k/2|0,2])}(v,E),n=function c(v,M,b,E){for(var x=v.data,S=v.shape[0],T=s.mallocDouble(S),n=0,C=0;C<S;++C){var p=x[2*C],F=x[2*C+1];if(b[p]!==b[F]){var D=M[p],N=M[F];x[2*n]=p,x[2*n+1]=F,T[n++]=(N-E)/(N-D)}}return v.shape[0]=n,e(T,[n])}(T,M,S,+b),C=function w(v,M){var b=s.mallocInt32(2*M),E=v.shape[0],x=v.data;b[0]=0;for(var S=0,T=0;T<E;++T){var n=x[2*T];if(n!==S){for(b[2*S+1]=T;++S<n;)b[2*S]=T,b[2*S+1]=T;b[2*S]=T}}for(b[2*S+1]=E;++S<M;)b[2*S]=b[2*S+1]=E;return b}(T,0|M.length),p=h(E)(v,T.data,C,S),F=function d(v){for(var M=0|v.shape[0],b=v.data,E=new Array(M),x=0;x<M;++x)E[x]=[b[2*x],b[2*x+1]];return E}(T),D=[].slice.call(n.data,0,n.shape[0]);return s.free(S),s.free(T.data),s.free(n.data),s.free(C),{cells:p,vertexIds:F,vertexWeights:D}};var e=r(5050),s=r(5306),a=r(8729),h=r(1168)},1168:function(l){"use strict";l.exports=function r(e){return m[e]()};var m=[function(){return function a(h,f,u,g){for(var c=h.length,d=0;d<c;++d);return[]}},function(){function s(h,f,u,g){for(var c=0|Math.min(u,g),w=0|Math.max(u,g),d=h[2*c],o=h[2*c+1];d<o;){var v=d+o>>1,M=f[2*v+1];if(M===w)return v;w<M?o=v:d=v+1}return d}return function a(h,f,u,g){for(var c=h.length,w=[],d=0;d<c;++d){var o=h[d];if(2===o.length){var M=(g[o[0]]<<0)+(g[o[1]]<<1);if(0===M||3===M)continue;switch(M){case 0:case 3:break;case 1:w.push([s(u,f,o[0],o[1])]);break;case 2:w.push([s(u,f,o[1],o[0])])}}}return w}},function(){function s(h,f,u,g){for(var c=0|Math.min(u,g),w=0|Math.max(u,g),d=h[2*c],o=h[2*c+1];d<o;){var v=d+o>>1,M=f[2*v+1];if(M===w)return v;w<M?o=v:d=v+1}return d}return function a(h,f,u,g){for(var c=h.length,w=[],d=0;d<c;++d){var o=h[d],v=o.length;if(3===v){if(0==(M=(g[o[0]]<<0)+(g[o[1]]<<1)+(g[o[2]]<<2))||7===M)continue;switch(M){case 0:case 7:break;case 1:w.push([s(u,f,o[0],o[2]),s(u,f,o[0],o[1])]);break;case 2:w.push([s(u,f,o[1],o[0]),s(u,f,o[1],o[2])]);break;case 3:w.push([s(u,f,o[0],o[2]),s(u,f,o[1],o[2])]);break;case 4:w.push([s(u,f,o[2],o[1]),s(u,f,o[2],o[0])]);break;case 5:w.push([s(u,f,o[2],o[1]),s(u,f,o[0],o[1])]);break;case 6:w.push([s(u,f,o[1],o[0]),s(u,f,o[2],o[0])])}}else if(2===v){var M;if(0==(M=(g[o[0]]<<0)+(g[o[1]]<<1))||3===M)continue;switch(M){case 0:case 3:break;case 1:w.push([s(u,f,o[0],o[1])]);break;case 2:w.push([s(u,f,o[1],o[0])])}}}return w}},function(){function s(h,f,u,g){for(var c=0|Math.min(u,g),w=0|Math.max(u,g),d=h[2*c],o=h[2*c+1];d<o;){var v=d+o>>1,M=f[2*v+1];if(M===w)return v;w<M?o=v:d=v+1}return d}return function a(h,f,u,g){for(var c=h.length,w=[],d=0;d<c;++d){var o=h[d],v=o.length;if(4===v){if(0==(M=(g[o[0]]<<0)+(g[o[1]]<<1)+(g[o[2]]<<2)+(g[o[3]]<<3))||15===M)continue;switch(M){case 0:case 15:break;case 1:w.push([s(u,f,o[0],o[1]),s(u,f,o[0],o[2]),s(u,f,o[0],o[3])]);break;case 2:w.push([s(u,f,o[1],o[2]),s(u,f,o[1],o[0]),s(u,f,o[1],o[3])]);break;case 3:w.push([s(u,f,o[1],o[2]),s(u,f,o[0],o[2]),s(u,f,o[0],o[3])],[s(u,f,o[1],o[3]),s(u,f,o[1],o[2]),s(u,f,o[0],o[3])]);break;case 4:w.push([s(u,f,o[2],o[0]),s(u,f,o[2],o[1]),s(u,f,o[2],o[3])]);break;case 5:w.push([s(u,f,o[0],o[1]),s(u,f,o[2],o[1]),s(u,f,o[0],o[3])],[s(u,f,o[2],o[1]),s(u,f,o[2],o[3]),s(u,f,o[0],o[3])]);break;case 6:w.push([s(u,f,o[2],o[0]),s(u,f,o[1],o[0]),s(u,f,o[1],o[3])],[s(u,f,o[2],o[3]),s(u,f,o[2],o[0]),s(u,f,o[1],o[3])]);break;case 7:w.push([s(u,f,o[0],o[3]),s(u,f,o[1],o[3]),s(u,f,o[2],o[3])]);break;case 8:w.push([s(u,f,o[3],o[1]),s(u,f,o[3],o[0]),s(u,f,o[3],o[2])]);break;case 9:w.push([s(u,f,o[3],o[1]),s(u,f,o[0],o[1]),s(u,f,o[0],o[2])],[s(u,f,o[3],o[2]),s(u,f,o[3],o[1]),s(u,f,o[0],o[2])]);break;case 10:w.push([s(u,f,o[1],o[0]),s(u,f,o[3],o[0]),s(u,f,o[1],o[2])],[s(u,f,o[3],o[0]),s(u,f,o[3],o[2]),s(u,f,o[1],o[2])]);break;case 11:w.push([s(u,f,o[1],o[2]),s(u,f,o[0],o[2]),s(u,f,o[3],o[2])]);break;case 12:w.push([s(u,f,o[3],o[0]),s(u,f,o[2],o[0]),s(u,f,o[2],o[1])],[s(u,f,o[3],o[1]),s(u,f,o[3],o[0]),s(u,f,o[2],o[1])]);break;case 13:w.push([s(u,f,o[0],o[1]),s(u,f,o[2],o[1]),s(u,f,o[3],o[1])]);break;case 14:w.push([s(u,f,o[2],o[0]),s(u,f,o[1],o[0]),s(u,f,o[3],o[0])])}}else if(3===v){if(0==(M=(g[o[0]]<<0)+(g[o[1]]<<1)+(g[o[2]]<<2))||7===M)continue;switch(M){case 0:case 7:break;case 1:w.push([s(u,f,o[0],o[2]),s(u,f,o[0],o[1])]);break;case 2:w.push([s(u,f,o[1],o[0]),s(u,f,o[1],o[2])]);break;case 3:w.push([s(u,f,o[0],o[2]),s(u,f,o[1],o[2])]);break;case 4:w.push([s(u,f,o[2],o[1]),s(u,f,o[2],o[0])]);break;case 5:w.push([s(u,f,o[2],o[1]),s(u,f,o[0],o[1])]);break;case 6:w.push([s(u,f,o[1],o[0]),s(u,f,o[2],o[0])])}}else if(2===v){var M;if(0==(M=(g[o[0]]<<0)+(g[o[1]]<<1))||3===M)continue;switch(M){case 0:case 3:break;case 1:w.push([s(u,f,o[0],o[1])]);break;case 2:w.push([s(u,f,o[1],o[0])])}}}return w}}]},8211:function(l,m,r){"use strict";r(2288),r(1731),m.H=function g(C,p){var F=C.length,D=C.length-p.length,N=Math.min;if(D)return D;switch(F){case 0:return 0;case 1:return C[0]-p[0];case 2:return(U=C[0]+C[1]-p[0]-p[1])||N(C[0],C[1])-N(p[0],p[1]);case 3:var k=C[0]+C[1],z=p[0]+p[1];if(U=k+C[2]-(z+p[2]))return U;var U,B=N(C[0],C[1]),O=N(p[0],p[1]);return(U=N(B,C[2])-N(O,p[2]))||N(B+C[2],k)-N(O+p[2],z);default:var G=C.slice(0);G.sort();var J=p.slice(0);J.sort();for(var et=0;et<F;++et)if(D=G[et]-J[et])return D;return 0}}},9392:function(l,m){"use strict";function e(a){var h=32;return(a&=-a)&&h--,65535&a&&(h-=16),16711935&a&&(h-=8),252645135&a&&(h-=4),858993459&a&&(h-=2),1431655765&a&&(h-=1),h}m.INT_BITS=32,m.INT_MAX=2147483647,m.INT_MIN=-1<<31,m.sign=function(a){return(a>0)-(a<0)},m.abs=function(a){var h=a>>31;return(a^h)-h},m.min=function(a,h){return h^(a^h)&-(a<h)},m.max=function(a,h){return a^(a^h)&-(a<h)},m.isPow2=function(a){return!(a&a-1||!a)},m.log2=function(a){var h,f;return h=(a>65535)<<4,h|=f=((a>>>=h)>255)<<3,h|=f=((a>>>=f)>15)<<2,(h|=f=((a>>>=f)>3)<<1)|(a>>>=f)>>1},m.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},m.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},m.countTrailingZeros=e,m.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,1+((a|=a>>>8)|a>>>16)},m.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},m.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var s=new Array(256);(function(a){for(var h=0;h<256;++h){var f=h,u=h,g=7;for(f>>>=1;f;f>>>=1)u<<=1,u|=1&f,--g;a[h]=u<<g&255}})(s),m.reverse=function(a){return s[255&a]<<24|s[a>>>8&255]<<16|s[a>>>16&255]<<8|s[a>>>24&255]},m.interleave2=function(a,h){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(h=1431655765&((h=858993459&((h=252645135&((h=16711935&((h&=65535)|h<<8))|h<<4))|h<<2))|h<<1))<<1},m.deinterleave2=function(a,h){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>h&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},m.interleave3=function(a,h,f){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(h=1227133513&((h=3272356035&((h=251719695&((h=4278190335&((h&=1023)|h<<16))|h<<8))|h<<4))|h<<2))<<1)|(f=1227133513&((f=3272356035&((f=251719695&((f=4278190335&((f&=1023)|f<<16))|f<<8))|f<<4))|f<<2))<<2},m.deinterleave3=function(a,h){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>h&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},m.nextCombination=function(a){var h=a|a-1;return h+1|(~h&-~h)-1>>>e(a)+1}},6656:function(l,m,r){"use strict";var e=r(9392),s=r(9521);function u(n,C){var p=n.length,F=n.length-C.length,D=Math.min;if(F)return F;switch(p){case 0:return 0;case 1:return n[0]-C[0];case 2:return(O=n[0]+n[1]-C[0]-C[1])||D(n[0],n[1])-D(C[0],C[1]);case 3:var N=n[0]+n[1],k=C[0]+C[1];if(O=N+n[2]-(k+C[2]))return O;var O,z=D(n[0],n[1]),B=D(C[0],C[1]);return(O=D(z,n[2])-D(B,C[2]))||D(z+n[2],N)-D(B+C[2],k);default:var U=n.slice(0);U.sort();var G=C.slice(0);G.sort();for(var J=0;J<p;++J)if(F=U[J]-G[J])return F;return 0}}function g(n,C){return u(n[0],C[0])}function c(n,C){if(C){for(var p=n.length,F=new Array(p),D=0;D<p;++D)F[D]=[n[D],C[D]];for(F.sort(g),D=0;D<p;++D)n[D]=F[D][0],C[D]=F[D][1];return n}return n.sort(u),n}function w(n){if(0===n.length)return[];for(var C=1,p=n.length,F=1;F<p;++F){var D=n[F];if(u(D,n[F-1])){if(F===C){C++;continue}n[C++]=D}}return n.length=C,n}function d(n,C){for(var p=0,F=n.length-1,D=-1;p<=F;){var N=p+F>>1,k=u(n[N],C);k<=0?(0===k&&(D=N),p=N+1):k>0&&(F=N-1)}return D}function o(n,C){for(var p=new Array(n.length),F=0,D=p.length;F<D;++F)p[F]=[];for(var N=[],k=(F=0,C.length);F<k;++F)for(var z=C[F],B=z.length,O=1,U=1<<B;O<U;++O){N.length=e.popCount(O);for(var G=0,J=0;J<B;++J)O&1<<J&&(N[G++]=z[J]);var et=d(n,N);if(!(et<0))for(;p[et++].push(F),!(et>=n.length||0!==u(n[et],N)););}return p}function b(n,C){if(C<0)return[];for(var p=[],F=(1<<C+1)-1,D=0;D<n.length;++D)for(var N=n[D],k=F;k<1<<N.length;k=e.nextCombination(k)){for(var z=new Array(C+1),B=0,O=0;O<N.length;++O)k&1<<O&&(z[B++]=N[O]);p.push(z)}return c(p)}m.dimension=function a(n){for(var C=0,p=Math.max,F=0,D=n.length;F<D;++F)C=p(C,n[F].length);return C-1},m.countVertices=function h(n){for(var C=-1,p=Math.max,F=0,D=n.length;F<D;++F)for(var N=n[F],k=0,z=N.length;k<z;++k)C=p(C,N[k]);return C+1},m.cloneCells=function f(n){for(var C=new Array(n.length),p=0,F=n.length;p<F;++p)C[p]=n[p].slice(0);return C},m.compareCells=u,m.normalize=c,m.unique=w,m.findCell=d,m.incidence=o,m.dual=function v(n,C){if(!C)return o(w(b(n,0)),n);for(var p=new Array(C),F=0;F<C;++F)p[F]=[];F=0;for(var D=n.length;F<D;++F)for(var N=n[F],k=0,z=N.length;k<z;++k)p[N[k]].push(F);return p},m.explode=function M(n){for(var C=[],p=0,F=n.length;p<F;++p)for(var D=n[p],N=0|D.length,k=1,z=1<<N;k<z;++k){for(var B=[],O=0;O<N;++O)k>>>O&1&&B.push(D[O]);C.push(B)}return c(C)},m.skeleton=b,m.boundary=function E(n){for(var C=[],p=0,F=n.length;p<F;++p)for(var D=n[p],N=0,k=D.length;N<k;++N){for(var z=new Array(D.length-1),B=0,O=0;B<k;++B)B!==N&&(z[O++]=D[B]);C.push(z)}return c(C)},m.connectedComponents=function T(n,C){return C?function x(n,C){for(var p=new s(C),F=0;F<n.length;++F)for(var D=n[F],N=0;N<D.length;++N)for(var k=N+1;k<D.length;++k)p.link(D[N],D[k]);var z=[],B=p.ranks;for(F=0;F<B.length;++F)B[F]=-1;for(F=0;F<n.length;++F){var O=p.find(n[F][0]);B[O]<0?(B[O]=z.length,z.push([n[F].slice(0)])):z[B[O]].push(n[F].slice(0))}return z}(n,C):function S(n){for(var C=w(c(b(n,0))),p=new s(C.length),F=0;F<n.length;++F)for(var D=n[F],N=0;N<D.length;++N)for(var k=d(C,[D[N]]),z=N+1;z<D.length;++z)p.link(k,d(C,[D[z]]));var B=[],O=p.ranks;for(F=0;F<O.length;++F)O[F]=-1;for(F=0;F<n.length;++F){var U=p.find(d(C,[n[F][0]]));O[U]<0?(O[U]=B.length,B.push([n[F].slice(0)])):B[O[U]].push(n[F].slice(0))}return B}(n)}},9521:function(l){"use strict";function m(r){this.roots=new Array(r),this.ranks=new Array(r);for(var e=0;e<r;++e)this.roots[e]=e,this.ranks[e]=0}l.exports=m,m.prototype.length=function(){return this.roots.length},m.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},m.prototype.find=function(r){for(var e=this.roots;e[r]!==r;){var s=e[r];e[r]=e[s],r=s}return r},m.prototype.link=function(r,e){var s=this.find(r),a=this.find(e);if(s!==a){var h=this.ranks,f=this.roots,u=h[s],g=h[a];u<g?f[s]=a:g<u?f[a]=s:(f[a]=s,++h[s])}}},8243:function(l,m,r){"use strict";l.exports=function h(f,u,g){for(var c=u.length,w=f.length,d=new Array(c),o=new Array(c),v=new Array(c),M=new Array(c),b=0;b<c;++b)d[b]=o[b]=-1,v[b]=1/0,M[b]=!1;for(b=0;b<w;++b){var E=f[b];if(2!==E.length)throw new Error("Input must be a graph");var x=E[1],S=E[0];o[S]=-1!==o[S]?-2:x,d[x]=-1!==d[x]?-2:S}function T(j){if(M[j])return 1/0;var rt=d[j],H=o[j];return rt<0||H<0?1/0:function a(f,u,g){return Math.abs(e(f,u,g))/Math.sqrt(Math.pow(u[0]-g[0],2)+Math.pow(u[1]-g[1],2))}(u[j],u[rt],u[H])}function n(j,rt){var H=B[j],Z=B[rt];B[j]=Z,B[rt]=H,O[H]=rt,O[Z]=j}function C(j){return v[B[j]]}function p(j){return 1&j?j-1>>1:(j>>1)-1}function F(j){for(var rt=C(j);;){var H=rt,Z=2*j+1,it=2*(j+1),Q=j;if(Z<G){var Y=C(Z);Y<H&&(Q=Z,H=Y)}if(it<G&&C(it)<H&&(Q=it),Q===j)return j;n(j,Q),j=Q}}function D(j){for(var rt=C(j);j>0;){var H=p(j);if(!(H>=0&&rt<C(H)))return j;n(j,H),j=H}}function N(){if(G>0){var j=B[0];return n(0,G-1),G-=1,F(0),j}return-1}function k(j,rt){var H=B[j];return v[H]===rt?j:(v[H]=-1/0,D(j),N(),v[H]=rt,D((G+=1)-1))}function z(j){if(!M[j]){M[j]=!0;var rt=d[j],H=o[j];d[H]>=0&&(d[H]=rt),o[rt]>=0&&(o[rt]=H),O[rt]>=0&&k(O[rt],T(rt)),O[H]>=0&&k(O[H],T(H))}}var B=[],O=new Array(c);for(b=0;b<c;++b)(v[b]=T(b))<1/0?(O[b]=B.length,B.push(b)):O[b]=-1;var G=B.length;for(b=G>>1;b>=0;--b)F(b);for(;;){var J=N();if(J<0||v[J]>g)break;z(J)}var et=[];for(b=0;b<c;++b)M[b]||(O[b]=et.length,et.push(u[b].slice()));function lt(j,rt){if(j[rt]<0)return rt;var H=rt,Z=rt;do{var it=j[Z];if(!M[Z]||it<0||it===Z||(it=j[Z=it],!M[Z]||it<0||it===Z))break;Z=it,H=j[H]}while(H!==Z);for(var Q=rt;Q!==Z;Q=j[Q])j[Q]=Z;return Z}var K=[];return f.forEach(function(j){var rt=lt(d,j[0]),H=lt(o,j[1]);if(rt>=0&&H>=0&&rt!==H){var Z=O[rt],it=O[H];Z!==it&&K.push([Z,it])}}),s.unique(s.normalize(K)),{positions:et,edges:K}};var e=r(417),s=r(6656)},6638:function(l,m,r){"use strict";l.exports=function a(h,f){var u,g,c,w;if(f[0][0]<f[1][0])u=f[0],g=f[1];else{if(!(f[0][0]>f[1][0]))return s(f,h);u=f[1],g=f[0]}if(h[0][0]<h[1][0])c=h[0],w=h[1];else{if(!(h[0][0]>h[1][0]))return-s(h,f);c=h[1],w=h[0]}var d=e(u,g,w),o=e(u,g,c);if(d<0){if(o<=0)return d}else if(d>0){if(o>=0)return d}else if(o)return o;if(d=e(w,c,g),o=e(w,c,u),d<0){if(o<=0)return d}else if(d>0){if(o>=0)return d}else if(o)return o;return g[0]-w[0]};var e=r(417);function s(h,f){var u,g,v,M;if(f[0][0]<f[1][0])u=f[0],g=f[1];else{if(!(f[0][0]>f[1][0])){var c=Math.min(h[0][1],h[1][1]),w=Math.max(h[0][1],h[1][1]),d=Math.min(f[0][1],f[1][1]),o=Math.max(f[0][1],f[1][1]);return w<d?w-d:c>o?c-o:w-o}u=f[1],g=f[0]}h[0][1]<h[1][1]?(v=h[0],M=h[1]):(v=h[1],M=h[0]);var b=e(g,u,v);return b||(b=e(g,u,M))?b:M-g}},4385:function(l,m,r){"use strict";l.exports=function o(v){for(var M=v.length,b=2*M,E=new Array(b),x=0;x<M;++x){var S=v[x],T=S[0][0]<S[1][0];E[2*x]=new d(S[0][0],S,T,x),E[2*x+1]=new d(S[1][0],S,!T,x)}E.sort(function(B,O){var U=B.x-O.x;return U||(U=B.create-O.create)?U:Math.min(B.segment[0][1],B.segment[1][1])-Math.min(O.segment[0][1],O.segment[1][1])});var n=s(h),C=[],p=[],F=[];for(x=0;x<b;){for(var N=E[x].x,k=[];x<b;){var z=E[x];if(z.x!==N)break;x+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(k.push(new w(z.segment[0][1],z.index,!0,!0)),k.push(new w(z.segment[1][1],z.index,!1,!1))):(k.push(new w(z.segment[1][1],z.index,!0,!1)),k.push(new w(z.segment[0][1],z.index,!1,!0)))):n=z.create?n.insert(z.segment,z.index):n.remove(z.segment)}C.push(n.root),p.push(N),F.push(k)}return new f(C,p,F)};var e=r(5070),s=r(7080),a=r(417),h=r(6638);function f(v,M,b){this.slabs=v,this.coordinates=M,this.horizontal=b}function g(v,M){return v.y-M}function c(v,M){for(var b=null;v;){var x,S,E=v.key;E[0][0]<E[1][0]?(x=E[0],S=E[1]):(x=E[1],S=E[0]);var T=a(x,S,M);if(T<0)v=v.left;else if(T>0)if(M[0]!==E[1][0])b=v,v=v.right;else{if(n=c(v.right,M))return n;v=v.left}else{if(M[0]!==E[1][0])return v;var n;if(n=c(v.right,M))return n;v=v.left}}return b}function w(v,M,b,E){this.y=v,this.index=M,this.start=b,this.closed=E}function d(v,M,b,E){this.x=v,this.segment=M,this.create=b,this.index=E}f.prototype.castUp=function(v){var M=e.le(this.coordinates,v[0]);if(M<0)return-1;var E=c(this.slabs[M],v),x=-1;if(E&&(x=E.value),this.coordinates[M]===v[0]){var S=null;if(E&&(S=E.key),M>0){var T=c(this.slabs[M-1],v);T&&(S?h(T.key,S)>0&&(S=T.key,x=T.value):(x=T.value,S=T.key))}var n=this.horizontal[M];if(n.length>0){var C=e.ge(n,v[1],g);if(C<n.length){var p=n[C];if(v[1]===p.y){if(p.closed)return p.index;for(;C<n.length-1&&n[C+1].y===v[1];)if((p=n[C+=1]).closed)return p.index;if(p.y===v[1]&&!p.start){if((C+=1)>=n.length)return x;p=n[C]}}if(p.start)if(S){var F=a(S[0],S[1],[v[0],p.y]);S[0][0]>S[1][0]&&(F=-F),F>0&&(x=p.index)}else x=p.index;else p.y!==v[1]&&(x=p.index)}}}return x}},4670:function(l,m,r){"use strict";var e=r(9130),s=r(9662);function a(c,w){var d=s(e(c,w),[w[w.length-1]]);return d[d.length-1]}function h(c,w,d,o){var M=-w/(o-w);M<0?M=0:M>1&&(M=1);for(var b=1-M,E=c.length,x=new Array(E),S=0;S<E;++S)x[S]=M*c[S]+b*d[S];return x}l.exports=function f(c,w){for(var d=[],o=[],v=a(c[c.length-1],w),M=c[c.length-1],b=c[0],E=0;E<c.length;++E,M=b){var x=a(b=c[E],w);if(v<0&&x>0||v>0&&x<0){var S=h(M,x,b,v);d.push(S),o.push(S.slice())}x<0?o.push(b.slice()):x>0?d.push(b.slice()):(d.push(b.slice()),o.push(b.slice())),v=x}return{positive:d,negative:o}},l.exports.positive=function u(c,w){for(var d=[],o=a(c[c.length-1],w),v=c[c.length-1],M=c[0],b=0;b<c.length;++b,v=M){var E=a(M=c[b],w);(o<0&&E>0||o>0&&E<0)&&d.push(h(v,E,M,o)),E>=0&&d.push(M.slice()),o=E}return d},l.exports.negative=function g(c,w){for(var d=[],o=a(c[c.length-1],w),v=c[c.length-1],M=c[0],b=0;b<c.length;++b,v=M){var E=a(M=c[b],w);(o<0&&E>0||o>0&&E<0)&&d.push(h(v,E,M,o)),E<=0&&d.push(M.slice()),o=E}return d}},8974:function(l,m,r){var e;!function(){"use strict";var s={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(c){return f(g(c),arguments)}function h(c,w){return a.apply(null,[c].concat(w||[]))}function f(c,w){var v,b,E,x,S,T,n,C,p,d=1,o=c.length,M="";for(b=0;b<o;b++)if("string"==typeof c[b])M+=c[b];else if("object"==typeof c[b]){if((x=c[b]).keys)for(v=w[d],E=0;E<x.keys.length;E++){if(null==v)throw new Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',x.keys[E],x.keys[E-1]));v=v[x.keys[E]]}else v=x.param_no?w[x.param_no]:w[d++];if(s.not_type.test(x.type)&&s.not_primitive.test(x.type)&&v instanceof Function&&(v=v()),s.numeric_arg.test(x.type)&&"number"!=typeof v&&isNaN(v))throw new TypeError(a("[sprintf] expecting number but found %T",v));switch(s.number.test(x.type)&&(C=v>=0),x.type){case"b":v=parseInt(v,10).toString(2);break;case"c":v=String.fromCharCode(parseInt(v,10));break;case"d":case"i":v=parseInt(v,10);break;case"j":v=JSON.stringify(v,null,x.width?parseInt(x.width):0);break;case"e":v=x.precision?parseFloat(v).toExponential(x.precision):parseFloat(v).toExponential();break;case"f":v=x.precision?parseFloat(v).toFixed(x.precision):parseFloat(v);break;case"g":v=x.precision?String(Number(v.toPrecision(x.precision))):parseFloat(v);break;case"o":v=(parseInt(v,10)>>>0).toString(8);break;case"s":v=String(v),v=x.precision?v.substring(0,x.precision):v;break;case"t":v=String(!!v),v=x.precision?v.substring(0,x.precision):v;break;case"T":v=Object.prototype.toString.call(v).slice(8,-1).toLowerCase(),v=x.precision?v.substring(0,x.precision):v;break;case"u":v=parseInt(v,10)>>>0;break;case"v":v=v.valueOf(),v=x.precision?v.substring(0,x.precision):v;break;case"x":v=(parseInt(v,10)>>>0).toString(16);break;case"X":v=(parseInt(v,10)>>>0).toString(16).toUpperCase()}s.json.test(x.type)?M+=v:(!s.number.test(x.type)||C&&!x.sign?p="":(p=C?"+":"-",v=v.toString().replace(s.sign,"")),T=x.pad_char?"0"===x.pad_char?"0":x.pad_char.charAt(1):" ",n=x.width-(p+v).length,S=x.width&&n>0?T.repeat(n):"",M+=x.align?p+v+S:"0"===T?p+S+v:S+p+v)}return M}var u=Object.create(null);function g(c){if(u[c])return u[c];for(var d,w=c,o=[],v=0;w;){if(null!==(d=s.text.exec(w)))o.push(d[0]);else if(null!==(d=s.modulo.exec(w)))o.push("%");else{if(null===(d=s.placeholder.exec(w)))throw new SyntaxError("[sprintf] unexpected placeholder");if(d[2]){v|=1;var M=[],b=d[2],E=[];if(null===(E=s.key.exec(b)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(M.push(E[1]);""!==(b=b.substring(E[0].length));)if(null!==(E=s.key_access.exec(b)))M.push(E[1]);else{if(null===(E=s.index_access.exec(b)))throw new SyntaxError("[sprintf] failed to parse named argument key");M.push(E[1])}d[2]=M}else v|=2;if(3===v)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:d[0],param_no:d[1],keys:d[2],sign:d[3],pad_char:d[4],align:d[5],width:d[6],precision:d[7],type:d[8]})}w=w.substring(d[0].length)}return u[c]=o}m.sprintf=a,m.vsprintf=h,"undefined"!=typeof window&&(window.sprintf=a,window.vsprintf=h,void 0!==(e=function(){return{sprintf:a,vsprintf:h}}.call(m,r,m,l))&&(l.exports=e))}()},4162:function(l,m,r){"use strict";l.exports=function g(c,v){if(c.dimension<=0)return{positions:[],cells:[]};if(1===c.dimension)return function f(c,w){for(var d=s(c,w),o=d.length,v=new Array(o),M=new Array(o),b=0;b<o;++b)v[b]=[d[b]],M[b]=[b];return{positions:v,cells:M}}(c,v);var d=c.order.join()+"-"+c.dtype,o=u[d];return v=+v||0,o||(o=u[d]=function h(c,w){var o=a[c.length+"d"];if(o)return o(e,c,w)}(c.order,c.dtype)),o(c,v)};var e=r(9284),s=r(9584),a={"2d":function(c,w,d){var o=c({order:w,scalarArguments:3,getters:"generic"===d?[0]:void 0,phase:function(M,b,E,x){return M>x|0},vertex:function(M,b,E,x,S,T,n,C,p,F,D,N,k){var z=(n<<0)+(C<<1)+(p<<2)+(F<<3)|0;if(0!==z&&15!==z)switch(z){case 0:case 15:D.push([M-.5,b-.5]);break;case 1:D.push([M-.25-.25*(x+E-2*k)/(E-x),b-.25-.25*(S+E-2*k)/(E-S)]);break;case 2:D.push([M-.75-.25*(-x-E+2*k)/(x-E),b-.25-.25*(T+x-2*k)/(x-T)]);break;case 3:D.push([M-.5,b-.5-.5*(S+E+T+x-4*k)/(E-S+x-T)]);break;case 4:D.push([M-.25-.25*(T+S-2*k)/(S-T),b-.75-.25*(-S-E+2*k)/(S-E)]);break;case 5:D.push([M-.5-.5*(x+E+T+S-4*k)/(E-x+S-T),b-.5]);break;case 6:D.push([M-.5-.25*(-x-E+T+S)/(x-E+S-T),b-.5-.25*(-S-E+T+x)/(S-E+x-T)]);break;case 7:D.push([M-.75-.25*(T+S-2*k)/(S-T),b-.75-.25*(T+x-2*k)/(x-T)]);break;case 8:D.push([M-.75-.25*(-T-S+2*k)/(T-S),b-.75-.25*(-T-x+2*k)/(T-x)]);break;case 9:D.push([M-.5-.25*(x+E+-T-S)/(E-x+T-S),b-.5-.25*(S+E+-T-x)/(E-S+T-x)]);break;case 10:D.push([M-.5-.5*(-x-E-T-S+4*k)/(x-E+T-S),b-.5]);break;case 11:D.push([M-.25-.25*(-T-S+2*k)/(T-S),b-.75-.25*(S+E-2*k)/(E-S)]);break;case 12:D.push([M-.5,b-.5-.5*(-S-E-T-x+4*k)/(S-E+T-x)]);break;case 13:D.push([M-.75-.25*(x+E-2*k)/(E-x),b-.25-.25*(-T-x+2*k)/(T-x)]);break;case 14:D.push([M-.25-.25*(-x-E+2*k)/(x-E),b-.25-.25*(-S-E+2*k)/(S-E)])}},cell:function(M,b,E,x,S,T,n,C,p){C.push(S?[M,b]:[b,M])}});return function(v,M){var b=[],E=[];return o(v,b,E,M),{positions:b,cells:E}}}};var u={}},6946:function(l,m,r){"use strict";l.exports=function f(u,g,w){w=w||{};var d=a[u];d||(d=a[u]={" ":{data:new Float32Array(0),shape:.2}});var o=d[g];if(!o)if(g.length<=1||!/\d/.test(g))o=d[g]=function h(u){for(var g=u.cells,c=u.positions,w=new Float32Array(6*g.length),d=0,o=0,v=0;v<g.length;++v)for(var M=g[v],b=0;b<3;++b){var E=c[M[b]];w[d++]=E[0],w[d++]=E[1]+1.4,o=Math.max(E[0],o)}return{data:w,shape:o}}(e(g,{triangles:!0,font:u,textAlign:w.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var v=g.split(/(\d|\s)/),M=new Array(v.length),b=0,E=0,x=0;x<v.length;++x)M[x]=f(u,v[x]),b+=M[x].data.length,E+=M[x].shape,x>0&&(E+=.02);var S=new Float32Array(b),T=0,n=-.5*E;for(x=0;x<M.length;++x){for(var C=M[x].data,p=0;p<C.length;p+=2)S[T++]=C[p]+n,S[T++]=C[p+1];n+=M[x].shape+.02}o=d[g]={data:S,shape:E}}return o};var e=r(875),s=window||A.global||{},a=s.__TEXT_CACHE||{};s.__TEXT_CACHE={}},14:function(l,m,r){"use strict";var e=r(4405);l.exports=f;function a(u,g){var c=e(getComputedStyle(u).getPropertyValue(g));return c[0]*f(c[1],u)}function f(u,g){switch(g=g||document.body,u=(u||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),u){case"%":return g.clientHeight/100;case"ch":case"ex":return function h(u,g){var c=document.createElement("div");c.style["font-size"]="128"+u,g.appendChild(c);var w=a(c,"font-size")/128;return g.removeChild(c),w}(u,g);case"em":return a(g,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return 96;case"cm":return 96/2.54;case"mm":return 96/25.4;case"pt":return 96/72;case"pc":return 16}return 1}},3440:function(l,m,r){"use strict";l.exports=function M(b){var E=(b=b||{}).center||[0,0,0],x=b.up||[0,1,0],S=b.right||w(x),T=b.radius||1,n=b.theta||0,C=b.phi||0;if(E=[].slice.call(E,0,3),x=[].slice.call(x,0,3),f(x,x),S=[].slice.call(S,0,3),f(S,S),"eye"in b){var p=b.eye,F=[p[0]-E[0],p[1]-E[1],p[2]-E[2]];h(S,F,x),g(S[0],S[1],S[2])<1e-6?S=w(x):f(S,S),T=g(F[0],F[1],F[2]);var D=u(x,F)/T,N=u(S,F)/T;C=Math.acos(D),n=Math.acos(N)}return T=Math.log(T),new d(b.zoomMin,b.zoomMax,E,x,S,T,n,C)};var e=r(8444),s=r(7437),a=r(4422),h=r(903),f=r(899),u=r(9305);function g(b,E,x){return Math.sqrt(Math.pow(b,2)+Math.pow(E,2)+Math.pow(x,2))}function c(b){return Math.min(1,Math.max(-1,b))}function w(b){var E=Math.abs(b[0]),x=Math.abs(b[1]),S=Math.abs(b[2]),T=[0,0,0];E>Math.max(x,S)?T[2]=1:x>Math.max(E,S)?T[0]=1:T[1]=1;for(var n=0,C=0,p=0;p<3;++p)n+=b[p]*b[p],C+=T[p]*b[p];for(p=0;p<3;++p)T[p]-=C/n*b[p];return f(T,T),T}function d(b,E,x,S,T,n,C,p){this.center=e(x),this.up=e(S),this.right=e(T),this.radius=e([n]),this.angle=e([C,p]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(b,E),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var F=0;F<16;++F)this.computedMatrix[F]=.5;this.recalcMatrix(0)}var o=d.prototype;o.setDistanceLimits=function(b,E){b=b>0?Math.log(b):-1/0,E=E>0?Math.log(E):1/0,E=Math.max(E,b),this.radius.bounds[0][0]=b,this.radius.bounds[1][0]=E},o.getDistanceLimits=function(b){var E=this.radius.bounds[0];return b?(b[0]=Math.exp(E[0][0]),b[1]=Math.exp(E[1][0]),b):[Math.exp(E[0][0]),Math.exp(E[1][0])]},o.recalcMatrix=function(b){this.center.curve(b),this.up.curve(b),this.right.curve(b),this.radius.curve(b),this.angle.curve(b);for(var E=this.computedUp,x=this.computedRight,S=0,T=0,n=0;n<3;++n)T+=E[n]*x[n],S+=E[n]*E[n];var C=Math.sqrt(S),p=0;for(n=0;n<3;++n)x[n]-=E[n]*T/S,p+=x[n]*x[n],E[n]/=C;var F=Math.sqrt(p);for(n=0;n<3;++n)x[n]/=F;var D=this.computedToward;h(D,E,x),f(D,D);var N=Math.exp(this.computedRadius[0]),k=this.computedAngle[0],z=this.computedAngle[1],B=Math.cos(k),O=Math.sin(k),U=Math.cos(z),G=Math.sin(z),J=this.computedCenter,et=B*U,at=O*U,lt=G,K=-B*G,j=-O*G,rt=U,H=this.computedEye,Z=this.computedMatrix;for(n=0;n<3;++n){var it=et*x[n]+at*D[n]+lt*E[n];Z[4*n+1]=K*x[n]+j*D[n]+rt*E[n],Z[4*n+2]=it,Z[4*n+3]=0}var Q=Z[1],Y=Z[5],nt=Z[9],_=Z[2],st=Z[6],dt=Z[10],xt=Y*dt-nt*st,yt=nt*_-Q*dt,St=Q*st-Y*_,Et=g(xt,yt,St);for(yt/=Et,St/=Et,Z[0]=xt/=Et,Z[4]=yt,Z[8]=St,n=0;n<3;++n)H[n]=J[n]+Z[2+4*n]*N;for(n=0;n<3;++n){p=0;for(var Tt=0;Tt<3;++Tt)p+=Z[n+4*Tt]*H[Tt];Z[12+n]=-p}Z[15]=1},o.getMatrix=function(b,E){this.recalcMatrix(b);var x=this.computedMatrix;if(E){for(var S=0;S<16;++S)E[S]=x[S];return E}return x};var v=[0,0,0];o.rotate=function(b,E,x,S){if(this.angle.move(b,E,x),S){this.recalcMatrix(b);var T=this.computedMatrix;v[0]=T[2],v[1]=T[6],v[2]=T[10];for(var n=this.computedUp,C=this.computedRight,p=this.computedToward,F=0;F<3;++F)T[4*F]=n[F],T[4*F+1]=C[F],T[4*F+2]=p[F];for(a(T,T,S,v),F=0;F<3;++F)n[F]=T[4*F],C[F]=T[4*F+1];this.up.set(b,n[0],n[1],n[2]),this.right.set(b,C[0],C[1],C[2])}},o.pan=function(b,E,x,S){E=E||0,x=x||0,S=S||0,this.recalcMatrix(b);var T=this.computedMatrix,C=(Math.exp(this.computedRadius[0]),T[1]),p=T[5],F=T[9],D=g(C,p,F),N=T[0],k=T[4],z=T[8],B=N*(C/=D)+k*(p/=D)+z*(F/=D),O=g(N-=C*B,k-=p*B,z-=F*B);this.center.move(b,(N/=O)*E+C*x,(k/=O)*E+p*x,(z/=O)*E+F*x);var et=Math.exp(this.computedRadius[0]);et=Math.max(1e-4,et+S),this.radius.set(b,Math.log(et))},o.translate=function(b,E,x,S){this.center.move(b,E||0,x||0,S||0)},o.setMatrix=function(b,E,x,S){var T=1;"number"==typeof x&&(T=0|x),(T<0||T>3)&&(T=1);var n=(T+2)%3;E||(this.recalcMatrix(b),E=this.computedMatrix);var p=E[T],F=E[T+4],D=E[T+8];if(S){var k=Math.abs(p),z=Math.abs(F),B=Math.abs(D),O=Math.max(k,z,B);k===O?(p=p<0?-1:1,F=D=0):B===O?(D=D<0?-1:1,p=F=0):(F=F<0?-1:1,p=D=0)}else{var N=g(p,F,D);p/=N,F/=N,D/=N}var H,Z,U=E[n],G=E[n+4],J=E[n+8],et=U*p+G*F+J*D,at=g(U-=p*et,G-=F*et,J-=D*et),lt=F*(J/=at)-D*(G/=at),K=D*(U/=at)-p*J,j=p*G-F*U,rt=g(lt,K,j);if(lt/=rt,K/=rt,j/=rt,this.center.jump(b,Pt,Vt,re),this.radius.idle(b),this.up.jump(b,p,F,D),this.right.jump(b,U,G,J),2===T){var it=E[1],Q=E[5],Y=E[9];H=yt<0?-Math.PI/2:Math.PI/2,Z=Math.atan2(it*lt+Q*K+Y*j,it*U+Q*G+Y*J)}else{var st=E[2],dt=E[6],xt=E[10],yt=st*p+dt*F+xt*D,St=st*U+dt*G+xt*J,Et=st*lt+dt*K+xt*j;H=Math.asin(c(yt)),Z=Math.atan2(Et,St)}this.angle.jump(b,Z,H),this.recalcMatrix(b);var Tt=E[2],gt=E[6],Mt=E[10],Nt=this.computedMatrix;s(Nt,E);var Gt=Nt[15],Pt=Nt[12]/Gt,Vt=Nt[13]/Gt,re=Nt[14]/Gt,le=Math.exp(this.computedRadius[0]);this.center.jump(b,Pt-Tt*le,Vt-gt*le,re-Mt*le)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(b){this.center.idle(b),this.up.idle(b),this.right.idle(b),this.radius.idle(b),this.angle.idle(b)},o.flush=function(b){this.center.flush(b),this.up.flush(b),this.right.flush(b),this.radius.flush(b),this.angle.flush(b)},o.setDistance=function(b,E){E>0&&this.radius.set(b,Math.log(E))},o.lookAt=function(b,E,x,S){this.recalcMatrix(b),E=E||this.computedEye,x=x||this.computedCenter;var T=(S=S||this.computedUp)[0],n=S[1],C=S[2],p=g(T,n,C);if(!(p<1e-6)){T/=p,n/=p,C/=p;var F=E[0]-x[0],D=E[1]-x[1],N=E[2]-x[2],k=g(F,D,N);if(!(k<1e-6)){F/=k,D/=k,N/=k;var z=this.computedRight,B=z[0],O=z[1],U=z[2],G=T*B+n*O+C*U,J=g(B-=G*T,O-=G*n,U-=G*C);if(!(J<.01&&(B=n*N-C*D,O=C*F-T*N,U=T*D-n*F,J=g(B,O,U),J<1e-6))){B/=J,O/=J,U/=J,this.up.set(b,T,n,C),this.right.set(b,B,O,U),this.center.set(b,x[0],x[1],x[2]),this.radius.set(b,Math.log(k));var et=n*U-C*O,at=C*B-T*U,lt=T*O-n*B,K=g(et,at,lt),rt=B*F+O*D+U*N,H=(et/=K)*F+(at/=K)*D+(lt/=K)*N,Z=Math.asin(c(T*F+n*D+C*N)),it=Math.atan2(H,rt),Q=this.angle._state,Y=Q[Q.length-1],nt=Q[Q.length-2];Y%=2*Math.PI;var _=Math.abs(Y+2*Math.PI-it),st=Math.abs(Y-it),dt=Math.abs(Y-2*Math.PI-it);_<st&&(Y+=2*Math.PI),dt<st&&(Y-=2*Math.PI),this.angle.jump(this.angle.lastT(),Y,nt),this.angle.set(b,it,Z)}}}}},9660:function(l){"use strict";l.exports=function r(e,s,a){var h=e*s,f=m*e,g=f-(f-e),c=e-g,w=m*s,o=w-(w-s),v=s-o,x=c*v-(h-g*o-c*o-g*v);return a?(a[0]=x,a[1]=h,a):[x,h]};var m=+(Math.pow(2,27)+1)},87:function(l){"use strict";l.exports=function m(r,e,s){var a=r+e,h=a-r,u=e-h,g=r-(a-h);return s?(s[0]=g+u,s[1]=a,s):[g+u,a]}},5306:function(l,m,r){"use strict";var e=r(2288),s=r(3094),a=r(2146).lW;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:s([32,0]),UINT16:s([32,0]),UINT32:s([32,0]),BIGUINT64:s([32,0]),INT8:s([32,0]),INT16:s([32,0]),INT32:s([32,0]),BIGINT64:s([32,0]),FLOAT:s([32,0]),DOUBLE:s([32,0]),DATA:s([32,0]),UINT8C:s([32,0]),BUFFER:s([32,0])});var h="undefined"!=typeof Uint8ClampedArray,f="undefined"!=typeof BigUint64Array,u="undefined"!=typeof BigInt64Array,g=r.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=s([32,0])),g.BIGUINT64||(g.BIGUINT64=s([32,0])),g.BIGINT64||(g.BIGINT64=s([32,0])),g.BUFFER||(g.BUFFER=s([32,0]));var c=g.DATA,w=g.BUFFER;function d(z){if(z){var O=e.log2(z.length||z.byteLength);c[O].push(z)}}function v(B){B=e.nextPow2(B);var O=e.log2(B),U=c[O];return U.length>0?U.pop():new ArrayBuffer(B)}function M(z){return new Uint8Array(v(z),0,z)}function b(z){return new Uint16Array(v(2*z),0,z)}function E(z){return new Uint32Array(v(4*z),0,z)}function x(z){return new Int8Array(v(z),0,z)}function S(z){return new Int16Array(v(2*z),0,z)}function T(z){return new Int32Array(v(4*z),0,z)}function n(z){return new Float32Array(v(4*z),0,z)}function C(z){return new Float64Array(v(8*z),0,z)}function p(z){return h?new Uint8ClampedArray(v(z),0,z):M(z)}function F(z){return f?new BigUint64Array(v(8*z),0,z):null}function D(z){return u?new BigInt64Array(v(8*z),0,z):null}function N(z){return new DataView(v(z),0,z)}function k(z){z=e.nextPow2(z);var B=e.log2(z),O=w[B];return O.length>0?O.pop():new a(z)}m.free=function(B){if(a.isBuffer(B))w[e.log2(B.length)].push(B);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(B)&&(B=B.buffer),!B)return;var U=0|e.log2(B.length||B.byteLength);c[U].push(B)}},m.freeUint8=m.freeUint16=m.freeUint32=m.freeBigUint64=m.freeInt8=m.freeInt16=m.freeInt32=m.freeBigInt64=m.freeFloat32=m.freeFloat=m.freeFloat64=m.freeDouble=m.freeUint8Clamped=m.freeDataView=function o(z){d(z.buffer)},m.freeArrayBuffer=d,m.freeBuffer=function(B){w[e.log2(B.length)].push(B)},m.malloc=function(B,O){if(void 0===O||"arraybuffer"===O)return v(B);switch(O){case"uint8":return M(B);case"uint16":return b(B);case"uint32":return E(B);case"int8":return x(B);case"int16":return S(B);case"int32":return T(B);case"float":case"float32":return n(B);case"double":case"float64":return C(B);case"uint8_clamped":return p(B);case"bigint64":return D(B);case"biguint64":return F(B);case"buffer":return k(B);case"data":case"dataview":return N(B);default:return null}return null},m.mallocArrayBuffer=v,m.mallocUint8=M,m.mallocUint16=b,m.mallocUint32=E,m.mallocInt8=x,m.mallocInt16=S,m.mallocInt32=T,m.mallocFloat32=m.mallocFloat=n,m.mallocFloat64=m.mallocDouble=C,m.mallocUint8Clamped=p,m.mallocBigUint64=F,m.mallocBigInt64=D,m.mallocDataView=N,m.mallocBuffer=k,m.clearCache=function(){for(var B=0;B<32;++B)g.UINT8[B].length=0,g.UINT16[B].length=0,g.UINT32[B].length=0,g.INT8[B].length=0,g.INT16[B].length=0,g.INT32[B].length=0,g.FLOAT[B].length=0,g.DOUBLE[B].length=0,g.BIGUINT64[B].length=0,g.BIGINT64[B].length=0,g.UINT8C[B].length=0,c[B].length=0,w[B].length=0}},1731:function(l){"use strict";function m(e){this.roots=new Array(e),this.ranks=new Array(e);for(var s=0;s<e;++s)this.roots[s]=s,this.ranks[s]=0}l.exports=m;var r=m.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},r.find=function(e){for(var s=e,a=this.roots;a[e]!==e;)e=a[e];for(;a[s]!==e;){var h=a[s];a[s]=e,s=h}return e},r.link=function(e,s){var a=this.find(e),h=this.find(s);if(a!==h){var f=this.ranks,u=this.roots,g=f[a],c=f[h];g<c?u[a]=h:c<g?u[h]=a:(u[h]=a,++f[a])}}},1215:function(l){"use strict";l.exports=function e(s,a,h){return 0===s.length?s:a?(h||s.sort(a),function m(s,a){for(var h=1,f=s.length,u=s[0],g=s[0],c=1;c<f;++c)if(g=u,a(u=s[c],g)){if(c===h){h++;continue}s[h++]=u}return s.length=h,s}(s,a)):(h||s.sort(),function r(s){for(var a=1,h=s.length,f=s[0],u=s[0],g=1;g<h;++g,u=f)if(u=f,(f=s[g])!==u){if(g===a){a++;continue}s[a++]=f}return s.length=a,s}(s))}},875:function(l,m,r){"use strict";l.exports=function h(f,u){return("object"!=typeof u||null===u)&&(u={}),e(f,u.canvas||s,u.context||a,u)};var e=r(712),s=null,a=null;"undefined"!=typeof document&&((s=document.createElement("canvas")).width=8192,s.height=1024,a=s.getContext("2d"))},712:function(l,m,r){l.exports=function D(N,k,z,B){var O=64,U=1.25,G={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return B&&(B.size&&B.size>0&&(O=B.size),B.lineSpacing&&B.lineSpacing>0&&(U=B.lineSpacing),B.styletags&&B.styletags.breaklines&&(G.breaklines=!!B.styletags.breaklines),B.styletags&&B.styletags.bolds&&(G.bolds=!!B.styletags.bolds),B.styletags&&B.styletags.italics&&(G.italics=!!B.styletags.italics),B.styletags&&B.styletags.subscripts&&(G.subscripts=!!B.styletags.subscripts),B.styletags&&B.styletags.superscripts&&(G.superscripts=!!B.styletags.superscripts)),z.font=[B.fontStyle,B.fontVariant,B.fontWeight,O+"px",B.font].filter(function(et){return et}).join(" "),z.textAlign="start",z.textBaseline="alphabetic",z.direction="ltr",F(function n(N,k,z,B,O,U){z=(z=z.replace(/\n/g,"")).replace(/\<br\>/g,!0===U.breaklines?"\n":" ");var G="",J=[];for(Y=0;Y<z.length;++Y)J[Y]=G;!0===U.bolds&&(J=S("b",c,z,J)),!0===U.italics&&(J=S("i",d,z,J)),!0===U.superscripts&&(J=S("sup","+1",z,J)),!0===U.subscripts&&(J=S("sub","-1",z,J));var et=[],at="";for(Y=0;Y<z.length;++Y)null!==J[Y]&&(at+=z[Y],et.push(J[Y]));var lt=at.split("\n"),K=lt.length,j=Math.round(O*B),rt=B,H=2*B,Z=0,it=K*j+H;N.height<it&&(N.height=it),k.fillStyle="#000",k.fillRect(0,0,N.width,N.height),k.fillStyle="#fff";var Q,Y,nt,_,st,dt=0,xt="";function yt(){if(""!==xt){var Vt=k.measureText(xt).width;k.fillText(xt,rt+nt,H+_),nt+=Vt}}function St(){return Math.round(st)+"px "}function Et(Vt,re){var le=""+k.font;if(!0===U.subscripts){var It=Vt.indexOf(E),Rt=re.indexOf(E),$t=It>-1?parseInt(Vt[1+It]):0,oe=Rt>-1?parseInt(re[1+Rt]):0;$t!==oe&&(le=le.replace(St(),"?px "),st*=Math.pow(.75,oe-$t),le=le.replace("?px ",St())),_+=.25*j*(oe-$t)}if(!0===U.superscripts){var se=Vt.indexOf(v),ve=re.indexOf(v),de=se>-1?parseInt(Vt[1+se]):0,jt=ve>-1?parseInt(re[1+ve]):0;de!==jt&&(le=le.replace(St(),"?px "),st*=Math.pow(.75,jt-de),le=le.replace("?px ",St())),_-=.25*j*(jt-de)}if(!0===U.bolds){var Ct=Vt.indexOf(c)>-1,Wt=re.indexOf(c)>-1;!Ct&&Wt&&(le=Xt?le.replace("italic ","italic bold "):"bold "+le),Ct&&!Wt&&(le=le.replace("bold ",""))}if(!0===U.italics){var Xt=Vt.indexOf(d)>-1,Ht=re.indexOf(d)>-1;!Xt&&Ht&&(le="italic "+le),Xt&&!Ht&&(le=le.replace("italic ",""))}k.font=le}for(Q=0;Q<K;++Q){var Tt=lt[Q]+"\n";for(nt=0,_=Q*j,st=B,xt="",Y=0;Y<Tt.length;++Y){var gt=Y+dt<et.length?et[Y+dt]:et[et.length-1];G===gt?xt+=Tt[Y]:(yt(),xt=Tt[Y],void 0!==gt&&(Et(G,gt),G=gt))}yt(),dt+=Tt.length;var Mt=0|Math.round(nt+2*rt);Z<Mt&&(Z=Mt)}var Nt=Z,Gt=H+j*K;return s(k.getImageData(0,0,Nt,Gt).data,[Gt,Nt,4]).pick(-1,-1,0).transpose(1,0)}(k,z,N,O,U,G),B,O)},l.exports.processPixels=F;var e=r(4162),s=r(5050),a=r(8243),h=r(197),f=r(7761),u=r(8040),c="b|",d="i|",v="+",E="-";function S(N,k,z,B){for(var O="<"+N+">",U="</"+N+">",G=O.length,J=U.length,et=k[0]===v||k[0]===E,at=0,lt=-J;at>-1&&!(-1===(at=z.indexOf(O,at))||(lt=z.indexOf(U,at+G),-1===lt)||lt<=at);){for(var K=at;K<lt+J;++K)if(K<at+G||K>=lt)B[K]=null,z=z.substr(0,K)+" "+z.substr(K+1);else if(null!==B[K]){var j=B[K].indexOf(k[0]);-1===j?B[K]+=k:et&&(B[K]=B[K].substr(0,j+1)+(1+parseInt(B[K][j+1]))+B[K].substr(j+2))}var rt=at+G,Z=z.substr(rt,lt-rt).indexOf(O);at=-1!==Z?Z:lt+J}return B}function p(N,k,z,B){var O=function C(N,k){var z=e(N,128);return k?a(z.cells,z.positions,.25):{edges:z.cells,positions:z.positions}}(N,B),U=function T(N,k,z){for(var B=k.textAlign||"start",O=k.textBaseline||"alphabetic",U=[1<<30,1<<30],G=[0,0],J=N.length,et=0;et<J;++et)for(var at=N[et],lt=0;lt<2;++lt)U[lt]=0|Math.min(U[lt],at[lt]),G[lt]=0|Math.max(G[lt],at[lt]);var K=0;switch(B){case"center":K=-.5*(U[0]+G[0]);break;case"right":case"end":K=-G[0];break;case"left":case"start":K=-U[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+B+"'")}var j=0;switch(O){case"hanging":case"top":j=-U[1];break;case"middle":j=-.5*(U[1]+G[1]);break;case"alphabetic":case"ideographic":j=-3*z;break;case"bottom":j=-G[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+O+"'")}var rt=1/z;return"lineHeight"in k?rt*=+k.lineHeight:"width"in k?rt=k.width/(G[0]-U[0]):"height"in k&&(rt=k.height/(G[1]-U[1])),N.map(function(H){return[rt*(H[0]+K),rt*(H[1]+j)]})}(O.positions,k,z),G=O.edges,J="ccw"===k.orientation;if(h(U,G),k.polygons||k.polygon||k.polyline){for(var et=u(G,U),at=new Array(et.length),lt=0;lt<et.length;++lt){for(var K=et[lt],j=new Array(K.length),rt=0;rt<K.length;++rt){for(var H=K[rt],Z=new Array(H.length),it=0;it<H.length;++it)Z[it]=U[H[it]].slice();J&&Z.reverse(),j[rt]=Z}at[lt]=j}return at}return k.triangles||k.triangulate||k.triangle?{cells:f(U,G,{delaunay:!1,exterior:!1,interior:!0}),positions:U}:{edges:G,positions:U}}function F(N,k,z){try{return p(N,k,z,!0)}catch(B){}try{return p(N,k,z,!1)}catch(B){}return k.polygons||k.polyline||k.polygon?[]:k.triangles||k.triangulate||k.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(l){!function(){"use strict";if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=r);var e=!1;if("function"==typeof WeakMap){var s=WeakMap;if("undefined"==typeof navigator||!/Firefox/.test(navigator.userAgent)){var a=new s,h=Object.freeze({});if(a.set(h,1),1===a.get(h))return void(l.exports=WeakMap);e=!0}}var u=Object.getOwnPropertyNames,g=Object.defineProperty,c=Object.isExtensible,w="weakmap:",d=w+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var o=new ArrayBuffer(25),v=new Uint8Array(o);crypto.getRandomValues(v),d=w+"rand:"+Array.prototype.map.call(v,function(p){return(p%36).toString(36)}).join("")+"___"}if(g(Object,"getOwnPropertyNames",{value:function(F){return u(F).filter(M)}}),"getPropertyNames"in Object){var b=Object.getPropertyNames;g(Object,"getPropertyNames",{value:function(F){return b(F).filter(M)}})}!function(){var p=Object.freeze;g(Object,"freeze",{value:function(k){return E(k),p(k)}});var F=Object.seal;g(Object,"seal",{value:function(k){return E(k),F(k)}});var D=Object.preventExtensions;g(Object,"preventExtensions",{value:function(k){return E(k),D(k)}})}();var S=!1,n=0,C=function(){this instanceof C||T();var p=[],F=[],D=n++;return Object.create(C.prototype,{get___:{value:x(function N(O,U){var G,J=E(O);return J?D in J?J[D]:U:(G=p.indexOf(O))>=0?F[G]:U})},has___:{value:x(function k(O){var U=E(O);return U?D in U:p.indexOf(O)>=0})},set___:{value:x(function z(O,U){var G,J=E(O);return J?J[D]=U:(G=p.indexOf(O))>=0?F[G]=U:(F[G=p.length]=U,p[G]=O),this})},delete___:{value:x(function B(O){var G,J,U=E(O);return U?D in U&&delete U[D]:!((G=p.indexOf(O))<0||(J=p.length-1,p[G]=void 0,F[G]=F[J],p[G]=p[J],p.length=J,F.length=J,0))})}})};C.prototype=Object.create(Object.prototype,{get:{value:function(F,D){return this.get___(F,D)},writable:!0,configurable:!0},has:{value:function(F){return this.has___(F)},writable:!0,configurable:!0},set:{value:function(F,D){return this.set___(F,D)},writable:!0,configurable:!0},delete:{value:function(F){return this.delete___(F)},writable:!0,configurable:!0}}),"function"==typeof s?function(){function p(){this instanceof C||T();var B,F=new s,D=void 0,N=!1;return B=e?function(U,G){return F.set(U,G),F.has(U)||(D||(D=new C),D.set(U,G)),this}:function(U,G){if(N)try{F.set(U,G)}catch(J){D||(D=new C),D.set___(U,G)}else F.set(U,G);return this},Object.create(C.prototype,{get___:{value:x(function k(U,G){return D?F.has(U)?F.get(U):D.get___(U,G):F.get(U,G)})},has___:{value:x(function z(U){return F.has(U)||!!D&&D.has___(U)})},set___:{value:x(B)},delete___:{value:x(function O(U){var G=!!F.delete(U);return D&&D.delete___(U)||G})},permitHostObjects___:{value:x(function(U){if(U!==r)throw new Error("bogus call to permitHostObjects___");N=!0})}})}e&&"undefined"!=typeof Proxy&&(Proxy=void 0),p.prototype=C.prototype,l.exports=p,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),l.exports=C)}function r(p){p.permitHostObjects___&&p.permitHostObjects___(r)}function M(p){return!(p.substr(0,w.length)==w&&"___"===p.substr(p.length-3))}function E(p){if(p!==Object(p))throw new TypeError("Not an object: "+p);var F=p[d];if(F&&F.key===p)return F;if(c(p)){F={key:p};try{return g(p,d,{value:F,writable:!1,enumerable:!1,configurable:!1}),F}catch(D){return}}}function x(p){return p.prototype=null,Object.freeze(p)}function T(){!S&&"undefined"!=typeof console&&(S=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},9222:function(l,m,r){var e=r(7178);l.exports=function s(){var a={};return function(h){if(("object"!=typeof h||null===h)&&"function"!=typeof h)throw new Error("Weakmap-shim: Key must be object");var f=h.valueOf(a);return f&&f.identity===a?f:e(h,a)}}},7178:function(l){l.exports=function m(r,e){var s={identity:e},a=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(h){return h!==e?a.apply(this,arguments):s},writable:!0}),s}},4037:function(l,m,r){var e=r(9222);l.exports=function s(){var a=e();return{get:function(h,f){var u=a(h);return u.hasOwnProperty("value")?u.value:f},set:function(h,f){return a(h).value=f,this},has:function(h){return"value"in a(h)},delete:function(h){return delete a(h).value}}}},6183:function(l){"use strict";var e=function r(){return function(f,u,g,c,w,d){var o=f[0],v=g[0],M=[0],b=v;c|=0;var E=0,x=v;for(E=0;E<o;++E){var S=u[c]-d,T=u[c+b]-d;S>=0!=T>=0&&w.push(M[0]+.5+.5*(S+T)/(S-T)),c+=x,++M[0]}}};l.exports=function h(f){return function a(f){return function s(f){var u={};return function(c,w,d){var o=c.dtype,v=c.order,M=[o,v.join()].join(),b=u[M];return b||(u[M]=b=f([o,v])),b(c.shape.slice(0),c.data,c.stride,0|c.offset,w,d)}}(e.bind(void 0,f))}({funcName:f.funcName})}({funcName:"zeroCrossings"})},9584:function(l,m,r){"use strict";l.exports=function s(a,h){var f=[];return h=+h||0,e(a.hi(a.shape[0]-1),f,h),f};var e=r(6183)},6601:function(){}},i={};function P(l){var m=i[l];if(void 0!==m)return m.exports;var r=i[l]={id:l,loaded:!1,exports:{}};return y[l].call(r.exports,r,r.exports,P),r.loaded=!0,r.exports}return P.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(l){if("object"==typeof window)return window}}(),P.nmd=function(l){return l.paths=[],l.children||(l.children=[]),l},P(7386)}()},tt.exports=P()},33576:function(tt,W,t){"use strict";function A(jt,Ct){if(!(jt instanceof Ct))throw new TypeError("Cannot call a class as a function")}function y(jt,Ct){for(var Wt=0;Wt<Ct.length;Wt++){var Xt=Ct[Wt];Xt.enumerable=Xt.enumerable||!1,Xt.configurable=!0,"value"in Xt&&(Xt.writable=!0),Object.defineProperty(jt,P(Xt.key),Xt)}}function P(jt){var Ct=function L(jt,Ct){if("object"!==h(jt)||null===jt)return jt;var Wt=jt[Symbol.toPrimitive];if(void 0!==Wt){var Xt=Wt.call(jt,Ct||"default");if("object"!==h(Xt))return Xt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Ct?String:Number)(jt)}(jt,"string");return"symbol"===h(Ct)?Ct:String(Ct)}function l(jt,Ct,Wt){return Ct=r(Ct),function m(jt,Ct){if(Ct&&("object"===h(Ct)||"function"==typeof Ct))return Ct;if(void 0!==Ct)throw new TypeError("Derived constructors may only return object or undefined");return e(jt)}(jt,function Xt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Ht){return!1}}()?Reflect.construct(Ct,Wt||[],r(jt).constructor):Ct.apply(jt,Wt))}function r(jt){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Wt){return Wt.__proto__||Object.getPrototypeOf(Wt)})(jt)}function e(jt){if(void 0===jt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return jt}function s(jt,Ct){if("function"!=typeof Ct&&null!==Ct)throw new TypeError("Super expression must either be null or a function");jt.prototype=Object.create(Ct&&Ct.prototype,{constructor:{value:jt,writable:!0,configurable:!0}}),Object.defineProperty(jt,"prototype",{writable:!1}),Ct&&a(jt,Ct)}function a(jt,Ct){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Xt,Ht){return Xt.__proto__=Ht,Xt})(jt,Ct)}function h(jt){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ct){return typeof Ct}:function(Ct){return Ct&&"function"==typeof Symbol&&Ct.constructor===Symbol&&Ct!==Symbol.prototype?"symbol":typeof Ct})(jt)}var f=t(59968),u=t(35984),g="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;W.Buffer=o,W.SlowBuffer=function F(jt){return+jt!=jt&&(jt=0),o.alloc(+jt)},W.INSPECT_MAX_BYTES=50;var c=2147483647;function d(jt){if(jt>c)throw new RangeError('The value "'+jt+'" is invalid for option "size"');var Ct=new Uint8Array(jt);return Object.setPrototypeOf(Ct,o.prototype),Ct}function o(jt,Ct,Wt){if("number"==typeof jt){if("string"==typeof Ct)throw new TypeError('The "string" argument must be of type string. Received type number');return E(jt)}return v(jt,Ct,Wt)}function v(jt,Ct,Wt){if("string"==typeof jt)return function x(jt,Ct){if(("string"!=typeof Ct||""===Ct)&&(Ct="utf8"),!o.isEncoding(Ct))throw new TypeError("Unknown encoding: "+Ct);var Wt=0|D(jt,Ct),Xt=d(Wt),Ht=Xt.write(jt,Ct);return Ht!==Wt&&(Xt=Xt.slice(0,Ht)),Xt}(jt,Ct);if(ArrayBuffer.isView(jt))return function T(jt){if($t(jt,Uint8Array)){var Ct=new Uint8Array(jt);return n(Ct.buffer,Ct.byteOffset,Ct.byteLength)}return S(jt)}(jt);if(null==jt)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+h(jt));if($t(jt,ArrayBuffer)||jt&&$t(jt.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&($t(jt,SharedArrayBuffer)||jt&&$t(jt.buffer,SharedArrayBuffer)))return n(jt,Ct,Wt);if("number"==typeof jt)throw new TypeError('The "value" argument must not be of type number. Received type number');var Xt=jt.valueOf&&jt.valueOf();if(null!=Xt&&Xt!==jt)return o.from(Xt,Ct,Wt);var Ht=function C(jt){if(o.isBuffer(jt)){var Ct=0|p(jt.length),Wt=d(Ct);return 0===Wt.length||jt.copy(Wt,0,0,Ct),Wt}return void 0!==jt.length?"number"!=typeof jt.length||oe(jt.length)?d(0):S(jt):"Buffer"===jt.type&&Array.isArray(jt.data)?S(jt.data):void 0}(jt);if(Ht)return Ht;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof jt[Symbol.toPrimitive])return o.from(jt[Symbol.toPrimitive]("string"),Ct,Wt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+h(jt))}function M(jt){if("number"!=typeof jt)throw new TypeError('"size" argument must be of type number');if(jt<0)throw new RangeError('The value "'+jt+'" is invalid for option "size"')}function E(jt){return M(jt),d(jt<0?0:0|p(jt))}function S(jt){for(var Ct=jt.length<0?0:0|p(jt.length),Wt=d(Ct),Xt=0;Xt<Ct;Xt+=1)Wt[Xt]=255&jt[Xt];return Wt}function n(jt,Ct,Wt){if(Ct<0||jt.byteLength<Ct)throw new RangeError('"offset" is outside of buffer bounds');if(jt.byteLength<Ct+(Wt||0))throw new RangeError('"length" is outside of buffer bounds');var Xt;return Xt=void 0===Ct&&void 0===Wt?new Uint8Array(jt):void 0===Wt?new Uint8Array(jt,Ct):new Uint8Array(jt,Ct,Wt),Object.setPrototypeOf(Xt,o.prototype),Xt}function p(jt){if(jt>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return 0|jt}function D(jt,Ct){if(o.isBuffer(jt))return jt.length;if(ArrayBuffer.isView(jt)||$t(jt,ArrayBuffer))return jt.byteLength;if("string"!=typeof jt)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+h(jt));var Wt=jt.length,Xt=arguments.length>2&&!0===arguments[2];if(!Xt&&0===Wt)return 0;for(var Ht=!1;;)switch(Ct){case"ascii":case"latin1":case"binary":return Wt;case"utf8":case"utf-8":return Vt(jt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Wt;case"hex":return Wt>>>1;case"base64":return It(jt).length;default:if(Ht)return Xt?-1:Vt(jt).length;Ct=(""+Ct).toLowerCase(),Ht=!0}}function N(jt,Ct,Wt){var Xt=!1;if((void 0===Ct||Ct<0)&&(Ct=0),Ct>this.length||((void 0===Wt||Wt>this.length)&&(Wt=this.length),Wt<=0)||(Wt>>>=0)<=(Ct>>>=0))return"";for(jt||(jt="utf8");;)switch(jt){case"hex":return Z(this,Ct,Wt);case"utf8":case"utf-8":return lt(this,Ct,Wt);case"ascii":return rt(this,Ct,Wt);case"latin1":case"binary":return H(this,Ct,Wt);case"base64":return at(this,Ct,Wt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return it(this,Ct,Wt);default:if(Xt)throw new TypeError("Unknown encoding: "+jt);jt=(jt+"").toLowerCase(),Xt=!0}}function k(jt,Ct,Wt){var Xt=jt[Ct];jt[Ct]=jt[Wt],jt[Wt]=Xt}function z(jt,Ct,Wt,Xt,Ht){if(0===jt.length)return-1;if("string"==typeof Wt?(Xt=Wt,Wt=0):Wt>2147483647?Wt=2147483647:Wt<-2147483648&&(Wt=-2147483648),oe(Wt=+Wt)&&(Wt=Ht?0:jt.length-1),Wt<0&&(Wt=jt.length+Wt),Wt>=jt.length){if(Ht)return-1;Wt=jt.length-1}else if(Wt<0){if(!Ht)return-1;Wt=0}if("string"==typeof Ct&&(Ct=o.from(Ct,Xt)),o.isBuffer(Ct))return 0===Ct.length?-1:B(jt,Ct,Wt,Xt,Ht);if("number"==typeof Ct)return Ct&=255,"function"==typeof Uint8Array.prototype.indexOf?Ht?Uint8Array.prototype.indexOf.call(jt,Ct,Wt):Uint8Array.prototype.lastIndexOf.call(jt,Ct,Wt):B(jt,[Ct],Wt,Xt,Ht);throw new TypeError("val must be string, number or Buffer")}function B(jt,Ct,Wt,Xt,Ht){var ft,Bt=1,zt=jt.length,kt=Ct.length;if(void 0!==Xt&&("ucs2"===(Xt=String(Xt).toLowerCase())||"ucs-2"===Xt||"utf16le"===Xt||"utf-16le"===Xt)){if(jt.length<2||Ct.length<2)return-1;Bt=2,zt/=2,kt/=2,Wt/=2}function wt(te,ee){return 1===Bt?te[ee]:te.readUInt16BE(ee*Bt)}if(Ht){var pt=-1;for(ft=Wt;ft<zt;ft++)if(wt(jt,ft)===wt(Ct,-1===pt?0:ft-pt)){if(-1===pt&&(pt=ft),ft-pt+1===kt)return pt*Bt}else-1!==pt&&(ft-=ft-pt),pt=-1}else for(Wt+kt>zt&&(Wt=zt-kt),ft=Wt;ft>=0;ft--){for(var Dt=!0,Qt=0;Qt<kt;Qt++)if(wt(jt,ft+Qt)!==wt(Ct,Qt)){Dt=!1;break}if(Dt)return ft}return-1}function O(jt,Ct,Wt,Xt){Wt=Number(Wt)||0;var Ht=jt.length-Wt;Xt?(Xt=Number(Xt))>Ht&&(Xt=Ht):Xt=Ht;var zt,Bt=Ct.length;for(Xt>Bt/2&&(Xt=Bt/2),zt=0;zt<Xt;++zt){var kt=parseInt(Ct.substr(2*zt,2),16);if(oe(kt))return zt;jt[Wt+zt]=kt}return zt}function U(jt,Ct,Wt,Xt){return Rt(Vt(Ct,jt.length-Wt),jt,Wt,Xt)}function G(jt,Ct,Wt,Xt){return Rt(function re(jt){for(var Ct=[],Wt=0;Wt<jt.length;++Wt)Ct.push(255&jt.charCodeAt(Wt));return Ct}(Ct),jt,Wt,Xt)}function J(jt,Ct,Wt,Xt){return Rt(It(Ct),jt,Wt,Xt)}function et(jt,Ct,Wt,Xt){return Rt(function le(jt,Ct){for(var Wt,Xt,Bt=[],zt=0;zt<jt.length&&!((Ct-=2)<0);++zt)Xt=(Wt=jt.charCodeAt(zt))>>8,Bt.push(Wt%256),Bt.push(Xt);return Bt}(Ct,jt.length-Wt),jt,Wt,Xt)}function at(jt,Ct,Wt){return f.fromByteArray(0===Ct&&Wt===jt.length?jt:jt.slice(Ct,Wt))}function lt(jt,Ct,Wt){Wt=Math.min(jt.length,Wt);for(var Xt=[],Ht=Ct;Ht<Wt;){var Bt=jt[Ht],zt=null,kt=Bt>239?4:Bt>223?3:Bt>191?2:1;if(Ht+kt<=Wt){var wt=void 0,ft=void 0,pt=void 0,Dt=void 0;switch(kt){case 1:Bt<128&&(zt=Bt);break;case 2:128==(192&(wt=jt[Ht+1]))&&(Dt=(31&Bt)<<6|63&wt)>127&&(zt=Dt);break;case 3:ft=jt[Ht+2],128==(192&(wt=jt[Ht+1]))&&128==(192&ft)&&(Dt=(15&Bt)<<12|(63&wt)<<6|63&ft)>2047&&(Dt<55296||Dt>57343)&&(zt=Dt);break;case 4:ft=jt[Ht+2],pt=jt[Ht+3],128==(192&(wt=jt[Ht+1]))&&128==(192&ft)&&128==(192&pt)&&(Dt=(15&Bt)<<18|(63&wt)<<12|(63&ft)<<6|63&pt)>65535&&Dt<1114112&&(zt=Dt)}}null===zt?(zt=65533,kt=1):zt>65535&&(Xt.push((zt-=65536)>>>10&1023|55296),zt=56320|1023&zt),Xt.push(zt),Ht+=kt}return function j(jt){var Ct=jt.length;if(Ct<=K)return String.fromCharCode.apply(String,jt);for(var Wt="",Xt=0;Xt<Ct;)Wt+=String.fromCharCode.apply(String,jt.slice(Xt,Xt+=K));return Wt}(Xt)}W.kMaxLength=c,!(o.TYPED_ARRAY_SUPPORT=function w(){try{var jt=new Uint8Array(1),Ct={foo:function(){return 42}};return Object.setPrototypeOf(Ct,Uint8Array.prototype),Object.setPrototypeOf(jt,Ct),42===jt.foo()}catch(Wt){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(jt,Ct,Wt){return v(jt,Ct,Wt)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(jt,Ct,Wt){return function b(jt,Ct,Wt){return M(jt),jt<=0?d(jt):void 0!==Ct?"string"==typeof Wt?d(jt).fill(Ct,Wt):d(jt).fill(Ct):d(jt)}(jt,Ct,Wt)},o.allocUnsafe=function(jt){return E(jt)},o.allocUnsafeSlow=function(jt){return E(jt)},o.isBuffer=function(Ct){return null!=Ct&&!0===Ct._isBuffer&&Ct!==o.prototype},o.compare=function(Ct,Wt){if($t(Ct,Uint8Array)&&(Ct=o.from(Ct,Ct.offset,Ct.byteLength)),$t(Wt,Uint8Array)&&(Wt=o.from(Wt,Wt.offset,Wt.byteLength)),!o.isBuffer(Ct)||!o.isBuffer(Wt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ct===Wt)return 0;for(var Xt=Ct.length,Ht=Wt.length,Bt=0,zt=Math.min(Xt,Ht);Bt<zt;++Bt)if(Ct[Bt]!==Wt[Bt]){Xt=Ct[Bt],Ht=Wt[Bt];break}return Xt<Ht?-1:Ht<Xt?1:0},o.isEncoding=function(Ct){switch(String(Ct).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(Ct,Wt){if(!Array.isArray(Ct))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Ct.length)return o.alloc(0);var Xt;if(void 0===Wt)for(Wt=0,Xt=0;Xt<Ct.length;++Xt)Wt+=Ct[Xt].length;var Ht=o.allocUnsafe(Wt),Bt=0;for(Xt=0;Xt<Ct.length;++Xt){var zt=Ct[Xt];if($t(zt,Uint8Array))Bt+zt.length>Ht.length?(o.isBuffer(zt)||(zt=o.from(zt)),zt.copy(Ht,Bt)):Uint8Array.prototype.set.call(Ht,zt,Bt);else{if(!o.isBuffer(zt))throw new TypeError('"list" argument must be an Array of Buffers');zt.copy(Ht,Bt)}Bt+=zt.length}return Ht},o.byteLength=D,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var Ct=this.length;if(Ct%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Wt=0;Wt<Ct;Wt+=2)k(this,Wt,Wt+1);return this},o.prototype.swap32=function(){var Ct=this.length;if(Ct%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Wt=0;Wt<Ct;Wt+=4)k(this,Wt,Wt+3),k(this,Wt+1,Wt+2);return this},o.prototype.swap64=function(){var Ct=this.length;if(Ct%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Wt=0;Wt<Ct;Wt+=8)k(this,Wt,Wt+7),k(this,Wt+1,Wt+6),k(this,Wt+2,Wt+5),k(this,Wt+3,Wt+4);return this},o.prototype.toLocaleString=o.prototype.toString=function(){var Ct=this.length;return 0===Ct?"":0===arguments.length?lt(this,0,Ct):N.apply(this,arguments)},o.prototype.equals=function(Ct){if(!o.isBuffer(Ct))throw new TypeError("Argument must be a Buffer");return this===Ct||0===o.compare(this,Ct)},o.prototype.inspect=function(){var Ct="",Wt=W.INSPECT_MAX_BYTES;return Ct=this.toString("hex",0,Wt).replace(/(.{2})/g,"$1 ").trim(),this.length>Wt&&(Ct+=" ... "),"<Buffer "+Ct+">"},g&&(o.prototype[g]=o.prototype.inspect),o.prototype.compare=function(Ct,Wt,Xt,Ht,Bt){if($t(Ct,Uint8Array)&&(Ct=o.from(Ct,Ct.offset,Ct.byteLength)),!o.isBuffer(Ct))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+h(Ct));if(void 0===Wt&&(Wt=0),void 0===Xt&&(Xt=Ct?Ct.length:0),void 0===Ht&&(Ht=0),void 0===Bt&&(Bt=this.length),Wt<0||Xt>Ct.length||Ht<0||Bt>this.length)throw new RangeError("out of range index");if(Ht>=Bt&&Wt>=Xt)return 0;if(Ht>=Bt)return-1;if(Wt>=Xt)return 1;if(this===Ct)return 0;for(var zt=(Bt>>>=0)-(Ht>>>=0),kt=(Xt>>>=0)-(Wt>>>=0),wt=Math.min(zt,kt),ft=this.slice(Ht,Bt),pt=Ct.slice(Wt,Xt),Dt=0;Dt<wt;++Dt)if(ft[Dt]!==pt[Dt]){zt=ft[Dt],kt=pt[Dt];break}return zt<kt?-1:kt<zt?1:0},o.prototype.includes=function(Ct,Wt,Xt){return-1!==this.indexOf(Ct,Wt,Xt)},o.prototype.indexOf=function(Ct,Wt,Xt){return z(this,Ct,Wt,Xt,!0)},o.prototype.lastIndexOf=function(Ct,Wt,Xt){return z(this,Ct,Wt,Xt,!1)},o.prototype.write=function(Ct,Wt,Xt,Ht){if(void 0===Wt)Ht="utf8",Xt=this.length,Wt=0;else if(void 0===Xt&&"string"==typeof Wt)Ht=Wt,Xt=this.length,Wt=0;else{if(!isFinite(Wt))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Wt>>>=0,isFinite(Xt)?(Xt>>>=0,void 0===Ht&&(Ht="utf8")):(Ht=Xt,Xt=void 0)}var Bt=this.length-Wt;if((void 0===Xt||Xt>Bt)&&(Xt=Bt),Ct.length>0&&(Xt<0||Wt<0)||Wt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ht||(Ht="utf8");for(var zt=!1;;)switch(Ht){case"hex":return O(this,Ct,Wt,Xt);case"utf8":case"utf-8":return U(this,Ct,Wt,Xt);case"ascii":case"latin1":case"binary":return G(this,Ct,Wt,Xt);case"base64":return J(this,Ct,Wt,Xt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return et(this,Ct,Wt,Xt);default:if(zt)throw new TypeError("Unknown encoding: "+Ht);Ht=(""+Ht).toLowerCase(),zt=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;function rt(jt,Ct,Wt){var Xt="";Wt=Math.min(jt.length,Wt);for(var Ht=Ct;Ht<Wt;++Ht)Xt+=String.fromCharCode(127&jt[Ht]);return Xt}function H(jt,Ct,Wt){var Xt="";Wt=Math.min(jt.length,Wt);for(var Ht=Ct;Ht<Wt;++Ht)Xt+=String.fromCharCode(jt[Ht]);return Xt}function Z(jt,Ct,Wt){var Xt=jt.length;(!Ct||Ct<0)&&(Ct=0),(!Wt||Wt<0||Wt>Xt)&&(Wt=Xt);for(var Ht="",Bt=Ct;Bt<Wt;++Bt)Ht+=se[jt[Bt]];return Ht}function it(jt,Ct,Wt){for(var Xt=jt.slice(Ct,Wt),Ht="",Bt=0;Bt<Xt.length-1;Bt+=2)Ht+=String.fromCharCode(Xt[Bt]+256*Xt[Bt+1]);return Ht}function Q(jt,Ct,Wt){if(jt%1!=0||jt<0)throw new RangeError("offset is not uint");if(jt+Ct>Wt)throw new RangeError("Trying to access beyond buffer length")}function Y(jt,Ct,Wt,Xt,Ht,Bt){if(!o.isBuffer(jt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ct>Ht||Ct<Bt)throw new RangeError('"value" argument is out of bounds');if(Wt+Xt>jt.length)throw new RangeError("Index out of range")}function nt(jt,Ct,Wt,Xt,Ht){gt(Ct,Xt,Ht,jt,Wt,7);var Bt=Number(Ct&BigInt(4294967295));jt[Wt++]=Bt,jt[Wt++]=Bt>>=8,jt[Wt++]=Bt>>=8,jt[Wt++]=Bt>>=8;var zt=Number(Ct>>BigInt(32)&BigInt(4294967295));return jt[Wt++]=zt,jt[Wt++]=zt>>=8,jt[Wt++]=zt>>=8,jt[Wt++]=zt>>=8,Wt}function _(jt,Ct,Wt,Xt,Ht){gt(Ct,Xt,Ht,jt,Wt,7);var Bt=Number(Ct&BigInt(4294967295));jt[Wt+7]=Bt,jt[Wt+6]=Bt>>=8,jt[Wt+5]=Bt>>=8,jt[Wt+4]=Bt>>=8;var zt=Number(Ct>>BigInt(32)&BigInt(4294967295));return jt[Wt+3]=zt,jt[Wt+2]=zt>>=8,jt[Wt+1]=zt>>=8,jt[Wt]=zt>>=8,Wt+8}function st(jt,Ct,Wt,Xt,Ht,Bt){if(Wt+Xt>jt.length)throw new RangeError("Index out of range");if(Wt<0)throw new RangeError("Index out of range")}function dt(jt,Ct,Wt,Xt,Ht){return Ct=+Ct,Wt>>>=0,Ht||st(jt,0,Wt,4),u.write(jt,Ct,Wt,Xt,23,4),Wt+4}function xt(jt,Ct,Wt,Xt,Ht){return Ct=+Ct,Wt>>>=0,Ht||st(jt,0,Wt,8),u.write(jt,Ct,Wt,Xt,52,8),Wt+8}o.prototype.slice=function(Ct,Wt){var Xt=this.length;(Ct=~~Ct)<0?(Ct+=Xt)<0&&(Ct=0):Ct>Xt&&(Ct=Xt),(Wt=void 0===Wt?Xt:~~Wt)<0?(Wt+=Xt)<0&&(Wt=0):Wt>Xt&&(Wt=Xt),Wt<Ct&&(Wt=Ct);var Ht=this.subarray(Ct,Wt);return Object.setPrototypeOf(Ht,o.prototype),Ht},o.prototype.readUintLE=o.prototype.readUIntLE=function(Ct,Wt,Xt){Ct>>>=0,Wt>>>=0,Xt||Q(Ct,Wt,this.length);for(var Ht=this[Ct],Bt=1,zt=0;++zt<Wt&&(Bt*=256);)Ht+=this[Ct+zt]*Bt;return Ht},o.prototype.readUintBE=o.prototype.readUIntBE=function(Ct,Wt,Xt){Ct>>>=0,Wt>>>=0,Xt||Q(Ct,Wt,this.length);for(var Ht=this[Ct+--Wt],Bt=1;Wt>0&&(Bt*=256);)Ht+=this[Ct+--Wt]*Bt;return Ht},o.prototype.readUint8=o.prototype.readUInt8=function(Ct,Wt){return Ct>>>=0,Wt||Q(Ct,1,this.length),this[Ct]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(Ct,Wt){return Ct>>>=0,Wt||Q(Ct,2,this.length),this[Ct]|this[Ct+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(Ct,Wt){return Ct>>>=0,Wt||Q(Ct,2,this.length),this[Ct]<<8|this[Ct+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(Ct,Wt){return Ct>>>=0,Wt||Q(Ct,4,this.length),(this[Ct]|this[Ct+1]<<8|this[Ct+2]<<16)+16777216*this[Ct+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(Ct,Wt){return Ct>>>=0,Wt||Q(Ct,4,this.length),16777216*this[Ct]+(this[Ct+1]<<16|this[Ct+2]<<8|this[Ct+3])},o.prototype.readBigUInt64LE=ve(function(Ct){Mt(Ct>>>=0,"offset");var Wt=this[Ct],Xt=this[Ct+7];(void 0===Wt||void 0===Xt)&&Nt(Ct,this.length-8);var Ht=Wt+this[++Ct]*Math.pow(2,8)+this[++Ct]*Math.pow(2,16)+this[++Ct]*Math.pow(2,24),Bt=this[++Ct]+this[++Ct]*Math.pow(2,8)+this[++Ct]*Math.pow(2,16)+Xt*Math.pow(2,24);return BigInt(Ht)+(BigInt(Bt)<<BigInt(32))}),o.prototype.readBigUInt64BE=ve(function(Ct){Mt(Ct>>>=0,"offset");var Wt=this[Ct],Xt=this[Ct+7];(void 0===Wt||void 0===Xt)&&Nt(Ct,this.length-8);var Ht=Wt*Math.pow(2,24)+this[++Ct]*Math.pow(2,16)+this[++Ct]*Math.pow(2,8)+this[++Ct],Bt=this[++Ct]*Math.pow(2,24)+this[++Ct]*Math.pow(2,16)+this[++Ct]*Math.pow(2,8)+Xt;return(BigInt(Ht)<<BigInt(32))+BigInt(Bt)}),o.prototype.readIntLE=function(Ct,Wt,Xt){Ct>>>=0,Wt>>>=0,Xt||Q(Ct,Wt,this.length);for(var Ht=this[Ct],Bt=1,zt=0;++zt<Wt&&(Bt*=256);)Ht+=this[Ct+zt]*Bt;return Ht>=(Bt*=128)&&(Ht-=Math.pow(2,8*Wt)),Ht},o.prototype.readIntBE=function(Ct,Wt,Xt){Ct>>>=0,Wt>>>=0,Xt||Q(Ct,Wt,this.length);for(var Ht=Wt,Bt=1,zt=this[Ct+--Ht];Ht>0&&(Bt*=256);)zt+=this[Ct+--Ht]*Bt;return zt>=(Bt*=128)&&(zt-=Math.pow(2,8*Wt)),zt},o.prototype.readInt8=function(Ct,Wt){return Ct>>>=0,Wt||Q(Ct,1,this.length),128&this[Ct]?-1*(255-this[Ct]+1):this[Ct]},o.prototype.readInt16LE=function(Ct,Wt){Ct>>>=0,Wt||Q(Ct,2,this.length);var Xt=this[Ct]|this[Ct+1]<<8;return 32768&Xt?4294901760|Xt:Xt},o.prototype.readInt16BE=function(Ct,Wt){Ct>>>=0,Wt||Q(Ct,2,this.length);var Xt=this[Ct+1]|this[Ct]<<8;return 32768&Xt?4294901760|Xt:Xt},o.prototype.readInt32LE=function(Ct,Wt){return Ct>>>=0,Wt||Q(Ct,4,this.length),this[Ct]|this[Ct+1]<<8|this[Ct+2]<<16|this[Ct+3]<<24},o.prototype.readInt32BE=function(Ct,Wt){return Ct>>>=0,Wt||Q(Ct,4,this.length),this[Ct]<<24|this[Ct+1]<<16|this[Ct+2]<<8|this[Ct+3]},o.prototype.readBigInt64LE=ve(function(Ct){Mt(Ct>>>=0,"offset");var Wt=this[Ct],Xt=this[Ct+7];(void 0===Wt||void 0===Xt)&&Nt(Ct,this.length-8);var Ht=this[Ct+4]+this[Ct+5]*Math.pow(2,8)+this[Ct+6]*Math.pow(2,16)+(Xt<<24);return(BigInt(Ht)<<BigInt(32))+BigInt(Wt+this[++Ct]*Math.pow(2,8)+this[++Ct]*Math.pow(2,16)+this[++Ct]*Math.pow(2,24))}),o.prototype.readBigInt64BE=ve(function(Ct){Mt(Ct>>>=0,"offset");var Wt=this[Ct],Xt=this[Ct+7];(void 0===Wt||void 0===Xt)&&Nt(Ct,this.length-8);var Ht=(Wt<<24)+this[++Ct]*Math.pow(2,16)+this[++Ct]*Math.pow(2,8)+this[++Ct];return(BigInt(Ht)<<BigInt(32))+BigInt(this[++Ct]*Math.pow(2,24)+this[++Ct]*Math.pow(2,16)+this[++Ct]*Math.pow(2,8)+Xt)}),o.prototype.readFloatLE=function(Ct,Wt){return Ct>>>=0,Wt||Q(Ct,4,this.length),u.read(this,Ct,!0,23,4)},o.prototype.readFloatBE=function(Ct,Wt){return Ct>>>=0,Wt||Q(Ct,4,this.length),u.read(this,Ct,!1,23,4)},o.prototype.readDoubleLE=function(Ct,Wt){return Ct>>>=0,Wt||Q(Ct,8,this.length),u.read(this,Ct,!0,52,8)},o.prototype.readDoubleBE=function(Ct,Wt){return Ct>>>=0,Wt||Q(Ct,8,this.length),u.read(this,Ct,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(Ct,Wt,Xt,Ht){Ct=+Ct,Wt>>>=0,Xt>>>=0,Ht||Y(this,Ct,Wt,Xt,Math.pow(2,8*Xt)-1,0);var zt=1,kt=0;for(this[Wt]=255&Ct;++kt<Xt&&(zt*=256);)this[Wt+kt]=Ct/zt&255;return Wt+Xt},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(Ct,Wt,Xt,Ht){Ct=+Ct,Wt>>>=0,Xt>>>=0,Ht||Y(this,Ct,Wt,Xt,Math.pow(2,8*Xt)-1,0);var zt=Xt-1,kt=1;for(this[Wt+zt]=255&Ct;--zt>=0&&(kt*=256);)this[Wt+zt]=Ct/kt&255;return Wt+Xt},o.prototype.writeUint8=o.prototype.writeUInt8=function(Ct,Wt,Xt){return Ct=+Ct,Wt>>>=0,Xt||Y(this,Ct,Wt,1,255,0),this[Wt]=255&Ct,Wt+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(Ct,Wt,Xt){return Ct=+Ct,Wt>>>=0,Xt||Y(this,Ct,Wt,2,65535,0),this[Wt]=255&Ct,this[Wt+1]=Ct>>>8,Wt+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(Ct,Wt,Xt){return Ct=+Ct,Wt>>>=0,Xt||Y(this,Ct,Wt,2,65535,0),this[Wt]=Ct>>>8,this[Wt+1]=255&Ct,Wt+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(Ct,Wt,Xt){return Ct=+Ct,Wt>>>=0,Xt||Y(this,Ct,Wt,4,4294967295,0),this[Wt+3]=Ct>>>24,this[Wt+2]=Ct>>>16,this[Wt+1]=Ct>>>8,this[Wt]=255&Ct,Wt+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(Ct,Wt,Xt){return Ct=+Ct,Wt>>>=0,Xt||Y(this,Ct,Wt,4,4294967295,0),this[Wt]=Ct>>>24,this[Wt+1]=Ct>>>16,this[Wt+2]=Ct>>>8,this[Wt+3]=255&Ct,Wt+4},o.prototype.writeBigUInt64LE=ve(function(Ct){return nt(this,Ct,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ve(function(Ct){return _(this,Ct,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(Ct,Wt,Xt,Ht){if(Ct=+Ct,Wt>>>=0,!Ht){var Bt=Math.pow(2,8*Xt-1);Y(this,Ct,Wt,Xt,Bt-1,-Bt)}var zt=0,kt=1,wt=0;for(this[Wt]=255&Ct;++zt<Xt&&(kt*=256);)Ct<0&&0===wt&&0!==this[Wt+zt-1]&&(wt=1),this[Wt+zt]=(Ct/kt>>0)-wt&255;return Wt+Xt},o.prototype.writeIntBE=function(Ct,Wt,Xt,Ht){if(Ct=+Ct,Wt>>>=0,!Ht){var Bt=Math.pow(2,8*Xt-1);Y(this,Ct,Wt,Xt,Bt-1,-Bt)}var zt=Xt-1,kt=1,wt=0;for(this[Wt+zt]=255&Ct;--zt>=0&&(kt*=256);)Ct<0&&0===wt&&0!==this[Wt+zt+1]&&(wt=1),this[Wt+zt]=(Ct/kt>>0)-wt&255;return Wt+Xt},o.prototype.writeInt8=function(Ct,Wt,Xt){return Ct=+Ct,Wt>>>=0,Xt||Y(this,Ct,Wt,1,127,-128),Ct<0&&(Ct=255+Ct+1),this[Wt]=255&Ct,Wt+1},o.prototype.writeInt16LE=function(Ct,Wt,Xt){return Ct=+Ct,Wt>>>=0,Xt||Y(this,Ct,Wt,2,32767,-32768),this[Wt]=255&Ct,this[Wt+1]=Ct>>>8,Wt+2},o.prototype.writeInt16BE=function(Ct,Wt,Xt){return Ct=+Ct,Wt>>>=0,Xt||Y(this,Ct,Wt,2,32767,-32768),this[Wt]=Ct>>>8,this[Wt+1]=255&Ct,Wt+2},o.prototype.writeInt32LE=function(Ct,Wt,Xt){return Ct=+Ct,Wt>>>=0,Xt||Y(this,Ct,Wt,4,2147483647,-2147483648),this[Wt]=255&Ct,this[Wt+1]=Ct>>>8,this[Wt+2]=Ct>>>16,this[Wt+3]=Ct>>>24,Wt+4},o.prototype.writeInt32BE=function(Ct,Wt,Xt){return Ct=+Ct,Wt>>>=0,Xt||Y(this,Ct,Wt,4,2147483647,-2147483648),Ct<0&&(Ct=4294967295+Ct+1),this[Wt]=Ct>>>24,this[Wt+1]=Ct>>>16,this[Wt+2]=Ct>>>8,this[Wt+3]=255&Ct,Wt+4},o.prototype.writeBigInt64LE=ve(function(Ct){return nt(this,Ct,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ve(function(Ct){return _(this,Ct,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(Ct,Wt,Xt){return dt(this,Ct,Wt,!0,Xt)},o.prototype.writeFloatBE=function(Ct,Wt,Xt){return dt(this,Ct,Wt,!1,Xt)},o.prototype.writeDoubleLE=function(Ct,Wt,Xt){return xt(this,Ct,Wt,!0,Xt)},o.prototype.writeDoubleBE=function(Ct,Wt,Xt){return xt(this,Ct,Wt,!1,Xt)},o.prototype.copy=function(Ct,Wt,Xt,Ht){if(!o.isBuffer(Ct))throw new TypeError("argument should be a Buffer");if(Xt||(Xt=0),!Ht&&0!==Ht&&(Ht=this.length),Wt>=Ct.length&&(Wt=Ct.length),Wt||(Wt=0),Ht>0&&Ht<Xt&&(Ht=Xt),Ht===Xt||0===Ct.length||0===this.length)return 0;if(Wt<0)throw new RangeError("targetStart out of bounds");if(Xt<0||Xt>=this.length)throw new RangeError("Index out of range");if(Ht<0)throw new RangeError("sourceEnd out of bounds");Ht>this.length&&(Ht=this.length),Ct.length-Wt<Ht-Xt&&(Ht=Ct.length-Wt+Xt);var Bt=Ht-Xt;return this===Ct&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Wt,Xt,Ht):Uint8Array.prototype.set.call(Ct,this.subarray(Xt,Ht),Wt),Bt},o.prototype.fill=function(Ct,Wt,Xt,Ht){if("string"==typeof Ct){if("string"==typeof Wt?(Ht=Wt,Wt=0,Xt=this.length):"string"==typeof Xt&&(Ht=Xt,Xt=this.length),void 0!==Ht&&"string"!=typeof Ht)throw new TypeError("encoding must be a string");if("string"==typeof Ht&&!o.isEncoding(Ht))throw new TypeError("Unknown encoding: "+Ht);if(1===Ct.length){var Bt=Ct.charCodeAt(0);("utf8"===Ht&&Bt<128||"latin1"===Ht)&&(Ct=Bt)}}else"number"==typeof Ct?Ct&=255:"boolean"==typeof Ct&&(Ct=Number(Ct));if(Wt<0||this.length<Wt||this.length<Xt)throw new RangeError("Out of range index");if(Xt<=Wt)return this;var zt;if(Wt>>>=0,Xt=void 0===Xt?this.length:Xt>>>0,Ct||(Ct=0),"number"==typeof Ct)for(zt=Wt;zt<Xt;++zt)this[zt]=Ct;else{var kt=o.isBuffer(Ct)?Ct:o.from(Ct,Ht),wt=kt.length;if(0===wt)throw new TypeError('The value "'+Ct+'" is invalid for argument "value"');for(zt=0;zt<Xt-Wt;++zt)this[zt+Wt]=kt[zt%wt]}return this};var yt={};function St(jt,Ct,Wt){yt[jt]=function(Xt){function Ht(){var Bt;return A(this,Ht),Bt=l(this,Ht),Object.defineProperty(e(Bt),"message",{value:Ct.apply(e(Bt),arguments),writable:!0,configurable:!0}),Bt.name="".concat(Bt.name," [").concat(jt,"]"),delete Bt.name,Bt}return s(Ht,Xt),function i(jt,Ct,Wt){return Ct&&y(jt.prototype,Ct),Wt&&y(jt,Wt),Object.defineProperty(jt,"prototype",{writable:!1}),jt}(Ht,[{key:"code",get:function(){return jt},set:function(zt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:zt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(jt,"]: ").concat(this.message)}}]),Ht}(Wt)}function Et(jt){for(var Ct="",Wt=jt.length,Xt="-"===jt[0]?1:0;Wt>=Xt+4;Wt-=3)Ct="_".concat(jt.slice(Wt-3,Wt)).concat(Ct);return"".concat(jt.slice(0,Wt)).concat(Ct)}function gt(jt,Ct,Wt,Xt,Ht,Bt){if(jt>Wt||jt<Ct){var kt,zt="bigint"==typeof Ct?"n":"";throw kt=Bt>3?0===Ct||Ct===BigInt(0)?">= 0".concat(zt," and < 2").concat(zt," ** ").concat(8*(Bt+1)).concat(zt):">= -(2".concat(zt," ** ").concat(8*(Bt+1)-1).concat(zt,") and < 2 ** ")+"".concat(8*(Bt+1)-1).concat(zt):">= ".concat(Ct).concat(zt," and <= ").concat(Wt).concat(zt),new yt.ERR_OUT_OF_RANGE("value",kt,jt)}!function Tt(jt,Ct,Wt){Mt(Ct,"offset"),(void 0===jt[Ct]||void 0===jt[Ct+Wt])&&Nt(Ct,jt.length-(Wt+1))}(Xt,Ht,Bt)}function Mt(jt,Ct){if("number"!=typeof jt)throw new yt.ERR_INVALID_ARG_TYPE(Ct,"number",jt)}function Nt(jt,Ct,Wt){throw Math.floor(jt)!==jt?(Mt(jt,Wt),new yt.ERR_OUT_OF_RANGE(Wt||"offset","an integer",jt)):Ct<0?new yt.ERR_BUFFER_OUT_OF_BOUNDS:new yt.ERR_OUT_OF_RANGE(Wt||"offset",">= ".concat(Wt?1:0," and <= ").concat(Ct),jt)}St("ERR_BUFFER_OUT_OF_BOUNDS",function(jt){return jt?"".concat(jt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),St("ERR_INVALID_ARG_TYPE",function(jt,Ct){return'The "'.concat(jt,'" argument must be of type number. Received type ').concat(h(Ct))},TypeError),St("ERR_OUT_OF_RANGE",function(jt,Ct,Wt){var Xt='The value of "'.concat(jt,'" is out of range.'),Ht=Wt;return Number.isInteger(Wt)&&Math.abs(Wt)>Math.pow(2,32)?Ht=Et(String(Wt)):"bigint"==typeof Wt&&(Ht=String(Wt),(Wt>Math.pow(BigInt(2),BigInt(32))||Wt<-Math.pow(BigInt(2),BigInt(32)))&&(Ht=Et(Ht)),Ht+="n"),Xt+" It must be ".concat(Ct,". Received ").concat(Ht)},RangeError);var Gt=/[^+/0-9A-Za-z-_]/g;function Vt(jt,Ct){Ct=Ct||1/0;for(var Wt,Xt=jt.length,Ht=null,Bt=[],zt=0;zt<Xt;++zt){if((Wt=jt.charCodeAt(zt))>55295&&Wt<57344){if(!Ht){if(Wt>56319){(Ct-=3)>-1&&Bt.push(239,191,189);continue}if(zt+1===Xt){(Ct-=3)>-1&&Bt.push(239,191,189);continue}Ht=Wt;continue}if(Wt<56320){(Ct-=3)>-1&&Bt.push(239,191,189),Ht=Wt;continue}Wt=65536+(Ht-55296<<10|Wt-56320)}else Ht&&(Ct-=3)>-1&&Bt.push(239,191,189);if(Ht=null,Wt<128){if((Ct-=1)<0)break;Bt.push(Wt)}else if(Wt<2048){if((Ct-=2)<0)break;Bt.push(Wt>>6|192,63&Wt|128)}else if(Wt<65536){if((Ct-=3)<0)break;Bt.push(Wt>>12|224,Wt>>6&63|128,63&Wt|128)}else{if(!(Wt<1114112))throw new Error("Invalid code point");if((Ct-=4)<0)break;Bt.push(Wt>>18|240,Wt>>12&63|128,Wt>>6&63|128,63&Wt|128)}}return Bt}function It(jt){return f.toByteArray(function Pt(jt){if((jt=(jt=jt.split("=")[0]).trim().replace(Gt,"")).length<2)return"";for(;jt.length%4!=0;)jt+="=";return jt}(jt))}function Rt(jt,Ct,Wt,Xt){var Ht;for(Ht=0;Ht<Xt&&!(Ht+Wt>=Ct.length||Ht>=jt.length);++Ht)Ct[Ht+Wt]=jt[Ht];return Ht}function $t(jt,Ct){return jt instanceof Ct||null!=jt&&null!=jt.constructor&&null!=jt.constructor.name&&jt.constructor.name===Ct.name}function oe(jt){return jt!=jt}var se=function(){for(var jt="0123456789abcdef",Ct=new Array(256),Wt=0;Wt<16;++Wt)for(var Xt=16*Wt,Ht=0;Ht<16;++Ht)Ct[Xt+Ht]=jt[Wt]+jt[Ht];return Ct}();function ve(jt){return"undefined"==typeof BigInt?de:jt}function de(){throw new Error("BigInt not supported")}},25928:function(tt){"use strict";tt.exports=y,tt.exports.isMobile=y,tt.exports.default=y;var W=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,A=/android|ipad|playbook|silk/i;function y(i){i||(i={});var P=i.ua;if(!P&&"undefined"!=typeof navigator&&(P=navigator.userAgent),P&&P.headers&&"string"==typeof P.headers["user-agent"]&&(P=P.headers["user-agent"]),"string"!=typeof P)return!1;var L=W.test(P)&&!t.test(P)||!!i.tablet&&A.test(P);return!L&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==P.indexOf("Macintosh")&&-1!==P.indexOf("Safari")&&(L=!0),L}},48932:function(tt,W,t){"use strict";t.r(W),t.d(W,{sankeyCenter:function(){return s},sankeyCircular:function(){return C},sankeyJustify:function(){return e},sankeyLeft:function(){return m},sankeyRight:function(){return r}});var A=t(84706),y=t(34712),i=t(10132),P=t(6688),L=t.n(P);function l(yt){return yt.target.depth}function m(yt){return yt.depth}function r(yt,St){return St-1-yt.height}function e(yt,St){return yt.sourceLinks.length?yt.depth:St-1}function s(yt){return yt.targetLinks.length?yt.depth:yt.sourceLinks.length?(0,A.SY)(yt.sourceLinks,l)-1:0}function a(yt){return function(){return yt}}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(yt){return typeof yt}:function(yt){return yt&&"function"==typeof Symbol&&yt.constructor===Symbol&&yt!==Symbol.prototype?"symbol":typeof yt};function f(yt,St){return g(yt.source,St.source)||yt.index-St.index}function u(yt,St){return g(yt.target,St.target)||yt.index-St.index}function g(yt,St){return yt.partOfCycle===St.partOfCycle?yt.y0-St.y0:"top"===yt.circularLinkType||"bottom"===St.circularLinkType?-1:1}function c(yt){return yt.value}function w(yt){return(yt.y0+yt.y1)/2}function d(yt){return w(yt.source)}function o(yt){return w(yt.target)}function v(yt){return yt.index}function M(yt){return yt.nodes}function b(yt){return yt.links}function E(yt,St){var Et=yt.get(St);if(!Et)throw new Error("missing: "+St);return Et}function x(yt,St){return St(yt)}var S=25,T=10;function C(){var Mt,It,yt=0,St=0,Et=1,Tt=1,gt=24,Nt=v,Gt=e,Pt=M,Vt=b,re=32,le=2,Rt=null;function $t(){var Xt={nodes:Pt.apply(null,arguments),links:Vt.apply(null,arguments)};oe(Xt),p(Xt,0,Rt),se(Xt),jt(Xt),F(Xt,Nt),Ct(Xt,re,Nt),Wt(Xt);for(var Ht=4,Bt=0;Bt<Ht;Bt++)Y(Xt,Tt,Nt),nt(Xt,0,Nt),Z(Xt,St,Tt,Nt),Y(Xt,Tt,Nt),nt(Xt,0,Nt);return xt(Xt,St,Tt),O(Xt,le,Tt,Nt),Xt}function oe(Xt){Xt.nodes.forEach(function(Bt,zt){Bt.index=zt,Bt.sourceLinks=[],Bt.targetLinks=[]});var Ht=(0,y.kH)(Xt.nodes,Nt);return Xt.links.forEach(function(Bt,zt){Bt.index=zt;var kt=Bt.source,wt=Bt.target;"object"!==(void 0===kt?"undefined":h(kt))&&(kt=Bt.source=E(Ht,kt)),"object"!==(void 0===wt?"undefined":h(wt))&&(wt=Bt.target=E(Ht,wt)),kt.sourceLinks.push(Bt),wt.targetLinks.push(Bt)}),Xt}function se(Xt){Xt.nodes.forEach(function(Ht){Ht.partOfCycle=!1,Ht.value=Math.max((0,A.oh)(Ht.sourceLinks,c),(0,A.oh)(Ht.targetLinks,c)),Ht.sourceLinks.forEach(function(Bt){Bt.circular&&(Ht.partOfCycle=!0,Ht.circularLinkType=Bt.circularLinkType)}),Ht.targetLinks.forEach(function(Bt){Bt.circular&&(Ht.partOfCycle=!0,Ht.circularLinkType=Bt.circularLinkType)})})}function jt(Xt){var Ht,Bt,zt;for(Ht=Xt.nodes,Bt=[],zt=0;Ht.length;++zt,Ht=Bt,Bt=[])Ht.forEach(function(kt){kt.depth=zt,kt.sourceLinks.forEach(function(wt){Bt.indexOf(wt.target)<0&&!wt.circular&&Bt.push(wt.target)})});for(Ht=Xt.nodes,Bt=[],zt=0;Ht.length;++zt,Ht=Bt,Bt=[])Ht.forEach(function(kt){kt.height=zt,kt.targetLinks.forEach(function(wt){Bt.indexOf(wt.source)<0&&!wt.circular&&Bt.push(wt.source)})});Xt.nodes.forEach(function(kt){kt.column=Math.floor(Gt.call(null,kt,zt))})}function Ct(Xt,Ht,Bt){var zt=(0,y.UJ)().key(function(Qt){return Qt.column}).sortKeys(A.XE).entries(Xt.nodes).map(function(Qt){return Qt.values});(function ft(Qt){if(It){var te=1/0;zt.forEach(function(ye){var Te=Tt*It/(ye.length+1);te=Te<te?Te:te}),Mt=te}var ee=(0,A.SY)(zt,function(ye){return(Tt-St-(ye.length-1)*Mt)/(0,A.oh)(ye,c)});ee*=.3,Xt.links.forEach(function(ye){ye.width=ye.value*ee});var Ne=function ve(Xt){var Ht=0,Bt=0,zt=0,kt=0,wt=(0,A.kv)(Xt.nodes,function(ft){return ft.column});return Xt.links.forEach(function(ft){ft.circular&&("top"==ft.circularLinkType?Ht+=ft.width:Bt+=ft.width,0==ft.target.column&&(kt+=ft.width),ft.source.column==wt&&(zt+=ft.width))}),{top:Ht=Ht>0?Ht+S+T:Ht,bottom:Bt=Bt>0?Bt+S+T:Bt,left:kt=kt>0?kt+S+T:kt,right:zt=zt>0?zt+S+T:zt}}(Xt),We=function de(Xt,Ht){var Bt=(0,A.kv)(Xt.nodes,function(Qt){return Qt.column}),zt=Et-yt,kt=Tt-St,pt=zt/(zt+Ht.right+Ht.left),Dt=kt/(kt+Ht.top+Ht.bottom);return yt=yt*pt+Ht.left,Et=0==Ht.right?Et:Et*pt,St=St*Dt+Ht.top,Tt*=Dt,Xt.nodes.forEach(function(Qt){Qt.x0=yt+Qt.column*((Et-yt-gt)/Bt),Qt.x1=Qt.x0+gt}),Dt}(Xt,Ne);ee*=We,Xt.links.forEach(function(ye){ye.width=ye.value*ee}),zt.forEach(function(ye){var Te=ye.length;ye.forEach(function(Ge,hr){Ge.depth==zt.length-1&&1==Te||0==Ge.depth&&1==Te?(Ge.y0=Tt/2-Ge.value*ee,Ge.y1=Ge.y0+Ge.value*ee):Ge.partOfCycle?0==k(Ge,Qt)?(Ge.y0=Tt/2+hr,Ge.y1=Ge.y0+Ge.value*ee):"top"==Ge.circularLinkType?(Ge.y0=St+hr,Ge.y1=Ge.y0+Ge.value*ee):(Ge.y0=Tt-Ge.value*ee-hr,Ge.y1=Ge.y0+Ge.value*ee):0==Ne.top||0==Ne.bottom?(Ge.y0=(Tt-St)/Te*hr,Ge.y1=Ge.y0+Ge.value*ee):(Ge.y0=(Tt-St)/2-Te/2+hr,Ge.y1=Ge.y0+Ge.value*ee)})})})(Bt),Dt();for(var kt=1,wt=Ht;wt>0;--wt)pt(kt*=.99,Bt),Dt();function pt(Qt,te){var ee=zt.length;zt.forEach(function(Ne){var We=Ne.length,ye=Ne[0].depth;Ne.forEach(function(Te){var Ge;if((Te.sourceLinks.length||Te.targetLinks.length)&&!(Te.partOfCycle&&k(Te,te)>0))if(0==ye&&1==We)Te.y0=Tt/2-(Ge=Te.y1-Te.y0)/2,Te.y1=Tt/2+Ge/2;else if(ye==ee-1&&1==We)Te.y0=Tt/2-(Ge=Te.y1-Te.y0)/2,Te.y1=Tt/2+Ge/2;else{var ce=(0,A.mo)(Te.sourceLinks,o),Ue=(0,A.mo)(Te.targetLinks,d),Ye=((ce&&Ue?(ce+Ue)/2:ce||Ue)-w(Te))*Qt;Te.y0+=Ye,Te.y1+=Ye}})})}function Dt(){zt.forEach(function(Qt){var te,ee,ye,Ne=St,We=Qt.length;for(Qt.sort(g),ye=0;ye<We;++ye)(ee=Ne-(te=Qt[ye]).y0)>0&&(te.y0+=ee,te.y1+=ee),Ne=te.y1+Mt;if((ee=Ne-Mt-Tt)>0)for(Ne=te.y0-=ee,te.y1-=ee,ye=We-2;ye>=0;--ye)(ee=(te=Qt[ye]).y1+Mt-Ne)>0&&(te.y0-=ee,te.y1-=ee),Ne=te.y0})}}function Wt(Xt){Xt.nodes.forEach(function(Ht){Ht.sourceLinks.sort(u),Ht.targetLinks.sort(f)}),Xt.nodes.forEach(function(Ht){var Bt=Ht.y0,zt=Bt,kt=Ht.y1,wt=kt;Ht.sourceLinks.forEach(function(ft){ft.circular?(ft.y0=kt-ft.width/2,kt-=ft.width):(ft.y0=Bt+ft.width/2,Bt+=ft.width)}),Ht.targetLinks.forEach(function(ft){ft.circular?(ft.y1=wt-ft.width/2,wt-=ft.width):(ft.y1=zt+ft.width/2,zt+=ft.width)})})}return $t.nodeId=function(Xt){return arguments.length?(Nt="function"==typeof Xt?Xt:a(Xt),$t):Nt},$t.nodeAlign=function(Xt){return arguments.length?(Gt="function"==typeof Xt?Xt:a(Xt),$t):Gt},$t.nodeWidth=function(Xt){return arguments.length?(gt=+Xt,$t):gt},$t.nodePadding=function(Xt){return arguments.length?(Mt=+Xt,$t):Mt},$t.nodes=function(Xt){return arguments.length?(Pt="function"==typeof Xt?Xt:a(Xt),$t):Pt},$t.links=function(Xt){return arguments.length?(Vt="function"==typeof Xt?Xt:a(Xt),$t):Vt},$t.size=function(Xt){return arguments.length?(yt=St=0,Et=+Xt[0],Tt=+Xt[1],$t):[Et-yt,Tt-St]},$t.extent=function(Xt){return arguments.length?(yt=+Xt[0][0],Et=+Xt[1][0],St=+Xt[0][1],Tt=+Xt[1][1],$t):[[yt,St],[Et,Tt]]},$t.iterations=function(Xt){return arguments.length?(re=+Xt,$t):re},$t.circularLinkGap=function(Xt){return arguments.length?(le=+Xt,$t):le},$t.nodePaddingRatio=function(Xt){return arguments.length?(It=+Xt,$t):It},$t.sortNodes=function(Xt){return arguments.length?(Rt=Xt,$t):Rt},$t.update=function(Xt){return F(Xt,Nt),Wt(Xt),Xt.links.forEach(function(Ht){Ht.circular&&(Ht.circularLinkType=Ht.y0+Ht.y1<Tt?"top":"bottom",Ht.source.circularLinkType=Ht.circularLinkType,Ht.target.circularLinkType=Ht.circularLinkType)}),Y(Xt,Tt,Nt,!1),nt(Xt,0,Nt),O(Xt,le,Tt,Nt),Xt},$t}function p(yt,St,Et){var Tt=0;if(null===Et){for(var gt=[],Mt=0;Mt<yt.links.length;Mt++){var Nt=yt.links[Mt],Gt=Nt.source.index,Pt=Nt.target.index;gt[Gt]||(gt[Gt]=[]),gt[Pt]||(gt[Pt]=[]),-1===gt[Gt].indexOf(Pt)&&gt[Gt].push(Pt)}var Vt=L()(gt);Vt.sort(function(Rt,$t){return Rt.length-$t.length});var re={};for(Mt=0;Mt<Vt.length;Mt++){var It=Vt[Mt].slice(-2);re[It[0]]||(re[It[0]]={}),re[It[0]][It[1]]=!0}yt.links.forEach(function(Rt){var $t=Rt.target.index,oe=Rt.source.index;$t===oe||re[oe]&&re[oe][$t]?(Rt.circular=!0,Rt.circularLinkID=Tt,Tt+=1):Rt.circular=!1})}else yt.links.forEach(function(Rt){Rt.source[Et]<Rt.target[Et]?Rt.circular=!1:(Rt.circular=!0,Rt.circularLinkID=Tt,Tt+=1)})}function F(yt,St){var Et=0,Tt=0;yt.links.forEach(function(gt){gt.circular&&(gt.circularLinkType=gt.source.circularLinkType||gt.target.circularLinkType?gt.source.circularLinkType?gt.source.circularLinkType:gt.target.circularLinkType:Et<Tt?"top":"bottom","top"==gt.circularLinkType?Et+=1:Tt+=1,yt.nodes.forEach(function(Mt){(x(Mt,St)==x(gt.source,St)||x(Mt,St)==x(gt.target,St))&&(Mt.circularLinkType=gt.circularLinkType)}))}),yt.links.forEach(function(gt){gt.circular&&(gt.source.circularLinkType==gt.target.circularLinkType&&(gt.circularLinkType=gt.source.circularLinkType),dt(gt,St)&&(gt.circularLinkType=gt.source.circularLinkType))})}function D(yt){var St=Math.abs(yt.y1-yt.y0),Et=Math.abs(yt.target.x0-yt.source.x1);return Math.atan(Et/St)}function N(yt,St){return!(yt.source.column<St.target.column||yt.target.column>St.source.column)}function k(yt,St){var Et=0;yt.sourceLinks.forEach(function(gt){Et=gt.circular&&!dt(gt,St)?Et+1:Et});var Tt=0;return yt.targetLinks.forEach(function(gt){Tt=gt.circular&&!dt(gt,St)?Tt+1:Tt}),Et+Tt}function z(yt){var Et=0;yt.source.sourceLinks.forEach(function(Mt){Et=Mt.circular?Et+1:Et});var gt=0;return yt.target.targetLinks.forEach(function(Mt){gt=Mt.circular?gt+1:gt}),!(Et>1||gt>1)}function B(yt,St,Et){return yt.sort(G),yt.forEach(function(Tt,gt){var Mt=0;if(dt(Tt,Et)&&z(Tt))Tt.circularPathData.verticalBuffer=Mt+Tt.width/2;else{for(var Nt=0;Nt<gt;Nt++)if(N(yt[gt],yt[Nt])){var Gt=yt[Nt].circularPathData.verticalBuffer+yt[Nt].width/2+St;Mt=Gt>Mt?Gt:Mt}Tt.circularPathData.verticalBuffer=Mt+Tt.width/2}}),yt}function O(yt,St,Et,Tt){var Mt=(0,A.SY)(yt.links,function(Pt){return Pt.source.y0});yt.links.forEach(function(Pt){Pt.circular&&(Pt.circularPathData={})}),B(yt.links.filter(function(Pt){return"top"==Pt.circularLinkType}),St,Tt),B(yt.links.filter(function(Pt){return"bottom"==Pt.circularLinkType}),St,Tt),yt.links.forEach(function(Pt){if(Pt.circular){if(Pt.circularPathData.arcRadius=Pt.width+T,Pt.circularPathData.leftNodeBuffer=5,Pt.circularPathData.rightNodeBuffer=5,Pt.circularPathData.sourceWidth=Pt.source.x1-Pt.source.x0,Pt.circularPathData.sourceX=Pt.source.x0+Pt.circularPathData.sourceWidth,Pt.circularPathData.targetX=Pt.target.x0,Pt.circularPathData.sourceY=Pt.y0,Pt.circularPathData.targetY=Pt.y1,dt(Pt,Tt)&&z(Pt))Pt.circularPathData.leftSmallArcRadius=T+Pt.width/2,Pt.circularPathData.leftLargeArcRadius=T+Pt.width/2,Pt.circularPathData.rightSmallArcRadius=T+Pt.width/2,Pt.circularPathData.rightLargeArcRadius=T+Pt.width/2,"bottom"==Pt.circularLinkType?(Pt.circularPathData.verticalFullExtent=Pt.source.y1+S+Pt.circularPathData.verticalBuffer,Pt.circularPathData.verticalLeftInnerExtent=Pt.circularPathData.verticalFullExtent-Pt.circularPathData.leftLargeArcRadius,Pt.circularPathData.verticalRightInnerExtent=Pt.circularPathData.verticalFullExtent-Pt.circularPathData.rightLargeArcRadius):(Pt.circularPathData.verticalFullExtent=Pt.source.y0-S-Pt.circularPathData.verticalBuffer,Pt.circularPathData.verticalLeftInnerExtent=Pt.circularPathData.verticalFullExtent+Pt.circularPathData.leftLargeArcRadius,Pt.circularPathData.verticalRightInnerExtent=Pt.circularPathData.verticalFullExtent+Pt.circularPathData.rightLargeArcRadius);else{var Vt=Pt.source.column,re=Pt.circularLinkType,le=yt.links.filter(function($t){return $t.source.column==Vt&&$t.circularLinkType==re});le.sort("bottom"==Pt.circularLinkType?et:J);var It=0;le.forEach(function($t,oe){$t.circularLinkID==Pt.circularLinkID&&(Pt.circularPathData.leftSmallArcRadius=T+Pt.width/2+It,Pt.circularPathData.leftLargeArcRadius=T+Pt.width/2+oe*St+It),It+=$t.width}),Vt=Pt.target.column,(le=yt.links.filter(function($t){return $t.target.column==Vt&&$t.circularLinkType==re})).sort("bottom"==Pt.circularLinkType?lt:at),It=0,le.forEach(function($t,oe){$t.circularLinkID==Pt.circularLinkID&&(Pt.circularPathData.rightSmallArcRadius=T+Pt.width/2+It,Pt.circularPathData.rightLargeArcRadius=T+Pt.width/2+oe*St+It),It+=$t.width}),"bottom"==Pt.circularLinkType?(Pt.circularPathData.verticalFullExtent=Math.max(Et,Pt.source.y1,Pt.target.y1)+S+Pt.circularPathData.verticalBuffer,Pt.circularPathData.verticalLeftInnerExtent=Pt.circularPathData.verticalFullExtent-Pt.circularPathData.leftLargeArcRadius,Pt.circularPathData.verticalRightInnerExtent=Pt.circularPathData.verticalFullExtent-Pt.circularPathData.rightLargeArcRadius):(Pt.circularPathData.verticalFullExtent=Mt-S-Pt.circularPathData.verticalBuffer,Pt.circularPathData.verticalLeftInnerExtent=Pt.circularPathData.verticalFullExtent+Pt.circularPathData.leftLargeArcRadius,Pt.circularPathData.verticalRightInnerExtent=Pt.circularPathData.verticalFullExtent+Pt.circularPathData.rightLargeArcRadius)}Pt.circularPathData.leftInnerExtent=Pt.circularPathData.sourceX+Pt.circularPathData.leftNodeBuffer,Pt.circularPathData.rightInnerExtent=Pt.circularPathData.targetX-Pt.circularPathData.rightNodeBuffer,Pt.circularPathData.leftFullExtent=Pt.circularPathData.sourceX+Pt.circularPathData.leftLargeArcRadius+Pt.circularPathData.leftNodeBuffer,Pt.circularPathData.rightFullExtent=Pt.circularPathData.targetX-Pt.circularPathData.rightLargeArcRadius-Pt.circularPathData.rightNodeBuffer}if(Pt.circular)Pt.path=function U(yt){return"top"==yt.circularLinkType?"M"+yt.circularPathData.sourceX+" "+yt.circularPathData.sourceY+" L"+yt.circularPathData.leftInnerExtent+" "+yt.circularPathData.sourceY+" A"+yt.circularPathData.leftLargeArcRadius+" "+yt.circularPathData.leftSmallArcRadius+" 0 0 0 "+yt.circularPathData.leftFullExtent+" "+(yt.circularPathData.sourceY-yt.circularPathData.leftSmallArcRadius)+" L"+yt.circularPathData.leftFullExtent+" "+yt.circularPathData.verticalLeftInnerExtent+" A"+yt.circularPathData.leftLargeArcRadius+" "+yt.circularPathData.leftLargeArcRadius+" 0 0 0 "+yt.circularPathData.leftInnerExtent+" "+yt.circularPathData.verticalFullExtent+" L"+yt.circularPathData.rightInnerExtent+" "+yt.circularPathData.verticalFullExtent+" A"+yt.circularPathData.rightLargeArcRadius+" "+yt.circularPathData.rightLargeArcRadius+" 0 0 0 "+yt.circularPathData.rightFullExtent+" "+yt.circularPathData.verticalRightInnerExtent+" L"+yt.circularPathData.rightFullExtent+" "+(yt.circularPathData.targetY-yt.circularPathData.rightSmallArcRadius)+" A"+yt.circularPathData.rightLargeArcRadius+" "+yt.circularPathData.rightSmallArcRadius+" 0 0 0 "+yt.circularPathData.rightInnerExtent+" "+yt.circularPathData.targetY+" L"+yt.circularPathData.targetX+" "+yt.circularPathData.targetY:"M"+yt.circularPathData.sourceX+" "+yt.circularPathData.sourceY+" L"+yt.circularPathData.leftInnerExtent+" "+yt.circularPathData.sourceY+" A"+yt.circularPathData.leftLargeArcRadius+" "+yt.circularPathData.leftSmallArcRadius+" 0 0 1 "+yt.circularPathData.leftFullExtent+" "+(yt.circularPathData.sourceY+yt.circularPathData.leftSmallArcRadius)+" L"+yt.circularPathData.leftFullExtent+" "+yt.circularPathData.verticalLeftInnerExtent+" A"+yt.circularPathData.leftLargeArcRadius+" "+yt.circularPathData.leftLargeArcRadius+" 0 0 1 "+yt.circularPathData.leftInnerExtent+" "+yt.circularPathData.verticalFullExtent+" L"+yt.circularPathData.rightInnerExtent+" "+yt.circularPathData.verticalFullExtent+" A"+yt.circularPathData.rightLargeArcRadius+" "+yt.circularPathData.rightLargeArcRadius+" 0 0 1 "+yt.circularPathData.rightFullExtent+" "+yt.circularPathData.verticalRightInnerExtent+" L"+yt.circularPathData.rightFullExtent+" "+(yt.circularPathData.targetY+yt.circularPathData.rightSmallArcRadius)+" A"+yt.circularPathData.rightLargeArcRadius+" "+yt.circularPathData.rightSmallArcRadius+" 0 0 1 "+yt.circularPathData.rightInnerExtent+" "+yt.circularPathData.targetY+" L"+yt.circularPathData.targetX+" "+yt.circularPathData.targetY}(Pt);else{var Rt=(0,i.ak)().source(function($t){return[$t.source.x0+($t.source.x1-$t.source.x0),$t.y0]}).target(function($t){return[$t.target.x0,$t.y1]});Pt.path=Rt(Pt)}})}function G(yt,St){return K(yt)==K(St)?"bottom"==yt.circularLinkType?et(yt,St):J(yt,St):K(St)-K(yt)}function J(yt,St){return yt.y0-St.y0}function et(yt,St){return St.y0-yt.y0}function at(yt,St){return yt.y1-St.y1}function lt(yt,St){return St.y1-yt.y1}function K(yt){return yt.target.column-yt.source.column}function j(yt){return yt.target.x0-yt.source.x1}function rt(yt,St){var Et=D(yt),Tt=j(St)/Math.tan(Et);return"up"==st(yt)?yt.y1+Tt:yt.y1-Tt}function H(yt,St){var Et=D(yt),Tt=j(St)/Math.tan(Et);return"up"==st(yt)?yt.y1-Tt:yt.y1+Tt}function Z(yt,St,Et,Tt){yt.links.forEach(function(gt){if(!gt.circular&&gt.target.column-gt.source.column>1){var Mt=gt.source.column+1,Nt=gt.target.column-1,Gt=1,Pt=Nt-Mt+1;for(Gt=1;Mt<=Nt;Mt++,Gt++)yt.nodes.forEach(function(Vt){if(Vt.column==Mt){var de,re=Gt/(Pt+1),le=Math.pow(1-re,3),It=3*re*Math.pow(1-re,2),Rt=3*Math.pow(re,2)*(1-re),$t=Math.pow(re,3),oe=le*gt.y0+It*gt.y0+Rt*gt.y1+$t*gt.y1,se=oe-gt.width/2,ve=oe+gt.width/2;se>Vt.y0&&se<Vt.y1?(de=Vt.y1-se+10,Vt=Q(Vt,de="bottom"==Vt.circularLinkType?de:-de,St,Et),yt.nodes.forEach(function(jt){x(jt,Tt)==x(Vt,Tt)||jt.column!=Vt.column||it(Vt,jt)&&Q(jt,de,St,Et)})):(ve>Vt.y0&&ve<Vt.y1||se<Vt.y0&&ve>Vt.y1)&&(Vt=Q(Vt,de=ve-Vt.y0+10,St,Et),yt.nodes.forEach(function(jt){x(jt,Tt)==x(Vt,Tt)||jt.column!=Vt.column||jt.y0<Vt.y1&&jt.y1>Vt.y1&&Q(jt,de,St,Et)}))}})}})}function it(yt,St){return yt.y0>St.y0&&yt.y0<St.y1||yt.y1>St.y0&&yt.y1<St.y1||yt.y0<St.y0&&yt.y1>St.y1}function Q(yt,St,Et,Tt){return yt.y0+St>=Et&&yt.y1+St<=Tt&&(yt.y0=yt.y0+St,yt.y1=yt.y1+St,yt.targetLinks.forEach(function(gt){gt.y1=gt.y1+St}),yt.sourceLinks.forEach(function(gt){gt.y0=gt.y0+St})),yt}function Y(yt,St,Et,Tt){yt.nodes.forEach(function(gt){Tt&&gt.y+(gt.y1-gt.y0)>St&&(gt.y=gt.y-(gt.y+(gt.y1-gt.y0)-St));var Mt=yt.links.filter(function(Pt){return x(Pt.source,Et)==x(gt,Et)}),Nt=Mt.length;Nt>1&&Mt.sort(function(Pt,Vt){if(!Pt.circular&&!Vt.circular){if(Pt.target.column==Vt.target.column)return Pt.y1-Vt.y1;if(!_(Pt,Vt))return Pt.y1-Vt.y1;if(Pt.target.column>Vt.target.column){var re=H(Vt,Pt);return Pt.y1-re}if(Vt.target.column>Pt.target.column)return H(Pt,Vt)-Vt.y1}return Pt.circular&&!Vt.circular?"top"==Pt.circularLinkType?-1:1:Vt.circular&&!Pt.circular?"top"==Vt.circularLinkType?1:-1:Pt.circular&&Vt.circular?Pt.circularLinkType===Vt.circularLinkType&&"top"==Pt.circularLinkType?Pt.target.column===Vt.target.column?Pt.target.y1-Vt.target.y1:Vt.target.column-Pt.target.column:Pt.circularLinkType===Vt.circularLinkType&&"bottom"==Pt.circularLinkType?Pt.target.column===Vt.target.column?Vt.target.y1-Pt.target.y1:Pt.target.column-Vt.target.column:"top"==Pt.circularLinkType?-1:1:void 0});var Gt=gt.y0;Mt.forEach(function(Pt){Pt.y0=Gt+Pt.width/2,Gt+=Pt.width}),Mt.forEach(function(Pt,Vt){if("bottom"==Pt.circularLinkType){for(var re=Vt+1,le=0;re<Nt;re++)le+=Mt[re].width;Pt.y0=gt.y1-le-Pt.width/2}})})}function nt(yt,St,Et){yt.nodes.forEach(function(Tt){var gt=yt.links.filter(function(Gt){return x(Gt.target,Et)==x(Tt,Et)}),Mt=gt.length;Mt>1&&gt.sort(function(Gt,Pt){if(!Gt.circular&&!Pt.circular){if(Gt.source.column==Pt.source.column)return Gt.y0-Pt.y0;if(!_(Gt,Pt))return Gt.y0-Pt.y0;if(Pt.source.column<Gt.source.column){var Vt=rt(Pt,Gt);return Gt.y0-Vt}if(Gt.source.column<Pt.source.column)return rt(Gt,Pt)-Pt.y0}return Gt.circular&&!Pt.circular?"top"==Gt.circularLinkType?-1:1:Pt.circular&&!Gt.circular?"top"==Pt.circularLinkType?1:-1:Gt.circular&&Pt.circular?Gt.circularLinkType===Pt.circularLinkType&&"top"==Gt.circularLinkType?Gt.source.column===Pt.source.column?Gt.source.y1-Pt.source.y1:Gt.source.column-Pt.source.column:Gt.circularLinkType===Pt.circularLinkType&&"bottom"==Gt.circularLinkType?Gt.source.column===Pt.source.column?Gt.source.y1-Pt.source.y1:Pt.source.column-Gt.source.column:"top"==Gt.circularLinkType?-1:1:void 0});var Nt=Tt.y0;gt.forEach(function(Gt){Gt.y1=Nt+Gt.width/2,Nt+=Gt.width}),gt.forEach(function(Gt,Pt){if("bottom"==Gt.circularLinkType){for(var Vt=Pt+1,re=0;Vt<Mt;Vt++)re+=gt[Vt].width;Gt.y1=Tt.y1-re-Gt.width/2}})})}function _(yt,St){return st(yt)==st(St)}function st(yt){return yt.y0-yt.y1>0?"up":"down"}function dt(yt,St){return x(yt.source,St)==x(yt.target,St)}function xt(yt,St,Et){var Tt=yt.nodes,gt=yt.links,Mt=!1,Nt=!1;if(gt.forEach(function(It){"top"==It.circularLinkType?Mt=!0:"bottom"==It.circularLinkType&&(Nt=!0)}),0==Mt||0==Nt){var Gt=(0,A.SY)(Tt,function(It){return It.y0}),le=(Et-St)/((0,A.kv)(Tt,function(It){return It.y1})-Gt);Tt.forEach(function(It){var Rt=(It.y1-It.y0)*le;It.y0=(It.y0-Gt)*le,It.y1=It.y0+Rt}),gt.forEach(function(It){It.y0=(It.y0-Gt)*le,It.y1=(It.y1-Gt)*le,It.width=It.width*le})}}},26800:function(tt,W,t){"use strict";t.r(W),t.d(W,{sankey:function(){return v},sankeyCenter:function(){return m},sankeyJustify:function(){return l},sankeyLeft:function(){return P},sankeyLinkHorizontal:function(){return x},sankeyRight:function(){return L}});var A=t(84706),y=t(34712);function i(S){return S.target.depth}function P(S){return S.depth}function L(S,T){return T-1-S.height}function l(S,T){return S.sourceLinks.length?S.depth:T-1}function m(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,A.SY)(S.sourceLinks,i)-1:0}function r(S){return function(){return S}}function e(S,T){return a(S.source,T.source)||S.index-T.index}function s(S,T){return a(S.target,T.target)||S.index-T.index}function a(S,T){return S.y0-T.y0}function h(S){return S.value}function f(S){return(S.y0+S.y1)/2}function u(S){return f(S.source)*S.value}function g(S){return f(S.target)*S.value}function c(S){return S.index}function w(S){return S.nodes}function d(S){return S.links}function o(S,T){var n=S.get(T);if(!n)throw new Error("missing: "+T);return n}function v(){var S=0,T=0,n=1,C=1,p=24,F=8,D=c,N=l,k=w,z=d,B=32;function U(){var K={nodes:k.apply(null,arguments),links:z.apply(null,arguments)};return G(K),J(K),et(K),at(K),lt(K),K}function G(K){K.nodes.forEach(function(rt,H){rt.index=H,rt.sourceLinks=[],rt.targetLinks=[]});var j=(0,y.kH)(K.nodes,D);K.links.forEach(function(rt,H){rt.index=H;var Z=rt.source,it=rt.target;"object"!=typeof Z&&(Z=rt.source=o(j,Z)),"object"!=typeof it&&(it=rt.target=o(j,it)),Z.sourceLinks.push(rt),it.targetLinks.push(rt)})}function J(K){K.nodes.forEach(function(j){j.value=Math.max((0,A.oh)(j.sourceLinks,h),(0,A.oh)(j.targetLinks,h))})}function et(K){var j,rt,H;for(j=K.nodes,rt=[],H=0;j.length;++H,j=rt,rt=[])j.forEach(function(it){it.depth=H,it.sourceLinks.forEach(function(Q){rt.indexOf(Q.target)<0&&rt.push(Q.target)})});for(j=K.nodes,rt=[],H=0;j.length;++H,j=rt,rt=[])j.forEach(function(it){it.height=H,it.targetLinks.forEach(function(Q){rt.indexOf(Q.source)<0&&rt.push(Q.source)})});var Z=(n-S-p)/(H-1);K.nodes.forEach(function(it){it.x1=(it.x0=S+Math.max(0,Math.min(H-1,Math.floor(N.call(null,it,H))))*Z)+p})}function at(K){var j=(0,y.UJ)().key(function(nt){return nt.x0}).sortKeys(A.XE).entries(K.nodes).map(function(nt){return nt.values});(function Z(){var nt=(0,A.kv)(j,function(dt){return dt.length}),_=.6666666666666666*(C-T)/(nt-1);F>_&&(F=_);var st=(0,A.SY)(j,function(dt){return(C-T-(dt.length-1)*F)/(0,A.oh)(dt,h)});j.forEach(function(dt){dt.forEach(function(xt,yt){xt.y1=(xt.y0=yt)+xt.value*st})}),K.links.forEach(function(dt){dt.width=dt.value*st})})(),Y();for(var rt=1,H=B;H>0;--H)Q(rt*=.99),Y(),it(rt),Y();function it(nt){j.forEach(function(_){_.forEach(function(st){if(st.targetLinks.length){var dt=((0,A.oh)(st.targetLinks,u)/(0,A.oh)(st.targetLinks,h)-f(st))*nt;st.y0+=dt,st.y1+=dt}})})}function Q(nt){j.slice().reverse().forEach(function(_){_.forEach(function(st){if(st.sourceLinks.length){var dt=((0,A.oh)(st.sourceLinks,g)/(0,A.oh)(st.sourceLinks,h)-f(st))*nt;st.y0+=dt,st.y1+=dt}})})}function Y(){j.forEach(function(nt){var _,st,yt,dt=T,xt=nt.length;for(nt.sort(a),yt=0;yt<xt;++yt)(st=dt-(_=nt[yt]).y0)>0&&(_.y0+=st,_.y1+=st),dt=_.y1+F;if((st=dt-F-C)>0)for(dt=_.y0-=st,_.y1-=st,yt=xt-2;yt>=0;--yt)(st=(_=nt[yt]).y1+F-dt)>0&&(_.y0-=st,_.y1-=st),dt=_.y0})}}function lt(K){K.nodes.forEach(function(j){j.sourceLinks.sort(s),j.targetLinks.sort(e)}),K.nodes.forEach(function(j){var rt=j.y0,H=rt;j.sourceLinks.forEach(function(Z){Z.y0=rt+Z.width/2,rt+=Z.width}),j.targetLinks.forEach(function(Z){Z.y1=H+Z.width/2,H+=Z.width})})}return U.update=function(K){return lt(K),K},U.nodeId=function(K){return arguments.length?(D="function"==typeof K?K:r(K),U):D},U.nodeAlign=function(K){return arguments.length?(N="function"==typeof K?K:r(K),U):N},U.nodeWidth=function(K){return arguments.length?(p=+K,U):p},U.nodePadding=function(K){return arguments.length?(F=+K,U):F},U.nodes=function(K){return arguments.length?(k="function"==typeof K?K:r(K),U):k},U.links=function(K){return arguments.length?(z="function"==typeof K?K:r(K),U):z},U.size=function(K){return arguments.length?(S=T=0,n=+K[0],C=+K[1],U):[n-S,C-T]},U.extent=function(K){return arguments.length?(S=+K[0][0],n=+K[1][0],T=+K[0][1],C=+K[1][1],U):[[S,T],[n,C]]},U.iterations=function(K){return arguments.length?(B=+K,U):B},U}var M=t(10132);function b(S){return[S.source.x1,S.y0]}function E(S){return[S.target.x0,S.y1]}function x(){return(0,M.ak)().source(b).target(E)}},33428:function(tt,W,t){var A,y;(function(){var i={version:"3.8.0"},P=[].slice,L=function(ot){return P.call(ot)},l=self.document;function m(ot){return ot&&(ot.ownerDocument||ot.document||ot).documentElement}function r(ot){return ot&&(ot.ownerDocument&&ot.ownerDocument.defaultView||ot.document&&ot||ot.defaultView)}if(l)try{L(l.documentElement.childNodes)}catch(ot){L=function(bt){for(var Ft=bt.length,Yt=new Array(Ft);Ft--;)Yt[Ft]=bt[Ft];return Yt}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(ot){var e=this.Element.prototype,s=e.setAttribute,a=e.setAttributeNS,h=this.CSSStyleDeclaration.prototype,f=h.setProperty;e.setAttribute=function(bt,Ft){s.call(this,bt,Ft+"")},e.setAttributeNS=function(bt,Ft,Yt){a.call(this,bt,Ft,Yt+"")},h.setProperty=function(bt,Ft,Yt){f.call(this,bt,Ft+"",Yt)}}function u(ot,bt){return ot<bt?-1:ot>bt?1:ot>=bt?0:NaN}function g(ot){return null===ot?NaN:+ot}function c(ot){return!isNaN(ot)}function w(ot){return{left:function(bt,Ft,Yt,_t){for(arguments.length<3&&(Yt=0),arguments.length<4&&(_t=bt.length);Yt<_t;){var ie=Yt+_t>>>1;ot(bt[ie],Ft)<0?Yt=ie+1:_t=ie}return Yt},right:function(bt,Ft,Yt,_t){for(arguments.length<3&&(Yt=0),arguments.length<4&&(_t=bt.length);Yt<_t;){var ie=Yt+_t>>>1;ot(bt[ie],Ft)>0?_t=ie:Yt=ie+1}return Yt}}}i.ascending=u,i.descending=function(ot,bt){return bt<ot?-1:bt>ot?1:bt>=ot?0:NaN},i.min=function(ot,bt){var _t,ie,Ft=-1,Yt=ot.length;if(1===arguments.length){for(;++Ft<Yt;)if(null!=(ie=ot[Ft])&&ie>=ie){_t=ie;break}for(;++Ft<Yt;)null!=(ie=ot[Ft])&&_t>ie&&(_t=ie)}else{for(;++Ft<Yt;)if(null!=(ie=bt.call(ot,ot[Ft],Ft))&&ie>=ie){_t=ie;break}for(;++Ft<Yt;)null!=(ie=bt.call(ot,ot[Ft],Ft))&&_t>ie&&(_t=ie)}return _t},i.max=function(ot,bt){var _t,ie,Ft=-1,Yt=ot.length;if(1===arguments.length){for(;++Ft<Yt;)if(null!=(ie=ot[Ft])&&ie>=ie){_t=ie;break}for(;++Ft<Yt;)null!=(ie=ot[Ft])&&ie>_t&&(_t=ie)}else{for(;++Ft<Yt;)if(null!=(ie=bt.call(ot,ot[Ft],Ft))&&ie>=ie){_t=ie;break}for(;++Ft<Yt;)null!=(ie=bt.call(ot,ot[Ft],Ft))&&ie>_t&&(_t=ie)}return _t},i.extent=function(ot,bt){var _t,ie,Pe,Ft=-1,Yt=ot.length;if(1===arguments.length){for(;++Ft<Yt;)if(null!=(ie=ot[Ft])&&ie>=ie){_t=Pe=ie;break}for(;++Ft<Yt;)null!=(ie=ot[Ft])&&(_t>ie&&(_t=ie),Pe<ie&&(Pe=ie))}else{for(;++Ft<Yt;)if(null!=(ie=bt.call(ot,ot[Ft],Ft))&&ie>=ie){_t=Pe=ie;break}for(;++Ft<Yt;)null!=(ie=bt.call(ot,ot[Ft],Ft))&&(_t>ie&&(_t=ie),Pe<ie&&(Pe=ie))}return[_t,Pe]},i.sum=function(ot,bt){var _t,Ft=0,Yt=ot.length,ie=-1;if(1===arguments.length)for(;++ie<Yt;)c(_t=+ot[ie])&&(Ft+=_t);else for(;++ie<Yt;)c(_t=+bt.call(ot,ot[ie],ie))&&(Ft+=_t);return Ft},i.mean=function(ot,bt){var _t,Ft=0,Yt=ot.length,ie=-1,Pe=Yt;if(1===arguments.length)for(;++ie<Yt;)c(_t=g(ot[ie]))?Ft+=_t:--Pe;else for(;++ie<Yt;)c(_t=g(bt.call(ot,ot[ie],ie)))?Ft+=_t:--Pe;if(Pe)return Ft/Pe},i.quantile=function(ot,bt){var Ft=(ot.length-1)*bt+1,Yt=Math.floor(Ft),_t=+ot[Yt-1],ie=Ft-Yt;return ie?_t+ie*(ot[Yt]-_t):_t},i.median=function(ot,bt){var _t,Ft=[],Yt=ot.length,ie=-1;if(1===arguments.length)for(;++ie<Yt;)c(_t=g(ot[ie]))&&Ft.push(_t);else for(;++ie<Yt;)c(_t=g(bt.call(ot,ot[ie],ie)))&&Ft.push(_t);if(Ft.length)return i.quantile(Ft.sort(u),.5)},i.variance=function(ot,bt){var _t,ie,Ft=ot.length,Yt=0,Pe=0,xe=-1,Oe=0;if(1===arguments.length)for(;++xe<Ft;)c(_t=g(ot[xe]))&&(Pe+=(ie=_t-Yt)*(_t-(Yt+=ie/++Oe)));else for(;++xe<Ft;)c(_t=g(bt.call(ot,ot[xe],xe)))&&(Pe+=(ie=_t-Yt)*(_t-(Yt+=ie/++Oe)));if(Oe>1)return Pe/(Oe-1)},i.deviation=function(){var ot=i.variance.apply(this,arguments);return ot&&Math.sqrt(ot)};var d=w(u);function o(ot){return ot.length}i.bisectLeft=d.left,i.bisect=i.bisectRight=d.right,i.bisector=function(ot){return w(1===ot.length?function(bt,Ft){return u(ot(bt),Ft)}:ot)},i.shuffle=function(ot,bt,Ft){(Yt=arguments.length)<3&&(Ft=ot.length,Yt<2&&(bt=0));for(var _t,ie,Yt=Ft-bt;Yt;)ie=Math.random()*Yt--|0,_t=ot[Yt+bt],ot[Yt+bt]=ot[ie+bt],ot[ie+bt]=_t;return ot},i.permute=function(ot,bt){for(var Ft=bt.length,Yt=new Array(Ft);Ft--;)Yt[Ft]=ot[bt[Ft]];return Yt},i.pairs=function(ot){for(var bt=0,Ft=ot.length-1,_t=ot[0],ie=new Array(Ft<0?0:Ft);bt<Ft;)ie[bt]=[_t,_t=ot[++bt]];return ie},i.transpose=function(ot){if(!(ie=ot.length))return[];for(var bt=-1,Ft=i.min(ot,o),Yt=new Array(Ft);++bt<Ft;)for(var ie,_t=-1,Pe=Yt[bt]=new Array(ie);++_t<ie;)Pe[_t]=ot[_t][bt];return Yt},i.zip=function(){return i.transpose(arguments)},i.keys=function(ot){var bt=[];for(var Ft in ot)bt.push(Ft);return bt},i.values=function(ot){var bt=[];for(var Ft in ot)bt.push(ot[Ft]);return bt},i.entries=function(ot){var bt=[];for(var Ft in ot)bt.push({key:Ft,value:ot[Ft]});return bt},i.merge=function(ot){for(var Ft,ie,Pe,bt=ot.length,Yt=-1,_t=0;++Yt<bt;)_t+=ot[Yt].length;for(ie=new Array(_t);--bt>=0;)for(Ft=(Pe=ot[bt]).length;--Ft>=0;)ie[--_t]=Pe[Ft];return ie};var v=Math.abs;function M(ot){for(var bt=1;ot*bt%1;)bt*=10;return bt}function b(ot,bt){for(var Ft in bt)Object.defineProperty(ot.prototype,Ft,{value:bt[Ft],enumerable:!1})}function E(){this._=Object.create(null)}i.range=function(ot,bt,Ft){if(arguments.length<3&&(Ft=1,arguments.length<2&&(bt=ot,ot=0)),(bt-ot)/Ft==1/0)throw new Error("infinite range");var Pe,Yt=[],_t=M(v(Ft)),ie=-1;if(ot*=_t,bt*=_t,(Ft*=_t)<0)for(;(Pe=ot+Ft*++ie)>bt;)Yt.push(Pe/_t);else for(;(Pe=ot+Ft*++ie)<bt;)Yt.push(Pe/_t);return Yt},i.map=function(ot,bt){var Ft=new E;if(ot instanceof E)ot.forEach(function(xe,Oe){Ft.set(xe,Oe)});else if(Array.isArray(ot)){var ie,Yt=-1,_t=ot.length;if(1===arguments.length)for(;++Yt<_t;)Ft.set(Yt,ot[Yt]);else for(;++Yt<_t;)Ft.set(bt.call(ot,ie=ot[Yt],Yt),ie)}else for(var Pe in ot)Ft.set(Pe,ot[Pe]);return Ft};function T(ot){return"__proto__"==(ot+="")||"\0"===ot[0]?"\0"+ot:ot}function n(ot){return"\0"===(ot+="")[0]?ot.slice(1):ot}function C(ot){return T(ot)in this._}function p(ot){return(ot=T(ot))in this._&&delete this._[ot]}function F(){var ot=[];for(var bt in this._)ot.push(n(bt));return ot}function D(){var ot=0;for(var bt in this._)++ot;return ot}function N(){for(var ot in this._)return!1;return!0}function k(){this._=Object.create(null)}function z(ot){return ot}function B(ot,bt,Ft){return function(){var Yt=Ft.apply(bt,arguments);return Yt===bt?ot:Yt}}function O(ot,bt){if(bt in ot)return bt;bt=bt.charAt(0).toUpperCase()+bt.slice(1);for(var Ft=0,Yt=U.length;Ft<Yt;++Ft){var _t=U[Ft]+bt;if(_t in ot)return _t}}b(E,{has:C,get:function(ot){return this._[T(ot)]},set:function(ot,bt){return this._[T(ot)]=bt},remove:p,keys:F,values:function(){var ot=[];for(var bt in this._)ot.push(this._[bt]);return ot},entries:function(){var ot=[];for(var bt in this._)ot.push({key:n(bt),value:this._[bt]});return ot},size:D,empty:N,forEach:function(ot){for(var bt in this._)ot.call(this,n(bt),this._[bt])}}),i.nest=function(){var Yt,_t,ot={},bt=[],Ft=[];function ie(xe,Oe,Qe){if(Qe>=bt.length)return _t?_t.call(ot,Oe):Yt?Oe.sort(Yt):Oe;for(var _r,cn,Rr,Jr,qe=-1,Lr=Oe.length,Pr=bt[Qe++],Nr=new E;++qe<Lr;)(Jr=Nr.get(_r=Pr(cn=Oe[qe])))?Jr.push(cn):Nr.set(_r,[cn]);return xe?(cn=xe(),Rr=function(on,an){cn.set(on,ie(xe,an,Qe))}):(cn={},Rr=function(on,an){cn[on]=ie(xe,an,Qe)}),Nr.forEach(Rr),cn}function Pe(xe,Oe){if(Oe>=bt.length)return xe;var Qe=[],qe=Ft[Oe++];return xe.forEach(function(Lr,Pr){Qe.push({key:Lr,values:Pe(Pr,Oe)})}),qe?Qe.sort(function(Lr,Pr){return qe(Lr.key,Pr.key)}):Qe}return ot.map=function(xe,Oe){return ie(Oe,xe,0)},ot.entries=function(xe){return Pe(ie(i.map,xe,0),0)},ot.key=function(xe){return bt.push(xe),ot},ot.sortKeys=function(xe){return Ft[bt.length-1]=xe,ot},ot.sortValues=function(xe){return Yt=xe,ot},ot.rollup=function(xe){return _t=xe,ot},ot},i.set=function(ot){var bt=new k;if(ot)for(var Ft=0,Yt=ot.length;Ft<Yt;++Ft)bt.add(ot[Ft]);return bt},b(k,{has:C,add:function(ot){return this._[T(ot+="")]=!0,ot},remove:p,values:F,size:D,empty:N,forEach:function(ot){for(var bt in this._)ot.call(this,n(bt))}}),i.behavior={},i.rebind=function(ot,bt){for(var _t,Ft=1,Yt=arguments.length;++Ft<Yt;)ot[_t=arguments[Ft]]=B(ot,bt,bt[_t]);return ot};var U=["webkit","ms","moz","Moz","o","O"];function G(){}function J(){}function et(ot){var bt=[],Ft=new E;function Yt(){for(var xe,_t=bt,ie=-1,Pe=_t.length;++ie<Pe;)(xe=_t[ie].on)&&xe.apply(this,arguments);return ot}return Yt.on=function(_t,ie){var xe,Pe=Ft.get(_t);return arguments.length<2?Pe&&Pe.on:(Pe&&(Pe.on=null,bt=bt.slice(0,xe=bt.indexOf(Pe)).concat(bt.slice(xe+1)),Ft.remove(_t)),ie&&bt.push(Ft.set(_t,{on:ie})),ot)},Yt}function at(){i.event.preventDefault()}function lt(){for(var bt,ot=i.event;bt=ot.sourceEvent;)ot=bt;return ot}function K(ot){for(var bt=new J,Ft=0,Yt=arguments.length;++Ft<Yt;)bt[arguments[Ft]]=et(bt);return bt.of=function(_t,ie){return function(Pe){try{var xe=Pe.sourceEvent=i.event;Pe.target=ot,i.event=Pe,bt[Pe.type].apply(_t,ie)}finally{i.event=xe}}},bt}i.dispatch=function(){for(var ot=new J,bt=-1,Ft=arguments.length;++bt<Ft;)ot[arguments[bt]]=et(ot);return ot},J.prototype.on=function(ot,bt){var Ft=ot.indexOf("."),Yt="";if(Ft>=0&&(Yt=ot.slice(Ft+1),ot=ot.slice(0,Ft)),ot)return arguments.length<2?this[ot].on(Yt):this[ot].on(Yt,bt);if(2===arguments.length){if(null==bt)for(ot in this)this.hasOwnProperty(ot)&&this[ot].on(Yt,null);return this}},i.event=null,i.requote=function(ot){return ot.replace(j,"\\$&")};var j=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,rt={}.__proto__?function(ot,bt){ot.__proto__=bt}:function(ot,bt){for(var Ft in bt)ot[Ft]=bt[Ft]};function H(ot){return rt(ot,Y),ot}var Z=function(ot,bt){return bt.querySelector(ot)},it=function(ot,bt){return bt.querySelectorAll(ot)},Q=function(ot,bt){var Ft=ot.matches||ot[O(ot,"matchesSelector")];return(Q=function(Yt,_t){return Ft.call(Yt,_t)})(ot,bt)};"function"==typeof Sizzle&&(Z=function(ot,bt){return Sizzle(ot,bt)[0]||null},it=Sizzle,Q=Sizzle.matchesSelector),i.selection=function(){return i.select(l.documentElement)};var Y=i.selection.prototype=[];function nt(ot){return"function"==typeof ot?ot:function(){return Z(ot,this)}}function _(ot){return"function"==typeof ot?ot:function(){return it(ot,this)}}Y.select=function(ot){var Ft,Yt,_t,ie,bt=[];ot=nt(ot);for(var Pe=-1,xe=this.length;++Pe<xe;){bt.push(Ft=[]),Ft.parentNode=(_t=this[Pe]).parentNode;for(var Oe=-1,Qe=_t.length;++Oe<Qe;)(ie=_t[Oe])?(Ft.push(Yt=ot.call(ie,ie.__data__,Oe,Pe)),Yt&&"__data__"in ie&&(Yt.__data__=ie.__data__)):Ft.push(null)}return H(bt)},Y.selectAll=function(ot){var Ft,Yt,bt=[];ot=_(ot);for(var _t=-1,ie=this.length;++_t<ie;)for(var Pe=this[_t],xe=-1,Oe=Pe.length;++xe<Oe;)(Yt=Pe[xe])&&(bt.push(Ft=L(ot.call(Yt,Yt.__data__,xe,_t))),Ft.parentNode=Yt);return H(bt)};var st="http://www.w3.org/1999/xhtml",dt={svg:"http://www.w3.org/2000/svg",xhtml:st,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xt(ot,bt){return ot=i.ns.qualify(ot),null==bt?ot.local?function Yt(){this.removeAttributeNS(ot.space,ot.local)}:function Ft(){this.removeAttribute(ot)}:"function"==typeof bt?ot.local?function xe(){var Oe=bt.apply(this,arguments);null==Oe?this.removeAttributeNS(ot.space,ot.local):this.setAttributeNS(ot.space,ot.local,Oe)}:function Pe(){var Oe=bt.apply(this,arguments);null==Oe?this.removeAttribute(ot):this.setAttribute(ot,Oe)}:ot.local?function ie(){this.setAttributeNS(ot.space,ot.local,bt)}:function _t(){this.setAttribute(ot,bt)}}function yt(ot){return ot.trim().replace(/\s+/g," ")}function St(ot){return new RegExp("(?:^|\\s+)"+i.requote(ot)+"(?:\\s+|$)","g")}function Et(ot){return(ot+"").trim().split(/^|\s+/)}function Tt(ot,bt){var Ft=(ot=Et(ot).map(gt)).length;return"function"==typeof bt?function _t(){for(var ie=-1,Pe=bt.apply(this,arguments);++ie<Ft;)ot[ie](this,Pe)}:function Yt(){for(var ie=-1;++ie<Ft;)ot[ie](this,bt)}}function gt(ot){var bt=St(ot);return function(Ft,Yt){if(_t=Ft.classList)return Yt?_t.add(ot):_t.remove(ot);var _t=Ft.getAttribute("class")||"";Yt?(bt.lastIndex=0,bt.test(_t)||Ft.setAttribute("class",yt(_t+" "+ot))):Ft.setAttribute("class",yt(_t.replace(bt," ")))}}function Mt(ot,bt,Ft){return null==bt?function Yt(){this.style.removeProperty(ot)}:"function"==typeof bt?function ie(){var Pe=bt.apply(this,arguments);null==Pe?this.style.removeProperty(ot):this.style.setProperty(ot,Pe,Ft)}:function _t(){this.style.setProperty(ot,bt,Ft)}}function Nt(ot,bt){return null==bt?function Ft(){delete this[ot]}:"function"==typeof bt?function _t(){var ie=bt.apply(this,arguments);null==ie?delete this[ot]:this[ot]=ie}:function Yt(){this[ot]=bt}}function Gt(ot){return"function"==typeof ot?ot:(ot=i.ns.qualify(ot)).local?function Ft(){return this.ownerDocument.createElementNS(ot.space,ot.local)}:function bt(){var Yt=this.ownerDocument,_t=this.namespaceURI;return _t===st&&Yt.documentElement.namespaceURI===st?Yt.createElement(ot):Yt.createElementNS(_t,ot)}}function Pt(){var ot=this.parentNode;ot&&ot.removeChild(this)}function Vt(ot){return{__data__:ot}}function re(ot){return function(){return Q(this,ot)}}function le(ot){return arguments.length||(ot=u),function(bt,Ft){return bt&&Ft?ot(bt.__data__,Ft.__data__):!bt-!Ft}}function It(ot,bt){for(var Ft=0,Yt=ot.length;Ft<Yt;Ft++)for(var xe,_t=ot[Ft],ie=0,Pe=_t.length;ie<Pe;ie++)(xe=_t[ie])&&bt(xe,ie,Ft);return ot}function Rt(ot){return rt(ot,$t),ot}i.ns={prefix:dt,qualify:function(ot){var bt=ot.indexOf(":"),Ft=ot;return bt>=0&&"xmlns"!==(Ft=ot.slice(0,bt))&&(ot=ot.slice(bt+1)),dt.hasOwnProperty(Ft)?{space:dt[Ft],local:ot}:ot}},Y.attr=function(ot,bt){if(arguments.length<2){if("string"==typeof ot){var Ft=this.node();return(ot=i.ns.qualify(ot)).local?Ft.getAttributeNS(ot.space,ot.local):Ft.getAttribute(ot)}for(bt in ot)this.each(xt(bt,ot[bt]));return this}return this.each(xt(ot,bt))},Y.classed=function(ot,bt){if(arguments.length<2){if("string"==typeof ot){var Ft=this.node(),Yt=(ot=Et(ot)).length,_t=-1;if(bt=Ft.classList){for(;++_t<Yt;)if(!bt.contains(ot[_t]))return!1}else for(bt=Ft.getAttribute("class");++_t<Yt;)if(!St(ot[_t]).test(bt))return!1;return!0}for(bt in ot)this.each(Tt(bt,ot[bt]));return this}return this.each(Tt(ot,bt))},Y.style=function(ot,bt,Ft){var Yt=arguments.length;if(Yt<3){if("string"!=typeof ot){for(Ft in Yt<2&&(bt=""),ot)this.each(Mt(Ft,ot[Ft],bt));return this}if(Yt<2){var _t=this.node();return r(_t).getComputedStyle(_t,null).getPropertyValue(ot)}Ft=""}return this.each(Mt(ot,bt,Ft))},Y.property=function(ot,bt){if(arguments.length<2){if("string"==typeof ot)return this.node()[ot];for(bt in ot)this.each(Nt(bt,ot[bt]));return this}return this.each(Nt(ot,bt))},Y.text=function(ot){return arguments.length?this.each("function"==typeof ot?function(){var bt=ot.apply(this,arguments);this.textContent=null==bt?"":bt}:null==ot?function(){this.textContent=""}:function(){this.textContent=ot}):this.node().textContent},Y.html=function(ot){return arguments.length?this.each("function"==typeof ot?function(){var bt=ot.apply(this,arguments);this.innerHTML=null==bt?"":bt}:null==ot?function(){this.innerHTML=""}:function(){this.innerHTML=ot}):this.node().innerHTML},Y.append=function(ot){return ot=Gt(ot),this.select(function(){return this.appendChild(ot.apply(this,arguments))})},Y.insert=function(ot,bt){return ot=Gt(ot),bt=nt(bt),this.select(function(){return this.insertBefore(ot.apply(this,arguments),bt.apply(this,arguments)||null)})},Y.remove=function(){return this.each(Pt)},Y.data=function(ot,bt){var _t,ie,Ft=-1,Yt=this.length;if(!arguments.length){for(ot=new Array(Yt=(_t=this[0]).length);++Ft<Yt;)(ie=_t[Ft])&&(ot[Ft]=ie.__data__);return ot}function Pe(qe,Lr){var Pr,an,jr,_r=qe.length,cn=Lr.length,Rr=Math.min(_r,cn),Nr=new Array(cn),Jr=new Array(cn),on=new Array(_r);if(bt){var aa,zn=new E,jn=new Array(_r);for(Pr=-1;++Pr<_r;)(an=qe[Pr])&&(zn.has(aa=bt.call(an,an.__data__,Pr))?on[Pr]=an:zn.set(aa,an),jn[Pr]=aa);for(Pr=-1;++Pr<cn;)(an=zn.get(aa=bt.call(Lr,jr=Lr[Pr],Pr)))?!0!==an&&(Nr[Pr]=an,an.__data__=jr):Jr[Pr]=Vt(jr),zn.set(aa,!0);for(Pr=-1;++Pr<_r;)Pr in jn&&!0!==zn.get(jn[Pr])&&(on[Pr]=qe[Pr])}else{for(Pr=-1;++Pr<Rr;)jr=Lr[Pr],(an=qe[Pr])?(an.__data__=jr,Nr[Pr]=an):Jr[Pr]=Vt(jr);for(;Pr<cn;++Pr)Jr[Pr]=Vt(Lr[Pr]);for(;Pr<_r;++Pr)on[Pr]=qe[Pr]}Jr.update=Nr,Jr.parentNode=Nr.parentNode=on.parentNode=qe.parentNode,xe.push(Jr),Oe.push(Nr),Qe.push(on)}var xe=Rt([]),Oe=H([]),Qe=H([]);if("function"==typeof ot)for(;++Ft<Yt;)Pe(_t=this[Ft],ot.call(_t,_t.parentNode.__data__,Ft));else for(;++Ft<Yt;)Pe(_t=this[Ft],ot);return Oe.enter=function(){return xe},Oe.exit=function(){return Qe},Oe},Y.datum=function(ot){return arguments.length?this.property("__data__",ot):this.property("__data__")},Y.filter=function(ot){var Ft,Yt,_t,bt=[];"function"!=typeof ot&&(ot=re(ot));for(var ie=0,Pe=this.length;ie<Pe;ie++){bt.push(Ft=[]),Ft.parentNode=(Yt=this[ie]).parentNode;for(var xe=0,Oe=Yt.length;xe<Oe;xe++)(_t=Yt[xe])&&ot.call(_t,_t.__data__,xe,ie)&&Ft.push(_t)}return H(bt)},Y.order=function(){for(var ot=-1,bt=this.length;++ot<bt;)for(var ie,Ft=this[ot],Yt=Ft.length-1,_t=Ft[Yt];--Yt>=0;)(ie=Ft[Yt])&&(_t&&_t!==ie.nextSibling&&_t.parentNode.insertBefore(ie,_t),_t=ie);return this},Y.sort=function(ot){ot=le.apply(this,arguments);for(var bt=-1,Ft=this.length;++bt<Ft;)this[bt].sort(ot);return this.order()},Y.each=function(ot){return It(this,function(bt,Ft,Yt){ot.call(bt,bt.__data__,Ft,Yt)})},Y.call=function(ot){var bt=L(arguments);return ot.apply(bt[0]=this,bt),this},Y.empty=function(){return!this.node()},Y.node=function(){for(var ot=0,bt=this.length;ot<bt;ot++)for(var Ft=this[ot],Yt=0,_t=Ft.length;Yt<_t;Yt++){var ie=Ft[Yt];if(ie)return ie}return null},Y.size=function(){var ot=0;return It(this,function(){++ot}),ot};var $t=[];function oe(ot){var bt,Ft;return function(Yt,_t,ie){var Oe,Pe=ot[ie].update,xe=Pe.length;for(ie!=Ft&&(Ft=ie,bt=0),_t>=bt&&(bt=_t+1);!(Oe=Pe[bt])&&++bt<xe;);return Oe}}function se(ot,bt,Ft){var Yt="__on"+ot,_t=ot.indexOf("."),ie=de;_t>0&&(ot=ot.slice(0,_t));var Pe=ve.get(ot);function xe(){var qe=this[Yt];qe&&(this.removeEventListener(ot,qe,qe.$),delete this[Yt])}return Pe&&(ot=Pe,ie=jt),_t?bt?function Oe(){var qe=ie(bt,L(arguments));xe.call(this),this.addEventListener(ot,this[Yt]=qe,qe.$=Ft),qe._=bt}:xe:bt?G:function Qe(){var Lr,qe=new RegExp("^__on([^.]+)"+i.requote(ot)+"$");for(var Pr in this)if(Lr=Pr.match(qe)){var _r=this[Pr];this.removeEventListener(Lr[1],_r,_r.$),delete this[Pr]}}}i.selection.enter=Rt,i.selection.enter.prototype=$t,$t.append=Y.append,$t.empty=Y.empty,$t.node=Y.node,$t.call=Y.call,$t.size=Y.size,$t.select=function(ot){for(var Ft,Yt,_t,ie,Pe,bt=[],xe=-1,Oe=this.length;++xe<Oe;){_t=(ie=this[xe]).update,bt.push(Ft=[]),Ft.parentNode=ie.parentNode;for(var Qe=-1,qe=ie.length;++Qe<qe;)(Pe=ie[Qe])?(Ft.push(_t[Qe]=Yt=ot.call(ie.parentNode,Pe.__data__,Qe,xe)),Yt.__data__=Pe.__data__):Ft.push(null)}return H(bt)},$t.insert=function(ot,bt){return arguments.length<2&&(bt=oe(this)),Y.insert.call(this,ot,bt)},i.select=function(ot){var bt;return"string"==typeof ot?(bt=[Z(ot,l)]).parentNode=l.documentElement:(bt=[ot]).parentNode=m(ot),H([bt])},i.selectAll=function(ot){var bt;return"string"==typeof ot?(bt=L(it(ot,l))).parentNode=l.documentElement:(bt=L(ot)).parentNode=null,H([bt])},Y.on=function(ot,bt,Ft){var Yt=arguments.length;if(Yt<3){if("string"!=typeof ot){for(Ft in Yt<2&&(bt=!1),ot)this.each(se(Ft,ot[Ft],bt));return this}if(Yt<2)return(Yt=this.node()["__on"+ot])&&Yt._;Ft=!1}return this.each(se(ot,bt,Ft))};var ve=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});function de(ot,bt){return function(Ft){var Yt=i.event;i.event=Ft,bt[0]=this.__data__;try{ot.apply(this,bt)}finally{i.event=Yt}}}function jt(ot,bt){var Ft=de(ot,bt);return function(Yt){var ie=Yt.relatedTarget;(!ie||ie!==this&&!(8&ie.compareDocumentPosition(this)))&&Ft.call(this,Yt)}}l&&ve.forEach(function(ot){"on"+ot in l&&ve.remove(ot)});var Ct,Wt=0;function Xt(ot){var bt=".dragsuppress-"+ ++Wt,Ft="click"+bt,Yt=i.select(r(ot)).on("touchmove"+bt,at).on("dragstart"+bt,at).on("selectstart"+bt,at);if(null==Ct&&(Ct=!("onselectstart"in ot)&&O(ot.style,"userSelect")),Ct){var _t=m(ot).style,ie=_t[Ct];_t[Ct]="none"}return function(Pe){if(Yt.on(bt,null),Ct&&(_t[Ct]=ie),Pe){var xe=function(){Yt.on(Ft,null)};Yt.on(Ft,function(){at(),xe()},!0),setTimeout(xe,0)}}}i.mouse=function(ot){return Bt(ot,lt())};var Ht=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Bt(ot,bt){bt.changedTouches&&(bt=bt.changedTouches[0]);var Ft=ot.ownerSVGElement||ot;if(Ft.createSVGPoint){var Yt=Ft.createSVGPoint();if(Ht<0){var _t=r(ot);if(_t.scrollX||_t.scrollY){var ie=(Ft=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ht=!(ie.f||ie.e),Ft.remove()}}return Ht?(Yt.x=bt.pageX,Yt.y=bt.pageY):(Yt.x=bt.clientX,Yt.y=bt.clientY),[(Yt=Yt.matrixTransform(ot.getScreenCTM().inverse())).x,Yt.y]}var Pe=ot.getBoundingClientRect();return[bt.clientX-Pe.left-ot.clientLeft,bt.clientY-Pe.top-ot.clientTop]}function zt(){return i.event.changedTouches[0].identifier}i.touch=function(ot,bt,Ft){if(arguments.length<3&&(Ft=bt,bt=lt().changedTouches),bt)for(var ie,Yt=0,_t=bt.length;Yt<_t;++Yt)if((ie=bt[Yt]).identifier===Ft)return Bt(ot,ie)},i.behavior.drag=function(){var ot=K(_t,"drag","dragstart","dragend"),bt=null,Ft=ie(G,i.mouse,r,"mousemove","mouseup"),Yt=ie(zt,i.touch,z,"touchmove","touchend");function _t(){this.on("mousedown.drag",Ft).on("touchstart.drag",Yt)}function ie(Pe,xe,Oe,Qe,qe){return function(){var on,Lr=this,Pr=i.event.target.correspondingElement||i.event.target,_r=Lr.parentNode,cn=ot.of(Lr,arguments),Rr=0,Nr=Pe(),Jr=".drag"+(null==Nr?"":"-"+Nr),an=i.select(Oe(Pr)).on(Qe+Jr,jn).on(qe+Jr,aa),jr=Xt(Pr),zn=xe(_r,Nr);function jn(){var ga,va,ea=xe(_r,Nr);!ea||(Rr|=(ga=ea[0]-zn[0])|(va=ea[1]-zn[1]),zn=ea,cn({type:"drag",x:ea[0]+on[0],y:ea[1]+on[1],dx:ga,dy:va}))}function aa(){!xe(_r,Nr)||(an.on(Qe+Jr,null).on(qe+Jr,null),jr(Rr),cn({type:"dragend"}))}on=bt?[(on=bt.apply(Lr,arguments)).x-zn[0],on.y-zn[1]]:[0,0],cn({type:"dragstart"})}}return _t.origin=function(Pe){return arguments.length?(bt=Pe,_t):bt},i.rebind(_t,ot,"on")},i.touches=function(ot,bt){return arguments.length<2&&(bt=lt().touches),bt?L(bt).map(function(Ft){var Yt=Bt(ot,Ft);return Yt.identifier=Ft.identifier,Yt}):[]};var kt=1e-6,ft=Math.PI,pt=2*ft,Dt=pt-kt,Qt=ft/2,te=ft/180,ee=180/ft;function We(ot,bt,Ft){return(bt[0]-ot[0])*(Ft[1]-ot[1])-(bt[1]-ot[1])*(Ft[0]-ot[0])}function Te(ot){return ot>1?Qt:ot<-1?-Qt:Math.asin(ot)}function hr(ot){return((ot=Math.exp(ot))+1/ot)/2}var Ye=Math.SQRT2;i.interpolateZoom=function(ot,bt){var Lr,Pr,Ft=ot[0],Yt=ot[1],_t=ot[2],xe=bt[2],Oe=bt[0]-Ft,Qe=bt[1]-Yt,qe=Oe*Oe+Qe*Qe;if(qe<1e-12)Pr=Math.log(xe/_t)/Ye,Lr=function(on){return[Ft+on*Oe,Yt+on*Qe,_t*Math.exp(Ye*on*Pr)]};else{var _r=Math.sqrt(qe),cn=(xe*xe-_t*_t+4*qe)/(2*_t*2*_r),Rr=(xe*xe-_t*_t-4*qe)/(2*xe*2*_r),Nr=Math.log(Math.sqrt(cn*cn+1)-cn),Jr=Math.log(Math.sqrt(Rr*Rr+1)-Rr);Pr=(Jr-Nr)/Ye,Lr=function(on){var an=on*Pr,jr=hr(Nr),zn=_t/(2*_r)*(jr*function ce(ot){return((ot=Math.exp(2*ot))-1)/(ot+1)}(Ye*an+Nr)-function Ge(ot){return((ot=Math.exp(ot))-1/ot)/2}(Nr));return[Ft+zn*Oe,Yt+zn*Qe,_t*jr/hr(Ye*an+Nr)]}}return Lr.duration=1e3*Pr,Lr},i.behavior.zoom=function(){var bt,Ft,Yt,Lr,_r,Rr,Nr,Jr,on,ot={x:0,y:0,k:1},_t=[960,500],ie=he,Pe=250,xe=0,Oe="mousedown.zoom",Qe="mousemove.zoom",qe="mouseup.zoom",Pr="touchstart.zoom",cn=K(an,"zoomstart","zoom","zoomend");function an(Xn){Xn.on(Oe,fa).on(pe+".zoom",mi).on("dblclick.zoom",Ba).on(Pr,Ya)}function jr(Xn){return[(Xn[0]-ot.x)/ot.k,(Xn[1]-ot.y)/ot.k]}function jn(Xn){ot.k=Math.max(ie[0],Math.min(ie[1],Xn))}function aa(Xn,Ra){Ra=function zn(Xn){return[Xn[0]*ot.k+ot.x,Xn[1]*ot.k+ot.y]}(Ra),ot.x+=Xn[0]-Ra[0],ot.y+=Xn[1]-Ra[1]}function ea(Xn,Ra,za,Na){Xn.__chart__={x:ot.x,y:ot.y,k:ot.k},jn(Math.pow(2,Na)),aa(Ft=Ra,za),Xn=i.select(Xn),Pe>0&&(Xn=Xn.transition().duration(Pe)),Xn.call(an.event)}function ga(){Nr&&Nr.domain(Rr.range().map(function(Xn){return(Xn-ot.x)/ot.k}).map(Rr.invert)),on&&on.domain(Jr.range().map(function(Xn){return(Xn-ot.y)/ot.k}).map(Jr.invert))}function va(Xn){xe++||Xn({type:"zoomstart"})}function Ca(Xn){ga(),Xn({type:"zoom",scale:ot.k,translate:[ot.x,ot.y]})}function xa(Xn){--xe||(Xn({type:"zoomend"}),Ft=null)}function fa(){var Xn=this,Ra=cn.of(Xn,arguments),za=0,Na=i.select(r(Xn)).on(Qe,ya).on(qe,Si),ci=jr(i.mouse(Xn)),Jn=Xt(Xn);function ya(){za=1,aa(i.mouse(Xn),ci),Ca(Ra)}function Si(){Na.on(Qe,null).on(qe,null),Jn(za),xa(Ra)}Dr.call(Xn),va(Ra)}function Ya(){var ci,Xn=this,Ra=cn.of(Xn,arguments),za={},Na=0,Jn=".zoom-"+i.event.changedTouches[0].identifier,ya="touchmove"+Jn,Si="touchend"+Jn,hi=[],Di=i.select(Xn),oi=Xt(Xn);function Ai(){var si=i.touches(Xn);return ci=ot.k,si.forEach(function(ji){ji.identifier in za&&(za[ji.identifier]=jr(ji))}),si}function Mi(){var si=i.event.target;i.select(si).on(ya,Ml).on(Si,Kl),hi.push(si);for(var ji=i.event.changedTouches,Ua=0,ri=ji.length;Ua<ri;++Ua)za[ji[Ua].identifier]=null;var ao=Ai(),Sl=Date.now();if(1===ao.length)Sl-_r<500&&(ea(Xn,Eo=ao[0],za[Eo.identifier],Math.floor(Math.log(ot.k)/Math.LN2)+1),at()),_r=Sl;else if(ao.length>1){var Eo,ps=ao[1],as=(Eo=ao[0])[0]-ps[0],El=Eo[1]-ps[1];Na=as*as+El*El}}function Ml(){var ji,Ua,ri,ao,si=i.touches(Xn);Dr.call(Xn);for(var Sl=0,Eo=si.length;Sl<Eo;++Sl,ao=null)if(ao=za[(ri=si[Sl]).identifier]){if(Ua)break;ji=ri,Ua=ao}if(ao){var ps=(ps=ri[0]-ji[0])*ps+(ps=ri[1]-ji[1])*ps,as=Na&&Math.sqrt(ps/Na);ji=[(ji[0]+ri[0])/2,(ji[1]+ri[1])/2],Ua=[(Ua[0]+ao[0])/2,(Ua[1]+ao[1])/2],jn(as*ci)}_r=null,aa(ji,Ua),Ca(Ra)}function Kl(){if(i.event.touches.length){for(var si=i.event.changedTouches,ji=0,Ua=si.length;ji<Ua;++ji)delete za[si[ji].identifier];for(var ri in za)return void Ai()}i.selectAll(hi).on(Jn,null),Di.on(Oe,fa).on(Pr,Ya),oi(),xa(Ra)}Mi(),va(Ra),Di.on(Oe,null).on(Pr,Mi)}function mi(){var Xn=cn.of(this,arguments);Lr?clearTimeout(Lr):(Dr.call(this),bt=jr(Ft=Yt||i.mouse(this)),va(Xn)),Lr=setTimeout(function(){Lr=null,xa(Xn)},50),at(),jn(Math.pow(2,.002*ne())*ot.k),aa(Ft,bt),Ca(Xn)}function Ba(){var Xn=i.mouse(this),Ra=Math.log(ot.k)/Math.LN2;ea(this,Xn,jr(Xn),i.event.shiftKey?Math.ceil(Ra)-1:Math.floor(Ra)+1)}return pe||(pe="onwheel"in l?(ne=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(ne=function(){return i.event.wheelDelta},"mousewheel"):(ne=function(){return-i.event.detail},"MozMousePixelScroll")),an.event=function(Xn){Xn.each(function(){var Ra=cn.of(this,arguments),za=ot;Pn?i.select(this).transition().each("start.zoom",function(){ot=this.__chart__||{x:0,y:0,k:1},va(Ra)}).tween("zoom:zoom",function(){var Na=_t[0],Jn=Ft?Ft[0]:Na/2,ya=Ft?Ft[1]:_t[1]/2,Si=i.interpolateZoom([(Jn-ot.x)/ot.k,(ya-ot.y)/ot.k,Na/ot.k],[(Jn-za.x)/za.k,(ya-za.y)/za.k,Na/za.k]);return function(hi){var Di=Si(hi),oi=Na/Di[2];this.__chart__=ot={x:Jn-Di[0]*oi,y:ya-Di[1]*oi,k:oi},Ca(Ra)}}).each("interrupt.zoom",function(){xa(Ra)}).each("end.zoom",function(){xa(Ra)}):(this.__chart__=ot,va(Ra),Ca(Ra),xa(Ra))})},an.translate=function(Xn){return arguments.length?(ot={x:+Xn[0],y:+Xn[1],k:ot.k},ga(),an):[ot.x,ot.y]},an.scale=function(Xn){return arguments.length?(ot={x:ot.x,y:ot.y,k:null},jn(+Xn),ga(),an):ot.k},an.scaleExtent=function(Xn){return arguments.length?(ie=null==Xn?he:[+Xn[0],+Xn[1]],an):ie},an.center=function(Xn){return arguments.length?(Yt=Xn&&[+Xn[0],+Xn[1]],an):Yt},an.size=function(Xn){return arguments.length?(_t=Xn&&[+Xn[0],+Xn[1]],an):_t},an.duration=function(Xn){return arguments.length?(Pe=+Xn,an):Pe},an.x=function(Xn){return arguments.length?(Nr=Xn,Rr=Xn.copy(),ot={x:0,y:0,k:1},an):Nr},an.y=function(Xn){return arguments.length?(on=Xn,Jr=Xn.copy(),ot={x:0,y:0,k:1},an):on},i.rebind(an,cn,"on")};var ne,pe,he=[0,1/0];function be(){}function Se(ot,bt,Ft){return this instanceof Se?(this.h=+ot,this.s=+bt,void(this.l=+Ft)):arguments.length<2?ot instanceof Se?new Se(ot.h,ot.s,ot.l):Ar(""+ot,Gr,Se):new Se(ot,bt,Ft)}i.color=be,be.prototype.toString=function(){return this.rgb()+""},i.hsl=Se;var Me=Se.prototype=new be;function Ie(ot,bt,Ft){var Yt,_t;function Pe(xe){return Math.round(255*function ie(xe){return xe>360?xe-=360:xe<0&&(xe+=360),xe<60?Yt+(_t-Yt)*xe/60:xe<180?_t:xe<240?Yt+(_t-Yt)*(240-xe)/60:Yt}(xe))}return ot=isNaN(ot)?0:(ot%=360)<0?ot+360:ot,bt=isNaN(bt)||bt<0?0:bt>1?1:bt,Yt=2*(Ft=Ft<0?0:Ft>1?1:Ft)-(_t=Ft<=.5?Ft*(1+bt):Ft+bt-Ft*bt),new or(Pe(ot+120),Pe(ot),Pe(ot-120))}function Fe(ot,bt,Ft){return this instanceof Fe?(this.h=+ot,this.c=+bt,void(this.l=+Ft)):arguments.length<2?ot instanceof Fe?new Fe(ot.h,ot.c,ot.l):_e(ot instanceof ir?ot.l:(ot=nn((ot=i.rgb(ot)).r,ot.g,ot.b)).l,ot.a,ot.b):new Fe(ot,bt,Ft)}Me.brighter=function(ot){return ot=Math.pow(.7,arguments.length?ot:1),new Se(this.h,this.s,this.l/ot)},Me.darker=function(ot){return ot=Math.pow(.7,arguments.length?ot:1),new Se(this.h,this.s,ot*this.l)},Me.rgb=function(){return Ie(this.h,this.s,this.l)},i.hcl=Fe;var Ze=Fe.prototype=new be;function nr(ot,bt,Ft){return isNaN(ot)&&(ot=0),isNaN(bt)&&(bt=0),new ir(Ft,Math.cos(ot*=te)*bt,Math.sin(ot)*bt)}function ir(ot,bt,Ft){return this instanceof ir?(this.l=+ot,this.a=+bt,void(this.b=+Ft)):arguments.length<2?ot instanceof ir?new ir(ot.l,ot.a,ot.b):ot instanceof Fe?nr(ot.h,ot.c,ot.l):nn((ot=or(ot)).r,ot.g,ot.b):new ir(ot,bt,Ft)}Ze.brighter=function(ot){return new Fe(this.h,this.c,Math.min(100,this.l+lr*(arguments.length?ot:1)))},Ze.darker=function(ot){return new Fe(this.h,this.c,Math.max(0,this.l-lr*(arguments.length?ot:1)))},Ze.rgb=function(){return nr(this.h,this.c,this.l).rgb()},i.lab=ir;var lr=18,Le=ir.prototype=new be;function Xe(ot,bt,Ft){var Yt=(ot+16)/116,_t=Yt+bt/500,ie=Yt-Ft/200;return new or(Re(3.2404542*(_t=.95047*fr(_t))-1.5371385*(Yt=1*fr(Yt))-.4985314*(ie=1.08883*fr(ie))),Re(-.969266*_t+1.8760108*Yt+.041556*ie),Re(.0556434*_t-.2040259*Yt+1.0572252*ie))}function _e(ot,bt,Ft){return ot>0?new Fe(Math.atan2(Ft,bt)*ee,Math.sqrt(bt*bt+Ft*Ft),ot):new Fe(NaN,NaN,ot)}function fr(ot){return ot>.206893034?ot*ot*ot:(ot-.13793103448275862)/7.787037}function $e(ot){return ot>.008856?Math.pow(ot,.3333333333333333):7.787037*ot+.13793103448275862}function Re(ot){return Math.round(255*(ot<=.00304?12.92*ot:1.055*Math.pow(ot,.4166666666666667)-.055))}function or(ot,bt,Ft){return this instanceof or?(this.r=~~ot,this.g=~~bt,void(this.b=~~Ft)):arguments.length<2?ot instanceof or?new or(ot.r,ot.g,ot.b):Ar(""+ot,or,Ie):new or(ot,bt,Ft)}function dr(ot){return new or(ot>>16,ot>>8&255,255&ot)}function pr(ot){return dr(ot)+""}Le.brighter=function(ot){return new ir(Math.min(100,this.l+lr*(arguments.length?ot:1)),this.a,this.b)},Le.darker=function(ot){return new ir(Math.max(0,this.l-lr*(arguments.length?ot:1)),this.a,this.b)},Le.rgb=function(){return Xe(this.l,this.a,this.b)},i.rgb=or;var Cr=or.prototype=new be;function $r(ot){return ot<16?"0"+Math.max(0,ot).toString(16):Math.min(255,ot).toString(16)}function Ar(ot,bt,Ft){var Pe,xe,Oe,Yt=0,_t=0,ie=0;if(Pe=/([a-z]+)\((.*)\)/.exec(ot=ot.toLowerCase()))switch(xe=Pe[2].split(","),Pe[1]){case"hsl":return Ft(parseFloat(xe[0]),parseFloat(xe[1])/100,parseFloat(xe[2])/100);case"rgb":return bt(Tn(xe[0]),Tn(xe[1]),Tn(xe[2]))}return(Oe=bn.get(ot))?bt(Oe.r,Oe.g,Oe.b):(null!=ot&&"#"===ot.charAt(0)&&!isNaN(Oe=parseInt(ot.slice(1),16))&&(4===ot.length?(Yt=(3840&Oe)>>4,Yt|=Yt>>4,_t=240&Oe,_t|=_t>>4,ie=15&Oe,ie|=ie<<4):7===ot.length&&(Yt=(16711680&Oe)>>16,_t=(65280&Oe)>>8,ie=255&Oe)),bt(Yt,_t,ie))}function Gr(ot,bt,Ft){var Pe,xe,Yt=Math.min(ot/=255,bt/=255,Ft/=255),_t=Math.max(ot,bt,Ft),ie=_t-Yt,Oe=(_t+Yt)/2;return ie?(xe=Oe<.5?ie/(_t+Yt):ie/(2-_t-Yt),Pe=ot==_t?(bt-Ft)/ie+(bt<Ft?6:0):bt==_t?(Ft-ot)/ie+2:(ot-bt)/ie+4,Pe*=60):(Pe=NaN,xe=Oe>0&&Oe<1?0:Pe),new Se(Pe,xe,Oe)}function nn(ot,bt,Ft){var Yt=$e((.4124564*(ot=Ur(ot))+.3575761*(bt=Ur(bt))+.1804375*(Ft=Ur(Ft)))/.95047),_t=$e((.2126729*ot+.7151522*bt+.072175*Ft)/1);return ir(116*_t-16,500*(Yt-_t),200*(_t-$e((.0193339*ot+.119192*bt+.9503041*Ft)/1.08883)))}function Ur(ot){return(ot/=255)<=.04045?ot/12.92:Math.pow((ot+.055)/1.055,2.4)}function Tn(ot){var bt=parseFloat(ot);return"%"===ot.charAt(ot.length-1)?Math.round(2.55*bt):bt}Cr.brighter=function(ot){ot=Math.pow(.7,arguments.length?ot:1);var bt=this.r,Ft=this.g,Yt=this.b,_t=30;return bt||Ft||Yt?(bt&&bt<_t&&(bt=_t),Ft&&Ft<_t&&(Ft=_t),Yt&&Yt<_t&&(Yt=_t),new or(Math.min(255,bt/ot),Math.min(255,Ft/ot),Math.min(255,Yt/ot))):new or(_t,_t,_t)},Cr.darker=function(ot){return new or((ot=Math.pow(.7,arguments.length?ot:1))*this.r,ot*this.g,ot*this.b)},Cr.hsl=function(){return Gr(this.r,this.g,this.b)},Cr.toString=function(){return"#"+$r(this.r)+$r(this.g)+$r(this.b)};var bn=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ur(ot){return"function"==typeof ot?ot:function(){return ot}}function Mr(ot){return function(bt,Ft,Yt){return 2===arguments.length&&"function"==typeof Ft&&(Yt=Ft,Ft=null),Br(bt,Ft,ot,Yt)}}function Br(ot,bt,Ft,Yt){var _t={},ie=i.dispatch("beforesend","progress","load","error"),Pe={},xe=new XMLHttpRequest,Oe=null;function Qe(){var Lr,qe=xe.status;if(!qe&&function sn(ot){var bt=ot.responseType;return bt&&"text"!==bt?ot.response:ot.responseText}(xe)||qe>=200&&qe<300||304===qe){try{Lr=Ft.call(_t,xe)}catch(Pr){return void ie.error.call(_t,Pr)}ie.load.call(_t,Lr)}else ie.error.call(_t,xe)}return self.XDomainRequest&&!("withCredentials"in xe)&&/^(http(s)?:)?\/\//.test(ot)&&(xe=new XDomainRequest),"onload"in xe?xe.onload=xe.onerror=Qe:xe.onreadystatechange=function(){xe.readyState>3&&Qe()},xe.onprogress=function(qe){var Lr=i.event;i.event=qe;try{ie.progress.call(_t,xe)}finally{i.event=Lr}},_t.header=function(qe,Lr){return qe=(qe+"").toLowerCase(),arguments.length<2?Pe[qe]:(null==Lr?delete Pe[qe]:Pe[qe]=Lr+"",_t)},_t.mimeType=function(qe){return arguments.length?(bt=null==qe?null:qe+"",_t):bt},_t.responseType=function(qe){return arguments.length?(Oe=qe,_t):Oe},_t.response=function(qe){return Ft=qe,_t},["get","post"].forEach(function(qe){_t[qe]=function(){return _t.send.apply(_t,[qe].concat(L(arguments)))}}),_t.send=function(qe,Lr,Pr){if(2===arguments.length&&"function"==typeof Lr&&(Pr=Lr,Lr=null),xe.open(qe,ot,!0),null!=bt&&!("accept"in Pe)&&(Pe.accept=bt+",*/*"),xe.setRequestHeader)for(var _r in Pe)xe.setRequestHeader(_r,Pe[_r]);return null!=bt&&xe.overrideMimeType&&xe.overrideMimeType(bt),null!=Oe&&(xe.responseType=Oe),null!=Pr&&_t.on("error",Pr).on("load",function(cn){Pr(null,cn)}),ie.beforesend.call(_t,xe),xe.send(null==Lr?null:Lr),_t},_t.abort=function(){return xe.abort(),_t},i.rebind(_t,ie,"on"),null==Yt?_t:_t.get(function Or(ot){return 1===ot.length?function(bt,Ft){ot(null==bt?Ft:null)}:ot}(Yt))}bn.forEach(function(ot,bt){bn.set(ot,dr(bt))}),i.functor=ur,i.xhr=Mr(z),i.dsv=function(ot,bt){var Ft=new RegExp('["'+ot+"\n]"),Yt=ot.charCodeAt(0);function _t(Qe,qe,Lr){arguments.length<3&&(Lr=qe,qe=null);var Pr=Br(Qe,bt,null==qe?ie:Pe(qe),Lr);return Pr.row=function(_r){return arguments.length?Pr.response(null==(qe=_r)?ie:Pe(_r)):qe},Pr}function ie(Qe){return _t.parse(Qe.responseText)}function Pe(Qe){return function(qe){return _t.parse(qe.responseText,Qe)}}function xe(Qe){return Qe.map(Oe).join(ot)}function Oe(Qe){return Ft.test(Qe)?'"'+Qe.replace(/\"/g,'""')+'"':Qe}return _t.parse=function(Qe,qe){var Lr;return _t.parseRows(Qe,function(Pr,_r){if(Lr)return Lr(Pr,_r-1);var cn=function(Rr){for(var Nr={},Jr=Pr.length,on=0;on<Jr;++on)Nr[Pr[on]]=Rr[on];return Nr};Lr=qe?function(Rr,Nr){return qe(cn(Rr),Nr)}:cn})},_t.parseRows=function(Qe,qe){var Jr,on,Lr={},Pr={},_r=[],cn=Qe.length,Rr=0,Nr=0;function an(){if(Rr>=cn)return Pr;if(on)return on=!1,Lr;var zn=Rr;if(34===Qe.charCodeAt(zn)){for(var jn=zn;jn++<cn;)if(34===Qe.charCodeAt(jn)){if(34!==Qe.charCodeAt(jn+1))break;++jn}return Rr=jn+2,13===(aa=Qe.charCodeAt(jn+1))?(on=!0,10===Qe.charCodeAt(jn+2)&&++Rr):10===aa&&(on=!0),Qe.slice(zn+1,jn).replace(/""/g,'"')}for(;Rr<cn;){var aa,ea=1;if(10===(aa=Qe.charCodeAt(Rr++)))on=!0;else if(13===aa)on=!0,10===Qe.charCodeAt(Rr)&&(++Rr,++ea);else if(aa!==Yt)continue;return Qe.slice(zn,Rr-ea)}return Qe.slice(zn)}for(;(Jr=an())!==Pr;){for(var jr=[];Jr!==Lr&&Jr!==Pr;)jr.push(Jr),Jr=an();qe&&null==(jr=qe(jr,Nr++))||_r.push(jr)}return _r},_t.format=function(Qe){if(Array.isArray(Qe[0]))return _t.formatRows(Qe);var qe=new k,Lr=[];return Qe.forEach(function(Pr){for(var _r in Pr)qe.has(_r)||Lr.push(qe.add(_r))}),[Lr.map(Oe).join(ot)].concat(Qe.map(function(Pr){return Lr.map(function(_r){return Oe(Pr[_r])}).join(ot)})).join("\n")},_t.formatRows=function(Qe){return Qe.map(xe).join("\n")},_t},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("\t","text/tab-separated-values");var pn,gn,wn,Rn,Kn=this[O(this,"requestAnimationFrame")]||function(ot){setTimeout(ot,17)};function _n(ot,bt,Ft){var Yt=arguments.length;Yt<2&&(bt=0),Yt<3&&(Ft=Date.now());var ie={c:ot,t:Ft+bt,n:null};return gn?gn.n=ie:pn=ie,gn=ie,wn||(Rn=clearTimeout(Rn),wn=1,Kn(ua)),ie}function ua(){var ot=qn(),bt=Qn()-ot;bt>24?(isFinite(bt)&&(clearTimeout(Rn),Rn=setTimeout(ua,bt)),wn=0):(wn=1,Kn(ua))}function qn(){for(var ot=Date.now(),bt=pn;bt;)ot>=bt.t&&bt.c(ot-bt.t)&&(bt.c=null),bt=bt.n;return ot}function Qn(){for(var ot,bt=pn,Ft=1/0;bt;)bt.c?(bt.t<Ft&&(Ft=bt.t),bt=(ot=bt).n):bt=ot?ot.n=bt.n:pn=bt.n;return gn=ot,Ft}function yr(ot){return ot[0]}function tn(ot){return ot[1]}function Qr(ot){for(var bt=ot.length,Ft=[0,1],Yt=2,_t=2;_t<bt;_t++){for(;Yt>1&&We(ot[Ft[Yt-2]],ot[Ft[Yt-1]],ot[_t])<=0;)--Yt;Ft[Yt++]=_t}return Ft.slice(0,Yt)}function dn(ot,bt){return ot[0]-bt[0]||ot[1]-bt[1]}i.timer=function(){_n.apply(this,arguments)},i.timer.flush=function(){qn(),Qn()},i.round=function(ot,bt){return bt?Math.round(ot*(bt=Math.pow(10,bt)))/bt:Math.round(ot)},i.geom={},i.geom.hull=function(ot){var bt=yr,Ft=tn;if(arguments.length)return Yt(ot);function Yt(_t){if(_t.length<3)return[];var xe,ie=ur(bt),Pe=ur(Ft),Oe=_t.length,Qe=[],qe=[];for(xe=0;xe<Oe;xe++)Qe.push([+ie.call(this,_t[xe],xe),+Pe.call(this,_t[xe],xe),xe]);for(Qe.sort(dn),xe=0;xe<Oe;xe++)qe.push([Qe[xe][0],-Qe[xe][1]]);var Lr=Qr(Qe),Pr=Qr(qe),_r=Pr[0]===Lr[0],cn=Pr[Pr.length-1]===Lr[Lr.length-1],Rr=[];for(xe=Lr.length-1;xe>=0;--xe)Rr.push(_t[Qe[Lr[xe]][2]]);for(xe=+_r;xe<Pr.length-cn;++xe)Rr.push(_t[Qe[Pr[xe]][2]]);return Rr}return Yt.x=function(_t){return arguments.length?(bt=_t,Yt):bt},Yt.y=function(_t){return arguments.length?(Ft=_t,Yt):Ft},Yt},i.geom.polygon=function(ot){return rt(ot,Fn),ot};var Fn=i.geom.polygon.prototype=[];function Sn(ot,bt,Ft){return(Ft[0]-bt[0])*(ot[1]-bt[1])<(Ft[1]-bt[1])*(ot[0]-bt[0])}function En(ot,bt,Ft,Yt){var _t=ot[0],ie=Ft[0],Pe=bt[0]-_t,xe=Yt[0]-ie,Oe=ot[1],Qe=Ft[1],qe=bt[1]-Oe,Lr=Yt[1]-Qe,Pr=(xe*(Oe-Qe)-Lr*(_t-ie))/(Lr*Pe-xe*qe);return[_t+Pr*Pe,Oe+Pr*qe]}function kn(ot){var bt=ot[0],Ft=ot[ot.length-1];return!(bt[0]-Ft[0]||bt[1]-Ft[1])}Fn.area=function(){for(var Ft,ot=-1,bt=this.length,Yt=this[bt-1],_t=0;++ot<bt;)_t+=(Ft=Yt)[1]*(Yt=this[ot])[0]-Ft[0]*Yt[1];return.5*_t},Fn.centroid=function(ot){var ie,xe,bt=-1,Ft=this.length,Yt=0,_t=0,Pe=this[Ft-1];for(arguments.length||(ot=-1/(6*this.area()));++bt<Ft;)Yt+=((ie=Pe)[0]+(Pe=this[bt])[0])*(xe=ie[0]*Pe[1]-Pe[0]*ie[1]),_t+=(ie[1]+Pe[1])*xe;return[Yt*ot,_t*ot]},Fn.clip=function(ot){for(var bt,ie,Pe,Oe,Qe,qe,Ft=kn(ot),Yt=-1,_t=this.length-kn(this),xe=this[_t-1];++Yt<_t;){for(bt=ot.slice(),ot.length=0,Oe=this[Yt],Qe=bt[(Pe=bt.length-Ft)-1],ie=-1;++ie<Pe;)Sn(qe=bt[ie],xe,Oe)?(Sn(Qe,xe,Oe)||ot.push(En(Qe,qe,xe,Oe)),ot.push(qe)):Sn(Qe,xe,Oe)&&ot.push(En(Qe,qe,xe,Oe)),Qe=qe;Ft&&ot.push(ot[0]),xe=Oe}return ot};var Hn,ta,Sa,Fr,Tr,Sr=[],kr=[];function yn(){Qi(this),this.edge=this.site=this.circle=null}function Cn(ot){var bt=Sr.pop()||new yn;return bt.site=ot,bt}function hn(ot){rn(ot),Sa.remove(ot),Sr.push(ot),Qi(ot)}function ln(ot){var bt=ot.circle,Ft=bt.x,Yt=bt.cy,_t={x:Ft,y:Yt},ie=ot.P,Pe=ot.N,xe=[ot];hn(ot);for(var Oe=ie;Oe.circle&&v(Ft-Oe.circle.x)<kt&&v(Yt-Oe.circle.cy)<kt;)ie=Oe.P,xe.unshift(Oe),hn(Oe),Oe=ie;xe.unshift(Oe),rn(Oe);for(var Qe=Pe;Qe.circle&&v(Ft-Qe.circle.x)<kt&&v(Yt-Qe.circle.cy)<kt;)Pe=Qe.N,xe.push(Qe),hn(Qe),Qe=Pe;xe.push(Qe),rn(Qe);var Lr,qe=xe.length;for(Lr=1;Lr<qe;++Lr)lo((Qe=xe[Lr]).edge,(Oe=xe[Lr-1]).site,Qe.site,_t);(Qe=xe[qe-1]).edge=ni((Oe=xe[0]).site,Qe.site,null,_t),Hr(Oe),Hr(Qe)}function Er(ot){for(var Yt,_t,ie,Pe,bt=ot.x,Ft=ot.y,xe=Sa._;xe;)if((ie=Yr(xe,Ft)-bt)>kt)xe=xe.L;else{if(!((Pe=bt-je(xe,Ft))>kt)){ie>-kt?(Yt=xe.P,_t=xe):Pe>-kt?(Yt=xe,_t=xe.N):Yt=_t=xe;break}if(!xe.R){Yt=xe;break}xe=xe.R}var Oe=Cn(ot);if(Sa.insert(Yt,Oe),Yt||_t){if(Yt===_t)return rn(Yt),_t=Cn(Yt.site),Sa.insert(Oe,_t),Oe.edge=_t.edge=ni(Yt.site,Oe.site),Hr(Yt),void Hr(_t);if(!_t)return void(Oe.edge=ni(Yt.site,Oe.site));rn(Yt),rn(_t);var Qe=Yt.site,qe=Qe.x,Lr=Qe.y,Pr=ot.x-qe,_r=ot.y-Lr,cn=_t.site,Rr=cn.x-qe,Nr=cn.y-Lr,Jr=2*(Pr*Nr-_r*Rr),on=Pr*Pr+_r*_r,an=Rr*Rr+Nr*Nr,jr={x:(Nr*on-_r*an)/Jr+qe,y:(Pr*an-Rr*on)/Jr+Lr};lo(_t.edge,Qe,cn,jr),Oe.edge=ni(Qe,ot,null,jr),_t.edge=ni(ot,cn,null,jr),Hr(Yt),Hr(_t)}}function Yr(ot,bt){var Ft=ot.site,Yt=Ft.x,_t=Ft.y,ie=_t-bt;if(!ie)return Yt;var Pe=ot.P;if(!Pe)return-1/0;var xe=(Ft=Pe.site).x,Oe=Ft.y,Qe=Oe-bt;if(!Qe)return xe;var qe=xe-Yt,Lr=1/ie-1/Qe,Pr=qe/Qe;return Lr?(-Pr+Math.sqrt(Pr*Pr-2*Lr*(qe*qe/(-2*Qe)-Oe+Qe/2+_t-ie/2)))/Lr+Yt:(Yt+xe)/2}function je(ot,bt){var Ft=ot.N;if(Ft)return Yr(Ft,bt);var Yt=ot.site;return Yt.y===bt?Yt.x:1/0}function xr(ot){this.site=ot,this.edges=[]}function Ve(ot,bt){return bt.angle-ot.angle}function vr(){Qi(this),this.x=this.y=this.arc=this.site=this.cy=null}function Hr(ot){var bt=ot.P,Ft=ot.N;if(bt&&Ft){var Yt=bt.site,_t=ot.site,ie=Ft.site;if(Yt!==ie){var Pe=_t.x,xe=_t.y,Oe=Yt.x-Pe,Qe=Yt.y-xe,qe=ie.x-Pe,Lr=2*(Oe*(Nr=ie.y-xe)-Qe*qe);if(!(Lr>=-1e-12)){var Pr=Oe*Oe+Qe*Qe,_r=qe*qe+Nr*Nr,cn=(Nr*Pr-Qe*_r)/Lr,Rr=(Oe*_r-qe*Pr)/Lr,Nr=Rr+xe,Jr=kr.pop()||new vr;Jr.arc=ot,Jr.site=_t,Jr.x=cn+Pe,Jr.y=Nr+Math.sqrt(cn*cn+Rr*Rr),Jr.cy=Nr,ot.circle=Jr;for(var on=null,an=Tr._;an;)if(Jr.y<an.y||Jr.y===an.y&&Jr.x<=an.x){if(!an.L){on=an.P;break}an=an.L}else{if(!an.R){on=an;break}an=an.R}Tr.insert(on,Jr),on||(Fr=Jr)}}}}function rn(ot){var bt=ot.circle;bt&&(bt.P||(Fr=bt.N),Tr.remove(bt),kr.push(bt),Qi(bt),ot.circle=null)}function na(ot,bt){var Ft=ot.b;if(Ft)return!0;var Nr,Jr,Yt=ot.a,_t=bt[0][0],ie=bt[1][0],Pe=bt[0][1],xe=bt[1][1],Oe=ot.l,Qe=ot.r,qe=Oe.x,Lr=Oe.y,Pr=Qe.x,_r=Qe.y,cn=(qe+Pr)/2;if(_r===Lr){if(cn<_t||cn>=ie)return;if(qe>Pr){if(Yt){if(Yt.y>=xe)return}else Yt={x:cn,y:Pe};Ft={x:cn,y:xe}}else{if(Yt){if(Yt.y<Pe)return}else Yt={x:cn,y:xe};Ft={x:cn,y:Pe}}}else if(Jr=(Lr+_r)/2-(Nr=(qe-Pr)/(_r-Lr))*cn,Nr<-1||Nr>1)if(qe>Pr){if(Yt){if(Yt.y>=xe)return}else Yt={x:(Pe-Jr)/Nr,y:Pe};Ft={x:(xe-Jr)/Nr,y:xe}}else{if(Yt){if(Yt.y<Pe)return}else Yt={x:(xe-Jr)/Nr,y:xe};Ft={x:(Pe-Jr)/Nr,y:Pe}}else if(Lr<_r){if(Yt){if(Yt.x>=ie)return}else Yt={x:_t,y:Nr*_t+Jr};Ft={x:ie,y:Nr*ie+Jr}}else{if(Yt){if(Yt.x<_t)return}else Yt={x:ie,y:Nr*ie+Jr};Ft={x:_t,y:Nr*_t+Jr}}return ot.a=Yt,ot.b=Ft,!0}function Ta(ot,bt){this.l=ot,this.r=bt,this.a=this.b=null}function ni(ot,bt,Ft,Yt){var _t=new Ta(ot,bt);return Hn.push(_t),Ft&&lo(_t,ot,bt,Ft),Yt&&lo(_t,bt,ot,Yt),ta[ot.i].edges.push(new ro(_t,ot,bt)),ta[bt.i].edges.push(new ro(_t,bt,ot)),_t}function ei(ot,bt,Ft){var Yt=new Ta(ot,null);return Yt.a=bt,Yt.b=Ft,Hn.push(Yt),Yt}function lo(ot,bt,Ft,Yt){ot.a||ot.b?ot.l===Ft?ot.b=Yt:ot.a=Yt:(ot.a=Yt,ot.l=bt,ot.r=Ft)}function ro(ot,bt,Ft){var Yt=ot.a,_t=ot.b;this.edge=ot,this.site=bt,this.angle=Ft?Math.atan2(Ft.y-bt.y,Ft.x-bt.x):ot.l===bt?Math.atan2(_t.x-Yt.x,Yt.y-_t.y):Math.atan2(Yt.x-_t.x,_t.y-Yt.y)}function ss(){this._=null}function Qi(ot){ot.U=ot.C=ot.L=ot.R=ot.P=ot.N=null}function al(ot,bt){var Ft=bt,Yt=bt.R,_t=Ft.U;_t?_t.L===Ft?_t.L=Yt:_t.R=Yt:ot._=Yt,Yt.U=_t,Ft.U=Yt,Ft.R=Yt.L,Ft.R&&(Ft.R.U=Ft),Yt.L=Ft}function zs(ot,bt){var Ft=bt,Yt=bt.L,_t=Ft.U;_t?_t.L===Ft?_t.L=Yt:_t.R=Yt:ot._=Yt,Yt.U=_t,Ft.U=Yt,Ft.L=Yt.R,Ft.L&&(Ft.L.U=Ft),Yt.R=Ft}function ti(ot){for(;ot.L;)ot=ot.L;return ot}function ws(ot,bt){var Yt,_t,ie,Ft=ot.sort(_l).pop();for(Hn=[],ta=new Array(ot.length),Sa=new ss,Tr=new ss;;)if(ie=Fr,Ft&&(!ie||Ft.y<ie.y||Ft.y===ie.y&&Ft.x<ie.x))(Ft.x!==Yt||Ft.y!==_t)&&(ta[Ft.i]=new xr(Ft),Er(Ft),Yt=Ft.x,_t=Ft.y),Ft=ot.pop();else{if(!ie)break;ln(ie.arc)}bt&&(function $n(ot){for(var _t,bt=Hn,Ft=function Zn(ot,bt,Ft,Yt){return function(_t){var Rr,ie=_t.a,Pe=_t.b,xe=ie.x,Oe=ie.y,Lr=0,Pr=1,_r=Pe.x-xe,cn=Pe.y-Oe;if(Rr=ot-xe,_r||!(Rr>0)){if(Rr/=_r,_r<0){if(Rr<Lr)return;Rr<Pr&&(Pr=Rr)}else if(_r>0){if(Rr>Pr)return;Rr>Lr&&(Lr=Rr)}if(Rr=Ft-xe,_r||!(Rr<0)){if(Rr/=_r,_r<0){if(Rr>Pr)return;Rr>Lr&&(Lr=Rr)}else if(_r>0){if(Rr<Lr)return;Rr<Pr&&(Pr=Rr)}if(Rr=bt-Oe,cn||!(Rr>0)){if(Rr/=cn,cn<0){if(Rr<Lr)return;Rr<Pr&&(Pr=Rr)}else if(cn>0){if(Rr>Pr)return;Rr>Lr&&(Lr=Rr)}if(Rr=Yt-Oe,cn||!(Rr<0)){if(Rr/=cn,cn<0){if(Rr>Pr)return;Rr>Lr&&(Lr=Rr)}else if(cn>0){if(Rr<Lr)return;Rr<Pr&&(Pr=Rr)}return Lr>0&&(_t.a={x:xe+Lr*_r,y:Oe+Lr*cn}),Pr<1&&(_t.b={x:xe+Pr*_r,y:Oe+Pr*cn}),_t}}}}}}(ot[0][0],ot[0][1],ot[1][0],ot[1][1]),Yt=bt.length;Yt--;)(!na(_t=bt[Yt],ot)||!Ft(_t)||v(_t.a.x-_t.b.x)<kt&&v(_t.a.y-_t.b.y)<kt)&&(_t.a=_t.b=null,bt.splice(Yt,1))}(bt),function Be(ot){for(var ie,Pe,xe,Oe,Lr,Pr,_r,cn,Rr,Nr,bt=ot[0][0],Ft=ot[1][0],Yt=ot[0][1],_t=ot[1][1],Qe=ta,qe=Qe.length;qe--;)if((Lr=Qe[qe])&&Lr.prepare())for(cn=(_r=Lr.edges).length,Pr=0;Pr<cn;)xe=(Nr=_r[Pr].end()).x,Oe=Nr.y,Pe=(Rr=_r[++Pr%cn].start()).y,(v(xe-(ie=Rr.x))>kt||v(Oe-Pe)>kt)&&(_r.splice(Pr,0,new ro(ei(Lr.site,Nr,v(xe-bt)<kt&&_t-Oe>kt?{x:bt,y:v(ie-bt)<kt?Pe:_t}:v(Oe-_t)<kt&&Ft-xe>kt?{x:v(Pe-_t)<kt?ie:Ft,y:_t}:v(xe-Ft)<kt&&Oe-Yt>kt?{x:Ft,y:v(ie-Ft)<kt?Pe:Yt}:v(Oe-Yt)<kt&&xe-bt>kt?{x:v(Pe-Yt)<kt?ie:bt,y:Yt}:null),Lr.site,null)),++cn)}(bt));var Pe={cells:ta,edges:Hn};return Sa=Tr=Hn=ta=null,Pe}function _l(ot,bt){return bt.y-ot.y||bt.x-ot.x}xr.prototype.prepare=function(){for(var Ft,ot=this.edges,bt=ot.length;bt--;)(!(Ft=ot[bt].edge).b||!Ft.a)&&ot.splice(bt,1);return ot.sort(Ve),ot.length},ro.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ss.prototype={insert:function(ot,bt){var Ft,Yt,_t;if(ot){if(bt.P=ot,bt.N=ot.N,ot.N&&(ot.N.P=bt),ot.N=bt,ot.R){for(ot=ot.R;ot.L;)ot=ot.L;ot.L=bt}else ot.R=bt;Ft=ot}else this._?(ot=ti(this._),bt.P=null,bt.N=ot,ot.P=ot.L=bt,Ft=ot):(bt.P=bt.N=null,this._=bt,Ft=null);for(bt.L=bt.R=null,bt.U=Ft,bt.C=!0,ot=bt;Ft&&Ft.C;)Ft===(Yt=Ft.U).L?(_t=Yt.R)&&_t.C?(Ft.C=_t.C=!1,Yt.C=!0,ot=Yt):(ot===Ft.R&&(al(this,Ft),Ft=(ot=Ft).U),Ft.C=!1,Yt.C=!0,zs(this,Yt)):(_t=Yt.L)&&_t.C?(Ft.C=_t.C=!1,Yt.C=!0,ot=Yt):(ot===Ft.L&&(zs(this,Ft),Ft=(ot=Ft).U),Ft.C=!1,Yt.C=!0,al(this,Yt)),Ft=ot.U;this._.C=!1},remove:function(ot){ot.N&&(ot.N.P=ot.P),ot.P&&(ot.P.N=ot.N),ot.N=ot.P=null;var Ft,ie,Pe,bt=ot.U,Yt=ot.L,_t=ot.R;if(ie=Yt?_t?ti(_t):Yt:_t,bt?bt.L===ot?bt.L=ie:bt.R=ie:this._=ie,Yt&&_t?(Pe=ie.C,ie.C=ot.C,ie.L=Yt,Yt.U=ie,ie!==_t?(bt=ie.U,ie.U=ot.U,bt.L=ot=ie.R,ie.R=_t,_t.U=ie):(ie.U=bt,bt=ie,ot=ie.R)):(Pe=ot.C,ot=ie),ot&&(ot.U=bt),!Pe){if(ot&&ot.C)return void(ot.C=!1);do{if(ot===this._)break;if(ot===bt.L){if((Ft=bt.R).C&&(Ft.C=!1,bt.C=!0,al(this,bt),Ft=bt.R),Ft.L&&Ft.L.C||Ft.R&&Ft.R.C){(!Ft.R||!Ft.R.C)&&(Ft.L.C=!1,Ft.C=!0,zs(this,Ft),Ft=bt.R),Ft.C=bt.C,bt.C=Ft.R.C=!1,al(this,bt),ot=this._;break}}else if((Ft=bt.L).C&&(Ft.C=!1,bt.C=!0,zs(this,bt),Ft=bt.L),Ft.L&&Ft.L.C||Ft.R&&Ft.R.C){(!Ft.L||!Ft.L.C)&&(Ft.R.C=!1,Ft.C=!0,al(this,Ft),Ft=bt.L),Ft.C=bt.C,bt.C=Ft.L.C=!1,zs(this,bt),ot=this._;break}Ft.C=!0,ot=bt,bt=bt.U}while(!ot.C);ot&&(ot.C=!1)}}},i.geom.voronoi=function(ot){var bt=yr,Ft=tn,Yt=bt,_t=Ft,ie=Ri;if(ot)return Pe(ot);function Pe(Oe){var Qe=new Array(Oe.length),qe=ie[0][0],Lr=ie[0][1],Pr=ie[1][0],_r=ie[1][1];return ws(xe(Oe),ie).cells.forEach(function(cn,Rr){var Nr=cn.edges,Jr=cn.site;(Qe[Rr]=Nr.length?Nr.map(function(an){var jr=an.start();return[jr.x,jr.y]}):Jr.x>=qe&&Jr.x<=Pr&&Jr.y>=Lr&&Jr.y<=_r?[[qe,_r],[Pr,_r],[Pr,Lr],[qe,Lr]]:[]).point=Oe[Rr]}),Qe}function xe(Oe){return Oe.map(function(Qe,qe){return{x:Math.round(Yt(Qe,qe)/kt)*kt,y:Math.round(_t(Qe,qe)/kt)*kt,i:qe}})}return Pe.links=function(Oe){return ws(xe(Oe)).edges.filter(function(Qe){return Qe.l&&Qe.r}).map(function(Qe){return{source:Oe[Qe.l.i],target:Oe[Qe.r.i]}})},Pe.triangles=function(Oe){var Qe=[];return ws(xe(Oe)).cells.forEach(function(qe,Lr){for(var Jr,Pr=qe.site,_r=qe.edges.sort(Ve),cn=-1,Rr=_r.length,on=_r[Rr-1].edge,an=on.l===Pr?on.r:on.l;++cn<Rr;)Jr=an,an=(on=_r[cn].edge).l===Pr?on.r:on.l,Lr<Jr.i&&Lr<an.i&&no(Pr,Jr,an)<0&&Qe.push([Oe[Lr],Oe[Jr.i],Oe[an.i]])}),Qe},Pe.x=function(Oe){return arguments.length?(Yt=ur(bt=Oe),Pe):bt},Pe.y=function(Oe){return arguments.length?(_t=ur(Ft=Oe),Pe):Ft},Pe.clipExtent=function(Oe){return arguments.length?(ie=null==Oe?Ri:Oe,Pe):ie===Ri?null:ie},Pe.size=function(Oe){return arguments.length?Pe.clipExtent(Oe&&[[0,0],Oe]):ie===Ri?null:ie&&ie[1]},Pe};var Ri=[[-1e6,-1e6],[1e6,1e6]];function no(ot,bt,Ft){return(ot.x-Ft.x)*(bt.y-ot.y)-(ot.x-bt.x)*(Ft.y-ot.y)}function Cu(ot){return ot.x}function Fl(ot){return ot.y}function jo(ot,bt,Ft,Yt,_t,ie){if(!ot(bt,Ft,Yt,_t,ie)){var Pe=.5*(Ft+_t),xe=.5*(Yt+ie),Oe=bt.nodes;Oe[0]&&jo(ot,Oe[0],Ft,Yt,Pe,xe),Oe[1]&&jo(ot,Oe[1],Pe,Yt,_t,xe),Oe[2]&&jo(ot,Oe[2],Ft,xe,Pe,ie),Oe[3]&&jo(ot,Oe[3],Pe,xe,_t,ie)}}function mo(ot,bt,Ft,Yt,_t,ie,Pe){var Oe,xe=1/0;return function Qe(qe,Lr,Pr,_r,cn){if(!(Lr>ie||Pr>Pe||_r<Yt||cn<_t)){if(Rr=qe.point){var Rr,Nr=bt-qe.x,Jr=Ft-qe.y,on=Nr*Nr+Jr*Jr;if(on<xe){var an=Math.sqrt(xe=on);Yt=bt-an,_t=Ft-an,ie=bt+an,Pe=Ft+an,Oe=Rr}}for(var jr=qe.nodes,zn=.5*(Lr+_r),jn=.5*(Pr+cn),ga=(Ft>=jn)<<1|bt>=zn,va=ga+4;ga<va;++ga)if(qe=jr[3&ga])switch(3&ga){case 0:Qe(qe,Lr,Pr,zn,jn);break;case 1:Qe(qe,zn,Pr,_r,jn);break;case 2:Qe(qe,Lr,jn,zn,cn);break;case 3:Qe(qe,zn,jn,_r,cn)}}}(ot,Yt,_t,ie,Pe),Oe}function Li(ot,bt){ot=i.rgb(ot),bt=i.rgb(bt);var Ft=ot.r,Yt=ot.g,_t=ot.b,ie=bt.r-Ft,Pe=bt.g-Yt,xe=bt.b-_t;return function(Oe){return"#"+$r(Math.round(Ft+ie*Oe))+$r(Math.round(Yt+Pe*Oe))+$r(Math.round(_t+xe*Oe))}}function kl(ot,bt){var _t,Ft={},Yt={};for(_t in ot)_t in bt?Ft[_t]=Ui(ot[_t],bt[_t]):Yt[_t]=ot[_t];for(_t in bt)_t in ot||(Yt[_t]=bt[_t]);return function(ie){for(_t in Ft)Yt[_t]=Ft[_t](ie);return Yt}}function wi(ot,bt){return ot=+ot,bt=+bt,function(Ft){return ot*(1-Ft)+bt*Ft}}function ko(ot,bt){var Yt,_t,ie,Ft=uo.lastIndex=il.lastIndex=0,Pe=-1,xe=[],Oe=[];for(ot+="",bt+="";(Yt=uo.exec(ot))&&(_t=il.exec(bt));)(ie=_t.index)>Ft&&(ie=bt.slice(Ft,ie),xe[Pe]?xe[Pe]+=ie:xe[++Pe]=ie),(Yt=Yt[0])===(_t=_t[0])?xe[Pe]?xe[Pe]+=_t:xe[++Pe]=_t:(xe[++Pe]=null,Oe.push({i:Pe,x:wi(Yt,_t)})),Ft=il.lastIndex;return Ft<bt.length&&(ie=bt.slice(Ft),xe[Pe]?xe[Pe]+=ie:xe[++Pe]=ie),xe.length<2?Oe[0]?(bt=Oe[0].x,function(Qe){return bt(Qe)+""}):function(){return bt}:(bt=Oe.length,function(Qe){for(var Lr,qe=0;qe<bt;++qe)xe[(Lr=Oe[qe]).i]=Lr.x(Qe);return xe.join("")})}i.geom.delaunay=function(ot){return i.geom.voronoi().triangles(ot)},i.geom.quadtree=function(ot,bt,Ft,Yt,_t){var xe,ie=yr,Pe=tn;if(xe=arguments.length)return ie=Cu,Pe=Fl,3===xe&&(_t=Ft,Yt=bt,Ft=bt=0),Oe(ot);function Oe(Qe){var qe,_r,cn,Rr,Nr,Jr,on,an,jr,Lr=ur(ie),Pr=ur(Pe);if(null!=bt)Jr=bt,on=Ft,an=Yt,jr=_t;else if(an=jr=-(Jr=on=1/0),_r=[],cn=[],Nr=Qe.length,xe)for(Rr=0;Rr<Nr;++Rr)(qe=Qe[Rr]).x<Jr&&(Jr=qe.x),qe.y<on&&(on=qe.y),qe.x>an&&(an=qe.x),qe.y>jr&&(jr=qe.y),_r.push(qe.x),cn.push(qe.y);else for(Rr=0;Rr<Nr;++Rr){var zn=+Lr(qe=Qe[Rr],Rr),jn=+Pr(qe,Rr);zn<Jr&&(Jr=zn),jn<on&&(on=jn),zn>an&&(an=zn),jn>jr&&(jr=jn),_r.push(zn),cn.push(jn)}var aa=an-Jr,ea=jr-on;function ga(xa,fa,Ya,mi,Ba,Xn,Ra,za){if(!isNaN(Ya)&&!isNaN(mi))if(xa.leaf){var Na=xa.x,ci=xa.y;if(null!=Na)if(v(Na-Ya)+v(ci-mi)<.01)va(xa,fa,Ya,mi,Ba,Xn,Ra,za);else{var Jn=xa.point;xa.x=xa.y=xa.point=null,va(xa,Jn,Na,ci,Ba,Xn,Ra,za),va(xa,fa,Ya,mi,Ba,Xn,Ra,za)}else xa.x=Ya,xa.y=mi,xa.point=fa}else va(xa,fa,Ya,mi,Ba,Xn,Ra,za)}function va(xa,fa,Ya,mi,Ba,Xn,Ra,za){var Na=.5*(Ba+Ra),ci=.5*(Xn+za),Jn=Ya>=Na,ya=mi>=ci,Si=ya<<1|Jn;xa.leaf=!1,Jn?Ba=Na:Ra=Na,ya?Xn=ci:za=ci,ga(xa=xa.nodes[Si]||(xa.nodes[Si]={leaf:!0,nodes:[],point:null,x:null,y:null}),fa,Ya,mi,Ba,Xn,Ra,za)}aa>ea?jr=on+aa:an=Jr+ea;var Ca={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(xa){ga(Ca,xa,+Lr(xa,++Rr),+Pr(xa,Rr),Jr,on,an,jr)},visit:function(xa){jo(xa,Ca,Jr,on,an,jr)},find:function(xa){return mo(Ca,xa[0],xa[1],Jr,on,an,jr)}};if(Rr=-1,null==bt){for(;++Rr<Nr;)ga(Ca,Qe[Rr],_r[Rr],cn[Rr],Jr,on,an,jr);--Rr}else Qe.forEach(Ca.add);return _r=cn=Qe=qe=null,Ca}return Oe.x=function(Qe){return arguments.length?(ie=Qe,Oe):ie},Oe.y=function(Qe){return arguments.length?(Pe=Qe,Oe):Pe},Oe.extent=function(Qe){return arguments.length?(null==Qe?bt=Ft=Yt=_t=null:(bt=+Qe[0][0],Ft=+Qe[0][1],Yt=+Qe[1][0],_t=+Qe[1][1]),Oe):null==bt?null:[[bt,Ft],[Yt,_t]]},Oe.size=function(Qe){return arguments.length?(null==Qe?bt=Ft=Yt=_t=null:(bt=Ft=0,Yt=+Qe[0],_t=+Qe[1]),Oe):null==bt?null:[Yt-bt,_t-Ft]},Oe},i.interpolateRgb=Li,i.interpolateObject=kl,i.interpolateNumber=wi,i.interpolateString=ko;var uo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,il=new RegExp(uo.source,"g");function Ui(ot,bt){for(var Yt,Ft=i.interpolators.length;--Ft>=0&&!(Yt=i.interpolators[Ft](ot,bt)););return Yt}function Os(ot,bt){var xe,Ft=[],Yt=[],_t=ot.length,ie=bt.length,Pe=Math.min(ot.length,bt.length);for(xe=0;xe<Pe;++xe)Ft.push(Ui(ot[xe],bt[xe]));for(;xe<_t;++xe)Yt[xe]=ot[xe];for(;xe<ie;++xe)Yt[xe]=bt[xe];return function(Oe){for(xe=0;xe<Pe;++xe)Yt[xe]=Ft[xe](Oe);return Yt}}i.interpolate=Ui,i.interpolators=[function(ot,bt){var Ft=typeof bt;return("string"===Ft?bn.has(bt.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(bt)?Li:ko:bt instanceof be?Li:Array.isArray(bt)?Os:"object"===Ft&&isNaN(bt)?kl:wi)(ot,bt)}],i.interpolateArray=Os;var Ko=function(){return z},Oi=i.map({linear:Ko,poly:function lf(ot){return function(bt){return Math.pow(bt,ot)}},quad:function(){return sf},cubic:function(){return Lu},sin:function(){return uf},exp:function(){return ff},circle:function(){return ql},elastic:function cf(ot,bt){var Ft;return arguments.length<2&&(bt=.45),arguments.length?Ft=bt/pt*Math.asin(1/ot):(ot=1,Ft=bt/4),function(Yt){return 1+ot*Math.pow(2,-10*Yt)*Math.sin((Yt-Ft)*pt/bt)}},back:function hf(ot){return ot||(ot=1.70158),function(bt){return bt*bt*((ot+1)*bt-ot)}},bounce:function(){return Pu}}),of=i.map({in:z,out:Qo,"in-out":Bs,"out-in":function(ot){return Bs(Qo(ot))}});function Jo(ot){return function(bt){return bt<=0?0:bt>=1?1:ot(bt)}}function Qo(ot){return function(bt){return 1-ot(1-bt)}}function Bs(ot){return function(bt){return.5*(bt<.5?ot(2*bt):2-ot(2-2*bt))}}function sf(ot){return ot*ot}function Lu(ot){return ot*ot*ot}function zl(ot){if(ot<=0)return 0;if(ot>=1)return 1;var bt=ot*ot,Ft=bt*ot;return 4*(ot<.5?Ft:3*(ot-bt)+Ft-.75)}function uf(ot){return 1-Math.cos(ot*Qt)}function ff(ot){return Math.pow(2,10*(ot-1))}function ql(ot){return 1-Math.sqrt(1-ot*ot)}function Pu(ot){return ot<.36363636363636365?7.5625*ot*ot:ot<.7272727272727273?7.5625*(ot-=.5454545454545454)*ot+.75:ot<.9090909090909091?7.5625*(ot-=.8181818181818182)*ot+.9375:7.5625*(ot-=.9545454545454546)*ot+.984375}function ol(ot,bt){return bt-=ot,function(Ft){return Math.round(ot+bt*Ft)}}function As(ot){var bt=[ot.a,ot.b],Ft=[ot.c,ot.d],Yt=tu(bt),_t=sl(bt,Ft),ie=tu(function eu(ot,bt,Ft){return ot[0]+=Ft*bt[0],ot[1]+=Ft*bt[1],ot}(Ft,bt,-_t))||0;bt[0]*Ft[1]<Ft[0]*bt[1]&&(bt[0]*=-1,bt[1]*=-1,Yt*=-1,_t*=-1),this.rotate=(Yt?Math.atan2(bt[1],bt[0]):Math.atan2(-Ft[0],Ft[1]))*ee,this.translate=[ot.e,ot.f],this.scale=[Yt,ie],this.skew=ie?Math.atan2(_t,ie)*ee:0}function sl(ot,bt){return ot[0]*bt[0]+ot[1]*bt[1]}function tu(ot){var bt=Math.sqrt(sl(ot,ot));return bt&&(ot[0]/=bt,ot[1]/=bt),bt}i.ease=function(ot){var bt=ot.indexOf("-"),Ft=bt>=0?ot.slice(0,bt):ot,Yt=bt>=0?ot.slice(bt+1):"in";return Ft=Oi.get(Ft)||Ko,Jo((Yt=of.get(Yt)||z)(Ft.apply(null,P.call(arguments,1))))},i.interpolateHcl=function vf(ot,bt){ot=i.hcl(ot),bt=i.hcl(bt);var Ft=ot.h,Yt=ot.c,_t=ot.l,ie=bt.h-Ft,Pe=bt.c-Yt,xe=bt.l-_t;return isNaN(Pe)&&(Pe=0,Yt=isNaN(Yt)?bt.c:Yt),isNaN(ie)?(ie=0,Ft=isNaN(Ft)?bt.h:Ft):ie>180?ie-=360:ie<-180&&(ie+=360),function(Oe){return nr(Ft+ie*Oe,Yt+Pe*Oe,_t+xe*Oe)+""}},i.interpolateHsl=function df(ot,bt){ot=i.hsl(ot),bt=i.hsl(bt);var Ft=ot.h,Yt=ot.s,_t=ot.l,ie=bt.h-Ft,Pe=bt.s-Yt,xe=bt.l-_t;return isNaN(Pe)&&(Pe=0,Yt=isNaN(Yt)?bt.s:Yt),isNaN(ie)?(ie=0,Ft=isNaN(Ft)?bt.h:Ft):ie>180?ie-=360:ie<-180&&(ie+=360),function(Oe){return Ie(Ft+ie*Oe,Yt+Pe*Oe,_t+xe*Oe)+""}},i.interpolateLab=function Ts(ot,bt){ot=i.lab(ot),bt=i.lab(bt);var Ft=ot.l,Yt=ot.a,_t=ot.b,ie=bt.l-Ft,Pe=bt.a-Yt,xe=bt.b-_t;return function(Oe){return Xe(Ft+ie*Oe,Yt+Pe*Oe,_t+xe*Oe)+""}},i.interpolateRound=ol,i.transform=function(ot){var bt=l.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(Ft){if(null!=Ft){bt.setAttribute("transform",Ft);var Yt=bt.transform.baseVal.consolidate()}return new As(Yt?Yt.matrix:Du)})(ot)},As.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Du={a:1,b:0,c:0,d:1,e:0,f:0};function $o(ot){return ot.length?ot.pop()+",":""}function zo(ot,bt){var Ft=[],Yt=[];return ot=i.transform(ot),bt=i.transform(bt),function pf(ot,bt,Ft,Yt){if(ot[0]!==bt[0]||ot[1]!==bt[1]){var _t=Ft.push("translate(",null,",",null,")");Yt.push({i:_t-4,x:wi(ot[0],bt[0])},{i:_t-2,x:wi(ot[1],bt[1])})}else(bt[0]||bt[1])&&Ft.push("translate("+bt+")")}(ot.translate,bt.translate,Ft,Yt),function Ru(ot,bt,Ft,Yt){ot!==bt?(ot-bt>180?bt+=360:bt-ot>180&&(ot+=360),Yt.push({i:Ft.push($o(Ft)+"rotate(",null,")")-2,x:wi(ot,bt)})):bt&&Ft.push($o(Ft)+"rotate("+bt+")")}(ot.rotate,bt.rotate,Ft,Yt),function oo(ot,bt,Ft,Yt){ot!==bt?Yt.push({i:Ft.push($o(Ft)+"skewX(",null,")")-2,x:wi(ot,bt)}):bt&&Ft.push($o(Ft)+"skewX("+bt+")")}(ot.skew,bt.skew,Ft,Yt),function Ol(ot,bt,Ft,Yt){if(ot[0]!==bt[0]||ot[1]!==bt[1]){var _t=Ft.push($o(Ft)+"scale(",null,",",null,")");Yt.push({i:_t-4,x:wi(ot[0],bt[0])},{i:_t-2,x:wi(ot[1],bt[1])})}else(1!==bt[0]||1!==bt[1])&&Ft.push($o(Ft)+"scale("+bt+")")}(ot.scale,bt.scale,Ft,Yt),ot=bt=null,function(_t){for(var xe,ie=-1,Pe=Yt.length;++ie<Pe;)Ft[(xe=Yt[ie]).i]=xe.x(_t);return Ft.join("")}}function Bl(ot,bt){return bt=(bt-=ot=+ot)||1/bt,function(Ft){return(Ft-ot)/bt}}function ls(ot,bt){return bt=(bt-=ot=+ot)||1/bt,function(Ft){return Math.max(0,Math.min(1,(Ft-ot)/bt))}}function us(ot){for(var bt=ot.source,Ft=ot.target,Yt=function Nl(ot,bt){if(ot===bt)return ot;for(var Ft=Ns(ot),Yt=Ns(bt),_t=Ft.pop(),ie=Yt.pop(),Pe=null;_t===ie;)Pe=_t,_t=Ft.pop(),ie=Yt.pop();return Pe}(bt,Ft),_t=[bt];bt!==Yt;)_t.push(bt=bt.parent);for(var ie=_t.length;Ft!==Yt;)_t.splice(ie,0,Ft),Ft=Ft.parent;return _t}function Ns(ot){for(var bt=[],Ft=ot.parent;null!=Ft;)bt.push(ot),ot=Ft,Ft=Ft.parent;return bt.push(ot),bt}function xo(ot){ot.fixed|=2}function Pi(ot){ot.fixed&=-7}function ru(ot){ot.fixed|=4,ot.px=ot.x,ot.py=ot.y}function nu(ot){ot.fixed&=-5}function ll(ot,bt,Ft){var Yt=0,_t=0;if(ot.charge=0,!ot.leaf)for(var Oe,ie=ot.nodes,Pe=ie.length,xe=-1;++xe<Pe;)null!=(Oe=ie[xe])&&(ll(Oe,bt,Ft),ot.charge+=Oe.charge,Yt+=Oe.charge*Oe.cx,_t+=Oe.charge*Oe.cy);if(ot.point){ot.leaf||(ot.point.x+=Math.random()-.5,ot.point.y+=Math.random()-.5);var Qe=bt*Ft[ot.point.index];ot.charge+=ot.pointCharge=Qe,Yt+=Qe*ot.point.x,_t+=Qe*ot.point.y}ot.cx=Yt/ot.charge,ot.cy=_t/ot.charge}i.interpolateTransform=zo,i.layout={},i.layout.bundle=function(){return function(ot){for(var bt=[],Ft=-1,Yt=ot.length;++Ft<Yt;)bt.push(us(ot[Ft]));return bt}},i.layout.chord=function(){var bt,Ft,Yt,_t,Pe,xe,Oe,ot={},ie=0;function Qe(){var Rr,Nr,Jr,on,an,Lr={},Pr=[],_r=i.range(_t),cn=[];for(bt=[],Ft=[],Rr=0,on=-1;++on<_t;){for(Nr=0,an=-1;++an<_t;)Nr+=Yt[on][an];Pr.push(Nr),cn.push(i.range(_t)),Rr+=Nr}for(Pe&&_r.sort(function(Ca,xa){return Pe(Pr[Ca],Pr[xa])}),xe&&cn.forEach(function(Ca,xa){Ca.sort(function(fa,Ya){return xe(Yt[xa][fa],Yt[xa][Ya])})}),Rr=(pt-ie*_t)/Rr,Nr=0,on=-1;++on<_t;){for(Jr=Nr,an=-1;++an<_t;){var jr=_r[on],zn=cn[jr][an],jn=Yt[jr][zn],aa=Nr,ea=Nr+=jn*Rr;Lr[jr+"-"+zn]={index:jr,subindex:zn,startAngle:aa,endAngle:ea,value:jn}}Ft[jr]={index:jr,startAngle:Jr,endAngle:Nr,value:Pr[jr]},Nr+=ie}for(on=-1;++on<_t;)for(an=on-1;++an<_t;){var ga=Lr[on+"-"+an],va=Lr[an+"-"+on];(ga.value||va.value)&&bt.push(ga.value<va.value?{source:va,target:ga}:{source:ga,target:va})}Oe&&qe()}function qe(){bt.sort(function(Lr,Pr){return Oe((Lr.source.value+Lr.target.value)/2,(Pr.source.value+Pr.target.value)/2)})}return ot.matrix=function(Lr){return arguments.length?(_t=(Yt=Lr)&&Yt.length,bt=Ft=null,ot):Yt},ot.padding=function(Lr){return arguments.length?(ie=Lr,bt=Ft=null,ot):ie},ot.sortGroups=function(Lr){return arguments.length?(Pe=Lr,bt=Ft=null,ot):Pe},ot.sortSubgroups=function(Lr){return arguments.length?(xe=Lr,bt=null,ot):xe},ot.sortChords=function(Lr){return arguments.length?(Oe=Lr,bt&&qe(),ot):Oe},ot.chords=function(){return bt||Qe(),bt},ot.groups=function(){return Ft||Qe(),Ft},ot},i.layout.force=function(){var Ft,_t,ie,Rr,Nr,Jr,ot={},bt=i.dispatch("start","tick","end"),Yt=[1,1],Pe=.9,xe=Iu,Oe=Fu,Qe=-30,qe=ku,Lr=.1,Pr=.64,_r=[],cn=[];function on(jr){return function(zn,jn,aa,ea){if(zn.point!==jr){var fa,ga=zn.cx-jr.x,va=zn.cy-jr.y,Ca=ea-jn,xa=ga*ga+va*va;if(Ca*Ca/Pr<xa)return xa<qe&&(jr.px-=ga*(fa=zn.charge/xa),jr.py-=va*fa),!0;zn.point&&xa&&xa<qe&&(jr.px-=ga*(fa=zn.pointCharge/xa),jr.py-=va*fa)}return!zn.charge}}function an(jr){jr.px=i.event.x,jr.py=i.event.y,ot.resume()}return ot.tick=function(){if((ie*=.99)<.005)return Ft=null,bt.end({type:"end",alpha:ie=0}),!0;var jn,aa,ea,ga,va,Ca,xa,fa,Ya,jr=_r.length,zn=cn.length;for(aa=0;aa<zn;++aa)(Ca=(fa=(va=(ea=cn[aa]).target).x-(ga=ea.source).x)*fa+(Ya=va.y-ga.y)*Ya)&&(Ya*=Ca=ie*Nr[aa]*((Ca=Math.sqrt(Ca))-Rr[aa])/Ca,va.x-=(fa*=Ca)*(xa=ga.weight+va.weight?ga.weight/(ga.weight+va.weight):.5),va.y-=Ya*xa,ga.x+=fa*(xa=1-xa),ga.y+=Ya*xa);if((xa=ie*Lr)&&(fa=Yt[0]/2,Ya=Yt[1]/2,aa=-1,xa))for(;++aa<jr;)(ea=_r[aa]).x+=(fa-ea.x)*xa,ea.y+=(Ya-ea.y)*xa;if(Qe)for(ll(jn=i.geom.quadtree(_r),ie,Jr),aa=-1;++aa<jr;)(ea=_r[aa]).fixed||jn.visit(on(ea));for(aa=-1;++aa<jr;)(ea=_r[aa]).fixed?(ea.x=ea.px,ea.y=ea.py):(ea.x-=(ea.px-(ea.px=ea.x))*Pe,ea.y-=(ea.py-(ea.py=ea.y))*Pe);bt.tick({type:"tick",alpha:ie})},ot.nodes=function(jr){return arguments.length?(_r=jr,ot):_r},ot.links=function(jr){return arguments.length?(cn=jr,ot):cn},ot.size=function(jr){return arguments.length?(Yt=jr,ot):Yt},ot.linkDistance=function(jr){return arguments.length?(xe="function"==typeof jr?jr:+jr,ot):xe},ot.distance=ot.linkDistance,ot.linkStrength=function(jr){return arguments.length?(Oe="function"==typeof jr?jr:+jr,ot):Oe},ot.friction=function(jr){return arguments.length?(Pe=+jr,ot):Pe},ot.charge=function(jr){return arguments.length?(Qe="function"==typeof jr?jr:+jr,ot):Qe},ot.chargeDistance=function(jr){return arguments.length?(qe=jr*jr,ot):Math.sqrt(qe)},ot.gravity=function(jr){return arguments.length?(Lr=+jr,ot):Lr},ot.theta=function(jr){return arguments.length?(Pr=jr*jr,ot):Math.sqrt(Pr)},ot.alpha=function(jr){return arguments.length?(jr=+jr,ie?jr>0?ie=jr:(Ft.c=null,Ft.t=NaN,Ft=null,bt.end({type:"end",alpha:ie=0})):jr>0&&(bt.start({type:"start",alpha:ie=jr}),Ft=_n(ot.tick)),ot):ie},ot.start=function(){var jr,ga,va,zn=_r.length,jn=cn.length,aa=Yt[0],ea=Yt[1];for(jr=0;jr<zn;++jr)(va=_r[jr]).index=jr,va.weight=0;for(jr=0;jr<jn;++jr)"number"==typeof(va=cn[jr]).source&&(va.source=_r[va.source]),"number"==typeof va.target&&(va.target=_r[va.target]),++va.source.weight,++va.target.weight;for(jr=0;jr<zn;++jr)va=_r[jr],isNaN(va.x)&&(va.x=Ca("x",aa)),isNaN(va.y)&&(va.y=Ca("y",ea)),isNaN(va.px)&&(va.px=va.x),isNaN(va.py)&&(va.py=va.y);if(Rr=[],"function"==typeof xe)for(jr=0;jr<jn;++jr)Rr[jr]=+xe.call(this,cn[jr],jr);else for(jr=0;jr<jn;++jr)Rr[jr]=xe;if(Nr=[],"function"==typeof Oe)for(jr=0;jr<jn;++jr)Nr[jr]=+Oe.call(this,cn[jr],jr);else for(jr=0;jr<jn;++jr)Nr[jr]=Oe;if(Jr=[],"function"==typeof Qe)for(jr=0;jr<zn;++jr)Jr[jr]=+Qe.call(this,_r[jr],jr);else for(jr=0;jr<zn;++jr)Jr[jr]=Qe;function Ca(xa,fa){if(!ga){for(ga=new Array(zn),Ba=0;Ba<zn;++Ba)ga[Ba]=[];for(Ba=0;Ba<jn;++Ba){var Ya=cn[Ba];ga[Ya.source.index].push(Ya.target),ga[Ya.target.index].push(Ya.source)}}for(var Ra,mi=ga[jr],Ba=-1,Xn=mi.length;++Ba<Xn;)if(!isNaN(Ra=mi[Ba][xa]))return Ra;return Math.random()*fa}return ot.resume()},ot.resume=function(){return ot.alpha(.1)},ot.stop=function(){return ot.alpha(0)},ot.drag=function(){if(_t||(_t=i.behavior.drag().origin(z).on("dragstart.force",xo).on("drag.force",an).on("dragend.force",Pi)),!arguments.length)return _t;this.on("mouseover.force",ru).on("mouseout.force",nu).call(_t)},i.rebind(ot,bt,"on")};var Iu=20,Fu=1,ku=1/0;function _o(ot,bt){return i.rebind(ot,bt,"sort","children","value"),ot.nodes=ot,ot.links=ul,ot}function fo(ot,bt){for(var Ft=[ot];null!=(ot=Ft.pop());)if(bt(ot),(_t=ot.children)&&(Yt=_t.length))for(var Yt,_t;--Yt>=0;)Ft.push(_t[Yt])}function bo(ot,bt){for(var Ft=[ot],Yt=[];null!=(ot=Ft.pop());)if(Yt.push(ot),(Pe=ot.children)&&(ie=Pe.length))for(var ie,Pe,_t=-1;++_t<ie;)Ft.push(Pe[_t]);for(;null!=(ot=Yt.pop());)bt(ot)}function au(ot){return ot.children}function gf(ot){return ot.value}function yf(ot,bt){return bt.value-ot.value}function ul(ot){return i.merge(ot.map(function(bt){return(bt.children||[]).map(function(Ft){return{source:bt,target:Ft}})}))}i.layout.hierarchy=function(){var ot=yf,bt=au,Ft=gf;function Yt(_t){var xe,ie=[_t],Pe=[];for(_t.depth=0;null!=(xe=ie.pop());)if(Pe.push(xe),(Qe=bt.call(Yt,xe,xe.depth))&&(Oe=Qe.length)){for(var Oe,Qe,qe;--Oe>=0;)ie.push(qe=Qe[Oe]),qe.parent=xe,qe.depth=xe.depth+1;Ft&&(xe.value=0),xe.children=Qe}else Ft&&(xe.value=+Ft.call(Yt,xe,xe.depth)||0),delete xe.children;return bo(_t,function(Lr){var Pr,_r;ot&&(Pr=Lr.children)&&Pr.sort(ot),Ft&&(_r=Lr.parent)&&(_r.value+=Lr.value)}),Pe}return Yt.sort=function(_t){return arguments.length?(ot=_t,Yt):ot},Yt.children=function(_t){return arguments.length?(bt=_t,Yt):bt},Yt.value=function(_t){return arguments.length?(Ft=_t,Yt):Ft},Yt.revalue=function(_t){return Ft&&(fo(_t,function(ie){ie.children&&(ie.value=0)}),bo(_t,function(ie){var Pe;ie.children||(ie.value=+Ft.call(Yt,ie,ie.depth)||0),(Pe=ie.parent)&&(Pe.value+=ie.value)})),_t},Yt},i.layout.partition=function(){var ot=i.layout.hierarchy(),bt=[1,1];function Ft(ie,Pe,xe,Oe){var Qe=ie.children;if(ie.x=Pe,ie.y=ie.depth*Oe,ie.dx=xe,ie.dy=Oe,Qe&&(Lr=Qe.length)){var Lr,Pr,_r,qe=-1;for(xe=ie.value?xe/ie.value:0;++qe<Lr;)Ft(Pr=Qe[qe],Pe,_r=Pr.value*xe,Oe),Pe+=_r}}function Yt(ie){var Pe=ie.children,xe=0;if(Pe&&(Qe=Pe.length))for(var Qe,Oe=-1;++Oe<Qe;)xe=Math.max(xe,Yt(Pe[Oe]));return 1+xe}function _t(ie,Pe){var xe=ot.call(this,ie,Pe);return Ft(xe[0],0,bt[0],bt[1]/Yt(xe[0])),xe}return _t.size=function(ie){return arguments.length?(bt=ie,_t):bt},_o(_t,ot)},i.layout.pie=function(){var ot=Number,bt=Ul,Ft=0,Yt=pt,_t=0;function ie(Pe){var Jr,xe=Pe.length,Oe=Pe.map(function(on,an){return+ot.call(ie,on,an)}),Qe=+("function"==typeof Ft?Ft.apply(this,arguments):Ft),qe=("function"==typeof Yt?Yt.apply(this,arguments):Yt)-Qe,Lr=Math.min(Math.abs(qe)/xe,+("function"==typeof _t?_t.apply(this,arguments):_t)),Pr=Lr*(qe<0?-1:1),_r=i.sum(Oe),cn=_r?(qe-xe*Pr)/_r:0,Rr=i.range(xe),Nr=[];return null!=bt&&Rr.sort(bt===Ul?function(on,an){return Oe[an]-Oe[on]}:function(on,an){return bt(Pe[on],Pe[an])}),Rr.forEach(function(on){Nr[on]={data:Pe[on],value:Jr=Oe[on],startAngle:Qe,endAngle:Qe+=Jr*cn+Pr,padAngle:Lr}}),Nr}return ie.value=function(Pe){return arguments.length?(ot=Pe,ie):ot},ie.sort=function(Pe){return arguments.length?(bt=Pe,ie):bt},ie.startAngle=function(Pe){return arguments.length?(Ft=Pe,ie):Ft},ie.endAngle=function(Pe){return arguments.length?(Yt=Pe,ie):Yt},ie.padAngle=function(Pe){return arguments.length?(_t=Pe,ie):_t},ie};var Ul={};function iu(ot){return ot.x}function Us(ot){return ot.y}function ou(ot,bt,Ft){ot.y0=bt,ot.y=Ft}i.layout.stack=function(){var ot=z,bt=Vs,Ft=Ms,Yt=ou,_t=iu,ie=Us;function Pe(xe,Oe){if(!(cn=xe.length))return xe;var Qe=xe.map(function(on,an){return ot.call(Pe,on,an)}),qe=Qe.map(function(on){return on.map(function(an,jr){return[_t.call(Pe,an,jr),ie.call(Pe,an,jr)]})}),Lr=bt.call(Pe,qe,Oe);Qe=i.permute(Qe,Lr),qe=i.permute(qe,Lr);var cn,Rr,Nr,Jr,Pr=Ft.call(Pe,qe,Oe),_r=Qe[0].length;for(Nr=0;Nr<_r;++Nr)for(Yt.call(Pe,Qe[0][Nr],Jr=Pr[Nr],qe[0][Nr][1]),Rr=1;Rr<cn;++Rr)Yt.call(Pe,Qe[Rr][Nr],Jr+=qe[Rr-1][Nr][1],qe[Rr][Nr][1]);return xe}return Pe.values=function(xe){return arguments.length?(ot=xe,Pe):ot},Pe.order=function(xe){return arguments.length?(bt="function"==typeof xe?xe:su.get(xe)||Vs,Pe):bt},Pe.offset=function(xe){return arguments.length?(Ft="function"==typeof xe?xe:vi.get(xe)||Ms,Pe):Ft},Pe.x=function(xe){return arguments.length?(_t=xe,Pe):_t},Pe.y=function(xe){return arguments.length?(ie=xe,Pe):ie},Pe.out=function(xe){return arguments.length?(Yt=xe,Pe):Yt},Pe};var su=i.map({"inside-out":function(ot){var Ft,Yt,bt=ot.length,_t=ot.map(qo),ie=ot.map(zu),Pe=i.range(bt).sort(function(Lr,Pr){return _t[Lr]-_t[Pr]}),xe=0,Oe=0,Qe=[],qe=[];for(Ft=0;Ft<bt;++Ft)Yt=Pe[Ft],xe<Oe?(xe+=ie[Yt],Qe.push(Yt)):(Oe+=ie[Yt],qe.push(Yt));return qe.reverse().concat(Qe)},reverse:function(ot){return i.range(ot.length).reverse()},default:Vs}),vi=i.map({silhouette:function(ot){var ie,Pe,xe,bt=ot.length,Ft=ot[0].length,Yt=[],_t=0,Oe=[];for(Pe=0;Pe<Ft;++Pe){for(ie=0,xe=0;ie<bt;ie++)xe+=ot[ie][Pe][1];xe>_t&&(_t=xe),Yt.push(xe)}for(Pe=0;Pe<Ft;++Pe)Oe[Pe]=(_t-Yt[Pe])/2;return Oe},wiggle:function(ot){var _t,ie,Pe,xe,Oe,Qe,qe,Lr,Pr,bt=ot.length,Ft=ot[0],Yt=Ft.length,_r=[];for(_r[0]=Lr=Pr=0,ie=1;ie<Yt;++ie){for(_t=0,xe=0;_t<bt;++_t)xe+=ot[_t][ie][1];for(_t=0,Oe=0,qe=Ft[ie][0]-Ft[ie-1][0];_t<bt;++_t){for(Pe=0,Qe=(ot[_t][ie][1]-ot[_t][ie-1][1])/(2*qe);Pe<_t;++Pe)Qe+=(ot[Pe][ie][1]-ot[Pe][ie-1][1])/qe;Oe+=Qe*ot[_t][ie][1]}_r[ie]=Lr-=xe?Oe/xe*qe:0,Lr<Pr&&(Pr=Lr)}for(ie=0;ie<Yt;++ie)_r[ie]-=Pr;return _r},expand:function(ot){var _t,ie,Pe,bt=ot.length,Ft=ot[0].length,Yt=1/bt,xe=[];for(ie=0;ie<Ft;++ie){for(_t=0,Pe=0;_t<bt;_t++)Pe+=ot[_t][ie][1];if(Pe)for(_t=0;_t<bt;_t++)ot[_t][ie][1]/=Pe;else for(_t=0;_t<bt;_t++)ot[_t][ie][1]=Yt}for(ie=0;ie<Ft;++ie)xe[ie]=0;return xe},zero:Ms});function Vs(ot){return i.range(ot.length)}function Ms(ot){for(var bt=-1,Ft=ot[0].length,Yt=[];++bt<Ft;)Yt[bt]=0;return Yt}function qo(ot){for(var _t,bt=1,Ft=0,Yt=ot[0][1],ie=ot.length;bt<ie;++bt)(_t=ot[bt][1])>Yt&&(Ft=bt,Yt=_t);return Ft}function zu(ot){return ot.reduce(Hs,0)}function Hs(ot,bt){return ot+bt[1]}function Gs(ot,bt){return Ws(ot,Math.ceil(Math.log(bt.length)/Math.LN2+1))}function Ws(ot,bt){for(var Ft=-1,Yt=+ot[0],_t=(ot[1]-Yt)/bt,ie=[];++Ft<=bt;)ie[Ft]=_t*Ft+Yt;return ie}function Vi(ot){return[i.min(ot),i.max(ot)]}function Ss(ot,bt){return ot.value-bt.value}function wo(ot,bt){var Ft=ot._pack_next;ot._pack_next=bt,bt._pack_prev=ot,bt._pack_next=Ft,Ft._pack_prev=bt}function Oo(ot,bt){ot._pack_next=bt,bt._pack_prev=ot}function ts(ot,bt){var Ft=bt.x-ot.x,Yt=bt.y-ot.y,_t=ot.r+bt.r;return.999*_t*_t>Ft*Ft+Yt*Yt}function fs(ot){if((bt=ot.children)&&(Pr=bt.length)){var bt,Pe,xe,Oe,Qe,qe,Lr,Pr,Ft=1/0,Yt=-1/0,_t=1/0,ie=-1/0;if(bt.forEach(cs),(Pe=bt[0]).x=-Pe.r,Pe.y=0,_r(Pe),Pr>1&&((xe=bt[1]).x=xe.r,xe.y=0,_r(xe),Pr>2))for(No(Pe,xe,Oe=bt[2]),_r(Oe),wo(Pe,Oe),Pe._pack_prev=Oe,wo(Oe,xe),xe=Pe._pack_next,Qe=3;Qe<Pr;Qe++){No(Pe,xe,Oe=bt[Qe]);var cn=0,Rr=1,Nr=1;for(qe=xe._pack_next;qe!==xe;qe=qe._pack_next,Rr++)if(ts(qe,Oe)){cn=1;break}if(1==cn)for(Lr=Pe._pack_prev;Lr!==qe._pack_prev&&!ts(Lr,Oe);Lr=Lr._pack_prev,Nr++);cn?(Rr<Nr||Rr==Nr&&xe.r<Pe.r?Oo(Pe,xe=qe):Oo(Pe=Lr,xe),Qe--):(wo(Pe,Oe),xe=Oe,_r(Oe))}var Jr=(Ft+Yt)/2,on=(_t+ie)/2,an=0;for(Qe=0;Qe<Pr;Qe++)(Oe=bt[Qe]).x-=Jr,Oe.y-=on,an=Math.max(an,Oe.r+Math.sqrt(Oe.x*Oe.x+Oe.y*Oe.y));ot.r=an,bt.forEach(Bo)}function _r(jr){Ft=Math.min(jr.x-jr.r,Ft),Yt=Math.max(jr.x+jr.r,Yt),_t=Math.min(jr.y-jr.r,_t),ie=Math.max(jr.y+jr.r,ie)}}function cs(ot){ot._pack_next=ot._pack_prev=ot}function Bo(ot){delete ot._pack_next,delete ot._pack_prev}function es(ot,bt,Ft,Yt){var _t=ot.children;if(ot.x=bt+=Yt*ot.x,ot.y=Ft+=Yt*ot.y,ot.r*=Yt,_t)for(var ie=-1,Pe=_t.length;++ie<Pe;)es(_t[ie],bt,Ft,Yt)}function No(ot,bt,Ft){var Yt=ot.r+Ft.r,_t=bt.x-ot.x,ie=bt.y-ot.y;if(Yt&&(_t||ie)){var Pe=bt.r+Ft.r,xe=_t*_t+ie*ie,Oe=.5+((Yt*=Yt)-(Pe*=Pe))/(2*xe),Qe=Math.sqrt(Math.max(0,2*Pe*(Yt+xe)-(Yt-=xe)*Yt-Pe*Pe))/(2*xe);Ft.x=ot.x+Oe*_t+Qe*ie,Ft.y=ot.y+Oe*ie-Qe*_t}else Ft.x=ot.x+Yt,Ft.y=ot.y}function fl(ot,bt){return ot.parent==bt.parent?1:2}function Ys(ot){var bt=ot.children;return bt.length?bt[0]:ot.t}function lu(ot){var Ft,bt=ot.children;return(Ft=bt.length)?bt[Ft-1]:ot.t}function mf(ot,bt,Ft){var Yt=Ft/(bt.i-ot.i);bt.c-=Yt,bt.s+=Ft,ot.c+=Yt,bt.z+=Ft,bt.m+=Ft}function bf(ot,bt,Ft){return ot.a.parent===bt.parent?ot.a:Ft}function cl(ot){var bt=ot.children;return bt&&bt.length?cl(bt[0]):ot}function Hi(ot){var Ft,bt=ot.children;return bt&&(Ft=bt.length)?Hi(bt[Ft-1]):ot}function so(ot){return{x:ot.x,y:ot.y,dx:ot.dx,dy:ot.dy}}function uu(ot,bt){var Ft=ot.x+bt[3],Yt=ot.y+bt[0],_t=ot.dx-bt[1]-bt[3],ie=ot.dy-bt[0]-bt[2];return _t<0&&(Ft+=_t/2,_t=0),ie<0&&(Yt+=ie/2,ie=0),{x:Ft,y:Yt,dx:_t,dy:ie}}function hl(ot){var bt=ot[0],Ft=ot[ot.length-1];return bt<Ft?[bt,Ft]:[Ft,bt]}function To(ot){return ot.rangeExtent?ot.rangeExtent():hl(ot.range())}function fu(ot,bt,Ft,Yt){var _t=Ft(ot[0],ot[1]),ie=Yt(bt[0],bt[1]);return function(Pe){return ie(_t(Pe))}}function cu(ot,bt){var Pe,Ft=0,Yt=ot.length-1,_t=ot[Ft],ie=ot[Yt];return ie<_t&&(Pe=Ft,Ft=Yt,Yt=Pe,Pe=_t,_t=ie,ie=Pe),ot[Ft]=bt.floor(_t),ot[Yt]=bt.ceil(ie),ot}function hu(ot){return ot?{floor:function(bt){return Math.floor(bt/ot)*ot},ceil:function(bt){return Math.ceil(bt/ot)*ot}}:wf}i.layout.histogram=function(){var ot=!0,bt=Number,Ft=Vi,Yt=Gs;function _t(ie,Pr){for(var Lr,Nr,xe=[],Oe=ie.map(bt,this),Qe=Ft.call(this,Oe,Pr),qe=Yt.call(this,Qe,Oe,Pr),_r=(Pr=-1,Oe.length),cn=qe.length-1,Rr=ot?1:1/_r;++Pr<cn;)(Lr=xe[Pr]=[]).dx=qe[Pr+1]-(Lr.x=qe[Pr]),Lr.y=0;if(cn>0)for(Pr=-1;++Pr<_r;)(Nr=Oe[Pr])>=Qe[0]&&Nr<=Qe[1]&&((Lr=xe[i.bisect(qe,Nr,1,cn)-1]).y+=Rr,Lr.push(ie[Pr]));return xe}return _t.value=function(ie){return arguments.length?(bt=ie,_t):bt},_t.range=function(ie){return arguments.length?(Ft=ur(ie),_t):Ft},_t.bins=function(ie){return arguments.length?(Yt="number"==typeof ie?function(Pe){return Ws(Pe,ie)}:ur(ie),_t):Yt},_t.frequency=function(ie){return arguments.length?(ot=!!ie,_t):ot},_t},i.layout.pack=function(){var Yt,ot=i.layout.hierarchy().sort(Ss),bt=0,Ft=[1,1];function _t(ie,Pe){var xe=ot.call(this,ie,Pe),Oe=xe[0],Qe=Ft[0],qe=Ft[1],Lr=null==Yt?Math.sqrt:"function"==typeof Yt?Yt:function(){return Yt};if(Oe.x=Oe.y=0,bo(Oe,function(_r){_r.r=+Lr(_r.value)}),bo(Oe,fs),bt){var Pr=bt*(Yt?1:Math.max(2*Oe.r/Qe,2*Oe.r/qe))/2;bo(Oe,function(_r){_r.r+=Pr}),bo(Oe,fs),bo(Oe,function(_r){_r.r-=Pr})}return es(Oe,Qe/2,qe/2,Yt?1:1/Math.max(2*Oe.r/Qe,2*Oe.r/qe)),xe}return _t.size=function(ie){return arguments.length?(Ft=ie,_t):Ft},_t.radius=function(ie){return arguments.length?(Yt=null==ie||"function"==typeof ie?ie:+ie,_t):Yt},_t.padding=function(ie){return arguments.length?(bt=+ie,_t):bt},_o(_t,ot)},i.layout.tree=function(){var ot=i.layout.hierarchy().sort(null).value(null),bt=fl,Ft=[1,1],Yt=null;function _t(qe,Lr){var Pr=ot.call(this,qe,Lr),_r=Pr[0],cn=function ie(qe){for(var _r,Lr={A:null,children:[qe]},Pr=[Lr];null!=(_r=Pr.pop());)for(var Rr,cn=_r.children,Nr=0,Jr=cn.length;Nr<Jr;++Nr)Pr.push((cn[Nr]=Rr={_:cn[Nr],parent:_r,children:(Rr=cn[Nr].children)&&Rr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Nr}).a=Rr);return Lr.children[0]}(_r);if(bo(cn,Pe),cn.parent.m=-cn.z,fo(cn,xe),Yt)fo(_r,Qe);else{var Rr=_r,Nr=_r,Jr=_r;fo(_r,function(zn){zn.x<Rr.x&&(Rr=zn),zn.x>Nr.x&&(Nr=zn),zn.depth>Jr.depth&&(Jr=zn)});var on=bt(Rr,Nr)/2-Rr.x,an=Ft[0]/(Nr.x+bt(Nr,Rr)/2+on),jr=Ft[1]/(Jr.depth||1);fo(_r,function(zn){zn.x=(zn.x+on)*an,zn.y=zn.depth*jr})}return Pr}function Pe(qe){var Lr=qe.children,Pr=qe.parent.children,_r=qe.i?Pr[qe.i-1]:null;if(Lr.length){!function xf(ot){for(var ie,bt=0,Ft=0,Yt=ot.children,_t=Yt.length;--_t>=0;)(ie=Yt[_t]).z+=bt,ie.m+=bt,bt+=ie.s+(Ft+=ie.c)}(qe);var cn=(Lr[0].z+Lr[Lr.length-1].z)/2;_r?(qe.z=_r.z+bt(qe._,_r._),qe.m=qe.z-cn):qe.z=cn}else _r&&(qe.z=_r.z+bt(qe._,_r._));qe.parent.A=function Oe(qe,Lr,Pr){if(Lr){for(var zn,_r=qe,cn=qe,Rr=Lr,Nr=_r.parent.children[0],Jr=_r.m,on=cn.m,an=Rr.m,jr=Nr.m;Rr=lu(Rr),_r=Ys(_r),Rr&&_r;)Nr=Ys(Nr),(cn=lu(cn)).a=qe,(zn=Rr.z+an-_r.z-Jr+bt(Rr._,_r._))>0&&(mf(bf(Rr,qe,Pr),qe,zn),Jr+=zn,on+=zn),an+=Rr.m,Jr+=_r.m,jr+=Nr.m,on+=cn.m;Rr&&!lu(cn)&&(cn.t=Rr,cn.m+=an-on),_r&&!Ys(Nr)&&(Nr.t=_r,Nr.m+=Jr-jr,Pr=qe)}return Pr}(qe,_r,qe.parent.A||Pr[0])}function xe(qe){qe._.x=qe.z+qe.parent.m,qe.m+=qe.parent.m}function Qe(qe){qe.x*=Ft[0],qe.y=qe.depth*Ft[1]}return _t.separation=function(qe){return arguments.length?(bt=qe,_t):bt},_t.size=function(qe){return arguments.length?(Yt=null==(Ft=qe)?Qe:null,_t):Yt?null:Ft},_t.nodeSize=function(qe){return arguments.length?(Yt=null==(Ft=qe)?null:Qe,_t):Yt?Ft:null},_o(_t,ot)},i.layout.cluster=function(){var ot=i.layout.hierarchy().sort(null).value(null),bt=fl,Ft=[1,1],Yt=!1;function _t(ie,Pe){var Qe,xe=ot.call(this,ie,Pe),Oe=xe[0],qe=0;bo(Oe,function(Rr){var Nr=Rr.children;Nr&&Nr.length?(Rr.x=function Bu(ot){return ot.reduce(function(bt,Ft){return bt+Ft.x},0)/ot.length}(Nr),Rr.y=function Ou(ot){return 1+i.max(ot,function(bt){return bt.y})}(Nr)):(Rr.x=Qe?qe+=bt(Rr,Qe):0,Rr.y=0,Qe=Rr)});var Lr=cl(Oe),Pr=Hi(Oe),_r=Lr.x-bt(Lr,Pr)/2,cn=Pr.x+bt(Pr,Lr)/2;return bo(Oe,Yt?function(Rr){Rr.x=(Rr.x-Oe.x)*Ft[0],Rr.y=(Oe.y-Rr.y)*Ft[1]}:function(Rr){Rr.x=(Rr.x-_r)/(cn-_r)*Ft[0],Rr.y=(1-(Oe.y?Rr.y/Oe.y:1))*Ft[1]}),xe}return _t.separation=function(ie){return arguments.length?(bt=ie,_t):bt},_t.size=function(ie){return arguments.length?(Yt=null==(Ft=ie),_t):Yt?null:Ft},_t.nodeSize=function(ie){return arguments.length?(Yt=null!=(Ft=ie),_t):Yt?Ft:null},_o(_t,ot)},i.layout.treemap=function(){var Pe,ot=i.layout.hierarchy(),bt=Math.round,Ft=[1,1],Yt=null,_t=so,ie=!1,xe="squarify",Oe=.5*(1+Math.sqrt(5));function Qe(Rr,Nr){for(var an,jr,Jr=-1,on=Rr.length;++Jr<on;)jr=(an=Rr[Jr]).value*(Nr<0?0:Nr),an.area=isNaN(jr)||jr<=0?0:jr}function qe(Rr){var Nr=Rr.children;if(Nr&&Nr.length){var jr,jn,ea,Jr=_t(Rr),on=[],an=Nr.slice(),zn=1/0,aa="slice"===xe?Jr.dx:"dice"===xe?Jr.dy:"slice-dice"===xe?1&Rr.depth?Jr.dy:Jr.dx:Math.min(Jr.dx,Jr.dy);for(Qe(an,Jr.dx*Jr.dy/Rr.value),on.area=0;(ea=an.length)>0;)on.push(jr=an[ea-1]),on.area+=jr.area,"squarify"!==xe||(jn=Pr(on,aa))<=zn?(an.pop(),zn=jn):(on.area-=on.pop().area,_r(on,aa,Jr,!1),aa=Math.min(Jr.dx,Jr.dy),on.length=on.area=0,zn=1/0);on.length&&(_r(on,aa,Jr,!0),on.length=on.area=0),Nr.forEach(qe)}}function Lr(Rr){var Nr=Rr.children;if(Nr&&Nr.length){var an,Jr=_t(Rr),on=Nr.slice(),jr=[];for(Qe(on,Jr.dx*Jr.dy/Rr.value),jr.area=0;an=on.pop();)jr.push(an),jr.area+=an.area,null!=an.z&&(_r(jr,an.z?Jr.dx:Jr.dy,Jr,!on.length),jr.length=jr.area=0);Nr.forEach(Lr)}}function Pr(Rr,Nr){for(var on,Jr=Rr.area,an=0,jr=1/0,zn=-1,jn=Rr.length;++zn<jn;)!(on=Rr[zn].area)||(on<jr&&(jr=on),on>an&&(an=on));return Nr*=Nr,(Jr*=Jr)?Math.max(Nr*an*Oe/Jr,Jr/(Nr*jr*Oe)):1/0}function _r(Rr,Nr,Jr,on){var ea,an=-1,jr=Rr.length,zn=Jr.x,jn=Jr.y,aa=Nr?bt(Rr.area/Nr):0;if(Nr==Jr.dx){for((on||aa>Jr.dy)&&(aa=Jr.dy);++an<jr;)(ea=Rr[an]).x=zn,ea.y=jn,ea.dy=aa,zn+=ea.dx=Math.min(Jr.x+Jr.dx-zn,aa?bt(ea.area/aa):0);ea.z=!0,ea.dx+=Jr.x+Jr.dx-zn,Jr.y+=aa,Jr.dy-=aa}else{for((on||aa>Jr.dx)&&(aa=Jr.dx);++an<jr;)(ea=Rr[an]).x=zn,ea.y=jn,ea.dx=aa,jn+=ea.dy=Math.min(Jr.y+Jr.dy-jn,aa?bt(ea.area/aa):0);ea.z=!1,ea.dy+=Jr.y+Jr.dy-jn,Jr.x+=aa,Jr.dx-=aa}}function cn(Rr){var Nr=Pe||ot(Rr),Jr=Nr[0];return Jr.x=Jr.y=0,Jr.value?(Jr.dx=Ft[0],Jr.dy=Ft[1]):Jr.dx=Jr.dy=0,Pe&&ot.revalue(Jr),Qe([Jr],Jr.dx*Jr.dy/Jr.value),(Pe?Lr:qe)(Jr),ie&&(Pe=Nr),Nr}return cn.size=function(Rr){return arguments.length?(Ft=Rr,cn):Ft},cn.padding=function(Rr){if(!arguments.length)return Yt;function Nr(an){var jr=Rr.call(cn,an,an.depth);return null==jr?so(an):uu(an,"number"==typeof jr?[jr,jr,jr,jr]:jr)}function Jr(an){return uu(an,Rr)}var on;return _t=null==(Yt=Rr)?so:"function"==(on=typeof Rr)?Nr:("number"===on&&(Rr=[Rr,Rr,Rr,Rr]),Jr),cn},cn.round=function(Rr){return arguments.length?(bt=Rr?Math.round:Number,cn):bt!=Number},cn.sticky=function(Rr){return arguments.length?(ie=Rr,Pe=null,cn):ie},cn.ratio=function(Rr){return arguments.length?(Oe=Rr,cn):Oe},cn.mode=function(Rr){return arguments.length?(xe=Rr+"",cn):xe},_o(cn,ot)},i.random={normal:function(ot,bt){var Ft=arguments.length;return Ft<2&&(bt=1),Ft<1&&(ot=0),function(){var Yt,_t,ie;do{ie=(Yt=2*Math.random()-1)*Yt+(_t=2*Math.random()-1)*_t}while(!ie||ie>1);return ot+bt*Yt*Math.sqrt(-2*Math.log(ie)/ie)}},logNormal:function(){var ot=i.random.normal.apply(i,arguments);return function(){return Math.exp(ot())}},bates:function(ot){var bt=i.random.irwinHall(ot);return function(){return bt()/ot}},irwinHall:function(ot){return function(){for(var bt=0,Ft=0;Ft<ot;Ft++)bt+=Math.random();return bt}}},i.scale={};var wf={floor:z,ceil:z};function Nu(ot,bt,Ft,Yt){var _t=[],ie=[],Pe=0,xe=Math.min(ot.length,bt.length)-1;for(ot[xe]<ot[0]&&(ot=ot.slice().reverse(),bt=bt.slice().reverse());++Pe<=xe;)_t.push(Ft(ot[Pe-1],ot[Pe])),ie.push(Yt(bt[Pe-1],bt[Pe]));return function(Oe){var Qe=i.bisect(ot,Oe,1,xe)-1;return ie[Qe](_t[Qe](Oe))}}function Uu(ot,bt,Ft,Yt){var _t,ie;function Pe(){var Oe=Math.min(ot.length,bt.length)>2?Nu:fu,Qe=Yt?ls:Bl;return _t=Oe(ot,bt,Qe,Ft),ie=Oe(bt,ot,Qe,Ui),xe}function xe(Oe){return _t(Oe)}return xe.invert=function(Oe){return ie(Oe)},xe.domain=function(Oe){return arguments.length?(ot=Oe.map(Number),Pe()):ot},xe.range=function(Oe){return arguments.length?(bt=Oe,Pe()):bt},xe.rangeRound=function(Oe){return xe.range(Oe).interpolate(ol)},xe.clamp=function(Oe){return arguments.length?(Yt=Oe,Pe()):Yt},xe.interpolate=function(Oe){return arguments.length?(Ft=Oe,Pe()):Ft},xe.ticks=function(Oe){return Vl(ot,Oe)},xe.tickFormat=function(Oe,Qe){return d3_scale_linearTickFormat(ot,Oe,Qe)},xe.nice=function(Oe){return Uo(ot,Oe),Pe()},xe.copy=function(){return Uu(ot,bt,Ft,Yt)},Pe()}function Fi(ot,bt){return i.rebind(ot,bt,"range","rangeRound","interpolate","clamp")}function Uo(ot,bt){return cu(ot,hu(hs(ot,bt)[2])),cu(ot,hu(hs(ot,bt)[2])),ot}function hs(ot,bt){null==bt&&(bt=10);var Ft=hl(ot),Yt=Ft[1]-Ft[0],_t=Math.pow(10,Math.floor(Math.log(Yt/bt)/Math.LN10)),ie=bt/Yt*_t;return ie<=.15?_t*=10:ie<=.35?_t*=5:ie<=.75&&(_t*=2),Ft[0]=Math.ceil(Ft[0]/_t)*_t,Ft[1]=Math.floor(Ft[1]/_t)*_t+.5*_t,Ft[2]=_t,Ft}function Vl(ot,bt){return i.range.apply(i,hs(ot,bt))}function rs(ot,bt,Ft,Yt){function _t(xe){return(Ft?Math.log(xe<0?0:xe):-Math.log(xe>0?0:-xe))/Math.log(bt)}function ie(xe){return Ft?Math.pow(bt,xe):-Math.pow(bt,-xe)}function Pe(xe){return ot(_t(xe))}return Pe.invert=function(xe){return ie(ot.invert(xe))},Pe.domain=function(xe){return arguments.length?(Ft=xe[0]>=0,ot.domain((Yt=xe.map(Number)).map(_t)),Pe):Yt},Pe.base=function(xe){return arguments.length?(bt=+xe,ot.domain(Yt.map(_t)),Pe):bt},Pe.nice=function(){var xe=cu(Yt.map(_t),Ft?Math:Xs);return ot.domain(xe),Yt=xe.map(ie),Pe},Pe.ticks=function(){var xe=hl(Yt),Oe=[],Qe=xe[0],qe=xe[1],Lr=Math.floor(_t(Qe)),Pr=Math.ceil(_t(qe)),_r=bt%1?2:bt;if(isFinite(Pr-Lr)){if(Ft){for(;Lr<Pr;Lr++)for(var cn=1;cn<_r;cn++)Oe.push(ie(Lr)*cn);Oe.push(ie(Lr))}else for(Oe.push(ie(Lr));Lr++<Pr;)for(cn=_r-1;cn>0;cn--)Oe.push(ie(Lr)*cn);for(Lr=0;Oe[Lr]<Qe;Lr++);for(Pr=Oe.length;Oe[Pr-1]>qe;Pr--);Oe=Oe.slice(Lr,Pr)}return Oe},Pe.copy=function(){return rs(ot.copy(),bt,Ft,Yt)},Fi(Pe,ot)}i.scale.linear=function(){return Uu([0,1],[0,1],Ui,!1)},i.scale.log=function(){return rs(i.scale.linear().domain([0,1]),10,!0,[1,10])};var Xs={floor:function(ot){return-Math.ceil(-ot)},ceil:function(ot){return-Math.floor(-ot)}};function Vo(ot,bt,Ft){var Yt=Ho(bt),_t=Ho(1/bt);function ie(Pe){return ot(Yt(Pe))}return ie.invert=function(Pe){return _t(ot.invert(Pe))},ie.domain=function(Pe){return arguments.length?(ot.domain((Ft=Pe.map(Number)).map(Yt)),ie):Ft},ie.ticks=function(Pe){return Vl(Ft,Pe)},ie.tickFormat=function(Pe,xe){return d3_scale_linearTickFormat(Ft,Pe,xe)},ie.nice=function(Pe){return ie.domain(Uo(Ft,Pe))},ie.exponent=function(Pe){return arguments.length?(Yt=Ho(bt=Pe),_t=Ho(1/bt),ot.domain(Ft.map(Yt)),ie):bt},ie.copy=function(){return Vo(ot.copy(),bt,Ft)},Fi(ie,ot)}function Ho(ot){return function(bt){return bt<0?-Math.pow(-bt,ot):Math.pow(bt,ot)}}function dl(ot,bt){var Ft,Yt,_t;function ie(xe){return Yt[((Ft.get(xe)||("range"===bt.t?Ft.set(xe,ot.push(xe)):NaN))-1)%Yt.length]}function Pe(xe,Oe){return i.range(ot.length).map(function(Qe){return xe+Oe*Qe})}return ie.domain=function(xe){if(!arguments.length)return ot;ot=[],Ft=new E;for(var qe,Oe=-1,Qe=xe.length;++Oe<Qe;)Ft.has(qe=xe[Oe])||Ft.set(qe,ot.push(qe));return ie[bt.t].apply(ie,bt.a)},ie.range=function(xe){return arguments.length?(Yt=xe,_t=0,bt={t:"range",a:arguments},ie):Yt},ie.rangePoints=function(xe,Oe){arguments.length<2&&(Oe=0);var Qe=xe[0],qe=xe[1],Lr=ot.length<2?(Qe=(Qe+qe)/2,0):(qe-Qe)/(ot.length-1+Oe);return Yt=Pe(Qe+Lr*Oe/2,Lr),_t=0,bt={t:"rangePoints",a:arguments},ie},ie.rangeRoundPoints=function(xe,Oe){arguments.length<2&&(Oe=0);var Qe=xe[0],qe=xe[1],Lr=ot.length<2?(Qe=qe=Math.round((Qe+qe)/2),0):(qe-Qe)/(ot.length-1+Oe)|0;return Yt=Pe(Qe+Math.round(Lr*Oe/2+(qe-Qe-(ot.length-1+Oe)*Lr)/2),Lr),_t=0,bt={t:"rangeRoundPoints",a:arguments},ie},ie.rangeBands=function(xe,Oe,Qe){arguments.length<2&&(Oe=0),arguments.length<3&&(Qe=Oe);var qe=xe[1]<xe[0],Lr=xe[qe-0],_r=(xe[1-qe]-Lr)/(ot.length-Oe+2*Qe);return Yt=Pe(Lr+_r*Qe,_r),qe&&Yt.reverse(),_t=_r*(1-Oe),bt={t:"rangeBands",a:arguments},ie},ie.rangeRoundBands=function(xe,Oe,Qe){arguments.length<2&&(Oe=0),arguments.length<3&&(Qe=Oe);var qe=xe[1]<xe[0],Lr=xe[qe-0],Pr=xe[1-qe],_r=Math.floor((Pr-Lr)/(ot.length-Oe+2*Qe));return Yt=Pe(Lr+Math.round((Pr-Lr-(ot.length-Oe)*_r)/2),_r),qe&&Yt.reverse(),_t=Math.round(_r*(1-Oe)),bt={t:"rangeRoundBands",a:arguments},ie},ie.rangeBand=function(){return _t},ie.rangeExtent=function(){return hl(bt.a[0])},ie.copy=function(){return dl(ot,bt)},ie.domain(ot)}i.scale.pow=function(){return Vo(i.scale.linear(),1,[0,1])},i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return dl([],{t:"range",a:[[]]})},i.scale.category10=function(){return i.scale.ordinal().range(pl)},i.scale.category20=function(){return i.scale.ordinal().range(ai)},i.scale.category20b=function(){return i.scale.ordinal().range(Zs)},i.scale.category20c=function(){return i.scale.ordinal().range(du)};var pl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(pr),ai=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(pr),Zs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(pr),du=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(pr);function pu(ot,bt){var Ft;function Yt(){var ie=0,Pe=bt.length;for(Ft=[];++ie<Pe;)Ft[ie-1]=i.quantile(ot,ie/Pe);return _t}function _t(ie){if(!isNaN(ie=+ie))return bt[i.bisect(Ft,ie)]}return _t.domain=function(ie){return arguments.length?(ot=ie.map(g).filter(c).sort(u),Yt()):ot},_t.range=function(ie){return arguments.length?(bt=ie,Yt()):bt},_t.quantiles=function(){return Ft},_t.invertExtent=function(ie){return(ie=bt.indexOf(ie))<0?[NaN,NaN]:[ie>0?Ft[ie-1]:ot[0],ie<Ft.length?Ft[ie]:ot[ot.length-1]]},_t.copy=function(){return pu(ot,bt)},Yt()}function js(ot,bt,Ft){var Yt,_t;function ie(xe){return Ft[Math.max(0,Math.min(_t,Math.floor(Yt*(xe-ot))))]}function Pe(){return Yt=Ft.length/(bt-ot),_t=Ft.length-1,ie}return ie.domain=function(xe){return arguments.length?(ot=+xe[0],bt=+xe[xe.length-1],Pe()):[ot,bt]},ie.range=function(xe){return arguments.length?(Ft=xe,Pe()):Ft},ie.invertExtent=function(xe){return[xe=(xe=Ft.indexOf(xe))<0?NaN:xe/Yt+ot,xe+1/Yt]},ie.copy=function(){return js(ot,bt,Ft)},Pe()}function Gl(ot,bt){function Ft(Yt){if(Yt<=Yt)return bt[i.bisect(ot,Yt)]}return Ft.domain=function(Yt){return arguments.length?(ot=Yt,Ft):ot},Ft.range=function(Yt){return arguments.length?(bt=Yt,Ft):bt},Ft.invertExtent=function(Yt){return Yt=bt.indexOf(Yt),[ot[Yt-1],ot[Yt]]},Ft.copy=function(){return Gl(ot,bt)},Ft}function yl(ot){function bt(Ft){return+Ft}return bt.invert=bt,bt.domain=bt.range=function(Ft){return arguments.length?(ot=Ft.map(bt),bt):ot},bt.ticks=function(Ft){return Vl(ot,Ft)},bt.tickFormat=function(Ft,Yt){return d3_scale_linearTickFormat(ot,Ft,Yt)},bt.copy=function(){return yl(ot)},bt}function gu(){return 0}i.scale.quantile=function(){return pu([],[])},i.scale.quantize=function(){return js(0,1,[0,1])},i.scale.threshold=function(){return Gl([.5],[0,1])},i.scale.identity=function(){return yl([0,1])},i.svg={},i.svg.arc=function(){var ot=Vu,bt=Ks,Ft=gu,Yt=ml,_t=Es,ie=xl,Pe=Ao;function xe(){var Qe=Math.max(0,+ot.apply(this,arguments)),qe=Math.max(0,+bt.apply(this,arguments)),Lr=_t.apply(this,arguments)-Qt,Pr=ie.apply(this,arguments)-Qt,_r=Math.abs(Pr-Lr),cn=Lr>Pr?0:1;if(qe<Qe&&(Rr=qe,qe=Qe,Qe=Rr),_r>=Dt)return Oe(qe,cn)+(Qe?Oe(Qe,1-cn):"")+"Z";var Rr,Nr,Jr,on,zn,jn,aa,ea,ga,va,Ca,xa,an=0,jr=0,fa=[];if((on=(+Pe.apply(this,arguments)||0)/2)&&(Jr=Yt===ml?Math.sqrt(Qe*Qe+qe*qe):+Yt.apply(this,arguments),cn||(jr*=-1),qe&&(jr=Te(Jr/qe*Math.sin(on))),Qe&&(an=Te(Jr/Qe*Math.sin(on)))),qe){zn=qe*Math.cos(Lr+jr),jn=qe*Math.sin(Lr+jr),aa=qe*Math.cos(Pr-jr),ea=qe*Math.sin(Pr-jr);var Ya=Math.abs(Pr-Lr-2*jr)<=ft?0:1;if(jr&&Mo(zn,jn,aa,ea)===cn^Ya){var mi=(Lr+Pr)/2;zn=qe*Math.cos(mi),jn=qe*Math.sin(mi),aa=ea=null}}else zn=jn=0;if(Qe){ga=Qe*Math.cos(Pr-an),va=Qe*Math.sin(Pr-an),Ca=Qe*Math.cos(Lr+an),xa=Qe*Math.sin(Lr+an);var Ba=Math.abs(Lr-Pr+2*an)<=ft?0:1;if(an&&Mo(ga,va,Ca,xa)===1-cn^Ba){var Xn=(Lr+Pr)/2;ga=Qe*Math.cos(Xn),va=Qe*Math.sin(Xn),Ca=xa=null}}else ga=va=0;if(_r>kt&&(Rr=Math.min(Math.abs(qe-Qe)/2,+Ft.apply(this,arguments)))>.001){Nr=Qe<qe^cn?0:1;var Ra=Rr,za=Rr;if(_r<ft){var Na=null==Ca?[ga,va]:null==aa?[zn,jn]:En([zn,jn],[Ca,xa],[aa,ea],[ga,va]),ci=zn-Na[0],Jn=jn-Na[1],ya=aa-Na[0],Si=ea-Na[1],hi=1/Math.sin(Math.acos((ci*ya+Jn*Si)/(Math.sqrt(ci*ci+Jn*Jn)*Math.sqrt(ya*ya+Si*Si)))/2),Di=Math.sqrt(Na[0]*Na[0]+Na[1]*Na[1]);za=Math.min(Rr,(Qe-Di)/(hi-1)),Ra=Math.min(Rr,(qe-Di)/(hi+1))}if(null!=aa){var oi=Js(null==Ca?[ga,va]:[Ca,xa],[zn,jn],qe,Ra,cn),Ai=Js([aa,ea],[ga,va],qe,Ra,cn);Rr===Ra?fa.push("M",oi[0],"A",Ra,",",Ra," 0 0,",Nr," ",oi[1],"A",qe,",",qe," 0 ",1-cn^Mo(oi[1][0],oi[1][1],Ai[1][0],Ai[1][1]),",",cn," ",Ai[1],"A",Ra,",",Ra," 0 0,",Nr," ",Ai[0]):fa.push("M",oi[0],"A",Ra,",",Ra," 0 1,",Nr," ",Ai[0])}else fa.push("M",zn,",",jn);if(null!=Ca){var Mi=Js([zn,jn],[Ca,xa],Qe,-za,cn),Ml=Js([ga,va],null==aa?[zn,jn]:[aa,ea],Qe,-za,cn);Rr===za?fa.push("L",Ml[0],"A",za,",",za," 0 0,",Nr," ",Ml[1],"A",Qe,",",Qe," 0 ",cn^Mo(Ml[1][0],Ml[1][1],Mi[1][0],Mi[1][1]),",",1-cn," ",Mi[1],"A",za,",",za," 0 0,",Nr," ",Mi[0]):fa.push("L",Ml[0],"A",za,",",za," 0 0,",Nr," ",Mi[0])}else fa.push("L",ga,",",va)}else fa.push("M",zn,",",jn),null!=aa&&fa.push("A",qe,",",qe," 0 ",Ya,",",cn," ",aa,",",ea),fa.push("L",ga,",",va),null!=Ca&&fa.push("A",Qe,",",Qe," 0 ",Ba,",",1-cn," ",Ca,",",xa);return fa.push("Z"),fa.join("")}function Oe(Qe,qe){return"M0,"+Qe+"A"+Qe+","+Qe+" 0 1,"+qe+" 0,"+-Qe+"A"+Qe+","+Qe+" 0 1,"+qe+" 0,"+Qe}return xe.innerRadius=function(Qe){return arguments.length?(ot=ur(Qe),xe):ot},xe.outerRadius=function(Qe){return arguments.length?(bt=ur(Qe),xe):bt},xe.cornerRadius=function(Qe){return arguments.length?(Ft=ur(Qe),xe):Ft},xe.padRadius=function(Qe){return arguments.length?(Yt=Qe==ml?ml:ur(Qe),xe):Yt},xe.startAngle=function(Qe){return arguments.length?(_t=ur(Qe),xe):_t},xe.endAngle=function(Qe){return arguments.length?(ie=ur(Qe),xe):ie},xe.padAngle=function(Qe){return arguments.length?(Pe=ur(Qe),xe):Pe},xe.centroid=function(){var Qe=(+ot.apply(this,arguments)+ +bt.apply(this,arguments))/2,qe=(+_t.apply(this,arguments)+ +ie.apply(this,arguments))/2-Qt;return[Math.cos(qe)*Qe,Math.sin(qe)*Qe]},xe};var ml="auto";function Vu(ot){return ot.innerRadius}function Ks(ot){return ot.outerRadius}function Es(ot){return ot.startAngle}function xl(ot){return ot.endAngle}function Ao(ot){return ot&&ot.padAngle}function Mo(ot,bt,Ft,Yt){return(ot-Ft)*bt-(bt-Yt)*ot>0?0:1}function Js(ot,bt,Ft,Yt,_t){var ie=ot[0]-bt[0],Pe=ot[1]-bt[1],xe=(_t?Yt:-Yt)/Math.sqrt(ie*ie+Pe*Pe),Oe=xe*Pe,Qe=-xe*ie,qe=ot[0]+Oe,Lr=ot[1]+Qe,Pr=bt[0]+Oe,_r=bt[1]+Qe,cn=(qe+Pr)/2,Rr=(Lr+_r)/2,Nr=Pr-qe,Jr=_r-Lr,on=Nr*Nr+Jr*Jr,an=Ft-Yt,jr=qe*_r-Pr*Lr,zn=(Jr<0?-1:1)*Math.sqrt(Math.max(0,an*an*on-jr*jr)),jn=(jr*Jr-Nr*zn)/on,aa=(-jr*Nr-Jr*zn)/on,ea=(jr*Jr+Nr*zn)/on,ga=(-jr*Nr+Jr*zn)/on,va=jn-cn,Ca=aa-Rr,xa=ea-cn,fa=ga-Rr;return va*va+Ca*Ca>xa*xa+fa*fa&&(jn=ea,aa=ga),[[jn-Oe,aa-Qe],[jn*Ft/an,aa*Ft/an]]}function Cs(){return!0}function Hu(ot){var bt=yr,Ft=tn,Yt=Cs,_t=co,ie=_t.key,Pe=.7;function xe(Oe){var _r,Qe=[],qe=[],Lr=-1,Pr=Oe.length,cn=ur(bt),Rr=ur(Ft);function Nr(){Qe.push("M",_t(ot(qe),Pe))}for(;++Lr<Pr;)Yt.call(this,_r=Oe[Lr],Lr)?qe.push([+cn.call(this,_r,Lr),+Rr.call(this,_r,Lr)]):qe.length&&(Nr(),qe=[]);return qe.length&&Nr(),Qe.length?Qe.join(""):null}return xe.x=function(Oe){return arguments.length?(bt=Oe,xe):bt},xe.y=function(Oe){return arguments.length?(Ft=Oe,xe):Ft},xe.defined=function(Oe){return arguments.length?(Yt=Oe,xe):Yt},xe.interpolate=function(Oe){return arguments.length?(ie="function"==typeof Oe?_t=Oe:(_t=Ls.get(Oe)||co).key,xe):ie},xe.tension=function(Oe){return arguments.length?(Pe=Oe,xe):Pe},xe}i.svg.line=function(){return Hu(z)};var Ls=i.map({linear:co,"linear-closed":Gu,step:function ho(ot){for(var bt=0,Ft=ot.length,Yt=ot[0],_t=[Yt[0],",",Yt[1]];++bt<Ft;)_t.push("H",(Yt[0]+(Yt=ot[bt])[0])/2,"V",Yt[1]);return Ft>1&&_t.push("H",Yt[0]),_t.join("")},"step-before":Ps,"step-after":bl,basis:Xl,"basis-open":function Tf(ot){if(ot.length<4)return co(ot);for(var _t,bt=[],Ft=-1,Yt=ot.length,ie=[0],Pe=[0];++Ft<3;)ie.push((_t=ot[Ft])[0]),Pe.push(_t[1]);for(bt.push($i(ns,ie)+","+$i(ns,Pe)),--Ft;++Ft<Yt;)_t=ot[Ft],ie.shift(),ie.push(_t[0]),Pe.shift(),Pe.push(_t[1]),Zl(bt,ie,Pe);return bt.join("")},"basis-closed":function $s(ot){for(var bt,ie,Ft=-1,Yt=ot.length,_t=Yt+4,Pe=[],xe=[];++Ft<4;)Pe.push((ie=ot[Ft%Yt])[0]),xe.push(ie[1]);for(bt=[$i(ns,Pe),",",$i(ns,xe)],--Ft;++Ft<_t;)ie=ot[Ft%Yt],Pe.shift(),Pe.push(ie[0]),xe.shift(),xe.push(ie[1]),Zl(bt,Pe,xe);return bt.join("")},bundle:function Wu(ot,bt){var Ft=ot.length-1;if(Ft)for(var Oe,Qe,Yt=ot[0][0],_t=ot[0][1],ie=ot[Ft][0]-Yt,Pe=ot[Ft][1]-_t,xe=-1;++xe<=Ft;)(Oe=ot[xe])[0]=bt*Oe[0]+(1-bt)*(Yt+(Qe=xe/Ft)*ie),Oe[1]=bt*Oe[1]+(1-bt)*(_t+Qe*Pe);return Xl(ot)},cardinal:function yu(ot,bt){return ot.length<3?co(ot):ot[0]+Yl(ot,vs(ot,bt))},"cardinal-open":function Wl(ot,bt){return ot.length<4?co(ot):ot[1]+Yl(ot.slice(1,-1),vs(ot,bt))},"cardinal-closed":function Qs(ot,bt){return ot.length<3?Gu(ot):ot[0]+Yl((ot.push(ot[0]),ot),vs([ot[ot.length-2]].concat(ot,[ot[1]]),bt))},monotone:function Yu(ot){return ot.length<3?co(ot):ot[0]+Yl(ot,function Tl(ot){for(var Ft,Yt,_t,ie,bt=[],Pe=function jl(ot){for(var bt=0,Ft=ot.length-1,Yt=[],_t=ot[0],ie=ot[1],Pe=Yt[0]=qs(_t,ie);++bt<Ft;)Yt[bt]=(Pe+(Pe=qs(_t=ie,ie=ot[bt+1])))/2;return Yt[bt]=Pe,Yt}(ot),xe=-1,Oe=ot.length-1;++xe<Oe;)Ft=qs(ot[xe],ot[xe+1]),v(Ft)<kt?Pe[xe]=Pe[xe+1]=0:(ie=(Yt=Pe[xe]/Ft)*Yt+(_t=Pe[xe+1]/Ft)*_t)>9&&(ie=3*Ft/Math.sqrt(ie),Pe[xe]=ie*Yt,Pe[xe+1]=ie*_t);for(xe=-1;++xe<=Oe;)ie=(ot[Math.min(Oe,xe+1)][0]-ot[Math.max(0,xe-1)][0])/(6*(1+Pe[xe]*Pe[xe])),bt.push([ie||0,Pe[xe]*ie||0]);return bt}(ot))}});function co(ot){return ot.length>1?ot.join("L"):ot+"Z"}function Gu(ot){return ot.join("L")+"Z"}function Ps(ot){for(var bt=0,Ft=ot.length,Yt=ot[0],_t=[Yt[0],",",Yt[1]];++bt<Ft;)_t.push("V",(Yt=ot[bt])[1],"H",Yt[0]);return _t.join("")}function bl(ot){for(var bt=0,Ft=ot.length,Yt=ot[0],_t=[Yt[0],",",Yt[1]];++bt<Ft;)_t.push("H",(Yt=ot[bt])[0],"V",Yt[1]);return _t.join("")}function Yl(ot,bt){if(bt.length<1||ot.length!=bt.length&&ot.length!=bt.length+2)return co(ot);var Ft=ot.length!=bt.length,Yt="",_t=ot[0],ie=ot[1],Pe=bt[0],xe=Pe,Oe=1;if(Ft&&(Yt+="Q"+(ie[0]-2*Pe[0]/3)+","+(ie[1]-2*Pe[1]/3)+","+ie[0]+","+ie[1],_t=ot[1],Oe=2),bt.length>1){ie=ot[Oe],Oe++,Yt+="C"+(_t[0]+Pe[0])+","+(_t[1]+Pe[1])+","+(ie[0]-(xe=bt[1])[0])+","+(ie[1]-xe[1])+","+ie[0]+","+ie[1];for(var Qe=2;Qe<bt.length;Qe++,Oe++)Yt+="S"+((ie=ot[Oe])[0]-(xe=bt[Qe])[0])+","+(ie[1]-xe[1])+","+ie[0]+","+ie[1]}if(Ft){var qe=ot[Oe];Yt+="Q"+(ie[0]+2*xe[0]/3)+","+(ie[1]+2*xe[1]/3)+","+qe[0]+","+qe[1]}return Yt}function vs(ot,bt){for(var _t,Ft=[],Yt=(1-bt)/2,ie=ot[0],Pe=ot[1],xe=1,Oe=ot.length;++xe<Oe;)_t=ie,ie=Pe,Ft.push([Yt*((Pe=ot[xe])[0]-_t[0]),Yt*(Pe[1]-_t[1])]);return Ft}function Xl(ot){if(ot.length<3)return co(ot);var bt=1,Ft=ot.length,Yt=ot[0],_t=Yt[0],ie=Yt[1],Pe=[_t,_t,_t,(Yt=ot[1])[0]],xe=[ie,ie,ie,Yt[1]],Oe=[_t,",",ie,"L",$i(ns,Pe),",",$i(ns,xe)];for(ot.push(ot[Ft-1]);++bt<=Ft;)Yt=ot[bt],Pe.shift(),Pe.push(Yt[0]),xe.shift(),xe.push(Yt[1]),Zl(Oe,Pe,xe);return ot.pop(),Oe.push("L",Yt),Oe.join("")}function $i(ot,bt){return ot[0]*bt[0]+ot[1]*bt[1]+ot[2]*bt[2]+ot[3]*bt[3]}Ls.forEach(function(ot,bt){bt.key=ot,bt.closed=/-closed$/.test(ot)});var _s=[0,2/3,1/3,0],wl=[0,1/3,2/3,0],ns=[0,1/6,2/3,1/6];function Zl(ot,bt,Ft){ot.push("C",$i(_s,bt),",",$i(_s,Ft),",",$i(wl,bt),",",$i(wl,Ft),",",$i(ns,bt),",",$i(ns,Ft))}function qs(ot,bt){return(bt[1]-ot[1])/(bt[0]-ot[0])}function Al(ot){for(var bt,_t,ie,Ft=-1,Yt=ot.length;++Ft<Yt;)ie=(bt=ot[Ft])[1]-Qt,bt[0]=(_t=bt[0])*Math.cos(ie),bt[1]=_t*Math.sin(ie);return ot}function mu(ot){var bt=yr,Ft=yr,Yt=0,_t=tn,ie=Cs,Pe=co,xe=Pe.key,Oe=Pe,Qe="L",qe=.7;function Lr(Pr){var on,aa,ea,_r=[],cn=[],Rr=[],Nr=-1,Jr=Pr.length,an=ur(bt),jr=ur(Yt),zn=bt===Ft?function(){return aa}:ur(Ft),jn=Yt===_t?function(){return ea}:ur(_t);function ga(){_r.push("M",Pe(ot(Rr),qe),Qe,Oe(ot(cn.reverse()),qe),"Z")}for(;++Nr<Jr;)ie.call(this,on=Pr[Nr],Nr)?(cn.push([aa=+an.call(this,on,Nr),ea=+jr.call(this,on,Nr)]),Rr.push([+zn.call(this,on,Nr),+jn.call(this,on,Nr)])):cn.length&&(ga(),cn=[],Rr=[]);return cn.length&&ga(),_r.length?_r.join(""):null}return Lr.x=function(Pr){return arguments.length?(bt=Ft=Pr,Lr):Ft},Lr.x0=function(Pr){return arguments.length?(bt=Pr,Lr):bt},Lr.x1=function(Pr){return arguments.length?(Ft=Pr,Lr):Ft},Lr.y=function(Pr){return arguments.length?(Yt=_t=Pr,Lr):_t},Lr.y0=function(Pr){return arguments.length?(Yt=Pr,Lr):Yt},Lr.y1=function(Pr){return arguments.length?(_t=Pr,Lr):_t},Lr.defined=function(Pr){return arguments.length?(ie=Pr,Lr):ie},Lr.interpolate=function(Pr){return arguments.length?(xe="function"==typeof Pr?Pe=Pr:(Pe=Ls.get(Pr)||co).key,Oe=Pe.reverse||Pe,Qe=Pe.closed?"M":"L",Lr):xe},Lr.tension=function(Pr){return arguments.length?(qe=Pr,Lr):qe},Lr}function Kt(ot){return ot.source}function qt(ot){return ot.target}function fe(ot){return ot.radius}function ge(ot){return[ot.x,ot.y]}function De(ot){return function(){var bt=ot.apply(this,arguments),Ft=bt[0],Yt=bt[1]-Qt;return[Ft*Math.cos(Yt),Ft*Math.sin(Yt)]}}function Ee(){return 64}function ke(){return"circle"}function cr(ot){var bt=Math.sqrt(ot/ft);return"M0,"+bt+"A"+bt+","+bt+" 0 1,1 0,"+-bt+"A"+bt+","+bt+" 0 1,1 0,"+bt+"Z"}i.svg.line.radial=function(){var ot=Hu(Al);return ot.radius=ot.x,delete ot.x,ot.angle=ot.y,delete ot.y,ot},Ps.reverse=bl,bl.reverse=Ps,i.svg.area=function(){return mu(z)},i.svg.area.radial=function(){var ot=mu(Al);return ot.radius=ot.x,delete ot.x,ot.innerRadius=ot.x0,delete ot.x0,ot.outerRadius=ot.x1,delete ot.x1,ot.angle=ot.y,delete ot.y,ot.startAngle=ot.y0,delete ot.y0,ot.endAngle=ot.y1,delete ot.y1,ot},i.svg.chord=function(){var ot=Kt,bt=qt,Ft=fe,Yt=Es,_t=xl;function ie(qe,Lr){var Pr=Pe(this,ot,qe,Lr),_r=Pe(this,bt,qe,Lr);return"M"+Pr.p0+Oe(Pr.r,Pr.p1,Pr.a1-Pr.a0)+(function xe(qe,Lr){return qe.a0==Lr.a0&&qe.a1==Lr.a1}(Pr,_r)?Qe(0,0,0,Pr.p0):Qe(0,0,0,_r.p0)+Oe(_r.r,_r.p1,_r.a1-_r.a0)+Qe(0,0,0,Pr.p0))+"Z"}function Pe(qe,Lr,Pr,_r){var cn=Lr.call(qe,Pr,_r),Rr=Ft.call(qe,cn,_r),Nr=Yt.call(qe,cn,_r)-Qt,Jr=_t.call(qe,cn,_r)-Qt;return{r:Rr,a0:Nr,a1:Jr,p0:[Rr*Math.cos(Nr),Rr*Math.sin(Nr)],p1:[Rr*Math.cos(Jr),Rr*Math.sin(Jr)]}}function Oe(qe,Lr,Pr){return"A"+qe+","+qe+" 0 "+ +(Pr>ft)+",1 "+Lr}function Qe(qe,Lr,Pr,_r){return"Q 0,0 "+_r}return ie.radius=function(qe){return arguments.length?(Ft=ur(qe),ie):Ft},ie.source=function(qe){return arguments.length?(ot=ur(qe),ie):ot},ie.target=function(qe){return arguments.length?(bt=ur(qe),ie):bt},ie.startAngle=function(qe){return arguments.length?(Yt=ur(qe),ie):Yt},ie.endAngle=function(qe){return arguments.length?(_t=ur(qe),ie):_t},ie},i.svg.diagonal=function(){var ot=Kt,bt=qt,Ft=ge;function Yt(_t,ie){var Pe=ot.call(this,_t,ie),xe=bt.call(this,_t,ie),Oe=(Pe.y+xe.y)/2,Qe=[Pe,{x:Pe.x,y:Oe},{x:xe.x,y:Oe},xe];return"M"+(Qe=Qe.map(Ft))[0]+"C"+Qe[1]+" "+Qe[2]+" "+Qe[3]}return Yt.source=function(_t){return arguments.length?(ot=ur(_t),Yt):ot},Yt.target=function(_t){return arguments.length?(bt=ur(_t),Yt):bt},Yt.projection=function(_t){return arguments.length?(Ft=_t,Yt):Ft},Yt},i.svg.diagonal.radial=function(){var ot=i.svg.diagonal(),bt=ge,Ft=ot.projection;return ot.projection=function(Yt){return arguments.length?Ft(De(bt=Yt)):bt},ot},i.svg.symbol=function(){var ot=ke,bt=Ee;function Ft(Yt,_t){return(br.get(ot.call(this,Yt,_t))||cr)(bt.call(this,Yt,_t))}return Ft.type=function(Yt){return arguments.length?(ot=ur(Yt),Ft):ot},Ft.size=function(Yt){return arguments.length?(bt=ur(Yt),Ft):bt},Ft};var br=i.map({circle:cr,cross:function(ot){var bt=Math.sqrt(ot/5)/2;return"M"+-3*bt+","+-bt+"H"+-bt+"V"+-3*bt+"H"+bt+"V"+-bt+"H"+3*bt+"V"+bt+"H"+bt+"V"+3*bt+"H"+-bt+"V"+bt+"H"+-3*bt+"Z"},diamond:function(ot){var bt=Math.sqrt(ot/(2*wr)),Ft=bt*wr;return"M0,"+-bt+"L"+Ft+",0 0,"+bt+" "+-Ft+",0Z"},square:function(ot){var bt=Math.sqrt(ot)/2;return"M"+-bt+","+-bt+"L"+bt+","+-bt+" "+bt+","+bt+" "+-bt+","+bt+"Z"},"triangle-down":function(ot){var bt=Math.sqrt(ot/sr),Ft=bt*sr/2;return"M0,"+Ft+"L"+bt+","+-Ft+" "+-bt+","+-Ft+"Z"},"triangle-up":function(ot){var bt=Math.sqrt(ot/sr),Ft=bt*sr/2;return"M0,"+-Ft+"L"+bt+","+Ft+" "+-bt+","+Ft+"Z"}});i.svg.symbolTypes=br.keys();var sr=Math.sqrt(3),wr=Math.tan(30*te);Y.transition=function(ot){for(var _t,ie,bt=Pn||++xn,Ft=Aa(ot),Yt=[],Pe=ia||{time:Date.now(),ease:zl,delay:0,duration:250},xe=-1,Oe=this.length;++xe<Oe;){Yt.push(_t=[]);for(var Qe=this[xe],qe=-1,Lr=Qe.length;++qe<Lr;)(ie=Qe[qe])&&La(ie,qe,Ft,bt,Pe),_t.push(ie)}return en(Yt,Ft,bt)},Y.interrupt=function(ot){return this.each(null==ot?Dr:Wr(Aa(ot)))};var Dr=Wr(Aa());function Wr(ot){return function(){var bt,Ft,Yt;(bt=this[ot])&&(Yt=bt[Ft=bt.active])&&(Yt.timer.c=null,Yt.timer.t=NaN,--bt.count?delete bt[Ft]:delete this[ot],bt.active+=.5,Yt.event&&Yt.event.interrupt.call(this,this.__data__,Yt.index))}}function en(ot,bt,Ft){return rt(ot,un),ot.namespace=bt,ot.id=Ft,ot}var Pn,ia,un=[],xn=0;function wa(ot,bt,Ft,Yt){var _t=ot.id,ie=ot.namespace;return It(ot,"function"==typeof Ft?function(Pe,xe,Oe){Pe[ie][_t].tween.set(bt,Yt(Ft.call(Pe,Pe.__data__,xe,Oe)))}:(Ft=Yt(Ft),function(Pe){Pe[ie][_t].tween.set(bt,Ft)}))}function Ea(ot){return null==ot&&(ot=""),function(){this.textContent=ot}}function Aa(ot){return null==ot?"__transition__":"__transition_"+ot+"__"}function La(ot,bt,Ft,Yt,_t){var xe,Oe,Qe,qe,Lr,ie=ot[Ft]||(ot[Ft]={active:0,count:0}),Pe=ie[Yt];function _r(Rr){var Nr=ie.active,Jr=ie[Nr];for(var on in Jr&&(Jr.timer.c=null,Jr.timer.t=NaN,--ie.count,delete ie[Nr],Jr.event&&Jr.event.interrupt.call(ot,ot.__data__,Jr.index)),ie)if(+on<Yt){var an=ie[on];an.timer.c=null,an.timer.t=NaN,--ie.count,delete ie[on]}Oe.c=cn,_n(function(){return Oe.c&&cn(Rr||1)&&(Oe.c=null,Oe.t=NaN),1},0,xe),ie.active=Yt,Pe.event&&Pe.event.start.call(ot,ot.__data__,bt),Lr=[],Pe.tween.forEach(function(jr,zn){(zn=zn.call(ot,ot.__data__,bt))&&Lr.push(zn)}),qe=Pe.ease,Qe=Pe.duration}function cn(Rr){for(var Nr=Rr/Qe,Jr=qe(Nr),on=Lr.length;on>0;)Lr[--on].call(ot,Jr);if(Nr>=1)return Pe.event&&Pe.event.end.call(ot,ot.__data__,bt),--ie.count?delete ie[Yt]:delete ot[Ft],1}Pe||(Oe=_n(function Pr(Rr){var Nr=Pe.delay;if(Oe.t=Nr+xe,Nr<=Rr)return _r(Rr-Nr);Oe.c=_r},0,xe=_t.time),Pe=ie[Yt]={tween:new E,time:xe,timer:Oe,delay:_t.delay,duration:_t.duration,ease:_t.ease,index:bt},_t=null,++ie.count)}un.call=Y.call,un.empty=Y.empty,un.node=Y.node,un.size=Y.size,i.transition=function(ot,bt){return ot&&ot.transition?Pn?ot.transition(bt):ot:i.selection().transition(ot)},i.transition.prototype=un,un.select=function(ot){var _t,ie,Pe,bt=this.id,Ft=this.namespace,Yt=[];ot=nt(ot);for(var xe=-1,Oe=this.length;++xe<Oe;){Yt.push(_t=[]);for(var Qe=this[xe],qe=-1,Lr=Qe.length;++qe<Lr;)(Pe=Qe[qe])&&(ie=ot.call(Pe,Pe.__data__,qe,xe))?("__data__"in Pe&&(ie.__data__=Pe.__data__),La(ie,qe,Ft,bt,Pe[Ft][bt]),_t.push(ie)):_t.push(null)}return en(Yt,Ft,bt)},un.selectAll=function(ot){var _t,ie,Pe,xe,Oe,bt=this.id,Ft=this.namespace,Yt=[];ot=_(ot);for(var Qe=-1,qe=this.length;++Qe<qe;)for(var Lr=this[Qe],Pr=-1,_r=Lr.length;++Pr<_r;)if(Pe=Lr[Pr]){Oe=Pe[Ft][bt],ie=ot.call(Pe,Pe.__data__,Pr,Qe),Yt.push(_t=[]);for(var cn=-1,Rr=ie.length;++cn<Rr;)(xe=ie[cn])&&La(xe,cn,Ft,bt,Oe),_t.push(xe)}return en(Yt,Ft,bt)},un.filter=function(ot){var Ft,_t,bt=[];"function"!=typeof ot&&(ot=re(ot));for(var ie=0,Pe=this.length;ie<Pe;ie++){bt.push(Ft=[]);for(var Yt,xe=0,Oe=(Yt=this[ie]).length;xe<Oe;xe++)(_t=Yt[xe])&&ot.call(_t,_t.__data__,xe,ie)&&Ft.push(_t)}return en(bt,this.namespace,this.id)},un.tween=function(ot,bt){var Ft=this.id,Yt=this.namespace;return arguments.length<2?this.node()[Yt][Ft].tween.get(ot):It(this,null==bt?function(_t){_t[Yt][Ft].tween.remove(ot)}:function(_t){_t[Yt][Ft].tween.set(ot,bt)})},un.attr=function(ot,bt){if(arguments.length<2){for(bt in ot)this.attr(bt,ot[bt]);return this}var Ft="transform"==ot?zo:Ui,Yt=i.ns.qualify(ot);function _t(){this.removeAttribute(Yt)}function ie(){this.removeAttributeNS(Yt.space,Yt.local)}function Pe(Oe){return null==Oe?_t:(Oe+="",function(){var qe,Qe=this.getAttribute(Yt);return Qe!==Oe&&(qe=Ft(Qe,Oe),function(Lr){this.setAttribute(Yt,qe(Lr))})})}function xe(Oe){return null==Oe?ie:(Oe+="",function(){var qe,Qe=this.getAttributeNS(Yt.space,Yt.local);return Qe!==Oe&&(qe=Ft(Qe,Oe),function(Lr){this.setAttributeNS(Yt.space,Yt.local,qe(Lr))})})}return wa(this,"attr."+ot,bt,Yt.local?xe:Pe)},un.attrTween=function(ot,bt){var Ft=i.ns.qualify(ot);return this.tween("attr."+ot,Ft.local?function _t(ie,Pe){var xe=bt.call(this,ie,Pe,this.getAttributeNS(Ft.space,Ft.local));return xe&&function(Oe){this.setAttributeNS(Ft.space,Ft.local,xe(Oe))}}:function Yt(ie,Pe){var xe=bt.call(this,ie,Pe,this.getAttribute(Ft));return xe&&function(Oe){this.setAttribute(Ft,xe(Oe))}})},un.style=function(ot,bt,Ft){var Yt=arguments.length;if(Yt<3){if("string"!=typeof ot){for(Ft in Yt<2&&(bt=""),ot)this.style(Ft,ot[Ft],bt);return this}Ft=""}function _t(){this.style.removeProperty(ot)}function ie(Pe){return null==Pe?_t:(Pe+="",function(){var Oe,xe=r(this).getComputedStyle(this,null).getPropertyValue(ot);return xe!==Pe&&(Oe=Ui(xe,Pe),function(Qe){this.style.setProperty(ot,Oe(Qe),Ft)})})}return wa(this,"style."+ot,bt,ie)},un.styleTween=function(ot,bt,Ft){function Yt(_t,ie){var Pe=bt.call(this,_t,ie,r(this).getComputedStyle(this,null).getPropertyValue(ot));return Pe&&function(xe){this.style.setProperty(ot,Pe(xe),Ft)}}return arguments.length<3&&(Ft=""),this.tween("style."+ot,Yt)},un.text=function(ot){return wa(this,"text",ot,Ea)},un.remove=function(){var ot=this.namespace;return this.each("end.transition",function(){var bt;this[ot].count<2&&(bt=this.parentNode)&&bt.removeChild(this)})},un.ease=function(ot){var bt=this.id,Ft=this.namespace;return arguments.length<1?this.node()[Ft][bt].ease:("function"!=typeof ot&&(ot=i.ease.apply(i,arguments)),It(this,function(Yt){Yt[Ft][bt].ease=ot}))},un.delay=function(ot){var bt=this.id,Ft=this.namespace;return arguments.length<1?this.node()[Ft][bt].delay:It(this,"function"==typeof ot?function(Yt,_t,ie){Yt[Ft][bt].delay=+ot.call(Yt,Yt.__data__,_t,ie)}:(ot=+ot,function(Yt){Yt[Ft][bt].delay=ot}))},un.duration=function(ot){var bt=this.id,Ft=this.namespace;return arguments.length<1?this.node()[Ft][bt].duration:It(this,"function"==typeof ot?function(Yt,_t,ie){Yt[Ft][bt].duration=Math.max(1,ot.call(Yt,Yt.__data__,_t,ie))}:(ot=Math.max(1,ot),function(Yt){Yt[Ft][bt].duration=ot}))},un.each=function(ot,bt){var Ft=this.id,Yt=this.namespace;if(arguments.length<2){var _t=ia,ie=Pn;try{Pn=Ft,It(this,function(Pe,xe,Oe){ia=Pe[Yt][Ft],ot.call(Pe,Pe.__data__,xe,Oe)})}finally{ia=_t,Pn=ie}}else It(this,function(Pe){var xe=Pe[Yt][Ft];(xe.event||(xe.event=i.dispatch("start","end","interrupt"))).on(ot,bt)});return this},un.transition=function(){for(var _t,Pe,xe,ot=this.id,bt=++xn,Ft=this.namespace,Yt=[],Oe=0,Qe=this.length;Oe<Qe;Oe++){Yt.push(_t=[]);for(var ie,qe=0,Lr=(ie=this[Oe]).length;qe<Lr;qe++)(Pe=ie[qe])&&La(Pe,qe,Ft,bt,{time:(xe=Pe[Ft][ot]).time,ease:xe.ease,delay:xe.delay+xe.duration,duration:xe.duration}),_t.push(Pe)}return en(Yt,Ft,bt)},i.svg.axis=function(){var xe,ot=i.scale.linear(),bt=Wa,Ft=6,Yt=6,_t=3,ie=[10],Pe=null;function Oe(Qe){Qe.each(function(){var jr,qe=i.select(this),Lr=this.__chart__||ot,Pr=this.__chart__=ot.copy(),_r=null==Pe?Pr.ticks?Pr.ticks.apply(Pr,ie):Pr.domain():Pe,cn=null==xe?Pr.tickFormat?Pr.tickFormat.apply(Pr,ie):z:xe,Rr=qe.selectAll(".tick").data(_r,Pr),Nr=Rr.enter().insert("g",".domain").attr("class","tick").style("opacity",kt),Jr=i.transition(Rr.exit()).style("opacity",kt).remove(),on=i.transition(Rr.order()).style("opacity",1),an=Math.max(Ft,0)+_t,zn=To(Pr),jn=qe.selectAll(".domain").data([0]),aa=(jn.enter().append("path").attr("class","domain"),i.transition(jn));Nr.append("line"),Nr.append("text");var Ya,mi,Ba,Xn,ea=Nr.select("line"),ga=on.select("line"),va=Rr.select("text").text(cn),Ca=Nr.select("text"),xa=on.select("text"),fa="top"===bt||"left"===bt?-1:1;if("bottom"===bt||"top"===bt?(jr=di,Ya="x",Ba="y",mi="x2",Xn="y2",va.attr("dy",fa<0?"0em":".71em").style("text-anchor","middle"),aa.attr("d","M"+zn[0]+","+fa*Yt+"V0H"+zn[1]+"V"+fa*Yt)):(jr=ii,Ya="y",Ba="x",mi="y2",Xn="x2",va.attr("dy",".32em").style("text-anchor",fa<0?"end":"start"),aa.attr("d","M"+fa*Yt+","+zn[0]+"H0V"+zn[1]+"H"+fa*Yt)),ea.attr(Xn,fa*Ft),Ca.attr(Ba,fa*an),ga.attr(mi,0).attr(Xn,fa*Ft),xa.attr(Ya,0).attr(Ba,fa*an),Pr.rangeBand){var Ra=Pr,za=Ra.rangeBand()/2;Lr=Pr=function(Na){return Ra(Na)+za}}else Lr.rangeBand?Lr=Pr:Jr.call(jr,Pr,Lr);Nr.call(jr,Lr,Pr),on.call(jr,Pr,Pr)})}return Oe.scale=function(Qe){return arguments.length?(ot=Qe,Oe):ot},Oe.orient=function(Qe){return arguments.length?(bt=Qe in Ti?Qe+"":Wa,Oe):bt},Oe.ticks=function(){return arguments.length?(ie=L(arguments),Oe):ie},Oe.tickValues=function(Qe){return arguments.length?(Pe=Qe,Oe):Pe},Oe.tickFormat=function(Qe){return arguments.length?(xe=Qe,Oe):xe},Oe.tickSize=function(Qe){var qe=arguments.length;return qe?(Ft=+Qe,Yt=+arguments[qe-1],Oe):Ft},Oe.innerTickSize=function(Qe){return arguments.length?(Ft=+Qe,Oe):Ft},Oe.outerTickSize=function(Qe){return arguments.length?(Yt=+Qe,Oe):Yt},Oe.tickPadding=function(Qe){return arguments.length?(_t=+Qe,Oe):_t},Oe.tickSubdivide=function(){return arguments.length&&Oe},Oe};var Wa="bottom",Ti={top:1,right:1,bottom:1,left:1};function di(ot,bt,Ft){ot.attr("transform",function(Yt){var _t=bt(Yt);return"translate("+(isFinite(_t)?_t:Ft(Yt))+",0)"})}function ii(ot,bt,Ft){ot.attr("transform",function(Yt){var _t=bt(Yt);return"translate(0,"+(isFinite(_t)?_t:Ft(Yt))+")"})}i.svg.brush=function(){var ie,Pe,ot=K(qe,"brushstart","brush","brushend"),bt=null,Ft=null,Yt=[0,0],_t=[0,0],xe=!0,Oe=!0,Qe=yi[0];function qe(Rr){Rr.each(function(){var Nr=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",cn).on("touchstart.brush",cn),Jr=Nr.selectAll(".background").data([0]);Jr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Nr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var on=Nr.selectAll(".resize").data(Qe,z);on.exit().remove(),on.enter().append("g").attr("class",function(jn){return"resize "+jn}).style("cursor",function(jn){return la[jn]}).append("rect").attr("x",function(jn){return/[ew]$/.test(jn)?-3:null}).attr("y",function(jn){return/^[ns]/.test(jn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),on.style("display",qe.empty()?"none":null);var zn,an=i.transition(Nr),jr=i.transition(Jr);bt&&(zn=To(bt),jr.attr("x",zn[0]).attr("width",zn[1]-zn[0]),Pr(an)),Ft&&(zn=To(Ft),jr.attr("y",zn[0]).attr("height",zn[1]-zn[0]),_r(an)),Lr(an)})}function Lr(Rr){Rr.selectAll(".resize").attr("transform",function(Nr){return"translate("+Yt[+/e$/.test(Nr)]+","+_t[+/^s/.test(Nr)]+")"})}function Pr(Rr){Rr.select(".extent").attr("x",Yt[0]),Rr.selectAll(".extent,.n>rect,.s>rect").attr("width",Yt[1]-Yt[0])}function _r(Rr){Rr.select(".extent").attr("y",_t[0]),Rr.selectAll(".extent,.e>rect,.w>rect").attr("height",_t[1]-_t[0])}function cn(){var ea,va,Rr=this,Nr=i.select(i.event.target),Jr=ot.of(Rr,arguments),on=i.select(Rr),an=Nr.datum(),jr=!/^(n|s)$/.test(an)&&bt,zn=!/^(e|w)$/.test(an)&&Ft,jn=Nr.classed("extent"),aa=Xt(Rr),ga=i.mouse(Rr),Ca=i.select(r(Rr)).on("keydown.brush",Ya).on("keyup.brush",mi);if(i.event.changedTouches?Ca.on("touchmove.brush",Ba).on("touchend.brush",Ra):Ca.on("mousemove.brush",Ba).on("mouseup.brush",Ra),on.interrupt().selectAll("*").interrupt(),jn)ga[0]=Yt[0]-ga[0],ga[1]=_t[0]-ga[1];else if(an){var xa=+/w$/.test(an),fa=+/^n/.test(an);va=[Yt[1-xa]-ga[0],_t[1-fa]-ga[1]],ga[0]=Yt[xa],ga[1]=_t[fa]}else i.event.altKey&&(ea=ga.slice());function Ya(){32==i.event.keyCode&&(jn||(ea=null,ga[0]-=Yt[1],ga[1]-=_t[1],jn=2),at())}function mi(){32==i.event.keyCode&&2==jn&&(ga[0]+=Yt[1],ga[1]+=_t[1],jn=0,at())}function Ba(){var za=i.mouse(Rr),Na=!1;va&&(za[0]+=va[0],za[1]+=va[1]),jn||(i.event.altKey?(ea||(ea=[(Yt[0]+Yt[1])/2,(_t[0]+_t[1])/2]),ga[0]=Yt[+(za[0]<ea[0])],ga[1]=_t[+(za[1]<ea[1])]):ea=null),jr&&Xn(za,bt,0)&&(Pr(on),Na=!0),zn&&Xn(za,Ft,1)&&(_r(on),Na=!0),Na&&(Lr(on),Jr({type:"brush",mode:jn?"move":"resize"}))}function Xn(za,Na,ci){var Ai,Mi,Jn=To(Na),ya=Jn[0],Si=Jn[1],hi=ga[ci],Di=ci?_t:Yt,oi=Di[1]-Di[0];if(jn&&(ya-=hi,Si-=oi+hi),Ai=(ci?Oe:xe)?Math.max(ya,Math.min(Si,za[ci])):za[ci],jn?Mi=(Ai+=hi)+oi:(ea&&(hi=Math.max(ya,Math.min(Si,2*ea[ci]-Ai))),hi<Ai?(Mi=Ai,Ai=hi):Mi=hi),Di[0]!=Ai||Di[1]!=Mi)return ci?Pe=null:ie=null,Di[0]=Ai,Di[1]=Mi,!0}function Ra(){Ba(),on.style("pointer-events","all").selectAll(".resize").style("display",qe.empty()?"none":null),i.select("body").style("cursor",null),Ca.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),aa(),Jr({type:"brushend"})}on.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",Nr.style("cursor")),Jr({type:"brushstart"}),Ba()}return qe.event=function(Rr){Rr.each(function(){var Nr=ot.of(this,arguments),Jr={x:Yt,y:_t,i:ie,j:Pe},on=this.__chart__||Jr;this.__chart__=Jr,Pn?i.select(this).transition().each("start.brush",function(){ie=on.i,Pe=on.j,Yt=on.x,_t=on.y,Nr({type:"brushstart"})}).tween("brush:brush",function(){var an=Os(Yt,Jr.x),jr=Os(_t,Jr.y);return ie=Pe=null,function(zn){Yt=Jr.x=an(zn),_t=Jr.y=jr(zn),Nr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ie=Jr.i,Pe=Jr.j,Nr({type:"brush",mode:"resize"}),Nr({type:"brushend"})}):(Nr({type:"brushstart"}),Nr({type:"brush",mode:"resize"}),Nr({type:"brushend"}))})},qe.x=function(Rr){return arguments.length?(Qe=yi[!(bt=Rr)<<1|!Ft],qe):bt},qe.y=function(Rr){return arguments.length?(Qe=yi[!bt<<1|!(Ft=Rr)],qe):Ft},qe.clamp=function(Rr){return arguments.length?(bt&&Ft?(xe=!!Rr[0],Oe=!!Rr[1]):bt?xe=!!Rr:Ft&&(Oe=!!Rr),qe):bt&&Ft?[xe,Oe]:bt?xe:Ft?Oe:null},qe.extent=function(Rr){var Nr,Jr,on,an,jr;return arguments.length?(bt&&(Nr=Rr[0],Jr=Rr[1],Ft&&(Nr=Nr[0],Jr=Jr[0]),ie=[Nr,Jr],bt.invert&&(Nr=bt(Nr),Jr=bt(Jr)),Jr<Nr&&(jr=Nr,Nr=Jr,Jr=jr),(Nr!=Yt[0]||Jr!=Yt[1])&&(Yt=[Nr,Jr])),Ft&&(on=Rr[0],an=Rr[1],bt&&(on=on[1],an=an[1]),Pe=[on,an],Ft.invert&&(on=Ft(on),an=Ft(an)),an<on&&(jr=on,on=an,an=jr),(on!=_t[0]||an!=_t[1])&&(_t=[on,an])),qe):(bt&&(ie?(Nr=ie[0],Jr=ie[1]):(Nr=Yt[0],Jr=Yt[1],bt.invert&&(Nr=bt.invert(Nr),Jr=bt.invert(Jr)),Jr<Nr&&(jr=Nr,Nr=Jr,Jr=jr))),Ft&&(Pe?(on=Pe[0],an=Pe[1]):(on=_t[0],an=_t[1],Ft.invert&&(on=Ft.invert(on),an=Ft.invert(an)),an<on&&(jr=on,on=an,an=jr))),bt&&Ft?[[Nr,on],[Jr,an]]:bt?[Nr,Jr]:Ft&&[on,an])},qe.clear=function(){return qe.empty()||(Yt=[0,0],_t=[0,0],ie=Pe=null),qe},qe.empty=function(){return!!bt&&Yt[0]==Yt[1]||!!Ft&&_t[0]==_t[1]},i.rebind(qe,ot,"on")};var la={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},yi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function So(ot){return JSON.parse(ot.responseText)}function ds(ot){var bt=l.createRange();return bt.selectNode(l.body),bt.createContextualFragment(ot.responseText)}i.text=Mr(function(ot){return ot.responseText}),i.json=function(ot,bt){return Br(ot,"application/json",So,bt)},i.html=function(ot,bt){return Br(ot,"text/html",ds,bt)},i.xml=Mr(function(ot){return ot.responseXML}),void 0!==(y="function"==typeof(A=i)?A.call(W,t,W,tt):A)&&(tt.exports=y)}).apply(self)},3480:function(tt){var t;t=function(){"use strict";var W,t,A;function y(i,P){if(W)if(t){var L="var sharedChunk = {}; ("+W+")(sharedChunk); ("+t+")(sharedChunk);",l={};W(l),A=P(l),"undefined"!=typeof window&&(A.workerUrl=window.URL.createObjectURL(new Blob([L],{type:"text/javascript"})))}else t=P;else W=P}return y(0,function(i){function P(R,I){return R(I={exports:{}},I.exports),I.exports}var L="1.13.4",l=m;function m(R,I,V,q){this.cx=3*R,this.bx=3*(V-R)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*I,this.by=3*(q-I)-this.cy,this.ay=1-this.cy-this.by,this.p1x=R,this.p1y=q,this.p2x=V,this.p2y=q}m.prototype.sampleCurveX=function(R){return((this.ax*R+this.bx)*R+this.cx)*R},m.prototype.sampleCurveY=function(R){return((this.ay*R+this.by)*R+this.cy)*R},m.prototype.sampleCurveDerivativeX=function(R){return(3*this.ax*R+2*this.bx)*R+this.cx},m.prototype.solveCurveX=function(R,I){var V,q,ct,mt,At;for(void 0===I&&(I=1e-6),ct=R,At=0;At<8;At++){if(mt=this.sampleCurveX(ct)-R,Math.abs(mt)<I)return ct;var Jt=this.sampleCurveDerivativeX(ct);if(Math.abs(Jt)<1e-6)break;ct-=mt/Jt}if((ct=R)<(V=0))return V;if(ct>(q=1))return q;for(;V<q;){if(mt=this.sampleCurveX(ct),Math.abs(mt-R)<I)return ct;R>mt?V=ct:q=ct,ct=.5*(q-V)+V}return ct},m.prototype.solve=function(R,I){return this.sampleCurveY(this.solveCurveX(R,I))};var r=e;function e(R,I){this.x=R,this.y=I}e.prototype={clone:function(){return new e(this.x,this.y)},add:function(R){return this.clone()._add(R)},sub:function(R){return this.clone()._sub(R)},multByPoint:function(R){return this.clone()._multByPoint(R)},divByPoint:function(R){return this.clone()._divByPoint(R)},mult:function(R){return this.clone()._mult(R)},div:function(R){return this.clone()._div(R)},rotate:function(R){return this.clone()._rotate(R)},rotateAround:function(R,I){return this.clone()._rotateAround(R,I)},matMult:function(R){return this.clone()._matMult(R)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(R){return this.x===R.x&&this.y===R.y},dist:function(R){return Math.sqrt(this.distSqr(R))},distSqr:function(R){var I=R.x-this.x,V=R.y-this.y;return I*I+V*V},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(R){return Math.atan2(this.y-R.y,this.x-R.x)},angleWith:function(R){return this.angleWithSep(R.x,R.y)},angleWithSep:function(R,I){return Math.atan2(this.x*I-this.y*R,this.x*R+this.y*I)},_matMult:function(R){var V=R[2]*this.x+R[3]*this.y;return this.x=R[0]*this.x+R[1]*this.y,this.y=V,this},_add:function(R){return this.x+=R.x,this.y+=R.y,this},_sub:function(R){return this.x-=R.x,this.y-=R.y,this},_mult:function(R){return this.x*=R,this.y*=R,this},_div:function(R){return this.x/=R,this.y/=R,this},_multByPoint:function(R){return this.x*=R.x,this.y*=R.y,this},_divByPoint:function(R){return this.x/=R.x,this.y/=R.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var R=this.y;return this.y=this.x,this.x=-R,this},_rotate:function(R){var I=Math.cos(R),V=Math.sin(R),ct=V*this.x+I*this.y;return this.x=I*this.x-V*this.y,this.y=ct,this},_rotateAround:function(R,I){var V=Math.cos(R),q=Math.sin(R),mt=I.y+q*(this.x-I.x)+V*(this.y-I.y);return this.x=I.x+V*(this.x-I.x)-q*(this.y-I.y),this.y=mt,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},e.convert=function(R){return R instanceof e?R:Array.isArray(R)?new e(R[0],R[1]):R};var s="undefined"!=typeof self?self:{};var h=Math.pow(2,53)-1;function u(R,I,V,q){var ct=new l(R,I,V,q);return function(mt){return ct.solve(mt)}}var g=u(.25,.1,.25,1);function c(R,I,V){return Math.min(V,Math.max(I,R))}function w(R,I,V){var q=V-I,ct=((R-I)%q+q)%q+I;return ct===I?V:ct}function M(R){for(var I=[],V=arguments.length-1;V-- >0;)I[V]=arguments[V+1];for(var q=0,ct=I;q<ct.length;q+=1){var mt=ct[q];for(var At in mt)R[At]=mt[At]}return R}var E=1;function x(){return E++}function S(){return function R(I){return I?(I^16*Math.random()>>I/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,R)}()}function n(R){return!!R&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R)}function C(R,I){R.forEach(function(V){!I[V]||(I[V]=I[V].bind(I))})}function p(R,I){return-1!==R.indexOf(I,R.length-I.length)}function F(R,I,V){var q={};for(var ct in R)q[ct]=I.call(V||this,R[ct],ct,R);return q}function D(R,I,V){var q={};for(var ct in R)I.call(V||this,R[ct],ct,R)&&(q[ct]=R[ct]);return q}function N(R){return Array.isArray(R)?R.map(N):"object"==typeof R&&R?F(R,N):R}var z={};function B(R){z[R]||("undefined"!=typeof console&&console.warn(R),z[R]=!0)}function O(R,I,V){return(V.y-R.y)*(I.x-R.x)>(I.y-R.y)*(V.x-R.x)}function U(R){for(var I=0,V=0,q=R.length,ct=q-1,mt=void 0,At=void 0;V<q;ct=V++)I+=((At=R[ct]).x-(mt=R[V]).x)*(mt.y+At.y);return I}function J(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function et(R){var V={};if(R.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(ct,mt,At,Jt){var ue=At||Jt;return V[mt]=!ue||ue.toLowerCase(),""}),V["max-age"]){var q=parseInt(V["max-age"],10);isNaN(q)?delete V["max-age"]:V["max-age"]=q}return V}var at=null;function lt(R){if(null==at){var I=R.navigator?R.navigator.userAgent:null;at=!!R.safari||!(!I||!(/\b(iPad|iPhone|iPod)\b/.test(I)||I.match("Safari")&&!I.match("Chrome")))}return at}function K(R){try{var I=s[R];return I.setItem("_mapbox_test_",1),I.removeItem("_mapbox_test_"),!0}catch(V){return!1}}var Q,Y,dt,yt,H=s.performance&&s.performance.now?s.performance.now.bind(s.performance):Date.now.bind(Date),Z=s.requestAnimationFrame||s.mozRequestAnimationFrame||s.webkitRequestAnimationFrame||s.msRequestAnimationFrame,it=s.cancelAnimationFrame||s.mozCancelAnimationFrame||s.webkitCancelAnimationFrame||s.msCancelAnimationFrame,nt={now:H,frame:function(I){var V=Z(I);return{cancel:function(){return it(V)}}},getImageData:function(I,V){void 0===V&&(V=0);var q=s.document.createElement("canvas"),ct=q.getContext("2d");if(!ct)throw new Error("failed to create canvas 2d context");return q.width=I.width,q.height=I.height,ct.drawImage(I,0,0,I.width,I.height),ct.getImageData(-V,-V,I.width+2*V,I.height+2*V)},resolveURL:function(I){return Q||(Q=s.document.createElement("a")),Q.href=I,Q.href},hardwareConcurrency:s.navigator&&s.navigator.hardwareConcurrency||4,get devicePixelRatio(){return s.devicePixelRatio},get prefersReducedMotion(){return!!s.matchMedia&&(null==Y&&(Y=s.matchMedia("(prefers-reduced-motion: reduce)")),Y.matches)}},_={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},st={supported:!1,testSupport:function Et(R){xt||!yt||(St?Tt(R):dt=R)}},xt=!1,St=!1;function Tt(R){var I=R.createTexture();R.bindTexture(R.TEXTURE_2D,I);try{if(R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,yt),R.isContextLost())return;st.supported=!0}catch(V){}R.deleteTexture(I),xt=!0}s.document&&((yt=s.document.createElement("img")).onload=function(){dt&&Tt(dt),dt=null,St=!0},yt.onerror=function(){xt=!0,dt=null},yt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var gt="01";var Nt=function(I,V){this._transformRequestFn=I,this._customAccessToken=V,this._createSkuToken()};function Gt(R){return 0===R.indexOf("mapbox:")}Nt.prototype._createSkuToken=function(){var I=function Mt(){for(var V="",q=0;q<10;q++)V+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",gt,V].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=I.token,this._skuTokenExpiresAt=I.tokenExpiresAt},Nt.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Nt.prototype.transformRequest=function(I,V){return this._transformRequestFn&&this._transformRequestFn(I,V)||{url:I}},Nt.prototype.normalizeStyleURL=function(I,V){if(!Gt(I))return I;var q=Rt(I);return q.path="/styles/v1"+q.path,this._makeAPIURL(q,this._customAccessToken||V)},Nt.prototype.normalizeGlyphsURL=function(I,V){if(!Gt(I))return I;var q=Rt(I);return q.path="/fonts/v1"+q.path,this._makeAPIURL(q,this._customAccessToken||V)},Nt.prototype.normalizeSourceURL=function(I,V){if(!Gt(I))return I;var q=Rt(I);return q.path="/v4/"+q.authority+".json",q.params.push("secure"),this._makeAPIURL(q,this._customAccessToken||V)},Nt.prototype.normalizeSpriteURL=function(I,V,q,ct){var mt=Rt(I);return Gt(I)?(mt.path="/styles/v1"+mt.path+"/sprite"+V+q,this._makeAPIURL(mt,this._customAccessToken||ct)):(mt.path+=""+V+q,$t(mt))},Nt.prototype.normalizeTileURL=function(I,V){if(this._isSkuTokenExpired()&&this._createSkuToken(),I&&!Gt(I))return I;var q=Rt(I);q.path=q.path.replace(/(\.(png|jpg)\d*)(?=$)/,(nt.devicePixelRatio>=2||512===V?"@2x":"")+(st.supported?".webp":"$1")),q.path=q.path.replace(/^.+\/v4\//,"/"),q.path="/v4"+q.path;var ue=this._customAccessToken||function le(R){for(var I=0,V=R;I<V.length;I+=1){var ct=V[I].match(/^access_token=(.*)$/);if(ct)return ct[1]}return null}(q.params)||_.ACCESS_TOKEN;return _.REQUIRE_ACCESS_TOKEN&&ue&&this._skuToken&&q.params.push("sku="+this._skuToken),this._makeAPIURL(q,ue)},Nt.prototype.canonicalizeTileURL=function(I,V){var mt=Rt(I);if(!mt.path.match(/(^\/v4\/)/)||!mt.path.match(/\.[\w]+$/))return I;var At="mapbox://tiles/";At+=mt.path.replace("/v4/","");var Jt=mt.params;return V&&(Jt=Jt.filter(function(ue){return!ue.match(/^access_token=/)})),Jt.length&&(At+="?"+Jt.join("&")),At},Nt.prototype.canonicalizeTileset=function(I,V){for(var q=!!V&&Gt(V),ct=[],mt=0,At=I.tiles||[];mt<At.length;mt+=1){var Jt=At[mt];Vt(Jt)?ct.push(this.canonicalizeTileURL(Jt,q)):ct.push(Jt)}return ct},Nt.prototype._makeAPIURL=function(I,V){var q="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ct=Rt(_.API_URL);if(I.protocol=ct.protocol,I.authority=ct.authority,"http"===I.protocol){var mt=I.params.indexOf("secure");mt>=0&&I.params.splice(mt,1)}if("/"!==ct.path&&(I.path=""+ct.path+I.path),!_.REQUIRE_ACCESS_TOKEN)return $t(I);if(!(V=V||_.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+q);if("s"===V[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+q);return I.params=I.params.filter(function(At){return-1===At.indexOf("access_token")}),I.params.push("access_token="+V),$t(I)};var Pt=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Vt(R){return Pt.test(R)}var It=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Rt(R){var I=R.match(It);if(!I)throw new Error("Unable to parse URL object");return{protocol:I[1],authority:I[2],path:I[3]||"/",params:I[4]?I[4].split("&"):[]}}function $t(R){var I=R.params.length?"?"+R.params.join("&"):"";return R.protocol+"://"+R.authority+R.path+I}var oe="mapbox.eventData";function se(R){if(!R)return null;var I=R.split(".");if(!I||3!==I.length)return null;try{return JSON.parse(function rt(R){return decodeURIComponent(s.atob(R).split("").map(function(I){return"%"+("00"+I.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(I[1]))}catch(q){return null}}var ve=function(I){this.type=I,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ve.prototype.getStorageKey=function(I){var q,V=se(_.ACCESS_TOKEN);return q=V&&V.u?function j(R){return s.btoa(encodeURIComponent(R).replace(/%([0-9A-F]{2})/g,function(I,V){return String.fromCharCode(Number("0x"+V))}))}(V.u):_.ACCESS_TOKEN||"",I?oe+"."+I+":"+q:oe+":"+q},ve.prototype.fetchEventData=function(){var I=K("localStorage"),V=this.getStorageKey(),q=this.getStorageKey("uuid");if(I)try{var ct=s.localStorage.getItem(V);ct&&(this.eventData=JSON.parse(ct));var mt=s.localStorage.getItem(q);mt&&(this.anonId=mt)}catch(At){B("Unable to read from LocalStorage")}},ve.prototype.saveEventData=function(){var I=K("localStorage"),V=this.getStorageKey(),q=this.getStorageKey("uuid");if(I)try{s.localStorage.setItem(q,this.anonId),Object.keys(this.eventData).length>=1&&s.localStorage.setItem(V,JSON.stringify(this.eventData))}catch(ct){B("Unable to write to LocalStorage")}},ve.prototype.processRequests=function(I){},ve.prototype.postEvent=function(I,V,q,ct){var mt=this;if(_.EVENTS_URL){var At=Rt(_.EVENTS_URL);At.params.push("access_token="+(ct||_.ACCESS_TOKEN||""));var Jt={event:this.type,created:new Date(I).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:L,skuId:gt,userId:this.anonId},ue=V?M(Jt,V):Jt,me={url:$t(At),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ue])};this.pendingRequest=Fe(me,function(Ae){mt.pendingRequest=null,q(Ae),mt.saveEventData(),mt.processRequests(ct)})}},ve.prototype.queueRequest=function(I,V){this.queue.push(I),this.processRequests(V)};var ft,Dt,de=function(R){function I(){R.call(this,"map.load"),this.success={},this.skuToken=""}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.postMapLoadEvent=function(q,ct,mt,At){this.skuToken=mt,(_.EVENTS_URL&&At||_.ACCESS_TOKEN&&Array.isArray(q)&&q.some(function(Jt){return Gt(Jt)||Vt(Jt)}))&&this.queueRequest({id:ct,timestamp:Date.now()},At)},I.prototype.processRequests=function(q){var ct=this;if(!this.pendingRequest&&0!==this.queue.length){var mt=this.queue.shift(),At=mt.id,Jt=mt.timestamp;At&&this.success[At]||(this.anonId||this.fetchEventData(),n(this.anonId)||(this.anonId=S()),this.postEvent(Jt,{skuToken:this.skuToken},function(ue){ue||At&&(ct.success[At]=!0)},q))}},I}(ve),Ct=new(function(R){function I(V){R.call(this,"appUserTurnstile"),this._customAccessToken=V}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.postTurnstileEvent=function(q,ct){_.EVENTS_URL&&_.ACCESS_TOKEN&&Array.isArray(q)&&q.some(function(mt){return Gt(mt)||Vt(mt)})&&this.queueRequest(Date.now(),ct)},I.prototype.processRequests=function(q){var ct=this;if(!this.pendingRequest&&0!==this.queue.length){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var mt=se(_.ACCESS_TOKEN),At=mt?mt.u:_.ACCESS_TOKEN,Jt=At!==this.eventData.tokenU;n(this.anonId)||(this.anonId=S(),Jt=!0);var ue=this.queue.shift();if(this.eventData.lastSuccess){var me=new Date(this.eventData.lastSuccess),Ae=new Date(ue),He=(ue-this.eventData.lastSuccess)/864e5;Jt=Jt||He>=1||He<-1||me.getDate()!==Ae.getDate()}else Jt=!0;if(!Jt)return this.processRequests();this.postEvent(ue,{"enabled.telemetry":!1},function(er){er||(ct.eventData.lastSuccess=ue,ct.eventData.tokenU=At)},q)}},I}(ve)),Wt=Ct.postTurnstileEvent.bind(Ct),Xt=new de,Ht=Xt.postMapLoadEvent.bind(Xt),Bt="mapbox-tiles",zt=500,kt=50;function pt(){s.caches&&!ft&&(ft=s.caches.open(Bt))}function te(R,I,V){if(pt(),ft){var q={status:I.status,statusText:I.statusText,headers:new s.Headers};I.headers.forEach(function(At,Jt){return q.headers.set(Jt,At)});var ct=et(I.headers.get("Cache-Control")||"");ct["no-store"]||(ct["max-age"]&&q.headers.set("Expires",new Date(V+1e3*ct["max-age"]).toUTCString()),new Date(q.headers.get("Expires")).getTime()-V<42e4||function Qt(R,I){if(void 0===Dt)try{new Response(new ReadableStream),Dt=!0}catch(V){Dt=!1}Dt?I(R.body):R.blob().then(I)}(I,function(At){var Jt=new s.Response(At,q);pt(),ft&&ft.then(function(ue){return ue.put(ee(R.url),Jt)}).catch(function(ue){return B(ue.message)})}))}}function ee(R){var I=R.indexOf("?");return I<0?R:R.slice(0,I)}function Ne(R,I){if(pt(),!ft)return I(null);var V=ee(R.url);ft.then(function(q){q.match(V).then(function(ct){var mt=function We(R){if(!R)return!1;var I=new Date(R.headers.get("Expires")||0),V=et(R.headers.get("Cache-Control")||"");return I>Date.now()&&!V["no-cache"]}(ct);q.delete(V),mt&&q.put(V,ct.clone()),I(null,ct,mt)}).catch(I)}).catch(I)}var Ue,ye=1/0;function Ye(){return null==Ue&&(Ue=s.OffscreenCanvas&&new s.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof s.createImageBitmap),Ue}var gr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(gr);var tr=function(R){function I(V,q,ct){401===q&&Vt(ct)&&(V+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),R.call(this,V),this.status=q,this.url=ct,this.name=this.constructor.name,this.message=V}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},I}(Error),he=J()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===s.location.protocol?s.parent:s).location.href};function pe(R,I){var V=new s.AbortController,q=new s.Request(R.url,{method:R.method||"GET",body:R.body,credentials:R.credentials,headers:R.headers,referrer:he(),signal:V.signal}),ct=!1,mt=!1,At=function re(R){return R.indexOf("sku=")>0&&Vt(R)}(q.url);"json"===R.type&&q.headers.set("Accept","application/json");var Jt=function(me,Ae,He){if(!mt){if(me&&"SecurityError"!==me.message&&B(me),Ae&&He)return ue(Ae);var er=Date.now();s.fetch(q).then(function(Je){if(Je.ok){var mr=At?Je.clone():null;return ue(Je,mr,er)}return I(new tr(Je.statusText,Je.status,R.url))}).catch(function(Je){20!==Je.code&&I(new Error(Je.message))})}},ue=function(me,Ae,He){("arrayBuffer"===R.type?me.arrayBuffer():"json"===R.type?me.json():me.text()).then(function(er){mt||(Ae&&He&&te(q,Ae,He),ct=!0,I(null,er,me.headers.get("Cache-Control"),me.headers.get("Expires")))}).catch(function(er){mt||I(new Error(er.message))})};return At?Ne(q,Jt):Jt(null,null),{cancel:function(){mt=!0,ct||V.abort()}}}var Se=function(R,I){if(!function(R){return/^file:/.test(R)||/^file:/.test(he())&&!/^\w+:/.test(R)}(R.url)){if(s.fetch&&s.Request&&s.AbortController&&s.Request.prototype.hasOwnProperty("signal"))return pe(R,I);if(J()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",R,I,void 0,!0)}return function be(R,I){var V=new s.XMLHttpRequest;for(var q in V.open(R.method||"GET",R.url,!0),"arrayBuffer"===R.type&&(V.responseType="arraybuffer"),R.headers)V.setRequestHeader(q,R.headers[q]);return"json"===R.type&&(V.responseType="text",V.setRequestHeader("Accept","application/json")),V.withCredentials="include"===R.credentials,V.onerror=function(){I(new Error(V.statusText))},V.onload=function(){if((V.status>=200&&V.status<300||0===V.status)&&null!==V.response){var ct=V.response;if("json"===R.type)try{ct=JSON.parse(V.response)}catch(mt){return I(mt)}I(null,ct,V.getResponseHeader("Cache-Control"),V.getResponseHeader("Expires"))}else I(new tr(V.statusText,V.status,R.url))},V.send(R.body),{cancel:function(){return V.abort()}}}(R,I)},Ie=function(R,I){return Se(M(R,{type:"arrayBuffer"}),I)},Fe=function(R,I){return Se(M(R,{method:"POST"}),I)};function Ze(R){var I=s.document.createElement("a");return I.href=R,I.protocol===s.document.location.protocol&&I.host===s.document.location.host}var Ot,Ut,nr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Ot=[],Ut=0;var Le=function(R,I){if(st.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),Ut>=_.MAX_PARALLEL_IMAGE_REQUESTS){var V={requestParameters:R,callback:I,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ot.push(V),V}Ut++;var q=!1,ct=function(){if(!q)for(q=!0,Ut--;Ot.length&&Ut<_.MAX_PARALLEL_IMAGE_REQUESTS;){var At=Ot.shift();At.cancelled||(At.cancel=Le(At.requestParameters,At.callback).cancel)}},mt=Ie(R,function(At,Jt,ue,me){ct(),At?I(At):Jt&&(Ye()?function lr(R,I){var V=new s.Blob([new Uint8Array(R)],{type:"image/png"});s.createImageBitmap(V).then(function(q){I(null,q)}).catch(function(q){I(new Error("Could not load image because of "+q.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(Jt,I):function ir(R,I,V,q){var ct=new s.Image,mt=s.URL;ct.onload=function(){I(null,ct),mt.revokeObjectURL(ct.src),ct.onload=null,s.requestAnimationFrame(function(){ct.src=nr})},ct.onerror=function(){return I(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var At=new s.Blob([new Uint8Array(R)],{type:"image/png"});ct.cacheControl=V,ct.expires=q,ct.src=R.byteLength?mt.createObjectURL(At):nr}(Jt,I,ue,me))});return{cancel:function(){mt.cancel(),ct()}}};function _e(R,I,V){V[R]&&-1!==V[R].indexOf(I)||(V[R]=V[R]||[],V[R].push(I))}function fr(R,I,V){if(V&&V[R]){var q=V[R].indexOf(I);-1!==q&&V[R].splice(q,1)}}var $e=function(I,V){void 0===V&&(V={}),M(this,V),this.type=I},Re=function(R){function I(V,q){void 0===q&&(q={}),R.call(this,"error",M({error:V},q))}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I}($e),or=function(){};or.prototype.on=function(I,V){return this._listeners=this._listeners||{},_e(I,V,this._listeners),this},or.prototype.off=function(I,V){return fr(I,V,this._listeners),fr(I,V,this._oneTimeListeners),this},or.prototype.once=function(I,V){return this._oneTimeListeners=this._oneTimeListeners||{},_e(I,V,this._oneTimeListeners),this},or.prototype.fire=function(I,V){"string"==typeof I&&(I=new $e(I,V||{}));var q=I.type;if(this.listens(q)){I.target=this;for(var mt=0,At=this._listeners&&this._listeners[q]?this._listeners[q].slice():[];mt<At.length;mt+=1)At[mt].call(this,I);for(var me=0,Ae=this._oneTimeListeners&&this._oneTimeListeners[q]?this._oneTimeListeners[q].slice():[];me<Ae.length;me+=1){var He=Ae[me];fr(q,He,this._oneTimeListeners),He.call(this,I)}var er=this._eventedParent;er&&(M(I,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),er.fire(I))}else I instanceof Re&&console.error(I.error);return this},or.prototype.listens=function(I){return this._listeners&&this._listeners[I]&&this._listeners[I].length>0||this._oneTimeListeners&&this._oneTimeListeners[I]&&this._oneTimeListeners[I].length>0||this._eventedParent&&this._eventedParent.listens(I)},or.prototype.setEventedParent=function(I,V){return this._eventedParent=I,this._eventedParentData=V,this};var Tr={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},kr=function(I,V,q,ct){this.message=(I?I+": ":"")+q,ct&&(this.identifier=ct),null!=V&&V.__line__&&(this.line=V.__line__)};function yn(R){var V=R.value;return V?[new kr(R.key,V,"constants have been deprecated as of v8")]:[]}function Cn(R){for(var I=[],V=arguments.length-1;V-- >0;)I[V]=arguments[V+1];for(var q=0,ct=I;q<ct.length;q+=1){var mt=ct[q];for(var At in mt)R[At]=mt[At]}return R}function hn(R){return R instanceof Number||R instanceof String||R instanceof Boolean?R.valueOf():R}function ln(R){if(Array.isArray(R))return R.map(ln);if(R instanceof Object&&!(R instanceof Number||R instanceof String||R instanceof Boolean)){var I={};for(var V in R)I[V]=ln(R[V]);return I}return hn(R)}var Er=function(R){function I(V,q){R.call(this,q),this.message=q,this.key=V}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I}(Error),Yr=function(I,V){void 0===V&&(V=[]),this.parent=I,this.bindings={};for(var q=0,ct=V;q<ct.length;q+=1){var mt=ct[q];this.bindings[mt[0]]=mt[1]}};Yr.prototype.concat=function(I){return new Yr(this,I)},Yr.prototype.get=function(I){if(this.bindings[I])return this.bindings[I];if(this.parent)return this.parent.get(I);throw new Error(I+" not found in scope.")},Yr.prototype.has=function(I){return!!this.bindings[I]||!!this.parent&&this.parent.has(I)};var je={kind:"null"},xr={kind:"number"},Be={kind:"string"},Ve={kind:"boolean"},vr={kind:"color"},Hr={kind:"object"},rn={kind:"value"},$n={kind:"collator"},na={kind:"formatted"},Ta={kind:"resolvedImage"};function ni(R,I){return{kind:"array",itemType:R,N:I}}function ei(R){if("array"===R.kind){var I=ei(R.itemType);return"number"==typeof R.N?"array<"+I+", "+R.N+">":"value"===R.itemType.kind?"array":"array<"+I+">"}return R.kind}var lo=[je,xr,Be,Ve,vr,na,Hr,ni(rn),Ta];function ro(R,I){if("error"===I.kind)return null;if("array"===R.kind){if("array"===I.kind&&(0===I.N&&"value"===I.itemType.kind||!ro(R.itemType,I.itemType))&&("number"!=typeof R.N||R.N===I.N))return null}else{if(R.kind===I.kind)return null;if("value"===R.kind)for(var V=0,q=lo;V<q.length;V+=1)if(!ro(q[V],I))return null}return"Expected "+ei(R)+" but found "+ei(I)+" instead."}function ss(R,I){return I.some(function(V){return V.kind===R.kind})}function Qi(R,I){return I.some(function(V){return"null"===V?null===R:"array"===V?Array.isArray(R):"object"===V?R&&!Array.isArray(R)&&"object"==typeof R:V===typeof R})}var zs=P(function(R,I){var V={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function q(me){return(me=Math.round(me))<0?0:me>255?255:me}function mt(me){return q("%"===me[me.length-1]?parseFloat(me)/100*255:parseInt(me))}function At(me){return function ct(me){return me<0?0:me>1?1:me}("%"===me[me.length-1]?parseFloat(me)/100:parseFloat(me))}function Jt(me,Ae,He){return He<0?He+=1:He>1&&(He-=1),6*He<1?me+(Ae-me)*He*6:2*He<1?Ae:3*He<2?me+(Ae-me)*(2/3-He)*6:me}try{I.parseCSSColor=function ue(me){var He,Ae=me.replace(/ /g,"").toLowerCase();if(Ae in V)return V[Ae].slice();if("#"===Ae[0])return 4===Ae.length?(He=parseInt(Ae.substr(1),16))>=0&&He<=4095?[(3840&He)>>4|(3840&He)>>8,240&He|(240&He)>>4,15&He|(15&He)<<4,1]:null:7===Ae.length&&(He=parseInt(Ae.substr(1),16))>=0&&He<=16777215?[(16711680&He)>>16,(65280&He)>>8,255&He,1]:null;var er=Ae.indexOf("("),Je=Ae.indexOf(")");if(-1!==er&&Je+1===Ae.length){var mr=Ae.substr(0,er),zr=Ae.substr(er+1,Je-(er+1)).split(","),fn=1;switch(mr){case"rgba":if(4!==zr.length)return null;fn=At(zr.pop());case"rgb":return 3!==zr.length?null:[mt(zr[0]),mt(zr[1]),mt(zr[2]),fn];case"hsla":if(4!==zr.length)return null;fn=At(zr.pop());case"hsl":if(3!==zr.length)return null;var qr=(parseFloat(zr[0])%360+360)%360/360,Mn=At(zr[1]),mn=At(zr[2]),An=mn<=.5?mn*(Mn+1):mn+Mn-mn*Mn,Dn=2*mn-An;return[q(255*Jt(Dn,An,qr+1/3)),q(255*Jt(Dn,An,qr)),q(255*Jt(Dn,An,qr-1/3)),fn];default:return null}}return null}}catch(me){}}).parseCSSColor,ti=function(I,V,q,ct){void 0===ct&&(ct=1),this.r=I,this.g=V,this.b=q,this.a=ct};ti.parse=function(I){if(I){if(I instanceof ti)return I;if("string"==typeof I){var V=zs(I);if(V)return new ti(V[0]/255*V[3],V[1]/255*V[3],V[2]/255*V[3],V[3])}}},ti.prototype.toString=function(){var I=this.toArray(),q=I[1],ct=I[2],mt=I[3];return"rgba("+Math.round(I[0])+","+Math.round(q)+","+Math.round(ct)+","+mt+")"},ti.prototype.toArray=function(){var I=this,mt=I.a;return 0===mt?[0,0,0,0]:[255*I.r/mt,255*I.g/mt,255*I.b/mt,mt]},ti.black=new ti(0,0,0,1),ti.white=new ti(1,1,1,1),ti.transparent=new ti(0,0,0,0),ti.red=new ti(1,0,0,1);var ws=function(I,V,q){this.sensitivity=I?V?"variant":"case":V?"accent":"base",this.locale=q,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ws.prototype.compare=function(I,V){return this.collator.compare(I,V)},ws.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var _l=function(I,V,q,ct,mt){this.text=I,this.image=V,this.scale=q,this.fontStack=ct,this.textColor=mt},Ri=function(I){this.sections=I};Ri.fromString=function(I){return new Ri([new _l(I,null,null,null,null)])},Ri.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(I){return 0!==I.text.length||I.image&&0!==I.image.name.length})},Ri.factory=function(I){return I instanceof Ri?I:Ri.fromString(I)},Ri.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(I){return I.text}).join("")},Ri.prototype.serialize=function(){for(var I=["format"],V=0,q=this.sections;V<q.length;V+=1){var ct=q[V];if(ct.image)I.push(["image",ct.image.name]);else{I.push(ct.text);var mt={};ct.fontStack&&(mt["text-font"]=["literal",ct.fontStack.split(",")]),ct.scale&&(mt["font-scale"]=ct.scale),ct.textColor&&(mt["text-color"]=["rgba"].concat(ct.textColor.toArray())),I.push(mt)}}return I};var no=function(I){this.name=I.name,this.available=I.available};function Cu(R,I,V,q){return"number"==typeof R&&R>=0&&R<=255&&"number"==typeof I&&I>=0&&I<=255&&"number"==typeof V&&V>=0&&V<=255?void 0===q||"number"==typeof q&&q>=0&&q<=1?null:"Invalid rgba value ["+[R,I,V,q].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof q?[R,I,V,q]:[R,I,V]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Fl(R){if(null===R)return!0;if("string"==typeof R)return!0;if("boolean"==typeof R)return!0;if("number"==typeof R)return!0;if(R instanceof ti)return!0;if(R instanceof ws)return!0;if(R instanceof Ri)return!0;if(R instanceof no)return!0;if(Array.isArray(R)){for(var I=0,V=R;I<V.length;I+=1)if(!Fl(V[I]))return!1;return!0}if("object"==typeof R){for(var ct in R)if(!Fl(R[ct]))return!1;return!0}return!1}function Ii(R){if(null===R)return je;if("string"==typeof R)return Be;if("boolean"==typeof R)return Ve;if("number"==typeof R)return xr;if(R instanceof ti)return vr;if(R instanceof ws)return $n;if(R instanceof Ri)return na;if(R instanceof no)return Ta;if(Array.isArray(R)){for(var V,I=R.length,q=0,ct=R;q<ct.length;q+=1){var At=Ii(ct[q]);if(V){if(V===At)continue;V=rn;break}V=At}return ni(V||rn,I)}return Hr}function jo(R){var I=typeof R;return null===R?"":"string"===I||"number"===I||"boolean"===I?String(R):R instanceof ti||R instanceof Ri||R instanceof no?R.toString():JSON.stringify(R)}no.prototype.toString=function(){return this.name},no.fromString=function(I){return I?new no({name:I,available:!1}):null},no.prototype.serialize=function(){return["image",this.name]};var mo=function(I,V){this.type=I,this.value=V};mo.parse=function(I,V){if(2!==I.length)return V.error("'literal' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(!Fl(I[1]))return V.error("invalid value");var q=I[1],ct=Ii(q),mt=V.expectedType;return"array"===ct.kind&&0===ct.N&&mt&&"array"===mt.kind&&("number"!=typeof mt.N||0===mt.N)&&(ct=mt),new mo(ct,q)},mo.prototype.evaluate=function(){return this.value},mo.prototype.eachChild=function(){},mo.prototype.outputDefined=function(){return!0},mo.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ti?["rgba"].concat(this.value.toArray()):this.value instanceof Ri?this.value.serialize():this.value};var Li=function(I){this.name="ExpressionEvaluationError",this.message=I};Li.prototype.toJSON=function(){return this.message};var kl={string:Be,number:xr,boolean:Ve,object:Hr},wi=function(I,V){this.type=I,this.args=V};wi.parse=function(I,V){if(I.length<2)return V.error("Expected at least one argument.");var ct,q=1,mt=I[0];if("array"===mt){var At,ue;if(I.length>2){var Jt=I[1];if("string"!=typeof Jt||!(Jt in kl)||"object"===Jt)return V.error('The item type argument of "array" must be one of string, number, boolean',1);At=kl[Jt],q++}else At=rn;if(I.length>3){if(null!==I[2]&&("number"!=typeof I[2]||I[2]<0||I[2]!==Math.floor(I[2])))return V.error('The length argument to "array" must be a positive integer literal',2);ue=I[2],q++}ct=ni(At,ue)}else ct=kl[mt];for(var me=[];q<I.length;q++){var Ae=V.parse(I[q],q,rn);if(!Ae)return null;me.push(Ae)}return new wi(ct,me)},wi.prototype.evaluate=function(I){for(var V=0;V<this.args.length;V++){var q=this.args[V].evaluate(I);if(!ro(this.type,Ii(q)))return q;if(V===this.args.length-1)throw new Li("Expected value to be of type "+ei(this.type)+", but found "+ei(Ii(q))+" instead.")}return null},wi.prototype.eachChild=function(I){this.args.forEach(I)},wi.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},wi.prototype.serialize=function(){var I=this.type,V=[I.kind];if("array"===I.kind){var q=I.itemType;if("string"===q.kind||"number"===q.kind||"boolean"===q.kind){V.push(q.kind);var ct=I.N;("number"==typeof ct||this.args.length>1)&&V.push(ct)}}return V.concat(this.args.map(function(mt){return mt.serialize()}))};var ko=function(I){this.type=na,this.sections=I};ko.parse=function(I,V){if(I.length<2)return V.error("Expected at least one argument.");var q=I[1];if(!Array.isArray(q)&&"object"==typeof q)return V.error("First argument must be an image or text section.");for(var ct=[],mt=!1,At=1;At<=I.length-1;++At){var Jt=I[At];if(mt&&"object"==typeof Jt&&!Array.isArray(Jt)){mt=!1;var ue=null;if(Jt["font-scale"]&&!(ue=V.parse(Jt["font-scale"],1,xr)))return null;var me=null;if(Jt["text-font"]&&!(me=V.parse(Jt["text-font"],1,ni(Be))))return null;var Ae=null;if(Jt["text-color"]&&!(Ae=V.parse(Jt["text-color"],1,vr)))return null;var He=ct[ct.length-1];He.scale=ue,He.font=me,He.textColor=Ae}else{var er=V.parse(I[At],1,rn);if(!er)return null;var Je=er.type.kind;if("string"!==Je&&"value"!==Je&&"null"!==Je&&"resolvedImage"!==Je)return V.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");mt=!0,ct.push({content:er,scale:null,font:null,textColor:null})}}return new ko(ct)},ko.prototype.evaluate=function(I){return new Ri(this.sections.map(function(q){var ct=q.content.evaluate(I);return Ii(ct)===Ta?new _l("",ct,null,null,null):new _l(jo(ct),null,q.scale?q.scale.evaluate(I):null,q.font?q.font.evaluate(I).join(","):null,q.textColor?q.textColor.evaluate(I):null)}))},ko.prototype.eachChild=function(I){for(var V=0,q=this.sections;V<q.length;V+=1){var ct=q[V];I(ct.content),ct.scale&&I(ct.scale),ct.font&&I(ct.font),ct.textColor&&I(ct.textColor)}},ko.prototype.outputDefined=function(){return!1},ko.prototype.serialize=function(){for(var I=["format"],V=0,q=this.sections;V<q.length;V+=1){var ct=q[V];I.push(ct.content.serialize());var mt={};ct.scale&&(mt["font-scale"]=ct.scale.serialize()),ct.font&&(mt["text-font"]=ct.font.serialize()),ct.textColor&&(mt["text-color"]=ct.textColor.serialize()),I.push(mt)}return I};var uo=function(I){this.type=Ta,this.input=I};uo.parse=function(I,V){if(2!==I.length)return V.error("Expected two arguments.");var q=V.parse(I[1],1,Be);return q?new uo(q):V.error("No image name provided.")},uo.prototype.evaluate=function(I){var V=this.input.evaluate(I),q=no.fromString(V);return q&&I.availableImages&&(q.available=I.availableImages.indexOf(V)>-1),q},uo.prototype.eachChild=function(I){I(this.input)},uo.prototype.outputDefined=function(){return!1},uo.prototype.serialize=function(){return["image",this.input.serialize()]};var il={"to-boolean":Ve,"to-color":vr,"to-number":xr,"to-string":Be},Ui=function(I,V){this.type=I,this.args=V};Ui.parse=function(I,V){if(I.length<2)return V.error("Expected at least one argument.");var q=I[0];if(("to-boolean"===q||"to-string"===q)&&2!==I.length)return V.error("Expected one argument.");for(var ct=il[q],mt=[],At=1;At<I.length;At++){var Jt=V.parse(I[At],At,rn);if(!Jt)return null;mt.push(Jt)}return new Ui(ct,mt)},Ui.prototype.evaluate=function(I){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(I));if("color"===this.type.kind){for(var V,q,ct=0,mt=this.args;ct<mt.length;ct+=1){if(q=null,(V=mt[ct].evaluate(I))instanceof ti)return V;if("string"==typeof V){var Jt=I.parseColor(V);if(Jt)return Jt}else if(Array.isArray(V)&&!(q=V.length<3||V.length>4?"Invalid rbga value "+JSON.stringify(V)+": expected an array containing either three or four numeric values.":Cu(V[0],V[1],V[2],V[3])))return new ti(V[0]/255,V[1]/255,V[2]/255,V[3])}throw new Li(q||"Could not parse color from value '"+("string"==typeof V?V:String(JSON.stringify(V)))+"'")}if("number"===this.type.kind){for(var ue=null,me=0,Ae=this.args;me<Ae.length;me+=1){if(null===(ue=Ae[me].evaluate(I)))return 0;var er=Number(ue);if(!isNaN(er))return er}throw new Li("Could not convert "+JSON.stringify(ue)+" to number.")}return"formatted"===this.type.kind?Ri.fromString(jo(this.args[0].evaluate(I))):"resolvedImage"===this.type.kind?no.fromString(jo(this.args[0].evaluate(I))):jo(this.args[0].evaluate(I))},Ui.prototype.eachChild=function(I){this.args.forEach(I)},Ui.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},Ui.prototype.serialize=function(){if("formatted"===this.type.kind)return new ko([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new uo(this.args[0]).serialize();var I=["to-"+this.type.kind];return this.eachChild(function(V){I.push(V.serialize())}),I};var Os=["Unknown","Point","LineString","Polygon"],Ko=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Ko.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Ko.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Os[this.feature.type]:this.feature.type:null},Ko.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Ko.prototype.canonicalID=function(){return this.canonical},Ko.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Ko.prototype.parseColor=function(I){var V=this._parseColorCache[I];return V||(V=this._parseColorCache[I]=ti.parse(I)),V};var Oi=function(I,V,q,ct){this.name=I,this.type=V,this._evaluate=q,this.args=ct};Oi.prototype.evaluate=function(I){return this._evaluate(I,this.args)},Oi.prototype.eachChild=function(I){this.args.forEach(I)},Oi.prototype.outputDefined=function(){return!1},Oi.prototype.serialize=function(){return[this.name].concat(this.args.map(function(I){return I.serialize()}))},Oi.parse=function(I,V){var q,ct=I[0],mt=Oi.definitions[ct];if(!mt)return V.error('Unknown expression "'+ct+'". If you wanted a literal array, use ["literal", [...]].',0);for(var At=Array.isArray(mt)?mt[0]:mt.type,Jt=Array.isArray(mt)?[[mt[1],mt[2]]]:mt.overloads,ue=Jt.filter(function(pa){var ba=pa[0];return!Array.isArray(ba)||ba.length===I.length-1}),me=null,Ae=0,He=ue;Ae<He.length;Ae+=1){var er=He[Ae],Je=er[0],mr=er[1];me=new us(V.registry,V.path,null,V.scope);for(var zr=[],fn=!1,qr=1;qr<I.length;qr++){var Mn=I[qr],mn=Array.isArray(Je)?Je[qr-1]:Je.type,An=me.parse(Mn,1+zr.length,mn);if(!An){fn=!0;break}zr.push(An)}if(!fn){if(Array.isArray(Je)&&Je.length!==zr.length){me.error("Expected "+Je.length+" arguments, but found "+zr.length+" instead.");continue}for(var Dn=0;Dn<zr.length;Dn++){var Bn=Array.isArray(Je)?Je[Dn]:Je.type,Yn=zr[Dn];me.concat(Dn+1).checkSubtype(Bn,Yn.type)}if(0===me.errors.length)return new Oi(ct,At,mr,zr)}}if(1===ue.length)(q=V.errors).push.apply(q,me.errors);else{for(var da=(ue.length?ue:Jt).map(function(pa){return function of(R){return Array.isArray(R)?"("+R.map(ei).join(", ")+")":"("+ei(R.type)+"...)"}(pa[0])}).join(" | "),sa=[],ha=1;ha<I.length;ha++){var Ia=V.parse(I[ha],1+sa.length);if(!Ia)return null;sa.push(ei(Ia.type))}V.error("Expected arguments of type "+da+", but found ("+sa.join(", ")+") instead.")}return null},Oi.register=function(I,V){for(var q in Oi.definitions=V,V)I[q]=Oi};var Jo=function(I,V,q){this.type=$n,this.locale=q,this.caseSensitive=I,this.diacriticSensitive=V};Jo.parse=function(I,V){if(2!==I.length)return V.error("Expected one argument.");var q=I[1];if("object"!=typeof q||Array.isArray(q))return V.error("Collator options argument must be an object.");var ct=V.parse(void 0!==q["case-sensitive"]&&q["case-sensitive"],1,Ve);if(!ct)return null;var mt=V.parse(void 0!==q["diacritic-sensitive"]&&q["diacritic-sensitive"],1,Ve);if(!mt)return null;var At=null;return q.locale&&!(At=V.parse(q.locale,1,Be))?null:new Jo(ct,mt,At)},Jo.prototype.evaluate=function(I){return new ws(this.caseSensitive.evaluate(I),this.diacriticSensitive.evaluate(I),this.locale?this.locale.evaluate(I):null)},Jo.prototype.eachChild=function(I){I(this.caseSensitive),I(this.diacriticSensitive),this.locale&&I(this.locale)},Jo.prototype.outputDefined=function(){return!1},Jo.prototype.serialize=function(){var I={};return I["case-sensitive"]=this.caseSensitive.serialize(),I["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(I.locale=this.locale.serialize()),["collator",I]};var Qo=8192;function Bs(R,I){R[0]=Math.min(R[0],I[0]),R[1]=Math.min(R[1],I[1]),R[2]=Math.max(R[2],I[0]),R[3]=Math.max(R[3],I[1])}function zl(R,I){return!(R[0]<=I[0]||R[2]>=I[2]||R[1]<=I[1]||R[3]>=I[3])}function lf(R,I){var V=function sf(R){return(180+R)/360}(R[0]),q=function Lu(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}(R[1]),ct=Math.pow(2,I.z);return[Math.round(V*ct*Qo),Math.round(q*ct*Qo)]}function uf(R,I,V){var q=R[0]-I[0],ct=R[1]-I[1],mt=R[0]-V[0],At=R[1]-V[1];return q*At-mt*ct==0&&q*mt<=0&&ct*At<=0}function ff(R,I,V){return I[1]>R[1]!=V[1]>R[1]&&R[0]<(V[0]-I[0])*(R[1]-I[1])/(V[1]-I[1])+I[0]}function ql(R,I){for(var V=!1,q=0,ct=I.length;q<ct;q++)for(var mt=I[q],At=0,Jt=mt.length;At<Jt-1;At++){if(uf(R,mt[At],mt[At+1]))return!1;ff(R,mt[At],mt[At+1])&&(V=!V)}return V}function cf(R,I){for(var V=0;V<I.length;V++)if(ql(R,I[V]))return!0;return!1}function Pu(R,I,V,q){var ue=q[0]-V[0],me=q[1]-V[1],Ae=(R[0]-V[0])*me-ue*(R[1]-V[1]),He=(I[0]-V[0])*me-ue*(I[1]-V[1]);return Ae>0&&He<0||Ae<0&&He>0}function vf(R,I,V,q){return 0!==function hf(R,I){return R[0]*I[1]-R[1]*I[0]}([q[0]-V[0],q[1]-V[1]],[I[0]-R[0],I[1]-R[1]])&&!(!Pu(R,I,V,q)||!Pu(V,q,R,I))}function df(R,I,V){for(var q=0,ct=V;q<ct.length;q+=1)for(var mt=ct[q],At=0;At<mt.length-1;++At)if(vf(R,I,mt[At],mt[At+1]))return!0;return!1}function Ts(R,I){for(var V=0;V<R.length;++V)if(!ql(R[V],I))return!1;for(var q=0;q<R.length-1;++q)if(df(R[q],R[q+1],I))return!1;return!0}function ol(R,I){for(var V=0;V<I.length;V++)if(Ts(R,I[V]))return!0;return!1}function As(R,I,V){for(var q=[],ct=0;ct<R.length;ct++){for(var mt=[],At=0;At<R[ct].length;At++){var Jt=lf(R[ct][At],V);Bs(I,Jt),mt.push(Jt)}q.push(mt)}return q}function sl(R,I,V){for(var q=[],ct=0;ct<R.length;ct++){var mt=As(R[ct],I,V);q.push(mt)}return q}function tu(R,I,V,q){if(R[0]<V[0]||R[0]>V[2]){var ct=.5*q,mt=R[0]-V[0]>ct?-q:V[0]-R[0]>ct?q:0;0===mt&&(mt=R[0]-V[2]>ct?-q:V[2]-R[0]>ct?q:0),R[0]+=mt}Bs(I,R)}function Du(R,I,V,q){for(var ct=Math.pow(2,q.z)*Qo,mt=[q.x*Qo,q.y*Qo],At=[],Jt=0,ue=R;Jt<ue.length;Jt+=1)for(var Ae=0,He=ue[Jt];Ae<He.length;Ae+=1){var er=He[Ae],Je=[er.x+mt[0],er.y+mt[1]];tu(Je,I,V,ct),At.push(Je)}return At}function $o(R,I,V,q){for(var ct=Math.pow(2,q.z)*Qo,mt=[q.x*Qo,q.y*Qo],At=[],Jt=0,ue=R;Jt<ue.length;Jt+=1){for(var Ae=[],He=0,er=ue[Jt];He<er.length;He+=1){var Je=er[He],mr=[Je.x+mt[0],Je.y+mt[1]];Bs(I,mr),Ae.push(mr)}At.push(Ae)}if(I[2]-I[0]<=ct/2){!function eu(R){R[0]=R[1]=1/0,R[2]=R[3]=-1/0}(I);for(var zr=0,fn=At;zr<fn.length;zr+=1)for(var Mn=0,mn=fn[zr];Mn<mn.length;Mn+=1)tu(mn[Mn],I,V,ct)}return At}var oo=function(I,V){this.type=Ve,this.geojson=I,this.geometries=V};function Ol(R){if(R instanceof Oi){if("get"===R.name&&1===R.args.length)return!1;if("feature-state"===R.name)return!1;if("has"===R.name&&1===R.args.length)return!1;if("properties"===R.name||"geometry-type"===R.name||"id"===R.name)return!1;if(/^filter-/.test(R.name))return!1}if(R instanceof oo)return!1;var I=!0;return R.eachChild(function(V){I&&!Ol(V)&&(I=!1)}),I}function zo(R){if(R instanceof Oi&&"feature-state"===R.name)return!1;var I=!0;return R.eachChild(function(V){I&&!zo(V)&&(I=!1)}),I}function Bl(R,I){if(R instanceof Oi&&I.indexOf(R.name)>=0)return!1;var V=!0;return R.eachChild(function(q){V&&!Bl(q,I)&&(V=!1)}),V}oo.parse=function(I,V){if(2!==I.length)return V.error("'within' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(Fl(I[1])){var q=I[1];if("FeatureCollection"===q.type)for(var ct=0;ct<q.features.length;++ct){var mt=q.features[ct].geometry.type;if("Polygon"===mt||"MultiPolygon"===mt)return new oo(q,q.features[ct].geometry)}else if("Feature"===q.type){var At=q.geometry.type;if("Polygon"===At||"MultiPolygon"===At)return new oo(q,q.geometry)}else if("Polygon"===q.type||"MultiPolygon"===q.type)return new oo(q,q)}return V.error("'within' expression requires valid geojson object that contains polygon geometry type.")},oo.prototype.evaluate=function(I){if(null!=I.geometry()&&null!=I.canonicalID()){if("Point"===I.geometryType())return function pf(R,I){var V=[1/0,1/0,-1/0,-1/0],q=[1/0,1/0,-1/0,-1/0],ct=R.canonicalID();if("Polygon"===I.type){var mt=As(I.coordinates,q,ct),At=Du(R.geometry(),V,q,ct);if(!zl(V,q))return!1;for(var Jt=0,ue=At;Jt<ue.length;Jt+=1)if(!ql(ue[Jt],mt))return!1}if("MultiPolygon"===I.type){var Ae=sl(I.coordinates,q,ct),He=Du(R.geometry(),V,q,ct);if(!zl(V,q))return!1;for(var er=0,Je=He;er<Je.length;er+=1)if(!cf(Je[er],Ae))return!1}return!0}(I,this.geometries);if("LineString"===I.geometryType())return function Ru(R,I){var V=[1/0,1/0,-1/0,-1/0],q=[1/0,1/0,-1/0,-1/0],ct=R.canonicalID();if("Polygon"===I.type){var mt=As(I.coordinates,q,ct),At=$o(R.geometry(),V,q,ct);if(!zl(V,q))return!1;for(var Jt=0,ue=At;Jt<ue.length;Jt+=1)if(!Ts(ue[Jt],mt))return!1}if("MultiPolygon"===I.type){var Ae=sl(I.coordinates,q,ct),He=$o(R.geometry(),V,q,ct);if(!zl(V,q))return!1;for(var er=0,Je=He;er<Je.length;er+=1)if(!ol(Je[er],Ae))return!1}return!0}(I,this.geometries)}return!1},oo.prototype.eachChild=function(){},oo.prototype.outputDefined=function(){return!0},oo.prototype.serialize=function(){return["within",this.geojson]};var ls=function(I,V){this.type=V.type,this.name=I,this.boundExpression=V};ls.parse=function(I,V){if(2!==I.length||"string"!=typeof I[1])return V.error("'var' expression requires exactly one string literal argument.");var q=I[1];return V.scope.has(q)?new ls(q,V.scope.get(q)):V.error('Unknown variable "'+q+'". Make sure "'+q+'" has been bound in an enclosing "let" expression before using it.',1)},ls.prototype.evaluate=function(I){return this.boundExpression.evaluate(I)},ls.prototype.eachChild=function(){},ls.prototype.outputDefined=function(){return!1},ls.prototype.serialize=function(){return["var",this.name]};var us=function(I,V,q,ct,mt){void 0===V&&(V=[]),void 0===ct&&(ct=new Yr),void 0===mt&&(mt=[]),this.registry=I,this.path=V,this.key=V.map(function(At){return"["+At+"]"}).join(""),this.scope=ct,this.errors=mt,this.expectedType=q};function Ns(R){if(R instanceof ls)return Ns(R.boundExpression);if(R instanceof Oi&&"error"===R.name)return!1;if(R instanceof Jo)return!1;if(R instanceof oo)return!1;var I=R instanceof Ui||R instanceof wi,V=!0;return R.eachChild(function(q){V=I?V&&Ns(q):V&&q instanceof mo}),!!V&&Ol(R)&&Bl(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Nl(R,I){for(var At,V=R.length-1,q=0,ct=V,mt=0;q<=ct;)if((At=R[mt=Math.floor((q+ct)/2)])<=I){if(mt===V||I<R[mt+1])return mt;q=mt+1}else{if(!(At>I))throw new Li("Input is not a number.");ct=mt-1}return 0}us.prototype.parse=function(I,V,q,ct,mt){return void 0===mt&&(mt={}),V?this.concat(V,q,ct)._parse(I,mt):this._parse(I,mt)},us.prototype._parse=function(I,V){function q(Ae,He,er){return"assert"===er?new wi(He,[Ae]):"coerce"===er?new Ui(He,[Ae]):Ae}if((null===I||"string"==typeof I||"boolean"==typeof I||"number"==typeof I)&&(I=["literal",I]),Array.isArray(I)){if(0===I.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ct=I[0];if("string"!=typeof ct)return this.error("Expression name must be a string, but found "+typeof ct+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var mt=this.registry[ct];if(mt){var At=mt.parse(I,this);if(!At)return null;if(this.expectedType){var Jt=this.expectedType,ue=At.type;if("string"!==Jt.kind&&"number"!==Jt.kind&&"boolean"!==Jt.kind&&"object"!==Jt.kind&&"array"!==Jt.kind||"value"!==ue.kind)if("color"!==Jt.kind&&"formatted"!==Jt.kind&&"resolvedImage"!==Jt.kind||"value"!==ue.kind&&"string"!==ue.kind){if(this.checkSubtype(Jt,ue))return null}else At=q(At,Jt,V.typeAnnotation||"coerce");else At=q(At,Jt,V.typeAnnotation||"assert")}if(!(At instanceof mo)&&"resolvedImage"!==At.type.kind&&Ns(At)){var me=new Ko;try{At=new mo(At.type,At.evaluate(me))}catch(Ae){return this.error(Ae.message),null}}return At}return this.error('Unknown expression "'+ct+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===I?"'undefined' value invalid. Use null instead.":"object"==typeof I?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof I+" instead.")},us.prototype.concat=function(I,V,q){var ct="number"==typeof I?this.path.concat(I):this.path,mt=q?this.scope.concat(q):this.scope;return new us(this.registry,ct,V||null,mt,this.errors)},us.prototype.error=function(I){for(var V=[],q=arguments.length-1;q-- >0;)V[q]=arguments[q+1];var ct=""+this.key+V.map(function(mt){return"["+mt+"]"}).join("");this.errors.push(new Er(ct,I))},us.prototype.checkSubtype=function(I,V){var q=ro(I,V);return q&&this.error(q),q};var xo=function(I,V,q){this.type=I,this.input=V,this.labels=[],this.outputs=[];for(var ct=0,mt=q;ct<mt.length;ct+=1){var At=mt[ct],ue=At[1];this.labels.push(At[0]),this.outputs.push(ue)}};function Pi(R,I,V){return R*(1-V)+I*V}xo.parse=function(I,V){if(I.length-1<4)return V.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!=0)return V.error("Expected an even number of arguments.");var q=V.parse(I[1],1,xr);if(!q)return null;var ct=[],mt=null;V.expectedType&&"value"!==V.expectedType.kind&&(mt=V.expectedType);for(var At=1;At<I.length;At+=2){var Jt=1===At?-1/0:I[At],ue=I[At+1],me=At,Ae=At+1;if("number"!=typeof Jt)return V.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',me);if(ct.length&&ct[ct.length-1][0]>=Jt)return V.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',me);var He=V.parse(ue,Ae,mt);if(!He)return null;mt=mt||He.type,ct.push([Jt,He])}return new xo(mt,q,ct)},xo.prototype.evaluate=function(I){var V=this.labels,q=this.outputs;if(1===V.length)return q[0].evaluate(I);var ct=this.input.evaluate(I);if(ct<=V[0])return q[0].evaluate(I);var mt=V.length;return ct>=V[mt-1]?q[mt-1].evaluate(I):q[Nl(V,ct)].evaluate(I)},xo.prototype.eachChild=function(I){I(this.input);for(var V=0,q=this.outputs;V<q.length;V+=1)I(q[V])},xo.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},xo.prototype.serialize=function(){for(var I=["step",this.input.serialize()],V=0;V<this.labels.length;V++)V>0&&I.push(this.labels[V]),I.push(this.outputs[V].serialize());return I};var ll=Object.freeze({__proto__:null,number:Pi,color:function ru(R,I,V){return new ti(Pi(R.r,I.r,V),Pi(R.g,I.g,V),Pi(R.b,I.b,V),Pi(R.a,I.a,V))},array:function nu(R,I,V){return R.map(function(q,ct){return Pi(q,I[ct],V)})}}),_o=4/29,fo=6/29,bo=3*fo*fo,gf=Math.PI/180,yf=180/Math.PI;function ul(R){return R>.008856451679035631?Math.pow(R,.3333333333333333):R/bo+_o}function Ul(R){return R>fo?R*R*R:bo*(R-_o)}function iu(R){return 255*(R<=.0031308?12.92*R:1.055*Math.pow(R,.4166666666666667)-.055)}function Us(R){return(R/=255)<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function ou(R){var I=Us(R.r),V=Us(R.g),q=Us(R.b),ct=ul((.4124564*I+.3575761*V+.1804375*q)/.95047),mt=ul((.2126729*I+.7151522*V+.072175*q)/1);return{l:116*mt-16,a:500*(ct-mt),b:200*(mt-ul((.0193339*I+.119192*V+.9503041*q)/1.08883)),alpha:R.a}}function su(R){var I=(R.l+16)/116,V=isNaN(R.a)?I:I+R.a/500,q=isNaN(R.b)?I:I-R.b/200;return I=1*Ul(I),V=.95047*Ul(V),q=1.08883*Ul(q),new ti(iu(3.2404542*V-1.5371385*I-.4985314*q),iu(-.969266*V+1.8760108*I+.041556*q),iu(.0556434*V-.2040259*I+1.0572252*q),R.alpha)}function qo(R,I,V){var q=I-R;return R+V*(q>180||q<-180?q-360*Math.round(q/360):q)}var Hs={forward:ou,reverse:su,interpolate:function vi(R,I,V){return{l:Pi(R.l,I.l,V),a:Pi(R.a,I.a,V),b:Pi(R.b,I.b,V),alpha:Pi(R.alpha,I.alpha,V)}}},Gs={forward:function Vs(R){var I=ou(R),V=I.l,q=I.a,ct=I.b,mt=Math.atan2(ct,q)*yf;return{h:mt<0?mt+360:mt,c:Math.sqrt(q*q+ct*ct),l:V,alpha:R.a}},reverse:function Ms(R){var I=R.h*gf,V=R.c;return su({l:R.l,a:Math.cos(I)*V,b:Math.sin(I)*V,alpha:R.alpha})},interpolate:function zu(R,I,V){return{h:qo(R.h,I.h,V),c:Pi(R.c,I.c,V),l:Pi(R.l,I.l,V),alpha:Pi(R.alpha,I.alpha,V)}}},Ws=Object.freeze({__proto__:null,lab:Hs,hcl:Gs}),Vi=function(I,V,q,ct,mt){this.type=I,this.operator=V,this.interpolation=q,this.input=ct,this.labels=[],this.outputs=[];for(var At=0,Jt=mt;At<Jt.length;At+=1){var ue=Jt[At],Ae=ue[1];this.labels.push(ue[0]),this.outputs.push(Ae)}};function Ss(R,I,V,q){var ct=q-V,mt=R-V;return 0===ct?0:1===I?mt/ct:(Math.pow(I,mt)-1)/(Math.pow(I,ct)-1)}Vi.interpolationFactor=function(I,V,q,ct){var mt=0;if("exponential"===I.name)mt=Ss(V,I.base,q,ct);else if("linear"===I.name)mt=Ss(V,1,q,ct);else if("cubic-bezier"===I.name){var At=I.controlPoints;mt=new l(At[0],At[1],At[2],At[3]).solve(Ss(V,1,q,ct))}return mt},Vi.parse=function(I,V){var q=I[0],ct=I[1],mt=I[2],At=I.slice(3);if(!Array.isArray(ct)||0===ct.length)return V.error("Expected an interpolation type expression.",1);if("linear"===ct[0])ct={name:"linear"};else if("exponential"===ct[0]){var Jt=ct[1];if("number"!=typeof Jt)return V.error("Exponential interpolation requires a numeric base.",1,1);ct={name:"exponential",base:Jt}}else{if("cubic-bezier"!==ct[0])return V.error("Unknown interpolation type "+String(ct[0]),1,0);var ue=ct.slice(1);if(4!==ue.length||ue.some(function(qr){return"number"!=typeof qr||qr<0||qr>1}))return V.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ct={name:"cubic-bezier",controlPoints:ue}}if(I.length-1<4)return V.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!=0)return V.error("Expected an even number of arguments.");if(!(mt=V.parse(mt,2,xr)))return null;var me=[],Ae=null;"interpolate-hcl"===q||"interpolate-lab"===q?Ae=vr:V.expectedType&&"value"!==V.expectedType.kind&&(Ae=V.expectedType);for(var He=0;He<At.length;He+=2){var er=At[He],Je=At[He+1],mr=He+3,zr=He+4;if("number"!=typeof er)return V.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',mr);if(me.length&&me[me.length-1][0]>=er)return V.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',mr);var fn=V.parse(Je,zr,Ae);if(!fn)return null;Ae=Ae||fn.type,me.push([er,fn])}return"number"===Ae.kind||"color"===Ae.kind||"array"===Ae.kind&&"number"===Ae.itemType.kind&&"number"==typeof Ae.N?new Vi(Ae,q,ct,mt,me):V.error("Type "+ei(Ae)+" is not interpolatable.")},Vi.prototype.evaluate=function(I){var V=this.labels,q=this.outputs;if(1===V.length)return q[0].evaluate(I);var ct=this.input.evaluate(I);if(ct<=V[0])return q[0].evaluate(I);var mt=V.length;if(ct>=V[mt-1])return q[mt-1].evaluate(I);var At=Nl(V,ct),me=Vi.interpolationFactor(this.interpolation,ct,V[At],V[At+1]),Ae=q[At].evaluate(I),He=q[At+1].evaluate(I);return"interpolate"===this.operator?ll[this.type.kind.toLowerCase()](Ae,He,me):"interpolate-hcl"===this.operator?Gs.reverse(Gs.interpolate(Gs.forward(Ae),Gs.forward(He),me)):Hs.reverse(Hs.interpolate(Hs.forward(Ae),Hs.forward(He),me))},Vi.prototype.eachChild=function(I){I(this.input);for(var V=0,q=this.outputs;V<q.length;V+=1)I(q[V])},Vi.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},Vi.prototype.serialize=function(){var I;I="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var V=[this.operator,I,this.input.serialize()],q=0;q<this.labels.length;q++)V.push(this.labels[q],this.outputs[q].serialize());return V};var wo=function(I,V){this.type=I,this.args=V};wo.parse=function(I,V){if(I.length<2)return V.error("Expectected at least one argument.");var q=null,ct=V.expectedType;ct&&"value"!==ct.kind&&(q=ct);for(var mt=[],At=0,Jt=I.slice(1);At<Jt.length;At+=1){var me=V.parse(Jt[At],1+mt.length,q,void 0,{typeAnnotation:"omit"});if(!me)return null;q=q||me.type,mt.push(me)}var Ae=ct&&mt.some(function(He){return ro(ct,He.type)});return new wo(Ae?rn:q,mt)},wo.prototype.evaluate=function(I){for(var ct,V=null,q=0,mt=0,At=this.args;mt<At.length&&(q++,(V=At[mt].evaluate(I))&&V instanceof no&&!V.available&&(ct||(ct=V.name),V=null,q===this.args.length&&(V=ct)),null===V);mt+=1);return V},wo.prototype.eachChild=function(I){this.args.forEach(I)},wo.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},wo.prototype.serialize=function(){var I=["coalesce"];return this.eachChild(function(V){I.push(V.serialize())}),I};var Oo=function(I,V){this.type=V.type,this.bindings=[].concat(I),this.result=V};Oo.prototype.evaluate=function(I){return this.result.evaluate(I)},Oo.prototype.eachChild=function(I){for(var V=0,q=this.bindings;V<q.length;V+=1)I(q[V][1]);I(this.result)},Oo.parse=function(I,V){if(I.length<4)return V.error("Expected at least 3 arguments, but found "+(I.length-1)+" instead.");for(var q=[],ct=1;ct<I.length-1;ct+=2){var mt=I[ct];if("string"!=typeof mt)return V.error("Expected string, but found "+typeof mt+" instead.",ct);if(/[^a-zA-Z0-9_]/.test(mt))return V.error("Variable names must contain only alphanumeric characters or '_'.",ct);var At=V.parse(I[ct+1],ct+1);if(!At)return null;q.push([mt,At])}var Jt=V.parse(I[I.length-1],I.length-1,V.expectedType,q);return Jt?new Oo(q,Jt):null},Oo.prototype.outputDefined=function(){return this.result.outputDefined()},Oo.prototype.serialize=function(){for(var I=["let"],V=0,q=this.bindings;V<q.length;V+=1){var ct=q[V];I.push(ct[0],ct[1].serialize())}return I.push(this.result.serialize()),I};var ts=function(I,V,q){this.type=I,this.index=V,this.input=q};ts.parse=function(I,V){if(3!==I.length)return V.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var q=V.parse(I[1],1,xr),ct=V.parse(I[2],2,ni(V.expectedType||rn));return q&&ct?new ts(ct.type.itemType,q,ct):null},ts.prototype.evaluate=function(I){var V=this.index.evaluate(I),q=this.input.evaluate(I);if(V<0)throw new Li("Array index out of bounds: "+V+" < 0.");if(V>=q.length)throw new Li("Array index out of bounds: "+V+" > "+(q.length-1)+".");if(V!==Math.floor(V))throw new Li("Array index must be an integer, but found "+V+" instead.");return q[V]},ts.prototype.eachChild=function(I){I(this.index),I(this.input)},ts.prototype.outputDefined=function(){return!1},ts.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var fs=function(I,V){this.type=Ve,this.needle=I,this.haystack=V};fs.parse=function(I,V){if(3!==I.length)return V.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var q=V.parse(I[1],1,rn),ct=V.parse(I[2],2,rn);return q&&ct?ss(q.type,[Ve,Be,xr,je,rn])?new fs(q,ct):V.error("Expected first argument to be of type boolean, string, number or null, but found "+ei(q.type)+" instead"):null},fs.prototype.evaluate=function(I){var V=this.needle.evaluate(I),q=this.haystack.evaluate(I);if(!q)return!1;if(!Qi(V,["boolean","string","number","null"]))throw new Li("Expected first argument to be of type boolean, string, number or null, but found "+ei(Ii(V))+" instead.");if(!Qi(q,["string","array"]))throw new Li("Expected second argument to be of type array or string, but found "+ei(Ii(q))+" instead.");return q.indexOf(V)>=0},fs.prototype.eachChild=function(I){I(this.needle),I(this.haystack)},fs.prototype.outputDefined=function(){return!0},fs.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var cs=function(I,V,q){this.type=xr,this.needle=I,this.haystack=V,this.fromIndex=q};cs.parse=function(I,V){if(I.length<=2||I.length>=5)return V.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var q=V.parse(I[1],1,rn),ct=V.parse(I[2],2,rn);if(!q||!ct)return null;if(!ss(q.type,[Ve,Be,xr,je,rn]))return V.error("Expected first argument to be of type boolean, string, number or null, but found "+ei(q.type)+" instead");if(4===I.length){var mt=V.parse(I[3],3,xr);return mt?new cs(q,ct,mt):null}return new cs(q,ct)},cs.prototype.evaluate=function(I){var V=this.needle.evaluate(I),q=this.haystack.evaluate(I);if(!Qi(V,["boolean","string","number","null"]))throw new Li("Expected first argument to be of type boolean, string, number or null, but found "+ei(Ii(V))+" instead.");if(!Qi(q,["string","array"]))throw new Li("Expected second argument to be of type array or string, but found "+ei(Ii(q))+" instead.");if(this.fromIndex){var ct=this.fromIndex.evaluate(I);return q.indexOf(V,ct)}return q.indexOf(V)},cs.prototype.eachChild=function(I){I(this.needle),I(this.haystack),this.fromIndex&&I(this.fromIndex)},cs.prototype.outputDefined=function(){return!1},cs.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var I=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),I]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Bo=function(I,V,q,ct,mt,At){this.inputType=I,this.type=V,this.input=q,this.cases=ct,this.outputs=mt,this.otherwise=At};Bo.parse=function(I,V){if(I.length<5)return V.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if(I.length%2!=1)return V.error("Expected an even number of arguments.");var q,ct;V.expectedType&&"value"!==V.expectedType.kind&&(ct=V.expectedType);for(var mt={},At=[],Jt=2;Jt<I.length-1;Jt+=2){var ue=I[Jt],me=I[Jt+1];Array.isArray(ue)||(ue=[ue]);var Ae=V.concat(Jt);if(0===ue.length)return Ae.error("Expected at least one branch label.");for(var He=0,er=ue;He<er.length;He+=1){var Je=er[He];if("number"!=typeof Je&&"string"!=typeof Je)return Ae.error("Branch labels must be numbers or strings.");if("number"==typeof Je&&Math.abs(Je)>Number.MAX_SAFE_INTEGER)return Ae.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof Je&&Math.floor(Je)!==Je)return Ae.error("Numeric branch labels must be integer values.");if(q){if(Ae.checkSubtype(q,Ii(Je)))return null}else q=Ii(Je);if(void 0!==mt[String(Je)])return Ae.error("Branch labels must be unique.");mt[String(Je)]=At.length}var mr=V.parse(me,Jt,ct);if(!mr)return null;ct=ct||mr.type,At.push(mr)}var zr=V.parse(I[1],1,rn);if(!zr)return null;var fn=V.parse(I[I.length-1],I.length-1,ct);return!fn||"value"!==zr.type.kind&&V.concat(1).checkSubtype(q,zr.type)?null:new Bo(q,ct,zr,mt,At,fn)},Bo.prototype.evaluate=function(I){var V=this.input.evaluate(I);return(Ii(V)===this.inputType&&this.outputs[this.cases[V]]||this.otherwise).evaluate(I)},Bo.prototype.eachChild=function(I){I(this.input),this.outputs.forEach(I),I(this.otherwise)},Bo.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})&&this.otherwise.outputDefined()},Bo.prototype.serialize=function(){for(var I=this,V=["match",this.input.serialize()],ct=[],mt={},At=0,Jt=Object.keys(this.cases).sort();At<Jt.length;At+=1){var ue=Jt[At];void 0===(me=mt[this.cases[ue]])?(mt[this.cases[ue]]=ct.length,ct.push([this.cases[ue],[ue]])):ct[me][1].push(ue)}for(var Ae=function(zr){return"number"===I.inputType.kind?Number(zr):zr},He=0,er=ct;He<er.length;He+=1){var Je=er[He],me=Je[0],mr=Je[1];V.push(1===mr.length?Ae(mr[0]):mr.map(Ae)),V.push(this.outputs[outputIndex$1].serialize())}return V.push(this.otherwise.serialize()),V};var es=function(I,V,q){this.type=I,this.branches=V,this.otherwise=q};es.parse=function(I,V){if(I.length<4)return V.error("Expected at least 3 arguments, but found only "+(I.length-1)+".");if(I.length%2!=0)return V.error("Expected an odd number of arguments.");var q;V.expectedType&&"value"!==V.expectedType.kind&&(q=V.expectedType);for(var ct=[],mt=1;mt<I.length-1;mt+=2){var At=V.parse(I[mt],mt,Ve);if(!At)return null;var Jt=V.parse(I[mt+1],mt+1,q);if(!Jt)return null;ct.push([At,Jt]),q=q||Jt.type}var ue=V.parse(I[I.length-1],I.length-1,q);return ue?new es(q,ct,ue):null},es.prototype.evaluate=function(I){for(var V=0,q=this.branches;V<q.length;V+=1){var ct=q[V],At=ct[1];if(ct[0].evaluate(I))return At.evaluate(I)}return this.otherwise.evaluate(I)},es.prototype.eachChild=function(I){for(var V=0,q=this.branches;V<q.length;V+=1){var ct=q[V],At=ct[1];I(ct[0]),I(At)}I(this.otherwise)},es.prototype.outputDefined=function(){return this.branches.every(function(I){return I[1].outputDefined()})&&this.otherwise.outputDefined()},es.prototype.serialize=function(){var I=["case"];return this.eachChild(function(V){I.push(V.serialize())}),I};var No=function(I,V,q,ct){this.type=I,this.input=V,this.beginIndex=q,this.endIndex=ct};function fl(R,I){return"=="===R||"!="===R?"boolean"===I.kind||"string"===I.kind||"number"===I.kind||"null"===I.kind||"value"===I.kind:"string"===I.kind||"number"===I.kind||"value"===I.kind}function Bu(R,I,V,q){return 0===q.compare(I,V)}function To(R,I,V){var q="=="!==R&&"!="!==R;return function(){function ct(mt,At,Jt){this.type=Ve,this.lhs=mt,this.rhs=At,this.collator=Jt,this.hasUntypedArgument="value"===mt.type.kind||"value"===At.type.kind}return ct.parse=function(At,Jt){if(3!==At.length&&4!==At.length)return Jt.error("Expected two or three arguments.");var ue=At[0],me=Jt.parse(At[1],1,rn);if(!me)return null;if(!fl(ue,me.type))return Jt.concat(1).error('"'+ue+"\" comparisons are not supported for type '"+ei(me.type)+"'.");var Ae=Jt.parse(At[2],2,rn);if(!Ae)return null;if(!fl(ue,Ae.type))return Jt.concat(2).error('"'+ue+"\" comparisons are not supported for type '"+ei(Ae.type)+"'.");if(me.type.kind!==Ae.type.kind&&"value"!==me.type.kind&&"value"!==Ae.type.kind)return Jt.error("Cannot compare types '"+ei(me.type)+"' and '"+ei(Ae.type)+"'.");q&&("value"===me.type.kind&&"value"!==Ae.type.kind?me=new wi(Ae.type,[me]):"value"!==me.type.kind&&"value"===Ae.type.kind&&(Ae=new wi(me.type,[Ae])));var He=null;if(4===At.length){if("string"!==me.type.kind&&"string"!==Ae.type.kind&&"value"!==me.type.kind&&"value"!==Ae.type.kind)return Jt.error("Cannot use collator to compare non-string types.");if(!(He=Jt.parse(At[3],3,$n)))return null}return new ct(me,Ae,He)},ct.prototype.evaluate=function(At){var Jt=this.lhs.evaluate(At),ue=this.rhs.evaluate(At);if(q&&this.hasUntypedArgument){var me=Ii(Jt),Ae=Ii(ue);if(me.kind!==Ae.kind||"string"!==me.kind&&"number"!==me.kind)throw new Li('Expected arguments for "'+R+'" to be (string, string) or (number, number), but found ('+me.kind+", "+Ae.kind+") instead.")}if(this.collator&&!q&&this.hasUntypedArgument){var He=Ii(Jt),er=Ii(ue);if("string"!==He.kind||"string"!==er.kind)return I(At,Jt,ue)}return this.collator?V(At,Jt,ue,this.collator.evaluate(At)):I(At,Jt,ue)},ct.prototype.eachChild=function(At){At(this.lhs),At(this.rhs),this.collator&&At(this.collator)},ct.prototype.outputDefined=function(){return!0},ct.prototype.serialize=function(){var At=[R];return this.eachChild(function(Jt){At.push(Jt.serialize())}),At},ct}()}No.parse=function(I,V){if(I.length<=2||I.length>=5)return V.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var q=V.parse(I[1],1,rn),ct=V.parse(I[2],2,xr);if(!q||!ct)return null;if(!ss(q.type,[ni(rn),Be,rn]))return V.error("Expected first argument to be of type array or string, but found "+ei(q.type)+" instead");if(4===I.length){var mt=V.parse(I[3],3,xr);return mt?new No(q.type,q,ct,mt):null}return new No(q.type,q,ct)},No.prototype.evaluate=function(I){var V=this.input.evaluate(I),q=this.beginIndex.evaluate(I);if(!Qi(V,["string","array"]))throw new Li("Expected first argument to be of type array or string, but found "+ei(Ii(V))+" instead.");if(this.endIndex){var ct=this.endIndex.evaluate(I);return V.slice(q,ct)}return V.slice(q)},No.prototype.eachChild=function(I){I(this.input),I(this.beginIndex),this.endIndex&&I(this.endIndex)},No.prototype.outputDefined=function(){return!1},No.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var I=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),I]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var fu=To("==",function Ys(R,I,V){return I===V},Bu),cu=To("!=",function lu(R,I,V){return I!==V},function cl(R,I,V,q){return!Bu(0,I,V,q)}),hu=To("<",function mf(R,I,V){return I<V},function Hi(R,I,V,q){return q.compare(I,V)<0}),wf=To(">",function xf(R,I,V){return I>V},function so(R,I,V,q){return q.compare(I,V)>0}),Nu=To("<=",function bf(R,I,V){return I<=V},function uu(R,I,V,q){return q.compare(I,V)<=0}),Uu=To(">=",function Ou(R,I,V){return I>=V},function hl(R,I,V,q){return q.compare(I,V)>=0}),Fi=function(I,V,q,ct,mt){this.type=Be,this.number=I,this.locale=V,this.currency=q,this.minFractionDigits=ct,this.maxFractionDigits=mt};Fi.parse=function(I,V){if(3!==I.length)return V.error("Expected two arguments.");var q=V.parse(I[1],1,xr);if(!q)return null;var ct=I[2];if("object"!=typeof ct||Array.isArray(ct))return V.error("NumberFormat options argument must be an object.");var mt=null;if(ct.locale&&!(mt=V.parse(ct.locale,1,Be)))return null;var At=null;if(ct.currency&&!(At=V.parse(ct.currency,1,Be)))return null;var Jt=null;if(ct["min-fraction-digits"]&&!(Jt=V.parse(ct["min-fraction-digits"],1,xr)))return null;var ue=null;return ct["max-fraction-digits"]&&!(ue=V.parse(ct["max-fraction-digits"],1,xr))?null:new Fi(q,mt,At,Jt,ue)},Fi.prototype.evaluate=function(I){return new Intl.NumberFormat(this.locale?this.locale.evaluate(I):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(I):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(I):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(I):void 0}).format(this.number.evaluate(I))},Fi.prototype.eachChild=function(I){I(this.number),this.locale&&I(this.locale),this.currency&&I(this.currency),this.minFractionDigits&&I(this.minFractionDigits),this.maxFractionDigits&&I(this.maxFractionDigits)},Fi.prototype.outputDefined=function(){return!1},Fi.prototype.serialize=function(){var I={};return this.locale&&(I.locale=this.locale.serialize()),this.currency&&(I.currency=this.currency.serialize()),this.minFractionDigits&&(I["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(I["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),I]};var Uo=function(I){this.type=xr,this.input=I};Uo.parse=function(I,V){if(2!==I.length)return V.error("Expected 1 argument, but found "+(I.length-1)+" instead.");var q=V.parse(I[1],1);return q?"array"!==q.type.kind&&"string"!==q.type.kind&&"value"!==q.type.kind?V.error("Expected argument of type string or array, but found "+ei(q.type)+" instead."):new Uo(q):null},Uo.prototype.evaluate=function(I){var V=this.input.evaluate(I);if("string"==typeof V)return V.length;if(Array.isArray(V))return V.length;throw new Li("Expected value to be of type string or array, but found "+ei(Ii(V))+" instead.")},Uo.prototype.eachChild=function(I){I(this.input)},Uo.prototype.outputDefined=function(){return!1},Uo.prototype.serialize=function(){var I=["length"];return this.eachChild(function(V){I.push(V.serialize())}),I};var hs={"==":fu,"!=":cu,">":wf,"<":hu,">=":Uu,"<=":Nu,array:wi,at:ts,boolean:wi,case:es,coalesce:wo,collator:Jo,format:ko,image:uo,in:fs,"index-of":cs,interpolate:Vi,"interpolate-hcl":Vi,"interpolate-lab":Vi,length:Uo,let:Oo,literal:mo,match:Bo,number:wi,"number-format":Fi,object:wi,slice:No,step:xo,string:wi,"to-boolean":Ui,"to-color":Ui,"to-number":Ui,"to-string":Ui,var:ls,within:oo};function Vl(R,I){var V=I[0],q=I[1],ct=I[2],mt=I[3];V=V.evaluate(R),q=q.evaluate(R),ct=ct.evaluate(R);var At=mt?mt.evaluate(R):1,Jt=Cu(V,q,ct,At);if(Jt)throw new Li(Jt);return new ti(V/255*At,q/255*At,ct/255*At,At)}function vl(R,I){return R in I}function Hl(R,I){var V=I[R];return void 0===V?null:V}function rs(R){return{type:R}}function Xs(R){return{result:"success",value:R}}function Vo(R){return{result:"error",value:R}}function Ho(R){return"data-driven"===R["property-type"]||"cross-faded-data-driven"===R["property-type"]}function dl(R){return!!R.expression&&R.expression.parameters.indexOf("zoom")>-1}function pl(R){return!!R.expression&&R.expression.interpolated}function ai(R){return R instanceof Number?"number":R instanceof String?"string":R instanceof Boolean?"boolean":Array.isArray(R)?"array":null===R?"null":typeof R}function Zs(R){return"object"==typeof R&&null!==R&&!Array.isArray(R)}function du(R){return R}function pu(R,I){var Jt,ue,me,V="color"===I.type,q=R.stops&&"object"==typeof R.stops[0][0],mt=q||!(q||void 0!==R.property),At=R.type||(pl(I)?"exponential":"interval");if(V&&((R=Cn({},R)).stops&&(R.stops=R.stops.map(function(Gn){return[Gn[0],ti.parse(Gn[1])]})),R.default=ti.parse(R.default?R.default:I.default)),R.colorSpace&&"rgb"!==R.colorSpace&&!Ws[R.colorSpace])throw new Error("Unknown color space: "+R.colorSpace);if("exponential"===At)Jt=gu;else if("interval"===At)Jt=yl;else if("categorical"===At){Jt=Gl,ue=Object.create(null);for(var Ae=0,He=R.stops;Ae<He.length;Ae+=1){var er=He[Ae];ue[er[0]]=er[1]}me=typeof R.stops[0][0]}else{if("identity"!==At)throw new Error('Unknown function type "'+At+'"');Jt=ml}if(q){for(var Je={},mr=[],zr=0;zr<R.stops.length;zr++){var fn=R.stops[zr],qr=fn[0].zoom;void 0===Je[qr]&&(Je[qr]={zoom:qr,type:R.type,property:R.property,default:R.default,stops:[]},mr.push(qr)),Je[qr].stops.push([fn[0].value,fn[1]])}for(var Mn=[],mn=0,An=mr;mn<An.length;mn+=1){var Dn=An[mn];Mn.push([Je[Dn].zoom,pu(Je[Dn],I)])}var Bn={name:"linear"};return{kind:"composite",interpolationType:Bn,interpolationFactor:Vi.interpolationFactor.bind(void 0,Bn),zoomStops:Mn.map(function(Gn){return Gn[0]}),evaluate:function(da,sa){var ha=da.zoom;return gu({stops:Mn,base:R.base},I,ha).evaluate(ha,sa)}}}if(mt){var Yn="exponential"===At?{name:"exponential",base:void 0!==R.base?R.base:1}:null;return{kind:"camera",interpolationType:Yn,interpolationFactor:Vi.interpolationFactor.bind(void 0,Yn),zoomStops:R.stops.map(function(Gn){return Gn[0]}),evaluate:function(Gn){return Jt(R,I,Gn.zoom,ue,me)}}}return{kind:"source",evaluate:function(da,sa){var ha=sa&&sa.properties?sa.properties[R.property]:void 0;return void 0===ha?js(R.default,I.default):Jt(R,I,ha,ue,me)}}}function js(R,I,V){return void 0!==R?R:void 0!==I?I:void 0!==V?V:void 0}function Gl(R,I,V,q,ct){return js(typeof V===ct?q[V]:void 0,R.default,I.default)}function yl(R,I,V){if("number"!==ai(V))return js(R.default,I.default);var q=R.stops.length;if(1===q||V<=R.stops[0][0])return R.stops[0][1];if(V>=R.stops[q-1][0])return R.stops[q-1][1];var ct=Nl(R.stops.map(function(mt){return mt[0]}),V);return R.stops[ct][1]}function gu(R,I,V){var q=void 0!==R.base?R.base:1;if("number"!==ai(V))return js(R.default,I.default);var ct=R.stops.length;if(1===ct||V<=R.stops[0][0])return R.stops[0][1];if(V>=R.stops[ct-1][0])return R.stops[ct-1][1];var mt=Nl(R.stops.map(function(He){return He[0]}),V),At=function Vu(R,I,V,q){var ct=q-V,mt=R-V;return 0===ct?0:1===I?mt/ct:(Math.pow(I,mt)-1)/(Math.pow(I,ct)-1)}(V,q,R.stops[mt][0],R.stops[mt+1][0]),Jt=R.stops[mt][1],ue=R.stops[mt+1][1],me=ll[I.type]||du;if(R.colorSpace&&"rgb"!==R.colorSpace){var Ae=Ws[R.colorSpace];me=function(He,er){return Ae.reverse(Ae.interpolate(Ae.forward(He),Ae.forward(er),At))}}return"function"==typeof Jt.evaluate?{evaluate:function(){for(var er=[],Je=arguments.length;Je--;)er[Je]=arguments[Je];var mr=Jt.evaluate.apply(void 0,er),zr=ue.evaluate.apply(void 0,er);if(void 0!==mr&&void 0!==zr)return me(mr,zr,At)}}:me(Jt,ue,At)}function ml(R,I,V){return"color"===I.type?V=ti.parse(V):"formatted"===I.type?V=Ri.fromString(V.toString()):"resolvedImage"===I.type?V=no.fromString(V.toString()):ai(V)!==I.type&&("enum"!==I.type||!I.values[V])&&(V=void 0),js(V,R.default,I.default)}Oi.register(hs,{error:[{kind:"error"},[Be],function(R,I){throw new Li(I[0].evaluate(R))}],typeof:[Be,[rn],function(R,I){return ei(Ii(I[0].evaluate(R)))}],"to-rgba":[ni(xr,4),[vr],function(R,I){return I[0].evaluate(R).toArray()}],rgb:[vr,[xr,xr,xr],Vl],rgba:[vr,[xr,xr,xr,xr],Vl],has:{type:Ve,overloads:[[[Be],function(R,I){return vl(I[0].evaluate(R),R.properties())}],[[Be,Hr],function(R,I){var q=I[1];return vl(I[0].evaluate(R),q.evaluate(R))}]]},get:{type:rn,overloads:[[[Be],function(R,I){return Hl(I[0].evaluate(R),R.properties())}],[[Be,Hr],function(R,I){var q=I[1];return Hl(I[0].evaluate(R),q.evaluate(R))}]]},"feature-state":[rn,[Be],function(R,I){return Hl(I[0].evaluate(R),R.featureState||{})}],properties:[Hr,[],function(R){return R.properties()}],"geometry-type":[Be,[],function(R){return R.geometryType()}],id:[rn,[],function(R){return R.id()}],zoom:[xr,[],function(R){return R.globals.zoom}],"heatmap-density":[xr,[],function(R){return R.globals.heatmapDensity||0}],"line-progress":[xr,[],function(R){return R.globals.lineProgress||0}],accumulated:[rn,[],function(R){return void 0===R.globals.accumulated?null:R.globals.accumulated}],"+":[xr,rs(xr),function(R,I){for(var V=0,q=0,ct=I;q<ct.length;q+=1)V+=ct[q].evaluate(R);return V}],"*":[xr,rs(xr),function(R,I){for(var V=1,q=0,ct=I;q<ct.length;q+=1)V*=ct[q].evaluate(R);return V}],"-":{type:xr,overloads:[[[xr,xr],function(R,I){var q=I[1];return I[0].evaluate(R)-q.evaluate(R)}],[[xr],function(R,I){return-I[0].evaluate(R)}]]},"/":[xr,[xr,xr],function(R,I){var q=I[1];return I[0].evaluate(R)/q.evaluate(R)}],"%":[xr,[xr,xr],function(R,I){var q=I[1];return I[0].evaluate(R)%q.evaluate(R)}],ln2:[xr,[],function(){return Math.LN2}],pi:[xr,[],function(){return Math.PI}],e:[xr,[],function(){return Math.E}],"^":[xr,[xr,xr],function(R,I){var q=I[1];return Math.pow(I[0].evaluate(R),q.evaluate(R))}],sqrt:[xr,[xr],function(R,I){return Math.sqrt(I[0].evaluate(R))}],log10:[xr,[xr],function(R,I){return Math.log(I[0].evaluate(R))/Math.LN10}],ln:[xr,[xr],function(R,I){return Math.log(I[0].evaluate(R))}],log2:[xr,[xr],function(R,I){return Math.log(I[0].evaluate(R))/Math.LN2}],sin:[xr,[xr],function(R,I){return Math.sin(I[0].evaluate(R))}],cos:[xr,[xr],function(R,I){return Math.cos(I[0].evaluate(R))}],tan:[xr,[xr],function(R,I){return Math.tan(I[0].evaluate(R))}],asin:[xr,[xr],function(R,I){return Math.asin(I[0].evaluate(R))}],acos:[xr,[xr],function(R,I){return Math.acos(I[0].evaluate(R))}],atan:[xr,[xr],function(R,I){return Math.atan(I[0].evaluate(R))}],min:[xr,rs(xr),function(R,I){return Math.min.apply(Math,I.map(function(V){return V.evaluate(R)}))}],max:[xr,rs(xr),function(R,I){return Math.max.apply(Math,I.map(function(V){return V.evaluate(R)}))}],abs:[xr,[xr],function(R,I){return Math.abs(I[0].evaluate(R))}],round:[xr,[xr],function(R,I){var q=I[0].evaluate(R);return q<0?-Math.round(-q):Math.round(q)}],floor:[xr,[xr],function(R,I){return Math.floor(I[0].evaluate(R))}],ceil:[xr,[xr],function(R,I){return Math.ceil(I[0].evaluate(R))}],"filter-==":[Ve,[Be,rn],function(R,I){var V=I[0],q=I[1];return R.properties()[V.value]===q.value}],"filter-id-==":[Ve,[rn],function(R,I){var V=I[0];return R.id()===V.value}],"filter-type-==":[Ve,[Be],function(R,I){var V=I[0];return R.geometryType()===V.value}],"filter-<":[Ve,[Be,rn],function(R,I){var V=I[0],q=I[1],ct=R.properties()[V.value],mt=q.value;return typeof ct==typeof mt&&ct<mt}],"filter-id-<":[Ve,[rn],function(R,I){var V=I[0],q=R.id(),ct=V.value;return typeof q==typeof ct&&q<ct}],"filter->":[Ve,[Be,rn],function(R,I){var V=I[0],q=I[1],ct=R.properties()[V.value],mt=q.value;return typeof ct==typeof mt&&ct>mt}],"filter-id->":[Ve,[rn],function(R,I){var V=I[0],q=R.id(),ct=V.value;return typeof q==typeof ct&&q>ct}],"filter-<=":[Ve,[Be,rn],function(R,I){var V=I[0],q=I[1],ct=R.properties()[V.value],mt=q.value;return typeof ct==typeof mt&&ct<=mt}],"filter-id-<=":[Ve,[rn],function(R,I){var V=I[0],q=R.id(),ct=V.value;return typeof q==typeof ct&&q<=ct}],"filter->=":[Ve,[Be,rn],function(R,I){var V=I[0],q=I[1],ct=R.properties()[V.value],mt=q.value;return typeof ct==typeof mt&&ct>=mt}],"filter-id->=":[Ve,[rn],function(R,I){var V=I[0],q=R.id(),ct=V.value;return typeof q==typeof ct&&q>=ct}],"filter-has":[Ve,[rn],function(R,I){return I[0].value in R.properties()}],"filter-has-id":[Ve,[],function(R){return null!==R.id()&&void 0!==R.id()}],"filter-type-in":[Ve,[ni(Be)],function(R,I){return I[0].value.indexOf(R.geometryType())>=0}],"filter-id-in":[Ve,[ni(rn)],function(R,I){return I[0].value.indexOf(R.id())>=0}],"filter-in-small":[Ve,[Be,ni(rn)],function(R,I){var V=I[0];return I[1].value.indexOf(R.properties()[V.value])>=0}],"filter-in-large":[Ve,[Be,ni(rn)],function(R,I){var V=I[0],q=I[1];return function vu(R,I,V,q){for(;V<=q;){var ct=V+q>>1;if(I[ct]===R)return!0;I[ct]>R?q=ct-1:V=ct+1}return!1}(R.properties()[V.value],q.value,0,q.value.length-1)}],all:{type:Ve,overloads:[[[Ve,Ve],function(R,I){var q=I[1];return I[0].evaluate(R)&&q.evaluate(R)}],[rs(Ve),function(R,I){for(var V=0,q=I;V<q.length;V+=1)if(!q[V].evaluate(R))return!1;return!0}]]},any:{type:Ve,overloads:[[[Ve,Ve],function(R,I){var q=I[1];return I[0].evaluate(R)||q.evaluate(R)}],[rs(Ve),function(R,I){for(var V=0,q=I;V<q.length;V+=1)if(q[V].evaluate(R))return!0;return!1}]]},"!":[Ve,[Ve],function(R,I){return!I[0].evaluate(R)}],"is-supported-script":[Ve,[Be],function(R,I){var q=R.globals&&R.globals.isSupportedScript;return!q||q(I[0].evaluate(R))}],upcase:[Be,[Be],function(R,I){return I[0].evaluate(R).toUpperCase()}],downcase:[Be,[Be],function(R,I){return I[0].evaluate(R).toLowerCase()}],concat:[Be,rs(rn),function(R,I){return I.map(function(V){return jo(V.evaluate(R))}).join("")}],"resolved-locale":[Be,[$n],function(R,I){return I[0].evaluate(R).resolvedLocale()}]});var Ks=function(I,V){this.expression=I,this._warningHistory={},this._evaluator=new Ko,this._defaultValue=V?function Gu(R){return"color"===R.type&&Zs(R.default)?new ti(0,0,0,0):"color"===R.type?ti.parse(R.default)||null:void 0===R.default?null:R.default}(V):null,this._enumValues=V&&"enum"===V.type?V.values:null};function Es(R){return Array.isArray(R)&&R.length>0&&"string"==typeof R[0]&&R[0]in hs}function xl(R,I){var V=new us(hs,[],I?function co(R){var I={color:vr,string:Be,number:xr,enum:Be,boolean:Ve,formatted:na,resolvedImage:Ta};return"array"===R.type?ni(I[R.value]||rn,R.length):I[R.type]}(I):void 0),q=V.parse(R,void 0,void 0,void 0,I&&"string"===I.type?{typeAnnotation:"coerce"}:void 0);return q?Xs(new Ks(q,I)):Vo(V.errors)}Ks.prototype.evaluateWithoutErrorHandling=function(I,V,q,ct,mt,At){return this._evaluator.globals=I,this._evaluator.feature=V,this._evaluator.featureState=q,this._evaluator.canonical=ct,this._evaluator.availableImages=mt||null,this._evaluator.formattedSection=At,this.expression.evaluate(this._evaluator)},Ks.prototype.evaluate=function(I,V,q,ct,mt,At){this._evaluator.globals=I,this._evaluator.feature=V||null,this._evaluator.featureState=q||null,this._evaluator.canonical=ct,this._evaluator.availableImages=mt||null,this._evaluator.formattedSection=At||null;try{var Jt=this.expression.evaluate(this._evaluator);if(null==Jt||"number"==typeof Jt&&Jt!=Jt)return this._defaultValue;if(this._enumValues&&!(Jt in this._enumValues))throw new Li("Expected value to be one of "+Object.keys(this._enumValues).map(function(ue){return JSON.stringify(ue)}).join(", ")+", but found "+JSON.stringify(Jt)+" instead.");return Jt}catch(ue){return this._warningHistory[ue.message]||(this._warningHistory[ue.message]=!0,"undefined"!=typeof console&&console.warn(ue.message)),this._defaultValue}};var Ao=function(I,V){this.kind=I,this._styleExpression=V,this.isStateDependent="constant"!==I&&!zo(V.expression)};Ao.prototype.evaluateWithoutErrorHandling=function(I,V,q,ct,mt,At){return this._styleExpression.evaluateWithoutErrorHandling(I,V,q,ct,mt,At)},Ao.prototype.evaluate=function(I,V,q,ct,mt,At){return this._styleExpression.evaluate(I,V,q,ct,mt,At)};var Mo=function(I,V,q,ct){this.kind=I,this.zoomStops=q,this._styleExpression=V,this.isStateDependent="camera"!==I&&!zo(V.expression),this.interpolationType=ct};function Js(R,I){if("error"===(R=xl(R,I)).result)return R;var V=R.value.expression,q=Ol(V);if(!q&&!Ho(I))return Vo([new Er("","data expressions not supported")]);var ct=Bl(V,["zoom"]);if(!ct&&!dl(I))return Vo([new Er("","zoom expressions not supported")]);var mt=Ls(V);return mt||ct?mt instanceof Er?Vo([mt]):mt instanceof Vi&&!pl(I)?Vo([new Er("",'"interpolate" expressions cannot be used with this property')]):Xs(mt?new Mo(q?"camera":"composite",R.value,mt.labels,mt instanceof Vi?mt.interpolation:void 0):new Ao(q?"constant":"source",R.value)):Vo([new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Mo.prototype.evaluateWithoutErrorHandling=function(I,V,q,ct,mt,At){return this._styleExpression.evaluateWithoutErrorHandling(I,V,q,ct,mt,At)},Mo.prototype.evaluate=function(I,V,q,ct,mt,At){return this._styleExpression.evaluate(I,V,q,ct,mt,At)},Mo.prototype.interpolationFactor=function(I,V,q){return this.interpolationType?Vi.interpolationFactor(this.interpolationType,I,V,q):0};var Cs=function(I,V){this._parameters=I,this._specification=V,Cn(this,pu(this._parameters,this._specification))};function Ls(R){var I=null;if(R instanceof Oo)I=Ls(R.result);else if(R instanceof wo)for(var V=0,q=R.args;V<q.length&&!(I=Ls(q[V]));V+=1);else(R instanceof xo||R instanceof Vi)&&R.input instanceof Oi&&"zoom"===R.input.name&&(I=R);return I instanceof Er||R.eachChild(function(mt){var At=Ls(mt);At instanceof Er?I=At:!I&&At?I=new Er("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):I&&At&&I!==At&&(I=new Er("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),I}function ho(R){var I=R.key,V=R.value,q=R.valueSpec||{},ct=R.objectElementValidators||{},mt=R.style,At=R.styleSpec,Jt=[],ue=ai(V);if("object"!==ue)return[new kr(I,V,"object expected, "+ue+" found")];for(var me in V){var Ae=me.split(".")[0],He=q[Ae]||q["*"],er=void 0;if(ct[Ae])er=ct[Ae];else if(q[Ae])er=wr;else if(ct["*"])er=ct["*"];else{if(!q["*"]){Jt.push(new kr(I,V[me],'unknown property "'+me+'"'));continue}er=wr}Jt=Jt.concat(er({key:(I&&I+".")+me,value:V[me],valueSpec:He,style:mt,styleSpec:At,object:V,objectKey:me},V))}for(var Je in q)ct[Je]||q[Je].required&&void 0===q[Je].default&&void 0===V[Je]&&Jt.push(new kr(I,V,'missing required property "'+Je+'"'));return Jt}function Ps(R){var I=R.value,V=R.valueSpec,q=R.style,ct=R.styleSpec,mt=R.key,At=R.arrayElementValidator||wr;if("array"!==ai(I))return[new kr(mt,I,"array expected, "+ai(I)+" found")];if(V.length&&I.length!==V.length)return[new kr(mt,I,"array length "+V.length+" expected, length "+I.length+" found")];if(V["min-length"]&&I.length<V["min-length"])return[new kr(mt,I,"array length at least "+V["min-length"]+" expected, length "+I.length+" found")];var Jt={type:V.value,values:V.values};ct.$version<7&&(Jt.function=V.function),"object"===ai(V.value)&&(Jt=V.value);for(var ue=[],me=0;me<I.length;me++)ue=ue.concat(At({array:I,arrayIndex:me,value:I[me],valueSpec:Jt,style:q,styleSpec:ct,key:mt+"["+me+"]"}));return ue}function bl(R){var I=R.key,V=R.value,q=R.valueSpec,ct=ai(V);return"number"===ct&&V!=V&&(ct="NaN"),"number"!==ct?[new kr(I,V,"number expected, "+ct+" found")]:"minimum"in q&&V<q.minimum?[new kr(I,V,V+" is less than the minimum value "+q.minimum)]:"maximum"in q&&V>q.maximum?[new kr(I,V,V+" is greater than the maximum value "+q.maximum)]:[]}function Wl(R){var q,mt,At,I=R.valueSpec,V=hn(R.value.type),ct={},Jt="categorical"!==V&&void 0===R.value.property,ue=!Jt,me="array"===ai(R.value.stops)&&"array"===ai(R.value.stops[0])&&"object"===ai(R.value.stops[0][0]),Ae=ho({key:R.key,value:R.value,valueSpec:R.styleSpec.function,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{stops:function He(zr){if("identity"===V)return[new kr(zr.key,zr.value,'identity function may not have a "stops" property')];var fn=[],qr=zr.value;return fn=fn.concat(Ps({key:zr.key,value:qr,valueSpec:zr.valueSpec,style:zr.style,styleSpec:zr.styleSpec,arrayElementValidator:er})),"array"===ai(qr)&&0===qr.length&&fn.push(new kr(zr.key,qr,"array must have at least one stop")),fn},default:function mr(zr){return wr({key:zr.key,value:zr.value,valueSpec:I,style:zr.style,styleSpec:zr.styleSpec})}}});return"identity"===V&&Jt&&Ae.push(new kr(R.key,R.value,'missing required property "property"')),"identity"!==V&&!R.value.stops&&Ae.push(new kr(R.key,R.value,'missing required property "stops"')),"exponential"===V&&R.valueSpec.expression&&!pl(R.valueSpec)&&Ae.push(new kr(R.key,R.value,"exponential functions not supported")),R.styleSpec.$version>=8&&(ue&&!Ho(R.valueSpec)?Ae.push(new kr(R.key,R.value,"property functions not supported")):Jt&&!dl(R.valueSpec)&&Ae.push(new kr(R.key,R.value,"zoom functions not supported"))),("categorical"===V||me)&&void 0===R.value.property&&Ae.push(new kr(R.key,R.value,'"property" property is required')),Ae;function er(zr){var fn=[],qr=zr.value,Mn=zr.key;if("array"!==ai(qr))return[new kr(Mn,qr,"array expected, "+ai(qr)+" found")];if(2!==qr.length)return[new kr(Mn,qr,"array length 2 expected, length "+qr.length+" found")];if(me){if("object"!==ai(qr[0]))return[new kr(Mn,qr,"object expected, "+ai(qr[0])+" found")];if(void 0===qr[0].zoom)return[new kr(Mn,qr,"object stop key must have zoom")];if(void 0===qr[0].value)return[new kr(Mn,qr,"object stop key must have value")];if(At&&At>hn(qr[0].zoom))return[new kr(Mn,qr[0].zoom,"stop zoom values must appear in ascending order")];hn(qr[0].zoom)!==At&&(At=hn(qr[0].zoom),mt=void 0,ct={}),fn=fn.concat(ho({key:Mn+"[0]",value:qr[0],valueSpec:{zoom:{}},style:zr.style,styleSpec:zr.styleSpec,objectElementValidators:{zoom:bl,value:Je}}))}else fn=fn.concat(Je({key:Mn+"[0]",value:qr[0],valueSpec:{},style:zr.style,styleSpec:zr.styleSpec},qr));return Es(ln(qr[1]))?fn.concat([new kr(Mn+"[1]",qr[1],"expressions are not allowed in function stops.")]):fn.concat(wr({key:Mn+"[1]",value:qr[1],valueSpec:I,style:zr.style,styleSpec:zr.styleSpec}))}function Je(zr,fn){var qr=ai(zr.value),Mn=hn(zr.value),mn=null!==zr.value?zr.value:fn;if(q){if(qr!==q)return[new kr(zr.key,mn,qr+" stop domain type must match previous stop domain type "+q)]}else q=qr;if("number"!==qr&&"string"!==qr&&"boolean"!==qr)return[new kr(zr.key,mn,"stop domain value must be a number, string, or boolean")];if("number"!==qr&&"categorical"!==V){var An="number expected, "+qr+" found";return Ho(I)&&void 0===V&&(An+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new kr(zr.key,mn,An)]}return"categorical"!==V||"number"!==qr||isFinite(Mn)&&Math.floor(Mn)===Mn?"categorical"!==V&&"number"===qr&&void 0!==mt&&Mn<mt?[new kr(zr.key,mn,"stop domain values must appear in ascending order")]:(mt=Mn,"categorical"===V&&Mn in ct?[new kr(zr.key,mn,"stop domain values must be unique")]:(ct[Mn]=!0,[])):[new kr(zr.key,mn,"integer expected, found "+Mn)]}}function Qs(R){var I=("property"===R.expressionContext?Js:xl)(ln(R.value),R.valueSpec);if("error"===I.result)return I.value.map(function(q){return new kr(""+R.key+q.key,R.value,q.message)});var V=I.value.expression||I.value._styleExpression.expression;if("property"===R.expressionContext&&"text-font"===R.propertyKey&&!V.outputDefined())return[new kr(R.key,R.value,'Invalid data expression for "'+R.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===R.expressionContext&&"layout"===R.propertyType&&!zo(V))return[new kr(R.key,R.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===R.expressionContext&&!zo(V))return[new kr(R.key,R.value,'"feature-state" data expressions are not supported with filters.')];if(R.expressionContext&&0===R.expressionContext.indexOf("cluster")){if(!Bl(V,["zoom","feature-state"]))return[new kr(R.key,R.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===R.expressionContext&&!Ol(V))return[new kr(R.key,R.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function vs(R){var I=R.key,V=R.value,q=R.valueSpec,ct=[];return Array.isArray(q.values)?-1===q.values.indexOf(hn(V))&&ct.push(new kr(I,V,"expected one of ["+q.values.join(", ")+"], "+JSON.stringify(V)+" found")):-1===Object.keys(q.values).indexOf(hn(V))&&ct.push(new kr(I,V,"expected one of ["+Object.keys(q.values).join(", ")+"], "+JSON.stringify(V)+" found")),ct}function Xl(R){if(!0===R||!1===R)return!0;if(!Array.isArray(R)||0===R.length)return!1;switch(R[0]){case"has":return R.length>=2&&"$id"!==R[1]&&"$type"!==R[1];case"in":return R.length>=3&&("string"!=typeof R[1]||Array.isArray(R[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==R.length||Array.isArray(R[1])||Array.isArray(R[2]);case"any":case"all":for(var I=0,V=R.slice(1);I<V.length;I+=1){var q=V[I];if(!Xl(q)&&"boolean"!=typeof q)return!1}return!0;default:return!0}}Cs.deserialize=function(I){return new Cs(I._parameters,I._specification)},Cs.serialize=function(I){return{_parameters:I._parameters,_specification:I._specification}};var Tf={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function $s(R){if(null==R)return{filter:function(){return!0},needGeometry:!1};Xl(R)||(R=_s(R));var I=xl(R,Tf);if("error"===I.result)throw new Error(I.value.map(function(q){return q.key+": "+q.message}).join(", "));return{filter:function(q,ct,mt){return I.value.evaluate(q,ct,{},mt)},needGeometry:$i(R)}}function Wu(R,I){return R<I?-1:R>I?1:0}function $i(R){if(!Array.isArray(R))return!1;if("within"===R[0])return!0;for(var I=1;I<R.length;I++)if($i(R[I]))return!0;return!1}function _s(R){if(!R)return!0;var I=R[0];return R.length<=1?"any"!==I:"=="===I?wl(R[1],R[2],"=="):"!="===I?jl(wl(R[1],R[2],"==")):"<"===I||">"===I||"<="===I||">="===I?wl(R[1],R[2],I):"any"===I?function ns(R){return["any"].concat(R.map(_s))}(R.slice(1)):"all"===I?["all"].concat(R.slice(1).map(_s)):"none"===I?["all"].concat(R.slice(1).map(_s).map(jl)):"in"===I?Zl(R[1],R.slice(2)):"!in"===I?jl(Zl(R[1],R.slice(2))):"has"===I?qs(R[1]):"!has"===I?jl(qs(R[1])):"within"!==I||R}function wl(R,I,V){switch(R){case"$type":return["filter-type-"+V,I];case"$id":return["filter-id-"+V,I];default:return["filter-"+V,R,I]}}function Zl(R,I){if(0===I.length)return!1;switch(R){case"$type":return["filter-type-in",["literal",I]];case"$id":return["filter-id-in",["literal",I]];default:return I.length>200&&!I.some(function(V){return typeof V!=typeof I[0]})?["filter-in-large",R,["literal",I.sort(Wu)]]:["filter-in-small",R,["literal",I]]}}function qs(R){switch(R){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",R]}}function jl(R){return["!",R]}function Tl(R){return Xl(ln(R.value))?Qs(Cn({},R,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Yu(R)}function Yu(R){var I=R.value,V=R.key;if("array"!==ai(I))return[new kr(V,I,"array expected, "+ai(I)+" found")];var ct,q=R.styleSpec,mt=[];if(I.length<1)return[new kr(V,I,"filter array must have at least 1 element")];switch(mt=mt.concat(vs({key:V+"[0]",value:I[0],valueSpec:q.filter_operator,style:R.style,styleSpec:R.styleSpec})),hn(I[0])){case"<":case"<=":case">":case">=":I.length>=2&&"$type"===hn(I[1])&&mt.push(new kr(V,I,'"$type" cannot be use with operator "'+I[0]+'"'));case"==":case"!=":3!==I.length&&mt.push(new kr(V,I,'filter array for operator "'+I[0]+'" must have 3 elements'));case"in":case"!in":I.length>=2&&"string"!==(ct=ai(I[1]))&&mt.push(new kr(V+"[1]",I[1],"string expected, "+ct+" found"));for(var At=2;At<I.length;At++)ct=ai(I[At]),"$type"===hn(I[1])?mt=mt.concat(vs({key:V+"["+At+"]",value:I[At],valueSpec:q.geometry_type,style:R.style,styleSpec:R.styleSpec})):"string"!==ct&&"number"!==ct&&"boolean"!==ct&&mt.push(new kr(V+"["+At+"]",I[At],"string, number, or boolean expected, "+ct+" found"));break;case"any":case"all":case"none":for(var Jt=1;Jt<I.length;Jt++)mt=mt.concat(Yu({key:V+"["+Jt+"]",value:I[Jt],style:R.style,styleSpec:R.styleSpec}));break;case"has":case"!has":ct=ai(I[1]),2!==I.length?mt.push(new kr(V,I,'filter array for "'+I[0]+'" operator must have 2 elements')):"string"!==ct&&mt.push(new kr(V+"[1]",I[1],"string expected, "+ct+" found"));break;case"within":ct=ai(I[1]),2!==I.length?mt.push(new kr(V,I,'filter array for "'+I[0]+'" operator must have 2 elements')):"object"!==ct&&mt.push(new kr(V+"[1]",I[1],"object expected, "+ct+" found"))}return mt}function Al(R,I){var V=R.key,q=R.style,ct=R.styleSpec,mt=R.value,At=R.objectKey,Jt=ct[I+"_"+R.layerType];if(!Jt)return[];var ue=At.match(/^(.*)-transition$/);if("paint"===I&&ue&&Jt[ue[1]]&&Jt[ue[1]].transition)return wr({key:V,value:mt,valueSpec:ct.transition,style:q,styleSpec:ct});var Ae,me=R.valueSpec||Jt[At];if(!me)return[new kr(V,mt,'unknown property "'+At+'"')];if("string"===ai(mt)&&Ho(me)&&!me.tokens&&(Ae=/^{([^}]+)}$/.exec(mt)))return[new kr(V,mt,'"'+At+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Ae[1])+" }`.")];var He=[];return"symbol"===R.layerType&&("text-field"===At&&q&&!q.glyphs&&He.push(new kr(V,mt,'use of "text-field" requires a style "glyphs" property')),"text-font"===At&&Zs(ln(mt))&&"identity"===hn(mt.type)&&He.push(new kr(V,mt,'"text-font" does not support identity functions'))),He.concat(wr({key:R.key,value:mt,valueSpec:me,style:q,styleSpec:ct,expressionContext:"property",propertyType:I,propertyKey:At}))}function mu(R){return Al(R,"paint")}function Kt(R){return Al(R,"layout")}function qt(R){var I=[],V=R.value,q=R.key,ct=R.style,mt=R.styleSpec;!V.type&&!V.ref&&I.push(new kr(q,V,'either "type" or "ref" is required'));var He,At=hn(V.type),Jt=hn(V.ref);if(V.id)for(var ue=hn(V.id),me=0;me<R.arrayIndex;me++){var Ae=ct.layers[me];hn(Ae.id)===ue&&I.push(new kr(q,V.id,'duplicate layer id "'+V.id+'", previously used at line '+Ae.id.__line__))}if("ref"in V)["type","source","source-layer","filter","layout"].forEach(function(mr){mr in V&&I.push(new kr(q,V[mr],'"'+mr+'" is prohibited for ref layers'))}),ct.layers.forEach(function(mr){hn(mr.id)===Jt&&(He=mr)}),He?He.ref?I.push(new kr(q,V.ref,"ref cannot reference another ref layer")):At=hn(He.type):I.push(new kr(q,V.ref,'ref layer "'+Jt+'" not found'));else if("background"!==At)if(V.source){var er=ct.sources&&ct.sources[V.source],Je=er&&hn(er.type);er?"vector"===Je&&"raster"===At?I.push(new kr(q,V.source,'layer "'+V.id+'" requires a raster source')):"raster"===Je&&"raster"!==At?I.push(new kr(q,V.source,'layer "'+V.id+'" requires a vector source')):"vector"!==Je||V["source-layer"]?"raster-dem"===Je&&"hillshade"!==At?I.push(new kr(q,V.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"===At&&V.paint&&V.paint["line-gradient"]&&("geojson"!==Je||!er.lineMetrics)&&I.push(new kr(q,V,'layer "'+V.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):I.push(new kr(q,V,'layer "'+V.id+'" must specify a "source-layer"')):I.push(new kr(q,V.source,'source "'+V.source+'" not found'))}else I.push(new kr(q,V,'missing required property "source"'));return I=I.concat(ho({key:q,value:V,valueSpec:mt.layer,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return wr({key:q+".type",value:V.type,valueSpec:mt.layer.type,style:R.style,styleSpec:R.styleSpec,object:V,objectKey:"type"})},filter:Tl,layout:function(zr){return ho({layer:V,key:zr.key,value:zr.value,style:zr.style,styleSpec:zr.styleSpec,objectElementValidators:{"*":function(qr){return Kt(Cn({layerType:At},qr))}}})},paint:function(zr){return ho({layer:V,key:zr.key,value:zr.value,style:zr.style,styleSpec:zr.styleSpec,objectElementValidators:{"*":function(qr){return mu(Cn({layerType:At},qr))}}})}}}))}function fe(R){var I=R.value,V=R.key,q=ai(I);return"string"!==q?[new kr(V,I,"string expected, "+q+" found")]:[]}var ge={promoteId:function Ee(R){var I=R.key,V=R.value;if("string"===ai(V))return fe({key:I,value:V});var q=[];for(var ct in V)q.push.apply(q,fe({key:I+"."+ct,value:V[ct]}));return q}};function De(R){var I=R.value,V=R.key,q=R.styleSpec,ct=R.style;if(!I.type)return[new kr(V,I,'"type" is required')];var At,mt=hn(I.type);switch(mt){case"vector":case"raster":case"raster-dem":return ho({key:V,value:I,valueSpec:q["source_"+mt.replace("-","_")],style:R.style,styleSpec:q,objectElementValidators:ge});case"geojson":if(At=ho({key:V,value:I,valueSpec:q.source_geojson,style:ct,styleSpec:q,objectElementValidators:ge}),I.cluster)for(var Jt in I.clusterProperties){var ue=I.clusterProperties[Jt],me=ue[0],He="string"==typeof me?[me,["accumulated"],["get",Jt]]:me;At.push.apply(At,Qs({key:V+"."+Jt+".map",value:ue[1],expressionContext:"cluster-map"})),At.push.apply(At,Qs({key:V+"."+Jt+".reduce",value:He,expressionContext:"cluster-reduce"}))}return At;case"video":return ho({key:V,value:I,valueSpec:q.source_video,style:ct,styleSpec:q});case"image":return ho({key:V,value:I,valueSpec:q.source_image,style:ct,styleSpec:q});case"canvas":return[new kr(V,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return vs({key:V+".type",value:I.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ct,styleSpec:q})}}function ke(R){var I=R.value,V=R.styleSpec,q=V.light,ct=R.style,mt=[],At=ai(I);if(void 0===I)return mt;if("object"!==At)return mt.concat([new kr("light",I,"object expected, "+At+" found")]);for(var Jt in I){var ue=Jt.match(/^(.*)-transition$/);mt=mt.concat(ue&&q[ue[1]]&&q[ue[1]].transition?wr({key:Jt,value:I[Jt],valueSpec:V.transition,style:ct,styleSpec:V}):q[Jt]?wr({key:Jt,value:I[Jt],valueSpec:q[Jt],style:ct,styleSpec:V}):[new kr(Jt,I[Jt],'unknown property "'+Jt+'"')])}return mt}var sr={"*":function(){return[]},array:Ps,boolean:function yu(R){var I=R.value,V=R.key,q=ai(I);return"boolean"!==q?[new kr(V,I,"boolean expected, "+q+" found")]:[]},number:bl,color:function Yl(R){var I=R.key,V=R.value,q=ai(V);return"string"!==q?[new kr(I,V,"color expected, "+q+" found")]:null===zs(V)?[new kr(I,V,'color expected, "'+V+'" found')]:[]},constants:yn,enum:vs,filter:Tl,function:Wl,layer:qt,object:ho,source:De,light:ke,string:fe,formatted:function cr(R){return 0===fe(R).length?[]:Qs(R)},resolvedImage:function br(R){return 0===fe(R).length?[]:Qs(R)}};function wr(R){var I=R.value,V=R.valueSpec,q=R.styleSpec;return V.expression&&Zs(hn(I))?Wl(R):V.expression&&Es(ln(I))?Qs(R):V.type&&sr[V.type]?sr[V.type](R):ho(Cn({},R,{valueSpec:V.type?q[V.type]:V}))}function Dr(R){var I=R.value,V=R.key,q=fe(R);return q.length||(-1===I.indexOf("{fontstack}")&&q.push(new kr(V,I,'"glyphs" url must include a "{fontstack}" token')),-1===I.indexOf("{range}")&&q.push(new kr(V,I,'"glyphs" url must include a "{range}" token'))),q}function Wr(R,I){void 0===I&&(I=Tr);var V=[];return V=V.concat(wr({key:"",value:R,valueSpec:I.$root,styleSpec:I,style:R,objectElementValidators:{glyphs:Dr,"*":function(){return[]}}})),R.constants&&(V=V.concat(yn({key:"constants",value:R.constants,style:R,styleSpec:I}))),en(V)}function en(R){return[].concat(R).sort(function(I,V){return I.line-V.line})}function un(R){return function(){for(var I=[],V=arguments.length;V--;)I[V]=arguments[V];return en(R.apply(this,I))}}Wr.source=un(De),Wr.light=un(ke),Wr.layer=un(qt),Wr.filter=un(Tl),Wr.paintProperty=un(mu),Wr.layoutProperty=un(Kt);var xn=Wr,Pn=xn.light,ia=xn.paintProperty,wa=xn.layoutProperty;function Ea(R,I){var V=!1;if(I&&I.length)for(var q=0,ct=I;q<ct.length;q+=1)R.fire(new Re(new Error(ct[q].message))),V=!0;return V}var Aa=Wa;function Wa(R,I,V){var q=this.cells=[];if(R instanceof ArrayBuffer){this.arrayBuffer=R;var ct=new Int32Array(this.arrayBuffer);R=ct[0],this.d=(I=ct[1])+2*(V=ct[2]);for(var mt=0;mt<this.d*this.d;mt++){var At=ct[3+mt],Jt=ct[3+mt+1];q.push(At===Jt?null:ct.subarray(At,Jt))}var me=ct[3+q.length+1];this.keys=ct.subarray(ct[3+q.length],me),this.bboxes=ct.subarray(me),this.insert=this._insertReadonly}else{this.d=I+2*V;for(var Ae=0;Ae<this.d*this.d;Ae++)q.push([]);this.keys=[],this.bboxes=[]}this.n=I,this.extent=R,this.padding=V,this.scale=I/R,this.uid=0;var He=V/I*R;this.min=-He,this.max=R+He}Wa.prototype.insert=function(R,I,V,q,ct){this._forEachCell(I,V,q,ct,this._insertCell,this.uid++),this.keys.push(R),this.bboxes.push(I),this.bboxes.push(V),this.bboxes.push(q),this.bboxes.push(ct)},Wa.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Wa.prototype._insertCell=function(R,I,V,q,ct,mt){this.cells[ct].push(mt)},Wa.prototype.query=function(R,I,V,q,ct){var mt=this.min,At=this.max;if(R<=mt&&I<=mt&&At<=V&&At<=q&&!ct)return Array.prototype.slice.call(this.keys);var Jt=[];return this._forEachCell(R,I,V,q,this._queryCell,Jt,{},ct),Jt},Wa.prototype._queryCell=function(R,I,V,q,ct,mt,At,Jt){var ue=this.cells[ct];if(null!==ue)for(var me=this.keys,Ae=this.bboxes,He=0;He<ue.length;He++){var er=ue[He];if(void 0===At[er]){var Je=4*er;(Jt?Jt(Ae[Je+0],Ae[Je+1],Ae[Je+2],Ae[Je+3]):R<=Ae[Je+2]&&I<=Ae[Je+3]&&V>=Ae[Je+0]&&q>=Ae[Je+1])?(At[er]=!0,mt.push(me[er])):At[er]=!1}}},Wa.prototype._forEachCell=function(R,I,V,q,ct,mt,At,Jt){for(var ue=this._convertToCellCoord(R),me=this._convertToCellCoord(I),Ae=this._convertToCellCoord(V),He=this._convertToCellCoord(q),er=ue;er<=Ae;er++)for(var Je=me;Je<=He;Je++){var mr=this.d*Je+er;if((!Jt||Jt(this._convertFromCellCoord(er),this._convertFromCellCoord(Je),this._convertFromCellCoord(er+1),this._convertFromCellCoord(Je+1)))&&ct.call(this,R,I,V,q,mr,mt,At,Jt))return}},Wa.prototype._convertFromCellCoord=function(R){return(R-this.padding)/this.scale},Wa.prototype._convertToCellCoord=function(R){return Math.max(0,Math.min(this.d-1,Math.floor(R*this.scale)+this.padding))},Wa.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var R=this.cells,I=3+this.cells.length+1+1,V=0,q=0;q<this.cells.length;q++)V+=this.cells[q].length;var ct=new Int32Array(I+V+this.keys.length+this.bboxes.length);ct[0]=this.extent,ct[1]=this.n,ct[2]=this.padding;for(var mt=I,At=0;At<R.length;At++){var Jt=R[At];ct[3+At]=mt,ct.set(Jt,mt),mt+=Jt.length}return ct[3+R.length]=mt,ct.set(this.keys,mt),ct[3+R.length+1]=mt+=this.keys.length,ct.set(this.bboxes,mt),mt+=this.bboxes.length,ct.buffer};var Ti=s.ImageData,di=s.ImageBitmap,ii={};function la(R,I,V){void 0===V&&(V={}),Object.defineProperty(I,"_classRegistryKey",{value:R,writeable:!1}),ii[R]={klass:I,omit:V.omit||[],shallow:V.shallow||[]}}for(var yi in la("Object",Object),Aa.serialize=function(I,V){var q=I.toArrayBuffer();return V&&V.push(q),{buffer:q}},Aa.deserialize=function(I){return new Aa(I.buffer)},la("Grid",Aa),la("Color",ti),la("Error",Error),la("ResolvedImage",no),la("StylePropertyFunction",Cs),la("StyleExpression",Ks,{omit:["_evaluator"]}),la("ZoomDependentExpression",Mo),la("ZoomConstantExpression",Ao),la("CompoundExpression",Oi,{omit:["_evaluate"]}),hs)hs[yi]._classRegistryKey||la("Expression_"+yi,hs[yi]);function So(R){return R&&"undefined"!=typeof ArrayBuffer&&(R instanceof ArrayBuffer||R.constructor&&"ArrayBuffer"===R.constructor.name)}function ds(R){return di&&R instanceof di}function ot(R,I){if(null==R||"boolean"==typeof R||"number"==typeof R||"string"==typeof R||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp)return R;if(So(R)||ds(R))return I&&I.push(R),R;if(ArrayBuffer.isView(R)){var V=R;return I&&I.push(V.buffer),V}if(R instanceof Ti)return I&&I.push(R.data.buffer),R;if(Array.isArray(R)){for(var q=[],ct=0,mt=R;ct<mt.length;ct+=1)q.push(ot(mt[ct],I));return q}if("object"==typeof R){var Jt=R.constructor,ue=Jt._classRegistryKey;if(!ue)throw new Error("can't serialize object of unregistered class");var me=Jt.serialize?Jt.serialize(R,I):{};if(!Jt.serialize){for(var Ae in R)if(R.hasOwnProperty(Ae)&&!(ii[ue].omit.indexOf(Ae)>=0)){var He=R[Ae];me[Ae]=ii[ue].shallow.indexOf(Ae)>=0?He:ot(He,I)}R instanceof Error&&(me.message=R.message)}if(me.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==ue&&(me.$name=ue),me}throw new Error("can't serialize object of type "+typeof R)}function bt(R){if(null==R||"boolean"==typeof R||"number"==typeof R||"string"==typeof R||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp||So(R)||ds(R)||ArrayBuffer.isView(R)||R instanceof Ti)return R;if(Array.isArray(R))return R.map(bt);if("object"==typeof R){var I=R.$name||"Object",q=ii[I].klass;if(!q)throw new Error("can't deserialize unregistered class "+I);if(q.deserialize)return q.deserialize(R);for(var ct=Object.create(q.prototype),mt=0,At=Object.keys(R);mt<At.length;mt+=1){var Jt=At[mt];if("$name"!==Jt){var ue=R[Jt];ct[Jt]=ii[I].shallow.indexOf(Jt)>=0?ue:bt(ue)}}return ct}throw new Error("can't deserialize object of type "+typeof R)}var Ft=function(){this.first=!0};Ft.prototype.update=function(I,V){var q=Math.floor(I);return this.first?(this.first=!1,this.lastIntegerZoom=q,this.lastIntegerZoomTime=0,this.lastZoom=I,this.lastFloorZoom=q,!0):(this.lastFloorZoom>q?(this.lastIntegerZoom=q+1,this.lastIntegerZoomTime=V):this.lastFloorZoom<q&&(this.lastIntegerZoom=q,this.lastIntegerZoomTime=V),I!==this.lastZoom&&(this.lastZoom=I,this.lastFloorZoom=q,!0))};var Yt={"Latin-1 Supplement":function(R){return R>=128&&R<=255},Arabic:function(R){return R>=1536&&R<=1791},"Arabic Supplement":function(R){return R>=1872&&R<=1919},"Arabic Extended-A":function(R){return R>=2208&&R<=2303},"Hangul Jamo":function(R){return R>=4352&&R<=4607},"Unified Canadian Aboriginal Syllabics":function(R){return R>=5120&&R<=5759},Khmer:function(R){return R>=6016&&R<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(R){return R>=6320&&R<=6399},"General Punctuation":function(R){return R>=8192&&R<=8303},"Letterlike Symbols":function(R){return R>=8448&&R<=8527},"Number Forms":function(R){return R>=8528&&R<=8591},"Miscellaneous Technical":function(R){return R>=8960&&R<=9215},"Control Pictures":function(R){return R>=9216&&R<=9279},"Optical Character Recognition":function(R){return R>=9280&&R<=9311},"Enclosed Alphanumerics":function(R){return R>=9312&&R<=9471},"Geometric Shapes":function(R){return R>=9632&&R<=9727},"Miscellaneous Symbols":function(R){return R>=9728&&R<=9983},"Miscellaneous Symbols and Arrows":function(R){return R>=11008&&R<=11263},"CJK Radicals Supplement":function(R){return R>=11904&&R<=12031},"Kangxi Radicals":function(R){return R>=12032&&R<=12255},"Ideographic Description Characters":function(R){return R>=12272&&R<=12287},"CJK Symbols and Punctuation":function(R){return R>=12288&&R<=12351},Hiragana:function(R){return R>=12352&&R<=12447},Katakana:function(R){return R>=12448&&R<=12543},Bopomofo:function(R){return R>=12544&&R<=12591},"Hangul Compatibility Jamo":function(R){return R>=12592&&R<=12687},Kanbun:function(R){return R>=12688&&R<=12703},"Bopomofo Extended":function(R){return R>=12704&&R<=12735},"CJK Strokes":function(R){return R>=12736&&R<=12783},"Katakana Phonetic Extensions":function(R){return R>=12784&&R<=12799},"Enclosed CJK Letters and Months":function(R){return R>=12800&&R<=13055},"CJK Compatibility":function(R){return R>=13056&&R<=13311},"CJK Unified Ideographs Extension A":function(R){return R>=13312&&R<=19903},"Yijing Hexagram Symbols":function(R){return R>=19904&&R<=19967},"CJK Unified Ideographs":function(R){return R>=19968&&R<=40959},"Yi Syllables":function(R){return R>=40960&&R<=42127},"Yi Radicals":function(R){return R>=42128&&R<=42191},"Hangul Jamo Extended-A":function(R){return R>=43360&&R<=43391},"Hangul Syllables":function(R){return R>=44032&&R<=55215},"Hangul Jamo Extended-B":function(R){return R>=55216&&R<=55295},"Private Use Area":function(R){return R>=57344&&R<=63743},"CJK Compatibility Ideographs":function(R){return R>=63744&&R<=64255},"Arabic Presentation Forms-A":function(R){return R>=64336&&R<=65023},"Vertical Forms":function(R){return R>=65040&&R<=65055},"CJK Compatibility Forms":function(R){return R>=65072&&R<=65103},"Small Form Variants":function(R){return R>=65104&&R<=65135},"Arabic Presentation Forms-B":function(R){return R>=65136&&R<=65279},"Halfwidth and Fullwidth Forms":function(R){return R>=65280&&R<=65519}};function _t(R){for(var I=0,V=R;I<V.length;I+=1)if(Oe(V[I].charCodeAt(0)))return!0;return!1}function Pe(R){return!(Yt.Arabic(R)||Yt["Arabic Supplement"](R)||Yt["Arabic Extended-A"](R)||Yt["Arabic Presentation Forms-A"](R)||Yt["Arabic Presentation Forms-B"](R))}function xe(R){return!(R<11904||!(Yt["Bopomofo Extended"](R)||Yt.Bopomofo(R)||Yt["CJK Compatibility Forms"](R)||Yt["CJK Compatibility Ideographs"](R)||Yt["CJK Compatibility"](R)||Yt["CJK Radicals Supplement"](R)||Yt["CJK Strokes"](R)||Yt["CJK Symbols and Punctuation"](R)||Yt["CJK Unified Ideographs Extension A"](R)||Yt["CJK Unified Ideographs"](R)||Yt["Enclosed CJK Letters and Months"](R)||Yt["Halfwidth and Fullwidth Forms"](R)||Yt.Hiragana(R)||Yt["Ideographic Description Characters"](R)||Yt["Kangxi Radicals"](R)||Yt["Katakana Phonetic Extensions"](R)||Yt.Katakana(R)||Yt["Vertical Forms"](R)||Yt["Yi Radicals"](R)||Yt["Yi Syllables"](R)))}function Oe(R){return 746===R||747===R||!(R<4352)&&!!(Yt["Bopomofo Extended"](R)||Yt.Bopomofo(R)||Yt["CJK Compatibility Forms"](R)&&!(R>=65097&&R<=65103)||Yt["CJK Compatibility Ideographs"](R)||Yt["CJK Compatibility"](R)||Yt["CJK Radicals Supplement"](R)||Yt["CJK Strokes"](R)||Yt["CJK Symbols and Punctuation"](R)&&!(R>=12296&&R<=12305)&&!(R>=12308&&R<=12319)&&12336!==R||Yt["CJK Unified Ideographs Extension A"](R)||Yt["CJK Unified Ideographs"](R)||Yt["Enclosed CJK Letters and Months"](R)||Yt["Hangul Compatibility Jamo"](R)||Yt["Hangul Jamo Extended-A"](R)||Yt["Hangul Jamo Extended-B"](R)||Yt["Hangul Jamo"](R)||Yt["Hangul Syllables"](R)||Yt.Hiragana(R)||Yt["Ideographic Description Characters"](R)||Yt.Kanbun(R)||Yt["Kangxi Radicals"](R)||Yt["Katakana Phonetic Extensions"](R)||Yt.Katakana(R)&&12540!==R||!(!Yt["Halfwidth and Fullwidth Forms"](R)||65288===R||65289===R||65293===R||R>=65306&&R<=65310||65339===R||65341===R||65343===R||R>=65371&&R<=65503||65507===R||R>=65512&&R<=65519)||!(!Yt["Small Form Variants"](R)||R>=65112&&R<=65118||R>=65123&&R<=65126)||Yt["Unified Canadian Aboriginal Syllabics"](R)||Yt["Unified Canadian Aboriginal Syllabics Extended"](R)||Yt["Vertical Forms"](R)||Yt["Yijing Hexagram Symbols"](R)||Yt["Yi Syllables"](R)||Yt["Yi Radicals"](R))}function qe(R){return!(Oe(R)||function Qe(R){return!!(Yt["Latin-1 Supplement"](R)&&(167===R||169===R||174===R||177===R||188===R||189===R||190===R||215===R||247===R)||Yt["General Punctuation"](R)&&(8214===R||8224===R||8225===R||8240===R||8241===R||8251===R||8252===R||8258===R||8263===R||8264===R||8265===R||8273===R)||Yt["Letterlike Symbols"](R)||Yt["Number Forms"](R)||Yt["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||9003===R||R>=9085&&R<=9114||R>=9150&&R<=9165||9167===R||R>=9169&&R<=9179||R>=9186&&R<=9215)||Yt["Control Pictures"](R)&&9251!==R||Yt["Optical Character Recognition"](R)||Yt["Enclosed Alphanumerics"](R)||Yt["Geometric Shapes"](R)||Yt["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||Yt["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||Yt["CJK Symbols and Punctuation"](R)||Yt.Katakana(R)||Yt["Private Use Area"](R)||Yt["CJK Compatibility Forms"](R)||Yt["Small Form Variants"](R)||Yt["Halfwidth and Fullwidth Forms"](R)||8734===R||8756===R||8757===R||R>=9984&&R<=10087||R>=10102&&R<=10131||65532===R||65533===R)}(R))}function Lr(R){return Yt.Arabic(R)||Yt["Arabic Supplement"](R)||Yt["Arabic Extended-A"](R)||Yt["Arabic Presentation Forms-A"](R)||Yt["Arabic Presentation Forms-B"](R)}function Pr(R){return R>=1424&&R<=2303||Yt["Arabic Presentation Forms-A"](R)||Yt["Arabic Presentation Forms-B"](R)}function _r(R,I){return!(!I&&Pr(R)||R>=2304&&R<=3583||R>=3840&&R<=4255||Yt.Khmer(R))}function cn(R){for(var I=0,V=R;I<V.length;I+=1)if(Pr(V[I].charCodeAt(0)))return!0;return!1}var Nr_deferred="deferred",Nr_loading="loading",Nr_loaded="loaded",Nr_error="error",Jr=null,on="unavailable",an=null,jr=function(R){R&&"string"==typeof R&&R.indexOf("NetworkError")>-1&&(on=Nr_error),Jr&&Jr(R)};function zn(){jn.fire(new $e("pluginStateChange",{pluginStatus:on,pluginURL:an}))}var jn=new or,aa=function(){return on},va=function(){if(on!==Nr_deferred||!an)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");on=Nr_loading,zn(),an&&Ie({url:an},function(R){R?jr(R):(on=Nr_loaded,zn())})},Ca={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return on===Nr_loaded||null!=Ca.applyArabicShaping},isLoading:function(){return on===Nr_loading},setState:function(I){on=I.pluginStatus,an=I.pluginURL},isParsed:function(){return null!=Ca.applyArabicShaping&&null!=Ca.processBidirectionalText&&null!=Ca.processStyledBidirectionalText},getPluginURL:function(){return an}},fa=function(I,V){this.zoom=I,V?(this.now=V.now,this.fadeDuration=V.fadeDuration,this.zoomHistory=V.zoomHistory,this.transition=V.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ft,this.transition={})};fa.prototype.isSupportedScript=function(I){return function Rr(R,I){for(var V=0,q=R;V<q.length;V+=1)if(!_r(q[V].charCodeAt(0),I))return!1;return!0}(I,Ca.isLoaded())},fa.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},fa.prototype.getCrossfadeParameters=function(){var I=this.zoom,V=I-Math.floor(I),q=this.crossFadingFactor();return I>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:V+(1-V)*q}:{fromScale:.5,toScale:1,t:1-(1-q)*V}};var Ya=function(I,V){this.property=I,this.value=V,this.expression=function Hu(R,I){if(Zs(R))return new Cs(R,I);if(Es(R)){var V=Js(R,I);if("error"===V.result)throw new Error(V.value.map(function(ct){return ct.key+": "+ct.message}).join(", "));return V.value}var q=R;return"string"==typeof R&&"color"===I.type&&(q=ti.parse(R)),{kind:"constant",evaluate:function(){return q}}}(void 0===V?I.specification.default:V,I.specification)};Ya.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Ya.prototype.possiblyEvaluate=function(I,V,q){return this.property.possiblyEvaluate(this,I,V,q)};var mi=function(I){this.property=I,this.value=new Ya(I,void 0)};mi.prototype.transitioned=function(I,V){return new Xn(this.property,this.value,V,M({},I.transition,this.transition),I.now)},mi.prototype.untransitioned=function(){return new Xn(this.property,this.value,null,{},0)};var Ba=function(I){this._properties=I,this._values=Object.create(I.defaultTransitionablePropertyValues)};Ba.prototype.getValue=function(I){return N(this._values[I].value.value)},Ba.prototype.setValue=function(I,V){this._values.hasOwnProperty(I)||(this._values[I]=new mi(this._values[I].property)),this._values[I].value=new Ya(this._values[I].property,null===V?void 0:N(V))},Ba.prototype.getTransition=function(I){return N(this._values[I].transition)},Ba.prototype.setTransition=function(I,V){this._values.hasOwnProperty(I)||(this._values[I]=new mi(this._values[I].property)),this._values[I].transition=N(V)||void 0},Ba.prototype.serialize=function(){for(var I={},V=0,q=Object.keys(this._values);V<q.length;V+=1){var ct=q[V],mt=this.getValue(ct);void 0!==mt&&(I[ct]=mt);var At=this.getTransition(ct);void 0!==At&&(I[ct+"-transition"]=At)}return I},Ba.prototype.transitioned=function(I,V){for(var q=new Ra(this._properties),ct=0,mt=Object.keys(this._values);ct<mt.length;ct+=1){var At=mt[ct];q._values[At]=this._values[At].transitioned(I,V._values[At])}return q},Ba.prototype.untransitioned=function(){for(var I=new Ra(this._properties),V=0,q=Object.keys(this._values);V<q.length;V+=1){var ct=q[V];I._values[ct]=this._values[ct].untransitioned()}return I};var Xn=function(I,V,q,ct,mt){this.property=I,this.value=V,this.begin=mt+ct.delay||0,this.end=this.begin+ct.duration||0,I.specification.transition&&(ct.delay||ct.duration)&&(this.prior=q)};Xn.prototype.possiblyEvaluate=function(I,V,q){var ct=I.now||0,mt=this.value.possiblyEvaluate(I,V,q),At=this.prior;if(At){if(ct>this.end)return this.prior=null,mt;if(this.value.isDataDriven())return this.prior=null,mt;if(ct<this.begin)return At.possiblyEvaluate(I,V,q);var Jt=(ct-this.begin)/(this.end-this.begin);return this.property.interpolate(At.possiblyEvaluate(I,V,q),mt,function f(R){if(R<=0)return 0;if(R>=1)return 1;var I=R*R,V=I*R;return 4*(R<.5?V:3*(R-I)+V-.75)}(Jt))}return mt};var Ra=function(I){this._properties=I,this._values=Object.create(I.defaultTransitioningPropertyValues)};Ra.prototype.possiblyEvaluate=function(I,V,q){for(var ct=new ci(this._properties),mt=0,At=Object.keys(this._values);mt<At.length;mt+=1){var Jt=At[mt];ct._values[Jt]=this._values[Jt].possiblyEvaluate(I,V,q)}return ct},Ra.prototype.hasTransition=function(){for(var I=0,V=Object.keys(this._values);I<V.length;I+=1)if(this._values[V[I]].prior)return!0;return!1};var za=function(I){this._properties=I,this._values=Object.create(I.defaultPropertyValues)};za.prototype.getValue=function(I){return N(this._values[I].value)},za.prototype.setValue=function(I,V){this._values[I]=new Ya(this._values[I].property,null===V?void 0:N(V))},za.prototype.serialize=function(){for(var I={},V=0,q=Object.keys(this._values);V<q.length;V+=1){var ct=q[V],mt=this.getValue(ct);void 0!==mt&&(I[ct]=mt)}return I},za.prototype.possiblyEvaluate=function(I,V,q){for(var ct=new ci(this._properties),mt=0,At=Object.keys(this._values);mt<At.length;mt+=1){var Jt=At[mt];ct._values[Jt]=this._values[Jt].possiblyEvaluate(I,V,q)}return ct};var Na=function(I,V,q){this.property=I,this.value=V,this.parameters=q};Na.prototype.isConstant=function(){return"constant"===this.value.kind},Na.prototype.constantOr=function(I){return"constant"===this.value.kind?this.value.value:I},Na.prototype.evaluate=function(I,V,q,ct){return this.property.evaluate(this.value,this.parameters,I,V,q,ct)};var ci=function(I){this._properties=I,this._values=Object.create(I.defaultPossiblyEvaluatedValues)};ci.prototype.get=function(I){return this._values[I]};var Jn=function(I){this.specification=I};Jn.prototype.possiblyEvaluate=function(I,V){return I.expression.evaluate(V)},Jn.prototype.interpolate=function(I,V,q){var ct=ll[this.specification.type];return ct?ct(I,V,q):I};var ya=function(I,V){this.specification=I,this.overrides=V};ya.prototype.possiblyEvaluate=function(I,V,q,ct){return new Na(this,"constant"===I.expression.kind||"camera"===I.expression.kind?{kind:"constant",value:I.expression.evaluate(V,null,{},q,ct)}:I.expression,V)},ya.prototype.interpolate=function(I,V,q){if("constant"!==I.value.kind||"constant"!==V.value.kind)return I;if(void 0===I.value.value||void 0===V.value.value)return new Na(this,{kind:"constant",value:void 0},I.parameters);var ct=ll[this.specification.type];return ct?new Na(this,{kind:"constant",value:ct(I.value.value,V.value.value,q)},I.parameters):I},ya.prototype.evaluate=function(I,V,q,ct,mt,At){return"constant"===I.kind?I.value:I.evaluate(V,q,ct,mt,At)};var Si=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.possiblyEvaluate=function(q,ct,mt,At){if(void 0===q.value)return new Na(this,{kind:"constant",value:void 0},ct);if("constant"===q.expression.kind){var Jt=q.expression.evaluate(ct,null,{},mt,At),me="resolvedImage"===q.property.specification.type&&"string"!=typeof Jt?Jt.name:Jt,Ae=this._calculate(me,me,me,ct);return new Na(this,{kind:"constant",value:Ae},ct)}if("camera"===q.expression.kind){var He=this._calculate(q.expression.evaluate({zoom:ct.zoom-1}),q.expression.evaluate({zoom:ct.zoom}),q.expression.evaluate({zoom:ct.zoom+1}),ct);return new Na(this,{kind:"constant",value:He},ct)}return new Na(this,q.expression,ct)},I.prototype.evaluate=function(q,ct,mt,At,Jt,ue){if("source"===q.kind){var me=q.evaluate(ct,mt,At,Jt,ue);return this._calculate(me,me,me,ct)}return"composite"===q.kind?this._calculate(q.evaluate({zoom:Math.floor(ct.zoom)-1},mt,At),q.evaluate({zoom:Math.floor(ct.zoom)},mt,At),q.evaluate({zoom:Math.floor(ct.zoom)+1},mt,At),ct):q.value},I.prototype._calculate=function(q,ct,mt,At){return At.zoom>At.zoomHistory.lastIntegerZoom?{from:q,to:ct}:{from:mt,to:ct}},I.prototype.interpolate=function(q){return q},I}(ya),hi=function(I){this.specification=I};hi.prototype.possiblyEvaluate=function(I,V,q,ct){if(void 0!==I.value){if("constant"===I.expression.kind){var mt=I.expression.evaluate(V,null,{},q,ct);return this._calculate(mt,mt,mt,V)}return this._calculate(I.expression.evaluate(new fa(Math.floor(V.zoom-1),V)),I.expression.evaluate(new fa(Math.floor(V.zoom),V)),I.expression.evaluate(new fa(Math.floor(V.zoom+1),V)),V)}},hi.prototype._calculate=function(I,V,q,ct){return ct.zoom>ct.zoomHistory.lastIntegerZoom?{from:I,to:V}:{from:q,to:V}},hi.prototype.interpolate=function(I){return I};var Di=function(I){this.specification=I};Di.prototype.possiblyEvaluate=function(I,V,q,ct){return!!I.expression.evaluate(V,null,{},q,ct)},Di.prototype.interpolate=function(){return!1};var oi=function(I){for(var V in this.properties=I,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],I){var q=I[V];q.specification.overridable&&this.overridableProperties.push(V);var ct=this.defaultPropertyValues[V]=new Ya(q,void 0),mt=this.defaultTransitionablePropertyValues[V]=new mi(q);this.defaultTransitioningPropertyValues[V]=mt.untransitioned(),this.defaultPossiblyEvaluatedValues[V]=ct.possiblyEvaluate({})}};la("DataDrivenProperty",ya),la("DataConstantProperty",Jn),la("CrossFadedDataDrivenProperty",Si),la("CrossFadedProperty",hi),la("ColorRampProperty",Di);var Ai="-transition",Mi=function(R){function I(V,q){if(R.call(this),this.id=V.id,this.type=V.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==V.type&&(this.metadata=V.metadata,this.minzoom=V.minzoom,this.maxzoom=V.maxzoom,"background"!==V.type&&(this.source=V.source,this.sourceLayer=V["source-layer"],this.filter=V.filter),q.layout&&(this._unevaluatedLayout=new za(q.layout)),q.paint)){for(var ct in this._transitionablePaint=new Ba(q.paint),V.paint)this.setPaintProperty(ct,V.paint[ct],{validate:!1});for(var mt in V.layout)this.setLayoutProperty(mt,V.layout[mt],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ci(q.paint)}}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},I.prototype.getLayoutProperty=function(q){return"visibility"===q?this.visibility:this._unevaluatedLayout.getValue(q)},I.prototype.setLayoutProperty=function(q,ct,mt){void 0===mt&&(mt={}),null!=ct&&this._validate(wa,"layers."+this.id+".layout."+q,q,ct,mt)||("visibility"!==q?this._unevaluatedLayout.setValue(q,ct):this.visibility=ct)},I.prototype.getPaintProperty=function(q){return p(q,Ai)?this._transitionablePaint.getTransition(q.slice(0,-Ai.length)):this._transitionablePaint.getValue(q)},I.prototype.setPaintProperty=function(q,ct,mt){if(void 0===mt&&(mt={}),null!=ct&&this._validate(ia,"layers."+this.id+".paint."+q,q,ct,mt))return!1;if(p(q,Ai))return this._transitionablePaint.setTransition(q.slice(0,-Ai.length),ct||void 0),!1;var Jt=this._transitionablePaint._values[q],ue="cross-faded-data-driven"===Jt.property.specification["property-type"],me=Jt.value.isDataDriven(),Ae=Jt.value;this._transitionablePaint.setValue(q,ct),this._handleSpecialPaintPropertyUpdate(q);var He=this._transitionablePaint._values[q].value;return He.isDataDriven()||me||ue||this._handleOverridablePaintPropertyUpdate(q,Ae,He)},I.prototype._handleSpecialPaintPropertyUpdate=function(q){},I.prototype._handleOverridablePaintPropertyUpdate=function(q,ct,mt){return!1},I.prototype.isHidden=function(q){return!!(this.minzoom&&q<this.minzoom||this.maxzoom&&q>=this.maxzoom)||"none"===this.visibility},I.prototype.updateTransitions=function(q){this._transitioningPaint=this._transitionablePaint.transitioned(q,this._transitioningPaint)},I.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},I.prototype.recalculate=function(q,ct){q.getCrossfadeParameters&&(this._crossfadeParameters=q.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(q,void 0,ct)),this.paint=this._transitioningPaint.possiblyEvaluate(q,void 0,ct)},I.prototype.serialize=function(){var q={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(q.layout=q.layout||{},q.layout.visibility=this.visibility),D(q,function(ct,mt){return!(void 0===ct||"layout"===mt&&!Object.keys(ct).length||"paint"===mt&&!Object.keys(ct).length)})},I.prototype._validate=function(q,ct,mt,At,Jt){return void 0===Jt&&(Jt={}),(!Jt||!1!==Jt.validate)&&Ea(this,q.call(xn,{key:ct,layerType:this.type,objectKey:mt,value:At,styleSpec:Tr,style:{glyphs:!0,sprite:!0}}))},I.prototype.is3D=function(){return!1},I.prototype.isTileClipped=function(){return!1},I.prototype.hasOffscreenPass=function(){return!1},I.prototype.resize=function(){},I.prototype.isStateDependent=function(){for(var q in this.paint._values){var ct=this.paint.get(q);if(ct instanceof Na&&Ho(ct.property.specification)&&("source"===ct.value.kind||"composite"===ct.value.kind)&&ct.value.isStateDependent)return!0}return!1},I}(or),Ml={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Kl=function(I,V){this._structArray=I,this._pos1=V*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ua=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function ri(R,I){void 0===I&&(I=1);var V=0,q=0;return{members:R.map(function(At){var Jt=function ao(R){return Ml[R].BYTES_PER_ELEMENT}(At.type),ue=V=Sl(V,Math.max(I,Jt)),me=At.components||1;return q=Math.max(q,Jt),V+=Jt*me,{name:At.name,type:At.type,components:me,offset:ue}}),size:Sl(V,Math.max(q,I)),alignment:I}}function Sl(R,I){return Math.ceil(R/I)*I}Ua.serialize=function(I,V){return I._trim(),V&&(I.isTransferred=!0,V.push(I.arrayBuffer)),{length:I.length,arrayBuffer:I.arrayBuffer}},Ua.deserialize=function(I){var V=Object.create(this.prototype);return V.arrayBuffer=I.arrayBuffer,V.length=I.length,V.capacity=I.arrayBuffer.byteLength/V.bytesPerElement,V._refreshViews(),V},Ua.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ua.prototype.clear=function(){this.length=0},Ua.prototype.resize=function(I){this.reserve(I),this.length=I},Ua.prototype.reserve=function(I){if(I>this.capacity){this.capacity=Math.max(I,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var V=this.uint8;this._refreshViews(),V&&this.uint8.set(V)}},Ua.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Eo=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct){var mt=this.length;return this.resize(mt+1),this.emplace(mt,q,ct)},I.prototype.emplace=function(q,ct,mt){var At=2*q;return this.int16[At+0]=ct,this.int16[At+1]=mt,q},I}(Ua);Eo.prototype.bytesPerElement=4,la("StructArrayLayout2i4",Eo);var ps=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt,At){var Jt=this.length;return this.resize(Jt+1),this.emplace(Jt,q,ct,mt,At)},I.prototype.emplace=function(q,ct,mt,At,Jt){var ue=4*q;return this.int16[ue+0]=ct,this.int16[ue+1]=mt,this.int16[ue+2]=At,this.int16[ue+3]=Jt,q},I}(Ua);ps.prototype.bytesPerElement=8,la("StructArrayLayout4i8",ps);var as=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt,At,Jt,ue){var me=this.length;return this.resize(me+1),this.emplace(me,q,ct,mt,At,Jt,ue)},I.prototype.emplace=function(q,ct,mt,At,Jt,ue,me){var Ae=6*q;return this.int16[Ae+0]=ct,this.int16[Ae+1]=mt,this.int16[Ae+2]=At,this.int16[Ae+3]=Jt,this.int16[Ae+4]=ue,this.int16[Ae+5]=me,q},I}(Ua);as.prototype.bytesPerElement=12,la("StructArrayLayout2i4i12",as);var El=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt,At,Jt,ue){var me=this.length;return this.resize(me+1),this.emplace(me,q,ct,mt,At,Jt,ue)},I.prototype.emplace=function(q,ct,mt,At,Jt,ue,me){var Ae=4*q,He=8*q;return this.int16[Ae+0]=ct,this.int16[Ae+1]=mt,this.uint8[He+4]=At,this.uint8[He+5]=Jt,this.uint8[He+6]=ue,this.uint8[He+7]=me,q},I}(Ua);El.prototype.bytesPerElement=8,la("StructArrayLayout2i4ub8",El);var Xu=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct){var mt=this.length;return this.resize(mt+1),this.emplace(mt,q,ct)},I.prototype.emplace=function(q,ct,mt){var At=2*q;return this.float32[At+0]=ct,this.float32[At+1]=mt,q},I}(Ua);Xu.prototype.bytesPerElement=8,la("StructArrayLayout2f8",Xu);var Co=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt,At,Jt,ue,me,Ae,He,er){var Je=this.length;return this.resize(Je+1),this.emplace(Je,q,ct,mt,At,Jt,ue,me,Ae,He,er)},I.prototype.emplace=function(q,ct,mt,At,Jt,ue,me,Ae,He,er,Je){var mr=10*q;return this.uint16[mr+0]=ct,this.uint16[mr+1]=mt,this.uint16[mr+2]=At,this.uint16[mr+3]=Jt,this.uint16[mr+4]=ue,this.uint16[mr+5]=me,this.uint16[mr+6]=Ae,this.uint16[mr+7]=He,this.uint16[mr+8]=er,this.uint16[mr+9]=Je,q},I}(Ua);Co.prototype.bytesPerElement=20,la("StructArrayLayout10ui20",Co);var Jl=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt,At,Jt,ue,me,Ae,He,er,Je,mr){var zr=this.length;return this.resize(zr+1),this.emplace(zr,q,ct,mt,At,Jt,ue,me,Ae,He,er,Je,mr)},I.prototype.emplace=function(q,ct,mt,At,Jt,ue,me,Ae,He,er,Je,mr,zr){var fn=12*q;return this.int16[fn+0]=ct,this.int16[fn+1]=mt,this.int16[fn+2]=At,this.int16[fn+3]=Jt,this.uint16[fn+4]=ue,this.uint16[fn+5]=me,this.uint16[fn+6]=Ae,this.uint16[fn+7]=He,this.int16[fn+8]=er,this.int16[fn+9]=Je,this.int16[fn+10]=mr,this.int16[fn+11]=zr,q},I}(Ua);Jl.prototype.bytesPerElement=24,la("StructArrayLayout4i4ui4i24",Jl);var ac=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt){var At=this.length;return this.resize(At+1),this.emplace(At,q,ct,mt)},I.prototype.emplace=function(q,ct,mt,At){var Jt=3*q;return this.float32[Jt+0]=ct,this.float32[Jt+1]=mt,this.float32[Jt+2]=At,q},I}(Ua);ac.prototype.bytesPerElement=12,la("StructArrayLayout3f12",ac);var ic=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q){var ct=this.length;return this.resize(ct+1),this.emplace(ct,q)},I.prototype.emplace=function(q,ct){return this.uint32[1*q+0]=ct,q},I}(Ua);ic.prototype.bytesPerElement=4,la("StructArrayLayout1ul4",ic);var Af=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt,At,Jt,ue,me,Ae,He){var er=this.length;return this.resize(er+1),this.emplace(er,q,ct,mt,At,Jt,ue,me,Ae,He)},I.prototype.emplace=function(q,ct,mt,At,Jt,ue,me,Ae,He,er){var Je=10*q,mr=5*q;return this.int16[Je+0]=ct,this.int16[Je+1]=mt,this.int16[Je+2]=At,this.int16[Je+3]=Jt,this.int16[Je+4]=ue,this.int16[Je+5]=me,this.uint32[mr+3]=Ae,this.uint16[Je+8]=He,this.uint16[Je+9]=er,q},I}(Ua);Af.prototype.bytesPerElement=20,la("StructArrayLayout6i1ul2ui20",Af);var If=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt,At,Jt,ue){var me=this.length;return this.resize(me+1),this.emplace(me,q,ct,mt,At,Jt,ue)},I.prototype.emplace=function(q,ct,mt,At,Jt,ue,me){var Ae=6*q;return this.int16[Ae+0]=ct,this.int16[Ae+1]=mt,this.int16[Ae+2]=At,this.int16[Ae+3]=Jt,this.int16[Ae+4]=ue,this.int16[Ae+5]=me,q},I}(Ua);If.prototype.bytesPerElement=12,la("StructArrayLayout2i2i2i12",If);var Cl=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt,At,Jt){var ue=this.length;return this.resize(ue+1),this.emplace(ue,q,ct,mt,At,Jt)},I.prototype.emplace=function(q,ct,mt,At,Jt,ue){var me=4*q,Ae=8*q;return this.float32[me+0]=ct,this.float32[me+1]=mt,this.float32[me+2]=At,this.int16[Ae+6]=Jt,this.int16[Ae+7]=ue,q},I}(Ua);Cl.prototype.bytesPerElement=16,la("StructArrayLayout2f1f2i16",Cl);var Go=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt,At){var Jt=this.length;return this.resize(Jt+1),this.emplace(Jt,q,ct,mt,At)},I.prototype.emplace=function(q,ct,mt,At,Jt){var ue=12*q,me=3*q;return this.uint8[ue+0]=ct,this.uint8[ue+1]=mt,this.float32[me+1]=At,this.float32[me+2]=Jt,q},I}(Ua);Go.prototype.bytesPerElement=12,la("StructArrayLayout2ub2f12",Go);var Ll=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt){var At=this.length;return this.resize(At+1),this.emplace(At,q,ct,mt)},I.prototype.emplace=function(q,ct,mt,At){var Jt=3*q;return this.uint16[Jt+0]=ct,this.uint16[Jt+1]=mt,this.uint16[Jt+2]=At,q},I}(Ua);Ll.prototype.bytesPerElement=6,la("StructArrayLayout3ui6",Ll);var Mf=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt,At,Jt,ue,me,Ae,He,er,Je,mr,zr,fn,qr,Mn,mn){var An=this.length;return this.resize(An+1),this.emplace(An,q,ct,mt,At,Jt,ue,me,Ae,He,er,Je,mr,zr,fn,qr,Mn,mn)},I.prototype.emplace=function(q,ct,mt,At,Jt,ue,me,Ae,He,er,Je,mr,zr,fn,qr,Mn,mn,An){var Dn=24*q,Bn=12*q,Yn=48*q;return this.int16[Dn+0]=ct,this.int16[Dn+1]=mt,this.uint16[Dn+2]=At,this.uint16[Dn+3]=Jt,this.uint32[Bn+2]=ue,this.uint32[Bn+3]=me,this.uint32[Bn+4]=Ae,this.uint16[Dn+10]=He,this.uint16[Dn+11]=er,this.uint16[Dn+12]=Je,this.float32[Bn+7]=mr,this.float32[Bn+8]=zr,this.uint8[Yn+36]=fn,this.uint8[Yn+37]=qr,this.uint8[Yn+38]=Mn,this.uint32[Bn+10]=mn,this.int16[Dn+22]=An,q},I}(Ua);Mf.prototype.bytesPerElement=48,la("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Mf);var Ff=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt,At,Jt,ue,me,Ae,He,er,Je,mr,zr,fn,qr,Mn,mn,An,Dn,Bn,Yn,Gn,da,sa,ha,Ia,pa,ba){var Va=this.length;return this.resize(Va+1),this.emplace(Va,q,ct,mt,At,Jt,ue,me,Ae,He,er,Je,mr,zr,fn,qr,Mn,mn,An,Dn,Bn,Yn,Gn,da,sa,ha,Ia,pa,ba)},I.prototype.emplace=function(q,ct,mt,At,Jt,ue,me,Ae,He,er,Je,mr,zr,fn,qr,Mn,mn,An,Dn,Bn,Yn,Gn,da,sa,ha,Ia,pa,ba,Va){var Da=34*q,$a=17*q;return this.int16[Da+0]=ct,this.int16[Da+1]=mt,this.int16[Da+2]=At,this.int16[Da+3]=Jt,this.int16[Da+4]=ue,this.int16[Da+5]=me,this.int16[Da+6]=Ae,this.int16[Da+7]=He,this.uint16[Da+8]=er,this.uint16[Da+9]=Je,this.uint16[Da+10]=mr,this.uint16[Da+11]=zr,this.uint16[Da+12]=fn,this.uint16[Da+13]=qr,this.uint16[Da+14]=Mn,this.uint16[Da+15]=mn,this.uint16[Da+16]=An,this.uint16[Da+17]=Dn,this.uint16[Da+18]=Bn,this.uint16[Da+19]=Yn,this.uint16[Da+20]=Gn,this.uint16[Da+21]=da,this.uint16[Da+22]=sa,this.uint32[$a+12]=ha,this.float32[$a+13]=Ia,this.float32[$a+14]=pa,this.float32[$a+15]=ba,this.float32[$a+16]=Va,q},I}(Ua);Ff.prototype.bytesPerElement=68,la("StructArrayLayout8i15ui1ul4f68",Ff);var Zu=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q){var ct=this.length;return this.resize(ct+1),this.emplace(ct,q)},I.prototype.emplace=function(q,ct){return this.float32[1*q+0]=ct,q},I}(Ua);Zu.prototype.bytesPerElement=4,la("StructArrayLayout1f4",Zu);var oc=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt){var At=this.length;return this.resize(At+1),this.emplace(At,q,ct,mt)},I.prototype.emplace=function(q,ct,mt,At){var Jt=3*q;return this.int16[Jt+0]=ct,this.int16[Jt+1]=mt,this.int16[Jt+2]=At,q},I}(Ua);oc.prototype.bytesPerElement=6,la("StructArrayLayout3i6",oc);var Ql=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt){var At=this.length;return this.resize(At+1),this.emplace(At,q,ct,mt)},I.prototype.emplace=function(q,ct,mt,At){var ue=4*q;return this.uint32[2*q+0]=ct,this.uint16[ue+2]=mt,this.uint16[ue+3]=At,q},I}(Ua);Ql.prototype.bytesPerElement=8,la("StructArrayLayout1ul2ui8",Ql);var Sf=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct){var mt=this.length;return this.resize(mt+1),this.emplace(mt,q,ct)},I.prototype.emplace=function(q,ct,mt){var At=2*q;return this.uint16[At+0]=ct,this.uint16[At+1]=mt,q},I}(Ua);Sf.prototype.bytesPerElement=4,la("StructArrayLayout2ui4",Sf);var ju=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q){var ct=this.length;return this.resize(ct+1),this.emplace(ct,q)},I.prototype.emplace=function(q,ct){return this.uint16[1*q+0]=ct,q},I}(Ua);ju.prototype.bytesPerElement=2,la("StructArrayLayout1ui2",ju);var xu=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ct,mt,At){var Jt=this.length;return this.resize(Jt+1),this.emplace(Jt,q,ct,mt,At)},I.prototype.emplace=function(q,ct,mt,At,Jt){var ue=4*q;return this.float32[ue+0]=ct,this.float32[ue+1]=mt,this.float32[ue+2]=At,this.float32[ue+3]=Jt,q},I}(Ua);xu.prototype.bytesPerElement=16,la("StructArrayLayout4f16",xu);var Sc=function(R){function I(){R.apply(this,arguments)}R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I;var V={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return V.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},V.x1.get=function(){return this._structArray.int16[this._pos2+2]},V.y1.get=function(){return this._structArray.int16[this._pos2+3]},V.x2.get=function(){return this._structArray.int16[this._pos2+4]},V.y2.get=function(){return this._structArray.int16[this._pos2+5]},V.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},V.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},V.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},V.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(I.prototype,V),I}(Kl);Sc.prototype.size=20;var sc=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.get=function(q){return new Sc(this,q)},I}(Af);la("CollisionBoxArray",sc);var bu=function(R){function I(){R.apply(this,arguments)}R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I;var V={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return V.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},V.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},V.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},V.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},V.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},V.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},V.segment.get=function(){return this._structArray.uint16[this._pos2+10]},V.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},V.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},V.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},V.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},V.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},V.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},V.placedOrientation.set=function(q){this._structArray.uint8[this._pos1+37]=q},V.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},V.hidden.set=function(q){this._structArray.uint8[this._pos1+38]=q},V.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},V.crossTileID.set=function(q){this._structArray.uint32[this._pos4+10]=q},V.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(I.prototype,V),I}(Kl);bu.prototype.size=48;var lc=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.get=function(q){return new bu(this,q)},I}(Mf);la("PlacedSymbolArray",lc);var Ku=function(R){function I(){R.apply(this,arguments)}R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I;var V={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return V.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},V.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},V.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},V.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},V.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},V.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},V.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},V.key.get=function(){return this._structArray.uint16[this._pos2+8]},V.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},V.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},V.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},V.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},V.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},V.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},V.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},V.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},V.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},V.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},V.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},V.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},V.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},V.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},V.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},V.crossTileID.set=function(q){this._structArray.uint32[this._pos4+12]=q},V.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},V.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},V.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},V.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(I.prototype,V),I}(Kl);Ku.prototype.size=68;var Ec=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.get=function(q){return new Ku(this,q)},I}(Ff);la("SymbolInstanceArray",Ec);var Cc=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.getoffsetX=function(q){return this.float32[1*q+0]},I}(Zu);la("GlyphOffsetArray",Cc);var Ds=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.getx=function(q){return this.int16[3*q+0]},I.prototype.gety=function(q){return this.int16[3*q+1]},I.prototype.gettileUnitDistanceFromAnchor=function(q){return this.int16[3*q+2]},I}(oc);la("SymbolLineVertexArray",Ds);var Lc=function(R){function I(){R.apply(this,arguments)}R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I;var V={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return V.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},V.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},V.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(I.prototype,V),I}(Kl);Lc.prototype.size=8;var Pc=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.get=function(q){return new Lc(this,q)},I}(Ql);la("FeatureIndexArray",Pc);var Dc=ri([{name:"a_pos",components:2,type:"Int16"}],4).members,Gi=function(I){void 0===I&&(I=[]),this.segments=I};function ut(R,I){return 256*(R=c(Math.floor(R),0,255))+c(Math.floor(I),0,255)}Gi.prototype.prepareSegment=function(I,V,q,ct){var mt=this.segments[this.segments.length-1];return I>Gi.MAX_VERTEX_ARRAY_LENGTH&&B("Max vertices per segment is "+Gi.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+I),(!mt||mt.vertexLength+I>Gi.MAX_VERTEX_ARRAY_LENGTH||mt.sortKey!==ct)&&(mt={vertexOffset:V.length,primitiveOffset:q.length,vertexLength:0,primitiveLength:0},void 0!==ct&&(mt.sortKey=ct),this.segments.push(mt)),mt},Gi.prototype.get=function(){return this.segments},Gi.prototype.destroy=function(){for(var I=0,V=this.segments;I<V.length;I+=1){var q=V[I];for(var ct in q.vaos)q.vaos[ct].destroy()}},Gi.simpleSegment=function(I,V,q,ct){return new Gi([{vertexOffset:I,primitiveOffset:V,vertexLength:q,primitiveLength:ct,vaos:{},sortKey:0}])},Gi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,la("SegmentVector",Gi);var X=ri([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ht=P(function(R){R.exports=function I(V,q){var ct,mt,At,Jt,ue,me,Ae,He;for(mt=V.length-(ct=3&V.length),At=q,ue=3432918353,me=461845907,He=0;He<mt;)Ae=255&V.charCodeAt(He)|(255&V.charCodeAt(++He))<<8|(255&V.charCodeAt(++He))<<16|(255&V.charCodeAt(++He))<<24,++He,At=27492+(65535&(Jt=5*(65535&(At=(At^=Ae=(65535&(Ae=(Ae=(65535&Ae)*ue+(((Ae>>>16)*ue&65535)<<16)&4294967295)<<15|Ae>>>17))*me+(((Ae>>>16)*me&65535)<<16)&4294967295)<<13|At>>>19))+((5*(At>>>16)&65535)<<16)&4294967295))+((58964+(Jt>>>16)&65535)<<16);switch(Ae=0,ct){case 3:Ae^=(255&V.charCodeAt(He+2))<<16;case 2:Ae^=(255&V.charCodeAt(He+1))<<8;case 1:At^=Ae=(65535&(Ae=(Ae=(65535&(Ae^=255&V.charCodeAt(He)))*ue+(((Ae>>>16)*ue&65535)<<16)&4294967295)<<15|Ae>>>17))*me+(((Ae>>>16)*me&65535)<<16)&4294967295}return At^=V.length,At=2246822507*(65535&(At^=At>>>16))+((2246822507*(At>>>16)&65535)<<16)&4294967295,At=3266489909*(65535&(At^=At>>>13))+((3266489909*(At>>>16)&65535)<<16)&4294967295,(At^=At>>>16)>>>0}}),$=P(function(R){R.exports=function I(V,q){for(var Jt,ct=V.length,mt=q^ct,At=0;ct>=4;)Jt=1540483477*(65535&(Jt=255&V.charCodeAt(At)|(255&V.charCodeAt(++At))<<8|(255&V.charCodeAt(++At))<<16|(255&V.charCodeAt(++At))<<24))+((1540483477*(Jt>>>16)&65535)<<16),mt=1540483477*(65535&mt)+((1540483477*(mt>>>16)&65535)<<16)^(Jt=1540483477*(65535&(Jt^=Jt>>>24))+((1540483477*(Jt>>>16)&65535)<<16)),ct-=4,++At;switch(ct){case 3:mt^=(255&V.charCodeAt(At+2))<<16;case 2:mt^=(255&V.charCodeAt(At+1))<<8;case 1:mt=1540483477*(65535&(mt^=255&V.charCodeAt(At)))+((1540483477*(mt>>>16)&65535)<<16)}return mt=1540483477*(65535&(mt^=mt>>>13))+((1540483477*(mt>>>16)&65535)<<16),(mt^=mt>>>15)>>>0}}),vt=ht,Zt=$;vt.murmur3=ht,vt.murmur2=Zt;var ae=function(){this.ids=[],this.positions=[],this.indexed=!1};ae.prototype.add=function(I,V,q,ct){this.ids.push(ze(I)),this.positions.push(V,q,ct)},ae.prototype.getPositions=function(I){for(var V=ze(I),q=0,ct=this.ids.length-1;q<ct;){var mt=q+ct>>1;this.ids[mt]>=V?ct=mt:q=mt+1}for(var At=[];this.ids[q]===V;)At.push({index:this.positions[3*q],start:this.positions[3*q+1],end:this.positions[3*q+2]}),q++;return At},ae.serialize=function(I,V){var q=new Float64Array(I.ids),ct=new Uint32Array(I.positions);return Ke(q,ct,0,q.length-1),V&&V.push(q.buffer,ct.buffer),{ids:q,positions:ct}},ae.deserialize=function(I){var V=new ae;return V.ids=I.ids,V.positions=I.positions,V.indexed=!0,V};var we=Math.pow(2,53)-1;function ze(R){var I=+R;return!isNaN(I)&&I<=we?I:vt(String(R))}function Ke(R,I,V,q){for(;V<q;){for(var ct=R[V+q>>1],mt=V-1,At=q+1;;){do{mt++}while(R[mt]<ct);do{At--}while(R[At]>ct);if(mt>=At)break;ar(R,mt,At),ar(I,3*mt,3*At),ar(I,3*mt+1,3*At+1),ar(I,3*mt+2,3*At+2)}At-V<q-At?(Ke(R,I,V,At),V=At+1):(Ke(R,I,At+1,q),q=At)}}function ar(R,I,V){var q=R[I];R[I]=R[V],R[V]=q}la("FeaturePositionMap",ae);var rr=function(I,V){this.gl=I.gl,this.location=V},Ir=function(R){function I(V,q){R.call(this,V,q),this.current=0}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.set=function(q){this.current!==q&&(this.current=q,this.gl.uniform1i(this.location,q))},I}(rr),Zr=function(R){function I(V,q){R.call(this,V,q),this.current=0}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.set=function(q){this.current!==q&&(this.current=q,this.gl.uniform1f(this.location,q))},I}(rr),Xr=function(R){function I(V,q){R.call(this,V,q),this.current=[0,0]}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.set=function(q){(q[0]!==this.current[0]||q[1]!==this.current[1])&&(this.current=q,this.gl.uniform2f(this.location,q[0],q[1]))},I}(rr),Vr=function(R){function I(V,q){R.call(this,V,q),this.current=[0,0,0]}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.set=function(q){(q[0]!==this.current[0]||q[1]!==this.current[1]||q[2]!==this.current[2])&&(this.current=q,this.gl.uniform3f(this.location,q[0],q[1],q[2]))},I}(rr),Kr=function(R){function I(V,q){R.call(this,V,q),this.current=[0,0,0,0]}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.set=function(q){(q[0]!==this.current[0]||q[1]!==this.current[1]||q[2]!==this.current[2]||q[3]!==this.current[3])&&(this.current=q,this.gl.uniform4f(this.location,q[0],q[1],q[2],q[3]))},I}(rr),vn=function(R){function I(V,q){R.call(this,V,q),this.current=ti.transparent}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.set=function(q){(q.r!==this.current.r||q.g!==this.current.g||q.b!==this.current.b||q.a!==this.current.a)&&(this.current=q,this.gl.uniform4f(this.location,q.r,q.g,q.b,q.a))},I}(rr),Ln=new Float32Array(16),In=function(R){function I(V,q){R.call(this,V,q),this.current=Ln}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.set=function(q){if(q[12]!==this.current[12]||q[0]!==this.current[0])return this.current=q,void this.gl.uniformMatrix4fv(this.location,!1,q);for(var ct=1;ct<16;ct++)if(q[ct]!==this.current[ct]){this.current=q,this.gl.uniformMatrix4fv(this.location,!1,q);break}},I}(rr);function Nn(R){return[ut(255*R.r,255*R.g),ut(255*R.b,255*R.a)]}var Un=function(I,V,q){this.value=I,this.uniformNames=V.map(function(ct){return"u_"+ct}),this.type=q};Un.prototype.setUniform=function(I,V,q){I.set(q.constantOr(this.value))},Un.prototype.getBinding=function(I,V,q){return"color"===this.type?new vn(I,V):new Zr(I,V)};var On=function(I,V){this.uniformNames=V.map(function(q){return"u_"+q}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};On.prototype.setConstantPatternPositions=function(I,V){this.pixelRatioFrom=V.pixelRatio,this.pixelRatioTo=I.pixelRatio,this.patternFrom=V.tlbr,this.patternTo=I.tlbr},On.prototype.setUniform=function(I,V,q,ct){var mt="u_pattern_to"===ct?this.patternTo:"u_pattern_from"===ct?this.patternFrom:"u_pixel_ratio_to"===ct?this.pixelRatioTo:"u_pixel_ratio_from"===ct?this.pixelRatioFrom:null;mt&&I.set(mt)},On.prototype.getBinding=function(I,V,q){return"u_pattern"===q.substr(0,9)?new Kr(I,V):new Zr(I,V)};var Vn=function(I,V,q,ct){this.expression=I,this.type=q,this.maxValue=0,this.paintVertexAttributes=V.map(function(mt){return{name:"a_"+mt,type:"Float32",components:"color"===q?2:1,offset:0}}),this.paintVertexArray=new ct};Vn.prototype.populatePaintArray=function(I,V,q,ct,mt){var At=this.paintVertexArray.length,Jt=this.expression.evaluate(new fa(0),V,{},ct,[],mt);this.paintVertexArray.resize(I),this._setPaintValue(At,I,Jt)},Vn.prototype.updatePaintArray=function(I,V,q,ct){var mt=this.expression.evaluate({zoom:0},q,ct);this._setPaintValue(I,V,mt)},Vn.prototype._setPaintValue=function(I,V,q){if("color"===this.type)for(var ct=Nn(q),mt=I;mt<V;mt++)this.paintVertexArray.emplace(mt,ct[0],ct[1]);else{for(var At=I;At<V;At++)this.paintVertexArray.emplace(At,q);this.maxValue=Math.max(this.maxValue,Math.abs(q))}},Vn.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Vn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Wn=function(I,V,q,ct,mt,At){this.expression=I,this.uniformNames=V.map(function(Jt){return"u_"+Jt+"_t"}),this.type=q,this.useIntegerZoom=ct,this.zoom=mt,this.maxValue=0,this.paintVertexAttributes=V.map(function(Jt){return{name:"a_"+Jt,type:"Float32",components:"color"===q?4:2,offset:0}}),this.paintVertexArray=new At};Wn.prototype.populatePaintArray=function(I,V,q,ct,mt){var At=this.expression.evaluate(new fa(this.zoom),V,{},ct,[],mt),Jt=this.expression.evaluate(new fa(this.zoom+1),V,{},ct,[],mt),ue=this.paintVertexArray.length;this.paintVertexArray.resize(I),this._setPaintValue(ue,I,At,Jt)},Wn.prototype.updatePaintArray=function(I,V,q,ct){var mt=this.expression.evaluate({zoom:this.zoom},q,ct),At=this.expression.evaluate({zoom:this.zoom+1},q,ct);this._setPaintValue(I,V,mt,At)},Wn.prototype._setPaintValue=function(I,V,q,ct){if("color"===this.type)for(var mt=Nn(q),At=Nn(ct),Jt=I;Jt<V;Jt++)this.paintVertexArray.emplace(Jt,mt[0],mt[1],At[0],At[1]);else{for(var ue=I;ue<V;ue++)this.paintVertexArray.emplace(ue,q,ct);this.maxValue=Math.max(this.maxValue,Math.abs(q),Math.abs(ct))}},Wn.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Wn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Wn.prototype.setUniform=function(I,V){var q=this.useIntegerZoom?Math.floor(V.zoom):V.zoom,ct=c(this.expression.interpolationFactor(q,this.zoom,this.zoom+1),0,1);I.set(ct)},Wn.prototype.getBinding=function(I,V,q){return new Zr(I,V)};var ra=function(I,V,q,ct,mt,At){this.expression=I,this.type=V,this.useIntegerZoom=q,this.zoom=ct,this.layerId=At,this.zoomInPaintVertexArray=new mt,this.zoomOutPaintVertexArray=new mt};ra.prototype.populatePaintArray=function(I,V,q){var ct=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(I),this.zoomOutPaintVertexArray.resize(I),this._setPaintValues(ct,I,V.patterns&&V.patterns[this.layerId],q)},ra.prototype.updatePaintArray=function(I,V,q,ct,mt){this._setPaintValues(I,V,q.patterns&&q.patterns[this.layerId],mt)},ra.prototype._setPaintValues=function(I,V,q,ct){if(ct&&q){var ue=ct[q.min],me=ct[q.mid],Ae=ct[q.max];if(ue&&me&&Ae)for(var He=I;He<V;He++)this.zoomInPaintVertexArray.emplace(He,me.tl[0],me.tl[1],me.br[0],me.br[1],ue.tl[0],ue.tl[1],ue.br[0],ue.br[1],me.pixelRatio,ue.pixelRatio),this.zoomOutPaintVertexArray.emplace(He,me.tl[0],me.tl[1],me.br[0],me.br[1],Ae.tl[0],Ae.tl[1],Ae.br[0],Ae.br[1],me.pixelRatio,Ae.pixelRatio)}},ra.prototype.upload=function(I){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=I.createVertexBuffer(this.zoomInPaintVertexArray,X.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=I.createVertexBuffer(this.zoomOutPaintVertexArray,X.members,this.expression.isStateDependent))},ra.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ca=function(I,V,q){this.binders={},this._buffers=[];var ct=[];for(var mt in I.paint._values)if(q(mt)){var At=I.paint.get(mt);if(At instanceof Na&&Ho(At.property.specification)){var Jt=Pa(mt,I.type),ue=At.value,me=At.property.specification.type,Ae=At.property.useIntegerZoom,He=At.property.specification["property-type"],er="cross-faded"===He||"cross-faded-data-driven"===He;if("constant"===ue.kind)this.binders[mt]=er?new On(ue.value,Jt):new Un(ue.value,Jt,me),ct.push("/u_"+mt);else if("source"===ue.kind||er){var Je=Ha(mt,me,"source");this.binders[mt]=er?new ra(ue,me,Ae,V,Je,I.id):new Vn(ue,Jt,me,Je),ct.push("/a_"+mt)}else{var mr=Ha(mt,me,"composite");this.binders[mt]=new Wn(ue,Jt,me,Ae,V,mr),ct.push("/z_"+mt)}}}this.cacheKey=ct.sort().join("")};ca.prototype.getMaxValue=function(I){var V=this.binders[I];return V instanceof Vn||V instanceof Wn?V.maxValue:0},ca.prototype.populatePaintArrays=function(I,V,q,ct,mt){for(var At in this.binders){var Jt=this.binders[At];(Jt instanceof Vn||Jt instanceof Wn||Jt instanceof ra)&&Jt.populatePaintArray(I,V,q,ct,mt)}},ca.prototype.setConstantPatternPositions=function(I,V){for(var q in this.binders){var ct=this.binders[q];ct instanceof On&&ct.setConstantPatternPositions(I,V)}},ca.prototype.updatePaintArrays=function(I,V,q,ct,mt){var At=!1;for(var Jt in I)for(var me=0,Ae=V.getPositions(Jt);me<Ae.length;me+=1){var He=Ae[me],er=q.feature(He.index);for(var Je in this.binders){var mr=this.binders[Je];if((mr instanceof Vn||mr instanceof Wn||mr instanceof ra)&&!0===mr.expression.isStateDependent){var zr=ct.paint.get(Je);mr.expression=zr.value,mr.updatePaintArray(He.start,He.end,er,I[Jt],mt),At=!0}}}return At},ca.prototype.defines=function(){var I=[];for(var V in this.binders){var q=this.binders[V];(q instanceof Un||q instanceof On)&&I.push.apply(I,q.uniformNames.map(function(ct){return"#define HAS_UNIFORM_"+ct}))}return I},ca.prototype.getBinderAttributes=function(){var I=[];for(var V in this.binders){var q=this.binders[V];if(q instanceof Vn||q instanceof Wn)for(var ct=0;ct<q.paintVertexAttributes.length;ct++)I.push(q.paintVertexAttributes[ct].name);else if(q instanceof ra)for(var mt=0;mt<X.members.length;mt++)I.push(X.members[mt].name)}return I},ca.prototype.getBinderUniforms=function(){var I=[];for(var V in this.binders){var q=this.binders[V];if(q instanceof Un||q instanceof On||q instanceof Wn)for(var ct=0,mt=q.uniformNames;ct<mt.length;ct+=1)I.push(mt[ct])}return I},ca.prototype.getPaintVertexBuffers=function(){return this._buffers},ca.prototype.getUniforms=function(I,V){var q=[];for(var ct in this.binders){var mt=this.binders[ct];if(mt instanceof Un||mt instanceof On||mt instanceof Wn)for(var At=0,Jt=mt.uniformNames;At<Jt.length;At+=1){var ue=Jt[At];if(V[ue]){var me=mt.getBinding(I,V[ue],ue);q.push({name:ue,property:ct,binding:me})}}}return q},ca.prototype.setUniforms=function(I,V,q,ct){for(var mt=0,At=V;mt<At.length;mt+=1){var Jt=At[mt],ue=Jt.name,me=Jt.property;this.binders[me].setUniform(Jt.binding,ct,q.get(me),ue)}},ca.prototype.updatePaintBuffers=function(I){for(var V in this._buffers=[],this.binders){var q=this.binders[V];if(I&&q instanceof ra){var ct=2===I.fromScale?q.zoomInPaintVertexBuffer:q.zoomOutPaintVertexBuffer;ct&&this._buffers.push(ct)}else(q instanceof Vn||q instanceof Wn)&&q.paintVertexBuffer&&this._buffers.push(q.paintVertexBuffer)}},ca.prototype.upload=function(I){for(var V in this.binders){var q=this.binders[V];(q instanceof Vn||q instanceof Wn||q instanceof ra)&&q.upload(I)}this.updatePaintBuffers()},ca.prototype.destroy=function(){for(var I in this.binders){var V=this.binders[I];(V instanceof Vn||V instanceof Wn||V instanceof ra)&&V.destroy()}};var oa=function(I,V,q){void 0===q&&(q=function(){return!0}),this.programConfigurations={};for(var ct=0,mt=I;ct<mt.length;ct+=1){var At=mt[ct];this.programConfigurations[At.id]=new ca(At,V,q)}this.needsUpload=!1,this._featureMap=new ae,this._bufferOffset=0};function Pa(R,I){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[R]||[R.replace(I+"-","").replace(/-/g,"_")]}function Ha(R,I,V){var q={color:{source:Xu,composite:xu},number:{source:Zu,composite:Xu}},ct=function Za(R){return{"line-pattern":{source:Co,composite:Co},"fill-pattern":{source:Co,composite:Co},"fill-extrusion-pattern":{source:Co,composite:Co}}[R]}(R);return ct&&ct[V]||q[I][V]}oa.prototype.populatePaintArrays=function(I,V,q,ct,mt,At){for(var Jt in this.programConfigurations)this.programConfigurations[Jt].populatePaintArrays(I,V,ct,mt,At);void 0!==V.id&&this._featureMap.add(V.id,q,this._bufferOffset,I),this._bufferOffset=I,this.needsUpload=!0},oa.prototype.updatePaintArrays=function(I,V,q,ct){for(var mt=0,At=q;mt<At.length;mt+=1){var Jt=At[mt];this.needsUpload=this.programConfigurations[Jt.id].updatePaintArrays(I,this._featureMap,V,Jt,ct)||this.needsUpload}},oa.prototype.get=function(I){return this.programConfigurations[I]},oa.prototype.upload=function(I){if(this.needsUpload){for(var V in this.programConfigurations)this.programConfigurations[V].upload(I);this.needsUpload=!1}},oa.prototype.destroy=function(){for(var I in this.programConfigurations)this.programConfigurations[I].destroy()},la("ConstantBinder",Un),la("CrossFadedConstantBinder",On),la("SourceExpressionBinder",Vn),la("CrossFadedCompositeBinder",ra),la("CompositeExpressionBinder",Wn),la("ProgramConfiguration",ca,{omit:["_buffers"]}),la("ProgramConfigurationSet",oa);var ma=8192,Fa=Math.pow(2,14)-1,Qa=-Fa-1;function Ka(R){for(var I=ma/R.extent,V=R.loadGeometry(),q=0;q<V.length;q++)for(var ct=V[q],mt=0;mt<ct.length;mt++){var At=ct[mt],Jt=Math.round(At.x*I),ue=Math.round(At.y*I);At.x=c(Jt,Qa,Fa),At.y=c(ue,Qa,Fa),(Jt<At.x||Jt>At.x+1||ue<At.y||ue>At.y+1)&&B("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return V}function pi(R,I){return{type:R.type,id:R.id,properties:R.properties,geometry:I?Ka(R):[]}}function Xa(R,I,V,q,ct){R.emplaceBack(2*I+(q+1)/2,2*V+(ct+1)/2)}var li=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new Eo,this.indexArray=new Ll,this.segments=new Gi,this.programConfigurations=new oa(I.layers,I.zoom),this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};function ka(R,I){for(var V=0;V<R.length;V++)if(Lo(I,R[V]))return!0;for(var q=0;q<I.length;q++)if(Lo(R,I[q]))return!0;return!!ys(R,I)}function ja(R,I,V){return!(!Lo(R,I)&&!tl(I,R,V))}function ki(R,I){if(1===R.length)return el(I,R[0]);for(var V=0;V<I.length;V++)for(var q=I[V],ct=0;ct<q.length;ct++)if(Lo(R,q[ct]))return!0;for(var mt=0;mt<R.length;mt++)if(el(I,R[mt]))return!0;for(var At=0;At<I.length;At++)if(ys(R,I[At]))return!0;return!1}function gs(R,I,V){if(R.length>1){if(ys(R,I))return!0;for(var q=0;q<I.length;q++)if(tl(I[q],R,V))return!0}for(var ct=0;ct<R.length;ct++)if(tl(R[ct],I,V))return!0;return!1}function ys(R,I){if(0===R.length||0===I.length)return!1;for(var V=0;V<R.length-1;V++)for(var q=R[V],ct=R[V+1],mt=0;mt<I.length-1;mt++)if(Rs(q,ct,I[mt],I[mt+1]))return!0;return!1}function Rs(R,I,V,q){return O(R,V,q)!==O(I,V,q)&&O(R,I,V)!==O(R,I,q)}function tl(R,I,V){var q=V*V;if(1===I.length)return R.distSqr(I[0])<q;for(var ct=1;ct<I.length;ct++)if(wu(R,I[ct-1],I[ct])<q)return!0;return!1}function wu(R,I,V){var q=I.distSqr(V);if(0===q)return R.distSqr(I);var ct=((R.x-I.x)*(V.x-I.x)+(R.y-I.y)*(V.y-I.y))/q;return R.distSqr(ct<0?I:ct>1?V:V.sub(I)._mult(ct)._add(I))}function el(R,I){for(var q,ct,mt,V=!1,At=0;At<R.length;At++)for(var Jt=0,ue=(q=R[At]).length-1;Jt<q.length;ue=Jt++)(ct=q[Jt]).y>I.y!=(mt=q[ue]).y>I.y&&I.x<(mt.x-ct.x)*(I.y-ct.y)/(mt.y-ct.y)+ct.x&&(V=!V);return V}function Lo(R,I){for(var V=!1,q=0,ct=R.length-1;q<R.length;ct=q++){var mt=R[q],At=R[ct];mt.y>I.y!=At.y>I.y&&I.x<(At.x-mt.x)*(I.y-mt.y)/(At.y-mt.y)+mt.x&&(V=!V)}return V}function Wo(R,I,V){var q=V[0],ct=V[2];if(R.x<q.x&&I.x<q.x||R.x>ct.x&&I.x>ct.x||R.y<q.y&&I.y<q.y||R.y>ct.y&&I.y>ct.y)return!1;var mt=O(R,I,V[0]);return mt!==O(R,I,V[1])||mt!==O(R,I,V[2])||mt!==O(R,I,V[3])}function Po(R,I,V){var q=I.paint.get(R).value;return"constant"===q.kind?q.value:V.programConfigurations.get(I.id).getMaxValue(R)}function Is(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function Pl(R,I,V,q,ct){if(!I[0]&&!I[1])return R;var mt=r.convert(I)._mult(ct);"viewport"===V&&mt._rotate(-q);for(var At=[],Jt=0;Jt<R.length;Jt++)At.push(R[Jt].sub(mt));return At}li.prototype.populate=function(I,V,q){var ct=this.layers[0],mt=[],At=null;"circle"===ct.type&&(At=ct.layout.get("circle-sort-key"));for(var Jt=0,ue=I;Jt<ue.length;Jt+=1){var me=ue[Jt],Ae=me.feature,He=me.id,er=me.index,Je=me.sourceLayerIndex,mr=this.layers[0]._featureFilter.needGeometry,zr=pi(Ae,mr);if(this.layers[0]._featureFilter.filter(new fa(this.zoom),zr,q)){var fn=At?At.evaluate(zr,{},q):void 0,qr={id:He,properties:Ae.properties,type:Ae.type,sourceLayerIndex:Je,index:er,geometry:mr?zr.geometry:Ka(Ae),patterns:{},sortKey:fn};mt.push(qr)}}At&&mt.sort(function(sa,ha){return sa.sortKey-ha.sortKey});for(var Mn=0,mn=mt;Mn<mn.length;Mn+=1){var An=mn[Mn],Bn=An.geometry,Yn=An.index,Gn=An.sourceLayerIndex,da=I[Yn].feature;this.addFeature(An,Bn,Yn,q),V.featureIndex.insert(da,Bn,Yn,Gn,this.index)}},li.prototype.update=function(I,V,q){!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(I,V,this.stateDependentLayers,q)},li.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},li.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},li.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,Dc),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},li.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},li.prototype.addFeature=function(I,V,q,ct){for(var mt=0,At=V;mt<At.length;mt+=1)for(var ue=0,me=At[mt];ue<me.length;ue+=1){var Ae=me[ue],He=Ae.x,er=Ae.y;if(!(He<0||He>=ma||er<0||er>=ma)){var Je=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,I.sortKey),mr=Je.vertexLength;Xa(this.layoutVertexArray,He,er,-1,-1),Xa(this.layoutVertexArray,He,er,1,-1),Xa(this.layoutVertexArray,He,er,1,1),Xa(this.layoutVertexArray,He,er,-1,1),this.indexArray.emplaceBack(mr,mr+1,mr+2),this.indexArray.emplaceBack(mr,mr+3,mr+2),Je.vertexLength+=4,Je.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,q,{},ct)},la("CircleBucket",li,{omit:["layers"]});var Fs=new oi({"circle-sort-key":new ya(Tr.layout_circle["circle-sort-key"])}),Ju={paint:new oi({"circle-radius":new ya(Tr.paint_circle["circle-radius"]),"circle-color":new ya(Tr.paint_circle["circle-color"]),"circle-blur":new ya(Tr.paint_circle["circle-blur"]),"circle-opacity":new ya(Tr.paint_circle["circle-opacity"]),"circle-translate":new Jn(Tr.paint_circle["circle-translate"]),"circle-translate-anchor":new Jn(Tr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Jn(Tr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Jn(Tr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ya(Tr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ya(Tr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ya(Tr.paint_circle["circle-stroke-opacity"])}),layout:Fs},_i="undefined"!=typeof Float32Array?Float32Array:Array;function Nf(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=1,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=1,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,R}function _u(R,I,V){var q=I[0],ct=I[1],mt=I[2],At=I[3],Jt=I[4],ue=I[5],me=I[6],Ae=I[7],He=I[8],er=I[9],Je=I[10],mr=I[11],zr=I[12],fn=I[13],qr=I[14],Mn=I[15],mn=V[0],An=V[1],Dn=V[2],Bn=V[3];return R[0]=mn*q+An*Jt+Dn*He+Bn*zr,R[1]=mn*ct+An*ue+Dn*er+Bn*fn,R[2]=mn*mt+An*me+Dn*Je+Bn*qr,R[3]=mn*At+An*Ae+Dn*mr+Bn*Mn,R[4]=(mn=V[4])*q+(An=V[5])*Jt+(Dn=V[6])*He+(Bn=V[7])*zr,R[5]=mn*ct+An*ue+Dn*er+Bn*fn,R[6]=mn*mt+An*me+Dn*Je+Bn*qr,R[7]=mn*At+An*Ae+Dn*mr+Bn*Mn,R[8]=(mn=V[8])*q+(An=V[9])*Jt+(Dn=V[10])*He+(Bn=V[11])*zr,R[9]=mn*ct+An*ue+Dn*er+Bn*fn,R[10]=mn*mt+An*me+Dn*Je+Bn*qr,R[11]=mn*At+An*Ae+Dn*mr+Bn*Mn,R[12]=(mn=V[12])*q+(An=V[13])*Jt+(Dn=V[14])*He+(Bn=V[15])*zr,R[13]=mn*ct+An*ue+Dn*er+Bn*fn,R[14]=mn*mt+An*me+Dn*Je+Bn*qr,R[15]=mn*At+An*Ae+Dn*mr+Bn*Mn,R}Math.hypot||(Math.hypot=function(){for(var R=arguments,I=0,V=arguments.length;V--;)I+=R[V]*R[V];return Math.sqrt(I)});var th=_u;var Uv=function rh(R,I,V){return R[0]=I[0]-V[0],R[1]=I[1]-V[1],R[2]=I[2]-V[2],R};function Rc(R,I,V){var q=I[0],ct=I[1],mt=I[2],At=I[3];return R[0]=V[0]*q+V[4]*ct+V[8]*mt+V[12]*At,R[1]=V[1]*q+V[5]*ct+V[9]*mt+V[13]*At,R[2]=V[2]*q+V[6]*ct+V[10]*mt+V[14]*At,R[3]=V[3]*q+V[7]*ct+V[11]*mt+V[15]*At,R}(function Cf(){var R=new _i(3);return _i!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R})(),function Vv(){var R=new _i(4);return _i!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0,R[3]=0),R}();var Xv=function Yv(R){var I=R[0],V=R[1];return I*I+V*V},Zv=(function Wv(){var R=new _i(2);return _i!=Float32Array&&(R[0]=0,R[1]=0),R}(),function(R){function I(V){R.call(this,V,Ju)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.createBucket=function(q){return new li(q)},I.prototype.queryRadius=function(q){var ct=q;return Po("circle-radius",this,ct)+Po("circle-stroke-width",this,ct)+Is(this.paint.get("circle-translate"))},I.prototype.queryIntersectsFeature=function(q,ct,mt,At,Jt,ue,me,Ae){for(var He=Pl(q,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ue.angle,me),mr=this.paint.get("circle-radius").evaluate(ct,mt)+this.paint.get("circle-stroke-width").evaluate(ct,mt),zr="map"===this.paint.get("circle-pitch-alignment"),fn=zr?He:function jv(R,I){return R.map(function(V){return Lh(V,I)})}(He,Ae),qr=zr?mr*me:mr,Mn=0,mn=At;Mn<mn.length;Mn+=1)for(var Dn=0,Bn=mn[Mn];Dn<Bn.length;Dn+=1){var Yn=Bn[Dn],Gn=zr?Yn:Lh(Yn,Ae),da=qr,sa=Rc([],[Yn.x,Yn.y,0,1],Ae);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?da*=sa[3]/ue.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(da*=ue.cameraToCenterDistance/sa[3]),ja(fn,Gn,da))return!0}return!1},I}(Mi));function Lh(R,I){var V=Rc([],[R.x,R.y,0,1],I);return new r(V[0]/V[3],V[1]/V[3])}var Ph=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I}(li);function ah(R,I,V,q){var ct=I.width,mt=I.height;if(q){if(q instanceof Uint8ClampedArray)q=new Uint8Array(q.buffer);else if(q.length!==ct*mt*V)throw new RangeError("mismatched image size")}else q=new Uint8Array(ct*mt*V);return R.width=ct,R.height=mt,R.data=q,R}function Dh(R,I,V){var q=I.width,ct=I.height;if(q!==R.width||ct!==R.height){var mt=ah({},{width:q,height:ct},V);ih(R,mt,{x:0,y:0},{x:0,y:0},{width:Math.min(R.width,q),height:Math.min(R.height,ct)},V),R.width=q,R.height=ct,R.data=mt.data}}function ih(R,I,V,q,ct,mt){if(0===ct.width||0===ct.height)return I;if(ct.width>R.width||ct.height>R.height||V.x>R.width-ct.width||V.y>R.height-ct.height)throw new RangeError("out of range source coordinates for image copy");if(ct.width>I.width||ct.height>I.height||q.x>I.width-ct.width||q.y>I.height-ct.height)throw new RangeError("out of range destination coordinates for image copy");for(var At=R.data,Jt=I.data,ue=0;ue<ct.height;ue++)for(var me=((V.y+ue)*R.width+V.x)*mt,Ae=((q.y+ue)*I.width+q.x)*mt,He=0;He<ct.width*mt;He++)Jt[Ae+He]=At[me+He];return I}la("HeatmapBucket",Ph,{omit:["layers"]});var Lf=function(I,V){ah(this,I,1,V)};Lf.prototype.resize=function(I){Dh(this,I,1)},Lf.prototype.clone=function(){return new Lf({width:this.width,height:this.height},new Uint8Array(this.data))},Lf.copy=function(I,V,q,ct,mt){ih(I,V,q,ct,mt,1)};var Zo=function(I,V){ah(this,I,4,V)};Zo.prototype.resize=function(I){Dh(this,I,4)},Zo.prototype.replace=function(I,V){V?this.data.set(I):this.data=I instanceof Uint8ClampedArray?new Uint8Array(I.buffer):I},Zo.prototype.clone=function(){return new Zo({width:this.width,height:this.height},new Uint8Array(this.data))},Zo.copy=function(I,V,q,ct,mt){ih(I,V,q,ct,mt,4)},la("AlphaImage",Lf),la("RGBAImage",Zo);var Jv={paint:new oi({"heatmap-radius":new ya(Tr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ya(Tr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Jn(Tr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Di(Tr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Jn(Tr.paint_heatmap["heatmap-opacity"])})};function Rh(R){var I={},V=R.resolution||256,q=R.clips?R.clips.length:1,ct=R.image||new Zo({width:V,height:q}),mt=function(Mn,mn,An){I[R.evaluationKey]=An;var Dn=R.expression.evaluate(I);ct.data[Mn+mn+0]=Math.floor(255*Dn.r/Dn.a),ct.data[Mn+mn+1]=Math.floor(255*Dn.g/Dn.a),ct.data[Mn+mn+2]=Math.floor(255*Dn.b/Dn.a),ct.data[Mn+mn+3]=Math.floor(255*Dn.a)};if(R.clips)for(var me=0,Ae=0;me<q;++me,Ae+=4*V)for(var He=0,er=0;He<V;He++,er+=4){var Je=He/(V-1),mr=R.clips[me];mt(Ae,er,mr.start*(1-Je)+mr.end*Je)}else for(var At=0,Jt=0;At<V;At++,Jt+=4)mt(0,Jt,At/(V-1));return ct}var Qv=function(R){function I(V){R.call(this,V,Jv),this._updateColorRamp()}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.createBucket=function(q){return new Ph(q)},I.prototype._handleSpecialPaintPropertyUpdate=function(q){"heatmap-color"===q&&this._updateColorRamp()},I.prototype._updateColorRamp=function(){this.colorRamp=Rh({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},I.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},I}(Mi),_v={paint:new oi({"hillshade-illumination-direction":new Jn(Tr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Jn(Tr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Jn(Tr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Jn(Tr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Jn(Tr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Jn(Tr.paint_hillshade["hillshade-accent-color"])})},qv=function(R){function I(V){R.call(this,V,_v)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},I}(Mi),ed=ri([{name:"a_pos",components:2,type:"Int16"}],4).members,oh=Ic,rd=Ic;function Ic(R,I,V){V=V||2;var Jt,ue,me,Ae,He,er,Je,q=I&&I.length,ct=q?I[0]*V:R.length,mt=Ih(R,0,ct,V,!0),At=[];if(!mt||mt.next===mt.prev)return At;if(q&&(mt=function sd(R,I,V,q){var mt,At,me,ct=[];for(mt=0,At=I.length;mt<At;mt++)(me=Ih(R,I[mt]*q,mt<At-1?I[mt+1]*q:R.length,q,!1))===me.next&&(me.steiner=!0),ct.push(dd(me));for(ct.sort(ld),mt=0;mt<ct.length;mt++)ud(ct[mt],V),V=qu(V,V.next);return V}(R,I,mt,V)),R.length>80*V){Jt=me=R[0],ue=Ae=R[1];for(var mr=V;mr<ct;mr+=V)(He=R[mr])<Jt&&(Jt=He),(er=R[mr+1])<ue&&(ue=er),He>me&&(me=He),er>Ae&&(Ae=er);Je=0!==(Je=Math.max(me-Jt,Ae-ue))?1/Je:0}return cc(mt,At,V,Jt,ue,Je),At}function Ih(R,I,V,q,ct){var mt,At;if(ct===uh(R,I,V,q)>0)for(mt=I;mt<V;mt+=q)At=zh(mt,R[mt],R[mt+1],At);else for(mt=V-q;mt>=I;mt-=q)At=zh(mt,R[mt],R[mt+1],At);return At&&Fc(At,At.next)&&(vc(At),At=At.next),At}function qu(R,I){if(!R)return R;I||(I=R);var q,V=R;do{if(q=!1,V.steiner||!Fc(V,V.next)&&0!==Wi(V.prev,V,V.next))V=V.next;else{if(vc(V),(V=I=V.prev)===V.next)break;q=!0}}while(q||V!==I);return I}function cc(R,I,V,q,ct,mt,At){if(R){!At&&mt&&function hd(R,I,V,q){var ct=R;do{null===ct.z&&(ct.z=sh(ct.x,ct.y,I,V,q)),ct.prevZ=ct.prev,ct.nextZ=ct.next,ct=ct.next}while(ct!==R);ct.prevZ.nextZ=null,ct.prevZ=null,function vd(R){var I,V,q,ct,mt,At,Jt,ue,me=1;do{for(V=R,R=null,mt=null,At=0;V;){for(At++,q=V,Jt=0,I=0;I<me&&(Jt++,q=q.nextZ);I++);for(ue=me;Jt>0||ue>0&&q;)0!==Jt&&(0===ue||!q||V.z<=q.z)?(ct=V,V=V.nextZ,Jt--):(ct=q,q=q.nextZ,ue--),mt?mt.nextZ=ct:R=ct,ct.prevZ=mt,mt=ct;V=q}mt.nextZ=null,me*=2}while(At>1);return R}(ct)}(R,q,ct,mt);for(var ue,me,Jt=R;R.prev!==R.next;)if(ue=R.prev,me=R.next,mt?ad(R,q,ct,mt):nd(R))I.push(ue.i/V),I.push(R.i/V),I.push(me.i/V),vc(R),R=me.next,Jt=me.next;else if((R=me)===Jt){At?1===At?cc(R=id(qu(R),I,V),I,V,q,ct,mt,2):2===At&&od(R,I,V,q,ct,mt):cc(qu(R),I,V,q,ct,mt,1);break}}}function nd(R){var I=R.prev,V=R,q=R.next;if(Wi(I,V,q)>=0)return!1;for(var ct=R.next.next;ct!==R.prev;){if(Hf(I.x,I.y,V.x,V.y,q.x,q.y,ct.x,ct.y)&&Wi(ct.prev,ct,ct.next)>=0)return!1;ct=ct.next}return!0}function ad(R,I,V,q){var ct=R.prev,mt=R,At=R.next;if(Wi(ct,mt,At)>=0)return!1;for(var me=ct.x>mt.x?ct.x>At.x?ct.x:At.x:mt.x>At.x?mt.x:At.x,Ae=ct.y>mt.y?ct.y>At.y?ct.y:At.y:mt.y>At.y?mt.y:At.y,He=sh(ct.x<mt.x?ct.x<At.x?ct.x:At.x:mt.x<At.x?mt.x:At.x,ct.y<mt.y?ct.y<At.y?ct.y:At.y:mt.y<At.y?mt.y:At.y,I,V,q),er=sh(me,Ae,I,V,q),Je=R.prevZ,mr=R.nextZ;Je&&Je.z>=He&&mr&&mr.z<=er;){if(Je!==R.prev&&Je!==R.next&&Hf(ct.x,ct.y,mt.x,mt.y,At.x,At.y,Je.x,Je.y)&&Wi(Je.prev,Je,Je.next)>=0||(Je=Je.prevZ,mr!==R.prev&&mr!==R.next&&Hf(ct.x,ct.y,mt.x,mt.y,At.x,At.y,mr.x,mr.y)&&Wi(mr.prev,mr,mr.next)>=0))return!1;mr=mr.nextZ}for(;Je&&Je.z>=He;){if(Je!==R.prev&&Je!==R.next&&Hf(ct.x,ct.y,mt.x,mt.y,At.x,At.y,Je.x,Je.y)&&Wi(Je.prev,Je,Je.next)>=0)return!1;Je=Je.prevZ}for(;mr&&mr.z<=er;){if(mr!==R.prev&&mr!==R.next&&Hf(ct.x,ct.y,mt.x,mt.y,At.x,At.y,mr.x,mr.y)&&Wi(mr.prev,mr,mr.next)>=0)return!1;mr=mr.nextZ}return!0}function id(R,I,V){var q=R;do{var ct=q.prev,mt=q.next.next;!Fc(ct,mt)&&Fh(ct,q,q.next,mt)&&hc(ct,mt)&&hc(mt,ct)&&(I.push(ct.i/V),I.push(q.i/V),I.push(mt.i/V),vc(q),vc(q.next),q=R=mt),q=q.next}while(q!==R);return qu(q)}function od(R,I,V,q,ct,mt){var At=R;do{for(var Jt=At.next.next;Jt!==At.prev;){if(At.i!==Jt.i&&pd(At,Jt)){var ue=kh(At,Jt);return At=qu(At,At.next),ue=qu(ue,ue.next),cc(At,I,V,q,ct,mt),void cc(ue,I,V,q,ct,mt)}Jt=Jt.next}At=At.next}while(At!==R)}function ld(R,I){return R.x-I.x}function ud(R,I){if(I=function fd(R,I){var At,V=I,q=R.x,ct=R.y,mt=-1/0;do{if(ct<=V.y&&ct>=V.next.y&&V.next.y!==V.y){var Jt=V.x+(ct-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(Jt<=q&&Jt>mt){if(mt=Jt,Jt===q){if(ct===V.y)return V;if(ct===V.next.y)return V.next}At=V.x<V.next.x?V:V.next}}V=V.next}while(V!==I);if(!At)return null;if(q===mt)return At;var er,ue=At,me=At.x,Ae=At.y,He=1/0;V=At;do{q>=V.x&&V.x>=me&&q!==V.x&&Hf(ct<Ae?q:mt,ct,me,Ae,ct<Ae?mt:q,ct,V.x,V.y)&&(er=Math.abs(ct-V.y)/(q-V.x),hc(V,R)&&(er<He||er===He&&(V.x>At.x||V.x===At.x&&cd(At,V)))&&(At=V,He=er)),V=V.next}while(V!==ue);return At}(R,I)){var V=kh(I,R);qu(I,I.next),qu(V,V.next)}}function cd(R,I){return Wi(R.prev,R,I.prev)<0&&Wi(I.next,R,R.next)<0}function sh(R,I,V,q,ct){return(R=1431655765&((R=858993459&((R=252645135&((R=16711935&((R=32767*(R-V)*ct)|R<<8))|R<<4))|R<<2))|R<<1))|(I=1431655765&((I=858993459&((I=252645135&((I=16711935&((I=32767*(I-q)*ct)|I<<8))|I<<4))|I<<2))|I<<1))<<1}function dd(R){var I=R,V=R;do{(I.x<V.x||I.x===V.x&&I.y<V.y)&&(V=I),I=I.next}while(I!==R);return V}function Hf(R,I,V,q,ct,mt,At,Jt){return(ct-At)*(I-Jt)-(R-At)*(mt-Jt)>=0&&(R-At)*(q-Jt)-(V-At)*(I-Jt)>=0&&(V-At)*(mt-Jt)-(ct-At)*(q-Jt)>=0}function pd(R,I){return R.next.i!==I.i&&R.prev.i!==I.i&&!function gd(R,I){var V=R;do{if(V.i!==R.i&&V.next.i!==R.i&&V.i!==I.i&&V.next.i!==I.i&&Fh(V,V.next,R,I))return!0;V=V.next}while(V!==R);return!1}(R,I)&&(hc(R,I)&&hc(I,R)&&function yd(R,I){var V=R,q=!1,ct=(R.x+I.x)/2,mt=(R.y+I.y)/2;do{V.y>mt!=V.next.y>mt&&V.next.y!==V.y&&ct<(V.next.x-V.x)*(mt-V.y)/(V.next.y-V.y)+V.x&&(q=!q),V=V.next}while(V!==R);return q}(R,I)&&(Wi(R.prev,R,I.prev)||Wi(R,I.prev,I))||Fc(R,I)&&Wi(R.prev,R,R.next)>0&&Wi(I.prev,I,I.next)>0)}function Wi(R,I,V){return(I.y-R.y)*(V.x-I.x)-(I.x-R.x)*(V.y-I.y)}function Fc(R,I){return R.x===I.x&&R.y===I.y}function Fh(R,I,V,q){var ct=zc(Wi(R,I,V)),mt=zc(Wi(R,I,q)),At=zc(Wi(V,q,R)),Jt=zc(Wi(V,q,I));return!!(ct!==mt&&At!==Jt||0===ct&&kc(R,V,I)||0===mt&&kc(R,q,I)||0===At&&kc(V,R,q)||0===Jt&&kc(V,I,q))}function kc(R,I,V){return I.x<=Math.max(R.x,V.x)&&I.x>=Math.min(R.x,V.x)&&I.y<=Math.max(R.y,V.y)&&I.y>=Math.min(R.y,V.y)}function zc(R){return R>0?1:R<0?-1:0}function hc(R,I){return Wi(R.prev,R,R.next)<0?Wi(R,I,R.next)>=0&&Wi(R,R.prev,I)>=0:Wi(R,I,R.prev)<0||Wi(R,R.next,I)<0}function kh(R,I){var V=new lh(R.i,R.x,R.y),q=new lh(I.i,I.x,I.y),ct=R.next,mt=I.prev;return R.next=I,I.prev=R,V.next=ct,ct.prev=V,q.next=V,V.prev=q,mt.next=q,q.prev=mt,q}function zh(R,I,V,q){var ct=new lh(R,I,V);return q?(ct.next=q.next,ct.prev=q,q.next.prev=ct,q.next=ct):(ct.prev=ct,ct.next=ct),ct}function vc(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function lh(R,I,V){this.i=R,this.x=I,this.y=V,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function uh(R,I,V,q){for(var ct=0,mt=I,At=V-q;mt<V;mt+=q)ct+=(R[At]-R[mt])*(R[mt+1]+R[At+1]),At=mt;return ct}function md(R,I,V,q,ct){Oh(R,I,V||0,q||R.length-1,ct||xd)}function Oh(R,I,V,q,ct){for(;q>V;){if(q-V>600){var mt=q-V+1,At=I-V+1,Jt=Math.log(mt),ue=.5*Math.exp(2*Jt/3),me=.5*Math.sqrt(Jt*ue*(mt-ue)/mt)*(At-mt/2<0?-1:1);Oh(R,I,Math.max(V,Math.floor(I-At*ue/mt+me)),Math.min(q,Math.floor(I+(mt-At)*ue/mt+me)),ct)}var er=R[I],Je=V,mr=q;for(dc(R,V,I),ct(R[q],er)>0&&dc(R,V,q);Je<mr;){for(dc(R,Je,mr),Je++,mr--;ct(R[Je],er)<0;)Je++;for(;ct(R[mr],er)>0;)mr--}0===ct(R[V],er)?dc(R,V,mr):dc(R,++mr,q),mr<=I&&(V=mr+1),I<=mr&&(q=mr-1)}}function dc(R,I,V){var q=R[I];R[I]=R[V],R[V]=q}function xd(R,I){return R<I?-1:R>I?1:0}function fh(R,I){var V=R.length;if(V<=1)return[R];for(var ct,mt,q=[],At=0;At<V;At++){var Jt=U(R[At]);0!==Jt&&(R[At].area=Math.abs(Jt),void 0===mt&&(mt=Jt<0),mt===Jt<0?(ct&&q.push(ct),ct=[R[At]]):ct.push(R[At]))}if(ct&&q.push(ct),I>1)for(var ue=0;ue<q.length;ue++)q[ue].length<=I||(md(q[ue],I,1,q[ue].length-1,bd),q[ue]=q[ue].slice(0,I));return q}function bd(R,I){return I.area-R.area}function ch(R,I,V){for(var q=V.patternDependencies,ct=!1,mt=0,At=I;mt<At.length;mt+=1){var ue=At[mt].paint.get(R+"-pattern");ue.isConstant()||(ct=!0);var me=ue.constantOr(null);me&&(ct=!0,q[me.to]=!0,q[me.from]=!0)}return ct}function hh(R,I,V,q,ct){for(var mt=ct.patternDependencies,At=0,Jt=I;At<Jt.length;At+=1){var ue=Jt[At],Ae=ue.paint.get(R+"-pattern").value;if("constant"!==Ae.kind){var He=Ae.evaluate({zoom:q-1},V,{},ct.availableImages),er=Ae.evaluate({zoom:q},V,{},ct.availableImages),Je=Ae.evaluate({zoom:q+1},V,{},ct.availableImages);er=er&&er.name?er.name:er,Je=Je&&Je.name?Je.name:Je,mt[He=He&&He.name?He.name:He]=!0,mt[er]=!0,mt[Je]=!0,V.patterns[ue.id]={min:He,mid:er,max:Je}}}return V}Ic.deviation=function(R,I,V,q){var ct=I&&I.length,At=Math.abs(uh(R,0,ct?I[0]*V:R.length,V));if(ct)for(var Jt=0,ue=I.length;Jt<ue;Jt++)At-=Math.abs(uh(R,I[Jt]*V,Jt<ue-1?I[Jt+1]*V:R.length,V));var He=0;for(Jt=0;Jt<q.length;Jt+=3){var er=q[Jt]*V,Je=q[Jt+1]*V,mr=q[Jt+2]*V;He+=Math.abs((R[er]-R[mr])*(R[Je+1]-R[er+1])-(R[er]-R[Je])*(R[mr+1]-R[er+1]))}return 0===At&&0===He?0:Math.abs((He-At)/At)},Ic.flatten=function(R){for(var I=R[0][0].length,V={vertices:[],holes:[],dimensions:I},q=0,ct=0;ct<R.length;ct++){for(var mt=0;mt<R[ct].length;mt++)for(var At=0;At<I;At++)V.vertices.push(R[ct][mt][At]);ct>0&&V.holes.push(q+=R[ct-1].length)}return V},oh.default=rd;var Dl=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Eo,this.indexArray=new Ll,this.indexArray2=new Sf,this.programConfigurations=new oa(I.layers,I.zoom),this.segments=new Gi,this.segments2=new Gi,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};Dl.prototype.populate=function(I,V,q){this.hasPattern=ch("fill",this.layers,V);for(var ct=this.layers[0].layout.get("fill-sort-key"),mt=[],At=0,Jt=I;At<Jt.length;At+=1){var ue=Jt[At],me=ue.feature,Ae=ue.id,He=ue.index,er=ue.sourceLayerIndex,Je=this.layers[0]._featureFilter.needGeometry,mr=pi(me,Je);if(this.layers[0]._featureFilter.filter(new fa(this.zoom),mr,q)){var zr=ct?ct.evaluate(mr,{},q,V.availableImages):void 0,fn={id:Ae,properties:me.properties,type:me.type,sourceLayerIndex:er,index:He,geometry:Je?mr.geometry:Ka(me),patterns:{},sortKey:zr};mt.push(fn)}}ct&&mt.sort(function(sa,ha){return sa.sortKey-ha.sortKey});for(var qr=0,Mn=mt;qr<Mn.length;qr+=1){var mn=Mn[qr],Dn=mn.geometry,Bn=mn.index,Yn=mn.sourceLayerIndex;if(this.hasPattern){var Gn=hh("fill",this.layers,mn,this.zoom,V);this.patternFeatures.push(Gn)}else this.addFeature(mn,Dn,Bn,q,{});V.featureIndex.insert(I[Bn].feature,Dn,Bn,Yn,this.index)}},Dl.prototype.update=function(I,V,q){!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(I,V,this.stateDependentLayers,q)},Dl.prototype.addFeatures=function(I,V,q){for(var ct=0,mt=this.patternFeatures;ct<mt.length;ct+=1){var At=mt[ct];this.addFeature(At,At.geometry,At.index,V,q)}},Dl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Dl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Dl.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,ed),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.indexBuffer2=I.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(I),this.uploaded=!0},Dl.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Dl.prototype.addFeature=function(I,V,q,ct,mt){for(var At=0,Jt=fh(V,500);At<Jt.length;At+=1){for(var ue=Jt[At],me=0,Ae=0,He=ue;Ae<He.length;Ae+=1)me+=He[Ae].length;for(var Je=this.segments.prepareSegment(me,this.layoutVertexArray,this.indexArray),mr=Je.vertexLength,zr=[],fn=[],qr=0,Mn=ue;qr<Mn.length;qr+=1){var mn=Mn[qr];if(0!==mn.length){mn!==ue[0]&&fn.push(zr.length/2);var An=this.segments2.prepareSegment(mn.length,this.layoutVertexArray,this.indexArray2),Dn=An.vertexLength;this.layoutVertexArray.emplaceBack(mn[0].x,mn[0].y),this.indexArray2.emplaceBack(Dn+mn.length-1,Dn),zr.push(mn[0].x),zr.push(mn[0].y);for(var Bn=1;Bn<mn.length;Bn++)this.layoutVertexArray.emplaceBack(mn[Bn].x,mn[Bn].y),this.indexArray2.emplaceBack(Dn+Bn-1,Dn+Bn),zr.push(mn[Bn].x),zr.push(mn[Bn].y);An.vertexLength+=mn.length,An.primitiveLength+=mn.length}}for(var Yn=oh(zr,fn),Gn=0;Gn<Yn.length;Gn+=3)this.indexArray.emplaceBack(mr+Yn[Gn],mr+Yn[Gn+1],mr+Yn[Gn+2]);Je.vertexLength+=me,Je.primitiveLength+=Yn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,q,mt,ct)},la("FillBucket",Dl,{omit:["layers","patternFeatures"]});var Td=new oi({"fill-sort-key":new ya(Tr.layout_fill["fill-sort-key"])}),Md={paint:new oi({"fill-antialias":new Jn(Tr.paint_fill["fill-antialias"]),"fill-opacity":new ya(Tr.paint_fill["fill-opacity"]),"fill-color":new ya(Tr.paint_fill["fill-color"]),"fill-outline-color":new ya(Tr.paint_fill["fill-outline-color"]),"fill-translate":new Jn(Tr.paint_fill["fill-translate"]),"fill-translate-anchor":new Jn(Tr.paint_fill["fill-translate-anchor"]),"fill-pattern":new Si(Tr.paint_fill["fill-pattern"])}),layout:Td},Sd=function(R){function I(V){R.call(this,V,Md)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.recalculate=function(q,ct){R.prototype.recalculate.call(this,q,ct);var mt=this.paint._values["fill-outline-color"];"constant"===mt.value.kind&&void 0===mt.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},I.prototype.createBucket=function(q){return new Dl(q)},I.prototype.queryRadius=function(){return Is(this.paint.get("fill-translate"))},I.prototype.queryIntersectsFeature=function(q,ct,mt,At,Jt,ue,me){return ki(Pl(q,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ue.angle,me),At)},I.prototype.isTileClipped=function(){return!0},I}(Mi),Cd=ri([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Bh=Gf;function Gf(R,I,V,q,ct){this.properties={},this.extent=V,this.type=0,this._pbf=R,this._geometry=-1,this._keys=q,this._values=ct,R.readFields(Ld,this,I)}function Ld(R,I,V){1==R?I.id=V.readVarint():2==R?function Pd(R,I){for(var V=R.readVarint()+R.pos;R.pos<V;){var q=I._keys[R.readVarint()],ct=I._values[R.readVarint()];I.properties[q]=ct}}(V,I):3==R?I.type=V.readVarint():4==R&&(I._geometry=V.pos)}function Rd(R){for(var mt,At,I=0,V=0,q=R.length,ct=q-1;V<q;ct=V++)I+=((At=R[ct]).x-(mt=R[V]).x)*(mt.y+At.y);return I}Gf.types=["Unknown","Point","LineString","Polygon"],Gf.prototype.loadGeometry=function(){var R=this._pbf;R.pos=this._geometry;for(var Jt,I=R.readVarint()+R.pos,V=1,q=0,ct=0,mt=0,At=[];R.pos<I;){if(q<=0){var ue=R.readVarint();V=7&ue,q=ue>>3}if(q--,1===V||2===V)ct+=R.readSVarint(),mt+=R.readSVarint(),1===V&&(Jt&&At.push(Jt),Jt=[]),Jt.push(new r(ct,mt));else{if(7!==V)throw new Error("unknown command "+V);Jt&&Jt.push(Jt[0].clone())}}return Jt&&At.push(Jt),At},Gf.prototype.bbox=function(){var R=this._pbf;R.pos=this._geometry;for(var I=R.readVarint()+R.pos,V=1,q=0,ct=0,mt=0,At=1/0,Jt=-1/0,ue=1/0,me=-1/0;R.pos<I;){if(q<=0){var Ae=R.readVarint();V=7&Ae,q=Ae>>3}if(q--,1===V||2===V)(ct+=R.readSVarint())<At&&(At=ct),ct>Jt&&(Jt=ct),(mt+=R.readSVarint())<ue&&(ue=mt),mt>me&&(me=mt);else if(7!==V)throw new Error("unknown command "+V)}return[At,ue,Jt,me]},Gf.prototype.toGeoJSON=function(R,I,V){var ue,me,q=this.extent*Math.pow(2,V),ct=this.extent*R,mt=this.extent*I,At=this.loadGeometry(),Jt=Gf.types[this.type];function Ae(Je){for(var mr=0;mr<Je.length;mr++){var zr=Je[mr];Je[mr]=[360*(zr.x+ct)/q-180,360/Math.PI*Math.atan(Math.exp((180-360*(zr.y+mt)/q)*Math.PI/180))-90]}}switch(this.type){case 1:var He=[];for(ue=0;ue<At.length;ue++)He[ue]=At[ue][0];Ae(At=He);break;case 2:for(ue=0;ue<At.length;ue++)Ae(At[ue]);break;case 3:for(At=function Dd(R){var I=R.length;if(I<=1)return[R];for(var q,ct,V=[],mt=0;mt<I;mt++){var At=Rd(R[mt]);0!==At&&(void 0===ct&&(ct=At<0),ct===At<0?(q&&V.push(q),q=[R[mt]]):q.push(R[mt]))}return q&&V.push(q),V}(At),ue=0;ue<At.length;ue++)for(me=0;me<At[ue].length;me++)Ae(At[ue][me])}1===At.length?At=At[0]:Jt="Multi"+Jt;var er={type:"Feature",geometry:{type:Jt,coordinates:At},properties:this.properties};return"id"in this&&(er.id=this.id),er};var Nh=Uh;function Uh(R,I){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=R,this._keys=[],this._values=[],this._features=[],R.readFields(Id,this,I),this.length=this._features.length}function Id(R,I,V){15===R?I.version=V.readVarint():1===R?I.name=V.readString():5===R?I.extent=V.readVarint():2===R?I._features.push(V.pos):3===R?I._keys.push(V.readString()):4===R&&I._values.push(function Fd(R){for(var I=null,V=R.readVarint()+R.pos;R.pos<V;){var q=R.readVarint()>>3;I=1===q?R.readString():2===q?R.readFloat():3===q?R.readDouble():4===q?R.readVarint64():5===q?R.readVarint():6===q?R.readSVarint():7===q?R.readBoolean():null}return I}(V))}function Od(R,I,V){if(3===R){var q=new Nh(V,V.readVarint()+V.pos);q.length&&(I[q.name]=q)}}Uh.prototype.feature=function(R){if(R<0||R>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[R];var I=this._pbf.readVarint()+this._pbf.pos;return new Bh(this._pbf,I,this.extent,this._keys,this._values)};var Wf={VectorTile:function zd(R,I){this.layers=R.readFields(Od,{},I)},VectorTileFeature:Bh,VectorTileLayer:Nh},Vd=Wf.VectorTileFeature.types,vh=Math.pow(2,13);function pc(R,I,V,q,ct,mt,At,Jt){R.emplaceBack(I,V,2*Math.floor(q*vh)+At,ct*vh*2,mt*vh*2,Math.round(Jt))}var Rl=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new as,this.indexArray=new Ll,this.programConfigurations=new oa(I.layers,I.zoom),this.segments=new Gi,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};function Gd(R,I){return R.x===I.x&&(R.x<0||R.x>ma)||R.y===I.y&&(R.y<0||R.y>ma)}Rl.prototype.populate=function(I,V,q){this.features=[],this.hasPattern=ch("fill-extrusion",this.layers,V);for(var ct=0,mt=I;ct<mt.length;ct+=1){var At=mt[ct],Jt=At.feature,ue=At.id,me=At.index,Ae=At.sourceLayerIndex,He=this.layers[0]._featureFilter.needGeometry,er=pi(Jt,He);if(this.layers[0]._featureFilter.filter(new fa(this.zoom),er,q)){var Je={id:ue,sourceLayerIndex:Ae,index:me,geometry:He?er.geometry:Ka(Jt),properties:Jt.properties,type:Jt.type,patterns:{}};this.hasPattern?this.features.push(hh("fill-extrusion",this.layers,Je,this.zoom,V)):this.addFeature(Je,Je.geometry,me,q,{}),V.featureIndex.insert(Jt,Je.geometry,me,Ae,this.index,!0)}}},Rl.prototype.addFeatures=function(I,V,q){for(var ct=0,mt=this.features;ct<mt.length;ct+=1){var At=mt[ct];this.addFeature(At,At.geometry,At.index,V,q)}},Rl.prototype.update=function(I,V,q){!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(I,V,this.stateDependentLayers,q)},Rl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Rl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Rl.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,Cd),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Rl.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Rl.prototype.addFeature=function(I,V,q,ct,mt){for(var At=0,Jt=fh(V,500);At<Jt.length;At+=1){for(var ue=Jt[At],me=0,Ae=0,He=ue;Ae<He.length;Ae+=1)me+=He[Ae].length;for(var Je=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),mr=0,zr=ue;mr<zr.length;mr+=1){var fn=zr[mr];if(0!==fn.length&&!((R=fn).every(function(I){return I.x<0})||R.every(function(I){return I.x>ma})||R.every(function(I){return I.y<0})||R.every(function(I){return I.y>ma})))for(var qr=0,Mn=0;Mn<fn.length;Mn++){var mn=fn[Mn];if(Mn>=1){var An=fn[Mn-1];if(!Gd(mn,An)){Je.vertexLength+4>Gi.MAX_VERTEX_ARRAY_LENGTH&&(Je=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Dn=mn.sub(An)._perp()._unit(),Bn=An.dist(mn);qr+Bn>32768&&(qr=0),pc(this.layoutVertexArray,mn.x,mn.y,Dn.x,Dn.y,0,0,qr),pc(this.layoutVertexArray,mn.x,mn.y,Dn.x,Dn.y,0,1,qr),pc(this.layoutVertexArray,An.x,An.y,Dn.x,Dn.y,0,0,qr+=Bn),pc(this.layoutVertexArray,An.x,An.y,Dn.x,Dn.y,0,1,qr);var Yn=Je.vertexLength;this.indexArray.emplaceBack(Yn,Yn+2,Yn+1),this.indexArray.emplaceBack(Yn+1,Yn+2,Yn+3),Je.vertexLength+=4,Je.primitiveLength+=2}}}}if(Je.vertexLength+me>Gi.MAX_VERTEX_ARRAY_LENGTH&&(Je=this.segments.prepareSegment(me,this.layoutVertexArray,this.indexArray)),"Polygon"===Vd[I.type]){for(var Gn=[],da=[],sa=Je.vertexLength,ha=0,Ia=ue;ha<Ia.length;ha+=1){var pa=Ia[ha];if(0!==pa.length){pa!==ue[0]&&da.push(Gn.length/2);for(var ba=0;ba<pa.length;ba++){var Va=pa[ba];pc(this.layoutVertexArray,Va.x,Va.y,0,0,1,1,0),Gn.push(Va.x),Gn.push(Va.y)}}}for(var Da=oh(Gn,da),$a=0;$a<Da.length;$a+=3)this.indexArray.emplaceBack(sa+Da[$a],sa+Da[$a+2],sa+Da[$a+1]);Je.primitiveLength+=Da.length/3,Je.vertexLength+=me}}var R;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,q,mt,ct)},la("FillExtrusionBucket",Rl,{omit:["layers","features"]});var Xd={paint:new oi({"fill-extrusion-opacity":new Jn(Tr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ya(Tr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Jn(Tr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Jn(Tr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Si(Tr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ya(Tr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ya(Tr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Jn(Tr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Zd=function(R){function I(V){R.call(this,V,Xd)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.createBucket=function(q){return new Rl(q)},I.prototype.queryRadius=function(){return Is(this.paint.get("fill-extrusion-translate"))},I.prototype.is3D=function(){return!0},I.prototype.queryIntersectsFeature=function(q,ct,mt,At,Jt,ue,me,Ae){var He=Pl(q,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ue.angle,me),er=this.paint.get("fill-extrusion-height").evaluate(ct,mt),Je=this.paint.get("fill-extrusion-base").evaluate(ct,mt),mr=function Jd(R,I,V,q){for(var ct=[],mt=0,At=R;mt<At.length;mt+=1){var Jt=At[mt],ue=[Jt.x,Jt.y,q,1];Rc(ue,ue,I),ct.push(new r(ue[0]/ue[3],ue[1]/ue[3]))}return ct}(He,Ae,0,0),zr=function Kd(R,I,V,q){for(var ct=[],mt=[],At=q[8]*I,Jt=q[9]*I,ue=q[10]*I,me=q[11]*I,Ae=q[8]*V,He=q[9]*V,er=q[10]*V,Je=q[11]*V,mr=0,zr=R;mr<zr.length;mr+=1){for(var qr=[],Mn=[],mn=0,An=zr[mr];mn<An.length;mn+=1){var Dn=An[mn],Bn=Dn.x,Yn=Dn.y,Gn=q[0]*Bn+q[4]*Yn+q[12],da=q[1]*Bn+q[5]*Yn+q[13],sa=q[2]*Bn+q[6]*Yn+q[14],ha=q[3]*Bn+q[7]*Yn+q[15],ba=sa+ue,Va=ha+me,Da=Gn+Ae,$a=da+He,fi=sa+er,_a=ha+Je,qa=new r((Gn+At)/Va,(da+Jt)/Va);qa.z=ba/Va,qr.push(qa);var Ja=new r(Da/_a,$a/_a);Ja.z=fi/_a,Mn.push(Ja)}ct.push(qr),mt.push(Mn)}return[ct,mt]}(At,Je,er,Ae);return function jd(R,I,V){var q=1/0;ki(V,I)&&(q=Vh(V,I[0]));for(var ct=0;ct<I.length;ct++)for(var mt=I[ct],At=R[ct],Jt=0;Jt<mt.length-1;Jt++){var ue=mt[Jt],er=[ue,mt[Jt+1],At[Jt+1],At[Jt],ue];ka(V,er)&&(q=Math.min(q,Vh(V,er)))}return q!==1/0&&q}(zr[0],zr[1],mr)},I}(Mi);function gc(R,I){return R.x*I.x+R.y*I.y}function Vh(R,I){if(1===R.length){for(var ct,V=0,q=I[V++];!ct||q.equals(ct);)if(!(ct=I[V++]))return 1/0;for(;V<I.length;V++){var mt=I[V],At=R[0],Jt=ct.sub(q),ue=mt.sub(q),me=At.sub(q),Ae=gc(Jt,Jt),He=gc(Jt,ue),er=gc(ue,ue),Je=gc(me,Jt),mr=gc(me,ue),zr=Ae*er-He*He,fn=(er*Je-He*mr)/zr,qr=(Ae*mr-He*Je)/zr,mn=q.z*(1-fn-qr)+ct.z*fn+mt.z*qr;if(isFinite(mn))return mn}return 1/0}for(var An=1/0,Dn=0,Bn=I;Dn<Bn.length;Dn+=1)An=Math.min(An,Bn[Dn].z);return An}var $d=ri([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,qd=ri([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,tp=Wf.VectorTileFeature.types,ep=Math.cos(Math.PI/180*37.5),Wh=Math.pow(2,14)/.5,Do=function(I){var V=this;this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(q){return q.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(q){V.gradients[q.id]={}}),this.layoutVertexArray=new El,this.layoutVertexArray2=new Xu,this.indexArray=new Ll,this.programConfigurations=new oa(I.layers,I.zoom),this.segments=new Gi,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(q){return q.isStateDependent()}).map(function(q){return q.id})};Do.prototype.populate=function(I,V,q){this.hasPattern=ch("line",this.layers,V);for(var ct=this.layers[0].layout.get("line-sort-key"),mt=[],At=0,Jt=I;At<Jt.length;At+=1){var ue=Jt[At],me=ue.feature,Ae=ue.id,He=ue.index,er=ue.sourceLayerIndex,Je=this.layers[0]._featureFilter.needGeometry,mr=pi(me,Je);if(this.layers[0]._featureFilter.filter(new fa(this.zoom),mr,q)){var zr=ct?ct.evaluate(mr,{},q):void 0,fn={id:Ae,properties:me.properties,type:me.type,sourceLayerIndex:er,index:He,geometry:Je?mr.geometry:Ka(me),patterns:{},sortKey:zr};mt.push(fn)}}ct&&mt.sort(function(sa,ha){return sa.sortKey-ha.sortKey});for(var qr=0,Mn=mt;qr<Mn.length;qr+=1){var mn=Mn[qr],Dn=mn.geometry,Bn=mn.index,Yn=mn.sourceLayerIndex;if(this.hasPattern){var Gn=hh("line",this.layers,mn,this.zoom,V);this.patternFeatures.push(Gn)}else this.addFeature(mn,Dn,Bn,q,{});V.featureIndex.insert(I[Bn].feature,Dn,Bn,Yn,this.index)}},Do.prototype.update=function(I,V,q){!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(I,V,this.stateDependentLayers,q)},Do.prototype.addFeatures=function(I,V,q){for(var ct=0,mt=this.patternFeatures;ct<mt.length;ct+=1){var At=mt[ct];this.addFeature(At,At.geometry,At.index,V,q)}},Do.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Do.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Do.prototype.upload=function(I){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=I.createVertexBuffer(this.layoutVertexArray2,qd)),this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,$d),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Do.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Do.prototype.lineFeatureClips=function(I){if(I.properties&&I.properties.hasOwnProperty("mapbox_clip_start")&&I.properties.hasOwnProperty("mapbox_clip_end"))return{start:+I.properties.mapbox_clip_start,end:+I.properties.mapbox_clip_end}},Do.prototype.addFeature=function(I,V,q,ct,mt){var At=this.layers[0].layout,Jt=At.get("line-join").evaluate(I,{}),ue=At.get("line-cap"),me=At.get("line-miter-limit"),Ae=At.get("line-round-limit");this.lineClips=this.lineFeatureClips(I);for(var He=0,er=V;He<er.length;He+=1)this.addLine(er[He],I,Jt,ue,me,Ae);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,q,mt,ct)},Do.prototype.addLine=function(I,V,q,ct,mt,At){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Jt=0;Jt<I.length-1;Jt++)this.totalDistance+=I[Jt].dist(I[Jt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var ue="Polygon"===tp[V.type],me=I.length;me>=2&&I[me-1].equals(I[me-2]);)me--;for(var Ae=0;Ae<me-1&&I[Ae].equals(I[Ae+1]);)Ae++;if(!(me<(ue?3:2))){"bevel"===q&&(mt=1.05);var Je,He=this.overscaling<=16?15*ma/(512*this.overscaling):0,er=this.segments.prepareSegment(10*me,this.layoutVertexArray,this.indexArray),mr=void 0,zr=void 0,fn=void 0,qr=void 0;this.e1=this.e2=-1,ue&&(qr=I[Ae].sub(Je=I[me-2])._unit()._perp());for(var Mn=Ae;Mn<me;Mn++)if(!(zr=Mn===me-1?ue?I[Ae+1]:void 0:I[Mn+1])||!I[Mn].equals(zr)){qr&&(fn=qr),Je&&(mr=Je),Je=I[Mn],qr=zr?zr.sub(Je)._unit()._perp():fn;var mn=(fn=fn||qr).add(qr);(0!==mn.x||0!==mn.y)&&mn._unit();var An=fn.x*qr.x+fn.y*qr.y,Dn=mn.x*qr.x+mn.y*qr.y,Bn=0!==Dn?1/Dn:1/0,Yn=2*Math.sqrt(2-2*Dn),Gn=Dn<ep&&mr&&zr,da=fn.x*qr.y-fn.y*qr.x>0;if(Gn&&Mn>Ae){var sa=Je.dist(mr);if(sa>2*He){var ha=Je.sub(Je.sub(mr)._mult(He/sa)._round());this.updateDistance(mr,ha),this.addCurrentVertex(ha,fn,0,0,er),mr=ha}}var Ia=mr&&zr,pa=Ia?q:ue?"butt":ct;if(Ia&&"round"===pa&&(Bn<At?pa="miter":Bn<=2&&(pa="fakeround")),"miter"===pa&&Bn>mt&&(pa="bevel"),"bevel"===pa&&(Bn>2&&(pa="flipbevel"),Bn<mt&&(pa="miter")),mr&&this.updateDistance(mr,Je),"miter"===pa)mn._mult(Bn),this.addCurrentVertex(Je,mn,0,0,er);else if("flipbevel"===pa){if(Bn>100)mn=qr.mult(-1);else{var ba=Bn*fn.add(qr).mag()/fn.sub(qr).mag();mn._perp()._mult(ba*(da?-1:1))}this.addCurrentVertex(Je,mn,0,0,er),this.addCurrentVertex(Je,mn.mult(-1),0,0,er)}else if("bevel"===pa||"fakeround"===pa){var Va=-Math.sqrt(Bn*Bn-1),Da=da?Va:0,$a=da?0:Va;if(mr&&this.addCurrentVertex(Je,fn,Da,$a,er),"fakeround"===pa)for(var fi=Math.round(180*Yn/Math.PI/20),_a=1;_a<fi;_a++){var qa=_a/fi;if(.5!==qa){var Ja=qa-.5;qa+=qa*Ja*(qa-1)*((1.0904+An*(An*(3.55645-1.43519*An)-3.2452))*Ja*Ja+(.848013+An*(.215638*An-1.06021)))}var zi=qr.sub(fn)._mult(qa)._add(fn)._unit()._mult(da?-1:1);this.addHalfVertex(Je,zi.x,zi.y,!1,da,0,er)}zr&&this.addCurrentVertex(Je,qr,-Da,-$a,er)}else if("butt"===pa)this.addCurrentVertex(Je,mn,0,0,er);else if("square"===pa){var Ni=mr?1:-1;this.addCurrentVertex(Je,mn,Ni,Ni,er)}else"round"===pa&&(mr&&(this.addCurrentVertex(Je,fn,0,0,er),this.addCurrentVertex(Je,fn,1,1,er,!0)),zr&&(this.addCurrentVertex(Je,qr,-1,-1,er,!0),this.addCurrentVertex(Je,qr,0,0,er)));if(Gn&&Mn<me-1){var to=Je.dist(zr);if(to>2*He){var Zi=Je.add(zr.sub(Je)._mult(He/to)._round());this.updateDistance(Je,Zi),this.addCurrentVertex(Zi,qr,0,0,er),Je=Zi}}}}},Do.prototype.addCurrentVertex=function(I,V,q,ct,mt,At){void 0===At&&(At=!1);var me=V.y*ct-V.x,Ae=-V.y-V.x*ct;this.addHalfVertex(I,V.x+V.y*q,V.y-V.x*q,At,!1,q,mt),this.addHalfVertex(I,me,Ae,At,!0,-ct,mt),this.distance>Wh/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(I,V,q,ct,mt,At))},Do.prototype.addHalfVertex=function(I,V,q,ct,mt,At,Jt){var He=.5*(this.lineClips?this.scaledDistance*(Wh-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((I.x<<1)+(ct?1:0),(I.y<<1)+(mt?1:0),Math.round(63*V)+128,Math.round(63*q)+128,1+(0===At?0:At<0?-1:1)|(63&He)<<2,He>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var zr=Jt.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,zr),Jt.primitiveLength++),mt?this.e2=zr:this.e1=zr},Do.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Do.prototype.updateDistance=function(I,V){this.distance+=I.dist(V),this.updateScaledDistance()},la("LineBucket",Do,{omit:["layers","patternFeatures"]});var ip=new oi({"line-cap":new Jn(Tr.layout_line["line-cap"]),"line-join":new ya(Tr.layout_line["line-join"]),"line-miter-limit":new Jn(Tr.layout_line["line-miter-limit"]),"line-round-limit":new Jn(Tr.layout_line["line-round-limit"]),"line-sort-key":new ya(Tr.layout_line["line-sort-key"])}),Yh={paint:new oi({"line-opacity":new ya(Tr.paint_line["line-opacity"]),"line-color":new ya(Tr.paint_line["line-color"]),"line-translate":new Jn(Tr.paint_line["line-translate"]),"line-translate-anchor":new Jn(Tr.paint_line["line-translate-anchor"]),"line-width":new ya(Tr.paint_line["line-width"]),"line-gap-width":new ya(Tr.paint_line["line-gap-width"]),"line-offset":new ya(Tr.paint_line["line-offset"]),"line-blur":new ya(Tr.paint_line["line-blur"]),"line-dasharray":new hi(Tr.paint_line["line-dasharray"]),"line-pattern":new Si(Tr.paint_line["line-pattern"]),"line-gradient":new Di(Tr.paint_line["line-gradient"])}),layout:ip},sp=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.possiblyEvaluate=function(q,ct){return ct=new fa(Math.floor(ct.zoom),{now:ct.now,fadeDuration:ct.fadeDuration,zoomHistory:ct.zoomHistory,transition:ct.transition}),R.prototype.possiblyEvaluate.call(this,q,ct)},I.prototype.evaluate=function(q,ct,mt,At){return ct=M({},ct,{zoom:Math.floor(ct.zoom)}),R.prototype.evaluate.call(this,q,ct,mt,At)},I}(ya),Xh=new sp(Yh.paint.properties["line-width"].specification);Xh.useIntegerZoom=!0;var lp=function(R){function I(V){R.call(this,V,Yh),this.gradientVersion=0}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._handleSpecialPaintPropertyUpdate=function(q){"line-gradient"===q&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof xo,this.gradientVersion=(this.gradientVersion+1)%h)},I.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},I.prototype.recalculate=function(q,ct){R.prototype.recalculate.call(this,q,ct),this.paint._values["line-floorwidth"]=Xh.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,q)},I.prototype.createBucket=function(q){return new Do(q)},I.prototype.queryRadius=function(q){var ct=q,mt=Zh(Po("line-width",this,ct),Po("line-gap-width",this,ct)),At=Po("line-offset",this,ct);return mt/2+Math.abs(At)+Is(this.paint.get("line-translate"))},I.prototype.queryIntersectsFeature=function(q,ct,mt,At,Jt,ue,me){var Ae=Pl(q,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ue.angle,me),He=me/2*Zh(this.paint.get("line-width").evaluate(ct,mt),this.paint.get("line-gap-width").evaluate(ct,mt)),er=this.paint.get("line-offset").evaluate(ct,mt);return er&&(At=function up(R,I){for(var V=[],q=new r(0,0),ct=0;ct<R.length;ct++){for(var mt=R[ct],At=[],Jt=0;Jt<mt.length;Jt++){var me=mt[Jt],Ae=mt[Jt+1],He=0===Jt?q:me.sub(mt[Jt-1])._unit()._perp(),er=Jt===mt.length-1?q:Ae.sub(me)._unit()._perp(),Je=He._add(er)._unit();Je._mult(1/(Je.x*er.x+Je.y*er.y)),At.push(Je._mult(I)._add(me))}V.push(At)}return V}(At,er*me)),function Ki(R,I,V){for(var q=0;q<I.length;q++){var ct=I[q];if(R.length>=3)for(var mt=0;mt<ct.length;mt++)if(Lo(R,ct[mt]))return!0;if(gs(R,ct,V))return!0}return!1}(Ae,At,He)},I.prototype.isTileClipped=function(){return!0},I}(Mi);function Zh(R,I){return I>0?I+2*R:R}var fp=ri([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),cp=ri([{name:"a_projected_pos",components:3,type:"Float32"}],4),hp=(ri([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),ri([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),jh=(ri([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),ri([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),vp=ri([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function pp(R,I,V){return R.sections.forEach(function(q){q.text=function dp(R,I,V){var q=I.layout.get("text-transform").evaluate(V,{});return"uppercase"===q?R=R.toLocaleUpperCase():"lowercase"===q&&(R=R.toLocaleLowerCase()),Ca.applyArabicShaping&&(R=Ca.applyArabicShaping(R)),R}(q.text,I,V)}),R}ri([{name:"triangle",components:3,type:"Uint16"}]),ri([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ri([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ri([{type:"Float32",name:"offsetX"}]),ri([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var yc={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var Oc_read=function(R,I,V,q,ct){var mt,At,Jt=8*ct-q-1,ue=(1<<Jt)-1,me=ue>>1,Ae=-7,He=V?ct-1:0,er=V?-1:1,Je=R[I+He];for(He+=er,mt=Je&(1<<-Ae)-1,Je>>=-Ae,Ae+=Jt;Ae>0;mt=256*mt+R[I+He],He+=er,Ae-=8);for(At=mt&(1<<-Ae)-1,mt>>=-Ae,Ae+=q;Ae>0;At=256*At+R[I+He],He+=er,Ae-=8);if(0===mt)mt=1-me;else{if(mt===ue)return At?NaN:1/0*(Je?-1:1);At+=Math.pow(2,q),mt-=me}return(Je?-1:1)*At*Math.pow(2,mt-q)},Oc_write=function(R,I,V,q,ct,mt){var At,Jt,ue,me=8*mt-ct-1,Ae=(1<<me)-1,He=Ae>>1,er=23===ct?Math.pow(2,-24)-Math.pow(2,-77):0,Je=q?0:mt-1,mr=q?1:-1,zr=I<0||0===I&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(Jt=isNaN(I)?1:0,At=Ae):(At=Math.floor(Math.log(I)/Math.LN2),I*(ue=Math.pow(2,-At))<1&&(At--,ue*=2),(I+=At+He>=1?er/ue:er*Math.pow(2,1-He))*ue>=2&&(At++,ue/=2),At+He>=Ae?(Jt=0,At=Ae):At+He>=1?(Jt=(I*ue-1)*Math.pow(2,ct),At+=He):(Jt=I*Math.pow(2,He-1)*Math.pow(2,ct),At=0));ct>=8;R[V+Je]=255&Jt,Je+=mr,Jt/=256,ct-=8);for(At=At<<ct|Jt,me+=ct;me>0;R[V+Je]=255&At,Je+=mr,At/=256,me-=8);R[V+Je-mr]|=128*zr},Bc=xi;function xi(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}xi.Varint=0,xi.Fixed64=1,xi.Bytes=2,xi.Fixed32=5;var dh=4294967296,Kh=1/dh,Jh="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Tu(R){return R.type===xi.Bytes?R.readVarint()+R.pos:R.pos+1}function Qh(R,I,V){var q=I<=16383?1:I<=2097151?2:I<=268435455?3:Math.floor(Math.log(I)/(7*Math.LN2));V.realloc(q);for(var ct=V.pos-1;ct>=R;ct--)V.buf[ct+q]=V.buf[ct]}function Sp(R,I){for(var V=0;V<R.length;V++)I.writeVarint(R[V])}function Ep(R,I){for(var V=0;V<R.length;V++)I.writeSVarint(R[V])}function Cp(R,I){for(var V=0;V<R.length;V++)I.writeFloat(R[V])}function Lp(R,I){for(var V=0;V<R.length;V++)I.writeDouble(R[V])}function Pp(R,I){for(var V=0;V<R.length;V++)I.writeBoolean(R[V])}function Dp(R,I){for(var V=0;V<R.length;V++)I.writeFixed32(R[V])}function Rp(R,I){for(var V=0;V<R.length;V++)I.writeSFixed32(R[V])}function Ip(R,I){for(var V=0;V<R.length;V++)I.writeFixed64(R[V])}function Fp(R,I){for(var V=0;V<R.length;V++)I.writeSFixed64(R[V])}function Nc(R,I){return(R[I]|R[I+1]<<8|R[I+2]<<16)+16777216*R[I+3]}function Xf(R,I,V){R[V]=I,R[V+1]=I>>>8,R[V+2]=I>>>16,R[V+3]=I>>>24}function $h(R,I){return(R[I]|R[I+1]<<8|R[I+2]<<16)+(R[I+3]<<24)}xi.prototype={destroy:function(){this.buf=null},readFields:function(R,I,V){for(V=V||this.length;this.pos<V;){var q=this.readVarint(),ct=q>>3,mt=this.pos;this.type=7&q,R(ct,I,this),this.pos===mt&&this.skip(q)}return I},readMessage:function(R,I){return this.readFields(R,I,this.readVarint()+this.pos)},readFixed32:function(){var R=Nc(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=$h(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=Nc(this.buf,this.pos)+Nc(this.buf,this.pos+4)*dh;return this.pos+=8,R},readSFixed64:function(){var R=Nc(this.buf,this.pos)+$h(this.buf,this.pos+4)*dh;return this.pos+=8,R},readFloat:function(){var R=Oc_read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=Oc_read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var V,q,I=this.buf;return V=127&(q=I[this.pos++]),q<128||(V|=(127&(q=I[this.pos++]))<<7,q<128)||(V|=(127&(q=I[this.pos++]))<<14,q<128)||(V|=(127&(q=I[this.pos++]))<<21,q<128)?V:function wp(R,I,V){var ct,mt,q=V.buf;if(ct=(112&(mt=q[V.pos++]))>>4,mt<128||(ct|=(127&(mt=q[V.pos++]))<<3,mt<128)||(ct|=(127&(mt=q[V.pos++]))<<10,mt<128)||(ct|=(127&(mt=q[V.pos++]))<<17,mt<128)||(ct|=(127&(mt=q[V.pos++]))<<24,mt<128)||(ct|=(1&(mt=q[V.pos++]))<<31,mt<128))return function Yf(R,I,V){return V?4294967296*I+(R>>>0):4294967296*(I>>>0)+(R>>>0)}(R,ct,I);throw new Error("Expected varint not more than 10 bytes")}(V|=(15&(q=I[this.pos]))<<28,R,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2==1?(R+1)/-2:R/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var R=this.readVarint()+this.pos,I=this.pos;return this.pos=R,R-I>=12&&Jh?function zp(R,I,V){return Jh.decode(R.subarray(I,V))}(this.buf,I,R):function kp(R,I,V){for(var q="",ct=I;ct<V;){var ue,me,Ae,mt=R[ct],At=null,Jt=mt>239?4:mt>223?3:mt>191?2:1;if(ct+Jt>V)break;1===Jt?mt<128&&(At=mt):2===Jt?128==(192&(ue=R[ct+1]))&&(At=(31&mt)<<6|63&ue)<=127&&(At=null):3===Jt?(me=R[ct+2],128==(192&(ue=R[ct+1]))&&128==(192&me)&&((At=(15&mt)<<12|(63&ue)<<6|63&me)<=2047||At>=55296&&At<=57343)&&(At=null)):4===Jt&&(me=R[ct+2],Ae=R[ct+3],128==(192&(ue=R[ct+1]))&&128==(192&me)&&128==(192&Ae)&&((At=(15&mt)<<18|(63&ue)<<12|(63&me)<<6|63&Ae)<=65535||At>=1114112)&&(At=null)),null===At?(At=65533,Jt=1):At>65535&&(At-=65536,q+=String.fromCharCode(At>>>10&1023|55296),At=56320|1023&At),q+=String.fromCharCode(At),ct+=Jt}return q}(this.buf,I,R)},readBytes:function(){var R=this.readVarint()+this.pos,I=this.buf.subarray(this.pos,R);return this.pos=R,I},readPackedVarint:function(R,I){if(this.type!==xi.Bytes)return R.push(this.readVarint(I));var V=Tu(this);for(R=R||[];this.pos<V;)R.push(this.readVarint(I));return R},readPackedSVarint:function(R){if(this.type!==xi.Bytes)return R.push(this.readSVarint());var I=Tu(this);for(R=R||[];this.pos<I;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==xi.Bytes)return R.push(this.readBoolean());var I=Tu(this);for(R=R||[];this.pos<I;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==xi.Bytes)return R.push(this.readFloat());var I=Tu(this);for(R=R||[];this.pos<I;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==xi.Bytes)return R.push(this.readDouble());var I=Tu(this);for(R=R||[];this.pos<I;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==xi.Bytes)return R.push(this.readFixed32());var I=Tu(this);for(R=R||[];this.pos<I;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==xi.Bytes)return R.push(this.readSFixed32());var I=Tu(this);for(R=R||[];this.pos<I;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==xi.Bytes)return R.push(this.readFixed64());var I=Tu(this);for(R=R||[];this.pos<I;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==xi.Bytes)return R.push(this.readSFixed64());var I=Tu(this);for(R=R||[];this.pos<I;)R.push(this.readSFixed64());return R},skip:function(R){var I=7&R;if(I===xi.Varint)for(;this.buf[this.pos++]>127;);else if(I===xi.Bytes)this.pos=this.readVarint()+this.pos;else if(I===xi.Fixed32)this.pos+=4;else{if(I!==xi.Fixed64)throw new Error("Unimplemented type: "+I);this.pos+=8}},writeTag:function(R,I){this.writeVarint(R<<3|I)},realloc:function(R){for(var I=this.length||16;I<this.pos+R;)I*=2;if(I!==this.length){var V=new Uint8Array(I);V.set(this.buf),this.buf=V,this.length=I}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),Xf(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),Xf(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),Xf(this.buf,-1&R,this.pos),Xf(this.buf,Math.floor(R*Kh),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),Xf(this.buf,-1&R,this.pos),Xf(this.buf,Math.floor(R*Kh),this.pos+4),this.pos+=8},writeVarint:function(R){(R=+R||0)>268435455||R<0?function Tp(R,I){var V,q;if(R>=0?(V=R%4294967296|0,q=R/4294967296|0):(q=~(-R/4294967296),4294967295^(V=~(-R%4294967296))?V=V+1|0:(V=0,q=q+1|0)),R>=0x10000000000000000||R<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");I.realloc(10),function Ap(R,I,V){V.buf[V.pos++]=127&R|128,R>>>=7,V.buf[V.pos++]=127&R|128,R>>>=7,V.buf[V.pos++]=127&R|128,R>>>=7,V.buf[V.pos++]=127&R|128,V.buf[V.pos]=127&(R>>>=7)}(V,0,I),function Mp(R,I){var V=(7&R)<<4;I.buf[I.pos++]|=V|((R>>>=3)?128:0),R&&(I.buf[I.pos++]=127&R|((R>>>=7)?128:0),R&&(I.buf[I.pos++]=127&R|((R>>>=7)?128:0),R&&(I.buf[I.pos++]=127&R|((R>>>=7)?128:0),R&&(I.buf[I.pos++]=127&R|((R>>>=7)?128:0),R&&(I.buf[I.pos++]=127&R)))))}(q,I)}(R,this):(this.realloc(4),this.buf[this.pos++]=127&R|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=127&(R>>>=7)|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=127&(R>>>=7)|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127))))},writeSVarint:function(R){this.writeVarint(R<0?2*-R-1:2*R)},writeBoolean:function(R){this.writeVarint(Boolean(R))},writeString:function(R){R=String(R),this.realloc(4*R.length),this.pos++;var I=this.pos;this.pos=function Op(R,I,V){for(var ct,mt,q=0;q<I.length;q++){if((ct=I.charCodeAt(q))>55295&&ct<57344){if(!mt){ct>56319||q+1===I.length?(R[V++]=239,R[V++]=191,R[V++]=189):mt=ct;continue}if(ct<56320){R[V++]=239,R[V++]=191,R[V++]=189,mt=ct;continue}ct=mt-55296<<10|ct-56320|65536,mt=null}else mt&&(R[V++]=239,R[V++]=191,R[V++]=189,mt=null);ct<128?R[V++]=ct:(ct<2048?R[V++]=ct>>6|192:(ct<65536?R[V++]=ct>>12|224:(R[V++]=ct>>18|240,R[V++]=ct>>12&63|128),R[V++]=ct>>6&63|128),R[V++]=63&ct|128)}return V}(this.buf,R,this.pos);var V=this.pos-I;V>=128&&Qh(I,V,this),this.pos=I-1,this.writeVarint(V),this.pos+=V},writeFloat:function(R){this.realloc(4),Oc_write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),Oc_write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var I=R.length;this.writeVarint(I),this.realloc(I);for(var V=0;V<I;V++)this.buf[this.pos++]=R[V]},writeRawMessage:function(R,I){this.pos++;var V=this.pos;R(I,this);var q=this.pos-V;q>=128&&Qh(V,q,this),this.pos=V-1,this.writeVarint(q),this.pos+=q},writeMessage:function(R,I,V){this.writeTag(R,xi.Bytes),this.writeRawMessage(I,V)},writePackedVarint:function(R,I){I.length&&this.writeMessage(R,Sp,I)},writePackedSVarint:function(R,I){I.length&&this.writeMessage(R,Ep,I)},writePackedBoolean:function(R,I){I.length&&this.writeMessage(R,Pp,I)},writePackedFloat:function(R,I){I.length&&this.writeMessage(R,Cp,I)},writePackedDouble:function(R,I){I.length&&this.writeMessage(R,Lp,I)},writePackedFixed32:function(R,I){I.length&&this.writeMessage(R,Dp,I)},writePackedSFixed32:function(R,I){I.length&&this.writeMessage(R,Rp,I)},writePackedFixed64:function(R,I){I.length&&this.writeMessage(R,Ip,I)},writePackedSFixed64:function(R,I){I.length&&this.writeMessage(R,Fp,I)},writeBytesField:function(R,I){this.writeTag(R,xi.Bytes),this.writeBytes(I)},writeFixed32Field:function(R,I){this.writeTag(R,xi.Fixed32),this.writeFixed32(I)},writeSFixed32Field:function(R,I){this.writeTag(R,xi.Fixed32),this.writeSFixed32(I)},writeFixed64Field:function(R,I){this.writeTag(R,xi.Fixed64),this.writeFixed64(I)},writeSFixed64Field:function(R,I){this.writeTag(R,xi.Fixed64),this.writeSFixed64(I)},writeVarintField:function(R,I){this.writeTag(R,xi.Varint),this.writeVarint(I)},writeSVarintField:function(R,I){this.writeTag(R,xi.Varint),this.writeSVarint(I)},writeStringField:function(R,I){this.writeTag(R,xi.Bytes),this.writeString(I)},writeFloatField:function(R,I){this.writeTag(R,xi.Fixed32),this.writeFloat(I)},writeDoubleField:function(R,I){this.writeTag(R,xi.Fixed64),this.writeDouble(I)},writeBooleanField:function(R,I){this.writeVarintField(R,Boolean(I))}};function Bp(R,I,V){1===R&&V.readMessage(Np,I)}function Np(R,I,V){if(3===R){var q=V.readMessage(Up,{}),At=q.width,Jt=q.height,ue=q.left,me=q.top,Ae=q.advance;I.push({id:q.id,bitmap:new Lf({width:At+6,height:Jt+6},q.bitmap),metrics:{width:At,height:Jt,left:ue,top:me,advance:Ae}})}}function Up(R,I,V){1===R?I.id=V.readVarint():2===R?I.bitmap=V.readBytes():3===R?I.width=V.readVarint():4===R?I.height=V.readVarint():5===R?I.left=V.readSVarint():6===R?I.top=V.readSVarint():7===R&&(I.advance=V.readVarint())}function qh(R){for(var I=0,V=0,q=0,ct=R;q<ct.length;q+=1){var mt=ct[q];I+=mt.w*mt.h,V=Math.max(V,mt.w)}R.sort(function(fn,qr){return qr.h-fn.h});for(var Jt=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(I/.95)),V),h:1/0}],ue=0,me=0,Ae=0,He=R;Ae<He.length;Ae+=1)for(var er=He[Ae],Je=Jt.length-1;Je>=0;Je--){var mr=Jt[Je];if(!(er.w>mr.w||er.h>mr.h)){if(er.x=mr.x,er.y=mr.y,me=Math.max(me,er.y+er.h),ue=Math.max(ue,er.x+er.w),er.w===mr.w&&er.h===mr.h){var zr=Jt.pop();Je<Jt.length&&(Jt[Je]=zr)}else er.h===mr.h?(mr.x+=er.w,mr.w-=er.w):er.w===mr.w?(mr.y+=er.h,mr.h-=er.h):(Jt.push({x:mr.x+er.w,y:mr.y,w:mr.w-er.w,h:er.h}),mr.y+=er.h,mr.h-=er.h);break}}return{w:ue,h:me,fill:I/(ue*me)||0}}var Uc=function(I,V){var q=V.pixelRatio,ct=V.version,mt=V.stretchX,At=V.stretchY,Jt=V.content;this.paddedRect=I,this.pixelRatio=q,this.stretchX=mt,this.stretchY=At,this.content=Jt,this.version=ct},mc={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};mc.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},mc.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},mc.tlbr.get=function(){return this.tl.concat(this.br)},mc.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Uc.prototype,mc);var xc=function(I,V){var q={},ct={};this.haveRenderCallbacks=[];var mt=[];this.addImages(I,q,mt),this.addImages(V,ct,mt);var At=qh(mt),me=new Zo({width:At.w||1,height:At.h||1});for(var Ae in I){var He=I[Ae],er=q[Ae].paddedRect;Zo.copy(He.data,me,{x:0,y:0},{x:er.x+1,y:er.y+1},He.data)}for(var Je in V){var mr=V[Je],zr=ct[Je].paddedRect,fn=zr.x+1,qr=zr.y+1,Mn=mr.data.width,mn=mr.data.height;Zo.copy(mr.data,me,{x:0,y:0},{x:fn,y:qr},mr.data),Zo.copy(mr.data,me,{x:0,y:mn-1},{x:fn,y:qr-1},{width:Mn,height:1}),Zo.copy(mr.data,me,{x:0,y:0},{x:fn,y:qr+mn},{width:Mn,height:1}),Zo.copy(mr.data,me,{x:Mn-1,y:0},{x:fn-1,y:qr},{width:1,height:mn}),Zo.copy(mr.data,me,{x:0,y:0},{x:fn+Mn,y:qr},{width:1,height:mn})}this.image=me,this.iconPositions=q,this.patternPositions=ct};xc.prototype.addImages=function(I,V,q){for(var ct in I){var mt=I[ct],At={x:0,y:0,w:mt.data.width+2,h:mt.data.height+2};q.push(At),V[ct]=new Uc(At,mt),mt.hasRenderCallback&&this.haveRenderCallbacks.push(ct)}},xc.prototype.patchUpdatedImages=function(I,V){for(var q in I.dispatchRenderCallbacks(this.haveRenderCallbacks),I.updatedImages)this.patchUpdatedImage(this.iconPositions[q],I.getImage(q),V),this.patchUpdatedImage(this.patternPositions[q],I.getImage(q),V)},xc.prototype.patchUpdatedImage=function(I,V,q){if(I&&V&&I.version!==V.version){I.version=V.version;var ct=I.tl;q.update(V.data,void 0,{x:ct[0],y:ct[1]})}},la("ImagePosition",Uc),la("ImageAtlas",xc);var ms={horizontal:1,vertical:2,horizontalOnly:3},bc=-17;var Zf=function(){this.scale=1,this.fontStack="",this.imageName=null};Zf.forText=function(I,V){var q=new Zf;return q.scale=I||1,q.fontStack=V,q},Zf.forImage=function(I){var V=new Zf;return V.imageName=I,V};var po=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Vc(R,I,V,q,ct,mt,At,Jt,ue,me,Ae,He,er,Je,mr,zr){var fn=po.fromFeature(R,ct);He===ms.vertical&&fn.verticalizePunctuation();var qr,Mn=Ca.processBidirectionalText,mn=Ca.processStyledBidirectionalText;if(Mn&&1===fn.sections.length){qr=[];for(var Dn=0,Bn=Mn(fn.toString(),gh(fn,me,mt,I,q,Je,mr));Dn<Bn.length;Dn+=1){var Yn=Bn[Dn],Gn=new po;Gn.text=Yn,Gn.sections=fn.sections;for(var da=0;da<Yn.length;da++)Gn.sectionIndex.push(0);qr.push(Gn)}}else if(mn){qr=[];for(var ha=0,Ia=mn(fn.text,fn.sectionIndex,gh(fn,me,mt,I,q,Je,mr));ha<Ia.length;ha+=1){var pa=Ia[ha],ba=new po;ba.text=pa[0],ba.sectionIndex=pa[1],ba.sections=fn.sections,qr.push(ba)}}else qr=function Gp(R,I){for(var V=[],q=R.text,ct=0,mt=0,At=I;mt<At.length;mt+=1){var Jt=At[mt];V.push(R.substring(ct,Jt)),ct=Jt}return ct<q.length&&V.push(R.substring(ct,q.length)),V}(fn,gh(fn,me,mt,I,q,Je,mr));var Va=[],Da={positionedLines:Va,text:fn.toString(),top:Ae[1],bottom:Ae[1],left:Ae[0],right:Ae[0],writingMode:He,iconsInText:!1,verticalizable:!1};return function Xp(R,I,V,q,ct,mt,At,Jt,ue,me,Ae,He){for(var er=0,Je=-17,mr=0,zr=0,fn="right"===Jt?1:"left"===Jt?0:.5,qr=0,Mn=0,mn=ct;Mn<mn.length;Mn+=1){var An=mn[Mn];An.trim();var Dn=An.getMaxScale(),Bn=24*(Dn-1),Yn={positionedGlyphs:[],lineOffset:0};R.positionedLines[qr]=Yn;var Gn=Yn.positionedGlyphs,da=0;if(An.length()){for(var sa=0;sa<An.length();sa++){var ha=An.getSection(sa),Ia=An.getSectionIndex(sa),pa=An.getCharCode(sa),ba=0,Va=null,Da=null,$a=null,fi=24,_a=!(ue===ms.horizontal||!Ae&&!Oe(pa)||Ae&&($l[pa]||Lr(pa)));if(ha.imageName){var zi=q[ha.imageName];if(!zi)continue;$a=ha.imageName,R.iconsInText=R.iconsInText||!0,Da=zi.paddedRect;var Ni=zi.displaySize;ha.scale=24*ha.scale/He,ba=Bn+(24-Ni[1]*ha.scale),fi=(Va={width:Ni[0],height:Ni[1],left:1,top:-3,advance:_a?Ni[1]:Ni[0]}).advance;var Zi=_a?Ni[0]*ha.scale-24*Dn:Ni[1]*ha.scale-24*Dn;Zi>0&&Zi>da&&(da=Zi)}else{var qa=V[ha.fontStack],Ja=qa&&qa[pa];if(Ja&&Ja.rect)Da=Ja.rect,Va=Ja.metrics;else{var gi=I[ha.fontStack],bi=gi&&gi[pa];if(!bi)continue;Va=bi.metrics}ba=24*(Dn-ha.scale)}_a?(R.verticalizable=!0,Gn.push({glyph:pa,imageName:$a,x:er,y:Je+ba,vertical:_a,scale:ha.scale,fontStack:ha.fontStack,sectionIndex:Ia,metrics:Va,rect:Da}),er+=fi*ha.scale+me):(Gn.push({glyph:pa,imageName:$a,x:er,y:Je+ba,vertical:_a,scale:ha.scale,fontStack:ha.fontStack,sectionIndex:Ia,metrics:Va,rect:Da}),er+=Va.advance*ha.scale+me)}0!==Gn.length&&(mr=Math.max(er-me,mr),Zp(Gn,0,Gn.length-1,fn,da)),er=0;var yo=mt*Dn+da;Yn.lineOffset=Math.max(da,Bn),Je+=yo,zr=Math.max(yo,zr),++qr}else Je+=mt,++qr}var eo=Je- -17,Ro=yh(At),Io=Ro.horizontalAlign,Ji=Ro.verticalAlign;(function jp(R,I,V,q,ct,mt,At,Jt,ue){var me=(I-V)*ct,Ae=0;Ae=mt!==At?-Jt*q-bc:(-q*ue+.5)*At;for(var He=0,er=R;He<er.length;He+=1)for(var mr=0,zr=er[He].positionedGlyphs;mr<zr.length;mr+=1){var fn=zr[mr];fn.x+=me,fn.y+=Ae}})(R.positionedLines,fn,Io,Ji,mr,zr,mt,eo,ct.length),R.top+=-Ji*eo,R.bottom=R.top+eo,R.left+=-Io*mr,R.right=R.left+mr}(Da,I,V,q,qr,At,Jt,ue,He,me,er,zr),!function Hp(R){for(var I=0,V=R;I<V.length;I+=1)if(0!==V[I].positionedGlyphs.length)return!1;return!0}(Va)&&Da}po.fromFeature=function(I,V){for(var q=new po,ct=0;ct<I.sections.length;ct++){var mt=I.sections[ct];mt.image?q.addImageSection(mt):q.addTextSection(mt,V)}return q},po.prototype.length=function(){return this.text.length},po.prototype.getSection=function(I){return this.sections[this.sectionIndex[I]]},po.prototype.getSectionIndex=function(I){return this.sectionIndex[I]},po.prototype.getCharCode=function(I){return this.text.charCodeAt(I)},po.prototype.verticalizePunctuation=function(){this.text=function yp(R){for(var I="",V=0;V<R.length;V++){var q=R.charCodeAt(V+1)||null,ct=R.charCodeAt(V-1)||null;I+=q&&qe(q)&&!yc[R[V+1]]||ct&&qe(ct)&&!yc[R[V-1]]||!yc[R[V]]?R[V]:yc[R[V]]}return I}(this.text)},po.prototype.trim=function(){for(var I=0,V=0;V<this.text.length&&$l[this.text.charCodeAt(V)];V++)I++;for(var q=this.text.length,ct=this.text.length-1;ct>=0&&ct>=I&&$l[this.text.charCodeAt(ct)];ct--)q--;this.text=this.text.substring(I,q),this.sectionIndex=this.sectionIndex.slice(I,q)},po.prototype.substring=function(I,V){var q=new po;return q.text=this.text.substring(I,V),q.sectionIndex=this.sectionIndex.slice(I,V),q.sections=this.sections,q},po.prototype.toString=function(){return this.text},po.prototype.getMaxScale=function(){var I=this;return this.sectionIndex.reduce(function(V,q){return Math.max(V,I.sections[q].scale)},0)},po.prototype.addTextSection=function(I,V){this.text+=I.text,this.sections.push(Zf.forText(I.scale,I.fontStack||V));for(var q=this.sections.length-1,ct=0;ct<I.text.length;++ct)this.sectionIndex.push(q)},po.prototype.addImageSection=function(I){var V=I.image?I.image.name:"";if(0!==V.length){var q=this.getNextImageSectionCharCode();q?(this.text+=String.fromCharCode(q),this.sections.push(Zf.forImage(V)),this.sectionIndex.push(this.sections.length-1)):B("Reached maximum number of images 6401")}else B("Can't add FormattedSection with an empty image.")},po.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var $l={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},os={};function rv(R,I,V,q,ct,mt){if(I.imageName){var ue=q[I.imageName];return ue?ue.displaySize[0]*I.scale*24/mt+ct:0}var At=V[I.fontStack],Jt=At&&At[R];return Jt?Jt.metrics.advance*I.scale+ct:0}function nv(R,I,V,q){var ct=Math.pow(R-I,2);return q?R<I?ct/2:2*ct:ct+Math.abs(V)*V}function Yp(R,I,V){var q=0;return 10===R&&(q-=1e4),V&&(q+=150),(40===R||65288===R)&&(q+=50),(41===I||65289===I)&&(q+=50),q}function av(R,I,V,q,ct,mt){for(var At=null,Jt=nv(I,V,ct,mt),ue=0,me=q;ue<me.length;ue+=1){var Ae=me[ue],er=nv(I-Ae.x,V,ct,mt)+Ae.badness;er<=Jt&&(At=Ae,Jt=er)}return{index:R,x:I,priorBreak:At,badness:Jt}}function iv(R){return R?iv(R.priorBreak).concat(R.index):[]}function gh(R,I,V,q,ct,mt,At){if("point"!==mt)return[];if(!R)return[];for(var Jt=[],ue=function Wp(R,I,V,q,ct,mt){for(var At=0,Jt=0;Jt<R.length();Jt++){var ue=R.getSection(Jt);At+=rv(R.getCharCode(Jt),ue,q,ct,I,mt)}return At/Math.max(1,Math.ceil(At/V))}(R,I,V,q,ct,At),me=R.text.indexOf("\u200b")>=0,Ae=0,He=0;He<R.length();He++){var er=R.getSection(He),Je=R.getCharCode(He);if($l[Je]||(Ae+=rv(Je,er,q,ct,I,At)),He<R.length()-1){var mr=xe(Je);(os[Je]||mr||er.imageName)&&Jt.push(av(He+1,Ae,ue,Jt,Yp(Je,R.getCharCode(He+1),mr&&me),!1))}}return iv(av(R.length(),Ae,ue,Jt,0,!0))}function yh(R){var I=.5,V=.5;switch(R){case"right":case"top-right":case"bottom-right":I=1;break;case"left":case"top-left":case"bottom-left":I=0}switch(R){case"bottom":case"bottom-right":case"bottom-left":V=1;break;case"top":case"top-right":case"top-left":V=0}return{horizontalAlign:I,verticalAlign:V}}function Zp(R,I,V,q,ct){if(q||ct)for(var mt=R[V],Jt=(R[V].x+mt.metrics.advance*mt.scale)*q,ue=I;ue<=V;ue++)R[ue].x-=Jt,R[ue].y+=ct}function ov(R,I,V,q,ct,mt){var Jt,At=R.image;if(At.content){var ue=At.content,me=At.pixelRatio||1;Jt=[ue[0]/me,ue[1]/me,At.displaySize[0]-ue[2]/me,At.displaySize[1]-ue[3]/me]}var er,Je,mr,zr,Ae=I.left*mt,He=I.right*mt;"width"===V||"both"===V?(zr=ct[0]+Ae-q[3],Je=ct[0]+He+q[1]):Je=(zr=ct[0]+(Ae+He-At.displaySize[0])/2)+At.displaySize[0];var fn=I.top*mt,qr=I.bottom*mt;return"height"===V||"both"===V?(er=ct[1]+fn-q[0],mr=ct[1]+qr+q[2]):mr=(er=ct[1]+(fn+qr-At.displaySize[1])/2)+At.displaySize[1],{image:At,top:er,right:Je,bottom:mr,left:zr,collisionPadding:Jt}}os[10]=!0,os[32]=!0,os[38]=!0,os[40]=!0,os[41]=!0,os[43]=!0,os[45]=!0,os[47]=!0,os[173]=!0,os[183]=!0,os[8203]=!0,os[8208]=!0,os[8211]=!0,os[8231]=!0;var jf=function(R){function I(V,q,ct,mt){R.call(this,V,q),this.angle=ct,void 0!==mt&&(this.segment=mt)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.clone=function(){return new I(this.x,this.y,this.angle,this.segment)},I}(r);la("Anchor",jf);var Il=128;function mh(R,I){var V=I.expression;if("constant"===V.kind)return{kind:"constant",layoutSize:V.evaluate(new fa(R+1))};if("source"===V.kind)return{kind:"source"};for(var ct=V.zoomStops,mt=V.interpolationType,At=0;At<ct.length&&ct[At]<=R;)At++;for(var Jt=At=Math.max(0,At-1);Jt<ct.length&&ct[Jt]<R+1;)Jt++;Jt=Math.min(ct.length-1,Jt);var ue=ct[At],me=ct[Jt];return"composite"===V.kind?{kind:"composite",minZoom:ue,maxZoom:me,interpolationType:mt}:{kind:"camera",minZoom:ue,maxZoom:me,minSize:V.evaluate(new fa(ue)),maxSize:V.evaluate(new fa(me)),interpolationType:mt}}function sv(R,I,V){var q=I.uSize,mt=V.lowerSize;return"source"===R.kind?mt/Il:"composite"===R.kind?Pi(mt/Il,V.upperSize/Il,I.uSizeT):q}function lv(R,I){var V=0,q=0;if("constant"===R.kind)q=R.layoutSize;else if("source"!==R.kind){var ct=R.interpolationType,Jt=ct?c(Vi.interpolationFactor(ct,I,R.minZoom,R.maxZoom),0,1):0;"camera"===R.kind?q=Pi(R.minSize,R.maxSize,Jt):V=Jt}return{uSizeT:V,uSize:q}}var Jp=Object.freeze({__proto__:null,getSizeData:mh,evaluateSizeForFeature:sv,evaluateSizeForZoom:lv,SIZE_PACK_FACTOR:Il});function uv(R,I,V,q,ct){if(void 0===I.segment)return!0;for(var mt=I,At=I.segment+1,Jt=0;Jt>-V/2;){if(--At<0)return!1;Jt-=R[At].dist(mt),mt=R[At]}Jt+=R[At].dist(R[At+1]),At++;for(var ue=[],me=0;Jt<V/2;){var He=R[At],er=R[At+1];if(!er)return!1;var Je=R[At-1].angleTo(He)-He.angleTo(er);for(Je=Math.abs((Je+3*Math.PI)%(2*Math.PI)-Math.PI),ue.push({distance:Jt,angleDelta:Je}),me+=Je;Jt-ue[0].distance>q;)me-=ue.shift().angleDelta;if(me>ct)return!1;At++,Jt+=He.dist(er)}return!0}function fv(R){for(var I=0,V=0;V<R.length-1;V++)I+=R[V].dist(R[V+1]);return I}function cv(R,I,V){return R?.6*I*V:0}function hv(R,I){return Math.max(R?R.right-R.left:0,I?I.right-I.left:0)}function Qp(R,I,V,q,ct,mt){for(var At=cv(V,ct,mt),Jt=hv(V,q)*mt,ue=0,me=fv(R)/2,Ae=0;Ae<R.length-1;Ae++){var He=R[Ae],er=R[Ae+1],Je=He.dist(er);if(ue+Je>me){var mr=(me-ue)/Je,zr=Pi(He.x,er.x,mr),fn=Pi(He.y,er.y,mr),qr=new jf(zr,fn,er.angleTo(He),Ae);return qr._round(),!At||uv(R,qr,Jt,At,I)?qr:void 0}ue+=Je}}function $p(R,I,V,q,ct,mt,At,Jt,ue){var me=cv(q,mt,At),Ae=hv(q,ct),He=Ae*At,er=0===R[0].x||R[0].x===ue||0===R[0].y||R[0].y===ue;return I-He<I/4&&(I=He+I/4),vv(R,er?I/2*Jt%I:(Ae/2+2*mt)*At*Jt%I,I,me,V,He,er,!1,ue)}function vv(R,I,V,q,ct,mt,At,Jt,ue){for(var me=mt/2,Ae=fv(R),He=0,er=I-V,Je=[],mr=0;mr<R.length-1;mr++){for(var zr=R[mr],fn=R[mr+1],qr=zr.dist(fn),Mn=fn.angleTo(zr);er+V<He+qr;){var mn=((er+=V)-He)/qr,An=Pi(zr.x,fn.x,mn),Dn=Pi(zr.y,fn.y,mn);if(An>=0&&An<ue&&Dn>=0&&Dn<ue&&er-me>=0&&er+me<=Ae){var Bn=new jf(An,Dn,Mn,mr);Bn._round(),(!q||uv(R,Bn,mt,q,ct))&&Je.push(Bn)}}He+=qr}return!Jt&&!Je.length&&!At&&(Je=vv(R,He/2,V,q,ct,mt,At,!0,ue)),Je}function dv(R,I,V,q,ct){for(var mt=[],At=0;At<R.length;At++)for(var Jt=R[At],ue=void 0,me=0;me<Jt.length-1;me++){var Ae=Jt[me],He=Jt[me+1];Ae.x<I&&He.x<I||(Ae.x<I?Ae=new r(I,Ae.y+(I-Ae.x)/(He.x-Ae.x)*(He.y-Ae.y))._round():He.x<I&&(He=new r(I,Ae.y+(I-Ae.x)/(He.x-Ae.x)*(He.y-Ae.y))._round()),!(Ae.y<V&&He.y<V)&&(Ae.y<V?Ae=new r(Ae.x+(V-Ae.y)/(He.y-Ae.y)*(He.x-Ae.x),V)._round():He.y<V&&(He=new r(Ae.x+(V-Ae.y)/(He.y-Ae.y)*(He.x-Ae.x),V)._round()),!(Ae.x>=q&&He.x>=q)&&(Ae.x>=q?Ae=new r(q,Ae.y+(q-Ae.x)/(He.x-Ae.x)*(He.y-Ae.y))._round():He.x>=q&&(He=new r(q,Ae.y+(q-Ae.x)/(He.x-Ae.x)*(He.y-Ae.y))._round()),!(Ae.y>=ct&&He.y>=ct)&&(Ae.y>=ct?Ae=new r(Ae.x+(ct-Ae.y)/(He.y-Ae.y)*(He.x-Ae.x),ct)._round():He.y>=ct&&(He=new r(Ae.x+(ct-Ae.y)/(He.y-Ae.y)*(He.x-Ae.x),ct)._round()),(!ue||!Ae.equals(ue[ue.length-1]))&&mt.push(ue=[Ae]),ue.push(He)))))}return mt}function pv(R,I,V,q){var ct=[],mt=R.image,At=mt.pixelRatio,Jt=mt.paddedRect.w-2,ue=mt.paddedRect.h-2,me=R.right-R.left,Ae=R.bottom-R.top,He=mt.stretchX||[[0,Jt]],er=mt.stretchY||[[0,ue]],Je=function(qa,Ja){return qa+Ja[1]-Ja[0]},mr=He.reduce(Je,0),zr=er.reduce(Je,0),fn=Jt-mr,qr=ue-zr,Mn=0,mn=mr,An=0,Dn=zr,Bn=0,Yn=fn,Gn=0,da=qr;if(mt.content&&q){var sa=mt.content;Mn=Hc(He,0,sa[0]),An=Hc(er,0,sa[1]),mn=Hc(He,sa[0],sa[2]),Dn=Hc(er,sa[1],sa[3]),Bn=sa[0]-Mn,Gn=sa[1]-An,Yn=sa[2]-sa[0]-mn,da=sa[3]-sa[1]-Dn}var ha=function(qa,Ja,gi,bi){var zi=Gc(qa.stretch-Mn,mn,me,R.left),Ni=Wc(qa.fixed-Bn,Yn,qa.stretch,mr),to=Gc(Ja.stretch-An,Dn,Ae,R.top),Zi=Wc(Ja.fixed-Gn,da,Ja.stretch,zr),go=Gc(gi.stretch-Mn,mn,me,R.left),yo=Wc(gi.fixed-Bn,Yn,gi.stretch,mr),eo=Gc(bi.stretch-An,Dn,Ae,R.top),Ro=Wc(bi.fixed-Gn,da,bi.stretch,zr),Io=new r(zi,to),Ji=new r(go,to),Fo=new r(go,eo),xs=new r(zi,eo),Su=new r(Ni/At,Zi/At),rf=new r(yo/At,Ro/At),nf=I*Math.PI/180;if(nf){var af=Math.sin(nf),rc=Math.cos(nf),nl=[rc,-af,af,rc];Io._matMult(nl),Ji._matMult(nl),xs._matMult(nl),Fo._matMult(nl)}var Jc=qa.stretch+qa.fixed,Qc=Ja.stretch+Ja.fixed;return{tl:Io,tr:Ji,bl:xs,br:Fo,tex:{x:mt.paddedRect.x+1+Jc,y:mt.paddedRect.y+1+Qc,w:gi.stretch+gi.fixed-Jc,h:bi.stretch+bi.fixed-Qc},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Su,pixelOffsetBR:rf,minFontScaleX:Yn/At/me,minFontScaleY:da/At/Ae,isSDF:V}};if(q&&(mt.stretchX||mt.stretchY))for(var Ia=gv(He,fn,mr),pa=gv(er,qr,zr),ba=0;ba<Ia.length-1;ba++)for(var Va=Ia[ba],Da=Ia[ba+1],$a=0;$a<pa.length-1;$a++)ct.push(ha(Va,pa[$a],Da,pa[$a+1]));else ct.push(ha({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Jt+1},{fixed:0,stretch:ue+1}));return ct}function Hc(R,I,V){for(var q=0,ct=0,mt=R;ct<mt.length;ct+=1){var At=mt[ct];q+=Math.max(I,Math.min(V,At[1]))-Math.max(I,Math.min(V,At[0]))}return q}function gv(R,I,V){for(var q=[{fixed:-1,stretch:0}],ct=0,mt=R;ct<mt.length;ct+=1){var At=mt[ct],Jt=At[0],ue=At[1],me=q[q.length-1];q.push({fixed:Jt-me.stretch,stretch:me.stretch}),q.push({fixed:Jt-me.stretch,stretch:me.stretch+(ue-Jt)})}return q.push({fixed:I+1,stretch:V}),q}function Gc(R,I,V,q){return R/I*V+q}function Wc(R,I,V,q){return R-I*V/q}var Yc=function(I,V,q,ct,mt,At,Jt,ue,me,Ae){if(this.boxStartIndex=I.length,me){var He=At.top,er=At.bottom,Je=At.collisionPadding;Je&&(He-=Je[1],er+=Je[3]);var mr=er-He;mr>0&&(mr=Math.max(10,mr),this.circleDiameter=mr)}else{var zr=At.top*Jt-ue,fn=At.bottom*Jt+ue,qr=At.left*Jt-ue,Mn=At.right*Jt+ue,mn=At.collisionPadding;if(mn&&(qr-=mn[0]*Jt,zr-=mn[1]*Jt,Mn+=mn[2]*Jt,fn+=mn[3]*Jt),Ae){var An=new r(qr,zr),Dn=new r(Mn,zr),Bn=new r(qr,fn),Yn=new r(Mn,fn),Gn=Ae*Math.PI/180;An._rotate(Gn),Dn._rotate(Gn),Bn._rotate(Gn),Yn._rotate(Gn),qr=Math.min(An.x,Dn.x,Bn.x,Yn.x),Mn=Math.max(An.x,Dn.x,Bn.x,Yn.x),zr=Math.min(An.y,Dn.y,Bn.y,Yn.y),fn=Math.max(An.y,Dn.y,Bn.y,Yn.y)}I.emplaceBack(V.x,V.y,qr,zr,Mn,fn,q,ct,mt)}this.boxEndIndex=I.length},Jf=function(I,V){if(void 0===I&&(I=[]),void 0===V&&(V=qp),this.data=I,this.length=this.data.length,this.compare=V,this.length>0)for(var q=(this.length>>1)-1;q>=0;q--)this._down(q)};function qp(R,I){return R<I?-1:R>I?1:0}function t0(R,I,V){void 0===I&&(I=1),void 0===V&&(V=!1);for(var q=1/0,ct=1/0,mt=-1/0,At=-1/0,Jt=R[0],ue=0;ue<Jt.length;ue++){var me=Jt[ue];(!ue||me.x<q)&&(q=me.x),(!ue||me.y<ct)&&(ct=me.y),(!ue||me.x>mt)&&(mt=me.x),(!ue||me.y>At)&&(At=me.y)}var er=Math.min(mt-q,At-ct),Je=er/2,mr=new Jf([],e0);if(0===er)return new r(q,ct);for(var zr=q;zr<mt;zr+=er)for(var fn=ct;fn<At;fn+=er)mr.push(new Qf(zr+Je,fn+Je,Je,R));for(var qr=function n0(R){for(var I=0,V=0,q=0,ct=R[0],mt=0,At=ct.length,Jt=At-1;mt<At;Jt=mt++){var ue=ct[mt],me=ct[Jt],Ae=ue.x*me.y-me.x*ue.y;V+=(ue.x+me.x)*Ae,q+=(ue.y+me.y)*Ae,I+=3*Ae}return new Qf(V/I,q/I,0,R)}(R),Mn=mr.length;mr.length;){var mn=mr.pop();(mn.d>qr.d||!qr.d)&&(qr=mn,V&&console.log("found best %d after %d probes",Math.round(1e4*mn.d)/1e4,Mn)),!(mn.max-qr.d<=I)&&(mr.push(new Qf(mn.p.x-(Je=mn.h/2),mn.p.y-Je,Je,R)),mr.push(new Qf(mn.p.x+Je,mn.p.y-Je,Je,R)),mr.push(new Qf(mn.p.x-Je,mn.p.y+Je,Je,R)),mr.push(new Qf(mn.p.x+Je,mn.p.y+Je,Je,R)),Mn+=4)}return V&&(console.log("num probes: "+Mn),console.log("best distance: "+qr.d)),qr.p}function e0(R,I){return I.max-R.max}function Qf(R,I,V,q){this.p=new r(R,I),this.h=V,this.d=function r0(R,I){for(var V=!1,q=1/0,ct=0;ct<I.length;ct++)for(var mt=I[ct],At=0,Jt=mt.length,ue=Jt-1;At<Jt;ue=At++){var me=mt[At],Ae=mt[ue];me.y>R.y!=Ae.y>R.y&&R.x<(Ae.x-me.x)*(R.y-me.y)/(Ae.y-me.y)+me.x&&(V=!V),q=Math.min(q,wu(R,me,Ae))}return(V?1:-1)*Math.sqrt(q)}(this.p,q),this.max=this.d+this.h*Math.SQRT2}Jf.prototype.push=function(I){this.data.push(I),this.length++,this._up(this.length-1)},Jf.prototype.pop=function(){if(0!==this.length){var I=this.data[0],V=this.data.pop();return this.length--,this.length>0&&(this.data[0]=V,this._down(0)),I}},Jf.prototype.peek=function(){return this.data[0]},Jf.prototype._up=function(I){for(var q=this.data,ct=this.compare,mt=q[I];I>0;){var At=I-1>>1,Jt=q[At];if(ct(mt,Jt)>=0)break;q[I]=Jt,I=At}q[I]=mt},Jf.prototype._down=function(I){for(var q=this.data,ct=this.compare,mt=this.length>>1,At=q[I];I<mt;){var Jt=1+(I<<1),ue=q[Jt],me=Jt+1;if(me<this.length&&ct(q[me],ue)<0&&(Jt=me,ue=q[me]),ct(ue,At)>=0)break;q[I]=ue,I=Jt}q[I]=At};var xh=Number.POSITIVE_INFINITY;function yv(R,I){return I[1]!==xh?function q(ct,mt,At){var Jt=0,ue=0;switch(mt=Math.abs(mt),At=Math.abs(At),ct){case"top-right":case"top-left":case"top":ue=At-7;break;case"bottom-right":case"bottom-left":case"bottom":ue=7-At}switch(ct){case"top-right":case"bottom-right":case"right":Jt=-mt;break;case"top-left":case"bottom-left":case"left":Jt=mt}return[Jt,ue]}(R,I[0],I[1]):function V(ct,mt){var At=0,Jt=0;mt<0&&(mt=0);var ue=mt/Math.sqrt(2);switch(ct){case"top-right":case"top-left":Jt=ue-7;break;case"bottom-right":case"bottom-left":Jt=7-ue;break;case"bottom":Jt=7-mt;break;case"top":Jt=mt-7}switch(ct){case"top-right":case"bottom-right":At=-ue;break;case"top-left":case"bottom-left":At=ue;break;case"left":At=mt;break;case"right":At=-mt}return[At,Jt]}(R,I[0])}function bh(R){switch(R){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var tf=32640;function mv(R,I,V,q,ct,mt,At,Jt,ue,me,Ae,He,er,Je,mr){var zr=function _p(R,I,V,q,ct,mt,At,Jt){for(var ue=q.layout.get("text-rotate").evaluate(mt,{})*Math.PI/180,me=[],Ae=0,He=I.positionedLines;Ae<He.length;Ae+=1)for(var er=He[Ae],Je=0,mr=er.positionedGlyphs;Je<mr.length;Je+=1){var zr=mr[Je];if(zr.rect){var fn=zr.rect||{},Mn=4,mn=!0,An=1,Dn=0,Bn=(ct||Jt)&&zr.vertical,Yn=zr.metrics.advance*zr.scale/2;if(Jt&&I.verticalizable&&(Dn=er.lineOffset/2-(zr.imageName?-(24-zr.metrics.width*zr.scale)/2:24*(zr.scale-1))),zr.imageName){var sa=At[zr.imageName];mn=sa.sdf,Mn=1/(An=sa.pixelRatio)}var ha=ct?[zr.x+Yn,zr.y]:[0,0],Ia=ct?[0,0]:[zr.x+Yn+V[0],zr.y+V[1]-Dn],pa=[0,0];Bn&&(pa=Ia,Ia=[0,0]);var ba=(zr.metrics.left-Mn)*zr.scale-Yn+Ia[0],Va=(-zr.metrics.top-Mn)*zr.scale+Ia[1],Da=ba+fn.w*zr.scale/An,$a=Va+fn.h*zr.scale/An,fi=new r(ba,Va),_a=new r(Da,Va),qa=new r(ba,$a),Ja=new r(Da,$a);if(Bn){var gi=new r(-Yn,Yn-bc),bi=-Math.PI/2,zi=12-Yn,to=new r(22-zi,-(zr.imageName?zi:0)),Zi=new(Function.prototype.bind.apply(r,[null].concat(pa)));fi._rotateAround(bi,gi)._add(to)._add(Zi),_a._rotateAround(bi,gi)._add(to)._add(Zi),qa._rotateAround(bi,gi)._add(to)._add(Zi),Ja._rotateAround(bi,gi)._add(to)._add(Zi)}if(ue){var go=Math.sin(ue),yo=Math.cos(ue),eo=[yo,-go,go,yo];fi._matMult(eo),_a._matMult(eo),qa._matMult(eo),Ja._matMult(eo)}var Ro=new r(0,0),Io=new r(0,0);me.push({tl:fi,tr:_a,bl:qa,br:Ja,tex:fn,writingMode:I.writingMode,glyphOffset:ha,sectionIndex:zr.sectionIndex,isSDF:mn,pixelOffsetTL:Ro,pixelOffsetBR:Io,minFontScaleX:0,minFontScaleY:0})}}return me}(0,V,Jt,ct,mt,At,q,R.allowVerticalPlacement),fn=R.textSizeData,qr=null;"source"===fn.kind?(qr=[Il*ct.layout.get("text-size").evaluate(At,{})])[0]>tf&&B(R.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===fn.kind&&((qr=[Il*Je.compositeTextSizes[0].evaluate(At,{},mr),Il*Je.compositeTextSizes[1].evaluate(At,{},mr)])[0]>tf||qr[1]>tf)&&B(R.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),R.addSymbols(R.text,zr,qr,Jt,mt,At,me,I,ue.lineStartIndex,ue.lineLength,er,mr);for(var Mn=0,mn=Ae;Mn<mn.length;Mn+=1)He[mn[Mn]]=R.text.placedSymbolArray.length-1;return 4*zr.length}function xv(R){for(var I in R)return R[I];return null}function s0(R,I,V,q){var ct=R.compareText;if(I in ct){for(var mt=ct[I],At=mt.length-1;At>=0;At--)if(q.dist(mt[At])<V)return!0}else ct[I]=[];return ct[I].push(q),!1}var l0=Wf.VectorTileFeature.types,u0=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Xc(R,I,V,q,ct,mt,At,Jt,ue,me,Ae,He,er){var Je=Jt?Math.min(tf,Math.round(Jt[0])):0,mr=Jt?Math.min(tf,Math.round(Jt[1])):0;R.emplaceBack(I,V,Math.round(32*q),Math.round(32*ct),mt,At,(Je<<1)+(ue?1:0),mr,16*me,16*Ae,256*He,256*er)}function wh(R,I,V){R.emplaceBack(I.x,I.y,V),R.emplaceBack(I.x,I.y,V),R.emplaceBack(I.x,I.y,V),R.emplaceBack(I.x,I.y,V)}function f0(R){for(var I=0,V=R.sections;I<V.length;I+=1)if(cn(V[I].text))return!0;return!1}var _f=function(I){this.layoutVertexArray=new Jl,this.indexArray=new Ll,this.programConfigurations=I,this.segments=new Gi,this.dynamicLayoutVertexArray=new ac,this.opacityVertexArray=new ic,this.placedSymbolArray=new lc};_f.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},_f.prototype.upload=function(I,V,q,ct){this.isEmpty()||(q&&(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,fp.members),this.indexBuffer=I.createIndexBuffer(this.indexArray,V),this.dynamicLayoutVertexBuffer=I.createVertexBuffer(this.dynamicLayoutVertexArray,cp.members,!0),this.opacityVertexBuffer=I.createVertexBuffer(this.opacityVertexArray,u0,!0),this.opacityVertexBuffer.itemSize=1),(q||ct)&&this.programConfigurations.upload(I))},_f.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},la("SymbolBuffers",_f);var Tc=function(I,V,q){this.layoutVertexArray=new I,this.layoutAttributes=V,this.indexArray=new q,this.segments=new Gi,this.collisionVertexArray=new Go};Tc.prototype.upload=function(I){this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=I.createVertexBuffer(this.collisionVertexArray,hp.members,!0)},Tc.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},la("CollisionBuffers",Tc);var ui=function(I){this.collisionBoxArray=I.collisionBoxArray,this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(ue){return ue.id}),this.index=I.index,this.pixelRatio=I.pixelRatio,this.sourceLayerIndex=I.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Nf([]),this.placementViewportMatrix=Nf([]);var q=this.layers[0]._unevaluatedLayout._values;this.textSizeData=mh(this.zoom,q["text-size"]),this.iconSizeData=mh(this.zoom,q["icon-size"]);var ct=this.layers[0].layout,mt=ct.get("symbol-sort-key"),At=ct.get("symbol-z-order");this.canOverlap=ct.get("text-allow-overlap")||ct.get("icon-allow-overlap")||ct.get("text-ignore-placement")||ct.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==At&&void 0!==mt.constantOr(1),this.sortFeaturesByY=("viewport-y"===At||"auto"===At&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===ct.get("symbol-placement")&&(this.writingModes=ct.get("text-writing-mode").map(function(ue){return ms[ue]})),this.stateDependentLayerIds=this.layers.filter(function(ue){return ue.isStateDependent()}).map(function(ue){return ue.id}),this.sourceID=I.sourceID};ui.prototype.createArrays=function(){this.text=new _f(new oa(this.layers,this.zoom,function(I){return/^text/.test(I)})),this.icon=new _f(new oa(this.layers,this.zoom,function(I){return/^icon/.test(I)})),this.glyphOffsetArray=new Cc,this.lineVertexArray=new Ds,this.symbolInstances=new Ec},ui.prototype.calculateGlyphDependencies=function(I,V,q,ct,mt){for(var At=0;At<I.length;At++)if(V[I.charCodeAt(At)]=!0,(q||ct)&&mt){var Jt=yc[I.charAt(At)];Jt&&(V[Jt.charCodeAt(0)]=!0)}},ui.prototype.populate=function(I,V,q){var ct=this.layers[0],mt=ct.layout,At=mt.get("text-font"),Jt=mt.get("text-field"),ue=mt.get("icon-image"),me=("constant"!==Jt.value.kind||Jt.value.value instanceof Ri&&!Jt.value.value.isEmpty()||Jt.value.value.toString().length>0)&&("constant"!==At.value.kind||At.value.value.length>0),Ae="constant"!==ue.value.kind||!!ue.value.value||Object.keys(ue.parameters).length>0,He=mt.get("symbol-sort-key");if(this.features=[],me||Ae){for(var er=V.iconDependencies,Je=V.glyphDependencies,mr=V.availableImages,zr=new fa(this.zoom),fn=0,qr=I;fn<qr.length;fn+=1){var Mn=qr[fn],mn=Mn.feature,An=Mn.id,Dn=Mn.index,Bn=Mn.sourceLayerIndex,Yn=ct._featureFilter.needGeometry,Gn=pi(mn,Yn);if(ct._featureFilter.filter(zr,Gn,q)){Yn||(Gn.geometry=Ka(mn));var da=void 0;if(me){var sa=ct.getValueAndResolveTokens("text-field",Gn,q,mr),ha=Ri.factory(sa);f0(ha)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===aa()||this.hasRTLText&&Ca.isParsed())&&(da=pp(ha,ct,Gn))}var Ia=void 0;if(Ae){var pa=ct.getValueAndResolveTokens("icon-image",Gn,q,mr);Ia=pa instanceof no?pa:no.fromString(pa)}if(da||Ia){var ba=this.sortFeaturesByKey?He.evaluate(Gn,{},q):void 0;if(this.features.push({id:An,text:da,icon:Ia,index:Dn,sourceLayerIndex:Bn,geometry:Gn.geometry,properties:mn.properties,type:l0[mn.type],sortKey:ba}),Ia&&(er[Ia.name]=!0),da){var Da=At.evaluate(Gn,{},q).join(","),$a="map"===mt.get("text-rotation-alignment")&&"point"!==mt.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ms.vertical)>=0;for(var fi=0,_a=da.sections;fi<_a.length;fi+=1){var qa=_a[fi];if(qa.image)er[qa.image.name]=!0;else{var Ja=_t(da.toString()),gi=qa.fontStack||Da,bi=Je[gi]=Je[gi]||{};this.calculateGlyphDependencies(qa.text,bi,$a,this.allowVerticalPlacement,Ja)}}}}}}"line"===mt.get("symbol-placement")&&(this.features=function gp(R){var I={},V={},q=[],ct=0;function mt(qr){q.push(R[qr]),ct++}function At(qr,Mn,mn){var An=V[qr];return delete V[qr],V[Mn]=An,q[An].geometry[0].pop(),q[An].geometry[0]=q[An].geometry[0].concat(mn[0]),An}function Jt(qr,Mn,mn){var An=I[Mn];return delete I[Mn],I[qr]=An,q[An].geometry[0].shift(),q[An].geometry[0]=mn[0].concat(q[An].geometry[0]),An}function ue(qr,Mn,mn){var An=mn?Mn[0][Mn[0].length-1]:Mn[0][0];return qr+":"+An.x+":"+An.y}for(var me=0;me<R.length;me++){var Ae=R[me],He=Ae.geometry,er=Ae.text?Ae.text.toString():null;if(er){var Je=ue(er,He),mr=ue(er,He,!0);if(Je in V&&mr in I&&V[Je]!==I[mr]){var zr=Jt(Je,mr,He),fn=At(Je,mr,q[zr].geometry);delete I[Je],delete V[mr],V[ue(er,q[fn].geometry,!0)]=fn,q[zr].geometry=null}else Je in V?At(Je,mr,He):mr in I?Jt(Je,mr,He):(mt(me),I[Je]=ct-1,V[mr]=ct-1)}else mt(me)}return q.filter(function(qr){return qr.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(zi,Ni){return zi.sortKey-Ni.sortKey})}},ui.prototype.update=function(I,V,q){!this.stateDependentLayers.length||(this.text.programConfigurations.updatePaintArrays(I,V,this.layers,q),this.icon.programConfigurations.updatePaintArrays(I,V,this.layers,q))},ui.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},ui.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},ui.prototype.upload=function(I){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(I),this.iconCollisionBox.upload(I)),this.text.upload(I,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(I,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},ui.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},ui.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},ui.prototype.addToLineVertexArray=function(I,V){var q=this.lineVertexArray.length;if(void 0!==I.segment){for(var ct=I.dist(V[I.segment+1]),mt=I.dist(V[I.segment]),At={},Jt=I.segment+1;Jt<V.length;Jt++)At[Jt]={x:V[Jt].x,y:V[Jt].y,tileUnitDistanceFromAnchor:ct},Jt<V.length-1&&(ct+=V[Jt+1].dist(V[Jt]));for(var ue=I.segment||0;ue>=0;ue--)At[ue]={x:V[ue].x,y:V[ue].y,tileUnitDistanceFromAnchor:mt},ue>0&&(mt+=V[ue-1].dist(V[ue]));for(var me=0;me<V.length;me++){var Ae=At[me];this.lineVertexArray.emplaceBack(Ae.x,Ae.y,Ae.tileUnitDistanceFromAnchor)}}return{lineStartIndex:q,lineLength:this.lineVertexArray.length-q}},ui.prototype.addSymbols=function(I,V,q,ct,mt,At,Jt,ue,me,Ae,He,er){for(var Je=I.indexArray,mr=I.layoutVertexArray,zr=I.segments.prepareSegment(4*V.length,mr,Je,this.canOverlap?At.sortKey:void 0),fn=this.glyphOffsetArray.length,qr=zr.vertexLength,Mn=this.allowVerticalPlacement&&Jt===ms.vertical?Math.PI/2:0,mn=At.text&&At.text.sections,An=0;An<V.length;An++){var Dn=V[An],Bn=Dn.tl,Yn=Dn.tr,Gn=Dn.bl,da=Dn.br,sa=Dn.tex,ha=Dn.pixelOffsetTL,Ia=Dn.pixelOffsetBR,pa=Dn.minFontScaleX,ba=Dn.minFontScaleY,Va=Dn.glyphOffset,Da=Dn.isSDF,$a=Dn.sectionIndex,fi=zr.vertexLength,_a=Va[1];Xc(mr,ue.x,ue.y,Bn.x,_a+Bn.y,sa.x,sa.y,q,Da,ha.x,ha.y,pa,ba),Xc(mr,ue.x,ue.y,Yn.x,_a+Yn.y,sa.x+sa.w,sa.y,q,Da,Ia.x,ha.y,pa,ba),Xc(mr,ue.x,ue.y,Gn.x,_a+Gn.y,sa.x,sa.y+sa.h,q,Da,ha.x,Ia.y,pa,ba),Xc(mr,ue.x,ue.y,da.x,_a+da.y,sa.x+sa.w,sa.y+sa.h,q,Da,Ia.x,Ia.y,pa,ba),wh(I.dynamicLayoutVertexArray,ue,Mn),Je.emplaceBack(fi,fi+1,fi+2),Je.emplaceBack(fi+1,fi+2,fi+3),zr.vertexLength+=4,zr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Va[0]),(An===V.length-1||$a!==V[An+1].sectionIndex)&&I.programConfigurations.populatePaintArrays(mr.length,At,At.index,{},er,mn&&mn[$a])}I.placedSymbolArray.emplaceBack(ue.x,ue.y,fn,this.glyphOffsetArray.length-fn,qr,me,Ae,ue.segment,q?q[0]:0,q?q[1]:0,ct[0],ct[1],Jt,0,!1,0,He)},ui.prototype._addCollisionDebugVertex=function(I,V,q,ct,mt,At){return V.emplaceBack(0,0),I.emplaceBack(q.x,q.y,ct,mt,Math.round(At.x),Math.round(At.y))},ui.prototype.addCollisionDebugVertices=function(I,V,q,ct,mt,At,Jt){var ue=mt.segments.prepareSegment(4,mt.layoutVertexArray,mt.indexArray),me=ue.vertexLength,Ae=mt.layoutVertexArray,He=mt.collisionVertexArray,er=Jt.anchorX,Je=Jt.anchorY;this._addCollisionDebugVertex(Ae,He,At,er,Je,new r(I,V)),this._addCollisionDebugVertex(Ae,He,At,er,Je,new r(q,V)),this._addCollisionDebugVertex(Ae,He,At,er,Je,new r(q,ct)),this._addCollisionDebugVertex(Ae,He,At,er,Je,new r(I,ct)),ue.vertexLength+=4;var mr=mt.indexArray;mr.emplaceBack(me,me+1),mr.emplaceBack(me+1,me+2),mr.emplaceBack(me+2,me+3),mr.emplaceBack(me+3,me),ue.primitiveLength+=4},ui.prototype.addDebugCollisionBoxes=function(I,V,q,ct){for(var mt=I;mt<V;mt++){var At=this.collisionBoxArray.get(mt);this.addCollisionDebugVertices(At.x1,At.y1,At.x2,At.y2,ct?this.textCollisionBox:this.iconCollisionBox,At.anchorPoint,q)}},ui.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Tc(If,jh.members,Sf),this.iconCollisionBox=new Tc(If,jh.members,Sf);for(var I=0;I<this.symbolInstances.length;I++){var V=this.symbolInstances.get(I);this.addDebugCollisionBoxes(V.textBoxStartIndex,V.textBoxEndIndex,V,!0),this.addDebugCollisionBoxes(V.verticalTextBoxStartIndex,V.verticalTextBoxEndIndex,V,!0),this.addDebugCollisionBoxes(V.iconBoxStartIndex,V.iconBoxEndIndex,V,!1),this.addDebugCollisionBoxes(V.verticalIconBoxStartIndex,V.verticalIconBoxEndIndex,V,!1)}},ui.prototype._deserializeCollisionBoxesForSymbol=function(I,V,q,ct,mt,At,Jt,ue,me){for(var Ae={},He=V;He<q;He++){var er=I.get(He);Ae.textBox={x1:er.x1,y1:er.y1,x2:er.x2,y2:er.y2,anchorPointX:er.anchorPointX,anchorPointY:er.anchorPointY},Ae.textFeatureIndex=er.featureIndex;break}for(var Je=ct;Je<mt;Je++){var mr=I.get(Je);Ae.verticalTextBox={x1:mr.x1,y1:mr.y1,x2:mr.x2,y2:mr.y2,anchorPointX:mr.anchorPointX,anchorPointY:mr.anchorPointY},Ae.verticalTextFeatureIndex=mr.featureIndex;break}for(var zr=At;zr<Jt;zr++){var fn=I.get(zr);Ae.iconBox={x1:fn.x1,y1:fn.y1,x2:fn.x2,y2:fn.y2,anchorPointX:fn.anchorPointX,anchorPointY:fn.anchorPointY},Ae.iconFeatureIndex=fn.featureIndex;break}for(var qr=ue;qr<me;qr++){var Mn=I.get(qr);Ae.verticalIconBox={x1:Mn.x1,y1:Mn.y1,x2:Mn.x2,y2:Mn.y2,anchorPointX:Mn.anchorPointX,anchorPointY:Mn.anchorPointY},Ae.verticalIconFeatureIndex=Mn.featureIndex;break}return Ae},ui.prototype.deserializeCollisionBoxes=function(I){this.collisionArrays=[];for(var V=0;V<this.symbolInstances.length;V++){var q=this.symbolInstances.get(V);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(I,q.textBoxStartIndex,q.textBoxEndIndex,q.verticalTextBoxStartIndex,q.verticalTextBoxEndIndex,q.iconBoxStartIndex,q.iconBoxEndIndex,q.verticalIconBoxStartIndex,q.verticalIconBoxEndIndex))}},ui.prototype.hasTextData=function(){return this.text.segments.get().length>0},ui.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ui.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},ui.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},ui.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},ui.prototype.addIndicesForPlacedSymbol=function(I,V){for(var q=I.placedSymbolArray.get(V),ct=q.vertexStartIndex+4*q.numGlyphs,mt=q.vertexStartIndex;mt<ct;mt+=4)I.indexArray.emplaceBack(mt,mt+1,mt+2),I.indexArray.emplaceBack(mt+1,mt+2,mt+3)},ui.prototype.getSortedSymbolIndexes=function(I){if(this.sortedAngle===I&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var V=Math.sin(I),q=Math.cos(I),ct=[],mt=[],At=[],Jt=0;Jt<this.symbolInstances.length;++Jt){At.push(Jt);var ue=this.symbolInstances.get(Jt);ct.push(0|Math.round(V*ue.anchorX+q*ue.anchorY)),mt.push(ue.featureIndex)}return At.sort(function(me,Ae){return ct[me]-ct[Ae]||mt[Ae]-mt[me]}),At},ui.prototype.addToSortKeyRanges=function(I,V){var q=this.sortKeyRanges[this.sortKeyRanges.length-1];q&&q.sortKey===V?q.symbolInstanceEnd=I+1:this.sortKeyRanges.push({sortKey:V,symbolInstanceStart:I,symbolInstanceEnd:I+1})},ui.prototype.sortFeatures=function(I){var V=this;if(this.sortFeaturesByY&&this.sortedAngle!==I&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(I),this.sortedAngle=I,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var q=0,ct=this.symbolInstanceIndexes;q<ct.length;q+=1){var At=this.symbolInstances.get(ct[q]);this.featureSortOrder.push(At.featureIndex),[At.rightJustifiedTextSymbolIndex,At.centerJustifiedTextSymbolIndex,At.leftJustifiedTextSymbolIndex].forEach(function(Jt,ue,me){Jt>=0&&me.indexOf(Jt)===ue&&V.addIndicesForPlacedSymbol(V.text,Jt)}),At.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,At.verticalPlacedTextSymbolIndex),At.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,At.placedIconSymbolIndex),At.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,At.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},la("SymbolBucket",ui,{omit:["layers","collisionBoxArray","features","compareText"]}),ui.MAX_GLYPHS=65535,ui.addDynamicAttributes=wh;var h0=new oi({"symbol-placement":new Jn(Tr.layout_symbol["symbol-placement"]),"symbol-spacing":new Jn(Tr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Jn(Tr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ya(Tr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Jn(Tr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Jn(Tr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Jn(Tr.layout_symbol["icon-ignore-placement"]),"icon-optional":new Jn(Tr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Jn(Tr.layout_symbol["icon-rotation-alignment"]),"icon-size":new ya(Tr.layout_symbol["icon-size"]),"icon-text-fit":new Jn(Tr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Jn(Tr.layout_symbol["icon-text-fit-padding"]),"icon-image":new ya(Tr.layout_symbol["icon-image"]),"icon-rotate":new ya(Tr.layout_symbol["icon-rotate"]),"icon-padding":new Jn(Tr.layout_symbol["icon-padding"]),"icon-keep-upright":new Jn(Tr.layout_symbol["icon-keep-upright"]),"icon-offset":new ya(Tr.layout_symbol["icon-offset"]),"icon-anchor":new ya(Tr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Jn(Tr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Jn(Tr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Jn(Tr.layout_symbol["text-rotation-alignment"]),"text-field":new ya(Tr.layout_symbol["text-field"]),"text-font":new ya(Tr.layout_symbol["text-font"]),"text-size":new ya(Tr.layout_symbol["text-size"]),"text-max-width":new ya(Tr.layout_symbol["text-max-width"]),"text-line-height":new Jn(Tr.layout_symbol["text-line-height"]),"text-letter-spacing":new ya(Tr.layout_symbol["text-letter-spacing"]),"text-justify":new ya(Tr.layout_symbol["text-justify"]),"text-radial-offset":new ya(Tr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Jn(Tr.layout_symbol["text-variable-anchor"]),"text-anchor":new ya(Tr.layout_symbol["text-anchor"]),"text-max-angle":new Jn(Tr.layout_symbol["text-max-angle"]),"text-writing-mode":new Jn(Tr.layout_symbol["text-writing-mode"]),"text-rotate":new ya(Tr.layout_symbol["text-rotate"]),"text-padding":new Jn(Tr.layout_symbol["text-padding"]),"text-keep-upright":new Jn(Tr.layout_symbol["text-keep-upright"]),"text-transform":new ya(Tr.layout_symbol["text-transform"]),"text-offset":new ya(Tr.layout_symbol["text-offset"]),"text-allow-overlap":new Jn(Tr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Jn(Tr.layout_symbol["text-ignore-placement"]),"text-optional":new Jn(Tr.layout_symbol["text-optional"])}),Th={paint:new oi({"icon-opacity":new ya(Tr.paint_symbol["icon-opacity"]),"icon-color":new ya(Tr.paint_symbol["icon-color"]),"icon-halo-color":new ya(Tr.paint_symbol["icon-halo-color"]),"icon-halo-width":new ya(Tr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ya(Tr.paint_symbol["icon-halo-blur"]),"icon-translate":new Jn(Tr.paint_symbol["icon-translate"]),"icon-translate-anchor":new Jn(Tr.paint_symbol["icon-translate-anchor"]),"text-opacity":new ya(Tr.paint_symbol["text-opacity"]),"text-color":new ya(Tr.paint_symbol["text-color"],{runtimeType:vr,getOverride:function(R){return R.textColor},hasOverride:function(R){return!!R.textColor}}),"text-halo-color":new ya(Tr.paint_symbol["text-halo-color"]),"text-halo-width":new ya(Tr.paint_symbol["text-halo-width"]),"text-halo-blur":new ya(Tr.paint_symbol["text-halo-blur"]),"text-translate":new Jn(Tr.paint_symbol["text-translate"]),"text-translate-anchor":new Jn(Tr.paint_symbol["text-translate-anchor"])}),layout:h0},qf=function(I){this.type=I.property.overrides?I.property.overrides.runtimeType:je,this.defaultValue=I};qf.prototype.evaluate=function(I){if(I.formattedSection){var V=this.defaultValue.property.overrides;if(V&&V.hasOverride(I.formattedSection))return V.getOverride(I.formattedSection)}return I.feature&&I.featureState?this.defaultValue.evaluate(I.feature,I.featureState):this.defaultValue.property.specification.default},qf.prototype.eachChild=function(I){this.defaultValue.isConstant()||I(this.defaultValue.value._styleExpression.expression)},qf.prototype.outputDefined=function(){return!1},qf.prototype.serialize=function(){return null},la("FormatSectionOverride",qf,{omit:["defaultValue"]});var d0=function(R){function I(V){R.call(this,V,Th)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.recalculate=function(q,ct){if(R.prototype.recalculate.call(this,q,ct),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var mt=this.layout.get("text-writing-mode");if(mt){for(var At=[],Jt=0,ue=mt;Jt<ue.length;Jt+=1){var me=ue[Jt];At.indexOf(me)<0&&At.push(me)}this.layout._values["text-writing-mode"]=At}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},I.prototype.getValueAndResolveTokens=function(q,ct,mt,At){var Jt=this.layout.get(q).evaluate(ct,{},mt,At),ue=this._unevaluatedLayout._values[q];return ue.isDataDriven()||Es(ue.value)||!Jt?Jt:function c0(R,I){return I.replace(/{([^{}]+)}/g,function(V,q){return q in R?String(R[q]):""})}(ct.properties,Jt)},I.prototype.createBucket=function(q){return new ui(q)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype._setPaintOverrides=function(){for(var q=0,ct=Th.paint.overridableProperties;q<ct.length;q+=1){var mt=ct[q];if(I.hasPaintOverride(this.layout,mt)){var me,At=this.paint.get(mt),Jt=new qf(At),ue=new Ks(Jt,At.property.specification);me="constant"===At.value.kind||"source"===At.value.kind?new Ao("source",ue):new Mo("composite",ue,At.value.zoomStops,At.value._interpolationType),this.paint._values[mt]=new Na(At.property,me,At.parameters)}}},I.prototype._handleOverridablePaintPropertyUpdate=function(q,ct,mt){return!(!this.layout||ct.isDataDriven()||mt.isDataDriven())&&I.hasPaintOverride(this.layout,q)},I.hasPaintOverride=function(q,ct){var mt=q.get("text-field"),At=Th.paint.properties[ct],Jt=!1,ue=function(He){for(var er=0,Je=He;er<Je.length;er+=1)if(At.overrides&&At.overrides.hasOverride(Je[er]))return void(Jt=!0)};if("constant"===mt.value.kind&&mt.value.value instanceof Ri)ue(mt.value.value.sections);else if("source"===mt.value.kind){var me=function(He){Jt||(He instanceof mo&&Ii(He.value)===na?ue(He.value.sections):He instanceof ko?ue(He.sections):He.eachChild(me))},Ae=mt.value;Ae._styleExpression&&me(Ae._styleExpression.expression)}return Jt},I}(Mi),g0={paint:new oi({"background-color":new Jn(Tr.paint_background["background-color"]),"background-pattern":new hi(Tr.paint_background["background-pattern"]),"background-opacity":new Jn(Tr.paint_background["background-opacity"])})},y0=function(R){function I(V){R.call(this,V,g0)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I}(Mi),x0={paint:new oi({"raster-opacity":new Jn(Tr.paint_raster["raster-opacity"]),"raster-hue-rotate":new Jn(Tr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Jn(Tr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Jn(Tr.paint_raster["raster-brightness-max"]),"raster-saturation":new Jn(Tr.paint_raster["raster-saturation"]),"raster-contrast":new Jn(Tr.paint_raster["raster-contrast"]),"raster-resampling":new Jn(Tr.paint_raster["raster-resampling"]),"raster-fade-duration":new Jn(Tr.paint_raster["raster-fade-duration"])})},b0=function(R){function I(V){R.call(this,V,x0)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I}(Mi);var T0=function(R){function I(V){R.call(this,V,{}),this.implementation=V}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},I.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},I.prototype.recalculate=function(){},I.prototype.updateTransitions=function(){},I.prototype.hasTransition=function(){},I.prototype.serialize=function(){},I.prototype.onAdd=function(q){this.implementation.onAdd&&this.implementation.onAdd(q,q.painter.context.gl)},I.prototype.onRemove=function(q){this.implementation.onRemove&&this.implementation.onRemove(q,q.painter.context.gl)},I}(Mi),A0={circle:Zv,heatmap:Qv,hillshade:qv,fill:Sd,"fill-extrusion":Zd,line:lp,symbol:d0,background:y0,raster:b0};var bv=s.HTMLImageElement,wv=s.HTMLCanvasElement,Tv=s.HTMLVideoElement,Av=s.ImageData,Zc=s.ImageBitmap,Pf=function(I,V,q,ct){this.context=I,this.format=q,this.texture=I.gl.createTexture(),this.update(V,ct)};Pf.prototype.update=function(I,V,q){var ct=I.width,mt=I.height,At=!(this.size&&this.size[0]===ct&&this.size[1]===mt||q),ue=this.context,me=ue.gl;if(this.useMipmap=Boolean(V&&V.useMipmap),me.bindTexture(me.TEXTURE_2D,this.texture),ue.pixelStoreUnpackFlipY.set(!1),ue.pixelStoreUnpack.set(1),ue.pixelStoreUnpackPremultiplyAlpha.set(this.format===me.RGBA&&(!V||!1!==V.premultiply)),At)this.size=[ct,mt],I instanceof bv||I instanceof wv||I instanceof Tv||I instanceof Av||Zc&&I instanceof Zc?me.texImage2D(me.TEXTURE_2D,0,this.format,this.format,me.UNSIGNED_BYTE,I):me.texImage2D(me.TEXTURE_2D,0,this.format,ct,mt,0,this.format,me.UNSIGNED_BYTE,I.data);else{var Ae=q||{x:0,y:0},He=Ae.x,er=Ae.y;I instanceof bv||I instanceof wv||I instanceof Tv||I instanceof Av||Zc&&I instanceof Zc?me.texSubImage2D(me.TEXTURE_2D,0,He,er,me.RGBA,me.UNSIGNED_BYTE,I):me.texSubImage2D(me.TEXTURE_2D,0,He,er,ct,mt,me.RGBA,me.UNSIGNED_BYTE,I.data)}this.useMipmap&&this.isSizePowerOfTwo()&&me.generateMipmap(me.TEXTURE_2D)},Pf.prototype.bind=function(I,V,q){var At=this.context.gl;At.bindTexture(At.TEXTURE_2D,this.texture),q===At.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(q=At.LINEAR),I!==this.filter&&(At.texParameteri(At.TEXTURE_2D,At.TEXTURE_MAG_FILTER,I),At.texParameteri(At.TEXTURE_2D,At.TEXTURE_MIN_FILTER,q||I),this.filter=I),V!==this.wrap&&(At.texParameteri(At.TEXTURE_2D,At.TEXTURE_WRAP_S,V),At.texParameteri(At.TEXTURE_2D,At.TEXTURE_WRAP_T,V),this.wrap=V)},Pf.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Pf.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Ah=function(I){var V=this;this._callback=I,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){V._triggered=!1,V._callback()})};Ah.prototype.trigger=function(){var I=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){I._triggered=!1,I._callback()},0))},Ah.prototype.remove=function(){delete this._channel,this._callback=function(){}};var tc=function(I,V,q){this.target=I,this.parent=V,this.mapId=q,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},C(["receive","process"],this),this.invoker=new Ah(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=J()?I:s};function Mv(R,I,V){var q=2*Math.PI*6378137/256/Math.pow(2,V);return[R*q-2*Math.PI*6378137/2,I*q-2*Math.PI*6378137/2]}tc.prototype.send=function(I,V,q,ct,mt){var At=this;void 0===mt&&(mt=!1);var Jt=Math.round(1e18*Math.random()).toString(36).substring(0,10);q&&(this.callbacks[Jt]=q);var ue=lt(this.globalScope)?void 0:[];return this.target.postMessage({id:Jt,type:I,hasCallback:!!q,targetMapId:ct,mustQueue:mt,sourceMapId:this.mapId,data:ot(V,ue)},ue),{cancel:function(){q&&delete At.callbacks[Jt],At.target.postMessage({id:Jt,type:"<cancel>",targetMapId:ct,sourceMapId:At.mapId})}}},tc.prototype.receive=function(I){var V=I.data,q=V.id;if(q&&(!V.targetMapId||this.mapId===V.targetMapId))if("<cancel>"===V.type){delete this.tasks[q];var ct=this.cancelCallbacks[q];delete this.cancelCallbacks[q],ct&&ct()}else J()||V.mustQueue?(this.tasks[q]=V,this.taskQueue.push(q),this.invoker.trigger()):this.processTask(q,V)},tc.prototype.process=function(){if(this.taskQueue.length){var I=this.taskQueue.shift(),V=this.tasks[I];delete this.tasks[I],this.taskQueue.length&&this.invoker.trigger(),V&&this.processTask(I,V)}},tc.prototype.processTask=function(I,V){var q=this;if("<response>"===V.type){var ct=this.callbacks[I];delete this.callbacks[I],ct&&(V.error?ct(bt(V.error)):ct(null,bt(V.data)))}else{var mt=!1,At=lt(this.globalScope)?void 0:[],Jt=V.hasCallback?function(er,Je){mt=!0,delete q.cancelCallbacks[I],q.target.postMessage({id:I,type:"<response>",sourceMapId:q.mapId,error:er?ot(er):null,data:ot(Je,At)},At)}:function(er){mt=!0},ue=null,me=bt(V.data);if(this.parent[V.type])ue=this.parent[V.type](V.sourceMapId,me,Jt);else if(this.parent.getWorkerSource){var Ae=V.type.split(".");ue=this.parent.getWorkerSource(V.sourceMapId,Ae[0],me.source)[Ae[1]](me,Jt)}else Jt(new Error("Could not find function "+V.type));!mt&&ue&&ue.cancel&&(this.cancelCallbacks[I]=ue.cancel)}},tc.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Yi=function(I,V){I&&(V?this.setSouthWest(I).setNorthEast(V):4===I.length?this.setSouthWest([I[0],I[1]]).setNorthEast([I[2],I[3]]):this.setSouthWest(I[0]).setNorthEast(I[1]))};Yi.prototype.setNorthEast=function(I){return this._ne=I instanceof Ei?new Ei(I.lng,I.lat):Ei.convert(I),this},Yi.prototype.setSouthWest=function(I){return this._sw=I instanceof Ei?new Ei(I.lng,I.lat):Ei.convert(I),this},Yi.prototype.extend=function(I){var ct,mt,V=this._sw,q=this._ne;if(I instanceof Ei)ct=I,mt=I;else{if(!(I instanceof Yi))return Array.isArray(I)?4===I.length||I.every(Array.isArray)?this.extend(Yi.convert(I)):this.extend(Ei.convert(I)):this;if(mt=I._ne,!(ct=I._sw)||!mt)return this}return V||q?(V.lng=Math.min(ct.lng,V.lng),V.lat=Math.min(ct.lat,V.lat),q.lng=Math.max(mt.lng,q.lng),q.lat=Math.max(mt.lat,q.lat)):(this._sw=new Ei(ct.lng,ct.lat),this._ne=new Ei(mt.lng,mt.lat)),this},Yi.prototype.getCenter=function(){return new Ei((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Yi.prototype.getSouthWest=function(){return this._sw},Yi.prototype.getNorthEast=function(){return this._ne},Yi.prototype.getNorthWest=function(){return new Ei(this.getWest(),this.getNorth())},Yi.prototype.getSouthEast=function(){return new Ei(this.getEast(),this.getSouth())},Yi.prototype.getWest=function(){return this._sw.lng},Yi.prototype.getSouth=function(){return this._sw.lat},Yi.prototype.getEast=function(){return this._ne.lng},Yi.prototype.getNorth=function(){return this._ne.lat},Yi.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Yi.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Yi.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Yi.prototype.contains=function(I){var V=Ei.convert(I),q=V.lng,ct=V.lat,At=this._sw.lng<=q&&q<=this._ne.lng;return this._sw.lng>this._ne.lng&&(At=this._sw.lng>=q&&q>=this._ne.lng),this._sw.lat<=ct&&ct<=this._ne.lat&&At},Yi.convert=function(I){return!I||I instanceof Yi?I:new Yi(I)};var Sv=6371008.8,Ei=function(I,V){if(isNaN(I)||isNaN(V))throw new Error("Invalid LngLat object: ("+I+", "+V+")");if(this.lng=+I,this.lat=+V,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ei.prototype.wrap=function(){return new Ei(w(this.lng,-180,180),this.lat)},Ei.prototype.toArray=function(){return[this.lng,this.lat]},Ei.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ei.prototype.distanceTo=function(I){var V=Math.PI/180,q=this.lat*V,ct=I.lat*V,mt=Math.sin(q)*Math.sin(ct)+Math.cos(q)*Math.cos(ct)*Math.cos((I.lng-this.lng)*V);return Sv*Math.acos(Math.min(mt,1))},Ei.prototype.toBounds=function(I){void 0===I&&(I=0);var q=360*I/40075017,ct=q/Math.cos(Math.PI/180*this.lat);return new Yi(new Ei(this.lng-ct,this.lat-q),new Ei(this.lng+ct,this.lat+q))},Ei.convert=function(I){if(I instanceof Ei)return I;if(Array.isArray(I)&&(2===I.length||3===I.length))return new Ei(Number(I[0]),Number(I[1]));if(!Array.isArray(I)&&"object"==typeof I&&null!==I)return new Ei(Number("lng"in I?I.lng:I.lon),Number(I.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Ev=2*Math.PI*Sv;function Cv(R){return Ev*Math.cos(R*Math.PI/180)}function Lv(R){return(180+R)/360}function Pv(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Dv(R,I){return R/Cv(I)}function Mh(R){return 360/Math.PI*Math.atan(Math.exp((180-360*R)*Math.PI/180))-90}var Df=function(I,V,q){void 0===q&&(q=0),this.x=+I,this.y=+V,this.z=+q};Df.fromLngLat=function(I,V){void 0===V&&(V=0);var q=Ei.convert(I);return new Df(Lv(q.lng),Pv(q.lat),Dv(V,q.lat))},Df.prototype.toLngLat=function(){return new Ei(function E0(R){return 360*R-180}(this.x),Mh(this.y))},Df.prototype.toAltitude=function(){return function C0(R,I){return R*Cv(Mh(I))}(this.z,this.y)},Df.prototype.meterInMercatorCoordinateUnits=function(){return 1/Ev*function L0(R){return 1/Math.cos(R*Math.PI/180)}(Mh(this.y))};var Rf=function(I,V,q){this.z=I,this.x=V,this.y=q,this.key=Ac(0,I,I,V,q)};Rf.prototype.equals=function(I){return this.z===I.z&&this.x===I.x&&this.y===I.y},Rf.prototype.url=function(I,V){var q=function S0(R,I,V){var q=Mv(256*R,256*(I=Math.pow(2,V)-I-1),V),ct=Mv(256*(R+1),256*(I+1),V);return q[0]+","+q[1]+","+ct[0]+","+ct[1]}(this.x,this.y,this.z),ct=function P0(R,I,V){for(var ct,q="",mt=R;mt>0;mt--)q+=(I&(ct=1<<mt-1)?1:0)+(V&ct?2:0);return q}(this.z,this.x,this.y);return I[(this.x+this.y)%I.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===V?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ct).replace("{bbox-epsg-3857}",q)},Rf.prototype.getTilePoint=function(I){var V=Math.pow(2,this.z);return new r((I.x*V-this.x)*ma,(I.y*V-this.y)*ma)},Rf.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Rv=function(I,V){this.wrap=I,this.canonical=V,this.key=Ac(I,V.z,V.z,V.x,V.y)},Xi=function(I,V,q,ct,mt){this.overscaledZ=I,this.wrap=V,this.canonical=new Rf(q,+ct,+mt),this.key=Ac(V,I,q,ct,mt)};function Ac(R,I,V,q,ct){(R*=2)<0&&(R=-1*R-1);var mt=1<<V;return(mt*mt*R+mt*ct+q).toString(36)+V.toString(36)+I.toString(36)}Xi.prototype.equals=function(I){return this.overscaledZ===I.overscaledZ&&this.wrap===I.wrap&&this.canonical.equals(I.canonical)},Xi.prototype.scaledTo=function(I){var V=this.canonical.z-I;return I>this.canonical.z?new Xi(I,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Xi(I,this.wrap,I,this.canonical.x>>V,this.canonical.y>>V)},Xi.prototype.calculateScaledKey=function(I,V){var q=this.canonical.z-I;return I>this.canonical.z?Ac(this.wrap*+V,I,this.canonical.z,this.canonical.x,this.canonical.y):Ac(this.wrap*+V,I,I,this.canonical.x>>q,this.canonical.y>>q)},Xi.prototype.isChildOf=function(I){if(I.wrap!==this.wrap)return!1;var V=this.canonical.z-I.canonical.z;return 0===I.overscaledZ||I.overscaledZ<this.overscaledZ&&I.canonical.x===this.canonical.x>>V&&I.canonical.y===this.canonical.y>>V},Xi.prototype.children=function(I){if(this.overscaledZ>=I)return[new Xi(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var V=this.canonical.z+1,q=2*this.canonical.x,ct=2*this.canonical.y;return[new Xi(V,this.wrap,V,q,ct),new Xi(V,this.wrap,V,q+1,ct),new Xi(V,this.wrap,V,q,ct+1),new Xi(V,this.wrap,V,q+1,ct+1)]},Xi.prototype.isLessThan=function(I){return this.wrap<I.wrap||!(this.wrap>I.wrap)&&(this.overscaledZ<I.overscaledZ||!(this.overscaledZ>I.overscaledZ)&&(this.canonical.x<I.canonical.x||!(this.canonical.x>I.canonical.x)&&this.canonical.y<I.canonical.y))},Xi.prototype.wrapped=function(){return new Xi(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Xi.prototype.unwrapTo=function(I){return new Xi(this.overscaledZ,I,this.canonical.z,this.canonical.x,this.canonical.y)},Xi.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Xi.prototype.toUnwrapped=function(){return new Rv(this.wrap,this.canonical)},Xi.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Xi.prototype.getTilePoint=function(I){return this.canonical.getTilePoint(new Df(I.x-this.wrap,I.y))},la("CanonicalTileID",Rf),la("OverscaledTileID",Xi,{omit:["posMatrix"]});var Au=function(I,V,q){if(this.uid=I,V.height!==V.width)throw new RangeError("DEM tiles must be square");if(q&&"mapbox"!==q&&"terrarium"!==q)return B('"'+q+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=V.height;var ct=this.dim=V.height-2;this.data=new Uint32Array(V.data.buffer),this.encoding=q||"mapbox";for(var mt=0;mt<ct;mt++)this.data[this._idx(-1,mt)]=this.data[this._idx(0,mt)],this.data[this._idx(ct,mt)]=this.data[this._idx(ct-1,mt)],this.data[this._idx(mt,-1)]=this.data[this._idx(mt,0)],this.data[this._idx(mt,ct)]=this.data[this._idx(mt,ct-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ct,-1)]=this.data[this._idx(ct-1,0)],this.data[this._idx(-1,ct)]=this.data[this._idx(0,ct-1)],this.data[this._idx(ct,ct)]=this.data[this._idx(ct-1,ct-1)]};Au.prototype.get=function(I,V){var q=new Uint8Array(this.data.buffer),ct=4*this._idx(I,V);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(q[ct],q[ct+1],q[ct+2])},Au.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Au.prototype._idx=function(I,V){if(I<-1||I>=this.dim+1||V<-1||V>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(V+1)*this.stride+(I+1)},Au.prototype._unpackMapbox=function(I,V,q){return(256*I*256+256*V+q)/10-1e4},Au.prototype._unpackTerrarium=function(I,V,q){return 256*I+V+q/256-32768},Au.prototype.getPixels=function(){return new Zo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Au.prototype.backfillBorder=function(I,V,q){if(this.dim!==I.dim)throw new Error("dem dimension mismatch");var ct=V*this.dim,mt=V*this.dim+this.dim,At=q*this.dim,Jt=q*this.dim+this.dim;switch(V){case-1:ct=mt-1;break;case 1:mt=ct+1}switch(q){case-1:At=Jt-1;break;case 1:Jt=At+1}for(var ue=-V*this.dim,me=-q*this.dim,Ae=At;Ae<Jt;Ae++)for(var He=ct;He<mt;He++)this.data[this._idx(He,Ae)]=I.data[this._idx(He+ue,Ae+me)]},la("DEMData",Au);var jc=function(I){this._stringToNumber={},this._numberToString=[];for(var V=0;V<I.length;V++){var q=I[V];this._stringToNumber[q]=V,this._numberToString[V]=q}};jc.prototype.encode=function(I){return this._stringToNumber[I]},jc.prototype.decode=function(I){return this._numberToString[I]};var Kc=function(I,V,q,ct,mt){this.type="Feature",this._vectorTileFeature=I,I._z=V,I._x=q,I._y=ct,this.properties=I.properties,this.id=mt},Sh={geometry:{configurable:!0}};Sh.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Sh.geometry.set=function(R){this._geometry=R},Kc.prototype.toJSON=function(){var I={geometry:this.geometry};for(var V in this)"_geometry"===V||"_vectorTileFeature"===V||(I[V]=this[V]);return I},Object.defineProperties(Kc.prototype,Sh);var ec=function(){this.state={},this.stateChanges={},this.deletedStates={}};ec.prototype.updateState=function(I,V,q){var ct=String(V);if(this.stateChanges[I]=this.stateChanges[I]||{},this.stateChanges[I][ct]=this.stateChanges[I][ct]||{},M(this.stateChanges[I][ct],q),null===this.deletedStates[I])for(var mt in this.deletedStates[I]={},this.state[I])mt!==ct&&(this.deletedStates[I][mt]=null);else if(this.deletedStates[I]&&null===this.deletedStates[I][ct])for(var Jt in this.deletedStates[I][ct]={},this.state[I][ct])q[Jt]||(this.deletedStates[I][ct][Jt]=null);else for(var ue in q)this.deletedStates[I]&&this.deletedStates[I][ct]&&null===this.deletedStates[I][ct][ue]&&delete this.deletedStates[I][ct][ue]},ec.prototype.removeFeatureState=function(I,V,q){if(null!==this.deletedStates[I]){var mt=String(V);if(this.deletedStates[I]=this.deletedStates[I]||{},q&&void 0!==V)null!==this.deletedStates[I][mt]&&(this.deletedStates[I][mt]=this.deletedStates[I][mt]||{},this.deletedStates[I][mt][q]=null);else if(void 0!==V)if(this.stateChanges[I]&&this.stateChanges[I][mt])for(q in this.deletedStates[I][mt]={},this.stateChanges[I][mt])this.deletedStates[I][mt][q]=null;else this.deletedStates[I][mt]=null;else this.deletedStates[I]=null}},ec.prototype.getState=function(I,V){var q=String(V),At=M({},(this.state[I]||{})[q],(this.stateChanges[I]||{})[q]);if(null===this.deletedStates[I])return{};if(this.deletedStates[I]){var Jt=this.deletedStates[I][V];if(null===Jt)return{};for(var ue in Jt)delete At[ue]}return At},ec.prototype.initializeTileState=function(I,V){I.setFeatureState(this.state,V)},ec.prototype.coalesceChanges=function(I,V){var q={};for(var ct in this.stateChanges){this.state[ct]=this.state[ct]||{};var mt={};for(var At in this.stateChanges[ct])this.state[ct][At]||(this.state[ct][At]={}),M(this.state[ct][At],this.stateChanges[ct][At]),mt[At]=this.state[ct][At];q[ct]=mt}for(var Jt in this.deletedStates){this.state[Jt]=this.state[Jt]||{};var ue={};if(null===this.deletedStates[Jt])for(var me in this.state[Jt])ue[me]={},this.state[Jt][me]={};else for(var Ae in this.deletedStates[Jt]){if(null===this.deletedStates[Jt][Ae])this.state[Jt][Ae]={};else for(var er=0,Je=Object.keys(this.deletedStates[Jt][Ae]);er<Je.length;er+=1)delete this.state[Jt][Ae][Je[er]];ue[Ae]=this.state[Jt][Ae]}q[Jt]=q[Jt]||{},M(q[Jt],ue)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(q).length)for(var zr in I)I[zr].setFeatureState(q,V)};var Mu=function(I,V){this.tileID=I,this.x=I.canonical.x,this.y=I.canonical.y,this.z=I.canonical.z,this.grid=new Aa(ma,16,0),this.grid3D=new Aa(ma,16,0),this.featureIndexArray=new Pc,this.promoteId=V};function Iv(R,I,V,q,ct){return F(R,function(mt,At){var Jt=I instanceof ci?I.get(At):null;return Jt&&Jt.evaluate?Jt.evaluate(V,q,ct):Jt})}function Fv(R){for(var I=1/0,V=1/0,q=-1/0,ct=-1/0,mt=0,At=R;mt<At.length;mt+=1){var Jt=At[mt];I=Math.min(I,Jt.x),V=Math.min(V,Jt.y),q=Math.max(q,Jt.x),ct=Math.max(ct,Jt.y)}return{minX:I,minY:V,maxX:q,maxY:ct}}function R0(R,I){return I-R}Mu.prototype.insert=function(I,V,q,ct,mt,At){var Jt=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(q,ct,mt);for(var ue=At?this.grid3D:this.grid,me=0;me<V.length;me++){for(var Ae=V[me],He=[1/0,1/0,-1/0,-1/0],er=0;er<Ae.length;er++){var Je=Ae[er];He[0]=Math.min(He[0],Je.x),He[1]=Math.min(He[1],Je.y),He[2]=Math.max(He[2],Je.x),He[3]=Math.max(He[3],Je.y)}He[0]<ma&&He[1]<ma&&He[2]>=0&&He[3]>=0&&ue.insert(Jt,He[0],He[1],He[2],He[3])}},Mu.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Wf.VectorTile(new Bc(this.rawTileData)).layers,this.sourceLayerCoder=new jc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Mu.prototype.query=function(I,V,q,ct){var mt=this;this.loadVTLayers();for(var At=I.params||{},Jt=ma/I.tileSize/I.scale,ue=$s(At.filter),me=I.queryGeometry,Ae=I.queryPadding*Jt,He=Fv(me),er=this.grid.query(He.minX-Ae,He.minY-Ae,He.maxX+Ae,He.maxY+Ae),Je=Fv(I.cameraQueryGeometry),zr=0,fn=this.grid3D.query(Je.minX-Ae,Je.minY-Ae,Je.maxX+Ae,Je.maxY+Ae,function(Bn,Yn,Gn,da){return function rl(R,I,V,q,ct){for(var mt=0,At=R;mt<At.length;mt+=1){var Jt=At[mt];if(I<=Jt.x&&V<=Jt.y&&q>=Jt.x&&ct>=Jt.y)return!0}var ue=[new r(I,V),new r(I,ct),new r(q,ct),new r(q,V)];if(R.length>2)for(var me=0,Ae=ue;me<Ae.length;me+=1)if(Lo(R,Ae[me]))return!0;for(var er=0;er<R.length-1;er++)if(Wo(R[er],R[er+1],ue))return!0;return!1}(I.cameraQueryGeometry,Bn-Ae,Yn-Ae,Gn+Ae,da+Ae)});zr<fn.length;zr+=1)er.push(fn[zr]);er.sort(R0);for(var mn,Mn={},An=function(Bn){var Yn=er[Bn];if(Yn!==mn){mn=Yn;var Gn=mt.featureIndexArray.get(Yn),da=null;mt.loadMatchingFeature(Mn,Gn.bucketIndex,Gn.sourceLayerIndex,Gn.featureIndex,ue,At.layers,At.availableImages,V,q,ct,function(sa,ha,Ia){return da||(da=Ka(sa)),ha.queryIntersectsFeature(me,sa,Ia,da,mt.z,I.transform,Jt,I.pixelPosMatrix)})}},Dn=0;Dn<er.length;Dn++)An(Dn);return Mn},Mu.prototype.loadMatchingFeature=function(I,V,q,ct,mt,At,Jt,ue,me,Ae,He){var er=this.bucketLayerIDs[V];if(!At||function k(R,I){for(var V=0;V<R.length;V++)if(I.indexOf(R[V])>=0)return!0;return!1}(At,er)){var Je=this.sourceLayerCoder.decode(q),zr=this.vtLayers[Je].feature(ct);if(mt.needGeometry){var fn=pi(zr,!0);if(!mt.filter(new fa(this.tileID.overscaledZ),fn,this.tileID.canonical))return}else if(!mt.filter(new fa(this.tileID.overscaledZ),zr))return;for(var qr=this.getId(zr,Je),Mn=0;Mn<er.length;Mn++){var mn=er[Mn];if(!(At&&At.indexOf(mn)<0)){var An=ue[mn];if(An){var Dn={};void 0!==qr&&Ae&&(Dn=Ae.getState(An.sourceLayer||"_geojsonTileLayer",qr));var Bn=M({},me[mn]);Bn.paint=Iv(Bn.paint,An.paint,zr,Dn,Jt),Bn.layout=Iv(Bn.layout,An.layout,zr,Dn,Jt);var Yn=!He||He(zr,An,Dn);if(Yn){var Gn=new Kc(zr,this.z,this.x,this.y,qr);Gn.layer=Bn;var da=I[mn];void 0===da&&(da=I[mn]=[]),da.push({featureIndex:ct,feature:Gn,intersectionZ:Yn})}}}}}},Mu.prototype.lookupSymbolFeatures=function(I,V,q,ct,mt,At,Jt,ue){var me={};this.loadVTLayers();for(var Ae=$s(mt),He=0,er=I;He<er.length;He+=1)this.loadMatchingFeature(me,q,ct,er[He],Ae,At,Jt,ue,V);return me},Mu.prototype.hasLayer=function(I){for(var V=0,q=this.bucketLayerIDs;V<q.length;V+=1)for(var mt=0,At=q[V];mt<At.length;mt+=1)if(I===At[mt])return!0;return!1},Mu.prototype.getId=function(I,V){var q=I.id;return this.promoteId&&"boolean"==typeof(q=I.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[V]])&&(q=Number(q)),q},la("FeatureIndex",Mu,{omit:["rawTileData","sourceLayerCoder"]});var qi=function(I,V){this.tileID=I,this.uid=x(),this.uses=0,this.tileSize=V,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};qi.prototype.registerFadeDuration=function(I){var V=I+this.timeAdded;V<nt.now()||this.fadeEndTime&&V<this.fadeEndTime||(this.fadeEndTime=V)},qi.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},qi.prototype.loadVectorData=function(I,V,q){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",I){for(var ct in I.featureIndex&&(this.latestFeatureIndex=I.featureIndex,I.rawTileData?(this.latestRawTileData=I.rawTileData,this.latestFeatureIndex.rawTileData=I.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=I.collisionBoxArray,this.buckets=function D0(R,I){var V={};if(!I)return V;for(var q=function(){var At=mt[ct],Jt=At.layerIds.map(function(He){return I.getLayer(He)}).filter(Boolean);if(0!==Jt.length){At.layers=Jt,At.stateDependentLayerIds&&(At.stateDependentLayers=At.stateDependentLayerIds.map(function(He){return Jt.filter(function(er){return er.id===He})[0]}));for(var ue=0,me=Jt;ue<me.length;ue+=1)V[me[ue].id]=At}},ct=0,mt=R;ct<mt.length;ct+=1)q();return V}(I.buckets,V.style),this.hasSymbolBuckets=!1,this.buckets){var mt=this.buckets[ct];if(mt instanceof ui){if(this.hasSymbolBuckets=!0,!q)break;mt.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var At in this.buckets){var Jt=this.buckets[At];if(Jt instanceof ui&&Jt.hasRTLText){this.hasRTLText=!0,!Ca.isLoading()&&!Ca.isLoaded()&&"deferred"===aa()&&va();break}}for(var ue in this.queryPadding=0,this.buckets){var me=this.buckets[ue];this.queryPadding=Math.max(this.queryPadding,V.style.getLayer(ue).queryRadius(me))}I.imageAtlas&&(this.imageAtlas=I.imageAtlas),I.glyphAtlasImage&&(this.glyphAtlasImage=I.glyphAtlasImage)}else this.collisionBoxArray=new sc},qi.prototype.unloadVectorData=function(){for(var I in this.buckets)this.buckets[I].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},qi.prototype.getBucket=function(I){return this.buckets[I.id]},qi.prototype.upload=function(I){for(var V in this.buckets){var q=this.buckets[V];q.uploadPending()&&q.upload(I)}var ct=I.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Pf(I,this.imageAtlas.image,ct.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Pf(I,this.glyphAtlasImage,ct.ALPHA),this.glyphAtlasImage=null)},qi.prototype.prepare=function(I){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(I,this.imageAtlasTexture)},qi.prototype.queryRenderedFeatures=function(I,V,q,ct,mt,At,Jt,ue,me,Ae){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:ct,cameraQueryGeometry:mt,scale:At,tileSize:this.tileSize,pixelPosMatrix:Ae,transform:ue,params:Jt,queryPadding:this.queryPadding*me},I,V,q):{}},qi.prototype.querySourceFeatures=function(I,V){var q=this.latestFeatureIndex;if(q&&q.rawTileData){var ct=q.loadVTLayers(),mt=V?V.sourceLayer:"",At=ct._geojsonTileLayer||ct[mt];if(At)for(var Jt=$s(V&&V.filter),ue=this.tileID.canonical,me=ue.z,Ae=ue.x,He=ue.y,er={z:me,x:Ae,y:He},Je=0;Je<At.length;Je++){var mr=At.feature(Je);if(Jt.needGeometry){var zr=pi(mr,!0);if(!Jt.filter(new fa(this.tileID.overscaledZ),zr,this.tileID.canonical))continue}else if(!Jt.filter(new fa(this.tileID.overscaledZ),mr))continue;var fn=q.getId(mr,mt),qr=new Kc(mr,me,Ae,He,fn);qr.tile=er,I.push(qr)}}},qi.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},qi.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},qi.prototype.setExpiryData=function(I){var V=this.expirationTime;if(I.cacheControl){var q=et(I.cacheControl);q["max-age"]&&(this.expirationTime=Date.now()+1e3*q["max-age"])}else I.expires&&(this.expirationTime=new Date(I.expires).getTime());if(this.expirationTime){var ct=Date.now(),mt=!1;if(this.expirationTime>ct)mt=!1;else if(V)if(this.expirationTime<V)mt=!0;else{var At=this.expirationTime-V;At?this.expirationTime=ct+Math.max(At,3e4):mt=!0}else mt=!0;mt?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},qi.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},qi.prototype.setFeatureState=function(I,V){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(I).length){var q=this.latestFeatureIndex.loadVTLayers();for(var ct in this.buckets)if(V.style.hasLayer(ct)){var mt=this.buckets[ct],At=mt.layers[0].sourceLayer||"_geojsonTileLayer",Jt=q[At],ue=I[At];if(Jt&&ue&&0!==Object.keys(ue).length){mt.update(ue,Jt,this.imageAtlas&&this.imageAtlas.patternPositions||{});var me=V&&V.style&&V.style.getLayer(ct);me&&(this.queryPadding=Math.max(this.queryPadding,me.queryRadius(mt)))}}}},qi.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},qi.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<nt.now()},qi.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},qi.prototype.setHoldDuration=function(I){this.symbolFadeHoldUntil=nt.now()+I},qi.prototype.setDependencies=function(I,V){for(var q={},ct=0,mt=V;ct<mt.length;ct+=1)q[mt[ct]]=!0;this.dependencies[I]=q},qi.prototype.hasDependency=function(I,V){for(var q=0,ct=I;q<ct.length;q+=1){var At=this.dependencies[ct[q]];if(At)for(var Jt=0,ue=V;Jt<ue.length;Jt+=1)if(At[ue[Jt]])return!0}return!1};var ef=s.performance,kv=function(I){this._marks={start:[I.url,"start"].join("#"),end:[I.url,"end"].join("#"),measure:I.url.toString()},ef.mark(this._marks.start)};kv.prototype.finish=function(){ef.mark(this._marks.end);var I=ef.getEntriesByName(this._marks.measure);return 0===I.length&&(ef.measure(this._marks.measure,this._marks.start,this._marks.end),I=ef.getEntriesByName(this._marks.measure),ef.clearMarks(this._marks.start),ef.clearMarks(this._marks.end),ef.clearMeasures(this._marks.measure)),I},i.Actor=tc,i.AlphaImage=Lf,i.CanonicalTileID=Rf,i.CollisionBoxArray=sc,i.Color=ti,i.DEMData=Au,i.DataConstantProperty=Jn,i.DictionaryCoder=jc,i.EXTENT=ma,i.ErrorEvent=Re,i.EvaluationParameters=fa,i.Event=$e,i.Evented=or,i.FeatureIndex=Mu,i.FillBucket=Dl,i.FillExtrusionBucket=Rl,i.ImageAtlas=xc,i.ImagePosition=Uc,i.LineBucket=Do,i.LngLat=Ei,i.LngLatBounds=Yi,i.MercatorCoordinate=Df,i.ONE_EM=24,i.OverscaledTileID=Xi,i.Point=r,i.Point$1=r,i.Properties=oi,i.Protobuf=Bc,i.RGBAImage=Zo,i.RequestManager=Nt,i.RequestPerformance=kv,i.ResourceType=gr,i.SegmentVector=Gi,i.SourceFeatureState=ec,i.StructArrayLayout1ui2=ju,i.StructArrayLayout2f1f2i16=Cl,i.StructArrayLayout2i4=Eo,i.StructArrayLayout3ui6=Ll,i.StructArrayLayout4i8=ps,i.SymbolBucket=ui,i.Texture=Pf,i.Tile=qi,i.Transitionable=Ba,i.Uniform1f=Zr,i.Uniform1i=Ir,i.Uniform2f=Xr,i.Uniform3f=Vr,i.Uniform4f=Kr,i.UniformColor=vn,i.UniformMatrix4f=In,i.UnwrappedTileID=Rv,i.ValidationError=kr,i.WritingMode=ms,i.ZoomHistory=Ft,i.add=function Vf(R,I,V){return R[0]=I[0]+V[0],R[1]=I[1]+V[1],R[2]=I[2]+V[2],R},i.addDynamicAttributes=wh,i.asyncAll=function d(R,I,V){if(!R.length)return V(null,[]);var q=R.length,ct=new Array(R.length),mt=null;R.forEach(function(At,Jt){I(At,function(ue,me){ue&&(mt=ue),ct[Jt]=me,0==--q&&V(mt,ct)})})},i.bezier=u,i.bindAll=C,i.browser=nt,i.cacheEntryPossiblyAdded=function Te(R){++ye>kt&&(R.getActor().send("enforceCacheSizeLimit",zt),ye=0)},i.clamp=c,i.clearTileCache=function hr(R){var I=s.caches.delete(Bt);R&&I.catch(R).then(function(){return R()})},i.clipLine=dv,i.clone=function Bf(R){var I=new _i(16);return I[0]=R[0],I[1]=R[1],I[2]=R[2],I[3]=R[3],I[4]=R[4],I[5]=R[5],I[6]=R[6],I[7]=R[7],I[8]=R[8],I[9]=R[9],I[10]=R[10],I[11]=R[11],I[12]=R[12],I[13]=R[13],I[14]=R[14],I[15]=R[15],I},i.clone$1=N,i.clone$2=function eh(R){var I=new _i(3);return I[0]=R[0],I[1]=R[1],I[2]=R[2],I},i.collisionCircleLayout=vp,i.config=_,i.create=function Of(){var R=new _i(16);return _i!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0),R[0]=1,R[5]=1,R[10]=1,R[15]=1,R},i.create$1=function vo(){var R=new _i(9);return _i!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R},i.create$2=function zf(){var R=new _i(4);return _i!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R},i.createCommonjsModule=P,i.createExpression=xl,i.createLayout=ri,i.createStyleLayer=function M0(R){return"custom"===R.type?new T0(R):new A0[R.type](R)},i.cross=function Bv(R,I,V){var q=I[0],ct=I[1],mt=I[2],At=V[0],Jt=V[1],ue=V[2];return R[0]=ct*ue-mt*Jt,R[1]=mt*At-q*ue,R[2]=q*Jt-ct*At,R},i.deepEqual=function a(R,I){if(Array.isArray(R)){if(!Array.isArray(I)||R.length!==I.length)return!1;for(var V=0;V<R.length;V++)if(!a(R[V],I[V]))return!1;return!0}if("object"==typeof R&&null!==R&&null!==I){if("object"!=typeof I)return!1;if(Object.keys(R).length!==Object.keys(I).length)return!1;for(var ct in R)if(!a(R[ct],I[ct]))return!1;return!0}return R===I},i.dot=function Ov(R,I){return R[0]*I[0]+R[1]*I[1]+R[2]*I[2]},i.dot$1=function Gv(R,I){return R[0]*I[0]+R[1]*I[1]+R[2]*I[2]+R[3]*I[3]},i.ease=g,i.emitValidationErrors=Ea,i.endsWith=p,i.enforceCacheSizeLimit=function Ge(R){pt(),ft&&ft.then(function(I){I.keys().then(function(V){for(var q=0;q<V.length-R;q++)I.delete(V[q])})})},i.evaluateSizeForFeature=sv,i.evaluateSizeForZoom=lv,i.evaluateVariableOffset=yv,i.evented=jn,i.extend=M,i.featureFilter=$s,i.filterObject=D,i.fromRotation=function Qu(R,I){var V=Math.sin(I),q=Math.cos(I);return R[0]=q,R[1]=V,R[2]=0,R[3]=-V,R[4]=q,R[5]=0,R[6]=0,R[7]=0,R[8]=1,R},i.getAnchorAlignment=yh,i.getAnchorJustification=bh,i.getArrayBuffer=Ie,i.getImage=Le,i.getJSON=function(R,I){return Se(M(R,{type:"json"}),I)},i.getRTLTextPluginStatus=aa,i.getReferrer=he,i.getVideo=function(R,I){var V=s.document.createElement("video");V.muted=!0,V.onloadstart=function(){I(null,V)};for(var q=0;q<R.length;q++){var ct=s.document.createElement("source");Ze(R[q])||(V.crossOrigin="Anonymous"),ct.src=R[q],V.appendChild(ct)}return{cancel:function(){}}},i.identity=Nf,i.invert=function $u(R,I){var V=I[0],q=I[1],ct=I[2],mt=I[3],At=I[4],Jt=I[5],ue=I[6],me=I[7],Ae=I[8],He=I[9],er=I[10],Je=I[11],mr=I[12],zr=I[13],fn=I[14],qr=I[15],Mn=V*Jt-q*At,mn=V*ue-ct*At,An=V*me-mt*At,Dn=q*ue-ct*Jt,Bn=q*me-mt*Jt,Yn=ct*me-mt*ue,Gn=Ae*zr-He*mr,da=Ae*fn-er*mr,sa=Ae*qr-Je*mr,ha=He*fn-er*zr,Ia=He*qr-Je*zr,pa=er*qr-Je*fn,ba=Mn*pa-mn*Ia+An*ha+Dn*sa-Bn*da+Yn*Gn;return ba?(R[0]=(Jt*pa-ue*Ia+me*ha)*(ba=1/ba),R[1]=(ct*Ia-q*pa-mt*ha)*ba,R[2]=(zr*Yn-fn*Bn+qr*Dn)*ba,R[3]=(er*Bn-He*Yn-Je*Dn)*ba,R[4]=(ue*sa-At*pa-me*da)*ba,R[5]=(V*pa-ct*sa+mt*da)*ba,R[6]=(fn*An-mr*Yn-qr*mn)*ba,R[7]=(Ae*Yn-er*An+Je*mn)*ba,R[8]=(At*Ia-Jt*sa+me*Gn)*ba,R[9]=(q*sa-V*Ia-mt*Gn)*ba,R[10]=(mr*Bn-zr*An+qr*Mn)*ba,R[11]=(He*An-Ae*Bn-Je*Mn)*ba,R[12]=(Jt*da-At*ha-ue*Gn)*ba,R[13]=(V*ha-q*da+ct*Gn)*ba,R[14]=(zr*mn-mr*Dn-fn*Mn)*ba,R[15]=(Ae*Dn-He*mn+er*Mn)*ba,R):null},i.isChar=Yt,i.isMapboxURL=Gt,i.keysDifference=function v(R,I){var V=[];for(var q in R)q in I||V.push(q);return V},i.makeRequest=Se,i.mapObject=F,i.mercatorXfromLng=Lv,i.mercatorYfromLat=Pv,i.mercatorZfromAltitude=Dv,i.mul=th,i.multiply=_u,i.mvt=Wf,i.nextPowerOfTwo=function T(R){return R<=1?1:Math.pow(2,Math.ceil(Math.log(R)/Math.LN2))},i.normalize=function fc(R,I){var V=I[0],q=I[1],ct=I[2],mt=V*V+q*q+ct*ct;return mt>0&&(mt=1/Math.sqrt(mt)),R[0]=I[0]*mt,R[1]=I[1]*mt,R[2]=I[2]*mt,R},i.number=Pi,i.offscreenCanvasSupported=Ye,i.ortho=function qc(R,I,V,q,ct,mt,At){var Jt=1/(I-V),ue=1/(q-ct),me=1/(mt-At);return R[0]=-2*Jt,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=-2*ue,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=2*me,R[11]=0,R[12]=(I+V)*Jt,R[13]=(ct+q)*ue,R[14]=(At+mt)*me,R[15]=1,R},i.parseGlyphPBF=function Vp(R){return new Bc(R).readFields(Bp,[])},i.pbf=Bc,i.performSymbolLayout=function a0(R,I,V,q,ct,mt,At){R.createArrays(),R.tilePixelRatio=ma/(512*R.overscaling),R.compareText={},R.iconsNeedLinear=!1;var ue=R.layers[0].layout,me=R.layers[0]._unevaluatedLayout._values,Ae={};if("composite"===R.textSizeData.kind){var He=R.textSizeData,Je=He.maxZoom;Ae.compositeTextSizes=[me["text-size"].possiblyEvaluate(new fa(He.minZoom),At),me["text-size"].possiblyEvaluate(new fa(Je),At)]}if("composite"===R.iconSizeData.kind){var mr=R.iconSizeData,fn=mr.maxZoom;Ae.compositeIconSizes=[me["icon-size"].possiblyEvaluate(new fa(mr.minZoom),At),me["icon-size"].possiblyEvaluate(new fa(fn),At)]}Ae.layoutTextSize=me["text-size"].possiblyEvaluate(new fa(R.zoom+1),At),Ae.layoutIconSize=me["icon-size"].possiblyEvaluate(new fa(R.zoom+1),At),Ae.textMaxSize=me["text-size"].possiblyEvaluate(new fa(18));for(var qr=24*ue.get("text-line-height"),Mn="map"===ue.get("text-rotation-alignment")&&"point"!==ue.get("symbol-placement"),mn=ue.get("text-keep-upright"),An=ue.get("text-size"),Dn=function(){var Gn=Yn[Bn],da=ue.get("text-font").evaluate(Gn,{},At).join(","),sa=An.evaluate(Gn,{},At),ha=Ae.layoutTextSize.evaluate(Gn,{},At),Ia=Ae.layoutIconSize.evaluate(Gn,{},At),pa={horizontal:{},vertical:void 0},ba=Gn.text,Va=[0,0];if(ba){var Da=ba.toString(),$a=24*ue.get("text-letter-spacing").evaluate(Gn,{},At),fi=function ie(R){for(var I=0,V=R;I<V.length;I+=1)if(!Pe(V[I].charCodeAt(0)))return!1;return!0}(Da)?$a:0,_a=ue.get("text-anchor").evaluate(Gn,{},At),qa=ue.get("text-variable-anchor");if(!qa){var Ja=ue.get("text-radial-offset").evaluate(Gn,{},At);Va=Ja?yv(_a,[24*Ja,xh]):ue.get("text-offset").evaluate(Gn,{},At).map(function(Su){return 24*Su})}var gi=Mn?"center":ue.get("text-justify").evaluate(Gn,{},At),bi=ue.get("symbol-placement"),zi="point"===bi?24*ue.get("text-max-width").evaluate(Gn,{},At):0,Ni=function(){R.allowVerticalPlacement&&_t(Da)&&(pa.vertical=Vc(ba,I,V,ct,da,zi,qr,_a,"left",fi,Va,ms.vertical,!0,bi,ha,sa))};if(!Mn&&qa){for(var to="auto"===gi?qa.map(function(Su){return bh(Su)}):[gi],Zi=!1,go=0;go<to.length;go++){var yo=to[go];if(!pa.horizontal[yo])if(Zi)pa.horizontal[yo]=pa.horizontal[0];else{var eo=Vc(ba,I,V,ct,da,zi,qr,"center",yo,fi,Va,ms.horizontal,!1,bi,ha,sa);eo&&(pa.horizontal[yo]=eo,Zi=1===eo.positionedLines.length)}}Ni()}else{"auto"===gi&&(gi=bh(_a));var Ro=Vc(ba,I,V,ct,da,zi,qr,_a,gi,fi,Va,ms.horizontal,!1,bi,ha,sa);Ro&&(pa.horizontal[gi]=Ro),Ni(),_t(Da)&&Mn&&mn&&(pa.vertical=Vc(ba,I,V,ct,da,zi,qr,_a,gi,fi,Va,ms.vertical,!1,bi,ha,sa))}}var Io=void 0,Ji=!1;if(Gn.icon&&Gn.icon.name){var Fo=q[Gn.icon.name];Fo&&(Io=function Kp(R,I,V){var q=yh(V),ue=I[0]-R.displaySize[0]*q.horizontalAlign,Ae=I[1]-R.displaySize[1]*q.verticalAlign;return{image:R,top:Ae,bottom:Ae+R.displaySize[1],left:ue,right:ue+R.displaySize[0]}}(ct[Gn.icon.name],ue.get("icon-offset").evaluate(Gn,{},At),ue.get("icon-anchor").evaluate(Gn,{},At)),Ji=Fo.sdf,void 0===R.sdfIcons?R.sdfIcons=Fo.sdf:R.sdfIcons!==Fo.sdf&&B("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Fo.pixelRatio!==R.pixelRatio||0!==ue.get("icon-rotate").constantOr(1))&&(R.iconsNeedLinear=!0))}var xs=xv(pa.horizontal)||pa.vertical;R.iconsInText=!!xs&&xs.iconsInText,(xs||Io)&&function i0(R,I,V,q,ct,mt,At,Jt,ue,me,Ae){var He=mt.textMaxSize.evaluate(I,{});void 0===He&&(He=At);var pa,er=R.layers[0].layout,Je=er.get("icon-offset").evaluate(I,{},Ae),mr=xv(V.horizontal),zr=24,fn=At/zr,qr=R.tilePixelRatio*fn,Mn=R.tilePixelRatio*He/zr,mn=R.tilePixelRatio*Jt,An=R.tilePixelRatio*er.get("symbol-spacing"),Dn=er.get("text-padding")*R.tilePixelRatio,Bn=er.get("icon-padding")*R.tilePixelRatio,Yn=er.get("text-max-angle")/180*Math.PI,Gn="map"===er.get("text-rotation-alignment")&&"point"!==er.get("symbol-placement"),da="map"===er.get("icon-rotation-alignment")&&"point"!==er.get("symbol-placement"),sa=er.get("symbol-placement"),ha=An/2,Ia=er.get("icon-text-fit");q&&"none"!==Ia&&(R.allowVerticalPlacement&&V.vertical&&(pa=ov(q,V.vertical,Ia,er.get("icon-text-fit-padding"),Je,fn)),mr&&(q=ov(q,mr,Ia,er.get("icon-text-fit-padding"),Je,fn)));var ba=function(rc,nl){nl.x<0||nl.x>=ma||nl.y<0||nl.y>=ma||function o0(R,I,V,q,ct,mt,At,Jt,ue,me,Ae,He,er,Je,mr,zr,fn,qr,Mn,mn,An,Dn,Bn,Yn,Gn){var da,ha,Ia,pa,ba,sa=R.addToLineVertexArray(I,V),Va=0,Da=0,$a=0,fi=0,_a=-1,qa=-1,Ja={},gi=vt(""),bi=0,zi=0;if(void 0===Jt._unevaluatedLayout.getValue("text-radial-offset")?(bi=(da=Jt.layout.get("text-offset").evaluate(An,{},Yn).map(function(Mc){return 24*Mc}))[0],zi=da[1]):(bi=24*Jt.layout.get("text-radial-offset").evaluate(An,{},Yn),zi=xh),R.allowVerticalPlacement&&q.vertical){var to=Jt.layout.get("text-rotate").evaluate(An,{},Yn)+90;pa=new Yc(ue,I,me,Ae,He,q.vertical,er,Je,mr,to),At&&(ba=new Yc(ue,I,me,Ae,He,At,fn,qr,mr,to))}if(ct){var go=Jt.layout.get("icon-rotate").evaluate(An,{}),yo="none"!==Jt.layout.get("icon-text-fit"),eo=pv(ct,go,Bn,yo),Ro=At?pv(At,go,Bn,yo):void 0;Ia=new Yc(ue,I,me,Ae,He,ct,fn,qr,!1,go),Va=4*eo.length;var Io=R.iconSizeData,Ji=null;"source"===Io.kind?(Ji=[Il*Jt.layout.get("icon-size").evaluate(An,{})])[0]>tf&&B(R.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===Io.kind&&((Ji=[Il*Dn.compositeIconSizes[0].evaluate(An,{},Yn),Il*Dn.compositeIconSizes[1].evaluate(An,{},Yn)])[0]>tf||Ji[1]>tf)&&B(R.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),R.addSymbols(R.icon,eo,Ji,mn,Mn,An,!1,I,sa.lineStartIndex,sa.lineLength,-1,Yn),_a=R.icon.placedSymbolArray.length-1,Ro&&(Da=4*Ro.length,R.addSymbols(R.icon,Ro,Ji,mn,Mn,An,ms.vertical,I,sa.lineStartIndex,sa.lineLength,-1,Yn),qa=R.icon.placedSymbolArray.length-1)}for(var Fo in q.horizontal){var xs=q.horizontal[Fo];if(!ha){gi=vt(xs.text);var Su=Jt.layout.get("text-rotate").evaluate(An,{},Yn);ha=new Yc(ue,I,me,Ae,He,xs,er,Je,mr,Su)}var rf=1===xs.positionedLines.length;if($a+=mv(R,I,xs,mt,Jt,mr,An,zr,sa,q.vertical?ms.horizontal:ms.horizontalOnly,rf?Object.keys(q.horizontal):[Fo],Ja,_a,Dn,Yn),rf)break}q.vertical&&(fi+=mv(R,I,q.vertical,mt,Jt,mr,An,zr,sa,ms.vertical,["vertical"],Ja,qa,Dn,Yn));var nf=ha?ha.boxStartIndex:R.collisionBoxArray.length,af=ha?ha.boxEndIndex:R.collisionBoxArray.length,rc=pa?pa.boxStartIndex:R.collisionBoxArray.length,nl=pa?pa.boxEndIndex:R.collisionBoxArray.length,Jc=Ia?Ia.boxStartIndex:R.collisionBoxArray.length,Eh=Ia?Ia.boxEndIndex:R.collisionBoxArray.length,Qc=ba?ba.boxStartIndex:R.collisionBoxArray.length,Ch=ba?ba.boxEndIndex:R.collisionBoxArray.length,ks=-1,nc=function(Mc,zv){return Mc&&Mc.circleDiameter?Math.max(Mc.circleDiameter,zv):zv};ks=nc(ha,ks),ks=nc(pa,ks),ks=nc(Ia,ks);var $c=(ks=nc(ba,ks))>-1?1:0;$c&&(ks*=Gn/24),R.glyphOffsetArray.length>=ui.MAX_GLYPHS&&B("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==An.sortKey&&R.addToSortKeyRanges(R.symbolInstances.length,An.sortKey),R.symbolInstances.emplaceBack(I.x,I.y,Ja.right>=0?Ja.right:-1,Ja.center>=0?Ja.center:-1,Ja.left>=0?Ja.left:-1,Ja.vertical||-1,_a,qa,gi,nf,af,rc,nl,Jc,Eh,Qc,Ch,me,$a,fi,Va,Da,$c,0,er,bi,zi,ks)}(R,nl,rc,V,q,ct,pa,R.layers[0],R.collisionBoxArray,I.index,I.sourceLayerIndex,R.index,qr,Dn,Gn,ue,mn,Bn,da,Je,I,mt,me,Ae,At)};if("line"===sa)for(var Va=0,Da=dv(I.geometry,0,0,ma,ma);Va<Da.length;Va+=1)for(var $a=Da[Va],_a=0,qa=$p($a,An,Yn,V.vertical||mr,q,zr,Mn,R.overscaling,ma);_a<qa.length;_a+=1){var Ja=qa[_a];(!mr||!s0(R,mr.text,ha,Ja))&&ba($a,Ja)}else if("line-center"===sa)for(var bi=0,zi=I.geometry;bi<zi.length;bi+=1){var Ni=zi[bi];if(Ni.length>1){var to=Qp(Ni,Yn,V.vertical||mr,q,zr,Mn);to&&ba(Ni,to)}}else if("Polygon"===I.type)for(var Zi=0,go=fh(I.geometry,0);Zi<go.length;Zi+=1){var yo=go[Zi],eo=t0(yo,16);ba(yo[0],new jf(eo.x,eo.y,0))}else if("LineString"===I.type)for(var Ro=0,Io=I.geometry;Ro<Io.length;Ro+=1){var Ji=Io[Ro];ba(Ji,new jf(Ji[0].x,Ji[0].y,0))}else if("Point"===I.type)for(var Fo=0,xs=I.geometry;Fo<xs.length;Fo+=1)for(var rf=0,nf=xs[Fo];rf<nf.length;rf+=1){var af=nf[rf];ba([af],new jf(af.x,af.y,0))}}(R,Gn,pa,Io,q,Ae,ha,Ia,Va,Ji,At)},Bn=0,Yn=R.features;Bn<Yn.length;Bn+=1)Dn();mt&&R.generateCollisionDebugBuffers()},i.perspective=function uc(R,I,V,q,ct){var At,mt=1/Math.tan(I/2);return R[0]=mt/V,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=mt,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=-1,R[12]=0,R[13]=0,R[15]=0,null!=ct&&ct!==1/0?(R[10]=(ct+q)*(At=1/(q-ct)),R[14]=2*ct*q*At):(R[10]=-1,R[14]=-2*q),R},i.pick=function b(R,I){for(var V={},q=0;q<I.length;q++){var ct=I[q];ct in R&&(V[ct]=R[ct])}return V},i.plugin=Ca,i.polygonIntersectsPolygon=ka,i.postMapLoadEvent=Ht,i.postTurnstileEvent=Wt,i.potpack=qh,i.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],i.register=la,i.registerForPluginStateChange=function(R){return R({pluginStatus:on,pluginURL:an}),jn.on("pluginStateChange",R),R},i.renderColorRamp=Rh,i.rotate=function Ef(R,I,V){var q=I[0],ct=I[1],mt=I[2],At=I[3],Jt=Math.sin(V),ue=Math.cos(V);return R[0]=q*ue+mt*Jt,R[1]=ct*ue+At*Jt,R[2]=q*-Jt+mt*ue,R[3]=ct*-Jt+At*ue,R},i.rotateX=function Xo(R,I,V){var q=Math.sin(V),ct=Math.cos(V),mt=I[4],At=I[5],Jt=I[6],ue=I[7],me=I[8],Ae=I[9],He=I[10],er=I[11];return I!==R&&(R[0]=I[0],R[1]=I[1],R[2]=I[2],R[3]=I[3],R[12]=I[12],R[13]=I[13],R[14]=I[14],R[15]=I[15]),R[4]=mt*ct+me*q,R[5]=At*ct+Ae*q,R[6]=Jt*ct+He*q,R[7]=ue*ct+er*q,R[8]=me*ct-mt*q,R[9]=Ae*ct-At*q,R[10]=He*ct-Jt*q,R[11]=er*ct-ue*q,R},i.rotateZ=function Uf(R,I,V){var q=Math.sin(V),ct=Math.cos(V),mt=I[0],At=I[1],Jt=I[2],ue=I[3],me=I[4],Ae=I[5],He=I[6],er=I[7];return I!==R&&(R[8]=I[8],R[9]=I[9],R[10]=I[10],R[11]=I[11],R[12]=I[12],R[13]=I[13],R[14]=I[14],R[15]=I[15]),R[0]=mt*ct+me*q,R[1]=At*ct+Ae*q,R[2]=Jt*ct+He*q,R[3]=ue*ct+er*q,R[4]=me*ct-mt*q,R[5]=Ae*ct-At*q,R[6]=He*ct-Jt*q,R[7]=er*ct-ue*q,R},i.scale=function Yo(R,I,V){var q=V[0],ct=V[1],mt=V[2];return R[0]=I[0]*q,R[1]=I[1]*q,R[2]=I[2]*q,R[3]=I[3]*q,R[4]=I[4]*ct,R[5]=I[5]*ct,R[6]=I[6]*ct,R[7]=I[7]*ct,R[8]=I[8]*mt,R[9]=I[9]*mt,R[10]=I[10]*mt,R[11]=I[11]*mt,R[12]=I[12],R[13]=I[13],R[14]=I[14],R[15]=I[15],R},i.scale$1=function Hv(R,I,V){return R[0]=I[0]*V,R[1]=I[1]*V,R[2]=I[2]*V,R[3]=I[3]*V,R},i.scale$2=function nh(R,I,V){return R[0]=I[0]*V,R[1]=I[1]*V,R[2]=I[2]*V,R},i.setCacheLimits=function ce(R,I){zt=R,kt=I},i.setRTLTextPlugin=function(R,I,V){if(void 0===V&&(V=!1),on===Nr_deferred||on===Nr_loading||on===Nr_loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");an=nt.resolveURL(R),on=Nr_deferred,Jr=I,zn(),V||va()},i.sphericalToCartesian=function G(R){var I=R[0],V=R[1],q=R[2];return V+=90,V*=Math.PI/180,q*=Math.PI/180,{x:I*Math.cos(V)*Math.sin(q),y:I*Math.sin(V)*Math.sin(q),z:I*Math.cos(q)}},i.sqrLen=Xv,i.styleSpec=Tr,i.sub=Uv,i.symbolSize=Jp,i.transformMat3=function Nv(R,I,V){var q=I[0],ct=I[1],mt=I[2];return R[0]=q*V[0]+ct*V[3]+mt*V[6],R[1]=q*V[1]+ct*V[4]+mt*V[7],R[2]=q*V[2]+ct*V[5]+mt*V[8],R},i.transformMat4=Rc,i.translate=function Bi(R,I,V){var At,Jt,ue,me,Ae,He,er,Je,mr,zr,fn,qr,q=V[0],ct=V[1],mt=V[2];return I===R?(R[12]=I[0]*q+I[4]*ct+I[8]*mt+I[12],R[13]=I[1]*q+I[5]*ct+I[9]*mt+I[13],R[14]=I[2]*q+I[6]*ct+I[10]*mt+I[14],R[15]=I[3]*q+I[7]*ct+I[11]*mt+I[15]):(Jt=I[1],ue=I[2],me=I[3],Ae=I[4],He=I[5],er=I[6],Je=I[7],mr=I[8],zr=I[9],fn=I[10],qr=I[11],R[0]=At=I[0],R[1]=Jt,R[2]=ue,R[3]=me,R[4]=Ae,R[5]=He,R[6]=er,R[7]=Je,R[8]=mr,R[9]=zr,R[10]=fn,R[11]=qr,R[12]=At*q+Ae*ct+mr*mt+I[12],R[13]=Jt*q+He*ct+zr*mt+I[13],R[14]=ue*q+er*ct+fn*mt+I[14],R[15]=me*q+Je*ct+qr*mt+I[15]),R},i.triggerPluginCompletionEvent=jr,i.uniqueId=x,i.validateCustomStyleLayer=function w0(R){var I=[],V=R.id;return void 0===V&&I.push({message:"layers."+V+': missing required property "id"'}),void 0===R.render&&I.push({message:"layers."+V+': missing required method "render"'}),R.renderingMode&&"2d"!==R.renderingMode&&"3d"!==R.renderingMode&&I.push({message:"layers."+V+': property "renderingMode" must be either "2d" or "3d"'}),I},i.validateLight=Pn,i.validateStyle=xn,i.values=function o(R){var I=[];for(var V in R)I.push(R[V]);return I},i.vectorTile=Wf,i.version=L,i.warnOnce=B,i.webpSupported=st,i.window=s,i.wrap=w}),y(0,function(i){function P(he){var ne=typeof he;if("number"===ne||"boolean"===ne||"string"===ne||null==he)return JSON.stringify(he);if(Array.isArray(he)){for(var pe="[",be=0,Se=he;be<Se.length;be+=1)pe+=P(Se[be])+",";return pe+"]"}for(var Ie=Object.keys(he).sort(),Fe="{",Ze=0;Ze<Ie.length;Ze++)Fe+=JSON.stringify(Ie[Ze])+":"+P(he[Ie[Ze]])+",";return Fe+"}"}function L(he){for(var ne="",pe=0,be=i.refProperties;pe<be.length;pe+=1)ne+="/"+P(he[be[pe]]);return ne}var m=function(ne){this.keyCache={},ne&&this.replace(ne)};m.prototype.replace=function(ne){this._layerConfigs={},this._layers={},this.update(ne,[])},m.prototype.update=function(ne,pe){for(var be=this,Se=0,Me=ne;Se<Me.length;Se+=1){var Ie=Me[Se];this._layerConfigs[Ie.id]=Ie;var Fe=this._layers[Ie.id]=i.createStyleLayer(Ie);Fe._featureFilter=i.featureFilter(Fe.filter),this.keyCache[Ie.id]&&delete this.keyCache[Ie.id]}for(var Ze=0,nr=pe;Ze<nr.length;Ze+=1){var ir=nr[Ze];delete this.keyCache[ir],delete this._layerConfigs[ir],delete this._layers[ir]}this.familiesBySource={};for(var Ot=0,Ut=function l(he,ne){for(var pe={},be=0;be<he.length;be++){var Se=ne&&ne[he[be].id]||L(he[be]);ne&&(ne[he[be].id]=Se);var Me=pe[Se];Me||(Me=pe[Se]=[]),Me.push(he[be])}var Ie=[];for(var Fe in pe)Ie.push(pe[Fe]);return Ie}(i.values(this._layerConfigs),this.keyCache);Ot<Ut.length;Ot+=1){var Le=Ut[Ot].map(function(or){return be._layers[or.id]}),Xe=Le[0];if("none"!==Xe.visibility){var _e=Xe.source||"",fr=this.familiesBySource[_e];fr||(fr=this.familiesBySource[_e]={});var $e=Xe.sourceLayer||"_geojsonTileLayer",Re=fr[$e];Re||(Re=fr[$e]=[]),Re.push(Le)}}};var e=function(ne){var pe={},be=[];for(var Se in ne){var Me=ne[Se],Ie=pe[Se]={};for(var Fe in Me){var Ze=Me[+Fe];if(Ze&&0!==Ze.bitmap.width&&0!==Ze.bitmap.height){var nr={x:0,y:0,w:Ze.bitmap.width+2,h:Ze.bitmap.height+2};be.push(nr),Ie[Fe]={rect:nr,metrics:Ze.metrics}}}}var ir=i.potpack(be),Ut=new i.AlphaImage({width:ir.w||1,height:ir.h||1});for(var Ce in ne){var Le=ne[Ce];for(var Xe in Le){var _e=Le[+Xe];if(_e&&0!==_e.bitmap.width&&0!==_e.bitmap.height){var fr=pe[Ce][Xe].rect;i.AlphaImage.copy(_e.bitmap,Ut,{x:0,y:0},{x:fr.x+1,y:fr.y+1},_e.bitmap)}}}this.image=Ut,this.positions=pe};i.register("GlyphAtlas",e);var s=function(ne){this.tileID=new i.OverscaledTileID(ne.tileID.overscaledZ,ne.tileID.wrap,ne.tileID.canonical.z,ne.tileID.canonical.x,ne.tileID.canonical.y),this.uid=ne.uid,this.zoom=ne.zoom,this.pixelRatio=ne.pixelRatio,this.tileSize=ne.tileSize,this.source=ne.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ne.showCollisionBoxes,this.collectResourceTiming=!!ne.collectResourceTiming,this.returnDependencies=!!ne.returnDependencies,this.promoteId=ne.promoteId};function a(he,ne,pe){for(var be=new i.EvaluationParameters(ne),Se=0,Me=he;Se<Me.length;Se+=1)Me[Se].recalculate(be,pe)}function h(he,ne){var pe=i.getArrayBuffer(he.request,function(be,Se,Me,Ie){be?ne(be):Se&&ne(null,{vectorTile:new i.vectorTile.VectorTile(new i.pbf(Se)),rawData:Se,cacheControl:Me,expires:Ie})});return function(){pe.cancel(),ne()}}s.prototype.parse=function(ne,pe,be,Se,Me){var Ie=this;this.status="parsing",this.data=ne,this.collisionBoxArray=new i.CollisionBoxArray;var Fe=new i.DictionaryCoder(Object.keys(ne.layers).sort()),Ze=new i.FeatureIndex(this.tileID,this.promoteId);Ze.bucketLayerIDs=[];var nr={},ir={featureIndex:Ze,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:be},lr=pe.familiesBySource[this.source];for(var Ot in lr){var Ut=ne.layers[Ot];if(Ut){1===Ut.version&&i.warnOnce('Vector tile source "'+this.source+'" layer "'+Ot+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ce=Fe.encode(Ot),Le=[],Xe=0;Xe<Ut.length;Xe++){var _e=Ut.feature(Xe),fr=Ze.getId(_e,Ot);Le.push({feature:_e,id:fr,index:Xe,sourceLayerIndex:Ce})}for(var $e=0,Re=lr[Ot];$e<Re.length;$e+=1){var or=Re[$e],dr=or[0];dr.minzoom&&this.zoom<Math.floor(dr.minzoom)||dr.maxzoom&&this.zoom>=dr.maxzoom||"none"===dr.visibility||(a(or,this.zoom,be),(nr[dr.id]=dr.createBucket({index:Ze.bucketLayerIDs.length,layers:or,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ce,sourceID:this.source})).populate(Le,ir,this.tileID.canonical),Ze.bucketLayerIDs.push(or.map(function(ur){return ur.id})))}}}var Cr,$r,Ar,Gr,nn=i.mapObject(ir.glyphDependencies,function(ur){return Object.keys(ur).map(Number)});Object.keys(nn).length?Se.send("getGlyphs",{uid:this.uid,stacks:nn},function(ur,Mr){Cr||(Cr=ur,$r=Mr,bn.call(Ie))}):$r={};var Ur=Object.keys(ir.iconDependencies);Ur.length?Se.send("getImages",{icons:Ur,source:this.source,tileID:this.tileID,type:"icons"},function(ur,Mr){Cr||(Cr=ur,Ar=Mr,bn.call(Ie))}):Ar={};var Tn=Object.keys(ir.patternDependencies);function bn(){if(Cr)return Me(Cr);if($r&&Ar&&Gr){var ur=new e($r),Mr=new i.ImageAtlas(Ar,Gr);for(var Br in nr){var Or=nr[Br];Or instanceof i.SymbolBucket?(a(Or.layers,this.zoom,be),i.performSymbolLayout(Or,$r,ur.positions,Ar,Mr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Or.hasPattern&&(Or instanceof i.LineBucket||Or instanceof i.FillBucket||Or instanceof i.FillExtrusionBucket)&&(a(Or.layers,this.zoom,be),Or.addFeatures(ir,this.tileID.canonical,Mr.patternPositions))}this.status="done",Me(null,{buckets:i.values(nr).filter(function(sn){return!sn.isEmpty()}),featureIndex:Ze,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:ur.image,imageAtlas:Mr,glyphMap:this.returnDependencies?$r:null,iconMap:this.returnDependencies?Ar:null,glyphPositions:this.returnDependencies?ur.positions:null})}}Tn.length?Se.send("getImages",{icons:Tn,source:this.source,tileID:this.tileID,type:"patterns"},function(ur,Mr){Cr||(Cr=ur,Gr=Mr,bn.call(Ie))}):Gr={},bn.call(this)};var f=function(ne,pe,be,Se){this.actor=ne,this.layerIndex=pe,this.availableImages=be,this.loadVectorData=Se||h,this.loading={},this.loaded={}};f.prototype.loadTile=function(ne,pe){var be=this,Se=ne.uid;this.loading||(this.loading={});var Me=!!(ne&&ne.request&&ne.request.collectResourceTiming)&&new i.RequestPerformance(ne.request),Ie=this.loading[Se]=new s(ne);Ie.abort=this.loadVectorData(ne,function(Fe,Ze){if(delete be.loading[Se],Fe||!Ze)return Ie.status="done",be.loaded[Se]=Ie,pe(Fe);var nr=Ze.rawData,ir={};Ze.expires&&(ir.expires=Ze.expires),Ze.cacheControl&&(ir.cacheControl=Ze.cacheControl);var lr={};if(Me){var Ot=Me.finish();Ot&&(lr.resourceTiming=JSON.parse(JSON.stringify(Ot)))}Ie.vectorTile=Ze.vectorTile,Ie.parse(Ze.vectorTile,be.layerIndex,be.availableImages,be.actor,function(Ut,Ce){if(Ut||!Ce)return pe(Ut);pe(null,i.extend({rawTileData:nr.slice(0)},Ce,ir,lr))}),be.loaded=be.loaded||{},be.loaded[Se]=Ie})},f.prototype.reloadTile=function(ne,pe){var be=this,Se=this.loaded,Me=ne.uid,Ie=this;if(Se&&Se[Me]){var Fe=Se[Me];Fe.showCollisionBoxes=ne.showCollisionBoxes;var Ze=function(nr,ir){var lr=Fe.reloadCallback;lr&&(delete Fe.reloadCallback,Fe.parse(Fe.vectorTile,Ie.layerIndex,be.availableImages,Ie.actor,lr)),pe(nr,ir)};"parsing"===Fe.status?Fe.reloadCallback=Ze:"done"===Fe.status&&(Fe.vectorTile?Fe.parse(Fe.vectorTile,this.layerIndex,this.availableImages,this.actor,Ze):Ze())}},f.prototype.abortTile=function(ne,pe){var be=this.loading,Se=ne.uid;be&&be[Se]&&be[Se].abort&&(be[Se].abort(),delete be[Se]),pe()},f.prototype.removeTile=function(ne,pe){var be=this.loaded,Se=ne.uid;be&&be[Se]&&delete be[Se],pe()};var u=i.window.ImageBitmap,g=function(){this.loaded={}};g.prototype.loadTile=function(ne,pe){var be=ne.uid,Se=ne.encoding,Me=ne.rawImageData,Ie=u&&Me instanceof u?this.getImageData(Me):Me,Fe=new i.DEMData(be,Ie,Se);this.loaded=this.loaded||{},this.loaded[be]=Fe,pe(null,Fe)},g.prototype.getImageData=function(ne){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(ne.width,ne.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ne.width,this.offscreenCanvas.height=ne.height,this.offscreenCanvasContext.drawImage(ne,0,0,ne.width,ne.height);var pe=this.offscreenCanvasContext.getImageData(-1,-1,ne.width+2,ne.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new i.RGBAImage({width:pe.width,height:pe.height},pe.data)},g.prototype.removeTile=function(ne){var pe=this.loaded,be=ne.uid;pe&&pe[be]&&delete pe[be]};var c=function w(he,ne){var be,pe=he&&he.type;if("FeatureCollection"===pe)for(be=0;be<he.features.length;be++)w(he.features[be],ne);else if("GeometryCollection"===pe)for(be=0;be<he.geometries.length;be++)w(he.geometries[be],ne);else if("Feature"===pe)w(he.geometry,ne);else if("Polygon"===pe)d(he.coordinates,ne);else if("MultiPolygon"===pe)for(be=0;be<he.coordinates.length;be++)d(he.coordinates[be],ne);return he};function d(he,ne){if(0!==he.length){o(he[0],ne);for(var pe=1;pe<he.length;pe++)o(he[pe],!ne)}}function o(he,ne){for(var pe=0,be=0,Se=he.length,Me=Se-1;be<Se;Me=be++)pe+=(he[be][0]-he[Me][0])*(he[Me][1]+he[be][1]);pe>=0!=!!ne&&he.reverse()}var v=i.vectorTile.VectorTileFeature.prototype.toGeoJSON,M=function(ne){this._feature=ne,this.extent=i.EXTENT,this.type=ne.type,this.properties=ne.tags,"id"in ne&&!isNaN(ne.id)&&(this.id=parseInt(ne.id,10))};M.prototype.loadGeometry=function(){if(1===this._feature.type){for(var ne=[],pe=0,be=this._feature.geometry;pe<be.length;pe+=1){var Se=be[pe];ne.push([new i.Point$1(Se[0],Se[1])])}return ne}for(var Me=[],Ie=0,Fe=this._feature.geometry;Ie<Fe.length;Ie+=1){for(var nr=[],ir=0,lr=Fe[Ie];ir<lr.length;ir+=1){var Ot=lr[ir];nr.push(new i.Point$1(Ot[0],Ot[1]))}Me.push(nr)}return Me},M.prototype.toGeoJSON=function(ne,pe,be){return v.call(this,ne,pe,be)};var b=function(ne){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=ne.length,this._features=ne};b.prototype.feature=function(ne){return new M(this._features[ne])};var E=i.vectorTile.VectorTileFeature,x=S;function S(he,ne){this.options=ne||{},this.features=he,this.length=he.length}function T(he,ne){this.id="number"==typeof he.id?he.id:void 0,this.type=he.type,this.rawGeometry=1===he.type?[he.geometry]:he.geometry,this.properties=he.tags,this.extent=ne||4096}S.prototype.feature=function(he){return new T(this.features[he],this.options.extent)},T.prototype.loadGeometry=function(){var he=this.rawGeometry;this.geometry=[];for(var ne=0;ne<he.length;ne++){for(var pe=he[ne],be=[],Se=0;Se<pe.length;Se++)be.push(new i.Point$1(pe[Se][0],pe[Se][1]));this.geometry.push(be)}return this.geometry},T.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var he=this.geometry,ne=1/0,pe=-1/0,be=1/0,Se=-1/0,Me=0;Me<he.length;Me++)for(var Ie=he[Me],Fe=0;Fe<Ie.length;Fe++){var Ze=Ie[Fe];ne=Math.min(ne,Ze.x),pe=Math.max(pe,Ze.x),be=Math.min(be,Ze.y),Se=Math.max(Se,Ze.y)}return[ne,be,pe,Se]},T.prototype.toGeoJSON=E.prototype.toGeoJSON;var n=D,p=function N(he,ne){ne=ne||{};var pe={};for(var be in he)pe[be]=new x(he[be].features,ne),pe[be].name=be,pe[be].version=ne.version,pe[be].extent=ne.extent;return D({layers:pe})},F=x;function D(he){var ne=new i.pbf;return function k(he,ne){for(var pe in he.layers)ne.writeMessage(3,z,he.layers[pe])}(he,ne),ne.finish()}function z(he,ne){ne.writeVarintField(15,he.version||1),ne.writeStringField(1,he.name||""),ne.writeVarintField(5,he.extent||4096);var pe,be={keys:[],values:[],keycache:{},valuecache:{}};for(pe=0;pe<he.length;pe++)be.feature=he.feature(pe),ne.writeMessage(2,B,be);var Se=be.keys;for(pe=0;pe<Se.length;pe++)ne.writeStringField(3,Se[pe]);var Me=be.values;for(pe=0;pe<Me.length;pe++)ne.writeMessage(4,et,Me[pe])}function B(he,ne){var pe=he.feature;void 0!==pe.id&&ne.writeVarintField(1,pe.id),ne.writeMessage(2,O,he),ne.writeVarintField(3,pe.type),ne.writeMessage(4,J,pe)}function O(he,ne){var pe=he.feature,be=he.keys,Se=he.values,Me=he.keycache,Ie=he.valuecache;for(var Fe in pe.properties){var Ze=Me[Fe];void 0===Ze&&(be.push(Fe),Me[Fe]=Ze=be.length-1),ne.writeVarint(Ze);var nr=pe.properties[Fe],ir=typeof nr;"string"!==ir&&"boolean"!==ir&&"number"!==ir&&(nr=JSON.stringify(nr));var lr=ir+":"+nr,Ot=Ie[lr];void 0===Ot&&(Se.push(nr),Ie[lr]=Ot=Se.length-1),ne.writeVarint(Ot)}}function U(he,ne){return(ne<<3)+(7&he)}function G(he){return he<<1^he>>31}function J(he,ne){for(var pe=he.loadGeometry(),be=he.type,Se=0,Me=0,Ie=pe.length,Fe=0;Fe<Ie;Fe++){var Ze=pe[Fe],nr=1;1===be&&(nr=Ze.length),ne.writeVarint(U(1,nr));for(var ir=3===be?Ze.length-1:Ze.length,lr=0;lr<ir;lr++){1===lr&&1!==be&&ne.writeVarint(U(2,ir-1));var Ot=Ze[lr].x-Se,Ut=Ze[lr].y-Me;ne.writeVarint(G(Ot)),ne.writeVarint(G(Ut)),Se+=Ot,Me+=Ut}3===be&&ne.writeVarint(U(7,1))}}function et(he,ne){var pe=typeof he;"string"===pe?ne.writeStringField(1,he):"boolean"===pe?ne.writeBooleanField(7,he):"number"===pe&&(he%1!=0?ne.writeDoubleField(3,he):he<0?ne.writeSVarintField(6,he):ne.writeVarintField(5,he))}function at(he,ne,pe,be,Se,Me){if(!(Se-be<=pe)){var Ie=be+Se>>1;lt(he,ne,Ie,be,Se,Me%2),at(he,ne,pe,be,Ie-1,Me+1),at(he,ne,pe,Ie+1,Se,Me+1)}}function lt(he,ne,pe,be,Se,Me){for(;Se>be;){if(Se-be>600){var Ie=Se-be+1,Fe=pe-be+1,Ze=Math.log(Ie),nr=.5*Math.exp(2*Ze/3),ir=.5*Math.sqrt(Ze*nr*(Ie-nr)/Ie)*(Fe-Ie/2<0?-1:1);lt(he,ne,pe,Math.max(be,Math.floor(pe-Fe*nr/Ie+ir)),Math.min(Se,Math.floor(pe+(Ie-Fe)*nr/Ie+ir)),Me)}var Ut=ne[2*pe+Me],Ce=be,Le=Se;for(K(he,ne,be,pe),ne[2*Se+Me]>Ut&&K(he,ne,be,Se);Ce<Le;){for(K(he,ne,Ce,Le),Ce++,Le--;ne[2*Ce+Me]<Ut;)Ce++;for(;ne[2*Le+Me]>Ut;)Le--}ne[2*be+Me]===Ut?K(he,ne,be,Le):K(he,ne,++Le,Se),Le<=pe&&(be=Le+1),pe<=Le&&(Se=Le-1)}}function K(he,ne,pe,be){j(he,pe,be),j(ne,2*pe,2*be),j(ne,2*pe+1,2*be+1)}function j(he,ne,pe){var be=he[ne];he[ne]=he[pe],he[pe]=be}function Z(he,ne,pe,be){var Se=he-pe,Me=ne-be;return Se*Se+Me*Me}n.fromVectorTileJs=D,n.fromGeojsonVt=p,n.GeoJSONWrapper=F;var it=function(he){return he[0]},Q=function(he){return he[1]},Y=function(ne,pe,be,Se,Me){void 0===pe&&(pe=it),void 0===be&&(be=Q),void 0===Se&&(Se=64),void 0===Me&&(Me=Float64Array),this.nodeSize=Se,this.points=ne;for(var Ie=ne.length<65536?Uint16Array:Uint32Array,Fe=this.ids=new Ie(ne.length),Ze=this.coords=new Me(2*ne.length),nr=0;nr<ne.length;nr++)Fe[nr]=nr,Ze[2*nr]=pe(ne[nr]),Ze[2*nr+1]=be(ne[nr]);at(Fe,Ze,Se,0,Fe.length-1,0)};Y.prototype.range=function(ne,pe,be,Se){return function rt(he,ne,pe,be,Se,Me,Ie){for(var nr,ir,Fe=[0,he.length-1,0],Ze=[];Fe.length;){var lr=Fe.pop(),Ot=Fe.pop(),Ut=Fe.pop();if(Ot-Ut<=Ie)for(var Ce=Ut;Ce<=Ot;Ce++)ir=ne[2*Ce+1],(nr=ne[2*Ce])>=pe&&nr<=Se&&ir>=be&&ir<=Me&&Ze.push(he[Ce]);else{var Le=Math.floor((Ut+Ot)/2);ir=ne[2*Le+1],(nr=ne[2*Le])>=pe&&nr<=Se&&ir>=be&&ir<=Me&&Ze.push(he[Le]);var Xe=(lr+1)%2;(0===lr?pe<=nr:be<=ir)&&(Fe.push(Ut),Fe.push(Le-1),Fe.push(Xe)),(0===lr?Se>=nr:Me>=ir)&&(Fe.push(Le+1),Fe.push(Ot),Fe.push(Xe))}}return Ze}(this.ids,this.coords,ne,pe,be,Se,this.nodeSize)},Y.prototype.within=function(ne,pe,be){return function H(he,ne,pe,be,Se,Me){for(var Ie=[0,he.length-1,0],Fe=[],Ze=Se*Se;Ie.length;){var nr=Ie.pop(),ir=Ie.pop(),lr=Ie.pop();if(ir-lr<=Me)for(var Ot=lr;Ot<=ir;Ot++)Z(ne[2*Ot],ne[2*Ot+1],pe,be)<=Ze&&Fe.push(he[Ot]);else{var Ut=Math.floor((lr+ir)/2),Ce=ne[2*Ut],Le=ne[2*Ut+1];Z(Ce,Le,pe,be)<=Ze&&Fe.push(he[Ut]);var Xe=(nr+1)%2;(0===nr?pe-Se<=Ce:be-Se<=Le)&&(Ie.push(lr),Ie.push(Ut-1),Ie.push(Xe)),(0===nr?pe+Se>=Ce:be+Se>=Le)&&(Ie.push(Ut+1),Ie.push(ir),Ie.push(Xe))}}return Fe}(this.ids,this.coords,ne,pe,be,this.nodeSize)};var nt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(he){return he}},_=function(ne){this.options=Mt(Object.create(nt),ne),this.trees=new Array(this.options.maxZoom+1)};function st(he,ne,pe,be,Se){return{x:he,y:ne,zoom:1/0,id:pe,parentId:-1,numPoints:be,properties:Se}}function dt(he,ne){var pe=he.geometry.coordinates,Se=pe[1];return{x:St(pe[0]),y:Et(Se),zoom:1/0,index:ne,parentId:-1}}function xt(he){return{type:"Feature",id:he.id,properties:yt(he),geometry:{type:"Point",coordinates:[Tt(he.x),gt(he.y)]}}}function yt(he){var ne=he.numPoints,pe=ne>=1e4?Math.round(ne/1e3)+"k":ne>=1e3?Math.round(ne/100)/10+"k":ne;return Mt(Mt({},he.properties),{cluster:!0,cluster_id:he.id,point_count:ne,point_count_abbreviated:pe})}function St(he){return he/360+.5}function Et(he){var ne=Math.sin(he*Math.PI/180),pe=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return pe<0?0:pe>1?1:pe}function Tt(he){return 360*(he-.5)}function gt(he){var ne=(180-360*he)*Math.PI/180;return 360*Math.atan(Math.exp(ne))/Math.PI-90}function Mt(he,ne){for(var pe in ne)he[pe]=ne[pe];return he}function Nt(he){return he.x}function Gt(he){return he.y}function Pt(he,ne,pe,be){for(var Fe,Se=be,Me=pe-ne>>1,Ie=pe-ne,Ze=he[ne],nr=he[ne+1],ir=he[pe],lr=he[pe+1],Ot=ne+3;Ot<pe;Ot+=3){var Ut=Vt(he[Ot],he[Ot+1],Ze,nr,ir,lr);if(Ut>Se)Fe=Ot,Se=Ut;else if(Ut===Se){var Ce=Math.abs(Ot-Me);Ce<Ie&&(Fe=Ot,Ie=Ce)}}Se>be&&(Fe-ne>3&&Pt(he,ne,Fe,be),he[Fe+2]=Se,pe-Fe>3&&Pt(he,Fe,pe,be))}function Vt(he,ne,pe,be,Se,Me){var Ie=Se-pe,Fe=Me-be;if(0!==Ie||0!==Fe){var Ze=((he-pe)*Ie+(ne-be)*Fe)/(Ie*Ie+Fe*Fe);Ze>1?(pe=Se,be=Me):Ze>0&&(pe+=Ie*Ze,be+=Fe*Ze)}return(Ie=he-pe)*Ie+(Fe=ne-be)*Fe}function re(he,ne,pe,be){var Se={id:void 0===he?null:he,type:ne,geometry:pe,tags:be,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function le(he){var ne=he.geometry,pe=he.type;if("Point"===pe||"MultiPoint"===pe||"LineString"===pe)It(he,ne);else if("Polygon"===pe||"MultiLineString"===pe)for(var be=0;be<ne.length;be++)It(he,ne[be]);else if("MultiPolygon"===pe)for(be=0;be<ne.length;be++)for(var Se=0;Se<ne[be].length;Se++)It(he,ne[be][Se])}(Se),Se}function It(he,ne){for(var pe=0;pe<ne.length;pe+=3)he.minX=Math.min(he.minX,ne[pe]),he.minY=Math.min(he.minY,ne[pe+1]),he.maxX=Math.max(he.maxX,ne[pe]),he.maxY=Math.max(he.maxY,ne[pe+1])}function $t(he,ne,pe,be){if(ne.geometry){var Se=ne.geometry.coordinates,Me=ne.geometry.type,Ie=Math.pow(pe.tolerance/((1<<pe.maxZoom)*pe.extent),2),Fe=[],Ze=ne.id;if(pe.promoteId?Ze=ne.properties[pe.promoteId]:pe.generateId&&(Ze=be||0),"Point"===Me)oe(Se,Fe);else if("MultiPoint"===Me)for(var nr=0;nr<Se.length;nr++)oe(Se[nr],Fe);else if("LineString"===Me)se(Se,Fe,Ie,!1);else if("MultiLineString"===Me){if(pe.lineMetrics){for(nr=0;nr<Se.length;nr++)se(Se[nr],Fe=[],Ie,!1),he.push(re(Ze,"LineString",Fe,ne.properties));return}ve(Se,Fe,Ie,!1)}else if("Polygon"===Me)ve(Se,Fe,Ie,!0);else{if("MultiPolygon"!==Me){if("GeometryCollection"===Me){for(nr=0;nr<ne.geometry.geometries.length;nr++)$t(he,{id:Ze,geometry:ne.geometry.geometries[nr],properties:ne.properties},pe,be);return}throw new Error("Input data is not a valid GeoJSON object.")}for(nr=0;nr<Se.length;nr++){var ir=[];ve(Se[nr],ir,Ie,!0),Fe.push(ir)}}he.push(re(Ze,Me,Fe,ne.properties))}}function oe(he,ne){ne.push(de(he[0])),ne.push(jt(he[1])),ne.push(0)}function se(he,ne,pe,be){for(var Se,Me,Ie=0,Fe=0;Fe<he.length;Fe++){var Ze=de(he[Fe][0]),nr=jt(he[Fe][1]);ne.push(Ze),ne.push(nr),ne.push(0),Fe>0&&(Ie+=be?(Se*nr-Ze*Me)/2:Math.sqrt(Math.pow(Ze-Se,2)+Math.pow(nr-Me,2))),Se=Ze,Me=nr}var ir=ne.length-3;ne[2]=1,Pt(ne,0,ir,pe),ne[ir+2]=1,ne.size=Math.abs(Ie),ne.start=0,ne.end=ne.size}function ve(he,ne,pe,be){for(var Se=0;Se<he.length;Se++){var Me=[];se(he[Se],Me,pe,be),ne.push(Me)}}function de(he){return he/360+.5}function jt(he){var ne=Math.sin(he*Math.PI/180),pe=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return pe<0?0:pe>1?1:pe}function Ct(he,ne,pe,be,Se,Me,Ie,Fe){if(be/=ne,Me>=(pe/=ne)&&Ie<be)return he;if(Ie<pe||Me>=be)return null;for(var Ze=[],nr=0;nr<he.length;nr++){var ir=he[nr],lr=ir.geometry,Ot=ir.type,Ut=0===Se?ir.minX:ir.minY,Ce=0===Se?ir.maxX:ir.maxY;if(Ut>=pe&&Ce<be)Ze.push(ir);else if(!(Ce<pe||Ut>=be)){var Le=[];if("Point"===Ot||"MultiPoint"===Ot)Wt(lr,Le,pe,be,Se);else if("LineString"===Ot)Xt(lr,Le,pe,be,Se,!1,Fe.lineMetrics);else if("MultiLineString"===Ot)Bt(lr,Le,pe,be,Se,!1);else if("Polygon"===Ot)Bt(lr,Le,pe,be,Se,!0);else if("MultiPolygon"===Ot)for(var Xe=0;Xe<lr.length;Xe++){var _e=[];Bt(lr[Xe],_e,pe,be,Se,!0),_e.length&&Le.push(_e)}if(Le.length){if(Fe.lineMetrics&&"LineString"===Ot){for(Xe=0;Xe<Le.length;Xe++)Ze.push(re(ir.id,Ot,Le[Xe],ir.tags));continue}("LineString"===Ot||"MultiLineString"===Ot)&&(1===Le.length?(Ot="LineString",Le=Le[0]):Ot="MultiLineString"),("Point"===Ot||"MultiPoint"===Ot)&&(Ot=3===Le.length?"Point":"MultiPoint"),Ze.push(re(ir.id,Ot,Le,ir.tags))}}}return Ze.length?Ze:null}function Wt(he,ne,pe,be,Se){for(var Me=0;Me<he.length;Me+=3){var Ie=he[Me+Se];Ie>=pe&&Ie<=be&&(ne.push(he[Me]),ne.push(he[Me+1]),ne.push(he[Me+2]))}}function Xt(he,ne,pe,be,Se,Me,Ie){for(var ir,lr,Fe=Ht(he),Ze=0===Se?kt:wt,nr=he.start,Ot=0;Ot<he.length-3;Ot+=3){var Ut=he[Ot],Ce=he[Ot+1],Le=he[Ot+2],Xe=he[Ot+3],_e=he[Ot+4],fr=0===Se?Ut:Ce,$e=0===Se?Xe:_e,Re=!1;Ie&&(ir=Math.sqrt(Math.pow(Ut-Xe,2)+Math.pow(Ce-_e,2))),fr<pe?$e>pe&&(lr=Ze(Fe,Ut,Ce,Xe,_e,pe),Ie&&(Fe.start=nr+ir*lr)):fr>be?$e<be&&(lr=Ze(Fe,Ut,Ce,Xe,_e,be),Ie&&(Fe.start=nr+ir*lr)):zt(Fe,Ut,Ce,Le),$e<pe&&fr>=pe&&(lr=Ze(Fe,Ut,Ce,Xe,_e,pe),Re=!0),$e>be&&fr<=be&&(lr=Ze(Fe,Ut,Ce,Xe,_e,be),Re=!0),!Me&&Re&&(Ie&&(Fe.end=nr+ir*lr),ne.push(Fe),Fe=Ht(he)),Ie&&(nr+=ir)}var or=he.length-3;Ut=he[or],Ce=he[or+1],Le=he[or+2],(fr=0===Se?Ut:Ce)>=pe&&fr<=be&&zt(Fe,Ut,Ce,Le),or=Fe.length-3,Me&&or>=3&&(Fe[or]!==Fe[0]||Fe[or+1]!==Fe[1])&&zt(Fe,Fe[0],Fe[1],Fe[2]),Fe.length&&ne.push(Fe)}function Ht(he){var ne=[];return ne.size=he.size,ne.start=he.start,ne.end=he.end,ne}function Bt(he,ne,pe,be,Se,Me){for(var Ie=0;Ie<he.length;Ie++)Xt(he[Ie],ne,pe,be,Se,Me,!1)}function zt(he,ne,pe,be){he.push(ne),he.push(pe),he.push(be)}function kt(he,ne,pe,be,Se,Me){var Ie=(Me-ne)/(be-ne);return he.push(Me),he.push(pe+(Se-pe)*Ie),he.push(1),Ie}function wt(he,ne,pe,be,Se,Me){var Ie=(Me-pe)/(Se-pe);return he.push(ne+(be-ne)*Ie),he.push(Me),he.push(1),Ie}function pt(he,ne){for(var pe=[],be=0;be<he.length;be++){var Ie,Se=he[be],Me=Se.type;if("Point"===Me||"MultiPoint"===Me||"LineString"===Me)Ie=Dt(Se.geometry,ne);else if("MultiLineString"===Me||"Polygon"===Me){Ie=[];for(var Fe=0;Fe<Se.geometry.length;Fe++)Ie.push(Dt(Se.geometry[Fe],ne))}else if("MultiPolygon"===Me)for(Ie=[],Fe=0;Fe<Se.geometry.length;Fe++){for(var Ze=[],nr=0;nr<Se.geometry[Fe].length;nr++)Ze.push(Dt(Se.geometry[Fe][nr],ne));Ie.push(Ze)}pe.push(re(Se.id,Me,Ie,Se.tags))}return pe}function Dt(he,ne){var pe=[];pe.size=he.size,void 0!==he.start&&(pe.start=he.start,pe.end=he.end);for(var be=0;be<he.length;be+=3)pe.push(he[be]+ne,he[be+1],he[be+2]);return pe}function Qt(he,ne){if(he.transformed)return he;var Me,Ie,Fe,pe=1<<he.z,be=he.x,Se=he.y;for(Me=0;Me<he.features.length;Me++){var Ze=he.features[Me],nr=Ze.geometry,ir=Ze.type;if(Ze.geometry=[],1===ir)for(Ie=0;Ie<nr.length;Ie+=2)Ze.geometry.push(te(nr[Ie],nr[Ie+1],ne,pe,be,Se));else for(Ie=0;Ie<nr.length;Ie++){var lr=[];for(Fe=0;Fe<nr[Ie].length;Fe+=2)lr.push(te(nr[Ie][Fe],nr[Ie][Fe+1],ne,pe,be,Se));Ze.geometry.push(lr)}}return he.transformed=!0,he}function te(he,ne,pe,be,Se,Me){return[Math.round(pe*(he*be-Se)),Math.round(pe*(ne*be-Me))]}function ee(he,ne,pe,be,Se){for(var Me=ne===Se.maxZoom?0:Se.tolerance/((1<<ne)*Se.extent),Ie={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:pe,y:be,z:ne,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Fe=0;Fe<he.length;Fe++){Ie.numFeatures++,Ne(Ie,he[Fe],Me,Se);var Ze=he[Fe].minX,nr=he[Fe].minY,ir=he[Fe].maxX,lr=he[Fe].maxY;Ze<Ie.minX&&(Ie.minX=Ze),nr<Ie.minY&&(Ie.minY=nr),ir>Ie.maxX&&(Ie.maxX=ir),lr>Ie.maxY&&(Ie.maxY=lr)}return Ie}function Ne(he,ne,pe,be){var Se=ne.geometry,Me=ne.type,Ie=[];if("Point"===Me||"MultiPoint"===Me)for(var Fe=0;Fe<Se.length;Fe+=3)Ie.push(Se[Fe]),Ie.push(Se[Fe+1]),he.numPoints++,he.numSimplified++;else if("LineString"===Me)We(Ie,Se,he,pe,!1,!1);else if("MultiLineString"===Me||"Polygon"===Me)for(Fe=0;Fe<Se.length;Fe++)We(Ie,Se[Fe],he,pe,"Polygon"===Me,0===Fe);else if("MultiPolygon"===Me)for(var Ze=0;Ze<Se.length;Ze++){var nr=Se[Ze];for(Fe=0;Fe<nr.length;Fe++)We(Ie,nr[Fe],he,pe,!0,0===Fe)}if(Ie.length){var ir=ne.tags||null;if("LineString"===Me&&be.lineMetrics){for(var lr in ir={},ne.tags)ir[lr]=ne.tags[lr];ir.mapbox_clip_start=Se.start/Se.size,ir.mapbox_clip_end=Se.end/Se.size}var Ot={geometry:Ie,type:"Polygon"===Me||"MultiPolygon"===Me?3:"LineString"===Me||"MultiLineString"===Me?2:1,tags:ir};null!==ne.id&&(Ot.id=ne.id),he.features.push(Ot)}}function We(he,ne,pe,be,Se,Me){var Ie=be*be;if(be>0&&ne.size<(Se?Ie:be))pe.numPoints+=ne.length/3;else{for(var Fe=[],Ze=0;Ze<ne.length;Ze+=3)(0===be||ne[Ze+2]>Ie)&&(pe.numSimplified++,Fe.push(ne[Ze]),Fe.push(ne[Ze+1])),pe.numPoints++;Se&&function ye(he,ne){for(var pe=0,be=0,Se=he.length,Me=Se-2;be<Se;Me=be,be+=2)pe+=(he[be]-he[Me])*(he[be+1]+he[Me+1]);if(pe>0===ne)for(be=0,Se=he.length;be<Se/2;be+=2){var Ie=he[be],Fe=he[be+1];he[be]=he[Se-2-be],he[be+1]=he[Se-1-be],he[Se-2-be]=Ie,he[Se-1-be]=Fe}}(Fe,Me),he.push(Fe)}}function Ge(he,ne){var pe=(ne=this.options=function ce(he,ne){for(var pe in ne)he[pe]=ne[pe];return he}(Object.create(this.options),ne)).debug;if(pe&&console.time("preprocess data"),ne.maxZoom<0||ne.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ne.promoteId&&ne.generateId)throw new Error("promoteId and generateId cannot be used together.");var be=function Rt(he,ne){var pe=[];if("FeatureCollection"===he.type)for(var be=0;be<he.features.length;be++)$t(pe,he.features[be],ne,be);else $t(pe,"Feature"===he.type?he:{geometry:he},ne);return pe}(he,ne);this.tiles={},this.tileCoords=[],pe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ne.indexMaxZoom,ne.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(be=function ft(he,ne){var pe=ne.buffer/ne.extent,be=he,Se=Ct(he,1,-1-pe,pe,0,-1,2,ne),Me=Ct(he,1,1-pe,2+pe,0,-1,2,ne);return(Se||Me)&&(be=Ct(he,1,-pe,1+pe,0,-1,2,ne)||[],Se&&(be=pt(Se,1).concat(be)),Me&&(be=be.concat(pt(Me,-1)))),be}(be,ne)).length&&this.splitTile(be,0,0,0),pe&&(be.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function hr(he,ne,pe){return 32*((1<<he)*pe+ne)+he}function Ue(he,ne){var pe=he.tileID.canonical;if(!this._geoJSONIndex)return ne(null,null);var be=this._geoJSONIndex.getTile(pe.z,pe.x,pe.y);if(!be)return ne(null,null);var Se=new b(be.features),Me=n(Se);(0!==Me.byteOffset||Me.byteLength!==Me.buffer.byteLength)&&(Me=new Uint8Array(Me)),ne(null,{vectorTile:Se,rawData:Me.buffer})}_.prototype.load=function(ne){var pe=this.options,be=pe.log,Se=pe.minZoom,Me=pe.maxZoom,Ie=pe.nodeSize;be&&console.time("total time");var Fe="prepare "+ne.length+" points";be&&console.time(Fe),this.points=ne;for(var Ze=[],nr=0;nr<ne.length;nr++)!ne[nr].geometry||Ze.push(dt(ne[nr],nr));this.trees[Me+1]=new Y(Ze,Nt,Gt,Ie,Float32Array),be&&console.timeEnd(Fe);for(var ir=Me;ir>=Se;ir--){var lr=+Date.now();Ze=this._cluster(Ze,ir),this.trees[ir]=new Y(Ze,Nt,Gt,Ie,Float32Array),be&&console.log("z%d: %d clusters in %dms",ir,Ze.length,+Date.now()-lr)}return be&&console.timeEnd("total time"),this},_.prototype.getClusters=function(ne,pe){var be=((ne[0]+180)%360+360)%360-180,Se=Math.max(-90,Math.min(90,ne[1])),Me=180===ne[2]?180:((ne[2]+180)%360+360)%360-180,Ie=Math.max(-90,Math.min(90,ne[3]));if(ne[2]-ne[0]>=360)be=-180,Me=180;else if(be>Me){var Fe=this.getClusters([be,Se,180,Ie],pe),Ze=this.getClusters([-180,Se,Me,Ie],pe);return Fe.concat(Ze)}for(var nr=this.trees[this._limitZoom(pe)],lr=[],Ot=0,Ut=nr.range(St(be),Et(Ie),St(Me),Et(Se));Ot<Ut.length;Ot+=1){var Le=nr.points[Ut[Ot]];lr.push(Le.numPoints?xt(Le):this.points[Le.index])}return lr},_.prototype.getChildren=function(ne){var pe=this._getOriginId(ne),be=this._getOriginZoom(ne),Se="No cluster with the specified id.",Me=this.trees[be];if(!Me)throw new Error(Se);var Ie=Me.points[pe];if(!Ie)throw new Error(Se);for(var Fe=this.options.radius/(this.options.extent*Math.pow(2,be-1)),nr=[],ir=0,lr=Me.within(Ie.x,Ie.y,Fe);ir<lr.length;ir+=1){var Ut=Me.points[lr[ir]];Ut.parentId===ne&&nr.push(Ut.numPoints?xt(Ut):this.points[Ut.index])}if(0===nr.length)throw new Error(Se);return nr},_.prototype.getLeaves=function(ne,pe,be){var Se=[];return this._appendLeaves(Se,ne,pe=pe||10,be=be||0,0),Se},_.prototype.getTile=function(ne,pe,be){var Se=this.trees[this._limitZoom(ne)],Me=Math.pow(2,ne),Ie=this.options,nr=Ie.radius/Ie.extent,ir=(be-nr)/Me,lr=(be+1+nr)/Me,Ot={features:[]};return this._addTileFeatures(Se.range((pe-nr)/Me,ir,(pe+1+nr)/Me,lr),Se.points,pe,be,Me,Ot),0===pe&&this._addTileFeatures(Se.range(1-nr/Me,ir,1,lr),Se.points,Me,be,Me,Ot),pe===Me-1&&this._addTileFeatures(Se.range(0,ir,nr/Me,lr),Se.points,-1,be,Me,Ot),Ot.features.length?Ot:null},_.prototype.getClusterExpansionZoom=function(ne){for(var pe=this._getOriginZoom(ne)-1;pe<=this.options.maxZoom;){var be=this.getChildren(ne);if(pe++,1!==be.length)break;ne=be[0].properties.cluster_id}return pe},_.prototype._appendLeaves=function(ne,pe,be,Se,Me){for(var Fe=0,Ze=this.getChildren(pe);Fe<Ze.length;Fe+=1){var nr=Ze[Fe],ir=nr.properties;if(ir&&ir.cluster?Me+ir.point_count<=Se?Me+=ir.point_count:Me=this._appendLeaves(ne,ir.cluster_id,be,Se,Me):Me<Se?Me++:ne.push(nr),ne.length===be)break}return Me},_.prototype._addTileFeatures=function(ne,pe,be,Se,Me,Ie){for(var Fe=0,Ze=ne;Fe<Ze.length;Fe+=1){var ir=pe[Ze[Fe]],lr=ir.numPoints,Ot={type:1,geometry:[[Math.round(this.options.extent*(ir.x*Me-be)),Math.round(this.options.extent*(ir.y*Me-Se))]],tags:lr?yt(ir):this.points[ir.index].properties},Ut=void 0;lr?Ut=ir.id:this.options.generateId?Ut=ir.index:this.points[ir.index].id&&(Ut=this.points[ir.index].id),void 0!==Ut&&(Ot.id=Ut),Ie.features.push(Ot)}},_.prototype._limitZoom=function(ne){return Math.max(this.options.minZoom,Math.min(+ne,this.options.maxZoom+1))},_.prototype._cluster=function(ne,pe){for(var be=[],Se=this.options,Fe=Se.reduce,Ze=Se.minPoints,nr=Se.radius/(Se.extent*Math.pow(2,pe)),ir=0;ir<ne.length;ir++){var lr=ne[ir];if(!(lr.zoom<=pe)){lr.zoom=pe;for(var Ot=this.trees[pe+1],Ut=Ot.within(lr.x,lr.y,nr),Ce=lr.numPoints||1,Le=Ce,Xe=0,_e=Ut;Xe<_e.length;Xe+=1){var $e=Ot.points[_e[Xe]];$e.zoom>pe&&(Le+=$e.numPoints||1)}if(Le>=Ze){for(var Re=lr.x*Ce,or=lr.y*Ce,dr=Fe&&Ce>1?this._map(lr,!0):null,pr=(ir<<5)+(pe+1)+this.points.length,Cr=0,$r=Ut;Cr<$r.length;Cr+=1){var Gr=Ot.points[$r[Cr]];if(!(Gr.zoom<=pe)){Gr.zoom=pe;var nn=Gr.numPoints||1;Re+=Gr.x*nn,or+=Gr.y*nn,Gr.parentId=pr,Fe&&(dr||(dr=this._map(lr,!0)),Fe(dr,this._map(Gr)))}}lr.parentId=pr,be.push(st(Re/Le,or/Le,pr,Le,dr))}else if(be.push(lr),Le>1)for(var Ur=0,Tn=Ut;Ur<Tn.length;Ur+=1){var ur=Ot.points[Tn[Ur]];ur.zoom<=pe||(ur.zoom=pe,be.push(ur))}}}return be},_.prototype._getOriginId=function(ne){return ne-this.points.length>>5},_.prototype._getOriginZoom=function(ne){return(ne-this.points.length)%32},_.prototype._map=function(ne,pe){if(ne.numPoints)return pe?Mt({},ne.properties):ne.properties;var be=this.points[ne.index].properties,Se=this.options.map(be);return pe&&Se===be?Mt({},Se):Se},Ge.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ge.prototype.splitTile=function(he,ne,pe,be,Se,Me,Ie){for(var Fe=[he,ne,pe,be],Ze=this.options,nr=Ze.debug;Fe.length;){be=Fe.pop(),pe=Fe.pop(),ne=Fe.pop(),he=Fe.pop();var ir=1<<ne,lr=hr(ne,pe,be),Ot=this.tiles[lr];if(!Ot&&(nr>1&&console.time("creation"),Ot=this.tiles[lr]=ee(he,ne,pe,be,Ze),this.tileCoords.push({z:ne,x:pe,y:be}),nr)){nr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ne,pe,be,Ot.numFeatures,Ot.numPoints,Ot.numSimplified),console.timeEnd("creation"));var Ut="z"+ne;this.stats[Ut]=(this.stats[Ut]||0)+1,this.total++}if(Ot.source=he,Se){if(ne===Ze.maxZoom||ne===Se)continue;var Ce=1<<Se-ne;if(pe!==Math.floor(Me/Ce)||be!==Math.floor(Ie/Ce))continue}else if(ne===Ze.indexMaxZoom||Ot.numPoints<=Ze.indexMaxPoints)continue;if(Ot.source=null,0!==he.length){nr>1&&console.time("clipping");var $e,Re,or,dr,pr,Cr,Le=.5*Ze.buffer/Ze.extent,Xe=.5-Le,_e=.5+Le,fr=1+Le;$e=Re=or=dr=null,pr=Ct(he,ir,pe-Le,pe+_e,0,Ot.minX,Ot.maxX,Ze),Cr=Ct(he,ir,pe+Xe,pe+fr,0,Ot.minX,Ot.maxX,Ze),he=null,pr&&($e=Ct(pr,ir,be-Le,be+_e,1,Ot.minY,Ot.maxY,Ze),Re=Ct(pr,ir,be+Xe,be+fr,1,Ot.minY,Ot.maxY,Ze),pr=null),Cr&&(or=Ct(Cr,ir,be-Le,be+_e,1,Ot.minY,Ot.maxY,Ze),dr=Ct(Cr,ir,be+Xe,be+fr,1,Ot.minY,Ot.maxY,Ze),Cr=null),nr>1&&console.timeEnd("clipping"),Fe.push($e||[],ne+1,2*pe,2*be),Fe.push(Re||[],ne+1,2*pe,2*be+1),Fe.push(or||[],ne+1,2*pe+1,2*be),Fe.push(dr||[],ne+1,2*pe+1,2*be+1)}}},Ge.prototype.getTile=function(he,ne,pe){var be=this.options,Se=be.extent,Me=be.debug;if(he<0||he>24)return null;var Ie=1<<he,Fe=hr(he,ne=(ne%Ie+Ie)%Ie,pe);if(this.tiles[Fe])return Qt(this.tiles[Fe],Se);Me>1&&console.log("drilling down to z%d-%d-%d",he,ne,pe);for(var lr,Ze=he,nr=ne,ir=pe;!lr&&Ze>0;)Ze--,nr=Math.floor(nr/2),ir=Math.floor(ir/2),lr=this.tiles[hr(Ze,nr,ir)];return lr&&lr.source?(Me>1&&console.log("found parent tile z%d-%d-%d",Ze,nr,ir),Me>1&&console.time("drilling down"),this.splitTile(lr.source,Ze,nr,ir,he,ne,pe),Me>1&&console.timeEnd("drilling down"),this.tiles[Fe]?Qt(this.tiles[Fe],Se):null):null};var Ye=function(he){function ne(pe,be,Se,Me){he.call(this,pe,be,Se,Ue),Me&&(this.loadGeoJSON=Me)}return he&&(ne.__proto__=he),(ne.prototype=Object.create(he&&he.prototype)).constructor=ne,ne.prototype.loadData=function(be,Se){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Se,this._pendingLoadDataParams=be,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ne.prototype._loadData=function(){var be=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Se=this._pendingCallback,Me=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ie=!!(Me&&Me.request&&Me.request.collectResourceTiming)&&new i.RequestPerformance(Me.request);this.loadGeoJSON(Me,function(Fe,Ze){if(Fe||!Ze)return Se(Fe);if("object"!=typeof Ze)return Se(new Error("Input data given to '"+Me.source+"' is not a valid GeoJSON object."));c(Ze,!0);try{if(Me.filter){var nr=i.createExpression(Me.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===nr.result)throw new Error(nr.value.map(function(Ut){return Ut.key+": "+Ut.message}).join(", "));var ir=Ze.features.filter(function(Ut){return nr.value.evaluate({zoom:0},Ut)});Ze={type:"FeatureCollection",features:ir}}be._geoJSONIndex=Me.cluster?new _(function gr(he){var ne=he.superclusterOptions,pe=he.clusterProperties;if(!pe||!ne)return ne;for(var be={},Se={},Me={accumulated:null,zoom:0},Ie={properties:null},Fe=Object.keys(pe),Ze=0,nr=Fe;Ze<nr.length;Ze+=1){var ir=nr[Ze],lr=pe[ir],Ot=lr[0],Ce=i.createExpression(lr[1]),Le=i.createExpression("string"==typeof Ot?[Ot,["accumulated"],["get",ir]]:Ot);be[ir]=Ce.value,Se[ir]=Le.value}return ne.map=function(Xe){Ie.properties=Xe;for(var _e={},fr=0,$e=Fe;fr<$e.length;fr+=1){var Re=$e[fr];_e[Re]=be[Re].evaluate(Me,Ie)}return _e},ne.reduce=function(Xe,_e){Ie.properties=_e;for(var fr=0,$e=Fe;fr<$e.length;fr+=1){var Re=$e[fr];Me.accumulated=Xe[Re],Xe[Re]=Se[Re].evaluate(Me,Ie)}},ne}(Me)).load(Ze.features):function Te(he,ne){return new Ge(he,ne)}(Ze,Me.geojsonVtOptions)}catch(Ut){return Se(Ut)}be.loaded={};var lr={};if(Ie){var Ot=Ie.finish();Ot&&(lr.resourceTiming={},lr.resourceTiming[Me.source]=JSON.parse(JSON.stringify(Ot)))}Se(null,lr)})}},ne.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},ne.prototype.reloadTile=function(be,Se){var Me=this.loaded;return Me&&Me[be.uid]?he.prototype.reloadTile.call(this,be,Se):this.loadTile(be,Se)},ne.prototype.loadGeoJSON=function(be,Se){if(be.request)i.getJSON(be.request,Se);else{if("string"!=typeof be.data)return Se(new Error("Input data given to '"+be.source+"' is not a valid GeoJSON object."));try{return Se(null,JSON.parse(be.data))}catch(Me){return Se(new Error("Input data given to '"+be.source+"' is not a valid GeoJSON object."))}}},ne.prototype.removeSource=function(be,Se){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Se()},ne.prototype.getClusterExpansionZoom=function(be,Se){try{Se(null,this._geoJSONIndex.getClusterExpansionZoom(be.clusterId))}catch(Me){Se(Me)}},ne.prototype.getClusterChildren=function(be,Se){try{Se(null,this._geoJSONIndex.getChildren(be.clusterId))}catch(Me){Se(Me)}},ne.prototype.getClusterLeaves=function(be,Se){try{Se(null,this._geoJSONIndex.getLeaves(be.clusterId,be.limit,be.offset))}catch(Me){Se(Me)}},ne}(f);var tr=function(ne){var pe=this;this.self=ne,this.actor=new i.Actor(ne,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:f,geojson:Ye},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(be,Se){if(pe.workerSourceTypes[be])throw new Error('Worker source with name "'+be+'" already registered.');pe.workerSourceTypes[be]=Se},this.self.registerRTLTextPlugin=function(be){if(i.plugin.isParsed())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=be.applyArabicShaping,i.plugin.processBidirectionalText=be.processBidirectionalText,i.plugin.processStyledBidirectionalText=be.processStyledBidirectionalText}};return tr.prototype.setReferrer=function(ne,pe){this.referrer=pe},tr.prototype.setImages=function(ne,pe,be){for(var Se in this.availableImages[ne]=pe,this.workerSources[ne]){var Me=this.workerSources[ne][Se];for(var Ie in Me)Me[Ie].availableImages=pe}be()},tr.prototype.setLayers=function(ne,pe,be){this.getLayerIndex(ne).replace(pe),be()},tr.prototype.updateLayers=function(ne,pe,be){this.getLayerIndex(ne).update(pe.layers,pe.removedIds),be()},tr.prototype.loadTile=function(ne,pe,be){this.getWorkerSource(ne,pe.type,pe.source).loadTile(pe,be)},tr.prototype.loadDEMTile=function(ne,pe,be){this.getDEMWorkerSource(ne,pe.source).loadTile(pe,be)},tr.prototype.reloadTile=function(ne,pe,be){this.getWorkerSource(ne,pe.type,pe.source).reloadTile(pe,be)},tr.prototype.abortTile=function(ne,pe,be){this.getWorkerSource(ne,pe.type,pe.source).abortTile(pe,be)},tr.prototype.removeTile=function(ne,pe,be){this.getWorkerSource(ne,pe.type,pe.source).removeTile(pe,be)},tr.prototype.removeDEMTile=function(ne,pe){this.getDEMWorkerSource(ne,pe.source).removeTile(pe)},tr.prototype.removeSource=function(ne,pe,be){if(this.workerSources[ne]&&this.workerSources[ne][pe.type]&&this.workerSources[ne][pe.type][pe.source]){var Se=this.workerSources[ne][pe.type][pe.source];delete this.workerSources[ne][pe.type][pe.source],void 0!==Se.removeSource?Se.removeSource(pe,be):be()}},tr.prototype.loadWorkerSource=function(ne,pe,be){try{this.self.importScripts(pe.url),be()}catch(Se){be(Se.toString())}},tr.prototype.syncRTLPluginState=function(ne,pe,be){try{i.plugin.setState(pe);var Se=i.plugin.getPluginURL();if(i.plugin.isLoaded()&&!i.plugin.isParsed()&&null!=Se){this.self.importScripts(Se);var Me=i.plugin.isParsed();be(Me?void 0:new Error("RTL Text Plugin failed to import scripts from "+Se),Me)}}catch(Fe){be(Fe.toString())}},tr.prototype.getAvailableImages=function(ne){var pe=this.availableImages[ne];return pe||(pe=[]),pe},tr.prototype.getLayerIndex=function(ne){var pe=this.layerIndexes[ne];return pe||(pe=this.layerIndexes[ne]=new m),pe},tr.prototype.getWorkerSource=function(ne,pe,be){var Se=this;return this.workerSources[ne]||(this.workerSources[ne]={}),this.workerSources[ne][pe]||(this.workerSources[ne][pe]={}),this.workerSources[ne][pe][be]||(this.workerSources[ne][pe][be]=new this.workerSourceTypes[pe]({send:function(Ie,Fe,Ze){Se.actor.send(Ie,Fe,Ze,ne)}},this.getLayerIndex(ne),this.getAvailableImages(ne))),this.workerSources[ne][pe][be]},tr.prototype.getDEMWorkerSource=function(ne,pe){return this.demWorkerSources[ne]||(this.demWorkerSources[ne]={}),this.demWorkerSources[ne][pe]||(this.demWorkerSources[ne][pe]=new g),this.demWorkerSources[ne][pe]},tr.prototype.enforceCacheSizeLimit=function(ne,pe){i.enforceCacheSizeLimit(pe)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new tr(self)),tr}),y(0,function(i){var P=i.createCommonjsModule(function(ut){function X(Vr){return!ht(Vr)}function ht(Vr){return function $(){return"undefined"!=typeof window&&"undefined"!=typeof document}()?function vt(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}()?function Lt(){return Function.prototype&&Function.prototype.bind}()?function Zt(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}()?function ae(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}()?function we(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var vn,Ln,Vr=new Blob([""],{type:"text/javascript"}),Kr=URL.createObjectURL(Vr);try{Ln=new Worker(Kr),vn=!0}catch(In){vn=!1}return Ln&&Ln.terminate(),URL.revokeObjectURL(Kr),vn}()?function ze(){return"Uint8ClampedArray"in window}()?function Ke(){return ArrayBuffer.isView}()?function ar(){var Vr=document.createElement("canvas");Vr.width=Vr.height=1;var Kr=Vr.getContext("2d");if(!Kr)return!1;var vn=Kr.getImageData(0,0,1,1);return vn&&vn.width===Vr.width}()?function Ir(Vr){return void 0===rr[Vr]&&(rr[Vr]=function Xr(Vr){var Kr=function Zr(Vr){var Kr=document.createElement("canvas"),vn=Object.create(X.webGLContextAttributes);return vn.failIfMajorPerformanceCaveat=Vr,Kr.probablySupportsContext?Kr.probablySupportsContext("webgl",vn)||Kr.probablySupportsContext("experimental-webgl",vn):Kr.supportsContext?Kr.supportsContext("webgl",vn)||Kr.supportsContext("experimental-webgl",vn):Kr.getContext("webgl",vn)||Kr.getContext("experimental-webgl",vn)}(Vr);if(!Kr)return!1;var vn=Kr.createShader(Kr.VERTEX_SHADER);return!(!vn||Kr.isContextLost())&&(Kr.shaderSource(vn,"void main() {}"),Kr.compileShader(vn),!0===Kr.getShaderParameter(vn,Kr.COMPILE_STATUS))}(Vr)),rr[Vr]}(Vr&&Vr.failIfMajorPerformanceCaveat)?void 0:"insufficient WebGL support":"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser"}ut.exports?ut.exports=X:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=X,window.mapboxgl.notSupportedReason=ht);var rr={};X.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),L={create:function(ut,X,ht){var $=i.window.document.createElement(ut);return void 0!==X&&($.className=X),ht&&ht.appendChild($),$},createNS:function(ut,X){return i.window.document.createElementNS(ut,X)}},l=i.window.document&&i.window.document.documentElement.style;function m(ut){if(!l)return ut[0];for(var X=0;X<ut.length;X++)if(ut[X]in l)return ut[X];return ut[0]}var e,r=m(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);L.disableDrag=function(){l&&r&&(e=l[r],l[r]="none")},L.enableDrag=function(){l&&r&&(l[r]=e)};var s=m(["transform","WebkitTransform"]);L.setTransform=function(ut,X){ut.style[s]=X};var a=!1;try{var h=Object.defineProperty({},"passive",{get:function(){a=!0}});i.window.addEventListener("test",h,h),i.window.removeEventListener("test",h,h)}catch(ut){a=!1}L.addEventListener=function(ut,X,ht,$){void 0===$&&($={}),ut.addEventListener(X,ht,"passive"in $&&a?$:$.capture)},L.removeEventListener=function(ut,X,ht,$){void 0===$&&($={}),ut.removeEventListener(X,ht,"passive"in $&&a?$:$.capture)};var f=function(ut){ut.preventDefault(),ut.stopPropagation(),i.window.removeEventListener("click",f,!0)};function g(ut){var X=ut.userImage;return!!(X&&X.render&&X.render())&&(ut.data.replace(new Uint8Array(X.data.buffer)),!0)}L.suppressClick=function(){i.window.addEventListener("click",f,!0),i.window.setTimeout(function(){i.window.removeEventListener("click",f,!0)},0)},L.mousePos=function(ut,X){var ht=ut.getBoundingClientRect();return new i.Point(X.clientX-ht.left-ut.clientLeft,X.clientY-ht.top-ut.clientTop)},L.touchPos=function(ut,X){for(var ht=ut.getBoundingClientRect(),$=[],vt=0;vt<X.length;vt++)$.push(new i.Point(X[vt].clientX-ht.left-ut.clientLeft,X[vt].clientY-ht.top-ut.clientTop));return $},L.mouseButton=function(ut){return void 0!==i.window.InstallTrigger&&2===ut.button&&ut.ctrlKey&&i.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ut.button},L.remove=function(ut){ut.parentNode&&ut.parentNode.removeChild(ut)};var w=function(ut){function X(){ut.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.RGBAImage({width:1,height:1}),this.dirty=!0}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.isLoaded=function(){return this.loaded},X.prototype.setLoaded=function($){if(this.loaded!==$&&(this.loaded=$,$)){for(var vt=0,Lt=this.requestors;vt<Lt.length;vt+=1){var Zt=Lt[vt];this._notify(Zt.ids,Zt.callback)}this.requestors=[]}},X.prototype.getImage=function($){return this.images[$]},X.prototype.addImage=function($,vt){this._validate($,vt)&&(this.images[$]=vt)},X.prototype._validate=function($,vt){var Lt=!0;return this._validateStretch(vt.stretchX,vt.data&&vt.data.width)||(this.fire(new i.ErrorEvent(new Error('Image "'+$+'" has invalid "stretchX" value'))),Lt=!1),this._validateStretch(vt.stretchY,vt.data&&vt.data.height)||(this.fire(new i.ErrorEvent(new Error('Image "'+$+'" has invalid "stretchY" value'))),Lt=!1),this._validateContent(vt.content,vt)||(this.fire(new i.ErrorEvent(new Error('Image "'+$+'" has invalid "content" value'))),Lt=!1),Lt},X.prototype._validateStretch=function($,vt){if(!$)return!0;for(var Lt=0,Zt=0,ae=$;Zt<ae.length;Zt+=1){var we=ae[Zt];if(we[0]<Lt||we[1]<we[0]||vt<we[1])return!1;Lt=we[1]}return!0},X.prototype._validateContent=function($,vt){return!$||!(4!==$.length||$[0]<0||vt.data.width<$[0]||$[1]<0||vt.data.height<$[1]||$[2]<0||vt.data.width<$[2]||$[3]<0||vt.data.height<$[3]||$[2]<$[0]||$[3]<$[1])},X.prototype.updateImage=function($,vt){vt.version=this.images[$].version+1,this.images[$]=vt,this.updatedImages[$]=!0},X.prototype.removeImage=function($){var vt=this.images[$];delete this.images[$],delete this.patterns[$],vt.userImage&&vt.userImage.onRemove&&vt.userImage.onRemove()},X.prototype.listImages=function(){return Object.keys(this.images)},X.prototype.getImages=function($,vt){var Lt=!0;if(!this.isLoaded())for(var Zt=0,ae=$;Zt<ae.length;Zt+=1)this.images[ae[Zt]]||(Lt=!1);this.isLoaded()||Lt?this._notify($,vt):this.requestors.push({ids:$,callback:vt})},X.prototype._notify=function($,vt){for(var Lt={},Zt=0,ae=$;Zt<ae.length;Zt+=1){var we=ae[Zt];this.images[we]||this.fire(new i.Event("styleimagemissing",{id:we}));var ze=this.images[we];ze?Lt[we]={data:ze.data.clone(),pixelRatio:ze.pixelRatio,sdf:ze.sdf,version:ze.version,stretchX:ze.stretchX,stretchY:ze.stretchY,content:ze.content,hasRenderCallback:Boolean(ze.userImage&&ze.userImage.render)}:i.warnOnce('Image "'+we+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}vt(null,Lt)},X.prototype.getPixelSize=function(){var $=this.atlasImage;return{width:$.width,height:$.height}},X.prototype.getPattern=function($){var vt=this.patterns[$],Lt=this.getImage($);if(!Lt)return null;if(vt&&vt.position.version===Lt.version)return vt.position;if(vt)vt.position.version=Lt.version;else{var we={w:Lt.data.width+2,h:Lt.data.height+2,x:0,y:0},ze=new i.ImagePosition(we,Lt);this.patterns[$]={bin:we,position:ze}}return this._updatePatternAtlas(),this.patterns[$].position},X.prototype.bind=function($){var vt=$.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.Texture($,this.atlasImage,vt.RGBA),this.atlasTexture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE)},X.prototype._updatePatternAtlas=function(){var $=[];for(var vt in this.patterns)$.push(this.patterns[vt].bin);var Lt=i.potpack($),Zt=Lt.w,ae=Lt.h,we=this.atlasImage;for(var ze in we.resize({width:Zt||1,height:ae||1}),this.patterns){var ar=this.patterns[ze].bin,rr=ar.x+1,Ir=ar.y+1,Zr=this.images[ze].data,Xr=Zr.width,Vr=Zr.height;i.RGBAImage.copy(Zr,we,{x:0,y:0},{x:rr,y:Ir},{width:Xr,height:Vr}),i.RGBAImage.copy(Zr,we,{x:0,y:Vr-1},{x:rr,y:Ir-1},{width:Xr,height:1}),i.RGBAImage.copy(Zr,we,{x:0,y:0},{x:rr,y:Ir+Vr},{width:Xr,height:1}),i.RGBAImage.copy(Zr,we,{x:Xr-1,y:0},{x:rr-1,y:Ir},{width:1,height:Vr}),i.RGBAImage.copy(Zr,we,{x:0,y:0},{x:rr+Xr,y:Ir},{width:1,height:Vr})}this.dirty=!0},X.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},X.prototype.dispatchRenderCallbacks=function($){for(var vt=0,Lt=$;vt<Lt.length;vt+=1){var Zt=Lt[vt];if(!this.callbackDispatchedThisFrame[Zt]){this.callbackDispatchedThisFrame[Zt]=!0;var ae=this.images[Zt];g(ae)&&this.updateImage(Zt,ae)}}},X}(i.Evented);var o=b,v=b,M=1e20;function b(ut,X,ht,$,vt,Lt){this.fontSize=ut||24,this.buffer=void 0===X?3:X,this.cutoff=$||.25,this.fontFamily=vt||"sans-serif",this.fontWeight=Lt||"normal",this.radius=ht||8;var Zt=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Zt,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Zt*Zt),this.gridInner=new Float64Array(Zt*Zt),this.f=new Float64Array(Zt),this.d=new Float64Array(Zt),this.z=new Float64Array(Zt+1),this.v=new Int16Array(Zt),this.middle=Math.round(Zt/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function E(ut,X,ht,$,vt,Lt,Zt){for(var ae=0;ae<X;ae++){for(var we=0;we<ht;we++)$[we]=ut[we*X+ae];for(x($,vt,Lt,Zt,ht),we=0;we<ht;we++)ut[we*X+ae]=vt[we]}for(we=0;we<ht;we++){for(ae=0;ae<X;ae++)$[ae]=ut[we*X+ae];for(x($,vt,Lt,Zt,X),ae=0;ae<X;ae++)ut[we*X+ae]=Math.sqrt(vt[ae])}}function x(ut,X,ht,$,vt){ht[0]=0,$[0]=-M,$[1]=+M;for(var Lt=1,Zt=0;Lt<vt;Lt++){for(var ae=(ut[Lt]+Lt*Lt-(ut[ht[Zt]]+ht[Zt]*ht[Zt]))/(2*Lt-2*ht[Zt]);ae<=$[Zt];)Zt--,ae=(ut[Lt]+Lt*Lt-(ut[ht[Zt]]+ht[Zt]*ht[Zt]))/(2*Lt-2*ht[Zt]);ht[++Zt]=Lt,$[Zt]=ae,$[Zt+1]=+M}for(Lt=0,Zt=0;Lt<vt;Lt++){for(;$[Zt+1]<Lt;)Zt++;X[Lt]=(Lt-ht[Zt])*(Lt-ht[Zt])+ut[ht[Zt]]}}b.prototype.draw=function(ut){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ut,this.buffer,this.middle);for(var X=this.ctx.getImageData(0,0,this.size,this.size),ht=new Uint8ClampedArray(this.size*this.size),$=0;$<this.size*this.size;$++){var vt=X.data[4*$+3]/255;this.gridOuter[$]=1===vt?0:0===vt?M:Math.pow(Math.max(0,.5-vt),2),this.gridInner[$]=1===vt?M:0===vt?0:Math.pow(Math.max(0,vt-.5),2)}for(E(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),E(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),$=0;$<this.size*this.size;$++)ht[$]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[$]-this.gridInner[$])/this.radius+this.cutoff))));return ht},o.default=v;var S=function(X,ht){this.requestManager=X,this.localIdeographFontFamily=ht,this.entries={}};S.prototype.setURL=function(X){this.url=X},S.prototype.getGlyphs=function(X,ht){var $=this,vt=[];for(var Lt in X)for(var Zt=0,ae=X[Lt];Zt<ae.length;Zt+=1)vt.push({stack:Lt,id:ae[Zt]});i.asyncAll(vt,function(ze,Ke){var ar=ze.stack,rr=ze.id,Ir=$.entries[ar];Ir||(Ir=$.entries[ar]={glyphs:{},requests:{},ranges:{}});var Zr=Ir.glyphs[rr];if(void 0===Zr){if(Zr=$._tinySDF(Ir,ar,rr))return Ir.glyphs[rr]=Zr,void Ke(null,{stack:ar,id:rr,glyph:Zr});var Xr=Math.floor(rr/256);if(256*Xr>65535)Ke(new Error("glyphs > 65535 not supported"));else if(Ir.ranges[Xr])Ke(null,{stack:ar,id:rr,glyph:Zr});else{var Vr=Ir.requests[Xr];Vr||(Vr=Ir.requests[Xr]=[],S.loadGlyphRange(ar,Xr,$.url,$.requestManager,function(Kr,vn){if(vn){for(var Ln in vn)$._doesCharSupportLocalGlyph(+Ln)||(Ir.glyphs[+Ln]=vn[+Ln]);Ir.ranges[Xr]=!0}for(var In=0,Nn=Vr;In<Nn.length;In+=1)(0,Nn[In])(Kr,vn);delete Ir.requests[Xr]})),Vr.push(function(Kr,vn){Kr?Ke(Kr):vn&&Ke(null,{stack:ar,id:rr,glyph:vn[rr]||null})})}}else Ke(null,{stack:ar,id:rr,glyph:Zr})},function(ze,Ke){if(ze)ht(ze);else if(Ke){for(var ar={},rr=0,Ir=Ke;rr<Ir.length;rr+=1){var Zr=Ir[rr],Xr=Zr.stack,Vr=Zr.id,Kr=Zr.glyph;(ar[Xr]||(ar[Xr]={}))[Vr]=Kr&&{id:Kr.id,bitmap:Kr.bitmap.clone(),metrics:Kr.metrics}}ht(null,ar)}})},S.prototype._doesCharSupportLocalGlyph=function(X){return!!this.localIdeographFontFamily&&(i.isChar["CJK Unified Ideographs"](X)||i.isChar["Hangul Syllables"](X)||i.isChar.Hiragana(X)||i.isChar.Katakana(X))},S.prototype._tinySDF=function(X,ht,$){var vt=this.localIdeographFontFamily;if(vt&&this._doesCharSupportLocalGlyph($)){var Lt=X.tinySDF;if(!Lt){var Zt="400";/bold/i.test(ht)?Zt="900":/medium/i.test(ht)?Zt="500":/light/i.test(ht)&&(Zt="200"),Lt=X.tinySDF=new S.TinySDF(24,3,8,.25,vt,Zt)}return{id:$,bitmap:new i.AlphaImage({width:30,height:30},Lt.draw(String.fromCharCode($))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},S.loadGlyphRange=function d(ut,X,ht,$,vt){var Lt=256*X,Zt=Lt+255,ae=$.transformRequest($.normalizeGlyphsURL(ht).replace("{fontstack}",ut).replace("{range}",Lt+"-"+Zt),i.ResourceType.Glyphs);i.getArrayBuffer(ae,function(we,ze){if(we)vt(we);else if(ze){for(var Ke={},ar=0,rr=i.parseGlyphPBF(ze);ar<rr.length;ar+=1){var Ir=rr[ar];Ke[Ir.id]=Ir}vt(null,Ke)}})},S.TinySDF=o;var T=function(){this.specification=i.styleSpec.light.position};T.prototype.possiblyEvaluate=function(X,ht){return i.sphericalToCartesian(X.expression.evaluate(ht))},T.prototype.interpolate=function(X,ht,$){return{x:i.number(X.x,ht.x,$),y:i.number(X.y,ht.y,$),z:i.number(X.z,ht.z,$)}};var n=new i.Properties({anchor:new i.DataConstantProperty(i.styleSpec.light.anchor),position:new T,color:new i.DataConstantProperty(i.styleSpec.light.color),intensity:new i.DataConstantProperty(i.styleSpec.light.intensity)}),C="-transition",p=function(ut){function X(ht){ut.call(this),this._transitionable=new i.Transitionable(n),this.setLight(ht),this._transitioning=this._transitionable.untransitioned()}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getLight=function(){return this._transitionable.serialize()},X.prototype.setLight=function($,vt){if(void 0===vt&&(vt={}),!this._validate(i.validateLight,$,vt))for(var Lt in $){var Zt=$[Lt];i.endsWith(Lt,C)?this._transitionable.setTransition(Lt.slice(0,-C.length),Zt):this._transitionable.setValue(Lt,Zt)}},X.prototype.updateTransitions=function($){this._transitioning=this._transitionable.transitioned($,this._transitioning)},X.prototype.hasTransition=function(){return this._transitioning.hasTransition()},X.prototype.recalculate=function($){this.properties=this._transitioning.possiblyEvaluate($)},X.prototype._validate=function($,vt,Lt){return(!Lt||!1!==Lt.validate)&&i.emitValidationErrors(this,$.call(i.validateStyle,i.extend({value:vt,style:{glyphs:!0,sprite:!0},styleSpec:i.styleSpec})))},X}(i.Evented),F=function(X,ht){this.width=X,this.height=ht,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};F.prototype.getDash=function(X,ht){var $=X.join(",")+String(ht);return this.dashEntry[$]||(this.dashEntry[$]=this.addDash(X,ht)),this.dashEntry[$]},F.prototype.getDashRanges=function(X,ht,$){var Lt=[],Zt=X.length%2==1?-X[X.length-1]*$:0,ae=X[0]*$,we=!0;Lt.push({left:Zt,right:ae,isDash:we,zeroLength:0===X[0]});for(var ze=X[0],Ke=1;Ke<X.length;Ke++){var ar=X[Ke];Lt.push({left:Zt=ze*$,right:ae=(ze+=ar)*$,isDash:we=!we,zeroLength:0===ar})}return Lt},F.prototype.addRoundDash=function(X,ht,$){for(var vt=ht/2,Lt=-$;Lt<=$;Lt++)for(var ae=this.width*(this.nextRow+$+Lt),we=0,ze=X[we],Ke=0;Ke<this.width;Ke++){Ke/ze.right>1&&(ze=X[++we]);var ar=Math.abs(Ke-ze.left),rr=Math.abs(Ke-ze.right),Ir=Math.min(ar,rr),Zr=void 0,Xr=Lt/$*(vt+1);if(ze.isDash){var Vr=vt-Math.abs(Xr);Zr=Math.sqrt(Ir*Ir+Vr*Vr)}else Zr=vt-Math.sqrt(Ir*Ir+Xr*Xr);this.data[ae+Ke]=Math.max(0,Math.min(255,Zr+128))}},F.prototype.addRegularDash=function(X){for(var ht=X.length-1;ht>=0;--ht){var $=X[ht],vt=X[ht+1];$.zeroLength?X.splice(ht,1):vt&&vt.isDash===$.isDash&&(vt.left=$.left,X.splice(ht,1))}var Lt=X[0],Zt=X[X.length-1];Lt.isDash===Zt.isDash&&(Lt.left=Zt.left-this.width,Zt.right=Lt.right+this.width);for(var ae=this.width*this.nextRow,we=0,ze=X[we],Ke=0;Ke<this.width;Ke++){Ke/ze.right>1&&(ze=X[++we]);var ar=Math.abs(Ke-ze.left),rr=Math.abs(Ke-ze.right),Ir=Math.min(ar,rr);this.data[ae+Ke]=Math.max(0,Math.min(255,(ze.isDash?Ir:-Ir)+128))}},F.prototype.addDash=function(X,ht){var $=ht?7:0,vt=2*$+1;if(this.nextRow+vt>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var Lt=0,Zt=0;Zt<X.length;Zt++)Lt+=X[Zt];if(0!==Lt){var ae=this.width/Lt,we=this.getDashRanges(X,this.width,ae);ht?this.addRoundDash(we,ae,$):this.addRegularDash(we)}var ze={y:(this.nextRow+$+.5)/this.height,height:2*$/this.height,width:Lt};return this.nextRow+=vt,this.dirty=!0,ze},F.prototype.bind=function(X){var ht=X.gl;this.texture?(ht.bindTexture(ht.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ht.texSubImage2D(ht.TEXTURE_2D,0,0,0,this.width,this.height,ht.ALPHA,ht.UNSIGNED_BYTE,this.data))):(this.texture=ht.createTexture(),ht.bindTexture(ht.TEXTURE_2D,this.texture),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_WRAP_S,ht.REPEAT),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_WRAP_T,ht.REPEAT),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_MIN_FILTER,ht.LINEAR),ht.texParameteri(ht.TEXTURE_2D,ht.TEXTURE_MAG_FILTER,ht.LINEAR),ht.texImage2D(ht.TEXTURE_2D,0,ht.ALPHA,this.width,this.height,0,ht.ALPHA,ht.UNSIGNED_BYTE,this.data))};var D=function ut(X,ht){this.workerPool=X,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var $=this.workerPool.acquire(this.id),vt=0;vt<$.length;vt++){var Zt=new ut.Actor($[vt],ht,this.id);Zt.name="Worker "+vt,this.actors.push(Zt)}};function N(ut,X,ht){var $=function(vt,Lt){if(vt)return ht(vt);if(Lt){var Zt=i.pick(i.extend(Lt,ut),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Lt.vector_layers&&(Zt.vectorLayers=Lt.vector_layers,Zt.vectorLayerIds=Zt.vectorLayers.map(function(ae){return ae.id})),Zt.tiles=X.canonicalizeTileset(Zt,ut.url),ht(null,Zt)}};return ut.url?i.getJSON(X.transformRequest(X.normalizeSourceURL(ut.url),i.ResourceType.Source),$):i.browser.frame(function(){return $(null,ut)})}D.prototype.broadcast=function(X,ht,$){i.asyncAll(this.actors,function(vt,Lt){vt.send(X,ht,Lt)},$=$||function(){})},D.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},D.prototype.remove=function(){this.actors.forEach(function(X){X.remove()}),this.actors=[],this.workerPool.release(this.id)},D.Actor=i.Actor;var k=function(X,ht,$){this.bounds=i.LngLatBounds.convert(this.validateBounds(X)),this.minzoom=ht||0,this.maxzoom=$||24};k.prototype.validateBounds=function(X){return Array.isArray(X)&&4===X.length?[Math.max(-180,X[0]),Math.max(-90,X[1]),Math.min(180,X[2]),Math.min(90,X[3])]:[-180,-90,180,90]},k.prototype.contains=function(X){var ht=Math.pow(2,X.z),$_minX=Math.floor(i.mercatorXfromLng(this.bounds.getWest())*ht),$_minY=Math.floor(i.mercatorYfromLat(this.bounds.getNorth())*ht),$_maxX=Math.ceil(i.mercatorXfromLng(this.bounds.getEast())*ht),$_maxY=Math.ceil(i.mercatorYfromLat(this.bounds.getSouth())*ht);return X.x>=$_minX&&X.x<$_maxX&&X.y>=$_minY&&X.y<$_maxY};var z=function(ut){function X(ht,$,vt,Lt){if(ut.call(this),this.id=ht,this.dispatcher=vt,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.extend(this,i.pick($,["url","scheme","tileSize","promoteId"])),this._options=i.extend({type:"vector"},$),this._collectResourceTiming=$.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Lt)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.load=function(){var $=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(vt,Lt){$._tileJSONRequest=null,$._loaded=!0,vt?$.fire(new i.ErrorEvent(vt)):Lt&&(i.extend($,Lt),Lt.bounds&&($.tileBounds=new k(Lt.bounds,$.minzoom,$.maxzoom)),i.postTurnstileEvent(Lt.tiles,$.map._requestManager._customAccessToken),i.postMapLoadEvent(Lt.tiles,$.map._getMapId(),$.map._requestManager._skuToken,$.map._requestManager._customAccessToken),$.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),$.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.hasTile=function($){return!this.tileBounds||this.tileBounds.contains($.canonical)},X.prototype.onAdd=function($){this.map=$,this.load()},X.prototype.setSourceProperty=function($){this._tileJSONRequest&&this._tileJSONRequest.cancel(),$(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},X.prototype.setTiles=function($){var vt=this;return this.setSourceProperty(function(){vt._options.tiles=$}),this},X.prototype.setUrl=function($){var vt=this;return this.setSourceProperty(function(){vt.url=$,vt._options.url=$}),this},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return i.extend({},this._options)},X.prototype.loadTile=function($,vt){var Lt=this.map._requestManager.normalizeTileURL($.tileID.canonical.url(this.tiles,this.scheme)),Zt={request:this.map._requestManager.transformRequest(Lt,i.ResourceType.Tile),uid:$.uid,tileID:$.tileID,zoom:$.tileID.overscaledZ,tileSize:this.tileSize*$.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function ae(we,ze){return delete $.request,$.aborted?vt(null):we&&404!==we.status?vt(we):(ze&&ze.resourceTiming&&($.resourceTiming=ze.resourceTiming),this.map._refreshExpiredTiles&&ze&&$.setExpiryData(ze),$.loadVectorData(ze,this.map.painter),i.cacheEntryPossiblyAdded(this.dispatcher),vt(null),void($.reloadCallback&&(this.loadTile($,$.reloadCallback),$.reloadCallback=null)))}Zt.request.collectResourceTiming=this._collectResourceTiming,$.actor&&"expired"!==$.state?"loading"===$.state?$.reloadCallback=vt:$.request=$.actor.send("reloadTile",Zt,ae.bind(this)):($.actor=this.dispatcher.getActor(),$.request=$.actor.send("loadTile",Zt,ae.bind(this)))},X.prototype.abortTile=function($){$.request&&($.request.cancel(),delete $.request),$.actor&&$.actor.send("abortTile",{uid:$.uid,type:this.type,source:this.id},void 0)},X.prototype.unloadTile=function($){$.unloadVectorData(),$.actor&&$.actor.send("removeTile",{uid:$.uid,type:this.type,source:this.id},void 0)},X.prototype.hasTransition=function(){return!1},X}(i.Evented),B=function(ut){function X(ht,$,vt,Lt){ut.call(this),this.id=ht,this.dispatcher=vt,this.setEventedParent(Lt),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({type:"raster"},$),i.extend(this,i.pick($,["url","scheme","tileSize"]))}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.load=function(){var $=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(vt,Lt){$._tileJSONRequest=null,$._loaded=!0,vt?$.fire(new i.ErrorEvent(vt)):Lt&&(i.extend($,Lt),Lt.bounds&&($.tileBounds=new k(Lt.bounds,$.minzoom,$.maxzoom)),i.postTurnstileEvent(Lt.tiles),i.postMapLoadEvent(Lt.tiles,$.map._getMapId(),$.map._requestManager._skuToken),$.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),$.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.onAdd=function($){this.map=$,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return i.extend({},this._options)},X.prototype.hasTile=function($){return!this.tileBounds||this.tileBounds.contains($.canonical)},X.prototype.loadTile=function($,vt){var Lt=this,Zt=this.map._requestManager.normalizeTileURL($.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);$.request=i.getImage(this.map._requestManager.transformRequest(Zt,i.ResourceType.Tile),function(ae,we){if(delete $.request,$.aborted)$.state="unloaded",vt(null);else if(ae)$.state="errored",vt(ae);else if(we){Lt.map._refreshExpiredTiles&&$.setExpiryData(we),delete we.cacheControl,delete we.expires;var ze=Lt.map.painter.context,Ke=ze.gl;$.texture=Lt.map.painter.getTileTexture(we.width),$.texture?$.texture.update(we,{useMipmap:!0}):($.texture=new i.Texture(ze,we,Ke.RGBA,{useMipmap:!0}),$.texture.bind(Ke.LINEAR,Ke.CLAMP_TO_EDGE,Ke.LINEAR_MIPMAP_NEAREST),ze.extTextureFilterAnisotropic&&Ke.texParameterf(Ke.TEXTURE_2D,ze.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ze.extTextureFilterAnisotropicMax)),$.state="loaded",i.cacheEntryPossiblyAdded(Lt.dispatcher),vt(null)}})},X.prototype.abortTile=function($,vt){$.request&&($.request.cancel(),delete $.request),vt()},X.prototype.unloadTile=function($,vt){$.texture&&this.map.painter.saveTileTexture($.texture),vt()},X.prototype.hasTransition=function(){return!1},X}(i.Evented),O=function(ut){function X(ht,$,vt,Lt){ut.call(this,ht,$,vt,Lt),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({type:"raster-dem"},$),this.encoding=$.encoding||"mapbox"}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},X.prototype.loadTile=function($,vt){var Lt=this.map._requestManager.normalizeTileURL($.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function ae(we,ze){we&&($.state="errored",vt(we)),ze&&($.dem=ze,$.needsHillshadePrepare=!0,$.state="loaded",vt(null))}$.request=i.getImage(this.map._requestManager.transformRequest(Lt,i.ResourceType.Tile),function Zt(we,ze){if(delete $.request,$.aborted)$.state="unloaded",vt(null);else if(we)$.state="errored",vt(we);else if(ze){this.map._refreshExpiredTiles&&$.setExpiryData(ze),delete ze.cacheControl,delete ze.expires;var ar=i.window.ImageBitmap&&ze instanceof i.window.ImageBitmap&&i.offscreenCanvasSupported()?ze:i.browser.getImageData(ze,1),rr={uid:$.uid,coord:$.tileID,source:this.id,rawImageData:ar,encoding:this.encoding};(!$.actor||"expired"===$.state)&&($.actor=this.dispatcher.getActor(),$.actor.send("loadDEMTile",rr,ae.bind(this)))}}.bind(this)),$.neighboringTiles=this._getNeighboringTiles($.tileID)},X.prototype._getNeighboringTiles=function($){var vt=$.canonical,Lt=Math.pow(2,vt.z),Zt=(vt.x-1+Lt)%Lt,ae=0===vt.x?$.wrap-1:$.wrap,we=(vt.x+1+Lt)%Lt,ze=vt.x+1===Lt?$.wrap+1:$.wrap,Ke={};return Ke[new i.OverscaledTileID($.overscaledZ,ae,vt.z,Zt,vt.y).key]={backfilled:!1},Ke[new i.OverscaledTileID($.overscaledZ,ze,vt.z,we,vt.y).key]={backfilled:!1},vt.y>0&&(Ke[new i.OverscaledTileID($.overscaledZ,ae,vt.z,Zt,vt.y-1).key]={backfilled:!1},Ke[new i.OverscaledTileID($.overscaledZ,$.wrap,vt.z,vt.x,vt.y-1).key]={backfilled:!1},Ke[new i.OverscaledTileID($.overscaledZ,ze,vt.z,we,vt.y-1).key]={backfilled:!1}),vt.y+1<Lt&&(Ke[new i.OverscaledTileID($.overscaledZ,ae,vt.z,Zt,vt.y+1).key]={backfilled:!1},Ke[new i.OverscaledTileID($.overscaledZ,$.wrap,vt.z,vt.x,vt.y+1).key]={backfilled:!1},Ke[new i.OverscaledTileID($.overscaledZ,ze,vt.z,we,vt.y+1).key]={backfilled:!1}),Ke},X.prototype.unloadTile=function($){$.demTexture&&this.map.painter.saveTileTexture($.demTexture),$.fbo&&($.fbo.destroy(),delete $.fbo),$.dem&&delete $.dem,delete $.neighboringTiles,$.state="unloaded",$.actor&&$.actor.send("removeDEMTile",{uid:$.uid,source:this.id})},X}(B),U=function(ut){function X(ht,$,vt,Lt){ut.call(this),this.id=ht,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=vt.getActor(),this.setEventedParent(Lt),this._data=$.data,this._options=i.extend({},$),this._collectResourceTiming=$.collectResourceTiming,this._resourceTiming=[],void 0!==$.maxzoom&&(this.maxzoom=$.maxzoom),$.type&&(this.type=$.type),$.attribution&&(this.attribution=$.attribution),this.promoteId=$.promoteId;var Zt=i.EXTENT/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:$.cluster||!1,geojsonVtOptions:{buffer:(void 0!==$.buffer?$.buffer:128)*Zt,tolerance:(void 0!==$.tolerance?$.tolerance:.375)*Zt,extent:i.EXTENT,maxZoom:this.maxzoom,lineMetrics:$.lineMetrics||!1,generateId:$.generateId||!1},superclusterOptions:{maxZoom:void 0!==$.clusterMaxZoom?Math.min($.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,$.clusterMinPoints||2),extent:i.EXTENT,radius:($.clusterRadius||50)*Zt,log:!1,generateId:$.generateId||!1},clusterProperties:$.clusterProperties,filter:$.filter},$.workerOptions)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.load=function(){var $=this;this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(vt){if(vt)$.fire(new i.ErrorEvent(vt));else{var Lt={dataType:"source",sourceDataType:"metadata"};$._collectResourceTiming&&$._resourceTiming&&$._resourceTiming.length>0&&(Lt.resourceTiming=$._resourceTiming,$._resourceTiming=[]),$.fire(new i.Event("data",Lt))}})},X.prototype.onAdd=function($){this.map=$,this.load()},X.prototype.setData=function($){var vt=this;return this._data=$,this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Lt){if(Lt)vt.fire(new i.ErrorEvent(Lt));else{var Zt={dataType:"source",sourceDataType:"content"};vt._collectResourceTiming&&vt._resourceTiming&&vt._resourceTiming.length>0&&(Zt.resourceTiming=vt._resourceTiming,vt._resourceTiming=[]),vt.fire(new i.Event("data",Zt))}}),this},X.prototype.getClusterExpansionZoom=function($,vt){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:$,source:this.id},vt),this},X.prototype.getClusterChildren=function($,vt){return this.actor.send("geojson.getClusterChildren",{clusterId:$,source:this.id},vt),this},X.prototype.getClusterLeaves=function($,vt,Lt,Zt){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:$,limit:vt,offset:Lt},Zt),this},X.prototype._updateWorkerData=function($){var vt=this;this._loaded=!1;var Lt=i.extend({},this.workerOptions),Zt=this._data;"string"==typeof Zt?(Lt.request=this.map._requestManager.transformRequest(i.browser.resolveURL(Zt),i.ResourceType.Source),Lt.request.collectResourceTiming=this._collectResourceTiming):Lt.data=JSON.stringify(Zt),this.actor.send(this.type+".loadData",Lt,function(ae,we){vt._removed||we&&we.abandoned||(vt._loaded=!0,we&&we.resourceTiming&&we.resourceTiming[vt.id]&&(vt._resourceTiming=we.resourceTiming[vt.id].slice(0)),vt.actor.send(vt.type+".coalesce",{source:Lt.source},null),$(ae))})},X.prototype.loaded=function(){return this._loaded},X.prototype.loadTile=function($,vt){var Lt=this,Zt=$.actor?"reloadTile":"loadTile";$.actor=this.actor,$.request=this.actor.send(Zt,{type:this.type,uid:$.uid,tileID:$.tileID,zoom:$.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(we,ze){return delete $.request,$.unloadVectorData(),$.aborted?vt(null):we?vt(we):($.loadVectorData(ze,Lt.map.painter,"reloadTile"===Zt),vt(null))})},X.prototype.abortTile=function($){$.request&&($.request.cancel(),delete $.request),$.aborted=!0},X.prototype.unloadTile=function($){$.unloadVectorData(),this.actor.send("removeTile",{uid:$.uid,type:this.type,source:this.id})},X.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},X.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},X.prototype.hasTransition=function(){return!1},X}(i.Evented),G=i.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),J=function(ut){function X(ht,$,vt,Lt){ut.call(this),this.id=ht,this.dispatcher=vt,this.coordinates=$.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Lt),this.options=$}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.load=function($,vt){var Lt=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this.url=this.options.url,i.getImage(this.map._requestManager.transformRequest(this.url,i.ResourceType.Image),function(Zt,ae){Lt._loaded=!0,Zt?Lt.fire(new i.ErrorEvent(Zt)):ae&&(Lt.image=ae,$&&(Lt.coordinates=$),vt&&vt(),Lt._finishLoading())})},X.prototype.loaded=function(){return this._loaded},X.prototype.updateImage=function($){var vt=this;return this.image&&$.url?(this.options.url=$.url,this.load($.coordinates,function(){vt.texture=null}),this):this},X.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})))},X.prototype.onAdd=function($){this.map=$,this.load()},X.prototype.setCoordinates=function($){var vt=this;this.coordinates=$;var Lt=$.map(i.MercatorCoordinate.fromLngLat);this.tileID=function et(ut){for(var X=1/0,ht=1/0,$=-1/0,vt=-1/0,Lt=0,Zt=ut;Lt<Zt.length;Lt+=1){var ae=Zt[Lt];X=Math.min(X,ae.x),ht=Math.min(ht,ae.y),$=Math.max($,ae.x),vt=Math.max(vt,ae.y)}var Ke=Math.max($-X,vt-ht),ar=Math.max(0,Math.floor(-Math.log(Ke)/Math.LN2)),rr=Math.pow(2,ar);return new i.CanonicalTileID(ar,Math.floor((X+$)/2*rr),Math.floor((ht+vt)/2*rr))}(Lt),this.minzoom=this.maxzoom=this.tileID.z;var Zt=Lt.map(function(ae){return vt.tileID.getTilePoint(ae)._round()});return this._boundsArray=new i.StructArrayLayout4i8,this._boundsArray.emplaceBack(Zt[0].x,Zt[0].y,0,0),this._boundsArray.emplaceBack(Zt[1].x,Zt[1].y,i.EXTENT,0),this._boundsArray.emplaceBack(Zt[3].x,Zt[3].y,0,i.EXTENT),this._boundsArray.emplaceBack(Zt[2].x,Zt[2].y,i.EXTENT,i.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})),this},X.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var $=this.map.painter.context,vt=$.gl;for(var Lt in this.boundsBuffer||(this.boundsBuffer=$.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new i.Texture($,this.image,vt.RGBA),this.texture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE)),this.tiles){var Zt=this.tiles[Lt];"loaded"!==Zt.state&&(Zt.state="loaded",Zt.texture=this.texture)}}},X.prototype.loadTile=function($,vt){this.tileID&&this.tileID.equals($.tileID.canonical)?(this.tiles[String($.tileID.wrap)]=$,$.buckets={},vt(null)):($.state="errored",vt(null))},X.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return!1},X}(i.Evented);var at=function(ut){function X(ht,$,vt,Lt){ut.call(this,ht,$,vt,Lt),this.roundZoom=!0,this.type="video",this.options=$}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.load=function(){var $=this;this._loaded=!1;var vt=this.options;this.urls=[];for(var Lt=0,Zt=vt.urls;Lt<Zt.length;Lt+=1)this.urls.push(this.map._requestManager.transformRequest(Zt[Lt],i.ResourceType.Source).url);i.getVideo(this.urls,function(we,ze){$._loaded=!0,we?$.fire(new i.ErrorEvent(we)):ze&&($.video=ze,$.video.loop=!0,$.video.addEventListener("playing",function(){$.map.triggerRepaint()}),$.map&&$.video.play(),$._finishLoading())})},X.prototype.pause=function(){this.video&&this.video.pause()},X.prototype.play=function(){this.video&&this.video.play()},X.prototype.seek=function($){if(this.video){var vt=this.video.seekable;$<vt.start(0)||$>vt.end(0)?this.fire(new i.ErrorEvent(new i.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+vt.start(0)+" and "+vt.end(0)+"-second mark."))):this.video.currentTime=$}},X.prototype.getVideo=function(){return this.video},X.prototype.onAdd=function($){this.map||(this.map=$,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},X.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var $=this.map.painter.context,vt=$.gl;for(var Lt in this.boundsBuffer||(this.boundsBuffer=$.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE),vt.texSubImage2D(vt.TEXTURE_2D,0,0,0,vt.RGBA,vt.UNSIGNED_BYTE,this.video)):(this.texture=new i.Texture($,this.video,vt.RGBA),this.texture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE)),this.tiles){var Zt=this.tiles[Lt];"loaded"!==Zt.state&&(Zt.state="loaded",Zt.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this.video&&!this.video.paused},X}(J),lt=function(ut){function X(ht,$,vt,Lt){ut.call(this,ht,$,vt,Lt),$.coordinates?(!Array.isArray($.coordinates)||4!==$.coordinates.length||$.coordinates.some(function(Zt){return!Array.isArray(Zt)||2!==Zt.length||Zt.some(function(ae){return"number"!=typeof ae})}))&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ht,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ht,null,'missing required property "coordinates"'))),$.animate&&"boolean"!=typeof $.animate&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ht,null,'optional "animate" property must be a boolean value'))),$.canvas?"string"!=typeof $.canvas&&!($.canvas instanceof i.window.HTMLCanvasElement)&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ht,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ht,null,'missing required property "canvas"'))),this.options=$,this.animate=void 0===$.animate||$.animate}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof i.window.HTMLCanvasElement?this.options.canvas:i.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new i.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},X.prototype.getCanvas=function(){return this.canvas},X.prototype.onAdd=function($){this.map=$,this.load(),this.canvas&&this.animate&&this.play()},X.prototype.onRemove=function(){this.pause()},X.prototype.prepare=function(){var $=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,$=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,$=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var vt=this.map.painter.context,Lt=vt.gl;for(var Zt in this.boundsBuffer||(this.boundsBuffer=vt.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?($||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.Texture(vt,this.canvas,Lt.RGBA,{premultiply:!0}),this.tiles){var ae=this.tiles[Zt];"loaded"!==ae.state&&(ae.state="loaded",ae.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this._playing},X.prototype._hasInvalidDimensions=function(){for(var $=0,vt=[this.canvas.width,this.canvas.height];$<vt.length;$+=1){var Lt=vt[$];if(isNaN(Lt)||Lt<=0)return!0}return!1},X}(J),K={vector:z,raster:B,"raster-dem":O,geojson:U,video:at,image:J,canvas:lt};function Z(ut,X){var ht=i.identity([]);return i.translate(ht,ht,[1,1,0]),i.scale(ht,ht,[.5*ut.width,.5*ut.height,1]),i.multiply(ht,ht,ut.calculatePosMatrix(X.toUnwrapped()))}function Q(ut,X,ht,$,vt,Lt){var Zt=function it(ut,X,ht){if(ut)for(var $=0,vt=ut;$<vt.length;$+=1){var Zt=X[vt[$]];if(Zt&&Zt.source===ht&&"fill-extrusion"===Zt.type)return!0}else for(var ae in X){var we=X[ae];if(we.source===ht&&"fill-extrusion"===we.type)return!0}return!1}(vt&&vt.layers,X,ut.id),ae=Lt.maxPitchScaleFactor(),we=ut.tilesIn($,ae,Zt);we.sort(_);for(var ze=[],Ke=0,ar=we;Ke<ar.length;Ke+=1){var rr=ar[Ke];ze.push({wrappedTileID:rr.tileID.wrapped().key,queryResults:rr.tile.queryRenderedFeatures(X,ht,ut._state,rr.queryGeometry,rr.cameraQueryGeometry,rr.scale,vt,Lt,ae,Z(ut.transform,rr.tileID))})}var Ir=function st(ut){for(var X={},ht={},$=0,vt=ut;$<vt.length;$+=1){var Lt=vt[$],Zt=Lt.queryResults,ae=Lt.wrappedTileID,we=ht[ae]=ht[ae]||{};for(var ze in Zt)for(var Ke=Zt[ze],ar=we[ze]=we[ze]||{},rr=X[ze]=X[ze]||[],Ir=0,Zr=Ke;Ir<Zr.length;Ir+=1){var Xr=Zr[Ir];ar[Xr.featureIndex]||(ar[Xr.featureIndex]=!0,rr.push(Xr))}}return X}(ze);for(var Zr in Ir)Ir[Zr].forEach(function(Xr){var Vr=Xr.feature,Kr=ut.getFeatureState(Vr.layer["source-layer"],Vr.id);Vr.source=Vr.layer.source,Vr.layer["source-layer"]&&(Vr.sourceLayer=Vr.layer["source-layer"]),Vr.state=Kr});return Ir}function _(ut,X){var ht=ut.tileID,$=X.tileID;return ht.overscaledZ-$.overscaledZ||ht.canonical.y-$.canonical.y||ht.wrap-$.wrap||ht.canonical.x-$.canonical.x}var dt=function(X,ht){this.max=X,this.onRemove=ht,this.reset()};dt.prototype.reset=function(){for(var X in this.data)for(var ht=0,$=this.data[X];ht<$.length;ht+=1){var vt=$[ht];vt.timeout&&clearTimeout(vt.timeout),this.onRemove(vt.value)}return this.data={},this.order=[],this},dt.prototype.add=function(X,ht,$){var vt=this,Lt=X.wrapped().key;void 0===this.data[Lt]&&(this.data[Lt]=[]);var Zt={value:ht,timeout:void 0};if(void 0!==$&&(Zt.timeout=setTimeout(function(){vt.remove(X,Zt)},$)),this.data[Lt].push(Zt),this.order.push(Lt),this.order.length>this.max){var ae=this._getAndRemoveByKey(this.order[0]);ae&&this.onRemove(ae)}return this},dt.prototype.has=function(X){return X.wrapped().key in this.data},dt.prototype.getAndRemove=function(X){return this.has(X)?this._getAndRemoveByKey(X.wrapped().key):null},dt.prototype._getAndRemoveByKey=function(X){var ht=this.data[X].shift();return ht.timeout&&clearTimeout(ht.timeout),0===this.data[X].length&&delete this.data[X],this.order.splice(this.order.indexOf(X),1),ht.value},dt.prototype.getByKey=function(X){var ht=this.data[X];return ht?ht[0].value:null},dt.prototype.get=function(X){return this.has(X)?this.data[X.wrapped().key][0].value:null},dt.prototype.remove=function(X,ht){if(!this.has(X))return this;var $=X.wrapped().key,vt=void 0===ht?0:this.data[$].indexOf(ht),Lt=this.data[$][vt];return this.data[$].splice(vt,1),Lt.timeout&&clearTimeout(Lt.timeout),0===this.data[$].length&&delete this.data[$],this.onRemove(Lt.value),this.order.splice(this.order.indexOf($),1),this},dt.prototype.setMaxSize=function(X){for(this.max=X;this.order.length>this.max;){var ht=this._getAndRemoveByKey(this.order[0]);ht&&this.onRemove(ht)}return this},dt.prototype.filter=function(X){var ht=[];for(var $ in this.data)for(var vt=0,Lt=this.data[$];vt<Lt.length;vt+=1){var Zt=Lt[vt];X(Zt.value)||ht.push(Zt)}for(var ae=0,we=ht;ae<we.length;ae+=1){var ze=we[ae];this.remove(ze.value.tileID,ze)}};var xt=function(X,ht,$){this.context=X;var vt=X.gl;this.buffer=vt.createBuffer(),this.dynamicDraw=Boolean($),this.context.unbindVAO(),X.bindElementBuffer.set(this.buffer),vt.bufferData(vt.ELEMENT_ARRAY_BUFFER,ht.arrayBuffer,this.dynamicDraw?vt.DYNAMIC_DRAW:vt.STATIC_DRAW),this.dynamicDraw||delete ht.arrayBuffer};xt.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},xt.prototype.updateData=function(X){var ht=this.context.gl;this.context.unbindVAO(),this.bind(),ht.bufferSubData(ht.ELEMENT_ARRAY_BUFFER,0,X.arrayBuffer)},xt.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var yt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},St=function(X,ht,$,vt){this.length=ht.length,this.attributes=$,this.itemSize=ht.bytesPerElement,this.dynamicDraw=vt,this.context=X;var Lt=X.gl;this.buffer=Lt.createBuffer(),X.bindVertexBuffer.set(this.buffer),Lt.bufferData(Lt.ARRAY_BUFFER,ht.arrayBuffer,this.dynamicDraw?Lt.DYNAMIC_DRAW:Lt.STATIC_DRAW),this.dynamicDraw||delete ht.arrayBuffer};St.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},St.prototype.updateData=function(X){var ht=this.context.gl;this.bind(),ht.bufferSubData(ht.ARRAY_BUFFER,0,X.arrayBuffer)},St.prototype.enableAttributes=function(X,ht){for(var $=0;$<this.attributes.length;$++){var Lt=ht.attributes[this.attributes[$].name];void 0!==Lt&&X.enableVertexAttribArray(Lt)}},St.prototype.setVertexAttribPointers=function(X,ht,$){for(var vt=0;vt<this.attributes.length;vt++){var Lt=this.attributes[vt],Zt=ht.attributes[Lt.name];void 0!==Zt&&X.vertexAttribPointer(Zt,Lt.components,X[yt[Lt.type]],!1,this.itemSize,Lt.offset+this.itemSize*($||0))}},St.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Et=function(X){this.gl=X.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Et.prototype.get=function(){return this.current},Et.prototype.set=function(X){},Et.prototype.getDefault=function(){return this.default},Et.prototype.setDefault=function(){this.set(this.default)};var Tt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return i.Color.transparent},X.prototype.set=function($){var vt=this.current;$.r===vt.r&&$.g===vt.g&&$.b===vt.b&&$.a===vt.a&&!this.dirty||(this.gl.clearColor($.r,$.g,$.b,$.a),this.current=$,this.dirty=!1)},X}(Et),gt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return 1},X.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.clearDepth($),this.current=$,this.dirty=!1)},X}(Et),Mt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return 0},X.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.clearStencil($),this.current=$,this.dirty=!1)},X}(Et),Nt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return[!0,!0,!0,!0]},X.prototype.set=function($){var vt=this.current;$[0]===vt[0]&&$[1]===vt[1]&&$[2]===vt[2]&&$[3]===vt[3]&&!this.dirty||(this.gl.colorMask($[0],$[1],$[2],$[3]),this.current=$,this.dirty=!1)},X}(Et),Gt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return!0},X.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.depthMask($),this.current=$,this.dirty=!1)},X}(Et),Pt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return 255},X.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.stencilMask($),this.current=$,this.dirty=!1)},X}(Et),Vt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},X.prototype.set=function($){var vt=this.current;$.func===vt.func&&$.ref===vt.ref&&$.mask===vt.mask&&!this.dirty||(this.gl.stencilFunc($.func,$.ref,$.mask),this.current=$,this.dirty=!1)},X}(Et),re=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){var $=this.gl;return[$.KEEP,$.KEEP,$.KEEP]},X.prototype.set=function($){var vt=this.current;$[0]===vt[0]&&$[1]===vt[1]&&$[2]===vt[2]&&!this.dirty||(this.gl.stencilOp($[0],$[1],$[2]),this.current=$,this.dirty=!1)},X}(Et),le=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function($){if($!==this.current||this.dirty){var vt=this.gl;$?vt.enable(vt.STENCIL_TEST):vt.disable(vt.STENCIL_TEST),this.current=$,this.dirty=!1}},X}(Et),It=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return[0,1]},X.prototype.set=function($){var vt=this.current;$[0]===vt[0]&&$[1]===vt[1]&&!this.dirty||(this.gl.depthRange($[0],$[1]),this.current=$,this.dirty=!1)},X}(Et),Rt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function($){if($!==this.current||this.dirty){var vt=this.gl;$?vt.enable(vt.DEPTH_TEST):vt.disable(vt.DEPTH_TEST),this.current=$,this.dirty=!1}},X}(Et),$t=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.LESS},X.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.depthFunc($),this.current=$,this.dirty=!1)},X}(Et),oe=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function($){if($!==this.current||this.dirty){var vt=this.gl;$?vt.enable(vt.BLEND):vt.disable(vt.BLEND),this.current=$,this.dirty=!1}},X}(Et),se=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){var $=this.gl;return[$.ONE,$.ZERO]},X.prototype.set=function($){var vt=this.current;$[0]===vt[0]&&$[1]===vt[1]&&!this.dirty||(this.gl.blendFunc($[0],$[1]),this.current=$,this.dirty=!1)},X}(Et),ve=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return i.Color.transparent},X.prototype.set=function($){var vt=this.current;$.r===vt.r&&$.g===vt.g&&$.b===vt.b&&$.a===vt.a&&!this.dirty||(this.gl.blendColor($.r,$.g,$.b,$.a),this.current=$,this.dirty=!1)},X}(Et),de=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.FUNC_ADD},X.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.blendEquation($),this.current=$,this.dirty=!1)},X}(Et),jt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function($){if($!==this.current||this.dirty){var vt=this.gl;$?vt.enable(vt.CULL_FACE):vt.disable(vt.CULL_FACE),this.current=$,this.dirty=!1}},X}(Et),Ct=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.BACK},X.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.cullFace($),this.current=$,this.dirty=!1)},X}(Et),Wt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.CCW},X.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.frontFace($),this.current=$,this.dirty=!1)},X}(Et),Xt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.useProgram($),this.current=$,this.dirty=!1)},X}(Et),Ht=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return this.gl.TEXTURE0},X.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.activeTexture($),this.current=$,this.dirty=!1)},X}(Et),Bt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){var $=this.gl;return[0,0,$.drawingBufferWidth,$.drawingBufferHeight]},X.prototype.set=function($){var vt=this.current;$[0]===vt[0]&&$[1]===vt[1]&&$[2]===vt[2]&&$[3]===vt[3]&&!this.dirty||(this.gl.viewport($[0],$[1],$[2],$[3]),this.current=$,this.dirty=!1)},X}(Et),zt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function($){if($!==this.current||this.dirty){var vt=this.gl;vt.bindFramebuffer(vt.FRAMEBUFFER,$),this.current=$,this.dirty=!1}},X}(Et),kt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function($){if($!==this.current||this.dirty){var vt=this.gl;vt.bindRenderbuffer(vt.RENDERBUFFER,$),this.current=$,this.dirty=!1}},X}(Et),wt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function($){if($!==this.current||this.dirty){var vt=this.gl;vt.bindTexture(vt.TEXTURE_2D,$),this.current=$,this.dirty=!1}},X}(Et),ft=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function($){if($!==this.current||this.dirty){var vt=this.gl;vt.bindBuffer(vt.ARRAY_BUFFER,$),this.current=$,this.dirty=!1}},X}(Et),pt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function($){var vt=this.gl;vt.bindBuffer(vt.ELEMENT_ARRAY_BUFFER,$),this.current=$,this.dirty=!1},X}(Et),Dt=function(ut){function X(ht){ut.call(this,ht),this.vao=ht.extVertexArrayObject}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function($){!this.vao||$===this.current&&!this.dirty||(this.vao.bindVertexArrayOES($),this.current=$,this.dirty=!1)},X}(Et),Qt=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return 4},X.prototype.set=function($){if($!==this.current||this.dirty){var vt=this.gl;vt.pixelStorei(vt.UNPACK_ALIGNMENT,$),this.current=$,this.dirty=!1}},X}(Et),te=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function($){if($!==this.current||this.dirty){var vt=this.gl;vt.pixelStorei(vt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$),this.current=$,this.dirty=!1}},X}(Et),ee=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function($){if($!==this.current||this.dirty){var vt=this.gl;vt.pixelStorei(vt.UNPACK_FLIP_Y_WEBGL,$),this.current=$,this.dirty=!1}},X}(Et),Ne=function(ut){function X(ht,$){ut.call(this,ht),this.context=ht,this.parent=$}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getDefault=function(){return null},X}(Et),We=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.setDirty=function(){this.dirty=!0},X.prototype.set=function($){if($!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var vt=this.gl;vt.framebufferTexture2D(vt.FRAMEBUFFER,vt.COLOR_ATTACHMENT0,vt.TEXTURE_2D,$,0),this.current=$,this.dirty=!1}},X}(Ne),ye=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.set=function($){if($!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var vt=this.gl;vt.framebufferRenderbuffer(vt.FRAMEBUFFER,vt.DEPTH_ATTACHMENT,vt.RENDERBUFFER,$),this.current=$,this.dirty=!1}},X}(Ne),Te=function(X,ht,$,vt){this.context=X,this.width=ht,this.height=$;var Zt=this.framebuffer=X.gl.createFramebuffer();this.colorAttachment=new We(X,Zt),vt&&(this.depthAttachment=new ye(X,Zt))};Te.prototype.destroy=function(){var X=this.context.gl,ht=this.colorAttachment.get();if(ht&&X.deleteTexture(ht),this.depthAttachment){var $=this.depthAttachment.get();$&&X.deleteRenderbuffer($)}X.deleteFramebuffer(this.framebuffer)};var hr=function(X,ht,$){this.func=X,this.mask=ht,this.range=$};hr.ReadOnly=!1,hr.ReadWrite=!0,hr.disabled=new hr(519,hr.ReadOnly,[0,1]);var Ye=function(X,ht,$,vt,Lt,Zt){this.test=X,this.ref=ht,this.mask=$,this.fail=vt,this.depthFail=Lt,this.pass=Zt};Ye.disabled=new Ye({func:519,mask:0},0,0,7680,7680,7680);var ne=function(X,ht,$){this.blendFunction=X,this.blendColor=ht,this.mask=$};ne.disabled=new ne(ne.Replace=[1,0],i.Color.transparent,[!1,!1,!1,!1]),ne.unblended=new ne(ne.Replace,i.Color.transparent,[!0,!0,!0,!0]),ne.alphaBlended=new ne([1,771],i.Color.transparent,[!0,!0,!0,!0]);var Se=function(X,ht,$){this.enable=X,this.mode=ht,this.frontFace=$};Se.disabled=new Se(!1,1029,2305),Se.backCCW=new Se(!0,1029,2305);var Me=function(X){this.gl=X,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Tt(this),this.clearDepth=new gt(this),this.clearStencil=new Mt(this),this.colorMask=new Nt(this),this.depthMask=new Gt(this),this.stencilMask=new Pt(this),this.stencilFunc=new Vt(this),this.stencilOp=new re(this),this.stencilTest=new le(this),this.depthRange=new It(this),this.depthTest=new Rt(this),this.depthFunc=new $t(this),this.blend=new oe(this),this.blendFunc=new se(this),this.blendColor=new ve(this),this.blendEquation=new de(this),this.cullFace=new jt(this),this.cullFaceSide=new Ct(this),this.frontFace=new Wt(this),this.program=new Xt(this),this.activeTexture=new Ht(this),this.viewport=new Bt(this),this.bindFramebuffer=new zt(this),this.bindRenderbuffer=new kt(this),this.bindTexture=new wt(this),this.bindVertexBuffer=new ft(this),this.bindElementBuffer=new pt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Dt(this),this.pixelStoreUnpack=new Qt(this),this.pixelStoreUnpackPremultiplyAlpha=new te(this),this.pixelStoreUnpackFlipY=new ee(this),this.extTextureFilterAnisotropic=X.getExtension("EXT_texture_filter_anisotropic")||X.getExtension("MOZ_EXT_texture_filter_anisotropic")||X.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=X.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=X.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(X.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=X.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=X.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=X.getParameter(X.MAX_TEXTURE_SIZE)};Me.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Me.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Me.prototype.createIndexBuffer=function(X,ht){return new xt(this,X,ht)},Me.prototype.createVertexBuffer=function(X,ht,$){return new St(this,X,ht,$)},Me.prototype.createRenderbuffer=function(X,ht,$){var vt=this.gl,Lt=vt.createRenderbuffer();return this.bindRenderbuffer.set(Lt),vt.renderbufferStorage(vt.RENDERBUFFER,X,ht,$),this.bindRenderbuffer.set(null),Lt},Me.prototype.createFramebuffer=function(X,ht,$){return new Te(this,X,ht,$)},Me.prototype.clear=function(X){var ht=X.color,$=X.depth,vt=this.gl,Lt=0;ht&&(Lt|=vt.COLOR_BUFFER_BIT,this.clearColor.set(ht),this.colorMask.set([!0,!0,!0,!0])),void 0!==$&&(Lt|=vt.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set($),this.depthMask.set(!0)),vt.clear(Lt)},Me.prototype.setCullFace=function(X){!1===X.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(X.mode),this.frontFace.set(X.frontFace))},Me.prototype.setDepthMode=function(X){X.func!==this.gl.ALWAYS||X.mask?(this.depthTest.set(!0),this.depthFunc.set(X.func),this.depthMask.set(X.mask),this.depthRange.set(X.range)):this.depthTest.set(!1)},Me.prototype.setStencilMode=function(X){X.test.func!==this.gl.ALWAYS||X.mask?(this.stencilTest.set(!0),this.stencilMask.set(X.mask),this.stencilOp.set([X.fail,X.depthFail,X.pass]),this.stencilFunc.set({func:X.test.func,ref:X.ref,mask:X.test.mask})):this.stencilTest.set(!1)},Me.prototype.setColorMode=function(X){i.deepEqual(X.blendFunction,ne.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(X.blendFunction),this.blendColor.set(X.blendColor)),this.colorMask.set(X.mask)},Me.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ie=function(ut){function X(ht,$,vt){var Lt=this;ut.call(this),this.id=ht,this.dispatcher=vt,this.on("data",function(Zt){"source"===Zt.dataType&&"metadata"===Zt.sourceDataType&&(Lt._sourceLoaded=!0),Lt._sourceLoaded&&!Lt._paused&&"source"===Zt.dataType&&"content"===Zt.sourceDataType&&(Lt.reload(),Lt.transform&&Lt.update(Lt.transform))}),this.on("error",function(){Lt._sourceErrored=!0}),this._source=function(ut,X,ht,$){var vt=new K[X.type](ut,X,ht,$);if(vt.id!==ut)throw new Error("Expected Source id to be "+ut+" instead of "+vt.id);return i.bindAll(["load","abort","unload","serialize","prepare"],vt),vt}(ht,$,vt,this),this._tiles={},this._cache=new dt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new i.SourceFeatureState}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.onAdd=function($){this.map=$,this._maxTileCacheSize=$?$._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd($)},X.prototype.onRemove=function($){this._source&&this._source.onRemove&&this._source.onRemove($)},X.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var $ in this._tiles){var vt=this._tiles[$];if("loaded"!==vt.state&&"errored"!==vt.state)return!1}return!0},X.prototype.getSource=function(){return this._source},X.prototype.pause=function(){this._paused=!0},X.prototype.resume=function(){if(this._paused){var $=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,$&&this.reload(),this.transform&&this.update(this.transform)}},X.prototype._loadTile=function($,vt){return this._source.loadTile($,vt)},X.prototype._unloadTile=function($){if(this._source.unloadTile)return this._source.unloadTile($,function(){})},X.prototype._abortTile=function($){if(this._source.abortTile)return this._source.abortTile($,function(){})},X.prototype.serialize=function(){return this._source.serialize()},X.prototype.prepare=function($){for(var vt in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var Lt=this._tiles[vt];Lt.upload($),Lt.prepare(this.map.style.imageManager)}},X.prototype.getIds=function(){return i.values(this._tiles).map(function($){return $.tileID}).sort(Fe).map(function($){return $.key})},X.prototype.getRenderableIds=function($){var vt=this,Lt=[];for(var Zt in this._tiles)this._isIdRenderable(Zt,$)&&Lt.push(this._tiles[Zt]);return $?Lt.sort(function(ae,we){var ze=ae.tileID,Ke=we.tileID,ar=new i.Point(ze.canonical.x,ze.canonical.y)._rotate(vt.transform.angle),rr=new i.Point(Ke.canonical.x,Ke.canonical.y)._rotate(vt.transform.angle);return ze.overscaledZ-Ke.overscaledZ||rr.y-ar.y||rr.x-ar.x}).map(function(ae){return ae.tileID.key}):Lt.map(function(ae){return ae.tileID}).sort(Fe).map(function(ae){return ae.key})},X.prototype.hasRenderableParent=function($){var vt=this.findLoadedParent($,0);return!!vt&&this._isIdRenderable(vt.tileID.key)},X.prototype._isIdRenderable=function($,vt){return this._tiles[$]&&this._tiles[$].hasData()&&!this._coveredTiles[$]&&(vt||!this._tiles[$].holdingForFade())},X.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var $ in this._cache.reset(),this._tiles)"errored"!==this._tiles[$].state&&this._reloadTile($,"reloading")},X.prototype._reloadTile=function($,vt){var Lt=this._tiles[$];!Lt||("loading"!==Lt.state&&(Lt.state=vt),this._loadTile(Lt,this._tileLoaded.bind(this,Lt,$,vt)))},X.prototype._tileLoaded=function($,vt,Lt,Zt){if(Zt)return $.state="errored",void(404!==Zt.status?this._source.fire(new i.ErrorEvent(Zt,{tile:$})):this.update(this.transform));$.timeAdded=i.browser.now(),"expired"===Lt&&($.refreshedUponExpiration=!0),this._setTileReloadTimer(vt,$),"raster-dem"===this.getSource().type&&$.dem&&this._backfillDEM($),this._state.initializeTileState($,this.map?this.map.painter:null),this._source.fire(new i.Event("data",{dataType:"source",tile:$,coord:$.tileID}))},X.prototype._backfillDEM=function($){for(var vt=this.getRenderableIds(),Lt=0;Lt<vt.length;Lt++){var Zt=vt[Lt];if($.neighboringTiles&&$.neighboringTiles[Zt]){var ae=this.getTileByID(Zt);we($,ae),we(ae,$)}}function we(ze,Ke){ze.needsHillshadePrepare=!0;var ar=Ke.tileID.canonical.x-ze.tileID.canonical.x,rr=Ke.tileID.canonical.y-ze.tileID.canonical.y,Ir=Math.pow(2,ze.tileID.canonical.z),Zr=Ke.tileID.key;0===ar&&0===rr||Math.abs(rr)>1||(Math.abs(ar)>1&&(1===Math.abs(ar+Ir)?ar+=Ir:1===Math.abs(ar-Ir)&&(ar-=Ir)),Ke.dem&&ze.dem&&(ze.dem.backfillBorder(Ke.dem,ar,rr),ze.neighboringTiles&&ze.neighboringTiles[Zr]&&(ze.neighboringTiles[Zr].backfilled=!0)))}},X.prototype.getTile=function($){return this.getTileByID($.key)},X.prototype.getTileByID=function($){return this._tiles[$]},X.prototype._retainLoadedChildren=function($,vt,Lt,Zt){for(var ae in this._tiles){var we=this._tiles[ae];if(!(Zt[ae]||!we.hasData()||we.tileID.overscaledZ<=vt||we.tileID.overscaledZ>Lt)){for(var ze=we.tileID;we&&we.tileID.overscaledZ>vt+1;){var Ke=we.tileID.scaledTo(we.tileID.overscaledZ-1);(we=this._tiles[Ke.key])&&we.hasData()&&(ze=Ke)}for(var ar=ze;ar.overscaledZ>vt;)if($[(ar=ar.scaledTo(ar.overscaledZ-1)).key]){Zt[ze.key]=ze;break}}}},X.prototype.findLoadedParent=function($,vt){if($.key in this._loadedParentTiles){var Lt=this._loadedParentTiles[$.key];return Lt&&Lt.tileID.overscaledZ>=vt?Lt:null}for(var Zt=$.overscaledZ-1;Zt>=vt;Zt--){var ae=$.scaledTo(Zt),we=this._getLoadedTile(ae);if(we)return we}},X.prototype._getLoadedTile=function($){var vt=this._tiles[$.key];return vt&&vt.hasData()?vt:this._cache.getByKey($.wrapped().key)},X.prototype.updateCacheSize=function($){var vt=Math.ceil($.width/this._source.tileSize)+1,Lt=Math.ceil($.height/this._source.tileSize)+1,we=Math.floor(vt*Lt*5),ze="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,we):we;this._cache.setMaxSize(ze)},X.prototype.handleWrapJump=function($){var ae=Math.round(($-(void 0===this._prevLng?$:this._prevLng))/360);if(this._prevLng=$,ae){var we={};for(var ze in this._tiles){var Ke=this._tiles[ze];Ke.tileID=Ke.tileID.unwrapTo(Ke.tileID.wrap+ae),we[Ke.tileID.key]=Ke}for(var ar in this._tiles=we,this._timers)clearTimeout(this._timers[ar]),delete this._timers[ar];for(var rr in this._tiles)this._setTileReloadTimer(rr,this._tiles[rr])}},X.prototype.update=function($){var vt=this;if(this.transform=$,this._sourceLoaded&&!this._paused){var Lt;this.updateCacheSize($),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?Lt=$.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ra){return new i.OverscaledTileID(ra.canonical.z,ra.wrap,ra.canonical.z,ra.canonical.x,ra.canonical.y)}):(Lt=$.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Lt=Lt.filter(function(ra){return vt._source.hasTile(ra)}))):Lt=[];var Zt=$.coveringZoomLevel(this._source),ae=Math.max(Zt-X.maxOverzooming,this._source.minzoom),we=Math.max(Zt+X.maxUnderzooming,this._source.minzoom),ze=this._updateRetainedTiles(Lt,Zt);if(Ze(this._source.type)){for(var Ke={},ar={},Ir=0,Zr=Object.keys(ze);Ir<Zr.length;Ir+=1){var Xr=Zr[Ir],Vr=ze[Xr],Kr=this._tiles[Xr];if(Kr&&!(Kr.fadeEndTime&&Kr.fadeEndTime<=i.browser.now())){var vn=this.findLoadedParent(Vr,ae);vn&&(this._addTile(vn.tileID),Ke[vn.tileID.key]=vn.tileID),ar[Xr]=Vr}}for(var Ln in this._retainLoadedChildren(ar,Zt,we,ze),Ke)ze[Ln]||(this._coveredTiles[Ln]=!0,ze[Ln]=Ke[Ln])}for(var In in ze)this._tiles[In].clearFadeHold();for(var Un=0,On=i.keysDifference(this._tiles,ze);Un<On.length;Un+=1){var Vn=On[Un],Wn=this._tiles[Vn];Wn.hasSymbolBuckets&&!Wn.holdingForFade()?Wn.setHoldDuration(this.map._fadeDuration):(!Wn.hasSymbolBuckets||Wn.symbolFadeFinished())&&this._removeTile(Vn)}this._updateLoadedParentTileCache()}},X.prototype.releaseSymbolFadeTiles=function(){for(var $ in this._tiles)this._tiles[$].holdingForFade()&&this._removeTile($)},X.prototype._updateRetainedTiles=function($,vt){for(var Lt={},Zt={},ae=Math.max(vt-X.maxOverzooming,this._source.minzoom),we=Math.max(vt+X.maxUnderzooming,this._source.minzoom),ze={},Ke=0,ar=$;Ke<ar.length;Ke+=1){var rr=ar[Ke],Ir=this._addTile(rr);Lt[rr.key]=rr,!Ir.hasData()&&vt<this._source.maxzoom&&(ze[rr.key]=rr)}this._retainLoadedChildren(ze,vt,we,Lt);for(var Zr=0,Xr=$;Zr<Xr.length;Zr+=1){var Vr=Xr[Zr],Kr=this._tiles[Vr.key];if(!Kr.hasData()){if(vt+1>this._source.maxzoom){var vn=Vr.children(this._source.maxzoom)[0],Ln=this.getTile(vn);if(Ln&&Ln.hasData()){Lt[vn.key]=vn;continue}}else{var In=Vr.children(this._source.maxzoom);if(Lt[In[0].key]&&Lt[In[1].key]&&Lt[In[2].key]&&Lt[In[3].key])continue}for(var Nn=Kr.wasRequested(),Un=Vr.overscaledZ-1;Un>=ae;--Un){var On=Vr.scaledTo(Un);if(Zt[On.key]||(Zt[On.key]=!0,!(Kr=this.getTile(On))&&Nn&&(Kr=this._addTile(On)),Kr&&(Lt[On.key]=On,Nn=Kr.wasRequested(),Kr.hasData())))break}}}return Lt},X.prototype._updateLoadedParentTileCache=function(){for(var $ in this._loadedParentTiles={},this._tiles){for(var vt=[],Lt=void 0,Zt=this._tiles[$].tileID;Zt.overscaledZ>0;){if(Zt.key in this._loadedParentTiles){Lt=this._loadedParentTiles[Zt.key];break}vt.push(Zt.key);var ae=Zt.scaledTo(Zt.overscaledZ-1);if(Lt=this._getLoadedTile(ae))break;Zt=ae}for(var we=0,ze=vt;we<ze.length;we+=1)this._loadedParentTiles[ze[we]]=Lt}},X.prototype._addTile=function($){var vt=this._tiles[$.key];if(vt)return vt;(vt=this._cache.getAndRemove($))&&(this._setTileReloadTimer($.key,vt),vt.tileID=$,this._state.initializeTileState(vt,this.map?this.map.painter:null),this._cacheTimers[$.key]&&(clearTimeout(this._cacheTimers[$.key]),delete this._cacheTimers[$.key],this._setTileReloadTimer($.key,vt)));var Lt=Boolean(vt);return Lt||(vt=new i.Tile($,this._source.tileSize*$.overscaleFactor()),this._loadTile(vt,this._tileLoaded.bind(this,vt,$.key,vt.state))),vt?(vt.uses++,this._tiles[$.key]=vt,Lt||this._source.fire(new i.Event("dataloading",{tile:vt,coord:vt.tileID,dataType:"source"})),vt):null},X.prototype._setTileReloadTimer=function($,vt){var Lt=this;$ in this._timers&&(clearTimeout(this._timers[$]),delete this._timers[$]);var Zt=vt.getExpiryTimeout();Zt&&(this._timers[$]=setTimeout(function(){Lt._reloadTile($,"expired"),delete Lt._timers[$]},Zt))},X.prototype._removeTile=function($){var vt=this._tiles[$];!vt||(vt.uses--,delete this._tiles[$],this._timers[$]&&(clearTimeout(this._timers[$]),delete this._timers[$]),!(vt.uses>0)&&(vt.hasData()&&"reloading"!==vt.state?this._cache.add(vt.tileID,vt,vt.getExpiryTimeout()):(vt.aborted=!0,this._abortTile(vt),this._unloadTile(vt))))},X.prototype.clearTiles=function(){for(var $ in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile($);this._cache.reset()},X.prototype.tilesIn=function($,vt,Lt){var Zt=this,ae=[],we=this.transform;if(!we)return ae;for(var ze=Lt?we.getCameraQueryGeometry($):$,Ke=$.map(function(Un){return we.pointCoordinate(Un)}),ar=ze.map(function(Un){return we.pointCoordinate(Un)}),rr=this.getIds(),Ir=1/0,Zr=1/0,Xr=-1/0,Vr=-1/0,Kr=0,vn=ar;Kr<vn.length;Kr+=1){var Ln=vn[Kr];Ir=Math.min(Ir,Ln.x),Zr=Math.min(Zr,Ln.y),Xr=Math.max(Xr,Ln.x),Vr=Math.max(Vr,Ln.y)}for(var In=function(Un){var On=Zt._tiles[rr[Un]];if(!On.holdingForFade()){var Vn=On.tileID,Wn=Math.pow(2,we.zoom-On.tileID.overscaledZ),ra=vt*On.queryPadding*i.EXTENT/On.tileSize/Wn,ca=[Vn.getTilePoint(new i.MercatorCoordinate(Ir,Zr)),Vn.getTilePoint(new i.MercatorCoordinate(Xr,Vr))];if(ca[0].x-ra<i.EXTENT&&ca[0].y-ra<i.EXTENT&&ca[1].x+ra>=0&&ca[1].y+ra>=0){var oa=Ke.map(function(Za){return Vn.getTilePoint(Za)}),Pa=ar.map(function(Za){return Vn.getTilePoint(Za)});ae.push({tile:On,tileID:Vn,queryGeometry:oa,cameraQueryGeometry:Pa,scale:Wn})}}},Nn=0;Nn<rr.length;Nn++)In(Nn);return ae},X.prototype.getVisibleCoordinates=function($){for(var vt=this,Lt=this.getRenderableIds($).map(function(ze){return vt._tiles[ze].tileID}),Zt=0,ae=Lt;Zt<ae.length;Zt+=1){var we=ae[Zt];we.posMatrix=this.transform.calculatePosMatrix(we.toUnwrapped())}return Lt},X.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ze(this._source.type))for(var $ in this._tiles){var vt=this._tiles[$];if(void 0!==vt.fadeEndTime&&vt.fadeEndTime>=i.browser.now())return!0}return!1},X.prototype.setFeatureState=function($,vt,Lt){this._state.updateState($=$||"_geojsonTileLayer",vt,Lt)},X.prototype.removeFeatureState=function($,vt,Lt){this._state.removeFeatureState($=$||"_geojsonTileLayer",vt,Lt)},X.prototype.getFeatureState=function($,vt){return this._state.getState($=$||"_geojsonTileLayer",vt)},X.prototype.setDependencies=function($,vt,Lt){var Zt=this._tiles[$];Zt&&Zt.setDependencies(vt,Lt)},X.prototype.reloadTilesForDependencies=function($,vt){for(var Lt in this._tiles)this._tiles[Lt].hasDependency($,vt)&&this._reloadTile(Lt,"reloading");this._cache.filter(function(ae){return!ae.hasDependency($,vt)})},X}(i.Evented);function Fe(ut,X){var ht=Math.abs(2*ut.wrap)-+(ut.wrap<0),$=Math.abs(2*X.wrap)-+(X.wrap<0);return ut.overscaledZ-X.overscaledZ||$-ht||X.canonical.y-ut.canonical.y||X.canonical.x-ut.canonical.x}function Ze(ut){return"raster"===ut||"image"===ut||"video"===ut}function nr(){return new i.window.Worker(Gi.workerUrl)}Ie.maxOverzooming=10,Ie.maxUnderzooming=3;var ir="mapboxgl_preloaded_worker_pool",lr=function(){this.active={}};lr.prototype.acquire=function(X){if(!this.workers)for(this.workers=[];this.workers.length<lr.workerCount;)this.workers.push(new nr);return this.active[X]=!0,this.workers.slice()},lr.prototype.release=function(X){delete this.active[X],0===this.numActive()&&(this.workers.forEach(function(ht){ht.terminate()}),this.workers=null)},lr.prototype.isPreloaded=function(){return!!this.active[ir]},lr.prototype.numActive=function(){return Object.keys(this.active).length};var Ut,Ot=Math.floor(i.browser.hardwareConcurrency/2);function Ce(){return Ut||(Ut=new lr),Ut}function _e(ut,X){var ht={};for(var $ in ut)"ref"!==$&&(ht[$]=ut[$]);return i.refProperties.forEach(function(vt){vt in X&&(ht[vt]=X[vt])}),ht}function fr(ut){ut=ut.slice();for(var X=Object.create(null),ht=0;ht<ut.length;ht++)X[ut[ht].id]=ut[ht];for(var $=0;$<ut.length;$++)"ref"in ut[$]&&(ut[$]=_e(ut[$],X[ut[$].ref]));return ut}lr.workerCount=Math.max(Math.min(Ot,6),1);var Re={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function or(ut,X,ht){ht.push({command:Re.addSource,args:[ut,X[ut]]})}function dr(ut,X,ht){X.push({command:Re.removeSource,args:[ut]}),ht[ut]=!0}function pr(ut,X,ht,$){dr(ut,ht,$),or(ut,X,ht)}function Cr(ut,X,ht){var $;for($ in ut[ht])if(ut[ht].hasOwnProperty($)&&"data"!==$&&!i.deepEqual(ut[ht][$],X[ht][$]))return!1;for($ in X[ht])if(X[ht].hasOwnProperty($)&&"data"!==$&&!i.deepEqual(ut[ht][$],X[ht][$]))return!1;return!0}function Ar(ut,X,ht,$,vt,Lt){var Zt;for(Zt in X=X||{},ut=ut||{})!ut.hasOwnProperty(Zt)||i.deepEqual(ut[Zt],X[Zt])||ht.push({command:Lt,args:[$,Zt,X[Zt],vt]});for(Zt in X)!X.hasOwnProperty(Zt)||ut.hasOwnProperty(Zt)||i.deepEqual(ut[Zt],X[Zt])||ht.push({command:Lt,args:[$,Zt,X[Zt],vt]})}function Gr(ut){return ut.id}function nn(ut,X){return ut[X.id]=X,ut}function Tn(ut,X){if(!ut)return[{command:Re.setStyle,args:[X]}];var ht=[];try{if(!i.deepEqual(ut.version,X.version))return[{command:Re.setStyle,args:[X]}];i.deepEqual(ut.center,X.center)||ht.push({command:Re.setCenter,args:[X.center]}),i.deepEqual(ut.zoom,X.zoom)||ht.push({command:Re.setZoom,args:[X.zoom]}),i.deepEqual(ut.bearing,X.bearing)||ht.push({command:Re.setBearing,args:[X.bearing]}),i.deepEqual(ut.pitch,X.pitch)||ht.push({command:Re.setPitch,args:[X.pitch]}),i.deepEqual(ut.sprite,X.sprite)||ht.push({command:Re.setSprite,args:[X.sprite]}),i.deepEqual(ut.glyphs,X.glyphs)||ht.push({command:Re.setGlyphs,args:[X.glyphs]}),i.deepEqual(ut.transition,X.transition)||ht.push({command:Re.setTransition,args:[X.transition]}),i.deepEqual(ut.light,X.light)||ht.push({command:Re.setLight,args:[X.light]});var $={},vt=[];!function $r(ut,X,ht,$){var vt;for(vt in X=X||{},ut=ut||{})!ut.hasOwnProperty(vt)||X.hasOwnProperty(vt)||dr(vt,ht,$);for(vt in X)!X.hasOwnProperty(vt)||(ut.hasOwnProperty(vt)?i.deepEqual(ut[vt],X[vt])||("geojson"===ut[vt].type&&"geojson"===X[vt].type&&Cr(ut,X,vt)?ht.push({command:Re.setGeoJSONSourceData,args:[vt,X[vt].data]}):pr(vt,X,ht,$)):or(vt,X,ht))}(ut.sources,X.sources,vt,$);var Lt=[];ut.layers&&ut.layers.forEach(function(Zt){$[Zt.source]?ht.push({command:Re.removeLayer,args:[Zt.id]}):Lt.push(Zt)}),ht=ht.concat(vt),function Ur(ut,X,ht){X=X||[];var ze,Ke,ar,rr,Ir,Zr,Xr,$=(ut=ut||[]).map(Gr),vt=X.map(Gr),Lt=ut.reduce(nn,{}),Zt=X.reduce(nn,{}),ae=$.slice(),we=Object.create(null);for(ze=0,Ke=0;ze<$.length;ze++)Zt.hasOwnProperty(ar=$[ze])?Ke++:(ht.push({command:Re.removeLayer,args:[ar]}),ae.splice(ae.indexOf(ar,Ke),1));for(ze=0,Ke=0;ze<vt.length;ze++)ae[ae.length-1-ze]!==(ar=vt[vt.length-1-ze])&&(Lt.hasOwnProperty(ar)?(ht.push({command:Re.removeLayer,args:[ar]}),ae.splice(ae.lastIndexOf(ar,ae.length-Ke),1)):Ke++,ht.push({command:Re.addLayer,args:[Zt[ar],Zr=ae[ae.length-ze]]}),ae.splice(ae.length-ze,0,ar),we[ar]=!0);for(ze=0;ze<vt.length;ze++)if(rr=Lt[ar=vt[ze]],Ir=Zt[ar],!we[ar]&&!i.deepEqual(rr,Ir)){if(!i.deepEqual(rr.source,Ir.source)||!i.deepEqual(rr["source-layer"],Ir["source-layer"])||!i.deepEqual(rr.type,Ir.type)){ht.push({command:Re.removeLayer,args:[ar]}),Zr=ae[ae.lastIndexOf(ar)+1],ht.push({command:Re.addLayer,args:[Ir,Zr]});continue}for(Xr in Ar(rr.layout,Ir.layout,ht,ar,null,Re.setLayoutProperty),Ar(rr.paint,Ir.paint,ht,ar,null,Re.setPaintProperty),i.deepEqual(rr.filter,Ir.filter)||ht.push({command:Re.setFilter,args:[ar,Ir.filter]}),(!i.deepEqual(rr.minzoom,Ir.minzoom)||!i.deepEqual(rr.maxzoom,Ir.maxzoom))&&ht.push({command:Re.setLayerZoomRange,args:[ar,Ir.minzoom,Ir.maxzoom]}),rr)!rr.hasOwnProperty(Xr)||"layout"===Xr||"paint"===Xr||"filter"===Xr||"metadata"===Xr||"minzoom"===Xr||"maxzoom"===Xr||(0===Xr.indexOf("paint.")?Ar(rr[Xr],Ir[Xr],ht,ar,Xr.slice(6),Re.setPaintProperty):i.deepEqual(rr[Xr],Ir[Xr])||ht.push({command:Re.setLayerProperty,args:[ar,Xr,Ir[Xr]]}));for(Xr in Ir)!Ir.hasOwnProperty(Xr)||rr.hasOwnProperty(Xr)||"layout"===Xr||"paint"===Xr||"filter"===Xr||"metadata"===Xr||"minzoom"===Xr||"maxzoom"===Xr||(0===Xr.indexOf("paint.")?Ar(rr[Xr],Ir[Xr],ht,ar,Xr.slice(6),Re.setPaintProperty):i.deepEqual(rr[Xr],Ir[Xr])||ht.push({command:Re.setLayerProperty,args:[ar,Xr,Ir[Xr]]}))}}(Lt,X.layers,ht)}catch(Zt){console.warn("Unable to compute style diff:",Zt),ht=[{command:Re.setStyle,args:[X]}]}return ht}var bn=function(X,ht){this.reset(X,ht)};bn.prototype.reset=function(X,ht){this.points=X||[],this._distances=[0];for(var $=1;$<this.points.length;$++)this._distances[$]=this._distances[$-1]+this.points[$].dist(this.points[$-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ht||0,.5*this.length),this.paddedLength=this.length-2*this.padding},bn.prototype.lerp=function(X){if(1===this.points.length)return this.points[0];X=i.clamp(X,0,1);for(var ht=1,$=this._distances[ht],vt=X*this.paddedLength+this.padding;$<vt&&ht<this._distances.length;)$=this._distances[++ht];var Lt=ht-1,Zt=this._distances[Lt],ae=$-Zt,we=ae>0?(vt-Zt)/ae:0;return this.points[Lt].mult(1-we).add(this.points[ht].mult(we))};var ur=function(X,ht,$){var vt=this.boxCells=[],Lt=this.circleCells=[];this.xCellCount=Math.ceil(X/$),this.yCellCount=Math.ceil(ht/$);for(var Zt=0;Zt<this.xCellCount*this.yCellCount;Zt++)vt.push([]),Lt.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=X,this.height=ht,this.xScale=this.xCellCount/X,this.yScale=this.yCellCount/ht,this.boxUid=0,this.circleUid=0};function Mr(ut,X,ht,$,vt){var Lt=i.create();return X?(i.scale(Lt,Lt,[1/vt,1/vt,1]),ht||i.rotateZ(Lt,Lt,$.angle)):i.multiply(Lt,$.labelPlaneMatrix,ut),Lt}function Br(ut,X,ht,$,vt){if(X){var Lt=i.clone(ut);return i.scale(Lt,Lt,[vt,vt,1]),ht||i.rotateZ(Lt,Lt,-$.angle),Lt}return $.glCoordMatrix}function Or(ut,X){var ht=[ut.x,ut.y,0,1];yr(ht,ht,X);var $=ht[3];return{point:new i.Point(ht[0]/$,ht[1]/$),signedDistanceFromCamera:$}}function sn(ut,X){return.5+ut/X*.5}function pn(ut,X){var ht=ut[0]/ut[3],$=ut[1]/ut[3];return ht>=-X[0]&&ht<=X[0]&&$>=-X[1]&&$<=X[1]}function gn(ut,X,ht,$,vt,Lt,Zt,ae){var we=$?ut.textSizeData:ut.iconSizeData,ze=i.evaluateSizeForZoom(we,ht.transform.zoom),Ke=[256/ht.width*2+1,256/ht.height*2+1],ar=$?ut.text.dynamicLayoutVertexArray:ut.icon.dynamicLayoutVertexArray;ar.clear();for(var rr=ut.lineVertexArray,Ir=$?ut.text.placedSymbolArray:ut.icon.placedSymbolArray,Zr=ht.transform.width/ht.transform.height,Xr=!1,Vr=0;Vr<Ir.length;Vr++){var Kr=Ir.get(Vr);if(Kr.hidden||Kr.writingMode===i.WritingMode.vertical&&!Xr)Qn(Kr.numGlyphs,ar);else{Xr=!1;var vn=[Kr.anchorX,Kr.anchorY,0,1];if(i.transformMat4(vn,vn,X),pn(vn,Ke)){var In=sn(ht.transform.cameraToCenterDistance,vn[3]),Nn=i.evaluateSizeForFeature(we,ze,Kr),Un=Zt?Nn/In:Nn*In,On=new i.Point(Kr.anchorX,Kr.anchorY),Vn=Or(On,vt).point,Wn={},ra=Kn(Kr,Un,!1,ae,X,vt,Lt,ut.glyphOffsetArray,rr,ar,Vn,On,Wn,Zr);Xr=ra.useVertical,(ra.notEnoughRoom||Xr||ra.needsFlipping&&Kn(Kr,Un,!0,ae,X,vt,Lt,ut.glyphOffsetArray,rr,ar,Vn,On,Wn,Zr).notEnoughRoom)&&Qn(Kr.numGlyphs,ar)}else Qn(Kr.numGlyphs,ar)}}$?ut.text.dynamicLayoutVertexBuffer.updateData(ar):ut.icon.dynamicLayoutVertexBuffer.updateData(ar)}function wn(ut,X,ht,$,vt,Lt,Zt,ae,we,ze,Ke){var ar=ae.glyphStartIndex+ae.numGlyphs,rr=ae.lineStartIndex,Ir=ae.lineStartIndex+ae.lineLength,Zr=X.getoffsetX(ae.glyphStartIndex),Xr=X.getoffsetX(ar-1),Vr=ua(ut*Zr,ht,$,vt,Lt,Zt,ae.segment,rr,Ir,we,ze,Ke);if(!Vr)return null;var Kr=ua(ut*Xr,ht,$,vt,Lt,Zt,ae.segment,rr,Ir,we,ze,Ke);return Kr?{first:Vr,last:Kr}:null}function Rn(ut,X,ht,$){return ut===i.WritingMode.horizontal&&Math.abs(ht.y-X.y)>Math.abs(ht.x-X.x)*$?{useVertical:!0}:(ut===i.WritingMode.vertical?X.y<ht.y:X.x>ht.x)?{needsFlipping:!0}:null}function Kn(ut,X,ht,$,vt,Lt,Zt,ae,we,ze,Ke,ar,rr,Ir){var Kr,Zr=X/24,Xr=ut.lineOffsetX*Zr,Vr=ut.lineOffsetY*Zr;if(ut.numGlyphs>1){var vn=ut.glyphStartIndex+ut.numGlyphs,Ln=ut.lineStartIndex,In=ut.lineStartIndex+ut.lineLength,Nn=wn(Zr,ae,Xr,Vr,ht,Ke,ar,ut,we,Lt,rr);if(!Nn)return{notEnoughRoom:!0};var Un=Or(Nn.first.point,Zt).point,On=Or(Nn.last.point,Zt).point;if($&&!ht){var Vn=Rn(ut.writingMode,Un,On,Ir);if(Vn)return Vn}Kr=[Nn.first];for(var Wn=ut.glyphStartIndex+1;Wn<vn-1;Wn++)Kr.push(ua(Zr*ae.getoffsetX(Wn),Xr,Vr,ht,Ke,ar,ut.segment,Ln,In,we,Lt,rr));Kr.push(Nn.last)}else{if($&&!ht){var ra=Or(ar,vt).point,ca=ut.lineStartIndex+ut.segment+1,oa=new i.Point(we.getx(ca),we.gety(ca)),Pa=Or(oa,vt),Za=Pa.signedDistanceFromCamera>0?Pa.point:_n(ar,oa,ra,1,vt),Ha=Rn(ut.writingMode,ra,Za,Ir);if(Ha)return Ha}var ma=ua(Zr*ae.getoffsetX(ut.glyphStartIndex),Xr,Vr,ht,Ke,ar,ut.segment,ut.lineStartIndex,ut.lineStartIndex+ut.lineLength,we,Lt,rr);if(!ma)return{notEnoughRoom:!0};Kr=[ma]}for(var Ga=0,Fa=Kr;Ga<Fa.length;Ga+=1){var Qa=Fa[Ga];i.addDynamicAttributes(ze,Qa.point,Qa.angle)}return{}}function _n(ut,X,ht,$,vt){var Lt=Or(ut.add(ut.sub(X)._unit()),vt).point,Zt=ht.sub(Lt);return ht.add(Zt._mult($/Zt.mag()))}function ua(ut,X,ht,$,vt,Lt,Zt,ae,we,ze,Ke,ar){var rr=$?ut-X:ut+X,Ir=rr>0?1:-1,Zr=0;$&&(Ir*=-1,Zr=Math.PI),Ir<0&&(Zr+=Math.PI);for(var Xr=Ir>0?ae+Zt:ae+Zt+1,Vr=vt,Kr=vt,vn=0,Ln=0,In=Math.abs(rr),Nn=[];vn+Ln<=In;){if((Xr+=Ir)<ae||Xr>=we)return null;if(Kr=Vr,Nn.push(Vr),void 0===(Vr=ar[Xr])){var Un=new i.Point(ze.getx(Xr),ze.gety(Xr)),On=Or(Un,Ke);if(On.signedDistanceFromCamera>0)Vr=ar[Xr]=On.point;else{var Vn=Xr-Ir;Vr=_n(0===vn?Lt:new i.Point(ze.getx(Vn),ze.gety(Vn)),Un,Kr,In-vn+1,Ke)}}vn+=Ln,Ln=Kr.dist(Vr)}var ra=(In-vn)/Ln,ca=Vr.sub(Kr),oa=ca.mult(ra)._add(Kr);oa._add(ca._unit()._perp()._mult(ht*Ir));var Pa=Zr+Math.atan2(Vr.y-Kr.y,Vr.x-Kr.x);return Nn.push(oa),{point:oa,angle:Pa,path:Nn}}ur.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},ur.prototype.insert=function(X,ht,$,vt,Lt){this._forEachCell(ht,$,vt,Lt,this._insertBoxCell,this.boxUid++),this.boxKeys.push(X),this.bboxes.push(ht),this.bboxes.push($),this.bboxes.push(vt),this.bboxes.push(Lt)},ur.prototype.insertCircle=function(X,ht,$,vt){this._forEachCell(ht-vt,$-vt,ht+vt,$+vt,this._insertCircleCell,this.circleUid++),this.circleKeys.push(X),this.circles.push(ht),this.circles.push($),this.circles.push(vt)},ur.prototype._insertBoxCell=function(X,ht,$,vt,Lt,Zt){this.boxCells[Lt].push(Zt)},ur.prototype._insertCircleCell=function(X,ht,$,vt,Lt,Zt){this.circleCells[Lt].push(Zt)},ur.prototype._query=function(X,ht,$,vt,Lt,Zt){if($<0||X>this.width||vt<0||ht>this.height)return!Lt&&[];var ae=[];if(X<=0&&ht<=0&&this.width<=$&&this.height<=vt){if(Lt)return!0;for(var we=0;we<this.boxKeys.length;we++)ae.push({key:this.boxKeys[we],x1:this.bboxes[4*we],y1:this.bboxes[4*we+1],x2:this.bboxes[4*we+2],y2:this.bboxes[4*we+3]});for(var ze=0;ze<this.circleKeys.length;ze++){var Ke=this.circles[3*ze],ar=this.circles[3*ze+1],rr=this.circles[3*ze+2];ae.push({key:this.circleKeys[ze],x1:Ke-rr,y1:ar-rr,x2:Ke+rr,y2:ar+rr})}return Zt?ae.filter(Zt):ae}return this._forEachCell(X,ht,$,vt,this._queryCell,ae,{hitTest:Lt,seenUids:{box:{},circle:{}}},Zt),Lt?ae.length>0:ae},ur.prototype._queryCircle=function(X,ht,$,vt,Lt){var Zt=X-$,ae=X+$,we=ht-$,ze=ht+$;if(ae<0||Zt>this.width||ze<0||we>this.height)return!vt&&[];var Ke=[];return this._forEachCell(Zt,we,ae,ze,this._queryCellCircle,Ke,{hitTest:vt,circle:{x:X,y:ht,radius:$},seenUids:{box:{},circle:{}}},Lt),vt?Ke.length>0:Ke},ur.prototype.query=function(X,ht,$,vt,Lt){return this._query(X,ht,$,vt,!1,Lt)},ur.prototype.hitTest=function(X,ht,$,vt,Lt){return this._query(X,ht,$,vt,!0,Lt)},ur.prototype.hitTestCircle=function(X,ht,$,vt){return this._queryCircle(X,ht,$,!0,vt)},ur.prototype._queryCell=function(X,ht,$,vt,Lt,Zt,ae,we){var ze=ae.seenUids,Ke=this.boxCells[Lt];if(null!==Ke)for(var ar=this.bboxes,rr=0,Ir=Ke;rr<Ir.length;rr+=1){var Zr=Ir[rr];if(!ze.box[Zr]){ze.box[Zr]=!0;var Xr=4*Zr;if(X<=ar[Xr+2]&&ht<=ar[Xr+3]&&$>=ar[Xr+0]&&vt>=ar[Xr+1]&&(!we||we(this.boxKeys[Zr]))){if(ae.hitTest)return Zt.push(!0),!0;Zt.push({key:this.boxKeys[Zr],x1:ar[Xr],y1:ar[Xr+1],x2:ar[Xr+2],y2:ar[Xr+3]})}}}var Vr=this.circleCells[Lt];if(null!==Vr)for(var Kr=this.circles,vn=0,Ln=Vr;vn<Ln.length;vn+=1){var In=Ln[vn];if(!ze.circle[In]){ze.circle[In]=!0;var Nn=3*In;if(this._circleAndRectCollide(Kr[Nn],Kr[Nn+1],Kr[Nn+2],X,ht,$,vt)&&(!we||we(this.circleKeys[In]))){if(ae.hitTest)return Zt.push(!0),!0;var Un=Kr[Nn],On=Kr[Nn+1],Vn=Kr[Nn+2];Zt.push({key:this.circleKeys[In],x1:Un-Vn,y1:On-Vn,x2:Un+Vn,y2:On+Vn})}}}},ur.prototype._queryCellCircle=function(X,ht,$,vt,Lt,Zt,ae,we){var ze=ae.circle,Ke=ae.seenUids,ar=this.boxCells[Lt];if(null!==ar)for(var rr=this.bboxes,Ir=0,Zr=ar;Ir<Zr.length;Ir+=1){var Xr=Zr[Ir];if(!Ke.box[Xr]){Ke.box[Xr]=!0;var Vr=4*Xr;if(this._circleAndRectCollide(ze.x,ze.y,ze.radius,rr[Vr+0],rr[Vr+1],rr[Vr+2],rr[Vr+3])&&(!we||we(this.boxKeys[Xr])))return Zt.push(!0),!0}}var Kr=this.circleCells[Lt];if(null!==Kr)for(var vn=this.circles,Ln=0,In=Kr;Ln<In.length;Ln+=1){var Nn=In[Ln];if(!Ke.circle[Nn]){Ke.circle[Nn]=!0;var Un=3*Nn;if(this._circlesCollide(vn[Un],vn[Un+1],vn[Un+2],ze.x,ze.y,ze.radius)&&(!we||we(this.circleKeys[Nn])))return Zt.push(!0),!0}}},ur.prototype._forEachCell=function(X,ht,$,vt,Lt,Zt,ae,we){for(var ze=this._convertToXCellCoord(X),Ke=this._convertToYCellCoord(ht),ar=this._convertToXCellCoord($),rr=this._convertToYCellCoord(vt),Ir=ze;Ir<=ar;Ir++)for(var Zr=Ke;Zr<=rr;Zr++)if(Lt.call(this,X,ht,$,vt,this.xCellCount*Zr+Ir,Zt,ae,we))return},ur.prototype._convertToXCellCoord=function(X){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(X*this.xScale)))},ur.prototype._convertToYCellCoord=function(X){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(X*this.yScale)))},ur.prototype._circlesCollide=function(X,ht,$,vt,Lt,Zt){var ae=vt-X,we=Lt-ht,ze=$+Zt;return ze*ze>ae*ae+we*we},ur.prototype._circleAndRectCollide=function(X,ht,$,vt,Lt,Zt,ae){var we=(Zt-vt)/2,ze=Math.abs(X-(vt+we));if(ze>we+$)return!1;var Ke=(ae-Lt)/2,ar=Math.abs(ht-(Lt+Ke));if(ar>Ke+$)return!1;if(ze<=we||ar<=Ke)return!0;var rr=ze-we,Ir=ar-Ke;return rr*rr+Ir*Ir<=$*$};var qn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Qn(ut,X){for(var ht=0;ht<ut;ht++){var $=X.length;X.resize($+4),X.float32.set(qn,3*$)}}function yr(ut,X,ht){var $=X[0],vt=X[1];return ut[0]=ht[0]*$+ht[4]*vt+ht[12],ut[1]=ht[1]*$+ht[5]*vt+ht[13],ut[3]=ht[3]*$+ht[7]*vt+ht[15],ut}var tn=100,Qr=function(X,ht,$){void 0===ht&&(ht=new ur(X.width+200,X.height+200,25)),void 0===$&&($=new ur(X.width+200,X.height+200,25)),this.transform=X,this.grid=ht,this.ignoredGrid=$,this.pitchfactor=Math.cos(X._pitch)*X.cameraToCenterDistance,this.screenRightBoundary=X.width+tn,this.screenBottomBoundary=X.height+tn,this.gridRightBoundary=X.width+200,this.gridBottomBoundary=X.height+200};function dn(ut,X,ht){return X*(i.EXTENT/(ut.tileSize*Math.pow(2,ht-ut.tileID.overscaledZ)))}Qr.prototype.placeCollisionBox=function(X,ht,$,vt,Lt){var Zt=this.projectAndGetPerspectiveRatio(vt,X.anchorPointX,X.anchorPointY),ae=$*Zt.perspectiveRatio,we=X.x1*ae+Zt.point.x,ze=X.y1*ae+Zt.point.y,Ke=X.x2*ae+Zt.point.x,ar=X.y2*ae+Zt.point.y;return!this.isInsideGrid(we,ze,Ke,ar)||!ht&&this.grid.hitTest(we,ze,Ke,ar,Lt)?{box:[],offscreen:!1}:{box:[we,ze,Ke,ar],offscreen:this.isOffscreen(we,ze,Ke,ar)}},Qr.prototype.placeCollisionCircles=function(X,ht,$,vt,Lt,Zt,ae,we,ze,Ke,ar,rr,Ir){var Zr=[],Xr=new i.Point(ht.anchorX,ht.anchorY),Vr=Or(Xr,Zt),Kr=sn(this.transform.cameraToCenterDistance,Vr.signedDistanceFromCamera),Ln=(Ke?Lt/Kr:Lt*Kr)/i.ONE_EM,In=Or(Xr,ae).point,Vn=wn(Ln,vt,ht.lineOffsetX*Ln,ht.lineOffsetY*Ln,!1,In,Xr,ht,$,ae,{}),Wn=!1,ra=!1,ca=!0;if(Vn){for(var oa=.5*rr*Kr+Ir,Pa=new i.Point(-tn,-tn),Za=new i.Point(this.screenRightBoundary,this.screenBottomBoundary),Ha=new bn,ma=Vn.first,Ga=Vn.last,Fa=[],Qa=ma.path.length-1;Qa>=1;Qa--)Fa.push(ma.path[Qa]);for(var Ka=1;Ka<Ga.path.length;Ka++)Fa.push(Ga.path[Ka]);var pi=2.5*oa;if(we){var Xa=Fa.map(function(Fs){return Or(Fs,we)});Fa=Xa.some(function(Fs){return Fs.signedDistanceFromCamera<=0})?[]:Xa.map(function(Fs){return Fs.point})}var li=[];if(Fa.length>0){for(var ka=Fa[0].clone(),ja=Fa[0].clone(),ki=1;ki<Fa.length;ki++)ka.x=Math.min(ka.x,Fa[ki].x),ka.y=Math.min(ka.y,Fa[ki].y),ja.x=Math.max(ja.x,Fa[ki].x),ja.y=Math.max(ja.y,Fa[ki].y);li=ka.x>=Pa.x&&ja.x<=Za.x&&ka.y>=Pa.y&&ja.y<=Za.y?[Fa]:ja.x<Pa.x||ka.x>Za.x||ja.y<Pa.y||ka.y>Za.y?[]:i.clipLine([Fa],Pa.x,Pa.y,Za.x,Za.y)}for(var Ki=0,gs=li;Ki<gs.length;Ki+=1){Ha.reset(gs[Ki],.25*oa);var Rs;Rs=Ha.length<=.5*oa?1:Math.ceil(Ha.paddedLength/pi)+1;for(var tl=0;tl<Rs;tl++){var wu=tl/Math.max(Rs-1,1),el=Ha.lerp(wu),Lo=el.x+tn,rl=el.y+tn;Zr.push(Lo,rl,oa,0);var Wo=Lo-oa,Po=rl-oa,Is=Lo+oa,Pl=rl+oa;if(ca=ca&&this.isOffscreen(Wo,Po,Is,Pl),ra=ra||this.isInsideGrid(Wo,Po,Is,Pl),!X&&this.grid.hitTestCircle(Lo,rl,oa,ar)&&(Wn=!0,!ze))return{circles:[],offscreen:!1,collisionDetected:Wn}}}}return{circles:!ze&&Wn||!ra?[]:Zr,offscreen:ca,collisionDetected:Wn}},Qr.prototype.queryRenderedSymbols=function(X){if(0===X.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var ht=[],$=1/0,vt=1/0,Lt=-1/0,Zt=-1/0,ae=0,we=X;ae<we.length;ae+=1){var ze=we[ae],Ke=new i.Point(ze.x+tn,ze.y+tn);$=Math.min($,Ke.x),vt=Math.min(vt,Ke.y),Lt=Math.max(Lt,Ke.x),Zt=Math.max(Zt,Ke.y),ht.push(Ke)}for(var rr={},Ir={},Zr=0,Xr=this.grid.query($,vt,Lt,Zt).concat(this.ignoredGrid.query($,vt,Lt,Zt));Zr<Xr.length;Zr+=1){var Vr=Xr[Zr],Kr=Vr.key;if(void 0===rr[Kr.bucketInstanceId]&&(rr[Kr.bucketInstanceId]={}),!rr[Kr.bucketInstanceId][Kr.featureIndex]){var vn=[new i.Point(Vr.x1,Vr.y1),new i.Point(Vr.x2,Vr.y1),new i.Point(Vr.x2,Vr.y2),new i.Point(Vr.x1,Vr.y2)];!i.polygonIntersectsPolygon(ht,vn)||(rr[Kr.bucketInstanceId][Kr.featureIndex]=!0,void 0===Ir[Kr.bucketInstanceId]&&(Ir[Kr.bucketInstanceId]=[]),Ir[Kr.bucketInstanceId].push(Kr.featureIndex))}}return Ir},Qr.prototype.insertCollisionBox=function(X,ht,$,vt,Lt){(ht?this.ignoredGrid:this.grid).insert({bucketInstanceId:$,featureIndex:vt,collisionGroupID:Lt},X[0],X[1],X[2],X[3])},Qr.prototype.insertCollisionCircles=function(X,ht,$,vt,Lt){for(var Zt=ht?this.ignoredGrid:this.grid,ae={bucketInstanceId:$,featureIndex:vt,collisionGroupID:Lt},we=0;we<X.length;we+=4)Zt.insertCircle(ae,X[we],X[we+1],X[we+2])},Qr.prototype.projectAndGetPerspectiveRatio=function(X,ht,$){var vt=[ht,$,0,1];return yr(vt,vt,X),{point:new i.Point((vt[0]/vt[3]+1)/2*this.transform.width+tn,(-vt[1]/vt[3]+1)/2*this.transform.height+tn),perspectiveRatio:.5+this.transform.cameraToCenterDistance/vt[3]*.5}},Qr.prototype.isOffscreen=function(X,ht,$,vt){return $<tn||X>=this.screenRightBoundary||vt<tn||ht>this.screenBottomBoundary},Qr.prototype.isInsideGrid=function(X,ht,$,vt){return $>=0&&X<this.gridRightBoundary&&vt>=0&&ht<this.gridBottomBoundary},Qr.prototype.getViewportMatrix=function(){var X=i.identity([]);return i.translate(X,X,[-tn,-tn,0]),X};var Fn=function(X,ht,$,vt){this.opacity=X?Math.max(0,Math.min(1,X.opacity+(X.placed?ht:-ht))):vt&&$?1:0,this.placed=$};Fn.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var Sn=function(X,ht,$,vt,Lt){this.text=new Fn(X?X.text:null,ht,$,Lt),this.icon=new Fn(X?X.icon:null,ht,vt,Lt)};Sn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var En=function(X,ht,$){this.text=X,this.icon=ht,this.skipFade=$},kn=function(){this.invProjMatrix=i.create(),this.viewportMatrix=i.create(),this.circles=[]},Hn=function(X,ht,$,vt,Lt){this.bucketInstanceId=X,this.featureIndex=ht,this.sourceLayerIndex=$,this.bucketIndex=vt,this.tileID=Lt},ta=function(X){this.crossSourceCollisions=X,this.maxGroupID=0,this.collisionGroups={}};function Sa(ut,X,ht,$,vt){var Lt=i.getAnchorAlignment(ut),we=-(Lt.horizontalAlign-.5)*X,ze=-(Lt.verticalAlign-.5)*ht,Ke=i.evaluateVariableOffset(ut,$);return new i.Point(we+Ke[0]*vt,ze+Ke[1]*vt)}function Sr(ut,X,ht,$,vt,Lt){var Zt=ut.x1,ae=ut.x2,we=ut.y1,ze=ut.y2,Ke=ut.anchorPointX,ar=ut.anchorPointY,rr=new i.Point(X,ht);return $&&rr._rotate(vt?Lt:-Lt),{x1:Zt+rr.x,y1:we+rr.y,x2:ae+rr.x,y2:ze+rr.y,anchorPointX:Ke,anchorPointY:ar}}ta.prototype.get=function(X){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[X]){var ht=++this.maxGroupID;this.collisionGroups[X]={ID:ht,predicate:function($){return $.collisionGroupID===ht}}}return this.collisionGroups[X]};var Fr=function(X,ht,$,vt){this.transform=X.clone(),this.collisionIndex=new Qr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ht,this.retainedQueryData={},this.collisionGroups=new ta($),this.collisionCircleArrays={},this.prevPlacement=vt,vt&&(vt.prevPlacement=void 0),this.placedOrientations={}};function Tr(ut,X,ht,$,vt){ut.emplaceBack(X?1:0,ht?1:0,$||0,vt||0),ut.emplaceBack(X?1:0,ht?1:0,$||0,vt||0),ut.emplaceBack(X?1:0,ht?1:0,$||0,vt||0),ut.emplaceBack(X?1:0,ht?1:0,$||0,vt||0)}Fr.prototype.getBucketParts=function(X,ht,$,vt){var Lt=$.getBucket(ht),Zt=$.latestFeatureIndex;if(Lt&&Zt&&ht.id===Lt.layerIds[0]){var ae=$.collisionBoxArray,we=Lt.layers[0].layout,ze=Math.pow(2,this.transform.zoom-$.tileID.overscaledZ),Ke=$.tileSize/i.EXTENT,ar=this.transform.calculatePosMatrix($.tileID.toUnwrapped()),rr="map"===we.get("text-pitch-alignment"),Ir="map"===we.get("text-rotation-alignment"),Zr=dn($,1,this.transform.zoom),Xr=Mr(ar,rr,Ir,this.transform,Zr),Vr=null;if(rr){var Kr=Br(ar,rr,Ir,this.transform,Zr);Vr=i.multiply([],this.transform.labelPlaneMatrix,Kr)}this.retainedQueryData[Lt.bucketInstanceId]=new Hn(Lt.bucketInstanceId,Zt,Lt.sourceLayerIndex,Lt.index,$.tileID);var vn={bucket:Lt,layout:we,posMatrix:ar,textLabelPlaneMatrix:Xr,labelToScreenMatrix:Vr,scale:ze,textPixelRatio:Ke,holdingForFade:$.holdingForFade(),collisionBoxArray:ae,partiallyEvaluatedTextSize:i.evaluateSizeForZoom(Lt.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Lt.sourceID)};if(vt)for(var Ln=0,In=Lt.sortKeyRanges;Ln<In.length;Ln+=1){var Nn=In[Ln];X.push({sortKey:Nn.sortKey,symbolInstanceStart:Nn.symbolInstanceStart,symbolInstanceEnd:Nn.symbolInstanceEnd,parameters:vn})}else X.push({symbolInstanceStart:0,symbolInstanceEnd:Lt.symbolInstances.length,parameters:vn})}},Fr.prototype.attemptAnchorPlacement=function(X,ht,$,vt,Lt,Zt,ae,we,ze,Ke,ar,rr,Ir,Zr,Xr){var In,Vr=[rr.textOffset0,rr.textOffset1],Kr=Sa(X,$,vt,Vr,Lt),vn=this.collisionIndex.placeCollisionBox(Sr(ht,Kr.x,Kr.y,Zt,ae,this.transform.angle),ar,we,ze,Ke.predicate);if(!Xr||0!==this.collisionIndex.placeCollisionBox(Sr(Xr,Kr.x,Kr.y,Zt,ae,this.transform.angle),ar,we,ze,Ke.predicate).box.length)return vn.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[rr.crossTileID]&&this.prevPlacement.placements[rr.crossTileID]&&this.prevPlacement.placements[rr.crossTileID].text&&(In=this.prevPlacement.variableOffsets[rr.crossTileID].anchor),this.variableOffsets[rr.crossTileID]={textOffset:Vr,width:$,height:vt,anchor:X,textBoxScale:Lt,prevAnchor:In},this.markUsedJustification(Ir,X,rr,Zr),Ir.allowVerticalPlacement&&(this.markUsedOrientation(Ir,Zr,rr),this.placedOrientations[rr.crossTileID]=Zr),{shift:Kr,placedGlyphBoxes:vn}):void 0},Fr.prototype.placeLayerBucketPart=function(X,ht,$){var vt=this,Lt=X.parameters,Zt=Lt.bucket,ae=Lt.layout,we=Lt.posMatrix,ze=Lt.textLabelPlaneMatrix,Ke=Lt.labelToScreenMatrix,ar=Lt.textPixelRatio,rr=Lt.holdingForFade,Ir=Lt.collisionBoxArray,Zr=Lt.partiallyEvaluatedTextSize,Xr=Lt.collisionGroup,Vr=ae.get("text-optional"),Kr=ae.get("icon-optional"),vn=ae.get("text-allow-overlap"),Ln=ae.get("icon-allow-overlap"),In="map"===ae.get("text-rotation-alignment"),Nn="map"===ae.get("text-pitch-alignment"),Un="none"!==ae.get("icon-text-fit"),On="viewport-y"===ae.get("symbol-z-order"),Vn=vn&&(Ln||!Zt.hasIconData()||Kr),Wn=Ln&&(vn||!Zt.hasTextData()||Vr);!Zt.collisionArrays&&Ir&&Zt.deserializeCollisionBoxes(Ir);var ra=function(ma,Ga){if(!ht[ma.crossTileID]){if(rr)return void(vt.placements[ma.crossTileID]=new En(!1,!1,!1));var ka,Fa=!1,Qa=!1,Ka=!0,pi=null,Xa={box:null,offscreen:null},li={box:null,offscreen:null},ja=null,ki=null,Ki=0,gs=0,ys=0;Ga.textFeatureIndex?Ki=Ga.textFeatureIndex:ma.useRuntimeCollisionCircles&&(Ki=ma.featureIndex),Ga.verticalTextFeatureIndex&&(gs=Ga.verticalTextFeatureIndex);var Rs=Ga.textBox;if(Rs){var tl=function(Bi){var Yo=i.WritingMode.horizontal;if(Zt.allowVerticalPlacement&&!Bi&&vt.prevPlacement){var Xo=vt.prevPlacement.placedOrientations[ma.crossTileID];Xo&&(vt.placedOrientations[ma.crossTileID]=Xo,vt.markUsedOrientation(Zt,Yo=Xo,ma))}return Yo},wu=function(Bi,Yo){if(Zt.allowVerticalPlacement&&ma.numVerticalGlyphVertices>0&&Ga.verticalTextBox)for(var Xo=0,Uf=Zt.writingModes;Xo<Uf.length&&(Uf[Xo]===i.WritingMode.vertical?(Xa=Yo(),li=Xa):Xa=Bi(),!(Xa&&Xa.box&&Xa.box.length));Xo+=1);else Xa=Bi()};if(ae.get("text-variable-anchor")){var Wo=ae.get("text-variable-anchor");if(vt.prevPlacement&&vt.prevPlacement.variableOffsets[ma.crossTileID]){var Po=vt.prevPlacement.variableOffsets[ma.crossTileID];Wo.indexOf(Po.anchor)>0&&(Wo=Wo.filter(function(Bi){return Bi!==Po.anchor})).unshift(Po.anchor)}var Is=function(Bi,Yo,Xo){for(var Uf=Bi.x2-Bi.x1,uc=Bi.y2-Bi.y1,qc=ma.textBoxScale,th=Un&&!Ln?Yo:null,Cf={box:[],offscreen:!1},eh=vn?2*Wo.length:Wo.length,Vf=0;Vf<eh;++Vf){var fc=vt.attemptAnchorPlacement(Wo[Vf%Wo.length],Bi,Uf,uc,qc,In,Nn,ar,we,Xr,Vf>=Wo.length,ma,Zt,Xo,th);if(fc&&(Cf=fc.placedGlyphBoxes)&&Cf.box&&Cf.box.length){Fa=!0,pi=fc.shift;break}}return Cf};wu(function(){return Is(Rs,Ga.iconBox,i.WritingMode.horizontal)},function(){var Bi=Ga.verticalTextBox;return Zt.allowVerticalPlacement&&!(Xa&&Xa.box&&Xa.box.length)&&ma.numVerticalGlyphVertices>0&&Bi?Is(Bi,Ga.verticalIconBox,i.WritingMode.vertical):{box:null,offscreen:null}}),Xa&&(Fa=Xa.box,Ka=Xa.offscreen);var kf=tl(Xa&&Xa.box);if(!Fa&&vt.prevPlacement){var Ju=vt.prevPlacement.variableOffsets[ma.crossTileID];Ju&&(vt.variableOffsets[ma.crossTileID]=Ju,vt.markUsedJustification(Zt,Ju.anchor,ma,kf))}}else{var el=function(Bi,Yo){var Xo=vt.collisionIndex.placeCollisionBox(Bi,vn,ar,we,Xr.predicate);return Xo&&Xo.box&&Xo.box.length&&(vt.markUsedOrientation(Zt,Yo,ma),vt.placedOrientations[ma.crossTileID]=Yo),Xo};wu(function(){return el(Rs,i.WritingMode.horizontal)},function(){var Bi=Ga.verticalTextBox;return Zt.allowVerticalPlacement&&ma.numVerticalGlyphVertices>0&&Bi?el(Bi,i.WritingMode.vertical):{box:null,offscreen:null}}),tl(Xa&&Xa.box&&Xa.box.length)}}if(Fa=(ka=Xa)&&ka.box&&ka.box.length>0,Ka=ka&&ka.offscreen,ma.useRuntimeCollisionCircles){var _i=Zt.text.placedSymbolArray.get(ma.centerJustifiedTextSymbolIndex),zf=i.evaluateSizeForFeature(Zt.textSizeData,Zr,_i),Ef=ae.get("text-padding");ja=vt.collisionIndex.placeCollisionCircles(vn,_i,Zt.lineVertexArray,Zt.glyphOffsetArray,zf,we,ze,Ke,$,Nn,Xr.predicate,ma.collisionCircleDiameter,Ef),Fa=vn||ja.circles.length>0&&!ja.collisionDetected,Ka=Ka&&ja.offscreen}if(Ga.iconFeatureIndex&&(ys=Ga.iconFeatureIndex),Ga.iconBox){var Qu=function(Bi){var Yo=Un&&pi?Sr(Bi,pi.x,pi.y,In,Nn,vt.transform.angle):Bi;return vt.collisionIndex.placeCollisionBox(Yo,Ln,ar,we,Xr.predicate)};Qa=li&&li.box&&li.box.length&&Ga.verticalIconBox?(ki=Qu(Ga.verticalIconBox)).box.length>0:(ki=Qu(Ga.iconBox)).box.length>0,Ka=Ka&&ki.offscreen}var Of=Vr||0===ma.numHorizontalGlyphVertices&&0===ma.numVerticalGlyphVertices,Bf=Kr||0===ma.numIconVertices;if(Of||Bf?Bf?Of||(Qa=Qa&&Fa):Fa=Qa&&Fa:Qa=Fa=Qa&&Fa,Fa&&ka&&ka.box&&vt.collisionIndex.insertCollisionBox(ka.box,ae.get("text-ignore-placement"),Zt.bucketInstanceId,li&&li.box&&gs?gs:Ki,Xr.ID),Qa&&ki&&vt.collisionIndex.insertCollisionBox(ki.box,ae.get("icon-ignore-placement"),Zt.bucketInstanceId,ys,Xr.ID),ja&&(Fa&&vt.collisionIndex.insertCollisionCircles(ja.circles,ae.get("text-ignore-placement"),Zt.bucketInstanceId,Ki,Xr.ID),$)){var Nf=Zt.bucketInstanceId,$u=vt.collisionCircleArrays[Nf];void 0===$u&&($u=vt.collisionCircleArrays[Nf]=new kn);for(var _u=0;_u<ja.circles.length;_u+=4)$u.circles.push(ja.circles[_u+0]),$u.circles.push(ja.circles[_u+1]),$u.circles.push(ja.circles[_u+2]),$u.circles.push(ja.collisionDetected?1:0)}vt.placements[ma.crossTileID]=new En(Fa||Vn,Qa||Wn,Ka||Zt.justReloaded),ht[ma.crossTileID]=!0}};if(On)for(var ca=Zt.getSortedSymbolIndexes(this.transform.angle),oa=ca.length-1;oa>=0;--oa){var Pa=ca[oa];ra(Zt.symbolInstances.get(Pa),Zt.collisionArrays[Pa])}else for(var Za=X.symbolInstanceStart;Za<X.symbolInstanceEnd;Za++)ra(Zt.symbolInstances.get(Za),Zt.collisionArrays[Za]);if($&&Zt.bucketInstanceId in this.collisionCircleArrays){var Ha=this.collisionCircleArrays[Zt.bucketInstanceId];i.invert(Ha.invProjMatrix,we),Ha.viewportMatrix=this.collisionIndex.getViewportMatrix()}Zt.justReloaded=!1},Fr.prototype.markUsedJustification=function(X,ht,$,vt){var Zt;Zt=vt===i.WritingMode.vertical?$.verticalPlacedTextSymbolIndex:{left:$.leftJustifiedTextSymbolIndex,center:$.centerJustifiedTextSymbolIndex,right:$.rightJustifiedTextSymbolIndex}[i.getAnchorJustification(ht)];for(var we=0,ze=[$.leftJustifiedTextSymbolIndex,$.centerJustifiedTextSymbolIndex,$.rightJustifiedTextSymbolIndex,$.verticalPlacedTextSymbolIndex];we<ze.length;we+=1){var Ke=ze[we];Ke>=0&&(X.text.placedSymbolArray.get(Ke).crossTileID=Zt>=0&&Ke!==Zt?0:$.crossTileID)}},Fr.prototype.markUsedOrientation=function(X,ht,$){for(var vt=ht===i.WritingMode.horizontal||ht===i.WritingMode.horizontalOnly?ht:0,Lt=ht===i.WritingMode.vertical?ht:0,ae=0,we=[$.leftJustifiedTextSymbolIndex,$.centerJustifiedTextSymbolIndex,$.rightJustifiedTextSymbolIndex];ae<we.length;ae+=1)X.text.placedSymbolArray.get(we[ae]).placedOrientation=vt;$.verticalPlacedTextSymbolIndex&&(X.text.placedSymbolArray.get($.verticalPlacedTextSymbolIndex).placedOrientation=Lt)},Fr.prototype.commit=function(X){this.commitTime=X,this.zoomAtLastRecencyCheck=this.transform.zoom;var ht=this.prevPlacement,$=!1;this.prevZoomAdjustment=ht?ht.zoomAdjustment(this.transform.zoom):0;var vt=ht?ht.symbolFadeChange(X):1,Lt=ht?ht.opacities:{},Zt=ht?ht.variableOffsets:{},ae=ht?ht.placedOrientations:{};for(var we in this.placements){var ze=this.placements[we],Ke=Lt[we];Ke?(this.opacities[we]=new Sn(Ke,vt,ze.text,ze.icon),$=$||ze.text!==Ke.text.placed||ze.icon!==Ke.icon.placed):(this.opacities[we]=new Sn(null,vt,ze.text,ze.icon,ze.skipFade),$=$||ze.text||ze.icon)}for(var ar in Lt){var rr=Lt[ar];if(!this.opacities[ar]){var Ir=new Sn(rr,vt,!1,!1);Ir.isHidden()||(this.opacities[ar]=Ir,$=$||rr.text.placed||rr.icon.placed)}}for(var Zr in Zt)!this.variableOffsets[Zr]&&this.opacities[Zr]&&!this.opacities[Zr].isHidden()&&(this.variableOffsets[Zr]=Zt[Zr]);for(var Xr in ae)!this.placedOrientations[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.placedOrientations[Xr]=ae[Xr]);$?this.lastPlacementChangeTime=X:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=ht?ht.lastPlacementChangeTime:X)},Fr.prototype.updateLayerOpacities=function(X,ht){for(var $={},vt=0,Lt=ht;vt<Lt.length;vt+=1){var Zt=Lt[vt],ae=Zt.getBucket(X);ae&&Zt.latestFeatureIndex&&X.id===ae.layerIds[0]&&this.updateBucketOpacities(ae,$,Zt.collisionBoxArray)}},Fr.prototype.updateBucketOpacities=function(X,ht,$){var vt=this;X.hasTextData()&&X.text.opacityVertexArray.clear(),X.hasIconData()&&X.icon.opacityVertexArray.clear(),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexArray.clear(),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexArray.clear();var Lt=X.layers[0].layout,Zt=new Sn(null,0,!1,!1,!0),ae=Lt.get("text-allow-overlap"),we=Lt.get("icon-allow-overlap"),ze=Lt.get("text-variable-anchor"),Ke="map"===Lt.get("text-rotation-alignment"),ar="map"===Lt.get("text-pitch-alignment"),rr="none"!==Lt.get("icon-text-fit"),Ir=new Sn(null,0,ae&&(we||!X.hasIconData()||Lt.get("icon-optional")),we&&(ae||!X.hasTextData()||Lt.get("text-optional")),!0);!X.collisionArrays&&$&&(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData())&&X.deserializeCollisionBoxes($);for(var Zr=function(vn,Ln,In){for(var Nn=0;Nn<Ln/4;Nn++)vn.opacityVertexArray.emplaceBack(In)},Xr=function(vn){var Ln=X.symbolInstances.get(vn),In=Ln.numHorizontalGlyphVertices,Nn=Ln.numVerticalGlyphVertices,Un=Ln.crossTileID,Vn=vt.opacities[Un];ht[Un]?Vn=Zt:Vn||(vt.opacities[Un]=Vn=Ir),ht[Un]=!0;var ra=Ln.numIconVertices>0,ca=vt.placedOrientations[Ln.crossTileID],oa=ca===i.WritingMode.vertical,Pa=ca===i.WritingMode.horizontal||ca===i.WritingMode.horizontalOnly;if(In>0||Nn>0){var Za=je(Vn.text);Zr(X.text,In,oa?xr:Za),Zr(X.text,Nn,Pa?xr:Za);var Ga=Vn.text.isHidden();[Ln.rightJustifiedTextSymbolIndex,Ln.centerJustifiedTextSymbolIndex,Ln.leftJustifiedTextSymbolIndex].forEach(function(ys){ys>=0&&(X.text.placedSymbolArray.get(ys).hidden=Ga||oa?1:0)}),Ln.verticalPlacedTextSymbolIndex>=0&&(X.text.placedSymbolArray.get(Ln.verticalPlacedTextSymbolIndex).hidden=Ga||Pa?1:0);var Fa=vt.variableOffsets[Ln.crossTileID];Fa&&vt.markUsedJustification(X,Fa.anchor,Ln,ca);var Qa=vt.placedOrientations[Ln.crossTileID];Qa&&(vt.markUsedJustification(X,"left",Ln,Qa),vt.markUsedOrientation(X,Qa,Ln))}if(ra){var Ka=je(Vn.icon),pi=!(rr&&Ln.verticalPlacedIconSymbolIndex&&oa);Ln.placedIconSymbolIndex>=0&&(Zr(X.icon,Ln.numIconVertices,pi?Ka:xr),X.icon.placedSymbolArray.get(Ln.placedIconSymbolIndex).hidden=Vn.icon.isHidden()),Ln.verticalPlacedIconSymbolIndex>=0&&(Zr(X.icon,Ln.numVerticalIconVertices,pi?xr:Ka),X.icon.placedSymbolArray.get(Ln.verticalPlacedIconSymbolIndex).hidden=Vn.icon.isHidden())}if(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData()){var ka=X.collisionArrays[vn];if(ka){var ja=new i.Point(0,0);if(ka.textBox||ka.verticalTextBox){var ki=!0;if(ze){var Ki=vt.variableOffsets[Un];Ki?(ja=Sa(Ki.anchor,Ki.width,Ki.height,Ki.textOffset,Ki.textBoxScale),Ke&&ja._rotate(ar?vt.transform.angle:-vt.transform.angle)):ki=!1}ka.textBox&&Tr(X.textCollisionBox.collisionVertexArray,Vn.text.placed,!ki||oa,ja.x,ja.y),ka.verticalTextBox&&Tr(X.textCollisionBox.collisionVertexArray,Vn.text.placed,!ki||Pa,ja.x,ja.y)}var gs=Boolean(!Pa&&ka.verticalIconBox);ka.iconBox&&Tr(X.iconCollisionBox.collisionVertexArray,Vn.icon.placed,gs,rr?ja.x:0,rr?ja.y:0),ka.verticalIconBox&&Tr(X.iconCollisionBox.collisionVertexArray,Vn.icon.placed,!gs,rr?ja.x:0,rr?ja.y:0)}}},Vr=0;Vr<X.symbolInstances.length;Vr++)Xr(Vr);if(X.sortFeatures(this.transform.angle),this.retainedQueryData[X.bucketInstanceId]&&(this.retainedQueryData[X.bucketInstanceId].featureSortOrder=X.featureSortOrder),X.hasTextData()&&X.text.opacityVertexBuffer&&X.text.opacityVertexBuffer.updateData(X.text.opacityVertexArray),X.hasIconData()&&X.icon.opacityVertexBuffer&&X.icon.opacityVertexBuffer.updateData(X.icon.opacityVertexArray),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexBuffer&&X.iconCollisionBox.collisionVertexBuffer.updateData(X.iconCollisionBox.collisionVertexArray),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexBuffer&&X.textCollisionBox.collisionVertexBuffer.updateData(X.textCollisionBox.collisionVertexArray),X.bucketInstanceId in this.collisionCircleArrays){var Kr=this.collisionCircleArrays[X.bucketInstanceId];X.placementInvProjMatrix=Kr.invProjMatrix,X.placementViewportMatrix=Kr.viewportMatrix,X.collisionCircleArray=Kr.circles,delete this.collisionCircleArrays[X.bucketInstanceId]}},Fr.prototype.symbolFadeChange=function(X){return 0===this.fadeDuration?1:(X-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Fr.prototype.zoomAdjustment=function(X){return Math.max(0,(this.transform.zoom-X)/1.5)},Fr.prototype.hasTransitions=function(X){return this.stale||X-this.lastPlacementChangeTime<this.fadeDuration},Fr.prototype.stillRecent=function(X,ht){var $=this.zoomAtLastRecencyCheck===ht?1-this.zoomAdjustment(ht):1;return this.zoomAtLastRecencyCheck=ht,this.commitTime+this.fadeDuration*$>X},Fr.prototype.setStale=function(){this.stale=!0};var kr=Math.pow(2,25),yn=Math.pow(2,24),Cn=Math.pow(2,17),hn=Math.pow(2,16),ln=Math.pow(2,9),Er=Math.pow(2,8),Yr=Math.pow(2,1);function je(ut){if(0===ut.opacity&&!ut.placed)return 0;if(1===ut.opacity&&ut.placed)return 4294967295;var X=ut.placed?1:0,ht=Math.floor(127*ut.opacity);return ht*kr+X*yn+ht*Cn+X*hn+ht*ln+X*Er+ht*Yr+X}var xr=0,Be=function(X){this._sortAcrossTiles="viewport-y"!==X.layout.get("symbol-z-order")&&void 0!==X.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Be.prototype.continuePlacement=function(X,ht,$,vt,Lt){for(var Zt=this._bucketParts;this._currentTileIndex<X.length;)if(ht.getBucketParts(Zt,vt,X[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,Lt())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Zt.sort(function(ze,Ke){return ze.sortKey-Ke.sortKey}));this._currentPartIndex<Zt.length;)if(ht.placeLayerBucketPart(Zt[this._currentPartIndex],this._seenCrossTileIDs,$),this._currentPartIndex++,Lt())return!0;return!1};var Ve=function(X,ht,$,vt,Lt,Zt,ae){this.placement=new Fr(X,Lt,Zt,ae),this._currentPlacementIndex=ht.length-1,this._forceFullPlacement=$,this._showCollisionBoxes=vt,this._done=!1};Ve.prototype.isDone=function(){return this._done},Ve.prototype.continuePlacement=function(X,ht,$){for(var vt=this,Lt=i.browser.now(),Zt=function(){var ar=i.browser.now()-Lt;return!vt._forceFullPlacement&&ar>2};this._currentPlacementIndex>=0;){var we=ht[X[this._currentPlacementIndex]],ze=this.placement.collisionIndex.transform.zoom;if("symbol"===we.type&&(!we.minzoom||we.minzoom<=ze)&&(!we.maxzoom||we.maxzoom>ze)){if(this._inProgressLayer||(this._inProgressLayer=new Be(we)),this._inProgressLayer.continuePlacement($[we.source],this.placement,this._showCollisionBoxes,we,Zt))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Ve.prototype.commit=function(X){return this.placement.commit(X),this.placement};var vr=512/i.EXTENT/2,Hr=function(X,ht,$){this.tileID=X,this.indexedSymbolInstances={},this.bucketInstanceId=$;for(var vt=0;vt<ht.length;vt++){var Lt=ht.get(vt),Zt=Lt.key;this.indexedSymbolInstances[Zt]||(this.indexedSymbolInstances[Zt]=[]),this.indexedSymbolInstances[Zt].push({crossTileID:Lt.crossTileID,coord:this.getScaledCoordinates(Lt,X)})}};Hr.prototype.getScaledCoordinates=function(X,ht){var vt=vr/Math.pow(2,ht.canonical.z-this.tileID.canonical.z);return{x:Math.floor((ht.canonical.x*i.EXTENT+X.anchorX)*vt),y:Math.floor((ht.canonical.y*i.EXTENT+X.anchorY)*vt)}},Hr.prototype.findMatches=function(X,ht,$){for(var vt=this.tileID.canonical.z<ht.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ht.canonical.z),Lt=0;Lt<X.length;Lt++){var Zt=X.get(Lt);if(!Zt.crossTileID){var ae=this.indexedSymbolInstances[Zt.key];if(ae)for(var we=this.getScaledCoordinates(Zt,ht),ze=0,Ke=ae;ze<Ke.length;ze+=1){var ar=Ke[ze];if(Math.abs(ar.coord.x-we.x)<=vt&&Math.abs(ar.coord.y-we.y)<=vt&&!$[ar.crossTileID]){$[ar.crossTileID]=!0,Zt.crossTileID=ar.crossTileID;break}}}}};var rn=function(){this.maxCrossTileID=0};rn.prototype.generate=function(){return++this.maxCrossTileID};var Zn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Zn.prototype.handleWrapJump=function(X){var ht=Math.round((X-this.lng)/360);if(0!==ht)for(var $ in this.indexes){var vt=this.indexes[$],Lt={};for(var Zt in vt){var ae=vt[Zt];ae.tileID=ae.tileID.unwrapTo(ae.tileID.wrap+ht),Lt[ae.tileID.key]=ae}this.indexes[$]=Lt}this.lng=X},Zn.prototype.addBucket=function(X,ht,$){if(this.indexes[X.overscaledZ]&&this.indexes[X.overscaledZ][X.key]){if(this.indexes[X.overscaledZ][X.key].bucketInstanceId===ht.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(X.overscaledZ,this.indexes[X.overscaledZ][X.key])}for(var vt=0;vt<ht.symbolInstances.length;vt++)ht.symbolInstances.get(vt).crossTileID=0;this.usedCrossTileIDs[X.overscaledZ]||(this.usedCrossTileIDs[X.overscaledZ]={});var Zt=this.usedCrossTileIDs[X.overscaledZ];for(var ae in this.indexes){var we=this.indexes[ae];if(Number(ae)>X.overscaledZ)for(var ze in we){var Ke=we[ze];Ke.tileID.isChildOf(X)&&Ke.findMatches(ht.symbolInstances,X,Zt)}else{var rr=we[X.scaledTo(Number(ae)).key];rr&&rr.findMatches(ht.symbolInstances,X,Zt)}}for(var Ir=0;Ir<ht.symbolInstances.length;Ir++){var Zr=ht.symbolInstances.get(Ir);Zr.crossTileID||(Zr.crossTileID=$.generate(),Zt[Zr.crossTileID]=!0)}return void 0===this.indexes[X.overscaledZ]&&(this.indexes[X.overscaledZ]={}),this.indexes[X.overscaledZ][X.key]=new Hr(X,ht.symbolInstances,ht.bucketInstanceId),!0},Zn.prototype.removeBucketCrossTileIDs=function(X,ht){for(var $ in ht.indexedSymbolInstances)for(var vt=0,Lt=ht.indexedSymbolInstances[$];vt<Lt.length;vt+=1)delete this.usedCrossTileIDs[X][Lt[vt].crossTileID]},Zn.prototype.removeStaleBuckets=function(X){var ht=!1;for(var $ in this.indexes){var vt=this.indexes[$];for(var Lt in vt)X[vt[Lt].bucketInstanceId]||(this.removeBucketCrossTileIDs($,vt[Lt]),delete vt[Lt],ht=!0)}return ht};var $n=function(){this.layerIndexes={},this.crossTileIDs=new rn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};$n.prototype.addLayer=function(X,ht,$){var vt=this.layerIndexes[X.id];void 0===vt&&(vt=this.layerIndexes[X.id]=new Zn);var Lt=!1,Zt={};vt.handleWrapJump($);for(var ae=0,we=ht;ae<we.length;ae+=1){var ze=we[ae],Ke=ze.getBucket(X);!Ke||X.id!==Ke.layerIds[0]||(Ke.bucketInstanceId||(Ke.bucketInstanceId=++this.maxBucketInstanceId),vt.addBucket(ze.tileID,Ke,this.crossTileIDs)&&(Lt=!0),Zt[Ke.bucketInstanceId]=!0)}return vt.removeStaleBuckets(Zt)&&(Lt=!0),Lt},$n.prototype.pruneUnusedLayers=function(X){var ht={};for(var $ in X.forEach(function(vt){ht[vt]=!0}),this.layerIndexes)ht[$]||delete this.layerIndexes[$]};var na=function(ut,X){return i.emitValidationErrors(ut,X&&X.filter(function(ht){return"source.canvas"!==ht.identifier}))},Ta=i.pick(Re,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ni=i.pick(Re,["setCenter","setZoom","setBearing","setPitch"]),ei=function $e(){var ut={},X=i.styleSpec.$version;for(var ht in i.styleSpec.$root){var $=i.styleSpec.$root[ht];if($.required){var vt;null!=(vt="version"===ht?X:"array"===$.type?[]:{})&&(ut[ht]=vt)}}return ut}(),lo=function(ut){function X(ht,$){var vt=this;void 0===$&&($={}),ut.call(this),this.map=ht,this.dispatcher=new D(Ce(),this),this.imageManager=new w,this.imageManager.setEventedParent(this),this.glyphManager=new S(ht._requestManager,$.localIdeographFontFamily),this.lineAtlas=new F(256,512),this.crossTileSymbolIndex=new $n,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new i.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",i.getReferrer());var Lt=this;this._rtlTextPluginCallback=X.registerForPluginStateChange(function(Zt){Lt.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:Zt.pluginStatus,pluginURL:Zt.pluginURL},function(we,ze){if(i.triggerPluginCompletionEvent(we),ze&&ze.every(function(rr){return rr}))for(var ar in Lt.sourceCaches)Lt.sourceCaches[ar].reload()})}),this.on("data",function(Zt){if("source"===Zt.dataType&&"metadata"===Zt.sourceDataType){var ae=vt.sourceCaches[Zt.sourceId];if(ae){var we=ae.getSource();if(we&&we.vectorLayerIds)for(var ze in vt._layers){var Ke=vt._layers[ze];Ke.source===we.id&&vt._validateLayer(Ke)}}}})}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.loadURL=function($,vt){var Lt=this;void 0===vt&&(vt={}),this.fire(new i.Event("dataloading",{dataType:"style"}));var Zt="boolean"==typeof vt.validate?vt.validate:!i.isMapboxURL($);$=this.map._requestManager.normalizeStyleURL($,vt.accessToken);var ae=this.map._requestManager.transformRequest($,i.ResourceType.Style);this._request=i.getJSON(ae,function(we,ze){Lt._request=null,we?Lt.fire(new i.ErrorEvent(we)):ze&&Lt._load(ze,Zt)})},X.prototype.loadJSON=function($,vt){var Lt=this;void 0===vt&&(vt={}),this.fire(new i.Event("dataloading",{dataType:"style"})),this._request=i.browser.frame(function(){Lt._request=null,Lt._load($,!1!==vt.validate)})},X.prototype.loadEmpty=function(){this.fire(new i.Event("dataloading",{dataType:"style"})),this._load(ei,!1)},X.prototype._load=function($,vt){if(!vt||!na(this,i.validateStyle($))){for(var Lt in this._loaded=!0,this.stylesheet=$,$.sources)this.addSource(Lt,$.sources[Lt],{validate:!1});$.sprite?this._loadSprite($.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL($.glyphs);var Zt=fr(this.stylesheet.layers);this._order=Zt.map(function(Ke){return Ke.id}),this._layers={},this._serializedLayers={};for(var ae=0,we=Zt;ae<we.length;ae+=1){var ze=we[ae];(ze=i.createStyleLayer(ze)).setEventedParent(this,{layer:{id:ze.id}}),this._layers[ze.id]=ze,this._serializedLayers[ze.id]=ze.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new p(this.stylesheet.light),this.fire(new i.Event("data",{dataType:"style"})),this.fire(new i.Event("style.load"))}},X.prototype._loadSprite=function($){var vt=this;this._spriteRequest=function u(ut,X,ht){var $,vt,Lt,Zt=i.browser.devicePixelRatio>1?"@2x":"",ae=i.getJSON(X.transformRequest(X.normalizeSpriteURL(ut,Zt,".json"),i.ResourceType.SpriteJSON),function(Ke,ar){ae=null,Lt||(Lt=Ke,$=ar,ze())}),we=i.getImage(X.transformRequest(X.normalizeSpriteURL(ut,Zt,".png"),i.ResourceType.SpriteImage),function(Ke,ar){we=null,Lt||(Lt=Ke,vt=ar,ze())});function ze(){if(Lt)ht(Lt);else if($&&vt){var Ke=i.browser.getImageData(vt),ar={};for(var rr in $){var Ir=$[rr],Zr=Ir.width,Xr=Ir.height,Vr=Ir.x,Kr=Ir.y,vn=Ir.sdf,Ln=Ir.pixelRatio,In=Ir.stretchX,Nn=Ir.stretchY,Un=Ir.content,On=new i.RGBAImage({width:Zr,height:Xr});i.RGBAImage.copy(Ke,On,{x:Vr,y:Kr},{x:0,y:0},{width:Zr,height:Xr}),ar[rr]={data:On,pixelRatio:Ln,sdf:vn,stretchX:In,stretchY:Nn,content:Un}}ht(null,ar)}}return{cancel:function(){ae&&(ae.cancel(),ae=null),we&&(we.cancel(),we=null)}}}($,this.map._requestManager,function(Lt,Zt){if(vt._spriteRequest=null,Lt)vt.fire(new i.ErrorEvent(Lt));else if(Zt)for(var ae in Zt)vt.imageManager.addImage(ae,Zt[ae]);vt.imageManager.setLoaded(!0),vt._availableImages=vt.imageManager.listImages(),vt.dispatcher.broadcast("setImages",vt._availableImages),vt.fire(new i.Event("data",{dataType:"style"}))})},X.prototype._validateLayer=function($){var vt=this.sourceCaches[$.source];if(vt){var Lt=$.sourceLayer;if(Lt){var Zt=vt.getSource();("geojson"===Zt.type||Zt.vectorLayerIds&&-1===Zt.vectorLayerIds.indexOf(Lt))&&this.fire(new i.ErrorEvent(new Error('Source layer "'+Lt+'" does not exist on source "'+Zt.id+'" as specified by style layer "'+$.id+'"')))}}},X.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var $ in this.sourceCaches)if(!this.sourceCaches[$].loaded())return!1;return!!this.imageManager.isLoaded()},X.prototype._serializeLayers=function($){for(var vt=[],Lt=0,Zt=$;Lt<Zt.length;Lt+=1){var we=this._layers[Zt[Lt]];"custom"!==we.type&&vt.push(we.serialize())}return vt},X.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var $ in this.sourceCaches)if(this.sourceCaches[$].hasTransition())return!0;for(var vt in this._layers)if(this._layers[vt].hasTransition())return!0;return!1},X.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},X.prototype.update=function($){if(this._loaded){var vt=this._changed;if(this._changed){var Lt=Object.keys(this._updatedLayers),Zt=Object.keys(this._removedLayers);for(var ae in(Lt.length||Zt.length)&&this._updateWorkerLayers(Lt,Zt),this._updatedSources){var we=this._updatedSources[ae];"reload"===we?this._reloadSource(ae):"clear"===we&&this._clearSource(ae)}for(var ze in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ze].updateTransitions($);this.light.updateTransitions($),this._resetUpdates()}var Ke={};for(var ar in this.sourceCaches){var rr=this.sourceCaches[ar];Ke[ar]=rr.used,rr.used=!1}for(var Ir=0,Zr=this._order;Ir<Zr.length;Ir+=1){var Vr=this._layers[Zr[Ir]];Vr.recalculate($,this._availableImages),!Vr.isHidden($.zoom)&&Vr.source&&(this.sourceCaches[Vr.source].used=!0)}for(var Kr in Ke){var vn=this.sourceCaches[Kr];Ke[Kr]!==vn.used&&vn.fire(new i.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Kr}))}this.light.recalculate($),this.z=$.zoom,vt&&this.fire(new i.Event("data",{dataType:"style"}))}},X.prototype._updateTilesForChangedImages=function(){var $=Object.keys(this._changedImages);if($.length){for(var vt in this.sourceCaches)this.sourceCaches[vt].reloadTilesForDependencies(["icons","patterns"],$);this._changedImages={}}},X.prototype._updateWorkerLayers=function($,vt){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers($),removedIds:vt})},X.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},X.prototype.setState=function($){var vt=this;if(this._checkLoaded(),na(this,i.validateStyle($)))return!1;($=i.clone$1($)).layers=fr($.layers);var Lt=Tn(this.serialize(),$).filter(function(ae){return!(ae.command in ni)});if(0===Lt.length)return!1;var Zt=Lt.filter(function(ae){return!(ae.command in Ta)});if(Zt.length>0)throw new Error("Unimplemented: "+Zt.map(function(ae){return ae.command}).join(", ")+".");return Lt.forEach(function(ae){"setTransition"!==ae.command&&vt[ae.command].apply(vt,ae.args)}),this.stylesheet=$,!0},X.prototype.addImage=function($,vt){if(this.getImage($))return this.fire(new i.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage($,vt),this._afterImageUpdated($)},X.prototype.updateImage=function($,vt){this.imageManager.updateImage($,vt)},X.prototype.getImage=function($){return this.imageManager.getImage($)},X.prototype.removeImage=function($){if(!this.getImage($))return this.fire(new i.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage($),this._afterImageUpdated($)},X.prototype._afterImageUpdated=function($){this._availableImages=this.imageManager.listImages(),this._changedImages[$]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new i.Event("data",{dataType:"style"}))},X.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},X.prototype.addSource=function($,vt,Lt){var Zt=this;if(void 0===Lt&&(Lt={}),this._checkLoaded(),void 0!==this.sourceCaches[$])throw new Error("There is already a source with this ID");if(!vt.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(vt).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(vt.type)>=0&&this._validate(i.validateStyle.source,"sources."+$,vt,null,Lt))){this.map&&this.map._collectResourceTiming&&(vt.collectResourceTiming=!0);var ze=this.sourceCaches[$]=new Ie($,vt,this.dispatcher);ze.style=this,ze.setEventedParent(this,function(){return{isSourceLoaded:Zt.loaded(),source:ze.serialize(),sourceId:$}}),ze.onAdd(this.map),this._changed=!0}},X.prototype.removeSource=function($){if(this._checkLoaded(),void 0===this.sourceCaches[$])throw new Error("There is no source with this ID");for(var vt in this._layers)if(this._layers[vt].source===$)return this.fire(new i.ErrorEvent(new Error('Source "'+$+'" cannot be removed while layer "'+vt+'" is using it.')));var Lt=this.sourceCaches[$];delete this.sourceCaches[$],delete this._updatedSources[$],Lt.fire(new i.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:$})),Lt.setEventedParent(null),Lt.clearTiles(),Lt.onRemove&&Lt.onRemove(this.map),this._changed=!0},X.prototype.setGeoJSONSourceData=function($,vt){this._checkLoaded(),this.sourceCaches[$].getSource().setData(vt),this._changed=!0},X.prototype.getSource=function($){return this.sourceCaches[$]&&this.sourceCaches[$].getSource()},X.prototype.addLayer=function($,vt,Lt){void 0===Lt&&(Lt={}),this._checkLoaded();var Zt=$.id;if(this.getLayer(Zt))this.fire(new i.ErrorEvent(new Error('Layer with id "'+Zt+'" already exists on this map')));else{var ae;if("custom"===$.type){if(na(this,i.validateCustomStyleLayer($)))return;ae=i.createStyleLayer($)}else{if("object"==typeof $.source&&(this.addSource(Zt,$.source),$=i.clone$1($),$=i.extend($,{source:Zt})),this._validate(i.validateStyle.layer,"layers."+Zt,$,{arrayIndex:-1},Lt))return;ae=i.createStyleLayer($),this._validateLayer(ae),ae.setEventedParent(this,{layer:{id:Zt}}),this._serializedLayers[ae.id]=ae.serialize()}var we=vt?this._order.indexOf(vt):this._order.length;if(vt&&-1===we)this.fire(new i.ErrorEvent(new Error('Layer with id "'+vt+'" does not exist on this map.')));else{if(this._order.splice(we,0,Zt),this._layerOrderChanged=!0,this._layers[Zt]=ae,this._removedLayers[Zt]&&ae.source&&"custom"!==ae.type){var ze=this._removedLayers[Zt];delete this._removedLayers[Zt],ze.type!==ae.type?this._updatedSources[ae.source]="clear":(this._updatedSources[ae.source]="reload",this.sourceCaches[ae.source].pause())}this._updateLayer(ae),ae.onAdd&&ae.onAdd(this.map)}}},X.prototype.moveLayer=function($,vt){if(this._checkLoaded(),this._changed=!0,this._layers[$]){if($!==vt){var Zt=this._order.indexOf($);this._order.splice(Zt,1);var ae=vt?this._order.indexOf(vt):this._order.length;if(vt&&-1===ae)return void this.fire(new i.ErrorEvent(new Error('Layer with id "'+vt+'" does not exist on this map.')));this._order.splice(ae,0,$),this._layerOrderChanged=!0}}else this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be moved.")))},X.prototype.removeLayer=function($){this._checkLoaded();var vt=this._layers[$];if(vt){vt.setEventedParent(null);var Lt=this._order.indexOf($);this._order.splice(Lt,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[$]=vt,delete this._layers[$],delete this._serializedLayers[$],delete this._updatedLayers[$],delete this._updatedPaintProps[$],vt.onRemove&&vt.onRemove(this.map)}else this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be removed.")))},X.prototype.getLayer=function($){return this._layers[$]},X.prototype.hasLayer=function($){return $ in this._layers},X.prototype.setLayerZoomRange=function($,vt,Lt){this._checkLoaded();var Zt=this.getLayer($);Zt?Zt.minzoom===vt&&Zt.maxzoom===Lt||(null!=vt&&(Zt.minzoom=vt),null!=Lt&&(Zt.maxzoom=Lt),this._updateLayer(Zt)):this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot have zoom extent.")))},X.prototype.setFilter=function($,vt,Lt){void 0===Lt&&(Lt={}),this._checkLoaded();var Zt=this.getLayer($);if(Zt){if(!i.deepEqual(Zt.filter,vt)){if(null==vt)return Zt.filter=void 0,void this._updateLayer(Zt);this._validate(i.validateStyle.filter,"layers."+Zt.id+".filter",vt,null,Lt)||(Zt.filter=i.clone$1(vt),this._updateLayer(Zt))}}else this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be filtered.")))},X.prototype.getFilter=function($){return i.clone$1(this.getLayer($).filter)},X.prototype.setLayoutProperty=function($,vt,Lt,Zt){void 0===Zt&&(Zt={}),this._checkLoaded();var ae=this.getLayer($);ae?i.deepEqual(ae.getLayoutProperty(vt),Lt)||(ae.setLayoutProperty(vt,Lt,Zt),this._updateLayer(ae)):this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be styled.")))},X.prototype.getLayoutProperty=function($,vt){var Lt=this.getLayer($);if(Lt)return Lt.getLayoutProperty(vt);this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style.")))},X.prototype.setPaintProperty=function($,vt,Lt,Zt){void 0===Zt&&(Zt={}),this._checkLoaded();var ae=this.getLayer($);ae?i.deepEqual(ae.getPaintProperty(vt),Lt)||(ae.setPaintProperty(vt,Lt,Zt)&&this._updateLayer(ae),this._changed=!0,this._updatedPaintProps[$]=!0):this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be styled.")))},X.prototype.getPaintProperty=function($,vt){return this.getLayer($).getPaintProperty(vt)},X.prototype.setFeatureState=function($,vt){this._checkLoaded();var Lt=$.source,Zt=$.sourceLayer,ae=this.sourceCaches[Lt];if(void 0!==ae){var we=ae.getSource().type;"geojson"===we&&Zt?this.fire(new i.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==we||Zt?(void 0===$.id&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),ae.setFeatureState(Zt,$.id,vt)):this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new i.ErrorEvent(new Error("The source '"+Lt+"' does not exist in the map's style.")))},X.prototype.removeFeatureState=function($,vt){this._checkLoaded();var Lt=$.source,Zt=this.sourceCaches[Lt];if(void 0!==Zt){var ae=Zt.getSource().type,we="vector"===ae?$.sourceLayer:void 0;"vector"!==ae||we?vt&&"string"!=typeof $.id&&"number"!=typeof $.id?this.fire(new i.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):Zt.removeFeatureState(we,$.id,vt):this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new i.ErrorEvent(new Error("The source '"+Lt+"' does not exist in the map's style.")))},X.prototype.getFeatureState=function($){this._checkLoaded();var vt=$.source,Lt=$.sourceLayer,Zt=this.sourceCaches[vt];if(void 0!==Zt){if("vector"!==Zt.getSource().type||Lt)return void 0===$.id&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),Zt.getFeatureState(Lt,$.id);this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new i.ErrorEvent(new Error("The source '"+vt+"' does not exist in the map's style.")))},X.prototype.getTransition=function(){return i.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},X.prototype.serialize=function(){return i.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:i.mapObject(this.sourceCaches,function($){return $.serialize()}),layers:this._serializeLayers(this._order)},function($){return void 0!==$})},X.prototype._updateLayer=function($){this._updatedLayers[$.id]=!0,$.source&&!this._updatedSources[$.source]&&"raster"!==this.sourceCaches[$.source].getSource().type&&(this._updatedSources[$.source]="reload",this.sourceCaches[$.source].pause()),this._changed=!0},X.prototype._flattenAndSortRenderedFeatures=function($){for(var vt=this,Lt=function(Pa){return"fill-extrusion"===vt._layers[Pa].type},Zt={},ae=[],we=this._order.length-1;we>=0;we--){var ze=this._order[we];if(Lt(ze)){Zt[ze]=we;for(var Ke=0,ar=$;Ke<ar.length;Ke+=1){var Ir=ar[Ke][ze];if(Ir)for(var Zr=0,Xr=Ir;Zr<Xr.length;Zr+=1)ae.push(Xr[Zr])}}}ae.sort(function(Pa,Za){return Za.intersectionZ-Pa.intersectionZ});for(var Kr=[],vn=this._order.length-1;vn>=0;vn--){var Ln=this._order[vn];if(Lt(Ln))for(var In=ae.length-1;In>=0;In--){var Nn=ae[In].feature;if(Zt[Nn.layer.id]<vn)break;Kr.push(Nn),ae.pop()}else for(var Un=0,On=$;Un<On.length;Un+=1){var Wn=On[Un][Ln];if(Wn)for(var ra=0,ca=Wn;ra<ca.length;ra+=1)Kr.push(ca[ra].feature)}}return Kr},X.prototype.queryRenderedFeatures=function($,vt,Lt){vt&&vt.filter&&this._validate(i.validateStyle.filter,"queryRenderedFeatures.filter",vt.filter,null,vt);var Zt={};if(vt&&vt.layers){if(!Array.isArray(vt.layers))return this.fire(new i.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ae=0,we=vt.layers;ae<we.length;ae+=1){var ze=we[ae],Ke=this._layers[ze];if(!Ke)return this.fire(new i.ErrorEvent(new Error("The layer '"+ze+"' does not exist in the map's style and cannot be queried for features."))),[];Zt[Ke.source]=!0}}var ar=[];for(var rr in vt.availableImages=this._availableImages,this.sourceCaches)vt.layers&&!Zt[rr]||ar.push(Q(this.sourceCaches[rr],this._layers,this._serializedLayers,$,vt,Lt));return this.placement&&ar.push(function Y(ut,X,ht,$,vt,Lt,Zt){for(var ae={},we=Lt.queryRenderedSymbols($),ze=[],Ke=0,ar=Object.keys(we).map(Number);Ke<ar.length;Ke+=1)ze.push(Zt[ar[Ke]]);ze.sort(_);for(var Ir=function(){var vn=Xr[Zr],Ln=vn.featureIndex.lookupSymbolFeatures(we[vn.bucketInstanceId],X,vn.bucketIndex,vn.sourceLayerIndex,vt.filter,vt.layers,vt.availableImages,ut);for(var In in Ln){var Nn=ae[In]=ae[In]||[],Un=Ln[In];Un.sort(function(ra,ca){var oa=vn.featureSortOrder;if(oa){var Pa=oa.indexOf(ra.featureIndex);return oa.indexOf(ca.featureIndex)-Pa}return ca.featureIndex-ra.featureIndex});for(var On=0,Vn=Un;On<Vn.length;On+=1)Nn.push(Vn[On])}},Zr=0,Xr=ze;Zr<Xr.length;Zr+=1)Ir();var Vr=function(vn){ae[vn].forEach(function(Ln){var In=Ln.feature,On=ht[ut[vn].source].getFeatureState(In.layer["source-layer"],In.id);In.source=In.layer.source,In.layer["source-layer"]&&(In.sourceLayer=In.layer["source-layer"]),In.state=On})};for(var Kr in ae)Vr(Kr);return ae}(this._layers,this._serializedLayers,this.sourceCaches,$,vt,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ar)},X.prototype.querySourceFeatures=function($,vt){vt&&vt.filter&&this._validate(i.validateStyle.filter,"querySourceFeatures.filter",vt.filter,null,vt);var Lt=this.sourceCaches[$];return Lt?function nt(ut,X){for(var ht=ut.getRenderableIds().map(function(we){return ut.getTileByID(we)}),$=[],vt={},Lt=0;Lt<ht.length;Lt++){var Zt=ht[Lt],ae=Zt.tileID.canonical.key;vt[ae]||(vt[ae]=!0,Zt.querySourceFeatures($,X))}return $}(Lt,vt):[]},X.prototype.addSourceType=function($,vt,Lt){return X.getSourceType($)?Lt(new Error('A source type called "'+$+'" already exists.')):(X.setSourceType($,vt),vt.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:$,url:vt.workerSourceURL},Lt):Lt(null,null))},X.prototype.getLight=function(){return this.light.getLight()},X.prototype.setLight=function($,vt){void 0===vt&&(vt={}),this._checkLoaded();var Lt=this.light.getLight(),Zt=!1;for(var ae in $)if(!i.deepEqual($[ae],Lt[ae])){Zt=!0;break}if(Zt){var we={now:i.browser.now(),transition:i.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight($,vt),this.light.updateTransitions(we)}},X.prototype._validate=function($,vt,Lt,Zt,ae){return void 0===ae&&(ae={}),(!ae||!1!==ae.validate)&&na(this,$.call(i.validateStyle,i.extend({key:vt,style:this.serialize(),value:Lt,styleSpec:i.styleSpec},Zt)))},X.prototype._remove=function(){for(var $ in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),i.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[$].setEventedParent(null);for(var Lt in this.sourceCaches)this.sourceCaches[Lt].clearTiles(),this.sourceCaches[Lt].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},X.prototype._clearSource=function($){this.sourceCaches[$].clearTiles()},X.prototype._reloadSource=function($){this.sourceCaches[$].resume(),this.sourceCaches[$].reload()},X.prototype._updateSources=function($){for(var vt in this.sourceCaches)this.sourceCaches[vt].update($)},X.prototype._generateCollisionBoxes=function(){for(var $ in this.sourceCaches)this._reloadSource($)},X.prototype._updatePlacement=function($,vt,Lt,Zt,ae){void 0===ae&&(ae=!1);for(var we=!1,ze=!1,Ke={},ar=0,rr=this._order;ar<rr.length;ar+=1){var Zr=this._layers[rr[ar]];if("symbol"===Zr.type){if(!Ke[Zr.source]){var Xr=this.sourceCaches[Zr.source];Ke[Zr.source]=Xr.getRenderableIds(!0).map(function(Un){return Xr.getTileByID(Un)}).sort(function(Un,On){return On.tileID.overscaledZ-Un.tileID.overscaledZ||(Un.tileID.isLessThan(On.tileID)?-1:1)})}var Vr=this.crossTileSymbolIndex.addLayer(Zr,Ke[Zr.source],$.center.lng);we=we||Vr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((ae=ae||this._layerOrderChanged||0===Lt)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(i.browser.now(),$.zoom))&&(this.pauseablePlacement=new Ve($,this._order,ae,vt,Lt,Zt,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Ke),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(i.browser.now()),ze=!0),we&&this.pauseablePlacement.placement.setStale()),ze||we)for(var Kr=0,vn=this._order;Kr<vn.length;Kr+=1){var In=this._layers[vn[Kr]];"symbol"===In.type&&this.placement.updateLayerOpacities(In,Ke[In.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(i.browser.now())},X.prototype._releaseSymbolFadeTiles=function(){for(var $ in this.sourceCaches)this.sourceCaches[$].releaseSymbolFadeTiles()},X.prototype.getImages=function($,vt,Lt){this.imageManager.getImages(vt.icons,Lt),this._updateTilesForChangedImages();var Zt=this.sourceCaches[vt.source];Zt&&Zt.setDependencies(vt.tileID.key,vt.type,vt.icons)},X.prototype.getGlyphs=function($,vt,Lt){this.glyphManager.getGlyphs(vt.stacks,Lt)},X.prototype.getResource=function($,vt,Lt){return i.makeRequest(vt,Lt)},X}(i.Evented);lo.getSourceType=function(ut){return K[ut]},lo.setSourceType=function(ut,X){K[ut]=X},lo.registerForPluginStateChange=i.registerForPluginStateChange;var ro=i.createLayout([{name:"a_pos",type:"Int16",components:2}]),zo=vi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Bl=vi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ls=vi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),us=vi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ns=vi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Nl=vi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),xo=vi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Pi=vi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),ru=vi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),nu=vi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),ll=vi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Iu=vi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Fu=vi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),ku=vi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),_o=vi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fo=vi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),bo=vi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),au=vi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),gf=vi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),yf=vi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),ul=vi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),Ul=vi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),iu=vi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Us=vi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),ou=vi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),su=vi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function vi(ut,X){var ht=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,$=X.match(/attribute ([\w]+) ([\w]+)/g),vt=ut.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Lt=X.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Zt=Lt?Lt.concat(vt):vt,ae={};return{fragmentSource:ut=ut.replace(ht,function(we,ze,Ke,ar,rr){return ae[rr]=!0,"define"===ze?"\n#ifndef HAS_UNIFORM_u_"+rr+"\nvarying "+Ke+" "+ar+" "+rr+";\n#else\nuniform "+Ke+" "+ar+" u_"+rr+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+rr+"\n    "+Ke+" "+ar+" "+rr+" = u_"+rr+";\n#endif\n"}),vertexSource:X=X.replace(ht,function(we,ze,Ke,ar,rr){var Ir="float"===ar?"vec2":"vec4",Zr=rr.match(/color/)?"color":Ir;return ae[rr]?"define"===ze?"\n#ifndef HAS_UNIFORM_u_"+rr+"\nuniform lowp float u_"+rr+"_t;\nattribute "+Ke+" "+Ir+" a_"+rr+";\nvarying "+Ke+" "+ar+" "+rr+";\n#else\nuniform "+Ke+" "+ar+" u_"+rr+";\n#endif\n":"vec4"===Zr?"\n#ifndef HAS_UNIFORM_u_"+rr+"\n    "+rr+" = a_"+rr+";\n#else\n    "+Ke+" "+ar+" "+rr+" = u_"+rr+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+rr+"\n    "+rr+" = unpack_mix_"+Zr+"(a_"+rr+", u_"+rr+"_t);\n#else\n    "+Ke+" "+ar+" "+rr+" = u_"+rr+";\n#endif\n":"define"===ze?"\n#ifndef HAS_UNIFORM_u_"+rr+"\nuniform lowp float u_"+rr+"_t;\nattribute "+Ke+" "+Ir+" a_"+rr+";\n#else\nuniform "+Ke+" "+ar+" u_"+rr+";\n#endif\n":"vec4"===Zr?"\n#ifndef HAS_UNIFORM_u_"+rr+"\n    "+Ke+" "+ar+" "+rr+" = a_"+rr+";\n#else\n    "+Ke+" "+ar+" "+rr+" = u_"+rr+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+rr+"\n    "+Ke+" "+ar+" "+rr+" = unpack_mix_"+Zr+"(a_"+rr+", u_"+rr+"_t);\n#else\n    "+Ke+" "+ar+" "+rr+" = u_"+rr+";\n#endif\n"}),staticAttributes:$,staticUniforms:Zt}}var Vs=Object.freeze({__proto__:null,prelude:zo,background:Bl,backgroundPattern:ls,circle:us,clippingMask:Ns,heatmap:Nl,heatmapTexture:xo,collisionBox:Pi,collisionCircle:ru,debug:nu,fill:ll,fillOutline:Iu,fillOutlinePattern:Fu,fillPattern:ku,fillExtrusion:_o,fillExtrusionPattern:fo,hillshadePrepare:bo,hillshade:au,line:gf,lineGradient:yf,linePattern:ul,lineSDF:Ul,raster:iu,symbolIcon:Us,symbolSDF:ou,symbolTextAndIcon:su}),Ms=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function qo(ut){for(var X=[],ht=0;ht<ut.length;ht++)if(null!==ut[ht]){var $=ut[ht].split(" ");X.push($.pop())}return X}Ms.prototype.bind=function(X,ht,$,vt,Lt,Zt,ae,we){this.context=X;for(var ze=this.boundPaintVertexBuffers.length!==vt.length,Ke=0;!ze&&Ke<vt.length;Ke++)this.boundPaintVertexBuffers[Ke]!==vt[Ke]&&(ze=!0);X.extVertexArrayObject&&this.vao&&this.boundProgram===ht&&this.boundLayoutVertexBuffer===$&&!ze&&this.boundIndexBuffer===Lt&&this.boundVertexOffset===Zt&&this.boundDynamicVertexBuffer===ae&&this.boundDynamicVertexBuffer2===we?(X.bindVertexArrayOES.set(this.vao),ae&&ae.bind(),Lt&&Lt.dynamicDraw&&Lt.bind(),we&&we.bind()):this.freshBind(ht,$,vt,Lt,Zt,ae,we)},Ms.prototype.freshBind=function(X,ht,$,vt,Lt,Zt,ae){var we,ze=X.numAttributes,Ke=this.context,ar=Ke.gl;if(Ke.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Ke.extVertexArrayObject.createVertexArrayOES(),Ke.bindVertexArrayOES.set(this.vao),we=0,this.boundProgram=X,this.boundLayoutVertexBuffer=ht,this.boundPaintVertexBuffers=$,this.boundIndexBuffer=vt,this.boundVertexOffset=Lt,this.boundDynamicVertexBuffer=Zt,this.boundDynamicVertexBuffer2=ae;else{we=Ke.currentNumAttributes||0;for(var rr=ze;rr<we;rr++)ar.disableVertexAttribArray(rr)}ht.enableAttributes(ar,X);for(var Ir=0,Zr=$;Ir<Zr.length;Ir+=1)Zr[Ir].enableAttributes(ar,X);Zt&&Zt.enableAttributes(ar,X),ae&&ae.enableAttributes(ar,X),ht.bind(),ht.setVertexAttribPointers(ar,X,Lt);for(var Vr=0,Kr=$;Vr<Kr.length;Vr+=1){var vn=Kr[Vr];vn.bind(),vn.setVertexAttribPointers(ar,X,Lt)}Zt&&(Zt.bind(),Zt.setVertexAttribPointers(ar,X,Lt)),vt&&vt.bind(),ae&&(ae.bind(),ae.setVertexAttribPointers(ar,X,Lt)),Ke.currentNumAttributes=ze},Ms.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var zu=function(X,ht,$,vt,Lt,Zt){var ae=X.gl;this.program=ae.createProgram();for(var we=qo($.staticAttributes),ze=vt?vt.getBinderAttributes():[],Ke=we.concat(ze),ar=$.staticUniforms?qo($.staticUniforms):[],rr=vt?vt.getBinderUniforms():[],Zr=[],Xr=0,Vr=ar.concat(rr);Xr<Vr.length;Xr+=1){var Kr=Vr[Xr];Zr.indexOf(Kr)<0&&Zr.push(Kr)}var vn=vt?vt.defines():[];Zt&&vn.push("#define OVERDRAW_INSPECTOR;");var Ln=vn.concat(zo.fragmentSource,$.fragmentSource).join("\n"),In=vn.concat(zo.vertexSource,$.vertexSource).join("\n"),Nn=ae.createShader(ae.FRAGMENT_SHADER);if(ae.isContextLost())this.failedToCreate=!0;else{ae.shaderSource(Nn,Ln),ae.compileShader(Nn),ae.attachShader(this.program,Nn);var Un=ae.createShader(ae.VERTEX_SHADER);if(ae.isContextLost())this.failedToCreate=!0;else{ae.shaderSource(Un,In),ae.compileShader(Un),ae.attachShader(this.program,Un),this.attributes={};var On={};this.numAttributes=Ke.length;for(var Vn=0;Vn<this.numAttributes;Vn++)Ke[Vn]&&(ae.bindAttribLocation(this.program,Vn,Ke[Vn]),this.attributes[Ke[Vn]]=Vn);ae.linkProgram(this.program),ae.deleteShader(Un),ae.deleteShader(Nn);for(var Wn=0;Wn<Zr.length;Wn++){var ra=Zr[Wn];if(ra&&!On[ra]){var ca=ae.getUniformLocation(this.program,ra);ca&&(On[ra]=ca)}}this.fixedUniforms=Lt(X,On),this.binderUniforms=vt?vt.getUniforms(X,On):[]}}};function Hs(ut,X,ht){var $=1/dn(ht,1,X.transform.tileZoom),vt=Math.pow(2,ht.tileID.overscaledZ),Lt=ht.tileSize*Math.pow(2,X.transform.tileZoom)/vt,Zt=Lt*(ht.tileID.canonical.x+ht.tileID.wrap*vt),ae=Lt*ht.tileID.canonical.y;return{u_image:0,u_texsize:ht.imageAtlasTexture.size,u_scale:[$,ut.fromScale,ut.toScale],u_fade:ut.t,u_pixel_coord_upper:[Zt>>16,ae>>16],u_pixel_coord_lower:[65535&Zt,65535&ae]}}zu.prototype.draw=function(X,ht,$,vt,Lt,Zt,ae,we,ze,Ke,ar,rr,Ir,Zr,Xr,Vr){var Kr,vn=X.gl;if(!this.failedToCreate){for(var Ln in X.program.set(this.program),X.setDepthMode($),X.setStencilMode(vt),X.setColorMode(Lt),X.setCullFace(Zt),this.fixedUniforms)this.fixedUniforms[Ln].set(ae[Ln]);Zr&&Zr.setUniforms(X,this.binderUniforms,rr,{zoom:Ir});for(var In=(Kr={},Kr[vn.LINES]=2,Kr[vn.TRIANGLES]=3,Kr[vn.LINE_STRIP]=1,Kr)[ht],Nn=0,Un=ar.get();Nn<Un.length;Nn+=1){var On=Un[Nn],Vn=On.vaos||(On.vaos={});(Vn[we]||(Vn[we]=new Ms)).bind(X,this,ze,Zr?Zr.getPaintVertexBuffers():[],Ke,On.vertexOffset,Xr,Vr),vn.drawElements(ht,On.primitiveLength*In,vn.UNSIGNED_SHORT,On.primitiveOffset*In*2)}}};var Ss=function(ut,X,ht,$){var vt=X.style.light,Lt=vt.properties.get("position"),Zt=[Lt.x,Lt.y,Lt.z],ae=i.create$1();"viewport"===vt.properties.get("anchor")&&i.fromRotation(ae,-X.transform.angle),i.transformMat3(Zt,Zt,ae);var we=vt.properties.get("color");return{u_matrix:ut,u_lightpos:Zt,u_lightintensity:vt.properties.get("intensity"),u_lightcolor:[we.r,we.g,we.b],u_vertical_gradient:+ht,u_opacity:$}},wo=function(ut,X,ht,$,vt,Lt,Zt){return i.extend(Ss(ut,X,ht,$),Hs(Lt,X,Zt),{u_height_factor:-Math.pow(2,vt.overscaledZ)/Zt.tileSize/8})},Bo=function(ut){return{u_matrix:ut}},es=function(ut,X,ht,$){return i.extend(Bo(ut),Hs(ht,X,$))},No=function(ut,X){return{u_matrix:ut,u_world:X}},fl=function(ut,X,ht,$,vt){return i.extend(es(ut,X,ht,$),{u_world:vt})},lu=function(ut,X,ht,$){var Lt,Zt,vt=ut.transform;if("map"===$.paint.get("circle-pitch-alignment")){var ae=dn(ht,1,vt.zoom);Lt=!0,Zt=[ae,ae]}else Lt=!1,Zt=vt.pixelsToGLUnits;return{u_camera_to_center_distance:vt.cameraToCenterDistance,u_scale_with_map:+("map"===$.paint.get("circle-pitch-scale")),u_matrix:ut.translatePosMatrix(X.posMatrix,ht,$.paint.get("circle-translate"),$.paint.get("circle-translate-anchor")),u_pitch_with_map:+Lt,u_device_pixel_ratio:i.browser.devicePixelRatio,u_extrude_scale:Zt}},bf=function(ut,X,ht){var $=dn(ht,1,X.zoom),vt=Math.pow(2,X.zoom-ht.tileID.overscaledZ),Lt=ht.tileID.overscaleFactor();return{u_matrix:ut,u_camera_to_center_distance:X.cameraToCenterDistance,u_pixels_to_tile_units:$,u_extrude_scale:[X.pixelsToGLUnits[0]/($*vt),X.pixelsToGLUnits[1]/($*vt)],u_overscale_factor:Lt}},Ou=function(ut,X,ht){return{u_matrix:ut,u_inv_matrix:X,u_camera_to_center_distance:ht.cameraToCenterDistance,u_viewport_size:[ht.width,ht.height]}},cl=function(ut,X,ht){return void 0===ht&&(ht=1),{u_matrix:ut,u_color:X,u_overlay:0,u_overlay_scale:ht}},so=function(ut){return{u_matrix:ut}},To=function(ut,X,ht,$){return{u_matrix:ut,u_extrude_scale:dn(X,1,ht),u_intensity:$}};function Uu(ut,X){var ht=Math.pow(2,X.canonical.z),$=X.canonical.y;return[new i.MercatorCoordinate(0,$/ht).toLngLat().lat,new i.MercatorCoordinate(0,($+1)/ht).toLngLat().lat]}var vl=function(ut,X,ht){var $=ut.transform;return{u_matrix:Vo(ut,X,ht),u_ratio:1/dn(X,1,$.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_units_to_pixels:[1/$.pixelsToGLUnits[0],1/$.pixelsToGLUnits[1]]}},Hl=function(ut,X,ht,$){return i.extend(vl(ut,X,ht),{u_image:0,u_image_height:$})},vu=function(ut,X,ht,$){var vt=ut.transform,Lt=Xs(X,vt);return{u_matrix:Vo(ut,X,ht),u_texsize:X.imageAtlasTexture.size,u_ratio:1/dn(X,1,vt.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_image:0,u_scale:[Lt,$.fromScale,$.toScale],u_fade:$.t,u_units_to_pixels:[1/vt.pixelsToGLUnits[0],1/vt.pixelsToGLUnits[1]]}},rs=function(ut,X,ht,$,vt){var Zt=ut.lineAtlas,ae=Xs(X,ut.transform),we="round"===ht.layout.get("line-cap"),ze=Zt.getDash($.from,we),Ke=Zt.getDash($.to,we),ar=ze.width*vt.fromScale,rr=Ke.width*vt.toScale;return i.extend(vl(ut,X,ht),{u_patternscale_a:[ae/ar,-ze.height/2],u_patternscale_b:[ae/rr,-Ke.height/2],u_sdfgamma:Zt.width/(256*Math.min(ar,rr)*i.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:ze.y,u_tex_y_b:Ke.y,u_mix:vt.t})};function Xs(ut,X){return 1/dn(ut,1,X.tileZoom)}function Vo(ut,X,ht){return ut.translatePosMatrix(X.tileID.posMatrix,X,ht.paint.get("line-translate"),ht.paint.get("line-translate-anchor"))}var dl=function(ut,X,ht,$,vt){return{u_matrix:ut,u_tl_parent:X,u_scale_parent:ht,u_buffer_scale:1,u_fade_t:$.mix,u_opacity:$.opacity*vt.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:vt.paint.get("raster-brightness-min"),u_brightness_high:vt.paint.get("raster-brightness-max"),u_saturation_factor:Zs(vt.paint.get("raster-saturation")),u_contrast_factor:ai(vt.paint.get("raster-contrast")),u_spin_weights:pl(vt.paint.get("raster-hue-rotate"))}};function pl(ut){ut*=Math.PI/180;var X=Math.sin(ut),ht=Math.cos(ut);return[(2*ht+1)/3,(-Math.sqrt(3)*X-ht+1)/3,(Math.sqrt(3)*X-ht+1)/3]}function ai(ut){return ut>0?1/(1-ut):1+ut}function Zs(ut){return ut>0?1-1/(1.001-ut):-ut}var Ao,Gl=function(ut,X,ht,$,vt,Lt,Zt,ae,we,ze){var Ke=vt.transform;return{u_is_size_zoom_constant:+("constant"===ut||"source"===ut),u_is_size_feature_constant:+("constant"===ut||"camera"===ut),u_size_t:X?X.uSizeT:0,u_size:X?X.uSize:0,u_camera_to_center_distance:Ke.cameraToCenterDistance,u_pitch:Ke.pitch/360*2*Math.PI,u_rotate_symbol:+ht,u_aspect_ratio:Ke.width/Ke.height,u_fade_change:vt.options.fadeDuration?vt.symbolFadeChange:1,u_matrix:Lt,u_label_plane_matrix:Zt,u_coord_matrix:ae,u_is_text:+we,u_pitch_with_map:+$,u_texsize:ze,u_texture:0}},yl=function(ut,X,ht,$,vt,Lt,Zt,ae,we,ze,Ke){var ar=vt.transform;return i.extend(Gl(ut,X,ht,$,vt,Lt,Zt,ae,we,ze),{u_gamma_scale:$?Math.cos(ar._pitch)*ar.cameraToCenterDistance:1,u_device_pixel_ratio:i.browser.devicePixelRatio,u_is_halo:+Ke})},gu=function(ut,X,ht,$,vt,Lt,Zt,ae,we,ze){return i.extend(yl(ut,X,ht,$,vt,Lt,Zt,ae,!0,we,!0),{u_texsize_icon:ze,u_texture_icon:1})},Ks=function(ut,X,ht){return{u_matrix:ut,u_opacity:X,u_color:ht}},Es=function(ut,X,ht,$,vt,Lt){return i.extend(function Gs(ut,X,ht,$){var vt=ht.imageManager.getPattern(ut.from.toString()),Lt=ht.imageManager.getPattern(ut.to.toString()),Zt=ht.imageManager.getPixelSize(),ae=Zt.width,we=Zt.height,ze=Math.pow(2,$.tileID.overscaledZ),Ke=$.tileSize*Math.pow(2,ht.transform.tileZoom)/ze,ar=Ke*($.tileID.canonical.x+$.tileID.wrap*ze),rr=Ke*$.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:vt.tl,u_pattern_br_a:vt.br,u_pattern_tl_b:Lt.tl,u_pattern_br_b:Lt.br,u_texsize:[ae,we],u_mix:X.t,u_pattern_size_a:vt.displaySize,u_pattern_size_b:Lt.displaySize,u_scale_a:X.fromScale,u_scale_b:X.toScale,u_tile_units_to_pixels:1/dn($,1,ht.transform.tileZoom),u_pixel_coord_upper:[ar>>16,rr>>16],u_pixel_coord_lower:[65535&ar,65535&rr]}}($,Lt,ht,vt),{u_matrix:ut,u_opacity:X})},xl={fillExtrusion:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_lightpos:new i.Uniform3f(ut,X.u_lightpos),u_lightintensity:new i.Uniform1f(ut,X.u_lightintensity),u_lightcolor:new i.Uniform3f(ut,X.u_lightcolor),u_vertical_gradient:new i.Uniform1f(ut,X.u_vertical_gradient),u_opacity:new i.Uniform1f(ut,X.u_opacity)}},fillExtrusionPattern:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_lightpos:new i.Uniform3f(ut,X.u_lightpos),u_lightintensity:new i.Uniform1f(ut,X.u_lightintensity),u_lightcolor:new i.Uniform3f(ut,X.u_lightcolor),u_vertical_gradient:new i.Uniform1f(ut,X.u_vertical_gradient),u_height_factor:new i.Uniform1f(ut,X.u_height_factor),u_image:new i.Uniform1i(ut,X.u_image),u_texsize:new i.Uniform2f(ut,X.u_texsize),u_pixel_coord_upper:new i.Uniform2f(ut,X.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(ut,X.u_pixel_coord_lower),u_scale:new i.Uniform3f(ut,X.u_scale),u_fade:new i.Uniform1f(ut,X.u_fade),u_opacity:new i.Uniform1f(ut,X.u_opacity)}},fill:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix)}},fillPattern:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_image:new i.Uniform1i(ut,X.u_image),u_texsize:new i.Uniform2f(ut,X.u_texsize),u_pixel_coord_upper:new i.Uniform2f(ut,X.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(ut,X.u_pixel_coord_lower),u_scale:new i.Uniform3f(ut,X.u_scale),u_fade:new i.Uniform1f(ut,X.u_fade)}},fillOutline:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_world:new i.Uniform2f(ut,X.u_world)}},fillOutlinePattern:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_world:new i.Uniform2f(ut,X.u_world),u_image:new i.Uniform1i(ut,X.u_image),u_texsize:new i.Uniform2f(ut,X.u_texsize),u_pixel_coord_upper:new i.Uniform2f(ut,X.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(ut,X.u_pixel_coord_lower),u_scale:new i.Uniform3f(ut,X.u_scale),u_fade:new i.Uniform1f(ut,X.u_fade)}},circle:function(ut,X){return{u_camera_to_center_distance:new i.Uniform1f(ut,X.u_camera_to_center_distance),u_scale_with_map:new i.Uniform1i(ut,X.u_scale_with_map),u_pitch_with_map:new i.Uniform1i(ut,X.u_pitch_with_map),u_extrude_scale:new i.Uniform2f(ut,X.u_extrude_scale),u_device_pixel_ratio:new i.Uniform1f(ut,X.u_device_pixel_ratio),u_matrix:new i.UniformMatrix4f(ut,X.u_matrix)}},collisionBox:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_camera_to_center_distance:new i.Uniform1f(ut,X.u_camera_to_center_distance),u_pixels_to_tile_units:new i.Uniform1f(ut,X.u_pixels_to_tile_units),u_extrude_scale:new i.Uniform2f(ut,X.u_extrude_scale),u_overscale_factor:new i.Uniform1f(ut,X.u_overscale_factor)}},collisionCircle:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_inv_matrix:new i.UniformMatrix4f(ut,X.u_inv_matrix),u_camera_to_center_distance:new i.Uniform1f(ut,X.u_camera_to_center_distance),u_viewport_size:new i.Uniform2f(ut,X.u_viewport_size)}},debug:function(ut,X){return{u_color:new i.UniformColor(ut,X.u_color),u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_overlay:new i.Uniform1i(ut,X.u_overlay),u_overlay_scale:new i.Uniform1f(ut,X.u_overlay_scale)}},clippingMask:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix)}},heatmap:function(ut,X){return{u_extrude_scale:new i.Uniform1f(ut,X.u_extrude_scale),u_intensity:new i.Uniform1f(ut,X.u_intensity),u_matrix:new i.UniformMatrix4f(ut,X.u_matrix)}},heatmapTexture:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_world:new i.Uniform2f(ut,X.u_world),u_image:new i.Uniform1i(ut,X.u_image),u_color_ramp:new i.Uniform1i(ut,X.u_color_ramp),u_opacity:new i.Uniform1f(ut,X.u_opacity)}},hillshade:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_image:new i.Uniform1i(ut,X.u_image),u_latrange:new i.Uniform2f(ut,X.u_latrange),u_light:new i.Uniform2f(ut,X.u_light),u_shadow:new i.UniformColor(ut,X.u_shadow),u_highlight:new i.UniformColor(ut,X.u_highlight),u_accent:new i.UniformColor(ut,X.u_accent)}},hillshadePrepare:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_image:new i.Uniform1i(ut,X.u_image),u_dimension:new i.Uniform2f(ut,X.u_dimension),u_zoom:new i.Uniform1f(ut,X.u_zoom),u_unpack:new i.Uniform4f(ut,X.u_unpack)}},line:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_ratio:new i.Uniform1f(ut,X.u_ratio),u_device_pixel_ratio:new i.Uniform1f(ut,X.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(ut,X.u_units_to_pixels)}},lineGradient:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_ratio:new i.Uniform1f(ut,X.u_ratio),u_device_pixel_ratio:new i.Uniform1f(ut,X.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(ut,X.u_units_to_pixels),u_image:new i.Uniform1i(ut,X.u_image),u_image_height:new i.Uniform1f(ut,X.u_image_height)}},linePattern:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_texsize:new i.Uniform2f(ut,X.u_texsize),u_ratio:new i.Uniform1f(ut,X.u_ratio),u_device_pixel_ratio:new i.Uniform1f(ut,X.u_device_pixel_ratio),u_image:new i.Uniform1i(ut,X.u_image),u_units_to_pixels:new i.Uniform2f(ut,X.u_units_to_pixels),u_scale:new i.Uniform3f(ut,X.u_scale),u_fade:new i.Uniform1f(ut,X.u_fade)}},lineSDF:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_ratio:new i.Uniform1f(ut,X.u_ratio),u_device_pixel_ratio:new i.Uniform1f(ut,X.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(ut,X.u_units_to_pixels),u_patternscale_a:new i.Uniform2f(ut,X.u_patternscale_a),u_patternscale_b:new i.Uniform2f(ut,X.u_patternscale_b),u_sdfgamma:new i.Uniform1f(ut,X.u_sdfgamma),u_image:new i.Uniform1i(ut,X.u_image),u_tex_y_a:new i.Uniform1f(ut,X.u_tex_y_a),u_tex_y_b:new i.Uniform1f(ut,X.u_tex_y_b),u_mix:new i.Uniform1f(ut,X.u_mix)}},raster:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_tl_parent:new i.Uniform2f(ut,X.u_tl_parent),u_scale_parent:new i.Uniform1f(ut,X.u_scale_parent),u_buffer_scale:new i.Uniform1f(ut,X.u_buffer_scale),u_fade_t:new i.Uniform1f(ut,X.u_fade_t),u_opacity:new i.Uniform1f(ut,X.u_opacity),u_image0:new i.Uniform1i(ut,X.u_image0),u_image1:new i.Uniform1i(ut,X.u_image1),u_brightness_low:new i.Uniform1f(ut,X.u_brightness_low),u_brightness_high:new i.Uniform1f(ut,X.u_brightness_high),u_saturation_factor:new i.Uniform1f(ut,X.u_saturation_factor),u_contrast_factor:new i.Uniform1f(ut,X.u_contrast_factor),u_spin_weights:new i.Uniform3f(ut,X.u_spin_weights)}},symbolIcon:function(ut,X){return{u_is_size_zoom_constant:new i.Uniform1i(ut,X.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(ut,X.u_is_size_feature_constant),u_size_t:new i.Uniform1f(ut,X.u_size_t),u_size:new i.Uniform1f(ut,X.u_size),u_camera_to_center_distance:new i.Uniform1f(ut,X.u_camera_to_center_distance),u_pitch:new i.Uniform1f(ut,X.u_pitch),u_rotate_symbol:new i.Uniform1i(ut,X.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(ut,X.u_aspect_ratio),u_fade_change:new i.Uniform1f(ut,X.u_fade_change),u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(ut,X.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(ut,X.u_coord_matrix),u_is_text:new i.Uniform1i(ut,X.u_is_text),u_pitch_with_map:new i.Uniform1i(ut,X.u_pitch_with_map),u_texsize:new i.Uniform2f(ut,X.u_texsize),u_texture:new i.Uniform1i(ut,X.u_texture)}},symbolSDF:function(ut,X){return{u_is_size_zoom_constant:new i.Uniform1i(ut,X.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(ut,X.u_is_size_feature_constant),u_size_t:new i.Uniform1f(ut,X.u_size_t),u_size:new i.Uniform1f(ut,X.u_size),u_camera_to_center_distance:new i.Uniform1f(ut,X.u_camera_to_center_distance),u_pitch:new i.Uniform1f(ut,X.u_pitch),u_rotate_symbol:new i.Uniform1i(ut,X.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(ut,X.u_aspect_ratio),u_fade_change:new i.Uniform1f(ut,X.u_fade_change),u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(ut,X.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(ut,X.u_coord_matrix),u_is_text:new i.Uniform1i(ut,X.u_is_text),u_pitch_with_map:new i.Uniform1i(ut,X.u_pitch_with_map),u_texsize:new i.Uniform2f(ut,X.u_texsize),u_texture:new i.Uniform1i(ut,X.u_texture),u_gamma_scale:new i.Uniform1f(ut,X.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(ut,X.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(ut,X.u_is_halo)}},symbolTextAndIcon:function(ut,X){return{u_is_size_zoom_constant:new i.Uniform1i(ut,X.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(ut,X.u_is_size_feature_constant),u_size_t:new i.Uniform1f(ut,X.u_size_t),u_size:new i.Uniform1f(ut,X.u_size),u_camera_to_center_distance:new i.Uniform1f(ut,X.u_camera_to_center_distance),u_pitch:new i.Uniform1f(ut,X.u_pitch),u_rotate_symbol:new i.Uniform1i(ut,X.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(ut,X.u_aspect_ratio),u_fade_change:new i.Uniform1f(ut,X.u_fade_change),u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(ut,X.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(ut,X.u_coord_matrix),u_is_text:new i.Uniform1i(ut,X.u_is_text),u_pitch_with_map:new i.Uniform1i(ut,X.u_pitch_with_map),u_texsize:new i.Uniform2f(ut,X.u_texsize),u_texsize_icon:new i.Uniform2f(ut,X.u_texsize_icon),u_texture:new i.Uniform1i(ut,X.u_texture),u_texture_icon:new i.Uniform1i(ut,X.u_texture_icon),u_gamma_scale:new i.Uniform1f(ut,X.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(ut,X.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(ut,X.u_is_halo)}},background:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_opacity:new i.Uniform1f(ut,X.u_opacity),u_color:new i.UniformColor(ut,X.u_color)}},backgroundPattern:function(ut,X){return{u_matrix:new i.UniformMatrix4f(ut,X.u_matrix),u_opacity:new i.Uniform1f(ut,X.u_opacity),u_image:new i.Uniform1i(ut,X.u_image),u_pattern_tl_a:new i.Uniform2f(ut,X.u_pattern_tl_a),u_pattern_br_a:new i.Uniform2f(ut,X.u_pattern_br_a),u_pattern_tl_b:new i.Uniform2f(ut,X.u_pattern_tl_b),u_pattern_br_b:new i.Uniform2f(ut,X.u_pattern_br_b),u_texsize:new i.Uniform2f(ut,X.u_texsize),u_mix:new i.Uniform1f(ut,X.u_mix),u_pattern_size_a:new i.Uniform2f(ut,X.u_pattern_size_a),u_pattern_size_b:new i.Uniform2f(ut,X.u_pattern_size_b),u_scale_a:new i.Uniform1f(ut,X.u_scale_a),u_scale_b:new i.Uniform1f(ut,X.u_scale_b),u_pixel_coord_upper:new i.Uniform2f(ut,X.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(ut,X.u_pixel_coord_lower),u_tile_units_to_pixels:new i.Uniform1f(ut,X.u_tile_units_to_pixels)}}};function Mo(ut,X,ht,$,vt,Lt,Zt){for(var ae=ut.context,we=ae.gl,ze=ut.useProgram("collisionBox"),Ke=[],ar=0,rr=0,Ir=0;Ir<$.length;Ir++){var Zr=$[Ir],Xr=X.getTile(Zr),Vr=Xr.getBucket(ht);if(Vr){var Kr=Zr.posMatrix;(0!==vt[0]||0!==vt[1])&&(Kr=ut.translatePosMatrix(Zr.posMatrix,Xr,vt,Lt));var vn=Zt?Vr.textCollisionBox:Vr.iconCollisionBox,Ln=Vr.collisionCircleArray;if(Ln.length>0){var In=i.create(),Nn=Kr;i.mul(In,Vr.placementInvProjMatrix,ut.transform.glCoordMatrix),i.mul(In,In,Vr.placementViewportMatrix),Ke.push({circleArray:Ln,circleOffset:rr,transform:Nn,invTransform:In}),rr=ar+=Ln.length/4}!vn||ze.draw(ae,we.LINES,hr.disabled,Ye.disabled,ut.colorModeForRenderPass(),Se.disabled,bf(Kr,ut.transform,Xr),ht.id,vn.layoutVertexBuffer,vn.indexBuffer,vn.segments,null,ut.transform.zoom,null,null,vn.collisionVertexBuffer)}}if(Zt&&Ke.length){var Un=ut.useProgram("collisionCircle"),On=new i.StructArrayLayout2f1f2i16;On.resize(4*ar),On._trim();for(var Vn=0,Wn=0,ra=Ke;Wn<ra.length;Wn+=1)for(var ca=ra[Wn],oa=0;oa<ca.circleArray.length/4;oa++){var Pa=4*oa,Za=ca.circleArray[Pa+0],Ha=ca.circleArray[Pa+1],ma=ca.circleArray[Pa+2],Ga=ca.circleArray[Pa+3];On.emplace(Vn++,Za,Ha,ma,Ga,0),On.emplace(Vn++,Za,Ha,ma,Ga,1),On.emplace(Vn++,Za,Ha,ma,Ga,2),On.emplace(Vn++,Za,Ha,ma,Ga,3)}(!Ao||Ao.length<2*ar)&&(Ao=function Js(ut){var X=2*ut,ht=new i.StructArrayLayout3ui6;ht.resize(X),ht._trim();for(var $=0;$<X;$++){var vt=6*$;ht.uint16[vt+0]=4*$+0,ht.uint16[vt+1]=4*$+1,ht.uint16[vt+2]=4*$+2,ht.uint16[vt+3]=4*$+2,ht.uint16[vt+4]=4*$+3,ht.uint16[vt+5]=4*$+0}return ht}(ar));for(var Fa=ae.createIndexBuffer(Ao,!0),Qa=ae.createVertexBuffer(On,i.collisionCircleLayout.members,!0),Ka=0,pi=Ke;Ka<pi.length;Ka+=1){var Xa=pi[Ka],li=Ou(Xa.transform,Xa.invTransform,ut.transform);Un.draw(ae,we.TRIANGLES,hr.disabled,Ye.disabled,ut.colorModeForRenderPass(),Se.disabled,li,ht.id,Qa,Fa,i.SegmentVector.simpleSegment(0,2*Xa.circleOffset,Xa.circleArray.length,Xa.circleArray.length/2),null,ut.transform.zoom,null,null,null)}Qa.destroy(),Fa.destroy()}}var Cs=i.identity(new Float32Array(16));function Ls(ut,X,ht,$,vt,Lt){var Zt=i.getAnchorAlignment(ut),ze=-(Zt.horizontalAlign-.5)*X,Ke=-(Zt.verticalAlign-.5)*ht,ar=i.evaluateVariableOffset(ut,$);return new i.Point((ze/vt+ar[0])*Lt,(Ke/vt+ar[1])*Lt)}function Gu(ut,X,ht,$,vt,Lt,Zt,ae,we,ze,Ke){var ar=ut.text.placedSymbolArray,rr=ut.text.dynamicLayoutVertexArray,Ir=ut.icon.dynamicLayoutVertexArray,Zr={};rr.clear();for(var Xr=0;Xr<ar.length;Xr++){var Vr=ar.get(Xr),vn=Vr.hidden||!Vr.crossTileID||ut.allowVerticalPlacement&&!Vr.placedOrientation?null:$[Vr.crossTileID];if(vn){var Ln=new i.Point(Vr.anchorX,Vr.anchorY),In=Or(Ln,ht?ae:Zt),Nn=sn(Lt.cameraToCenterDistance,In.signedDistanceFromCamera),Un=vt.evaluateSizeForFeature(ut.textSizeData,ze,Vr)*Nn/i.ONE_EM;ht&&(Un*=ut.tilePixelRatio/we);for(var oa=Ls(vn.anchor,vn.width,vn.height,vn.textOffset,vn.textBoxScale,Un),Pa=ht?Or(Ln.add(oa),Zt).point:In.point.add(X?oa.rotate(-Lt.angle):oa),Za=ut.allowVerticalPlacement&&Vr.placedOrientation===i.WritingMode.vertical?Math.PI/2:0,Ha=0;Ha<Vr.numGlyphs;Ha++)i.addDynamicAttributes(rr,Pa,Za);Ke&&Vr.associatedIconIndex>=0&&(Zr[Vr.associatedIconIndex]={shiftedAnchor:Pa,angle:Za})}else Qn(Vr.numGlyphs,rr)}if(Ke){Ir.clear();for(var ma=ut.icon.placedSymbolArray,Ga=0;Ga<ma.length;Ga++){var Fa=ma.get(Ga);if(Fa.hidden)Qn(Fa.numGlyphs,Ir);else{var Qa=Zr[Ga];if(Qa)for(var Ka=0;Ka<Fa.numGlyphs;Ka++)i.addDynamicAttributes(Ir,Qa.shiftedAnchor,Qa.angle);else Qn(Fa.numGlyphs,Ir)}}ut.icon.dynamicLayoutVertexBuffer.updateData(Ir)}ut.text.dynamicLayoutVertexBuffer.updateData(rr)}function ho(ut,X,ht){return ht.iconsInText&&X?"symbolTextAndIcon":ut?"symbolSDF":"symbolIcon"}function Ps(ut,X,ht,$,vt,Lt,Zt,ae,we,ze,Ke,ar){for(var rr=ut.context,Ir=rr.gl,Zr=ut.transform,Xr="map"===ae,Vr="map"===we,Kr=Xr&&"point"!==ht.layout.get("symbol-placement"),vn=Xr&&!Vr&&!Kr,Ln=void 0!==ht.layout.get("symbol-sort-key").constantOr(1),In=!1,Nn=ut.depthModeForSublayer(0,hr.ReadOnly),Un=ht.layout.get("text-variable-anchor"),On=[],Vn=0,Wn=$;Vn<Wn.length;Vn+=1){var ra=Wn[Vn],ca=X.getTile(ra),oa=ca.getBucket(ht);if(oa){var Pa=vt?oa.text:oa.icon;if(Pa&&Pa.segments.get().length){var Za=Pa.programConfigurations.get(ht.id),Ha=vt||oa.sdfIcons,ma=vt?oa.textSizeData:oa.iconSizeData,Ga=Vr||0!==Zr.pitch,Fa=ut.useProgram(ho(Ha,vt,oa),Za),Qa=i.evaluateSizeForZoom(ma,Zr.zoom),Ka=void 0,pi=[0,0],Xa=void 0,li=void 0,ka=null,ja=void 0;if(vt)Xa=ca.glyphAtlasTexture,li=Ir.LINEAR,Ka=ca.glyphAtlasTexture.size,oa.iconsInText&&(pi=ca.imageAtlasTexture.size,ka=ca.imageAtlasTexture,ja=Ga||ut.options.rotating||ut.options.zooming||"composite"===ma.kind||"camera"===ma.kind?Ir.LINEAR:Ir.NEAREST);else{var Ki=1!==ht.layout.get("icon-size").constantOr(0)||oa.iconsNeedLinear;Xa=ca.imageAtlasTexture,li=Ha||ut.options.rotating||ut.options.zooming||Ki||Ga?Ir.LINEAR:Ir.NEAREST,Ka=ca.imageAtlasTexture.size}var gs=dn(ca,1,ut.transform.zoom),ys=Mr(ra.posMatrix,Vr,Xr,ut.transform,gs),Rs=Br(ra.posMatrix,Vr,Xr,ut.transform,gs),tl=Un&&oa.hasTextData(),wu="none"!==ht.layout.get("icon-text-fit")&&tl&&oa.hasIconData();Kr&&gn(oa,ra.posMatrix,ut,vt,ys,Rs,Vr,ze);var el=ut.translatePosMatrix(ra.posMatrix,ca,Lt,Zt),Lo=Kr||vt&&Un||wu?Cs:ys,rl=ut.translatePosMatrix(Rs,ca,Lt,Zt,!0),Wo=Ha&&0!==ht.paint.get(vt?"text-halo-width":"icon-halo-width").constantOr(1),Is={program:Fa,buffers:Pa,uniformValues:Ha?oa.iconsInText?gu(ma.kind,Qa,vn,Vr,ut,el,Lo,rl,Ka,pi):yl(ma.kind,Qa,vn,Vr,ut,el,Lo,rl,vt,Ka,!0):Gl(ma.kind,Qa,vn,Vr,ut,el,Lo,rl,vt,Ka),atlasTexture:Xa,atlasTextureIcon:ka,atlasInterpolation:li,atlasInterpolationIcon:ja,isSDF:Ha,hasHalo:Wo};if(Ln&&oa.canOverlap){In=!0;for(var Fs=0,kf=Pa.segments.get();Fs<kf.length;Fs+=1){var Ju=kf[Fs];On.push({segments:new i.SegmentVector([Ju]),sortKey:Ju.sortKey,state:Is})}}else On.push({segments:Pa.segments,sortKey:0,state:Is})}}}In&&On.sort(function(Of,Bf){return Of.sortKey-Bf.sortKey});for(var _i=0,zf=On;_i<zf.length;_i+=1){var Ef=zf[_i],vo=Ef.state;if(rr.activeTexture.set(Ir.TEXTURE0),vo.atlasTexture.bind(vo.atlasInterpolation,Ir.CLAMP_TO_EDGE),vo.atlasTextureIcon&&(rr.activeTexture.set(Ir.TEXTURE1),vo.atlasTextureIcon&&vo.atlasTextureIcon.bind(vo.atlasInterpolationIcon,Ir.CLAMP_TO_EDGE)),vo.isSDF){var Qu=vo.uniformValues;vo.hasHalo&&(Qu.u_is_halo=1,bl(vo.buffers,Ef.segments,ht,ut,vo.program,Nn,Ke,ar,Qu)),Qu.u_is_halo=0}bl(vo.buffers,Ef.segments,ht,ut,vo.program,Nn,Ke,ar,vo.uniformValues)}}function bl(ut,X,ht,$,vt,Lt,Zt,ae,we){var ze=$.context;vt.draw(ze,ze.gl.TRIANGLES,Lt,Zt,ae,Se.disabled,we,ht.id,ut.layoutVertexBuffer,ut.indexBuffer,X,ht.paint,$.transform.zoom,ut.programConfigurations.get(ht.id),ut.dynamicLayoutVertexBuffer,ut.opacityVertexBuffer)}function $s(ut,X,ht,$,vt,Lt,Zt){var ar,rr,Ir,Zr,Xr,ae=ut.context.gl,we=ht.paint.get("fill-pattern"),ze=we&&we.constantOr(1),Ke=ht.getCrossfadeParameters();Zt?(rr=ze&&!ht.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ar=ae.LINES):(rr=ze?"fillPattern":"fill",ar=ae.TRIANGLES);for(var Vr=0,Kr=$;Vr<Kr.length;Vr+=1){var vn=Kr[Vr],Ln=X.getTile(vn);if(!ze||Ln.patternsLoaded()){var In=Ln.getBucket(ht);if(In){var Nn=In.programConfigurations.get(ht.id),Un=ut.useProgram(rr,Nn);ze&&(ut.context.activeTexture.set(ae.TEXTURE0),Ln.imageAtlasTexture.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),Nn.updatePaintBuffers(Ke));var On=we.constantOr(null);if(On&&Ln.imageAtlas){var Vn=Ln.imageAtlas,Wn=Vn.patternPositions[On.to.toString()],ra=Vn.patternPositions[On.from.toString()];Wn&&ra&&Nn.setConstantPatternPositions(Wn,ra)}var ca=ut.translatePosMatrix(vn.posMatrix,Ln,ht.paint.get("fill-translate"),ht.paint.get("fill-translate-anchor"));if(Zt){Zr=In.indexBuffer2,Xr=In.segments2;var oa=[ae.drawingBufferWidth,ae.drawingBufferHeight];Ir="fillOutlinePattern"===rr&&ze?fl(ca,ut,Ke,Ln,oa):No(ca,oa)}else Zr=In.indexBuffer,Xr=In.segments,Ir=ze?es(ca,ut,Ke,Ln):Bo(ca);Un.draw(ut.context,ar,vt,ut.stencilModeForClipping(vn),Lt,Se.disabled,Ir,ht.id,In.layoutVertexBuffer,Zr,Xr,ht.paint,ut.transform.zoom,Nn)}}}}function $i(ut,X,ht,$,vt,Lt,Zt){for(var ae=ut.context,we=ae.gl,ze=ht.paint.get("fill-extrusion-pattern"),Ke=ze.constantOr(1),ar=ht.getCrossfadeParameters(),rr=ht.paint.get("fill-extrusion-opacity"),Ir=0,Zr=$;Ir<Zr.length;Ir+=1){var Xr=Zr[Ir],Vr=X.getTile(Xr),Kr=Vr.getBucket(ht);if(Kr){var vn=Kr.programConfigurations.get(ht.id),Ln=ut.useProgram(Ke?"fillExtrusionPattern":"fillExtrusion",vn);Ke&&(ut.context.activeTexture.set(we.TEXTURE0),Vr.imageAtlasTexture.bind(we.LINEAR,we.CLAMP_TO_EDGE),vn.updatePaintBuffers(ar));var In=ze.constantOr(null);if(In&&Vr.imageAtlas){var Nn=Vr.imageAtlas,Un=Nn.patternPositions[In.to.toString()],On=Nn.patternPositions[In.from.toString()];Un&&On&&vn.setConstantPatternPositions(Un,On)}var Vn=ut.translatePosMatrix(Xr.posMatrix,Vr,ht.paint.get("fill-extrusion-translate"),ht.paint.get("fill-extrusion-translate-anchor")),Wn=ht.paint.get("fill-extrusion-vertical-gradient"),ra=Ke?wo(Vn,ut,Wn,rr,Xr,ar,Vr):Ss(Vn,ut,Wn,rr);Ln.draw(ae,ae.gl.TRIANGLES,vt,Lt,Zt,Se.backCCW,ra,ht.id,Kr.layoutVertexBuffer,Kr.indexBuffer,Kr.segments,ht.paint,ut.transform.zoom,vn)}}}function wl(ut,X,ht,$,vt,Lt){var Zt=ut.context,ae=Zt.gl,we=X.fbo;if(we){var ze=ut.useProgram("hillshade");Zt.activeTexture.set(ae.TEXTURE0),ae.bindTexture(ae.TEXTURE_2D,we.colorAttachment.get());var Ke=function(ut,X,ht){var $=ht.paint.get("hillshade-shadow-color"),vt=ht.paint.get("hillshade-highlight-color"),Lt=ht.paint.get("hillshade-accent-color"),Zt=ht.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===ht.paint.get("hillshade-illumination-anchor")&&(Zt-=ut.transform.angle);var ae=!ut.options.moving;return{u_matrix:ut.transform.calculatePosMatrix(X.tileID.toUnwrapped(),ae),u_image:0,u_latrange:Uu(0,X.tileID),u_light:[ht.paint.get("hillshade-exaggeration"),Zt],u_shadow:$,u_highlight:vt,u_accent:Lt}}(ut,X,ht);ze.draw(Zt,ae.TRIANGLES,$,vt,Lt,Se.disabled,Ke,ht.id,ut.rasterBoundsBuffer,ut.quadTriangleIndexBuffer,ut.rasterBoundsSegments)}}function ns(ut,X,ht,$,vt,Lt){var Zt=ut.context,ae=Zt.gl,we=X.dem;if(we&&we.data){var ze=we.dim,Ke=we.stride,ar=we.getPixels();if(Zt.activeTexture.set(ae.TEXTURE1),Zt.pixelStoreUnpackPremultiplyAlpha.set(!1),X.demTexture=X.demTexture||ut.getTileTexture(Ke),X.demTexture){var rr=X.demTexture;rr.update(ar,{premultiply:!1}),rr.bind(ae.NEAREST,ae.CLAMP_TO_EDGE)}else X.demTexture=new i.Texture(Zt,ar,ae.RGBA,{premultiply:!1}),X.demTexture.bind(ae.NEAREST,ae.CLAMP_TO_EDGE);Zt.activeTexture.set(ae.TEXTURE0);var Ir=X.fbo;if(!Ir){var Zr=new i.Texture(Zt,{width:ze,height:ze,data:null},ae.RGBA);Zr.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),(Ir=X.fbo=Zt.createFramebuffer(ze,ze,!0)).colorAttachment.set(Zr.texture)}Zt.bindFramebuffer.set(Ir.framebuffer),Zt.viewport.set([0,0,ze,ze]),ut.useProgram("hillshadePrepare").draw(Zt,ae.TRIANGLES,$,vt,Lt,Se.disabled,function(ut,X){var ht=X.stride,$=i.create();return i.ortho($,0,i.EXTENT,-i.EXTENT,0,0,1),i.translate($,$,[0,-i.EXTENT,0]),{u_matrix:$,u_image:1,u_dimension:[ht,ht],u_zoom:ut.overscaledZ,u_unpack:X.getUnpackVector()}}(X.tileID,we),ht.id,ut.rasterBoundsBuffer,ut.quadTriangleIndexBuffer,ut.rasterBoundsSegments),X.needsHillshadePrepare=!1}}function qs(ut,X,ht,$,vt){var Lt=$.paint.get("raster-fade-duration");if(Lt>0){var Zt=i.browser.now(),ae=(Zt-ut.timeAdded)/Lt,we=X?(Zt-X.timeAdded)/Lt:-1,ze=ht.getSource(),Ke=vt.coveringZoomLevel({tileSize:ze.tileSize,roundZoom:ze.roundZoom}),ar=!X||Math.abs(X.tileID.overscaledZ-Ke)>Math.abs(ut.tileID.overscaledZ-Ke),rr=ar&&ut.refreshedUponExpiration?1:i.clamp(ar?ae:1-we,0,1);return ut.refreshedUponExpiration&&ae>=1&&(ut.refreshedUponExpiration=!1),X?{opacity:1,mix:1-rr}:{opacity:rr,mix:0}}return{opacity:1,mix:0}}var Tl=new i.Color(1,0,0,1),Yu=new i.Color(0,1,0,1),Al=new i.Color(0,0,1,1),mu=new i.Color(1,0,1,1),Kt=new i.Color(0,1,1,1);function qt(ut){var X=ut.transform.padding;ge(ut,ut.transform.height-(X.top||0),3,Tl),ge(ut,X.bottom||0,3,Yu),De(ut,X.left||0,3,Al),De(ut,ut.transform.width-(X.right||0),3,mu);var $=ut.transform.centerPoint;!function fe(ut,X,ht,$){var vt=20,Lt=2;Ee(ut,X-Lt/2,ht-vt/2,Lt,vt,$),Ee(ut,X-vt/2,ht-Lt/2,vt,Lt,$)}(ut,$.x,ut.transform.height-$.y,Kt)}function ge(ut,X,ht,$){Ee(ut,0,X+ht/2,ut.transform.width,ht,$)}function De(ut,X,ht,$){Ee(ut,X-ht/2,0,ht,ut.transform.height,$)}function Ee(ut,X,ht,$,vt,Lt){var Zt=ut.context,ae=Zt.gl;ae.enable(ae.SCISSOR_TEST),ae.scissor(X*i.browser.devicePixelRatio,ht*i.browser.devicePixelRatio,$*i.browser.devicePixelRatio,vt*i.browser.devicePixelRatio),Zt.clear({color:Lt}),ae.disable(ae.SCISSOR_TEST)}function cr(ut,X,ht){var $=ut.context,vt=$.gl,Lt=ht.posMatrix,Zt=ut.useProgram("debug"),ae=hr.disabled,we=Ye.disabled,ze=ut.colorModeForRenderPass();$.activeTexture.set(vt.TEXTURE0),ut.emptyTexture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE),Zt.draw($,vt.LINE_STRIP,ae,we,ze,Se.disabled,cl(Lt,i.Color.red),"$debug",ut.debugBuffer,ut.tileBorderIndexBuffer,ut.debugSegments);var ar=X.getTileByID(ht.key).latestRawTileData,Ir=Math.floor((ar&&ar.byteLength||0)/1024),Zr=X.getTile(ht).tileSize,Xr=512/Math.min(Zr,512)*(ht.overscaledZ/ut.transform.zoom)*.5,Vr=ht.canonical.toString();ht.overscaledZ!==ht.canonical.z&&(Vr+=" => "+ht.overscaledZ),function br(ut,X){ut.initDebugOverlayCanvas();var ht=ut.debugOverlayCanvas,$=ut.context.gl,vt=ut.debugOverlayCanvas.getContext("2d");vt.clearRect(0,0,ht.width,ht.height),vt.shadowColor="white",vt.shadowBlur=2,vt.lineWidth=1.5,vt.strokeStyle="white",vt.textBaseline="top",vt.font="bold 36px Open Sans, sans-serif",vt.fillText(X,5,5),vt.strokeText(X,5,5),ut.debugOverlayTexture.update(ht),ut.debugOverlayTexture.bind($.LINEAR,$.CLAMP_TO_EDGE)}(ut,Vr+" "+Ir+"kb"),Zt.draw($,vt.TRIANGLES,ae,we,ne.alphaBlended,Se.disabled,cl(Lt,i.Color.transparent,Xr),"$debug",ut.debugBuffer,ut.quadTriangleIndexBuffer,ut.debugSegments)}var wr={symbol:function Hu(ut,X,ht,$,vt){if("translucent"===ut.renderPass){var Lt=Ye.disabled,Zt=ut.colorModeForRenderPass();ht.layout.get("text-variable-anchor")&&function co(ut,X,ht,$,vt,Lt,Zt){for(var ae=X.transform,we="map"===vt,ze="map"===Lt,Ke=0,ar=ut;Ke<ar.length;Ke+=1){var rr=ar[Ke],Ir=$.getTile(rr),Zr=Ir.getBucket(ht);if(Zr&&Zr.text&&Zr.text.segments.get().length){var Vr=i.evaluateSizeForZoom(Zr.textSizeData,ae.zoom),Kr=dn(Ir,1,X.transform.zoom),vn=Mr(rr.posMatrix,ze,we,X.transform,Kr),Ln="none"!==ht.layout.get("icon-text-fit")&&Zr.hasIconData();if(Vr){var In=Math.pow(2,ae.zoom-Ir.tileID.overscaledZ);Gu(Zr,we,ze,Zt,i.symbolSize,ae,vn,rr.posMatrix,In,Vr,Ln)}}}}($,ut,ht,X,ht.layout.get("text-rotation-alignment"),ht.layout.get("text-pitch-alignment"),vt),0!==ht.paint.get("icon-opacity").constantOr(1)&&Ps(ut,X,ht,$,!1,ht.paint.get("icon-translate"),ht.paint.get("icon-translate-anchor"),ht.layout.get("icon-rotation-alignment"),ht.layout.get("icon-pitch-alignment"),ht.layout.get("icon-keep-upright"),Lt,Zt),0!==ht.paint.get("text-opacity").constantOr(1)&&Ps(ut,X,ht,$,!0,ht.paint.get("text-translate"),ht.paint.get("text-translate-anchor"),ht.layout.get("text-rotation-alignment"),ht.layout.get("text-pitch-alignment"),ht.layout.get("text-keep-upright"),Lt,Zt),X.map.showCollisionBoxes&&(Mo(ut,X,ht,$,ht.paint.get("text-translate"),ht.paint.get("text-translate-anchor"),!0),Mo(ut,X,ht,$,ht.paint.get("icon-translate"),ht.paint.get("icon-translate-anchor"),!1))}},circle:function Wl(ut,X,ht,$){if("translucent"===ut.renderPass){var vt=ht.paint.get("circle-opacity"),Lt=ht.paint.get("circle-stroke-width"),Zt=ht.paint.get("circle-stroke-opacity"),ae=void 0!==ht.layout.get("circle-sort-key").constantOr(1);if(0!==vt.constantOr(1)||0!==Lt.constantOr(1)&&0!==Zt.constantOr(1)){for(var we=ut.context,ze=we.gl,Ke=ut.depthModeForSublayer(0,hr.ReadOnly),ar=Ye.disabled,rr=ut.colorModeForRenderPass(),Ir=[],Zr=0;Zr<$.length;Zr++){var Xr=$[Zr],Vr=X.getTile(Xr),Kr=Vr.getBucket(ht);if(Kr){var vn=Kr.programConfigurations.get(ht.id),On={programConfiguration:vn,program:ut.useProgram("circle",vn),layoutVertexBuffer:Kr.layoutVertexBuffer,indexBuffer:Kr.indexBuffer,uniformValues:lu(ut,Xr,Vr,ht)};if(ae)for(var Wn=0,ra=Kr.segments.get();Wn<ra.length;Wn+=1){var ca=ra[Wn];Ir.push({segments:new i.SegmentVector([ca]),sortKey:ca.sortKey,state:On})}else Ir.push({segments:Kr.segments,sortKey:0,state:On})}}ae&&Ir.sort(function(Xa,li){return Xa.sortKey-li.sortKey});for(var oa=0,Pa=Ir;oa<Pa.length;oa+=1){var Za=Pa[oa],Ha=Za.state;Ha.program.draw(we,ze.TRIANGLES,Ke,ar,rr,Se.disabled,Ha.uniformValues,ht.id,Ha.layoutVertexBuffer,Ha.indexBuffer,Za.segments,ht.paint,ut.transform.zoom,Ha.programConfiguration)}}}},heatmap:function Qs(ut,X,ht,$){if(0!==ht.paint.get("heatmap-opacity"))if("offscreen"===ut.renderPass){var vt=ut.context,Lt=vt.gl,Zt=Ye.disabled,ae=new ne([Lt.ONE,Lt.ONE],i.Color.transparent,[!0,!0,!0,!0]);(function yu(ut,X,ht){var $=ut.gl;ut.activeTexture.set($.TEXTURE1),ut.viewport.set([0,0,X.width/4,X.height/4]);var vt=ht.heatmapFbo;if(vt)$.bindTexture($.TEXTURE_2D,vt.colorAttachment.get()),ut.bindFramebuffer.set(vt.framebuffer);else{var Lt=$.createTexture();$.bindTexture($.TEXTURE_2D,Lt),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_S,$.CLAMP_TO_EDGE),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_T,$.CLAMP_TO_EDGE),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.LINEAR),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.LINEAR),vt=ht.heatmapFbo=ut.createFramebuffer(X.width/4,X.height/4,!1),function Yl(ut,X,ht,$){var vt=ut.gl;vt.texImage2D(vt.TEXTURE_2D,0,vt.RGBA,X.width/4,X.height/4,0,vt.RGBA,ut.extRenderToTextureHalfFloat?ut.extTextureHalfFloat.HALF_FLOAT_OES:vt.UNSIGNED_BYTE,null),$.colorAttachment.set(ht)}(ut,X,Lt,vt)}})(vt,ut,ht),vt.clear({color:i.Color.transparent});for(var we=0;we<$.length;we++){var ze=$[we];if(!X.hasRenderableParent(ze)){var Ke=X.getTile(ze),ar=Ke.getBucket(ht);if(ar){var rr=ar.programConfigurations.get(ht.id);ut.useProgram("heatmap",rr).draw(vt,Lt.TRIANGLES,hr.disabled,Zt,ae,Se.disabled,To(ze.posMatrix,Ke,ut.transform.zoom,ht.paint.get("heatmap-intensity")),ht.id,ar.layoutVertexBuffer,ar.indexBuffer,ar.segments,ht.paint,ut.transform.zoom,rr)}}}vt.viewport.set([0,0,ut.width,ut.height])}else"translucent"===ut.renderPass&&(ut.context.setColorMode(ut.colorModeForRenderPass()),function vs(ut,X){var ht=ut.context,$=ht.gl,vt=X.heatmapFbo;if(vt){ht.activeTexture.set($.TEXTURE0),$.bindTexture($.TEXTURE_2D,vt.colorAttachment.get()),ht.activeTexture.set($.TEXTURE1);var Lt=X.colorRampTexture;Lt||(Lt=X.colorRampTexture=new i.Texture(ht,X.colorRamp,$.RGBA)),Lt.bind($.LINEAR,$.CLAMP_TO_EDGE),ut.useProgram("heatmapTexture").draw(ht,$.TRIANGLES,hr.disabled,Ye.disabled,ut.colorModeForRenderPass(),Se.disabled,function(ut,X,ht,$){var vt=i.create();i.ortho(vt,0,ut.width,ut.height,0,0,1);var Lt=ut.context.gl;return{u_matrix:vt,u_world:[Lt.drawingBufferWidth,Lt.drawingBufferHeight],u_image:ht,u_color_ramp:$,u_opacity:X.paint.get("heatmap-opacity")}}(ut,X,0,1),X.id,ut.viewportBuffer,ut.quadTriangleIndexBuffer,ut.viewportSegments,X.paint,ut.transform.zoom)}}(ut,ht))},line:function Xl(ut,X,ht,$){if("translucent"===ut.renderPass){var vt=ht.paint.get("line-opacity"),Lt=ht.paint.get("line-width");if(0!==vt.constantOr(1)&&0!==Lt.constantOr(1))for(var Zt=ut.depthModeForSublayer(0,hr.ReadOnly),ae=ut.colorModeForRenderPass(),we=ht.paint.get("line-dasharray"),ze=ht.paint.get("line-pattern"),Ke=ze.constantOr(1),ar=ht.paint.get("line-gradient"),rr=ht.getCrossfadeParameters(),Ir=Ke?"linePattern":we?"lineSDF":ar?"lineGradient":"line",Zr=ut.context,Xr=Zr.gl,Vr=!0,Kr=0,vn=$;Kr<vn.length;Kr+=1){var Ln=vn[Kr],In=X.getTile(Ln);if(!Ke||In.patternsLoaded()){var Nn=In.getBucket(ht);if(Nn){var Un=Nn.programConfigurations.get(ht.id),On=ut.context.program.get(),Vn=ut.useProgram(Ir,Un),Wn=Vr||Vn.program!==On,ra=ze.constantOr(null);if(ra&&In.imageAtlas){var ca=In.imageAtlas,oa=ca.patternPositions[ra.to.toString()],Pa=ca.patternPositions[ra.from.toString()];oa&&Pa&&Un.setConstantPatternPositions(oa,Pa)}var Za=Ke?vu(ut,In,ht,rr):we?rs(ut,In,ht,we,rr):ar?Hl(ut,In,ht,Nn.lineClipsArray.length):vl(ut,In,ht);if(Ke)Zr.activeTexture.set(Xr.TEXTURE0),In.imageAtlasTexture.bind(Xr.LINEAR,Xr.CLAMP_TO_EDGE),Un.updatePaintBuffers(rr);else if(we&&(Wn||ut.lineAtlas.dirty))Zr.activeTexture.set(Xr.TEXTURE0),ut.lineAtlas.bind(Zr);else if(ar){var Ha=Nn.gradients[ht.id],ma=Ha.texture;if(ht.gradientVersion!==Ha.version){var Ga=256;if(ht.stepInterpolant){var Fa=X.getSource().maxzoom,Qa=Ln.canonical.z===Fa?Math.ceil(1<<ut.transform.maxZoom-Ln.canonical.z):1;Ga=i.clamp(i.nextPowerOfTwo(Nn.maxLineLength/i.EXTENT*1024*Qa),256,Zr.maxTextureSize)}Ha.gradient=i.renderColorRamp({expression:ht.gradientExpression(),evaluationKey:"lineProgress",resolution:Ga,image:Ha.gradient||void 0,clips:Nn.lineClipsArray}),Ha.texture?Ha.texture.update(Ha.gradient):Ha.texture=new i.Texture(Zr,Ha.gradient,Xr.RGBA),Ha.version=ht.gradientVersion,ma=Ha.texture}Zr.activeTexture.set(Xr.TEXTURE0),ma.bind(ht.stepInterpolant?Xr.NEAREST:Xr.LINEAR,Xr.CLAMP_TO_EDGE)}Vn.draw(Zr,Xr.TRIANGLES,Zt,ut.stencilModeForClipping(Ln),ae,Se.disabled,Za,ht.id,Nn.layoutVertexBuffer,Nn.indexBuffer,Nn.segments,ht.paint,ut.transform.zoom,Un,Nn.layoutVertexBuffer2),Vr=!1}}}}},fill:function Tf(ut,X,ht,$){var vt=ht.paint.get("fill-color"),Lt=ht.paint.get("fill-opacity");if(0!==Lt.constantOr(1)){var Zt=ut.colorModeForRenderPass(),ae=ht.paint.get("fill-pattern"),we=ut.opaquePassEnabledForLayer()&&!ae.constantOr(1)&&1===vt.constantOr(i.Color.transparent).a&&1===Lt.constantOr(0)?"opaque":"translucent";if(ut.renderPass===we){var ze=ut.depthModeForSublayer(1,"opaque"===ut.renderPass?hr.ReadWrite:hr.ReadOnly);$s(ut,X,ht,$,ze,Zt,!1)}if("translucent"===ut.renderPass&&ht.paint.get("fill-antialias")){var Ke=ut.depthModeForSublayer(ht.getPaintProperty("fill-outline-color")?2:0,hr.ReadOnly);$s(ut,X,ht,$,Ke,Zt,!0)}}},"fill-extrusion":function Wu(ut,X,ht,$){var vt=ht.paint.get("fill-extrusion-opacity");if(0!==vt&&"translucent"===ut.renderPass){var Lt=new hr(ut.context.gl.LEQUAL,hr.ReadWrite,ut.depthRangeFor3D);if(1!==vt||ht.paint.get("fill-extrusion-pattern").constantOr(1))$i(ut,X,ht,$,Lt,Ye.disabled,ne.disabled),$i(ut,X,ht,$,Lt,ut.stencilModeFor3D(),ut.colorModeForRenderPass());else{var Zt=ut.colorModeForRenderPass();$i(ut,X,ht,$,Lt,Ye.disabled,Zt)}}},hillshade:function _s(ut,X,ht,$){if("offscreen"===ut.renderPass||"translucent"===ut.renderPass){for(var vt=ut.context,Lt=ut.depthModeForSublayer(0,hr.ReadOnly),Zt=ut.colorModeForRenderPass(),ae="translucent"===ut.renderPass?ut.stencilConfigForOverlap($):[{},$],we=ae[0],Ke=0,ar=ae[1];Ke<ar.length;Ke+=1){var rr=ar[Ke],Ir=X.getTile(rr);Ir.needsHillshadePrepare&&"offscreen"===ut.renderPass?ns(ut,Ir,ht,Lt,Ye.disabled,Zt):"translucent"===ut.renderPass&&wl(ut,Ir,ht,Lt,we[rr.overscaledZ],Zt)}vt.viewport.set([0,0,ut.width,ut.height])}},raster:function Zl(ut,X,ht,$){if("translucent"===ut.renderPass&&0!==ht.paint.get("raster-opacity")&&$.length)for(var vt=ut.context,Lt=vt.gl,Zt=X.getSource(),ae=ut.useProgram("raster"),we=ut.colorModeForRenderPass(),ze=Zt instanceof J?[{},$]:ut.stencilConfigForOverlap($),Ke=ze[0],ar=ze[1],rr=ar[ar.length-1].overscaledZ,Ir=!ut.options.moving,Zr=0,Xr=ar;Zr<Xr.length;Zr+=1){var Vr=Xr[Zr],Kr=ut.depthModeForSublayer(Vr.overscaledZ-rr,1===ht.paint.get("raster-opacity")?hr.ReadWrite:hr.ReadOnly,Lt.LESS),vn=X.getTile(Vr),Ln=ut.transform.calculatePosMatrix(Vr.toUnwrapped(),Ir);vn.registerFadeDuration(ht.paint.get("raster-fade-duration"));var In=X.findLoadedParent(Vr,0),Nn=qs(vn,In,X,ht,ut.transform),Un=void 0,On=void 0,Vn="nearest"===ht.paint.get("raster-resampling")?Lt.NEAREST:Lt.LINEAR;vt.activeTexture.set(Lt.TEXTURE0),vn.texture.bind(Vn,Lt.CLAMP_TO_EDGE,Lt.LINEAR_MIPMAP_NEAREST),vt.activeTexture.set(Lt.TEXTURE1),In?(In.texture.bind(Vn,Lt.CLAMP_TO_EDGE,Lt.LINEAR_MIPMAP_NEAREST),Un=Math.pow(2,In.tileID.overscaledZ-vn.tileID.overscaledZ),On=[vn.tileID.canonical.x*Un%1,vn.tileID.canonical.y*Un%1]):vn.texture.bind(Vn,Lt.CLAMP_TO_EDGE,Lt.LINEAR_MIPMAP_NEAREST);var Wn=dl(Ln,On||[0,0],Un||1,Nn,ht);Zt instanceof J?ae.draw(vt,Lt.TRIANGLES,Kr,Ye.disabled,we,Se.disabled,Wn,ht.id,Zt.boundsBuffer,ut.quadTriangleIndexBuffer,Zt.boundsSegments):ae.draw(vt,Lt.TRIANGLES,Kr,Ke[Vr.overscaledZ],we,Se.disabled,Wn,ht.id,ut.rasterBoundsBuffer,ut.quadTriangleIndexBuffer,ut.rasterBoundsSegments)}},background:function jl(ut,X,ht){var $=ht.paint.get("background-color"),vt=ht.paint.get("background-opacity");if(0!==vt){var Lt=ut.context,Zt=Lt.gl,ae=ut.transform,we=ae.tileSize,ze=ht.paint.get("background-pattern");if(!ut.isPatternMissing(ze)){var Ke=!ze&&1===$.a&&1===vt&&ut.opaquePassEnabledForLayer()?"opaque":"translucent";if(ut.renderPass===Ke){var ar=Ye.disabled,rr=ut.depthModeForSublayer(0,"opaque"===Ke?hr.ReadWrite:hr.ReadOnly),Ir=ut.colorModeForRenderPass(),Zr=ut.useProgram(ze?"backgroundPattern":"background"),Xr=ae.coveringTiles({tileSize:we});ze&&(Lt.activeTexture.set(Zt.TEXTURE0),ut.imageManager.bind(ut.context));for(var Vr=ht.getCrossfadeParameters(),Kr=0,vn=Xr;Kr<vn.length;Kr+=1){var Ln=vn[Kr],In=ut.transform.calculatePosMatrix(Ln.toUnwrapped()),Nn=ze?Es(In,vt,ut,ze,{tileID:Ln,tileSize:we},Vr):Ks(In,vt,$);Zr.draw(Lt,Zt.TRIANGLES,rr,ar,Ir,Se.disabled,Nn,ht.id,ut.tileExtentBuffer,ut.quadTriangleIndexBuffer,ut.tileExtentSegments)}}}}},debug:function ke(ut,X,ht){for(var $=0;$<ht.length;$++)cr(ut,X,ht[$])},custom:function sr(ut,X,ht){var $=ut.context,vt=ht.implementation;if("offscreen"===ut.renderPass){var Lt=vt.prerender;Lt&&(ut.setCustomLayerDefaults(),$.setColorMode(ut.colorModeForRenderPass()),Lt.call(vt,$.gl,ut.transform.customLayerMatrix()),$.setDirty(),ut.setBaseState())}else if("translucent"===ut.renderPass){ut.setCustomLayerDefaults(),$.setColorMode(ut.colorModeForRenderPass()),$.setStencilMode(Ye.disabled);var Zt="3d"===vt.renderingMode?new hr(ut.context.gl.LEQUAL,hr.ReadWrite,ut.depthRangeFor3D):ut.depthModeForSublayer(0,hr.ReadOnly);$.setDepthMode(Zt),vt.render($.gl,ut.transform.customLayerMatrix()),$.setDirty(),ut.setBaseState(),$.bindFramebuffer.set(null)}}},Dr=function(X,ht){this.context=new Me(X),this.transform=ht,this._tileTextures={},this.setup(),this.numSublayers=Ie.maxUnderzooming+Ie.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new $n,this.gpuTimers={}};Dr.prototype.resize=function(X,ht){if(this.width=X*i.browser.devicePixelRatio,this.height=ht*i.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var $=0,vt=this.style._order;$<vt.length;$+=1)this.style._layers[vt[$]].resize()},Dr.prototype.setup=function(){var X=this.context,ht=new i.StructArrayLayout2i4;ht.emplaceBack(0,0),ht.emplaceBack(i.EXTENT,0),ht.emplaceBack(0,i.EXTENT),ht.emplaceBack(i.EXTENT,i.EXTENT),this.tileExtentBuffer=X.createVertexBuffer(ht,ro.members),this.tileExtentSegments=i.SegmentVector.simpleSegment(0,0,4,2);var $=new i.StructArrayLayout2i4;$.emplaceBack(0,0),$.emplaceBack(i.EXTENT,0),$.emplaceBack(0,i.EXTENT),$.emplaceBack(i.EXTENT,i.EXTENT),this.debugBuffer=X.createVertexBuffer($,ro.members),this.debugSegments=i.SegmentVector.simpleSegment(0,0,4,5);var vt=new i.StructArrayLayout4i8;vt.emplaceBack(0,0,0,0),vt.emplaceBack(i.EXTENT,0,i.EXTENT,0),vt.emplaceBack(0,i.EXTENT,0,i.EXTENT),vt.emplaceBack(i.EXTENT,i.EXTENT,i.EXTENT,i.EXTENT),this.rasterBoundsBuffer=X.createVertexBuffer(vt,G.members),this.rasterBoundsSegments=i.SegmentVector.simpleSegment(0,0,4,2);var Lt=new i.StructArrayLayout2i4;Lt.emplaceBack(0,0),Lt.emplaceBack(1,0),Lt.emplaceBack(0,1),Lt.emplaceBack(1,1),this.viewportBuffer=X.createVertexBuffer(Lt,ro.members),this.viewportSegments=i.SegmentVector.simpleSegment(0,0,4,2);var Zt=new i.StructArrayLayout1ui2;Zt.emplaceBack(0),Zt.emplaceBack(1),Zt.emplaceBack(3),Zt.emplaceBack(2),Zt.emplaceBack(0),this.tileBorderIndexBuffer=X.createIndexBuffer(Zt);var ae=new i.StructArrayLayout3ui6;ae.emplaceBack(0,1,2),ae.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=X.createIndexBuffer(ae),this.emptyTexture=new i.Texture(X,{width:1,height:1,data:new Uint8Array([0,0,0,0])},X.gl.RGBA);var we=this.context.gl;this.stencilClearMode=new Ye({func:we.ALWAYS,mask:0},0,255,we.ZERO,we.ZERO,we.ZERO)},Dr.prototype.clearStencil=function(){var X=this.context,ht=X.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var $=i.create();i.ortho($,0,this.width,this.height,0,0,1),i.scale($,$,[ht.drawingBufferWidth,ht.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(X,ht.TRIANGLES,hr.disabled,this.stencilClearMode,ne.disabled,Se.disabled,so($),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Dr.prototype._renderTileClippingMasks=function(X,ht){if(this.currentStencilSource!==X.source&&X.isTileClipped()&&ht&&ht.length){this.currentStencilSource=X.source;var $=this.context,vt=$.gl;this.nextStencilID+ht.length>256&&this.clearStencil(),$.setColorMode(ne.disabled),$.setDepthMode(hr.disabled);var Lt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Zt=0,ae=ht;Zt<ae.length;Zt+=1){var we=ae[Zt],ze=this._tileClippingMaskIDs[we.key]=this.nextStencilID++;Lt.draw($,vt.TRIANGLES,hr.disabled,new Ye({func:vt.ALWAYS,mask:0},ze,255,vt.KEEP,vt.KEEP,vt.REPLACE),ne.disabled,Se.disabled,so(we.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Dr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var X=this.nextStencilID++,ht=this.context.gl;return new Ye({func:ht.NOTEQUAL,mask:255},X,255,ht.KEEP,ht.KEEP,ht.REPLACE)},Dr.prototype.stencilModeForClipping=function(X){var ht=this.context.gl;return new Ye({func:ht.EQUAL,mask:255},this._tileClippingMaskIDs[X.key],0,ht.KEEP,ht.KEEP,ht.REPLACE)},Dr.prototype.stencilConfigForOverlap=function(X){var ht,$=this.context.gl,vt=X.sort(function(ze,Ke){return Ke.overscaledZ-ze.overscaledZ}),Lt=vt[vt.length-1].overscaledZ,Zt=vt[0].overscaledZ-Lt+1;if(Zt>1){this.currentStencilSource=void 0,this.nextStencilID+Zt>256&&this.clearStencil();for(var ae={},we=0;we<Zt;we++)ae[we+Lt]=new Ye({func:$.GEQUAL,mask:255},we+this.nextStencilID,255,$.KEEP,$.KEEP,$.REPLACE);return this.nextStencilID+=Zt,[ae,vt]}return[(ht={},ht[Lt]=Ye.disabled,ht),vt]},Dr.prototype.colorModeForRenderPass=function(){var X=this.context.gl;if(this._showOverdrawInspector){var $=1/8;return new ne([X.CONSTANT_COLOR,X.ONE],new i.Color($,$,$,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?ne.unblended:ne.alphaBlended},Dr.prototype.depthModeForSublayer=function(X,ht,$){if(!this.opaquePassEnabledForLayer())return hr.disabled;var vt=1-((1+this.currentLayer)*this.numSublayers+X)*this.depthEpsilon;return new hr($||this.context.gl.LEQUAL,ht,[vt,vt])},Dr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Dr.prototype.render=function(X,ht){var $=this;this.style=X,this.options=ht,this.lineAtlas=X.lineAtlas,this.imageManager=X.imageManager,this.glyphManager=X.glyphManager,this.symbolFadeChange=X.placement.symbolFadeChange(i.browser.now()),this.imageManager.beginFrame();var vt=this.style._order,Lt=this.style.sourceCaches;for(var Zt in Lt){var ae=Lt[Zt];ae.used&&ae.prepare(this.context)}var ra,ca,we={},ze={},Ke={};for(var ar in Lt){var rr=Lt[ar];we[ar]=rr.getVisibleCoordinates(),ze[ar]=we[ar].slice().reverse(),Ke[ar]=rr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Ir=0;Ir<vt.length;Ir++)if(this.style._layers[vt[Ir]].is3D()){this.opaquePassCutoff=Ir;break}this.renderPass="offscreen";for(var Xr=0,Vr=vt;Xr<Vr.length;Xr+=1){var vn=this.style._layers[Vr[Xr]];if(vn.hasOffscreenPass()&&!vn.isHidden(this.transform.zoom)){var Ln=ze[vn.source];"custom"!==vn.type&&!Ln.length||this.renderLayer(this,Lt[vn.source],vn,Ln)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:ht.showOverdrawInspector?i.Color.black:i.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ht.showOverdrawInspector,this.depthRangeFor3D=[0,1-(X._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=vt.length-1;this.currentLayer>=0;this.currentLayer--){var In=this.style._layers[vt[this.currentLayer]],Nn=Lt[In.source],Un=we[In.source];this._renderTileClippingMasks(In,Un),this.renderLayer(this,Nn,In,Un)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<vt.length;this.currentLayer++){var On=this.style._layers[vt[this.currentLayer]],Vn=Lt[On.source],Wn=("symbol"===On.type?Ke:ze)[On.source];this._renderTileClippingMasks(On,we[On.source]),this.renderLayer(this,Vn,On,Wn)}this.options.showTileBoundaries&&(i.values(this.style._layers).forEach(function(Pa){Pa.source&&!Pa.isHidden($.transform.zoom)&&(Pa.source!==(ca&&ca.id)&&(ca=$.style.sourceCaches[Pa.source]),(!ra||ra.getSource().maxzoom<ca.getSource().maxzoom)&&(ra=ca))}),ra&&wr.debug(this,ra,ra.getVisibleCoordinates())),this.options.showPadding&&qt(this),this.context.setDefault()},Dr.prototype.renderLayer=function(X,ht,$,vt){$.isHidden(this.transform.zoom)||"background"!==$.type&&"custom"!==$.type&&!vt.length||(this.id=$.id,this.gpuTimingStart($),wr[$.type](X,ht,$,vt,this.style.placement.variableOffsets),this.gpuTimingEnd())},Dr.prototype.gpuTimingStart=function(X){if(this.options.gpuTiming){var ht=this.context.extTimerQuery,$=this.gpuTimers[X.id];$||($=this.gpuTimers[X.id]={calls:0,cpuTime:0,query:ht.createQueryEXT()}),$.calls++,ht.beginQueryEXT(ht.TIME_ELAPSED_EXT,$.query)}},Dr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var X=this.context.extTimerQuery;X.endQueryEXT(X.TIME_ELAPSED_EXT)}},Dr.prototype.collectGpuTimers=function(){var X=this.gpuTimers;return this.gpuTimers={},X},Dr.prototype.queryGpuTimers=function(X){var ht={};for(var $ in X){var vt=X[$],Lt=this.context.extTimerQuery,Zt=Lt.getQueryObjectEXT(vt.query,Lt.QUERY_RESULT_EXT)/1e6;Lt.deleteQueryEXT(vt.query),ht[$]=Zt}return ht},Dr.prototype.translatePosMatrix=function(X,ht,$,vt,Lt){if(!$[0]&&!$[1])return X;var Zt=Lt?"map"===vt?this.transform.angle:0:"viewport"===vt?-this.transform.angle:0;if(Zt){var ae=Math.sin(Zt),we=Math.cos(Zt);$=[$[0]*we-$[1]*ae,$[0]*ae+$[1]*we]}var ze=[Lt?$[0]:dn(ht,$[0],this.transform.zoom),Lt?$[1]:dn(ht,$[1],this.transform.zoom),0],Ke=new Float32Array(16);return i.translate(Ke,X,ze),Ke},Dr.prototype.saveTileTexture=function(X){var ht=this._tileTextures[X.size[0]];ht?ht.push(X):this._tileTextures[X.size[0]]=[X]},Dr.prototype.getTileTexture=function(X){var ht=this._tileTextures[X];return ht&&ht.length>0?ht.pop():null},Dr.prototype.isPatternMissing=function(X){if(!X)return!1;if(!X.from||!X.to)return!0;var ht=this.imageManager.getPattern(X.from.toString()),$=this.imageManager.getPattern(X.to.toString());return!ht||!$},Dr.prototype.useProgram=function(X,ht){this.cache=this.cache||{};var $=""+X+(ht?ht.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[$]||(this.cache[$]=new zu(this.context,X,Vs[X],ht,xl[X],this._showOverdrawInspector)),this.cache[$]},Dr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Dr.prototype.setBaseState=function(){var X=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(X.FUNC_ADD)},Dr.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=i.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new i.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Dr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Wr=function(X,ht){this.points=X,this.planes=ht};Wr.fromInvProjectionMatrix=function(X,ht,$){var Lt=Math.pow(2,$),Zt=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(ze){return i.transformMat4([],ze,X)}).map(function(ze){return i.scale$1([],ze,1/ze[3]/ht*Lt)}),we=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(ze){var Ke=i.sub([],Zt[ze[0]],Zt[ze[1]]),ar=i.sub([],Zt[ze[2]],Zt[ze[1]]),rr=i.normalize([],i.cross([],Ke,ar)),Ir=-i.dot(rr,Zt[ze[1]]);return rr.concat(Ir)});return new Wr(Zt,we)};var en=function(X,ht){this.min=X,this.max=ht,this.center=i.scale$2([],i.add([],this.min,this.max),.5)};en.prototype.quadrant=function(X){for(var ht=[X%2==0,X<2],$=i.clone$2(this.min),vt=i.clone$2(this.max),Lt=0;Lt<ht.length;Lt++)$[Lt]=ht[Lt]?this.min[Lt]:this.center[Lt],vt[Lt]=ht[Lt]?this.center[Lt]:this.max[Lt];return vt[2]=this.max[2],new en($,vt)},en.prototype.distanceX=function(X){return Math.max(Math.min(this.max[0],X[0]),this.min[0])-X[0]},en.prototype.distanceY=function(X){return Math.max(Math.min(this.max[1],X[1]),this.min[1])-X[1]},en.prototype.intersects=function(X){for(var ht=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],$=!0,vt=0;vt<X.planes.length;vt++){for(var Lt=X.planes[vt],Zt=0,ae=0;ae<ht.length;ae++)Zt+=i.dot$1(Lt,ht[ae])>=0;if(0===Zt)return 0;Zt!==ht.length&&($=!1)}if($)return 2;for(var we=0;we<3;we++){for(var ze=Number.MAX_VALUE,Ke=-Number.MAX_VALUE,ar=0;ar<X.points.length;ar++){var rr=X.points[ar][we]-this.min[we];ze=Math.min(ze,rr),Ke=Math.max(Ke,rr)}if(Ke<0||ze>this.max[we]-this.min[we])return 0}return 1};var un=function(X,ht,$,vt){if(void 0===X&&(X=0),void 0===ht&&(ht=0),void 0===$&&($=0),void 0===vt&&(vt=0),isNaN(X)||X<0||isNaN(ht)||ht<0||isNaN($)||$<0||isNaN(vt)||vt<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=X,this.bottom=ht,this.left=$,this.right=vt};un.prototype.interpolate=function(X,ht,$){return null!=ht.top&&null!=X.top&&(this.top=i.number(X.top,ht.top,$)),null!=ht.bottom&&null!=X.bottom&&(this.bottom=i.number(X.bottom,ht.bottom,$)),null!=ht.left&&null!=X.left&&(this.left=i.number(X.left,ht.left,$)),null!=ht.right&&null!=X.right&&(this.right=i.number(X.right,ht.right,$)),this},un.prototype.getCenter=function(X,ht){var $=i.clamp((this.left+X-this.right)/2,0,X),vt=i.clamp((this.top+ht-this.bottom)/2,0,ht);return new i.Point($,vt)},un.prototype.equals=function(X){return this.top===X.top&&this.bottom===X.bottom&&this.left===X.left&&this.right===X.right},un.prototype.clone=function(){return new un(this.top,this.bottom,this.left,this.right)},un.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var xn=function(X,ht,$,vt,Lt){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===Lt||Lt,this._minZoom=X||0,this._maxZoom=ht||22,this._minPitch=null==$?0:$,this._maxPitch=null==vt?60:vt,this.setMaxBounds(),this.width=0,this.height=0,this._center=new i.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new un,this._posMatrixCache={},this._alignedPosMatrixCache={}},Pn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};xn.prototype.clone=function(){var X=new xn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return X.tileSize=this.tileSize,X.latRange=this.latRange,X.width=this.width,X.height=this.height,X._center=this._center,X.zoom=this.zoom,X.angle=this.angle,X._fov=this._fov,X._pitch=this._pitch,X._unmodified=this._unmodified,X._edgeInsets=this._edgeInsets.clone(),X._calcMatrices(),X},Pn.minZoom.get=function(){return this._minZoom},Pn.minZoom.set=function(ut){this._minZoom!==ut&&(this._minZoom=ut,this.zoom=Math.max(this.zoom,ut))},Pn.maxZoom.get=function(){return this._maxZoom},Pn.maxZoom.set=function(ut){this._maxZoom!==ut&&(this._maxZoom=ut,this.zoom=Math.min(this.zoom,ut))},Pn.minPitch.get=function(){return this._minPitch},Pn.minPitch.set=function(ut){this._minPitch!==ut&&(this._minPitch=ut,this.pitch=Math.max(this.pitch,ut))},Pn.maxPitch.get=function(){return this._maxPitch},Pn.maxPitch.set=function(ut){this._maxPitch!==ut&&(this._maxPitch=ut,this.pitch=Math.min(this.pitch,ut))},Pn.renderWorldCopies.get=function(){return this._renderWorldCopies},Pn.renderWorldCopies.set=function(ut){void 0===ut?ut=!0:null===ut&&(ut=!1),this._renderWorldCopies=ut},Pn.worldSize.get=function(){return this.tileSize*this.scale},Pn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Pn.size.get=function(){return new i.Point(this.width,this.height)},Pn.bearing.get=function(){return-this.angle/Math.PI*180},Pn.bearing.set=function(ut){var X=-i.wrap(ut,-180,180)*Math.PI/180;this.angle!==X&&(this._unmodified=!1,this.angle=X,this._calcMatrices(),this.rotationMatrix=i.create$2(),i.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Pn.pitch.get=function(){return this._pitch/Math.PI*180},Pn.pitch.set=function(ut){var X=i.clamp(ut,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==X&&(this._unmodified=!1,this._pitch=X,this._calcMatrices())},Pn.fov.get=function(){return this._fov/Math.PI*180},Pn.fov.set=function(ut){ut=Math.max(.01,Math.min(60,ut)),this._fov!==ut&&(this._unmodified=!1,this._fov=ut/180*Math.PI,this._calcMatrices())},Pn.zoom.get=function(){return this._zoom},Pn.zoom.set=function(ut){var X=Math.min(Math.max(ut,this.minZoom),this.maxZoom);this._zoom!==X&&(this._unmodified=!1,this._zoom=X,this.scale=this.zoomScale(X),this.tileZoom=Math.floor(X),this.zoomFraction=X-this.tileZoom,this._constrain(),this._calcMatrices())},Pn.center.get=function(){return this._center},Pn.center.set=function(ut){ut.lat===this._center.lat&&ut.lng===this._center.lng||(this._unmodified=!1,this._center=ut,this._constrain(),this._calcMatrices())},Pn.padding.get=function(){return this._edgeInsets.toJSON()},Pn.padding.set=function(ut){this._edgeInsets.equals(ut)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ut,1),this._calcMatrices())},Pn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},xn.prototype.isPaddingEqual=function(X){return this._edgeInsets.equals(X)},xn.prototype.interpolatePadding=function(X,ht,$){this._unmodified=!1,this._edgeInsets.interpolate(X,ht,$),this._constrain(),this._calcMatrices()},xn.prototype.coveringZoomLevel=function(X){var ht=(X.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/X.tileSize));return Math.max(0,ht)},xn.prototype.getVisibleUnwrappedCoordinates=function(X){var ht=[new i.UnwrappedTileID(0,X)];if(this._renderWorldCopies)for(var $=this.pointCoordinate(new i.Point(0,0)),vt=this.pointCoordinate(new i.Point(this.width,0)),Lt=this.pointCoordinate(new i.Point(this.width,this.height)),Zt=this.pointCoordinate(new i.Point(0,this.height)),ae=Math.floor(Math.min($.x,vt.x,Lt.x,Zt.x)),we=Math.floor(Math.max($.x,vt.x,Lt.x,Zt.x)),Ke=ae-1;Ke<=we+1;Ke++)0!==Ke&&ht.push(new i.UnwrappedTileID(Ke,X));return ht},xn.prototype.coveringTiles=function(X){var ht=this.coveringZoomLevel(X),$=ht;if(void 0!==X.minzoom&&ht<X.minzoom)return[];void 0!==X.maxzoom&&ht>X.maxzoom&&(ht=X.maxzoom);var vt=i.MercatorCoordinate.fromLngLat(this.center),Lt=Math.pow(2,ht),Zt=[Lt*vt.x,Lt*vt.y,0],ae=Wr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ht),we=X.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(we=ht);var Ke=function(oa){return{aabb:new en([oa*Lt,0,0],[(oa+1)*Lt,Lt,0]),zoom:0,x:0,y:0,wrap:oa,fullyVisible:!1}},ar=[],rr=[],Ir=ht,Zr=X.reparseOverscaled?$:ht;if(this._renderWorldCopies)for(var Xr=1;Xr<=3;Xr++)ar.push(Ke(-Xr)),ar.push(Ke(Xr));for(ar.push(Ke(0));ar.length>0;){var Vr=ar.pop(),Kr=Vr.x,vn=Vr.y,Ln=Vr.fullyVisible;if(!Ln){var In=Vr.aabb.intersects(ae);if(0===In)continue;Ln=2===In}var Nn=Vr.aabb.distanceX(Zt),Un=Vr.aabb.distanceY(Zt),On=Math.max(Math.abs(Nn),Math.abs(Un));if(Vr.zoom===Ir||On>3+(1<<Ir-Vr.zoom)-2&&Vr.zoom>=we)rr.push({tileID:new i.OverscaledTileID(Vr.zoom===Ir?Zr:Vr.zoom,Vr.wrap,Vr.zoom,Kr,vn),distanceSq:i.sqrLen([Zt[0]-.5-Kr,Zt[1]-.5-vn])});else for(var Wn=0;Wn<4;Wn++){var ra=(Kr<<1)+Wn%2,ca=(vn<<1)+(Wn>>1);ar.push({aabb:Vr.aabb.quadrant(Wn),zoom:Vr.zoom+1,x:ra,y:ca,wrap:Vr.wrap,fullyVisible:Ln})}}return rr.sort(function(oa,Pa){return oa.distanceSq-Pa.distanceSq}).map(function(oa){return oa.tileID})},xn.prototype.resize=function(X,ht){this.width=X,this.height=ht,this.pixelsToGLUnits=[2/X,-2/ht],this._constrain(),this._calcMatrices()},Pn.unmodified.get=function(){return this._unmodified},xn.prototype.zoomScale=function(X){return Math.pow(2,X)},xn.prototype.scaleZoom=function(X){return Math.log(X)/Math.LN2},xn.prototype.project=function(X){var ht=i.clamp(X.lat,-this.maxValidLatitude,this.maxValidLatitude);return new i.Point(i.mercatorXfromLng(X.lng)*this.worldSize,i.mercatorYfromLat(ht)*this.worldSize)},xn.prototype.unproject=function(X){return new i.MercatorCoordinate(X.x/this.worldSize,X.y/this.worldSize).toLngLat()},Pn.point.get=function(){return this.project(this.center)},xn.prototype.setLocationAtPoint=function(X,ht){var $=this.pointCoordinate(ht),vt=this.pointCoordinate(this.centerPoint),Lt=this.locationCoordinate(X),Zt=new i.MercatorCoordinate(Lt.x-($.x-vt.x),Lt.y-($.y-vt.y));this.center=this.coordinateLocation(Zt),this._renderWorldCopies&&(this.center=this.center.wrap())},xn.prototype.locationPoint=function(X){return this.coordinatePoint(this.locationCoordinate(X))},xn.prototype.pointLocation=function(X){return this.coordinateLocation(this.pointCoordinate(X))},xn.prototype.locationCoordinate=function(X){return i.MercatorCoordinate.fromLngLat(X)},xn.prototype.coordinateLocation=function(X){return X.toLngLat()},xn.prototype.pointCoordinate=function(X){var $=[X.x,X.y,0,1],vt=[X.x,X.y,1,1];i.transformMat4($,$,this.pixelMatrixInverse),i.transformMat4(vt,vt,this.pixelMatrixInverse);var Lt=$[3],Zt=vt[3],ze=$[1]/Lt,Ke=vt[1]/Zt,ar=$[2]/Lt,rr=vt[2]/Zt,Ir=ar===rr?0:(0-ar)/(rr-ar);return new i.MercatorCoordinate(i.number($[0]/Lt,vt[0]/Zt,Ir)/this.worldSize,i.number(ze,Ke,Ir)/this.worldSize)},xn.prototype.coordinatePoint=function(X){var ht=[X.x*this.worldSize,X.y*this.worldSize,0,1];return i.transformMat4(ht,ht,this.pixelMatrix),new i.Point(ht[0]/ht[3],ht[1]/ht[3])},xn.prototype.getBounds=function(){return(new i.LngLatBounds).extend(this.pointLocation(new i.Point(0,0))).extend(this.pointLocation(new i.Point(this.width,0))).extend(this.pointLocation(new i.Point(this.width,this.height))).extend(this.pointLocation(new i.Point(0,this.height)))},xn.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new i.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},xn.prototype.setMaxBounds=function(X){X?(this.lngRange=[X.getWest(),X.getEast()],this.latRange=[X.getSouth(),X.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},xn.prototype.calculatePosMatrix=function(X,ht){void 0===ht&&(ht=!1);var $=X.key,vt=ht?this._alignedPosMatrixCache:this._posMatrixCache;if(vt[$])return vt[$];var Lt=X.canonical,Zt=this.worldSize/this.zoomScale(Lt.z),ae=Lt.x+Math.pow(2,Lt.z)*X.wrap,we=i.identity(new Float64Array(16));return i.translate(we,we,[ae*Zt,Lt.y*Zt,0]),i.scale(we,we,[Zt/i.EXTENT,Zt/i.EXTENT,1]),i.multiply(we,ht?this.alignedProjMatrix:this.projMatrix,we),vt[$]=new Float32Array(we),vt[$]},xn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},xn.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var Lt,Zt,ae,we,X=-90,ht=90,$=-180,vt=180,ze=this.size,Ke=this._unmodified;if(this.latRange){var ar=this.latRange;X=i.mercatorYfromLat(ar[1])*this.worldSize,Lt=(ht=i.mercatorYfromLat(ar[0])*this.worldSize)-X<ze.y?ze.y/(ht-X):0}if(this.lngRange){var rr=this.lngRange;$=i.mercatorXfromLng(rr[0])*this.worldSize,Zt=(vt=i.mercatorXfromLng(rr[1])*this.worldSize)-$<ze.x?ze.x/(vt-$):0}var Ir=this.point,Zr=Math.max(Zt||0,Lt||0);if(Zr)return this.center=this.unproject(new i.Point(Zt?(vt+$)/2:Ir.x,Lt?(ht+X)/2:Ir.y)),this.zoom+=this.scaleZoom(Zr),this._unmodified=Ke,void(this._constraining=!1);if(this.latRange){var Xr=Ir.y,Vr=ze.y/2;Xr-Vr<X&&(we=X+Vr),Xr+Vr>ht&&(we=ht-Vr)}if(this.lngRange){var Kr=Ir.x,vn=ze.x/2;Kr-vn<$&&(ae=$+vn),Kr+vn>vt&&(ae=vt-vn)}(void 0!==ae||void 0!==we)&&(this.center=this.unproject(new i.Point(void 0!==ae?ae:Ir.x,void 0!==we?we:Ir.y))),this._unmodified=Ke,this._constraining=!1}},xn.prototype._calcMatrices=function(){if(this.height){var ht=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var $=Math.PI/2+this._pitch,vt=this._fov*(.5+ht.y/this.height),Lt=Math.sin(vt)*this.cameraToCenterDistance/Math.sin(i.clamp(Math.PI-$-vt,.01,Math.PI-.01)),Zt=this.point,ae=Zt.x,we=Zt.y,Ke=1.01*(Math.cos(Math.PI/2-this._pitch)*Lt+this.cameraToCenterDistance),ar=this.height/50,rr=new Float64Array(16);i.perspective(rr,this._fov,this.width/this.height,ar,Ke),rr[8]=2*-ht.x/this.width,rr[9]=2*ht.y/this.height,i.scale(rr,rr,[1,-1,1]),i.translate(rr,rr,[0,0,-this.cameraToCenterDistance]),i.rotateX(rr,rr,this._pitch),i.rotateZ(rr,rr,this.angle),i.translate(rr,rr,[-ae,-we,0]),this.mercatorMatrix=i.scale([],rr,[this.worldSize,this.worldSize,this.worldSize]),i.scale(rr,rr,[1,1,i.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=rr,this.invProjMatrix=i.invert([],this.projMatrix);var Ir=this.width%2/2,Zr=this.height%2/2,Xr=Math.cos(this.angle),Vr=Math.sin(this.angle),Kr=ae-Math.round(ae)+Xr*Ir+Vr*Zr,vn=we-Math.round(we)+Xr*Zr+Vr*Ir,Ln=new Float64Array(rr);if(i.translate(Ln,Ln,[Kr>.5?Kr-1:Kr,vn>.5?vn-1:vn,0]),this.alignedProjMatrix=Ln,rr=i.create(),i.scale(rr,rr,[this.width/2,-this.height/2,1]),i.translate(rr,rr,[1,-1,0]),this.labelPlaneMatrix=rr,rr=i.create(),i.scale(rr,rr,[1,-1,1]),i.translate(rr,rr,[-1,-1,0]),i.scale(rr,rr,[2/this.width,2/this.height,1]),this.glCoordMatrix=rr,this.pixelMatrix=i.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(rr=i.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=rr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},xn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var X=this.pointCoordinate(new i.Point(0,0)),ht=[X.x*this.worldSize,X.y*this.worldSize,0,1];return i.transformMat4(ht,ht,this.pixelMatrix)[3]/this.cameraToCenterDistance},xn.prototype.getCameraPoint=function(){var ht=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.Point(0,ht))},xn.prototype.getCameraQueryGeometry=function(X){var ht=this.getCameraPoint();if(1===X.length)return[X[0],ht];for(var $=ht.x,vt=ht.y,Lt=ht.x,Zt=ht.y,ae=0,we=X;ae<we.length;ae+=1){var ze=we[ae];$=Math.min($,ze.x),vt=Math.min(vt,ze.y),Lt=Math.max(Lt,ze.x),Zt=Math.max(Zt,ze.y)}return[new i.Point($,vt),new i.Point(Lt,vt),new i.Point(Lt,Zt),new i.Point($,Zt),new i.Point($,vt)]},Object.defineProperties(xn.prototype,Pn);var wa=function(X){this._hashName=X&&encodeURIComponent(X),i.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function ia(ut,X){var ht=!1,$=null,vt=function(){$=null,ht&&(ut(),$=setTimeout(vt,X),ht=!1)};return function(){return ht=!0,$||vt(),$}}(this._updateHashUnthrottled.bind(this),300)};wa.prototype.addTo=function(X){return this._map=X,i.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},wa.prototype.remove=function(){return i.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},wa.prototype.getHashString=function(X){var ht=this._map.getCenter(),$=Math.round(100*this._map.getZoom())/100,vt=Math.ceil(($*Math.LN2+Math.log(512/360/.5))/Math.LN10),Lt=Math.pow(10,vt),Zt=Math.round(ht.lng*Lt)/Lt,ae=Math.round(ht.lat*Lt)/Lt,we=this._map.getBearing(),ze=this._map.getPitch(),Ke="";if(Ke+=X?"/"+Zt+"/"+ae+"/"+$:$+"/"+ae+"/"+Zt,(we||ze)&&(Ke+="/"+Math.round(10*we)/10),ze&&(Ke+="/"+Math.round(ze)),this._hashName){var ar=this._hashName,rr=!1,Ir=i.window.location.hash.slice(1).split("&").map(function(Zr){var Xr=Zr.split("=")[0];return Xr===ar?(rr=!0,Xr+"="+Ke):Zr}).filter(function(Zr){return Zr});return rr||Ir.push(ar+"="+Ke),"#"+Ir.join("&")}return"#"+Ke},wa.prototype._getCurrentHash=function(){var $,X=this,ht=i.window.location.hash.replace("#","");return this._hashName?(ht.split("&").map(function(vt){return vt.split("=")}).forEach(function(vt){vt[0]===X._hashName&&($=vt)}),($&&$[1]||"").split("/")):ht.split("/")},wa.prototype._onHashChange=function(){var X=this._getCurrentHash();if(X.length>=3&&!X.some(function($){return isNaN($)})){var ht=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(X[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+X[2],+X[1]],zoom:+X[0],bearing:ht,pitch:+(X[4]||0)}),!0}return!1},wa.prototype._updateHashUnthrottled=function(){var X=i.window.location.href.replace(/(#.+)?$/,this.getHashString());try{i.window.history.replaceState(i.window.history.state,null,X)}catch(ht){}};var Ea={linearity:.3,easing:i.bezier(0,0,.3,1)},Aa=i.extend({deceleration:2500,maxSpeed:1400},Ea),La=i.extend({deceleration:20,maxSpeed:1400},Ea),Wa=i.extend({deceleration:1e3,maxSpeed:360},Ea),Ti=i.extend({deceleration:1e3,maxSpeed:90},Ea),di=function(X){this._map=X,this.clear()};function ii(ut,X){(!ut.duration||ut.duration<X.duration)&&(ut.duration=X.duration,ut.easing=X.easing)}function la(ut,X,ht){var $=ht.maxSpeed,vt=ht.linearity,Lt=ht.deceleration,Zt=i.clamp(ut*vt/(X/1e3),-$,$),ae=Math.abs(Zt)/(Lt*vt);return{easing:ht.easing,duration:1e3*ae,amount:Zt*(ae/2)}}di.prototype.clear=function(){this._inertiaBuffer=[]},di.prototype.record=function(X){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:i.browser.now(),settings:X})},di.prototype._drainInertiaBuffer=function(){for(var X=this._inertiaBuffer,ht=i.browser.now();X.length>0&&ht-X[0].time>160;)X.shift()},di.prototype._onMoveEnd=function(X){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var ht={zoom:0,bearing:0,pitch:0,pan:new i.Point(0,0),pinchAround:void 0,around:void 0},$=0,vt=this._inertiaBuffer;$<vt.length;$+=1){var Zt=vt[$].settings;ht.zoom+=Zt.zoomDelta||0,ht.bearing+=Zt.bearingDelta||0,ht.pitch+=Zt.pitchDelta||0,Zt.panDelta&&ht.pan._add(Zt.panDelta),Zt.around&&(ht.around=Zt.around),Zt.pinchAround&&(ht.pinchAround=Zt.pinchAround)}var we=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,ze={};if(ht.pan.mag()){var Ke=la(ht.pan.mag(),we,i.extend({},Aa,X||{}));ze.offset=ht.pan.mult(Ke.amount/ht.pan.mag()),ze.center=this._map.transform.center,ii(ze,Ke)}if(ht.zoom){var ar=la(ht.zoom,we,La);ze.zoom=this._map.transform.zoom+ar.amount,ii(ze,ar)}if(ht.bearing){var rr=la(ht.bearing,we,Wa);ze.bearing=this._map.transform.bearing+i.clamp(rr.amount,-179,179),ii(ze,rr)}if(ht.pitch){var Ir=la(ht.pitch,we,Ti);ze.pitch=this._map.transform.pitch+Ir.amount,ii(ze,Ir)}if(ze.zoom||ze.bearing){var Zr=void 0===ht.pinchAround?ht.around:ht.pinchAround;ze.around=Zr?this._map.unproject(Zr):this._map.getCenter()}return this.clear(),i.extend(ze,{noMoveStart:!0})}};var yi=function(ut){function X($,vt,Lt,Zt){void 0===Zt&&(Zt={});var ae=L.mousePos(vt.getCanvasContainer(),Lt),we=vt.unproject(ae);ut.call(this,$,i.extend({point:ae,lngLat:we,originalEvent:Lt},Zt)),this._defaultPrevented=!1,this.target=vt}ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X;var ht={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},ht.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,ht),X}(i.Event),So=function(ut){function X($,vt,Lt){var Zt="touchend"===$?Lt.changedTouches:Lt.touches,ae=L.touchPos(vt.getCanvasContainer(),Zt),we=ae.map(function(ar){return vt.unproject(ar)}),ze=ae.reduce(function(ar,rr,Ir,Zr){return ar.add(rr.div(Zr.length))},new i.Point(0,0)),Ke=vt.unproject(ze);ut.call(this,$,{points:ae,point:ze,lngLats:we,lngLat:Ke,originalEvent:Lt}),this._defaultPrevented=!1}ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X;var ht={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},ht.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,ht),X}(i.Event),ds=function(ut){function X($,vt,Lt){ut.call(this,$,{originalEvent:Lt}),this._defaultPrevented=!1}ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X;var ht={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},ht.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,ht),X}(i.Event),ot=function(X,ht){this._map=X,this._clickTolerance=ht.clickTolerance};ot.prototype.reset=function(){delete this._mousedownPos},ot.prototype.wheel=function(X){return this._firePreventable(new ds(X.type,this._map,X))},ot.prototype.mousedown=function(X,ht){return this._mousedownPos=ht,this._firePreventable(new yi(X.type,this._map,X))},ot.prototype.mouseup=function(X){this._map.fire(new yi(X.type,this._map,X))},ot.prototype.click=function(X,ht){this._mousedownPos&&this._mousedownPos.dist(ht)>=this._clickTolerance||this._map.fire(new yi(X.type,this._map,X))},ot.prototype.dblclick=function(X){return this._firePreventable(new yi(X.type,this._map,X))},ot.prototype.mouseover=function(X){this._map.fire(new yi(X.type,this._map,X))},ot.prototype.mouseout=function(X){this._map.fire(new yi(X.type,this._map,X))},ot.prototype.touchstart=function(X){return this._firePreventable(new So(X.type,this._map,X))},ot.prototype.touchmove=function(X){this._map.fire(new So(X.type,this._map,X))},ot.prototype.touchend=function(X){this._map.fire(new So(X.type,this._map,X))},ot.prototype.touchcancel=function(X){this._map.fire(new So(X.type,this._map,X))},ot.prototype._firePreventable=function(X){if(this._map.fire(X),X.defaultPrevented)return{}},ot.prototype.isEnabled=function(){return!0},ot.prototype.isActive=function(){return!1},ot.prototype.enable=function(){},ot.prototype.disable=function(){};var bt=function(X){this._map=X};bt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},bt.prototype.mousemove=function(X){this._map.fire(new yi(X.type,this._map,X))},bt.prototype.mousedown=function(){this._delayContextMenu=!0},bt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new yi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},bt.prototype.contextmenu=function(X){this._delayContextMenu?this._contextMenuEvent=X:this._map.fire(new yi(X.type,this._map,X)),this._map.listens("contextmenu")&&X.preventDefault()},bt.prototype.isEnabled=function(){return!0},bt.prototype.isActive=function(){return!1},bt.prototype.enable=function(){},bt.prototype.disable=function(){};var Ft=function(X,ht){this._map=X,this._el=X.getCanvasContainer(),this._container=X.getContainer(),this._clickTolerance=ht.clickTolerance||1};function Yt(ut,X){for(var ht={},$=0;$<ut.length;$++)ht[ut[$].identifier]=X[$];return ht}Ft.prototype.isEnabled=function(){return!!this._enabled},Ft.prototype.isActive=function(){return!!this._active},Ft.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ft.prototype.disable=function(){!this.isEnabled()||(this._enabled=!1)},Ft.prototype.mousedown=function(X,ht){!this.isEnabled()||!X.shiftKey||0!==X.button||(L.disableDrag(),this._startPos=this._lastPos=ht,this._active=!0)},Ft.prototype.mousemoveWindow=function(X,ht){if(this._active){var $=ht;if(!(this._lastPos.equals($)||!this._box&&$.dist(this._startPos)<this._clickTolerance)){var vt=this._startPos;this._lastPos=$,this._box||(this._box=L.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",X));var Lt=Math.min(vt.x,$.x),Zt=Math.max(vt.x,$.x),ae=Math.min(vt.y,$.y),we=Math.max(vt.y,$.y);L.setTransform(this._box,"translate("+Lt+"px,"+ae+"px)"),this._box.style.width=Zt-Lt+"px",this._box.style.height=we-ae+"px"}}},Ft.prototype.mouseupWindow=function(X,ht){var $=this;if(this._active&&0===X.button){var vt=this._startPos,Lt=ht;if(this.reset(),L.suppressClick(),vt.x!==Lt.x||vt.y!==Lt.y)return this._map.fire(new i.Event("boxzoomend",{originalEvent:X})),{cameraAnimation:function(Zt){return Zt.fitScreenCoordinates(vt,Lt,$._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",X)}},Ft.prototype.keydown=function(X){!this._active||27===X.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",X))},Ft.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(L.remove(this._box),this._box=null),L.enableDrag(),delete this._startPos,delete this._lastPos},Ft.prototype._fireEvent=function(X,ht){return this._map.fire(new i.Event(X,{originalEvent:ht}))};var Oe=function(X){this.reset(),this.numTouches=X.numTouches};Oe.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Oe.prototype.touchstart=function(X,ht,$){(this.centroid||$.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(void 0===this.startTime&&(this.startTime=X.timeStamp),$.length===this.numTouches&&(this.centroid=function _t(ut){for(var X=new i.Point(0,0),ht=0,$=ut;ht<$.length;ht+=1)X._add($[ht]);return X.div(ut.length)}(ht),this.touches=Yt($,ht)))},Oe.prototype.touchmove=function(X,ht,$){if(!this.aborted&&this.centroid){var vt=Yt($,ht);for(var Lt in this.touches){var ae=vt[Lt];(!ae||ae.dist(this.touches[Lt])>30)&&(this.aborted=!0)}}},Oe.prototype.touchend=function(X,ht,$){if((!this.centroid||X.timeStamp-this.startTime>500)&&(this.aborted=!0),0===$.length){var vt=!this.aborted&&this.centroid;if(this.reset(),vt)return vt}};var Qe=function(X){this.singleTap=new Oe(X),this.numTaps=X.numTaps,this.reset()};Qe.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Qe.prototype.touchstart=function(X,ht,$){this.singleTap.touchstart(X,ht,$)},Qe.prototype.touchmove=function(X,ht,$){this.singleTap.touchmove(X,ht,$)},Qe.prototype.touchend=function(X,ht,$){var vt=this.singleTap.touchend(X,ht,$);if(vt){var Lt=X.timeStamp-this.lastTime<500,Zt=!this.lastTap||this.lastTap.dist(vt)<30;if((!Lt||!Zt)&&this.reset(),this.count++,this.lastTime=X.timeStamp,this.lastTap=vt,this.count===this.numTaps)return this.reset(),vt}};var qe=function(){this._zoomIn=new Qe({numTouches:1,numTaps:2}),this._zoomOut=new Qe({numTouches:2,numTaps:1}),this.reset()};qe.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},qe.prototype.touchstart=function(X,ht,$){this._zoomIn.touchstart(X,ht,$),this._zoomOut.touchstart(X,ht,$)},qe.prototype.touchmove=function(X,ht,$){this._zoomIn.touchmove(X,ht,$),this._zoomOut.touchmove(X,ht,$)},qe.prototype.touchend=function(X,ht,$){var vt=this,Lt=this._zoomIn.touchend(X,ht,$),Zt=this._zoomOut.touchend(X,ht,$);return Lt?(this._active=!0,X.preventDefault(),setTimeout(function(){return vt.reset()},0),{cameraAnimation:function(ae){return ae.easeTo({duration:300,zoom:ae.getZoom()+1,around:ae.unproject(Lt)},{originalEvent:X})}}):Zt?(this._active=!0,X.preventDefault(),setTimeout(function(){return vt.reset()},0),{cameraAnimation:function(ae){return ae.easeTo({duration:300,zoom:ae.getZoom()-1,around:ae.unproject(Zt)},{originalEvent:X})}}):void 0},qe.prototype.touchcancel=function(){this.reset()},qe.prototype.enable=function(){this._enabled=!0},qe.prototype.disable=function(){this._enabled=!1,this.reset()},qe.prototype.isEnabled=function(){return this._enabled},qe.prototype.isActive=function(){return this._active};var _r={};_r[0]=1,_r[2]=2;var Rr=function(X){this.reset(),this._clickTolerance=X.clickTolerance||1};Rr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Rr.prototype._correctButton=function(X,ht){return!1},Rr.prototype._move=function(X,ht){return{}},Rr.prototype.mousedown=function(X,ht){if(!this._lastPoint){var $=L.mouseButton(X);!this._correctButton(X,$)||(this._lastPoint=ht,this._eventButton=$)}},Rr.prototype.mousemoveWindow=function(X,ht){var $=this._lastPoint;if($){if(X.preventDefault(),function cn(ut,X){var ht=_r[X];return void 0===ut.buttons||(ut.buttons&ht)!==ht}(X,this._eventButton))return void this.reset();if(this._moved||!(ht.dist($)<this._clickTolerance))return this._moved=!0,this._lastPoint=ht,this._move($,ht)}},Rr.prototype.mouseupWindow=function(X){this._lastPoint&&L.mouseButton(X)===this._eventButton&&(this._moved&&L.suppressClick(),this.reset())},Rr.prototype.enable=function(){this._enabled=!0},Rr.prototype.disable=function(){this._enabled=!1,this.reset()},Rr.prototype.isEnabled=function(){return this._enabled},Rr.prototype.isActive=function(){return this._active};var Nr=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.mousedown=function($,vt){ut.prototype.mousedown.call(this,$,vt),this._lastPoint&&(this._active=!0)},X.prototype._correctButton=function($,vt){return 0===vt&&!$.ctrlKey},X.prototype._move=function($,vt){return{around:vt,panDelta:vt.sub($)}},X}(Rr),Jr=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype._correctButton=function($,vt){return 0===vt&&$.ctrlKey||2===vt},X.prototype._move=function($,vt){var Zt=.8*(vt.x-$.x);if(Zt)return this._active=!0,{bearingDelta:Zt}},X.prototype.contextmenu=function($){$.preventDefault()},X}(Rr),on=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype._correctButton=function($,vt){return 0===vt&&$.ctrlKey||2===vt},X.prototype._move=function($,vt){var Zt=-.5*(vt.y-$.y);if(Zt)return this._active=!0,{pitchDelta:Zt}},X.prototype.contextmenu=function($){$.preventDefault()},X}(Rr),an=function(X){this._minTouches=1,this._clickTolerance=X.clickTolerance||1,this.reset()};an.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new i.Point(0,0)},an.prototype.touchstart=function(X,ht,$){return this._calculateTransform(X,ht,$)},an.prototype.touchmove=function(X,ht,$){if(this._active&&!($.length<this._minTouches))return X.preventDefault(),this._calculateTransform(X,ht,$)},an.prototype.touchend=function(X,ht,$){this._calculateTransform(X,ht,$),this._active&&$.length<this._minTouches&&this.reset()},an.prototype.touchcancel=function(){this.reset()},an.prototype._calculateTransform=function(X,ht,$){$.length>0&&(this._active=!0);var vt=Yt($,ht),Lt=new i.Point(0,0),Zt=new i.Point(0,0),ae=0;for(var we in vt){var ze=vt[we],Ke=this._touches[we];Ke&&(Lt._add(ze),Zt._add(ze.sub(Ke)),ae++,vt[we]=ze)}if(this._touches=vt,!(ae<this._minTouches)&&Zt.mag()){var ar=Zt.div(ae);if(this._sum._add(ar),!(this._sum.mag()<this._clickTolerance))return{around:Lt.div(ae),panDelta:ar}}},an.prototype.enable=function(){this._enabled=!0},an.prototype.disable=function(){this._enabled=!1,this.reset()},an.prototype.isEnabled=function(){return this._enabled},an.prototype.isActive=function(){return this._active};var jr=function(){this.reset()};function zn(ut,X,ht){for(var $=0;$<ut.length;$++)if(ut[$].identifier===ht)return X[$]}jr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},jr.prototype._start=function(X){},jr.prototype._move=function(X,ht,$){return{}},jr.prototype.touchstart=function(X,ht,$){this._firstTwoTouches||$.length<2||(this._firstTwoTouches=[$[0].identifier,$[1].identifier],this._start([ht[0],ht[1]]))},jr.prototype.touchmove=function(X,ht,$){if(this._firstTwoTouches){X.preventDefault();var vt=this._firstTwoTouches,Zt=vt[1],ae=zn($,ht,vt[0]),we=zn($,ht,Zt);if(ae&&we){var ze=this._aroundCenter?null:ae.add(we).div(2);return this._move([ae,we],ze,X)}}},jr.prototype.touchend=function(X,ht,$){if(this._firstTwoTouches){var vt=this._firstTwoTouches,Zt=vt[1],ae=zn($,ht,vt[0]),we=zn($,ht,Zt);ae&&we||(this._active&&L.suppressClick(),this.reset())}},jr.prototype.touchcancel=function(){this.reset()},jr.prototype.enable=function(X){this._enabled=!0,this._aroundCenter=!!X&&"center"===X.around},jr.prototype.disable=function(){this._enabled=!1,this.reset()},jr.prototype.isEnabled=function(){return this._enabled},jr.prototype.isActive=function(){return this._active};function aa(ut,X){return Math.log(ut/X)/Math.LN2}var ea=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.reset=function(){ut.prototype.reset.call(this),delete this._distance,delete this._startDistance},X.prototype._start=function($){this._startDistance=this._distance=$[0].dist($[1])},X.prototype._move=function($,vt){var Lt=this._distance;if(this._distance=$[0].dist($[1]),this._active||!(Math.abs(aa(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:aa(this._distance,Lt),pinchAround:vt}},X}(jr);function va(ut,X){return 180*ut.angleWith(X)/Math.PI}var Ca=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.reset=function(){ut.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},X.prototype._start=function($){this._startVector=this._vector=$[0].sub($[1]),this._minDiameter=$[0].dist($[1])},X.prototype._move=function($,vt){var Lt=this._vector;if(this._vector=$[0].sub($[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:va(this._vector,Lt),pinchAround:vt}},X.prototype._isBelowThreshold=function($){this._minDiameter=Math.min(this._minDiameter,$.mag());var Lt=25/(Math.PI*this._minDiameter)*360,Zt=va($,this._startVector);return Math.abs(Zt)<Lt},X}(jr);function xa(ut){return Math.abs(ut.y)>Math.abs(ut.x)}var Ya=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.reset=function(){ut.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},X.prototype._start=function($){this._lastPoints=$,xa($[0].sub($[1]))&&(this._valid=!1)},X.prototype._move=function($,vt,Lt){var Zt=$[0].sub(this._lastPoints[0]),ae=$[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Zt,ae,Lt.timeStamp),this._valid)return this._lastPoints=$,this._active=!0,{pitchDelta:(Zt.y+ae.y)/2*-.5}},X.prototype.gestureBeginsVertically=function($,vt,Lt){if(void 0!==this._valid)return this._valid;var ae=$.mag()>=2,we=vt.mag()>=2;if(ae||we){if(!ae||!we)return void 0===this._firstMove&&(this._firstMove=Lt),Lt-this._firstMove<100&&void 0;var ze=$.y>0==vt.y>0;return xa($)&&xa(vt)&&ze}},X}(jr),mi={panStep:100,bearingStep:15,pitchStep:10},Ba=function(){var X=mi;this._panStep=X.panStep,this._bearingStep=X.bearingStep,this._pitchStep=X.pitchStep,this._rotationDisabled=!1};function Xn(ut){return ut*(2-ut)}Ba.prototype.reset=function(){this._active=!1},Ba.prototype.keydown=function(X){var ht=this;if(!(X.altKey||X.ctrlKey||X.metaKey)){var $=0,vt=0,Lt=0,Zt=0,ae=0;switch(X.keyCode){case 61:case 107:case 171:case 187:$=1;break;case 189:case 109:case 173:$=-1;break;case 37:X.shiftKey?vt=-1:(X.preventDefault(),Zt=-1);break;case 39:X.shiftKey?vt=1:(X.preventDefault(),Zt=1);break;case 38:X.shiftKey?Lt=1:(X.preventDefault(),ae=-1);break;case 40:X.shiftKey?Lt=-1:(X.preventDefault(),ae=1);break;default:return}return this._rotationDisabled&&(vt=0,Lt=0),{cameraAnimation:function(we){var ze=we.getZoom();we.easeTo({duration:300,easeId:"keyboardHandler",easing:Xn,zoom:$?Math.round(ze)+$*(X.shiftKey?2:1):ze,bearing:we.getBearing()+vt*ht._bearingStep,pitch:we.getPitch()+Lt*ht._pitchStep,offset:[-Zt*ht._panStep,-ae*ht._panStep],center:we.getCenter()},{originalEvent:X})}}}},Ba.prototype.enable=function(){this._enabled=!0},Ba.prototype.disable=function(){this._enabled=!1,this.reset()},Ba.prototype.isEnabled=function(){return this._enabled},Ba.prototype.isActive=function(){return this._active},Ba.prototype.disableRotation=function(){this._rotationDisabled=!0},Ba.prototype.enableRotation=function(){this._rotationDisabled=!1};var Ra=4.000244140625,Jn=function(X,ht){this._map=X,this._el=X.getCanvasContainer(),this._handler=ht,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,i.bindAll(["_onTimeout"],this)};Jn.prototype.setZoomRate=function(X){this._defaultZoomRate=X},Jn.prototype.setWheelZoomRate=function(X){this._wheelZoomRate=X},Jn.prototype.isEnabled=function(){return!!this._enabled},Jn.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},Jn.prototype.isZooming=function(){return!!this._zooming},Jn.prototype.enable=function(X){this.isEnabled()||(this._enabled=!0,this._aroundCenter=X&&"center"===X.around)},Jn.prototype.disable=function(){!this.isEnabled()||(this._enabled=!1)},Jn.prototype.wheel=function(X){if(this.isEnabled()){var ht=X.deltaMode===i.window.WheelEvent.DOM_DELTA_LINE?40*X.deltaY:X.deltaY,$=i.browser.now(),vt=$-(this._lastWheelEventTime||0);this._lastWheelEventTime=$,0!==ht&&ht%Ra==0?this._type="wheel":0!==ht&&Math.abs(ht)<4?this._type="trackpad":vt>400?(this._type=null,this._lastValue=ht,this._timeout=setTimeout(this._onTimeout,40,X)):this._type||(this._type=Math.abs(vt*ht)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ht+=this._lastValue)),X.shiftKey&&ht&&(ht/=4),this._type&&(this._lastWheelEvent=X,this._delta-=ht,this._active||this._start(X)),X.preventDefault()}},Jn.prototype._onTimeout=function(X){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(X)},Jn.prototype._start=function(X){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var ht=L.mousePos(this._el,X);this._around=i.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(ht)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Jn.prototype.renderFrame=function(){var X=this;if(this._frameId&&(this._frameId=null,this.isActive())){var ht=this._map.transform;if(0!==this._delta){var $="wheel"===this._type&&Math.abs(this._delta)>Ra?this._wheelZoomRate:this._defaultZoomRate,vt=2/(1+Math.exp(-Math.abs(this._delta*$)));this._delta<0&&0!==vt&&(vt=1/vt);var Lt="number"==typeof this._targetZoom?ht.zoomScale(this._targetZoom):ht.scale;this._targetZoom=Math.min(ht.maxZoom,Math.max(ht.minZoom,ht.scaleZoom(Lt*vt))),"wheel"===this._type&&(this._startZoom=ht.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ke,Zt="number"==typeof this._targetZoom?this._targetZoom:ht.zoom,ae=this._startZoom,we=this._easing,ze=!1;if("wheel"===this._type&&ae&&we){var ar=Math.min((i.browser.now()-this._lastWheelEventTime)/200,1),rr=we(ar);Ke=i.number(ae,Zt,rr),ar<1?this._frameId||(this._frameId=!0):ze=!0}else Ke=Zt,ze=!0;return this._active=!0,ze&&(this._active=!1,this._finishTimeout=setTimeout(function(){X._zooming=!1,X._handler._triggerRenderFrame(),delete X._targetZoom,delete X._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!ze,zoomDelta:Ke-ht.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Jn.prototype._smoothOutEasing=function(X){var ht=i.ease;if(this._prevEase){var $=this._prevEase,vt=(i.browser.now()-$.start)/$.duration,Lt=$.easing(vt+.01)-$.easing(vt),Zt=.27/Math.sqrt(Lt*Lt+1e-4)*.01,ae=Math.sqrt(.0729-Zt*Zt);ht=i.bezier(Zt,ae,.25,1)}return this._prevEase={start:i.browser.now(),duration:X,easing:ht},ht},Jn.prototype.reset=function(){this._active=!1};var ya=function(X,ht){this._clickZoom=X,this._tapZoom=ht};ya.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ya.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ya.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ya.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Si=function(){this.reset()};Si.prototype.reset=function(){this._active=!1},Si.prototype.dblclick=function(X,ht){return X.preventDefault(),{cameraAnimation:function($){$.easeTo({duration:300,zoom:$.getZoom()+(X.shiftKey?-1:1),around:$.unproject(ht)},{originalEvent:X})}}},Si.prototype.enable=function(){this._enabled=!0},Si.prototype.disable=function(){this._enabled=!1,this.reset()},Si.prototype.isEnabled=function(){return this._enabled},Si.prototype.isActive=function(){return this._active};var hi=function(){this._tap=new Qe({numTouches:1,numTaps:1}),this.reset()};hi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},hi.prototype.touchstart=function(X,ht,$){this._swipePoint||(this._tapTime&&X.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?$.length>0&&(this._swipePoint=ht[0],this._swipeTouch=$[0].identifier):this._tap.touchstart(X,ht,$))},hi.prototype.touchmove=function(X,ht,$){if(this._tapTime){if(this._swipePoint){if($[0].identifier!==this._swipeTouch)return;var vt=ht[0],Lt=vt.y-this._swipePoint.y;return this._swipePoint=vt,X.preventDefault(),this._active=!0,{zoomDelta:Lt/128}}}else this._tap.touchmove(X,ht,$)},hi.prototype.touchend=function(X,ht,$){this._tapTime?this._swipePoint&&0===$.length&&this.reset():this._tap.touchend(X,ht,$)&&(this._tapTime=X.timeStamp)},hi.prototype.touchcancel=function(){this.reset()},hi.prototype.enable=function(){this._enabled=!0},hi.prototype.disable=function(){this._enabled=!1,this.reset()},hi.prototype.isEnabled=function(){return this._enabled},hi.prototype.isActive=function(){return this._active};var Di=function(X,ht,$){this._el=X,this._mousePan=ht,this._touchPan=$};Di.prototype.enable=function(X){this._inertiaOptions=X||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Di.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Di.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Di.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var oi=function(X,ht,$){this._pitchWithRotate=X.pitchWithRotate,this._mouseRotate=ht,this._mousePitch=$};oi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},oi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},oi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},oi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Ai=function(X,ht,$,vt){this._el=X,this._touchZoom=ht,this._touchRotate=$,this._tapDragZoom=vt,this._rotationDisabled=!1,this._enabled=!0};Ai.prototype.enable=function(X){this._touchZoom.enable(X),this._rotationDisabled||this._touchRotate.enable(X),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Ai.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Ai.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Ai.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Ai.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Ai.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Mi=function(ut){return ut.zoom||ut.drag||ut.pitch||ut.rotate},Ml=function(ut){function X(){ut.apply(this,arguments)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X}(i.Event);function Kl(ut){return ut.panDelta&&ut.panDelta.mag()||ut.zoomDelta||ut.bearingDelta||ut.pitchDelta}var si=function(X,ht){this._map=X,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new di(X),this._bearingSnap=ht.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(ht),i.bindAll(["handleEvent","handleWindowEvent"],this);var $=this._el;this._listeners=[[$,"touchstart",{passive:!0}],[$,"touchmove",{passive:!1}],[$,"touchend",void 0],[$,"touchcancel",void 0],[$,"mousedown",void 0],[$,"mousemove",void 0],[$,"mouseup",void 0],[i.window.document,"mousemove",{capture:!0}],[i.window.document,"mouseup",void 0],[$,"mouseover",void 0],[$,"mouseout",void 0],[$,"dblclick",void 0],[$,"click",void 0],[$,"keydown",{capture:!1}],[$,"keyup",void 0],[$,"wheel",{passive:!1}],[$,"contextmenu",void 0],[i.window,"blur",void 0]];for(var vt=0,Lt=this._listeners;vt<Lt.length;vt+=1){var Zt=Lt[vt],ae=Zt[0];L.addEventListener(ae,Zt[1],ae===i.window.document?this.handleWindowEvent:this.handleEvent,Zt[2])}};si.prototype.destroy=function(){for(var X=0,ht=this._listeners;X<ht.length;X+=1){var $=ht[X],vt=$[0];L.removeEventListener(vt,$[1],vt===i.window.document?this.handleWindowEvent:this.handleEvent,$[2])}},si.prototype._addDefaultHandlers=function(X){var ht=this._map,$=ht.getCanvasContainer();this._add("mapEvent",new ot(ht,X));var vt=ht.boxZoom=new Ft(ht,X);this._add("boxZoom",vt);var Lt=new qe,Zt=new Si;ht.doubleClickZoom=new ya(Zt,Lt),this._add("tapZoom",Lt),this._add("clickZoom",Zt);var ae=new hi;this._add("tapDragZoom",ae);var we=ht.touchPitch=new Ya;this._add("touchPitch",we);var ze=new Jr(X),Ke=new on(X);ht.dragRotate=new oi(X,ze,Ke),this._add("mouseRotate",ze,["mousePitch"]),this._add("mousePitch",Ke,["mouseRotate"]);var ar=new Nr(X),rr=new an(X);ht.dragPan=new Di($,ar,rr),this._add("mousePan",ar),this._add("touchPan",rr,["touchZoom","touchRotate"]);var Ir=new Ca,Zr=new ea;ht.touchZoomRotate=new Ai($,Zr,Ir,ae),this._add("touchRotate",Ir,["touchPan","touchZoom"]),this._add("touchZoom",Zr,["touchPan","touchRotate"]);var Xr=ht.scrollZoom=new Jn(ht,this);this._add("scrollZoom",Xr,["mousePan"]);var Vr=ht.keyboard=new Ba;this._add("keyboard",Vr),this._add("blockableMapEvent",new bt(ht));for(var Kr=0,vn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Kr<vn.length;Kr+=1){var Ln=vn[Kr];X.interactive&&X[Ln]&&ht[Ln].enable(X[Ln])}},si.prototype._add=function(X,ht,$){this._handlers.push({handlerName:X,handler:ht,allowed:$}),this._handlersById[X]=ht},si.prototype.stop=function(X){if(!this._updatingCamera){for(var ht=0,$=this._handlers;ht<$.length;ht+=1)$[ht].handler.reset();this._inertia.clear(),this._fireEvents({},{},X),this._changes=[]}},si.prototype.isActive=function(){for(var X=0,ht=this._handlers;X<ht.length;X+=1)if(ht[X].handler.isActive())return!0;return!1},si.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},si.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},si.prototype.isMoving=function(){return Boolean(Mi(this._eventsInProgress))||this.isZooming()},si.prototype._blockedByActive=function(X,ht,$){for(var vt in X)if(vt!==$&&(!ht||ht.indexOf(vt)<0))return!0;return!1},si.prototype.handleWindowEvent=function(X){this.handleEvent(X,X.type+"Window")},si.prototype._getMapTouches=function(X){for(var ht=[],$=0,vt=X;$<vt.length;$+=1){var Lt=vt[$];this._el.contains(Lt.target)&&ht.push(Lt)}return ht},si.prototype.handleEvent=function(X,ht){if("blur"!==X.type){this._updatingCamera=!0;for(var $="renderFrame"===X.type?void 0:X,vt={needsRenderFrame:!1},Lt={},Zt={},ae=X.touches?this._getMapTouches(X.touches):void 0,we=ae?L.touchPos(this._el,ae):L.mousePos(this._el,X),ze=0,Ke=this._handlers;ze<Ke.length;ze+=1){var ar=Ke[ze],rr=ar.handlerName,Ir=ar.handler,Zr=ar.allowed;if(Ir.isEnabled()){var Xr=void 0;this._blockedByActive(Zt,Zr,rr)?Ir.reset():Ir[ht||X.type]&&(Xr=Ir[ht||X.type](X,we,ae),this.mergeHandlerResult(vt,Lt,Xr,rr,$),Xr&&Xr.needsRenderFrame&&this._triggerRenderFrame()),(Xr||Ir.isActive())&&(Zt[rr]=Ir)}}var Vr={};for(var Kr in this._previousActiveHandlers)Zt[Kr]||(Vr[Kr]=$);this._previousActiveHandlers=Zt,(Object.keys(Vr).length||Kl(vt))&&(this._changes.push([vt,Lt,Vr]),this._triggerRenderFrame()),(Object.keys(Zt).length||Kl(vt))&&this._map._stop(!0),this._updatingCamera=!1;var vn=vt.cameraAnimation;vn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],vn(this._map))}else this.stop(!0)},si.prototype.mergeHandlerResult=function(X,ht,$,vt,Lt){if($){i.extend(X,$);var Zt={handlerName:vt,originalEvent:$.originalEvent||Lt};void 0!==$.zoomDelta&&(ht.zoom=Zt),void 0!==$.panDelta&&(ht.drag=Zt),void 0!==$.pitchDelta&&(ht.pitch=Zt),void 0!==$.bearingDelta&&(ht.rotate=Zt)}},si.prototype._applyChanges=function(){for(var X={},ht={},$={},vt=0,Lt=this._changes;vt<Lt.length;vt+=1){var Zt=Lt[vt],ae=Zt[0],we=Zt[1],ze=Zt[2];ae.panDelta&&(X.panDelta=(X.panDelta||new i.Point(0,0))._add(ae.panDelta)),ae.zoomDelta&&(X.zoomDelta=(X.zoomDelta||0)+ae.zoomDelta),ae.bearingDelta&&(X.bearingDelta=(X.bearingDelta||0)+ae.bearingDelta),ae.pitchDelta&&(X.pitchDelta=(X.pitchDelta||0)+ae.pitchDelta),void 0!==ae.around&&(X.around=ae.around),void 0!==ae.pinchAround&&(X.pinchAround=ae.pinchAround),ae.noInertia&&(X.noInertia=ae.noInertia),i.extend(ht,we),i.extend($,ze)}this._updateMapTransform(X,ht,$),this._changes=[]},si.prototype._updateMapTransform=function(X,ht,$){var vt=this._map,Lt=vt.transform;if(!Kl(X))return this._fireEvents(ht,$,!0);var Zt=X.panDelta,ae=X.zoomDelta,we=X.bearingDelta,ze=X.pitchDelta,Ke=X.around,ar=X.pinchAround;void 0!==ar&&(Ke=ar),vt._stop(!0),Ke=Ke||vt.transform.centerPoint;var rr=Lt.pointLocation(Zt?Ke.sub(Zt):Ke);we&&(Lt.bearing+=we),ze&&(Lt.pitch+=ze),ae&&(Lt.zoom+=ae),Lt.setLocationAtPoint(rr,Ke),this._map._update(),X.noInertia||this._inertia.record(X),this._fireEvents(ht,$,!0)},si.prototype._fireEvents=function(X,ht,$){var vt=this,Lt=Mi(this._eventsInProgress),Zt=Mi(X),ae={};for(var we in X)this._eventsInProgress[we]||(ae[we+"start"]=X[we].originalEvent),this._eventsInProgress[we]=X[we];for(var ar in!Lt&&Zt&&this._fireEvent("movestart",Zt.originalEvent),ae)this._fireEvent(ar,ae[ar]);for(var rr in Zt&&this._fireEvent("move",Zt.originalEvent),X)this._fireEvent(rr,X[rr].originalEvent);var Vr,Xr={};for(var Kr in this._eventsInProgress){var vn=this._eventsInProgress[Kr],Ln=vn.handlerName,In=vn.originalEvent;this._handlersById[Ln].isActive()||(delete this._eventsInProgress[Kr],Xr[Kr+"end"]=Vr=ht[Ln]||In)}for(var Nn in Xr)this._fireEvent(Nn,Xr[Nn]);var Un=Mi(this._eventsInProgress);if($&&(Lt||Zt)&&!Un){this._updatingCamera=!0;var On=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Vn=function(Wn){return 0!==Wn&&-vt._bearingSnap<Wn&&Wn<vt._bearingSnap};On?(Vn(On.bearing||this._map.getBearing())&&(On.bearing=0),this._map.easeTo(On,{originalEvent:Vr})):(this._map.fire(new i.Event("moveend",{originalEvent:Vr})),Vn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},si.prototype._fireEvent=function(X,ht){this._map.fire(new i.Event(X,ht?{originalEvent:ht}:{}))},si.prototype._requestFrame=function(){var X=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(ht){delete X._frameId,X.handleEvent(new Ml("renderFrame",{timeStamp:ht})),X._applyChanges()})},si.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var ji=function(ut){function X(ht,$){ut.call(this),this._moving=!1,this._zooming=!1,this.transform=ht,this._bearingSnap=$.bearingSnap,i.bindAll(["_renderFrameCallback"],this)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.getCenter=function(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)},X.prototype.setCenter=function($,vt){return this.jumpTo({center:$},vt)},X.prototype.panBy=function($,vt,Lt){return $=i.Point.convert($).mult(-1),this.panTo(this.transform.center,i.extend({offset:$},vt),Lt)},X.prototype.panTo=function($,vt,Lt){return this.easeTo(i.extend({center:$},vt),Lt)},X.prototype.getZoom=function(){return this.transform.zoom},X.prototype.setZoom=function($,vt){return this.jumpTo({zoom:$},vt),this},X.prototype.zoomTo=function($,vt,Lt){return this.easeTo(i.extend({zoom:$},vt),Lt)},X.prototype.zoomIn=function($,vt){return this.zoomTo(this.getZoom()+1,$,vt),this},X.prototype.zoomOut=function($,vt){return this.zoomTo(this.getZoom()-1,$,vt),this},X.prototype.getBearing=function(){return this.transform.bearing},X.prototype.setBearing=function($,vt){return this.jumpTo({bearing:$},vt),this},X.prototype.getPadding=function(){return this.transform.padding},X.prototype.setPadding=function($,vt){return this.jumpTo({padding:$},vt),this},X.prototype.rotateTo=function($,vt,Lt){return this.easeTo(i.extend({bearing:$},vt),Lt)},X.prototype.resetNorth=function($,vt){return this.rotateTo(0,i.extend({duration:1e3},$),vt),this},X.prototype.resetNorthPitch=function($,vt){return this.easeTo(i.extend({bearing:0,pitch:0,duration:1e3},$),vt),this},X.prototype.snapToNorth=function($,vt){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth($,vt):this},X.prototype.getPitch=function(){return this.transform.pitch},X.prototype.setPitch=function($,vt){return this.jumpTo({pitch:$},vt),this},X.prototype.cameraForBounds=function($,vt){$=i.LngLatBounds.convert($);var Lt=vt&&vt.bearing||0;return this._cameraForBoxAndBearing($.getNorthWest(),$.getSouthEast(),Lt,vt)},X.prototype._cameraForBoxAndBearing=function($,vt,Lt,Zt){var ae={top:0,bottom:0,right:0,left:0};if("number"==typeof(Zt=i.extend({padding:ae,offset:[0,0],maxZoom:this.transform.maxZoom},Zt)).padding){var we=Zt.padding;Zt.padding={top:we,bottom:we,right:we,left:we}}Zt.padding=i.extend(ae,Zt.padding);var ze=this.transform,Ke=ze.padding,ar=ze.project(i.LngLat.convert($)),rr=ze.project(i.LngLat.convert(vt)),Ir=ar.rotate(-Lt*Math.PI/180),Zr=rr.rotate(-Lt*Math.PI/180),Xr=new i.Point(Math.max(Ir.x,Zr.x),Math.max(Ir.y,Zr.y)),Vr=new i.Point(Math.min(Ir.x,Zr.x),Math.min(Ir.y,Zr.y)),Kr=Xr.sub(Vr),vn=(ze.width-(Ke.left+Ke.right+Zt.padding.left+Zt.padding.right))/Kr.x,Ln=(ze.height-(Ke.top+Ke.bottom+Zt.padding.top+Zt.padding.bottom))/Kr.y;if(!(Ln<0||vn<0)){var In=Math.min(ze.scaleZoom(ze.scale*Math.min(vn,Ln)),Zt.maxZoom),Nn="number"==typeof Zt.offset.x?new i.Point(Zt.offset.x,Zt.offset.y):i.Point.convert(Zt.offset),Wn=new i.Point((Zt.padding.left-Zt.padding.right)/2,(Zt.padding.top-Zt.padding.bottom)/2).rotate(Lt*Math.PI/180),ca=Nn.add(Wn).mult(ze.scale/ze.zoomScale(In));return{center:ze.unproject(ar.add(rr).div(2).sub(ca)),zoom:In,bearing:Lt}}i.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},X.prototype.fitBounds=function($,vt,Lt){return this._fitInternal(this.cameraForBounds($,vt),vt,Lt)},X.prototype.fitScreenCoordinates=function($,vt,Lt,Zt,ae){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(i.Point.convert($)),this.transform.pointLocation(i.Point.convert(vt)),Lt,Zt),Zt,ae)},X.prototype._fitInternal=function($,vt,Lt){return $?(delete(vt=i.extend($,vt)).padding,vt.linear?this.easeTo(vt,Lt):this.flyTo(vt,Lt)):this},X.prototype.jumpTo=function($,vt){this.stop();var Lt=this.transform,Zt=!1,ae=!1,we=!1;return"zoom"in $&&Lt.zoom!==+$.zoom&&(Zt=!0,Lt.zoom=+$.zoom),void 0!==$.center&&(Lt.center=i.LngLat.convert($.center)),"bearing"in $&&Lt.bearing!==+$.bearing&&(ae=!0,Lt.bearing=+$.bearing),"pitch"in $&&Lt.pitch!==+$.pitch&&(we=!0,Lt.pitch=+$.pitch),null!=$.padding&&!Lt.isPaddingEqual($.padding)&&(Lt.padding=$.padding),this.fire(new i.Event("movestart",vt)).fire(new i.Event("move",vt)),Zt&&this.fire(new i.Event("zoomstart",vt)).fire(new i.Event("zoom",vt)).fire(new i.Event("zoomend",vt)),ae&&this.fire(new i.Event("rotatestart",vt)).fire(new i.Event("rotate",vt)).fire(new i.Event("rotateend",vt)),we&&this.fire(new i.Event("pitchstart",vt)).fire(new i.Event("pitch",vt)).fire(new i.Event("pitchend",vt)),this.fire(new i.Event("moveend",vt))},X.prototype.easeTo=function($,vt){var Lt=this;this._stop(!1,$.easeId),(!1===($=i.extend({offset:[0,0],duration:500,easing:i.ease},$)).animate||!$.essential&&i.browser.prefersReducedMotion)&&($.duration=0);var Zt=this.transform,ae=this.getZoom(),we=this.getBearing(),ze=this.getPitch(),Ke=this.getPadding(),ar="zoom"in $?+$.zoom:ae,rr="bearing"in $?this._normalizeBearing($.bearing,we):we,Ir="pitch"in $?+$.pitch:ze,Zr="padding"in $?$.padding:Zt.padding,Xr=i.Point.convert($.offset),Vr=Zt.centerPoint.add(Xr),Kr=Zt.pointLocation(Vr),vn=i.LngLat.convert($.center||Kr);this._normalizeCenter(vn);var Un,On,Ln=Zt.project(Kr),In=Zt.project(vn).sub(Ln),Nn=Zt.zoomScale(ar-ae);$.around&&(Un=i.LngLat.convert($.around),On=Zt.locationPoint(Un));var Vn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ar!==ae,this._rotating=this._rotating||we!==rr,this._pitching=this._pitching||Ir!==ze,this._padding=!Zt.isPaddingEqual(Zr),this._easeId=$.easeId,this._prepareEase(vt,$.noMoveStart,Vn),this._ease(function(Wn){if(Lt._zooming&&(Zt.zoom=i.number(ae,ar,Wn)),Lt._rotating&&(Zt.bearing=i.number(we,rr,Wn)),Lt._pitching&&(Zt.pitch=i.number(ze,Ir,Wn)),Lt._padding&&(Zt.interpolatePadding(Ke,Zr,Wn),Vr=Zt.centerPoint.add(Xr)),Un)Zt.setLocationAtPoint(Un,On);else{var ra=Zt.zoomScale(Zt.zoom-ae),ca=ar>ae?Math.min(2,Nn):Math.max(.5,Nn),oa=Math.pow(ca,1-Wn),Pa=Zt.unproject(Ln.add(In.mult(Wn*oa)).mult(ra));Zt.setLocationAtPoint(Zt.renderWorldCopies?Pa.wrap():Pa,Vr)}Lt._fireMoveEvents(vt)},function(Wn){Lt._afterEase(vt,Wn)},$),this},X.prototype._prepareEase=function($,vt,Lt){void 0===Lt&&(Lt={}),this._moving=!0,!vt&&!Lt.moving&&this.fire(new i.Event("movestart",$)),this._zooming&&!Lt.zooming&&this.fire(new i.Event("zoomstart",$)),this._rotating&&!Lt.rotating&&this.fire(new i.Event("rotatestart",$)),this._pitching&&!Lt.pitching&&this.fire(new i.Event("pitchstart",$))},X.prototype._fireMoveEvents=function($){this.fire(new i.Event("move",$)),this._zooming&&this.fire(new i.Event("zoom",$)),this._rotating&&this.fire(new i.Event("rotate",$)),this._pitching&&this.fire(new i.Event("pitch",$))},X.prototype._afterEase=function($,vt){if(!this._easeId||!vt||this._easeId!==vt){delete this._easeId;var Lt=this._zooming,Zt=this._rotating,ae=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Lt&&this.fire(new i.Event("zoomend",$)),Zt&&this.fire(new i.Event("rotateend",$)),ae&&this.fire(new i.Event("pitchend",$)),this.fire(new i.Event("moveend",$))}},X.prototype.flyTo=function($,vt){var Lt=this;if(!$.essential&&i.browser.prefersReducedMotion){var Zt=i.pick($,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Zt,vt)}this.stop(),$=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},$);var ae=this.transform,we=this.getZoom(),ze=this.getBearing(),Ke=this.getPitch(),ar=this.getPadding(),rr="zoom"in $?i.clamp(+$.zoom,ae.minZoom,ae.maxZoom):we,Ir="bearing"in $?this._normalizeBearing($.bearing,ze):ze,Zr="pitch"in $?+$.pitch:Ke,Xr="padding"in $?$.padding:ae.padding,Vr=ae.zoomScale(rr-we),Kr=i.Point.convert($.offset),vn=ae.centerPoint.add(Kr),Ln=ae.pointLocation(vn),In=i.LngLat.convert($.center||Ln);this._normalizeCenter(In);var Nn=ae.project(Ln),Un=ae.project(In).sub(Nn),On=$.curve,Vn=Math.max(ae.width,ae.height),Wn=Vn/Vr,ra=Un.mag();if("minZoom"in $){var ca=i.clamp(Math.min($.minZoom,we,rr),ae.minZoom,ae.maxZoom),oa=Vn/ae.zoomScale(ca-we);On=Math.sqrt(oa/ra*2)}var Pa=On*On;function Za(ka){var ja=(Wn*Wn-Vn*Vn+(ka?-1:1)*Pa*Pa*ra*ra)/(2*(ka?Wn:Vn)*Pa*ra);return Math.log(Math.sqrt(ja*ja+1)-ja)}function Ha(ka){return(Math.exp(ka)-Math.exp(-ka))/2}function ma(ka){return(Math.exp(ka)+Math.exp(-ka))/2}var Fa=Za(0),Qa=function(ka){return ma(Fa)/ma(Fa+On*ka)},Ka=function(ka){return Vn*((ma(Fa)*function Ga(ka){return Ha(ka)/ma(ka)}(Fa+On*ka)-Ha(Fa))/Pa)/ra},pi=(Za(1)-Fa)/On;if(Math.abs(ra)<1e-6||!isFinite(pi)){if(Math.abs(Vn-Wn)<1e-6)return this.easeTo($,vt);var Xa=Wn<Vn?-1:1;pi=Math.abs(Math.log(Wn/Vn))/On,Ka=function(){return 0},Qa=function(ka){return Math.exp(Xa*On*ka)}}return $.duration="duration"in $?+$.duration:1e3*pi/("screenSpeed"in $?+$.screenSpeed/On:+$.speed),$.maxDuration&&$.duration>$.maxDuration&&($.duration=0),this._zooming=!0,this._rotating=ze!==Ir,this._pitching=Zr!==Ke,this._padding=!ae.isPaddingEqual(Xr),this._prepareEase(vt,!1),this._ease(function(ka){var ja=ka*pi,ki=1/Qa(ja);ae.zoom=1===ka?rr:we+ae.scaleZoom(ki),Lt._rotating&&(ae.bearing=i.number(ze,Ir,ka)),Lt._pitching&&(ae.pitch=i.number(Ke,Zr,ka)),Lt._padding&&(ae.interpolatePadding(ar,Xr,ka),vn=ae.centerPoint.add(Kr));var Ki=1===ka?In:ae.unproject(Nn.add(Un.mult(Ka(ja))).mult(ki));ae.setLocationAtPoint(ae.renderWorldCopies?Ki.wrap():Ki,vn),Lt._fireMoveEvents(vt)},function(){return Lt._afterEase(vt)},$),this},X.prototype.isEasing=function(){return!!this._easeFrameId},X.prototype.stop=function(){return this._stop()},X.prototype._stop=function($,vt){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Lt=this._onEaseEnd;delete this._onEaseEnd,Lt.call(this,vt)}if(!$){var Zt=this.handlers;Zt&&Zt.stop(!1)}return this},X.prototype._ease=function($,vt,Lt){!1===Lt.animate||0===Lt.duration?($(1),vt()):(this._easeStart=i.browser.now(),this._easeOptions=Lt,this._onEaseFrame=$,this._onEaseEnd=vt,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},X.prototype._renderFrameCallback=function(){var $=Math.min((i.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing($)),$<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},X.prototype._normalizeBearing=function($,vt){$=i.wrap($,-180,180);var Lt=Math.abs($-vt);return Math.abs($-360-vt)<Lt&&($-=360),Math.abs($+360-vt)<Lt&&($+=360),$},X.prototype._normalizeCenter=function($){var vt=this.transform;if(vt.renderWorldCopies&&!vt.lngRange){var Lt=$.lng-vt.center.lng;$.lng+=Lt>180?-360:Lt<-180?360:0}},X}(i.Evented),Ua=function(X){void 0===X&&(X={}),this.options=X,i.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Ua.prototype.getDefaultPosition=function(){return"bottom-right"},Ua.prototype.onAdd=function(X){var ht=this.options&&this.options.compact;return this._map=X,this._container=L.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=L.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=L.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),ht&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===ht&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ua.prototype.onRemove=function(){L.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ua.prototype._setElementTitle=function(X,ht){var $=this._map._getUIString("AttributionControl."+ht);X.title=$,X.setAttribute("aria-label",$)},Ua.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Ua.prototype._updateEditLink=function(){var X=this._editLink;X||(X=this._editLink=this._container.querySelector(".mapbox-improve-map"));var ht=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||i.config.ACCESS_TOKEN}];if(X){var $=ht.reduce(function(vt,Lt,Zt){return Lt.value&&(vt+=Lt.key+"="+Lt.value+(Zt<ht.length-1?"&":"")),vt},"?");X.href=i.config.FEEDBACK_URL+"/"+$+(this._map._hash?this._map._hash.getHashString(!0):""),X.rel="noopener nofollow",this._setElementTitle(X,"MapFeedback")}},Ua.prototype._updateData=function(X){X&&("metadata"===X.sourceDataType||"visibility"===X.sourceDataType||"style"===X.dataType)&&(this._updateAttributions(),this._updateEditLink())},Ua.prototype._updateAttributions=function(){if(this._map.style){var X=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?X=X.concat(this.options.customAttribution.map(function(we){return"string"!=typeof we?"":we})):"string"==typeof this.options.customAttribution&&X.push(this.options.customAttribution)),this._map.style.stylesheet){var ht=this._map.style.stylesheet;this.styleOwner=ht.owner,this.styleId=ht.id}var $=this._map.style.sourceCaches;for(var vt in $){var Lt=$[vt];if(Lt.used){var Zt=Lt.getSource();Zt.attribution&&X.indexOf(Zt.attribution)<0&&X.push(Zt.attribution)}}X.sort(function(we,ze){return we.length-ze.length});var ae=(X=X.filter(function(we,ze){for(var Ke=ze+1;Ke<X.length;Ke++)if(X[Ke].indexOf(we)>=0)return!1;return!0})).join(" | ");ae!==this._attribHTML&&(this._attribHTML=ae,X.length?(this._innerContainer.innerHTML=ae,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ua.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var ri=function(){i.bindAll(["_updateLogo"],this),i.bindAll(["_updateCompact"],this)};ri.prototype.onAdd=function(X){this._map=X,this._container=L.create("div","mapboxgl-ctrl");var ht=L.create("a","mapboxgl-ctrl-logo");return ht.target="_blank",ht.rel="noopener nofollow",ht.href="https://www.mapbox.com/",ht.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ht.setAttribute("rel","noopener nofollow"),this._container.appendChild(ht),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ri.prototype.onRemove=function(){L.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ri.prototype.getDefaultPosition=function(){return"bottom-left"},ri.prototype._updateLogo=function(X){(!X||"metadata"===X.sourceDataType)&&(this._container.style.display=this._logoRequired()?"block":"none")},ri.prototype._logoRequired=function(){if(this._map.style){var X=this._map.style.sourceCaches;for(var ht in X)if(X[ht].getSource().mapbox_logo)return!0;return!1}},ri.prototype._updateCompact=function(){var X=this._container.children;if(X.length){var ht=X[0];this._map.getCanvasContainer().offsetWidth<250?ht.classList.add("mapboxgl-compact"):ht.classList.remove("mapboxgl-compact")}};var ao=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};ao.prototype.add=function(X){var ht=++this._id;return this._queue.push({callback:X,id:ht,cancelled:!1}),ht},ao.prototype.remove=function(X){for(var ht=this._currentlyRunning,vt=0,Lt=ht?this._queue.concat(ht):this._queue;vt<Lt.length;vt+=1){var Zt=Lt[vt];if(Zt.id===X)return void(Zt.cancelled=!0)}},ao.prototype.run=function(X){void 0===X&&(X=0);var ht=this._currentlyRunning=this._queue;this._queue=[];for(var $=0,vt=ht;$<vt.length;$+=1){var Lt=vt[$];if(!Lt.cancelled&&(Lt.callback(X),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},ao.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Sl={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Eo=i.window.HTMLImageElement,ps=i.window.HTMLElement,as=i.window.ImageBitmap,ac={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},ic=function(ut){function X($){var vt=this;if(null!=($=i.extend({},ac,$)).minZoom&&null!=$.maxZoom&&$.minZoom>$.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=$.minPitch&&null!=$.maxPitch&&$.minPitch>$.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=$.minPitch&&$.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=$.maxPitch&&$.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var Lt=new xn($.minZoom,$.maxZoom,$.minPitch,$.maxPitch,$.renderWorldCopies);if(ut.call(this,Lt,$),this._interactive=$.interactive,this._maxTileCacheSize=$.maxTileCacheSize,this._failIfMajorPerformanceCaveat=$.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=$.preserveDrawingBuffer,this._antialias=$.antialias,this._trackResize=$.trackResize,this._bearingSnap=$.bearingSnap,this._refreshExpiredTiles=$.refreshExpiredTiles,this._fadeDuration=$.fadeDuration,this._crossSourceCollisions=$.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=$.collectResourceTiming,this._renderTaskQueue=new ao,this._controls=[],this._mapId=i.uniqueId(),this._locale=i.extend({},Sl,$.locale),this._clickTolerance=$.clickTolerance,this._requestManager=new i.RequestManager($.transformRequest,$.accessToken),"string"==typeof $.container){if(this._container=i.window.document.getElementById($.container),!this._container)throw new Error("Container '"+$.container+"' not found.")}else{if(!($.container instanceof ps))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=$.container}if($.maxBounds&&this.setMaxBounds($.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return vt._update(!1)}),this.on("moveend",function(){return vt._update(!1)}),this.on("zoom",function(){return vt._update(!0)}),void 0!==i.window&&(i.window.addEventListener("online",this._onWindowOnline,!1),i.window.addEventListener("resize",this._onWindowResize,!1),i.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new si(this,$),this._hash=$.hash&&new wa("string"==typeof $.hash&&$.hash||void 0).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:$.center,zoom:$.zoom,bearing:$.bearing,pitch:$.pitch}),$.bounds&&(this.resize(),this.fitBounds($.bounds,i.extend({},$.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=$.localIdeographFontFamily,$.style&&this.setStyle($.style,{localIdeographFontFamily:$.localIdeographFontFamily}),$.attributionControl&&this.addControl(new Ua({customAttribution:$.customAttribution})),this.addControl(new ri,$.logoPosition),this.on("style.load",function(){vt.transform.unmodified&&vt.jumpTo(vt.style.stylesheet)}),this.on("data",function(ae){vt._update("style"===ae.dataType),vt.fire(new i.Event(ae.dataType+"data",ae))}),this.on("dataloading",function(ae){vt.fire(new i.Event(ae.dataType+"dataloading",ae))})}ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X;var ht={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return X.prototype._getMapId=function(){return this._mapId},X.prototype.addControl=function(vt,Lt){if(void 0===Lt&&(Lt=vt.getDefaultPosition?vt.getDefaultPosition():"top-right"),!vt||!vt.onAdd)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Zt=vt.onAdd(this);this._controls.push(vt);var ae=this._controlPositions[Lt];return-1!==Lt.indexOf("bottom")?ae.insertBefore(Zt,ae.firstChild):ae.appendChild(Zt),this},X.prototype.removeControl=function(vt){if(!vt||!vt.onRemove)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Lt=this._controls.indexOf(vt);return Lt>-1&&this._controls.splice(Lt,1),vt.onRemove(this),this},X.prototype.hasControl=function(vt){return this._controls.indexOf(vt)>-1},X.prototype.resize=function(vt){var Lt=this._containerDimensions(),Zt=Lt[0],ae=Lt[1];this._resizeCanvas(Zt,ae),this.transform.resize(Zt,ae),this.painter.resize(Zt,ae);var we=!this._moving;return we&&(this.stop(),this.fire(new i.Event("movestart",vt)).fire(new i.Event("move",vt))),this.fire(new i.Event("resize",vt)),we&&this.fire(new i.Event("moveend",vt)),this},X.prototype.getBounds=function(){return this.transform.getBounds()},X.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},X.prototype.setMaxBounds=function(vt){return this.transform.setMaxBounds(i.LngLatBounds.convert(vt)),this._update()},X.prototype.setMinZoom=function(vt){if((vt=null==vt?-2:vt)>=-2&&vt<=this.transform.maxZoom)return this.transform.minZoom=vt,this._update(),this.getZoom()<vt&&this.setZoom(vt),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},X.prototype.getMinZoom=function(){return this.transform.minZoom},X.prototype.setMaxZoom=function(vt){if((vt=null==vt?22:vt)>=this.transform.minZoom)return this.transform.maxZoom=vt,this._update(),this.getZoom()>vt&&this.setZoom(vt),this;throw new Error("maxZoom must be greater than the current minZoom")},X.prototype.getMaxZoom=function(){return this.transform.maxZoom},X.prototype.setMinPitch=function(vt){if((vt=null==vt?0:vt)<0)throw new Error("minPitch must be greater than or equal to 0");if(vt>=0&&vt<=this.transform.maxPitch)return this.transform.minPitch=vt,this._update(),this.getPitch()<vt&&this.setPitch(vt),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},X.prototype.getMinPitch=function(){return this.transform.minPitch},X.prototype.setMaxPitch=function(vt){if((vt=null==vt?60:vt)>60)throw new Error("maxPitch must be less than or equal to 60");if(vt>=this.transform.minPitch)return this.transform.maxPitch=vt,this._update(),this.getPitch()>vt&&this.setPitch(vt),this;throw new Error("maxPitch must be greater than the current minPitch")},X.prototype.getMaxPitch=function(){return this.transform.maxPitch},X.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},X.prototype.setRenderWorldCopies=function(vt){return this.transform.renderWorldCopies=vt,this._update()},X.prototype.project=function(vt){return this.transform.locationPoint(i.LngLat.convert(vt))},X.prototype.unproject=function(vt){return this.transform.pointLocation(i.Point.convert(vt))},X.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},X.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},X.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},X.prototype._createDelegatedListener=function(vt,Lt,Zt){var we,ae=this;if("mouseenter"===vt||"mouseover"===vt){var ze=!1;return{layer:Lt,listener:Zt,delegates:{mousemove:function(Vr){var Kr=ae.getLayer(Lt)?ae.queryRenderedFeatures(Vr.point,{layers:[Lt]}):[];Kr.length?ze||(ze=!0,Zt.call(ae,new yi(vt,ae,Vr.originalEvent,{features:Kr}))):ze=!1},mouseout:function(){ze=!1}}}}if("mouseleave"===vt||"mouseout"===vt){var rr=!1;return{layer:Lt,listener:Zt,delegates:{mousemove:function(Vr){(ae.getLayer(Lt)?ae.queryRenderedFeatures(Vr.point,{layers:[Lt]}):[]).length?rr=!0:rr&&(rr=!1,Zt.call(ae,new yi(vt,ae,Vr.originalEvent)))},mouseout:function(Vr){rr&&(rr=!1,Zt.call(ae,new yi(vt,ae,Vr.originalEvent)))}}}}return{layer:Lt,listener:Zt,delegates:(we={},we[vt]=function(Vr){var Kr=ae.getLayer(Lt)?ae.queryRenderedFeatures(Vr.point,{layers:[Lt]}):[];Kr.length&&(Vr.features=Kr,Zt.call(ae,Vr),delete Vr.features)},we)}},X.prototype.on=function(vt,Lt,Zt){if(void 0===Zt)return ut.prototype.on.call(this,vt,Lt);var ae=this._createDelegatedListener(vt,Lt,Zt);for(var we in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[vt]=this._delegatedListeners[vt]||[],this._delegatedListeners[vt].push(ae),ae.delegates)this.on(we,ae.delegates[we]);return this},X.prototype.once=function(vt,Lt,Zt){if(void 0===Zt)return ut.prototype.once.call(this,vt,Lt);var ae=this._createDelegatedListener(vt,Lt,Zt);for(var we in ae.delegates)this.once(we,ae.delegates[we]);return this},X.prototype.off=function(vt,Lt,Zt){var ae=this;return void 0===Zt?ut.prototype.off.call(this,vt,Lt):(this._delegatedListeners&&this._delegatedListeners[vt]&&function(ze){for(var Ke=ze[vt],ar=0;ar<Ke.length;ar++){var rr=Ke[ar];if(rr.layer===Lt&&rr.listener===Zt){for(var Ir in rr.delegates)ae.off(Ir,rr.delegates[Ir]);return Ke.splice(ar,1),ae}}}(this._delegatedListeners),this)},X.prototype.queryRenderedFeatures=function(vt,Lt){if(!this.style)return[];var Zt;if(void 0===Lt&&void 0!==vt&&!(vt instanceof i.Point)&&!Array.isArray(vt)&&(Lt=vt,vt=void 0),Lt=Lt||{},(vt=vt||[[0,0],[this.transform.width,this.transform.height]])instanceof i.Point||"number"==typeof vt[0])Zt=[i.Point.convert(vt)];else{var ae=i.Point.convert(vt[0]),we=i.Point.convert(vt[1]);Zt=[ae,new i.Point(we.x,ae.y),we,new i.Point(ae.x,we.y),ae]}return this.style.queryRenderedFeatures(Zt,Lt,this.transform)},X.prototype.querySourceFeatures=function(vt,Lt){return this.style.querySourceFeatures(vt,Lt)},X.prototype.setStyle=function(vt,Lt){return!1!==(Lt=i.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Lt)).diff&&Lt.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&vt?(this._diffStyle(vt,Lt),this):(this._localIdeographFontFamily=Lt.localIdeographFontFamily,this._updateStyle(vt,Lt))},X.prototype._getUIString=function(vt){var Lt=this._locale[vt];if(null==Lt)throw new Error("Missing UI string '"+vt+"'");return Lt},X.prototype._updateStyle=function(vt,Lt){return this.style&&(this.style.setEventedParent(null),this.style._remove()),vt?(this.style=new lo(this,Lt||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof vt?this.style.loadURL(vt):this.style.loadJSON(vt),this):(delete this.style,this)},X.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new lo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},X.prototype._diffStyle=function(vt,Lt){var Zt=this;if("string"==typeof vt){var ae=this._requestManager.normalizeStyleURL(vt),we=this._requestManager.transformRequest(ae,i.ResourceType.Style);i.getJSON(we,function(ze,Ke){ze?Zt.fire(new i.ErrorEvent(ze)):Ke&&Zt._updateDiff(Ke,Lt)})}else"object"==typeof vt&&this._updateDiff(vt,Lt)},X.prototype._updateDiff=function(vt,Lt){try{this.style.setState(vt)&&this._update(!0)}catch(Zt){i.warnOnce("Unable to perform style diff: "+(Zt.message||Zt.error||Zt)+".  Rebuilding the style from scratch."),this._updateStyle(vt,Lt)}},X.prototype.getStyle=function(){if(this.style)return this.style.serialize()},X.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},X.prototype.addSource=function(vt,Lt){return this._lazyInitEmptyStyle(),this.style.addSource(vt,Lt),this._update(!0)},X.prototype.isSourceLoaded=function(vt){var Lt=this.style&&this.style.sourceCaches[vt];if(void 0!==Lt)return Lt.loaded();this.fire(new i.ErrorEvent(new Error("There is no source with ID '"+vt+"'")))},X.prototype.areTilesLoaded=function(){var vt=this.style&&this.style.sourceCaches;for(var Lt in vt){var ae=vt[Lt]._tiles;for(var we in ae){var ze=ae[we];if("loaded"!==ze.state&&"errored"!==ze.state)return!1}}return!0},X.prototype.addSourceType=function(vt,Lt,Zt){return this._lazyInitEmptyStyle(),this.style.addSourceType(vt,Lt,Zt)},X.prototype.removeSource=function(vt){return this.style.removeSource(vt),this._update(!0)},X.prototype.getSource=function(vt){return this.style.getSource(vt)},X.prototype.addImage=function(vt,Lt,Zt){void 0===Zt&&(Zt={});var ae=Zt.pixelRatio;void 0===ae&&(ae=1);var we=Zt.sdf;void 0===we&&(we=!1);var ze=Zt.stretchX,Ke=Zt.stretchY,ar=Zt.content;this._lazyInitEmptyStyle();if(Lt instanceof Eo||as&&Lt instanceof as){var Ir=i.browser.getImageData(Lt);this.style.addImage(vt,{data:new i.RGBAImage({width:Ir.width,height:Ir.height},Ir.data),pixelRatio:ae,stretchX:ze,stretchY:Ke,content:ar,sdf:we,version:0})}else{if(void 0===Lt.width||void 0===Lt.height)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var In=Lt;this.style.addImage(vt,{data:new i.RGBAImage({width:Lt.width,height:Lt.height},new Uint8Array(Lt.data)),pixelRatio:ae,stretchX:ze,stretchY:Ke,content:ar,sdf:we,version:0,userImage:In}),In.onAdd&&In.onAdd(this,vt)}},X.prototype.updateImage=function(vt,Lt){var Zt=this.style.getImage(vt);if(!Zt)return this.fire(new i.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ae=Lt instanceof Eo||as&&Lt instanceof as?i.browser.getImageData(Lt):Lt,we=ae.width,ze=ae.height,Ke=ae.data;return void 0===we||void 0===ze?this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):we!==Zt.data.width||ze!==Zt.data.height?this.fire(new i.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(Zt.data.replace(Ke,!(Lt instanceof Eo||as&&Lt instanceof as)),void this.style.updateImage(vt,Zt))},X.prototype.hasImage=function(vt){return vt?!!this.style.getImage(vt):(this.fire(new i.ErrorEvent(new Error("Missing required image id"))),!1)},X.prototype.removeImage=function(vt){this.style.removeImage(vt)},X.prototype.loadImage=function(vt,Lt){i.getImage(this._requestManager.transformRequest(vt,i.ResourceType.Image),Lt)},X.prototype.listImages=function(){return this.style.listImages()},X.prototype.addLayer=function(vt,Lt){return this._lazyInitEmptyStyle(),this.style.addLayer(vt,Lt),this._update(!0)},X.prototype.moveLayer=function(vt,Lt){return this.style.moveLayer(vt,Lt),this._update(!0)},X.prototype.removeLayer=function(vt){return this.style.removeLayer(vt),this._update(!0)},X.prototype.getLayer=function(vt){return this.style.getLayer(vt)},X.prototype.setLayerZoomRange=function(vt,Lt,Zt){return this.style.setLayerZoomRange(vt,Lt,Zt),this._update(!0)},X.prototype.setFilter=function(vt,Lt,Zt){return void 0===Zt&&(Zt={}),this.style.setFilter(vt,Lt,Zt),this._update(!0)},X.prototype.getFilter=function(vt){return this.style.getFilter(vt)},X.prototype.setPaintProperty=function(vt,Lt,Zt,ae){return void 0===ae&&(ae={}),this.style.setPaintProperty(vt,Lt,Zt,ae),this._update(!0)},X.prototype.getPaintProperty=function(vt,Lt){return this.style.getPaintProperty(vt,Lt)},X.prototype.setLayoutProperty=function(vt,Lt,Zt,ae){return void 0===ae&&(ae={}),this.style.setLayoutProperty(vt,Lt,Zt,ae),this._update(!0)},X.prototype.getLayoutProperty=function(vt,Lt){return this.style.getLayoutProperty(vt,Lt)},X.prototype.setLight=function(vt,Lt){return void 0===Lt&&(Lt={}),this._lazyInitEmptyStyle(),this.style.setLight(vt,Lt),this._update(!0)},X.prototype.getLight=function(){return this.style.getLight()},X.prototype.setFeatureState=function(vt,Lt){return this.style.setFeatureState(vt,Lt),this._update()},X.prototype.removeFeatureState=function(vt,Lt){return this.style.removeFeatureState(vt,Lt),this._update()},X.prototype.getFeatureState=function(vt){return this.style.getFeatureState(vt)},X.prototype.getContainer=function(){return this._container},X.prototype.getCanvasContainer=function(){return this._canvasContainer},X.prototype.getCanvas=function(){return this._canvas},X.prototype._containerDimensions=function(){var vt=0,Lt=0;return this._container&&(vt=this._container.clientWidth||400,Lt=this._container.clientHeight||300),[vt,Lt]},X.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==i.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&i.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},X.prototype._setupContainer=function(){var vt=this._container;vt.classList.add("mapboxgl-map"),(this._missingCSSCanary=L.create("div","mapboxgl-canary",vt)).style.visibility="hidden",this._detectMissingCSS();var Zt=this._canvasContainer=L.create("div","mapboxgl-canvas-container",vt);this._interactive&&Zt.classList.add("mapboxgl-interactive"),this._canvas=L.create("canvas","mapboxgl-canvas",Zt),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ae=this._containerDimensions();this._resizeCanvas(ae[0],ae[1]);var we=this._controlContainer=L.create("div","mapboxgl-control-container",vt),ze=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Ke){ze[Ke]=L.create("div","mapboxgl-ctrl-"+Ke,we)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},X.prototype._resizeCanvas=function(vt,Lt){var Zt=i.browser.devicePixelRatio||1;this._canvas.width=Zt*vt,this._canvas.height=Zt*Lt,this._canvas.style.width=vt+"px",this._canvas.style.height=Lt+"px"},X.prototype._setupPainter=function(){var vt=i.extend({},P.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Lt=this._canvas.getContext("webgl",vt)||this._canvas.getContext("experimental-webgl",vt);Lt?(this.painter=new Dr(Lt,this.transform),i.webpSupported.testSupport(Lt)):this.fire(new i.ErrorEvent(new Error("Failed to initialize WebGL")))},X.prototype._contextLost=function(vt){vt.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new i.Event("webglcontextlost",{originalEvent:vt}))},X.prototype._contextRestored=function(vt){this._setupPainter(),this.resize(),this._update(),this.fire(new i.Event("webglcontextrestored",{originalEvent:vt}))},X.prototype._onMapScroll=function(vt){if(vt.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},X.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},X.prototype._update=function(vt){return this.style?(this._styleDirty=this._styleDirty||vt,this._sourcesDirty=!0,this.triggerRepaint(),this):this},X.prototype._requestRenderFrame=function(vt){return this._update(),this._renderTaskQueue.add(vt)},X.prototype._cancelRenderFrame=function(vt){this._renderTaskQueue.remove(vt)},X.prototype._render=function(vt){var Zt,Lt=this,ae=0,we=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Zt=we.createQueryEXT(),we.beginQueryEXT(we.TIME_ELAPSED_EXT,Zt),ae=i.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(vt),!this._removed){var ze=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Ke=this.transform.zoom,ar=i.browser.now();this.style.zoomHistory.update(Ke,ar);var rr=new i.EvaluationParameters(Ke,{now:ar,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ir=rr.crossFadingFactor();(1!==Ir||Ir!==this._crossFadingFactor)&&(ze=!0,this._crossFadingFactor=Ir),this.style.update(rr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new i.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new i.Event("load"))),this.style&&(this.style.hasTransitions()||ze)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Zr=i.browser.now()-ae;we.endQueryEXT(we.TIME_ELAPSED_EXT,Zt),setTimeout(function(){var Kr=we.getQueryObjectEXT(Zt,we.QUERY_RESULT_EXT)/1e6;we.deleteQueryEXT(Zt),Lt.fire(new i.Event("gpu-timing-frame",{cpuTime:Zr,gpuTime:Kr}))},50)}if(this.listens("gpu-timing-layer")){var Xr=this.painter.collectGpuTimers();setTimeout(function(){var Kr=Lt.painter.queryGpuTimers(Xr);Lt.fire(new i.Event("gpu-timing-layer",{layerTimes:Kr}))},50)}var Vr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Vr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new i.Event("idle")),this._loaded&&!this._fullyLoaded&&!Vr&&(this._fullyLoaded=!0),this}},X.prototype.remove=function(){this._hash&&this._hash.remove();for(var vt=0,Lt=this._controls;vt<Lt.length;vt+=1)Lt[vt].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==i.window&&(i.window.removeEventListener("resize",this._onWindowResize,!1),i.window.removeEventListener("orientationchange",this._onWindowResize,!1),i.window.removeEventListener("online",this._onWindowOnline,!1));var ae=this.painter.context.gl.getExtension("WEBGL_lose_context");ae&&ae.loseContext&&ae.loseContext(),Af(this._canvasContainer),Af(this._controlContainer),Af(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new i.Event("remove"))},X.prototype.triggerRepaint=function(){var vt=this;this.style&&!this._frame&&(this._frame=i.browser.frame(function(Lt){vt._frame=null,vt._render(Lt)}))},X.prototype._onWindowOnline=function(){this._update()},X.prototype._onWindowResize=function(vt){this._trackResize&&this.resize({originalEvent:vt})._update()},ht.showTileBoundaries.get=function(){return!!this._showTileBoundaries},ht.showTileBoundaries.set=function($){this._showTileBoundaries!==$&&(this._showTileBoundaries=$,this._update())},ht.showPadding.get=function(){return!!this._showPadding},ht.showPadding.set=function($){this._showPadding!==$&&(this._showPadding=$,this._update())},ht.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},ht.showCollisionBoxes.set=function($){this._showCollisionBoxes!==$&&(this._showCollisionBoxes=$,$?this.style._generateCollisionBoxes():this._update())},ht.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},ht.showOverdrawInspector.set=function($){this._showOverdrawInspector!==$&&(this._showOverdrawInspector=$,this._update())},ht.repaint.get=function(){return!!this._repaint},ht.repaint.set=function($){this._repaint!==$&&(this._repaint=$,this.triggerRepaint())},ht.vertices.get=function(){return!!this._vertices},ht.vertices.set=function($){this._vertices=$,this._update()},X.prototype._setCacheLimits=function(vt,Lt){i.setCacheLimits(vt,Lt)},ht.version.get=function(){return i.version},Object.defineProperties(X.prototype,ht),X}(ji);function Af(ut){ut.parentNode&&ut.parentNode.removeChild(ut)}var If={showCompass:!0,showZoom:!0,visualizePitch:!1},Cl=function(X){var ht=this;this.options=i.extend({},If,X),this._container=L.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function($){return $.preventDefault()}),this.options.showZoom&&(i.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function($){return ht._map.zoomIn({},{originalEvent:$})}),L.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function($){return ht._map.zoomOut({},{originalEvent:$})}),L.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function($){ht.options.visualizePitch?ht._map.resetNorthPitch({},{originalEvent:$}):ht._map.resetNorth({},{originalEvent:$})}),this._compassIcon=L.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Cl.prototype._updateZoomButtons=function(){var X=this._map.getZoom(),ht=X===this._map.getMaxZoom(),$=X===this._map.getMinZoom();this._zoomInButton.disabled=ht,this._zoomOutButton.disabled=$,this._zoomInButton.setAttribute("aria-disabled",ht.toString()),this._zoomOutButton.setAttribute("aria-disabled",$.toString())},Cl.prototype._rotateCompassArrow=function(){var X=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=X},Cl.prototype.onAdd=function(X){return this._map=X,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Go(this._map,this._compass,this.options.visualizePitch)),this._container},Cl.prototype.onRemove=function(){L.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Cl.prototype._createButton=function(X,ht){var $=L.create("button",X,this._container);return $.type="button",$.addEventListener("click",ht),$},Cl.prototype._setButtonTitle=function(X,ht){var $=this._map._getUIString("NavigationControl."+ht);X.title=$,X.setAttribute("aria-label",$)};var Go=function(X,ht,$){void 0===$&&($=!1),this._clickTolerance=10,this.element=ht,this.mouseRotate=new Jr({clickTolerance:X.dragRotate._mouseRotate._clickTolerance}),this.map=X,$&&(this.mousePitch=new on({clickTolerance:X.dragRotate._mousePitch._clickTolerance})),i.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),L.addEventListener(ht,"mousedown",this.mousedown),L.addEventListener(ht,"touchstart",this.touchstart,{passive:!1}),L.addEventListener(ht,"touchmove",this.touchmove),L.addEventListener(ht,"touchend",this.touchend),L.addEventListener(ht,"touchcancel",this.reset)};function Ll(ut,X,ht){if(ut=new i.LngLat(ut.lng,ut.lat),X){var $=new i.LngLat(ut.lng-360,ut.lat),vt=new i.LngLat(ut.lng+360,ut.lat),Lt=ht.locationPoint(ut).distSqr(X);ht.locationPoint($).distSqr(X)<Lt?ut=$:ht.locationPoint(vt).distSqr(X)<Lt&&(ut=vt)}for(;Math.abs(ut.lng-ht.center.lng)>180;){var Zt=ht.locationPoint(ut);if(Zt.x>=0&&Zt.y>=0&&Zt.x<=ht.width&&Zt.y<=ht.height)break;ut.lng>ht.center.lng?ut.lng-=360:ut.lng+=360}return ut}Go.prototype.down=function(X,ht){this.mouseRotate.mousedown(X,ht),this.mousePitch&&this.mousePitch.mousedown(X,ht),L.disableDrag()},Go.prototype.move=function(X,ht){var $=this.map,vt=this.mouseRotate.mousemoveWindow(X,ht);if(vt&&vt.bearingDelta&&$.setBearing($.getBearing()+vt.bearingDelta),this.mousePitch){var Lt=this.mousePitch.mousemoveWindow(X,ht);Lt&&Lt.pitchDelta&&$.setPitch($.getPitch()+Lt.pitchDelta)}},Go.prototype.off=function(){var X=this.element;L.removeEventListener(X,"mousedown",this.mousedown),L.removeEventListener(X,"touchstart",this.touchstart,{passive:!1}),L.removeEventListener(X,"touchmove",this.touchmove),L.removeEventListener(X,"touchend",this.touchend),L.removeEventListener(X,"touchcancel",this.reset),this.offTemp()},Go.prototype.offTemp=function(){L.enableDrag(),L.removeEventListener(i.window,"mousemove",this.mousemove),L.removeEventListener(i.window,"mouseup",this.mouseup)},Go.prototype.mousedown=function(X){this.down(i.extend({},X,{ctrlKey:!0,preventDefault:function(){return X.preventDefault()}}),L.mousePos(this.element,X)),L.addEventListener(i.window,"mousemove",this.mousemove),L.addEventListener(i.window,"mouseup",this.mouseup)},Go.prototype.mousemove=function(X){this.move(X,L.mousePos(this.element,X))},Go.prototype.mouseup=function(X){this.mouseRotate.mouseupWindow(X),this.mousePitch&&this.mousePitch.mouseupWindow(X),this.offTemp()},Go.prototype.touchstart=function(X){1!==X.targetTouches.length?this.reset():(this._startPos=this._lastPos=L.touchPos(this.element,X.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return X.preventDefault()}},this._startPos))},Go.prototype.touchmove=function(X){1!==X.targetTouches.length?this.reset():(this._lastPos=L.touchPos(this.element,X.targetTouches)[0],this.move({preventDefault:function(){return X.preventDefault()}},this._lastPos))},Go.prototype.touchend=function(X){0===X.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Go.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Mf={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ff(ut,X,ht){var $=ut.classList;for(var vt in Mf)$.remove("mapboxgl-"+ht+"-anchor-"+vt);$.add("mapboxgl-"+ht+"-anchor-"+X)}var Ql,Zu=function(ut){function X(ht,$){if(ut.call(this),(ht instanceof i.window.HTMLElement||$)&&(ht=i.extend({element:ht},$)),i.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=ht&&ht.anchor||"center",this._color=ht&&ht.color||"#3FB1CE",this._scale=ht&&ht.scale||1,this._draggable=ht&&ht.draggable||!1,this._clickTolerance=ht&&ht.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=ht&&ht.rotation||0,this._rotationAlignment=ht&&ht.rotationAlignment||"auto",this._pitchAlignment=ht&&ht.pitchAlignment&&"auto"!==ht.pitchAlignment?ht.pitchAlignment:this._rotationAlignment,ht&&ht.element)this._element=ht.element,this._offset=i.Point.convert(ht&&ht.offset||[0,0]);else{this._defaultMarker=!0,this._element=L.create("div"),this._element.setAttribute("aria-label","Map marker");var vt=L.createNS("http://www.w3.org/2000/svg","svg");vt.setAttributeNS(null,"display","block"),vt.setAttributeNS(null,"height","41px"),vt.setAttributeNS(null,"width","27px"),vt.setAttributeNS(null,"viewBox","0 0 27 41");var ae=L.createNS("http://www.w3.org/2000/svg","g");ae.setAttributeNS(null,"stroke","none"),ae.setAttributeNS(null,"stroke-width","1"),ae.setAttributeNS(null,"fill","none"),ae.setAttributeNS(null,"fill-rule","evenodd");var we=L.createNS("http://www.w3.org/2000/svg","g");we.setAttributeNS(null,"fill-rule","nonzero");var ze=L.createNS("http://www.w3.org/2000/svg","g");ze.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ze.setAttributeNS(null,"fill","#000000");for(var ar=0,rr=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];ar<rr.length;ar+=1){var Ir=rr[ar],Zr=L.createNS("http://www.w3.org/2000/svg","ellipse");Zr.setAttributeNS(null,"opacity","0.04"),Zr.setAttributeNS(null,"cx","10.5"),Zr.setAttributeNS(null,"cy","5.80029008"),Zr.setAttributeNS(null,"rx",Ir.rx),Zr.setAttributeNS(null,"ry",Ir.ry),ze.appendChild(Zr)}var Xr=L.createNS("http://www.w3.org/2000/svg","g");Xr.setAttributeNS(null,"fill",this._color);var Vr=L.createNS("http://www.w3.org/2000/svg","path");Vr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Xr.appendChild(Vr);var Kr=L.createNS("http://www.w3.org/2000/svg","g");Kr.setAttributeNS(null,"opacity","0.25"),Kr.setAttributeNS(null,"fill","#000000");var vn=L.createNS("http://www.w3.org/2000/svg","path");vn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Kr.appendChild(vn);var Ln=L.createNS("http://www.w3.org/2000/svg","g");Ln.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Ln.setAttributeNS(null,"fill","#FFFFFF");var In=L.createNS("http://www.w3.org/2000/svg","g");In.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Nn=L.createNS("http://www.w3.org/2000/svg","circle");Nn.setAttributeNS(null,"fill","#000000"),Nn.setAttributeNS(null,"opacity","0.25"),Nn.setAttributeNS(null,"cx","5.5"),Nn.setAttributeNS(null,"cy","5.5"),Nn.setAttributeNS(null,"r","5.4999962");var Un=L.createNS("http://www.w3.org/2000/svg","circle");Un.setAttributeNS(null,"fill","#FFFFFF"),Un.setAttributeNS(null,"cx","5.5"),Un.setAttributeNS(null,"cy","5.5"),Un.setAttributeNS(null,"r","5.4999962"),In.appendChild(Nn),In.appendChild(Un),we.appendChild(ze),we.appendChild(Xr),we.appendChild(Kr),we.appendChild(Ln),we.appendChild(In),vt.appendChild(we),vt.setAttributeNS(null,"height",41*this._scale+"px"),vt.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(vt),this._offset=i.Point.convert(ht&&ht.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(On){On.preventDefault()}),this._element.addEventListener("mousedown",function(On){On.preventDefault()}),Ff(this._element,this._anchor,"marker"),this._popup=null}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.addTo=function($){return this.remove(),this._map=$,$.getCanvasContainer().appendChild(this._element),$.on("move",this._update),$.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},X.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),L.remove(this._element),this._popup&&this._popup.remove(),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function($){return this._lngLat=i.LngLat.convert($),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},X.prototype.getElement=function(){return this._element},X.prototype.setPopup=function($){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),$){if(!("offset"in $.options)){var vt=38.1,Lt=13.5,Zt=Math.sqrt(Math.pow(Lt,2)/2);$.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-vt],"bottom-left":[Zt,-1*(24.6+Zt)],"bottom-right":[-Zt,-1*(24.6+Zt)],left:[Lt,-24.6],right:[-Lt,-24.6]}:this._offset}this._popup=$,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},X.prototype._onKeyPress=function($){var vt=$.code,Lt=$.charCode||$.keyCode;("Space"===vt||"Enter"===vt||32===Lt||13===Lt)&&this.togglePopup()},X.prototype._onMapClick=function($){var vt=$.originalEvent.target,Lt=this._element;this._popup&&(vt===Lt||Lt.contains(vt))&&this.togglePopup()},X.prototype.getPopup=function(){return this._popup},X.prototype.togglePopup=function(){var $=this._popup;return $?($.isOpen()?$.remove():$.addTo(this._map),this):this},X.prototype._update=function($){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ll(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var vt="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?vt="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(vt="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Lt="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?Lt="rotateX(0deg)":"map"===this._pitchAlignment&&(Lt="rotateX("+this._map.getPitch()+"deg)"),(!$||"moveend"===$.type)&&(this._pos=this._pos.round()),L.setTransform(this._element,Mf[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Lt+" "+vt)}},X.prototype.getOffset=function(){return this._offset},X.prototype.setOffset=function($){return this._offset=i.Point.convert($),this._update(),this},X.prototype._onMove=function($){if(!this._isDragging){var vt=this._clickTolerance||this._map._clickTolerance;this._isDragging=$.point.dist(this._pointerdownPos)>=vt}!this._isDragging||(this._pos=$.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new i.Event("dragstart"))),this.fire(new i.Event("drag")))},X.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new i.Event("dragend")),this._state="inactive"},X.prototype._addDragHandler=function($){this._element.contains($.originalEvent.target)&&($.preventDefault(),this._positionDelta=$.point.sub(this._pos).add(this._offset),this._pointerdownPos=$.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},X.prototype.setDraggable=function($){return this._draggable=!!$,this._map&&($?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},X.prototype.isDraggable=function(){return this._draggable},X.prototype.setRotation=function($){return this._rotation=$||0,this._update(),this},X.prototype.getRotation=function(){return this._rotation},X.prototype.setRotationAlignment=function($){return this._rotationAlignment=$||"auto",this._update(),this},X.prototype.getRotationAlignment=function(){return this._rotationAlignment},X.prototype.setPitchAlignment=function($){return this._pitchAlignment=$&&"auto"!==$?$:this._rotationAlignment,this._update(),this},X.prototype.getPitchAlignment=function(){return this._pitchAlignment},X}(i.Evented),oc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};var ju=0,xu=!1,Sc=function(ut){function X(ht){ut.call(this),this.options=i.extend({},oc,ht),i.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.onAdd=function($){return this._map=$,this._container=L.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),function Sf(ut){void 0!==Ql?ut(Ql):void 0!==i.window.navigator.permissions?i.window.navigator.permissions.query({name:"geolocation"}).then(function(X){ut(Ql="denied"!==X.state)}):ut(Ql=!!i.window.navigator.geolocation)}(this._setupUI),this._container},X.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),L.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,ju=0,xu=!1},X.prototype._isOutOfMapMaxBounds=function($){var vt=this._map.getMaxBounds(),Lt=$.coords;return vt&&(Lt.longitude<vt.getWest()||Lt.longitude>vt.getEast()||Lt.latitude<vt.getSouth()||Lt.latitude>vt.getNorth())},X.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},X.prototype._onSuccess=function($){if(this._map){if(this._isOutOfMapMaxBounds($))return this._setErrorState(),this.fire(new i.Event("outofmaxbounds",$)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=$,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker($),(!this.options.trackUserLocation||"ACTIVE_LOCK"===this._watchState)&&this._updateCamera($),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("geolocate",$)),this._finish()}},X.prototype._updateCamera=function($){var vt=new i.LngLat($.coords.longitude,$.coords.latitude),Lt=$.coords.accuracy,Zt=this._map.getBearing(),ae=i.extend({bearing:Zt},this.options.fitBoundsOptions);this._map.fitBounds(vt.toBounds(Lt),ae,{geolocateSource:!0})},X.prototype._updateMarker=function($){if($){var vt=new i.LngLat($.coords.longitude,$.coords.latitude);this._accuracyCircleMarker.setLngLat(vt).addTo(this._map),this._userLocationDotMarker.setLngLat(vt).addTo(this._map),this._accuracy=$.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},X.prototype._updateCircleRadius=function(){var $=this._map._container.clientHeight/2,vt=this._map.unproject([0,$]),Lt=this._map.unproject([1,$]),Zt=vt.distanceTo(Lt),ae=Math.ceil(2*this._accuracy/Zt);this._circleElement.style.width=ae+"px",this._circleElement.style.height=ae+"px"},X.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},X.prototype._onError=function($){if(this._map){if(this.options.trackUserLocation)if(1===$.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var vt=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=vt,this._geolocateButton.setAttribute("aria-label",vt),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===$.code&&xu)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("error",$)),this._finish()}},X.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},X.prototype._setupUI=function($){var vt=this;if(this._container.addEventListener("contextmenu",function(ae){return ae.preventDefault()}),this._geolocateButton=L.create("button","mapboxgl-ctrl-geolocate",this._container),L.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===$){i.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Lt=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Lt,this._geolocateButton.setAttribute("aria-label",Lt)}else{var Zt=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Zt,this._geolocateButton.setAttribute("aria-label",Zt)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=L.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Zu(this._dotElement),this._circleElement=L.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Zu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ae){!ae.geolocateSource&&"ACTIVE_LOCK"===vt._watchState&&(!ae.originalEvent||"resize"!==ae.originalEvent.type)&&(vt._watchState="BACKGROUND",vt._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),vt._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),vt.fire(new i.Event("trackuserlocationend")))})},X.prototype.trigger=function(){if(!this._setup)return i.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ju--,xu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new i.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var $;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++ju>1?($={maximumAge:6e5,timeout:0},xu=!0):($=this.options.positionOptions,xu=!1),this._geolocationWatchID=i.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,$)}}else i.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},X.prototype._clearWatch=function(){i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},X}(i.Evented),sc={maxWidth:100,unit:"metric"},bu=function(X){this.options=i.extend({},sc,X),i.bindAll(["_onMove","setUnit"],this)};function lc(ut,X,ht){var $=ht&&ht.maxWidth||100,vt=ut._container.clientHeight/2,Lt=ut.unproject([0,vt]),Zt=ut.unproject([$,vt]),ae=Lt.distanceTo(Zt);if(ht&&"imperial"===ht.unit){var we=3.2808*ae;we>5280?Ku(X,$,we/5280,ut._getUIString("ScaleControl.Miles")):Ku(X,$,we,ut._getUIString("ScaleControl.Feet"))}else ht&&"nautical"===ht.unit?Ku(X,$,ae/1852,ut._getUIString("ScaleControl.NauticalMiles")):ae>=1e3?Ku(X,$,ae/1e3,ut._getUIString("ScaleControl.Kilometers")):Ku(X,$,ae,ut._getUIString("ScaleControl.Meters"))}function Ku(ut,X,ht,$){var vt=function Cc(ut){var X=Math.pow(10,(""+Math.floor(ut)).length-1),ht=ut/X;return X*(ht>=10?10:ht>=5?5:ht>=3?3:ht>=2?2:ht>=1?1:function Ec(ut){var X=Math.pow(10,Math.ceil(-Math.log(ut)/Math.LN10));return Math.round(ut*X)/X}(ht))}(ht);ut.style.width=X*(vt/ht)+"px",ut.innerHTML=vt+"&nbsp;"+$}bu.prototype.getDefaultPosition=function(){return"bottom-left"},bu.prototype._onMove=function(){lc(this._map,this._container,this.options)},bu.prototype.onAdd=function(X){return this._map=X,this._container=L.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",X.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},bu.prototype.onRemove=function(){L.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},bu.prototype.setUnit=function(X){this.options.unit=X,lc(this._map,this._container,this.options)};var Ds=function(X){this._fullscreen=!1,X&&X.container&&(X.container instanceof i.window.HTMLElement?this._container=X.container:i.warnOnce("Full screen control 'container' must be a DOM element.")),i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.window.document&&(this._fullscreenchange="MSFullscreenChange")};Ds.prototype.onAdd=function(X){return this._map=X,this._container||(this._container=this._map.getContainer()),this._controlContainer=L.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Ds.prototype.onRemove=function(){L.remove(this._controlContainer),this._map=null,i.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ds.prototype._checkFullscreenSupport=function(){return!!(i.window.document.fullscreenEnabled||i.window.document.mozFullScreenEnabled||i.window.document.msFullscreenEnabled||i.window.document.webkitFullscreenEnabled)},Ds.prototype._setupUI=function(){var X=this._fullscreenButton=L.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);L.create("span","mapboxgl-ctrl-icon",X).setAttribute("aria-hidden",!0),X.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ds.prototype._updateTitle=function(){var X=this._getTitle();this._fullscreenButton.setAttribute("aria-label",X),this._fullscreenButton.title=X},Ds.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Ds.prototype._isFullscreen=function(){return this._fullscreen},Ds.prototype._changeIcon=function(){(i.window.document.fullscreenElement||i.window.document.mozFullScreenElement||i.window.document.webkitFullscreenElement||i.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Ds.prototype._onClickFullscreen=function(){this._isFullscreen()?i.window.document.exitFullscreen?i.window.document.exitFullscreen():i.window.document.mozCancelFullScreen?i.window.document.mozCancelFullScreen():i.window.document.msExitFullscreen?i.window.document.msExitFullscreen():i.window.document.webkitCancelFullScreen&&i.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Lc={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Pc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),_c=function(ut){function X(ht){ut.call(this),this.options=i.extend(Object.create(Lc),ht),i.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ut&&(X.__proto__=ut),(X.prototype=Object.create(ut&&ut.prototype)).constructor=X,X.prototype.addTo=function($){return this._map&&this.remove(),this._map=$,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new i.Event("open")),this},X.prototype.isOpen=function(){return!!this._map},X.prototype.remove=function(){return this._content&&L.remove(this._content),this._container&&(L.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new i.Event("close")),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function($){return this._lngLat=i.LngLat.convert($),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},X.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},X.prototype.getElement=function(){return this._container},X.prototype.setText=function($){return this.setDOMContent(i.window.document.createTextNode($))},X.prototype.setHTML=function($){var Zt,vt=i.window.document.createDocumentFragment(),Lt=i.window.document.createElement("body");for(Lt.innerHTML=$;Zt=Lt.firstChild;)vt.appendChild(Zt);return this.setDOMContent(vt)},X.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},X.prototype.setMaxWidth=function($){return this.options.maxWidth=$,this._update(),this},X.prototype.setDOMContent=function($){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=L.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild($),this._createCloseButton(),this._update(),this._focusFirstElement(),this},X.prototype.addClassName=function($){this._container&&this._container.classList.add($)},X.prototype.removeClassName=function($){this._container&&this._container.classList.remove($)},X.prototype.setOffset=function($){return this.options.offset=$,this._update(),this},X.prototype.toggleClassName=function($){if(this._container)return this._container.classList.toggle($)},X.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=L.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},X.prototype._onMouseUp=function($){this._update($.point)},X.prototype._onMouseMove=function($){this._update($.point)},X.prototype._onDrag=function($){this._update($.point)},X.prototype._update=function($){var vt=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=L.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=L.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Ir){return vt._container.classList.add(Ir)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ll(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||$)){var Zt=this._pos=this._trackPointer&&$?$:this._map.project(this._lngLat),ae=this.options.anchor,we=Dc(this.options.offset);if(!ae){var ar,ze=this._container.offsetWidth,Ke=this._container.offsetHeight;ar=Zt.y+we.bottom.y<Ke?["top"]:Zt.y>this._map.transform.height-Ke?["bottom"]:[],Zt.x<ze/2?ar.push("left"):Zt.x>this._map.transform.width-ze/2&&ar.push("right"),ae=0===ar.length?"bottom":ar.join("-")}var rr=Zt.add(we[ae]).round();L.setTransform(this._container,Mf[ae]+" translate("+rr.x+"px,"+rr.y+"px)"),Ff(this._container,ae,"popup")}},X.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var $=this._container.querySelector(Pc);$&&$.focus()}},X.prototype._onClose=function(){this.remove()},X}(i.Evented);function Dc(ut){if(ut){if("number"==typeof ut){var X=Math.round(Math.sqrt(.5*Math.pow(ut,2)));return{center:new i.Point(0,0),top:new i.Point(0,ut),"top-left":new i.Point(X,X),"top-right":new i.Point(-X,X),bottom:new i.Point(0,-ut),"bottom-left":new i.Point(X,-X),"bottom-right":new i.Point(-X,-X),left:new i.Point(ut,0),right:new i.Point(-ut,0)}}if(ut instanceof i.Point||Array.isArray(ut)){var ht=i.Point.convert(ut);return{center:ht,top:ht,"top-left":ht,"top-right":ht,bottom:ht,"bottom-left":ht,"bottom-right":ht,left:ht,right:ht}}return{center:i.Point.convert(ut.center||[0,0]),top:i.Point.convert(ut.top||[0,0]),"top-left":i.Point.convert(ut["top-left"]||[0,0]),"top-right":i.Point.convert(ut["top-right"]||[0,0]),bottom:i.Point.convert(ut.bottom||[0,0]),"bottom-left":i.Point.convert(ut["bottom-left"]||[0,0]),"bottom-right":i.Point.convert(ut["bottom-right"]||[0,0]),left:i.Point.convert(ut.left||[0,0]),right:i.Point.convert(ut.right||[0,0])}}return Dc(new i.Point(0,0))}var Gi={version:i.version,supported:P,setRTLTextPlugin:i.setRTLTextPlugin,getRTLTextPluginStatus:i.getRTLTextPluginStatus,Map:ic,NavigationControl:Cl,GeolocateControl:Sc,AttributionControl:Ua,ScaleControl:bu,FullscreenControl:Ds,Popup:_c,Marker:Zu,Style:lo,LngLat:i.LngLat,LngLatBounds:i.LngLatBounds,Point:i.Point,MercatorCoordinate:i.MercatorCoordinate,Evented:i.Evented,config:i.config,prewarm:function Le(){Ce().acquire(ir)},clearPrewarmedResources:function Xe(){var ut=Ut;ut&&(ut.isPreloaded()&&1===ut.numActive()?(ut.release(ir),Ut=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return i.config.ACCESS_TOKEN},set accessToken(ut){i.config.ACCESS_TOKEN=ut},get baseApiUrl(){return i.config.API_URL},set baseApiUrl(ut){i.config.API_URL=ut},get workerCount(){return lr.workerCount},set workerCount(ut){lr.workerCount=ut},get maxParallelImageRequests(){return i.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ut){i.config.MAX_PARALLEL_IMAGE_REQUESTS=ut},clearStorage:function(X){i.clearTileCache(X)},workerUrl:""};return Gi}),A},tt.exports=t()},3108:function(tt,W,t){"use strict";tt.exports=t(26099)},26099:function(tt,W,t){"use strict";var A=t(64928),y=t(32420),i=t(51160),P=t(76752),L=t(55616),l=t(31264),m=t(47520),r=t(18400),e=t(72512),s=t(76244);function h(f,u){for(var g=u[0],c=u[1],o=1/(u[2]-g),v=1/(u[3]-c),M=new Array(f.length),b=0,E=f.length/2;b<E;b++)M[2*b]=y((f[2*b]-g)*o,0,1),M[2*b+1]=y((f[2*b+1]-c)*v,0,1);return M}tt.exports=function(u,g){g||(g={}),u=m(u,"float64"),g=L(g,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var c=l(g.maxDepth,255),w=l(g.bounds,P(u,2));w[0]===w[2]&&w[2]++,w[1]===w[3]&&w[3]++;var v,d=h(u,w),o=u.length>>>1;g.dtype||(g.dtype="array"),"string"==typeof g.dtype?v=new(e(g.dtype))(o):g.dtype&&(v=g.dtype,Array.isArray(v)&&(v.length=o));for(var M=0;M<o;++M)v[M]=M;var b=[],E=[],x=[],S=[];!function N(O,U,G,J,et,at){if(!J.length)return null;var lt=b[et]||(b[et]=[]),K=x[et]||(x[et]=[]),j=E[et]||(E[et]=[]),rt=lt.length;if(++et>c||at>1073741824){for(var H=0;H<J.length;H++)lt.push(J[H]),K.push(at),j.push(null,null,null,null);return rt}if(lt.push(J[0]),K.push(at),J.length<=1)return j.push(null,null,null,null),rt;for(var Z=.5*G,it=O+Z,Q=U+Z,Y=[],nt=[],_=[],st=[],dt=1,xt=J.length;dt<xt;dt++){var yt=J[dt],Et=d[2*yt+1];d[2*yt]<it?Et<Q?Y.push(yt):nt.push(yt):Et<Q?_.push(yt):st.push(yt)}return j.push(N(O,U,Z,Y,et,at<<=2),N(O,Q,Z,nt,et,at+1),N(it,U,Z,_,et,at+2),N(it,Q,Z,st,et,at+3)),rt}(0,0,1,v,0,1);for(var T=0,n=0;n<b.length;n++){var C=b[n];if(v.set)v.set(C,T);else for(var p=0,F=C.length;p<F;p++)v[p+T]=C[p];var D=T+b[n].length;S[n]=[T,D],T=D}return v.range=function k(){for(var O=[],U=arguments.length;U--;)O[U]=arguments[U];var G;if(r(O[O.length-1])){var J=O.pop();!O.length&&(null!=J.x||null!=J.l||null!=J.left)&&(O=[J],G={}),G=L(J,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else G={};O.length||(O=w);var _,et=i.apply(void 0,O),at=[Math.min(et.x,et.x+et.width),Math.min(et.y,et.y+et.height),Math.max(et.x,et.x+et.width),Math.max(et.y,et.y+et.height)],lt=at[0],K=at[1],j=at[2],rt=at[3],H=h([lt,K,j,rt],w),Z=H[0],it=H[1],Q=H[2],Y=H[3],nt=l(G.level,b.length);if(null!=G.d&&("number"==typeof G.d?_=[G.d,G.d]:G.d.length&&(_=G.d),nt=Math.min(Math.max(Math.ceil(-s(Math.abs(_[0])/(w[2]-w[0]))),Math.ceil(-s(Math.abs(_[1])/(w[3]-w[1])))),nt)),nt=Math.min(nt,b.length),G.lod)return z(Z,it,Q,Y,nt);var st=[];function dt(yt,St,Et,Tt,gt,Mt){if(null!==gt&&null!==Mt&&!(Z>yt+Et||it>St+Et||Q<yt||Y<St||Tt>=nt||gt===Mt)){var Pt=b[Tt];void 0===Mt&&(Mt=Pt.length);for(var Vt=gt;Vt<Mt;Vt++){var re=Pt[Vt],le=u[2*re],It=u[2*re+1];le>=lt&&le<=j&&It>=K&&It<=rt&&st.push(re)}var Rt=E[Tt],$t=Rt[4*gt+0],oe=Rt[4*gt+1],se=Rt[4*gt+2],ve=Rt[4*gt+3],de=xt(Rt,gt+1),jt=.5*Et,Ct=Tt+1;dt(yt,St,jt,Ct,$t,oe||se||ve||de),dt(yt,St+jt,jt,Ct,oe,se||ve||de),dt(yt+jt,St,jt,Ct,se,ve||de),dt(yt+jt,St+jt,jt,Ct,ve,de)}}function xt(yt,St){for(var Et=null,Tt=0;null===Et;)if(Et=yt[4*St+Tt],++Tt>yt.length)return null;return Et}return dt(0,0,1,0,0,1),st},v;function z(O,U,G,J,et){for(var at=[],lt=0;lt<et;lt++){var K=x[lt],j=S[lt][0],rt=B(O,U,lt),H=B(G,J,lt),Z=A.ge(K,rt),it=A.gt(K,H,Z,K.length-1);at[lt]=[Z+j,it+j]}return at}function B(O,U,G){for(var J=1,et=.5,at=.5,lt=.5,K=0;K<G;K++)J<<=2,J+=O<et?U<at?0:1:U<at?2:3,lt*=.5,et+=O<et?-lt:lt,at+=U<at?-lt:lt;return J}}},40440:function(tt,W,t){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var A=t(3256),y=6378137;function L(r){var e=0;if(r&&r.length>0){e+=Math.abs(l(r[0]));for(var s=1;s<r.length;s++)e-=Math.abs(l(r[s]))}return e}function l(r){var e,s,h,f,u,g,c=0,w=r.length;if(w>2){for(g=0;g<w;g++)g===w-2?(h=w-2,f=w-1,u=0):g===w-1?(h=w-1,f=0,u=1):(h=g,f=g+1,u=g+2),e=r[h],s=r[f],c+=(m(r[u][0])-m(e[0]))*Math.sin(m(s[1]));c=c*y*y/2}return c}function m(r){return r*Math.PI/180}W.default=function i(r){return A.geomReduce(r,function(e,s){return e+function P(r){var s,e=0;switch(r.type){case"Polygon":return L(r.coordinates);case"MultiPolygon":for(s=0;s<r.coordinates.length;s++)e+=L(r.coordinates[s]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(s)},0)}},46284:function(tt,W){"use strict";function t(T,n,C){void 0===C&&(C={});var p={type:"Feature"};return(0===C.id||C.id)&&(p.id=C.id),C.bbox&&(p.bbox=C.bbox),p.properties=n||{},p.geometry=T,p}function y(T,n,C){if(void 0===C&&(C={}),!T)throw new Error("coordinates is required");if(!Array.isArray(T))throw new Error("coordinates must be an Array");if(T.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!b(T[0])||!b(T[1]))throw new Error("coordinates must contain numbers");return t({type:"Point",coordinates:T},n,C)}function P(T,n,C){void 0===C&&(C={});for(var p=0,F=T;p<F.length;p++){var D=F[p];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<D[D.length-1].length;N++)if(D[D.length-1][N]!==D[0][N])throw new Error("First and last Position are not equivalent.")}return t({type:"Polygon",coordinates:T},n,C)}function l(T,n,C){if(void 0===C&&(C={}),T.length<2)throw new Error("coordinates must be an array of two or more positions");return t({type:"LineString",coordinates:T},n,C)}function r(T,n){void 0===n&&(n={});var C={type:"FeatureCollection"};return n.id&&(C.id=n.id),n.bbox&&(C.bbox=n.bbox),C.features=T,C}function e(T,n,C){return void 0===C&&(C={}),t({type:"MultiLineString",coordinates:T},n,C)}function s(T,n,C){return void 0===C&&(C={}),t({type:"MultiPoint",coordinates:T},n,C)}function a(T,n,C){return void 0===C&&(C={}),t({type:"MultiPolygon",coordinates:T},n,C)}function u(T,n){void 0===n&&(n="kilometers");var C=W.factors[n];if(!C)throw new Error(n+" units is invalid");return T*C}function g(T,n){void 0===n&&(n="kilometers");var C=W.factors[n];if(!C)throw new Error(n+" units is invalid");return T/C}function d(T){return T%(2*Math.PI)*180/Math.PI}function b(T){return!isNaN(T)&&null!==T&&!Array.isArray(T)}Object.defineProperty(W,"__esModule",{value:!0}),W.earthRadius=6371008.8,W.factors={centimeters:100*W.earthRadius,centimetres:100*W.earthRadius,degrees:W.earthRadius/111325,feet:3.28084*W.earthRadius,inches:39.37*W.earthRadius,kilometers:W.earthRadius/1e3,kilometres:W.earthRadius/1e3,meters:W.earthRadius,metres:W.earthRadius,miles:W.earthRadius/1609.344,millimeters:1e3*W.earthRadius,millimetres:1e3*W.earthRadius,nauticalmiles:W.earthRadius/1852,radians:1,yards:1.0936*W.earthRadius},W.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/W.earthRadius,yards:1.0936133},W.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},W.feature=t,W.geometry=function A(T,n,C){switch(void 0===C&&(C={}),T){case"Point":return y(n).geometry;case"LineString":return l(n).geometry;case"Polygon":return P(n).geometry;case"MultiPoint":return s(n).geometry;case"MultiLineString":return e(n).geometry;case"MultiPolygon":return a(n).geometry;default:throw new Error(T+" is invalid")}},W.point=y,W.points=function i(T,n,C){return void 0===C&&(C={}),r(T.map(function(p){return y(p,n)}),C)},W.polygon=P,W.polygons=function L(T,n,C){return void 0===C&&(C={}),r(T.map(function(p){return P(p,n)}),C)},W.lineString=l,W.lineStrings=function m(T,n,C){return void 0===C&&(C={}),r(T.map(function(p){return l(p,n)}),C)},W.featureCollection=r,W.multiLineString=e,W.multiPoint=s,W.multiPolygon=a,W.geometryCollection=function h(T,n,C){return void 0===C&&(C={}),t({type:"GeometryCollection",geometries:T},n,C)},W.round=function f(T,n){if(void 0===n&&(n=0),n&&!(n>=0))throw new Error("precision must be a positive number");var C=Math.pow(10,n||0);return Math.round(T*C)/C},W.radiansToLength=u,W.lengthToRadians=g,W.lengthToDegrees=function c(T,n){return d(g(T,n))},W.bearingToAzimuth=function w(T){var n=T%360;return n<0&&(n+=360),n},W.radiansToDegrees=d,W.degreesToRadians=function o(T){return T%360*Math.PI/180},W.convertLength=function v(T,n,C){if(void 0===n&&(n="kilometers"),void 0===C&&(C="kilometers"),!(T>=0))throw new Error("length must be a positive number");return u(g(T,n),C)},W.convertArea=function M(T,n,C){if(void 0===n&&(n="meters"),void 0===C&&(C="kilometers"),!(T>=0))throw new Error("area must be a positive number");var p=W.areaFactors[n];if(!p)throw new Error("invalid original units");var F=W.areaFactors[C];if(!F)throw new Error("invalid final units");return T/p*F},W.isNumber=b,W.isObject=function E(T){return!!T&&T.constructor===Object},W.validateBBox=function x(T){if(!T)throw new Error("bbox is required");if(!Array.isArray(T))throw new Error("bbox must be an Array");if(4!==T.length&&6!==T.length)throw new Error("bbox must be an Array of 4 or 6 numbers");T.forEach(function(n){if(!b(n))throw new Error("bbox must only contain numbers")})},W.validateId=function S(T){if(!T)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof T))throw new Error("id must be a number or a string")}},3256:function(tt,W,t){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var A=t(46284);function y(o,v,M){if(null!==o)for(var b,E,x,S,T,n,C,D,p=0,F=0,N=o.type,k="FeatureCollection"===N,z="Feature"===N,B=k?o.features.length:1,O=0;O<B;O++){T=(D=!!(C=k?o.features[O].geometry:z?o.geometry:o)&&"GeometryCollection"===C.type)?C.geometries.length:1;for(var U=0;U<T;U++){var G=0,J=0;if(null!==(S=D?C.geometries[U]:C)){n=S.coordinates;var et=S.type;switch(p=!M||"Polygon"!==et&&"MultiPolygon"!==et?0:1,et){case null:break;case"Point":if(!1===v(n,F,O,G,J))return!1;F++,G++;break;case"LineString":case"MultiPoint":for(b=0;b<n.length;b++){if(!1===v(n[b],F,O,G,J))return!1;F++,"MultiPoint"===et&&G++}"LineString"===et&&G++;break;case"Polygon":case"MultiLineString":for(b=0;b<n.length;b++){for(E=0;E<n[b].length-p;E++){if(!1===v(n[b][E],F,O,G,J))return!1;F++}"MultiLineString"===et&&G++,"Polygon"===et&&J++}"Polygon"===et&&G++;break;case"MultiPolygon":for(b=0;b<n.length;b++){for(J=0,E=0;E<n[b].length;E++){for(x=0;x<n[b][E].length-p;x++){if(!1===v(n[b][E][x],F,O,G,J))return!1;F++}J++}G++}break;case"GeometryCollection":for(b=0;b<S.geometries.length;b++)if(!1===y(S.geometries[b],v,M))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function P(o,v){var M;switch(o.type){case"FeatureCollection":for(M=0;M<o.features.length&&!1!==v(o.features[M].properties,M);M++);break;case"Feature":v(o.properties,0)}}function l(o,v){if("Feature"===o.type)v(o,0);else if("FeatureCollection"===o.type)for(var M=0;M<o.features.length&&!1!==v(o.features[M],M);M++);}function e(o,v){var M,b,E,x,S,T,n,C,p,F,D=0,N="FeatureCollection"===o.type,k="Feature"===o.type,z=N?o.features.length:1;for(M=0;M<z;M++){for(C=N?o.features[M].properties:k?o.properties:{},p=N?o.features[M].bbox:k?o.bbox:void 0,F=N?o.features[M].id:k?o.id:void 0,S=(n=!!(T=N?o.features[M].geometry:k?o.geometry:o)&&"GeometryCollection"===T.type)?T.geometries.length:1,E=0;E<S;E++)if(null!==(x=n?T.geometries[E]:T))switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===v(x,D,C,p,F))return!1;break;case"GeometryCollection":for(b=0;b<x.geometries.length;b++)if(!1===v(x.geometries[b],D,C,p,F))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===v(null,D,C,p,F))return!1;D++}}function a(o,v){e(o,function(M,b,E,x,S){var n,T=null===M?null:M.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==v(A.feature(M,E,{bbox:x,id:S}),b,0)&&void 0}switch(T){case"MultiPoint":n="Point";break;case"MultiLineString":n="LineString";break;case"MultiPolygon":n="Polygon"}for(var C=0;C<M.coordinates.length;C++)if(!1===v(A.feature({type:n,coordinates:M.coordinates[C]},E),b,C))return!1})}function f(o,v){a(o,function(M,b,E){var x=0;if(M.geometry){var S=M.geometry.type;if("Point"!==S&&"MultiPoint"!==S){var T,n=0,C=0,p=0;if(!1===y(M,function(F,D,N,k,z){if(void 0===T||b>n||k>C||z>p)return T=F,n=b,C=k,p=z,void(x=0);var B=A.lineString([T,F],M.properties);if(!1===v(B,b,E,z,x))return!1;x++,T=F}))return!1}}})}function g(o,v){if(!o)throw new Error("geojson is required");a(o,function(M,b,E){if(null!==M.geometry){var S=M.geometry.coordinates;switch(M.geometry.type){case"LineString":if(!1===v(M,b,E,0,0))return!1;break;case"Polygon":for(var T=0;T<S.length;T++)if(!1===v(A.lineString(S[T],M.properties),b,E,T))return!1}}})}W.coordEach=y,W.coordReduce=function i(o,v,M,b){var E=M;return y(o,function(x,S,T,n,C){E=0===S&&void 0===M?x:v(E,x,S,T,n,C)},b),E},W.propEach=P,W.propReduce=function L(o,v,M){var b=M;return P(o,function(E,x){b=0===x&&void 0===M?E:v(b,E,x)}),b},W.featureEach=l,W.featureReduce=function m(o,v,M){var b=M;return l(o,function(E,x){b=0===x&&void 0===M?E:v(b,E,x)}),b},W.coordAll=function r(o){var v=[];return y(o,function(M){v.push(M)}),v},W.geomEach=e,W.geomReduce=function s(o,v,M){var b=M;return e(o,function(E,x,S,T,n){b=0===x&&void 0===M?E:v(b,E,x,S,T,n)}),b},W.flattenEach=a,W.flattenReduce=function h(o,v,M){var b=M;return a(o,function(E,x,S){b=0===x&&0===S&&void 0===M?E:v(b,E,x,S)}),b},W.segmentEach=f,W.segmentReduce=function u(o,v,M){var b=M,E=!1;return f(o,function(x,S,T,n,C){b=!1===E&&void 0===M?x:v(b,x,S,T,n,C),E=!0}),b},W.lineEach=g,W.lineReduce=function c(o,v,M){var b=M;return g(o,function(E,x,S,T){b=0===x&&void 0===M?E:v(b,E,x,S,T)}),b},W.findSegment=function w(o,v){if(!A.isObject(v=v||{}))throw new Error("options is invalid");var T,M=v.featureIndex||0,b=v.multiFeatureIndex||0,E=v.geometryIndex||0,x=v.segmentIndex||0,S=v.properties;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,T=o.features[M].geometry;break;case"Feature":S=S||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(null===T)return null;var n=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=n.length+x-1),A.lineString([n[x],n[x+1]],S,v);case"Polygon":return E<0&&(E=n.length+E),x<0&&(x=n[E].length+x-1),A.lineString([n[E][x],n[E][x+1]],S,v);case"MultiLineString":return b<0&&(b=n.length+b),x<0&&(x=n[b].length+x-1),A.lineString([n[b][x],n[b][x+1]],S,v);case"MultiPolygon":return b<0&&(b=n.length+b),E<0&&(E=n[b].length+E),x<0&&(x=n[b][E].length-x-1),A.lineString([n[b][E][x],n[b][E][x+1]],S,v)}throw new Error("geojson is invalid")},W.findPoint=function d(o,v){if(!A.isObject(v=v||{}))throw new Error("options is invalid");var T,M=v.featureIndex||0,b=v.multiFeatureIndex||0,E=v.geometryIndex||0,x=v.coordIndex||0,S=v.properties;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,T=o.features[M].geometry;break;case"Feature":S=S||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(null===T)return null;var n=T.coordinates;switch(T.type){case"Point":return A.point(n,S,v);case"MultiPoint":return b<0&&(b=n.length+b),A.point(n[b],S,v);case"LineString":return x<0&&(x=n.length+x),A.point(n[x],S,v);case"Polygon":return E<0&&(E=n.length+E),x<0&&(x=n[E].length+x),A.point(n[E][x],S,v);case"MultiLineString":return b<0&&(b=n.length+b),x<0&&(x=n[b].length+x),A.point(n[b][x],S,v);case"MultiPolygon":return b<0&&(b=n.length+b),E<0&&(E=n[b].length+E),x<0&&(x=n[b][E].length-x),A.point(n[b][E][x],S,v)}throw new Error("geojson is invalid")}},42428:function(tt,W,t){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var A=t(84880);function y(i){var P=[1/0,1/0,-1/0,-1/0];return A.coordEach(i,function(L){P[0]>L[0]&&(P[0]=L[0]),P[1]>L[1]&&(P[1]=L[1]),P[2]<L[0]&&(P[2]=L[0]),P[3]<L[1]&&(P[3]=L[1])}),P}y.default=y,W.default=y},76796:function(tt,W){"use strict";function t(T,n,C){void 0===C&&(C={});var p={type:"Feature"};return(0===C.id||C.id)&&(p.id=C.id),C.bbox&&(p.bbox=C.bbox),p.properties=n||{},p.geometry=T,p}function y(T,n,C){if(void 0===C&&(C={}),!T)throw new Error("coordinates is required");if(!Array.isArray(T))throw new Error("coordinates must be an Array");if(T.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!b(T[0])||!b(T[1]))throw new Error("coordinates must contain numbers");return t({type:"Point",coordinates:T},n,C)}function P(T,n,C){void 0===C&&(C={});for(var p=0,F=T;p<F.length;p++){var D=F[p];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<D[D.length-1].length;N++)if(D[D.length-1][N]!==D[0][N])throw new Error("First and last Position are not equivalent.")}return t({type:"Polygon",coordinates:T},n,C)}function l(T,n,C){if(void 0===C&&(C={}),T.length<2)throw new Error("coordinates must be an array of two or more positions");return t({type:"LineString",coordinates:T},n,C)}function r(T,n){void 0===n&&(n={});var C={type:"FeatureCollection"};return n.id&&(C.id=n.id),n.bbox&&(C.bbox=n.bbox),C.features=T,C}function e(T,n,C){return void 0===C&&(C={}),t({type:"MultiLineString",coordinates:T},n,C)}function s(T,n,C){return void 0===C&&(C={}),t({type:"MultiPoint",coordinates:T},n,C)}function a(T,n,C){return void 0===C&&(C={}),t({type:"MultiPolygon",coordinates:T},n,C)}function u(T,n){void 0===n&&(n="kilometers");var C=W.factors[n];if(!C)throw new Error(n+" units is invalid");return T*C}function g(T,n){void 0===n&&(n="kilometers");var C=W.factors[n];if(!C)throw new Error(n+" units is invalid");return T/C}function d(T){return T%(2*Math.PI)*180/Math.PI}function b(T){return!isNaN(T)&&null!==T&&!Array.isArray(T)}Object.defineProperty(W,"__esModule",{value:!0}),W.earthRadius=6371008.8,W.factors={centimeters:100*W.earthRadius,centimetres:100*W.earthRadius,degrees:W.earthRadius/111325,feet:3.28084*W.earthRadius,inches:39.37*W.earthRadius,kilometers:W.earthRadius/1e3,kilometres:W.earthRadius/1e3,meters:W.earthRadius,metres:W.earthRadius,miles:W.earthRadius/1609.344,millimeters:1e3*W.earthRadius,millimetres:1e3*W.earthRadius,nauticalmiles:W.earthRadius/1852,radians:1,yards:1.0936*W.earthRadius},W.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/W.earthRadius,yards:1.0936133},W.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},W.feature=t,W.geometry=function A(T,n,C){switch(void 0===C&&(C={}),T){case"Point":return y(n).geometry;case"LineString":return l(n).geometry;case"Polygon":return P(n).geometry;case"MultiPoint":return s(n).geometry;case"MultiLineString":return e(n).geometry;case"MultiPolygon":return a(n).geometry;default:throw new Error(T+" is invalid")}},W.point=y,W.points=function i(T,n,C){return void 0===C&&(C={}),r(T.map(function(p){return y(p,n)}),C)},W.polygon=P,W.polygons=function L(T,n,C){return void 0===C&&(C={}),r(T.map(function(p){return P(p,n)}),C)},W.lineString=l,W.lineStrings=function m(T,n,C){return void 0===C&&(C={}),r(T.map(function(p){return l(p,n)}),C)},W.featureCollection=r,W.multiLineString=e,W.multiPoint=s,W.multiPolygon=a,W.geometryCollection=function h(T,n,C){return void 0===C&&(C={}),t({type:"GeometryCollection",geometries:T},n,C)},W.round=function f(T,n){if(void 0===n&&(n=0),n&&!(n>=0))throw new Error("precision must be a positive number");var C=Math.pow(10,n||0);return Math.round(T*C)/C},W.radiansToLength=u,W.lengthToRadians=g,W.lengthToDegrees=function c(T,n){return d(g(T,n))},W.bearingToAzimuth=function w(T){var n=T%360;return n<0&&(n+=360),n},W.radiansToDegrees=d,W.degreesToRadians=function o(T){return T%360*Math.PI/180},W.convertLength=function v(T,n,C){if(void 0===n&&(n="kilometers"),void 0===C&&(C="kilometers"),!(T>=0))throw new Error("length must be a positive number");return u(g(T,n),C)},W.convertArea=function M(T,n,C){if(void 0===n&&(n="meters"),void 0===C&&(C="kilometers"),!(T>=0))throw new Error("area must be a positive number");var p=W.areaFactors[n];if(!p)throw new Error("invalid original units");var F=W.areaFactors[C];if(!F)throw new Error("invalid final units");return T/p*F},W.isNumber=b,W.isObject=function E(T){return!!T&&T.constructor===Object},W.validateBBox=function x(T){if(!T)throw new Error("bbox is required");if(!Array.isArray(T))throw new Error("bbox must be an Array");if(4!==T.length&&6!==T.length)throw new Error("bbox must be an Array of 4 or 6 numbers");T.forEach(function(n){if(!b(n))throw new Error("bbox must only contain numbers")})},W.validateId=function S(T){if(!T)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof T))throw new Error("id must be a number or a string")}},84880:function(tt,W,t){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var A=t(76796);function y(o,v,M){if(null!==o)for(var b,E,x,S,T,n,C,D,p=0,F=0,N=o.type,k="FeatureCollection"===N,z="Feature"===N,B=k?o.features.length:1,O=0;O<B;O++){T=(D=!!(C=k?o.features[O].geometry:z?o.geometry:o)&&"GeometryCollection"===C.type)?C.geometries.length:1;for(var U=0;U<T;U++){var G=0,J=0;if(null!==(S=D?C.geometries[U]:C)){n=S.coordinates;var et=S.type;switch(p=!M||"Polygon"!==et&&"MultiPolygon"!==et?0:1,et){case null:break;case"Point":if(!1===v(n,F,O,G,J))return!1;F++,G++;break;case"LineString":case"MultiPoint":for(b=0;b<n.length;b++){if(!1===v(n[b],F,O,G,J))return!1;F++,"MultiPoint"===et&&G++}"LineString"===et&&G++;break;case"Polygon":case"MultiLineString":for(b=0;b<n.length;b++){for(E=0;E<n[b].length-p;E++){if(!1===v(n[b][E],F,O,G,J))return!1;F++}"MultiLineString"===et&&G++,"Polygon"===et&&J++}"Polygon"===et&&G++;break;case"MultiPolygon":for(b=0;b<n.length;b++){for(J=0,E=0;E<n[b].length;E++){for(x=0;x<n[b][E].length-p;x++){if(!1===v(n[b][E][x],F,O,G,J))return!1;F++}J++}G++}break;case"GeometryCollection":for(b=0;b<S.geometries.length;b++)if(!1===y(S.geometries[b],v,M))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function P(o,v){var M;switch(o.type){case"FeatureCollection":for(M=0;M<o.features.length&&!1!==v(o.features[M].properties,M);M++);break;case"Feature":v(o.properties,0)}}function l(o,v){if("Feature"===o.type)v(o,0);else if("FeatureCollection"===o.type)for(var M=0;M<o.features.length&&!1!==v(o.features[M],M);M++);}function e(o,v){var M,b,E,x,S,T,n,C,p,F,D=0,N="FeatureCollection"===o.type,k="Feature"===o.type,z=N?o.features.length:1;for(M=0;M<z;M++){for(C=N?o.features[M].properties:k?o.properties:{},p=N?o.features[M].bbox:k?o.bbox:void 0,F=N?o.features[M].id:k?o.id:void 0,S=(n=!!(T=N?o.features[M].geometry:k?o.geometry:o)&&"GeometryCollection"===T.type)?T.geometries.length:1,E=0;E<S;E++)if(null!==(x=n?T.geometries[E]:T))switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===v(x,D,C,p,F))return!1;break;case"GeometryCollection":for(b=0;b<x.geometries.length;b++)if(!1===v(x.geometries[b],D,C,p,F))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===v(null,D,C,p,F))return!1;D++}}function a(o,v){e(o,function(M,b,E,x,S){var n,T=null===M?null:M.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==v(A.feature(M,E,{bbox:x,id:S}),b,0)&&void 0}switch(T){case"MultiPoint":n="Point";break;case"MultiLineString":n="LineString";break;case"MultiPolygon":n="Polygon"}for(var C=0;C<M.coordinates.length;C++)if(!1===v(A.feature({type:n,coordinates:M.coordinates[C]},E),b,C))return!1})}function f(o,v){a(o,function(M,b,E){var x=0;if(M.geometry){var S=M.geometry.type;if("Point"!==S&&"MultiPoint"!==S){var T,n=0,C=0,p=0;if(!1===y(M,function(F,D,N,k,z){if(void 0===T||b>n||k>C||z>p)return T=F,n=b,C=k,p=z,void(x=0);var B=A.lineString([T,F],M.properties);if(!1===v(B,b,E,z,x))return!1;x++,T=F}))return!1}}})}function g(o,v){if(!o)throw new Error("geojson is required");a(o,function(M,b,E){if(null!==M.geometry){var S=M.geometry.coordinates;switch(M.geometry.type){case"LineString":if(!1===v(M,b,E,0,0))return!1;break;case"Polygon":for(var T=0;T<S.length;T++)if(!1===v(A.lineString(S[T],M.properties),b,E,T))return!1}}})}W.coordEach=y,W.coordReduce=function i(o,v,M,b){var E=M;return y(o,function(x,S,T,n,C){E=0===S&&void 0===M?x:v(E,x,S,T,n,C)},b),E},W.propEach=P,W.propReduce=function L(o,v,M){var b=M;return P(o,function(E,x){b=0===x&&void 0===M?E:v(b,E,x)}),b},W.featureEach=l,W.featureReduce=function m(o,v,M){var b=M;return l(o,function(E,x){b=0===x&&void 0===M?E:v(b,E,x)}),b},W.coordAll=function r(o){var v=[];return y(o,function(M){v.push(M)}),v},W.geomEach=e,W.geomReduce=function s(o,v,M){var b=M;return e(o,function(E,x,S,T,n){b=0===x&&void 0===M?E:v(b,E,x,S,T,n)}),b},W.flattenEach=a,W.flattenReduce=function h(o,v,M){var b=M;return a(o,function(E,x,S){b=0===x&&0===S&&void 0===M?E:v(b,E,x,S)}),b},W.segmentEach=f,W.segmentReduce=function u(o,v,M){var b=M,E=!1;return f(o,function(x,S,T,n,C){b=!1===E&&void 0===M?x:v(b,x,S,T,n,C),E=!0}),b},W.lineEach=g,W.lineReduce=function c(o,v,M){var b=M;return g(o,function(E,x,S,T){b=0===x&&void 0===M?E:v(b,E,x,S,T)}),b},W.findSegment=function w(o,v){if(!A.isObject(v=v||{}))throw new Error("options is invalid");var T,M=v.featureIndex||0,b=v.multiFeatureIndex||0,E=v.geometryIndex||0,x=v.segmentIndex||0,S=v.properties;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,T=o.features[M].geometry;break;case"Feature":S=S||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(null===T)return null;var n=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=n.length+x-1),A.lineString([n[x],n[x+1]],S,v);case"Polygon":return E<0&&(E=n.length+E),x<0&&(x=n[E].length+x-1),A.lineString([n[E][x],n[E][x+1]],S,v);case"MultiLineString":return b<0&&(b=n.length+b),x<0&&(x=n[b].length+x-1),A.lineString([n[b][x],n[b][x+1]],S,v);case"MultiPolygon":return b<0&&(b=n.length+b),E<0&&(E=n[b].length+E),x<0&&(x=n[b][E].length-x-1),A.lineString([n[b][E][x],n[b][E][x+1]],S,v)}throw new Error("geojson is invalid")},W.findPoint=function d(o,v){if(!A.isObject(v=v||{}))throw new Error("options is invalid");var T,M=v.featureIndex||0,b=v.multiFeatureIndex||0,E=v.geometryIndex||0,x=v.coordIndex||0,S=v.properties;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,T=o.features[M].geometry;break;case"Feature":S=S||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(null===T)return null;var n=T.coordinates;switch(T.type){case"Point":return A.point(n,S,v);case"MultiPoint":return b<0&&(b=n.length+b),A.point(n[b],S,v);case"LineString":return x<0&&(x=n.length+x),A.point(n[x],S,v);case"Polygon":return E<0&&(E=n.length+E),x<0&&(x=n[E].length+x),A.point(n[E][x],S,v);case"MultiLineString":return b<0&&(b=n.length+b),x<0&&(x=n[b].length+x),A.point(n[b][x],S,v);case"MultiPolygon":return b<0&&(b=n.length+b),E<0&&(E=n[b].length+E),x<0&&(x=n[b][E].length-x),A.point(n[b][E][x],S,v)}throw new Error("geojson is invalid")}},77844:function(tt,W,t){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var A=t(43752),y=t(49840);W.default=function i(P,L){void 0===L&&(L={});var l=0,m=0,r=0;return A.coordEach(P,function(e){l+=e[0],m+=e[1],r++}),y.point([l/r,m/r],L.properties)}},49840:function(tt,W){"use strict";function t(k,z,B){void 0===B&&(B={});var O={type:"Feature"};return(0===B.id||B.id)&&(O.id=B.id),B.bbox&&(O.bbox=B.bbox),O.properties=z||{},O.geometry=k,O}function y(k,z,B){return void 0===B&&(B={}),t({type:"Point",coordinates:k},z,B)}function P(k,z,B){void 0===B&&(B={});for(var O=0,U=k;O<U.length;O++){var G=U[O];if(G.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var J=0;J<G[G.length-1].length;J++)if(G[G.length-1][J]!==G[0][J])throw new Error("First and last Position are not equivalent.")}return t({type:"Polygon",coordinates:k},z,B)}function l(k,z,B){if(void 0===B&&(B={}),k.length<2)throw new Error("coordinates must be an array of two or more positions");return t({type:"LineString",coordinates:k},z,B)}function r(k,z){void 0===z&&(z={});var B={type:"FeatureCollection"};return z.id&&(B.id=z.id),z.bbox&&(B.bbox=z.bbox),B.features=k,B}function e(k,z,B){return void 0===B&&(B={}),t({type:"MultiLineString",coordinates:k},z,B)}function s(k,z,B){return void 0===B&&(B={}),t({type:"MultiPoint",coordinates:k},z,B)}function a(k,z,B){return void 0===B&&(B={}),t({type:"MultiPolygon",coordinates:k},z,B)}function u(k,z){void 0===z&&(z="kilometers");var B=W.factors[z];if(!B)throw new Error(z+" units is invalid");return k*B}function g(k,z){void 0===z&&(z="kilometers");var B=W.factors[z];if(!B)throw new Error(z+" units is invalid");return k/B}function d(k){return k%(2*Math.PI)*180/Math.PI}function b(k){return!isNaN(k)&&null!==k&&!Array.isArray(k)&&!/^\s*$/.test(k)}Object.defineProperty(W,"__esModule",{value:!0}),W.earthRadius=6371008.8,W.factors={centimeters:100*W.earthRadius,centimetres:100*W.earthRadius,degrees:W.earthRadius/111325,feet:3.28084*W.earthRadius,inches:39.37*W.earthRadius,kilometers:W.earthRadius/1e3,kilometres:W.earthRadius/1e3,meters:W.earthRadius,metres:W.earthRadius,miles:W.earthRadius/1609.344,millimeters:1e3*W.earthRadius,millimetres:1e3*W.earthRadius,nauticalmiles:W.earthRadius/1852,radians:1,yards:W.earthRadius/1.0936},W.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/W.earthRadius,yards:.91441111923921},W.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},W.feature=t,W.geometry=function A(k,z,B){switch(void 0===B&&(B={}),k){case"Point":return y(z).geometry;case"LineString":return l(z).geometry;case"Polygon":return P(z).geometry;case"MultiPoint":return s(z).geometry;case"MultiLineString":return e(z).geometry;case"MultiPolygon":return a(z).geometry;default:throw new Error(k+" is invalid")}},W.point=y,W.points=function i(k,z,B){return void 0===B&&(B={}),r(k.map(function(O){return y(O,z)}),B)},W.polygon=P,W.polygons=function L(k,z,B){return void 0===B&&(B={}),r(k.map(function(O){return P(O,z)}),B)},W.lineString=l,W.lineStrings=function m(k,z,B){return void 0===B&&(B={}),r(k.map(function(O){return l(O,z)}),B)},W.featureCollection=r,W.multiLineString=e,W.multiPoint=s,W.multiPolygon=a,W.geometryCollection=function h(k,z,B){return void 0===B&&(B={}),t({type:"GeometryCollection",geometries:k},z,B)},W.round=function f(k,z){if(void 0===z&&(z=0),z&&!(z>=0))throw new Error("precision must be a positive number");var B=Math.pow(10,z||0);return Math.round(k*B)/B},W.radiansToLength=u,W.lengthToRadians=g,W.lengthToDegrees=function c(k,z){return d(g(k,z))},W.bearingToAzimuth=function w(k){var z=k%360;return z<0&&(z+=360),z},W.radiansToDegrees=d,W.degreesToRadians=function o(k){return k%360*Math.PI/180},W.convertLength=function v(k,z,B){if(void 0===z&&(z="kilometers"),void 0===B&&(B="kilometers"),!(k>=0))throw new Error("length must be a positive number");return u(g(k,z),B)},W.convertArea=function M(k,z,B){if(void 0===z&&(z="meters"),void 0===B&&(B="kilometers"),!(k>=0))throw new Error("area must be a positive number");var O=W.areaFactors[z];if(!O)throw new Error("invalid original units");var U=W.areaFactors[B];if(!U)throw new Error("invalid final units");return k/O*U},W.isNumber=b,W.isObject=function E(k){return!!k&&k.constructor===Object},W.validateBBox=function x(k){if(!k)throw new Error("bbox is required");if(!Array.isArray(k))throw new Error("bbox must be an Array");if(4!==k.length&&6!==k.length)throw new Error("bbox must be an Array of 4 or 6 numbers");k.forEach(function(z){if(!b(z))throw new Error("bbox must only contain numbers")})},W.validateId=function S(k){if(!k)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof k))throw new Error("id must be a number or a string")},W.radians2degrees=function T(){throw new Error("method has been renamed to `radiansToDegrees`")},W.degrees2radians=function n(){throw new Error("method has been renamed to `degreesToRadians`")},W.distanceToDegrees=function C(){throw new Error("method has been renamed to `lengthToDegrees`")},W.distanceToRadians=function p(){throw new Error("method has been renamed to `lengthToRadians`")},W.radiansToDistance=function F(){throw new Error("method has been renamed to `radiansToLength`")},W.bearingToAngle=function D(){throw new Error("method has been renamed to `bearingToAzimuth`")},W.convertDistance=function N(){throw new Error("method has been renamed to `convertLength`")}},43752:function(tt,W,t){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var A=t(49840);function y(o,v,M){if(null!==o)for(var b,E,x,S,T,n,C,D,p=0,F=0,N=o.type,k="FeatureCollection"===N,z="Feature"===N,B=k?o.features.length:1,O=0;O<B;O++){T=(D=!!(C=k?o.features[O].geometry:z?o.geometry:o)&&"GeometryCollection"===C.type)?C.geometries.length:1;for(var U=0;U<T;U++){var G=0,J=0;if(null!==(S=D?C.geometries[U]:C)){n=S.coordinates;var et=S.type;switch(p=!M||"Polygon"!==et&&"MultiPolygon"!==et?0:1,et){case null:break;case"Point":if(!1===v(n,F,O,G,J))return!1;F++,G++;break;case"LineString":case"MultiPoint":for(b=0;b<n.length;b++){if(!1===v(n[b],F,O,G,J))return!1;F++,"MultiPoint"===et&&G++}"LineString"===et&&G++;break;case"Polygon":case"MultiLineString":for(b=0;b<n.length;b++){for(E=0;E<n[b].length-p;E++){if(!1===v(n[b][E],F,O,G,J))return!1;F++}"MultiLineString"===et&&G++,"Polygon"===et&&J++}"Polygon"===et&&G++;break;case"MultiPolygon":for(b=0;b<n.length;b++){for(J=0,E=0;E<n[b].length;E++){for(x=0;x<n[b][E].length-p;x++){if(!1===v(n[b][E][x],F,O,G,J))return!1;F++}J++}G++}break;case"GeometryCollection":for(b=0;b<S.geometries.length;b++)if(!1===y(S.geometries[b],v,M))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function P(o,v){var M;switch(o.type){case"FeatureCollection":for(M=0;M<o.features.length&&!1!==v(o.features[M].properties,M);M++);break;case"Feature":v(o.properties,0)}}function l(o,v){if("Feature"===o.type)v(o,0);else if("FeatureCollection"===o.type)for(var M=0;M<o.features.length&&!1!==v(o.features[M],M);M++);}function e(o,v){var M,b,E,x,S,T,n,C,p,F,D=0,N="FeatureCollection"===o.type,k="Feature"===o.type,z=N?o.features.length:1;for(M=0;M<z;M++){for(C=N?o.features[M].properties:k?o.properties:{},p=N?o.features[M].bbox:k?o.bbox:void 0,F=N?o.features[M].id:k?o.id:void 0,S=(n=!!(T=N?o.features[M].geometry:k?o.geometry:o)&&"GeometryCollection"===T.type)?T.geometries.length:1,E=0;E<S;E++)if(null!==(x=n?T.geometries[E]:T))switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===v(x,D,C,p,F))return!1;break;case"GeometryCollection":for(b=0;b<x.geometries.length;b++)if(!1===v(x.geometries[b],D,C,p,F))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===v(null,D,C,p,F))return!1;D++}}function a(o,v){e(o,function(M,b,E,x,S){var n,T=null===M?null:M.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==v(A.feature(M,E,{bbox:x,id:S}),b,0)&&void 0}switch(T){case"MultiPoint":n="Point";break;case"MultiLineString":n="LineString";break;case"MultiPolygon":n="Polygon"}for(var C=0;C<M.coordinates.length;C++)if(!1===v(A.feature({type:n,coordinates:M.coordinates[C]},E),b,C))return!1})}function f(o,v){a(o,function(M,b,E){var x=0;if(M.geometry){var S=M.geometry.type;if("Point"!==S&&"MultiPoint"!==S){var T,n=0,C=0,p=0;if(!1===y(M,function(F,D,N,k,z){if(void 0===T||b>n||k>C||z>p)return T=F,n=b,C=k,p=z,void(x=0);var B=A.lineString([T,F],M.properties);if(!1===v(B,b,E,z,x))return!1;x++,T=F}))return!1}}})}function g(o,v){if(!o)throw new Error("geojson is required");a(o,function(M,b,E){if(null!==M.geometry){var S=M.geometry.coordinates;switch(M.geometry.type){case"LineString":if(!1===v(M,b,E,0,0))return!1;break;case"Polygon":for(var T=0;T<S.length;T++)if(!1===v(A.lineString(S[T],M.properties),b,E,T))return!1}}})}W.coordEach=y,W.coordReduce=function i(o,v,M,b){var E=M;return y(o,function(x,S,T,n,C){E=0===S&&void 0===M?x:v(E,x,S,T,n,C)},b),E},W.propEach=P,W.propReduce=function L(o,v,M){var b=M;return P(o,function(E,x){b=0===x&&void 0===M?E:v(b,E,x)}),b},W.featureEach=l,W.featureReduce=function m(o,v,M){var b=M;return l(o,function(E,x){b=0===x&&void 0===M?E:v(b,E,x)}),b},W.coordAll=function r(o){var v=[];return y(o,function(M){v.push(M)}),v},W.geomEach=e,W.geomReduce=function s(o,v,M){var b=M;return e(o,function(E,x,S,T,n){b=0===x&&void 0===M?E:v(b,E,x,S,T,n)}),b},W.flattenEach=a,W.flattenReduce=function h(o,v,M){var b=M;return a(o,function(E,x,S){b=0===x&&0===S&&void 0===M?E:v(b,E,x,S)}),b},W.segmentEach=f,W.segmentReduce=function u(o,v,M){var b=M,E=!1;return f(o,function(x,S,T,n,C){b=!1===E&&void 0===M?x:v(b,x,S,T,n,C),E=!0}),b},W.lineEach=g,W.lineReduce=function c(o,v,M){var b=M;return g(o,function(E,x,S,T){b=0===x&&void 0===M?E:v(b,E,x,S,T)}),b},W.findSegment=function w(o,v){if(!A.isObject(v=v||{}))throw new Error("options is invalid");var T,M=v.featureIndex||0,b=v.multiFeatureIndex||0,E=v.geometryIndex||0,x=v.segmentIndex||0,S=v.properties;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,T=o.features[M].geometry;break;case"Feature":S=S||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(null===T)return null;var n=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=n.length+x-1),A.lineString([n[x],n[x+1]],S,v);case"Polygon":return E<0&&(E=n.length+E),x<0&&(x=n[E].length+x-1),A.lineString([n[E][x],n[E][x+1]],S,v);case"MultiLineString":return b<0&&(b=n.length+b),x<0&&(x=n[b].length+x-1),A.lineString([n[b][x],n[b][x+1]],S,v);case"MultiPolygon":return b<0&&(b=n.length+b),E<0&&(E=n[b].length+E),x<0&&(x=n[b][E].length-x-1),A.lineString([n[b][E][x],n[b][E][x+1]],S,v)}throw new Error("geojson is invalid")},W.findPoint=function d(o,v){if(!A.isObject(v=v||{}))throw new Error("options is invalid");var T,M=v.featureIndex||0,b=v.multiFeatureIndex||0,E=v.geometryIndex||0,x=v.coordIndex||0,S=v.properties;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,T=o.features[M].geometry;break;case"Feature":S=S||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(null===T)return null;var n=T.coordinates;switch(T.type){case"Point":return A.point(n,S,v);case"MultiPoint":return b<0&&(b=n.length+b),A.point(n[b],S,v);case"LineString":return x<0&&(x=n.length+x),A.point(n[x],S,v);case"Polygon":return E<0&&(E=n.length+E),x<0&&(x=n[E].length+x),A.point(n[E][x],S,v);case"MultiLineString":return b<0&&(b=n.length+b),x<0&&(x=n[b].length+x),A.point(n[b][x],S,v);case"MultiPolygon":return b<0&&(b=n.length+b),E<0&&(E=n[b].length+E),x<0&&(x=n[b][E].length-x),A.point(n[b][E][x],S,v)}throw new Error("geojson is invalid")}},49972:function(tt){tt.exports=function W(t){var A=0,y=0,i=0,P=0;return t.map(function(L){var l=(L=L.slice())[0],m=l.toUpperCase();if(l!=m)switch(L[0]=m,l){case"a":L[6]+=i,L[7]+=P;break;case"v":L[1]+=P;break;case"h":L[1]+=i;break;default:for(var r=1;r<L.length;)L[r++]+=i,L[r++]+=P}switch(m){case"Z":i=A,P=y;break;case"H":i=L[1];break;case"V":P=L[1];break;case"M":i=A=L[1],P=y=L[2];break;default:i=L[L.length-2],P=L[L.length-1]}return L})}},76752:function(tt){"use strict";tt.exports=function W(t,A){if(!t||null==t.length)throw Error("Argument should be an array");A=null==A?1:Math.floor(A);for(var y=Array(2*A),i=0;i<A;i++){for(var P=-1/0,L=1/0,l=i,m=t.length;l<m;l+=A)t[l]>P&&(P=t[l]),t[l]<L&&(L=t[l]);y[i]=L,y[A+i]=P}return y}},10272:function(tt){"use strict";tt.exports=function(W,t,A){if("function"==typeof Array.prototype.findIndex)return W.findIndex(t,A);if("function"!=typeof t)throw new TypeError("predicate must be a function");var y=Object(W),i=y.length;if(0===i)return-1;for(var P=0;P<i;P++)if(t.call(A,y[P],P,y))return P;return-1}},71152:function(tt,W,t){"use strict";var A=t(76752);tt.exports=function y(i,P,L){if(!i||null==i.length)throw Error("Argument should be an array");null==P&&(P=1),null==L&&(L=A(i,P));for(var l=0;l<P;l++){var m=L[P+l],r=L[l],e=l,s=i.length;if(m===1/0&&r===-1/0)for(e=l;e<s;e+=P)i[e]=i[e]===m?1:i[e]===r?0:.5;else if(m===1/0)for(e=l;e<s;e+=P)i[e]=i[e]===m?1:0;else if(r===-1/0)for(e=l;e<s;e+=P)i[e]=i[e]===r?0:1;else{var a=m-r;for(e=l;e<s;e+=P)isNaN(i[e])||(i[e]=0===a?.5:(i[e]-r)/a)}}return i}},67752:function(tt){tt.exports=function(t,A){var y="number"==typeof t,i="number"==typeof A;y&&!i?(A=t,t=0):!y&&!i&&(t=0,A=0);var P=(A|=0)-(t|=0);if(P<0)throw new Error("array length must be positive");for(var L=new Array(P),l=0,m=t;l<P;l++,m++)L[l]=m;return L}},45408:function(tt,W,t){"use strict";var A=t(4168);function y(H){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(it){return typeof it}:function(it){return it&&"function"==typeof Symbol&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it})(H)}var v,M,L=t(86832).codes,l=L.ERR_AMBIGUOUS_ARGUMENT,m=L.ERR_INVALID_ARG_TYPE,r=L.ERR_INVALID_ARG_VALUE,e=L.ERR_INVALID_RETURN_VALUE,s=L.ERR_MISSING_ARGS,a=t(26144),f=t(35840).inspect,u=t(35840).types,g=u.isPromise,c=u.isRegExp,w=Object.assign?Object.assign:t(60964).assign,d=Object.is?Object.is:t(39896);function S(){var H=t(25116);v=H.isDeepEqual,M=H.isDeepStrictEqual}var p=!1,F=tt.exports=B,D={};function N(H){throw H.message instanceof Error?H.message:new a(H)}function z(H,Z,it,Q){if(!it){var Y=!1;if(0===Z)Y=!0,Q="No value argument passed to `assert.ok()`";else if(Q instanceof Error)throw Q;var nt=new a({actual:it,expected:!0,message:Q,operator:"==",stackStartFn:H});throw nt.generatedMessage=Y,nt}}function B(){for(var H=arguments.length,Z=new Array(H),it=0;it<H;it++)Z[it]=arguments[it];z.apply(void 0,[B,Z.length].concat(Z))}F.fail=function k(H,Z,it,Q,Y){var _,nt=arguments.length;if(0===nt?_="Failed":1===nt?(it=H,H=void 0):(!1===p&&(p=!0,(A.emitWarning?A.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===nt&&(Q="!=")),it instanceof Error)throw it;var dt={actual:H,expected:Z,operator:void 0===Q?"fail":Q,stackStartFn:Y||k};void 0!==it&&(dt.message=it);var xt=new a(dt);throw _&&(xt.message=_,xt.generatedMessage=!0),xt},F.AssertionError=a,F.ok=B,F.equal=function H(Z,it,Q){if(arguments.length<2)throw new s("actual","expected");Z!=it&&N({actual:Z,expected:it,message:Q,operator:"==",stackStartFn:H})},F.notEqual=function H(Z,it,Q){if(arguments.length<2)throw new s("actual","expected");Z==it&&N({actual:Z,expected:it,message:Q,operator:"!=",stackStartFn:H})},F.deepEqual=function H(Z,it,Q){if(arguments.length<2)throw new s("actual","expected");void 0===v&&S(),v(Z,it)||N({actual:Z,expected:it,message:Q,operator:"deepEqual",stackStartFn:H})},F.notDeepEqual=function H(Z,it,Q){if(arguments.length<2)throw new s("actual","expected");void 0===v&&S(),v(Z,it)&&N({actual:Z,expected:it,message:Q,operator:"notDeepEqual",stackStartFn:H})},F.deepStrictEqual=function H(Z,it,Q){if(arguments.length<2)throw new s("actual","expected");void 0===v&&S(),M(Z,it)||N({actual:Z,expected:it,message:Q,operator:"deepStrictEqual",stackStartFn:H})},F.notDeepStrictEqual=function O(H,Z,it){if(arguments.length<2)throw new s("actual","expected");void 0===v&&S(),M(H,Z)&&N({actual:H,expected:Z,message:it,operator:"notDeepStrictEqual",stackStartFn:O})},F.strictEqual=function H(Z,it,Q){if(arguments.length<2)throw new s("actual","expected");d(Z,it)||N({actual:Z,expected:it,message:Q,operator:"strictEqual",stackStartFn:H})},F.notStrictEqual=function H(Z,it,Q){if(arguments.length<2)throw new s("actual","expected");d(Z,it)&&N({actual:Z,expected:it,message:Q,operator:"notStrictEqual",stackStartFn:H})};var U=function H(Z,it,Q){var Y=this;(function i(H,Z){if(!(H instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,H),it.forEach(function(nt){nt in Z&&(Y[nt]=void 0!==Q&&"string"==typeof Q[nt]&&c(Z[nt])&&Z[nt].test(Q[nt])?Q[nt]:Z[nt])})};function G(H,Z,it,Q,Y,nt){if(!(it in H)||!M(H[it],Z[it])){if(!Q){var _=new U(H,Y),st=new U(Z,Y,H),dt=new a({actual:_,expected:st,operator:"deepStrictEqual",stackStartFn:nt});throw dt.actual=H,dt.expected=Z,dt.operator=nt.name,dt}N({actual:H,expected:Z,message:Q,operator:nt.name,stackStartFn:nt})}}function J(H,Z,it,Q){if("function"!=typeof Z){if(c(Z))return Z.test(H);if(2===arguments.length)throw new m("expected",["Function","RegExp"],Z);if("object"!==y(H)||null===H){var Y=new a({actual:H,expected:Z,message:it,operator:"deepStrictEqual",stackStartFn:Q});throw Y.operator=Q.name,Y}var nt=Object.keys(Z);if(Z instanceof Error)nt.push("name","message");else if(0===nt.length)throw new r("error",Z,"may not be an empty object");return void 0===v&&S(),nt.forEach(function(_){"string"==typeof H[_]&&c(Z[_])&&Z[_].test(H[_])||G(H,Z,_,it,nt,Q)}),!0}return void 0!==Z.prototype&&H instanceof Z||!Error.isPrototypeOf(Z)&&!0===Z.call({},H)}function et(H){if("function"!=typeof H)throw new m("fn","Function",H);try{H()}catch(Z){return Z}return D}function at(H){return g(H)||null!==H&&"object"===y(H)&&"function"==typeof H.then&&"function"==typeof H.catch}function lt(H){return Promise.resolve().then(function(){var Z;if("function"==typeof H){if(!at(Z=H()))throw new e("instance of Promise","promiseFn",Z)}else{if(!at(H))throw new m("promiseFn",["Function","Promise"],H);Z=H}return Promise.resolve().then(function(){return Z}).then(function(){return D}).catch(function(it){return it})})}function K(H,Z,it,Q){if("string"==typeof it){if(4===arguments.length)throw new m("error",["Object","Error","Function","RegExp"],it);if("object"===y(Z)&&null!==Z){if(Z.message===it)throw new l("error/message",'The error message "'.concat(Z.message,'" is identical to the message.'))}else if(Z===it)throw new l("error/message",'The error "'.concat(Z,'" is identical to the message.'));Q=it,it=void 0}else if(null!=it&&"object"!==y(it)&&"function"!=typeof it)throw new m("error",["Object","Error","Function","RegExp"],it);if(Z===D){var Y="";it&&it.name&&(Y+=" (".concat(it.name,")")),Y+=Q?": ".concat(Q):".",N({actual:void 0,expected:it,operator:H.name,message:"Missing expected ".concat("rejects"===H.name?"rejection":"exception").concat(Y),stackStartFn:H})}if(it&&!J(Z,it,Q,H))throw Z}function j(H,Z,it,Q){if(Z!==D){if("string"==typeof it&&(Q=it,it=void 0),!it||J(Z,it)){var Y=Q?": ".concat(Q):".";N({actual:Z,expected:it,operator:H.name,message:"Got unwanted ".concat("doesNotReject"===H.name?"rejection":"exception").concat(Y,"\n")+'Actual message: "'.concat(Z&&Z.message,'"'),stackStartFn:H})}throw Z}}function rt(){for(var H=arguments.length,Z=new Array(H),it=0;it<H;it++)Z[it]=arguments[it];z.apply(void 0,[rt,Z.length].concat(Z))}F.throws=function H(Z){for(var it=arguments.length,Q=new Array(it>1?it-1:0),Y=1;Y<it;Y++)Q[Y-1]=arguments[Y];K.apply(void 0,[H,et(Z)].concat(Q))},F.rejects=function H(Z){for(var it=arguments.length,Q=new Array(it>1?it-1:0),Y=1;Y<it;Y++)Q[Y-1]=arguments[Y];return lt(Z).then(function(nt){return K.apply(void 0,[H,nt].concat(Q))})},F.doesNotThrow=function H(Z){for(var it=arguments.length,Q=new Array(it>1?it-1:0),Y=1;Y<it;Y++)Q[Y-1]=arguments[Y];j.apply(void 0,[H,et(Z)].concat(Q))},F.doesNotReject=function H(Z){for(var it=arguments.length,Q=new Array(it>1?it-1:0),Y=1;Y<it;Y++)Q[Y-1]=arguments[Y];return lt(Z).then(function(nt){return j.apply(void 0,[H,nt].concat(Q))})},F.ifError=function H(Z){if(null!=Z){var it="ifError got unwanted exception: ";"object"===y(Z)&&"string"==typeof Z.message?it+=0===Z.message.length&&Z.constructor?Z.constructor.name:Z.message:it+=f(Z);var Q=new a({actual:Z,expected:null,operator:"ifError",message:it,stackStartFn:H}),Y=Z.stack;if("string"==typeof Y){var nt=Y.split("\n");nt.shift();for(var _=Q.stack.split("\n"),st=0;st<nt.length;st++){var dt=_.indexOf(nt[st]);if(-1!==dt){_=_.slice(0,dt);break}}Q.stack="".concat(_.join("\n"),"\n").concat(nt.join("\n"))}throw Q}},F.strict=w(rt,F,{equal:F.strictEqual,deepEqual:F.deepStrictEqual,notEqual:F.notStrictEqual,notDeepEqual:F.notDeepStrictEqual}),F.strict.strict=F.strict},26144:function(tt,W,t){"use strict";var A=t(4168);function i(k,z,B){return z in k?Object.defineProperty(k,z,{value:B,enumerable:!0,configurable:!0,writable:!0}):k[z]=B,k}function L(k,z){for(var B=0;B<z.length;B++){var O=z[B];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}function m(k,z){return!z||"object"!==c(z)&&"function"!=typeof z?r(k):z}function r(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function s(k){var z="function"==typeof Map?new Map:void 0;return s=function(O){if(null===O||!function f(k){return-1!==Function.toString.call(k).indexOf("[native code]")}(O))return O;if("function"!=typeof O)throw new TypeError("Super expression must either be null or a function");if(void 0!==z){if(z.has(O))return z.get(O);z.set(O,U)}function U(){return h(O,arguments,g(this).constructor)}return U.prototype=Object.create(O.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),u(U,O)},s(k)}function a(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(k){return!1}}function h(k,z,B){return(h=a()?Reflect.construct:function(U,G,J){var et=[null];et.push.apply(et,G);var lt=new(Function.bind.apply(U,et));return J&&u(lt,J.prototype),lt}).apply(null,arguments)}function u(k,z){return(u=Object.setPrototypeOf||function(O,U){return O.__proto__=U,O})(k,z)}function g(k){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)})(k)}function c(k){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(k)}var d=t(35840).inspect,v=t(86832).codes.ERR_INVALID_ARG_TYPE;function M(k,z,B){return(void 0===B||B>k.length)&&(B=k.length),k.substring(B-z.length,B)===z}var E="",x="",S="",T="",n={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function p(k){var z=Object.keys(k),B=Object.create(Object.getPrototypeOf(k));return z.forEach(function(O){B[O]=k[O]}),Object.defineProperty(B,"message",{value:k.message}),B}function F(k){return d(k,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function D(k,z,B){var O="",U="",G=0,J="",et=!1,at=F(k),lt=at.split("\n"),K=F(z).split("\n"),j=0,rt="";if("strictEqual"===B&&"object"===c(k)&&"object"===c(z)&&null!==k&&null!==z&&(B="strictEqualObject"),1===lt.length&&1===K.length&&lt[0]!==K[0]){var H=lt[0].length+K[0].length;if(H<=10){if(!("object"===c(k)&&null!==k||"object"===c(z)&&null!==z||0===k&&0===z))return"".concat(n[B],"\n\n")+"".concat(lt[0]," !== ").concat(K[0],"\n")}else if("strictEqualObject"!==B&&H<(A.stderr&&A.stderr.isTTY?A.stderr.columns:80)){for(;lt[0][j]===K[0][j];)j++;j>2&&(rt="\n  ".concat(function b(k,z){if(z=Math.floor(z),0==k.length||0==z)return"";var B=k.length*z;for(z=Math.floor(Math.log(z)/Math.log(2));z;)k+=k,z--;return k+k.substring(0,B-k.length)}(" ",j),"^"),j=0)}}for(var it=lt[lt.length-1],Q=K[K.length-1];it===Q&&(j++<2?J="\n  ".concat(it).concat(J):O=it,lt.pop(),K.pop(),0!==lt.length&&0!==K.length);)it=lt[lt.length-1],Q=K[K.length-1];var Y=Math.max(lt.length,K.length);if(0===Y){var nt=at.split("\n");if(nt.length>30)for(nt[26]="".concat(E,"...").concat(T);nt.length>27;)nt.pop();return"".concat(n.notIdentical,"\n\n").concat(nt.join("\n"),"\n")}j>3&&(J="\n".concat(E,"...").concat(T).concat(J),et=!0),""!==O&&(J="\n  ".concat(O).concat(J),O="");var _=0,st=n[B]+"\n".concat(x,"+ actual").concat(T," ").concat(S,"- expected").concat(T),dt=" ".concat(E,"...").concat(T," Lines skipped");for(j=0;j<Y;j++){var xt=j-G;if(lt.length<j+1)xt>1&&j>2&&(xt>4?(U+="\n".concat(E,"...").concat(T),et=!0):xt>3&&(U+="\n  ".concat(K[j-2]),_++),U+="\n  ".concat(K[j-1]),_++),G=j,O+="\n".concat(S,"-").concat(T," ").concat(K[j]),_++;else if(K.length<j+1)xt>1&&j>2&&(xt>4?(U+="\n".concat(E,"...").concat(T),et=!0):xt>3&&(U+="\n  ".concat(lt[j-2]),_++),U+="\n  ".concat(lt[j-1]),_++),G=j,U+="\n".concat(x,"+").concat(T," ").concat(lt[j]),_++;else{var yt=K[j],St=lt[j],Et=St!==yt&&(!M(St,",")||St.slice(0,-1)!==yt);Et&&M(yt,",")&&yt.slice(0,-1)===St&&(Et=!1,St+=","),Et?(xt>1&&j>2&&(xt>4?(U+="\n".concat(E,"...").concat(T),et=!0):xt>3&&(U+="\n  ".concat(lt[j-2]),_++),U+="\n  ".concat(lt[j-1]),_++),G=j,U+="\n".concat(x,"+").concat(T," ").concat(St),O+="\n".concat(S,"-").concat(T," ").concat(yt),_+=2):(U+=O,O="",(1===xt||0===j)&&(U+="\n  ".concat(St),_++))}if(_>20&&j<Y-2)return"".concat(st).concat(dt,"\n").concat(U,"\n").concat(E,"...").concat(T).concat(O,"\n")+"".concat(E,"...").concat(T)}return"".concat(st).concat(et?dt:"","\n").concat(U).concat(O).concat(J).concat(rt)}var N=function(k){function z(B){var O;if(function P(k,z){if(!(k instanceof z))throw new TypeError("Cannot call a class as a function")}(this,z),"object"!==c(B)||null===B)throw new v("options","Object",B);var U=B.message,G=B.operator,J=B.stackStartFn,et=B.actual,at=B.expected,lt=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=U)O=m(this,g(z).call(this,String(U)));else if(A.stderr&&A.stderr.isTTY&&(A.stderr&&A.stderr.getColorDepth&&1!==A.stderr.getColorDepth()?(E="\x1b[34m",x="\x1b[32m",T="\x1b[39m",S="\x1b[31m"):(E="",x="",T="",S="")),"object"===c(et)&&null!==et&&"object"===c(at)&&null!==at&&"stack"in et&&et instanceof Error&&"stack"in at&&at instanceof Error&&(et=p(et),at=p(at)),"deepStrictEqual"===G||"strictEqual"===G)O=m(this,g(z).call(this,D(et,at,G)));else if("notDeepStrictEqual"===G||"notStrictEqual"===G){var K=n[G],j=F(et).split("\n");if("notStrictEqual"===G&&"object"===c(et)&&null!==et&&(K=n.notStrictEqualObject),j.length>30)for(j[26]="".concat(E,"...").concat(T);j.length>27;)j.pop();O=m(this,1===j.length?g(z).call(this,"".concat(K," ").concat(j[0])):g(z).call(this,"".concat(K,"\n\n").concat(j.join("\n"),"\n")))}else{var rt=F(et),H="",Z=n[G];"notDeepEqual"===G||"notEqual"===G?(rt="".concat(n[G],"\n\n").concat(rt)).length>1024&&(rt="".concat(rt.slice(0,1021),"...")):(H="".concat(F(at)),rt.length>512&&(rt="".concat(rt.slice(0,509),"...")),H.length>512&&(H="".concat(H.slice(0,509),"...")),"deepEqual"===G||"equal"===G?rt="".concat(Z,"\n\n").concat(rt,"\n\nshould equal\n\n"):H=" ".concat(G," ").concat(H)),O=m(this,g(z).call(this,"".concat(rt).concat(H)))}return Error.stackTraceLimit=lt,O.generatedMessage=!U,Object.defineProperty(r(O),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),O.code="ERR_ASSERTION",O.actual=et,O.expected=at,O.operator=G,Error.captureStackTrace&&Error.captureStackTrace(r(O),J),O.name="AssertionError",m(O)}return function e(k,z){if("function"!=typeof z&&null!==z)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(z&&z.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),z&&u(k,z)}(z,k),function l(k,z,B){return z&&L(k.prototype,z),B&&L(k,B),k}(z,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:d.custom,value:function(O,U){return d(this,function y(k){for(var z=1;z<arguments.length;z++){var B=null!=arguments[z]?arguments[z]:{},O=Object.keys(B);"function"==typeof Object.getOwnPropertySymbols&&(O=O.concat(Object.getOwnPropertySymbols(B).filter(function(U){return Object.getOwnPropertyDescriptor(B,U).enumerable}))),O.forEach(function(U){i(k,U,B[U])})}return k}({},U,{customInspect:!1,depth:0}))}}]),z}(s(Error));tt.exports=N},86832:function(tt,W,t){"use strict";function A(c){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(c)}function i(c,w){return!w||"object"!==A(w)&&"function"!=typeof w?function P(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(c):w}function L(c){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(c)}function l(c,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(w&&w.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),w&&m(c,w)}function m(c,w){return(m=Object.setPrototypeOf||function(o,v){return o.__proto__=v,o})(c,w)}var e,s,r={};function a(c,w,d){d||(d=Error),r[c]=function(M){function b(E,x,S){var T;return function y(c,w){if(!(c instanceof w))throw new TypeError("Cannot call a class as a function")}(this,b),(T=i(this,L(b).call(this,function o(M,b,E){return"string"==typeof w?w:w(M,b,E)}(E,x,S)))).code=c,T}return l(b,M),b}(d)}function h(c,w){if(Array.isArray(c)){var d=c.length;return c=c.map(function(o){return String(o)}),d>2?"one of ".concat(w," ").concat(c.slice(0,d-1).join(", "),", or ")+c[d-1]:2===d?"one of ".concat(w," ").concat(c[0]," or ").concat(c[1]):"of ".concat(w," ").concat(c[0])}return"of ".concat(w," ").concat(String(c))}a("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),a("ERR_INVALID_ARG_TYPE",function(c,w,d){var o,v;if(void 0===e&&(e=t(45408)),e("string"==typeof c,"'name' must be a string"),"string"==typeof w&&function f(c,w,d){return c.substr(!d||d<0?0:+d,w.length)===w}(w,"not ")?(o="must not be",w=w.replace(/^not /,"")):o="must be",function u(c,w,d){return(void 0===d||d>c.length)&&(d=c.length),c.substring(d-w.length,d)===w}(c," argument"))v="The ".concat(c," ").concat(o," ").concat(h(w,"type"));else{var M=function g(c,w,d){return"number"!=typeof d&&(d=0),!(d+w.length>c.length)&&-1!==c.indexOf(w,d)}(c,".")?"property":"argument";v='The "'.concat(c,'" ').concat(M," ").concat(o," ").concat(h(w,"type"))}return v+". Received type ".concat(A(d))},TypeError),a("ERR_INVALID_ARG_VALUE",function(c,w){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===s&&(s=t(35840));var o=s.inspect(w);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(c,"' ").concat(d,". Received ").concat(o)},TypeError,RangeError),a("ERR_INVALID_RETURN_VALUE",function(c,w,d){var o;return o=d&&d.constructor&&d.constructor.name?"instance of ".concat(d.constructor.name):"type ".concat(A(d)),"Expected ".concat(c,' to be returned from the "').concat(w,'"')+" function but got ".concat(o,".")},TypeError),a("ERR_MISSING_ARGS",function(){for(var c=arguments.length,w=new Array(c),d=0;d<c;d++)w[d]=arguments[d];void 0===e&&(e=t(45408)),e(w.length>0,"At least one arg needs to be specified");var o="The ",v=w.length;switch(w=w.map(function(M){return'"'.concat(M,'"')}),v){case 1:o+="".concat(w[0]," argument");break;case 2:o+="".concat(w[0]," and ").concat(w[1]," arguments");break;default:o+=w.slice(0,v-1).join(", "),o+=", and ".concat(w[v-1]," arguments")}return"".concat(o," must be specified")},TypeError),tt.exports.codes=r},25116:function(tt,W,t){"use strict";function A(gt,Mt){return function P(gt){if(Array.isArray(gt))return gt}(gt)||function i(gt,Mt){var Nt=[],Gt=!0,Pt=!1,Vt=void 0;try{for(var le,re=gt[Symbol.iterator]();!(Gt=(le=re.next()).done)&&(Nt.push(le.value),!Mt||Nt.length!==Mt);Gt=!0);}catch(It){Pt=!0,Vt=It}finally{try{!Gt&&null!=re.return&&re.return()}finally{if(Pt)throw Vt}}return Nt}(gt,Mt)||function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function L(gt){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Nt){return typeof Nt}:function(Nt){return Nt&&"function"==typeof Symbol&&Nt.constructor===Symbol&&Nt!==Symbol.prototype?"symbol":typeof Nt})(gt)}var l=void 0!==/a/g.flags,m=function(Mt){var Nt=[];return Mt.forEach(function(Gt){return Nt.push(Gt)}),Nt},r=function(Mt){var Nt=[];return Mt.forEach(function(Gt,Pt){return Nt.push([Pt,Gt])}),Nt},e=Object.is?Object.is:t(39896),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},a=Number.isNaN?Number.isNaN:t(1560);function h(gt){return gt.call.bind(gt)}var f=h(Object.prototype.hasOwnProperty),u=h(Object.prototype.propertyIsEnumerable),g=h(Object.prototype.toString),c=t(35840).types,w=c.isAnyArrayBuffer,d=c.isArrayBufferView,o=c.isDate,v=c.isMap,M=c.isRegExp,b=c.isSet,E=c.isNativeError,x=c.isBoxedPrimitive,S=c.isNumberObject,T=c.isStringObject,n=c.isBooleanObject,C=c.isBigIntObject,p=c.isSymbolObject,F=c.isFloat32Array,D=c.isFloat64Array;function N(gt){if(0===gt.length||gt.length>10)return!0;for(var Mt=0;Mt<gt.length;Mt++){var Nt=gt.charCodeAt(Mt);if(Nt<48||Nt>57)return!0}return 10===gt.length&&gt>=Math.pow(2,32)}function k(gt){return Object.keys(gt).filter(N).concat(s(gt).filter(Object.prototype.propertyIsEnumerable.bind(gt)))}function z(gt,Mt){if(gt===Mt)return 0;for(var Nt=gt.length,Gt=Mt.length,Pt=0,Vt=Math.min(Nt,Gt);Pt<Vt;++Pt)if(gt[Pt]!==Mt[Pt]){Nt=gt[Pt],Gt=Mt[Pt];break}return Nt<Gt?-1:Gt<Nt?1:0}function Z(gt,Mt,Nt,Gt){if(gt===Mt)return 0!==gt||!Nt||e(gt,Mt);if(Nt){if("object"!==L(gt))return"number"==typeof gt&&a(gt)&&a(Mt);if("object"!==L(Mt)||null===gt||null===Mt||Object.getPrototypeOf(gt)!==Object.getPrototypeOf(Mt))return!1}else{if(null===gt||"object"!==L(gt))return(null===Mt||"object"!==L(Mt))&&gt==Mt;if(null===Mt||"object"!==L(Mt))return!1}var Pt=g(gt);if(Pt!==g(Mt))return!1;if(Array.isArray(gt)){if(gt.length!==Mt.length)return!1;var re=k(gt),le=k(Mt);return re.length===le.length&&Q(gt,Mt,Nt,Gt,1,re)}if("[object Object]"===Pt&&(!v(gt)&&v(Mt)||!b(gt)&&b(Mt)))return!1;if(o(gt)){if(!o(Mt)||Date.prototype.getTime.call(gt)!==Date.prototype.getTime.call(Mt))return!1}else if(M(gt)){if(!M(Mt)||!function lt(gt,Mt){return l?gt.source===Mt.source&&gt.flags===Mt.flags:RegExp.prototype.toString.call(gt)===RegExp.prototype.toString.call(Mt)}(gt,Mt))return!1}else if(E(gt)||gt instanceof Error){if(gt.message!==Mt.message||gt.name!==Mt.name)return!1}else{if(d(gt)){if(Nt||!F(gt)&&!D(gt)){if(!function j(gt,Mt){return gt.byteLength===Mt.byteLength&&0===z(new Uint8Array(gt.buffer,gt.byteOffset,gt.byteLength),new Uint8Array(Mt.buffer,Mt.byteOffset,Mt.byteLength))}(gt,Mt))return!1}else if(!function K(gt,Mt){if(gt.byteLength!==Mt.byteLength)return!1;for(var Nt=0;Nt<gt.byteLength;Nt++)if(gt[Nt]!==Mt[Nt])return!1;return!0}(gt,Mt))return!1;var It=k(gt),Rt=k(Mt);return It.length===Rt.length&&Q(gt,Mt,Nt,Gt,0,It)}if(b(gt))return!(!b(Mt)||gt.size!==Mt.size)&&Q(gt,Mt,Nt,Gt,2);if(v(gt))return!(!v(Mt)||gt.size!==Mt.size)&&Q(gt,Mt,Nt,Gt,3);if(w(gt)){if(!function rt(gt,Mt){return gt.byteLength===Mt.byteLength&&0===z(new Uint8Array(gt),new Uint8Array(Mt))}(gt,Mt))return!1}else if(x(gt)&&!function H(gt,Mt){return S(gt)?S(Mt)&&e(Number.prototype.valueOf.call(gt),Number.prototype.valueOf.call(Mt)):T(gt)?T(Mt)&&String.prototype.valueOf.call(gt)===String.prototype.valueOf.call(Mt):n(gt)?n(Mt)&&Boolean.prototype.valueOf.call(gt)===Boolean.prototype.valueOf.call(Mt):C(gt)?C(Mt)&&BigInt.prototype.valueOf.call(gt)===BigInt.prototype.valueOf.call(Mt):p(Mt)&&Symbol.prototype.valueOf.call(gt)===Symbol.prototype.valueOf.call(Mt)}(gt,Mt))return!1}return Q(gt,Mt,Nt,Gt,0)}function it(gt,Mt){return Mt.filter(function(Nt){return u(gt,Nt)})}function Q(gt,Mt,Nt,Gt,Pt,Vt){if(5===arguments.length){Vt=Object.keys(gt);var re=Object.keys(Mt);if(Vt.length!==re.length)return!1}for(var le=0;le<Vt.length;le++)if(!f(Mt,Vt[le]))return!1;if(Nt&&5===arguments.length){var It=s(gt);if(0!==It.length){var Rt=0;for(le=0;le<It.length;le++){var $t=It[le];if(u(gt,$t)){if(!u(Mt,$t))return!1;Vt.push($t),Rt++}else if(u(Mt,$t))return!1}var oe=s(Mt);if(It.length!==oe.length&&it(Mt,oe).length!==Rt)return!1}else{var se=s(Mt);if(0!==se.length&&0!==it(Mt,se).length)return!1}}if(0===Vt.length&&(0===Pt||1===Pt&&0===gt.length||0===gt.size))return!0;if(void 0===Gt)Gt={val1:new Map,val2:new Map,position:0};else{var ve=Gt.val1.get(gt);if(void 0!==ve){var de=Gt.val2.get(Mt);if(void 0!==de)return ve===de}Gt.position++}Gt.val1.set(gt,Gt.position),Gt.val2.set(Mt,Gt.position);var jt=St(gt,Mt,Nt,Vt,Gt,Pt);return Gt.val1.delete(gt),Gt.val2.delete(Mt),jt}function Y(gt,Mt,Nt,Gt){for(var Pt=m(gt),Vt=0;Vt<Pt.length;Vt++){var re=Pt[Vt];if(Z(Mt,re,Nt,Gt))return gt.delete(re),!0}return!1}function nt(gt){switch(L(gt)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":gt=+gt;case"number":if(a(gt))return!1}return!0}function _(gt,Mt,Nt){var Gt=nt(Nt);return null!=Gt?Gt:Mt.has(Gt)&&!gt.has(Gt)}function st(gt,Mt,Nt,Gt,Pt){var Vt=nt(Nt);if(null!=Vt)return Vt;var re=Mt.get(Vt);return!(void 0===re&&!Mt.has(Vt)||!Z(Gt,re,!1,Pt))&&!gt.has(Vt)&&Z(Gt,re,!1,Pt)}function xt(gt,Mt,Nt,Gt,Pt,Vt){for(var re=m(gt),le=0;le<re.length;le++){var It=re[le];if(Z(Nt,It,Pt,Vt)&&Z(Gt,Mt.get(It),Pt,Vt))return gt.delete(It),!0}return!1}function St(gt,Mt,Nt,Gt,Pt,Vt){var re=0;if(2===Vt){if(!function dt(gt,Mt,Nt,Gt){for(var Pt=null,Vt=m(gt),re=0;re<Vt.length;re++){var le=Vt[re];if("object"===L(le)&&null!==le)null===Pt&&(Pt=new Set),Pt.add(le);else if(!Mt.has(le)){if(Nt||!_(gt,Mt,le))return!1;null===Pt&&(Pt=new Set),Pt.add(le)}}if(null!==Pt){for(var It=m(Mt),Rt=0;Rt<It.length;Rt++){var $t=It[Rt];if("object"===L($t)&&null!==$t){if(!Y(Pt,$t,Nt,Gt))return!1}else if(!Nt&&!gt.has($t)&&!Y(Pt,$t,Nt,Gt))return!1}return 0===Pt.size}return!0}(gt,Mt,Nt,Pt))return!1}else if(3===Vt){if(!function yt(gt,Mt,Nt,Gt){for(var Pt=null,Vt=r(gt),re=0;re<Vt.length;re++){var le=A(Vt[re],2),Rt=le[1];if("object"===L(It=le[0])&&null!==It)null===Pt&&(Pt=new Set),Pt.add(It);else{var $t=Mt.get(It);if(void 0===$t&&!Mt.has(It)||!Z(Rt,$t,Nt,Gt)){if(Nt||!st(gt,Mt,It,Rt,Gt))return!1;null===Pt&&(Pt=new Set),Pt.add(It)}}}if(null!==Pt){for(var oe=r(Mt),se=0;se<oe.length;se++){var It,ve=A(oe[se],2),de=ve[1];if("object"===L(It=ve[0])&&null!==It){if(!xt(Pt,gt,It,de,Nt,Gt))return!1}else if(!(Nt||gt.has(It)&&Z(gt.get(It),de,!1,Gt)||xt(Pt,gt,It,de,!1,Gt)))return!1}return 0===Pt.size}return!0}(gt,Mt,Nt,Pt))return!1}else if(1===Vt)for(;re<gt.length;re++){if(!f(gt,re)){if(f(Mt,re))return!1;for(var le=Object.keys(gt);re<le.length;re++){var It=le[re];if(!f(Mt,It)||!Z(gt[It],Mt[It],Nt,Pt))return!1}return le.length===Object.keys(Mt).length}if(!f(Mt,re)||!Z(gt[re],Mt[re],Nt,Pt))return!1}for(re=0;re<Gt.length;re++){var Rt=Gt[re];if(!Z(gt[Rt],Mt[Rt],Nt,Pt))return!1}return!0}tt.exports={isDeepEqual:function Et(gt,Mt){return Z(gt,Mt,false)},isDeepStrictEqual:function Tt(gt,Mt){return Z(gt,Mt,true)}}},83160:function(tt,W,t){"use strict";t.r(W),t.d(W,{decode:function(){return L},encode:function(){return P}});for(var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y="undefined"==typeof Uint8Array?[]:new Uint8Array(256),i=0;i<A.length;i++)y[A.charCodeAt(i)]=i;var P=function(l){var r,m=new Uint8Array(l),e=m.length,s="";for(r=0;r<e;r+=3)s+=A[m[r]>>2],s+=A[(3&m[r])<<4|m[r+1]>>4],s+=A[(15&m[r+1])<<2|m[r+2]>>6],s+=A[63&m[r+2]];return e%3==2?s=s.substring(0,s.length-1)+"=":e%3==1&&(s=s.substring(0,s.length-2)+"=="),s},L=function(l){var e,a,h,f,u,m=.75*l.length,r=l.length,s=0;"="===l[l.length-1]&&(m--,"="===l[l.length-2]&&m--);var g=new ArrayBuffer(m),c=new Uint8Array(g);for(e=0;e<r;e+=4)a=y[l.charCodeAt(e)],h=y[l.charCodeAt(e+1)],f=y[l.charCodeAt(e+2)],u=y[l.charCodeAt(e+3)],c[s++]=a<<2|h>>4,c[s++]=(15&h)<<4|f>>2,c[s++]=(3&f)<<6|63&u;return g}},59968:function(tt,W){"use strict";W.byteLength=function m(f){var u=l(f),c=u[1];return 3*(u[0]+c)/4-c},W.toByteArray=function e(f){var u,M,g=l(f),c=g[0],w=g[1],d=new y(function r(f,u,g){return 3*(u+g)/4-g}(0,c,w)),o=0,v=w>0?c-4:c;for(M=0;M<v;M+=4)u=A[f.charCodeAt(M)]<<18|A[f.charCodeAt(M+1)]<<12|A[f.charCodeAt(M+2)]<<6|A[f.charCodeAt(M+3)],d[o++]=u>>16&255,d[o++]=u>>8&255,d[o++]=255&u;return 2===w&&(u=A[f.charCodeAt(M)]<<2|A[f.charCodeAt(M+1)]>>4,d[o++]=255&u),1===w&&(u=A[f.charCodeAt(M)]<<10|A[f.charCodeAt(M+1)]<<4|A[f.charCodeAt(M+2)]>>2,d[o++]=u>>8&255,d[o++]=255&u),d},W.fromByteArray=function h(f){for(var u,g=f.length,c=g%3,w=[],d=16383,o=0,v=g-c;o<v;o+=d)w.push(a(f,o,o+d>v?v:o+d));return 1===c?w.push(t[(u=f[g-1])>>2]+t[u<<4&63]+"=="):2===c&&w.push(t[(u=(f[g-2]<<8)+f[g-1])>>10]+t[u>>4&63]+t[u<<2&63]+"="),w.join("")};for(var t=[],A=[],y="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=0,L=i.length;P<L;++P)t[P]=i[P],A[i.charCodeAt(P)]=P;function l(f){var u=f.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=f.indexOf("=");return-1===g&&(g=u),[g,g===u?0:4-g%4]}function s(f){return t[f>>18&63]+t[f>>12&63]+t[f>>6&63]+t[63&f]}function a(f,u,g){for(var w=[],d=u;d<g;d+=3)w.push(s((f[d]<<16&16711680)+(f[d+1]<<8&65280)+(255&f[d+2])));return w.join("")}A["-".charCodeAt(0)]=62,A["_".charCodeAt(0)]=63},64928:function(tt){"use strict";function W(L,l,m,r,e){for(var s=e+1;r<=e;){var a=r+e>>>1,h=L[a];(void 0!==m?m(h,l):h-l)>=0?(s=a,e=a-1):r=a+1}return s}function t(L,l,m,r,e){for(var s=e+1;r<=e;){var a=r+e>>>1,h=L[a];(void 0!==m?m(h,l):h-l)>0?(s=a,e=a-1):r=a+1}return s}function A(L,l,m,r,e){for(var s=r-1;r<=e;){var a=r+e>>>1,h=L[a];(void 0!==m?m(h,l):h-l)<0?(s=a,r=a+1):e=a-1}return s}function y(L,l,m,r,e){for(var s=r-1;r<=e;){var a=r+e>>>1,h=L[a];(void 0!==m?m(h,l):h-l)<=0?(s=a,r=a+1):e=a-1}return s}function i(L,l,m,r,e){for(;r<=e;){var s=r+e>>>1,a=L[s],h=void 0!==m?m(a,l):a-l;if(0===h)return s;h<=0?r=s+1:e=s-1}return-1}function P(L,l,m,r,e,s){return"function"==typeof m?s(L,l,m,void 0===r?0:0|r,void 0===e?L.length-1:0|e):s(L,l,void 0,void 0===m?0:0|m,void 0===r?L.length-1:0|r)}tt.exports={ge:function(L,l,m,r,e){return P(L,l,m,r,e,W)},gt:function(L,l,m,r,e){return P(L,l,m,r,e,t)},lt:function(L,l,m,r,e){return P(L,l,m,r,e,A)},le:function(L,l,m,r,e){return P(L,l,m,r,e,y)},eq:function(L,l,m,r,e){return P(L,l,m,r,e,i)}}},308:function(tt,W){"use strict";function A(i){var P=32;return(i&=-i)&&P--,65535&i&&(P-=16),16711935&i&&(P-=8),252645135&i&&(P-=4),858993459&i&&(P-=2),1431655765&i&&(P-=1),P}W.INT_BITS=32,W.INT_MAX=2147483647,W.INT_MIN=-1<<31,W.sign=function(i){return(i>0)-(i<0)},W.abs=function(i){var P=i>>31;return(i^P)-P},W.min=function(i,P){return P^(i^P)&-(i<P)},W.max=function(i,P){return i^(i^P)&-(i<P)},W.isPow2=function(i){return!(i&i-1||!i)},W.log2=function(i){var P,L;return P=(i>65535)<<4,P|=L=((i>>>=P)>255)<<3,P|=L=((i>>>=L)>15)<<2,(P|=L=((i>>>=L)>3)<<1)|(i>>>=L)>>1},W.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},W.popCount=function(i){return 16843009*((i=(858993459&(i-=i>>>1&1431655765))+(i>>>2&858993459))+(i>>>4)&252645135)>>>24},W.countTrailingZeros=A,W.nextPow2=function(i){return i+=0===i,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,1+((i|=i>>>8)|i>>>16)},W.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,(i|=i>>>16)-(i>>>1)},W.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,27030>>>(i&=15)&1};var y=new Array(256);(function(i){for(var P=0;P<256;++P){var L=P,l=P,m=7;for(L>>>=1;L;L>>>=1)l<<=1,l|=1&L,--m;i[P]=l<<m&255}})(y),W.reverse=function(i){return y[255&i]<<24|y[i>>>8&255]<<16|y[i>>>16&255]<<8|y[i>>>24&255]},W.interleave2=function(i,P){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i&=65535)|i<<8))|i<<4))|i<<2))|i<<1))|(P=1431655765&((P=858993459&((P=252645135&((P=16711935&((P&=65535)|P<<8))|P<<4))|P<<2))|P<<1))<<1},W.deinterleave2=function(i,P){return(i=65535&((i=16711935&((i=252645135&((i=858993459&((i=i>>>P&1431655765)|i>>>1))|i>>>2))|i>>>4))|i>>>16))<<16>>16},W.interleave3=function(i,P,L){return i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2),(i|=(P=1227133513&((P=3272356035&((P=251719695&((P=4278190335&((P&=1023)|P<<16))|P<<8))|P<<4))|P<<2))<<1)|(L=1227133513&((L=3272356035&((L=251719695&((L=4278190335&((L&=1023)|L<<16))|L<<8))|L<<4))|L<<2))<<2},W.deinterleave3=function(i,P){return(i=1023&((i=4278190335&((i=251719695&((i=3272356035&((i=i>>>P&1227133513)|i>>>2))|i>>>4))|i>>>8))|i>>>16))<<22>>22},W.nextCombination=function(i){var P=i|i-1;return P+1|(~P&-~P)-1>>>A(i)+1}},29620:function(tt,W,t){"use strict";var A=t(32420);tt.exports=function i(l,m){m||(m={});var a,h,f,u,g,c,d,v,M,r=null==m.cutoff?.25:m.cutoff,e=null==m.radius?8:m.radius,s=m.channel||0;if(ArrayBuffer.isView(l)||Array.isArray(l)){if(!m.width||!m.height)throw Error("For raw data width and height should be provided by options");a=m.width,h=m.height,u=l,c=m.stride?m.stride:Math.floor(l.length/a/h)}else window.HTMLCanvasElement&&l instanceof window.HTMLCanvasElement?(u=(d=l).getContext("2d").getImageData(0,0,a=d.width,h=d.height).data,c=4):window.CanvasRenderingContext2D&&l instanceof window.CanvasRenderingContext2D?(u=l.getImageData(0,0,a=(d=l.canvas).width,h=d.height).data,c=4):window.ImageData&&l instanceof window.ImageData&&(a=l.width,h=l.height,u=l.data,c=4);if(f=Math.max(a,h),window.Uint8ClampedArray&&u instanceof window.Uint8ClampedArray||window.Uint8Array&&u instanceof window.Uint8Array)for(g=u,u=Array(a*h),v=0,M=g.length;v<M;v++)u[v]=g[v*c+s]/255;else if(1!==c)throw Error("Raw data can have only 1 value per pixel");var b=Array(a*h),E=Array(a*h),x=Array(f),S=Array(f),T=Array(f+1),n=Array(f);for(v=0,M=a*h;v<M;v++){var C=u[v];b[v]=1===C?0:0===C?y:Math.pow(Math.max(0,.5-C),2),E[v]=1===C?y:0===C?0:Math.pow(Math.max(0,C-.5),2)}P(b,a,h,x,S,n,T),P(E,a,h,x,S,n,T);var p=window.Float32Array?new Float32Array(a*h):new Array(a*h);for(v=0,M=a*h;v<M;v++)p[v]=A(1-((b[v]-E[v])/e+r),0,1);return p};var y=1e20;function P(l,m,r,e,s,a,h){for(var f=0;f<m;f++){for(var u=0;u<r;u++)e[u]=l[u*m+f];for(L(e,s,a,h,r),u=0;u<r;u++)l[u*m+f]=s[u]}for(u=0;u<r;u++){for(f=0;f<m;f++)e[f]=l[u*m+f];for(L(e,s,a,h,m),f=0;f<m;f++)l[u*m+f]=Math.sqrt(s[f])}}function L(l,m,r,e,s){r[0]=0,e[0]=-y,e[1]=+y;for(var a=1,h=0;a<s;a++){for(var f=(l[a]+a*a-(l[r[h]]+r[h]*r[h]))/(2*a-2*r[h]);f<=e[h];)h--,f=(l[a]+a*a-(l[r[h]]+r[h]*r[h]))/(2*a-2*r[h]);r[++h]=a,e[h]=f,e[h+1]=+y}for(a=0,h=0;a<s;a++){for(;e[h+1]<a;)h++;m[a]=(a-r[h])*(a-r[h])+l[r[h]]}}},99676:function(tt,W,t){"use strict";var A=t(53664),y=t(57916),i=y(A("String.prototype.indexOf"));tt.exports=function(L,l){var m=A(L,!!l);return"function"==typeof m&&i(L,".prototype.")>-1?y(m):m}},57916:function(tt,W,t){"use strict";var A=t(8844),y=t(53664),i=t(14500),P=y("%TypeError%"),L=y("%Function.prototype.apply%"),l=y("%Function.prototype.call%"),m=y("%Reflect.apply%",!0)||A.call(l,L),r=y("%Object.defineProperty%",!0),e=y("%Math.max%");if(r)try{r({},"a",{value:1})}catch(a){r=null}tt.exports=function(h){if("function"!=typeof h)throw new P("a function is required");var f=m(A,l,arguments);return i(f,1+e(0,h.length-(arguments.length-1)),!0)};var s=function(){return m(A,L,arguments)};r?r(tt.exports,"apply",{value:s}):tt.exports.apply=s},32420:function(tt){tt.exports=function W(t,A,y){return A<y?t<A?A:t>y?y:t:t<y?y:t>A?A:t}},3808:function(tt,W,t){"use strict";var A=t(32420);function y(P,L){null==L&&(L=!0);var l=P[0],m=P[1],r=P[2],e=P[3];return null==e&&(e=L?1:255),L&&(l*=255,m*=255,r*=255,e*=255),16777216*(l=255&A(l,0,255))+((m=255&A(m,0,255))<<16)+((r=255&A(r,0,255))<<8)+(255&A(e,0,255))}tt.exports=y,tt.exports.to=y,tt.exports.from=function i(P,L){var l=(P=+P)>>>24,m=(16711680&P)>>>16,r=(65280&P)>>>8,e=255&P;return!1===L?[l,m,r,e]:[l/255,m/255,r/255,e/255]}},17592:function(tt){"use strict";tt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(tt,W,t){"use strict";var A=t(96824),y=t(32420),i=t(72512);tt.exports=function(l,m){("float"===m||!m)&&(m="array"),"uint"===m&&(m="uint8"),"uint_clamped"===m&&(m="uint8_clamped");var e=new(i(m))(4),s="uint8"!==m&&"uint8_clamped"!==m;return(!l.length||"string"==typeof l)&&((l=A(l))[0]/=255,l[1]/=255,l[2]/=255),function P(L){return!!(L instanceof Uint8Array||L instanceof Uint8ClampedArray||Array.isArray(L)&&(L[0]>1||0===L[0])&&(L[1]>1||0===L[1])&&(L[2]>1||0===L[2])&&(!L[3]||L[3]>1))}(l)?(e[0]=l[0],e[1]=l[1],e[2]=l[2],e[3]=null!=l[3]?l[3]:255,s&&(e[0]/=255,e[1]/=255,e[2]/=255,e[3]/=255),e):(s?(e[0]=l[0],e[1]=l[1],e[2]=l[2],e[3]=null!=l[3]?l[3]:1):(e[0]=y(Math.floor(255*l[0]),0,255),e[1]=y(Math.floor(255*l[1]),0,255),e[2]=y(Math.floor(255*l[2]),0,255),e[3]=null==l[3]?255:y(Math.floor(255*l[3]),0,255)),e)}},81704:function(tt,W,t){"use strict";var A=t(17592),y=t(58908),i=t(31264);tt.exports=function L(l){var m,s,r=[],e=1;if("string"==typeof l)if(A[l])r=A[l].slice(),s="rgb";else if("transparent"===l)e=0,s="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(l)){var a=l.slice(1);e=1,(h=a.length)<=4?(r=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],4===h&&(e=parseInt(a[3]+a[3],16)/255)):(r=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],8===h&&(e=parseInt(a[6]+a[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),s="rgb"}else if(m=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(l)){var u=m[1],g="rgb"===u;s=a=u.replace(/a$/,"");var h="cmyk"===a?4:"gray"===a?1:3;r=m[2].trim().split(/\s*,\s*/).map(function(o,v){if(/%$/.test(o))return v===h?parseFloat(o)/100:"rgb"===a?255*parseFloat(o)/100:parseFloat(o);if("h"===a[v]){if(/deg$/.test(o))return parseFloat(o);if(void 0!==P[o])return P[o]}return parseFloat(o)}),u===a&&r.push(1),e=g||void 0===r[h]?1:r[h],r=r.slice(0,h)}else l.length>10&&/[0-9](?:\s|\/)/.test(l)&&(r=l.match(/([0-9]+)/g).map(function(w){return parseFloat(w)}),s=l.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(l))if(y(l)){var c=i(l.r,l.red,l.R,null);null!==c?(s="rgb",r=[c,i(l.g,l.green,l.G),i(l.b,l.blue,l.B)]):(s="hsl",r=[i(l.h,l.hue,l.H),i(l.s,l.saturation,l.S),i(l.l,l.lightness,l.L,l.b,l.brightness)]),e=i(l.a,l.alpha,l.opacity,1),null!=l.opacity&&(e/=100)}else(Array.isArray(l)||t.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(l))&&(r=[l[0],l[1],l[2]],s="rgb",e=4===l.length?l[3]:1);else s="rgb",r=[l>>>16,(65280&l)>>>8,255&l];return{space:s,values:r,alpha:e}};var P={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},96824:function(tt,W,t){"use strict";var A=t(81704),y=t(53576),i=t(32420);tt.exports=function(L){var l,e=A(L);return e.space?((l=Array(3))[0]=i(e.values[0],0,255),l[1]=i(e.values[1],0,255),l[2]=i(e.values[2],0,255),"h"===e.space[0]&&(l=y.rgb(l)),l.push(i(e.alpha,0,1)),l):[]}},53576:function(tt,W,t){"use strict";var A=t(19336);tt.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(y){var l,m,r,e,s,i=y[0]/360,P=y[1]/100,L=y[2]/100;if(0===P)return[s=255*L,s,s];l=2*L-(m=L<.5?L*(1+P):L+P-L*P),e=[0,0,0];for(var a=0;a<3;a++)(r=i+.3333333333333333*-(a-1))<0?r++:r>1&&r--,e[a]=255*(s=6*r<1?l+6*(m-l)*r:2*r<1?m:3*r<2?l+(m-l)*(.6666666666666666-r)*6:l);return e}},A.hsl=function(y){var e,a,i=y[0]/255,P=y[1]/255,L=y[2]/255,l=Math.min(i,P,L),m=Math.max(i,P,L),r=m-l;return m===l?e=0:i===m?e=(P-L)/r:P===m?e=2+(L-i)/r:L===m&&(e=4+(i-P)/r),(e=Math.min(60*e,360))<0&&(e+=360),a=(l+m)/2,[e,100*(m===l?0:a<=.5?r/(m+l):r/(2-m-l)),100*a]}},19336:function(tt){"use strict";tt.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(tt){tt.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xe7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xe9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xe9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xe3)o.?tom(e|\xe9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(tt,W,t){"use strict";tt.exports={parse:t(46416),stringify:t(49395)}},8744:function(tt,W,t){"use strict";var A=t(30584);tt.exports={isSize:function(i){return/^[\d\.]/.test(i)||-1!==i.indexOf("/")||-1!==A.indexOf(i)}}},46416:function(tt,W,t){"use strict";var A=t(92384),y=t(68194),i=t(3748),P=t(2904),L=t(47916),l=t(7294),m=t(39956),r=t(8744).isSize;tt.exports=s;var e=s.cache={};function s(h){if("string"!=typeof h)throw new Error("Font argument must be a string.");if(e[h])return e[h];if(""===h)throw new Error("Cannot parse an empty string.");if(-1!==i.indexOf(h))return e[h]={system:h};for(var g,f={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},u=m(h,/\s+/);g=u.shift();){if(-1!==y.indexOf(g))return["style","variant","weight","stretch"].forEach(function(w){f[w]=g}),e[h]=f;if(-1===L.indexOf(g))if("normal"!==g&&"small-caps"!==g)if(-1===l.indexOf(g)){if(-1===P.indexOf(g)){if(r(g)){var c=m(g,"/");if(f.size=c[0],null!=c[1]?f.lineHeight=a(c[1]):"/"===u[0]&&(u.shift(),f.lineHeight=a(u.shift())),!u.length)throw new Error("Missing required font-family.");return f.family=m(u.join(" "),/\s*,\s*/).map(A),e[h]=f}throw new Error("Unknown or unsupported font token: "+g)}f.weight=g}else f.stretch=g;else f.variant=g;else f.style=g}throw new Error("Missing required font-size.")}function a(h){var f=parseFloat(h);return f.toString()===h?f:h}},49395:function(tt,W,t){"use strict";var A=t(55616),y=t(8744).isSize,i=h(t(68194)),P=h(t(3748)),L=h(t(2904)),l=h(t(47916)),m=h(t(7294)),r={normal:1,"small-caps":1},e={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},s_size="1rem",s_family="serif";function a(f,u){if(f&&!u[f]&&!i[f])throw Error("Unknown keyword `"+f+"`");return f}function h(f){for(var u={},g=0;g<f.length;g++)u[f[g]]=1;return u}tt.exports=function(u){if((u=A(u,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return u.system&&a(u.system,P),u.system;if(a(u.style,l),a(u.variant,r),a(u.weight,L),a(u.stretch,m),null==u.size&&(u.size=s_size),"number"==typeof u.size&&(u.size+="px"),!y)throw Error("Bad size value `"+u.size+"`");u.family||(u.family=s_family),Array.isArray(u.family)&&(u.family.length||(u.family=[s_family]),u.family=u.family.map(function(c){return e[c]?c:'"'+c+'"'}).join(", "));var g=[];return g.push(u.style),u.variant!==u.style&&g.push(u.variant),u.weight!==u.variant&&u.weight!==u.style&&g.push(u.weight),u.stretch!==u.weight&&u.stretch!==u.variant&&u.stretch!==u.style&&g.push(u.stretch),g.push(u.size+(null==u.lineHeight||"normal"===u.lineHeight||u.lineHeight+""=="1"?"":"/"+u.lineHeight)),g.push(u.family),g.filter(Boolean).join(" ")}},27940:function(tt,W,t){"use strict";var s,A=t(81680),y=t(18496),i=t(87396),P=t(95920),L=t(50868),l=t(84323),m=Function.prototype.bind,r=Object.defineProperty,e=Object.prototype.hasOwnProperty;s=function(a,h,f){var g,u=y(h)&&i(h.value);return delete(g=P(h)).writable,delete g.value,g.get=function(){return!f.overwriteDefinition&&e.call(this,a)?u:(h.value=m.call(u,f.resolveContext?f.resolveContext(this):this),r(this,a,h),this[a])},g},tt.exports=function(a){var h=L(arguments[1]);return A(h.resolveContext)&&i(h.resolveContext),l(a,function(f,u){return s(u,f,h)})}},21092:function(tt,W,t){"use strict";var A=t(81680),y=t(85488),i=t(38452),P=t(50868),L=t(71056),l=tt.exports=function(m,r){var e,s,a,h,f;return arguments.length<2||"string"!=typeof m?(h=r,r=m,m=null):h=arguments[2],A(m)?(e=L.call(m,"c"),s=L.call(m,"e"),a=L.call(m,"w")):(e=a=!0,s=!1),f={value:r,configurable:e,enumerable:s,writable:a},h?i(P(h),f):f};l.gs=function(m,r,e){var s,a,h,f;return"string"!=typeof m?(h=e,e=r,r=m,m=null):h=arguments[3],A(r)?y(r)?A(e)?y(e)||(h=e,e=void 0):e=void 0:(h=r,r=e=void 0):r=void 0,A(m)?(s=L.call(m,"c"),a=L.call(m,"e")):(s=!0,a=!1),f={get:r,set:e,configurable:s,enumerable:a},h?i(P(h),f):f}},84706:function(tt,W,t){"use strict";function A(T,n){return T<n?-1:T>n?1:T>=n?0:NaN}function o(T,n){var F,D,C=T.length,p=-1;if(null==n){for(;++p<C;)if(null!=(F=T[p])&&F>=F)for(D=F;++p<C;)null!=(F=T[p])&&F>D&&(D=F)}else for(;++p<C;)if(null!=(F=n(T[p],p,T))&&F>=F)for(D=F;++p<C;)null!=(F=n(T[p],p,T))&&F>D&&(D=F);return D}function v(T){return null===T?NaN:+T}function M(T,n){var D,C=T.length,p=C,F=-1,N=0;if(null==n)for(;++F<C;)isNaN(D=v(T[F]))?--p:N+=D;else for(;++F<C;)isNaN(D=v(n(T[F],F,T)))?--p:N+=D;if(p)return N/p}function b(T){for(var C,D,N,n=T.length,p=-1,F=0;++p<n;)F+=T[p].length;for(D=new Array(F);--n>=0;)for(C=(N=T[n]).length;--C>=0;)D[--F]=N[C];return D}function E(T,n){var F,D,C=T.length,p=-1;if(null==n){for(;++p<C;)if(null!=(F=T[p])&&F>=F)for(D=F;++p<C;)null!=(F=T[p])&&D>F&&(D=F)}else for(;++p<C;)if(null!=(F=n(T[p],p,T))&&F>=F)for(D=F;++p<C;)null!=(F=n(T[p],p,T))&&D>F&&(D=F);return D}function x(T,n,C){T=+T,n=+n,C=(F=arguments.length)<2?(n=T,T=0,1):F<3?1:+C;for(var p=-1,F=0|Math.max(0,Math.ceil((n-T)/C)),D=new Array(F);++p<F;)D[p]=T+p*C;return D}function S(T,n){var F,C=T.length,p=-1,D=0;if(null==n)for(;++p<C;)(F=+T[p])&&(D+=F);else for(;++p<C;)(F=+n(T[p],p,T))&&(D+=F);return D}t.d(W,{XE:function(){return A},kv:function(){return o},mo:function(){return M},Uf:function(){return b},SY:function(){return E},ik:function(){return x},oh:function(){return S}}),function y(T){return 1===T.length&&(T=function i(T){return function(n,C){return A(T(n),C)}}(T)),{left:function(n,C,p,F){for(null==p&&(p=0),null==F&&(F=n.length);p<F;){var D=p+F>>>1;T(n[D],C)<0?p=D+1:F=D}return p},right:function(n,C,p,F){for(null==p&&(p=0),null==F&&(F=n.length);p<F;){var D=p+F>>>1;T(n[D],C)>0?F=D:p=D+1}return p}}}(A),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},34712:function(tt,W,t){"use strict";t.d(W,{kH:function(){return P},UJ:function(){return L}});var A="$";function y(){}function i(u,g){var c=new y;if(u instanceof y)u.each(function(M,b){c.set(b,M)});else if(Array.isArray(u)){var o,w=-1,d=u.length;if(null==g)for(;++w<d;)c.set(w,u[w]);else for(;++w<d;)c.set(g(o=u[w],w,u),o)}else if(u)for(var v in u)c.set(v,u[v]);return c}y.prototype=i.prototype={constructor:y,has:function(u){return A+u in this},get:function(u){return this[A+u]},set:function(u,g){return this[A+u]=g,this},remove:function(u){var g=A+u;return g in this&&delete this[g]},clear:function(){for(var u in this)u[0]===A&&delete this[u]},keys:function(){var u=[];for(var g in this)g[0]===A&&u.push(g.slice(1));return u},values:function(){var u=[];for(var g in this)g[0]===A&&u.push(this[g]);return u},entries:function(){var u=[];for(var g in this)g[0]===A&&u.push({key:g.slice(1),value:this[g]});return u},size:function(){var u=0;for(var g in this)g[0]===A&&++u;return u},empty:function(){for(var u in this)if(u[0]===A)return!1;return!0},each:function(u){for(var g in this)g[0]===A&&u(this[g],g.slice(1),this)}};var P=i;function L(){var c,w,d,u=[],g=[];function o(M,b,E,x){if(b>=u.length)return null!=c&&M.sort(c),null!=w?w(M):M;for(var C,p,D,S=-1,T=M.length,n=u[b++],F=P(),N=E();++S<T;)(D=F.get(C=n(p=M[S])+""))?D.push(p):F.set(C,[p]);return F.each(function(k,z){x(N,z,o(k,b,E,x))}),N}function v(M,b){if(++b>u.length)return M;var E,x=g[b-1];return null!=w&&b>=u.length?E=M.entries():(E=[],M.each(function(S,T){E.push({key:T,values:v(S,b)})})),null!=x?E.sort(function(S,T){return x(S.key,T.key)}):E}return d={object:function(M){return o(M,0,l,m)},map:function(M){return o(M,0,r,e)},entries:function(M){return v(o(M,0,r,e),0)},key:function(M){return u.push(M),d},sortKeys:function(M){return g[u.length-1]=M,d},sortValues:function(M){return c=M,d},rollup:function(M){return w=M,d}}}function l(){return{}}function m(u,g,c){u[g]=c}function r(){return P()}function e(u,g,c){u.set(g,c)}function s(){}var a=P.prototype;s.prototype=function h(u,g){var c=new s;if(u instanceof s)u.each(function(o){c.add(o)});else if(u){var w=-1,d=u.length;if(null==g)for(;++w<d;)c.add(u[w]);else for(;++w<d;)c.add(g(u[w],w,u))}return c}.prototype={constructor:s,has:a.has,add:function(u){return this[A+(u+="")]=u,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},49812:function(tt,W,t){"use strict";function A(Rt,$t){var oe;function se(){var ve,jt,de=oe.length,Ct=0,Wt=0;for(ve=0;ve<de;++ve)Ct+=(jt=oe[ve]).x,Wt+=jt.y;for(Ct=Ct/de-Rt,Wt=Wt/de-$t,ve=0;ve<de;++ve)(jt=oe[ve]).x-=Ct,jt.y-=Wt}return null==Rt&&(Rt=0),null==$t&&($t=0),se.initialize=function(ve){oe=ve},se.x=function(ve){return arguments.length?(Rt=+ve,se):Rt},se.y=function(ve){return arguments.length?($t=+ve,se):$t},se}function y(Rt){return function(){return Rt}}function i(){return 1e-6*(Math.random()-.5)}function L(Rt,$t,oe,se){if(isNaN($t)||isNaN(oe))return Rt;var ve,Bt,zt,kt,wt,ft,pt,Dt,Qt,de=Rt._root,jt={data:se},Ct=Rt._x0,Wt=Rt._y0,Xt=Rt._x1,Ht=Rt._y1;if(!de)return Rt._root=jt,Rt;for(;de.length;)if((ft=$t>=(Bt=(Ct+Xt)/2))?Ct=Bt:Xt=Bt,(pt=oe>=(zt=(Wt+Ht)/2))?Wt=zt:Ht=zt,ve=de,!(de=de[Dt=pt<<1|ft]))return ve[Dt]=jt,Rt;if(kt=+Rt._x.call(null,de.data),wt=+Rt._y.call(null,de.data),$t===kt&&oe===wt)return jt.next=de,ve?ve[Dt]=jt:Rt._root=jt,Rt;do{ve=ve?ve[Dt]=new Array(4):Rt._root=new Array(4),(ft=$t>=(Bt=(Ct+Xt)/2))?Ct=Bt:Xt=Bt,(pt=oe>=(zt=(Wt+Ht)/2))?Wt=zt:Ht=zt}while((Dt=pt<<1|ft)==(Qt=(wt>=zt)<<1|kt>=Bt));return ve[Qt]=de,ve[Dt]=jt,Rt}function s(Rt,$t,oe,se,ve){this.node=Rt,this.x0=$t,this.y0=oe,this.x1=se,this.y1=ve}function d(Rt){return Rt[0]}function v(Rt){return Rt[1]}function b(Rt,$t,oe){var se=new E(null==$t?d:$t,null==oe?v:oe,NaN,NaN,NaN,NaN);return null==Rt?se:se.addAll(Rt)}function E(Rt,$t,oe,se,ve,de){this._x=Rt,this._y=$t,this._x0=oe,this._y0=se,this._x1=ve,this._y1=de,this._root=void 0}function x(Rt){for(var $t={data:Rt.data},oe=$t;Rt=Rt.next;)oe=oe.next={data:Rt.data};return $t}t.r(W),t.d(W,{forceCenter:function(){return A},forceCollide:function(){return C},forceLink:function(){return N},forceManyBody:function(){return Vt},forceRadial:function(){return re},forceSimulation:function(){return Pt},forceX:function(){return le},forceY:function(){return It}});var S=b.prototype=E.prototype;function T(Rt){return Rt.x+Rt.vx}function n(Rt){return Rt.y+Rt.vy}function C(Rt){var $t,oe,se=1,ve=1;function de(){for(var Wt,Ht,Bt,zt,kt,wt,ft,Xt=$t.length,pt=0;pt<ve;++pt)for(Ht=b($t,T,n).visitAfter(jt),Wt=0;Wt<Xt;++Wt)ft=(wt=oe[(Bt=$t[Wt]).index])*wt,zt=Bt.x+Bt.vx,kt=Bt.y+Bt.vy,Ht.visit(Dt);function Dt(Qt,te,ee,Ne,We){var ye=Qt.data,Te=Qt.r,Ge=wt+Te;if(!ye)return te>zt+Ge||Ne<zt-Ge||ee>kt+Ge||We<kt-Ge;if(ye.index>Bt.index){var hr=zt-ye.x-ye.vx,ce=kt-ye.y-ye.vy,Ue=hr*hr+ce*ce;Ue<Ge*Ge&&(0===hr&&(Ue+=(hr=i())*hr),0===ce&&(Ue+=(ce=i())*ce),Ue=(Ge-(Ue=Math.sqrt(Ue)))/Ue*se,Bt.vx+=(hr*=Ue)*(Ge=(Te*=Te)/(ft+Te)),Bt.vy+=(ce*=Ue)*Ge,ye.vx-=hr*(Ge=1-Ge),ye.vy-=ce*Ge)}}}function jt(Wt){if(Wt.data)return Wt.r=oe[Wt.data.index];for(var Xt=Wt.r=0;Xt<4;++Xt)Wt[Xt]&&Wt[Xt].r>Wt.r&&(Wt.r=Wt[Xt].r)}function Ct(){if($t){var Wt,Ht,Xt=$t.length;for(oe=new Array(Xt),Wt=0;Wt<Xt;++Wt)oe[(Ht=$t[Wt]).index]=+Rt(Ht,Wt,$t)}}return"function"!=typeof Rt&&(Rt=y(null==Rt?1:+Rt)),de.initialize=function(Wt){$t=Wt,Ct()},de.iterations=function(Wt){return arguments.length?(ve=+Wt,de):ve},de.strength=function(Wt){return arguments.length?(se=+Wt,de):se},de.radius=function(Wt){return arguments.length?(Rt="function"==typeof Wt?Wt:y(+Wt),Ct(),de):Rt},de}S.copy=function(){var oe,se,Rt=new E(this._x,this._y,this._x0,this._y0,this._x1,this._y1),$t=this._root;if(!$t)return Rt;if(!$t.length)return Rt._root=x($t),Rt;for(oe=[{source:$t,target:Rt._root=new Array(4)}];$t=oe.pop();)for(var ve=0;ve<4;++ve)(se=$t.source[ve])&&(se.length?oe.push({source:se,target:$t.target[ve]=new Array(4)}):$t.target[ve]=x(se));return Rt},S.add=function P(Rt){var $t=+this._x.call(null,Rt),oe=+this._y.call(null,Rt);return L(this.cover($t,oe),$t,oe,Rt)},S.addAll=function l(Rt){var $t,oe,ve,de,se=Rt.length,jt=new Array(se),Ct=new Array(se),Wt=1/0,Xt=1/0,Ht=-1/0,Bt=-1/0;for(oe=0;oe<se;++oe)isNaN(ve=+this._x.call(null,$t=Rt[oe]))||isNaN(de=+this._y.call(null,$t))||(jt[oe]=ve,Ct[oe]=de,ve<Wt&&(Wt=ve),ve>Ht&&(Ht=ve),de<Xt&&(Xt=de),de>Bt&&(Bt=de));if(Wt>Ht||Xt>Bt)return this;for(this.cover(Wt,Xt).cover(Ht,Bt),oe=0;oe<se;++oe)L(this,jt[oe],Ct[oe],Rt[oe]);return this},S.cover=function m(Rt,$t){if(isNaN(Rt=+Rt)||isNaN($t=+$t))return this;var oe=this._x0,se=this._y0,ve=this._x1,de=this._y1;if(isNaN(oe))ve=(oe=Math.floor(Rt))+1,de=(se=Math.floor($t))+1;else{for(var Wt,Xt,jt=ve-oe,Ct=this._root;oe>Rt||Rt>=ve||se>$t||$t>=de;)switch(Xt=($t<se)<<1|Rt<oe,Wt=new Array(4),Wt[Xt]=Ct,Ct=Wt,jt*=2,Xt){case 0:ve=oe+jt,de=se+jt;break;case 1:oe=ve-jt,de=se+jt;break;case 2:ve=oe+jt,se=de-jt;break;case 3:oe=ve-jt,se=de-jt}this._root&&this._root.length&&(this._root=Ct)}return this._x0=oe,this._y0=se,this._x1=ve,this._y1=de,this},S.data=function r(){var Rt=[];return this.visit(function($t){if(!$t.length)do{Rt.push($t.data)}while($t=$t.next)}),Rt},S.extent=function e(Rt){return arguments.length?this.cover(+Rt[0][0],+Rt[0][1]).cover(+Rt[1][0],+Rt[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},S.find=function a(Rt,$t,oe){var se,jt,Ct,Wt,Xt,wt,ft,ve=this._x0,de=this._y0,Ht=this._x1,Bt=this._y1,zt=[],kt=this._root;for(kt&&zt.push(new s(kt,ve,de,Ht,Bt)),null==oe?oe=1/0:(ve=Rt-oe,de=$t-oe,Ht=Rt+oe,Bt=$t+oe,oe*=oe);wt=zt.pop();)if(!(!(kt=wt.node)||(jt=wt.x0)>Ht||(Ct=wt.y0)>Bt||(Wt=wt.x1)<ve||(Xt=wt.y1)<de))if(kt.length){var pt=(jt+Wt)/2,Dt=(Ct+Xt)/2;zt.push(new s(kt[3],pt,Dt,Wt,Xt),new s(kt[2],jt,Dt,pt,Xt),new s(kt[1],pt,Ct,Wt,Dt),new s(kt[0],jt,Ct,pt,Dt)),(ft=($t>=Dt)<<1|Rt>=pt)&&(wt=zt[zt.length-1],zt[zt.length-1]=zt[zt.length-1-ft],zt[zt.length-1-ft]=wt)}else{var Qt=Rt-+this._x.call(null,kt.data),te=$t-+this._y.call(null,kt.data),ee=Qt*Qt+te*te;if(ee<oe){var Ne=Math.sqrt(oe=ee);ve=Rt-Ne,de=$t-Ne,Ht=Rt+Ne,Bt=$t+Ne,se=kt.data}}return se},S.remove=function h(Rt){if(isNaN(Ht=+this._x.call(null,Rt))||isNaN(Bt=+this._y.call(null,Rt)))return this;var $t,se,ve,de,Ht,Bt,zt,kt,wt,ft,pt,Dt,oe=this._root,jt=this._x0,Ct=this._y0,Wt=this._x1,Xt=this._y1;if(!oe)return this;if(oe.length)for(;;){if((wt=Ht>=(zt=(jt+Wt)/2))?jt=zt:Wt=zt,(ft=Bt>=(kt=(Ct+Xt)/2))?Ct=kt:Xt=kt,$t=oe,!(oe=oe[pt=ft<<1|wt]))return this;if(!oe.length)break;($t[pt+1&3]||$t[pt+2&3]||$t[pt+3&3])&&(se=$t,Dt=pt)}for(;oe.data!==Rt;)if(ve=oe,!(oe=oe.next))return this;return(de=oe.next)&&delete oe.next,ve?(de?ve.next=de:delete ve.next,this):$t?(de?$t[pt]=de:delete $t[pt],(oe=$t[0]||$t[1]||$t[2]||$t[3])&&oe===($t[3]||$t[2]||$t[1]||$t[0])&&!oe.length&&(se?se[Dt]=oe:this._root=oe),this):(this._root=de,this)},S.removeAll=function f(Rt){for(var $t=0,oe=Rt.length;$t<oe;++$t)this.remove(Rt[$t]);return this},S.root=function u(){return this._root},S.size=function g(){var Rt=0;return this.visit(function($t){if(!$t.length)do{++Rt}while($t=$t.next)}),Rt},S.visit=function c(Rt){var oe,ve,de,jt,Ct,Wt,$t=[],se=this._root;for(se&&$t.push(new s(se,this._x0,this._y0,this._x1,this._y1));oe=$t.pop();)if(!Rt(se=oe.node,de=oe.x0,jt=oe.y0,Ct=oe.x1,Wt=oe.y1)&&se.length){var Xt=(de+Ct)/2,Ht=(jt+Wt)/2;(ve=se[3])&&$t.push(new s(ve,Xt,Ht,Ct,Wt)),(ve=se[2])&&$t.push(new s(ve,de,Ht,Xt,Wt)),(ve=se[1])&&$t.push(new s(ve,Xt,jt,Ct,Ht)),(ve=se[0])&&$t.push(new s(ve,de,jt,Xt,Ht))}return this},S.visitAfter=function w(Rt){var se,$t=[],oe=[];for(this._root&&$t.push(new s(this._root,this._x0,this._y0,this._x1,this._y1));se=$t.pop();){var ve=se.node;if(ve.length){var de,jt=se.x0,Ct=se.y0,Wt=se.x1,Xt=se.y1,Ht=(jt+Wt)/2,Bt=(Ct+Xt)/2;(de=ve[0])&&$t.push(new s(de,jt,Ct,Ht,Bt)),(de=ve[1])&&$t.push(new s(de,Ht,Ct,Wt,Bt)),(de=ve[2])&&$t.push(new s(de,jt,Bt,Ht,Xt)),(de=ve[3])&&$t.push(new s(de,Ht,Bt,Wt,Xt))}oe.push(se)}for(;se=oe.pop();)Rt(se.node,se.x0,se.y0,se.x1,se.y1);return this},S.x=function o(Rt){return arguments.length?(this._x=Rt,this):this._x},S.y=function M(Rt){return arguments.length?(this._y=Rt,this):this._y};var p=t(34712);function F(Rt){return Rt.index}function D(Rt,$t){var oe=Rt.get($t);if(!oe)throw new Error("missing: "+$t);return oe}function N(Rt){var se,de,jt,Ct,Wt,$t=F,oe=function Ht(ft){return 1/Math.min(Ct[ft.source.index],Ct[ft.target.index])},ve=y(30),Xt=1;function Bt(ft){for(var pt=0,Dt=Rt.length;pt<Xt;++pt)for(var te,ee,Ne,We,ye,Te,Ge,Qt=0;Qt<Dt;++Qt)We=(Ne=(te=Rt[Qt]).target).x+Ne.vx-(ee=te.source).x-ee.vx||i(),ye=Ne.y+Ne.vy-ee.y-ee.vy||i(),ye*=Te=((Te=Math.sqrt(We*We+ye*ye))-de[Qt])/Te*ft*se[Qt],Ne.vx-=(We*=Te)*(Ge=Wt[Qt]),Ne.vy-=ye*Ge,ee.vx+=We*(Ge=1-Ge),ee.vy+=ye*Ge}function zt(){if(jt){var ft,te,pt=jt.length,Dt=Rt.length,Qt=(0,p.kH)(jt,$t);for(ft=0,Ct=new Array(pt);ft<Dt;++ft)(te=Rt[ft]).index=ft,"object"!=typeof te.source&&(te.source=D(Qt,te.source)),"object"!=typeof te.target&&(te.target=D(Qt,te.target)),Ct[te.source.index]=(Ct[te.source.index]||0)+1,Ct[te.target.index]=(Ct[te.target.index]||0)+1;for(ft=0,Wt=new Array(Dt);ft<Dt;++ft)Wt[ft]=Ct[(te=Rt[ft]).source.index]/(Ct[te.source.index]+Ct[te.target.index]);se=new Array(Dt),kt(),de=new Array(Dt),wt()}}function kt(){if(jt)for(var ft=0,pt=Rt.length;ft<pt;++ft)se[ft]=+oe(Rt[ft],ft,Rt)}function wt(){if(jt)for(var ft=0,pt=Rt.length;ft<pt;++ft)de[ft]=+ve(Rt[ft],ft,Rt)}return null==Rt&&(Rt=[]),Bt.initialize=function(ft){jt=ft,zt()},Bt.links=function(ft){return arguments.length?(Rt=ft,zt(),Bt):Rt},Bt.id=function(ft){return arguments.length?($t=ft,Bt):$t},Bt.iterations=function(ft){return arguments.length?(Xt=+ft,Bt):Xt},Bt.strength=function(ft){return arguments.length?(oe="function"==typeof ft?ft:y(+ft),kt(),Bt):oe},Bt.distance=function(ft){return arguments.length?(ve="function"==typeof ft?ft:y(+ft),wt(),Bt):ve},Bt}var k={value:function(){}};function z(){for(var se,Rt=0,$t=arguments.length,oe={};Rt<$t;++Rt){if(!(se=arguments[Rt]+"")||se in oe||/[\s.]/.test(se))throw new Error("illegal type: "+se);oe[se]=[]}return new B(oe)}function B(Rt){this._=Rt}function O(Rt,$t){return Rt.trim().split(/^|\s+/).map(function(oe){var se="",ve=oe.indexOf(".");if(ve>=0&&(se=oe.slice(ve+1),oe=oe.slice(0,ve)),oe&&!$t.hasOwnProperty(oe))throw new Error("unknown type: "+oe);return{type:oe,name:se}})}function U(Rt,$t){for(var ve,oe=0,se=Rt.length;oe<se;++oe)if((ve=Rt[oe]).name===$t)return ve.value}function G(Rt,$t,oe){for(var se=0,ve=Rt.length;se<ve;++se)if(Rt[se].name===$t){Rt[se]=k,Rt=Rt.slice(0,se).concat(Rt.slice(se+1));break}return null!=oe&&Rt.push({name:$t,value:oe}),Rt}B.prototype=z.prototype={constructor:B,on:function(Rt,$t){var ve,oe=this._,se=O(Rt+"",oe),de=-1,jt=se.length;if(!(arguments.length<2)){if(null!=$t&&"function"!=typeof $t)throw new Error("invalid callback: "+$t);for(;++de<jt;)if(ve=(Rt=se[de]).type)oe[ve]=G(oe[ve],Rt.name,$t);else if(null==$t)for(ve in oe)oe[ve]=G(oe[ve],Rt.name,null);return this}for(;++de<jt;)if((ve=(Rt=se[de]).type)&&(ve=U(oe[ve],Rt.name)))return ve},copy:function(){var Rt={},$t=this._;for(var oe in $t)Rt[oe]=$t[oe].slice();return new B(Rt)},call:function(Rt,$t){if((ve=arguments.length-2)>0)for(var ve,de,oe=new Array(ve),se=0;se<ve;++se)oe[se]=arguments[se+2];if(!this._.hasOwnProperty(Rt))throw new Error("unknown type: "+Rt);for(se=0,ve=(de=this._[Rt]).length;se<ve;++se)de[se].value.apply($t,oe)},apply:function(Rt,$t,oe){if(!this._.hasOwnProperty(Rt))throw new Error("unknown type: "+Rt);for(var se=this._[Rt],ve=0,de=se.length;ve<de;++ve)se[ve].value.apply($t,oe)}};var j,rt,J=z,et=0,at=0,lt=0,H=0,Z=0,it=0,Q="object"==typeof performance&&performance.now?performance:Date,Y="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Rt){setTimeout(Rt,17)};function nt(){return Z||(Y(_),Z=Q.now()+it)}function _(){Z=0}function st(){this._call=this._time=this._next=null}function dt(Rt,$t,oe){var se=new st;return se.restart(Rt,$t,oe),se}function yt(){Z=(H=Q.now())+it,et=at=0;try{!function xt(){nt(),++et;for(var $t,Rt=j;Rt;)($t=Z-Rt._time)>=0&&Rt._call.call(null,$t),Rt=Rt._next;--et}()}finally{et=0,function Et(){for(var Rt,oe,$t=j,se=1/0;$t;)$t._call?(se>$t._time&&(se=$t._time),Rt=$t,$t=$t._next):(oe=$t._next,$t._next=null,$t=Rt?Rt._next=oe:j=oe);rt=Rt,Tt(se)}(),Z=0}}function St(){var Rt=Q.now(),$t=Rt-H;$t>1e3&&(it-=$t,H=Rt)}function Tt(Rt){et||(at&&(at=clearTimeout(at)),Rt-Z>24?(Rt<1/0&&(at=setTimeout(yt,Rt-Q.now()-it)),lt&&(lt=clearInterval(lt))):(lt||(H=Q.now(),lt=setInterval(St,1e3)),et=1,Y(yt)))}function gt(Rt){return Rt.x}function Mt(Rt){return Rt.y}st.prototype=dt.prototype={constructor:st,restart:function(Rt,$t,oe){if("function"!=typeof Rt)throw new TypeError("callback is not a function");oe=(null==oe?nt():+oe)+(null==$t?0:+$t),!this._next&&rt!==this&&(rt?rt._next=this:j=this,rt=this),this._call=Rt,this._time=oe,Tt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tt())}};var Gt=Math.PI*(3-Math.sqrt(5));function Pt(Rt){var $t,oe=1,se=.001,ve=1-Math.pow(se,1/300),de=0,jt=.6,Ct=(0,p.kH)(),Wt=dt(Ht),Xt=J("tick","end");function Ht(){Bt(),Xt.call("tick",$t),oe<se&&(Wt.stop(),Xt.call("end",$t))}function Bt(wt){var ft,Dt,pt=Rt.length;void 0===wt&&(wt=1);for(var Qt=0;Qt<wt;++Qt)for(oe+=(de-oe)*ve,Ct.each(function(te){te(oe)}),ft=0;ft<pt;++ft)null==(Dt=Rt[ft]).fx?Dt.x+=Dt.vx*=jt:(Dt.x=Dt.fx,Dt.vx=0),null==Dt.fy?Dt.y+=Dt.vy*=jt:(Dt.y=Dt.fy,Dt.vy=0);return $t}function zt(){for(var pt,wt=0,ft=Rt.length;wt<ft;++wt){if((pt=Rt[wt]).index=wt,null!=pt.fx&&(pt.x=pt.fx),null!=pt.fy&&(pt.y=pt.fy),isNaN(pt.x)||isNaN(pt.y)){var Dt=10*Math.sqrt(wt),Qt=wt*Gt;pt.x=Dt*Math.cos(Qt),pt.y=Dt*Math.sin(Qt)}(isNaN(pt.vx)||isNaN(pt.vy))&&(pt.vx=pt.vy=0)}}function kt(wt){return wt.initialize&&wt.initialize(Rt),wt}return null==Rt&&(Rt=[]),zt(),$t={tick:Bt,restart:function(){return Wt.restart(Ht),$t},stop:function(){return Wt.stop(),$t},nodes:function(wt){return arguments.length?(Rt=wt,zt(),Ct.each(kt),$t):Rt},alpha:function(wt){return arguments.length?(oe=+wt,$t):oe},alphaMin:function(wt){return arguments.length?(se=+wt,$t):se},alphaDecay:function(wt){return arguments.length?(ve=+wt,$t):+ve},alphaTarget:function(wt){return arguments.length?(de=+wt,$t):de},velocityDecay:function(wt){return arguments.length?(jt=1-wt,$t):1-jt},force:function(wt,ft){return arguments.length>1?(null==ft?Ct.remove(wt):Ct.set(wt,kt(ft)),$t):Ct.get(wt)},find:function(wt,ft,pt){var te,ee,Ne,We,ye,Dt=0,Qt=Rt.length;for(null==pt?pt=1/0:pt*=pt,Dt=0;Dt<Qt;++Dt)(Ne=(te=wt-(We=Rt[Dt]).x)*te+(ee=ft-We.y)*ee)<pt&&(ye=We,pt=Ne);return ye},on:function(wt,ft){return arguments.length>1?(Xt.on(wt,ft),$t):Xt.on(wt)}}}function Vt(){var Rt,$t,oe,ve,se=y(-30),de=1,jt=1/0,Ct=.81;function Wt(zt){var kt,wt=Rt.length,ft=b(Rt,gt,Mt).visitAfter(Ht);for(oe=zt,kt=0;kt<wt;++kt)$t=Rt[kt],ft.visit(Bt)}function Xt(){if(Rt){var zt,wt,kt=Rt.length;for(ve=new Array(kt),zt=0;zt<kt;++zt)ve[(wt=Rt[zt]).index]=+se(wt,zt,Rt)}}function Ht(zt){var wt,ft,Dt,Qt,te,kt=0,pt=0;if(zt.length){for(Dt=Qt=te=0;te<4;++te)(wt=zt[te])&&(ft=Math.abs(wt.value))&&(kt+=wt.value,pt+=ft,Dt+=ft*wt.x,Qt+=ft*wt.y);zt.x=Dt/pt,zt.y=Qt/pt}else{(wt=zt).x=wt.data.x,wt.y=wt.data.y;do{kt+=ve[wt.data.index]}while(wt=wt.next)}zt.value=kt}function Bt(zt,kt,wt,ft){if(!zt.value)return!0;var pt=zt.x-$t.x,Dt=zt.y-$t.y,Qt=ft-kt,te=pt*pt+Dt*Dt;if(Qt*Qt/Ct<te)return te<jt&&(0===pt&&(te+=(pt=i())*pt),0===Dt&&(te+=(Dt=i())*Dt),te<de&&(te=Math.sqrt(de*te)),$t.vx+=pt*zt.value*oe/te,$t.vy+=Dt*zt.value*oe/te),!0;if(!(zt.length||te>=jt)){(zt.data!==$t||zt.next)&&(0===pt&&(te+=(pt=i())*pt),0===Dt&&(te+=(Dt=i())*Dt),te<de&&(te=Math.sqrt(de*te)));do{zt.data!==$t&&($t.vx+=pt*(Qt=ve[zt.data.index]*oe/te),$t.vy+=Dt*Qt)}while(zt=zt.next)}}return Wt.initialize=function(zt){Rt=zt,Xt()},Wt.strength=function(zt){return arguments.length?(se="function"==typeof zt?zt:y(+zt),Xt(),Wt):se},Wt.distanceMin=function(zt){return arguments.length?(de=zt*zt,Wt):Math.sqrt(de)},Wt.distanceMax=function(zt){return arguments.length?(jt=zt*zt,Wt):Math.sqrt(jt)},Wt.theta=function(zt){return arguments.length?(Ct=zt*zt,Wt):Math.sqrt(Ct)},Wt}function re(Rt,$t,oe){var se,de,jt,ve=y(.1);function Ct(Xt){for(var Ht=0,Bt=se.length;Ht<Bt;++Ht){var zt=se[Ht],kt=zt.x-$t||1e-6,wt=zt.y-oe||1e-6,ft=Math.sqrt(kt*kt+wt*wt),pt=(jt[Ht]-ft)*de[Ht]*Xt/ft;zt.vx+=kt*pt,zt.vy+=wt*pt}}function Wt(){if(se){var Xt,Ht=se.length;for(de=new Array(Ht),jt=new Array(Ht),Xt=0;Xt<Ht;++Xt)jt[Xt]=+Rt(se[Xt],Xt,se),de[Xt]=isNaN(jt[Xt])?0:+ve(se[Xt],Xt,se)}}return"function"!=typeof Rt&&(Rt=y(+Rt)),null==$t&&($t=0),null==oe&&(oe=0),Ct.initialize=function(Xt){se=Xt,Wt()},Ct.strength=function(Xt){return arguments.length?(ve="function"==typeof Xt?Xt:y(+Xt),Wt(),Ct):ve},Ct.radius=function(Xt){return arguments.length?(Rt="function"==typeof Xt?Xt:y(+Xt),Wt(),Ct):Rt},Ct.x=function(Xt){return arguments.length?($t=+Xt,Ct):$t},Ct.y=function(Xt){return arguments.length?(oe=+Xt,Ct):oe},Ct}function le(Rt){var oe,se,ve,$t=y(.1);function de(Ct){for(var Ht,Wt=0,Xt=oe.length;Wt<Xt;++Wt)(Ht=oe[Wt]).vx+=(ve[Wt]-Ht.x)*se[Wt]*Ct}function jt(){if(oe){var Ct,Wt=oe.length;for(se=new Array(Wt),ve=new Array(Wt),Ct=0;Ct<Wt;++Ct)se[Ct]=isNaN(ve[Ct]=+Rt(oe[Ct],Ct,oe))?0:+$t(oe[Ct],Ct,oe)}}return"function"!=typeof Rt&&(Rt=y(null==Rt?0:+Rt)),de.initialize=function(Ct){oe=Ct,jt()},de.strength=function(Ct){return arguments.length?($t="function"==typeof Ct?Ct:y(+Ct),jt(),de):$t},de.x=function(Ct){return arguments.length?(Rt="function"==typeof Ct?Ct:y(+Ct),jt(),de):Rt},de}function It(Rt){var oe,se,ve,$t=y(.1);function de(Ct){for(var Ht,Wt=0,Xt=oe.length;Wt<Xt;++Wt)(Ht=oe[Wt]).vy+=(ve[Wt]-Ht.y)*se[Wt]*Ct}function jt(){if(oe){var Ct,Wt=oe.length;for(se=new Array(Wt),ve=new Array(Wt),Ct=0;Ct<Wt;++Ct)se[Ct]=isNaN(ve[Ct]=+Rt(oe[Ct],Ct,oe))?0:+$t(oe[Ct],Ct,oe)}}return"function"!=typeof Rt&&(Rt=y(null==Rt?0:+Rt)),de.initialize=function(Ct){oe=Ct,jt()},de.strength=function(Ct){return arguments.length?($t="function"==typeof Ct?Ct:y(+Ct),jt(),de):$t},de.y=function(Ct){return arguments.length?(Rt="function"==typeof Ct?Ct:y(+Ct),jt(),de):Rt},de}},57624:function(tt,W,t){"use strict";function y(b,E){if((x=(b=E?b.toExponential(E-1):b.toExponential()).indexOf("e"))<0)return null;var x,S=b.slice(0,x);return[S.length>1?S[0]+S.slice(2):S,+b.slice(x+1)]}t.d(W,{E9:function(){return o},SO:function(){return w}});var s,l=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function m(b){if(!(E=l.exec(b)))throw new Error("invalid format: "+b);var E;return new r({fill:E[1],align:E[2],sign:E[3],symbol:E[4],zero:E[5],width:E[6],comma:E[7],precision:E[8]&&E[8].slice(1),trim:E[9],type:E[10]})}function r(b){this.fill=void 0===b.fill?" ":b.fill+"",this.align=void 0===b.align?">":b.align+"",this.sign=void 0===b.sign?"-":b.sign+"",this.symbol=void 0===b.symbol?"":b.symbol+"",this.zero=!!b.zero,this.width=void 0===b.width?void 0:+b.width,this.comma=!!b.comma,this.precision=void 0===b.precision?void 0:+b.precision,this.trim=!!b.trim,this.type=void 0===b.type?"":b.type+""}function h(b,E){var x=y(b,E);if(!x)return b+"";var S=x[0],T=x[1];return T<0?"0."+new Array(-T).join("0")+S:S.length>T+1?S.slice(0,T+1)+"."+S.slice(T+1):S+new Array(T-S.length+2).join("0")}m.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var f={"%":function(b,E){return(100*b).toFixed(E)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:function A(b){return Math.abs(b=Math.round(b))>=1e21?b.toLocaleString("en").replace(/,/g,""):b.toString(10)},e:function(b,E){return b.toExponential(E)},f:function(b,E){return b.toFixed(E)},g:function(b,E){return b.toPrecision(E)},o:function(b){return Math.round(b).toString(8)},p:function(b,E){return h(100*b,E)},r:h,s:function a(b,E){var x=y(b,E);if(!x)return b+"";var S=x[0],T=x[1],n=T-(s=3*Math.max(-8,Math.min(8,Math.floor(T/3))))+1,C=S.length;return n===C?S:n>C?S+new Array(n-C+1).join("0"):n>0?S.slice(0,n)+"."+S.slice(n):"0."+new Array(1-n).join("0")+y(b,Math.max(0,E+n-1))[0]},X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}};function u(b){return b}var d,o,g=Array.prototype.map,c=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function w(b){var E=void 0===b.grouping||void 0===b.thousands?u:function P(b,E){return function(x,S){for(var T=x.length,n=[],C=0,p=b[0],F=0;T>0&&p>0&&(F+p+1>S&&(p=Math.max(1,S-F)),n.push(x.substring(T-=p,T+p)),!((F+=p+1)>S));)p=b[C=(C+1)%b.length];return n.reverse().join(E)}}(g.call(b.grouping,Number),b.thousands+""),x=void 0===b.currency?"":b.currency[0]+"",S=void 0===b.currency?"":b.currency[1]+"",T=void 0===b.decimal?".":b.decimal+"",n=void 0===b.numerals?u:function L(b){return function(E){return E.replace(/[0-9]/g,function(x){return b[+x]})}}(g.call(b.numerals,String)),C=void 0===b.percent?"%":b.percent+"",p=void 0===b.minus?"-":b.minus+"",F=void 0===b.nan?"NaN":b.nan+"";function D(k){var z=(k=m(k)).fill,B=k.align,O=k.sign,U=k.symbol,G=k.zero,J=k.width,et=k.comma,at=k.precision,lt=k.trim,K=k.type;"n"===K?(et=!0,K="g"):f[K]||(void 0===at&&(at=12),lt=!0,K="g"),(G||"0"===z&&"="===B)&&(G=!0,z="0",B="=");var j="$"===U?x:"#"===U&&/[boxX]/.test(K)?"0"+K.toLowerCase():"",rt="$"===U?S:/[%p]/.test(K)?C:"",H=f[K],Z=/[defgprs%]/.test(K);function it(Q){var _,st,dt,Y=j,nt=rt;if("c"===K)nt=H(Q)+nt,Q="";else{var xt=(Q=+Q)<0||1/Q<0;if(Q=isNaN(Q)?F:H(Math.abs(Q),at),lt&&(Q=function e(b){t:for(var T,E=b.length,x=1,S=-1;x<E;++x)switch(b[x]){case".":S=T=x;break;case"0":0===S&&(S=x),T=x;break;default:if(!+b[x])break t;S>0&&(S=0)}return S>0?b.slice(0,S)+b.slice(T+1):b}(Q)),xt&&0==+Q&&"+"!==O&&(xt=!1),Y=(xt?"("===O?O:p:"-"===O||"("===O?"":O)+Y,nt=("s"===K?c[8+s/3]:"")+nt+(xt&&"("===O?")":""),Z)for(_=-1,st=Q.length;++_<st;)if(48>(dt=Q.charCodeAt(_))||dt>57){nt=(46===dt?T+Q.slice(_+1):Q.slice(_))+nt,Q=Q.slice(0,_);break}}et&&!G&&(Q=E(Q,1/0));var yt=Y.length+Q.length+nt.length,St=yt<J?new Array(J-yt+1).join(z):"";switch(et&&G&&(Q=E(St+Q,St.length?J-nt.length:1/0),St=""),B){case"<":Q=Y+Q+nt+St;break;case"=":Q=Y+St+Q+nt;break;case"^":Q=St.slice(0,yt=St.length>>1)+Y+Q+nt+St.slice(yt);break;default:Q=St+Y+Q+nt}return n(Q)}return at=void 0===at?6:/[gprs]/.test(K)?Math.max(1,Math.min(21,at)):Math.max(0,Math.min(20,at)),it.toString=function(){return k+""},it}return{format:D,formatPrefix:function N(k,z){var B=D(((k=m(k)).type="f",k)),O=3*Math.max(-8,Math.min(8,Math.floor(function i(b){return(b=y(Math.abs(b)))?b[1]:NaN}(z)/3))),U=Math.pow(10,-O),G=c[8+O/3];return function(J){return B(U*J)+G}}}}!function M(b){return d=w(b),o=d.format,d}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})},87108:function(tt,W,t){"use strict";t.r(W),t.d(W,{geoAiry:function(){return G},geoAiryRaw:function(){return U},geoAitoff:function(){return et},geoAitoffRaw:function(){return J},geoArmadillo:function(){return lt},geoArmadilloRaw:function(){return at},geoAugust:function(){return j},geoAugustRaw:function(){return K},geoBaker:function(){return it},geoBakerRaw:function(){return Z},geoBerghaus:function(){return nt},geoBerghausRaw:function(){return Y},geoBertin1953:function(){return Tt},geoBertin1953Raw:function(){return Et},geoBoggs:function(){return le},geoBoggsRaw:function(){return re},geoBonne:function(){return se},geoBonneRaw:function(){return oe},geoBottomley:function(){return de},geoBottomleyRaw:function(){return ve},geoBromley:function(){return Ct},geoBromleyRaw:function(){return jt},geoChamberlin:function(){return pt},geoChamberlinAfrica:function(){return ft},geoChamberlinRaw:function(){return kt},geoCollignon:function(){return Qt},geoCollignonRaw:function(){return Dt},geoCraig:function(){return ee},geoCraigRaw:function(){return te},geoCraster:function(){return ye},geoCrasterRaw:function(){return We},geoCylindricalEqualArea:function(){return Ge},geoCylindricalEqualAreaRaw:function(){return Te},geoCylindricalStereographic:function(){return ce},geoCylindricalStereographicRaw:function(){return hr},geoEckert1:function(){return Ye},geoEckert1Raw:function(){return Ue},geoEckert2:function(){return tr},geoEckert2Raw:function(){return gr},geoEckert3:function(){return ne},geoEckert3Raw:function(){return he},geoEckert4:function(){return be},geoEckert4Raw:function(){return pe},geoEckert5:function(){return Me},geoEckert5Raw:function(){return Se},geoEckert6:function(){return Fe},geoEckert6Raw:function(){return Ie},geoEisenlohr:function(){return ir},geoEisenlohrRaw:function(){return nr},geoFahey:function(){return Ut},geoFaheyRaw:function(){return Ot},geoFoucaut:function(){return Le},geoFoucautRaw:function(){return Ce},geoFoucautSinusoidal:function(){return _e},geoFoucautSinusoidalRaw:function(){return Xe},geoGilbert:function(){return dr},geoGingery:function(){return Ar},geoGingeryRaw:function(){return pr},geoGinzburg4:function(){return Ur},geoGinzburg4Raw:function(){return nn},geoGinzburg5:function(){return bn},geoGinzburg5Raw:function(){return Tn},geoGinzburg6:function(){return Mr},geoGinzburg6Raw:function(){return ur},geoGinzburg8:function(){return Or},geoGinzburg8Raw:function(){return Br},geoGinzburg9:function(){return pn},geoGinzburg9Raw:function(){return sn},geoGringorten:function(){return _n},geoGringortenQuincuncial:function(){return cu},geoGringortenRaw:function(){return wn},geoGuyou:function(){return Fn},geoGuyouRaw:function(){return tn},geoHammer:function(){return xt},geoHammerRaw:function(){return st},geoHammerRetroazimuthal:function(){return Hn},geoHammerRetroazimuthalRaw:function(){return En},geoHealpix:function(){return Er},geoHealpixRaw:function(){return kr},geoHill:function(){return je},geoHillRaw:function(){return Yr},geoHomolosine:function(){return rn},geoHomolosineRaw:function(){return Hr},geoHufnagel:function(){return $n},geoHufnagelRaw:function(){return Zn},geoHyperelliptical:function(){return ei},geoHyperellipticalRaw:function(){return ni},geoInterrupt:function(){return Qi},geoInterruptedBoggs:function(){return zs},geoInterruptedHomolosine:function(){return ws},geoInterruptedMollweide:function(){return Ri},geoInterruptedMollweideHemispheres:function(){return Cu},geoInterruptedQuarticAuthalic:function(){return us},geoInterruptedSinuMollweide:function(){return Ii},geoInterruptedSinusoidal:function(){return mo},geoKavrayskiy7:function(){return kl},geoKavrayskiy7Raw:function(){return Li},geoLagrange:function(){return ko},geoLagrangeRaw:function(){return wi},geoLarrivee:function(){return Ui},geoLarriveeRaw:function(){return il},geoLaskowski:function(){return Ko},geoLaskowskiRaw:function(){return Os},geoLittrow:function(){return of},geoLittrowRaw:function(){return Oi},geoLoximuthal:function(){return Qo},geoLoximuthalRaw:function(){return Jo},geoMiller:function(){return sf},geoMillerRaw:function(){return Bs},geoModifiedStereographic:function(){return Ts},geoModifiedStereographicAlaska:function(){return cf},geoModifiedStereographicGs48:function(){return hf},geoModifiedStereographicGs50:function(){return Pu},geoModifiedStereographicLee:function(){return df},geoModifiedStereographicMiller:function(){return vf},geoModifiedStereographicRaw:function(){return Lu},geoMollweide:function(){return Gt},geoMollweideRaw:function(){return Nt},geoMtFlatPolarParabolic:function(){return tu},geoMtFlatPolarParabolicRaw:function(){return sl},geoMtFlatPolarQuartic:function(){return Du},geoMtFlatPolarQuarticRaw:function(){return eu},geoMtFlatPolarSinusoidal:function(){return pf},geoMtFlatPolarSinusoidalRaw:function(){return $o},geoNaturalEarth:function(){return Ru.c},geoNaturalEarth2:function(){return Ol},geoNaturalEarth2Raw:function(){return oo},geoNaturalEarthRaw:function(){return Ru.g},geoNellHammer:function(){return Bl},geoNellHammerRaw:function(){return zo},geoNicolosi:function(){return Nl},geoNicolosiRaw:function(){return Ns},geoPatterson:function(){return bo},geoPattersonRaw:function(){return fo},geoPeirceQuincuncial:function(){return hu},geoPierceQuincuncial:function(){return hu},geoPolyconic:function(){return gf},geoPolyconicRaw:function(){return au},geoPolyhedral:function(){return Vs},geoPolyhedralButterfly:function(){return wo},geoPolyhedralCollignon:function(){return fs},geoPolyhedralWaterman:function(){return cs},geoProject:function(){return xf},geoQuantize:function(){return wf},geoQuincuncial:function(){return fu},geoRectangularPolyconic:function(){return Uu},geoRectangularPolyconicRaw:function(){return Nu},geoRobinson:function(){return hs},geoRobinsonRaw:function(){return Uo},geoSatellite:function(){return Hl},geoSatelliteRaw:function(){return vl},geoSinuMollweide:function(){return vr},geoSinuMollweideRaw:function(){return Ve},geoSinusoidal:function(){return $t},geoSinusoidalRaw:function(){return Rt},geoStitch:function(){return xl},geoTimes:function(){return Mo},geoTimesRaw:function(){return Ao},geoTwoPointAzimuthal:function(){return Ls},geoTwoPointAzimuthalRaw:function(){return Cs},geoTwoPointAzimuthalUsa:function(){return Hu},geoTwoPointEquidistant:function(){return ho},geoTwoPointEquidistantRaw:function(){return co},geoTwoPointEquidistantUsa:function(){return Gu},geoVanDerGrinten:function(){return bl},geoVanDerGrinten2:function(){return Qs},geoVanDerGrinten2Raw:function(){return Wl},geoVanDerGrinten3:function(){return Yl},geoVanDerGrinten3Raw:function(){return yu},geoVanDerGrinten4:function(){return Xl},geoVanDerGrinten4Raw:function(){return vs},geoVanDerGrintenRaw:function(){return Ps},geoWagner:function(){return Wu},geoWagner4:function(){return Zl},geoWagner4Raw:function(){return ns},geoWagner6:function(){return jl},geoWagner6Raw:function(){return qs},geoWagner7:function(){return $i},geoWagnerRaw:function(){return $s},geoWiechel:function(){return Yu},geoWiechelRaw:function(){return Tl},geoWinkel3:function(){return mu},geoWinkel3Raw:function(){return Al}});var A=t(87952),y=Math.abs,i=Math.atan,P=Math.atan2,l=(Math,Math.cos),m=Math.exp,r=Math.floor,e=Math.log,s=Math.max,a=Math.min,h=Math.pow,f=Math.round,u=Math.sign||function(Kt){return Kt>0?1:Kt<0?-1:0},g=Math.sin,c=Math.tan,w=1e-6,d=1e-12,o=Math.PI,v=o/2,M=o/4,b=Math.SQRT1_2,E=D(2),x=D(o),S=2*o,T=180/o,n=o/180;function p(Kt){return Kt>1?v:Kt<-1?-v:Math.asin(Kt)}function F(Kt){return Kt>1?0:Kt<-1?o:Math.acos(Kt)}function D(Kt){return Kt>0?Math.sqrt(Kt):0}function N(Kt){return((Kt=m(2*Kt))-1)/(Kt+1)}function k(Kt){return(m(Kt)-m(-Kt))/2}function z(Kt){return(m(Kt)+m(-Kt))/2}function U(Kt){var qt=c(Kt/2),fe=2*e(l(Kt/2))/(qt*qt);function ge(De,Ee){var ke=l(De),cr=l(Ee),br=g(Ee),sr=cr*ke,wr=-((1-sr?e((1+sr)/2)/(1-sr):-.5)+fe/(1+sr));return[wr*cr*g(De),wr*br]}return ge.invert=function(De,Ee){var sr,ke=D(De*De+Ee*Ee),cr=-Kt/2,br=50;if(!ke)return[0,0];do{var wr=cr/2,Dr=l(wr),Wr=g(wr),en=Wr/Dr,un=-e(y(Dr));cr-=sr=(2/en*un-fe*en-ke)/(-un/(Wr*Wr)+1-fe/(2*Dr*Dr))*(Dr<0?.7:1)}while(y(sr)>w&&--br>0);var xn=g(cr);return[P(De*xn,ke*l(cr)),p(Ee*xn/ke)]},ge}function G(){var Kt=v,qt=(0,A.U)(U),fe=qt(Kt);return fe.radius=function(ge){return arguments.length?qt(Kt=ge*n):Kt*T},fe.scale(179.976).clipAngle(147)}function J(Kt,qt){var fe=l(qt),ge=function C(Kt){return Kt?Kt/Math.sin(Kt):1}(F(fe*l(Kt/=2)));return[2*fe*g(Kt)*ge,g(qt)*ge]}function et(){return(0,A.c)(J).scale(152.63)}function at(Kt){var qt=g(Kt),fe=l(Kt),ge=Kt>=0?1:-1,De=c(ge*Kt),Ee=(1+qt-fe)/2;function ke(cr,br){var sr=l(br),wr=l(cr/=2);return[(1+sr)*g(cr),(ge*br>-P(wr,De)-.001?0:10*-ge)+Ee+g(br)*fe-(1+sr)*qt*wr]}return ke.invert=function(cr,br){var sr=0,wr=0,Dr=50;do{var Wr=l(sr),en=g(sr),un=l(wr),xn=g(wr),Pn=1+un,ia=Pn*en-cr,wa=Ee+xn*fe-Pn*qt*Wr-br,Ea=Pn*Wr/2,Aa=-en*xn,La=qt*Pn*en/2,Wa=fe*un+qt*Wr*xn,Ti=Aa*La-Wa*Ea,di=(wa*Aa-ia*Wa)/Ti/2,ii=(ia*La-wa*Ea)/Ti;y(ii)>2&&(ii/=2),sr-=di,wr-=ii}while((y(di)>w||y(ii)>w)&&--Dr>0);return ge*wr>-P(l(sr),De)-.001?[2*sr,wr]:null},ke}function lt(){var Kt=20*n,qt=Kt>=0?1:-1,fe=c(qt*Kt),ge=(0,A.U)(at),De=ge(Kt),Ee=De.stream;return De.parallel=function(ke){return arguments.length?(fe=c((qt=(Kt=ke*n)>=0?1:-1)*Kt),ge(Kt)):Kt*T},De.stream=function(ke){var cr=De.rotate(),br=Ee(ke),sr=(De.rotate([0,0]),Ee(ke)),wr=De.precision();return De.rotate(cr),br.sphere=function(){sr.polygonStart(),sr.lineStart();for(var Dr=-180*qt;qt*Dr<180;Dr+=90*qt)sr.point(Dr,90*qt);if(Kt)for(;qt*(Dr-=3*qt*wr)>=-180;)sr.point(Dr,qt*-P(l(Dr*n/2),fe)*T);sr.lineEnd(),sr.polygonEnd()},br},De.scale(218.695).center([0,28.0974])}function K(Kt,qt){var fe=c(qt/2),ge=D(1-fe*fe),De=1+ge*l(Kt/=2),Ee=g(Kt)*ge/De,ke=fe/De,cr=Ee*Ee,br=ke*ke;return[1.3333333333333333*Ee*(3+cr-3*br),1.3333333333333333*ke*(3+3*cr-br)]}function j(){return(0,A.c)(K).scale(66.1603)}J.invert=function(Kt,qt){if(!(Kt*Kt+4*qt*qt>o*o+w)){var fe=Kt,ge=qt,De=25;do{var Pn,Ee=g(fe),ke=g(fe/2),cr=l(fe/2),br=g(ge),sr=l(ge),wr=g(2*ge),Dr=br*br,Wr=sr*sr,en=ke*ke,un=1-Wr*cr*cr,xn=un?F(sr*cr)*D(Pn=1/un):Pn=0,ia=2*xn*sr*ke-Kt,wa=xn*br-qt,Ea=Pn*(Wr*en+xn*sr*cr*Dr),Aa=Pn*(.5*Ee*wr-2*xn*br*ke),La=.25*Pn*(wr*ke-xn*br*Wr*Ee),Wa=Pn*(Dr*cr+xn*en*sr),Ti=Aa*La-Wa*Ea;if(!Ti)break;var di=(wa*Aa-ia*Wa)/Ti,ii=(ia*La-wa*Ea)/Ti;fe-=di,ge-=ii}while((y(di)>w||y(ii)>w)&&--De>0);return[fe,ge]}},K.invert=function(Kt,qt){if(qt*=.375,!(Kt*=.375)&&y(qt)>1)return null;var De=1+Kt*Kt+qt*qt,Ee=D((De-D(De*De-4*qt*qt))/2),ke=p(Ee)/3,cr=Ee?function O(Kt){return e(Kt+D(Kt*Kt-1))}(y(qt/Ee))/3:function B(Kt){return e(Kt+D(Kt*Kt+1))}(y(Kt))/3,br=l(ke),sr=z(cr),wr=sr*sr-br*br;return[2*u(Kt)*P(k(cr)*br,.25-wr),2*u(qt)*P(sr*g(ke),.25+wr)]};var rt=D(8),H=e(1+E);function Z(Kt,qt){var fe=y(qt);return fe<M?[Kt,e(c(M+qt/2))]:[Kt*l(fe)*(2*E-1/g(fe)),u(qt)*(2*E*(fe-M)-e(c(fe/2)))]}function it(){return(0,A.c)(Z).scale(112.314)}Z.invert=function(Kt,qt){if((Ee=y(qt))<H)return[Kt,2*i(m(qt))-v];var De,Ee,fe=M,ge=25;do{var ke=l(fe/2),cr=c(fe/2);fe-=De=(rt*(fe-M)-e(cr)-Ee)/(rt-ke*ke/(2*cr))}while(y(De)>d&&--ge>0);return[Kt/(l(fe)*(rt-1/g(fe))),u(qt)*fe]};var Q=t(69020);function Y(Kt){var qt=2*o/Kt;function fe(ge,De){var Ee=(0,Q.O)(ge,De);if(y(ge)>v){var ke=P(Ee[1],Ee[0]),cr=D(Ee[0]*Ee[0]+Ee[1]*Ee[1]),br=qt*f((ke-v)/qt)+v,sr=P(g(ke-=br),2-l(ke));ke=br+p(o/cr*g(sr))-sr,Ee[0]=cr*l(ke),Ee[1]=cr*g(ke)}return Ee}return fe.invert=function(ge,De){var Ee=D(ge*ge+De*De);if(Ee>v){var ke=P(De,ge),cr=qt*f((ke-v)/qt)+v,br=ke>cr?-1:1,sr=Ee*l(cr-ke),wr=1/c(br*F((sr-o)/D(o*(o-2*sr)+Ee*Ee)));ke=cr+2*i((wr+br*D(wr*wr-3))/3),ge=Ee*l(ke),De=Ee*g(ke)}return Q.O.invert(ge,De)},fe}function nt(){var Kt=5,qt=(0,A.U)(Y),fe=qt(Kt),ge=fe.stream,De=.01,Ee=-l(De*n),ke=g(De*n);return fe.lobes=function(cr){return arguments.length?qt(Kt=+cr):Kt},fe.stream=function(cr){var br=fe.rotate(),sr=ge(cr),wr=(fe.rotate([0,0]),ge(cr));return fe.rotate(br),sr.sphere=function(){wr.polygonStart(),wr.lineStart();for(var Dr=0,Wr=360/Kt,en=2*o/Kt,un=90-180/Kt,xn=v;Dr<Kt;++Dr,un-=Wr,xn-=en)wr.point(P(ke*l(xn),Ee)*T,p(ke*g(xn))*T),un<-90?(wr.point(-90,-180-un-De),wr.point(-90,-180-un+De)):(wr.point(90,un+De),wr.point(90,un-De));wr.lineEnd(),wr.polygonEnd()},sr},fe.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var _=t(54724);function st(Kt,qt){if(arguments.length<2&&(qt=Kt),1===qt)return _.y;if(qt===1/0)return dt;function fe(ge,De){var Ee=(0,_.y)(ge/qt,De);return Ee[0]*=Kt,Ee}return fe.invert=function(ge,De){var Ee=_.y.invert(ge/Kt,De);return Ee[0]*=qt,Ee},fe}function dt(Kt,qt){return[Kt*l(qt)/l(qt/=2),2*g(qt)]}function xt(){var Kt=2,qt=(0,A.U)(st),fe=qt(Kt);return fe.coefficient=function(ge){return arguments.length?qt(Kt=+ge):Kt},fe.scale(169.529)}function yt(Kt,qt,fe){var De,Ee,ke,ge=100;fe=void 0===fe?0:+fe,qt=+qt;do{(Ee=Kt(fe))===(ke=Kt(fe+w))&&(ke=Ee+w),fe-=De=-1*w*(Ee-qt)/(Ee-ke)}while(ge-- >0&&y(De)>w);return ge<0?NaN:fe}function St(Kt,qt,fe){return void 0===qt&&(qt=40),void 0===fe&&(fe=d),function(ge,De,Ee,ke){var cr,br,sr;Ee=void 0===Ee?0:+Ee,ke=void 0===ke?0:+ke;for(var wr=0;wr<qt;wr++){var Dr=Kt(Ee,ke),Wr=Dr[0]-ge,en=Dr[1]-De;if(y(Wr)<fe&&y(en)<fe)break;var un=Wr*Wr+en*en;if(un>cr)Ee-=br/=2,ke-=sr/=2;else{cr=un;var xn=(Ee>0?-1:1)*fe,Pn=(ke>0?-1:1)*fe,ia=Kt(Ee+xn,ke),wa=Kt(Ee,ke+Pn),Ea=(ia[0]-Dr[0])/xn,Aa=(ia[1]-Dr[1])/xn,La=(wa[0]-Dr[0])/Pn,Wa=(wa[1]-Dr[1])/Pn,Ti=Wa*Ea-Aa*La,di=(y(Ti)<.5?.5:1)/Ti;if(Ee+=br=(en*La-Wr*Wa)*di,ke+=sr=(Wr*Aa-en*Ea)*di,y(br)<fe&&y(sr)<fe)break}}return[Ee,ke]}}function Et(){var Kt=st(1.68,2);function ge(De,Ee){if(De+Ee<-1.4){var ke=(De-Ee+1.6)*(De+Ee+1.4)/8;De+=ke,Ee-=.8*ke*g(Ee+o/2)}var cr=Kt(De,Ee),br=(1-l(De*Ee))/12;return cr[1]<0&&(cr[0]*=1+br),cr[1]>0&&(cr[1]*=1+br/1.5*cr[0]*cr[0]),cr}return ge.invert=St(ge),ge}function Tt(){return(0,A.c)(Et()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function gt(Kt,qt){var De,fe=Kt*g(qt),ge=30;do{qt-=De=(qt+g(qt)-fe)/(1+l(qt))}while(y(De)>w&&--ge>0);return qt/2}function Mt(Kt,qt,fe){function ge(De,Ee){return[Kt*De*l(Ee=gt(fe,Ee)),qt*g(Ee)]}return ge.invert=function(De,Ee){return Ee=p(Ee/qt),[De/(Kt*l(Ee)),p((2*Ee+g(2*Ee))/fe)]},ge}dt.invert=function(Kt,qt){var fe=2*p(qt/2);return[Kt*l(fe/2)/l(fe),fe]};var Nt=Mt(E/v,E,o);function Gt(){return(0,A.c)(Nt).scale(169.529)}var Pt=2.00276;function re(Kt,qt){var fe=gt(o,qt);return[Pt*Kt/(1/l(qt)+1.11072/l(fe)),(qt+E*g(fe))/Pt]}function le(){return(0,A.c)(re).scale(160.857)}function It(Kt){var qt=0,fe=(0,A.U)(Kt),ge=fe(qt);return ge.parallel=function(De){return arguments.length?fe(qt=De*n):qt*T},ge}function Rt(Kt,qt){return[Kt*l(qt),qt]}function $t(){return(0,A.c)(Rt).scale(152.63)}function oe(Kt){if(!Kt)return Rt;var qt=1/c(Kt);function fe(ge,De){var Ee=qt+Kt-De,ke=Ee&&ge*l(De)/Ee;return[Ee*g(ke),qt-Ee*l(ke)]}return fe.invert=function(ge,De){var Ee=D(ge*ge+(De=qt-De)*De),ke=qt+Kt-Ee;return[Ee/l(ke)*P(ge,De),ke]},fe}function se(){return It(oe).scale(123.082).center([0,26.1441]).parallel(45)}function ve(Kt){function qt(fe,ge){var De=v-ge,Ee=De&&fe*Kt*g(De)/De;return[De*g(Ee)/Kt,v-De*l(Ee)]}return qt.invert=function(fe,ge){var De=fe*Kt,Ee=v-ge,ke=D(De*De+Ee*Ee),cr=P(De,Ee);return[(ke?ke/g(ke):1)*cr/Kt,v-ke]},qt}function de(){var Kt=.5,qt=(0,A.U)(ve),fe=qt(Kt);return fe.fraction=function(ge){return arguments.length?qt(Kt=+ge):Kt},fe.scale(158.837)}re.invert=function(Kt,qt){var Ee,ke,fe=Pt*qt,ge=qt<0?-M:M,De=25;do{ke=fe-E*g(ge),ge-=Ee=(g(2*ge)+2*ge-o*g(ke))/(2*l(2*ge)+2+o*l(ke)*E*l(ge))}while(y(Ee)>w&&--De>0);return ke=fe-E*g(ge),[Kt*(1/l(ke)+1.11072/l(ge))/Pt,ke]},Rt.invert=function(Kt,qt){return[Kt/l(qt),qt]};var jt=Mt(1,4/o,o);function Ct(){return(0,A.c)(jt).scale(152.63)}var Wt=t(24052),Xt=t(92992);function Ht(Kt,qt,fe,ge,De,Ee){var cr,ke=l(Ee);if(y(Kt)>1||y(Ee)>1)cr=F(fe*De+qt*ge*ke);else{var br=g(Kt/2),sr=g(Ee/2);cr=2*p(D(br*br+qt*ge*sr*sr))}return y(cr)>w?[cr,P(ge*g(Ee),qt*De-fe*ge*ke)]:[0,0]}function Bt(Kt,qt,fe){return F((Kt*Kt+qt*qt-fe*fe)/(2*Kt*qt))}function zt(Kt){return Kt-2*o*r((Kt+o)/(2*o))}function kt(Kt,qt,fe){for(var Ee,ge=[[Kt[0],Kt[1],g(Kt[1]),l(Kt[1])],[qt[0],qt[1],g(qt[1]),l(qt[1])],[fe[0],fe[1],g(fe[1]),l(fe[1])]],De=ge[2],ke=0;ke<3;++ke,De=Ee)De.v=Ht((Ee=ge[ke])[1]-De[1],De[3],De[2],Ee[3],Ee[2],Ee[0]-De[0]),De.point=[0,0];var cr=Bt(ge[0].v[0],ge[2].v[0],ge[1].v[0]),br=Bt(ge[0].v[0],ge[1].v[0],ge[2].v[0]),sr=o-cr;ge[2].point[1]=0,ge[0].point[0]=-(ge[1].point[0]=ge[0].v[0]/2);var wr=[ge[2].point[0]=ge[0].point[0]+ge[2].v[0]*l(cr),2*(ge[0].point[1]=ge[1].point[1]=ge[2].v[0]*g(cr))];return function Dr(Wr,en){var ia,un=g(en),xn=l(en),Pn=new Array(3);for(ia=0;ia<3;++ia){var wa=ge[ia];if(Pn[ia]=Ht(en-wa[1],wa[3],wa[2],xn,un,Wr-wa[0]),!Pn[ia][0])return wa.point;Pn[ia][1]=zt(Pn[ia][1]-wa.v[1])}var Ea=wr.slice();for(ia=0;ia<3;++ia){var La=Bt(ge[ia].v[0],Pn[ia][0],Pn[2==ia?0:ia+1][0]);Pn[ia][1]<0&&(La=-La),ia?1==ia?(Ea[0]-=Pn[ia][0]*l(La=br-La),Ea[1]-=Pn[ia][0]*g(La)):(Ea[0]+=Pn[ia][0]*l(La=sr-La),Ea[1]+=Pn[ia][0]*g(La)):(Ea[0]+=Pn[ia][0]*l(La),Ea[1]-=Pn[ia][0]*g(La))}return Ea[0]/=3,Ea[1]/=3,Ea}}function wt(Kt){return Kt[0]*=n,Kt[1]*=n,Kt}function ft(){return pt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function pt(Kt,qt,fe){var ge=(0,Wt.c)({type:"MultiPoint",coordinates:[Kt,qt,fe]}),De=[-ge[0],-ge[1]],Ee=(0,Xt.c)(De),ke=kt(wt(Ee(Kt)),wt(Ee(qt)),wt(Ee(fe)));ke.invert=St(ke);var cr=(0,A.c)(ke).rotate(De),br=cr.center;return delete cr.rotate,cr.center=function(sr){return arguments.length?br(Ee(sr)):Ee.invert(br())},cr.clipAngle(90)}function Dt(Kt,qt){var fe=D(1-g(qt));return[2/x*Kt*fe,x*(1-fe)]}function Qt(){return(0,A.c)(Dt).scale(95.6464).center([0,30])}function te(Kt){var qt=c(Kt);function fe(ge,De){return[ge,(ge?ge/g(ge):1)*(g(De)*l(ge)-qt*l(De))]}return fe.invert=qt?function(ge,De){ge&&(De*=g(ge)/ge);var Ee=l(ge);return[ge,2*P(D(Ee*Ee+qt*qt-De*De)-Ee,qt-De)]}:function(ge,De){return[ge,p(ge?De*c(ge)/ge:De)]},fe}function ee(){return It(te).scale(249.828).clipAngle(90)}Dt.invert=function(Kt,qt){var fe=(fe=qt/x-1)*fe;return[fe>0?Kt*D(o/fe)/2:0,p(1-fe)]};var Ne=D(3);function We(Kt,qt){return[Ne*Kt*(2*l(2*qt/3)-1)/x,Ne*x*g(qt/3)]}function ye(){return(0,A.c)(We).scale(156.19)}function Te(Kt){var qt=l(Kt);function fe(ge,De){return[ge*qt,g(De)/qt]}return fe.invert=function(ge,De){return[ge/qt,p(De*qt)]},fe}function Ge(){return It(Te).parallel(38.58).scale(195.044)}function hr(Kt){var qt=l(Kt);function fe(ge,De){return[ge*qt,(1+qt)*c(De/2)]}return fe.invert=function(ge,De){return[ge/qt,2*i(De/(1+qt))]},fe}function ce(){return It(hr).scale(124.75)}function Ue(Kt,qt){var fe=D(8/(3*o));return[fe*Kt*(1-y(qt)/o),fe*qt]}function Ye(){return(0,A.c)(Ue).scale(165.664)}function gr(Kt,qt){var fe=D(4-3*g(y(qt)));return[2/D(6*o)*Kt*fe,u(qt)*D(2*o/3)*(2-fe)]}function tr(){return(0,A.c)(gr).scale(165.664)}function he(Kt,qt){var fe=D(o*(4+o));return[2/fe*Kt*(1+D(1-4*qt*qt/(o*o))),4/fe*qt]}function ne(){return(0,A.c)(he).scale(180.739)}function pe(Kt,qt){var fe=(2+v)*g(qt);qt/=2;for(var ge=0,De=1/0;ge<10&&y(De)>w;ge++){var Ee=l(qt);qt-=De=(qt+g(qt)*(Ee+2)-fe)/(2*Ee*(1+Ee))}return[2/D(o*(4+o))*Kt*(1+l(qt)),2*D(o/(4+o))*g(qt)]}function be(){return(0,A.c)(pe).scale(180.739)}function Se(Kt,qt){return[Kt*(1+l(qt))/D(2+o),2*qt/D(2+o)]}function Me(){return(0,A.c)(Se).scale(173.044)}function Ie(Kt,qt){for(var fe=(1+v)*g(qt),ge=0,De=1/0;ge<10&&y(De)>w;ge++)qt-=De=(qt+g(qt)-fe)/(1+l(qt));return fe=D(2+o),[Kt*(1+l(qt))/fe,2*qt/fe]}function Fe(){return(0,A.c)(Ie).scale(173.044)}We.invert=function(Kt,qt){var fe=3*p(qt/(Ne*x));return[x*Kt/(Ne*(2*l(2*fe/3)-1)),fe]},Ue.invert=function(Kt,qt){var fe=D(8/(3*o)),ge=qt/fe;return[Kt/(fe*(1-y(ge)/o)),ge]},gr.invert=function(Kt,qt){var fe=2-y(qt)/D(2*o/3);return[Kt*D(6*o)/(2*fe),u(qt)*p((4-fe*fe)/3)]},he.invert=function(Kt,qt){var fe=D(o*(4+o))/2;return[Kt*fe/(1+D(1-qt*qt*(4+o)/(4*o))),qt*fe/2]},pe.invert=function(Kt,qt){var fe=qt*D((4+o)/o)/2,ge=p(fe),De=l(ge);return[Kt/(2/D(o*(4+o))*(1+De)),p((ge+fe*(De+2))/(2+v))]},Se.invert=function(Kt,qt){var fe=D(2+o),ge=qt*fe/2;return[fe*Kt/(1+l(ge)),ge]},Ie.invert=function(Kt,qt){var fe=1+v,ge=D(fe/2);return[2*Kt*ge/(1+l(qt*=ge)),p((qt+g(qt))/fe)]};var Ze=3+2*E;function nr(Kt,qt){var fe=g(Kt/=2),ge=l(Kt),De=D(l(qt)),Ee=l(qt/=2),ke=g(qt)/(Ee+E*ge*De),cr=D(2/(1+ke*ke)),br=D((E*Ee+(ge+fe)*De)/(E*Ee+(ge-fe)*De));return[Ze*(cr*(br-1/br)-2*e(br)),Ze*(cr*ke*(br+1/br)-2*i(ke))]}function ir(){return(0,A.c)(nr).scale(62.5271)}nr.invert=function(Kt,qt){if(!(Ee=K.invert(Kt/1.2,1.065*qt)))return null;var Ee,fe=Ee[0],ge=Ee[1],De=20;Kt/=Ze,qt/=Ze;do{var ke=fe/2,cr=ge/2,br=g(ke),sr=l(ke),wr=g(cr),Dr=l(cr),Wr=l(ge),en=D(Wr),un=wr/(Dr+E*sr*en),xn=un*un,Pn=D(2/(1+xn)),Ea=(E*Dr+(sr+br)*en)/(E*Dr+(sr-br)*en),Aa=D(Ea),La=Aa-1/Aa,Wa=Aa+1/Aa,Ti=Pn*La-2*e(Aa)-Kt,di=Pn*un*Wa-2*i(un)-qt,ii=wr&&b*en*br*xn/wr,la=(E*sr*Dr+en)/(2*(Dr+E*sr*en)*(Dr+E*sr*en)*en),yi=-.5*un*Pn*Pn*Pn,So=yi*ii,ds=yi*la,ot=(ot=2*Dr+E*en*(sr-br))*ot*Aa,bt=(E*sr*Dr*en+Wr)/ot,Ft=-E*br*wr/(en*ot),Yt=La*So-2*bt/Aa+Pn*(bt+bt/Ea),_t=La*ds-2*Ft/Aa+Pn*(Ft+Ft/Ea),ie=un*Wa*So-2*ii/(1+xn)+Pn*Wa*ii+Pn*un*(bt-bt/Ea),Pe=un*Wa*ds-2*la/(1+xn)+Pn*Wa*la+Pn*un*(Ft-Ft/Ea),xe=_t*ie-Pe*Yt;if(!xe)break;var Oe=(di*_t-Ti*Pe)/xe,Qe=(Ti*ie-di*Yt)/xe;fe-=Oe,ge=s(-v,a(v,ge-Qe))}while((y(Oe)>w||y(Qe)>w)&&--De>0);return y(y(ge)-v)<w?[0,ge]:De&&[fe,ge]};var lr=l(35*n);function Ot(Kt,qt){var fe=c(qt/2);return[Kt*lr*D(1-fe*fe),(1+lr)*fe]}function Ut(){return(0,A.c)(Ot).scale(137.152)}function Ce(Kt,qt){var fe=qt/2,ge=l(fe);return[2*Kt/x*l(qt)*ge*ge,x*c(fe)]}function Le(){return(0,A.c)(Ce).scale(135.264)}function Xe(Kt){var qt=1-Kt,fe=Ee(o,0)[0]-Ee(-o,0)[0],De=D(2*(Ee(0,v)[1]-Ee(0,-v)[1])/fe);function Ee(br,sr){var wr=l(sr),Dr=g(sr);return[wr/(qt+Kt*wr)*br,qt*sr+Kt*Dr]}function ke(br,sr){var wr=Ee(br,sr);return[wr[0]*De,wr[1]/De]}function cr(br){return ke(0,br)[1]}return ke.invert=function(br,sr){var wr=yt(cr,sr);return[br/De*(Kt+qt/l(wr)),wr]},ke}function _e(){var Kt=.5,qt=(0,A.U)(Xe),fe=qt(Kt);return fe.alpha=function(ge){return arguments.length?qt(Kt=+ge):Kt},fe.scale(168.725)}Ot.invert=function(Kt,qt){var fe=qt/(1+lr);return[Kt&&Kt/(lr*D(1-fe*fe)),2*i(fe)]},Ce.invert=function(Kt,qt){var fe=i(qt/x),ge=l(fe),De=2*fe;return[Kt*x/2/(l(De)*ge*ge),De]};var fr=t(4888),$e=t(69604);function Re(Kt){return[Kt[0]/2,p(c(Kt[1]/2*n))*T]}function or(Kt){return[2*Kt[0],2*i(g(Kt[1]*n))*T]}function dr(Kt){null==Kt&&(Kt=fr.c);var qt=Kt(),fe=(0,$e.c)().scale(T).precision(0).clipAngle(null).translate([0,0]);function ge(Ee){return qt(Re(Ee))}function De(Ee){ge[Ee]=function(){return arguments.length?(qt[Ee].apply(qt,arguments),ge):qt[Ee]()}}return qt.invert&&(ge.invert=function(Ee){return or(qt.invert(Ee))}),ge.stream=function(Ee){var ke=qt.stream(Ee),cr=fe.stream({point:function(br,sr){ke.point(br/2,p(c(-sr/2*n))*T)},lineStart:function(){ke.lineStart()},lineEnd:function(){ke.lineEnd()},polygonStart:function(){ke.polygonStart()},polygonEnd:function(){ke.polygonEnd()}});return cr.sphere=ke.sphere,cr},ge.rotate=function(Ee){return arguments.length?(fe.rotate(Ee),ge):fe.rotate()},ge.center=function(Ee){return arguments.length?(qt.center(Re(Ee)),ge):or(qt.center())},De("angle"),De("clipAngle"),De("clipExtent"),De("fitExtent"),De("fitHeight"),De("fitSize"),De("fitWidth"),De("scale"),De("translate"),De("precision"),ge.scale(249.5)}function pr(Kt,qt){var fe=2*o/qt,ge=Kt*Kt;function De(Ee,ke){var cr=(0,Q.O)(Ee,ke),br=cr[0],sr=cr[1],wr=br*br+sr*sr;if(wr>ge){var Dr=D(wr),Wr=P(sr,br),en=fe*f(Wr/fe),un=Wr-en,xn=Kt*l(un),Pn=(Kt*g(un)-un*g(xn))/(v-xn),ia=Cr(un,Pn),wa=(o-Kt)/$r(ia,xn,o);br=Dr;var Aa,Ea=50;do{br-=Aa=(Kt+$r(ia,xn,br)*wa-Dr)/(ia(br)*wa)}while(y(Aa)>w&&--Ea>0);sr=un*g(br),br<v&&(sr-=Pn*(br-v));var La=g(en),Wa=l(en);cr[0]=br*Wa-sr*La,cr[1]=br*La+sr*Wa}return cr}return De.invert=function(Ee,ke){var cr=Ee*Ee+ke*ke;if(cr>ge){var br=D(cr),sr=P(ke,Ee),wr=fe*f(sr/fe),Dr=sr-wr;Ee=br*l(Dr),ke=br*g(Dr);for(var Wr=Ee-v,en=g(Ee),un=ke/en,xn=Ee<v?1/0:0,Pn=10;;){var ia=Kt*g(un),wa=Kt*l(un),Ea=g(wa),Aa=v-wa,La=(ia-un*Ea)/Aa,Wa=Cr(un,La);if(y(xn)<d||!--Pn)break;un-=xn=(un*en-La*Wr-ke)/(en-2*Wr*(Aa*(wa+un*ia*l(wa)-Ea)-ia*(ia-un*Ea))/(Aa*Aa))}Ee=(br=Kt+$r(Wa,wa,Ee)*(o-Kt)/$r(Wa,wa,o))*l(sr=wr+un),ke=br*g(sr)}return Q.O.invert(Ee,ke)},De}function Cr(Kt,qt){return function(fe){var ge=Kt*l(fe);return fe<v&&(ge-=qt),D(1+ge*ge)}}function $r(Kt,qt,fe){for(var De=(fe-qt)/50,Ee=Kt(qt)+Kt(fe),ke=1,cr=qt;ke<50;++ke)Ee+=2*Kt(cr+=De);return.5*Ee*De}function Ar(){var Kt=6,qt=30*n,fe=l(qt),ge=g(qt),De=(0,A.U)(pr),Ee=De(qt,Kt),ke=Ee.stream,br=-l(.01*n),sr=g(.01*n);return Ee.radius=function(wr){return arguments.length?(fe=l(qt=wr*n),ge=g(qt),De(qt,Kt)):qt*T},Ee.lobes=function(wr){return arguments.length?De(qt,Kt=+wr):Kt},Ee.stream=function(wr){var Dr=Ee.rotate(),Wr=ke(wr),en=(Ee.rotate([0,0]),ke(wr));return Ee.rotate(Dr),Wr.sphere=function(){en.polygonStart(),en.lineStart();for(var un=0,xn=2*o/Kt,Pn=0;un<Kt;++un,Pn-=xn)en.point(P(sr*l(Pn),br)*T,p(sr*g(Pn))*T),en.point(P(ge*l(Pn-xn/2),fe)*T,p(ge*g(Pn-xn/2))*T);en.lineEnd(),en.polygonEnd()},Wr},Ee.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Gr(Kt,qt,fe,ge,De,Ee,ke,cr){function br(sr,wr){if(!wr)return[Kt*sr/o,0];var Dr=wr*wr,Wr=Kt+Dr*(qt+Dr*(fe+Dr*ge)),en=wr*(De-1+Dr*(Ee-cr+Dr*ke)),un=(Wr*Wr+en*en)/(2*en),xn=sr*p(Wr/un)/o;return[un*g(xn),wr*(1+Dr*cr)+un*(1-l(xn))]}return arguments.length<8&&(cr=0),br.invert=function(sr,wr){var en,un,Dr=o*sr/Kt,Wr=wr,xn=50;do{var Pn=Wr*Wr,ia=Kt+Pn*(qt+Pn*(fe+Pn*ge)),wa=Wr*(De-1+Pn*(Ee-cr+Pn*ke)),Ea=ia*ia+wa*wa,Aa=2*wa,La=Ea/Aa,Wa=La*La,Ti=p(ia/La)/o,di=Dr*Ti,ii=ia*ia,la=(2*qt+Pn*(4*fe+6*Pn*ge))*Wr,yi=De+Pn*(3*Ee+5*Pn*ke),ot=(2*(ia*la+wa*(yi-1))*Aa-Ea*(2*(yi-1)))/(Aa*Aa),bt=l(di),Ft=g(di),Yt=La*bt,_t=La*Ft,ie=Dr/o*(1/D(1-ii/Wa))*(la*La-ia*ot)/Wa,Pe=_t-sr,xe=Wr*(1+Pn*cr)+La-Yt-wr,Oe=ot*Ft+Yt*ie,Qe=Yt*Ti,qe=1+ot-(ot*bt-_t*ie),Lr=_t*Ti,Pr=Oe*Lr-qe*Qe;if(!Pr)break;Dr-=en=(xe*Oe-Pe*qe)/Pr,Wr-=un=(Pe*Lr-xe*Qe)/Pr}while((y(en)>w||y(un)>w)&&--xn>0);return[Dr,Wr]},br}var nn=Gr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function Ur(){return(0,A.c)(nn).scale(149.995)}var Tn=Gr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function bn(){return(0,A.c)(Tn).scale(153.93)}var ur=Gr(5/6*o,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Mr(){return(0,A.c)(ur).scale(130.945)}function Br(Kt,qt){var fe=Kt*Kt,ge=qt*qt;return[Kt*(1-.162388*ge)*(.87-952426e-9*fe*fe),qt*(1+ge/12)]}function Or(){return(0,A.c)(Br).scale(131.747)}Br.invert=function(Kt,qt){var Ee,fe=Kt,ge=qt,De=50;do{var ke=ge*ge;ge-=Ee=(ge*(1+ke/12)-qt)/(1+ke/4)}while(y(Ee)>w&&--De>0);De=50,Kt/=1-.162388*ke;do{var cr=(cr=fe*fe)*cr;fe-=Ee=(fe*(.87-952426e-9*cr)-Kt)/(.87-.00476213*cr)}while(y(Ee)>w&&--De>0);return[fe,ge]};var sn=Gr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function pn(){return(0,A.c)(sn).scale(131.087)}function gn(Kt){var qt=Kt(v,0)[0]-Kt(-v,0)[0];function fe(ge,De){var Ee=ge>0?-.5:.5,ke=Kt(ge+Ee*o,De);return ke[0]-=Ee*qt,ke}return Kt.invert&&(fe.invert=function(ge,De){var Ee=ge>0?-.5:.5,ke=Kt.invert(ge+Ee*qt,De),cr=ke[0]-Ee*o;return cr<-o?cr+=2*o:cr>o&&(cr-=2*o),ke[0]=cr,ke}),fe}function wn(Kt,qt){var fe=u(Kt),ge=u(qt),De=l(qt),Ee=l(Kt)*De,ke=g(Kt)*De,cr=g(ge*qt);Kt=y(P(ke,cr)),qt=p(Ee),y(Kt-v)>w&&(Kt%=v);var br=function Rn(Kt,qt){if(qt===v)return[0,0];var xn,Pn,fe=g(qt),ge=fe*fe,De=ge*ge,Ee=1+De,ke=1+3*De,cr=1-De,br=p(1/D(Ee)),sr=cr+ge*Ee*br,wr=(1-fe)/sr,Dr=D(wr),Wr=wr*Ee,en=D(Wr),un=Dr*cr;if(0===Kt)return[0,-(un+ge*en)];var ds,ia=l(qt),wa=1/ia,Ea=2*fe*ia,La=(-sr*ia-(-3*ge+br*ke)*Ea*(1-fe))/(sr*sr),ii=-wa*Ea,la=-wa*(ge*Ee*La+wr*ke*Ea),yi=-2*wa*(cr*(.5*La/Dr)-2*ge*Dr*Ea),So=4*Kt/o;if(Kt>.222*o||qt<o/4&&Kt>.175*o){if(xn=(un+ge*D(Wr*(1+De)-un*un))/(1+De),Kt>o/4)return[xn,xn];var ot=xn,bt=.5*xn;xn=.5*(bt+ot),Pn=50;do{var Yt=xn*(yi+ii*D(Wr-xn*xn))+la*p(xn/en)-So;if(!Yt)break;Yt<0?bt=xn:ot=xn,xn=.5*(bt+ot)}while(y(ot-bt)>w&&--Pn>0)}else{xn=w,Pn=25;do{var _t=xn*xn,ie=D(Wr-_t),Pe=yi+ii*ie,xe=xn*Pe+la*p(xn/en)-So;xn-=ds=ie?xe/(Pe+(la-ii*_t)/ie):0}while(y(ds)>w&&--Pn>0)}return[xn,-un-ge*D(Wr-xn*xn)]}(Kt>o/4?v-Kt:Kt,qt);return Kt>o/4&&(cr=br[0],br[0]=-br[1],br[1]=-cr),br[0]*=fe,br[1]*=-ge,br}function _n(){return(0,A.c)(gn(wn)).scale(239.75)}function qn(Kt,qt){var fe,ge,De,Ee,ke;if(qt<w)return[(Ee=g(Kt))-(fe=qt*(Kt-Ee*(ge=l(Kt)))/4)*ge,ge+fe*Ee,1-qt*Ee*Ee/2,Kt-fe];if(qt>=1-w)return fe=(1-qt)/4,De=1/(ge=z(Kt)),[(Ee=N(Kt))+fe*((ke=ge*k(Kt))-Kt)/(ge*ge),De-fe*Ee*De*(ke-Kt),De+fe*Ee*De*(ke+Kt),2*i(m(Kt))-v+fe*(ke-Kt)/ge];var cr=[1,0,0,0,0,0,0,0,0],br=[D(qt),0,0,0,0,0,0,0,0],sr=0;for(ge=D(1-qt),ke=1;y(br[sr]/cr[sr])>w&&sr<8;)fe=cr[sr++],br[sr]=(fe-ge)/2,cr[sr]=(fe+ge)/2,ge=D(fe*ge),ke*=2;De=ke*cr[sr]*Kt;do{De=(p(Ee=br[sr]*g(ge=De)/cr[sr])+De)/2}while(--sr);return[g(De),Ee=l(De),Ee/l(De-ge),De]}function yr(Kt,qt){if(!qt)return Kt;if(1===qt)return e(c(Kt/2+M));for(var fe=1,ge=D(1-qt),De=D(qt),Ee=0;y(De)>w;Ee++){if(Kt%o){var ke=i(ge*c(Kt)/fe);ke<0&&(ke+=o),Kt+=ke+~~(Kt/o)*o}else Kt+=Kt;De=(fe+ge)/2,ge=D(fe*ge),De=((fe=De)-ge)/2}return Kt/(h(2,Ee)*fe)}function tn(Kt,qt){var fe=(E-1)/(E+1),ge=D(1-fe*fe),De=yr(v,ge*ge),ke=e(c(o/4+y(qt)/2)),cr=m(-1*ke)/D(fe),br=function Qr(Kt,qt){var fe=Kt*Kt,ge=qt+1,De=1-fe-qt*qt;return[.5*((Kt>=0?v:-v)-P(De,2*Kt)),-.25*e(De*De+4*fe)+.5*e(ge*ge+fe)]}(cr*l(-1*Kt),cr*g(-1*Kt)),sr=function Qn(Kt,qt,fe){var ge=y(Kt),Ee=k(y(qt));if(ge){var ke=1/g(ge),cr=1/(c(ge)*c(ge)),br=-(cr+fe*(Ee*Ee*ke*ke)-1+fe),wr=(-br+D(br*br-(fe-1)*cr*4))/2;return[yr(i(1/D(wr)),fe)*u(Kt),yr(i(D((wr/cr-1)/fe)),1-fe)*u(qt)]}return[0,yr(i(Ee),1-fe)*u(qt)]}(br[0],br[1],ge*ge);return[-sr[1],(qt>=0?1:-1)*(.5*De-sr[0])]}function Fn(){return(0,A.c)(gn(tn)).scale(151.496)}wn.invert=function(Kt,qt){y(Kt)>1&&(Kt=2*u(Kt)-Kt),y(qt)>1&&(qt=2*u(qt)-qt);var fe=u(Kt),ge=u(qt),De=-fe*Kt,Ee=-ge*qt,ke=Ee/De<1,cr=function Kn(Kt,qt){for(var fe=0,ge=1,De=.5,Ee=50;;){var ke=De*De,cr=D(De),br=p(1/D(1+ke)),sr=1-ke+De*(1+ke)*br,wr=(1-cr)/sr,Dr=D(wr),Wr=wr*(1+ke),en=Dr*(1-ke),xn=D(Wr-Kt*Kt),Pn=qt+en+De*xn;if(y(ge-fe)<d||0==--Ee||0===Pn)break;Pn>0?fe=De:ge=De,De=.5*(fe+ge)}if(!Ee)return null;var ia=p(cr),wa=l(ia),Ea=1/wa,Aa=2*cr*wa,Wa=(-sr*wa-(-3*De+br*(1+3*ke))*Aa*(1-cr))/(sr*sr);return[o/4*(Kt*(-2*Ea*(.5*Wa/Dr*(1-ke)-2*De*Dr*Aa)+-Ea*Aa*xn)+-Ea*(De*(1+ke)*Wa+wr*(1+3*ke)*Aa)*p(Kt/D(Wr))),ia]}(ke?Ee:De,ke?De:Ee),br=cr[0],sr=cr[1],wr=l(sr);return ke&&(br=-v-br),[fe*(P(g(br)*wr,-g(sr))+o),ge*p(l(br)*wr)]},tn.invert=function(Kt,qt){var fe=(E-1)/(E+1),ge=D(1-fe*fe),ke=function ua(Kt,qt,fe){var ge,De,Ee;return Kt?(ge=qn(Kt,fe),qt?(De=qn(qt,1-fe),[[ge[0]*De[2]/(Ee=De[1]*De[1]+fe*ge[0]*ge[0]*De[0]*De[0]),ge[1]*ge[2]*De[0]*De[1]/Ee],[ge[1]*De[1]/Ee,-ge[0]*ge[2]*De[0]*De[2]/Ee],[ge[2]*De[1]*De[2]/Ee,-fe*ge[0]*ge[1]*De[0]/Ee]]):[[ge[0],0],[ge[1],0],[ge[2],0]]):[[0,(De=qn(qt,1-fe))[0]/De[1]],[1/De[1],0],[De[2]/De[1],0]]}(.5*yr(v,ge*ge)-qt,-Kt,ge*ge),cr=function dn(Kt,qt){var fe=qt[0]*qt[0]+qt[1]*qt[1];return[(Kt[0]*qt[0]+Kt[1]*qt[1])/fe,(Kt[1]*qt[0]-Kt[0]*qt[1])/fe]}(ke[0],ke[1]);return[P(cr[1],cr[0])/-1,2*i(m(-.5*e(fe*cr[0]*cr[0]+fe*cr[1]*cr[1])))-v]};var Sn=t(61780);function En(Kt){var qt=g(Kt),fe=l(Kt),ge=kn(Kt);function De(Ee,ke){var cr=ge(Ee,ke);Ee=cr[0];var br=g(ke=cr[1]),sr=l(ke),wr=l(Ee),Dr=F(qt*br+fe*sr*wr),Wr=g(Dr),en=y(Wr)>w?Dr/Wr:1;return[en*fe*g(Ee),(y(Ee)>v?en:-en)*(qt*sr-fe*br*wr)]}return ge.invert=kn(-Kt),De.invert=function(Ee,ke){var cr=D(Ee*Ee+ke*ke),br=-g(cr),sr=l(cr),wr=cr*sr,Dr=-ke*br,Wr=cr*qt,en=D(wr*wr+Dr*Dr-Wr*Wr),un=P(wr*Wr+Dr*en,Dr*Wr-wr*en),xn=(cr>v?-1:1)*P(Ee*br,cr*l(un)*sr+ke*g(un)*br);return ge.invert(xn,un)},De}function kn(Kt){var qt=g(Kt),fe=l(Kt);return function(ge,De){var Ee=l(De),ke=l(ge)*Ee,cr=g(ge)*Ee,br=g(De);return[P(cr,ke*fe-br*qt),p(br*fe+ke*qt)]}}function Hn(){var Kt=0,qt=(0,A.U)(En),fe=qt(Kt),ge=fe.rotate,De=fe.stream,Ee=(0,Sn.c)();return fe.parallel=function(ke){if(!arguments.length)return Kt*T;var cr=fe.rotate();return qt(Kt=ke*n).rotate(cr)},fe.rotate=function(ke){return arguments.length?(ge.call(fe,[ke[0],ke[1]-Kt*T]),Ee.center([-ke[0],-ke[1]]),fe):((ke=ge.call(fe))[1]+=Kt*T,ke)},fe.stream=function(ke){return(ke=De(ke)).sphere=function(){ke.polygonStart();var Dr,br=Ee.radius(89.99)().coordinates[0],sr=br.length-1,wr=-1;for(ke.lineStart();++wr<sr;)ke.point((Dr=br[wr])[0],Dr[1]);for(ke.lineEnd(),sr=(br=Ee.radius(90.01)().coordinates[0]).length-1,ke.lineStart();--wr>=0;)ke.point((Dr=br[wr])[0],Dr[1]);ke.lineEnd(),ke.polygonEnd()},ke},fe.scale(79.4187).parallel(45).clipAngle(179.999)}var ta=t(84706),Sa=t(16016),Fr=p(1-1/3)*T,Tr=Te(0);function kr(Kt){var qt=Fr*n,fe=Dt(o,qt)[0]-Dt(-o,qt)[0],ge=Tr(0,qt)[1],De=Dt(0,qt)[1],Ee=x-De,ke=S/Kt,cr=4/S,br=ge+Ee*Ee*4/S;function sr(wr,Dr){var Wr,en=y(Dr);if(en>qt){var un=a(Kt-1,s(0,r((wr+o)/ke)));(Wr=Dt(wr+=o*(Kt-1)/Kt-un*ke,en))[0]=Wr[0]*S/fe-S*(Kt-1)/(2*Kt)+un*S/Kt,Wr[1]=ge+4*(Wr[1]-De)*Ee/S,Dr<0&&(Wr[1]=-Wr[1])}else Wr=Tr(wr,Dr);return Wr[0]*=cr,Wr[1]/=br,Wr}return sr.invert=function(wr,Dr){wr/=cr;var Wr=y(Dr*=br);if(Wr>ge){var en=a(Kt-1,s(0,r((wr+o)/ke))),un=Dt.invert(wr=(wr+o*(Kt-1)/Kt-en*ke)*fe/S,.25*(Wr-ge)*S/Ee+De);return un[0]-=o*(Kt-1)/Kt-en*ke,Dr<0&&(un[1]=-un[1]),un}return Tr.invert(wr,Dr)},sr}function yn(Kt,qt){return[Kt,1&qt?90-w:Fr]}function Cn(Kt,qt){return[Kt,1&qt?-90+w:-Fr]}function hn(Kt){return[Kt[0]*(1-w),Kt[1]]}function Er(){var Kt=4,qt=(0,A.U)(kr),fe=qt(Kt),ge=fe.stream;return fe.lobes=function(De){return arguments.length?qt(Kt=+De):Kt},fe.stream=function(De){var Ee=fe.rotate(),ke=ge(De),cr=(fe.rotate([0,0]),ge(De));return fe.rotate(Ee),ke.sphere=function(){(0,Sa.c)(function ln(Kt){var qt=[].concat((0,ta.ik)(-180,180+Kt/2,Kt).map(yn),(0,ta.ik)(180,-180-Kt/2,-Kt).map(Cn));return{type:"Polygon",coordinates:[180===Kt?qt.map(hn):qt]}}(180/Kt),cr)},ke},fe.scale(239.75)}function Yr(Kt){var Ee,qt=1+Kt,ge=p(g(1/qt)),De=2*D(o/(Ee=o+4*ge*qt)),ke=.5*De*(qt+D(Kt*(2+Kt))),cr=Kt*Kt,br=qt*qt;function sr(wr,Dr){var en,un,Wr=1-g(Dr);if(Wr&&Wr<2){var ia,xn=v-Dr,Pn=25;do{var wa=g(xn),Ea=l(xn),Aa=ge+P(wa,qt-Ea),La=1+br-2*qt*Ea;xn-=ia=(xn-cr*ge-qt*wa+La*Aa-.5*Wr*Ee)/(2*qt*wa*Aa)}while(y(ia)>d&&--Pn>0);en=De*D(La),un=wr*Aa/o}else en=De*(Kt+Wr),un=wr*ge/o;return[en*g(un),ke-en*l(un)]}return sr.invert=function(wr,Dr){var Wr=wr*wr+(Dr-=ke)*Dr,en=(1+br-Wr/(De*De))/(2*qt),un=F(en),xn=g(un),Pn=ge+P(xn,qt-en);return[p(wr/D(Wr))*o/Pn,p(1-2*(un-cr*ge-qt*xn+(1+br-2*qt*en)*Pn)/Ee)]},sr}function je(){var Kt=1,qt=(0,A.U)(Yr),fe=qt(Kt);return fe.ratio=function(ge){return arguments.length?qt(Kt=+ge):Kt},fe.scale(167.774).center([0,18.67])}var xr=.7109889596207567,Be=.0528035274542;function Ve(Kt,qt){return qt>-xr?((Kt=Nt(Kt,qt))[1]+=Be,Kt):Rt(Kt,qt)}function vr(){return(0,A.c)(Ve).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Hr(Kt,qt){return y(qt)>xr?((Kt=Nt(Kt,qt))[1]-=qt>0?Be:-Be,Kt):Rt(Kt,qt)}function rn(){return(0,A.c)(Hr).scale(152.63)}function Zn(Kt,qt,fe,ge){var De=D(4*o/(2*fe+(1+Kt-qt/2)*g(2*fe)+(Kt+qt)/2*g(4*fe)+qt/2*g(6*fe))),Ee=D(ge*g(fe)*D((1+Kt*l(2*fe)+qt*l(4*fe))/(1+Kt+qt))),ke=fe*br(1);function cr(Dr){return D(1+Kt*l(2*Dr)+qt*l(4*Dr))}function br(Dr){var Wr=Dr*fe;return(2*Wr+(1+Kt-qt/2)*g(2*Wr)+(Kt+qt)/2*g(4*Wr)+qt/2*g(6*Wr))/fe}function sr(Dr){return cr(Dr)*g(Dr)}var wr=function(Dr,Wr){var en=fe*yt(br,ke*g(Wr)/fe,Wr/o);isNaN(en)&&(en=fe*u(Wr));var un=De*cr(en);return[un*Ee*Dr/o*l(en),un/Ee*g(en)]};return wr.invert=function(Dr,Wr){var en=yt(sr,Wr*Ee/De);return[Dr*o/(l(en)*De*Ee*cr(en)),p(fe*br(en/fe)/ke)]},0===fe&&(De=D(ge/o),(wr=function(Dr,Wr){return[Dr*De,g(Wr)/De]}).invert=function(Dr,Wr){return[Dr/De,p(Wr*De)]}),wr}function $n(){var Kt=1,qt=0,fe=45*n,ge=2,De=(0,A.U)(Zn),Ee=De(Kt,qt,fe,ge);return Ee.a=function(ke){return arguments.length?De(Kt=+ke,qt,fe,ge):Kt},Ee.b=function(ke){return arguments.length?De(Kt,qt=+ke,fe,ge):qt},Ee.psiMax=function(ke){return arguments.length?De(Kt,qt,fe=+ke*n,ge):fe*T},Ee.ratio=function(ke){return arguments.length?De(Kt,qt,fe,ge=+ke):ge},Ee.scale(180.739)}function na(Kt,qt,fe,ge,De,Ee,ke,cr,br,sr,wr){if(wr.nanEncountered)return NaN;var Dr,Wr,en,un,xn,Pn,ia,wa,Ea,Aa;if(Wr=Kt(qt+.25*(Dr=fe-qt)),en=Kt(fe-.25*Dr),isNaN(Wr))wr.nanEncountered=!0;else{if(!isNaN(en))return Aa=((Pn=(un=Dr*(ge+4*Wr+De)/12)+(xn=Dr*(De+4*en+Ee)/12))-ke)/15,sr>br?(wr.maxDepthCount++,Pn+Aa):Math.abs(Aa)<cr?Pn+Aa:(wa=na(Kt,qt,ia=qt+.5*Dr,ge,Wr,De,un,.5*cr,br,sr+1,wr),isNaN(wa)?(wr.nanEncountered=!0,NaN):(Ea=na(Kt,ia,fe,De,en,Ee,xn,.5*cr,br,sr+1,wr),isNaN(Ea)?(wr.nanEncountered=!0,NaN):wa+Ea));wr.nanEncountered=!0}}function Ta(Kt,qt,fe,ge,De){void 0===ge&&(ge=1e-8),void 0===De&&(De=20);var ke=Kt(qt),cr=Kt(.5*(qt+fe)),br=Kt(fe);return na(Kt,qt,fe,ke,cr,br,(ke+4*cr+br)*(fe-qt)/6,ge,De,1,{maxDepthCount:0,nanEncountered:!1})}function ni(Kt,qt,fe){function ge(en){return Kt+(1-Kt)*h(1-h(en,qt),1/qt)}function De(en){return Ta(ge,0,en,1e-4)}for(var Ee=1/De(1),ke=1e3,cr=(1+1e-8)*Ee,br=[],sr=0;sr<=ke;sr++)br.push(De(sr/ke)*cr);function wr(en){var un=0,xn=ke,Pn=500;do{br[Pn]>en?xn=Pn:un=Pn,Pn=un+xn>>1}while(Pn>un);var ia=br[Pn+1]-br[Pn];return ia&&(ia=(en-br[Pn+1])/ia),(Pn+1+ia)/ke}var Dr=2*wr(1)/o*Ee/fe,Wr=function(en,un){var xn=wr(y(g(un))),Pn=ge(xn)*en;return xn/=Dr,[Pn,un>=0?xn:-xn]};return Wr.invert=function(en,un){var xn;return y(un*=Dr)<1&&(xn=u(un)*p(De(y(un))*Ee)),[en/ge(y(un)),xn]},Wr}function ei(){var Kt=0,qt=2.5,fe=1.183136,ge=(0,A.U)(ni),De=ge(Kt,qt,fe);return De.alpha=function(Ee){return arguments.length?ge(Kt=+Ee,qt,fe):Kt},De.k=function(Ee){return arguments.length?ge(Kt,qt=+Ee,fe):qt},De.gamma=function(Ee){return arguments.length?ge(Kt,qt,fe=+Ee):fe},De.scale(152.63)}function lo(Kt,qt){return y(Kt[0]-qt[0])<w&&y(Kt[1]-qt[1])<w}function ro(Kt,qt){for(var Ee,ke,cr,fe=-1,ge=Kt.length,De=Kt[0],br=[];++fe<ge;){ke=((Ee=Kt[fe])[0]-De[0])/qt,cr=(Ee[1]-De[1])/qt;for(var sr=0;sr<qt;++sr)br.push([De[0]+sr*ke,De[1]+sr*cr]);De=Ee}return br.push(Ee),br}function ss(Kt){var fe,ge,Ee,ke,br,qt=[],sr=Kt[0].length;for(br=0;br<sr;++br)qt.push(ro([[(ge=(fe=Kt[0][br])[0][0])+w,fe[0][1]+w],[ge+w,(Ee=fe[1][1])-w],[(ke=fe[2][0])-w,Ee-w],[ke-w,fe[2][1]+w]],30));for(br=Kt[1].length-1;br>=0;--br)qt.push(ro([[(ke=(fe=Kt[1][br])[2][0])-w,fe[2][1]-w],[ke-w,(Ee=fe[1][1])+w],[(ge=fe[0][0])+w,Ee+w],[ge+w,fe[0][1]-w]],30));return{type:"Polygon",coordinates:[(0,ta.Uf)(qt)]}}function Qi(Kt,qt,fe){var ge,De;function Ee(br,sr){for(var wr=sr<0?-1:1,Dr=qt[+(sr<0)],Wr=0,en=Dr.length-1;Wr<en&&br>Dr[Wr][2][0];++Wr);var un=Kt(br-Dr[Wr][1][0],sr);return un[0]+=Kt(Dr[Wr][1][0],wr*sr>wr*Dr[Wr][0][1]?Dr[Wr][0][1]:sr)[0],un}fe?Ee.invert=fe(Ee):Kt.invert&&(Ee.invert=function(br,sr){for(var wr=De[+(sr<0)],Dr=qt[+(sr<0)],Wr=0,en=wr.length;Wr<en;++Wr){var un=wr[Wr];if(un[0][0]<=br&&br<un[1][0]&&un[0][1]<=sr&&sr<un[1][1]){var xn=Kt.invert(br-Kt(Dr[Wr][1][0],0)[0],sr);return xn[0]+=Dr[Wr][1][0],lo(Ee(xn[0],xn[1]),[br,sr])?xn:null}}});var ke=(0,A.c)(Ee),cr=ke.stream;return ke.stream=function(br){var sr=ke.rotate(),wr=cr(br),Dr=(ke.rotate([0,0]),cr(br));return ke.rotate(sr),wr.sphere=function(){(0,Sa.c)(ge,Dr)},wr},ke.lobes=function(br){return arguments.length?(ge=ss(br),qt=br.map(function(sr){return sr.map(function(wr){return[[wr[0][0]*n,wr[0][1]*n],[wr[1][0]*n,wr[1][1]*n],[wr[2][0]*n,wr[2][1]*n]]})}),De=qt.map(function(sr){return sr.map(function(wr){var xn,Dr=Kt(wr[0][0],wr[0][1])[0],Wr=Kt(wr[2][0],wr[2][1])[0],en=Kt(wr[1][0],wr[0][1])[1],un=Kt(wr[1][0],wr[1][1])[1];return en>un&&(xn=en,en=un,un=xn),[[Dr,en],[Wr,un]]})}),ke):qt.map(function(sr){return sr.map(function(wr){return[[wr[0][0]*T,wr[0][1]*T],[wr[1][0]*T,wr[1][1]*T],[wr[2][0]*T,wr[2][1]*T]]})})},null!=qt&&ke.lobes(qt),ke}Ve.invert=function(Kt,qt){return qt>-xr?Nt.invert(Kt,qt-Be):Rt.invert(Kt,qt)},Hr.invert=function(Kt,qt){return y(qt)>xr?Nt.invert(Kt,qt+(qt>0?Be:-Be)):Rt.invert(Kt,qt)};var al=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function zs(){return Qi(re,al).scale(160.857)}var ti=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ws(){return Qi(Hr,ti).scale(152.63)}var _l=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ri(){return Qi(Nt,_l).scale(169.529)}var no=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Cu(){return Qi(Nt,no).scale(169.529).rotate([20,0])}var Fl=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Ii(){return Qi(Ve,Fl,St).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var jo=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function mo(){return Qi(Rt,jo).scale(152.63).rotate([-20,0])}function Li(Kt,qt){return[3/S*Kt*D(o*o/3-qt*qt),qt]}function kl(){return(0,A.c)(Li).scale(158.837)}function wi(Kt){function qt(fe,ge){if(y(y(ge)-v)<w)return[0,ge<0?-2:2];var De=g(ge),Ee=h((1+De)/(1-De),Kt/2),ke=.5*(Ee+1/Ee)+l(fe*=Kt);return[2*g(fe)/ke,(Ee-1/Ee)/ke]}return qt.invert=function(fe,ge){var De=y(ge);if(y(De-2)<w)return fe?null:[0,u(ge)*v];if(De>2)return null;var Ee=(fe/=2)*fe,ke=(ge/=2)*ge,cr=2*ge/(1+Ee+ke);return cr=h((1+cr)/(1-cr),1/Kt),[P(2*fe,1-Ee-ke)/Kt,p((cr-1)/(cr+1))]},qt}function ko(){var Kt=.5,qt=(0,A.U)(wi),fe=qt(Kt);return fe.spacing=function(ge){return arguments.length?qt(Kt=+ge):Kt},fe.scale(124.75)}Li.invert=function(Kt,qt){return[S/3*Kt/D(o*o/3-qt*qt),qt]};var uo=o/E;function il(Kt,qt){return[Kt*(1+D(l(qt)))/2,qt/(l(qt/2)*l(Kt/6))]}function Ui(){return(0,A.c)(il).scale(97.2672)}function Os(Kt,qt){var fe=Kt*Kt,ge=qt*qt;return[Kt*(.975534+ge*(-.0143059*fe-.119161+-.0547009*ge)),qt*(1.00384+fe*(.0802894+-.02855*ge+199025e-9*fe)+ge*(.0998909+-.0491032*ge))]}function Ko(){return(0,A.c)(Os).scale(139.98)}function Oi(Kt,qt){return[g(Kt)/l(qt),c(qt)*l(Kt)]}function of(){return(0,A.c)(Oi).scale(144.049).clipAngle(89.999)}function Jo(Kt){var qt=l(Kt),fe=c(M+Kt/2);function ge(De,Ee){var ke=Ee-Kt,cr=y(ke)<w?De*qt:y(cr=M+Ee/2)<w||y(y(cr)-v)<w?0:De*ke/e(c(cr)/fe);return[cr,ke]}return ge.invert=function(De,Ee){var ke,cr=Ee+Kt;return[y(Ee)<w?De/qt:y(ke=M+cr/2)<w||y(y(ke)-v)<w?0:De*e(c(ke)/fe)/Ee,cr]},ge}function Qo(){return It(Jo).parallel(40).scale(158.837)}function Bs(Kt,qt){return[Kt,1.25*e(c(M+.4*qt))]}function sf(){return(0,A.c)(Bs).scale(108.318)}function Lu(Kt){var qt=Kt.length-1;function fe(ge,De){for(var en,Ee=l(De),ke=2/(1+Ee*l(ge)),cr=ke*Ee*g(ge),br=ke*g(De),sr=qt,wr=Kt[sr],Dr=wr[0],Wr=wr[1];--sr>=0;)Dr=(wr=Kt[sr])[0]+cr*(en=Dr)-br*Wr,Wr=wr[1]+cr*Wr+br*en;return[Dr=cr*(en=Dr)-br*Wr,Wr=cr*Wr+br*en]}return fe.invert=function(ge,De){var Ee=20,ke=ge,cr=De;do{for(var un,br=qt,sr=Kt[br],wr=sr[0],Dr=sr[1],Wr=0,en=0;--br>=0;)Wr=wr+ke*(un=Wr)-cr*en,en=Dr+ke*en+cr*un,wr=(sr=Kt[br])[0]+ke*(un=wr)-cr*Dr,Dr=sr[1]+ke*Dr+cr*un;var Pn,ia,xn=(Wr=wr+ke*(un=Wr)-cr*en)*Wr+(en=Dr+ke*en+cr*un)*en;ke-=Pn=((wr=ke*(un=wr)-cr*Dr-ge)*Wr+(Dr=ke*Dr+cr*un-De)*en)/xn,cr-=ia=(Dr*Wr-wr*en)/xn}while(y(Pn)+y(ia)>w*w&&--Ee>0);if(Ee){var wa=D(ke*ke+cr*cr),Ea=2*i(.5*wa),Aa=g(Ea);return[P(ke*Aa,wa*l(Ea)),wa?p(cr*Aa/wa):0]}},fe}il.invert=function(Kt,qt){var fe=y(Kt),ge=y(qt),De=w,Ee=v;ge<uo?Ee*=ge/uo:De+=6*F(uo/ge);for(var ke=0;ke<25;ke++){var cr=g(Ee),br=D(l(Ee)),sr=g(Ee/2),wr=l(Ee/2),Dr=g(De/6),Wr=l(De/6),en=.5*De*(1+br)-fe,un=Ee/(wr*Wr)-ge,xn=br?-.25*De*cr/br:0,Pn=.5*(1+br),ia=(1+.5*Ee*sr/wr)/(wr*Wr),wa=Ee/wr*(Dr/6)/(Wr*Wr),Ea=xn*wa-ia*Pn,Aa=(en*wa-un*Pn)/Ea,La=(un*xn-en*ia)/Ea;if(Ee-=Aa,De-=La,y(Aa)<w&&y(La)<w)break}return[Kt<0?-De:De,qt<0?-Ee:Ee]},Os.invert=function(Kt,qt){var fe=u(Kt)*o,ge=qt/2,De=50;do{var Ee=fe*fe,ke=ge*ge,cr=fe*ge,br=fe*(.975534+ke*(-.0143059*Ee-.119161+-.0547009*ke))-Kt,sr=ge*(1.00384+Ee*(.0802894+-.02855*ke+199025e-9*Ee)+ke*(.0998909+-.0491032*ke))-qt,wr=.975534-ke*(.119161+3*Ee*.0143059+.0547009*ke),Dr=-cr*(.238322+.2188036*ke+.0286118*Ee),Wr=cr*(.1605788+7961e-7*Ee+-.0571*ke),en=1.00384+Ee*(.0802894+199025e-9*Ee)+ke*(3*(.0998909-.02855*Ee)-.245516*ke),un=Dr*Wr-en*wr,xn=(sr*Dr-br*en)/un,Pn=(br*Wr-sr*wr)/un;fe-=xn,ge-=Pn}while((y(xn)>w||y(Pn)>w)&&--De>0);return De&&[fe,ge]},Oi.invert=function(Kt,qt){var fe=Kt*Kt,De=qt*qt+1,Ee=fe+De,ke=Kt?b*D((Ee-D(Ee*Ee-4*fe))/fe):1/D(De);return[p(Kt*ke),u(qt)*F(ke)]},Bs.invert=function(Kt,qt){return[Kt,2.5*i(m(.8*qt))-.625*o]};var zl=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],lf=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],uf=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],ff=[[.9245,0],[0,0],[.01943,0]],ql=[[.721316,0],[0,0],[-.00881625,-.00617325]];function cf(){return Ts(zl,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function hf(){return Ts(lf,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Pu(){return Ts(uf,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function vf(){return Ts(ff,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function df(){return Ts(ql,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Ts(Kt,qt){var fe=(0,A.c)(Lu(Kt)).rotate(qt).clipAngle(90),ge=(0,Xt.c)(qt),De=fe.center;return delete fe.rotate,fe.center=function(Ee){return arguments.length?De(ge(Ee)):ge.invert(De())},fe}var ol=D(6),As=D(7);function sl(Kt,qt){var fe=p(7*g(qt)/(3*ol));return[ol*Kt*(2*l(2*fe/3)-1)/As,9*g(fe/3)/As]}function tu(){return(0,A.c)(sl).scale(164.859)}function eu(Kt,qt){for(var Ee,fe=(1+b)*g(qt),ge=qt,De=0;De<25&&(ge-=Ee=(g(ge/2)+g(ge)-fe)/(.5*l(ge/2)+l(ge)),!(y(Ee)<w));De++);return[Kt*(1+2*l(ge)/l(ge/2))/(3*E),2*D(3)*g(ge/2)/D(2+E)]}function Du(){return(0,A.c)(eu).scale(188.209)}function $o(Kt,qt){for(var ke,fe=D(6/(4+o)),ge=(1+o/4)*g(qt),De=qt/2,Ee=0;Ee<25&&(De-=ke=(De/2+g(De)-ge)/(.5+l(De)),!(y(ke)<w));Ee++);return[fe*(.5+l(De))*Kt/1.5,fe*De]}function pf(){return(0,A.c)($o).scale(166.518)}sl.invert=function(Kt,qt){var fe=3*p(qt*As/9);return[Kt*As/(ol*(2*l(2*fe/3)-1)),p(3*g(fe)*ol/7)]},eu.invert=function(Kt,qt){var fe=qt*D(2+E)/(2*D(3)),ge=2*p(fe);return[3*E*Kt/(1+2*l(ge)/l(ge/2)),p((fe+g(ge))/(1+b))]},$o.invert=function(Kt,qt){var fe=D(6/(4+o)),ge=qt/fe;return y(y(ge)-v)<w&&(ge=ge<0?-v:v),[1.5*Kt/(fe*(.5+l(ge))),p((ge/2+g(ge))/(1+o/4))]};var Ru=t(47984);function oo(Kt,qt){var fe=qt*qt,ge=fe*fe,De=fe*ge;return[Kt*(.84719-.13063*fe+De*De*(.05494*fe-.04515-.02326*ge+.00331*De)),qt*(1.01183+ge*ge*(.01926*fe-.02625-.00396*ge))]}function Ol(){return(0,A.c)(oo).scale(175.295)}function zo(Kt,qt){return[Kt*(1+l(qt))/2,2*(qt-c(qt/2))]}function Bl(){return(0,A.c)(zo).scale(152.63)}oo.invert=function(Kt,qt){var De,Ee,ke,cr,fe=qt,ge=25;do{fe-=De=(fe*(1.01183+(ke=(Ee=fe*fe)*Ee)*ke*(.01926*Ee-.02625-.00396*ke))-qt)/(1.01183+ke*ke*(.21186*Ee-.23625+-.05148*ke))}while(y(De)>d&&--ge>0);return[Kt/(.84719-.13063*(Ee=fe*fe)+(cr=Ee*(ke=Ee*Ee))*cr*(.05494*Ee-.04515-.02326*ke+.00331*cr)),fe]},zo.invert=function(Kt,qt){for(var fe=qt/2,ge=0,De=1/0;ge<10&&y(De)>w;++ge){var Ee=l(qt/2);qt-=De=(qt-c(qt/2)-fe)/(1-.5/(Ee*Ee))}return[2*Kt/(1+l(qt)),qt]};var ls=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function us(){return Qi(st(1/0),ls).rotate([20,0]).scale(152.63)}function Ns(Kt,qt){var fe=g(qt),ge=l(qt),De=u(Kt);if(0===Kt||y(qt)===v)return[0,qt];if(0===qt)return[Kt,0];if(y(Kt)===v)return[Kt*ge,v*fe];var Ee=o/(2*Kt)-2*Kt/o,ke=2*qt/o,cr=(1-ke*ke)/(fe-ke),br=Ee*Ee,sr=cr*cr,wr=1+br/sr,Dr=1+sr/br,Wr=(Ee*fe/cr-Ee/2)/wr,en=(sr*fe/br+cr/2)/Dr,xn=en*en-(sr*fe*fe/br+cr*fe-1)/Dr;return[v*(Wr+D(Wr*Wr+ge*ge/wr)*De),v*(en+D(xn<0?0:xn)*u(-qt*Ee)*De)]}function Nl(){return(0,A.c)(Ns).scale(127.267)}Ns.invert=function(Kt,qt){var fe=(Kt/=v)*Kt,De=fe+(qt/=v)*qt,Ee=o*o;return[Kt?(De-1+D((1-De)*(1-De)+4*fe))/(2*Kt)*v:0,yt(function(ke){return De*(o*g(ke)-2*ke)*o+4*ke*ke*(qt-g(ke))+2*o*ke-Ee*qt},0)]};var xo=1.0148,Pi=.23185,ru=-.14499,nu=.02406,_o=1.790857183;function fo(Kt,qt){var fe=qt*qt;return[Kt,qt*(xo+fe*fe*(Pi+fe*(ru+nu*fe)))]}function bo(){return(0,A.c)(fo).scale(139.319)}function au(Kt,qt){if(y(qt)<w)return[Kt,0];var fe=c(qt),ge=Kt*g(qt);return[g(ge)/fe,qt+(1-l(ge))/fe]}function gf(){return(0,A.c)(au).scale(103.74)}fo.invert=function(Kt,qt){qt>_o?qt=_o:qt<-_o&&(qt=-_o);var ge,fe=qt;do{var De=fe*fe;fe-=ge=(fe*(xo+De*De*(Pi+De*(ru+nu*De)))-qt)/(1.0148+De*De*(1.1592500000000001+De*(.21654*De-1.01493)))}while(y(ge)>w);return[Kt,fe]},au.invert=function(Kt,qt){if(y(qt)<w)return[Kt,0];var Ee,fe=Kt*Kt+qt*qt,ge=.5*qt,De=10;do{var ke=c(ge),cr=1/l(ge),br=fe-2*qt*ge+ge*ge;ge-=Ee=(ke*br+2*(ge-qt))/(2+br*cr*cr+2*(ge-qt)*ke)}while(y(Ee)>w&&--De>0);return ke=c(ge),[(y(qt)<y(ge+1/ke)?p(Kt*ke):u(qt)*u(Kt)*(F(y(Kt*ke))+v))/g(ge),ge]};var yf=t(13696),ul=t(27284);function Ul(Kt,qt){var fe=ou(Kt[1],Kt[0]),ge=ou(qt[1],qt[0]),De=function vi(Kt,qt){return P(Kt[0]*qt[1]-Kt[1]*qt[0],Kt[0]*qt[0]+Kt[1]*qt[1])}(fe,ge),Ee=su(fe)/su(ge);return Us([1,0,Kt[0][0],0,1,Kt[0][1]],Us([Ee,0,0,0,Ee,0],Us([l(De),g(De),0,-g(De),l(De),0],[1,0,-qt[0][0],0,1,-qt[0][1]])))}function iu(Kt){var qt=1/(Kt[0]*Kt[4]-Kt[1]*Kt[3]);return[qt*Kt[4],-qt*Kt[1],qt*(Kt[1]*Kt[5]-Kt[2]*Kt[4]),-qt*Kt[3],qt*Kt[0],qt*(Kt[2]*Kt[3]-Kt[0]*Kt[5])]}function Us(Kt,qt){return[Kt[0]*qt[0]+Kt[1]*qt[3],Kt[0]*qt[1]+Kt[1]*qt[4],Kt[0]*qt[2]+Kt[1]*qt[5]+Kt[2],Kt[3]*qt[0]+Kt[4]*qt[3],Kt[3]*qt[1]+Kt[4]*qt[4],Kt[3]*qt[2]+Kt[4]*qt[5]+Kt[5]]}function ou(Kt,qt){return[Kt[0]-qt[0],Kt[1]-qt[1]]}function su(Kt){return D(Kt[0]*Kt[0]+Kt[1]*Kt[1])}function Vs(Kt,qt,fe){function De(sr,wr){var en,Dr=qt(sr,wr),Wr=Dr.project([sr*T,wr*T]);return(en=Dr.transform)?[en[0]*Wr[0]+en[1]*Wr[1]+en[2],-(en[3]*Wr[0]+en[4]*Wr[1]+en[5])]:(Wr[1]=-Wr[1],Wr)}function Ee(sr,wr){var Dr=sr.project.invert,Wr=sr.transform,en=wr;if(Wr&&(en=[(Wr=iu(Wr))[0]*en[0]+Wr[1]*en[1]+Wr[2],Wr[3]*en[0]+Wr[4]*en[1]+Wr[5]]),Dr&&sr===function ke(sr){return qt(sr[0]*n,sr[1]*n)}(un=Dr(en)))return un;for(var un,xn=sr.children,Pn=0,ia=xn&&xn.length;Pn<ia;++Pn)if(un=Ee(xn[Pn],wr))return un}(function ge(sr,wr){if(sr.edges=function Hs(Kt){for(var qt=Kt.length,fe=[],ge=Kt[qt-1],De=0;De<qt;++De)fe.push([ge,ge=Kt[De]]);return fe}(sr.face),wr.face){var Dr=sr.shared=function zu(Kt,qt){for(var fe,ge,De=Kt.length,Ee=null,ke=0;ke<De;++ke){fe=Kt[ke];for(var cr=qt.length;--cr>=0;)if(fe[0]===(ge=qt[cr])[0]&&fe[1]===ge[1]){if(Ee)return[Ee,fe];Ee=fe}}}(sr.face,wr.face),Wr=Ul(Dr.map(wr.project),Dr.map(sr.project));sr.transform=wr.transform?Us(wr.transform,Wr):Wr;for(var en=wr.edges,un=0,xn=en.length;un<xn;++un)qo(Dr[0],en[un][1])&&qo(Dr[1],en[un][0])&&(en[un]=sr),qo(Dr[0],en[un][0])&&qo(Dr[1],en[un][1])&&(en[un]=sr);for(un=0,xn=(en=sr.edges).length;un<xn;++un)qo(Dr[0],en[un][0])&&qo(Dr[1],en[un][1])&&(en[un]=wr),qo(Dr[0],en[un][1])&&qo(Dr[1],en[un][0])&&(en[un]=wr)}else sr.transform=wr.transform;return sr.children&&sr.children.forEach(function(Pn){ge(Pn,sr)}),sr})(Kt,{transform:null}),Gs(Kt)&&(De.invert=function(sr,wr){var Dr=Ee(Kt,[sr,-wr]);return Dr&&(Dr[0]*=n,Dr[1]*=n,Dr)});var cr=(0,A.c)(De),br=cr.stream;return cr.stream=function(sr){var wr=cr.rotate(),Dr=br(sr),Wr=(cr.rotate([0,0]),br(sr));return cr.rotate(wr),Dr.sphere=function(){Wr.polygonStart(),Wr.lineStart(),Ms(Wr,Kt),Wr.lineEnd(),Wr.polygonEnd()},Dr},cr.angle(null==fe?-30:fe*T)}function Ms(Kt,qt,fe){var ge,ke,De=qt.edges,Ee=De.length,cr={type:"MultiPoint",coordinates:qt.face},br=qt.face.filter(function(xn){return 90!==y(xn[1])}),sr=(0,yf.c)({type:"MultiPoint",coordinates:br}),wr=!1,Dr=-1,Wr=sr[1][0]-sr[0][0],en=180===Wr||360===Wr?[(sr[0][0]+sr[1][0])/2,(sr[0][1]+sr[1][1])/2]:(0,Wt.c)(cr);if(fe)for(;++Dr<Ee&&De[Dr]!==fe;);++Dr;for(var un=0;un<Ee;++un)ke=De[(un+Dr)%Ee],Array.isArray(ke)?(wr||(Kt.point((ge=(0,ul.c)(ke[0],en)(w))[0],ge[1]),wr=!0),Kt.point((ge=(0,ul.c)(ke[1],en)(w))[0],ge[1])):(wr=!1,ke!==fe&&Ms(Kt,ke,qt))}function qo(Kt,qt){return Kt&&qt&&Kt[0]===qt[0]&&Kt[1]===qt[1]}function Gs(Kt){return Kt.project.invert||Kt.children&&Kt.children.some(Gs)}var Ws=t(53285),Vi=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Ss=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Kt){return Kt.map(function(qt){return Vi[qt]})});function wo(Kt){Kt=Kt||function(fe){var ge=(0,Wt.c)({type:"MultiPoint",coordinates:fe});return(0,Ws.c)().scale(1).translate([0,0]).rotate([-ge[0],-ge[1]])};var qt=Ss.map(function(fe){return{face:fe,project:Kt(fe)}});return[-1,0,0,1,0,1,4,5].forEach(function(fe,ge){var De=qt[fe];De&&(De.children||(De.children=[])).push(qt[ge])}),Vs(qt[0],function(fe,ge){return qt[fe<-o/2?ge<0?6:4:fe<0?ge<0?2:0:fe<o/2?ge<0?3:1:ge<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Oo=2/D(3);function ts(Kt,qt){var fe=Dt(Kt,qt);return[fe[0]*Oo,fe[1]]}function fs(Kt){Kt=Kt||function(fe){var ge=(0,Wt.c)({type:"MultiPoint",coordinates:fe});return(0,A.c)(ts).translate([0,0]).scale(1).rotate(ge[1]>0?[-ge[0],0]:[180-ge[0],180])};var qt=Ss.map(function(fe){return{face:fe,project:Kt(fe)}});return[-1,0,0,1,0,1,4,5].forEach(function(fe,ge){var De=qt[fe];De&&(De.children||(De.children=[])).push(qt[ge])}),Vs(qt[0],function(fe,ge){return qt[fe<-o/2?ge<0?6:4:fe<0?ge<0?2:0:fe<o/2?ge<0?3:1:ge<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function cs(Kt){Kt=Kt||function(ke){var cr=6===ke.length?(0,Wt.c)({type:"MultiPoint",coordinates:ke}):ke[0];return(0,Ws.c)().scale(1).translate([0,0]).rotate([-cr[0],-cr[1]])};var qt=Ss.map(function(ke){for(var wr,cr=ke.map(fl),br=cr.length,sr=cr[br-1],Dr=[],Wr=0;Wr<br;++Wr)Dr.push(No([.9486832980505138*sr[0]+.31622776601683794*(wr=cr[Wr])[0],.9486832980505138*sr[1]+.31622776601683794*wr[1],.9486832980505138*sr[2]+.31622776601683794*wr[2]]),No([.9486832980505138*wr[0]+.31622776601683794*sr[0],.9486832980505138*wr[1]+.31622776601683794*sr[1],.9486832980505138*wr[2]+.31622776601683794*sr[2]])),sr=wr;return Dr}),fe=[],ge=[-1,0,0,1,0,1,4,5];qt.forEach(function(ke,cr){for(var br=Ss[cr],sr=br.length,wr=fe[cr]=[],Dr=0;Dr<sr;++Dr)qt.push([br[Dr],ke[(2*Dr+2)%(2*sr)],ke[(2*Dr+1)%(2*sr)]]),ge.push(cr),wr.push(es(fl(ke[(2*Dr+2)%(2*sr)]),fl(ke[(2*Dr+1)%(2*sr)])))});var De=qt.map(function(ke){return{project:Kt(ke),face:ke}});return ge.forEach(function(ke,cr){var br=De[ke];br&&(br.children||(br.children=[])).push(De[cr])}),Vs(De[0],function Ee(ke,cr){var br=l(cr),sr=[br*l(ke),br*g(ke),g(cr)],wr=ke<-o/2?cr<0?6:4:ke<0?cr<0?2:0:ke<o/2?cr<0?3:1:cr<0?7:5,Dr=fe[wr];return De[Bo(Dr[0],sr)<0?8+3*wr:Bo(Dr[1],sr)<0?8+3*wr+1:Bo(Dr[2],sr)<0?8+3*wr+2:wr]}).angle(-30).scale(110.625).center([0,45])}function Bo(Kt,qt){for(var fe=0,ge=Kt.length,De=0;fe<ge;++fe)De+=Kt[fe]*qt[fe];return De}function es(Kt,qt){return[Kt[1]*qt[2]-Kt[2]*qt[1],Kt[2]*qt[0]-Kt[0]*qt[2],Kt[0]*qt[1]-Kt[1]*qt[0]]}function No(Kt){return[P(Kt[1],Kt[0])*T,p(s(-1,a(1,Kt[2])))*T]}function fl(Kt){var qt=Kt[0]*n,fe=Kt[1]*n,ge=l(fe);return[ge*l(qt),ge*g(qt),g(fe)]}function Ys(){}function xf(Kt,qt){var ge,fe=qt.stream;if(!fe)throw new Error("invalid projection");switch(Kt&&Kt.type){case"Feature":ge=Ou;break;case"FeatureCollection":ge=bf;break;default:ge=cl}return ge(Kt,fe)}function bf(Kt,qt){return{type:"FeatureCollection",features:Kt.features.map(function(fe){return Ou(fe,qt)})}}function Ou(Kt,qt){return{type:"Feature",id:Kt.id,properties:Kt.properties,geometry:cl(Kt.geometry,qt)}}function cl(Kt,qt){if(!Kt)return null;if("GeometryCollection"===Kt.type)return function Bu(Kt,qt){return{type:"GeometryCollection",geometries:Kt.geometries.map(function(fe){return cl(fe,qt)})}}(Kt,qt);var fe;switch(Kt.type){case"Point":case"MultiPoint":fe=uu;break;case"LineString":case"MultiLineString":fe=hl;break;case"Polygon":case"MultiPolygon":case"Sphere":fe=To;break;default:return null}return(0,Sa.c)(Kt,qt(fe)),fe.result()}ts.invert=function(Kt,qt){return Dt.invert(Kt/Oo,qt)};var Hi=[],so=[],uu={point:function(Kt,qt){Hi.push([Kt,qt])},result:function(){var Kt=Hi.length?Hi.length<2?{type:"Point",coordinates:Hi[0]}:{type:"MultiPoint",coordinates:Hi}:null;return Hi=[],Kt}},hl={lineStart:Ys,point:function(Kt,qt){Hi.push([Kt,qt])},lineEnd:function(){Hi.length&&(so.push(Hi),Hi=[])},result:function(){var Kt=so.length?so.length<2?{type:"LineString",coordinates:so[0]}:{type:"MultiLineString",coordinates:so}:null;return so=[],Kt}},To={polygonStart:Ys,lineStart:Ys,point:function(Kt,qt){Hi.push([Kt,qt])},lineEnd:function(){var Kt=Hi.length;if(Kt){do{Hi.push(Hi[0].slice())}while(++Kt<4);so.push(Hi),Hi=[]}},polygonEnd:Ys,result:function(){if(!so.length)return null;var Kt=[],qt=[];return so.forEach(function(fe){!function lu(Kt){if((fe=Kt.length)<4)return!1;for(var fe,qt=0,ge=Kt[fe-1][1]*Kt[0][0]-Kt[fe-1][0]*Kt[0][1];++qt<fe;)ge+=Kt[qt-1][1]*Kt[qt][0]-Kt[qt-1][0]*Kt[qt][1];return ge<=0}(fe)?qt.push(fe):Kt.push([fe])}),qt.forEach(function(fe){var ge=fe[0];Kt.some(function(De){if(function mf(Kt,qt){for(var fe=qt[0],ge=qt[1],De=!1,Ee=0,ke=Kt.length,cr=ke-1;Ee<ke;cr=Ee++){var br=Kt[Ee],sr=br[0],wr=br[1],Dr=Kt[cr],en=Dr[1];wr>ge^en>ge&&fe<(Dr[0]-sr)*(ge-wr)/(en-wr)+sr&&(De=!De)}return De}(De[0],ge))return De.push(fe),!0})||Kt.push([fe])}),so=[],Kt.length?Kt.length>1?{type:"MultiPolygon",coordinates:Kt}:{type:"Polygon",coordinates:Kt[0]}:null}};function fu(Kt){var qt=Kt(v,0)[0]-Kt(-v,0)[0];function fe(ge,De){var Ee=y(ge)<v,ke=Kt(Ee?ge:ge>0?ge-o:ge+o,De),cr=(ke[0]-ke[1])*b,br=(ke[0]+ke[1])*b;if(Ee)return[cr,br];var sr=qt*b,wr=cr>0^br>0?-1:1;return[wr*cr-u(br)*sr,wr*br-u(cr)*sr]}return Kt.invert&&(fe.invert=function(ge,De){var Ee=(ge+De)*b,ke=(De-ge)*b,cr=y(Ee)<.5*qt&&y(ke)<.5*qt;if(!cr){var br=qt*b,sr=Ee>0^ke>0?-1:1,wr=-sr*ge+(ke>0?1:-1)*br,Dr=-sr*De+(Ee>0?1:-1)*br;Ee=(-wr-Dr)*b,ke=(wr-Dr)*b}var Wr=Kt.invert(Ee,ke);return cr||(Wr[0]+=Ee>0?o:-o),Wr}),(0,A.c)(fe).rotate([-90,-90,45]).clipAngle(179.999)}function cu(){return fu(wn).scale(176.423)}function hu(){return fu(tn).scale(111.48)}function wf(Kt,qt){if(!(0<=(qt=+qt)&&qt<=20))throw new Error("invalid digits");function fe(sr){var wr=sr.length,Dr=2,Wr=new Array(wr);for(Wr[0]=+sr[0].toFixed(qt),Wr[1]=+sr[1].toFixed(qt);Dr<wr;)Wr[Dr]=sr[Dr],++Dr;return Wr}function ge(sr){return sr.map(fe)}function De(sr){for(var wr=fe(sr[0]),Dr=[wr],Wr=1;Wr<sr.length;Wr++){var en=fe(sr[Wr]);(en.length>2||en[0]!=wr[0]||en[1]!=wr[1])&&(Dr.push(en),wr=en)}return 1===Dr.length&&sr.length>1&&Dr.push(fe(sr[sr.length-1])),Dr}function Ee(sr){return sr.map(De)}function ke(sr){if(null==sr)return sr;var wr;switch(sr.type){case"GeometryCollection":wr={type:"GeometryCollection",geometries:sr.geometries.map(ke)};break;case"Point":wr={type:"Point",coordinates:fe(sr.coordinates)};break;case"MultiPoint":wr={type:sr.type,coordinates:ge(sr.coordinates)};break;case"LineString":wr={type:sr.type,coordinates:De(sr.coordinates)};break;case"MultiLineString":case"Polygon":wr={type:sr.type,coordinates:Ee(sr.coordinates)};break;case"MultiPolygon":wr={type:"MultiPolygon",coordinates:sr.coordinates.map(Ee)};break;default:return sr}return null!=sr.bbox&&(wr.bbox=sr.bbox),wr}function cr(sr){var wr={type:"Feature",properties:sr.properties,geometry:ke(sr.geometry)};return null!=sr.id&&(wr.id=sr.id),null!=sr.bbox&&(wr.bbox=sr.bbox),wr}if(null!=Kt)switch(Kt.type){case"Feature":return cr(Kt);case"FeatureCollection":var br={type:"FeatureCollection",features:Kt.features.map(cr)};return null!=Kt.bbox&&(br.bbox=Kt.bbox),br;default:return ke(Kt)}return Kt}function Nu(Kt){var qt=g(Kt);function fe(ge,De){var Ee=qt?c(ge*qt/2)/qt:ge/2;if(!De)return[2*Ee,-Kt];var ke=2*i(Ee*g(De)),cr=1/c(De);return[g(ke)*cr,De+(1-l(ke))*cr-Kt]}return fe.invert=function(ge,De){if(y(De+=Kt)<w)return[qt?2*i(qt*ge/2)/qt:ge,0];var br,Ee=ge*ge+De*De,ke=0,cr=10;do{var sr=c(ke),wr=1/l(ke),Dr=Ee-2*De*ke+ke*ke;ke-=br=(sr*Dr+2*(ke-De))/(2+Dr*wr*wr+2*(ke-De)*sr)}while(y(br)>w&&--cr>0);var Wr=ge*(sr=c(ke)),en=c(y(De)<y(ke+1/sr)?.5*p(Wr):.5*F(Wr)+o/4)/g(ke);return[qt?2*i(qt*en)/qt:2*en,ke]},fe}function Uu(){return It(Nu).scale(131.215)}var Fi=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Uo(Kt,qt){var Dr,fe=a(18,36*y(qt)/o),ge=r(fe),De=fe-ge,Ee=(Dr=Fi[ge])[0],ke=Dr[1],cr=(Dr=Fi[++ge])[0],br=Dr[1],sr=(Dr=Fi[a(19,++ge)])[0],wr=Dr[1];return[Kt*(cr+De*(sr-Ee)/2+De*De*(sr-2*cr+Ee)/2),(qt>0?v:-v)*(br+De*(wr-ke)/2+De*De*(wr-2*br+ke)/2)]}function hs(){return(0,A.c)(Uo).scale(152.63)}function vl(Kt,qt){var fe=function Vl(Kt){function qt(fe,ge){var De=l(ge),Ee=(Kt-1)/(Kt-De*l(fe));return[Ee*De*g(fe),Ee*g(ge)]}return qt.invert=function(fe,ge){var De=fe*fe+ge*ge,Ee=D(De),ke=(Kt-D(1-De*(Kt+1)/(Kt-1)))/((Kt-1)/Ee+Ee/(Kt-1));return[P(fe*ke,Ee*D(1-ke*ke)),Ee?p(ge*ke/Ee):0]},qt}(Kt);if(!qt)return fe;var ge=l(qt),De=g(qt);function Ee(ke,cr){var br=fe(ke,cr),sr=br[1],wr=sr*De/(Kt-1)+ge;return[br[0]*ge/wr,sr/wr]}return Ee.invert=function(ke,cr){var br=(Kt-1)/(Kt-1-cr*De);return fe.invert(br*ke,br*cr*ge)},Ee}function Hl(){var Kt=2,qt=0,fe=(0,A.U)(vl),ge=fe(Kt,qt);return ge.distance=function(De){return arguments.length?fe(Kt=+De,qt):Kt},ge.tilt=function(De){return arguments.length?fe(Kt,qt=De*n):qt*T},ge.scale(432.147).clipAngle(F(1/Kt)*T-1e-6)}Fi.forEach(function(Kt){Kt[1]*=1.0144}),Uo.invert=function(Kt,qt){var fe=qt/v,ge=90*fe,De=a(18,y(ge/5)),Ee=s(0,r(De));do{var ke=Fi[Ee][1],cr=Fi[Ee+1][1],br=Fi[a(19,Ee+2)][1],sr=br-ke,wr=br-2*cr+ke,Dr=2*(y(fe)-cr)/sr,Wr=wr/sr,en=Dr*(1-Wr*Dr*(1-2*Wr*Dr));if(en>=0||1===Ee){ge=(qt>=0?5:-5)*(en+De);var xn,un=50;do{en=(De=a(18,y(ge)/5))-(Ee=r(De)),ke=Fi[Ee][1],cr=Fi[Ee+1][1],br=Fi[a(19,Ee+2)][1],ge-=(xn=(qt>=0?v:-v)*(cr+en*(br-ke)/2+en*en*(br-2*cr+ke)/2)-qt)*T}while(y(xn)>d&&--un>0);break}}while(--Ee>=0);var Pn=Fi[Ee][0],ia=Fi[Ee+1][0],wa=Fi[a(19,Ee+2)][0];return[Kt/(ia+en*(wa-Pn)/2+en*en*(wa-2*ia+Pn)/2),ge*n]};var vu=1e-4,Vo=-180+vu,dl=180-vu,ai=-90+vu,du=90-vu;function pu(Kt){return Kt.length>0}function js(Kt){return Math.floor(1e4*Kt)/1e4}function Gl(Kt){return-90===Kt||90===Kt?[0,Kt]:[-180,js(Kt)]}function yl(Kt){var qt=Kt[0],fe=Kt[1],ge=!1;return qt<=Vo?(qt=-180,ge=!0):qt>=dl&&(qt=180,ge=!0),fe<=ai?(fe=-90,ge=!0):fe>=du&&(fe=90,ge=!0),ge?[qt,fe]:Kt}function gu(Kt){return Kt.map(yl)}function ml(Kt,qt,fe){for(var ge=0,De=Kt.length;ge<De;++ge){var Ee=Kt[ge].slice();fe.push({index:-1,polygon:qt,ring:Ee});for(var ke=0,cr=Ee.length;ke<cr;++ke){var br=Ee[ke],sr=br[0],wr=br[1];if(sr<=Vo||sr>=dl||wr<=ai||wr>=du){Ee[ke]=yl(br);for(var Dr=ke+1;Dr<cr;++Dr){var Wr=Ee[Dr],en=Wr[0],un=Wr[1];if(en>Vo&&en<dl&&un>ai&&un<du)break}if(Dr===ke+1)continue;if(ke){var xn={index:-1,polygon:qt,ring:Ee.slice(0,ke+1)};xn.ring[xn.ring.length-1]=Gl(wr),fe[fe.length-1]=xn}else fe.pop();if(Dr>=cr)break;fe.push({index:-1,polygon:qt,ring:Ee=Ee.slice(Dr-1)}),Ee[0]=Gl(Ee[0][1]),ke=-1,cr=Ee.length}}}}function Vu(Kt){var qt,Ee,ke,cr,br,sr,fe=Kt.length,ge={},De={};for(qt=0;qt<fe;++qt)(ke=(Ee=Kt[qt]).ring[0])[0]!==(br=Ee.ring[Ee.ring.length-1])[0]||ke[1]!==br[1]?(Ee.index=qt,ge[ke]=De[br]=Ee):(Ee.polygon.push(Ee.ring),Kt[qt]=null);for(qt=0;qt<fe;++qt)if(Ee=Kt[qt]){if(cr=De[ke=Ee.ring[0]],sr=ge[br=Ee.ring[Ee.ring.length-1]],delete ge[ke],delete De[br],ke[0]===br[0]&&ke[1]===br[1]){Ee.polygon.push(Ee.ring);continue}cr?(delete De[ke],delete ge[cr.ring[0]],cr.ring.pop(),Kt[cr.index]=null,Ee={index:-1,polygon:cr.polygon,ring:cr.ring.concat(Ee.ring)},cr===sr?Ee.polygon.push(Ee.ring):(Ee.index=fe++,Kt.push(ge[Ee.ring[0]]=De[Ee.ring[Ee.ring.length-1]]=Ee))):sr?(delete ge[br],delete De[sr.ring[sr.ring.length-1]],Ee.ring.pop(),Ee={index:fe++,polygon:sr.polygon,ring:Ee.ring.concat(sr.ring)},Kt[sr.index]=null,Kt.push(ge[Ee.ring[0]]=De[Ee.ring[Ee.ring.length-1]]=Ee)):(Ee.ring.push(Ee.ring[0]),Ee.polygon.push(Ee.ring))}}function Ks(Kt){var qt={type:"Feature",geometry:Es(Kt.geometry)};return null!=Kt.id&&(qt.id=Kt.id),null!=Kt.bbox&&(qt.bbox=Kt.bbox),null!=Kt.properties&&(qt.properties=Kt.properties),qt}function Es(Kt){if(null==Kt)return Kt;var qt,fe,ge,De;switch(Kt.type){case"GeometryCollection":qt={type:"GeometryCollection",geometries:Kt.geometries.map(Es)};break;case"Point":qt={type:"Point",coordinates:yl(Kt.coordinates)};break;case"MultiPoint":case"LineString":qt={type:Kt.type,coordinates:gu(Kt.coordinates)};break;case"MultiLineString":qt={type:"MultiLineString",coordinates:Kt.coordinates.map(gu)};break;case"Polygon":var Ee=[];ml(Kt.coordinates,Ee,fe=[]),Vu(fe),qt={type:"Polygon",coordinates:Ee};break;case"MultiPolygon":fe=[],ge=-1,De=Kt.coordinates.length;for(var ke=new Array(De);++ge<De;)ml(Kt.coordinates[ge],ke[ge]=[],fe);Vu(fe),qt={type:"MultiPolygon",coordinates:ke.filter(pu)};break;default:return Kt}return null!=Kt.bbox&&(qt.bbox=Kt.bbox),qt}function xl(Kt){if(null==Kt)return Kt;switch(Kt.type){case"Feature":return Ks(Kt);case"FeatureCollection":var qt={type:"FeatureCollection",features:Kt.features.map(Ks)};return null!=Kt.bbox&&(qt.bbox=Kt.bbox),qt;default:return Es(Kt)}}function Ao(Kt,qt){var fe=c(qt/2),ge=g(M*fe);return[Kt*(.74482-.34588*ge*ge),1.70711*fe]}function Mo(){return(0,A.c)(Ao).scale(146.153)}function Js(Kt,qt,fe){var ge=(0,ul.c)(qt,fe),De=ge(.5),Ee=(0,Xt.c)([-De[0],-De[1]])(qt),ke=ge.distance/2,cr=-p(g(Ee[1]*n)/g(ke)),br=[-De[0],-De[1],-(Ee[0]>0?o-cr:cr)*T],sr=(0,A.c)(Kt(ke)).rotate(br),wr=(0,Xt.c)(br),Dr=sr.center;return delete sr.rotate,sr.center=function(Wr){return arguments.length?Dr(wr(Wr)):wr.invert(Dr())},sr.clipAngle(90)}function Cs(Kt){var qt=l(Kt);function fe(ge,De){var Ee=(0,Ws.Y)(ge,De);return Ee[0]*=qt,Ee}return fe.invert=function(ge,De){return Ws.Y.invert(ge/qt,De)},fe}function Hu(){return Ls([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Ls(Kt,qt){return Js(Cs,Kt,qt)}function co(Kt){if(!(Kt*=2))return Q.O;var qt=-Kt/2,fe=-qt,ge=Kt*Kt,De=c(fe),Ee=.5/g(fe);function ke(cr,br){var sr=F(l(br)*l(cr-qt)),wr=F(l(br)*l(cr-fe));return[((sr*=sr)-(wr*=wr))/(2*Kt),(br<0?-1:1)*D(4*ge*wr-(ge-sr+wr)*(ge-sr+wr))/(2*Kt)]}return ke.invert=function(cr,br){var Wr,en,sr=br*br,wr=l(D(sr+(Wr=cr+qt)*Wr)),Dr=l(D(sr+(Wr=cr+fe)*Wr));return[P(en=wr-Dr,Wr=(wr+Dr)*De),(br<0?-1:1)*F(D(Wr*Wr+en*en)*Ee)]},ke}function Gu(){return ho([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function ho(Kt,qt){return Js(co,Kt,qt)}function Ps(Kt,qt){if(y(qt)<w)return[Kt,0];var fe=y(qt/v),ge=p(fe);if(y(Kt)<w||y(y(qt)-v)<w)return[0,u(qt)*o*c(ge/2)];var De=l(ge),Ee=y(o/Kt-Kt/o)/2,ke=Ee*Ee,cr=De/(fe+De-1),br=cr*(2/fe-1),sr=br*br,wr=sr+ke,Dr=cr-sr,Wr=ke+cr;return[u(Kt)*o*(Ee*Dr+D(ke*Dr*Dr-wr*(cr*cr-sr)))/wr,u(qt)*o*(br*Wr-Ee*D((ke+1)*wr-Wr*Wr))/wr]}function bl(){return(0,A.c)(Ps).scale(79.4183)}function Wl(Kt,qt){if(y(qt)<w)return[Kt,0];var fe=y(qt/v),ge=p(fe);if(y(Kt)<w||y(y(qt)-v)<w)return[0,u(qt)*o*c(ge/2)];var De=l(ge),Ee=y(o/Kt-Kt/o)/2,ke=Ee*Ee,cr=De*(D(1+ke)-Ee*De)/(1+ke*fe*fe);return[u(Kt)*o*cr,u(qt)*o*D(1-cr*(2*Ee+cr))]}function Qs(){return(0,A.c)(Wl).scale(79.4183)}function yu(Kt,qt){if(y(qt)<w)return[Kt,0];var fe=qt/v,ge=p(fe);if(y(Kt)<w||y(y(qt)-v)<w)return[0,o*c(ge/2)];var De=(o/Kt-Kt/o)/2,Ee=fe/(1+l(ge));return[o*(u(Kt)*D(De*De+1-Ee*Ee)-De),o*Ee]}function Yl(){return(0,A.c)(yu).scale(79.4183)}function vs(Kt,qt){if(!qt)return[Kt,0];var fe=y(qt);if(!Kt||fe===v)return[0,qt];var ge=fe/v,De=ge*ge,Ee=(8*ge-De*(De+2)-5)/(2*De*(ge-1)),ke=Ee*Ee,cr=ge*Ee,br=De+ke+2*cr,sr=ge+3*Ee,wr=Kt/v,Dr=wr+1/wr,Wr=u(y(Kt)-v)*D(Dr*Dr-4),en=Wr*Wr,xn=(Wr*(br+ke-1)+2*D(br*(De+ke*en-1)+(1-De)*(De*(sr*sr+4*ke)+12*cr*ke+4*ke*ke)))/(4*br+en);return[u(Kt)*v*xn,u(qt)*v*D(1+Wr*y(xn)-xn*xn)]}function Xl(){return(0,A.c)(vs).scale(127.16)}function $s(Kt,qt,fe,ge){var De=o/3;Kt=s(Kt,w),qt=s(qt,w),Kt=a(Kt,v),qt=a(qt,o-w),fe=s(fe,0),fe=a(fe,100-w);var ke=(ge=s(ge,w))/100,cr=F((fe/100+1)*l(De))/De,br=g(Kt)/g(cr*v),sr=qt/o,wr=D(ke*g(Kt/2)/g(qt/2));return function Tf(Kt,qt,fe,ge,De){function Ee(ke,cr){var br=fe*g(ge*cr),sr=D(1-br*br),wr=D(2/(1+sr*l(ke*=De)));return[Kt*sr*wr*g(ke),qt*br*wr]}return Ee.invert=function(ke,cr){var br=ke/Kt,sr=cr/qt,wr=D(br*br+sr*sr),Dr=2*p(wr/2);return[P(ke*c(Dr),Kt*wr)/De,wr&&p(cr*g(Dr)/(qt*fe*wr))/ge]},Ee}(wr/D(sr*br*cr),1/(wr*D(sr*br*cr)),br,cr,sr)}function Wu(){var Kt=65*n,qt=60*n,fe=20,ge=200,De=(0,A.U)($s),Ee=De(Kt,qt,fe,ge);return Ee.poleline=function(ke){return arguments.length?De(Kt=+ke*n,qt,fe,ge):Kt*T},Ee.parallels=function(ke){return arguments.length?De(Kt,qt=+ke*n,fe,ge):qt*T},Ee.inflation=function(ke){return arguments.length?De(Kt,qt,fe=+ke,ge):fe},Ee.ratio=function(ke){return arguments.length?De(Kt,qt,fe,ge=+ke):ge},Ee.scale(163.775)}function $i(){return Wu().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}Ao.invert=function(Kt,qt){var fe=qt/1.70711,ge=g(M*fe);return[Kt/(.74482-.34588*ge*ge),2*i(fe)]},Ps.invert=function(Kt,qt){if(y(qt)<w)return[Kt,0];if(y(Kt)<w)return[0,v*g(2*i(qt/o))];var fe=(Kt/=o)*Kt,ge=(qt/=o)*qt,De=fe+ge,Ee=De*De,ke=-y(qt)*(1+De),cr=ke-2*ge+fe,br=-2*ke+1+2*ge+Ee,sr=ge/br+(2*cr*cr*cr/(br*br*br)-9*ke*cr/(br*br))/27,wr=(ke-cr*cr/(3*br))/br,Dr=2*D(-wr/3),Wr=F(3*sr/(wr*Dr))/3;return[o*(De-1+D(1+2*(fe-ge)+Ee))/(2*Kt),u(qt)*o*(-Dr*l(Wr+o/3)-cr/(3*br))]},Wl.invert=function(Kt,qt){if(!Kt)return[0,v*g(2*i(qt/o))];var fe=y(Kt/o),ge=(1-fe*fe-(qt/=o)*qt)/(2*fe),Ee=D(ge*ge+1);return[u(Kt)*o*(Ee-ge),u(qt)*v*g(2*P(D((1-2*ge*fe)*(ge+Ee)-fe),D(Ee+ge+fe)))]},yu.invert=function(Kt,qt){if(!qt)return[Kt,0];var fe=qt/o,ge=(o*o*(1-fe*fe)-Kt*Kt)/(2*o*Kt);return[Kt?o*(u(Kt)*D(ge*ge+1)-ge):0,v*g(2*i(fe))]},vs.invert=function(Kt,qt){var fe;if(!Kt||!qt)return[Kt,qt];qt/=o;var ge=u(Kt)*Kt/v,De=(ge*ge-1+4*qt*qt)/y(ge),Ee=De*De,ke=2*qt,cr=50;do{var br=ke*ke,sr=(8*ke-br*(br+2)-5)/(2*br*(ke-1)),wr=(3*ke-br*ke-10)/(2*br*ke),Dr=sr*sr,Wr=ke*sr,en=ke+sr,un=en*en,xn=ke+3*sr,ia=-2*en*(4*Wr*Dr+(1-4*br+3*br*br)*(1+wr)+Dr*(14*br-6-Ee+(8*br-8-2*Ee)*wr)+Wr*(12*br-8+(10*br-10-Ee)*wr)),wa=D(un*(br+Dr*Ee-1)+(1-br)*(br*(xn*xn+4*Dr)+Dr*(12*Wr+4*Dr)));ke-=fe=(De*(un+Dr-1)+2*wa-ge*(4*un+Ee))/(De*(2*sr*wr+2*en*(1+wr))+ia/wa-8*en*(De*(-1+Dr+un)+2*wa)*(1+wr)/(Ee+4*un))}while(fe>w&&--cr>0);return[u(Kt)*(D(De*De+4)+De)*o/4,v*ke]};var _s=4*o+3*D(3),wl=2*D(2*o*D(3)/_s),ns=Mt(wl*D(3)/o,wl,_s/6);function Zl(){return(0,A.c)(ns).scale(176.84)}function qs(Kt,qt){return[Kt*D(1-3*qt*qt/(o*o)),qt]}function jl(){return(0,A.c)(qs).scale(152.63)}function Tl(Kt,qt){var fe=l(qt),ge=l(Kt)*fe,De=1-ge,Ee=l(Kt=P(g(Kt)*fe,-g(qt))),ke=g(Kt);return[ke*(fe=D(1-ge*ge))-Ee*De,-Ee*fe-ke*De]}function Yu(){return(0,A.c)(Tl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Al(Kt,qt){var fe=J(Kt,qt);return[(fe[0]+Kt/v)/2,(fe[1]+qt)/2]}function mu(){return(0,A.c)(Al).scale(158.837)}qs.invert=function(Kt,qt){return[Kt/D(1-3*qt*qt/(o*o)),qt]},Tl.invert=function(Kt,qt){var fe=(Kt*Kt+qt*qt)/-2,ge=D(-fe*(2+fe)),De=qt*fe+Kt*ge,Ee=Kt*fe-qt*ge,ke=D(Ee*Ee+De*De);return[P(ge*De,ke*(1+fe)),ke?-p(ge*Ee/ke):0]},Al.invert=function(Kt,qt){var fe=Kt,ge=qt,De=25;do{var Pn,Ee=l(ge),ke=g(ge),cr=g(2*ge),br=ke*ke,sr=Ee*Ee,wr=g(fe),Dr=l(fe/2),Wr=g(fe/2),en=Wr*Wr,un=1-sr*Dr*Dr,xn=un?F(Ee*Dr)*D(Pn=1/un):Pn=0,ia=.5*(2*xn*Ee*Wr+fe/v)-Kt,wa=.5*(xn*ke+ge)-qt,Ea=.5*Pn*(sr*en+xn*Ee*Dr*br)+.5/v,Aa=Pn*(wr*cr/4-xn*ke*Wr),La=.125*Pn*(cr*Wr-xn*ke*sr*wr),Wa=.5*Pn*(br*Dr+xn*en*Ee)+.5,Ti=Aa*La-Wa*Ea,di=(wa*Aa-ia*Wa)/Ti,ii=(ia*La-wa*Ea)/Ti;fe-=di,ge-=ii}while((y(di)>w||y(ii)>w)&&--De>0);return[fe,ge]}},88728:function(tt,W,t){"use strict";function A(){return new y}function y(){this.reset()}t.d(W,{c:function(){return A}}),y.prototype={constructor:y,reset:function(){this.s=this.t=0},add:function(L){P(i,L,this.t),P(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new y;function P(L,l,m){var r=L.s=l+m,e=r-l;L.t=l-(r-e)+(m-e)}},95384:function(tt,W,t){"use strict";t.d(W,{cp:function(){return w},mQ:function(){return L},oB:function(){return h}});var m,r,e,s,a,A=t(88728),y=t(64528),i=t(70932),P=t(16016),L=(0,A.c)(),l=(0,A.c)(),h={point:i.c,lineStart:i.c,lineEnd:i.c,polygonStart:function(){L.reset(),h.lineStart=f,h.lineEnd=u},polygonEnd:function(){var d=+L;l.add(d<0?y.kD+d:d),this.lineStart=this.lineEnd=this.point=i.c},sphere:function(){l.add(y.kD)}};function f(){h.point=g}function u(){c(m,r)}function g(d,o){h.point=c,m=d,r=o,e=d*=y.qw,s=(0,y.W8)(o=(o*=y.qw)/2+y.wL),a=(0,y.g$)(o)}function c(d,o){var v=(d*=y.qw)-e,M=v>=0?1:-1,b=M*v,E=(0,y.W8)(o=(o*=y.qw)/2+y.wL),x=(0,y.g$)(o),S=a*x,T=s*E+S*(0,y.W8)(b),n=S*M*(0,y.g$)(b);L.add((0,y.WE)(n,T)),e=d,s=E,a=x}function w(d){return l.reset(),(0,P.c)(d,h),2*l}},13696:function(tt,W,t){"use strict";t.d(W,{c:function(){return C}});var l,m,r,e,s,a,h,f,g,c,A=t(88728),y=t(95384),i=t(84220),P=t(64528),L=t(16016),u=(0,A.c)(),w={point:d,lineStart:v,lineEnd:M,polygonStart:function(){w.point=b,w.lineStart=E,w.lineEnd=x,u.reset(),y.oB.polygonStart()},polygonEnd:function(){y.oB.polygonEnd(),w.point=d,w.lineStart=v,w.lineEnd=M,y.mQ<0?(l=-(r=180),m=-(e=90)):u>P.Gg?e=90:u<-P.Gg&&(m=-90),c[0]=l,c[1]=r},sphere:function(){l=-(r=180),m=-(e=90)}};function d(p,F){g.push(c=[l=p,r=p]),F<m&&(m=F),F>e&&(e=F)}function o(p,F){var D=(0,i.ux)([p*P.qw,F*P.qw]);if(f){var N=(0,i.CW)(f,D),z=(0,i.CW)([N[1],-N[0],0],N);(0,i.cJ)(z),z=(0,i.G)(z);var G,B=p-s,O=B>0?1:-1,U=z[0]*P.oh*O,J=(0,P.a2)(B)>180;J^(O*s<U&&U<O*p)?(G=z[1]*P.oh)>e&&(e=G):J^(O*s<(U=(U+360)%360-180)&&U<O*p)?(G=-z[1]*P.oh)<m&&(m=G):(F<m&&(m=F),F>e&&(e=F)),J?p<s?S(l,p)>S(l,r)&&(r=p):S(p,r)>S(l,r)&&(l=p):r>=l?(p<l&&(l=p),p>r&&(r=p)):p>s?S(l,p)>S(l,r)&&(r=p):S(p,r)>S(l,r)&&(l=p)}else g.push(c=[l=p,r=p]);F<m&&(m=F),F>e&&(e=F),f=D,s=p}function v(){w.point=o}function M(){c[0]=l,c[1]=r,w.point=d,f=null}function b(p,F){if(f){var D=p-s;u.add((0,P.a2)(D)>180?D+(D>0?360:-360):D)}else a=p,h=F;y.oB.point(p,F),o(p,F)}function E(){y.oB.lineStart()}function x(){b(a,h),y.oB.lineEnd(),(0,P.a2)(u)>P.Gg&&(l=-(r=180)),c[0]=l,c[1]=r,f=null}function S(p,F){return(F-=p)<0?F+360:F}function T(p,F){return p[0]-F[0]}function n(p,F){return p[0]<=p[1]?p[0]<=F&&F<=p[1]:F<p[0]||p[1]<F}function C(p){var F,D,N,k,z,B,O;if(e=r=-(l=m=1/0),g=[],(0,L.c)(p,w),D=g.length){for(g.sort(T),F=1,z=[N=g[0]];F<D;++F)n(N,(k=g[F])[0])||n(N,k[1])?(S(N[0],k[1])>S(N[0],N[1])&&(N[1]=k[1]),S(k[0],N[1])>S(N[0],N[1])&&(N[0]=k[0])):z.push(N=k);for(B=-1/0,F=0,N=z[D=z.length-1];F<=D;N=k,++F)(O=S(N[1],(k=z[F])[0]))>B&&(B=O,l=k[0],r=N[1])}return g=c=null,l===1/0||m===1/0?[[NaN,NaN],[NaN,NaN]]:[[l,m],[r,e]]}},84220:function(tt,W,t){"use strict";t.d(W,{CW:function(){return L},Ez:function(){return P},G:function(){return y},cJ:function(){return r},mg:function(){return l},ux:function(){return i},wx:function(){return m}});var A=t(64528);function y(e){return[(0,A.WE)(e[1],e[0]),(0,A.qR)(e[2])]}function i(e){var s=e[0],a=e[1],h=(0,A.W8)(a);return[h*(0,A.W8)(s),h*(0,A.g$)(s),(0,A.g$)(a)]}function P(e,s){return e[0]*s[0]+e[1]*s[1]+e[2]*s[2]}function L(e,s){return[e[1]*s[2]-e[2]*s[1],e[2]*s[0]-e[0]*s[2],e[0]*s[1]-e[1]*s[0]]}function l(e,s){e[0]+=s[0],e[1]+=s[1],e[2]+=s[2]}function m(e,s){return[e[0]*s,e[1]*s,e[2]*s]}function r(e){var s=(0,A._I)(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=s,e[1]/=s,e[2]/=s}},24052:function(tt,W,t){"use strict";t.d(W,{c:function(){return D}});var P,L,l,m,r,e,s,a,h,f,u,g,c,w,d,o,A=t(64528),y=t(70932),i=t(16016),v={sphere:y.c,point:M,lineStart:E,lineEnd:T,polygonStart:function(){v.lineStart=n,v.lineEnd=C},polygonEnd:function(){v.lineStart=E,v.lineEnd=T}};function M(N,k){N*=A.qw;var z=(0,A.W8)(k*=A.qw);b(z*(0,A.W8)(N),z*(0,A.g$)(N),(0,A.g$)(k))}function b(N,k,z){++P,l+=(N-l)/P,m+=(k-m)/P,r+=(z-r)/P}function E(){v.point=x}function x(N,k){N*=A.qw;var z=(0,A.W8)(k*=A.qw);w=z*(0,A.W8)(N),d=z*(0,A.g$)(N),o=(0,A.g$)(k),v.point=S,b(w,d,o)}function S(N,k){N*=A.qw;var z=(0,A.W8)(k*=A.qw),B=z*(0,A.W8)(N),O=z*(0,A.g$)(N),U=(0,A.g$)(k),G=(0,A.WE)((0,A._I)((G=d*U-o*O)*G+(G=o*B-w*U)*G+(G=w*O-d*B)*G),w*B+d*O+o*U);L+=G,e+=G*(w+(w=B)),s+=G*(d+(d=O)),a+=G*(o+(o=U)),b(w,d,o)}function T(){v.point=M}function n(){v.point=p}function C(){F(g,c),v.point=M}function p(N,k){g=N,c=k,N*=A.qw,k*=A.qw,v.point=F;var z=(0,A.W8)(k);w=z*(0,A.W8)(N),d=z*(0,A.g$)(N),o=(0,A.g$)(k),b(w,d,o)}function F(N,k){N*=A.qw;var z=(0,A.W8)(k*=A.qw),B=z*(0,A.W8)(N),O=z*(0,A.g$)(N),U=(0,A.g$)(k),G=d*U-o*O,J=o*B-w*U,et=w*O-d*B,at=(0,A._I)(G*G+J*J+et*et),lt=(0,A.qR)(at),K=at&&-lt/at;h+=K*G,f+=K*J,u+=K*et,L+=lt,e+=lt*(w+(w=B)),s+=lt*(d+(d=O)),a+=lt*(o+(o=U)),b(w,d,o)}function D(N){P=L=l=m=r=e=s=a=h=f=u=0,(0,i.c)(N,v);var k=h,z=f,B=u,O=k*k+z*z+B*B;return O<A.a8&&(k=e,z=s,B=a,L<A.Gg&&(k=l,z=m,B=r),(O=k*k+z*z+B*B)<A.a8)?[NaN,NaN]:[(0,A.WE)(z,k)*A.oh,(0,A.qR)(B/(0,A._I)(O))*A.oh]}},61780:function(tt,W,t){"use strict";t.d(W,{Q:function(){return L},c:function(){return m}});var A=t(84220);function y(r){return function(){return r}}var i=t(64528),P=t(92992);function L(r,e,s,a,h,f){if(s){var u=(0,i.W8)(e),g=(0,i.g$)(e),c=a*s;null==h?(h=e+a*i.kD,f=e-c/2):(h=l(u,h),f=l(u,f),(a>0?h<f:h>f)&&(h+=a*i.kD));for(var w,d=h;a>0?d>f:d<f;d-=c)w=(0,A.G)([u,-g*(0,i.W8)(d),-g*(0,i.g$)(d)]),r.point(w[0],w[1])}}function l(r,e){(e=(0,A.ux)(e))[0]-=r,(0,A.cJ)(e);var s=(0,i.mE)(-e[1]);return((-e[2]<0?-s:s)+i.kD-i.Gg)%i.kD}function m(){var a,h,r=y([0,0]),e=y(90),s=y(6),f={point:function u(c,w){a.push(c=h(c,w)),c[0]*=i.oh,c[1]*=i.oh}};function g(){var c=r.apply(this,arguments),w=e.apply(this,arguments)*i.qw,d=s.apply(this,arguments)*i.qw;return a=[],h=(0,P.O)(-c[0]*i.qw,-c[1]*i.qw,0).invert,L(f,w,d,1),c={type:"Polygon",coordinates:[a]},a=h=null,c}return g.center=function(c){return arguments.length?(r="function"==typeof c?c:y([+c[0],+c[1]]),g):r},g.radius=function(c){return arguments.length?(e="function"==typeof c?c:y(+c),g):e},g.precision=function(c){return arguments.length?(s="function"==typeof c?c:y(+c),g):s},g}},78284:function(tt,W,t){"use strict";var A=t(14229),y=t(64528);W.c=(0,A.c)(function(){return!0},function i(l){var s,m=NaN,r=NaN,e=NaN;return{lineStart:function(){l.lineStart(),s=1},point:function(a,h){var f=a>0?y.pi:-y.pi,u=(0,y.a2)(a-m);(0,y.a2)(u-y.pi)<y.Gg?(l.point(m,r=(r+h)/2>0?y.or:-y.or),l.point(e,r),l.lineEnd(),l.lineStart(),l.point(f,r),l.point(a,r),s=0):e!==f&&u>=y.pi&&((0,y.a2)(m-e)<y.Gg&&(m-=e*y.Gg),(0,y.a2)(a-f)<y.Gg&&(a-=f*y.Gg),r=function P(l,m,r,e){var s,a,h=(0,y.g$)(l-r);return(0,y.a2)(h)>y.Gg?(0,y.MQ)(((0,y.g$)(m)*(a=(0,y.W8)(e))*(0,y.g$)(r)-(0,y.g$)(e)*(s=(0,y.W8)(m))*(0,y.g$)(l))/(s*a*h)):(m+e)/2}(m,r,a,h),l.point(e,r),l.lineEnd(),l.lineStart(),l.point(f,r),s=0),l.point(m=a,r=h),e=f},lineEnd:function(){l.lineEnd(),m=r=NaN},clean:function(){return 2-s}}},function L(l,m,r,e){var s;if(null==l)e.point(-y.pi,s=r*y.or),e.point(0,s),e.point(y.pi,s),e.point(y.pi,0),e.point(y.pi,-s),e.point(0,-s),e.point(-y.pi,-s),e.point(-y.pi,0),e.point(-y.pi,s);else if((0,y.a2)(l[0]-m[0])>y.Gg){var a=l[0]<m[0]?y.pi:-y.pi;e.point(-a,s=r*a/2),e.point(0,s),e.point(a,s)}else e.point(m[0],m[1])},[-y.pi,-y.or])},97208:function(tt,W,t){"use strict";t.d(W,{c:function(){return y}});var A=t(70932);function y(){var P,i=[];return{point:function(L,l,m){P.push([L,l,m])},lineStart:function(){i.push(P=[])},lineEnd:A.c,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var L=i;return i=[],P=null,L}}}},2728:function(tt,W,t){"use strict";t.d(W,{c:function(){return l}});var A=t(84220),y=t(61780),i=t(64528),P=t(41860),L=t(14229);function l(m){var r=(0,i.W8)(m),e=6*i.qw,s=r>0,a=(0,i.a2)(r)>i.Gg;function f(w,d){return(0,i.W8)(w)*(0,i.W8)(d)>r}function g(w,d,o){var v=(0,A.ux)(w),M=(0,A.ux)(d),b=[1,0,0],E=(0,A.CW)(v,M),x=(0,A.Ez)(E,E),S=E[0],T=x-S*S;if(!T)return!o&&w;var n=r*x/T,C=-r*S/T,p=(0,A.CW)(b,E),F=(0,A.wx)(b,n),D=(0,A.wx)(E,C);(0,A.mg)(F,D);var N=p,k=(0,A.Ez)(F,N),z=(0,A.Ez)(N,N),B=k*k-z*((0,A.Ez)(F,F)-1);if(!(B<0)){var O=(0,i._I)(B),U=(0,A.wx)(N,(-k-O)/z);if((0,A.mg)(U,F),U=(0,A.G)(U),!o)return U;var lt,G=w[0],J=d[0],et=w[1],at=d[1];J<G&&(lt=G,G=J,J=lt);var K=J-G,j=(0,i.a2)(K-i.pi)<i.Gg;if(!j&&at<et&&(lt=et,et=at,at=lt),j||K<i.Gg?j?et+at>0^U[1]<((0,i.a2)(U[0]-G)<i.Gg?et:at):et<=U[1]&&U[1]<=at:K>i.pi^(G<=U[0]&&U[0]<=J)){var H=(0,A.wx)(N,(-k+O)/z);return(0,A.mg)(H,F),[U,(0,A.G)(H)]}}}function c(w,d){var o=s?m:i.pi-m,v=0;return w<-o?v|=1:w>o&&(v|=2),d<-o?v|=4:d>o&&(v|=8),v}return(0,L.c)(f,function u(w){var d,o,v,M,b;return{lineStart:function(){M=v=!1,b=1},point:function(E,x){var T,S=[E,x],n=f(E,x),C=s?n?0:c(E,x):n?c(E+(E<0?i.pi:-i.pi),x):0;if(!d&&(M=v=n)&&w.lineStart(),n!==v&&(!(T=g(d,S))||(0,P.c)(d,T)||(0,P.c)(S,T))&&(S[2]=1),n!==v)b=0,n?(w.lineStart(),T=g(S,d),w.point(T[0],T[1])):(T=g(d,S),w.point(T[0],T[1],2),w.lineEnd()),d=T;else if(a&&d&&s^n){var p;!(C&o)&&(p=g(S,d,!0))&&(b=0,s?(w.lineStart(),w.point(p[0][0],p[0][1]),w.point(p[1][0],p[1][1]),w.lineEnd()):(w.point(p[1][0],p[1][1]),w.lineEnd(),w.lineStart(),w.point(p[0][0],p[0][1],3)))}n&&(!d||!(0,P.c)(d,S))&&w.point(S[0],S[1]),d=S,v=n,o=C},lineEnd:function(){v&&w.lineEnd(),d=null},clean:function(){return b|(M&&v)<<1}}},function h(w,d,o,v){(0,y.Q)(v,m,e,o,w,d)},s?[0,-m]:[-i.pi,m-i.pi])}},14229:function(tt,W,t){"use strict";t.d(W,{c:function(){return l}});var A=t(97208),y=t(32232),i=t(64528),P=t(58196),L=t(84706);function l(e,s,a,h){return function(f){var d,o,v,u=s(f),g=(0,A.c)(),c=s(g),w=!1,M={point:b,lineStart:x,lineEnd:S,polygonStart:function(){M.point=T,M.lineStart=n,M.lineEnd=C,o=[],d=[]},polygonEnd:function(){M.point=b,M.lineStart=x,M.lineEnd=S,o=(0,L.Uf)(o);var p=(0,P.c)(d,h);o.length?(w||(f.polygonStart(),w=!0),(0,y.c)(o,r,p,a,f)):p&&(w||(f.polygonStart(),w=!0),f.lineStart(),a(null,null,1,f),f.lineEnd()),w&&(f.polygonEnd(),w=!1),o=d=null},sphere:function(){f.polygonStart(),f.lineStart(),a(null,null,1,f),f.lineEnd(),f.polygonEnd()}};function b(p,F){e(p,F)&&f.point(p,F)}function E(p,F){u.point(p,F)}function x(){M.point=E,u.lineStart()}function S(){M.point=b,u.lineEnd()}function T(p,F){v.push([p,F]),c.point(p,F)}function n(){c.lineStart(),v=[]}function C(){T(v[0][0],v[0][1]),c.lineEnd();var D,k,z,B,p=c.clean(),F=g.result(),N=F.length;if(v.pop(),d.push(v),v=null,N){if(1&p){if((k=(z=F[0]).length-1)>0){for(w||(f.polygonStart(),w=!0),f.lineStart(),D=0;D<k;++D)f.point((B=z[D])[0],B[1]);f.lineEnd()}return}N>1&&2&p&&F.push(F.pop().concat(F.shift())),o.push(F.filter(m))}}return M}}function m(e){return e.length>1}function r(e,s){return((e=e.x)[0]<0?e[1]-i.or-i.Gg:i.or-e[1])-((s=s.x)[0]<0?s[1]-i.or-i.Gg:i.or-s[1])}},21676:function(tt,W,t){"use strict";t.d(W,{c:function(){return r}});var A=t(64528),y=t(97208);var P=t(32232),L=t(84706),l=1e9,m=-l;function r(e,s,a,h){function f(d,o){return e<=d&&d<=a&&s<=o&&o<=h}function u(d,o,v,M){var b=0,E=0;if(null==d||(b=g(d,v))!==(E=g(o,v))||w(d,o)<0^v>0)do{M.point(0===b||3===b?e:a,b>1?h:s)}while((b=(b+v+4)%4)!==E);else M.point(o[0],o[1])}function g(d,o){return(0,A.a2)(d[0]-e)<A.Gg?o>0?0:3:(0,A.a2)(d[0]-a)<A.Gg?o>0?2:1:(0,A.a2)(d[1]-s)<A.Gg?o>0?1:0:o>0?3:2}function c(d,o){return w(d.x,o.x)}function w(d,o){var v=g(d,1),M=g(o,1);return v!==M?v-M:0===v?o[1]-d[1]:1===v?d[0]-o[0]:2===v?d[1]-o[1]:o[0]-d[0]}return function(d){var M,b,E,x,S,T,n,C,p,F,D,o=d,v=(0,y.c)(),N={point:k,lineStart:function U(){N.point=J,b&&b.push(E=[]),F=!0,p=!1,n=C=NaN},lineEnd:function G(){M&&(J(x,S),T&&p&&v.rejoin(),M.push(v.result())),N.point=k,p&&o.lineEnd()},polygonStart:function B(){o=v,M=[],b=[],D=!0},polygonEnd:function O(){var et=function z(){for(var et=0,at=0,lt=b.length;at<lt;++at)for(var Z,it,K=b[at],j=1,rt=K.length,H=K[0],Q=H[0],Y=H[1];j<rt;++j)Z=Q,it=Y,Q=(H=K[j])[0],Y=H[1],it<=h?Y>h&&(Q-Z)*(h-it)>(Y-it)*(e-Z)&&++et:Y<=h&&(Q-Z)*(h-it)<(Y-it)*(e-Z)&&--et;return et}(),at=D&&et,lt=(M=(0,L.Uf)(M)).length;(at||lt)&&(d.polygonStart(),at&&(d.lineStart(),u(null,null,1,d),d.lineEnd()),lt&&(0,P.c)(M,c,et,u,d),d.polygonEnd()),o=d,M=b=E=null}};function k(et,at){f(et,at)&&o.point(et,at)}function J(et,at){var lt=f(et,at);if(b&&E.push([et,at]),F)x=et,S=at,T=lt,F=!1,lt&&(o.lineStart(),o.point(et,at));else if(lt&&p)o.point(et,at);else{var K=[n=Math.max(m,Math.min(l,n)),C=Math.max(m,Math.min(l,C))],j=[et=Math.max(m,Math.min(l,et)),at=Math.max(m,Math.min(l,at))];!function i(e,s,a,h,f,u){var E,g=e[0],c=e[1],o=0,v=1,M=s[0]-g,b=s[1]-c;if(E=a-g,M||!(E>0)){if(E/=M,M<0){if(E<o)return;E<v&&(v=E)}else if(M>0){if(E>v)return;E>o&&(o=E)}if(E=f-g,M||!(E<0)){if(E/=M,M<0){if(E>v)return;E>o&&(o=E)}else if(M>0){if(E<o)return;E<v&&(v=E)}if(E=h-c,b||!(E>0)){if(E/=b,b<0){if(E<o)return;E<v&&(v=E)}else if(b>0){if(E>v)return;E>o&&(o=E)}if(E=u-c,b||!(E<0)){if(E/=b,b<0){if(E>v)return;E>o&&(o=E)}else if(b>0){if(E<o)return;E<v&&(v=E)}return o>0&&(e[0]=g+o*M,e[1]=c+o*b),v<1&&(s[0]=g+v*M,s[1]=c+v*b),!0}}}}}(K,j,e,s,a,h)?lt&&(o.lineStart(),o.point(et,at),D=!1):(p||(o.lineStart(),o.point(K[0],K[1])),o.point(j[0],j[1]),lt||o.lineEnd(),D=!1)}n=et,C=at,p=lt}return N}}},32232:function(tt,W,t){"use strict";t.d(W,{c:function(){return P}});var A=t(41860),y=t(64528);function i(l,m,r,e){this.x=l,this.z=m,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function P(l,m,r,e,s){var f,u,a=[],h=[];if(l.forEach(function(v){if(!((M=v.length-1)<=0)){var M,x,b=v[0],E=v[M];if((0,A.c)(b,E)){if(!b[2]&&!E[2]){for(s.lineStart(),f=0;f<M;++f)s.point((b=v[f])[0],b[1]);return void s.lineEnd()}E[0]+=2*y.Gg}a.push(x=new i(b,v,null,!0)),h.push(x.o=new i(b,null,x,!1)),a.push(x=new i(E,v,null,!1)),h.push(x.o=new i(E,null,x,!0))}}),a.length){for(h.sort(m),L(a),L(h),f=0,u=h.length;f<u;++f)h[f].e=r=!r;for(var c,w,g=a[0];;){for(var d=g,o=!0;d.v;)if((d=d.n)===g)return;c=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(o)for(f=0,u=c.length;f<u;++f)s.point((w=c[f])[0],w[1]);else e(d.x,d.n.x,1,s);d=d.n}else{if(o)for(f=(c=d.p.z).length-1;f>=0;--f)s.point((w=c[f])[0],w[1]);else e(d.x,d.p.x,-1,s);d=d.p}c=(d=d.o).z,o=!o}while(!d.v);s.lineEnd()}}}function L(l){if(m=l.length){for(var m,s,r=0,e=l[0];++r<m;)e.n=s=l[r],s.p=e,e=s;e.n=s=l[0],s.p=e}}},68120:function(tt,W,t){"use strict";function A(y,i){function P(L,l){return L=y(L,l),i(L[0],L[1])}return y.invert&&i.invert&&(P.invert=function(L,l){return(L=i.invert(L,l))&&y.invert(L[0],L[1])}),P}t.d(W,{c:function(){return A}})},7376:function(tt,W,t){"use strict";function A(y){return y}t.d(W,{c:function(){return A}})},83356:function(tt,W,t){"use strict";t.r(W),t.d(W,{geoAlbers:function(){return gr},geoAlbersUsa:function(){return ne},geoArea:function(){return A.cp},geoAzimuthalEqualArea:function(){return pe.c},geoAzimuthalEqualAreaRaw:function(){return pe.y},geoAzimuthalEquidistant:function(){return be.c},geoAzimuthalEquidistantRaw:function(){return be.O},geoBounds:function(){return y.c},geoCentroid:function(){return i.c},geoCircle:function(){return P.c},geoClipAntimeridian:function(){return L.c},geoClipCircle:function(){return l.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return m.c},geoConicConformal:function(){return ir},geoConicConformalRaw:function(){return nr},geoConicEqualArea:function(){return Ye},geoConicEqualAreaRaw:function(){return Ue},geoConicEquidistant:function(){return Ut},geoConicEquidistantRaw:function(){return Ot},geoContains:function(){return B},geoDistance:function(){return T},geoEqualEarth:function(){return or},geoEqualEarthRaw:function(){return Re},geoEquirectangular:function(){return lr.c},geoEquirectangularRaw:function(){return lr.u},geoGnomonic:function(){return dr.c},geoGnomonicRaw:function(){return dr.Y},geoGraticule:function(){return J},geoGraticule10:function(){return et},geoIdentity:function(){return Cr},geoInterpolate:function(){return at.c},geoLength:function(){return E},geoMercator:function(){return Ie},geoMercatorRaw:function(){return Me},geoNaturalEarth1:function(){return $r.c},geoNaturalEarth1Raw:function(){return $r.g},geoOrthographic:function(){return Ar.c},geoOrthographicRaw:function(){return Ar.t},geoPath:function(){return Te},geoProjection:function(){return Ge.c},geoProjectionMutator:function(){return Ge.U},geoRotation:function(){return Se.c},geoStereographic:function(){return Ur},geoStereographicRaw:function(){return nn},geoStream:function(){return f.c},geoTransform:function(){return pr.c},geoTransverseMercator:function(){return bn},geoTransverseMercatorRaw:function(){return Tn}});var A=t(95384),y=t(13696),i=t(24052),P=t(61780),L=t(78284),l=t(2728),m=t(21676);function r(){var sn,pn,gn,ur=0,Mr=0,Br=960,Or=500;return gn={stream:function(wn){return sn&&pn===wn?sn:sn=(0,m.c)(ur,Mr,Br,Or)(pn=wn)},extent:function(wn){return arguments.length?(ur=+wn[0][0],Mr=+wn[0][1],Br=+wn[1][0],Or=+wn[1][1],sn=pn=null,gn):[[ur,Mr],[Br,Or]]}}}var g,c,w,e=t(58196),s=t(88728),a=t(64528),h=t(70932),f=t(16016),u=(0,s.c)(),d={sphere:h.c,point:h.c,lineStart:function o(){d.point=M,d.lineEnd=v},lineEnd:h.c,polygonStart:h.c,polygonEnd:h.c};function v(){d.point=d.lineEnd=h.c}function M(ur,Mr){g=ur*=a.qw,c=(0,a.g$)(Mr*=a.qw),w=(0,a.W8)(Mr),d.point=b}function b(ur,Mr){ur*=a.qw;var Br=(0,a.g$)(Mr*=a.qw),Or=(0,a.W8)(Mr),sn=(0,a.a2)(ur-g),pn=(0,a.W8)(sn),wn=Or*(0,a.g$)(sn),Rn=w*Br-c*Or*pn,Kn=c*Br+w*Or*pn;u.add((0,a.WE)((0,a._I)(wn*wn+Rn*Rn),Kn)),g=ur,c=Br,w=Or}function E(ur){return u.reset(),(0,f.c)(ur,d),+u}var x=[null,null],S={type:"LineString",coordinates:x};function T(ur,Mr){return x[0]=ur,x[1]=Mr,E(S)}var n={Feature:function(ur,Mr){return p(ur.geometry,Mr)},FeatureCollection:function(ur,Mr){for(var Br=ur.features,Or=-1,sn=Br.length;++Or<sn;)if(p(Br[Or].geometry,Mr))return!0;return!1}},C={Sphere:function(){return!0},Point:function(ur,Mr){return F(ur.coordinates,Mr)},MultiPoint:function(ur,Mr){for(var Br=ur.coordinates,Or=-1,sn=Br.length;++Or<sn;)if(F(Br[Or],Mr))return!0;return!1},LineString:function(ur,Mr){return D(ur.coordinates,Mr)},MultiLineString:function(ur,Mr){for(var Br=ur.coordinates,Or=-1,sn=Br.length;++Or<sn;)if(D(Br[Or],Mr))return!0;return!1},Polygon:function(ur,Mr){return N(ur.coordinates,Mr)},MultiPolygon:function(ur,Mr){for(var Br=ur.coordinates,Or=-1,sn=Br.length;++Or<sn;)if(N(Br[Or],Mr))return!0;return!1},GeometryCollection:function(ur,Mr){for(var Br=ur.geometries,Or=-1,sn=Br.length;++Or<sn;)if(p(Br[Or],Mr))return!0;return!1}};function p(ur,Mr){return!(!ur||!C.hasOwnProperty(ur.type))&&C[ur.type](ur,Mr)}function F(ur,Mr){return 0===T(ur,Mr)}function D(ur,Mr){for(var Br,Or,sn,pn=0,gn=ur.length;pn<gn;pn++){if(0===(Or=T(ur[pn],Mr))||pn>0&&(sn=T(ur[pn],ur[pn-1]))>0&&Br<=sn&&Or<=sn&&(Br+Or-sn)*(1-Math.pow((Br-Or)/sn,2))<a.a8*sn)return!0;Br=Or}return!1}function N(ur,Mr){return!!(0,e.c)(ur.map(k),z(Mr))}function k(ur){return(ur=ur.map(z)).pop(),ur}function z(ur){return[ur[0]*a.qw,ur[1]*a.qw]}function B(ur,Mr){return(ur&&n.hasOwnProperty(ur.type)?n[ur.type]:p)(ur,Mr)}var O=t(84706);function U(ur,Mr,Br){var Or=(0,O.ik)(ur,Mr-a.Gg,Br).concat(Mr);return function(sn){return Or.map(function(pn){return[sn,pn]})}}function G(ur,Mr,Br){var Or=(0,O.ik)(ur,Mr-a.Gg,Br).concat(Mr);return function(sn){return Or.map(function(pn){return[pn,sn]})}}function J(){var ur,Mr,Br,Or,sn,pn,gn,wn,qn,Qn,yr,tn,Rn=10,Kn=Rn,_n=90,ua=360,Qr=2.5;function dn(){return{type:"MultiLineString",coordinates:Fn()}}function Fn(){return(0,O.ik)((0,a.Km)(Or/_n)*_n,Br,_n).map(yr).concat((0,O.ik)((0,a.Km)(wn/ua)*ua,gn,ua).map(tn)).concat((0,O.ik)((0,a.Km)(Mr/Rn)*Rn,ur,Rn).filter(function(Sn){return(0,a.a2)(Sn%_n)>a.Gg}).map(qn)).concat((0,O.ik)((0,a.Km)(pn/Kn)*Kn,sn,Kn).filter(function(Sn){return(0,a.a2)(Sn%ua)>a.Gg}).map(Qn))}return dn.lines=function(){return Fn().map(function(Sn){return{type:"LineString",coordinates:Sn}})},dn.outline=function(){return{type:"Polygon",coordinates:[yr(Or).concat(tn(gn).slice(1),yr(Br).reverse().slice(1),tn(wn).reverse().slice(1))]}},dn.extent=function(Sn){return arguments.length?dn.extentMajor(Sn).extentMinor(Sn):dn.extentMinor()},dn.extentMajor=function(Sn){return arguments.length?(wn=+Sn[0][1],gn=+Sn[1][1],(Or=+Sn[0][0])>(Br=+Sn[1][0])&&(Sn=Or,Or=Br,Br=Sn),wn>gn&&(Sn=wn,wn=gn,gn=Sn),dn.precision(Qr)):[[Or,wn],[Br,gn]]},dn.extentMinor=function(Sn){return arguments.length?(pn=+Sn[0][1],sn=+Sn[1][1],(Mr=+Sn[0][0])>(ur=+Sn[1][0])&&(Sn=Mr,Mr=ur,ur=Sn),pn>sn&&(Sn=pn,pn=sn,sn=Sn),dn.precision(Qr)):[[Mr,pn],[ur,sn]]},dn.step=function(Sn){return arguments.length?dn.stepMajor(Sn).stepMinor(Sn):dn.stepMinor()},dn.stepMajor=function(Sn){return arguments.length?(_n=+Sn[0],ua=+Sn[1],dn):[_n,ua]},dn.stepMinor=function(Sn){return arguments.length?(Rn=+Sn[0],Kn=+Sn[1],dn):[Rn,Kn]},dn.precision=function(Sn){return arguments.length?(Qr=+Sn,qn=U(pn,sn,90),Qn=G(Mr,ur,Qr),yr=U(wn,gn,90),tn=G(Or,Br,Qr),dn):Qr},dn.extentMajor([[-180,-90+a.Gg],[180,90-a.Gg]]).extentMinor([[-180,-80-a.Gg],[180,80+a.Gg]])}function et(){return J()()}var rt,H,Z,it,at=t(27284),lt=t(7376),K=(0,s.c)(),j=(0,s.c)(),Q={point:h.c,lineStart:h.c,lineEnd:h.c,polygonStart:function(){Q.lineStart=Y,Q.lineEnd=st},polygonEnd:function(){Q.lineStart=Q.lineEnd=Q.point=h.c,K.add((0,a.a2)(j)),j.reset()},result:function(){var ur=K/2;return K.reset(),ur}};function Y(){Q.point=nt}function nt(ur,Mr){Q.point=_,rt=Z=ur,H=it=Mr}function _(ur,Mr){j.add(it*ur-Z*Mr),Z=ur,it=Mr}function st(){_(rt,H)}var Vt,re,le,It,dt=Q,xt=t(73784),yt=0,St=0,Et=0,Tt=0,gt=0,Mt=0,Nt=0,Gt=0,Pt=0,Rt={point:$t,lineStart:oe,lineEnd:de,polygonStart:function(){Rt.lineStart=jt,Rt.lineEnd=Ct},polygonEnd:function(){Rt.point=$t,Rt.lineStart=oe,Rt.lineEnd=de},result:function(){var ur=Pt?[Nt/Pt,Gt/Pt]:Mt?[Tt/Mt,gt/Mt]:Et?[yt/Et,St/Et]:[NaN,NaN];return yt=St=Et=Tt=gt=Mt=Nt=Gt=Pt=0,ur}};function $t(ur,Mr){yt+=ur,St+=Mr,++Et}function oe(){Rt.point=se}function se(ur,Mr){Rt.point=ve,$t(le=ur,It=Mr)}function ve(ur,Mr){var Br=ur-le,Or=Mr-It,sn=(0,a._I)(Br*Br+Or*Or);Tt+=sn*(le+ur)/2,gt+=sn*(It+Mr)/2,Mt+=sn,$t(le=ur,It=Mr)}function de(){Rt.point=$t}function jt(){Rt.point=Wt}function Ct(){Xt(Vt,re)}function Wt(ur,Mr){Rt.point=Xt,$t(Vt=le=ur,re=It=Mr)}function Xt(ur,Mr){var Br=ur-le,Or=Mr-It,sn=(0,a._I)(Br*Br+Or*Or);Tt+=sn*(le+ur)/2,gt+=sn*(It+Mr)/2,Mt+=sn,Nt+=(sn=It*ur-le*Mr)*(le+ur),Gt+=sn*(It+Mr),Pt+=3*sn,$t(le=ur,It=Mr)}var Ht=Rt;function Bt(ur){this._context=ur}Bt.prototype={_radius:4.5,pointRadius:function(ur){return this._radius=ur,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(ur,Mr){switch(this._point){case 0:this._context.moveTo(ur,Mr),this._point=1;break;case 1:this._context.lineTo(ur,Mr);break;default:this._context.moveTo(ur+this._radius,Mr),this._context.arc(ur,Mr,this._radius,0,a.kD)}},result:h.c};var kt,wt,ft,pt,Dt,zt=(0,s.c)(),Qt={point:h.c,lineStart:function(){Qt.point=te},lineEnd:function(){kt&&ee(wt,ft),Qt.point=h.c},polygonStart:function(){kt=!0},polygonEnd:function(){kt=null},result:function(){var ur=+zt;return zt.reset(),ur}};function te(ur,Mr){Qt.point=ee,wt=pt=ur,ft=Dt=Mr}function ee(ur,Mr){zt.add((0,a._I)((pt-=ur)*pt+(Dt-=Mr)*Dt)),pt=ur,Dt=Mr}var Ne=Qt;function We(){this._string=[]}function ye(ur){return"m0,"+ur+"a"+ur+","+ur+" 0 1,1 0,"+-2*ur+"a"+ur+","+ur+" 0 1,1 0,"+2*ur+"z"}function Te(ur,Mr){var Or,sn,Br=4.5;function pn(gn){return gn&&("function"==typeof Br&&sn.pointRadius(+Br.apply(this,arguments)),(0,f.c)(gn,Or(sn))),sn.result()}return pn.area=function(gn){return(0,f.c)(gn,Or(dt)),dt.result()},pn.measure=function(gn){return(0,f.c)(gn,Or(Ne)),Ne.result()},pn.bounds=function(gn){return(0,f.c)(gn,Or(xt.c)),xt.c.result()},pn.centroid=function(gn){return(0,f.c)(gn,Or(Ht)),Ht.result()},pn.projection=function(gn){return arguments.length?(Or=null==gn?(ur=null,lt.c):(ur=gn).stream,pn):ur},pn.context=function(gn){return arguments.length?(sn=null==gn?(Mr=null,new We):new Bt(Mr=gn),"function"!=typeof Br&&sn.pointRadius(Br),pn):Mr},pn.pointRadius=function(gn){return arguments.length?(Br="function"==typeof gn?gn:(sn.pointRadius(+gn),+gn),pn):Br},pn.projection(ur).context(Mr)}We.prototype={_radius:4.5,_circle:ye(4.5),pointRadius:function(ur){return(ur=+ur)!==this._radius&&(this._radius=ur,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(ur,Mr){switch(this._point){case 0:this._string.push("M",ur,",",Mr),this._point=1;break;case 1:this._string.push("L",ur,",",Mr);break;default:null==this._circle&&(this._circle=ye(this._radius)),this._string.push("M",ur,",",Mr,this._circle)}},result:function(){if(this._string.length){var ur=this._string.join("");return this._string=[],ur}return null}};var Ge=t(87952);function hr(ur){var Mr=0,Br=a.pi/3,Or=(0,Ge.U)(ur),sn=Or(Mr,Br);return sn.parallels=function(pn){return arguments.length?Or(Mr=pn[0]*a.qw,Br=pn[1]*a.qw):[Mr*a.oh,Br*a.oh]},sn}function Ue(ur,Mr){var Br=(0,a.g$)(ur),Or=(Br+(0,a.g$)(Mr))/2;if((0,a.a2)(Or)<a.Gg)return function ce(ur){var Mr=(0,a.W8)(ur);function Br(Or,sn){return[Or*Mr,(0,a.g$)(sn)/Mr]}return Br.invert=function(Or,sn){return[Or/Mr,(0,a.qR)(sn*Mr)]},Br}(ur);var sn=1+Br*(2*Or-Br),pn=(0,a._I)(sn)/Or;function gn(wn,Rn){var Kn=(0,a._I)(sn-2*Or*(0,a.g$)(Rn))/Or;return[Kn*(0,a.g$)(wn*=Or),pn-Kn*(0,a.W8)(wn)]}return gn.invert=function(wn,Rn){var Kn=pn-Rn,_n=(0,a.WE)(wn,(0,a.a2)(Kn))*(0,a.kq)(Kn);return Kn*Or<0&&(_n-=a.pi*(0,a.kq)(wn)*(0,a.kq)(Kn)),[_n/Or,(0,a.qR)((sn-(wn*wn+Kn*Kn)*Or*Or)/(2*Or))]},gn}function Ye(){return hr(Ue).scale(155.424).center([0,33.6442])}function gr(){return Ye().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var tr=t(86420);function ne(){var ur,Mr,Or,pn,wn,Rn,Br=gr(),sn=Ye().rotate([154,0]).center([-2,58.5]).parallels([55,65]),gn=Ye().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Kn={point:function(qn,Qn){Rn=[qn,Qn]}};function _n(qn){var Qn=qn[0],yr=qn[1];return Rn=null,Or.point(Qn,yr),Rn||(pn.point(Qn,yr),Rn)||(wn.point(Qn,yr),Rn)}function ua(){return ur=Mr=null,_n}return _n.invert=function(qn){var Qn=Br.scale(),yr=Br.translate(),tn=(qn[0]-yr[0])/Qn,Qr=(qn[1]-yr[1])/Qn;return(Qr>=.12&&Qr<.234&&tn>=-.425&&tn<-.214?sn:Qr>=.166&&Qr<.234&&tn>=-.214&&tn<-.115?gn:Br).invert(qn)},_n.stream=function(qn){return ur&&Mr===qn?ur:ur=function he(ur){var Mr=ur.length;return{point:function(Br,Or){for(var sn=-1;++sn<Mr;)ur[sn].point(Br,Or)},sphere:function(){for(var Br=-1;++Br<Mr;)ur[Br].sphere()},lineStart:function(){for(var Br=-1;++Br<Mr;)ur[Br].lineStart()},lineEnd:function(){for(var Br=-1;++Br<Mr;)ur[Br].lineEnd()},polygonStart:function(){for(var Br=-1;++Br<Mr;)ur[Br].polygonStart()},polygonEnd:function(){for(var Br=-1;++Br<Mr;)ur[Br].polygonEnd()}}}([Br.stream(Mr=qn),sn.stream(qn),gn.stream(qn)])},_n.precision=function(qn){return arguments.length?(Br.precision(qn),sn.precision(qn),gn.precision(qn),ua()):Br.precision()},_n.scale=function(qn){return arguments.length?(Br.scale(qn),sn.scale(.35*qn),gn.scale(qn),_n.translate(Br.translate())):Br.scale()},_n.translate=function(qn){if(!arguments.length)return Br.translate();var Qn=Br.scale(),yr=+qn[0],tn=+qn[1];return Or=Br.translate(qn).clipExtent([[yr-.455*Qn,tn-.238*Qn],[yr+.455*Qn,tn+.238*Qn]]).stream(Kn),pn=sn.translate([yr-.307*Qn,tn+.201*Qn]).clipExtent([[yr-.425*Qn+a.Gg,tn+.12*Qn+a.Gg],[yr-.214*Qn-a.Gg,tn+.234*Qn-a.Gg]]).stream(Kn),wn=gn.translate([yr-.205*Qn,tn+.212*Qn]).clipExtent([[yr-.214*Qn+a.Gg,tn+.166*Qn+a.Gg],[yr-.115*Qn-a.Gg,tn+.234*Qn-a.Gg]]).stream(Kn),ua()},_n.fitExtent=function(qn,Qn){return(0,tr.QX)(_n,qn,Qn)},_n.fitSize=function(qn,Qn){return(0,tr.UV)(_n,qn,Qn)},_n.fitWidth=function(qn,Qn){return(0,tr.Qx)(_n,qn,Qn)},_n.fitHeight=function(qn,Qn){return(0,tr.OW)(_n,qn,Qn)},_n.scale(1070)}var pe=t(54724),be=t(69020),Se=t(92992);function Me(ur,Mr){return[ur,(0,a.Yz)((0,a.a6)((a.or+Mr)/2))]}function Ie(){return Fe(Me).scale(961/a.kD)}function Fe(ur){var wn,Rn,Kn,Mr=(0,Ge.c)(ur),Br=Mr.center,Or=Mr.scale,sn=Mr.translate,pn=Mr.clipExtent,gn=null;function _n(){var ua=a.pi*Or(),qn=Mr((0,Se.c)(Mr.rotate()).invert([0,0]));return pn(null==gn?[[qn[0]-ua,qn[1]-ua],[qn[0]+ua,qn[1]+ua]]:ur===Me?[[Math.max(qn[0]-ua,gn),wn],[Math.min(qn[0]+ua,Rn),Kn]]:[[gn,Math.max(qn[1]-ua,wn)],[Rn,Math.min(qn[1]+ua,Kn)]])}return Mr.scale=function(ua){return arguments.length?(Or(ua),_n()):Or()},Mr.translate=function(ua){return arguments.length?(sn(ua),_n()):sn()},Mr.center=function(ua){return arguments.length?(Br(ua),_n()):Br()},Mr.clipExtent=function(ua){return arguments.length?(null==ua?gn=wn=Rn=Kn=null:(gn=+ua[0][0],wn=+ua[0][1],Rn=+ua[1][0],Kn=+ua[1][1]),_n()):null==gn?null:[[gn,wn],[Rn,Kn]]},_n()}function Ze(ur){return(0,a.a6)((a.or+ur)/2)}function nr(ur,Mr){var Br=(0,a.W8)(ur),Or=ur===Mr?(0,a.g$)(ur):(0,a.Yz)(Br/(0,a.W8)(Mr))/(0,a.Yz)(Ze(Mr)/Ze(ur)),sn=Br*(0,a.g3)(Ze(ur),Or)/Or;if(!Or)return Me;function pn(gn,wn){sn>0?wn<-a.or+a.Gg&&(wn=-a.or+a.Gg):wn>a.or-a.Gg&&(wn=a.or-a.Gg);var Rn=sn/(0,a.g3)(Ze(wn),Or);return[Rn*(0,a.g$)(Or*gn),sn-Rn*(0,a.W8)(Or*gn)]}return pn.invert=function(gn,wn){var Rn=sn-wn,Kn=(0,a.kq)(Or)*(0,a._I)(gn*gn+Rn*Rn),_n=(0,a.WE)(gn,(0,a.a2)(Rn))*(0,a.kq)(Rn);return Rn*Or<0&&(_n-=a.pi*(0,a.kq)(gn)*(0,a.kq)(Rn)),[_n/Or,2*(0,a.MQ)((0,a.g3)(sn/Kn,1/Or))-a.or]},pn}function ir(){return hr(nr).scale(109.5).parallels([30,30])}Me.invert=function(ur,Mr){return[ur,2*(0,a.MQ)((0,a.oN)(Mr))-a.or]};var lr=t(69604);function Ot(ur,Mr){var Br=(0,a.W8)(ur),Or=ur===Mr?(0,a.g$)(ur):(Br-(0,a.W8)(Mr))/(Mr-ur),sn=Br/Or+ur;if((0,a.a2)(Or)<a.Gg)return lr.u;function pn(gn,wn){var Rn=sn-wn,Kn=Or*gn;return[Rn*(0,a.g$)(Kn),sn-Rn*(0,a.W8)(Kn)]}return pn.invert=function(gn,wn){var Rn=sn-wn,Kn=(0,a.WE)(gn,(0,a.a2)(Rn))*(0,a.kq)(Rn);return Rn*Or<0&&(Kn-=a.pi*(0,a.kq)(gn)*(0,a.kq)(Rn)),[Kn/Or,sn-(0,a.kq)(Or)*(0,a._I)(gn*gn+Rn*Rn)]},pn}function Ut(){return hr(Ot).scale(131.154).center([0,13.9389])}var Ce=1.340264,Le=-.081106,Xe=893e-6,_e=.003796,fr=(0,a._I)(3)/2;function Re(ur,Mr){var Br=(0,a.qR)(fr*(0,a.g$)(Mr)),Or=Br*Br,sn=Or*Or*Or;return[ur*(0,a.W8)(Br)/(fr*(Ce+3*Le*Or+sn*(7*Xe+9*_e*Or))),Br*(Ce+Le*Or+sn*(Xe+_e*Or))]}function or(){return(0,Ge.c)(Re).scale(177.158)}Re.invert=function(ur,Mr){for(var gn,Br=Mr,Or=Br*Br,sn=Or*Or*Or,pn=0;pn<12&&(sn=(Or=(Br-=gn=(Br*(Ce+Le*Or+sn*(Xe+_e*Or))-Mr)/(Ce+3*Le*Or+sn*(7*Xe+9*_e*Or)))*Br)*Or*Or,!((0,a.a2)(gn)<a.a8));++pn);return[fr*ur*(Ce+3*Le*Or+sn*(7*Xe+9*_e*Or))/(0,a.W8)(Br),(0,a.qR)((0,a.g$)(Br)/fr)]};var dr=t(53285),pr=t(15196);function Cr(){var gn,wn,Kn,_n,ua,Qr,dn,ur=1,Mr=0,Br=0,Or=1,sn=1,pn=0,Rn=null,qn=1,Qn=1,yr=(0,pr.s)({point:function(En,kn){var Hn=Sn([En,kn]);this.stream.point(Hn[0],Hn[1])}}),tn=lt.c;function Fn(){return qn=ur*Or,Qn=ur*sn,Qr=dn=null,Sn}function Sn(En){var kn=En[0]*qn,Hn=En[1]*Qn;if(pn){var ta=Hn*gn-kn*wn;kn=kn*gn+Hn*wn,Hn=ta}return[kn+Mr,Hn+Br]}return Sn.invert=function(En){var kn=En[0]-Mr,Hn=En[1]-Br;if(pn){var ta=Hn*gn+kn*wn;kn=kn*gn-Hn*wn,Hn=ta}return[kn/qn,Hn/Qn]},Sn.stream=function(En){return Qr&&dn===En?Qr:Qr=yr(tn(dn=En))},Sn.postclip=function(En){return arguments.length?(tn=En,Rn=Kn=_n=ua=null,Fn()):tn},Sn.clipExtent=function(En){return arguments.length?(tn=null==En?(Rn=Kn=_n=ua=null,lt.c):(0,m.c)(Rn=+En[0][0],Kn=+En[0][1],_n=+En[1][0],ua=+En[1][1]),Fn()):null==Rn?null:[[Rn,Kn],[_n,ua]]},Sn.scale=function(En){return arguments.length?(ur=+En,Fn()):ur},Sn.translate=function(En){return arguments.length?(Mr=+En[0],Br=+En[1],Fn()):[Mr,Br]},Sn.angle=function(En){return arguments.length?(wn=(0,a.g$)(pn=En%360*a.qw),gn=(0,a.W8)(pn),Fn()):pn*a.oh},Sn.reflectX=function(En){return arguments.length?(Or=En?-1:1,Fn()):Or<0},Sn.reflectY=function(En){return arguments.length?(sn=En?-1:1,Fn()):sn<0},Sn.fitExtent=function(En,kn){return(0,tr.QX)(Sn,En,kn)},Sn.fitSize=function(En,kn){return(0,tr.UV)(Sn,En,kn)},Sn.fitWidth=function(En,kn){return(0,tr.Qx)(Sn,En,kn)},Sn.fitHeight=function(En,kn){return(0,tr.OW)(Sn,En,kn)},Sn}var $r=t(47984),Ar=t(4888),Gr=t(62280);function nn(ur,Mr){var Br=(0,a.W8)(Mr),Or=1+(0,a.W8)(ur)*Br;return[Br*(0,a.g$)(ur)/Or,(0,a.g$)(Mr)/Or]}function Ur(){return(0,Ge.c)(nn).scale(250).clipAngle(142)}function Tn(ur,Mr){return[(0,a.Yz)((0,a.a6)((a.or+Mr)/2)),-ur]}function bn(){var ur=Fe(Tn),Mr=ur.center,Br=ur.rotate;return ur.center=function(Or){return arguments.length?Mr([-Or[1],Or[0]]):[(Or=Mr())[1],-Or[0]]},ur.rotate=function(Or){return arguments.length?Br([Or[0],Or[1],Or.length>2?Or[2]+90:90]):[(Or=Br())[0],Or[1],Or[2]-90]},Br([0,0,90]).scale(159.155)}nn.invert=(0,Gr.g)(function(ur){return 2*(0,a.MQ)(ur)}),Tn.invert=function(ur,Mr){return[-Mr,2*(0,a.MQ)((0,a.oN)(ur))-a.or]}},27284:function(tt,W,t){"use strict";t.d(W,{c:function(){return y}});var A=t(64528);function y(i,P){var L=i[0]*A.qw,l=i[1]*A.qw,m=P[0]*A.qw,r=P[1]*A.qw,e=(0,A.W8)(l),s=(0,A.g$)(l),a=(0,A.W8)(r),h=(0,A.g$)(r),f=e*(0,A.W8)(L),u=e*(0,A.g$)(L),g=a*(0,A.W8)(m),c=a*(0,A.g$)(m),w=2*(0,A.qR)((0,A._I)((0,A.SD)(r-l)+e*a*(0,A.SD)(m-L))),d=(0,A.g$)(w),o=w?function(v){var M=(0,A.g$)(v*=w)/d,b=(0,A.g$)(w-v)/d,E=b*f+M*g,x=b*u+M*c,S=b*s+M*h;return[(0,A.WE)(x,E)*A.oh,(0,A.WE)(S,(0,A._I)(E*E+x*x))*A.oh]}:function(){return[L*A.oh,l*A.oh]};return o.distance=w,o}},64528:function(tt,W,t){"use strict";t.d(W,{Gg:function(){return A},Km:function(){return f},MQ:function(){return s},SD:function(){return x},W8:function(){return h},WE:function(){return a},Yz:function(){return c},_I:function(){return v},a2:function(){return e},a6:function(){return M},a8:function(){return y},g$:function(){return d},g3:function(){return w},kD:function(){return l},kq:function(){return o},mE:function(){return b},oN:function(){return u},oh:function(){return m},or:function(){return P},pi:function(){return i},qR:function(){return E},qw:function(){return r},wL:function(){return L}});var A=1e-6,y=1e-12,i=Math.PI,P=i/2,L=i/4,l=2*i,m=180/i,r=i/180,e=Math.abs,s=Math.atan,a=Math.atan2,h=Math.cos,f=Math.ceil,u=Math.exp,c=(Math,Math.log),w=Math.pow,d=Math.sin,o=Math.sign||function(S){return S>0?1:S<0?-1:0},v=Math.sqrt,M=Math.tan;function b(S){return S>1?0:S<-1?i:Math.acos(S)}function E(S){return S>1?P:S<-1?-P:Math.asin(S)}function x(S){return(S=d(S/2))*S}},70932:function(tt,W,t){"use strict";function A(){}t.d(W,{c:function(){return A}})},73784:function(tt,W,t){"use strict";var A=t(70932),y=1/0,i=y,P=-y,L=P;W.c={point:function m(r,e){r<y&&(y=r),r>P&&(P=r),e<i&&(i=e),e>L&&(L=e)},lineStart:A.c,lineEnd:A.c,polygonStart:A.c,polygonEnd:A.c,result:function(){var r=[[y,i],[P,L]];return P=L=-(i=y=1/0),r}}},41860:function(tt,W,t){"use strict";t.d(W,{c:function(){return y}});var A=t(64528);function y(i,P){return(0,A.a2)(i[0]-P[0])<A.Gg&&(0,A.a2)(i[1]-P[1])<A.Gg}},58196:function(tt,W,t){"use strict";t.d(W,{c:function(){return l}});var A=t(88728),y=t(84220),i=t(64528),P=(0,A.c)();function L(m){return(0,i.a2)(m[0])<=i.pi?m[0]:(0,i.kq)(m[0])*(((0,i.a2)(m[0])+i.pi)%i.kD-i.pi)}function l(m,r){var e=L(r),s=r[1],a=(0,i.g$)(s),h=[(0,i.g$)(e),-(0,i.W8)(e),0],f=0,u=0;P.reset(),1===a?s=i.or+i.Gg:-1===a&&(s=-i.or-i.Gg);for(var g=0,c=m.length;g<c;++g)if(d=(w=m[g]).length)for(var w,d,o=w[d-1],v=L(o),M=o[1]/2+i.wL,b=(0,i.g$)(M),E=(0,i.W8)(M),x=0;x<d;++x,v=T,b=C,E=p,o=S){var S=w[x],T=L(S),n=S[1]/2+i.wL,C=(0,i.g$)(n),p=(0,i.W8)(n),F=T-v,D=F>=0?1:-1,N=D*F,k=N>i.pi,z=b*C;if(P.add((0,i.WE)(z*D*(0,i.g$)(N),E*p+z*(0,i.W8)(N))),f+=k?F+D*i.kD:F,k^v>=e^T>=e){var B=(0,y.CW)((0,y.ux)(o),(0,y.ux)(S));(0,y.cJ)(B);var O=(0,y.CW)(h,B);(0,y.cJ)(O);var U=(k^F>=0?-1:1)*(0,i.qR)(O[2]);(s>U||s===U&&(B[0]||B[1]))&&(u+=k^F>=0?1:-1)}}return(f<-i.Gg||f<i.Gg&&P<-i.Gg)^1&u}},62280:function(tt,W,t){"use strict";t.d(W,{a:function(){return y},g:function(){return i}});var A=t(64528);function y(P){return function(L,l){var m=(0,A.W8)(L),r=(0,A.W8)(l),e=P(m*r);return[e*r*(0,A.g$)(L),e*(0,A.g$)(l)]}}function i(P){return function(L,l){var m=(0,A._I)(L*L+l*l),r=P(m),e=(0,A.g$)(r),s=(0,A.W8)(r);return[(0,A.WE)(L*e,m*s),(0,A.qR)(m&&l*e/m)]}}},54724:function(tt,W,t){"use strict";t.d(W,{c:function(){return L},y:function(){return P}});var A=t(64528),y=t(62280),i=t(87952),P=(0,y.a)(function(l){return(0,A._I)(2/(1+l))});function L(){return(0,i.c)(P).scale(124.75).clipAngle(179.999)}P.invert=(0,y.g)(function(l){return 2*(0,A.qR)(l/2)})},69020:function(tt,W,t){"use strict";t.d(W,{O:function(){return P},c:function(){return L}});var A=t(64528),y=t(62280),i=t(87952),P=(0,y.a)(function(l){return(l=(0,A.mE)(l))&&l/(0,A.g$)(l)});function L(){return(0,i.c)(P).scale(79.4188).clipAngle(179.999)}P.invert=(0,y.g)(function(l){return l})},69604:function(tt,W,t){"use strict";t.d(W,{c:function(){return i},u:function(){return y}});var A=t(87952);function y(P,L){return[P,L]}function i(){return(0,A.c)(y).scale(152.63)}y.invert=y},86420:function(tt,W,t){"use strict";t.d(W,{OW:function(){return m},QX:function(){return P},Qx:function(){return l},UV:function(){return L}});var A=t(16016),y=t(73784);function i(r,e,s){var a=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),null!=a&&r.clipExtent(null),(0,A.c)(s,r.stream(y.c)),e(y.c.result()),null!=a&&r.clipExtent(a),r}function P(r,e,s){return i(r,function(a){var h=e[1][0]-e[0][0],f=e[1][1]-e[0][1],u=Math.min(h/(a[1][0]-a[0][0]),f/(a[1][1]-a[0][1])),g=+e[0][0]+(h-u*(a[1][0]+a[0][0]))/2,c=+e[0][1]+(f-u*(a[1][1]+a[0][1]))/2;r.scale(150*u).translate([g,c])},s)}function L(r,e,s){return P(r,[[0,0],e],s)}function l(r,e,s){return i(r,function(a){var h=+e,f=h/(a[1][0]-a[0][0]),u=(h-f*(a[1][0]+a[0][0]))/2,g=-f*a[0][1];r.scale(150*f).translate([u,g])},s)}function m(r,e,s){return i(r,function(a){var h=+e,f=h/(a[1][1]-a[0][1]),u=-f*a[0][0],g=(h-f*(a[1][1]+a[0][1]))/2;r.scale(150*f).translate([u,g])},s)}},53285:function(tt,W,t){"use strict";t.d(W,{Y:function(){return P},c:function(){return L}});var A=t(64528),y=t(62280),i=t(87952);function P(l,m){var r=(0,A.W8)(m),e=(0,A.W8)(l)*r;return[r*(0,A.g$)(l)/e,(0,A.g$)(m)/e]}function L(){return(0,i.c)(P).scale(144.049).clipAngle(60)}P.invert=(0,y.g)(A.MQ)},87952:function(tt,W,t){"use strict";t.d(W,{c:function(){return v},U:function(){return M}});var A=t(78284),y=t(2728),i=t(21676),P=t(68120),L=t(7376),l=t(64528),m=t(92992),r=t(15196),e=t(86420),s=t(84220),h=(0,l.W8)(30*l.qw);function f(b,E){return+E?function g(b,E){function x(S,T,n,C,p,F,D,N,k,z,B,O,U,G){var J=D-S,et=N-T,at=J*J+et*et;if(at>4*E&&U--){var lt=C+z,K=p+B,j=F+O,rt=(0,l._I)(lt*lt+K*K+j*j),H=(0,l.qR)(j/=rt),Z=(0,l.a2)((0,l.a2)(j)-1)<l.Gg||(0,l.a2)(n-k)<l.Gg?(n+k)/2:(0,l.WE)(K,lt),it=b(Z,H),Q=it[0],Y=it[1],nt=Q-S,_=Y-T,st=et*nt-J*_;(st*st/at>E||(0,l.a2)((J*nt+et*_)/at-.5)>.3||C*z+p*B+F*O<h)&&(x(S,T,n,C,p,F,Q,Y,Z,lt/=rt,K/=rt,j,U,G),G.point(Q,Y),x(Q,Y,Z,lt,K,j,D,N,k,z,B,O,U,G))}}return function(S){var T,n,C,p,F,D,N,k,z,B,O,U,G={point:J,lineStart:et,lineEnd:lt,polygonStart:function(){S.polygonStart(),G.lineStart=K},polygonEnd:function(){S.polygonEnd(),G.lineStart=et}};function J(H,Z){H=b(H,Z),S.point(H[0],H[1])}function et(){k=NaN,G.point=at,S.lineStart()}function at(H,Z){var it=(0,s.ux)([H,Z]),Q=b(H,Z);x(k,z,N,B,O,U,k=Q[0],z=Q[1],N=H,B=it[0],O=it[1],U=it[2],16,S),S.point(k,z)}function lt(){G.point=J,S.lineEnd()}function K(){et(),G.point=j,G.lineEnd=rt}function j(H,Z){at(T=H,Z),n=k,C=z,p=B,F=O,D=U,G.point=at}function rt(){x(k,z,N,B,O,U,n,C,T,p,F,D,16,S),G.lineEnd=lt,lt()}return G}}(b,E):function u(b){return(0,r.s)({point:function(E,x){E=b(E,x),this.stream.point(E[0],E[1])}})}(b)}var c=(0,r.s)({point:function(b,E){this.stream.point(b*l.qw,E*l.qw)}});function d(b,E,x,S,T){function n(C,p){return[E+b*(C*=S),x-b*(p*=T)]}return n.invert=function(C,p){return[(C-E)/b*S,(x-p)/b*T]},n}function o(b,E,x,S,T,n){var C=(0,l.W8)(n),p=(0,l.g$)(n),F=C*b,D=p*b,N=C/b,k=p/b,z=(p*x-C*E)/b,B=(p*E+C*x)/b;function O(U,G){return[F*(U*=S)-D*(G*=T)+E,x-D*U-F*G]}return O.invert=function(U,G){return[S*(N*U-k*G+z),T*(B-k*U-N*G)]},O}function v(b){return M(function(){return b})()}function M(b){var E,N,J,et,at,j,rt,H,Z,it,x=150,S=480,T=250,n=0,C=0,p=0,F=0,D=0,k=0,z=1,B=1,O=null,U=A.c,G=null,lt=L.c,K=.5;function Q(st){return H(st[0]*l.qw,st[1]*l.qw)}function Y(st){return(st=H.invert(st[0],st[1]))&&[st[0]*l.oh,st[1]*l.oh]}function nt(){var st=o(x,0,0,z,B,k).apply(null,E(n,C)),dt=(k?o:d)(x,S-st[0],T-st[1],z,B,k);return N=(0,m.O)(p,F,D),rt=(0,P.c)(E,dt),H=(0,P.c)(N,rt),j=f(rt,K),_()}function _(){return Z=it=null,Q}return Q.stream=function(st){return Z&&it===st?Z:Z=c(function w(b){return(0,r.s)({point:function(E,x){var S=b(E,x);return this.stream.point(S[0],S[1])}})}(N)(U(j(lt(it=st)))))},Q.preclip=function(st){return arguments.length?(U=st,O=void 0,_()):U},Q.postclip=function(st){return arguments.length?(lt=st,G=J=et=at=null,_()):lt},Q.clipAngle=function(st){return arguments.length?(U=+st?(0,y.c)(O=st*l.qw):(O=null,A.c),_()):O*l.oh},Q.clipExtent=function(st){return arguments.length?(lt=null==st?(G=J=et=at=null,L.c):(0,i.c)(G=+st[0][0],J=+st[0][1],et=+st[1][0],at=+st[1][1]),_()):null==G?null:[[G,J],[et,at]]},Q.scale=function(st){return arguments.length?(x=+st,nt()):x},Q.translate=function(st){return arguments.length?(S=+st[0],T=+st[1],nt()):[S,T]},Q.center=function(st){return arguments.length?(n=st[0]%360*l.qw,C=st[1]%360*l.qw,nt()):[n*l.oh,C*l.oh]},Q.rotate=function(st){return arguments.length?(p=st[0]%360*l.qw,F=st[1]%360*l.qw,D=st.length>2?st[2]%360*l.qw:0,nt()):[p*l.oh,F*l.oh,D*l.oh]},Q.angle=function(st){return arguments.length?(k=st%360*l.qw,nt()):k*l.oh},Q.reflectX=function(st){return arguments.length?(z=st?-1:1,nt()):z<0},Q.reflectY=function(st){return arguments.length?(B=st?-1:1,nt()):B<0},Q.precision=function(st){return arguments.length?(j=f(rt,K=st*st),_()):(0,l._I)(K)},Q.fitExtent=function(st,dt){return(0,e.QX)(Q,st,dt)},Q.fitSize=function(st,dt){return(0,e.UV)(Q,st,dt)},Q.fitWidth=function(st,dt){return(0,e.Qx)(Q,st,dt)},Q.fitHeight=function(st,dt){return(0,e.OW)(Q,st,dt)},function(){return E=b.apply(this,arguments),Q.invert=E.invert&&Y,nt()}}},47984:function(tt,W,t){"use strict";t.d(W,{c:function(){return P},g:function(){return i}});var A=t(87952),y=t(64528);function i(L,l){var m=l*l,r=m*m;return[L*(.8707-.131979*m+r*(r*(.003971*m-.001529*r)-.013791)),l*(1.007226+m*(.015085+r*(.028874*m-.044475-.005916*r)))]}function P(){return(0,A.c)(i).scale(175.295)}i.invert=function(L,l){var e,m=l,r=25;do{var s=m*m,a=s*s;m-=e=(m*(1.007226+s*(.015085+a*(.028874*s-.044475-.005916*a)))-l)/(1.007226+s*(.045255+a*(.259866*s-.311325-.06507600000000001*a)))}while((0,y.a2)(e)>y.Gg&&--r>0);return[L/(.8707+(s=m*m)*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979)),m]}},4888:function(tt,W,t){"use strict";t.d(W,{c:function(){return L},t:function(){return P}});var A=t(64528),y=t(62280),i=t(87952);function P(l,m){return[(0,A.W8)(m)*(0,A.g$)(l),(0,A.g$)(m)]}function L(){return(0,i.c)(P).scale(249.5).clipAngle(90+A.Gg)}P.invert=(0,y.g)(A.qR)},92992:function(tt,W,t){"use strict";t.d(W,{O:function(){return P},c:function(){return r}});var A=t(68120),y=t(64528);function i(e,s){return[(0,y.a2)(e)>y.pi?e+Math.round(-e/y.kD)*y.kD:e,s]}function P(e,s,a){return(e%=y.kD)?s||a?(0,A.c)(l(e),m(s,a)):l(e):s||a?m(s,a):i}function L(e){return function(s,a){return[(s+=e)>y.pi?s-y.kD:s<-y.pi?s+y.kD:s,a]}}function l(e){var s=L(e);return s.invert=L(-e),s}function m(e,s){var a=(0,y.W8)(e),h=(0,y.g$)(e),f=(0,y.W8)(s),u=(0,y.g$)(s);function g(c,w){var d=(0,y.W8)(w),o=(0,y.W8)(c)*d,v=(0,y.g$)(c)*d,M=(0,y.g$)(w),b=M*a+o*h;return[(0,y.WE)(v*f-b*u,o*a-M*h),(0,y.qR)(b*f+v*u)]}return g.invert=function(c,w){var d=(0,y.W8)(w),o=(0,y.W8)(c)*d,v=(0,y.g$)(c)*d,M=(0,y.g$)(w),b=M*f-v*u;return[(0,y.WE)(v*f+M*u,o*a+b*h),(0,y.qR)(b*a-o*h)]},g}function r(e){function s(a){return(a=e(a[0]*y.qw,a[1]*y.qw))[0]*=y.oh,a[1]*=y.oh,a}return e=P(e[0]*y.qw,e[1]*y.qw,e.length>2?e[2]*y.qw:0),s.invert=function(a){return(a=e.invert(a[0]*y.qw,a[1]*y.qw))[0]*=y.oh,a[1]*=y.oh,a},s}i.invert=i},16016:function(tt,W,t){"use strict";function A(m,r){m&&i.hasOwnProperty(m.type)&&i[m.type](m,r)}t.d(W,{c:function(){return l}});var y={Feature:function(m,r){A(m.geometry,r)},FeatureCollection:function(m,r){for(var e=m.features,s=-1,a=e.length;++s<a;)A(e[s].geometry,r)}},i={Sphere:function(m,r){r.sphere()},Point:function(m,r){r.point((m=m.coordinates)[0],m[1],m[2])},MultiPoint:function(m,r){for(var e=m.coordinates,s=-1,a=e.length;++s<a;)r.point((m=e[s])[0],m[1],m[2])},LineString:function(m,r){P(m.coordinates,r,0)},MultiLineString:function(m,r){for(var e=m.coordinates,s=-1,a=e.length;++s<a;)P(e[s],r,0)},Polygon:function(m,r){L(m.coordinates,r)},MultiPolygon:function(m,r){for(var e=m.coordinates,s=-1,a=e.length;++s<a;)L(e[s],r)},GeometryCollection:function(m,r){for(var e=m.geometries,s=-1,a=e.length;++s<a;)A(e[s],r)}};function P(m,r,e){var h,s=-1,a=m.length-e;for(r.lineStart();++s<a;)r.point((h=m[s])[0],h[1],h[2]);r.lineEnd()}function L(m,r){var e=-1,s=m.length;for(r.polygonStart();++e<s;)P(m[e],r,1);r.polygonEnd()}function l(m,r){m&&y.hasOwnProperty(m.type)?y[m.type](m,r):A(m,r)}},15196:function(tt,W,t){"use strict";function A(P){return{stream:y(P)}}function y(P){return function(L){var l=new i;for(var m in P)l[m]=P[m];return l.stream=L,l}}function i(){}t.d(W,{c:function(){return A},s:function(){return y}}),i.prototype={constructor:i,point:function(P,L){this.stream.point(P,L)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(tt,W,t){"use strict";function A(Bt,zt){return Bt.parent===zt.parent?1:2}function i(Bt,zt){return Bt+zt.x}function L(Bt,zt){return Math.max(Bt,zt.y)}function r(){var Bt=A,zt=1,kt=1,wt=!1;function ft(pt){var Dt,Qt=0;pt.eachAfter(function(ye){var Te=ye.children;Te?(ye.x=function y(Bt){return Bt.reduce(i,0)/Bt.length}(Te),ye.y=function P(Bt){return 1+Bt.reduce(L,0)}(Te)):(ye.x=Dt?Qt+=Bt(ye,Dt):0,ye.y=0,Dt=ye)});var te=function l(Bt){for(var zt;zt=Bt.children;)Bt=zt[0];return Bt}(pt),ee=function m(Bt){for(var zt;zt=Bt.children;)Bt=zt[zt.length-1];return Bt}(pt),Ne=te.x-Bt(te,ee)/2,We=ee.x+Bt(ee,te)/2;return pt.eachAfter(wt?function(ye){ye.x=(ye.x-pt.x)*zt,ye.y=(pt.y-ye.y)*kt}:function(ye){ye.x=(ye.x-Ne)/(We-Ne)*zt,ye.y=(1-(pt.y?ye.y/pt.y:1))*kt})}return ft.separation=function(pt){return arguments.length?(Bt=pt,ft):Bt},ft.size=function(pt){return arguments.length?(wt=!1,zt=+pt[0],kt=+pt[1],ft):wt?null:[zt,kt]},ft.nodeSize=function(pt){return arguments.length?(wt=!0,zt=+pt[0],kt=+pt[1],ft):wt?[zt,kt]:null},ft}function e(Bt){var zt=0,kt=Bt.children,wt=kt&&kt.length;if(wt)for(;--wt>=0;)zt+=kt[wt].value;else zt=1;Bt.value=zt}function b(Bt,zt){var ft,Dt,Qt,te,ee,kt=new n(Bt),wt=+Bt.value&&(kt.value=Bt.value),pt=[kt];for(null==zt&&(zt=x);ft=pt.pop();)if(wt&&(ft.value=+ft.data.value),(Qt=zt(ft.data))&&(ee=Qt.length))for(ft.children=new Array(ee),te=ee-1;te>=0;--te)pt.push(Dt=ft.children[te]=new n(Qt[te])),Dt.parent=ft,Dt.depth=ft.depth+1;return kt.eachBefore(T)}function x(Bt){return Bt.children}function S(Bt){Bt.data=Bt.data.data}function T(Bt){var zt=0;do{Bt.height=zt}while((Bt=Bt.parent)&&Bt.height<++zt)}function n(Bt){this.data=Bt,this.depth=this.height=0,this.parent=null}t.r(W),t.d(W,{cluster:function(){return r},hierarchy:function(){return b},pack:function(){return Y},packEnclose:function(){return F},packSiblings:function(){return j},partition:function(){return yt},stratify:function(){return Nt},tree:function(){return oe},treemap:function(){return Ct},treemapBinary:function(){return Wt},treemapDice:function(){return xt},treemapResquarify:function(){return Ht},treemapSlice:function(){return se},treemapSliceDice:function(){return Xt},treemapSquarify:function(){return jt}}),n.prototype=b.prototype={constructor:n,count:function s(){return this.eachAfter(e)},each:function a(Bt){var kt,ft,pt,Dt,zt=this,wt=[zt];do{for(kt=wt.reverse(),wt=[];zt=kt.pop();)if(Bt(zt),ft=zt.children)for(pt=0,Dt=ft.length;pt<Dt;++pt)wt.push(ft[pt])}while(wt.length);return this},eachAfter:function f(Bt){for(var ft,pt,Dt,zt=this,kt=[zt],wt=[];zt=kt.pop();)if(wt.push(zt),ft=zt.children)for(pt=0,Dt=ft.length;pt<Dt;++pt)kt.push(ft[pt]);for(;zt=wt.pop();)Bt(zt);return this},eachBefore:function h(Bt){for(var wt,ft,zt=this,kt=[zt];zt=kt.pop();)if(Bt(zt),wt=zt.children)for(ft=wt.length-1;ft>=0;--ft)kt.push(wt[ft]);return this},sum:function u(Bt){return this.eachAfter(function(zt){for(var kt=+Bt(zt.data)||0,wt=zt.children,ft=wt&&wt.length;--ft>=0;)kt+=wt[ft].value;zt.value=kt})},sort:function g(Bt){return this.eachBefore(function(zt){zt.children&&zt.children.sort(Bt)})},path:function c(Bt){for(var zt=this,kt=function w(Bt,zt){if(Bt===zt)return Bt;var kt=Bt.ancestors(),wt=zt.ancestors(),ft=null;for(Bt=kt.pop(),zt=wt.pop();Bt===zt;)ft=Bt,Bt=kt.pop(),zt=wt.pop();return ft}(zt,Bt),wt=[zt];zt!==kt;)wt.push(zt=zt.parent);for(var ft=wt.length;Bt!==kt;)wt.splice(ft,0,Bt),Bt=Bt.parent;return wt},ancestors:function d(){for(var Bt=this,zt=[Bt];Bt=Bt.parent;)zt.push(Bt);return zt},descendants:function o(){var Bt=[];return this.each(function(zt){Bt.push(zt)}),Bt},leaves:function v(){var Bt=[];return this.eachBefore(function(zt){zt.children||Bt.push(zt)}),Bt},links:function M(){var Bt=this,zt=[];return Bt.each(function(kt){kt!==Bt&&zt.push({source:kt.parent,target:kt})}),zt},copy:function E(){return b(this).eachBefore(S)}};var C=Array.prototype.slice;function F(Bt){for(var ft,pt,zt=0,kt=(Bt=function p(Bt){for(var kt,wt,zt=Bt.length;zt;)wt=Math.random()*zt--|0,kt=Bt[zt],Bt[zt]=Bt[wt],Bt[wt]=kt;return Bt}(C.call(Bt))).length,wt=[];zt<kt;)ft=Bt[zt],pt&&k(pt,ft)?++zt:(pt=B(wt=D(wt,ft)),zt=0);return pt}function D(Bt,zt){var kt,wt;if(z(zt,Bt))return[zt];for(kt=0;kt<Bt.length;++kt)if(N(zt,Bt[kt])&&z(U(Bt[kt],zt),Bt))return[Bt[kt],zt];for(kt=0;kt<Bt.length-1;++kt)for(wt=kt+1;wt<Bt.length;++wt)if(N(U(Bt[kt],Bt[wt]),zt)&&N(U(Bt[kt],zt),Bt[wt])&&N(U(Bt[wt],zt),Bt[kt])&&z(G(Bt[kt],Bt[wt],zt),Bt))return[Bt[kt],Bt[wt],zt];throw new Error}function N(Bt,zt){var kt=Bt.r-zt.r,wt=zt.x-Bt.x,ft=zt.y-Bt.y;return kt<0||kt*kt<wt*wt+ft*ft}function k(Bt,zt){var kt=Bt.r-zt.r+1e-6,wt=zt.x-Bt.x,ft=zt.y-Bt.y;return kt>0&&kt*kt>wt*wt+ft*ft}function z(Bt,zt){for(var kt=0;kt<zt.length;++kt)if(!k(Bt,zt[kt]))return!1;return!0}function B(Bt){switch(Bt.length){case 1:return function O(Bt){return{x:Bt.x,y:Bt.y,r:Bt.r}}(Bt[0]);case 2:return U(Bt[0],Bt[1]);case 3:return G(Bt[0],Bt[1],Bt[2])}}function U(Bt,zt){var kt=Bt.x,wt=Bt.y,ft=Bt.r,pt=zt.x,Dt=zt.y,Qt=zt.r,te=pt-kt,ee=Dt-wt,Ne=Qt-ft,We=Math.sqrt(te*te+ee*ee);return{x:(kt+pt+te/We*Ne)/2,y:(wt+Dt+ee/We*Ne)/2,r:(We+ft+Qt)/2}}function G(Bt,zt,kt){var wt=Bt.x,ft=Bt.y,pt=Bt.r,Dt=zt.x,Qt=zt.y,te=zt.r,ee=kt.x,Ne=kt.y,We=kt.r,ye=wt-Dt,Te=wt-ee,Ge=ft-Qt,hr=ft-Ne,ce=te-pt,Ue=We-pt,Ye=wt*wt+ft*ft-pt*pt,gr=Ye-Dt*Dt-Qt*Qt+te*te,tr=Ye-ee*ee-Ne*Ne+We*We,he=Te*Ge-ye*hr,ne=(Ge*tr-hr*gr)/(2*he)-wt,pe=(hr*ce-Ge*Ue)/he,be=(Te*gr-ye*tr)/(2*he)-ft,Se=(ye*Ue-Te*ce)/he,Me=pe*pe+Se*Se-1,Ie=2*(pt+ne*pe+be*Se),Fe=ne*ne+be*be-pt*pt,Ze=-(Me?(Ie+Math.sqrt(Ie*Ie-4*Me*Fe))/(2*Me):Fe/Ie);return{x:wt+ne+pe*Ze,y:ft+be+Se*Ze,r:Ze}}function J(Bt,zt,kt){var ft,pt,Qt,te,wt=Bt.x-zt.x,Dt=Bt.y-zt.y,ee=wt*wt+Dt*Dt;ee?(pt=zt.r+kt.r,te=Bt.r+kt.r,(pt*=pt)>(te*=te)?(ft=(ee+te-pt)/(2*ee),Qt=Math.sqrt(Math.max(0,te/ee-ft*ft)),kt.x=Bt.x-ft*wt-Qt*Dt,kt.y=Bt.y-ft*Dt+Qt*wt):(ft=(ee+pt-te)/(2*ee),Qt=Math.sqrt(Math.max(0,pt/ee-ft*ft)),kt.x=zt.x+ft*wt-Qt*Dt,kt.y=zt.y+ft*Dt+Qt*wt)):(kt.x=zt.x+kt.r,kt.y=zt.y)}function et(Bt,zt){var kt=Bt.r+zt.r-1e-6,wt=zt.x-Bt.x,ft=zt.y-Bt.y;return kt>0&&kt*kt>wt*wt+ft*ft}function at(Bt){var zt=Bt._,kt=Bt.next._,wt=zt.r+kt.r,ft=(zt.x*kt.r+kt.x*zt.r)/wt,pt=(zt.y*kt.r+kt.y*zt.r)/wt;return ft*ft+pt*pt}function lt(Bt){this._=Bt,this.next=null,this.previous=null}function K(Bt){if(!(ft=Bt.length))return 0;var zt,kt,wt,ft,pt,Dt,Qt,te,ee,Ne,We;if((zt=Bt[0]).x=0,zt.y=0,!(ft>1))return zt.r;if(zt.x=-(kt=Bt[1]).r,kt.x=zt.r,kt.y=0,!(ft>2))return zt.r+kt.r;J(kt,zt,wt=Bt[2]),zt=new lt(zt),kt=new lt(kt),wt=new lt(wt),zt.next=wt.previous=kt,kt.next=zt.previous=wt,wt.next=kt.previous=zt;t:for(Qt=3;Qt<ft;++Qt){J(zt._,kt._,wt=Bt[Qt]),wt=new lt(wt),te=kt.next,ee=zt.previous,Ne=kt._.r,We=zt._.r;do{if(Ne<=We){if(et(te._,wt._)){zt.next=kt=te,kt.previous=zt,--Qt;continue t}Ne+=te._.r,te=te.next}else{if(et(ee._,wt._)){(zt=ee).next=kt,kt.previous=zt,--Qt;continue t}We+=ee._.r,ee=ee.previous}}while(te!==ee.next);for(wt.previous=zt,wt.next=kt,zt.next=kt.previous=kt=wt,pt=at(zt);(wt=wt.next)!==kt;)(Dt=at(wt))<pt&&(zt=wt,pt=Dt);kt=zt.next}for(zt=[kt._],wt=kt;(wt=wt.next)!==kt;)zt.push(wt._);for(wt=F(zt),Qt=0;Qt<ft;++Qt)(zt=Bt[Qt]).x-=wt.x,zt.y-=wt.y;return wt.r}function j(Bt){return K(Bt),Bt}function rt(Bt){return null==Bt?null:H(Bt)}function H(Bt){if("function"!=typeof Bt)throw new Error;return Bt}function Z(){return 0}function it(Bt){return function(){return Bt}}function Q(Bt){return Math.sqrt(Bt.value)}function Y(){var Bt=null,zt=1,kt=1,wt=Z;function ft(pt){return pt.x=zt/2,pt.y=kt/2,Bt?pt.eachBefore(nt(Bt)).eachAfter(_(wt,.5)).eachBefore(st(1)):pt.eachBefore(nt(Q)).eachAfter(_(Z,1)).eachAfter(_(wt,pt.r/Math.min(zt,kt))).eachBefore(st(Math.min(zt,kt)/(2*pt.r))),pt}return ft.radius=function(pt){return arguments.length?(Bt=rt(pt),ft):Bt},ft.size=function(pt){return arguments.length?(zt=+pt[0],kt=+pt[1],ft):[zt,kt]},ft.padding=function(pt){return arguments.length?(wt="function"==typeof pt?pt:it(+pt),ft):wt},ft}function nt(Bt){return function(zt){zt.children||(zt.r=Math.max(0,+Bt(zt)||0))}}function _(Bt,zt){return function(kt){if(wt=kt.children){var wt,ft,Qt,pt=wt.length,Dt=Bt(kt)*zt||0;if(Dt)for(ft=0;ft<pt;++ft)wt[ft].r+=Dt;if(Qt=K(wt),Dt)for(ft=0;ft<pt;++ft)wt[ft].r-=Dt;kt.r=Qt+Dt}}}function st(Bt){return function(zt){var kt=zt.parent;zt.r*=Bt,kt&&(zt.x=kt.x+Bt*zt.x,zt.y=kt.y+Bt*zt.y)}}function dt(Bt){Bt.x0=Math.round(Bt.x0),Bt.y0=Math.round(Bt.y0),Bt.x1=Math.round(Bt.x1),Bt.y1=Math.round(Bt.y1)}function xt(Bt,zt,kt,wt,ft){for(var Dt,pt=Bt.children,Qt=-1,te=pt.length,ee=Bt.value&&(wt-zt)/Bt.value;++Qt<te;)(Dt=pt[Qt]).y0=kt,Dt.y1=ft,Dt.x0=zt,Dt.x1=zt+=Dt.value*ee}function yt(){var Bt=1,zt=1,kt=0,wt=!1;function ft(Dt){var Qt=Dt.height+1;return Dt.x0=Dt.y0=kt,Dt.x1=Bt,Dt.y1=zt/Qt,Dt.eachBefore(function pt(Dt,Qt){return function(te){te.children&&xt(te,te.x0,Dt*(te.depth+1)/Qt,te.x1,Dt*(te.depth+2)/Qt);var ee=te.x0,Ne=te.y0,We=te.x1-kt,ye=te.y1-kt;We<ee&&(ee=We=(ee+We)/2),ye<Ne&&(Ne=ye=(Ne+ye)/2),te.x0=ee,te.y0=Ne,te.x1=We,te.y1=ye}}(zt,Qt)),wt&&Dt.eachBefore(dt),Dt}return ft.round=function(Dt){return arguments.length?(wt=!!Dt,ft):wt},ft.size=function(Dt){return arguments.length?(Bt=+Dt[0],zt=+Dt[1],ft):[Bt,zt]},ft.padding=function(Dt){return arguments.length?(kt=+Dt,ft):kt},ft}var Et={depth:-1},Tt={};function gt(Bt){return Bt.id}function Mt(Bt){return Bt.parentId}function Nt(){var Bt=gt,zt=Mt;function kt(wt){var ft,pt,Qt,te,ee,We,ye,Dt=wt.length,Ne=new Array(Dt),Te={};for(pt=0;pt<Dt;++pt)ee=Ne[pt]=new n(ft=wt[pt]),null!=(We=Bt(ft,pt,wt))&&(We+="")&&(Te[ye="$"+(ee.id=We)]=ye in Te?Tt:ee);for(pt=0;pt<Dt;++pt)if(ee=Ne[pt],null!=(We=zt(wt[pt],pt,wt))&&(We+="")){if(!(te=Te["$"+We]))throw new Error("missing: "+We);if(te===Tt)throw new Error("ambiguous: "+We);te.children?te.children.push(ee):te.children=[ee],ee.parent=te}else{if(Qt)throw new Error("multiple roots");Qt=ee}if(!Qt)throw new Error("no root");if(Qt.parent=Et,Qt.eachBefore(function(Ge){Ge.depth=Ge.parent.depth+1,--Dt}).eachBefore(T),Qt.parent=null,Dt>0)throw new Error("cycle");return Qt}return kt.id=function(wt){return arguments.length?(Bt=H(wt),kt):Bt},kt.parentId=function(wt){return arguments.length?(zt=H(wt),kt):zt},kt}function Gt(Bt,zt){return Bt.parent===zt.parent?1:2}function Pt(Bt){var zt=Bt.children;return zt?zt[0]:Bt.t}function Vt(Bt){var zt=Bt.children;return zt?zt[zt.length-1]:Bt.t}function re(Bt,zt,kt){var wt=kt/(zt.i-Bt.i);zt.c-=wt,zt.s+=kt,Bt.c+=wt,zt.z+=kt,zt.m+=kt}function It(Bt,zt,kt){return Bt.a.parent===zt.parent?Bt.a:kt}function Rt(Bt,zt){this._=Bt,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=zt}function oe(){var Bt=Gt,zt=1,kt=1,wt=null;function ft(ee){var Ne=function $t(Bt){for(var kt,ft,pt,Dt,Qt,zt=new Rt(Bt,0),wt=[zt];kt=wt.pop();)if(pt=kt._.children)for(kt.children=new Array(Qt=pt.length),Dt=Qt-1;Dt>=0;--Dt)wt.push(ft=kt.children[Dt]=new Rt(pt[Dt],Dt)),ft.parent=kt;return(zt.parent=new Rt(null,0)).children=[zt],zt}(ee);if(Ne.eachAfter(pt),Ne.parent.m=-Ne.z,Ne.eachBefore(Dt),wt)ee.eachBefore(te);else{var We=ee,ye=ee,Te=ee;ee.eachBefore(function(Ye){Ye.x<We.x&&(We=Ye),Ye.x>ye.x&&(ye=Ye),Ye.depth>Te.depth&&(Te=Ye)});var Ge=We===ye?1:Bt(We,ye)/2,hr=Ge-We.x,ce=zt/(ye.x+Ge+hr),Ue=kt/(Te.depth||1);ee.eachBefore(function(Ye){Ye.x=(Ye.x+hr)*ce,Ye.y=Ye.depth*Ue})}return ee}function pt(ee){var Ne=ee.children,We=ee.parent.children,ye=ee.i?We[ee.i-1]:null;if(Ne){!function le(Bt){for(var pt,zt=0,kt=0,wt=Bt.children,ft=wt.length;--ft>=0;)(pt=wt[ft]).z+=zt,pt.m+=zt,zt+=pt.s+(kt+=pt.c)}(ee);var Te=(Ne[0].z+Ne[Ne.length-1].z)/2;ye?(ee.z=ye.z+Bt(ee._,ye._),ee.m=ee.z-Te):ee.z=Te}else ye&&(ee.z=ye.z+Bt(ee._,ye._));ee.parent.A=function Qt(ee,Ne,We){if(Ne){for(var tr,ye=ee,Te=ee,Ge=Ne,hr=ye.parent.children[0],ce=ye.m,Ue=Te.m,Ye=Ge.m,gr=hr.m;Ge=Vt(Ge),ye=Pt(ye),Ge&&ye;)hr=Pt(hr),(Te=Vt(Te)).a=ee,(tr=Ge.z+Ye-ye.z-ce+Bt(Ge._,ye._))>0&&(re(It(Ge,ee,We),ee,tr),ce+=tr,Ue+=tr),Ye+=Ge.m,ce+=ye.m,gr+=hr.m,Ue+=Te.m;Ge&&!Vt(Te)&&(Te.t=Ge,Te.m+=Ye-Ue),ye&&!Pt(hr)&&(hr.t=ye,hr.m+=ce-gr,We=ee)}return We}(ee,ye,ee.parent.A||We[0])}function Dt(ee){ee._.x=ee.z+ee.parent.m,ee.m+=ee.parent.m}function te(ee){ee.x*=zt,ee.y=ee.depth*kt}return ft.separation=function(ee){return arguments.length?(Bt=ee,ft):Bt},ft.size=function(ee){return arguments.length?(wt=!1,zt=+ee[0],kt=+ee[1],ft):wt?null:[zt,kt]},ft.nodeSize=function(ee){return arguments.length?(wt=!0,zt=+ee[0],kt=+ee[1],ft):wt?[zt,kt]:null},ft}function se(Bt,zt,kt,wt,ft){for(var Dt,pt=Bt.children,Qt=-1,te=pt.length,ee=Bt.value&&(ft-kt)/Bt.value;++Qt<te;)(Dt=pt[Qt]).x0=zt,Dt.x1=wt,Dt.y0=kt,Dt.y1=kt+=Dt.value*ee}Rt.prototype=Object.create(n.prototype);var ve=(1+Math.sqrt(5))/2;function de(Bt,zt,kt,wt,ft,pt){for(var te,ee,Te,Ge,ce,Ue,Ye,gr,tr,he,ne,Dt=[],Qt=zt.children,Ne=0,We=0,ye=Qt.length,hr=zt.value;Ne<ye;){Te=ft-kt,Ge=pt-wt;do{ce=Qt[We++].value}while(!ce&&We<ye);for(Ue=Ye=ce,ne=ce*ce*(he=Math.max(Ge/Te,Te/Ge)/(hr*Bt)),tr=Math.max(Ye/ne,ne/Ue);We<ye;++We){if(ce+=ee=Qt[We].value,ee<Ue&&(Ue=ee),ee>Ye&&(Ye=ee),ne=ce*ce*he,(gr=Math.max(Ye/ne,ne/Ue))>tr){ce-=ee;break}tr=gr}Dt.push(te={value:ce,dice:Te<Ge,children:Qt.slice(Ne,We)}),te.dice?xt(te,kt,wt,ft,hr?wt+=Ge*ce/hr:pt):se(te,kt,wt,hr?kt+=Te*ce/hr:ft,pt),hr-=ce,Ne=We}return Dt}var jt=function Bt(zt){function kt(wt,ft,pt,Dt,Qt){de(zt,wt,ft,pt,Dt,Qt)}return kt.ratio=function(wt){return Bt((wt=+wt)>1?wt:1)},kt}(ve);function Ct(){var Bt=jt,zt=!1,kt=1,wt=1,ft=[0],pt=Z,Dt=Z,Qt=Z,te=Z,ee=Z;function Ne(ye){return ye.x0=ye.y0=0,ye.x1=kt,ye.y1=wt,ye.eachBefore(We),ft=[0],zt&&ye.eachBefore(dt),ye}function We(ye){var Te=ft[ye.depth],Ge=ye.x0+Te,hr=ye.y0+Te,ce=ye.x1-Te,Ue=ye.y1-Te;ce<Ge&&(Ge=ce=(Ge+ce)/2),Ue<hr&&(hr=Ue=(hr+Ue)/2),ye.x0=Ge,ye.y0=hr,ye.x1=ce,ye.y1=Ue,ye.children&&(Te=ft[ye.depth+1]=pt(ye)/2,Ge+=ee(ye)-Te,hr+=Dt(ye)-Te,(ce-=Qt(ye)-Te)<Ge&&(Ge=ce=(Ge+ce)/2),(Ue-=te(ye)-Te)<hr&&(hr=Ue=(hr+Ue)/2),Bt(ye,Ge,hr,ce,Ue))}return Ne.round=function(ye){return arguments.length?(zt=!!ye,Ne):zt},Ne.size=function(ye){return arguments.length?(kt=+ye[0],wt=+ye[1],Ne):[kt,wt]},Ne.tile=function(ye){return arguments.length?(Bt=H(ye),Ne):Bt},Ne.padding=function(ye){return arguments.length?Ne.paddingInner(ye).paddingOuter(ye):Ne.paddingInner()},Ne.paddingInner=function(ye){return arguments.length?(pt="function"==typeof ye?ye:it(+ye),Ne):pt},Ne.paddingOuter=function(ye){return arguments.length?Ne.paddingTop(ye).paddingRight(ye).paddingBottom(ye).paddingLeft(ye):Ne.paddingTop()},Ne.paddingTop=function(ye){return arguments.length?(Dt="function"==typeof ye?ye:it(+ye),Ne):Dt},Ne.paddingRight=function(ye){return arguments.length?(Qt="function"==typeof ye?ye:it(+ye),Ne):Qt},Ne.paddingBottom=function(ye){return arguments.length?(te="function"==typeof ye?ye:it(+ye),Ne):te},Ne.paddingLeft=function(ye){return arguments.length?(ee="function"==typeof ye?ye:it(+ye),Ne):ee},Ne}function Wt(Bt,zt,kt,wt,ft){var Dt,te,pt=Bt.children,Qt=pt.length,ee=new Array(Qt+1);for(ee[0]=te=Dt=0;Dt<Qt;++Dt)ee[Dt+1]=te+=pt[Dt].value;!function Ne(We,ye,Te,Ge,hr,ce,Ue){if(We>=ye-1){var Ye=pt[We];return Ye.x0=Ge,Ye.y0=hr,Ye.x1=ce,void(Ye.y1=Ue)}for(var gr=ee[We],tr=Te/2+gr,he=We+1,ne=ye-1;he<ne;){var pe=he+ne>>>1;ee[pe]<tr?he=pe+1:ne=pe}tr-ee[he-1]<ee[he]-tr&&We+1<he&&--he;var be=ee[he]-gr,Se=Te-be;if(ce-Ge>Ue-hr){var Me=(Ge*Se+ce*be)/Te;Ne(We,he,be,Ge,hr,Me,Ue),Ne(he,ye,Se,Me,hr,ce,Ue)}else{var Ie=(hr*Se+Ue*be)/Te;Ne(We,he,be,Ge,hr,ce,Ie),Ne(he,ye,Se,Ge,Ie,ce,Ue)}}(0,Qt,Bt.value,zt,kt,wt,ft)}function Xt(Bt,zt,kt,wt,ft){(1&Bt.depth?se:xt)(Bt,zt,kt,wt,ft)}var Ht=function Bt(zt){function kt(wt,ft,pt,Dt,Qt){if((te=wt._squarify)&&te.ratio===zt)for(var te,ee,Ne,We,Te,ye=-1,Ge=te.length,hr=wt.value;++ye<Ge;){for(Ne=(ee=te[ye]).children,We=ee.value=0,Te=Ne.length;We<Te;++We)ee.value+=Ne[We].value;ee.dice?xt(ee,ft,pt,Dt,pt+=(Qt-pt)*ee.value/hr):se(ee,ft,pt,ft+=(Dt-ft)*ee.value/hr,Qt),hr-=ee.value}else wt._squarify=te=de(zt,wt,ft,pt,Dt,Qt),te.ratio=zt}return kt.ratio=function(wt){return Bt((wt=+wt)>1?wt:1)},kt}(ve)},10132:function(tt,W,t){"use strict";t.d(W,{ak:function(){return d}});var A=Math.PI,y=2*A,i=1e-6,P=y-i;function L(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function l(){return new L}L.prototype=l.prototype={constructor:L,moveTo:function(M,b){this._+="M"+(this._x0=this._x1=+M)+","+(this._y0=this._y1=+b)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(M,b){this._+="L"+(this._x1=+M)+","+(this._y1=+b)},quadraticCurveTo:function(M,b,E,x){this._+="Q"+ +M+","+ +b+","+(this._x1=+E)+","+(this._y1=+x)},bezierCurveTo:function(M,b,E,x,S,T){this._+="C"+ +M+","+ +b+","+ +E+","+ +x+","+(this._x1=+S)+","+(this._y1=+T)},arcTo:function(M,b,E,x,S){var T=this._x1,n=this._y1,C=(E=+E)-(M=+M),p=(x=+x)-(b=+b),F=T-M,D=n-b,N=F*F+D*D;if((S=+S)<0)throw new Error("negative radius: "+S);if(null===this._x1)this._+="M"+(this._x1=M)+","+(this._y1=b);else if(N>i)if(Math.abs(D*C-p*F)>i&&S){var k=E-T,z=x-n,B=C*C+p*p,O=k*k+z*z,U=Math.sqrt(B),G=Math.sqrt(N),J=S*Math.tan((A-Math.acos((B+N-O)/(2*U*G)))/2),et=J/G,at=J/U;Math.abs(et-1)>i&&(this._+="L"+(M+et*F)+","+(b+et*D)),this._+="A"+S+","+S+",0,0,"+ +(D*k>F*z)+","+(this._x1=M+at*C)+","+(this._y1=b+at*p)}else this._+="L"+(this._x1=M)+","+(this._y1=b)},arc:function(M,b,E,x,S,T){M=+M,b=+b,T=!!T;var n=(E=+E)*Math.cos(x),C=E*Math.sin(x),p=M+n,F=b+C,D=1^T,N=T?x-S:S-x;if(E<0)throw new Error("negative radius: "+E);null===this._x1?this._+="M"+p+","+F:(Math.abs(this._x1-p)>i||Math.abs(this._y1-F)>i)&&(this._+="L"+p+","+F),E&&(N<0&&(N=N%y+y),N>P?this._+="A"+E+","+E+",0,1,"+D+","+(M-n)+","+(b-C)+"A"+E+","+E+",0,1,"+D+","+(this._x1=p)+","+(this._y1=F):N>i&&(this._+="A"+E+","+E+",0,"+ +(N>=A)+","+D+","+(this._x1=M+E*Math.cos(S))+","+(this._y1=b+E*Math.sin(S))))},rect:function(M,b,E,x){this._+="M"+(this._x0=this._x1=+M)+","+(this._y0=this._y1=+b)+"h"+ +E+"v"+ +x+"h"+-E+"Z"},toString:function(){return this._}};var m=l,r=Array.prototype.slice;function e(M){return function(){return M}}function s(M){return M[0]}function a(M){return M[1]}function h(M){return M.source}function f(M){return M.target}function g(M,b,E,x,S){M.moveTo(b,E),M.bezierCurveTo(b=(b+x)/2,E,b,S,x,S)}function d(){return function u(M){var b=h,E=f,x=s,S=a,T=null;function n(){var C,p=r.call(arguments),F=b.apply(this,p),D=E.apply(this,p);if(T||(T=C=m()),M(T,+x.apply(this,(p[0]=F,p)),+S.apply(this,p),+x.apply(this,(p[0]=D,p)),+S.apply(this,p)),C)return T=null,C+""||null}return n.source=function(C){return arguments.length?(b=C,n):b},n.target=function(C){return arguments.length?(E=C,n):E},n.x=function(C){return arguments.length?(x="function"==typeof C?C:e(+C),n):x},n.y=function(C){return arguments.length?(S="function"==typeof C?C:e(+C),n):S},n.context=function(C){return arguments.length?(T=null==C?null:C,n):T},n}(g)}},94336:function(tt,W,t){"use strict";t.d(W,{Yn:function(){return Wt},m_:function(){return s},E9:function(){return Ht}});var A=t(8208),y=t(58931),i=t(46192),P=t(68936),L=t(32171),l=t(53528);function m(kt){if(0<=kt.y&&kt.y<100){var wt=new Date(-1,kt.m,kt.d,kt.H,kt.M,kt.S,kt.L);return wt.setFullYear(kt.y),wt}return new Date(kt.y,kt.m,kt.d,kt.H,kt.M,kt.S,kt.L)}function r(kt){if(0<=kt.y&&kt.y<100){var wt=new Date(Date.UTC(-1,kt.m,kt.d,kt.H,kt.M,kt.S,kt.L));return wt.setUTCFullYear(kt.y),wt}return new Date(Date.UTC(kt.y,kt.m,kt.d,kt.H,kt.M,kt.S,kt.L))}function e(kt,wt,ft){return{y:kt,m:wt,d:ft,H:0,M:0,S:0,L:0}}function s(kt){var wt=kt.dateTime,ft=kt.date,pt=kt.time,Dt=kt.periods,Qt=kt.days,te=kt.shortDays,ee=kt.months,Ne=kt.shortMonths,We=w(Dt),ye=d(Dt),Te=w(Qt),Ge=d(Qt),hr=w(te),ce=d(te),Ue=w(ee),Ye=d(ee),gr=w(Ne),tr=d(Ne),he={a:function Ce(Ar){return te[Ar.getDay()]},A:function Le(Ar){return Qt[Ar.getDay()]},b:function Xe(Ar){return Ne[Ar.getMonth()]},B:function _e(Ar){return ee[Ar.getMonth()]},c:null,d:J,e:J,f:j,H:et,I:at,j:lt,L:K,m:rt,M:H,p:function fr(Ar){return Dt[+(Ar.getHours()>=12)]},q:function $e(Ar){return 1+~~(Ar.getMonth()/3)},Q:de,s:jt,S:Z,u:it,U:Q,V:Y,w:nt,W:_,x:null,X:null,y:st,Y:dt,Z:xt,"%":ve},ne={a:function Re(Ar){return te[Ar.getUTCDay()]},A:function or(Ar){return Qt[Ar.getUTCDay()]},b:function dr(Ar){return Ne[Ar.getUTCMonth()]},B:function pr(Ar){return ee[Ar.getUTCMonth()]},c:null,d:yt,e:yt,f:Mt,H:St,I:Et,j:Tt,L:gt,m:Nt,M:Gt,p:function Cr(Ar){return Dt[+(Ar.getUTCHours()>=12)]},q:function $r(Ar){return 1+~~(Ar.getUTCMonth()/3)},Q:de,s:jt,S:Pt,u:Vt,U:re,V:le,w:It,W:Rt,x:null,X:null,y:$t,Y:oe,Z:se,"%":ve},pe={a:function Fe(Ar,Gr,nn){var Ur=hr.exec(Gr.slice(nn));return Ur?(Ar.w=ce[Ur[0].toLowerCase()],nn+Ur[0].length):-1},A:function Ze(Ar,Gr,nn){var Ur=Te.exec(Gr.slice(nn));return Ur?(Ar.w=Ge[Ur[0].toLowerCase()],nn+Ur[0].length):-1},b:function nr(Ar,Gr,nn){var Ur=gr.exec(Gr.slice(nn));return Ur?(Ar.m=tr[Ur[0].toLowerCase()],nn+Ur[0].length):-1},B:function ir(Ar,Gr,nn){var Ur=Ue.exec(Gr.slice(nn));return Ur?(Ar.m=Ye[Ur[0].toLowerCase()],nn+Ur[0].length):-1},c:function lr(Ar,Gr,nn){return Me(Ar,wt,Gr,nn)},d:p,e:p,f:B,H:D,I:D,j:F,L:z,m:C,M:N,p:function Ie(Ar,Gr,nn){var Ur=We.exec(Gr.slice(nn));return Ur?(Ar.p=ye[Ur[0].toLowerCase()],nn+Ur[0].length):-1},q:n,Q:U,s:G,S:k,u:v,U:M,V:b,w:o,W:E,x:function Ot(Ar,Gr,nn){return Me(Ar,ft,Gr,nn)},X:function Ut(Ar,Gr,nn){return Me(Ar,pt,Gr,nn)},y:S,Y:x,Z:T,"%":O};function be(Ar,Gr){return function(nn){var Mr,Br,Or,Ur=[],Tn=-1,bn=0,ur=Ar.length;for(nn instanceof Date||(nn=new Date(+nn));++Tn<ur;)37===Ar.charCodeAt(Tn)&&(Ur.push(Ar.slice(bn,Tn)),null!=(Br=a[Mr=Ar.charAt(++Tn)])?Mr=Ar.charAt(++Tn):Br="e"===Mr?" ":"0",(Or=Gr[Mr])&&(Mr=Or(nn,Br)),Ur.push(Mr),bn=Tn+1);return Ur.push(Ar.slice(bn,Tn)),Ur.join("")}}function Se(Ar,Gr){return function(nn){var bn,ur,Ur=e(1900,void 0,1);if(Me(Ur,Ar,nn+="",0)!=nn.length)return null;if("Q"in Ur)return new Date(Ur.Q);if("s"in Ur)return new Date(1e3*Ur.s+("L"in Ur?Ur.L:0));if(Gr&&!("Z"in Ur)&&(Ur.Z=0),"p"in Ur&&(Ur.H=Ur.H%12+12*Ur.p),void 0===Ur.m&&(Ur.m="q"in Ur?Ur.q:0),"V"in Ur){if(Ur.V<1||Ur.V>53)return null;"w"in Ur||(Ur.w=1),"Z"in Ur?(ur=(bn=r(e(Ur.y,0,1))).getUTCDay(),bn=ur>4||0===ur?A.ot.ceil(bn):(0,A.ot)(bn),bn=y.c.offset(bn,7*(Ur.V-1)),Ur.y=bn.getUTCFullYear(),Ur.m=bn.getUTCMonth(),Ur.d=bn.getUTCDate()+(Ur.w+6)%7):(ur=(bn=m(e(Ur.y,0,1))).getDay(),bn=ur>4||0===ur?i.qT.ceil(bn):(0,i.qT)(bn),bn=P.c.offset(bn,7*(Ur.V-1)),Ur.y=bn.getFullYear(),Ur.m=bn.getMonth(),Ur.d=bn.getDate()+(Ur.w+6)%7)}else("W"in Ur||"U"in Ur)&&("w"in Ur||(Ur.w="u"in Ur?Ur.u%7:"W"in Ur?1:0),ur="Z"in Ur?r(e(Ur.y,0,1)).getUTCDay():m(e(Ur.y,0,1)).getDay(),Ur.m=0,Ur.d="W"in Ur?(Ur.w+6)%7+7*Ur.W-(ur+5)%7:Ur.w+7*Ur.U-(ur+6)%7);return"Z"in Ur?(Ur.H+=Ur.Z/100|0,Ur.M+=Ur.Z%100,r(Ur)):m(Ur)}}function Me(Ar,Gr,nn,Ur){for(var Mr,Br,Tn=0,bn=Gr.length,ur=nn.length;Tn<bn;){if(Ur>=ur)return-1;if(37===(Mr=Gr.charCodeAt(Tn++))){if(Mr=Gr.charAt(Tn++),!(Br=pe[Mr in a?Gr.charAt(Tn++):Mr])||(Ur=Br(Ar,nn,Ur))<0)return-1}else if(Mr!=nn.charCodeAt(Ur++))return-1}return Ur}return he.x=be(ft,he),he.X=be(pt,he),he.c=be(wt,he),ne.x=be(ft,ne),ne.X=be(pt,ne),ne.c=be(wt,ne),{format:function(Ar){var Gr=be(Ar+="",he);return Gr.toString=function(){return Ar},Gr},parse:function(Ar){var Gr=Se(Ar+="",!1);return Gr.toString=function(){return Ar},Gr},utcFormat:function(Ar){var Gr=be(Ar+="",ne);return Gr.toString=function(){return Ar},Gr},utcParse:function(Ar){var Gr=Se(Ar+="",!0);return Gr.toString=function(){return Ar},Gr}}}var Ct,Wt,Ht,a={"-":"",_:" ",0:"0"},h=/^\s*\d+/,f=/^%/,u=/[\\^$*+?|[\]().{}]/g;function g(kt,wt,ft){var pt=kt<0?"-":"",Dt=(pt?-kt:kt)+"",Qt=Dt.length;return pt+(Qt<ft?new Array(ft-Qt+1).join(wt)+Dt:Dt)}function c(kt){return kt.replace(u,"\\$&")}function w(kt){return new RegExp("^(?:"+kt.map(c).join("|")+")","i")}function d(kt){for(var wt={},ft=-1,pt=kt.length;++ft<pt;)wt[kt[ft].toLowerCase()]=ft;return wt}function o(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+1));return pt?(kt.w=+pt[0],ft+pt[0].length):-1}function v(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+1));return pt?(kt.u=+pt[0],ft+pt[0].length):-1}function M(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+2));return pt?(kt.U=+pt[0],ft+pt[0].length):-1}function b(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+2));return pt?(kt.V=+pt[0],ft+pt[0].length):-1}function E(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+2));return pt?(kt.W=+pt[0],ft+pt[0].length):-1}function x(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+4));return pt?(kt.y=+pt[0],ft+pt[0].length):-1}function S(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+2));return pt?(kt.y=+pt[0]+(+pt[0]>68?1900:2e3),ft+pt[0].length):-1}function T(kt,wt,ft){var pt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(wt.slice(ft,ft+6));return pt?(kt.Z=pt[1]?0:-(pt[2]+(pt[3]||"00")),ft+pt[0].length):-1}function n(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+1));return pt?(kt.q=3*pt[0]-3,ft+pt[0].length):-1}function C(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+2));return pt?(kt.m=pt[0]-1,ft+pt[0].length):-1}function p(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+2));return pt?(kt.d=+pt[0],ft+pt[0].length):-1}function F(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+3));return pt?(kt.m=0,kt.d=+pt[0],ft+pt[0].length):-1}function D(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+2));return pt?(kt.H=+pt[0],ft+pt[0].length):-1}function N(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+2));return pt?(kt.M=+pt[0],ft+pt[0].length):-1}function k(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+2));return pt?(kt.S=+pt[0],ft+pt[0].length):-1}function z(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+3));return pt?(kt.L=+pt[0],ft+pt[0].length):-1}function B(kt,wt,ft){var pt=h.exec(wt.slice(ft,ft+6));return pt?(kt.L=Math.floor(pt[0]/1e3),ft+pt[0].length):-1}function O(kt,wt,ft){var pt=f.exec(wt.slice(ft,ft+1));return pt?ft+pt[0].length:-1}function U(kt,wt,ft){var pt=h.exec(wt.slice(ft));return pt?(kt.Q=+pt[0],ft+pt[0].length):-1}function G(kt,wt,ft){var pt=h.exec(wt.slice(ft));return pt?(kt.s=+pt[0],ft+pt[0].length):-1}function J(kt,wt){return g(kt.getDate(),wt,2)}function et(kt,wt){return g(kt.getHours(),wt,2)}function at(kt,wt){return g(kt.getHours()%12||12,wt,2)}function lt(kt,wt){return g(1+P.c.count((0,L.c)(kt),kt),wt,3)}function K(kt,wt){return g(kt.getMilliseconds(),wt,3)}function j(kt,wt){return K(kt,wt)+"000"}function rt(kt,wt){return g(kt.getMonth()+1,wt,2)}function H(kt,wt){return g(kt.getMinutes(),wt,2)}function Z(kt,wt){return g(kt.getSeconds(),wt,2)}function it(kt){var wt=kt.getDay();return 0===wt?7:wt}function Q(kt,wt){return g(i.uU.count((0,L.c)(kt)-1,kt),wt,2)}function Y(kt,wt){var ft=kt.getDay();return kt=ft>=4||0===ft?(0,i.kD)(kt):i.kD.ceil(kt),g(i.kD.count((0,L.c)(kt),kt)+(4===(0,L.c)(kt).getDay()),wt,2)}function nt(kt){return kt.getDay()}function _(kt,wt){return g(i.qT.count((0,L.c)(kt)-1,kt),wt,2)}function st(kt,wt){return g(kt.getFullYear()%100,wt,2)}function dt(kt,wt){return g(kt.getFullYear()%1e4,wt,4)}function xt(kt){var wt=kt.getTimezoneOffset();return(wt>0?"-":(wt*=-1,"+"))+g(wt/60|0,"0",2)+g(wt%60,"0",2)}function yt(kt,wt){return g(kt.getUTCDate(),wt,2)}function St(kt,wt){return g(kt.getUTCHours(),wt,2)}function Et(kt,wt){return g(kt.getUTCHours()%12||12,wt,2)}function Tt(kt,wt){return g(1+y.c.count((0,l.c)(kt),kt),wt,3)}function gt(kt,wt){return g(kt.getUTCMilliseconds(),wt,3)}function Mt(kt,wt){return gt(kt,wt)+"000"}function Nt(kt,wt){return g(kt.getUTCMonth()+1,wt,2)}function Gt(kt,wt){return g(kt.getUTCMinutes(),wt,2)}function Pt(kt,wt){return g(kt.getUTCSeconds(),wt,2)}function Vt(kt){var wt=kt.getUTCDay();return 0===wt?7:wt}function re(kt,wt){return g(A.EV.count((0,l.c)(kt)-1,kt),wt,2)}function le(kt,wt){var ft=kt.getUTCDay();return kt=ft>=4||0===ft?(0,A.yA)(kt):A.yA.ceil(kt),g(A.yA.count((0,l.c)(kt),kt)+(4===(0,l.c)(kt).getUTCDay()),wt,2)}function It(kt){return kt.getUTCDay()}function Rt(kt,wt){return g(A.ot.count((0,l.c)(kt)-1,kt),wt,2)}function $t(kt,wt){return g(kt.getUTCFullYear()%100,wt,2)}function oe(kt,wt){return g(kt.getUTCFullYear()%1e4,wt,4)}function se(){return"+0000"}function ve(){return"%"}function de(kt){return+kt}function jt(kt){return Math.floor(+kt/1e3)}!function zt(kt){return Ct=s(kt),Wt=Ct.format,Ht=Ct.utcFormat,Ct}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},68936:function(tt,W,t){"use strict";t.d(W,{m:function(){return P}});var A=t(81628),y=t(69792),i=(0,A.c)(function(L){L.setHours(0,0,0,0)},function(L,l){L.setDate(L.getDate()+l)},function(L,l){return(l-L-(l.getTimezoneOffset()-L.getTimezoneOffset())*y.iy)/y.SK},function(L){return L.getDate()-1});W.c=i;var P=i.range},69792:function(tt,W,t){"use strict";t.d(W,{KK:function(){return L},SK:function(){return P},cg:function(){return i},iy:function(){return y},yc:function(){return A}});var A=1e3,y=6e4,i=36e5,P=864e5,L=6048e5},73220:function(tt,W,t){"use strict";t.r(W),t.d(W,{timeDay:function(){return g.c},timeDays:function(){return g.m},timeFriday:function(){return c.iB},timeFridays:function(){return c.sJ},timeHour:function(){return f},timeHours:function(){return u},timeInterval:function(){return A.c},timeMillisecond:function(){return i},timeMilliseconds:function(){return P},timeMinute:function(){return s},timeMinutes:function(){return a},timeMonday:function(){return c.qT},timeMondays:function(){return c.QP},timeMonth:function(){return d},timeMonths:function(){return o},timeSaturday:function(){return c.Wc},timeSaturdays:function(){return c.aI},timeSecond:function(){return m},timeSeconds:function(){return r},timeSunday:function(){return c.uU},timeSundays:function(){return c.Ab},timeThursday:function(){return c.kD},timeThursdays:function(){return c.eC},timeTuesday:function(){return c.Mf},timeTuesdays:function(){return c.Oc},timeWednesday:function(){return c.eg},timeWednesdays:function(){return c.sn},timeWeek:function(){return c.uU},timeWeeks:function(){return c.Ab},timeYear:function(){return v.c},timeYears:function(){return v.Q},utcDay:function(){return n.c},utcDays:function(){return n.o},utcFriday:function(){return C.od},utcFridays:function(){return C.iG},utcHour:function(){return S},utcHours:function(){return T},utcMillisecond:function(){return i},utcMilliseconds:function(){return P},utcMinute:function(){return b},utcMinutes:function(){return E},utcMonday:function(){return C.ot},utcMondays:function(){return C.iO},utcMonth:function(){return F},utcMonths:function(){return D},utcSaturday:function(){return C.Ad},utcSaturdays:function(){return C.K8},utcSecond:function(){return m},utcSeconds:function(){return r},utcSunday:function(){return C.EV},utcSundays:function(){return C.Wq},utcThursday:function(){return C.yA},utcThursdays:function(){return C.ob},utcTuesday:function(){return C.sG},utcTuesdays:function(){return C.kl},utcWednesday:function(){return C._6},utcWednesdays:function(){return C.W_},utcWeek:function(){return C.EV},utcWeeks:function(){return C.Wq},utcYear:function(){return N.c},utcYears:function(){return N.i}});var A=t(81628),y=(0,A.c)(function(){},function(k,z){k.setTime(+k+z)},function(k,z){return z-k});y.every=function(k){return k=Math.floor(k),isFinite(k)&&k>0?k>1?(0,A.c)(function(z){z.setTime(Math.floor(z/k)*k)},function(z,B){z.setTime(+z+B*k)},function(z,B){return(B-z)/k}):y:null};var i=y,P=y.range,L=t(69792),l=(0,A.c)(function(k){k.setTime(k-k.getMilliseconds())},function(k,z){k.setTime(+k+z*L.yc)},function(k,z){return(z-k)/L.yc},function(k){return k.getUTCSeconds()}),m=l,r=l.range,e=(0,A.c)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*L.yc)},function(k,z){k.setTime(+k+z*L.iy)},function(k,z){return(z-k)/L.iy},function(k){return k.getMinutes()}),s=e,a=e.range,h=(0,A.c)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*L.yc-k.getMinutes()*L.iy)},function(k,z){k.setTime(+k+z*L.cg)},function(k,z){return(z-k)/L.cg},function(k){return k.getHours()}),f=h,u=h.range,g=t(68936),c=t(46192),w=(0,A.c)(function(k){k.setDate(1),k.setHours(0,0,0,0)},function(k,z){k.setMonth(k.getMonth()+z)},function(k,z){return z.getMonth()-k.getMonth()+12*(z.getFullYear()-k.getFullYear())},function(k){return k.getMonth()}),d=w,o=w.range,v=t(32171),M=(0,A.c)(function(k){k.setUTCSeconds(0,0)},function(k,z){k.setTime(+k+z*L.iy)},function(k,z){return(z-k)/L.iy},function(k){return k.getUTCMinutes()}),b=M,E=M.range,x=(0,A.c)(function(k){k.setUTCMinutes(0,0,0)},function(k,z){k.setTime(+k+z*L.cg)},function(k,z){return(z-k)/L.cg},function(k){return k.getUTCHours()}),S=x,T=x.range,n=t(58931),C=t(8208),p=(0,A.c)(function(k){k.setUTCDate(1),k.setUTCHours(0,0,0,0)},function(k,z){k.setUTCMonth(k.getUTCMonth()+z)},function(k,z){return z.getUTCMonth()-k.getUTCMonth()+12*(z.getUTCFullYear()-k.getUTCFullYear())},function(k){return k.getUTCMonth()}),F=p,D=p.range,N=t(53528)},81628:function(tt,W,t){"use strict";t.d(W,{c:function(){return i}});var A=new Date,y=new Date;function i(P,L,l,m){function r(e){return P(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return P(e=new Date(+e)),e},r.ceil=function(e){return P(e=new Date(e-1)),L(e,1),P(e),e},r.round=function(e){var s=r(e),a=r.ceil(e);return e-s<a-e?s:a},r.offset=function(e,s){return L(e=new Date(+e),null==s?1:Math.floor(s)),e},r.range=function(e,s,a){var f,h=[];if(e=r.ceil(e),a=null==a?1:Math.floor(a),!(e<s&&a>0))return h;do{h.push(f=new Date(+e)),L(e,a),P(e)}while(f<e&&e<s);return h},r.filter=function(e){return i(function(s){if(s>=s)for(;P(s),!e(s);)s.setTime(s-1)},function(s,a){if(s>=s)if(a<0)for(;++a<=0;)for(;L(s,-1),!e(s););else for(;--a>=0;)for(;L(s,1),!e(s););})},l&&(r.count=function(e,s){return A.setTime(+e),y.setTime(+s),P(A),P(y),Math.floor(l(A,y))},r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(m?function(s){return m(s)%e==0}:function(s){return r.count(0,s)%e==0}):r:null}),r}},58931:function(tt,W,t){"use strict";t.d(W,{o:function(){return P}});var A=t(81628),y=t(69792),i=(0,A.c)(function(L){L.setUTCHours(0,0,0,0)},function(L,l){L.setUTCDate(L.getUTCDate()+l)},function(L,l){return(l-L)/y.SK},function(L){return L.getUTCDate()-1});W.c=i;var P=i.range},8208:function(tt,W,t){"use strict";t.d(W,{Ad:function(){return s},EV:function(){return P},K8:function(){return w},W_:function(){return u},Wq:function(){return a},_6:function(){return m},iG:function(){return c},iO:function(){return h},kl:function(){return f},ob:function(){return g},od:function(){return e},ot:function(){return L},sG:function(){return l},yA:function(){return r}});var A=t(81628),y=t(69792);function i(d){return(0,A.c)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-d)%7),o.setUTCHours(0,0,0,0)},function(o,v){o.setUTCDate(o.getUTCDate()+7*v)},function(o,v){return(v-o)/y.KK})}var P=i(0),L=i(1),l=i(2),m=i(3),r=i(4),e=i(5),s=i(6),a=P.range,h=L.range,f=l.range,u=m.range,g=r.range,c=e.range,w=s.range},53528:function(tt,W,t){"use strict";t.d(W,{i:function(){return i}});var A=t(81628),y=(0,A.c)(function(P){P.setUTCMonth(0,1),P.setUTCHours(0,0,0,0)},function(P,L){P.setUTCFullYear(P.getUTCFullYear()+L)},function(P,L){return L.getUTCFullYear()-P.getUTCFullYear()},function(P){return P.getUTCFullYear()});y.every=function(P){return isFinite(P=Math.floor(P))&&P>0?(0,A.c)(function(L){L.setUTCFullYear(Math.floor(L.getUTCFullYear()/P)*P),L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,l){L.setUTCFullYear(L.getUTCFullYear()+l*P)}):null},W.c=y;var i=y.range},46192:function(tt,W,t){"use strict";t.d(W,{Ab:function(){return a},Mf:function(){return l},Oc:function(){return f},QP:function(){return h},Wc:function(){return s},aI:function(){return w},eC:function(){return g},eg:function(){return m},iB:function(){return e},kD:function(){return r},qT:function(){return L},sJ:function(){return c},sn:function(){return u},uU:function(){return P}});var A=t(81628),y=t(69792);function i(d){return(0,A.c)(function(o){o.setDate(o.getDate()-(o.getDay()+7-d)%7),o.setHours(0,0,0,0)},function(o,v){o.setDate(o.getDate()+7*v)},function(o,v){return(v-o-(v.getTimezoneOffset()-o.getTimezoneOffset())*y.iy)/y.KK})}var P=i(0),L=i(1),l=i(2),m=i(3),r=i(4),e=i(5),s=i(6),a=P.range,h=L.range,f=l.range,u=m.range,g=r.range,c=e.range,w=s.range},32171:function(tt,W,t){"use strict";t.d(W,{Q:function(){return i}});var A=t(81628),y=(0,A.c)(function(P){P.setMonth(0,1),P.setHours(0,0,0,0)},function(P,L){P.setFullYear(P.getFullYear()+L)},function(P,L){return L.getFullYear()-P.getFullYear()},function(P){return P.getFullYear()});y.every=function(P){return isFinite(P=Math.floor(P))&&P>0?(0,A.c)(function(L){L.setFullYear(Math.floor(L.getFullYear()/P)*P),L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,l){L.setFullYear(L.getFullYear()+l*P)}):null},W.c=y;var i=y.range},64348:function(tt,W,t){"use strict";var A=t(39640)(),y=t(53664),i=A&&y("%Object.defineProperty%",!0);if(i)try{i({},"a",{value:1})}catch(m){i=!1}var P=y("%SyntaxError%"),L=y("%TypeError%"),l=t(2304);tt.exports=function(r,e,s){if(!r||"object"!=typeof r&&"function"!=typeof r)throw new L("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new L("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new L("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new L("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new L("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new L("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],g=!!l&&l(r,e);if(i)i(r,e,{configurable:null===f&&g?g.configurable:!f,enumerable:null===a&&g?g.enumerable:!a,value:s,writable:null===h&&g?g.writable:!h});else{if(!u&&(a||h||f))throw new P("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");r[e]=s}}},81288:function(tt,W,t){"use strict";var A=t(41820),y="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,P=Array.prototype.concat,L=Object.defineProperty,m=t(39640)(),r=L&&m,e=function(a,h,f,u){if(h in a)if(!0===u){if(a[h]===f)return}else if(!function(a){return"function"==typeof a&&"[object Function]"===i.call(a)}(u)||!u())return;r?L(a,h,{configurable:!0,enumerable:!1,value:f,writable:!0}):a[h]=f},s=function(a,h){var f=arguments.length>2?arguments[2]:{},u=A(h);y&&(u=P.call(u,Object.getOwnPropertySymbols(h)));for(var g=0;g<u.length;g+=1)e(a,u[g],h[u[g]],f[u[g]])};s.supportsDescriptors=!!r,tt.exports=s},31264:function(tt){tt.exports=function(){for(var W=0;W<arguments.length;W++)if(void 0!==arguments[W])return arguments[W]}},63768:function(tt){"use strict";tt.exports=y;var t=(y.canvas=document.createElement("canvas")).getContext("2d"),A=i([32,126]);function y(P,L){Array.isArray(P)&&(P=P.join(", "));var m,l={},r=16,e=.05;L&&(2===L.length&&"number"==typeof L[0]?m=i(L):Array.isArray(L)?m=L:(L.o?m=i(L.o):L.pairs&&(m=L.pairs),L.fontSize&&(r=L.fontSize),null!=L.threshold&&(e=L.threshold))),m||(m=A),t.font=r+"px "+P;for(var s=0;s<m.length;s++){var a=m[s],h=t.measureText(a[0]).width+t.measureText(a[1]).width,f=t.measureText(a).width;Math.abs(h-f)>r*e&&(l[a]=(f-h)/r*1e3)}return l}function i(P){for(var L=[],l=P[0];l<=P[1];l++)for(var m=String.fromCharCode(l),r=P[0];r<P[1];r++){var e=String.fromCharCode(r);L.push(m+e)}return L}y.createPairs=i,y.ascii=A},22235:function(tt,W,t){var A=t(49972),y=t(48816),i={M:"moveTo",C:"bezierCurveTo"};tt.exports=function(P,L){P.beginPath(),y(A(L)).forEach(function(l){var m=l[0],r=l.slice(1);P[i[m]].apply(P,r)}),P.closePath()}},72512:function(tt){tt.exports=function(W){switch(W){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(tt){"use strict";function W(y,i,P){var L=0|y[P];if(L<=0)return[];var m,l=new Array(L);if(P===y.length-1)for(m=0;m<L;++m)l[m]=i;else for(m=0;m<L;++m)l[m]=W(y,i,P+1);return l}tt.exports=function A(y,i){switch(void 0===i&&(i=0),typeof y){case"number":if(y>0)return function t(y,i){var P,L;for(P=new Array(y),L=0;L<y;++L)P[L]=i;return P}(0|y,i);break;case"object":if("number"==typeof y.length)return W(y,i,0)}return[]}},28912:function(tt){"use strict";function W(D,N,k){k=k||2;var G,J,et,at,lt,K,j,z=N&&N.length,B=z?N[0]*k:D.length,O=t(D,0,B,k,!0),U=[];if(!O||O.next===O.prev)return U;if(z&&(O=function m(D,N,k,z){var O,U,et,B=[];for(O=0,U=N.length;O<U;O++)(et=t(D,N[O]*z,O<U-1?N[O+1]*z:D.length,z,!1))===et.next&&(et.steiner=!0),B.push(g(et));for(B.sort(r),O=0;O<B.length;O++)e(B[O],k),k=A(k,k.next);return k}(D,N,O,k)),D.length>80*k){G=et=D[0],J=at=D[1];for(var rt=k;rt<B;rt+=k)(lt=D[rt])<G&&(G=lt),(K=D[rt+1])<J&&(J=K),lt>et&&(et=lt),K>at&&(at=K);j=0!==(j=Math.max(et-G,at-J))?1/j:0}return y(O,U,k,G,J,j),U}function t(D,N,k,z,B){var O,U;if(B===F(D,N,k,z)>0)for(O=N;O<k;O+=z)U=n(O,D[O],D[O+1],U);else for(O=k-z;O>=N;O-=z)U=n(O,D[O],D[O+1],U);return U&&o(U,U.next)&&(C(U),U=U.next),U}function A(D,N){if(!D)return D;N||(N=D);var z,k=D;do{if(z=!1,k.steiner||!o(k,k.next)&&0!==d(k.prev,k,k.next))k=k.next;else{if(C(k),(k=N=k.prev)===k.next)break;z=!0}}while(z||k!==N);return N}function y(D,N,k,z,B,O,U){if(D){!U&&O&&function h(D,N,k,z){var B=D;do{null===B.z&&(B.z=u(B.x,B.y,N,k,z)),B.prevZ=B.prev,B.nextZ=B.next,B=B.next}while(B!==D);B.prevZ.nextZ=null,B.prevZ=null,function f(D){var N,k,z,B,O,U,G,J,et=1;do{for(k=D,D=null,O=null,U=0;k;){for(U++,z=k,G=0,N=0;N<et&&(G++,z=z.nextZ);N++);for(J=et;G>0||J>0&&z;)0!==G&&(0===J||!z||k.z<=z.z)?(B=k,k=k.nextZ,G--):(B=z,z=z.nextZ,J--),O?O.nextZ=B:D=B,B.prevZ=O,O=B;k=z}O.nextZ=null,et*=2}while(U>1);return D}(B)}(D,z,B,O);for(var J,et,G=D;D.prev!==D.next;)if(J=D.prev,et=D.next,O?P(D,z,B,O):i(D))N.push(J.i/k),N.push(D.i/k),N.push(et.i/k),C(D),D=et.next,G=et.next;else if((D=et)===G){U?1===U?y(D=L(A(D),N,k),N,k,z,B,O,2):2===U&&l(D,N,k,z,B,O):y(A(D),N,k,z,B,O,1);break}}}function i(D){var N=D.prev,k=D,z=D.next;if(d(N,k,z)>=0)return!1;for(var B=D.next.next;B!==D.prev;){if(c(N.x,N.y,k.x,k.y,z.x,z.y,B.x,B.y)&&d(B.prev,B,B.next)>=0)return!1;B=B.next}return!0}function P(D,N,k,z){var B=D.prev,O=D,U=D.next;if(d(B,O,U)>=0)return!1;for(var et=B.x>O.x?B.x>U.x?B.x:U.x:O.x>U.x?O.x:U.x,at=B.y>O.y?B.y>U.y?B.y:U.y:O.y>U.y?O.y:U.y,lt=u(B.x<O.x?B.x<U.x?B.x:U.x:O.x<U.x?O.x:U.x,B.y<O.y?B.y<U.y?B.y:U.y:O.y<U.y?O.y:U.y,N,k,z),K=u(et,at,N,k,z),j=D.prevZ,rt=D.nextZ;j&&j.z>=lt&&rt&&rt.z<=K;){if(j!==D.prev&&j!==D.next&&c(B.x,B.y,O.x,O.y,U.x,U.y,j.x,j.y)&&d(j.prev,j,j.next)>=0||(j=j.prevZ,rt!==D.prev&&rt!==D.next&&c(B.x,B.y,O.x,O.y,U.x,U.y,rt.x,rt.y)&&d(rt.prev,rt,rt.next)>=0))return!1;rt=rt.nextZ}for(;j&&j.z>=lt;){if(j!==D.prev&&j!==D.next&&c(B.x,B.y,O.x,O.y,U.x,U.y,j.x,j.y)&&d(j.prev,j,j.next)>=0)return!1;j=j.prevZ}for(;rt&&rt.z<=K;){if(rt!==D.prev&&rt!==D.next&&c(B.x,B.y,O.x,O.y,U.x,U.y,rt.x,rt.y)&&d(rt.prev,rt,rt.next)>=0)return!1;rt=rt.nextZ}return!0}function L(D,N,k){var z=D;do{var B=z.prev,O=z.next.next;!o(B,O)&&v(B,z,z.next,O)&&x(B,O)&&x(O,B)&&(N.push(B.i/k),N.push(z.i/k),N.push(O.i/k),C(z),C(z.next),z=D=O),z=z.next}while(z!==D);return A(z)}function l(D,N,k,z,B,O){var U=D;do{for(var G=U.next.next;G!==U.prev;){if(U.i!==G.i&&w(U,G)){var J=T(U,G);return U=A(U,U.next),J=A(J,J.next),y(U,N,k,z,B,O),void y(J,N,k,z,B,O)}G=G.next}U=U.next}while(U!==D)}function r(D,N){return D.x-N.x}function e(D,N){if(N=function s(D,N){var U,k=N,z=D.x,B=D.y,O=-1/0;do{if(B<=k.y&&B>=k.next.y&&k.next.y!==k.y){var G=k.x+(B-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(G<=z&&G>O){if(O=G,G===z){if(B===k.y)return k;if(B===k.next.y)return k.next}U=k.x<k.next.x?k:k.next}}k=k.next}while(k!==N);if(!U)return null;if(z===O)return U;var K,J=U,et=U.x,at=U.y,lt=1/0;k=U;do{z>=k.x&&k.x>=et&&z!==k.x&&c(B<at?z:O,B,et,at,B<at?O:z,B,k.x,k.y)&&(K=Math.abs(B-k.y)/(z-k.x),x(k,D)&&(K<lt||K===lt&&(k.x>U.x||k.x===U.x&&a(U,k)))&&(U=k,lt=K)),k=k.next}while(k!==J);return U}(D,N)){var k=T(N,D);A(N,N.next),A(k,k.next)}}function a(D,N){return d(D.prev,D,N.prev)<0&&d(N.next,D,D.next)<0}function u(D,N,k,z,B){return(D=1431655765&((D=858993459&((D=252645135&((D=16711935&((D=32767*(D-k)*B)|D<<8))|D<<4))|D<<2))|D<<1))|(N=1431655765&((N=858993459&((N=252645135&((N=16711935&((N=32767*(N-z)*B)|N<<8))|N<<4))|N<<2))|N<<1))<<1}function g(D){var N=D,k=D;do{(N.x<k.x||N.x===k.x&&N.y<k.y)&&(k=N),N=N.next}while(N!==D);return k}function c(D,N,k,z,B,O,U,G){return(B-U)*(N-G)-(D-U)*(O-G)>=0&&(D-U)*(z-G)-(k-U)*(N-G)>=0&&(k-U)*(O-G)-(B-U)*(z-G)>=0}function w(D,N){return D.next.i!==N.i&&D.prev.i!==N.i&&!function E(D,N){var k=D;do{if(k.i!==D.i&&k.next.i!==D.i&&k.i!==N.i&&k.next.i!==N.i&&v(k,k.next,D,N))return!0;k=k.next}while(k!==D);return!1}(D,N)&&(x(D,N)&&x(N,D)&&function S(D,N){var k=D,z=!1,B=(D.x+N.x)/2,O=(D.y+N.y)/2;do{k.y>O!=k.next.y>O&&k.next.y!==k.y&&B<(k.next.x-k.x)*(O-k.y)/(k.next.y-k.y)+k.x&&(z=!z),k=k.next}while(k!==D);return z}(D,N)&&(d(D.prev,D,N.prev)||d(D,N.prev,N))||o(D,N)&&d(D.prev,D,D.next)>0&&d(N.prev,N,N.next)>0)}function d(D,N,k){return(N.y-D.y)*(k.x-N.x)-(N.x-D.x)*(k.y-N.y)}function o(D,N){return D.x===N.x&&D.y===N.y}function v(D,N,k,z){var B=b(d(D,N,k)),O=b(d(D,N,z)),U=b(d(k,z,D)),G=b(d(k,z,N));return!!(B!==O&&U!==G||0===B&&M(D,k,N)||0===O&&M(D,z,N)||0===U&&M(k,D,z)||0===G&&M(k,N,z))}function M(D,N,k){return N.x<=Math.max(D.x,k.x)&&N.x>=Math.min(D.x,k.x)&&N.y<=Math.max(D.y,k.y)&&N.y>=Math.min(D.y,k.y)}function b(D){return D>0?1:D<0?-1:0}function x(D,N){return d(D.prev,D,D.next)<0?d(D,N,D.next)>=0&&d(D,D.prev,N)>=0:d(D,N,D.prev)<0||d(D,D.next,N)<0}function T(D,N){var k=new p(D.i,D.x,D.y),z=new p(N.i,N.x,N.y),B=D.next,O=N.prev;return D.next=N,N.prev=D,k.next=B,B.prev=k,z.next=k,k.prev=z,O.next=z,z.prev=O,z}function n(D,N,k,z){var B=new p(D,N,k);return z?(B.next=z.next,B.prev=z,z.next.prev=B,z.next=B):(B.prev=B,B.next=B),B}function C(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function p(D,N,k){this.i=D,this.x=N,this.y=k,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function F(D,N,k,z){for(var B=0,O=N,U=k-z;O<k;O+=z)B+=(D[U]-D[O])*(D[O+1]+D[U+1]),U=O;return B}tt.exports=W,tt.exports.default=W,W.deviation=function(D,N,k,z){var B=N&&N.length,U=Math.abs(F(D,0,B?N[0]*k:D.length,k));if(B)for(var G=0,J=N.length;G<J;G++)U-=Math.abs(F(D,N[G]*k,G<J-1?N[G+1]*k:D.length,k));var lt=0;for(G=0;G<z.length;G+=3){var K=z[G]*k,j=z[G+1]*k,rt=z[G+2]*k;lt+=Math.abs((D[K]-D[rt])*(D[j+1]-D[K+1])-(D[K]-D[j])*(D[rt+1]-D[K+1]))}return 0===U&&0===lt?0:Math.abs((lt-U)/U)},W.flatten=function(D){for(var N=D[0][0].length,k={vertices:[],holes:[],dimensions:N},z=0,B=0;B<D.length;B++){for(var O=0;O<D[B].length;O++)for(var U=0;U<N;U++)k.vertices.push(D[B][O][U]);B>0&&k.holes.push(z+=D[B-1].length)}return k}},6688:function(tt,W,t){var A=t(78484);tt.exports=function(i,P){var s,L=[],l=[],m=[],r={},e=[];function a(M){m[M]=!1,r.hasOwnProperty(M)&&Object.keys(r[M]).forEach(function(b){delete r[M][b],m[b]&&a(b)})}function h(M){var E,x,b=!1;for(l.push(M),m[M]=!0,E=0;E<e[M].length;E++)(x=e[M][E])===s?(f(s,l),b=!0):m[x]||(b=h(x));if(b)a(M);else for(E=0;E<e[M].length;E++){var S=r[x=e[M][E]];S||(r[x]=S={}),S[x]=!0}return l.pop(),b}function f(M,b){var E=[].concat(b).concat(M);P?P(h):L.push(E)}function g(M){!function u(M){for(var b=0;b<i.length;b++)b<M&&(i[b]=[]),i[b]=i[b].filter(function(E){return E>=M})}(M);for(var T,x=A(i).components.filter(function(D){return D.length>1}),S=1/0,n=0;n<x.length;n++)for(var C=0;C<x[n].length;C++)x[n][C]<S&&(S=x[n][C],T=n);var p=x[T];return!!p&&{leastVertex:S,adjList:i.map(function(D,N){return-1===p.indexOf(N)?[]:D.filter(function(k){return-1!==p.indexOf(k)})})}}s=0;for(var c=i.length;s<c;){var w=g(s);if(s=w.leastVertex,e=w.adjList){for(var d=0;d<e.length;d++)for(var o=0;o<e[d].length;o++){var v=e[d][o];m[+v]=!1,r[v]={}}h(s),s+=1}else s=c}if(!P)return L}},41476:function(tt,W,t){"use strict";var A=t(9252);tt.exports=function(){return A(this).length=0,this}},74772:function(tt,W,t){"use strict";tt.exports=t(44716)()?Array.from:t(80816)},44716:function(tt){"use strict";tt.exports=function(){var t,A,W=Array.from;return"function"==typeof W&&(A=W(t=["raz","dwa"]),Boolean(A&&A!==t&&"dwa"===A[1]))}},80816:function(tt,W,t){"use strict";var A=t(92664).iterator,y=t(60948),i=t(17024),P=t(81304),L=t(34044),l=t(9252),m=t(42584),r=t(29768),e=Array.isArray,s=Function.prototype.call,a={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;tt.exports=function(f){var c,w,d,o,v,M,b,E,x,S,u=arguments[1],g=arguments[2];if(f=Object(l(f)),m(u)&&L(u),this&&this!==Array&&i(this))c=this;else{if(!u){if(y(f))return 1!==(v=f.length)?Array.apply(null,f):((o=new Array(1))[0]=f[0],o);if(e(f)){for(o=new Array(v=f.length),w=0;w<v;++w)o[w]=f[w];return o}}o=[]}if(!e(f))if(void 0!==(x=f[A])){for(b=L(x).call(f),c&&(o=new c),E=b.next(),w=0;!E.done;)S=u?s.call(u,g,E.value,w):E.value,c?(a.value=S,h(o,w,a)):o[w]=S,E=b.next(),++w;v=w}else if(r(f)){for(v=f.length,c&&(o=new c),w=0,d=0;w<v;++w)S=f[w],w+1<v&&(M=S.charCodeAt(0))>=55296&&M<=56319&&(S+=f[++w]),S=u?s.call(u,g,S,d):S,c?(a.value=S,h(o,d,a)):o[d]=S,++d;v=d}if(void 0===v)for(v=P(f.length),c&&(o=new c(v)),w=0;w<v;++w)S=u?s.call(u,g,f[w],w):f[w],c?(a.value=S,h(o,w,a)):o[w]=S;return c&&(a.value=null,o.length=v),o}},60948:function(tt){"use strict";var W=Object.prototype.toString,t=W.call(function(){return arguments}());tt.exports=function(A){return W.call(A)===t}},17024:function(tt){"use strict";var W=Object.prototype.toString,t=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);tt.exports=function(A){return"function"==typeof A&&t(W.call(A))}},33208:function(tt){"use strict";tt.exports=function(){}},85608:function(tt,W,t){"use strict";tt.exports=t(37328)()?Math.sign:t(92928)},37328:function(tt){"use strict";tt.exports=function(){var W=Math.sign;return"function"==typeof W&&1===W(10)&&-1===W(-20)}},92928:function(tt){"use strict";tt.exports=function(W){return W=Number(W),isNaN(W)||0===W?W:W>0?1:-1}},96936:function(tt,W,t){"use strict";var A=t(85608),y=Math.abs,i=Math.floor;tt.exports=function(P){return isNaN(P)?0:0!==(P=Number(P))&&isFinite(P)?A(P)*i(y(P)):P}},81304:function(tt,W,t){"use strict";var A=t(96936),y=Math.max;tt.exports=function(i){return y(0,A(i))}},14428:function(tt,W,t){"use strict";var A=t(34044),y=t(9252),i=Function.prototype.bind,P=Function.prototype.call,L=Object.keys,l=Object.prototype.propertyIsEnumerable;tt.exports=function(m,r){return function(e,s){var a,h=arguments[2],f=arguments[3];return e=Object(y(e)),A(s),a=L(e),f&&a.sort("function"==typeof f?i.call(f,e):void 0),"function"!=typeof m&&(m=a[m]),P.call(m,a,function(u,g){return l.call(e,u)?P.call(s,h,e[u],u,e,g):r})}}},38452:function(tt,W,t){"use strict";tt.exports=t(96276)()?Object.assign:t(81892)},96276:function(tt){"use strict";tt.exports=function(){var t,W=Object.assign;return"function"==typeof W&&(W(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},81892:function(tt,W,t){"use strict";var A=t(54768),y=t(9252),i=Math.max;tt.exports=function(P,L){var l,m,e,r=i(arguments.length,2);for(P=Object(y(P)),e=function(s){try{P[s]=L[s]}catch(a){l||(l=a)}},m=1;m<r;++m)A(L=arguments[m]).forEach(e);if(void 0!==l)throw l;return P}},95920:function(tt,W,t){"use strict";var A=t(74772),y=t(38452),i=t(9252);tt.exports=function(P){var L=Object(i(P)),l=arguments[1],m=Object(arguments[2]);if(L!==P&&!l)return L;var r={};return l?A(l,function(e){(m.ensure||e in P)&&(r[e]=P[e])}):y(r,P),r}},14452:function(tt,W,t){"use strict";var y,i,P,L,A=Object.create;t(63092)()||(y=t(8672)),tt.exports=y&&1===y.level?(i={},P={},L={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(l){P[l]="__proto__"!==l?L:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(i,P),Object.defineProperty(y,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(l,m){return A(null===l?i:l,m)}):A},42748:function(tt,W,t){"use strict";tt.exports=t(14428)("forEach")},69127:function(tt,W,t){"use strict";var A=t(42584),y={function:!0,object:!0};tt.exports=function(i){return A(i)&&y[typeof i]||!1}},42584:function(tt,W,t){"use strict";var A=t(33208)();tt.exports=function(y){return y!==A&&null!==y}},54768:function(tt,W,t){"use strict";tt.exports=t(87888)()?Object.keys:t(89592)},87888:function(tt){"use strict";tt.exports=function(){try{return Object.keys("primitive"),!0}catch(W){return!1}}},89592:function(tt,W,t){"use strict";var A=t(42584),y=Object.keys;tt.exports=function(i){return y(A(i)?Object(i):i)}},84323:function(tt,W,t){"use strict";var A=t(34044),y=t(42748),i=Function.prototype.call;tt.exports=function(P,L){var l={},m=arguments[2];return A(L),y(P,function(r,e,s,a){l[e]=i.call(L,m,r,e,s,a)}),l}},50868:function(tt,W,t){"use strict";var A=t(42584),y=Array.prototype.forEach,i=Object.create,P=function(L,l){var m;for(m in L)l[m]=L[m]};tt.exports=function(L){var l=i(null);return y.call(arguments,function(m){!A(m)||P(Object(m),l)}),l}},69932:function(tt,W,t){"use strict";tt.exports=t(63092)()?Object.setPrototypeOf:t(8672)},63092:function(tt){"use strict";var W=Object.create,t=Object.getPrototypeOf,A={};tt.exports=function(){var y=Object.setPrototypeOf;return"function"==typeof y&&t(y((arguments[0]||W)(null),A))===A}},8672:function(tt,W,t){"use strict";var l,m,r,e,A=t(69127),y=t(9252),i=Object.prototype.isPrototypeOf,P=Object.defineProperty,L={configurable:!0,enumerable:!1,writable:!0,value:void 0};l=function(m,r){if(y(m),null===r||A(r))return m;throw new TypeError("Prototype must be null or an object")},tt.exports=(m=function(){var e,m=Object.create(null),r={},s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(s){try{(e=s.set).call(m,r)}catch(a){}if(Object.getPrototypeOf(m)===r)return{set:e,level:2}}return m.__proto__=r,Object.getPrototypeOf(m)===r?{level:2}:((m={}).__proto__=r,Object.getPrototypeOf(m)===r&&{level:1})}(),m?(2===m.level?m.set?(e=m.set,r=function(s,a){return e.call(l(s,a),a),s}):r=function(s,a){return l(s,a).__proto__=a,s}:r=function s(a,h){var f;return l(a,h),(f=i.call(s.nullPolyfill,a))&&delete s.nullPolyfill.__proto__,null===h&&(h=s.nullPolyfill),a.__proto__=h,f&&P(s.nullPolyfill,"__proto__",L),a},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:m.level})):null),t(14452)},34044:function(tt){"use strict";tt.exports=function(W){if("function"!=typeof W)throw new TypeError(W+" is not a function");return W}},92584:function(tt,W,t){"use strict";var A=t(69127);tt.exports=function(y){if(!A(y))throw new TypeError(y+" is not an Object");return y}},9252:function(tt,W,t){"use strict";var A=t(42584);tt.exports=function(y){if(!A(y))throw new TypeError("Cannot use null or undefined");return y}},71056:function(tt,W,t){"use strict";tt.exports=t(42976)()?String.prototype.contains:t(93040)},42976:function(tt){"use strict";var W="razdwatrzy";tt.exports=function(){return"function"==typeof W.contains&&!0===W.contains("dwa")&&!1===W.contains("foo")}},93040:function(tt){"use strict";var W=String.prototype.indexOf;tt.exports=function(t){return W.call(this,t,arguments[1])>-1}},29768:function(tt){"use strict";var W=Object.prototype.toString,t=W.call("");tt.exports=function(A){return"string"==typeof A||A&&"object"==typeof A&&(A instanceof String||W.call(A)===t)||!1}},82252:function(tt){"use strict";var W=Object.create(null),t=Math.random;tt.exports=function(){var A;do{A=t().toString(36).slice(2)}while(W[A]);return A}},52104:function(tt,W,t){"use strict";var m,A=t(69932),y=t(71056),i=t(21092),P=t(92664),L=t(85512),l=Object.defineProperty;m=tt.exports=function(r,e){if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");L.call(this,r),e=e?y.call(e,"key+value")?"key+value":y.call(e,"key")?"key":"value":"value",l(this,"__kind__",i("",e))},A&&A(m,L),delete m.prototype.constructor,m.prototype=Object.create(L.prototype,{_resolve:i(function(r){return"value"===this.__kind__?this.__list__[r]:"key+value"===this.__kind__?[r,this.__list__[r]]:r})}),l(m.prototype,P.toStringTag,i("c","Array Iterator"))},76024:function(tt,W,t){"use strict";var A=t(60948),y=t(34044),i=t(29768),P=t(76252),L=Array.isArray,l=Function.prototype.call,m=Array.prototype.some;tt.exports=function(r,e){var s,h,f,u,g,c,w,d,a=arguments[2];if(L(r)||A(r)?s="array":i(r)?s="string":r=P(r),y(e),f=function(){u=!0},"array"!==s)if("string"!==s)for(h=r.next();!h.done;){if(l.call(e,a,h.value,f),u)return;h=r.next()}else for(c=r.length,g=0;g<c&&(w=r[g],g+1<c&&(d=w.charCodeAt(0))>=55296&&d<=56319&&(w+=r[++g]),l.call(e,a,w,f),!u);++g);else m.call(r,function(o){return l.call(e,a,o,f),u})}},76252:function(tt,W,t){"use strict";var A=t(60948),y=t(29768),i=t(52104),P=t(80940),L=t(52891),l=t(92664).iterator;tt.exports=function(m){return"function"==typeof L(m)[l]?m[l]():A(m)?new i(m):y(m)?new P(m):new i(m)}},85512:function(tt,W,t){"use strict";var s,A=t(41476),y=t(38452),i=t(34044),P=t(9252),L=t(21092),l=t(27940),m=t(92664),r=Object.defineProperty,e=Object.defineProperties;tt.exports=s=function(a,h){if(!(this instanceof s))throw new TypeError("Constructor requires 'new'");e(this,{__list__:L("w",P(a)),__context__:L("w",h),__nextIndex__:L("w",0)}),h&&(i(h.on),h.on("_add",this._onAdd),h.on("_delete",this._onDelete),h.on("_clear",this._onClear))},delete s.prototype.constructor,e(s.prototype,y({_next:L(function(){var a;if(this.__list__){if(this.__redo__&&void 0!==(a=this.__redo__.shift()))return a;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:L(function(){return this._createResult(this._next())}),_createResult:L(function(a){return void 0===a?{done:!0,value:void 0}:{done:!1,value:this._resolve(a)}}),_resolve:L(function(a){return this.__list__[a]}),_unBind:L(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:L(function(){return"[object "+(this[m.toStringTag]||"Object")+"]"})},l({_onAdd:L(function(a){if(!(a>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void r(this,"__redo__",L("c",[a]));this.__redo__.forEach(function(h,f){h>=a&&(this.__redo__[f]=++h)},this),this.__redo__.push(a)}}),_onDelete:L(function(a){var h;a>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(h=this.__redo__.indexOf(a))&&this.__redo__.splice(h,1),this.__redo__.forEach(function(f,u){f>a&&(this.__redo__[u]=--f)},this)))}),_onClear:L(function(){this.__redo__&&A.call(this.__redo__),this.__nextIndex__=0})}))),r(s.prototype,m.iterator,L(function(){return this}))},76368:function(tt,W,t){"use strict";var A=t(60948),y=t(42584),i=t(29768),P=t(92664).iterator,L=Array.isArray;tt.exports=function(l){return!(!y(l)||!(L(l)||i(l)||A(l))&&"function"!=typeof l[P])}},80940:function(tt,W,t){"use strict";var l,A=t(69932),y=t(21092),i=t(92664),P=t(85512),L=Object.defineProperty;l=tt.exports=function(m){if(!(this instanceof l))throw new TypeError("Constructor requires 'new'");m=String(m),P.call(this,m),L(this,"__length__",y("",m.length))},A&&A(l,P),delete l.prototype.constructor,l.prototype=Object.create(P.prototype,{_next:y(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:y(function(m){var e,r=this.__list__[m];return this.__nextIndex__===this.__length__?r:(e=r.charCodeAt(0))>=55296&&e<=56319?r+this.__list__[this.__nextIndex__++]:r})}),L(l.prototype,i.toStringTag,y("c","String Iterator"))},52891:function(tt,W,t){"use strict";var A=t(76368);tt.exports=function(y){if(!A(y))throw new TypeError(y+" is not iterable");return y}},60964:function(tt){"use strict";function W(A,y){if(null==A)throw new TypeError("Cannot convert first argument to object");for(var i=Object(A),P=1;P<arguments.length;P++){var L=arguments[P];if(null!=L)for(var l=Object.keys(Object(L)),m=0,r=l.length;m<r;m++){var e=l[m],s=Object.getOwnPropertyDescriptor(L,e);void 0!==s&&s.enumerable&&(i[e]=L[e])}}return i}tt.exports={assign:W,polyfill:function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:W})}}},92664:function(tt,W,t){"use strict";tt.exports=t(43580)()?t(12296).Symbol:t(18376)},43580:function(tt,W,t){"use strict";var A=t(12296),y={object:!0,symbol:!0};tt.exports=function(){var P,i=A.Symbol;if("function"!=typeof i)return!1;P=i("test symbol");try{String(P)}catch(L){return!1}return!(!y[typeof i.iterator]||!y[typeof i.toPrimitive]||!y[typeof i.toStringTag])}},53908:function(tt){"use strict";tt.exports=function(W){return!(!W||"symbol"!=typeof W&&(!W.constructor||"Symbol"!==W.constructor.name||"Symbol"!==W[W.constructor.toStringTag]))}},96863:function(tt,W,t){"use strict";var A=t(21092),i=Object.defineProperty,P=Object.prototype,L=(0,Object.create)(null);tt.exports=function(l){for(var r,e,m=0;L[l+(m||"")];)++m;return L[l+=m||""]=!0,i(P,r="@@"+l,A.gs(null,function(s){e||(e=!0,i(this,r,A(s)),e=!1)})),r}},53540:function(tt,W,t){"use strict";var A=t(21092),y=t(12296).Symbol;tt.exports=function(i){return Object.defineProperties(i,{hasInstance:A("",y&&y.hasInstance||i("hasInstance")),isConcatSpreadable:A("",y&&y.isConcatSpreadable||i("isConcatSpreadable")),iterator:A("",y&&y.iterator||i("iterator")),match:A("",y&&y.match||i("match")),replace:A("",y&&y.replace||i("replace")),search:A("",y&&y.search||i("search")),species:A("",y&&y.species||i("species")),split:A("",y&&y.split||i("split")),toPrimitive:A("",y&&y.toPrimitive||i("toPrimitive")),toStringTag:A("",y&&y.toStringTag||i("toStringTag")),unscopables:A("",y&&y.unscopables||i("unscopables"))})}},73852:function(tt,W,t){"use strict";var A=t(21092),y=t(63948),i=Object.create(null);tt.exports=function(P){return Object.defineProperties(P,{for:A(function(L){return i[L]?i[L]:i[L]=P(String(L))}),keyFor:A(function(L){var l;for(l in y(L),i)if(i[l]===L)return l})})}},18376:function(tt,W,t){"use strict";var s,a,h,A=t(21092),y=t(63948),i=t(12296).Symbol,P=t(96863),L=t(53540),l=t(73852),m=Object.create,r=Object.defineProperties,e=Object.defineProperty;if("function"==typeof i)try{String(i()),h=!0}catch(f){}else i=null;a=function(u){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return s(u)},tt.exports=s=function f(u){var g;if(this instanceof f)throw new TypeError("Symbol is not a constructor");return h?i(u):(g=m(a.prototype),u=void 0===u?"":String(u),r(g,{__description__:A("",u),__name__:A("",P(u))}))},L(s),l(s),r(a.prototype,{constructor:A(s),toString:A("",function(){return this.__name__})}),r(s.prototype,{toString:A(function(){return"Symbol ("+y(this).__description__+")"}),valueOf:A(function(){return y(this)})}),e(s.prototype,s.toPrimitive,A("",function(){var f=y(this);return"symbol"==typeof f?f:f.toString()})),e(s.prototype,s.toStringTag,A("c","Symbol")),e(a.prototype,s.toStringTag,A("c",s.prototype[s.toStringTag])),e(a.prototype,s.toPrimitive,A("c",s.prototype[s.toPrimitive]))},63948:function(tt,W,t){"use strict";var A=t(53908);tt.exports=function(y){if(!A(y))throw new TypeError(y+" is not a symbol");return y}},60463:function(tt,W,t){"use strict";tt.exports=t(96979)()?WeakMap:t(64864)},96979:function(tt){"use strict";tt.exports=function(){var W,t;if("function"!=typeof WeakMap)return!1;try{W=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch(A){return!1}return!("[object WeakMap]"!==String(W)||"function"!=typeof W.set||W.set({},1)!==W||"function"!=typeof W.delete||"function"!=typeof W.has||"one"!==W.get(t))}},69876:function(tt){"use strict";tt.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},64864:function(tt,W,t){"use strict";var g,A=t(42584),y=t(69932),i=t(92584),P=t(9252),L=t(82252),l=t(21092),m=t(76252),r=t(76024),e=t(92664).toStringTag,s=t(69876),a=Array.isArray,h=Object.defineProperty,f=Object.prototype.hasOwnProperty,u=Object.getPrototypeOf;tt.exports=g=function(){var w,c=arguments[0];if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");return w=s&&y&&WeakMap!==g?y(new WeakMap,u(this)):this,A(c)&&(a(c)||(c=m(c))),h(w,"__weakMapData__",l("c","$weakMap$"+L())),c&&r(c,function(d){P(d),w.set(d[0],d[1])}),w},s&&(y&&y(g,WeakMap),g.prototype=Object.create(WeakMap.prototype,{constructor:l(g)})),Object.defineProperties(g.prototype,{delete:l(function(c){return!!f.call(i(c),this.__weakMapData__)&&(delete c[this.__weakMapData__],!0)}),get:l(function(c){if(f.call(i(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:l(function(c){return f.call(i(c),this.__weakMapData__)}),set:l(function(c,w){return h(i(c),this.__weakMapData__,l("c",w)),this}),toString:l(function(){return"[object WeakMap]"})}),h(g.prototype,e,l("c","WeakMap"))},61252:function(tt){"use strict";var A,W="object"==typeof Reflect?Reflect:null,t=W&&"function"==typeof W.apply?W.apply:function(v,M,b){return Function.prototype.apply.call(v,M,b)};A=W&&"function"==typeof W.ownKeys?W.ownKeys:Object.getOwnPropertySymbols?function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:function(v){return Object.getOwnPropertyNames(v)};var i=Number.isNaN||function(v){return v!=v};function P(){P.init.call(this)}tt.exports=P,tt.exports.once=function c(o,v){return new Promise(function(M,b){function E(S){o.removeListener(v,x),b(S)}function x(){"function"==typeof o.removeListener&&o.removeListener("error",E),M([].slice.call(arguments))}d(o,v,x,{once:!0}),"error"!==v&&function w(o,v,M){"function"==typeof o.on&&d(o,"error",v,M)}(o,E,{once:!0})})},P.EventEmitter=P,P.prototype._events=void 0,P.prototype._eventsCount=0,P.prototype._maxListeners=void 0;var L=10;function l(o){if("function"!=typeof o)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}function m(o){return void 0===o._maxListeners?P.defaultMaxListeners:o._maxListeners}function r(o,v,M,b){var E,x,S;if(l(M),void 0===(x=o._events)?(x=o._events=Object.create(null),o._eventsCount=0):(void 0!==x.newListener&&(o.emit("newListener",v,M.listener?M.listener:M),x=o._events),S=x[v]),void 0===S)S=x[v]=M,++o._eventsCount;else if("function"==typeof S?S=x[v]=b?[M,S]:[S,M]:b?S.unshift(M):S.push(M),(E=m(o))>0&&S.length>E&&!S.warned){S.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=o,T.type=v,T.count=S.length,function y(o){console&&console.warn&&console.warn(o)}(T)}return o}function e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(o,v,M){var b={fired:!1,wrapFn:void 0,target:o,type:v,listener:M},E=e.bind(b);return E.listener=M,b.wrapFn=E,E}function a(o,v,M){var b=o._events;if(void 0===b)return[];var E=b[v];return void 0===E?[]:"function"==typeof E?M?[E.listener||E]:[E]:M?function g(o){for(var v=new Array(o.length),M=0;M<v.length;++M)v[M]=o[M].listener||o[M];return v}(E):f(E,E.length)}function h(o){var v=this._events;if(void 0!==v){var M=v[o];if("function"==typeof M)return 1;if(void 0!==M)return M.length}return 0}function f(o,v){for(var M=new Array(v),b=0;b<v;++b)M[b]=o[b];return M}function d(o,v,M,b){if("function"==typeof o.on)b.once?o.once(v,M):o.on(v,M);else{if("function"!=typeof o.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o);o.addEventListener(v,function E(x){b.once&&o.removeEventListener(v,E),M(x)})}}Object.defineProperty(P,"defaultMaxListeners",{enumerable:!0,get:function(){return L},set:function(o){if("number"!=typeof o||o<0||i(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");L=o}}),P.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},P.prototype.setMaxListeners=function(v){if("number"!=typeof v||v<0||i(v))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+v+".");return this._maxListeners=v,this},P.prototype.getMaxListeners=function(){return m(this)},P.prototype.emit=function(v){for(var M=[],b=1;b<arguments.length;b++)M.push(arguments[b]);var E="error"===v,x=this._events;if(void 0!==x)E=E&&void 0===x.error;else if(!E)return!1;if(E){var S;if(M.length>0&&(S=M[0]),S instanceof Error)throw S;var T=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw T.context=S,T}var n=x[v];if(void 0===n)return!1;if("function"==typeof n)t(n,this,M);else{var C=n.length,p=f(n,C);for(b=0;b<C;++b)t(p[b],this,M)}return!0},P.prototype.on=P.prototype.addListener=function(v,M){return r(this,v,M,!1)},P.prototype.prependListener=function(v,M){return r(this,v,M,!0)},P.prototype.once=function(v,M){return l(M),this.on(v,s(this,v,M)),this},P.prototype.prependOnceListener=function(v,M){return l(M),this.prependListener(v,s(this,v,M)),this},P.prototype.off=P.prototype.removeListener=function(v,M){var b,E,x,S,T;if(l(M),void 0===(E=this._events))return this;if(void 0===(b=E[v]))return this;if(b===M||b.listener===M)0==--this._eventsCount?this._events=Object.create(null):(delete E[v],E.removeListener&&this.emit("removeListener",v,b.listener||M));else if("function"!=typeof b){for(x=-1,S=b.length-1;S>=0;S--)if(b[S]===M||b[S].listener===M){T=b[S].listener,x=S;break}if(x<0)return this;0===x?b.shift():function u(o,v){for(;v+1<o.length;v++)o[v]=o[v+1];o.pop()}(b,x),1===b.length&&(E[v]=b[0]),void 0!==E.removeListener&&this.emit("removeListener",v,T||M)}return this},P.prototype.removeAllListeners=function(v){var M,b,E;if(void 0===(b=this._events))return this;if(void 0===b.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==b[v]&&(0==--this._eventsCount?this._events=Object.create(null):delete b[v]),this;if(0===arguments.length){var S,x=Object.keys(b);for(E=0;E<x.length;++E)"removeListener"!==(S=x[E])&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(M=b[v]))this.removeListener(v,M);else if(void 0!==M)for(E=M.length-1;E>=0;E--)this.removeListener(v,M[E]);return this},P.prototype.listeners=function(v){return a(this,v,!0)},P.prototype.rawListeners=function(v){return a(this,v,!1)},P.listenerCount=function(o,v){return"function"==typeof o.listenerCount?o.listenerCount(v):h.call(o,v)},P.prototype.listenerCount=h,P.prototype.eventNames=function(){return this._eventsCount>0?A(this._events):[]}},39072:function(tt){var W=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};tt.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return W()}try{return __global__||W()}finally{delete Object.prototype.__global__}}()},12296:function(tt,W,t){"use strict";tt.exports=t(45072)()?globalThis:t(39072)},45072:function(tt){"use strict";tt.exports=function(){return!("object"!=typeof globalThis||!globalThis)&&globalThis.Array===Array}},38248:function(tt,W,t){"use strict";var A=t(94576);tt.exports=function(y){var i=typeof y;if("string"===i){var P=y;if(0==(y=+y)&&A(P))return!1}else if("number"!==i)return!1;return y-y<1}},47520:function(tt,W,t){var A=t(72512);tt.exports=function y(i,P,L){if(!i)throw new TypeError("must specify data as first parameter");if(L=0|+(L||0),Array.isArray(i)&&i[0]&&"number"==typeof i[0][0]){var r,e,s,a,l=i[0].length,m=i.length*l;(!P||"string"==typeof P)&&(P=new(A(P||"float32"))(m+L));var h=P.length-L;if(m!==h)throw new Error("source length "+m+" ("+l+"x"+i.length+") does not match destination length "+h);for(r=0,s=L;r<i.length;r++)for(e=0;e<l;e++)P[s++]=null===i[r][e]?NaN:i[r][e]}else if(P&&"string"!=typeof P)P.set(i,L);else{var f=A(P||"float32");if(Array.isArray(i)||"array"===P)for(r=0,s=L,a=(P=new f(i.length+L)).length;s<a;s++,r++)P[s]=null===i[r]?NaN:i[r];else 0===L?P=new f(i):(P=new f(i.length+L)).set(i,L)}return P}},33888:function(tt,W,t){"use strict";var A=t(49395),y=[32,126];tt.exports=function i(P){var L=(P=P||{}).shape?P.shape:P.canvas?[P.canvas.width,P.canvas.height]:[512,512],l=P.canvas||document.createElement("canvas"),m=P.font,r="number"==typeof P.step?[P.step,P.step]:P.step||[32,32],e=P.chars||y;if(m&&"string"!=typeof m&&(m=A(m)),Array.isArray(e)){if(2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]){for(var s=[],a=e[0],h=0;a<=e[1];a++)s[h++]=String.fromCharCode(a);e=s}}else e=String(e).split("");L=L.slice(),l.width=L[0],l.height=L[1];var f=l.getContext("2d");f.fillStyle="#000",f.fillRect(0,0,l.width,l.height),f.font=m,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#fff";var u=r[0]/2,g=r[1]/2;for(a=0;a<e.length;a++)f.fillText(e[a],u,g),(u+=r[0])>L[0]-r[0]/2&&(u=r[0]/2,g+=r[1]);return l}},71920:function(tt){"use strict";function W(e,P){P||(P={}),("string"==typeof e||Array.isArray(e))&&(P.family=e);var L=Array.isArray(P.family)?P.family.join(", "):P.family;if(!L)throw Error("`family` must be defined");var l=P.size||P.fontSize||P.em||48,s=(e=[P.style||P.fontStyle||"",P.weight||P.fontWeight||"",l].join(" ")+"px "+L,P.origin||"top");if(W.cache[L]&&l<=W.cache[L].em)return t(W.cache[L],s);var a=P.canvas||W.canvas,h=a.getContext("2d"),f={upper:void 0!==P.upper?P.upper:"H",lower:void 0!==P.lower?P.lower:"x",descent:void 0!==P.descent?P.descent:"p",ascent:void 0!==P.ascent?P.ascent:"h",tittle:void 0!==P.tittle?P.tittle:"i",overshoot:void 0!==P.overshoot?P.overshoot:"O"},u=Math.ceil(1.5*l);a.height=u,a.width=.5*u,h.font=e;var g="H",c={top:0};h.clearRect(0,0,u,u),h.textBaseline="top",h.fillStyle="black",h.fillText(g,0,0);var w=A(h.getImageData(0,0,u,u));h.clearRect(0,0,u,u),h.textBaseline="bottom",h.fillText(g,0,u);var d=A(h.getImageData(0,0,u,u));c.lineHeight=c.bottom=u-d+w,h.clearRect(0,0,u,u),h.textBaseline="alphabetic",h.fillText(g,0,u);var v=u-A(h.getImageData(0,0,u,u))-1+w;c.baseline=c.alphabetic=v,h.clearRect(0,0,u,u),h.textBaseline="middle",h.fillText(g,0,.5*u);var M=A(h.getImageData(0,0,u,u));c.median=c.middle=u-M-1+w-.5*u,h.clearRect(0,0,u,u),h.textBaseline="hanging",h.fillText(g,0,.5*u);var b=A(h.getImageData(0,0,u,u));c.hanging=u-b-1+w-.5*u,h.clearRect(0,0,u,u),h.textBaseline="ideographic",h.fillText(g,0,u);var E=A(h.getImageData(0,0,u,u));if(c.ideographic=u-E-1+w,f.upper&&(h.clearRect(0,0,u,u),h.textBaseline="top",h.fillText(f.upper,0,0),c.upper=A(h.getImageData(0,0,u,u)),c.capHeight=c.baseline-c.upper),f.lower&&(h.clearRect(0,0,u,u),h.textBaseline="top",h.fillText(f.lower,0,0),c.lower=A(h.getImageData(0,0,u,u)),c.xHeight=c.baseline-c.lower),f.tittle&&(h.clearRect(0,0,u,u),h.textBaseline="top",h.fillText(f.tittle,0,0),c.tittle=A(h.getImageData(0,0,u,u))),f.ascent&&(h.clearRect(0,0,u,u),h.textBaseline="top",h.fillText(f.ascent,0,0),c.ascent=A(h.getImageData(0,0,u,u))),f.descent&&(h.clearRect(0,0,u,u),h.textBaseline="top",h.fillText(f.descent,0,0),c.descent=y(h.getImageData(0,0,u,u))),f.overshoot){h.clearRect(0,0,u,u),h.textBaseline="top",h.fillText(f.overshoot,0,0);var x=y(h.getImageData(0,0,u,u));c.overshoot=x-v}for(var S in c)c[S]/=l;return c.em=l,W.cache[L]=c,t(c,s)}function t(i,P){var L={};for(var l in"string"==typeof P&&(P=i[P]),i)"em"!==l&&(L[l]=i[l]-P);return L}function A(i){for(var P=i.height,L=i.data,l=3;l<L.length;l+=4)if(0!==L[l])return Math.floor(.25*(l-3)/P)}function y(i){for(var P=i.height,L=i.data,l=L.length-1;l>0;l-=4)if(0!==L[l])return Math.floor(.25*(l-3)/P)}tt.exports=W,W.canvas=document.createElement("canvas"),W.cache={}},46492:function(tt,W,t){"use strict";var A=t(90720),y=Object.prototype.toString,i=Object.prototype.hasOwnProperty,P=function(e,s,a){for(var h=0,f=e.length;h<f;h++)i.call(e,h)&&(null==a?s(e[h],h,e):s.call(a,e[h],h,e))},L=function(e,s,a){for(var h=0,f=e.length;h<f;h++)null==a?s(e.charAt(h),h,e):s.call(a,e.charAt(h),h,e)},l=function(e,s,a){for(var h in e)i.call(e,h)&&(null==a?s(e[h],h,e):s.call(a,e[h],h,e))};tt.exports=function(e,s,a){if(!A(s))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=a),"[object Array]"===y.call(e)?P(e,s,h):"string"==typeof e?L(e,s,h):l(e,s,h)}},74336:function(tt){"use strict";var W="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,A=Math.max,y="[object Function]",i=function(m,r){for(var e=[],s=0;s<m.length;s+=1)e[s]=m[s];for(var a=0;a<r.length;a+=1)e[a+m.length]=r[a];return e},P=function(m,r){for(var e=[],s=r||0,a=0;s<m.length;s+=1,a+=1)e[a]=m[s];return e},L=function(l,m){for(var r="",e=0;e<l.length;e+=1)r+=l[e],e+1<l.length&&(r+=m);return r};tt.exports=function(m){var r=this;if("function"!=typeof r||t.apply(r)!==y)throw new TypeError(W+r);for(var s,e=P(arguments,1),a=function(){if(this instanceof s){var c=r.apply(this,i(e,arguments));return Object(c)===c?c:this}return r.apply(m,i(e,arguments))},h=A(0,r.length-e.length),f=[],u=0;u<h;u++)f[u]="$"+u;if(s=Function("binder","return function ("+L(f,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var g=function(){};g.prototype=r.prototype,s.prototype=new g,g.prototype=null}return s}},8844:function(tt,W,t){"use strict";var A=t(74336);tt.exports=Function.prototype.bind||A},13380:function(tt){tt.exports=function W(t,A){if("string"!=typeof t)throw new TypeError("must specify type string");if(A=A||{},"undefined"==typeof document&&!A.canvas)return null;var y=A.canvas||document.createElement("canvas");"number"==typeof A.width&&(y.width=A.width),"number"==typeof A.height&&(y.height=A.height);var P,i=A;try{var L=[t];0===t.indexOf("webgl")&&L.push("experimental-"+t);for(var l=0;l<L.length;l++)if(P=y.getContext(L[l],i))return P}catch(m){P=null}return P||null}},53664:function(tt,W,t){"use strict";var A,y=SyntaxError,i=Function,P=TypeError,L=function(p){try{return i('"use strict"; return ('+p+").constructor;")()}catch(F){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(p){l=null}var m=function(){throw new P},r=l?function(){try{return m}catch(p){try{return l(arguments,"callee").get}catch(F){return m}}}():m,e=t(71080)(),s=t(69572)(),a=Object.getPrototypeOf||(s?function(p){return p.__proto__}:null),h={},f="undefined"!=typeof Uint8Array&&a?a(Uint8Array):A,u={"%AggregateError%":"undefined"==typeof AggregateError?A:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?A:ArrayBuffer,"%ArrayIteratorPrototype%":e&&a?a([][Symbol.iterator]()):A,"%AsyncFromSyncIteratorPrototype%":A,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?A:Atomics,"%BigInt%":"undefined"==typeof BigInt?A:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?A:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?A:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?A:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?A:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?A:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?A:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?A:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?A:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?A:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":e&&a?a(a([][Symbol.iterator]())):A,"%JSON%":"object"==typeof JSON?JSON:A,"%Map%":"undefined"==typeof Map?A:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&e&&a?a((new Map)[Symbol.iterator]()):A,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?A:Promise,"%Proxy%":"undefined"==typeof Proxy?A:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?A:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?A:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&e&&a?a((new Set)[Symbol.iterator]()):A,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?A:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":e&&a?a(""[Symbol.iterator]()):A,"%Symbol%":e?Symbol:A,"%SyntaxError%":y,"%ThrowTypeError%":r,"%TypedArray%":f,"%TypeError%":P,"%Uint8Array%":"undefined"==typeof Uint8Array?A:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?A:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?A:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?A:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?A:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?A:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?A:WeakSet};if(a)try{null.error}catch(p){var g=a(a(p));u["%Error.prototype%"]=g}var c=function p(F){var D;if("%AsyncFunction%"===F)D=L("async function () {}");else if("%GeneratorFunction%"===F)D=L("function* () {}");else if("%AsyncGeneratorFunction%"===F)D=L("async function* () {}");else if("%AsyncGenerator%"===F){var N=p("%AsyncGeneratorFunction%");N&&(D=N.prototype)}else if("%AsyncIteratorPrototype%"===F){var k=p("%AsyncGenerator%");k&&a&&(D=a(k.prototype))}return u[F]=D,D},w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},d=t(8844),o=t(92064),v=d.call(Function.call,Array.prototype.concat),M=d.call(Function.apply,Array.prototype.splice),b=d.call(Function.call,String.prototype.replace),E=d.call(Function.call,String.prototype.slice),x=d.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,n=function(F){var D=E(F,0,1),N=E(F,-1);if("%"===D&&"%"!==N)throw new y("invalid intrinsic syntax, expected closing `%`");if("%"===N&&"%"!==D)throw new y("invalid intrinsic syntax, expected opening `%`");var k=[];return b(F,S,function(z,B,O,U){k[k.length]=O?b(U,T,"$1"):B||z}),k},C=function(F,D){var k,N=F;if(o(w,N)&&(N="%"+(k=w[N])[0]+"%"),o(u,N)){var z=u[N];if(z===h&&(z=c(N)),void 0===z&&!D)throw new P("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:k,name:N,value:z}}throw new y("intrinsic "+F+" does not exist!")};tt.exports=function(F,D){if("string"!=typeof F||0===F.length)throw new P("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof D)throw new P('"allowMissing" argument must be a boolean');if(null===x(/^%?[^%]*%?$/,F))throw new y("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var N=n(F),k=N.length>0?N[0]:"",z=C("%"+k+"%",D),B=z.name,O=z.value,U=!1,G=z.alias;G&&(k=G[0],M(N,v([0,1],G)));for(var J=1,et=!0;J<N.length;J+=1){var at=N[J],lt=E(at,0,1),K=E(at,-1);if(('"'===lt||"'"===lt||"`"===lt||'"'===K||"'"===K||"`"===K)&&lt!==K)throw new y("property names with quotes must have matching quotes");if(("constructor"===at||!et)&&(U=!0),o(u,B="%"+(k+="."+at)+"%"))O=u[B];else if(null!=O){if(!(at in O)){if(!D)throw new P("base intrinsic for "+F+" exists, but the property is not available.");return}if(l&&J+1>=N.length){var j=l(O,at);O=(et=!!j)&&"get"in j&&!("originalValue"in j.get)?j.get:O[at]}else et=o(O,at),O=O[at];et&&!U&&(u[B]=O)}}return O}},12408:function(tt){tt.exports=function W(t,A){var y=A[0],i=A[1],P=A[2],L=A[3],l=A[4],m=A[5],r=A[6],e=A[7],s=A[8],a=A[9],h=A[10],f=A[11],u=A[12],g=A[13],c=A[14],w=A[15];return t[0]=m*(h*w-f*c)-a*(r*w-e*c)+g*(r*f-e*h),t[1]=-(i*(h*w-f*c)-a*(P*w-L*c)+g*(P*f-L*h)),t[2]=i*(r*w-e*c)-m*(P*w-L*c)+g*(P*e-L*r),t[3]=-(i*(r*f-e*h)-m*(P*f-L*h)+a*(P*e-L*r)),t[4]=-(l*(h*w-f*c)-s*(r*w-e*c)+u*(r*f-e*h)),t[5]=y*(h*w-f*c)-s*(P*w-L*c)+u*(P*f-L*h),t[6]=-(y*(r*w-e*c)-l*(P*w-L*c)+u*(P*e-L*r)),t[7]=y*(r*f-e*h)-l*(P*f-L*h)+s*(P*e-L*r),t[8]=l*(a*w-f*g)-s*(m*w-e*g)+u*(m*f-e*a),t[9]=-(y*(a*w-f*g)-s*(i*w-L*g)+u*(i*f-L*a)),t[10]=y*(m*w-e*g)-l*(i*w-L*g)+u*(i*e-L*m),t[11]=-(y*(m*f-e*a)-l*(i*f-L*a)+s*(i*e-L*m)),t[12]=-(l*(a*c-h*g)-s*(m*c-r*g)+u*(m*h-r*a)),t[13]=y*(a*c-h*g)-s*(i*c-P*g)+u*(i*h-P*a),t[14]=-(y*(m*c-r*g)-l*(i*c-P*g)+u*(i*r-P*m)),t[15]=y*(m*h-r*a)-l*(i*h-P*a)+s*(i*r-P*m),t}},76860:function(tt){tt.exports=function W(t){var A=new Float32Array(16);return A[0]=t[0],A[1]=t[1],A[2]=t[2],A[3]=t[3],A[4]=t[4],A[5]=t[5],A[6]=t[6],A[7]=t[7],A[8]=t[8],A[9]=t[9],A[10]=t[10],A[11]=t[11],A[12]=t[12],A[13]=t[13],A[14]=t[14],A[15]=t[15],A}},64492:function(tt){tt.exports=function W(t,A){return t[0]=A[0],t[1]=A[1],t[2]=A[2],t[3]=A[3],t[4]=A[4],t[5]=A[5],t[6]=A[6],t[7]=A[7],t[8]=A[8],t[9]=A[9],t[10]=A[10],t[11]=A[11],t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15],t}},54212:function(tt){tt.exports=function W(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},70800:function(tt){tt.exports=function W(t){var A=t[0],y=t[1],i=t[2],P=t[3],L=t[4],l=t[5],m=t[6],r=t[7],e=t[8],s=t[9],a=t[10],h=t[11],f=t[12],u=t[13],g=t[14],c=t[15];return(A*l-y*L)*(a*c-h*g)-(A*m-i*L)*(s*c-h*u)+(A*r-P*L)*(s*g-a*u)+(y*m-i*l)*(e*c-h*f)-(y*r-P*l)*(e*g-a*f)+(i*r-P*m)*(e*u-s*f)}},61784:function(tt){tt.exports=function W(t,A){var y=A[0],i=A[1],P=A[2],L=A[3],l=y+y,m=i+i,r=P+P,e=y*l,s=i*l,a=i*m,h=P*l,f=P*m,u=P*r,g=L*l,c=L*m,w=L*r;return t[0]=1-a-u,t[1]=s+w,t[2]=h-c,t[3]=0,t[4]=s-w,t[5]=1-e-u,t[6]=f+g,t[7]=0,t[8]=h+c,t[9]=f-g,t[10]=1-e-a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},91616:function(tt){tt.exports=function W(t,A,y){var i,P,L,l=y[0],m=y[1],r=y[2],e=Math.sqrt(l*l+m*m+r*r);return Math.abs(e)<1e-6?null:(l*=e=1/e,m*=e,r*=e,i=Math.sin(A),P=Math.cos(A),t[0]=l*l*(L=1-P)+P,t[1]=m*l*L+r*i,t[2]=r*l*L-m*i,t[3]=0,t[4]=l*m*L-r*i,t[5]=m*m*L+P,t[6]=r*m*L+l*i,t[7]=0,t[8]=l*r*L+m*i,t[9]=m*r*L-l*i,t[10]=r*r*L+P,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}},51944:function(tt){tt.exports=function W(t,A,y){var i=A[0],P=A[1],L=A[2],l=A[3],m=i+i,r=P+P,e=L+L,s=i*m,a=i*r,h=i*e,f=P*r,u=P*e,g=L*e,c=l*m,w=l*r,d=l*e;return t[0]=1-(f+g),t[1]=a+d,t[2]=h-w,t[3]=0,t[4]=a-d,t[5]=1-(s+g),t[6]=u+c,t[7]=0,t[8]=h+w,t[9]=u-c,t[10]=1-(s+f),t[11]=0,t[12]=y[0],t[13]=y[1],t[14]=y[2],t[15]=1,t}},69444:function(tt){tt.exports=function W(t,A){return t[0]=A[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=A[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=A[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},48268:function(tt){tt.exports=function W(t,A){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=A[0],t[13]=A[1],t[14]=A[2],t[15]=1,t}},21856:function(tt){tt.exports=function W(t,A){var y=Math.sin(A),i=Math.cos(A);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=y,t[7]=0,t[8]=0,t[9]=-y,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},79216:function(tt){tt.exports=function W(t,A){var y=Math.sin(A),i=Math.cos(A);return t[0]=i,t[1]=0,t[2]=-y,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=y,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},57736:function(tt){tt.exports=function W(t,A){var y=Math.sin(A),i=Math.cos(A);return t[0]=i,t[1]=y,t[2]=0,t[3]=0,t[4]=-y,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},38848:function(tt){tt.exports=function W(t,A,y,i,P,L,l){var m=1/(y-A),r=1/(P-i),e=1/(L-l);return t[0]=2*L*m,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*L*r,t[6]=0,t[7]=0,t[8]=(y+A)*m,t[9]=(P+i)*r,t[10]=(l+L)*e,t[11]=-1,t[12]=0,t[13]=0,t[14]=l*L*2*e,t[15]=0,t}},36635:function(tt){tt.exports=function W(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},36524:function(tt,W,t){tt.exports={create:t(54212),clone:t(76860),copy:t(64492),identity:t(36635),transpose:t(86520),invert:t(4308),adjoint:t(12408),determinant:t(70800),multiply:t(80944),translate:t(35176),scale:t(68152),rotate:t(30016),rotateX:t(15456),rotateY:t(64840),rotateZ:t(4192),fromRotation:t(91616),fromRotationTranslation:t(51944),fromScaling:t(69444),fromTranslation:t(48268),fromXRotation:t(21856),fromYRotation:t(79216),fromZRotation:t(57736),fromQuat:t(61784),frustum:t(38848),perspective:t(51296),perspectiveFromFieldOfView:t(63688),ortho:t(97688),lookAt:t(56508),str:t(89412)}},4308:function(tt){tt.exports=function W(t,A){var y=A[0],i=A[1],P=A[2],L=A[3],l=A[4],m=A[5],r=A[6],e=A[7],s=A[8],a=A[9],h=A[10],f=A[11],u=A[12],g=A[13],c=A[14],w=A[15],d=y*m-i*l,o=y*r-P*l,v=y*e-L*l,M=i*r-P*m,b=i*e-L*m,E=P*e-L*r,x=s*g-a*u,S=s*c-h*u,T=s*w-f*u,n=a*c-h*g,C=a*w-f*g,p=h*w-f*c,F=d*p-o*C+v*n+M*T-b*S+E*x;return F?(t[0]=(m*p-r*C+e*n)*(F=1/F),t[1]=(P*C-i*p-L*n)*F,t[2]=(g*E-c*b+w*M)*F,t[3]=(h*b-a*E-f*M)*F,t[4]=(r*T-l*p-e*S)*F,t[5]=(y*p-P*T+L*S)*F,t[6]=(c*v-u*E-w*o)*F,t[7]=(s*E-h*v+f*o)*F,t[8]=(l*C-m*T+e*x)*F,t[9]=(i*T-y*C-L*x)*F,t[10]=(u*b-g*v+w*d)*F,t[11]=(a*v-s*b-f*d)*F,t[12]=(m*S-l*n-r*x)*F,t[13]=(y*n-i*S+P*x)*F,t[14]=(g*o-u*M-c*d)*F,t[15]=(s*M-a*o+h*d)*F,t):null}},56508:function(tt,W,t){var A=t(36635);tt.exports=function y(i,P,L,l){var m,r,e,s,a,h,f,u,g,c,w=P[0],d=P[1],o=P[2],v=l[0],M=l[1],b=l[2],E=L[0],x=L[1],S=L[2];return Math.abs(w-E)<1e-6&&Math.abs(d-x)<1e-6&&Math.abs(o-S)<1e-6?A(i):(f=w-E,u=d-x,g=o-S,m=M*(g*=c=1/Math.sqrt(f*f+u*u+g*g))-b*(u*=c),r=b*(f*=c)-v*g,e=v*u-M*f,(c=Math.sqrt(m*m+r*r+e*e))?(m*=c=1/c,r*=c,e*=c):(m=0,r=0,e=0),s=u*e-g*r,a=g*m-f*e,h=f*r-u*m,(c=Math.sqrt(s*s+a*a+h*h))?(s*=c=1/c,a*=c,h*=c):(s=0,a=0,h=0),i[0]=m,i[1]=s,i[2]=f,i[3]=0,i[4]=r,i[5]=a,i[6]=u,i[7]=0,i[8]=e,i[9]=h,i[10]=g,i[11]=0,i[12]=-(m*w+r*d+e*o),i[13]=-(s*w+a*d+h*o),i[14]=-(f*w+u*d+g*o),i[15]=1,i)}},80944:function(tt){tt.exports=function W(t,A,y){var i=A[0],P=A[1],L=A[2],l=A[3],m=A[4],r=A[5],e=A[6],s=A[7],a=A[8],h=A[9],f=A[10],u=A[11],g=A[12],c=A[13],w=A[14],d=A[15],o=y[0],v=y[1],M=y[2],b=y[3];return t[0]=o*i+v*m+M*a+b*g,t[1]=o*P+v*r+M*h+b*c,t[2]=o*L+v*e+M*f+b*w,t[3]=o*l+v*s+M*u+b*d,t[4]=(o=y[4])*i+(v=y[5])*m+(M=y[6])*a+(b=y[7])*g,t[5]=o*P+v*r+M*h+b*c,t[6]=o*L+v*e+M*f+b*w,t[7]=o*l+v*s+M*u+b*d,t[8]=(o=y[8])*i+(v=y[9])*m+(M=y[10])*a+(b=y[11])*g,t[9]=o*P+v*r+M*h+b*c,t[10]=o*L+v*e+M*f+b*w,t[11]=o*l+v*s+M*u+b*d,t[12]=(o=y[12])*i+(v=y[13])*m+(M=y[14])*a+(b=y[15])*g,t[13]=o*P+v*r+M*h+b*c,t[14]=o*L+v*e+M*f+b*w,t[15]=o*l+v*s+M*u+b*d,t}},97688:function(tt){tt.exports=function W(t,A,y,i,P,L,l){var m=1/(A-y),r=1/(i-P),e=1/(L-l);return t[0]=-2*m,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*e,t[11]=0,t[12]=(A+y)*m,t[13]=(P+i)*r,t[14]=(l+L)*e,t[15]=1,t}},51296:function(tt){tt.exports=function W(t,A,y,i,P){var L=1/Math.tan(A/2),l=1/(i-P);return t[0]=L/y,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=L,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(P+i)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*P*i*l,t[15]=0,t}},63688:function(tt){tt.exports=function W(t,A,y,i){var P=Math.tan(A.upDegrees*Math.PI/180),L=Math.tan(A.downDegrees*Math.PI/180),l=Math.tan(A.leftDegrees*Math.PI/180),m=Math.tan(A.rightDegrees*Math.PI/180),r=2/(l+m),e=2/(P+L);return t[0]=r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=-(l-m)*r*.5,t[9]=(P-L)*e*.5,t[10]=i/(y-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*y/(y-i),t[15]=0,t}},30016:function(tt){tt.exports=function W(t,A,y,i){var r,e,s,a,h,f,u,g,c,w,d,o,v,M,b,E,x,S,T,n,C,p,F,D,P=i[0],L=i[1],l=i[2],m=Math.sqrt(P*P+L*L+l*l);return Math.abs(m)<1e-6?null:(P*=m=1/m,L*=m,l*=m,r=Math.sin(y),e=Math.cos(y),h=A[1],f=A[2],u=A[3],c=A[5],w=A[6],d=A[7],v=A[9],M=A[10],b=A[11],T=P*L*(s=1-e)-l*r,n=L*L*s+e,C=l*L*s+P*r,p=P*l*s+L*r,F=L*l*s-P*r,D=l*l*s+e,t[0]=(a=A[0])*(E=P*P*s+e)+(g=A[4])*(x=L*P*s+l*r)+(o=A[8])*(S=l*P*s-L*r),t[1]=h*E+c*x+v*S,t[2]=f*E+w*x+M*S,t[3]=u*E+d*x+b*S,t[4]=a*T+g*n+o*C,t[5]=h*T+c*n+v*C,t[6]=f*T+w*n+M*C,t[7]=u*T+d*n+b*C,t[8]=a*p+g*F+o*D,t[9]=h*p+c*F+v*D,t[10]=f*p+w*F+M*D,t[11]=u*p+d*F+b*D,A!==t&&(t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15]),t)}},15456:function(tt){tt.exports=function W(t,A,y){var i=Math.sin(y),P=Math.cos(y),L=A[4],l=A[5],m=A[6],r=A[7],e=A[8],s=A[9],a=A[10],h=A[11];return A!==t&&(t[0]=A[0],t[1]=A[1],t[2]=A[2],t[3]=A[3],t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15]),t[4]=L*P+e*i,t[5]=l*P+s*i,t[6]=m*P+a*i,t[7]=r*P+h*i,t[8]=e*P-L*i,t[9]=s*P-l*i,t[10]=a*P-m*i,t[11]=h*P-r*i,t}},64840:function(tt){tt.exports=function W(t,A,y){var i=Math.sin(y),P=Math.cos(y),L=A[0],l=A[1],m=A[2],r=A[3],e=A[8],s=A[9],a=A[10],h=A[11];return A!==t&&(t[4]=A[4],t[5]=A[5],t[6]=A[6],t[7]=A[7],t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15]),t[0]=L*P-e*i,t[1]=l*P-s*i,t[2]=m*P-a*i,t[3]=r*P-h*i,t[8]=L*i+e*P,t[9]=l*i+s*P,t[10]=m*i+a*P,t[11]=r*i+h*P,t}},4192:function(tt){tt.exports=function W(t,A,y){var i=Math.sin(y),P=Math.cos(y),L=A[0],l=A[1],m=A[2],r=A[3],e=A[4],s=A[5],a=A[6],h=A[7];return A!==t&&(t[8]=A[8],t[9]=A[9],t[10]=A[10],t[11]=A[11],t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15]),t[0]=L*P+e*i,t[1]=l*P+s*i,t[2]=m*P+a*i,t[3]=r*P+h*i,t[4]=e*P-L*i,t[5]=s*P-l*i,t[6]=a*P-m*i,t[7]=h*P-r*i,t}},68152:function(tt){tt.exports=function W(t,A,y){var i=y[0],P=y[1],L=y[2];return t[0]=A[0]*i,t[1]=A[1]*i,t[2]=A[2]*i,t[3]=A[3]*i,t[4]=A[4]*P,t[5]=A[5]*P,t[6]=A[6]*P,t[7]=A[7]*P,t[8]=A[8]*L,t[9]=A[9]*L,t[10]=A[10]*L,t[11]=A[11]*L,t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15],t}},89412:function(tt){tt.exports=function W(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},35176:function(tt){tt.exports=function W(t,A,y){var l,m,r,e,s,a,h,f,u,g,c,w,i=y[0],P=y[1],L=y[2];return A===t?(t[12]=A[0]*i+A[4]*P+A[8]*L+A[12],t[13]=A[1]*i+A[5]*P+A[9]*L+A[13],t[14]=A[2]*i+A[6]*P+A[10]*L+A[14],t[15]=A[3]*i+A[7]*P+A[11]*L+A[15]):(m=A[1],r=A[2],e=A[3],s=A[4],a=A[5],h=A[6],f=A[7],u=A[8],g=A[9],c=A[10],w=A[11],t[0]=l=A[0],t[1]=m,t[2]=r,t[3]=e,t[4]=s,t[5]=a,t[6]=h,t[7]=f,t[8]=u,t[9]=g,t[10]=c,t[11]=w,t[12]=l*i+s*P+u*L+A[12],t[13]=m*i+a*P+g*L+A[13],t[14]=r*i+h*P+c*L+A[14],t[15]=e*i+f*P+w*L+A[15]),t}},86520:function(tt){tt.exports=function W(t,A){if(t===A){var y=A[1],i=A[2],P=A[3],L=A[6],l=A[7],m=A[11];t[1]=A[4],t[2]=A[8],t[3]=A[12],t[4]=y,t[6]=A[9],t[7]=A[13],t[8]=i,t[9]=L,t[11]=A[14],t[12]=P,t[13]=l,t[14]=m}else t[0]=A[0],t[1]=A[4],t[2]=A[8],t[3]=A[12],t[4]=A[1],t[5]=A[5],t[6]=A[9],t[7]=A[13],t[8]=A[2],t[9]=A[6],t[10]=A[10],t[11]=A[14],t[12]=A[3],t[13]=A[7],t[14]=A[11],t[15]=A[15];return t}},23352:function(tt,W,t){"use strict";var A=t(42771),y=t(55616),i=t(28624),P=t(55212),L=t(60463),l=t(72160),m=t(33888),r=t(14144),e=t(51160),s=t(58908),a=t(65819),h=t(23464),f=t(63768),u=t(50896),g=t(71920),c=t(47520),d=t(308).nextPow2,o=new L,v=!1;if(document.body){var M=document.body.appendChild(document.createElement("div"));M.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(M).fontStretch&&(v=!0),document.body.removeChild(M)}var b=function(S){this.gl=function E(x){return"function"==typeof x&&x._gl&&x.prop&&x.texture&&x.buffer}(S)?(S={regl:S}).regl._gl:P(S),this.shader=o.get(this.gl),this.regl=this.shader?this.shader.regl:S.regl||i({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(s(S)?S:{})};b.prototype.createShader=function(){var S=this.regl,T=S({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:S.prop("count"),offset:S.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:S.this("sizeBuffer")},width:{offset:0,stride:8,buffer:S.this("sizeBuffer")},char:S.this("charBuffer"),position:S.this("position")},uniforms:{atlasSize:function(C,p){return[p.atlas.width,p.atlas.height]},atlasDim:function(C,p){return[p.atlas.cols,p.atlas.rows]},atlas:function(C,p){return p.atlas.texture},charStep:function(C,p){return p.atlas.step},em:function(C,p){return p.atlas.em},color:S.prop("color"),opacity:S.prop("opacity"),viewport:S.this("viewportArray"),scale:S.this("scale"),align:S.prop("align"),baseline:S.prop("baseline"),translate:S.this("translate"),positionOffset:S.prop("positionOffset")},primitive:"points",viewport:S.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:S,draw:T,atlas:{}}},b.prototype.update=function(S){var T=this;if("string"==typeof S)S={text:S};else if(!S)return;null!=(S=y(S,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(this.opacity=Array.isArray(S.opacity)?S.opacity.map(function(Pt){return parseFloat(Pt)}):parseFloat(S.opacity)),null!=S.viewport&&(this.viewport=e(S.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=S.kerning&&(this.kerning=S.kerning),null!=S.offset&&("number"==typeof S.offset&&(S.offset=[S.offset,0]),this.positionOffset=c(S.offset)),S.direction&&(this.direction=S.direction),S.range&&(this.range=S.range,this.scale=[1/(S.range[2]-S.range[0]),1/(S.range[3]-S.range[1])],this.translate=[-S.range[0],-S.range[1]]),S.scale&&(this.scale=S.scale),S.translate&&(this.translate=S.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!S.font&&(S.font=b.baseFontSize+"px sans-serif");var D,n=!1,C=!1;if(S.font&&(Array.isArray(S.font)?S.font:[S.font]).forEach(function(Pt,Vt){if("string"==typeof Pt)try{Pt=A.parse(Pt)}catch(oe){Pt=A.parse(b.baseFontSize+"px "+Pt)}else Pt=A.parse(A.stringify(Pt));var re=A.stringify({size:b.baseFontSize,family:Pt.family,stretch:v?Pt.stretch:void 0,variant:Pt.variant,weight:Pt.weight,style:Pt.style}),le=a(Pt.size),It=Math.round(le[0]*h(le[1]));if(It!==T.fontSize[Vt]&&(C=!0,T.fontSize[Vt]=It),!(T.font[Vt]&&re==T.font[Vt].baseString||(n=!0,T.font[Vt]=b.fonts[re],T.font[Vt]))){var Rt=Pt.family.join(", "),$t=[Pt.style];Pt.style!=Pt.variant&&$t.push(Pt.variant),Pt.variant!=Pt.weight&&$t.push(Pt.weight),v&&Pt.weight!=Pt.stretch&&$t.push(Pt.stretch),T.font[Vt]={baseString:re,family:Rt,weight:Pt.weight,stretch:Pt.stretch,style:Pt.style,variant:Pt.variant,width:{},kerning:{},metrics:g(Rt,{origin:"top",fontSize:b.baseFontSize,fontStyle:$t.join(" ")})},b.fonts[re]=T.font[Vt]}}),(n||C)&&this.font.forEach(function(Pt,Vt){var re=A.stringify({size:T.fontSize[Vt],family:Pt.family,stretch:v?Pt.stretch:void 0,variant:Pt.variant,weight:Pt.weight,style:Pt.style});T.fontAtlas[Vt]=T.shader.atlas[re],T.fontAtlas[Vt]||(T.shader.atlas[re]=T.fontAtlas[Vt]={fontString:re,step:2*Math.ceil(T.fontSize[Vt]*Pt.metrics.bottom*.5),em:T.fontSize[Vt],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:T.regl.texture()}),null==S.text&&(S.text=T.text)}),"string"==typeof S.text&&S.position&&S.position.length>2){for(var p=Array(.5*S.position.length),F=0;F<p.length;F++)p[F]=S.text;S.text=p}if(null!=S.text||n){if(this.textOffsets=[0],Array.isArray(S.text)){this.count=S.text[0].length,this.counts=[this.count];for(var N=1;N<S.text.length;N++)this.textOffsets[N]=this.textOffsets[N-1]+S.text[N-1].length,this.count+=S.text[N].length,this.counts.push(S.text[N].length);this.text=S.text.join("")}else this.text=S.text,this.count=this.text.length,this.counts=[this.count];D=[],this.font.forEach(function(Pt,Vt){b.atlasContext.font=Pt.baseString;for(var re=T.fontAtlas[Vt],le=0;le<T.text.length;le++){var It=T.text.charAt(le);if(null==re.ids[It]&&(re.ids[It]=re.chars.length,re.chars.push(It),D.push(It)),null==Pt.width[It]&&(Pt.width[It]=b.atlasContext.measureText(It).width/b.baseFontSize,T.kerning)){var Rt=[];for(var $t in Pt.width)Rt.push($t+It,It+$t);u(Pt.kerning,f(Pt.family,{pairs:Rt}))}}})}if(S.position)if(S.position.length>2){for(var k=!S.position[0].length,z=r.mallocFloat(2*this.count),B=0,O=0;B<this.counts.length;B++){var U=this.counts[B];if(k)for(var G=0;G<U;G++)z[O++]=S.position[2*B],z[O++]=S.position[2*B+1];else for(var J=0;J<U;J++)z[O++]=S.position[B][0],z[O++]=S.position[B][1]}this.position.call?this.position({type:"float",data:z}):this.position=this.regl.buffer({type:"float",data:z}),r.freeFloat(z)}else this.position.destroy&&this.position.destroy(),this.position={constant:S.position};if(S.text||n){var et=r.mallocUint8(this.count),at=r.mallocFloat(2*this.count);this.textWidth=[];for(var lt=0,K=0;lt<this.counts.length;lt++){for(var j=this.counts[lt],rt=this.font[lt]||this.font[0],H=this.fontAtlas[lt]||this.fontAtlas[0],Z=0;Z<j;Z++){var it=this.text.charAt(K),Q=this.text.charAt(K-1);if(et[K]=H.ids[it],at[2*K]=rt.width[it],Z){var st=at[2*K-1]+.5*at[2*K-2]+.5*at[2*K];if(this.kerning){var dt=rt.kerning[Q+it];dt&&(st+=.001*dt)}at[2*K+1]=st}else at[2*K+1]=.5*at[2*K];K++}this.textWidth.push(at.length?.5*at[2*K-2]+at[2*K-1]:0)}S.align||(S.align=this.align),this.charBuffer({data:et,type:"uint8",usage:"stream"}),this.sizeBuffer({data:at,type:"float",usage:"stream"}),r.freeUint8(et),r.freeFloat(at),D.length&&this.font.forEach(function(Pt,Vt){var re=T.fontAtlas[Vt],le=re.step,It=Math.floor(b.maxAtlasSize/le),Rt=Math.min(It,re.chars.length),$t=Math.ceil(re.chars.length/Rt),oe=d(Rt*le),se=d($t*le);re.width=oe,re.height=se,re.rows=$t,re.cols=Rt,re.em&&re.texture({data:m({canvas:b.atlasCanvas,font:re.fontString,chars:re.chars,shape:[oe,se],step:[le,le]})})})}if(S.align&&(this.align=S.align,this.alignOffset=this.textWidth.map(function(Pt,Vt){var re=Array.isArray(T.align)?T.align.length>1?T.align[Vt]:T.align[0]:T.align;if("number"==typeof re)return re;switch(re){case"right":case"end":return-Pt;case"center":case"centre":case"middle":return.5*-Pt}return 0})),null==this.baseline&&null==S.baseline&&(S.baseline=0),null!=S.baseline&&(this.baseline=S.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Pt,Vt){var re=(T.font[Vt]||T.font[0]).metrics,le=0;return le+=.5*re.bottom,-1*(le+="number"==typeof Pt?Pt-re.baseline:-re[Pt])})),null!=S.color)if(S.color||(S.color="transparent"),"string"!=typeof S.color&&isNaN(S.color)){var xt;if("number"==typeof S.color[0]&&S.color.length>this.counts.length){var yt=S.color.length;xt=r.mallocUint8(yt);for(var St=(S.color.subarray||S.color.slice).bind(S.color),Et=0;Et<yt;Et+=4)xt.set(l(St(Et,Et+4),"uint8"),Et)}else{var Tt=S.color.length;xt=r.mallocUint8(4*Tt);for(var gt=0;gt<Tt;gt++)xt.set(l(S.color[gt]||0,"uint8"),4*gt)}this.color=xt}else this.color=l(S.color,"uint8");if(S.position||S.text||S.color||S.baseline||S.align||S.font||S.offset||S.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var Nt=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(Nt);for(var Gt=0;Gt<this.batch.length;Gt++)this.batch[Gt]={count:this.counts.length>1?this.counts[Gt]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Gt]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*Gt,4*Gt+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Gt]:this.opacity,baseline:null!=this.baselineOffset[Gt]?this.baselineOffset[Gt]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[Gt]?this.alignOffset[Gt]:this.alignOffset[0]:0,atlas:this.fontAtlas[Gt]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*Gt,2*Gt+2):this.positionOffset}}else this.batch=this.count?[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:[]},b.prototype.destroy=function(){},b.prototype.kerning=!0,b.prototype.position={constant:new Float32Array(2)},b.prototype.translate=null,b.prototype.scale=null,b.prototype.font=null,b.prototype.text="",b.prototype.positionOffset=[0,0],b.prototype.opacity=1,b.prototype.color=new Uint8Array([0,0,0,255]),b.prototype.alignOffset=[0,0],b.maxAtlasSize=1024,b.atlasCanvas=document.createElement("canvas"),b.atlasContext=b.atlasCanvas.getContext("2d",{alpha:!1}),b.baseFontSize=64,b.fonts={},tt.exports=b},55212:function(tt,W,t){"use strict";var A=t(55616);function y(m){if(m.container)if(m.container==document.body)document.body.style.width||(m.canvas.width=m.width||m.pixelRatio*t.g.innerWidth),document.body.style.height||(m.canvas.height=m.height||m.pixelRatio*t.g.innerHeight);else{var r=m.container.getBoundingClientRect();m.canvas.width=m.width||r.right-r.left,m.canvas.height=m.height||r.bottom-r.top}}function i(m){return"function"==typeof m.getContext&&"width"in m&&"height"in m}function l(){var m=document.createElement("canvas");return m.style.position="absolute",m.style.top=0,m.style.left=0,m}tt.exports=function(r){if(r?"string"==typeof r&&(r={container:r}):r={},(r=i(r)||function P(m){return"string"==typeof m.nodeName&&"function"==typeof m.appendChild&&"function"==typeof m.getBoundingClientRect}(r)?{container:r}:function L(m){return"function"==typeof m.drawArrays||"function"==typeof m.drawElements}(r)?{gl:r}:A(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(r.pixelRatio=t.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if("string"==typeof r.container){var e=document.querySelector(r.container);if(!e)throw Error("Element "+r.container+" is not found");r.container=e}i(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=l(),r.container.appendChild(r.canvas),y(r))}else if(!r.canvas){if("undefined"==typeof document)throw Error("Not DOM environment. Use headless-gl.");r.container=document.body||document.documentElement,r.canvas=l(),r.container.appendChild(r.canvas),y(r)}return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(s){try{r.gl=r.canvas.getContext(s,r.attrs)}catch(a){}return r.gl}),r.gl}},26444:function(tt){tt.exports=function(W){"string"==typeof W&&(W=[W]);for(var t=[].slice.call(arguments,1),A=[],y=0;y<W.length-1;y++)A.push(W[y],t[y]||"");return A.push(W[y]),A.join("")}},2304:function(tt,W,t){"use strict";var y=t(53664)("%Object.getOwnPropertyDescriptor%",!0);if(y)try{y([],"length")}catch(i){y=null}tt.exports=y},52264:function(tt,W,t){"use strict";var y,A=t(24200);y="function"==typeof t.g.matchMedia?!t.g.matchMedia("(hover: none)").matches:A,tt.exports=y},89184:function(tt,W,t){"use strict";var A=t(24200);tt.exports=A&&function y(){var i=!1;try{var P=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,P),window.removeEventListener("test",null,P)}catch(L){i=!1}return i}()},39640:function(tt,W,t){"use strict";var y=t(53664)("%Object.defineProperty%",!0),i=function(){if(y)try{return y({},"a",{value:1}),!0}catch(L){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==y([],"length",{value:1}).length}catch(L){return!0}},tt.exports=i},69572:function(tt){"use strict";var W={foo:{}},t=Object;tt.exports=function(){return{__proto__:W}.foo===W.foo&&!({__proto__:null}instanceof t)}},71080:function(tt,W,t){"use strict";var A="undefined"!=typeof Symbol&&Symbol,y=t(89320);tt.exports=function(){return"function"==typeof A&&"function"==typeof Symbol&&"symbol"==typeof A("foo")&&"symbol"==typeof Symbol("bar")&&y()}},89320:function(tt){"use strict";tt.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},A=Symbol("test"),y=Object(A);if("string"==typeof A||"[object Symbol]"!==Object.prototype.toString.call(A)||"[object Symbol]"!==Object.prototype.toString.call(y))return!1;for(A in t[A]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var P=Object.getOwnPropertySymbols(t);if(1!==P.length||P[0]!==A||!Object.prototype.propertyIsEnumerable.call(t,A))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var L=Object.getOwnPropertyDescriptor(t,A);if(42!==L.value||!0!==L.enumerable)return!1}return!0}},46672:function(tt,W,t){"use strict";var A=t(89320);tt.exports=function(){return A()&&!!Symbol.toStringTag}},92064:function(tt,W,t){"use strict";var A=Function.prototype.call,y=Object.prototype.hasOwnProperty,i=t(8844);tt.exports=i.call(A,y)},35984:function(tt,W){W.read=function(t,A,y,i,P){var L,l,m=8*P-i-1,r=(1<<m)-1,e=r>>1,s=-7,a=y?P-1:0,h=y?-1:1,f=t[A+a];for(a+=h,L=f&(1<<-s)-1,f>>=-s,s+=m;s>0;L=256*L+t[A+a],a+=h,s-=8);for(l=L&(1<<-s)-1,L>>=-s,s+=i;s>0;l=256*l+t[A+a],a+=h,s-=8);if(0===L)L=1-e;else{if(L===r)return l?NaN:1/0*(f?-1:1);l+=Math.pow(2,i),L-=e}return(f?-1:1)*l*Math.pow(2,L-i)},W.write=function(t,A,y,i,P,L){var l,m,r,e=8*L-P-1,s=(1<<e)-1,a=s>>1,h=23===P?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:L-1,u=i?1:-1,g=A<0||0===A&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(m=isNaN(A)?1:0,l=s):(l=Math.floor(Math.log(A)/Math.LN2),A*(r=Math.pow(2,-l))<1&&(l--,r*=2),(A+=l+a>=1?h/r:h*Math.pow(2,1-a))*r>=2&&(l++,r/=2),l+a>=s?(m=0,l=s):l+a>=1?(m=(A*r-1)*Math.pow(2,P),l+=a):(m=A*Math.pow(2,a-1)*Math.pow(2,P),l=0));P>=8;t[y+f]=255&m,f+=u,m/=256,P-=8);for(l=l<<P|m,e+=P;e>0;t[y+f]=255&l,f+=u,l/=256,e-=8);t[y+f-u]|=128*g}},6768:function(tt){tt.exports="function"==typeof Object.create?function(t,A){A&&(t.super_=A,t.prototype=Object.create(A.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,A){if(A){t.super_=A;var y=function(){};y.prototype=A.prototype,t.prototype=new y,t.prototype.constructor=t}}},91148:function(tt,W,t){"use strict";var A=t(46672)(),i=t(99676)("Object.prototype.toString"),P=function(r){return!(A&&r&&"object"==typeof r&&Symbol.toStringTag in r)&&"[object Arguments]"===i(r)},L=function(r){return!!P(r)||null!==r&&"object"==typeof r&&"number"==typeof r.length&&r.length>=0&&"[object Array]"!==i(r)&&"[object Function]"===i(r.callee)},l=function(){return P(arguments)}();P.isLegacyArguments=L,tt.exports=l?P:L},24200:function(tt){tt.exports=!0},90720:function(tt){"use strict";var A,y,W=Function.prototype.toString,t="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof t&&"function"==typeof Object.defineProperty)try{A=Object.defineProperty({},"length",{get:function(){throw y}}),y={},t(function(){throw 42},null,A)}catch(w){w!==y&&(t=null)}else t=null;var i=/^\s*class\b/,P=function(d){try{var o=W.call(d);return i.test(o)}catch(v){return!1}},L=function(d){try{return!P(d)&&(W.call(d),!0)}catch(o){return!1}},l=Object.prototype.toString,f="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),g=function(){return!1};if("object"==typeof document){var c=document.all;l.call(c)===l.call(document.all)&&(g=function(d){if((u||!d)&&(void 0===d||"object"==typeof d))try{var o=l.call(d);return("[object HTMLAllCollection]"===o||"[object HTML document.all class]"===o||"[object HTMLCollection]"===o||"[object Object]"===o)&&null==d("")}catch(v){}return!1})}tt.exports=t?function(d){if(g(d))return!0;if(!d||"function"!=typeof d&&"object"!=typeof d)return!1;try{t(d,null,A)}catch(o){if(o!==y)return!1}return!P(d)&&L(d)}:function(d){if(g(d))return!0;if(!d||"function"!=typeof d&&"object"!=typeof d)return!1;if(f)return L(d);if(P(d))return!1;var o=l.call(d);return!("[object Function]"!==o&&"[object GeneratorFunction]"!==o&&!/^\[object HTML/.test(o))&&L(d)}},84420:function(tt,W,t){"use strict";var m,A=Object.prototype.toString,y=Function.prototype.toString,i=/^\s*(?:function)?\*/,P=t(46672)(),L=Object.getPrototypeOf;tt.exports=function(e){if("function"!=typeof e)return!1;if(i.test(y.call(e)))return!0;if(!P)return"[object GeneratorFunction]"===A.call(e);if(!L)return!1;if(void 0===m){var a=function(){if(!P)return!1;try{return Function("return function*() {}")()}catch(r){}}();m=!!a&&L(a)}return L(e)===m}},96604:function(tt){"use strict";tt.exports="undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(tt){"use strict";tt.exports=function(t){return t!=t}},1560:function(tt,W,t){"use strict";var A=t(57916),y=t(81288),i=t(85992),P=t(57740),L=t(59736),l=A(P(),Number);y(l,{getPolyfill:P,implementation:i,shim:L}),tt.exports=l},57740:function(tt,W,t){"use strict";var A=t(85992);tt.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:A}},59736:function(tt,W,t){"use strict";var A=t(81288),y=t(57740);tt.exports=function(){var P=y();return A(Number,{isNaN:P},{isNaN:function(){return Number.isNaN!==P}}),P}},18400:function(tt){"use strict";tt.exports=function(W){var t=typeof W;return null!==W&&("object"===t||"function"===t)}},58908:function(tt){"use strict";var W=Object.prototype.toString;tt.exports=function(t){var A;return"[object Object]"===W.call(t)&&(null===(A=Object.getPrototypeOf(t))||A===Object.getPrototypeOf({}))}},94576:function(tt){"use strict";tt.exports=function(W){for(var A,t=W.length,y=0;y<t;y++)if(((A=W.charCodeAt(y))<9||A>13)&&32!==A&&133!==A&&160!==A&&5760!==A&&6158!==A&&(A<8192||A>8205)&&8232!==A&&8233!==A&&8239!==A&&8287!==A&&8288!==A&&12288!==A&&65279!==A)return!1;return!0}},53520:function(tt){"use strict";tt.exports=function(t){return"string"==typeof t&&(t=t.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4))}},7728:function(tt,W,t){"use strict";var A=t(46492),y=t(63436),i=t(99676),P=i("Object.prototype.toString"),L=t(46672)(),l=t(2304),m="undefined"==typeof globalThis?t.g:globalThis,r=y(),e=i("Array.prototype.indexOf",!0)||function(g,c){for(var w=0;w<g.length;w+=1)if(g[w]===c)return w;return-1},s=i("String.prototype.slice"),a={},h=Object.getPrototypeOf;L&&l&&h&&A(r,function(u){var g=new m[u];if(Symbol.toStringTag in g){var c=h(g),w=l(c,Symbol.toStringTag);if(!w){var d=h(c);w=l(d,Symbol.toStringTag)}a[u]=w.get}});tt.exports=function(g){if(!g||"object"!=typeof g)return!1;if(!L||!(Symbol.toStringTag in g)){var c=s(P(g),8,-1);return e(r,c)>-1}return!!l&&function(g){var c=!1;return A(a,function(w,d){if(!c)try{c=w.call(g)===d}catch(o){}}),c}(g)}},76244:function(tt){"use strict";tt.exports=Math.log2||function(W){return Math.log(W)*Math.LOG2E}},62644:function(tt,W,t){"use strict";tt.exports=function y(i,P){P||(P=i,i=window);var L=0,l=0,m=0,r={shift:!1,alt:!1,control:!1,meta:!1},e=!1;function s(M){var b=!1;return"altKey"in M&&(b=b||M.altKey!==r.alt,r.alt=!!M.altKey),"shiftKey"in M&&(b=b||M.shiftKey!==r.shift,r.shift=!!M.shiftKey),"ctrlKey"in M&&(b=b||M.ctrlKey!==r.control,r.control=!!M.ctrlKey),"metaKey"in M&&(b=b||M.metaKey!==r.meta,r.meta=!!M.metaKey),b}function a(M,b){var E=A.x(b),x=A.y(b);"buttons"in b&&(M=0|b.buttons),(M!==L||E!==l||x!==m||s(b))&&(L=0|M,l=E||0,m=x||0,P&&P(L,l,m,r))}function h(M){a(0,M)}function f(){(L||l||m||r.shift||r.alt||r.meta||r.control)&&(l=m=0,L=0,r.shift=r.alt=r.control=r.meta=!1,P&&P(0,0,0,r))}function u(M){s(M)&&P&&P(L,l,m,r)}function g(M){0===A.buttons(M)?a(0,M):a(L,M)}function c(M){a(L|A.buttons(M),M)}function w(M){a(L&~A.buttons(M),M)}function d(){e||(e=!0,i.addEventListener("mousemove",g),i.addEventListener("mousedown",c),i.addEventListener("mouseup",w),i.addEventListener("mouseleave",h),i.addEventListener("mouseenter",h),i.addEventListener("mouseout",h),i.addEventListener("mouseover",h),i.addEventListener("blur",f),i.addEventListener("keyup",u),i.addEventListener("keydown",u),i.addEventListener("keypress",u),i!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",u),window.addEventListener("keydown",u),window.addEventListener("keypress",u)))}d();var v={element:i};return Object.defineProperties(v,{enabled:{get:function(){return e},set:function(M){M?d():function o(){!e||(e=!1,i.removeEventListener("mousemove",g),i.removeEventListener("mousedown",c),i.removeEventListener("mouseup",w),i.removeEventListener("mouseleave",h),i.removeEventListener("mouseenter",h),i.removeEventListener("mouseout",h),i.removeEventListener("mouseover",h),i.removeEventListener("blur",f),i.removeEventListener("keyup",u),i.removeEventListener("keydown",u),i.removeEventListener("keypress",u),i!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",u),window.removeEventListener("keydown",u),window.removeEventListener("keypress",u)))}()},enumerable:!0},buttons:{get:function(){return L},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),v};var A=t(93784)},29128:function(tt){var W={left:0,top:0};tt.exports=function t(y,i,P){i=i||y.currentTarget||y.srcElement,Array.isArray(P)||(P=[0,0]);var L=y.clientX||0,l=y.clientY||0,m=function A(y){return y===window||y===document||y===document.body?W:y.getBoundingClientRect()}(i);return P[0]=L-m.left,P[1]=l-m.top,P}},93784:function(tt,W){"use strict";function A(P){return P.target||P.srcElement||window}W.buttons=function t(P){if("object"==typeof P){if("buttons"in P)return P.buttons;if("which"in P){if(2===(L=P.which))return 4;if(3===L)return 2;if(L>0)return 1<<L-1}else if("button"in P){var L;if(1===(L=P.button))return 4;if(2===L)return 2;if(L>=0)return 1<<L}}return 0},W.element=A,W.x=function y(P){if("object"==typeof P){if("offsetX"in P)return P.offsetX;var l=A(P).getBoundingClientRect();return P.clientX-l.left}return 0},W.y=function i(P){if("object"==typeof P){if("offsetY"in P)return P.offsetY;var l=A(P).getBoundingClientRect();return P.clientY-l.top}return 0}},97264:function(tt,W,t){"use strict";var A=t(23464);tt.exports=function y(i,P,L){"function"==typeof i&&(L=!!P,P=i,i=window);var l=A("ex",i),m=function(r){L&&r.preventDefault();var e=r.deltaX||0,s=r.deltaY||0,a=r.deltaZ||0,f=1;switch(r.deltaMode){case 1:f=l;break;case 2:f=window.innerHeight}if(s*=f,a*=f,(e*=f)||s||a)return P(e,s,a,r)};return i.addEventListener("wheel",m),m}},88324:function(tt,W,t){var A,i,P,L;L=function(){"use strict";var i,P,L,l=Object.prototype.toString,m="undefined"!=typeof setImmediate?function(v){return setImmediate(v)}:setTimeout;try{Object.defineProperty({},"x",{}),i=function(v,M,b,E){return Object.defineProperty(v,M,{value:b,writable:!0,configurable:!1!==E})}}catch(o){i=function(M,b,E){return M[b]=E,M}}function r(o,v){L.add(o,v),P||(P=m(L.drain))}function e(o){var v,M=typeof o;return null!=o&&("object"==M||"function"==M)&&(v=o.then),"function"==typeof v&&v}function s(){for(var o=0;o<this.chain.length;o++)a(this,1===this.state?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function a(o,v,M){var b,E;try{!1===v?M.reject(o.msg):(b=!0===v?o.msg:v.call(void 0,o.msg))===M.promise?M.reject(TypeError("Promise-chain cycle")):(E=e(b))?E.call(b,M.resolve,M.reject):M.resolve(b)}catch(x){M.reject(x)}}function h(o){var v,M=this;if(!M.triggered){M.triggered=!0,M.def&&(M=M.def);try{(v=e(o))?r(function(){var b=new g(M);try{v.call(o,function(){h.apply(b,arguments)},function(){f.apply(b,arguments)})}catch(E){f.call(b,E)}}):(M.msg=o,M.state=1,M.chain.length>0&&r(s,M))}catch(b){f.call(new g(M),b)}}}function f(o){var v=this;v.triggered||(v.triggered=!0,v.def&&(v=v.def),v.msg=o,v.state=2,v.chain.length>0&&r(s,v))}function u(o,v,M,b){for(var E=0;E<v.length;E++)!function(S){o.resolve(v[S]).then(function(n){M(S,n)},b)}(E)}function g(o){this.def=o,this.triggered=!1}function c(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function w(o){if("function"!=typeof o)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var v=new c(this);this.then=function(b,E){var x={success:"function"!=typeof b||b,failure:"function"==typeof E&&E};return x.promise=new this.constructor(function(T,n){if("function"!=typeof T||"function"!=typeof n)throw TypeError("Not a function");x.resolve=T,x.reject=n}),v.chain.push(x),0!==v.state&&r(s,v),x.promise},this.catch=function(b){return this.then(void 0,b)};try{o.call(void 0,function(b){h.call(v,b)},function(b){f.call(v,b)})}catch(M){f.call(v,M)}}L=function(){var v,M,b;function E(x,S){this.fn=x,this.self=S,this.next=void 0}return{add:function(S,T){b=new E(S,T),M?M.next=b:v=b,M=b,b=void 0},drain:function(){var S=v;for(v=M=P=void 0;S;)S.fn.call(S.self),S=S.next}}}();var d=i({},"constructor",w,!1);return w.prototype=d,i(d,"__NPO__",0,!1),i(w,"resolve",function(v){return v&&"object"==typeof v&&1===v.__NPO__?v:new this(function(E,x){if("function"!=typeof E||"function"!=typeof x)throw TypeError("Not a function");E(v)})}),i(w,"reject",function(v){return new this(function(b,E){if("function"!=typeof b||"function"!=typeof E)throw TypeError("Not a function");E(v)})}),i(w,"all",function(v){var M=this;return"[object Array]"!=l.call(v)?M.reject(TypeError("Not an array")):0===v.length?M.resolve([]):new M(function(E,x){if("function"!=typeof E||"function"!=typeof x)throw TypeError("Not a function");var S=v.length,T=Array(S),n=0;u(M,v,function(p,F){T[p]=F,++n===S&&E(T)},x)})}),i(w,"race",function(v){var M=this;return"[object Array]"!=l.call(v)?M.reject(TypeError("Not an array")):new M(function(E,x){if("function"!=typeof E||"function"!=typeof x)throw TypeError("Not a function");u(M,v,function(T,n){E(n)},x)})}),w},(P=void 0!==t.g?t.g:this)[i="Promise"]=P[i]||L(),tt.exports?tt.exports=P[i]:void 0!==(A=function(){return P[i]}.call(W,t,W,tt))&&(tt.exports=A)},48816:function(tt){var W=Math.PI,t=l(120);function y(m,r,e,s){return["C",m,r,e,s,e,s]}function i(m,r,e,s,a,h){return["C",m/3+.6666666666666666*e,r/3+.6666666666666666*s,a/3+.6666666666666666*e,h/3+.6666666666666666*s,a,h]}function P(m,r,e,s,a,h,f,u,g,c){if(c)T=c[0],n=c[1],x=c[2],S=c[3];else{var w=L(m,r,-a);r=w.y;var d=((m=w.x)-(u=(w=L(u,g,-a)).x))/2,o=(r-(g=w.y))/2,v=d*d/(e*e)+o*o/(s*s);v>1&&(e*=v=Math.sqrt(v),s*=v);var M=e*e,b=s*s,E=(h==f?-1:1)*Math.sqrt(Math.abs((M*b-M*o*o-b*d*d)/(M*o*o+b*d*d)));E==1/0&&(E=1);var x=E*e*o/s+(m+u)/2,S=E*-s*d/e+(r+g)/2,T=Math.asin(((r-S)/s).toFixed(9)),n=Math.asin(((g-S)/s).toFixed(9));(T=m<x?W-T:T)<0&&(T=2*W+T),(n=u<x?W-n:n)<0&&(n=2*W+n),f&&T>n&&(T-=2*W),!f&&n>T&&(n-=2*W)}if(Math.abs(n-T)>t){var C=n,p=u,F=g;n=T+t*(f&&n>T?1:-1);var D=P(u=x+e*Math.cos(n),g=S+s*Math.sin(n),e,s,a,0,f,p,F,[n,C,x,S])}var N=Math.tan((n-T)/4),k=4/3*e*N,z=4/3*s*N,B=[2*m-(m+k*Math.sin(T)),2*r-(r-z*Math.cos(T)),u+k*Math.sin(n),g-z*Math.cos(n),u,g];if(c)return B;D&&(B=B.concat(D));for(var O=0;O<B.length;){var U=L(B[O],B[O+1],a);B[O++]=U.x,B[O++]=U.y}return B}function L(m,r,e){return{x:m*Math.cos(e)-r*Math.sin(e),y:m*Math.sin(e)+r*Math.cos(e)}}function l(m){return m*(W/180)}tt.exports=function A(m){for(var r,e=[],s=0,a=0,h=0,f=0,u=null,g=null,c=0,w=0,d=0,o=m.length;d<o;d++){var v=m[d],M=v[0];switch(M){case"M":h=v[1],f=v[2];break;case"A":(v=P(c,w,v[1],v[2],l(v[3]),v[4],v[5],v[6],v[7])).unshift("C"),v.length>7&&(e.push(v.splice(0,7)),v.unshift("C"));break;case"S":var b=c,E=w;("C"==r||"S"==r)&&(b+=b-s,E+=E-a),v=["C",b,E,v[1],v[2],v[3],v[4]];break;case"T":"Q"==r||"T"==r?(u=2*c-u,g=2*w-g):(u=c,g=w),v=i(c,w,u,g,v[1],v[2]);break;case"Q":u=v[1],g=v[2],v=i(c,w,v[1],v[2],v[3],v[4]);break;case"L":v=y(c,w,v[1],v[2]);break;case"H":v=y(c,w,v[1],w);break;case"V":v=y(c,w,c,v[1]);break;case"Z":v=y(c,w,h,f)}r=M,c=v[v.length-2],w=v[v.length-1],v.length>4?(s=v[v.length-4],a=v[v.length-3]):(s=c,a=w),e.push(v)}return e}},50896:function(tt){"use strict";var W=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;function y(P){if(null==P)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(P)}tt.exports=function i(){try{if(!Object.assign)return!1;var P=new String("abc");if(P[5]="de","5"===Object.getOwnPropertyNames(P)[0])return!1;for(var L={},l=0;l<10;l++)L["_"+String.fromCharCode(l)]=l;if("0123456789"!==Object.getOwnPropertyNames(L).map(function(e){return L[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(P,L){for(var l,r,m=y(P),e=1;e<arguments.length;e++){for(var s in l=Object(arguments[e]))t.call(l,s)&&(m[s]=l[s]);if(W){r=W(l);for(var a=0;a<r.length;a++)A.call(l,r[a])&&(m[r[a]]=l[r[a]])}}return m}},76835:function(tt){"use strict";var W=function(t){return t!=t};tt.exports=function(A,y){return 0===A&&0===y?1/A==1/y:!!(A===y||W(A)&&W(y))}},39896:function(tt,W,t){"use strict";var A=t(81288),y=t(57916),i=t(76835),P=t(66148),L=t(16408),l=y(P(),Object);A(l,{getPolyfill:P,implementation:i,shim:L}),tt.exports=l},66148:function(tt,W,t){"use strict";var A=t(76835);tt.exports=function(){return"function"==typeof Object.is?Object.is:A}},16408:function(tt,W,t){"use strict";var A=t(66148),y=t(81288);tt.exports=function(){var P=A();return y(Object,{is:P},{is:function(){return Object.is!==P}}),P}},32764:function(tt,W,t){"use strict";var A;if(!Object.keys){var y=Object.prototype.hasOwnProperty,i=Object.prototype.toString,P=t(97344),L=Object.prototype.propertyIsEnumerable,l=!L.call({toString:null},"toString"),m=L.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=function(f){var u=f.constructor;return u&&u.prototype===f},s={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},a=function(){if("undefined"==typeof window)return!1;for(var f in window)try{if(!s["$"+f]&&y.call(window,f)&&null!==window[f]&&"object"==typeof window[f])try{e(window[f])}catch(u){return!0}}catch(u){return!0}return!1}();A=function(u){var g=null!==u&&"object"==typeof u,c="[object Function]"===i.call(u),w=P(u),d=g&&"[object String]"===i.call(u),o=[];if(!g&&!c&&!w)throw new TypeError("Object.keys called on a non-object");var v=m&&c;if(d&&u.length>0&&!y.call(u,0))for(var M=0;M<u.length;++M)o.push(String(M));if(w&&u.length>0)for(var b=0;b<u.length;++b)o.push(String(b));else for(var E in u)(!v||"prototype"!==E)&&y.call(u,E)&&o.push(String(E));if(l)for(var x=function(f){if("undefined"==typeof window||!a)return e(f);try{return e(f)}catch(u){return!1}}(u),S=0;S<r.length;++S)(!x||"constructor"!==r[S])&&y.call(u,r[S])&&o.push(r[S]);return o}}tt.exports=A},41820:function(tt,W,t){"use strict";var A=Array.prototype.slice,y=t(97344),i=Object.keys,P=i?function(m){return i(m)}:t(32764),L=Object.keys;P.shim=function(){if(Object.keys){var m=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);m||(Object.keys=function(e){return y(e)?L(A.call(e)):L(e)})}else Object.keys=P;return Object.keys||P},tt.exports=P},97344:function(tt){"use strict";var W=Object.prototype.toString;tt.exports=function(A){var y=W.call(A),i="[object Arguments]"===y;return i||(i="[object Array]"!==y&&null!==A&&"object"==typeof A&&"number"==typeof A.length&&A.length>=0&&"[object Function]"===W.call(A.callee)),i}},32868:function(tt){"use strict";function W(y,i){if("string"!=typeof y)return[y];var P=[y];"string"==typeof i||Array.isArray(i)?i={brackets:i}:i||(i={});var L=i.brackets?Array.isArray(i.brackets)?i.brackets:[i.brackets]:["{}","[]","()"],l=i.escape||"___",m=!!i.flat;L.forEach(function(s){var a=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),h=[];function f(u,g,c){var w=P.push(u.slice(s[0].length,-s[1].length))-1;return h.push(w),l+w+l}P.forEach(function(u,g){for(var c,w=0;u!=c;)if(c=u,u=u.replace(a,f),w++>1e4)throw Error("References have circular dependency. Please, check them.");P[g]=u}),h=h.reverse(),P=P.map(function(u){return h.forEach(function(g){u=u.replace(new RegExp("(\\"+l+g+"\\"+l+")","g"),s[0]+"$1"+s[1])}),u})});var r=new RegExp("\\"+l+"([0-9]+)\\"+l);return m?P:function e(s,a,h){for(var u,f=[],g=0;u=r.exec(s);){if(g++>1e4)throw Error("Circular references in parenthesis");f.push(s.slice(0,u.index)),f.push(e(a[u[1]],a)),s=s.slice(u.index+u[0].length)}return f.push(s),f}(P[0],P)}function t(y,i){if(i&&i.flat){var l,P=i&&i.escape||"___",L=y[0];if(!L)return"";for(var m=new RegExp("\\"+P+"([0-9]+)\\"+P),r=0;L!=l;){if(r++>1e4)throw Error("Circular references in "+y);l=L,L=L.replace(m,e)}return L}return y.reduce(function s(a,h){return Array.isArray(h)&&(h=h.reduce(s,"")),a+h},"");function e(s,a){if(null==y[a])throw Error("Reference "+a+"is undefined");return y[a]}}function A(y,i){return Array.isArray(y)?t(y,i):W(y,i)}A.parse=W,A.stringify=t,tt.exports=A},51160:function(tt,W,t){"use strict";var A=t(55616);tt.exports=function y(i){var P;return arguments.length>1&&(i=arguments),"string"==typeof i?i=i.split(/\s/).map(parseFloat):"number"==typeof i&&(i=[i]),i.length&&"number"==typeof i[0]?P=1===i.length?{width:i[0],height:i[0],x:0,y:0}:2===i.length?{width:i[0],height:i[1],x:0,y:0}:{x:i[0],y:i[1],width:i[2]-i[0]||0,height:i[3]-i[1]||0}:i&&((P={x:(i=A(i,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:i.top||0}).width=null==i.width?i.right?i.right-P.x:0:i.width,P.height=null==i.height?i.bottom?i.bottom-P.y:0:i.height),P}},21984:function(tt){tt.exports=function A(P){var L=[];return P.replace(t,function(l,m,r){var e=m.toLowerCase();for(r=function i(P){var L=P.match(y);return L?L.map(Number):[]}(r),"m"==e&&r.length>2&&(L.push([m].concat(r.splice(0,2))),e="l",m="m"==m?"l":"L");;){if(r.length==W[e])return r.unshift(m),L.push(r);if(r.length<W[e])throw new Error("malformed path data");L.push([m].concat(r.splice(0,W[e])))}}),L};var W={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var y=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},65819:function(tt){tt.exports=function(t,A){A||(A=[0,""]),t=String(t);var y=parseFloat(t,10);return A[0]=y,A[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",A}},41984:function(tt,W,t){var A=t(4168);(function(){var y,i,P,L,l,m;"undefined"!=typeof performance&&null!==performance&&performance.now?tt.exports=function(){return performance.now()}:null!=A&&A.hrtime?(tt.exports=function(){return(y()-l)/1e6},i=A.hrtime,L=(y=function(){var r;return 1e9*(r=i())[0]+r[1]})(),m=1e9*A.uptime(),l=L-m):Date.now?(tt.exports=function(){return Date.now()-P},P=Date.now()):(tt.exports=function(){return(new Date).getTime()-P},P=(new Date).getTime())}).call(this)},55616:function(tt){"use strict";tt.exports=function(y,i,P){var l,m,L={};if("string"==typeof i&&(i=t(i)),Array.isArray(i)){var r={};for(m=0;m<i.length;m++)r[i[m]]=!0;i=r}for(l in i)i[l]=t(i[l]);var e={};for(l in i){var s=i[l];if(Array.isArray(s))for(m=0;m<s.length;m++){var a=s[m];if(P&&(e[a]=!0),a in y){if(L[l]=y[a],P)for(var h=m;h<s.length;h++)e[s[h]]=!0;break}}else l in y&&(i[l]&&(L[l]=y[l]),P&&(e[l]=!0))}if(P)for(l in y)e[l]||(L[l]=y[l]);return L};var W={};function t(A){return W[A]?W[A]:("string"==typeof A&&(A=W[A]=A.split(/\s*,\s*|\s+/)),A)}},61456:function(tt){tt.exports=function(t,A,y,i){var P=t[0],L=t[1],l=!1;void 0===y&&(y=0),void 0===i&&(i=A.length);for(var m=i-y,r=0,e=m-1;r<m;e=r++){var s=A[r+y][0],a=A[r+y][1],f=A[e+y][1];a>L!=f>L&&P<(A[e+y][0]-s)*(L-a)/(f-a)+s&&(l=!l)}return l}},14756:function(tt,W,t){var e,A=t(7688),y=t(28648),i=t(72200),P=t(11403),L=t(82368),l=t(17792),m=!1,r=y();function s(a,h,f){var u=e.segments(a),g=e.segments(h),w=f(e.combine(u,g));return e.polygon(w)}e={buildLog:function(a){return!0===a?m=A():!1===a&&(m=!1),!1!==m&&m.list},epsilon:function(a){return r.epsilon(a)},segments:function(a){var h=i(!0,r,m);return a.regions.forEach(h.addRegion),{segments:h.calculate(a.inverted),inverted:a.inverted}},combine:function(a,h){return{combined:i(!1,r,m).calculate(a.segments,a.inverted,h.segments,h.inverted),inverted1:a.inverted,inverted2:h.inverted}},selectUnion:function(a){return{segments:L.union(a.combined,m),inverted:a.inverted1||a.inverted2}},selectIntersect:function(a){return{segments:L.intersect(a.combined,m),inverted:a.inverted1&&a.inverted2}},selectDifference:function(a){return{segments:L.difference(a.combined,m),inverted:a.inverted1&&!a.inverted2}},selectDifferenceRev:function(a){return{segments:L.differenceRev(a.combined,m),inverted:!a.inverted1&&a.inverted2}},selectXor:function(a){return{segments:L.xor(a.combined,m),inverted:a.inverted1!==a.inverted2}},polygon:function(a){return{regions:P(a.segments,r,m),inverted:a.inverted}},polygonFromGeoJSON:function(a){return l.toPolygon(e,a)},polygonToGeoJSON:function(a){return l.fromPolygon(e,r,a)},union:function(a,h){return s(a,h,e.selectUnion)},intersect:function(a,h){return s(a,h,e.selectIntersect)},difference:function(a,h){return s(a,h,e.selectDifference)},differenceRev:function(a,h){return s(a,h,e.selectDifferenceRev)},xor:function(a,h){return s(a,h,e.selectXor)}},"object"==typeof window&&(window.PolyBool=e),tt.exports=e},7688:function(tt){tt.exports=function W(){var t,A=0,y=!1;function i(P,L){return t.list.push({type:P,data:L?JSON.parse(JSON.stringify(L)):void 0}),t}return t={list:[],segmentId:function(){return A++},checkIntersection:function(P,L){return i("check",{seg1:P,seg2:L})},segmentChop:function(P,L){return i("div_seg",{seg:P,pt:L}),i("chop",{seg:P,pt:L})},statusRemove:function(P){return i("pop_seg",{seg:P})},segmentUpdate:function(P){return i("seg_update",{seg:P})},segmentNew:function(P,L){return i("new_seg",{seg:P,primary:L})},segmentRemove:function(P){return i("rem_seg",{seg:P})},tempStatus:function(P,L,l){return i("temp_status",{seg:P,above:L,below:l})},rewind:function(P){return i("rewind",{seg:P})},status:function(P,L,l){return i("status",{seg:P,above:L,below:l})},vert:function(P){return P===y?t:(y=P,i("vert",{x:P}))},log:function(P){return"string"!=typeof P&&(P=JSON.stringify(P,!1,"  ")),i("log",{txt:P})},reset:function(){return i("reset")},selected:function(P){return i("selected",{segs:P})},chainStart:function(P){return i("chain_start",{seg:P})},chainRemoveHead:function(P,L){return i("chain_rem_head",{index:P,pt:L})},chainRemoveTail:function(P,L){return i("chain_rem_tail",{index:P,pt:L})},chainNew:function(P,L){return i("chain_new",{pt1:P,pt2:L})},chainMatch:function(P){return i("chain_match",{index:P})},chainClose:function(P){return i("chain_close",{index:P})},chainAddHead:function(P,L){return i("chain_add_head",{index:P,pt:L})},chainAddTail:function(P,L){return i("chain_add_tail",{index:P,pt:L})},chainConnect:function(P,L){return i("chain_con",{index1:P,index2:L})},chainReverse:function(P){return i("chain_rev",{index:P})},chainJoin:function(P,L){return i("chain_join",{index1:P,index2:L})},done:function(){return i("done")}}}},28648:function(tt){tt.exports=function W(t){"number"!=typeof t&&(t=1e-10);var A={epsilon:function(y){return"number"==typeof y&&(t=y),t},pointAboveOrOnLine:function(y,i,P){var L=i[0],l=i[1];return(P[0]-L)*(y[1]-l)-(P[1]-l)*(y[0]-L)>=-t},pointBetween:function(y,i,P){var l=P[0]-i[0],r=P[1]-i[1],e=(y[0]-i[0])*l+(y[1]-i[1])*r;return!(e<t||e-(l*l+r*r)>-t)},pointsSameX:function(y,i){return Math.abs(y[0]-i[0])<t},pointsSameY:function(y,i){return Math.abs(y[1]-i[1])<t},pointsSame:function(y,i){return A.pointsSameX(y,i)&&A.pointsSameY(y,i)},pointsCompare:function(y,i){return A.pointsSameX(y,i)?A.pointsSameY(y,i)?0:y[1]<i[1]?-1:1:y[0]<i[0]?-1:1},pointsCollinear:function(y,i,P){return Math.abs((y[0]-i[0])*(i[1]-P[1])-(i[0]-P[0])*(y[1]-i[1]))<t},linesIntersect:function(y,i,P,L){var l=i[0]-y[0],m=i[1]-y[1],r=L[0]-P[0],e=L[1]-P[1],s=l*e-m*r;if(Math.abs(s)<t)return!1;var a=y[0]-P[0],h=y[1]-P[1],f=(r*h-e*a)/s,u=(l*h-m*a)/s,g={alongA:0,alongB:0,pt:[y[0]+f*l,y[1]+f*m]};return g.alongA=f<=-t?-2:f<t?-1:f-1<=-t?0:f-1<t?1:2,g.alongB=u<=-t?-2:u<t?-1:u-1<=-t?0:u-1<t?1:2,g},pointInsideRegion:function(y,i){for(var P=y[0],L=y[1],l=i[i.length-1][0],m=i[i.length-1][1],r=!1,e=0;e<i.length;e++){var s=i[e][0],a=i[e][1];a-L>t!=m-L>t&&(l-s)*(L-a)/(m-a)+s-P>t&&(r=!r),l=s,m=a}return r}};return A}},17792:function(tt){tt.exports={toPolygon:function(t,A){function y(L){if(L.length<=0)return t.segments({inverted:!1,regions:[]});function l(e){var s=e.slice(0,e.length-1);return t.segments({inverted:!1,regions:[s]})}for(var m=l(L[0]),r=1;r<L.length;r++)m=t.selectDifference(t.combine(m,l(L[r])));return m}if("Polygon"===A.type)return t.polygon(y(A.coordinates));if("MultiPolygon"===A.type){for(var i=t.segments({inverted:!1,regions:[]}),P=0;P<A.coordinates.length;P++)i=t.selectUnion(t.combine(i,y(A.coordinates[P])));return t.polygon(i)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,A,y){function i(f,u){return A.pointInsideRegion([.5*(f[0][0]+f[1][0]),.5*(f[0][1]+f[1][1])],u)}function P(f){return{region:f,children:[]}}y=t.polygon(t.segments(y));var L=P(null);function l(f,u){for(var g=0;g<f.children.length;g++)if(i(u,(c=f.children[g]).region))return void l(c,u);var w=P(u);for(g=0;g<f.children.length;g++){var c;i((c=f.children[g]).region,u)&&(w.children.push(c),f.children.splice(g,1),g--)}f.children.push(w)}for(var m=0;m<y.regions.length;m++){var r=y.regions[m];r.length<3||l(L,r)}function e(f,u){for(var g=0,c=f[f.length-1][0],w=f[f.length-1][1],d=[],o=0;o<f.length;o++){var v=f[o][0],M=f[o][1];d.push([v,M]),g+=M*c-v*w,c=v,w=M}return g<0!==u&&d.reverse(),d.push([d[0][0],d[0][1]]),d}var s=[];function a(f){var u=[e(f.region,!1)];s.push(u);for(var g=0;g<f.children.length;g++)u.push(h(f.children[g]))}function h(f){for(var u=0;u<f.children.length;u++)a(f.children[u]);return e(f.region,!0)}for(m=0;m<L.children.length;m++)a(L.children[m]);return s.length<=0?{type:"Polygon",coordinates:[]}:1==s.length?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}}},72200:function(tt,W,t){var A=t(48088);tt.exports=function y(i,P,L){function l(w,d){return{id:L?L.segmentId():-1,start:w,end:d,myFill:{above:null,below:null},otherFill:null}}function m(w,d,o){return{id:L?L.segmentId():-1,start:w,end:d,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var r=A.create();function s(w,d){r.insertBefore(w,function(o){return function e(w,d,o,v,M,b){var E=P.pointsCompare(d,M);return 0!==E?E:P.pointsSame(o,b)?0:w!==v?w?1:-1:P.pointAboveOrOnLine(o,v?M:b,v?b:M)?1:-1}(w.isStart,w.pt,d,o.isStart,o.pt,o.other.pt)<0})}function f(w,d){var o=function a(w,d){var o=A.node({isStart:!0,pt:w.start,seg:w,primary:d,other:null,status:null});return s(o,w.end),o}(w,d);return function h(w,d,o){var v=A.node({isStart:!1,pt:d.end,seg:d,primary:o,other:w,status:null});w.other=v,s(v,w.pt)}(o,w,d),o}function g(w,d){var o=m(d,w.seg.end,w.seg);return function u(w,d){L&&L.segmentChop(w.seg,d),w.other.remove(),w.seg.end=d,w.other.pt=d,s(w.other,w.pt)}(w,d),f(o,w.primary)}function c(w,d){var o=A.create();function M(z){return o.findTransition(function(B){return function v(z,B){var O=z.seg.start,U=z.seg.end,G=B.seg.start,J=B.seg.end;return P.pointsCollinear(O,G,J)?P.pointsCollinear(U,G,J)||P.pointAboveOrOnLine(U,G,J)?1:-1:P.pointAboveOrOnLine(O,G,J)?1:-1}(z,B.ev)>0})}function b(z,B){var O=z.seg,U=B.seg,G=O.start,J=O.end,et=U.start,at=U.end;L&&L.checkIntersection(O,U);var lt=P.linesIntersect(G,J,et,at);if(!1===lt){if(!P.pointsCollinear(G,J,et)||P.pointsSame(G,at)||P.pointsSame(J,et))return!1;var K=P.pointsSame(G,et),j=P.pointsSame(J,at);if(K&&j)return B;var rt=!K&&P.pointBetween(G,et,at),H=!j&&P.pointBetween(J,et,at);if(K)return H?g(B,J):g(z,at),B;rt&&(j||(H?g(B,J):g(z,at)),g(B,G))}else 0===lt.alongA&&(-1===lt.alongB?g(z,et):0===lt.alongB?g(z,lt.pt):1===lt.alongB&&g(z,at)),0===lt.alongB&&(-1===lt.alongA?g(B,G):0===lt.alongA?g(B,lt.pt):1===lt.alongA&&g(B,J));return!1}for(var E=[];!r.isEmpty();){var x=r.getHead();if(L&&L.vert(x.pt[0]),x.isStart){let z=function(){if(T){var B=b(x,T);if(B)return B}return!!n&&b(x,n)};L&&L.segmentNew(x.seg,x.primary);var S=M(x),T=S.before?S.before.ev:null,n=S.after?S.after.ev:null;L&&L.tempStatus(x.seg,!!T&&T.seg,!!n&&n.seg);var p,C=z();if(C&&(i?(p=null===x.seg.myFill.below||x.seg.myFill.above!==x.seg.myFill.below)&&(C.seg.myFill.above=!C.seg.myFill.above):C.seg.otherFill=x.seg.myFill,L&&L.segmentUpdate(C.seg),x.other.remove(),x.remove()),r.getHead()!==x){L&&L.rewind(x.seg);continue}if(i)p=null===x.seg.myFill.below||x.seg.myFill.above!==x.seg.myFill.below,x.seg.myFill.below=n?n.seg.myFill.above:w,x.seg.myFill.above=p?!x.seg.myFill.below:x.seg.myFill.below;else if(null===x.seg.otherFill){var F;x.seg.otherFill={above:F=n?x.primary===n.primary?n.seg.otherFill.above:n.seg.myFill.above:x.primary?d:w,below:F}}L&&L.status(x.seg,!!T&&T.seg,!!n&&n.seg),x.other.status=S.insert(A.node({ev:x}))}else{var D=x.status;if(null===D)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(D.prev)&&o.exists(D.next)&&b(D.prev.ev,D.next.ev),L&&L.statusRemove(D.ev.seg),D.remove(),!x.primary){var N=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=N}E.push(x.seg)}r.getHead().remove()}return L&&L.done(),E}return i?{addRegion:function(w){for(var d,o=w[w.length-1],v=0;v<w.length;v++){var M=P.pointsCompare(d=o,o=w[v]);0!==M&&f(l(M<0?d:o,M<0?o:d),!0)}},calculate:function(w){return c(w,!1)}}:{calculate:function(w,d,o,v){return w.forEach(function(M){f(m(M.start,M.end,M),!0)}),o.forEach(function(M){f(m(M.start,M.end,M),!1)}),c(d,v)}}}},48088:function(tt){tt.exports={create:function(){var t={root:{root:!0,next:null},exists:function(A){return!(null===A||A===t.root)},isEmpty:function(){return null===t.root.next},getHead:function(){return t.root.next},insertBefore:function(A,y){for(var i=t.root,P=t.root.next;null!==P;){if(y(P))return A.prev=P.prev,A.next=P,P.prev.next=A,void(P.prev=A);i=P,P=P.next}i.next=A,A.prev=i,A.next=null},findTransition:function(A){for(var y=t.root,i=t.root.next;null!==i&&!A(i);)y=i,i=i.next;return{before:y===t.root?null:y,after:i,insert:function(P){return P.prev=y,P.next=i,y.next=P,null!==i&&(i.prev=P),P}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}}},11403:function(tt){tt.exports=function W(t,A,y){var i=[],P=[];return t.forEach(function(L){var l=L.start,m=L.end;if(A.pointsSame(l,m))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{y&&y.chainStart(L);for(var r={index:0,matches_head:!1,matches_pt1:!1},e={index:0,matches_head:!1,matches_pt1:!1},s=r,h=0;h<i.length;h++){var u=(f=i[h])[0],c=f[f.length-1];if(A.pointsSame(u,l)){if(a(h,!0,!0))break}else if(A.pointsSame(u,m)){if(a(h,!0,!1))break}else if(A.pointsSame(c,l)){if(a(h,!1,!0))break}else if(A.pointsSame(c,m)&&a(h,!1,!1))break}if(s===r)return i.push([l,m]),void(y&&y.chainNew(l,m));if(s===e){y&&y.chainMatch(r.index);var d=r.index,o=r.matches_pt1?m:l,v=r.matches_head,f=i[d],M=v?f[0]:f[f.length-1],b=v?f[1]:f[f.length-2],E=v?f[f.length-1]:f[0],x=v?f[f.length-2]:f[1];return A.pointsCollinear(b,M,o)&&(v?(y&&y.chainRemoveHead(r.index,o),f.shift()):(y&&y.chainRemoveTail(r.index,o),f.pop()),M=b),A.pointsSame(E,o)?(i.splice(d,1),A.pointsCollinear(x,E,M)&&(v?(y&&y.chainRemoveTail(r.index,M),f.pop()):(y&&y.chainRemoveHead(r.index,M),f.shift())),y&&y.chainClose(r.index),void P.push(f)):void(v?(y&&y.chainAddHead(r.index,o),f.unshift(o)):(y&&y.chainAddTail(r.index,o),f.push(o)))}var n=r.index,C=e.index;y&&y.chainConnect(n,C);var p=i[n].length<i[C].length;r.matches_head?e.matches_head?p?(S(n),T(n,C)):(S(C),T(C,n)):T(C,n):e.matches_head?T(n,C):p?(S(n),T(C,n)):(S(C),T(n,C))}function a(F,D,N){return s.index=F,s.matches_head=D,s.matches_pt1=N,s===r?(s=e,!1):(s=null,!0)}function S(F){y&&y.chainReverse(F),i[F].reverse()}function T(F,D){var N=i[F],k=i[D],z=N[N.length-1],B=N[N.length-2],O=k[0],U=k[1];A.pointsCollinear(B,z,O)&&(y&&y.chainRemoveTail(F,z),N.pop(),z=B),A.pointsCollinear(z,O,U)&&(y&&y.chainRemoveHead(D,O),k.shift()),y&&y.chainJoin(F,D),i[F]=N.concat(k),i.splice(D,1)}}),P}},82368:function(tt){function W(A,y,i){var P=[];return A.forEach(function(L){var l=(L.myFill.above?8:0)+(L.myFill.below?4:0)+(L.otherFill&&L.otherFill.above?2:0)+(L.otherFill&&L.otherFill.below?1:0);0!==y[l]&&P.push({id:i?i.segmentId():-1,start:L.start,end:L.end,myFill:{above:1===y[l],below:2===y[l]},otherFill:null})}),i&&i.selected(P),P}tt.exports={union:function(A,y){return W(A,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],y)},intersect:function(A,y){return W(A,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],y)},difference:function(A,y){return W(A,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],y)},differenceRev:function(A,y){return W(A,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],y)},xor:function(A,y){return W(A,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],y)}}},9696:function(tt,W,t){"use strict";var y=t(29936).Transform,i=t(55619);function P(){y.call(this,{readableObjectMode:!0})}function L(l,m,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name=this.constructor.name,this.message=l,m&&(this.code=m),r&&(this.statusCode=r)}(P.prototype=Object.create(y.prototype)).constructor=P,i(P.prototype),W.gS=function(l,m,r){for(var e=m,s=0;s<r.length;)if(l[e++]!==r[s++])return!1;return!0},W.wR=function(l,m){var r=[],e=0;if(m&&"hex"===m)for(;e<l.length;)r.push(parseInt(l.slice(e,e+2),16)),e+=2;else for(;e<l.length;e++)r.push(255&l.charCodeAt(e));return r},W.Bz=function(l,m){return l[m]|l[m+1]<<8},W.eW=function(l,m){return l[m+1]|l[m]<<8},W.st=function(l,m){return l[m]|l[m+1]<<8|l[m+2]<<16|16777216*l[m+3]},W.eI=function(l,m){return l[m+3]|l[m+2]<<8|l[m+1]<<16|16777216*l[m]},(L.prototype=Object.create(Error.prototype)).constructor=L},11688:function(tt){"use strict";function W(y,i){var P=new Error(y);return P.code=i,P}function t(y){try{return decodeURIComponent(escape(y))}catch(i){return y}}function A(y,i,P){this.input=y.subarray(i,P),this.start=i;var L=String.fromCharCode.apply(null,this.input.subarray(0,4));if("II*\0"!==L&&"MM\0*"!==L)throw W("invalid TIFF signature","EBADDATA");this.big_endian="M"===L[0]}A.prototype.each=function(y){this.aborted=!1;var i=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:i}];this.ifds_to_read.length>0&&!this.aborted;){var P=this.ifds_to_read.shift();!P.offset||this.scan_ifd(P.id,P.offset,y)}},A.prototype.read_uint16=function(y){var i=this.input;if(y+2>i.length)throw W("unexpected EOF","EBADDATA");return this.big_endian?256*i[y]+i[y+1]:i[y]+256*i[y+1]},A.prototype.read_uint32=function(y){var i=this.input;if(y+4>i.length)throw W("unexpected EOF","EBADDATA");return this.big_endian?16777216*i[y]+65536*i[y+1]+256*i[y+2]+i[y+3]:i[y]+256*i[y+1]+65536*i[y+2]+16777216*i[y+3]},A.prototype.is_subifd_link=function(y,i){return 0===y&&34665===i||0===y&&34853===i||34665===y&&40965===i},A.prototype.exif_format_length=function(y){switch(y){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},A.prototype.exif_format_read=function(y,i){var P;switch(y){case 1:case 2:return this.input[i];case 6:return(P=this.input[i])|33554430*(128&P);case 3:return this.read_uint16(i);case 8:return(P=this.read_uint16(i))|131070*(32768&P);case 4:return this.read_uint32(i);case 9:return 0|this.read_uint32(i);default:return null}},A.prototype.scan_ifd=function(y,i,P){var L=this.read_uint16(i);i+=2;for(var l=0;l<L;l++){var m=this.read_uint16(i),r=this.read_uint16(i+2),e=this.read_uint32(i+4),s=this.exif_format_length(r),a=e*s,h=a<=4?i+8:this.read_uint32(i+8),f=!1;if(h+a>this.input.length)throw W("unexpected EOF","EBADDATA");for(var u=[],g=h,c=0;c<e;c++,g+=s){var w=this.exif_format_read(r,g);if(null===w){u=null;break}u.push(w)}if(Array.isArray(u)&&2===r&&(u=t(String.fromCharCode.apply(null,u)))&&"\0"===u[u.length-1]&&(u=u.slice(0,-1)),this.is_subifd_link(y,m)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:m,offset:u[0]}),f=!0),!1===P({is_big_endian:this.big_endian,ifd:y,tag:m,format:r,count:e,entry_offset:i+this.start,data_length:a,data_offset:h+this.start,value:u,is_subifd_link:f}))return void(this.aborted=!0);i+=12}0===y&&this.ifds_to_read.push({id:1,offset:this.read_uint32(i)})},tt.exports.ExifParser=A,tt.exports.get_orientation=function(y){var i=0;try{return new A(y,0,y.length).each(function(P){if(0===P.ifd&&274===P.tag&&Array.isArray(P.value))return i=P.value[0],!1}),i}catch(P){return-1}}},44600:function(tt,W,t){"use strict";var A=t(9696).eW,y=t(9696).eI;function i(a,h){if(a.length<4+h)return null;var f=y(a,h);return a.length<f+h||f<8?null:{boxtype:String.fromCharCode.apply(null,a.slice(h+4,h+8)),data:a.slice(h+8,h+f),end:h+f}}function P(a,h){for(var f=0;;){var u=i(a,f);if(!u)break;switch(u.boxtype){case"ispe":h.sizes.push({width:y(u.data,4),height:y(u.data,8)});break;case"irot":h.transforms.push({type:"irot",value:3&u.data[0]});break;case"imir":h.transforms.push({type:"imir",value:1&u.data[0]})}f=u.end}}function L(a,h,f){for(var u=0,g=0;g<f;g++)u=256*u+(a[h+g]||0);return u}function l(a,h){for(var f=a[4]>>4&15,u=15&a[4],g=a[5]>>4&15,c=A(a,6),w=8,d=0;d<c;d++){var o=A(a,w),v=A(a,w+=2),M=L(a,w+=2,g),b=A(a,w+=g);if(w+=2,0===v&&1===b){var E=L(a,w,f),x=L(a,w+f,u);h.item_loc[o]={length:x,offset:E+M}}w+=b*(f+u)}}function m(a,h){for(var f=A(a,4),u=6,g=0;g<f;g++){var c=i(a,u);if(!c)break;if("infe"===c.boxtype){for(var w=A(c.data,4),d="",o=8;o<c.data.length&&c.data[o];o++)d+=String.fromCharCode(c.data[o]);h.item_inf[d]=w}u=c.end}}function r(a,h){for(var f=0;;){var u=i(a,f);if(!u)break;"ipco"===u.boxtype&&P(u.data,h),f=u.end}}tt.exports.unbox=i,tt.exports.readSizeFromMeta=function(a){var h={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function e(a,h){for(var f=4;;){var u=i(a,f);if(!u)break;"iprp"===u.boxtype&&r(u.data,h),"iloc"===u.boxtype&&l(u.data,h),"iinf"===u.boxtype&&m(u.data,h),f=u.end}}(a,h),h.sizes.length){var f=function s(a){var h=a.reduce(function(g,c){return g.width>c.width||g.width===c.width&&g.height>c.height?g:c}),f=a.reduce(function(g,c){return g.height>c.height||g.height===c.height&&g.width>c.width?g:c});return h.width>f.height||h.width===f.height&&h.height>f.width?h:f}(h.sizes),u=1;h.transforms.forEach(function(c){var w={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},d={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if("imir"===c.type&&(u=0===c.value?d[u]:w[u=w[u=d[u]]]),"irot"===c.type)for(var o=0;o<c.value;o++)u=w[u]});var g=null;return h.item_inf.Exif&&(g=h.item_loc[h.item_inf.Exif]),{width:f.width,height:f.height,orientation:h.transforms.length?u:null,variants:h.sizes,exif_location:g}}},tt.exports.getMimeType=function(a){var h=String.fromCharCode.apply(null,a.slice(0,4)),f={};f[h]=!0;for(var u=8;u<a.length;u+=4)f[String.fromCharCode.apply(null,a.slice(u,u+4))]=!0;if(f.mif1||f.msf1||f.miaf)return"avif"===h||"avis"===h||"avio"===h?{type:"avif",mime:"image/avif"}:"heic"===h||"heix"===h?{type:"heic",mime:"image/heic"}:"hevc"===h||"hevx"===h?{type:"heic",mime:"image/heic-sequence"}:f.avif||f.avis?{type:"avif",mime:"image/avif"}:f.heic||f.heix||f.hevc||f.hevx||f.heis?f.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(tt,W,t){"use strict";var A=t(9696).wR,y=t(9696).gS,i=t(9696).eI,P=t(44600),L=t(11688),l=A("ftyp");tt.exports=function(m){if(y(m,4,l)){var r=P.unbox(m,0);if(r){var e=P.getMimeType(r.data);if(e){for(var s,a=r.end;;){var h=P.unbox(m,a);if(!h)break;if(a=h.end,"mdat"===h.boxtype)return;if("meta"===h.boxtype){s=h.data;break}}if(s){var f=P.readSizeFromMeta(s);if(f){var u={width:f.width,height:f.height,type:e.type,mime:e.mime,wUnits:"px",hUnits:"px"};if(f.variants.length>1&&(u.variants=f.variants),f.orientation&&(u.orientation=f.orientation),f.exif_location&&f.exif_location.offset+f.exif_location.length<=m.length){var g=i(m,f.exif_location.offset),c=m.slice(f.exif_location.offset+g+4,f.exif_location.offset+f.exif_location.length),w=L.get_orientation(c);w>0&&(u.orientation=w)}return u}}}}}}},38728:function(tt,W,t){"use strict";var A=t(9696).wR,y=t(9696).gS,i=t(9696).Bz,P=A("BM");tt.exports=function(L){if(!(L.length<26)&&y(L,0,P))return{width:i(L,18),height:i(L,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(tt,W,t){"use strict";var A=t(9696).wR,y=t(9696).gS,i=t(9696).Bz,P=A("GIF87a"),L=A("GIF89a");tt.exports=function(l){if(!(l.length<10)&&(y(l,0,P)||y(l,0,L)))return{width:i(l,6),height:i(l,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(tt,W,t){"use strict";var A=t(9696).Bz;tt.exports=function(L){var l=A(L,0),m=A(L,2),r=A(L,4);if(0===l&&1===m&&r){for(var e=[],s={width:0,height:0},a=0;a<r;a++){var h=L[6+16*a]||256,f=L[6+16*a+1]||256,u={width:h,height:f};e.push(u),(h>s.width||f>s.height)&&(s=u)}return{width:s.width,height:s.height,variants:e,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(tt,W,t){"use strict";var A=t(9696).eW,y=t(9696).wR,i=t(9696).gS,P=t(11688),L=y("Exif\0\0");tt.exports=function(l){if(!(l.length<2)&&255===l[0]&&216===l[1]&&255===l[2])for(var m=2;;){for(;;){if(l.length-m<2)return;if(255===l[m++])break}for(var e,r=l[m++];255===r;)r=l[m++];if(208<=r&&r<=217||1===r)e=0;else{if(!(192<=r&&r<=254))return;if(l.length-m<2)return;e=A(l,m)-2,m+=2}if(217===r||218===r)return;var s;if(225===r&&e>=10&&i(l,m,L)&&(s=P.get_orientation(l.slice(m+6,m+e))),e>=5&&192<=r&&r<=207&&196!==r&&200!==r&&204!==r){if(l.length-m<e)return;var a={width:A(l,m+3),height:A(l,m+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return s>0&&(a.orientation=s),a}m+=e}}},37276:function(tt,W,t){"use strict";var A=t(9696).wR,y=t(9696).gS,i=t(9696).eI,P=A("\x89PNG\r\n\x1a\n"),L=A("IHDR");tt.exports=function(l){if(!(l.length<24)&&y(l,0,P)&&y(l,12,L))return{width:i(l,16),height:i(l,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(tt,W,t){"use strict";var A=t(9696).wR,y=t(9696).gS,i=t(9696).eI,P=A("8BPS\0\x01");tt.exports=function(L){if(!(L.length<22)&&y(L,0,P))return{width:i(L,18),height:i(L,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(tt){"use strict";function W(s){return 32===s||9===s||13===s||10===s}function t(s){return"number"==typeof s&&isFinite(s)&&s>0}var y=/<[-_.:a-zA-Z0-9][^>]*>/,i=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,P=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,L=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,l=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,m=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function e(s){return m.test(s)?s.match(m)[0]:"px"}tt.exports=function(s){if(function A(s){var a=0,h=s.length;for(239===s[0]&&187===s[1]&&191===s[2]&&(a=3);a<h&&W(s[a]);)a++;return a!==h&&60===s[a]}(s)){for(var a="",h=0;h<s.length;h++)a+=String.fromCharCode(s[h]);var f=(a.match(y)||[""])[0];if(i.test(f)){var u=function r(s){var a=s.match(P),h=s.match(L),f=s.match(l);return{width:a&&(a[1]||a[2]),height:h&&(h[1]||h[2]),viewbox:f&&(f[1]||f[2])}}(f),g=parseFloat(u.width),c=parseFloat(u.height);if(u.width&&u.height)return t(g)&&t(c)?{width:g,height:c,type:"svg",mime:"image/svg+xml",wUnits:e(u.width),hUnits:e(u.height)}:void 0;var w=(u.viewbox||"").split(" "),d={width:w[2],height:w[3]},o=parseFloat(d.width),v=parseFloat(d.height);if(t(o)&&t(v)&&e(d.width)===e(d.height)){var M=o/v;return u.width?t(g)?{width:g,height:g/M,type:"svg",mime:"image/svg+xml",wUnits:e(u.width),hUnits:e(u.width)}:void 0:u.height?t(c)?{width:c*M,height:c,type:"svg",mime:"image/svg+xml",wUnits:e(u.height),hUnits:e(u.height)}:void 0:{width:o,height:v,type:"svg",mime:"image/svg+xml",wUnits:e(d.width),hUnits:e(d.height)}}}}}},98792:function(tt,W,t){"use strict";var A=t(9696).wR,y=t(9696).gS,i=t(9696).Bz,P=t(9696).eW,L=t(9696).st,l=t(9696).eI,m=A("II*\0"),r=A("MM\0*");function e(h,f,u){return u?P(h,f):i(h,f)}function s(h,f,u){return u?l(h,f):L(h,f)}function a(h,f,u){var g=e(h,f+2,u);return 1!==s(h,f+4,u)||3!==g&&4!==g?null:3===g?e(h,f+8,u):s(h,f+8,u)}tt.exports=function(h){if(!(h.length<8)&&(y(h,0,m)||y(h,0,r))){var f=77===h[0],u=s(h,4,f)-8;if(!(u<0)){var g=u+8;if(!(h.length-g<2)){var c=12*e(h,g+0,f);if(!(c<=0||(g+=2,h.length-g<c))){var w,d,o,v;for(w=0;w<c;w+=12)256===(v=e(h,g+w,f))?d=a(h,g+w,f):257===v&&(o=a(h,g+w,f));if(d&&o)return{width:d,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(tt,W,t){"use strict";var A=t(9696).wR,y=t(9696).gS,i=t(9696).Bz,P=t(9696).st,L=t(11688),l=A("RIFF"),m=A("WEBP");function r(a,h){if(157===a[h+3]&&1===a[h+4]&&42===a[h+5])return{width:16383&i(a,h+6),height:16383&i(a,h+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function e(a,h){if(47===a[h]){var f=P(a,h+1);return{width:1+(16383&f),height:1+(f>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function s(a,h){return{width:1+(a[h+6]<<16|a[h+5]<<8|a[h+4]),height:1+(a[h+9]<<h|a[h+8]<<8|a[h+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}tt.exports=function(a){if(!(a.length<16)&&(y(a,0,l)||y(a,8,m))){var h=12,f=null,u=0,g=P(a,4)+8;if(!(g>a.length)){for(;h+8<g;)if(0!==a[h]){var c=String.fromCharCode.apply(null,a.slice(h,h+4)),w=P(a,h+4);"VP8 "===c&&w>=10?f=f||r(a,h+8):"VP8L"===c&&w>=9?f=f||e(a,h+8):"VP8X"===c&&w>=10?f=f||s(a,h+8):"EXIF"===c&&(u=L.get_orientation(a.slice(h+8,h+8+w)),h=1/0),h+=8+w}else h++;if(f)return u>0&&(f.orientation=u),f}}}},87480:function(tt,W,t){"use strict";tt.exports={avif:t(40528),bmp:t(38728),gif:t(5588),ico:t(41924),jpeg:t(87968),png:t(37276),psd:t(90328),svg:t(16024),tiff:t(98792),webp:t(20704)}},19480:function(tt,W,t){"use strict";var A=t(87480);tt.exports=function(P){return function y(i){for(var P=Object.keys(A),L=0;L<P.length;L++){var l=A[P[L]](i);if(l)return l}return null}(P)},tt.exports.parsers=A},4168:function(tt){var t,A,W=tt.exports={};function y(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function P(u){if(t===setTimeout)return setTimeout(u,0);if((t===y||!t)&&setTimeout)return t=setTimeout,setTimeout(u,0);try{return t(u,0)}catch(g){try{return t.call(null,u,0)}catch(c){return t.call(this,u,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:y}catch(u){t=y}try{A="function"==typeof clearTimeout?clearTimeout:i}catch(u){A=i}}();var r,l=[],m=!1,e=-1;function s(){!m||!r||(m=!1,r.length?l=r.concat(l):e=-1,l.length&&a())}function a(){if(!m){var u=P(s);m=!0;for(var g=l.length;g;){for(r=l,l=[];++e<g;)r&&r[e].run();e=-1,g=l.length}r=null,m=!1,function L(u){if(A===clearTimeout)return clearTimeout(u);if((A===i||!A)&&clearTimeout)return A=clearTimeout,clearTimeout(u);try{return A(u)}catch(g){try{return A.call(null,u)}catch(c){return A.call(this,u)}}}(u)}}function h(u,g){this.fun=u,this.array=g}function f(){}W.nextTick=function(u){var g=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)g[c-1]=arguments[c];l.push(new h(u,g)),1===l.length&&!m&&P(a)},h.prototype.run=function(){this.fun.apply(null,this.array)},W.title="browser",W.browser=!0,W.env={},W.argv=[],W.version="",W.versions={},W.on=f,W.addListener=f,W.once=f,W.off=f,W.removeListener=f,W.removeAllListeners=f,W.emit=f,W.prependListener=f,W.prependOnceListener=f,W.listeners=function(u){return[]},W.binding=function(u){throw new Error("process.binding is not supported")},W.cwd=function(){return"/"},W.chdir=function(u){throw new Error("process.chdir is not supported")},W.umask=function(){return 0}},3951:function(tt,W,t){for(var A=t(41984),y="undefined"==typeof window?t.g:window,i=["moz","webkit"],P="AnimationFrame",L=y["request"+P],l=y["cancel"+P]||y["cancelRequest"+P],m=0;!L&&m<i.length;m++)L=y[i[m]+"Request"+P],l=y[i[m]+"Cancel"+P]||y[i[m]+"CancelRequest"+P];if(!L||!l){var r=0,e=0,s=[];L=function(h){if(0===s.length){var f=A(),u=Math.max(0,16.666666666666668-(f-r));r=u+f,setTimeout(function(){var g=s.slice(0);s.length=0;for(var c=0;c<g.length;c++)if(!g[c].cancelled)try{g[c].callback(r)}catch(w){setTimeout(function(){throw w},0)}},Math.round(u))}return s.push({handle:++e,callback:h,cancelled:!1}),e},l=function(h){for(var f=0;f<s.length;f++)s[f].handle===h&&(s[f].cancelled=!0)}}tt.exports=function(h){return L.call(y,h)},tt.exports.cancel=function(){l.apply(y,arguments)},tt.exports.polyfill=function(h){h||(h=y),h.requestAnimationFrame=L,h.cancelAnimationFrame=l}},24544:function(tt,W,t){"use strict";var A=t(76752),y=t(72160),i=t(45223),P=t(55616),L=t(50896),l=t(47520),m=t(37816),r=m.float32,e=m.fract32;tt.exports=function a(h,f){if("function"==typeof h?(f||(f={}),f.regl=h):f=h,f.length&&(f.positions=f),!(h=f.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var g,c,w,d,o,v,u=h._gl,M={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},b=[];return d=h.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),c=h.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),w=h.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=h.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),v=h.buffer({usage:"static",type:"float",data:s}),T(f),g=h({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:h.prop("range"),lineWidth:h.prop("lineWidth"),capSize:h.prop("capSize"),opacity:h.prop("opacity"),scale:h.prop("scale"),translate:h.prop("translate"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),viewport:function(C,p){return[p.viewport.x,p.viewport.y,C.viewportWidth,C.viewportHeight]}},attributes:{color:{buffer:d,offset:function(C,p){return 4*p.offset},divisor:1},position:{buffer:c,offset:function(C,p){return 8*p.offset},divisor:1},positionFract:{buffer:w,offset:function(C,p){return 8*p.offset},divisor:1},error:{buffer:o,offset:function(C,p){return 16*p.offset},divisor:1},direction:{buffer:v,stride:24,offset:0},lineOffset:{buffer:v,stride:24,offset:8},capOffset:{buffer:v,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport"),stencil:!1,instances:h.prop("count"),count:s.length}),L(E,{update:T,draw:x,destroy:n,regl:h,gl:u,canvas:u.canvas,groups:b}),E;function E(C){C?T(C):null===C&&n(),x()}function x(C){if("number"==typeof C)return S(C);C&&!Array.isArray(C)&&(C=[C]),h._refresh(),b.forEach(function(p,F){if(p){if(C&&(p.draw=!!C[F]),!p.draw)return void(p.draw=!0);S(F)}})}function S(C){"number"==typeof C&&(C=b[C]),null!=C&&(!(C&&C.count&&C.color&&C.opacity&&C.positions&&C.positions.length>1)||(C.scaleRatio=[C.scale[0]*C.viewport.width,C.scale[1]*C.viewport.height],g(C),C.after&&C.after(C)))}function T(C){if(C){null!=C.length?"number"==typeof C[0]&&(C=[{positions:C}]):Array.isArray(C)||(C=[C]);var p=0,F=0;if(E.groups=b=C.map(function(U,G){var J=b[G];return U?("function"==typeof U?U={after:U}:"number"==typeof U[0]&&(U={positions:U}),U=P(U,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),J||(b[G]=J={id:G,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},U=L({},M,U)),i(J,U,[{lineWidth:function(et){return.5*+et},capSize:function(et){return.5*+et},opacity:parseFloat,errors:function(et){return et=l(et),F+=et.length,et},positions:function(et,at){return et=l(et,"float64"),at.count=Math.floor(et.length/2),at.bounds=A(et,2),at.offset=p,p+=at.count,et}},{color:function(et,at){var lt=at.count;if(et||(et="transparent"),!Array.isArray(et)||"number"==typeof et[0]){var K=et;et=Array(lt);for(var j=0;j<lt;j++)et[j]=K}if(et.length<lt)throw Error("Not enough colors");for(var rt=new Uint8Array(4*lt),H=0;H<lt;H++){var Z=y(et[H],"uint8");rt.set(Z,4*H)}return rt},range:function(et,at,lt){return et||(et=at.bounds),at.scale=[1/(et[2]-et[0]),1/(et[3]-et[1])],at.translate=[-et[0],-et[1]],at.scaleFract=e(at.scale),at.translateFract=e(at.translate),et},viewport:function(et){var at;return Array.isArray(et)?at={x:et[0],y:et[1],width:et[2]-et[0],height:et[3]-et[1]}:et?((at={x:et.x||et.left||0,y:et.y||et.top||0}).width=et.right?et.right-at.x:et.w||et.width||0,at.height=et.bottom?et.bottom-at.y:et.h||et.height||0):at={x:0,y:0,width:u.drawingBufferWidth,height:u.drawingBufferHeight},at}}]),J):J}),p||F){var D=b.reduce(function(U,G,J){return U+(G?G.count:0)},0),N=new Float64Array(2*D),k=new Uint8Array(4*D),z=new Float32Array(4*D);b.forEach(function(U,G){if(U){var J=U.positions,at=U.offset,K=U.errors;!U.count||(k.set(U.color,4*at),z.set(K,4*at),N.set(J,2*at))}});var B=r(N);c(B);var O=e(N,B);w(O),d(k),o(z)}}}function n(){c.destroy(),w.destroy(),d.destroy(),o.destroy(),v.destroy()}};var s=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},13472:function(tt,W,t){"use strict";var A=t(72160),y=t(76752),i=t(50896),P=t(26444),L=t(55616),l=t(47520),m=t(28912),r=t(71152),e=t(37816),s=e.float32,a=e.fract32,h=t(60463),f=t(51160),u=t(10272);function g(c,w){if(!(this instanceof g))return new g(c,w);if("function"==typeof c?(w||(w={}),w.regl=c):w=c,w.length&&(w.positions=w),!(c=w.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=c._gl,this.regl=c,this.passes=[],this.shaders=g.shaders.has(c)?g.shaders.get(c):g.shaders.set(c,g.createShaders(c)).get(c),this.update(w)}tt.exports=g,g.dashMult=2,g.maxPatternLength=256,g.precisionThreshold=3e6,g.maxPoints=1e4,g.maxLines=2048,g.shaders=new h,g.createShaders=function(c){var v,w=c.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),d={primitive:"triangle strip",instances:c.prop("count"),count:4,offset:0,uniforms:{miterMode:function(b,E){return"round"===E.join?2:1},miterLimit:c.prop("miterLimit"),scale:c.prop("scale"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),thickness:c.prop("thickness"),dashTexture:c.prop("dashTexture"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),dashLength:c.prop("dashLength"),viewport:function(b,E){return[E.viewport.x,E.viewport.y,b.viewportWidth,b.viewportHeight]},depth:c.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(b,E){return!E.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:c.prop("viewport")},viewport:c.prop("viewport")},o=c(i({vert:P(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:P(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},d));try{v=c(i({cull:{enable:!0,face:"back"},vert:P(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:P(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aColor:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:c.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},d))}catch(b){v=o}return{fill:c({primitive:"triangle",elements:function(b,E){return E.triangles},offset:0,vert:P(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:P(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:c.prop("scale"),color:c.prop("fill"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),viewport:function(b,E){return[E.viewport.x,E.viewport.y,b.viewportWidth,b.viewportHeight]}},attributes:{position:{buffer:c.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8}},blend:d.blend,depth:{enable:!1},scissor:d.scissor,stencil:d.stencil,viewport:d.viewport}),rect:o,miter:v}},g.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},g.prototype.render=function(){for(var c,w=[],d=arguments.length;d--;)w[d]=arguments[d];w.length&&(c=this).update.apply(c,w),this.draw()},g.prototype.draw=function(){for(var c=this,w=[],d=arguments.length;d--;)w[d]=arguments[d];return(w.length?w:this.passes).forEach(function(o,v){var M;if(o&&Array.isArray(o))return(M=c).draw.apply(M,o);"number"==typeof o&&(o=c.passes[o]),o&&o.count>1&&o.opacity&&(c.regl._refresh(),o.fill&&o.triangles&&o.triangles.length>2&&c.shaders.fill(o),o.thickness&&(o.scale[0]*o.viewport.width>g.precisionThreshold||o.scale[1]*o.viewport.height>g.precisionThreshold||"rect"===o.join||!o.join&&(o.thickness<=2||o.count>=g.maxPoints)?c.shaders.rect(o):c.shaders.miter(o)))}),this},g.prototype.update=function(c){var w=this;if(c){null!=c.length?"number"==typeof c[0]&&(c=[{positions:c}]):Array.isArray(c)||(c=[c]);var o=this.regl,v=this.gl;if(c.forEach(function(S,T){var n=w.passes[T];if(void 0!==S){if(null===S)return void(w.passes[T]=null);if("number"==typeof S[0]&&(S={positions:S}),S=L(S,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),n||(w.passes[T]=n={id:T,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:o.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:o.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:o.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:o.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},S=i({},g.defaults,S)),null!=S.thickness&&(n.thickness=parseFloat(S.thickness)),null!=S.opacity&&(n.opacity=parseFloat(S.opacity)),null!=S.miterLimit&&(n.miterLimit=parseFloat(S.miterLimit)),null!=S.overlay&&(n.overlay=!!S.overlay,T<g.maxLines&&(n.depth=2*(g.maxLines-1-T%g.maxLines)/g.maxLines-1)),null!=S.join&&(n.join=S.join),null!=S.hole&&(n.hole=S.hole),null!=S.fill&&(n.fill=S.fill?A(S.fill,"uint8"):null),null!=S.viewport&&(n.viewport=f(S.viewport)),n.viewport||(n.viewport=f([v.drawingBufferWidth,v.drawingBufferHeight])),null!=S.close&&(n.close=S.close),null===S.positions&&(S.positions=[]),S.positions){var C,p;if(S.positions.x&&S.positions.y){var F=S.positions.x,D=S.positions.y;p=n.count=Math.max(F.length,D.length),C=new Float64Array(2*p);for(var N=0;N<p;N++)C[2*N]=F[N],C[2*N+1]=D[N]}else C=l(S.positions,"float64"),p=n.count=Math.floor(C.length/2);var k=n.bounds=y(C,2);if(n.fill){for(var z=[],B={},O=0,U=0,G=0,J=n.count;U<J;U++){var et=C[2*U],at=C[2*U+1];isNaN(et)||isNaN(at)||null==et||null==at?(et=C[2*O],at=C[2*O+1],B[U]=O):O=U,z[G++]=et,z[G++]=at}if(S.splitNull){n.count-1 in B||(B[n.count]=n.count-1);var lt=Object.keys(B).map(Number).sort(function(Ht,Bt){return Ht-Bt}),K=[],j=0,rt=null!=n.hole?n.hole[0]:null;if(null!=rt){var H=u(lt,function(Ht){return Ht>=rt});(lt=lt.slice(0,H)).push(rt)}for(var Z=function(Ht){var Bt=z.slice(2*j,2*lt[Ht]).concat(rt?z.slice(2*rt):[]),zt=(n.hole||[]).map(function(wt){return wt-rt+(lt[Ht]-j)}),kt=m(Bt,zt);kt=kt.map(function(wt){return wt+j+(wt+j<lt[Ht]?0:rt-lt[Ht])}),K.push.apply(K,kt),j=lt[Ht]+1},it=0;it<lt.length;it++)Z(it);for(var Q=0,Y=K.length;Q<Y;Q++)null!=B[K[Q]]&&(K[Q]=B[K[Q]]);n.triangles=K}else{for(var nt=m(z,n.hole||[]),_=0,st=nt.length;_<st;_++)null!=B[nt[_]]&&(nt[_]=B[nt[_]]);n.triangles=nt}}var dt=new Float64Array(C);r(dt,2,k);var xt=new Float64Array(2*p+6);n.close?C[0]===C[2*p-2]&&C[1]===C[2*p-1]?(xt[0]=dt[2*p-4],xt[1]=dt[2*p-3]):(xt[0]=dt[2*p-2],xt[1]=dt[2*p-1]):(xt[0]=dt[0],xt[1]=dt[1]),xt.set(dt,2),n.close?C[0]===C[2*p-2]&&C[1]===C[2*p-1]?(xt[2*p+2]=dt[2],xt[2*p+3]=dt[3],n.count-=1):(xt[2*p+2]=dt[0],xt[2*p+3]=dt[1],xt[2*p+4]=dt[2],xt[2*p+5]=dt[3]):(xt[2*p+2]=dt[2*p-2],xt[2*p+3]=dt[2*p-1],xt[2*p+4]=dt[2*p-2],xt[2*p+5]=dt[2*p-1]);var yt=s(xt);n.positionBuffer(yt);var St=a(xt,yt);n.positionFractBuffer(St)}if(S.range?n.range=S.range:n.range||(n.range=n.bounds),(S.range||S.positions)&&n.count){var Et=n.bounds,Mt=n.range[2]-n.range[0],Nt=n.range[3]-n.range[1];n.scale=[(Et[2]-Et[0])/Mt,(Et[3]-Et[1])/Nt],n.translate=[-n.range[0]/Mt+Et[0]/Mt||0,-n.range[1]/Nt+Et[1]/Nt||0],n.scaleFract=a(n.scale),n.translateFract=a(n.translate)}if(S.dashes){var Pt,Gt=0;if(!S.dashes||S.dashes.length<2)Gt=1,Pt=new Uint8Array([255,255,255,255,255,255,255,255]);else{Gt=0;for(var Vt=0;Vt<S.dashes.length;++Vt)Gt+=S.dashes[Vt];Pt=new Uint8Array(Gt*g.dashMult);for(var re=0,le=255,It=0;It<2;It++)for(var Rt=0;Rt<S.dashes.length;++Rt){for(var $t=0,oe=S.dashes[Rt]*g.dashMult*.5;$t<oe;++$t)Pt[re++]=le;le^=255}}n.dashLength=Gt,n.dashTexture({channels:1,data:Pt,width:Pt.length,height:1,mag:"linear",min:"linear"},0,0)}if(S.color){var se=n.count,ve=S.color;ve||(ve="transparent");var de=new Uint8Array(4*se+4);if(Array.isArray(ve)&&"number"!=typeof ve[0]){for(var Wt=0;Wt<se;Wt++){var Xt=A(ve[Wt],"uint8");de.set(Xt,4*Wt)}de.set(A(ve[0],"uint8"),4*se)}else for(var jt=A(ve,"uint8"),Ct=0;Ct<se+1;Ct++)de.set(jt,4*Ct);n.colorBuffer({usage:"dynamic",type:"uint8",data:de})}}}),c.length<this.passes.length){for(var M=c.length;M<this.passes.length;M++){var b=this.passes[M];!b||(b.colorBuffer.destroy(),b.positionBuffer.destroy(),b.dashTexture.destroy())}this.passes.length=c.length}for(var E=[],x=0;x<this.passes.length;x++)null!==this.passes[x]&&E.push(this.passes[x]);return this.passes=E,this}},g.prototype.destroy=function(){return this.passes.forEach(function(c){c.colorBuffer.destroy(),c.positionBuffer.destroy(),c.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(tt,W,t){"use strict";function y(n,C){return function L(n){if(Array.isArray(n))return n}(n)||function A(n,C){var p=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=p){var F,D,N,k,z=[],B=!0,O=!1;try{if(N=(p=p.call(n)).next,0===C){if(Object(p)!==p)return;B=!1}else for(;!(B=(F=N.call(p)).done)&&(z.push(F.value),z.length!==C);B=!0);}catch(U){O=!0,D=U}finally{try{if(!B&&null!=p.return&&(k=p.return(),Object(k)!==k))return}finally{if(O)throw D}}return z}}(n,C)||m(n,C)||function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(n){return function P(n){if(Array.isArray(n))return r(n)}(n)||function l(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||m(n)||function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(n,C){if(n){if("string"==typeof n)return r(n,C);var p=Object.prototype.toString.call(n).slice(8,-1);if("Object"===p&&n.constructor&&(p=n.constructor.name),"Map"===p||"Set"===p)return Array.from(n);if("Arguments"===p||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return r(n,C)}}function r(n,C){(null==C||C>n.length)&&(C=n.length);for(var p=0,F=new Array(C);p<C;p++)F[p]=n[p];return F}var a=t(72160),h=t(76752),f=t(3808),u=t(3108),g=t(50896),c=t(26444),w=t(55616),d=t(45223),o=t(47520),v=t(96604),M=t(37816),b=t(51160),E=x;function x(n,C){var p=this;if(!(this instanceof x))return new x(n,C);"function"==typeof n?(C||(C={}),C.regl=n):(C=n,n=null),C&&C.length&&(C.positions=C);var D,F=(n=C.regl)._gl,N=[],U=255;this.tooManyColors=v,D=n.texture({data:new Uint8Array(4*U),width:U,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),g(this,{regl:n,gl:F,groups:[],markerCache:[null],markerTextures:[null],palette:N,paletteIds:{},paletteTexture:D,maxColors:U,maxSize:100,canvas:F.canvas}),this.update(C);var J={uniforms:{constPointSize:!!C.constPointSize,opacity:n.prop("opacity"),paletteSize:function(K,j){return[p.tooManyColors?0:U,D.height]},pixelRatio:n.context("pixelRatio"),scale:n.prop("scale"),scaleFract:n.prop("scaleFract"),translate:n.prop("translate"),translateFract:n.prop("translateFract"),markerTexture:n.prop("markerTexture"),paletteTexture:D},attributes:{x:function(K,j){return j.xAttr||{buffer:j.positionBuffer,stride:8,offset:0}},y:function(K,j){return j.yAttr||{buffer:j.positionBuffer,stride:8,offset:4}},xFract:function(K,j){return j.xAttr?{constant:[0,0]}:{buffer:j.positionFractBuffer,stride:8,offset:0}},yFract:function(K,j){return j.yAttr?{constant:[0,0]}:{buffer:j.positionFractBuffer,stride:8,offset:4}},size:function(K,j){return j.size.length?{buffer:j.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*j.size/p.maxSize)]}},borderSize:function(K,j){return j.borderSize.length?{buffer:j.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*j.borderSize/p.maxSize)]}},colorId:function(K,j){return j.color.length?{buffer:j.colorBuffer,stride:p.tooManyColors?8:4,offset:0}:{constant:p.tooManyColors?N.slice(4*j.color,4*j.color+4):[j.color]}},borderColorId:function(K,j){return j.borderColor.length?{buffer:j.colorBuffer,stride:p.tooManyColors?8:4,offset:p.tooManyColors?4:2}:{constant:p.tooManyColors?N.slice(4*j.borderColor,4*j.borderColor+4):[j.borderColor]}},isActive:function(K,j){return!0===j.activation?{constant:[1]}:j.activation?j.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:n.prop("viewport")},viewport:n.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:n.prop("elements"),count:n.prop("count"),offset:n.prop("offset"),primitive:"points"},et=g({},J);et.frag=c(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),et.vert=c(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\n// `invariant` effectively turns off optimizations for the position.\n// We need this because -fast-math on M1 Macs is re-ordering\n// floating point operations in a way that causes floating point\n// precision limits to put points in the wrong locations.\ninvariant gl_Position;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}\n"]),this.drawMarker=n(et);var at=g({},J);at.frag=c(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),at.vert=c(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\n// `invariant` effectively turns off optimizations for the position.\n// We need this because -fast-math on M1 Macs is re-ordering\n// floating point operations in a way that causes floating point\n// precision limits to put points in the wrong locations.\ninvariant gl_Position;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),v&&(at.frag=at.frag.replace("smoothstep","smoothStep"),et.frag=et.frag.replace("smoothstep","smoothStep")),this.drawCircle=n(at)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var n=this,C=arguments.length,p=new Array(C),F=0;F<C;F++)p[F]=arguments[F];var D=this.groups;if(1===p.length&&Array.isArray(p[0])&&(null===p[0][0]||Array.isArray(p[0][0]))&&(p=p[0]),this.regl._refresh(),p.length)for(var N=0;N<p.length;N++)this.drawItem(N,p[N]);else D.forEach(function(k,z){n.drawItem(z)});return this},x.prototype.drawItem=function(n,C){var p=this.groups,F=p[n];if("number"==typeof C&&(n=C,F=p[C],C=null),F&&F.count&&F.opacity){F.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,F,C));for(var D=[],N=1;N<F.activation.length;N++)!F.activation[N]||!0!==F.activation[N]&&!F.activation[N].data.length||D.push.apply(D,i(this.getMarkerDrawOptions(N,F,C)));D.length&&this.drawMarker(D)}},x.prototype.getMarkerDrawOptions=function(n,C,p){var F=C.range,D=C.tree,N=C.viewport,k=C.activation,z=C.selectionBuffer,B=C.count;if(!D)return p?[g({},C,{markerTexture:this.markerTextures[n],activation:k[n],count:p.length,elements:p,offset:0})]:[g({},C,{markerTexture:this.markerTextures[n],activation:k[n],offset:0})];var U=[],G=D.range(F,{lod:!0,px:[(F[2]-F[0])/N.width,(F[3]-F[1])/N.height]});if(p){for(var et=k[n].data,at=new Uint8Array(B),lt=0;lt<p.length;lt++){var K=p[lt];at[K]=et?et[K]:1}z.subdata(at)}for(var j=G.length;j--;){var rt=y(G[j],2),H=rt[0];U.push(g({},C,{markerTexture:this.markerTextures[n],activation:p?z:k[n],offset:H,count:rt[1]-H}))}return U},x.prototype.update=function(){for(var n=this,C=arguments.length,p=new Array(C),F=0;F<C;F++)p[F]=arguments[F];if(p.length){1===p.length&&Array.isArray(p[0])&&(p=p[0]);var D=this.groups,N=this.gl,k=this.regl,z=this.maxSize,B=this.maxColors,O=this.palette;this.groups=D=p.map(function(U,G){var J=D[G];if(void 0===U)return J;null===U?U={positions:null}:"function"==typeof U?U={ondraw:U}:"number"==typeof U[0]&&(U={positions:U}),null===(U=w(U,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(U.positions=[]),null!=U.tooManyColors&&(n.tooManyColors=U.tooManyColors),J||(D[G]=J={id:G,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:k.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},U=g({},x.defaults,U)),U.positions&&!("marker"in U)&&(U.marker=J.marker,delete J.marker),U.marker&&!("positions"in U)&&(U.positions=J.positions,delete J.positions);var et=0,at=0;if(d(J,U,[{snap:!0,size:function(gt,Mt){return null==gt&&(gt=x.defaults.size),et+=gt&&gt.length?1:0,gt},borderSize:function(gt,Mt){return null==gt&&(gt=x.defaults.borderSize),et+=gt&&gt.length?1:0,gt},opacity:parseFloat,color:function(gt,Mt){return null==gt&&(gt=x.defaults.color),gt=n.updateColor(gt),at++,gt},borderColor:function(gt,Mt){return null==gt&&(gt=x.defaults.borderColor),gt=n.updateColor(gt),at++,gt},bounds:function(gt,Mt,Nt){return"range"in Nt||(Nt.range=null),gt},positions:function(gt,Mt,Nt){var Gt=Mt.snap,Pt=Mt.positionBuffer,Vt=Mt.positionFractBuffer,re=Mt.selectionBuffer;if(gt.x||gt.y)return Mt.xAttr=gt.x.length?{buffer:k.buffer(gt.x),offset:0,stride:4,count:gt.x.length}:{buffer:gt.x.buffer,offset:4*gt.x.offset||0,stride:4*(gt.x.stride||1),count:gt.x.count},Mt.yAttr=gt.y.length?{buffer:k.buffer(gt.y),offset:0,stride:4,count:gt.y.length}:{buffer:gt.y.buffer,offset:4*gt.y.offset||0,stride:4*(gt.y.stride||1),count:gt.y.count},Mt.count=Math.max(Mt.xAttr.count,Mt.yAttr.count),gt;gt=o(gt,"float64");var le=Mt.count=Math.floor(gt.length/2),It=Mt.bounds=le?h(gt,2):null;if(!Nt.range&&!Mt.range&&(delete Mt.range,Nt.range=It),!Nt.marker&&!Mt.marker&&(delete Mt.marker,Nt.marker=null),Gt&&(!0===Gt||le>Gt)?Mt.tree=u(gt,{bounds:It}):Gt&&Gt.length&&(Mt.tree=Gt),Mt.tree){var Rt={primitive:"points",usage:"static",data:Mt.tree,type:"uint32"};Mt.elements?Mt.elements(Rt):Mt.elements=k.elements(Rt)}var $t=M.float32(gt);return Pt({data:$t,usage:"dynamic"}),Vt({data:M.fract32(gt,$t),usage:"dynamic"}),re({data:new Uint8Array(le),type:"uint8",usage:"stream"}),gt}},{marker:function(gt,Mt,Nt){var Gt=Mt.activation;if(Gt.forEach(function(oe){return oe&&oe.destroy&&oe.destroy()}),Gt.length=0,gt&&"number"!=typeof gt[0]){for(var Vt=[],re=0,le=Math.min(gt.length,Mt.count);re<le;re++){var It=n.addMarker(gt[re]);Vt[It]||(Vt[It]=new Uint8Array(Mt.count)),Vt[It][re]=1}for(var Rt=0;Rt<Vt.length;Rt++)if(Vt[Rt]){var $t={data:Vt[Rt],type:"uint8",usage:"static"};Gt[Rt]?Gt[Rt]($t):Gt[Rt]=k.buffer($t),Gt[Rt].data=Vt[Rt]}}else Gt[n.addMarker(gt)]=!0;return gt},range:function(gt,Mt,Nt){var Gt=Mt.bounds;if(Gt)return gt||(gt=Gt),Mt.scale=[1/(gt[2]-gt[0]),1/(gt[3]-gt[1])],Mt.translate=[-gt[0],-gt[1]],Mt.scaleFract=M.fract(Mt.scale),Mt.translateFract=M.fract(Mt.translate),gt},viewport:function(gt){return b(gt||[N.drawingBufferWidth,N.drawingBufferHeight])}}]),et){var K=J.count,j=J.size,rt=J.borderSize,H=J.sizeBuffer,Z=new Uint8Array(2*K);if(j.length||rt.length)for(var it=0;it<K;it++)Z[2*it]=Math.round(255*(null==j[it]?j:j[it])/z),Z[2*it+1]=Math.round(255*(null==rt[it]?rt:rt[it])/z);H({data:Z,usage:"dynamic"})}if(at){var dt,Y=J.count,nt=J.color,_=J.borderColor,st=J.colorBuffer;if(n.tooManyColors){if(nt.length||_.length){dt=new Uint8Array(8*Y);for(var xt=0;xt<Y;xt++){var yt=nt[xt];dt[8*xt]=O[4*yt],dt[8*xt+1]=O[4*yt+1],dt[8*xt+2]=O[4*yt+2],dt[8*xt+3]=O[4*yt+3];var St=_[xt];dt[8*xt+4]=O[4*St],dt[8*xt+5]=O[4*St+1],dt[8*xt+6]=O[4*St+2],dt[8*xt+7]=O[4*St+3]}}}else if(nt.length||_.length){dt=new Uint8Array(4*Y+2);for(var Et=0;Et<Y;Et++)null!=nt[Et]&&(dt[4*Et]=nt[Et]%B,dt[4*Et+1]=Math.floor(nt[Et]/B)),null!=_[Et]&&(dt[4*Et+2]=_[Et]%B,dt[4*Et+3]=Math.floor(_[Et]/B))}st({data:dt||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return J})}},x.prototype.addMarker=function(n){var N,C=this.markerTextures,p=this.regl,F=this.markerCache,D=null==n?0:F.indexOf(n);if(D>=0)return D;if(n instanceof Uint8Array||n instanceof Uint8ClampedArray)N=n;else{N=new Uint8Array(n.length);for(var k=0,z=n.length;k<z;k++)N[k]=255*n[k]}var B=Math.floor(Math.sqrt(N.length));return D=C.length,F.push(n),C.push(p.texture({channels:1,data:N,radius:B,mag:"linear",min:"linear"})),D},x.prototype.updateColor=function(n){var C=this.paletteIds,p=this.palette,F=this.maxColors;Array.isArray(n)||(n=[n]);var D=[];if("number"==typeof n[0]){var N=[];if(Array.isArray(n))for(var k=0;k<n.length;k+=4)N.push(n.slice(k,k+4));else for(var z=0;z<n.length;z+=4)N.push(n.subarray(z,z+4));n=N}for(var B=0;B<n.length;B++){var O=n[B];O=a(O,"uint8");var U=f(O,!1);if(null==C[U]){var G=p.length;C[U]=Math.floor(G/4),p[G]=O[0],p[G+1]=O[1],p[G+2]=O[2],p[G+3]=O[3]}D[B]=C[U]}return!this.tooManyColors&&p.length>4*F&&(this.tooManyColors=!0),this.updatePalette(p),1===D.length?D[0]:D},x.prototype.updatePalette=function(n){if(!this.tooManyColors){var C=this.maxColors,p=this.paletteTexture,F=Math.ceil(.25*n.length/C);if(F>1)for(var D=.25*(n=n.slice()).length%C;D<F*C;D++)n.push(0,0,0,0);p.height<F&&p.resize(C,F),p.subimage({width:Math.min(.25*n.length,C),height:F,data:n},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(n){n.sizeBuffer.destroy(),n.positionBuffer.destroy(),n.positionFractBuffer.destroy(),n.colorBuffer.destroy(),n.activation.forEach(function(C){return C&&C.destroy&&C.destroy()}),n.selectionBuffer.destroy(),n.elements&&n.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(n){return n&&n.destroy&&n.destroy()}),this};var S=t(50896);tt.exports=function(C,p){var F=new E(C,p),D=F.render.bind(F);return S(D,{render:D,update:F.update.bind(F),draw:F.draw.bind(F),destroy:F.destroy.bind(F),regl:F.regl,gl:F.gl,canvas:F.gl.canvas,groups:F.groups,markers:F.markerCache,palette:F.palette}),D}},55795:function(tt,W,t){"use strict";var A=t(38540),y=t(55616),i=t(76752),P=t(3951),L=t(67752),l=t(51160),m=t(47520);function r(h,f){if(!(this instanceof r))return new r(h,f);this.traces=[],this.passes={},this.regl=h,this.scatter=A(h),this.canvas=this.scatter.canvas}function e(h,f,u){return(null!=h.id?h.id:h)<<16|(255&f)<<8|255&u}function s(h,f,u){var c,d,o,M,E=h[f],x=h[u];return E.length>2?(c=E[1],d=E[3]):E.length?(c=E[0],d=E[1]):(c=E.y,d=E.y+E.height),x.length>2?(o=x[0],M=x[2]):x.length?(o=x[0],M=x[1]):(o=x.x,M=x.x+x.width),[o,c,M,d]}function a(h){if("number"==typeof h)return[h,h,h,h];if(2===h.length)return[h[0],h[1],h[0],h[1]];var f=l(h);return[f.x,f.y,f.x+f.width,f.y+f.height]}tt.exports=r,r.prototype.render=function(){for(var f,h=this,u=[],g=arguments.length;g--;)u[g]=arguments[g];return u.length&&(f=this).update.apply(f,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=P(function(){h.draw(),h.dirty=!0,h.planned=null})):(this.draw(),this.dirty=!0,P(function(){h.dirty=!1})),this)},r.prototype.update=function(){for(var h,f=[],u=arguments.length;u--;)f[u]=arguments[u];if(f.length){for(var g=0;g<f.length;g++)this.updateItem(g,f[g]);this.traces=this.traces.filter(Boolean);for(var c=[],w=0,d=0;d<this.traces.length;d++){for(var o=this.traces[d],v=this.traces[d].passes,M=0;M<v.length;M++)c.push(this.passes[v[M]]);o.passOffset=w,w+=o.passes.length}return(h=this.scatter).update.apply(h,c),this}},r.prototype.updateItem=function(h,f){var g=this.regl;if(null===f)return this.traces[h]=null,this;if(!f)return this;var o,c=y(f,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),w=this.traces[h]||(this.traces[h]={id:h,buffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:l([g._gl.drawingBufferWidth,g._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=c.color&&(w.color=c.color),null!=c.size&&(w.size=c.size),null!=c.marker&&(w.marker=c.marker),null!=c.borderColor&&(w.borderColor=c.borderColor),null!=c.borderSize&&(w.borderSize=c.borderSize),null!=c.opacity&&(w.opacity=c.opacity),c.viewport&&(w.viewport=l(c.viewport)),null!=c.diagonal&&(w.diagonal=c.diagonal),null!=c.upper&&(w.upper=c.upper),null!=c.lower&&(w.lower=c.lower),c.data){w.buffer(m(c.data)),w.columns=c.data.length,w.count=c.data[0].length,w.bounds=[];for(var d=0;d<w.columns;d++)w.bounds[d]=i(c.data[d],1)}c.range&&(w.range=c.range,o=w.range&&"number"!=typeof w.range[0]),c.domain&&(w.domain=c.domain);var v=!1;null!=c.padding&&(Array.isArray(c.padding)&&c.padding.length===w.columns&&"number"==typeof c.padding[c.padding.length-1]?(w.padding=c.padding.map(a),v=!0):w.padding=a(c.padding));var M=w.columns,b=w.count,E=w.viewport.width,x=w.viewport.height,S=w.viewport.x,T=w.viewport.y,n=E/M,C=x/M;w.passes=[];for(var p=0;p<M;p++)for(var F=0;F<M;F++)if((w.diagonal||F!==p)&&(w.upper||!(p>F))&&(w.lower||!(p<F))){var D=e(w.id,p,F),N=this.passes[D]||(this.passes[D]={});if(c.data&&(N.positions=c.transpose?{x:{buffer:w.buffer,offset:F,count:b,stride:M},y:{buffer:w.buffer,offset:p,count:b,stride:M}}:{x:{buffer:w.buffer,offset:F*b,count:b},y:{buffer:w.buffer,offset:p*b,count:b}},N.bounds=s(w.bounds,p,F)),c.domain||c.viewport||c.data){var k=v?s(w.padding,p,F):w.padding;if(w.domain){var z=s(w.domain,p,F);N.viewport=[S+z[0]*E+k[0],T+z[1]*x+k[1],S+z[2]*E-k[2],T+z[3]*x-k[3]]}else N.viewport=[S+F*n+n*k[0],T+p*C+C*k[1],S+(F+1)*n-n*k[2],T+(p+1)*C-C*k[3]]}c.color&&(N.color=w.color),c.size&&(N.size=w.size),c.marker&&(N.marker=w.marker),c.borderSize&&(N.borderSize=w.borderSize),c.borderColor&&(N.borderColor=w.borderColor),c.opacity&&(N.opacity=w.opacity),c.range&&(N.range=o?s(w.range,p,F):w.range||N.bounds),w.passes.push(D)}return this},r.prototype.draw=function(){for(var h,f=[],u=arguments.length;u--;)f[u]=arguments[u];if(f.length){for(var g=[],c=0;c<f.length;c++)if("number"==typeof f[c]){var w=this.traces[f[c]],o=w.passOffset;g.push.apply(g,L(o,o+w.passes.length))}else if(f[c].length){var v=f[c],M=this.traces[c],b=M.passes,E=M.passOffset;b=b.map(function(x,S){g[E+S]=v})}(h=this.scatter).draw.apply(h,g)}else this.scatter.draw();return this},r.prototype.destroy=function(){return this.traces.forEach(function(h){h.buffer&&h.buffer.destroy&&h.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},28624:function(tt){var t;t=function(){function W(ce,Ue){this.id=st++,this.type=ce,this.data=Ue}function t(ce){if(0===ce.length)return[];var Ue=ce.charAt(0),Ye=ce.charAt(ce.length-1);if(1<ce.length&&Ue===Ye&&('"'===Ue||"'"===Ue))return['"'+ce.substr(1,ce.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Ue=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(ce))return t(ce.substr(0,Ue.index)).concat(t(Ue[1])).concat(t(ce.substr(Ue.index+Ue[0].length)));if(1===(Ue=ce.split(".")).length)return['"'+ce.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(ce=[],Ye=0;Ye<Ue.length;++Ye)ce=ce.concat(t(Ue[Ye]));return ce}function A(ce){return"["+t(ce).join("][")+"]"}function l(ce){return"string"==typeof ce?ce.split():ce}function m(ce){return"string"==typeof ce?document.querySelector(ce):ce}function r(ce){var Ye,gr,tr,he,Ue=ce||{};ce={};var ne=[],pe=[],be="undefined"==typeof window?1:window.devicePixelRatio,Se=!1,Me={},Ie=function(Ze){},Fe=function(){};if("string"==typeof Ue?Ye=document.querySelector(Ue):"object"==typeof Ue&&("string"==typeof Ue.nodeName&&"function"==typeof Ue.appendChild&&"function"==typeof Ue.getBoundingClientRect?Ye=Ue:"function"==typeof Ue.drawArrays||"function"==typeof Ue.drawElements?tr=(he=Ue).canvas:("gl"in Ue?he=Ue.gl:"canvas"in Ue?tr=m(Ue.canvas):"container"in Ue&&(gr=m(Ue.container)),"attributes"in Ue&&(ce=Ue.attributes),"extensions"in Ue&&(ne=l(Ue.extensions)),"optionalExtensions"in Ue&&(pe=l(Ue.optionalExtensions)),"onDone"in Ue&&(Ie=Ue.onDone),"profile"in Ue&&(Se=!!Ue.profile),"pixelRatio"in Ue&&(be=+Ue.pixelRatio),"cachedCode"in Ue&&(Me=Ue.cachedCode))),Ye&&("canvas"===Ye.nodeName.toLowerCase()?tr=Ye:gr=Ye),!he){if(!tr){if(!(Ye=function P(ce,Ue,Ye){function gr(){var ne=window.innerWidth,pe=window.innerHeight;ce!==document.body&&(ne=(pe=tr.getBoundingClientRect()).right-pe.left,pe=pe.bottom-pe.top),tr.width=Ye*ne,tr.height=Ye*pe}var he,tr=document.createElement("canvas");return _(tr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),ce.appendChild(tr),ce===document.body&&(tr.style.position="absolute",_(ce.style,{margin:0,padding:0})),ce!==document.body&&"function"==typeof ResizeObserver?(he=new ResizeObserver(function(){setTimeout(gr)})).observe(ce):window.addEventListener("resize",gr,!1),gr(),{canvas:tr,onDestroy:function(){he?he.disconnect():window.removeEventListener("resize",gr),ce.removeChild(tr)}}}(gr||document.body,0,be)))return null;tr=Ye.canvas,Fe=Ye.onDestroy}void 0===ce.premultipliedAlpha&&(ce.premultipliedAlpha=!0),he=function L(ce,Ue){function Ye(gr){try{return ce.getContext(gr,Ue)}catch(tr){return null}}return Ye("webgl")||Ye("experimental-webgl")||Ye("webgl-experimental")}(tr,ce)}return he?{gl:he,canvas:tr,container:gr,extensions:ne,optionalExtensions:pe,pixelRatio:be,profile:Se,cachedCode:Me,onDone:Ie,onDestroy:Fe}:(Fe(),Ie("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function s(ce,Ue){for(var Ye=Array(ce),gr=0;gr<ce;++gr)Ye[gr]=Ue(gr);return Ye}function a(ce){var Ue,Ye;return Ue=(65535<ce)<<4,Ue|=Ye=(255<(ce>>>=Ue))<<3,(Ue|=Ye=(15<(ce>>>=Ye))<<2)|(Ye=(3<(ce>>>=Ye))<<1)|ce>>>Ye>>1}function h(){function ce(gr){t:{for(var tr=16;268435456>=tr;tr*=16)if(gr<=tr){gr=tr;break t}gr=0}return 0<(tr=Ye[a(gr)>>2]).length?tr.pop():new ArrayBuffer(gr)}function Ue(gr){Ye[a(gr.byteLength)>>2].push(gr)}var Ye=s(8,function(){return[]});return{alloc:ce,free:Ue,allocType:function(gr,tr){var he=null;switch(gr){case 5120:he=new Int8Array(ce(tr),0,tr);break;case 5121:he=new Uint8Array(ce(tr),0,tr);break;case 5122:he=new Int16Array(ce(2*tr),0,tr);break;case 5123:he=new Uint16Array(ce(2*tr),0,tr);break;case 5124:he=new Int32Array(ce(4*tr),0,tr);break;case 5125:he=new Uint32Array(ce(4*tr),0,tr);break;case 5126:he=new Float32Array(ce(4*tr),0,tr);break;default:return null}return he.length!==tr?he.subarray(0,tr):he},freeType:function(gr){Ue(gr.buffer)}}}function f(ce){return!!ce&&"object"==typeof ce&&Array.isArray(ce.shape)&&Array.isArray(ce.stride)&&"number"==typeof ce.offset&&ce.shape.length===ce.stride.length&&(Array.isArray(ce.data)||Tt(ce.data))}function u(ce,Ue,Ye,gr,tr,he){for(var ne=0;ne<Ue;++ne)for(var pe=ce[ne],be=0;be<Ye;++be)for(var Se=pe[be],Me=0;Me<gr;++Me)tr[he++]=Se[Me]}function g(ce,Ue,Ye,gr,tr){for(var he=1,ne=Ye+1;ne<Ue.length;++ne)he*=Ue[ne];var pe=Ue[Ye];if(Ue.length-Ye==4){var be=Ue[Ye+1],Se=Ue[Ye+2];for(Ue=Ue[Ye+3],ne=0;ne<pe;++ne)u(ce[ne],be,Se,Ue,gr,tr),tr+=he}else for(ne=0;ne<pe;++ne)g(ce[ne],Ue,Ye+1,gr,tr),tr+=he}function c(ce){return 0|Nt[Object.prototype.toString.call(ce)]}function w(ce,Ue){for(var Ye=0;Ye<Ue.length;++Ye)ce[Ye]=Ue[Ye]}function d(ce,Ue,Ye,gr,tr,he,ne){for(var pe=0,be=0;be<Ye;++be)for(var Se=0;Se<gr;++Se)ce[pe++]=Ue[tr*be+he*Se+ne]}function M(ce){for(var Ue=St.allocType(5123,ce.length),Ye=0;Ye<ce.length;++Ye)if(isNaN(ce[Ye]))Ue[Ye]=65535;else if(ce[Ye]===1/0)Ue[Ye]=31744;else if(ce[Ye]===-1/0)Ue[Ye]=64512;else{Rt[0]=ce[Ye];var gr=(he=$t[0])>>>31<<15,tr=(he<<1>>>24)-127,he=he>>13&1023;Ue[Ye]=-24>tr?gr:-14>tr?gr+(he+1024>>-14-tr):15<tr?gr+31744:gr+(tr+15<<10)+he}return Ue}function b(ce){return Array.isArray(ce)||Tt(ce)}function E(ce){return"[object "+ce+"]"}function x(ce){return Array.isArray(ce)&&(0===ce.length||"number"==typeof ce[0])}function S(ce){return!(!Array.isArray(ce)||0===ce.length||!b(ce[0]))}function T(ce){return Object.prototype.toString.call(ce)}function n(ce){if(!ce)return!1;var Ue=T(ce);return 0<=Bt.indexOf(Ue)||x(ce)||S(ce)||f(ce)}function C(ce,Ue){36193===ce.type?(ce.data=M(Ue),St.freeType(Ue)):ce.data=Ue}function p(ce,Ue,Ye,gr,tr,he){if(ce=void 0!==kt[ce]?kt[ce]:ve[ce]*zt[Ue],he&&(ce*=6),tr){for(gr=0;1<=Ye;)gr+=ce*Ye*Ye,Ye/=2;return gr}return ce*Ye*gr}function N(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function B(ce,Ue,Ye,gr,tr,he,ne){function pe(Se){var Me;Me=null===Ue.next?5121:Ue.next.colorAttachments[0].texture._texture.type;var Ie=0,Fe=0,Ze=gr.framebufferWidth,nr=gr.framebufferHeight,ir=null;return Tt(Se)?ir=Se:Se&&(Ie=0|Se.x,Fe=0|Se.y,Ze=0|(Se.width||gr.framebufferWidth-Ie),nr=0|(Se.height||gr.framebufferHeight-Fe),ir=Se.data||null),Ye(),Se=Ze*nr*4,ir||(5121===Me?ir=new Uint8Array(Se):5126===Me&&(ir=ir||new Float32Array(Se))),ce.pixelStorei(3333,4),ce.readPixels(Ie,Fe,Ze,nr,6408,Me,ir),ir}return function(Se){return Se&&"framebuffer"in Se?function be(Se){var Me;return Ue.setFBO({framebuffer:Se.framebuffer},function(){Me=pe(Se)}),Me}(Se):pe(Se)}}function J(ce,Ue){return ce>>>Ue|ce<<32-Ue}function et(ce,Ue){var Ye=(65535&ce)+(65535&Ue);return(ce>>16)+(Ue>>16)+(Ye>>16)<<16|65535&Ye}function at(ce){return Array.prototype.slice.call(ce)}function lt(ce){return at(ce).join("")}function K(ce){function Ue(){var Me=[],Ie=[];return _(function(){Me.push.apply(Me,at(arguments))},{def:function(){var Fe="v"+tr++;return Ie.push(Fe),0<arguments.length&&(Me.push(Fe,"="),Me.push.apply(Me,at(arguments)),Me.push(";")),Fe},toString:function(){return lt([0<Ie.length?"var "+Ie.join(",")+";":"",lt(Me)])}})}function Ye(){function Me(ir,lr){Fe(ir,lr,"=",Ie.def(ir,lr),";")}var Ie=Ue(),Fe=Ue(),Ze=Ie.toString,nr=Fe.toString;return _(function(){Ie.apply(Ie,at(arguments))},{def:Ie.def,entry:Ie,exit:Fe,save:Me,set:function(ir,lr,Ot){Me(ir,lr),Ie(ir,lr,"=",Ot,";")},toString:function(){return Ze()+nr()}})}var gr=ce&&ce.cache,tr=0,he=[],ne=[],pe=[],be=Ue(),Se={};return{global:be,link:function(Me,Ie){var Fe=Ie&&Ie.stable;if(!Fe)for(var Ze=0;Ze<ne.length;++Ze)if(ne[Ze]===Me&&!pe[Ze])return he[Ze];return Ze="g"+tr++,he.push(Ze),ne.push(Me),pe.push(Fe),Ze},block:Ue,proc:function(Me,Ie){function Fe(){var lr="a"+Ze.length;return Ze.push(lr),lr}var Ze=[];Ie=Ie||0;for(var nr=0;nr<Ie;++nr)Fe();var ir=(nr=Ye()).toString;return Se[Me]=_(nr,{arg:Fe,toString:function(){return lt(["function(",Ze.join(),"){",ir(),"}"])}})},scope:Ye,cond:function(){var Me=lt(arguments),Ie=Ye(),Fe=Ye(),Ze=Ie.toString,nr=Fe.toString;return _(Ie,{then:function(){return Ie.apply(Ie,at(arguments)),this},else:function(){return Fe.apply(Fe,at(arguments)),this},toString:function(){var ir=nr();return ir&&(ir="else{"+ir+"}"),lt(["if(",Me,"){",Ze(),"}",ir])}})},compile:function(){var Me=['"use strict";',be,"return {"];Object.keys(Se).forEach(function(Ze){Me.push('"',Ze,'":',Se[Ze].toString(),",")}),Me.push("}");var Fe,Ie=lt(Me).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return gr&&(Fe=function U(ce){for(var Ye,Ue="",gr=0;gr<ce.length;gr++)Ye=ce.charCodeAt(gr),Ue+="0123456789abcdef".charAt(Ye>>>4&15)+"0123456789abcdef".charAt(15&Ye);return Ue}(function O(ce){for(var Ue=Array(ce.length>>2),gr=0;gr<Ue.length;gr++)Ue[gr]=0;for(gr=0;gr<8*ce.length;gr+=8)Ue[gr>>5]|=(255&ce.charCodeAt(gr/8))<<24-gr%32;var tr,he,ne,pe,be,Se,Me,Ie,Fe,Ze,nr,Ye=8*ce.length;for(ce=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],gr=Array(64),Ue[Ye>>5]|=128<<24-Ye%32,Ue[15+(Ye+64>>9<<4)]=Ye,Ie=0;Ie<Ue.length;Ie+=16){for(Ye=ce[0],tr=ce[1],he=ce[2],ne=ce[3],pe=ce[4],be=ce[5],Se=ce[6],Me=ce[7],Fe=0;64>Fe;Fe++){var ir;16>Fe?gr[Fe]=Ue[Fe+Ie]:(Ze=Fe,nr=et(nr=J(nr=gr[Fe-2],17)^J(nr,19)^nr>>>10,gr[Fe-7]),ir=J(ir=gr[Fe-15],7)^J(ir,18)^ir>>>3,gr[Ze]=et(et(nr,ir),gr[Fe-16])),Ze=et(et(et(et(Me,Ze=J(Ze=pe,6)^J(Ze,11)^J(Ze,25)),pe&be^~pe&Se),Qt[Fe]),gr[Fe]),nr=et(Me=J(Me=Ye,2)^J(Me,13)^J(Me,22),Ye&tr^Ye&he^tr&he),Me=Se,Se=be,be=pe,pe=et(ne,Ze),ne=he,he=tr,tr=Ye,Ye=et(Ze,nr)}ce[0]=et(Ye,ce[0]),ce[1]=et(tr,ce[1]),ce[2]=et(he,ce[2]),ce[3]=et(ne,ce[3]),ce[4]=et(pe,ce[4]),ce[5]=et(be,ce[5]),ce[6]=et(Se,ce[6]),ce[7]=et(Me,ce[7])}for(Ue="",gr=0;gr<32*ce.length;gr+=8)Ue+=String.fromCharCode(ce[gr>>5]>>>24-gr%32&255);return Ue}(function G(ce){for(var gr,tr,Ue="",Ye=-1;++Ye<ce.length;)gr=ce.charCodeAt(Ye),tr=Ye+1<ce.length?ce.charCodeAt(Ye+1):0,55296<=gr&&56319>=gr&&56320<=tr&&57343>=tr&&(gr=65536+((1023&gr)<<10)+(1023&tr),Ye++),127>=gr?Ue+=String.fromCharCode(gr):2047>=gr?Ue+=String.fromCharCode(192|gr>>>6&31,128|63&gr):65535>=gr?Ue+=String.fromCharCode(224|gr>>>12&15,128|gr>>>6&63,128|63&gr):2097151>=gr&&(Ue+=String.fromCharCode(240|gr>>>18&7,128|gr>>>12&63,128|gr>>>6&63,128|63&gr));return Ue}(Ie))),gr[Fe])?gr[Fe].apply(null,ne):(Ie=Function.apply(null,he.concat(Ie)),gr&&(gr[Fe]=Ie),Ie.apply(null,ne))}}}function j(ce){return Array.isArray(ce)||Tt(ce)||f(ce)}function rt(ce){return ce.sort(function(Ue,Ye){return"viewport"===Ue?-1:"viewport"===Ye?1:Ue<Ye?-1:1})}function H(ce,Ue,Ye,gr){this.thisDep=ce,this.contextDep=Ue,this.propDep=Ye,this.append=gr}function Z(ce){return ce&&!(ce.thisDep||ce.contextDep||ce.propDep)}function it(ce){return new H(!1,!1,!1,ce)}function Q(ce,Ue){var Ye=ce.type;if(0===Ye)return new H(!0,1<=(Ye=ce.data.length),2<=Ye,Ue);if(4===Ye)return new H((Ye=ce.data).thisDep,Ye.contextDep,Ye.propDep,Ue);if(5===Ye)return new H(!1,!1,!1,Ue);if(6===Ye){for(var gr=Ye=!1,tr=!1,he=0;he<ce.data.length;++he){var ne=ce.data[he];1===ne.type?tr=!0:2===ne.type?gr=!0:3===ne.type?Ye=!0:0===ne.type?(Ye=!0,1<=(ne=ne.data)&&(gr=!0),2<=ne&&(tr=!0)):4===ne.type&&(Ye=Ye||ne.data.thisDep,gr=gr||ne.data.contextDep,tr=tr||ne.data.propDep)}return new H(Ye,gr,tr,Ue)}return new H(3===Ye,2===Ye,1===Ye,Ue)}function Y(ce,Ue,Ye,gr,tr,he,ne,pe,be,Se,Me,Ie,Fe,Ze,nr,ir){function lr(Sr){return Sr.replace(".","_")}function Ot(Sr,Fr,Tr){var kr=lr(Sr);Sn.push(Sr),Fn[kr]=dn[kr]=!!Tr,En[kr]=Fr}function Ut(Sr,Fr,Tr){var kr=lr(Sr);Sn.push(Sr),Array.isArray(Tr)?(dn[kr]=Tr.slice(),Fn[kr]=Tr.slice()):dn[kr]=Fn[kr]=Tr,kn[kr]=Fr}function Ce(){var Sr=K({cache:nr}),Fr=Sr.link,Tr=Sr.global;Sr.id=Sa++,Sr.batchId="0";var kr=Fr(Hn),yn=Sr.shared={props:"a0"};Object.keys(Hn).forEach(function(Yr){yn[Yr]=Tr.def(kr,".",Yr)});var Cn=Sr.next={},hn=Sr.current={};Object.keys(kn).forEach(function(Yr){Array.isArray(dn[Yr])&&(Cn[Yr]=Tr.def(yn.next,".",Yr),hn[Yr]=Tr.def(yn.current,".",Yr))});var ln=Sr.constants={};Object.keys(ta).forEach(function(Yr){ln[Yr]=Tr.def(JSON.stringify(ta[Yr]))}),Sr.invoke=function(Yr,je){switch(je.type){case 0:var xr=["this",yn.context,yn.props,Sr.batchId];return Yr.def(Fr(je.data),".call(",xr.slice(0,Math.max(je.data.length+1,4)),")");case 1:return Yr.def(yn.props,je.data);case 2:return Yr.def(yn.context,je.data);case 3:return Yr.def("this",je.data);case 4:return je.data.append(Sr,Yr),je.data.ref;case 5:return je.data.toString();case 6:return je.data.map(function(Be){return Sr.invoke(Yr,Be)})}},Sr.attribCache={};var Er={};return Sr.scopeAttrib=function(Yr){if((Yr=Ue.id(Yr))in Er)return Er[Yr];var je=Se.scope[Yr];return je||(je=Se.scope[Yr]=new qn),Er[Yr]=Fr(je)},Sr}function $r(Sr,Fr,Tr,kr,yn){function Cn(Hr){var rn=ln[Hr];rn&&(Yr[Hr]=rn)}var hn=function fr(Sr,Fr){if("string"==typeof(Tr=Sr.static).frag&&"string"==typeof Tr.vert){if(0<Object.keys(Fr.dynamic).length)return null;var Tr=Fr.static,kr=Object.keys(Tr);if(0<kr.length&&"number"==typeof Tr[kr[0]]){for(var yn=[],Cn=0;Cn<kr.length;++Cn)yn.push([0|Tr[kr[Cn]],kr[Cn]]);return yn}}return null}(Sr,Fr),ln=function _e(Sr,Fr,Tr){function kr(ln){if(ln in yn){var Er=yn[ln];ln=!0;var xr,Be,Yr=0|Er.x,je=0|Er.y;return"width"in Er?xr=0|Er.width:ln=!1,"height"in Er?Be=0|Er.height:ln=!1,new H(!ln&&Fr&&Fr.thisDep,!ln&&Fr&&Fr.contextDep,!ln&&Fr&&Fr.propDep,function(vr,Hr){var rn=vr.shared.context,Zn=xr;"width"in Er||(Zn=Hr.def(rn,".","framebufferWidth","-",Yr));var $n=Be;return"height"in Er||($n=Hr.def(rn,".","framebufferHeight","-",je)),[Yr,je,Zn,$n]})}if(ln in Cn){var Ve=Cn[ln];return ln=Q(Ve,function(vr,Hr){var Ta=vr.invoke(Hr,Ve),rn=vr.shared.context,Zn=Hr.def(Ta,".x|0"),$n=Hr.def(Ta,".y|0");return[Zn,$n,Hr.def('"width" in ',Ta,"?",Ta,".width|0:","(",rn,".","framebufferWidth","-",Zn,")"),Ta=Hr.def('"height" in ',Ta,"?",Ta,".height|0:","(",rn,".","framebufferHeight","-",$n,")")]}),Fr&&(ln.thisDep=ln.thisDep||Fr.thisDep,ln.contextDep=ln.contextDep||Fr.contextDep,ln.propDep=ln.propDep||Fr.propDep),ln}return Fr?new H(Fr.thisDep,Fr.contextDep,Fr.propDep,function(vr,Hr){var rn=vr.shared.context;return[0,0,Hr.def(rn,".","framebufferWidth"),Hr.def(rn,".","framebufferHeight")]}):null}var yn=Sr.static,Cn=Sr.dynamic;if(Sr=kr("viewport")){var hn=Sr;Sr=new H(Sr.thisDep,Sr.contextDep,Sr.propDep,function(ln,Er){var Yr=hn.append(ln,Er),je=ln.shared.context;return Er.set(je,".viewportWidth",Yr[2]),Er.set(je,".viewportHeight",Yr[3]),Yr})}return{viewport:Sr,scissor_box:kr("scissor.box")}}(Sr,Be=function Xe(Sr,Fr){var Tr=Sr.static,kr=Sr.dynamic;if("framebuffer"in Tr){var yn=Tr.framebuffer;return yn?(yn=pe.getFramebuffer(yn),it(function(hn,ln){var Er=hn.link(yn),Yr=hn.shared;return ln.set(Yr.framebuffer,".next",Er),ln.set(Yr=Yr.context,".framebufferWidth",Er+".width"),ln.set(Yr,".framebufferHeight",Er+".height"),Er})):it(function(hn,ln){var Er=hn.shared;return ln.set(Er.framebuffer,".next","null"),ln.set(Er=Er.context,".framebufferWidth",Er+".drawingBufferWidth"),ln.set(Er,".framebufferHeight",Er+".drawingBufferHeight"),"null"})}if("framebuffer"in kr){var Cn=kr.framebuffer;return Q(Cn,function(hn,ln){var je=hn.invoke(ln,Cn),Er=hn.shared,Yr=Er.framebuffer;return je=ln.def(Yr,".getFramebuffer(",je,")"),ln.set(Yr,".next",je),ln.set(Er=Er.context,".framebufferWidth",je+"?"+je+".width:"+Er+".drawingBufferWidth"),ln.set(Er,".framebufferHeight",je+"?"+je+".height:"+Er+".drawingBufferHeight"),je})}return null}(Sr)),Er=function Re(Sr,Fr){function Tr(vr,Hr){if(vr in kr){var rn=0|kr[vr];return Hr?Cn.offset=rn:Cn.instances=rn,it(function($n,na){return Hr&&($n.OFFSET=rn),rn})}if(vr in yn){var Zn=yn[vr];return Q(Zn,function($n,na){var Ta=$n.invoke(na,Zn);return Hr&&($n.OFFSET=Ta),Ta})}if(Hr){if(Er)return it(function($n,na){return $n.OFFSET=0});if(hn)return new H(ln.thisDep,ln.contextDep,ln.propDep,function($n,na){return na.def($n.shared.vao+".currentVAO?"+$n.shared.vao+".currentVAO.offset:0")})}else if(hn)return new H(ln.thisDep,ln.contextDep,ln.propDep,function($n,na){return na.def($n.shared.vao+".currentVAO?"+$n.shared.vao+".currentVAO.instances:-1")});return null}var kr=Sr.static,yn=Sr.dynamic,Cn={},hn=!1,ln=function(){if("vao"in kr){var vr=kr.vao;return null!==vr&&null===Se.getVAO(vr)&&(vr=Se.createVAO(vr)),hn=!0,Cn.vao=vr,it(function(rn){var Zn=Se.getVAO(vr);return Zn?rn.link(Zn):"null"})}if("vao"in yn){hn=!0;var Hr=yn.vao;return Q(Hr,function(rn,Zn){var $n=rn.invoke(Zn,Hr);return Zn.def(rn.shared.vao+".getVAO("+$n+")")})}return null}(),Er=!1,Yr=function(){if("elements"in kr){if(Cn.elements=vr=kr.elements,j(vr)){var Hr=Cn.elements=he.create(vr,!0),vr=he.getElements(Hr);Er=!0}else vr&&(vr=he.getElements(vr),Er=!0);return(Hr=it(function(Zn,$n){if(vr){var na=Zn.link(vr);return Zn.ELEMENTS=na}return Zn.ELEMENTS=null})).value=vr,Hr}if("elements"in yn){Er=!0;var rn=yn.elements;return Q(rn,function(Zn,$n){var ni=(na=Zn.shared).isBufferArgs,na=na.elements,ei=Zn.invoke($n,rn),Ta=$n.def("null");return ni=$n.def(ni,"(",ei,")"),ei=Zn.cond(ni).then(Ta,"=",na,".createStream(",ei,");").else(Ta,"=",na,".getElements(",ei,");"),$n.entry(ei),$n.exit(Zn.cond(ni).then(na,".destroyStream(",Ta,");")),Zn.ELEMENTS=Ta})}return hn?new H(ln.thisDep,ln.contextDep,ln.propDep,function(Zn,$n){return $n.def(Zn.shared.vao+".currentVAO?"+Zn.shared.elements+".getElements("+Zn.shared.vao+".currentVAO.elements):null")}):null}(),je=Tr("offset",!0),xr=function(){if("primitive"in kr){var vr=kr.primitive;return Cn.primitive=vr,it(function(rn,Zn){return It[vr]})}if("primitive"in yn){var Hr=yn.primitive;return Q(Hr,function(rn,Zn){var $n=rn.constants.primTypes,na=rn.invoke(Zn,Hr);return Zn.def($n,"[",na,"]")})}return Er?Z(Yr)?it(Yr.value?function(rn,Zn){return Zn.def(rn.ELEMENTS,".primType")}:function(){return 4}):new H(Yr.thisDep,Yr.contextDep,Yr.propDep,function(rn,Zn){var $n=rn.ELEMENTS;return Zn.def($n,"?",$n,".primType:",4)}):hn?new H(ln.thisDep,ln.contextDep,ln.propDep,function(rn,Zn){return Zn.def(rn.shared.vao+".currentVAO?"+rn.shared.vao+".currentVAO.primitive:4")}):null}(),Be=function(){if("count"in kr){var vr=0|kr.count;return Cn.count=vr,it(function(){return vr})}if("count"in yn){var Hr=yn.count;return Q(Hr,function(rn,Zn){return rn.invoke(Zn,Hr)})}return Er?Z(Yr)?Yr?je?new H(je.thisDep,je.contextDep,je.propDep,function(rn,Zn){return Zn.def(rn.ELEMENTS,".vertCount-",rn.OFFSET)}):it(function(rn,Zn){return Zn.def(rn.ELEMENTS,".vertCount")}):it(function(){return-1}):new H(Yr.thisDep||je.thisDep,Yr.contextDep||je.contextDep,Yr.propDep||je.propDep,function(rn,Zn){var $n=rn.ELEMENTS;return rn.OFFSET?Zn.def($n,"?",$n,".vertCount-",rn.OFFSET,":-1"):Zn.def($n,"?",$n,".vertCount:-1")}):hn?new H(ln.thisDep,ln.contextDep,ln.propDep,function(rn,Zn){return Zn.def(rn.shared.vao,".currentVAO?",rn.shared.vao,".currentVAO.count:-1")}):null}(),Ve=Tr("instances",!1);return{elements:Yr,primitive:xr,count:Be,instances:Ve,offset:je,vao:ln,vaoActive:hn,elementsActive:Er,static:Cn}}(Sr),Yr=function or(Sr,Fr){var Tr=Sr.static,kr=Sr.dynamic,yn={};return Sn.forEach(function(Cn){function hn(Er,Yr){if(Cn in Tr){var je=Er(Tr[Cn]);yn[ln]=it(function(){return je})}else if(Cn in kr){var xr=kr[Cn];yn[ln]=Q(xr,function(Be,Ve){return Yr(Be,Ve,Be.invoke(Ve,xr))})}}var ln=lr(Cn);switch(Cn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return hn(function(Er){return Er},function(Er,Yr,je){return je});case"depth.func":return hn(function(Er){return We[Er]},function(Er,Yr,je){return Yr.def(Er.constants.compareFuncs,"[",je,"]")});case"depth.range":return hn(function(Er){return Er},function(Er,Yr,je){return[Yr.def("+",je,"[0]"),Yr=Yr.def("+",je,"[1]")]});case"blend.func":return hn(function(Er){return[Ne["srcRGB"in Er?Er.srcRGB:Er.src],Ne["dstRGB"in Er?Er.dstRGB:Er.dst],Ne["srcAlpha"in Er?Er.srcAlpha:Er.src],Ne["dstAlpha"in Er?Er.dstAlpha:Er.dst]]},function(Er,Yr,je){function xr(Hr,rn){return Yr.def('"',Hr,rn,'" in ',je,"?",je,".",Hr,rn,":",je,".",Hr)}Er=Er.constants.blendFuncs;var Be=xr("src","RGB"),vr=xr("dst","RGB"),Ve=(Be=Yr.def(Er,"[",Be,"]"),Yr.def(Er,"[",xr("src","Alpha"),"]"));return[Be,vr=Yr.def(Er,"[",vr,"]"),Ve,Er=Yr.def(Er,"[",xr("dst","Alpha"),"]")]});case"blend.equation":return hn(function(Er){return"string"==typeof Er?[Qn[Er],Qn[Er]]:"object"==typeof Er?[Qn[Er.rgb],Qn[Er.alpha]]:void 0},function(Er,Yr,je){var xr=Er.constants.blendEquations,Be=Yr.def(),Ve=Yr.def();return(Er=Er.cond("typeof ",je,'==="string"')).then(Be,"=",Ve,"=",xr,"[",je,"];"),Er.else(Be,"=",xr,"[",je,".rgb];",Ve,"=",xr,"[",je,".alpha];"),Yr(Er),[Be,Ve]});case"blend.color":return hn(function(Er){return s(4,function(Yr){return+Er[Yr]})},function(Er,Yr,je){return s(4,function(xr){return Yr.def("+",je,"[",xr,"]")})});case"stencil.mask":return hn(function(Er){return 0|Er},function(Er,Yr,je){return Yr.def(je,"|0")});case"stencil.func":return hn(function(Er){return[We[Er.cmp||"keep"],Er.ref||0,"mask"in Er?Er.mask:-1]},function(Er,Yr,je){return[Er=Yr.def('"cmp" in ',je,"?",Er.constants.compareFuncs,"[",je,".cmp]",":",7680),Yr.def(je,".ref|0"),Yr=Yr.def('"mask" in ',je,"?",je,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return hn(function(Er){return["stencil.opBack"===Cn?1029:1028,ye[Er.fail||"keep"],ye[Er.zfail||"keep"],ye[Er.zpass||"keep"]]},function(Er,Yr,je){function xr(Ve){return Yr.def('"',Ve,'" in ',je,"?",Be,"[",je,".",Ve,"]:",7680)}var Be=Er.constants.stencilOps;return["stencil.opBack"===Cn?1029:1028,xr("fail"),xr("zfail"),xr("zpass")]});case"polygonOffset.offset":return hn(function(Er){return[0|Er.factor,0|Er.units]},function(Er,Yr,je){return[Yr.def(je,".factor|0"),Yr=Yr.def(je,".units|0")]});case"cull.face":return hn(function(Er){var Yr=0;return"front"===Er?Yr=1028:"back"===Er&&(Yr=1029),Yr},function(Er,Yr,je){return Yr.def(je,'==="front"?',1028,":",1029)});case"frontFace":return hn(function(Er){return Te[Er]},function(Er,Yr,je){return Yr.def(je+'==="cw"?2304:2305')});case"colorMask":return hn(function(Er){return Er.map(function(Yr){return!!Yr})},function(Er,Yr,je){return s(4,function(xr){return"!!"+je+"["+xr+"]"})});case"sample.coverage":return hn(function(Er){return["value"in Er?Er.value:1,!!Er.invert]},function(Er,Yr,je){return[Yr.def('"value" in ',je,"?+",je,".value:1"),Yr=Yr.def("!!",je,".invert")]})}}),yn}(Sr),je=function $e(Sr,Fr,Tr){function kr(Yr){if(Yr in yn){var je=Ue.id(yn[Yr]);return(Yr=it(function(){return je})).id=je,Yr}if(Yr in Cn){var xr=Cn[Yr];return Q(xr,function(Be,Ve){var vr=Be.invoke(Ve,xr);return Ve.def(Be.shared.strings,".id(",vr,")")})}return null}var yn=Sr.static,Cn=Sr.dynamic,hn=kr("frag"),ln=kr("vert"),Er=null;return Z(hn)&&Z(ln)?(Er=Me.program(ln.id,hn.id,null,Tr),Sr=it(function(Yr,je){return Yr.link(Er)})):Sr=new H(hn&&hn.thisDep||ln&&ln.thisDep,hn&&hn.contextDep||ln&&ln.contextDep,hn&&hn.propDep||ln&&ln.propDep,function(Yr,je){var Be,Ve,xr=Yr.shared.shader;return Be=hn?hn.append(Yr,je):je.def(xr,".","frag"),Ve=ln?ln.append(Yr,je):je.def(xr,".","vert"),je.def(xr+".program("+Ve+","+Be+")")}),{frag:hn,vert:ln,progVar:Sr,program:Er}}(Sr,0,hn);Cn("viewport"),Cn(lr("scissor.box"));var Be,xr=0<Object.keys(Yr).length;if((Be={framebuffer:Be,draw:Er,shader:je,state:Yr,dirty:xr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function Le(Sr){var Tr,Fr=Sr.static;if(Sr=Sr.dynamic,"profile"in Fr){var kr=!!Fr.profile;(Tr=it(function(Cn,hn){return kr})).enable=kr}else if("profile"in Sr){var yn=Sr.profile;Tr=Q(yn,function(Cn,hn){return Cn.invoke(hn,yn)})}return Tr}(Sr),Be.uniforms=function dr(Sr,Fr){var Tr=Sr.static,kr=Sr.dynamic,yn={};return Object.keys(Tr).forEach(function(Cn){var ln,hn=Tr[Cn];if("number"==typeof hn||"boolean"==typeof hn)ln=it(function(){return hn});else if("function"==typeof hn){var Er=hn._reglType;"texture2d"===Er||"textureCube"===Er?ln=it(function(Yr){return Yr.link(hn)}):("framebuffer"===Er||"framebufferCube"===Er)&&(ln=it(function(Yr){return Yr.link(hn.color[0])}))}else b(hn)&&(ln=it(function(Yr){return Yr.global.def("[",s(hn.length,function(je){return hn[je]}),"]")}));ln.value=hn,yn[Cn]=ln}),Object.keys(kr).forEach(function(Cn){var hn=kr[Cn];yn[Cn]=Q(hn,function(ln,Er){return ln.invoke(Er,hn)})}),yn}(Tr),Be.drawVAO=Be.scopeVAO=Er.vao,!Be.drawVAO&&je.program&&!hn&&Ye.angle_instanced_arrays&&Er.static.elements){var Ve=!0;if(Sr=je.program.attributes.map(function(Hr){return Hr=Fr.static[Hr],Ve=Ve&&!!Hr,Hr}),Ve&&0<Sr.length){var vr=Se.getVAO(Se.createVAO({attributes:Sr,elements:Er.static.elements}));Be.drawVAO=new H(null,null,null,function(Hr,rn){return Hr.link(vr)}),Be.useVAO=!0}}return hn?Be.useVAO=!0:Be.attributes=function pr(Sr,Fr){var Tr=Sr.static,kr=Sr.dynamic,yn={};return Object.keys(Tr).forEach(function(Cn){var hn=Tr[Cn],ln=Ue.id(Cn),Er=new qn;if(j(hn))Er.state=1,Er.buffer=tr.getBuffer(tr.create(hn,34962,!1,!0)),Er.type=0;else if(Yr=tr.getBuffer(hn))Er.state=1,Er.buffer=Yr,Er.type=0;else if("constant"in hn){var je=hn.constant;Er.buffer="null",Er.state=2,"number"==typeof je?Er.x=je:te.forEach(function(rn,Zn){Zn<je.length&&(Er[rn]=je[Zn])})}else{var Yr=j(hn.buffer)?tr.getBuffer(tr.create(hn.buffer,34962,!1,!0)):tr.getBuffer(hn.buffer),xr=0|hn.offset,Be=0|hn.stride,Ve=0|hn.size,vr=!!hn.normalized,Hr=0;"type"in hn&&(Hr=Gt[hn.type]),hn=0|hn.divisor,Er.buffer=Yr,Er.state=1,Er.size=Ve,Er.normalized=vr,Er.type=Hr||Yr.dtype,Er.offset=xr,Er.stride=Be,Er.divisor=hn}yn[Cn]=it(function(rn,Zn){var $n=rn.attribCache;if(ln in $n)return $n[ln];var na={isStream:!1};return Object.keys(Er).forEach(function(Ta){na[Ta]=Er[Ta]}),Er.buffer&&(na.buffer=rn.link(Er.buffer),na.type=na.type||na.buffer+".dtype"),$n[ln]=na})}),Object.keys(kr).forEach(function(Cn){var hn=kr[Cn];yn[Cn]=Q(hn,function(ln,Er){function Yr($n){Er(vr[$n],"=",je,".",$n,"|0;")}var je=ln.invoke(Er,hn),xr=ln.constants,Be=(Ve=ln.shared).isBufferArgs,Ve=Ve.buffer,vr={isStream:Er.def(!1)},Hr=new qn;Hr.state=1,Object.keys(Hr).forEach(function($n){vr[$n]=Er.def(""+Hr[$n])});var rn=vr.buffer,Zn=vr.type;return Er("if(",Be,"(",je,")){",vr.isStream,"=true;",rn,"=",Ve,".createStream(",34962,",",je,");",Zn,"=",rn,".dtype;","}else{",rn,"=",Ve,".getBuffer(",je,");","if(",rn,"){",Zn,"=",rn,".dtype;",'}else if("constant" in ',je,"){",vr.state,"=",2,";","if(typeof "+je+'.constant === "number"){',vr[te[0]],"=",je,".constant;",te.slice(1).map(function($n){return vr[$n]}).join("="),"=0;","}else{",te.map(function($n,na){return vr[$n]+"="+je+".constant.length>"+na+"?"+je+".constant["+na+"]:0;"}).join(""),"}}else{","if(",Be,"(",je,".buffer)){",rn,"=",Ve,".createStream(",34962,",",je,".buffer);","}else{",rn,"=",Ve,".getBuffer(",je,".buffer);","}",Zn,'="type" in ',je,"?",xr.glTypes,"[",je,".type]:",rn,".dtype;",vr.normalized,"=!!",je,".normalized;"),Yr("size"),Yr("offset"),Yr("stride"),Yr("divisor"),Er("}}"),Er.exit("if(",vr.isStream,"){",Ve,".destroyStream(",rn,");","}"),vr})}),yn}(Fr),Be.context=function Cr(Sr){var Fr=Sr.static,Tr=Sr.dynamic,kr={};return Object.keys(Fr).forEach(function(yn){var Cn=Fr[yn];kr[yn]=it(function(hn,ln){return"number"==typeof Cn||"boolean"==typeof Cn?""+Cn:hn.link(Cn)})}),Object.keys(Tr).forEach(function(yn){var Cn=Tr[yn];kr[yn]=Q(Cn,function(hn,ln){return hn.invoke(ln,Cn)})}),kr}(kr),Be}function Ar(Sr,Fr,Tr){var kr=Sr.shared.context,yn=Sr.scope();Object.keys(Tr).forEach(function(Cn){Fr.save(kr,"."+Cn);var hn=Tr[Cn].append(Sr,Fr);Array.isArray(hn)?yn(kr,".",Cn,"=[",hn.join(),"];"):yn(kr,".",Cn,"=",hn,";")}),Fr(yn)}function Gr(Sr,Fr,Tr,kr){var hn,yn=(ln=Sr.shared).gl,Cn=ln.framebuffer;tn&&(hn=Fr.def(ln.extensions,".webgl_draw_buffers"));var ln=(Er=Sr.constants).drawBuffer,Er=Er.backBuffer;Sr=Tr?Tr.append(Sr,Fr):Fr.def(Cn,".next"),kr||Fr("if(",Sr,"!==",Cn,".cur){"),Fr("if(",Sr,"){",yn,".bindFramebuffer(",36160,",",Sr,".framebuffer);"),tn&&Fr(hn,".drawBuffersWEBGL(",ln,"[",Sr,".colorAttachments.length]);"),Fr("}else{",yn,".bindFramebuffer(",36160,",null);"),tn&&Fr(hn,".drawBuffersWEBGL(",Er,");"),Fr("}",Cn,".cur=",Sr,";"),kr||Fr("}")}function nn(Sr,Fr,Tr){var kr=Sr.shared,yn=kr.gl,Cn=Sr.current,hn=Sr.next,ln=kr.current,Er=kr.next,Yr=Sr.cond(ln,".dirty");Sn.forEach(function(je){var xr,Be;if(!((je=lr(je))in Tr.state))if(je in hn){xr=hn[je],Be=Cn[je];var Ve=s(dn[je].length,function(vr){return Yr.def(xr,"[",vr,"]")});Yr(Sr.cond(Ve.map(function(vr,Hr){return vr+"!=="+Be+"["+Hr+"]"}).join("||")).then(yn,".",kn[je],"(",Ve,");",Ve.map(function(vr,Hr){return Be+"["+Hr+"]="+vr}).join(";"),";"))}else xr=Yr.def(Er,".",je),Ve=Sr.cond(xr,"!==",ln,".",je),Yr(Ve),je in En?Ve(Sr.cond(xr).then(yn,".enable(",En[je],");").else(yn,".disable(",En[je],");"),ln,".",je,"=",xr,";"):Ve(yn,".",kn[je],"(",xr,");",ln,".",je,"=",xr,";")}),0===Object.keys(Tr.state).length&&Yr(ln,".dirty=false;"),Fr(Yr)}function Ur(Sr,Fr,Tr,kr){var Er,yn=Sr.shared,Cn=Sr.current,hn=yn.current,ln=yn.gl;rt(Object.keys(Tr)).forEach(function(Yr){var je=Tr[Yr];if(!kr||kr(je)){var xr=je.append(Sr,Fr);if(En[Yr]){var Be=En[Yr];Z(je)?(Er=Sr.link(xr,{stable:!0}),Fr(Sr.cond(Er).then(ln,".enable(",Be,");").else(ln,".disable(",Be,");")),Fr(hn,".",Yr,"=",Er,";")):(Fr(Sr.cond(xr).then(ln,".enable(",Be,");").else(ln,".disable(",Be,");")),Fr(hn,".",Yr,"=",xr,";"))}else if(b(xr)){var Ve=Cn[Yr];Fr(ln,".",kn[Yr],"(",xr,");",xr.map(function(vr,Hr){return Ve+"["+Hr+"]="+vr}).join(";"),";")}else Z(je)?(Er=Sr.link(xr,{stable:!0}),Fr(ln,".",kn[Yr],"(",Er,");",hn,".",Yr,"=",Er,";")):Fr(ln,".",kn[Yr],"(",xr,");",hn,".",Yr,"=",xr,";")}})}function Tn(Sr,Fr){yr&&(Sr.instancing=Fr.def(Sr.shared.extensions,".angle_instanced_arrays"))}function bn(Sr,Fr,Tr,kr,yn){function Cn(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function hn(Hr){Hr(Ve=Fr.def(),"=",Cn(),";"),"string"==typeof yn?Hr(je,".count+=",yn,";"):Hr(je,".count++;"),Ze&&(kr?Hr(vr=Fr.def(),"=",Be,".getNumPendingQueries();"):Hr(Be,".beginQuery(",je,");"))}function ln(Hr){Hr(je,".cpuTime+=",Cn(),"-",Ve,";"),Ze&&(kr?Hr(Be,".pushScopeStats(",vr,",",Be,".getNumPendingQueries(),",je,");"):Hr(Be,".endQuery();"))}function Er(Hr){var rn=Fr.def(xr,".profile");Fr(xr,".profile=",Hr,";"),Fr.exit(xr,".profile=",rn,";")}var Ve,vr,Yr=Sr.shared,je=Sr.stats,xr=Yr.current,Be=Yr.timer;if(Tr=Tr.profile){if(Z(Tr))return void(Tr.enable?(hn(Fr),ln(Fr.exit),Er("true")):Er("false"));Er(Tr=Tr.append(Sr,Fr))}else Tr=Fr.def(xr,".profile");hn(Yr=Sr.block()),Fr("if(",Tr,"){",Yr,"}"),ln(Sr=Sr.block()),Fr.exit("if(",Tr,"){",Sr,"}")}function ur(Sr,Fr,Tr,kr,yn){var ln=Sr.shared;kr.forEach(function(Er){var xr,Yr=Er.name,je=Tr.attributes[Yr];if(je){if(!yn(je))return;xr=je.append(Sr,Fr)}else{if(!yn(Ge))return;var Be=Sr.scopeAttrib(Yr);xr={},Object.keys(new qn).forEach(function(Ve){xr[Ve]=Fr.def(Be,".",Ve)})}!function hn(Er,Yr,je){function xr(){Fr("if(!",Hr,".buffer){",Ve,".enableVertexAttribArray(",vr,");}");var Ta,na=je.type;Ta=je.size?Fr.def(je.size,"||",Yr):Yr,Fr("if(",Hr,".type!==",na,"||",Hr,".size!==",Ta,"||",$n.map(function(ni){return Hr+"."+ni+"!=="+je[ni]}).join("||"),"){",Ve,".bindBuffer(",34962,",",rn,".buffer);",Ve,".vertexAttribPointer(",[vr,Ta,na,je.normalized,je.stride,je.offset],");",Hr,".type=",na,";",Hr,".size=",Ta,";",$n.map(function(ni){return Hr+"."+ni+"="+je[ni]+";"}).join(""),"}"),yr&&Fr("if(",Hr,".divisor!==",na=je.divisor,"){",Sr.instancing,".vertexAttribDivisorANGLE(",[vr,na],");",Hr,".divisor=",na,";}")}function Be(){Fr("if(",Hr,".buffer){",Ve,".disableVertexAttribArray(",vr,");",Hr,".buffer=null;","}if(",te.map(function(na,Ta){return Hr+"."+na+"!=="+Zn[Ta]}).join("||"),"){",Ve,".vertexAttrib4f(",vr,",",Zn,");",te.map(function(na,Ta){return Hr+"."+na+"="+Zn[Ta]+";"}).join(""),"}")}var Ve=ln.gl,vr=Fr.def(Er,".location"),Hr=Fr.def(ln.attributes,"[",vr,"]"),rn=je.buffer,Zn=[je.x,je.y,je.z,je.w],$n=["buffer","normalized","offset","stride"];1===(Er=je.state)?xr():2===Er?Be():(Fr("if(",Er,"===",1,"){"),xr(),Fr("}else{"),Be(),Fr("}"))}(Sr.link(Er),function Cn(Er){switch(Er){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Er.info.type),xr)})}function Mr(Sr,Fr,Tr,kr,yn,Cn){for(var Er,hn=Sr.shared,ln=hn.gl,Yr=0;Yr<kr.length;++Yr){var vr,je=(Ve=kr[Yr]).name,xr=Ve.info.type,Be=Tr.uniforms[je],Ve=Sr.link(Ve)+".location";if(Be){if(!yn(Be))continue;if(Z(Be)){if(je=Be.value,35678===xr||35680===xr)Fr(ln,".uniform1i(",Ve,",",(xr=Sr.link(je._texture||je.color[0]._texture))+".bind());"),Fr.exit(xr,".unbind();");else if(35674===xr||35675===xr||35676===xr)Be=2,35675===xr?Be=3:35676===xr&&(Be=4),Fr(ln,".uniformMatrix",Be,"fv(",Ve,",false,",je=Sr.global.def("new Float32Array(["+Array.prototype.slice.call(je)+"])"),");");else{switch(xr){case 5126:Er="1f";break;case 35664:Er="2f";break;case 35665:Er="3f";break;case 35666:Er="4f";break;case 35670:case 5124:Er="1i";break;case 35671:case 35667:Er="2i";break;case 35672:case 35668:Er="3i";break;case 35673:case 35669:Er="4i"}Fr(ln,".uniform",Er,"(",Ve,",",b(je)?Array.prototype.slice.call(je):je,");")}continue}vr=Be.append(Sr,Fr)}else{if(!yn(Ge))continue;vr=Fr.def(hn.uniforms,"[",Ue.id(je),"]")}switch(35678===xr?Fr("if(",vr,"&&",vr,'._reglType==="framebuffer"){',vr,"=",vr,".color[0];","}"):35680===xr&&Fr("if(",vr,"&&",vr,'._reglType==="framebufferCube"){',vr,"=",vr,".color[0];","}"),je=1,xr){case 35678:case 35680:xr=Fr.def(vr,"._texture"),Fr(ln,".uniform1i(",Ve,",",xr,".bind());"),Fr.exit(xr,".unbind();");continue;case 5124:case 35670:Er="1i";break;case 35667:case 35671:Er="2i",je=2;break;case 35668:case 35672:Er="3i",je=3;break;case 35669:case 35673:Er="4i",je=4;break;case 5126:Er="1f";break;case 35664:Er="2f",je=2;break;case 35665:Er="3f",je=3;break;case 35666:Er="4f",je=4;break;case 35674:Er="Matrix2fv";break;case 35675:Er="Matrix3fv";break;case 35676:Er="Matrix4fv"}if("M"===Er.charAt(0)){Fr(ln,".uniform",Er,"(",Ve,","),Ve=Math.pow(xr-35674+2,2);var Hr=Sr.global.def("new Float32Array(",Ve,")");Array.isArray(vr)?Fr("false,(",s(Ve,function($n){return Hr+"["+$n+"]="+vr[$n]}),",",Hr,")"):Fr("false,(Array.isArray(",vr,")||",vr," instanceof Float32Array)?",vr,":(",s(Ve,function($n){return Hr+"["+$n+"]="+vr+"["+$n+"]"}),",",Hr,")"),Fr(");")}else{if(1<je){xr=[];var rn=[];for(Be=0;Be<je;++Be)Array.isArray(vr)?rn.push(vr[Be]):rn.push(Fr.def(vr+"["+Be+"]")),Cn&&xr.push(Fr.def());Cn&&Fr("if(!",Sr.batchId,"||",xr.map(function(Zn,$n){return Zn+"!=="+rn[$n]}).join("||"),"){",xr.map(function(Zn,$n){return Zn+"="+rn[$n]+";"}).join("")),Fr(ln,".uniform",Er,"(",Ve,",",rn.join(","),");")}else Cn&&(xr=Fr.def(),Fr("if(!",Sr.batchId,"||",xr,"!==",vr,"){",xr,"=",vr,";")),Fr(ln,".uniform",Er,"(",Ve,",",vr,");");Cn&&Fr("}")}}}function Br(Sr,Fr,Tr,kr){function yn(na){var Ta=je[na];return Ta?Ta.append(Sr,Ta.contextDep&&kr.contextDynamic||Ta.propDep?Tr:Fr):Fr.def(Yr,".",na)}function Cn(){function na(){Tr(rn,".drawElementsInstancedANGLE(",[Be,vr,Zn,Ve+"<<(("+Zn+"-5121)>>1)",Hr],");")}function Ta(){Tr(rn,".drawArraysInstancedANGLE(",[Be,Ve,vr,Hr],");")}xr&&"null"!==xr?$n?na():(Tr("if(",xr,"){"),na(),Tr("}else{"),Ta(),Tr("}")):Ta()}function hn(){function na(){Tr(Er+".drawElements("+[Be,vr,Zn,Ve+"<<(("+Zn+"-5121)>>1)"]+");")}function Ta(){Tr(Er+".drawArrays("+[Be,Ve,vr]+");")}xr&&"null"!==xr?$n?na():(Tr("if(",xr,"){"),na(),Tr("}else{"),Ta(),Tr("}")):Ta()}var na,Ta,Hr,rn,ln=Sr.shared,Er=ln.gl,Yr=ln.draw,je=kr.draw,xr=(Ta=Fr,(na=je.elements)?((na.contextDep&&kr.contextDynamic||na.propDep)&&(Ta=Tr),na=na.append(Sr,Ta),je.elementsActive&&Ta("if("+na+")"+Er+".bindBuffer(34963,"+na+".buffer.buffer);")):(na=Ta.def(),Ta(na,"=",Yr,".","elements",";","if(",na,"){",Er,".bindBuffer(",34963,",",na,".buffer.buffer);}","else if(",ln.vao,".currentVAO){",na,"=",Sr.shared.elements+".getElements("+ln.vao,".currentVAO.elements);",Qr?"":"if("+na+")"+Er+".bindBuffer(34963,"+na+".buffer.buffer);","}")),na),Be=yn("primitive"),Ve=yn("offset"),vr=function(){var na=je.count,Ta=Fr;return na?((na.contextDep&&kr.contextDynamic||na.propDep)&&(Ta=Tr),na=na.append(Sr,Ta)):na=Ta.def(Yr,".","count"),na}();if("number"==typeof vr){if(0===vr)return}else Tr("if(",vr,"){"),Tr.exit("}");yr&&(Hr=yn("instances"),rn=Sr.instancing);var Zn=xr+".type",$n=je.elements&&Z(je.elements)&&!je.vaoActive;yr&&("number"!=typeof Hr||0<=Hr)?"string"==typeof Hr?(Tr("if(",Hr,">0){"),Cn(),Tr("}else if(",Hr,"<0){"),hn(),Tr("}")):Cn():hn()}function Or(Sr,Fr,Tr,kr,yn){return yn=(Fr=Ce()).proc("body",yn),yr&&(Fr.instancing=yn.def(Fr.shared.extensions,".angle_instanced_arrays")),Sr(Fr,yn,Tr,kr),Fr.compile().body}function sn(Sr,Fr,Tr,kr){Tn(Sr,Fr),Tr.useVAO?Tr.drawVAO?Fr(Sr.shared.vao,".setVAO(",Tr.drawVAO.append(Sr,Fr),");"):Fr(Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"):(Fr(Sr.shared.vao,".setVAO(null);"),ur(Sr,Fr,Tr,kr.attributes,function(){return!0})),Mr(Sr,Fr,Tr,kr.uniforms,function(){return!0},!1),Br(Sr,Fr,Fr,Tr)}function gn(Sr,Fr,Tr,kr){function yn(){return!0}Sr.batchId="a1",Tn(Sr,Fr),ur(Sr,Fr,Tr,kr.attributes,yn),Mr(Sr,Fr,Tr,kr.uniforms,yn,!1),Br(Sr,Fr,Fr,Tr)}function wn(Sr,Fr,Tr,kr){function yn(xr){return xr.contextDep&&hn||xr.propDep}function Cn(xr){return!yn(xr)}Tn(Sr,Fr);var hn=Tr.contextDep,ln=Fr.def(),Er=Fr.def();Sr.shared.props=Er,Sr.batchId=ln;var Yr=Sr.scope(),je=Sr.scope();Fr(Yr.entry,"for(",ln,"=0;",ln,"<","a1",";++",ln,"){",Er,"=","a0","[",ln,"];",je,"}",Yr.exit),Tr.needsContext&&Ar(Sr,je,Tr.context),Tr.needsFramebuffer&&Gr(Sr,je,Tr.framebuffer),Ur(Sr,je,Tr.state,yn),Tr.profile&&yn(Tr.profile)&&bn(Sr,je,Tr,!1,!0),kr?(Tr.useVAO?Tr.drawVAO?yn(Tr.drawVAO)?je(Sr.shared.vao,".setVAO(",Tr.drawVAO.append(Sr,je),");"):Yr(Sr.shared.vao,".setVAO(",Tr.drawVAO.append(Sr,Yr),");"):Yr(Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"):(Yr(Sr.shared.vao,".setVAO(null);"),ur(Sr,Yr,Tr,kr.attributes,Cn),ur(Sr,je,Tr,kr.attributes,yn)),Mr(Sr,Yr,Tr,kr.uniforms,Cn,!1),Mr(Sr,je,Tr,kr.uniforms,yn,!0),Br(Sr,Yr,je,Tr)):(Fr=Sr.global.def("{}"),kr=Tr.shader.progVar.append(Sr,je),Er=je.def(kr,".id"),Yr=je.def(Fr,"[",Er,"]"),je(Sr.shared.gl,".useProgram(",kr,".program);","if(!",Yr,"){",Yr,"=",Fr,"[",Er,"]=",Sr.link(function(xr){return Or(gn,Sr,Tr,xr,2)}),"(",kr,");}",Yr,".call(this,a0[",ln,"],",ln,");"))}function ua(Sr,Fr,Tr){var yn=Fr.static[Tr];if(yn&&function _n(Sr){if("object"==typeof Sr&&!b(Sr)){for(var Fr=Object.keys(Sr),Tr=0;Tr<Fr.length;++Tr)if(dt.isDynamic(Sr[Fr[Tr]]))return!0;return!1}}(yn)){var Cn=Sr.global,hn=Object.keys(yn),ln=!1,Er=!1,Yr=!1,je=Sr.global.def("{}");hn.forEach(function(xr){var Be=yn[xr];if(dt.isDynamic(Be))"function"==typeof Be&&(Be=yn[xr]=dt.unbox(Be)),xr=Q(Be,null),ln=ln||xr.thisDep,Yr=Yr||xr.propDep,Er=Er||xr.contextDep;else{switch(Cn(je,".",xr,"="),typeof Be){case"number":Cn(Be);break;case"string":Cn('"',Be,'"');break;case"object":Array.isArray(Be)&&Cn("[",Be.join(),"]");break;default:Cn(Sr.link(Be))}Cn(";")}}),Fr.dynamic[Tr]=new dt.DynamicVariable(4,{thisDep:ln,contextDep:Er,propDep:Yr,ref:je,append:function kr(xr,Be){hn.forEach(function(Ve){var vr=yn[Ve];dt.isDynamic(vr)&&(vr=xr.invoke(Be,vr),Be(je,".",Ve,"=",vr,";"))})}}),delete Fr.static[Tr]}}var qn=Se.Record,Qn={add:32774,subtract:32778,"reverse subtract":32779};Ye.ext_blend_minmax&&(Qn.min=32775,Qn.max=32776);var yr=Ye.angle_instanced_arrays,tn=Ye.webgl_draw_buffers,Qr=Ye.oes_vertex_array_object,dn={dirty:!0,profile:ir.profile},Fn={},Sn=[],En={},kn={};Ot("dither",3024),Ot("blend.enable",3042),Ut("blend.color","blendColor",[0,0,0,0]),Ut("blend.equation","blendEquationSeparate",[32774,32774]),Ut("blend.func","blendFuncSeparate",[1,0,1,0]),Ot("depth.enable",2929,!0),Ut("depth.func","depthFunc",513),Ut("depth.range","depthRange",[0,1]),Ut("depth.mask","depthMask",!0),Ut("colorMask","colorMask",[!0,!0,!0,!0]),Ot("cull.enable",2884),Ut("cull.face","cullFace",1029),Ut("frontFace","frontFace",2305),Ut("lineWidth","lineWidth",1),Ot("polygonOffset.enable",32823),Ut("polygonOffset.offset","polygonOffset",[0,0]),Ot("sample.alpha",32926),Ot("sample.enable",32928),Ut("sample.coverage","sampleCoverage",[1,!1]),Ot("stencil.enable",2960),Ut("stencil.mask","stencilMask",-1),Ut("stencil.func","stencilFunc",[519,0,-1]),Ut("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ut("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ot("scissor.enable",3089),Ut("scissor.box","scissor",[0,0,ce.drawingBufferWidth,ce.drawingBufferHeight]),Ut("viewport","viewport",[0,0,ce.drawingBufferWidth,ce.drawingBufferHeight]);var Hn={gl:ce,context:Fe,strings:Ue,next:Fn,current:dn,draw:Ie,elements:he,buffer:tr,shader:Me,attributes:Se.state,vao:Se,uniforms:be,framebuffer:pe,extensions:Ye,timer:Ze,isBufferArgs:j},ta={primTypes:It,compareFuncs:We,blendFuncs:Ne,blendEquations:Qn,stencilOps:ye,glTypes:Gt,orientationType:Te};tn&&(ta.backBuffer=[1029],ta.drawBuffer=s(gr.maxDrawbuffers,function(Sr){return 0===Sr?[0]:s(Sr,function(Fr){return 36064+Fr})}));var Sa=0;return{next:Fn,current:dn,procs:function(){var Sr=Ce(),Fr=Sr.proc("poll"),Tr=Sr.proc("refresh"),kr=Sr.block();Fr(kr),Tr(kr);var ln,yn=(Er=Sr.shared).gl,Cn=Er.next,hn=Er.current;kr(hn,".dirty=false;"),Gr(Sr,Fr),Gr(Sr,Tr,null,!0),yr&&(ln=Sr.link(yr)),Ye.oes_vertex_array_object&&Tr(Sr.link(Ye.oes_vertex_array_object),".bindVertexArrayOES(null);");var Er=Tr.def(Er.attributes),Yr=Tr.def(0),je=Sr.cond(Yr,".buffer");je.then(yn,".enableVertexAttribArray(i);",yn,".bindBuffer(",34962,",",Yr,".buffer.buffer);",yn,".vertexAttribPointer(i,",Yr,".size,",Yr,".type,",Yr,".normalized,",Yr,".stride,",Yr,".offset);").else(yn,".disableVertexAttribArray(i);",yn,".vertexAttrib4f(i,",Yr,".x,",Yr,".y,",Yr,".z,",Yr,".w);",Yr,".buffer=null;");var xr=Sr.link(gr.maxAttributes,{stable:!0});return Tr("for(var i=0;i<",xr,";++i){",Yr,"=",Er,"[i];",je,"}"),yr&&Tr("for(var i=0;i<",xr,";++i){",ln,".vertexAttribDivisorANGLE(i,",Er,"[i].divisor);","}"),Tr(Sr.shared.vao,".currentVAO=null;",Sr.shared.vao,".setVAO(",Sr.shared.vao,".targetVAO);"),Object.keys(En).forEach(function(Be){var Ve=En[Be],vr=kr.def(Cn,".",Be),Hr=Sr.block();Hr("if(",vr,"){",yn,".enable(",Ve,")}else{",yn,".disable(",Ve,")}",hn,".",Be,"=",vr,";"),Tr(Hr),Fr("if(",vr,"!==",hn,".",Be,"){",Hr,"}")}),Object.keys(kn).forEach(function(Be){var Hr,rn,Ve=kn[Be],vr=dn[Be],Zn=Sr.block();Zn(yn,".",Ve,"("),b(vr)?(Ve=vr.length,Hr=Sr.global.def(Cn,".",Be),rn=Sr.global.def(hn,".",Be),Zn(s(Ve,function($n){return Hr+"["+$n+"]"}),");",s(Ve,function($n){return rn+"["+$n+"]="+Hr+"["+$n+"];"}).join("")),Fr("if(",s(Ve,function($n){return Hr+"["+$n+"]!=="+rn+"["+$n+"]"}).join("||"),"){",Zn,"}")):(Hr=kr.def(Cn,".",Be),rn=kr.def(hn,".",Be),Zn(Hr,");",hn,".",Be,"=",Hr,";"),Fr("if(",Hr,"!==",rn,"){",Zn,"}")),Tr(Zn)}),Sr.compile()}(),compile:function(Sr,Fr,Tr,kr,yn){var Cn=Ce();Cn.stats=Cn.link(yn),Object.keys(Fr.static).forEach(function(ln){ua(Cn,Fr,ln)}),ee.forEach(function(ln){ua(Cn,Sr,ln)});var hn=$r(Sr,Fr,Tr,kr);return hn.shader.program&&(hn.shader.program.attributes.sort(function(ln,Er){return ln.name<Er.name?-1:1}),hn.shader.program.uniforms.sort(function(ln,Er){return ln.name<Er.name?-1:1})),function pn(Sr,Fr){var Tr=Sr.proc("draw",1);Tn(Sr,Tr),Ar(Sr,Tr,Fr.context),Gr(Sr,Tr,Fr.framebuffer),nn(Sr,Tr,Fr),Ur(Sr,Tr,Fr.state),bn(Sr,Tr,Fr,!1,!0);var kr=Fr.shader.progVar.append(Sr,Tr);if(Tr(Sr.shared.gl,".useProgram(",kr,".program);"),Fr.shader.program)sn(Sr,Tr,Fr,Fr.shader.program);else{Tr(Sr.shared.vao,".setVAO(null);");var yn=Sr.global.def("{}"),Cn=Tr.def(kr,".id"),hn=Tr.def(yn,"[",Cn,"]");Tr(Sr.cond(hn).then(hn,".call(this,a0);").else(hn,"=",yn,"[",Cn,"]=",Sr.link(function(ln){return Or(sn,Sr,Fr,ln,1)}),"(",kr,");",hn,".call(this,a0);"))}0<Object.keys(Fr.state).length&&Tr(Sr.shared.current,".dirty=true;"),Sr.shared.vao&&Tr(Sr.shared.vao,".setVAO(null);")}(Cn,hn),function Kn(Sr,Fr){function Tr(ln){var Er=Fr.shader[ln];Er&&(Er=Er.append(Sr,kr),isNaN(Er)?kr.set(yn.shader,"."+ln,Er):kr.set(yn.shader,"."+ln,Sr.link(Er,{stable:!0})))}var kr=Sr.proc("scope",3);Sr.batchId="a2";var yn=Sr.shared,Cn=yn.current;if(Ar(Sr,kr,Fr.context),Fr.framebuffer&&Fr.framebuffer.append(Sr,kr),rt(Object.keys(Fr.state)).forEach(function(ln){var Er=Fr.state[ln],Yr=Er.append(Sr,kr);b(Yr)?Yr.forEach(function(je,xr){isNaN(je)?kr.set(Sr.next[ln],"["+xr+"]",je):kr.set(Sr.next[ln],"["+xr+"]",Sr.link(je,{stable:!0}))}):Z(Er)?kr.set(yn.next,"."+ln,Sr.link(Yr,{stable:!0})):kr.set(yn.next,"."+ln,Yr)}),bn(Sr,kr,Fr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(ln){var Er=Fr.draw[ln];Er&&(Er=Er.append(Sr,kr),isNaN(Er)?kr.set(yn.draw,"."+ln,Er):kr.set(yn.draw,"."+ln,Sr.link(Er),{stable:!0}))}),Object.keys(Fr.uniforms).forEach(function(ln){var Er=Fr.uniforms[ln].append(Sr,kr);Array.isArray(Er)&&(Er="["+Er.map(function(Yr){return isNaN(Yr)?Yr:Sr.link(Yr,{stable:!0})})+"]"),kr.set(yn.uniforms,"["+Sr.link(Ue.id(ln),{stable:!0})+"]",Er)}),Object.keys(Fr.attributes).forEach(function(ln){var Er=Fr.attributes[ln].append(Sr,kr),Yr=Sr.scopeAttrib(ln);Object.keys(new qn).forEach(function(je){kr.set(Yr,"."+je,Er[je])})}),Fr.scopeVAO){var hn=Fr.scopeVAO.append(Sr,kr);isNaN(hn)?kr.set(yn.vao,".targetVAO",hn):kr.set(yn.vao,".targetVAO",Sr.link(hn,{stable:!0}))}Tr("vert"),Tr("frag"),0<Object.keys(Fr.state).length&&(kr(Cn,".dirty=true;"),kr.exit(Cn,".dirty=true;")),kr("a1(",Sr.shared.context,",a0,",Sr.batchId,");")}(Cn,hn),function Rn(Sr,Fr){function Tr(Yr){return Yr.contextDep&&yn||Yr.propDep}var kr=Sr.proc("batch",2);Sr.batchId="0",Tn(Sr,kr);var yn=!1,Cn=!0;Object.keys(Fr.context).forEach(function(Yr){yn=yn||Fr.context[Yr].propDep}),yn||(Ar(Sr,kr,Fr.context),Cn=!1);var ln=!1;if((hn=Fr.framebuffer)?(hn.propDep?yn=ln=!0:hn.contextDep&&yn&&(ln=!0),ln||Gr(Sr,kr,hn)):Gr(Sr,kr,null),Fr.state.viewport&&Fr.state.viewport.propDep&&(yn=!0),nn(Sr,kr,Fr),Ur(Sr,kr,Fr.state,function(Yr){return!Tr(Yr)}),Fr.profile&&Tr(Fr.profile)||bn(Sr,kr,Fr,!1,"a1"),Fr.contextDep=yn,Fr.needsContext=Cn,Fr.needsFramebuffer=ln,(Cn=Fr.shader.progVar).contextDep&&yn||Cn.propDep)wn(Sr,kr,Fr,null);else if(Cn=Cn.append(Sr,kr),kr(Sr.shared.gl,".useProgram(",Cn,".program);"),Fr.shader.program)wn(Sr,kr,Fr,Fr.shader.program);else{kr(Sr.shared.vao,".setVAO(null);");var hn=Sr.global.def("{}"),Er=(ln=kr.def(Cn,".id"),kr.def(hn,"[",ln,"]"));kr(Sr.cond(Er).then(Er,".call(this,a0,a1);").else(Er,"=",hn,"[",ln,"]=",Sr.link(function(xr){return Or(wn,Sr,Fr,xr,2)}),"(",Cn,");",Er,".call(this,a0,a1);"))}0<Object.keys(Fr.state).length&&kr(Sr.shared.current,".dirty=true;"),Sr.shared.vao&&kr(Sr.shared.vao,".setVAO(null);")}(Cn,hn),_(Cn.compile(),{destroy:function(){hn.shader.program.destroy()}})}}}function nt(ce,Ue){for(var Ye=0;Ye<ce.length;++Ye)if(ce[Ye]===Ue)return Ye;return-1}var _=function(ce,Ue){for(var Ye=Object.keys(Ue),gr=0;gr<Ye.length;++gr)ce[Ye[gr]]=Ue[Ye[gr]];return ce},st=0,dt={DynamicVariable:W,define:function(ce,Ue){return new W(ce,A(Ue+""))},isDynamic:function(ce){return"function"==typeof ce&&!ce._reglType||ce instanceof W},unbox:function y(ce,Ue){return"function"==typeof ce?new W(0,ce):"number"==typeof ce||"boolean"==typeof ce?new W(5,ce):Array.isArray(ce)?new W(6,ce.map(function(Ye,gr){return y(Ye,Ue+"["+gr+"]")})):ce instanceof W?ce:void 0},accessor:A},xt={next:"function"==typeof requestAnimationFrame?function(ce){return requestAnimationFrame(ce)}:function(ce){return setTimeout(ce,16)},cancel:"function"==typeof cancelAnimationFrame?function(ce){return cancelAnimationFrame(ce)}:clearTimeout},yt="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},St=h();St.zero=h();var Tt=function(ce){return ce instanceof Uint8Array||ce instanceof Uint16Array||ce instanceof Uint32Array||ce instanceof Int8Array||ce instanceof Int16Array||ce instanceof Int32Array||ce instanceof Float32Array||ce instanceof Float64Array||ce instanceof Uint8ClampedArray},gt=function(ce){return Object.keys(ce).map(function(Ue){return ce[Ue]})},Mt={shape:function(ce){for(var Ue=[];ce.length;ce=ce[0])Ue.push(ce.length);return Ue},flatten:function(ce,Ue,Ye,gr){var tr=1;if(Ue.length)for(var he=0;he<Ue.length;++he)tr*=Ue[he];else tr=0;switch(Ye=gr||St.allocType(Ye,tr),Ue.length){case 0:break;case 1:for(gr=Ue[0],Ue=0;Ue<gr;++Ue)Ye[Ue]=ce[Ue];break;case 2:for(gr=Ue[0],Ue=Ue[1],he=tr=0;he<gr;++he)for(var ne=ce[he],pe=0;pe<Ue;++pe)Ye[tr++]=ne[pe];break;case 3:u(ce,Ue[0],Ue[1],Ue[2],Ye,0);break;default:g(ce,Ue,0,Ye,0)}return Ye}},Nt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Gt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Pt={dynamic:35048,stream:35040,static:35044},Vt=Mt.flatten,re=Mt.shape,le=[];le[5120]=1,le[5122]=2,le[5124]=4,le[5121]=1,le[5123]=2,le[5125]=4,le[5126]=4;var It={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Rt=new Float32Array(1),$t=new Uint32Array(Rt.buffer),oe=[9984,9986,9985,9987],se=[0,6409,6410,6407,6408],ve={};ve[6409]=ve[6406]=ve[6402]=1,ve[34041]=ve[6410]=2,ve[6407]=ve[35904]=3,ve[6408]=ve[35906]=4;var de=E("HTMLCanvasElement"),jt=E("OffscreenCanvas"),Ct=E("CanvasRenderingContext2D"),Wt=E("ImageBitmap"),Xt=E("HTMLImageElement"),Ht=E("HTMLVideoElement"),Bt=Object.keys(Nt).concat([de,jt,Ct,Wt,Xt,Ht]),zt=[];zt[5121]=1,zt[5126]=4,zt[36193]=2,zt[5123]=2,zt[5125]=4;var kt=[];kt[32854]=2,kt[32855]=2,kt[36194]=2,kt[34041]=4,kt[33776]=.5,kt[33777]=.5,kt[33778]=1,kt[33779]=1,kt[35986]=.5,kt[35987]=1,kt[34798]=1,kt[35840]=.5,kt[35841]=.25,kt[35842]=.5,kt[35843]=.25,kt[36196]=.5;var wt=[];wt[32854]=2,wt[32855]=2,wt[36194]=2,wt[33189]=2,wt[36168]=1,wt[34041]=4,wt[35907]=4,wt[34836]=16,wt[34842]=8,wt[34843]=6;var pt=[];pt[6408]=4,pt[6407]=3;var Dt=[];Dt[5121]=1,Dt[5126]=4,Dt[36193]=2;var Qt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],te=["x","y","z","w"],ee="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ne={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},We={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ye={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Te={cw:2304,ccw:2305},Ge=new H(!1,!1,!1,function(){});return function(ce){function Ue(){if(0===bn.length)Ce&&Ce.update(),Or=null;else{Or=xt.next(Ue),Me();for(var pn=bn.length-1;0<=pn;--pn){var gn=bn[pn];gn&&gn(_e,null,0)}Ze.flush(),Ce&&Ce.update()}}function Ye(){!Or&&0<bn.length&&(Or=xt.next(Ue))}function gr(){Or&&(xt.cancel(Ue),Or=null)}function tr(pn){pn.preventDefault(),gr(),ur.forEach(function(gn){gn()})}function he(pn){Ze.getError(),ir.restore(),pr.restore(),Re.restore(),Cr.restore(),$r.restore(),Ar.restore(),dr.restore(),Ce&&Ce.restore(),Gr.procs.refresh(),Ye(),Mr.forEach(function(gn){gn()})}function ne(pn){function gn(dn,Fn){var Sn={},En={};return Object.keys(dn).forEach(function(kn){var Hn=dn[kn];if(dt.isDynamic(Hn))En[kn]=dt.unbox(Hn,kn);else{if(Fn&&Array.isArray(Hn))for(var ta=0;ta<Hn.length;++ta)if(dt.isDynamic(Hn[ta]))return void(En[kn]=dt.unbox(Hn,kn));Sn[kn]=Hn}}),{dynamic:En,static:Sn}}var Rn=gn(pn.context||{},!0),Kn=gn(pn.uniforms||{},!0),_n=gn(pn.attributes||{},!1);pn=gn(function(dn){function Fn(En){if(En in Sn){var kn=Sn[En];delete Sn[En],Object.keys(kn).forEach(function(Hn){Sn[En+"."+Hn]=kn[Hn]})}}var Sn=_({},dn);return delete Sn.uniforms,delete Sn.attributes,delete Sn.context,delete Sn.vao,"stencil"in Sn&&Sn.stencil.op&&(Sn.stencil.opBack=Sn.stencil.opFront=Sn.stencil.op,delete Sn.stencil.op),Fn("blend"),Fn("depth"),Fn("cull"),Fn("stencil"),Fn("polygonOffset"),Fn("scissor"),Fn("sample"),"vao"in dn&&(Sn.vao=dn.vao),Sn}(pn),!1);var ua={gpuTime:0,cpuTime:0,count:0},qn=Gr.compile(pn,_n,Kn,Rn,ua),Qn=qn.draw,yr=qn.batch,tn=qn.scope,Qr=[];return _(function(dn,Fn){var Sn;if("function"==typeof dn)return tn.call(this,null,dn,0);if("function"==typeof Fn)if("number"==typeof dn)for(Sn=0;Sn<dn;++Sn)tn.call(this,null,Fn,Sn);else{if(!Array.isArray(dn))return tn.call(this,dn,Fn,0);for(Sn=0;Sn<dn.length;++Sn)tn.call(this,dn[Sn],Fn,Sn)}else if("number"==typeof dn){if(0<dn)return yr.call(this,function wn(dn){for(;Qr.length<dn;)Qr.push(null);return Qr}(0|dn),0|dn)}else{if(!Array.isArray(dn))return Qn.call(this,dn);if(dn.length)return yr.call(this,dn,dn.length)}},{stats:ua,destroy:function(){qn.destroy()}})}function pe(pn,gn){var wn=0;Gr.procs.poll();var Rn=gn.color;Rn&&(Ze.clearColor(+Rn[0]||0,+Rn[1]||0,+Rn[2]||0,+Rn[3]||0),wn|=16384),"depth"in gn&&(Ze.clearDepth(+gn.depth),wn|=256),"stencil"in gn&&(Ze.clearStencil(0|gn.stencil),wn|=1024),Ze.clear(wn)}function be(pn){return bn.push(pn),Ye(),{cancel:function(){var wn=nt(bn,pn);bn[wn]=function gn(){var Rn=nt(bn,gn);bn[Rn]=bn[bn.length-1],--bn.length,0>=bn.length&&gr()}}}}function Se(){var pn=Ur.viewport,gn=Ur.scissor_box;pn[0]=pn[1]=gn[0]=gn[1]=0,_e.viewportWidth=_e.framebufferWidth=_e.drawingBufferWidth=pn[2]=gn[2]=Ze.drawingBufferWidth,_e.viewportHeight=_e.framebufferHeight=_e.drawingBufferHeight=pn[3]=gn[3]=Ze.drawingBufferHeight}function Me(){_e.tick+=1,_e.time=Fe(),Se(),Gr.procs.poll()}function Ie(){Cr.refresh(),Se(),Gr.procs.refresh(),Ce&&Ce.update()}function Fe(){return(yt()-Le)/1e3}if(!(ce=r(ce)))return null;var Ze=ce.gl,nr=Ze.getContextAttributes();Ze.isContextLost();var ir=function e(ce,Ue){function Ye(ne){var pe;ne=ne.toLowerCase();try{pe=gr[ne]=ce.getExtension(ne)}catch(be){}return!!pe}for(var gr={},tr=0;tr<Ue.extensions.length;++tr){var he=Ue.extensions[tr];if(!Ye(he))return Ue.onDestroy(),Ue.onDone('"'+he+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Ue.optionalExtensions.forEach(Ye),{extensions:gr,restore:function(){Object.keys(gr).forEach(function(ne){if(gr[ne]&&!Ye(ne))throw Error("(regl): error restoring extension "+ne)})}}}(Ze,ce);if(!ir)return null;var nn=function i(){var ce={"":0},Ue=[""];return{id:function(Ye){var gr=ce[Ye];return gr||(gr=ce[Ye]=Ue.length,Ue.push(Ye),gr)},str:function(Ye){return Ue[Ye]}}}(),lr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ot=ce.cachedCode||{},Ut=ir.extensions,Ce=function(ce,Ue){function Ye(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function gr(Me,Ie,Fe){var Ze=ne.pop()||new Ye;Ze.startQueryIndex=Me,Ze.endQueryIndex=Ie,Ze.sum=0,Ze.stats=Fe,pe.push(Ze)}if(!Ue.ext_disjoint_timer_query)return null;var tr=[],he=[],ne=[],pe=[],be=[],Se=[];return{beginQuery:function(Me){var Ie=tr.pop()||Ue.ext_disjoint_timer_query.createQueryEXT();Ue.ext_disjoint_timer_query.beginQueryEXT(35007,Ie),he.push(Ie),gr(he.length-1,he.length,Me)},endQuery:function(){Ue.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:gr,update:function(){var Me,Ie;if(0!==(Me=he.length)){Se.length=Math.max(Se.length,Me+1),be.length=Math.max(be.length,Me+1),be[0]=0;var Fe=Se[0]=0;for(Ie=Me=0;Ie<he.length;++Ie)Ue.ext_disjoint_timer_query.getQueryObjectEXT(Ze=he[Ie],34919)?(Fe+=Ue.ext_disjoint_timer_query.getQueryObjectEXT(Ze,34918),tr.push(Ze)):he[Me++]=Ze,be[Ie+1]=Fe,Se[Ie+1]=Me;for(he.length=Me,Ie=Me=0;Ie<pe.length;++Ie){var Ze,nr=(Fe=pe[Ie]).startQueryIndex;Fe.sum+=be[Ze=Fe.endQueryIndex]-be[nr],(Ze=Se[Ze])===(nr=Se[nr])?(Fe.stats.gpuTime+=Fe.sum/1e6,ne.push(Fe)):(Fe.startQueryIndex=nr,Fe.endQueryIndex=Ze,pe[Me++]=Fe)}pe.length=Me}},getNumPendingQueries:function(){return he.length},clear:function(){tr.push.apply(tr,he);for(var Me=0;Me<tr.length;Me++)Ue.ext_disjoint_timer_query.deleteQueryEXT(tr[Me]);he.length=0,tr.length=0},restore:function(){he.length=0,tr.length=0}}}(0,Ut),Le=yt(),Xe=Ze.drawingBufferHeight,_e={tick:0,time:0,viewportWidth:fr=Ze.drawingBufferWidth,viewportHeight:Xe,framebufferWidth:fr,framebufferHeight:Xe,drawingBufferWidth:fr,drawingBufferHeight:Xe,pixelRatio:ce.pixelRatio},fr={elements:null,primitive:4,count:-1,offset:0,instances:-1},$e=function(ce,Ue){var Ye=1;Ue.ext_texture_filter_anisotropic&&(Ye=ce.getParameter(34047));var gr=1,tr=1;Ue.webgl_draw_buffers&&(gr=ce.getParameter(34852),tr=ce.getParameter(36063));var he=!!Ue.oes_texture_float;if(he){he=ce.createTexture(),ce.bindTexture(3553,he),ce.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ne=ce.createFramebuffer();if(ce.bindFramebuffer(36160,ne),ce.framebufferTexture2D(36160,36064,3553,he,0),ce.bindTexture(3553,null),36053!==ce.checkFramebufferStatus(36160))he=!1;else{ce.viewport(0,0,1,1),ce.clearColor(1,0,0,1),ce.clear(16384);var pe=St.allocType(5126,4);ce.readPixels(0,0,1,1,6408,5126,pe),ce.getError()?he=!1:(ce.deleteFramebuffer(ne),ce.deleteTexture(he),he=1===pe[0]),St.freeType(pe)}}return pe=!0,"undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(pe=ce.createTexture(),ne=St.allocType(5121,36),ce.activeTexture(33984),ce.bindTexture(34067,pe),ce.texImage2D(34069,0,6408,3,3,0,6408,5121,ne),St.freeType(ne),ce.bindTexture(34067,null),ce.deleteTexture(pe),pe=!ce.getError()),{colorBits:[ce.getParameter(3410),ce.getParameter(3411),ce.getParameter(3412),ce.getParameter(3413)],depthBits:ce.getParameter(3414),stencilBits:ce.getParameter(3415),subpixelBits:ce.getParameter(3408),extensions:Object.keys(Ue).filter(function(be){return!!Ue[be]}),maxAnisotropic:Ye,maxDrawbuffers:gr,maxColorAttachments:tr,pointSizeDims:ce.getParameter(33901),lineWidthDims:ce.getParameter(33902),maxViewportDims:ce.getParameter(3386),maxCombinedTextureUnits:ce.getParameter(35661),maxCubeMapSize:ce.getParameter(34076),maxRenderbufferSize:ce.getParameter(34024),maxTextureUnits:ce.getParameter(34930),maxTextureSize:ce.getParameter(3379),maxAttributes:ce.getParameter(34921),maxVertexUniforms:ce.getParameter(36347),maxVertexTextureUnits:ce.getParameter(35660),maxVaryingVectors:ce.getParameter(36348),maxFragmentUniforms:ce.getParameter(36349),glsl:ce.getParameter(35724),renderer:ce.getParameter(7937),vendor:ce.getParameter(7936),version:ce.getParameter(7938),readFloat:he,npotTextureCube:pe}}(Ze,Ut),Re=function o(ce,Ue,Ye,gr){function tr(Ie){this.id=be++,this.buffer=ce.createBuffer(),this.type=Ie,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Ye.profile&&(this.stats={size:0})}function he(Ie,Fe,Ze){Ie.byteLength=Fe.byteLength,ce.bufferData(Ie.type,Fe,Ze)}function ne(Ie,Fe,Ze,nr,ir,lr){if(Ie.usage=Ze,Array.isArray(Fe)){if(Ie.dtype=nr||5126,0<Fe.length)if(Array.isArray(Fe[0])){ir=re(Fe);for(var Ot=nr=1;Ot<ir.length;++Ot)nr*=ir[Ot];Ie.dimension=nr,he(Ie,Fe=Vt(Fe,ir,Ie.dtype),Ze),lr?Ie.persistentData=Fe:St.freeType(Fe)}else"number"==typeof Fe[0]?(Ie.dimension=ir,w(ir=St.allocType(Ie.dtype,Fe.length),Fe),he(Ie,ir,Ze),lr?Ie.persistentData=ir:St.freeType(ir)):Tt(Fe[0])&&(Ie.dimension=Fe[0].length,Ie.dtype=nr||c(Fe[0])||5126,he(Ie,Fe=Vt(Fe,[Fe.length,Fe[0].length],Ie.dtype),Ze),lr?Ie.persistentData=Fe:St.freeType(Fe))}else if(Tt(Fe))Ie.dtype=nr||c(Fe),Ie.dimension=ir,he(Ie,Fe,Ze),lr&&(Ie.persistentData=new Uint8Array(new Uint8Array(Fe.buffer)));else if(f(Fe)){var Ut=Fe.stride,Ce=(Ot=Fe.offset,0),Le=0,Xe=0,_e=0;1===(ir=Fe.shape).length?(Ce=ir[0],Le=1,Xe=Ut[0],_e=0):2===ir.length&&(Ce=ir[0],Le=ir[1],Xe=Ut[0],_e=Ut[1]),Ie.dtype=nr||c(Fe.data)||5126,Ie.dimension=Le,d(ir=St.allocType(Ie.dtype,Ce*Le),Fe.data,Ce,Le,Xe,_e,Ot),he(Ie,ir,Ze),lr?Ie.persistentData=ir:St.freeType(ir)}else Fe instanceof ArrayBuffer&&(Ie.dtype=5121,Ie.dimension=ir,he(Ie,Fe,Ze),lr&&(Ie.persistentData=new Uint8Array(new Uint8Array(Fe))))}function pe(Ie){Ue.bufferCount--,gr(Ie),ce.deleteBuffer(Ie.buffer),Ie.buffer=null,delete Se[Ie.id]}var be=0,Se={};tr.prototype.bind=function(){ce.bindBuffer(this.type,this.buffer)},tr.prototype.destroy=function(){pe(this)};var Me=[];return Ye.profile&&(Ue.getTotalBufferSize=function(){var Ie=0;return Object.keys(Se).forEach(function(Fe){Ie+=Se[Fe].stats.size}),Ie}),{create:function(Ie,Fe,Ze,nr){function ir(Ot){var Ut=35044,Ce=null,Le=0,Xe=0,_e=1;return Array.isArray(Ot)||Tt(Ot)||f(Ot)||Ot instanceof ArrayBuffer?Ce=Ot:"number"==typeof Ot?Le=0|Ot:Ot&&("data"in Ot&&(Ce=Ot.data),"usage"in Ot&&(Ut=Pt[Ot.usage]),"type"in Ot&&(Xe=Gt[Ot.type]),"dimension"in Ot&&(_e=0|Ot.dimension),"length"in Ot&&(Le=0|Ot.length)),lr.bind(),Ce?ne(lr,Ce,Ut,Xe,_e,nr):(Le&&ce.bufferData(lr.type,Le,Ut),lr.dtype=Xe||5121,lr.usage=Ut,lr.dimension=_e,lr.byteLength=Le),Ye.profile&&(lr.stats.size=lr.byteLength*le[lr.dtype]),ir}Ue.bufferCount++;var lr=new tr(Fe);return Se[lr.id]=lr,Ze||ir(Ie),ir._reglType="buffer",ir._buffer=lr,ir.subdata=function(Ot,Ut){var Le,Ce=0|(Ut||0);if(lr.bind(),Tt(Ot)||Ot instanceof ArrayBuffer)ce.bufferSubData(lr.type,Ce,Ot);else if(Array.isArray(Ot)){if(0<Ot.length)if("number"==typeof Ot[0]){var Xe=St.allocType(lr.dtype,Ot.length);w(Xe,Ot),ce.bufferSubData(lr.type,Ce,Xe),St.freeType(Xe)}else(Array.isArray(Ot[0])||Tt(Ot[0]))&&(Le=re(Ot),Xe=Vt(Ot,Le,lr.dtype),ce.bufferSubData(lr.type,Ce,Xe),St.freeType(Xe))}else if(f(Ot)){var _e=Ot.stride,fr=Xe=0,$e=0,Re=0;1===(Le=Ot.shape).length?(Xe=Le[0],fr=1,$e=_e[0],Re=0):2===Le.length&&(Xe=Le[0],fr=Le[1],$e=_e[0],Re=_e[1]),Le=Array.isArray(Ot.data)?lr.dtype:c(Ot.data),d(Le=St.allocType(Le,Xe*fr),Ot.data,Xe,fr,$e,Re,Ot.offset),ce.bufferSubData(lr.type,Ce,Le),St.freeType(Le)}return ir},Ye.profile&&(ir.stats=lr.stats),ir.destroy=function(){pe(lr)},ir},createStream:function(Ie,Fe){var Ze=Me.pop();return Ze||(Ze=new tr(Ie)),Ze.bind(),ne(Ze,Fe,35040,0,1,!1),Ze},destroyStream:function(Ie){Me.push(Ie)},clear:function(){gt(Se).forEach(pe),Me.forEach(pe)},getBuffer:function(Ie){return Ie&&Ie._buffer instanceof tr?Ie._buffer:null},restore:function(){gt(Se).forEach(function(Ie){Ie.buffer=ce.createBuffer(),ce.bindBuffer(Ie.type,Ie.buffer),ce.bufferData(Ie.type,Ie.persistentData||Ie.byteLength,Ie.usage)})},_initBuffer:ne}}(Ze,lr,ce,function(pn){return dr.destroyBuffer(pn)}),or=function v(ce,Ue,Ye,gr){function tr(Ie){this.id=be++,pe[this.id]=this,this.buffer=Ie,this.primType=4,this.type=this.vertCount=0}function he(Ie,Fe,Ze,nr,ir,lr,Ot){var Ut;if(Ie.buffer.bind(),Fe?((Ut=Ot)||Tt(Fe)&&(!f(Fe)||Tt(Fe.data))||(Ut=Ue.oes_element_index_uint?5125:5123),Ye._initBuffer(Ie.buffer,Fe,Ze,Ut,3)):(ce.bufferData(34963,lr,Ze),Ie.buffer.dtype=Ut||5121,Ie.buffer.usage=Ze,Ie.buffer.dimension=3,Ie.buffer.byteLength=lr),Ut=Ot,!Ot){switch(Ie.buffer.dtype){case 5121:case 5120:Ut=5121;break;case 5123:case 5122:Ut=5123;break;case 5125:case 5124:Ut=5125}Ie.buffer.dtype=Ut}Ie.type=Ut,0>(Fe=ir)&&(Fe=Ie.buffer.byteLength,5123===Ut?Fe>>=1:5125===Ut&&(Fe>>=2)),Ie.vertCount=Fe,Fe=nr,0>nr&&(Fe=4,1===(nr=Ie.buffer.dimension)&&(Fe=0),2===nr&&(Fe=1),3===nr&&(Fe=4)),Ie.primType=Fe}function ne(Ie){gr.elementsCount--,delete pe[Ie.id],Ie.buffer.destroy(),Ie.buffer=null}var pe={},be=0,Se={uint8:5121,uint16:5123};Ue.oes_element_index_uint&&(Se.uint32=5125),tr.prototype.bind=function(){this.buffer.bind()};var Me=[];return{create:function(Ie,Fe){function Ze(lr){if(lr)if("number"==typeof lr)nr(lr),ir.primType=4,ir.vertCount=0|lr,ir.type=5121;else{var Ot=null,Ut=35044,Ce=-1,Le=-1,Xe=0,_e=0;Array.isArray(lr)||Tt(lr)||f(lr)?Ot=lr:("data"in lr&&(Ot=lr.data),"usage"in lr&&(Ut=Pt[lr.usage]),"primitive"in lr&&(Ce=It[lr.primitive]),"count"in lr&&(Le=0|lr.count),"type"in lr&&(_e=Se[lr.type]),"length"in lr?Xe=0|lr.length:(Xe=Le,5123===_e||5122===_e?Xe*=2:(5125===_e||5124===_e)&&(Xe*=4))),he(ir,Ot,Ut,Ce,Le,Xe,_e)}else nr(),ir.primType=4,ir.vertCount=0,ir.type=5121;return Ze}var nr=Ye.create(null,34963,!0),ir=new tr(nr._buffer);return gr.elementsCount++,Ze(Ie),Ze._reglType="elements",Ze._elements=ir,Ze.subdata=function(lr,Ot){return nr.subdata(lr,Ot),Ze},Ze.destroy=function(){ne(ir)},Ze},createStream:function(Ie){var Fe=Me.pop();return Fe||(Fe=new tr(Ye.create(null,34963,!0,!1)._buffer)),he(Fe,Ie,35040,-1,-1,0,0),Fe},destroyStream:function(Ie){Me.push(Ie)},getElements:function(Ie){return"function"==typeof Ie&&Ie._elements instanceof tr?Ie._elements:null},clear:function(){gt(pe).forEach(ne)}}}(Ze,Ut,Re,lr),dr=function k(ce,Ue,Ye,gr,tr,he,ne){function Me(){this.id=++nr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ot=Ue.oes_vertex_array_object;this.vao=Ot?Ot.createVertexArrayOES():null,ir[this.id]=this,this.buffers=[]}var Fe=Ye.maxAttributes,Ze=Array(Fe);for(Ye=0;Ye<Fe;++Ye)Ze[Ye]=new N;var nr=0,ir={},lr={Record:N,scope:{},state:Ze,currentVAO:null,targetVAO:null,restore:Ue.oes_vertex_array_object?function Ie(){Ue.oes_vertex_array_object&&gt(ir).forEach(function(Ot){Ot.refresh()})}:function(){},createVAO:function(Ot){function Ut(Le){var Xe;Array.isArray(Le)?(Xe=Le,Ce.elements&&Ce.ownsElements&&Ce.elements.destroy(),Ce.elements=null,Ce.ownsElements=!1,Ce.offset=0,Ce.count=0,Ce.instances=-1,Ce.primitive=4):(Le.elements?(Xe=Le.elements,Ce.ownsElements?("function"==typeof Xe&&"elements"===Xe._reglType?Ce.elements.destroy():Ce.elements(Xe),Ce.ownsElements=!1):he.getElements(Le.elements)?(Ce.elements=Le.elements,Ce.ownsElements=!1):(Ce.elements=he.create(Le.elements),Ce.ownsElements=!0)):(Ce.elements=null,Ce.ownsElements=!1),Xe=Le.attributes,Ce.offset=0,Ce.count=-1,Ce.instances=-1,Ce.primitive=4,Ce.elements&&(Ce.count=Ce.elements._elements.vertCount,Ce.primitive=Ce.elements._elements.primType),"offset"in Le&&(Ce.offset=0|Le.offset),"count"in Le&&(Ce.count=0|Le.count),"instances"in Le&&(Ce.instances=0|Le.instances),"primitive"in Le&&(Ce.primitive=It[Le.primitive])),Le={};var _e=Ce.attributes;_e.length=Xe.length;for(var fr=0;fr<Xe.length;++fr){var dr,$e=Xe[fr],Re=_e[fr]=new N,or=$e.data||$e;Array.isArray(or)||Tt(or)||f(or)?(Ce.buffers[fr]&&(dr=Ce.buffers[fr],Tt(or)&&dr._buffer.byteLength>=or.byteLength?dr.subdata(or):(dr.destroy(),Ce.buffers[fr]=null)),Ce.buffers[fr]||(dr=Ce.buffers[fr]=tr.create($e,34962,!1,!0)),Re.buffer=tr.getBuffer(dr),Re.size=0|Re.buffer.dimension,Re.normalized=!1,Re.type=Re.buffer.dtype,Re.offset=0,Re.stride=0,Re.divisor=0,Re.state=1,Le[fr]=1):tr.getBuffer($e)?(Re.buffer=tr.getBuffer($e),Re.size=0|Re.buffer.dimension,Re.normalized=!1,Re.type=Re.buffer.dtype,Re.offset=0,Re.stride=0,Re.divisor=0,Re.state=1):tr.getBuffer($e.buffer)?(Re.buffer=tr.getBuffer($e.buffer),Re.size=0|(+$e.size||Re.buffer.dimension),Re.normalized=!!$e.normalized||!1,Re.type="type"in $e?Gt[$e.type]:Re.buffer.dtype,Re.offset=0|($e.offset||0),Re.stride=0|($e.stride||0),Re.divisor=0|($e.divisor||0),Re.state=1):"x"in $e&&(Re.x=+$e.x||0,Re.y=+$e.y||0,Re.z=+$e.z||0,Re.w=+$e.w||0,Re.state=2)}for(dr=0;dr<Ce.buffers.length;++dr)!Le[dr]&&Ce.buffers[dr]&&(Ce.buffers[dr].destroy(),Ce.buffers[dr]=null);return Ce.refresh(),Ut}var Ce=new Me;return gr.vaoCount+=1,Ut.destroy=function(){for(var Le=0;Le<Ce.buffers.length;++Le)Ce.buffers[Le]&&Ce.buffers[Le].destroy();Ce.buffers.length=0,Ce.ownsElements&&(Ce.elements.destroy(),Ce.elements=null,Ce.ownsElements=!1),Ce.destroy()},Ut._vao=Ce,Ut._reglType="vao",Ut(Ot)},getVAO:function(Ot){return"function"==typeof Ot&&Ot._vao?Ot._vao:null},destroyBuffer:function(Ot){for(var Ut=0;Ut<Ze.length;++Ut){var Ce=Ze[Ut];Ce.buffer===Ot&&(ce.disableVertexAttribArray(Ut),Ce.buffer=null)}},setVAO:Ue.oes_vertex_array_object?function pe(Ot){Ot!==lr.currentVAO&&(Ue.oes_vertex_array_object.bindVertexArrayOES(Ot?Ot.vao:null),lr.currentVAO=Ot)}:function be(Ot){if(Ot!==lr.currentVAO){if(Ot)Ot.bindAttrs();else{for(var Ut=Ue.angle_instanced_arrays,Ce=0;Ce<Ze.length;++Ce){var Le=Ze[Ce];Le.buffer?(ce.enableVertexAttribArray(Ce),Le.buffer.bind(),ce.vertexAttribPointer(Ce,Le.size,Le.type,Le.normalized,Le.stride,Le.offfset),Ut&&Le.divisor&&Ut.vertexAttribDivisorANGLE(Ce,Le.divisor)):(ce.disableVertexAttribArray(Ce),ce.vertexAttrib4f(Ce,Le.x,Le.y,Le.z,Le.w))}ce.bindBuffer(34963,ne.elements?ne.elements.buffer.buffer:null)}lr.currentVAO=Ot}},clear:Ue.oes_vertex_array_object?function Se(){gt(ir).forEach(function(Ot){Ot.destroy()})}:function(){}};return Me.prototype.bindAttrs=function(){for(var Ot=Ue.angle_instanced_arrays,Ut=this.attributes,Ce=0;Ce<Ut.length;++Ce){var Le=Ut[Ce];Le.buffer?(ce.enableVertexAttribArray(Ce),ce.bindBuffer(34962,Le.buffer.buffer),ce.vertexAttribPointer(Ce,Le.size,Le.type,Le.normalized,Le.stride,Le.offset),Ot&&Le.divisor&&Ot.vertexAttribDivisorANGLE(Ce,Le.divisor)):(ce.disableVertexAttribArray(Ce),ce.vertexAttrib4f(Ce,Le.x,Le.y,Le.z,Le.w))}for(Ot=Ut.length;Ot<Fe;++Ot)ce.disableVertexAttribArray(Ot);(Ot=he.getElements(this.elements))?ce.bindBuffer(34963,Ot.buffer.buffer):ce.bindBuffer(34963,null)},Me.prototype.refresh=function(){var Ot=Ue.oes_vertex_array_object;Ot&&(Ot.bindVertexArrayOES(this.vao),this.bindAttrs(),lr.currentVAO=null,Ot.bindVertexArrayOES(null))},Me.prototype.destroy=function(){if(this.vao){var Ot=Ue.oes_vertex_array_object;this===lr.currentVAO&&(lr.currentVAO=null,Ot.bindVertexArrayOES(null)),Ot.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ir[this.id]&&(delete ir[this.id],--gr.vaoCount)},lr}(Ze,Ut,$e,lr,Re,or,fr),pr=function z(ce,Ue,Ye,gr){function tr(nr,ir,lr,Ot){this.name=nr,this.id=ir,this.location=lr,this.info=Ot}function he(nr,ir){for(var lr=0;lr<nr.length;++lr)if(nr[lr].id===ir.id)return void(nr[lr].location=ir.location);nr.push(ir)}function ne(nr,ir,lr){if(!(Ot=(lr=35632===nr?Se:Me)[ir])){var Ut=Ue.str(ir),Ot=ce.createShader(nr);ce.shaderSource(Ot,Ut),ce.compileShader(Ot),lr[ir]=Ot}return Ot}function pe(nr,ir){this.id=Ze++,this.fragId=nr,this.vertId=ir,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,gr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function be(nr,ir,lr){var Ot;Ot=ne(35632,nr.fragId);var Ut=ne(35633,nr.vertId);if(ir=nr.program=ce.createProgram(),ce.attachShader(ir,Ot),ce.attachShader(ir,Ut),lr)for(Ot=0;Ot<lr.length;++Ot)ce.bindAttribLocation(ir,(Ut=lr[Ot])[0],Ut[1]);ce.linkProgram(ir),Ut=ce.getProgramParameter(ir,35718),gr.profile&&(nr.stats.uniformsCount=Ut);var Ce=nr.uniforms;for(Ot=0;Ot<Ut;++Ot)if(lr=ce.getActiveUniform(ir,Ot))if(1<lr.size)for(var Le=0;Le<lr.size;++Le){var Xe=lr.name.replace("[0]","["+Le+"]");he(Ce,new tr(Xe,Ue.id(Xe),ce.getUniformLocation(ir,Xe),lr))}else he(Ce,new tr(lr.name,Ue.id(lr.name),ce.getUniformLocation(ir,lr.name),lr));for(Ut=ce.getProgramParameter(ir,35721),gr.profile&&(nr.stats.attributesCount=Ut),nr=nr.attributes,Ot=0;Ot<Ut;++Ot)(lr=ce.getActiveAttrib(ir,Ot))&&he(nr,new tr(lr.name,Ue.id(lr.name),ce.getAttribLocation(ir,lr.name),lr))}var Se={},Me={},Ie={},Fe=[],Ze=0;return gr.profile&&(Ye.getMaxUniformsCount=function(){var nr=0;return Fe.forEach(function(ir){ir.stats.uniformsCount>nr&&(nr=ir.stats.uniformsCount)}),nr},Ye.getMaxAttributesCount=function(){var nr=0;return Fe.forEach(function(ir){ir.stats.attributesCount>nr&&(nr=ir.stats.attributesCount)}),nr}),{clear:function(){var nr=ce.deleteShader.bind(ce);gt(Se).forEach(nr),Se={},gt(Me).forEach(nr),Me={},Fe.forEach(function(ir){ce.deleteProgram(ir.program)}),Fe.length=0,Ie={},Ye.shaderCount=0},program:function(nr,ir,lr,Ot){var Ut=Ie[ir];Ut||(Ut=Ie[ir]={});var Ce=Ut[nr];if(Ce&&(Ce.refCount++,!Ot))return Ce;var Le=new pe(ir,nr);return Ye.shaderCount++,be(Le,lr,Ot),Ce||(Ut[nr]=Le),Fe.push(Le),_(Le,{destroy:function(){if(Le.refCount--,0>=Le.refCount){ce.deleteProgram(Le.program);var Xe=Fe.indexOf(Le);Fe.splice(Xe,1),Ye.shaderCount--}0>=Ut[Le.vertId].refCount&&(ce.deleteShader(Me[Le.vertId]),delete Me[Le.vertId],delete Ie[Le.fragId][Le.vertId]),Object.keys(Ie[Le.fragId]).length||(ce.deleteShader(Se[Le.fragId]),delete Se[Le.fragId],delete Ie[Le.fragId])}})},restore:function(){Se={},Me={};for(var nr=0;nr<Fe.length;++nr)be(Fe[nr],null,Fe[nr].attributes.map(function(ir){return[ir.location,ir.name]}))},shader:ne,frag:-1,vert:-1}}(Ze,nn,lr,ce),Cr=function F(ce,Ue,Ye,gr,tr,he,ne){function pe(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function be(yr,tn){yr.internalformat=tn.internalformat,yr.format=tn.format,yr.type=tn.type,yr.compressed=tn.compressed,yr.premultiplyAlpha=tn.premultiplyAlpha,yr.flipY=tn.flipY,yr.unpackAlignment=tn.unpackAlignment,yr.colorSpace=tn.colorSpace,yr.width=tn.width,yr.height=tn.height,yr.channels=tn.channels}function Se(yr,tn){if("object"==typeof tn&&tn){"premultiplyAlpha"in tn&&(yr.premultiplyAlpha=tn.premultiplyAlpha),"flipY"in tn&&(yr.flipY=tn.flipY),"alignment"in tn&&(yr.unpackAlignment=tn.alignment),"colorSpace"in tn&&(yr.colorSpace=nn[tn.colorSpace]),"type"in tn&&(yr.type=Ur[tn.type]);var Qr=yr.width,dn=yr.height,Fn=yr.channels,Sn=!1;"shape"in tn?(Qr=tn.shape[0],dn=tn.shape[1],3===tn.shape.length&&(Fn=tn.shape[2],Sn=!0)):("radius"in tn&&(Qr=dn=tn.radius),"width"in tn&&(Qr=tn.width),"height"in tn&&(dn=tn.height),"channels"in tn&&(Fn=tn.channels,Sn=!0)),yr.width=0|Qr,yr.height=0|dn,yr.channels=0|Fn,Qr=!1,"format"in tn&&(dn=yr.internalformat=Tn[Qr=tn.format],yr.format=wn[dn],Qr in Ur&&!("type"in tn)&&(yr.type=Ur[Qr]),Qr in bn&&(yr.compressed=!0),Qr=!0),!Sn&&Qr?yr.channels=ve[yr.format]:Sn&&!Qr&&yr.channels!==se[yr.format]&&(yr.format=yr.internalformat=se[yr.channels])}}function Me(yr){ce.pixelStorei(37440,yr.flipY),ce.pixelStorei(37441,yr.premultiplyAlpha),ce.pixelStorei(37443,yr.colorSpace),ce.pixelStorei(3317,yr.unpackAlignment)}function Ie(){pe.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Fe(yr,tn){var Qr=null;if(n(tn)?Qr=tn:tn&&(Se(yr,tn),"x"in tn&&(yr.xOffset=0|tn.x),"y"in tn&&(yr.yOffset=0|tn.y),n(tn.data)&&(Qr=tn.data)),tn.copy){var dn=tr.viewportWidth,Fn=tr.viewportHeight;yr.width=yr.width||dn-yr.xOffset,yr.height=yr.height||Fn-yr.yOffset,yr.needsCopy=!0}else if(Qr){if(Tt(Qr))yr.channels=yr.channels||4,yr.data=Qr,"type"in tn||5121!==yr.type||(yr.type=0|Nt[Object.prototype.toString.call(Qr)]);else if(x(Qr)){switch(yr.channels=yr.channels||4,Fn=(dn=Qr).length,yr.type){case 5121:case 5123:case 5125:case 5126:(Fn=St.allocType(yr.type,Fn)).set(dn),yr.data=Fn;break;case 36193:yr.data=M(dn)}yr.alignment=1,yr.needsFree=!0}else if(f(Qr)){dn=Qr.data,Array.isArray(dn)||5121!==yr.type||(yr.type=0|Nt[Object.prototype.toString.call(dn)]);var En,kn,Hn,ta,Sn=Qr.stride;3===(Fn=Qr.shape).length?(Hn=Fn[2],ta=Sn[2]):ta=Hn=1,En=Fn[0],kn=Fn[1],Fn=Sn[0],Sn=Sn[1],yr.alignment=1,yr.width=En,yr.height=kn,yr.channels=Hn,yr.format=yr.internalformat=se[Hn],yr.needsFree=!0,En=ta,Qr=Qr.offset;for(var Sa=St.allocType(36193===yr.type?5126:yr.type,(Hn=yr.width)*(ta=yr.height)*(kn=yr.channels)),Sr=0,Fr=0;Fr<ta;++Fr)for(var Tr=0;Tr<Hn;++Tr)for(var kr=0;kr<kn;++kr)Sa[Sr++]=dn[Fn*Tr+Sn*Fr+En*kr+Qr];C(yr,Sa)}else if(T(Qr)===de||T(Qr)===jt||T(Qr)===Ct)yr.element=T(Qr)===de||T(Qr)===jt?Qr:Qr.canvas,yr.width=yr.element.width,yr.height=yr.element.height,yr.channels=4;else if(T(Qr)===Wt)yr.element=Qr,yr.width=Qr.width,yr.height=Qr.height,yr.channels=4;else if(T(Qr)===Xt)yr.element=Qr,yr.width=Qr.naturalWidth,yr.height=Qr.naturalHeight,yr.channels=4;else if(T(Qr)===Ht)yr.element=Qr,yr.width=Qr.videoWidth,yr.height=Qr.videoHeight,yr.channels=4;else if(S(Qr)){for(dn=yr.width||Qr[0].length,Fn=yr.height||Qr.length,Sn=yr.channels,Sn=b(Qr[0][0])?Sn||Qr[0][0].length:Sn||1,En=Mt.shape(Qr),Hn=1,ta=0;ta<En.length;++ta)Hn*=En[ta];Hn=St.allocType(36193===yr.type?5126:yr.type,Hn),Mt.flatten(Qr,En,"",Hn),C(yr,Hn),yr.alignment=1,yr.width=dn,yr.height=Fn,yr.channels=Sn,yr.format=yr.internalformat=se[Sn],yr.needsFree=!0}}else yr.width=yr.width||1,yr.height=yr.height||1,yr.channels=yr.channels||4}function Ze(yr,tn,Qr,dn,Fn){var Sn=yr.element,En=yr.data,kn=yr.internalformat,Hn=yr.format,ta=yr.type,Sa=yr.width,Sr=yr.height;Me(yr),Sn?ce.texSubImage2D(tn,Fn,Qr,dn,Hn,ta,Sn):yr.compressed?ce.compressedTexSubImage2D(tn,Fn,Qr,dn,kn,Sa,Sr,En):yr.needsCopy?(gr(),ce.copyTexSubImage2D(tn,Fn,Qr,dn,yr.xOffset,yr.yOffset,Sa,Sr)):ce.texSubImage2D(tn,Fn,Qr,dn,Sa,Sr,Hn,ta,En)}function nr(){return Rn.pop()||new Ie}function ir(yr){yr.needsFree&&St.freeType(yr.data),Ie.call(yr),Rn.push(yr)}function lr(){pe.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ot(yr,tn,Qr){var dn=yr.images[0]=nr();yr.mipmask=1,dn.width=yr.width=tn,dn.height=yr.height=Qr,dn.channels=yr.channels=4}function Ut(yr,tn){var Qr=null;if(n(tn))be(Qr=yr.images[0]=nr(),yr),Fe(Qr,tn),yr.mipmask=1;else if(Se(yr,tn),Array.isArray(tn.mipmap))for(var dn=tn.mipmap,Fn=0;Fn<dn.length;++Fn)be(Qr=yr.images[Fn]=nr(),yr),Qr.width>>=Fn,Qr.height>>=Fn,Fe(Qr,dn[Fn]),yr.mipmask|=1<<Fn;else be(Qr=yr.images[0]=nr(),yr),Fe(Qr,tn),yr.mipmask=1;be(yr,yr.images[0])}function Ce(yr,tn){for(var Qr=yr.images,dn=0;dn<Qr.length&&Qr[dn];++dn){var Fn=Qr[dn],Sn=tn,En=dn,kn=Fn.element,Hn=Fn.data,ta=Fn.internalformat,Sa=Fn.format,Sr=Fn.type,Fr=Fn.width,Tr=Fn.height;Me(Fn),kn?ce.texImage2D(Sn,En,Sa,Sa,Sr,kn):Fn.compressed?ce.compressedTexImage2D(Sn,En,ta,Fr,Tr,0,Hn):Fn.needsCopy?(gr(),ce.copyTexImage2D(Sn,En,Sa,Fn.xOffset,Fn.yOffset,Fr,Tr,0)):ce.texImage2D(Sn,En,Sa,Fr,Tr,0,Sa,Sr,Hn||null)}}function Le(){var yr=Kn.pop()||new lr;pe.call(yr);for(var tn=yr.mipmask=0;16>tn;++tn)yr.images[tn]=null;return yr}function Xe(yr){for(var tn=yr.images,Qr=0;Qr<tn.length;++Qr)tn[Qr]&&ir(tn[Qr]),tn[Qr]=null;Kn.push(yr)}function _e(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function fr(yr,tn){"min"in tn&&(yr.minFilter=Gr[tn.min],0<=oe.indexOf(yr.minFilter)&&!("faces"in tn)&&(yr.genMipmaps=!0)),"mag"in tn&&(yr.magFilter=Ar[tn.mag]);var Qr=yr.wrapS,dn=yr.wrapT;if("wrap"in tn){var Fn=tn.wrap;"string"==typeof Fn?Qr=dn=$r[Fn]:Array.isArray(Fn)&&(Qr=$r[Fn[0]],dn=$r[Fn[1]])}else"wrapS"in tn&&(Qr=$r[tn.wrapS]),"wrapT"in tn&&(dn=$r[tn.wrapT]);if(yr.wrapS=Qr,yr.wrapT=dn,"anisotropic"in tn&&(yr.anisotropic=tn.anisotropic),"mipmap"in tn){switch(Qr=!1,typeof tn.mipmap){case"string":yr.mipmapHint=Cr[tn.mipmap],Qr=yr.genMipmaps=!0;break;case"boolean":Qr=yr.genMipmaps=tn.mipmap;break;case"object":yr.genMipmaps=!1,Qr=!0}!Qr||"min"in tn||(yr.minFilter=9984)}}function $e(yr,tn){ce.texParameteri(tn,10241,yr.minFilter),ce.texParameteri(tn,10240,yr.magFilter),ce.texParameteri(tn,10242,yr.wrapS),ce.texParameteri(tn,10243,yr.wrapT),Ue.ext_texture_filter_anisotropic&&ce.texParameteri(tn,34046,yr.anisotropic),yr.genMipmaps&&(ce.hint(33170,yr.mipmapHint),ce.generateMipmap(tn))}function Re(yr){pe.call(this),this.mipmask=0,this.internalformat=6408,this.id=_n++,this.refCount=1,this.target=yr,this.texture=ce.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new _e,ne.profile&&(this.stats={size:0})}function or(yr){ce.activeTexture(33984),ce.bindTexture(yr.target,yr.texture)}function dr(){var yr=Qn[0];yr?ce.bindTexture(yr.target,yr.texture):ce.bindTexture(3553,null)}function pr(yr){var tn=yr.texture,Qr=yr.unit,dn=yr.target;0<=Qr&&(ce.activeTexture(33984+Qr),ce.bindTexture(dn,null),Qn[Qr]=null),ce.deleteTexture(tn),yr.texture=null,yr.params=null,yr.pixels=null,yr.refCount=0,delete ua[yr.id],he.textureCount--}var Cr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},$r={repeat:10497,clamp:33071,mirror:33648},Ar={nearest:9728,linear:9729},Gr=_({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Ar),nn={none:0,browser:37444},Ur={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Tn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},bn={};Ue.ext_srgb&&(Tn.srgb=35904,Tn.srgba=35906),Ue.oes_texture_float&&(Ur.float32=Ur.float=5126),Ue.oes_texture_half_float&&(Ur.float16=Ur["half float"]=36193),Ue.webgl_depth_texture&&(_(Tn,{depth:6402,"depth stencil":34041}),_(Ur,{uint16:5123,uint32:5125,"depth stencil":34042})),Ue.webgl_compressed_texture_s3tc&&_(bn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Ue.webgl_compressed_texture_atc&&_(bn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Ue.webgl_compressed_texture_pvrtc&&_(bn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Ue.webgl_compressed_texture_etc1&&(bn["rgb etc1"]=36196);var ur=Array.prototype.slice.call(ce.getParameter(34467));Object.keys(bn).forEach(function(yr){var tn=bn[yr];0<=ur.indexOf(tn)&&(Tn[yr]=tn)});var Mr=Object.keys(Tn);Ye.textureFormats=Mr;var Br=[];Object.keys(Tn).forEach(function(yr){Br[Tn[yr]]=yr});var Or=[];Object.keys(Ur).forEach(function(yr){Or[Ur[yr]]=yr});var sn=[];Object.keys(Ar).forEach(function(yr){sn[Ar[yr]]=yr});var pn=[];Object.keys(Gr).forEach(function(yr){pn[Gr[yr]]=yr});var gn=[];Object.keys($r).forEach(function(yr){gn[$r[yr]]=yr});var wn=Mr.reduce(function(yr,tn){var Qr=Tn[tn];return yr[Qr]=6409===Qr||6406===Qr||6409===Qr||6410===Qr||6402===Qr||34041===Qr||Ue.ext_srgb&&(35904===Qr||35906===Qr)?Qr:32855===Qr||0<=tn.indexOf("rgba")?6408:6407,yr},{}),Rn=[],Kn=[],_n=0,ua={},qn=Ye.maxTextureUnits,Qn=Array(qn).map(function(){return null});return _(Re.prototype,{bind:function(){this.bindCount+=1;var yr=this.unit;if(0>yr){for(var tn=0;tn<qn;++tn){var Qr=Qn[tn];if(Qr){if(0<Qr.bindCount)continue;Qr.unit=-1}Qn[tn]=this,yr=tn;break}ne.profile&&he.maxTextureUnits<yr+1&&(he.maxTextureUnits=yr+1),this.unit=yr,ce.activeTexture(33984+yr),ce.bindTexture(this.target,this.texture)}return yr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&pr(this)}}),ne.profile&&(he.getTotalTextureSize=function(){var yr=0;return Object.keys(ua).forEach(function(tn){yr+=ua[tn].stats.size}),yr}),{create2D:function(yr,tn){function Qr(Fn,Sn){var En=dn.texInfo;_e.call(En);var kn=Le();return"number"==typeof Fn?Ot(kn,0|Fn,"number"==typeof Sn?0|Sn:0|Fn):Fn?(fr(En,Fn),Ut(kn,Fn)):Ot(kn,1,1),En.genMipmaps&&(kn.mipmask=(kn.width<<1)-1),dn.mipmask=kn.mipmask,be(dn,kn),dn.internalformat=kn.internalformat,Qr.width=kn.width,Qr.height=kn.height,or(dn),Ce(kn,3553),$e(En,3553),dr(),Xe(kn),ne.profile&&(dn.stats.size=p(dn.internalformat,dn.type,kn.width,kn.height,En.genMipmaps,!1)),Qr.format=Br[dn.internalformat],Qr.type=Or[dn.type],Qr.mag=sn[En.magFilter],Qr.min=pn[En.minFilter],Qr.wrapS=gn[En.wrapS],Qr.wrapT=gn[En.wrapT],Qr}var dn=new Re(3553);return ua[dn.id]=dn,he.textureCount++,Qr(yr,tn),Qr.subimage=function(Fn,Sn,En,kn){Sn|=0,En|=0,kn|=0;var Hn=nr();return be(Hn,dn),Hn.width=0,Hn.height=0,Fe(Hn,Fn),Hn.width=Hn.width||(dn.width>>kn)-Sn,Hn.height=Hn.height||(dn.height>>kn)-En,or(dn),Ze(Hn,3553,Sn,En,kn),dr(),ir(Hn),Qr},Qr.resize=function(Fn,Sn){var En=0|Fn,kn=0|Sn||En;if(En===dn.width&&kn===dn.height)return Qr;Qr.width=dn.width=En,Qr.height=dn.height=kn,or(dn);for(var Hn=0;dn.mipmask>>Hn;++Hn){var ta=En>>Hn,Sa=kn>>Hn;if(!ta||!Sa)break;ce.texImage2D(3553,Hn,dn.format,ta,Sa,0,dn.format,dn.type,null)}return dr(),ne.profile&&(dn.stats.size=p(dn.internalformat,dn.type,En,kn,!1,!1)),Qr},Qr._reglType="texture2d",Qr._texture=dn,ne.profile&&(Qr.stats=dn.stats),Qr.destroy=function(){dn.decRef()},Qr},createCube:function(yr,tn,Qr,dn,Fn,Sn){function En(ta,Sa,Sr,Fr,Tr,kr){var yn,Cn=kn.texInfo;for(_e.call(Cn),yn=0;6>yn;++yn)Hn[yn]=Le();if("number"!=typeof ta&&ta){if("object"==typeof ta)if(Sa)Ut(Hn[0],ta),Ut(Hn[1],Sa),Ut(Hn[2],Sr),Ut(Hn[3],Fr),Ut(Hn[4],Tr),Ut(Hn[5],kr);else if(fr(Cn,ta),Se(kn,ta),"faces"in ta)for(ta=ta.faces,yn=0;6>yn;++yn)be(Hn[yn],kn),Ut(Hn[yn],ta[yn]);else for(yn=0;6>yn;++yn)Ut(Hn[yn],ta)}else for(ta=0|ta||1,yn=0;6>yn;++yn)Ot(Hn[yn],ta,ta);for(be(kn,Hn[0]),kn.mipmask=Cn.genMipmaps?(Hn[0].width<<1)-1:Hn[0].mipmask,kn.internalformat=Hn[0].internalformat,En.width=Hn[0].width,En.height=Hn[0].height,or(kn),yn=0;6>yn;++yn)Ce(Hn[yn],34069+yn);for($e(Cn,34067),dr(),ne.profile&&(kn.stats.size=p(kn.internalformat,kn.type,En.width,En.height,Cn.genMipmaps,!0)),En.format=Br[kn.internalformat],En.type=Or[kn.type],En.mag=sn[Cn.magFilter],En.min=pn[Cn.minFilter],En.wrapS=gn[Cn.wrapS],En.wrapT=gn[Cn.wrapT],yn=0;6>yn;++yn)Xe(Hn[yn]);return En}var kn=new Re(34067);ua[kn.id]=kn,he.cubeCount++;var Hn=Array(6);return En(yr,tn,Qr,dn,Fn,Sn),En.subimage=function(ta,Sa,Sr,Fr,Tr){Sr|=0,Fr|=0,Tr|=0;var kr=nr();return be(kr,kn),kr.width=0,kr.height=0,Fe(kr,Sa),kr.width=kr.width||(kn.width>>Tr)-Sr,kr.height=kr.height||(kn.height>>Tr)-Fr,or(kn),Ze(kr,34069+ta,Sr,Fr,Tr),dr(),ir(kr),En},En.resize=function(ta){if((ta|=0)!==kn.width){En.width=kn.width=ta,En.height=kn.height=ta,or(kn);for(var Sa=0;6>Sa;++Sa)for(var Sr=0;kn.mipmask>>Sr;++Sr)ce.texImage2D(34069+Sa,Sr,kn.format,ta>>Sr,ta>>Sr,0,kn.format,kn.type,null);return dr(),ne.profile&&(kn.stats.size=p(kn.internalformat,kn.type,En.width,En.height,!1,!0)),En}},En._reglType="textureCube",En._texture=kn,ne.profile&&(En.stats=kn.stats),En.destroy=function(){kn.decRef()},En},clear:function(){for(var yr=0;yr<qn;++yr)ce.activeTexture(33984+yr),ce.bindTexture(3553,null),Qn[yr]=null;gt(ua).forEach(pr),he.cubeCount=0,he.textureCount=0},getTexture:function(yr){return null},restore:function(){for(var yr=0;yr<qn;++yr){var tn=Qn[yr];tn&&(tn.bindCount=0,tn.unit=-1,Qn[yr]=null)}gt(ua).forEach(function(Qr){Qr.texture=ce.createTexture(),ce.bindTexture(Qr.target,Qr.texture);for(var dn=0;32>dn;++dn)if(0!=(Qr.mipmask&1<<dn))if(3553===Qr.target)ce.texImage2D(3553,dn,Qr.internalformat,Qr.width>>dn,Qr.height>>dn,0,Qr.internalformat,Qr.type,null);else for(var Fn=0;6>Fn;++Fn)ce.texImage2D(34069+Fn,dn,Qr.internalformat,Qr.width>>dn,Qr.height>>dn,0,Qr.internalformat,Qr.type,null);$e(Qr.texInfo,Qr.target)})},refresh:function(){for(var yr=0;yr<qn;++yr){var tn=Qn[yr];tn&&(tn.bindCount=0,tn.unit=-1,Qn[yr]=null),ce.activeTexture(33984+yr),ce.bindTexture(3553,null),ce.bindTexture(34067,null)}}}}(Ze,Ut,$e,function(){Gr.procs.poll()},_e,lr,ce),$r=function(ce,Ue,Ye,gr,tr){function he(Ie){this.id=Se++,this.refCount=1,this.renderbuffer=Ie,this.format=32854,this.height=this.width=0,tr.profile&&(this.stats={size:0})}function ne(Ie){var Fe=Ie.renderbuffer;ce.bindRenderbuffer(36161,null),ce.deleteRenderbuffer(Fe),Ie.renderbuffer=null,Ie.refCount=0,delete Me[Ie.id],gr.renderbufferCount--}var pe={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Ue.ext_srgb&&(pe.srgba=35907),Ue.ext_color_buffer_half_float&&(pe.rgba16f=34842,pe.rgb16f=34843),Ue.webgl_color_buffer_float&&(pe.rgba32f=34836);var be=[];Object.keys(pe).forEach(function(Ie){be[pe[Ie]]=Ie});var Se=0,Me={};return he.prototype.decRef=function(){0>=--this.refCount&&ne(this)},tr.profile&&(gr.getTotalRenderbufferSize=function(){var Ie=0;return Object.keys(Me).forEach(function(Fe){Ie+=Me[Fe].stats.size}),Ie}),{create:function(Ie,Fe){function Ze(ir,lr){var Ot=0,Ut=0,Ce=32854;if("object"==typeof ir&&ir?("shape"in ir?(Ot=0|(Ut=ir.shape)[0],Ut=0|Ut[1]):("radius"in ir&&(Ot=Ut=0|ir.radius),"width"in ir&&(Ot=0|ir.width),"height"in ir&&(Ut=0|ir.height)),"format"in ir&&(Ce=pe[ir.format])):"number"==typeof ir?(Ot=0|ir,Ut="number"==typeof lr?0|lr:Ot):ir||(Ot=Ut=1),Ot!==nr.width||Ut!==nr.height||Ce!==nr.format)return Ze.width=nr.width=Ot,Ze.height=nr.height=Ut,nr.format=Ce,ce.bindRenderbuffer(36161,nr.renderbuffer),ce.renderbufferStorage(36161,Ce,Ot,Ut),tr.profile&&(nr.stats.size=wt[nr.format]*nr.width*nr.height),Ze.format=be[nr.format],Ze}var nr=new he(ce.createRenderbuffer());return Me[nr.id]=nr,gr.renderbufferCount++,Ze(Ie,Fe),Ze.resize=function(ir,lr){var Ot=0|ir,Ut=0|lr||Ot;return Ot===nr.width&&Ut===nr.height||(Ze.width=nr.width=Ot,Ze.height=nr.height=Ut,ce.bindRenderbuffer(36161,nr.renderbuffer),ce.renderbufferStorage(36161,nr.format,Ot,Ut),tr.profile&&(nr.stats.size=wt[nr.format]*nr.width*nr.height)),Ze},Ze._reglType="renderbuffer",Ze._renderbuffer=nr,tr.profile&&(Ze.stats=nr.stats),Ze.destroy=function(){nr.decRef()},Ze},clear:function(){gt(Me).forEach(ne)},restore:function(){gt(Me).forEach(function(Ie){Ie.renderbuffer=ce.createRenderbuffer(),ce.bindRenderbuffer(36161,Ie.renderbuffer),ce.renderbufferStorage(36161,Ie.format,Ie.width,Ie.height)}),ce.bindRenderbuffer(36161,null)}}}(Ze,Ut,0,lr,ce),Ar=function D(ce,Ue,Ye,gr,tr,he){function ne(Re,or,dr){this.target=Re,this.texture=or,this.renderbuffer=dr;var pr=Re=0;or?(Re=or.width,pr=or.height):dr&&(Re=dr.width,pr=dr.height),this.width=Re,this.height=pr}function pe(Re){Re&&(Re.texture&&Re.texture._texture.decRef(),Re.renderbuffer&&Re.renderbuffer._renderbuffer.decRef())}function be(Re,or,dr){Re&&(Re.texture?Re.texture._texture.refCount+=1:Re.renderbuffer._renderbuffer.refCount+=1)}function Se(Re,or){or&&(or.texture?ce.framebufferTexture2D(36160,Re,or.target,or.texture._texture.texture,0):ce.framebufferRenderbuffer(36160,Re,36161,or.renderbuffer._renderbuffer.renderbuffer))}function Me(Re){var or=3553,dr=null,pr=null,Cr=Re;return"object"==typeof Re&&(Cr=Re.data,"target"in Re&&(or=0|Re.target)),"texture2d"===(Re=Cr._reglType)||"textureCube"===Re?dr=Cr:"renderbuffer"===Re&&(pr=Cr,or=36161),new ne(or,dr,pr)}function Ie(Re,or,dr,pr,Cr){return dr?((Re=gr.create2D({width:Re,height:or,format:pr,type:Cr}))._texture.refCount=0,new ne(3553,Re,null)):((Re=tr.create({width:Re,height:or,format:pr}))._renderbuffer.refCount=0,new ne(36161,null,Re))}function Fe(Re){return Re&&(Re.texture||Re.renderbuffer)}function Ze(Re,or,dr){Re&&(Re.texture?Re.texture.resize(or,dr):Re.renderbuffer&&Re.renderbuffer.resize(or,dr),Re.width=or,Re.height=dr)}function nr(){this.id=fr++,$e[this.id]=this,this.framebuffer=ce.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function ir(Re){Re.colorAttachments.forEach(pe),pe(Re.depthAttachment),pe(Re.stencilAttachment),pe(Re.depthStencilAttachment)}function lr(Re){ce.deleteFramebuffer(Re.framebuffer),Re.framebuffer=null,he.framebufferCount--,delete $e[Re.id]}function Ot(Re){var or;ce.bindFramebuffer(36160,Re.framebuffer);var dr=Re.colorAttachments;for(or=0;or<dr.length;++or)Se(36064+or,dr[or]);for(or=dr.length;or<Ye.maxColorAttachments;++or)ce.framebufferTexture2D(36160,36064+or,3553,null,0);ce.framebufferTexture2D(36160,33306,3553,null,0),ce.framebufferTexture2D(36160,36096,3553,null,0),ce.framebufferTexture2D(36160,36128,3553,null,0),Se(36096,Re.depthAttachment),Se(36128,Re.stencilAttachment),Se(33306,Re.depthStencilAttachment),ce.checkFramebufferStatus(36160),ce.isContextLost(),ce.bindFramebuffer(36160,Ce.next?Ce.next.framebuffer:null),Ce.cur=Ce.next,ce.getError()}function Ut(Re,or){function dr(Cr,$r){var Ar,Gr=0,nn=0,Ur=!0,Tn=!0;Ar=null;var bn=!0,ur="rgba",Mr="uint8",Br=1,Or=null,sn=null,pn=null,gn=!1;"number"==typeof Cr?(Gr=0|Cr,nn=0|$r||Gr):Cr?("shape"in Cr?(Gr=(nn=Cr.shape)[0],nn=nn[1]):("radius"in Cr&&(Gr=nn=Cr.radius),"width"in Cr&&(Gr=Cr.width),"height"in Cr&&(nn=Cr.height)),("color"in Cr||"colors"in Cr)&&(Ar=Cr.color||Cr.colors,Array.isArray(Ar)),Ar||("colorCount"in Cr&&(Br=0|Cr.colorCount),"colorTexture"in Cr&&(bn=!!Cr.colorTexture,ur="rgba4"),"colorType"in Cr&&(Mr=Cr.colorType,!bn)&&("half float"===Mr||"float16"===Mr?ur="rgba16f":("float"===Mr||"float32"===Mr)&&(ur="rgba32f")),"colorFormat"in Cr&&(0<=Le.indexOf(ur=Cr.colorFormat)?bn=!0:0<=Xe.indexOf(ur)&&(bn=!1))),("depthTexture"in Cr||"depthStencilTexture"in Cr)&&(gn=!(!Cr.depthTexture&&!Cr.depthStencilTexture)),"depth"in Cr&&("boolean"==typeof Cr.depth?Ur=Cr.depth:(Or=Cr.depth,Tn=!1)),"stencil"in Cr&&("boolean"==typeof Cr.stencil?Tn=Cr.stencil:(sn=Cr.stencil,Ur=!1)),"depthStencil"in Cr&&("boolean"==typeof Cr.depthStencil?Ur=Tn=Cr.depthStencil:(pn=Cr.depthStencil,Tn=Ur=!1))):Gr=nn=1;var wn=null,Rn=null,Kn=null,_n=null;if(Array.isArray(Ar))wn=Ar.map(Me);else if(Ar)wn=[Me(Ar)];else for(wn=Array(Br),Ar=0;Ar<Br;++Ar)wn[Ar]=Ie(Gr,nn,bn,ur,Mr);for(Gr=Gr||wn[0].width,nn=nn||wn[0].height,Or?Rn=Me(Or):Ur&&!Tn&&(Rn=Ie(Gr,nn,gn,"depth","uint32")),sn?Kn=Me(sn):Tn&&!Ur&&(Kn=Ie(Gr,nn,!1,"stencil","uint8")),pn?_n=Me(pn):!Or&&!sn&&Tn&&Ur&&(_n=Ie(Gr,nn,gn,"depth stencil","depth stencil")),Ur=null,Ar=0;Ar<wn.length;++Ar)be(wn[Ar]),wn[Ar]&&wn[Ar].texture&&(Tn=pt[wn[Ar].texture._texture.format]*Dt[wn[Ar].texture._texture.type],null===Ur&&(Ur=Tn));return be(Rn),be(Kn),be(_n),ir(pr),pr.width=Gr,pr.height=nn,pr.colorAttachments=wn,pr.depthAttachment=Rn,pr.stencilAttachment=Kn,pr.depthStencilAttachment=_n,dr.color=wn.map(Fe),dr.depth=Fe(Rn),dr.stencil=Fe(Kn),dr.depthStencil=Fe(_n),dr.width=pr.width,dr.height=pr.height,Ot(pr),dr}var pr=new nr;return he.framebufferCount++,dr(Re,or),_(dr,{resize:function(Cr,$r){var Ar=Math.max(0|Cr,1),Gr=Math.max(0|$r||Ar,1);if(Ar===pr.width&&Gr===pr.height)return dr;for(var nn=pr.colorAttachments,Ur=0;Ur<nn.length;++Ur)Ze(nn[Ur],Ar,Gr);return Ze(pr.depthAttachment,Ar,Gr),Ze(pr.stencilAttachment,Ar,Gr),Ze(pr.depthStencilAttachment,Ar,Gr),pr.width=dr.width=Ar,pr.height=dr.height=Gr,Ot(pr),dr},_reglType:"framebuffer",_framebuffer:pr,destroy:function(){lr(pr),ir(pr)},use:function(Cr){Ce.setFBO({framebuffer:dr},Cr)}})}var Ce={cur:null,next:null,dirty:!1,setFBO:null},Le=["rgba"],Xe=["rgba4","rgb565","rgb5 a1"];Ue.ext_srgb&&Xe.push("srgba"),Ue.ext_color_buffer_half_float&&Xe.push("rgba16f","rgb16f"),Ue.webgl_color_buffer_float&&Xe.push("rgba32f");var _e=["uint8"];Ue.oes_texture_half_float&&_e.push("half float","float16"),Ue.oes_texture_float&&_e.push("float","float32");var fr=0,$e={};return _(Ce,{getFramebuffer:function(Re){return"function"==typeof Re&&"framebuffer"===Re._reglType&&(Re=Re._framebuffer)instanceof nr?Re:null},create:Ut,createCube:function(Re){function or(pr){var Cr,$r={color:null},Ar=0,Gr=null;Cr="rgba";var nn="uint8",Ur=1;if("number"==typeof pr?Ar=0|pr:pr?("shape"in pr?Ar=pr.shape[0]:("radius"in pr&&(Ar=0|pr.radius),"width"in pr?Ar=0|pr.width:"height"in pr&&(Ar=0|pr.height)),("color"in pr||"colors"in pr)&&(Gr=pr.color||pr.colors,Array.isArray(Gr)),Gr||("colorCount"in pr&&(Ur=0|pr.colorCount),"colorType"in pr&&(nn=pr.colorType),"colorFormat"in pr&&(Cr=pr.colorFormat)),"depth"in pr&&($r.depth=pr.depth),"stencil"in pr&&($r.stencil=pr.stencil),"depthStencil"in pr&&($r.depthStencil=pr.depthStencil)):Ar=1,Gr)if(Array.isArray(Gr))for(pr=[],Cr=0;Cr<Gr.length;++Cr)pr[Cr]=Gr[Cr];else pr=[Gr];else for(pr=Array(Ur),Gr={radius:Ar,format:Cr,type:nn},Cr=0;Cr<Ur;++Cr)pr[Cr]=gr.createCube(Gr);for($r.color=Array(pr.length),Cr=0;Cr<pr.length;++Cr)Ur=pr[Cr],Ar=Ar||Ur.width,$r.color[Cr]={target:34069,data:pr[Cr]};for(Cr=0;6>Cr;++Cr){for(Ur=0;Ur<pr.length;++Ur)$r.color[Ur].target=34069+Cr;0<Cr&&($r.depth=dr[0].depth,$r.stencil=dr[0].stencil,$r.depthStencil=dr[0].depthStencil),dr[Cr]?dr[Cr]($r):dr[Cr]=Ut($r)}return _(or,{width:Ar,height:Ar,color:pr})}var dr=Array(6);return or(Re),_(or,{faces:dr,resize:function(pr){var Cr=0|pr;if(Cr===or.width)return or;var $r=or.color;for(pr=0;pr<$r.length;++pr)$r[pr].resize(Cr);for(pr=0;6>pr;++pr)dr[pr].resize(Cr);return or.width=or.height=Cr,or},_reglType:"framebufferCube",destroy:function(){dr.forEach(function(pr){pr.destroy()})}})},clear:function(){gt($e).forEach(lr)},restore:function(){Ce.cur=null,Ce.next=null,Ce.dirty=!0,gt($e).forEach(function(Re){Re.framebuffer=ce.createFramebuffer(),Ot(Re)})}})}(Ze,Ut,$e,Cr,$r,lr),Gr=Y(Ze,nn,Ut,$e,Re,or,0,Ar,{},dr,pr,fr,_e,Ce,Ot,ce),Ur=(nn=B(Ze,Ar,Gr.procs.poll,_e),Gr.next),Tn=Ze.canvas,bn=[],ur=[],Mr=[],Br=[ce.onDestroy],Or=null;Tn&&(Tn.addEventListener("webglcontextlost",tr,!1),Tn.addEventListener("webglcontextrestored",he,!1));var sn=Ar.setFBO=ne({framebuffer:dt.define.call(null,1,"framebuffer")});return Ie(),nr=_(ne,{clear:function(pn){if("framebuffer"in pn)if(pn.framebuffer&&"framebufferCube"===pn.framebuffer_reglType)for(var gn=0;6>gn;++gn)sn(_({framebuffer:pn.framebuffer.faces[gn]},pn),pe);else sn(pn,pe);else pe(0,pn)},prop:dt.define.bind(null,1),context:dt.define.bind(null,2),this:dt.define.bind(null,3),draw:ne({}),buffer:function(pn){return Re.create(pn,34962,!1,!1)},elements:function(pn){return or.create(pn,!1)},texture:Cr.create2D,cube:Cr.createCube,renderbuffer:$r.create,framebuffer:Ar.create,framebufferCube:Ar.createCube,vao:dr.createVAO,attributes:nr,frame:be,on:function(pn,gn){var wn;switch(pn){case"frame":return be(gn);case"lost":wn=ur;break;case"restore":wn=Mr;break;case"destroy":wn=Br}return wn.push(gn),{cancel:function(){for(var Rn=0;Rn<wn.length;++Rn)if(wn[Rn]===gn){wn[Rn]=wn[wn.length-1],wn.pop();break}}}},limits:$e,hasExtension:function(pn){return 0<=$e.extensions.indexOf(pn.toLowerCase())},read:nn,destroy:function(){bn.length=0,gr(),Tn&&(Tn.removeEventListener("webglcontextlost",tr),Tn.removeEventListener("webglcontextrestored",he)),pr.clear(),Ar.clear(),$r.clear(),dr.clear(),Cr.clear(),or.clear(),Re.clear(),Ce&&Ce.clear(),Br.forEach(function(pn){pn()})},_gl:Ze,_refresh:Ie,poll:function(){Me(),Ce&&Ce.update()},now:Fe,stats:lr,getCachedCode:function(){return Ot},preloadCachedCode:function(pn){Object.entries(pn).forEach(function(gn){Ot[gn[0]]=gn[1]})}}),ce.onDone(null,nr),nr}},tt.exports=t()},30456:function(tt,W,t){var A=t(33576),y=A.Buffer;function i(L,l){for(var m in L)l[m]=L[m]}function P(L,l,m){return y(L,l,m)}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?tt.exports=A:(i(A,W),W.Buffer=P),P.prototype=Object.create(y.prototype),i(y,P),P.from=function(L,l,m){if("number"==typeof L)throw new TypeError("Argument must not be a number");return y(L,l,m)},P.alloc=function(L,l,m){if("number"!=typeof L)throw new TypeError("Argument must be a number");var r=y(L);return void 0!==l?"string"==typeof m?r.fill(l,m):r.fill(l):r.fill(0),r},P.allocUnsafe=function(L){if("number"!=typeof L)throw new TypeError("Argument must be a number");return y(L)},P.allocUnsafeSlow=function(L){if("number"!=typeof L)throw new TypeError("Argument must be a number");return A.SlowBuffer(L)}},14500:function(tt,W,t){"use strict";var A=t(53664),y=t(64348),i=t(39640)(),P=t(2304),L=A("%TypeError%"),l=A("%Math.floor%");tt.exports=function(r,e){if("function"!=typeof r)throw new L("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||l(e)!==e)throw new L("`length` must be a positive 32-bit integer");var s=arguments.length>2&&!!arguments[2],a=!0,h=!0;if("length"in r&&P){var f=P(r,"length");f&&!f.configurable&&(a=!1),f&&!f.writable&&(h=!1)}return(a||h||!s)&&(i?y(r,"length",e,!0,!0):y(r,"length",e)),r}},29936:function(tt,W,t){tt.exports=i;var A=t(61252).EventEmitter;function i(){A.call(this)}t(6768)(i,A),i.Readable=t(12348),i.Writable=t(11288),i.Duplex=t(15316),i.Transform=t(22477),i.PassThrough=t(27136),i.finished=t(15932),i.pipeline=t(38180),i.Stream=i,i.prototype.pipe=function(P,L){var l=this;function m(u){P.writable&&!1===P.write(u)&&l.pause&&l.pause()}function r(){l.readable&&l.resume&&l.resume()}l.on("data",m),P.on("drain",r),!P._isStdio&&(!L||!1!==L.end)&&(l.on("end",s),l.on("close",a));var e=!1;function s(){e||(e=!0,P.end())}function a(){e||(e=!0,"function"==typeof P.destroy&&P.destroy())}function h(u){if(f(),0===A.listenerCount(this,"error"))throw u}function f(){l.removeListener("data",m),P.removeListener("drain",r),l.removeListener("end",s),l.removeListener("close",a),l.removeListener("error",h),P.removeListener("error",h),l.removeListener("end",f),l.removeListener("close",f),P.removeListener("close",f)}return l.on("error",h),P.on("error",h),l.on("end",f),l.on("close",f),P.on("close",f),P.emit("pipe",l),P}},92784:function(tt){"use strict";var t={};function A(l,m,r){r||(r=Error);var s=function(a){function h(f,u,g){return a.call(this,function e(a,h,f){return"string"==typeof m?m:m(a,h,f)}(f,u,g))||this}return function W(l,m){l.prototype=Object.create(m.prototype),l.prototype.constructor=l,l.__proto__=m}(h,a),h}(r);s.prototype.name=r.name,s.prototype.code=l,t[l]=s}function y(l,m){if(Array.isArray(l)){var r=l.length;return l=l.map(function(e){return String(e)}),r>2?"one of ".concat(m," ").concat(l.slice(0,r-1).join(", "),", or ")+l[r-1]:2===r?"one of ".concat(m," ").concat(l[0]," or ").concat(l[1]):"of ".concat(m," ").concat(l[0])}return"of ".concat(m," ").concat(String(l))}A("ERR_INVALID_OPT_VALUE",function(l,m){return'The value "'+m+'" is invalid for option "'+l+'"'},TypeError),A("ERR_INVALID_ARG_TYPE",function(l,m,r){var e,s;if("string"==typeof m&&function i(l,m,r){return l.substr(!r||r<0?0:+r,m.length)===m}(m,"not ")?(e="must not be",m=m.replace(/^not /,"")):e="must be",function P(l,m,r){return(void 0===r||r>l.length)&&(r=l.length),l.substring(r-m.length,r)===m}(l," argument"))s="The ".concat(l," ").concat(e," ").concat(y(m,"type"));else{var a=function L(l,m,r){return"number"!=typeof r&&(r=0),!(r+m.length>l.length)&&-1!==l.indexOf(m,r)}(l,".")?"property":"argument";s='The "'.concat(l,'" ').concat(a," ").concat(e," ").concat(y(m,"type"))}return s+". Received type ".concat(typeof r)},TypeError),A("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),A("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),A("ERR_STREAM_PREMATURE_CLOSE","Premature close"),A("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),A("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),A("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),A("ERR_STREAM_WRITE_AFTER_END","write after end"),A("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),A("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),A("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),tt.exports.i=t},15316:function(tt,W,t){"use strict";var A=t(4168),y=Object.keys||function(a){var h=[];for(var f in a)h.push(f);return h};tt.exports=r;var i=t(12348),P=t(11288);t(6768)(r,i);for(var L=y(P.prototype),l=0;l<L.length;l++){var m=L[l];r.prototype[m]||(r.prototype[m]=P.prototype[m])}function r(a){if(!(this instanceof r))return new r(a);i.call(this,a),P.call(this,a),this.allowHalfOpen=!0,a&&(!1===a.readable&&(this.readable=!1),!1===a.writable&&(this.writable=!1),!1===a.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",e)))}function e(){this._writableState.ended||A.nextTick(s,this)}function s(a){a.end()}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(h){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=h,this._writableState.destroyed=h)}})},27136:function(tt,W,t){"use strict";tt.exports=y;var A=t(22477);function y(i){if(!(this instanceof y))return new y(i);A.call(this,i)}t(6768)(y,A),y.prototype._transform=function(i,P,L){L(null,i)}},12348:function(tt,W,t){"use strict";var y,A=t(4168);tt.exports=C,C.ReadableState=n,t(61252);var P=function(nt,_){return nt.listeners(_).length},L=t(4776),l=t(33576).Buffer,m=t.g.Uint8Array||function(){};var a,s=t(19768);a=s&&s.debuglog?s.debuglog("stream"):function(){};var M,b,E,h=t(47264),f=t(55324),g=t(24888).getHighWaterMark,c=t(92784).i,w=c.ERR_INVALID_ARG_TYPE,d=c.ERR_STREAM_PUSH_AFTER_EOF,o=c.ERR_METHOD_NOT_IMPLEMENTED,v=c.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t(6768)(C,L);var x=f.errorOrDestroy,S=["error","close","destroy","pause","resume"];function n(Y,nt,_){y=y||t(15316),"boolean"!=typeof _&&(_=nt instanceof y),this.objectMode=!!(Y=Y||{}).objectMode,_&&(this.objectMode=this.objectMode||!!Y.readableObjectMode),this.highWaterMark=g(this,Y,"readableHighWaterMark",_),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==Y.emitClose,this.autoDestroy=!!Y.autoDestroy,this.destroyed=!1,this.defaultEncoding=Y.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Y.encoding&&(M||(M=t(86032).o),this.decoder=new M(Y.encoding),this.encoding=Y.encoding)}function C(Y){if(y=y||t(15316),!(this instanceof C))return new C(Y);this._readableState=new n(Y,this,this instanceof y),this.readable=!0,Y&&("function"==typeof Y.read&&(this._read=Y.read),"function"==typeof Y.destroy&&(this._destroy=Y.destroy)),L.call(this)}function p(Y,nt,_,st,dt){a("readableAddChunk",nt);var yt,xt=Y._readableState;if(null===nt)xt.reading=!1,function B(Y,nt){if(a("onEofChunk"),!nt.ended){if(nt.decoder){var _=nt.decoder.end();_&&_.length&&(nt.buffer.push(_),nt.length+=nt.objectMode?1:_.length)}nt.ended=!0,nt.sync?O(Y):(nt.needReadable=!1,nt.emittedReadable||(nt.emittedReadable=!0,U(Y)))}}(Y,xt);else if(dt||(yt=function D(Y,nt){var _;return!function e(Y){return l.isBuffer(Y)||Y instanceof m}(nt)&&"string"!=typeof nt&&void 0!==nt&&!Y.objectMode&&(_=new w("chunk",["string","Buffer","Uint8Array"],nt)),_}(xt,nt)),yt)x(Y,yt);else if(xt.objectMode||nt&&nt.length>0)if("string"!=typeof nt&&!xt.objectMode&&Object.getPrototypeOf(nt)!==l.prototype&&(nt=function r(Y){return l.from(Y)}(nt)),st)xt.endEmitted?x(Y,new v):F(Y,xt,nt,!0);else if(xt.ended)x(Y,new d);else{if(xt.destroyed)return!1;xt.reading=!1,xt.decoder&&!_?(nt=xt.decoder.write(nt),xt.objectMode||0!==nt.length?F(Y,xt,nt,!1):G(Y,xt)):F(Y,xt,nt,!1)}else st||(xt.reading=!1,G(Y,xt));return!xt.ended&&(xt.length<xt.highWaterMark||0===xt.length)}function F(Y,nt,_,st){nt.flowing&&0===nt.length&&!nt.sync?(nt.awaitDrain=0,Y.emit("data",_)):(nt.length+=nt.objectMode?1:_.length,st?nt.buffer.unshift(_):nt.buffer.push(_),nt.needReadable&&O(Y)),G(Y,nt)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(nt){!this._readableState||(this._readableState.destroyed=nt)}}),C.prototype.destroy=f.destroy,C.prototype._undestroy=f.undestroy,C.prototype._destroy=function(Y,nt){nt(Y)},C.prototype.push=function(Y,nt){var st,_=this._readableState;return _.objectMode?st=!0:"string"==typeof Y&&((nt=nt||_.defaultEncoding)!==_.encoding&&(Y=l.from(Y,nt),nt=""),st=!0),p(this,Y,nt,!1,st)},C.prototype.unshift=function(Y){return p(this,Y,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(Y){M||(M=t(86032).o);var nt=new M(Y);this._readableState.decoder=nt,this._readableState.encoding=this._readableState.decoder.encoding;for(var _=this._readableState.buffer.head,st="";null!==_;)st+=nt.write(_.data),_=_.next;return this._readableState.buffer.clear(),""!==st&&this._readableState.buffer.push(st),this._readableState.length=st.length,this};var N=1073741824;function z(Y,nt){return Y<=0||0===nt.length&&nt.ended?0:nt.objectMode?1:Y!=Y?nt.flowing&&nt.length?nt.buffer.head.data.length:nt.length:(Y>nt.highWaterMark&&(nt.highWaterMark=function k(Y){return Y>=N?Y=N:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y}(Y)),Y<=nt.length?Y:nt.ended?nt.length:(nt.needReadable=!0,0))}function O(Y){var nt=Y._readableState;a("emitReadable",nt.needReadable,nt.emittedReadable),nt.needReadable=!1,nt.emittedReadable||(a("emitReadable",nt.flowing),nt.emittedReadable=!0,A.nextTick(U,Y))}function U(Y){var nt=Y._readableState;a("emitReadable_",nt.destroyed,nt.length,nt.ended),!nt.destroyed&&(nt.length||nt.ended)&&(Y.emit("readable"),nt.emittedReadable=!1),nt.needReadable=!nt.flowing&&!nt.ended&&nt.length<=nt.highWaterMark,rt(Y)}function G(Y,nt){nt.readingMore||(nt.readingMore=!0,A.nextTick(J,Y,nt))}function J(Y,nt){for(;!nt.reading&&!nt.ended&&(nt.length<nt.highWaterMark||nt.flowing&&0===nt.length);){var _=nt.length;if(a("maybeReadMore read 0"),Y.read(0),_===nt.length)break}nt.readingMore=!1}function at(Y){var nt=Y._readableState;nt.readableListening=Y.listenerCount("readable")>0,nt.resumeScheduled&&!nt.paused?nt.flowing=!0:Y.listenerCount("data")>0&&Y.resume()}function lt(Y){a("readable nexttick read 0"),Y.read(0)}function j(Y,nt){a("resume",nt.reading),nt.reading||Y.read(0),nt.resumeScheduled=!1,Y.emit("resume"),rt(Y),nt.flowing&&!nt.reading&&Y.read(0)}function rt(Y){var nt=Y._readableState;for(a("flow",nt.flowing);nt.flowing&&null!==Y.read(););}function H(Y,nt){return 0===nt.length?null:(nt.objectMode?_=nt.buffer.shift():!Y||Y>=nt.length?(_=nt.decoder?nt.buffer.join(""):1===nt.buffer.length?nt.buffer.first():nt.buffer.concat(nt.length),nt.buffer.clear()):_=nt.buffer.consume(Y,nt.decoder),_);var _}function Z(Y){var nt=Y._readableState;a("endReadable",nt.endEmitted),nt.endEmitted||(nt.ended=!0,A.nextTick(it,nt,Y))}function it(Y,nt){if(a("endReadableNT",Y.endEmitted,Y.length),!Y.endEmitted&&0===Y.length&&(Y.endEmitted=!0,nt.readable=!1,nt.emit("end"),Y.autoDestroy)){var _=nt._writableState;(!_||_.autoDestroy&&_.finished)&&nt.destroy()}}function Q(Y,nt){for(var _=0,st=Y.length;_<st;_++)if(Y[_]===nt)return _;return-1}C.prototype.read=function(Y){a("read",Y),Y=parseInt(Y,10);var nt=this._readableState,_=Y;if(0!==Y&&(nt.emittedReadable=!1),0===Y&&nt.needReadable&&((0!==nt.highWaterMark?nt.length>=nt.highWaterMark:nt.length>0)||nt.ended))return a("read: emitReadable",nt.length,nt.ended),0===nt.length&&nt.ended?Z(this):O(this),null;if(0===(Y=z(Y,nt))&&nt.ended)return 0===nt.length&&Z(this),null;var dt,st=nt.needReadable;return a("need readable",st),(0===nt.length||nt.length-Y<nt.highWaterMark)&&a("length less than watermark",st=!0),nt.ended||nt.reading?a("reading or ended",st=!1):st&&(a("do read"),nt.reading=!0,nt.sync=!0,0===nt.length&&(nt.needReadable=!0),this._read(nt.highWaterMark),nt.sync=!1,nt.reading||(Y=z(_,nt))),null===(dt=Y>0?H(Y,nt):null)?(nt.needReadable=nt.length<=nt.highWaterMark,Y=0):(nt.length-=Y,nt.awaitDrain=0),0===nt.length&&(nt.ended||(nt.needReadable=!0),_!==Y&&nt.ended&&Z(this)),null!==dt&&this.emit("data",dt),dt},C.prototype._read=function(Y){x(this,new o("_read()"))},C.prototype.pipe=function(Y,nt){var _=this,st=this._readableState;switch(st.pipesCount){case 0:st.pipes=Y;break;case 1:st.pipes=[st.pipes,Y];break;default:st.pipes.push(Y)}st.pipesCount+=1,a("pipe count=%d opts=%j",st.pipesCount,nt);var xt=nt&&!1===nt.end||Y===A.stdout||Y===A.stderr?Vt:St;function yt(re,le){a("onunpipe"),re===_&&le&&!1===le.hasUnpiped&&(le.hasUnpiped=!0,function gt(){a("cleanup"),Y.removeListener("close",Gt),Y.removeListener("finish",Pt),Y.removeListener("drain",Et),Y.removeListener("error",Nt),Y.removeListener("unpipe",yt),_.removeListener("end",St),_.removeListener("end",Vt),_.removeListener("data",Mt),Tt=!0,st.awaitDrain&&(!Y._writableState||Y._writableState.needDrain)&&Et()}())}function St(){a("onend"),Y.end()}st.endEmitted?A.nextTick(xt):_.once("end",xt),Y.on("unpipe",yt);var Et=function et(Y){return function(){var _=Y._readableState;a("pipeOnDrain",_.awaitDrain),_.awaitDrain&&_.awaitDrain--,0===_.awaitDrain&&P(Y,"data")&&(_.flowing=!0,rt(Y))}}(_);Y.on("drain",Et);var Tt=!1;function Mt(re){a("ondata");var le=Y.write(re);a("dest.write",le),!1===le&&((1===st.pipesCount&&st.pipes===Y||st.pipesCount>1&&-1!==Q(st.pipes,Y))&&!Tt&&(a("false write response, pause",st.awaitDrain),st.awaitDrain++),_.pause())}function Nt(re){a("onerror",re),Vt(),Y.removeListener("error",Nt),0===P(Y,"error")&&x(Y,re)}function Gt(){Y.removeListener("finish",Pt),Vt()}function Pt(){a("onfinish"),Y.removeListener("close",Gt),Vt()}function Vt(){a("unpipe"),_.unpipe(Y)}return _.on("data",Mt),function T(Y,nt,_){if("function"==typeof Y.prependListener)return Y.prependListener(nt,_);Y._events&&Y._events[nt]?Array.isArray(Y._events[nt])?Y._events[nt].unshift(_):Y._events[nt]=[_,Y._events[nt]]:Y.on(nt,_)}(Y,"error",Nt),Y.once("close",Gt),Y.once("finish",Pt),Y.emit("pipe",_),st.flowing||(a("pipe resume"),_.resume()),Y},C.prototype.unpipe=function(Y){var nt=this._readableState,_={hasUnpiped:!1};if(0===nt.pipesCount)return this;if(1===nt.pipesCount)return Y&&Y!==nt.pipes||(Y||(Y=nt.pipes),nt.pipes=null,nt.pipesCount=0,nt.flowing=!1,Y&&Y.emit("unpipe",this,_)),this;if(!Y){var st=nt.pipes,dt=nt.pipesCount;nt.pipes=null,nt.pipesCount=0,nt.flowing=!1;for(var xt=0;xt<dt;xt++)st[xt].emit("unpipe",this,{hasUnpiped:!1});return this}var yt=Q(nt.pipes,Y);return-1===yt||(nt.pipes.splice(yt,1),nt.pipesCount-=1,1===nt.pipesCount&&(nt.pipes=nt.pipes[0]),Y.emit("unpipe",this,_)),this},C.prototype.addListener=C.prototype.on=function(Y,nt){var _=L.prototype.on.call(this,Y,nt),st=this._readableState;return"data"===Y?(st.readableListening=this.listenerCount("readable")>0,!1!==st.flowing&&this.resume()):"readable"===Y&&!st.endEmitted&&!st.readableListening&&(st.readableListening=st.needReadable=!0,st.flowing=!1,st.emittedReadable=!1,a("on readable",st.length,st.reading),st.length?O(this):st.reading||A.nextTick(lt,this)),_},C.prototype.removeListener=function(Y,nt){var _=L.prototype.removeListener.call(this,Y,nt);return"readable"===Y&&A.nextTick(at,this),_},C.prototype.removeAllListeners=function(Y){var nt=L.prototype.removeAllListeners.apply(this,arguments);return("readable"===Y||void 0===Y)&&A.nextTick(at,this),nt},C.prototype.resume=function(){var Y=this._readableState;return Y.flowing||(a("resume"),Y.flowing=!Y.readableListening,function K(Y,nt){nt.resumeScheduled||(nt.resumeScheduled=!0,A.nextTick(j,Y,nt))}(this,Y)),Y.paused=!1,this},C.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(Y){var nt=this,_=this._readableState,st=!1;for(var dt in Y.on("end",function(){if(a("wrapped end"),_.decoder&&!_.ended){var yt=_.decoder.end();yt&&yt.length&&nt.push(yt)}nt.push(null)}),Y.on("data",function(yt){a("wrapped data"),_.decoder&&(yt=_.decoder.write(yt)),_.objectMode&&null==yt||!(_.objectMode||yt&&yt.length)||nt.push(yt)||(st=!0,Y.pause())}),Y)void 0===this[dt]&&"function"==typeof Y[dt]&&(this[dt]=function(St){return function(){return Y[St].apply(Y,arguments)}}(dt));for(var xt=0;xt<S.length;xt++)Y.on(S[xt],this.emit.bind(this,S[xt]));return this._read=function(yt){a("wrapped _read",yt),st&&(st=!1,Y.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===b&&(b=t(60328)),b(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(nt){this._readableState&&(this._readableState.flowing=nt)}}),C._fromList=H,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(Y,nt){return void 0===E&&(E=t(90555)),E(C,Y,nt)})},22477:function(tt,W,t){"use strict";tt.exports=r;var A=t(92784).i,y=A.ERR_METHOD_NOT_IMPLEMENTED,i=A.ERR_MULTIPLE_CALLBACK,P=A.ERR_TRANSFORM_ALREADY_TRANSFORMING,L=A.ERR_TRANSFORM_WITH_LENGTH_0,l=t(15316);function m(a,h){var f=this._transformState;f.transforming=!1;var u=f.writecb;if(null===u)return this.emit("error",new i);f.writechunk=null,f.writecb=null,null!=h&&this.push(h),u(a);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function r(a){if(!(this instanceof r))return new r(a);l.call(this,a),this._transformState={afterTransform:m.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.on("prefinish",e)}function e(){var a=this;"function"!=typeof this._flush||this._readableState.destroyed?s(this,null,null):this._flush(function(h,f){s(a,h,f)})}function s(a,h,f){if(h)return a.emit("error",h);if(null!=f&&a.push(f),a._writableState.length)throw new L;if(a._transformState.transforming)throw new P;return a.push(null)}t(6768)(r,l),r.prototype.push=function(a,h){return this._transformState.needTransform=!1,l.prototype.push.call(this,a,h)},r.prototype._transform=function(a,h,f){f(new y("_transform()"))},r.prototype._write=function(a,h,f){var u=this._transformState;if(u.writecb=f,u.writechunk=a,u.writeencoding=h,!u.transforming){var g=this._readableState;(u.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},r.prototype._read=function(a){var h=this._transformState;null===h.writechunk||h.transforming?h.needTransform=!0:(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform))},r.prototype._destroy=function(a,h){l.prototype._destroy.call(this,a,function(f){h(f)})}},11288:function(tt,W,t){"use strict";var P,A=t(4168);function i(rt){var H=this;this.next=null,this.entry=null,this.finish=function(){!function j(rt,H,Z){var it=rt.entry;for(rt.entry=null;it;){var Q=it.callback;H.pendingcb--,Q(Z),it=it.next}H.corkedRequestsFree.next=rt}(H,rt)}}tt.exports=n,n.WritableState=S;var L={deprecate:t(96656)},l=t(4776),m=t(33576).Buffer,r=t.g.Uint8Array||function(){};var T,a=t(55324),f=t(24888).getHighWaterMark,u=t(92784).i,g=u.ERR_INVALID_ARG_TYPE,c=u.ERR_METHOD_NOT_IMPLEMENTED,w=u.ERR_MULTIPLE_CALLBACK,d=u.ERR_STREAM_CANNOT_PIPE,o=u.ERR_STREAM_DESTROYED,v=u.ERR_STREAM_NULL_VALUES,M=u.ERR_STREAM_WRITE_AFTER_END,b=u.ERR_UNKNOWN_ENCODING,E=a.errorOrDestroy;function x(){}function S(rt,H,Z){P=P||t(15316),"boolean"!=typeof Z&&(Z=H instanceof P),this.objectMode=!!(rt=rt||{}).objectMode,Z&&(this.objectMode=this.objectMode||!!rt.writableObjectMode),this.highWaterMark=f(this,rt,"writableHighWaterMark",Z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===rt.decodeStrings),this.defaultEncoding=rt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){!function B(rt,H){var Z=rt._writableState,it=Z.sync,Q=Z.writecb;if("function"!=typeof Q)throw new w;if(function z(rt){rt.writing=!1,rt.writecb=null,rt.length-=rt.writelen,rt.writelen=0}(Z),H)!function k(rt,H,Z,it,Q){--H.pendingcb,Z?(A.nextTick(Q,it),A.nextTick(lt,rt,H),rt._writableState.errorEmitted=!0,E(rt,it)):(Q(it),rt._writableState.errorEmitted=!0,E(rt,it),lt(rt,H))}(rt,Z,it,H,Q);else{var Y=J(Z)||rt.destroyed;!Y&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&G(rt,Z),it?A.nextTick(O,rt,Z,Y,Q):O(rt,Z,Y,Q)}}(H,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==rt.emitClose,this.autoDestroy=!!rt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function n(rt){var H=this instanceof(P=P||t(15316));if(!H&&!T.call(n,this))return new n(rt);this._writableState=new S(rt,this,H),this.writable=!0,rt&&("function"==typeof rt.write&&(this._write=rt.write),"function"==typeof rt.writev&&(this._writev=rt.writev),"function"==typeof rt.destroy&&(this._destroy=rt.destroy),"function"==typeof rt.final&&(this._final=rt.final)),l.call(this)}function D(rt,H,Z,it,Q,Y){if(!Z){var nt=function F(rt,H,Z){return!rt.objectMode&&!1!==rt.decodeStrings&&"string"==typeof H&&(H=m.from(H,Z)),H}(H,it,Q);it!==nt&&(Z=!0,Q="buffer",it=nt)}var _=H.objectMode?1:it.length;H.length+=_;var st=H.length<H.highWaterMark;if(st||(H.needDrain=!0),H.writing||H.corked){var dt=H.lastBufferedRequest;H.lastBufferedRequest={chunk:it,encoding:Q,isBuf:Z,callback:Y,next:null},dt?dt.next=H.lastBufferedRequest:H.bufferedRequest=H.lastBufferedRequest,H.bufferedRequestCount+=1}else N(rt,H,!1,_,it,Q,Y);return st}function N(rt,H,Z,it,Q,Y,nt){H.writelen=it,H.writecb=nt,H.writing=!0,H.sync=!0,H.destroyed?H.onwrite(new o("write")):Z?rt._writev(Q,H.onwrite):rt._write(Q,Y,H.onwrite),H.sync=!1}function O(rt,H,Z,it){Z||function U(rt,H){0===H.length&&H.needDrain&&(H.needDrain=!1,rt.emit("drain"))}(rt,H),H.pendingcb--,it(),lt(rt,H)}function G(rt,H){H.bufferProcessing=!0;var Z=H.bufferedRequest;if(rt._writev&&Z&&Z.next){var Q=new Array(H.bufferedRequestCount),Y=H.corkedRequestsFree;Y.entry=Z;for(var nt=0,_=!0;Z;)Q[nt]=Z,Z.isBuf||(_=!1),Z=Z.next,nt+=1;Q.allBuffers=_,N(rt,H,!0,H.length,Q,"",Y.finish),H.pendingcb++,H.lastBufferedRequest=null,Y.next?(H.corkedRequestsFree=Y.next,Y.next=null):H.corkedRequestsFree=new i(H),H.bufferedRequestCount=0}else{for(;Z;){var st=Z.chunk;if(N(rt,H,!1,H.objectMode?1:st.length,st,Z.encoding,Z.callback),Z=Z.next,H.bufferedRequestCount--,H.writing)break}null===Z&&(H.lastBufferedRequest=null)}H.bufferedRequest=Z,H.bufferProcessing=!1}function J(rt){return rt.ending&&0===rt.length&&null===rt.bufferedRequest&&!rt.finished&&!rt.writing}function et(rt,H){rt._final(function(Z){H.pendingcb--,Z&&E(rt,Z),H.prefinished=!0,rt.emit("prefinish"),lt(rt,H)})}function lt(rt,H){var Z=J(H);if(Z&&(function at(rt,H){!H.prefinished&&!H.finalCalled&&("function"!=typeof rt._final||H.destroyed?(H.prefinished=!0,rt.emit("prefinish")):(H.pendingcb++,H.finalCalled=!0,A.nextTick(et,rt,H)))}(rt,H),0===H.pendingcb&&(H.finished=!0,rt.emit("finish"),H.autoDestroy))){var it=rt._readableState;(!it||it.autoDestroy&&it.endEmitted)&&rt.destroy()}return Z}t(6768)(n,l),S.prototype.getBuffer=function(){for(var H=this.bufferedRequest,Z=[];H;)Z.push(H),H=H.next;return Z},function(){try{Object.defineProperty(S.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(rt){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(n,Symbol.hasInstance,{value:function(H){return!!T.call(this,H)||this===n&&H&&H._writableState instanceof S}})):T=function(H){return H instanceof this},n.prototype.pipe=function(){E(this,new d)},n.prototype.write=function(rt,H,Z){var it=this._writableState,Q=!1,Y=!it.objectMode&&function s(rt){return m.isBuffer(rt)||rt instanceof r}(rt);return Y&&!m.isBuffer(rt)&&(rt=function e(rt){return m.from(rt)}(rt)),"function"==typeof H&&(Z=H,H=null),Y?H="buffer":H||(H=it.defaultEncoding),"function"!=typeof Z&&(Z=x),it.ending?function C(rt,H){var Z=new M;E(rt,Z),A.nextTick(H,Z)}(this,Z):(Y||function p(rt,H,Z,it){var Q;return null===Z?Q=new v:"string"!=typeof Z&&!H.objectMode&&(Q=new g("chunk",["string","Buffer"],Z)),!Q||(E(rt,Q),A.nextTick(it,Q),!1)}(this,it,rt,Z))&&(it.pendingcb++,Q=D(this,it,Y,rt,H,Z)),Q},n.prototype.cork=function(){this._writableState.corked++},n.prototype.uncork=function(){var rt=this._writableState;rt.corked&&(rt.corked--,!rt.writing&&!rt.corked&&!rt.bufferProcessing&&rt.bufferedRequest&&G(this,rt))},n.prototype.setDefaultEncoding=function(H){if("string"==typeof H&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new b(H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(n.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),n.prototype._write=function(rt,H,Z){Z(new c("_write()"))},n.prototype._writev=null,n.prototype.end=function(rt,H,Z){var it=this._writableState;return"function"==typeof rt?(Z=rt,rt=null,H=null):"function"==typeof H&&(Z=H,H=null),null!=rt&&this.write(rt,H),it.corked&&(it.corked=1,this.uncork()),it.ending||function K(rt,H,Z){H.ending=!0,lt(rt,H),Z&&(H.finished?A.nextTick(Z):rt.once("finish",Z)),H.ended=!0,rt.writable=!1}(this,it,Z),this},Object.defineProperty(n.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(n.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(H){!this._writableState||(this._writableState.destroyed=H)}}),n.prototype.destroy=a.destroy,n.prototype._undestroy=a.undestroy,n.prototype._destroy=function(rt,H){H(rt)}},60328:function(tt,W,t){"use strict";var y,A=t(4168);function i(o,v,M){return v in o?Object.defineProperty(o,v,{value:M,enumerable:!0,configurable:!0,writable:!0}):o[v]=M,o}var P=t(15932),L=Symbol("lastResolve"),l=Symbol("lastReject"),m=Symbol("error"),r=Symbol("ended"),e=Symbol("lastPromise"),s=Symbol("handlePromise"),a=Symbol("stream");function h(o,v){return{value:o,done:v}}function f(o){var v=o[L];if(null!==v){var M=o[a].read();null!==M&&(o[e]=null,o[L]=null,o[l]=null,v(h(M,!1)))}}function u(o){A.nextTick(f,o)}var c=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((i(y={get stream(){return this[a]},next:function(){var v=this,M=this[m];if(null!==M)return Promise.reject(M);if(this[r])return Promise.resolve(h(void 0,!0));if(this[a].destroyed)return new Promise(function(S,T){A.nextTick(function(){v[m]?T(v[m]):S(h(void 0,!0))})});var E,b=this[e];if(b)E=new Promise(function g(o,v){return function(M,b){o.then(function(){v[r]?M(h(void 0,!0)):v[s](M,b)},b)}}(b,this));else{var x=this[a].read();if(null!==x)return Promise.resolve(h(x,!1));E=new Promise(this[s])}return this[e]=E,E}},Symbol.asyncIterator,function(){return this}),i(y,"return",function(){var v=this;return new Promise(function(M,b){v[a].destroy(null,function(E){E?b(E):M(h(void 0,!0))})})}),y),c);tt.exports=function(v){var M,b=Object.create(w,(i(M={},a,{value:v,writable:!0}),i(M,L,{value:null,writable:!0}),i(M,l,{value:null,writable:!0}),i(M,m,{value:null,writable:!0}),i(M,r,{value:v._readableState.endEmitted,writable:!0}),i(M,s,{value:function(x,S){var T=b[a].read();T?(b[e]=null,b[L]=null,b[l]=null,x(h(T,!1))):(b[L]=x,b[l]=S)},writable:!0}),M));return b[e]=null,P(v,function(E){if(E&&"ERR_STREAM_PREMATURE_CLOSE"!==E.code){var x=b[l];return null!==x&&(b[e]=null,b[L]=null,b[l]=null,x(E)),void(b[m]=E)}var S=b[L];null!==S&&(b[e]=null,b[L]=null,b[l]=null,S(h(void 0,!0))),b[r]=!0}),v.on("readable",u.bind(null,b)),b}},47264:function(tt,W,t){"use strict";function A(f,u){var g=Object.keys(f);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(f);u&&(c=c.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),g.push.apply(g,c)}return g}function i(f,u,g){return u in f?Object.defineProperty(f,u,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[u]=g,f}function L(f,u){for(var g=0;g<u.length;g++){var c=u[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}var r=t(33576).Buffer,s=t(21576).inspect,a=s&&s.custom||"inspect";function h(f,u,g){r.prototype.copy.call(f,u,g)}tt.exports=function(){function f(){(function P(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}return function l(f,u,g){return u&&L(f.prototype,u),g&&L(f,g),f}(f,[{key:"push",value:function(g){var c={data:g,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(g){var c={data:g,next:this.head};0===this.length&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(0!==this.length){var g=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(0===this.length)return"";for(var c=this.head,w=""+c.data;c=c.next;)w+=g+c.data;return w}},{key:"concat",value:function(g){if(0===this.length)return r.alloc(0);for(var c=r.allocUnsafe(g>>>0),w=this.head,d=0;w;)h(w.data,c,d),d+=w.data.length,w=w.next;return c}},{key:"consume",value:function(g,c){var w;return g<this.head.data.length?(w=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):w=g===this.head.data.length?this.shift():c?this._getString(g):this._getBuffer(g),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var c=this.head,w=1,d=c.data;for(g-=d.length;c=c.next;){var o=c.data,v=g>o.length?o.length:g;if(d+=v===o.length?o:o.slice(0,g),0==(g-=v)){v===o.length?(++w,this.head=c.next?c.next:this.tail=null):(this.head=c,c.data=o.slice(v));break}++w}return this.length-=w,d}},{key:"_getBuffer",value:function(g){var c=r.allocUnsafe(g),w=this.head,d=1;for(w.data.copy(c),g-=w.data.length;w=w.next;){var o=w.data,v=g>o.length?o.length:g;if(o.copy(c,c.length-g,0,v),0==(g-=v)){v===o.length?(++d,this.head=w.next?w.next:this.tail=null):(this.head=w,w.data=o.slice(v));break}++d}return this.length-=d,c}},{key:a,value:function(g,c){return s(this,function y(f){for(var u=1;u<arguments.length;u++){var g=null!=arguments[u]?arguments[u]:{};u%2?A(Object(g),!0).forEach(function(c){i(f,c,g[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(g)):A(Object(g)).forEach(function(c){Object.defineProperty(f,c,Object.getOwnPropertyDescriptor(g,c))})}return f}({},c,{depth:0,customInspect:!1}))}}]),f}()},55324:function(tt,W,t){"use strict";var A=t(4168);function i(r,e){l(r,e),P(r)}function P(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function l(r,e){r.emit("error",e)}tt.exports={destroy:function y(r,e){var s=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(e?e(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,A.nextTick(l,this,r)):A.nextTick(l,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(f){!e&&f?s._writableState?s._writableState.errorEmitted?A.nextTick(P,s):(s._writableState.errorEmitted=!0,A.nextTick(i,s,f)):A.nextTick(i,s,f):e?(A.nextTick(P,s),e(f)):A.nextTick(P,s)}),this)},undestroy:function L(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function m(r,e){var s=r._readableState,a=r._writableState;s&&s.autoDestroy||a&&a.autoDestroy?r.destroy(e):r.emit("error",e)}}},15932:function(tt,W,t){"use strict";var A=t(92784).i.ERR_STREAM_PREMATURE_CLOSE;function i(){}tt.exports=function L(l,m,r){if("function"==typeof m)return L(l,null,m);m||(m={}),r=function y(l){var m=!1;return function(){if(!m){m=!0;for(var r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];l.apply(this,e)}}}(r||i);var e=m.readable||!1!==m.readable&&l.readable,s=m.writable||!1!==m.writable&&l.writable,a=function(){l.writable||f()},h=l._writableState&&l._writableState.finished,f=function(){s=!1,h=!0,e||r.call(l)},u=l._readableState&&l._readableState.endEmitted,g=function(){e=!1,u=!0,s||r.call(l)},c=function(v){r.call(l,v)},w=function(){var v;return e&&!u?((!l._readableState||!l._readableState.ended)&&(v=new A),r.call(l,v)):s&&!h?((!l._writableState||!l._writableState.ended)&&(v=new A),r.call(l,v)):void 0},d=function(){l.req.on("finish",f)};return function P(l){return l.setHeader&&"function"==typeof l.abort}(l)?(l.on("complete",f),l.on("abort",w),l.req?d():l.on("request",d)):s&&!l._writableState&&(l.on("end",a),l.on("close",a)),l.on("end",g),l.on("finish",f),!1!==m.error&&l.on("error",c),l.on("close",w),function(){l.removeListener("complete",f),l.removeListener("abort",w),l.removeListener("request",d),l.req&&l.req.removeListener("finish",f),l.removeListener("end",a),l.removeListener("close",a),l.removeListener("finish",f),l.removeListener("end",g),l.removeListener("error",c),l.removeListener("close",w)}}},90555:function(tt){tt.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(tt,W,t){"use strict";var A;var i=t(92784).i,P=i.ERR_MISSING_ARGS,L=i.ERR_STREAM_DESTROYED;function l(f){if(f)throw f}function r(f,u,g,c){c=function y(f){var u=!1;return function(){u||(u=!0,f.apply(void 0,arguments))}}(c);var w=!1;f.on("close",function(){w=!0}),void 0===A&&(A=t(15932)),A(f,{readable:u,writable:g},function(o){if(o)return c(o);w=!0,c()});var d=!1;return function(o){if(!w&&!d){if(d=!0,function m(f){return f.setHeader&&"function"==typeof f.abort}(f))return f.abort();if("function"==typeof f.destroy)return f.destroy();c(o||new L("pipe"))}}}function e(f){f()}function s(f,u){return f.pipe(u)}function a(f){return f.length&&"function"==typeof f[f.length-1]?f.pop():l}tt.exports=function h(){for(var f=arguments.length,u=new Array(f),g=0;g<f;g++)u[g]=arguments[g];var c=a(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new P("streams");var w,d=u.map(function(o,v){var M=v<u.length-1;return r(o,M,v>0,function(E){w||(w=E),E&&d.forEach(e),!M&&(d.forEach(e),c(w))})});return u.reduce(s)}},24888:function(tt,W,t){"use strict";var A=t(92784).i.ERR_INVALID_OPT_VALUE;tt.exports={getHighWaterMark:function i(P,L,l,m){var r=function y(P,L,l){return null!=P.highWaterMark?P.highWaterMark:L?P[l]:null}(L,m,l);if(null!=r){if(!isFinite(r)||Math.floor(r)!==r||r<0)throw new A(m?l:"highWaterMark",r);return Math.floor(r)}return P.objectMode?16:16384}}},4776:function(tt,W,t){tt.exports=t(61252).EventEmitter},86032:function(tt,W,t){"use strict";var A=t(30456).Buffer,y=A.isEncoding||function(d){switch((d=""+d)&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function L(d){var o;switch(this.encoding=function P(d){var o=function i(d){if(!d)return"utf8";for(var o;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(o)return;d=(""+d).toLowerCase(),o=!0}}(d);if("string"!=typeof o&&(A.isEncoding===y||!y(d)))throw new Error("Unknown encoding: "+d);return o||d}(d),this.encoding){case"utf16le":this.text=h,this.end=f,o=4;break;case"utf8":this.fillLast=e,o=4;break;case"base64":this.text=u,this.end=g,o=3;break;default:return this.write=c,void(this.end=w)}this.lastNeed=0,this.lastTotal=0,this.lastChar=A.allocUnsafe(o)}function l(d){return d<=127?0:d>>5==6?2:d>>4==14?3:d>>3==30?4:d>>6==2?-1:-2}function e(d){var o=this.lastTotal-this.lastNeed,v=function r(d,o,v){if(128!=(192&o[0]))return d.lastNeed=0,"\ufffd";if(d.lastNeed>1&&o.length>1){if(128!=(192&o[1]))return d.lastNeed=1,"\ufffd";if(d.lastNeed>2&&o.length>2&&128!=(192&o[2]))return d.lastNeed=2,"\ufffd"}}(this,d);return void 0!==v?v:this.lastNeed<=d.length?(d.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(d.copy(this.lastChar,o,0,d.length),void(this.lastNeed-=d.length))}function h(d,o){if((d.length-o)%2==0){var v=d.toString("utf16le",o);if(v){var M=v.charCodeAt(v.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",o,d.length-1)}function f(d){var o=d&&d.length?this.write(d):"";return this.lastNeed?o+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):o}function u(d,o){var v=(d.length-o)%3;return 0===v?d.toString("base64",o):(this.lastNeed=3-v,this.lastTotal=3,1===v?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",o,d.length-v))}function g(d){var o=d&&d.length?this.write(d):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function c(d){return d.toString(this.encoding)}function w(d){return d&&d.length?this.write(d):""}W.o=L,L.prototype.write=function(d){if(0===d.length)return"";var o,v;if(this.lastNeed){if(void 0===(o=this.fillLast(d)))return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<d.length?o?o+this.text(d,v):this.text(d,v):o||""},L.prototype.end=function a(d){var o=d&&d.length?this.write(d):"";return this.lastNeed?o+"\ufffd":o},L.prototype.text=function s(d,o){var v=function m(d,o,v){var M=o.length-1;if(M<v)return 0;var b=l(o[M]);return b>=0?(b>0&&(d.lastNeed=b-1),b):--M<v||-2===b?0:(b=l(o[M]))>=0?(b>0&&(d.lastNeed=b-2),b):--M<v||-2===b?0:(b=l(o[M]))>=0?(b>0&&(2===b?b=0:d.lastNeed=b-3),b):0}(this,d,o);if(!this.lastNeed)return d.toString("utf8",o);this.lastTotal=v;var M=d.length-(v-this.lastNeed);return d.copy(this.lastChar,0,M),d.toString("utf8",o,M)},L.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length}},55619:function(tt,W,t){var A=t(45408),y=t(86844)("stream-parser");tt.exports=function m(d){var o=d&&"function"==typeof d._transform;if(!(o||d&&"function"==typeof d._write))throw new Error("must pass a Writable or Transform stream in");y("extending Parser into stream"),d._bytes=e,d._skipBytes=s,o&&(d._passthrough=a),o?d._transform=f:d._write=h};function r(d){y("initializing parser stream"),d._parserBytesLeft=0,d._parserBuffers=[],d._parserBuffered=0,d._parserState=-1,d._parserCallback=null,"function"==typeof d.push&&(d._parserOutput=d.push.bind(d)),d._parserInit=!0}function e(d,o){A(!this._parserCallback,'there is already a "callback" set!'),A(isFinite(d)&&d>0,'can only buffer a finite number of bytes > 0, got "'+d+'"'),this._parserInit||r(this),y("buffering %o bytes",d),this._parserBytesLeft=d,this._parserCallback=o,this._parserState=0}function s(d,o){A(!this._parserCallback,'there is already a "callback" set!'),A(d>0,'can only skip > 0 bytes, got "'+d+'"'),this._parserInit||r(this),y("skipping %o bytes",d),this._parserBytesLeft=d,this._parserCallback=o,this._parserState=1}function a(d,o){A(!this._parserCallback,'There is already a "callback" set!'),A(d>0,'can only pass through > 0 bytes, got "'+d+'"'),this._parserInit||r(this),y("passing through %o bytes",d),this._parserBytesLeft=d,this._parserCallback=o,this._parserState=2}function h(d,o,v){this._parserInit||r(this),y("write(%o bytes)",d.length),"function"==typeof o&&(v=o),c(this,d,null,v)}function f(d,o,v){this._parserInit||r(this),y("transform(%o bytes)",d.length),"function"!=typeof o&&(o=this._parserOutput),c(this,d,o,v)}function g(d,o,v,M){if(d._parserBytesLeft-=o.length,y("%o bytes left for stream piece",d._parserBytesLeft),0===d._parserState?(d._parserBuffers.push(o),d._parserBuffered+=o.length):2===d._parserState&&v(o),0!==d._parserBytesLeft)return M;var b=d._parserCallback;if(b&&0===d._parserState&&d._parserBuffers.length>1&&(o=Buffer.concat(d._parserBuffers,d._parserBuffered)),0!==d._parserState&&(o=null),d._parserCallback=null,d._parserBuffered=0,d._parserState=-1,d._parserBuffers.splice(0),b){var E=[];o&&E.push(o),v&&E.push(v);var x=b.length>E.length;x&&E.push(w(M));var S=b.apply(d,E);if(!x||M===S)return M}}var c=w(function u(d,o,v,M){return d._parserBytesLeft<=0?M(new Error("got data but not currently parsing anything")):o.length<=d._parserBytesLeft?function(){return g(d,o,v,M)}:function(){var b=o.slice(0,d._parserBytesLeft);return g(d,b,v,function(E){return E?M(E):o.length>b.length?function(){return u(d,o.slice(b.length),v,M)}:void 0})}});function w(d){return function(){for(var o=d.apply(this,arguments);"function"==typeof o;)o=o();return o}}},86844:function(tt,W,t){var A=t(4168);function l(){var r;try{r=W.storage.debug}catch(e){}return!r&&void 0!==A&&"env"in A&&(r=A.env.DEBUG),r}(W=tt.exports=t(89416)).log=function P(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},W.formatArgs=function i(r){var e=this.useColors;if(r[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+r[0]+(e?"%c ":" ")+"+"+W.humanize(this.diff),e){var s="color: "+this.color;r.splice(1,0,s,"color: inherit");var a=0,h=0;r[0].replace(/%[a-zA-Z%]/g,function(f){"%%"!==f&&(a++,"%c"===f&&(h=a))}),r.splice(h,0,s)}},W.save=function L(r){try{null==r?W.storage.removeItem("debug"):W.storage.debug=r}catch(e){}},W.load=l,W.useColors=function y(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},W.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function m(){try{return window.localStorage}catch(r){}}(),W.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],W.formatters.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},W.enable(l())},89416:function(tt,W,t){var A;function i(r){function e(){if(e.enabled){var s=e,a=+new Date;s.diff=a-(A||a),s.prev=A,s.curr=a,A=a;for(var f=new Array(arguments.length),u=0;u<f.length;u++)f[u]=arguments[u];f[0]=W.coerce(f[0]),"string"!=typeof f[0]&&f.unshift("%O");var g=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(w,d){if("%%"===w)return w;g++;var o=W.formatters[d];return"function"==typeof o&&(w=o.call(s,f[g]),f.splice(g,1),g--),w}),W.formatArgs.call(s,f),(e.log||W.log||console.log.bind(console)).apply(s,f)}}return e.namespace=r,e.enabled=W.enabled(r),e.useColors=W.useColors(),e.color=function y(r){var s,e=0;for(s in r)e=(e<<5)-e+r.charCodeAt(s),e|=0;return W.colors[Math.abs(e)%W.colors.length]}(r),"function"==typeof W.init&&W.init(e),e}(W=tt.exports=i.debug=i.default=i).coerce=function m(r){return r instanceof Error?r.stack||r.message:r},W.disable=function L(){W.enable("")},W.enable=function P(r){W.save(r),W.names=[],W.skips=[];for(var e=("string"==typeof r?r:"").split(/[\s,]+/),s=e.length,a=0;a<s;a++)!e[a]||("-"===(r=e[a].replace(/\*/g,".*?"))[0]?W.skips.push(new RegExp("^"+r.substr(1)+"$")):W.names.push(new RegExp("^"+r+"$")))},W.enabled=function l(r){var e,s;for(e=0,s=W.skips.length;e<s;e++)if(W.skips[e].test(r))return!1;for(e=0,s=W.names.length;e<s;e++)if(W.names[e].test(r))return!0;return!1},W.humanize=t(93744),W.names=[],W.skips=[],W.formatters={}},93744:function(tt){var W=1e3,t=60*W,A=60*t,y=24*A;function m(r,e,s){if(!(r<e))return r<1.5*e?Math.floor(r/e)+" "+s:Math.ceil(r/e)+" "+s+"s"}tt.exports=function(r,e){e=e||{};var s=typeof r;if("string"===s&&r.length>0)return function P(r){if(!((r=String(r)).length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(e){var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*y;case"hours":case"hour":case"hrs":case"hr":case"h":return s*A;case"minutes":case"minute":case"mins":case"min":case"m":return s*t;case"seconds":case"second":case"secs":case"sec":case"s":return s*W;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(r);if("number"===s&&!1===isNaN(r))return e.long?function l(r){return m(r,y,"day")||m(r,A,"hour")||m(r,t,"minute")||m(r,W,"second")||r+" ms"}(r):function L(r){return r>=y?Math.round(r/y)+"d":r>=A?Math.round(r/A)+"h":r>=t?Math.round(r/t)+"m":r>=W?Math.round(r/W)+"s":r+"ms"}(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},39956:function(tt,W,t){"use strict";var A=t(32868);tt.exports=function(i,P,L){if(null==i)throw Error("First argument should be a string");if(null==P)throw Error("Separator should be a string or a RegExp");L?("string"==typeof L||Array.isArray(L))&&(L={ignore:L}):L={},null==L.escape&&(L.escape=!0),null==L.ignore?L.ignore=["[]","()","{}","<>",'""',"''","``","\u201c\u201d","\xab\xbb"]:("string"==typeof L.ignore&&(L.ignore=[L.ignore]),L.ignore=L.ignore.map(function(f){return 1===f.length&&(f+=f),f}));var l=A.parse(i,{flat:!0,brackets:L.ignore}),r=l[0].split(P);if(L.escape){for(var e=[],s=0;s<r.length;s++){var a=r[s];"\\"===a[a.length-1]&&"\\"!==a[a.length-2]?(e.push(a+P+r[s+1]),s++):e.push(a)}r=e}for(s=0;s<r.length;s++)l[0]=r[s],r[s]=A.stringify(l,{flat:!0});return r}},78484:function(tt){"use strict";tt.exports=function W(t){for(var A=t.length,y=new Array(A),i=new Array(A),P=new Array(A),L=new Array(A),l=new Array(A),m=new Array(A),r=0;r<A;++r)y[r]=-1,i[r]=0,P[r]=!1,L[r]=0,l[r]=-1,m[r]=[];var f,e=0,s=[],a=[];function h(c){var w=[c],d=[c];for(y[c]=i[c]=e,P[c]=!0,e+=1;d.length>0;){var o=t[c=d[d.length-1]];if(L[c]<o.length){for(var v=L[c];v<o.length;++v){var M=o[v];if(y[M]<0){y[M]=i[M]=e,P[M]=!0,e+=1,w.push(M),d.push(M);break}P[M]&&(i[c]=0|Math.min(i[c],i[M])),l[M]>=0&&m[c].push(l[M])}L[c]=v}else{if(i[c]===y[c]){var b=[],E=[],x=0;for(v=w.length-1;v>=0;--v){var S=w[v];if(P[S]=!1,b.push(S),E.push(m[S]),x+=m[S].length,l[S]=s.length,S===c){w.length=v;break}}s.push(b);var T=new Array(x);for(v=0;v<E.length;v++)for(var n=0;n<E[v].length;n++)T[--x]=E[v][n];a.push(T)}d.pop()}}}for(r=0;r<A;++r)y[r]<0&&h(r);for(r=0;r<a.length;r++){var u=a[r];if(0!==u.length){u.sort(function(w,d){return w-d}),f=[u[0]];for(var g=1;g<u.length;g++)u[g]!==u[g-1]&&f.push(u[g]);a[r]=f}}return{components:s,adjacencyList:a}}},92848:function(tt,W,t){"use strict";t.r(W);var A=function(e,s){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function r(e,s){var a=[],h=!0,f=!1,u=void 0;try{for(var c,g=e[Symbol.iterator]();!(h=(c=g.next()).done)&&(a.push(c.value),!s||a.length!==s);h=!0);}catch(w){f=!0,u=w}finally{try{!h&&g.return&&g.return()}finally{if(f)throw u}}return a}(e,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")},y=2*Math.PI,i=function(e,s,a,h,f,u,g){var c=e.x,w=e.y;return{x:h*(c*=s)-f*(w*=a)+u,y:f*c+h*w+g}},P=function(e,s){var a=1.5707963267948966===s?.551915024494:-1.5707963267948966===s?-.551915024494:1.3333333333333333*Math.tan(s/4),h=Math.cos(e),f=Math.sin(e),u=Math.cos(e+s),g=Math.sin(e+s);return[{x:h-f*a,y:f+h*a},{x:u+g*a,y:g-u*a},{x:u,y:g}]},L=function(e,s,a,h){var u=e*a+s*h;return u>1&&(u=1),u<-1&&(u=-1),(e*h-s*a<0?-1:1)*Math.acos(u)};W.default=function(e){var s=e.px,a=e.py,h=e.cx,f=e.cy,u=e.rx,g=e.ry,c=e.xAxisRotation,w=void 0===c?0:c,d=e.largeArcFlag,o=void 0===d?0:d,v=e.sweepFlag,M=void 0===v?0:v,b=[];if(0===u||0===g)return[];var E=Math.sin(w*y/360),x=Math.cos(w*y/360),S=x*(s-h)/2+E*(a-f)/2,T=-E*(s-h)/2+x*(a-f)/2;if(0===S&&0===T)return[];u=Math.abs(u),g=Math.abs(g);var n=Math.pow(S,2)/Math.pow(u,2)+Math.pow(T,2)/Math.pow(g,2);n>1&&(u*=Math.sqrt(n),g*=Math.sqrt(n));var C=function(e,s,a,h,f,u,g,c,w,d,o,v){var M=Math.pow(f,2),b=Math.pow(u,2),E=Math.pow(o,2),x=Math.pow(v,2),S=M*b-M*x-b*E;S<0&&(S=0),S/=M*x+b*E;var T=(S=Math.sqrt(S)*(g===c?-1:1))*f/u*v,n=S*-u/f*o,C=d*T-w*n+(e+a)/2,p=w*T+d*n+(s+h)/2,F=(o-T)/f,D=(v-n)/u,N=(-o-T)/f,k=(-v-n)/u,z=L(1,0,F,D),B=L(F,D,N,k);return 0===c&&B>0&&(B-=y),1===c&&B<0&&(B+=y),[C,p,z,B]}(s,a,h,f,u,g,o,M,E,x,S,T),p=A(C,4),F=p[0],D=p[1],N=p[2],k=p[3],z=Math.abs(k)/(y/4);Math.abs(1-z)<1e-7&&(z=1);var B=Math.max(Math.ceil(z),1);k/=B;for(var O=0;O<B;O++)b.push(P(N,k)),N+=k;return b.map(function(U){var G=i(U[0],u,g,x,E,F,D),J=G.x,et=G.y,at=i(U[1],u,g,x,E,F,D),lt=at.x,K=at.y,j=i(U[2],u,g,x,E,F,D);return{x1:J,y1:et,x2:lt,y2:K,x:j.x,y:j.y}})}},74840:function(tt,W,t){"use strict";var A=t(21984),y=t(49972),i=t(41976),P=t(53520),L=t(45408);tt.exports=function l(m){if(Array.isArray(m)&&1===m.length&&"string"==typeof m[0]&&(m=m[0]),"string"==typeof m&&(L(P(m),"String is not an SVG path."),m=A(m)),L(Array.isArray(m),"Argument should be a string or an array of path segments."),m=y(m),!(m=i(m)).length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],e=0,s=m.length;e<s;e++)for(var a=m[e].slice(1),h=0;h<a.length;h+=2)a[h+0]<r[0]&&(r[0]=a[h+0]),a[h+1]<r[1]&&(r[1]=a[h+1]),a[h+0]>r[2]&&(r[2]=a[h+0]),a[h+1]>r[3]&&(r[3]=a[h+1]);return r}},41976:function(tt,W,t){"use strict";tt.exports=function y(L){for(var l,m=[],r=0,e=0,s=0,a=0,h=null,f=null,u=0,g=0,c=0,w=L.length;c<w;c++){var d=L[c],o=d[0];switch(o){case"M":s=d[1],a=d[2];break;case"A":var v=A({px:u,py:g,cx:d[6],cy:d[7],rx:d[1],ry:d[2],xAxisRotation:d[3],largeArcFlag:d[4],sweepFlag:d[5]});if(!v.length)continue;for(var b,M=0;M<v.length;M++)d=["C",(b=v[M]).x1,b.y1,b.x2,b.y2,b.x,b.y],M<v.length-1&&m.push(d);break;case"S":var E=u,x=g;("C"==l||"S"==l)&&(E+=E-r,x+=x-e),d=["C",E,x,d[1],d[2],d[3],d[4]];break;case"T":"Q"==l||"T"==l?(h=2*u-h,f=2*g-f):(h=u,f=g),d=P(u,g,h,f,d[1],d[2]);break;case"Q":h=d[1],f=d[2],d=P(u,g,d[1],d[2],d[3],d[4]);break;case"L":d=i(u,g,d[1],d[2]);break;case"H":d=i(u,g,d[1],g);break;case"V":d=i(u,g,u,d[1]);break;case"Z":d=i(u,g,s,a)}l=o,u=d[d.length-2],g=d[d.length-1],d.length>4?(r=d[d.length-4],e=d[d.length-3]):(r=u,e=g),m.push(d)}return m};var A=t(92848);function i(L,l,m,r){return["C",L,l,m,r,m,r]}function P(L,l,m,r,e,s){return["C",L/3+.6666666666666666*m,l/3+.6666666666666666*r,e/3+.6666666666666666*m,s/3+.6666666666666666*r,e,s]}},20472:function(tt,W,t){"use strict";var e,A=t(74840),y=t(21984),i=t(22235),P=t(53520),L=t(29620),l=document.createElement("canvas"),m=l.getContext("2d");tt.exports=function r(a,h){if(!P(a))throw Error("Argument should be valid svg path string");var f,u;h||(h={}),h.shape?(f=h.shape[0],u=h.shape[1]):(f=l.width=h.w||h.width||200,u=l.height=h.h||h.height||200);var g=Math.min(f,u),c=h.stroke||0,w=h.viewbox||h.viewBox||A(a),d=[f/(w[2]-w[0]),u/(w[3]-w[1])],o=Math.min(d[0]||0,d[1]||0)/2;if(m.fillStyle="black",m.fillRect(0,0,f,u),m.fillStyle="white",c&&("number"!=typeof c&&(c=1),m.strokeStyle=c>0?"white":"black",m.lineWidth=Math.abs(c)),m.translate(.5*f,.5*u),m.scale(o,o),function s(){if(null!=e)return e;var a=document.createElement("canvas").getContext("2d");if(a.canvas.width=a.canvas.height=1,!window.Path2D)return e=!1;var h=new Path2D("M0,0h1v1h-1v-1Z");a.fillStyle="black",a.fill(h);var f=a.getImageData(0,0,1,1);return e=f&&f.data&&255===f.data[3]}()){var v=new Path2D(a);m.fill(v),c&&m.stroke(v)}else{var M=y(a);i(m,M),m.fill(),c&&m.stroke()}return m.setTransform(1,0,0,1,0,0),L(m,{cutoff:null!=h.cutoff?h.cutoff:.5,radius:null!=h.radius?h.radius:.5*g})}},49760:function(tt,W,t){var A;!function(y){var i=/^\s+/,P=/\s+$/,L=0,l=y.round,m=y.min,r=y.max,e=y.random;function s(Y,nt){if(nt=nt||{},(Y=Y||"")instanceof s)return Y;if(!(this instanceof s))return new s(Y,nt);var _=function a(Y){var nt={r:0,g:0,b:0},_=1,st=null,dt=null,xt=null,yt=!1,St=!1;return"string"==typeof Y&&(Y=function it(Y){Y=Y.replace(i,"").replace(P,"").toLowerCase();var _,nt=!1;if(k[Y])Y=k[Y],nt=!0;else if("transparent"==Y)return{r:0,g:0,b:0,a:0,format:"name"};return(_=H.rgb.exec(Y))?{r:_[1],g:_[2],b:_[3]}:(_=H.rgba.exec(Y))?{r:_[1],g:_[2],b:_[3],a:_[4]}:(_=H.hsl.exec(Y))?{h:_[1],s:_[2],l:_[3]}:(_=H.hsla.exec(Y))?{h:_[1],s:_[2],l:_[3],a:_[4]}:(_=H.hsv.exec(Y))?{h:_[1],s:_[2],v:_[3]}:(_=H.hsva.exec(Y))?{h:_[1],s:_[2],v:_[3],a:_[4]}:(_=H.hex8.exec(Y))?{r:J(_[1]),g:J(_[2]),b:J(_[3]),a:rt(_[4]),format:nt?"name":"hex8"}:(_=H.hex6.exec(Y))?{r:J(_[1]),g:J(_[2]),b:J(_[3]),format:nt?"name":"hex"}:(_=H.hex4.exec(Y))?{r:J(_[1]+""+_[1]),g:J(_[2]+""+_[2]),b:J(_[3]+""+_[3]),a:rt(_[4]+""+_[4]),format:nt?"name":"hex8"}:!!(_=H.hex3.exec(Y))&&{r:J(_[1]+""+_[1]),g:J(_[2]+""+_[2]),b:J(_[3]+""+_[3]),format:nt?"name":"hex"}}(Y)),"object"==typeof Y&&(Z(Y.r)&&Z(Y.g)&&Z(Y.b)?(nt=function h(Y,nt,_){return{r:255*U(Y,255),g:255*U(nt,255),b:255*U(_,255)}}(Y.r,Y.g,Y.b),yt=!0,St="%"===String(Y.r).substr(-1)?"prgb":"rgb"):Z(Y.h)&&Z(Y.s)&&Z(Y.v)?(st=K(Y.s),dt=K(Y.v),nt=function c(Y,nt,_){Y=6*U(Y,360),nt=U(nt,100),_=U(_,100);var st=y.floor(Y),dt=Y-st,xt=_*(1-nt),yt=_*(1-dt*nt),St=_*(1-(1-dt)*nt),Et=st%6;return{r:255*[_,yt,xt,xt,St,_][Et],g:255*[St,_,_,yt,xt,xt][Et],b:255*[xt,xt,St,_,_,yt][Et]}}(Y.h,st,dt),yt=!0,St="hsv"):Z(Y.h)&&Z(Y.s)&&Z(Y.l)&&(st=K(Y.s),xt=K(Y.l),nt=function u(Y,nt,_){var st,dt,xt;function yt(Tt,gt,Mt){return Mt<0&&(Mt+=1),Mt>1&&(Mt-=1),Mt<.16666666666666666?Tt+6*(gt-Tt)*Mt:Mt<.5?gt:Mt<.6666666666666666?Tt+(gt-Tt)*(.6666666666666666-Mt)*6:Tt}if(Y=U(Y,360),nt=U(nt,100),_=U(_,100),0===nt)st=dt=xt=_;else{var St=_<.5?_*(1+nt):_+nt-_*nt,Et=2*_-St;st=yt(Et,St,Y+.3333333333333333),dt=yt(Et,St,Y),xt=yt(Et,St,Y-.3333333333333333)}return{r:255*st,g:255*dt,b:255*xt}}(Y.h,st,xt),yt=!0,St="hsl"),Y.hasOwnProperty("a")&&(_=Y.a)),_=O(_),{ok:yt,format:Y.format||St,r:m(255,r(nt.r,0)),g:m(255,r(nt.g,0)),b:m(255,r(nt.b,0)),a:_}}(Y);this._originalInput=Y,this._r=_.r,this._g=_.g,this._b=_.b,this._a=_.a,this._roundA=l(100*this._a)/100,this._format=nt.format||_.format,this._gradientType=nt.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=_.ok,this._tc_id=L++}function f(Y,nt,_){Y=U(Y,255),nt=U(nt,255),_=U(_,255);var xt,yt,st=r(Y,nt,_),dt=m(Y,nt,_),St=(st+dt)/2;if(st==dt)xt=yt=0;else{var Et=st-dt;switch(yt=St>.5?Et/(2-st-dt):Et/(st+dt),st){case Y:xt=(nt-_)/Et+(nt<_?6:0);break;case nt:xt=(_-Y)/Et+2;break;case _:xt=(Y-nt)/Et+4}xt/=6}return{h:xt,s:yt,l:St}}function g(Y,nt,_){Y=U(Y,255),nt=U(nt,255),_=U(_,255);var xt,yt,st=r(Y,nt,_),dt=m(Y,nt,_),St=st,Et=st-dt;if(yt=0===st?0:Et/st,st==dt)xt=0;else{switch(st){case Y:xt=(nt-_)/Et+(nt<_?6:0);break;case nt:xt=(_-Y)/Et+2;break;case _:xt=(Y-nt)/Et+4}xt/=6}return{h:xt,s:yt,v:St}}function w(Y,nt,_,st){var dt=[lt(l(Y).toString(16)),lt(l(nt).toString(16)),lt(l(_).toString(16))];return st&&dt[0].charAt(0)==dt[0].charAt(1)&&dt[1].charAt(0)==dt[1].charAt(1)&&dt[2].charAt(0)==dt[2].charAt(1)?dt[0].charAt(0)+dt[1].charAt(0)+dt[2].charAt(0):dt.join("")}function o(Y,nt,_,st){return[lt(j(st)),lt(l(Y).toString(16)),lt(l(nt).toString(16)),lt(l(_).toString(16))].join("")}function v(Y,nt){nt=0===nt?0:nt||10;var _=s(Y).toHsl();return _.s-=nt/100,_.s=G(_.s),s(_)}function M(Y,nt){nt=0===nt?0:nt||10;var _=s(Y).toHsl();return _.s+=nt/100,_.s=G(_.s),s(_)}function b(Y){return s(Y).desaturate(100)}function E(Y,nt){nt=0===nt?0:nt||10;var _=s(Y).toHsl();return _.l+=nt/100,_.l=G(_.l),s(_)}function x(Y,nt){nt=0===nt?0:nt||10;var _=s(Y).toRgb();return _.r=r(0,m(255,_.r-l(-nt/100*255))),_.g=r(0,m(255,_.g-l(-nt/100*255))),_.b=r(0,m(255,_.b-l(-nt/100*255))),s(_)}function S(Y,nt){nt=0===nt?0:nt||10;var _=s(Y).toHsl();return _.l-=nt/100,_.l=G(_.l),s(_)}function T(Y,nt){var _=s(Y).toHsl(),st=(_.h+nt)%360;return _.h=st<0?360+st:st,s(_)}function n(Y){var nt=s(Y).toHsl();return nt.h=(nt.h+180)%360,s(nt)}function C(Y){var nt=s(Y).toHsl(),_=nt.h;return[s(Y),s({h:(_+120)%360,s:nt.s,l:nt.l}),s({h:(_+240)%360,s:nt.s,l:nt.l})]}function p(Y){var nt=s(Y).toHsl(),_=nt.h;return[s(Y),s({h:(_+90)%360,s:nt.s,l:nt.l}),s({h:(_+180)%360,s:nt.s,l:nt.l}),s({h:(_+270)%360,s:nt.s,l:nt.l})]}function F(Y){var nt=s(Y).toHsl(),_=nt.h;return[s(Y),s({h:(_+72)%360,s:nt.s,l:nt.l}),s({h:(_+216)%360,s:nt.s,l:nt.l})]}function D(Y,nt,_){nt=nt||6,_=_||30;var st=s(Y).toHsl(),dt=360/_,xt=[s(Y)];for(st.h=(st.h-(dt*nt>>1)+720)%360;--nt;)st.h=(st.h+dt)%360,xt.push(s(st));return xt}function N(Y,nt){nt=nt||6;for(var _=s(Y).toHsv(),st=_.h,dt=_.s,xt=_.v,yt=[],St=1/nt;nt--;)yt.push(s({h:st,s:dt,v:xt})),xt=(xt+St)%1;return yt}s.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Y=this.toRgb();return(299*Y.r+587*Y.g+114*Y.b)/1e3},getLuminance:function(){var nt,_,st,Y=this.toRgb();return _=Y.g/255,st=Y.b/255,.2126*((nt=Y.r/255)<=.03928?nt/12.92:y.pow((nt+.055)/1.055,2.4))+.7152*(_<=.03928?_/12.92:y.pow((_+.055)/1.055,2.4))+.0722*(st<=.03928?st/12.92:y.pow((st+.055)/1.055,2.4))},setAlpha:function(Y){return this._a=O(Y),this._roundA=l(100*this._a)/100,this},toHsv:function(){var Y=g(this._r,this._g,this._b);return{h:360*Y.h,s:Y.s,v:Y.v,a:this._a}},toHsvString:function(){var Y=g(this._r,this._g,this._b),nt=l(360*Y.h),_=l(100*Y.s),st=l(100*Y.v);return 1==this._a?"hsv("+nt+", "+_+"%, "+st+"%)":"hsva("+nt+", "+_+"%, "+st+"%, "+this._roundA+")"},toHsl:function(){var Y=f(this._r,this._g,this._b);return{h:360*Y.h,s:Y.s,l:Y.l,a:this._a}},toHslString:function(){var Y=f(this._r,this._g,this._b),nt=l(360*Y.h),_=l(100*Y.s),st=l(100*Y.l);return 1==this._a?"hsl("+nt+", "+_+"%, "+st+"%)":"hsla("+nt+", "+_+"%, "+st+"%, "+this._roundA+")"},toHex:function(Y){return w(this._r,this._g,this._b,Y)},toHexString:function(Y){return"#"+this.toHex(Y)},toHex8:function(Y){return function d(Y,nt,_,st,dt){var xt=[lt(l(Y).toString(16)),lt(l(nt).toString(16)),lt(l(_).toString(16)),lt(j(st))];return dt&&xt[0].charAt(0)==xt[0].charAt(1)&&xt[1].charAt(0)==xt[1].charAt(1)&&xt[2].charAt(0)==xt[2].charAt(1)&&xt[3].charAt(0)==xt[3].charAt(1)?xt[0].charAt(0)+xt[1].charAt(0)+xt[2].charAt(0)+xt[3].charAt(0):xt.join("")}(this._r,this._g,this._b,this._a,Y)},toHex8String:function(Y){return"#"+this.toHex8(Y)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*U(this._r,255))+"%",g:l(100*U(this._g,255))+"%",b:l(100*U(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*U(this._r,255))+"%, "+l(100*U(this._g,255))+"%, "+l(100*U(this._b,255))+"%)":"rgba("+l(100*U(this._r,255))+"%, "+l(100*U(this._g,255))+"%, "+l(100*U(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(z[w(this._r,this._g,this._b,!0)]||!1)},toFilter:function(Y){var nt="#"+o(this._r,this._g,this._b,this._a),_=nt,st=this._gradientType?"GradientType = 1, ":"";if(Y){var dt=s(Y);_="#"+o(dt._r,dt._g,dt._b,dt._a)}return"progid:DXImageTransform.Microsoft.gradient("+st+"startColorstr="+nt+",endColorstr="+_+")"},toString:function(Y){var nt=!!Y;Y=Y||this._format;var _=!1;return!nt&&this._a<1&&this._a>=0&&("hex"===Y||"hex6"===Y||"hex3"===Y||"hex4"===Y||"hex8"===Y||"name"===Y)?"name"===Y&&0===this._a?this.toName():this.toRgbString():("rgb"===Y&&(_=this.toRgbString()),"prgb"===Y&&(_=this.toPercentageRgbString()),("hex"===Y||"hex6"===Y)&&(_=this.toHexString()),"hex3"===Y&&(_=this.toHexString(!0)),"hex4"===Y&&(_=this.toHex8String(!0)),"hex8"===Y&&(_=this.toHex8String()),"name"===Y&&(_=this.toName()),"hsl"===Y&&(_=this.toHslString()),"hsv"===Y&&(_=this.toHsvString()),_||this.toHexString())},clone:function(){return s(this.toString())},_applyModification:function(Y,nt){var _=Y.apply(null,[this].concat([].slice.call(nt)));return this._r=_._r,this._g=_._g,this._b=_._b,this.setAlpha(_._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(M,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(Y,nt){return Y.apply(null,[this].concat([].slice.call(nt)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(n,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(F,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(p,arguments)}},s.fromRatio=function(Y,nt){if("object"==typeof Y){var _={};for(var st in Y)Y.hasOwnProperty(st)&&(_[st]="a"===st?Y[st]:K(Y[st]));Y=_}return s(Y,nt)},s.equals=function(Y,nt){return!(!Y||!nt)&&s(Y).toRgbString()==s(nt).toRgbString()},s.random=function(){return s.fromRatio({r:e(),g:e(),b:e()})},s.mix=function(Y,nt,_){_=0===_?0:_||50;var st=s(Y).toRgb(),dt=s(nt).toRgb(),xt=_/100;return s({r:(dt.r-st.r)*xt+st.r,g:(dt.g-st.g)*xt+st.g,b:(dt.b-st.b)*xt+st.b,a:(dt.a-st.a)*xt+st.a})},s.readability=function(Y,nt){var _=s(Y),st=s(nt);return(y.max(_.getLuminance(),st.getLuminance())+.05)/(y.min(_.getLuminance(),st.getLuminance())+.05)},s.isReadable=function(Y,nt,_){var dt,xt,st=s.readability(Y,nt);switch(xt=!1,(dt=function Q(Y){var nt,_;return"AA"!==(nt=((Y=Y||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==nt&&(nt="AA"),"small"!==(_=(Y.size||"small").toLowerCase())&&"large"!==_&&(_="small"),{level:nt,size:_}}(_)).level+dt.size){case"AAsmall":case"AAAlarge":xt=st>=4.5;break;case"AAlarge":xt=st>=3;break;case"AAAsmall":xt=st>=7}return xt},s.mostReadable=function(Y,nt,_){var xt,yt,St,Et,st=null,dt=0;yt=(_=_||{}).includeFallbackColors,St=_.level,Et=_.size;for(var Tt=0;Tt<nt.length;Tt++)(xt=s.readability(Y,nt[Tt]))>dt&&(dt=xt,st=s(nt[Tt]));return s.isReadable(Y,st,{level:St,size:Et})||!yt?st:(_.includeFallbackColors=!1,s.mostReadable(Y,["#fff","#000"],_))};var k=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=s.hexNames=function B(Y){var nt={};for(var _ in Y)Y.hasOwnProperty(_)&&(nt[Y[_]]=_);return nt}(k);function O(Y){return Y=parseFloat(Y),(isNaN(Y)||Y<0||Y>1)&&(Y=1),Y}function U(Y,nt){(function et(Y){return"string"==typeof Y&&-1!=Y.indexOf(".")&&1===parseFloat(Y)})(Y)&&(Y="100%");var _=function at(Y){return"string"==typeof Y&&-1!=Y.indexOf("%")}(Y);return Y=m(nt,r(0,parseFloat(Y))),_&&(Y=parseInt(Y*nt,10)/100),y.abs(Y-nt)<1e-6?1:Y%nt/parseFloat(nt)}function G(Y){return m(1,r(0,Y))}function J(Y){return parseInt(Y,16)}function lt(Y){return 1==Y.length?"0"+Y:""+Y}function K(Y){return Y<=1&&(Y=100*Y+"%"),Y}function j(Y){return y.round(255*parseFloat(Y)).toString(16)}function rt(Y){return J(Y)/255}var _,st,dt,H=(st="[\\s|\\(]+("+(_="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+_+")[,|\\s]+("+_+")\\s*\\)?",dt="[\\s|\\(]+("+_+")[,|\\s]+("+_+")[,|\\s]+("+_+")[,|\\s]+("+_+")\\s*\\)?",{CSS_UNIT:new RegExp(_),rgb:new RegExp("rgb"+st),rgba:new RegExp("rgba"+dt),hsl:new RegExp("hsl"+st),hsla:new RegExp("hsla"+dt),hsv:new RegExp("hsv"+st),hsva:new RegExp("hsva"+dt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Z(Y){return!!H.CSS_UNIT.exec(Y)}tt.exports?tt.exports=s:void 0!==(A=function(){return s}.call(W,t,W,tt))&&(tt.exports=A)}(Math)},37816:function(tt){"use strict";tt.exports=A,tt.exports.float32=tt.exports.float=A,tt.exports.fract32=tt.exports.fract=function t(y,i){if(y.length){if(y instanceof Float32Array)return new Float32Array(y.length);i instanceof Float32Array||(i=A(y));for(var P=0,L=i.length;P<L;P++)i[P]=y[P]-i[P];return i}return A(y-A(y))};var W=new Float32Array(1);function A(y){return y.length?y instanceof Float32Array?y:new Float32Array(y):(W[0]=y,W[0])}},23464:function(tt,W,t){"use strict";var A=t(65819);tt.exports=L;function i(l,m){var r=A(getComputedStyle(l).getPropertyValue(m));return r[0]*L(r[1],l)}function L(l,m){switch(m=m||document.body,l=(l||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),l){case"%":return m.clientHeight/100;case"ch":case"ex":return function P(l,m){var r=document.createElement("div");r.style["font-size"]="128"+l,m.appendChild(r);var e=i(r,"font-size")/128;return m.removeChild(r),e}(l,m);case"em":return i(m,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return 96;case"cm":return 96/2.54;case"mm":return 96/25.4;case"pt":return 96/72;case"pc":return 16}return 1}},55712:function(tt,W,t){"use strict";function y(m){return m}function P(m,r){return"string"==typeof r&&(r=m.objects[r]),"GeometryCollection"===r.type?{type:"FeatureCollection",features:r.geometries.map(function(e){return L(m,e)})}:L(m,r)}function L(m,r){var e=r.id,s=r.bbox,a=null==r.properties?{}:r.properties,h=function l(m,r){var e=function i(m){if(null==m)return y;var r,e,s=m.scale[0],a=m.scale[1],h=m.translate[0],f=m.translate[1];return function(u,g){g||(r=e=0);var c=2,w=u.length,d=new Array(w);for(d[0]=(r+=u[0])*s+h,d[1]=(e+=u[1])*a+f;c<w;)d[c]=u[c],++c;return d}}(m.transform),s=m.arcs;function a(w,d){d.length&&d.pop();for(var o=s[w<0?~w:w],v=0,M=o.length;v<M;++v)d.push(e(o[v],v));w<0&&function A(m,r){for(var e,s=m.length,a=s-r;a<--s;)e=m[a],m[a++]=m[s],m[s]=e}(d,M)}function h(w){return e(w)}function f(w){for(var d=[],o=0,v=w.length;o<v;++o)a(w[o],d);return d.length<2&&d.push(d[0]),d}function u(w){for(var d=f(w);d.length<4;)d.push(d[0]);return d}function g(w){return w.map(u)}function c(w){var o,d=w.type;switch(d){case"GeometryCollection":return{type:d,geometries:w.geometries.map(c)};case"Point":o=h(w.coordinates);break;case"MultiPoint":o=w.coordinates.map(h);break;case"LineString":o=f(w.arcs);break;case"MultiLineString":o=w.arcs.map(f);break;case"Polygon":o=g(w.arcs);break;case"MultiPolygon":o=w.arcs.map(g);break;default:return null}return{type:d,coordinates:o}}return c(r)}(m,r);return null==e&&null==s?{type:"Feature",properties:a,geometry:h}:null==s?{type:"Feature",id:e,properties:a,geometry:h}:{type:"Feature",id:e,bbox:s,properties:a,geometry:h}}t.d(W,{NO:function(){return P}})},73384:function(tt,W,t){"use strict";var A=t(54612);tt.exports=function(y){if("function"!=typeof y||!hasOwnProperty.call(y,"length"))return!1;try{if("number"!=typeof y.length||"function"!=typeof y.call||"function"!=typeof y.apply)return!1}catch(i){return!1}return!A(y)}},57980:function(tt,W,t){"use strict";var A=t(81680),y=t(7328),i=t(33940),P=t(18856),L=function(l,m){return l.replace("%v",P(m))};tt.exports=function(l,m,r){if(!y(r))throw new TypeError(L(m,l));if(!A(l)){if("default"in r)return r.default;if(r.isOptional)return null}var e=i(r.errorMessage);throw A(e)||(e=m),new TypeError(L(e,l))}},32336:function(tt){"use strict";tt.exports=function(W){try{return W.toString()}catch(t){try{return String(W)}catch(A){return null}}}},18856:function(tt,W,t){"use strict";var A=t(32336),y=/[\n\r\u2028\u2029]/g;tt.exports=function(i){var P=A(i);return null===P?"<Non-coercible to string value>":(P.length>100&&(P=P.slice(0,99)+"\u2026"),P=P.replace(y,function(L){switch(L){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},7328:function(tt,W,t){"use strict";var A=t(81680),y={object:!0,function:!0,undefined:!0};tt.exports=function(i){return!!A(i)&&hasOwnProperty.call(y,typeof i)}},87396:function(tt,W,t){"use strict";var A=t(57980),y=t(85488);tt.exports=function(i){return y(i)?i:A(i,"%v is not a plain function",arguments[1])}},85488:function(tt,W,t){"use strict";var A=t(73384),y=/^\s*class[\s{/}]/,i=Function.prototype.toString;tt.exports=function(P){return!(!A(P)||y.test(i.call(P)))}},54612:function(tt,W,t){"use strict";var A=t(7328);tt.exports=function(y){if(!A(y))return!1;try{return!!y.constructor&&y.constructor.prototype===y}catch(i){return!1}}},33940:function(tt,W,t){"use strict";var A=t(81680),y=t(7328),i=Object.prototype.toString;tt.exports=function(P){if(!A(P))return null;if(y(P)){var L=P.toString;if("function"!=typeof L||L===i)return null}try{return""+P}catch(l){return null}}},18496:function(tt,W,t){"use strict";var A=t(57980),y=t(81680);tt.exports=function(i){return y(i)?i:A(i,"Cannot use %v",arguments[1])}},81680:function(tt){"use strict";tt.exports=function(t){return null!=t}},14144:function(tt,W,t){"use strict";var A=t(308),y=t(10352),i=t(33576).Buffer;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:y([32,0]),UINT16:y([32,0]),UINT32:y([32,0]),BIGUINT64:y([32,0]),INT8:y([32,0]),INT16:y([32,0]),INT32:y([32,0]),BIGINT64:y([32,0]),FLOAT:y([32,0]),DOUBLE:y([32,0]),DATA:y([32,0]),UINT8C:y([32,0]),BUFFER:y([32,0])});var P="undefined"!=typeof Uint8ClampedArray,L="undefined"!=typeof BigUint64Array,l="undefined"!=typeof BigInt64Array,m=t.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=y([32,0])),m.BIGUINT64||(m.BIGUINT64=y([32,0])),m.BIGINT64||(m.BIGINT64=y([32,0])),m.BUFFER||(m.BUFFER=y([32,0]));var r=m.DATA,e=m.BUFFER;function s(T){if(T){var C=A.log2(T.length||T.byteLength);r[C].push(T)}}function h(n){n=A.nextPow2(n);var C=A.log2(n),p=r[C];return p.length>0?p.pop():new ArrayBuffer(n)}function f(T){return new Uint8Array(h(T),0,T)}function u(T){return new Uint16Array(h(2*T),0,T)}function g(T){return new Uint32Array(h(4*T),0,T)}function c(T){return new Int8Array(h(T),0,T)}function w(T){return new Int16Array(h(2*T),0,T)}function d(T){return new Int32Array(h(4*T),0,T)}function o(T){return new Float32Array(h(4*T),0,T)}function v(T){return new Float64Array(h(8*T),0,T)}function M(T){return P?new Uint8ClampedArray(h(T),0,T):f(T)}function b(T){return L?new BigUint64Array(h(8*T),0,T):null}function E(T){return l?new BigInt64Array(h(8*T),0,T):null}function x(T){return new DataView(h(T),0,T)}function S(T){T=A.nextPow2(T);var n=A.log2(T),C=e[n];return C.length>0?C.pop():new i(T)}W.free=function(n){if(i.isBuffer(n))e[A.log2(n.length)].push(n);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(n)&&(n=n.buffer),!n)return;var p=0|A.log2(n.length||n.byteLength);r[p].push(n)}},W.freeUint8=W.freeUint16=W.freeUint32=W.freeBigUint64=W.freeInt8=W.freeInt16=W.freeInt32=W.freeBigInt64=W.freeFloat32=W.freeFloat=W.freeFloat64=W.freeDouble=W.freeUint8Clamped=W.freeDataView=function a(T){s(T.buffer)},W.freeArrayBuffer=s,W.freeBuffer=function(n){e[A.log2(n.length)].push(n)},W.malloc=function(n,C){if(void 0===C||"arraybuffer"===C)return h(n);switch(C){case"uint8":return f(n);case"uint16":return u(n);case"uint32":return g(n);case"int8":return c(n);case"int16":return w(n);case"int32":return d(n);case"float":case"float32":return o(n);case"double":case"float64":return v(n);case"uint8_clamped":return M(n);case"bigint64":return E(n);case"biguint64":return b(n);case"buffer":return S(n);case"data":case"dataview":return x(n);default:return null}return null},W.mallocArrayBuffer=h,W.mallocUint8=f,W.mallocUint16=u,W.mallocUint32=g,W.mallocInt8=c,W.mallocInt16=w,W.mallocInt32=d,W.mallocFloat32=W.mallocFloat=o,W.mallocFloat64=W.mallocDouble=v,W.mallocUint8Clamped=M,W.mallocBigUint64=b,W.mallocBigInt64=E,W.mallocDataView=x,W.mallocBuffer=S,W.clearCache=function(){for(var n=0;n<32;++n)m.UINT8[n].length=0,m.UINT16[n].length=0,m.UINT32[n].length=0,m.INT8[n].length=0,m.INT16[n].length=0,m.INT32[n].length=0,m.FLOAT[n].length=0,m.DOUBLE[n].length=0,m.BIGUINT64[n].length=0,m.BIGINT64[n].length=0,m.UINT8C[n].length=0,r[n].length=0,e[n].length=0}},92384:function(tt){var W=/[\'\"]/;tt.exports=function(A){return A?(W.test(A.charAt(0))&&(A=A.substr(1)),W.test(A.charAt(A.length-1))&&(A=A.substr(0,A.length-1)),A):""}},45223:function(tt){"use strict";tt.exports=function(t,A,y){Array.isArray(y)||(y=[].slice.call(arguments,2));for(var i=0,P=y.length;i<P;i++){var L=y[i];for(var l in L)if((void 0===A[l]||Array.isArray(A[l])||t[l]!==A[l])&&l in A){var m;if(!0===L[l])m=A[l];else{if(!1===L[l])continue;if("function"==typeof L[l]&&void 0===(m=L[l](A[l],t,A)))continue}t[l]=m}}return t}},96656:function(tt,W,t){function y(i){try{if(!t.g.localStorage)return!1}catch(L){return!1}var P=t.g.localStorage[i];return null!=P&&"true"===String(P).toLowerCase()}tt.exports=function A(i,P){if(y("noDeprecation"))return i;var L=!1;return function l(){if(!L){if(y("throwDeprecation"))throw new Error(P);y("traceDeprecation")?console.trace(P):console.warn(P),L=!0}return i.apply(this,arguments)}}},75272:function(tt){tt.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},41088:function(tt,W,t){"use strict";var A=t(91148),y=t(84420),i=t(96632),P=t(7728);function L(xt){return xt.call.bind(xt)}var l="undefined"!=typeof BigInt,m="undefined"!=typeof Symbol,r=L(Object.prototype.toString),e=L(Number.prototype.valueOf),s=L(String.prototype.valueOf),a=L(Boolean.prototype.valueOf);if(l)var h=L(BigInt.prototype.valueOf);if(m)var f=L(Symbol.prototype.valueOf);function u(xt,yt){if("object"!=typeof xt)return!1;try{return yt(xt),!0}catch(St){return!1}}function C(xt){return"[object Map]"===r(xt)}function F(xt){return"[object Set]"===r(xt)}function N(xt){return"[object WeakMap]"===r(xt)}function z(xt){return"[object WeakSet]"===r(xt)}function O(xt){return"[object ArrayBuffer]"===r(xt)}function U(xt){return"undefined"!=typeof ArrayBuffer&&(O.working?O(xt):xt instanceof ArrayBuffer)}function G(xt){return"[object DataView]"===r(xt)}function J(xt){return"undefined"!=typeof DataView&&(G.working?G(xt):xt instanceof DataView)}W.isArgumentsObject=A,W.isGeneratorFunction=y,W.isTypedArray=P,W.isPromise=function g(xt){return"undefined"!=typeof Promise&&xt instanceof Promise||null!==xt&&"object"==typeof xt&&"function"==typeof xt.then&&"function"==typeof xt.catch},W.isArrayBufferView=function c(xt){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(xt):P(xt)||J(xt)},W.isUint8Array=function w(xt){return"Uint8Array"===i(xt)},W.isUint8ClampedArray=function d(xt){return"Uint8ClampedArray"===i(xt)},W.isUint16Array=function o(xt){return"Uint16Array"===i(xt)},W.isUint32Array=function v(xt){return"Uint32Array"===i(xt)},W.isInt8Array=function M(xt){return"Int8Array"===i(xt)},W.isInt16Array=function b(xt){return"Int16Array"===i(xt)},W.isInt32Array=function E(xt){return"Int32Array"===i(xt)},W.isFloat32Array=function x(xt){return"Float32Array"===i(xt)},W.isFloat64Array=function S(xt){return"Float64Array"===i(xt)},W.isBigInt64Array=function T(xt){return"BigInt64Array"===i(xt)},W.isBigUint64Array=function n(xt){return"BigUint64Array"===i(xt)},C.working="undefined"!=typeof Map&&C(new Map),W.isMap=function p(xt){return"undefined"!=typeof Map&&(C.working?C(xt):xt instanceof Map)},F.working="undefined"!=typeof Set&&F(new Set),W.isSet=function D(xt){return"undefined"!=typeof Set&&(F.working?F(xt):xt instanceof Set)},N.working="undefined"!=typeof WeakMap&&N(new WeakMap),W.isWeakMap=function k(xt){return"undefined"!=typeof WeakMap&&(N.working?N(xt):xt instanceof WeakMap)},z.working="undefined"!=typeof WeakSet&&z(new WeakSet),W.isWeakSet=function B(xt){return z(xt)},O.working="undefined"!=typeof ArrayBuffer&&O(new ArrayBuffer),W.isArrayBuffer=U,G.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&G(new DataView(new ArrayBuffer(1),0,1)),W.isDataView=J;var et="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function at(xt){return"[object SharedArrayBuffer]"===r(xt)}function lt(xt){return void 0!==et&&(void 0===at.working&&(at.working=at(new et)),at.working?at(xt):xt instanceof et)}function it(xt){return u(xt,e)}function Q(xt){return u(xt,s)}function Y(xt){return u(xt,a)}function nt(xt){return l&&u(xt,h)}function _(xt){return m&&u(xt,f)}W.isSharedArrayBuffer=lt,W.isAsyncFunction=function K(xt){return"[object AsyncFunction]"===r(xt)},W.isMapIterator=function j(xt){return"[object Map Iterator]"===r(xt)},W.isSetIterator=function rt(xt){return"[object Set Iterator]"===r(xt)},W.isGeneratorObject=function H(xt){return"[object Generator]"===r(xt)},W.isWebAssemblyCompiledModule=function Z(xt){return"[object WebAssembly.Module]"===r(xt)},W.isNumberObject=it,W.isStringObject=Q,W.isBooleanObject=Y,W.isBigIntObject=nt,W.isSymbolObject=_,W.isBoxedPrimitive=function st(xt){return it(xt)||Q(xt)||Y(xt)||nt(xt)||_(xt)},W.isAnyArrayBuffer=function dt(xt){return"undefined"!=typeof Uint8Array&&(U(xt)||lt(xt))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(xt){Object.defineProperty(W,xt,{enumerable:!1,value:function(){throw new Error(xt+" is not supported in userland")}})})},35840:function(tt,W,t){var A=t(4168),y=Object.getOwnPropertyDescriptors||function(et){for(var at=Object.keys(et),lt={},K=0;K<at.length;K++)lt[at[K]]=Object.getOwnPropertyDescriptor(et,at[K]);return lt},i=/%[sdj%]/g;W.format=function(J){if(!b(J)){for(var et=[],at=0;at<arguments.length;at++)et.push(m(arguments[at]));return et.join(" ")}at=1;for(var lt=arguments,K=lt.length,j=String(J).replace(i,function(H){if("%%"===H)return"%";if(at>=K)return H;switch(H){case"%s":return String(lt[at++]);case"%d":return Number(lt[at++]);case"%j":try{return JSON.stringify(lt[at++])}catch(Z){return"[Circular]"}default:return H}}),rt=lt[at];at<K;rt=lt[++at])o(rt)||!T(rt)?j+=" "+rt:j+=" "+m(rt);return j},W.deprecate=function(J,et){if(void 0!==A&&!0===A.noDeprecation)return J;if(void 0===A)return function(){return W.deprecate(J,et).apply(this,arguments)};var at=!1;return function lt(){if(!at){if(A.throwDeprecation)throw new Error(et);A.traceDeprecation?console.trace(et):console.error(et),at=!0}return J.apply(this,arguments)}};var P={},L=/^$/;if(A.env.NODE_DEBUG){var l=A.env.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),L=new RegExp("^"+l+"$","i")}function m(J,et){var at={seen:[],stylize:e};return arguments.length>=3&&(at.depth=arguments[2]),arguments.length>=4&&(at.colors=arguments[3]),d(et)?at.showHidden=et:et&&W._extend(at,et),x(at.showHidden)&&(at.showHidden=!1),x(at.depth)&&(at.depth=2),x(at.colors)&&(at.colors=!1),x(at.customInspect)&&(at.customInspect=!0),at.colors&&(at.stylize=r),a(at,J,at.depth)}function r(J,et){var at=m.styles[et];return at?"\x1b["+m.colors[at][0]+"m"+J+"\x1b["+m.colors[at][1]+"m":J}function e(J,et){return J}function a(J,et,at){if(J.customInspect&&et&&p(et.inspect)&&et.inspect!==W.inspect&&(!et.constructor||et.constructor.prototype!==et)){var lt=et.inspect(at,J);return b(lt)||(lt=a(J,lt,at)),lt}var K=function h(J,et){if(x(et))return J.stylize("undefined","undefined");if(b(et)){var at="'"+JSON.stringify(et).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(at,"string")}return M(et)?J.stylize(""+et,"number"):d(et)?J.stylize(""+et,"boolean"):o(et)?J.stylize("null","null"):void 0}(J,et);if(K)return K;var j=Object.keys(et),rt=function s(J){var et={};return J.forEach(function(at,lt){et[at]=!0}),et}(j);if(J.showHidden&&(j=Object.getOwnPropertyNames(et)),C(et)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return f(et);if(0===j.length){if(p(et))return J.stylize("[Function"+(et.name?": "+et.name:"")+"]","special");if(S(et))return J.stylize(RegExp.prototype.toString.call(et),"regexp");if(n(et))return J.stylize(Date.prototype.toString.call(et),"date");if(C(et))return f(et)}var nt,Z="",it=!1,Q=["{","}"];return w(et)&&(it=!0,Q=["[","]"]),p(et)&&(Z=" [Function"+(et.name?": "+et.name:"")+"]"),S(et)&&(Z=" "+RegExp.prototype.toString.call(et)),n(et)&&(Z=" "+Date.prototype.toUTCString.call(et)),C(et)&&(Z=" "+f(et)),0!==j.length||it&&0!=et.length?at<0?S(et)?J.stylize(RegExp.prototype.toString.call(et),"regexp"):J.stylize("[Object]","special"):(J.seen.push(et),nt=it?function u(J,et,at,lt,K){for(var j=[],rt=0,H=et.length;rt<H;++rt)B(et,String(rt))?j.push(g(J,et,at,lt,String(rt),!0)):j.push("");return K.forEach(function(Z){Z.match(/^\d+$/)||j.push(g(J,et,at,lt,Z,!0))}),j}(J,et,at,rt,j):j.map(function(_){return g(J,et,at,rt,_,it)}),J.seen.pop(),function c(J,et,at){return J.reduce(function(j,rt){return rt.indexOf("\n"),j+rt.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?at[0]+(""===et?"":et+"\n ")+" "+J.join(",\n  ")+" "+at[1]:at[0]+et+" "+J.join(", ")+" "+at[1]}(nt,Z,Q)):Q[0]+Z+Q[1]}function f(J){return"["+Error.prototype.toString.call(J)+"]"}function g(J,et,at,lt,K,j){var rt,H,Z;if((Z=Object.getOwnPropertyDescriptor(et,K)||{value:et[K]}).get?H=J.stylize(Z.set?"[Getter/Setter]":"[Getter]","special"):Z.set&&(H=J.stylize("[Setter]","special")),B(lt,K)||(rt="["+K+"]"),H||(J.seen.indexOf(Z.value)<0?(H=o(at)?a(J,Z.value,null):a(J,Z.value,at-1)).indexOf("\n")>-1&&(H=j?H.split("\n").map(function(it){return"  "+it}).join("\n").slice(2):"\n"+H.split("\n").map(function(it){return"   "+it}).join("\n")):H=J.stylize("[Circular]","special")),x(rt)){if(j&&K.match(/^\d+$/))return H;(rt=JSON.stringify(""+K)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(rt=rt.slice(1,-1),rt=J.stylize(rt,"name")):(rt=rt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),rt=J.stylize(rt,"string"))}return rt+": "+H}function w(J){return Array.isArray(J)}function d(J){return"boolean"==typeof J}function o(J){return null===J}function M(J){return"number"==typeof J}function b(J){return"string"==typeof J}function x(J){return void 0===J}function S(J){return T(J)&&"[object RegExp]"===D(J)}function T(J){return"object"==typeof J&&null!==J}function n(J){return T(J)&&"[object Date]"===D(J)}function C(J){return T(J)&&("[object Error]"===D(J)||J instanceof Error)}function p(J){return"function"==typeof J}function D(J){return Object.prototype.toString.call(J)}function N(J){return J<10?"0"+J.toString(10):J.toString(10)}W.debuglog=function(J){if(J=J.toUpperCase(),!P[J])if(L.test(J)){var et=A.pid;P[J]=function(){var at=W.format.apply(W,arguments);console.error("%s %d: %s",J,et,at)}}else P[J]=function(){};return P[J]},W.inspect=m,m.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},m.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},W.types=t(41088),W.isArray=w,W.isBoolean=d,W.isNull=o,W.isNullOrUndefined=function v(J){return null==J},W.isNumber=M,W.isString=b,W.isSymbol=function E(J){return"symbol"==typeof J},W.isUndefined=x,W.isRegExp=S,W.types.isRegExp=S,W.isObject=T,W.isDate=n,W.types.isDate=n,W.isError=C,W.types.isNativeError=C,W.isFunction=p,W.isPrimitive=function F(J){return null===J||"boolean"==typeof J||"number"==typeof J||"string"==typeof J||"symbol"==typeof J||void 0===J},W.isBuffer=t(75272);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function z(){var J=new Date,et=[N(J.getHours()),N(J.getMinutes()),N(J.getSeconds())].join(":");return[J.getDate(),k[J.getMonth()],et].join(" ")}function B(J,et){return Object.prototype.hasOwnProperty.call(J,et)}W.log=function(){console.log("%s - %s",z(),W.format.apply(W,arguments))},W.inherits=t(6768),W._extend=function(J,et){if(!et||!T(et))return J;for(var at=Object.keys(et),lt=at.length;lt--;)J[at[lt]]=et[at[lt]];return J};var O="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function U(J,et){if(!J){var at=new Error("Promise was rejected with a falsy value");at.reason=J,J=at}return et(J)}W.promisify=function(et){if("function"!=typeof et)throw new TypeError('The "original" argument must be of type Function');if(O&&et[O]){var at;if("function"!=typeof(at=et[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(at,O,{value:at,enumerable:!1,writable:!1,configurable:!0}),at}function at(){for(var lt,K,j=new Promise(function(Z,it){lt=Z,K=it}),rt=[],H=0;H<arguments.length;H++)rt.push(arguments[H]);rt.push(function(Z,it){Z?K(Z):lt(it)});try{et.apply(this,rt)}catch(Z){K(Z)}return j}return Object.setPrototypeOf(at,Object.getPrototypeOf(et)),O&&Object.defineProperty(at,O,{value:at,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(at,y(et))},W.promisify.custom=O,W.callbackify=function G(J){if("function"!=typeof J)throw new TypeError('The "original" argument must be of type Function');function et(){for(var at=[],lt=0;lt<arguments.length;lt++)at.push(arguments[lt]);var K=at.pop();if("function"!=typeof K)throw new TypeError("The last argument must be of type Function");var j=this,rt=function(){return K.apply(j,arguments)};J.apply(this,at).then(function(H){A.nextTick(rt.bind(null,null,H))},function(H){A.nextTick(U.bind(null,H,rt))})}return Object.setPrototypeOf(et,Object.getPrototypeOf(J)),Object.defineProperties(et,y(J)),et}},5408:function(tt,W,t){var A=t(13380);tt.exports=function(i){return A("webgl",i)}},96632:function(tt,W,t){"use strict";var A=t(46492),y=t(63436),i=t(57916),P=t(99676),L=t(2304),l=P("Object.prototype.toString"),m=t(46672)(),r="undefined"==typeof globalThis?t.g:globalThis,e=y(),s=P("String.prototype.slice"),a=Object.getPrototypeOf,h=P("Array.prototype.indexOf",!0)||function(w,d){for(var o=0;o<w.length;o+=1)if(w[o]===d)return o;return-1},f={__proto__:null};A(e,m&&L&&a?function(c){var w=new r[c];if(Symbol.toStringTag in w){var d=a(w),o=L(d,Symbol.toStringTag);if(!o){var v=a(d);o=L(v,Symbol.toStringTag)}f["$"+c]=i(o.get)}}:function(c){var w=new r[c],d=w.slice||w.set;d&&(f["$"+c]=i(d))});tt.exports=function(w){if(!w||"object"!=typeof w)return!1;if(!m){var d=s(l(w),8,-1);return h(e,d)>-1?d:"Object"===d&&function(w){var d=!1;return A(f,function(o,v){if(!d)try{o(w),d=s(v,1)}catch(M){}}),d}(w)}return L?function(w){var d=!1;return A(f,function(o,v){if(!d)try{"$"+o(w)===v&&(d=s(v,1))}catch(M){}}),d}(w):null}},67020:function(tt,W,t){var A=t(38700),y=t(50896),i=A.instance();function P(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}y(P.prototype=new A.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(f,u){if("string"==typeof f){var g=f.match(l);return g?g[0]:""}var c=this._validateYear(f),w=f.month(),d=""+this.toChineseMonth(c,w);return u&&d.length<2&&(d="0"+d),this.isIntercalaryMonth(c,w)&&(d+="i"),d},monthNames:function(f){if("string"==typeof f){var u=f.match(m);return u?u[0]:""}var g=this._validateYear(f),c=f.month(),d=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(g,c)-1];return this.isIntercalaryMonth(g,c)&&(d="\u95f0"+d),d},monthNamesShort:function(f){if("string"==typeof f){var u=f.match(r);return u?u[0]:""}var g=this._validateYear(f),c=f.month(),d=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(g,c)-1];return this.isIntercalaryMonth(g,c)&&(d="\u95f0"+d),d},parseMonth:function(f,u){f=this._validateYear(f);var c,g=parseInt(u);if(isNaN(g))"\u95f0"===u[0]&&(c=!0,u=u.substring(1)),"\u6708"===u[u.length-1]&&(u=u.substring(0,u.length-1)),g=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(u);else{var w=u[u.length-1];c="i"===w||"I"===w}return this.toMonthIndex(f,g,c)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(f,u){if(f.year&&(f=f.year()),"number"!=typeof f||f<1888||f>2111)throw u.replace(/\{0\}/,this.local.name);return f},toMonthIndex:function(f,u,g){var c=this.intercalaryMonth(f);if(g&&u!==c||u<1||u>12)throw A.local.invalidMonth.replace(/\{0\}/,this.local.name);return c?!g&&u<=c?u-1:u:u-1},toChineseMonth:function(f,u){f.year&&(u=(f=f.year()).month());var g=this.intercalaryMonth(f);if(u<0||u>(g?12:11))throw A.local.invalidMonth.replace(/\{0\}/,this.local.name);return g?u<g?u+1:u:u+1},intercalaryMonth:function(f){return f=this._validateYear(f),e[f-e[0]]>>13},isIntercalaryMonth:function(f,u){f.year&&(u=(f=f.year()).month());var g=this.intercalaryMonth(f);return!!g&&g===u},leapYear:function(f){return 0!==this.intercalaryMonth(f)},weekOfYear:function(f,u,g){var M,c=this._validateYear(f,A.local.invalidyear),w=s[c-s[0]];(M=i.newDate(w>>9&4095,w>>5&15,31&w)).add(4-(M.dayOfWeek()||7),"d");var b=this.toJD(f,u,g)-M.toJD();return 1+Math.floor(b/7)},monthsInYear:function(f){return this.leapYear(f)?13:12},daysInMonth:function(f,u){f.year&&(u=f.month(),f=f.year()),f=this._validateYear(f);var g=e[f-e[0]];if(u>(g>>13?12:11))throw A.local.invalidMonth.replace(/\{0\}/,this.local.name);return g&1<<12-u?30:29},weekDay:function(f,u,g){return(this.dayOfWeek(f,u,g)||7)<6},toJD:function(f,u,g){var c=this._validate(f,d,g,A.local.invalidDate);f=this._validateYear(c.year()),u=c.month(),g=c.day();var w=this.isIntercalaryMonth(f,u),d=this.toChineseMonth(f,u),o=function h(f,u,g,c,w){var d,o,x;if("object"==typeof f)o=f,d=u||{};else{var E;if(!("number"==typeof f&&f>=1888&&f<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof u&&u>=1&&u<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof g&&g>=1&&g<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof c?(E=!1,d=c):(E=!!c,d=w||{}),o={year:f,month:u,day:g,isIntercalary:E}}x=o.day-1;var n,S=e[o.year-e[0]],T=S>>13;n=T&&(o.month>T||o.isIntercalary)?o.month:o.month-1;for(var C=0;C<n;C++)x+=S&1<<12-C?30:29;var F=s[o.year-s[0]],z=new Date(F>>9&4095,(F>>5&15)-1,(31&F)+x);return d.year=z.getFullYear(),d.month=1+z.getMonth(),d.day=z.getDate(),d}(f,d,g,w);return i.toJD(o.year,o.month,o.day)},fromJD:function(f){var u=i.fromJD(f),g=function a(f,u,g,c){var w,d;if("object"==typeof f)w=f,d=u||{};else{if(!("number"==typeof f&&f>=1888&&f<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof u&&u>=1&&u<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof g&&g>=1&&g<=31))throw new Error("Solar day outside range 1 - 31");w={year:f,month:u,day:g},d=c||{}}var b=s[w.year-s[0]];d.year=(w.year<<9|w.month<<5|w.day)>=b?w.year:w.year-1,b=s[d.year-s[0]];var n,C=new Date(b>>9&4095,(b>>5&15)-1,31&b),p=new Date(w.year,w.month-1,w.day);n=Math.round((p-C)/864e5);var D,F=e[d.year-e[0]];for(D=0;D<13;D++){var N=F&1<<12-D?30:29;if(n<N)break;n-=N}var k=F>>13;return!k||D<k?(d.isIntercalary=!1,d.month=1+D):D===k?(d.isIntercalary=!0,d.month=D):(d.isIntercalary=!1,d.month=D),d.day=1+n,d}(u.year(),u.month(),u.day()),c=this.toMonthIndex(g.year,g.month,g.isIntercalary);return this.newDate(g.year,c,g.day)},fromString:function(f){var u=f.match(L),g=this._validateYear(+u[1]),d=this.toMonthIndex(g,+u[2],!!u[3]);return this.newDate(g,d,+u[4])},add:function(f,u,g){var c=f.year(),w=f.month(),d=this.isIntercalaryMonth(c,w),o=this.toChineseMonth(c,w),v=Object.getPrototypeOf(P.prototype).add.call(this,f,u,g);if("y"===g){var M=v.year(),b=v.month(),E=this.isIntercalaryMonth(M,o),x=this.toMonthIndex(M,o,!(!d||!E));x!==b&&v.month(x)}return v}});var L=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,l=/^\d?\d[iI]?/m,m=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,r=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;A.calendars.chinese=P;var e=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],s=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},89792:function(tt,W,t){var A=t(38700);function i(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}t(50896)(i.prototype=new A.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var L=this._validate(l,this.minMonth,this.minDay,A.local.invalidYear);return(l=L.year()+(L.year()<0?1:0))%4==3||l%4==-1},monthsInYear:function(P){return this._validate(P,this.minMonth,this.minDay,A.local.invalidYear||A.regionalOptions[""].invalidYear),13},weekOfYear:function(P,L,l){var m=this.newDate(P,L,l);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInMonth:function(P,L){var l=this._validate(P,L,this.minDay,A.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(13===l.month()&&this.leapYear(l.year())?1:0)},weekDay:function(P,L,l){return(this.dayOfWeek(P,L,l)||7)<6},toJD:function(P,L,l){var m=this._validate(P,L,l,A.local.invalidDate);return(P=m.year())<0&&P++,m.day()+30*(m.month()-1)+365*(P-1)+Math.floor(P/4)+this.jdEpoch-1},fromJD:function(P){var L=Math.floor(P)+.5-this.jdEpoch,l=Math.floor((L-Math.floor((L+366)/1461))/365)+1;l<=0&&l--,L=Math.floor(P)+.5-this.newDate(l,1,1).toJD();var m=Math.floor(L/30)+1;return this.newDate(l,m,L-30*(m-1)+1)}}),A.calendars.coptic=i},55668:function(tt,W,t){var A=t(38700);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}t(50896)(i.prototype=new A.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(L){return this._validate(L,this.minMonth,this.minDay,A.local.invalidYear),!1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,A.local.invalidYear),13},daysInYear:function(L){return this._validate(L,this.minMonth,this.minDay,A.local.invalidYear),400},weekOfYear:function(L,l,m){var r=this.newDate(L,l,m);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(L,l){var m=this._validate(L,l,this.minDay,A.local.invalidMonth);return this.daysPerMonth[m.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(L,l,m){return(this._validate(L,l,m,A.local.invalidDate).day()+1)%8},weekDay:function(L,l,m){var r=this.dayOfWeek(L,l,m);return r>=2&&r<=6},extraInfo:function(L,l,m){var r=this._validate(L,l,m,A.local.invalidDate);return{century:P[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(L,l,m){var r=this._validate(L,l,m,A.local.invalidDate);return L=r.year()+(r.year()<0?1:0),l=r.month(),(m=r.day())+(l>1?16:0)+(l>2?32*(l-2):0)+400*(L-1)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L+.5)-Math.floor(this.jdEpoch)-1;var l=Math.floor(L/400)+1;L-=400*(l-1),L+=L>15?16:0;var m=Math.floor(L/32)+1;return this.newDate(l<=0?l-1:l,m,L-32*(m-1)+1)}});var P={20:"Fruitbat",21:"Anchovy"};A.calendars.discworld=i},65168:function(tt,W,t){var A=t(38700);function i(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}t(50896)(i.prototype=new A.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var L=this._validate(l,this.minMonth,this.minDay,A.local.invalidYear);return(l=L.year()+(L.year()<0?1:0))%4==3||l%4==-1},monthsInYear:function(P){return this._validate(P,this.minMonth,this.minDay,A.local.invalidYear||A.regionalOptions[""].invalidYear),13},weekOfYear:function(P,L,l){var m=this.newDate(P,L,l);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInMonth:function(P,L){var l=this._validate(P,L,this.minDay,A.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(13===l.month()&&this.leapYear(l.year())?1:0)},weekDay:function(P,L,l){return(this.dayOfWeek(P,L,l)||7)<6},toJD:function(P,L,l){var m=this._validate(P,L,l,A.local.invalidDate);return(P=m.year())<0&&P++,m.day()+30*(m.month()-1)+365*(P-1)+Math.floor(P/4)+this.jdEpoch-1},fromJD:function(P){var L=Math.floor(P)+.5-this.jdEpoch,l=Math.floor((L-Math.floor((L+366)/1461))/365)+1;l<=0&&l--,L=Math.floor(P)+.5-this.newDate(l,1,1).toJD();var m=Math.floor(L/30)+1;return this.newDate(l,m,L-30*(m-1)+1)}}),A.calendars.ethiopian=i},2084:function(tt,W,t){var A=t(38700);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}function P(L,l){return L-l*Math.floor(L/l)}t(50896)(i.prototype=new A.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(L){var l=this._validate(L,this.minMonth,this.minDay,A.local.invalidYear);return this._leapYear(l.year())},_leapYear:function(L){return P(7*(L=L<0?L+1:L)+1,19)<7},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,A.local.invalidYear),this._leapYear(L.year?L.year():L)?13:12},weekOfYear:function(L,l,m){var r=this.newDate(L,l,m);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(L){return L=this._validate(L,this.minMonth,this.minDay,A.local.invalidYear).year(),this.toJD(-1===L?1:L+1,7,1)-this.toJD(L,7,1)},daysInMonth:function(L,l){return L.year&&(l=L.month(),L=L.year()),this._validate(L,l,this.minDay,A.local.invalidMonth),12===l&&this.leapYear(L)||8===l&&5===P(this.daysInYear(L),10)?30:9===l&&3===P(this.daysInYear(L),10)?29:this.daysPerMonth[l-1]},weekDay:function(L,l,m){return 6!==this.dayOfWeek(L,l,m)},extraInfo:function(L,l,m){var r=this._validate(L,l,m,A.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(L,l,m){var r=this._validate(L,l,m,A.local.invalidDate);L=r.year(),l=r.month(),m=r.day();var e=L<=0?L+1:L,s=this.jdEpoch+this._delay1(e)+this._delay2(e)+m+1;if(l<7){for(var a=7;a<=this.monthsInYear(L);a++)s+=this.daysInMonth(L,a);for(a=1;a<l;a++)s+=this.daysInMonth(L,a)}else for(a=7;a<l;a++)s+=this.daysInMonth(L,a);return s},_delay1:function(L){var l=Math.floor((235*L-234)/19),r=29*l+Math.floor((12084+13753*l)/25920);return P(3*(r+1),7)<3&&r++,r},_delay2:function(L){var l=this._delay1(L-1),m=this._delay1(L);return this._delay1(L+1)-m==356?2:m-l==382?1:0},fromJD:function(L){L=Math.floor(L)+.5;for(var l=Math.floor(98496*(L-this.jdEpoch)/35975351)-1;L>=this.toJD(-1===l?1:l+1,7,1);)l++;for(var m=L<this.toJD(l,1,1)?7:1;L>this.toJD(l,m,this.daysInMonth(l,m));)m++;var r=L-this.toJD(l,m,1)+1;return this.newDate(l,m,r)}}),A.calendars.hebrew=i},26368:function(tt,W,t){var A=t(38700);function i(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}t(50896)(i.prototype=new A.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(P){return(11*this._validate(P,this.minMonth,this.minDay,A.local.invalidYear).year()+14)%30<11},weekOfYear:function(P,L,l){var m=this.newDate(P,L,l);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInYear:function(P){return this.leapYear(P)?355:354},daysInMonth:function(P,L){var l=this._validate(P,L,this.minDay,A.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(12===l.month()&&this.leapYear(l.year())?1:0)},weekDay:function(P,L,l){return 5!==this.dayOfWeek(P,L,l)},toJD:function(P,L,l){var m=this._validate(P,L,l,A.local.invalidDate);return P=m.year(),L=m.month(),P=P<=0?P+1:P,(l=m.day())+Math.ceil(29.5*(L-1))+354*(P-1)+Math.floor((3+11*P)/30)+this.jdEpoch-1},fromJD:function(P){P=Math.floor(P)+.5;var L=Math.floor((30*(P-this.jdEpoch)+10646)/10631);L=L<=0?L-1:L;var l=Math.min(12,Math.ceil((P-29-this.toJD(L,1,1))/29.5)+1),m=P-this.toJD(L,l,1)+1;return this.newDate(L,l,m)}}),A.calendars.islamic=i},24747:function(tt,W,t){var A=t(38700);function i(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}t(50896)(i.prototype=new A.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var L=this._validate(l,this.minMonth,this.minDay,A.local.invalidYear);return(l=L.year()<0?L.year()+1:L.year())%4==0},weekOfYear:function(P,L,l){var m=this.newDate(P,L,l);return m.add(4-(m.dayOfWeek()||7),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInMonth:function(P,L){var l=this._validate(P,L,this.minDay,A.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(2===l.month()&&this.leapYear(l.year())?1:0)},weekDay:function(P,L,l){return(this.dayOfWeek(P,L,l)||7)<6},toJD:function(P,L,l){var m=this._validate(P,L,l,A.local.invalidDate);return P=m.year(),L=m.month(),l=m.day(),P<0&&P++,L<=2&&(P--,L+=12),Math.floor(365.25*(P+4716))+Math.floor(30.6001*(L+1))+l-1524.5},fromJD:function(P){var l=Math.floor(P+.5)+1524,m=Math.floor((l-122.1)/365.25),r=Math.floor(365.25*m),e=Math.floor((l-r)/30.6001),s=e-Math.floor(e<14?1:13),a=m-Math.floor(s>2?4716:4715),h=l-r-Math.floor(30.6001*e);return a<=0&&a--,this.newDate(a,s,h)}}),A.calendars.julian=i},65616:function(tt,W,t){var A=t(38700);function i(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}function P(l,m){return l-m*Math.floor(l/m)}function L(l,m){return P(l-1,m)+1}t(50896)(i.prototype=new A.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(l){return this._validate(l,this.minMonth,this.minDay,A.local.invalidYear),!1},formatYear:function(l){l=this._validate(l,this.minMonth,this.minDay,A.local.invalidYear).year();var r=Math.floor(l/400);return l%=400,l+=l<0?400:0,r+"."+Math.floor(l/20)+"."+l%20},forYear:function(l){if((l=l.split(".")).length<3)throw"Invalid Mayan year";for(var m=0,r=0;r<l.length;r++){var e=parseInt(l[r],10);if(Math.abs(e)>19||r>0&&e<0)throw"Invalid Mayan year";m=20*m+e}return m},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,A.local.invalidYear),18},weekOfYear:function(l,m,r){return this._validate(l,m,r,A.local.invalidDate),0},daysInYear:function(l){return this._validate(l,this.minMonth,this.minDay,A.local.invalidYear),360},daysInMonth:function(l,m){return this._validate(l,m,this.minDay,A.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(l,m,r){return this._validate(l,m,r,A.local.invalidDate).day()},weekDay:function(l,m,r){return this._validate(l,m,r,A.local.invalidDate),!0},extraInfo:function(l,m,r){var s=this._validate(l,m,r,A.local.invalidDate).toJD(),a=this._toHaab(s),h=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[h[0]-1],tzolkinDay:h[0],tzolkinTrecena:h[1]}},_toHaab:function(l){var m=P(8+(l-=this.jdEpoch)+340,365);return[Math.floor(m/20)+1,P(m,20)]},_toTzolkin:function(l){return[L(20+(l-=this.jdEpoch),20),L(l+4,13)]},toJD:function(l,m,r){var e=this._validate(l,m,r,A.local.invalidDate);return e.day()+20*e.month()+360*e.year()+this.jdEpoch},fromJD:function(l){l=Math.floor(l)+.5-this.jdEpoch;var m=Math.floor(l/360);l%=360,l+=l<0?360:0;var r=Math.floor(l/20);return this.newDate(m,r,l%20)}}),A.calendars.mayan=i},30632:function(tt,W,t){var A=t(38700),y=t(50896);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new A.baseCalendar;var P=A.instance("gregorian");y(i.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(L){var l=this._validate(L,this.minMonth,this.minDay,A.local.invalidYear||A.regionalOptions[""].invalidYear);return P.leapYear(l.year()+(l.year()<1?1:0)+1469)},weekOfYear:function(L,l,m){var r=this.newDate(L,l,m);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(L,l){var m=this._validate(L,l,this.minDay,A.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(12===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(L,l,m){return(this.dayOfWeek(L,l,m)||7)<6},toJD:function(e,l,m){var r=this._validate(e,l,m,A.local.invalidMonth);(e=r.year())<0&&e++;for(var s=r.day(),a=1;a<r.month();a++)s+=this.daysPerMonth[a-1];return s+P.toJD(e+1468,3,13)},fromJD:function(L){L=Math.floor(L+.5);for(var l=Math.floor((L-(this.jdEpoch-1))/366);L>=this.toJD(l+1,1,1);)l++;for(var m=L-Math.floor(this.toJD(l,1,1)+.5)+1,r=1;m>this.daysInMonth(l,r);)m-=this.daysInMonth(l,r),r++;return this.newDate(l,r,m)}}),A.calendars.nanakshahi=i},73040:function(tt,W,t){var A=t(38700);function i(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}t(50896)(i.prototype=new A.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(P){return this.daysInYear(P)!==this.daysPerYear},weekOfYear:function(P,L,l){var m=this.newDate(P,L,l);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInYear:function(P){if(P=this._validate(P,this.minMonth,this.minDay,A.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[P])return this.daysPerYear;for(var l=0,m=this.minMonth;m<=12;m++)l+=this.NEPALI_CALENDAR_DATA[P][m];return l},daysInMonth:function(P,L){return P.year&&(L=P.month(),P=P.year()),this._validate(P,L,this.minDay,A.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[P]?this.daysPerMonth[L-1]:this.NEPALI_CALENDAR_DATA[P][L]},weekDay:function(P,L,l){return 6!==this.dayOfWeek(P,L,l)},toJD:function(P,L,l){var m=this._validate(P,L,l,A.local.invalidDate);P=m.year(),L=m.month(),l=m.day();var r=A.instance(),e=0,s=L,a=P;this._createMissingCalendarData(P);var h=P-(s>9||9===s&&l>=this.NEPALI_CALENDAR_DATA[a][0]?56:57);for(9!==L&&(e=l,s--);9!==s;)s<=0&&(s=12,a--),e+=this.NEPALI_CALENDAR_DATA[a][s],s--;return 9===L?(e+=l-this.NEPALI_CALENDAR_DATA[a][0])<0&&(e+=r.daysInYear(h)):e+=this.NEPALI_CALENDAR_DATA[a][9]-this.NEPALI_CALENDAR_DATA[a][0],r.newDate(h,1,1).add(e,"d").toJD()},fromJD:function(P){var l=A.instance().fromJD(P),m=l.year(),r=l.dayOfYear(),e=m+56;this._createMissingCalendarData(e);for(var s=9,h=this.NEPALI_CALENDAR_DATA[e][s]-this.NEPALI_CALENDAR_DATA[e][0]+1;r>h;)++s>12&&(s=1,e++),h+=this.NEPALI_CALENDAR_DATA[e][s];return this.newDate(e,s,this.NEPALI_CALENDAR_DATA[e][s]-(h-r))},_createMissingCalendarData:function(P){var L=this.daysPerMonth.slice(0);L.unshift(17);for(var l=P-1;l<P+2;l++)void 0===this.NEPALI_CALENDAR_DATA[l]&&(this.NEPALI_CALENDAR_DATA[l]=L)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),A.calendars.nepali=i},1104:function(tt,W,t){var A=t(38700);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}function P(L,l){return L-l*Math.floor(L/l)}t(50896)(i.prototype=new A.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var l=this._validate(L,this.minMonth,this.minDay,A.local.invalidYear);return 682*((l.year()-(l.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(L,l,m){var r=this.newDate(L,l,m);return r.add(-(r.dayOfWeek()+1)%7,"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(L,l){var m=this._validate(L,l,this.minDay,A.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(12===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(L,l,m){return 5!==this.dayOfWeek(L,l,m)},toJD:function(L,l,m){var r=this._validate(L,l,m,A.local.invalidDate);L=r.year(),l=r.month(),m=r.day();var e=L-(L>=0?474:473),s=474+P(e,2820);return m+(l<=7?31*(l-1):30*(l-1)+6)+Math.floor((682*s-110)/2816)+365*(s-1)+1029983*Math.floor(e/2820)+this.jdEpoch-1},fromJD:function(L){var l=(L=Math.floor(L)+.5)-this.toJD(475,1,1),m=Math.floor(l/1029983),r=P(l,1029983),e=2820;if(1029982!==r){var s=Math.floor(r/366),a=P(r,366);e=Math.floor((2134*s+2816*a+2815)/1028522)+s+1}var h=e+2820*m+474,f=L-this.toJD(h=h<=0?h-1:h,1,1)+1,u=f<=186?Math.ceil(f/31):Math.ceil((f-6)/30),g=L-this.toJD(h,u,1)+1;return this.newDate(h,u,g)}}),A.calendars.persian=i,A.calendars.jalali=i},51456:function(tt,W,t){var A=t(38700),y=t(50896),i=A.instance();function P(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}y(P.prototype=new A.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(m){var l=this._validate(m,this.minMonth,this.minDay,A.local.invalidYear);return m=this._t2gYear(l.year()),i.leapYear(m)},weekOfYear:function(e,l,m){var r=this._validate(e,this.minMonth,this.minDay,A.local.invalidYear);return e=this._t2gYear(r.year()),i.weekOfYear(e,r.month(),r.day())},daysInMonth:function(L,l){var m=this._validate(L,l,this.minDay,A.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(2===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(L,l,m){return(this.dayOfWeek(L,l,m)||7)<6},toJD:function(e,l,m){var r=this._validate(e,l,m,A.local.invalidDate);return e=this._t2gYear(r.year()),i.toJD(e,r.month(),r.day())},fromJD:function(L){var l=i.fromJD(L),m=this._g2tYear(l.year());return this.newDate(m,l.month(),l.day())},_t2gYear:function(L){return L+this.yearsOffset+(L>=-this.yearsOffset&&L<=-1?1:0)},_g2tYear:function(L){return L-this.yearsOffset-(L>=1&&L<=this.yearsOffset?1:0)}}),A.calendars.taiwan=P},4592:function(tt,W,t){var A=t(38700),y=t(50896),i=A.instance();function P(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}y(P.prototype=new A.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(m){var l=this._validate(m,this.minMonth,this.minDay,A.local.invalidYear);return m=this._t2gYear(l.year()),i.leapYear(m)},weekOfYear:function(e,l,m){var r=this._validate(e,this.minMonth,this.minDay,A.local.invalidYear);return e=this._t2gYear(r.year()),i.weekOfYear(e,r.month(),r.day())},daysInMonth:function(L,l){var m=this._validate(L,l,this.minDay,A.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(2===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(L,l,m){return(this.dayOfWeek(L,l,m)||7)<6},toJD:function(e,l,m){var r=this._validate(e,l,m,A.local.invalidDate);return e=this._t2gYear(r.year()),i.toJD(e,r.month(),r.day())},fromJD:function(L){var l=i.fromJD(L),m=this._g2tYear(l.year());return this.newDate(m,l.month(),l.day())},_t2gYear:function(L){return L-this.yearsOffset-(L>=1&&L<=this.yearsOffset?1:0)},_g2tYear:function(L){return L+this.yearsOffset+(L>=-this.yearsOffset&&L<=-1?1:0)}}),A.calendars.thai=P},45348:function(tt,W,t){var A=t(38700);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}t(50896)(i.prototype=new A.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(L){var l=this._validate(L,this.minMonth,this.minDay,A.local.invalidYear);return 355===this.daysInYear(l.year())},weekOfYear:function(L,l,m){var r=this.newDate(L,l,m);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(L){for(var l=0,m=1;m<=12;m++)l+=this.daysInMonth(L,m);return l},daysInMonth:function(L,l){for(var r=this._validate(L,l,this.minDay,A.local.invalidMonth).toJD()-24e5+.5,e=0,s=0;s<P.length;s++){if(P[s]>r)return P[e]-P[e-1];e++}return 30},weekDay:function(L,l,m){return 5!==this.dayOfWeek(L,l,m)},toJD:function(L,l,m){var r=this._validate(L,l,m,A.local.invalidDate),e=12*(r.year()-1)+r.month()-15292;return r.day()+P[e-1]-1+24e5-.5},fromJD:function(L){for(var l=L-24e5+.5,m=0,r=0;r<P.length&&!(P[r]>l);r++)m++;var e=m+15292,s=Math.floor((e-1)/12);return this.newDate(s+1,e-12*s,l-P[m-1]+1)},isValid:function(L,l,m){var r=A.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(r=(L=null!=L.year?L.year:L)>=1276&&L<=1500),r},_validate:function(L,l,m,r){var e=A.baseCalendar.prototype._validate.apply(this,arguments);if(e.year<1276||e.year>1500)throw r.replace(/\{0\}/,this.local.name);return e}}),A.calendars.ummalqura=i;var P=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(tt,W,t){var A=t(50896);function y(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function i(r,e,s,a){if(this._calendar=r,this._year=e,this._month=s,this._day=a,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(m.local.invalidDate||m.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function P(r,e){return"000000".substring(0,e-(r=""+r).length)+r}function L(){this.shortYearCutoff="+10"}function l(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}A(y.prototype,{instance:function(r,e){r=(r||"gregorian").toLowerCase();var s=this._localCals[r+"-"+(e=e||"")];if(!s&&this.calendars[r]&&(s=new this.calendars[r](e),this._localCals[r+"-"+e]=s),!s)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return s},newDate:function(r,e,s,a,h){return(a=(null!=r&&r.year?r.calendar():"string"==typeof a?this.instance(a,h):a)||this.instance()).newDate(r,e,s)},substituteDigits:function(r){return function(e){return(e+"").replace(/[0-9]/g,function(s){return r[s]})}},substituteChineseDigits:function(r,e){return function(s){for(var a="",h=0;s>0;){var f=s%10;a=(0===f?"":r[f]+e[h])+a,h++,s=Math.floor(s/10)}return 0===a.indexOf(r[1]+e[1])&&(a=a.substr(1)),a||r[0]}}}),A(i.prototype,{newDate:function(r,e,s){return this._calendar.newDate(null==r?this:r,e,s)},year:function(r){return 0===arguments.length?this._year:this.set(r,"y")},month:function(r){return 0===arguments.length?this._month:this.set(r,"m")},day:function(r){return 0===arguments.length?this._day:this.set(r,"d")},date:function(r,e,s){if(!this._calendar.isValid(r,e,s))throw(m.local.invalidDate||m.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=e,this._day=s,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,e){return this._calendar.add(this,r,e)},set:function(r,e){return this._calendar.set(this,r,e)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(m.local.differentCalendars||m.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var e=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return 0===e?0:e<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+P(Math.abs(this.year()),4)+"-"+P(this.month(),2)+"-"+P(this.day(),2)}}),A(L.prototype,{_validateLevel:0,newDate:function(r,e,s){return null==r?this.today():(r.year&&(this._validate(r,e,s,m.local.invalidDate||m.regionalOptions[""].invalidDate),s=r.day(),e=r.month(),r=r.year()),new i(this,r,e,s))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){return this._validate(r,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var e=this._validate(r,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear);return(e.year()<0?"-":"")+P(Math.abs(e.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear),12},monthOfYear:function(r,e){var s=this._validate(r,e,this.minDay,m.local.invalidMonth||m.regionalOptions[""].invalidMonth);return(s.month()+this.monthsInYear(s)-this.firstMonth)%this.monthsInYear(s)+this.minMonth},fromMonthOfYear:function(r,e){var s=(e+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,s,this.minDay,m.local.invalidMonth||m.regionalOptions[""].invalidMonth),s},daysInYear:function(r){var e=this._validate(r,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear);return this.leapYear(e)?366:365},dayOfYear:function(r,e,s){var a=this._validate(r,e,s,m.local.invalidDate||m.regionalOptions[""].invalidDate);return a.toJD()-this.newDate(a.year(),this.fromMonthOfYear(a.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,e,s){var a=this._validate(r,e,s,m.local.invalidDate||m.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(a))+2)%this.daysInWeek()},extraInfo:function(r,e,s){return this._validate(r,e,s,m.local.invalidDate||m.regionalOptions[""].invalidDate),{}},add:function(r,e,s){return this._validate(r,this.minMonth,this.minDay,m.local.invalidDate||m.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,e,s),e,s)},_add:function(r,e,s){if(this._validateLevel++,"d"===s||"w"===s){var a=r.toJD()+e*("w"===s?this.daysInWeek():1),h=r.calendar().fromJD(a);return this._validateLevel--,[h.year(),h.month(),h.day()]}try{var f=r.year()+("y"===s?e:0),u=r.monthOfYear()+("m"===s?e:0),g=(h=r.day(),function(d){for(;u<d.minMonth;)f--,u+=d.monthsInYear(f);for(var o=d.monthsInYear(f);u>o-1+d.minMonth;)f++,u-=o,o=d.monthsInYear(f)});"y"===s?(r.month()!==this.fromMonthOfYear(f,u)&&(u=this.newDate(f,r.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(f)),h=Math.min(h,this.daysInMonth(f,this.fromMonthOfYear(f,u)))):"m"===s&&(g(this),h=Math.min(h,this.daysInMonth(f,this.fromMonthOfYear(f,u))));var c=[f,this.fromMonthOfYear(f,u),h];return this._validateLevel--,c}catch(w){throw this._validateLevel--,w}},_correctAdd:function(r,e,s,a){if(!(this.hasYearZero||"y"!==a&&"m"!==a||0!==e[0]&&r.year()>0==e[0]>0)){var h={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[a];e=this._add(r,s*h[0]+(s<0?-1:1)*h[1],h[2])}return r.date(e[0],e[1],e[2])},set:function(r,e,s){this._validate(r,this.minMonth,this.minDay,m.local.invalidDate||m.regionalOptions[""].invalidDate);var a="y"===s?e:r.year(),h="m"===s?e:r.month(),f="d"===s?e:r.day();return("y"===s||"m"===s)&&(f=Math.min(f,this.daysInMonth(a,h))),r.date(a,h,f)},isValid:function(r,e,s){this._validateLevel++;var a=this.hasYearZero||0!==r;if(a){var h=this.newDate(r,e,this.minDay);a=e>=this.minMonth&&e-this.minMonth<this.monthsInYear(h)&&s>=this.minDay&&s-this.minDay<this.daysInMonth(h)}return this._validateLevel--,a},toJSDate:function(r,e,s){var a=this._validate(r,e,s,m.local.invalidDate||m.regionalOptions[""].invalidDate);return m.instance().fromJD(this.toJD(a)).toJSDate()},fromJSDate:function(r){return this.fromJD(m.instance().fromJSDate(r).toJD())},_validate:function(r,e,s,a){if(r.year){if(0===this._validateLevel&&this.name!==r.calendar().name)throw(m.local.differentCalendars||m.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(r,e,s))throw a.replace(/\{0\}/,this.local.name);var h=this.newDate(r,e,s);return this._validateLevel--,h}catch(f){throw this._validateLevel--,f}}}),A(l.prototype=new L,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(s){var e=this._validate(s,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear);return(s=e.year()+(e.year()<0?1:0))%4==0&&(s%100!=0||s%400==0)},weekOfYear:function(r,e,s){var a=this.newDate(r,e,s);return a.add(4-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(r,e){var s=this._validate(r,e,this.minDay,m.local.invalidMonth||m.regionalOptions[""].invalidMonth);return this.daysPerMonth[s.month()-1]+(2===s.month()&&this.leapYear(s.year())?1:0)},weekDay:function(r,e,s){return(this.dayOfWeek(r,e,s)||7)<6},toJD:function(r,e,s){var a=this._validate(r,e,s,m.local.invalidDate||m.regionalOptions[""].invalidDate);r=a.year(),e=a.month(),s=a.day(),r<0&&r++,e<3&&(e+=12,r--);var h=Math.floor(r/100),f=2-h+Math.floor(h/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(e+1))+s+f-1524.5},fromJD:function(r){var e=Math.floor(r+.5),s=Math.floor((e-1867216.25)/36524.25),a=1524+(s=e+1+s-Math.floor(s/4)),h=Math.floor((a-122.1)/365.25),f=Math.floor(365.25*h),u=Math.floor((a-f)/30.6001),g=a-f-Math.floor(30.6001*u),c=u-(u>13.5?13:1),w=h-(c>2.5?4716:4715);return w<=0&&w--,this.newDate(w,c,g)},toJSDate:function(r,e,s){var a=this._validate(r,e,s,m.local.invalidDate||m.regionalOptions[""].invalidDate),h=new Date(a.year(),a.month()-1,a.day());return h.setHours(0),h.setMinutes(0),h.setSeconds(0),h.setMilliseconds(0),h.setHours(h.getHours()>12?h.getHours()+2:0),h},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var m=tt.exports=new y;m.cdate=i,m.baseCalendar=L,m.calendars.gregorian=l},15168:function(tt,W,t){var A=t(50896),y=t(38700);A(y.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),y.local=y.regionalOptions[""],A(y.cdate.prototype,{formatDate:function(i,P){return"string"!=typeof i&&(P=i,i=""),this._calendar.formatDate(i||"",this,P)}}),A(y.baseCalendar.prototype,{UNIX_EPOCH:y.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:y.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,P,L){if("string"!=typeof i&&(L=P,P=i,i=""),!P)return"";if(P.calendar()!==this)throw y.local.invalidFormat||y.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat;for(var l=(L=L||{}).dayNamesShort||this.local.dayNamesShort,m=L.dayNames||this.local.dayNames,r=L.monthNumbers||this.local.monthNumbers,e=L.monthNamesShort||this.local.monthNamesShort,s=L.monthNames||this.local.monthNames,h=function(E,x){for(var S=1;b+S<i.length&&i.charAt(b+S)===E;)S++;return b+=S-1,Math.floor(S/(x||1))>1},f=function(E,x,S,T){var n=""+x;if(h(E,T))for(;n.length<S;)n="0"+n;return n},g=this,c=function(E){return"function"==typeof r?r.call(g,E,h("m")):o(f("m",E.month(),2))},w=function(E,x){return x?"function"==typeof s?s.call(g,E):s[E.month()-g.minMonth]:"function"==typeof e?e.call(g,E):e[E.month()-g.minMonth]},d=this.local.digits,o=function(E){return L.localNumbers&&d?d(E):E},v="",M=!1,b=0;b<i.length;b++)if(M)"'"!==i.charAt(b)||h("'")?v+=i.charAt(b):M=!1;else switch(i.charAt(b)){case"d":v+=o(f("d",P.day(),2));break;case"D":v+=(E="D",x=P.dayOfWeek(),S=l,T=m,h(E)?T[x]:S[x]);break;case"o":v+=f("o",P.dayOfYear(),3);break;case"w":v+=f("w",P.weekOfYear(),2);break;case"m":v+=c(P);break;case"M":v+=w(P,h("M"));break;case"y":v+=h("y",2)?P.year():(P.year()%100<10?"0":"")+P.year()%100;break;case"Y":h("Y",2),v+=P.formatYear();break;case"J":v+=P.toJD();break;case"@":v+=(P.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":v+=(P.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":h("'")?v+="'":M=!0;break;default:v+=i.charAt(b)}var E,x,S,T;return v},parseDate:function(i,P,L){if(null==P)throw y.local.invalidArguments||y.regionalOptions[""].invalidArguments;if(""===(P="object"==typeof P?P.toString():P+""))return null;i=i||this.local.dateFormat;var l=(L=L||{}).shortYearCutoff||this.shortYearCutoff;l="string"!=typeof l?l:this.today().year()%100+parseInt(l,10);for(var m=L.dayNamesShort||this.local.dayNamesShort,r=L.dayNames||this.local.dayNames,e=L.parseMonth||this.local.parseMonth,s=L.monthNumbers||this.local.monthNumbers,a=L.monthNamesShort||this.local.monthNamesShort,h=L.monthNames||this.local.monthNames,f=-1,u=-1,g=-1,c=-1,w=-1,d=!1,o=!1,v=function(D,N){for(var k=1;C+k<i.length&&i.charAt(C+k)===D;)k++;return C+=k-1,Math.floor(k/(N||1))>1},M=function(D,N){var k=v(D,N),z=[2,3,k?4:2,k?4:2,10,11,20]["oyYJ@!".indexOf(D)+1],B=new RegExp("^-?\\d{1,"+z+"}"),O=P.substring(n).match(B);if(!O)throw(y.local.missingNumberAt||y.regionalOptions[""].missingNumberAt).replace(/\{0\}/,n);return n+=O[0].length,parseInt(O[0],10)},b=this,E=function(){if("function"==typeof s){v("m");var D=s.call(b,P.substring(n));return n+=D.length,D}return M("m")},x=function(D,N,k,z){for(var B=v(D,z)?k:N,O=0;O<B.length;O++)if(P.substr(n,B[O].length).toLowerCase()===B[O].toLowerCase())return n+=B[O].length,O+b.minMonth;throw(y.local.unknownNameAt||y.regionalOptions[""].unknownNameAt).replace(/\{0\}/,n)},S=function(){if("function"==typeof h){var D=v("M")?h.call(b,P.substring(n)):a.call(b,P.substring(n));return n+=D.length,D}return x("M",a,h)},T=function(){if(P.charAt(n)!==i.charAt(C))throw(y.local.unexpectedLiteralAt||y.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,n);n++},n=0,C=0;C<i.length;C++)if(o)"'"!==i.charAt(C)||v("'")?T():o=!1;else switch(i.charAt(C)){case"d":c=M("d");break;case"D":x("D",m,r);break;case"o":w=M("o");break;case"w":M("w");break;case"m":g=E();break;case"M":g=S();break;case"y":var p=C;d=!v("y",2),C=p,u=M("y",2);break;case"Y":u=M("Y",2);break;case"J":f=M("J")+.5,"."===P.charAt(n)&&(n++,M("J"));break;case"@":f=M("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=M("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":n=P.length;break;case"'":v("'")?T():o=!0;break;default:T()}if(n<P.length)throw y.local.unexpectedText||y.regionalOptions[""].unexpectedText;if(-1===u?u=this.today().year():u<100&&d&&(u+=-1===l?1900:this.today().year()-this.today().year()%100-(u<=l?0:100)),"string"==typeof g&&(g=e.call(this,u,g)),w>-1){c=w;for(var F=this.daysInMonth(u,g=1);c>F;F=this.daysInMonth(u,g))g++,c-=F}return f>-1?this.fromJD(f):this.newDate(u,g,c)},determineDate:function(i,P,L,l,m){L&&"object"!=typeof L&&(m=l,l=L,L=null),"string"!=typeof l&&(m=l,l="");var r=this;return P=P?P.newDate():null,null==i?P:"string"==typeof i?function(s){try{return r.parseDate(l,s,m)}catch(u){}for(var a=((s=s.toLowerCase()).match(/^c/)&&L?L.newDate():null)||r.today(),h=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=h.exec(s);f;)a.add(parseInt(f[1],10),f[2]||"d"),f=h.exec(s);return a}(i):"number"==typeof i?isNaN(i)||i===1/0||i===-1/0?P:r.today().add(i,"d"):r.newDate(i)}})},21576:function(){},19768:function(){},63436:function(tt,W,t){"use strict";var A=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],y="undefined"==typeof globalThis?t.g:globalThis;tt.exports=function(){for(var P=[],L=0;L<A.length;L++)"function"==typeof y[A[L]]&&(P[P.length]=A[L]);return P}},67756:function(tt,W,t){"use strict";function A(It,Rt,$t){It.prototype=Rt.prototype=$t,$t.constructor=It}function y(It,Rt){var $t=Object.create(It.prototype);for(var oe in Rt)$t[oe]=Rt[oe];return $t}function i(){}t.d(W,{qy:function(){return le},Gz:function(){return yt}});var P=.7,L=1/P,l="\\s*([+-]?\\d+)\\s*",m="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e=/^#([0-9a-f]{3,8})$/,s=new RegExp("^rgb\\(".concat(l,",").concat(l,",").concat(l,"\\)$")),a=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),h=new RegExp("^rgba\\(".concat(l,",").concat(l,",").concat(l,",").concat(m,"\\)$")),f=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(m,"\\)$")),u=new RegExp("^hsl\\(".concat(m,",").concat(r,",").concat(r,"\\)$")),g=new RegExp("^hsla\\(".concat(m,",").concat(r,",").concat(r,",").concat(m,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function w(){return this.rgb().formatHex()}function v(){return this.rgb().formatRgb()}function M(It){var Rt,$t;return It=(It+"").trim().toLowerCase(),(Rt=e.exec(It))?($t=Rt[1].length,Rt=parseInt(Rt[1],16),6===$t?b(Rt):3===$t?new T(Rt>>8&15|Rt>>4&240,Rt>>4&15|240&Rt,(15&Rt)<<4|15&Rt,1):8===$t?E(Rt>>24&255,Rt>>16&255,Rt>>8&255,(255&Rt)/255):4===$t?E(Rt>>12&15|Rt>>8&240,Rt>>8&15|Rt>>4&240,Rt>>4&15|240&Rt,((15&Rt)<<4|15&Rt)/255):null):(Rt=s.exec(It))?new T(Rt[1],Rt[2],Rt[3],1):(Rt=a.exec(It))?new T(255*Rt[1]/100,255*Rt[2]/100,255*Rt[3]/100,1):(Rt=h.exec(It))?E(Rt[1],Rt[2],Rt[3],Rt[4]):(Rt=f.exec(It))?E(255*Rt[1]/100,255*Rt[2]/100,255*Rt[3]/100,Rt[4]):(Rt=u.exec(It))?k(Rt[1],Rt[2]/100,Rt[3]/100,1):(Rt=g.exec(It))?k(Rt[1],Rt[2]/100,Rt[3]/100,Rt[4]):c.hasOwnProperty(It)?b(c[It]):"transparent"===It?new T(NaN,NaN,NaN,0):null}function b(It){return new T(It>>16&255,It>>8&255,255&It,1)}function E(It,Rt,$t,oe){return oe<=0&&(It=Rt=$t=NaN),new T(It,Rt,$t,oe)}function x(It){return It instanceof i||(It=M(It)),It?new T((It=It.rgb()).r,It.g,It.b,It.opacity):new T}function S(It,Rt,$t,oe){return 1===arguments.length?x(It):new T(It,Rt,$t,null==oe?1:oe)}function T(It,Rt,$t,oe){this.r=+It,this.g=+Rt,this.b=+$t,this.opacity=+oe}function n(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b))}function p(){var It=F(this.opacity);return"".concat(1===It?"rgb(":"rgba(").concat(D(this.r),", ").concat(D(this.g),", ").concat(D(this.b)).concat(1===It?")":", ".concat(It,")"))}function F(It){return isNaN(It)?1:Math.max(0,Math.min(1,It))}function D(It){return Math.max(0,Math.min(255,Math.round(It)||0))}function N(It){return((It=D(It))<16?"0":"")+It.toString(16)}function k(It,Rt,$t,oe){return oe<=0?It=Rt=$t=NaN:$t<=0||$t>=1?It=Rt=NaN:Rt<=0&&(It=NaN),new O(It,Rt,$t,oe)}function z(It){if(It instanceof O)return new O(It.h,It.s,It.l,It.opacity);if(It instanceof i||(It=M(It)),!It)return new O;if(It instanceof O)return It;var Rt=(It=It.rgb()).r/255,$t=It.g/255,oe=It.b/255,se=Math.min(Rt,$t,oe),ve=Math.max(Rt,$t,oe),de=NaN,jt=ve-se,Ct=(ve+se)/2;return jt?(de=Rt===ve?($t-oe)/jt+6*($t<oe):$t===ve?(oe-Rt)/jt+2:(Rt-$t)/jt+4,jt/=Ct<.5?ve+se:2-ve-se,de*=60):jt=Ct>0&&Ct<1?0:de,new O(de,jt,Ct,It.opacity)}function O(It,Rt,$t,oe){this.h=+It,this.s=+Rt,this.l=+$t,this.opacity=+oe}function U(It){return(It=(It||0)%360)<0?It+360:It}function G(It){return Math.max(0,Math.min(1,It||0))}function J(It,Rt,$t){return 255*(It<60?Rt+($t-Rt)*It/60:It<180?$t:It<240?Rt+($t-Rt)*(240-It)/60:Rt)}function et(It,Rt,$t,oe,se){var ve=It*It,de=ve*It;return((1-3*It+3*ve-de)*Rt+(4-6*ve+3*de)*$t+(1+3*It+3*ve-3*de)*oe+de*se)/6}A(i,M,{copy:function(Rt){return Object.assign(new this.constructor,this,Rt)},displayable:function(){return this.rgb().displayable()},hex:w,formatHex:w,formatHex8:function d(){return this.rgb().formatHex8()},formatHsl:function o(){return z(this).formatHsl()},formatRgb:v,toString:v}),A(T,S,y(i,{brighter:function(Rt){return Rt=null==Rt?L:Math.pow(L,Rt),new T(this.r*Rt,this.g*Rt,this.b*Rt,this.opacity)},darker:function(Rt){return Rt=null==Rt?P:Math.pow(P,Rt),new T(this.r*Rt,this.g*Rt,this.b*Rt,this.opacity)},rgb:function(){return this},clamp:function(){return new T(D(this.r),D(this.g),D(this.b),F(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:n,formatHex:n,formatHex8:function C(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b)).concat(N(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:p,toString:p})),A(O,function B(It,Rt,$t,oe){return 1===arguments.length?z(It):new O(It,Rt,$t,null==oe?1:oe)},y(i,{brighter:function(Rt){return Rt=null==Rt?L:Math.pow(L,Rt),new O(this.h,this.s,this.l*Rt,this.opacity)},darker:function(Rt){return Rt=null==Rt?P:Math.pow(P,Rt),new O(this.h,this.s,this.l*Rt,this.opacity)},rgb:function(){var Rt=this.h%360+360*(this.h<0),$t=isNaN(Rt)||isNaN(this.s)?0:this.s,oe=this.l,se=oe+(oe<.5?oe:1-oe)*$t,ve=2*oe-se;return new T(J(Rt>=240?Rt-240:Rt+120,ve,se),J(Rt,ve,se),J(Rt<120?Rt+240:Rt-120,ve,se),this.opacity)},clamp:function(){return new O(U(this.h),G(this.s),G(this.l),F(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Rt=F(this.opacity);return"".concat(1===Rt?"hsl(":"hsla(").concat(U(this.h),", ").concat(100*G(this.s),"%, ").concat(100*G(this.l),"%").concat(1===Rt?")":", ".concat(Rt,")"))}}));var K=function(It){return function(){return It}};function Z(It){return 1==(It=+It)?it:function(Rt,$t){return $t-Rt?function rt(It,Rt,$t){return It=Math.pow(It,$t),Rt=Math.pow(Rt,$t)-It,$t=1/$t,function(oe){return Math.pow(It+oe*Rt,$t)}}(Rt,$t,It):K(isNaN(Rt)?$t:Rt)}}function it(It,Rt){var $t=Rt-It;return $t?function j(It,Rt){return function($t){return It+$t*Rt}}(It,$t):K(isNaN(It)?Rt:It)}var Q=function It(Rt){var $t=Z(Rt);function oe(se,ve){var de=$t((se=S(se)).r,(ve=S(ve)).r),jt=$t(se.g,ve.g),Ct=$t(se.b,ve.b),Wt=it(se.opacity,ve.opacity);return function(Xt){return se.r=de(Xt),se.g=jt(Xt),se.b=Ct(Xt),se.opacity=Wt(Xt),se+""}}return oe.gamma=It,oe}(1);function Y(It){return function(Rt){var de,jt,$t=Rt.length,oe=new Array($t),se=new Array($t),ve=new Array($t);for(de=0;de<$t;++de)jt=S(Rt[de]),oe[de]=jt.r||0,se[de]=jt.g||0,ve[de]=jt.b||0;return oe=It(oe),se=It(se),ve=It(ve),jt.opacity=1,function(Ct){return jt.r=oe(Ct),jt.g=se(Ct),jt.b=ve(Ct),jt+""}}}function dt(It,Rt){var de,$t=Rt?Rt.length:0,oe=It?Math.min($t,It.length):0,se=new Array(oe),ve=new Array($t);for(de=0;de<oe;++de)se[de]=le(It[de],Rt[de]);for(;de<$t;++de)ve[de]=Rt[de];return function(jt){for(de=0;de<oe;++de)ve[de]=se[de](jt);return ve}}function xt(It,Rt){var $t=new Date;return It=+It,Rt=+Rt,function(oe){return $t.setTime(It*(1-oe)+Rt*oe),$t}}function yt(It,Rt){return It=+It,Rt=+Rt,function($t){return It*(1-$t)+Rt*$t}}function St(It){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Rt){return typeof Rt}:function(Rt){return Rt&&"function"==typeof Symbol&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt})(It)}function Et(It,Rt){var se,$t={},oe={};for(se in(null===It||"object"!==St(It))&&(It={}),(null===Rt||"object"!==St(Rt))&&(Rt={}),Rt)se in It?$t[se]=le(It[se],Rt[se]):oe[se]=Rt[se];return function(ve){for(se in $t)oe[se]=$t[se](ve);return oe}}Y(function at(It){var Rt=It.length-1;return function($t){var oe=$t<=0?$t=0:$t>=1?($t=1,Rt-1):Math.floor($t*Rt),se=It[oe],ve=It[oe+1];return et(($t-oe/Rt)*Rt,oe>0?It[oe-1]:2*se-ve,se,ve,oe<Rt-1?It[oe+2]:2*ve-se)}}),Y(function lt(It){var Rt=It.length;return function($t){var oe=Math.floor((($t%=1)<0?++$t:$t)*Rt);return et(($t-oe/Rt)*Rt,It[(oe+Rt-1)%Rt],It[oe%Rt],It[(oe+1)%Rt],It[(oe+2)%Rt])}});var Tt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gt=new RegExp(Tt.source,"g");function Gt(It,Rt){var oe,se,ve,$t=Tt.lastIndex=gt.lastIndex=0,de=-1,jt=[],Ct=[];for(It+="",Rt+="";(oe=Tt.exec(It))&&(se=gt.exec(Rt));)(ve=se.index)>$t&&(ve=Rt.slice($t,ve),jt[de]?jt[de]+=ve:jt[++de]=ve),(oe=oe[0])===(se=se[0])?jt[de]?jt[de]+=se:jt[++de]=se:(jt[++de]=null,Ct.push({i:de,x:yt(oe,se)})),$t=gt.lastIndex;return $t<Rt.length&&(ve=Rt.slice($t),jt[de]?jt[de]+=ve:jt[++de]=ve),jt.length<2?Ct[0]?function Nt(It){return function(Rt){return It(Rt)+""}}(Ct[0].x):function Mt(It){return function(){return It}}(Rt):(Rt=Ct.length,function(Wt){for(var Ht,Xt=0;Xt<Rt;++Xt)jt[(Ht=Ct[Xt]).i]=Ht.x(Wt);return jt.join("")})}function Pt(It,Rt){Rt||(Rt=[]);var se,$t=It?Math.min(Rt.length,It.length):0,oe=Rt.slice();return function(ve){for(se=0;se<$t;++se)oe[se]=It[se]*(1-ve)+Rt[se]*ve;return oe}}function re(It){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Rt){return typeof Rt}:function(Rt){return Rt&&"function"==typeof Symbol&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt})(It)}function le(It,Rt){var oe,$t=re(Rt);return null==Rt||"boolean"===$t?K(Rt):("number"===$t?yt:"string"===$t?(oe=M(Rt))?(Rt=oe,Q):Gt:Rt instanceof M?Q:Rt instanceof Date?xt:function Vt(It){return ArrayBuffer.isView(It)&&!(It instanceof DataView)}(Rt)?Pt:Array.isArray(Rt)?dt:"function"!=typeof Rt.valueOf&&"function"!=typeof Rt.toString||isNaN(Rt)?Et:yt)(It,Rt)}},30584:function(tt){"use strict";tt.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(tt){"use strict";tt.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(tt){"use strict";tt.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(tt){"use strict";tt.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(tt){"use strict";tt.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(tt){"use strict";tt.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Ma={};function Oa(tt){var W=Ma[tt];if(void 0!==W)return W.exports;var t=Ma[tt]={exports:{}};return bs[tt].call(t.exports,t,t.exports,Oa),t.exports}return Oa.n=function(tt){var W=tt&&tt.__esModule?function(){return tt.default}:function(){return tt};return Oa.d(W,{a:W}),W},Oa.d=function(tt,W){for(var t in W)Oa.o(W,t)&&!Oa.o(tt,t)&&Object.defineProperty(tt,t,{enumerable:!0,get:W[t]})},Oa.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(tt){if("object"==typeof window)return window}}(),Oa.o=function(tt,W){return Object.prototype.hasOwnProperty.call(tt,W)},Oa.r=function(tt){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(tt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(tt,"__esModule",{value:!0})},Oa(13792)}()}}]);