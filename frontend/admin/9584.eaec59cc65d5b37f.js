"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[9584],{29584:(B,P,o)=>{o.r(P),o.d(P,{SiteMapModule:()=>ue});var i=o(69808),M=o(99291),L=o(9819),e=o(5e3),f=o(93075),w=o(10518),p=o(3261),d=o(85775),r=o(34674);const l=a=>a.Generatesitemap,v=(0,d.P1)(l,r.U6),z=(0,d.P1)(l,r.DK),G=(0,d.P1)(l,r.o_),N=(0,d.P1)(l,r.vs),_=(0,d.P1)(l,r.qd),U=(0,d.P1)(l,r.l1),k=(0,d.P1)(l,r.xm),K=(0,d.P1)(l,r.JS),R=(0,d.P1)(l,r.sy),W=(0,d.P1)(l,r.mN),Q=(0,d.P1)(l,r.EW),V=(0,d.P1)(l,r.tu),X=(0,d.P1)(l,r.Hr),Z=(0,d.P1)(l,r.lp),J=(0,d.P1)(l,r.ds),H=(0,d.P1)(l,r.hD),Y=(0,d.P1)(l,r.v8),q=(0,d.P1)(l,r.gW),ee=(0,d.P1)(l,r.ad),te=(0,d.P1)(l,r.$g);var $=o(47319);let O=(()=>{class a{constructor(t,s){this.appState=t,this.router=s,this.Generatesitemap$=this.appState.select(v),this.GeneratesitemapLoading$=this.appState.select(z),this.GeneratesitemapLoaded$=this.appState.select(G),this.GeneratesitemapFailed$=this.appState.select(N),this.DeleteSiteMap$=this.appState.select(R),this.DeleteSiteMapLoading$=this.appState.select(W),this.DeleteSiteMapLoaded$=this.appState.select(Q),this.DeleteSiteMapFailed$=this.appState.select(V),this.ListSiteMap$=this.appState.select(_),this.ListSiteMapLoading$=this.appState.select(U),this.ListSiteMapLoaded$=this.appState.select(k),this.ListSiteMapFailed$=this.appState.select(K),this.downloadSiteMap$=this.appState.select(X),this.downloadSiteMapLoading$=this.appState.select(Z),this.downloadSiteMapLoaded$=this.appState.select(J),this.downloadSiteMapFailed$=this.appState.select(H),this.sitemapCount$=this.appState.select(Y),this.sitemapCountLoading$=this.appState.select(q),this.sitemapCountLoaded$=this.appState.select(ee),this.sitemapCountFailed$=this.appState.select(te),this.subscriptions=[]}GenerateSitemaplist(){this.appState.dispatch(new p.IL)}DeleteSiteMap(t){this.appState.dispatch(new p.RX(t))}ListSiteMap(t){this.appState.dispatch(new p.lz(t))}downloadSiteMap(t){this.appState.dispatch(new p.d7(t))}sitemapCount(t){this.appState.dispatch(new p.Fi(t))}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275inject($.yh),e.\u0275\u0275inject(M.F0))},a.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})();var ae=o(33052),ie=o(86087),I=o(84218);function ne(a,c){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",22),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td",23),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td",24)(7,"span",25),e.\u0275\u0275listener("click",function(){const n=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().downloadData(n)}),e.\u0275\u0275element(8,"img",26),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"span",25),e.\u0275\u0275listener("click",function(){const n=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().deleteData(n)}),e.\u0275\u0275element(10,"img",27),e.\u0275\u0275elementEnd()()()}if(2&a){const t=c.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.fileName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(5,2,t.createdDate,"dd/MM/yyyy ,hh:mm:a"))}}function oe(a,c){1&a&&(e.\u0275\u0275elementStart(0,"div",28)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"Settings.data.DataNotFound")))}const se=function(a){return[a]},le=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class a{constructor(t,s,m,n,h,b){this.router=t,this.route=s,this.fb=m,this.datepipe=n,this.modalService=h,this.sitemapsandbox=b,this.filterEnable=!0,this.buttoncheck=!1,this.buttonActive=!1,this.sellerArray=[{userName:"Damon",date:"13/05/2023"},{userName:"Stefan",date:"15/03/2023"},{userName:"Klaus Mikelson",date:"12/03/2023"},{userName:"Elijah Mikelson",date:"11/03/2023"}],this.filterData=[],this.filterDataId=[],this.bulkFunction=!1,this.pageSize=20,this.index=0,this.offset=0,this.keyword="",this.queryData={},this.isRequired=!1,this.subscriptions=[],this.submitted=!1,this.currentPage=1}ngOnInit(){this.pageSize=sessionStorage.getItem("itemsPerPage")?sessionStorage.getItem("itemsPerPage"):this.pageSize,this.siteMapList(),this.paginations()}siteMapList(){const t={};t.offset=this.offset,t.limit=this.pageSize,t.keyword=this.keyword,this.sitemapsandbox.ListSiteMap(t),this.paginations()}sitemap(){this.sitemapsandbox.GenerateSitemaplist(),this.subscriptions.push(this.sitemapsandbox.Generatesitemap$.subscribe(t=>{t&&this.siteMapList()}))}downloadData(t){const s={};s.pathName=t.pathName+t.fileName,this.sitemapsandbox.downloadSiteMap(s)}deleteData(t){const s=this.modalService.open(L.j,{size:"sm",windowClass:"delete-confirm",backdrop:"static",backdropClass:"createcr"});s.componentInstance.key="",s.componentInstance.id="",s.result.then(m=>{"deleted"===m&&this.sitemapsandbox.DeleteSiteMap({id:t.id})}),this.subscriptions.push(this.sitemapsandbox.DeleteSiteMap$.subscribe(m=>{m&&this.siteMapList()}))}paginations(){const t={};t.offset=this.offset,t.limit=this.pageSize,t.keyword=this.keyword,t.count=!0,this.sitemapsandbox.sitemapCount(t)}onPageChange(t){this.isCount=!1,this.pageSize=t.pageSize,this.index=t.pageIndex,this.offset=t.pageSize*t.pageIndex,this.filterDataId=[],this.selectedAll=!1,this.siteMapList()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(M.F0),e.\u0275\u0275directiveInject(M.gz),e.\u0275\u0275directiveInject(f.FormBuilder),e.\u0275\u0275directiveInject(i.DatePipe),e.\u0275\u0275directiveInject(w.FF),e.\u0275\u0275directiveInject(O))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-site-map"]],features:[e.\u0275\u0275ProvidersFeature([i.DatePipe])],decls:35,vars:21,consts:[[1,"setup-wrapper","set-loc-wrapper"],[1,"setup-container","localization-container"],[1,"card","ap-general","ap-info"],[1,"flex","ap-body"],[1,"form-group"],[1,"button-reg","primary",2,"margin-top","25px","margin-left","15px",3,"click"],[1,"settings-right-wrapper"],[1,"localize-header","flex"],[1,"loc-hdr-lft"],[1,"setup-right"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(58%, 18%)","position","absolute",3,"isShow"],[1,"product-table"],[1,"table-responsive"],[1,"table"],["scope","col","placement","left","title","The User name of the User that performed a particular action."],["scope","col","placement","left",2,"text-align","left"],["scope","col","placement","left","title","A description of the action performed."],[4,"ngFor","ngForOf"],["class","no_data",4,"ngIf"],[3,"length","pageSize","pageIndex","pageSizeOptions","page"],["pagination",""],[1,"name",2,"text-align","left"],[2,"text-align","left"],[2,"cursor","pointer"],[3,"click"],["src","assets/img/download-dark.svg","height","17px",2,"margin-right","15px"],["src","assets/img/delete-new.png","height","17px"],[1,"no_data"]],template:function(t,s){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"form")(4,"div",3)(5,"div",4)(6,"button",5),e.\u0275\u0275listener("click",function(){return s.sitemap()}),e.\u0275\u0275text(7," Generate SiteMap "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",6)(9,"div",7),e.\u0275\u0275element(10,"div",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",9)(12,"div",10),e.\u0275\u0275element(13,"app-global-loader",11),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",12)(16,"div",13)(17,"table",14)(18,"thead")(19,"tr")(20,"th",15),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"th",16),e.\u0275\u0275text(24," Last Created Date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"th",17),e.\u0275\u0275text(26," Action"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(27,"tbody"),e.\u0275\u0275template(28,ne,11,5,"tr",18),e.\u0275\u0275pipe(29,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(30,oe,4,3,"div",19),e.\u0275\u0275pipe(31,"async"),e.\u0275\u0275elementStart(32,"mat-paginator",20,21),e.\u0275\u0275listener("page",function(n){return s.onPageChange(n)}),e.\u0275\u0275pipe(34,"async"),e.\u0275\u0275elementEnd()()()()()()()()()()),2&t){let m;e.\u0275\u0275advance(13),e.\u0275\u0275property("isShow",e.\u0275\u0275pipeBind1(14,9,s.sitemapsandbox.ListSiteMapLoading$)),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(22,11,"Settings.data.FileName")," "),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(29,13,s.sitemapsandbox.ListSiteMap$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0==(null==(m=e.\u0275\u0275pipeBind1(31,15,s.sitemapsandbox.ListSiteMap$))?null:m.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("length",e.\u0275\u0275pipeBind1(34,17,s.sitemapsandbox.sitemapCount$))("pageSize",s.pageSize)("pageIndex",s.index)("pageSize",s.pageSize)("pageSizeOptions",e.\u0275\u0275pureFunction1(19,se,s.pageSize))}},directives:[f.\u0275NgNoValidate,f.NgControlStatusGroup,f.NgForm,ae.A,i.NgForOf,i.NgIf,ie.NW],pipes:[i.AsyncPipe,I.X$,i.DatePipe],styles:[".setup-wrapper[_ngcontent-%COMP%]{margin-top:-20px;padding:0 20px 20px}btn-center[_ngcontent-%COMP%]{justify-content:center;display:flex;align-items:center}.generate-site-map[_ngcontent-%COMP%]{margin:10% auto 0%;display:block;background:blue;color:#fff;border:none;padding:16px;font-weight:500}.generate-site-map-content[_ngcontent-%COMP%]{margin:10% auto 0%;display:block;color:#fff;border:none;padding:16px;font-weight:500}"]}),a})(),canActivate:[o(8300).a],data:{permission:"list-product",urls:[{title:"CMS",url:""},{title:"Manage SEO",url:""},{title:"Site Map",url:""},{title:"list",url:""}]}}];let de=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[[M.Bz.forChild(le)],M.Bz]}),a})();var ce=o(16917),me=o(12476),u=o(36642),C=o(97582),y=o(39646),x=o(54004),S=o(63900),j=o(18505),D=o(70262),he=o(9900);let A=(()=>{class a extends he.V{constructor(){super(...arguments),this.url=this.getBaseUrl()}getGenerateSiteMap(){return this.http.post(this.url+"/site-map",{})}listSitemap(t){return this.http.get(this.url+"/site-map",{params:t})}deleteSitemap(t){return this.http.delete(this.url+"/site-map/"+t.id)}downloadSiteMap(t){return this.http.get(this.url+"/site-map/get-sitemap",{params:t})}listSitemapCount(t){return this.http.get(this.url+"/site-map",{params:t})}}return a.\u0275fac=function(){let c;return function(s){return(c||(c=e.\u0275\u0275getInheritedFactory(a)))(s||a)}}(),a.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})();class g{constructor(c,t,s,m){this.action$=c,this.appState$=t,this.service=s,this.translate=m,this.doGeneratesitemap$=this.action$.pipe((0,u.l4)(p.MF.DO_GENERATE_SITE_MAP),(0,x.U)(n=>n),(0,S.w)(()=>this.service.getGenerateSiteMap().pipe((0,j.b)(n=>{}),(0,S.w)(n=>[new p.Fz(n)]),(0,D.K)(n=>(0,y.of)(new p.r_))))),this.listSiteMap$=this.action$.pipe((0,u.l4)(p.MF.LIST_SITE_MAP),(0,x.U)(n=>n.payload),(0,S.w)(n=>this.service.listSitemap(n).pipe((0,S.w)(h=>[new p.PK(h)]),(0,D.K)(h=>(0,y.of)(new p.Q3(h)))))),this.deleteSitemap$=this.action$.pipe((0,u.l4)(p.MF.DELETE_SITE_MAP),(0,x.U)(n=>n.payload),(0,S.w)(n=>this.service.deleteSitemap(n).pipe((0,S.w)(h=>[new p.rW(h)]),(0,D.K)(h=>(0,y.of)(new p.Ep))))),this.downloadSitemap$=this.action$.pipe((0,u.l4)(p.MF.DOWNLOAD_SITEMAP),(0,x.U)(n=>n.payload),(0,S.w)(n=>this.service.downloadSiteMap(n).pipe((0,j.b)(h=>{this.downloadPdfFile(h.data)}),(0,S.w)(h=>[new p.qu(h)]),(0,D.K)(h=>(0,y.of)(new p.ZE))))),this.siteMapListCount$=this.action$.pipe((0,u.l4)(p.MF.SITE_MAP_COUNT),(0,x.U)(n=>n.payload),(0,S.w)(n=>this.service.listSitemapCount(n).pipe((0,S.w)(h=>[new p.Eo(h)]),(0,D.K)(h=>(0,y.of)(new p.oI)))))}downloadPdfFile(c){new Date;const t=this.convertBase64PDFToBlobData(c);if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,__filename);else{const s=new Blob([t],{type:"application/pdf"}),m=window.URL.createObjectURL(s),n=document.createElement("a");n.href=m,n.download=__filename,n.click()}}convertBase64PDFToBlobData(c,t="application/pdf",s=512){const m=atob(c.replace(/^data:([A-Za-z-+\/]+);base64,/,"")),n=[];for(let b=0;b<m.length;b+=s){const F=m.slice(b,b+s),T=new Array(F.length);for(let E=0;E<F.length;E++)T[E]=F.charCodeAt(E);const ge=new Uint8Array(T);n.push(ge)}return new Blob(n,{type:t})}}g.\u0275fac=function(c){return new(c||g)(e.\u0275\u0275inject(u.eX),e.\u0275\u0275inject($.yh),e.\u0275\u0275inject(A),e.\u0275\u0275inject(I.sK))},g.\u0275prov=e.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac}),(0,C.gn)([(0,u.Qm)()],g.prototype,"doGeneratesitemap$",void 0),(0,C.gn)([(0,u.Qm)()],g.prototype,"listSiteMap$",void 0),(0,C.gn)([(0,u.Qm)()],g.prototype,"deleteSitemap$",void 0),(0,C.gn)([(0,u.Qm)()],g.prototype,"downloadSitemap$",void 0),(0,C.gn)([(0,u.Qm)()],g.prototype,"siteMapListCount$",void 0);let ue=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({providers:[O,A],imports:[[i.CommonModule,de,f.FormsModule,f.ReactiveFormsModule,w.IJ,ce.q,me.K,u.sQ.forFeature([g]),I.aw.forChild()]]}),a})()},9819:(B,P,o)=>{o.d(P,{j:()=>w});var i=o(5e3),M=o(10518),L=o(85699),e=o(8110),f=o(84218);let w=(()=>{class p{constructor(r,l,v){this.activeModal=r,this.sellerSandbox=l,this.productSandbox=v}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key?(this.sellerSandbox.deleteSeller({vendorId:this.id}),this.sellerSandbox.deleteLoaded$.subscribe(r=>{!0===r&&this.activeModal.close("deleted")})):"product"===this.key?(this.productSandbox.doProductDelete({productId:this.id}),this.productSandbox.productDeleteLoaded$.subscribe(r=>{!0===r&&this.activeModal.close("deleted")})):this.activeModal.close("deleted")}}return p.\u0275fac=function(r){return new(r||p)(i.\u0275\u0275directiveInject(M.Kz),i.\u0275\u0275directiveInject(L.A),i.\u0275\u0275directiveInject(e.Z))},p.\u0275cmp=i.\u0275\u0275defineComponent({type:p,selectors:[["app-delete-confirmation-dialog"]],decls:15,vars:9,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true",2,"background-color","white"],["src","assets/img/info-triangle.svg"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(r,l){1&r&&(i.\u0275\u0275elementStart(0,"div",0)(1,"button",1),i.\u0275\u0275listener("click",function(){return l.close()}),i.\u0275\u0275elementStart(2,"span",2),i.\u0275\u0275text(3,"\xd7"),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(4,"h4"),i.\u0275\u0275element(5,"img",3),i.\u0275\u0275text(6),i.\u0275\u0275pipe(7,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(8,"div",4)(9,"button",5),i.\u0275\u0275listener("click",function(){return l.close()}),i.\u0275\u0275text(10),i.\u0275\u0275pipe(11,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(12,"button",6),i.\u0275\u0275listener("click",function(){return l.deleteContent()}),i.\u0275\u0275text(13),i.\u0275\u0275pipe(14,"translate"),i.\u0275\u0275elementEnd()()()),2&r&&(i.\u0275\u0275advance(6),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(7,3,"CommonFormAll.Doyouwanttodelete")," "),i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(11,5,"CommonFormAll.No")," "),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(14,7,"CommonFormAll.Yes"),""))},pipes:[f.X$],styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px;border:none}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}"]}),p})()}}]);