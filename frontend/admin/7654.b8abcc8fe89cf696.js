"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[7654],{87654:(oe,P,o)=>{o.r(P),o.d(P,{ChangePasswordModule:()=>re});var f=o(69808),E=o(10518),h=o(36642),I=o(97582),M=o(39646),W=o(54004),C=o(63900),g=o(79582),F=o(70262);class B{constructor(r){this.user={},this.user=r||""}}var e=o(5e3),N=o(9900);let S=(()=>{class t extends N.V{constructor(){super(...arguments),this.URL=this.getBaseUrl()}changePassword(a){return this.http.put(this.URL+"/auth/change-password",a)}}return t.\u0275fac=function(){let r;return function(n){return(r||(r=e.\u0275\u0275getInheritedFactory(t)))(n||t)}}(),t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();class l{constructor(r,a){this.action$=r,this.service=a,this.doChangePassword$=this.action$.pipe((0,h.l4)(g.MF.DO_CHANGE_PASWORD),(0,W.U)(n=>n.payload),(0,C.w)(n=>this.service.changePassword(n).pipe((0,C.w)(i=>[new g.Ip(new B(i))]),(0,F.K)(i=>(0,M.of)(new g.MS(i))))))}}l.\u0275fac=function(r){return new(r||l)(e.\u0275\u0275inject(h.eX),e.\u0275\u0275inject(S))},l.\u0275prov=e.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac}),(0,I.gn)([(0,h.Qm)()],l.prototype,"doChangePassword$",void 0);class T{constructor(r){this.oldPassword=r.oldpsw||"",this.newPassword=r.newpsw||""}}var c=o(85775),m=o(20029);const u=t=>t.changepassword,L=(0,c.P1)(u,m.pn),R=(0,c.P1)(u,m.wT),j=(0,c.P1)(u,m.PA),V=(0,c.P1)(u,m.y$),$=(0,c.P1)(u,m.uk);var O=o(47319),p=o(99291);let y=(()=>{class t{constructor(a,n){this.appState=a,this.router=n,this.getChangePassword$=this.appState.select(L),this.getChangePasswordResponse$=this.appState.select(R),this.getChangePasswordRequestLoading$=this.appState.select(j),this.getChangePasswordRequestLoade$=this.appState.select(V),this.getChangePasswordRequestFailed$=this.appState.select($),this.subscriptions=[],this.subscribe()}changePSW(a){this.appState.dispatch(new g.Pv(new T(a)))}subscribe(){this.subscriptions.push(this.getChangePassword$.subscribe(a=>{a&&a.user&&1===a.user.status&&this.router.navigate(["/dashboard"])}))}}return t.\u0275fac=function(a){return new(a||t)(e.\u0275\u0275inject(O.yh),e.\u0275\u0275inject(p.F0))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();var s=o(93075),v=o(93604),U=o(16731),D=o(66836),b=o(84218);function k(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"Profile.Error.OldPasswordisrequired")," "))}function A(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275template(1,k,3,3,"div",23),e.\u0275\u0275elementEnd()),2&t){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.f.oldPSW.errors.required)}}function z(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Settings.User.Error.Passwordisrequired")," "))}function G(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Settings.User.Error.Mustbeatleast8characters")," "))}function H(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Settings.User.Error.Musthaveatleast1numberorSymbol")," "))}function K(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Settings.User.Error.Mustcontainatleast1inCapitalCase")," "))}function Q(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Settings.User.Error.Mustcontainatleast1inSmallCase")," "))}function X(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"Profile.Error.ConfirmPassword")," "))}function J(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"Customers.Error.ConfirmpasswordIsMismatch")," "))}function Z(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275template(1,X,3,3,"div",23),e.\u0275\u0275template(2,J,3,3,"div",23),e.\u0275\u0275elementEnd()),2&t){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.f.confirmPSW.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.f.confirmPSW.errors.mismatchedPasswords)}}const Y=function(){return["/../../editprofile"]},_=function(){return["/../../change-password"]},w=function(t){return{"is-invalid":t}},q=function(){return["/dashboard"]},ee=[{path:"",component:(()=>{class t{constructor(a,n){this.fb=a,this.sandbox=n,this.submitted=!1}ngOnInit(){this.initChangePswForm()}initChangePswForm(){this.changePassword=this.fb.group({oldPSW:["",s.Validators.required],newPSW:["",s.Validators.compose([s.Validators.required,v.d.patternValidator(/((?=.*\d)|(?=.*[#$^+=!*()@%&]))/,{hasNumber:!0}),v.d.patternValidator(/[A-Z]/,{hasCapitalCase:!0}),v.d.patternValidator(/[a-z]/,{hasSmallCase:!0}),s.Validators.minLength(8)])],confirmPSW:["",s.Validators.required]},{validator:this.matchingPasswords("newPSW","confirmPSW")})}matchingPasswords(a,n){return i=>{const x=i.controls[n];if(i.controls[a].value!==x.value)return x.setErrors({mismatchedPasswords:!0})}}onSubmit(a){if(this.submitted=!0,this.changePassword.invalid)return;const n={};n.oldpsw=this.changePassword.value.oldPSW,n.newpsw=this.changePassword.value.newPSW,this.sandbox.changePSW(n)}get f(){return this.changePassword.controls}}return t.\u0275fac=function(a){return new(a||t)(e.\u0275\u0275directiveInject(s.FormBuilder),e.\u0275\u0275directiveInject(y))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-spurt-changepassword"]],decls:59,vars:47,consts:[[1,"setup-wrapper"],[1,"setup-container","localization-container","editprofile-container",2,"padding","16px"],[1,"setup-right"],[1,"flex","edit-profile-nav"],["href","javascript:void(0)",3,"routerLink"],["href","javascript:void(0)",1,"active",3,"routerLink"],[1,"set-lay-notes","flex"],[1,"flex","editprofilerow"],["novalidate","",1,"form-horizontal","epr-frm-pwd",3,"formGroup","ngSubmit"],[1,"epr-frm"],[1,"suprs-form"],[1,"suprs-form-row","form-group","flex"],["href","javascript:void(0)"],[1,"suprs-form-col",2,"position","relative"],["required","","minlength","8","type","password","formControlName","oldPSW","placeholder","Current Password","aria-label","Current Password","aria-describedby","basic-addon1","passwordshow","",1,"form-control",3,"ngModel","ngClass","ngModelChange","keydown.space"],["class","invalid-feedback",4,"ngIf"],[1,"suprs-form-row","form-group"],["required","","minlength","5","type","password","formControlName","newPSW","placeholder","New Password","aria-label","New Password","aria-describedby","basic-addon2","passwordshow","",1,"form-control",3,"ngModel","ngClass","ngModelChange","keydown.space"],["required","","minlength","5","type","password","formControlName","confirmPSW","placeholder","Confirm Password","aria-label","Confirm Password","aria-describedby","basic-addon2","passwordshow","",1,"form-control",3,"ngModel","ngClass","ngModelChange","keydown.space"],[1,"flex","srbtn"],[1,"button-reg","primary"],["routerLinkActive","router-link-active",1,"button-reg","secondary",3,"routerLink"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(a,n){1&a&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-breadcrumb"),e.\u0275\u0275text(2," product-Seo "),e.\u0275\u0275elementStart(3,"div",1)(4,"div",2)(5,"div",3)(6,"a",4),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"a",5),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",6)(13,"h4"),e.\u0275\u0275text(14,"Note :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"p"),e.\u0275\u0275text(16,"Here, the admin can change the password as per the password policies. It is recommended that the admin changes password time to time in order keep their panel secured, without giving any room for guessing by any third party."),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"form")(18,"div",7)(19,"form",8),e.\u0275\u0275listener("ngSubmit",function(){return n.onSubmit(n.changePassword.value)}),e.\u0275\u0275elementStart(20,"div",9)(21,"div",10)(22,"div",11)(23,"label"),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275element(26,"a",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"div",13)(28,"input",14),e.\u0275\u0275listener("ngModelChange",function(d){return n.oldPSW=d})("keydown.space",function(d){return d.preventDefault()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(29,A,2,1,"div",15),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(30,"div",10)(31,"div",16)(32,"label"),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"translate"),e.\u0275\u0275element(35,"a",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",13)(37,"input",17),e.\u0275\u0275listener("ngModelChange",function(d){return n.newPSW=d})("keydown.space",function(d){return d.preventDefault()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(38,z,3,3,"div",15),e.\u0275\u0275template(39,G,3,3,"div",15),e.\u0275\u0275template(40,H,3,3,"div",15),e.\u0275\u0275template(41,K,3,3,"div",15),e.\u0275\u0275template(42,Q,3,3,"div",15),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(43,"div",10)(44,"div",16)(45,"label"),e.\u0275\u0275text(46),e.\u0275\u0275pipe(47,"translate"),e.\u0275\u0275element(48,"a",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"div",13)(50,"input",18),e.\u0275\u0275listener("ngModelChange",function(d){return n.confirmPSW=d})("keydown.space",function(d){return d.preventDefault()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(51,Z,3,2,"div",15),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(52,"div",19)(53,"button",20),e.\u0275\u0275text(54),e.\u0275\u0275pipe(55,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"button",21),e.\u0275\u0275text(57),e.\u0275\u0275pipe(58,"translate"),e.\u0275\u0275elementEnd()()()()()()()()()),2&a&&(e.\u0275\u0275advance(6),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(38,Y)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,24,"Profile.user.Profile")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(39,_)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,26,"Profile.user.Password")," "),e.\u0275\u0275advance(9),e.\u0275\u0275property("formGroup",n.changePassword),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(25,28,"Profile.user.CurrentPassword")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",n.oldPSW)("ngClass",e.\u0275\u0275pureFunction1(40,w,n.submitted&&n.f.oldPSW.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.submitted&&n.f.oldPSW.errors),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(34,30,"Profile.user.NewPassword")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",n.newPSW)("ngClass",e.\u0275\u0275pureFunction1(42,w,n.submitted&&n.f.newPSW.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.submitted&&n.changePassword.controls.newPSW.hasError("required")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.changePassword.controls.newPSW.hasError("minlength")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.changePassword.controls.newPSW.hasError("hasNumber")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.changePassword.controls.newPSW.hasError("hasCapitalCase")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.changePassword.controls.newPSW.hasError("hasSmallCase")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(47,32,"Profile.user.ConfirmPassword")," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",n.confirmPSW)("ngClass",e.\u0275\u0275pureFunction1(44,w,n.submitted&&n.f.confirmPSW.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.submitted&&n.f.confirmPSW.errors),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(55,34,"Settings.Local.Save")),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(46,q)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(58,36,"Settings.Local.Country.Cancel")))},directives:[U.L,p.yS,s.\u0275NgNoValidate,s.NgControlStatusGroup,s.NgForm,s.FormGroupDirective,s.DefaultValueAccessor,s.RequiredValidator,s.MinLengthValidator,s.NgControlStatus,s.FormControlName,D.m,f.NgClass,f.NgIf,p.Od,p.rH],pipes:[b.X$],styles:[".auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   .changePswform[_ngcontent-%COMP%]   .float-left[_ngcontent-%COMP%]{line-height:2;font-weight:800;background:#1e313e;border-radius:30px;width:130px;margin-left:unset!important}[_nghost-%COMP%]     .fa, .fas[_ngcontent-%COMP%]{margin-top:-24px!important}"]}),t})(),data:{urls:[{title:"Settings",url:""},{title:"Change Password",url:""}]}}];let te=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[p.Bz.forChild(ee)],p.Bz]}),t})();var ne=o(12476),ae=o(1944);let re=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({providers:[y,S],imports:[[f.CommonModule,E.IJ,h.sQ.forFeature([l]),te,b.aw,s.ReactiveFormsModule,s.FormsModule,ne.K,ae._]]}),t})()}}]);