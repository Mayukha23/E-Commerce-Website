"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[7654],{87654:(oe,P,o)=>{o.r(P),o.d(P,{ChangePasswordModule:()=>re});var f=o(69808),x=o(10518),h=o(36642),E=o(97582),M=o(39646),W=o(54004),C=o(63900),g=o(79582),F=o(70262);class B{constructor(r){this.user={},this.user=r||""}}var e=o(5e3),N=o(9900);let S=(()=>{class t extends N.V{constructor(){super(...arguments),this.URL=this.getBaseUrl()}changePassword(a){return this.http.put(this.URL+"/auth/change-password",a)}}return t.\u0275fac=function(){let r;return function(n){return(r||(r=e.\u0275\u0275getInheritedFactory(t)))(n||t)}}(),t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();class p{constructor(r,a){this.action$=r,this.service=a,this.doChangePassword$=this.action$.pipe((0,h.l4)(g.MF.DO_CHANGE_PASWORD),(0,W.U)(n=>n.payload),(0,C.w)(n=>this.service.changePassword(n).pipe((0,C.w)(i=>[new g.Ip(new B(i))]),(0,F.K)(i=>(0,M.of)(new g.MS(i))))))}}p.\u0275fac=function(r){return new(r||p)(e.\u0275\u0275inject(h.eX),e.\u0275\u0275inject(S))},p.\u0275prov=e.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),(0,E.gn)([(0,h.Qm)()],p.prototype,"doChangePassword$",void 0);class T{constructor(r){this.oldPassword=r.oldpsw||"",this.newPassword=r.newpsw||""}}var c=o(85775),m=o(20029);const u=t=>t.changepassword,L=(0,c.P1)(u,m.pn),R=(0,c.P1)(u,m.wT),j=(0,c.P1)(u,m.PA),V=(0,c.P1)(u,m.y$),$=(0,c.P1)(u,m.uk);var O=o(47319),l=o(99291);let y=(()=>{class t{constructor(a,n){this.appState=a,this.router=n,this.getChangePassword$=this.appState.select(L),this.getChangePasswordResponse$=this.appState.select(R),this.getChangePasswordRequestLoading$=this.appState.select(j),this.getChangePasswordRequestLoade$=this.appState.select(V),this.getChangePasswordRequestFailed$=this.appState.select($),this.subscriptions=[],this.subscribe()}changePSW(a){this.appState.dispatch(new g.Pv(new T(a)))}subscribe(){this.subscriptions.push(this.getChangePassword$.subscribe(a=>{a&&a.user&&1===a.user.status&&this.router.navigate(["/dashboard"])}))}}return t.\u0275fac=function(a){return new(a||t)(e.\u0275\u0275inject(O.yh),e.\u0275\u0275inject(l.F0))},t.\u0275prov=e.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();var s=o(93075),v=o(93604),U=o(16731),D=o(66836),b=o(84218);function k(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"Profile.Error.OldPasswordisrequired")," "))}function A(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275template(1,k,3,3,"div",23),e.\u0275\u0275elementEnd()),2&t){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.f.oldPSW.errors.required)}}function z(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Settings.User.Error.Passwordisrequired")," "))}function G(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Settings.User.Error.Mustbeatleast8characters")," "))}function H(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Settings.User.Error.Musthaveatleast1numberorSymbol")," "))}function K(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Settings.User.Error.Mustcontainatleast1inCapitalCase")," "))}function Q(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Settings.User.Error.Mustcontainatleast1inSmallCase")," "))}function X(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"Profile.Error.ConfirmPassword")," "))}function J(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"Customers.Error.ConfirmpasswordIsMismatch")," "))}function Z(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275template(1,X,3,3,"div",23),e.\u0275\u0275template(2,J,3,3,"div",23),e.\u0275\u0275elementEnd()),2&t){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.f.confirmPSW.errors.required),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.f.confirmPSW.errors.mismatchedPasswords)}}const Y=function(){return["/../../editprofile"]},_=function(){return["/../../change-password"]},w=function(t){return{"is-invalid":t}},q=function(){return["/dashboard"]},ee=[{path:"",component:(()=>{class t{constructor(a,n){this.fb=a,this.sandbox=n,this.submitted=!1}ngOnInit(){this.initChangePswForm()}initChangePswForm(){this.changePassword=this.fb.group({oldPSW:["",s.Validators.required],newPSW:["",s.Validators.compose([s.Validators.required,v.d.patternValidator(/((?=.*\d)|(?=.*[#$^+=!*()@%&]))/,{hasNumber:!0}),v.d.patternValidator(/[A-Z]/,{hasCapitalCase:!0}),v.d.patternValidator(/[a-z]/,{hasSmallCase:!0}),s.Validators.minLength(8)])],confirmPSW:["",s.Validators.required]},{validator:this.matchingPasswords("newPSW","confirmPSW")})}matchingPasswords(a,n){return i=>{const I=i.controls[n];if(i.controls[a].value!==I.value)return I.setErrors({mismatchedPasswords:!0})}}onSubmit(a){if(this.submitted=!0,this.changePassword.invalid)return;const n={};n.oldpsw=this.changePassword.value.oldPSW,n.newpsw=this.changePassword.value.newPSW,this.sandbox.changePSW(n)}get f(){return this.changePassword.controls}}return t.\u0275fac=function(a){return new(a||t)(e.\u0275\u0275directiveInject(s.FormBuilder),e.\u0275\u0275directiveInject(y))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-spurt-changepassword"]],decls:63,vars:62,consts:[[1,"setup-wrapper"],[1,"setup-container","localization-container","editprofile-container",2,"padding","16px"],[1,"setup-right"],[1,"flex","edit-profile-nav"],["href","javascript:void(0)",3,"routerLink"],["href","javascript:void(0)",1,"active",3,"routerLink"],[1,"set-lay-notes","flex"],[1,"flex","editprofilerow"],["novalidate","",1,"form-horizontal","epr-frm-pwd",3,"formGroup","ngSubmit"],[1,"epr-frm"],[1,"suprs-form"],[1,"suprs-form-row","form-group","flex"],["href","javascript:void(0)"],[1,"suprs-form-col",2,"position","relative"],["required","","minlength","8","type","password","formControlName","oldPSW","aria-label","Current Password","aria-describedby","basic-addon1","passwordshow","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange","keydown.space"],["class","invalid-feedback",4,"ngIf"],[1,"suprs-form-row","form-group"],["required","","minlength","5","type","password","formControlName","newPSW","aria-label","New Password","aria-describedby","basic-addon2","passwordshow","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange","keydown.space"],["required","","minlength","5","type","password","formControlName","confirmPSW","aria-label","Confirm Password","aria-describedby","basic-addon2","passwordshow","",1,"form-control",3,"ngModel","ngClass","placeholder","ngModelChange","keydown.space"],[1,"flex","srbtn"],[1,"button-reg","primary"],["routerLinkActive","router-link-active",1,"button-reg","secondary",3,"routerLink"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(a,n){1&a&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-breadcrumb"),e.\u0275\u0275elementStart(2,"div",1)(3,"div",2)(4,"div",3)(5,"a",4),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"a",5),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",6)(12,"h4"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"p"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"form")(19,"div",7)(20,"form",8),e.\u0275\u0275listener("ngSubmit",function(){return n.onSubmit(n.changePassword.value)}),e.\u0275\u0275elementStart(21,"div",9)(22,"div",10)(23,"div",11)(24,"label"),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"translate"),e.\u0275\u0275element(27,"a",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",13)(29,"input",14),e.\u0275\u0275listener("ngModelChange",function(d){return n.oldPSW=d})("keydown.space",function(d){return d.preventDefault()}),e.\u0275\u0275pipe(30,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(31,A,2,1,"div",15),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(32,"div",10)(33,"div",16)(34,"label"),e.\u0275\u0275text(35),e.\u0275\u0275pipe(36,"translate"),e.\u0275\u0275element(37,"a",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"div",13)(39,"input",17),e.\u0275\u0275listener("ngModelChange",function(d){return n.newPSW=d})("keydown.space",function(d){return d.preventDefault()}),e.\u0275\u0275pipe(40,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(41,z,3,3,"div",15),e.\u0275\u0275template(42,G,3,3,"div",15),e.\u0275\u0275template(43,H,3,3,"div",15),e.\u0275\u0275template(44,K,3,3,"div",15),e.\u0275\u0275template(45,Q,3,3,"div",15),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(46,"div",10)(47,"div",16)(48,"label"),e.\u0275\u0275text(49),e.\u0275\u0275pipe(50,"translate"),e.\u0275\u0275element(51,"a",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"div",13)(53,"input",18),e.\u0275\u0275listener("ngModelChange",function(d){return n.confirmPSW=d})("keydown.space",function(d){return d.preventDefault()}),e.\u0275\u0275pipe(54,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(55,Z,3,2,"div",15),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(56,"div",19)(57,"button",20),e.\u0275\u0275text(58),e.\u0275\u0275pipe(59,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(60,"button",21),e.\u0275\u0275text(61),e.\u0275\u0275pipe(62,"translate"),e.\u0275\u0275elementEnd()()()()()()()()()),2&a&&(e.\u0275\u0275advance(5),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(53,Y)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,29,"Profile.user.Profile")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(54,_)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,31,"Profile.user.Password")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(14,33,"common.Note")," :"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,35,"common.Here, the admin can change the password as per the password policies. It is recommended that the admin changes password time to time in order keep their panel secured, without giving any room for guessing by any third party.")),e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",n.changePassword),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(26,37,"Profile.user.CurrentPassword")," "),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(30,39,"placeholder.Current Password")),e.\u0275\u0275property("ngModel",n.oldPSW)("ngClass",e.\u0275\u0275pureFunction1(55,w,n.submitted&&n.f.oldPSW.errors)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.submitted&&n.f.oldPSW.errors),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(36,41,"Profile.user.NewPassword")," "),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(40,43,"placeholder.New Password")),e.\u0275\u0275property("ngModel",n.newPSW)("ngClass",e.\u0275\u0275pureFunction1(57,w,n.submitted&&n.f.newPSW.errors)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.submitted&&n.changePassword.controls.newPSW.hasError("required")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.changePassword.controls.newPSW.hasError("minlength")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.changePassword.controls.newPSW.hasError("hasNumber")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.changePassword.controls.newPSW.hasError("hasCapitalCase")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.changePassword.controls.newPSW.hasError("hasSmallCase")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(50,45,"Profile.user.ConfirmPassword")," "),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(54,47,"placeholder.Confirm Password")),e.\u0275\u0275property("ngModel",n.confirmPSW)("ngClass",e.\u0275\u0275pureFunction1(59,w,n.submitted&&n.f.confirmPSW.errors)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.submitted&&n.f.confirmPSW.errors),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(59,49,"Settings.Local.Save")),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction0(61,q)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(62,51,"Settings.Local.Country.Cancel")))},directives:[U.L,l.yS,s.\u0275NgNoValidate,s.NgControlStatusGroup,s.NgForm,s.FormGroupDirective,s.DefaultValueAccessor,s.RequiredValidator,s.MinLengthValidator,s.NgControlStatus,s.FormControlName,D.m,f.NgClass,f.NgIf,l.Od,l.rH],pipes:[b.X$],styles:[".auth-wrapper[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]   .changePswform[_ngcontent-%COMP%]   .float-left[_ngcontent-%COMP%]{line-height:2;font-weight:800;background:#1e313e;border-radius:30px;width:130px;margin-left:unset!important}[_nghost-%COMP%]     .fa, .fas[_ngcontent-%COMP%]{margin-top:-18px!important}"]}),t})(),data:{urls:[{title:"breadcrumbs.Settings",url:""},{title:"breadcrumbs.Change Password",url:""}]}}];let te=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[l.Bz.forChild(ee)],l.Bz]}),t})();var ne=o(12476),ae=o(1944);let re=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({providers:[y,S],imports:[[f.CommonModule,x.IJ,h.sQ.forFeature([p]),te,b.aw,s.ReactiveFormsModule,s.FormsModule,ne.K,ae._]]}),t})()}}]);