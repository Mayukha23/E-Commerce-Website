"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[5595],{5595:(N,I,o)=>{o.r(I),o.d(I,{EmailTemplateModule:()=>Me});var s=o(69808),L=o(3675),c=o(93075),u=o(36642),_=o(9900),e=o(5e3);let f=(()=>{class a extends _.V{constructor(){super(...arguments),this.url=this.getBaseUrl()}setemailtemplistdata(t){this.emailtemplistdata=t}getemailtemplistdata(){return this.emailtemplistdata}addEmailtemp(t){return this.http.post(this.url+"/email-template/add-email-template",t)}updateEmailTemp(t){return this.http.put(this.url+"/email-template/update-email-template/"+t.Id,t)}emailtemplist(t){let i={};return i=t,this.http.get(this.url+"/email-template/email-templatelist",{params:i})}emailtempPagiantion(t){let i={};return i=t,this.http.get(this.url+"/email-template/email-templatelist",{params:i})}deleteEmailtemp(t,i){return this.http.delete(this.url+"/email-template/delete-email-template/"+i,t)}}return a.\u0275fac=function(){let n;return function(i){return(n||(n=e.\u0275\u0275getInheritedFactory(a)))(i||a)}}(),a.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})();var d=o(83895),p=o(85775),m=o(82905);const r=a=>a.emailtemp,z=(0,p.P1)(r,m.bt),U=(0,p.P1)(r,m.p3),V=(0,p.P1)(r,m.Au),K=(0,p.P1)(r,m.cy),k=(0,p.P1)(r,m.vv),R=(0,p.P1)(r,m.ET),H=(0,p.P1)(r,m.KP),Q=(0,p.P1)(r,m.KQ),W=(0,p.P1)(r,m.mm),G=(0,p.P1)(r,m.Ij),X=(0,p.P1)(r,m.BO),Y=(0,p.P1)(r,m.x3),Z=(0,p.P1)(r,m.Td),J=(0,p.P1)(r,m.fP),q=(0,p.P1)(r,m.Pz),ee=(0,p.P1)(r,m.nO),te=(0,p.P1)(r,m.OI),ae=(0,p.P1)(r,m.Ae),ie=(0,p.P1)(r,m.qZ),ne=(0,p.P1)(r,m.il);class j{constructor(n){this.title=n.title||"",this.subject=n.subject||"",this.content=n.content||"",this.status=n.status||0,n&&n.id&&(this.Id=n.id||0)}}class ${constructor(n){this.limit=n.limit||0,this.offset=n.offset||0,this.keyword=n.keyword||"",this.count=n.count||0}}var le=o(47319),E=o(99291),oe=o(22290);let A=(()=>{class a{constructor(t,i,l){this.appState=t,this.router=i,this.toastr=l,this.emailTempList$=this.appState.select(z),this.emailTempPagination$=this.appState.select(U),this.getAddEmailTemp$=this.appState.select(V),this.updateEmailTemp$=this.appState.select(K),this.emailTempDelete$=this.appState.select(k),this.emailTempListLoading$=this.appState.select(R),this.emailTempListLoaded$=this.appState.select(H),this.emailTempListFailed$=this.appState.select(Q),this.emailTempDeleteLoading$=this.appState.select(q),this.emailTempDeleteLoaded$=this.appState.select(ee),this.emailTempDeleteFailed$=this.appState.select(te),this.emailTempCountLoading$=this.appState.select(W),this.emailTempCountLoaded$=this.appState.select(G),this.emailTempCountFailed$=this.appState.select(X),this.emailTempAddLoading$=this.appState.select(Y),this.emailTempAddLoaded$=this.appState.select(Z),this.emailTempAddFailed$=this.appState.select(J),this.emailTempUpdateLoading$=this.appState.select(ae),this.emailTempUpdateLoaded$=this.appState.select(ie),this.emailTempUpdateFailed$=this.appState.select(ne),this.subscriptions=[]}addEmailTemplate(t){this.appState.dispatch(new d.x$(new j(t)))}updateEmailTemplate(t){this.appState.dispatch(new d.QY(new j(t)))}getEmailTemplateList(t){this.appState.dispatch(new d.xN(new $(t)))}emailTemplateDelete(t){this.appState.dispatch(new d.UO(t))}emailTemplatePagination(t){this.appState.dispatch(new d.lt(new $(t)))}subscribe(){this.subscriptions.push(this.getAddEmailTemp$.subscribe(t=>{t&&t.message&&this.router.navigate(["/settings/local/emailtemp"])})),this.subscriptions.push(this.updateEmailTemp$.subscribe(t=>{t&&t.message&&1===t.status&&this.router.navigate(["/settings/local/emailtemp"])}))}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275inject(le.yh),e.\u0275\u0275inject(E.F0),e.\u0275\u0275inject(oe._W))},a.\u0275prov=e.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})();var S=o(97582),x=o(39646),b=o(54004),v=o(63900),C=o(70262);class g{constructor(n,t){this.action$=n,this.service=t,this.doAddEmailTemp$=this.action$.pipe((0,u.l4)(d.MF.DO_NEW_EMAIL_TEMP_ACTION),(0,b.U)(i=>i.payload),(0,v.w)(i=>this.service.addEmailtemp(i).pipe((0,v.w)(l=>[new d.f_(l)]),(0,C.K)(l=>(0,x.of)(new d.b1(l)))))),this.doUpdateEmailTemp$=this.action$.pipe((0,u.l4)(d.MF.DO_UPDATE_EMAIL_TEMP_ACTION),(0,b.U)(i=>i.payload),(0,v.w)(i=>this.service.updateEmailTemp(i).pipe((0,v.w)(l=>[new d.Fx(l)]),(0,C.K)(l=>(0,x.of)(new d.$j(l)))))),this.doemailtemplists$=this.action$.pipe((0,u.l4)(d.MF.GET_EMAIL_TEMP_LIST_ACTION),(0,b.U)(i=>i.payload),(0,v.w)(i=>this.service.emailtemplist(i).pipe((0,v.w)(l=>[new d.$S(l)]),(0,C.K)(l=>(0,x.of)(new d.vD(l)))))),this.doemailtemppagination$=this.action$.pipe((0,u.l4)(d.MF.GET_EMAIL_TEMP_COUNT_ACTION),(0,b.U)(i=>i.payload),(0,v.w)(i=>this.service.emailtempPagiantion(i).pipe((0,v.w)(l=>[new d.fO(l)]),(0,C.K)(l=>(0,x.of)(new d.iF(l)))))),this.doEmailtempDelete$=this.action$.pipe((0,u.l4)(d.MF.DO_EMAIL_TEMP_DELETE),(0,b.U)(i=>i.payload),(0,v.w)(i=>this.service.deleteEmailtemp(i,i.emailTemplateId).pipe((0,v.w)(h=>[new d.KY(h)]),(0,C.K)(h=>(0,x.of)(new d.kr(h))))))}}g.\u0275fac=function(n){return new(n||g)(e.\u0275\u0275inject(u.eX),e.\u0275\u0275inject(f))},g.\u0275prov=e.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac}),(0,S.gn)([(0,u.Qm)()],g.prototype,"doAddEmailTemp$",void 0),(0,S.gn)([(0,u.Qm)()],g.prototype,"doUpdateEmailTemp$",void 0),(0,S.gn)([(0,u.Qm)()],g.prototype,"doemailtemplists$",void 0),(0,S.gn)([(0,u.Qm)()],g.prototype,"doemailtemppagination$",void 0),(0,S.gn)([(0,u.Qm)()],g.prototype,"doEmailtempDelete$",void 0);var T=o(10518),se=o(59070),O=o(49876),w=o(24376),y=o(84218);function pe(a,n){1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Error.Titleisrequired")))}function me(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"div",23),e.\u0275\u0275template(1,pe,3,3,"div",24),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.f.title.errors.required)}}function re(a,n){1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Error.Subjectisrequired")))}function de(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"div",23),e.\u0275\u0275template(1,re,3,3,"div",24),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.f.subject.errors.required)}}function ce(a,n){1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Error.Contentisrequired")))}function ue(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"div",23),e.\u0275\u0275template(1,ce,3,3,"div",24),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.f.content.errors.required)}}function he(a,n){1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Error.Statusisrequired")))}function ge(a,n){if(1&a&&(e.\u0275\u0275elementStart(0,"div",23),e.\u0275\u0275template(1,he,3,3,"div",24),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.f.status.errors.required)}}const F=function(a){return{"is-invalid":a}},fe=function(a){return{"error-fields":a}};let P=(()=>{class a{constructor(t,i,l,h,M,je,$e){this.modalService=t,this.fb=i,this.route=l,this.sandbox=h,this.router=M,this.service=je,this.ckeconfiqservice=$e,this.editEmailTemplateInfo=[],this.submitted=!1,this.config=this.ckeconfiqservice.getckeconfig()}get f(){return this.emailTemplateForm.controls}ngOnInit(){this.initForm(),this.editEmailTempId=this.route.snapshot.paramMap.get("id"),this.setDefaultValues(),this.editEmailtempList()}beforeChange(t){"preventchange-2"===t.panelId&&t.preventDefault(),"preventchange-3"===t.panelId&&!1===t.nextState&&t.preventDefault()}setDefaultValues(){this.emailTemplateForm.patchValue({postalcode:"Yes",tc:!0})}initForm(){this.emailTemplateForm=this.fb.group({title:[null,[c.Validators.required]],subject:[null,[c.Validators.required]],content:[null,[c.Validators.required]],status:[null,[c.Validators.required]]})}close(){this.modalService.close("close")}cancel(){this.router.navigate(["/settings/local/emailtemp"])}onSubmit(t){if(this.submitted=!0,this.emailTemplateForm.invalid)return;const i={};i.title=this.emailTemplateForm.value.title,i.subject=this.emailTemplateForm.value.subject,i.content=this.emailTemplateForm.value.content,i.status=this.emailTemplateForm.value.status,this.editEmailTemplateInfo&&this.editEmailTemplateInfo[0]?(i.id=this.editEmailTemplateInfo[0].emailTemplateId,this.sandbox.updateEmailTemplate(i)):this.sandbox.addEmailTemplate(i),this.modalService.close("close")}editEmailtempList(){this.editEmailTemplateInfo.push(this.service.getemailtemplistdata()),null!==this.editEmailTemplateInfo[0]?this.editEmailTemplateInfo[0]&&this.editEmailTemplateInfo[0].title&&(this.updateTitle=1,this.emailTemplateForm.controls.title.setValue(this.editEmailTemplateInfo[0].title),this.emailTemplateForm.controls.subject.setValue(this.editEmailTemplateInfo[0].subject),this.emailTemplateForm.controls.content.setValue(this.htmlTagConversion(this.editEmailTemplateInfo[0].content)),this.emailTemplateForm.controls.status.setValue(this.editEmailTemplateInfo[0].isActive)):this.emailTemplateForm=null}htmlTagConversion(t){return t.replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&#39;","'").replaceAll("&sbquo;","\u201a").replaceAll("&#61;","=").replaceAll("&#45;","-").replaceAll("&hellip;","\u2026").replaceAll("&commat;","@").replaceAll("&copy;","\xa9").replaceAll("&#35;","#").replaceAll("&ldquo;","\u201c").replaceAll("&rsquo;","\u2019").replaceAll("&lsquo;","\u2018").replaceAll("&trade;","\u2122").replaceAll("&reg;","\xae").replaceAll("&ndash;","\u2013").replaceAll("&eacute;","\xe9").replaceAll("&euro;","\u20ac").replaceAll("&pound;","\xa3")}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(T.Kz),e.\u0275\u0275directiveInject(c.FormBuilder),e.\u0275\u0275directiveInject(E.gz),e.\u0275\u0275directiveInject(A),e.\u0275\u0275directiveInject(E.F0),e.\u0275\u0275directiveInject(f),e.\u0275\u0275directiveInject(se.U))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-spurt-addemail"]],decls:60,vars:49,consts:[[1,"flex","setting2-inner-header"],[1,"modal-header__title"],[1,"close-modal",3,"click"],["src","assets/img/modal-close.svg"],[1,"settings-right-wrapper","addnewuser"],[1,"new-user"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-6","col-xs-12"],[1,"form-group"],["type","text","formControlName","title",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","subject",1,"form-control",3,"ngClass"],[1,"col-lg-12"],["formControlName","content",3,"config","ngClass"],[1,"col-lg-12","col-xs-12"],[1,"control-label"],["formControlName","status","data-placeholder","Choose Role",3,"placeholder","searchable","ngClass","clearable"],[3,"value"],[1,"col-12"],[1,"modal-action-btns","flex"],["type","submit"],[3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h3",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return i.close()}),e.\u0275\u0275element(5,"img",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",4)(7,"div",5)(8,"form",6),e.\u0275\u0275listener("ngSubmit",function(){return i.onSubmit(i.emailTemplateForm.value)}),e.\u0275\u0275elementStart(9,"div",7)(10,"div",8)(11,"div",9)(12,"label"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementStart(15,"sup"),e.\u0275\u0275text(16,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(17,"input",10),e.\u0275\u0275template(18,me,2,1,"div",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"div",8)(20,"div",9)(21,"label"),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275elementStart(24,"sup"),e.\u0275\u0275text(25,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(26,"input",12),e.\u0275\u0275template(27,de,2,1,"div",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(28,"div",13)(29,"div",9)(30,"label"),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"translate"),e.\u0275\u0275elementStart(33,"sup"),e.\u0275\u0275text(34,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(35,"ckeditor",14),e.\u0275\u0275template(36,ue,2,1,"div",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(37,"div",15)(38,"div",9)(39,"label",16),e.\u0275\u0275text(40),e.\u0275\u0275pipe(41,"translate"),e.\u0275\u0275elementStart(42,"sup"),e.\u0275\u0275text(43,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(44,"ng-select",17),e.\u0275\u0275pipe(45,"translate"),e.\u0275\u0275elementStart(46,"ng-option",18),e.\u0275\u0275text(47),e.\u0275\u0275pipe(48,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"ng-option",18),e.\u0275\u0275text(50),e.\u0275\u0275pipe(51,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(52,ge,2,1,"div",11),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(53,"div",19)(54,"div",20)(55,"button",21),e.\u0275\u0275text(56),e.\u0275\u0275pipe(57,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(58,"button",22),e.\u0275\u0275listener("click",function(){return i.close()}),e.\u0275\u0275text(59,"cancel"),e.\u0275\u0275elementEnd()()()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.updateTitle?"Update Email Template":e.\u0275\u0275pipeBind1(3,23,"Add Email Template")),e.\u0275\u0275advance(6),e.\u0275\u0275property("formGroup",i.emailTemplateForm),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,25,"Settings.Local.Emailtemplate.Title")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(41,F,i.submitted&&i.f.title.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.submitted&&i.f.title.errors),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,27,"Settings.Local.Emailtemplate.Subject")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(43,F,i.submitted&&i.f.subject.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.submitted&&i.f.subject.errors),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(32,29,"Settings.Local.Emailtemplate.Content")),e.\u0275\u0275advance(4),e.\u0275\u0275property("config",i.config)("ngClass",e.\u0275\u0275pureFunction1(45,F,i.submitted&&i.f.content.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.submitted&&i.f.content.errors),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(41,31,"Settings.Local.Emailtemplate.Status")," "),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(45,33,"Settings.Local.Language.SelectStatus")),e.\u0275\u0275property("searchable",!1)("ngClass",e.\u0275\u0275pureFunction1(47,fe,i.submitted&&i.f.status.errors))("clearable",!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(48,35,"Settings.Local.Emailtemplate.Enabled")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(51,37,"Settings.Local.Emailtemplate.Disabled")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.submitted&&i.f.status.errors),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(57,39,"Settings.Local.Save")))},directives:[c.\u0275NgNoValidate,c.NgControlStatusGroup,c.FormGroupDirective,c.DefaultValueAccessor,c.NgControlStatus,c.FormControlName,s.NgClass,s.NgIf,O.ue,w.w9,w.jq],pipes:[y.X$],styles:["",".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}"]}),a})();var ve=o(9819),Ee=o(33052),Te=o(89113),Se=o(86087);function xe(a,n){1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Enabled")," "))}function be(a,n){1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Disabled")," "))}const B=function(){return["edit-email-template","delete-email-template"]};function Ce(a,n){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",24),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"td",25),e.\u0275\u0275elementStart(6,"td"),e.\u0275\u0275template(7,xe,3,3,"div",26),e.\u0275\u0275template(8,be,3,3,"div",26),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td",27)(10,"button",28),e.\u0275\u0275listener("click",function(){const h=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(2).editEmailtemp(h)}),e.\u0275\u0275element(11,"img",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",28),e.\u0275\u0275listener("click",function(){const h=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(2).deleteEmailtemp(h.emailTemplateId)}),e.\u0275\u0275element(13,"img",30),e.\u0275\u0275elementEnd()()()}if(2&a){const t=n.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.subject),e.\u0275\u0275advance(1),e.\u0275\u0275property("innerHtml",t.content,e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",1==t.isActive),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0==t.isActive),e.\u0275\u0275advance(1),e.\u0275\u0275property("multipleHide",e.\u0275\u0275pureFunction0(8,B)),e.\u0275\u0275advance(1),e.\u0275\u0275property("appHideIfUnauthorized","edit-email-template"),e.\u0275\u0275advance(2),e.\u0275\u0275property("appHideIfUnauthorized","delete-email-template")}}function Ie(a,n){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275element(1,"div",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"div",12)(3,"div",13),e.\u0275\u0275element(4,"app-global-loader",14),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",15)(7,"div",16)(8,"table",17)(9,"thead")(10,"tr")(11,"th",18),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th",19),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"th",20),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"th",19),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"th",21),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"tbody"),e.\u0275\u0275template(27,Ce,14,9,"tr",22),e.\u0275\u0275pipe(28,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"mat-paginator",23),e.\u0275\u0275listener("page",function(l){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onPageChange(l)}),e.\u0275\u0275pipe(30,"async"),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("isShow",e.\u0275\u0275pipeBind1(5,10,t.sandbox.emailTempListLoading$)),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,12,"Settings.Local.Emailtemplate.Title"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(16,14,"Settings.Local.Emailtemplate.Subject")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(19,16,"Settings.Local.Emailtemplate.Content")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(22,18,"Settings.Local.Emailtemplate.Status")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("multipleHide",e.\u0275\u0275pureFunction0(26,B)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(25,20,"Settings.Local.Emailtemplate.Action"),""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(28,22,t.sandbox.emailTempList$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("length",e.\u0275\u0275pipeBind1(30,24,t.sandbox.emailTempPagination$))("pageSize",t.pageSize)}}let ye=(()=>{class a{constructor(t,i,l,h){this.modal=t,this.router=i,this.sandbox=l,this.service=h,this.pageSize=10,this.index=0,this.keyword="",this.paginationCount=!0,this.regSubscribeEvents()}ngOnInit(){this.pageSize=sessionStorage.getItem("itemsPerPage")?sessionStorage.getItem("itemsPerPage"):this.pageSize,this.getemailtempList(this.offset,this.pageSize),this.sandbox.emailTempUpdateLoaded$.subscribe(t=>{t&&this.getemailtempList(this.offset,this.pageSize)}),this.sandbox.emailTempList$.subscribe(t=>{})}beforeChange(t){"preventchange-2"===t.panelId&&t.preventDefault(),"preventchange-3"===t.panelId&&!1===t.nextState&&t.preventDefault()}getemailtempList(t=0,i){const l={};l.limit=i,l.offset=t,l.keyword=this.keyword,this.sandbox.getEmailTemplateList(l),this.paginationCount&&(l.count="true",this.sandbox.emailTemplatePagination(l))}addNewEmailTemp(){this.service.setemailtemplistdata(""),this.router.navigate(["/settings/local/emailtemp/add"])}editEmailtemp(t){const i=this.modal.open(P,{windowClass:"add-variant-roles",keyboard:!1,backdrop:"static"});t&&(this.service.setemailtemplistdata(t),i.componentInstance.id=t.emailTemplateId)}deleteEmailtemp(t){const i=this.modal.open(ve.j,{size:"sm",windowClass:"delete-confirm",backdrop:"static",backdropClass:"createcr"});i.componentInstance.key="",i.componentInstance.id="",i.result.then(l=>{"deleted"===l&&(this.sandbox.emailTemplateDelete({emailTemplateId:t}),this.regSubscribeEvents())})}regSubscribeEvents(){this.sandbox.emailTempDelete$.subscribe(t=>{t&&1===t.status&&this.getemailtempList(this.offset,this.pageSize)})}onPageChange(t){this.pageSize=t.pageSize,this.index=t.pageIndex,this.offset=t.pageSize*t.pageIndex,this.getemailtempList(this.offset,this.pageSize)}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(T.FF),e.\u0275\u0275directiveInject(E.F0),e.\u0275\u0275directiveInject(A),e.\u0275\u0275directiveInject(f))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["app-spurt-listemailtemp"]],decls:16,vars:7,consts:[[1,"set-lay-notes","flex",2,"padding","0 10px 10px 10px"],[1,"setup-wrapper","set-loc-wrapper"],[1,"setup-container","localization-container"],[1,"card","ap-general","ap-info"],[1,"flex","ap-body"],["ngbNav","",2,"width","100%"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavContent","","style","display: flex !important;"],[1,"mt-2",2,"width","100%",3,"ngbNavOutlet"],[1,"localize-header","flex"],[1,"loc-hdr-lft"],[1,"setup-right"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(58%, 18%)","position","absolute",3,"isShow"],[1,"product-table"],[1,"table-responsive"],[1,"table"],["scope","col",1,""],["scope","col"],["scope","col",2,"width","466px"],["scope","col",1,"text-right",3,"appHideIfUnauthorized","multipleHide"],[4,"ngFor","ngForOf"],[3,"length","pageSize","page"],["scope","row",1,""],[2,"width","466px",3,"innerHtml"],[4,"ngIf"],[1,"text-center","action-btn",3,"appHideIfUnauthorized","multipleHide"],[3,"appHideIfUnauthorized","click"],["src","assets/img/edit.png","alt","edit"],["src","assets/img/delete-new.png","alt","delete"]],template:function(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",1)(8,"div",2)(9,"div",3)(10,"div",4)(11,"ul",5,6)(13,"li",7),e.\u0275\u0275template(14,Ie,31,27,"ng-template",8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(15,"div",9),e.\u0275\u0275elementEnd()()()()),2&t){const l=e.\u0275\u0275reference(12);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"Settings.nav.Note:")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,5,"Settings.paragraph.Forsendingnotifications")," "),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngbNavOutlet",l)}},directives:[T.Pz,T.nv,T.uN,Ee.A,Te.E,s.NgForOf,s.NgIf,Se.NW,T.tO],pipes:[y.X$,s.AsyncPipe],styles:[".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}"]}),a})();var D=o(8300);const Le=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:ye,canActivate:[D.a],data:{permission:"list-email-template"}},{path:"add",component:P,canActivate:[D.a],data:{permission:"create-email-template"}},{path:"edit/:id",component:P,canActivate:[D.a],data:{permission:"edit-email-template"}}];let _e=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[[E.Bz.forChild(Le)],E.Bz]}),a})();var Ae=o(16917),Fe=o(10128),Pe=o(40520),De=o(12476);let Me=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({providers:[f,A],imports:[[s.CommonModule,L.o,c.FormsModule,c.ReactiveFormsModule,Ae.q,_e,De.K,u.sQ.forFeature([g]),y.aw.forChild({loader:{provide:y.Zw,useFactory:Fe.g,deps:[Pe.eN]}}),O.dF]]}),a})()},9819:(N,I,o)=>{o.d(I,{j:()=>e});var s=o(5e3),L=o(10518),c=o(85699),u=o(8110),_=o(84218);let e=(()=>{class f{constructor(p,m,r){this.activeModal=p,this.sellerSandbox=m,this.productSandbox=r}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key?(this.sellerSandbox.deleteSeller({vendorId:this.id}),this.sellerSandbox.deleteLoaded$.subscribe(p=>{!0===p&&this.activeModal.close("deleted")})):"product"===this.key?(this.productSandbox.doProductDelete({productId:this.id}),this.productSandbox.productDeleteLoaded$.subscribe(p=>{!0===p&&this.activeModal.close("deleted")})):this.activeModal.close("deleted")}}return f.\u0275fac=function(p){return new(p||f)(s.\u0275\u0275directiveInject(L.Kz),s.\u0275\u0275directiveInject(c.A),s.\u0275\u0275directiveInject(u.Z))},f.\u0275cmp=s.\u0275\u0275defineComponent({type:f,selectors:[["app-delete-confirmation-dialog"]],decls:15,vars:9,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true",2,"background-color","white"],["src","assets/img/info-triangle.svg"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(p,m){1&p&&(s.\u0275\u0275elementStart(0,"div",0)(1,"button",1),s.\u0275\u0275listener("click",function(){return m.close()}),s.\u0275\u0275elementStart(2,"span",2),s.\u0275\u0275text(3,"\xd7"),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(4,"h4"),s.\u0275\u0275element(5,"img",3),s.\u0275\u0275text(6),s.\u0275\u0275pipe(7,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(8,"div",4)(9,"button",5),s.\u0275\u0275listener("click",function(){return m.close()}),s.\u0275\u0275text(10),s.\u0275\u0275pipe(11,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(12,"button",6),s.\u0275\u0275listener("click",function(){return m.deleteContent()}),s.\u0275\u0275text(13),s.\u0275\u0275pipe(14,"translate"),s.\u0275\u0275elementEnd()()()),2&p&&(s.\u0275\u0275advance(6),s.\u0275\u0275textInterpolate1(" ",s.\u0275\u0275pipeBind1(7,3,"CommonFormAll.Doyouwanttodelete")," "),s.\u0275\u0275advance(4),s.\u0275\u0275textInterpolate1(" ",s.\u0275\u0275pipeBind1(11,5,"CommonFormAll.No")," "),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate1(" ",s.\u0275\u0275pipeBind1(14,7,"CommonFormAll.Yes"),""))},pipes:[_.X$],styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px;border:none}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}"]}),f})()}}]);