"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[2202],{42202:(D,E,o)=>{o.r(E),o.d(E,{EmailTemplateModule:()=>je});var r=o(69808),b=o(3675),c=o(93075),u=o(36642),S=o(9900),e=o(5e3);let g=(()=>{class n extends S.V{constructor(){super(...arguments),this.url=this.getBaseUrl()}setemailtemplistdata(t){this.emailtemplistdata=t}getemailtemplistdata(){return this.emailtemplistdata}addEmailtemp(t){return this.http.post(this.url+"/email-template/add-email-template",t)}updateEmailTemp(t){return this.http.put(this.url+"/email-template/update-email-template/"+t.Id,t)}emailtemplist(t){let a={};return a=t,this.http.get(this.url+"/email-template/email-templatelist",{params:a})}emailtempPagiantion(t){let a={};return a=t,this.http.get(this.url+"/email-template/email-templatelist",{params:a})}deleteEmailtemp(t,a){return this.http.delete(this.url+"/email-template/delete-email-template/"+a,t)}}return n.\u0275fac=function(){let l;return function(a){return(l||(l=e.\u0275\u0275getInheritedFactory(n)))(a||n)}}(),n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();var s=o(83895),m=o(85775),p=o(82905);const d=n=>n.emailtemp,U=(0,m.P1)(d,p.bt),R=(0,m.P1)(d,p.p3),k=(0,m.P1)(d,p.Au),V=(0,m.P1)(d,p.cy),K=(0,m.P1)(d,p.vv),H=(0,m.P1)(d,p.ET),G=(0,m.P1)(d,p.KP),W=(0,m.P1)(d,p.KQ),Q=(0,m.P1)(d,p.mm),Z=(0,m.P1)(d,p.Ij),X=(0,m.P1)(d,p.BO),Y=(0,m.P1)(d,p.x3),J=(0,m.P1)(d,p.Td),q=(0,m.P1)(d,p.fP),ee=(0,m.P1)(d,p.Pz),te=(0,m.P1)(d,p.nO),ne=(0,m.P1)(d,p.OI),ae=(0,m.P1)(d,p.Ae),ie=(0,m.P1)(d,p.qZ),le=(0,m.P1)(d,p.il);class j{constructor(l){this.title=l.title||"",this.subject=l.subject||"",this.content=l.content||"",this.status=l.status||0,l&&l.id&&(this.Id=l.id||0)}}class w{constructor(l){this.limit=l.limit||0,this.offset=l.offset||0,this.keyword=l.keyword||"",this.count=l.count||0}}var oe=o(47319),T=o(99291),se=o(22290);let M=(()=>{class n{constructor(t,a,i){this.appState=t,this.router=a,this.toastr=i,this.emailTempList$=this.appState.select(U),this.emailTempPagination$=this.appState.select(R),this.getAddEmailTemp$=this.appState.select(k),this.updateEmailTemp$=this.appState.select(V),this.emailTempDelete$=this.appState.select(K),this.emailTempListLoading$=this.appState.select(H),this.emailTempListLoaded$=this.appState.select(G),this.emailTempListFailed$=this.appState.select(W),this.emailTempDeleteLoading$=this.appState.select(ee),this.emailTempDeleteLoaded$=this.appState.select(te),this.emailTempDeleteFailed$=this.appState.select(ne),this.emailTempCountLoading$=this.appState.select(Q),this.emailTempCountLoaded$=this.appState.select(Z),this.emailTempCountFailed$=this.appState.select(X),this.emailTempAddLoading$=this.appState.select(Y),this.emailTempAddLoaded$=this.appState.select(J),this.emailTempAddFailed$=this.appState.select(q),this.emailTempUpdateLoading$=this.appState.select(ae),this.emailTempUpdateLoaded$=this.appState.select(ie),this.emailTempUpdateFailed$=this.appState.select(le),this.subscriptions=[]}addEmailTemplate(t){this.appState.dispatch(new s.x$(new j(t)))}updateEmailTemplate(t){this.appState.dispatch(new s.QY(new j(t)))}getEmailTemplateList(t){this.appState.dispatch(new s.xN(new w(t)))}emailTemplateDelete(t){this.appState.dispatch(new s.UO(t))}emailTemplatePagination(t){this.appState.dispatch(new s.lt(new w(t)))}subscribe(){this.subscriptions.push(this.getAddEmailTemp$.subscribe(t=>{t&&t.message&&this.router.navigate(["/settings/local/emailtemp"])})),this.subscriptions.push(this.updateEmailTemp$.subscribe(t=>{t&&t.message&&1===t.status&&this.router.navigate(["/settings/local/emailtemp"])}))}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(oe.yh),e.\u0275\u0275inject(T.F0),e.\u0275\u0275inject(se._W))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();var x=o(97582),_=o(39646),I=o(54004),v=o(63900),y=o(70262);class f{constructor(l,t){this.action$=l,this.service=t,this.doAddEmailTemp$=this.action$.pipe((0,u.l4)(s.MF.DO_NEW_EMAIL_TEMP_ACTION),(0,I.U)(a=>a.payload),(0,v.w)(a=>this.service.addEmailtemp(a).pipe((0,v.w)(i=>[new s.f_(i)]),(0,y.K)(i=>(0,_.of)(new s.b1(i)))))),this.doUpdateEmailTemp$=this.action$.pipe((0,u.l4)(s.MF.DO_UPDATE_EMAIL_TEMP_ACTION),(0,I.U)(a=>a.payload),(0,v.w)(a=>this.service.updateEmailTemp(a).pipe((0,v.w)(i=>[new s.Fx(i)]),(0,y.K)(i=>(0,_.of)(new s.$j(i)))))),this.doemailtemplists$=this.action$.pipe((0,u.l4)(s.MF.GET_EMAIL_TEMP_LIST_ACTION),(0,I.U)(a=>a.payload),(0,v.w)(a=>this.service.emailtemplist(a).pipe((0,v.w)(i=>[new s.$S(i)]),(0,y.K)(i=>(0,_.of)(new s.vD(i)))))),this.doemailtemppagination$=this.action$.pipe((0,u.l4)(s.MF.GET_EMAIL_TEMP_COUNT_ACTION),(0,I.U)(a=>a.payload),(0,v.w)(a=>this.service.emailtempPagiantion(a).pipe((0,v.w)(i=>[new s.fO(i)]),(0,y.K)(i=>(0,_.of)(new s.iF(i)))))),this.doEmailtempDelete$=this.action$.pipe((0,u.l4)(s.MF.DO_EMAIL_TEMP_DELETE),(0,I.U)(a=>a.payload),(0,v.w)(a=>this.service.deleteEmailtemp(a,a.emailTemplateId).pipe((0,v.w)(h=>[new s.KY(h)]),(0,y.K)(h=>(0,_.of)(new s.kr(h))))))}}function $(n){const l=n.dynamicFieldsRef.split(",").map(t=>t.slice(1,-1));for(const t of l)if(!n.content.includes(`{${t}}`))return!0;return!1}f.\u0275fac=function(l){return new(l||f)(e.\u0275\u0275inject(u.eX),e.\u0275\u0275inject(g))},f.\u0275prov=e.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac}),(0,x.gn)([(0,u.Qm)()],f.prototype,"doAddEmailTemp$",void 0),(0,x.gn)([(0,u.Qm)()],f.prototype,"doUpdateEmailTemp$",void 0),(0,x.gn)([(0,u.Qm)()],f.prototype,"doemailtemplists$",void 0),(0,x.gn)([(0,u.Qm)()],f.prototype,"doemailtemppagination$",void 0),(0,x.gn)([(0,u.Qm)()],f.prototype,"doEmailtempDelete$",void 0);var C=o(10518),re=o(59070),B=o(49876),N=o(24376),P=o(84218);function me(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Error.Titleisrequired")))}function pe(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",24),e.\u0275\u0275template(1,me,3,3,"div",25),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.f.title.errors.required)}}function de(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Error.Subjectisrequired")))}function ce(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",24),e.\u0275\u0275template(1,de,3,3,"div",25),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.f.subject.errors.required)}}function ue(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Error.Contentisrequired")))}function he(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",24),e.\u0275\u0275template(1,ue,3,3,"div",25),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.f.content.errors.required)}}function ge(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",26),e.\u0275\u0275text(1," Dynamic field value "),e.\u0275\u0275elementEnd())}function fe(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Error.Statusisrequired")))}function ve(n,l){if(1&n&&(e.\u0275\u0275elementStart(0,"div",24),e.\u0275\u0275template(1,fe,3,3,"div",25),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.f.status.errors.required)}}const L=function(n){return{"is-invalid":n}},Ee=function(n){return{"error-fields":n}};let O=(()=>{class n{constructor(t,a,i,h,F,we,$e,Be){this.modalService=t,this.fb=a,this.route=i,this.sandbox=h,this.router=F,this.service=we,this.changeDetectRef=$e,this.ckeconfiqservice=Be,this.editEmailTemplateInfo=[],this.submitted=!1,this.dynamicFieldsValue=!1,this.config=this.ckeconfiqservice.getckeconfig()}get f(){return this.emailTemplateForm.controls}ngOnInit(){this.initForm(),this.editEmailTempId=this.route.snapshot.paramMap.get("id"),this.setDefaultValues(),this.editEmailtempList()}beforeChange(t){"preventchange-2"===t.panelId&&t.preventDefault(),"preventchange-3"===t.panelId&&!1===t.nextState&&t.preventDefault()}setDefaultValues(){this.emailTemplateForm.patchValue({postalcode:"Yes",tc:!0})}initForm(){this.emailTemplateForm=this.fb.group({title:[null,[c.Validators.required]],subject:[null,[c.Validators.required]],content:[null,[c.Validators.required]],status:[null,[c.Validators.required]]})}close(){this.modalService.close("close")}cancel(){this.router.navigate(["/settings/local/emailtemp"])}onSubmit(t){if(this.submitted=!0,this.dynamicFieldsValue=$({content:this.emailTemplateForm.value.content,dynamicFieldsRef:this.editEmailTemplateInfo[0].dynamicFieldsRef}),this.emailTemplateForm.invalid||this.dynamicFieldsValue)return;const i={};i.title=this.emailTemplateForm.value.title,i.subject=this.emailTemplateForm.value.subject,i.content=this.emailTemplateForm.value.content,i.status=this.emailTemplateForm.value.status,this.editEmailTemplateInfo&&this.editEmailTemplateInfo[0]?(i.id=this.editEmailTemplateInfo[0].emailTemplateId,this.sandbox.updateEmailTemplate(i)):this.sandbox.addEmailTemplate(i),this.modalService.close("close")}editEmailtempList(){this.editEmailTemplateInfo.push(this.service.getemailtemplistdata()),null!==this.editEmailTemplateInfo[0]?this.editEmailTemplateInfo[0]&&this.editEmailTemplateInfo[0].title&&(this.updateTitle=1,this.emailTemplateForm.controls.title.setValue(this.editEmailTemplateInfo[0].title),this.emailTemplateForm.controls.subject.setValue(this.editEmailTemplateInfo[0].subject),this.emailTemplateForm.controls.content.setValue(this.htmlTagConversion(this.editEmailTemplateInfo[0].content)),this.emailTemplateForm.controls.status.setValue(this.editEmailTemplateInfo[0].isActive)):this.emailTemplateForm=null}htmlTagConversion(t){return t.replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&#39;","'").replaceAll("&sbquo;","\u201a").replaceAll("&#61;","=").replaceAll("&#45;","-").replaceAll("&hellip;","\u2026").replaceAll("&commat;","@").replaceAll("&copy;","\xa9").replaceAll("&#35;","#").replaceAll("&ldquo;","\u201c").replaceAll("&rsquo;","\u2019").replaceAll("&lsquo;","\u2018").replaceAll("&trade;","\u2122").replaceAll("&reg;","\xae").replaceAll("&ndash;","\u2013").replaceAll("&eacute;","\xe9").replaceAll("&euro;","\u20ac").replaceAll("&pound;","\xa3")}saveChanges(){if(this.submitted=!0,this.dynamicFieldsValue=$({content:this.emailTemplateForm.value.content,dynamicFieldsRef:this.editEmailTemplateInfo[0].dynamicFieldsRef}),this.changeDetectRef.detectChanges(),this.emailTemplateForm.invalid)return;const a={};a.title=this.emailTemplateForm.value.title,a.subject=this.emailTemplateForm.value.subject,a.content=this.emailTemplateForm.value.content,a.status=this.emailTemplateForm.value.status,this.editEmailTemplateInfo&&this.editEmailTemplateInfo[0]?(a.id=this.editEmailTemplateInfo[0].emailTemplateId,this.sandbox.updateEmailTemplate(a)):this.sandbox.addEmailTemplate(a),this.modalService.close("close")}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(C.Kz),e.\u0275\u0275directiveInject(c.FormBuilder),e.\u0275\u0275directiveInject(T.gz),e.\u0275\u0275directiveInject(M),e.\u0275\u0275directiveInject(T.F0),e.\u0275\u0275directiveInject(g),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(re.U))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-spurt-addemail"]],decls:62,vars:53,consts:[[1,"flex","setting2-inner-header"],[1,"modal-header__title"],[1,"close-modal",3,"click"],["src","assets/img/modal-close.svg"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"settings-right-wrapper","addnewuser"],[1,"new-user"],[1,"row"],[1,"col-lg-6","col-xs-12"],[1,"form-group"],["type","text","formControlName","title",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","subject",1,"form-control",3,"ngClass"],[1,"col-lg-12"],["formControlName","content",3,"config","ngClass"],["class","errors",4,"ngIf"],[1,"col-lg-12","col-xs-12"],[1,"control-label"],["formControlName","status","data-placeholder","Choose Role",3,"placeholder","searchable","ngClass","clearable"],[3,"value"],[1,"col-12"],[1,"flex","srbtn"],["type","submit()",1,"button-reg","primary"],[1,"button-reg","secondary",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[1,"errors"]],template:function(t,a){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h3",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return a.close()}),e.\u0275\u0275element(5,"img",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"form",4),e.\u0275\u0275listener("ngSubmit",function(){return a.onSubmit(a.emailTemplateForm.value)}),e.\u0275\u0275elementStart(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementStart(15,"sup"),e.\u0275\u0275text(16,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(17,"input",10),e.\u0275\u0275template(18,pe,2,1,"div",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"div",8)(20,"div",9)(21,"label"),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275elementStart(24,"sup"),e.\u0275\u0275text(25,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(26,"input",12),e.\u0275\u0275template(27,ce,2,1,"div",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(28,"div",13)(29,"div",9)(30,"label"),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"translate"),e.\u0275\u0275elementStart(33,"sup"),e.\u0275\u0275text(34,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(35,"ckeditor",14),e.\u0275\u0275template(36,he,2,1,"div",11),e.\u0275\u0275template(37,ge,2,0,"div",15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(38,"div",16)(39,"div",9)(40,"label",17),e.\u0275\u0275text(41),e.\u0275\u0275pipe(42,"translate"),e.\u0275\u0275elementStart(43,"sup"),e.\u0275\u0275text(44,"*"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(45,"ng-select",18),e.\u0275\u0275pipe(46,"translate"),e.\u0275\u0275elementStart(47,"ng-option",19),e.\u0275\u0275text(48),e.\u0275\u0275pipe(49,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"ng-option",19),e.\u0275\u0275text(51),e.\u0275\u0275pipe(52,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(53,ve,2,1,"div",11),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(54,"div",20)(55,"div",21)(56,"button",22),e.\u0275\u0275text(57),e.\u0275\u0275pipe(58,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(59,"button",23),e.\u0275\u0275listener("click",function(){return a.close()}),e.\u0275\u0275text(60),e.\u0275\u0275pipe(61,"translate"),e.\u0275\u0275elementEnd()()()()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(a.updateTitle?"Update Email Template":e.\u0275\u0275pipeBind1(3,25,"Add Email Template")),e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",a.emailTemplateForm),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,27,"Settings.Local.Emailtemplate.Title")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(45,L,a.submitted&&a.f.title.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.submitted&&a.f.title.errors),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,29,"Settings.Local.Emailtemplate.Subject")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(47,L,a.submitted&&a.f.subject.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.submitted&&a.f.subject.errors),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(32,31,"Settings.Local.Emailtemplate.Content")),e.\u0275\u0275advance(4),e.\u0275\u0275property("config",a.config)("ngClass",e.\u0275\u0275pureFunction1(49,L,a.submitted&&a.f.content.errors)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.submitted&&a.f.content.errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.dynamicFieldsValue&&a.submitted),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(42,33,"Settings.Local.Emailtemplate.Status")," "),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(46,35,"Settings.Local.Language.SelectStatus")),e.\u0275\u0275property("searchable",!1)("ngClass",e.\u0275\u0275pureFunction1(51,Ee,a.submitted&&a.f.status.errors))("clearable",!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(49,37,"Settings.Local.Emailtemplate.Enabled")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",0),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(52,39,"Settings.Local.Emailtemplate.Disabled")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.submitted&&a.f.status.errors),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(58,41,"Settings.generalsettings.Save")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(61,43,"Settings.generalsettings.Cancel")))},directives:[c.\u0275NgNoValidate,c.NgControlStatusGroup,c.FormGroupDirective,c.DefaultValueAccessor,c.NgControlStatus,c.FormControlName,r.NgClass,r.NgIf,B.ue,N.w9,N.jq],pipes:[P.X$],styles:[".errors[_ngcontent-%COMP%]{color:red}",".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}"]}),n})();var Te=o(9819),Ce=o(33052),be=o(89113),Se=o(86087);function xe(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Enabled")," "))}function _e(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Settings.Local.Emailtemplate.Disabled")," "))}const z=function(){return["edit-email-template","delete-email-template"]};function Ie(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",24),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"td",25),e.\u0275\u0275elementStart(6,"td"),e.\u0275\u0275template(7,xe,3,3,"div",26),e.\u0275\u0275template(8,_e,3,3,"div",26),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td",27)(10,"button",28),e.\u0275\u0275listener("click",function(){const h=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(2).editEmailtemp(h)}),e.\u0275\u0275element(11,"img",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",28),e.\u0275\u0275listener("click",function(){const h=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext(2).deleteEmailtemp(h.emailTemplateId)}),e.\u0275\u0275element(13,"img",30),e.\u0275\u0275elementEnd()()()}if(2&n){const t=l.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.subject),e.\u0275\u0275advance(1),e.\u0275\u0275property("innerHtml",t.content,e.\u0275\u0275sanitizeHtml),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",1==t.isActive),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",0==t.isActive),e.\u0275\u0275advance(1),e.\u0275\u0275property("multipleHide",e.\u0275\u0275pureFunction0(8,z)),e.\u0275\u0275advance(1),e.\u0275\u0275property("appHideIfUnauthorized","edit-email-template"),e.\u0275\u0275advance(2),e.\u0275\u0275property("appHideIfUnauthorized","delete-email-template")}}function ye(n,l){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275element(1,"div",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"div",12)(3,"div",13),e.\u0275\u0275element(4,"app-global-loader",14),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",15)(7,"div",16)(8,"table",17)(9,"thead")(10,"tr")(11,"th",18),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th",19),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"th",20),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"th",19),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"th",21),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"tbody"),e.\u0275\u0275template(27,Ie,14,9,"tr",22),e.\u0275\u0275pipe(28,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"mat-paginator",23),e.\u0275\u0275listener("page",function(i){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().onPageChange(i)}),e.\u0275\u0275pipe(30,"async"),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("isShow",e.\u0275\u0275pipeBind1(5,10,t.sandbox.emailTempListLoading$)),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,12,"Settings.Local.Emailtemplate.Title"),""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(16,14,"Settings.Local.Emailtemplate.Subject")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(19,16,"Settings.Local.Emailtemplate.Content")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(22,18,"Settings.Local.Emailtemplate.Status")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("multipleHide",e.\u0275\u0275pureFunction0(26,z)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(25,20,"Settings.Local.Emailtemplate.Action"),""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(28,22,t.sandbox.emailTempList$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("length",e.\u0275\u0275pipeBind1(30,24,t.sandbox.emailTempPagination$))("pageSize",t.pageSize)}}let Pe=(()=>{class n{constructor(t,a,i,h){this.modal=t,this.router=a,this.sandbox=i,this.service=h,this.pageSize=10,this.index=0,this.keyword="",this.paginationCount=!0,this.regSubscribeEvents()}ngOnInit(){this.pageSize=sessionStorage.getItem("itemsPerPage")?sessionStorage.getItem("itemsPerPage"):this.pageSize,this.getemailtempList(this.offset,this.pageSize),this.sandbox.emailTempUpdateLoaded$.subscribe(t=>{t&&this.getemailtempList(this.offset,this.pageSize)}),this.sandbox.emailTempList$.subscribe(t=>{})}beforeChange(t){"preventchange-2"===t.panelId&&t.preventDefault(),"preventchange-3"===t.panelId&&!1===t.nextState&&t.preventDefault()}getemailtempList(t=0,a){const i={};i.limit=a,i.offset=t,i.keyword=this.keyword,this.sandbox.getEmailTemplateList(i),this.paginationCount&&(i.count="true",this.sandbox.emailTemplatePagination(i))}addNewEmailTemp(){this.service.setemailtemplistdata(""),this.router.navigate(["/settings/local/emailtemp/add"])}editEmailtemp(t){const a=this.modal.open(O,{windowClass:"add-variant-roles",keyboard:!1,backdrop:"static"});t&&(this.service.setemailtemplistdata(t),a.componentInstance.id=t.emailTemplateId)}deleteEmailtemp(t){const a=this.modal.open(Te.j,{size:"sm",windowClass:"delete-confirm",backdrop:"static",modalDialogClass:"modal-dialog-centered",backdropClass:"createcr"});a.componentInstance.key="",a.componentInstance.id="",a.result.then(i=>{"deleted"===i&&(this.sandbox.emailTemplateDelete({emailTemplateId:t}),this.regSubscribeEvents())})}regSubscribeEvents(){this.sandbox.emailTempDelete$.subscribe(t=>{t&&1===t.status&&this.getemailtempList(this.offset,this.pageSize)})}onPageChange(t){this.pageSize=t.pageSize,this.index=t.pageIndex,this.offset=t.pageSize*t.pageIndex,this.getemailtempList(this.offset,this.pageSize)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(C.FF),e.\u0275\u0275directiveInject(T.F0),e.\u0275\u0275directiveInject(M),e.\u0275\u0275directiveInject(g))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-spurt-listemailtemp"]],decls:16,vars:7,consts:[[1,"set-lay-notes","flex",2,"padding","0 10px 10px 10px"],[1,"setup-wrapper","set-loc-wrapper"],[1,"setup-container","localization-container"],[1,"card","ap-general","ap-info"],[1,"flex","ap-body"],["ngbNav","",2,"width","100%"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavContent","","style","display: flex !important;"],[1,"mt-2",2,"width","100%",3,"ngbNavOutlet"],[1,"localize-header","flex"],[1,"loc-hdr-lft"],[1,"setup-right"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(58%, 18%)","position","absolute",3,"isShow"],[1,"product-table"],[1,"table-responsive"],[1,"table"],["scope","col",1,""],["scope","col"],["scope","col",2,"width","466px"],["scope","col",1,"text-right",3,"appHideIfUnauthorized","multipleHide"],[4,"ngFor","ngForOf"],[3,"length","pageSize","page"],["scope","row",1,""],[2,"width","466px",3,"innerHtml"],[4,"ngIf"],[1,"text-center","action-btn",3,"appHideIfUnauthorized","multipleHide"],[3,"appHideIfUnauthorized","click"],["src","assets/img/edit.png","alt","edit"],["src","assets/img/delete-new.png","alt","delete"]],template:function(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h4"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",1)(8,"div",2)(9,"div",3)(10,"div",4)(11,"ul",5,6)(13,"li",7),e.\u0275\u0275template(14,ye,31,27,"ng-template",8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(15,"div",9),e.\u0275\u0275elementEnd()()()()),2&t){const i=e.\u0275\u0275reference(12);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"Settings.nav.Note:")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,5,"Settings.paragraph.Forsendingnotifications")," "),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngbNavOutlet",i)}},directives:[C.Pz,C.nv,C.uN,Ce.A,be.E,r.NgForOf,r.NgIf,Se.NW,C.tO],pipes:[P.X$,r.AsyncPipe],styles:[".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}"]}),n})();var A=o(8300);const Me=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Pe,canActivate:[A.a],data:{permission:"list-email-template"}},{path:"add",component:O,canActivate:[A.a],data:{permission:"create-email-template"}},{path:"edit/:id",component:O,canActivate:[A.a],data:{permission:"edit-email-template"}}];let Le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[T.Bz.forChild(Me)],T.Bz]}),n})();var Oe=o(16917),Ae=o(47769),Fe=o(40520),De=o(12476);let je=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[g,M],imports:[[r.CommonModule,b.o,c.FormsModule,c.ReactiveFormsModule,Oe.q,Le,De.K,u.sQ.forFeature([f]),P.aw.forChild({loader:{provide:P.Zw,useFactory:Ae.g,deps:[Fe.eN]}}),B.dF]]}),n})()},33052:(D,E,o)=>{o.d(E,{A:()=>S});var r=o(5e3),b=o(9932),c=o(69808);function u(e,g){1&e&&(r.\u0275\u0275elementStart(0,"div",1)(1,"div",2),r.\u0275\u0275element(2,"img",3),r.\u0275\u0275elementEnd()())}let S=(()=>{class e{constructor(s){this.httpStatus=s,this.subscriptions=[],this.loader=!1,this.getHttpResponse()}ngOnInit(){}getHttpResponse(){this.subscriptions.push(this.httpStatus.getHttpStatus().subscribe(s=>{this.loader=s}))}ngOnDestroy(){this.subscriptions.forEach(s=>s.unsubscribe())}}return e.\u0275fac=function(s){return new(s||e)(r.\u0275\u0275directiveInject(b.Z))},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["app-global-loader"]],inputs:{isShow:"isShow"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],["width","80px","height","80px","src","./assets/loader/Spurt-commerce-Loader-2.1.gif"]],template:function(s,m){1&s&&r.\u0275\u0275template(0,u,3,0,"div",0),2&s&&r.\u0275\u0275property("ngIf",m.isShow)},directives:[c.NgIf],styles:['#loader[_ngcontent-%COMP%]{height:175px;inset:0;margin:auto;position:absolute;width:175px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{height:100%;inset:0;margin:auto;position:absolute;width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:before{border-radius:100%;content:"";height:87.5px;left:0;position:absolute;right:0;top:0;transform:scale(0);width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1){transform:rotate(45deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1):before{animation:.8s linear .1s normal none infinite running load;background:#00ff80 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2){transform:rotate(90deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2):before{animation:.8s linear .2s normal none infinite running load;background:#00ffea none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3){transform:rotate(135deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3):before{animation:.8s linear .3s normal none infinite running load;background:#00aaff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4){transform:rotate(180deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4):before{animation:.8s linear .4s normal none infinite running load;background:#0040ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5){transform:rotate(225deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5):before{animation:.8s linear .5s normal none infinite running load;background:#2a00ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6){transform:rotate(270deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6):before{animation:.8s linear .6s normal none infinite running load;background:#9500ff none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7){transform:rotate(315deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7):before{animation:.8s linear .7s normal none infinite running load;background:magenta none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8){transform:rotate(360deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8):before{animation:.8s linear .8s normal none infinite running load;background:#ff0095 none repeat scroll 0 0}#loader[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{background-position:50% 50%;background-repeat:no-repeat;bottom:-40px;height:20px;left:0;position:absolute;right:0;width:180px}@keyframes load{to{opacity:0;transform:scale(1)}}.spinner-message[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{text-align:center}']}),e})()},9819:(D,E,o)=>{o.d(E,{j:()=>S});var r=o(5e3),b=o(10518),c=o(85699),u=o(8110);let S=(()=>{class e{constructor(s,m,p){this.activeModal=s,this.sellerSandbox=m,this.productSandbox=p}ngOnInit(){}close(){this.activeModal.close()}deleteContent(){"vendor"===this.key?(this.sellerSandbox.deleteSeller({vendorId:this.id}),this.sellerSandbox.deleteLoaded$.subscribe(s=>{!0===s&&this.activeModal.close("deleted")})):"product"===this.key?(this.productSandbox.doProductDelete({productId:this.id}),this.productSandbox.productDeleteLoaded$.subscribe(s=>{!0===s&&this.activeModal.close("deleted")})):this.activeModal.close("deleted")}}return e.\u0275fac=function(s){return new(s||e)(r.\u0275\u0275directiveInject(b.Kz),r.\u0275\u0275directiveInject(c.A),r.\u0275\u0275directiveInject(u.Z))},e.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["app-delete-confirmation-dialog"]],inputs:{deleteMessage:"deleteMessage"},decls:14,vars:1,consts:[[1,"modal-body"],["type","button",1,"close",3,"click"],["aria-hidden","true",2,"background-color","white"],[1,"delete-btns","flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-success",3,"click"]],template:function(s,m){1&s&&(r.\u0275\u0275elementStart(0,"div",0)(1,"button",1),r.\u0275\u0275listener("click",function(){return m.close()}),r.\u0275\u0275elementStart(2,"span",2),r.\u0275\u0275text(3,"\xd7"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(4,"h3"),r.\u0275\u0275text(5,"Delete Confirmation"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(6,"p"),r.\u0275\u0275text(7),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(8,"h4"),r.\u0275\u0275elementStart(9,"div",3)(10,"button",4),r.\u0275\u0275listener("click",function(){return m.close()}),r.\u0275\u0275text(11," Cancel "),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(12,"button",5),r.\u0275\u0275listener("click",function(){return m.deleteContent()}),r.\u0275\u0275text(13," Delete "),r.\u0275\u0275elementEnd()()()),2&s&&(r.\u0275\u0275advance(7),r.\u0275\u0275textInterpolate1("Are you sure want to delete this ",m.deleteMessage," ?"))},styles:[".modal-title[_ngcontent-%COMP%]{padding:30px 30px 5px;border-bottom:1px solid #eeeeee}.modal-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:.875rem}.close[_ngcontent-%COMP%]{padding:10px;border:none}.close[_ngcontent-%COMP%]:focus{outline:none!important}.modal-footer[_ngcontent-%COMP%]{justify-content:center!important}"]}),e})()}}]);