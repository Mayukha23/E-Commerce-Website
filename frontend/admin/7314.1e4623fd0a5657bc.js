(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[7314],{62953:(Cf,Ql,Da)=>{"use strict";Da.d(Ql,{z:()=>r});var Va=Da(97582),Bi=Da(39646),tt=Da(54004),W=Da(63900),t=Da(18505),A=Da(36642),g=Da(70262),i=Da(4751),P=Da(94327),l=Da(5e3),x=Da(99291),e=Da(61870);class r{constructor(a,s,c){this.action$=a,this.router=s,this.sellerService=c,this.sellerList$=this.action$.pipe((0,A.l4)(i.MF.GET_SELLER_LIST),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.sellerList(u).pipe((0,W.w)(y=>[new i.lq(y)]),(0,g.K)(y=>(0,Bi.of)(new i.fh(y)))))),this.sellerAdd$=this.action$.pipe((0,A.l4)(i.MF.DO_SELLER_ADD),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.sellerAdd(u).pipe((0,W.w)(y=>[new i.dL(y)]),(0,g.K)(y=>(0,Bi.of)(new i.a4(y)))))),this.sellerUpdate$=this.action$.pipe((0,A.l4)(i.MF.DO_SELLER_UPDATE),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.sellerUpdate(u).pipe((0,W.w)(y=>[new i.dL(y)]),(0,g.K)(y=>(0,Bi.of)(new i.a4(y)))))),this.pageDetails$=this.action$.pipe((0,A.l4)(i.MF.PAGE_DETAILS),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.pageDetails(u).pipe((0,tt.U)(y=>new i.l6(y)),(0,g.K)(y=>(0,Bi.of)(new i.ch(y)))))),this.doSellerDelete$=this.action$.pipe((0,A.l4)(i.MF.DO_DELETE_SELLER_ACTION),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.deleteSeller(u).pipe((0,W.w)(y=>[new i.u2(y)]),(0,g.K)(y=>(0,Bi.of)(new i.lo(y)))))),this.doSellerExcel$=this.action$.pipe((0,A.l4)(i.MF.GET_SELLER_EXCEL),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.sellerExcel(u).pipe((0,t.b)(y=>{const v="SellerExcel_"+Date.now()+".xlsx",w=new Blob([y],{type:"text/xlsx"});(0,P.saveAs)(w,v)}),(0,W.w)(y=>[new i.tE(y)]),(0,g.K)(y=>(0,Bi.of)(new i.NR(y)))))),this.doSellerBulkDelete$=this.action$.pipe((0,A.l4)(i.MF.DO_SELLER_BULK_DELETE),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.sellerBulkDelete(u).pipe((0,W.w)(y=>[new i.LO(y)]),(0,g.K)(y=>(0,Bi.of)(new i.Uy(y)))))),this.doSellerApproval$=this.action$.pipe((0,A.l4)(i.MF.DO_SELLER_APPROVAL),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.sellerApproval(u).pipe((0,W.w)(y=>[new i.YC(y)]),(0,g.K)(y=>(0,Bi.of)(new i.PY(y)))))),this.docountrylists$=this.action$.pipe((0,A.l4)(i.MF.GET_COUNTRY_LIST),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.countrylist(u).pipe((0,t.b)(y=>{}),(0,W.w)(y=>[new i._N(y)]),(0,g.K)(y=>(0,Bi.of)(new i.GU(y)))))),this.vendorCounts$=this.action$.pipe((0,A.l4)(i.MF.GET_VENDOR_COUNTS),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.vendorCounts().pipe((0,W.w)(y=>[new i.YW(y)]),(0,g.K)(y=>(0,Bi.of)(new i.M4(y)))))),this.dozonelists$=this.action$.pipe((0,A.l4)(i.MF.ZONE_LIST),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.zoneList(u).pipe((0,W.w)(y=>[new i.$e(y)]),(0,g.K)(y=>(0,Bi.of)(new i.Jg(y)))))),this.sellerListCount$=this.action$.pipe((0,A.l4)(i.MF.SELLER_LIST_COUNT),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.sellerListCount(u).pipe((0,W.w)(y=>[new i.bL(y)]),(0,g.K)(y=>(0,Bi.of)(new i.Bu(y)))))),this.getproductList$=this.action$.pipe((0,A.l4)(i.MF.GET_PRODUCT_LIST),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.getproductList(u).pipe((0,W.w)(y=>[new i.Ck(y)]),(0,g.K)(y=>(0,Bi.of)(new i.QU(y)))))),this.getproductListcount$=this.action$.pipe((0,A.l4)(i.MF.GET_PRODUCT_LIST_COUNT),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.getproductListcount(u).pipe((0,W.w)(y=>[new i.mb(y)]),(0,g.K)(y=>(0,Bi.of)(new i.Z4(y)))))),this.checkAvailability$=this.action$.pipe((0,A.l4)(i.MF.CHECK_AVAILABILITY),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.checkAvailability(u).pipe((0,W.w)(y=>[new i.$_(y)]),(0,g.K)(y=>(0,Bi.of)(new i.kD(y)))))),this.stateList$=this.action$.pipe((0,A.l4)(i.MF.STATE_LIST),(0,tt.U)(u=>u.payload),(0,W.w)(u=>this.sellerService.stateList(u).pipe((0,W.w)(y=>[new i.M3(y)]),(0,g.K)(y=>(0,Bi.of)(new i.Ay(y))))))}}r.\u0275fac=function(a){return new(a||r)(l.\u0275\u0275inject(A.eX),l.\u0275\u0275inject(x.F0),l.\u0275\u0275inject(e.n))},r.\u0275prov=l.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),(0,Va.gn)([(0,A.Qm)()],r.prototype,"sellerList$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"sellerAdd$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"sellerUpdate$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"pageDetails$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"doSellerDelete$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"doSellerExcel$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"doSellerBulkDelete$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"doSellerApproval$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"docountrylists$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"vendorCounts$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"dozonelists$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"sellerListCount$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"getproductList$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"getproductListcount$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"checkAvailability$",void 0),(0,Va.gn)([(0,A.Qm)()],r.prototype,"stateList$",void 0)},77314:(Cf,Ql,Da)=>{"use strict";Da.r(Ql),Da.d(Ql,{DashboardModule:()=>Mr});var Va=Da(69808),Bi=Da(3675),tt=Da(93075),W=Da(36642),t=Da(40520),A=Da(9900),g=Da(5e3);let i=(()=>{class Ge extends A.V{constructor(){super(...arguments),this.params={},this.URL=this.getBaseUrl()}getTopSellingProducts(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/product/top-performing-products",Ye)}getSalesOrders(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/admin-customer/customer-visit-list",Ye)}getVisitorsList(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/order/transaction-list",Ye)}getRecentVisitorsList(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/product/top-five-repeatedly-purchased-customers",Ye)}getRecentSellingProductList(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/product/recent-selling-product",Ye)}getItemsPerPageCount(){return this.http.get(this.URL+"/settings/get-settings")}getDashboardCount(){return this.http.get(this.URL+"/product/dashboard-admin-totalvendor-totalproduct-count")}averageOrderValue(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/product/dashboard-average-order-value",Ye)}totalCustomersList(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/product/dashboard/admin-customers-count",Ye)}getTopSellingProductListCount(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/product/top-performing-products",Ye)}totalRevenue(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/product/dashboard-total-revenue",Ye)}totalOrders(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/product/dashboard-admin/orders-count",Ye)}newCustomers(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/product/dashboard/admin-customers-count",Ye)}averageConversionRatio(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/product/dashboard-average-conversion-ratio",Ye)}transactionValues(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/order/transaction-list",Ye)}vendor(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/admin-customer/vendor-graph-list",Ye)}salesgraph(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/order/sales-graph-list",Ye)}weeklysalesproduct(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/product/dashboard/graph-weekly-saleslist",Ye)}toptenweeklyproducts(Ue){const Ye={},ir=Object.getOwnPropertyNames(Ue).reduce((Yr,gn)=>Yr.set(gn,Ue[gn]),new t.LE);return Ye.params=ir,this.http.get(this.URL+"/product/top-performing-products",Ye)}}return Ge.\u0275fac=function(){let Dr;return function(Ye){return(Dr||(Dr=g.\u0275\u0275getInheritedFactory(Ge)))(Ye||Ge)}}(),Ge.\u0275prov=g.\u0275\u0275defineInjectable({token:Ge,factory:Ge.\u0275fac}),Ge})();var P=Da(85762),E=Da(85775),l=Da(3492);const x=Ge=>Ge.dashboard,e=(0,E.P1)(x,l.Z5),r=(0,E.P1)(x,l.Xe),f=(0,E.P1)(x,l.Ps),s=((0,E.P1)(x,l.wZ),(0,E.P1)(x,l.gE)),c=(0,E.P1)(x,l.Lp),u=(0,E.P1)(x,l.yS),v=((0,E.P1)(x,l.W3),(0,E.P1)(x,l.B9)),w=(0,E.P1)(x,l.kh),d=(0,E.P1)(x,l._1),h=((0,E.P1)(x,l.OF),(0,E.P1)(x,l.DE)),M=(0,E.P1)(x,l.AZ),T=(0,E.P1)(x,l.P0),m=((0,E.P1)(x,l.$),(0,E.P1)(x,l.CB)),S=(0,E.P1)(x,l.SP),b=(0,E.P1)(x,l.or),C=((0,E.P1)(x,l.gf),(0,E.P1)(x,l.Bm)),p=(0,E.P1)(x,l.Q7),F=(0,E.P1)(x,l.G3),N=((0,E.P1)(x,l.zR),(0,E.P1)(x,l.bh)),k=(0,E.P1)(x,l.$_),O=(0,E.P1)(x,l.Pj),z=((0,E.P1)(x,l.d8),(0,E.P1)(x,l.KL)),U=(0,E.P1)(x,l.Ek),G=(0,E.P1)(x,l.zp),rt=((0,E.P1)(x,l.aq),(0,E.P1)(x,l.pH)),it=(0,E.P1)(x,l.jB),ut=(0,E.P1)(x,l.NJ),j=((0,E.P1)(x,l.rr),(0,E.P1)(x,l.C4)),Z=(0,E.P1)(x,l.mW),H=(0,E.P1)(x,l.y$),at=((0,E.P1)(x,l.OV),(0,E.P1)(x,l.XO)),_=(0,E.P1)(x,l.Tb),K=(0,E.P1)(x,l.eB),et=((0,E.P1)(x,l.TB),(0,E.P1)(x,l.if)),st=(0,E.P1)(x,l.f4),dt=(0,E.P1)(x,l.AE),bt=((0,E.P1)(x,l.ie),(0,E.P1)(x,l.R1)),Dt=(0,E.P1)(x,l.dq),Ft=(0,E.P1)(x,l.Wf),wt=((0,E.P1)(x,l.FO),(0,E.P1)(x,l.BN)),St=(0,E.P1)(x,l.$P),Ut=(0,E.P1)(x,l.o9),Pt=((0,E.P1)(x,l.Mw),(0,E.P1)(x,l.Hx)),Vt=(0,E.P1)(x,l.eo),te=(0,E.P1)(x,l.dl),kt=((0,E.P1)(x,l.xB),(0,E.P1)(x,l.XX)),zt=(0,E.P1)(x,l.OC),qt=(0,E.P1)(x,l.ZU),oe=((0,E.P1)(x,l.y3),(0,E.P1)(x,l.fq)),pe=(0,E.P1)(x,l.q1),ye=(0,E.P1)(x,l._7),Zt=((0,E.P1)(x,l.vf),(0,E.P1)(x,l.UZ)),Ct=(0,E.P1)(x,l.dB),Et=(0,E.P1)(x,l.l2),Ot=((0,E.P1)(x,l.p9),(0,E.P1)(x,l.Kl)),It=(0,E.P1)(x,l.rU),gt=(0,E.P1)(x,l.h0),vt=((0,E.P1)(x,l.tv),(0,E.P1)(x,l.cV)),yt=(0,E.P1)(x,l.D_),Yt=(0,E.P1)(x,l.M7),le=((0,E.P1)(x,l.vR),(0,E.P1)(x,l.eD)),he=(0,E.P1)(x,l.sv),ke=(0,E.P1)(x,l.CV);(0,E.P1)(x,l.pb);var Ae=Da(47319);let je=(()=>{class Ge{constructor(Ue){this.appState=Ue,this.OrderCount$=this.appState.select(e),this.OrderCountLoading$=this.appState.select(f),this.OrderCountLoaded$=this.appState.select(r),this.productCount$=this.appState.select(s),this.productCountLoading$=this.appState.select(u),this.productCountLoaded$=this.appState.select(c),this.customerCount$=this.appState.select(v),this.customerCountLoading$=this.appState.select(d),this.customerCountLoaded$=this.appState.select(w),this.topSellingProducts$=this.appState.select(h),this.topSellingProductsLoading$=this.appState.select(T),this.topSellingProductsLoaded$=this.appState.select(M),this.salesOrderList$=this.appState.select(m),this.salesOrderListLoading$=this.appState.select(b),this.salesOrderListLoaded$=this.appState.select(S),this.recentVisitorList$=this.appState.select(N),this.recentVisitorListLoading$=this.appState.select(O),this.recentVisitorListLoaded$=this.appState.select(k),this.visitorLogList$=this.appState.select(C),this.visitorLogListLoading$=this.appState.select(F),this.visitorLogListLoaded$=this.appState.select(p),this.recentSellingProduct$=this.appState.select(z),this.recentSellingProductLoading$=this.appState.select(G),this.recentSellingProductLoaded$=this.appState.select(U),this.dashboardCount$=this.appState.select(rt),this.dashboardCountLoading$=this.appState.select(it),this.dashboardCountLoaded$=this.appState.select(ut),this.averageOrderValue$=this.appState.select(j),this.averageOrderValueLoading$=this.appState.select(Z),this.averageOrderValueLoaded$=this.appState.select(H),this.totalCustomersList$=this.appState.select(at),this.totalCustomersListLoading$=this.appState.select(_),this.totalCustomersListLoaded$=this.appState.select(K),this.getTopSellingProductListCount$=this.appState.select(et),this.getTopSellingProductListCountLoading$=this.appState.select(st),this.getTopSellingProductListCountLoaded$=this.appState.select(dt),this.totalRevenue$=this.appState.select(bt),this.totalRevenueLoading$=this.appState.select(Dt),this.totalRevenueLoaded$=this.appState.select(Ft),this.totalOrders$=this.appState.select(wt),this.totalOrdersLoading$=this.appState.select(St),this.totalOrdersLoaded$=this.appState.select(Ut),this.newCustomers$=this.appState.select(Pt),this.newCustomersLoading$=this.appState.select(Vt),this.newCustomersLoaded$=this.appState.select(te),this.averageConversionRatio$=this.appState.select(kt),this.averageConversionRatioLoading$=this.appState.select(zt),this.averageConversionRatioLoaded$=this.appState.select(qt),this.transactionValues$=this.appState.select(oe),this.transactionValuesLoading$=this.appState.select(pe),this.transactionValuesLoaded$=this.appState.select(ye),this.vendor$=this.appState.select(Zt),this.vendorLoading$=this.appState.select(Ct),this.vendorLoaded$=this.appState.select(Et),this.salesgraph$=this.appState.select(Ot),this.salesgraphLoading$=this.appState.select(It),this.salesgraphLoaded$=this.appState.select(gt),this.weeklysalesproduct$=this.appState.select(vt),this.weeklysalesproductLoading$=this.appState.select(yt),this.weeklysalesproductLoaded$=this.appState.select(Yt),this.toptenweeklyproducts$=this.appState.select(le),this.toptenweeklyproductsLoading$=this.appState.select(he),this.toptenweeklyproductsLoaded$=this.appState.select(ke)}getTopSellingProductList(Ue){this.appState.dispatch(new P._U(Ue))}getSalesOrderList(Ue={}){this.appState.dispatch(new P.zR(Ue))}getVisitorLogsList(Ue={}){this.appState.dispatch(new P.oM(Ue))}getRecentVisitorList(Ue={}){this.appState.dispatch(new P.Ns(Ue))}getRecentSellingProductList(Ue={}){this.appState.dispatch(new P.ch(Ue))}getItemPerPageCount(Ue={}){this.appState.dispatch(new P.UY(Ue))}getDashboardCount(){this.appState.dispatch(new P.wh)}averageOrderValue(Ue){this.appState.dispatch(new P.mN(Ue))}totalCustomersList(Ue){this.appState.dispatch(new P.Dr(Ue))}getTopSellingProductListCount(Ue){this.appState.dispatch(new P.WR(Ue))}totalRevenue(Ue){this.appState.dispatch(new P.c7(Ue))}totalOrders(Ue){this.appState.dispatch(new P.AA(Ue))}newCustomers(Ue){this.appState.dispatch(new P.$y(Ue))}averageConversionRatio(Ue){this.appState.dispatch(new P.qj(Ue))}transactionValues(Ue){this.appState.dispatch(new P.j(Ue))}vendor(Ue){this.appState.dispatch(new P.QA(Ue))}salesgraph(Ue){this.appState.dispatch(new P.KJ(Ue))}weeklysalesproduct(Ue){this.appState.dispatch(new P.vs(Ue))}toptenweeklyproducts(Ue){this.appState.dispatch(new P.gF(Ue))}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)(g.\u0275\u0275inject(Ae.yh))},Ge.\u0275prov=g.\u0275\u0275defineInjectable({token:Ge,factory:Ge.\u0275fac}),Ge})();var Ze=Da(97582),Lr=Da(39646),fe=Da(54004),Ve=Da(63900),He=Da(70262),wr=Da(18505);class ar{constructor(Dr,Ue){this.action$=Dr,this.dashboardService=Ue,this.doTopSellingProducts$=this.action$.pipe((0,W.l4)(P.MF.GET_TOP_SELLING_PRODUCTS),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.getTopSellingProducts(Ye).pipe((0,Ve.w)(ir=>[new P.eG(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.yZ(ir)))))),this.doSalesOrderList$=this.action$.pipe((0,W.l4)(P.MF.GET_SALES_ORDER_LIST),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.getSalesOrders(Ye).pipe((0,Ve.w)(ir=>[new P.ki(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.nH(ir)))))),this.doVisitorLogs$=this.action$.pipe((0,W.l4)(P.MF.GET_VISITOR_LOG_LIST),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.getVisitorsList(Ye).pipe((0,Ve.w)(ir=>[new P.nK(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.Um(ir)))))),this.doRecentVisitorList$=this.action$.pipe((0,W.l4)(P.MF.GET_RECENT_VISITOR_LIST),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.getRecentVisitorsList(Ye).pipe((0,Ve.w)(ir=>[new P.mZ(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.WO(ir)))))),this.doRecentSellingProducts$=this.action$.pipe((0,W.l4)(P.MF.GET_RECENT_SELLING_PRODUCT),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.getRecentSellingProductList(Ye).pipe((0,Ve.w)(ir=>[new P.f_(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.IQ(ir)))))),this.doItemPageCount$=this.action$.pipe((0,W.l4)(P.MF.GET_ITEMS_PAGECOUNT),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(()=>this.dashboardService.getItemsPerPageCount().pipe((0,wr.b)(Ye=>{sessionStorage.setItem("itemsPerPage",Ye.data[0].itemsPerPage)}),(0,Ve.w)(Ye=>[new P.wZ(Ye)]),(0,He.K)(Ye=>(0,Lr.of)(new P.zF(Ye)))))),this.dashboardCount$=this.action$.pipe((0,W.l4)(P.MF.GET_DASHBOARD_COUNT),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.getDashboardCount().pipe((0,Ve.w)(ir=>[new P.j_(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.SS(ir)))))),this.averageOrderValue$=this.action$.pipe((0,W.l4)(P.MF.AVERAGE_ORDER_VALUE),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.averageOrderValue(Ye).pipe((0,Ve.w)(ir=>[new P.l6(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.UO(ir)))))),this.totalCustomersList$=this.action$.pipe((0,W.l4)(P.MF.TOTAL_CUSTOMERS_LIST),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.totalCustomersList(Ye).pipe((0,Ve.w)(ir=>[new P.Ue(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.x4(ir)))))),this.getTopSellingProductListCount$=this.action$.pipe((0,W.l4)(P.MF.TOP_SELLING_PRODUCT_COUNT),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.getTopSellingProductListCount(Ye).pipe((0,Ve.w)(ir=>[new P.zD(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.mX(ir)))))),this.totalRevenue$=this.action$.pipe((0,W.l4)(P.MF.TOTAL_REVENUE),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.totalRevenue(Ye).pipe((0,Ve.w)(ir=>[new P._2(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.C4(ir)))))),this.totalOrders$=this.action$.pipe((0,W.l4)(P.MF.TOTAL_ORDERS),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.totalOrders(Ye).pipe((0,Ve.w)(ir=>[new P.EI(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.Mw(ir)))))),this.newCustomers$=this.action$.pipe((0,W.l4)(P.MF.NEW_CUSTOMERS),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.newCustomers(Ye).pipe((0,Ve.w)(ir=>[new P.De(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.Qt(ir)))))),this.averageConversionRatio$=this.action$.pipe((0,W.l4)(P.MF.AVERAGE_CONVERSION_RATIO),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.averageConversionRatio(Ye).pipe((0,Ve.w)(ir=>[new P.p0(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.XE(ir)))))),this.transactionValues$=this.action$.pipe((0,W.l4)(P.MF.TRANSACTION_VALUES),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.transactionValues(Ye).pipe((0,Ve.w)(ir=>[new P.J2(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.ti(ir)))))),this.vendor$=this.action$.pipe((0,W.l4)(P.MF.VENDOR),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.vendor(Ye).pipe((0,Ve.w)(ir=>[new P.Gb(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.eB(ir)))))),this.salesgraph$=this.action$.pipe((0,W.l4)(P.MF.SALESGRAPH),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.salesgraph(Ye).pipe((0,Ve.w)(ir=>[new P.X0(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.fn(ir)))))),this.weeklysalesproduct$=this.action$.pipe((0,W.l4)(P.MF.WEEKLYSALESPRODUCT),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.weeklysalesproduct(Ye).pipe((0,Ve.w)(ir=>[new P.Xg(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.FG(ir)))))),this.toptenweeklyproducts$=this.action$.pipe((0,W.l4)(P.MF.TOPTENWEEKLYPRODUCTS),(0,fe.U)(Ye=>Ye.payload),(0,Ve.w)(Ye=>this.dashboardService.toptenweeklyproducts(Ye).pipe((0,Ve.w)(ir=>[new P.p$(ir)]),(0,He.K)(ir=>(0,Lr.of)(new P.qs(ir))))))}}ar.\u0275fac=function(Dr){return new(Dr||ar)(g.\u0275\u0275inject(W.eX),g.\u0275\u0275inject(i))},ar.\u0275prov=g.\u0275\u0275defineInjectable({token:ar,factory:ar.\u0275fac}),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"doTopSellingProducts$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"doSalesOrderList$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"doVisitorLogs$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"doRecentVisitorList$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"doRecentSellingProducts$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"doItemPageCount$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"dashboardCount$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"averageOrderValue$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"totalCustomersList$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"getTopSellingProductListCount$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"totalRevenue$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"totalOrders$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"newCustomers$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"averageConversionRatio$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"transactionValues$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"vendor$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"salesgraph$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"weeklysalesproduct$",void 0),(0,Ze.gn)([(0,W.Qm)()],ar.prototype,"toptenweeklyproducts$",void 0);var ie=Da(99291),ne=Da(92340),ve=Da(73056),xe=Da(22313),Te=Da(97941),be=Da(85699),Pe=Da(22290),Be=Da(24376),Qe=Da(33052);const Ke=["plot"],tr=["*"];class vr{static setModuleName(Dr){vr.moduleName=Dr}static getModuleName(){return vr.moduleName}static setPlotly(Dr){if("object"==typeof Dr&&"function"!=typeof Dr.react)throw new Error("Invalid plotly.js version. Please, use any version above 1.40.0");vr.plotly=Dr}static insert(Dr){return-1===vr.instances.indexOf(Dr)&&vr.instances.push(Dr),Dr}static remove(Dr){const Ue=vr.instances.indexOf(Dr);Ue>=0&&(vr.instances.splice(Ue,1),vr.plotly.purge(Dr))}getInstanceByDivId(Dr){for(const Ue of vr.instances)if(Ue&&Ue.id===Dr)return Ue}getPlotly(){return(0,Ze.mG)(this,void 0,void 0,function*(){return yield this.waitFor(()=>"waiting"!==this._getPlotly()),this._getPlotly()})}_getPlotly(){if(void 0===vr.plotly)throw new Error("ViaCDN"===vr.moduleName?"Error loading Peer dependency plotly.js from CDN url":"Peer dependency plotly.js isn't installed");return vr.plotly}waitFor(Dr){return new Promise(Ue=>{const Ye=()=>{Dr()?Ue():setTimeout(Ye,10)};Ye()})}newPlot(Dr,Ue,Ye,ir,Yr){return(0,Ze.mG)(this,void 0,void 0,function*(){if(yield this.waitFor(()=>"waiting"!==this._getPlotly()),Yr){const gn={data:Ue,layout:Ye,config:ir,frames:Yr};return this._getPlotly().newPlot(Dr,gn).then(()=>vr.insert(Dr))}return this._getPlotly().newPlot(Dr,Ue,Ye,ir).then(()=>vr.insert(Dr))})}plot(Dr,Ue,Ye,ir,Yr){if(Yr){const gn={data:Ue,layout:Ye,config:ir,frames:Yr};return"function"==typeof this._getPlotly().plot?this._getPlotly().plot(Dr,gn):this._getPlotly().newPlot(Dr,gn)}return"function"==typeof this._getPlotly().plot?this._getPlotly().plot(Dr,Ue,Ye,ir):this._getPlotly().newPlot(Dr,Ue,Ye,ir)}update(Dr,Ue,Ye,ir,Yr){if(Yr){const gn={data:Ue,layout:Ye,config:ir,frames:Yr};return this._getPlotly().react(Dr,gn)}return this._getPlotly().react(Dr,Ue,Ye,ir)}resize(Dr){return this._getPlotly().Plots.resize(Dr)}}vr.\u0275fac=function(Dr){return new(Dr||vr)},vr.instances=[],vr.plotly=void 0,vr.moduleName=void 0,vr.\u0275prov=g.\u0275\u0275defineInjectable({factory:function(){return new vr},token:vr,providedIn:"root"});let Ht=(()=>{class Ge{constructor(Ue,Ye,ir){this.plotly=Ue,this.iterableDiffers=Ye,this.keyValueDiffers=ir,this.defaultClassName="js-plotly-plot",this.revision=0,this.debug=!1,this.useResizeHandler=!1,this.updateOnLayoutChange=!0,this.updateOnDataChange=!0,this.updateOnlyWithRevision=!1,this.initialized=new g.EventEmitter,this.update=new g.EventEmitter,this.purge=new g.EventEmitter,this.error=new g.EventEmitter,this.afterExport=new g.EventEmitter,this.afterPlot=new g.EventEmitter,this.animated=new g.EventEmitter,this.animatingFrame=new g.EventEmitter,this.animationInterrupted=new g.EventEmitter,this.autoSize=new g.EventEmitter,this.beforeExport=new g.EventEmitter,this.buttonClicked=new g.EventEmitter,this.click=new g.EventEmitter,this.plotlyClick=new g.EventEmitter,this.clickAnnotation=new g.EventEmitter,this.deselect=new g.EventEmitter,this.doubleClick=new g.EventEmitter,this.framework=new g.EventEmitter,this.hover=new g.EventEmitter,this.legendClick=new g.EventEmitter,this.legendDoubleClick=new g.EventEmitter,this.react=new g.EventEmitter,this.relayout=new g.EventEmitter,this.restyle=new g.EventEmitter,this.redraw=new g.EventEmitter,this.selected=new g.EventEmitter,this.selecting=new g.EventEmitter,this.sliderChange=new g.EventEmitter,this.sliderEnd=new g.EventEmitter,this.sliderStart=new g.EventEmitter,this.transitioning=new g.EventEmitter,this.transitionInterrupted=new g.EventEmitter,this.unhover=new g.EventEmitter,this.relayouting=new g.EventEmitter,this.treemapclick=new g.EventEmitter,this.sunburstclick=new g.EventEmitter,this.eventNames=["afterExport","afterPlot","animated","animatingFrame","animationInterrupted","autoSize","beforeExport","buttonClicked","clickAnnotation","deselect","doubleClick","framework","hover","legendClick","legendDoubleClick","react","relayout","restyle","redraw","selected","selecting","sliderChange","sliderEnd","sliderStart","transitioning","transitionInterrupted","unhover","relayouting","treemapclick","sunburstclick"]}ngOnInit(){this.createPlot().then(()=>{const Ue=this.createFigure();this.initialized.emit(Ue)}),this.click.observers.length>0&&console.error("DEPRECATED: Reconsider using `(plotlyClick)` instead of `(click)` to avoid event conflict. Please check https://github.com/plotly/angular-plotly.js#FAQ")}ngOnDestroy(){"function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0);const Ue=this.createFigure();this.purge.emit(Ue),vr.remove(this.plotlyInstance)}ngOnChanges(Ue){let Ye=!1;const ir=Ue.revision;ir&&!ir.isFirstChange()&&(Ye=!0);const Yr=Ue.debug;Yr&&!Yr.isFirstChange()&&(Ye=!0),Ye&&this.updatePlot(),this.updateWindowResizeHandler()}ngDoCheck(){if(this.updateOnlyWithRevision)return!1;let Ue=!1;this.updateOnLayoutChange&&(this.layoutDiffer?this.layoutDiffer.diff(this.layout)&&(Ue=!0):this.layoutDiffer=this.layout?this.keyValueDiffers.find(this.layout).create():void 0),this.updateOnDataChange&&(this.dataDiffer?this.dataDiffer.diff(this.data)&&(Ue=!0):this.dataDiffer=Array.isArray(this.data)?this.iterableDiffers.find(this.data).create(this.dataDifferTrackBy):void 0),Ue&&this.plotlyInstance&&this.updatePlot()}getWindow(){return window}getClassName(){let Ue=[this.defaultClassName];return Array.isArray(this.className)?Ue=Ue.concat(this.className):this.className&&Ue.push(this.className),Ue.join(" ")}createPlot(){return this.plotly.newPlot(this.plotEl.nativeElement,this.data,this.layout,this.config,this.frames).then(Ue=>{this.plotlyInstance=Ue,this.getWindow().gd=this.debug?Ue:void 0,this.eventNames.forEach(Ye=>{const ir=`plotly_${Ye.toLowerCase()}`;Ue.on(ir,Yr=>this[Ye].emit(Yr))}),Ue.on("plotly_click",Ye=>{this.click.emit(Ye),this.plotlyClick.emit(Ye)}),this.updateWindowResizeHandler()},Ue=>{console.error("Error while plotting:",Ue),this.error.emit(Ue)})}createFigure(){const Ue=this.plotlyInstance;return{data:Ue.data,layout:Ue.layout,frames:Ue._transitionData?Ue._transitionData._frames:null}}updatePlot(){if(!this.plotlyInstance){const Ye=new Error("Plotly component wasn't initialized");throw this.error.emit(Ye),Ye}const Ue=Object.assign({},this.layout);return this.plotly.update(this.plotlyInstance,this.data,Ue,this.config,this.frames).then(()=>{const Ye=this.createFigure();this.update.emit(Ye)},Ye=>{console.error("Error while updating plot:",Ye),this.error.emit(Ye)})}updateWindowResizeHandler(){this.useResizeHandler?void 0===this.resizeHandler&&(this.resizeHandler=()=>this.plotly.resize(this.plotlyInstance),this.getWindow().addEventListener("resize",this.resizeHandler)):"function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0)}dataDifferTrackBy(Ue,Ye){const ir=Object.assign({},Ye,{uid:""});return JSON.stringify(ir)}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)(g.\u0275\u0275directiveInject(vr),g.\u0275\u0275directiveInject(g.IterableDiffers),g.\u0275\u0275directiveInject(g.KeyValueDiffers))},Ge.\u0275cmp=g.\u0275\u0275defineComponent({type:Ge,selectors:[["plotly-plot"]],viewQuery:function(Ue,Ye){if(1&Ue&&g.\u0275\u0275viewQuery(Ke,7),2&Ue){let ir;g.\u0275\u0275queryRefresh(ir=g.\u0275\u0275loadQuery())&&(Ye.plotEl=ir.first)}},inputs:{revision:"revision",debug:"debug",useResizeHandler:"useResizeHandler",updateOnLayoutChange:"updateOnLayoutChange",updateOnDataChange:"updateOnDataChange",updateOnlyWithRevision:"updateOnlyWithRevision",data:"data",layout:"layout",config:"config",frames:"frames",style:"style",divId:"divId",className:"className"},outputs:{initialized:"initialized",update:"update",purge:"purge",error:"error",afterExport:"afterExport",afterPlot:"afterPlot",animated:"animated",animatingFrame:"animatingFrame",animationInterrupted:"animationInterrupted",autoSize:"autoSize",beforeExport:"beforeExport",buttonClicked:"buttonClicked",click:"click",plotlyClick:"plotlyClick",clickAnnotation:"clickAnnotation",deselect:"deselect",doubleClick:"doubleClick",framework:"framework",hover:"hover",legendClick:"legendClick",legendDoubleClick:"legendDoubleClick",react:"react",relayout:"relayout",restyle:"restyle",redraw:"redraw",selected:"selected",selecting:"selecting",sliderChange:"sliderChange",sliderEnd:"sliderEnd",sliderStart:"sliderStart",transitioning:"transitioning",transitionInterrupted:"transitionInterrupted",unhover:"unhover",relayouting:"relayouting",treemapclick:"treemapclick",sunburstclick:"sunburstclick"},features:[g.\u0275\u0275ProvidersFeature([vr]),g.\u0275\u0275NgOnChangesFeature],ngContentSelectors:tr,decls:3,vars:3,consts:[[3,"ngClass","ngStyle"],["plot",""]],template:function(Ue,Ye){1&Ue&&(g.\u0275\u0275projectionDef(),g.\u0275\u0275elementStart(0,"div",0,1),g.\u0275\u0275projection(2),g.\u0275\u0275elementEnd()),2&Ue&&(g.\u0275\u0275property("ngClass",Ye.getClassName())("ngStyle",Ye.style),g.\u0275\u0275attribute("id",Ye.divId))},directives:[Va.NgClass,Va.NgStyle],encapsulation:2}),Ge})(),Nt=(()=>{class Ge{constructor(){}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)},Ge.\u0275mod=g.\u0275\u0275defineNgModule({type:Ge}),Ge.\u0275inj=g.\u0275\u0275defineInjector({providers:[vr],imports:[[Va.CommonModule]]}),Ge})(),Se=(()=>{class Ge{constructor(){if(!this.isValid())throw new Error("Invalid PlotlyJS object. Please check https://github.com/plotly/angular-plotly.js#quick-start to see how to add PlotlyJS to your project.");vr.setPlotly(Ge.plotlyjs)}isValid(){return void 0!==Ge.plotlyjs&&("function"==typeof Ge.plotlyjs.plot||"function"==typeof Ge.plotlyjs.newPlot)}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)},Ge.\u0275mod=g.\u0275\u0275defineNgModule({type:Ge}),Ge.\u0275inj=g.\u0275\u0275defineInjector({providers:[vr],imports:[[Va.CommonModule,Nt],Nt]}),Ge.plotlyjs={},Ge})(),Le=(()=>{class Ge{constructor(Ue){this.plotlyService=Ue,vr.setModuleName("ViaCDN")}static setPlotlyVersion(Ue){if("latest"!==Ue&&!/^\d\.\d{1,2}\.\d{1,2}$/.test(Ue))throw new Error("Invalid plotly version. Please set 'latest' or version number (i.e.: 1.4.3)");Ge.loadViaCDN(),Ge.plotlyVersion=Ue}static setPlotlyBundle(Ue){if(!(null===Ue||Ge.plotlyBundleNames.indexOf(Ue)>=0)){const ir=Ge.plotlyBundleNames.map(Yr=>`"${Yr}"`).join(", ");throw new Error(`Invalid plotly bundle. Please set to null for full or ${ir} for a partial bundle.`)}Ge.plotlyBundle=Ue}static loadViaCDN(){vr.setPlotly("waiting"),setTimeout(()=>{const Ye=null==Ge.plotlyBundle?`https://cdn.plot.ly/plotly-${Ge.plotlyVersion}.min.js`:`https://cdn.plot.ly/plotly-${Ge.plotlyBundle}-${Ge.plotlyVersion}.min.js`,ir=document.createElement("script");ir.type="text/javascript",ir.src=Ye,ir.onerror=()=>console.error(`Error loading plotly.js library from ${Ye}`),document.getElementsByTagName("head")[0].appendChild(ir);let gn=200;const Zn=()=>{const ta=window.Plotly;if(ta)vr.setPlotly(ta);else{if(!(gn>0))throw new Error(`Error loading plotly.js library from ${Ye}. Timeout.`);gn--,setTimeout(Zn,50)}};Zn()})}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)(g.\u0275\u0275inject(vr))},Ge.\u0275mod=g.\u0275\u0275defineNgModule({type:Ge}),Ge.\u0275inj=g.\u0275\u0275defineInjector({providers:[vr],imports:[[Va.CommonModule,Nt],Nt]}),Ge.plotlyBundle=null,Ge.plotlyVersion="latest",Ge.plotlyBundleNames=["basic","cartesian","geo","gl3d","gl2d","mapbox","finance"],Ge})();var rr=Da(90221),or=Da(10518),qe=Da(47296),De=Da(84218),sr=Da(86400);function gr(Ge,Dr){1&Ge&&g.\u0275\u0275element(0,"span",72)}function dr(Ge,Dr){1&Ge&&g.\u0275\u0275element(0,"span",72)}function Pr(Ge,Dr){1&Ge&&g.\u0275\u0275element(0,"span",72)}function qr(Ge,Dr){1&Ge&&g.\u0275\u0275element(0,"span",72)}function Er(Ge,Dr){1&Ge&&g.\u0275\u0275element(0,"span",73)}function Zr(Ge,Dr){if(1&Ge){const Ue=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"img",82),g.\u0275\u0275listener("load",function(){g.\u0275\u0275restoreView(Ue);const ir=g.\u0275\u0275nextContext().$implicit;return g.\u0275\u0275nextContext().topSellingImageLoading(ir.productId)}),g.\u0275\u0275elementEnd()}if(2&Ge){const Ue=g.\u0275\u0275nextContext().$implicit,Ye=g.\u0275\u0275nextContext();g.\u0275\u0275property("src",Ye.imageURL+"?path="+Ue.containerName+"&name="+Ue.image+"&width=40&height=40",g.\u0275\u0275sanitizeUrl)("alt",Ue.productName)("hidden",!Ye.topSellingImage[Ue.productId])}}function rn(Ge,Dr){1&Ge&&(g.\u0275\u0275elementStart(0,"span",83),g.\u0275\u0275text(1,"..."),g.\u0275\u0275elementEnd())}function zr(Ge,Dr){if(1&Ge&&(g.\u0275\u0275elementStart(0,"h4"),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Ge){const Ue=g.\u0275\u0275nextContext().$implicit;g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate2("",g.\u0275\u0275pipeBind1(2,2,"Dashboard.Vendors")," : ",Ue.companyName,"")}}function Pn(Ge,Dr){if(1&Ge&&(g.\u0275\u0275elementStart(0,"div",74)(1,"div",75)(2,"div",76),g.\u0275\u0275text(3,"\n= "),g.\u0275\u0275template(4,Zr,1,3,"img",77),g.\u0275\u0275element(5,"img",78),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(6,"div",79)(7,"h3"),g.\u0275\u0275text(8),g.\u0275\u0275pipe(9,"slice"),g.\u0275\u0275template(10,rn,2,0,"span",80),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(11,zr,3,4,"h4",81),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(12,"h2"),g.\u0275\u0275text(13),g.\u0275\u0275pipe(14,"translate"),g.\u0275\u0275elementEnd()()),2&Ge){const Ue=Dr.$implicit,Ye=g.\u0275\u0275nextContext();g.\u0275\u0275advance(4),g.\u0275\u0275property("ngIf",Ue),g.\u0275\u0275advance(1),g.\u0275\u0275property("hidden",Ye.topSellingImage[Ue.productId]),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate1("",g.\u0275\u0275pipeBind3(9,7,Ue.productName,0,51)," "),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",(null==Ue.productName?null:Ue.productName.length)>51),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",null!==Ue.companyName),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate2("",Ue.topPerformingProductCount," ",g.\u0275\u0275pipeBind1(14,11,"Dashboard.nos"),"")}}function An(Ge,Dr){1&Ge&&(g.\u0275\u0275elementStart(0,"h2",84),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Ge&&(g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(2,1,"marketplace.product.NoProductsfound")))}function lr(Ge,Dr){1&Ge&&g.\u0275\u0275element(0,"span",85)}function yr(Ge,Dr){if(1&Ge&&(g.\u0275\u0275elementStart(0,"div",86)(1,"div",87),g.\u0275\u0275element(2,"img",88),g.\u0275\u0275elementStart(3,"span"),g.\u0275\u0275text(4),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(5,"div",89)(6,"h4",90),g.\u0275\u0275text(7),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(8,"p"),g.\u0275\u0275text(9),g.\u0275\u0275elementEnd()()()),2&Ge){const Ue=Dr.$implicit,Ye=g.\u0275\u0275nextContext();g.\u0275\u0275advance(2),g.\u0275\u0275property("src",Ye.imageURL+"?path="+Ue.avatarPath+"&name="+Ue.avatar+"&width=50&height=50",g.\u0275\u0275sanitizeUrl),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(Ue.orderCount),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(Ue.firstName),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(Ue.paymentCity)}}function Fr(Ge,Dr){1&Ge&&g.\u0275\u0275element(0,"span",91)}function Br(Ge,Dr){1&Ge&&g.\u0275\u0275element(0,"span",91)}function _r(Ge,Dr){1&Ge&&g.\u0275\u0275element(0,"span",72)}function dn(Ge,Dr){1&Ge&&g.\u0275\u0275element(0,"span",72)}function hn(Ge,Dr){if(1&Ge&&(g.\u0275\u0275elementStart(0,"ng-option",92),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),2&Ge){const Ue=Dr.$implicit;g.\u0275\u0275propertyInterpolate("value",Ue.Values),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(Ue.name)}}function xn(Ge,Dr){if(1&Ge&&(g.\u0275\u0275elementStart(0,"ng-option",92),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),2&Ge){const Ue=Dr.$implicit;g.\u0275\u0275propertyInterpolate("value",Ue.Values),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(Ue.name)}}function En(Ge,Dr){if(1&Ge&&g.\u0275\u0275element(0,"plotly-plot",93),2&Ge){const Ue=g.\u0275\u0275nextContext();g.\u0275\u0275property("config",Ue.salesconfig)("data",Ue.salesdata)("layout",Ue.saleslayout)}}function Vn(Ge,Dr){1&Ge&&(g.\u0275\u0275elementStart(0,"p",94),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Ge&&(g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(2,1,"Dashboard.NoDatafound")))}function Gn(Ge,Dr){if(1&Ge&&(g.\u0275\u0275elementStart(0,"ng-option",92),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),2&Ge){const Ue=Dr.$implicit;g.\u0275\u0275propertyInterpolate("value",Ue.Values),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(Ue.name)}}function ia(Ge,Dr){if(1&Ge&&(g.\u0275\u0275elementStart(0,"ng-option",92),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),2&Ge){const Ue=Dr.$implicit;g.\u0275\u0275propertyInterpolate("value",Ue.Values),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(Ue.name)}}function Kn(Ge,Dr){if(1&Ge&&g.\u0275\u0275element(0,"plotly-plot",93),2&Ge){const Ue=g.\u0275\u0275nextContext();g.\u0275\u0275property("config",Ue.config)("data",Ue.data)("layout",Ue.layout)}}function Qn(Ge,Dr){1&Ge&&(g.\u0275\u0275elementStart(0,"p",94),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Ge&&(g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(2,1,"Dashboard.NoMonthlysalesfound")))}function Tr(Ge,Dr){if(1&Ge&&(g.\u0275\u0275elementStart(0,"ng-option",92),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),2&Ge){const Ue=Dr.$implicit;g.\u0275\u0275propertyInterpolate("value",Ue.vendorId),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(Ue.firstName)}}function an(Ge,Dr){if(1&Ge&&(g.\u0275\u0275elementStart(0,"ng-option",92),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),2&Ge){const Ue=Dr.$implicit;g.\u0275\u0275propertyInterpolate("value",Ue.Values),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(Ue.name)}}function sn(Ge,Dr){if(1&Ge&&(g.\u0275\u0275elementStart(0,"div",95)(1,"div",96)(2,"h3"),g.\u0275\u0275text(3),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(4,"p"),g.\u0275\u0275text(5),g.\u0275\u0275pipe(6,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(7,"p"),g.\u0275\u0275text(8),g.\u0275\u0275pipe(9,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(10,"p"),g.\u0275\u0275text(11),g.\u0275\u0275pipe(12,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(13,"p"),g.\u0275\u0275text(14),g.\u0275\u0275pipe(15,"translate"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(16,"div",97),g.\u0275\u0275element(17,"ngx-charts-pie-chart",98),g.\u0275\u0275elementEnd()()),2&Ge){const Ue=g.\u0275\u0275nextContext();g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(null==Ue.vendorDetails?null:Ue.vendorDetails.companyName),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate2("",g.\u0275\u0275pipeBind1(6,19,"Sales.Orders.Products")," -",null==Ue.vendorDetails?null:Ue.vendorDetails.productCount,""),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate2("",g.\u0275\u0275pipeBind1(9,21,"Dashboard.productsSold")," -",null==Ue.vendorDetails?null:Ue.vendorDetails.productSoldCount,""),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate2("",g.\u0275\u0275pipeBind1(12,23,"Dashboard.outofStock")," -",null==Ue.vendorDetails?null:Ue.vendorDetails.outOfStockCount,""),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate2("",g.\u0275\u0275pipeBind1(15,25,"Dashboard.delivered")," -",null==Ue.vendorDetails?null:Ue.vendorDetails.deliveryCount,""),g.\u0275\u0275advance(3),g.\u0275\u0275property("results",Ue.vendors)("view",Ue.view)("scheme",Ue.colorScheme)("gradient",Ue.gradient)("legend",!1)("legendPosition",Ue.legendPosition)("labels",Ue.showLabels)("doughnut",Ue.isDoughnut)("trimLabels",!1)("arcWidth",-.4)}}function pn(Ge,Dr){1&Ge&&(g.\u0275\u0275elementStart(0,"div",94),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Ge&&(g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(2,1,"Dashboard.NoDatafound")))}function Fn(Ge,Dr){if(1&Ge){const Ue=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"p",99)(1,"input",100),g.\u0275\u0275listener("ngModelChange",function(ir){return g.\u0275\u0275restoreView(Ue).$implicit.checked=ir})("change",function(ir){const Yr=g.\u0275\u0275restoreView(Ue),gn=Yr.$implicit,Zn=Yr.index;return g.\u0275\u0275nextContext().checkboxweekly(ir,gn,Zn)}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(2,"span",101),g.\u0275\u0275text(3),g.\u0275\u0275elementEnd()()}if(2&Ge){const Ue=Dr.$implicit;g.\u0275\u0275advance(1),g.\u0275\u0275property("ngModel",Ue.checked),g.\u0275\u0275advance(1),g.\u0275\u0275propertyInterpolate("ngbTooltip",Ue.productName),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate1("",Ue.productName," ")}}function Cn(Ge,Dr){if(1&Ge&&g.\u0275\u0275element(0,"canvas",102),2&Ge){const Ue=g.\u0275\u0275nextContext();g.\u0275\u0275property("datasets",Ue.toptenweeklysalesdata)("labels",Ue.demoradarChartLabels)("type","radar")("options",Ue.optionsradar)("legend",!1)}}function Ln(Ge,Dr){1&Ge&&(g.\u0275\u0275elementStart(0,"div",94),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Ge&&(g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(2,1,"Dashboard.NoDataFound")))}function On(Ge,Dr){if(1&Ge&&(g.\u0275\u0275elementStart(0,"ng-option",92),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),2&Ge){const Ue=Dr.$implicit;g.\u0275\u0275propertyInterpolate("value",Ue.Values),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(Ue.name)}}function Jn(Ge,Dr){1&Ge&&g.\u0275\u0275element(0,"span",103)}function ya(Ge,Dr){if(1&Ge&&g.\u0275\u0275element(0,"plotly-plot",104),2&Ge){const Ue=g.\u0275\u0275nextContext();g.\u0275\u0275property("data",Ue.data1)("layout",Ue.layout1)("config",Ue.config1)}}function Ba(Ge,Dr){1&Ge&&(g.\u0275\u0275elementStart(0,"p",94),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),2&Ge&&(g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(2,1,"Dashboard.NoDatafound")))}const br=[{path:"",component:(()=>{class Ge{constructor(Ue,Ye,ir,Yr,gn,Zn,ta){this.dashboardSandbox=Ue,this.router=Ye,this.configService=ir,this.titleService=Yr,this.layoutSandbox=gn,this.sellerSandbox=Zn,this.toastr=ta,this.view=[300,300],this.imageURL=this.configService.getImageUrl(),this.showXAxis=!0,this.showYAxis=!0,this.gradient=!1,this.showLegend=!0,this.topSellingImage={},this.recentSellingImage={},this.colorScheme={domain:["#704FC4","#4B852C","#B67A3D","#5B6FC8","#25706F"]},this.topProducts="4",this.averagevalue="4",this.newcustomerscount="4",this.totalorderscount="4",this.totalRevenues="4",this.averageConvertionRatios="4",this.customersVisitmonth="3",this.customersVisityear="2020",this.year=[],this.transactionlistyear="2021",this.vendors=[],this.vendorsyear="2020",this.vendorID=null,this.vendorDetails={},this.top10weeklyproductlist=[],this.xvalue=[],this.yvalue=[],this.title="demo",this.xvalue1=[],this.yvalue1=["Jan","Feb","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],this.title1="demo",this.showLabels=!0,this.isDoughnut=!0,this.legendPosition="below",this.salesgraphyear=2021,this.salesgraphmonth="8",this.salesxvalue=[],this.salesyvalue=[],this.resultValue=[],this.toptenweeklysalesdata=[],this.top10weeklycheckeddata=[],this.demoradarChartLabels=["SUN","MON","TUE","WED","THU","FRI","SAT"],this.demoradarChartData=[{data:[46,46,46,46,46,46],label:"Company A"},{data:[48,48,48,48,48,48],label:"Company B"},{data:[52,52,52,52,52,52],label:"Company c"},{data:[30,30,30,30,30,30],label:"Company D"},{data:[30,30,30,30,30,30],label:"Company E"}],this.radarChartType="radar",this.optionsradar={responsive:!1,maintainAspectRatio:!1,legend:{position:"left",responsive:!0,maintainAspectRatio:!0,labels:{boxWidth:15}},scale:{pointLabels:{fontStyle:"bold"}}},this.subscriptions=[],this.currentDate={year:(new Date).getFullYear(),month:(new Date).getMonth()+1,day:(new Date).getDate()},this.salesgraphyear=this.currentDate.year.toString(),this.customersVisityear=this.currentDate.year.toString(),this.transactionlistyear=this.currentDate.year.toString(),this.vendorsyear=this.currentDate.year.toString(),this.salesgraphmonth=this.currentDate.month.toString(),this.customersVisitmonth=this.currentDate.month.toString();for(let Xn=2010;Xn<=this.currentDate.year;Xn++)this.year.push({name:Xn.toString(),Values:Xn.toString()});this.month=[{name:"Jan",Values:"1"},{name:"Feb",Values:"2"},{name:"Mar",Values:"3"},{name:"Apr",Values:"4"},{name:"May",Values:"5"},{name:"June",Values:"6"},{name:"July",Values:"7"},{name:"Aug",Values:"8"},{name:"Sep",Values:"9"},{name:"Oct",Values:"10"},{name:"Nov",Values:"11"},{name:"Dec",Values:"12"}]}ngOnInit(){this.dashboardSandbox.getDashboardCount(),this.titleService.setTitle("Dashboard"),this.dashboardSandbox.getRecentVisitorList(),this.dashboardSandbox.getRecentSellingProductList(),this.dashboardSandbox.getItemPerPageCount(),this.productUrl=ne.N.productUrl,this.averageOrderValue(),this.getTopSellingProductList(),this.totalRevenue(),this.totalOrders(),this.newCustomers(),this.averageConversionRatio(),this.getSalesOrderList(),this.transactionValues(),this.sellerList(),this.salesgraph(),this.toptenweeklyproducts()}viewProduct(Ue){window.open(this.productUrl+"products/productdetails/"+Ue)}viewOrder(Ue){this.router.navigate(["/sales/orders/vieworder",Ue])}topSellingImageLoading(Ue){this.topSellingImage[Ue]=!0}recentSellingImageLoading(Ue){this.recentSellingImage[Ue]=!0}averageOrderValue(){let Ue={limit:10,offset:0,count:0};Ue.duration=this.averagevalue,this.dashboardSandbox.averageOrderValue(Ue)}getTopSellingProductList(){let Ue={limit:10,offset:0,count:0};Ue.duration=this.topProducts,this.dashboardSandbox.getTopSellingProductList(Ue),this.subscriptions.push(this.dashboardSandbox.topSellingProducts$.subscribe(Ye=>{})),Ue.count=!0,this.dashboardSandbox.getTopSellingProductListCount(Ue)}totalRevenue(){let Ue={};Ue.duration=this.totalRevenues,this.dashboardSandbox.totalRevenue(Ue)}totalOrders(){let Ue={};Ue.duration=this.totalorderscount,this.dashboardSandbox.totalOrders(Ue)}newCustomers(){let Ue={};Ue.duration=this.newcustomerscount,this.dashboardSandbox.newCustomers(Ue)}averageConversionRatio(){let Ue={};Ue.duration=this.averageConvertionRatios,this.dashboardSandbox.averageConversionRatio(Ue)}getSalesOrderList(){this.xvalue=[],this.yvalue=[],this.data=[];let Ue={};Ue.month=this.customersVisitmonth,Ue.year=this.customersVisityear,this.dashboardSandbox.getSalesOrderList(Ue),this.subscriptions.push(this.dashboardSandbox.salesOrderList$.subscribe(Ye=>{Ye&&0===this.xvalue.length&&0===this.yvalue.length&&(this.customervisits=Ye,this.customervisits.forEach(ir=>{this.xvalue.push(ir.dayOfMonth),this.yvalue.push(JSON.parse(ir.visitCount))}))})),this.trace1={type:"bar",x:this.xvalue,y:this.yvalue,marker:{color:"blue"}},this.data=[this.trace1],this.layout={height:300,autosize:!0,xaxis:{title:"Days",autorange:!0,showgrid:!1,zeroline:!1,showline:!0,showticklabels:!0},yaxis:{title:"Customer Visits",autorange:!0,showgrid:!1,zeroline:!1,showline:!0},annotations:[{xref:"x1",yref:"y1",x:[1,2,3,4],y:[1,2,3,4],text:"",font:{family:"Arial",size:12,color:"rgb(50, 171, 96)"}}],showticklabels:!1,margin:{l:40,r:20,b:40,t:20,pad:4}},this.config={responsive:!0,displayModeBar:!1}}transactionValues(){this.xvalue1=[],this.layout1={},this.data1=[],this.yvalue1=[];let Ye={};Ye.year=this.transactionlistyear,this.dashboardSandbox.transactionValues(Ye),this.resultValue=[],this.subscriptions.push(this.dashboardSandbox.transactionValues$.subscribe(ir=>{ir&&0===this.xvalue1.length&&(this.transactionslist=ir,this.transactionslist.forEach(Yr=>{Yr&&(this.xvalue1.push(JSON.parse(Yr.ordercount)),this.yvalue1.push(function Ue(ir){return["January","February","March","April","May","June","July","August","September","October","November","December"][ir-1]}(Yr.month)),this.resultValue.push(Yr.ordercount+", $ "+Yr.orderAmount))}),this.layout1={height:300,autosize:!0,xaxis:{showgrid:!1,zeroline:!1,showline:!1,showticklabels:!1,fixedrange:!0},yaxis:{showgrid:!1,zeroline:!1,showline:!1,showticklabels:!0,fixedrange:!0},barmode:"stack",annotations:[{xref:"paper",yref:"paper",x:this.xvalue1,y:[""],text:"",font:{family:"Arial",size:12,color:"blue"}}],margin:{l:90,r:60,b:40,t:10,pad:10},bargap:.83},this.layout1.annotations=[],this.config1={responsive:!0,displayModeBar:!1},this.xvalue1.forEach((Yr,gn)=>{let Zn={};Zn={xref:"x1",yref:"y1",x:this.xvalue1[gn],y:gn,text:Array(30).fill("\xa0").join("")+this.resultValue[gn],font:{family:"Arial",size:12,color:"black"},showarrow:!1},this.layout1.annotations.push(Zn)}))})),this.trace11={type:"bar",x:this.xvalue1.reverse(),y:this.yvalue1.reverse(),orientation:"h",text:this.yvalue1.map(String),constrainoutsidetext:!0,textposition:"top center",insidetextanchor:"start",mode:"markers+text",marker:{color:"#14BAE1"}},this.data1=[this.trace11]}sellerList(){this.sellerSandbox.sellerList({limit:0,offset:0,status:1,count:0}),this.subscriptions.push(this.sellerSandbox.getSellerList$.subscribe(Ye=>{Ye&&(this.vendorList=Ye,this.vendorList=Ye.filter(ir=>1==ir.approvalFlag&&null!=ir.companyName),this.vendorID=this.vendorList[0].vendorId.toString(),this.vendor())}))}vendor(){let Ue={};Ue.vendorId=this.vendorID,Ue.duration=this.vendorsyear,this.dashboardSandbox.vendor(Ue),this.subscriptions.push(this.dashboardSandbox.vendor$.subscribe(Ye=>{(null==Ye?void 0:Ye.array)&&(this.vendors=Ye.array,this.vendorDetails=Ye.val)}))}salesgraph(){this.salesxvalue=[],this.saleslayout={},this.salesyvalue=[],this.salesdata=[];let Ue={};Ue.year=this.salesgraphyear,Ue.month=this.salesgraphmonth,this.dashboardSandbox.salesgraph(Ue),this.subscriptions.push(this.dashboardSandbox.salesgraph$.subscribe(Ye=>{Ye&&0===this.salesxvalue.length&&0===this.salesyvalue.length&&(this.salesgraphdata=Ye,this.salesgraphdata.forEach(ir=>{this.salesxvalue.push(ir.dayOfMonth),this.salesyvalue.push(JSON.parse(ir.productCount))}))})),this.salestrace={type:"scatter",x:this.salesxvalue,y:this.salesyvalue,mode:"lines",marker:{color:"#FDA677"}},this.salesdata=[this.salestrace],this.saleslayout={height:300,xaxis:{title:"Days",autorange:!0,showgrid:!1,zeroline:!1,showline:!0,showticklabels:!0},yaxis:{title:"Products Sold",autorange:!0,showgrid:!1,zeroline:!1,showline:!0},annotations:[{xref:"x1",yref:"y1",x:[1,2,3,4],y:[1,2,3,4],text:"",font:{family:"Arial",size:12,color:"rgb(50, 171, 96)"}}],showticklabels:!1,margin:{l:40,r:20,b:40,t:20,pad:4}},this.salesconfig={responsive:!0,displayModeBar:!1}}toptenweeklyproducts(){this.dashboardSandbox.toptenweeklyproducts({limit:10,offset:0,count:0,duration:2}),this.subscriptions.push(this.dashboardSandbox.toptenweeklyproducts$.subscribe(Ye=>{if(Ye&&Ye.length>0){let ir=Ye.map(Yr=>Object.assign(Object.assign({},Yr),{checked:!1}));this.top10weeklyproductlist=ir,this.top10weeklyproductlist.forEach((Yr,gn)=>{gn<3&&(Yr.checked=!0)}),this.top10weeklyproductdatalist=this.top10weeklyproductlist.filter(Yr=>Yr.checked),this.top10weeklycheckeddata=this.top10weeklyproductdatalist.filter(Yr=>Yr.productId),this.weeklysalesproduct()}}))}checkboxweekly(Ue,Ye){if(1==Ue.target.checked){if(this.top10weeklyproductdatalist.length>2)return this.toastr.error("Please select only three items"),this.top10weeklyproductlist.forEach(ir=>{ir.id==Ye.id&&(Ye.checked=!1)}),Ue.target.checked=!1;this.top10weeklyproductdatalist=this.top10weeklyproductlist.filter(ir=>{if(!0===ir.checked)return ir})}else 0==Ue.target.checked&&this.top10weeklyproductdatalist.forEach((ir,Yr)=>{ir.id==Ye.id&&this.top10weeklyproductdatalist.splice(Yr,1)});this.weeklysalesproduct()}weeklysalesproduct(){let Ue={};this.top10weeklyproductdatalist=this.top10weeklyproductlist.filter(Ye=>Ye.checked),this.top10weeklycheckeddata=this.top10weeklyproductdatalist.map(Ye=>Ye.productId),Ue.productId=this.top10weeklycheckeddata,this.dashboardSandbox.weeklysalesproduct(Ue),this.subscriptions.push(this.dashboardSandbox.weeklysalesproduct$.subscribe(Ye=>{Ye&&(this.toptenweeklysalesdata=Ye.map((ir,Yr)=>{let gn={};return gn.label=ir.productName,gn.data={},gn.data=ir.value.map(Zn=>Zn.value),gn}))}))}ngOnDestroy(){this.subscriptions.forEach(Ue=>Ue.unsubscribe())}}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)(g.\u0275\u0275directiveInject(je),g.\u0275\u0275directiveInject(ie.F0),g.\u0275\u0275directiveInject(ve.E),g.\u0275\u0275directiveInject(xe.Dx),g.\u0275\u0275directiveInject(Te.b),g.\u0275\u0275directiveInject(be.A),g.\u0275\u0275directiveInject(Pe._W))},Ge.\u0275cmp=g.\u0275\u0275defineComponent({type:Ge,selectors:[["app-dashboard"]],decls:298,vars:299,consts:[[1,"dashboard-wrapper"],[1,"dash-topper","flex"],[1,"dast-col"],[1,"dastc-top","flex"],["name","","id","",1,"ng-sel-width",3,"searchable","clearable","ngModel","ngModelChange","change"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"flex","dastc-vtm"],[1,"dastcbtm-ig"],["src","assets/img/total-revenue.png","alt",""],["class","spinner-border spinner-border-sm ","style","margin-left:20px","aria-hidden","true",4,"ngIf"],["name","","id","",1,"ng-sel-width",3,"searchable","clearable","ngModel","change","ngModelChange"],["src","assets/img/total-orders.png","alt",""],["src","assets/img/new-customers.png","alt",""],[2,"margin-top","8px"],[1,"flex","dastc-vtm",2,"margin-top","23px"],["src","assets/img/total-customers.png","alt",""],[1,"dashboard-main","flex"],[1,"dm-lft"],[1,"dml-top","flex"],[1,"dmlt-roe","flex"],[1,"dmlt-lft-img"],["src","assets/img/top-performing.png","alt",""],[1,"dmlt-lft-cont"],["name","","id","",1,"ng-sel-width",2,"margin-left","7px",3,"searchable","clearable","ngModel","ngModelChange","change"],[1,"dmlt-prd-list"],["class","spinner-border","style","position:absolute; margin-left: 130px; margin-top: 110px;","aria-hidden","true",4,"ngIf"],["class","dmltprdlist-row flex",4,"ngFor","ngForOf"],["style","font-size: 16px;width: 139px;margin: auto;margin-top: 31%;",4,"ngIf"],[1,"dml-btm"],[1,"dml-btm-row","flex"],["class","spinner-border spinner-border-sm ","style","margin-left:120px;margin:auto","aria-hidden","true",4,"ngIf"],["class","dml-btm-col flex",4,"ngFor","ngForOf"],[1,"dm-rht"],[1,"dmr-top","flex"],[1,"dmrt-col"],["class","spinner-border spinner-border-sm ","aria-hidden","true",4,"ngIf"],[1,"flex","dmrtc-rw"],[1,"dmr-btm","flex"],[1,"dmr-btm-lft"],[1,"tabset"],["type","radio","name","tabset","id","tab1","aria-controls","marzen","checked","",3,"click"],["for","tab1"],["type","radio","name","tabset","id","tab2","aria-controls","rauchbier",3,"click"],["for","tab2"],["type","radio","name","tabset","id","tab3","aria-controls","dunkles",3,"click"],["for","tab3"],["type","radio","name","tabset","id","tab4","aria-controls","sales",3,"click"],["for","tab4"],[1,"tab-panels"],["id","marzen",1,"tab-panel"],[1,"dmrbtop","flex"],[3,"value",4,"ngFor","ngForOf"],[1,"spinner-wrapper"],[3,"isShow"],[3,"config","data","layout",4,"ngIf"],["class","no-data",4,"ngIf"],["id","rauchbier",1,"tab-panel"],["id","dunkles",1,"tab-panel","dmrtab-vendor"],["name","","id","","placeholder","Choose Vendor",1,"ng-sel-width",3,"searchable","clearable","ngModel","ngModelChange","change"],["class","flex dmrtabvenrow",4,"ngIf"],["id","sales",1,"tab-panel","dmrb-sales"],[1,"rad-chart"],[1,"rad-chart-left"],["class","checkbox-data","style","display: flex;",4,"ngFor","ngForOf"],[1,"rad-chart-right"],["baseChart","","width","300","height","300",3,"datasets","labels","type","options","legend",4,"ngIf"],[1,"dmr-btm-rht"],["class","spinner-border","style","position:absolute; margin-left: 150px; margin-top: 110px;","aria-hidden","true",4,"ngIf"],[3,"data","layout","config",4,"ngIf"],["aria-hidden","true",1,"spinner-border","spinner-border-sm",2,"margin-left","20px"],["aria-hidden","true",1,"spinner-border",2,"position","absolute","margin-left","130px","margin-top","110px"],[1,"dmltprdlist-row","flex"],[1,"dmltprdlist-lft","flex"],[1,"dmltprdlist-lft-img"],["onError","this.src='assets/error-images/Load-icon-Products.png';",3,"src","alt","hidden","load",4,"ngIf"],["src","./assets/error-images/Load-icon-Products.png","alt","error-img",3,"hidden"],[1,"dmltprdlist-lft-cont"],["style","margin-left: -2px",4,"ngIf"],[4,"ngIf"],["onError","this.src='assets/error-images/Load-icon-Products.png';",3,"src","alt","hidden","load"],[2,"margin-left","-2px"],[2,"font-size","16px","width","139px","margin","auto","margin-top","31%"],["aria-hidden","true",1,"spinner-border","spinner-border-sm",2,"margin-left","120px","margin","auto"],[1,"dml-btm-col","flex"],[1,"dmlbtmc-img"],["onError","this.src='assets/error-images/Load-icon-Products.png';",2,"border-radius","50%","width","24px","height","24px",3,"src"],[1,"dmlbtmc-content"],[2,"overflow","hidden"],["aria-hidden","true",1,"spinner-border","spinner-border-sm"],[3,"value"],[3,"config","data","layout"],[1,"no-data"],[1,"flex","dmrtabvenrow"],[1,"dmrtabvenlft"],[1,"dashboard-card-content"],[3,"results","view","scheme","gradient","legend","legendPosition","labels","doughnut","trimLabels","arcWidth"],[1,"checkbox-data",2,"display","flex"],["type","checkbox",2,"cursor","pointer","position","relative","top","7px",3,"ngModel","ngModelChange","change"],["placement","top-left",1,"product-name",3,"ngbTooltip"],["baseChart","","width","300","height","300",3,"datasets","labels","type","options","legend"],["aria-hidden","true",1,"spinner-border",2,"position","absolute","margin-left","150px","margin-top","110px"],[3,"data","layout","config"]],template:function(Ue,Ye){if(1&Ue&&(g.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),g.\u0275\u0275text(5),g.\u0275\u0275pipe(6,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(7,"ng-select",4),g.\u0275\u0275listener("ngModelChange",function(Yr){return Ye.totalRevenues=Yr})("change",function(){return Ye.totalRevenue()}),g.\u0275\u0275elementStart(8,"ng-option",5),g.\u0275\u0275text(9),g.\u0275\u0275pipe(10,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(11,"ng-option",6),g.\u0275\u0275text(12),g.\u0275\u0275pipe(13,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(14,"ng-option",7),g.\u0275\u0275text(15),g.\u0275\u0275pipe(16,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(17,"ng-option",8),g.\u0275\u0275text(18),g.\u0275\u0275pipe(19,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275element(20,"p"),g.\u0275\u0275elementStart(21,"div",9)(22,"span",10),g.\u0275\u0275element(23,"img",11),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(24,gr,1,0,"span",12),g.\u0275\u0275pipe(25,"async"),g.\u0275\u0275elementStart(26,"h2"),g.\u0275\u0275text(27),g.\u0275\u0275pipe(28,"async"),g.\u0275\u0275pipe(29,"async"),g.\u0275\u0275pipe(30,"number"),g.\u0275\u0275pipe(31,"async"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(32,"div",2)(33,"div",3)(34,"h4"),g.\u0275\u0275text(35),g.\u0275\u0275pipe(36,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(37,"ng-select",13),g.\u0275\u0275listener("change",function(){return Ye.totalOrders()})("ngModelChange",function(Yr){return Ye.totalorderscount=Yr}),g.\u0275\u0275elementStart(38,"ng-option",5),g.\u0275\u0275text(39),g.\u0275\u0275pipe(40,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(41,"ng-option",6),g.\u0275\u0275text(42),g.\u0275\u0275pipe(43,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(44,"ng-option",7),g.\u0275\u0275text(45),g.\u0275\u0275pipe(46,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(47,"ng-option",8),g.\u0275\u0275text(48),g.\u0275\u0275pipe(49,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(50,"div",9)(51,"span",10),g.\u0275\u0275element(52,"img",14),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(53,dr,1,0,"span",12),g.\u0275\u0275pipe(54,"async"),g.\u0275\u0275elementStart(55,"h2"),g.\u0275\u0275text(56),g.\u0275\u0275pipe(57,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(58,"h5"),g.\u0275\u0275text(59),g.\u0275\u0275pipe(60,"async"),g.\u0275\u0275pipe(61,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(62,"div",2)(63,"div",3)(64,"h4"),g.\u0275\u0275text(65),g.\u0275\u0275pipe(66,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(67,"ng-select",4),g.\u0275\u0275listener("ngModelChange",function(Yr){return Ye.newcustomerscount=Yr})("change",function(){return Ye.newCustomers()}),g.\u0275\u0275elementStart(68,"ng-option",5),g.\u0275\u0275text(69),g.\u0275\u0275pipe(70,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(71,"ng-option",6),g.\u0275\u0275text(72),g.\u0275\u0275pipe(73,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(74,"ng-option",7),g.\u0275\u0275text(75),g.\u0275\u0275pipe(76,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(77,"ng-option",8),g.\u0275\u0275text(78),g.\u0275\u0275pipe(79,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(80,"div",9)(81,"span",10),g.\u0275\u0275element(82,"img",15),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(83,Pr,1,0,"span",12),g.\u0275\u0275pipe(84,"async"),g.\u0275\u0275elementStart(85,"h2"),g.\u0275\u0275text(86),g.\u0275\u0275pipe(87,"async"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(88,"div",2)(89,"div",3)(90,"h4",16),g.\u0275\u0275text(91),g.\u0275\u0275pipe(92,"translate"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(93,"div",17)(94,"span",10),g.\u0275\u0275element(95,"img",18),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(96,qr,1,0,"span",12),g.\u0275\u0275pipe(97,"async"),g.\u0275\u0275elementStart(98,"h2"),g.\u0275\u0275text(99),g.\u0275\u0275pipe(100,"async"),g.\u0275\u0275elementEnd()()()(),g.\u0275\u0275elementStart(101,"div",19)(102,"div",20)(103,"div",21)(104,"div",22)(105,"div",23),g.\u0275\u0275element(106,"img",24),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(107,"div",25)(108,"h3"),g.\u0275\u0275text(109),g.\u0275\u0275pipe(110,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(111,"h4"),g.\u0275\u0275text(112),g.\u0275\u0275pipe(113,"async"),g.\u0275\u0275pipe(114,"translate"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(115,"ng-select",26),g.\u0275\u0275listener("ngModelChange",function(Yr){return Ye.topProducts=Yr})("change",function(){return Ye.getTopSellingProductList()}),g.\u0275\u0275elementStart(116,"ng-option",5),g.\u0275\u0275text(117),g.\u0275\u0275pipe(118,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(119,"ng-option",6),g.\u0275\u0275text(120),g.\u0275\u0275pipe(121,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(122,"ng-option",7),g.\u0275\u0275text(123),g.\u0275\u0275pipe(124,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(125,"ng-option",8),g.\u0275\u0275text(126),g.\u0275\u0275pipe(127,"translate"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(128,"div",27),g.\u0275\u0275template(129,Er,1,0,"span",28),g.\u0275\u0275pipe(130,"async"),g.\u0275\u0275template(131,Pn,15,13,"div",29),g.\u0275\u0275pipe(132,"async"),g.\u0275\u0275template(133,An,3,3,"h2",30),g.\u0275\u0275pipe(134,"async"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(135,"div",31)(136,"h3"),g.\u0275\u0275text(137),g.\u0275\u0275pipe(138,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(139,"div",32),g.\u0275\u0275template(140,lr,1,0,"span",33),g.\u0275\u0275pipe(141,"async"),g.\u0275\u0275template(142,yr,10,4,"div",34),g.\u0275\u0275pipe(143,"async"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(144,"div",35)(145,"div",36)(146,"div",37)(147,"h4"),g.\u0275\u0275text(148),g.\u0275\u0275pipe(149,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(150,Fr,1,0,"span",38),g.\u0275\u0275pipe(151,"async"),g.\u0275\u0275elementStart(152,"div",39)(153,"h2"),g.\u0275\u0275text(154),g.\u0275\u0275pipe(155,"async"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(156,"div",37)(157,"h4"),g.\u0275\u0275text(158),g.\u0275\u0275pipe(159,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(160,Br,1,0,"span",38),g.\u0275\u0275pipe(161,"async"),g.\u0275\u0275elementStart(162,"div",39)(163,"h2"),g.\u0275\u0275text(164),g.\u0275\u0275pipe(165,"async"),g.\u0275\u0275elementEnd()()(),g.\u0275\u0275elementStart(166,"div",37)(167,"h4"),g.\u0275\u0275text(168),g.\u0275\u0275pipe(169,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(170,"div",39),g.\u0275\u0275template(171,_r,1,0,"span",12),g.\u0275\u0275pipe(172,"async"),g.\u0275\u0275elementStart(173,"h2"),g.\u0275\u0275text(174),g.\u0275\u0275pipe(175,"currencysymbol"),g.\u0275\u0275pipe(176,"async"),g.\u0275\u0275pipe(177,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(178,"ng-select",13),g.\u0275\u0275listener("change",function(){return Ye.averageOrderValue()})("ngModelChange",function(Yr){return Ye.averagevalue=Yr}),g.\u0275\u0275elementStart(179,"ng-option",5),g.\u0275\u0275text(180),g.\u0275\u0275pipe(181,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(182,"ng-option",6),g.\u0275\u0275text(183),g.\u0275\u0275pipe(184,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(185,"ng-option",7),g.\u0275\u0275text(186),g.\u0275\u0275pipe(187,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(188,"ng-option",8),g.\u0275\u0275text(189),g.\u0275\u0275pipe(190,"translate"),g.\u0275\u0275elementEnd()()()(),g.\u0275\u0275elementStart(191,"div",37)(192,"h4"),g.\u0275\u0275text(193),g.\u0275\u0275pipe(194,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(195,"div",39),g.\u0275\u0275template(196,dn,1,0,"span",12),g.\u0275\u0275pipe(197,"async"),g.\u0275\u0275elementStart(198,"h2"),g.\u0275\u0275text(199),g.\u0275\u0275pipe(200,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(201,"ng-select",4),g.\u0275\u0275listener("ngModelChange",function(Yr){return Ye.averageConvertionRatios=Yr})("change",function(){return Ye.averageConversionRatio()}),g.\u0275\u0275elementStart(202,"ng-option",5),g.\u0275\u0275text(203),g.\u0275\u0275pipe(204,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(205,"ng-option",6),g.\u0275\u0275text(206),g.\u0275\u0275pipe(207,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(208,"ng-option",7),g.\u0275\u0275text(209),g.\u0275\u0275pipe(210,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(211,"ng-option",8),g.\u0275\u0275text(212),g.\u0275\u0275pipe(213,"translate"),g.\u0275\u0275elementEnd()()()()(),g.\u0275\u0275elementStart(214,"div",40)(215,"div",41)(216,"div",42)(217,"input",43),g.\u0275\u0275listener("click",function(){return Ye.salesgraph()}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(218,"label",44),g.\u0275\u0275text(219),g.\u0275\u0275pipe(220,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(221,"input",45),g.\u0275\u0275listener("click",function(){return Ye.getSalesOrderList()}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(222,"label",46),g.\u0275\u0275text(223),g.\u0275\u0275pipe(224,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(225,"input",47),g.\u0275\u0275listener("click",function(){return Ye.vendor()}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(226,"label",48),g.\u0275\u0275text(227),g.\u0275\u0275pipe(228,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(229,"input",49),g.\u0275\u0275listener("click",function(){return Ye.weeklysalesproduct()}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(230,"label",50),g.\u0275\u0275text(231),g.\u0275\u0275pipe(232,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(233,"div",51)(234,"section",52)(235,"div",53)(236,"ng-select",4),g.\u0275\u0275listener("ngModelChange",function(Yr){return Ye.salesgraphyear=Yr})("change",function(){return Ye.salesgraph()}),g.\u0275\u0275template(237,hn,2,2,"ng-option",54),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(238,"ng-select",4),g.\u0275\u0275listener("ngModelChange",function(Yr){return Ye.salesgraphmonth=Yr})("change",function(){return Ye.salesgraph()}),g.\u0275\u0275template(239,xn,2,2,"ng-option",54),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(240,"div",55),g.\u0275\u0275element(241,"app-global-loader",56),g.\u0275\u0275pipe(242,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(243,En,1,3,"plotly-plot",57),g.\u0275\u0275pipe(244,"async"),g.\u0275\u0275pipe(245,"async"),g.\u0275\u0275template(246,Vn,3,3,"p",58),g.\u0275\u0275pipe(247,"async"),g.\u0275\u0275pipe(248,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(249,"section",59)(250,"div",53)(251,"ng-select",4),g.\u0275\u0275listener("ngModelChange",function(Yr){return Ye.customersVisityear=Yr})("change",function(){return Ye.getSalesOrderList()}),g.\u0275\u0275template(252,Gn,2,2,"ng-option",54),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(253,"ng-select",4),g.\u0275\u0275listener("ngModelChange",function(Yr){return Ye.customersVisitmonth=Yr})("change",function(){return Ye.getSalesOrderList()}),g.\u0275\u0275template(254,ia,2,2,"ng-option",54),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(255,"div",55),g.\u0275\u0275element(256,"app-global-loader",56),g.\u0275\u0275pipe(257,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(258,Kn,1,3,"plotly-plot",57),g.\u0275\u0275pipe(259,"async"),g.\u0275\u0275pipe(260,"async"),g.\u0275\u0275template(261,Qn,3,3,"p",58),g.\u0275\u0275pipe(262,"async"),g.\u0275\u0275pipe(263,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(264,"section",60)(265,"div",53)(266,"ng-select",61),g.\u0275\u0275listener("ngModelChange",function(Yr){return Ye.vendorID=Yr})("change",function(){return Ye.vendor()}),g.\u0275\u0275template(267,Tr,2,2,"ng-option",54),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(268,"ng-select",4),g.\u0275\u0275listener("ngModelChange",function(Yr){return Ye.vendorsyear=Yr})("change",function(){return Ye.vendor()}),g.\u0275\u0275template(269,an,2,2,"ng-option",54),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(270,"div",55),g.\u0275\u0275element(271,"app-global-loader",56),g.\u0275\u0275pipe(272,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(273,sn,18,27,"div",62),g.\u0275\u0275pipe(274,"async"),g.\u0275\u0275template(275,pn,3,3,"div",58),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(276,"section",63)(277,"div",64)(278,"div",65),g.\u0275\u0275template(279,Fn,4,3,"p",66),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(280,"div",67),g.\u0275\u0275template(281,Cn,1,5,"canvas",68),g.\u0275\u0275elementEnd()(),g.\u0275\u0275template(282,Ln,3,3,"div",58),g.\u0275\u0275elementEnd()()()(),g.\u0275\u0275elementStart(283,"div",69)(284,"div",53)(285,"h3"),g.\u0275\u0275text(286),g.\u0275\u0275pipe(287,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(288,"ng-select",4),g.\u0275\u0275listener("ngModelChange",function(Yr){return Ye.transactionlistyear=Yr})("change",function(){return Ye.transactionValues()}),g.\u0275\u0275template(289,On,2,2,"ng-option",54),g.\u0275\u0275elementEnd()(),g.\u0275\u0275template(290,Jn,1,0,"span",70),g.\u0275\u0275pipe(291,"async"),g.\u0275\u0275template(292,ya,1,3,"plotly-plot",71),g.\u0275\u0275pipe(293,"async"),g.\u0275\u0275pipe(294,"async"),g.\u0275\u0275template(295,Ba,3,3,"p",58),g.\u0275\u0275pipe(296,"async"),g.\u0275\u0275pipe(297,"async"),g.\u0275\u0275elementEnd()()()()()),2&Ue){let ir,Yr;g.\u0275\u0275advance(5),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(6,125,"Dashboard.totalRevenue")),g.\u0275\u0275advance(2),g.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ye.totalRevenues),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(10,127,"Dashboard.today")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(13,129,"Dashboard.thisWeek")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(16,131,"Dashboard.thisMonth")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(19,133,"Dashboard.thisYear")),g.\u0275\u0275advance(6),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(25,135,Ye.dashboardSandbox.totalRevenueLoading$)),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(28,137,Ye.dashboardSandbox.totalRevenue$).toString()<0?-1*g.\u0275\u0275pipeBind1(29,139,Ye.dashboardSandbox.totalRevenue$).toString():g.\u0275\u0275pipeBind2(30,141,g.\u0275\u0275pipeBind1(31,144,Ye.dashboardSandbox.totalRevenue$).toString(),"1.0-0")),g.\u0275\u0275advance(8),g.\u0275\u0275textInterpolate1("",g.\u0275\u0275pipeBind1(36,146,"Dashboard.totalOrders")," "),g.\u0275\u0275advance(2),g.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ye.totalorderscount),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(40,148,"Dashboard.today")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(43,150,"Dashboard.thisWeek")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(46,152,"Dashboard.thisMonth")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(49,154,"Dashboard.thisYear")),g.\u0275\u0275advance(5),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(54,156,Ye.dashboardSandbox.totalOrdersLoading$)),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(null==(ir=g.\u0275\u0275pipeBind1(57,158,Ye.dashboardSandbox.totalOrders$))?null:ir.ordersCount),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate2("",null==(Yr=g.\u0275\u0275pipeBind1(60,160,Ye.dashboardSandbox.totalOrders$))?null:Yr.vendorsCount," ",g.\u0275\u0275pipeBind1(61,162,"Dashboard.vendors"),""),g.\u0275\u0275advance(6),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(66,164,"Dashboard.newCustomers")),g.\u0275\u0275advance(2),g.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ye.newcustomerscount),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(70,166,"Dashboard.today")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(73,168,"Dashboard.thisWeek")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(76,170,"Dashboard.thisMonth")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(79,172,"Dashboard.thisYear")),g.\u0275\u0275advance(5),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(84,174,Ye.dashboardSandbox.newCustomersLoading$)),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(87,176,Ye.dashboardSandbox.newCustomers$)),g.\u0275\u0275advance(5),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(92,178,"Dashboard.totalCustomers")),g.\u0275\u0275advance(5),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(97,180,Ye.dashboardSandbox.dashboardCountLoading$)),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(100,182,Ye.dashboardSandbox.dashboardCount$).customers),g.\u0275\u0275advance(10),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(110,184,"Dashboard.TopPerformingProducts")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate2("",g.\u0275\u0275pipeBind1(113,186,Ye.dashboardSandbox.getTopSellingProductListCount$)," ",g.\u0275\u0275pipeBind1(114,188,"Dashboard.products"),""),g.\u0275\u0275advance(3),g.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ye.topProducts),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(118,190,"Dashboard.today")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(121,192,"Dashboard.thisWeek")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(124,194,"Dashboard.thisMonth")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(127,196,"Dashboard.thisYear")),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(130,198,Ye.dashboardSandbox.topSellingProductsLoading$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngForOf",g.\u0275\u0275pipeBind1(132,200,Ye.dashboardSandbox.topSellingProducts$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",0===g.\u0275\u0275pipeBind1(134,202,Ye.dashboardSandbox.getTopSellingProductListCount$)),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate1("",g.\u0275\u0275pipeBind1(138,204,"Dashboard.repeatedCustomers")," "),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(141,206,Ye.dashboardSandbox.recentVisitorListLoading$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngForOf",g.\u0275\u0275pipeBind1(143,208,Ye.dashboardSandbox.recentVisitorList$)),g.\u0275\u0275advance(6),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(149,210,"marketplace.seller.TotalVendors")),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(151,212,Ye.dashboardSandbox.dashboardCountLoading$)),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(155,214,Ye.dashboardSandbox.dashboardCount$).vendors),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(159,216,"catalog.categories.TotalProduct")),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(161,218,Ye.dashboardSandbox.dashboardCountLoading$)),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(165,220,Ye.dashboardSandbox.dashboardCount$).products),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(169,222,"Dashboard.averageorderValue")),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(172,224,Ye.dashboardSandbox.averageOrderValueLoading$)),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind2(175,226,g.\u0275\u0275pipeBind1(176,229,Ye.dashboardSandbox.averageOrderValue$),g.\u0275\u0275pipeBind1(177,231,Ye.layoutSandbox.settings$))),g.\u0275\u0275advance(4),g.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ye.averagevalue),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(181,233,"Dashboard.today")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(184,235,"Dashboard.thisWeek")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(187,237,"Dashboard.thisMonth")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(190,239,"Dashboard.thisYear")),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(194,241,"Dashboard.averageConversionRatio")),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(197,243,Ye.dashboardSandbox.averageConversionRatioLoading$)),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate1("",g.\u0275\u0275pipeBind1(200,245,Ye.dashboardSandbox.averageConversionRatio$),"%"),g.\u0275\u0275advance(2),g.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ye.averageConvertionRatios),g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(204,247,"Dashboard.today")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(207,249,"Dashboard.thisWeek")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(210,251,"Dashboard.thisMonth")),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(213,253,"Dashboard.thisYear")),g.\u0275\u0275advance(7),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(220,255,"Sales.Orders.Sales")),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(224,257,"Dashboard.customerVisits")),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(228,259,"Dashboard.vendor")),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(232,261,"Dashboard.10weeklySales")),g.\u0275\u0275advance(5),g.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ye.salesgraphyear),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngForOf",Ye.year),g.\u0275\u0275advance(1),g.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ye.salesgraphmonth),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngForOf",Ye.month),g.\u0275\u0275advance(2),g.\u0275\u0275property("isShow",g.\u0275\u0275pipeBind1(242,263,Ye.dashboardSandbox.salesgraphLoading$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(244,265,Ye.dashboardSandbox.salesgraph$).length>0&&g.\u0275\u0275pipeBind1(245,267,Ye.dashboardSandbox.salesgraphLoaded$)),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",0==g.\u0275\u0275pipeBind1(247,269,Ye.dashboardSandbox.salesgraph$).length&&g.\u0275\u0275pipeBind1(248,271,Ye.dashboardSandbox.salesgraphLoaded$)),g.\u0275\u0275advance(5),g.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ye.customersVisityear),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngForOf",Ye.year),g.\u0275\u0275advance(1),g.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ye.customersVisitmonth),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngForOf",Ye.month),g.\u0275\u0275advance(2),g.\u0275\u0275property("isShow",g.\u0275\u0275pipeBind1(257,273,Ye.dashboardSandbox.salesOrderListLoading$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(259,275,Ye.dashboardSandbox.salesOrderList$).length>0&&g.\u0275\u0275pipeBind1(260,277,Ye.dashboardSandbox.salesOrderListLoaded$)),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",0===g.\u0275\u0275pipeBind1(262,279,Ye.dashboardSandbox.salesOrderList$).length&&g.\u0275\u0275pipeBind1(263,281,Ye.dashboardSandbox.salesOrderListLoaded$)),g.\u0275\u0275advance(5),g.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ye.vendorID),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngForOf",Ye.vendorList),g.\u0275\u0275advance(1),g.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ye.vendorsyear),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngForOf",Ye.year),g.\u0275\u0275advance(2),g.\u0275\u0275property("isShow",g.\u0275\u0275pipeBind1(272,283,Ye.dashboardSandbox.vendorLoading$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",Ye.vendorDetails.productCount>0&&!g.\u0275\u0275pipeBind1(274,285,Ye.dashboardSandbox.vendorLoading$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",0===Ye.vendorDetails.productCount),g.\u0275\u0275advance(4),g.\u0275\u0275property("ngForOf",Ye.top10weeklyproductlist),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",Ye.top10weeklyproductlist.length>0),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",0===Ye.top10weeklyproductlist.length),g.\u0275\u0275advance(4),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(287,287,"Dashboard.transaction")),g.\u0275\u0275advance(2),g.\u0275\u0275property("searchable",!1)("clearable",!1)("ngModel",Ye.transactionlistyear),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngForOf",Ye.year),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(291,289,Ye.dashboardSandbox.transactionValuesLoading$)),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",g.\u0275\u0275pipeBind1(293,291,Ye.dashboardSandbox.transactionValues$).length>0&&g.\u0275\u0275pipeBind1(294,293,Ye.dashboardSandbox.transactionValuesLoaded$)),g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",0==g.\u0275\u0275pipeBind1(296,295,Ye.dashboardSandbox.transactionValues$).length&&g.\u0275\u0275pipeBind1(297,297,Ye.dashboardSandbox.transactionValuesLoaded$))}},directives:[Be.w9,tt.NgControlStatus,tt.NgModel,Be.jq,Va.NgIf,Va.NgForOf,Qe.A,Ht,rr.JU,tt.CheckboxControlValueAccessor,or._L,qe.jh],pipes:[De.X$,Va.AsyncPipe,Va.DecimalPipe,Va.SlicePipe,sr.G],styles:["[_nghost-%COMP%]     .ng-select.ng-select-single{width:106px;font-size:12px;font-weight:600}[_nghost-%COMP%]     .ng-select .ng-option{font-size:small}[_nghost-%COMP%]     .ng-select .ng-dropdown-panel.ng-select-bottom{margin-left:0;width:-moz-fit-content;width:fit-content;width:100%}[_nghost-%COMP%]     .ng-select .ng-dropdown-panel.ng-select-top{margin-left:0;width:-moz-fit-content;width:fit-content;width:100%}.dashboard-card-content[_ngcontent-%COMP%]{width:calc(100% - 150px);height:calc(100% - 30px);display:flex;flex-flow:column;justify-content:center;align-items:center;box-sizing:border-box}.no-data[_ngcontent-%COMP%]{padding:20px;text-align:center}.checkbox-data[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.checkbox-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px;font-size:12px;color:#000}.no-data[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:30px}.rad-chart[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.rad-chart-left[_ngcontent-%COMP%]{width:200px}.rad-chart-right[_ngcontent-%COMP%]{width:calc(100% - 150px);display:flex;justify-content:center}.product-name[_ngcontent-%COMP%]{text-overflow:ellipsis;width:100px;overflow:hidden;white-space:nowrap}.spinner-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center}"]}),Ge})()}];let en=(()=>{class Ge{}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)},Ge.\u0275mod=g.\u0275\u0275defineNgModule({type:Ge}),Ge.\u0275inj=g.\u0275\u0275defineInjector({imports:[[ie.Bz.forChild(br)],ie.Bz]}),Ge})();var vn=Da(16917),un=Da(10128),Sn=Da(12476),mn=Da(67638),cn=Da(62953),Cr=Da(61870);Se.plotlyjs=mn,Le.setPlotlyVersion("1.55.2"),Le.setPlotlyBundle("basic");let Mr=(()=>{class Ge{}return Ge.\u0275fac=function(Ue){return new(Ue||Ge)},Ge.\u0275mod=g.\u0275\u0275defineNgModule({type:Ge}),Ge.\u0275inj=g.\u0275\u0275defineInjector({providers:[i,je,Cr.n,be.A],imports:[[Va.CommonModule,Sn.K,Bi.o,tt.FormsModule,tt.ReactiveFormsModule,vn.q,en,rr.a4,qe.vQ,W.sQ.forFeature([ar,cn.z]),De.aw.forChild({loader:{provide:De.Zw,useFactory:un.g,deps:[t.eN]}}),Se]]}),Ge})()},94327:function(Cf,Ql){var Bi;void 0!==(Bi=function(){"use strict";function W(E,l,x){var e=new XMLHttpRequest;e.open("GET",E),e.responseType="blob",e.onload=function(){P(e.response,l,x)},e.onerror=function(){console.error("could not download file")},e.send()}function t(E){var l=new XMLHttpRequest;l.open("HEAD",E,!1);try{l.send()}catch(x){}return 200<=l.status&&299>=l.status}function A(E){try{E.dispatchEvent(new MouseEvent("click"))}catch(x){var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),E.dispatchEvent(l)}}var g="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,i=g.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),P=g.saveAs||("object"!=typeof window||window!==g?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(E,l,x){var e=g.URL||g.webkitURL,r=document.createElement("a");r.download=l=l||E.name||"download",r.rel="noopener","string"==typeof E?(r.href=E,r.origin===location.origin?A(r):t(r.href)?W(E,l,x):A(r,r.target="_blank")):(r.href=e.createObjectURL(E),setTimeout(function(){e.revokeObjectURL(r.href)},4e4),setTimeout(function(){A(r)},0))}:"msSaveOrOpenBlob"in navigator?function(E,l,x){if(l=l||E.name||"download","string"!=typeof E)navigator.msSaveOrOpenBlob(function tt(E,l){return void 0===l?l={autoBom:!1}:"object"!=typeof l&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(E.type)?new Blob(["\ufeff",E],{type:E.type}):E}(E,x),l);else if(t(E))W(E,l,x);else{var e=document.createElement("a");e.href=E,e.target="_blank",setTimeout(function(){A(e)})}}:function(E,l,x,e){if((e=e||open("","_blank"))&&(e.document.title=e.document.body.innerText="downloading..."),"string"==typeof E)return W(E,l,x);var r="application/octet-stream"===E.type,f=/constructor/i.test(g.HTMLElement)||g.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&f||i)&&"undefined"!=typeof FileReader){var s=new FileReader;s.onloadend=function(){var y=s.result;y=a?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=y:location=y,e=null},s.readAsDataURL(E)}else{var c=g.URL||g.webkitURL,u=c.createObjectURL(E);e?e.location=u:location.href=u,e=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});g.saveAs=P.saveAs=P,Cf.exports=P}.apply(Ql,[]))&&(Cf.exports=Bi)},67638:Cf=>{self,Cf.exports=function(){var Ql={98847:function(tt,W,t){"use strict";var A=t(71828),g={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in g){var P=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");A.addStyleRule(P,g[i])}},98222:function(tt,W,t){"use strict";tt.exports=t(82887)},27206:function(tt,W,t){"use strict";tt.exports=t(60822)},59893:function(tt,W,t){"use strict";tt.exports=t(23381)},5224:function(tt,W,t){"use strict";tt.exports=t(83832)},59509:function(tt,W,t){"use strict";tt.exports=t(72201)},75557:function(tt,W,t){"use strict";tt.exports=t(91815)},40338:function(tt,W,t){"use strict";tt.exports=t(21462)},35080:function(tt,W,t){"use strict";tt.exports=t(51319)},61396:function(tt,W,t){"use strict";tt.exports=t(57516)},40549:function(tt,W,t){"use strict";tt.exports=t(98128)},49866:function(tt,W,t){"use strict";tt.exports=t(99442)},36089:function(tt,W,t){"use strict";tt.exports=t(93740)},19548:function(tt,W,t){"use strict";tt.exports=t(8729)},35831:function(tt,W,t){"use strict";tt.exports=t(93814)},61039:function(tt,W,t){"use strict";tt.exports=t(14382)},97040:function(tt,W,t){"use strict";tt.exports=t(51759)},77986:function(tt,W,t){"use strict";tt.exports=t(10421)},24296:function(tt,W,t){"use strict";tt.exports=t(43102)},58872:function(tt,W,t){"use strict";tt.exports=t(92165)},29626:function(tt,W,t){"use strict";tt.exports=t(3325)},65591:function(tt,W,t){"use strict";tt.exports=t(36071)},69738:function(tt,W,t){"use strict";tt.exports=t(43905)},92650:function(tt,W,t){"use strict";tt.exports=t(35902)},35630:function(tt,W,t){"use strict";tt.exports=t(69816)},73434:function(tt,W,t){"use strict";tt.exports=t(94507)},27909:function(tt,W,t){"use strict";var A=t(19548);A.register([t(27206),t(5224),t(58872),t(65591),t(69738),t(92650),t(49866),t(25743),t(6197),t(97040),t(85461),t(73434),t(54201),t(81299),t(47645),t(35630),t(77986),t(83043),t(93005),t(96881),t(4534),t(50581),t(40549),t(77900),t(47582),t(35080),t(21641),t(17280),t(5861),t(29626),t(10021),t(65317),t(96268),t(61396),t(35831),t(16122),t(46163),t(40344),t(40338),t(48131),t(36089),t(55334),t(75557),t(19440),t(99488),t(59893),t(97393),t(98222),t(61039),t(24296),t(66398),t(59509)]),tt.exports=A},46163:function(tt,W,t){"use strict";tt.exports=t(15154)},96881:function(tt,W,t){"use strict";tt.exports=t(64943)},50581:function(tt,W,t){"use strict";tt.exports=t(21164)},55334:function(tt,W,t){"use strict";tt.exports=t(54186)},65317:function(tt,W,t){"use strict";tt.exports=t(94873)},10021:function(tt,W,t){"use strict";tt.exports=t(67618)},54201:function(tt,W,t){"use strict";tt.exports=t(58810)},5861:function(tt,W,t){"use strict";tt.exports=t(20593)},16122:function(tt,W,t){"use strict";tt.exports=t(29396)},83043:function(tt,W,t){"use strict";tt.exports=t(13551)},48131:function(tt,W,t){"use strict";tt.exports=t(46858)},47582:function(tt,W,t){"use strict";tt.exports=t(17988)},21641:function(tt,W,t){"use strict";tt.exports=t(68868)},96268:function(tt,W,t){"use strict";tt.exports=t(20467)},19440:function(tt,W,t){"use strict";tt.exports=t(91271)},99488:function(tt,W,t){"use strict";tt.exports=t(21461)},97393:function(tt,W,t){"use strict";tt.exports=t(85956)},25743:function(tt,W,t){"use strict";tt.exports=t(52979)},66398:function(tt,W,t){"use strict";tt.exports=t(32275)},17280:function(tt,W,t){"use strict";tt.exports=t(6419)},77900:function(tt,W,t){"use strict";tt.exports=t(61510)},81299:function(tt,W,t){"use strict";tt.exports=t(87619)},93005:function(tt,W,t){"use strict";tt.exports=t(93601)},40344:function(tt,W,t){"use strict";tt.exports=t(96595)},47645:function(tt,W,t){"use strict";tt.exports=t(70954)},6197:function(tt,W,t){"use strict";tt.exports=t(47462)},4534:function(tt,W,t){"use strict";tt.exports=t(17659)},85461:function(tt,W,t){"use strict";tt.exports=t(19990)},82884:function(tt){"use strict";tt.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(tt,W,t){"use strict";var A=t(82884),g=t(41940),i=t(85555),P=t(44467).templatedArray;t(24695),tt.exports=P("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:g({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:A.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:A.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:g({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(tt,W,t){"use strict";var A=t(71828),g=t(89298),i=t(92605).draw;function P(l){A.filterVisible(l._fullLayout.annotations).forEach(function(e){var r=g.getFromId(l,e.xref),f=g.getFromId(l,e.yref),a=g.getRefType(e.xref),s=g.getRefType(e.yref);e._extremes={},"range"===a&&E(e,r),"range"===s&&E(e,f)})}function E(l,x){var L,e=x._id,r=e.charAt(0),f=l[r],a=l["a"+r],u=l["_"+r+"padplus"],y=l["_"+r+"padminus"],v={x:1,y:-1}[r]*l[r+"shift"],w=3*l.arrowsize*l.arrowwidth||0,d=w+v,o=w-v,h=3*l.startarrowsize*l.arrowwidth||0,M=h+v,T=h-v;if(l["a"+r+"ref"]===l[r+"ref"]){var m=g.findExtremes(x,[x.r2c(f)],{ppadplus:d,ppadminus:o}),S=g.findExtremes(x,[x.r2c(a)],{ppadplus:Math.max(u,M),ppadminus:Math.max(y,T)});L={min:[m.min[0],S.min[0]],max:[m.max[0],S.max[0]]}}else M=a?M+a:M,T=a?T-a:T,L=g.findExtremes(x,[x.r2c(f)],{ppadplus:Math.max(u,d,M),ppadminus:Math.max(y,o,T)});l._extremes[e]=L}tt.exports=function(x){if(A.filterVisible(x._fullLayout.annotations).length&&x._fullData.length)return A.syncOrAsync([i,P],x)}},44317:function(tt,W,t){"use strict";var A=t(71828),g=t(73972),i=t(44467).arrayEditor;function l(e,r){var y,v,w,d,o,h,M,f=e._fullLayout.annotations,a=[],s=[],c=[],u=(r||[]).length;for(y=0;y<f.length;y++)if(d=(w=f[y]).clicktoshow){for(v=0;v<u;v++)if(M=(o=r[v]).yaxis,(h=o.xaxis)._id===w.xref&&M._id===w.yref&&h.d2r(o.x)===x(w._xclick,h)&&M.d2r(o.y)===x(w._yclick,M)){(w.visible?"onout"===d?s:c:a).push(y);break}v===u&&w.visible&&"onout"===d&&s.push(y)}return{on:a,off:s,explicitOff:c}}function x(e,r){return"log"===r.type?r.l2r(e):r.d2r(e)}tt.exports={hasClickToShow:function P(e,r){var f=l(e,r);return f.on.length>0||f.explicitOff.length>0},onClick:function E(e,r){var y,v,f=l(e,r),a=f.on,s=f.off.concat(f.explicitOff),c={},u=e._fullLayout.annotations;if(a.length||s.length){for(y=0;y<a.length;y++)(v=i(e.layout,"annotations",u[a[y]])).modifyItem("visible",!0),A.extendFlat(c,v.getUpdateObj());for(y=0;y<s.length;y++)(v=i(e.layout,"annotations",u[s[y]])).modifyItem("visible",!1),A.extendFlat(c,v.getUpdateObj());return g.call("update",e,{},c)}}}},25625:function(tt,W,t){"use strict";var A=t(71828),g=t(7901);tt.exports=function(P,E,l,x){x("opacity");var e=x("bgcolor"),r=x("bordercolor"),f=g.opacity(r);x("borderpad");var a=x("borderwidth"),s=x("showarrow");if(x("text",s?" ":l._dfltTitle.annotation),x("textangle"),A.coerceFont(x,"font",l.font),x("width"),x("align"),x("height")&&x("valign"),s){var y,v,u=x("arrowside");-1!==u.indexOf("end")&&(y=x("arrowhead"),v=x("arrowsize")),-1!==u.indexOf("start")&&(x("startarrowhead",y),x("startarrowsize",v)),x("arrowcolor",f?E.bordercolor:g.defaultLine),x("arrowwidth",2*(f&&a||1)),x("standoff"),x("startstandoff")}var w=x("hovertext"),d=l.hoverlabel||{};if(w){var o=x("hoverlabel.bgcolor",d.bgcolor||(g.opacity(e)?g.rgb(e):g.defaultLine)),h=x("hoverlabel.bordercolor",d.bordercolor||g.contrast(o));A.coerceFont(x,"hoverlabel.font",{family:d.font.family,size:d.font.size,color:d.font.color||h})}x("captureevents",!!w)}},94128:function(tt,W,t){"use strict";var A=t(92770),g=t(58163);tt.exports=function(P,E,l,x){E=E||{};var e="log"===l&&"linear"===E.type;if(e||"linear"===l&&"log"===E.type)for(var s,c,f=P._fullLayout.annotations,a=E._id.charAt(0),y=0;y<f.length;y++)c="annotations["+y+"].",(s=f[y])[a+"ref"]===E._id&&u(a),s["a"+a+"ref"]===E._id&&u("a"+a);function u(v){var w=s[v],d=null;d=e?g(w,E.range):Math.pow(10,w),A(d)||(d=null),x(c+v,d)}}},84046:function(tt,W,t){"use strict";var A=t(71828),g=t(89298),i=t(85501),P=t(25625),E=t(50215);function l(x,e,r){function f(b,n){return A.coerce(x,e,E,b,n)}var a=f("visible"),s=f("clicktoshow");if(a||s){P(x,e,r,f);for(var c=e.showarrow,u=["x","y"],y=[-10,-30],v={_fullLayout:r},w=0;w<2;w++){var d=u[w],o=g.coerceRef(x,e,v,d,"","paper");if("paper"!==o&&g.getFromId(v,o)._annIndices.push(e._index),g.coercePosition(e,v,f,o,d,.5),c){var M="a"+d,T=g.coerceRef(x,e,v,M,"pixel",["pixel","paper"]);"pixel"!==T&&T!==o&&(T=e[M]="pixel"),g.coercePosition(e,v,f,T,M,"pixel"===T?y[w]:.4)}f(d+"anchor"),f(d+"shift")}if(A.noneOrAll(x,e,["x","y"]),c&&A.noneOrAll(x,e,["ax","ay"]),s){var m=f("xclick"),S=f("yclick");e._xclick=void 0===m?e.x:g.cleanPosition(m,v,e.xref),e._yclick=void 0===S?e.y:g.cleanPosition(S,v,e.yref)}}}tt.exports=function(e,r){i(e,r,{name:"annotations",handleItemDefaults:l})}},92605:function(tt,W,t){"use strict";var A=t(39898),g=t(73972),i=t(74875),P=t(71828),E=P.strTranslate,l=t(89298),x=t(7901),e=t(91424),r=t(30211),f=t(63893),a=t(6964),s=t(28569),c=t(44467).arrayEditor,u=t(13011);function v(o,h){var T=o._fullLayout.annotations[h]||{},L=l.getFromId(o,T.xref),m=l.getFromId(o,T.yref);L&&L.setScale(),m&&m.setScale(),d(o,T,h,!1,L,m)}function w(o,h,M,T,L){var m=L[M],S=L[M+"ref"],b=-1!==M.indexOf("y"),n="domain"===l.getRefType(S),C=b?T.h:T.w;return o?n?m+(b?-h:h)/o._length:o.p2r(o.r2p(m)+h):m+(b?-h:h)/C}function d(o,h,M,T,L,m){var C,p,S=o._fullLayout,b=o._fullLayout._size,n=o._context.edits;T?(C="annotation-"+T,p=T+".annotations"):(C="annotation",p="annotations");var F=c(o.layout,p,h),D=F.modifyBase,N=F.modifyItem,k=F.getUpdateObj;S._infolayer.selectAll("."+C+'[data-index="'+M+'"]').remove();var O="clip"+S._uid+"_ann"+M;if(h._input&&!1!==h.visible){var B={x:{},y:{}},z=+h.textangle||0,U=S._infolayer.append("g").classed(C,!0).attr("data-index",String(M)).style("opacity",h.opacity),G=U.append("g").classed("annotation-text-g",!0),Q=n[h.showarrow?"annotationTail":"annotationPosition"],rt=h.captureevents||n.annotationText||Q,ut=G.append("g").style("pointer-events",rt?"all":null).call(a,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",it(A.event))});h.hovertext&&ut.on("mouseover",function(){var dt=h.hoverlabel,Tt=dt.font,bt=this.getBoundingClientRect(),Dt=o.getBoundingClientRect();r.loneHover({x0:bt.left-Dt.left,x1:bt.right-Dt.left,y:(bt.top+bt.bottom)/2-Dt.top,text:h.hovertext,color:dt.bgcolor,borderColor:dt.bordercolor,fontFamily:Tt.family,fontSize:Tt.size,fontColor:Tt.color},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:o})}).on("mouseout",function(){r.loneUnhover(S._hoverlayer.node())});var J=h.borderwidth,Z=J+h.borderpad,H=ut.append("rect").attr("class","bg").style("stroke-width",J+"px").call(x.stroke,h.bordercolor).call(x.fill,h.bgcolor),X=h.width||h.height,at=S._topclips.selectAll("#"+O).data(X?[0]:[]);at.enter().append("clipPath").classed("annclip",!0).attr("id",O).append("rect"),at.exit().remove();var _=h.font,K=S._meta?P.templateString(h.text,S._meta):h.text,nt=ut.append("text").classed("annotation-text",!0).text(K);n.annotationText?nt.call(f.makeEditable,{delegate:ut,gd:o}).call(et).on("edit",function(dt){h.text=dt,this.call(et),N("text",dt),L&&L.autorange&&D(L._name+".autorange",!0),m&&m.autorange&&D(m._name+".autorange",!0),g.call("_guiRelayout",o,k())}):nt.call(et)}else A.selectAll("#"+O).remove();function it(dt){var Tt={index:M,annotation:h._input,fullAnnotation:h,event:dt};return T&&(Tt.subplotId=T),Tt}function et(dt){return dt.call(e.font,_).attr({"text-anchor":{left:"start",right:"end"}[h.align]||"middle"}),f.convertToTspans(dt,o,st),dt}function st(){var dt=nt.selectAll("a");1===dt.size()&&dt.text()===nt.text()&&ut.insert("a",":first-child").attr({"xlink:xlink:href":dt.attr("xlink:href"),"xlink:xlink:show":dt.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(H.node());var bt=ut.select(".annotation-text-math-group"),Dt=!bt.empty(),Ft=e.bBox((Dt?bt:nt).node()),Mt=Ft.width,wt=Ft.height,St=h.width||Mt,Ut=h.height||wt,Gt=Math.round(St+2*Z),Pt=Math.round(Ut+2*Z);function Vt(wr,ar){return"auto"===ar&&(ar=wr<.3333333333333333?"left":wr>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[ar]}for(var te=!1,_t=["x","y"],kt=0;kt<_t.length;kt++){var Ot,It,gt,pt,vt,zt=_t[kt],qt=h[zt+"ref"]||zt,ae=h["a"+zt+"ref"],oe={x:L,y:m}[zt],pe=(z+("x"===zt?0:-90))*Math.PI/180,ye=Gt*Math.cos(pe),Fe=Pt*Math.sin(pe),Zt=Math.abs(ye)+Math.abs(Fe),Ct=h[zt+"anchor"],Et=h[zt+"shift"]*("x"===zt?1:-1),Rt=B[zt],yt=l.getRefType(qt);if(oe&&"domain"!==yt){var Yt=oe.r2fraction(h[zt]);(Yt<0||Yt>1)&&(ae===qt?((Yt=oe.r2fraction(h["a"+zt]))<0||Yt>1)&&(te=!0):te=!0),Ot=oe._offset+oe.r2p(h[zt]),pt=.5}else{var Qt="domain"===yt;"x"===zt?(gt=h[zt],Ot=Qt?oe._offset+oe._length*gt:Ot=b.l+b.w*gt):(gt=1-h[zt],Ot=Qt?oe._offset+oe._length*gt:Ot=b.t+b.h*gt),pt=h.showarrow?.5:gt}if(h.showarrow){Rt.head=Ot;var le=h["a"+zt];if(vt=ye*Vt(.5,h.xanchor)-Fe*Vt(.5,h.yanchor),ae===qt){var he=l.getRefType(ae);"domain"===he?("y"===zt&&(le=1-le),Rt.tail=oe._offset+oe._length*le):Rt.tail="paper"===he?"y"===zt?b.t+b.h*(le=1-le):b.l+b.w*le:oe._offset+oe.r2p(le),It=vt}else Rt.tail=Ot+le,It=vt+le;Rt.text=Rt.tail+vt;var ke=S["x"===zt?"width":"height"];if("paper"===qt&&(Rt.head=P.constrain(Rt.head,1,ke-1)),"pixel"===ae){var Oe=-Math.max(Rt.tail-3,Rt.text),Ae=Math.min(Rt.tail+3,Rt.text)-ke;Oe>0?(Rt.tail+=Oe,Rt.text+=Oe):Ae>0&&(Rt.tail-=Ae,Rt.text-=Ae)}Rt.tail+=Et,Rt.head+=Et}else It=vt=Zt*Vt(pt,Ct),Rt.text=Ot+vt;Rt.text+=Et,vt+=Et,h["_"+zt+"padplus"]=Zt/2+(It+=Et),h["_"+zt+"padminus"]=Zt/2-It,h["_"+zt+"size"]=Zt,h["_"+zt+"shift"]=vt}if(te)ut.remove();else{var je=0,Ze=0;"left"!==h.align&&(je=(St-Mt)*("center"===h.align?.5:1)),"top"!==h.valign&&(Ze=(Ut-wt)*("middle"===h.valign?.5:1)),Dt?bt.select("svg").attr({x:Z+je-1,y:Z+Ze}).call(e.setClipUrl,X?O:null,o):nt.call(f.positionText,Z+je-Ft.left,Z+Ze-Ft.top).call(e.setClipUrl,X?O:null,o),at.select("rect").call(e.setRect,Z,Z,St,Ut),H.call(e.setRect,J/2,J/2,Gt-J,Pt-J),ut.call(e.setTranslate,Math.round(B.x.text-Gt/2),Math.round(B.y.text-Pt/2)),G.attr({transform:"rotate("+z+","+B.x.text+","+B.y.text+")"});var He,Ve=function(wr,ar){U.selectAll(".annotation-arrow-g").remove();var ie=B.x.head,ne=B.y.head,ve=B.x.tail+wr,xe=B.y.tail+ar,Te=B.x.text+wr,be=B.y.text+ar,Pe=P.rotationXYMatrix(z,Te,be),Be=P.apply2DTransform(Pe),Qe=P.apply2DTransform2(Pe),Ke=+H.attr("width"),tr=+H.attr("height"),vr=Te-.5*Ke,Ht=vr+Ke,Nt=be-.5*tr,Se=Nt+tr,Le=[[vr,Nt,vr,Se],[vr,Se,Ht,Se],[Ht,Se,Ht,Nt],[Ht,Nt,vr,Nt]].map(Qe);if(!Le.reduce(function(Zr,rn){return Zr^!!P.segmentsIntersect(ie,ne,ie+1e6,ne+1e6,rn[0],rn[1],rn[2],rn[3])},!1)){Le.forEach(function(Zr){var rn=P.segmentsIntersect(ve,xe,ie,ne,Zr[0],Zr[1],Zr[2],Zr[3]);rn&&(ve=rn.x,xe=rn.y)});var We=h.arrowwidth,rr=h.arrowcolor,or=h.arrowside,qe=U.append("g").style({opacity:x.opacity(rr)}).classed("annotation-arrow-g",!0),De=qe.append("path").attr("d","M"+ve+","+xe+"L"+ie+","+ne).style("stroke-width",We+"px").call(x.stroke,x.rgb(rr));if(u(De,or,h),n.annotationPosition&&De.node().parentNode&&!T){var sr=ie,gr=ne;if(h.standoff){var dr=Math.sqrt(Math.pow(ie-ve,2)+Math.pow(ne-xe,2));sr+=h.standoff*(ve-ie)/dr,gr+=h.standoff*(xe-ne)/dr}var qr,Er,Pr=qe.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(ve-sr)+","+(xe-gr),transform:E(sr,gr)}).style("stroke-width",We+6+"px").call(x.stroke,"rgba(0,0,0,0)").call(x.fill,"rgba(0,0,0,0)");s.init({element:Pr.node(),gd:o,prepFn:function(){var Zr=e.getTranslate(ut);qr=Zr.x,Er=Zr.y,L&&L.autorange&&D(L._name+".autorange",!0),m&&m.autorange&&D(m._name+".autorange",!0)},moveFn:function(Zr,rn){var zr=Be(qr,Er),Pn=zr[0]+Zr,An=zr[1]+rn;ut.call(e.setTranslate,Pn,An),N("x",w(L,Zr,"x",b,h)),N("y",w(m,rn,"y",b,h)),h.axref===h.xref&&N("ax",w(L,Zr,"ax",b,h)),h.ayref===h.yref&&N("ay",w(m,rn,"ay",b,h)),qe.attr("transform",E(Zr,rn)),G.attr({transform:"rotate("+z+","+Pn+","+An+")"})},doneFn:function(){g.call("_guiRelayout",o,k());var Zr=document.querySelector(".js-notes-box-panel");Zr&&Zr.redraw(Zr.selectedObj)}})}}};h.showarrow&&Ve(0,0),Q&&s.init({element:ut.node(),gd:o,prepFn:function(){He=G.attr("transform")},moveFn:function(wr,ar){var ie="pointer";if(h.showarrow)N("ax",h.axref===h.xref?w(L,wr,"ax",b,h):h.ax+wr),N("ay",h.ayref===h.yref?w(m,ar,"ay",b.w,h):h.ay+ar),Ve(wr,ar);else{if(T)return;var ne,ve;if(L)ne=w(L,wr,"x",b,h);else{var xe=h._xsize/b.w;ne=s.align(h.x+(h._xshift-h.xshift)/b.w-xe/2+wr/b.w,xe,0,1,h.xanchor)}if(m)ve=w(m,ar,"y",b,h);else{var be=h._ysize/b.h;ve=s.align(h.y-(h._yshift+h.yshift)/b.h-be/2-ar/b.h,be,0,1,h.yanchor)}N("x",ne),N("y",ve),(!L||!m)&&(ie=s.getCursor(L?.5:ne,m?.5:ve,h.xanchor,h.yanchor))}G.attr({transform:E(wr,ar)+He}),a(ut,ie)},clickFn:function(wr,ar){h.captureevents&&o.emit("plotly_clickannotation",it(ar))},doneFn:function(){a(ut),g.call("_guiRelayout",o,k());var wr=document.querySelector(".js-notes-box-panel");wr&&wr.redraw(wr.selectedObj)}})}}}tt.exports={draw:function y(o){var h=o._fullLayout;h._infolayer.selectAll(".annotation").remove();for(var M=0;M<h.annotations.length;M++)h.annotations[M].visible&&v(o,M);return i.previousPromises(o)},drawOne:v,drawRaw:d}},13011:function(tt,W,t){"use strict";var A=t(39898),g=t(7901),i=t(82884),P=t(71828),E=P.strScale,l=P.strRotate,x=P.strTranslate;tt.exports=function(r,f,a){var M,T,L,m,s=r.node(),c=i[a.arrowhead||0],u=i[a.startarrowhead||0],y=(a.arrowwidth||1)*(a.arrowsize||1),v=(a.arrowwidth||1)*(a.startarrowsize||1),w=f.indexOf("start")>=0,d=f.indexOf("end")>=0,o=c.backoff*y+a.standoff,h=u.backoff*v+a.startstandoff;if("line"===s.nodeName){M={x:+r.attr("x1"),y:+r.attr("y1")},T={x:+r.attr("x2"),y:+r.attr("y2")};var S=M.x-T.x,b=M.y-T.y;if(m=(L=Math.atan2(b,S))+Math.PI,o&&h&&o+h>Math.sqrt(S*S+b*b))return void G();if(o){if(o*o>S*S+b*b)return void G();var n=o*Math.cos(L),C=o*Math.sin(L);T.x+=n,T.y+=C,r.attr({x2:T.x,y2:T.y})}if(h){if(h*h>S*S+b*b)return void G();var p=h*Math.cos(L),F=h*Math.sin(L);M.x-=p,M.y-=F,r.attr({x1:M.x,y1:M.y})}}else if("path"===s.nodeName){var D=s.getTotalLength(),N="";if(D<o+h)return void G();var k=s.getPointAtLength(0),O=s.getPointAtLength(.1);L=Math.atan2(k.y-O.y,k.x-O.x),M=s.getPointAtLength(Math.min(h,D)),N="0px,"+h+"px,";var B=s.getPointAtLength(D),z=s.getPointAtLength(D-.1);m=Math.atan2(B.y-z.y,B.x-z.x),T=s.getPointAtLength(Math.max(0,D-o)),r.style("stroke-dasharray",N+=D-(N?h+o:o)+"px,"+D+"px")}function G(){r.style("stroke-dasharray","0px,100px")}function Q(rt,it,ut,J){!rt.path||(rt.noRotate&&(ut=0),A.select(s.parentNode).append("path").attr({class:r.attr("class"),d:rt.path,transform:x(it.x,it.y)+l(180*ut/Math.PI)+E(J)}).style({fill:g.rgb(a.arrowcolor),"stroke-width":0}))}w&&Q(u,M,L,v),d&&Q(c,T,m,y)}},32745:function(tt,W,t){"use strict";var A=t(92605),g=t(44317);tt.exports={moduleType:"component",name:"annotations",layoutAttributes:t(50215),supplyLayoutDefaults:t(84046),includeBasePlot:t(76325)("annotations"),calcAutorange:t(3749),draw:A.draw,drawOne:A.drawOne,drawRaw:A.drawRaw,hasClickToShow:g.hasClickToShow,onClick:g.onClick,convertCoords:t(94128)}},26997:function(tt,W,t){"use strict";var A=t(50215),g=t(30962).overrideAll,i=t(44467).templatedArray;tt.exports=g(i("annotation",{visible:A.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:A.xanchor,xshift:A.xshift,yanchor:A.yanchor,yshift:A.yshift,text:A.text,textangle:A.textangle,font:A.font,width:A.width,height:A.height,opacity:A.opacity,align:A.align,valign:A.valign,bgcolor:A.bgcolor,bordercolor:A.bordercolor,borderpad:A.borderpad,borderwidth:A.borderwidth,showarrow:A.showarrow,arrowcolor:A.arrowcolor,arrowhead:A.arrowhead,startarrowhead:A.startarrowhead,arrowside:A.arrowside,arrowsize:A.arrowsize,startarrowsize:A.startarrowsize,arrowwidth:A.arrowwidth,standoff:A.standoff,startstandoff:A.startstandoff,hovertext:A.hovertext,hoverlabel:A.hoverlabel,captureevents:A.captureevents}),"calc","from-root")},5485:function(tt,W,t){"use strict";var A=t(71828),g=t(89298);function i(P,E){var x=E.fullSceneLayout.domain,e=E.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};P._xa={},A.extendFlat(P._xa,r),g.setConvert(P._xa),P._xa._offset=e.l+x.x[0]*e.w,P._xa.l2p=function(){return.5*(1+P._pdata[0]/P._pdata[3])*e.w*(x.x[1]-x.x[0])},P._ya={},A.extendFlat(P._ya,r),g.setConvert(P._ya),P._ya._offset=e.t+(1-x.y[1])*e.h,P._ya.l2p=function(){return.5*(1-P._pdata[1]/P._pdata[3])*e.h*(x.y[1]-x.y[0])}}tt.exports=function(E){for(var x=E.fullSceneLayout.annotations,e=0;e<x.length;e++)i(x[e],E);E.fullLayout._infolayer.selectAll(".annotation-"+E.id).remove()}},20226:function(tt,W,t){"use strict";var A=t(71828),g=t(89298),i=t(85501),P=t(25625),E=t(26997);function l(x,e,r,f){function a(u,y){return A.coerce(x,e,E,u,y)}function s(u){var y=u+"axis",v={_fullLayout:{}};return v._fullLayout[y]=r[y],g.coercePosition(e,v,a,u,u,.5)}!a("visible")||(P(x,e,f.fullLayout,a),s("x"),s("y"),s("z"),A.noneOrAll(x,e,["x","y","z"]),e.xref="x",e.yref="y",e.zref="z",a("xanchor"),a("yanchor"),a("xshift"),a("yshift"),e.showarrow&&(e.axref="pixel",e.ayref="pixel",a("ax",-10),a("ay",-30),A.noneOrAll(x,e,["ax","ay"])))}tt.exports=function(e,r,f){i(e,r,{name:"annotations",handleItemDefaults:l,fullLayout:f.fullLayout})}},82188:function(tt,W,t){"use strict";var A=t(92605).drawRaw,g=t(63538),i=["x","y","z"];tt.exports=function(E){for(var l=E.fullSceneLayout,x=E.dataScale,e=l.annotations,r=0;r<e.length;r++){for(var f=e[r],a=!1,s=0;s<3;s++){var c=i[s],v=l[c+"axis"].r2fraction(f[c]);if(v<0||v>1){a=!0;break}}a?E.fullLayout._infolayer.select(".annotation-"+E.id+'[data-index="'+r+'"]').remove():(f._pdata=g(E.glplot.cameraParams,[l.xaxis.r2l(f.x)*x[0],l.yaxis.r2l(f.y)*x[1],l.zaxis.r2l(f.z)*x[2]]),A(E.graphDiv,f,r,E.id,f._xa,f._ya))}}},2468:function(tt,W,t){"use strict";var A=t(73972),g=t(71828);tt.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t(26997)}}},layoutAttributes:t(26997),handleDefaults:t(20226),includeBasePlot:function i(P,E){var l=A.subplotsRegistry.gl3d;if(l)for(var x=l.attrRegex,e=Object.keys(P),r=0;r<e.length;r++){var f=e[r];x.test(f)&&(P[f].annotations||[]).length&&(g.pushUnique(E._basePlotModules,l),g.pushUnique(E._subplots.gl3d,f))}},convert:t(5485),draw:t(82188)}},7561:function(tt,W,t){"use strict";tt.exports=t(63489),t(94338),t(3961),t(38751),t(86825),t(37715),t(99384),t(43805),t(88874),t(83290),t(29108),t(55422),t(94320),t(31320),t(51367),t(21457)},72201:function(tt,W,t){"use strict";var A=t(7561),g=t(71828),i=t(50606),P=i.EPOCHJD,E=i.ONEDAY,l={valType:"enumerated",values:g.sortObjectKeys(A.calendars),editType:"calc",dflt:"gregorian"},x=function(L,m,S,b){var n={};return n[S]=l,g.coerce(L,m,n,S,b)},s="##",c={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:s,w:s,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};var y={};function v(L){var m=y[L];return m||(y[L]=A.instance(L))}function w(L){return g.extendFlat({},l,{description:L})}function d(L){return"Sets the calendar system to use with `"+L+"` date data."}var o={xcalendar:w(d("x"))},h=g.extendFlat({},o,{ycalendar:w(d("y"))}),M=g.extendFlat({},h,{zcalendar:w(d("z"))}),T=w(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));tt.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:h,bar:h,box:h,heatmap:h,contour:h,histogram:h,histogram2d:h,histogram2dcontour:h,scatter3d:M,surface:M,mesh3d:M,scattergl:h,ohlc:o,candlestick:o},layout:{calendar:w(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:T},yaxis:{calendar:T},scene:{xaxis:{calendar:T},yaxis:{calendar:T},zaxis:{calendar:T}},polar:{radialaxis:{calendar:T}}},transforms:{filter:{valuecalendar:w(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:w(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:l,handleDefaults:x,handleTraceDefaults:function(L,m,S,b){for(var n=0;n<S.length;n++)x(L,m,S[n]+"calendar",b.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:v,worldCalFmt:function u(L,m,S){for(var p,F,D,N,k,b=Math.floor((m+.05)/E)+P,n=v(S).fromJD(b),C=0;-1!==(C=L.indexOf("%",C));)"0"===(p=L.charAt(C+1))||"-"===p||"_"===p?(D=3,F=L.charAt(C+2),"_"===p&&(p="-")):(F=p,p="0",D=2),(N=c[F])?(k=N===s?s:n.formatDate(N[p]),L=L.substr(0,C)+k+L.substr(C+D),C+=k.length):C+=D;return L}}},22399:function(tt,W){"use strict";W.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],W.defaultLine="#444",W.lightLine="#eee",W.background="#fff",W.borderLine="#BEC8D9",W.lightFraction=90.9090909090909},7901:function(tt,W,t){"use strict";var A=t(84267),g=t(92770),i=t(73627).isTypedArray,P=tt.exports={},E=t(22399);P.defaults=E.defaults;var l=P.defaultLine=E.defaultLine;P.lightLine=E.lightLine;var x=P.background=E.background;function e(r){if(g(r)||"string"!=typeof r)return r;var f=r.trim();if("rgb"!==f.substr(0,3))return r;var a=f.match(/^rgba?\s*\(([^()]*)\)$/);if(!a)return r;var s=a[1].trim().split(/\s*[\s,]\s*/),c="a"===f.charAt(3)&&4===s.length;if(!c&&3!==s.length)return r;for(var u=0;u<s.length;u++){if(!(s[u].length&&(s[u]=Number(s[u]),s[u]>=0)))return r;if(3===u)s[u]>1&&(s[u]=1);else if(s[u]>=1)return r}var y=Math.round(255*s[0])+", "+Math.round(255*s[1])+", "+Math.round(255*s[2]);return c?"rgba("+y+", "+s[3]+")":"rgb("+y+")"}P.tinyRGB=function(r){var f=r.toRgb();return"rgb("+Math.round(f.r)+", "+Math.round(f.g)+", "+Math.round(f.b)+")"},P.rgb=function(r){return P.tinyRGB(A(r))},P.opacity=function(r){return r?A(r).getAlpha():0},P.addOpacity=function(r,f){var a=A(r).toRgb();return"rgba("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+", "+f+")"},P.combine=function(r,f){var a=A(r).toRgb();if(1===a.a)return A(r).toRgbString();var s=A(f||x).toRgb(),c=1===s.a?s:{r:255*(1-s.a)+s.r*s.a,g:255*(1-s.a)+s.g*s.a,b:255*(1-s.a)+s.b*s.a};return A({r:c.r*(1-a.a)+a.r*a.a,g:c.g*(1-a.a)+a.g*a.a,b:c.b*(1-a.a)+a.b*a.a}).toRgbString()},P.contrast=function(r,f,a){var s=A(r);return 1!==s.getAlpha()&&(s=A(P.combine(r,x))),(s.isDark()?f?s.lighten(f):x:a?s.darken(a):l).toString()},P.stroke=function(r,f){var a=A(f);r.style({stroke:P.tinyRGB(a),"stroke-opacity":a.getAlpha()})},P.fill=function(r,f){var a=A(f);r.style({fill:P.tinyRGB(a),"fill-opacity":a.getAlpha()})},P.clean=function(r){if(r&&"object"==typeof r){var a,s,c,u,f=Object.keys(r);for(a=0;a<f.length;a++)if(u=r[c=f[a]],"color"===c.substr(c.length-5))if(Array.isArray(u))for(s=0;s<u.length;s++)u[s]=e(u[s]);else r[c]=e(u);else if("colorscale"===c.substr(c.length-10)&&Array.isArray(u))for(s=0;s<u.length;s++)Array.isArray(u[s])&&(u[s][1]=e(u[s][1]));else if(Array.isArray(u)){var y=u[0];if(!Array.isArray(y)&&y&&"object"==typeof y)for(s=0;s<u.length;s++)P.clean(u[s])}else u&&"object"==typeof u&&!i(u)&&P.clean(u)}}},63583:function(tt,W,t){"use strict";var A=t(13838),g=t(41940),i=t(1426).extendFlat,P=t(30962).overrideAll;tt.exports=P({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:A.linecolor,outlinewidth:A.linewidth,bordercolor:A.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:A.minor.tickmode,nticks:A.nticks,tick0:A.tick0,dtick:A.dtick,tickvals:A.tickvals,ticktext:A.ticktext,ticks:i({},A.ticks,{dflt:""}),ticklabeloverflow:i({},A.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:A.ticklen,tickwidth:A.tickwidth,tickcolor:A.tickcolor,ticklabelstep:A.ticklabelstep,showticklabels:A.showticklabels,labelalias:A.labelalias,tickfont:g({}),tickangle:A.tickangle,tickformat:A.tickformat,tickformatstops:A.tickformatstops,tickprefix:A.tickprefix,showtickprefix:A.showtickprefix,ticksuffix:A.ticksuffix,showticksuffix:A.showticksuffix,separatethousands:A.separatethousands,exponentformat:A.exponentformat,minexponent:A.minexponent,showexponent:A.showexponent,title:{text:{valType:"string"},font:g({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:g({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(tt){"use strict";tt.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(tt,W,t){"use strict";var A=t(71828),g=t(44467),i=t(26218),P=t(38701),E=t(96115),l=t(89426),x=t(63583);tt.exports=function(r,f,a){var s=g.newContainer(f,"colorbar"),c=r.colorbar||{};function u(B,z){return A.coerce(c,s,x,B,z)}var y=a.margin||{t:0,b:0,l:0,r:0},v=a.width-y.l-y.r,w=a.height-y.t-y.b,o="v"===u("orientation"),h=u("thicknessmode");u("thickness","fraction"===h?30/(o?v:w):30);var M=u("lenmode");u("len","fraction"===M?1:o?w:v);var b,n,C,m="paper"===u("yref"),S="paper"===u("xref"),p="left";o?(C="middle",p=S?"left":"right",b=S?1.02:1,n=.5):(C=m?"bottom":"top",p="center",b=.5,n=m?1.02:1),A.coerce(c,s,{x:{valType:"number",min:S?-2:0,max:S?3:1,dflt:b}},"x"),A.coerce(c,s,{y:{valType:"number",min:m?-2:0,max:m?3:1,dflt:n}},"y"),u("xanchor",p),u("xpad"),u("yanchor",C),u("ypad"),A.noneOrAll(c,s,["x","y"]),u("outlinecolor"),u("outlinewidth"),u("bordercolor"),u("borderwidth"),u("bgcolor");var F=A.coerce(c,s,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");u("ticklabeloverflow",-1!==F.indexOf("inside")?"hide past domain":"hide past div"),i(c,s,u,"linear");var D=a.font,N={outerTicks:!1,font:D};-1!==F.indexOf("inside")&&(N.bgColor="black"),l(c,s,u,"linear",N),E(c,s,u,"linear",N),P(c,s,u,"linear",N),u("title.text",a._dfltTitle.colorbar);var k=s.showticklabels?s.tickfont:D,O=A.extendFlat({},k,{color:D.color,size:A.bigFont(k.size)});A.coerceFont(u,"title.font",O),u("title.side",o?"top":"right")}},98981:function(tt,W,t){"use strict";var A=t(39898),g=t(84267),i=t(74875),P=t(73972),E=t(89298),l=t(28569),x=t(71828),e=x.strTranslate,r=t(1426).extendFlat,f=t(6964),a=t(91424),s=t(7901),c=t(92998),u=t(63893),y=t(52075).flipScale,v=t(71453),w=t(52830),d=t(13838),o=t(18783),h=o.LINE_SPACING,M=o.FROM_TL,T=o.FROM_BR,L=t(30939).cn;tt.exports={draw:function m(F){var N=F._fullLayout._infolayer.selectAll("g."+L.colorbar).data(function S(F){var O,B,z,U,D=F._fullLayout,N=F.calcdata,k=[];function G(_){return r(_,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Q(){"function"==typeof U.calc?U.calc(F,z,O):(O._fillgradient=B.reversescale?y(B.colorscale):B.colorscale,O._zrange=[B[U.min],B[U.max]])}for(var rt=0;rt<N.length;rt++){var ut=(z=N[rt][0].trace)._module.colorbar;if(!0===z.visible&&ut)for(var J=Array.isArray(ut),j=J?ut:[ut],Z=0;Z<j.length;Z++){var H=(U=j[Z]).container;(B=H?z[H]:z)&&B.showscale&&((O=G(B.colorbar))._id="cb"+z.uid+(J&&H?"-"+H:""),O._traceIndex=z.index,O._propPrefix=(H?H+".":"")+"colorbar.",O._meta=z._meta,Q(),k.push(O))}}for(var X in D._colorAxes)if((B=D[X]).showscale){var at=D._colorAxes[X];(O=G(B.colorbar))._id="cb"+X,O._propPrefix=X+".colorbar.",O._meta=D._meta,U={min:"cmin",max:"cmax"},"heatmap"!==at[0]&&(U.calc=(z=at[1])._module.colorbar.calc),Q(),k.push(O)}return k}(F),function(k){return k._id});N.enter().append("g").attr("class",function(k){return k._id}).classed(L.colorbar,!0),N.each(function(k){var O=A.select(this);x.ensureSingle(O,"rect",L.cbbg),x.ensureSingle(O,"g",L.cbfills),x.ensureSingle(O,"g",L.cblines),x.ensureSingle(O,"g",L.cbaxis,function(z){z.classed(L.crisp,!0)}),x.ensureSingle(O,"g",L.cbtitleunshift,function(z){z.append("g").classed(L.cbtitle,!0)}),x.ensureSingle(O,"rect",L.cboutline);var B=function b(F,D,N){var k="v"===D.orientation,O=D.len,B=D.lenmode,z=D.thickness,U=D.thicknessmode,G=D.outlinewidth,Q=D.borderwidth,rt=D.bgcolor,it=D.xanchor,ut=D.yanchor,J=D.xpad,j=D.ypad,Z=D.x,H=k?D.y:1-D.y,X="paper"===D.yref,at="paper"===D.xref,_=N._fullLayout,K=_._size,nt=D._fillcolor,et=D._line,st=D.title,dt=st.side,Tt=D._zrange||A.extent(("function"==typeof nt?nt:et.color).domain()),bt="function"==typeof et.color?et.color:function(){return et.color},Dt="function"==typeof nt?nt:function(){return nt},Ft=D._levels,Mt=function C(F,D,N){var z,U,k=D._levels,O=[],B=[],G=k.end+k.size/100,Q=k.size,rt=1.001*N[0]-.001*N[1],it=1.001*N[1]-.001*N[0];for(U=0;U<1e5&&(z=k.start+U*Q,!(Q>0?z>=G:z<=G));U++)z>rt&&z<it&&O.push(z);if(D._fillgradient)B=[0];else if("function"==typeof D._fillcolor){var ut=D._filllevels;if(ut)for(G=ut.end+ut.size/100,Q=ut.size,U=0;U<1e5&&(z=ut.start+U*Q,!(Q>0?z>=G:z<=G));U++)z>N[0]&&z<N[1]&&B.push(z);else(B=O.map(function(J){return J-k.size/2})).push(B[B.length-1]+k.size)}else D._fillcolor&&"string"==typeof D._fillcolor&&(B=[0]);return k.size<0&&(O.reverse(),B.reverse()),{line:O,fill:B}}(0,D,Tt),wt=Mt.fill,St=Mt.line,Ut=Math.round(z*("fraction"===U?k?K.w:K.h:1)),Gt=Ut/(k?K.w:K.h),Pt=Math.round(O*("fraction"===B?k?K.h:K.w:1)),Vt=Pt/(k?K.h:K.w),te=at?K.w:N._fullLayout.width,_t=X?K.h:N._fullLayout.height,kt=Math.round(k?Z*te+J:H*_t+j),zt={center:.5,right:1}[it]||0,qt={top:1,middle:.5}[ut]||0,ae=k?Z-zt*Gt:H-qt*Gt,oe=k?H-qt*Vt:Z-zt*Vt,pe=Math.round(k?_t*(1-oe):te*oe);D._lenFrac=Vt,D._thickFrac=Gt,D._uFrac=ae,D._vFrac=oe;var ye=D._axis=function p(F,D,N){var k=F._fullLayout,O="v"===D.orientation,B={type:"linear",range:N,tickmode:D.tickmode,nticks:D.nticks,tick0:D.tick0,dtick:D.dtick,tickvals:D.tickvals,ticktext:D.ticktext,ticks:D.ticks,ticklen:D.ticklen,tickwidth:D.tickwidth,tickcolor:D.tickcolor,showticklabels:D.showticklabels,labelalias:D.labelalias,ticklabelposition:D.ticklabelposition,ticklabeloverflow:D.ticklabeloverflow,ticklabelstep:D.ticklabelstep,tickfont:D.tickfont,tickangle:D.tickangle,tickformat:D.tickformat,exponentformat:D.exponentformat,minexponent:D.minexponent,separatethousands:D.separatethousands,showexponent:D.showexponent,showtickprefix:D.showtickprefix,tickprefix:D.tickprefix,showticksuffix:D.showticksuffix,ticksuffix:D.ticksuffix,title:D.title,showline:!0,anchor:"free",side:O?"right":"bottom",position:1},z=O?"y":"x",U={type:"linear",_id:z+D._id},G={letter:z,font:k.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:k.calendar};function Q(rt,it){return x.coerce(B,U,d,rt,it)}return v(B,U,Q,G,k),w(B,U,Q,G),U}(N,D,Tt);ye.position=Gt+(k?Z+J/K.w:H+j/K.h);var Fe=-1!==["top","bottom"].indexOf(dt);if(k&&Fe&&(ye.title.side=dt,ye.titlex=Z+J/K.w,ye.titley=oe+("top"===st.side?Vt-j/K.h:j/K.h)),!k&&!Fe&&(ye.title.side=dt,ye.titley=H+j/K.h,ye.titlex=oe+J/K.w),et.color&&"auto"===D.tickmode){ye.tickmode="linear",ye.tick0=Ft.start;var Zt=Ft.size,Ct=x.constrain(Pt/50,4,15)+1,Et=(Tt[1]-Tt[0])/((D.nticks||Ct)*Zt);if(Et>1){var Rt=Math.pow(10,Math.floor(Math.log(Et)/Math.LN10));Zt*=Rt*x.roundUp(Et/Rt,[2,5,10]),(Math.abs(Ft.start)/Ft.size+1e-6)%1<2e-6&&(ye.tick0=0)}ye.dtick=Zt}ye.domain=k?[oe+j/K.h,oe+Vt-j/K.h]:[oe+J/K.w,oe+Vt-J/K.w],ye.setScale(),F.attr("transform",e(Math.round(K.l),Math.round(K.t)));var vt,Ot=F.select("."+L.cbtitleunshift).attr("transform",e(-Math.round(K.l),-Math.round(K.t))),It=ye.ticklabelposition,gt=ye.title.font.size,pt=F.select("."+L.cbaxis),yt=0,Yt=0;function Qt(Ae,je){var Ze={propContainer:ye,propName:D._propPrefix+"title",traceIndex:D._traceIndex,_meta:D._meta,placeholder:_._dfltTitle.colorbar,containerGroup:F.select("."+L.cbtitle)},Lr="h"===Ae.charAt(0)?Ae.substr(1):"h"+Ae;F.selectAll("."+Lr+",."+Lr+"-math-group").remove(),c.draw(N,Ae,r(Ze,je||{}))}function le(){var Ae,je;(k&&Fe||!k&&!Fe)&&("top"===dt&&(Ae=J+K.l+te*Z,je=j+K.t+_t*(1-oe-Vt)+3+.75*gt),"bottom"===dt&&(Ae=J+K.l+te*Z,je=j+K.t+_t*(1-oe)-3-.25*gt),"right"===dt&&(je=j+K.t+_t*H+3+.75*gt,Ae=J+K.l+te*oe),Qt(ye._id+"title",{attributes:{x:Ae,y:je,"text-anchor":k?"start":"middle"}}))}function he(){if(k&&!Fe||!k&&Fe){var Ze,Lr,Ae=ye.position||0,je=ye._offset+ye._length/2;if("right"===dt)Lr=je,Ze=K.l+te*Ae+10+gt*(ye.showticklabels?1:.5);else if(Ze=je,"bottom"===dt&&(Lr=K.t+_t*Ae+10+(-1===It.indexOf("inside")?ye.tickfont.size:0)+("intside"!==ye.ticks&&D.ticklen||0)),"top"===dt){var fe=st.text.split("<br>").length;Lr=K.t+_t*Ae+10-Ut-h*gt*fe}Qt((k?"h":"v")+ye._id+"title",{avoid:{selection:A.select(N).selectAll("g."+ye._id+"tick"),side:dt,offsetTop:k?0:K.t,offsetLeft:k?K.l:0,maxShift:k?_.width:_.height},attributes:{x:Ze,y:Lr,"text-anchor":"middle"},transform:{rotate:k?-90:0,offset:0}})}}function ke(){if(!k&&!Fe||k&&Fe){var Ve,Ae=F.select("."+L.cbtitle),je=Ae.select("text"),Ze=[-G/2,G/2],Lr=Ae.select(".h"+ye._id+"title-math-group").node(),fe=15.6;if(je.node()&&(fe=parseInt(je.node().style.fontSize,10)*h),Lr?(Ve=a.bBox(Lr),Yt=Ve.width,(yt=Ve.height)>fe&&(Ze[1]-=(yt-fe)/2)):je.node()&&!je.classed(L.jsPlaceholder)&&(Ve=a.bBox(je.node()),Yt=Ve.width,yt=Ve.height),k){if(yt){if(yt+=5,"top"===dt)ye.domain[1]-=yt/K.h,Ze[1]*=-1;else{ye.domain[0]+=yt/K.h;var He=u.lineCount(je);Ze[1]+=(1-He)*fe}Ae.attr("transform",e(Ze[0],Ze[1])),ye.setScale()}}else Yt&&("right"===dt&&(ye.domain[0]+=(Yt+gt/2)/K.w),Ae.attr("transform",e(Ze[0],Ze[1])),ye.setScale())}F.selectAll("."+L.cbfills+",."+L.cblines).attr("transform",k?e(0,Math.round(K.h*(1-ye.domain[1]))):e(Math.round(K.w*ye.domain[0]),0)),pt.attr("transform",k?e(0,Math.round(-K.t)):e(Math.round(-K.l),0));var wr=F.select("."+L.cbfills).selectAll("rect."+L.cbfill).attr("style","").data(wt);wr.enter().append("rect").classed(L.cbfill,!0).style("stroke","none"),wr.exit().remove();var ar=Tt.map(ye.c2p).map(Math.round).sort(function(Te,be){return Te-be});wr.each(function(Te,be){var Pe=[0===be?Tt[0]:(wt[be]+wt[be-1])/2,be===wt.length-1?Tt[1]:(wt[be]+wt[be+1])/2].map(ye.c2p).map(Math.round);k&&(Pe[1]=x.constrain(Pe[1]+(Pe[1]>Pe[0])?1:-1,ar[0],ar[1]));var Be=A.select(this).attr(k?"x":"y",kt).attr(k?"y":"x",A.min(Pe)).attr(k?"width":"height",Math.max(Ut,2)).attr(k?"height":"width",Math.max(A.max(Pe)-A.min(Pe),2));if(D._fillgradient)a.gradient(Be,N,D._id,k?"vertical":"horizontalreversed",D._fillgradient,"fill");else{var Qe=Dt(Te).replace("e-","");Be.attr("fill",g(Qe).toHexString())}});var ie=F.select("."+L.cblines).selectAll("path."+L.cbline).data(et.color&&et.width?St:[]);ie.enter().append("path").classed(L.cbline,!0),ie.exit().remove(),ie.each(function(Te){var be=kt,Pe=Math.round(ye.c2p(Te))+et.width/2%1;A.select(this).attr("d","M"+(k?be+","+Pe:Pe+","+be)+(k?"h":"v")+Ut).call(a.lineGroupStyle,et.width,bt(Te),et.dash)}),pt.selectAll("g."+ye._id+"tick,path").remove();var ne=kt+Ut+(G||0)/2-("outside"===D.ticks?1:0),ve=E.calcTicks(ye),xe=E.getTickSigns(ye)[2];return E.drawTicks(N,ye,{vals:"inside"===ye.ticks?E.clipEnds(ye,ve):ve,layer:pt,path:E.makeTickPath(ye,ne,xe),transFn:E.makeTransTickFn(ye)}),E.drawLabels(N,ye,{vals:ve,layer:pt,transFn:E.makeTransTickLabelFn(ye),labelFns:E.makeLabelFns(ye,ne)})}function Oe(){var Ae,je=Ut+G/2;-1===It.indexOf("inside")&&(Ae=a.bBox(pt.node()),je+=k?Ae.width:Ae.height),vt=Ot.select("text");var Ze=0,Lr=k&&"top"===dt,fe=!k&&"right"===dt,Ve=0;if(vt.node()&&!vt.classed(L.jsPlaceholder)){var He,wr=Ot.select(".h"+ye._id+"title-math-group").node();wr&&(k&&Fe||!k&&!Fe)?(Ze=(Ae=a.bBox(wr)).width,He=Ae.height):(Ze=(Ae=a.bBox(Ot.node())).right-K.l-(k?kt:pe),He=Ae.bottom-K.t-(k?pe:kt),!k&&"top"===dt&&(je+=Ae.height,Ve=Ae.height)),fe&&(vt.attr("transform",e(Ze/2+gt/2,0)),Ze*=2),je=Math.max(je,k?Ze:He)}var ar=2*(k?J:j)+je+Q+G/2,ie=0;!k&&st.text&&"bottom"===ut&&H<=0&&(ar+=ie=ar/2,Ve+=ie),_._hColorbarMoveTitle=ie,_._hColorbarMoveCBTitle=Ve;var ne=Q+G,ve=(k?kt:pe)-ne/2-(k?J:0),xe=(k?pe:kt)-(k?Pt:j+Ve-ie);F.select("."+L.cbbg).attr("x",ve).attr("y",xe).attr(k?"width":"height",Math.max(ar-ie,2)).attr(k?"height":"width",Math.max(Pt+ne,2)).call(s.fill,rt).call(s.stroke,D.bordercolor).style("stroke-width",Q);var Te=fe?Math.max(Ze-10,0):0;F.selectAll("."+L.cboutline).attr("x",(k?kt:pe+J)+Te).attr("y",(k?pe+j-Pt:kt)+(Lr?yt:0)).attr(k?"width":"height",Math.max(Ut,2)).attr(k?"height":"width",Math.max(Pt-(k?2*j+yt:2*J+Te),2)).call(s.stroke,D.outlinecolor).style({fill:"none","stroke-width":G});var be=k?zt*ar:0,Pe=k?0:(1-qt)*ar-Ve;if(F.attr("transform",e(be=at?K.l-be:-be,Pe=X?K.t-Pe:-Pe)),!k&&(Q||g(rt).getAlpha()&&!g.equals(_.paper_bgcolor,rt))){var Be=pt.selectAll("text"),Qe=Be[0].length,Ke=F.select("."+L.cbbg).node(),tr=a.bBox(Ke),vr=a.getTranslate(F),Ht=2;Be.each(function(gr,dr){var Pr=0,qr=Qe-1;if(dr===Pr||dr===qr){var rn,Er=a.bBox(this),Zr=a.getTranslate(this);dr===qr?(rn=tr.right+vr.x+pe-Q-Ht+Z-(Er.right+Zr.x))>0&&(rn=0):dr===Pr&&(rn=tr.left+vr.x+pe+Q+Ht-(Er.left+Zr.x))<0&&(rn=0),rn&&(Qe<3?this.setAttribute("transform","translate("+rn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Nt={},Se=M[it],Le=T[it],We=M[ut],rr=T[ut],or=ar-Ut;k?("pixels"===B?(Nt.y=H,Nt.t=Pt*We,Nt.b=Pt*rr):(Nt.t=Nt.b=0,Nt.yt=H+O*We,Nt.yb=H-O*rr),"pixels"===U?(Nt.x=Z,Nt.l=ar*Se,Nt.r=ar*Le):(Nt.l=or*Se,Nt.r=or*Le,Nt.xl=Z-z*Se,Nt.xr=Z+z*Le)):("pixels"===B?(Nt.x=Z,Nt.l=Pt*Se,Nt.r=Pt*Le):(Nt.l=Nt.r=0,Nt.xl=Z+O*Se,Nt.xr=Z-O*Le),"pixels"===U?(Nt.y=1-H,Nt.t=ar*We,Nt.b=ar*rr):(Nt.t=or*We,Nt.b=or*rr,Nt.yt=H-z*We,Nt.yb=H+z*rr));var qe=D.y<.5?"b":"t",De=D.x<.5?"l":"r";N._fullLayout._reservedMargin[D._id]={};var sr={r:_.width-ve-be,l:ve+Nt.r,b:_.height-xe-Pe,t:xe+Nt.b};at&&X?i.autoMargin(N,D._id,Nt):at?N._fullLayout._reservedMargin[D._id][qe]=sr[qe]:X||k?N._fullLayout._reservedMargin[D._id][De]=sr[De]:N._fullLayout._reservedMargin[D._id][qe]=sr[qe]}return x.syncOrAsync([i.previousPromises,le,ke,he,i.previousPromises,Oe],N)}(O,k,F);B&&B.then&&(F._promises||[]).push(B),F._context.edits.colorbarPosition&&function n(F,D,N){var z,U,G,k="v"===D.orientation,B=N._fullLayout._size;l.init({element:F.node(),gd:N,prepFn:function(){z=F.attr("transform"),f(F)},moveFn:function(Q,rt){F.attr("transform",z+e(Q,rt)),U=l.align((k?D._uFrac:D._vFrac)+Q/B.w,k?D._thickFrac:D._lenFrac,0,1,D.xanchor),G=l.align((k?D._vFrac:1-D._uFrac)-rt/B.h,k?D._lenFrac:D._thickFrac,0,1,D.yanchor);var it=l.getCursor(U,G,D.xanchor,D.yanchor);f(F,it)},doneFn:function(){if(f(F),void 0!==U&&void 0!==G){var Q={};Q[D._propPrefix+"x"]=U,Q[D._propPrefix+"y"]=G,void 0!==D._traceIndex?P.call("_guiRestyle",N,Q,D._traceIndex):P.call("_guiRelayout",N,Q)}}})}(O,k,F)}),N.exit().each(function(k){i.autoMargin(F,k._id)}).remove(),N.order()}}},76228:function(tt,W,t){"use strict";var A=t(71828);tt.exports=function(i){return A.isPlainObject(i.colorbar)}},12311:function(tt,W,t){"use strict";tt.exports={moduleType:"component",name:"colorbar",attributes:t(63583),supplyDefaults:t(62499),draw:t(98981).draw,hasColorbar:t(76228)}},50693:function(tt,W,t){"use strict";var A=t(63583),g=t(30587).counter,i=t(78607),P=t(63282).scales;function l(x){return"`"+x+"`"}i(P),tt.exports=function(e,r){e=e||"";var w,f=(r=r||{}).cLetter||"c",s=("onlyIfNumerical"in r||Boolean(e),"noScale"in r?r.noScale:"marker.line"===e),c="showScaleDflt"in r?r.showScaleDflt:"z"===f,u="string"==typeof r.colorscaleDflt?P[r.colorscaleDflt]:null,y=r.editTypeOverride||"",v=e?e+".":"";"colorAttr"in r?w=r.colorAttr:l(v+(w={z:"z",c:"color"}[f]));var h=f+"auto",M=f+"min",T=f+"max",L=f+"mid",C=(l(v+h),l(v+M),l(v+T),{});C[M]=C[T]=void 0;var p={};p[h]=!1;var F={};return"color"===w&&(F.color={valType:"color",arrayOk:!0,editType:y||"style"},r.anim&&(F.color.anim=!0)),F[h]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:C},F[M]={valType:"number",dflt:null,editType:y||"plot",impliedEdits:p},F[T]={valType:"number",dflt:null,editType:y||"plot",impliedEdits:p},F[L]={valType:"number",dflt:null,editType:"calc",impliedEdits:C},F.colorscale={valType:"colorscale",editType:"calc",dflt:u,impliedEdits:{autocolorscale:!1}},F.autocolorscale={valType:"boolean",dflt:!1!==r.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},F.reversescale={valType:"boolean",dflt:!1,editType:"plot"},s||(F.showscale={valType:"boolean",dflt:c,editType:"calc"},F.colorbar=A),r.noColorAxis||(F.coloraxis={valType:"subplotid",regex:g("coloraxis"),dflt:null,editType:"calc"}),F}},78803:function(tt,W,t){"use strict";var A=t(92770),g=t(71828),i=t(52075).extractOpts;tt.exports=function(E,l,x){var e=E._fullLayout,r=x.vals,f=x.containerStr,a=f?g.nestedProperty(l,f).get():l,s=i(a),c=!1!==s.auto,u=s.min,y=s.max,v=s.mid,w=function(){return g.aggNums(Math.min,null,r)},d=function(){return g.aggNums(Math.max,null,r)};void 0===u?u=w():c&&(u=a._colorAx&&A(u)?Math.min(u,w()):w()),void 0===y?y=d():c&&(y=a._colorAx&&A(y)?Math.max(y,d()):d()),c&&void 0!==v&&(y-v>v-u?u=v-(y-v):y-v<v-u&&(y=v+(v-u))),u===y&&(u-=.5,y+=.5),s._sync("min",u),s._sync("max",y),s.autocolorscale&&s._sync("colorscale",u*y<0?e.colorscale.diverging:u>=0?e.colorscale.sequential:e.colorscale.sequentialminus)}},33046:function(tt,W,t){"use strict";var A=t(71828),g=t(52075).hasColorscale,i=t(52075).extractOpts;tt.exports=function(E,l){function x(u,y){var v=u["_"+y];void 0!==v&&(u[y]=v)}function e(u,y){var v=y.container?A.nestedProperty(u,y.container).get():u;if(v)if(v.coloraxis)v._colorAx=l[v.coloraxis];else{var w=i(v),d=w.auto;(d||void 0===w.min)&&x(v,y.min),(d||void 0===w.max)&&x(v,y.max),w.autocolorscale&&x(v,"colorscale")}}for(var r=0;r<E.length;r++){var f=E[r],a=f._module.colorbar;if(a)if(Array.isArray(a))for(var s=0;s<a.length;s++)e(f,a[s]);else e(f,a);g(f,"marker.line")&&e(f,{container:"marker.line",min:"cmin",max:"cmax"})}for(var c in l._colorAxes)e(l[c],{min:"cmin",max:"cmax"})}},1586:function(tt,W,t){"use strict";var A=t(92770),g=t(71828),i=t(76228),P=t(62499),E=t(63282).isValid,l=t(73972).traceIs;function x(e,r){var f=r.slice(0,r.length-1);return r?g.nestedProperty(e,f).get()||{}:e}tt.exports=function e(r,f,a,s,c){var u=c.prefix,y=c.cLetter,v="_module"in f,w=x(r,u),d=x(f,u),o=x(f._template||{},u)||{},h=function(){return delete r.coloraxis,delete f.coloraxis,e(r,f,a,s,c)};if(v){var M=a._colorAxes||{},T=s(u+"coloraxis");if(T){var L=l(f,"contour")&&g.nestedProperty(f,"contours.coloring").get()||"heatmap",m=M[T];return void(m?(m[2].push(h),m[0]!==L&&(m[0]=!1,g.warn(["Ignoring coloraxis:",T,"setting","as it is linked to incompatible colorscales."].join(" ")))):M[T]=[L,f,[h]])}}var S=w[y+"min"],b=w[y+"max"],n=A(S)&&A(b)&&S<b;s(u+y+"auto",!n)?s(u+y+"mid"):(s(u+y+"min"),s(u+y+"max"));var D,N,p=w.colorscale,F=o.colorscale;void 0!==p&&(D=!E(p)),void 0!==F&&(D=!E(F)),s(u+"autocolorscale",D),s(u+"colorscale"),s(u+"reversescale"),"marker.line."!==u&&(u&&v&&(N=i(w)),s(u+"showscale",N)&&(u&&o&&(d._template=o),P(w,d,a)))}},52075:function(tt,W,t){"use strict";var A=t(39898),g=t(84267),i=t(92770),P=t(71828),E=t(7901),l=t(63282).isValid;var e=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function f(v){var h,M,T,w=v._colorAx,d=w||v,o={};for(M=0;M<e.length;M++)o[T=e[M]]=d[T];if(w)for(h="c",M=0;M<r.length;M++)o[T=r[M]]=d["c"+T];else{var L;for(M=0;M<r.length;M++)((L="c"+(T=r[M]))in d||(L="z"+T)in d)&&(o[T]=d[L]);h=L.charAt(0)}return o._sync=function(m,S){var b=-1!==r.indexOf(m)?h+m:m;d[b]=d["_"+b]=S},o}function a(v){for(var w=f(v),d=w.min,o=w.max,h=w.reversescale?s(w.colorscale):w.colorscale,M=h.length,T=new Array(M),L=new Array(M),m=0;m<M;m++){var S=h[m];T[m]=d+S[0]*(o-d),L[m]=S[1]}return{domain:T,range:L}}function s(v){for(var w=v.length,d=new Array(w),o=w-1,h=0;o>=0;o--,h++){var M=v[o];d[h]=[1-M[0],M[1]]}return d}function c(v,w){w=w||{};for(var d=v.domain,o=v.range,h=o.length,M=new Array(h),T=0;T<h;T++){var L=g(o[T]).toRgb();M[T]=[L.r,L.g,L.b,L.a]}var n,m=A.scale.linear().domain(d).range(M).clamp(!0),S=w.noNumericCheck,b=w.returnArray;return(n=S&&b?m:S?function(C){return y(m(C))}:b?function(C){return i(C)?m(C):g(C).isValid()?C:E.defaultLine}:function(C){return i(C)?y(m(C)):g(C).isValid()?C:E.defaultLine}).domain=m.domain,n.range=function(){return o},n}function y(v){return g({r:v[0],g:v[1],b:v[2],a:v[3]}).toRgbString()}tt.exports={hasColorscale:function x(v,w,d){var o=w?P.nestedProperty(v,w).get()||{}:v,h=o[d||"color"],M=!1;if(P.isArrayOrTypedArray(h))for(var T=0;T<h.length;T++)if(i(h[T])){M=!0;break}return P.isPlainObject(o)&&(M||!0===o.showscale||i(o.cmin)&&i(o.cmax)||l(o.colorscale)||P.isPlainObject(o.colorbar))},extractOpts:f,extractScale:a,flipScale:s,makeColorScaleFunc:c,makeColorScaleFuncFromTrace:function u(v,w){return c(a(v),w)}}},21081:function(tt,W,t){"use strict";var A=t(63282),g=t(52075);tt.exports={moduleType:"component",name:"colorscale",attributes:t(50693),layoutAttributes:t(72673),supplyLayoutDefaults:t(30959),handleDefaults:t(1586),crossTraceDefaults:t(33046),calc:t(78803),scales:A.scales,defaultScale:A.defaultScale,getScale:A.get,isValidScale:A.isValid,hasColorscale:g.hasColorscale,extractOpts:g.extractOpts,extractScale:g.extractScale,flipScale:g.flipScale,makeColorScaleFunc:g.makeColorScaleFunc,makeColorScaleFuncFromTrace:g.makeColorScaleFuncFromTrace}},72673:function(tt,W,t){"use strict";var A=t(1426).extendFlat,g=t(50693),i=t(63282).scales;tt.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:A({_isSubplotObj:!0,editType:"calc"},g("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(tt,W,t){"use strict";var A=t(71828),g=t(44467),i=t(72673),P=t(1586);tt.exports=function(l,x){function e(v,w){return A.coerce(l,x,i,v,w)}e("colorscale.sequential"),e("colorscale.sequentialminus"),e("colorscale.diverging");var f,a,r=x._colorAxes;function s(v,w){return A.coerce(f,a,i.coloraxis,v,w)}for(var c in r){var u=r[c];if(u[0])f=l[c]||{},(a=g.newContainer(x,c,"coloraxis"))._name=c,P(f,a,x,s,{prefix:"",cLetter:"c"});else{for(var y=0;y<u[2].length;y++)u[2][y]();delete x._colorAxes[c]}}}},63282:function(tt,W,t){"use strict";var A=t(84267),g={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=g.RdBu;function E(x){var e=0;if(!Array.isArray(x)||x.length<2||!x[0]||!x[x.length-1]||0!=+x[0][0]||1!=+x[x.length-1][0])return!1;for(var r=0;r<x.length;r++){var f=x[r];if(2!==f.length||+f[0]<e||!A(f[1]).isValid())return!1;e=+f[0]}return!0}tt.exports={scales:g,defaultScale:i,get:function P(x,e){if(e||(e=i),!x)return e;function r(){try{x=g[x]||JSON.parse(x)}catch(f){x=e}}return"string"==typeof x&&(r(),"string"==typeof x&&r()),E(x)?x:e},isValid:function l(x){return void 0!==g[x]||E(x)}}},92807:function(tt){"use strict";tt.exports=function(t,A,g,i,P){var E=(t-g)/(i-g),l=E+A/(i-g),x=(E+l)/2;return"left"===P||"bottom"===P?E:"center"===P||"middle"===P?x:"right"===P||"top"===P?l:E<.6666666666666666-x?E:l>1.3333333333333333-x?l:x}},70461:function(tt,W,t){"use strict";var A=t(71828),g=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];tt.exports=function(P,E,l,x){return P="left"===l?0:"center"===l?1:"right"===l?2:A.constrain(Math.floor(3*P),0,2),E="bottom"===x?0:"middle"===x?1:"top"===x?2:A.constrain(Math.floor(3*E),0,2),g[E][P]}},64505:function(tt,W){"use strict";W.selectMode=function(t){return"lasso"===t||"select"===t},W.drawMode=function(t){return"drawclosedpath"===t||"drawopenpath"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},W.openMode=function(t){return"drawline"===t||"drawopenpath"===t},W.rectMode=function(t){return"select"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},W.freeMode=function(t){return"lasso"===t||"drawclosedpath"===t||"drawopenpath"===t},W.selectingOrDrawing=function(t){return W.freeMode(t)||W.rectMode(t)}},28569:function(tt,W,t){"use strict";var A=t(48956),g=t(57035),i=t(38520),P=t(71828).removeElement,E=t(85555),l=tt.exports={};l.align=t(92807),l.getCursor=t(70461);var x=t(26041);function e(){var f=document.createElement("div");f.className="dragcover";var a=f.style;return a.position="fixed",a.left=0,a.right=0,a.top=0,a.bottom=0,a.zIndex=999999999,a.background="none",document.body.appendChild(f),f}function r(f){return A(f.changedTouches?f.changedTouches[0]:f,document.body)}l.unhover=x.wrapped,l.unhoverRaw=x.raw,l.init=function(a){var v,w,d,o,h,M,T,L,s=a.gd,c=1,u=s._context.doubleClickDelay,y=a.element;s._mouseDownTime||(s._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=b,i?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=b,y.addEventListener("touchstart",b,{passive:!1})):y.ontouchstart=b;var S=a.clampFn||function m(p,F,D){return Math.abs(p)<D&&(p=0),Math.abs(F)<D&&(F=0),[p,F]};function b(p){s._dragged=!1,s._dragging=!0;var F=r(p);v=F[0],w=F[1],T=p.target,M=p,L=2===p.buttons||p.ctrlKey,void 0===p.clientX&&void 0===p.clientY&&(p.clientX=v,p.clientY=w),(d=(new Date).getTime())-s._mouseDownTime<u?c+=1:(c=1,s._mouseDownTime=d),a.prepFn&&a.prepFn(p,v,w),g&&!L?(h=e()).style.cursor=window.getComputedStyle(y).cursor:g||(h=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",C),document.addEventListener("touchend",C),!1!==a.dragmode&&(p.preventDefault(),document.addEventListener("mousemove",n),document.addEventListener("touchmove",n,{passive:!1}))}function n(p){p.preventDefault();var F=r(p),N=S(F[0]-v,F[1]-w,a.minDrag||E.MINDRAG),k=N[0],O=N[1];(k||O)&&(s._dragged=!0,l.unhover(s,p)),s._dragged&&a.moveFn&&!L&&(s._dragdata={element:y,dx:k,dy:O},a.moveFn(k,O))}function C(p){if(delete s._dragdata,!1!==a.dragmode&&(p.preventDefault(),document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n)),document.removeEventListener("mouseup",C),document.removeEventListener("touchend",C),g?P(h):o&&(h.documentElement.style.cursor=o,o=null),s._dragging){if(s._dragging=!1,(new Date).getTime()-s._mouseDownTime>u&&(c=Math.max(c-1,1)),s._dragged)a.doneFn&&a.doneFn();else if(a.clickFn&&a.clickFn(c,M),!L){var F;try{F=new MouseEvent("click",p)}catch(N){var D=r(p);(F=document.createEvent("MouseEvents")).initMouseEvent("click",p.bubbles,p.cancelable,p.view,p.detail,p.screenX,p.screenY,D[0],D[1],p.ctrlKey,p.altKey,p.shiftKey,p.metaKey,p.button,p.relatedTarget)}T.dispatchEvent(F)}s._dragging=!1,s._dragged=!1}else s._dragged=!1}},l.coverSlip=e},26041:function(tt,W,t){"use strict";var A=t(11086),g=t(79990),i=t(24401).getGraphDiv,P=t(26675),E=tt.exports={};E.wrapped=function(l,x,e){(l=i(l))._fullLayout&&g.clear(l._fullLayout._uid+P.HOVERID),E.raw(l,x,e)},E.raw=function(x,e){var r=x._fullLayout,f=x._hoverdata;e||(e={}),(!e.target||x._dragged||!1!==A.triggerHandler(x,"plotly_beforehover",e))&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),x._hoverdata=void 0,e.target&&f&&x.emit("plotly_unhover",{event:e,points:f}))}},79952:function(tt,W){"use strict";W.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},W.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=g.numberFormat,P=t(92770),E=t(84267),l=t(73972),x=t(7901),e=t(21081),r=g.strTranslate,f=t(63893),a=t(77922),c=t(18783).LINE_SPACING,u=t(37822).DESELECTDIM,y=t(34098),v=t(39984),w=t(23469).appendArrayPointValue,d=tt.exports={};function o(Mt,wt,St){var Ut=wt.fillpattern,Gt=Ut&&d.getPatternAttr(Ut.shape,0,"");if(Gt){var Pt=d.getPatternAttr(Ut.bgcolor,0,null),Vt=d.getPatternAttr(Ut.fgcolor,0,null),te=Ut.fgopacity,_t=d.getPatternAttr(Ut.size,0,8),kt=d.getPatternAttr(Ut.solidity,0,.3);d.pattern(Mt,"point",St,wt.uid,Gt,_t,kt,void 0,Ut.fillmode,Pt,Vt,te)}else wt.fillcolor&&Mt.call(x.fill,wt.fillcolor)}d.font=function(Mt,wt,St,Ut){g.isPlainObject(wt)&&(Ut=wt.color,St=wt.size,wt=wt.family),wt&&Mt.style("font-family",wt),St+1&&Mt.style("font-size",St+"px"),Ut&&Mt.call(x.fill,Ut)},d.setPosition=function(Mt,wt,St){Mt.attr("x",wt).attr("y",St)},d.setSize=function(Mt,wt,St){Mt.attr("width",wt).attr("height",St)},d.setRect=function(Mt,wt,St,Ut,Gt){Mt.call(d.setPosition,wt,St).call(d.setSize,Ut,Gt)},d.translatePoint=function(Mt,wt,St,Ut){var Gt=St.c2p(Mt.x),Pt=Ut.c2p(Mt.y);return!!(P(Gt)&&P(Pt)&&wt.node())&&("text"===wt.node().nodeName?wt.attr("x",Gt).attr("y",Pt):wt.attr("transform",r(Gt,Pt)),!0)},d.translatePoints=function(Mt,wt,St){Mt.each(function(Ut){var Gt=A.select(this);d.translatePoint(Ut,Gt,wt,St)})},d.hideOutsideRangePoint=function(Mt,wt,St,Ut,Gt,Pt){wt.attr("display",St.isPtWithinRange(Mt,Gt)&&Ut.isPtWithinRange(Mt,Pt)?null:"none")},d.hideOutsideRangePoints=function(Mt,wt){if(wt._hasClipOnAxisFalse){var St=wt.xaxis,Ut=wt.yaxis;Mt.each(function(Gt){var Pt=Gt[0].trace,Vt=Pt.xcalendar,te=Pt.ycalendar,_t=l.traceIs(Pt,"bar-like")?".bartext":".point,.textpoint";Mt.selectAll(_t).each(function(kt){d.hideOutsideRangePoint(kt,A.select(this),St,Ut,Vt,te)})})}},d.crispRound=function(Mt,wt,St){return wt&&P(wt)?Mt._context.staticPlot?wt:wt<1?1:Math.round(wt):St||0},d.singleLineStyle=function(Mt,wt,St,Ut,Gt){wt.style("fill","none");var Pt=(((Mt||[])[0]||{}).trace||{}).line||{},Vt=St||Pt.width||0,te=Gt||Pt.dash||"";x.stroke(wt,Ut||Pt.color),d.dashLine(wt,te,Vt)},d.lineGroupStyle=function(Mt,wt,St,Ut){Mt.style("fill","none").each(function(Gt){var Pt=(((Gt||[])[0]||{}).trace||{}).line||{},Vt=wt||Pt.width||0,te=Ut||Pt.dash||"";A.select(this).call(x.stroke,St||Pt.color).call(d.dashLine,te,Vt)})},d.dashLine=function(Mt,wt,St){wt=d.dashStyle(wt,St=+St||0),Mt.style({"stroke-dasharray":wt,"stroke-width":St+"px"})},d.dashStyle=function(Mt,wt){wt=+wt||1;var St=Math.max(wt,3);return"solid"===Mt?Mt="":"dot"===Mt?Mt=St+"px,"+St+"px":"dash"===Mt?Mt=3*St+"px,"+3*St+"px":"longdash"===Mt?Mt=5*St+"px,"+5*St+"px":"dashdot"===Mt?Mt=3*St+"px,"+St+"px,"+St+"px,"+St+"px":"longdashdot"===Mt&&(Mt=5*St+"px,"+2*St+"px,"+St+"px,"+2*St+"px"),Mt},d.singleFillStyle=function(Mt,wt){var St=A.select(Mt.node());o(Mt,((St.data()[0]||[])[0]||{}).trace||{},wt)},d.fillGroupStyle=function(Mt,wt){Mt.style("stroke-width",0).each(function(St){var Ut=A.select(this);St[0].trace&&o(Ut,St[0].trace,wt)})};var h=t(90998);d.symbolNames=[],d.symbolFuncs=[],d.symbolBackOffs=[],d.symbolNeedLines={},d.symbolNoDot={},d.symbolNoFill={},d.symbolList=[],Object.keys(h).forEach(function(Mt){var wt=h[Mt],St=wt.n;d.symbolList.push(St,String(St),Mt,St+100,String(St+100),Mt+"-open"),d.symbolNames[St]=Mt,d.symbolFuncs[St]=wt.f,d.symbolBackOffs[St]=wt.backoff||0,wt.needLine&&(d.symbolNeedLines[St]=!0),wt.noDot?d.symbolNoDot[St]=!0:d.symbolList.push(St+200,String(St+200),Mt+"-dot",St+300,String(St+300),Mt+"-open-dot"),wt.noFill&&(d.symbolNoFill[St]=!0)});var M=d.symbolNames.length;function L(Mt,wt,St,Ut){return d.symbolFuncs[Mt%100](wt,St,Ut)+(Mt>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}d.symbolNumber=function(Mt){if(P(Mt))Mt=+Mt;else if("string"==typeof Mt){var wt=0;Mt.indexOf("-open")>0&&(wt=100,Mt=Mt.replace("-open","")),Mt.indexOf("-dot")>0&&(wt+=200,Mt=Mt.replace("-dot","")),(Mt=d.symbolNames.indexOf(Mt))>=0&&(Mt+=wt)}return Mt%100>=M||Mt>=400?0:Math.floor(Math.max(Mt,0))};var m={x1:1,x2:0,y1:0,y2:0},S={x1:0,x2:0,y1:1,y2:0},b=i("~f"),n={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:m},horizontalreversed:{node:"linearGradient",attrs:m,reversed:!0},vertical:{node:"linearGradient",attrs:S},verticalreversed:{node:"linearGradient",attrs:S,reversed:!0}};d.gradient=function(Mt,wt,St,Ut,Gt,Pt){for(var Vt=Gt.length,te=n[Ut],_t=new Array(Vt),kt=0;kt<Vt;kt++)te.reversed?_t[Vt-1-kt]=[b(100*(1-Gt[kt][0])),Gt[kt][1]]:_t[kt]=[b(100*Gt[kt][0]),Gt[kt][1]];var zt=wt._fullLayout,qt="g"+zt._uid+"-"+St,ae=zt._defs.select(".gradients").selectAll("#"+qt).data([Ut+_t.join(";")],g.identity);ae.exit().remove(),ae.enter().append(te.node).each(function(){var oe=A.select(this);te.attrs&&oe.attr(te.attrs),oe.attr("id",qt);var pe=oe.selectAll("stop").data(_t);pe.exit().remove(),pe.enter().append("stop"),pe.each(function(ye){var Fe=E(ye[1]);A.select(this).attr({offset:ye[0]+"%","stop-color":x.tinyRGB(Fe),"stop-opacity":Fe.getAlpha()})})}),Mt.style(Pt,j(qt,wt)).style(Pt+"-opacity",null),Mt.classed("gradient_filled",!0)},d.pattern=function(Mt,wt,St,Ut,Gt,Pt,Vt,te,_t,kt,zt,qt){var ae="legend"===wt;te&&("overlay"===_t?zt=x.contrast(kt=te):(kt=void 0,zt=te));var ye,Fe,Ct,Et,Rt,Ot,le,he,ke,Oe,Ae,oe=St._fullLayout,pe="p"+oe._uid+"-"+Ut,It={},gt=E(zt),pt=x.tinyRGB(gt),yt=qt*gt.getAlpha();switch(Gt){case"/":ye=Pt*Math.sqrt(2),Fe=Pt*Math.sqrt(2),Ot="path",It={d:Ct="M-"+ye/4+","+Fe/4+"l"+ye/2+",-"+Fe/2+"M0,"+Fe+"L"+ye+",0M"+ye/4*3+","+Fe/4*5+"l"+ye/2+",-"+Fe/2,opacity:yt,stroke:pt,"stroke-width":(Et=Vt*Pt)+"px"};break;case"\\":ye=Pt*Math.sqrt(2),Fe=Pt*Math.sqrt(2),Ot="path",It={d:Ct="M"+ye/4*3+",-"+Fe/4+"l"+ye/2+","+Fe/2+"M0,0L"+ye+","+Fe+"M-"+ye/4+","+Fe/4*3+"l"+ye/2+","+Fe/2,opacity:yt,stroke:pt,"stroke-width":(Et=Vt*Pt)+"px"};break;case"x":ye=Pt*Math.sqrt(2),Fe=Pt*Math.sqrt(2),Ct="M-"+ye/4+","+Fe/4+"l"+ye/2+",-"+Fe/2+"M0,"+Fe+"L"+ye+",0M"+ye/4*3+","+Fe/4*5+"l"+ye/2+",-"+Fe/2+"M"+ye/4*3+",-"+Fe/4+"l"+ye/2+","+Fe/2+"M0,0L"+ye+","+Fe+"M-"+ye/4+","+Fe/4*3+"l"+ye/2+","+Fe/2,Et=Pt-Pt*Math.sqrt(1-Vt),Ot="path",It={d:Ct,opacity:yt,stroke:pt,"stroke-width":Et+"px"};break;case"|":Ot="path",Ot="path",It={d:Ct="M"+(ye=Pt)/2+",0L"+ye/2+","+(Fe=Pt),opacity:yt,stroke:pt,"stroke-width":(Et=Vt*Pt)+"px"};break;case"-":Ot="path",Ot="path",It={d:Ct="M0,"+(Fe=Pt)/2+"L"+(ye=Pt)+","+Fe/2,opacity:yt,stroke:pt,"stroke-width":(Et=Vt*Pt)+"px"};break;case"+":Ot="path",Ct="M"+(ye=Pt)/2+",0L"+ye/2+","+(Fe=Pt)+"M0,"+Fe/2+"L"+ye+","+Fe/2,Et=Pt-Pt*Math.sqrt(1-Vt),Ot="path",It={d:Ct,opacity:yt,stroke:pt,"stroke-width":Et+"px"};break;case".":ye=Pt,Fe=Pt,Rt=Vt<Math.PI/4?Math.sqrt(Vt*Pt*Pt/Math.PI):(le=Vt,he=Math.PI/4,ke=1,Oe=Pt/2,Ae=Pt/Math.sqrt(2),Oe+(Ae-Oe)*(le-he)/(ke-he)),Ot="circle",It={cx:ye/2,cy:Fe/2,r:Rt,opacity:yt,fill:pt}}var Yt=[Gt||"noSh",kt||"noBg",zt||"noFg",Pt,Vt].join(";"),Qt=oe._defs.select(".patterns").selectAll("#"+pe).data([Yt],g.identity);Qt.exit().remove(),Qt.enter().append("pattern").each(function(){var le=A.select(this);if(le.attr({id:pe,width:ye+"px",height:Fe+"px",patternUnits:"userSpaceOnUse",patternTransform:ae?"scale(0.8)":""}),kt){var he=E(kt),ke=x.tinyRGB(he),Oe=he.getAlpha(),Ae=le.selectAll("rect").data([0]);Ae.exit().remove(),Ae.enter().append("rect").attr({width:ye+"px",height:Fe+"px",fill:ke,"fill-opacity":Oe})}var je=le.selectAll(Ot).data([0]);je.exit().remove(),je.enter().append(Ot).attr(It)}),Mt.style("fill",j(pe,St)).style("fill-opacity",null),Mt.classed("pattern_filled",!0)},d.initGradients=function(Mt){g.ensureSingle(Mt._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),A.select(Mt).selectAll(".gradient_filled").classed("gradient_filled",!1)},d.initPatterns=function(Mt){g.ensureSingle(Mt._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),A.select(Mt).selectAll(".pattern_filled").classed("pattern_filled",!1)},d.getPatternAttr=function(Mt,wt,St){return Mt&&g.isArrayOrTypedArray(Mt)?wt<Mt.length?Mt[wt]:St:Mt},d.pointStyle=function(Mt,wt,St,Ut){if(Mt.size()){var Gt=d.makePointStyleFns(wt);Mt.each(function(Pt){d.singlePointStyle(Pt,A.select(this),wt,Gt,St,Ut)})}},d.singlePointStyle=function(Mt,wt,St,Ut,Gt,Pt){var Vt=St.marker,te=Vt.line;if(Pt&&Pt.i>=0&&void 0===Mt.i&&(Mt.i=Pt.i),wt.style("opacity",Ut.selectedOpacityFn?Ut.selectedOpacityFn(Mt):void 0===Mt.mo?Vt.opacity:Mt.mo),Ut.ms2mrc){var _t;_t="various"===Mt.ms||"various"===Vt.size?3:Ut.ms2mrc(Mt.ms),Mt.mrc=_t,Ut.selectedSizeFn&&(_t=Mt.mrc=Ut.selectedSizeFn(Mt));var kt=d.symbolNumber(Mt.mx||Vt.symbol)||0;Mt.om=kt%200>=100;var zt=Ft(Mt,St),qt=X(Mt,St);wt.attr("d",L(kt,_t,zt,qt))}var oe,pe,ye,ae=!1;if(Mt.so?(ye=te.outlierwidth,pe=te.outliercolor,oe=Vt.outliercolor):(ye=(Mt.mlw+1||(te||{}).width+1||(Mt.trace?(Mt.trace.marker.line||{}).width:0)+1)-1||0,pe="mlc"in Mt?Mt.mlcc=Ut.lineScale(Mt.mlc):g.isArrayOrTypedArray(te.color)?x.defaultLine:te.color,g.isArrayOrTypedArray(Vt.color)&&(oe=x.defaultLine,ae=!0),oe="mc"in Mt?Mt.mcc=Ut.markerScale(Mt.mc):Vt.color||Vt.colors||"rgba(0,0,0,0)",Ut.selectedColorFn&&(oe=Ut.selectedColorFn(Mt))),Mt.om)wt.call(x.stroke,oe).style({"stroke-width":(ye||1)+"px",fill:"none"});else{wt.style("stroke-width",(Mt.isBlank?0:ye)+"px");var Zt=Vt.gradient,Ct=Mt.mgt;Ct?ae=!0:Ct=Zt&&Zt.type,g.isArrayOrTypedArray(Ct)&&(n[Ct=Ct[0]]||(Ct=0));var Et=Vt.pattern,Rt=Et&&d.getPatternAttr(Et.shape,Mt.i,"");if(Ct&&"none"!==Ct){var Ot=Mt.mgc;Ot?ae=!0:Ot=Zt.color;var It=St.uid;ae&&(It+="-"+Mt.i),d.gradient(wt,Gt,It,Ct,[[0,Ot],[1,oe]],"fill")}else if(Rt){var gt=!1,pt=Et.fgcolor;!pt&&Pt&&Pt.color&&(pt=Pt.color,gt=!0);var vt=d.getPatternAttr(pt,Mt.i,Pt&&Pt.color||null),yt=d.getPatternAttr(Et.bgcolor,Mt.i,null),Yt=Et.fgopacity,Qt=d.getPatternAttr(Et.size,Mt.i,8),le=d.getPatternAttr(Et.solidity,Mt.i,.3);gt=gt||Mt.mcc||g.isArrayOrTypedArray(Et.shape)||g.isArrayOrTypedArray(Et.bgcolor)||g.isArrayOrTypedArray(Et.fgcolor)||g.isArrayOrTypedArray(Et.size)||g.isArrayOrTypedArray(Et.solidity);var he=St.uid;gt&&(he+="-"+Mt.i),d.pattern(wt,"point",Gt,he,Rt,Qt,le,Mt.mcc,Et.fillmode,yt,vt,Yt)}else g.isArrayOrTypedArray(oe)?x.fill(wt,oe[Mt.i]):x.fill(wt,oe);ye&&x.stroke(wt,pe)}},d.makePointStyleFns=function(Mt){var wt={},St=Mt.marker;return wt.markerScale=d.tryColorscale(St,""),wt.lineScale=d.tryColorscale(St,"line"),l.traceIs(Mt,"symbols")&&(wt.ms2mrc=y.isBubble(Mt)?v(Mt):function(){return(St.size||6)/2}),Mt.selectedpoints&&g.extendFlat(wt,d.makeSelectedPointStyleFns(Mt)),wt},d.makeSelectedPointStyleFns=function(Mt){var wt={},Gt=Mt.marker||{},Pt=(Mt.selected||{}).marker||{},Vt=(Mt.unselected||{}).marker||{},_t=Pt.opacity,kt=Vt.opacity,zt=void 0!==_t,qt=void 0!==kt;(g.isArrayOrTypedArray(Gt.opacity)||zt||qt)&&(wt.selectedOpacityFn=function(Rt){var Ot=void 0===Rt.mo?Gt.opacity:Rt.mo;return Rt.selected?zt?_t:Ot:qt?kt:u*Ot});var ae=Gt.color,oe=Pt.color,pe=Vt.color;(oe||pe)&&(wt.selectedColorFn=function(Rt){var Ot=Rt.mcc||ae;return Rt.selected?oe||Ot:pe||Ot});var ye=Gt.size,Fe=Pt.size,Zt=Vt.size,Ct=void 0!==Fe,Et=void 0!==Zt;return l.traceIs(Mt,"symbols")&&(Ct||Et)&&(wt.selectedSizeFn=function(Rt){var Ot=Rt.mrc||ye/2;return Rt.selected?Ct?Fe/2:Ot:Et?Zt/2:Ot}),wt},d.makeSelectedTextStyleFns=function(Mt){var wt={},te=(Mt.textfont||{}).color,_t=((Mt.selected||{}).textfont||{}).color,kt=((Mt.unselected||{}).textfont||{}).color;return wt.selectedTextColorFn=function(zt){var qt=zt.tc||te;return zt.selected?_t||qt:kt||(_t?qt:x.addOpacity(qt,u))},wt},d.selectedPointStyle=function(Mt,wt){if(Mt.size()&&wt.selectedpoints){var St=d.makeSelectedPointStyleFns(wt),Ut=wt.marker||{},Gt=[];St.selectedOpacityFn&&Gt.push(function(Pt,Vt){Pt.style("opacity",St.selectedOpacityFn(Vt))}),St.selectedColorFn&&Gt.push(function(Pt,Vt){x.fill(Pt,St.selectedColorFn(Vt))}),St.selectedSizeFn&&Gt.push(function(Pt,Vt){var te=Vt.mx||Ut.symbol||0,_t=St.selectedSizeFn(Vt);Pt.attr("d",L(d.symbolNumber(te),_t,Ft(Vt,wt),X(Vt,wt))),Vt.mrc2=_t}),Gt.length&&Mt.each(function(Pt){for(var Vt=A.select(this),te=0;te<Gt.length;te++)Gt[te](Vt,Pt)})}},d.tryColorscale=function(Mt,wt){var St=wt?g.nestedProperty(Mt,wt).get():Mt;return St&&(St.colorscale||St._colorAx)&&g.isArrayOrTypedArray(St.color)?e.makeColorScaleFuncFromTrace(St):g.identity};var C={start:1,end:-1,middle:0,bottom:1,top:-1};function p(Mt,wt,St,Ut,Gt){var Pt=A.select(Mt.node().parentNode),Vt=-1!==wt.indexOf("top")?"top":-1!==wt.indexOf("bottom")?"bottom":"middle",te=-1!==wt.indexOf("left")?"end":-1!==wt.indexOf("right")?"start":"middle",_t=Ut?Ut/.8+1:0,kt=(f.lineCount(Mt)-1)*c+1,zt=C[te]*_t,qt=.75*St+C[Vt]*_t+(C[Vt]-1)*kt*St/2;Mt.attr("text-anchor",te),Gt||Pt.attr("transform",r(zt,qt))}function F(Mt,wt){var St=Mt.ts||wt.textfont.size;return P(St)&&St>0?St:0}d.textPointStyle=function(Mt,wt,St){if(Mt.size()){var Ut;if(wt.selectedpoints){var Gt=d.makeSelectedTextStyleFns(wt);Ut=Gt.selectedTextColorFn}var Pt=wt.texttemplate,Vt=St._fullLayout;Mt.each(function(te){var _t=A.select(this),kt=Pt?g.extractOption(te,wt,"txt","texttemplate"):g.extractOption(te,wt,"tx","text");if(kt||0===kt){if(Pt){var zt=wt._module.formatLabels,qt=zt?zt(te,wt,Vt):{},ae={};w(ae,wt,te.i),kt=g.texttemplateString(kt,qt,Vt._d3locale,ae,te,wt._meta||{})}var pe=te.tp||wt.textposition,ye=F(te,wt),Fe=Ut?Ut(te):te.tc||wt.textfont.color;_t.call(d.font,te.tf||wt.textfont.family,ye,Fe).text(kt).call(f.convertToTspans,St).call(p,pe,ye,te.mrc)}else _t.remove()})}},d.selectedTextStyle=function(Mt,wt){if(Mt.size()&&wt.selectedpoints){var St=d.makeSelectedTextStyleFns(wt);Mt.each(function(Ut){var Gt=A.select(this),Pt=St.selectedTextColorFn(Ut),Vt=Ut.tp||wt.textposition,te=F(Ut,wt);x.fill(Gt,Pt);var _t=l.traceIs(wt,"bar-like");p(Gt,Vt,te,Ut.mrc2||Ut.mrc,_t)})}};var N,k;function O(Mt,wt,St){return St&&(Mt=rt(Mt)),wt?z(Mt[1]):B(Mt[0])}function B(Mt){var wt=A.round(Mt,2);return N=wt,wt}function z(Mt){var wt=A.round(Mt,2);return k=wt,wt}function U(Mt,wt,St,Ut){var Gt=Mt[0]-wt[0],Pt=Mt[1]-wt[1],Vt=St[0]-wt[0],te=St[1]-wt[1],_t=Math.pow(Gt*Gt+Pt*Pt,.25),kt=Math.pow(Vt*Vt+te*te,.25),zt=(kt*kt*Gt-_t*_t*Vt)*Ut,qt=(kt*kt*Pt-_t*_t*te)*Ut,ae=3*kt*(_t+kt),oe=3*_t*(_t+kt);return[[B(wt[0]+(ae&&zt/ae)),z(wt[1]+(ae&&qt/ae))],[B(wt[0]-(oe&&zt/oe)),z(wt[1]-(oe&&qt/oe))]]}d.smoothopen=function(Mt,wt){if(Mt.length<3)return"M"+Mt.join("L");var Gt,St="M"+Mt[0],Ut=[];for(Gt=1;Gt<Mt.length-1;Gt++)Ut.push(U(Mt[Gt-1],Mt[Gt],Mt[Gt+1],wt));for(St+="Q"+Ut[0][0]+" "+Mt[1],Gt=2;Gt<Mt.length-1;Gt++)St+="C"+Ut[Gt-2][1]+" "+Ut[Gt-1][0]+" "+Mt[Gt];return St+"Q"+Ut[Mt.length-3][1]+" "+Mt[Mt.length-1]},d.smoothclosed=function(Mt,wt){if(Mt.length<3)return"M"+Mt.join("L")+"Z";var Pt,St="M"+Mt[0],Ut=Mt.length-1,Gt=[U(Mt[Ut],Mt[0],Mt[1],wt)];for(Pt=1;Pt<Ut;Pt++)Gt.push(U(Mt[Pt-1],Mt[Pt],Mt[Pt+1],wt));for(Gt.push(U(Mt[Ut-1],Mt[Ut],Mt[0],wt)),Pt=1;Pt<=Ut;Pt++)St+="C"+Gt[Pt-1][1]+" "+Gt[Pt][0]+" "+Mt[Pt];return St+"C"+Gt[Ut][1]+" "+Gt[0][0]+" "+Mt[0]+"Z"};var G={hv:function(Mt,wt,St){return"H"+B(wt[0])+"V"+O(wt,1,St)},vh:function(Mt,wt,St){return"V"+z(wt[1])+"H"+O(wt,0,St)},hvh:function(Mt,wt,St){return"H"+B((Mt[0]+wt[0])/2)+"V"+z(wt[1])+"H"+O(wt,0,St)},vhv:function(Mt,wt,St){return"V"+z((Mt[1]+wt[1])/2)+"H"+B(wt[0])+"V"+O(wt,1,St)}},Q=function(Mt,wt,St){return"L"+O(wt,0,St)+","+O(wt,1,St)};function rt(Mt,wt){var St=Mt.backoff,Ut=Mt.trace,Gt=Mt.d,Pt=Mt.i;if(St&&Ut&&Ut.marker&&Ut.marker.angle%360==0&&Ut.line&&"spline"!==Ut.line.shape){var Vt=g.isArrayOrTypedArray(St),te=Mt,_t=wt?wt[0]:N||0,kt=wt?wt[1]:k||0,zt=te[0],qt=te[1],pe=Math.atan2(qt-kt,zt-_t),ye=Vt?St[Pt]:St;if("auto"===ye){var Fe=te.i;"scatter"===Ut.type&&Fe--;var Zt=te.marker,Ct=Zt.symbol;g.isArrayOrTypedArray(Ct)&&(Ct=Ct[Fe]);var Et=Zt.size;g.isArrayOrTypedArray(Et)&&(Et=Et[Fe]),ye=Zt?d.symbolBackOffs[d.symbolNumber(Ct)]*Et:0,ye+=d.getMarkerStandoff(Gt[Fe],Ut)||0}var Rt=zt-ye*Math.cos(pe),Ot=qt-ye*Math.sin(pe);(Rt<=zt&&Rt>=_t||Rt>=zt&&Rt<=_t)&&(Ot<=qt&&Ot>=kt||Ot>=qt&&Ot<=kt)&&(Mt=[Rt,Ot])}return Mt}d.steps=function(Mt){var wt=G[Mt]||Q;return function(St){for(var Ut="M"+B(St[0][0])+","+z(St[0][1]),Gt=St.length,Pt=1;Pt<Gt;Pt++)Ut+=wt(St[Pt-1],St[Pt],Pt===Gt-1);return Ut}},d.applyBackoff=rt,d.makeTester=function(){var Mt=g.ensureSingleById(A.select("body"),"svg","js-plotly-tester",function(St){St.attr(a.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),wt=g.ensureSingle(Mt,"path","js-reference-point",function(St){St.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});d.tester=Mt,d.testref=wt},d.savedBBoxes={};var it=0;function J(Mt){var wt=Mt.getAttribute("data-unformatted");if(null!==wt)return wt+Mt.getAttribute("data-math")+Mt.getAttribute("text-anchor")+Mt.getAttribute("style")}function j(Mt,wt){if(!Mt)return null;var St=wt._context,Ut=St._exportedPlot?"":St._baseUrl||"";return Ut?"url('"+Ut+"#"+Mt+"')":"url(#"+Mt+")"}d.bBox=function(Mt,wt,St){var Ut,kt,zt;if(St||(St=J(Mt)),St){if(Ut=d.savedBBoxes[St])return g.extendFlat({},Ut)}else if(1===Mt.childNodes.length){var Gt=Mt.childNodes[0];if(St=J(Gt)){var Pt=+Gt.getAttribute("x")||0,Vt=+Gt.getAttribute("y")||0,te=Gt.getAttribute("transform");if(!te){var _t=d.bBox(Gt,!1,St);return Pt&&(_t.left+=Pt,_t.right+=Pt),Vt&&(_t.top+=Vt,_t.bottom+=Vt),_t}if(Ut=d.savedBBoxes[St+="~"+Pt+"~"+Vt+"~"+te])return g.extendFlat({},Ut)}}wt?kt=Mt:(zt=d.tester.node(),kt=Mt.cloneNode(!0),zt.appendChild(kt)),A.select(kt).attr("transform",null).call(f.positionText,0,0);var qt=kt.getBoundingClientRect(),ae=d.testref.node().getBoundingClientRect();wt||zt.removeChild(kt);var oe={height:qt.height,width:qt.width,left:qt.left-ae.left,top:qt.top-ae.top,right:qt.right-ae.left,bottom:qt.bottom-ae.top};return it>=1e4&&(d.savedBBoxes={},it=0),St&&(d.savedBBoxes[St]=oe),it++,g.extendFlat({},oe)},d.setClipUrl=function(Mt,wt,St){Mt.attr("clip-path",j(wt,St))},d.getTranslate=function(Mt){var Gt=(Mt[Mt.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(Pt,Vt,te){return[Vt,te].join(" ")}).split(" ");return{x:+Gt[0]||0,y:+Gt[1]||0}},d.setTranslate=function(Mt,wt,St){var Pt=Mt.attr?"attr":"setAttribute",Vt=Mt[Mt.attr?"attr":"getAttribute"]("transform")||"";return wt=wt||0,St=St||0,Vt=Vt.replace(/(\btranslate\(.*?\);?)/,"").trim(),Vt=(Vt+=r(wt,St)).trim(),Mt[Pt]("transform",Vt),Vt},d.getScale=function(Mt){var Gt=(Mt[Mt.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(Pt,Vt,te){return[Vt,te].join(" ")}).split(" ");return{x:+Gt[0]||1,y:+Gt[1]||1}},d.setScale=function(Mt,wt,St){var Pt=Mt.attr?"attr":"setAttribute",Vt=Mt[Mt.attr?"attr":"getAttribute"]("transform")||"";return wt=wt||1,St=St||1,Vt=Vt.replace(/(\bscale\(.*?\);?)/,"").trim(),Vt=(Vt+="scale("+wt+","+St+")").trim(),Mt[Pt]("transform",Vt),Vt};var Z=/\s*sc.*/;d.setPointGroupScale=function(Mt,wt,St){if(wt=wt||1,St=St||1,Mt){var Ut=1===wt&&1===St?"":"scale("+wt+","+St+")";Mt.each(function(){var Gt=(this.getAttribute("transform")||"").replace(Z,"");Gt=(Gt+=Ut).trim(),this.setAttribute("transform",Gt)})}};var H=/translate\([^)]*\)\s*$/;function X(Mt,wt){var St;return Mt&&(St=Mt.mf),void 0===St&&(St=wt.marker&&wt.marker.standoff||0),wt._geo||wt._xA?St:-St}d.setTextPointsScale=function(Mt,wt,St){!Mt||Mt.each(function(){var Ut,Gt=A.select(this),Pt=Gt.select("text");if(Pt.node()){var Vt=parseFloat(Pt.attr("x")||0),te=parseFloat(Pt.attr("y")||0),_t=(Gt.attr("transform")||"").match(H);Ut=1===wt&&1===St?[]:[r(Vt,te),"scale("+wt+","+St+")",r(-Vt,-te)],_t&&Ut.push(_t),Gt.attr("transform",Ut.join(""))}})},d.getMarkerStandoff=X;var et,st,dt,Tt,bt,Dt,at=Math.atan2,_=Math.cos,K=Math.sin;function nt(Mt,wt){var St=wt[0],Ut=wt[1];return[St*_(Mt)-Ut*K(Mt),St*K(Mt)+Ut*_(Mt)]}function Ft(Mt,wt){var St=Mt.ma;void 0===St&&(St=wt.marker.angle||0);var Ut,Gt,Pt=wt.marker.angleref;if("previous"===Pt||"north"===Pt){if(wt._geo){var Vt=wt._geo.project(Mt.lonlat);Ut=Vt[0],Gt=Vt[1]}else{var te=wt._xA,_t=wt._yA;if(!te||!_t)return 90;Ut=te.c2p(Mt.x),Gt=_t.c2p(Mt.y)}if(wt._geo){var ye,kt=Mt.lonlat[0],zt=Mt.lonlat[1],qt=wt._geo.project([kt,zt+1e-5]),ae=wt._geo.project([kt+1e-5,zt]),oe=at(ae[1]-Gt,ae[0]-Ut),pe=at(qt[1]-Gt,qt[0]-Ut);if("north"===Pt)ye=St/180*Math.PI;else if("previous"===Pt){var Fe=kt/180*Math.PI,Zt=zt/180*Math.PI,Ct=et/180*Math.PI,Et=st/180*Math.PI,Rt=Ct-Fe,Ot=_(Et)*K(Rt),It=K(Et)*_(Zt)-_(Et)*K(Zt)*_(Rt);ye=-at(Ot,It)-Math.PI,et=kt,st=zt}var gt=nt(oe,[_(ye),0]),pt=nt(pe,[K(ye),0]);St=at(gt[1]+pt[1],gt[0]+pt[0])/Math.PI*180,"previous"===Pt&&(Dt!==wt.uid||Mt.i!==bt+1)&&(St=null)}if("previous"===Pt&&!wt._geo)if(Dt===wt.uid&&Mt.i===bt+1&&P(Ut)&&P(Gt)){var vt=Ut-dt,yt=Gt-Tt,Yt=wt.line&&wt.line.shape||"",Qt=Yt.slice(Yt.length-1);"h"===Qt&&(yt=0),"v"===Qt&&(vt=0),St+=at(yt,vt)/Math.PI*180+90}else St=null}return dt=Ut,Tt=Gt,bt=Mt.i,Dt=wt.uid,St}d.getMarkerAngle=Ft},90998:function(tt,W,t){"use strict";var f,a,s,c,A=t(95616),g=t(39898).round,i="M0,0Z",P=Math.sqrt(2),E=Math.sqrt(3),l=Math.PI,x=Math.cos,e=Math.sin;function r(y){return null===y}function u(y,v,w){if(!(y&&y%360!=0||v))return w;if(s===y&&c===v&&f===w)return a;function d(D,N){var k=x(D),O=e(D),B=N[0],z=N[1]+(v||0);return[B*k-z*O,B*O+z*k]}s=y,c=v,f=w;for(var o=y/180*l,h=0,M=0,T=A(w),L="",m=0;m<T.length;m++){var S=T[m],b=S[0],n=h,C=M;if("M"===b||"L"===b)h=+S[1],M=+S[2];else if("m"===b||"l"===b)h+=+S[1],M+=+S[2];else if("H"===b)h=+S[1];else if("h"===b)h+=+S[1];else if("V"===b)M=+S[1];else if("v"===b)M+=+S[1];else if("A"===b){h=+S[1],M=+S[2];var p=d(o,[+S[6],+S[7]]);S[6]=p[0],S[7]=p[1],S[3]=+S[3]+y}("H"===b||"V"===b)&&(b="L"),("h"===b||"v"===b)&&(b="l"),("m"===b||"l"===b)&&(h-=n,M-=C);var F=d(o,[h,M]);("H"===b||"V"===b)&&(b="L"),("M"===b||"L"===b||"m"===b||"l"===b)&&(S[1]=F[0],S[2]=F[1]),S[0]=b,L+=S[0]+S.slice(1).join(",")}return a=L,L}tt.exports={circle:{n:0,f:function(y,v,w){if(r(v))return i;var d=g(y,2),o="M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z";return w?u(v,w,o):o}},square:{n:1,f:function(y,v,w){if(r(v))return i;var d=g(y,2);return u(v,w,"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")}},diamond:{n:2,f:function(y,v,w){if(r(v))return i;var d=g(1.3*y,2);return u(v,w,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"Z")}},cross:{n:3,f:function(y,v,w){if(r(v))return i;var d=g(.4*y,2),o=g(1.2*y,2);return u(v,w,"M"+o+","+d+"H"+d+"V"+o+"H-"+d+"V"+d+"H-"+o+"V-"+d+"H-"+d+"V-"+o+"H"+d+"V-"+d+"H"+o+"Z")}},x:{n:4,f:function(y,v,w){if(r(v))return i;var d=g(.8*y/P,2),o="l"+d+","+d,h="l"+d+",-"+d,M="l-"+d+",-"+d,T="l-"+d+","+d;return u(v,w,"M0,"+d+o+h+M+h+M+T+M+T+o+T+o+"Z")}},"triangle-up":{n:5,f:function(y,v,w){if(r(v))return i;var d=g(2*y/E,2);return u(v,w,"M-"+d+","+g(y/2,2)+"H"+d+"L0,-"+g(y,2)+"Z")}},"triangle-down":{n:6,f:function(y,v,w){if(r(v))return i;var d=g(2*y/E,2);return u(v,w,"M-"+d+",-"+g(y/2,2)+"H"+d+"L0,"+g(y,2)+"Z")}},"triangle-left":{n:7,f:function(y,v,w){if(r(v))return i;var d=g(2*y/E,2);return u(v,w,"M"+g(y/2,2)+",-"+d+"V"+d+"L-"+g(y,2)+",0Z")}},"triangle-right":{n:8,f:function(y,v,w){if(r(v))return i;var d=g(2*y/E,2);return u(v,w,"M-"+g(y/2,2)+",-"+d+"V"+d+"L"+g(y,2)+",0Z")}},"triangle-ne":{n:9,f:function(y,v,w){if(r(v))return i;var d=g(.6*y,2),o=g(1.2*y,2);return u(v,w,"M-"+o+",-"+d+"H"+d+"V"+o+"Z")}},"triangle-se":{n:10,f:function(y,v,w){if(r(v))return i;var d=g(.6*y,2),o=g(1.2*y,2);return u(v,w,"M"+d+",-"+o+"V"+d+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(y,v,w){if(r(v))return i;var d=g(.6*y,2),o=g(1.2*y,2);return u(v,w,"M"+o+","+d+"H-"+d+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(y,v,w){if(r(v))return i;var d=g(.6*y,2),o=g(1.2*y,2);return u(v,w,"M-"+d+","+o+"V-"+d+"H"+o+"Z")}},pentagon:{n:13,f:function(y,v,w){if(r(v))return i;var d=g(.951*y,2),o=g(.588*y,2),h=g(-y,2),M=g(-.309*y,2);return u(v,w,"M"+d+","+M+"L"+o+","+g(.809*y,2)+"H-"+o+"L-"+d+","+M+"L0,"+h+"Z")}},hexagon:{n:14,f:function(y,v,w){if(r(v))return i;var d=g(y,2),o=g(y/2,2),h=g(y*E/2,2);return u(v,w,"M"+h+",-"+o+"V"+o+"L0,"+d+"L-"+h+","+o+"V-"+o+"L0,-"+d+"Z")}},hexagon2:{n:15,f:function(y,v,w){if(r(v))return i;var d=g(y,2),o=g(y/2,2),h=g(y*E/2,2);return u(v,w,"M-"+o+","+h+"H"+o+"L"+d+",0L"+o+",-"+h+"H-"+o+"L-"+d+",0Z")}},octagon:{n:16,f:function(y,v,w){if(r(v))return i;var d=g(.924*y,2),o=g(.383*y,2);return u(v,w,"M-"+o+",-"+d+"H"+o+"L"+d+",-"+o+"V"+o+"L"+o+","+d+"H-"+o+"L-"+d+","+o+"V-"+o+"Z")}},star:{n:17,f:function(y,v,w){if(r(v))return i;var d=1.4*y,o=g(.225*d,2),h=g(.951*d,2),M=g(.363*d,2),T=g(.588*d,2),L=g(-d,2),m=g(-.309*d,2),S=g(.118*d,2),b=g(.809*d,2);return u(v,w,"M"+o+","+m+"H"+h+"L"+M+","+S+"L"+T+","+b+"L0,"+g(.382*d,2)+"L-"+T+","+b+"L-"+M+","+S+"L-"+h+","+m+"H-"+o+"L0,"+L+"Z")}},hexagram:{n:18,f:function(y,v,w){if(r(v))return i;var d=g(.66*y,2),o=g(.38*y,2),h=g(.76*y,2);return u(v,w,"M-"+h+",0l-"+o+",-"+d+"h"+h+"l"+o+",-"+d+"l"+o+","+d+"h"+h+"l-"+o+","+d+"l"+o+","+d+"h-"+h+"l-"+o+","+d+"l-"+o+",-"+d+"h-"+h+"Z")}},"star-triangle-up":{n:19,f:function(y,v,w){if(r(v))return i;var d=g(y*E*.8,2),o=g(.8*y,2),h=g(1.6*y,2),M=g(4*y,2),T="A "+M+","+M+" 0 0 1 ";return u(v,w,"M-"+d+","+o+T+d+","+o+T+"0,-"+h+T+"-"+d+","+o+"Z")}},"star-triangle-down":{n:20,f:function(y,v,w){if(r(v))return i;var d=g(y*E*.8,2),o=g(.8*y,2),h=g(1.6*y,2),M=g(4*y,2),T="A "+M+","+M+" 0 0 1 ";return u(v,w,"M"+d+",-"+o+T+"-"+d+",-"+o+T+"0,"+h+T+d+",-"+o+"Z")}},"star-square":{n:21,f:function(y,v,w){if(r(v))return i;var d=g(1.1*y,2),o=g(2*y,2),h="A "+o+","+o+" 0 0 1 ";return u(v,w,"M-"+d+",-"+d+h+"-"+d+","+d+h+d+","+d+h+d+",-"+d+h+"-"+d+",-"+d+"Z")}},"star-diamond":{n:22,f:function(y,v,w){if(r(v))return i;var d=g(1.4*y,2),o=g(1.9*y,2),h="A "+o+","+o+" 0 0 1 ";return u(v,w,"M-"+d+",0"+h+"0,"+d+h+d+",0"+h+"0,-"+d+h+"-"+d+",0Z")}},"diamond-tall":{n:23,f:function(y,v,w){if(r(v))return i;var d=g(.7*y,2),o=g(1.4*y,2);return u(v,w,"M0,"+o+"L"+d+",0L0,-"+o+"L-"+d+",0Z")}},"diamond-wide":{n:24,f:function(y,v,w){if(r(v))return i;var d=g(1.4*y,2),o=g(.7*y,2);return u(v,w,"M0,"+o+"L"+d+",0L0,-"+o+"L-"+d+",0Z")}},hourglass:{n:25,f:function(y,v,w){if(r(v))return i;var d=g(y,2);return u(v,w,"M"+d+","+d+"H-"+d+"L"+d+",-"+d+"H-"+d+"Z")},noDot:!0},bowtie:{n:26,f:function(y,v,w){if(r(v))return i;var d=g(y,2);return u(v,w,"M"+d+","+d+"V-"+d+"L-"+d+","+d+"V-"+d+"Z")},noDot:!0},"circle-cross":{n:27,f:function(y,v,w){if(r(v))return i;var d=g(y,2);return u(v,w,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(y,v,w){if(r(v))return i;var d=g(y,2),o=g(y/P,2);return u(v,w,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(y,v,w){if(r(v))return i;var d=g(y,2);return u(v,w,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(y,v,w){if(r(v))return i;var d=g(y,2);return u(v,w,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(y,v,w){if(r(v))return i;var d=g(1.3*y,2);return u(v,w,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM0,-"+d+"V"+d+"M-"+d+",0H"+d)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(y,v,w){if(r(v))return i;var d=g(1.3*y,2),o=g(.65*y,2);return u(v,w,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(y,v,w){if(r(v))return i;var d=g(1.4*y,2);return u(v,w,"M0,"+d+"V-"+d+"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(y,v,w){if(r(v))return i;var d=g(y,2);return u(v,w,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(y,v,w){if(r(v))return i;var d=g(1.2*y,2),o=g(.85*y,2);return u(v,w,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(y,v,w){if(r(v))return i;var d=g(y/2,2),o=g(y,2);return u(v,w,"M"+d+","+o+"V-"+o+"M"+(d-o)+",-"+o+"V"+o+"M"+o+","+d+"H-"+o+"M-"+o+","+(d-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(y,v,w){if(r(v))return i;var d=g(1.2*y,2),o=g(1.6*y,2),h=g(.8*y,2);return u(v,w,"M-"+d+","+h+"L0,0M"+d+","+h+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(y,v,w){if(r(v))return i;var d=g(1.2*y,2),o=g(1.6*y,2),h=g(.8*y,2);return u(v,w,"M-"+d+",-"+h+"L0,0M"+d+",-"+h+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(y,v,w){if(r(v))return i;var d=g(1.2*y,2),o=g(1.6*y,2),h=g(.8*y,2);return u(v,w,"M"+h+","+d+"L0,0M"+h+",-"+d+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(y,v,w){if(r(v))return i;var d=g(1.2*y,2),o=g(1.6*y,2),h=g(.8*y,2);return u(v,w,"M-"+h+","+d+"L0,0M-"+h+",-"+d+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(y,v,w){if(r(v))return i;var d=g(1.4*y,2);return u(v,w,"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(y,v,w){if(r(v))return i;var d=g(1.4*y,2);return u(v,w,"M0,"+d+"V-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(y,v,w){if(r(v))return i;var d=g(y,2);return u(v,w,"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(y,v,w){if(r(v))return i;var d=g(y,2);return u(v,w,"M"+d+","+d+"L-"+d+",-"+d)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(y,v,w){if(r(v))return i;var d=g(y,2);return u(v,w,"M0,0L-"+d+","+g(2*y,2)+"H"+d+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(y,v,w){if(r(v))return i;var d=g(y,2);return u(v,w,"M0,0L-"+d+",-"+g(2*y,2)+"H"+d+"Z")},noDot:!0},"arrow-left":{n:47,f:function(y,v,w){if(r(v))return i;var d=g(2*y,2),o=g(y,2);return u(v,w,"M0,0L"+d+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(y,v,w){if(r(v))return i;var d=g(2*y,2),o=g(y,2);return u(v,w,"M0,0L-"+d+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(y,v,w){if(r(v))return i;var d=g(y,2);return u(v,w,"M-"+d+",0H"+d+"M0,0L-"+d+","+g(2*y,2)+"H"+d+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(y,v,w){if(r(v))return i;var d=g(y,2);return u(v,w,"M-"+d+",0H"+d+"M0,0L-"+d+",-"+g(2*y,2)+"H"+d+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(y,v,w){if(r(v))return i;var d=g(2*y,2),o=g(y,2);return u(v,w,"M0,-"+o+"V"+o+"M0,0L"+d+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(y,v,w){if(r(v))return i;var d=g(2*y,2),o=g(y,2);return u(v,w,"M0,-"+o+"V"+o+"M0,0L-"+d+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(y,v,w){if(r(v))return i;var d=l/2.5,o=2*y*x(d),h=2*y*e(d);return u(v,w,"M0,0L"+-o+","+h+"L"+o+","+h+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(y,v,w){if(r(v))return i;var d=l/4,o=2*y*x(d),h=2*y*e(d);return u(v,w,"M0,0L"+-o+","+h+"A "+2*y+","+2*y+" 0 0 1 "+o+","+h+"Z")},backoff:.4,noDot:!0}}},25673:function(tt){"use strict";tt.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(tt,W,t){"use strict";var A=t(92770),g=t(73972),i=t(89298),P=t(71828),E=t(45827);function l(x,e,r,f){var a=e["error_"+f]||{},c=[];if(a.visible&&-1!==["linear","log"].indexOf(r.type)){for(var u=E(a),y=0;y<x.length;y++){var v=x[y],w=v.i;if(void 0===w)w=y;else if(null===w)continue;var d=v[f];if(A(r.c2l(d))){var o=u(d,w);if(A(o[0])&&A(o[1])){var h=v[f+"s"]=d-o[0],M=v[f+"h"]=d+o[1];c.push(h,M)}}}var L=e._extremes[r._id],m=i.findExtremes(r,c,P.extendFlat({tozero:L.opts.tozero},{padded:!0}));L.min=L.min.concat(m.min),L.max=L.max.concat(m.max)}}tt.exports=function(e){for(var r=e.calcdata,f=0;f<r.length;f++){var a=r[f],s=a[0].trace;if(!0===s.visible&&g.traceIs(s,"errorBarsOK")){var c=i.getFromId(e,s.xaxis),u=i.getFromId(e,s.yaxis);l(a,s,c,"x"),l(a,s,u,"y")}}}},45827:function(tt){"use strict";function W(t,A){return"percent"===t?function(g){return Math.abs(g*A/100)}:"constant"===t?function(){return Math.abs(A)}:"sqrt"===t?function(g){return Math.sqrt(Math.abs(g))}:void 0}tt.exports=function(A){var g=A.type,i=A.symmetric;if("data"===g){var P=A.array||[];if(i)return function(r,f){var a=+P[f];return[a,a]};var E=A.arrayminus||[];return function(r,f){var a=+P[f],s=+E[f];return isNaN(a)&&isNaN(s)?[NaN,NaN]:[s||0,a||0]}}var l=W(g,A.value),x=W(g,A.valueminus);return i||void 0===A.valueminus?function(r){var f=l(r);return[f,f]}:function(r){return[x(r),l(r)]}}},97587:function(tt,W,t){"use strict";var A=t(92770),g=t(73972),i=t(71828),P=t(44467),E=t(25673);tt.exports=function(l,x,e,r){var f="error_"+r.axis,a=P.newContainer(x,f),s=l[f]||{};function c(h,M){return i.coerce(s,a,E,h,M)}if(!1!==c("visible",void 0!==s.array||void 0!==s.value||"sqrt"===s.type)){var v=c("type","array"in s?"data":"percent"),w=!0;"sqrt"!==v&&(w=c("symmetric",!(("data"===v?"arrayminus":"valueminus")in s))),"data"===v?(c("array"),c("traceref"),w||(c("arrayminus"),c("tracerefminus"))):("percent"===v||"constant"===v)&&(c("value"),w||c("valueminus"));var d="copy_"+r.inherit+"style";r.inherit&&(x["error_"+r.inherit]||{}).visible&&c(d,!(s.color||A(s.thickness)||A(s.width))),(!r.inherit||!a[d])&&(c("color",e),c("thickness"),c("width",g.traceIs(x,"gl3d")?0:4))}}},37369:function(tt,W,t){"use strict";var A=t(71828),g=t(30962).overrideAll,i=t(25673),P={error_x:A.extendFlat({},i),error_y:A.extendFlat({},i)};delete P.error_x.copy_zstyle,delete P.error_y.copy_zstyle,delete P.error_y.copy_ystyle;var E={error_x:A.extendFlat({},i),error_y:A.extendFlat({},i),error_z:A.extendFlat({},i)};delete E.error_x.copy_ystyle,delete E.error_y.copy_ystyle,delete E.error_z.copy_ystyle,delete E.error_z.copy_zstyle,tt.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:P,bar:P,histogram:P,scatter3d:g(E,"calc","nested"),scattergl:g(P,"calc","nested")}},supplyDefaults:t(97587),calc:t(84532),makeComputeError:t(45827),plot:t(19398),style:t(62662),hoverInfo:function l(x,e,r){(e.error_y||{}).visible&&(r.yerr=x.yh-x.y,e.error_y.symmetric||(r.yerrneg=x.y-x.ys)),(e.error_x||{}).visible&&(r.xerr=x.xh-x.x,e.error_x.symmetric||(r.xerrneg=x.x-x.xs))}}},19398:function(tt,W,t){"use strict";var A=t(39898),g=t(92770),i=t(91424),P=t(34098);tt.exports=function(x,e,r,f){var s=r.xaxis,c=r.yaxis,u=f&&f.duration>0,y=x._context.staticPlot;e.each(function(v){var h,w=v[0].trace,d=w.error_x||{},o=w.error_y||{};w.ids&&(h=function(m){return m.id});var M=P.hasMarkers(w)&&w.marker.maxdisplayed>0;!o.visible&&!d.visible&&(v=[]);var T=A.select(this).selectAll("g.errorbar").data(v,h);if(T.exit().remove(),v.length){d.visible||T.selectAll("path.xerror").remove(),o.visible||T.selectAll("path.yerror").remove(),T.style("opacity",1);var L=T.enter().append("g").classed("errorbar",!0);u&&L.style("opacity",0).transition().duration(f.duration).style("opacity",1),i.setClipUrl(T,r.layerClipId,x),T.each(function(m){var S=A.select(this),b=function E(l,x,e){var r={x:x.c2p(l.x),y:e.c2p(l.y)};return void 0!==l.yh&&(r.yh=e.c2p(l.yh),r.ys=e.c2p(l.ys),g(r.ys)||(r.noYS=!0,r.ys=e.c2p(l.ys,!0))),void 0!==l.xh&&(r.xh=x.c2p(l.xh),r.xs=x.c2p(l.xs),g(r.xs)||(r.noXS=!0,r.xs=x.c2p(l.xs,!0))),r}(m,s,c);if(!M||m.vis){var n,C=S.select("path.yerror");if(o.visible&&g(b.x)&&g(b.yh)&&g(b.ys)){var p=o.width;n="M"+(b.x-p)+","+b.yh+"h"+2*p+"m-"+p+",0V"+b.ys,b.noYS||(n+="m-"+p+",0h"+2*p),C.size()?u&&(C=C.transition().duration(f.duration).ease(f.easing)):C=S.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("yerror",!0),C.attr("d",n)}else C.remove();var F=S.select("path.xerror");if(d.visible&&g(b.y)&&g(b.xh)&&g(b.xs)){var D=(d.copy_ystyle?o:d).width;n="M"+b.xh+","+(b.y-D)+"v"+2*D+"m0,-"+D+"H"+b.xs,b.noXS||(n+="m0,-"+D+"v"+2*D),F.size()?u&&(F=F.transition().duration(f.duration).ease(f.easing)):F=S.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("xerror",!0),F.attr("d",n)}else F.remove()}})}})}},62662:function(tt,W,t){"use strict";var A=t(39898),g=t(7901);tt.exports=function(P){P.each(function(E){var l=E[0].trace,x=l.error_y||{},e=l.error_x||{},r=A.select(this);r.selectAll("path.yerror").style("stroke-width",x.thickness+"px").call(g.stroke,x.color),e.copy_ystyle&&(e=x),r.selectAll("path.xerror").style("stroke-width",e.thickness+"px").call(g.stroke,e.color)})}},77914:function(tt,W,t){"use strict";var A=t(41940),g=t(528).hoverlabel,i=t(1426).extendFlat;tt.exports={hoverlabel:{bgcolor:i({},g.bgcolor,{arrayOk:!0}),bordercolor:i({},g.bordercolor,{arrayOk:!0}),font:A({arrayOk:!0,editType:"none"}),align:i({},g.align,{arrayOk:!0}),namelength:i({},g.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(tt,W,t){"use strict";var A=t(71828),g=t(73972);function i(P,E,l,x){x=x||A.identity,Array.isArray(P)&&(E[0][l]=x(P))}tt.exports=function(E){var l=E.calcdata,x=E._fullLayout;function e(c){return function(u){return A.coerceHoverinfo({hoverinfo:u},{_module:c._module},x)}}for(var r=0;r<l.length;r++){var f=l[r],a=f[0].trace;if(!g.traceIs(a,"pie-like")){var s=g.traceIs(a,"2dMap")?i:A.fillArray;s(a.hoverinfo,f,"hi",e(a)),a.hovertemplate&&s(a.hovertemplate,f,"ht"),a.hoverlabel&&(s(a.hoverlabel.bgcolor,f,"hbg"),s(a.hoverlabel.bordercolor,f,"hbc"),s(a.hoverlabel.font.size,f,"hts"),s(a.hoverlabel.font.color,f,"htc"),s(a.hoverlabel.font.family,f,"htf"),s(a.hoverlabel.namelength,f,"hnl"),s(a.hoverlabel.align,f,"hta"))}}}},75914:function(tt,W,t){"use strict";var A=t(73972),g=t(88335).hover;tt.exports=function(P,E,l){var x=A.getComponentMethod("annotations","onClick")(P,P._hoverdata);function e(){P.emit("plotly_click",{points:P._hoverdata,event:E})}void 0!==l&&g(P,E,l,!0),P._hoverdata&&E&&E.target&&(x&&x.then?x.then(e):e(),E.stopImmediatePropagation&&E.stopImmediatePropagation())}},26675:function(tt){"use strict";tt.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(tt,W,t){"use strict";var A=t(71828),g=t(77914),i=t(38048);tt.exports=function(E,l,x,e){var f=A.extendFlat({},e.hoverlabel);l.hovertemplate&&(f.namelength=-1),i(E,l,function r(a,s){return A.coerce(E,l,g,a,s)},f)}},23469:function(tt,W,t){"use strict";var A=t(71828);W.getSubplot=function(x){return x.subplot||x.xaxis+x.yaxis||x.geo},W.isTraceInSubplots=function(x,e){if("splom"===x.type){for(var r=x.xaxes||[],f=x.yaxes||[],a=0;a<r.length;a++)for(var s=0;s<f.length;s++)if(-1!==e.indexOf(r[a]+f[s]))return!0;return!1}return-1!==e.indexOf(W.getSubplot(x))},W.flat=function(x,e){for(var r=new Array(x.length),f=0;f<x.length;f++)r[f]=e;return r},W.p2c=function(x,e){for(var r=new Array(x.length),f=0;f<x.length;f++)r[f]=x[f].p2c(e);return r},W.getDistanceFunction=function(x,e,r,f){return"closest"===x?f||W.quadrature(e,r):"x"===x.charAt(0)?e:r},W.getClosest=function(x,e,r){if(!1!==r.index)r.index>=0&&r.index<x.length?r.distance=0:r.index=!1;else for(var f=0;f<x.length;f++){var a=e(x[f]);a<=r.distance&&(r.index=f,r.distance=a)}return r},W.inbox=function(x,e,r){return x*e<0||0===x?r:1/0},W.quadrature=function(x,e){return function(r){var f=x(r),a=e(r);return Math.sqrt(f*f+a*a)}},W.makeEventData=function(x,e,r){var f="index"in x?x.index:x.pointNumber,a={data:e._input,fullData:e,curveNumber:e.index,pointNumber:f};if(e._indexToPoints){var s=e._indexToPoints[f];1===s.length?a.pointIndex=s[0]:a.pointIndices=s}else a.pointIndex=f;return e._module.eventData?a=e._module.eventData(a,x,e,r,f):("xVal"in x?a.x=x.xVal:"x"in x&&(a.x=x.x),"yVal"in x?a.y=x.yVal:"y"in x&&(a.y=x.y),x.xa&&(a.xaxis=x.xa),x.ya&&(a.yaxis=x.ya),void 0!==x.zLabelVal&&(a.z=x.zLabelVal)),W.appendArrayPointValue(a,e,f),a},W.appendArrayPointValue=function(x,e,r){var f=e._arrayAttrs;if(f)for(var a=0;a<f.length;a++){var s=f[a],c=i(s);if(void 0===x[c]){var y=P(A.nestedProperty(e,s).get(),r);void 0!==y&&(x[c]=y)}}},W.appendArrayMultiPointValues=function(x,e,r){var f=e._arrayAttrs;if(f)for(var a=0;a<f.length;a++){var s=f[a],c=i(s);if(void 0===x[c]){for(var u=A.nestedProperty(e,s).get(),y=new Array(r.length),v=0;v<r.length;v++)y[v]=P(u,r[v]);x[c]=y}}};var g={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(x){return g[x]||x}function P(x,e){return Array.isArray(e)?Array.isArray(x)&&Array.isArray(x[e[0]])?x[e[0]][e[1]]:void 0:x[e]}var E={x:!0,y:!0},l={"x unified":!0,"y unified":!0};W.isUnifiedHover=function(x){return"string"==typeof x&&!!l[x]},W.isXYhover=function(x){return"string"==typeof x&&!!E[x]}},88335:function(tt,W,t){"use strict";var A=t(39898),g=t(92770),i=t(84267),P=t(71828),E=P.strTranslate,l=P.strRotate,x=t(11086),e=t(63893),r=t(39918),f=t(91424),a=t(7901),s=t(28569),c=t(89298),u=t(73972),y=t(23469),v=t(26675),w=t(99017),d=t(43969),o=v.YANGLE,h=Math.PI*o/180,M=1/Math.sin(h),T=Math.cos(h),L=Math.sin(h),m=v.HOVERARROWSIZE,S=v.HOVERTEXTPAD,b={box:!0,ohlc:!0,violin:!0,candlestick:!0},n={scatter:!0,scattergl:!0,splom:!0};function C(X,at,_,K,nt){_||(_="xy");var et=Array.isArray(_)?_:[_],st=X._fullLayout,dt=st._plots||[],Tt=dt[_],bt=st._has("cartesian");if(Tt){var Dt=Tt.overlays.map(function(yr){return yr.id});et=et.concat(Dt)}for(var Ft=et.length,Mt=new Array(Ft),wt=new Array(Ft),St=!1,Ut=0;Ut<Ft;Ut++){var Gt=et[Ut];if(dt[Gt])St=!0,Mt[Ut]=dt[Gt].xaxis,wt[Ut]=dt[Gt].yaxis;else{if(!st[Gt]||!st[Gt]._subplot)return void P.warn("Unrecognized subplot: "+Gt);var Pt=st[Gt]._subplot;Mt[Ut]=Pt.xaxis,wt[Ut]=Pt.yaxis}}var Vt=at.hovermode||st.hovermode;if(Vt&&!St&&(Vt="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(Vt)||!X.calcdata||X.querySelector(".zoombox")||X._dragging)return s.unhoverRaw(X,at);var te=st.hoverdistance;-1===te&&(te=1/0);var _t=st.spikedistance;-1===_t&&(_t=1/0);var qt,ae,oe,pe,ye,Fe,Zt,Ct,Et,Rt,Ot,It,gt,kt=[],zt=[],pt={hLinePoint:null,vLinePoint:null},vt=!1;if(Array.isArray(at))for(Vt="array",oe=0;oe<at.length;oe++)(ye=X.calcdata[at[oe].curveNumber||0])&&(Fe=ye[0].trace,"skip"!==ye[0].trace.hoverinfo&&(zt.push(ye),"h"===Fe.orientation&&(vt=!0)));else{for(pe=0;pe<X.calcdata.length;pe++)"skip"!==(Fe=(ye=X.calcdata[pe])[0].trace).hoverinfo&&y.isTraceInSubplots(Fe,et)&&(zt.push(ye),"h"===Fe.orientation&&(vt=!0));var Yt,Qt;if(nt){if(!1===x.triggerHandler(X,"plotly_beforehover",at))return;var le=nt.getBoundingClientRect();Yt=at.clientX-le.left,Qt=at.clientY-le.top,st._calcInverseTransform(X);var he=P.apply3DTransform(st._invTransform)(Yt,Qt);if(Qt=he[1],(Yt=he[0])<0||Yt>Mt[0]._length||Qt<0||Qt>wt[0]._length)return s.unhoverRaw(X,at)}else Yt="xpx"in at?at.xpx:Mt[0]._length/2,Qt="ypx"in at?at.ypx:wt[0]._length/2;if(at.pointerX=Yt+Mt[0]._offset,at.pointerY=Qt+wt[0]._offset,qt="xval"in at?y.flat(et,at.xval):y.p2c(Mt,Yt),ae="yval"in at?y.flat(et,at.yval):y.p2c(wt,Qt),!g(qt[0])||!g(ae[0]))return P.warn("Fx.hover failed",at,X),s.unhoverRaw(X,at)}var ke=1/0;function Oe(yr,Fr){for(pe=0;pe<zt.length;pe++)if((ye=zt[pe])&&ye[0]&&ye[0].trace&&!0===(Fe=ye[0].trace).visible&&0!==Fe._length&&-1===["carpet","contourcarpet"].indexOf(Fe._module.name)){if("splom"===Fe.type?Zt=et[Ct=0]:(Zt=y.getSubplot(Fe),Ct=et.indexOf(Zt)),y.isUnifiedHover(Et=Vt)&&(Et=Et.charAt(0)),It={cd:ye,trace:Fe,xa:Mt[Ct],ya:wt[Ct],maxHoverDistance:te,maxSpikeDistance:_t,index:!1,distance:Math.min(ke,te),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:a.defaultLine,name:Fe.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},st[Zt]&&(It.subplot=st[Zt]._subplot),st._splomScenes&&st._splomScenes[Fe.uid]&&(It.scene=st._splomScenes[Fe.uid]),gt=kt.length,"array"===Et){var Br=at[pe];"pointNumber"in Br?(It.index=Br.pointNumber,Et="closest"):(Et="","xval"in Br&&(Rt=Br.xval,Et="x"),"yval"in Br&&(Ot=Br.yval,Et=Et?"closest":"y"))}else void 0!==yr&&void 0!==Fr?(Rt=yr,Ot=Fr):(Rt=qt[Ct],Ot=ae[Ct]);if(0!==te)if(Fe._module&&Fe._module.hoverPoints){var _r=Fe._module.hoverPoints(It,Rt,Ot,Et,{finiteRange:!0,hoverLayer:st._hoverlayer});if(_r)for(var dn,hn=0;hn<_r.length;hn++)g((dn=_r[hn]).x0)&&g(dn.y0)&&kt.push(U(dn,Vt))}else P.log("Unrecognized trace type in hover:",Fe);if("closest"===Vt&&kt.length>gt&&(kt.splice(0,gt),ke=kt[0].distance),bt&&0!==_t&&0===kt.length){It.distance=_t,It.index=!1;var xn=Fe._module.hoverPoints(It,Rt,Ot,"closest",{hoverLayer:st._hoverlayer});if(xn&&(xn=xn.filter(function(Qn){return Qn.spikeDistance<=_t})),xn&&xn.length){var En,Vn=xn.filter(function(Qn){return Qn.xa.showspikes&&"hovered data"!==Qn.xa.spikesnap});if(Vn.length){var Gn=Vn[0];g(Gn.x0)&&g(Gn.y0)&&(En=je(Gn),(!pt.vLinePoint||pt.vLinePoint.spikeDistance>En.spikeDistance)&&(pt.vLinePoint=En))}var ia=xn.filter(function(Qn){return Qn.ya.showspikes&&"hovered data"!==Qn.ya.spikesnap});if(ia.length){var Kn=ia[0];g(Kn.x0)&&g(Kn.y0)&&(En=je(Kn),(!pt.hLinePoint||pt.hLinePoint.spikeDistance>En.spikeDistance)&&(pt.hLinePoint=En))}}}}}function Ae(yr,Fr,Br){for(var hn,_r=null,dn=1/0,xn=0;xn<yr.length;xn++)hn=yr[xn].spikeDistance,Br&&0===xn&&(hn=-1/0),hn<=dn&&hn<=Fr&&(_r=yr[xn],dn=hn);return _r}function je(yr){return yr?{xa:yr.xa,ya:yr.ya,x:void 0!==yr.xSpike?yr.xSpike:(yr.x0+yr.x1)/2,y:void 0!==yr.ySpike?yr.ySpike:(yr.y0+yr.y1)/2,distance:yr.distance,spikeDistance:yr.spikeDistance,curveNumber:yr.trace.index,color:yr.color,pointNumber:yr.index}:null}Oe();var Ze={fullLayout:st,container:st._hoverlayer,event:at},Lr=X._spikepoints;X._spikepoints={vLinePoint:pt.vLinePoint,hLinePoint:pt.hLinePoint};var Ve=function(){kt.sort(function(yr,Fr){return yr.distance-Fr.distance}),kt=function ut(X,at){for(var _=at.charAt(0),K=[],nt=[],et=[],st=0;st<X.length;st++){var dt=X[st];u.traceIs(dt.trace,"bar-like")||u.traceIs(dt.trace,"box-violin")?et.push(dt):dt.trace[_+"period"]?nt.push(dt):K.push(dt)}return K.concat(nt).concat(et)}(kt,Vt)};Ve();var He=Vt.charAt(0),wr=("x"===He||"y"===He)&&kt[0]&&n[kt[0].trace.type];if(bt&&0!==_t&&0!==kt.length){var ie=Ae(kt.filter(function(yr){return yr.ya.showspikes}),_t,wr);pt.hLinePoint=je(ie);var ve=Ae(kt.filter(function(yr){return yr.xa.showspikes}),_t,wr);pt.vLinePoint=je(ve)}if(0===kt.length){var xe=s.unhoverRaw(X,at);return bt&&(null!==pt.hLinePoint||null!==pt.vLinePoint)&&rt(Lr)&&G(X,pt,Ze),xe}if(bt&&rt(Lr)&&G(X,pt,Ze),y.isXYhover(Et)&&0!==kt[0].length&&"splom"!==kt[0].trace.type){var Te=kt[0],be=(kt=b[Te.trace.type]?kt.filter(function(yr){return yr.trace.index===Te.trace.index}):[Te]).length;Oe(J("x",Te,st),J("y",Te,st));var Ht,Qe=[],Ke={},tr=0,vr=function(yr){var Fr=b[yr.trace.type]?p(yr):yr.trace.index;if(Ke[Fr]){var Br=Ke[Fr]-1,_r=Qe[Br];Br>0&&Math.abs(yr.distance)<Math.abs(_r.distance)&&(Qe[Br]=yr)}else tr++,Ke[Fr]=tr,Qe.push(yr)};for(Ht=0;Ht<be;Ht++)vr(kt[Ht]);for(Ht=kt.length-1;Ht>be-1;Ht--)vr(kt[Ht]);kt=Qe,Ve()}var Nt=X._hoverdata,Se=[],Le=j(X),We=Z(X);for(oe=0;oe<kt.length;oe++){var rr=kt[oe],or=y.makeEventData(rr,rr.trace,rr.cd);if(!1!==rr.hovertemplate){var qe=!1;rr.cd[rr.index]&&rr.cd[rr.index].ht&&(qe=rr.cd[rr.index].ht),rr.hovertemplate=qe||rr.trace.hovertemplate||!1}if(rr.xa&&rr.ya){var De=rr.x0+rr.xa._offset,sr=rr.x1+rr.xa._offset,gr=rr.y0+rr.ya._offset,dr=rr.y1+rr.ya._offset,Pr=Math.min(De,sr),qr=Math.max(De,sr),Er=Math.min(gr,dr),Zr=Math.max(gr,dr);or.bbox={x0:Pr+We,x1:qr+We,y0:Er+Le,y1:Zr+Le}}rr.eventData=[or],Se.push(or)}X._hoverdata=Se;var rn="y"===Vt&&(zt.length>1||kt.length>1)||"closest"===Vt&&vt&&kt.length>1,zr=a.combine(st.plot_bgcolor||a.background,st.paper_bgcolor),Pn=D(kt,{gd:X,hovermode:Vt,rotateLabels:rn,bgColor:zr,container:st._hoverlayer,outerContainer:st._paper.node(),commonLabelOpts:st.hoverlabel,hoverdistance:st.hoverdistance}),An=Pn.hoverLabels;if(y.isUnifiedHover(Vt)||(function k(X,at,_,K){var Pt,Vt,te,_t,kt,zt,qt,nt=at?"xa":"ya",et=at?"ya":"xa",st=0,dt=1,Tt=X.size(),bt=new Array(Tt),Dt=0,Ft=K.minX,Mt=K.maxX,wt=K.minY,St=K.maxY,Ut=function(Rt){return Rt*_._invScaleX},Gt=function(Rt){return Rt*_._invScaleY};function ae(Rt){var Ot=Rt[0],It=Rt[Rt.length-1];if(te=It.pos+It.dp+It.size-Ot.pmax,(Vt=Ot.pmin-Ot.pos-Ot.dp+Ot.size)>.01){for(kt=Rt.length-1;kt>=0;kt--)Rt[kt].dp+=Vt;Pt=!1}if(!(te<.01)){if(Vt<-.01){for(kt=Rt.length-1;kt>=0;kt--)Rt[kt].dp-=te;Pt=!1}if(Pt){var gt=0;for(_t=0;_t<Rt.length;_t++)(zt=Rt[_t]).pos+zt.dp+zt.size>Ot.pmax&&gt++;for(_t=Rt.length-1;_t>=0&&!(gt<=0);_t--)(zt=Rt[_t]).pos>Ot.pmax-1&&(zt.del=!0,gt--);for(_t=0;_t<Rt.length&&!(gt<=0);_t++)if((zt=Rt[_t]).pos<Ot.pmin+1)for(zt.del=!0,gt--,te=2*zt.size,kt=Rt.length-1;kt>=0;kt--)Rt[kt].dp-=te;for(_t=Rt.length-1;_t>=0&&!(gt<=0);_t--)(zt=Rt[_t]).pos+zt.dp+zt.size>Ot.pmax&&(zt.del=!0,gt--)}}}for(X.each(function(Rt){var Ot=Rt[nt],It=Rt[et],gt="x"===Ot._id.charAt(0),pt=Ot.range;0===Dt&&pt&&pt[0]>pt[1]!==gt&&(dt=-1);var vt=0,yt=gt?_.width:_.height;if("x"===_.hovermode||"y"===_.hovermode){var he,ke,Yt=O(Rt,at),Qt=Rt.anchor,le="end"===Qt?-1:1;if("middle"===Qt)ke=(he=Rt.crossPos+(gt?Gt(Yt.y-Rt.by/2):Ut(Rt.bx/2+Rt.tx2width/2)))+(gt?Gt(Rt.by):Ut(Rt.bx));else if(gt)ke=(he=Rt.crossPos+Gt(m+Yt.y)-Gt(Rt.by/2-m))+Gt(Rt.by);else{var Oe=Ut(le*m+Yt.x),Ae=Oe+Ut(le*Rt.bx);he=Rt.crossPos+Math.min(Oe,Ae),ke=Rt.crossPos+Math.max(Oe,Ae)}gt?void 0!==wt&&void 0!==St&&Math.min(ke,St)-Math.max(he,wt)>1&&("left"===It.side?(vt=It._mainLinePosition,yt=_.width):yt=It._mainLinePosition):void 0!==Ft&&void 0!==Mt&&Math.min(ke,Mt)-Math.max(he,Ft)>1&&("top"===It.side?(vt=It._mainLinePosition,yt=_.height):yt=It._mainLinePosition)}bt[Dt++]=[{datum:Rt,traceIndex:Rt.trace.index,dp:0,pos:Rt.pos,posref:Rt.posref,size:Rt.by*(gt?M:1)/2,pmin:vt,pmax:yt}]}),bt.sort(function(Rt,Ot){return Rt[0].posref-Ot[0].posref||dt*(Ot[0].traceIndex-Rt[0].traceIndex)});!Pt&&st<=Tt;){for(st++,Pt=!0,_t=0;_t<bt.length-1;){var oe=bt[_t],pe=bt[_t+1],ye=oe[oe.length-1],Fe=pe[0];if((Vt=ye.pos+ye.dp+ye.size-Fe.pos-Fe.dp+Fe.size)>.01&&ye.pmin===Fe.pmin&&ye.pmax===Fe.pmax){for(kt=pe.length-1;kt>=0;kt--)pe[kt].dp+=Vt;for(oe.push.apply(oe,pe),bt.splice(_t+1,1),qt=0,kt=oe.length-1;kt>=0;kt--)qt+=oe[kt].dp;for(te=qt/oe.length,kt=oe.length-1;kt>=0;kt--)oe[kt].dp-=te;Pt=!1}else _t++}bt.forEach(ae)}for(_t=bt.length-1;_t>=0;_t--){var Zt=bt[_t];for(kt=Zt.length-1;kt>=0;kt--){var Ct=Zt[kt],Et=Ct.datum;Et.offset=Ct.dp,Et.del=Ct.del}}}(An,rn,st,Pn.commonLabelBoundingBox),z(An,rn,st._invScaleX,st._invScaleY)),nt&&nt.tagName){var lr=u.getComponentMethod("annotations","hasClickToShow")(X,Se);r(A.select(nt),lr?"pointer":"")}!nt||K||!function Q(X,at,_){if(!_||_.length!==X._hoverdata.length)return!0;for(var K=_.length-1;K>=0;K--){var nt=_[K],et=X._hoverdata[K];if(nt.curveNumber!==et.curveNumber||String(nt.pointNumber)!==String(et.pointNumber)||String(nt.pointNumbers)!==String(et.pointNumbers))return!0}return!1}(X,0,Nt)||(Nt&&X.emit("plotly_unhover",{event:at,points:Nt}),X.emit("plotly_hover",{event:at,points:X._hoverdata,xaxes:Mt,yaxes:wt,xvals:qt,yvals:ae}))}function p(X){return[X.trace.index,X.index,X.x0,X.y0,X.name,X.attr,X.xa?X.xa._id:"",X.ya?X.ya._id:""].join(",")}W.hover=function(at,_,K,nt){at=P.getGraphDiv(at);var et=_.target;P.throttle(at._fullLayout._uid+v.HOVERID,v.HOVERMINTIME,function(){C(at,_,K,nt,et)})},W.loneHover=function(at,_){var K=!0;Array.isArray(at)||(K=!1,at=[at]);var nt=_.gd,et=j(nt),st=Z(nt),Dt=D(at.map(function(Gt){var Pt=Gt._x0||Gt.x0||Gt.x||0,Vt=Gt._x1||Gt.x1||Gt.x||0,te=Gt._y0||Gt.y0||Gt.y||0,_t=Gt._y1||Gt.y1||Gt.y||0,kt=Gt.eventData;if(kt){var zt=Math.min(Pt,Vt),qt=Math.max(Pt,Vt),ae=Math.min(te,_t),oe=Math.max(te,_t),pe=Gt.trace;if(u.traceIs(pe,"gl3d")){var ye=nt._fullLayout[pe.scene]._scene.container,Fe=ye.offsetLeft,Zt=ye.offsetTop;zt+=Fe,qt+=Fe,ae+=Zt,oe+=Zt}kt.bbox={x0:zt+st,x1:qt+st,y0:ae+et,y1:oe+et},_.inOut_bbox&&_.inOut_bbox.push(kt.bbox)}else kt=!1;return{color:Gt.color||a.defaultLine,x0:Gt.x0||Gt.x||0,x1:Gt.x1||Gt.x||0,y0:Gt.y0||Gt.y||0,y1:Gt.y1||Gt.y||0,xLabel:Gt.xLabel,yLabel:Gt.yLabel,zLabel:Gt.zLabel,text:Gt.text,name:Gt.name,idealAlign:Gt.idealAlign,borderColor:Gt.borderColor,fontFamily:Gt.fontFamily,fontSize:Gt.fontSize,fontColor:Gt.fontColor,nameLength:Gt.nameLength,textAlign:Gt.textAlign,trace:Gt.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Gt.hovertemplate||!1,hovertemplateLabels:Gt.hovertemplateLabels||!1,eventData:kt}}),{gd:nt,hovermode:"closest",rotateLabels:false,bgColor:_.bgColor||a.background,container:A.select(_.container),outerContainer:_.outerContainer||_.container}).hoverLabels,Mt=0,wt=0;return Dt.sort(function(Gt,Pt){return Gt.y0-Pt.y0}).each(function(Gt,Pt){var Vt=Gt.y0-Gt.by/2;Gt.offset=Vt-5<Mt?Mt-Vt+5:0,Mt=Vt+Gt.by+Gt.offset,Pt===_.anchorIndex&&(wt=Gt.offset)}).each(function(Gt){Gt.offset-=wt}),z(Dt,false,nt._fullLayout._invScaleX,nt._fullLayout._invScaleY),K?Dt:Dt.node()};var F=/<extra>([\s\S]*)<\/extra>/;function D(X,at){var _=at.gd,K=_._fullLayout,nt=at.hovermode,et=at.rotateLabels,st=at.bgColor,dt=at.container,Tt=at.outerContainer,bt=at.commonLabelOpts||{};if(0===X.length)return[[]];var Dt=at.fontFamily||v.HOVERFONT,Ft=at.fontSize||v.HOVERFONTSIZE,Mt=X[0],wt=Mt.xa,St=Mt.ya,Ut=nt.charAt(0),Gt=Ut+"Label",Pt=Mt[Gt];if(void 0===Pt&&"multicategory"===wt.type)for(var Vt=0;Vt<X.length&&void 0===(Pt=X[Vt][Gt]);Vt++);var te=H(_,Tt),_t=te.top,kt=te.width,zt=te.height,qt=void 0!==Pt&&Mt.distance<=at.hoverdistance&&("x"===nt||"y"===nt);if(qt){var oe,pe,ae=!0;for(oe=0;oe<X.length;oe++)if(ae&&void 0===X[oe].zLabel&&(ae=!1),pe=X[oe].hoverinfo||X[oe].trace.hoverinfo){var ye=Array.isArray(pe)?pe:pe.split("+");if(-1===ye.indexOf("all")&&-1===ye.indexOf(nt)){qt=!1;break}}ae&&(qt=!1)}var Fe=dt.selectAll("g.axistext").data(qt?[0]:[]);Fe.enter().append("g").classed("axistext",!0),Fe.exit().remove();var Zt={minX:0,maxX:0,minY:0,maxY:0};if(Fe.each(function(){var be=A.select(this),Pe=P.ensureSingle(be,"path","",function(Er){Er.style({"stroke-width":"1px"})}),Be=P.ensureSingle(be,"text","",function(Er){Er.attr("data-notex",1)}),Qe=bt.bgcolor||a.defaultLine,Ke=bt.bordercolor||a.contrast(Qe),tr=a.contrast(Qe),vr={family:bt.font.family||Dt,size:bt.font.size||Ft,color:bt.font.color||tr};Pe.style({fill:Qe,stroke:Ke}),Be.text(Pt).call(f.font,vr).call(e.positionText,0,0).call(e.convertToTspans,_),be.attr("transform","");var Nt,Se,Ht=H(_,Be.node());if("x"===nt){var Le="top"===wt.side?"-":"";Be.attr("text-anchor","middle").call(e.positionText,0,"top"===wt.side?_t-Ht.bottom-m-S:_t-Ht.top+m+S),Se=St._offset+("top"===wt.side?0:St._length);var We=Ht.width/2+S;(Nt=wt._offset+(Mt.x0+Mt.x1)/2)<We?(Nt=We,Pe.attr("d","M-"+(We-m)+",0L-"+(We-2*m)+","+Le+m+"H"+We+"v"+Le+(2*S+Ht.height)+"H-"+We+"V"+Le+m+"Z")):Nt>K.width-We?(Nt=K.width-We,Pe.attr("d","M"+(We-m)+",0L"+We+","+Le+m+"v"+Le+(2*S+Ht.height)+"H-"+We+"V"+Le+m+"H"+(We-2*m)+"Z")):Pe.attr("d","M0,0L"+m+","+Le+m+"H"+We+"v"+Le+(2*S+Ht.height)+"H-"+We+"V"+Le+m+"H-"+m+"Z"),Zt.minX=Nt-We,Zt.maxX=Nt+We,"top"===wt.side?(Zt.minY=Se-(2*S+Ht.height),Zt.maxY=Se-S):(Zt.minY=Se+S,Zt.maxY=Se+(2*S+Ht.height))}else{var rr,or,qe;"right"===St.side?(rr="start",or=1,qe="",Nt=wt._offset+wt._length):(rr="end",or=-1,qe="-",Nt=wt._offset),Se=St._offset+(Mt.y0+Mt.y1)/2,Be.attr("text-anchor",rr),Pe.attr("d","M0,0L"+qe+m+","+m+"V"+(S+Ht.height/2)+"h"+qe+(2*S+Ht.width)+"V-"+(S+Ht.height/2)+"H"+qe+m+"V-"+m+"Z"),Zt.minY=Se-(S+Ht.height/2),Zt.maxY=Se+(S+Ht.height/2),"right"===St.side?(Zt.minX=Nt+m,Zt.maxX=Nt+m+(2*S+Ht.width)):(Zt.minX=Nt-m-(2*S+Ht.width),Zt.maxX=Nt-m);var dr,De=Ht.height/2,sr=_t-Ht.top-De,gr="clip"+K._uid+"commonlabel"+St._id;if(Nt<Ht.width+2*S+m){dr="M-"+(m+S)+"-"+De+"h-"+(Ht.width-S)+"V"+De+"h"+(Ht.width-S)+"Z";var Pr=Ht.width-Nt+S;e.positionText(Be,Pr,sr),"end"===rr&&Be.selectAll("tspan").each(function(){var Er=A.select(this),Zr=f.tester.append("text").text(Er.text()).call(f.font,vr),rn=H(_,Zr.node());Math.round(rn.width)<Math.round(Ht.width)&&Er.attr("x",Pr-rn.width),Zr.remove()})}else e.positionText(Be,or*(S+m),sr),dr=null;var qr=K._topclips.selectAll("#"+gr).data(dr?[0]:[]);qr.enter().append("clipPath").attr("id",gr).append("path"),qr.exit().remove(),qr.select("path").attr("d",dr),f.setClipUrl(Be,dr?gr:null,_)}be.attr("transform",E(Nt,Se))}),y.isUnifiedHover(nt)){dt.selectAll("g.hovertext").remove();var Ct=X.filter(function(be){return"none"!==be.hoverinfo});if(0===Ct.length)return[];var Et=K.hoverlabel,Rt=Et.font,It={font:Rt};w({showlegend:!0,legend:{title:{text:Pt,font:Rt},font:Rt,bgcolor:Et.bgcolor,bordercolor:Et.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:K.legend?K.legend.traceorder:void 0,orientation:"v"}},It,_._fullData);var gt=It.legend;gt.entries=[];for(var pt=0;pt<Ct.length;pt++){var vt=Ct[pt];if("none"!==vt.hoverinfo){var yt=N(vt,!0,nt,K,Pt),Yt=yt[0],Qt=yt[1];vt.name=Qt,vt.text=""!==Qt?Qt+" : "+Yt:Yt;var le=vt.cd[vt.index];le&&(le.mc&&(vt.mc=le.mc),le.mcc&&(vt.mc=le.mcc),le.mlc&&(vt.mlc=le.mlc),le.mlcc&&(vt.mlc=le.mlcc),le.mlw&&(vt.mlw=le.mlw),le.mrc&&(vt.mrc=le.mrc),le.dir&&(vt.dir=le.dir)),vt._distinct=!0,gt.entries.push([vt])}}gt.entries.sort(function(be,Pe){return be[0].trace.index-Pe[0].trace.index}),gt.layer=dt,gt._inHover=!0,gt._groupTitleFont=Et.grouptitlefont,d(_,gt);var Ve,He,wr,ar,he=dt.select("g.legend"),ke=H(_,he.node()),Oe=ke.width+2*S,Ae=ke.height+2*S,je=Ct[0],Ze=(je.x0+je.x1)/2,Lr=(je.y0+je.y1)/2,fe=!(u.traceIs(je.trace,"bar-like")||u.traceIs(je.trace,"box-violin"));"y"===Ut?fe?(He=Lr-S,Ve=Lr+S):(He=Math.min.apply(null,Ct.map(function(be){return Math.min(be.y0,be.y1)})),Ve=Math.max.apply(null,Ct.map(function(be){return Math.max(be.y0,be.y1)}))):He=Ve=P.mean(Ct.map(function(be){return(be.y0+be.y1)/2}))-Ae/2,"x"===Ut?fe?(wr=Ze+S,ar=Ze-S):(wr=Math.max.apply(null,Ct.map(function(be){return Math.max(be.x0,be.x1)})),ar=Math.min.apply(null,Ct.map(function(be){return Math.min(be.x0,be.x1)}))):wr=ar=P.mean(Ct.map(function(be){return(be.x0+be.x1)/2}))-Oe/2;var ve,xe,ie=wt._offset,ne=St._offset;return ar+=ie-Oe,He+=ne-Ae,ve=(wr+=ie)+Oe<kt&&wr>=0?wr:ar+Oe<kt&&ar>=0?ar:ie+Oe<kt?ie:wr-Ze<Ze-ar+Oe?kt-Oe:0,xe=(Ve+=ne)+Ae<zt&&Ve>=0?Ve:He+Ae<zt&&He>=0?He:ne+Ae<zt?ne:Ve-Lr<Lr-He+Ae?zt-Ae:0,he.attr("transform",E((ve+=S)-1,(xe+=S)-1)),he}var Te=dt.selectAll("g.hovertext").data(X,function(be){return p(be)});return Te.enter().append("g").classed("hovertext",!0).each(function(){var be=A.select(this);be.append("rect").call(a.fill,a.addOpacity(st,.8)),be.append("text").classed("name",!0),be.append("path").style("stroke-width","1px"),be.append("text").classed("nums",!0).call(f.font,Dt,Ft)}),Te.exit().remove(),Te.each(function(be){var Pe=A.select(this).attr("transform",""),Be=be.color;Array.isArray(Be)&&(Be=Be[be.eventData[0].pointNumber]);var Qe=be.bgcolor||Be,Ke=a.combine(a.opacity(Qe)?Qe:a.defaultLine,st),tr=a.combine(a.opacity(Be)?Be:a.defaultLine,st),vr=be.borderColor||a.contrast(Ke),Ht=N(be,qt,nt,K,Pt,Pe),Nt=Ht[0],Se=Ht[1],Le=Pe.select("text.nums").call(f.font,be.fontFamily||Dt,be.fontSize||Ft,be.fontColor||vr).text(Nt).attr("data-notex",1).call(e.positionText,0,0).call(e.convertToTspans,_),We=Pe.select("text.name"),rr=0,or=0;if(Se&&Se!==Nt){We.call(f.font,be.fontFamily||Dt,be.fontSize||Ft,tr).text(Se).attr("data-notex",1).call(e.positionText,0,0).call(e.convertToTspans,_);var qe=H(_,We.node());rr=qe.width+2*S,or=qe.height+2*S}else We.remove(),Pe.select("rect").remove();Pe.select("path").style({fill:Ke,stroke:vr});var De=be.xa._offset+(be.x0+be.x1)/2,sr=be.ya._offset+(be.y0+be.y1)/2,gr=Math.abs(be.x1-be.x0),dr=Math.abs(be.y1-be.y0),Pr=H(_,Le.node()),qr=Pr.width/K._invScaleX,Er=Pr.height/K._invScaleY;be.ty0=(_t-Pr.top)/K._invScaleY,be.bx=qr+2*S,be.by=Math.max(Er+2*S,or),be.anchor="start",be.txwidth=qr,be.tx2width=rr,be.offset=0;var rn,zr,Zr=(qr+m+S+rr)*K._invScaleX;if(et)be.pos=De,rn=sr+dr/2+Zr<=zt,zr=sr-dr/2-Zr>=0,"top"!==be.idealAlign&&rn||!zr?rn?(sr+=dr/2,be.anchor="start"):be.anchor="middle":(sr-=dr/2,be.anchor="end"),be.crossPos=sr;else{if(be.pos=sr,rn=De+gr/2+Zr<=kt,zr=De-gr/2-Zr>=0,"left"!==be.idealAlign&&rn||!zr)if(rn)De+=gr/2,be.anchor="start";else{be.anchor="middle";var Pn=Zr/2,An=De+Pn-kt,lr=De-Pn;An>0&&(De-=An),lr<0&&(De+=-lr)}else De-=gr/2,be.anchor="end";be.crossPos=De}Le.attr("text-anchor",be.anchor),rr&&We.attr("text-anchor",be.anchor),Pe.attr("transform",E(De,sr)+(et?l(o):""))}),{hoverLabels:Te,commonLabelBoundingBox:Zt}}function N(X,at,_,K,nt,et){var st="",dt="";void 0!==X.nameOverride&&(X.name=X.nameOverride),X.name&&(X.trace._meta&&(X.name=P.templateString(X.name,X.trace._meta)),st=it(X.name,X.nameLength));var Tt=_.charAt(0);void 0!==X.zLabel?(void 0!==X.xLabel&&(dt+="x: "+X.xLabel+"<br>"),void 0!==X.yLabel&&(dt+="y: "+X.yLabel+"<br>"),"choropleth"!==X.trace.type&&"choroplethmapbox"!==X.trace.type&&(dt+=(dt?"z: ":"")+X.zLabel)):at&&X[Tt+"Label"]===nt?dt=X[("x"===Tt?"y":"x")+"Label"]||"":void 0===X.xLabel?void 0!==X.yLabel&&"scattercarpet"!==X.trace.type&&(dt=X.yLabel):dt=void 0===X.yLabel?X.xLabel:"("+X.xLabel+", "+X.yLabel+")",(X.text||0===X.text)&&!Array.isArray(X.text)&&(dt+=(dt?"<br>":"")+X.text),void 0!==X.extraText&&(dt+=(dt?"<br>":"")+X.extraText),et&&""===dt&&!X.hovertemplate&&(""===st&&et.remove(),dt=st);var Dt=X.hovertemplate||!1;if(Dt){var Ft=X.hovertemplateLabels||X;X[Tt+"Label"]!==nt&&(Ft[Tt+"other"]=Ft[Tt+"Val"],Ft[Tt+"otherLabel"]=Ft[Tt+"Label"]),dt=(dt=P.hovertemplateString(Dt,Ft,K._d3locale,X.eventData[0]||{},X.trace._meta)).replace(F,function(Mt,wt){return st=it(wt,X.nameLength),""})}return[dt,st]}function O(X,at){var _=0,K=X.offset;return at&&(K*=-L,_=X.offset*T),{x:_,y:K}}function z(X,at,_,K){var nt=function(st){return st*_},et=function(st){return st*K};X.each(function(st){var dt=A.select(this);if(st.del)return dt.remove();var Tt=dt.select("text.nums"),bt=st.anchor,Dt="end"===bt?-1:1,Ft=function B(X){var at={start:1,end:-1,middle:0}[X.anchor],_=at*(m+S),K=_+at*(X.txwidth+S);return"middle"===X.anchor&&(_-=X.tx2width/2,K+=X.txwidth/2+S),{alignShift:at,textShiftX:_,text2ShiftX:K}}(st),Mt=O(st,at),wt=Mt.x,St=Mt.y,Ut="middle"===bt;dt.select("path").attr("d",Ut?"M-"+nt(st.bx/2+st.tx2width/2)+","+et(St-st.by/2)+"h"+nt(st.bx)+"v"+et(st.by)+"h-"+nt(st.bx)+"Z":"M0,0L"+nt(Dt*m+wt)+","+et(m+St)+"v"+et(st.by/2-m)+"h"+nt(Dt*st.bx)+"v-"+et(st.by)+"H"+nt(Dt*m+wt)+"V"+et(St-m)+"Z");var Gt=wt+Ft.textShiftX,Pt=St+st.ty0-st.by/2+S,Vt=st.textAlign||"auto";"auto"!==Vt&&("left"===Vt&&"start"!==bt?(Tt.attr("text-anchor","start"),Gt=Ut?-st.bx/2-st.tx2width/2+S:-st.bx-S):"right"===Vt&&"end"!==bt&&(Tt.attr("text-anchor","end"),Gt=Ut?st.bx/2-st.tx2width/2-S:st.bx+S)),Tt.call(e.positionText,nt(Gt),et(Pt)),st.tx2width&&(dt.select("text.name").call(e.positionText,nt(Ft.text2ShiftX+Ft.alignShift*S+wt),et(St+st.ty0-st.by/2+S)),dt.select("rect").call(f.setRect,nt(Ft.text2ShiftX+(Ft.alignShift-1)*st.tx2width/2+wt),et(St-st.by/2-1),nt(st.tx2width),et(st.by+2)))})}function U(X,at){var _=X.index,K=X.trace||{},nt=X.cd[0],et=X.cd[_]||{};function st(Mt){return Mt||g(Mt)&&0===Mt}var dt=Array.isArray(_)?function(Mt,wt){var St=P.castOption(nt,_,Mt);return st(St)?St:P.extractOption({},K,"",wt)}:function(Mt,wt){return P.extractOption(et,K,Mt,wt)};function Tt(Mt,wt,St){var Ut=dt(wt,St);st(Ut)&&(X[Mt]=Ut)}if(Tt("hoverinfo","hi","hoverinfo"),Tt("bgcolor","hbg","hoverlabel.bgcolor"),Tt("borderColor","hbc","hoverlabel.bordercolor"),Tt("fontFamily","htf","hoverlabel.font.family"),Tt("fontSize","hts","hoverlabel.font.size"),Tt("fontColor","htc","hoverlabel.font.color"),Tt("nameLength","hnl","hoverlabel.namelength"),Tt("textAlign","hta","hoverlabel.align"),X.posref="y"===at||"closest"===at&&"h"===K.orientation?X.xa._offset+(X.x0+X.x1)/2:X.ya._offset+(X.y0+X.y1)/2,X.x0=P.constrain(X.x0,0,X.xa._length),X.x1=P.constrain(X.x1,0,X.xa._length),X.y0=P.constrain(X.y0,0,X.ya._length),X.y1=P.constrain(X.y1,0,X.ya._length),void 0!==X.xLabelVal&&(X.xLabel="xLabel"in X?X.xLabel:c.hoverLabelText(X.xa,X.xLabelVal,K.xhoverformat),X.xVal=X.xa.c2d(X.xLabelVal)),void 0!==X.yLabelVal&&(X.yLabel="yLabel"in X?X.yLabel:c.hoverLabelText(X.ya,X.yLabelVal,K.yhoverformat),X.yVal=X.ya.c2d(X.yLabelVal)),void 0!==X.zLabelVal&&void 0===X.zLabel&&(X.zLabel=String(X.zLabelVal)),!(isNaN(X.xerr)||"log"===X.xa.type&&X.xerr<=0)){var bt=c.tickText(X.xa,X.xa.c2l(X.xerr),"hover").text;X.xLabel+=void 0!==X.xerrneg?" +"+bt+" / -"+c.tickText(X.xa,X.xa.c2l(X.xerrneg),"hover").text:" \xb1 "+bt,"x"===at&&(X.distance+=1)}if(!(isNaN(X.yerr)||"log"===X.ya.type&&X.yerr<=0)){var Dt=c.tickText(X.ya,X.ya.c2l(X.yerr),"hover").text;X.yLabel+=void 0!==X.yerrneg?" +"+Dt+" / -"+c.tickText(X.ya,X.ya.c2l(X.yerrneg),"hover").text:" \xb1 "+Dt,"y"===at&&(X.distance+=1)}var Ft=X.hoverinfo||X.trace.hoverinfo;return Ft&&"all"!==Ft&&(-1===(Ft=Array.isArray(Ft)?Ft:Ft.split("+")).indexOf("x")&&(X.xLabel=void 0),-1===Ft.indexOf("y")&&(X.yLabel=void 0),-1===Ft.indexOf("z")&&(X.zLabel=void 0),-1===Ft.indexOf("text")&&(X.text=void 0),-1===Ft.indexOf("name")&&(X.name=void 0)),X}function G(X,at,_){var bt,Dt,K=_.container,nt=_.fullLayout,et=nt._size,st=_.event,dt=!!at.hLinePoint,Tt=!!at.vLinePoint;if(K.selectAll(".spikeline").remove(),Tt||dt){var Ft=a.combine(nt.plot_bgcolor,nt.paper_bgcolor);if(dt){var wt,St,Mt=at.hLinePoint;bt=Mt&&Mt.xa,"cursor"===(Dt=Mt&&Mt.ya).spikesnap?(wt=st.pointerX,St=st.pointerY):(wt=bt._offset+Mt.x,St=Dt._offset+Mt.y);var kt,zt,Gt=i.readability(Mt.color,Ft)<1.5?a.contrast(Ft):Mt.color,Pt=Dt.spikemode,Vt=Dt.spikethickness,te=Dt.spikecolor||Gt,_t=c.getPxPosition(X,Dt);if(-1!==Pt.indexOf("toaxis")||-1!==Pt.indexOf("across")){if(-1!==Pt.indexOf("toaxis")&&(kt=_t,zt=wt),-1!==Pt.indexOf("across")){var qt=Dt._counterDomainMin,ae=Dt._counterDomainMax;"free"===Dt.anchor&&(qt=Math.min(qt,Dt.position),ae=Math.max(ae,Dt.position)),kt=et.l+qt*et.w,zt=et.l+ae*et.w}K.insert("line",":first-child").attr({x1:kt,x2:zt,y1:St,y2:St,"stroke-width":Vt,stroke:te,"stroke-dasharray":f.dashStyle(Dt.spikedash,Vt)}).classed("spikeline",!0).classed("crisp",!0),K.insert("line",":first-child").attr({x1:kt,x2:zt,y1:St,y2:St,"stroke-width":Vt+2,stroke:Ft}).classed("spikeline",!0).classed("crisp",!0)}-1!==Pt.indexOf("marker")&&K.insert("circle",":first-child").attr({cx:_t+("right"!==Dt.side?Vt:-Vt),cy:St,r:Vt,fill:te}).classed("spikeline",!0)}if(Tt){var pe,ye,oe=at.vLinePoint;Dt=oe&&oe.ya,"cursor"===(bt=oe&&oe.xa).spikesnap?(pe=st.pointerX,ye=st.pointerY):(pe=bt._offset+oe.x,ye=Dt._offset+oe.y);var It,gt,Zt=i.readability(oe.color,Ft)<1.5?a.contrast(Ft):oe.color,Ct=bt.spikemode,Et=bt.spikethickness,Rt=bt.spikecolor||Zt,Ot=c.getPxPosition(X,bt);if(-1!==Ct.indexOf("toaxis")||-1!==Ct.indexOf("across")){if(-1!==Ct.indexOf("toaxis")&&(It=Ot,gt=ye),-1!==Ct.indexOf("across")){var pt=bt._counterDomainMin,vt=bt._counterDomainMax;"free"===bt.anchor&&(pt=Math.min(pt,bt.position),vt=Math.max(vt,bt.position)),It=et.t+(1-vt)*et.h,gt=et.t+(1-pt)*et.h}K.insert("line",":first-child").attr({x1:pe,x2:pe,y1:It,y2:gt,"stroke-width":Et,stroke:Rt,"stroke-dasharray":f.dashStyle(bt.spikedash,Et)}).classed("spikeline",!0).classed("crisp",!0),K.insert("line",":first-child").attr({x1:pe,x2:pe,y1:It,y2:gt,"stroke-width":Et+2,stroke:Ft}).classed("spikeline",!0).classed("crisp",!0)}-1!==Ct.indexOf("marker")&&K.insert("circle",":first-child").attr({cx:pe,cy:Ot-("top"!==bt.side?Et:-Et),r:Et,fill:Rt}).classed("spikeline",!0)}}}function rt(X,at){return!at||at.vLinePoint!==X._spikepoints.vLinePoint||at.hLinePoint!==X._spikepoints.hLinePoint}function it(X,at){return e.plainText(X||"",{len:at,allowedTags:["br","sub","sup","b","i","em"]})}function J(X,at,_){var K=at[X+"a"],nt=at[X+"Val"],et=at.cd[0];if("category"===K.type||"multicategory"===K.type)nt=K._categoriesMap[nt];else if("date"===K.type){var st=at.trace[X+"periodalignment"];if(st){var dt=at.cd[at.index],Tt=dt[X+"Start"];void 0===Tt&&(Tt=dt[X]);var bt=dt[X+"End"];void 0===bt&&(bt=dt[X]);var Dt=bt-Tt;"end"===st?nt+=Dt:"middle"===st&&(nt+=Dt/2)}nt=K.d2c(nt)}return et&&et.t&&et.t.posLetter===K._id&&("group"===_.boxmode||"group"===_.violinmode)&&(nt+=et.t.dPos),nt}function j(X){return X.offsetTop+X.clientTop}function Z(X){return X.offsetLeft+X.clientLeft}function H(X,at){var _=X._fullLayout,K=at.getBoundingClientRect(),nt=K.left,et=K.top,st=nt+K.width,dt=et+K.height,Tt=P.apply3DTransform(_._invTransform)(nt,et),bt=P.apply3DTransform(_._invTransform)(st,dt),Dt=Tt[0],Ft=Tt[1],Mt=bt[0],wt=bt[1];return{x:Dt,y:Ft,width:Mt-Dt,height:wt-Ft,top:Math.min(Ft,wt),left:Math.min(Dt,Mt),right:Math.max(Dt,Mt),bottom:Math.max(Ft,wt)}}},38048:function(tt,W,t){"use strict";var A=t(71828),g=t(7901),i=t(23469).isUnifiedHover;tt.exports=function(E,l,x,e){e=e||{};var r=l.legend;function f(a){e.font[a]||(e.font[a]=r?l.legend.font[a]:l.font[a])}l&&i(l.hovermode)&&(e.font||(e.font={}),f("size"),f("family"),f("color"),r?(e.bgcolor||(e.bgcolor=g.combine(l.legend.bgcolor,l.paper_bgcolor)),e.bordercolor||(e.bordercolor=l.legend.bordercolor)):e.bgcolor||(e.bgcolor=l.paper_bgcolor)),x("hoverlabel.bgcolor",e.bgcolor),x("hoverlabel.bordercolor",e.bordercolor),x("hoverlabel.namelength",e.namelength),A.coerceFont(x,"hoverlabel.font",e.font),x("hoverlabel.align",e.align)}},98212:function(tt,W,t){"use strict";var A=t(71828),g=t(528);tt.exports=function(P,E){function l(x,e){return void 0!==E[x]?E[x]:A.coerce(P,E,g,x,e)}return l("clickmode"),l("hovermode")}},30211:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=t(28569),P=t(23469),E=t(528),l=t(88335);tt.exports={moduleType:"component",name:"fx",constants:t(26675),schema:{layout:E},attributes:t(77914),layoutAttributes:E,supplyLayoutGlobalDefaults:t(22774),supplyDefaults:t(54268),supplyLayoutDefaults:t(34938),calc:t(30732),getDistanceFunction:P.getDistanceFunction,getClosest:P.getClosest,inbox:P.inbox,quadrature:P.quadrature,appendArrayPointValue:P.appendArrayPointValue,castHoverOption:function e(f,a,s){return g.castOption(f,a,"hoverlabel."+s)},castHoverinfo:function r(f,a,s){return g.castOption(f,s,"hoverinfo",function c(u){return g.coerceHoverinfo({hoverinfo:u},{_module:f._module},a)})},hover:l.hover,unhover:i.unhover,loneHover:l.loneHover,loneUnhover:function x(f){var a=g.isD3Selection(f)?f:A.select(f);a.selectAll("g.hovertext").remove(),a.selectAll(".spikeline").remove()},click:t(75914)}},528:function(tt,W,t){"use strict";var A=t(26675),g=t(41940),i=g({editType:"none"});i.family.dflt=A.HOVERFONT,i.size.dflt=A.HOVERFONTSIZE,tt.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,grouptitlefont:g({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(tt,W,t){"use strict";var A=t(71828),g=t(528),i=t(98212),P=t(38048);tt.exports=function(l,x){function e(u,y){return A.coerce(l,x,g,u,y)}i(l,x)&&(e("hoverdistance"),e("spikedistance")),"select"===e("dragmode")&&e("selectdirection");var a=x._has("mapbox"),s=x._has("geo"),c=x._basePlotModules.length;"zoom"===x.dragmode&&((a||s)&&1===c||a&&s&&2===c)&&(x.dragmode="pan"),P(l,x,e),A.coerceFont(e,"hoverlabel.grouptitlefont",x.hoverlabel.font)}},22774:function(tt,W,t){"use strict";var A=t(71828),g=t(38048),i=t(528);tt.exports=function(E,l){g(E,l,function x(e,r){return A.coerce(E,l,i,e,r)})}},83312:function(tt,W,t){"use strict";var A=t(71828),g=t(30587).counter,i=t(27670).Y,P=t(85555).idRegex,E=t(44467),l={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[g("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[P.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[P.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function x(s,c,u){var y=c[u+"axes"],v=Object.keys((s._splomAxes||{})[u]||{});return Array.isArray(y)?y:v.length?v:void 0}function r(s,c,u,y,v,w){var d=c(s+"gap",u),o=c("domain."+s);c(s+"side",y);for(var h=new Array(v),M=o[0],T=(o[1]-M)/(v-d),L=T*(1-d),m=0;m<v;m++){var S=M+T*m;h[w?v-1-m:m]=[S,S+L]}return h}function a(s,c,u,y,v){var d,w=new Array(u);function o(h,M){-1!==c.indexOf(M)&&void 0===y[M]?(w[h]=M,y[M]=h):w[h]=""}if(Array.isArray(s))for(d=0;d<u;d++)o(d,s[d]);else for(o(0,v),d=1;d<u;d++)o(d,v+(d+1));return w}tt.exports={moduleType:"component",name:"grid",schema:{layout:{grid:l}},layoutAttributes:l,sizeDefaults:function e(s,c){var u=s.grid||{},y=x(c,u,"x"),v=x(c,u,"y");if(s.grid||y||v){var M,T,w=Array.isArray(u.subplots)&&Array.isArray(u.subplots[0]),d=Array.isArray(y),o=Array.isArray(v),h=d&&y!==u.xaxes&&o&&v!==u.yaxes;w?(M=u.subplots.length,T=u.subplots[0].length):(o&&(M=v.length),d&&(T=y.length));var L=E.newContainer(c,"grid"),S=m("rows",M),b=m("columns",T);if(S*b>1){w||d||o||"independent"===m("pattern")&&(w=!0),L._hasSubplotGrid=w;var N,k,p="top to bottom"===m("roworder"),D=w?.3:.1;h&&c._splomGridDflt&&(N=c._splomGridDflt.xside,k=c._splomGridDflt.yside),L._domains={x:r("x",m,w?.2:.1,N,b),y:r("y",m,D,k,S,p)}}else delete c.grid}function m(O,B){return A.coerce(u,L,l,O,B)}},contentDefaults:function f(s,c){var u=c.grid;if(u&&u._domains){var M,T,L,m,S,b,n,y=s.grid||{},v=c._subplots,w=u._hasSubplotGrid,d=u.rows,o=u.columns,h="independent"===u.pattern,C=u._axisMap={};if(w){var p=y.subplots||[];b=u.subplots=new Array(d);var F=1;for(M=0;M<d;M++){var D=b[M]=new Array(o),N=p[M]||[];for(T=0;T<o;T++)if(h?(S=1===F?"xy":"x"+F+"y"+F,F++):S=N[T],D[T]="",-1!==v.cartesian.indexOf(S)){if(n=S.indexOf("y"),L=S.slice(0,n),m=S.slice(n),void 0!==C[L]&&C[L]!==T||void 0!==C[m]&&C[m]!==M)continue;D[T]=S,C[L]=T,C[m]=M}}}else{var k=x(c,y,"x"),O=x(c,y,"y");u.xaxes=a(k,v.xaxis,o,C,"x"),u.yaxes=a(O,v.yaxis,d,C,"y")}var B=u._anchors={},z="top to bottom"===u.roworder;for(var U in C){var rt,it,ut,G=U.charAt(0),Q=u[G+"side"];if(Q.length<8)B[U]="free";else if("x"===G){if("t"===Q.charAt(0)===z?(rt=0,it=1,ut=d):(rt=d-1,it=-1,ut=-1),w){var J=C[U];for(M=rt;M!==ut;M+=it)if((S=b[M][J])&&(n=S.indexOf("y"),S.slice(0,n)===U)){B[U]=S.slice(n);break}}else for(M=rt;M!==ut;M+=it)if(-1!==v.cartesian.indexOf(U+(m=u.yaxes[M]))){B[U]=m;break}}else if("l"===Q.charAt(0)?(rt=0,it=1,ut=o):(rt=o-1,it=-1,ut=-1),w){var j=C[U];for(M=rt;M!==ut;M+=it)if((S=b[j][M])&&(n=S.indexOf("y"),S.slice(n)===U)){B[U]=S.slice(0,n);break}}else for(M=rt;M!==ut;M+=it)if(-1!==v.cartesian.indexOf((L=u.xaxes[M])+U)){B[U]=L;break}}}}}},69819:function(tt,W,t){"use strict";var A=t(85555),g=t(44467).templatedArray;t(24695),tt.exports=g("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",A.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",A.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(tt,W,t){"use strict";var A=t(92770),g=t(58163);tt.exports=function(P,E,l,x){E=E||{};var e="log"===l&&"linear"===E.type;if(e||"linear"===l&&"log"===E.type)for(var s,c,f=P._fullLayout.images,a=E._id.charAt(0),u=0;u<f.length;u++)if(c="images["+u+"].",(s=f[u])[a+"ref"]===E._id){var y=s[a],v=s["size"+a],w=null,d=null;if(e){w=g(y,E.range);var o=v/Math.pow(10,w)/2;d=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else d=(w=Math.pow(10,y))*(Math.pow(10,v/2)-Math.pow(10,-v/2));A(w)?A(d)||(d=null):(w=null,d=null),x(c+a,w),x(c+"size"+a,d)}}},81603:function(tt,W,t){"use strict";var A=t(71828),g=t(89298),i=t(85501),P=t(69819);function l(x,e,r){function f(o,h){return A.coerce(x,e,P,o,h)}var a=f("source");if(!f("visible",!!a))return e;f("layer"),f("xanchor"),f("yanchor"),f("sizex"),f("sizey"),f("sizing"),f("opacity");for(var c={_fullLayout:r},u=["x","y"],y=0;y<2;y++){var v=u[y],w=g.coerceRef(x,e,c,v,"paper",void 0);"paper"!==w&&g.getFromId(c,w)._imgIndices.push(e._index),g.coercePosition(e,c,f,w,v,0)}return e}tt.exports=function(e,r){i(e,r,{name:"images",handleItemDefaults:l})}},80750:function(tt,W,t){"use strict";var A=t(39898),g=t(91424),i=t(89298),P=t(41675),E=t(77922);tt.exports=function(x){var s,c,e=x._fullLayout,r=[],f={},a=[];for(c=0;c<e.images.length;c++){var u=e.images[c];if(u.visible)if("below"===u.layer&&"paper"!==u.xref&&"paper"!==u.yref){s=P.ref2id(u.xref)+P.ref2id(u.yref);var y=e._plots[s];if(!y){a.push(u);continue}y.mainplot&&(s=y.mainplot.id),f[s]||(f[s]=[]),f[s].push(u)}else"above"===u.layer?r.push(u):a.push(u)}var v_x={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},v_y={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function w(m){var S=A.select(this);if(this._imgSrc!==m.source)if(S.attr("xmlns",E.svg),m.source&&"data:"===m.source.slice(0,5))S.attr("xlink:href",m.source),this._imgSrc=m.source;else{var b=new Promise(function(n){var C=new Image;function p(){S.remove(),n()}this.img=C,C.setAttribute("crossOrigin","anonymous"),C.onerror=p,C.onload=function(){var F=document.createElement("canvas");F.width=this.width,F.height=this.height,F.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var N=F.toDataURL("image/png");S.attr("xlink:href",N),n()},S.on("error",p),C.src=m.source,this._imgSrc=m.source}.bind(this));x._promises.push(b)}}function d(m){var D,N,S=A.select(this),b=i.getFromId(x,m.xref),n=i.getFromId(x,m.yref),C="domain"===i.getRefType(m.xref),p="domain"===i.getRefType(m.yref),F=e._size;D=void 0!==b?"string"==typeof m.xref&&C?b._length*m.sizex:Math.abs(b.l2p(m.sizex)-b.l2p(0)):m.sizex*F.w,N=void 0!==n?"string"==typeof m.yref&&p?n._length*m.sizey:Math.abs(n.l2p(m.sizey)-n.l2p(0)):m.sizey*F.h;var z,U,k=D*v_x[m.xanchor].offset,O=N*v_y[m.yanchor].offset,B=v_x[m.xanchor].sizing+v_y[m.yanchor].sizing;switch(z=void 0!==b?"string"==typeof m.xref&&C?b._length*m.x+b._offset:b.r2p(m.x)+b._offset:m.x*F.w+F.l,z+=k,U=void 0!==n?"string"==typeof m.yref&&p?n._length*(1-m.y)+n._offset:n.r2p(m.y)+n._offset:F.h-m.y*F.h+F.t,U+=O,m.sizing){case"fill":B+=" slice";break;case"stretch":B="none"}S.attr({x:z,y:U,width:D,height:N,preserveAspectRatio:B,opacity:m.opacity});var rt=(b&&"domain"!==i.getRefType(m.xref)?b._id:"")+(n&&"domain"!==i.getRefType(m.yref)?n._id:"");g.setClipUrl(S,rt?"clip"+e._uid+rt:null,x)}var o=e._imageLowerLayer.selectAll("image").data(a),h=e._imageUpperLayer.selectAll("image").data(r);o.enter().append("image"),h.enter().append("image"),o.exit().remove(),h.exit().remove(),o.each(function(m){w.bind(this)(m),d.bind(this)(m)}),h.each(function(m){w.bind(this)(m),d.bind(this)(m)});var M=Object.keys(e._plots);for(c=0;c<M.length;c++){var T=e._plots[s=M[c]];if(T.imagelayer){var L=T.imagelayer.selectAll("image").data(f[s]||[]);L.enter().append("image"),L.exit().remove(),L.each(function(m){w.bind(this)(m),d.bind(this)(m)})}}}},68804:function(tt,W,t){"use strict";tt.exports={moduleType:"component",name:"images",layoutAttributes:t(69819),supplyLayoutDefaults:t(81603),includeBasePlot:t(76325)("images"),draw:t(80750),convertCoords:t(75378)}},33030:function(tt,W,t){"use strict";var A=t(41940),g=t(22399);tt.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:A({editType:"legend"}),grouptitlefont:A({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:A({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(tt){"use strict";tt.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(tt,W,t){"use strict";var A=t(73972),g=t(71828),i=t(44467),P=t(9012),E=t(33030),l=t(10820),x=t(10130);function e(r,f,a,s){var c=f[r]||{},u=i.newContainer(a,r);function y(rt,it){return g.coerce(c,u,E,rt,it)}var v=g.coerceFont(y,"font",a.font);if(y("bgcolor",a.paper_bgcolor),y("bordercolor"),y("visible")){for(var d,o=function(rt,it){return g.coerce(d._input,d,P,rt,it)},h=a.font||{},M=g.coerceFont(y,"grouptitlefont",g.extendFlat({},h,{size:Math.round(1.1*h.size)})),T=0,L=!1,m="normal",S=s.filter(function(rt){return r===(rt.legend||"legend")}),b=0;b<S.length;b++)(d=S[b]).visible&&((d.showlegend||d._dfltShowLegend&&!(d._module&&d._module.attributes&&d._module.attributes.showlegend&&!1===d._module.attributes.showlegend.dflt))&&(T++,d.showlegend&&(L=!0,(A.traceIs(d,"pie-like")||!0===d._input.showlegend)&&T++),g.coerceFont(o,"legendgrouptitle.font",M)),(A.traceIs(d,"bar")&&"stack"===a.barmode||-1!==["tonextx","tonexty"].indexOf(d.fill))&&(m=x.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),void 0!==d.legendgroup&&""!==d.legendgroup&&(m=x.isReversed({traceorder:m})?"reversed+grouped":"grouped"));var n=g.coerce(f,a,l,"showlegend",L&&T>("legend"===r?1:0));if(!1===n&&(a[r]=void 0),(!1!==n||c.uirevision)&&(y("uirevision",a.uirevision),!1!==n)){y("borderwidth");var O,B,z,D="h"===y("orientation"),N="paper"===y("yref"),k="paper"===y("xref"),U="left";if(D?(O=0,A.getComponentMethod("rangeslider","isVisible")(f.xaxis)?N?(B=1.1,z="bottom"):(B=1,z="top"):N?(B=-.1,z="top"):(B=0,z="bottom")):(B=1,z="auto",k?O=1.02:(O=1,U="right")),g.coerce(c,u,{x:{valType:"number",editType:"legend",min:k?-2:0,max:k?3:1,dflt:O}},"x"),g.coerce(c,u,{y:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:B}},"y"),y("traceorder",m),x.isGrouped(a[r])&&y("tracegroupgap"),y("entrywidth"),y("entrywidthmode"),y("itemsizing"),y("itemwidth"),y("itemclick"),y("itemdoubleclick"),y("groupclick"),y("xanchor",U),y("yanchor",z),y("valign"),g.noneOrAll(c,u,["x","y"]),y("title.text")){y("title.side",D?"left":"top");var Q=g.extendFlat({},v,{size:g.bigFont(v.size)});g.coerceFont(y,"title.font",Q)}}}}tt.exports=function(f,a,s){var c,u=["legend"];for(c=0;c<s.length;c++)g.pushUnique(u,s[c].legend);for(a._legends=[],c=0;c<u.length;c++){var y=u[c];e(y,f,a,s),a[y]&&a[y].visible&&(a[y]._id=y),a._legends.push(y)}}},43969:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=t(74875),P=t(73972),E=t(11086),l=t(28569),x=t(91424),e=t(7901),r=t(63893),f=t(85167),a=t(14928),s=t(18783),c=s.LINE_SPACING,u=s.FROM_TL,y=s.FROM_BR,v=t(82424),w=t(53630),d=t(10130),h=/^legend[0-9]*$/;function M(B,z){var rt,it,U=z||{},G=B._fullLayout,Q=O(U),ut=U._inHover;if(ut?(it=U.layer,rt="hover"):(it=G._infolayer,rt=Q),it){var J;if(rt+=G._uid,B._legendMouseDownTime||(B._legendMouseDownTime=0),ut){if(!U.entries)return;J=v(U.entries,U)}else{if(!B.calcdata)return;J=G.showlegend&&v(B.calcdata,U,G._legends.length>1)}var j=G.hiddenlabels||[];if(!(ut||G.showlegend&&J.length))return it.selectAll("."+Q).remove(),G._topdefs.select("#"+rt).remove(),i.autoMargin(B,Q);var Z=g.ensureSingle(it,"g",Q,function(dt){ut||dt.attr("pointer-events","all")}),H=g.ensureSingleById(G._topdefs,"clipPath",rt,function(dt){dt.append("rect")}),X=g.ensureSingle(Z,"rect","bg",function(dt){dt.attr("shape-rendering","crispEdges")});X.call(e.stroke,U.bordercolor).call(e.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px");var at=g.ensureSingle(Z,"g","scrollbox"),_=U.title;if(U._titleWidth=0,U._titleHeight=0,_.text){var K=g.ensureSingle(at,"text",Q+"titletext");K.attr("text-anchor","start").call(x.font,_.font).text(_.text),n(K,at,B,U,1)}else at.selectAll("."+Q+"titletext").remove();var nt=g.ensureSingle(Z,"rect","scrollbar",function(dt){dt.attr(a.scrollBarEnterAttrs).call(e.fill,a.scrollBarColor)}),et=at.selectAll("g.groups").data(J);et.enter().append("g").attr("class","groups"),et.exit().remove();var st=et.selectAll("g.traces").data(g.identity);st.enter().append("g").attr("class","traces"),st.exit().remove(),st.style("opacity",function(dt){var Tt=dt[0].trace;return P.traceIs(Tt,"pie-like")?-1!==j.indexOf(dt[0].label)?.5:1:"legendonly"===Tt.visible?.5:1}).each(function(){A.select(this).call(m,B,U)}).call(w,B,U).each(function(){ut||A.select(this).call(b,B,Q)}),g.syncOrAsync([i.previousPromises,function(){return function F(B,z,U,G){var Q=B._fullLayout,rt=O(G);G||(G=Q[rt]);var it=Q._size,ut=d.isVertical(G),J=d.isGrouped(G),j="fraction"===G.entrywidthmode,Z=G.borderwidth,H=2*Z,X=a.itemGap,at=G.itemwidth+2*X,_=2*(Z+X),K=k(G),nt=G.y<0||0===G.y&&"top"===K,et=G.y>1||1===G.y&&"bottom"===K,st=G.tracegroupgap,dt={};G._maxHeight=Math.max(nt||et?Q.height/2:it.h,30);var Tt=0;G._width=0,G._height=0;var bt=function p(B){var z=0,U=0,G=B.title.side;return G&&(-1!==G.indexOf("left")&&(z=B._titleWidth),-1!==G.indexOf("top")&&(U=B._titleHeight)),[z,U]}(G);if(ut)U.each(function(Zt){var Ct=Zt[0].height;x.setTranslate(this,Z+bt[0],Z+bt[1]+G._height+Ct/2+X),G._height+=Ct,G._width=Math.max(G._width,Zt[0].width)}),Tt=at+G._width,G._width+=X+at+H,G._height+=_,J&&(z.each(function(Zt,Ct){x.setTranslate(this,0,Ct*G.tracegroupgap)}),G._height+=(G._lgroupsLength-1)*G.tracegroupgap);else{var Dt=N(G),wt=et||nt,St=Q.width/2;G._maxWidth=Math.max(G.x<0||0===G.x&&"right"===Dt?wt&&"left"===Dt?it.l+it.w:St:G.x>1||1===G.x&&"left"===Dt?wt&&"right"===Dt?it.r+it.w:St:it.w,2*at);var Ut=0,Gt=0;U.each(function(Zt){var Ct=T(Zt,G,at);Ut=Math.max(Ut,Ct),Gt+=Ct}),Tt=null;var Pt=0;if(J){var Vt=0,te=0,_t=0;z.each(function(){var Zt=0,Ct=0;A.select(this).selectAll("g.traces").each(function(Rt){var Ot=T(Rt,G,at),It=Rt[0].height;x.setTranslate(this,bt[0],bt[1]+Z+X+It/2+Ct),Ct+=It,Zt=Math.max(Zt,Ot),dt[Rt[0].trace.legendgroup]=Zt});var Et=Zt+X;te>0&&Et+Z+te>G._maxWidth?(Pt=Math.max(Pt,te),te=0,_t+=Vt+st,Vt=Ct):Vt=Math.max(Vt,Ct),x.setTranslate(this,te,_t),te+=Et}),G._width=Math.max(Pt,te)+Z,G._height=_t+Vt+_}else{var kt=U.size(),zt=Gt+H+(kt-1)*X<G._maxWidth,qt=0,ae=0,oe=0,pe=0;U.each(function(Zt){var Ct=Zt[0].height,Et=T(Zt,G,at),Rt=zt?Et:Ut;j||(Rt+=X),Rt+Z+ae-X>=G._maxWidth&&(Pt=Math.max(Pt,pe),ae=0,oe+=qt,G._height+=qt,qt=0),x.setTranslate(this,bt[0]+Z+ae,bt[1]+Z+oe+Ct/2+X),pe=ae+Et+X,ae+=Rt,qt=Math.max(qt,Ct)}),zt?(G._width=ae+H,G._height=qt+_):(G._width=Math.max(Pt,pe)+H,G._height+=qt+_)}}G._width=Math.ceil(Math.max(G._width+bt[0],G._titleWidth+2*(Z+a.titlePad))),G._height=Math.ceil(Math.max(G._height+bt[1],G._titleHeight+2*(Z+a.itemGap))),G._effHeight=Math.min(G._height,G._maxHeight);var ye=B._context.edits,Fe=ye.legendText||ye.legendPosition;U.each(function(Zt){var Ct=A.select(this).select("."+rt+"toggle"),Et=Zt[0].height,Rt=Zt[0].trace.legendgroup,Ot=T(Zt,G,at);J&&""!==Rt&&(Ot=dt[Rt]);var It=Fe?at:Tt||Ot;!ut&&!j&&(It+=X/2),x.setRect(Ct,0,-Et/2,It,Et)})}(B,et,st,U)},function(){var Ct,Et,Rt,Ot,dt=G._size,Tt=U.borderwidth,bt="paper"===U.xref,Dt="paper"===U.yref;if(!ut){var Ft,Mt;if(Ft=bt?dt.l+dt.w*U.x-u[N(U)]*U._width:G.width*U.x-u[N(U)]*U._width,Mt=Dt?dt.t+dt.h*(1-U.y)-u[k(U)]*U._effHeight:G.height*(1-U.y)-u[k(U)]*U._effHeight,function D(B,z,U,G){var Q=B._fullLayout,rt=Q[z],it=N(rt),ut=k(rt),J="paper"===rt.xref,j="paper"===rt.yref;B._fullLayout._reservedMargin[z]={};var Z=rt.y<.5?"b":"t",H=rt.x<.5?"l":"r",X={r:Q.width-U,l:U+rt._width,b:Q.height-G,t:G+rt._effHeight};if(J&&j)return i.autoMargin(B,z,{x:rt.x,y:rt.y,l:rt._width*u[it],r:rt._width*y[it],b:rt._effHeight*y[ut],t:rt._effHeight*u[ut]});J?B._fullLayout._reservedMargin[z][Z]=X[Z]:j||"v"===rt.orientation?B._fullLayout._reservedMargin[z][H]=X[H]:B._fullLayout._reservedMargin[z][Z]=X[Z]}(B,Q,Ft,Mt))return;if(G.margin.autoexpand){var St=Ft,Ut=Mt;Ft=bt?g.constrain(Ft,0,G.width-U._width):St,Mt=Dt?g.constrain(Mt,0,G.height-U._effHeight):Ut,Ft!==St&&g.log("Constrain "+Q+".x to make legend fit inside graph"),Mt!==Ut&&g.log("Constrain "+Q+".y to make legend fit inside graph")}x.setTranslate(Z,Ft,Mt)}if(nt.on(".drag",null),Z.on("wheel",null),ut||U._height<=U._maxHeight||B._context.staticPlot){var Gt=U._effHeight;ut&&(Gt=U._height),X.attr({width:U._width-Tt,height:Gt-Tt,x:Tt/2,y:Tt/2}),x.setTranslate(at,0,0),H.select("rect").attr({width:U._width-2*Tt,height:Gt-2*Tt,x:Tt,y:Tt}),x.setClipUrl(at,rt,B),x.setRect(nt,0,0,0,0),delete U._scrollY}else{var Pt=Math.max(a.scrollBarMinHeight,U._effHeight*U._effHeight/U._height),Vt=U._effHeight-Pt-2*a.scrollBarMargin,te=U._height-U._effHeight,_t=Vt/te,kt=Math.min(U._scrollY||0,te);X.attr({width:U._width-2*Tt+a.scrollBarWidth+a.scrollBarMargin,height:U._effHeight-Tt,x:Tt/2,y:Tt/2}),H.select("rect").attr({width:U._width-2*Tt+a.scrollBarWidth+a.scrollBarMargin,height:U._effHeight-2*Tt,x:Tt,y:Tt+kt}),x.setClipUrl(at,rt,B),Zt(kt,Pt,_t),Z.on("wheel",function(){Zt(kt=g.constrain(U._scrollY+A.event.deltaY/Vt*te,0,te),Pt,_t),0!==kt&&kt!==te&&A.event.preventDefault()});var zt,ae,ye=A.behavior.drag().on("dragstart",function(){var It=A.event.sourceEvent;zt="touchstart"===It.type?It.changedTouches[0].clientY:It.clientY,ae=kt}).on("drag",function(){var It=A.event.sourceEvent;2===It.buttons||It.ctrlKey||Zt(kt=function(It,gt,pt){return g.constrain((pt-gt)/_t+It,0,te)}(ae,zt,"touchmove"===It.type?It.changedTouches[0].clientY:It.clientY),Pt,_t)});nt.call(ye);var Fe=A.behavior.drag().on("dragstart",function(){var It=A.event.sourceEvent;"touchstart"===It.type&&(zt=It.changedTouches[0].clientY,ae=kt)}).on("drag",function(){var It=A.event.sourceEvent;"touchmove"===It.type&&Zt(kt=function(It,gt,pt){return g.constrain((gt-pt)/_t+It,0,te)}(ae,zt,It.changedTouches[0].clientY),Pt,_t)});at.call(Fe)}function Zt(It,gt,pt){U._scrollY=B._fullLayout[Q]._scrollY=It,x.setTranslate(at,0,-It),x.setRect(nt,U._width,a.scrollBarMargin+It*pt,a.scrollBarWidth,gt),H.select("rect").attr("y",Tt+It)}B._context.edits.legendPosition&&(Z.classed("cursor-move",!0),l.init({element:Z.node(),gd:B,prepFn:function(){var It=x.getTranslate(Z);Rt=It.x,Ot=It.y},moveFn:function(It,gt){var pt=Rt+It,vt=Ot+gt;x.setTranslate(Z,pt,vt),Ct=l.align(pt,U._width,dt.l,dt.l+dt.w,U.xanchor),Et=l.align(vt+U._height,-U._height,dt.t+dt.h,dt.t,U.yanchor)},doneFn:function(){if(void 0!==Ct&&void 0!==Et){var It={};It[Q+".x"]=Ct,It[Q+".y"]=Et,P.call("_guiRelayout",B,It)}},clickFn:function(It,gt){var pt=it.selectAll("g.traces").filter(function(){var vt=this.getBoundingClientRect();return gt.clientX>=vt.left&&gt.clientX<=vt.right&&gt.clientY>=vt.top&&gt.clientY<=vt.bottom});pt.size()>0&&L(B,Z,pt,It,gt)}}))}],B)}}function T(B,z,U){var G=B[0],it=G.trace.legendwidth||z.entrywidth;return"fraction"===z.entrywidthmode?z._maxWidth*it:U+(it||G.width)}function L(B,z,U,G,Q){var rt=U.data()[0][0].trace,it={event:Q,node:U.node(),curveNumber:rt.index,expandedIndex:rt._expandedIndex,data:B.data,layout:B.layout,frames:B._transitionData._frames,config:B._context,fullData:B._fullData,fullLayout:B._fullLayout};rt._group&&(it.group=rt._group),P.traceIs(rt,"pie-like")&&(it.label=U.datum()[0].label),!1!==E.triggerHandler(B,"plotly_legendclick",it)&&(1===G?z._clickTimeout=setTimeout(function(){!B._fullLayout||f(U,B,G)},B._context.doubleClickDelay):2===G&&(z._clickTimeout&&clearTimeout(z._clickTimeout),B._legendMouseDownTime=0,!1!==E.triggerHandler(B,"plotly_legenddoubleclick",it)&&f(U,B,G)))}function m(B,z,U){var j,Z,G=O(U),Q=B.data()[0][0],rt=Q.trace,it=P.traceIs(rt,"pie-like"),ut=!U._inHover&&z._context.edits.legendText&&!it,J=U._maxNameLength;Q.groupTitle?(j=Q.groupTitle.text,Z=Q.groupTitle.font):(Z=U.font,U.entries?j=Q.text:(j=it?Q.label:rt.name,rt._meta&&(j=g.templateString(j,rt._meta))));var H=g.ensureSingle(B,"text",G+"text");H.attr("text-anchor","start").call(x.font,Z).text(ut?S(j,J):j),r.positionText(H,U.itemwidth+2*a.itemGap,0),ut?H.call(r.makeEditable,{gd:z,text:j}).call(n,B,z,U).on("edit",function(at){this.text(S(at,J)).call(n,B,z,U);var _=Q.trace._fullInput||{},K={};if(P.hasTransform(_,"groupby")){var nt=P.getTransformIndices(_,"groupby"),st=g.keyedContainer(_,"transforms["+nt[nt.length-1]+"].styles","target","value.name");st.set(Q.trace._group,at),K=st.constructUpdate()}else K.name=at;return P.call("_guiRestyle",z,K,rt.index)}):n(H,B,z,U)}function S(B,z){var U=Math.max(4,z);if(B&&B.trim().length>=U/2)return B;for(var G=U-(B=B||"").length;G>0;G--)B+=" ";return B}function b(B,z,U){var Q,G=z._context.doubleClickDelay,rt=1,it=g.ensureSingle(B,"rect",U+"toggle",function(ut){z._context.staticPlot||ut.style("cursor","pointer").attr("pointer-events","all"),ut.call(e.fill,"rgba(0,0,0,0)")});z._context.staticPlot||(it.on("mousedown",function(){(Q=(new Date).getTime())-z._legendMouseDownTime<G?rt+=1:(rt=1,z._legendMouseDownTime=Q)}),it.on("mouseup",function(){if(!z._dragged&&!z._editing){var ut=z._fullLayout[U];(new Date).getTime()-z._legendMouseDownTime>G&&(rt=Math.max(rt-1,1)),L(z,ut,B,rt,A.event)}}))}function n(B,z,U,G,Q){G._inHover&&B.attr("data-notex",!0),r.convertToTspans(B,U,function(){!function C(B,z,U,G){var Q=B.data()[0][0];if(U._inHover||!Q||Q.trace.showlegend){var rt=B.select("g[class*=math-group]"),it=rt.node(),ut=O(U);U||(U=z._fullLayout[ut]);var H,X,J=U.borderwidth,Z=(1===G?U.title.font:Q.groupTitle?Q.groupTitle.font:U.font).size*c;if(it){var at=x.bBox(it);H=at.height,X=at.width,1===G?x.setTranslate(rt,J,J+.75*H):x.setTranslate(rt,0,.25*H)}else{var K=B.select("."+ut+(1===G?"title":"")+"text"),nt=r.lineCount(K),et=K.node();if(H=Z*nt,X=et?x.bBox(et).width:0,1===G)"left"===U.title.side&&(X+=2*a.itemGap),r.positionText(K,J+a.titlePad,J+Z);else{var st=2*a.itemGap+U.itemwidth;Q.groupTitle&&(st=a.itemGap,X-=U.itemwidth),r.positionText(K,st,-Z*((nt-1)/2-.3))}}1===G?(U._titleWidth=X,U._titleHeight=H):(Q.lineHeight=Z,Q.height=Math.max(H,16)+3,Q.width=X)}else B.remove()}(z,U,G,Q)})}function N(B){return g.isRightAnchor(B)?"right":g.isCenterAnchor(B)?"center":"left"}function k(B){return g.isBottomAnchor(B)?"bottom":g.isMiddleAnchor(B)?"middle":"top"}function O(B){return B._id||"legend"}tt.exports=function(z,U){if(U)M(z,U);else{var G=z._fullLayout,Q=G._legends;G._infolayer.selectAll('[class^="legend"]').each(function(){var j=A.select(this),H=j.attr("class").split(" ")[0];H.match(h)&&-1===Q.indexOf(H)&&j.remove()});for(var it=0;it<Q.length;it++)M(z,z._fullLayout[Q[it]])}}},82424:function(tt,W,t){"use strict";var A=t(73972),g=t(10130);tt.exports=function(P,E,l){var v,w,x=E._inHover,e=g.isGrouped(E),r=g.isReversed(E),f={},a=[],s=!1,c={},u=0,y=0;function d(z,U,G){if(!1!==E.visible&&(!l||z===E._id))if(""!==U&&g.isGrouped(E))-1===a.indexOf(U)?(a.push(U),s=!0,f[U]=[G]):f[U].push(G);else{var Q="~~i"+u;a.push(Q),f[Q]=[G],u++}}for(v=0;v<P.length;v++){var o=P[v],h=o[0],M=h.trace,T=M.legend,L=M.legendgroup;if(x||M.visible&&M.showlegend)if(A.traceIs(M,"pie-like"))for(c[L]||(c[L]={}),w=0;w<o.length;w++){var m=o[w].label;c[L][m]||(d(T,L,{label:m,color:o[w].color,i:o[w].i,trace:M,pts:o[w].pts}),c[L][m]=!0,y=Math.max(y,(m||"").length))}else d(T,L,h),y=Math.max(y,(M.name||"").length)}if(!a.length)return[];var S=!s||!e,b=[];for(v=0;v<a.length;v++){var n=f[a[v]];b.push(S?n[0]:n)}for(S&&(b=[b]),v=0;v<b.length;v++){var C=1/0;for(w=0;w<b[v].length;w++){var p=b[v][w].trace.legendrank;C>p&&(C=p)}b[v][0]._groupMinRank=C,b[v][0]._preGroupSort=v}var D=function(z,U){return z.trace.legendrank-U.trace.legendrank||z._preSort-U._preSort};for(b.forEach(function(z,U){z[0]._preGroupSort=U}),b.sort(function(z,U){return z[0]._groupMinRank-U[0]._groupMinRank||z[0]._preGroupSort-U[0]._preGroupSort}),v=0;v<b.length;v++){b[v].forEach(function(z,U){z._preSort=U}),b[v].sort(D);var N=b[v][0].trace,k=null;for(w=0;w<b[v].length;w++){var O=b[v][w].trace.legendgrouptitle;if(O&&O.text){k=O,x&&(O.font=E._groupTitleFont);break}}if(r&&b[v].reverse(),k){var B=!1;for(w=0;w<b[v].length;w++)if(A.traceIs(b[v][w].trace,"pie-like")){B=!0;break}b[v].unshift({i:-1,groupTitle:k,noClick:B,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:"toggleitem"===E.groupclick||N.visible}})}for(w=0;w<b[v].length;w++)b[v][w]=[b[v][w]]}return E._lgroupsLength=b.length,E._maxNameLength=y,b}},85167:function(tt,W,t){"use strict";var A=t(73972),g=t(71828),i=g.pushUnique,P=!0;tt.exports=function(l,x,e){var r=x._fullLayout;if(!x._dragged&&!x._editing){var c,f=r.legend.itemclick,a=r.legend.itemdoubleclick,s=r.legend.groupclick;if(1===e&&"toggle"===f&&"toggleothers"===a&&P&&x.data&&x._context.showTips&&g.notifier(g._(x,"Double-click on legend to isolate one trace"),"long"),P=!1,1===e?c=f:2===e&&(c=a),c){var u="togglegroup"===s,y=r.hiddenlabels?r.hiddenlabels.slice():[],v=l.data()[0][0];if(!v.groupTitle||!v.noClick){var h,M,T,L,m,w=x._fullData,d=v.trace,o=d.legendgroup,b={},n=[],C=[],p=[],N=d.legend;if(A.traceIs(d,"pie-like")){var k=v.label,O=y.indexOf(k);if("toggle"===c)-1===O?y.push(k):y.splice(O,1);else if("toggleothers"===c){var B=-1!==O,z=[];for(h=0;h<x.calcdata.length;h++){var U=x.calcdata[h];for(M=0;M<U.length;M++){var Q=U[M].label;N===U[0].trace.legend&&k!==Q&&(-1===y.indexOf(Q)&&(B=!0),i(y,Q),z.push(Q))}}if(!B)for(var rt=0;rt<z.length;rt++){var it=y.indexOf(z[rt]);-1!==it&&y.splice(it,1)}}A.call("_guiRelayout",x,"hiddenlabels",y)}else{var j,ut=o&&o.length,J=[];if(ut)for(h=0;h<w.length;h++)(j=w[h]).visible&&j.legendgroup===o&&J.push(h);if("toggle"===c){var Z;switch(d.visible){case!0:Z="legendonly";break;case!1:Z=!1;break;case"legendonly":Z=!0}if(ut)if(u)for(h=0;h<w.length;h++)!1!==w[h].visible&&w[h].legendgroup===o&&D(w[h],Z);else D(d,Z);else D(d,Z)}else if("toggleothers"===c){var X,at,K=!0;for(h=0;h<w.length;h++)if(at=!0!==w[h].showlegend,!(w[h]===d||at||(X=ut&&w[h].legendgroup===o,X||!0!==w[h].visible||A.traceIs(w[h],"notLegendIsolatable")))){K=!1;break}for(h=0;h<w.length;h++)if(!1!==w[h].visible&&w[h].legend===N&&!A.traceIs(w[h],"notLegendIsolatable"))switch(d.visible){case"legendonly":D(w[h],!0);break;case!0:at=!0!==w[h].showlegend&&!w[h].legendgroup,D(w[h],!(!(X=w[h]===d||ut&&w[h].legendgroup===o)&&!at)||!!K||"legendonly")}}for(h=0;h<C.length;h++)if(T=C[h]){var nt=T.constructUpdate(),et=Object.keys(nt);for(M=0;M<et.length;M++)(b[L=et[M]]=b[L]||[])[p[h]]=nt[L]}for(m=Object.keys(b),h=0;h<m.length;h++)for(L=m[h],M=0;M<n.length;M++)b[L].hasOwnProperty(M)||(b[L][M]=void 0);A.call("_guiRestyle",x,b,n)}}}}function F(st,dt,Tt){var bt=n.indexOf(st),Dt=b[dt];return Dt||(Dt=b[dt]=[]),-1===n.indexOf(st)&&(n.push(st),bt=n.length-1),Dt[bt]=Tt,bt}function D(st,dt){if(!v.groupTitle||u){var Tt=st._fullInput;if(A.hasTransform(Tt,"groupby")){var bt=C[Tt.index];if(!bt){var Dt=A.getTransformIndices(Tt,"groupby");bt=g.keyedContainer(Tt,"transforms["+Dt[Dt.length-1]+"].styles","target","value.visible"),C[Tt.index]=bt}var Mt=bt.get(st._group);void 0===Mt&&(Mt=!0),!1!==Mt&&bt.set(st._group,dt),p[Tt.index]=F(Tt.index,"visible",!1!==Tt.visible)}else F(Tt.index,"visible",!1!==Tt.visible&&dt)}}}},10130:function(tt,W){"use strict";W.isGrouped=function(A){return-1!==(A.traceorder||"").indexOf("grouped")},W.isVertical=function(A){return"h"!==A.orientation},W.isReversed=function(A){return-1!==(A.traceorder||"").indexOf("reversed")}},2199:function(tt,W,t){"use strict";tt.exports={moduleType:"component",name:"legend",layoutAttributes:t(33030),supplyLayoutDefaults:t(99017),draw:t(43969),style:t(53630)}},53630:function(tt,W,t){"use strict";var A=t(39898),g=t(73972),i=t(71828),P=i.strTranslate,E=t(91424),l=t(7901),x=t(52075).extractOpts,e=t(34098),r=t(63463),f=t(53581).castOption,a=t(14928);function w(h,M){return(M?"radial":"horizontal")+(h?"":"reversed")}function d(h){var M=h[0].trace,T=M.contours,L=e.hasLines(M),m=e.hasMarkers(M),S=M.visible&&M.fill&&"none"!==M.fill,b=!1,n=!1;if(T){var C=T.coloring;"lines"===C?b=!0:L="none"===C||"heatmap"===C||T.showlines,"constraint"===T.type?S="="!==T._operation:("fill"===C||"heatmap"===C)&&(n=!0)}return{showMarker:m,showLine:L,showFill:S,showGradientLine:b,showGradientFill:n,anyLine:L||b,anyFill:S||n}}function o(h,M,T){return h&&i.isArrayOrTypedArray(h)?M:h>T?T:h}tt.exports=function(M,T,L){L||(L=T._fullLayout.legend);var S="constant"===L.itemsizing,b=L.itemwidth,C=P((b+2*a.itemGap)/2,0),p=function(J,j,Z,H){var X;if(J+1)X=J;else{if(!(j&&j.width>0))return 0;X=j.width}return S?H:Math.min(X,Z)};function B(J,j,Z){var H=J[0].trace,X=H.marker||{},at=X.line||{},_=Z?H.visible&&H.type===Z:g.traceIs(H,"bar"),K=A.select(j).select("g.legendpoints").selectAll("path.legend"+Z).data(_?[J]:[]);K.enter().append("path").classed("legend"+Z,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),K.exit().remove(),K.each(function(nt){var et=A.select(this),st=nt[0],dt=p(st.mlw,X.line,5,2);et.style("stroke-width",dt+"px");var Tt=st.mcc;if(!L._inHover&&"mc"in st){var bt=x(X),Dt=bt.mid;void 0===Dt&&(Dt=(bt.max+bt.min)/2),Tt=E.tryColorscale(X,"")(Dt)}var Ft=Tt||st.mc||X.color,Mt=X.pattern,wt=Mt&&E.getPatternAttr(Mt.shape,0,"");if(wt){var St=E.getPatternAttr(Mt.bgcolor,0,null),Ut=E.getPatternAttr(Mt.fgcolor,0,null),Gt=Mt.fgopacity,Pt=o(Mt.size,8,10),Vt=o(Mt.solidity,.5,1);et.call(E.pattern,"legend",T,"legend-"+H.uid,wt,Pt,Vt,Tt,Mt.fillmode,St,Ut,Gt)}else et.call(l.fill,Ft);dt&&l.stroke(et,st.mlc||at.color)})}function it(J,j,Z){var H=J[0],X=H.trace,at=Z?X.visible&&X.type===Z:g.traceIs(X,Z),_=A.select(j).select("g.legendpoints").selectAll("path.legend"+Z).data(at?[J]:[]);if(_.enter().append("path").classed("legend"+Z,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),_.exit().remove(),_.size()){var K=X.marker||{},nt=p(f(K.line.width,H.pts),K.line,5,2),et="pieLike",st=i.minExtend(X,{marker:{line:{width:nt}}},et),dt=i.minExtend(H,{trace:st},et);r(_,dt,st,T)}}M.each(function(J){var j=A.select(this),Z=i.ensureSingle(j,"g","layers");Z.style("opacity",J[0].trace.opacity);var H=L.valign,X=J[0].lineHeight,at=J[0].height;Z.attr("transform","middle"!==H&&X&&at?P(0,{top:1,bottom:-1}[H]*(.5*(X-at+3))):null),Z.selectAll("g.legendfill").data([J]).enter().append("g").classed("legendfill",!0),Z.selectAll("g.legendlines").data([J]).enter().append("g").classed("legendlines",!0);var st=Z.selectAll("g.legendsymbols").data([J]);st.enter().append("g").classed("legendsymbols",!0),st.selectAll("g.legendpoints").data([J]).enter().append("g").classed("legendpoints",!0)}).each(function ut(J){var Z,j=J[0].trace,H=[];if(j.visible)switch(j.type){case"histogram2d":case"heatmap":H=[["M-15,-2V4H15V-2Z"]],Z=!0;break;case"choropleth":case"choroplethmapbox":H=[["M-6,-6V6H6V-6Z"]],Z=!0;break;case"densitymapbox":H=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],Z="radial";break;case"cone":H=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],Z=!1;break;case"streamtube":H=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],Z=!1;break;case"surface":H=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],Z=!0;break;case"mesh3d":H=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Z=!1;break;case"volume":H=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Z=!0;break;case"isosurface":H=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],Z=!1}var X=A.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(H);X.enter().append("path").classed("legend3dandfriends",!0).attr("transform",C).style("stroke-miterlimit",1),X.exit().remove(),X.each(function(at,_){var Tt,K=A.select(this),nt=x(j),et=nt.colorscale,st=nt.reversescale;if(et){if(!Z){var Dt=et.length;Tt=0===_?et[st?Dt-1:0][1]:1===_?et[st?0:Dt-1][1]:et[Math.floor((Dt-1)/2)][1]}}else{var bt=j.vertexcolor||j.facecolor||j.color;Tt=i.isArrayOrTypedArray(bt)?bt[_]||bt[0]:bt}K.attr("d",at[0]),Tt?K.call(l.fill,Tt):K.call(function(Ft){Ft.size()&&E.gradient(Ft,T,"legendfill-"+j.uid,w(st,"radial"===Z),et,"fill")})})}).each(function N(J){var j=J[0].trace,Z="waterfall"===j.type;if(J[0]._distinct&&Z){var H=J[0].trace[J[0].dir].marker;return J[0].mc=H.color,J[0].mlw=H.line.width,J[0].mlc=H.line.color,B(J,this,"waterfall")}var X=[];j.visible&&Z&&(X=J[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var at=A.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(X);at.enter().append("path").classed("legendwaterfall",!0).attr("transform",C).style("stroke-miterlimit",1),at.exit().remove(),at.each(function(_){var K=A.select(this),nt=j[_[0]].marker,et=p(void 0,nt.line,5,2);K.attr("d",_[1]).style("stroke-width",et+"px").call(l.fill,nt.color),et&&K.call(l.stroke,nt.line.color)})}).each(function O(J){B(J,this,"funnel")}).each(function k(J){B(J,this)}).each(function z(J){var j=J[0].trace,Z=A.select(this).select("g.legendpoints").selectAll("path.legendbox").data(j.visible&&g.traceIs(j,"box-violin")?[J]:[]);Z.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),Z.exit().remove(),Z.each(function(){var H=A.select(this);if("all"!==j.boxpoints&&"all"!==j.points||0!==l.opacity(j.fillcolor)||0!==l.opacity((j.line||{}).color)){var at=p(void 0,j.line,5,2);H.style("stroke-width",at+"px").call(l.fill,j.fillcolor),at&&l.stroke(H,j.line.color)}else{var X=i.minExtend(j,{marker:{size:S?12:i.constrain(j.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});Z.call(E.pointStyle,X,T)}})}).each(function rt(J){it(J,this,"funnelarea")}).each(function Q(J){it(J,this,"pie")}).each(function F(J){var st,dt,j=d(J),Z=j.showFill,H=j.showLine,X=j.showGradientLine,at=j.showGradientFill,_=j.anyFill,K=j.anyLine,nt=J[0],et=nt.trace,Tt=x(et),bt=Tt.colorscale,Dt=Tt.reversescale,wt=e.hasMarkers(et)||!_?"M5,0":K?"M5,-2":"M5,-3",St=A.select(this),Ut=St.select(".legendfill").selectAll("path").data(Z||at?[J]:[]);if(Ut.enter().append("path").classed("js-fill",!0),Ut.exit().remove(),Ut.attr("d",wt+"h"+b+"v6h-"+b+"z").call(function(Vt){Vt.size()&&(Z?E.fillGroupStyle(Vt,T):E.gradient(Vt,T,"legendfill-"+et.uid,w(Dt),bt,"fill"))}),H||X){var Gt=p(void 0,et.line,10,5);dt=i.minExtend(et,{line:{width:Gt}}),st=[i.minExtend(nt,{trace:dt})]}var Pt=St.select(".legendlines").selectAll("path").data(H||X?[st]:[]);Pt.enter().append("path").classed("js-line",!0),Pt.exit().remove(),Pt.attr("d",wt+(X?"l"+b+",0.0001":"h"+b)).call(H?E.lineGroupStyle:function(Vt){if(Vt.size()){var te="legendline-"+et.uid;E.lineGroupStyle(Vt),E.gradient(Vt,T,te,w(Dt),bt,"stroke")}})}).each(function D(J){var et,st,j=d(J),X=j.showLine,at=j.showMarker,_=J[0],K=_.trace,nt=!at&&!j.anyLine&&!j.anyFill&&e.hasText(K);function dt(Ut,Gt,Pt,Vt){var te=i.nestedProperty(K,Ut).get(),_t=i.isArrayOrTypedArray(te)&&Gt?Gt(te):te;if(S&&_t&&void 0!==Vt&&(_t=Vt),Pt){if(_t<Pt[0])return Pt[0];if(_t>Pt[1])return Pt[1]}return _t}function Tt(Ut){return _._distinct&&_.index&&Ut[_.index]?Ut[_.index]:Ut[0]}if(at||nt||X){var bt={},Dt={};if(at){bt.mc=dt("marker.color",Tt),bt.mx=dt("marker.symbol",Tt),bt.mo=dt("marker.opacity",i.mean,[.2,1]),bt.mlc=dt("marker.line.color",Tt),bt.mlw=dt("marker.line.width",i.mean,[0,5],2),Dt.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Ft=dt("marker.size",i.mean,[2,16],12);bt.ms=Ft,Dt.marker.size=Ft}X&&(Dt.line={width:dt("line.width",Tt,[0,10],5)}),nt&&(bt.tx="Aa",bt.tp=dt("textposition",Tt),bt.ts=10,bt.tc=dt("textfont.color",Tt),bt.tf=dt("textfont.family",Tt)),et=[i.minExtend(_,bt)],(st=i.minExtend(K,Dt)).selectedpoints=null,st.texttemplate=null}var Mt=A.select(this).select("g.legendpoints"),wt=Mt.selectAll("path.scatterpts").data(at?et:[]);wt.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",C),wt.exit().remove(),wt.call(E.pointStyle,st,T),at&&(et[0].mrc=3);var St=Mt.selectAll("g.pointtext").data(nt?et:[]);St.enter().append("g").classed("pointtext",!0).append("text").attr("transform",C),St.exit().remove(),St.selectAll("text").call(E.textPointStyle,st,T)}).each(function U(J){var j=J[0].trace,Z=A.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(j.visible&&"candlestick"===j.type?[J,J]:[]);Z.enter().append("path").classed("legendcandle",!0).attr("d",function(H,X){return X?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",C).style("stroke-miterlimit",1),Z.exit().remove(),Z.each(function(H,X){var at=A.select(this),_=j[X?"increasing":"decreasing"],K=p(void 0,_.line,5,2);at.style("stroke-width",K+"px").call(l.fill,_.fillcolor),K&&l.stroke(at,_.line.color)})}).each(function G(J){var j=J[0].trace,Z=A.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(j.visible&&"ohlc"===j.type?[J,J]:[]);Z.enter().append("path").classed("legendohlc",!0).attr("d",function(H,X){return X?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",C).style("stroke-miterlimit",1),Z.exit().remove(),Z.each(function(H,X){var at=A.select(this),_=j[X?"increasing":"decreasing"],K=p(void 0,_.line,5,2);at.style("fill","none").call(E.dashLine,_.line.dash,K),K&&l.stroke(at,_.line.color)})})}},42068:function(tt,W,t){"use strict";t(93348),tt.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(tt,W,t){"use strict";var A=t(73972),g=t(74875),i=t(41675),P=t(24255),E=t(34031).eraseActiveShape,l=t(71828),x=l._,e=tt.exports={};function r(h,M){var p,F,T=M.currentTarget,L=T.getAttribute("data-attr"),m=T.getAttribute("data-val")||!0,S=h._fullLayout,b={},n=i.list(h,null,!0),C=S._cartesianSpikesEnabled;if("zoom"===L){var O,D="in"===m?.5:2,N=(1+D)/2,k=(1-D)/2;for(F=0;F<n.length;F++)if(!(p=n[F]).fixedrange)if(O=p._name,"auto"===m)b[O+".autorange"]=!0;else if("reset"===m){if(void 0===p._rangeInitial)b[O+".autorange"]=!0;else{var B=p._rangeInitial.slice();b[O+".range[0]"]=B[0],b[O+".range[1]"]=B[1]}void 0!==p._showSpikeInitial&&(b[O+".showspikes"]=p._showSpikeInitial,"on"===C&&!p._showSpikeInitial&&(C="off"))}else{var z=[p.r2l(p.range[0]),p.r2l(p.range[1])],U=[N*z[0]+k*z[1],N*z[1]+k*z[0]];b[O+".range[0]"]=p.l2r(U[0]),b[O+".range[1]"]=p.l2r(U[1])}}else"hovermode"===L&&("x"===m||"y"===m)&&T.setAttribute("data-val",m=S._isHoriz?"y":"x"),b[L]=m;S._cartesianSpikesEnabled=C,A.call("_guiRelayout",h,b)}function f(h,M){for(var T=M.currentTarget,L=T.getAttribute("data-attr"),m=T.getAttribute("data-val")||!0,S=h._fullLayout._subplots.gl3d||[],b={},n=L.split("."),C=0;C<S.length;C++)b[S[C]+"."+n[1]]=m;b.dragmode="pan"===m?m:"zoom",A.call("_guiRelayout",h,b)}function a(h,M){for(var L=M.currentTarget.getAttribute("data-attr"),m="resetLastSave"===L,S="resetDefault"===L,b=h._fullLayout,n=b._subplots.gl3d||[],C={},p=0;p<n.length;p++){var B,F=n[p],D=F+".camera",N=F+".aspectratio",k=F+".aspectmode",O=b[F]._scene;m?(C[D+".up"]=O.viewInitial.up,C[D+".eye"]=O.viewInitial.eye,C[D+".center"]=O.viewInitial.center,B=!0):S&&(C[D+".up"]=null,C[D+".eye"]=null,C[D+".center"]=null,B=!0),B&&(C[N+".x"]=O.viewInitial.aspectratio.x,C[N+".y"]=O.viewInitial.aspectratio.y,C[N+".z"]=O.viewInitial.aspectratio.z,C[k]=O.viewInitial.aspectmode)}A.call("_guiRelayout",h,C)}function s(h,M){var T=M.currentTarget,L=T._previousVal,m=h._fullLayout,S=m._subplots.gl3d||[],b=["xaxis","yaxis","zaxis"],n={},C={};if(L)C=L,T._previousVal=null;else{for(var p=0;p<S.length;p++){var F=S[p],D=m[F],N=F+".hovermode";n[N]=D.hovermode,C[N]=!1;for(var k=0;k<3;k++){var O=b[k],B=F+"."+O+".showspikes";C[B]=!1,n[B]=D[O].showspikes}}T._previousVal=n}return C}function u(h,M){for(var T=M.currentTarget,L=T.getAttribute("data-attr"),m=T.getAttribute("data-val")||!0,S=h._fullLayout,b=S._subplots.geo||[],n=0;n<b.length;n++){var C=b[n];if("zoom"===L){var F=S[C].projection.scale;A.call("_guiRelayout",h,C+".projection.scale","in"===m?2*F:.5*F)}}"reset"===L&&o(h,"geo")}function y(h){var M=h._fullLayout;return!M.hovermode&&(M._has("cartesian")?M._isHoriz?"y":"x":"closest")}function v(h){var M=y(h);A.call("_guiRelayout",h,"hovermode",M)}function d(h,M){for(var L=M.currentTarget.getAttribute("data-val"),m=h._fullLayout,S=m._subplots.mapbox||[],n={},C=0;C<S.length;C++){var p=S[C],F=m[p].zoom;n[p+".zoom"]="in"===L?1.05*F:F/1.05}A.call("_guiRelayout",h,n)}function o(h,M){for(var T=h._fullLayout,L=T._subplots[M]||[],m={},S=0;S<L.length;S++)for(var b=L[S],C=T[b]._subplot.viewInitial,p=Object.keys(C),F=0;F<p.length;F++){var D=p[F];m[b+"."+D]=C[D]}A.call("_guiRelayout",h,m)}e.toImage={name:"toImage",title:function(h){return x(h,"png"===((h._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:P.camera,click:function(h){var M=h._context.toImageButtonOptions,T={format:M.format||"png"};l.notifier(x(h,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==T.format&&l.isIE()&&(l.notifier(x(h,"IE only supports svg.  Changing format to svg."),"long"),T.format="svg"),["filename","width","height","scale"].forEach(function(L){L in M&&(T[L]=M[L])}),A.call("downloadImage",h,T).then(function(L){l.notifier(x(h,"Snapshot succeeded")+" - "+L,"long")}).catch(function(){l.notifier(x(h,"Sorry, there was a problem downloading your snapshot!"),"long")})}},e.sendDataToCloud={name:"sendDataToCloud",title:function(h){return x(h,"Edit in Chart Studio")},icon:P.disk,click:function(h){g.sendDataToCloud(h)}},e.editInChartStudio={name:"editInChartStudio",title:function(h){return x(h,"Edit in Chart Studio")},icon:P.pencil,click:function(h){g.sendDataToCloud(h)}},e.zoom2d={name:"zoom2d",_cat:"zoom",title:function(h){return x(h,"Zoom")},attr:"dragmode",val:"zoom",icon:P.zoombox,click:r},e.pan2d={name:"pan2d",_cat:"pan",title:function(h){return x(h,"Pan")},attr:"dragmode",val:"pan",icon:P.pan,click:r},e.select2d={name:"select2d",_cat:"select",title:function(h){return x(h,"Box Select")},attr:"dragmode",val:"select",icon:P.selectbox,click:r},e.lasso2d={name:"lasso2d",_cat:"lasso",title:function(h){return x(h,"Lasso Select")},attr:"dragmode",val:"lasso",icon:P.lasso,click:r},e.drawclosedpath={name:"drawclosedpath",title:function(h){return x(h,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:P.drawclosedpath,click:r},e.drawopenpath={name:"drawopenpath",title:function(h){return x(h,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:P.drawopenpath,click:r},e.drawline={name:"drawline",title:function(h){return x(h,"Draw line")},attr:"dragmode",val:"drawline",icon:P.drawline,click:r},e.drawrect={name:"drawrect",title:function(h){return x(h,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:P.drawrect,click:r},e.drawcircle={name:"drawcircle",title:function(h){return x(h,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:P.drawcircle,click:r},e.eraseshape={name:"eraseshape",title:function(h){return x(h,"Erase active shape")},icon:P.eraseshape,click:E},e.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(h){return x(h,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:r},e.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(h){return x(h,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:r},e.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(h){return x(h,"Autoscale")},attr:"zoom",val:"auto",icon:P.autoscale,click:r},e.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(h){return x(h,"Reset axes")},attr:"zoom",val:"reset",icon:P.home,click:r},e.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(h){return x(h,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:P.tooltip_basic,gravity:"ne",click:r},e.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(h){return x(h,"Compare data on hover")},attr:"hovermode",val:function(h){return h._fullLayout._isHoriz?"y":"x"},icon:P.tooltip_compare,gravity:"ne",click:r},e.zoom3d={name:"zoom3d",_cat:"zoom",title:function(h){return x(h,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:P.zoombox,click:f},e.pan3d={name:"pan3d",_cat:"pan",title:function(h){return x(h,"Pan")},attr:"scene.dragmode",val:"pan",icon:P.pan,click:f},e.orbitRotation={name:"orbitRotation",title:function(h){return x(h,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:P["3d_rotate"],click:f},e.tableRotation={name:"tableRotation",title:function(h){return x(h,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:P["z-axis"],click:f},e.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(h){return x(h,"Reset camera to default")},attr:"resetDefault",icon:P.home,click:a},e.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(h){return x(h,"Reset camera to last save")},attr:"resetLastSave",icon:P.movie,click:a},e.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(h){return x(h,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:function c(h,M){var T=s(h,M);A.call("_guiRelayout",h,T)}},e.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(h){return x(h,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:u},e.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(h){return x(h,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:u},e.resetGeo={name:"resetGeo",_cat:"reset",title:function(h){return x(h,"Reset")},attr:"reset",val:null,icon:P.autoscale,click:u},e.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(h){return x(h,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:v},e.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(h){return x(h,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:v},e.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(h){return x(h,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:P.tooltip_basic,gravity:"ne",click:v},e.resetViewSankey={name:"resetSankeyGroup",title:function(h){return x(h,"Reset view")},icon:P.home,click:function(h){for(var M={"node.groups":[],"node.x":[],"node.y":[]},T=0;T<h._fullData.length;T++){var L=h._fullData[T]._viewInitial;M["node.groups"].push(L.node.groups.slice()),M["node.x"].push(L.node.x.slice()),M["node.y"].push(L.node.y.slice())}A.call("restyle",h,M)}},e.toggleHover={name:"toggleHover",title:function(h){return x(h,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:function(h,M){var T=s(h,M);T.hovermode=y(h),A.call("_guiRelayout",h,T)}},e.resetViews={name:"resetViews",title:function(h){return x(h,"Reset views")},icon:P.home,click:function(h,M){var T=M.currentTarget;T.setAttribute("data-attr","zoom"),T.setAttribute("data-val","reset"),r(h,M),T.setAttribute("data-attr","resetLastSave"),a(h,M),o(h,"geo"),o(h,"mapbox")}},e.toggleSpikelines={name:"toggleSpikelines",title:function(h){return x(h,"Toggle Spike Lines")},icon:P.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(h){var M=h._fullLayout;M._cartesianSpikesEnabled="on"===M._cartesianSpikesEnabled?"off":"on",A.call("_guiRelayout",h,function w(h){for(var T="on"===h._fullLayout._cartesianSpikesEnabled,L=i.list(h,null,!0),m={},S=0;S<L.length;S++){var b=L[S];m[b._name+".showspikes"]=!!T||b._showSpikeInitial}return m}(h))}},e.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(h){return x(h,"Reset view")},attr:"reset",icon:P.home,click:function(h){o(h,"mapbox")}},e.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(h){return x(h,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:d},e.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(h){return x(h,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:d}},93348:function(tt,W,t){"use strict";var A=t(26023),g=Object.keys(A),i=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],P=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(i),E=[];g.forEach(function(x){!function(x){if(-1===P.indexOf(x._cat||x.name)){var e=x.name,r=(x._cat||x.name).toLowerCase();-1===E.indexOf(e)&&E.push(e),-1===E.indexOf(r)&&E.push(r)}}(A[x])}),E.sort(),tt.exports={DRAW_MODES:i,backButtons:P,foreButtons:E}},35750:function(tt,W,t){"use strict";var A=t(71828),g=t(7901),i=t(44467),P=t(42068);tt.exports=function(l,x){var e=l.modebar||{},r=i.newContainer(x,"modebar");function f(s,c){return A.coerce(e,r,P,s,c)}f("orientation"),f("bgcolor",g.addOpacity(x.paper_bgcolor,.5));var a=g.contrast(g.rgb(x.modebar.bgcolor));f("color",g.addOpacity(a,.3)),f("activecolor",g.addOpacity(a,.7)),f("uirevision",x.uirevision),f("add"),f("remove")}},64168:function(tt,W,t){"use strict";tt.exports={moduleType:"component",name:"modebar",layoutAttributes:t(42068),supplyLayoutDefaults:t(35750),manage:t(14192)}},14192:function(tt,W,t){"use strict";var A=t(41675),g=t(34098),i=t(73972),P=t(23469).isUnifiedHover,E=t(37676),l=t(26023),x=t(93348).DRAW_MODES,e=t(71828).extendDeep;function r(y){var v=y._fullLayout,w=y._fullData,d=y._context;function o(_,K){if("string"==typeof K){if(K.toLowerCase()===_.toLowerCase())return!0}else if(K.name===_||(K._cat||K.name)===_.toLowerCase())return!0;return!1}var h=v.modebar.add;"string"==typeof h&&(h=[h]);var M=v.modebar.remove;"string"==typeof M&&(M=[M]);var T=d.modeBarButtonsToAdd.concat(h.filter(function(_){for(var K=0;K<d.modeBarButtonsToRemove.length;K++)if(o(_,d.modeBarButtonsToRemove[K]))return!1;return!0})),L=d.modeBarButtonsToRemove.concat(M.filter(function(_){for(var K=0;K<d.modeBarButtonsToAdd.length;K++)if(o(_,d.modeBarButtonsToAdd[K]))return!1;return!0})),m=v._has("cartesian"),S=v._has("gl3d"),b=v._has("geo"),n=v._has("pie"),C=v._has("funnelarea"),p=v._has("gl2d"),F=v._has("ternary"),D=v._has("mapbox"),N=v._has("polar"),k=v._has("smith"),O=v._has("sankey"),B=function f(y){for(var v=A.list({_fullLayout:y},null,!0),w=0;w<v.length;w++)if(!v[w].fixedrange)return!1;return!0}(v),z=P(v.hovermode),U=[];function G(_){if(_.length){for(var K=[],nt=0;nt<_.length;nt++){for(var et=_[nt],st=l[et],dt=st.name.toLowerCase(),Tt=(st._cat||st.name).toLowerCase(),bt=!1,Dt=0;Dt<L.length;Dt++){var Ft=L[Dt].toLowerCase();if(Ft===dt||Ft===Tt){bt=!0;break}}bt||K.push(l[et])}U.push(K)}}var Q=["toImage"];d.showEditInChartStudio?Q.push("editInChartStudio"):d.showSendToCloud&&Q.push("sendDataToCloud"),G(Q);var rt=[],it=[],ut=[],J=[];(m||p||n||C||F)+b+S+D+N+k>1?(it=["toggleHover"],ut=["resetViews"]):b?(rt=["zoomInGeo","zoomOutGeo"],it=["hoverClosestGeo"],ut=["resetGeo"]):S?(it=["hoverClosest3d"],ut=["resetCameraDefault3d","resetCameraLastSave3d"]):D?(rt=["zoomInMapbox","zoomOutMapbox"],it=["toggleHover"],ut=["resetViewMapbox"]):p?it=["hoverClosestGl2d"]:n?it=["hoverClosestPie"]:O?(it=["hoverClosestCartesian","hoverCompareCartesian"],ut=["resetViewSankey"]):it=["toggleHover"],m&&(it=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function s(y){for(var v=0;v<y.length;v++)if(!i.traceIs(y[v],"noHover"))return!1;return!0}(w)||z)&&(it=[]),(m||p)&&!B&&(rt=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==ut[0]&&(ut=["resetScale2d"])),S?J=["zoom3d","pan3d","orbitRotation","tableRotation"]:(m||p)&&!B||F?J=["zoom2d","pan2d"]:D||b?J=["pan2d"]:N&&(J=["zoom2d"]),function a(y){for(var v=!1,w=0;w<y.length&&!v;w++){var d=y[w];!d._module||!d._module.selectPoints||(i.traceIs(d,"scatter-like")?(g.hasMarkers(d)||g.hasText(d))&&(v=!0):i.traceIs(d,"box-violin")?("all"===d.boxpoints||"all"===d.points)&&(v=!0):v=!0)}return v}(w)&&J.push("select2d","lasso2d");var j=[],Z=function(_){-1===j.indexOf(_)&&-1!==it.indexOf(_)&&j.push(_)};if(Array.isArray(T)){for(var H=[],X=0;X<T.length;X++){var at=T[X];"string"==typeof at?(at=at.toLowerCase(),-1!==x.indexOf(at)?(v._has("mapbox")||v._has("cartesian"))&&J.push(at):"togglespikelines"===at?Z("toggleSpikelines"):"togglehover"===at?Z("toggleHover"):"hovercompare"===at?Z("hoverCompareCartesian"):"hoverclosest"===at?(Z("hoverClosestCartesian"),Z("hoverClosestGeo"),Z("hoverClosest3d"),Z("hoverClosestGl2d"),Z("hoverClosestPie")):"v1hovermode"===at&&(Z("toggleHover"),Z("hoverClosestCartesian"),Z("hoverCompareCartesian"),Z("hoverClosestGeo"),Z("hoverClosest3d"),Z("hoverClosestGl2d"),Z("hoverClosestPie"))):H.push(at)}T=H}return G(J),G(rt.concat(ut)),G(j),function c(y,v){if(v.length)if(Array.isArray(v[0]))for(var w=0;w<v.length;w++)y.push(v[w]);else y.push(v);return y}(U,T)}tt.exports=function(v){var w=v._fullLayout,d=v._context,o=w._modeBar;if(d.displayModeBar||d.watermark){if(!Array.isArray(d.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(d.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var M,h=d.modeBarButtons;M=Array.isArray(h)&&h.length?function u(y){for(var v=e([],y),w=0;w<v.length;w++)for(var d=v[w],o=0;o<d.length;o++){var h=d[o];if("string"==typeof h){if(void 0===l[h])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));v[w][o]=l[h]}}return v}(h):!d.displayModeBar&&d.watermark?[]:r(v),o?o.update(v,M):w._modeBar=E(v,M)}else o&&(o.destroy(),delete w._modeBar)}},37676:function(tt,W,t){"use strict";var A=t(39898),g=t(92770),i=t(71828),P=t(24255),E=t(11506).version,l=new DOMParser;function x(a){this.container=a.container,this.element=document.createElement("div"),this.update(a.graphInfo,a.buttons),this.container.appendChild(this.element)}var e=x.prototype;e.update=function(a,s){this.graphInfo=a;var c=this.graphInfo._context,u=this.graphInfo._fullLayout,y="modebar-"+u._uid;this.element.setAttribute("id",y),this._uid=y,this.element.className="modebar","hover"===c.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===u.modebar.orientation&&(this.element.className+=" vertical",s=s.reverse());var v=u.modebar,w="hover"===c.displayModeBar?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(y),i.addRelatedStyleRule(y,w+"#"+y+" .modebar-group","background-color: "+v.bgcolor),i.addRelatedStyleRule(y,"#"+y+" .modebar-btn .icon path","fill: "+v.color),i.addRelatedStyleRule(y,"#"+y+" .modebar-btn:hover .icon path","fill: "+v.activecolor),i.addRelatedStyleRule(y,"#"+y+" .modebar-btn.active .icon path","fill: "+v.activecolor);var d=!this.hasButtons(s),o=this.hasLogo!==c.displaylogo,h=this.locale!==c.locale;if(this.locale=c.locale,(d||o||h)&&(this.removeAllButtons(),this.updateButtons(s),c.watermark||c.displaylogo)){var M=this.getLogo();c.watermark&&(M.className=M.className+" watermark"),"v"===u.modebar.orientation?this.element.insertBefore(M,this.element.childNodes[0]):this.element.appendChild(M),this.hasLogo=!0}this.updateActiveButton()},e.updateButtons=function(a){var s=this;this.buttons=a,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(c){var u=s.createGroup();c.forEach(function(y){var v=y.name;if(!v)throw new Error("must provide button 'name' in button config");if(-1!==s.buttonsNames.indexOf(v))throw new Error("button name '"+v+"' is taken");s.buttonsNames.push(v);var w=s.createButton(y);s.buttonElements.push(w),u.appendChild(w)}),s.element.appendChild(u)})},e.createGroup=function(){var a=document.createElement("div");return a.className="modebar-group",a},e.createButton=function(a){var s=this,c=document.createElement("a");c.setAttribute("rel","tooltip"),c.className="modebar-btn";var u=a.title;void 0===u?u=a.name:"function"==typeof u&&(u=u(this.graphInfo)),(u||0===u)&&c.setAttribute("data-title",u),void 0!==a.attr&&c.setAttribute("data-attr",a.attr);var y=a.val;if(void 0!==y&&("function"==typeof y&&(y=y(this.graphInfo)),c.setAttribute("data-val",y)),"function"!=typeof a.click)throw new Error("must provide button 'click' function in button config");c.addEventListener("click",function(d){a.click(s.graphInfo,d),s.updateActiveButton(d.currentTarget)}),c.setAttribute("data-toggle",a.toggle||!1),a.toggle&&A.select(c).classed("active",!0);var w=a.icon;return c.appendChild("function"==typeof w?w():this.createIcon(w||P.question)),c.setAttribute("data-gravity",a.gravity||"n"),c},e.createIcon=function(a){var u,s=g(a.height)?Number(a.height):a.ascent-a.descent,c="http://www.w3.org/2000/svg";if(a.path){(u=document.createElementNS(c,"svg")).setAttribute("viewBox",[0,0,a.width,s].join(" ")),u.setAttribute("class","icon");var y=document.createElementNS(c,"path");y.setAttribute("d",a.path),a.transform?y.setAttribute("transform",a.transform):void 0!==a.ascent&&y.setAttribute("transform","matrix(1 0 0 -1 0 "+a.ascent+")"),u.appendChild(y)}return a.svg&&(u=l.parseFromString(a.svg,"application/xml").childNodes[0]),u.setAttribute("height","1em"),u.setAttribute("width","1em"),u},e.updateActiveButton=function(a){var s=this.graphInfo._fullLayout,c=void 0!==a?a.getAttribute("data-attr"):null;this.buttonElements.forEach(function(u){var y=u.getAttribute("data-val")||!0,v=u.getAttribute("data-attr"),w="true"===u.getAttribute("data-toggle"),d=A.select(u);if(w)v===c&&d.classed("active",!d.classed("active"));else{var o=null===v?v:i.nestedProperty(s,v).get();d.classed("active",o===y)}})},e.hasButtons=function(a){var s=this.buttons;if(!s||a.length!==s.length)return!1;for(var c=0;c<a.length;++c){if(a[c].length!==s[c].length)return!1;for(var u=0;u<a[c].length;u++)if(a[c][u].name!==s[c][u].name)return!1}return!0},e.getLogo=function(){var a=this.createGroup(),s=document.createElement("a");return s.href="https://plotly.com/",s.target="_blank",s.setAttribute("data-title",function r(a){return a+" (v"+E+")"}(i._(this.graphInfo,"Produced with Plotly.js"))),s.className="modebar-btn plotlyjsicon modebar-btn--logo",s.appendChild(this.createIcon(P.newplotlylogo)),a.appendChild(s),a},e.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},e.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)},tt.exports=function f(a,s){var c=a._fullLayout,u=new x({graphInfo:a,container:c._modebardiv.node(),buttons:s});return c._privateplot&&A.select(u.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),u}},37113:function(tt,W,t){"use strict";var A=t(41940),g=t(22399),P=(0,t(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});tt.exports={visible:{valType:"boolean",editType:"plot"},buttons:P,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:A({editType:"plot"}),bgcolor:{valType:"color",dflt:g.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(tt){"use strict";tt.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(tt,W,t){"use strict";var A=t(71828),g=t(7901),i=t(44467),P=t(85501),E=t(37113),l=t(89573);function x(r,f,a,s){var c=s.calendar;function u(w,d){return A.coerce(r,f,E.buttons,w,d)}if(u("visible")){var v=u("step");"all"!==v&&(!c||"gregorian"===c||"month"!==v&&"year"!==v?u("stepmode"):f.stepmode="backward",u("count")),u("label")}}tt.exports=function(f,a,s,c,u){var y=f.rangeselector||{},v=i.newContainer(a,"rangeselector");function w(T,L){return A.coerce(y,v,E,T,L)}if(w("visible",P(y,v,{name:"buttons",handleItemDefaults:x,calendar:u}).length>0)){var h=function e(r,f,a){for(var s=a.filter(function(v){return f[v].anchor===r._id}),c=0,u=0;u<s.length;u++){var y=f[s[u]].domain;y&&(c=Math.max(y[1],c))}return[r.domain[0],c+l.yPad]}(a,s,c);w("x",h[0]),w("y",h[1]),A.noneOrAll(f,a,["x","y"]),w("xanchor"),w("yanchor"),A.coerceFont(w,"font",s.font);var M=w("bgcolor");w("activecolor",g.contrast(M,l.lightAmount,l.darkAmount)),w("bordercolor"),w("borderwidth")}}},21598:function(tt,W,t){"use strict";var A=t(39898),g=t(73972),i=t(74875),P=t(7901),E=t(91424),l=t(71828),x=l.strTranslate,e=t(63893),r=t(41675),f=t(18783),a=f.LINE_SPACING,s=f.FROM_TL,c=f.FROM_BR,u=t(89573),y=t(70565);function w(m){return m._id}function o(m,S,b){var n=l.ensureSingle(m,"rect","selector-rect",function(C){C.attr("shape-rendering","crispEdges")});n.attr({rx:u.rx,ry:u.ry}),n.call(P.stroke,S.bordercolor).call(P.fill,function h(m,S){return S._isActive||S._isHovered?m.activecolor:m.bgcolor}(S,b)).style("stroke-width",S.borderwidth+"px")}function M(m,S,b,n){l.ensureSingle(m,"text","selector-text",function(F){F.attr("text-anchor","middle")}).call(E.font,S.font).text(function T(m,S){return m.label?S?l.templateString(m.label,S):m.label:"all"===m.step?"all":m.count+m.step.charAt(0)}(b,n._fullLayout._meta)).call(function C(F){e.convertToTspans(F,n)})}tt.exports=function(S){var n=S._fullLayout._infolayer.selectAll(".rangeselector").data(function v(m){for(var S=r.list(m,"x",!0),b=[],n=0;n<S.length;n++){var C=S[n];C.rangeselector&&C.rangeselector.visible&&b.push(C)}return b}(S),w);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(C){var p=A.select(this),F=C,D=F.rangeselector,N=p.selectAll("g.button").data(l.filterVisible(D.buttons));N.enter().append("g").classed("button",!0),N.exit().remove(),N.each(function(k){var O=A.select(this),B=y(F,k);k._isActive=function d(m,S,b){if("all"===S.step)return!0===m.autorange;var n=Object.keys(b);return m.range[0]===b[n[0]]&&m.range[1]===b[n[1]]}(F,k,B),O.call(o,D,k),O.call(M,D,k,S),O.on("click",function(){S._dragged||g.call("_guiRelayout",S,B)}),O.on("mouseover",function(){k._isHovered=!0,O.call(o,D,k)}),O.on("mouseout",function(){k._isHovered=!1,O.call(o,D,k)})}),function L(m,S,b,n,C){var p=0,F=0,D=b.borderwidth;S.each(function(){var G=A.select(this).select(".selector-text"),rt=Math.max(b.font.size*a*e.lineCount(G),16)+3;F=Math.max(F,rt)}),S.each(function(){var U=A.select(this),G=U.select(".selector-rect"),Q=U.select(".selector-text"),rt=Q.node()&&E.bBox(Q.node()).width,it=b.font.size*a,ut=e.lineCount(Q),J=Math.max(rt+10,u.minButtonWidth);U.attr("transform",x(D+p,D)),G.attr({x:0,y:0,width:J,height:F}),e.positionText(Q,J/2,F/2-(ut-1)*it/2+3),p+=J+5});var N=m._fullLayout._size,k=N.l+N.w*b.x,O=N.t+N.h*(1-b.y),B="left";l.isRightAnchor(b)&&(k-=p,B="right"),l.isCenterAnchor(b)&&(k-=p/2,B="center");var z="top";l.isBottomAnchor(b)&&(O-=F,z="bottom"),l.isMiddleAnchor(b)&&(O-=F/2,z="middle"),p=Math.ceil(p),F=Math.ceil(F),k=Math.round(k),O=Math.round(O),i.autoMargin(m,n+"-range-selector",{x:b.x,y:b.y,l:p*s[B],r:p*c[B],b:F*c[z],t:F*s[z]}),C.attr("transform",x(k,O))}(S,N,D,F._name,p)})}},70565:function(tt,W,t){"use strict";var A=t(81041),g=t(71828).titleCase;tt.exports=function(E,l){var x=E._name,e={};if("all"===l.step)e[x+".autorange"]=!0;else{var r=function i(P,E){var a,l=P.range,x=new Date(P.r2l(l[1])),r=A["utc"+g(E.step)],f=E.count;switch(E.stepmode){case"backward":a=P.l2r(+r.offset(x,-f));break;case"todate":var s=r.offset(x,-f);a=P.l2r(+r.ceil(s))}return[a,l[1]]}(E,l);e[x+".range[0]"]=r[0],e[x+".range[1]"]=r[1]}return e}},97218:function(tt,W,t){"use strict";tt.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t(37113)}}},layoutAttributes:t(37113),handleDefaults:t(28674),draw:t(21598)}},75148:function(tt,W,t){"use strict";var A=t(22399);tt.exports={bgcolor:{valType:"color",dflt:A.background,editType:"plot"},bordercolor:{valType:"color",dflt:A.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(tt,W,t){"use strict";var A=t(41675).list,g=t(71739).getAutoRange,i=t(73251);tt.exports=function(E){for(var l=A(E,"x",!0),x=0;x<l.length;x++){var e=l[x],r=e[i.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=g(E,e))}}},73251:function(tt){"use strict";tt.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(tt,W,t){"use strict";var A=t(71828),g=t(44467),i=t(41675),P=t(75148),E=t(47850);tt.exports=function(x,e,r){var f=x[r],a=e[r];if(f.rangeslider||e._requestRangeslider[a._id]){A.isPlainObject(f.rangeslider)||(f.rangeslider={});var y,v,s=f.rangeslider,c=g.newContainer(a,"rangeslider");if(u("visible")){u("bgcolor",e.plot_bgcolor),u("bordercolor"),u("borderwidth"),u("thickness"),u("autorange",!a.isValidRange(s.range)),u("range");var o=e._subplots;if(o)for(var h=o.cartesian.filter(function(n){return n.substr(0,n.indexOf("y"))===i.name2id(r)}).map(function(n){return n.substr(n.indexOf("y"),n.length)}),M=A.simpleMap(h,i.id2name),T=0;T<M.length;T++){var L=M[T];y=s[L]||{},v=g.newContainer(c,L,"yaxis");var S,m=e[L];y.range&&m.isValidRange(y.range)&&(S="fixed"),"match"!==w("rangemode",S)&&w("range",m.range.slice())}c._input=s}}function u(n,C){return A.coerce(s,c,P,n,C)}function w(n,C){return A.coerce(y,v,E,n,C)}}},72413:function(tt,W,t){"use strict";var A=t(39898),g=t(73972),i=t(74875),P=t(71828),E=P.strTranslate,l=t(91424),x=t(7901),e=t(92998),r=t(93612),f=t(41675),a=t(28569),s=t(6964),c=t(73251);function u(m,S,b,n){if(!S._context.staticPlot){var C=m.select("rect."+c.slideBoxClassName).node(),p=m.select("rect."+c.grabAreaMinClassName).node(),F=m.select("rect."+c.grabAreaMaxClassName).node();m.on("mousedown",D),m.on("touchstart",D)}function D(){var N=A.event,k=N.target,O=N.clientX||N.touches[0].clientX,B=O-m.node().getBoundingClientRect().left,z=n.d2p(b._rl[0]),U=n.d2p(b._rl[1]),G=a.coverSlip();function Q(it){var j,Z,H,J=+(it.clientX||it.touches[0].clientX)-O;switch(k){case C:if(H="ew-resize",z+J>b._length||U+J<0)return;j=z+J,Z=U+J;break;case p:if(H="col-resize",z+J>b._length)return;j=z+J,Z=U;break;case F:if(H="col-resize",U+J<0)return;j=z,Z=U+J;break;default:H="ew-resize",j=B,Z=B+J}if(Z<j){var X=Z;Z=j,j=X}n._pixelMin=j,n._pixelMax=Z,s(A.select(G),H),function y(m,S,b,n){function C(D){return b.l2r(P.constrain(D,n._rl[0],n._rl[1]))}var p=C(n.p2d(n._pixelMin)),F=C(n.p2d(n._pixelMax));window.requestAnimationFrame(function(){g.call("_guiRelayout",S,b._name+".range",[p,F])})}(0,S,b,n)}function rt(){G.removeEventListener("mousemove",Q),G.removeEventListener("mouseup",rt),this.removeEventListener("touchmove",Q),this.removeEventListener("touchend",rt),P.removeElement(G)}this.addEventListener("touchmove",Q),this.addEventListener("touchend",rt),G.addEventListener("mousemove",Q),G.addEventListener("mouseup",rt)}}function w(m,S,b,n){var C=P.ensureSingle(m,"rect",c.bgClassName,function(N){N.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),p=n.borderwidth%2==0?n.borderwidth:n.borderwidth-1,F=-n._offsetShift,D=l.crispRound(S,n.borderwidth);C.attr({width:n._width+p,height:n._height+p,transform:E(F,F),"stroke-width":D}).call(x.stroke,n.bordercolor).call(x.fill,n.bgcolor)}function d(m,S,b,n){P.ensureSingleById(S._fullLayout._topdefs,"clipPath",n._clipId,function(F){F.append("rect").attr({x:0,y:0})}).select("rect").attr({width:n._width,height:n._height})}function o(m,S,b,n){var F,C=S.calcdata,p=m.selectAll("g."+c.rangePlotClassName).data(b._subplotsWith,P.identity);p.enter().append("g").attr("class",function(D){return c.rangePlotClassName+" "+D}).call(l.setClipUrl,n._clipId,S),p.order(),p.exit().remove(),p.each(function(D,N){var k=A.select(this),O=0===N,B=f.getFromId(S,D,"y"),z=B._name,U=n[z],G={data:[],layout:{xaxis:{type:b.type,domain:[0,1],range:n.range.slice(),calendar:b.calendar},width:n._width,height:n._height,margin:{t:0,b:0,l:0,r:0}},_context:S._context};b.rangebreaks&&(G.layout.xaxis.rangebreaks=b.rangebreaks),G.layout[z]={type:B.type,domain:[0,1],range:"match"!==U.rangemode?U.range.slice():B.range.slice(),calendar:B.calendar},B.rangebreaks&&(G.layout[z].rangebreaks=B.rangebreaks),i.supplyDefaults(G);var Q=G._fullLayout.xaxis,rt=G._fullLayout[z];Q.clearCalc(),Q.setScale(),rt.clearCalc(),rt.setScale();var it={id:D,plotgroup:k,xaxis:Q,yaxis:rt,isRangePlot:!0};O?F=it:(it.mainplot="xy",it.mainplotinfo=F),r.rangePlot(S,it,function h(m,S){for(var b=[],n=0;n<m.length;n++){var C=m[n],p=C[0].trace;p.xaxis+p.yaxis===S&&b.push(C)}return b}(C,D))})}function M(m,S,b,n,C){P.ensureSingle(m,"rect",c.maskMinClassName,function(k){k.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",n._height).call(x.fill,c.maskColor),P.ensureSingle(m,"rect",c.maskMaxClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",n._height).call(x.fill,c.maskColor),"match"!==C.rangemode&&(P.ensureSingle(m,"rect",c.maskMinOppAxisClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",n._width).call(x.fill,c.maskOppAxisColor),P.ensureSingle(m,"rect",c.maskMaxOppAxisClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",n._width).style("border-top",c.maskOppBorder).call(x.fill,c.maskOppAxisColor))}function T(m,S,b,n){S._context.staticPlot||P.ensureSingle(m,"rect",c.slideBoxClassName,function(p){p.attr({y:0,cursor:c.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:n._height,fill:c.slideBoxFill})}function L(m,S,b,n){var C=P.ensureSingle(m,"g",c.grabberMinClassName),p=P.ensureSingle(m,"g",c.grabberMaxClassName),F={x:0,width:c.handleWidth,rx:c.handleRadius,fill:x.background,stroke:x.defaultLine,"stroke-width":c.handleStrokeWidth,"shape-rendering":"crispEdges"},D={y:Math.round(n._height/4),height:Math.round(n._height/2)};P.ensureSingle(C,"rect",c.handleMinClassName,function(U){U.attr(F)}).attr(D),P.ensureSingle(p,"rect",c.handleMaxClassName,function(U){U.attr(F)}).attr(D);var O={width:c.grabAreaWidth,x:0,y:0,fill:c.grabAreaFill,cursor:S._context.staticPlot?void 0:c.grabAreaCursor};P.ensureSingle(C,"rect",c.grabAreaMinClassName,function(U){U.attr(O)}).attr("height",n._height),P.ensureSingle(p,"rect",c.grabAreaMaxClassName,function(U){U.attr(O)}).attr("height",n._height)}tt.exports=function(m){for(var S=m._fullLayout,b=S._rangeSliderData,n=0;n<b.length;n++){var C=b[n][c.name];C._clipId=C._id+"-"+S._uid}var F=S._infolayer.selectAll("g."+c.containerClassName).data(b,function p(D){return D._name});F.exit().each(function(D){S._topdefs.select("#"+D[c.name]._clipId).remove()}).remove(),0!==b.length&&(F.enter().append("g").classed(c.containerClassName,!0).attr("pointer-events","all"),F.each(function(D){var N=A.select(this),k=D[c.name],O=S[f.id2name(D.anchor)],B=k[f.id2name(D.anchor)];if(k.range){var G,z=P.simpleMap(k.range,D.r2l),U=P.simpleMap(D.range,D.r2l);G=U[0]<U[1]?[Math.min(z[0],U[0]),Math.max(z[1],U[1])]:[Math.max(z[0],U[0]),Math.min(z[1],U[1])],k.range=k._input.range=P.simpleMap(G,D.l2r)}D.cleanRange("rangeslider.range");var Q=S._size,rt=D.domain;k._width=Q.w*(rt[1]-rt[0]);var it=Math.round(Q.l+Q.w*rt[0]),ut=Math.round(Q.t+Q.h*(1-D._counterDomainMin)+("bottom"===D.side?D._depth:0)+k._offsetShift+c.extraPad);N.attr("transform",E(it,ut)),k._rl=P.simpleMap(k.range,D.r2l);var J=k._rl[0],j=k._rl[1],Z=j-J;if(k.p2d=function(Tt){return Tt/k._width*Z+J},k.d2p=function(Tt){return(Tt-J)/Z*k._width},D.rangebreaks){var H=D.locateBreaks(J,j);if(H.length){var X,at,_=0;for(X=0;X<H.length;X++)_+=(at=H[X]).max-at.min;var K=k._width/(j-J-_),nt=[-K*J];for(X=0;X<H.length;X++)nt.push(nt[nt.length-1]-K*((at=H[X]).max-at.min));for(k.d2p=function(Tt){for(var bt=nt[0],Dt=0;Dt<H.length;Dt++){var Ft=H[Dt];if(Tt>=Ft.max)bt=nt[Dt+1];else if(Tt<Ft.min)break}return bt+K*Tt},X=0;X<H.length;X++)(at=H[X]).pmin=k.d2p(at.min),at.pmax=k.d2p(at.max);k.p2d=function(Tt){for(var bt=nt[0],Dt=0;Dt<H.length;Dt++){var Ft=H[Dt];if(Tt>=Ft.pmax)bt=nt[Dt+1];else if(Tt<Ft.pmin)break}return(Tt-bt)/K}}}if("match"!==B.rangemode){var et=O.r2l(B.range[0]),dt=O.r2l(B.range[1])-et;k.d2pOppAxis=function(Tt){return(Tt-et)/dt*k._height}}N.call(w,m,D,k).call(d,m,D,k).call(o,m,D,k).call(M,m,D,k,B).call(T,m,D,k).call(L,m,D,k),u(N,m,D,k),function v(m,S,b,n,C,p){var F=c.handleWidth/2;function D(it){return P.constrain(it,0,n._width)}function N(it){return P.constrain(it,0,n._height)}function k(it){return P.constrain(it,-F,n._width+F)}var O=D(n.d2p(b._rl[0])),B=D(n.d2p(b._rl[1]));if(m.select("rect."+c.slideBoxClassName).attr("x",O).attr("width",B-O),m.select("rect."+c.maskMinClassName).attr("width",O),m.select("rect."+c.maskMaxClassName).attr("x",B).attr("width",n._width-B),"match"!==p.rangemode){var z=n._height-N(n.d2pOppAxis(C._rl[1])),U=n._height-N(n.d2pOppAxis(C._rl[0]));m.select("rect."+c.maskMinOppAxisClassName).attr("x",O).attr("height",z).attr("width",B-O),m.select("rect."+c.maskMaxOppAxisClassName).attr("x",O).attr("y",U).attr("height",n._height-U).attr("width",B-O),m.select("rect."+c.slideBoxClassName).attr("y",z).attr("height",U-z)}var G=.5,Q=Math.round(k(O-F))-G,rt=Math.round(k(B-F))+G;m.select("g."+c.grabberMinClassName).attr("transform",E(Q,G)),m.select("g."+c.grabberMaxClassName).attr("transform",E(rt,G))}(N,0,D,k,O,B),"bottom"===D.side&&e.draw(m,D._id+"title",{propContainer:D,propName:D._name+".title",placeholder:S._dfltTitle.x,attributes:{x:D._offset+D._length/2,y:ut+k._height+k._offsetShift+10+1.5*D.title.font.size,"text-anchor":"middle"}})}))}},549:function(tt,W,t){"use strict";var A=t(41675),g=t(63893),i=t(73251),P=t(18783).LINE_SPACING,E=i.name;function l(x){var e=x&&x[E];return e&&e.visible}W.isVisible=l,W.makeData=function(x){var e=A.list({_fullLayout:x},"x",!0),r=x.margin,f=[];if(!x._has("gl2d"))for(var a=0;a<e.length;a++){var s=e[a];if(l(s)){f.push(s);var c=s[E];c._id=E+s._id,c._height=(x.height-r.b-r.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}x._rangeSliderData=f},W.autoMarginOpts=function(x,e){var r=x._fullLayout,f=e[E],a=e._id.charAt(0),s=0,c=0;return"bottom"===e.side&&(s=e._depth,e.title.text!==r._dfltTitle[a])&&(c=1.5*e.title.font.size+10+f._offsetShift,c+=(e.title.text.match(g.BR_TAG_ALL)||[]).length*e.title.font.size*P),{x:0,y:e._counterDomainMin,l:0,r:0,t:0,b:f._height+s+Math.max(r.margin.b,c),pad:i.extraPad+2*f._offsetShift}}},13137:function(tt,W,t){"use strict";var A=t(71828),g=t(75148),i=t(47850),P=t(549);tt.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:A.extendFlat({},g,{yaxis:i})}}},layoutAttributes:t(75148),handleDefaults:t(26377),calcAutorange:t(88443),draw:t(72413),isVisible:P.isVisible,makeData:P.makeData,autoMarginOpts:P.autoMarginOpts}},47850:function(tt){"use strict";tt.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(tt,W,t){"use strict";var A=t(50215),g=t(82196).line,i=t(79952).P,P=t(1426).extendFlat,E=t(30962).overrideAll,l=t(44467).templatedArray;t(24695),tt.exports=E(l("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:P({},A.xref,{}),yref:P({},A.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:g.color,width:P({},g.width,{min:1,dflt:1}),dash:P({},i,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(tt){"use strict";tt.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(tt,W,t){"use strict";var A=t(71828),g=t(89298),i=t(85501),P=t(8389),E=t(30477);function l(x,e,r){function f(p,F){return A.coerce(x,e,P,p,F)}var a=f("path"),u="path"!==f("type",a?"path":"rect");u&&delete e.path,f("opacity"),f("line.color"),f("line.width"),f("line.dash");for(var y=["x","y"],v=0;v<2;v++){var o,h,M,w=y[v],d={_fullLayout:r},T=g.coerceRef(x,e,d,w);if((o=g.getFromId(d,T))._selectionIndices.push(e._index),M=E.rangeToShapePosition(o),h=E.shapePositionToRange(o),u){var L=w+"0",m=w+"1",S=x[L],b=x[m];x[L]=h(x[L],!0),x[m]=h(x[m],!0),g.coercePosition(e,d,f,T,L),g.coercePosition(e,d,f,T,m);var n=e[L],C=e[m];void 0!==n&&void 0!==C&&(e[L]=M(n),e[m]=M(C),x[L]=S,x[m]=b)}}u&&A.noneOrAll(x,e,["x0","x1","y0","y1"])}tt.exports=function(e,r){i(e,r,{name:"selections",handleItemDefaults:l});for(var f=r.selections,a=0;a<f.length;a++){var s=f[a];!s||void 0===s.path&&(void 0===s.x0||void 0===s.x1||void 0===s.y0||void 0===s.y1)&&(r.selections[a]=null)}}},32485:function(tt,W,t){"use strict";var A=t(60165).readPaths,g=t(42359),i=t(51873).clearOutlineControllers,P=t(7901),E=t(91424),l=t(44467).arrayEditor,x=t(30477),e=x.getPathString;function r(v){var w=v._fullLayout;for(var d in i(v),w._selectionLayer.selectAll("path").remove(),w._plots){var o=w._plots[d].selectionLayer;o&&o.selectAll("path").remove()}for(var h=0;h<w.selections.length;h++)a(v,h)}function f(v){return v._context.editSelection}function a(v,w){v._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+w+'"]').remove();var d=x.makeSelectionsOptionsAndPlotinfo(v,w),o=d.options,h=d.plotinfo;o._input&&function M(T){var L=e(v,o),m={"data-index":w,"fill-rule":"evenodd",d:L},S=o.opacity,b="rgba(0,0,0,0)",n=o.line.color||P.contrast(v._fullLayout.plot_bgcolor),C=o.line.width,p=o.line.dash;C||(C=5,p="solid");var F=f(v)&&v._fullLayout._activeSelectionIndex===w;F&&(b=v._fullLayout.activeselection.fillcolor,S=v._fullLayout.activeselection.opacity);for(var D=[],N=1;N>=0;N--){var k=T.append("path").attr(m).style("opacity",N?.1:S).call(P.stroke,n).call(P.fill,b).call(E.dashLine,N?"solid":p,N?4+C:C);if(s(k,v,o),F){var O=l(v.layout,"selections",o);k.style({cursor:"move"});var B={element:k.node(),plotinfo:h,gd:v,editHelpers:O,isActiveSelection:!0},z=A(L,v);g(z,k,B)}else k.style("pointer-events",N?"all":"none");D[N]=k}var U=D[0];D[1].node().addEventListener("click",function(){return function c(v,w){if(f(v)){var o=+w.node().getAttribute("data-index");if(o>=0){if(o===v._fullLayout._activeSelectionIndex)return void y(v);v._fullLayout._activeSelectionIndex=o,v._fullLayout._deactivateSelection=y,r(v)}}}(v,U)})}(v._fullLayout._selectionLayer)}function s(v,w,d){E.setClipUrl(v,"clip"+w._fullLayout._uid+(d.xref+d.yref),w)}function y(v){f(v)&&v._fullLayout._activeSelectionIndex>=0&&(i(v),delete v._fullLayout._activeSelectionIndex,r(v))}tt.exports={draw:r,drawOne:a,activateLastSelection:function u(v){f(v)&&(v._fullLayout._activeSelectionIndex=v._fullLayout.selections.length-1,v._fullLayout._deactivateSelection=y,r(v))}}},53777:function(tt,W,t){"use strict";var A=t(79952).P,g=t(1426).extendFlat;tt.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:g({},A,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(tt){"use strict";tt.exports=function(t,A,g){g("newselection.mode"),g("newselection.line.width")&&(g("newselection.line.color"),g("newselection.line.dash")),g("activeselection.fillcolor"),g("activeselection.opacity")}},35855:function(tt,W,t){"use strict";var g=t(64505).selectMode,P=t(51873).clearOutline,E=t(60165),l=E.readPaths,x=E.writePaths,e=E.fixDatesForPaths;tt.exports=function(f,a){if(f.length){var s=f[0][0];if(s){var c=s.getAttribute("d"),u=a.gd,y=u._fullLayout.newselection,v=a.plotinfo,w=v.xaxis,d=v.yaxis,o=a.isActiveSelection,h=a.dragmode,M=(u.layout||{}).selections||[];if(!g(h)&&void 0!==o){var T=u._fullLayout._activeSelectionIndex;if(T<M.length)switch(u._fullLayout.selections[T].type){case"rect":h="select";break;case"path":h="lasso"}}var S,L=l(c,u,v,o),m={xref:w._id,yref:d._id,opacity:y.opacity,line:{color:y.line.color,width:y.line.width,dash:y.line.dash}};1===L.length&&(S=L[0]),S&&5===S.length&&"select"===h?(m.type="rect",m.x0=S[0][1],m.y0=S[0][2],m.x1=S[2][1],m.y1=S[2][2]):(m.type="path",w&&d&&e(L,w,d),m.path=x(L),S=null),P(u);for(var b=a.editHelpers,n=(b||{}).modifyItem,C=[],p=0;p<M.length;p++){var F=u._fullLayout.selections[p];if(F){if(C[p]=F._input,void 0!==o&&p===u._fullLayout._activeSelectionIndex){var D=m;switch(F.type){case"rect":n("x0",D.x0),n("x1",D.x1),n("y0",D.y0),n("y1",D.y1);break;case"path":n("path",D.path)}}}else C[p]=F}return void 0===o?(C.push(m),C):b?b.getUpdateObj():{}}}}},75549:function(tt,W,t){"use strict";var A=t(71828).strTranslate;function g(l,x){switch(l.type){case"log":return l.p2d(x);case"date":return l.p2r(x,0,l.calendar);default:return l.p2r(x)}}tt.exports={p2r:g,r2p:function i(l,x){switch(l.type){case"log":return l.d2p(x);case"date":return l.r2p(x,0,l.calendar);default:return l.r2p(x)}},axValue:function P(l){var x="y"===l._id.charAt(0)?1:0;return function(e){return g(l,e[x])}},getTransform:function E(l){return A(l.xaxis._offset,l.yaxis._offset)}}},47322:function(tt,W,t){"use strict";var A=t(32485),g=t(3937);tt.exports={moduleType:"component",name:"selections",layoutAttributes:t(8389),supplyLayoutDefaults:t(59402),supplyDrawNewSelectionDefaults:t(90849),includeBasePlot:t(76325)("selections"),draw:A.draw,drawOne:A.drawOne,reselect:g.reselect,prepSelect:g.prepSelect,clearOutline:g.clearOutline,clearSelectionsCache:g.clearSelectionsCache,selectOnClick:g.selectOnClick}},3937:function(tt,W,t){"use strict";var A=t(52142),g=t(38258),i=t(73972),P=t(91424).dashStyle,E=t(7901),l=t(30211),x=t(23469).makeEventData,e=t(64505),r=e.freeMode,f=e.rectMode,a=e.drawMode,s=e.openMode,c=e.selectMode,u=t(30477),y=t(21459),v=t(42359),w=t(51873).clearOutline,d=t(60165),o=d.handleEllipse,h=d.readPaths,M=t(90551).newShapes,T=t(35855),L=t(32485).activateLastSelection,m=t(71828),S=m.sorterAsc,b=t(61082),n=t(79990),C=t(41675).getFromId,p=t(33306),F=t(61549).redrawReglTraces,D=t(34122),N=D.MINSELECT,k=b.filter,O=b.tester,B=t(75549),z=B.p2r,U=B.axValue,G=B.getTransform;function Q(Rt){return void 0!==Rt.subplot}function it(Rt,Ot,It,gt,pt,vt,yt){var Oe,Ae,je,Ze,fe,Ve,He,wr,ar,Yt=Ot._hoverdata,he=Ot._fullLayout.clickmode.indexOf("event")>-1,ke=[];if(function st(Rt){return Rt&&Array.isArray(Rt)&&!0!==Rt[0].hoverOnBox}(Yt)){H(Rt,Ot,vt);var ie=function dt(Rt,Ot){var vt,yt,It=Rt[0],gt=-1,pt=[];for(yt=0;yt<Ot.length;yt++)if(It.fullData._expandedIndex===(vt=Ot[yt]).cd[0].trace._expandedIndex){if(!0===It.hoverOnBox)break;void 0!==It.pointNumber?gt=It.pointNumber:void 0!==It.binNumber&&(gt=It.binNumber,pt=It.pointNumbers);break}return{pointNumber:gt,pointNumbers:pt,searchInfo:vt}}(Yt,Oe=nt(Ot,It,gt,pt));if(ie.pointNumbers.length>0?function bt(Rt,Ot){var gt,pt,yt,It=[];for(yt=0;yt<Rt.length;yt++)(gt=Rt[yt]).cd[0].trace.selectedpoints&&gt.cd[0].trace.selectedpoints.length>0&&It.push(gt);if(1===It.length&&It[0]===Ot.searchInfo&&(pt=Ot.searchInfo.cd[0].trace).selectedpoints.length===Ot.pointNumbers.length){for(yt=0;yt<Ot.pointNumbers.length;yt++)if(pt.selectedpoints.indexOf(Ot.pointNumbers[yt])<0)return!1;return!0}return!1}(Oe,ie):function Dt(Rt){var gt,pt,Ot=0;for(pt=0;pt<Rt.length;pt++)if((gt=Rt[pt].cd[0].trace).selectedpoints&&(gt.selectedpoints.length>1||(Ot+=gt.selectedpoints.length)>1))return!1;return 1===Ot}(Oe)&&(Ve=Tt(ie))){for(yt&&yt.remove(),ar=0;ar<Oe.length;ar++)(Ae=Oe[ar])._module.selectPoints(Ae,!1);Ft(Ot,Oe),_(vt),he&&Et(Ot)}else{for(He=Rt.shiftKey&&(void 0!==Ve?Ve:Tt(ie)),je=function ut(Rt,Ot,It){return{pointNumber:Rt,searchInfo:Ot,subtract:!!It}}(ie.pointNumber,ie.searchInfo,He),Ze=Z(vt.selectionDefs.concat([je])),ar=0;ar<Oe.length;ar++)if(fe=St(Oe[ar]._module.selectPoints(Oe[ar],Ze),Oe[ar]),ke.length)for(var xe=0;xe<fe.length;xe++)ke.push(fe[xe]);else ke=fe;if(Ft(Ot,Oe,wr={points:ke}),je&&vt&&vt.selectionDefs.push(je),yt){var Te=vt.mergedPolygons,be=s(vt.dragmode);v(Ut(Te,be),yt,vt)}he&&Ct(Ot,wr)}}}function J(Rt){return"pointNumber"in Rt&&"searchInfo"in Rt}function j(Rt){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Ot,It,gt,pt){return pt.cd[0].trace._expandedIndex===Rt.searchInfo.cd[0].trace._expandedIndex&&gt===Rt.pointNumber},isRect:!1,degenerate:!1,subtract:!!Rt.subtract}}function Z(Rt){if(Rt.length){for(var Ot=[],It=J(Rt[0])?0:Rt[0][0][0],gt=It,pt=J(Rt[0])?0:Rt[0][0][1],vt=pt,yt=0;yt<Rt.length;yt++)if(J(Rt[yt]))Ot.push(j(Rt[yt]));else{var Yt=O(Rt[yt]);Yt.subtract=!!Rt[yt].subtract,Ot.push(Yt),It=Math.min(It,Yt.xmin),gt=Math.max(gt,Yt.xmax),pt=Math.min(pt,Yt.ymin),vt=Math.max(vt,Yt.ymax)}return{xmin:It,xmax:gt,ymin:pt,ymax:vt,pts:[],contains:function Qt(le,he,ke,Oe){for(var Ae=!1,je=0;je<Ot.length;je++)Ot[je].contains(le,he,ke,Oe)&&(Ae=!Ot[je].subtract);return Ae},isRect:!1,degenerate:!1}}}function H(Rt,Ot,It){var gt=Ot._fullLayout,pt=It.plotinfo,vt=It.dragmode,yt=gt._lastSelectedSubplot&&gt._lastSelectedSubplot===pt.id,Yt=(Rt.shiftKey||Rt.altKey)&&!(a(vt)&&s(vt));yt&&Yt&&pt.selection&&pt.selection.selectionDefs&&!It.selectionDefs?(It.selectionDefs=pt.selection.selectionDefs,It.mergedPolygons=pt.selection.mergedPolygons):(!Yt||!pt.selection)&&_(It),yt||(w(Ot),gt._lastSelectedSubplot=pt.id)}function _(Rt,Ot){var It=Rt.dragmode,gt=Rt.plotinfo,pt=Rt.gd;(function X(Rt){return Rt._fullLayout._activeShapeIndex>=0})(pt)&&pt._fullLayout._deactivateShape(pt),function at(Rt){return Rt._fullLayout._activeSelectionIndex>=0}(pt)&&pt._fullLayout._deactivateSelection(pt);var yt=pt._fullLayout._zoomlayer,Yt=a(It),Qt=c(It);if(Yt||Qt){var he,ke,le=yt.selectAll(".select-outline-"+gt.id);le&&pt._fullLayout._outlining&&(Yt&&(he=M(le,Rt)),he&&i.call("_guiRelayout",pt,{shapes:he}),Qt&&!Q(Rt)&&(ke=T(le,Rt)),ke&&(pt._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",pt,{selections:ke}).then(function(){Ot&&L(pt)})),pt._fullLayout._outlining=!1)}gt.selection={},gt.selection.selectionDefs=Rt.selectionDefs=[],gt.selection.mergedPolygons=Rt.mergedPolygons=[]}function K(Rt){return Rt._id}function nt(Rt,Ot,It,gt){if(!Rt.calcdata)return[];var Yt,Qt,le,pt=[],vt=Ot.map(K),yt=It.map(K);for(le=0;le<Rt.calcdata.length;le++)if(!0===(Qt=(Yt=Rt.calcdata[le])[0].trace).visible&&Qt._module&&Qt._module.selectPoints)if(!Q({subplot:gt})||Qt.subplot!==gt&&Qt.geo!==gt)if("splom"===Qt.type){if(Qt._xaxes[vt[0]]&&Qt._yaxes[yt[0]]){var he=et(Qt._module,Yt,Ot[0],It[0]);he.scene=Rt._fullLayout._splomScenes[Qt.uid],pt.push(he)}}else if("sankey"===Qt.type){var ke=et(Qt._module,Yt,Ot[0],It[0]);pt.push(ke)}else{if(-1===vt.indexOf(Qt.xaxis)||-1===yt.indexOf(Qt.yaxis))continue;pt.push(et(Qt._module,Yt,C(Rt,Qt.xaxis),C(Rt,Qt.yaxis)))}else pt.push(et(Qt._module,Yt,Ot[0],It[0]));return pt}function et(Rt,Ot,It,gt){return{_module:Rt,cd:Ot,xaxis:It,yaxis:gt}}function Tt(Rt){var Ot=Rt.searchInfo.cd[0].trace,gt=Rt.pointNumbers;return!!Ot.selectedpoints&&Ot.selectedpoints.indexOf(gt.length>0?gt[0]:Rt.pointNumber)>-1}function Ft(Rt,Ot,It){var gt,yt;for(gt=0;gt<Ot.length;gt++){var pt=Ot[gt].cd[0].trace._fullInput,vt=Rt._fullLayout._tracePreGUI[pt.uid]||{};void 0===vt.selectedpoints&&(vt.selectedpoints=pt._input.selectedpoints||null)}if(It){var Yt=It.points||[];for(gt=0;gt<Ot.length;gt++)(yt=Ot[gt].cd[0].trace)._input.selectedpoints=yt._fullInput.selectedpoints=[],yt._fullInput!==yt&&(yt.selectedpoints=[]);for(var Qt=0;Qt<Yt.length;Qt++){var le=Yt[Qt],he=le.data,ke=le.fullData,Oe=le.pointIndex,Ae=le.pointIndices;Ae?([].push.apply(he.selectedpoints,Ae),yt._fullInput!==yt&&[].push.apply(ke.selectedpoints,Ae)):(he.selectedpoints.push(Oe),yt._fullInput!==yt&&ke.selectedpoints.push(Oe))}}else for(gt=0;gt<Ot.length;gt++)delete(yt=Ot[gt].cd[0].trace).selectedpoints,delete yt._input.selectedpoints,yt._fullInput!==yt&&delete yt._fullInput.selectedpoints;!function Mt(Rt,Ot){for(var It=!1,gt=0;gt<Ot.length;gt++){var pt=Ot[gt],vt=pt.cd;i.traceIs(vt[0].trace,"regl")&&(It=!0);var yt=pt._module,Yt=yt.styleOnSelect||yt.style;Yt&&(Yt(Rt,vt,vt[0].node3),vt[0].nodeRangePlot3&&Yt(Rt,vt,vt[0].nodeRangePlot3))}It&&(p(Rt),F(Rt))}(Rt,Ot)}function wt(Rt,Ot,It){for(var vt=(It?A.difference:A.union)({regions:Rt},{regions:[Ot]}).regions.reverse(),yt=0;yt<vt.length;yt++){var Yt=vt[yt];Yt.subtract=qt(Yt,vt.slice(0,yt))}return vt}function St(Rt,Ot){if(Array.isArray(Rt))for(var It=Ot.cd,gt=Ot.cd[0].trace,pt=0;pt<Rt.length;pt++)Rt[pt]=x(Rt[pt],gt,It);return Rt}function Ut(Rt,Ot){for(var It=[],gt=0;gt<Rt.length;gt++){It[gt]=[];for(var pt=0;pt<Rt[gt].length;pt++){It[gt][pt]=[],It[gt][pt][0]=pt?"L":"M";for(var vt=0;vt<Rt[gt][pt].length;vt++)It[gt][pt].push(Rt[gt][pt][vt])}Ot||It[gt].push(["Z",It[gt][0][1],It[gt][0][2]])}return It}function Gt(Rt,Ot){for(var gt,vt,It=[],pt=[],yt=0;yt<Ot.length;yt++){var Yt=Ot[yt];vt=Yt._module.selectPoints(Yt,Rt),pt.push(vt),gt=St(vt,Yt),It=It.concat(gt)}return It}function Pt(Rt,Ot,It,gt,pt){var yt,Yt,Qt,vt=!!gt;pt&&(yt=pt.plotinfo,Yt=pt.xaxes[0]._id,Qt=pt.yaxes[0]._id);var le=[],he=[],ke=zt(Rt),Oe=Rt._fullLayout;if(yt){var Ae=Oe._zoomlayer,je=Oe.dragmode,Ze=a(je),Lr=c(je);if(Ze||Lr){var fe=C(Rt,Yt,"x"),Ve=C(Rt,Qt,"y");if(fe&&Ve){var He=Ae.selectAll(".select-outline-"+yt.id);if(He&&Rt._fullLayout._outlining&&He.length){for(var ar=He[0][0].getAttribute("d"),ie=h(ar,Rt,yt),ne=[],ve=0;ve<ie.length;ve++){for(var xe=ie[ve],Te=[],be=0;be<xe.length;be++)Te.push([ae(fe,xe[be][1]),ae(Ve,xe[be][2])]);Te.xref=Yt,Te.yref=Qt,Te.subtract=qt(Te,ne),ne.push(Te)}ke=ke.concat(ne)}}}}var Pe=Yt&&Qt?[Yt+Qt]:Oe._subplots.cartesian;!function Vt(Rt){var Ot=Rt.calcdata;if(Ot)for(var It=0;It<Ot.length;It++){var vt=Rt._fullLayout._splomScenes;if(vt){var yt=vt[Ot[It][0].trace.uid];yt&&(yt.selectBatch=[])}}}(Rt);for(var Be={},Qe=0;Qe<Pe.length;Qe++){var Ke=Pe[Qe],tr=Ke.indexOf("y"),vr=Ke.slice(0,tr),Ht=Ke.slice(tr),Nt=Yt&&Qt?It:void 0;if(Nt=kt(ke,vr,Ht,Nt)){var Se=gt;if(!vt){var Le=C(Rt,vr,"x"),We=C(Rt,Ht,"y");Se=nt(Rt,[Le],[We],Ke);for(var rr=0;rr<Se.length;rr++){var or=Se[rr],qe=or.cd[0],De=qe.trace;if("scattergl"===or._module.name&&!qe.t.xpx){var sr=De.x,gr=De.y,dr=De._length;qe.t.xpx=[],qe.t.ypx=[];for(var Pr=0;Pr<dr;Pr++)qe.t.xpx[Pr]=Le.c2p(sr[Pr]),qe.t.ypx[Pr]=We.c2p(gr[Pr])}"splom"===or._module.name&&(Be[De.uid]||(Be[De.uid]=!0))}}var qr=Gt(Nt,Se);le=le.concat(qr),he=he.concat(Se)}}var Er={points:le};Ft(Rt,he,Er);var rn=Oe.clickmode.indexOf("event")>-1&&Ot;if(!yt&&Ot){var zr=zt(Rt,!0);if(zr.length){var Pn=zr[0].xref,An=zr[0].yref;if(Pn&&An){var lr=oe(zr);ye([C(Rt,Pn,"x"),C(Rt,An,"y")])(Er,lr)}}Rt._fullLayout._noEmitSelectedAtStart?Rt._fullLayout._noEmitSelectedAtStart=!1:rn&&Ct(Rt,Er),Oe._reselect=!1}if(!yt&&Oe._deselect){var Fr=Oe._deselect;(function te(Rt,Ot,It){for(var gt=0;gt<It.length;gt++){var pt=It[gt];if(pt.xaxis&&pt.xaxis._id===Rt&&pt.yaxis&&pt.yaxis._id===Ot)return!0}return!1})(Yt=Fr.xref,Qt=Fr.yref,he)||_t(Rt,Yt,Qt,gt),rn&&(Er.points.length?Ct(Rt,Er):Et(Rt)),Oe._deselect=!1}return{eventData:Er,selectionTesters:It}}function _t(Rt,Ot,It,gt){gt=nt(Rt,[C(Rt,Ot,"x")],[C(Rt,It,"y")],Ot+It);for(var pt=0;pt<gt.length;pt++){var vt=gt[pt];vt._module.selectPoints(vt,!1)}Ft(Rt,gt)}function kt(Rt,Ot,It,gt){for(var pt,vt=0;vt<Rt.length;vt++){var yt=Rt[vt];Ot===yt.xref&&It===yt.yref&&(pt?gt=Z(pt=wt(pt,yt,!!yt.subtract)):(pt=[yt],gt=O(yt)))}return gt}function zt(Rt,Ot){for(var It=[],gt=Rt._fullLayout,pt=gt.selections,vt=pt.length,yt=0;yt<vt;yt++)if(!Ot||yt===gt._activeSelectionIndex){var Yt=pt[yt];if(Yt){var Oe,Ae,je,Ze,Lr,Qt=Yt.xref,le=Yt.yref,he=C(Rt,Qt,"x"),ke=C(Rt,le,"y");if("rect"===Yt.type){Lr=[];var fe=ae(he,Yt.x0),Ve=ae(he,Yt.x1),He=ae(ke,Yt.y0),wr=ae(ke,Yt.y1);Lr=[[fe,He],[fe,wr],[Ve,wr],[Ve,He]],Oe=Math.min(fe,Ve),Ae=Math.max(fe,Ve),je=Math.min(He,wr),Ze=Math.max(He,wr),Lr.xmin=Oe,Lr.xmax=Ae,Lr.ymin=je,Lr.ymax=Ze,Lr.xref=Qt,Lr.yref=le,Lr.subtract=!1,Lr.isRect=!0,It.push(Lr)}else if("path"===Yt.type)for(var ar=Yt.path.split("Z"),ie=[],ne=0;ne<ar.length;ne++){var ve=ar[ne];if(ve){var xe=u.extractPathCoords(ve+="Z",y.paramIsX,"raw"),Te=u.extractPathCoords(ve,y.paramIsY,"raw");Oe=1/0,Ae=-1/0,je=1/0,Ze=-1/0,Lr=[];for(var be=0;be<xe.length;be++){var Pe=ae(he,xe[be]),Be=ae(ke,Te[be]);Lr.push([Pe,Be]),Oe=Math.min(Pe,Oe),Ae=Math.max(Pe,Ae),je=Math.min(Be,je),Ze=Math.max(Be,Ze)}Lr.xmin=Oe,Lr.xmax=Ae,Lr.ymin=je,Lr.ymax=Ze,Lr.xref=Qt,Lr.yref=le,Lr.subtract=qt(Lr,ie),ie.push(Lr),It.push(Lr)}}}}return It}function qt(Rt,Ot){for(var It=!1,gt=0;gt<Ot.length;gt++)for(var pt=Ot[gt],vt=0;vt<Rt.length;vt++)if(g(Rt[vt],pt)){It=!It;break}return It}function ae(Rt,Ot){return"date"===Rt.type&&(Ot=Ot.replace("_"," ")),"log"===Rt.type?Rt.c2p(Ot):Rt.r2p(Ot,null,Rt.calendar)}function oe(Rt){for(var Ot=Rt.length,It=[],gt=0;gt<Ot;gt++){var pt=Rt[gt];It=(It=It.concat(pt)).concat([pt[0]])}return function pe(Rt){return Rt.isRect=5===Rt.length&&Rt[0][0]===Rt[4][0]&&Rt[0][1]===Rt[4][1]&&Rt[0][0]===Rt[1][0]&&Rt[2][0]===Rt[3][0]&&Rt[0][1]===Rt[3][1]&&Rt[1][1]===Rt[2][1]||Rt[0][1]===Rt[1][1]&&Rt[2][1]===Rt[3][1]&&Rt[0][0]===Rt[3][0]&&Rt[1][0]===Rt[2][0],Rt.isRect&&(Rt.xmin=Math.min(Rt[0][0],Rt[2][0]),Rt.xmax=Math.max(Rt[0][0],Rt[2][0]),Rt.ymin=Math.min(Rt[0][1],Rt[2][1]),Rt.ymax=Math.max(Rt[0][1],Rt[2][1])),Rt}(It)}function ye(Rt){return function(Ot,It){for(var gt,pt,vt=0;vt<Rt.length;vt++){var yt=Rt[vt],Yt=yt._id,Qt=Yt.charAt(0);if(It.isRect){gt||(gt={});var le=It[Qt+"min"],he=It[Qt+"max"];void 0!==le&&void 0!==he&&(gt[Yt]=[z(yt,le),z(yt,he)].sort(S))}else pt||(pt={}),pt[Yt]=It.map(U(yt))}gt&&(Ot.range=gt),pt&&(Ot.lassoPoints=pt)}}function Ct(Rt,Ot){Ot&&(Ot.selections=(Rt.layout||{}).selections||[]),Rt.emit("plotly_selected",Ot)}function Et(Rt){Rt.emit("plotly_deselect",null)}tt.exports={reselect:Pt,prepSelect:function rt(Rt,Ot,It,gt,pt){var vt=!Q(gt),yt=r(pt),Yt=f(pt),Qt=s(pt),le=a(pt),he=c(pt),Oe="drawcircle"===pt,Ae="drawline"===pt||Oe,je=gt.gd,Ze=je._fullLayout,Lr=he&&"immediate"===Ze.newselection.mode&&vt,fe=Ze._zoomlayer,Ve=gt.element.getBoundingClientRect(),He=gt.plotinfo,wr=G(He),ar=Ot-Ve.left,ie=It-Ve.top;Ze._calcInverseTransform(je);var Ht,Nt,Se,Le,We,rr,or,ne=m.apply3DTransform(Ze._invTransform)(ar,ie),ve=Ze._invScaleX,xe=Ze._invScaleY,Te=ar=ne[0],be=ie=ne[1],Pe="M"+ar+","+ie,Be=gt.xaxes[0],Qe=gt.yaxes[0],Ke=Be._length,tr=Qe._length,vr=Rt.altKey&&!(a(pt)&&Qt);H(Rt,je,gt),yt&&(Ht=k([[ar,ie]],D.BENDPX));var qe=fe.selectAll("path.select-outline-"+He.id).data([1]),De=le?Ze.newshape:Ze.newselection;le&&(gt.hasText=De.label.text||De.label.texttemplate);var sr=le&&!Qt?De.fillcolor:"rgba(0,0,0,0)",gr=De.line.color||(vt?E.contrast(je._fullLayout.plot_bgcolor):"#7f7f7f");qe.enter().append("path").attr("class","select-outline select-outline-"+He.id).style({opacity:le?De.opacity/2:1,"stroke-dasharray":P(De.line.dash,De.line.width),"stroke-width":De.line.width+"px","shape-rendering":"crispEdges"}).call(E.stroke,gr).call(E.fill,sr).attr("fill-rule","evenodd").classed("cursor-move",!!le).attr("transform",wr).attr("d",Pe+"Z");var dr=fe.append("path").attr("class","zoombox-corners").style({fill:E.background,stroke:E.defaultLine,"stroke-width":1}).attr("transform",wr).attr("d","M0,0Z");if(le&&gt.hasText){var Pr=fe.select(".label-temp");Pr.empty()&&(Pr=fe.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var qr=Ze._uid+D.SELECTID,Er=[],Zr=nt(je,gt.xaxes,gt.yaxes,gt.subplot);Lr&&!Rt.shiftKey&&(gt._clearSubplotSelections=function(){if(vt){var zr=Be._id,Pn=Qe._id;_t(je,zr,Pn,Zr);for(var An=(je.layout||{}).selections||[],lr=[],yr=!1,Fr=0;Fr<An.length;Fr++){var Br=Ze.selections[Fr];Br.xref!==zr||Br.yref!==Pn?lr.push(An[Fr]):yr=!0}yr&&(je._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",je,{selections:lr}))}});var rn=function Fe(Rt){return Rt.plotinfo.fillRangeItems||ye(Rt.xaxes.concat(Rt.yaxes))}(gt);gt.moveFn=function(zr,Pn){gt._clearSubplotSelections&&(gt._clearSubplotSelections(),gt._clearSubplotSelections=void 0),Te=Math.max(0,Math.min(Ke,ve*zr+ar)),be=Math.max(0,Math.min(tr,xe*Pn+ie));var An=Math.abs(Te-ar),lr=Math.abs(be-ie);if(Yt){var yr,Fr,Br;if(he){var _r=Ze.selectdirection;switch(yr="any"===_r?lr<Math.min(.6*An,N)?"h":An<Math.min(.6*lr,N)?"v":"d":_r){case"h":Fr=Oe?tr/2:0,Br=tr;break;case"v":Fr=Oe?Ke/2:0,Br=Ke}}if(le)switch(Ze.newshape.drawdirection){case"vertical":yr="h",Fr=Oe?tr/2:0,Br=tr;break;case"horizontal":yr="v",Fr=Oe?Ke/2:0,Br=Ke;break;case"ortho":An<lr?(yr="h",Fr=ie,Br=be):(yr="v",Fr=ar,Br=Te);break;default:yr="d"}"h"===yr?((Le=Ae?o(Oe,[Te,Fr],[Te,Br]):[[ar,Fr],[ar,Br],[Te,Br],[Te,Fr]]).xmin=Ae?Te:Math.min(ar,Te),Le.xmax=Ae?Te:Math.max(ar,Te),Le.ymin=Math.min(Fr,Br),Le.ymax=Math.max(Fr,Br),dr.attr("d","M"+Le.xmin+","+(ie-N)+"h-4v"+2*N+"h4ZM"+(Le.xmax-1)+","+(ie-N)+"h4v"+2*N+"h-4Z")):"v"===yr?((Le=Ae?o(Oe,[Fr,be],[Br,be]):[[Fr,ie],[Fr,be],[Br,be],[Br,ie]]).xmin=Math.min(Fr,Br),Le.xmax=Math.max(Fr,Br),Le.ymin=Ae?be:Math.min(ie,be),Le.ymax=Ae?be:Math.max(ie,be),dr.attr("d","M"+(ar-N)+","+Le.ymin+"v-4h"+2*N+"v4ZM"+(ar-N)+","+(Le.ymax-1)+"v4h"+2*N+"v-4Z")):"d"===yr&&((Le=Ae?o(Oe,[ar,ie],[Te,be]):[[ar,ie],[ar,be],[Te,be],[Te,ie]]).xmin=Math.min(ar,Te),Le.xmax=Math.max(ar,Te),Le.ymin=Math.min(ie,be),Le.ymax=Math.max(ie,be),dr.attr("d","M0,0Z"))}else yt&&(Ht.addPt([Te,be]),Le=Ht.filtered);if(gt.selectionDefs&&gt.selectionDefs.length?(Se=wt(gt.mergedPolygons,Le,vr),Le.subtract=vr,Nt=Z(gt.selectionDefs.concat([Le]))):(Se=[Le],Nt=O(Le)),v(Ut(Se,Qt),qe,gt),he){var xn,dn=Pt(je,!1),hn=dn.eventData?dn.eventData.points.slice():[];dn=Pt(je,!1,Nt,Zr,gt),Nt=dn.selectionTesters,or=dn.eventData,xn=Ht?Ht.filtered:oe(Se),n.throttle(qr,D.SELECTDELAY,function(){for(var En=(Er=Gt(Nt,Zr)).slice(),Vn=0;Vn<hn.length;Vn++){for(var Gn=hn[Vn],ia=!1,Kn=0;Kn<En.length;Kn++)if(En[Kn].curveNumber===Gn.curveNumber&&En[Kn].pointNumber===Gn.pointNumber){ia=!0;break}ia||En.push(Gn)}En.length&&(or||(or={}),or.points=En),rn(or,xn),function Zt(Rt,Ot){Rt.emit("plotly_selecting",Ot)}(je,or)})}},gt.clickFn=function(zr,Pn){if(dr.remove(),je._fullLayout._activeShapeIndex>=0)je._fullLayout._deactivateShape(je);else if(!le){var An=Ze.clickmode;n.done(qr).then(function(){if(n.clear(qr),2===zr){for(qe.remove(),We=0;We<Zr.length;We++)(rr=Zr[We])._module.selectPoints(rr,!1);if(Ft(je,Zr),_(gt),Et(je),Zr.length){var lr=Zr[0].xaxis,yr=Zr[0].yaxis;if(lr&&yr){for(var Fr=[],Br=je._fullLayout.selections,_r=0;_r<Br.length;_r++){var dn=Br[_r];!dn||(dn.xref!==lr._id||dn.yref!==yr._id)&&Fr.push(dn)}Fr.length<Br.length&&(je._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",je,{selections:Fr}))}}}else An.indexOf("select")>-1&&it(Pn,je,gt.xaxes,gt.yaxes,gt.subplot,gt,qe),"event"===An&&Ct(je,void 0);l.click(je,Pn)}).catch(m.error)}},gt.doneFn=function(){dr.remove(),n.done(qr).then(function(){n.clear(qr),!Lr&&Le&&gt.selectionDefs&&(Le.subtract=vr,gt.selectionDefs.push(Le),gt.mergedPolygons.length=0,[].push.apply(gt.mergedPolygons,Se)),(Lr||le)&&_(gt,Lr),gt.doneFnCompleted&&gt.doneFnCompleted(Er),he&&Ct(je,or)}).catch(m.error)}},clearOutline:w,clearSelectionsCache:_,selectOnClick:it}},89827:function(tt,W,t){"use strict";var A=t(50215),g=t(41940),i=t(82196).line,P=t(79952).P,E=t(1426).extendFlat,l=t(44467).templatedArray,e=(t(24695),t(5386).R),r=t(37281);tt.exports=l("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:E({},A.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:E({},A.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:E({},i.color,{editType:"arraydraw"}),width:E({},i.width,{editType:"calc+arraydraw"}),dash:E({},P,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:e({},{keys:Object.keys(r)}),font:g({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(tt,W,t){"use strict";var A=t(71828),g=t(89298),i=t(21459),P=t(30477);function l(r){return x(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function x(r,f,a,s,c,u){var y=r/2,v=u;if("pixel"===f){var w=c?P.extractPathCoords(c,u?i.paramIsY:i.paramIsX):[a,s],d=A.aggNums(Math.max,null,w),o=A.aggNums(Math.min,null,w),h=o<0?Math.abs(o)+y:y,M=d>0?d+y:y;return{ppad:y,ppadplus:v?h:M,ppadminus:v?M:h}}return{ppad:y}}function e(r,f,a,s,c){var u="category"===r.type||"multicategory"===r.type?r.r2c:r.d2c;if(void 0!==f)return[u(f),u(a)];if(s){var d,h,M,T,y=1/0,v=-1/0,w=s.match(i.segmentRE);for("date"===r.type&&(u=P.decodeDate(u)),d=0;d<w.length;d++)void 0!==(h=c[w[d].charAt(0)].drawn)&&(M=w[d].substr(1).match(i.paramRE))&&!(M.length<h)&&((T=u(M[h]))<y&&(y=T),T>v&&(v=T));if(v>=y)return[y,v]}}tt.exports=function(f){var r,s=A.filterVisible(f._fullLayout.shapes);if(s.length&&f._fullData.length)for(var c=0;c<s.length;c++){var u=s[c];u._extremes={};var y,v,w=g.getRefType(u.xref),d=g.getRefType(u.yref);if("paper"!==u.xref&&"domain"!==w){var o="pixel"===u.xsizemode?u.xanchor:u.x0,h="pixel"===u.xsizemode?u.xanchor:u.x1;(v=e(y=g.getFromId(f,u.xref),o,h,u.path,i.paramIsX))&&(u._extremes[y._id]=g.findExtremes(y,v,x((r=u).line.width,r.xsizemode,r.x0,r.x1,r.path,!1)))}if("paper"!==u.yref&&"domain"!==d){var M="pixel"===u.ysizemode?u.yanchor:u.y0,T="pixel"===u.ysizemode?u.yanchor:u.y1;(v=e(y=g.getFromId(f,u.yref),M,T,u.path,i.paramIsY))&&(u._extremes[y._id]=g.findExtremes(y,v,l(u)))}}}},21459:function(tt){"use strict";tt.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(tt,W,t){"use strict";var A=t(71828),g=t(89298),i=t(85501),P=t(89827),E=t(30477);function x(e,r,f){function a(ut,J){return A.coerce(e,r,P,ut,J)}if(a("visible")){var c=a("path"),y=a("type",c?"path":"rect"),v="path"!==y;v&&delete r.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule"),a("line.width")&&(a("line.color"),a("line.dash"));for(var d=a("xsizemode"),o=a("ysizemode"),h=["x","y"],M=0;M<2;M++){var b,n,C,T=h[M],L=T+"anchor",m="x"===T?d:o,S={_fullLayout:f},p=g.coerceRef(e,r,S,T,void 0,"paper");if("range"===g.getRefType(p)?((b=g.getFromId(S,p))._shapeIndices.push(r._index),C=E.rangeToShapePosition(b),n=E.shapePositionToRange(b)):n=C=A.identity,v){var k=T+"0",O=T+"1",B=e[k],z=e[O];e[k]=n(e[k],!0),e[O]=n(e[O],!0),"pixel"===m?(a(k,0),a(O,10)):(g.coercePosition(r,S,a,p,k,.25),g.coercePosition(r,S,a,p,O,.75)),r[k]=C(r[k]),r[O]=C(r[O]),e[k]=B,e[O]=z}if("pixel"===m){var U=e[L];e[L]=n(e[L],!0),g.coercePosition(r,S,a,p,L,.25),r[L]=C(r[L]),e[L]=U}}v&&A.noneOrAll(e,r,["x0","x1","y0","y1"]);var Q,rt,G="line"===y;if(v&&(Q=a("label.texttemplate")),Q||(rt=a("label.text")),rt||Q){a("label.textangle");var it=a("label.textposition",G?"middle":"middle center");a("label.xanchor"),a("label.yanchor",function l(e,r){return e?"bottom":-1!==r.indexOf("top")?"top":-1!==r.indexOf("bottom")?"bottom":"middle"}(G,it)),a("label.padding"),A.coerceFont(a,"label.font",f.font)}}}tt.exports=function(r,f){i(r,f,{name:"shapes",handleItemDefaults:x})}},48100:function(tt,W,t){"use strict";var A=t(71828),g=t(89298),i=t(63893),P=t(91424),E=t(60165).readPaths,l=t(30477),x=l.getPathString,e=t(37281),r=t(18783).FROM_TL;tt.exports=function(c,u,y,v){if(v.selectAll(".shape-label").remove(),y.label.text||y.label.texttemplate){var w;if(y.label.texttemplate){var d={};if("path"!==y.type){var o=g.getFromId(c,y.xref),h=g.getFromId(c,y.yref);for(var M in e){var T=e[M](y,o,h);void 0!==T&&(d[M]=T)}}w=A.texttemplateStringForShapes(y.label.texttemplate,{},c._fullLayout._d3locale,d)}else w=y.label.text;var C,p,F,D,L={"data-index":u},m=y.label.font,n=v.append("g").attr(L).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(w);if(y.path){var N=x(c,y),k=E(N,c);C=1/0,F=1/0,p=-1/0,D=-1/0;for(var O=0;O<k.length;O++)for(var B=0;B<k[O].length;B++)for(var z=k[O][B],U=1;U<z.length;U+=2){var G=z[U],Q=z[U+1];C=Math.min(C,G),p=Math.max(p,G),F=Math.min(F,Q),D=Math.max(D,Q)}}else{var rt=g.getFromId(c,y.xref),it=g.getRefType(y.xref),ut=g.getFromId(c,y.yref),J=g.getRefType(y.yref),j=l.getDataToPixel(c,rt,!1,it),Z=l.getDataToPixel(c,ut,!0,J);C=j(y.x0),p=j(y.x1),F=Z(y.y0),D=Z(y.y1)}var H=y.label.textangle;"auto"===H&&(H="line"===y.type?function f(s,c,u,y){var w;return w=Math.abs(u-s),-180/Math.PI*Math.atan2(u>=s?c-y:y-c,w)}(C,F,p,D):0),n.call(function(et){return et.call(P.font,m).attr({}),i.convertToTspans(et,c),et});var at=function a(s,c,u,y,v,w,d){var C,p,F,D,o=v.label.textposition,h=v.label.textangle,M=v.label.padding,T=v.type,L=Math.PI/180*w,m=Math.sin(L),S=Math.cos(L),b=v.label.xanchor,n=v.label.yanchor;if("line"===T){"start"===o?(C=s,p=c):"end"===o?(C=u,p=y):(C=(s+u)/2,p=(c+y)/2),"auto"===b&&(b="start"===o?"auto"===h?u>s?"left":u<s?"right":"center":u>s?"right":u<s?"left":"center":"end"===o?"auto"===h?u>s?"right":u<s?"left":"center":u>s?"left":u<s?"right":"center":"center");var k={bottom:-1,middle:0,top:1};if("auto"===h){var O=k[n];F=-M*m*O,D=M*S*O}else F=M*{left:1,center:0,right:-1}[b],D=M*k[n];C+=F,p+=D}else F=M+3,-1!==o.indexOf("right")?(C=Math.max(s,u)-F,"auto"===b&&(b="right")):-1!==o.indexOf("left")?(C=Math.min(s,u)+F,"auto"===b&&(b="left")):(C=(s+u)/2,"auto"===b&&(b="center")),p=-1!==o.indexOf("top")?Math.min(c,y):-1!==o.indexOf("bottom")?Math.max(c,y):(c+y)/2,D=M,"bottom"===n?p-=D:"top"===n&&(p+=D);var U=r[n],G=v.label.font.size,Q=d.height;return{textx:C+(Q*U-G)*m,texty:p+-(Q*U-G)*S,xanchor:b}}(C,F,p,D,y,H,P.bBox(n.node())),_=at.textx,K=at.texty;n.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[at.xanchor],y:K,x:_,transform:"rotate("+H+","+_+","+K+")"}).call(i.positionText,_,K)}}},42359:function(tt,W,t){"use strict";var g=t(71828).strTranslate,i=t(28569),P=t(64505),E=P.drawMode,l=P.selectMode,x=t(73972),e=t(7901),r=t(89995),f=r.i000,a=r.i090,s=r.i180,c=r.i270,y=t(51873).clearOutlineControllers,v=t(60165),w=v.pointsOnRectangle,d=v.pointsOnEllipse,o=v.writePaths,h=t(90551).newShapes,M=t(90551).createShapeObj,T=t(35855),L=t(48100);function S(n,C){var N,k,O,D=n.length;return O=n[N=(C+1)%D][2],(k=n[N][1])===n[C][1]&&O===n[C][2]&&(k=n[N=(C+2)%D][1],O=n[N][2]),[N,k,O]}tt.exports=function n(C,p,F,D){D||(D=0);var N=F.gd;function k(){n(C,p,F,D++),(d(C[0])||F.hasText)&&O({redrawing:!0})}function O(wt){var St={};void 0!==F.isActiveShape&&(F.isActiveShape=!1,St=h(p,F)),void 0!==F.isActiveSelection&&(F.isActiveSelection=!1,St=T(p,F),N._fullLayout._reselect=!0),Object.keys(St).length&&x.call((wt||{}).redrawing?"relayout":"_guiRelayout",N,St)}var rt,it,ut,J,j,z=N._fullLayout._zoomlayer,U=F.dragmode,G=E(U),Q=l(U);if((G||Q)&&(N._fullLayout._outlining=!0),y(N),p.attr("d",o(C)),D||!F.isActiveShape&&!F.isActiveSelection||(j=function m(n,C){for(var p=0;p<C.length;p++){var F=C[p];n[p]=[];for(var D=0;D<F.length;D++){n[p][D]=[];for(var N=0;N<F[D].length;N++)n[p][D][N]=F[D][N]}}return n}([],C),function st(wt){rt=[];for(var St=0;St<C.length;St++){var Ut=C[St],Gt=w(Ut),Pt=!Gt&&d(Ut);rt[St]=[];for(var Vt=Ut.length,te=0;te<Vt;te++)if("Z"!==Ut[te][0]&&(!Pt||te===f||te===a||te===s||te===c)){var kt,_t=Gt&&F.isActiveSelection;_t&&(kt=S(Ut,te));var zt=Ut[te][1],qt=Ut[te][2],ae=wt.append(_t?"rect":"circle").attr("data-i",St).attr("data-j",te).style({fill:e.background,stroke:e.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(_t){var oe=kt[1]-zt,pe=kt[2]-qt,ye=pe?5:Math.max(Math.min(25,Math.abs(oe)-5),5),Fe=oe?5:Math.max(Math.min(25,Math.abs(pe)-5),5);ae.classed(pe?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",ye).attr("height",Fe).attr("x",zt-ye/2).attr("y",qt-Fe/2).attr("transform",g(oe/2,pe/2))}else ae.classed("cursor-grab",!0).attr("r",5).attr("cx",zt).attr("cy",qt);rt[St][te]={element:ae.node(),gd:N,prepFn:at,doneFn:K,clickFn:et},i.init(rt[St][te])}}}(z.append("g").attr("class","outline-controllers")),function Mt(){if(it=[],C.length){it[0]={element:p[0][0],gd:N,prepFn:bt,doneFn:Dt,clickFn:Ft},i.init(it[0])}}()),G&&F.hasText){var H=z.select(".label-temp"),X=M(p,F,F.dragmode);L(N,"label-temp",X,H)}function at(wt){ut=+wt.srcElement.getAttribute("data-i"),J=+wt.srcElement.getAttribute("data-j"),rt[ut][J].moveFn=_}function _(wt,St){if(C.length){var Ut=j[ut][J][1],Gt=j[ut][J][2],Pt=C[ut],Vt=Pt.length;if(w(Pt)){var te=wt,_t=St;F.isActiveSelection&&(S(Pt,J)[1]===Pt[J][1]?_t=0:te=0);for(var zt=0;zt<Vt;zt++)if(zt!==J){var qt=Pt[zt];qt[1]===Pt[J][1]&&(qt[1]=Ut+te),qt[2]===Pt[J][2]&&(qt[2]=Gt+_t)}if(Pt[J][1]=Ut+te,Pt[J][2]=Gt+_t,!w(Pt))for(var ae=0;ae<Vt;ae++)for(var oe=0;oe<Pt[ae].length;oe++)Pt[ae][oe]=j[ut][ae][oe]}else Pt[J][1]=Ut+wt,Pt[J][2]=Gt+St;k()}}function K(){O()}function et(wt,St){if(2===wt){ut=+St.srcElement.getAttribute("data-i"),J=+St.srcElement.getAttribute("data-j");var Ut=C[ut];!w(Ut)&&!d(Ut)&&function nt(){if(C.length&&C[ut]&&C[ut].length){for(var wt=[],St=0;St<C[ut].length;St++)St!==J&&wt.push(C[ut][St]);wt.length>1&&(2!==wt.length||"Z"!==wt[1][0])&&(0===J&&(wt[0][0]="M"),C[ut]=wt,k(),O())}}()}}function Tt(wt,St){(function dt(wt,St){if(C.length)for(var Ut=0;Ut<C.length;Ut++)for(var Gt=0;Gt<C[Ut].length;Gt++)for(var Pt=0;Pt+2<C[Ut][Gt].length;Pt+=2)C[Ut][Gt][Pt+1]=j[Ut][Gt][Pt+1]+wt,C[Ut][Gt][Pt+2]=j[Ut][Gt][Pt+2]+St})(wt,St),k()}function bt(wt){(ut=+wt.srcElement.getAttribute("data-i"))||(ut=0),it[ut].moveFn=Tt}function Dt(){O()}function Ft(wt){2===wt&&function b(n){if(l(n._fullLayout.dragmode)){y(n);var C=n._fullLayout._activeSelectionIndex,p=(n.layout||{}).selections||[];if(C<p.length){for(var F=[],D=0;D<p.length;D++)D!==C&&F.push(p[D]);delete n._fullLayout._activeSelectionIndex;var N=n._fullLayout.selections[C];n._fullLayout._deselect={xref:N.xref,yref:N.yref},x.call("_guiRelayout",n,{selections:F})}}}(N)}}},34031:function(tt,W,t){"use strict";var A=t(39898),g=t(73972),i=t(71828),P=t(89298),E=t(60165).readPaths,l=t(42359),x=t(48100),e=t(51873).clearOutlineControllers,r=t(7901),f=t(91424),a=t(44467).arrayEditor,s=t(28569),c=t(6964),u=t(21459),y=t(30477),v=y.getPathString;function w(n){var C=n._fullLayout;for(var p in C._shapeUpperLayer.selectAll("path").remove(),C._shapeLowerLayer.selectAll("path").remove(),C._shapeUpperLayer.selectAll("text").remove(),C._shapeLowerLayer.selectAll("text").remove(),C._plots){var F=C._plots[p].shapelayer;F&&(F.selectAll("path").remove(),F.selectAll("text").remove())}for(var D=0;D<C.shapes.length;D++)C.shapes[D].visible&&h(n,D)}function d(n){return!!n._fullLayout._outlining}function o(n){return!n._context.edits.shapePosition}function h(n,C){n._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+C+'"]').remove();var p=y.makeShapesOptionsAndPlotinfo(n,C),F=p.options,D=p.plotinfo;F._input&&!1!==F.visible&&function k(O){var B=v(n,F),z={"data-index":C,"fill-rule":F.fillrule,d:B},U=F.opacity,G=F.fillcolor,Q=F.line.width?F.line.color:"rgba(0,0,0,0)",rt=F.line.width,it=F.line.dash;!rt&&!0===F.editable&&(rt=5,it="solid");var ut="Z"!==B[B.length-1],J=o(n)&&F.editable&&n._fullLayout._activeShapeIndex===C;J&&(G=ut?"rgba(0,0,0,0)":n._fullLayout.activeshape.fillcolor,U=n._fullLayout.activeshape.opacity);var H,j=O.append("g").classed("shape-group",!0).attr({"data-index":C}),Z=j.append("path").attr(z).style("opacity",U).call(r.stroke,Q).call(r.fill,G).call(f.dashLine,it,rt);if(M(j,n,F),x(n,C,F,j),(J||n._context.edits.shapePosition)&&(H=a(n.layout,"shapes",F)),J){Z.style({cursor:"move"});var X={element:Z.node(),plotinfo:D,gd:n,editHelpers:H,hasText:F.label.text||F.label.texttemplate,isActiveShape:!0},at=E(B,n);l(at,Z,X)}else n._context.edits.shapePosition?function T(n,C,p,F,D,N){var rt,it,ut,J,j,Z,H,X,at,_,K,nt,et,st,dt,te,k=10,O=10,B="pixel"===p.xsizemode,z="pixel"===p.ysizemode,U="line"===p.type,G="path"===p.type,Q=N.modifyItem,Tt=A.select(C.node().parentNode),bt=P.getFromId(n,p.xref),Dt=P.getRefType(p.xref),Ft=P.getFromId(n,p.yref),Mt=P.getRefType(p.yref),wt=y.getDataToPixel(n,bt,!1,Dt),St=y.getDataToPixel(n,Ft,!0,Mt),Ut=y.getPixelToData(n,bt,!1,Dt),Gt=y.getPixelToData(n,Ft,!0,Mt),Pt=_t(),Vt={element:Pt.node(),gd:n,prepFn:qt,doneFn:ae,clickFn:oe};function _t(){return U?kt():C}function kt(){var Et=10,Rt=Math.max(p.line.width,Et),Ot=D.append("g").attr("data-index",F).attr("drag-helper",!0);Ot.append("path").attr("d",C.attr("d")).style({cursor:"move","stroke-width":Rt,"stroke-opacity":"0"});var It={"fill-opacity":"0"},gt=Math.max(Rt/2,Et);return Ot.append("circle").attr({"data-line-point":"start-point",cx:B?wt(p.xanchor)+p.x0:wt(p.x0),cy:z?St(p.yanchor)-p.y0:St(p.y0),r:gt}).style(It).classed("cursor-grab",!0),Ot.append("circle").attr({"data-line-point":"end-point",cx:B?wt(p.xanchor)+p.x1:wt(p.x1),cy:z?St(p.yanchor)-p.y1:St(p.y1),r:gt}).style(It).classed("cursor-grab",!0),Ot}function zt(Et){if(d(n))te=null;else if(U)te="path"===Et.target.tagName?"move":"start-point"===Et.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var Rt=Vt.element.getBoundingClientRect(),Ot=Rt.right-Rt.left,It=Rt.bottom-Rt.top,vt=!G&&Ot>k&&It>O&&!Et.shiftKey?s.getCursor((Et.clientX-Rt.left)/Ot,1-(Et.clientY-Rt.top)/It):"move";c(C,vt),te=vt.split("-")[0]}}function qt(Et){d(n)||(B&&(j=wt(p.xanchor)),z&&(Z=St(p.yanchor)),"path"===p.type?dt=p.path:(rt=B?p.x0:wt(p.x0),it=z?p.y0:St(p.y0),ut=B?p.x1:wt(p.x1),J=z?p.y1:St(p.y1)),rt<ut?(at=rt,et="x0",_=ut,st="x1"):(at=ut,et="x1",_=rt,st="x0"),!z&&it<J||z&&it>J?(H=it,K="y0",X=J,nt="y1"):(H=J,K="y1",X=it,nt="y0"),zt(Et),Fe(D,p),Ct(C,p,n),Vt.moveFn="move"===te?pe:ye,Vt.altKey=Et.altKey)}function ae(){d(n)||(c(C),Zt(D),M(C,n,p),g.call("_guiRelayout",n,N.getUpdateObj()))}function oe(){d(n)||Zt(D)}function pe(Et,Rt){if("path"===p.type){var Ot=function(pt){return pt},It=Ot,gt=Ot;B?Q("xanchor",p.xanchor=Ut(j+Et)):(It=function(vt){return Ut(wt(vt)+Et)},bt&&"date"===bt.type&&(It=y.encodeDate(It))),z?Q("yanchor",p.yanchor=Gt(Z+Rt)):(gt=function(vt){return Gt(St(vt)+Rt)},Ft&&"date"===Ft.type&&(gt=y.encodeDate(gt))),Q("path",p.path=L(dt,It,gt))}else B?Q("xanchor",p.xanchor=Ut(j+Et)):(Q("x0",p.x0=Ut(rt+Et)),Q("x1",p.x1=Ut(ut+Et))),z?Q("yanchor",p.yanchor=Gt(Z+Rt)):(Q("y0",p.y0=Gt(it+Rt)),Q("y1",p.y1=Gt(J+Rt)));C.attr("d",v(n,p)),Fe(D,p),x(n,F,p,Tt)}function ye(Et,Rt){if(G){var Ot=function(fe){return fe},It=Ot,gt=Ot;B?Q("xanchor",p.xanchor=Ut(j+Et)):(It=function(Ve){return Ut(wt(Ve)+Et)},bt&&"date"===bt.type&&(It=y.encodeDate(It))),z?Q("yanchor",p.yanchor=Gt(Z+Rt)):(gt=function(Ve){return Gt(St(Ve)+Rt)},Ft&&"date"===Ft.type&&(gt=y.encodeDate(gt))),Q("path",p.path=L(dt,It,gt))}else if(U){if("resize-over-start-point"===te){var pt=rt+Et,vt=z?it-Rt:it+Rt;Q("x0",p.x0=B?pt:Ut(pt)),Q("y0",p.y0=z?vt:Gt(vt))}else if("resize-over-end-point"===te){var yt=ut+Et,Yt=z?J-Rt:J+Rt;Q("x1",p.x1=B?yt:Ut(yt)),Q("y1",p.y1=z?Yt:Gt(Yt))}}else{var Qt=function(fe){return-1!==te.indexOf(fe)},le=Qt("n"),he=Qt("s"),ke=Qt("w"),Oe=Qt("e"),Ae=le?H+Rt:H,je=he?X+Rt:X,Ze=ke?at+Et:at,Lr=Oe?_+Et:_;z&&(le&&(Ae=H-Rt),he&&(je=X-Rt)),(!z&&je-Ae>O||z&&Ae-je>O)&&(Q(K,p[K]=z?Ae:Gt(Ae)),Q(nt,p[nt]=z?je:Gt(je))),Lr-Ze>k&&(Q(et,p[et]=B?Ze:Ut(Ze)),Q(st,p[st]=B?Lr:Ut(Lr)))}C.attr("d",v(n,p)),Fe(D,p),x(n,F,p,Tt)}function Fe(Et,Rt){function Ot(){var It="path"!==Rt.type,gt=Et.selectAll(".visual-cue").data([0]),pt=1;gt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":pt}).classed("visual-cue",!0);var vt=wt(B?Rt.xanchor:i.midRange(It?[Rt.x0,Rt.x1]:y.extractPathCoords(Rt.path,u.paramIsX))),yt=St(z?Rt.yanchor:i.midRange(It?[Rt.y0,Rt.y1]:y.extractPathCoords(Rt.path,u.paramIsY)));vt=y.roundPositionForSharpStrokeRendering(vt,pt),yt=y.roundPositionForSharpStrokeRendering(yt,pt),gt.attr("d",B&&z?"M"+(vt-1-pt)+","+(yt-1-pt)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":B?"M"+(vt-1-pt)+","+(yt-9-pt)+"v18 h2 v-18 Z":"M"+(vt-9-pt)+","+(yt-1-pt)+"h18 v2 h-18 Z")}(B||z)&&Ot()}function Zt(Et){Et.selectAll(".visual-cue").remove()}function Ct(Et,Rt,Ot){var It=Rt.xref,gt=Rt.yref,pt=P.getFromId(Ot,It),vt=P.getFromId(Ot,gt),yt="";"paper"!==It&&!pt.autorange&&(yt+=It),"paper"!==gt&&!vt.autorange&&(yt+=gt),f.setClipUrl(Et,yt?"clip"+Ot._fullLayout._uid+yt:null,Ot)}s.init(Vt),Pt.node().onmousemove=zt}(n,Z,F,C,O,H):!0===F.editable&&Z.style("pointer-events",ut||r.opacity(G)*U<=.5?"stroke":"all");Z.node().addEventListener("click",function(){return function m(n,C){if(o(n)){var F=+C.node().getAttribute("data-index");if(F>=0){if(F===n._fullLayout._activeShapeIndex)return void S(n);n._fullLayout._activeShapeIndex=F,n._fullLayout._deactivateShape=S,w(n)}}}(n,Z)})}("below"!==F.layer?n._fullLayout._shapeUpperLayer:"paper"===F.xref||"paper"===F.yref?n._fullLayout._shapeLowerLayer:D._hadPlotinfo?(D.mainplotinfo||D).shapelayer:n._fullLayout._shapeLowerLayer)}function M(n,C,p){var F=(p.xref+p.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");f.setClipUrl(n,F?"clip"+C._fullLayout._uid+F:null,C)}function L(n,C,p){return n.replace(u.segmentRE,function(F){var D=0,N=F.charAt(0),k=u.paramIsX[N],O=u.paramIsY[N],B=u.numParams[N];return N+F.substr(1).replace(u.paramRE,function(U){return D>=B||(k[D]?U=C(U):O[D]&&(U=p(U)),D++),U})})}function S(n){o(n)&&n._fullLayout._activeShapeIndex>=0&&(e(n),delete n._fullLayout._activeShapeIndex,w(n))}tt.exports={draw:w,drawOne:h,eraseActiveShape:function b(n){if(o(n)){e(n);var C=n._fullLayout._activeShapeIndex,p=(n.layout||{}).shapes||[];if(C<p.length){for(var F=[],D=0;D<p.length;D++)D!==C&&F.push(p[D]);delete n._fullLayout._activeShapeIndex,g.call("_guiRelayout",n,{shapes:F})}}},drawLabel:x}},29241:function(tt,W,t){"use strict";var A=t(41940),g=t(79952).P,i=t(1426).extendFlat,P=t(5386).R,E=t(37281);tt.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:i({},g,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},label:{text:{valType:"string",dflt:"",editType:"none"},texttemplate:P({newshape:!0,editType:"none"},{keys:Object.keys(E)}),font:A({editType:"none"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"none"},textangle:{valType:"angle",dflt:"auto",editType:"none"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"none"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"none"},padding:{valType:"number",dflt:3,min:0,editType:"none"},editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},89995:function(tt){"use strict";tt.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(tt,W,t){"use strict";var A=t(7901),g=t(71828);tt.exports=function(E,l,x){x("newshape.drawdirection"),x("newshape.layer"),x("newshape.fillcolor"),x("newshape.fillrule"),x("newshape.opacity"),x("newshape.line.width")&&(x("newshape.line.color",A.contrast((E||{}).plot_bgcolor||"#FFF")),x("newshape.line.dash"));var f="drawline"===E.dragmode,a=x("newshape.label.text"),s=x("newshape.label.texttemplate");if(a||s){x("newshape.label.textangle");var c=x("newshape.label.textposition",f?"middle":"middle center");x("newshape.label.xanchor"),x("newshape.label.yanchor",function i(P,E){return P?"bottom":-1!==E.indexOf("top")?"top":-1!==E.indexOf("bottom")?"bottom":"middle"}(f,c)),x("newshape.label.padding"),g.coerceFont(x,"newshape.label.font",l.font)}x("activeshape.fillcolor"),x("activeshape.opacity")}},60165:function(tt,W,t){"use strict";var A=t(95616),g=t(89995),i=g.CIRCLE_SIDES,P=g.SQRT2,E=t(75549),l=E.p2r,x=E.r2p,e=[0,3,4,5,6,1,2],r=[0,3,4,1,2];function f(s,c){return Math.abs(s-c)<=1e-6}function a(s,c){var u=c[1]-s[1],y=c[2]-s[2];return Math.sqrt(u*u+y*y)}W.writePaths=function(s){var c=s.length;if(!c)return"M0,0Z";for(var u="",y=0;y<c;y++)for(var v=s[y].length,w=0;w<v;w++){var d=s[y][w][0];if("Z"===d)u+="Z";else for(var o=s[y][w].length,h=0;h<o;h++){var M=h;"Q"===d||"S"===d?M=r[h]:"C"===d&&(M=e[h]),u+=s[y][w][M],h>0&&h<o-1&&(u+=",")}}return u},W.readPaths=function(s,c,u,y){var h,L,m,v=A(s),w=[],d=-1,M=0,T=0,S=function(){L=M,m=T};S();for(var b=0;b<v.length;b++){var n=[],N=v[b][0],k=N;switch(N){case"M":d++,w[d]=[],n.push([k,M=+v[b][1],T=+v[b][2]]),S();break;case"Q":case"S":n.push([k,M=+v[b][3],T=+v[b][4],+v[b][1],+v[b][2]]);break;case"C":n.push([k,M=+v[b][5],T=+v[b][6],+v[b][1],+v[b][2],+v[b][3],+v[b][4]]);break;case"T":case"L":n.push([k,M=+v[b][1],T=+v[b][2]]);break;case"H":n.push([k="L",M=+v[b][1],T]);break;case"V":n.push([k="L",M,T=+v[b][1]]);break;case"A":k="L";var O=+v[b][1],B=+v[b][2];+v[b][4]||(O=-O,B=-B);var z=M-O,U=T;for(h=1;h<=i/2;h++){var G=2*Math.PI*h/i;n.push([k,z+O*Math.cos(G),U+B*Math.sin(G)])}break;case"Z":(M!==L||T!==m)&&n.push([k,M=L,T=m])}for(var Q=(u||{}).domain,rt=c._fullLayout._size,it=u&&"pixel"===u.xsizemode,ut=u&&"pixel"===u.ysizemode,J=!1===y,j=0;j<n.length;j++){for(h=0;h+2<7;h+=2){var Z=n[j][h+1],H=n[j][h+2];void 0===Z||void 0===H||(M=Z,T=H,u&&(u.xaxis&&u.xaxis.p2r?(J&&(Z-=u.xaxis._offset),Z=it?x(u.xaxis,u.xanchor)+Z:l(u.xaxis,Z)):(J&&(Z-=rt.l),Q?Z=Q.x[0]+Z/rt.w:Z/=rt.w),u.yaxis&&u.yaxis.p2r?(J&&(H-=u.yaxis._offset),H=ut?x(u.yaxis,u.yanchor)-H:l(u.yaxis,H)):(J&&(H-=rt.t),H=Q?Q.y[1]-H/rt.h:1-H/rt.h)),n[j][h+1]=Z,n[j][h+2]=H)}w[d].push(n[j].slice())}}return w},W.pointsOnRectangle=function(s){if(5!==s.length)return!1;for(var u=1;u<3;u++){if(!f(s[0][u]-s[1][u],s[3][u]-s[2][u]))return!1;if(!f(s[0][u]-s[3][u],s[1][u]-s[2][u]))return!1}return!(!f(s[0][1],s[1][1])&&!f(s[0][1],s[3][1])||!(a(s[0],s[1])*a(s[0],s[3])))},W.pointsOnEllipse=function(s){var c=s.length;if(c!==i+1)return!1;c=i;for(var u=0;u<c;u++){var y=(2*c-u)%c,v=(c/2+y)%c;if(!f(a(s[u],s[(c/2+u)%c]),a(s[y],s[v])))return!1}return!0},W.handleEllipse=function(s,c,u){if(!s)return[c,u];var y=W.ellipseOver({x0:c[0],y0:c[1],x1:u[0],y1:u[1]}),v=(y.x1+y.x0)/2,w=(y.y1+y.y0)/2,d=(y.x1-y.x0)/2,o=(y.y1-y.y0)/2;d||(d=o/=P),o||(o=d/=P);for(var h=[],M=0;M<i;M++){var T=2*M*Math.PI/i;h.push([v+d*Math.cos(T),w+o*Math.sin(T)])}return h},W.ellipseOver=function(s){var c=s.x0,u=s.y0,y=s.x1,v=s.y1,w=y-c,d=v-u,o=((c-=w)+y)/2,h=((u-=d)+v)/2;return{x0:o-(w*=P),y0:h-(d*=P),x1:o+w,y1:h+d}},W.fixDatesForPaths=function(s,c,u){var y="date"===c.type,v="date"===u.type;if(!y&&!v)return s;for(var w=0;w<s.length;w++)for(var d=0;d<s[w].length;d++)for(var o=0;o+2<s[w][d].length;o+=2)y&&(s[w][d][o+1]=s[w][d][o+1].replace(" ","_")),v&&(s[w][d][o+2]=s[w][d][o+2].replace(" ","_"));return s}},90551:function(tt,W,t){"use strict";var A=t(64505),g=A.drawMode,i=A.openMode,P=t(89995),E=P.i000,l=P.i090,x=P.i180,e=P.i270,r=P.cos45,f=P.sin45,a=t(75549),s=a.p2r,c=a.r2p,y=t(51873).clearOutline,v=t(60165),w=v.readPaths,d=v.writePaths,o=v.ellipseOver,h=v.fixDatesForPaths;function T(L,m,S){var Q,n=m.gd,C=L[0][0].getAttribute("d"),p=n._fullLayout.newshape,F=m.plotinfo,D=m.isActiveShape,N=F.xaxis,k=F.yaxis,O=!!F.domain||!F.xaxis,B=!!F.domain||!F.yaxis,z=i(S),U=w(C,n,F,D),G={editable:!0,label:p.label,xref:O?"paper":N._id,yref:B?"paper":k._id,layer:p.layer,opacity:p.opacity,line:{color:p.line.color,width:p.line.width,dash:p.line.dash}};if(z||(G.fillcolor=p.fillcolor,G.fillrule=p.fillrule),1===U.length&&(Q=U[0]),Q&&5===Q.length&&"drawrect"===S)G.type="rect",G.x0=Q[0][1],G.y0=Q[0][2],G.x1=Q[2][1],G.y1=Q[2][2];else if(Q&&"drawline"===S)G.type="line",G.x0=Q[0][1],G.y0=Q[0][2],G.x1=Q[1][1],G.y1=Q[1][2];else if(Q&&"drawcircle"===S){G.type="circle";var rt=Q[E][1],it=Q[l][1],ut=Q[x][1],J=Q[e][1],j=Q[E][2],Z=Q[l][2],H=Q[x][2],X=Q[e][2],at=F.xaxis&&("date"===F.xaxis.type||"log"===F.xaxis.type),_=F.yaxis&&("date"===F.yaxis.type||"log"===F.yaxis.type);at&&(rt=c(F.xaxis,rt),it=c(F.xaxis,it),ut=c(F.xaxis,ut),J=c(F.xaxis,J)),_&&(j=c(F.yaxis,j),Z=c(F.yaxis,Z),H=c(F.yaxis,H),X=c(F.yaxis,X));var K=(it+J)/2,nt=(j+H)/2,dt=o({x0:K,y0:nt,x1:K+(J-it+ut-rt)/2*r,y1:nt+(X-Z+H-j)/2*f});at&&(dt.x0=s(F.xaxis,dt.x0),dt.x1=s(F.xaxis,dt.x1)),_&&(dt.y0=s(F.yaxis,dt.y0),dt.y1=s(F.yaxis,dt.y1)),G.x0=dt.x0,G.y0=dt.y0,G.x1=dt.x1,G.y1=dt.y1}else G.type="path",N&&k&&h(U,N,k),G.path=d(U),Q=null;return G}tt.exports={newShapes:function M(L,m){if(L.length&&L[0][0]){var b=m.gd,n=m.isActiveShape,C=m.dragmode,p=(b.layout||{}).shapes||[];if(!g(C)&&void 0!==n){var F=b._fullLayout._activeShapeIndex;if(F<p.length)switch(b._fullLayout.shapes[F].type){case"rect":C="drawrect";break;case"circle":C="drawcircle";break;case"line":C="drawline";break;case"path":var D=p[F].path||"";C="Z"===D[D.length-1]?"drawclosedpath":"drawopenpath"}}var N=T(L,m,C);y(b);for(var k=m.editHelpers,O=(k||{}).modifyItem,B=[],z=0;z<p.length;z++){var U=b._fullLayout.shapes[z];if(B[z]=U._input,void 0!==n&&z===b._fullLayout._activeShapeIndex){var G=N;switch(U.type){case"line":case"rect":case"circle":O("x0",G.x0),O("x1",G.x1),O("y0",G.y0),O("y1",G.y1);break;case"path":O("path",G.path)}}}return void 0===n?(B.push(N),B):k?k.getUpdateObj():{}}},createShapeObj:T}},51873:function(tt){"use strict";tt.exports={clearOutlineControllers:function W(A){var g=A._fullLayout._zoomlayer;g&&g.selectAll(".outline-controllers").remove()},clearOutline:function t(A){var g=A._fullLayout._zoomlayer;g&&g.selectAll(".select-outline").remove(),A._fullLayout._outlining=!1}}},30477:function(tt,W,t){"use strict";var A=t(21459),g=t(71828),i=t(89298);W.rangeToShapePosition=function(E){return"log"===E.type?E.r2d:function(l){return l}},W.shapePositionToRange=function(E){return"log"===E.type?E.d2r:function(l){return l}},W.decodeDate=function(E){return function(l){return l.replace&&(l=l.replace("_"," ")),E(l)}},W.encodeDate=function(E){return function(l){return E(l).replace(" ","_")}},W.extractPathCoords=function(E,l,x){var e=[];return E.match(A.segmentRE).forEach(function(f){var a=l[f.charAt(0)].drawn;if(void 0!==a){var s=f.substr(1).match(A.paramRE);if(s&&!(s.length<a)){var c=s[a],u=x?c:g.cleanNumber(c);e.push(u)}}}),e},W.getDataToPixel=function(E,l,x,e){var f,r=E._fullLayout._size;if(l)if("domain"===e)f=function(s){return l._length*(x?1-s:s)+l._offset};else{var a=W.shapePositionToRange(l);f=function(s){return l._offset+l.r2p(a(s,!0))},"date"===l.type&&(f=W.decodeDate(f))}else f=x?function(s){return r.t+r.h*(1-s)}:function(s){return r.l+r.w*s};return f},W.getPixelToData=function(E,l,x,e){var f,r=E._fullLayout._size;if(l)if("domain"===e)f=function(s){var c=(s-l._offset)/l._length;return x?1-c:c};else{var a=W.rangeToShapePosition(l);f=function(s){return a(l.p2r(s-l._offset))}}else f=x?function(s){return 1-(s-r.t)/r.h}:function(s){return(s-r.l)/r.w};return f},W.roundPositionForSharpStrokeRendering=function(E,l){var x=1===Math.round(l%2),e=Math.round(E);return x?e+.5:e},W.makeShapesOptionsAndPlotinfo=function(E,l){var x=E._fullLayout.shapes[l]||{},e=E._fullLayout._plots[x.xref+x.yref];return e?e._hadPlotinfo=!0:(e={},x.xref&&"paper"!==x.xref&&(e.xaxis=E._fullLayout[x.xref+"axis"]),x.yref&&"paper"!==x.yref&&(e.yaxis=E._fullLayout[x.yref+"axis"])),e.xsizemode=x.xsizemode,e.ysizemode=x.ysizemode,e.xanchor=x.xanchor,e.yanchor=x.yanchor,{options:x,plotinfo:e}},W.makeSelectionsOptionsAndPlotinfo=function(E,l){var x=E._fullLayout.selections[l]||{},e=E._fullLayout._plots[x.xref+x.yref];return e?e._hadPlotinfo=!0:(e={},x.xref&&(e.xaxis=E._fullLayout[x.xref+"axis"]),x.yref&&(e.yaxis=E._fullLayout[x.yref+"axis"])),{options:x,plotinfo:e}},W.getPathString=function(E,l){var c,u,y,v,w,d,o,h,x=l.type,e=i.getRefType(l.xref),r=i.getRefType(l.yref),f=i.getFromId(E,l.xref),a=i.getFromId(E,l.yref),s=E._fullLayout._size;if(f?"domain"===e?u=function(F){return f._offset+f._length*F}:(c=W.shapePositionToRange(f),u=function(F){return f._offset+f.r2p(c(F,!0))}):u=function(F){return s.l+s.w*F},a?"domain"===r?v=function(F){return a._offset+a._length*(1-F)}:(y=W.shapePositionToRange(a),v=function(F){return a._offset+a.r2p(y(F,!0))}):v=function(F){return s.t+s.h*(1-F)},"path"===x)return f&&"date"===f.type&&(u=W.decodeDate(u)),a&&"date"===a.type&&(v=W.decodeDate(v)),function P(E,l,x){var r=E.xsizemode,f=E.ysizemode,a=E.xanchor,s=E.yanchor;return E.path.replace(A.segmentRE,function(c){var u=0,y=c.charAt(0),v=A.paramIsX[y],w=A.paramIsY[y],d=A.numParams[y],o=c.substr(1).replace(A.paramRE,function(h){return v[u]?h="pixel"===r?l(a)+Number(h):l(h):w[u]&&(h="pixel"===f?x(s)-Number(h):x(h)),++u>d&&(h="X"),h});return u>d&&(o=o.replace(/[\s,]*X.*/,""),g.log("Ignoring extra params in segment "+c)),y+o})}(l,u,v);if("pixel"===l.xsizemode){var M=u(l.xanchor);w=M+l.x0,d=M+l.x1}else w=u(l.x0),d=u(l.x1);if("pixel"===l.ysizemode){var T=v(l.yanchor);o=T-l.y0,h=T-l.y1}else o=v(l.y0),h=v(l.y1);if("line"===x)return"M"+w+","+o+"L"+d+","+h;if("rect"===x)return"M"+w+","+o+"H"+d+"V"+h+"H"+w+"Z";var L=(w+d)/2,m=(o+h)/2,S=Math.abs(L-w),b=Math.abs(m-o),n="A"+S+","+b,C=L+S+","+m;return"M"+C+n+" 0 1,1 "+L+","+(m-b)+n+" 0 0,1 "+C+"Z"}},89853:function(tt,W,t){"use strict";var A=t(34031);tt.exports={moduleType:"component",name:"shapes",layoutAttributes:t(89827),supplyLayoutDefaults:t(84726),supplyDrawNewShapeDefaults:t(45547),includeBasePlot:t(76325)("shapes"),calcAutorange:t(5627),draw:A.draw,drawOne:A.drawOne}},37281:function(tt){"use strict";function W(c,u){return u?u.d2l(c):c}function t(c,u){return u?u.l2d(c):c}function E(c,u){return W(c.x1,u)-W(c.x0,u)}function l(c,u,y){return W(c.y1,y)-W(c.y0,y)}tt.exports={x0:function A(c){return c.x0},x1:function g(c){return c.x1},y0:function i(c){return c.y0},y1:function P(c){return c.y1},slope:function s(c,u,y){return"line"!==c.type?void 0:l(c,0,y)/E(c,u)},dx:E,dy:l,width:function x(c,u){return Math.abs(E(c,u))},height:function e(c,u,y){return Math.abs(l(c,0,y))},length:function r(c,u,y){return"line"!==c.type?void 0:Math.sqrt(Math.pow(E(c,u),2)+Math.pow(l(c,0,y),2))},xcenter:function f(c,u){return t((W(c.x1,u)+W(c.x0,u))/2,u)},ycenter:function a(c,u,y){return t((W(c.y1,y)+W(c.y0,y))/2,y)}}},75067:function(tt,W,t){"use strict";var A=t(41940),g=t(35025),i=t(1426).extendDeepAll,P=t(30962).overrideAll,E=t(85594),l=t(44467).templatedArray,x=t(98292),e=l("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});tt.exports=P(l("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:e,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(g({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:E.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:A({})},font:A({}),activebgcolor:{valType:"color",dflt:x.gripBgActiveColor},bgcolor:{valType:"color",dflt:x.railBgColor},bordercolor:{valType:"color",dflt:x.railBorderColor},borderwidth:{valType:"number",min:0,dflt:x.railBorderWidth},ticklen:{valType:"number",min:0,dflt:x.tickLength},tickcolor:{valType:"color",dflt:x.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:x.minorTickLength}}),"arraydraw","from-root")},98292:function(tt){"use strict";tt.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(tt,W,t){"use strict";var A=t(71828),g=t(85501),i=t(75067),E=t(98292).name,l=i.steps;function x(r,f,a){function s(h,M){return A.coerce(r,f,i,h,M)}for(var c=g(r,f,{name:"steps",handleItemDefaults:e}),u=0,y=0;y<c.length;y++)c[y].visible&&u++;if(u<2?f.visible=!1:s("visible")){f._stepCount=u;var w=f._visibleSteps=A.filterVisible(c);(c[s("active")]||{}).visible||(f.active=w[0]._index),s("x"),s("y"),A.noneOrAll(r,f,["x","y"]),s("xanchor"),s("yanchor"),s("len"),s("lenmode"),s("pad.t"),s("pad.r"),s("pad.b"),s("pad.l"),A.coerceFont(s,"font",a.font),s("currentvalue.visible")&&(s("currentvalue.xanchor"),s("currentvalue.prefix"),s("currentvalue.suffix"),s("currentvalue.offset"),A.coerceFont(s,"currentvalue.font",f.font)),s("transition.duration"),s("transition.easing"),s("bgcolor"),s("activebgcolor"),s("bordercolor"),s("borderwidth"),s("ticklen"),s("tickwidth"),s("tickcolor"),s("minorticklen")}}function e(r,f){function a(u,y){return A.coerce(r,f,l,u,y)}if("skip"===r.method||Array.isArray(r.args)?a("visible"):f.visible=!1){a("method"),a("args");var c=a("label","step-"+f._index);a("value",c),a("execute")}}tt.exports=function(f,a){g(f,a,{name:E,handleItemDefaults:x})}},44504:function(tt,W,t){"use strict";var A=t(39898),g=t(74875),i=t(7901),P=t(91424),E=t(71828),l=E.strTranslate,x=t(63893),e=t(44467).arrayEditor,r=t(98292),f=t(18783),a=f.LINE_SPACING,s=f.FROM_TL,c=f.FROM_BR;function u(k){return r.autoMarginIdRoot+k._index}function v(k){return k._index}function w(k,O){var B=P.tester.selectAll("g."+r.labelGroupClass).data(O._visibleSteps);B.enter().append("g").classed(r.labelGroupClass,!0);var z=0,U=0;B.each(function(X){var K=M(A.select(this),{step:X},O).node();if(K){var nt=P.bBox(K);U=Math.max(U,nt.height),z=Math.max(z,nt.width)}}),B.remove();var G=O._dims={};G.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var Q=k._fullLayout._size;if(G.lx=Q.l+Q.w*O.x,G.ly=Q.t+Q.h*(1-O.y),G.outerLength="fraction"===O.lenmode?Math.round(Q.w*O.len):O.len,G.inputAreaStart=0,G.inputAreaLength=Math.round(G.outerLength-O.pad.l-O.pad.r),G.labelStride=Math.max(1,Math.ceil((z+r.labelPadding)/((G.inputAreaLength-2*r.stepInset)/(O._stepCount-1)))),G.labelHeight=U,G.currentValueMaxWidth=0,G.currentValueHeight=0,G.currentValueTotalHeight=0,G.currentValueMaxLines=1,O.currentvalue.visible){var J=P.tester.append("g");B.each(function(X){var at=o(J,O,X.label),_=at.node()&&P.bBox(at.node())||{width:0,height:0},K=x.lineCount(at);G.currentValueMaxWidth=Math.max(G.currentValueMaxWidth,Math.ceil(_.width)),G.currentValueHeight=Math.max(G.currentValueHeight,Math.ceil(_.height)),G.currentValueMaxLines=Math.max(G.currentValueMaxLines,K)}),G.currentValueTotalHeight=G.currentValueHeight+O.currentvalue.offset,J.remove()}G.height=G.currentValueTotalHeight+r.tickOffset+O.ticklen+r.labelOffset+G.labelHeight+O.pad.t+O.pad.b;var j="left";E.isRightAnchor(O)&&(G.lx-=G.outerLength,j="right"),E.isCenterAnchor(O)&&(G.lx-=G.outerLength/2,j="center");var Z="top";E.isBottomAnchor(O)&&(G.ly-=G.height,Z="bottom"),E.isMiddleAnchor(O)&&(G.ly-=G.height/2,Z="middle"),G.outerLength=Math.ceil(G.outerLength),G.height=Math.ceil(G.height),G.lx=Math.round(G.lx),G.ly=Math.round(G.ly);var H={y:O.y,b:G.height*c[Z],t:G.height*s[Z]};"fraction"===O.lenmode?(H.l=0,H.xl=O.x-O.len*s[j],H.r=0,H.xr=O.x+O.len*c[j]):(H.x=O.x,H.l=G.outerLength*s[j],H.r=G.outerLength*c[j]),g.autoMargin(k,u(O),H)}function o(k,O,B){if(O.currentvalue.visible){var U,G,z=O._dims;switch(O.currentvalue.xanchor){case"right":U=z.inputAreaLength-r.currentValueInset-z.currentValueMaxWidth,G="left";break;case"center":U=.5*z.inputAreaLength,G="middle";break;default:U=r.currentValueInset,G="left"}var Q=E.ensureSingle(k,"text",r.labelClass,function(Z){Z.attr({"text-anchor":G,"data-notex":1})}),rt=O.currentvalue.prefix?O.currentvalue.prefix:"";if("string"==typeof B)rt+=B;else{var it=O.steps[O.active].label,ut=O._gd._fullLayout._meta;ut&&(it=E.templateString(it,ut)),rt+=it}O.currentvalue.suffix&&(rt+=O.currentvalue.suffix),Q.call(P.font,O.currentvalue.font).text(rt).call(x.convertToTspans,O._gd);var J=x.lineCount(Q);return x.positionText(Q,U,(z.currentValueMaxLines+1-J)*O.currentvalue.font.size*a),Q}}function h(k,O,B){E.ensureSingle(k,"rect",r.gripRectClass,function(U){U.call(S,O,k,B).style("pointer-events","all")}).attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(i.stroke,B.bordercolor).call(i.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px")}function M(k,O,B){var z=E.ensureSingle(k,"text",r.labelClass,function(Q){Q.attr({"text-anchor":"middle","data-notex":1})}),U=O.step.label,G=B._gd._fullLayout._meta;return G&&(U=E.templateString(U,G)),z.call(P.font,B.font).text(U).call(x.convertToTspans,B._gd),z}function T(k,O){var B=E.ensureSingle(k,"g",r.labelsClass),z=O._dims,U=B.selectAll("g."+r.labelGroupClass).data(z.labelSteps);U.enter().append("g").classed(r.labelGroupClass,!0),U.exit().remove(),U.each(function(G){var Q=A.select(this);Q.call(M,G,O),P.setTranslate(Q,p(O,G.fraction),r.tickOffset+O.ticklen+O.font.size*a+r.labelOffset+z.currentValueTotalHeight)})}function L(k,O,B,z,U){var G=Math.round(z*(B._stepCount-1)),Q=B._visibleSteps[G]._index;Q!==B.active&&m(k,O,B,Q,!0,U)}function m(k,O,B,z,U,G){var Q=B.active;B.active=z,e(k.layout,r.name,B).applyUpdate("active",z);var rt=B.steps[B.active];O.call(C,B,G),O.call(o,B),k.emit("plotly_sliderchange",{slider:B,step:B.steps[B.active],interaction:U,previousActive:Q}),rt&&rt.method&&U&&(O._nextMethod?(O._nextMethod.step=rt,O._nextMethod.doCallback=U,O._nextMethod.doTransition=G):(O._nextMethod={step:rt,doCallback:U,doTransition:G},O._nextMethodRaf=window.requestAnimationFrame(function(){var it=O._nextMethod.step;!it.method||(it.execute&&g.executeAPICommand(k,it.method,it.args),O._nextMethod=null,O._nextMethodRaf=null)})))}function S(k,O,B){if(!O._context.staticPlot){var z=B.node(),U=A.select(O);k.on("mousedown",Q),k.on("touchstart",Q)}function G(){return B.data()[0]}function Q(){var rt=G();O.emit("plotly_sliderstart",{slider:rt});var it=B.select("."+r.gripRectClass);A.event.stopPropagation(),A.event.preventDefault(),it.call(i.fill,rt.activebgcolor);var ut=F(rt,A.mouse(z)[0]);function J(){var Z=G(),H=F(Z,A.mouse(z)[0]);L(O,B,Z,H,!1)}function j(){var Z=G();Z._dragging=!1,it.call(i.fill,Z.bgcolor),U.on("mouseup",null),U.on("mousemove",null),U.on("touchend",null),U.on("touchmove",null),O.emit("plotly_sliderend",{slider:Z,step:Z.steps[Z.active]})}L(O,B,rt,ut,!0),rt._dragging=!0,U.on("mousemove",J),U.on("touchmove",J),U.on("mouseup",j),U.on("touchend",j)}}function b(k,O){var B=k.selectAll("rect."+r.tickRectClass).data(O._visibleSteps),z=O._dims;B.enter().append("rect").classed(r.tickRectClass,!0),B.exit().remove(),B.attr({width:O.tickwidth+"px","shape-rendering":"crispEdges"}),B.each(function(U,G){var Q=G%z.labelStride==0,rt=A.select(this);rt.attr({height:Q?O.ticklen:O.minorticklen}).call(i.fill,O.tickcolor),P.setTranslate(rt,p(O,G/(O._stepCount-1))-.5*O.tickwidth,(Q?r.tickOffset:r.minorTickOffset)+z.currentValueTotalHeight)})}function C(k,O,B){for(var z=k.select("rect."+r.gripRectClass),U=0,G=0;G<O._stepCount;G++)if(O._visibleSteps[G]._index===O.active){U=G;break}var Q=p(O,U/(O._stepCount-1));if(!O._invokingCommand){var rt=z;B&&O.transition.duration>0&&(rt=rt.transition().duration(O.transition.duration).ease(O.transition.easing)),rt.attr("transform",l(Q-.5*r.gripWidth,O._dims.currentValueTotalHeight))}}function p(k,O){var B=k._dims;return B.inputAreaStart+r.stepInset+(B.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,O))}function F(k,O){var B=k._dims;return Math.min(1,Math.max(0,(O-r.stepInset-B.inputAreaStart)/(B.inputAreaLength-2*r.stepInset-2*B.inputAreaStart)))}function D(k,O,B){var z=B._dims,U=E.ensureSingle(k,"rect",r.railTouchRectClass,function(G){G.call(S,O,k,B).style("pointer-events","all")});U.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,r.tickOffset+B.ticklen+z.labelHeight)}).call(i.fill,B.bgcolor).attr("opacity",0),P.setTranslate(U,0,z.currentValueTotalHeight)}function N(k,O){var B=O._dims,z=B.inputAreaLength-2*r.railInset,U=E.ensureSingle(k,"rect",r.railRectClass);U.attr({width:z,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,O.bordercolor).call(i.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px"),P.setTranslate(U,r.railInset,.5*(B.inputAreaWidth-r.railWidth)+B.currentValueTotalHeight)}tt.exports=function(O){var B=O._context.staticPlot,z=O._fullLayout,U=function y(k,O){for(var B=k[r.name],z=[],U=0;U<B.length;U++){var G=B[U];!G.visible||(G._gd=O,z.push(G))}return z}(z,O),G=z._infolayer.selectAll("g."+r.containerClassName).data(U.length>0?[0]:[]);function Q(J){J._commandObserver&&(J._commandObserver.remove(),delete J._commandObserver),g.autoMargin(O,u(J))}if(G.enter().append("g").classed(r.containerClassName,!0).style("cursor",B?null:"ew-resize"),G.exit().each(function(){A.select(this).selectAll("g."+r.groupClassName).each(Q)}).remove(),0!==U.length){var rt=G.selectAll("g."+r.groupClassName).data(U,v);rt.enter().append("g").classed(r.groupClassName,!0),rt.exit().each(Q).remove();for(var it=0;it<U.length;it++)w(O,U[it]);rt.each(function(J){var j=A.select(this);(function n(k){var O=k._dims;O.labelSteps=[];for(var B=k._stepCount,z=0;z<B;z+=O.labelStride)O.labelSteps.push({fraction:z/(B-1),step:k._visibleSteps[z]})})(J),g.manageCommandObserver(O,J,J._visibleSteps,function(Z){var H=j.data()[0];H.active!==Z.index&&(H._dragging||m(O,j,H,Z.index,!1,!0))}),function d(k,O,B){(B.steps[B.active]||{}).visible||(B.active=B._visibleSteps[0]._index),O.call(o,B).call(N,B).call(T,B).call(b,B).call(D,k,B).call(h,k,B);var z=B._dims;P.setTranslate(O,z.lx+B.pad.l,z.ly+B.pad.t),O.call(C,B,!1),O.call(o,B)}(O,A.select(this),J)})}}},23243:function(tt,W,t){"use strict";var A=t(98292);tt.exports={moduleType:"component",name:A.name,layoutAttributes:t(75067),supplyLayoutDefaults:t(12343),draw:t(44504)}},92998:function(tt,W,t){"use strict";var A=t(39898),g=t(92770),i=t(74875),P=t(73972),E=t(71828),l=E.strTranslate,x=t(91424),e=t(7901),r=t(63893),f=t(37822),a=t(18783).OPPOSITE_SIDE,s=/ [XY][0-9]* /;tt.exports={draw:function c(u,y,v){var O,w=v.propContainer,d=v.propName,o=v.placeholder,h=v.traceIndex,M=v.avoid||{},T=v.attributes,L=v.transform,m=v.containerGroup,S=u._fullLayout,b=1,n=!1,C=w.title,p=(C&&C.text?C.text:"").trim(),F=C&&C.font?C.font:{},D=F.family,N=F.size,k=F.color;"title.text"===d?O="titleText":-1!==d.indexOf("axis")?O="axisTitleText":d.indexOf(!0)&&(O="colorbarTitleText");var B=u._context.edits[O];""===p?b=0:p.replace(s," % ")===o.replace(s," % ")&&(b=.2,n=!0,B||(p="")),v._meta?p=E.templateString(p,v._meta):S._meta&&(p=E.templateString(p,S._meta));var U,z=p||B;m||(m=E.ensureSingle(S._infolayer,"g","g-"+y),U=S._hColorbarMoveTitle);var G=m.selectAll("text").data(z?[0]:[]);if(G.enter().append("text"),G.text(p).attr("class",y),G.exit().remove(),!z)return m;function Q(J){E.syncOrAsync([rt,it],J)}function rt(J){var j;return!L&&U&&(L={}),L?(j="",L.rotate&&(j+="rotate("+[L.rotate,T.x,T.y]+")"),(L.offset||U)&&(j+=l(0,(L.offset||0)-(U||0)))):j=null,J.attr("transform",j),J.style({"font-family":D,"font-size":A.round(N,2)+"px",fill:e.rgb(k),opacity:b*e.opacity(k),"font-weight":i.fontWeight}).attr(T).call(r.convertToTspans,u),i.previousPromises(u)}function it(J){var j=A.select(J.node().parentNode);if(M&&M.selection&&M.side&&p){j.attr("transform",null);var Z=a[M.side],H="left"===M.side||"top"===M.side?-1:1,X=g(M.pad)?M.pad:2,at=x.bBox(j.node()),_={t:0,b:0,l:0,r:0},K=u._fullLayout._reservedMargin;for(var nt in K)for(var et in K[nt])_[et]=Math.max(_[et],K[nt][et]);var Tt=M.maxShift||H*({left:_.l,top:_.t,right:S.width-_.r,bottom:S.height-_.b}[M.side]-at[M.side]),bt=0;if(Tt<0)bt=Tt;else{var Dt=M.offsetLeft||0,Ft=M.offsetTop||0;at.left-=Dt,at.right-=Dt,at.top-=Ft,at.bottom-=Ft,M.selection.each(function(){var wt=x.bBox(this);E.bBoxIntersect(at,wt,X)&&(bt=Math.max(bt,H*(wt[M.side]-at[Z])+X))}),bt=Math.min(Tt,bt),w._titleScoot=Math.abs(bt)}if(bt>0||Tt<0){var Mt={left:[-bt,0],right:[bt,0],top:[0,-bt],bottom:[0,bt]}[M.side];j.attr("transform",l(Mt[0],Mt[1]))}}}return G.call(Q),B&&(p?G.on(".opacity",null):function ut(){b=0,n=!0,G.text(o).on("mouseover.opacity",function(){A.select(this).transition().duration(f.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){A.select(this).transition().duration(f.HIDE_PLACEHOLDER).style("opacity",0)})}(),G.call(r.makeEditable,{gd:u}).on("edit",function(J){void 0!==h?P.call("_guiRestyle",u,d,J,h):P.call("_guiRelayout",u,d,J)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Q)}).on("input",function(J){this.text(J||" ").call(r.positionText,T.x,T.y)})),G.classed("js-placeholder",n),m}}},7163:function(tt,W,t){"use strict";var A=t(41940),g=t(22399),i=t(1426).extendFlat,P=t(30962).overrideAll,E=t(35025),l=t(44467).templatedArray,x=l("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});tt.exports=P(l("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:x,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(E({editType:"arraydraw"}),{}),font:A({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:g.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(tt){"use strict";tt.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},64897:function(tt,W,t){"use strict";var A=t(71828),g=t(85501),i=t(7163),E=t(75909).name,l=i.buttons;function x(r,f,a){function s(y,v){return A.coerce(r,f,i,y,v)}!s("visible",g(r,f,{name:"buttons",handleItemDefaults:e}).length>0)||(s("active"),s("direction"),s("type"),s("showactive"),s("x"),s("y"),A.noneOrAll(r,f,["x","y"]),s("xanchor"),s("yanchor"),s("pad.t"),s("pad.r"),s("pad.b"),s("pad.l"),A.coerceFont(s,"font",a.font),s("bgcolor",a.paper_bgcolor),s("bordercolor"),s("borderwidth"))}function e(r,f){function a(c,u){return A.coerce(r,f,l,c,u)}a("visible","skip"===r.method||Array.isArray(r.args))&&(a("method"),a("args"),a("args2"),a("label"),a("execute"))}tt.exports=function(f,a){g(f,a,{name:E,handleItemDefaults:x})}},13689:function(tt,W,t){"use strict";var A=t(39898),g=t(74875),i=t(7901),P=t(91424),E=t(71828),l=t(63893),x=t(44467).arrayEditor,e=t(18783).LINE_SPACING,r=t(75909),f=t(25849);function a(p){return p._index}function c(p,F){return+p.attr(r.menuIndexAttrName)===F._index}function u(p,F,D,N,k,O,B,z){F.active=B,x(p.layout,r.name,F).applyUpdate("active",B),"buttons"===F.type?v(p,N,null,null,F):"dropdown"===F.type&&(k.attr(r.menuIndexAttrName,"-1"),y(p,N,k,O,F),z||v(p,N,k,O,F))}function y(p,F,D,N,k){var O=E.ensureSingle(F,"g",r.headerClassName,function(it){it.style("pointer-events","all")}),B=k._dims,G={y:k.pad.t,yPad:0,x:k.pad.l,xPad:0,index:0},Q={width:B.headerWidth,height:B.headerHeight};O.call(o,k,k.buttons[k.active]||r.blankHeaderOpts,p).call(n,k,G,Q),E.ensureSingle(F,"text",r.headerArrowClassName,function(it){it.attr("text-anchor","end").call(P.font,k.font).text(r.arrowSymbol[k.direction])}).attr({x:B.headerWidth-r.arrowOffsetX+k.pad.l,y:B.headerHeight/2+r.textOffsetY+k.pad.t}),O.on("click",function(){D.call(C,String(c(D,k)?-1:k._index)),v(p,F,D,N,k)}),O.on("mouseover",function(){O.call(L)}),O.on("mouseout",function(){O.call(m,k)}),P.setTranslate(F,B.lx,B.ly)}function v(p,F,D,N,k){D||(D=F).attr("pointer-events","all");var O=function s(p){return-1==+p.attr(r.menuIndexAttrName)}(D)&&"buttons"!==k.type?[]:k.buttons,B="dropdown"===k.type?r.dropdownButtonClassName:r.buttonClassName,z=D.selectAll("g."+B).data(E.filterVisible(O)),U=z.enter().append("g").classed(B,!0),G=z.exit();"dropdown"===k.type?(U.attr("opacity","0").transition().attr("opacity","1"),G.transition().attr("opacity","0").remove()):G.remove();var Q=0,rt=0,it=k._dims,ut=-1!==["up","down"].indexOf(k.direction);"dropdown"===k.type&&(ut?rt=it.headerHeight+r.gapButtonHeader:Q=it.headerWidth+r.gapButtonHeader),"dropdown"===k.type&&"up"===k.direction&&(rt=-r.gapButtonHeader+r.gapButton-it.openHeight),"dropdown"===k.type&&"left"===k.direction&&(Q=-r.gapButtonHeader+r.gapButton-it.openWidth);var J={x:it.lx+Q+k.pad.l,y:it.ly+rt+k.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},j={l:J.x+k.borderwidth,t:J.y+k.borderwidth};z.each(function(Z,H){var X=A.select(this);X.call(o,k,Z,p).call(n,k,J),X.on("click",function(){A.event.defaultPrevented||(Z.execute&&(Z.args2&&k.active===H?(u(p,k,0,F,D,N,-1),g.executeAPICommand(p,Z.method,Z.args2)):(u(p,k,0,F,D,N,H),g.executeAPICommand(p,Z.method,Z.args))),p.emit("plotly_buttonclicked",{menu:k,button:Z,active:k.active}))}),X.on("mouseover",function(){X.call(L)}),X.on("mouseout",function(){X.call(m,k),z.call(T,k)})}),z.call(T,k),ut?(j.w=Math.max(it.openWidth,it.headerWidth),j.h=J.y-j.t):(j.w=J.x-j.l,j.h=Math.max(it.openHeight,it.headerHeight)),j.direction=k.direction,N&&(z.size()?function w(p,F,D,N,k,O){var Q,rt,it,B=k.direction,U=k._dims,G=k.active;if("up"===B||"down"===B)for(rt=0,it=0;it<G;it++)rt+=U.heights[it]+r.gapButton;else for(Q=0,it=0;it<G;it++)Q+=U.widths[it]+r.gapButton;N.enable(O,Q,rt),N.hbar&&N.hbar.attr("opacity","0").transition().attr("opacity","1"),N.vbar&&N.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,N,k,j):function d(p){var F=!!p.hbar,D=!!p.vbar;F&&p.hbar.transition().attr("opacity","0").each("end",function(){F=!1,D||p.disable()}),D&&p.vbar.transition().attr("opacity","0").each("end",function(){D=!1,F||p.disable()})}(N))}function o(p,F,D,N){p.call(h,F).call(M,F,D,N)}function h(p,F){E.ensureSingle(p,"rect",r.itemRectClassName,function(N){N.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})}).call(i.stroke,F.bordercolor).call(i.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px")}function M(p,F,D,N){var k=E.ensureSingle(p,"text",r.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),O=D.label,B=N._fullLayout._meta;B&&(O=E.templateString(O,B)),k.call(P.font,F.font).text(O).call(l.convertToTspans,N)}function T(p,F){var D=F.active;p.each(function(N,k){var O=A.select(this);k===D&&F.showactive&&O.select("rect."+r.itemRectClassName).call(i.fill,r.activeColor)})}function L(p){p.select("rect."+r.itemRectClassName).call(i.fill,r.hoverColor)}function m(p,F){p.select("rect."+r.itemRectClassName).call(i.fill,F.bgcolor)}function S(p,F){var D=F._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=P.tester.selectAll("g."+r.dropdownButtonClassName).data(E.filterVisible(F.buttons));N.enter().append("g").classed(r.dropdownButtonClassName,!0);var k=-1!==["up","down"].indexOf(F.direction);N.each(function(Q,rt){var it=A.select(this);it.call(o,F,Q,p);var ut=it.select("."+r.itemTextClassName),J=ut.node()&&P.bBox(ut.node()).width,j=Math.max(J+r.textPadX,r.minWidth),Z=F.font.size*e,H=l.lineCount(ut),X=Math.max(Z*H,r.minHeight)+r.textOffsetY;X=Math.ceil(X),j=Math.ceil(j),D.widths[rt]=j,D.heights[rt]=X,D.height1=Math.max(D.height1,X),D.width1=Math.max(D.width1,j),k?(D.totalWidth=Math.max(D.totalWidth,j),D.openWidth=D.totalWidth,D.totalHeight+=X+r.gapButton,D.openHeight+=X+r.gapButton):(D.totalWidth+=j+r.gapButton,D.openWidth+=j+r.gapButton,D.totalHeight=Math.max(D.totalHeight,X),D.openHeight=D.totalHeight)}),k?D.totalHeight-=r.gapButton:D.totalWidth-=r.gapButton,D.headerWidth=D.width1+r.arrowPadX,D.headerHeight=D.height1,"dropdown"===F.type&&(k?(D.width1+=r.arrowPadX,D.totalHeight=D.height1):D.totalWidth=D.width1,D.totalWidth+=r.arrowPadX),N.remove();var O=D.totalWidth+F.pad.l+F.pad.r,B=D.totalHeight+F.pad.t+F.pad.b,z=p._fullLayout._size;D.lx=z.l+z.w*F.x,D.ly=z.t+z.h*(1-F.y);var U="left";E.isRightAnchor(F)&&(D.lx-=O,U="right"),E.isCenterAnchor(F)&&(D.lx-=O/2,U="center");var G="top";E.isBottomAnchor(F)&&(D.ly-=B,G="bottom"),E.isMiddleAnchor(F)&&(D.ly-=B/2,G="middle"),D.totalWidth=Math.ceil(D.totalWidth),D.totalHeight=Math.ceil(D.totalHeight),D.lx=Math.round(D.lx),D.ly=Math.round(D.ly),g.autoMargin(p,b(F),{x:F.x,y:F.y,l:O*({right:1,center:.5}[U]||0),r:O*({left:1,center:.5}[U]||0),b:B*({top:1,middle:.5}[G]||0),t:B*({bottom:1,middle:.5}[G]||0)})}function b(p){return r.autoMarginIdRoot+p._index}function n(p,F,D,N){N=N||{};var k=p.select("."+r.itemRectClassName),O=p.select("."+r.itemTextClassName),B=F.borderwidth,z=D.index,U=F._dims;P.setTranslate(p,B+D.x,B+D.y);var G=-1!==["up","down"].indexOf(F.direction),Q=N.height||(G?U.heights[z]:U.height1);k.attr({x:0,y:0,width:N.width||(G?U.width1:U.widths[z]),height:Q});var rt=F.font.size*e,it=l.lineCount(O);l.positionText(O,r.textOffsetX,Q/2-(it-1)*rt/2+r.textOffsetY),G?D.y+=U.heights[z]+D.yPad:D.x+=U.widths[z]+D.xPad,D.index++}function C(p,F){p.attr(r.menuIndexAttrName,F||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}tt.exports=function(F){var D=F._fullLayout,N=E.filterVisible(D[r.name]);function k(it){g.autoMargin(F,b(it))}var O=D._menulayer.selectAll("g."+r.containerClassName).data(N.length>0?[0]:[]);if(O.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),O.exit().each(function(){A.select(this).selectAll("g."+r.headerGroupClassName).each(k)}).remove(),0!==N.length){var B=O.selectAll("g."+r.headerGroupClassName).data(N,a);B.enter().append("g").classed(r.headerGroupClassName,!0);for(var z=E.ensureSingle(O,"g",r.dropdownButtonGroupClassName,function(it){it.style("pointer-events","all")}),U=0;U<N.length;U++)S(F,N[U]);var rt=new f(F,z,"updatemenus"+D._uid);B.enter().size()&&(z.node().parentNode.appendChild(z.node()),z.call(C)),B.exit().each(function(it){z.call(C),k(it)}).remove(),B.each(function(it){var ut=A.select(this),J="dropdown"===it.type?z:null;g.manageCommandObserver(F,it,it.buttons,function(j){u(F,it,0,ut,J,rt,j.index,!0)}),"dropdown"===it.type?(y(F,ut,z,rt,it),c(z,it)&&v(F,ut,z,rt,it)):v(F,ut,null,null,it)})}}},20763:function(tt,W,t){"use strict";var A=t(75909);tt.exports={moduleType:"component",name:A.name,layoutAttributes:t(7163),supplyLayoutDefaults:t(64897),draw:t(13689)}},25849:function(tt,W,t){"use strict";tt.exports=E;var A=t(39898),g=t(7901),i=t(91424),P=t(71828);function E(l,x,e){this.gd=l,this.container=x,this.id=e,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}E.barWidth=2,E.barLength=20,E.barRadius=2,E.barPad=1,E.barColor="#808BA4",E.prototype.enable=function(x,e,r){var f=this.gd._fullLayout,a=f.width,s=f.height;this.position=x;var m,S,b,n,c=this.position.l,u=this.position.w,y=this.position.t,v=this.position.h,w=this.position.direction,d="down"===w,o="left"===w,M="up"===w,T=u,L=v;!d&&!o&&!("right"===w)&&!M&&(this.position.direction="down",d=!0),d||M?(S=(m=c)+T,d?(b=y,L=(n=Math.min(b+L,s))-b):L=(n=y+L)-(b=Math.max(n-L,0))):(n=(b=y)+L,o?T=(S=c+T)-(m=Math.max(S-T,0)):(m=c,T=(S=Math.min(m+T,a))-m)),this._box={l:m,t:b,w:T,h:L};var p=u>T,F=E.barLength+2*E.barPad,D=E.barWidth+2*E.barPad,N=c,k=y+v;k+D>s&&(k=s-D);var O=this.container.selectAll("rect.scrollbar-horizontal").data(p?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(g.fill,E.barColor),p?(this.hbar=O.attr({rx:E.barRadius,ry:E.barRadius,x:N,y:k,width:F,height:D}),this._hbarXMin=N+F/2,this._hbarTranslateMax=T-F):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var B=v>L,z=E.barWidth+2*E.barPad,U=E.barLength+2*E.barPad,G=c+u,Q=y;G+z>a&&(G=a-z);var rt=this.container.selectAll("rect.scrollbar-vertical").data(B?[0]:[]);rt.exit().on(".drag",null).remove(),rt.enter().append("rect").classed("scrollbar-vertical",!0).call(g.fill,E.barColor),B?(this.vbar=rt.attr({rx:E.barRadius,ry:E.barRadius,x:G,y:Q,width:z,height:U}),this._vbarYMin=Q+U/2,this._vbarTranslateMax=L-U):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var it=this.id,ut=m-.5,J=B?S+z+.5:S+.5,j=b-.5,Z=p?n+D+.5:n+.5,H=f._topdefs.selectAll("#"+it).data(p||B?[0]:[]);if(H.exit().remove(),H.enter().append("clipPath").attr("id",it).append("rect"),p||B?(this._clipRect=H.select("rect").attr({x:Math.floor(ut),y:Math.floor(j),width:Math.ceil(J)-Math.floor(ut),height:Math.ceil(Z)-Math.floor(j)}),this.container.call(i.setClipUrl,it,this.gd),this.bg.attr({x:c,y,width:u,height:v})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),p||B){var X=A.behavior.drag().on("dragstart",function(){A.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(X);var at=A.behavior.drag().on("dragstart",function(){A.event.sourceEvent.preventDefault(),A.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));p&&this.hbar.on(".drag",null).call(at),B&&this.vbar.on(".drag",null).call(at)}this.setTranslate(e,r)},E.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},E.prototype._onBoxDrag=function(){var x=this.translateX,e=this.translateY;this.hbar&&(x-=A.event.dx),this.vbar&&(e-=A.event.dy),this.setTranslate(x,e)},E.prototype._onBoxWheel=function(){var x=this.translateX,e=this.translateY;this.hbar&&(x+=A.event.deltaY),this.vbar&&(e+=A.event.deltaY),this.setTranslate(x,e)},E.prototype._onBarDrag=function(){var x=this.translateX,e=this.translateY;if(this.hbar){var r=x+this._hbarXMin,f=r+this._hbarTranslateMax;x=(P.constrain(A.event.x,r,f)-r)/(f-r)*(this.position.w-this._box.w)}if(this.vbar){var u=e+this._vbarYMin,y=u+this._vbarTranslateMax;e=(P.constrain(A.event.y,u,y)-u)/(y-u)*(this.position.h-this._box.h)}this.setTranslate(x,e)},E.prototype.setTranslate=function(x,e){var r=this.position.w-this._box.w,f=this.position.h-this._box.h;x=P.constrain(x||0,0,r),e=P.constrain(e||0,0,f),this.translateX=x,this.translateY=e,this.container.call(i.setTranslate,this._box.l-this.position.l-x,this._box.t-this.position.t-e),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+x-.5),y:Math.floor(this.position.t+e-.5)}),this.hbar&&this.hbar.call(i.setTranslate,x+x/r*this._hbarTranslateMax,e),this.vbar&&this.vbar.call(i.setTranslate,x,e+e/f*this._vbarTranslateMax)}},18783:function(tt){"use strict";tt.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(tt){"use strict";tt.exports={axisRefDescription:function(W,t,A){return["If set to a",W,"axis id (e.g. *"+W+"* or","*"+W+"2*), the `"+W+"` position refers to a",W,"coordinate. If set to *paper*, the `"+W+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+A+"). If set to a",W,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+W+"2 domain* refers to the domain of the second",W," axis and a",W,"position of 0.5 refers to the","point between the",t,"and the",A,"of the domain of the","second",W,"axis."].join(" ")}}},22372:function(tt){"use strict";tt.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25b2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25bc"}}},31562:function(tt){"use strict";tt.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(tt){"use strict";tt.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(tt){"use strict";tt.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(tt){"use strict";tt.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},37822:function(tt){"use strict";tt.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(tt){"use strict";tt.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},32396:function(tt,W){"use strict";W.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],W.STYLE=W.CSS_DECLARATIONS.map(function(t){return t.join(": ")+"; "}).join("")},77922:function(tt,W){"use strict";W.xmlns="http://www.w3.org/2000/xmlns/",W.svg="http://www.w3.org/2000/svg",W.xlink="http://www.w3.org/1999/xlink",W.svgAttrs={xmlns:W.svg,"xmlns:xlink":W.xlink}},8729:function(tt,W,t){"use strict";W.version=t(11506).version,t(7417),t(98847);for(var A=t(73972),g=W.register=A.register,i=t(10641),P=Object.keys(i),E=0;E<P.length;E++){var l=P[E];"_"!==l.charAt(0)&&(W[l]=i[l]),g({moduleType:"apiMethod",name:l,fn:i[l]})}g(t(67368)),g([t(2199),t(30211),t(32745),t(2468),t(47322),t(89853),t(68804),t(20763),t(23243),t(13137),t(97218),t(83312),t(37369),t(21081),t(12311),t(64168)]),g([t(92177),t(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(g(window.PlotlyLocales),delete window.PlotlyLocales),W.Icons=t(24255);var x=t(30211),e=t(74875);W.Plots={resize:e.resize,graphJson:e.graphJson,sendDataToCloud:e.sendDataToCloud},W.Fx={hover:x.hover,unhover:x.unhover,loneHover:x.loneHover,loneUnhover:x.loneUnhover},W.Snapshot=t(44511),W.PlotSchema=t(86281)},24255:function(tt){"use strict";tt.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(tt,W){"use strict";W.isLeftAnchor=function(A){return"left"===A.xanchor||"auto"===A.xanchor&&A.x<=.3333333333333333},W.isCenterAnchor=function(A){return"center"===A.xanchor||"auto"===A.xanchor&&A.x>.3333333333333333&&A.x<.6666666666666666},W.isRightAnchor=function(A){return"right"===A.xanchor||"auto"===A.xanchor&&A.x>=.6666666666666666},W.isTopAnchor=function(A){return"top"===A.yanchor||"auto"===A.yanchor&&A.y>=.6666666666666666},W.isMiddleAnchor=function(A){return"middle"===A.yanchor||"auto"===A.yanchor&&A.y>.3333333333333333&&A.y<.6666666666666666},W.isBottomAnchor=function(A){return"bottom"===A.yanchor||"auto"===A.yanchor&&A.y<=.3333333333333333}},26348:function(tt,W,t){"use strict";var A=t(64872),g=A.mod,i=A.modHalf,P=Math.PI,E=2*P;function e(w){return Math.abs(w[1]-w[0])>E-1e-14}function r(w,d){return i(d-w,E)}function a(w,d){if(e(d))return!0;var o,h;d[0]<d[1]?(o=d[0],h=d[1]):(o=d[1],h=d[0]),(o=g(o,E))>(h=g(h,E))&&(h+=E);var M=g(w,E),T=M+E;return M>=o&&M<=h||T>=o&&T<=h}function c(w,d,o,h,M,T,L){M=M||0,T=T||0;var S,b,n,C,p,m=e([o,h]);function F(O,B){return[O*Math.cos(B)+M,T-O*Math.sin(B)]}m?(S=0,b=P,n=E):o<h?(S=o,n=h):(S=h,n=o),w<d?(C=w,p=d):(C=d,p=w);var k,D=Math.abs(n-S)<=P?0:1;function N(O,B,z){return"A"+[O,O]+" "+[0,D,z]+" "+F(O,B)}return m?k=null===C?"M"+F(p,S)+N(p,b,0)+N(p,n,0)+"Z":"M"+F(C,S)+N(C,b,0)+N(C,n,0)+"ZM"+F(p,S)+N(p,b,1)+N(p,n,1)+"Z":null===C?(k="M"+F(p,S)+N(p,n,0),L&&(k+="L0,0Z")):k="M"+F(C,S)+"L"+F(p,S)+N(p,n,0)+"L"+F(C,n)+N(C,S,1)+"Z",k}tt.exports={deg2rad:function l(w){return w/180*P},rad2deg:function x(w){return w/P*180},angleDelta:r,angleDist:function f(w,d){return Math.abs(r(w,d))},isFullCircle:e,isAngleInsideSector:a,isPtInsideSector:function s(w,d,o,h){return!!a(d,h)&&(o[0]<o[1]?(M=o[0],T=o[1]):(M=o[1],T=o[0]),w>=M&&w<=T);var M,T},pathArc:function u(w,d,o,h,M){return c(null,w,d,o,h,M,0)},pathSector:function y(w,d,o,h,M){return c(null,w,d,o,h,M,1)},pathAnnulus:function v(w,d,o,h,M,T){return c(w,d,o,h,M,T,1)}}},73627:function(tt,W){"use strict";var t=Array.isArray,A=ArrayBuffer,g=DataView;function i(x){return A.isView(x)&&!(x instanceof g)}function P(x){return t(x)||i(x)}function l(x,e,r){if(P(x)){if(P(x[0])){for(var f=r,a=0;a<x.length;a++)f=e(f,x[a].length);return f}return x.length}return 0}W.isTypedArray=i,W.isArrayOrTypedArray=P,W.isArray1D=function E(x){return!P(x[0])},W.ensureArray=function(x,e){return t(x)||(x=[]),x.length=e,x},W.concat=function(){var f,a,s,c,u,y,v,w,x=[],e=!0,r=0;for(s=0;s<arguments.length;s++)(y=(c=arguments[s]).length)&&(a?x.push(c):(a=c,u=y),t(c)?f=!1:(e=!1,r?f!==c.constructor&&(f=!1):f=c.constructor),r+=y);if(!r)return[];if(!x.length)return a;if(e)return a.concat.apply(a,x);if(f){for((v=new f(r)).set(a),s=0;s<x.length;s++)v.set(c=x[s],u),u+=c.length;return v}for(v=new Array(r),w=0;w<a.length;w++)v[w]=a[w];for(s=0;s<x.length;s++){for(c=x[s],w=0;w<c.length;w++)v[u+w]=c[w];u+=w}return v},W.maxRowLength=function(x){return l(x,Math.max,0)},W.minRowLength=function(x){return l(x,Math.min,1/0)}},95218:function(tt,W,t){"use strict";var A=t(92770),g=t(50606).BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;tt.exports=function(E){return"string"==typeof E&&(E=E.replace(i,"")),A(E)?Number(E):g}},33306:function(tt){"use strict";tt.exports=function(t){var A=t._fullLayout;A._glcanvas&&A._glcanvas.size()&&A._glcanvas.each(function(g){g.regl&&g.regl.clear({color:!0,depth:!0})})}},86367:function(tt){"use strict";tt.exports=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)}},96554:function(tt,W,t){"use strict";var A=t(92770),g=t(84267),i=t(9012),P=t(63282),E=t(7901),l=t(37822).DESELECTDIM,x=t(65487),e=t(30587).counter,r=t(64872).modHalf,f=t(73627).isArrayOrTypedArray;function a(s,c){var u=W.valObjectMeta[c.valType];if(c.arrayOk&&f(s))return!0;if(u.validateFunction)return u.validateFunction(s,c);var y={},v=y;return u.coerceFunction(s,{set:function(d){v=d}},y,c),v!==y}W.valObjectMeta={data_array:{coerceFunction:function(s,c,u){f(s)?c.set(s):void 0!==u&&c.set(u)}},enumerated:{coerceFunction:function(s,c,u,y){y.coerceNumber&&(s=+s),-1===y.values.indexOf(s)?c.set(u):c.set(s)},validateFunction:function(s,c){c.coerceNumber&&(s=+s);for(var u=c.values,y=0;y<u.length;y++){var v=String(u[y]);if("/"===v.charAt(0)&&"/"===v.charAt(v.length-1)){if(new RegExp(v.substr(1,v.length-2)).test(s))return!0}else if(s===u[y])return!0}return!1}},boolean:{coerceFunction:function(s,c,u){c.set(!0===s||!1===s?s:u)}},number:{coerceFunction:function(s,c,u,y){!A(s)||void 0!==y.min&&s<y.min||void 0!==y.max&&s>y.max?c.set(u):c.set(+s)}},integer:{coerceFunction:function(s,c,u,y){s%1||!A(s)||void 0!==y.min&&s<y.min||void 0!==y.max&&s>y.max?c.set(u):c.set(+s)}},string:{coerceFunction:function(s,c,u,y){c.set("string"!=typeof s?!0!==y.strict&&"number"==typeof s?String(s):u:y.noBlank&&!s?u:s)}},color:{coerceFunction:function(s,c,u){g(s).isValid()?c.set(s):c.set(u)}},colorlist:{coerceFunction:function(s,c,u){Array.isArray(s)&&s.length&&s.every(function y(v){return g(v).isValid()})?c.set(s):c.set(u)}},colorscale:{coerceFunction:function(s,c,u){c.set(P.get(s,u))}},angle:{coerceFunction:function(s,c,u){"auto"===s?c.set("auto"):A(s)?c.set(r(+s,360)):c.set(u)}},subplotid:{coerceFunction:function(s,c,u,y){var v=y.regex||e(u);"string"==typeof s&&v.test(s)?c.set(s):c.set(u)},validateFunction:function(s,c){var u=c.dflt;return s===u||"string"==typeof s&&!!e(u).test(s)}},flaglist:{coerceFunction:function(s,c,u,y){if(-1===(y.extras||[]).indexOf(s))if("string"==typeof s){for(var v=s.split("+"),w=0;w<v.length;){var d=v[w];-1===y.flags.indexOf(d)||v.indexOf(d)<w?v.splice(w,1):w++}c.set(v.length?v.join("+"):u)}else c.set(u);else c.set(s)}},any:{coerceFunction:function(s,c,u){c.set(void 0===s?u:s)}},info_array:{coerceFunction:function(s,c,u,y){function v(F,D,N){var k;return void 0===N&&(N=D.dflt),W.valObjectMeta[D.valType].coerceFunction(F,{set:function(B){k=B}},N,D),k}var w=2===y.dimensions||"1-2"===y.dimensions&&Array.isArray(s)&&Array.isArray(s[0]);if(Array.isArray(s)){var m,S,b,C,p,d=y.items,o=[],h=Array.isArray(d),M=h&&w&&Array.isArray(d[0]),T=w&&h&&!M,L=h&&!T?d.length:s.length;if(u=Array.isArray(u)?u:[],w)for(m=0;m<L;m++)for(o[m]=[],b=Array.isArray(s[m])?s[m]:[],C=T?d.length:h?d[m].length:b.length,S=0;S<C;S++)void 0!==(p=v(b[S],T?d[S]:h?d[m][S]:d,(u[m]||[])[S]))&&(o[m][S]=p);else for(m=0;m<L;m++)void 0!==(p=v(s[m],h?d[m]:d,u[m]))&&(o[m]=p);c.set(o)}else c.set(u)},validateFunction:function(s,c){if(!Array.isArray(s))return!1;var u=c.items,y=Array.isArray(u),v=2===c.dimensions;if(!c.freeLength&&s.length!==u.length)return!1;for(var w=0;w<s.length;w++)if(v){if(!Array.isArray(s[w])||!c.freeLength&&s[w].length!==u[w].length)return!1;for(var d=0;d<s[w].length;d++)if(!a(s[w][d],y?u[w][d]:u))return!1}else if(!a(s[w],y?u[w]:u))return!1;return!0}}},W.coerce=function(s,c,u,y,v){var w=x(u,y).get(),d=x(s,y),o=x(c,y),h=d.get(),M=c._template;if(void 0===h&&M&&(h=x(M,y).get(),M=0),void 0===v&&(v=w.dflt),w.arrayOk&&f(h))return o.set(h),h;var T=W.valObjectMeta[w.valType].coerceFunction;T(h,o,v,w);var L=o.get();return M&&L===v&&!a(h,w)&&(T(h=x(M,y).get(),o,v,w),L=o.get()),L},W.coerce2=function(s,c,u,y,v){var w=x(s,y),d=W.coerce(s,c,u,y,v);return null!=w.get()&&d},W.coerceFont=function(s,c,u){var y={};return y.family=s(c+".family",(u=u||{}).family),y.size=s(c+".size",u.size),y.color=s(c+".color",u.color),y},W.coercePattern=function(s,c,u,y){if(s(c+".shape")){s(c+".solidity"),s(c+".size");var d="overlay"===s(c+".fillmode");if(!y){var o=s(c+".bgcolor",d?u:void 0);s(c+".fgcolor",d?E.contrast(o):u)}s(c+".fgopacity",d?.5:1)}},W.coerceHoverinfo=function(s,c,u){var d,y=c._module.attributes,v=y.hoverinfo?y:i,w=v.hoverinfo;if(1===u._dataLength){var o="all"===w.dflt?w.flags.slice():w.dflt.split("+");o.splice(o.indexOf("name"),1),d=o.join("+")}return W.coerce(s,c,v,"hoverinfo",d)},W.coerceSelectionMarkerOpacity=function(s,c){if(s.marker){var y,v,u=s.marker.opacity;void 0!==u&&(!f(u)&&!s.selected&&!s.unselected&&(y=u,v=l*u),c("selected.marker.opacity",y),c("unselected.marker.opacity",v))}},W.validate=a},41631:function(tt,W,t){"use strict";var o,h,A=t(84096).i$,g=t(92770),i=t(47769),P=t(64872).mod,E=t(50606),l=E.BADNUM,x=E.ONEDAY,e=E.ONEHOUR,r=E.ONEMIN,f=E.ONESEC,a=E.EPOCHJD,s=t(73972),c=t(84096).g0,u=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,v=(new Date).getFullYear()-70;function w(k){return k&&s.componentsRegistry.calendars&&"string"==typeof k&&"gregorian"!==k}function M(k,O){return String(k+Math.pow(10,O)).substr(1)}W.dateTick0=function(k,O){var B=function d(k,O){return w(k)?O?s.getComponentMethod("calendars","CANONICAL_SUNDAY")[k]:s.getComponentMethod("calendars","CANONICAL_TICK")[k]:O?"2000-01-02":"2000-01-01"}(k,!!O);if(O<2)return B;var z=W.dateTime2ms(B,k);return W.ms2DateTime(z+=x*(O-1),0,k)},W.dfltRange=function(k){return w(k)?s.getComponentMethod("calendars","DFLTRANGE")[k]:["2000-01-01","2001-01-01"]},W.isJSDate=function(k){return"object"==typeof k&&null!==k&&"function"==typeof k.getTime},W.dateTime2ms=function(k,O){if(W.isJSDate(k)){var B=k.getTimezoneOffset()*r,z=(k.getUTCMinutes()-k.getMinutes())*r+(k.getUTCSeconds()-k.getSeconds())*f+(k.getUTCMilliseconds()-k.getMilliseconds());if(z){var U=3*r;B=B-U/2+P(z-B+U/2,U)}return(k=Number(k)-B)>=o&&k<=h?k:l}if("string"!=typeof k&&"number"!=typeof k)return l;k=String(k);var G=w(O),Q=k.charAt(0);G&&("G"===Q||"g"===Q)&&(k=k.substr(1),O="");var rt=G&&"chinese"===O.substr(0,7),it=k.match(rt?y:u);if(!it)return l;var ut=it[1],J=it[3]||"1",j=Number(it[5]||1),Z=Number(it[7]||0),H=Number(it[9]||0),X=Number(it[11]||0);if(G){if(2===ut.length)return l;var at;ut=Number(ut);try{var _=s.getComponentMethod("calendars","getCal")(O);if(rt){var K="i"===J.charAt(J.length-1);J=parseInt(J,10),at=_.newDate(ut,_.toMonthIndex(ut,J,K),j)}else at=_.newDate(ut,Number(J),j)}catch(et){return l}return at?(at.toJD()-a)*x+Z*e+H*r+X*f:l}ut=2===ut.length?(Number(ut)+2e3-v)%100+v:Number(ut),J-=1;var nt=new Date(Date.UTC(2e3,J,j,Z,H));return nt.setUTCFullYear(ut),nt.getUTCMonth()!==J||nt.getUTCDate()!==j?l:nt.getTime()+X*f},o=W.MIN_MS=W.dateTime2ms("-9999"),h=W.MAX_MS=W.dateTime2ms("9999-12-31 23:59:59.9999"),W.isDateTime=function(k,O){return W.dateTime2ms(k,O)!==l};var T=90*x,L=3*e,m=5*r;function S(k,O,B,z,U){if((O||B||z||U)&&(k+=" "+M(O,2)+":"+M(B,2),(z||U)&&(k+=":"+M(z,2),U))){for(var G=4;U%10==0;)G-=1,U/=10;k+="."+M(U,G)}return k}W.ms2DateTime=function(k,O,B){if("number"!=typeof k||!(k>=o&&k<=h))return l;O||(O=0);var G,Q,rt,it,ut,J,z=Math.floor(10*P(k+.05,1)),U=Math.round(k-z/10);if(w(B)){var j=Math.floor(U/x)+a,Z=Math.floor(P(k,x));try{G=s.getComponentMethod("calendars","getCal")(B).fromJD(j).formatDate("yyyy-mm-dd")}catch(H){G=c("G%Y-%m-%d")(new Date(U))}if("-"===G.charAt(0))for(;G.length<11;)G="-0"+G.substr(1);else for(;G.length<10;)G="0"+G;Q=O<T?Math.floor(Z/e):0,rt=O<T?Math.floor(Z%e/r):0,it=O<L?Math.floor(Z%r/f):0,ut=O<m?Z%f*10+z:0}else J=new Date(U),G=c("%Y-%m-%d")(J),Q=O<T?J.getUTCHours():0,rt=O<T?J.getUTCMinutes():0,it=O<L?J.getUTCSeconds():0,ut=O<m?10*J.getUTCMilliseconds()+z:0;return S(G,Q,rt,it,ut)},W.ms2DateTimeLocal=function(k){if(!(k>=o+x&&k<=h-x))return l;var O=Math.floor(10*P(k+.05,1)),B=new Date(Math.round(k-O/10));return S(A("%Y-%m-%d")(B),B.getHours(),B.getMinutes(),B.getSeconds(),10*B.getUTCMilliseconds()+O)},W.cleanDate=function(k,O,B){if(k===l)return O;if(W.isJSDate(k)||"number"==typeof k&&isFinite(k)){if(w(B))return i.error("JS Dates and milliseconds are incompatible with world calendars",k),O;if(!(k=W.ms2DateTimeLocal(+k))&&void 0!==O)return O}else if(!W.isDateTime(k,B))return i.error("unrecognized date",k),O;return k};var b=/%\d?f/g,n=/%h/g,C={1:"1",2:"1",3:"2",4:"2"};function p(k,O,B,z){k=k.replace(b,function(G){var Q=Math.min(+G.charAt(1)||6,6);return(O/1e3%1+2).toFixed(Q).substr(2).replace(/0+$/,"")||"0"});var U=new Date(Math.floor(O+.05));if(k=k.replace(n,function(){return C[B("%q")(U)]}),w(z))try{k=s.getComponentMethod("calendars","worldCalFmt")(k,O,z)}catch(G){return"Invalid"}return B(k)(U)}var F=[59,59.9,59.99,59.999,59.9999];W.formatDate=function(k,O,B,z,U,G){if(U=w(U)&&U,!O)if("y"===B)O=G.year;else if("m"===B)O=G.month;else{if("d"!==B)return function D(k,O){var B=P(k+.05,x),z=M(Math.floor(B/e),2)+":"+M(P(Math.floor(B/r),60),2);if("M"!==O){g(O)||(O=0);var G=(100+Math.min(P(k/f,60),F[O])).toFixed(O).substr(1);O>0&&(G=G.replace(/0+$/,"").replace(/[\.]$/,"")),z+=":"+G}return z}(k,B)+"\n"+p(G.dayMonthYear,k,z,U);O=G.dayMonth+"\n"+G.year}return p(O,k,z,U)};var N=3*x;W.incrementMonth=function(k,O,B){B=w(B)&&B;var z=P(k,x);if(k=Math.round(k-z),B)try{var U=Math.round(k/x)+a,G=s.getComponentMethod("calendars","getCal")(B),Q=G.fromJD(U);return O%12?G.add(Q,O,"m"):G.add(Q,O/12,"y"),(Q.toJD()-a)*x+z}catch(it){i.error("invalid ms "+k+" in calendar "+B)}var rt=new Date(k+N);return rt.setUTCMonth(rt.getUTCMonth()+O)+z-N},W.findExactDates=function(k,O){for(var Q,rt,B=0,z=0,U=0,G=0,it=w(O)&&s.getComponentMethod("calendars","getCal")(O),ut=0;ut<k.length;ut++)if(g(rt=k[ut])){if(!(rt%x))if(it)try{1===(Q=it.fromJD(rt/x+a)).day()?1===Q.month()?B++:z++:U++}catch(j){}else 1===(Q=new Date(rt)).getUTCDate()?0===Q.getUTCMonth()?B++:z++:U++}else G++;var J=k.length-G;return{exactYears:B/J,exactMonths:(z+=B)/J,exactDays:(U+=z)/J}}},24401:function(tt,W,t){"use strict";var A=t(39898),g=t(47769),i=t(35657),P=t(79576);function x(v){var w=v&&v.parentNode;w&&w.removeChild(v)}function r(v,w,d){var o="plotly.js-style-"+v,h=document.getElementById(o);h||((h=document.createElement("style")).setAttribute("id",o),h.appendChild(document.createTextNode("")),document.head.appendChild(h));var M=h.sheet;M.insertRule?M.insertRule(w+"{"+d+"}",0):M.addRule?M.addRule(w,d,0):g.warn("addStyleRule failed")}function s(v){var w=window.getComputedStyle(v,null),d=w.getPropertyValue("-webkit-transform")||w.getPropertyValue("-moz-transform")||w.getPropertyValue("-ms-transform")||w.getPropertyValue("-o-transform")||w.getPropertyValue("transform");return"none"===d?null:d.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function c(v){for(var w=[];u(v);)w.push(v),v=v.parentNode;return w}function u(v){return v&&(v instanceof Element||v instanceof HTMLElement)}tt.exports={getGraphDiv:function E(v){var w;if("string"==typeof v){if(null===(w=document.getElementById(v)))throw new Error("No DOM element with id '"+v+"' exists on the page.");return w}if(null==v)throw new Error("DOM element provided is null or undefined");return v},isPlotDiv:function l(v){var w=A.select(v);return w.node()instanceof HTMLElement&&w.size()&&w.classed("js-plotly-plot")},removeElement:x,addStyleRule:function e(v,w){r("global",v,w)},addRelatedStyleRule:r,deleteRelatedStyleRule:function f(v){var d=document.getElementById("plotly.js-style-"+v);d&&x(d)},getFullTransformMatrix:function a(v){var w=c(v),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return w.forEach(function(o){var h=s(o);if(h){var M=i.convertCssMatrix(h);d=P.multiply(d,d,M)}}),d},getElementTransformMatrix:s,getElementAndAncestors:c,equalDomRects:function y(v,w){return v&&w&&v.top===w.top&&v.left===w.left&&v.right===w.right&&v.bottom===w.bottom}}},11086:function(tt,W,t){"use strict";var A=t(15398).EventEmitter;tt.exports={init:function(i){if(i._ev instanceof A)return i;var P=new A,E=new A;return i._ev=P,i._internalEv=E,i.on=P.on.bind(P),i.once=P.once.bind(P),i.removeListener=P.removeListener.bind(P),i.removeAllListeners=P.removeAllListeners.bind(P),i._internalOn=E.on.bind(E),i._internalOnce=E.once.bind(E),i._removeInternalListener=E.removeListener.bind(E),i._removeAllInternalListeners=E.removeAllListeners.bind(E),i.emit=function(l,x){"undefined"!=typeof jQuery&&jQuery(i).trigger(l,x),P.emit(l,x),E.emit(l,x)},i},triggerHandler:function(i,P,E){var l,x;"undefined"!=typeof jQuery&&(l=jQuery(i).triggerHandler(P,E));var e=i._ev;if(!e)return l;var a,r=e._events[P];if(!r)return l;function f(s){return s.listener?(e.removeListener(P,s.listener),s.fired?void 0:(s.fired=!0,s.listener.apply(e,[E]))):s.apply(e,[E])}for(r=Array.isArray(r)?r:[r],a=0;a<r.length-1;a++)f(r[a]);return x=f(r[a]),void 0!==l?l:x},purge:function(i){return delete i._ev,delete i.on,delete i.once,delete i.removeListener,delete i.removeAllListeners,delete i.emit,delete i._ev,delete i._internalEv,delete i._internalOn,delete i._internalOnce,delete i._removeInternalListener,delete i._removeAllInternalListeners,i}}},1426:function(tt,W,t){"use strict";var A=t(41965),g=Array.isArray;function P(E,l,x,e){var a,s,c,u,y,v,r=E[0],f=E.length;if(2===f&&g(r)&&g(E[1])&&0===r.length){if(function i(E,l){var x,e;for(x=0;x<E.length;x++){if(null!==(e=E[x])&&"object"==typeof e)return!1;void 0!==e&&(l[x]=e)}return!0}(E[1],r))return r;r.splice(0,r.length)}for(var d=1;d<f;d++)for(s in a=E[d])c=r[s],u=a[s],e&&g(u)?r[s]=u:l&&u&&(A(u)||(y=g(u)))?(y?(y=!1,v=c&&g(c)?c:[]):v=c&&A(c)?c:{},r[s]=P([v,u],l,x,e)):(void 0!==u||x)&&(r[s]=u);return r}W.extendFlat=function(){return P(arguments,!1,!1,!1)},W.extendDeep=function(){return P(arguments,!0,!1,!1)},W.extendDeepAll=function(){return P(arguments,!0,!0,!1)},W.extendDeepNoArrays=function(){return P(arguments,!0,!1,!0)}},75744:function(tt){"use strict";tt.exports=function(t){for(var A={},g=[],i=0,P=0;P<t.length;P++){var E=t[P];1!==A[E]&&(A[E]=1,g[i++]=E)}return g}},76756:function(tt){"use strict";function W(g){return!0===g.visible}function t(g){var i=g[0].trace;return!0===i.visible&&0!==i._length}tt.exports=function(i){for(var P=function A(g){return Array.isArray(g)&&Array.isArray(g[0])&&g[0][0]&&g[0][0].trace}(i)?t:W,E=[],l=0;l<i.length;l++){var x=i[l];P(x)&&E.push(x)}return E}},41327:function(tt,W,t){"use strict";var A=t(39898),g=t(24138),i=t(30774),P=t(29261),E=t(85268),l=t(23389),x=t(47769),e=t(41965),r=t(65487),f=t(61082),a=Object.keys(g),s={"ISO-3":l,"USA-states":l,"country names":function c(M){for(var T=0;T<a.length;T++){var L=a[T];if(new RegExp(g[L]).test(M.trim().toLowerCase()))return L}return x.log("Unrecognized country name: "+M+"."),!1}};function v(M){var T=M.geojson,L=window.PlotlyGeoAssets||{},m="string"==typeof T?L[T]:T;return e(m)?m:(x.error("Oops ... something went wrong when fetching "+T),!1)}tt.exports={locationToFeature:function u(M,T,L){if(!T||"string"!=typeof T)return!1;var S,b,n,m=s[M](T);if(m){if("USA-states"===M)for(S=[],n=0;n<L.length;n++)(b=L[n]).properties&&b.properties.gu&&"USA"===b.properties.gu&&S.push(b);else S=L;for(n=0;n<S.length;n++)if((b=S[n]).id===m)return b;x.log(["Location with id",m,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function y(M){var b,n,C,p,T=M.geometry,L=T.coordinates,m=M.id,S=[];function F(D){for(var N=0;N<D.length-1;N++)if(D[N][0]>0&&D[N+1][0]<0)return N;return null}switch(b="RUS"===m||"FJI"===m?function(D){var N;if(null===F(D))N=D;else for(N=new Array(D.length),p=0;p<D.length;p++)N[p]=[D[p][0]<0?D[p][0]+360:D[p][0],D[p][1]];S.push(f.tester(N))}:"ATA"===m?function(D){var N=F(D);if(null===N)return S.push(f.tester(D));var k=new Array(D.length+1),O=0;for(p=0;p<D.length;p++)p>N?k[O++]=[D[p][0]+360,D[p][1]]:p===N?(k[O++]=D[p],k[O++]=[D[p][0],-90]):k[O++]=D[p];var B=f.tester(k);B.pts.pop(),S.push(B)}:function(D){S.push(f.tester(D))},T.type){case"MultiPolygon":for(n=0;n<L.length;n++)for(C=0;C<L[n].length;C++)b(L[n][C]);break;case"Polygon":for(n=0;n<L.length;n++)b(L[n])}return S},getTraceGeojson:v,extractTraceFeature:function w(M){var T=M[0].trace,L=v(T);if(!L)return!1;var b,m={},S=[];for(b=0;b<T._length;b++){var n=M[b];(n.loc||0===n.loc)&&(m[n.loc]=n)}function C(D){var N=r(D,T.featureidkey||"id").get(),k=m[N];if(k){var O=D.geometry;if("Polygon"===O.type||"MultiPolygon"===O.type){var B={type:"Feature",id:N,geometry:O,properties:{}};B.properties.ct=function d(M){var L,T=M.geometry;if("MultiPolygon"===T.type)for(var m=T.coordinates,S=0,b=0;b<m.length;b++){var n={type:"Polygon",coordinates:m[b]},C=i.default(n);C>S&&(S=C,L=n)}else L=T;return P.default(L).geometry.coordinates}(B),k.fIn=D,k.fOut=B,S.push(B)}else x.log(["Location",k.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete m[N]}switch(L.type){case"FeatureCollection":var p=L.features;for(b=0;b<p.length;b++)C(p[b]);break;case"Feature":C(L);break;default:return x.warn(["Invalid GeoJSON type",(L.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var F in m)x.log(["Location *"+F+"*","does not have a matching feature with id-key","*"+T.featureidkey+"*."].join(" "));return S},fetchTraceGeoData:function o(M){var T=window.PlotlyGeoAssets||{},L=[];function m(p){return new Promise(function(F,D){A.json(p,function(N,k){return N?(delete T[p],D(new Error(404===N.status?'GeoJSON at URL "'+p+'" does not exist.':"Unexpected error while fetching from "+p))):(T[p]=k,F(k))})})}function S(p){return new Promise(function(F,D){var N=0,k=setInterval(function(){return T[p]&&"pending"!==T[p]?(clearInterval(k),F(T[p])):N>100?(clearInterval(k),D("Unexpected error while fetching from "+p)):void N++},50)})}for(var b=0;b<M.length;b++){var C=M[b][0].trace.geojson;"string"==typeof C&&(T[C]?"pending"===T[C]&&L.push(S(C)):(T[C]="pending",L.push(m(C))))}return L},computeBbox:function h(M){return E.default(M)}}},18214:function(tt,W,t){"use strict";var A=t(50606).BADNUM;W.calcTraceToLineCoords=function(g){for(var P=g[0].trace.connectgaps,E=[],l=[],x=0;x<g.length;x++){var r=g[x].lonlat;r[0]!==A?l.push(r):!P&&l.length>0&&(E.push(l),l=[])}return l.length>0&&E.push(l),E},W.makeLine=function(g){return 1===g.length?{type:"LineString",coordinates:g[0]}:{type:"MultiLineString",coordinates:g}},W.makePolygon=function(g){if(1===g.length)return{type:"Polygon",coordinates:g};for(var i=new Array(g.length),P=0;P<g.length;P++)i[P]=[g[P]];return{type:"MultiPolygon",coordinates:i}},W.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(tt,W,t){"use strict";var P,E,l,A=t(64872).mod;function g(x,e,r,f,a,s,c,u){var y=r-x,v=a-x,w=c-a,d=f-e,o=s-e,h=u-s,M=y*h-w*d;if(0===M)return null;var T=(v*h-w*o)/M,L=(v*d-y*o)/M;return L<0||L>1||T<0||T>1?null:{x:x+y*T,y:e+d*T}}function i(x,e,r,f,a){var s=f*x+a*e;if(s<0)return f*f+a*a;if(s>r){var c=f-x,u=a-e;return c*c+u*u}var y=f*e-a*x;return y*y/r}W.segmentsIntersect=g,W.segmentDistance=function(e,r,f,a,s,c,u,y){if(g(e,r,f,a,s,c,u,y))return 0;var v=f-e,w=a-r,d=u-s,o=y-c,h=v*v+w*w,M=d*d+o*o,T=Math.min(i(v,w,h,s-e,c-r),i(v,w,h,u-e,y-r),i(d,o,M,e-s,r-c),i(d,o,M,f-s,a-c));return Math.sqrt(T)},W.getTextLocation=function(e,r,f,a){if((e!==E||a!==l)&&(P={},E=e,l=a),P[f])return P[f];var s=e.getPointAtLength(A(f-a/2,r)),c=e.getPointAtLength(A(f+a/2,r)),u=Math.atan((c.y-s.y)/(c.x-s.x)),y=e.getPointAtLength(A(f,r)),d={x:(4*y.x+s.x+c.x)/6,y:(4*y.y+s.y+c.y)/6,theta:u};return P[f]=d,d},W.clearLocationCache=function(){E=null},W.getVisibleSegment=function(e,r,f){var d,o,a=r.left,s=r.right,c=r.top,u=r.bottom,y=0,v=e.getTotalLength(),w=v;function h(T){var L=e.getPointAtLength(T);0===T?d=L:T===v&&(o=L);var m=L.x<a?a-L.x:L.x>s?L.x-s:0,S=L.y<c?c-L.y:L.y>u?L.y-u:0;return Math.sqrt(m*m+S*S)}for(var M=h(y);M;){if((y+=M+f)>w)return;M=h(y)}for(M=h(w);M;){if(y>(w-=M+f))return;M=h(w)}return{min:y,max:w,len:w-y,total:v,isClosed:0===y&&w===v&&Math.abs(d.x-o.x)<.1&&Math.abs(d.y-o.y)<.1}},W.findPointOnPath=function(e,r,f,a){for(var o,h,M,s=(a=a||{}).pathLength||e.getTotalLength(),c=a.tolerance||.001,u=a.iterationLimit||30,y=e.getPointAtLength(0)[f]>e.getPointAtLength(s)[f]?-1:1,v=0,w=0,d=s;v<u;){if(M=(h=e.getPointAtLength(o=(w+d)/2))[f]-r,Math.abs(M)<c)return h;y*M>0?d=o:w=o,v++}return h}},81697:function(tt,W,t){"use strict";var A=t(92770),g=t(84267),i=t(25075),P=t(21081),E=t(22399).defaultLine,l=t(73627).isArrayOrTypedArray,x=i(E);function r(u,y){var v=u;return v[3]*=y,v}function f(u){if(A(u))return x;var y=i(u);return y.length?y:x}function a(u){return A(u)?u:1}tt.exports={formatColor:function s(u,y,v){var T,L,m,S,b,w=u.color,d=l(w),o=l(y),h=P.extractOpts(u),M=[];if(T=void 0!==h.colorscale?P.makeColorScaleFuncFromTrace(u):f,L=d?function(C,p){return void 0===C[p]?x:i(T(C[p]))}:f,m=o?function(C,p){return void 0===C[p]?1:a(C[p])}:a,d||o)for(var n=0;n<v;n++)S=L(w,n),b=m(y,n),M[n]=r(S,b);else M=r(i(w),y);return M},parseColorScale:function c(u){var y=P.extractOpts(u),v=y.colorscale;return y.reversescale&&(v=P.flipScale(y.colorscale)),v.map(function(w){var d=w[0],h=g(w[1]).toRgb();return{index:d,rgb:[h.r,h.g,h.b,h.a]}})}}},28984:function(tt,W,t){"use strict";var A=t(23389);function g(i){return[i]}tt.exports={keyFun:function(i){return i.key},repeat:g,descend:A,wrap:g,unwrap:function(i){return i[0]}}},23389:function(tt){"use strict";tt.exports=function(t){return t}},39240:function(tt){"use strict";tt.exports=function(t,A){if(!A)return t;var g=1/Math.abs(A),i=g>1?(g*t+g*A)/g:t+A,P=String(i).length;if(P>16){var E=String(A).length;if(P>=String(t).length+E){var x=parseFloat(i).toPrecision(12);-1===x.indexOf("e+")&&(i=+x)}}return i}},71828:function(tt,W,t){"use strict";var A=t(39898),g=t(84096).g0,i=t(60721).WU,P=t(92770),E=t(50606),l=E.FP_SAFE,x=-l,e=E.BADNUM,r=tt.exports={};r.adjustFormat=function(X){return!X||/^\d[.]\df/.test(X)||/[.]\d%/.test(X)?X:"0.f"===X?"~f":/^\d%/.test(X)?"~%":/^\ds/.test(X)?"~s":!/^[~,.0$]/.test(X)&&/[&fps]/.test(X)?"~"+X:X};var f={};r.warnBadFormat=function(H){var X=String(H);f[X]||(f[X]=1,r.warn('encountered bad format: "'+X+'"'))},r.noFormat=function(H){return String(H)},r.numberFormat=function(H){var X;try{X=i(r.adjustFormat(H))}catch(at){return r.warnBadFormat(H),r.noFormat}return X},r.nestedProperty=t(65487),r.keyedContainer=t(66636),r.relativeAttr=t(6962),r.isPlainObject=t(41965),r.toLogRange=t(58163),r.relinkPrivateKeys=t(51332);var a=t(73627);r.isTypedArray=a.isTypedArray,r.isArrayOrTypedArray=a.isArrayOrTypedArray,r.isArray1D=a.isArray1D,r.ensureArray=a.ensureArray,r.concat=a.concat,r.maxRowLength=a.maxRowLength,r.minRowLength=a.minRowLength;var s=t(64872);r.mod=s.mod,r.modHalf=s.modHalf;var c=t(96554);r.valObjectMeta=c.valObjectMeta,r.coerce=c.coerce,r.coerce2=c.coerce2,r.coerceFont=c.coerceFont,r.coercePattern=c.coercePattern,r.coerceHoverinfo=c.coerceHoverinfo,r.coerceSelectionMarkerOpacity=c.coerceSelectionMarkerOpacity,r.validate=c.validate;var u=t(41631);r.dateTime2ms=u.dateTime2ms,r.isDateTime=u.isDateTime,r.ms2DateTime=u.ms2DateTime,r.ms2DateTimeLocal=u.ms2DateTimeLocal,r.cleanDate=u.cleanDate,r.isJSDate=u.isJSDate,r.formatDate=u.formatDate,r.incrementMonth=u.incrementMonth,r.dateTick0=u.dateTick0,r.dfltRange=u.dfltRange,r.findExactDates=u.findExactDates,r.MIN_MS=u.MIN_MS,r.MAX_MS=u.MAX_MS;var y=t(65888);r.findBin=y.findBin,r.sorterAsc=y.sorterAsc,r.sorterDes=y.sorterDes,r.distinctVals=y.distinctVals,r.roundUp=y.roundUp,r.sort=y.sort,r.findIndexOfMin=y.findIndexOfMin,r.sortObjectKeys=t(78607);var v=t(80038);r.aggNums=v.aggNums,r.len=v.len,r.mean=v.mean,r.median=v.median,r.midRange=v.midRange,r.variance=v.variance,r.stdev=v.stdev,r.interp=v.interp;var w=t(35657);r.init2dArray=w.init2dArray,r.transposeRagged=w.transposeRagged,r.dot=w.dot,r.translationMatrix=w.translationMatrix,r.rotationMatrix=w.rotationMatrix,r.rotationXYMatrix=w.rotationXYMatrix,r.apply3DTransform=w.apply3DTransform,r.apply2DTransform=w.apply2DTransform,r.apply2DTransform2=w.apply2DTransform2,r.convertCssMatrix=w.convertCssMatrix,r.inverseTransformMatrix=w.inverseTransformMatrix;var d=t(26348);r.deg2rad=d.deg2rad,r.rad2deg=d.rad2deg,r.angleDelta=d.angleDelta,r.angleDist=d.angleDist,r.isFullCircle=d.isFullCircle,r.isAngleInsideSector=d.isAngleInsideSector,r.isPtInsideSector=d.isPtInsideSector,r.pathArc=d.pathArc,r.pathSector=d.pathSector,r.pathAnnulus=d.pathAnnulus;var o=t(99863);r.isLeftAnchor=o.isLeftAnchor,r.isCenterAnchor=o.isCenterAnchor,r.isRightAnchor=o.isRightAnchor,r.isTopAnchor=o.isTopAnchor,r.isMiddleAnchor=o.isMiddleAnchor,r.isBottomAnchor=o.isBottomAnchor;var h=t(87642);r.segmentsIntersect=h.segmentsIntersect,r.segmentDistance=h.segmentDistance,r.getTextLocation=h.getTextLocation,r.clearLocationCache=h.clearLocationCache,r.getVisibleSegment=h.getVisibleSegment,r.findPointOnPath=h.findPointOnPath;var M=t(1426);r.extendFlat=M.extendFlat,r.extendDeep=M.extendDeep,r.extendDeepAll=M.extendDeepAll,r.extendDeepNoArrays=M.extendDeepNoArrays;var T=t(47769);r.log=T.log,r.warn=T.warn,r.error=T.error;var L=t(30587);r.counterRegex=L.counter;var m=t(79990);r.throttle=m.throttle,r.throttleDone=m.done,r.clearThrottle=m.clear;var S=t(24401);function b(H){var X={};for(var at in H)for(var _=H[at],K=0;K<_.length;K++)X[_[K]]=+at;return X}r.getGraphDiv=S.getGraphDiv,r.isPlotDiv=S.isPlotDiv,r.removeElement=S.removeElement,r.addStyleRule=S.addStyleRule,r.addRelatedStyleRule=S.addRelatedStyleRule,r.deleteRelatedStyleRule=S.deleteRelatedStyleRule,r.getFullTransformMatrix=S.getFullTransformMatrix,r.getElementTransformMatrix=S.getElementTransformMatrix,r.getElementAndAncestors=S.getElementAndAncestors,r.equalDomRects=S.equalDomRects,r.clearResponsive=t(86367),r.preserveDrawingBuffer=t(45142),r.makeTraceGroups=t(77310),r._=t(15867),r.notifier=t(75046),r.filterUnique=t(75744),r.filterVisible=t(76756),r.pushUnique=t(75138),r.increment=t(39240),r.cleanNumber=t(95218),r.ensureNumber=function(X){return P(X)?(X=Number(X))>l||X<x?e:X:e},r.isIndex=function(H,X){return!(void 0!==X&&H>=X)&&P(H)&&H>=0&&H%1==0},r.noop=t(64213),r.identity=t(23389),r.repeat=function(H,X){for(var at=new Array(X),_=0;_<X;_++)at[_]=H;return at},r.swapAttrs=function(H,X,at,_){at||(at="x"),_||(_="y");for(var K=0;K<X.length;K++){var nt=X[K],et=r.nestedProperty(H,nt.replace("?",at)),st=r.nestedProperty(H,nt.replace("?",_)),dt=et.get();et.set(st.get()),st.set(dt)}},r.raiseToTop=function(X){X.parentNode.appendChild(X)},r.cancelTransition=function(H){return H.transition().duration(0)},r.constrain=function(H,X,at){return X>at?Math.max(at,Math.min(X,H)):Math.max(X,Math.min(at,H))},r.bBoxIntersect=function(H,X,at){return H.left<=X.right+(at=at||0)&&X.left<=H.right+at&&H.top<=X.bottom+at&&X.top<=H.bottom+at},r.simpleMap=function(H,X,at,_,K){for(var nt=H.length,et=new Array(nt),st=0;st<nt;st++)et[st]=X(H[st],at,_,K);return et},r.randstr=function H(X,at,_,K){if(_||(_=16),void 0===at&&(at=24),at<=0)return"0";var st,dt,nt=Math.log(Math.pow(2,at))/Math.log(_),et="";for(st=2;nt===1/0;st*=2)nt=Math.log(Math.pow(2,at/st))/Math.log(_)*st;var bt=nt-Math.floor(nt);for(st=0;st<Math.floor(nt);st++)et=Math.floor(Math.random()*_).toString(_)+et;bt&&(dt=Math.pow(_,bt),et=Math.floor(Math.random()*dt).toString(_)+et);var Dt=parseInt(et,_);return X&&X[et]||Dt!==1/0&&Dt>=Math.pow(2,at)?K>10?(r.warn("randstr failed uniqueness"),et):H(X,at,_,(K||0)+1):et},r.OptionControl=function(H,X){H||(H={}),X||(X="opt");var at={optionList:[],_newoption:function(_){_[X]=H,at[_.name]=_,at.optionList.push(_)}};return at["_"+X]=H,at},r.smooth=function(H,X){if((X=Math.round(X)||0)<2)return H;var st,dt,Tt,bt,at=H.length,_=2*at,K=2*X-1,nt=new Array(K),et=new Array(at);for(st=0;st<K;st++)nt[st]=(1-Math.cos(Math.PI*(st+1)/X))/(2*X);for(st=0;st<at;st++){for(bt=0,dt=0;dt<K;dt++)(Tt=st+dt+1-X)<-at?Tt-=_*Math.round(Tt/_):Tt>=_&&(Tt-=_*Math.floor(Tt/_)),Tt<0?Tt=-1-Tt:Tt>=at&&(Tt=_-1-Tt),bt+=H[Tt]*nt[dt];et[st]=bt}return et},r.syncOrAsync=function(H,X,at){var _;function nt(){return r.syncOrAsync(H,X,at)}for(;H.length;)if((_=(0,H.splice(0,1)[0])(X))&&_.then)return _.then(nt);return at&&at(X)},r.stripTrailingSlash=function(H){return"/"===H.substr(-1)?H.substr(0,H.length-1):H},r.noneOrAll=function(H,X,at){if(H){var nt,_=!1,K=!0;for(nt=0;nt<at.length;nt++)null!=H[at[nt]]?_=!0:K=!1;if(_&&!K)for(nt=0;nt<at.length;nt++)H[at[nt]]=X[at[nt]]}},r.mergeArray=function(H,X,at,_){var K="function"==typeof _;if(r.isArrayOrTypedArray(H))for(var nt=Math.min(H.length,X.length),et=0;et<nt;et++){var st=H[et];X[et][at]=K?_(st):st}},r.mergeArrayCastPositive=function(H,X,at){return r.mergeArray(H,X,at,function(_){var K=+_;return isFinite(K)&&K>0?K:0})},r.fillArray=function(H,X,at,_){if(_=_||r.identity,r.isArrayOrTypedArray(H))for(var K=0;K<X.length;K++)X[K][at]=_(H[K])},r.castOption=function(H,X,at,_){_=_||r.identity;var K=r.nestedProperty(H,at).get();return r.isArrayOrTypedArray(K)?Array.isArray(X)&&r.isArrayOrTypedArray(K[X[0]])?_(K[X[0]][X[1]]):_(K[X]):K},r.extractOption=function(H,X,at,_){if(at in H)return H[at];var K=r.nestedProperty(X,_).get();return Array.isArray(K)?void 0:K},r.tagSelected=function(H,X,at){var nt,Dt,_=X.selectedpoints,K=X._indexToPoints;K&&(nt=b(K));for(var st=0;st<_.length;st++){var dt=_[st];if(r.isIndex(dt)||r.isArrayOrTypedArray(dt)&&r.isIndex(dt[0])&&r.isIndex(dt[1])){var Tt=nt?nt[dt]:dt,bt=at?at[Tt]:Tt;void 0!==(Dt=bt)&&Dt<H.length&&(H[bt].selected=1)}}},r.selIndices2selPoints=function(H){var X=H.selectedpoints,at=H._indexToPoints;if(at){for(var _=b(at),K=[],nt=0;nt<X.length;nt++){var et=X[nt];if(r.isIndex(et)){var st=_[et];r.isIndex(st)&&K.push(st)}}return K}return X},r.getTargetArray=function(H,X){var at=X.target;if("string"==typeof at&&at){var _=r.nestedProperty(H,at).get();return!!Array.isArray(_)&&_}return!!Array.isArray(at)&&at},r.minExtend=function n(H,X,at){var _={};"object"!=typeof X&&(X={});var et,st,dt,K="pieLike"===at?-1:3,nt=Object.keys(H);for(et=0;et<nt.length;et++)dt=H[st=nt[et]],"_"!==st.charAt(0)&&"function"!=typeof dt&&(_[st]="module"===st?dt:Array.isArray(dt)?"colorscale"===st||-1===K?dt.slice():dt.slice(0,K):r.isTypedArray(dt)?-1===K?dt.subarray():dt.subarray(0,K):dt&&"object"==typeof dt?n(H[st],X[st],at):dt);for(nt=Object.keys(X),et=0;et<nt.length;et++)("object"!=typeof(dt=X[st=nt[et]])||!(st in _)||"object"!=typeof _[st])&&(_[st]=dt);return _},r.titleCase=function(H){return H.charAt(0).toUpperCase()+H.substr(1)},r.containsAny=function(H,X){for(var at=0;at<X.length;at++)if(-1!==H.indexOf(X[at]))return!0;return!1},r.isIE=function(){return void 0!==window.navigator.msSaveBlob};var C=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return C.test(window.navigator.userAgent)};var p=/iPad|iPhone|iPod/;r.isIOS=function(){return p.test(window.navigator.userAgent)};var F=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var H=F.exec(window.navigator.userAgent);if(H&&2===H.length){var X=parseInt(H[1]);if(!isNaN(X))return X}return null},r.isD3Selection=function(H){return H instanceof A.selection},r.ensureSingle=function(H,X,at,_){var K=H.select(X+(at?"."+at:""));if(K.size())return K;var nt=H.append(X);return at&&nt.classed(at,!0),_&&nt.call(_),nt},r.ensureSingleById=function(H,X,at,_){var K=H.select(X+"#"+at);if(K.size())return K;var nt=H.append(X).attr("id",at);return _&&nt.call(_),nt},r.objectFromPath=function(H,X){for(var _,at=H.split("."),K=_={},nt=0;nt<at.length;nt++){var et=at[nt],st=null,dt=at[nt].match(/(.*)\[([0-9]+)\]/);dt?(st=dt[2],(_=_[et=dt[1]]=[])[st]=nt===at.length-1?X:{},_=_[st]):(_[et]=nt===at.length-1?X:{},_=_[et])}return K};var D=/^([^\[\.]+)\.(.+)?/,N=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;r.expandObjectPaths=function(H){var X,at,_,K,nt,et,st;if("object"==typeof H&&!Array.isArray(H))for(at in H)H.hasOwnProperty(at)&&((X=at.match(D))?(K=H[at],_=X[1],delete H[at],H[_]=r.extendDeepNoArrays(H[_]||{},r.objectFromPath(at,r.expandObjectPaths(K))[_])):(X=at.match(N))?(K=H[at],_=X[1],nt=parseInt(X[2]),delete H[at],H[_]=H[_]||[],"."===X[3]?(st=X[4],et=H[_][nt]=H[_][nt]||{},r.extendDeepNoArrays(et,r.objectFromPath(st,r.expandObjectPaths(K)))):H[_][nt]=r.expandObjectPaths(K)):H[at]=r.expandObjectPaths(H[at]));return H},r.numSeparate=function(H,X,at){if(at||(at=!1),"string"!=typeof X||0===X.length)throw new Error("Separator string required for formatting!");"number"==typeof H&&(H=String(H));var _=/(\d+)(\d{3})/,K=X.charAt(0),nt=X.charAt(1),et=H.split("."),st=et[0],dt=et.length>1?K+et[1]:"";if(nt&&(et.length>1||st.length>4||at))for(;_.test(st);)st=st.replace(_,"$1"+nt+"$2");return st+dt},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var k=/^\w*$/;r.templateString=function(H,X){var at={};return H.replace(r.TEMPLATE_STRING_REGEX,function(_,K){var nt;return k.test(K)?nt=X[K]:(at[K]=at[K]||r.nestedProperty(X,K).get,nt=at[K]()),r.isValidTextValue(nt)?nt:""})};var O={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return rt.apply(O,arguments)};var B={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return rt.apply(B,arguments)};var z=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function U(H){var X=H.match(z);return X?{key:X[1],op:X[2],number:Number(X[3])}:{key:H,op:null,number:null}}var G={max:10,count:0,name:"texttemplate",parseMultDiv:!0};r.texttemplateStringForShapes=function(){return rt.apply(G,arguments)};var Q=/^[:|\|]/;function rt(H,X,at){var _=this,K=arguments;X||(X={});var nt={};return H.replace(r.TEMPLATE_STRING_REGEX,function(et,st,dt){var bt="_xother"===st||"_yother"===st,Dt="_xother_"===st||"_yother_"===st,Ft="xother_"===st||"yother_"===st,Mt="xother"===st||"yother"===st||bt||Ft||Dt,wt=st;(bt||Dt)&&(wt=wt.substring(1)),(Ft||Dt)&&(wt=wt.substring(0,wt.length-1));var Pt,Vt,te,St=null,Ut=null;if(_.parseMultDiv){var Gt=U(wt);wt=Gt.key,St=Gt.op,Ut=Gt.number}if(Mt){if(void 0===(Pt=X[wt]))return""}else for(te=3;te<K.length;te++)if(Vt=K[te]){if(Vt.hasOwnProperty(wt)){Pt=Vt[wt];break}if(k.test(wt)||(Pt=r.nestedProperty(Vt,wt).get(),(Pt=nt[wt]||r.nestedProperty(Vt,wt).get())&&(nt[wt]=Pt)),void 0!==Pt)break}if(void 0!==Pt&&("*"===St&&(Pt*=Ut),"/"===St&&(Pt/=Ut)),void 0===Pt&&_)return _.count<_.max&&(r.warn("Variable '"+wt+"' in "+_.name+" could not be found!"),Pt=et),_.count===_.max&&r.warn("Too many "+_.name+" warnings - additional warnings will be suppressed"),_.count++,et;if(dt){var _t;if(":"===dt[0]&&(Pt=(_t=at?at.numberFormat:r.numberFormat)(dt.replace(Q,""))(Pt)),"|"===dt[0]){_t=at?at.timeFormat:g;var kt=r.dateTime2ms(Pt);Pt=r.formatDate(kt,dt.replace(Q,""),!1,_t)}}else{var zt=wt+"Label";X.hasOwnProperty(zt)&&(Pt=X[zt])}return Mt&&(Pt="("+Pt+")",(bt||Dt)&&(Pt=" "+Pt),(Ft||Dt)&&(Pt+=" ")),Pt})}r.subplotSort=function(H,X){for(var at=Math.min(H.length,X.length)+1,_=0,K=0,nt=0;nt<at;nt++){var et=H.charCodeAt(nt)||0,st=X.charCodeAt(nt)||0,dt=et>=48&&et<=57,Tt=st>=48&&st<=57;if(dt&&(_=10*_+et-48),Tt&&(K=10*K+st-48),!dt||!Tt){if(_!==K)return _-K;if(et!==st)return et-st}}return K-_};var J=2e9;r.seedPseudoRandom=function(){J=2e9},r.pseudoRandom=function(){var H=J;return J=(69069*J+1)%4294967296,Math.abs(J-H)<429496729?r.pseudoRandom():J/4294967296},r.fillText=function(H,X,at){var _=Array.isArray(at)?function(et){at.push(et)}:function(et){at.text=et},K=r.extractOption(H,X,"htx","hovertext");if(r.isValidTextValue(K))return _(K);var nt=r.extractOption(H,X,"tx","text");return r.isValidTextValue(nt)?_(nt):void 0},r.isValidTextValue=function(H){return H||0===H},r.formatPercent=function(H,X){X=X||0;for(var at=(Math.round(100*H*Math.pow(10,X))*Math.pow(.1,X)).toFixed(X)+"%",_=0;_<X;_++)-1!==at.indexOf(".")&&(at=(at=at.replace("0%","%")).replace(".%","%"));return at},r.isHidden=function(H){var X=window.getComputedStyle(H).display;return!X||"none"===X},r.strTranslate=function(H,X){return H||X?"translate("+H+","+X+")":""},r.strRotate=function(H){return H?"rotate("+H+")":""},r.strScale=function(H){return 1!==H?"scale("+H+")":""},r.getTextTransform=function(H){var X=H.noCenter,at=H.textX,_=H.textY,dt=H.rotate,Tt=H.scale;return Tt?Tt>1&&(Tt=1):Tt=0,r.strTranslate(H.targetX-Tt*(at+(H.anchorX||0)),H.targetY-Tt*(_+(H.anchorY||0)))+r.strScale(Tt)+(dt?"rotate("+dt+(X?"":" "+at+" "+_)+")":"")},r.setTransormAndDisplay=function(H,X){H.attr("transform",r.getTextTransform(X)),H.style("display",X.scale?null:"none")},r.ensureUniformFontSize=function(H,X){var at=r.extendFlat({},X);return at.size=Math.max(X.size,H._fullLayout.uniformtext.minsize||0),at},r.join2=function(H,X,at){var _=H.length;return _>1?H.slice(0,-1).join(X)+at+H[_-1]:H.join(X)},r.bigFont=function(H){return Math.round(1.2*H)};var j=r.getFirefoxVersion(),Z=null!==j&&j<86;r.getPositionFromD3Event=function(){return Z?[A.event.layerX,A.event.layerY]:[A.event.offsetX,A.event.offsetY]}},41965:function(tt){"use strict";tt.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t).hasOwnProperty("hasOwnProperty")}},66636:function(tt,W,t){"use strict";var A=t(65487),g=/^\w*$/;tt.exports=function(r,f,a,s){a=a||"name",s=s||"value";var c,u,y,v={};f&&f.length?(y=A(r,f),u=y.get()):u=r,f=f||"";var w={};if(u)for(c=0;c<u.length;c++)w[u[c][a]]=c;var d=g.test(s),o={set:function(h,M){var T=null===M?4:0;if(!u){if(!y||4===T)return;y.set(u=[])}var L=w[h];if(void 0===L){if(4===T)return;T|=3,w[h]=L=u.length}else M!==(d?u[L][s]:A(u[L],s).get())&&(T|=2);var m=u[L]=u[L]||{};return m[a]=h,d?m[s]=M:A(m,s).set(M),null!==M&&(T&=-5),v[L]=v[L]|T,o},get:function(h){if(u){var M=w[h];if(void 0!==M)return d?u[M][s]:A(u[M],s).get()}},rename:function(h,M){var T=w[h];return void 0===T||(v[T]=1|v[T],w[M]=T,delete w[h],u[T][a]=M),o},remove:function(h){var M=w[h];if(void 0===M)return o;var T=u[M];if(Object.keys(T).length>2)return v[M]=2|v[M],o.set(h,null);if(d){for(c=M;c<u.length;c++)v[c]=3|v[c];for(c=M;c<u.length;c++)w[u[c][a]]--;u.splice(M,1),delete w[h]}else A(T,s).set(null),v[M]=6|v[M];return o},constructUpdate:function(){for(var h,M,T={},L=Object.keys(v),m=0;m<L.length;m++)h=f+"["+(M=L[m])+"]",u[M]?(1&v[M]&&(T[h+"."+a]=u[M][a]),2&v[M]&&(T[h+"."+s]=d?4&v[M]?null:u[M][s]:4&v[M]?null:A(u[M],s).get())):T[h]=null;return T}};return o}},15867:function(tt,W,t){"use strict";var A=t(73972);tt.exports=function(i,P){for(var E=i._context.locale,l=0;l<2;l++){for(var x=i._context.locales,e=0;e<2;e++){var r=(x[E]||{}).dictionary;if(r){var f=r[P];if(f)return f}x=A.localeRegistry}var a=E.split("-")[0];if(a===E)break;E=a}return P}},47769:function(tt,W,t){"use strict";var A=t(72075).dfltConfig,g=t(75046),i=tt.exports={};i.log=function(){var P;if(A.logging>1){var E=["LOG:"];for(P=0;P<arguments.length;P++)E.push(arguments[P]);console.trace.apply(console,E)}if(A.notifyOnLogging>1){var l=[];for(P=0;P<arguments.length;P++)l.push(arguments[P]);g(l.join("<br>"),"long")}},i.warn=function(){var P;if(A.logging>0){var E=["WARN:"];for(P=0;P<arguments.length;P++)E.push(arguments[P]);console.trace.apply(console,E)}if(A.notifyOnLogging>0){var l=[];for(P=0;P<arguments.length;P++)l.push(arguments[P]);g(l.join("<br>"),"stick")}},i.error=function(){var P;if(A.logging>0){var E=["ERROR:"];for(P=0;P<arguments.length;P++)E.push(arguments[P]);console.error.apply(console,E)}if(A.notifyOnLogging>0){var l=[];for(P=0;P<arguments.length;P++)l.push(arguments[P]);g(l.join("<br>"),"stick")}}},77310:function(tt,W,t){"use strict";var A=t(39898);tt.exports=function(i,P,E){var l=i.selectAll("g."+E.replace(/\s/g,".")).data(P,function(e){return e[0].trace.uid});l.exit().remove(),l.enter().append("g").attr("class",E),l.order();var x=i.classed("rangeplot")?"nodeRangePlot3":"node3";return l.each(function(e){e[0][x]=A.select(this)}),l}},35657:function(tt,W,t){"use strict";var A=t(79576);W.init2dArray=function(g,i){for(var P=new Array(g),E=0;E<g;E++)P[E]=new Array(i);return P},W.transposeRagged=function(g){var E,l,i=0,P=g.length;for(E=0;E<P;E++)i=Math.max(i,g[E].length);var x=new Array(i);for(E=0;E<i;E++)for(x[E]=new Array(P),l=0;l<P;l++)x[E][l]=g[l][E];return x},W.dot=function(g,i){if(!g.length||!i.length||g.length!==i.length)return null;var E,l,P=g.length;if(g[0].length)for(E=new Array(P),l=0;l<P;l++)E[l]=W.dot(g[l],i);else if(i[0].length){var x=W.transposeRagged(i);for(E=new Array(x.length),l=0;l<x.length;l++)E[l]=W.dot(g,x[l])}else for(E=0,l=0;l<P;l++)E+=g[l]*i[l];return E},W.translationMatrix=function(g,i){return[[1,0,g],[0,1,i],[0,0,1]]},W.rotationMatrix=function(g){var i=g*Math.PI/180;return[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]]},W.rotationXYMatrix=function(g,i,P){return W.dot(W.dot(W.translationMatrix(i,P),W.rotationMatrix(g)),W.translationMatrix(-i,-P))},W.apply3DTransform=function(g){return function(){var i=arguments,P=1===arguments.length?i[0]:[i[0],i[1],i[2]||0];return W.dot(g,[P[0],P[1],P[2],1]).slice(0,3)}},W.apply2DTransform=function(g){return function(){var i=arguments;3===i.length&&(i=i[0]);var P=1===arguments.length?i[0]:[i[0],i[1]];return W.dot(g,[P[0],P[1],1]).slice(0,2)}},W.apply2DTransform2=function(g){var i=W.apply2DTransform(g);return function(P){return i(P.slice(0,2)).concat(i(P.slice(2,4)))}},W.convertCssMatrix=function(g){if(g){var i=g.length;if(16===i)return g;if(6===i)return[g[0],g[1],0,0,g[2],g[3],0,0,0,0,1,0,g[4],g[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},W.inverseTransformMatrix=function(g){var i=[];return A.invert(i,g),[[i[0],i[1],i[2],i[3]],[i[4],i[5],i[6],i[7]],[i[8],i[9],i[10],i[11]],[i[12],i[13],i[14],i[15]]]}},64872:function(tt){"use strict";tt.exports={mod:function W(A,g){var i=A%g;return i<0?i+g:i},modHalf:function t(A,g){return Math.abs(A)>g/2?A-Math.round(A/g)*g:A}}},65487:function(tt,W,t){"use strict";var A=t(92770),g=t(73627).isArrayOrTypedArray;function i(a,s){return function(){var u,y,v,w,d,c=a;for(w=0;w<s.length-1;w++){if(-1===(u=s[w])){for(y=!0,v=[],d=0;d<c.length;d++)v[d]=i(c[d],s.slice(w+1))(),v[d]!==v[0]&&(y=!1);return y?v[0]:v}if("number"==typeof u&&!g(c)||"object"!=typeof(c=c[u])||null===c)return}if("object"==typeof c&&null!==c&&null!==(v=c[s[w]]))return v}}tt.exports=function(s,c){if(A(c))c=String(c);else if("string"!=typeof c||"[-1]"===c.substr(c.length-4))throw"bad property string";for(var v,w,d,u=0,y=c.split(".");u<y.length;){if(v=String(y[u]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(v[1])y[u]=v[1];else{if(0!==u)throw"bad property string";y.splice(0,1)}for(w=v[2].substr(1,v[2].length-2).split("]["),d=0;d<w.length;d++)u++,y.splice(u,0,Number(w[d]))}u++}return"object"!=typeof s?function f(a,s,c){return{set:function(){throw"bad container"},get:function(){},astr:s,parts:c,obj:a}}(s,c,y):{set:l(s,y,c),get:i(s,y),astr:c,parts:y,obj:s}};var P=/(^|\.)args\[/;function E(a,s){return void 0===a||null===a&&!s.match(P)}function l(a,s,c){return function(u){var o,h,y=a,v="",w=[[a,v]],d=E(u,c);for(h=0;h<s.length-1;h++){if("number"==typeof(o=s[h])&&!g(y))throw"array index but container is not an array";if(-1===o){if(d=!e(y,s.slice(h+1),u,c))break;return}if(!r(y,o,s[h+1],d))break;if("object"!=typeof(y=y[o])||null===y)throw"container is not an object";v=x(v,o),w.push([y,v])}if(d){if(h===s.length-1&&(delete y[s[h]],Array.isArray(y)&&+s[h]==y.length-1))for(;y.length&&void 0===y[y.length-1];)y.pop()}else y[s[h]]=u}}function x(a,s){var c=s;return A(s)?c="["+s+"]":a&&(c="."+s),a+c}function e(a,s,c,u){var M,y=g(c),v=!0,w=c,d=u.replace("-1",0),o=!y&&E(c,d),h=s[0];for(M=0;M<a.length;M++)d=u.replace("-1",M),y&&(o=E(w=c[M%c.length],d)),o&&(v=!1),r(a,M,h,o)&&l(a[M],s,u.replace("-1",M))(w);return v}function r(a,s,c,u){if(void 0===a[s]){if(u)return!1;a[s]="number"==typeof c?[]:{}}return!0}},64213:function(tt){"use strict";tt.exports=function(){}},75046:function(tt,W,t){"use strict";var A=t(39898),g=t(92770),i=[];tt.exports=function(P,E){if(-1===i.indexOf(P)){i.push(P);var l=1e3;g(E)?l=E:"long"===E&&(l=3e3);var x=A.select("body").selectAll(".plotly-notifier").data([0]);x.enter().append("div").classed("plotly-notifier",!0),x.selectAll(".notifier-note").data(i).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(f){var a=A.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(r)});for(var s=a.append("p"),c=f.split(/<br\s*\/?>/g),u=0;u<c.length;u++)u&&s.append("br"),s.append("span").text(c[u]);"stick"===E?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(l).call(r)})}function r(f){f.duration(700).style("opacity",0).each("end",function(a){var s=i.indexOf(a);-1!==s&&i.splice(s,1),A.select(this).remove()})}}},39918:function(tt,W,t){"use strict";var A=t(6964),g="data-savedcursor";tt.exports=function(E,l){var x=E.attr(g);if(l){if(!x){for(var e=(E.attr("class")||"").split(" "),r=0;r<e.length;r++){var f=e[r];0===f.indexOf("cursor-")&&E.attr(g,f.substr(7)).classed(f,!1)}E.attr(g)||E.attr(g,"!!")}A(E,l)}else x&&(E.attr(g,null),"!!"===x?A(E):A(E,x))}},61082:function(tt,W,t){"use strict";var A=t(35657).dot,g=t(50606).BADNUM,i=tt.exports={};i.tester=function(E){var a,l=E.slice(),x=l[0][0],e=x,r=l[0][1],f=r;for((l[l.length-1][0]!==l[0][0]||l[l.length-1][1]!==l[0][1])&&l.push(l[0]),a=1;a<l.length;a++)x=Math.min(x,l[a][0]),e=Math.max(e,l[a][0]),r=Math.min(r,l[a][1]),f=Math.max(f,l[a][1]);var c,s=!1;5===l.length&&(l[0][0]===l[1][0]?l[2][0]===l[3][0]&&l[0][1]===l[3][1]&&l[1][1]===l[2][1]&&(s=!0,c=function(d){return d[0]===l[0][0]}):l[0][1]===l[1][1]&&l[2][1]===l[3][1]&&l[0][0]===l[3][0]&&l[1][0]===l[2][0]&&(s=!0,c=function(d){return d[1]===l[0][1]}));var v=!0,w=l[0];for(a=1;a<l.length;a++)if(w[0]!==l[a][0]||w[1]!==l[a][1]){v=!1;break}return{xmin:x,xmax:e,ymin:r,ymax:f,pts:l,contains:s?function u(d,o){var h=d[0],M=d[1];return!(h===g||h<x||h>e||M===g||M<r||M>f||o&&c(d))}:function y(d,o){var h=d[0],M=d[1];if(h===g||h<x||h>e||M===g||M<r||M>f)return!1;var b,n,C,p,F,T=l.length,L=l[0][0],m=l[0][1],S=0;for(b=1;b<T;b++)if(n=L,C=m,L=l[b][0],m=l[b][1],!(h<(p=Math.min(n,L))||h>Math.max(n,L)||M>Math.max(C,m)))if(M<Math.min(C,m))h!==p&&S++;else{if(M===(F=L===n?M:C+(h-n)*(m-C)/(L-n)))return!(1===b&&o);M<=F&&h!==p&&S++}return S%2==1},isRect:s,degenerate:v}},i.isSegmentBent=function(E,l,x,e){var u,y,v,r=E[l],f=[E[x][0]-r[0],E[x][1]-r[1]],a=A(f,f),s=Math.sqrt(a),c=[-f[1]/s,f[0]/s];for(u=l+1;u<x;u++)if((v=A(y=[E[u][0]-r[0],E[u][1]-r[1]],f))<0||v>a||Math.abs(A(y,c))>e)return!0;return!1},i.filter=function(E,l){var x=[E[0]],e=0,r=0;function f(s){E.push(s);var c=x.length,u=e;x.splice(r+1);for(var y=u+1;y<E.length;y++)(y===E.length-1||i.isSegmentBent(E,u,y+1,l))&&(x.push(E[y]),x.length<c-2&&(e=y,r=x.length-1),u=y)}return E.length>1&&f(E.pop()),{addPt:f,raw:E,filtered:x}}},79749:function(tt,W,t){"use strict";var A=t(58617),g=t(98580);tt.exports=function(P,E,l){var x=P._fullLayout,e=!0;return x._glcanvas.each(function(r){if(r.regl)r.regl.preloadCachedCode(l);else if(!r.pick||x._has("parcoords")){try{r.regl=g({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:P._context.plotGlPixelRatio||t.g.devicePixelRatio,extensions:E||[],cachedCode:l||{}})}catch(f){e=!1}r.regl||(e=!1),e&&this.addEventListener("webglcontextlost",function(f){P&&P.emit&&P.emit("plotly_webglcontextlost",{event:f,layer:r.key})},!1)}}),e||A({container:x._glcontainer.node()}),e}},45142:function(tt,W,t){"use strict";var A=t(92770),g=t(35791);tt.exports=function(E){var l;if("string"!=typeof(l=E&&E.hasOwnProperty("userAgent")?E.userAgent:function i(){var P;return"undefined"!=typeof navigator&&(P=navigator.userAgent),P&&P.headers&&"string"==typeof P.headers["user-agent"]&&(P=P.headers["user-agent"]),P}()))return!0;var x=g({ua:{headers:{"user-agent":l}},tablet:!0,featureDetect:!1});if(!x)for(var e=l.split(" "),r=1;r<e.length;r++)if(-1!==e[r].indexOf("Safari"))for(var a=r-1;a>-1;a--){var s=e[a];if("Version/"===s.substr(0,8)){var c=s.substr(8).split(".")[0];if(A(c)&&(c=+c),c>=13)return!0}}return x}},75138:function(tt){"use strict";tt.exports=function(t,A){if(A instanceof RegExp){for(var g=A.toString(),i=0;i<t.length;i++)if(t[i]instanceof RegExp&&t[i].toString()===g)return t;t.push(A)}else(A||0===A)&&-1===t.indexOf(A)&&t.push(A);return t}},10847:function(tt,W,t){"use strict";var A=t(71828),g=t(72075).dfltConfig;var P={add:function(E,l,x,e,r){var f,a;E.undoQueue=E.undoQueue||{index:0,queue:[],sequence:!1},a=E.undoQueue.index,E.autoplay?E.undoQueue.inSequence||(E.autoplay=!1):(!E.undoQueue.sequence||E.undoQueue.beginSequence?(E.undoQueue.queue.splice(a,E.undoQueue.queue.length-a,f={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),E.undoQueue.index+=1):f=E.undoQueue.queue[a-1],E.undoQueue.beginSequence=!1,f&&(f.undo.calls.unshift(l),f.undo.args.unshift(x),f.redo.calls.push(e),f.redo.args.push(r)),E.undoQueue.queue.length>g.queueLength&&(E.undoQueue.queue.shift(),E.undoQueue.index--))},startSequence:function(E){E.undoQueue=E.undoQueue||{index:0,queue:[],sequence:!1},E.undoQueue.sequence=!0,E.undoQueue.beginSequence=!0},stopSequence:function(E){E.undoQueue=E.undoQueue||{index:0,queue:[],sequence:!1},E.undoQueue.sequence=!1,E.undoQueue.beginSequence=!1},undo:function(l){var x,e;if(!(void 0===l.undoQueue||isNaN(l.undoQueue.index)||l.undoQueue.index<=0)){for(l.undoQueue.index--,x=l.undoQueue.queue[l.undoQueue.index],l.undoQueue.inSequence=!0,e=0;e<x.undo.calls.length;e++)P.plotDo(l,x.undo.calls[e],x.undo.args[e]);l.undoQueue.inSequence=!1,l.autoplay=!1}},redo:function(l){var x,e;if(!(void 0===l.undoQueue||isNaN(l.undoQueue.index)||l.undoQueue.index>=l.undoQueue.queue.length)){for(x=l.undoQueue.queue[l.undoQueue.index],l.undoQueue.inSequence=!0,e=0;e<x.redo.calls.length;e++)P.plotDo(l,x.redo.calls[e],x.redo.args[e]);l.undoQueue.inSequence=!1,l.autoplay=!1,l.undoQueue.index++}},plotDo:function(E,l,x){E.autoplay=!0,x=function i(E,l){for(var e,x=[],r=0;r<l.length;r++)x[r]=(e=l[r])===E?e:"object"==typeof e?Array.isArray(e)?A.extendDeep([],e):A.extendDeepAll({},e):e;return x}(E,x),l.apply(null,x)}};tt.exports=P},30587:function(tt,W){"use strict";W.counter=function(t,A,g,i){var P=(A||"")+(g?"":"$"),E=!1===i?"":"^";return"xy"===t?new RegExp(E+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+P):new RegExp(E+t+"([2-9]|[1-9][0-9]+)?"+P)}},6962:function(tt){"use strict";var W=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,t=/^[^\.\[\]]+$/;tt.exports=function(A,g){for(;g;){var i=A.match(W);if(i)A=i[1];else{if(!A.match(t))throw new Error("bad relativeAttr call:"+[A,g]);A=""}if("^"!==g.charAt(0))break;g=g.slice(1)}return A&&"["!==g.charAt(0)?A+"."+g:A+g}},51332:function(tt,W,t){"use strict";var A=t(73627).isArrayOrTypedArray,g=t(41965);tt.exports=function i(P,E){for(var l in E){var x=E[l],e=P[l];if(e!==x)if("_"===l.charAt(0)||"function"==typeof x){if(l in P)continue;P[l]=x}else if(A(x)&&A(e)&&g(x[0])){if("customdata"===l||"ids"===l)continue;for(var r=Math.min(x.length,e.length),f=0;f<r;f++)e[f]!==x[f]&&g(x[f])&&g(e[f])&&i(e[f],x[f])}else g(x)&&g(e)&&(i(e,x),Object.keys(e).length||delete P[l])}}},65888:function(tt,W,t){"use strict";var A=t(92770),g=t(47769),i=t(23389),P=t(50606).BADNUM,E=1e-9;function l(f,a){return f<a}function x(f,a){return f<=a}function e(f,a){return f>a}function r(f,a){return f>=a}W.findBin=function(f,a,s){if(A(a.start))return s?Math.ceil((f-a.start)/a.size-E)-1:Math.floor((f-a.start)/a.size+E);var w,d,c=0,u=a.length,y=0,v=u>1?(a[u-1]-a[0])/(u-1):1;for(d=v>=0?s?l:x:s?r:e,f+=v*E*(s?-1:1)*(v>=0?1:-1);c<u&&y++<100;)d(a[w=Math.floor((c+u)/2)],f)?c=w+1:u=w;return y>90&&g.log("Long binary search..."),c-1},W.sorterAsc=function(f,a){return f-a},W.sorterDes=function(f,a){return a-f},W.distinctVals=function(f){var s,a=f.slice();for(a.sort(W.sorterAsc),s=a.length-1;s>-1&&a[s]===P;s--);for(var v,c=a[s]-a[0]||1,u=c/(s||1)/1e4,y=[],w=0;w<=s;w++){var d=a[w],o=d-v;void 0===v?(y.push(d),v=d):o>u&&(c=Math.min(c,o),y.push(d),v=d)}return{vals:y,minDiff:c}},W.roundUp=function(f,a,s){for(var y,c=0,u=a.length-1,v=0,w=s?0:1,d=s?1:0,o=s?Math.ceil:Math.floor;c<u&&v++<100;)a[y=o((c+u)/2)]<=f?c=y+w:u=y-d;return a[c]},W.sort=function(f,a){for(var s=0,c=0,u=1;u<f.length;u++){var y=a(f[u],f[u-1]);if(y<0?s=1:y>0&&(c=1),s&&c)return f.sort(a)}return c?f:f.reverse()},W.findIndexOfMin=function(f,a){a=a||i;for(var c,s=1/0,u=0;u<f.length;u++){var y=a(f[u]);y<s&&(s=y,c=u)}return c}},6964:function(tt){"use strict";tt.exports=function(t,A){(t.attr("class")||"").split(" ").forEach(function(g){0===g.indexOf("cursor-")&&t.classed(g,!1)}),A&&t.classed("cursor-"+A,!0)}},58617:function(tt,W,t){"use strict";var A=t(7901),g=function(){};tt.exports=function(P){for(var E in P)"function"==typeof P[E]&&(P[E]=g);P.destroy=function(){P.container.parentNode.removeChild(P.container)};var l=document.createElement("div");l.className="no-webgl",l.style.cursor="pointer",l.style.fontSize="24px",l.style.color=A.defaults[0],l.style.position="absolute",l.style.left=l.style.top="0px",l.style.width=l.style.height="100%",l.style["background-color"]=A.lightLine,l.style["z-index"]=30;var x=document.createElement("p");return x.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",x.style.position="relative",x.style.top="50%",x.style.left="50%",x.style.height="30%",x.style.width="50%",x.style.margin="-15% 0 0 -25%",l.appendChild(x),P.container.appendChild(l),P.container.style.background="#FFFFFF",P.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(tt){"use strict";tt.exports=function(t){return Object.keys(t).sort()}},80038:function(tt,W,t){"use strict";var A=t(92770),g=t(73627).isArrayOrTypedArray;W.aggNums=function(i,P,E,l){var x,e;if((!l||l>E.length)&&(l=E.length),A(P)||(P=!1),g(E[0])){for(e=new Array(l),x=0;x<l;x++)e[x]=W.aggNums(i,P,E[x]);E=e}for(x=0;x<l;x++)A(P)?A(E[x])&&(P=i(+P,+E[x])):P=E[x];return P},W.len=function(i){return W.aggNums(function(P){return P+1},0,i)},W.mean=function(i,P){return P||(P=W.len(i)),W.aggNums(function(E,l){return E+l},0,i)/P},W.midRange=function(i){if(void 0!==i&&0!==i.length)return(W.aggNums(Math.max,null,i)+W.aggNums(Math.min,null,i))/2},W.variance=function(i,P,E){return P||(P=W.len(i)),A(E)||(E=W.mean(i,P)),W.aggNums(function(l,x){return l+Math.pow(x-E,2)},0,i)/P},W.stdev=function(i,P,E){return Math.sqrt(W.variance(i,P,E))},W.median=function(i){var P=i.slice().sort();return W.interp(P,.5)},W.interp=function(i,P){if(!A(P))throw"n should be a finite number";if((P=P*i.length-.5)<0)return i[0];if(P>i.length-1)return i[i.length-1];var E=P%1;return E*i[Math.ceil(P)]+(1-E)*i[Math.floor(P)]}},78614:function(tt,W,t){"use strict";var A=t(25075);tt.exports=function g(i){return i?A(i):[0,0,0,1]}},3883:function(tt,W,t){"use strict";var A=t(32396),g=t(91424),i=t(71828),P=null;tt.exports=function E(){if(null!==P)return P;P=!1;var l=i.isIE()||i.isSafari()||i.isIOS();if(window.navigator.userAgent&&!l){var x=Array.from(A.CSS_DECLARATIONS).reverse(),e=window.CSS&&window.CSS.supports||window.supportsCSS;if("function"==typeof e)P=x.some(function(s){return e.apply(null,s)});else{var r=g.tester.append("image").attr("style",A.STYLE),a=window.getComputedStyle(r.node()).imageRendering;P=x.some(function(s){var c=s[1];return a===c||a===c.toLowerCase()}),r.remove()}}return P}},63893:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=g.strTranslate,P=t(77922),E=t(18783).LINE_SPACING,l=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;W.convertToTspans=function(B,z,U){var G=B.text(),Q=!B.attr("data-notex")&&z&&z._context.typesetMath&&"undefined"!=typeof MathJax&&G.match(l),rt=A.select(B.node().parentNode);if(!rt.empty()){var it=B.attr("class")?B.attr("class").split(" ")[0]:"text";return rt.selectAll("svg."+(it+="-math")).remove(),rt.selectAll("g."+it+"-group").remove(),B.style("display",null).attr({"data-unformatted":G,"data-math":"N"}),Q?(z&&z._promises||[]).push(new Promise(function(J){B.style("display","none");var j=parseInt(B.node().style.fontSize,10);!function a(B,z,U){var G=parseInt((MathJax.version||"").split(".")[0]);if(2===G||3===G){var Q,rt,it,ut,J=function(){return rt=g.extendDeepAll({},MathJax.Hub.config),it=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:f},displayAlign:"left"})},j=function(){rt=g.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=f},Z=function(){if("SVG"!==(Q=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},H=function(){"svg"!==(Q=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg")},X=function(){var st="math-output-"+g.randstr({},64),dt=(ut=A.select("body").append("div").attr({id:st}).style({visibility:"hidden",position:"absolute","font-size":z.fontSize+"px"}).text(function r(B){return B.replace(x,"\\lt ").replace(e,"\\gt ")}(B))).node();return 2===G?MathJax.Hub.Typeset(dt):MathJax.typeset([dt])},at=function(){var st=ut.select(2===G?".MathJax_SVG":".MathJax"),dt=!st.empty()&&ut.select("svg").node();if(dt){var bt,Tt=dt.getBoundingClientRect();bt=2===G?A.select("body").select("#MathJax_SVG_glyphs"):st.select("defs"),U(st,bt,Tt)}else g.log("There was an error in the tex syntax.",B),U();ut.remove()},_=function(){if("SVG"!==Q)return MathJax.Hub.setRenderer(Q)},K=function(){"svg"!==Q&&(MathJax.config.startup.output=Q)},nt=function(){return void 0!==it&&(MathJax.Hub.processSectionDelay=it),MathJax.Hub.Config(rt)},et=function(){MathJax.config=rt};2===G?MathJax.Hub.Queue(J,Z,X,at,_,nt):3===G&&(j(),H(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){X(),at(),K(),et()}))}else g.warn("No MathJax version:",MathJax.version)}(Q[2],{fontSize:j},function(H,X,at){rt.selectAll("svg."+it).remove(),rt.selectAll("g."+it+"-group").remove();var _=H&&H.select("svg");if(!_||!_.node())return ut(),void J();var K=rt.append("g").classed(it+"-group",!0).attr({"pointer-events":"none","data-unformatted":G,"data-math":"Y"});K.node().appendChild(_.node()),X&&X.node()&&_.node().insertBefore(X.node().cloneNode(!0),_.node().firstChild);var nt=at.width,et=at.height;_.attr({class:it,height:et,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var st=B.node().style.fill||"black",dt=_.select("g");dt.attr({fill:st,stroke:st});var Tt=dt.node().getBoundingClientRect(),bt=Tt.width,Dt=Tt.height;(bt>nt||Dt>et)&&(_.style("overflow","hidden"),bt=(Tt=_.node().getBoundingClientRect()).width,Dt=Tt.height);var Ft=+B.attr("x"),Mt=+B.attr("y"),St=-(j||B.node().getBoundingClientRect().height)/4;if("y"===it[0])K.attr({transform:"rotate("+[-90,Ft,Mt]+")"+i(-bt/2,St-Dt/2)});else if("l"===it[0])Mt=St-Dt/2;else if("a"===it[0]&&0!==it.indexOf("atitle"))Ft=0,Mt=St;else{var Ut=B.attr("text-anchor");Ft-=bt*("middle"===Ut?.5:"end"===Ut?1:0),Mt=Mt+St-Dt/2}_.attr({x:Ft,y:Mt}),U&&U.call(B,K),J(K)})})):ut(),B}function ut(){rt.empty()||(it=B.attr("class")+"-math",rt.select("svg."+it).remove()),B.text("").style("white-space","pre"),function D(B,z){z=z.replace(w," ");var Q,U=!1,G=[],rt=-1;function it(){rt++;var Dt=document.createElementNS(P.svg,"tspan");A.select(Dt).attr({class:"line",dy:rt*E+"em"}),B.appendChild(Dt),Q=Dt;var Ft=G;if(G=[{node:Dt}],Ft.length>1)for(var Mt=1;Mt<Ft.length;Mt++)ut(Ft[Mt])}function ut(Dt){var wt,Ft=Dt.type,Mt={};if("a"===Ft){wt="a";var St=Dt.target,Ut=Dt.href,Gt=Dt.popup;Ut&&(Mt={"xlink:xlink:show":"_blank"===St||"_"!==St.charAt(0)?"new":"replace",target:St,"xlink:xlink:href":Ut},Gt&&(Mt.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Gt+'");return false;'))}else wt="tspan";Dt.style&&(Mt.style=Dt.style);var Pt=document.createElementNS(P.svg,wt);if("sup"===Ft||"sub"===Ft){J(Q,y),Q.appendChild(Pt);var Vt=document.createElementNS(P.svg,"tspan");J(Vt,y),A.select(Vt).attr("dy",u[Ft]),Mt.dy=c[Ft],Q.appendChild(Pt),Q.appendChild(Vt)}else Q.appendChild(Pt);A.select(Pt).attr(Mt),Q=Dt.node=Pt,G.push(Dt)}function J(Dt,Ft){Dt.appendChild(document.createTextNode(Ft))}function j(Dt){if(1!==G.length){var Ft=G.pop();Dt!==Ft.type&&g.log("Start tag <"+Ft.type+"> doesnt match end tag <"+Dt+">. Pretending it did match.",z),Q=G[G.length-1].node}else g.log("Ignoring unexpected end tag </"+Dt+">.",z)}h.test(z)?it():(Q=B,G=[{node:B}]);for(var H=z.split(d),X=0;X<H.length;X++){var at=H[X],_=at.match(o),K=_&&_[2].toLowerCase(),nt=s[K];if("br"===K)it();else if(void 0===nt)J(Q,p(at));else if(_[1])j(K);else{var et=_[4],st={type:K},dt=S(et,M);if(dt?(dt=dt.replace(b,"$1 fill:"),nt&&(dt+=";"+nt)):nt&&(dt=nt),dt&&(st.style=dt),"a"===K){U=!0;var Tt=S(et,T);if(Tt){var bt=N(Tt);bt&&(st.href=bt,st.target=S(et,L)||"_blank",st.popup=S(et,m))}}ut(st)}}return U}(B.node(),G)&&B.style("pointer-events","all"),W.positionText(B),U&&U.call(B)}};var x=/(<|&lt;|&#60;)/g,e=/(>|&gt;|&#62;)/g;var f=[["$","$"],["\\(","\\)"]];var s={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},c={sub:"0.3em",sup:"-0.6em"},u={sub:"-0.21em",sup:"0.42em"},y="\u200b",v=["http:","https:","mailto:","",void 0,":"],w=W.NEWLINES=/(\r\n?|\n)/g,d=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,h=/<br(\s+.*)?>/i;W.BR_TAG_ALL=/<br(\s+.*)?>/gi;var M=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,T=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,L=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function S(B,z){if(!B)return null;var U=B.match(z),G=U&&(U[3]||U[4]);return G&&p(G)}var b=/(^|;)\s*color:/;W.plainText=function(B,z){for(var U=void 0!==(z=z||{}).len&&-1!==z.len?z.len:1/0,G=void 0!==z.allowedTags?z.allowedTags:["br"],rt="...".length,it=B.split(d),ut=[],J="",j=0,Z=0;Z<it.length;Z++){var H=it[Z],X=H.match(o),at=X&&X[2].toLowerCase();if(at)-1!==G.indexOf(at)&&(ut.push(H),J=at);else{var _=H.length;if(j+_<U)ut.push(H),j+=_;else if(j<U){var K=U-j;J&&("br"!==J||K<=rt||_<=rt)&&ut.pop(),ut.push(U>rt?H.substr(0,K-rt)+"...":H.substr(0,K));break}J=""}}return ut.join("")};var n={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},C=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function p(B){return B.replace(C,function(z,U){return("#"===U.charAt(0)?function F(B){if(!(B>1114111)){var z=String.fromCodePoint;if(z)return z(B);var U=String.fromCharCode;return B<=65535?U(B):U(55232+(B>>10),B%1024+56320)}}("x"===U.charAt(1)?parseInt(U.substr(2),16):parseInt(U.substr(1),10)):n[U])||z})}function N(B){var z=encodeURI(decodeURI(B)),U=document.createElement("a"),G=document.createElement("a");U.href=B,G.href=z;var rt=G.protocol;return-1!==v.indexOf(U.protocol)&&-1!==v.indexOf(rt)?z:""}function k(B,z,U){var ut,J,j,G=U.horizontalAlign,Q=U.verticalAlign||"top",rt=B.node().getBoundingClientRect(),it=z.node().getBoundingClientRect();return J="bottom"===Q?function(){return rt.bottom-ut.height}:"middle"===Q?function(){return rt.top+(rt.height-ut.height)/2}:function(){return rt.top},j="right"===G?function(){return rt.right-ut.width}:"center"===G?function(){return rt.left+(rt.width-ut.width)/2}:function(){return rt.left},function(){ut=this.node().getBoundingClientRect();var Z=j()-it.left,H=J()-it.top,X=U.gd||{};if(U.gd){X._fullLayout._calcInverseTransform(X);var at=g.apply3DTransform(X._fullLayout._invTransform)(Z,H);Z=at[0],H=at[1]}return this.style({top:H+"px",left:Z+"px","z-index":1e3}),this}}W.convertEntities=p,W.sanitizeHTML=function(z){z=z.replace(w," ");for(var U=document.createElement("p"),G=U,Q=[],rt=z.split(d),it=0;it<rt.length;it++){var ut=rt[it],J=ut.match(o),j=J&&J[2].toLowerCase();if(j in s)if(J[1])Q.length&&(G=Q.pop());else{var Z=J[4],H=S(Z,M),X=H?{style:H}:{};if("a"===j){var at=S(Z,T);if(at){var _=N(at);if(_){X.href=_;var K=S(Z,L);K&&(X.target=K)}}}var nt=document.createElement(j);G.appendChild(nt),A.select(nt).attr(X),G=nt,Q.push(nt)}else G.appendChild(document.createTextNode(p(ut)))}return U.innerHTML},W.lineCount=function(z){return z.selectAll("tspan.line").size()||1},W.positionText=function(z,U,G){return z.each(function(){var Q=A.select(this);function rt(J,j){return void 0===j?null===(j=Q.attr(J))&&(Q.attr(J,0),j=0):Q.attr(J,j),j}var it=rt("x",U),ut=rt("y",G);"text"===this.nodeName&&Q.selectAll("tspan.line").attr({x:it,y:ut})})};var O="1px ";W.makeTextShadow=function(B){return O+O+O+B+", -"+O+"-"+O+O+B+", "+O+"-"+O+O+B+", -"+O+O+O+B},W.makeEditable=function(B,z){var U=z.gd,G=z.delegate,Q=A.dispatch("edit","input","cancel"),rt=G||B;if(B.style({"pointer-events":G?"none":"all"}),1!==B.size())throw new Error("boo");function it(){(function J(){var Z=A.select(U).select(".svg-container"),H=Z.append("div"),X=B.node().style,at=parseFloat(X.fontSize||12),_=z.text;void 0===_&&(_=B.attr("data-unformatted")),H.classed("plugin-editable editable",!0).style({position:"absolute","font-family":X.fontFamily||"Arial","font-size":at,color:z.fill||X.fill||"black",opacity:1,"background-color":z.background||"transparent",outline:"#ffffff33 1px solid",margin:[-at/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(_).call(k(B,Z,z)).on("blur",function(){U._editing=!1,B.text(this.textContent).style({opacity:1});var nt,K=A.select(this).attr("class");(nt=K?"."+K.split(" ")[0]+"-math-group":"[class*=-math-group]")&&A.select(B.node().parentNode).select(nt).style({opacity:0});var et=this.textContent;A.select(this).transition().duration(0).remove(),A.select(document).on("mouseup",null),Q.edit.call(B,et)}).on("focus",function(){var K=this;U._editing=!0,A.select(document).on("mouseup",function(){if(A.event.target===K)return!1;document.activeElement===H.node()&&H.node().blur()})}).on("keyup",function(){27===A.event.which?(U._editing=!1,B.style({opacity:1}),A.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Q.cancel.call(B,this.textContent)):(Q.input.call(B,this.textContent),A.select(this).call(k(B,Z,z)))}).on("keydown",function(){13===A.event.which&&this.blur()}).call(ut)})(),B.style({opacity:0});var Z,j=rt.attr("class");(Z=j?"."+j.split(" ")[0]+"-math-group":"[class*=-math-group]")&&A.select(B.node().parentNode).select(Z).style({opacity:0})}function ut(j){var Z=j.node(),H=document.createRange();H.selectNodeContents(Z);var X=window.getSelection();X.removeAllRanges(),X.addRange(H),Z.focus()}return z.immediate?it():rt.on("click",it),A.rebind(B,Q,"on")}},79990:function(tt,W){"use strict";var t={};function A(g){g&&null!==g.timer&&(clearTimeout(g.timer),g.timer=null)}W.throttle=function(i,P,E){var l=t[i],x=Date.now();if(!l){for(var e in t)t[e].ts<x-6e4&&delete t[e];l=t[i]={ts:0,timer:null}}function r(){E(),l.ts=Date.now(),l.onDone&&(l.onDone(),l.onDone=null)}A(l),x>l.ts+P?r():l.timer=setTimeout(function(){r(),l.timer=null},P)},W.done=function(g){var i=t[g];return i&&i.timer?new Promise(function(P){var E=i.onDone;i.onDone=function(){E&&E(),P(),i.onDone=null}}):Promise.resolve()},W.clear=function(g){if(g)A(t[g]),delete t[g];else for(var i in t)W.clear(i)}},58163:function(tt,W,t){"use strict";var A=t(92770);tt.exports=function(i,P){if(i>0)return Math.log(i)/Math.LN10;var E=Math.log(Math.min(P[0],P[1]))/Math.LN10;return A(E)||(E=Math.log(Math.max(P[0],P[1]))/Math.LN10-6),E}},90973:function(tt,W,t){"use strict";var A=tt.exports={},g=t(78776).locationmodeToLayer,i=t(96892).zL;A.getTopojsonName=function(P){return[P.scope.replace(/ /g,"-"),"_",P.resolution.toString(),"m"].join("")},A.getTopojsonPath=function(P,E){return P+E+".json"},A.getTopojsonFeatures=function(P,E){return i(E,E.objects[g[P.locationmode]]).features}},37815:function(tt){"use strict";tt.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(tt){"use strict";tt.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(tt,W,t){"use strict";var A=t(73972);tt.exports=function(i){for(var x,e,P=A.layoutArrayContainers,E=A.layoutArrayRegexes,l=i.split("[")[0],r=0;r<E.length;r++)if((e=i.match(E[r]))&&0===e.index){x=e[0];break}if(x||(x=P[P.indexOf(l)]),!x)return!1;var f=i.substr(x.length);return f?!!(e=f.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:x,index:Number(e[1]),property:e[3]||""}:{array:x,index:"",property:""}}},30962:function(tt,W,t){"use strict";var A=t(71828),g=A.extendFlat,i=A.isPlainObject,P={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},E={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},l=P.flags.slice().concat(["fullReplot"]),x=E.flags.slice().concat("layoutReplot");function e(a){for(var s={},c=0;c<a.length;c++)s[a[c]]=!1;return s}function r(a,s,c){var u=g({},a);for(var y in u){var v=u[y];i(v)&&(u[y]=f(v,s,0,y))}return"from-root"===c&&(u.editType=s),u}function f(a,s,c,u){if(a.valType){var y=g({},a);if(y.editType=s,Array.isArray(a.items)){y.items=new Array(a.items.length);for(var v=0;v<a.items.length;v++)y.items[v]=f(a.items[v],s)}return y}return r(a,s,"_"===u.charAt(0)?"nested":"from-root")}tt.exports={traces:P,layout:E,traceFlags:function(){return e(l)},layoutFlags:function(){return e(x)},update:function(a,s){var c=s.editType;if(c&&"none"!==c)for(var u=c.split("+"),y=0;y<u.length;y++)a[u[y]]=!0},overrideAll:r}},58377:function(tt,W,t){"use strict";var A=t(92770),g=t(27812),i=t(73972),P=t(71828),E=t(74875),l=t(41675),x=t(7901),e=l.cleanId,r=l.getFromTrace,f=i.traceIs;function a(h,M){var T=h[M],L=M.charAt(0);T&&"paper"!==T&&(h[M]=e(T,L,!0))}function s(h){function M(T,L){h[T]&&(!h.title||!h.title[L])&&(h.title||(h.title={}),h.title[L]=h[T],delete h[T])}h&&(("string"==typeof h.title||"number"==typeof h.title)&&(h.title={text:h.title}),M("titlefont","font"),M("titleposition","position"),M("titleside","side"),M("titleoffset","offset"))}function c(h){if(!P.isPlainObject(h))return!1;var M=h.name;return delete h.name,delete h.showlegend,("string"==typeof M||"number"==typeof M)&&String(M)}function u(h,M,T,L){if(T&&!L)return h;if(L&&!T||!h.trim())return M;if(!M.trim())return h;var S,m=Math.min(h.length,M.length);for(S=0;S<m&&h.charAt(S)===M.charAt(S);S++);return h.substr(0,S).trim()}function y(h){var M="middle",T="center";return"string"==typeof h&&(-1!==h.indexOf("top")?M="top":-1!==h.indexOf("bottom")&&(M="bottom"),-1!==h.indexOf("left")?T="left":-1!==h.indexOf("right")&&(T="right")),M+" "+T}function v(h,M){return M in h&&"object"==typeof h[M]&&0===Object.keys(h[M]).length}W.clearPromiseQueue=function(h){Array.isArray(h._promises)&&h._promises.length>0&&P.log("Clearing previous rejected promises from queue."),h._promises=[]},W.cleanLayout=function(h){var M,T;h||(h={}),h.xaxis1&&(h.xaxis||(h.xaxis=h.xaxis1),delete h.xaxis1),h.yaxis1&&(h.yaxis||(h.yaxis=h.yaxis1),delete h.yaxis1),h.scene1&&(h.scene||(h.scene=h.scene1),delete h.scene1);var L=(E.subplotsRegistry.cartesian||{}).attrRegex,m=(E.subplotsRegistry.polar||{}).attrRegex,S=(E.subplotsRegistry.ternary||{}).attrRegex,b=(E.subplotsRegistry.gl3d||{}).attrRegex,n=Object.keys(h);for(M=0;M<n.length;M++){var C=n[M];if(L&&L.test(C)){var p=h[C];p.anchor&&"free"!==p.anchor&&(p.anchor=e(p.anchor)),p.overlaying&&(p.overlaying=e(p.overlaying)),p.type||(p.isdate?p.type="date":p.islog?p.type="log":!1===p.isdate&&!1===p.islog&&(p.type="linear")),("withzero"===p.autorange||"tozero"===p.autorange)&&(p.autorange=!0,p.rangemode="tozero"),delete p.islog,delete p.isdate,delete p.categories,v(p,"domain")&&delete p.domain,void 0!==p.autotick&&(void 0===p.tickmode&&(p.tickmode=p.autotick?"auto":"linear"),delete p.autotick),s(p)}else if(m&&m.test(C))s(h[C].radialaxis);else if(S&&S.test(C)){var D=h[C];s(D.aaxis),s(D.baxis),s(D.caxis)}else if(b&&b.test(C)){var N=h[C],k=N.cameraposition;if(Array.isArray(k)&&4===k[0].length){var B=k[1],z=k[2],U=g([],k[0]),G=[];for(T=0;T<3;++T)G[T]=B[T]+z*U[2+4*T];N.camera={eye:{x:G[0],y:G[1],z:G[2]},center:{x:B[0],y:B[1],z:B[2]},up:{x:0,y:0,z:1}},delete N.cameraposition}s(N.xaxis),s(N.yaxis),s(N.zaxis)}}var Q=Array.isArray(h.annotations)?h.annotations.length:0;for(M=0;M<Q;M++){var rt=h.annotations[M];!P.isPlainObject(rt)||(rt.ref&&("paper"===rt.ref?(rt.xref="paper",rt.yref="paper"):"data"===rt.ref&&(rt.xref="x",rt.yref="y"),delete rt.ref),a(rt,"xref"),a(rt,"yref"))}var it=Array.isArray(h.shapes)?h.shapes.length:0;for(M=0;M<it;M++){var ut=h.shapes[M];!P.isPlainObject(ut)||(a(ut,"xref"),a(ut,"yref"))}var J=Array.isArray(h.images)?h.images.length:0;for(M=0;M<J;M++){var j=h.images[M];!P.isPlainObject(j)||(a(j,"xref"),a(j,"yref"))}var Z=h.legend;return Z&&(Z.x>3?(Z.x=1.02,Z.xanchor="left"):Z.x<-2&&(Z.x=-.02,Z.xanchor="right"),Z.y>3?(Z.y=1.02,Z.yanchor="bottom"):Z.y<-2&&(Z.y=-.02,Z.yanchor="top")),s(h),"rotate"===h.dragmode&&(h.dragmode="orbit"),x.clean(h),h.template&&h.template.layout&&W.cleanLayout(h.template.layout),h},W.cleanData=function(h){for(var M=0;M<h.length;M++){var L,T=h[M];if("histogramy"===T.type&&"xbins"in T&&!("ybins"in T)&&(T.ybins=T.xbins,delete T.xbins),T.error_y&&"opacity"in T.error_y){var m=x.defaults,S=T.error_y.color||(f(T,"bar")?x.defaultLine:m[M%m.length]);T.error_y.color=x.addOpacity(x.rgb(S),x.opacity(S)*T.error_y.opacity),delete T.error_y.opacity}if("bardir"in T&&("h"===T.bardir&&(f(T,"bar")||"histogram"===T.type.substr(0,9))&&(T.orientation="h",W.swapXYData(T)),delete T.bardir),"histogramy"===T.type&&W.swapXYData(T),("histogramx"===T.type||"histogramy"===T.type)&&(T.type="histogram"),"scl"in T&&!("colorscale"in T)&&(T.colorscale=T.scl,delete T.scl),"reversescl"in T&&!("reversescale"in T)&&(T.reversescale=T.reversescl,delete T.reversescl),T.xaxis&&(T.xaxis=e(T.xaxis,"x")),T.yaxis&&(T.yaxis=e(T.yaxis,"y")),f(T,"gl3d")&&T.scene&&(T.scene=E.subplotsRegistry.gl3d.cleanId(T.scene)),!f(T,"pie-like")&&!f(T,"bar-like"))if(Array.isArray(T.textposition))for(L=0;L<T.textposition.length;L++)T.textposition[L]=y(T.textposition[L]);else T.textposition&&(T.textposition=y(T.textposition));var b=i.getModule(T);if(b&&b.colorbar){var n=b.colorbar.container,C=n?T[n]:T;C&&C.colorscale&&("YIGnBu"===C.colorscale&&(C.colorscale="YlGnBu"),"YIOrRd"===C.colorscale&&(C.colorscale="YlOrRd"))}if("surface"===T.type&&P.isPlainObject(T.contours)){var p=["x","y","z"];for(L=0;L<p.length;L++){var F=T.contours[p[L]];!P.isPlainObject(F)||(F.highlightColor&&(F.highlightcolor=F.highlightColor,delete F.highlightColor),F.highlightWidth&&(F.highlightwidth=F.highlightWidth,delete F.highlightWidth))}}if("candlestick"===T.type||"ohlc"===T.type){var D=!1!==(T.increasing||{}).showlegend,N=!1!==(T.decreasing||{}).showlegend,k=c(T.increasing),O=c(T.decreasing);if(!1!==k&&!1!==O){var B=u(k,O,D,N);B&&(T.name=B)}else(k||O)&&!T.name&&(T.name=k||O)}if(Array.isArray(T.transforms)){var z=T.transforms;for(L=0;L<z.length;L++){var U=z[L];if(P.isPlainObject(U))switch(U.type){case"filter":U.filtersrc&&(U.target=U.filtersrc,delete U.filtersrc),U.calendar&&(U.valuecalendar||(U.valuecalendar=U.calendar),delete U.calendar);break;case"groupby":if(U.styles=U.styles||U.style,U.styles&&!Array.isArray(U.styles)){var G=U.styles,Q=Object.keys(G);U.styles=[];for(var rt=0;rt<Q.length;rt++)U.styles.push({target:Q[rt],value:G[Q[rt]]})}}}}v(T,"line")&&delete T.line,"marker"in T&&(v(T.marker,"line")&&delete T.marker.line,v(T,"marker")&&delete T.marker),x.clean(T),T.autobinx&&(delete T.autobinx,delete T.xbins),T.autobiny&&(delete T.autobiny,delete T.ybins),s(T),T.colorbar&&s(T.colorbar),T.marker&&T.marker.colorbar&&s(T.marker.colorbar),T.line&&T.line.colorbar&&s(T.line.colorbar),T.aaxis&&s(T.aaxis),T.baxis&&s(T.baxis)}},W.swapXYData=function(h){var M;if(P.swapAttrs(h,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(h.z)&&Array.isArray(h.z[0])&&(h.transpose?delete h.transpose:h.transpose=!0),h.error_x&&h.error_y){var T=h.error_y,L="copy_ystyle"in T?T.copy_ystyle:!(T.color||T.thickness||T.width);P.swapAttrs(h,["error_?.copy_ystyle"]),L&&P.swapAttrs(h,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof h.hoverinfo){var m=h.hoverinfo.split("+");for(M=0;M<m.length;M++)"x"===m[M]?m[M]="y":"y"===m[M]&&(m[M]="x");h.hoverinfo=m.join("+")}},W.coerceTraceIndices=function(h,M){if(A(M))return[M];if(!Array.isArray(M)||!M.length)return h.data.map(function(m,S){return S});if(Array.isArray(M)){for(var T=[],L=0;L<M.length;L++)P.isIndex(M[L],h.data.length)?T.push(M[L]):P.warn("trace index (",M[L],") is not a number or is out of bounds");return T}return M},W.manageArrayContainers=function(h,M,T){var L=h.obj,m=h.parts,S=m.length,b=m[S-1],n=A(b);if(n&&null===M){var C=m.slice(0,S-1).join(".");P.nestedProperty(L,C).get().splice(b,1)}else n&&void 0===h.get()&&void 0===h.get()&&(T[h.astr]=null),h.set(M)};var w=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function d(h){var M=h.search(w);if(M>0)return h.substr(0,M)}W.hasParent=function(h,M){for(var T=d(M);T;){if(T in h)return!0;T=d(T)}return!1};var o=["x","y","z"];W.clearAxisTypes=function(h,M,T){for(var L=0;L<M.length;L++)for(var m=h._fullData[L],S=0;S<3;S++){var b=r(h,m,o[S]);if(b&&"log"!==b.type){var n=b._name,C=b._id.substr(1);if("scene"===C.substr(0,5)){if(void 0!==T[C])continue;n=C+"."+n}var p=n+".type";void 0===T[n]&&void 0===T[p]&&P.nestedProperty(h.layout,p).set(null)}}}},10641:function(tt,W,t){"use strict";var A=t(72391);W._doPlot=A._doPlot,W.newPlot=A.newPlot,W.restyle=A.restyle,W.relayout=A.relayout,W.redraw=A.redraw,W.update=A.update,W._guiRestyle=A._guiRestyle,W._guiRelayout=A._guiRelayout,W._guiUpdate=A._guiUpdate,W._storeDirectGUIEdit=A._storeDirectGUIEdit,W.react=A.react,W.extendTraces=A.extendTraces,W.prependTraces=A.prependTraces,W.addTraces=A.addTraces,W.deleteTraces=A.deleteTraces,W.moveTraces=A.moveTraces,W.purge=A.purge,W.addFrames=A.addFrames,W.deleteFrames=A.deleteFrames,W.animate=A.animate,W.setPlotConfig=A.setPlotConfig,W.toImage=t(403),W.validate=t(84936),W.downloadImage=t(7239);var g=t(96318);W.makeTemplate=g.makeTemplate,W.validateTemplate=g.validateTemplate},6611:function(tt,W,t){"use strict";var A=t(41965),g=t(64213),i=t(47769),P=t(65888).sorterAsc,E=t(73972);W.containerArrayMatch=t(14458);var l=W.isAddVal=function(r){return"add"===r||A(r)},x=W.isRemoveVal=function(r){return null===r||"remove"===r};W.applyContainerArrayChanges=function(r,f,a,s,c){var u=f.astr,y=E.getComponentMethod(u,"supplyLayoutDefaults"),v=E.getComponentMethod(u,"draw"),w=E.getComponentMethod(u,"drawOne"),d=s.replot||s.recalc||y===g||v===g,o=r.layout,h=r._fullLayout;if(a[""]){Object.keys(a).length>1&&i.warn("Full array edits are incompatible with other edits",u);var M=a[""][""];if(x(M))f.set(null);else{if(!Array.isArray(M))return i.warn("Unrecognized full array edit value",u,M),!0;f.set(M)}return!d&&(y(o,h),v(r),!0)}var p,F,D,N,k,O,B,T=Object.keys(a).map(Number).sort(P),L=f.get(),m=L||[],S=c(h,u).get(),b=[],n=-1,C=m.length;for(p=0;p<T.length;p++)if(N=a[D=T[p]],k=Object.keys(N),B=l(O=N[""]),D<0||D>m.length-(B?0:1))i.warn("index out of range",u,D);else if(void 0!==O)k.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",u,D),x(O)?b.push(D):B?("add"===O&&(O={}),m.splice(D,0,O),S&&S.splice(D,0,{})):i.warn("Unrecognized full object edit value",u,D,O),-1===n&&(n=D);else for(F=0;F<k.length;F++)c(m[D],k[F],u+"["+D+"].").set(N[k[F]]);for(p=b.length-1;p>=0;p--)m.splice(b[p],1),S&&S.splice(b[p],1);if(m.length?L||f.set(m):f.set(null),d)return!1;if(y(o,h),w!==g){var U;if(-1===n)U=T;else{for(C=Math.max(m.length,C),U=[],p=0;p<T.length&&!((D=T[p])>=n);p++)U.push(D);for(p=n;p<C;p++)U.push(p)}for(p=0;p<U.length;p++)w(r,U[p])}else v(r);return!0}},72391:function(tt,W,t){"use strict";var A=t(39898),g=t(92770),i=t(57035),P=t(71828),E=P.nestedProperty,l=t(11086),x=t(10847),e=t(73972),r=t(86281),f=t(74875),a=t(89298),s=t(91424),c=t(7901),u=t(4305).initInteractions,y=t(77922),v=t(47322).clearOutline,w=t(72075).dfltConfig,d=t(6611),o=t(58377),h=t(61549),M=t(30962),T=t(85555).AX_NAME_PATTERN,L=0;function b(gt){var pt=gt._fullLayout;pt._redrawFromAutoMarginCount?pt._redrawFromAutoMarginCount--:gt.emit("plotly_afterplot")}function C(gt,pt){try{gt._fullLayout._paper.style("background",pt)}catch(vt){P.error(vt)}}function p(gt,pt){C(gt,c.combine(pt,"white"))}function F(gt,pt){if(!gt._context){gt._context=P.extendDeep({},w);var vt=A.select("base");gt._context._baseUrl=vt.size()&&vt.attr("href")?window.location.href.split("#")[0]:""}var Yt,Qt,le,yt=gt._context;if(pt){for(Qt=Object.keys(pt),Yt=0;Yt<Qt.length;Yt++)"editable"!==(le=Qt[Yt])&&"edits"!==le&&le in yt&&(yt[le]="setBackground"===le&&"opaque"===pt[le]?p:pt[le]);pt.plot3dPixelRatio&&!yt.plotGlPixelRatio&&(yt.plotGlPixelRatio=yt.plot3dPixelRatio);var he=pt.editable;if(void 0!==he)for(yt.editable=he,Qt=Object.keys(yt.edits),Yt=0;Yt<Qt.length;Yt++)yt.edits[Qt[Yt]]=he;if(pt.edits)for(Qt=Object.keys(pt.edits),Yt=0;Yt<Qt.length;Yt++)(le=Qt[Yt])in yt.edits&&(yt.edits[le]=pt.edits[le]);yt._exportedPlot=pt._exportedPlot}yt.staticPlot&&(yt.editable=!1,yt.edits={},yt.autosizable=!1,yt.scrollZoom=!1,yt.doubleClick=!1,yt.showTips=!1,yt.showLink=!1,yt.displayModeBar=!1),"hover"===yt.displayModeBar&&!i&&(yt.displayModeBar=!0),("transparent"===yt.setBackground||"function"!=typeof yt.setBackground)&&(yt.setBackground=C),yt._hasZeroHeight=yt._hasZeroHeight||0===gt.clientHeight,yt._hasZeroWidth=yt._hasZeroWidth||0===gt.clientWidth;var ke=yt.scrollZoom,Oe=yt._scrollZoom={};if(!0===ke)Oe.cartesian=1,Oe.gl3d=1,Oe.geo=1,Oe.mapbox=1;else if("string"==typeof ke){var Ae=ke.split("+");for(Yt=0;Yt<Ae.length;Yt++)Oe[Ae[Yt]]=1}else!1!==ke&&(Oe.gl3d=1,Oe.geo=1,Oe.mapbox=1)}function k(gt,pt){var Yt,Qt,vt=pt+1,yt=[];for(Yt=0;Yt<gt.length;Yt++)yt.push((Qt=gt[Yt])<0?vt+Qt:Qt);return yt}function O(gt,pt,vt){var yt,Yt;for(yt=0;yt<pt.length;yt++){if((Yt=pt[yt])!==parseInt(Yt,10))throw new Error("all values in "+vt+" must be integers");if(Yt>=gt.data.length||Yt<-gt.data.length)throw new Error(vt+" must be valid indices for gd.data.");if(pt.indexOf(Yt,yt+1)>-1||Yt>=0&&pt.indexOf(-gt.data.length+Yt)>-1||Yt<0&&pt.indexOf(gt.data.length+Yt)>-1)throw new Error("each index in "+vt+" must be unique.")}}function B(gt,pt,vt){if(!Array.isArray(gt.data))throw new Error("gd.data must be an array.");if(void 0===pt)throw new Error("currentIndices is a required argument.");if(Array.isArray(pt)||(pt=[pt]),O(gt,pt,"currentIndices"),void 0!==vt&&!Array.isArray(vt)&&(vt=[vt]),void 0!==vt&&O(gt,vt,"newIndices"),void 0!==vt&&pt.length!==vt.length)throw new Error("current and new indices must be of equal length.")}function Q(gt,pt,vt,yt,Yt){!function U(gt,pt,vt,yt){var Yt=P.isPlainObject(yt);if(!Array.isArray(gt.data))throw new Error("gd.data must be an array");if(!P.isPlainObject(pt))throw new Error("update must be a key:value object");if(void 0===vt)throw new Error("indices must be an integer or array of integers");for(var Qt in O(gt,vt,"indices"),pt){if(!Array.isArray(pt[Qt])||pt[Qt].length!==vt.length)throw new Error("attribute "+Qt+" must be an array of length equal to indices array length");if(Yt&&(!(Qt in yt)||!Array.isArray(yt[Qt])||yt[Qt].length!==pt[Qt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(gt,pt,vt,yt);for(var Qt=function G(gt,pt,vt,yt){var he,ke,Oe,Ae,Yt=P.isPlainObject(yt),Qt=[];for(var je in Array.isArray(vt)||(vt=[vt]),vt=k(vt,gt.data.length-1),pt)for(var Ze=0;Ze<vt.length;Ze++){if(he=(ke=E(gt.data[vt[Ze]],je)).get(),!P.isArrayOrTypedArray(Oe=pt[je][Ze]))throw new Error("attribute: "+je+" index: "+Ze+" must be an array");if(!P.isArrayOrTypedArray(he))throw new Error("cannot extend missing or non-array attribute: "+je);if(he.constructor!==Oe.constructor)throw new Error("cannot extend array with an array of a different type: "+je);g(Ae=Yt?yt[je][Ze]:yt)||(Ae=-1),Qt.push({prop:ke,target:he,insert:Oe,maxp:Math.floor(Ae)})}return Qt}(gt,pt,vt,yt),le={},he={},ke=0;ke<Qt.length;ke++){var Oe=Qt[ke].prop,je=Yt(Qt[ke].target,Qt[ke].insert,Qt[ke].maxp);Oe.set(je[0]),Array.isArray(le[Oe.astr])||(le[Oe.astr]=[]),le[Oe.astr].push(je[1]),Array.isArray(he[Oe.astr])||(he[Oe.astr]=[]),he[Oe.astr].push(Qt[ke].target.length)}return{update:le,maxPoints:he}}function rt(gt,pt){var vt=new gt.constructor(gt.length+pt.length);return vt.set(gt),vt.set(pt,gt.length),vt}function H(gt,pt,vt,yt){gt=P.getGraphDiv(gt),o.clearPromiseQueue(gt);var Yt={};if("string"==typeof pt)Yt[pt]=vt;else{if(!P.isPlainObject(pt))return P.warn("Restyle fail.",pt,vt,yt),Promise.reject();Yt=P.extendFlat({},pt),void 0===yt&&(yt=vt)}Object.keys(Yt).length&&(gt.changed=!0);var Qt=o.coerceTraceIndices(gt,yt),le=nt(gt,Yt,Qt),he=le.flags;he.calc&&(gt.calcdata=void 0),he.clearAxisTypes&&o.clearAxisTypes(gt,Qt,{});var ke=[];he.fullReplot?ke.push(W._doPlot):(ke.push(f.previousPromises),f.supplyDefaults(gt),he.markerSize&&(f.doCalcdata(gt),Tt(ke)),he.style&&ke.push(h.doTraceStyle),he.colorbars&&ke.push(h.doColorBars),ke.push(b)),ke.push(f.rehover,f.redrag,f.reselect),x.add(gt,H,[gt,le.undoit,le.traces],H,[gt,le.redoit,le.traces]);var Oe=P.syncOrAsync(ke,gt);return(!Oe||!Oe.then)&&(Oe=Promise.resolve()),Oe.then(function(){return gt.emit("plotly_restyle",le.eventData),gt})}function X(gt){return void 0===gt?null:gt}function at(gt,pt){return pt?function(vt,yt,Yt){var Qt=E(vt,yt),le=Qt.set;return Qt.set=function(he){_((Yt||"")+yt,Qt.get(),he,gt),le(he)},Qt}:E}function _(gt,pt,vt,yt){if(Array.isArray(pt)||Array.isArray(vt))for(var Yt=Array.isArray(pt)?pt:[],Qt=Array.isArray(vt)?vt:[],le=Math.max(Yt.length,Qt.length),he=0;he<le;he++)_(gt+"["+he+"]",Yt[he],Qt[he],yt);else if(P.isPlainObject(pt)||P.isPlainObject(vt)){var ke=P.isPlainObject(pt)?pt:{},Oe=P.isPlainObject(vt)?vt:{},Ae=P.extendFlat({},ke,Oe);for(var je in Ae)_(gt+"."+je,ke[je],Oe[je],yt)}else void 0===yt[gt]&&(yt[gt]=X(pt))}function nt(gt,pt,vt){var Oe,yt=gt._fullLayout,Yt=gt._fullData,Qt=gt.data,le=yt._guiEditing,he=at(yt._preGUI,le),ke=P.extendDeepAll({},pt);et(pt);var Lr,Ae=M.traceFlags(),je={},Ze={};function fe(){return vt.map(function(){})}function Ve(zr){var Pn=a.id2name(zr);-1===Lr.indexOf(Pn)&&Lr.push(Pn)}function He(zr){return"LAYOUT"+zr+".autorange"}function wr(zr){return"LAYOUT"+zr+".range"}function ar(zr){for(var Pn=zr;Pn<Yt.length;Pn++)if(Yt[Pn]._input===Qt[zr])return Yt[Pn]}function ie(zr,Pn,An){if(Array.isArray(zr))zr.forEach(function(Br){ie(Br,Pn,An)});else if(!(zr in pt)&&!o.hasParent(pt,zr)){var lr;if("LAYOUT"===zr.substr(0,6))lr=he(gt.layout,zr.replace("LAYOUT",""));else{var yr=vt[An];lr=at(yt._tracePreGUI[ar(yr)._fullInput.uid],le)(Qt[yr],zr)}zr in Ze||(Ze[zr]=fe()),void 0===Ze[zr][An]&&(Ze[zr][An]=X(lr.get())),void 0!==Pn&&lr.set(Pn)}}function ne(zr){return function(Pn){return Yt[Pn][zr]}}function ve(zr){return function(Pn,An){return!1===Pn?Yt[vt[An]][zr]:null}}for(var xe in pt){if(o.hasParent(pt,xe))throw new Error("cannot set "+xe+" and a parent attribute simultaneously");var be,Pe,Be,Qe,Ke,tr,Te=pt[xe];if(("autobinx"===xe||"autobiny"===xe)&&(xe=xe.charAt(xe.length-1)+"bins",Te=Array.isArray(Te)?Te.map(ve(xe)):!1===Te?vt.map(ne(xe)):null),je[xe]=Te,"LAYOUT"!==xe.substr(0,6)){for(Ze[xe]=fe(),Oe=0;Oe<vt.length;Oe++)if(be=Qt[vt[Oe]],Pe=ar(vt[Oe]),Qe=(Be=at(yt._tracePreGUI[Pe._fullInput.uid],le)(be,xe)).get(),void 0!==(Ke=Array.isArray(Te)?Te[Oe%Te.length]:Te)){var Ht=Be.parts[Be.parts.length-1],Nt=xe.substr(0,xe.length-Ht.length-1),Se=Nt?Nt+".":"",Le=Nt?E(Pe,Nt).get():Pe;if((tr=r.getTraceValObject(Pe,Be.parts))&&tr.impliedEdits&&null!==Ke)for(var We in tr.impliedEdits)ie(P.relativeAttr(xe,We),tr.impliedEdits[We],Oe);else if("thicknessmode"!==Ht&&"lenmode"!==Ht||Qe===Ke||"fraction"!==Ke&&"pixels"!==Ke||!Le){if("type"===xe&&("pie"===Ke!=("pie"===Qe)||"funnelarea"===Ke!=("funnelarea"===Qe))){var gr="x",dr="y";("bar"===Ke||"bar"===Qe)&&"h"===be.orientation&&(gr="y",dr="x"),P.swapAttrs(be,["?","?src"],"labels",gr),P.swapAttrs(be,["d?","?0"],"label",gr),P.swapAttrs(be,["?","?src"],"values",dr),"pie"===Qe||"funnelarea"===Qe?(E(be,"marker.color").set(E(be,"marker.colors").get()),yt._pielayer.selectAll("g.trace").remove()):e.traceIs(be,"cartesian")&&E(be,"marker.colors").set(E(be,"marker.color").get())}}else{var rr=yt._size,or=Le.orient,qe="top"===or||"bottom"===or;if("thicknessmode"===Ht){var De=qe?rr.h:rr.w;ie(Se+"thickness",Le.thickness*("fraction"===Ke?1/De:De),Oe)}else{var sr=qe?rr.w:rr.h;ie(Se+"len",Le.len*("fraction"===Ke?1/sr:sr),Oe)}}if(Ze[xe][Oe]=X(Qe),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(xe)){if("orientation"===xe){Be.set(Ke);var qr=be.x&&!be.y?"h":"v";if((Be.get()||qr)===Pe.orientation)continue}else"orientationaxes"===xe&&(be.orientation={v:"h",h:"v"}[Pe.orientation]);o.swapXYData(be),Ae.calc=Ae.clearAxisTypes=!0}else-1!==f.dataArrayContainers.indexOf(Be.parts[0])?(o.manageArrayContainers(Be,Ke,Ze),Ae.calc=!0):(tr?tr.arrayOk&&!e.traceIs(Pe,"regl")&&(P.isArrayOrTypedArray(Ke)||P.isArrayOrTypedArray(Qe))?Ae.calc=!0:M.update(Ae,tr):Ae.calc=!0,Be.set(Ke))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(xe)&&a.swap(gt,vt),"orientationaxes"===xe){var Er=E(gt.layout,"hovermode"),Zr=Er.get();"x"===Zr?Er.set("y"):"y"===Zr?Er.set("x"):"x unified"===Zr?Er.set("y unified"):"y unified"===Zr&&Er.set("x unified")}if(-1!==["orientation","type"].indexOf(xe)){for(Lr=[],Oe=0;Oe<vt.length;Oe++){var rn=Qt[vt[Oe]];e.traceIs(rn,"cartesian")&&(Ve(rn.xaxis||"x"),Ve(rn.yaxis||"y"))}ie(Lr.map(He),!0,0),ie(Lr.map(wr),[0,1],0)}}else Be=he(gt.layout,xe.replace("LAYOUT","")),Ze[xe]=[X(Be.get())],Be.set(Array.isArray(Te)?Te[0]:Te),Ae.calc=!0}return(Ae.calc||Ae.plot)&&(Ae.fullReplot=!0),{flags:Ae,undoit:Ze,redoit:je,traces:vt,eventData:P.extendDeepNoArrays([],[ke,vt])}}function et(gt){var Yt,Qt,le,pt=P.counterRegex("axis",".title",!1,!1),vt=/colorbar\.title$/,yt=Object.keys(gt);for(Yt=0;Yt<yt.length;Yt++)le=gt[Qt=yt[Yt]],"title"!==Qt&&!pt.test(Qt)&&!vt.test(Qt)||"string"!=typeof le&&"number"!=typeof le?Qt.indexOf("titlefont")>-1&&-1===Qt.indexOf("grouptitlefont")?he(Qt,Qt.replace("titlefont","title.font")):Qt.indexOf("titleposition")>-1?he(Qt,Qt.replace("titleposition","title.position")):Qt.indexOf("titleside")>-1?he(Qt,Qt.replace("titleside","title.side")):Qt.indexOf("titleoffset")>-1&&he(Qt,Qt.replace("titleoffset","title.offset")):he(Qt,Qt.replace("title","title.text"));function he(ke,Oe){gt[Oe]=gt[ke],delete gt[ke]}}function st(gt,pt,vt){gt=P.getGraphDiv(gt),o.clearPromiseQueue(gt);var yt={};if("string"==typeof pt)yt[pt]=vt;else{if(!P.isPlainObject(pt))return P.warn("Relayout fail.",pt,vt),Promise.reject();yt=P.extendFlat({},pt)}Object.keys(yt).length&&(gt.changed=!0);var Yt=Mt(gt,yt),Qt=Yt.flags;Qt.calc&&(gt.calcdata=void 0);var le=[f.previousPromises];Qt.layoutReplot?le.push(h.layoutReplot):Object.keys(yt).length&&(dt(gt,Qt,Yt)||f.supplyDefaults(gt),Qt.legend&&le.push(h.doLegend),Qt.layoutstyle&&le.push(h.layoutStyles),Qt.axrange&&Tt(le,Yt.rangesAltered),Qt.ticks&&le.push(h.doTicksRelayout),Qt.modebar&&le.push(h.doModeBar),Qt.camera&&le.push(h.doCamera),Qt.colorbars&&le.push(h.doColorBars),le.push(b)),le.push(f.rehover,f.redrag,f.reselect),x.add(gt,st,[gt,Yt.undoit],st,[gt,Yt.redoit]);var he=P.syncOrAsync(le,gt);return(!he||!he.then)&&(he=Promise.resolve(gt)),he.then(function(){return gt.emit("plotly_relayout",Yt.eventData),gt})}function dt(gt,pt,vt){var yt=gt._fullLayout;if(!pt.axrange)return!1;for(var Yt in pt)if("axrange"!==Yt&&pt[Yt])return!1;for(var Qt in vt.rangesAltered){var le=a.id2name(Qt),he=gt.layout[le],ke=yt[le];if(ke.autorange=he.autorange,he.range&&(ke.range=he.range.slice()),ke.cleanRange(),ke._matchGroup)for(var Oe in ke._matchGroup)if(Oe!==Qt){var Ae=yt[a.id2name(Oe)];Ae.autorange=ke.autorange,Ae.range=ke.range.slice(),Ae._input.range=ke.range.slice()}}return!0}function Tt(gt,pt){gt.push(v,h.doAutoRangeAndConstraints,pt?function(yt){var Yt=[];for(var le in pt){var he=a.getFromId(yt,le);if(Yt.push(le),-1!==(he.ticklabelposition||"").indexOf("inside")&&he._anchorAxis&&Yt.push(he._anchorAxis._id),he._matchGroup)for(var ke in he._matchGroup)pt[ke]||Yt.push(ke)}return a.draw(yt,Yt,{skipTitle:!0})}:function(yt){return a.draw(yt,"redraw")},h.drawData,h.finalDraw)}var bt=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Dt=/^[xyz]axis[0-9]*\.autorange$/,Ft=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Mt(gt,pt){var Ae,je,Ze,vt=gt.layout,yt=gt._fullLayout,Qt=at(yt._preGUI,yt._guiEditing),le=Object.keys(pt),he=a.list(gt),ke=P.extendDeepAll({},pt),Oe={};for(et(pt),le=Object.keys(pt),je=0;je<le.length;je++)if(0===le[je].indexOf("allaxes")){for(Ze=0;Ze<he.length;Ze++){var Lr=he[Ze]._id.substr(1),fe=-1!==Lr.indexOf("scene")?Lr+".":"",Ve=le[je].replace("allaxes",fe+he[Ze]._name);pt[Ve]||(pt[Ve]=pt[le[je]])}delete pt[le[je]]}var He=M.layoutFlags(),wr={},ar={};function ie(yr,Fr){if(Array.isArray(yr))yr.forEach(function(_r){ie(_r,Fr)});else if(!(yr in pt)&&!o.hasParent(pt,yr)){var Br=Qt(vt,yr);yr in ar||(ar[yr]=X(Br.get())),void 0!==Fr&&Br.set(Fr)}}var ve,ne={};function xe(yr){var Fr=a.name2id(yr.split(".")[0]);return ne[Fr]=1,Fr}for(var Te in pt){if(o.hasParent(pt,Te))throw new Error("cannot set "+Te+" and a parent attribute simultaneously");for(var be=Qt(vt,Te),Pe=pt[Te],Qe=be.parts.length-1;Qe>0&&"string"!=typeof be.parts[Qe];)Qe--;var Ke=be.parts[Qe],tr=be.parts[Qe-1]+"."+Ke,vr=be.parts.slice(0,Qe).join("."),Ht=E(gt.layout,vr).get(),Nt=E(yt,vr).get(),Se=be.get();if(void 0!==Pe){wr[Te]=Pe,ar[Te]="reverse"===Ke?Pe:X(Se);var Le=r.getLayoutValObject(yt,be.parts);if(Le&&Le.impliedEdits&&null!==Pe)for(var We in Le.impliedEdits)ie(P.relativeAttr(Te,We),Le.impliedEdits[We]);if(-1!==["width","height"].indexOf(Te))if(Pe){ie("autosize",null);var rr="height"===Te?"width":"height";ie(rr,yt[rr])}else yt[Te]=gt._initialAutoSize[Te];else if("autosize"===Te)ie("width",Pe?null:yt.width),ie("height",Pe?null:yt.height);else if(tr.match(bt))xe(tr),E(yt,vr+"._inputRange").set(null);else if(tr.match(Dt)){xe(tr),E(yt,vr+"._inputRange").set(null);var or=E(yt,vr).get();or._inputDomain&&(or._input.domain=or._inputDomain.slice())}else tr.match(Ft)&&E(yt,vr+"._inputDomain").set(null);if("type"===Ke){ve=Ht;var qe="linear"===Nt.type&&"log"===Pe;if(qe||"log"===Nt.type&&"linear"===Pe){if(ve&&ve.range)if(Nt.autorange)qe&&(ve.range=ve.range[1]>ve.range[0]?[1,2]:[2,1]);else{var sr=ve.range[0],gr=ve.range[1];qe?(sr<=0&&gr<=0&&ie(vr+".autorange",!0),sr<=0?sr=gr/1e6:gr<=0&&(gr=sr/1e6),ie(vr+".range[0]",Math.log(sr)/Math.LN10),ie(vr+".range[1]",Math.log(gr)/Math.LN10)):(ie(vr+".range[0]",Math.pow(10,sr)),ie(vr+".range[1]",Math.pow(10,gr)))}else ie(vr+".autorange",!0);Array.isArray(yt._subplots.polar)&&yt._subplots.polar.length&&yt[be.parts[0]]&&"radialaxis"===be.parts[1]&&delete yt[be.parts[0]]._subplot.viewInitial["radialaxis.range"],e.getComponentMethod("annotations","convertCoords")(gt,Nt,Pe,ie),e.getComponentMethod("images","convertCoords")(gt,Nt,Pe,ie)}else ie(vr+".autorange",!0),ie(vr+".range",null);E(yt,vr+"._inputRange").set(null)}else if(Ke.match(T)){var dr=E(yt,Te).get(),Pr=(Pe||{}).type;(!Pr||"-"===Pr)&&(Pr="linear"),e.getComponentMethod("annotations","convertCoords")(gt,dr,Pr,ie),e.getComponentMethod("images","convertCoords")(gt,dr,Pr,ie)}var qr=d.containerArrayMatch(Te);if(qr){Ae=qr.array;var Er=qr.property,Zr=Le||{editType:"calc"};""!==(je=qr.index)&&""===Er&&(d.isAddVal(Pe)?ar[Te]=null:d.isRemoveVal(Pe)?ar[Te]=(E(vt,Ae).get()||[])[je]:P.warn("unrecognized full object value",pt)),M.update(He,Zr),Oe[Ae]||(Oe[Ae]={});var rn=Oe[Ae][je];rn||(rn=Oe[Ae][je]={}),rn[Er]=Pe,delete pt[Te]}else"reverse"===Ke?(Ht.range?Ht.range.reverse():(ie(vr+".autorange",!0),Ht.range=[1,0]),Nt.autorange?He.calc=!0:He.plot=!0):("dragmode"===Te&&(!1===Pe&&!1!==Se||!1!==Pe&&!1===Se)||yt._has("scatter-like")&&yt._has("regl")&&"dragmode"===Te&&("lasso"===Pe||"select"===Pe)&&"lasso"!==Se&&"select"!==Se||yt._has("gl2d")?He.plot=!0:Le?M.update(He,Le):He.calc=!0,be.set(Pe))}}for(Ae in Oe)d.applyContainerArrayChanges(gt,Qt(vt,Ae),Oe[Ae],He,Qt)||(He.plot=!0);for(var Pn in ne){var An=(ve=a.getFromId(gt,Pn))&&ve._constraintGroup;if(An)for(var lr in He.calc=!0,An)ne[lr]||(a.getFromId(gt,lr)._constraintShrinkable=!0)}return(wt(gt)||pt.height||pt.width)&&(He.plot=!0),(He.plot||He.calc)&&(He.layoutReplot=!0),{flags:He,rangesAltered:ne,undoit:ar,redoit:wr,eventData:ke}}function wt(gt){var pt=gt._fullLayout,vt=pt.width,yt=pt.height;return gt.layout.autosize&&f.plotAutoSize(gt,gt.layout,pt),pt.width!==vt||pt.height!==yt}function St(gt,pt,vt,yt){gt=P.getGraphDiv(gt),o.clearPromiseQueue(gt),P.isPlainObject(pt)||(pt={}),P.isPlainObject(vt)||(vt={}),Object.keys(pt).length&&(gt.changed=!0),Object.keys(vt).length&&(gt.changed=!0);var Yt=o.coerceTraceIndices(gt,yt),Qt=nt(gt,P.extendFlat({},pt),Yt),le=Qt.flags,he=Mt(gt,P.extendFlat({},vt)),ke=he.flags;(le.calc||ke.calc)&&(gt.calcdata=void 0),le.clearAxisTypes&&o.clearAxisTypes(gt,Yt,vt);var Oe=[];ke.layoutReplot?Oe.push(h.layoutReplot):le.fullReplot?Oe.push(W._doPlot):(Oe.push(f.previousPromises),dt(gt,ke,he)||f.supplyDefaults(gt),le.style&&Oe.push(h.doTraceStyle),(le.colorbars||ke.colorbars)&&Oe.push(h.doColorBars),ke.legend&&Oe.push(h.doLegend),ke.layoutstyle&&Oe.push(h.layoutStyles),ke.axrange&&Tt(Oe,he.rangesAltered),ke.ticks&&Oe.push(h.doTicksRelayout),ke.modebar&&Oe.push(h.doModeBar),ke.camera&&Oe.push(h.doCamera),Oe.push(b)),Oe.push(f.rehover,f.redrag,f.reselect),x.add(gt,St,[gt,Qt.undoit,he.undoit,Qt.traces],St,[gt,Qt.redoit,he.redoit,Qt.traces]);var Ae=P.syncOrAsync(Oe,gt);return(!Ae||!Ae.then)&&(Ae=Promise.resolve(gt)),Ae.then(function(){return gt.emit("plotly_update",{data:Qt.eventData,layout:he.eventData}),gt})}function Ut(gt){return function(vt){vt._fullLayout._guiEditing=!0;var yt=gt.apply(null,arguments);return vt._fullLayout._guiEditing=!1,yt}}var Gt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Pt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Vt(gt,pt){for(var vt=0;vt<pt.length;vt++){var yt=pt[vt],Yt=gt.match(yt.pattern);if(Yt){var Qt=Yt[1]||"";return{head:Qt,tail:gt.substr(Qt.length+1),attr:yt.attr}}}}function te(gt,pt){var vt=E(pt,gt).get();if(void 0!==vt)return vt;var yt=gt.split(".");for(yt.pop();yt.length>1;)if(yt.pop(),void 0!==(vt=E(pt,yt.join(".")+".uirevision").get()))return vt;return pt.uirevision}function _t(gt,pt){for(var vt=0;vt<pt.length;vt++)if(pt[vt]._fullInput.uid===gt)return vt;return-1}function kt(gt,pt,vt){for(var yt=0;yt<pt.length;yt++)if(pt[yt].uid===gt)return yt;return!pt[vt]||pt[vt].uid?-1:vt}function zt(gt,pt){var vt=P.isPlainObject(gt),yt=Array.isArray(gt);return vt||yt?(vt&&P.isPlainObject(pt)||yt&&Array.isArray(pt))&&JSON.stringify(gt)===JSON.stringify(pt):gt===pt}function ye(gt,pt,vt,yt){var Yt,Qt,le,he=yt.getValObject,ke=yt.flags,Oe=yt.immutable,Ae=yt.inArray,je=yt.arrayIndex;function Ze(){var vr=Yt.editType;Ae&&-1!==vr.indexOf("arraydraw")?P.pushUnique(ke.arrays[Ae],je):(M.update(ke,Yt),"none"!==vr&&ke.nChanges++,yt.transition&&Yt.anim&&ke.nChangesAnim++,(bt.test(le)||Dt.test(le))&&(ke.rangesAltered[vt[0]]=1),Ft.test(le)&&E(pt,"_inputDomain").set(null),"datarevision"===Qt&&(ke.newDataRevision=1))}function Lr(vr){return"data_array"===vr.valType||vr.arrayOk}for(Qt in gt){if(ke.calc&&!yt.transition)return;var fe=gt[Qt],Ve=pt[Qt],He=vt.concat(Qt);if(le=He.join("."),"_"!==Qt.charAt(0)&&"function"!=typeof fe&&fe!==Ve){if(("tick0"===Qt||"dtick"===Qt)&&"geo"!==vt[0]){var wr=pt.tickmode;if("auto"===wr||"array"===wr||!wr)continue}if(("range"!==Qt||!pt.autorange)&&("zmin"!==Qt&&"zmax"!==Qt||"contourcarpet"!==pt.type)&&(Yt=he(He))&&(!Yt._compareAsJSON||JSON.stringify(fe)!==JSON.stringify(Ve))){var ie,ar=Yt.valType,ne=Lr(Yt),ve=Array.isArray(fe),xe=Array.isArray(Ve);if(ve&&xe){var Te="_input_"+Qt,be=gt[Te],Pe=pt[Te];if(Array.isArray(be)&&be===Pe)continue}if(void 0===Ve)ne&&ve?ke.calc=!0:Ze();else if(Yt._isLinkedToArray){var Be=[],Qe=!1;Ae||(ke.arrays[Qt]=Be);var Ke=Math.min(fe.length,Ve.length),tr=Math.max(fe.length,Ve.length);if(Ke!==tr){if("arraydraw"!==Yt.editType){Ze();continue}Qe=!0}for(ie=0;ie<Ke;ie++)ye(fe[ie],Ve[ie],He.concat(ie),P.extendFlat({inArray:Qt,arrayIndex:ie},yt));if(Qe)for(ie=Ke;ie<tr;ie++)Be.push(ie)}else!ar&&P.isPlainObject(fe)?ye(fe,Ve,He,yt):ne?ve&&xe?(Oe&&(ke.calc=!0),(Oe||yt.newDataRevision)&&Ze()):ve!==xe?ke.calc=!0:Ze():ve&&xe?(fe.length!==Ve.length||String(fe)!==String(Ve))&&Ze():Ze()}}}for(Qt in pt)if(!(Qt in gt)&&"_"!==Qt.charAt(0)&&"function"!=typeof pt[Qt]){if(Lr(Yt=he(vt.concat(Qt)))&&Array.isArray(pt[Qt]))return void(ke.calc=!0);Ze()}}function Fe(gt,pt){var vt;for(vt in gt)if("_"!==vt.charAt(0)){var yt=gt[vt],Yt=pt[vt];if(yt!==Yt)if(P.isPlainObject(yt)&&P.isPlainObject(Yt)){if(Fe(yt,Yt))return!0}else{if(!Array.isArray(yt)||!Array.isArray(Yt))return!0;if(yt.length!==Yt.length)return!0;for(var Qt=0;Qt<yt.length;Qt++)if(yt[Qt]!==Yt[Qt]){if(!P.isPlainObject(yt[Qt])||!P.isPlainObject(Yt[Qt]))return!0;if(Fe(yt[Qt],Yt[Qt]))return!0}}}}function Ot(gt){var pt=gt._fullLayout,vt=gt.getBoundingClientRect();if(!P.equalDomRects(vt,pt._lastBBox)){var yt=pt._invTransform=P.inverseTransformMatrix(P.getFullTransformMatrix(gt));pt._invScaleX=Math.sqrt(yt[0][0]*yt[0][0]+yt[0][1]*yt[0][1]+yt[0][2]*yt[0][2]),pt._invScaleY=Math.sqrt(yt[1][0]*yt[1][0]+yt[1][1]*yt[1][1]+yt[1][2]*yt[1][2]),pt._lastBBox=vt}}W.animate=function Zt(gt,pt,vt){if(gt=P.getGraphDiv(gt),!P.isPlotDiv(gt))throw new Error("This element is not a Plotly plot: "+gt+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var yt=gt._transitionData;yt._frameQueue||(yt._frameQueue=[]);var Yt=(vt=f.supplyAnimationDefaults(vt)).transition,Qt=vt.frame;function le(Oe){return Array.isArray(Yt)?Oe>=Yt.length?Yt[0]:Yt[Oe]:Yt}function he(Oe){return Array.isArray(Qt)?Oe>=Qt.length?Qt[0]:Qt[Oe]:Qt}function ke(Oe,Ae){var je=0;return function(){if(Oe&&++je===Ae)return Oe()}}return void 0===yt._frameWaitingCnt&&(yt._frameWaitingCnt=0),new Promise(function(Oe,Ae){var He=0;function wr(Ke){return Ke.transitionOpts=Array.isArray(Yt)?He>=Yt.length?Yt[He]:Yt[0]:Yt,He++,Ke}var ar,ie,ne=[],ve=null==pt,xe=Array.isArray(pt);if(ve||xe||!P.isPlainObject(pt)){if(ve||-1!==["string","number"].indexOf(typeof pt))for(ar=0;ar<yt._frames.length;ar++)(ie=yt._frames[ar])&&(ve||String(ie.group)===String(pt))&&ne.push({type:"byname",name:String(ie.name),data:wr({name:ie.name})});else if(xe)for(ar=0;ar<pt.length;ar++){var be=pt[ar];-1!==["number","string"].indexOf(typeof be)?(be=String(be),ne.push({type:"byname",name:be,data:wr({name:be})})):P.isPlainObject(be)&&ne.push({type:"object",data:wr(P.extendFlat({},be))})}}else ne.push({type:"object",data:wr(P.extendFlat({},pt))});for(ar=0;ar<ne.length;ar++)if("byname"===(ie=ne[ar]).type&&!yt._frameHash[ie.data.name])return P.warn('animate failure: frame not found: "'+ie.data.name+'"'),void Ae();-1!==["next","immediate"].indexOf(vt.mode)&&function je(){if(0!==yt._frameQueue.length){for(;yt._frameQueue.length;){var Ke=yt._frameQueue.pop();Ke.onInterrupt&&Ke.onInterrupt()}gt.emit("plotly_animationinterrupted",[])}}(),"reverse"===vt.direction&&ne.reverse();var Pe=gt._fullLayout._currentFrame;if(Pe&&vt.fromcurrent){var Be=-1;for(ar=0;ar<ne.length;ar++)if("byname"===(ie=ne[ar]).type&&ie.name===Pe){Be=ar;break}if(Be>0&&Be<ne.length-1){var Qe=[];for(ar=0;ar<ne.length;ar++)ie=ne[ar],("byname"!==ne[ar].type||ar>Be)&&Qe.push(ie);ne=Qe}}ne.length>0?function Ze(Ke){if(0!==Ke.length){for(var tr=0;tr<Ke.length;tr++){var vr;vr="byname"===Ke[tr].type?f.computeFrame(gt,Ke[tr].name):Ke[tr].data;var Ht=he(tr),Nt=le(tr);Nt.duration=Math.min(Nt.duration,Ht.duration);var Se={frame:vr,name:Ke[tr].name,frameOpts:Ht,transitionOpts:Nt};tr===Ke.length-1&&(Se.onComplete=ke(Oe,2),Se.onInterrupt=Ae),yt._frameQueue.push(Se)}"immediate"===vt.mode&&(yt._lastFrameAt=-1/0),yt._animationRaf||function Ve(){gt.emit("plotly_animating"),yt._lastFrameAt=-1/0,yt._timeToNext=0,yt._runningTransitions=0,yt._currentFrame=null;var Ke=function(){yt._animationRaf=window.requestAnimationFrame(Ke),Date.now()-yt._lastFrameAt>yt._timeToNext&&function fe(){yt._currentFrame&&yt._currentFrame.onComplete&&yt._currentFrame.onComplete();var Ke=yt._currentFrame=yt._frameQueue.shift();if(Ke){var tr=Ke.name?Ke.name.toString():null;gt._fullLayout._currentFrame=tr,yt._lastFrameAt=Date.now(),yt._timeToNext=Ke.frameOpts.duration,f.transition(gt,Ke.frame.data,Ke.frame.layout,o.coerceTraceIndices(gt,Ke.frame.traces),Ke.frameOpts,Ke.transitionOpts).then(function(){Ke.onComplete&&Ke.onComplete()}),gt.emit("plotly_animatingframe",{name:tr,frame:Ke.frame,animation:{frame:Ke.frameOpts,transition:Ke.transitionOpts}})}else!function Lr(){gt.emit("plotly_animated"),window.cancelAnimationFrame(yt._animationRaf),yt._animationRaf=null}()}()};Ke()}()}}(ne):(gt.emit("plotly_animated"),Oe())})},W.addFrames=function Ct(gt,pt,vt){if(gt=P.getGraphDiv(gt),null==pt)return Promise.resolve();if(!P.isPlotDiv(gt))throw new Error("This element is not a Plotly plot: "+gt+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var yt,Yt,Qt,le,he=gt._transitionData._frames,ke=gt._transitionData._frameHash;if(!Array.isArray(pt))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+pt);var Oe=he.length+2*pt.length,Ae=[],je={};for(yt=pt.length-1;yt>=0;yt--)if(P.isPlainObject(pt[yt])){var Ze=pt[yt].name,Lr=(ke[Ze]||je[Ze]||{}).name,fe=pt[yt].name;Lr&&fe&&"number"==typeof fe&&(ke[Lr]||je[Lr])&&L<5&&(L++,P.warn('addFrames: overwriting frame "'+(ke[Lr]||je[Lr]).name+'" with a frame whose name of type "number" also equates to "'+Lr+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===L&&P.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),je[Ze]={name:Ze},Ae.push({frame:f.supplyFrameDefaults(pt[yt]),index:vt&&null!=vt[yt]?vt[yt]:Oe+yt})}Ae.sort(function(Te,be){return Te.index>be.index?-1:Te.index<be.index?1:0});var He=[],wr=[],ar=he.length;for(yt=Ae.length-1;yt>=0;yt--){if("number"==typeof(Yt=Ae[yt].frame).name&&P.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Yt.name)for(;ke[Yt.name="frame "+gt._transitionData._counter++];);if(ke[Yt.name]){for(Qt=0;Qt<he.length&&(he[Qt]||{}).name!==Yt.name;Qt++);He.push({type:"replace",index:Qt,value:Yt}),wr.unshift({type:"replace",index:Qt,value:he[Qt]})}else le=Math.max(0,Math.min(Ae[yt].index,ar)),He.push({type:"insert",index:le,value:Yt}),wr.unshift({type:"delete",index:le}),ar++}return x&&x.add(gt,f.modifyFrames,[gt,wr],f.modifyFrames,[gt,He]),f.modifyFrames(gt,He)},W.deleteFrames=function Et(gt,pt){if(gt=P.getGraphDiv(gt),!P.isPlotDiv(gt))throw new Error("This element is not a Plotly plot: "+gt);var vt,yt,Yt=gt._transitionData._frames,Qt=[],le=[];if(!pt)for(pt=[],vt=0;vt<Yt.length;vt++)pt.push(vt);for((pt=pt.slice()).sort(),vt=pt.length-1;vt>=0;vt--)Qt.push({type:"delete",index:yt=pt[vt]}),le.unshift({type:"insert",index:yt,value:Yt[yt]});return x&&x.add(gt,f.modifyFrames,[gt,le],f.modifyFrames,[gt,Qt]),f.modifyFrames(gt,Qt)},W.addTraces=function J(gt,pt,vt){gt=P.getGraphDiv(gt);var ke,Oe,yt=[],Yt=W.deleteTraces,Qt=J,le=[gt,yt],he=[gt,pt];for(function z(gt,pt,vt){var yt,Yt;if(!Array.isArray(gt.data))throw new Error("gd.data must be an array.");if(void 0===pt)throw new Error("traces must be defined.");for(Array.isArray(pt)||(pt=[pt]),yt=0;yt<pt.length;yt++)if("object"!=typeof(Yt=pt[yt])||Array.isArray(Yt)||null===Yt)throw new Error("all values in traces array must be non-array objects");if(void 0!==vt&&!Array.isArray(vt)&&(vt=[vt]),void 0!==vt&&vt.length!==pt.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(gt,pt,vt),Array.isArray(pt)||(pt=[pt]),pt=pt.map(function(Ae){return P.extendFlat({},Ae)}),o.cleanData(pt),ke=0;ke<pt.length;ke++)gt.data.push(pt[ke]);for(ke=0;ke<pt.length;ke++)yt.push(-pt.length+ke);if(void 0===vt)return Oe=W.redraw(gt),x.add(gt,Yt,le,Qt,he),Oe;Array.isArray(vt)||(vt=[vt]);try{B(gt,yt,vt)}catch(Ae){throw gt.data.splice(gt.data.length-pt.length,pt.length),Ae}return x.startSequence(gt),x.add(gt,Yt,le,Qt,he),Oe=W.moveTraces(gt,yt,vt),x.stopSequence(gt),Oe},W.deleteTraces=function j(gt,pt){gt=P.getGraphDiv(gt);var he,ke,vt=[],yt=W.addTraces,Yt=j,Qt=[gt,vt,pt],le=[gt,pt];if(void 0===pt)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(pt)||(pt=[pt]),O(gt,pt,"indices"),(pt=k(pt,gt.data.length-1)).sort(P.sorterDes),he=0;he<pt.length;he+=1)ke=gt.data.splice(pt[he],1)[0],vt.push(ke);var Oe=W.redraw(gt);return x.add(gt,yt,Qt,Yt,le),Oe},W.extendTraces=function it(gt,pt,vt,yt){function Yt(ke,Oe,Ae){var je,Ze;if(P.isTypedArray(ke))if(Ae<0){var Lr=new ke.constructor(0),fe=rt(ke,Oe);Ae<0?(je=fe,Ze=Lr):(je=Lr,Ze=fe)}else if(je=new ke.constructor(Ae),Ze=new ke.constructor(ke.length+Oe.length-Ae),Ae===Oe.length)je.set(Oe),Ze.set(ke);else if(Ae<Oe.length){var Ve=Oe.length-Ae;je.set(Oe.subarray(Ve)),Ze.set(ke),Ze.set(Oe.subarray(0,Ve),ke.length)}else{var He=Ae-Oe.length,wr=ke.length-He;je.set(ke.subarray(wr)),je.set(Oe,He),Ze.set(ke.subarray(0,wr))}else je=ke.concat(Oe),Ze=Ae>=0&&Ae<je.length?je.splice(0,je.length-Ae):[];return[je,Ze]}var Qt=Q(gt=P.getGraphDiv(gt),pt,vt,yt,Yt),le=W.redraw(gt);return x.add(gt,W.prependTraces,[gt,Qt.update,vt,Qt.maxPoints],it,arguments),le},W.moveTraces=function Z(gt,pt,vt){var Oe,yt=[],Yt=[],Qt=Z,le=Z,he=[gt=P.getGraphDiv(gt),vt,pt],ke=[gt,pt,vt];if(B(gt,pt,vt),pt=Array.isArray(pt)?pt:[pt],void 0===vt)for(vt=[],Oe=0;Oe<pt.length;Oe++)vt.push(-pt.length+Oe);for(vt=Array.isArray(vt)?vt:[vt],pt=k(pt,gt.data.length-1),vt=k(vt,gt.data.length-1),Oe=0;Oe<gt.data.length;Oe++)-1===pt.indexOf(Oe)&&yt.push(gt.data[Oe]);for(Oe=0;Oe<pt.length;Oe++)Yt.push({newIndex:vt[Oe],trace:gt.data[pt[Oe]]});for(Yt.sort(function(je,Ze){return je.newIndex-Ze.newIndex}),Oe=0;Oe<Yt.length;Oe+=1)yt.splice(Yt[Oe].newIndex,0,Yt[Oe].trace);gt.data=yt;var Ae=W.redraw(gt);return x.add(gt,Qt,he,le,ke),Ae},W.prependTraces=function ut(gt,pt,vt,yt){function Yt(ke,Oe,Ae){var je,Ze;if(P.isTypedArray(ke))if(Ae<=0){var Lr=new ke.constructor(0),fe=rt(Oe,ke);Ae<0?(je=fe,Ze=Lr):(je=Lr,Ze=fe)}else if(je=new ke.constructor(Ae),Ze=new ke.constructor(ke.length+Oe.length-Ae),Ae===Oe.length)je.set(Oe),Ze.set(ke);else if(Ae<Oe.length){var Ve=Oe.length-Ae;je.set(Oe.subarray(0,Ve)),Ze.set(Oe.subarray(Ve)),Ze.set(ke,Ve)}else{var He=Ae-Oe.length;je.set(Oe),je.set(ke.subarray(0,He),Oe.length),Ze.set(ke.subarray(He))}else je=Oe.concat(ke),Ze=Ae>=0&&Ae<je.length?je.splice(Ae,je.length):[];return[je,Ze]}var Qt=Q(gt=P.getGraphDiv(gt),pt,vt,yt,Yt),le=W.redraw(gt);return x.add(gt,W.extendTraces,[gt,Qt.update,vt,Qt.maxPoints],ut,arguments),le},W.newPlot=function N(gt,pt,vt,yt){return gt=P.getGraphDiv(gt),f.cleanPlot([],{},gt._fullData||[],gt._fullLayout||{}),f.purge(gt),W._doPlot(gt,pt,vt,yt)},W._doPlot=function S(gt,pt,vt,yt){var Yt;if(gt=P.getGraphDiv(gt),l.init(gt),P.isPlainObject(pt)){var Qt=pt;pt=Qt.data,vt=Qt.layout,yt=Qt.config,Yt=Qt.frames}if(!1===l.triggerHandler(gt,"plotly_beforeplot",[pt,vt,yt]))return Promise.reject();!pt&&!vt&&!P.isPlotDiv(gt)&&P.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",gt),F(gt,yt),vt||(vt={}),A.select(gt).classed("js-plotly-plot",!0),s.makeTester(),Array.isArray(gt._promises)||(gt._promises=[]);var ke=0===(gt.data||[]).length&&Array.isArray(pt);Array.isArray(pt)&&(o.cleanData(pt),ke?gt.data=pt:gt.data.push.apply(gt.data,pt),gt.empty=!1),(!gt.layout||ke)&&(gt.layout=o.cleanLayout(vt)),f.supplyDefaults(gt);var Oe=gt._fullLayout,Ae=Oe._has("cartesian");Oe._replotting=!0,(ke||Oe._shouldCreateBgLayer)&&(function It(gt){var pt=A.select(gt),vt=gt._fullLayout;if(vt._calcInverseTransform=Ot,vt._calcInverseTransform(gt),vt._container=pt.selectAll(".plot-container").data([0]),vt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),vt._paperdiv=vt._container.selectAll(".svg-container").data([0]),vt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),vt._glcontainer=vt._paperdiv.selectAll(".gl-container").data([{}]),vt._glcontainer.enter().append("div").classed("gl-container",!0),vt._paperdiv.selectAll(".main-svg").remove(),vt._paperdiv.select(".modebar-container").remove(),vt._paper=vt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),vt._toppaper=vt._paperdiv.append("svg").classed("main-svg",!0),vt._modebardiv=vt._paperdiv.append("div"),delete vt._modeBar,vt._hoverpaper=vt._paperdiv.append("svg").classed("main-svg",!0),!vt._uid){var yt={};A.selectAll("defs").each(function(){this.id&&(yt[this.id.split("-")[1]]=1)}),vt._uid=P.randstr(yt)}vt._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),vt._defs=vt._paper.append("defs").attr("id","defs-"+vt._uid),vt._clips=vt._defs.append("g").classed("clips",!0),vt._topdefs=vt._toppaper.append("defs").attr("id","topdefs-"+vt._uid),vt._topclips=vt._topdefs.append("g").classed("clips",!0),vt._bgLayer=vt._paper.append("g").classed("bglayer",!0),vt._draggers=vt._paper.append("g").classed("draglayer",!0);var Yt=vt._paper.append("g").classed("layer-below",!0);vt._imageLowerLayer=Yt.append("g").classed("imagelayer",!0),vt._shapeLowerLayer=Yt.append("g").classed("shapelayer",!0),vt._cartesianlayer=vt._paper.append("g").classed("cartesianlayer",!0),vt._polarlayer=vt._paper.append("g").classed("polarlayer",!0),vt._smithlayer=vt._paper.append("g").classed("smithlayer",!0),vt._ternarylayer=vt._paper.append("g").classed("ternarylayer",!0),vt._geolayer=vt._paper.append("g").classed("geolayer",!0),vt._funnelarealayer=vt._paper.append("g").classed("funnelarealayer",!0),vt._pielayer=vt._paper.append("g").classed("pielayer",!0),vt._iciclelayer=vt._paper.append("g").classed("iciclelayer",!0),vt._treemaplayer=vt._paper.append("g").classed("treemaplayer",!0),vt._sunburstlayer=vt._paper.append("g").classed("sunburstlayer",!0),vt._indicatorlayer=vt._toppaper.append("g").classed("indicatorlayer",!0),vt._glimages=vt._paper.append("g").classed("glimages",!0);var Qt=vt._toppaper.append("g").classed("layer-above",!0);vt._imageUpperLayer=Qt.append("g").classed("imagelayer",!0),vt._shapeUpperLayer=Qt.append("g").classed("shapelayer",!0),vt._selectionLayer=vt._toppaper.append("g").classed("selectionlayer",!0),vt._infolayer=vt._toppaper.append("g").classed("infolayer",!0),vt._menulayer=vt._toppaper.append("g").classed("menulayer",!0),vt._zoomlayer=vt._toppaper.append("g").classed("zoomlayer",!0),vt._hoverlayer=vt._hoverpaper.append("g").classed("hoverlayer",!0),vt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),gt.emit("plotly_framework")}(gt),Oe._shouldCreateBgLayer&&delete Oe._shouldCreateBgLayer),s.initGradients(gt),s.initPatterns(gt),ke&&a.saveShowSpikeInitial(gt);var je=!gt.calcdata||gt.calcdata.length!==(gt._fullData||[]).length;je&&f.doCalcdata(gt);for(var Ze=0;Ze<gt.calcdata.length;Ze++)gt.calcdata[Ze][0].trace=gt._fullData[Ze];gt._context.responsive?gt._responsiveChartHandler||(gt._responsiveChartHandler=function(){P.isHidden(gt)||f.resize(gt)},window.addEventListener("resize",gt._responsiveChartHandler)):P.clearResponsive(gt);var Lr=P.extendFlat({},Oe._size),fe=0;function He(){if(f.clearAutoMarginIds(gt),h.drawMarginPushers(gt),a.allowAutoMargin(gt),gt._fullLayout.title.text&&gt._fullLayout.title.automargin&&f.allowAutoMargin(gt,"title.automargin"),Oe._has("pie"))for(var be=gt._fullData,Pe=0;Pe<be.length;Pe++){var Be=be[Pe];"pie"===Be.type&&Be.automargin&&f.allowAutoMargin(gt,"pie."+Be.uid+".automargin")}return f.doAutoMargin(gt),f.previousPromises(gt)}function ie(){gt._transitioning||(h.doAutoRangeAndConstraints(gt),ke&&a.saveRangeInitial(gt),e.getComponentMethod("rangeslider","calcAutorange")(gt))}var ve=[f.previousPromises,function he(){if(Yt)return W.addFrames(gt,Yt)},function Ve(){for(var be=Oe._basePlotModules,Pe=0;Pe<be.length;Pe++)be[Pe].drawFramework&&be[Pe].drawFramework(gt);!Oe._glcanvas&&Oe._has("gl")&&(Oe._glcanvas=Oe._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(tr){return tr.key}),Oe._glcanvas.enter().append("canvas").attr("class",function(tr){return"gl-canvas gl-canvas-"+tr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Be=gt._context.plotGlPixelRatio;if(Oe._glcanvas){Oe._glcanvas.attr("width",Oe.width*Be).attr("height",Oe.height*Be).style("width",Oe.width+"px").style("height",Oe.height+"px");var Qe=Oe._glcanvas.data()[0].regl;if(Qe&&(Math.floor(Oe.width*Be)!==Qe._gl.drawingBufferWidth||Math.floor(Oe.height*Be)!==Qe._gl.drawingBufferHeight)){var Ke="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!fe)return P.log(Ke+" Clearing graph and plotting again."),f.cleanPlot([],{},gt._fullData,Oe),f.supplyDefaults(gt),Oe=gt._fullLayout,f.doCalcdata(gt),fe++,Ve();P.error(Ke)}}return"h"===Oe.modebar.orientation?Oe._modebardiv.style("height",null).style("width","100%"):Oe._modebardiv.style("width",null).style("height",Oe.height+"px"),f.previousPromises(gt)},He,function wr(){if(f.didMarginChange(Lr,Oe._size))return P.syncOrAsync([He,h.layoutStyles],gt)}];Ae&&ve.push(function ar(){if(je)return P.syncOrAsync([e.getComponentMethod("shapes","calcAutorange"),e.getComponentMethod("annotations","calcAutorange"),ie],gt);ie()}),ve.push(h.layoutStyles),Ae&&ve.push(function ne(){return a.draw(gt,ke?"":"redraw")},function(Pe){Pe._fullLayout._insideTickLabelsAutorange&&st(Pe,Pe._fullLayout._insideTickLabelsAutorange).then(function(){Pe._fullLayout._insideTickLabelsAutorange=void 0})}),ve.push(h.drawData,h.finalDraw,u,f.addLinks,f.rehover,f.redrag,f.reselect,f.doAutoMargin,function xe(be){be._fullLayout._insideTickLabelsAutorange&&ke&&a.saveRangeInitial(be,!0)},f.previousPromises);var Te=P.syncOrAsync(ve,gt);return(!Te||!Te.then)&&(Te=Promise.resolve()),Te.then(function(){return b(gt),gt})},W.purge=function Rt(gt){var pt=(gt=P.getGraphDiv(gt))._fullLayout||{};return f.cleanPlot([],{},gt._fullData||[],pt),f.purge(gt),l.purge(gt),pt._container&&pt._container.remove(),delete gt._context,gt},W.react=function ae(gt,pt,vt,yt){var Yt,Qt;gt=P.getGraphDiv(gt),o.clearPromiseQueue(gt);var he=gt._fullData,ke=gt._fullLayout;if(P.isPlotDiv(gt)&&he&&ke){if(P.isPlainObject(pt)){var Oe=pt;pt=Oe.data,vt=Oe.layout,yt=Oe.config,Yt=Oe.frames}var Ae=!1;if(yt){var je=P.extendDeep({},gt._context);gt._context=void 0,F(gt,yt),Ae=Fe(je,gt._context)}gt.data=pt||[],o.cleanData(gt.data),gt.layout=vt||{},o.cleanLayout(gt.layout),function qt(gt,pt,vt,yt){var Qt,le,he,ke,Oe,Ae,je,Ze,Lr,fe,Yt=yt._preGUI,Ve=[],He={},wr={};for(Qt in Yt){if(Oe=Vt(Qt,Gt)){if(Lr=Oe.head,fe=Oe.tail,(ke=(he=E(yt,le=Oe.attr||Lr+".uirevision").get())&&te(le,pt))&&ke===he){if(null===(Ae=Yt[Qt])&&(Ae=void 0),zt(Ze=(je=E(pt,Qt)).get(),Ae)){void 0===Ze&&"autorange"===fe&&Ve.push(Lr),je.set(X(E(yt,Qt).get()));continue}if("autorange"===fe||"range["===fe.substr(0,6)){var ne=Yt[Lr+".autorange"];if(ne||null===ne&&null===Yt[Lr+".range[0]"]&&null===Yt[Lr+".range[1]"]){if(!(Lr in He)){var ve=E(pt,Lr).get();He[Lr]=ve&&(ve.autorange||!1!==ve.autorange&&(!ve.range||2!==ve.range.length))}if(He[Lr]){je.set(X(E(yt,Qt).get()));continue}}}}}else P.warn("unrecognized GUI edit: "+Qt);delete Yt[Qt],Oe&&"range["===Oe.tail.substr(0,6)&&(wr[Oe.head]=1)}for(var xe=0;xe<Ve.length;xe++){var Te=Ve[xe];if(wr[Te]){var be=E(pt,Te).get();be&&delete be.autorange}}var Pe=yt._tracePreGUI;for(var Be in Pe){var tr,Qe=Pe[Be],Ke=null;for(Qt in Qe){if(!Ke){var vr=_t(Be,vt);if(vr<0){delete Pe[Be];break}var Nt=kt(Be,gt,(tr=vt[vr]._fullInput).index);if(Nt<0){delete Pe[Be];break}Ke=gt[Nt]}if(Oe=Vt(Qt,Pt)){if(Oe.attr?ke=(he=E(yt,Oe.attr).get())&&te(Oe.attr,pt):(he=tr.uirevision,void 0===(ke=Ke.uirevision)&&(ke=pt.uirevision)),ke&&ke===he&&(null===(Ae=Qe[Qt])&&(Ae=void 0),zt(Ze=(je=E(Ke,Qt)).get(),Ae))){je.set(X(E(tr,Qt).get()));continue}}else P.warn("unrecognized GUI edit: "+Qt+" in trace uid "+Be);delete Qe[Qt]}}}(gt.data,gt.layout,he,ke),f.supplyDefaults(gt,{skipUpdateCalc:!0});var Ze=gt._fullData,Lr=gt._fullLayout,fe=void 0===Lr.datarevision,Ve=Lr.transition,He=function pe(gt,pt,vt,yt,Yt){var Qt=M.layoutFlags();function le(ke){return r.getLayoutValObject(vt,ke)}return Qt.arrays={},Qt.rangesAltered={},Qt.nChanges=0,Qt.nChangesAnim=0,ye(pt,vt,[],{getValObject:le,flags:Qt,immutable:yt,transition:Yt,gd:gt}),(Qt.plot||Qt.calc)&&(Qt.layoutReplot=!0),Yt&&Qt.nChanges&&Qt.nChangesAnim&&(Qt.anim=Qt.nChanges===Qt.nChangesAnim?"all":"some"),Qt}(gt,ke,Lr,fe,Ve),ar=function oe(gt,pt,vt,yt,Yt,Qt){var le=pt.length===vt.length;if(!Yt&&!le)return{fullReplot:!0,calc:!0};var ke,Oe,he=M.traceFlags();function Ae(Lr){var fe=r.getTraceValObject(Oe,Lr);return!Oe._module.animatable&&fe.anim&&(fe.anim=!1),fe}he.arrays={},he.nChanges=0,he.nChangesAnim=0;var je={getValObject:Ae,flags:he,immutable:yt,transition:Yt,newDataRevision:Qt,gd:gt},Ze={};for(ke=0;ke<pt.length;ke++)if(vt[ke]){if(f.hasMakesDataTransform(Oe=vt[ke]._fullInput)&&(Oe=vt[ke]),Ze[Oe.uid])continue;Ze[Oe.uid]=1,ye(pt[ke]._fullInput,Oe,[],je)}return(he.calc||he.plot)&&(he.fullReplot=!0),Yt&&he.nChanges&&he.nChangesAnim&&(he.anim=he.nChanges===he.nChangesAnim&&le?"all":"some"),he}(gt,he,Ze,fe,Ve,He.newDataRevision);if(wt(gt)&&(He.layoutReplot=!0),ar.calc||He.calc){gt.calcdata=void 0;for(var ie=Object.getOwnPropertyNames(Lr),ne=0;ne<ie.length;ne++){var ve=ie[ne],xe=ve.substring(0,5);if("xaxis"===xe||"yaxis"===xe){var Te=Lr[ve]._emptyCategories;Te&&Te()}}}else f.supplyDefaultsUpdateCalc(gt.calcdata,Ze);var be=[];if(Yt&&(gt._transitionData={},f.createTransitionData(gt),be.push(function le(){return W.addFrames(gt,Yt)})),Lr.transition&&!Ae&&(ar.anim||He.anim))He.ticks&&be.push(h.doTicksRelayout),f.doCalcdata(gt),h.doAutoRangeAndConstraints(gt),be.push(function(){return f.transitionFromReact(gt,ar,He,ke)});else if(ar.fullReplot||He.layoutReplot||Ae)gt._fullLayout._skipDefaults=!0,be.push(W._doPlot);else{for(var Pe in He.arrays){var Be=He.arrays[Pe];if(Be.length){var Qe=e.getComponentMethod(Pe,"drawOne");if(Qe!==P.noop)for(var Ke=0;Ke<Be.length;Ke++)Qe(gt,Be[Ke]);else{var tr=e.getComponentMethod(Pe,"draw");if(tr===P.noop)throw new Error("cannot draw components: "+Pe);tr(gt)}}}be.push(f.previousPromises),ar.style&&be.push(h.doTraceStyle),(ar.colorbars||He.colorbars)&&be.push(h.doColorBars),He.legend&&be.push(h.doLegend),He.layoutstyle&&be.push(h.layoutStyles),He.axrange&&Tt(be),He.ticks&&be.push(h.doTicksRelayout),He.modebar&&be.push(h.doModeBar),He.camera&&be.push(h.doCamera),be.push(b)}be.push(f.rehover,f.redrag,f.reselect),(!(Qt=P.syncOrAsync(be,gt))||!Qt.then)&&(Qt=Promise.resolve(gt))}else Qt=W.newPlot(gt,pt,vt,yt);return Qt.then(function(){return gt.emit("plotly_react",{data:pt,layout:vt}),gt})},W.redraw=function D(gt){if(gt=P.getGraphDiv(gt),!P.isPlotDiv(gt))throw new Error("This element is not a Plotly plot: "+gt);return o.cleanData(gt.data),o.cleanLayout(gt.layout),gt.calcdata=void 0,W._doPlot(gt).then(function(){return gt.emit("plotly_redraw"),gt})},W.relayout=st,W.restyle=H,W.setPlotConfig=function n(gt){return P.extendFlat(w,gt)},W.update=St,W._guiRelayout=Ut(st),W._guiRestyle=Ut(H),W._guiUpdate=Ut(St),W._storeDirectGUIEdit=function K(gt,pt,vt){for(var yt in vt)_(yt,E(gt,yt).get(),vt[yt],pt)}},72075:function(tt){"use strict";var W={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},t={};(function A(g,i){for(var P in g){var E=g[P];E.valType?i[P]=E.dflt:(i[P]||(i[P]={}),A(E,i[P]))}})(W,t),tt.exports={configAttributes:W,dfltConfig:t}},86281:function(tt,W,t){"use strict";var A=t(73972),g=t(71828),i=t(9012),P=t(10820),E=t(31391),l=t(85594),x=t(72075).configAttributes,e=t(30962),r=g.extendDeepAll,f=g.isPlainObject,a=g.isArrayOrTypedArray,s=g.nestedProperty,c=g.valObjectMeta,u="_isSubplotObj",y="_isLinkedToArray",w="_deprecated",d=[u,y,"_arrayAttrRegexps",w];function h(N,k,O){if(!N)return!1;if(N._isLinkedToArray)if(M(k[O]))O++;else if(O<k.length)return!1;for(;O<k.length;O++){var B=N[k[O]];if(!f(B))break;if(N=B,O===k.length-1)break;if(N._isLinkedToArray){if(!M(k[++O]))return!1}else if("info_array"===N.valType){var z=k[++O];if(!M(z))return!1;var U=N.items;if(Array.isArray(U)){if(z>=U.length)return!1;if(2===N.dimensions){if(O++,k.length===O)return N;var G=k[O];if(!M(G))return!1;N=U[z][G]}else N=U[z]}else N=U}}return N}function M(N){return N===Math.round(N)&&N>=0}function L(){var k,O,N={};for(k in r(N,P),A.subplotsRegistry)if((O=A.subplotsRegistry[k]).layoutAttributes)if(Array.isArray(O.attr))for(var B=0;B<O.attr.length;B++)F(N,O,O.attr[B]);else F(N,O,"subplot"===O.attr?O.name:O.attr);for(k in A.componentsRegistry){var U=(O=A.componentsRegistry[k]).schema;if(U&&(U.subplots||U.layout)){var G=U.subplots;if(G&&G.xaxis&&!G.yaxis)for(var Q in G.xaxis)delete N.yaxis[Q];delete N.xaxis.shift,delete N.xaxis.autoshift}else"colorscale"===O.name?r(N,O.layoutAttributes):O.layoutAttributes&&D(N,O.layoutAttributes,O.name)}return{layoutAttributes:b(N)}}function S(){var N={frames:r({},E)};return b(N),N.frames}function b(N){return function n(N){function k(B){return{valType:"string",editType:"none"}}function O(B,z,U){W.isValObject(B)?(!0===B.arrayOk||"data_array"===B.valType)&&(U[z+"src"]=k(z)):f(B)&&(B.role="object")}W.crawl(N,O)}(N),function C(N){function k(O,B,z){if(O){var U=O[y];!U||(delete O[y],z[B]={items:{}},z[B].items[U]=O,z[B].role="object")}}W.crawl(N,k)}(N),function p(N){function k(O){for(var B in O)if(f(O[B]))k(O[B]);else if(Array.isArray(O[B]))for(var z=0;z<O[B].length;z++)k(O[B][z]);else O[B]instanceof RegExp&&(O[B]=O[B].toString())}k(N)}(N),N}function F(N,k,O){var B=s(N,O),z=r({},k.layoutAttributes);z[u]=!0,B.set(z)}function D(N,k,O){var B=s(N,O);B.set(r(B.get()||{},k))}W.IS_SUBPLOT_OBJ=u,W.IS_LINKED_TO_ARRAY=y,W.DEPRECATED=w,W.UNDERSCORE_ATTRS=d,W.get=function(){var N={};A.allTypes.forEach(function(O){N[O]=function T(N){var k,O;O=(k=A.modules[N]._module).basePlotModule;var B={type:null},z=r({},i),U=r({},k.attributes);W.crawl(U,function(rt,it,ut,J,j){s(z,j).set(void 0),void 0===rt&&s(U,j).set(void 0)}),r(B,z),A.traceIs(N,"noOpacity")&&delete B.opacity,A.traceIs(N,"showLegend")||(delete B.showlegend,delete B.legendgroup),A.traceIs(N,"noHover")&&(delete B.hoverinfo,delete B.hoverlabel),k.selectPoints||delete B.selectedpoints,r(B,U),O.attributes&&r(B,O.attributes),B.type=N;var G={meta:k.meta||{},categories:k.categories||{},animatable:Boolean(k.animatable),type:N,attributes:b(B)};if(k.layoutAttributes){var Q={};r(Q,k.layoutAttributes),G.layoutAttributes=b(Q)}return k.animatable||W.crawl(G,function(rt){W.isValObject(rt)&&"anim"in rt&&delete rt.anim}),G}(O)});var k={};return Object.keys(A.transformsRegistry).forEach(function(O){k[O]=function m(N){var O=r({},A.transformsRegistry[N].attributes);return Object.keys(A.componentsRegistry).forEach(function(B){var z=A.componentsRegistry[B];z.schema&&z.schema.transforms&&z.schema.transforms[N]&&Object.keys(z.schema.transforms[N]).forEach(function(U){D(O,z.schema.transforms[N][U],U)})}),{attributes:b(O)}}(O)}),{defs:{valObjects:c,metaKeys:d.concat(["description","role","editType","impliedEdits"]),editType:{traces:e.traces,layout:e.layout},impliedEdits:{}},traces:N,layout:L(),transforms:k,frames:S(),animation:b(l),config:b(x)}},W.crawl=function(N,k,O,B){var z=O||0;B=B||"",Object.keys(N).forEach(function(U){var G=N[U];if(-1===d.indexOf(U)){var Q=(B?B+".":"")+U;k(G,U,N,z,Q),!W.isValObject(G)&&f(G)&&"impliedEdits"!==U&&W.crawl(G,k,z+1,Q)}})},W.isValObject=function(N){return N&&void 0!==N.valType},W.findArrayAttributes=function(N){var z,U,k=[],O=[],B=[];function G(j,Z,H,X){O=O.slice(0,X).concat([Z]),B=B.slice(0,X).concat([j&&j._isLinkedToArray]),!j||"data_array"!==j.valType&&!0!==j.arrayOk||"colorbar"===O[X-1]&&("ticktext"===Z||"tickvals"===Z)||Q(z,0,"")}function Q(j,Z,H){var X=j[O[Z]],at=H+O[Z];if(Z===O.length-1)a(X)&&k.push(U+at);else if(B[Z]){if(Array.isArray(X))for(var _=0;_<X.length;_++)f(X[_])&&Q(X[_],Z+1,at+"["+_+"].")}else f(X)&&Q(X,Z+1,at+".")}z=N,U="",W.crawl(i,G),N._module&&N._module.attributes&&W.crawl(N._module.attributes,G);var rt=N.transforms;if(rt)for(var it=0;it<rt.length;it++){var ut=rt[it],J=ut._module;J&&(U="transforms["+it+"].",z=ut,W.crawl(J.attributes,G))}return k},W.getTraceValObject=function(N,k){var z,U,O=k[0],B=1;if("transforms"===O){if(1===k.length)return i.transforms;var G=N.transforms;if(!Array.isArray(G)||!G.length)return!1;var Q=k[1];if(!M(Q)||Q>=G.length)return!1;U=(z=(A.transformsRegistry[G[Q].type]||{}).attributes)&&z[k[2]],B=3}else{var rt=N._module;if(rt||(rt=(A.modules[N.type||i.type.dflt]||{})._module),!rt)return!1;if(!(U=(z=rt.attributes)&&z[O])){var it=rt.basePlotModule;it&&it.attributes&&(U=it.attributes[O])}U||(U=i[O])}return h(U,k,B)},W.getLayoutValObject=function(N,k){return h(function o(N,k){var O,B,z,U,G=N._basePlotModules;if(G){var Q;for(O=0;O<G.length;O++){if((z=G[O]).attrRegex&&z.attrRegex.test(k)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!Q&&z.layoutAttributes&&(Q=z.layoutAttributes)}var rt=z.baseLayoutAttrOverrides;if(rt&&k in rt)return rt[k]}if(Q)return Q}var it=N._modules;if(it)for(O=0;O<it.length;O++)if((U=it[O].layoutAttributes)&&k in U)return U[k];for(B in A.componentsRegistry){if("colorscale"===(z=A.componentsRegistry[B]).name&&0===k.indexOf("coloraxis"))return z.layoutAttributes[k];if(!z.schema&&k===z.name)return z.layoutAttributes}return k in P&&P[k]}(N,k[0]),k,1)}},44467:function(tt,W,t){"use strict";var A=t(71828),g=t(9012),i="templateitemname",P={name:{valType:"string",editType:"none"}};function E(x){return x&&"string"==typeof x}function l(x){return"s"!==x.charAt(x.length-1)&&A.warn("bad argument to arrayDefaultKey: "+x),x.substr(0,x.length-1)+"defaults"}P[i]={valType:"string",editType:"calc"},W.templatedArray=function(x,e){return e._isLinkedToArray=x,e.name=P.name,e[i]=P[i],e},W.traceTemplater=function(x){var r,f,e={};for(r in x)f=x[r],Array.isArray(f)&&f.length&&(e[r]=0);return{newTrace:function a(s){var c={type:r=A.coerce(s,{},g,"type"),_template:null};if(r in e){var u=e[r]%(f=x[r]).length;e[r]++,c._template=f[u]}return c}}},W.newContainer=function(x,e,r){var f=x._template,a=f&&(f[e]||r&&f[r]);return A.isPlainObject(a)||(a=null),x[e]={_template:a}},W.arrayTemplater=function(x,e,r){var f=x._template,a=f&&f[l(e)],s=f&&f[e];(!Array.isArray(s)||!s.length)&&(s=[]);var c={};return{newItem:function u(v){var w={name:v.name,_input:v},d=w[i]=v[i];if(!E(d))return w._template=a,w;for(var o=0;o<s.length;o++){var h=s[o];if(h.name===d)return c[d]=1,w._template=h,w}return w[r]=v[r]||!1,w._template=!1,w},defaultItems:function y(){for(var v=[],w=0;w<s.length;w++){var d=s[w],o=d.name;if(E(o)&&!c[o]){var h={_template:d,name:o,_input:{_templateitemname:o}};h[i]=d[i],v.push(h),c[o]=1}}return v}}},W.arrayDefaultKey=l,W.arrayEditor=function(x,e,r){var f=(A.nestedProperty(x,e).get()||[]).length,a=r._index,s=a>=f&&(r._input||{})._templateitemname;s&&(a=f);var u,c=e+"["+a+"]";function y(){u={},s&&(u[c]={},u[c][i]=s)}function w(h,M){s?A.nestedProperty(u[c],h).set(M):u[c+"."+h]=M}function d(){var h=u;return y(),h}return y(),{modifyBase:function v(h,M){u[h]=M},modifyItem:w,getUpdateObj:d,applyUpdate:function o(h,M){h&&w(h,M);var T=d();for(var L in T)A.nestedProperty(x,L).set(T[L])}}}},61549:function(tt,W,t){"use strict";var A=t(39898),g=t(73972),i=t(74875),P=t(71828),E=t(63893),l=t(33306),x=t(7901),e=t(91424),r=t(92998),f=t(64168),a=t(89298),s=t(18783),c=t(99082),u=c.enforce,y=c.clean,v=t(71739).doAutoRange,w="start";function h(O,B,z){for(var U=0;U<z.length;U++){var G=z[U][0],Q=z[U][1];if(!(G[0]>=O[1]||G[1]<=O[0])&&Q[0]<B[1]&&Q[1]>B[0])return!0}return!1}function M(O){var Q,rt,it,ut,J,j,B=O._fullLayout,z=B._size,U=z.p,G=a.list(O,"",!0);if(B._paperdiv.style({width:O._context.responsive&&B.autosize&&!O._context._hasZeroWidth&&!O.layout.width?"100%":B.width+"px",height:O._context.responsive&&B.autosize&&!O._context._hasZeroHeight&&!O.layout.height?"100%":B.height+"px"}).selectAll(".main-svg").call(e.setSize,B.width,B.height),O._context.setBackground(O,B.paper_bgcolor),W.drawMainTitle(O),f.manage(O),!B._has("cartesian"))return i.previousPromises(O);function Z(It,gt,pt){var vt=It._lw/2;return"x"===It._id.charAt(0)?gt?"top"===pt?gt._offset-U-vt:gt._offset+gt._length+U+vt:z.t+z.h*(1-(It.position||0))+vt%1:gt?"right"===pt?gt._offset+gt._length+U+vt:gt._offset-U-vt:z.l+z.w*(It.position||0)+vt%1}for(Q=0;Q<G.length;Q++){var H=(ut=G[Q])._anchorAxis;ut._linepositions={},ut._lw=e.crispRound(O,ut.linewidth,1),ut._mainLinePosition=Z(ut,H,ut.side),ut._mainMirrorPosition=ut.mirror&&H?Z(ut,H,s.OPPOSITE_SIDE[ut.side]):null}var X=[],at=[],_=[],K=1===x.opacity(B.paper_bgcolor)&&1===x.opacity(B.plot_bgcolor)&&B.paper_bgcolor===B.plot_bgcolor;for(rt in B._plots)if((it=B._plots[rt]).mainplot)it.bg&&it.bg.remove(),it.bg=void 0;else{var nt=it.xaxis.domain,et=it.yaxis.domain,st=it.plotgroup;if(h(nt,et,_)){var dt=st.node(),Tt=it.bg=P.ensureSingle(st,"rect","bg");dt.insertBefore(Tt.node(),dt.childNodes[0]),at.push(rt)}else st.select("rect.bg").remove(),_.push([nt,et]),K||(X.push(rt),at.push(rt))}var St,Ut,Gt,Pt,Vt,te,_t,kt,zt,qt,ae,oe,pe,bt=B._bgLayer.selectAll(".bg").data(X);for(bt.enter().append("rect").classed("bg",!0),bt.exit().remove(),bt.each(function(It){B._plots[It].bg=A.select(this)}),Q=0;Q<at.length;Q++)J=(it=B._plots[at[Q]]).xaxis,j=it.yaxis,it.bg&&void 0!==J._offset&&void 0!==j._offset&&it.bg.call(e.setRect,J._offset-U,j._offset-U,J._length+2*U,j._length+2*U).call(x.fill,B.plot_bgcolor).style("stroke-width",0);if(!B._hasOnlyLargeSploms)for(rt in B._plots){J=(it=B._plots[rt]).xaxis,j=it.yaxis;var Mt,wt,Dt=it.clipId="clip"+B._uid+rt+"plot",Ft=P.ensureSingleById(B._clips,"clipPath",Dt,function(It){It.classed("plotclip",!0).append("rect")});it.clipRect=Ft.select("rect").attr({width:J._length,height:j._length}),e.setTranslate(it.plot,J._offset,j._offset),it._hasClipOnAxisFalse?(Mt=null,wt=Dt):(Mt=Dt,wt=null),e.setClipUrl(it.plot,Mt,O),it.layerClipId=wt}function ye(It){return"M"+St+","+It+"H"+Ut}function Fe(It){return"M"+J._offset+","+It+"h"+J._length}function Zt(It){return"M"+It+","+kt+"V"+_t}function Ct(It){return void 0!==j._shift&&(It+=j._shift),"M"+It+","+j._offset+"v"+j._length}function Et(It,gt,pt){if(!It.showline||rt!==It._mainSubplot)return"";if(!It._anchorAxis)return pt(It._mainLinePosition);var vt=gt(It._mainLinePosition);return It.mirror&&(vt+=gt(It._mainMirrorPosition)),vt}for(rt in B._plots){j=(it=B._plots[rt]).yaxis;var Rt="M0,0";T(J=it.xaxis,rt)&&(Vt=m(J,"left",j,G),St=J._offset-(Vt?U+Vt:0),te=m(J,"right",j,G),Ut=J._offset+J._length+(te?U+te:0),Gt=Z(J,j,"bottom"),Pt=Z(J,j,"top"),(pe=!J._anchorAxis||rt!==J._mainSubplot)&&("allticks"===J.mirror||"all"===J.mirror)&&(J._linepositions[rt]=[Gt,Pt]),Rt=Et(J,ye,Fe),pe&&J.showline&&("all"===J.mirror||"allticks"===J.mirror)&&(Rt+=ye(Gt)+ye(Pt)),it.xlines.style("stroke-width",J._lw+"px").call(x.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),it.xlines.attr("d",Rt);var Ot="M0,0";T(j,rt)&&(ae=m(j,"bottom",J,G),_t=j._offset+j._length+(ae?U:0),oe=m(j,"top",J,G),kt=j._offset-(oe?U:0),zt=Z(j,J,"left"),qt=Z(j,J,"right"),(pe=!j._anchorAxis||rt!==j._mainSubplot)&&("allticks"===j.mirror||"all"===j.mirror)&&(j._linepositions[rt]=[zt,qt]),Ot=Et(j,Zt,Ct),pe&&j.showline&&("all"===j.mirror||"allticks"===j.mirror)&&(Ot+=Zt(zt)+Zt(qt)),it.ylines.style("stroke-width",j._lw+"px").call(x.stroke,j.showline?j.linecolor:"rgba(0,0,0,0)")),it.ylines.attr("d",Ot)}return a.makeClipPaths(O),i.previousPromises(O)}function T(O,B){return(O.ticks||O.showline)&&(B===O._mainSubplot||"all"===O.mirror||"allticks"===O.mirror)}function L(O,B,z){if(!z.showline||!z._lw)return!1;if("all"===z.mirror||"allticks"===z.mirror)return!0;var U=z._anchorAxis;if(!U)return!1;var G=s.FROM_BL[B];return z.side===B?U.domain[G]===O.domain[G]:z.mirror&&U.domain[1-G]===O.domain[1-G]}function m(O,B,z,U){if(L(O,B,z))return z._lw;for(var G=0;G<U.length;G++){var Q=U[G];if(Q._mainAxis===z._mainAxis&&L(O,B,Q))return Q._lw}return 0}function C(O,B,z,U){var G="title.automargin",Q=O._fullLayout.title,rt=Q.y>.5?"t":"b",it={x:Q.x,y:Q.y,t:0,b:0},ut={};"paper"===Q.yref&&function S(O,B,z,U,G){var Q="paper"===B.yref?O._fullLayout._size.h:O._fullLayout.height,rt=P.isTopAnchor(B)?U:U-G,it="b"===z?Q-rt:rt;return!(P.isTopAnchor(B)&&"t"===z||P.isBottomAnchor(B)&&"b"===z)&&it<G}(O,Q,rt,B,U)?it[rt]=z:"container"===Q.yref&&(ut[rt]=z,O._fullLayout._reservedMargin[G]=ut),i.allowAutoMargin(O,G),i.autoMargin(O,G,it)}function D(O){return"top"===O?s.CAP_SHIFT+.3+"em":"bottom"===O?"-0.3em":s.MID_SHIFT+"em"}W.layoutStyles=function(O){return P.syncOrAsync([i.doAutoMargin,M],O)},W.drawMainTitle=function(O){var B=O._fullLayout.title,z=O._fullLayout,U=function N(O){var B=O.title,z="middle";return P.isRightAnchor(B)?z="end":P.isLeftAnchor(B)&&(z=w),z}(z),G=function k(O){var B=O.title,z="0em";return P.isTopAnchor(B)?z=s.CAP_SHIFT+"em":P.isMiddleAnchor(B)&&(z=s.MID_SHIFT+"em"),z}(z),Q=function F(O,B){var z=O.title,U=O._size,G=0;return"0em"!==B&&B?B===s.CAP_SHIFT+"em"&&(G=z.pad.t):G=-z.pad.b,"auto"===z.y?U.t/2:"paper"===z.yref?U.t+U.h-U.h*z.y+G:O.height-O.height*z.y+G}(z,G),rt=function p(O,B){var z=O.title,U=O._size,G=0;return"paper"===(B===w?G=z.pad.l:"end"===B&&(G=-z.pad.r),z.xref)?U.l+U.w*z.x+G:O.width*z.x+G}(z,U);if(r.draw(O,"gtitle",{propContainer:z,propName:"title.text",placeholder:z._dfltTitle.plot,attributes:{x:rt,y:Q,"text-anchor":U,dy:G}}),B.text&&B.automargin){var it=A.selectAll(".gtitle"),ut=e.bBox(it.node()).height,J=function n(O,B,z){var U=B.y,Q=U>.5?"t":"b",rt=O._fullLayout.margin[Q],it=0;return"paper"===B.yref?it=z+B.pad.t+B.pad.b:"container"===B.yref&&(it=function b(O,B,z,U,G){var Q=0;return"middle"===z&&(Q+=G/2),"t"===O?("top"===z&&(Q+=G),Q+=U-B*U):("bottom"===z&&(Q+=G),Q+=B*U),Q}(Q,U,B.yanchor,O._fullLayout.height,z)+B.pad.t+B.pad.b),it>rt?it:0}(O,B,ut);J>0&&(C(O,Q,J,ut),it.attr({x:rt,y:Q,"text-anchor":U,dy:D(B.yanchor)}).call(E.positionText,rt,Q))}},W.doTraceStyle=function(O){var U,B=O.calcdata,z=[];for(U=0;U<B.length;U++){var G=B[U],Q=G[0]||{},rt=Q.trace||{},it=rt._module||{},ut=it.arraysToCalcdata;ut&&ut(G,rt);var J=it.editStyle;J&&z.push({fn:J,cd0:Q})}if(z.length){for(U=0;U<z.length;U++){var j=z[U];j.fn(O,j.cd0)}l(O),W.redrawReglTraces(O)}return i.style(O),g.getComponentMethod("legend","draw")(O),i.previousPromises(O)},W.doColorBars=function(O){return g.getComponentMethod("colorbar","draw")(O),i.previousPromises(O)},W.layoutReplot=function(O){var B=O.layout;return O.layout=void 0,g.call("_doPlot",O,"",B)},W.doLegend=function(O){return g.getComponentMethod("legend","draw")(O),i.previousPromises(O)},W.doTicksRelayout=function(O){return a.draw(O,"redraw"),O._fullLayout._hasOnlyLargeSploms&&(g.subplotsRegistry.splom.updateGrid(O),l(O),W.redrawReglTraces(O)),W.drawMainTitle(O),i.previousPromises(O)},W.doModeBar=function(O){var B=O._fullLayout;f.manage(O);for(var z=0;z<B._basePlotModules.length;z++){var U=B._basePlotModules[z].updateFx;U&&U(O)}return i.previousPromises(O)},W.doCamera=function(O){for(var B=O._fullLayout,z=B._subplots.gl3d,U=0;U<z.length;U++){var G=B[z[U]];G._scene.setViewport(G)}},W.drawData=function(O){var B=O._fullLayout;l(O);for(var z=B._basePlotModules,U=0;U<z.length;U++)z[U].plot(O);return W.redrawReglTraces(O),i.style(O),g.getComponentMethod("selections","draw")(O),g.getComponentMethod("shapes","draw")(O),g.getComponentMethod("annotations","draw")(O),g.getComponentMethod("images","draw")(O),B._replotting=!1,i.previousPromises(O)},W.redrawReglTraces=function(O){var B=O._fullLayout;if(B._has("regl")){var Q,rt,z=O._fullData,U=[],G=[];for(B._hasOnlyLargeSploms&&B._splomGrid.draw(),Q=0;Q<z.length;Q++){var it=z[Q];!0===it.visible&&0!==it._length&&("splom"===it.type?B._splomScenes[it.uid].draw():"scattergl"===it.type?P.pushUnique(U,it.xaxis+it.yaxis):"scatterpolargl"===it.type&&P.pushUnique(G,it.subplot))}for(Q=0;Q<U.length;Q++)(rt=B._plots[U[Q]])._scene&&rt._scene.draw();for(Q=0;Q<G.length;Q++)(rt=B[G[Q]]._subplot)._scene&&rt._scene.draw()}},W.doAutoRangeAndConstraints=function(O){for(var z,B=a.list(O,"",!0),U={},G=0;G<B.length;G++)if(!U[(z=B[G])._id]){U[z._id]=1,y(O,z),v(O,z);var Q=z._matchGroup;if(Q)for(var rt in Q){var it=a.getFromId(O,rt);v(O,it,z.range),U[rt]=1}}u(O)},W.finalDraw=function(O){g.getComponentMethod("rangeslider","draw")(O),g.getComponentMethod("rangeselector","draw")(O)},W.drawMarginPushers=function(O){g.getComponentMethod("legend","draw")(O),g.getComponentMethod("rangeselector","draw")(O),g.getComponentMethod("sliders","draw")(O),g.getComponentMethod("updatemenus","draw")(O),g.getComponentMethod("colorbar","draw")(O)}},96318:function(tt,W,t){"use strict";var A=t(71828),g=A.isPlainObject,i=t(86281),P=t(74875),E=t(9012),l=t(44467),x=t(72075).dfltConfig;function e(v,w){v=A.extendDeep({},v);var o,h,d=Object.keys(v).sort();function M(b,n,C){if(g(n)&&g(b))e(b,n);else if(Array.isArray(n)&&Array.isArray(b)){var p=l.arrayTemplater({_template:v},C);for(h=0;h<n.length;h++){var F=n[h],D=p.newItem(F)._template;D&&e(D,F)}var N=p.defaultItems();for(h=0;h<N.length;h++)n.push(N[h]._template);for(h=0;h<n.length;h++)delete n[h].templateitemname}}for(o=0;o<d.length;o++){var T=d[o],L=v[T];if(T in w?M(L,w[T],T):w[T]=L,r(T)===T)for(var m in w){var S=r(m);m!==S&&S===T&&!(m in v)&&M(L,w[m],T)}}}function r(v){return v.replace(/[0-9]+$/,"")}function f(v,w,d,o,h){var M=h&&d(h);for(var T in v){var L=v[T],m=c(v,T,o),S=c(v,T,h),b=d(S);if(!b){var n=r(T);n!==T&&(b=d(S=c(v,n,h)))}if(!(M&&M===b||!b||b._noTemplating||"data_array"===b.valType||b.arrayOk&&Array.isArray(L)))if(!b.valType&&g(L))f(L,w,d,m,S);else if(b._isLinkedToArray&&Array.isArray(L))for(var C=!1,p=0,F={},D=0;D<L.length;D++){var N=L[D];if(g(N)){var k=N.name;if(k)F[k]||(f(N,w,d,c(L,p,m),c(L,p,S)),p++,F[k]=1);else if(!C){var B=c(v,l.arrayDefaultKey(T),o),z=c(L,p,m);f(N,w,d,z,c(L,p,S));var U=A.nestedProperty(w,z);A.nestedProperty(w,B).set(U.get()),U.set(null),C=!0}}}else A.nestedProperty(w,m).set(L)}}function a(v,w){return i.getLayoutValObject(v,A.nestedProperty({},w).parts)}function s(v,w){return i.getTraceValObject(v,A.nestedProperty({},w).parts)}function c(v,w,d){return d?Array.isArray(v)?d+"["+w+"]":d+"."+w:w}function u(v){for(var w=0;w<v.length;w++)if(g(v[w]))return!0}function y(v){var w;switch(v.code){case"data":w="The template has no key data.";break;case"layout":w="The template has no key layout.";break;case"missing":w=v.path?"There are no templates for item "+v.path+" with name "+v.templateitemname:"There are no templates for trace "+v.index+", of type "+v.traceType+".";break;case"unused":w=v.path?"The template item at "+v.path+" was not used in constructing the plot.":v.dataCount?"Some of the templates of type "+v.traceType+" were not used. The template has "+v.templateCount+" traces, the data only has "+v.dataCount+" of this type.":"The template has "+v.templateCount+" traces of type "+v.traceType+" but there are none in the data.";break;case"reused":w="Some of the templates of type "+v.traceType+" were used more than once. The template has "+v.templateCount+" traces, the data has "+v.dataCount+" of this type."}return v.msg=w,v}W.makeTemplate=function(v){v=A.isPlainObject(v)?v:A.getGraphDiv(v),v=A.extendDeep({_context:x},{data:v.data,layout:v.layout}),P.supplyDefaults(v);var w=v.data||[],d=v.layout||{};d._basePlotModules=v._fullLayout._basePlotModules,d._modules=v._fullLayout._modules;var o={data:{},layout:{}};w.forEach(function(p){var F={};f(p,F,s.bind(null,p));var D=A.coerce(p,{},E,"type"),N=o.data[D];N||(N=o.data[D]=[]),N.push(F)}),f(d,o.layout,a.bind(null,d)),delete o.layout.template;var h=d.template;if(g(h)){var T,L,m,S,b,n,M=h.layout;g(M)&&e(M,o.layout);var C=h.data;if(g(C)){for(L in o.data)if(m=C[L],Array.isArray(m)){for(n=(b=o.data[L]).length,S=m.length,T=0;T<n;T++)e(m[T%S],b[T]);for(T=n;T<S;T++)b.push(A.extendDeep({},m[T]))}for(L in C)L in o.data||(o.data[L]=A.extendDeep([],C[L]))}}return o},W.validateTemplate=function(v,w){var d=A.extendDeep({},{_context:x,data:v.data,layout:v.layout}),o=d.layout||{};g(w)||(w=o.template||{});var h=w.layout,M=w.data,T=[];d.layout=o,d.layout.template=w,P.supplyDefaults(d);var L=d._fullLayout,m=d._fullData,S={};if(g(h)?(function b(B,z){for(var U in B)if("_"!==U.charAt(0)&&g(B[U])){var rt,G=r(U),Q=[];for(rt=0;rt<z.length;rt++)Q.push(c(B,U,z[rt])),G!==U&&Q.push(c(B,G,z[rt]));for(rt=0;rt<Q.length;rt++)S[Q[rt]]=1;b(B[U],Q)}}(L,["layout"]),function n(B,z){for(var U in B)if(-1===U.indexOf("defaults")&&g(B[U])){var G=c(B,U,z);S[G]?n(B[U],G):T.push({code:"unused",path:G})}}(h,"layout")):T.push({code:"layout"}),g(M)){for(var p,C={},F=0;F<m.length;F++){var D=m[F];C[p=D.type]=(C[p]||0)+1,D._fullInput._template||T.push({code:"missing",index:D._fullInput.index,traceType:p})}for(p in M){var N=M[p].length,k=C[p]||0;N>k?T.push({code:"unused",traceType:p,templateCount:N,dataCount:k}):k>N&&T.push({code:"reused",traceType:p,templateCount:N,dataCount:k})}}else T.push({code:"data"});if(function O(B,z){for(var U in B)if("_"!==U.charAt(0)){var G=B[U],Q=c(B,U,z);g(G)?(Array.isArray(B)&&!1===G._template&&G.templateitemname&&T.push({code:"missing",path:Q,templateitemname:G.templateitemname}),O(G,Q)):Array.isArray(G)&&u(G)&&O(G,Q)}}({data:m,layout:L},""),T.length)return T.map(y)}},403:function(tt,W,t){"use strict";var A=t(92770),g=t(72391),i=t(74875),P=t(71828),E=t(25095),l=t(5900),x=t(70942),e=t(11506).version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};tt.exports=function f(a,s){var c,u,y,v;function w(k){return!(k in s)||P.validate(s[k],r[k])}if(s=s||{},P.isPlainObject(a)?(c=a.data||[],u=a.layout||{},y=a.config||{},v={}):(a=P.getGraphDiv(a),c=P.extendDeep([],a.data),u=P.extendDeep({},a.layout),y=a._context,v=a._fullLayout||{}),!w("width")&&null!==s.width||!w("height")&&null!==s.height)throw new Error("Height and width should be pixel values.");if(!w("format"))throw new Error("Export format is not "+P.join2(r.format.values,", "," or ")+".");var d={};function o(k,O){return P.coerce(s,d,r,k,O)}var h=o("format"),M=o("width"),T=o("height"),L=o("scale"),m=o("setBackground"),S=o("imageDataOnly"),b=document.createElement("div");b.style.position="absolute",b.style.left="-5000px",document.body.appendChild(b);var n=P.extendFlat({},u);M?n.width=M:null===s.width&&A(v.width)&&(n.width=v.width),T?n.height=T:null===s.height&&A(v.height)&&(n.height=v.height);var C=P.extendFlat({},y,{_exportedPlot:!0,staticPlot:!0,setBackground:m}),p=E.getRedrawFunc(b);function F(){return new Promise(function(k){setTimeout(k,E.getDelay(b._fullLayout))})}function D(){return new Promise(function(k,O){var B=l(b,h,L),z=b._fullLayout.width,U=b._fullLayout.height;function G(){g.purge(b),document.body.removeChild(b)}if("full-json"===h){var Q=i.graphJson(b,!1,"keepdata","object",!0,!0);return Q.version=e,Q=JSON.stringify(Q),G(),k(S?Q:E.encodeJSON(Q))}if(G(),"svg"===h)return k(S?B:E.encodeSVG(B));var rt=document.createElement("canvas");rt.id=P.randstr(),x({format:h,width:z,height:U,scale:L,canvas:rt,svg:B,promise:!0}).then(k).catch(O)})}return new Promise(function(k,O){g.newPlot(b,c,n,C).then(p).then(F).then(D).then(function(B){k(function N(k){return S?k.replace(E.IMAGE_URL_PREFIX,""):k}(B))}).catch(function(B){O(B)})})}},84936:function(tt,W,t){"use strict";var A=t(71828),g=t(74875),i=t(86281),P=t(72075).dfltConfig,E=A.isPlainObject,l=Array.isArray,x=A.isArrayOrTypedArray;function e(d,o,h,M,T,L){L=L||[];for(var m=Object.keys(d),S=0;S<m.length;S++){var b=m[S];if("transforms"!==b){var n=L.slice();n.push(b);var C=d[b],p=o[b],F=u(h,b),D=(F||{}).valType,N="info_array"===D,k="colorscale"===D,O=(F||{}).items;if(c(h,b))if(E(C)&&E(p)&&"any"!==D)e(C,p,F,M,T,n);else if(N&&l(C)){C.length>p.length&&M.push(s("unused",T,n.concat(p.length)));var U,G,rt,it,B=p.length,z=Array.isArray(O);if(z&&(B=Math.min(B,O.length)),2===F.dimensions)for(G=0;G<B;G++)if(l(C[G])){C[G].length>p[G].length&&M.push(s("unused",T,n.concat(G,p[G].length)));var ut=p[G].length;for(U=0;U<(z?Math.min(ut,O[G].length):ut);U++)it=p[G][U],A.validate(rt=C[G][U],z?O[G][U]:O)?it!==rt&&it!==+rt&&M.push(s("dynamic",T,n.concat(G,U),rt,it)):M.push(s("value",T,n.concat(G,U),rt))}else M.push(s("array",T,n.concat(G),C[G]));else for(G=0;G<B;G++)it=p[G],A.validate(rt=C[G],z?O[G]:O)?it!==rt&&it!==+rt&&M.push(s("dynamic",T,n.concat(G),rt,it)):M.push(s("value",T,n.concat(G),rt))}else if(F.items&&!N&&l(C)){var Z,H,J=O[Object.keys(O)[0]],j=[];for(Z=0;Z<p.length;Z++){var X=p[Z]._index||Z;if((H=n.slice()).push(X),E(C[X])&&E(p[Z])){j.push(X);var at=C[X],_=p[Z];E(at)&&!1!==at.visible&&!1===_.visible?M.push(s("invisible",T,H)):e(at,_,J,M,T,H)}}for(Z=0;Z<C.length;Z++)(H=n.slice()).push(Z),E(C[Z])?-1===j.indexOf(Z)&&M.push(s("unused",T,H)):M.push(s("object",T,H,C[Z]))}else!E(C)&&E(p)?M.push(s("object",T,n,C)):x(C)||!x(p)||N||k?b in o?A.validate(C,F)?"enumerated"===F.valType&&(F.coerceNumber&&C!==+p||C!==p)&&M.push(s("dynamic",T,n,C,p)):M.push(s("value",T,n,C)):M.push(s("unused",T,n,C)):M.push(s("array",T,n,C));else M.push(s("schema",T,n))}}return M}function r(d,o){for(var h=d.layout.layoutAttributes,M=0;M<o.length;M++){var T=o[M],L=d.traces[T.type],m=L.layoutAttributes;m&&A.extendFlat(T.subplot?h[L.attributes.subplot.dflt]:h,m)}return h}tt.exports=function(o,h){void 0===o&&(o=[]),void 0===h&&(h={});var m,S,M=i.get(),T=[],L={_context:A.extendFlat({},P)};l(o)?(L.data=A.extendDeep([],o),m=o):(L.data=[],m=[],T.push(s("array","data"))),E(h)?(L.layout=A.extendDeep({},h),S=h):(L.layout={},S={},arguments.length>1&&T.push(s("object","layout"))),g.supplyDefaults(L);for(var b=L._fullData,n=m.length,C=0;C<n;C++){var p=m[C],F=["data",C];if(E(p)){var D=b[C],N=D.type,k=M.traces[N].attributes;k.type={valType:"enumerated",values:[N]},!1===D.visible&&!1!==p.visible&&T.push(s("invisible",F)),e(p,D,k,T,F);var O=p.transforms,B=D.transforms;if(O){l(O)||T.push(s("array",F,["transforms"])),F.push("transforms");for(var z=0;z<O.length;z++){var U=["transforms",z],G=O[z].type;if(E(O[z])){var Q=M.transforms[G]?M.transforms[G].attributes:{};Q.type={valType:"enumerated",values:Object.keys(M.transforms)},e(O[z],B[z],Q,T,F,U)}else T.push(s("object",F,U))}}}else T.push(s("object",F))}return e(S,L._fullLayout,r(M,b),T,"layout"),0===T.length?void 0:T};var f={object:function(d,o){return("layout"===d&&""===o?"The layout argument":"data"===d[0]&&""===o?"Trace "+d[1]+" in the data argument":a(d)+"key "+o)+" must be linked to an object container"},array:function(d,o){return("data"===d?"The data argument":a(d)+"key "+o)+" must be linked to an array container"},schema:function(d,o){return a(d)+"key "+o+" is not part of the schema"},unused:function(d,o,h){var M=E(h)?"container":"key";return a(d)+M+" "+o+" did not get coerced"},dynamic:function(d,o,h,M){return[a(d)+"key",o,"(set to '"+h+"')","got reset to","'"+M+"'","during defaults."].join(" ")},invisible:function(d,o){return(o?a(d)+"item "+o:"Trace "+d[1])+" got defaulted to be not visible"},value:function(d,o,h){return[a(d)+"key "+o,"is set to an invalid value ("+h+")"].join(" ")}};function a(d){return l(d)?"In data trace "+d[1]+", ":"In "+d+", "}function s(d,o,h,M,T){var L,m;h=h||"",l(o)?(L=o[0],m=o[1]):(L=o,m=null);var S=function w(d){if(!l(d))return String(d);for(var o="",h=0;h<d.length;h++){var M=d[h];"number"==typeof M?o=o.substr(0,o.length-1)+"["+M+"]":o+=M,h<d.length-1&&(o+=".")}return o}(h),b=f[d](o,S,M,T);return A.log(b),{code:d,container:L,trace:m,path:h,astr:S,msg:b}}function c(d,o){var h=v(o),M=h.keyMinusId;return!!(M in d&&d[M]._isSubplotObj&&h.id)||o in d}function u(d,o){return o in d?d[o]:d[v(o).keyMinusId]}var y=A.counterRegex("([a-z]+)");function v(d){var o=d.match(y);return{keyMinusId:o&&o[1],id:o&&o[2]}}},85594:function(tt){"use strict";tt.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(tt,W,t){"use strict";var A=t(71828),g=t(44467);tt.exports=function(P,E,l){var c,u,x=l.name,e=l.inclusionAttr||"visible",r=E[x],f=A.isArrayOrTypedArray(P[x])?P[x]:[],a=E[x]=[],s=g.arrayTemplater(E,x,e);for(c=0;c<f.length;c++){var y=f[c];A.isPlainObject(y)?u=s.newItem(y):(u=s.newItem({}))[e]=!1,u._index=c,!1!==u[e]&&l.handleItemDefaults(y,u,E,l),a.push(u)}var v=s.defaultItems();for(c=0;c<v.length;c++)(u=v[c])._index=a.length,l.handleItemDefaults({},u,E,l,{}),a.push(u);if(A.isArrayOrTypedArray(r)){var w=Math.min(r.length,a.length);for(c=0;c<w;c++)A.relinkPrivateKeys(a[c],r[c])}return a}},9012:function(tt,W,t){"use strict";var A=t(41940),g=t(77914);tt.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:A({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:g.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(tt,W,t){"use strict";var A=t(92770),g=t(71828),i=g.dateTime2ms,P=g.incrementMonth,l=t(50606).ONEAVGMONTH;tt.exports=function(e,r,f,a){if("date"!==r.type)return{vals:a};var s=e[f+"periodalignment"];if(!s)return{vals:a};var u,c=e[f+"period"];if(A(c)){if((c=+c)<=0)return{vals:a}}else if("string"==typeof c&&"M"===c.charAt(0)){var y=+c.substring(1);if(!(y>0&&Math.round(y)===y))return{vals:a};u=y}for(var v=r.calendar,w="start"===s,d="end"===s,h=i(e[f+"period0"],v)||0,M=[],T=[],L=[],m=a.length,S=0;S<m;S++){var n,C,p,b=a[S];if(u){for(n=Math.round((b-h)/(u*l)),p=P(h,u*n,v);p>b;)p=P(p,-u,v);for(;p<=b;)p=P(p,u,v);C=P(p,-u,v)}else{for(p=h+(n=Math.round((b-h)/c))*c;p>b;)p-=c;for(;p<=b;)p+=c;C=p-c}M[S]=w?C:d?p:(C+p)/2,T[S]=C,L[S]=p}return{vals:M,starts:T,ends:L}}},89502:function(tt){"use strict";tt.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(tt,W,t){"use strict";var A=t(39898),g=t(92770),i=t(71828),P=t(50606).FP_SAFE,E=t(73972),l=t(91424),x=t(41675),e=x.getFromId,r=x.isLinked;function f(m,S){var b,n,C=[],p=m._fullLayout,F=s(p,S,0),D=s(p,S,1),N=y(m,S),k=N.min,O=N.max;if(0===k.length||0===O.length)return i.simpleMap(S.range,S.r2l);var B=k[0].val,z=O[0].val;for(b=1;b<k.length&&B===z;b++)B=Math.min(B,k[b].val);for(b=1;b<O.length&&B===z;b++)z=Math.max(z,O[b].val);var U=!1;if(S.range){var G=i.simpleMap(S.range,S.r2l);U=G[1]<G[0]}"reversed"===S.autorange&&(U=!0,S.autorange=!0);var Z,H,X,at,_,K,Q=S.rangemode,rt="tozero"===Q,it="nonnegative"===Q,ut=S._length,J=ut/10,j=0;for(b=0;b<k.length;b++)for(Z=k[b],n=0;n<O.length;n++)(K=(H=O[n]).val-Z.val-a(S,Z.val,H.val))>0&&((_=ut-F(Z)-D(H))>J?K/_>j&&(X=Z,at=H,j=K/_):K/ut>j&&(X={val:Z.val,nopad:1},at={val:H.val,nopad:1},j=K/ut));if(B===z){var et=B-1,st=B+1;if(rt)if(0===B)C=[0,1];else{var dt=(B>0?O:k).reduce(function nt(bt,Dt){return Math.max(bt,D(Dt))},0),Tt=B/(1-Math.min(.5,dt/ut));C=B>0?[0,Tt]:[Tt,0]}else C=it?[Math.max(0,et),Math.max(1,st)]:[et,st]}else rt?(X.val>=0&&(X={val:0,nopad:1}),at.val<=0&&(at={val:0,nopad:1})):it&&(X.val-j*F(X)<0&&(X={val:0,nopad:1}),at.val<=0&&(at={val:1,nopad:1})),j=(at.val-X.val-a(S,Z.val,H.val))/(ut-F(X)-D(at)),C=[X.val-j*F(X),at.val+j*D(at)];return U&&C.reverse(),i.simpleMap(C,S.l2r||Number)}function a(m,S,b){var n=0;if(m.rangebreaks)for(var C=m.locateBreaks(S,b),p=0;p<C.length;p++){var F=C[p];n+=F.max-F.min}return n}function s(m,S,b){var n=.05*S._length,C=S._anchorAxis||{};if(-1!==(S.ticklabelposition||"").indexOf("inside")||-1!==(C.ticklabelposition||"").indexOf("inside")){var p="reversed"===S.autorange;if(!p){var F=i.simpleMap(S.range,S.r2l);p=F[1]<F[0]}p&&(b=!b)}var D=0;return r(m,S._id)||(D=function u(m,S,b){var n=0,C="x"===S._id.charAt(0);for(var p in m._plots){var F=m._plots[p];if(S._id===F.xaxis._id||S._id===F.yaxis._id){var D=(C?F.yaxis:F.xaxis)||{};if(-1!==(D.ticklabelposition||"").indexOf("inside")&&(!b&&("left"===D.side||"bottom"===D.side)||b&&("top"===D.side||"right"===D.side))){if(D._vals){var N=i.deg2rad(D._tickAngles[D._id+"tick"]||0),k=Math.abs(Math.cos(N)),O=Math.abs(Math.sin(N));D._vals[0].bb||D._selections[D._id+"tick"].each(function(ut){var J=A.select(this);J.select(".text-math-group").empty()&&(ut.bb=l.bBox(J.node()))});for(var U=0;U<D._vals.length;U++){var Q=D._vals[U].bb;if(Q){var rt=6+Q.width,it=6+Q.height;n=Math.max(n,C?Math.max(rt*k,it*O):Math.max(it*k,rt*O))}}}"inside"===D.ticks&&"inside"===D.ticklabelposition&&(n+=D.ticklen||0)}}}return n}(m,S,b)),n=Math.max(D,n),"domain"===S.constrain&&S._inputDomain&&(n*=(S._inputDomain[1]-S._inputDomain[0])/(S.domain[1]-S.domain[0])),function(k){return k.nopad?0:k.pad+(k.extrapad?n:D)}}tt.exports={getAutoRange:f,makePadFn:s,doAutoRange:function v(m,S,b){if(S.setScale(),S.autorange){S.range=b?b.slice():f(m,S),S._r=S.range.slice(),S._rl=i.simpleMap(S._r,S.r2l);var n=S._input,C={};C[S._attr+".range"]=S.range,C[S._attr+".autorange"]=S.autorange,E.call("_storeDirectGUIEdit",m.layout,m._fullLayout._preGUI,C),n.range=S.range.slice(),n.autorange=S.autorange}var p=S._anchorAxis;if(p&&p.rangeslider){var F=p.rangeslider[S._name];F&&"auto"===F.rangemode&&(F.range=f(m,S)),p._input.rangeslider[S._name]=i.extendFlat({},F)}},findExtremes:function w(m,S,b){b||(b={}),m._m||m.setScale();var B,z,U,G,Q,rt,it,ut,J,n=[],C=[],p=S.length,F=b.padded||!1,D=b.tozero&&("linear"===m.type||"-"===m.type),N="log"===m.type,k=!1,O=b.vpadLinearized||!1;function j(et){if(Array.isArray(et))return k=!0,function(dt){return Math.max(Number(et[dt]||0),0)};var st=Math.max(Number(et||0),0);return function(){return st}}var Z=j((m._m>0?b.ppadplus:b.ppadminus)||b.ppad||0),H=j((m._m>0?b.ppadminus:b.ppadplus)||b.ppad||0),X=j(b.vpadplus||b.vpad),at=j(b.vpadminus||b.vpad);if(!k){if(ut=1/0,J=-1/0,N)for(B=0;B<p;B++)(z=S[B])<ut&&z>0&&(ut=z),z>J&&z<P&&(J=z);else for(B=0;B<p;B++)(z=S[B])<ut&&z>-P&&(ut=z),z>J&&z<P&&(J=z);S=[ut,J],p=2}var _={tozero:D,extrapad:F};function K(et){g(U=S[et])&&(rt=Z(et),it=H(et),O?(G=m.c2l(U)-at(et),Q=m.c2l(U)+X(et)):(ut=U-at(et),J=U+X(et),N&&ut<J/10&&(ut=J/10),G=m.c2l(ut),Q=m.c2l(J)),D&&(G=Math.min(0,G),Q=Math.max(0,Q)),M(G)&&d(n,G,it,_),M(Q)&&o(C,Q,rt,_))}var nt=Math.min(6,p);for(B=0;B<nt;B++)K(B);for(B=p-1;B>=nt;B--)K(B);return{min:n,max:C,opts:b}},concatExtremes:y};function y(m,S,b){var N,k,O,n=S._id,p=m._fullLayout,F=[],D=[];function B(rt,it){for(N=0;N<it.length;N++){var ut=rt[it[N]],J=(ut._extremes||{})[n];if(!0===ut.visible&&J){for(k=0;k<J.min.length;k++)d(F,(O=J.min[k]).val,O.pad,{extrapad:O.extrapad});for(k=0;k<J.max.length;k++)o(D,(O=J.max[k]).val,O.pad,{extrapad:O.extrapad})}}}if(B(m._fullData,S._traceIndices),B(p.annotations||[],S._annIndices||[]),B(p.shapes||[],S._shapeIndices||[]),S._matchGroup&&!b)for(var z in S._matchGroup)if(z!==S._id){var U=e(m,z),G=y(m,U,!0),Q=S._length/U._length;for(k=0;k<G.min.length;k++)d(F,(O=G.min[k]).val,O.pad*Q,{extrapad:O.extrapad});for(k=0;k<G.max.length;k++)o(D,(O=G.max[k]).val,O.pad*Q,{extrapad:O.extrapad})}return{min:F,max:D}}function d(m,S,b,n){h(m,S,b,n,T)}function o(m,S,b,n){h(m,S,b,n,L)}function h(m,S,b,n,C){for(var p=n.tozero,F=n.extrapad,D=!0,N=0;N<m.length&&D;N++){var k=m[N];if(C(k.val,S)&&k.pad>=b&&(k.extrapad||!F)){D=!1;break}C(S,k.val)&&k.pad<=b&&(F||!k.extrapad)&&(m.splice(N,1),N--)}if(D){var O=p&&0===S;m.push({val:S,pad:O?0:b,extrapad:!O&&F})}}function M(m){return g(m)&&Math.abs(m)<P}function T(m,S){return m<=S}function L(m,S){return m>=S}},89298:function(tt,W,t){"use strict";var A=t(39898),g=t(92770),i=t(74875),P=t(73972),E=t(71828),l=E.strTranslate,x=t(63893),e=t(92998),r=t(7901),f=t(91424),a=t(13838),s=t(66287),c=t(50606),u=c.ONEMAXYEAR,y=c.ONEAVGYEAR,v=c.ONEMINYEAR,w=c.ONEMAXQUARTER,d=c.ONEAVGQUARTER,o=c.ONEMINQUARTER,h=c.ONEMAXMONTH,M=c.ONEAVGMONTH,T=c.ONEMINMONTH,L=c.ONEWEEK,m=c.ONEDAY,S=m/2,b=c.ONEHOUR,n=c.ONEMIN,C=c.ONESEC,p=c.MINUS_SIGN,F=c.BADNUM,D={K:"zeroline"},N={K:"gridline",L:"path"},k={K:"minor-gridline",L:"path"},O={K:"tick",L:"path"},B={K:"tick",L:"text"},z={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},U=t(18783),G=U.MID_SHIFT,Q=U.CAP_SHIFT,rt=U.LINE_SPACING,it=U.OPPOSITE_SIDE,J=tt.exports={};J.setConvert=t(21994);var j=t(4322),Z=t(41675),H=Z.idSort,X=Z.isLinked;J.id2name=Z.id2name,J.name2id=Z.name2id,J.cleanId=Z.cleanId,J.list=Z.list,J.listIds=Z.listIds,J.getFromId=Z.getFromId,J.getFromTrace=Z.getFromTrace;var at=t(71739);J.getAutoRange=at.getAutoRange,J.findExtremes=at.findExtremes;function K(Ht){var Nt=1e-4*(Ht[1]-Ht[0]);return[Ht[0]-Nt,Ht[1]+Nt]}J.coerceRef=function(Ht,Nt,Se,Le,We,rr){var or=Le.charAt(Le.length-1),qe=Se._fullLayout._subplots[or+"axis"],De=Le+"ref",sr={};return We||(We=qe[0]||("string"==typeof rr?rr:rr[0])),rr||(rr=We),qe=qe.concat(qe.map(function(gr){return gr+" domain"})),sr[De]={valType:"enumerated",values:qe.concat(rr?"string"==typeof rr?[rr]:rr:[]),dflt:We},E.coerce(Ht,Nt,sr,De)},J.getRefType=function(Ht){return void 0===Ht?Ht:"paper"===Ht?"paper":"pixel"===Ht?"pixel":/( domain)$/.test(Ht)?"domain":"range"},J.coercePosition=function(Ht,Nt,Se,Le,We,rr){var or,qe;if("range"!==J.getRefType(Le))or=E.ensureNumber,qe=Se(We,rr);else{var sr=J.getFromId(Nt,Le);qe=Se(We,rr=sr.fraction2r(rr)),or=sr.cleanPos}Ht[We]=or(qe)},J.cleanPosition=function(Ht,Nt,Se){return("paper"===Se||"pixel"===Se?E.ensureNumber:J.getFromId(Nt,Se).cleanPos)(Ht)},J.redrawComponents=function(Ht,Nt){Nt=Nt||J.listIds(Ht);var Se=Ht._fullLayout;function Le(We,rr,or,qe){for(var De=P.getComponentMethod(We,rr),sr={},gr=0;gr<Nt.length;gr++)for(var Pr=Se[J.id2name(Nt[gr])][or],qr=0;qr<Pr.length;qr++){var Er=Pr[qr];if(!sr[Er]&&(De(Ht,Er),sr[Er]=1,qe))return}}Le("annotations","drawOne","_annIndices"),Le("shapes","drawOne","_shapeIndices"),Le("images","draw","_imgIndices",!0),Le("selections","drawOne","_selectionIndices")};var nt=J.getDataConversions=function(Ht,Nt,Se,Le){var We,rr="x"===Se||"y"===Se||"z"===Se?Se:Le;if(Array.isArray(rr)){if(We={type:j(Le,void 0,{autotypenumbers:Ht._fullLayout.autotypenumbers}),_categories:[]},J.setConvert(We),"category"===We.type)for(var or=0;or<Le.length;or++)We.d2c(Le[or])}else We=J.getFromTrace(Ht,Nt,rr);return We?{d2c:We.d2c,c2d:We.c2d}:"ids"===rr?{d2c:st,c2d:st}:{d2c:et,c2d:et}};function et(Ht){return+Ht}function st(Ht){return String(Ht)}function bt(Ht,Nt){return Math.abs((Ht/Nt+.5)%1-.5)<.001}function Dt(Ht,Nt){return Math.abs(Ht/Nt-1)<.001}function Ft(Ht){return+Ht.substring(1)}function St(Ht,Nt){return Ht.rangebreaks&&(Nt=Nt.filter(function(Se){return Ht.maskBreaks(Se.x)!==F})),Nt}function Ut(Ht){var Nt=Ht._mainAxis,Se=[];if(Nt._vals)for(var Le=0;Le<Nt._vals.length;Le++)if(!Nt._vals[Le].noTick){var We=Nt.l2p(Nt._vals[Le].x),rr=Ht.p2l(We),or=J.tickText(Ht,rr);Nt._vals[Le].minor&&(or.minor=!0,or.text=""),Se.push(or)}return St(Ht,Se)}function Gt(Ht){var Se=K(E.simpleMap(Ht.range,Ht.r2l)),Le=Math.min(Se[0],Se[1]),We=Math.max(Se[0],Se[1]),rr="category"===Ht.type?Ht.d2l_noadd:Ht.d2l;"log"===Ht.type&&"L"!==String(Ht.dtick).charAt(0)&&(Ht.dtick="L"+Math.pow(10,Math.floor(Math.min(Ht.range[0],Ht.range[1]))-1));for(var or=[],qe=0;qe<=1;qe++)if(!qe||Ht.minor){var De=qe?Ht.minor.tickvals:Ht.tickvals,sr=qe?[]:Ht.ticktext;if(De){Array.isArray(sr)||(sr=[]);for(var gr=0;gr<De.length;gr++){var dr=rr(De[gr]);if(dr>Le&&dr<We){var Pr=void 0===sr[gr]?J.tickText(Ht,dr):pe(Ht,dr,String(sr[gr]));qe&&(Pr.minor=!0,Pr.text=""),or.push(Pr)}}}}return St(Ht,or)}J.getDataToCoordFunc=function(Ht,Nt,Se,Le){return nt(Ht,Nt,Se,Le).d2c},J.counterLetter=function(Ht){var Nt=Ht.charAt(0);return"x"===Nt?"y":"y"===Nt?"x":void 0},J.minDtick=function(Ht,Nt,Se,Le){-1===["log","category","multicategory"].indexOf(Ht.type)&&Le?void 0===Ht._minDtick?(Ht._minDtick=Nt,Ht._forceTick0=Se):Ht._minDtick&&((Ht._minDtick/Nt+1e-6)%1<2e-6&&((Se-Ht._forceTick0)/Nt%1+1.000001)%1<2e-6?(Ht._minDtick=Nt,Ht._forceTick0=Se):((Nt/Ht._minDtick+1e-6)%1>2e-6||((Se-Ht._forceTick0)/Ht._minDtick%1+1.000001)%1>2e-6)&&(Ht._minDtick=0)):Ht._minDtick=0},J.saveRangeInitial=function(Ht,Nt){for(var Se=J.list(Ht,"",!0),Le=!1,We=0;We<Se.length;We++){var rr=Se[We],or=void 0===rr._rangeInitial;(or&&!1===rr.autorange||Nt&&(or||rr.range[0]!==rr._rangeInitial[0]||rr.range[1]!==rr._rangeInitial[1]))&&(rr._rangeInitial=rr.range.slice(),Le=!0)}return Le},J.saveShowSpikeInitial=function(Ht,Nt){for(var Se=J.list(Ht,"",!0),Le=!1,We="on",rr=0;rr<Se.length;rr++){var or=Se[rr],qe=void 0===or._showSpikeInitial;(qe||Nt&&(qe||or.showspikes!==or._showspikes))&&(or._showSpikeInitial=or.showspikes,Le=!0),"on"===We&&!or.showspikes&&(We="off")}return Ht._fullLayout._cartesianSpikesEnabled=We,Le},J.autoBin=function(Ht,Nt,Se,Le,We,rr){var De,or=E.aggNums(Math.min,null,Ht),qe=E.aggNums(Math.max,null,Ht);if("category"===Nt.type||"multicategory"===Nt.type)return{start:or-.5,end:qe+.5,size:Math.max(1,Math.round(rr)||1),_dataSpan:qe-or};if(We||(We=Nt.calendar),De="log"===Nt.type?{type:"linear",range:[or,qe]}:{type:Nt.type,range:E.simpleMap([or,qe],Nt.c2r,0,We),calendar:We},J.setConvert(De),rr=rr&&s.dtick(rr,De.type))De.dtick=rr,De.tick0=s.tick0(void 0,De.type,We);else{var sr;if(Se)sr=(qe-or)/Se;else{var gr=E.distinctVals(Ht),dr=Math.pow(10,Math.floor(Math.log(gr.minDiff)/Math.LN10)),Pr=dr*E.roundUp(gr.minDiff/dr,[.9,1.9,4.9,9.9],!0);sr=Math.max(Pr,2*E.stdev(Ht)/Math.pow(Ht.length,Le?.25:.4)),g(sr)||(sr=1)}J.autoTicks(De,sr)}var Zr,qr=De.dtick,Er=J.tickIncrement(J.tickFirst(De),qr,"reverse",We);if("number"==typeof qr)Zr=(Er=function dt(Ht,Nt,Se,Le,We){var rr=0,or=0,qe=0,De=0;function sr(qr){return(1+100*(qr-Ht)/Se.dtick)%100<2}for(var gr=0;gr<Nt.length;gr++)Nt[gr]%1==0?qe++:g(Nt[gr])||De++,sr(Nt[gr])&&rr++,sr(Nt[gr]+Se.dtick/2)&&or++;var dr=Nt.length-De;if(qe===dr&&"date"!==Se.type)Se.dtick<1?Ht=Le-.5*Se.dtick:(Ht-=.5)+Se.dtick<Le&&(Ht+=Se.dtick);else if(or<.1*dr&&(rr>.3*dr||sr(Le)||sr(We))){var Pr=Se.dtick/2;Ht+=Ht+Pr<Le?Pr:-Pr}return Ht}(Er,Ht,De,or,qe))+(1+Math.floor((qe-Er)/qr))*qr;else for("M"===De.dtick.charAt(0)&&(Er=function Tt(Ht,Nt,Se,Le,We){var rr=E.findExactDates(Nt,We);if(rr.exactDays>.8){var qe=Number(Se.substr(1));rr.exactYears>.8&&qe%12==0?Ht=J.tickIncrement(Ht,"M6","reverse")+1.5*m:rr.exactMonths>.8?Ht=J.tickIncrement(Ht,"M1","reverse")+15.5*m:Ht-=S;var De=J.tickIncrement(Ht,Se);if(De<=Le)return De}return Ht}(Er,Ht,qr,or,We)),Zr=Er;Zr<=qe;)Zr=J.tickIncrement(Zr,qr,!1,We);return{start:Nt.c2r(Er,0,We),end:Nt.c2r(Zr,0,We),size:qr,_dataSpan:qe-or}},J.prepMinorTicks=function(Ht,Nt,Se){if(!Nt.minor.dtick){delete Ht.dtick;var We,Le=Nt.dtick&&g(Nt._tmin);if(Le){var rr=J.tickIncrement(Nt._tmin,Nt.dtick,!0);We=[Nt._tmin,.99*rr+.01*Nt._tmin]}else{var or=E.simpleMap(Nt.range,Nt.r2l);We=[or[0],.8*or[0]+.2*or[1]]}if(Ht.range=E.simpleMap(We,Nt.l2r),Ht._isMinor=!0,J.prepTicks(Ht,Se),Le){var qe=g(Nt.dtick),De=g(Ht.dtick),sr=qe?Nt.dtick:+Nt.dtick.substring(1),gr=De?Ht.dtick:+Ht.dtick.substring(1);qe&&De?bt(sr,gr)?sr===2*L&&gr===2*m&&(Ht.dtick=L):Ht.dtick=sr===2*L&&gr===3*m?L:sr!==L||(Nt._input.minor||{}).nticks?Dt(sr/gr,2.5)?sr/2:sr:m:"M"===String(Nt.dtick).charAt(0)?De?Ht.dtick="M1":bt(sr,gr)?sr>=12&&2===gr&&(Ht.dtick="M3"):Ht.dtick=Nt.dtick:"L"===String(Ht.dtick).charAt(0)?"L"===String(Nt.dtick).charAt(0)?bt(sr,gr)||(Ht.dtick=Dt(sr/gr,2.5)?Nt.dtick/2:Nt.dtick):Ht.dtick="D1":"D2"===Ht.dtick&&+Nt.dtick>1&&(Ht.dtick=1)}Ht.range=Nt.range}void 0===Nt.minor._tick0Init&&(Ht.tick0=Nt.tick0)},J.prepTicks=function(Ht,Nt){var Se=E.simpleMap(Ht.range,Ht.r2l,void 0,void 0,Nt);if("auto"===Ht.tickmode||!Ht.dtick){var We,Le=Ht.nticks;Le||("category"===Ht.type||"multicategory"===Ht.type?(We=Ht.tickfont?E.bigFont(Ht.tickfont.size||12):15,Le=Ht._length/We):(We="y"===Ht._id.charAt(0)?40:80,Le=E.constrain(Ht._length/We,4,9)+1),"radialaxis"===Ht._name&&(Le*=2)),Ht.minor&&"array"!==Ht.minor.tickmode||"array"===Ht.tickmode&&(Le*=100),Ht._roughDTick=Math.abs(Se[1]-Se[0])/Le,J.autoTicks(Ht,Ht._roughDTick),Ht._minDtick>0&&Ht.dtick<2*Ht._minDtick&&(Ht.dtick=Ht._minDtick,Ht.tick0=Ht.l2r(Ht._forceTick0))}"period"===Ht.ticklabelmode&&function Mt(Ht){var Nt;function Se(){return!(g(Ht.dtick)||"M"!==Ht.dtick.charAt(0))}var Le=Se(),We=J.getTickFormat(Ht);if(We){var rr=Ht._dtickInit!==Ht.dtick;/%[fLQsSMX]/.test(We)||(/%[HI]/.test(We)?(Nt=b,rr&&!Le&&Ht.dtick<b&&(Ht.dtick=b)):/%p/.test(We)?(Nt=S,rr&&!Le&&Ht.dtick<S&&(Ht.dtick=S)):/%[Aadejuwx]/.test(We)?(Nt=m,rr&&!Le&&Ht.dtick<m&&(Ht.dtick=m)):/%[UVW]/.test(We)?(Nt=L,rr&&!Le&&Ht.dtick<L&&(Ht.dtick=L)):/%[Bbm]/.test(We)?(Nt=M,rr&&(Le?Ft(Ht.dtick)<1:Ht.dtick<T)&&(Ht.dtick="M1")):/%[q]/.test(We)?(Nt=d,rr&&(Le?Ft(Ht.dtick)<3:Ht.dtick<o)&&(Ht.dtick="M3")):/%[Yy]/.test(We)&&(Nt=y,rr&&(Le?Ft(Ht.dtick)<12:Ht.dtick<v)&&(Ht.dtick="M12")))}(Le=Se())&&Ht.tick0===Ht._dowTick0&&(Ht.tick0=Ht._rawTick0),Ht._definedDelta=Nt}(Ht),Ht.tick0||(Ht.tick0="date"===Ht.type?"2000-01-01":0),"date"===Ht.type&&Ht.dtick<.1&&(Ht.dtick=.1),oe(Ht)},J.calcTicks=function(Nt,Se){for(var Le=Nt.type,We=Nt.calendar,rr=Nt.ticklabelstep,or="period"===Nt.ticklabelmode,qe=E.simpleMap(Nt.range,Nt.r2l,void 0,void 0,Se),De=qe[1]<qe[0],sr=Math.min(qe[0],qe[1]),gr=Math.max(qe[0],qe[1]),dr=Math.max(1e3,Nt._length||0),Pr=[],qr=[],Er=[],Zr=[],rn=Nt.minor&&(Nt.minor.ticks||Nt.minor.showgrid),zr=1;zr>=(rn?0:1);zr--){var Pn=!zr;zr?(Nt._dtickInit=Nt.dtick,Nt._tick0Init=Nt.tick0):(Nt.minor._dtickInit=Nt.minor.dtick,Nt.minor._tick0Init=Nt.minor.tick0);var An=zr?Nt:E.extendFlat({},Nt,Nt.minor);if(Pn?J.prepMinorTicks(An,Nt,Se):J.prepTicks(An,Se),"array"!==An.tickmode)if("sync"!==An.tickmode){var lr=K(qe),yr=lr[0],Fr=lr[1],Br=g(An.dtick),_r="log"===Le&&!(Br||"L"===An.dtick.charAt(0)),dn=J.tickFirst(An,Se);if(zr){if(Nt._tmin=dn,dn<yr!==De)break;("category"===Le||"multicategory"===Le)&&(Fr=De?Math.max(-.5,Fr):Math.min(Nt._categories.length-.5,Fr))}var En,Vn,hn=null,xn=dn;zr&&(Br?Vn=Nt.dtick:"date"===Le?"string"==typeof Nt.dtick&&"M"===Nt.dtick.charAt(0)&&(Vn=M*Nt.dtick.substring(1)):Vn=Nt._roughDTick,En=Math.round((Nt.r2l(xn)-Nt.r2l(Nt.tick0))/Vn)-1);var Gn=An.dtick;for(An.rangebreaks&&An._tick0Init!==An.tick0&&(xn=Be(xn,Nt),De||(xn=J.tickIncrement(xn,Gn,!De,We))),zr&&or&&(xn=J.tickIncrement(xn,Gn,!De,We),En--);De?xn>=Fr:xn<=Fr;xn=J.tickIncrement(xn,Gn,De,We)){if(zr&&En++,An.rangebreaks&&!De){if(xn<yr)continue;if(An.maskBreaks(xn)===F&&Be(xn,An)>=gr)break}if(Er.length>dr||xn===hn)break;hn=xn;var ia={value:xn};zr?(_r&&xn!==(0|xn)&&(ia.simpleLabel=!0),rr>1&&En%rr&&(ia.skipLabel=!0),Er.push(ia)):(ia.minor=!0,Zr.push(ia))}}else Er=[],Pr=Ut(Nt);else zr?(Er=[],Pr=Gt(Nt)):(Zr=[],qr=Gt(Nt))}var Ln;if(rn&&!("inside"===Nt.minor.ticks&&"outside"===Nt.ticks||"outside"===Nt.minor.ticks&&"inside"===Nt.ticks)){for(var Qn=Er.map(function(mn){return mn.value}),Tr=[],an=0;an<Zr.length;an++){var sn=Zr[an],pn=sn.value;if(-1===Qn.indexOf(pn)){for(var Fn=!1,Cn=0;!Fn&&Cn<Er.length;Cn++)1e7+Er[Cn].value===1e7+pn&&(Fn=!0);Fn||Tr.push(sn)}}Zr=Tr}if(or&&function wt(Ht,Nt,Se){for(var Le=0;Le<Ht.length;Le++){var We=Ht[Le].value,rr=Le,or=Le+1;Le<Ht.length-1?(rr=Le,or=Le+1):Le>0?(rr=Le-1,or=Le):(rr=Le,or=Le);var Pr,sr=Math.abs(Ht[or].value-Ht[rr].value),gr=Se||sr,dr=0;gr>=v?dr=sr>=v&&sr<=u?sr:y:Se===d&&gr>=o?dr=sr>=o&&sr<=w?sr:d:gr>=T?dr=sr>=T&&sr<=h?sr:M:Se===L&&gr>=L?dr=L:gr>=m?dr=m:Se===S&&gr>=S?dr=S:Se===b&&gr>=b&&(dr=b),dr>=sr&&(dr=sr,Pr=!0);var qr=We+dr;if(Nt.rangebreaks&&dr>0){for(var Zr=0,rn=0;rn<84;rn++){var zr=(rn+.5)/84;Nt.maskBreaks(We*(1-zr)+zr*qr)!==F&&Zr++}(dr*=Zr/84)||(Ht[Le].drop=!0),Pr&&sr>L&&(dr=sr)}(dr>0||0===Le)&&(Ht[Le].periodX=We+dr/2)}}(Er,Nt,Nt._definedDelta),Nt.rangebreaks){var On="y"===Nt._id.charAt(0),Jn=1;"auto"===Nt.tickmode&&(Jn=Nt.tickfont?Nt.tickfont.size:12);var ya=NaN;for(Ln=Er.length-1;Ln>-1;Ln--)if(Er[Ln].drop)Er.splice(Ln,1);else{Er[Ln].value=Be(Er[Ln].value,Nt);var Ba=Nt.c2p(Er[Ln].value);(On?ya>Ba-Jn:ya<Ba+Jn)?Er.splice(De?Ln+1:Ln,1):ya=Ba}}Pe(Nt)&&360===Math.abs(qe[1]-qe[0])&&Er.pop(),Nt._tmax=(Er[Er.length-1]||{}).value,Nt._prevDateHead="",Nt._inCalcTicks=!0;var Xe,en,vn,br=function(mn){mn.text="",Nt._prevDateHead=Xe};for(Er=Er.concat(Zr),Ln=0;Ln<Er.length;Ln++){var Sn=Er[Ln].value;Er[Ln].minor?qr.push({x:Sn,minor:!0}):(Xe=Nt._prevDateHead,en=J.tickText(Nt,Sn,!1,Er[Ln].simpleLabel),void 0!==(vn=Er[Ln].periodX)&&(en.periodX=vn,(vn>gr||vn<sr)&&(vn>gr&&(en.periodX=gr),vn<sr&&(en.periodX=sr),br(en))),Er[Ln].skipLabel&&br(en),Pr.push(en))}return Pr=Pr.concat(qr),Nt._inCalcTicks=!1,or&&Pr.length&&(Pr[0].noTick=!0),Pr};var Pt=[2,5,10],Vt=[1,2,3,6,12],te=[1,2,5,10,15,30],_t=[1,2,3,7,14],kt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],zt=[-.301,0,.301,.699,1],qt=[15,30,45,90,180];function ae(Ht,Nt,Se){return Nt*E.roundUp(Ht/Nt,Se)}function oe(Ht){var Nt=Ht.dtick;if(Ht._tickexponent=0,!g(Nt)&&"string"!=typeof Nt&&(Nt=1),("category"===Ht.type||"multicategory"===Ht.type)&&(Ht._tickround=null),"date"===Ht.type){var Se=Ht.r2l(Ht.tick0),Le=Ht.l2r(Se).replace(/(^-|i)/g,""),We=Le.length;if("M"===String(Nt).charAt(0))Ht._tickround=We>10||"01-01"!==Le.substr(5)?"d":+Nt.substr(1)%12==0?"y":"m";else if(Nt>=m&&We<=10||Nt>=15*m)Ht._tickround="d";else if(Nt>=n&&We<=16||Nt>=b)Ht._tickround="M";else if(Nt>=C&&We<=19||Nt>=n)Ht._tickround="S";else{var rr=Ht.l2r(Se+Nt).replace(/^-/,"").length;Ht._tickround=Math.max(We,rr)-20,Ht._tickround<0&&(Ht._tickround=4)}}else if(g(Nt)||"L"===Nt.charAt(0)){var or=Ht.range.map(Ht.r2d||Number);g(Nt)||(Nt=Number(Nt.substr(1))),Ht._tickround=2-Math.floor(Math.log(Nt)/Math.LN10+.01);var qe=Math.max(Math.abs(or[0]),Math.abs(or[1])),De=Math.floor(Math.log(qe)/Math.LN10+.01),sr=void 0===Ht.minexponent?3:Ht.minexponent;Math.abs(De)>sr&&(Ht._tickexponent=gt(Ht.exponentformat)&&!pt(De)?3*Math.round((De-1)/3):De)}else Ht._tickround=null}function pe(Ht,Nt,Se){var Le=Ht.tickfont||{};return{x:Nt,dx:0,dy:0,text:Se||"",fontSize:Le.size,font:Le.family,fontColor:Le.color}}function Rt(Ht,Nt,Se,Le,We){if("radians"!==Ht.thetaunit||Se)Nt.text=vt(Nt.x,Ht,We,Le);else{var rr=Nt.x/180;if(0===rr)Nt.text="0";else{var or=function Ot(Ht){function Nt(qe,De){return Math.abs(qe-De)<=1e-6}function Se(qe,De){return Nt(De,0)?qe:Se(De,qe%De)}function Le(qe){for(var De=1;!Nt(Math.round(qe*De)/De,qe);)De*=10;return De}var We=Le(Ht),rr=Ht*We,or=Math.abs(Se(rr,We));return[Math.round(rr/or),Math.round(We/or)]}(rr);if(or[1]>=100)Nt.text=vt(E.deg2rad(Nt.x),Ht,We,Le);else{var qe=Nt.x<0;Nt.text=1===or[1]?1===or[0]?"\u03c0":or[0]+"\u03c0":["<sup>",or[0],"</sup>","\u2044","<sub>",or[1],"</sub>","\u03c0"].join(""),qe&&(Nt.text=p+Nt.text)}}}}J.autoTicks=function(Ht,Nt,Se){var Le;function We(dr){return Math.pow(dr,Math.floor(Math.log(Nt)/Math.LN10))}if("date"===Ht.type){Ht.tick0=E.dateTick0(Ht.calendar,0);var rr=2*Nt;if(rr>y)Nt/=y,Le=We(10),Ht.dtick="M"+12*ae(Nt,Le,Pt);else if(rr>M)Ht.dtick="M"+ae(Nt/=M,1,Vt);else if(rr>m){if(Ht.dtick=ae(Nt,m,Ht._hasDayOfWeekBreaks?[1,2,7,14]:_t),!Se){var or=J.getTickFormat(Ht),qe="period"===Ht.ticklabelmode;qe&&(Ht._rawTick0=Ht.tick0),Ht.tick0=/%[uVW]/.test(or)?E.dateTick0(Ht.calendar,2):E.dateTick0(Ht.calendar,1),qe&&(Ht._dowTick0=Ht.tick0)}}else rr>b?Ht.dtick=ae(Nt,b,Vt):rr>n?Ht.dtick=ae(Nt,n,te):rr>C?Ht.dtick=ae(Nt,C,te):(Le=We(10),Ht.dtick=ae(Nt,Le,Pt))}else if("log"===Ht.type){Ht.tick0=0;var De=E.simpleMap(Ht.range,Ht.r2l);if(Ht._isMinor&&(Nt*=1.5),Nt>.7)Ht.dtick=Math.ceil(Nt);else if(Math.abs(De[1]-De[0])<1){var sr=1.5*Math.abs((De[1]-De[0])/Nt);Nt=Math.abs(Math.pow(10,De[1])-Math.pow(10,De[0]))/sr,Le=We(10),Ht.dtick="L"+ae(Nt,Le,Pt)}else Ht.dtick=Nt>.3?"D2":"D1"}else"category"===Ht.type||"multicategory"===Ht.type?(Ht.tick0=0,Ht.dtick=Math.ceil(Math.max(Nt,1))):Pe(Ht)?(Ht.tick0=0,Ht.dtick=ae(Nt,Le=1,qt)):(Ht.tick0=0,Le=We(10),Ht.dtick=ae(Nt,Le,Pt));if(0===Ht.dtick&&(Ht.dtick=1),!g(Ht.dtick)&&"string"!=typeof Ht.dtick){var gr=Ht.dtick;throw Ht.dtick=1,"ax.dtick error: "+String(gr)}},J.tickIncrement=function(Ht,Nt,Se,Le){var We=Se?-1:1;if(g(Nt))return E.increment(Ht,We*Nt);var rr=Nt.charAt(0),or=We*Number(Nt.substr(1));if("M"===rr)return E.incrementMonth(Ht,or,Le);if("L"===rr)return Math.log(Math.pow(10,Ht)+or)/Math.LN10;if("D"===rr){var qe="D2"===Nt?zt:kt,De=Ht+.01*We,sr=E.roundUp(E.mod(De,1),qe,Se);return Math.floor(De)+Math.log(A.round(Math.pow(10,sr),1))/Math.LN10}throw"unrecognized dtick "+String(Nt)},J.tickFirst=function(Ht,Nt){var Se=Ht.r2l||Number,Le=E.simpleMap(Ht.range,Se,void 0,void 0,Nt),We=Le[1]<Le[0],rr=We?Math.floor:Math.ceil,or=K(Le)[0],qe=Ht.dtick,De=Se(Ht.tick0);if(g(qe)){var sr=rr((or-De)/qe)*qe+De;return("category"===Ht.type||"multicategory"===Ht.type)&&(sr=E.constrain(sr,0,Ht._categories.length-1)),sr}var gr=qe.charAt(0),dr=Number(qe.substr(1));if("M"===gr){for(var Er,Zr,rn,Pr=0,qr=De;Pr<10;){if(((Er=J.tickIncrement(qr,qe,We,Ht.calendar))-or)*(qr-or)<=0)return We?Math.min(qr,Er):Math.max(qr,Er);Zr=(or-(qr+Er)/2)/(Er-qr),rn=gr+(Math.abs(Math.round(Zr))||1)*dr,qr=J.tickIncrement(qr,rn,Zr<0?!We:We,Ht.calendar),Pr++}return E.error("tickFirst did not converge",Ht),qr}if("L"===gr)return Math.log(rr((Math.pow(10,or)-De)/dr)*dr+De)/Math.LN10;if("D"===gr){var zr="D2"===qe?zt:kt,Pn=E.roundUp(E.mod(or,1),zr,We);return Math.floor(or)+Math.log(A.round(Math.pow(10,Pn),1))/Math.LN10}throw"unrecognized dtick "+String(qe)},J.tickText=function(Ht,Nt,Se,Le){var sr,We=pe(Ht,Nt),rr="array"===Ht.tickmode,or=Se||rr,qe=Ht.type,De="category"===qe?Ht.d2l_noadd:Ht.d2l;if(rr&&Array.isArray(Ht.ticktext)){var gr=E.simpleMap(Ht.range,Ht.r2l),dr=(Math.abs(gr[1]-gr[0])-(Ht._lBreaks||0))/1e4;for(sr=0;sr<Ht.ticktext.length&&!(Math.abs(Nt-De(Ht.tickvals[sr]))<dr);sr++);if(sr<Ht.ticktext.length)return We.text=String(Ht.ticktext[sr]),We}function Pr(rn){return void 0===rn||(Se?"none"===rn:"all"!==rn&&Nt!=={first:Ht._tmin,last:Ht._tmax}[rn])}var qr=Se?"never":"none"!==Ht.exponentformat&&Pr(Ht.showexponent)?"hide":"";if("date"===qe?function ye(Ht,Nt,Se,Le){var We=Ht._tickround,rr=Se&&Ht.hoverformat||J.getTickFormat(Ht);Le&&(We=g(We)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[We]);var qe,or=E.formatDate(Nt.x,rr,We,Ht._dateFormat,Ht.calendar,Ht._extraFormat),De=or.indexOf("\n");if(-1!==De&&(qe=or.substr(De+1),or=or.substr(0,De)),Le&&("00:00:00"===or||"00:00"===or?(or=qe,qe=""):8===or.length&&(or=or.replace(/:00$/,""))),qe)if(Se)"d"===We?or+=", "+qe:or=qe+(or?", "+or:"");else if(Ht._inCalcTicks&&Ht._prevDateHead===qe){var sr=Qe(Ht),gr=Ht._trueSide||Ht.side;(!sr&&"top"===gr||sr&&"bottom"===gr)&&(or+="<br> ")}else Ht._prevDateHead=qe,or+="<br>"+qe;Nt.text=or}(Ht,We,Se,or):"log"===qe?function Fe(Ht,Nt,Se,Le,We){var rr=Ht.dtick,or=Nt.x,qe=Ht.tickformat,De="string"==typeof rr&&rr.charAt(0);if("never"===We&&(We=""),Le&&"L"!==De&&(rr="L3",De="L"),qe||"L"===De)Nt.text=vt(Math.pow(10,or),Ht,We,Le);else if(g(rr)||"D"===De&&E.mod(or+.01,1)<.1){var sr=Math.round(or),gr=Math.abs(sr),dr=Ht.exponentformat;"power"===dr||gt(dr)&&pt(sr)?(Nt.text=0===sr?1:1===sr?"10":"10<sup>"+(sr>1?"":p)+gr+"</sup>",Nt.fontSize*=1.25):("e"===dr||"E"===dr)&&gr>2?Nt.text="1"+dr+(sr>0?"+":p)+gr:(Nt.text=vt(Math.pow(10,or),Ht,"","fakehover"),"D1"===rr&&"y"===Ht._id.charAt(0)&&(Nt.dy-=Nt.fontSize/6))}else{if("D"!==De)throw"unrecognized dtick "+String(rr);Nt.text=String(Math.round(Math.pow(10,E.mod(or,1)))),Nt.fontSize*=.75}if("D1"===Ht.dtick){var Pr=String(Nt.text).charAt(0);("0"===Pr||"1"===Pr)&&("y"===Ht._id.charAt(0)?Nt.dx-=Nt.fontSize/4:(Nt.dy+=Nt.fontSize/2,Nt.dx+=(Ht.range[1]>Ht.range[0]?1:-1)*Nt.fontSize*(or<0?.5:.25)))}}(Ht,We,0,or,qr):"category"===qe?function Zt(Ht,Nt){var Se=Ht._categories[Math.round(Nt.x)];void 0===Se&&(Se=""),Nt.text=String(Se)}(Ht,We):"multicategory"===qe?function Ct(Ht,Nt,Se){var Le=Math.round(Nt.x),We=Ht._categories[Le]||[],rr=void 0===We[1]?"":String(We[1]),or=void 0===We[0]?"":String(We[0]);Se?Nt.text=or+" - "+rr:(Nt.text=rr,Nt.text2=or)}(Ht,We,Se):Pe(Ht)?Rt(Ht,We,Se,or,qr):function Et(Ht,Nt,Se,Le,We){"never"===We?We="":"all"===Ht.showexponent&&Math.abs(Nt.x/Ht.dtick)<1e-6&&(We="hide"),Nt.text=vt(Nt.x,Ht,We,Le)}(Ht,We,0,or,qr),Le||(Ht.tickprefix&&!Pr(Ht.showtickprefix)&&(We.text=Ht.tickprefix+We.text),Ht.ticksuffix&&!Pr(Ht.showticksuffix)&&(We.text+=Ht.ticksuffix)),Ht.labelalias&&Ht.labelalias.hasOwnProperty(We.text)){var Er=Ht.labelalias[We.text];"string"==typeof Er&&(We.text=Er)}if("boundaries"===Ht.tickson||Ht.showdividers){var Zr=function(rn){var zr=Ht.l2p(rn);return zr>=0&&zr<=Ht._length?rn:null};We.xbnd=[Zr(We.x-.5),Zr(We.x+Ht.dtick-.5)]}return We},J.hoverLabelText=function(Ht,Nt,Se){Se&&(Ht=E.extendFlat({},Ht,{hoverformat:Se}));var Le=Array.isArray(Nt)?Nt[0]:Nt,We=Array.isArray(Nt)?Nt[1]:void 0;if(void 0!==We&&We!==Le)return J.hoverLabelText(Ht,Le,Se)+" - "+J.hoverLabelText(Ht,We,Se);var rr="log"===Ht.type&&Le<=0,or=J.tickText(Ht,Ht.c2l(rr?-Le:Le),"hover").text;return rr?0===Le?"0":p+or:or};var It=["f","p","n","\u03bc","m","","k","M","G","T"];function gt(Ht){return"SI"===Ht||"B"===Ht}function pt(Ht){return Ht>14||Ht<-15}function vt(Ht,Nt,Se,Le){var We=Ht<0,rr=Nt._tickround,or=Se||Nt.exponentformat||"B",qe=Nt._tickexponent,De=J.getTickFormat(Nt),sr=Nt.separatethousands;if(Le){var gr={exponentformat:or,minexponent:Nt.minexponent,dtick:"none"===Nt.showexponent?Nt.dtick:g(Ht)&&Math.abs(Ht)||1,range:"none"===Nt.showexponent?Nt.range.map(Nt.r2d):[0,Ht||1]};oe(gr),rr=(Number(gr._tickround)||0)+4,qe=gr._tickexponent,Nt.hoverformat&&(De=Nt.hoverformat)}if(De)return Nt._numFormat(De)(Ht).replace(/-/g,p);var Er,dr=Math.pow(10,-rr)/2;if("none"===or&&(qe=0),(Ht=Math.abs(Ht))<dr)Ht="0",We=!1;else{if(Ht+=dr,qe&&(Ht*=Math.pow(10,-qe),rr+=qe),0===rr)Ht=String(Math.floor(Ht));else if(rr<0){Ht=(Ht=String(Math.round(Ht))).substr(0,Ht.length+rr);for(var Pr=rr;Pr<0;Pr++)Ht+="0"}else{var qr=(Ht=String(Ht)).indexOf(".")+1;qr&&(Ht=Ht.substr(0,qr+rr).replace(/\.?0+$/,""))}Ht=E.numSeparate(Ht,Nt._separators,sr)}return qe&&"hide"!==or&&(gt(or)&&pt(qe)&&(or="power"),Er=qe<0?p+-qe:"power"!==or?"+"+qe:String(qe),"e"===or||"E"===or?Ht+=or+Er:"power"===or?Ht+="\xd710<sup>"+Er+"</sup>":"B"===or&&9===qe?Ht+="B":gt(or)&&(Ht+=It[qe/3+5])),We?p+Ht:Ht}function yt(Ht,Nt){if(Ht){var Se=Object.keys(z).reduce(function(Le,We){return-1!==Nt.indexOf(We)&&z[We].forEach(function(rr){Le[rr]=1}),Le},{});Object.keys(Ht).forEach(function(Le){Se[Le]||(1===Le.length?Ht[Le]=0:delete Ht[Le])})}}function Qt(Ht,Nt){for(var Se=[],Le={},We=0;We<Nt.length;We++){var rr=Nt[We];Le[rr.text2]?Le[rr.text2].push(rr.x):Le[rr.text2]=[rr.x]}for(var or in Le)Se.push(pe(Ht,E.interp(Le[or],.5),or));return Se}function ke(Ht){return void 0!==Ht.periodX?Ht.periodX:Ht.x}function Ae(Ht){return[Ht.text,Ht.x,Ht.axInfo,Ht.font,Ht.fontSize,Ht.fontColor].join("_")}function Ze(Ht){var Nt=Ht.title.font.size,Se=(Ht.title.text.match(x.BR_TAG_ALL)||[]).length;return Ht.title.hasOwnProperty("standoff")?Se?Nt*(Q+Se*rt):Nt*Q:Se?Nt*(Se+1)*rt:Nt}function fe(Ht,Nt){var Se=Ht.l2p(Nt);return Se>1&&Se<Ht._length-1}function wr(Ht){var Nt=A.select(Ht),Se=Nt.select(".text-math-group");return Se.empty()?Nt.select("text"):Se}function ar(Ht){return Ht._id+".automargin"}function ie(Ht){return ar(Ht)+".mirror"}function ne(Ht){return Ht._id+".rangeslider"}function xe(Ht,Nt){for(var Se=0;Se<Nt.length;Se++)-1===Ht.indexOf(Nt[Se])&&Ht.push(Nt[Se])}function Te(Ht,Nt,Se){var or,qe,Le=[],We=[],rr=Ht.layout;for(or=0;or<Nt.length;or++)Le.push(J.getFromId(Ht,Nt[or]));for(or=0;or<Se.length;or++)We.push(J.getFromId(Ht,Se[or]));var De=Object.keys(a),sr=["anchor","domain","overlaying","position","side","tickangle","editType"],gr=["linear","log"];for(or=0;or<De.length;or++){var dr=De[or],Pr=Le[0][dr],qr=We[0][dr],Er=!0,Zr=!1,rn=!1;if("_"!==dr.charAt(0)&&"function"!=typeof Pr&&-1===sr.indexOf(dr)){for(qe=1;qe<Le.length&&Er;qe++){var zr=Le[qe][dr];"type"===dr&&-1!==gr.indexOf(Pr)&&-1!==gr.indexOf(zr)&&Pr!==zr?Zr=!0:zr!==Pr&&(Er=!1)}for(qe=1;qe<We.length&&Er;qe++){var Pn=We[qe][dr];"type"===dr&&-1!==gr.indexOf(qr)&&-1!==gr.indexOf(Pn)&&qr!==Pn?rn=!0:We[qe][dr]!==qr&&(Er=!1)}Er&&(Zr&&(rr[Le[0]._name].type="linear"),rn&&(rr[We[0]._name].type="linear"),be(rr,dr,Le,We,Ht._fullLayout._dfltTitle))}}for(or=0;or<Ht._fullLayout.annotations.length;or++){var An=Ht._fullLayout.annotations[or];-1!==Nt.indexOf(An.xref)&&-1!==Se.indexOf(An.yref)&&E.swapAttrs(rr.annotations[or],["?"])}}function be(Ht,Nt,Se,Le,We){var De,rr=E.nestedProperty,or=rr(Ht[Se[0]._name],Nt).get(),qe=rr(Ht[Le[0]._name],Nt).get();for("title"===Nt&&(or&&or.text===We.x&&(or.text=We.y),qe&&qe.text===We.y&&(qe.text=We.x)),De=0;De<Se.length;De++)rr(Ht,Se[De]._name+"."+Nt).set(qe);for(De=0;De<Le.length;De++)rr(Ht,Le[De]._name+"."+Nt).set(or)}function Pe(Ht){return"angularaxis"===Ht._id}function Be(Ht,Nt){for(var Se=Nt._rangebreaks.length,Le=0;Le<Se;Le++){var We=Nt._rangebreaks[Le];if(Ht>=We.min&&Ht<We.max)return We.max}return Ht}function Qe(Ht){return-1!==(Ht.ticklabelposition||"").indexOf("inside")}function Ke(Ht,Nt){Qe(Ht._anchorAxis||{})&&Ht._hideCounterAxisInsideTickLabels&&Ht._hideCounterAxisInsideTickLabels(Nt)}function tr(Ht,Nt,Se,Le){var rr,We="free"===Ht.anchor||void 0!==Ht.overlaying&&!1!==Ht.overlaying?Ht.overlaying:Ht._id;rr=Le?"right"===Ht.side?Nt:-Nt:Nt,We in Se||(Se[We]={}),Ht.side in Se[We]||(Se[We][Ht.side]=0),Se[We][Ht.side]+=rr}J.getTickFormat=function(Ht){var Nt,or,qe,De,sr,dr,Pr,qr;function Se(De){return"string"!=typeof De?De:Number(De.replace("M",""))*M}function Le(De,sr){var gr=["L","D"];if(typeof De==typeof sr){if("number"==typeof De)return De-sr;var dr=gr.indexOf(De.charAt(0)),Pr=gr.indexOf(sr.charAt(0));return dr===Pr?Number(De.replace(/(L|D)/g,""))-Number(sr.replace(/(L|D)/g,"")):dr-Pr}return"number"==typeof De?1:-1}function rr(De,sr){var gr=null===sr[0],dr=null===sr[1],Pr=Le(De,sr[0])>=0,qr=Le(De,sr[1])<=0;return(gr||Pr)&&(dr||qr)}if(Ht.tickformatstops&&Ht.tickformatstops.length>0)switch(Ht.type){case"date":case"linear":for(Nt=0;Nt<Ht.tickformatstops.length;Nt++)if((qe=Ht.tickformatstops[Nt]).enabled&&(De=Ht.dtick,dr=void 0,Pr=void 0,qr=void 0,dr=Se||function(Er){return Er},qr=(sr=qe.dtickrange)[1],(!(Pr=sr[0])&&"number"!=typeof Pr||dr(Pr)<=dr(De))&&(!qr&&"number"!=typeof qr||dr(qr)>=dr(De)))){or=qe;break}break;case"log":for(Nt=0;Nt<Ht.tickformatstops.length;Nt++)if((qe=Ht.tickformatstops[Nt]).enabled&&rr(Ht.dtick,qe.dtickrange)){or=qe;break}}return or?or.value:Ht.tickformat},J.getSubplots=function(Ht,Nt){var Se=Ht._fullLayout._subplots,Le=Se.cartesian.concat(Se.gl2d||[]),We=Nt?J.findSubplotsWithAxis(Le,Nt):Le;return We.sort(function(rr,or){var qe=rr.substr(1).split("y"),De=or.substr(1).split("y");return qe[0]===De[0]?+qe[1]-+De[1]:+qe[0]-+De[0]}),We},J.findSubplotsWithAxis=function(Ht,Nt){for(var Se=new RegExp("x"===Nt._id.charAt(0)?"^"+Nt._id+"y":Nt._id+"$"),Le=[],We=0;We<Ht.length;We++){var rr=Ht[We];Se.test(rr)&&Le.push(rr)}return Le},J.makeClipPaths=function(Ht){var Nt=Ht._fullLayout;if(!Nt._hasOnlyLargeSploms){var qe,De,Se={_offset:0,_length:Nt.width,_id:""},Le={_offset:0,_length:Nt.height,_id:""},We=J.list(Ht,"x",!0),rr=J.list(Ht,"y",!0),or=[];for(qe=0;qe<We.length;qe++)for(or.push({x:We[qe],y:Le}),De=0;De<rr.length;De++)0===qe&&or.push({x:Se,y:rr[De]}),or.push({x:We[qe],y:rr[De]});var sr=Nt._clips.selectAll(".axesclip").data(or,function(gr){return gr.x._id+gr.y._id});sr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(gr){return"clip"+Nt._uid+gr.x._id+gr.y._id}).append("rect"),sr.exit().remove(),sr.each(function(gr){A.select(this).select("rect").attr({x:gr.x._offset||0,y:gr.y._offset||0,width:gr.x._length||1,height:gr.y._length||1})})}},J.draw=function(Ht,Nt,Se){var Le=Ht._fullLayout;"redraw"===Nt&&Le._paper.selectAll("g.subplot").each(function(De){var gr=Le._plots[De[0]];if(gr){var dr=gr.xaxis,Pr=gr.yaxis;gr.xaxislayer.selectAll("."+dr._id+"tick").remove(),gr.yaxislayer.selectAll("."+Pr._id+"tick").remove(),gr.xaxislayer.selectAll("."+dr._id+"tick2").remove(),gr.yaxislayer.selectAll("."+Pr._id+"tick2").remove(),gr.xaxislayer.selectAll("."+dr._id+"divider").remove(),gr.yaxislayer.selectAll("."+Pr._id+"divider").remove(),gr.minorGridlayer&&gr.minorGridlayer.selectAll("path").remove(),gr.gridlayer&&gr.gridlayer.selectAll("path").remove(),gr.zerolinelayer&&gr.zerolinelayer.selectAll("path").remove(),Le._infolayer.select(".g-"+dr._id+"title").remove(),Le._infolayer.select(".g-"+Pr._id+"title").remove()}});var We=Nt&&"redraw"!==Nt?Nt:J.listIds(Ht),or=J.list(Ht).filter(function(De){return De.autoshift}).map(function(De){return De.overlaying});We.map(function(De){var sr=J.getFromId(Ht,De);if("sync"===sr.tickmode&&sr.overlaying){var gr=We.findIndex(function(dr){return dr===sr.overlaying});gr>=0&&We.unshift(We.splice(gr,1).shift())}});var qe={false:{left:0,right:0}};return E.syncOrAsync(We.map(function(De){return function(){if(De){var sr=J.getFromId(Ht,De);Se||(Se={}),Se.axShifts=qe,Se.overlayingShiftedAx=or;var gr=J.drawOne(Ht,sr,Se);return sr._shiftPusher&&tr(sr,sr._fullDepth||0,qe,!0),sr._r=sr.range.slice(),sr._rl=E.simpleMap(sr._r,sr.r2l),gr}}}))},J.drawOne=function(Ht,Nt,Se){var rr,or,qe,Le=(Se=Se||{}).axShifts||{},We=Se.overlayingShiftedAx||[];Nt.setScale();var De=Ht._fullLayout,sr=Nt._id,gr=sr.charAt(0),dr=J.counterLetter(sr),Pr=De._plots[Nt._mainSubplot];if(Pr){if(Nt._shiftPusher=Nt.autoshift||-1!==We.indexOf(Nt._id)||-1!==We.indexOf(Nt.overlaying),Nt._shiftPusher&"free"===Nt.anchor){var qr=Nt.linewidth/2||0;"inside"===Nt.ticks&&(qr+=Nt.ticklen),tr(Nt,qr,Le,!0),tr(Nt,Nt.shift||0,Le,!1)}(!0!==Se.skipTitle||void 0===Nt._shift)&&(Nt._shift=function vr(Ht,Nt){return Ht.autoshift?Nt[Ht.overlaying][Ht.side]:Ht.shift||0}(Nt,Le));var Er=Pr[gr+"axislayer"],Zr=Nt._mainLinePosition,rn=Zr+=Nt._shift,zr=Nt._mainMirrorPosition,Pn=Nt._vals=J.calcTicks(Nt),An=[Nt.mirror,rn,zr].join("_");for(rr=0;rr<Pn.length;rr++)Pn[rr].axInfo=An;Nt._selections={},Nt._tickAngles&&(Nt._prevTickAngles=Nt._tickAngles),Nt._tickAngles={},Nt._depth=null;var lr={};if(Nt.visible){var _r,dn,Fr=J.makeTransTickFn(Nt),Br=J.makeTransTickLabelFn(Nt),hn="inside"===Nt.ticks,xn="outside"===Nt.ticks;if("boundaries"===Nt.tickson){var En=function Yt(Ht,Nt){var Le,Se=[],We=function(rr,or){var qe=rr.xbnd[or];null!==qe&&Se.push(E.extendFlat({},rr,{x:qe}))};if(Nt.length){for(Le=0;Le<Nt.length;Le++)We(Nt[Le],0);We(Nt[Le-1],1)}return Se}(0,Pn);dn=J.clipEnds(Nt,En),_r=hn?dn:En}else dn=J.clipEnds(Nt,Pn),_r=hn&&"period"!==Nt.ticklabelmode?dn:Pn;var Vn=Nt._gridVals=dn,Gn=function le(Ht,Nt){var Le,We,Se=[],rr=Nt.length&&Nt[Nt.length-1].x<Nt[0].x,or=function(De,sr){var gr=De.xbnd[sr];null!==gr&&Se.push(E.extendFlat({},De,{x:gr}))};if(Ht.showdividers&&Nt.length){for(Le=0;Le<Nt.length;Le++){var qe=Nt[Le];qe.text2!==We&&or(qe,rr?1:0),We=qe.text2}or(Nt[Le-1],rr?0:1)}return Se}(Nt,Pn);if(!De._hasOnlyLargeSploms){var ia=Nt._subplotsWith,Kn={};for(rr=0;rr<ia.length;rr++){var Qn=(qe=De._plots[or=ia[rr]])[dr+"axis"],Tr=Qn._mainAxis._id;if(!Kn[Tr]){Kn[Tr]=1;var an="x"===gr?"M0,"+Qn._offset+"v"+Qn._length:"M"+Qn._offset+",0h"+Qn._length;J.drawGrid(Ht,Nt,{vals:Vn,counterAxis:Qn,layer:qe.gridlayer.select("."+sr),minorLayer:qe.minorGridlayer.select("."+sr),path:an,transFn:Fr}),J.drawZeroLine(Ht,Nt,{counterAxis:Qn,layer:qe.zerolinelayer,path:an,transFn:Fr})}}}var sn,pn=J.getTickSigns(Nt),Fn=J.getTickSigns(Nt,"minor");if(Nt.ticks||Nt.minor&&Nt.minor.ticks){var On,Jn,ya,Ba,Cn=J.makeTickPath(Nt,rn,pn[2]),Ln=J.makeTickPath(Nt,rn,Fn[2],{minor:!0});if(Nt._anchorAxis&&Nt.mirror&&!0!==Nt.mirror?(On=J.makeTickPath(Nt,zr,pn[3]),Jn=J.makeTickPath(Nt,zr,Fn[3],{minor:!0}),ya=Cn+On,Ba=Ln+Jn):(On="",Jn="",ya=Cn,Ba=Ln),Nt.showdividers&&xn&&"boundaries"===Nt.tickson){var Xe={};for(rr=0;rr<Gn.length;rr++)Xe[Gn[rr].x]=1;sn=function(Ge){return Xe[Ge.x]?On:ya}}else sn=function(Ge){return Ge.minor?Ba:ya}}if(J.drawTicks(Ht,Nt,{vals:_r,layer:Er,path:sn,transFn:Fr}),"allticks"===Nt.mirror){var br=Object.keys(Nt._linepositions||{});for(rr=0;rr<br.length;rr++){qe=De._plots[or=br[rr]];var en=Nt._linepositions[or]||[],un=en[1],Sn=en[2],mn=J.makeTickPath(Nt,en[0],Sn?pn[0]:Fn[0],{minor:Sn})+J.makeTickPath(Nt,un,Sn?pn[1]:Fn[1],{minor:Sn});J.drawTicks(Ht,Nt,{vals:_r,layer:qe[gr+"axislayer"],path:mn,transFn:Fr})}}var cn=[];if(cn.push(function(){return J.drawLabels(Ht,Nt,{vals:Pn,layer:Er,plotinfo:qe,transFn:Br,labelFns:J.makeLabelFns(Nt,rn)})}),"multicategory"===Nt.type){var Cr={x:2,y:10}[gr];cn.push(function(){var Ge={x:"height",y:"width"}[gr],Dr=yr()[Ge]+Cr+(Nt._tickAngles[sr+"tick"]?Nt.tickfont.size*rt:0);return J.drawLabels(Ht,Nt,{vals:Qt(Nt,Pn),layer:Er,cls:sr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Fr,labelFns:J.makeLabelFns(Nt,rn+Dr*pn[4])})}),cn.push(function(){return Nt._depth=pn[4]*(yr("tick2")[Nt.side]-rn),function je(Ht,Nt,Se){var Le=Nt._id+"divider",We=Se.vals,rr=Se.layer.selectAll("path."+Le).data(We,Ae);rr.exit().remove(),rr.enter().insert("path",":first-child").classed(Le,1).classed("crisp",1).call(r.stroke,Nt.dividercolor).style("stroke-width",f.crispRound(Ht,Nt.dividerwidth,1)+"px"),rr.attr("transform",Se.transFn).attr("d",Se.path)}(Ht,Nt,{vals:Gn,layer:Er,path:J.makeTickPath(Nt,rn,pn[4],{len:Nt._depth}),transFn:Fr})})}else Nt.title.hasOwnProperty("standoff")&&cn.push(function(){Nt._depth=pn[4]*(yr()[Nt.side]-rn)});var Mr=P.getComponentMethod("rangeslider","isVisible")(Nt);return!Se.skipTitle&&!(Mr&&"bottom"===Nt.side)&&cn.push(function(){return function Lr(Ht,Nt){var or,Se=Ht._fullLayout,Le=Nt._id,We=Le.charAt(0),rr=Nt.title.font.size;if(Nt.title.hasOwnProperty("standoff"))or=Nt._depth+Nt.title.standoff+Ze(Nt);else{var qe=Qe(Nt);if("multicategory"===Nt.type)or=Nt._depth;else{var De=1.5*rr;qe&&(De=.5*rr,"outside"===Nt.ticks&&(De+=Nt.ticklen)),or=10+De+(Nt.linewidth?Nt.linewidth-1:0)}qe||(or+="x"===We?"top"===Nt.side?rr*(Nt.showticklabels?1:0):rr*(Nt.showticklabels?1.5:.5):"right"===Nt.side?rr*(Nt.showticklabels?1:.5):rr*(Nt.showticklabels?.5:0))}var gr,dr,Pr,qr,sr=J.getPxPosition(Ht,Nt);if("x"===We?(dr=Nt._offset+Nt._length/2,Pr="top"===Nt.side?sr-or:sr+or):(Pr=Nt._offset+Nt._length/2,dr="right"===Nt.side?sr+or:sr-or,gr={rotate:"-90",offset:0}),"multicategory"!==Nt.type){var Er=Nt._selections[Nt._id+"tick"];if(qr={selection:Er,side:Nt.side},Er&&Er.node()&&Er.node().parentNode){var Zr=f.getTranslate(Er.node().parentNode);qr.offsetLeft=Zr.x,qr.offsetTop=Zr.y}Nt.title.hasOwnProperty("standoff")&&(qr.pad=0)}return Nt._titleStandoff=or,e.draw(Ht,Le+"title",{propContainer:Nt,propName:Nt._name+".title.text",placeholder:Se._dfltTitle[We],avoid:qr,transform:gr,attributes:{x:dr,y:Pr,"text-anchor":"middle"}})}(Ht,Nt)}),cn.push(function(){var ir,Yr,gn,Zn,Ge=Nt.side.charAt(0),Dr=it[Nt.side].charAt(0),Ue=J.getPxPosition(Ht,Nt),Ye=xn?Nt.ticklen:0;(Nt.automargin||Mr||Nt._shiftPusher)&&("multicategory"===Nt.type?ir=yr("tick2"):(ir=yr(),"x"===gr&&"b"===Ge&&(Nt._depth=Math.max(ir.width>0?ir.bottom-Ue:0,Ye))));var ta=0,Xn=0;if(Nt._shiftPusher&&(ta=Math.max(Ye,ir.height>0?"l"===Ge?Ue-ir.left:ir.right-Ue:0),Nt.title.text!==De._dfltTitle[gr]&&(Xn=(Nt._titleStandoff||0)+(Nt._titleScoot||0),"l"===Ge&&(Xn+=Ze(Nt))),Nt._fullDepth=Math.max(ta,Xn)),Nt.automargin){Yr={x:0,y:0,r:0,l:0,t:0,b:0};var ha=[0,1],Si="number"==typeof Nt._shift?Nt._shift:0;if("x"===gr){if("b"===Ge?Yr[Ge]=Nt._depth:(Yr[Ge]=Nt._depth=Math.max(ir.width>0?Ue-ir.top:0,Ye),ha.reverse()),ir.width>0){var qi=ir.right-(Nt._offset+Nt._length);qi>0&&(Yr.xr=1,Yr.r=qi);var to=Nt._offset-ir.left;to>0&&(Yr.xl=0,Yr.l=to)}}else if("l"===Ge?(Nt._depth=Math.max(ir.height>0?Ue-ir.left:0,Ye),Yr[Ge]=Nt._depth-Si):(Nt._depth=Math.max(ir.height>0?ir.right-Ue:0,Ye),Yr[Ge]=Nt._depth+Si,ha.reverse()),ir.height>0){var eo=ir.bottom-(Nt._offset+Nt._length);eo>0&&(Yr.yb=0,Yr.b=eo);var Fs=Nt._offset-ir.top;Fs>0&&(Yr.yt=1,Yr.t=Fs)}Yr[dr]="free"===Nt.anchor?Nt.position:Nt._anchorAxis.domain[ha[0]],Nt.title.text!==De._dfltTitle[gr]&&(Yr[Ge]+=Ze(Nt)+(Nt.title.standoff||0)),Nt.mirror&&"free"!==Nt.anchor&&((gn={x:0,y:0,r:0,l:0,t:0,b:0})[Dr]=Nt.linewidth,Nt.mirror&&!0!==Nt.mirror&&(gn[Dr]+=Ye),!0===Nt.mirror||"ticks"===Nt.mirror?gn[dr]=Nt._anchorAxis.domain[ha[1]]:("all"===Nt.mirror||"allticks"===Nt.mirror)&&(gn[dr]=[Nt._counterDomainMin,Nt._counterDomainMax][ha[1]]))}Mr&&(Zn=P.getComponentMethod("rangeslider","autoMarginOpts")(Ht,Nt)),"string"==typeof Nt.automargin&&(yt(Yr,Nt.automargin),yt(gn,Nt.automargin)),i.autoMargin(Ht,ar(Nt),Yr),i.autoMargin(Ht,ie(Nt),gn),i.autoMargin(Ht,ne(Nt),Zn)}),E.syncOrAsync(cn)}}function yr(Ge){var Dr=sr+(Ge||"tick");return lr[Dr]||(lr[Dr]=function he(Ht,Nt){var Se,Le,We,rr;return Ht._selections[Nt].size()?(Se=1/0,Le=-1/0,We=1/0,rr=-1/0,Ht._selections[Nt].each(function(){var or=wr(this),qe=f.bBox(or.node().parentNode);Se=Math.min(Se,qe.top),Le=Math.max(Le,qe.bottom),We=Math.min(We,qe.left),rr=Math.max(rr,qe.right)})):(Se=0,Le=0,We=0,rr=0),{top:Se,bottom:Le,left:We,right:rr,height:Le-Se,width:rr-We}}(Nt,Dr)),lr[Dr]}},J.getTickSigns=function(Ht,Nt){var Se=Ht._id.charAt(0),We=Ht.side==={x:"top",y:"right"}[Se]?1:-1,rr=[-1,1,We,-We];return"inside"!==(Nt?(Ht.minor||{}).ticks:Ht.ticks)==("x"===Se)&&(rr=rr.map(function(qe){return-qe})),Ht.side&&rr.push({l:-1,t:-1,r:1,b:1}[Ht.side.charAt(0)]),rr},J.makeTransTickFn=function(Ht){return"x"===Ht._id.charAt(0)?function(Nt){return l(Ht._offset+Ht.l2p(Nt.x),0)}:function(Nt){return l(0,Ht._offset+Ht.l2p(Nt.x))}},J.makeTransTickLabelFn=function(Ht){var Nt=function Oe(Ht){var Nt=Ht.ticklabelposition||"",Se=function(qr){return-1!==Nt.indexOf(qr)},Le=Se("top"),We=Se("left"),rr=Se("right"),or=Se("bottom"),qe=Se("inside"),De=or||We||Le||rr;if(!De&&!qe)return[0,0];var sr=Ht.side,gr=De?(Ht.tickwidth||0)/2:0,dr=3,Pr=Ht.tickfont?Ht.tickfont.size:12;return(or||Le)&&(gr+=Pr*Q,dr+=(Ht.linewidth||0)/2),(We||rr)&&(gr+=(Ht.linewidth||0)/2,dr+=3),qe&&"top"===sr&&(dr-=Pr*(1-Q)),(We||Le)&&(gr=-gr),("bottom"===sr||"right"===sr)&&(dr=-dr),[De?gr:0,qe?dr:0]}(Ht),Se=Nt[0],Le=Nt[1];return"x"===Ht._id.charAt(0)?function(We){return l(Se+Ht._offset+Ht.l2p(ke(We)),Le)}:function(We){return l(Le,Se+Ht._offset+Ht.l2p(ke(We)))}},J.makeTickPath=function(Ht,Nt,Se,Le){Le||(Le={});var We=Le.minor;if(We&&!Ht.minor)return"";var rr=void 0!==Le.len?Le.len:We?Ht.minor.ticklen:Ht.ticklen,or=Ht._id.charAt(0),qe=(Ht.linewidth||1)/2;return"x"===or?"M0,"+(Nt+qe*Se)+"v"+rr*Se:"M"+(Nt+qe*Se)+",0h"+rr*Se},J.makeLabelFns=function(Ht,Nt,Se){var Le=Ht.ticklabelposition||"",We=function(En){return-1!==Le.indexOf(En)},rr=We("top"),or=We("left"),qe=We("right"),sr=We("bottom")||or||rr||qe,gr=We("inside"),dr="inside"===Le&&"inside"===Ht.ticks||!gr&&"outside"===Ht.ticks&&"boundaries"!==Ht.tickson,Pr=0,qr=0,Er=dr?Ht.ticklen:0;if(gr?Er*=-1:sr&&(Er=0),dr&&(Pr+=Er,Se)){var Zr=E.deg2rad(Se);Pr=Er*Math.cos(Zr)+1,qr=Er*Math.sin(Zr)}Ht.showticklabels&&(dr||Ht.showline)&&(Pr+=.2*Ht.tickfont.size);var zr,Pn,An,lr,dn,rn={labelStandoff:Pr+=(Ht.linewidth||1)/2*(gr?-1:1),labelShift:qr},yr=0,Fr=Ht.side,Br=Ht._id.charAt(0),_r=Ht.tickangle;if("x"===Br)lr=(dn=!gr&&"bottom"===Fr||gr&&"top"===Fr)?1:-1,gr&&(lr*=-1),zr=qr*lr,Pn=Nt+Pr*lr,An=dn?1:-.2,90===Math.abs(_r)&&(gr?An+=G:An=-90===_r&&"bottom"===Fr?Q:90===_r&&"top"===Fr?G:.5,yr=G/2*(_r/90)),rn.xFn=function(En){return En.dx+zr+yr*En.fontSize},rn.yFn=function(En){return En.dy+Pn+En.fontSize*An},rn.anchorFn=function(En,Vn){if(sr){if(or)return"end";if(qe)return"start"}return g(Vn)&&0!==Vn&&180!==Vn?Vn*lr<0!==gr?"end":"start":"middle"},rn.heightFn=function(En,Vn,Gn){return Vn<-60||Vn>60?-.5*Gn:"top"===Ht.side!==gr?-Gn:0};else if("y"===Br){if(lr=(dn=!gr&&"left"===Fr||gr&&"right"===Fr)?1:-1,gr&&(lr*=-1),zr=Pr,Pn=qr*lr,An=0,!gr&&90===Math.abs(_r)&&(An=-90===_r&&"left"===Fr||90===_r&&"right"===Fr?Q:.5),gr){var hn=g(_r)?+_r:0;if(0!==hn){var xn=E.deg2rad(hn);yr=Math.abs(Math.sin(xn))*Q*lr,An=0}}rn.xFn=function(En){return En.dx+Nt-(zr+En.fontSize*An)*lr+yr*En.fontSize},rn.yFn=function(En){return En.dy+Pn+En.fontSize*G},rn.anchorFn=function(En,Vn){return g(Vn)&&90===Math.abs(Vn)?"middle":dn?"end":"start"},rn.heightFn=function(En,Vn,Gn){return"right"===Ht.side&&(Vn*=-1),Vn<-30?-Gn:Vn<30?-.5*Gn:0}}return rn},J.drawTicks=function(Ht,Nt,Se){Se=Se||{};var Le=Nt._id+"tick",We=[].concat(Nt.minor&&Nt.minor.ticks?Se.vals.filter(function(or){return or.minor&&!or.noTick}):[]).concat(Nt.ticks?Se.vals.filter(function(or){return!or.minor&&!or.noTick}):[]),rr=Se.layer.selectAll("path."+Le).data(We,Ae);rr.exit().remove(),rr.enter().append("path").classed(Le,1).classed("ticks",1).classed("crisp",!1!==Se.crisp).each(function(or){return r.stroke(A.select(this),or.minor?Nt.minor.tickcolor:Nt.tickcolor)}).style("stroke-width",function(or){return f.crispRound(Ht,or.minor?Nt.minor.tickwidth:Nt.tickwidth,1)+"px"}).attr("d",Se.path).style("display",null),Ke(Nt,[O]),rr.attr("transform",Se.transFn)},J.drawGrid=function(Ht,Nt,Se){if(Se=Se||{},"sync"!==Nt.tickmode){var Le=Nt._id+"grid",We=Nt.minor&&Nt.minor.showgrid,rr=We?Se.vals.filter(function(zr){return zr.minor}):[],or=Nt.showgrid?Se.vals.filter(function(zr){return!zr.minor}):[],qe=Se.counterAxis;if(qe&&J.shouldShowZeroLine(Ht,Nt,qe))for(var De="array"===Nt.tickmode,sr=0;sr<or.length;sr++){var gr=or[sr].x;if(De?!gr:Math.abs(gr)<Nt.dtick/100){if(or=or.slice(0,sr).concat(or.slice(sr+1)),!De)break;sr--}}Nt._gw=f.crispRound(Ht,Nt.gridwidth,1);for(var dr=We?f.crispRound(Ht,Nt.minor.gridwidth,1):0,Pr=Se.layer,qr=Se.minorLayer,Er=1;Er>=0;Er--){var Zr=Er?Pr:qr;if(Zr){var rn=Zr.selectAll("path."+Le).data(Er?or:rr,Ae);rn.exit().remove(),rn.enter().append("path").classed(Le,1).classed("crisp",!1!==Se.crisp),rn.attr("transform",Se.transFn).attr("d",Se.path).each(function(zr){return r.stroke(A.select(this),zr.minor?Nt.minor.gridcolor:Nt.gridcolor||"#ddd")}).style("stroke-dasharray",function(zr){return f.dashStyle(zr.minor?Nt.minor.griddash:Nt.griddash,zr.minor?Nt.minor.gridwidth:Nt.gridwidth)}).style("stroke-width",function(zr){return(zr.minor?dr:Nt._gw)+"px"}).style("display",null),"function"==typeof Se.path&&rn.attr("d",Se.path)}}Ke(Nt,[N,k])}},J.drawZeroLine=function(Ht,Nt,Se){var Le=Nt._id+"zl",We=J.shouldShowZeroLine(Ht,Nt,(Se=Se||Se).counterAxis),rr=Se.layer.selectAll("path."+Le).data(We?[{x:0,id:Nt._id}]:[]);rr.exit().remove(),rr.enter().append("path").classed(Le,1).classed("zl",1).classed("crisp",!1!==Se.crisp).each(function(){Se.layer.selectAll("path").sort(function(or,qe){return H(or.id,qe.id)})}),rr.attr("transform",Se.transFn).attr("d",Se.path).call(r.stroke,Nt.zerolinecolor||r.defaultLine).style("stroke-width",f.crispRound(Ht,Nt.zerolinewidth,Nt._gw||1)+"px").style("display",null),Ke(Nt,[D])},J.drawLabels=function(Ht,Nt,Se){Se=Se||{};var Le=Ht._fullLayout,We=Nt._id,rr=We.charAt(0),or=Se.cls||We+"tick",qe=Se.vals.filter(function(lr){return lr.text}),De=Se.labelFns,sr=Se.secondary?0:Nt.tickangle,gr=(Nt._prevTickAngles||{})[or],dr=Se.layer.selectAll("g."+or).data(Nt.showticklabels?qe:[],Ae),Pr=[];function qr(lr,yr){lr.each(function(Fr){var Br=A.select(this),_r=Br.select(".text-math-group"),dn=De.anchorFn(Fr,yr),hn=Se.transFn.call(Br.node(),Fr)+(g(yr)&&0!=+yr?" rotate("+yr+","+De.xFn(Fr)+","+(De.yFn(Fr)-Fr.fontSize/2)+")":""),xn=x.lineCount(Br),En=rt*Fr.fontSize,Vn=De.heightFn(Fr,g(yr)?+yr:0,(xn-1)*En);if(Vn&&(hn+=l(0,Vn)),_r.empty()){var Gn=Br.select("text");Gn.attr({transform:hn,"text-anchor":dn}),Gn.style("opacity",1),Nt._adjustTickLabelsOverflow&&Nt._adjustTickLabelsOverflow()}else{var ia=f.bBox(_r.node()).width;_r.attr("transform",hn+l(ia*{end:-.5,start:.5}[dn],0))}})}dr.enter().append("g").classed(or,1).append("text").attr("text-anchor","middle").each(function(lr){var yr=A.select(this),Fr=Ht._promises.length;yr.call(x.positionText,De.xFn(lr),De.yFn(lr)).call(f.font,lr.font,lr.fontSize,lr.fontColor).text(lr.text).call(x.convertToTspans,Ht),Ht._promises[Fr]?Pr.push(Ht._promises.pop().then(function(){qr(yr,sr)})):qr(yr,sr)}),Ke(Nt,[B]),dr.exit().remove(),Se.repositionOnUpdate&&dr.each(function(lr){A.select(this).select("text").call(x.positionText,De.xFn(lr),De.yFn(lr))}),Nt._adjustTickLabelsOverflow=function(){var lr=Nt.ticklabeloverflow;if(lr&&"allow"!==lr){var yr=-1!==lr.indexOf("hide"),Fr="x"===Nt._id.charAt(0),Br=0,_r=Fr?Ht._fullLayout.width:Ht._fullLayout.height;if(-1!==lr.indexOf("domain")){var dn=E.simpleMap(Nt.range,Nt.r2l);Br=Nt.l2p(dn[0])+Nt._offset,_r=Nt.l2p(dn[1])+Nt._offset}var hn=Math.min(Br,_r),xn=Math.max(Br,_r),En=Nt.side,Vn=1/0,Gn=-1/0;for(var ia in dr.each(function(Tr){var an=A.select(this);if(an.select(".text-math-group").empty()){var pn=f.bBox(an.node()),Fn=0;Fr?(pn.right>xn||pn.left<hn)&&(Fn=1):(pn.bottom>xn||pn.top+(Nt.tickangle?0:Tr.fontSize/4)<hn)&&(Fn=1);var Cn=an.select("text");Fn?yr&&Cn.style("opacity",0):(Cn.style("opacity",1),Vn="bottom"===En||"right"===En?Math.min(Vn,Fr?pn.top:pn.left):-1/0,Gn="top"===En||"left"===En?Math.max(Gn,Fr?pn.bottom:pn.right):1/0)}}),Le._plots){var Kn=Le._plots[ia];if(Nt._id===Kn.xaxis._id||Nt._id===Kn.yaxis._id){var Qn=Fr?Kn.yaxis:Kn.xaxis;Qn&&(Qn["_visibleLabelMin_"+Nt._id]=Vn,Qn["_visibleLabelMax_"+Nt._id]=Gn)}}}},Nt._hideCounterAxisInsideTickLabels=function(lr){var yr="x"===Nt._id.charAt(0),Fr=[];for(var Br in Le._plots){var _r=Le._plots[Br];Nt._id!==_r.xaxis._id&&Nt._id!==_r.yaxis._id||Fr.push(yr?_r.yaxis:_r.xaxis)}Fr.forEach(function(dn,hn){dn&&Qe(dn)&&(lr||[D,k,N,O,B]).forEach(function(xn){var En="tick"===xn.K&&"text"===xn.L&&"period"===Nt.ticklabelmode,Vn=Le._plots[Nt._mainSubplot];(xn.K===D.K?Vn.zerolinelayer.selectAll("."+Nt._id+"zl"):xn.K===k.K?Vn.minorGridlayer.selectAll("."+Nt._id):xn.K===N.K?Vn.gridlayer.selectAll("."+Nt._id):Vn[Nt._id.charAt(0)+"axislayer"]).each(function(){var ia=A.select(this);xn.L&&(ia=ia.selectAll(xn.L)),ia.each(function(Kn){var Qn=Nt.l2p(En?ke(Kn):Kn.x)+Nt._offset,Tr=A.select(this);Qn<Nt["_visibleLabelMax_"+dn._id]&&Qn>Nt["_visibleLabelMin_"+dn._id]?Tr.style("display","none"):"tick"===xn.K&&!hn&&Tr.style("display",null)})})})})},qr(dr,gr+1?gr:sr);var Zr=null;Nt._selections&&(Nt._selections[or]=dr);var zr=[function Er(){return Pr.length&&Promise.all(Pr)}];Nt.automargin&&Le._redrawFromAutoMarginCount&&90===gr?(Zr=90,zr.push(function(){qr(dr,gr)})):zr.push(function rn(){if(qr(dr,sr),qe.length&&"x"===rr&&!g(sr)&&("log"!==Nt.type||"D"!==String(Nt.dtick).charAt(0))){Zr=0;var Fr,lr=0,yr=[];if(dr.each(function(pn){lr=Math.max(lr,pn.fontSize);var Fn=Nt.l2p(pn.x),Cn=wr(this),Ln=f.bBox(Cn.node());yr.push({top:0,bottom:10,height:10,left:Fn-Ln.width/2,right:Fn+Ln.width/2+2,width:Ln.width+2})}),"boundaries"!==Nt.tickson&&!Nt.showdividers||Se.secondary){var hn=qe.length,xn=Math.abs((qe[hn-1].x-qe[0].x)*Nt._m)/(hn-1),En=Nt.ticklabelposition||"",Vn=function(pn){return-1!==En.indexOf(pn)},Gn=Vn("top"),ia=Vn("left"),Kn=Vn("right"),an=Vn("bottom")||ia||Gn||Kn?(Nt.tickwidth||0)+6:0,sn=xn<2.5*lr||"multicategory"===Nt.type||"realaxis"===Nt._name;for(Fr=0;Fr<yr.length-1;Fr++)if(E.bBoxIntersect(yr[Fr],yr[Fr+1],an)){Zr=sn?90:30;break}}else{var Br=2;for(Nt.ticks&&(Br+=Nt.tickwidth/2),Fr=0;Fr<yr.length;Fr++){var _r=qe[Fr].xbnd,dn=yr[Fr];if(null!==_r[0]&&dn.left-Nt.l2p(_r[0])<Br||null!==_r[1]&&Nt.l2p(_r[1])-dn.right<Br){Zr=90;break}}}Zr&&qr(dr,Zr)}}),Nt._tickAngles&&zr.push(function(){Nt._tickAngles[or]=null===Zr?g(sr)?sr:0:Zr});var Pn=Nt._anchorAxis;Pn&&Pn.autorange&&Qe(Nt)&&!X(Le,Nt._id)&&(Le._insideTickLabelsAutorange||(Le._insideTickLabelsAutorange={}),Le._insideTickLabelsAutorange[Pn._name+".autorange"]=Pn.autorange,zr.push(function(){dr.each(function(yr,Fr){var Br=wr(this);Br.select(".text-math-group").empty()&&(Nt._vals[Fr].bb=f.bBox(Br.node()))})}));var An=E.syncOrAsync(zr);return An&&An.then&&Ht._promises.push(An),An},J.getPxPosition=function(Ht,Nt){var rr,Se=Ht._fullLayout._size,Le=Nt._id.charAt(0),We=Nt.side;return"free"!==Nt.anchor?rr=Nt._anchorAxis:"x"===Le?rr={_offset:Se.t+(1-(Nt.position||0))*Se.h,_length:0}:"y"===Le&&(rr={_offset:Se.l+(Nt.position||0)*Se.w+Nt._shift,_length:0}),"top"===We||"left"===We?rr._offset:"bottom"===We||"right"===We?rr._offset+rr._length:void 0},J.shouldShowZeroLine=function(Ht,Nt,Se){var Le=E.simpleMap(Nt.range,Nt.r2l);return Le[0]*Le[1]<=0&&Nt.zeroline&&("linear"===Nt.type||"-"===Nt.type)&&!(Nt.rangebreaks&&Nt.maskBreaks(0)===F)&&(fe(Nt,0)||!function Ve(Ht,Nt,Se,Le){var We=Se._mainAxis;if(We){var rr=Ht._fullLayout,or=Nt._id.charAt(0),qe=J.counterLetter(Nt._id),De=Nt._offset+(Math.abs(Le[0])<Math.abs(Le[1])==("x"===or)?0:Nt._length),gr=rr._plots[Se._mainSubplot];if(!(gr.mainplotinfo||gr).overlays.length)return sr(Se);for(var dr=J.list(Ht,qe),Pr=0;Pr<dr.length;Pr++){var qr=dr[Pr];if(qr._mainAxis===We&&sr(qr))return!0}}function sr(Er){if(!Er.showline||!Er.linewidth)return!1;var Zr=Math.max((Er.linewidth+Nt.zerolinewidth)/2,1);function rn(An){return"number"==typeof An&&Math.abs(An-De)<Zr}if(rn(Er._mainLinePosition)||rn(Er._mainMirrorPosition))return!0;var zr=Er._linepositions||{};for(var Pn in zr)if(rn(zr[Pn][0])||rn(zr[Pn][1]))return!0}}(Ht,Nt,Se,Le)||function He(Ht,Nt){for(var Se=Ht._fullData,Le=Nt._mainSubplot,We=Nt._id.charAt(0),rr=0;rr<Se.length;rr++){var or=Se[rr];if(!0===or.visible&&or.xaxis+or.yaxis===Le&&(P.traceIs(or,"bar-like")&&or.orientation==={x:"h",y:"v"}[We]||or.fill&&or.fill.charAt(or.fill.length-1)===We))return!0}return!1}(Ht,Nt))},J.clipEnds=function(Ht,Nt){return Nt.filter(function(Se){return fe(Ht,Se.x)})},J.allowAutoMargin=function(Ht){for(var Nt=J.list(Ht,"",!0),Se=0;Se<Nt.length;Se++){var Le=Nt[Se];Le.automargin&&(i.allowAutoMargin(Ht,ar(Le)),Le.mirror&&i.allowAutoMargin(Ht,ie(Le))),P.getComponentMethod("rangeslider","isVisible")(Le)&&i.allowAutoMargin(Ht,ne(Le))}},J.swap=function(Ht,Nt){for(var Se=function ve(Ht,Nt){var Le,We,Se=[];for(Le=0;Le<Nt.length;Le++){var rr=[],or=Ht._fullData[Nt[Le]].xaxis,qe=Ht._fullData[Nt[Le]].yaxis;if(or&&qe){for(We=0;We<Se.length;We++)(-1!==Se[We].x.indexOf(or)||-1!==Se[We].y.indexOf(qe))&&rr.push(We);if(!rr.length){Se.push({x:[or],y:[qe]});continue}var sr,De=Se[rr[0]];if(rr.length>1)for(We=1;We<rr.length;We++)xe(De.x,(sr=Se[rr[We]]).x),xe(De.y,sr.y);xe(De.x,[or]),xe(De.y,[qe])}}return Se}(Ht,Nt),Le=0;Le<Se.length;Le++)Te(Ht,Se[Le].x,Se[Le].y)}},4322:function(tt,W,t){"use strict";var A=t(92770),g=t(71828),i=t(50606).BADNUM,P=g.isArrayOrTypedArray,E=g.isDateTime,l=g.cleanNumber,x=Math.round;function e(u,y){return y?A(u):"number"==typeof u}function a(u){return Math.max(1,(u-1)/1e3)}tt.exports=function(y,v,w){var d=y,o=w.noMultiCategory;if(P(d)&&!d.length)return"-";if(!o&&function c(u){return P(u[0])&&P(u[1])}(d))return"multicategory";if(o&&Array.isArray(d[0])){for(var h=[],M=0;M<d.length;M++)if(P(d[M]))for(var T=0;T<d[M].length;T++)h.push(d[M][T]);d=h}if(function f(u,y){for(var v=u.length,w=a(v),d=0,o=0,h={},M=0;M<v;M+=w){var L=u[x(M)],m=String(L);h[m]||(h[m]=1,E(L,y)&&d++,A(L)&&o++)}return d>2*o}(d,v))return"date";var L="strict"!==w.autotypenumbers;return function s(u,y){for(var v=u.length,w=a(v),d=0,o=0,h={},M=0;M<v;M+=w){var L=u[x(M)],m=String(L);if(!h[m]){h[m]=1;var S=typeof L;"boolean"===S?o++:(y?l(L)!==i:"number"===S)?d++:"string"===S&&o++}}return o>2*d}(d,L)?"category":function r(u,y){for(var v=u.length,w=0;w<v;w++)if(e(u[w],y))return!0;return!1}(d,L)?"linear":"-"}},71453:function(tt,W,t){"use strict";var A=t(92770),g=t(73972),i=t(71828),P=t(44467),E=t(85501),l=t(13838),x=t(26218),e=t(38701),r=t(96115),f=t(89426),a=t(15258),s=t(92128),c=t(21994),u=t(85555).WEEKDAY_PATTERN,y=t(85555).HOUR_PATTERN;function v(o,h,M){function T(D,N){return i.coerce(o,h,l.rangebreaks,D,N)}if(T("enabled")){var m=T("bounds");if(m&&m.length>=2){var b,n,S="";if(2===m.length)for(b=0;b<2;b++)if(n=d(m[b])){S=u;break}var C=T("pattern",S);if(C===u)for(b=0;b<2;b++)(n=d(m[b]))&&(h.bounds[b]=m[b]=n-1);if(C)for(b=0;b<2;b++)switch(n=m[b],C){case u:if(!A(n))return void(h.enabled=!1);if((n=+n)!==Math.floor(n)||n<0||n>=7)return void(h.enabled=!1);h.bounds[b]=m[b]=n;break;case y:if(!A(n))return void(h.enabled=!1);if((n=+n)<0||n>24)return void(h.enabled=!1);h.bounds[b]=m[b]=n}if(!1===M.autorange){var p=M.range;if(p[0]<p[1]){if(m[0]<p[0]&&m[1]>p[1])return void(h.enabled=!1)}else if(m[0]>p[0]&&m[1]<p[1])return void(h.enabled=!1)}}else{var F=T("values");if(!F||!F.length)return void(h.enabled=!1);T("dvalue")}}}tt.exports=function(h,M,T,L,m){var D,S=L.letter,b=L.font||{},n=L.splomStash||{},C=T("visible",!L.visibleDflt),F=M.type||(M._template||{}).type||"-";"date"===F&&(g.getComponentMethod("calendars","handleDefaults")(h,M,"calendar",L.calendar),L.noTicklabelmode||(D=T("ticklabelmode")));var k="";(!L.noTicklabelposition||"multicategory"===F)&&(k=i.coerce(h,M,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===D?["outside","inside"]:"x"===S?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),L.noTicklabeloverflow||T("ticklabeloverflow",-1!==k.indexOf("inside")?"hide past domain":"category"===F||"multicategory"===F?"allow":"hide past div"),c(M,m);var O=!M.isValidRange(h.range);O&&L.reverseDflt&&(O="reversed"),T("autorange",O)&&("linear"===F||"-"===F)&&T("rangemode"),T("range"),M.cleanRange(),a(h,M,T,L),"category"!==F&&!L.noHover&&T("hoverformat");var z=T("color"),U=z!==l.color.dflt?z:b.color,G=n.label||m._dfltTitle[S];if(f(h,M,T,F,L),!C)return M;T("title.text",G),i.coerceFont(T,"title.font",{family:b.family,size:i.bigFont(b.size),color:U}),x(h,M,T,F);var Q=L.hasMinor;if(Q&&(P.newContainer(M,"minor"),x(h,M,T,F,{isMinor:!0})),r(h,M,T,F,L),e(h,M,T,L),Q){var rt=L.isMinor;L.isMinor=!0,e(h,M,T,L),L.isMinor=rt}s(h,M,T,{dfltColor:z,bgColor:L.bgColor,showGrid:L.showGrid,hasMinor:Q,attributes:l}),Q&&!M.minor.ticks&&!M.minor.showgrid&&delete M.minor,(M.showline||M.ticks)&&T("mirror");var ut,it="multicategory"===F;if(L.noTickson||"category"!==F&&!it||!M.ticks&&!M.showgrid||(it&&(ut="boundaries"),"boundaries"===T("tickson",ut)&&delete M.ticklabelposition),it&&T("showdividers")&&(T("dividercolor"),T("dividerwidth")),"date"===F)if(E(h,M,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:v}),M.rangebreaks.length){for(var Z=0;Z<M.rangebreaks.length;Z++)if(M.rangebreaks[Z].pattern===u){M._hasDayOfWeekBreaks=!0;break}if(c(M,m),m._has("scattergl")||m._has("splom"))for(var H=0;H<L.data.length;H++){var X=L.data[H];("scattergl"===X.type||"splom"===X.type)&&(X.visible=!1,i.warn(X.type+" traces do not work on axes with rangebreaks. Setting trace "+X.index+" to `visible: false`."))}}else delete M.rangebreaks;return M};var w={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function d(o){if("string"==typeof o)return w[o.substr(0,3).toLowerCase()]}},12663:function(tt,W,t){"use strict";var A=t(31562),g=A.FORMAT_LINK,i=A.DATE_FORMAT_LINK;function E(x,e){return["Sets the "+x+" formatting rule"+(e?"for `"+e+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+g+"."].join(" ")}function l(x,e){return E(x,e)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}tt.exports={axisHoverFormat:function P(x,e){return{valType:"string",dflt:"",editType:"none",description:(e?E:l)("hover text",x)+["By default the values are formatted using "+(e?"generic number format":"`"+x+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:E,descriptionWithDates:l}},41675:function(tt,W,t){"use strict";var A=t(73972),g=t(85555);function i(P,E){if(E&&E.length)for(var l=0;l<E.length;l++)if(E[l][P])return!0;return!1}W.id2name=function(E){if("string"==typeof E&&E.match(g.AX_ID_PATTERN)){var l=E.split(" ")[0].substr(1);return"1"===l&&(l=""),E.charAt(0)+"axis"+l}},W.name2id=function(E){if(E.match(g.AX_NAME_PATTERN)){var l=E.substr(5);return"1"===l&&(l=""),E.charAt(0)+l}},W.cleanId=function(E,l,x){var e=/( domain)$/.test(E);if("string"==typeof E&&E.match(g.AX_ID_PATTERN)&&(!l||E.charAt(0)===l)&&(!e||x)){var r=E.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===r&&(r=""),E.charAt(0)+r+(e&&x?" domain":"")}},W.list=function(P,E,l){var x=P._fullLayout;if(!x)return[];var f,e=W.listIds(P,E),r=new Array(e.length);for(f=0;f<e.length;f++){var a=e[f];r[f]=x[a.charAt(0)+"axis"+a.substr(1)]}if(!l){var s=x._subplots.gl3d||[];for(f=0;f<s.length;f++){var c=x[s[f]];E?r.push(c[E+"axis"]):r.push(c.xaxis,c.yaxis,c.zaxis)}}return r},W.listIds=function(P,E){var l=P._fullLayout;if(!l)return[];var x=l._subplots;return E?x[E+"axis"]:x.xaxis.concat(x.yaxis)},W.getFromId=function(P,E,l){var x=P._fullLayout;return E=void 0===E||"string"!=typeof E?E:E.replace(" domain",""),"x"===l?E=E.replace(/y[0-9]*/,""):"y"===l&&(E=E.replace(/x[0-9]*/,"")),x[W.id2name(E)]},W.getFromTrace=function(P,E,l){var x=P._fullLayout,e=null;if(A.traceIs(E,"gl3d")){var r=E.scene;"scene"===r.substr(0,5)&&(e=x[r][l+"axis"])}else e=W.getFromId(P,E[l+"axis"]||l);return e},W.idSort=function(P,E){var l=P.charAt(0),x=E.charAt(0);return l!==x?l>x?1:-1:+(P.substr(1)||1)-+(E.substr(1)||1)},W.ref2id=function(P){return!!/^[xyz]/.test(P)&&P.split(" ")[0]},W.isLinked=function(P,E){return i(E,P._axisMatchGroups)||i(E,P._axisConstraintGroups)}},15258:function(tt){"use strict";tt.exports=function(A,g,i,P){if("category"===g.type){var x,E=A.categoryarray,l=Array.isArray(E)&&E.length>0;l&&(x="array");var r,e=i("categoryorder",x);"array"===e&&(r=i("categoryarray")),!l&&"array"===e&&(e=g.categoryorder="trace"),"trace"===e?g._initialCategories=[]:"array"===e?g._initialCategories=r.slice():(r=function W(t,A){var P,E,l,g=A.dataAttr||t._id.charAt(0),i={};if(A.axData)P=A.axData;else for(P=[],E=0;E<A.data.length;E++){var x=A.data[E];x[g+"axis"]===t._id&&P.push(x)}for(E=0;E<P.length;E++){var e=P[E][g];for(l=0;l<e.length;l++){var r=e[l];null!=r&&(i[r]=1)}}return Object.keys(i)}(g,P).sort(),"category ascending"===e?g._initialCategories=r:"category descending"===e&&(g._initialCategories=r.reverse()))}}},66287:function(tt,W,t){"use strict";var A=t(92770),g=t(71828),i=t(50606),P=i.ONEDAY,E=i.ONEWEEK;W.dtick=function(l,x){var e="log"===x,r="date"===x,f="category"===x,a=r?P:1;if(!l)return a;if(A(l))return(l=Number(l))<=0?a:f?Math.max(1,Math.round(l)):r?Math.max(.1,l):l;if("string"!=typeof l||!r&&!e)return a;var s=l.charAt(0),c=l.substr(1);return(c=A(c)?Number(c):0)<=0||!(r&&"M"===s&&c===Math.round(c)||e&&"L"===s||e&&"D"===s&&(1===c||2===c))?a:l},W.tick0=function(l,x,e,r){return"date"===x?g.cleanDate(l,g.dateTick0(e,r%E==0?1:0)):"D1"!==r&&"D2"!==r?A(l)?Number(l):0:void 0}},85555:function(tt,W,t){"use strict";var A=t(30587).counter;tt.exports={idRegex:{x:A("x","( domain)?"),y:A("y","( domain)?")},attrRegex:A("[xy]axis"),xAxisMatch:A("xaxis"),yAxisMatch:A("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(tt,W,t){"use strict";var A=t(71828),g=t(71739),i=t(41675).id2name,P=t(13838),E=t(42449),l=t(21994),x=t(50606).ALMOST_EQUAL,e=t(18783).FROM_BL;function r(v,w,d){var o=d.axIds,h=d.layoutOut,M=d.hasImage,T=h._axisConstraintGroups,L=h._axisMatchGroups,m=w._id,S=m.charAt(0),b=((h._splomAxes||{})[S]||{})[m]||{},n=w._id,C="x"===n.charAt(0);function p(j,Z){return A.coerce(v,w,P,j,Z)}w._matchGroup=null,w._constraintGroup=null,p("constrain",M?"domain":"range"),A.coerce(v,w,{constraintoward:{valType:"enumerated",values:C?["left","center","right"]:["bottom","middle","top"],dflt:C?"center":"middle"}},"constraintoward");var D,N,F=w.type,k=[];for(D=0;D<o.length;D++)(N=o[D])!==n&&h[i(N)].type===F&&k.push(N);var B=a(T,n);if(B){var z=[];for(D=0;D<k.length;D++)B[N=k[D]]||z.push(N);k=z}var G,Q,U=k.length;U&&(v.matches||b.matches)&&(G=A.coerce(v,w,{matches:{valType:"enumerated",values:k,dflt:-1!==k.indexOf(b.matches)?b.matches:void 0}},"matches"));var rt=M&&!C?w.anchor:void 0;if(U&&!G&&(v.scaleanchor||rt)&&(Q=A.coerce(v,w,{scaleanchor:{valType:"enumerated",values:k}},"scaleanchor",rt)),G){w._matchGroup=s(L,n,G,1);var it=h[i(G)],ut=f(h,w)/f(h,it);C!==("x"===G.charAt(0))&&(ut=(C?"x":"y")+ut),s(T,n,G,ut)}else v.matches&&-1!==o.indexOf(v.matches)&&A.warn("ignored "+w._name+'.matches: "'+v.matches+'" to avoid an infinite loop');if(Q){var J=p("scaleratio");J||(J=w.scaleratio=1),s(T,n,Q,J)}else v.scaleanchor&&-1!==o.indexOf(v.scaleanchor)&&A.warn("ignored "+w._name+'.scaleanchor: "'+v.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function f(v,w){var d=w.domain;return d||(d=v[i(w.overlaying)].domain),d[1]-d[0]}function a(v,w){for(var d=0;d<v.length;d++)if(v[d][w])return v[d];return null}function s(v,w,d,o){var h,M,T,L,m,S=a(v,w);null===S?((S={})[w]=1,m=v.length,v.push(S)):m=v.indexOf(S);var b=Object.keys(S);for(h=0;h<v.length;h++)if(T=v[h],h!==m&&T[d]){var n=T[d];for(M=0;M<b.length;M++)T[L=b[M]]=c(n,c(o,S[L]));return void v.splice(m,1)}if(1!==o)for(M=0;M<b.length;M++){var C=b[M];S[C]=c(o,S[C])}S[d]=1}function c(v,w){var h,M,d="",o="";"string"==typeof v&&(d=v.match(/^[xy]*/)[0],v=+v.substr(h=d.length)),"string"==typeof w&&(o=w.match(/^[xy]*/)[0],w=+w.substr(M=o.length));var T=v*w;return h||M?h&&M&&d.charAt(0)!==o.charAt(0)?h===M?T:(h>M?d.substr(M):o.substr(h))+T:d+o+v*w:T}function u(v,w){for(var d=w._size,o=d.h/d.w,h={},M=Object.keys(v),T=0;T<M.length;T++){var L=M[T],m=v[L];if("string"==typeof m){var S=m.match(/^[xy]*/)[0],b=S.length;m=+m.substr(b);for(var n="y"===S.charAt(0)?o:1/o,C=0;C<b;C++)m*=n}h[L]=m}return h}function y(v,w){var d=v._inputDomain,h=d[0]+(d[1]-d[0])*e[v.constraintoward];v.domain=v._input.domain=[h+(d[0]-h)/w,h+(d[1]-h)/w],v.setScale()}W.handleDefaults=function(v,w,d){var L,m,S,b,n,C,p,F,o=d.axIds,h=d.axHasImage,M=w._axisConstraintGroups=[],T=w._axisMatchGroups=[];for(L=0;L<o.length;L++)r(n=v[b=i(o[L])],C=w[b],{axIds:o,layoutOut:w,hasImage:h[b]});function D(rt,it){for(L=0;L<rt.length;L++)for(S in m=rt[L])w[i(S)][it]=m}for(D(T,"_matchGroup"),L=0;L<M.length;L++)for(S in m=M[L])if((C=w[i(S)]).fixedrange){for(var N in m){var k=i(N);!1===(v[k]||{}).fixedrange&&A.warn("fixedrange was specified as false for axis "+k+" but was overridden because another axis in its constraint group has fixedrange true"),w[k].fixedrange=!0}break}for(L=0;L<M.length;){for(S in m=M[L]){(C=w[i(S)])._matchGroup&&Object.keys(C._matchGroup).length===Object.keys(m).length&&(M.splice(L,1),L--);break}L++}D(M,"_constraintGroup");var O=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],B=!1,z=!1;function U(){F=C[p],"rangebreaks"===p&&(z=C._hasDayOfWeekBreaks)}for(L=0;L<T.length;L++){m=T[L];for(var G=0;G<O.length;G++){var Q;for(S in p=O[G],F=null,m)if(n=v[b=i(S)],p in(C=w[b])){if(!C.matches&&(Q=C,p in n)){U();break}null===F&&p in n&&U()}if("range"===p&&F&&(B=!0),"autorange"===p&&null===F&&B&&(F=!1),null===F&&p in Q&&(F=Q[p]),null!==F)for(S in m)(C=w[i(S)])[p]="range"===p?F.slice():F,"rangebreaks"===p&&(C._hasDayOfWeekBreaks=z,l(C,w))}}},W.enforce=function(w){var h,M,T,L,m,S,b,n,d=w._fullLayout,o=d._axisConstraintGroups||[];for(h=0;h<o.length;h++){T=u(o[h],d);var C=Object.keys(T),p=1/0,F=0,D=1/0,N={},k={},O=!1;for(M=0;M<C.length;M++)k[L=C[M]]=m=d[i(L)],m._inputDomain?m.domain=m._inputDomain.slice():m._inputDomain=m.domain.slice(),m._inputRange||(m._inputRange=m.range.slice()),m.setScale(),N[L]=S=Math.abs(m._m)/T[L],p=Math.min(p,S),("domain"===m.constrain||!m._constraintShrinkable)&&(D=Math.min(D,S)),delete m._constraintShrinkable,F=Math.max(F,S),"domain"===m.constrain&&(O=!0);if(!(p>x*F)||O)for(M=0;M<C.length;M++)if(b=(m=k[L=C[M]]).constrain,(S=N[L])!==D||"domain"===b)if(n=S/D,"range"===b)E(m,n);else{var B=m._inputDomain,z=(m.domain[1]-m.domain[0])/(B[1]-B[0]),U=(m.r2l(m.range[1])-m.r2l(m.range[0]))/(m.r2l(m._inputRange[1])-m.r2l(m._inputRange[0]));if((n/=z)*U<1){m.domain=m._input.domain=B.slice(),E(m,n);continue}if(U<1&&(m.range=m._input.range=m._inputRange.slice(),n*=U),m.autorange){var G=m.r2l(m.range[0]),Q=m.r2l(m.range[1]),rt=(G+Q)/2,it=rt,ut=rt,J=Math.abs(Q-rt),j=rt-J*n*1.0001,Z=rt+J*n*1.0001,H=g.makePadFn(d,m,0),X=g.makePadFn(d,m,1);y(m,n);var et,st,at=Math.abs(m._m),_=g.concatExtremes(w,m),K=_.min,nt=_.max;for(st=0;st<K.length;st++)(et=K[st].val-H(K[st])/at)>j&&et<it&&(it=et);for(st=0;st<nt.length;st++)(et=nt[st].val+X(nt[st])/at)<Z&&et>ut&&(ut=et);n/=(ut-it)/(2*J),it=m.l2r(it),ut=m.l2r(ut),m.range=m._input.range=G<Q?[it,ut]:[ut,it]}y(m,n)}}},W.getAxisGroup=function(w,d){for(var o=w._axisMatchGroups,h=0;h<o.length;h++)if(o[h][d])return"g"+h;return d},W.clean=function(w,d){if(d._inputDomain){for(var o=!1,h=d._id,M=w._fullLayout._axisConstraintGroups,T=0;T<M.length;T++)if(M[T][h]){o=!0;break}(!o||"domain"!==d.constrain)&&(d._input.domain=d.domain=d._inputDomain,delete d._inputDomain)}}},29323:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=g.numberFormat,P=t(84267),E=t(38520),l=t(73972),x=g.strTranslate,e=t(63893),r=t(7901),f=t(91424),a=t(30211),s=t(89298),c=t(6964),u=t(28569),y=t(64505),v=y.selectingOrDrawing,w=y.freeMode,d=t(18783).FROM_TL,o=t(33306),h=t(61549).redrawReglTraces,M=t(74875),T=t(41675).getFromId,L=t(47322).prepSelect,m=t(47322).clearOutline,S=t(47322).selectOnClick,b=t(42449),n=t(85555),C=n.MINDRAG,p=n.MINZOOM,F=!0;function N(et,st,dt,Tt){var bt=g.ensureSingle(et.draglayer,st,dt,function(Dt){Dt.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",et.id)});return bt.call(c,Tt),bt.node()}function k(et,st,dt,Tt,bt,Dt,Ft){var Mt=N(et,"rect",st,dt);return A.select(Mt).call(f.setRect,Tt,bt,Dt,Ft),Mt}function O(et,st){for(var dt=0;dt<et.length;dt++)if(!et[dt].fixedrange)return st;return""}function z(et,st,dt,Tt,bt){for(var Dt=0;Dt<et.length;Dt++){var Ft=et[Dt];if(!Ft.fixedrange)if(Ft.rangebreaks){var Mt="y"===Ft._id.charAt(0),St=Mt?1-dt:dt;Tt[Ft._name+".range[0]"]=Ft.l2r(Ft.p2l((Mt?1-st:st)*Ft._length)),Tt[Ft._name+".range[1]"]=Ft.l2r(Ft.p2l(St*Ft._length))}else{var Ut=Ft._rl[0],Gt=Ft._rl[1]-Ut;Tt[Ft._name+".range[0]"]=Ft.l2r(Ut+Gt*st),Tt[Ft._name+".range[1]"]=Ft.l2r(Ut+Gt*dt)}}if(bt&&bt.length){var Pt=(st+(1-dt))/2;z(bt,Pt,1-Pt,Tt,[])}}function U(et,st){for(var dt=0;dt<et.length;dt++){var Tt=et[dt];if(!Tt.fixedrange)if(Tt.rangebreaks){var Dt=Tt._length,wt=(Tt.p2l(0+st)-Tt.p2l(0)+(Tt.p2l(Dt+st)-Tt.p2l(Dt)))/2;Tt.range=[Tt.l2r(Tt._rl[0]-wt),Tt.l2r(Tt._rl[1]-wt)]}else Tt.range=[Tt.l2r(Tt._rl[0]-st/Tt._m),Tt.l2r(Tt._rl[1]-st/Tt._m)]}}function G(et){return 1-(et>=0?Math.min(et,.9):1/(1/Math.max(et,-.3)+3.222))}function rt(et,st,dt,Tt,bt){return et.append("path").attr("class","zoombox").style({fill:st>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",x(dt,Tt)).attr("d",bt+"Z")}function it(et,st,dt){return et.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",x(st,dt)).attr("d","M0,0Z")}function ut(et,st,dt,Tt,bt,Dt){et.attr("d",Tt+"M"+dt.l+","+dt.t+"v"+dt.h+"h"+dt.w+"v-"+dt.h+"h-"+dt.w+"Z"),J(et,st,bt,Dt)}function J(et,st,dt,Tt){dt||(et.transition().style("fill",Tt>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),st.transition().style("opacity",1).duration(200))}function j(et){A.select(et).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Z(et){F&&et.data&&et._context.showTips&&(g.notifier(g._(et,"Double-click to zoom back out"),"long"),F=!1)}function at(et){var st=Math.floor(Math.min(et.b-et.t,et.r-et.l,p)/2);return"M"+(et.l-3.5)+","+(et.t-.5+st)+"h3v"+-st+"h"+st+"v-3h-"+(st+3)+"ZM"+(et.r+3.5)+","+(et.t-.5+st)+"h-3v"+-st+"h"+-st+"v-3h"+(st+3)+"ZM"+(et.r+3.5)+","+(et.b+.5-st)+"h-3v"+st+"h"+-st+"v3h"+(st+3)+"ZM"+(et.l-3.5)+","+(et.b+.5-st)+"h3v"+st+"h"+st+"v3h-"+(st+3)+"Z"}function _(et,st,dt,Tt,bt){for(var wt,St,Ut,Gt,Dt=!1,Ft={},Mt={},Pt=(bt||{}).xaHash,Vt=(bt||{}).yaHash,te=0;te<st.length;te++){var _t=st[te];for(wt in dt)if(_t[wt]){for(Ut in _t)(!bt||!Pt[Ut]&&!Vt[Ut])&&!("x"===Ut.charAt(0)?dt:Tt)[Ut]&&(Ft[Ut]=wt);for(St in Tt)(!bt||!Pt[St]&&!Vt[St])&&_t[St]&&(Dt=!0)}for(St in Tt)if(_t[St])for(Gt in _t)(!bt||!Pt[Gt]&&!Vt[Gt])&&!("x"===Gt.charAt(0)?dt:Tt)[Gt]&&(Mt[Gt]=St)}Dt&&(g.extendFlat(Ft,Mt),Mt={});var kt={},zt=[];for(Ut in Ft){var qt=T(et,Ut);zt.push(qt),kt[qt._id]=qt}var ae={},oe=[];for(Gt in Mt){var pe=T(et,Gt);oe.push(pe),ae[pe._id]=pe}return{xaHash:kt,yaHash:ae,xaxes:zt,yaxes:oe,xLinks:Ft,yLinks:Mt,isSubplotConstrained:Dt}}function K(et,st){if(E){var dt=void 0!==et.onwheel?"wheel":"mousewheel";et._onwheel&&et.removeEventListener(dt,et._onwheel),et._onwheel=st,et.addEventListener(dt,st,{passive:!1})}else void 0!==et.onwheel?et.onwheel=st:void 0!==et.onmousewheel?et.onmousewheel=st:et.isAddedWheelEvent||(et.isAddedWheelEvent=!0,et.addEventListener("wheel",st,{passive:!1}))}function nt(et){var st=[];for(var dt in et)st.push(et[dt]);return st}tt.exports={makeDragBox:function D(et,st,dt,Tt,bt,Dt,Ft,Mt){var Gt,Pt,Vt,te,_t,kt,zt,qt,ae,oe,pe,ye,Fe,Zt,Ct,Et,Rt,Ot,It,gt,pt,vt,yt,wt=et._fullLayout._zoomlayer,St=Ft+Mt==="nsew",Ut=1===(Ft+Mt).length;function Yt(){if(ae=(Gt=st.xaxis)._length,oe=(Pt=st.yaxis)._length,zt=Gt._offset,qt=Pt._offset,(Vt={})[Gt._id]=Gt,(te={})[Pt._id]=Pt,Ft&&Mt)for(var qe=st.overlays,De=0;De<qe.length;De++){var sr=qe[De].xaxis;Vt[sr._id]=sr;var gr=qe[De].yaxis;te[gr._id]=gr}_t=nt(Vt),kt=nt(te),Fe=O(_t,Mt),Zt=O(kt,Ft),Ct=!Zt&&!Fe,ye=_(et,et._fullLayout._axisMatchGroups,Vt,te);var dr=(pe=_(et,et._fullLayout._axisConstraintGroups,Vt,te,ye)).isSubplotConstrained||ye.isSubplotConstrained;Et=Mt||dr,Rt=Ft||dr;var Pr=et._fullLayout;Ot=Pr._has("scattergl"),It=Pr._has("splom"),gt=Pr._has("svg")}dt+=st.yaxis._shift,Yt();var Qt=function Q(et,st,dt){return et?"nsew"===et?dt?"":"pan"===st?"move":"crosshair":et.toLowerCase()+"-resize":"pointer"}(Zt+Fe,et._fullLayout.dragmode,St),le=k(st,Ft+Mt+"drag",Qt,dt,Tt,bt,Dt);if(Ct&&!St)return le.onmousedown=null,le.style.pointerEvents="none",le;var Ae,je,Ze,Lr,fe,Ve,He,wr,ar,ie,he={element:le,gd:et,plotinfo:st};function ke(){he.plotinfo.selection=!1,m(et)}function Oe(qe,De){var sr=he.gd;if(sr._fullLayout._activeShapeIndex>=0)sr._fullLayout._deactivateShape(sr);else{var gr=sr._fullLayout.clickmode;if(j(sr),2===qe&&!Ut&&function Nt(){if(!et._transitioningWithDuration){var qe=et._context.doubleClick,De=[];Fe&&(De=De.concat(_t)),Zt&&(De=De.concat(kt)),ye.xaxes&&(De=De.concat(ye.xaxes)),ye.yaxes&&(De=De.concat(ye.yaxes));var gr,dr,Pr,sr={};if("reset+autosize"===qe)for(qe="autosize",dr=0;dr<De.length;dr++)if((gr=De[dr])._rangeInitial&&(gr.range[0]!==gr._rangeInitial[0]||gr.range[1]!==gr._rangeInitial[1])||!gr._rangeInitial&&!gr.autorange){qe="reset";break}if("autosize"===qe)for(dr=0;dr<De.length;dr++)(gr=De[dr]).fixedrange||(sr[gr._name+".autorange"]=!0);else if("reset"===qe)for((Fe||pe.isSubplotConstrained)&&(De=De.concat(pe.xaxes)),Zt&&!pe.isSubplotConstrained&&(De=De.concat(pe.yaxes)),pe.isSubplotConstrained&&(Fe?Zt||(De=De.concat(kt)):De=De.concat(_t)),dr=0;dr<De.length;dr++)(gr=De[dr]).fixedrange||(gr._rangeInitial?(sr[gr._name+".range[0]"]=(Pr=gr._rangeInitial)[0],sr[gr._name+".range[1]"]=Pr[1]):sr[gr._name+".autorange"]=!0);et.emit("plotly_doubleclick",null),l.call("_guiRelayout",et,sr)}}(),St)gr.indexOf("select")>-1&&S(De,sr,_t,kt,st.id,he),gr.indexOf("event")>-1&&a.click(sr,De,st.id);else if(1===qe&&Ut){var dr=Ft?Pt:Gt,Pr="s"===Ft||"w"===Mt?0:1,qr=dr._name+".range["+Pr+"]",Er=function B(et,st){var bt,dt=et.range[st],Tt=Math.abs(dt-et.range[1-st]);return"date"===et.type?dt:"log"===et.type?(bt=Math.ceil(Math.max(0,-Math.log(Tt)/Math.LN10))+3,i("."+bt+"g")(Math.pow(10,dt))):(bt=Math.floor(Math.log(Math.abs(dt))/Math.LN10)-Math.floor(Math.log(Tt)/Math.LN10)+4,i("."+String(bt)+"g")(dt))}(dr,Pr),Zr="left",rn="middle";if(dr.fixedrange)return;Ft?(rn="n"===Ft?"top":"bottom","right"===dr.side&&(Zr="right")):"e"===Mt&&(Zr="right"),sr._context.showAxisRangeEntryBoxes&&A.select(le).call(e.makeEditable,{gd:sr,immediate:!0,background:sr._fullLayout.paper_bgcolor,text:String(Er),fill:dr.tickfont?dr.tickfont.color:"#444",horizontalAlign:Zr,verticalAlign:rn}).on("edit",function(zr){var Pn=dr.d2r(zr);void 0!==Pn&&l.call("_guiRelayout",sr,qr,Pn)})}}}function ve(qe,De){if(et._transitioningWithDuration)return!1;var sr=Math.max(0,Math.min(ae,vt*qe+Ae)),gr=Math.max(0,Math.min(oe,yt*De+je)),dr=Math.abs(sr-Ae),Pr=Math.abs(gr-je);function qr(){He="",Ze.r=Ze.l,Ze.t=Ze.b,ar.attr("d","M0,0Z")}if(Ze.l=Math.min(Ae,sr),Ze.r=Math.max(Ae,sr),Ze.t=Math.min(je,gr),Ze.b=Math.max(je,gr),pe.isSubplotConstrained)dr>p||Pr>p?(He="xy",dr/ae>Pr/oe?(Pr=dr*oe/ae,je>gr?Ze.t=je-Pr:Ze.b=je+Pr):(dr=Pr*ae/oe,Ae>sr?Ze.l=Ae-dr:Ze.r=Ae+dr),ar.attr("d",at(Ze))):qr();else if(ye.isSubplotConstrained)if(dr>p||Pr>p){He="xy";var Er=Math.min(Ze.l/ae,(oe-Ze.b)/oe),Zr=Math.max(Ze.r/ae,(oe-Ze.t)/oe);Ze.l=Er*ae,Ze.r=Zr*ae,Ze.b=(1-Er)*oe,Ze.t=(1-Zr)*oe,ar.attr("d",at(Ze))}else qr();else!Zt||Pr<Math.min(Math.max(.6*dr,C),p)?dr<C||!Fe?qr():(Ze.t=0,Ze.b=oe,He="x",ar.attr("d",function H(et,st){return"M"+(et.l-.5)+","+(st-p-.5)+"h-3v"+(2*p+1)+"h3ZM"+(et.r+.5)+","+(st-p-.5)+"h3v"+(2*p+1)+"h-3Z"}(Ze,je))):!Fe||dr<Math.min(.6*Pr,p)?(Ze.l=0,Ze.r=ae,He="y",ar.attr("d",function X(et,st){return"M"+(st-p-.5)+","+(et.t-.5)+"v-3h"+(2*p+1)+"v3ZM"+(st-p-.5)+","+(et.b+.5)+"v3h"+(2*p+1)+"v-3Z"}(Ze,Ae))):(He="xy",ar.attr("d",at(Ze)));Ze.w=Ze.r-Ze.l,Ze.h=Ze.b-Ze.t,He&&(ie=!0),et._dragged=ie,ut(wr,ar,Ze,fe,Ve,Lr),xe(),et.emit("plotly_relayouting",pt),Ve=!0}function xe(){pt={},("xy"===He||"x"===He)&&(z(_t,Ze.l/ae,Ze.r/ae,pt,pe.xaxes),vr("x",pt)),("xy"===He||"y"===He)&&(z(kt,(oe-Ze.b)/oe,(oe-Ze.t)/oe,pt,pe.yaxes),vr("y",pt))}function Te(){xe(),j(et),Se(),Z(et)}he.prepFn=function(qe,De,sr){var gr=he.dragmode,dr=et._fullLayout.dragmode;dr!==gr&&(he.dragmode=dr),Yt(),vt=et._fullLayout._invScaleX,yt=et._fullLayout._invScaleY,Ct||(St?qe.shiftKey?"pan"===dr?dr="zoom":v(dr)||(dr="pan"):qe.ctrlKey&&(dr="pan"):dr="pan"),he.minDrag=w(dr)?1:void 0,v(dr)?(he.xaxes=_t,he.yaxes=kt,L(qe,De,sr,he,dr)):(he.clickFn=Oe,v(gr)&&ke(),Ct||("zoom"===dr?(he.moveFn=ve,he.doneFn=Te,he.minDrag=1,function ne(qe,De,sr){var gr=le.getBoundingClientRect();Ae=De-gr.left,je=sr-gr.top,et._fullLayout._calcInverseTransform(et);var dr=g.apply3DTransform(et._fullLayout._invTransform)(Ae,je);Ze={l:Ae=dr[0],r:Ae,w:0,t:je=dr[1],b:je,h:0},Lr=et._hmpixcount?et._hmlumcount/et._hmpixcount:P(et._fullLayout.plot_bgcolor).getLuminance(),Ve=!1,He="xy",ie=!1,wr=rt(wt,Lr,zt,qt,fe="M0,0H"+ae+"V"+oe+"H0V0"),ar=it(wt,zt,qt)}(0,De,sr)):"pan"===dr&&(he.moveFn=tr,he.doneFn=Se))),et._fullLayout._redrag=function(){var Pr=et._dragdata;Pr&&Pr.element===le&&(v(et._fullLayout.dragmode)||(Yt(),Le([0,0,ae,oe]),he.moveFn(Pr.dx,Pr.dy)))}},u.init(he);var be=[0,0,ae,oe],Pe=null,Be=n.REDRAWDELAY,Qe=st.mainplot?et._fullLayout._plots[st.mainplot]:st;function tr(qe,De){if(qe*=vt,De*=yt,!et._transitioningWithDuration){if(et._fullLayout._replotting=!0,"ew"===Fe||"ns"===Zt){var sr=Fe?-qe:0,gr=Zt?-De:0;if(ye.isSubplotConstrained){if(Fe&&Zt){var dr=(qe/ae-De/oe)/2;sr=-(qe=dr*ae),gr=-(De=-dr*oe)}Zt?sr=-gr*ae/oe:gr=-sr*oe/ae}return Fe&&(U(_t,qe),vr("x")),Zt&&(U(kt,De),vr("y")),Le([sr,gr,ae,oe]),Ht(),void et.emit("plotly_relayouting",pt)}var Zr,rn,qr="w"===Fe==("n"===Zt)?1:-1;if(Fe&&Zt&&(pe.isSubplotConstrained||ye.isSubplotConstrained)){var Er=(qe/ae+qr*De/oe)/2;qe=Er*ae,De=qr*Er*oe}if("w"===Fe?qe=Pr(_t,0,qe):"e"===Fe?qe=Pr(_t,1,-qe):Fe||(qe=0),"n"===Zt?De=Pr(kt,1,De):"s"===Zt?De=Pr(kt,0,-De):Zt||(De=0),Zr="w"===Fe?qe:0,rn="n"===Zt?De:0,pe.isSubplotConstrained&&!ye.isSubplotConstrained||ye.isSubplotConstrained&&Fe&&Zt&&qr>0){var zr;if(ye.isSubplotConstrained||!Fe&&1===Zt.length){for(zr=0;zr<_t.length;zr++)_t[zr].range=_t[zr]._r.slice(),b(_t[zr],1-De/oe);Zr=(qe=De*ae/oe)/2}if(ye.isSubplotConstrained||!Zt&&1===Fe.length){for(zr=0;zr<kt.length;zr++)kt[zr].range=kt[zr]._r.slice(),b(kt[zr],1-qe/ae);rn=(De=qe*oe/ae)/2}}(!ye.isSubplotConstrained||!Zt)&&vr("x"),(!ye.isSubplotConstrained||!Fe)&&vr("y");var Pn=ae-qe,An=oe-De;ye.isSubplotConstrained&&!(Fe&&Zt)&&(Fe?(rn=Zr?0:qe*oe/ae,An=Pn*oe/ae):(Zr=rn?0:De*ae/oe,Pn=An*ae/oe)),Le([Zr,rn,Pn,An]),Ht(),et.emit("plotly_relayouting",pt)}function Pr(lr,yr,Fr){for(var _r,dn,Br=1-yr,hn=0;hn<lr.length;hn++){var xn=lr[hn];if(!xn.fixedrange){_r=xn,dn=xn._rl[Br]+(xn._rl[yr]-xn._rl[Br])/G(Fr/xn._length);var En=xn.l2r(dn);!1!==En&&void 0!==En&&(xn.range[yr]=En)}}return _r._length*(_r._rl[yr]-dn)/(_r._rl[yr]-_r._rl[Br])}}function vr(qe,De){for(var sr=ye.isSubplotConstrained?{x:kt,y:_t}[qe]:ye[qe+"axes"],gr=ye.isSubplotConstrained?{x:_t,y:kt}[qe]:[],dr=0;dr<sr.length;dr++){var Pr=sr[dr],qr=Pr._id,Er=ye.xLinks[qr]||ye.yLinks[qr],Zr=gr[0]||Vt[Er]||te[Er];Zr&&(De?(De[Pr._name+".range[0]"]=De[Zr._name+".range[0]"],De[Pr._name+".range[1]"]=De[Zr._name+".range[1]"]):Pr.range=Zr.range.slice())}}function Ht(){var De,qe=[];function sr(qr){for(De=0;De<qr.length;De++)qr[De].fixedrange||qe.push(qr[De]._id)}function gr(qr,Er){for(De=0;De<qr.length;De++){var Zr=qr[De],rn=Zr[Er];!Zr.fixedrange&&"sync"===rn.tickmode&&qe.push(rn._id)}}for(Et&&(sr(_t),sr(pe.xaxes),sr(ye.xaxes),gr(st.overlays,"xaxis")),Rt&&(sr(kt),sr(pe.yaxes),sr(ye.yaxes),gr(st.overlays,"yaxis")),pt={},De=0;De<qe.length;De++){var Pr=T(et,qe[De]);s.drawOne(et,Pr,{skipTitle:!0}),pt[Pr._name+".range[0]"]=Pr.range[0],pt[Pr._name+".range[1]"]=Pr.range[1]}s.redrawComponents(et,qe)}function Se(){Le([0,0,ae,oe]),g.syncOrAsync([M.previousPromises,function(){et._fullLayout._replotting=!1,l.call("_guiRelayout",et,pt)}],et)}function Le(qe){var dr,Pr,qr,Er,De=et._fullLayout,sr=De._plots,gr=De._subplots.cartesian;if(It&&l.subplotsRegistry.splom.drag(et),Ot)for(dr=0;dr<gr.length;dr++)if(qr=(Pr=sr[gr[dr]]).xaxis,Er=Pr.yaxis,Pr._scene){var Zr=g.simpleMap(qr.range,qr.r2l),rn=g.simpleMap(Er.range,Er.r2l);Pr._scene.update({range:[Zr[0],rn[0],Zr[1],rn[1]]})}if((It||Ot)&&(o(et),h(et)),gt){var zr=qe[2]/Gt._length,Pn=qe[3]/Pt._length;for(dr=0;dr<gr.length;dr++){qr=(Pr=sr[gr[dr]]).xaxis,Er=Pr.yaxis;var yr,Fr,Br,_r,lr=(Rt||ye.isSubplotConstrained)&&!Er.fixedrange&&te[Er._id];if((Et||ye.isSubplotConstrained)&&!qr.fixedrange&&Vt[qr._id]?(yr=zr,Br=Mt||ye.isSubplotConstrained?qe[0]:or(qr,yr)):ye.xaHash[qr._id]?(yr=zr,Br=qe[0]*qr._length/Gt._length):ye.yaHash[qr._id]?(yr=Pn,Br="ns"===Zt?-qe[1]*qr._length/Pt._length:or(qr,yr,{n:"top",s:"bottom"}[Zt])):Br=rr(qr,yr=We(qr,zr,Pn)),lr?(Fr=Pn,_r=Ft||ye.isSubplotConstrained?qe[1]:or(Er,Fr)):ye.yaHash[Er._id]?(Fr=Pn,_r=qe[1]*Er._length/Pt._length):ye.xaHash[Er._id]?(Fr=zr,_r="ew"===Fe?-qe[0]*Er._length/Gt._length:or(Er,Fr,{e:"right",w:"left"}[Fe])):_r=rr(Er,Fr=We(Er,zr,Pn)),yr||Fr){yr||(yr=1),Fr||(Fr=1);var dn=qr._offset-Br/yr,hn=Er._offset-_r/Fr;Pr.clipRect.call(f.setTranslate,Br,_r).call(f.setScale,yr,Fr),Pr.plot.call(f.setTranslate,dn,hn).call(f.setScale,1/yr,1/Fr),(yr!==Pr.xScaleFactor||Fr!==Pr.yScaleFactor)&&(f.setPointGroupScale(Pr.zoomScalePts,yr,Fr),f.setTextPointsScale(Pr.zoomScaleTxt,yr,Fr)),f.hideOutsideRangePoints(Pr.clipOnAxisFalseTraces,Pr),Pr.xScaleFactor=yr,Pr.yScaleFactor=Fr}}}}function We(qe,De,sr){return qe.fixedrange?0:Et&&pe.xaHash[qe._id]?De:Rt&&(pe.isSubplotConstrained?pe.xaHash:pe.yaHash)[qe._id]?sr:0}function rr(qe,De){return De?(qe.range=qe._r.slice(),b(qe,De),or(qe,De)):0}function or(qe,De,sr){return qe._length*(1-De)*d[sr||qe.constraintoward||"middle"]}return Ft.length*Mt.length!=1&&K(le,function Ke(qe){if(et._context._scrollZoom.cartesian||et._fullLayout._enablescrollzoom){if(ke(),et._transitioningWithDuration)return qe.preventDefault(),void qe.stopPropagation();Yt(),clearTimeout(Pe);var De=-qe.deltaY;if(isFinite(De)||(De=qe.wheelDelta/10),isFinite(De)){var qr,sr=Math.exp(-Math.min(Math.max(De,-20),20)/200),gr=Qe.draglayer.select(".nsewdrag").node().getBoundingClientRect(),dr=(qe.clientX-gr.left)/gr.width,Pr=(gr.bottom-qe.clientY)/gr.height;if(Et){for(Mt||(dr=.5),qr=0;qr<_t.length;qr++)Er(_t[qr],dr,sr);vr("x"),be[2]*=sr,be[0]+=be[2]*dr*(1/sr-1)}if(Rt){for(Ft||(Pr=.5),qr=0;qr<kt.length;qr++)Er(kt[qr],Pr,sr);vr("y"),be[3]*=sr,be[1]+=be[3]*(1-Pr)*(1/sr-1)}Le(be),Ht(),et.emit("plotly_relayouting",pt),Pe=setTimeout(function(){!et._fullLayout||(be=[0,0,ae,oe],Se())},Be),qe.preventDefault()}else g.log("Did not find wheel motion attributes: ",qe)}function Er(Zr,rn,zr){if(!Zr.fixedrange){var Pn=g.simpleMap(Zr.range,Zr.r2l),An=Pn[0]+(Pn[1]-Pn[0])*rn;Zr.range=Pn.map(function lr(yr){return Zr.l2r(An+(yr-An)*zr)})}}}),le},makeDragger:N,makeRectDragger:k,makeZoombox:rt,makeCorners:it,updateZoombox:ut,xyCorners:at,transitionZoombox:J,removeZoombox:j,showDoubleClickNotifier:Z,attachWheelEventHandler:K}},4305:function(tt,W,t){"use strict";var A=t(39898),g=t(30211),i=t(28569),P=t(6964),E=t(29323).makeDragBox,l=t(85555).DRAGGERSIZE;W.initInteractions=function(e){var r=e._fullLayout;if(e._context.staticPlot)A.select(e).selectAll(".drag").remove();else if(r._has("cartesian")||r._has("splom")){Object.keys(r._plots||{}).sort(function(s,c){if((r._plots[s].mainplot&&!0)===(r._plots[c].mainplot&&!0)){var u=s.split("y"),y=c.split("y");return u[0]===y[0]?Number(u[1]||1)-Number(y[1]||1):Number(u[0]||1)-Number(y[0]||1)}return r._plots[s].mainplot?1:-1}).forEach(function(s){var c=r._plots[s],u=c.xaxis,y=c.yaxis;if(!c.mainplot){var v=E(e,c,u._offset,y._offset,u._length,y._length,"ns","ew");v.onmousemove=function(o){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===s&&e._fullLayout._plots[s]&&g.hover(e,o,s)},g.hover(e,o,s),e._fullLayout._lasthover=v,e._fullLayout._hoversubplot=s},v.onmouseout=function(o){e._dragging||(e._fullLayout._hoversubplot=null,i.unhover(e,o))},e._context.showAxisDragHandles&&(E(e,c,u._offset-l,y._offset-l,l,l,"n","w"),E(e,c,u._offset+u._length,y._offset-l,l,l,"n","e"),E(e,c,u._offset-l,y._offset+y._length,l,l,"s","w"),E(e,c,u._offset+u._length,y._offset+y._length,l,l,"s","e"))}if(e._context.showAxisDragHandles){if(s===u._mainSubplot){var w=u._mainLinePosition;"top"===u.side&&(w-=l),E(e,c,u._offset+.1*u._length,w,.8*u._length,l,"","ew"),E(e,c,u._offset,w,.1*u._length,l,"","w"),E(e,c,u._offset+.9*u._length,w,.1*u._length,l,"","e")}if(s===y._mainSubplot){var d=y._mainLinePosition;"right"!==y.side&&(d-=l),E(e,c,d,y._offset+.1*y._length,l,.8*y._length,"ns",""),E(e,c,d,y._offset+.9*y._length,l,.1*y._length,"s",""),E(e,c,d,y._offset,l,.1*y._length,"n","")}}});var a=r._hoverlayer.node();a.onmousemove=function(s){s.target=e._fullLayout._lasthover,g.hover(e,s,r._hoversubplot)},a.onclick=function(s){s.target=e._fullLayout._lasthover,g.click(e,s)},a.onmousedown=function(s){e._fullLayout._lasthover.onmousedown(s)},W.updateFx(e)}},W.updateFx=function(x){var e=x._fullLayout;P(e._draggers,"pan"===e.dragmode?"move":"crosshair")}},76325:function(tt,W,t){"use strict";var A=t(73972),g=t(71828),i=t(41675);tt.exports=function(E){return function(x,e){var r=x[E];if(Array.isArray(r))for(var f=A.subplotsRegistry.cartesian,a=f.idRegex,s=e._subplots,c=s.xaxis,u=s.yaxis,y=s.cartesian,v=e._has("cartesian")||e._has("gl2d"),w=0;w<r.length;w++){var d=r[w];if(g.isPlainObject(d)){var o=i.cleanId(d.xref,"x",!1),h=i.cleanId(d.yref,"y",!1),M=a.x.test(o),T=a.y.test(h);if(M||T){v||g.pushUnique(e._basePlotModules,f);var L=!1;M&&-1===c.indexOf(o)&&(c.push(o),L=!0),T&&-1===u.indexOf(h)&&(u.push(h),L=!0),L&&M&&T&&y.push(o+h)}}}}}},93612:function(tt,W,t){"use strict";var A=t(39898),g=t(73972),i=t(71828),P=t(74875),E=t(91424),l=t(27659).a0,x=t(41675),e=t(85555),r=t(77922),f=i.ensureSingle;function a(w,d,o){return i.ensureSingle(w,d,o,function(h){h.datum(o)})}function s(w,d,o,h,M){for(var S,b,n,T=e.traceLayerClasses,L=w._fullLayout,m=L._modules,C=[],p=[],F=0;F<m.length;F++){var D=(S=m[F]).name,N=g.modules[D].categories;if(N.svg){var k=S.layerName||D+"layer",O=S.plot;o=(b=l(o,O))[1],(n=b[0]).length&&C.push({i:T.indexOf(k),className:k,plotMethod:O,cdModule:n}),N.zoomScale&&p.push("."+k)}}C.sort(function(U,G){return U.i-G.i});var B=d.plot.selectAll("g.mlayer").data(C,function(U){return U.className});if(B.enter().append("g").attr("class",function(U){return U.className}).classed("mlayer",!0).classed("rangeplot",d.isRangePlot),B.exit().remove(),B.order(),B.each(function(U){var G=A.select(this),Q=U.className;U.plotMethod(w,d,U.cdModule,G,h,M),-1===e.clipOnAxisFalseQuery.indexOf("."+Q)&&E.setClipUrl(G,d.layerClipId,w)}),L._has("scattergl")&&(S=g.getModule("scattergl"),n=l(o,S)[0],S.plot(w,d,n)),!w._context.staticPlot&&(d._hasClipOnAxisFalse&&(d.clipOnAxisFalseTraces=d.plot.selectAll(e.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),p.length)){var z=d.plot.selectAll(p.join(",")).selectAll(".trace");d.zoomScalePts=z.selectAll("path.point"),d.zoomScaleTxt=z.selectAll(".textpoint")}}function u(w,d){var o=d.plotgroup,h=d.id,M=e.layerValue2layerClass[d.xaxis.layer],T=e.layerValue2layerClass[d.yaxis.layer],L=w._fullLayout._hasOnlyLargeSploms;if(d.mainplot){var S=d.mainplotinfo,b=S.plotgroup,n=h+"-x",C=h+"-y";d.minorGridlayer=S.minorGridlayer,d.gridlayer=S.gridlayer,d.zerolinelayer=S.zerolinelayer,f(S.overlinesBelow,"path",n),f(S.overlinesBelow,"path",C),f(S.overaxesBelow,"g",n),f(S.overaxesBelow,"g",C),d.plot=f(S.overplot,"g",h),f(S.overlinesAbove,"path",n),f(S.overlinesAbove,"path",C),f(S.overaxesAbove,"g",n),f(S.overaxesAbove,"g",C),d.xlines=b.select(".overlines-"+M).select("."+n),d.ylines=b.select(".overlines-"+T).select("."+C),d.xaxislayer=b.select(".overaxes-"+M).select("."+n),d.yaxislayer=b.select(".overaxes-"+T).select("."+C)}else if(L)d.xlines=f(o,"path","xlines-above"),d.ylines=f(o,"path","ylines-above"),d.xaxislayer=f(o,"g","xaxislayer-above"),d.yaxislayer=f(o,"g","yaxislayer-above");else{var m=f(o,"g","layer-subplot");d.shapelayer=f(m,"g","shapelayer"),d.imagelayer=f(m,"g","imagelayer"),d.minorGridlayer=f(o,"g","minor-gridlayer"),d.gridlayer=f(o,"g","gridlayer"),d.zerolinelayer=f(o,"g","zerolinelayer"),f(o,"path","xlines-below"),f(o,"path","ylines-below"),d.overlinesBelow=f(o,"g","overlines-below"),f(o,"g","xaxislayer-below"),f(o,"g","yaxislayer-below"),d.overaxesBelow=f(o,"g","overaxes-below"),d.plot=f(o,"g","plot"),d.overplot=f(o,"g","overplot"),d.xlines=f(o,"path","xlines-above"),d.ylines=f(o,"path","ylines-above"),d.overlinesAbove=f(o,"g","overlines-above"),f(o,"g","xaxislayer-above"),f(o,"g","yaxislayer-above"),d.overaxesAbove=f(o,"g","overaxes-above"),d.xlines=o.select(".xlines-"+M),d.ylines=o.select(".ylines-"+T),d.xaxislayer=o.select(".xaxislayer-"+M),d.yaxislayer=o.select(".yaxislayer-"+T)}L||(a(d.minorGridlayer,"g",d.xaxis._id),a(d.minorGridlayer,"g",d.yaxis._id),d.minorGridlayer.selectAll("g").map(function(p){return p[0]}).sort(x.idSort),a(d.gridlayer,"g",d.xaxis._id),a(d.gridlayer,"g",d.yaxis._id),d.gridlayer.selectAll("g").map(function(p){return p[0]}).sort(x.idSort)),d.xlines.style("fill","none").classed("crisp",!0),d.ylines.style("fill","none").classed("crisp",!0)}function y(w,d){if(w){var o={};for(var h in w.each(function(S){var b=S[0];A.select(this).remove(),v(b,d),o[b]=!0}),d._plots)for(var T=d._plots[h].overlays||[],L=0;L<T.length;L++){var m=T[L];o[m.id]&&m.plot.selectAll(".trace").remove()}}}function v(w,d){d._draggers.selectAll("g."+w).remove(),d._defs.select("#clip"+d._uid+w+"plot").remove()}W.name="cartesian",W.attr=["xaxis","yaxis"],W.idRoot=["x","y"],W.idRegex=e.idRegex,W.attrRegex=e.attrRegex,W.attributes=t(89502),W.layoutAttributes=t(13838),W.supplyLayoutDefaults=t(86763),W.transitionAxes=t(66847),W.finalizeSubplots=function(w,d){var b,n,C,o=d._subplots,h=o.xaxis,M=o.yaxis,T=o.cartesian,L=T.concat(o.gl2d||[]),m={},S={};for(b=0;b<L.length;b++){var p=L[b].split("y");m[p[0]]=1,S["y"+p[1]]=1}for(b=0;b<h.length;b++)m[n=h[b]]||(C=(w[x.id2name(n)]||{}).anchor,e.idRegex.y.test(C)||(C="y"),T.push(n+C),L.push(n+C),S[C]||(S[C]=1,i.pushUnique(M,C)));for(b=0;b<M.length;b++)S[C=M[b]]||(n=(w[x.id2name(C)]||{}).anchor,e.idRegex.x.test(n)||(n="x"),T.push(n+C),L.push(n+C),m[n]||(m[n]=1,i.pushUnique(h,n)));if(!L.length){for(var F in n="",C="",w)e.attrRegex.test(F)&&("x"===F.charAt(0)?(!n||+F.substr(5)<+n.substr(5))&&(n=F):(!C||+F.substr(5)<+C.substr(5))&&(C=F));n=n?x.name2id(n):"x",C=C?x.name2id(C):"y",h.push(n),M.push(C),T.push(n+C)}},W.plot=function(w,d,o,h){var m,M=w._fullLayout,T=M._subplots.cartesian,L=w.calcdata;if(!Array.isArray(d))for(d=[],m=0;m<L.length;m++)d.push(m);for(m=0;m<T.length;m++){for(var C,S=T[m],b=M._plots[S],n=[],p=0;p<L.length;p++){var F=L[p],D=F[0].trace;D.xaxis+D.yaxis===S&&((-1!==d.indexOf(D.index)||D.carpet)&&(C&&C[0].trace.xaxis+C[0].trace.yaxis===S&&-1!==["tonextx","tonexty","tonext"].indexOf(D.fill)&&-1===n.indexOf(C)&&n.push(C),n.push(F)),C=F)}s(w,b,n,o,h)}},W.clean=function(w,d,o,h){var m,S,b,M=h._plots||{},T=d._plots||{},L=h._subplots||{};if(h._hasOnlyLargeSploms&&!d._hasOnlyLargeSploms)for(b in M)(m=M[b]).plotgroup&&m.plotgroup.remove();var n=h._has&&h._has("gl"),C=d._has&&d._has("gl");if(n&&!C)for(b in M)(m=M[b])._scene&&m._scene.destroy();if(L.xaxis&&L.yaxis){var p=x.listIds({_fullLayout:h});for(S=0;S<p.length;S++){var F=p[S];d[x.id2name(F)]||h._infolayer.selectAll(".g-"+F+"title").remove()}}var D=h._has&&h._has("cartesian"),N=d._has&&d._has("cartesian");if(D&&!N)y(h._cartesianlayer.selectAll(".subplot"),h),h._defs.selectAll(".axesclip").remove(),delete h._axisConstraintGroups,delete h._axisMatchGroups;else if(L.cartesian)for(S=0;S<L.cartesian.length;S++){var k=L.cartesian[S];T[k]||(h._cartesianlayer.selectAll("."+k+",."+k+"-x,."+k+"-y").remove(),v(k,h))}},W.drawFramework=function(w){var d=w._fullLayout,o=function c(w){var M,T,L,m,S,b,d=w._fullLayout,o=d._subplots.cartesian,h=o.length,n=[],C=[];for(M=0;M<h;M++){var D=(S=(m=d._plots[L=o[M]]).xaxis)._mainAxis._id+(b=m.yaxis)._mainAxis._id,N=d._plots[D];m.overlays=[],D!==L&&N?(m.mainplot=D,m.mainplotinfo=N,C.push(L)):(m.mainplot=void 0,m.mainplotinfo=void 0,n.push(L))}for(M=0;M<C.length;M++)(m=d._plots[L=C[M]]).mainplotinfo.overlays.push(m);var k=n.concat(C),O=new Array(h);for(M=0;M<h;M++){var B=[L=k[M],(S=(m=d._plots[L]).xaxis).layer,(b=m.yaxis).layer,S.overlaying||"",b.overlaying||""];for(T=0;T<m.overlays.length;T++)B.push(m.overlays[T].id);O[M]=B}return O}(w),h=d._cartesianlayer.selectAll(".subplot").data(o,String);h.enter().append("g").attr("class",function(M){return"subplot "+M[0]}),h.order(),h.exit().call(y,d),h.each(function(M){var T=M[0],L=d._plots[T];L.plotgroup=A.select(this),u(w,L),L.draglayer=f(d._draggers,"g",T)})},W.rangePlot=function(w,d,o){u(w,d),s(w,d,o),P.style(w)},W.toSVG=function(w){var d=w._fullLayout._glimages,o=A.select(w).selectAll(".svg-container");o.filter(function(T,L){return L===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function M(){var T=this,L=T.toDataURL("image/png");d.append("svg:image").attr({xmlns:r.svg,"xlink:href":L,preserveAspectRatio:"none",x:0,y:0,width:T.style.width,height:T.style.height})})},W.updateFx=t(4305).updateFx},13838:function(tt,W,t){"use strict";var A=t(41940),g=t(22399),i=t(79952).P,P=t(1426).extendFlat,E=t(44467).templatedArray,l=t(12663).descriptionWithDates,x=t(50606).ONEDAY,e=t(85555),r=e.HOUR_PATTERN,f=e.WEEKDAY_PATTERN,a={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},s=P({},a,{values:a.values.slice().concat(["sync"])});function c(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},v={valType:"data_array",editType:"ticks"},w={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function d(S){var b={valType:"number",min:0,editType:"ticks"};return S||(b.dflt=5),b}function o(S){var b={valType:"number",min:0,editType:"ticks"};return S||(b.dflt=1),b}var h={valType:"color",dflt:g.defaultLine,editType:"ticks"},M={valType:"color",dflt:g.lightLine,editType:"ticks"};function T(S){var b={valType:"number",min:0,editType:"ticks"};return S||(b.dflt=1),b}var L=P({},i,{editType:"ticks"}),m={valType:"boolean",editType:"ticks"};tt.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:g.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:A({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[e.idRegex.x.toString(),e.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[e.idRegex.x.toString(),e.idRegex.y.toString()],editType:"calc"},rangebreaks:E("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[f,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:x},editType:"calc"}),tickmode:s,nticks:c(),tick0:u,dtick:y,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:v,ticktext:{valType:"data_array",editType:"ticks"},ticks:w,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:d(),tickwidth:o(),tickcolor:h,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:P({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:A({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:l("tick label")},tickformatstops:E("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:l("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:g.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:m,gridcolor:M,gridwidth:T(),griddash:L,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",e.idRegex.x.toString(),e.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",e.idRegex.x.toString(),e.idRegex.y.toString()],editType:"plot"},minor:{tickmode:a,nticks:c("minor"),tick0:u,dtick:y,tickvals:v,ticks:w,ticklen:d("minor"),tickwidth:o("minor"),tickcolor:h,gridcolor:M,gridwidth:T("minor"),griddash:L,showgrid:m,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:A({editType:"ticks"})}}},86763:function(tt,W,t){"use strict";var A=t(71828),g=t(7901),i=t(23469).isUnifiedHover,P=t(98212),E=t(44467),l=t(10820),x=t(13838),e=t(951),r=t(71453),f=t(99082),a=t(52830),s=t(41675),c=s.id2name,u=s.name2id,y=t(85555).AX_ID_PATTERN,v=t(73972),w=v.traceIs,d=v.getComponentMethod;function o(h,M,T){Array.isArray(h[M])?h[M].push(T):h[M]=[T]}tt.exports=function(M,T,L){var B,z,m=T.autotypenumbers,S={},b={},n={},C={},p={},F={},D={},N={},k={},O={};for(B=0;B<L.length;B++){var U=L[B];if(w(U,"cartesian")||w(U,"gl2d")){var G,Q;if(U.xaxis)G=c(U.xaxis),o(S,G,U);else if(U.xaxes)for(z=0;z<U.xaxes.length;z++)o(S,c(U.xaxes[z]),U);if(U.yaxis)Q=c(U.yaxis),o(S,Q,U);else if(U.yaxes)for(z=0;z<U.yaxes.length;z++)o(S,c(U.yaxes[z]),U);"funnel"===U.type?"h"===U.orientation?(G&&(b[G]=!0),Q&&(D[Q]=!0)):Q&&(n[Q]=!0):"image"===U.type?(Q&&(N[Q]=!0),G&&(N[G]=!0)):(Q&&(p[Q]=!0,F[Q]=!0),(!w(U,"carpet")||"carpet"===U.type&&!U._cheater)&&G&&(C[G]=!0)),"carpet"===U.type&&U._cheater&&G&&(b[G]=!0),w(U,"2dMap")&&(k[G]=!0,k[Q]=!0),w(U,"oriented")&&(O["h"===U.orientation?Q:G]=!0)}}var it=T._subplots,ut=it.xaxis,J=it.yaxis,j=A.simpleMap(ut,c),Z=A.simpleMap(J,c),H=j.concat(Z),X=g.background;ut.length&&J.length&&(X=A.coerce(M,T,l,"plot_bgcolor"));var _,K,nt,et,st,at=g.combine(X,T.paper_bgcolor);function dt(){st._traceIndices=(S[_]||[]).map(function(yt){return yt._expandedIndex}),st._annIndices=[],st._shapeIndices=[],st._selectionIndices=[],st._imgIndices=[],st._subplotsWith=[],st._counterAxes=[],st._name=st._attr=_,st._id=K}function Tt(vt,yt){return A.coerce(et,st,x,vt,yt)}function bt(vt,yt){return A.coerce2(et,st,x,vt,yt)}function Dt(vt){return"x"===vt?J:ut}function Ft(vt,yt){for(var Yt="x"===vt?j:Z,Qt=[],le=0;le<Yt.length;le++){var he=Yt[le];he!==yt&&!(M[he]||{}).overlaying&&Qt.push(u(he))}return Qt}var Mt={x:Dt("x"),y:Dt("y")},wt=Mt.x.concat(Mt.y),St={},Ut=[];function Gt(){var vt=et.matches;y.test(vt)&&-1===wt.indexOf(vt)&&(St[vt]=et.type,Ut=Object.keys(St))}var Pt=P(M,T),Vt=i(Pt);for(B=0;B<H.length;B++){K=u(_=H[B]),nt=_.charAt(0),A.isPlainObject(M[_])||(M[_]={}),et=M[_],st=E.newContainer(T,_,nt+"axis"),dt();var kt={hasMinor:!0,letter:nt,font:T.font,outerTicks:k[_],showGrid:!O[_],data:S[_]||[],bgColor:at,calendar:T.calendar,automargin:!0,visibleDflt:"x"===nt&&!C[_]&&b[_]||"y"===nt&&!p[_]&&n[_],reverseDflt:"y"===nt&&(!F[_]&&D[_]||N[_]),autotypenumbersDflt:m,splomStash:((T._splomAxes||{})[nt]||{})[K]};Tt("uirevision",T.uirevision),e(et,st,Tt,kt),r(et,st,Tt,kt,T);var zt=Vt&&nt===Pt.charAt(0),qt=bt("spikecolor",Vt?st.color:void 0),ae=bt("spikethickness",Vt?1.5:void 0),oe=bt("spikedash",Vt?"dot":void 0),pe=bt("spikemode",Vt?"across":void 0),ye=bt("spikesnap");Tt("showspikes",!!(zt||qt||ae||oe||pe||ye))||(delete st.spikecolor,delete st.spikethickness,delete st.spikedash,delete st.spikemode,delete st.spikesnap);var Zt=c(et.overlaying),Ct=[0,1];if(void 0!==T[Zt]){var Et=c(T[Zt].anchor);void 0!==T[Et]&&(Ct=T[Et].domain)}a(et,st,Tt,{letter:nt,counterAxes:Mt[nt],overlayableAxes:Ft(nt,_),grid:T.grid,overlayingDomain:Ct}),Tt("title.standoff"),Gt(),st._input=et}for(B=0;B<Ut.length;){K=Ut[B++],nt=(_=c(K)).charAt(0),A.isPlainObject(M[_])||(M[_]={}),et=M[_],st=E.newContainer(T,_,nt+"axis"),dt();var Rt={letter:nt,font:T.font,outerTicks:k[_],showGrid:!O[_],data:[],bgColor:at,calendar:T.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:m,splomStash:((T._splomAxes||{})[nt]||{})[K]};Tt("uirevision",T.uirevision),st.type=St[K]||"linear",r(et,st,Tt,Rt,T),a(et,st,Tt,{letter:nt,counterAxes:Mt[nt],overlayableAxes:Ft(nt,_),grid:T.grid}),Tt("fixedrange"),Gt(),st._input=et}var Ot=d("rangeslider","handleDefaults"),It=d("rangeselector","handleDefaults");for(B=0;B<j.length;B++)et=M[_=j[B]],st=T[_],Ot(M,T,_),"date"===st.type&&It(et,st,T,Z,st.calendar),Tt("fixedrange");for(B=0;B<Z.length;B++){et=M[_=Z[B]];var gt=T[c((st=T[_]).anchor)];Tt("fixedrange",d("rangeslider","isVisible")(gt))}f.handleDefaults(M,T,{axIds:wt.concat(Ut).sort(s.idSort),axHasImage:N})}},92128:function(tt,W,t){"use strict";var A=t(84267).mix,g=t(22399),i=t(71828);tt.exports=function(E,l,x,e){var r=(e=e||{}).dfltColor;function f(n,C){return i.coerce2(E,l,e.attributes,n,C)}var a=f("linecolor",r),s=f("linewidth");x("showline",e.showLine||!!a||!!s)||(delete l.linecolor,delete l.linewidth);var y=f("gridcolor",A(r,e.bgColor,e.blend||g.lightFraction).toRgbString()),v=f("gridwidth"),w=f("griddash");if(x("showgrid",e.showGrid||!!y||!!v||!!w)||(delete l.gridcolor,delete l.gridwidth,delete l.griddash),e.hasMinor){var h=f("minor.gridcolor",A(l.gridcolor,e.bgColor,67).toRgbString()),M=f("minor.gridwidth",l.gridwidth||1),T=f("minor.griddash",l.griddash||"solid");x("minor.showgrid",!!h||!!M||!!T)||(delete l.minor.gridcolor,delete l.minor.gridwidth,delete l.minor.griddash)}if(!e.noZeroLine){var m=f("zerolinecolor",r),S=f("zerolinewidth");x("zeroline",e.showGrid||!!m||!!S)||(delete l.zerolinecolor,delete l.zerolinewidth)}}},52830:function(tt,W,t){"use strict";var A=t(92770),g=t(71828);tt.exports=function(P,E,l,x){var c,u,y,v,w,d,e=x.counterAxes||[],r=x.overlayableAxes||[],f=x.letter,a=x.grid,s=x.overlayingDomain;a&&(c=a._anchors[E._id],(u=a._domains[f][a._axisMap[E._id]])&&(y=a[f+"side"].split(" ")[0],v=a.domain[f]["right"===y||"top"===y?1:0])),u=u||[0,1],c=c||(A(P.position)?"free":e[0]||"free"),y=y||("x"===f?"bottom":"left"),v=v||0,w=0,d=!1;var o=g.coerce(P,E,{anchor:{valType:"enumerated",values:["free"].concat(e),dflt:c}},"anchor"),h=g.coerce(P,E,{side:{valType:"enumerated",values:"x"===f?["bottom","top"]:["left","right"],dflt:y}},"side");"free"===o&&("y"===f&&(l("autoshift")&&(v="left"===h?s[0]:s[1],d=!E.automargin||E.automargin,w="left"===h?-3:3),l("shift",w)),l("position",v)),l("automargin",d);var T=!1;if(r.length&&(T=g.coerce(P,E,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!T){var L=l("domain",u);L[0]>L[1]-.000244140625&&(E.domain=u),g.noneOrAll(P.domain,E.domain,u),"sync"===E.tickmode&&(E.tickmode="auto")}return l("layer"),E}},89426:function(tt,W,t){"use strict";var A=t(59652);tt.exports=function(i,P,E,l,x){x||(x={});var e=x.tickSuffixDflt,r=A(i);E("tickprefix")&&E("showtickprefix",r),E("ticksuffix",e)&&E("showticksuffix",r)}},42449:function(tt,W,t){"use strict";var A=t(18783).FROM_BL;tt.exports=function(i,P,E){void 0===E&&(E=A[i.constraintoward||"center"]);var l=[i.r2l(i.range[0]),i.r2l(i.range[1])],x=l[0]+(l[1]-l[0])*E;i.range=i._input.range=[i.l2r(x+(l[0]-x)*P),i.l2r(x+(l[1]-x)*P)],i.setScale()}},21994:function(tt,W,t){"use strict";var A=t(39898),g=t(84096).g0,i=t(71828),P=i.numberFormat,E=t(92770),l=i.cleanNumber,x=i.ms2DateTime,e=i.dateTime2ms,r=i.ensureNumber,f=i.isArrayOrTypedArray,a=t(50606),s=a.FP_SAFE,c=a.BADNUM,u=a.LOG_CLIP,y=a.ONEWEEK,v=a.ONEDAY,w=a.ONEHOUR,d=a.ONEMIN,o=a.ONESEC,h=t(41675),M=t(85555),T=M.HOUR_PATTERN,L=M.WEEKDAY_PATTERN;function m(b){return Math.pow(10,b)}function S(b){return null!=b}tt.exports=function(n,C){C=C||{};var p=n._id||"x",F=p.charAt(0);function D(H,X){if(H>0)return Math.log(H)/Math.LN10;if(H<=0&&X&&n.range&&2===n.range.length){var at=n.range[0],_=n.range[1];return.5*(at+_-2*u*Math.abs(at-_))}return c}function N(H,X,at,_){if((_||{}).msUTC&&E(H))return+H;var K=e(H,at||n.calendar);if(K===c){if(!E(H))return c;H=+H;var nt=Math.floor(10*i.mod(H+.05,1)),et=Math.round(H-nt/10);K=e(new Date(et))+nt/10}return K}function k(H,X,at){return x(H,X,at||n.calendar)}function O(H){return n._categories[Math.round(H)]}function B(H){if(S(H)){if(void 0===n._categoriesMap&&(n._categoriesMap={}),void 0!==n._categoriesMap[H])return n._categoriesMap[H];n._categories.push("number"==typeof H?String(H):H);var X=n._categories.length-1;return n._categoriesMap[H]=X,X}return c}function U(H){if(n._categoriesMap)return n._categoriesMap[H]}function G(H){var X=U(H);return void 0!==X?X:E(H)?+H:void 0}function Q(H){return E(H)?+H:U(H)}function rt(H,X,at){return A.round(at+X*H,2)}function it(H,X,at){return(H-at)/X}var ut=function(X){return E(X)?rt(X,n._m,n._b):c},J=function(H){return it(H,n._m,n._b)};if(n.rangebreaks){var j="y"===F;ut=function(H){if(!E(H))return c;var X=n._rangebreaks.length;if(!X)return rt(H,n._m,n._b);var at=j;n.range[0]>n.range[1]&&(at=!at);for(var _=at?-1:1,K=_*H,nt=0,et=0;et<X;et++){var st=_*n._rangebreaks[et].min,dt=_*n._rangebreaks[et].max;if(K<st)break;if(!(K>dt)){nt=K<(st+dt)/2?et:et+1;break}nt=et+1}var Tt=n._B[nt]||0;return isFinite(Tt)?rt(H,n._m2,Tt):0},J=function(H){var X=n._rangebreaks.length;if(!X)return it(H,n._m,n._b);for(var at=0,_=0;_<X&&!(H<n._rangebreaks[_].pmin);_++)H>n._rangebreaks[_].pmax&&(at=_+1);return it(H,n._m2,n._B[at])}}n.c2l="log"===n.type?D:r,n.l2c="log"===n.type?m:r,n.l2p=ut,n.p2l=J,n.c2p="log"===n.type?function(H,X){return ut(D(H,X))}:ut,n.p2c="log"===n.type?function(H){return m(J(H))}:J,-1!==["linear","-"].indexOf(n.type)?(n.d2r=n.r2d=n.d2c=n.r2c=n.d2l=n.r2l=l,n.c2d=n.c2r=n.l2d=n.l2r=r,n.d2p=n.r2p=function(H){return n.l2p(l(H))},n.p2d=n.p2r=J,n.cleanPos=r):"log"===n.type?(n.d2r=n.d2l=function(H,X){return D(l(H),X)},n.r2d=n.r2c=function(H){return m(l(H))},n.d2c=n.r2l=l,n.c2d=n.l2r=r,n.c2r=D,n.l2d=m,n.d2p=function(H,X){return n.l2p(n.d2r(H,X))},n.p2d=function(H){return m(J(H))},n.r2p=function(H){return n.l2p(l(H))},n.p2r=J,n.cleanPos=r):"date"===n.type?(n.d2r=n.r2d=i.identity,n.d2c=n.r2c=n.d2l=n.r2l=N,n.c2d=n.c2r=n.l2d=n.l2r=k,n.d2p=n.r2p=function(H,X,at){return n.l2p(N(H,0,at))},n.p2d=n.p2r=function(H,X,at){return k(J(H),X,at)},n.cleanPos=function(H){return i.cleanDate(H,c,n.calendar)}):"category"===n.type?(n.d2c=n.d2l=B,n.r2d=n.c2d=n.l2d=O,n.d2r=n.d2l_noadd=G,n.r2c=function(H){var X=Q(H);return void 0!==X?X:n.fraction2r(.5)},n.l2r=n.c2r=r,n.r2l=Q,n.d2p=function(H){return n.l2p(n.r2c(H))},n.p2d=function(H){return O(J(H))},n.r2p=n.d2p,n.p2r=J,n.cleanPos=function(H){return"string"==typeof H&&""!==H?H:r(H)}):"multicategory"===n.type&&(n.r2d=n.c2d=n.l2d=O,n.d2r=n.d2l_noadd=G,n.r2c=function(H){var X=G(H);return void 0!==X?X:n.fraction2r(.5)},n.r2c_just_indices=U,n.l2r=n.c2r=r,n.r2l=G,n.d2p=function(H){return n.l2p(n.r2c(H))},n.p2d=function(H){return O(J(H))},n.r2p=n.d2p,n.p2r=J,n.cleanPos=function(H){return Array.isArray(H)||"string"==typeof H&&""!==H?H:r(H)},n.setupMultiCategory=function(H){var at,_,X=n._traceIndices,K=n._matchGroup;if(K&&0===n._categories.length)for(var nt in K)if(nt!==p){var et=C[h.id2name(nt)];X=X.concat(et._traceIndices)}var st=[[0,{}],[0,{}]],dt=[];for(at=0;at<X.length;at++){var Tt=H[X[at]];if(F in Tt){var bt=Tt[F],Dt=Tt._length||i.minRowLength(bt);if(f(bt[0])&&f(bt[1]))for(_=0;_<Dt;_++){var Ft=bt[0][_],Mt=bt[1][_];S(Ft)&&S(Mt)&&(dt.push([Ft,Mt]),Ft in st[0][1]||(st[0][1][Ft]=st[0][0]++),Mt in st[1][1]||(st[1][1][Mt]=st[1][0]++))}}}for(dt.sort(function(wt,St){var Ut=st[0][1],Gt=Ut[wt[0]]-Ut[St[0]];if(Gt)return Gt;var Pt=st[1][1];return Pt[wt[1]]-Pt[St[1]]}),at=0;at<dt.length;at++)B(dt[at])}),n.fraction2r=function(H){var X=n.r2l(n.range[0]),at=n.r2l(n.range[1]);return n.l2r(X+H*(at-X))},n.r2fraction=function(H){var X=n.r2l(n.range[0]),at=n.r2l(n.range[1]);return(n.r2l(H)-X)/(at-X)},n.cleanRange=function(H,X){X||(X={}),H||(H="range");var _,K,at=i.nestedProperty(n,H).get();if(K=(K="date"===n.type?i.dfltRange(n.calendar):"y"===F?M.DFLTRANGEY:"realaxis"===n._name?[0,1]:X.dfltRange||M.DFLTRANGEX).slice(),("tozero"===n.rangemode||"nonnegative"===n.rangemode)&&(K[0]=0),at&&2===at.length)for("date"===n.type&&!n.autorange&&(at[0]=i.cleanDate(at[0],c,n.calendar),at[1]=i.cleanDate(at[1],c,n.calendar)),_=0;_<2;_++)if("date"===n.type){if(!i.isDateTime(at[_],n.calendar)){n[H]=K;break}if(n.r2l(at[0])===n.r2l(at[1])){var nt=i.constrain(n.r2l(at[0]),i.MIN_MS+1e3,i.MAX_MS-1e3);at[0]=n.l2r(nt-1e3),at[1]=n.l2r(nt+1e3);break}}else{if(!E(at[_])){if(!E(at[1-_])){n[H]=K;break}at[_]=at[1-_]*(_?10:.1)}if(at[_]<-s?at[_]=-s:at[_]>s&&(at[_]=s),at[0]===at[1]){var et=Math.max(1,Math.abs(1e-6*at[0]));at[0]-=et,at[1]+=et}}else i.nestedProperty(n,H).set(K)},n.setScale=function(H){var X=C._size;if(n.overlaying){var at=h.getFromId({_fullLayout:C},n.overlaying);n.domain=at.domain}var _=H&&n._r?"_r":"range",K=n.calendar;n.cleanRange(_);var dt,Tt,nt=n.r2l(n[_][0],K),et=n.r2l(n[_][1],K),st="y"===F;if(st?(n._offset=X.t+(1-n.domain[1])*X.h,n._length=X.h*(n.domain[1]-n.domain[0]),n._m=n._length/(nt-et),n._b=-n._m*et):(n._offset=X.l+n.domain[0]*X.w,n._length=X.w*(n.domain[1]-n.domain[0]),n._m=n._length/(et-nt),n._b=-n._m*nt),n._rangebreaks=[],n._lBreaks=0,n._m2=0,n._B=[],n.rangebreaks&&(n._rangebreaks=n.locateBreaks(Math.min(nt,et),Math.max(nt,et)),n._rangebreaks.length)){for(dt=0;dt<n._rangebreaks.length;dt++)Tt=n._rangebreaks[dt],n._lBreaks+=Math.abs(Tt.max-Tt.min);var bt=st;nt>et&&(bt=!bt),bt&&n._rangebreaks.reverse();var Dt=bt?-1:1;for(n._m2=Dt*n._length/(Math.abs(et-nt)-n._lBreaks),n._B.push(-n._m2*(st?et:nt)),dt=0;dt<n._rangebreaks.length;dt++)n._B.push(n._B[n._B.length-1]-Dt*n._m2*((Tt=n._rangebreaks[dt]).max-Tt.min));for(dt=0;dt<n._rangebreaks.length;dt++)(Tt=n._rangebreaks[dt]).pmin=ut(Tt.min),Tt.pmax=ut(Tt.max)}if(!isFinite(n._m)||!isFinite(n._b)||n._length<0)throw C._replotting=!1,new Error("Something went wrong with axis scaling")},n.maskBreaks=function(H){var at,_,K,nt,et,X=n.rangebreaks||[];X._cachedPatterns||(X._cachedPatterns=X.map(function(Ut){return Ut.enabled&&Ut.bounds?i.simpleMap(Ut.bounds,Ut.pattern?l:n.d2c):null})),X._cachedValues||(X._cachedValues=X.map(function(Ut){return Ut.enabled&&Ut.values?i.simpleMap(Ut.values,n.d2c).sort(i.sorterAsc):null}));for(var st=0;st<X.length;st++){var dt=X[st];if(dt.enabled)if(dt.bounds){switch(_=(at=X._cachedPatterns[st])[0],K=at[1],dt.pattern){case L:nt=(et=new Date(H)).getUTCDay(),_>K&&(K+=7,nt<_&&(nt+=7));break;case T:nt=(et=new Date(H)).getUTCHours()+(et.getUTCMinutes()/60+et.getUTCSeconds()/3600+et.getUTCMilliseconds()/36e5),_>K&&(K+=24,nt<_&&(nt+=24));break;case"":nt=H}if(nt>=_&&nt<K)return c}else for(var wt=X._cachedValues[st],St=0;St<wt.length;St++)if(K=(_=wt[St])+dt.dvalue,H>=_&&H<K)return c}return H},n.locateBreaks=function(H,X){var at,_,K,nt,et=[];if(!n.rangebreaks)return et;var st=n.rangebreaks.slice().sort(function(Pt,Vt){return Pt.pattern===L&&Vt.pattern===T?-1:Vt.pattern===L&&Pt.pattern===T?1:0}),dt=function(Pt,Vt){if((Pt=i.constrain(Pt,H,X))!==(Vt=i.constrain(Vt,H,X))){for(var te=!0,_t=0;_t<et.length;_t++){var kt=et[_t];Pt<kt.max&&Vt>=kt.min&&(Pt<kt.min&&(kt.min=Pt),Vt>kt.max&&(kt.max=Vt),te=!1)}te&&et.push({min:Pt,max:Vt})}};for(at=0;at<st.length;at++){var Tt=st[at];if(Tt.enabled)if(Tt.bounds){var bt=H,Dt=X;Tt.pattern&&(bt=Math.floor(bt)),K=(_=i.simpleMap(Tt.bounds,Tt.pattern?l:n.r2l))[0],nt=_[1];var Mt,wt,Ft=new Date(bt);switch(Tt.pattern){case L:wt=y,Mt=(nt-K+(nt<K?7:0))*v,bt+=K*v-(Ft.getUTCDay()*v+Ft.getUTCHours()*w+Ft.getUTCMinutes()*d+Ft.getUTCSeconds()*o+Ft.getUTCMilliseconds());break;case T:wt=v,Mt=(nt-K+(nt<K?24:0))*w,bt+=K*w-(Ft.getUTCHours()*w+Ft.getUTCMinutes()*d+Ft.getUTCSeconds()*o+Ft.getUTCMilliseconds());break;default:bt=Math.min(_[0],_[1]),Mt=wt=(Dt=Math.max(_[0],_[1]))-bt}for(var St=bt;St<Dt;St+=wt)dt(St,St+Mt)}else for(var Ut=i.simpleMap(Tt.values,n.d2c),Gt=0;Gt<Ut.length;Gt++)dt(K=Ut[Gt],nt=K+Tt.dvalue)}return et.sort(function(Pt,Vt){return Pt.min-Vt.min}),et},n.makeCalcdata=function(H,X,at){var _,K,nt,et,st=n.type,dt="date"===st&&H[X+"calendar"];if(X in H){if(_=H[X],et=H._length||i.minRowLength(_),i.isTypedArray(_)&&("linear"===st||"log"===st)){if(et===_.length)return _;if(_.subarray)return _.subarray(0,et)}if("multicategory"===st)return function z(H,X){for(var at=new Array(X),_=0;_<X;_++)at[_]=U([(H[0]||[])[_],(H[1]||[])[_]]);return at}(_,et);for(K=new Array(et),nt=0;nt<et;nt++)K[nt]=n.d2c(_[nt],0,dt,at)}else{var Tt=X+"0"in H?n.d2c(H[X+"0"],0,dt):0,bt=H["d"+X]?Number(H["d"+X]):1;for(_=H[{x:"y",y:"x"}[X]],et=H._length||_.length,K=new Array(et),nt=0;nt<et;nt++)K[nt]=Tt+nt*bt}if(n.rangebreaks)for(nt=0;nt<et;nt++)K[nt]=n.maskBreaks(K[nt]);return K},n.isValidRange=function(H){return Array.isArray(H)&&2===H.length&&E(n.r2l(H[0]))&&E(n.r2l(H[1]))},n.isPtWithinRange=function(H,X){var at=n.c2l(H[F],null,X),_=n.r2l(n.range[0]),K=n.r2l(n.range[1]);return _<K?_<=at&&at<=K:K<=at&&at<=_},n._emptyCategories=function(){n._categories=[],n._categoriesMap={}},n.clearCalc=function(){var H=n._matchGroup;if(H){var X=null,at=null;for(var _ in H){var K=C[h.id2name(_)];if(K._categories){X=K._categories,at=K._categoriesMap;break}}X&&at?(n._categories=X,n._categoriesMap=at):n._emptyCategories()}else n._emptyCategories();if(n._initialCategories)for(var nt=0;nt<n._initialCategories.length;nt++)B(n._initialCategories[nt])},n.sortByInitialCategories=function(){var H=[];if(n._emptyCategories(),n._initialCategories)for(var X=0;X<n._initialCategories.length;X++)B(n._initialCategories[X]);H=H.concat(n._traceIndices);var at=n._matchGroup;for(var _ in at)if(p!==_){var K=C[h.id2name(_)];K._categories=n._categories,K._categoriesMap=n._categoriesMap,H=H.concat(K._traceIndices)}return H};var Z=C._d3locale;"date"===n.type&&(n._dateFormat=Z?Z.timeFormat:g,n._extraFormat=C._extraFormat),n._separators=C.separators,n._numFormat=Z?Z.numberFormat:P,delete n._minDtick,delete n._forceTick0}},59652:function(tt){"use strict";tt.exports=function(t){var g=["showexponent","showtickprefix","showticksuffix"].filter(function(P){return void 0!==t[P]});if(g.every(function(P){return t[P]===t[g[0]]})||1===g.length)return t[g[0]]}},96115:function(tt,W,t){"use strict";var A=t(71828),g=t(7901).contrast,i=t(13838),P=t(59652),E=t(85501);function l(x,e){function r(a,s){return A.coerce(x,e,i.tickformatstops,a,s)}r("enabled")&&(r("dtickrange"),r("value"))}tt.exports=function(e,r,f,a,s){s||(s={});var c=f("labelalias");A.isPlainObject(c)||delete r.labelalias;var u=P(e);if(f("showticklabels")){var v=s.font||{},w=r.color,o=-1!==(r.ticklabelposition||"").indexOf("inside")?g(s.bgColor):w&&w!==i.color.dflt?w:v.color;if(A.coerceFont(f,"tickfont",{family:v.family,size:v.size,color:o}),!s.noTicklabelstep&&"multicategory"!==a&&"log"!==a&&f("ticklabelstep"),s.noAng||f("tickangle"),"category"!==a){var h=f("tickformat");E(e,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:l}),r.tickformatstops.length||delete r.tickformatstops,!s.noExp&&!h&&"date"!==a&&(f("showexponent",u),f("exponentformat"),f("minexponent"),f("separatethousands"))}}}},38701:function(tt,W,t){"use strict";var A=t(71828),g=t(13838);tt.exports=function(P,E,l,x){var e=x.isMinor,r=e?P.minor||{}:P,f=e?E.minor:E,a=e?g.minor:g,s=e?"minor.":"",c=A.coerce2(r,f,a,"ticklen",e?.6*(E.ticklen||5):void 0),u=A.coerce2(r,f,a,"tickwidth",e?E.tickwidth||1:void 0),y=A.coerce2(r,f,a,"tickcolor",(e?E.tickcolor:void 0)||f.color);l(s+"ticks",!e&&x.outerTicks||c||u||y?"outside":"")||(delete f.ticklen,delete f.tickwidth,delete f.tickcolor)}},26218:function(tt,W,t){"use strict";var A=t(66287),g=t(71828).isArrayOrTypedArray;tt.exports=function(P,E,l,x,e){e||(e={});var r=e.isMinor,f=r?P.minor||{}:P,a=r?E.minor:E,s=r?"minor.":"";function c(M){var T=f[M];return void 0!==T?T:(a._template||{})[M]}var u=c("tick0"),y=c("dtick"),v=c("tickvals"),d=l(s+"tickmode",g(v)?"array":y?"linear":"auto");if("auto"===d||"sync"===d)l(s+"nticks");else if("linear"===d){var o=a.dtick=A.dtick(y,x);a.tick0=A.tick0(u,x,E.calendar,o)}else"multicategory"!==x&&(void 0===l(s+"tickvals")?a.tickmode="auto":r||l("ticktext"))}},66847:function(tt,W,t){"use strict";var A=t(39898),g=t(73972),i=t(71828),P=t(91424),E=t(89298);tt.exports=function(x,e,r,f){var a=x._fullLayout;if(0!==e.length){var u;f&&(u=f());var w,d,o,h=A.ease(r.easing);return x._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,function v(){for(var T={},L=0;L<e.length;L++){var m=e[L],b=m.plotinfo.yaxis;m.xr0&&(T[m.plotinfo.xaxis._name+".range"]=m.xr0.slice()),m.yr0&&(T[b._name+".range"]=m.yr0.slice())}return g.call("relayout",x,T).then(function(){for(var n=0;n<e.length;n++)s(e[n].plotinfo)})}()}),w=Date.now(),o=window.requestAnimationFrame(function M(){d=Date.now();for(var T=Math.min(1,(d-w)/r.duration),L=h(T),m=0;m<e.length;m++)c(e[m],L);d-w>r.duration?(function y(){for(var T={},L=0;L<e.length;L++){var m=e[L],b=m.plotinfo.yaxis;m.xr1&&(T[m.plotinfo.xaxis._name+".range"]=m.xr1.slice()),m.yr1&&(T[b._name+".range"]=m.yr1.slice())}return u&&u(),g.call("relayout",x,T).then(function(){for(var n=0;n<e.length;n++)s(e[n].plotinfo)})}(),o=window.cancelAnimationFrame(M)):o=window.requestAnimationFrame(M)}),Promise.resolve()}function s(T){var L=T.xaxis,m=T.yaxis;a._defs.select("#"+T.clipId+"> rect").call(P.setTranslate,0,0).call(P.setScale,1,1),T.plot.call(P.setTranslate,L._offset,m._offset).call(P.setScale,1,1);var S=T.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(P.setPointGroupScale,1,1),S.selectAll(".textpoint").call(P.setTextPointsScale,1,1),S.call(P.hideOutsideRangePoints,T)}function c(T,L){var m=T.plotinfo,S=m.xaxis,b=m.yaxis,n=S._length,C=b._length,p=!!T.xr1,F=!!T.yr1,D=[];if(p){var N=i.simpleMap(T.xr0,S.r2l),k=i.simpleMap(T.xr1,S.r2l),O=N[1]-N[0],B=k[1]-k[0];D[0]=(N[0]*(1-L)+L*k[0]-N[0])/(N[1]-N[0])*n,D[2]=n*(1-L+L*B/O),S.range[0]=S.l2r(N[0]*(1-L)+L*k[0]),S.range[1]=S.l2r(N[1]*(1-L)+L*k[1])}else D[0]=0,D[2]=n;if(F){var z=i.simpleMap(T.yr0,b.r2l),U=i.simpleMap(T.yr1,b.r2l),G=z[1]-z[0],Q=U[1]-U[0];D[1]=(z[1]*(1-L)+L*U[1]-z[1])/(z[0]-z[1])*C,D[3]=C*(1-L+L*Q/G),b.range[0]=S.l2r(z[0]*(1-L)+L*U[0]),b.range[1]=b.l2r(z[1]*(1-L)+L*U[1])}else D[1]=0,D[3]=C;E.drawOne(x,S,{skipTitle:!0}),E.drawOne(x,b,{skipTitle:!0}),E.redrawComponents(x,[S._id,b._id]);var rt=p?n/D[2]:1,it=F?C/D[3]:1,H=S._offset-(p?D[0]/D[2]*n:0),X=b._offset-(F?D[1]/D[3]*C:0);m.clipRect.call(P.setTranslate,p?D[0]:0,F?D[1]:0).call(P.setScale,1/rt,1/it),m.plot.call(P.setTranslate,H,X).call(P.setScale,rt,it),P.setPointGroupScale(m.zoomScalePts,1/rt,1/it),P.setTextPointsScale(m.zoomScaleTxt,1/rt,1/it)}E.redrawComponents(x)}},951:function(tt,W,t){"use strict";var A=t(73972).traceIs,g=t(4322);function i(x,e){if("-"===x.type){var a,r=x._id,f=r.charAt(0);-1!==r.indexOf("scene")&&(r=f);var s=function P(x,e,r){for(var f=0;f<x.length;f++){var a=x[f];if("splom"===a.type&&a._length>0&&(a["_"+r+"axes"]||{})[e])return a;if((a[r+"axis"]||r)===e){if(l(a,r))return a;if((a[r]||[]).length||a[r+"0"])return a}}}(e,r,f);if(s){if("histogram"===s.type&&f==={v:"y",h:"x"}[s.orientation||"v"])return void(x.type="linear");var c=f+"calendar",u=s[c],y={noMultiCategory:!A(s,"cartesian")||A(s,"noMultiCategory")};if("box"===s.type&&s._hasPreCompStats&&f==={h:"x",v:"y"}[s.orientation||"v"]&&(y.noMultiCategory=!0),y.autotypenumbers=x.autotypenumbers,l(s,f)){var v=E(s),w=[];for(a=0;a<e.length;a++){var d=e[a];!A(d,"box-violin")||(d[f+"axis"]||f)!==r||(w.push(void 0!==d[v]?d[v][0]:void 0!==d.name?d.name:"text"),d[c]!==u&&(u=void 0))}x.type=g(w,u,y)}else if("splom"===s.type){var h=s.dimensions[s._axesDim[r]];h.visible&&(x.type=g(h.values,u,y))}else x.type=g(s[f]||[s[f+"0"]],u,y)}}}function E(x){return{v:"x",h:"y"}[x.orientation||"v"]}function l(x,e){var r=E(x),f=A(x,"box-violin"),a=A(x._fullInput||{},"candlestick");return f&&!a&&e===r&&void 0===x[r]&&void 0===x[r+"0"]}tt.exports=function(e,r,f,a){f("autotypenumbers",a.autotypenumbersDflt),"-"===f("type",(a.splomStash||{}).type)&&(i(r,a.data),"-"===r.type?r.type="linear":e.type=r.type)}},31137:function(tt,W,t){"use strict";var A=t(73972),g=t(71828);function i(e,r,f){var a,s,c,u=!1;if("data"===r.type)a=e._fullData[null!==r.traces?r.traces[0]:0];else{if("layout"!==r.type)return!1;a=e._fullLayout}return s=g.nestedProperty(a,r.prop).get(),(c=f[r.type]=f[r.type]||{}).hasOwnProperty(r.prop)&&c[r.prop]!==s&&(u=!0),c[r.prop]=s,{changed:u,value:s}}function E(e,r){var f=[],a=r[0],s={};if("string"==typeof a)s[a]=r[1];else{if(!g.isPlainObject(a))return f;s=a}return x(s,function(c,u,y){f.push({type:"layout",prop:c,value:y})},"",0),f}function l(e,r){var f,a,s,c,u=[];if(s=r[1],f=r[2],c={},"string"==typeof(a=r[0]))c[a]=s;else{if(!g.isPlainObject(a))return u;c=a,void 0===f&&(f=s)}return void 0===f&&(f=null),x(c,function(y,v,w){var d,o;if(Array.isArray(w)){o=w.slice();var h=Math.min(o.length,e.data.length);f&&(h=Math.min(h,f.length)),d=[];for(var M=0;M<h;M++)d[M]=f?f[M]:M}else o=w,d=f?f.slice():null;if(null===d)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(d)){if(!Array.isArray(o)){var T=o;o=[];for(var L=0;L<d.length;L++)o[L]=T}o.length=Math.min(d.length,o.length)}u.push({type:"data",prop:y,traces:d,value:o})},"",0),u}function x(e,r,f,a){Object.keys(e).forEach(function(s){var c=e[s];if("_"!==s[0]){var u=f+(a>0?".":"")+s;g.isPlainObject(c)?x(c,r,u,a+1):r(u,s,c)}})}W.manageCommandObserver=function(e,r,f,a){var s={},c=!0;r&&r._commandObserver&&(s=r._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var u=W.hasSimpleAPICommandBindings(e,f,s.lookupTable);if(r&&r._commandObserver){if(u)return s;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,s}if(u){i(e,u,s.cache),s.check=function(){if(c){var d=i(e,u,s.cache);return d.changed&&a&&void 0!==s.lookupTable[d.value]&&(s.disable(),Promise.resolve(a({value:d.value,type:u.type,prop:u.prop,traces:u.traces,index:s.lookupTable[d.value]})).then(s.enable,s.enable)),d.changed}};for(var y=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],v=0;v<y.length;v++)e._internalOn(y[v],s.check);s.remove=function(){for(var w=0;w<y.length;w++)e._removeInternalListener(y[w],s.check)}}else g.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){c=!1},s.enable=function(){c=!0},r&&(r._commandObserver=s),s},W.hasSimpleAPICommandBindings=function(e,r,f){var a,c,s=r.length;for(a=0;a<s;a++){var u,y=r[a],v=y.method,w=y.args;if(Array.isArray(w)||(w=[]),!v)return!1;var d=W.computeAPICommandBindings(e,v,w);if(1!==d.length)return!1;if(c){if((u=d[0]).type!==c.type||u.prop!==c.prop)return!1;if(Array.isArray(c.traces)){if(!Array.isArray(u.traces))return!1;u.traces.sort();for(var o=0;o<c.traces.length;o++)if(c.traces[o]!==u.traces[o])return!1}else if(u.prop!==c.prop)return!1}else c=d[0],Array.isArray(c.traces)&&c.traces.sort();var h=(u=d[0]).value;if(Array.isArray(h)){if(1!==h.length)return!1;h=h[0]}f&&(f[h]=a)}return c},W.executeAPICommand=function(e,r,f){if("skip"===r)return Promise.resolve();var a=A.apiMethodRegistry[r],s=[e];Array.isArray(f)||(f=[]);for(var c=0;c<f.length;c++)s.push(f[c]);return a.apply(null,s).catch(function(u){return g.warn("API call to Plotly."+r+" rejected.",u),Promise.reject(u)})},W.computeAPICommandBindings=function(e,r,f){var a;switch(Array.isArray(f)||(f=[]),r){case"restyle":a=l(e,f);break;case"relayout":a=E(0,f);break;case"update":a=l(e,[f[0],f[2]]).concat(E(0,[f[1]]));break;case"animate":a=function P(e,r){return Array.isArray(r[0])&&1===r[0].length&&-1!==["string","number"].indexOf(typeof r[0][0])?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}(0,f);break;default:a=[]}return a}},27670:function(tt,W,t){"use strict";var A=t(1426).extendFlat;W.Y=function(g,i){var P={valType:"info_array",editType:(g=g||{}).editType,items:[{valType:"number",min:0,max:1,editType:g.editType},{valType:"number",min:0,max:1,editType:g.editType}],dflt:[0,1]},e=(i=i||{},{x:A({},P,{}),y:A({},P,{}),editType:g.editType});return g.noGridCell||(e.row={valType:"integer",min:0,dflt:0,editType:g.editType},e.column={valType:"integer",min:0,dflt:0,editType:g.editType}),e},W.c=function(g,i,P,E){var l=E&&E.x||[0,1],x=E&&E.y||[0,1],e=i.grid;if(e){var r=P("domain.column");void 0!==r&&(r<e.columns?l=e._domains.x[r]:delete g.domain.column);var f=P("domain.row");void 0!==f&&(f<e.rows?x=e._domains.y[f]:delete g.domain.row)}var a=P("domain.x",l),s=P("domain.y",x);a[0]<a[1]||(g.domain.x=l.slice()),s[0]<s[1]||(g.domain.y=x.slice())}},41940:function(tt){"use strict";tt.exports=function(W){var t=W.editType,A=W.colorEditType;void 0===A&&(A=t);var g={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:A},editType:t};return W.autoSize&&(g.size.dflt="auto"),W.autoColor&&(g.color.dflt="auto"),W.arrayOk&&(g.family.arrayOk=!0,g.size.arrayOk=!0,g.color.arrayOk=!0),g}},31391:function(tt){"use strict";tt.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(tt,W){"use strict";W.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},W.axesNames=["lonaxis","lataxis"],W.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},W.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},W.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},W.clipPad=.001,W.precision=.1,W.landColor="#F0DC82",W.waterColor="#3399FF",W.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},W.sphereSVG={type:"Sphere"},W.fillLayers={ocean:1,land:1,lakes:1},W.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},W.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],W.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],W.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(tt,W,t){"use strict";var A=t(39898),g=t(27362),i=g.geoPath,P=g.geoDistance,E=t(65704),l=t(73972),x=t(71828),e=x.strTranslate,r=t(7901),f=t(91424),a=t(30211),s=t(74875),c=t(89298),u=t(71739).getAutoRange,y=t(28569),v=t(47322).prepSelect,w=t(47322).clearOutline,d=t(47322).selectOnClick,o=t(74455),h=t(78776),M=t(41327),T=t(90973),L=t(96892).zL;function m(p){this.id=p.id,this.graphDiv=p.graphDiv,this.container=p.container,this.topojsonURL=p.topojsonURL,this.isStatic=p.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=m.prototype;function C(p,F){var D=h.clipPad,N=p[0]+D,k=p[1]-D,O=F[0]+D,B=F[1]-D;N>0&&k<0&&(k+=360);var z=(k-N)/4;return{type:"Polygon",coordinates:[[[N,O],[N,B],[N+z,B],[N+2*z,B],[N+3*z,B],[k,B],[k,O],[k-z,O],[k-2*z,O],[k-3*z,O],[N,O]]]}}tt.exports=function(F){return new m(F)},S.plot=function(p,F,D,N){var k=this;if(N)return k.update(p,F,!0);k._geoCalcData=p,k._fullLayout=F;var O=F[this.id],B=[],z=!1;for(var U in h.layerNameToAdjective)if("frame"!==U&&O["show"+U]){z=!0;break}for(var G=!1,Q=0;Q<p.length;Q++){var rt=p[0][0].trace;rt._geo=k,rt.locationmode&&(z=!0);var it=rt.marker;if(it){var J=it.angleref;(it.angle||"north"===J||"previous"===J)&&(G=!0)}}if(this._hasMarkerAngles=G,z){var j=T.getTopojsonName(O);(null===k.topojson||j!==k.topojsonName)&&(k.topojsonName=j,void 0===PlotlyGeoAssets.topojson[k.topojsonName]&&B.push(k.fetchTopojson()))}B=B.concat(M.fetchTraceGeoData(p)),D.push(new Promise(function(Z,H){Promise.all(B).then(function(){k.topojson=PlotlyGeoAssets.topojson[k.topojsonName],k.update(p,F),Z()}).catch(H)}))},S.fetchTopojson=function(){var p=this,F=T.getTopojsonPath(p.topojsonURL,p.topojsonName);return new Promise(function(D,N){A.json(F,function(k,O){if(k)return N(404===k.status?new Error(["plotly.js could not find topojson file at",F+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",F].join(" ")));PlotlyGeoAssets.topojson[p.topojsonName]=O,D()})})},S.update=function(p,F,D){var N=F[this.id];this.hasChoropleth=!1;for(var k=0;k<p.length;k++){var O=p[k],B=O[0].trace;"choropleth"===B.type&&(this.hasChoropleth=!0),!0===B.visible&&B._length>0&&B._module.calcGeoJSON(O,F)}if(!D){if(this.updateProjection(p,F))return;(!this.viewInitial||this.scope!==N.scope)&&this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(F,N),this.updateDims(F,N),this.updateFx(F,N),s.generalUpdatePerTraceModule(this.graphDiv,this,p,N);var U=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=U.selectAll(".point"),this.dataPoints.text=U.selectAll("text"),this.dataPaths.line=U.selectAll(".js-line");var G=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=G.selectAll("path"),this._render()},S.updateProjection=function(p,F){var D=this.graphDiv,N=F[this.id],k=F._size,O=N.domain,B=N.projection,z=N.lonaxis,U=N.lataxis,G=z._ax,Q=U._ax,rt=this.projection=function b(p){var F=p.projection,D=F.type,N=h.projNames[D];N="geo"+x.titleCase(N);for(var O=(g[N]||E[N])(),B=p._isSatellite?180*Math.acos(1/F.distance)/Math.PI:p._isClipped?h.lonaxisSpan[D]/2:null,z=["center","rotate","parallels","clipExtent"],U=function(rt){return rt?O:[]},G=0;G<z.length;G++){var Q=z[G];"function"!=typeof O[Q]&&(O[Q]=U)}return O.isLonLatOverEdges=function(rt){if(null===O(rt))return!0;if(B){var it=O.rotate();return P(rt,[-it[0],-it[1]])>B*Math.PI/180}return!1},O.getPath=function(){return i().projection(O)},O.getBounds=function(rt){return O.getPath().bounds(rt)},O.precision(h.precision),p._isSatellite&&O.tilt(F.tilt).distance(F.distance),B&&O.clipAngle(B-h.clipPad),O}(N),it=[[k.l+k.w*O.x[0],k.t+k.h*(1-O.y[1])],[k.l+k.w*O.x[1],k.t+k.h*(1-O.y[0])]],ut=N.center||{},J=B.rotation||{},j=z.range||[],Z=U.range||[];if(N.fitbounds){G._length=it[1][0]-it[0][0],Q._length=it[1][1]-it[0][1],G.range=u(D,G),Q.range=u(D,Q);var H=(G.range[0]+G.range[1])/2,X=(Q.range[0]+Q.range[1])/2;if(N._isScoped)ut={lon:H,lat:X};else if(N._isClipped){ut={lon:H,lat:X},J={lon:H,lat:X,roll:J.roll};var at=B.type,_=h.lonaxisSpan[at]/2||180,K=h.lataxisSpan[at]/2||90;j=[H-_,H+_],Z=[X-K,X+K]}else ut={lon:H,lat:X},J={lon:H,lat:J.lat,roll:J.roll}}rt.center([ut.lon-J.lon,ut.lat-J.lat]).rotate([-J.lon,-J.lat,J.roll]).parallels(B.parallels);var nt=C(j,Z);rt.fitExtent(it,nt);var et=this.bounds=rt.getBounds(nt),st=this.fitScale=rt.scale(),dt=rt.translate();if(N.fitbounds){var Tt=rt.getBounds(C(G.range,Q.range)),bt=Math.min((et[1][0]-et[0][0])/(Tt[1][0]-Tt[0][0]),(et[1][1]-et[0][1])/(Tt[1][1]-Tt[0][1]));isFinite(bt)?rt.scale(bt*st):x.warn("Something went wrong during"+this.id+"fitbounds computations.")}else rt.scale(B.scale*st);var Dt=this.midPt=[(et[0][0]+et[1][0])/2,(et[0][1]+et[1][1])/2];if(rt.translate([dt[0]+(Dt[0]-dt[0]),dt[1]+(Dt[1]-dt[1])]).clipExtent(et),N._isAlbersUsa){var Ft=rt([ut.lon,ut.lat]),Mt=rt.translate();rt.translate([Mt[0]-(Ft[0]-Mt[0]),Mt[1]-(Ft[1]-Mt[1])])}},S.updateBaseLayers=function(p,F){var D=this,N=D.topojson,k=D.layers,O=D.basePaths;function B(it){return"lonaxis"===it||"lataxis"===it}function z(it){return Boolean(h.lineLayers[it])}function U(it){return Boolean(h.fillLayers[it])}var Q=(this.hasChoropleth?h.layersForChoropleth:h.layers).filter(function(it){return z(it)||U(it)?F["show"+it]:!B(it)||F[it].showgrid}),rt=D.framework.selectAll(".layer").data(Q,String);rt.exit().each(function(it){delete k[it],delete O[it],A.select(this).remove()}),rt.enter().append("g").attr("class",function(it){return"layer "+it}).each(function(it){var ut=k[it]=A.select(this);"bg"===it?D.bgRect=ut.append("rect").style("pointer-events","all"):B(it)?O[it]=ut.append("path").style("fill","none"):"backplot"===it?ut.append("g").classed("choroplethlayer",!0):"frontplot"===it?ut.append("g").classed("scatterlayer",!0):z(it)?O[it]=ut.append("path").style("fill","none").style("stroke-miterlimit",2):U(it)&&(O[it]=ut.append("path").style("stroke","none"))}),rt.order(),rt.each(function(it){var ut=O[it],J=h.layerNameToAdjective[it];"frame"===it?ut.datum(h.sphereSVG):z(it)||U(it)?ut.datum(L(N,N.objects[it])):B(it)&&ut.datum(function n(p,F,D){var z,U,G,O=F[p],B=h.scopeDefaults[F.scope];"lonaxis"===p?(z=B.lonaxisRange,U=B.lataxisRange,G=function(X,at){return[X,at]}):"lataxis"===p&&(z=B.lataxisRange,U=B.lonaxisRange,G=function(X,at){return[at,X]});var Q={type:"linear",range:[z[0],z[1]-1e-6],tick0:O.tick0,dtick:O.dtick};c.setConvert(Q,D);var rt=c.calcTicks(Q);!F.isScoped&&"lonaxis"===p&&rt.pop();for(var it=rt.length,ut=new Array(it),J=0;J<it;J++)for(var j=rt[J].x,Z=ut[J]=[],H=U[0];H<U[1]+2.5;H+=2.5)Z.push(G(j,H));return{type:"MultiLineString",coordinates:ut}}(it,F,p)).call(r.stroke,F[it].gridcolor).call(f.dashLine,F[it].griddash,F[it].gridwidth),z(it)?ut.call(r.stroke,F[J+"color"]).call(f.dashLine,"",F[J+"width"]):U(it)&&ut.call(r.fill,F[J+"color"])})},S.updateDims=function(p,F){var D=this.bounds,N=(F.framewidth||0)/2,k=D[0][0]-N,O=D[0][1]-N,B=D[1][0]-k+N,z=D[1][1]-O+N;f.setRect(this.clipRect,k,O,B,z),this.bgRect.call(f.setRect,k,O,B,z).call(r.fill,F.bgcolor),this.xaxis._offset=k,this.xaxis._length=B,this.yaxis._offset=O,this.yaxis._length=z},S.updateFx=function(p,F){var D=this,N=D.graphDiv,k=D.bgRect,O=p.dragmode,B=p.clickmode;if(!D.isStatic){var Q={element:D.bgRect.node(),gd:N,plotinfo:{id:D.id,xaxis:D.xaxis,yaxis:D.yaxis,fillRangeItems:function(rt,it){it.isRect?(rt.range={})[D.id]=[U([it.xmin,it.ymin]),U([it.xmax,it.ymax])]:(rt.lassoPoints={})[D.id]=it.map(U)}},xaxes:[D.xaxis],yaxes:[D.yaxis],subplot:D.id,clickFn:function(rt){2===rt&&w(N)}};"pan"===O?(k.node().onmousedown=null,k.call(o(D,F)),k.on("dblclick.zoom",function z(){var rt=D.viewInitial,it={};for(var ut in rt)it[D.id+"."+ut]=rt[ut];l.call("_guiRelayout",N,it),N.emit("plotly_doubleclick",null)}),N._context._scrollZoom.geo||k.on("wheel.zoom",null)):("select"===O||"lasso"===O)&&(k.on(".zoom",null),Q.prepFn=function(rt,it,ut){v(rt,it,ut,Q,O)},y.init(Q)),k.on("mousemove",function(){var rt=D.projection.invert(x.getPositionFromD3Event());if(!rt)return y.unhover(N,A.event);D.xaxis.p2c=function(){return rt[0]},D.yaxis.p2c=function(){return rt[1]},a.hover(N,A.event,D.id)}),k.on("mouseout",function(){N._dragging||y.unhover(N,A.event)}),k.on("click",function(){"select"!==O&&"lasso"!==O&&(B.indexOf("select")>-1&&d(A.event,N,[D.xaxis],[D.yaxis],D.id,Q),B.indexOf("event")>-1&&a.click(N,A.event))})}function U(rt){return D.projection.invert([rt[0]+D.xaxis._offset,rt[1]+D.yaxis._offset])}},S.makeFramework=function(){var p=this,F=p.graphDiv,D=F._fullLayout,N="clip"+D._uid+p.id;p.clipDef=D._clips.append("clipPath").attr("id",N),p.clipRect=p.clipDef.append("rect"),p.framework=A.select(p.container).append("g").attr("class","geo "+p.id).call(f.setClipUrl,N,F),p.project=function(k){var O=p.projection(k);return O?[O[0]-p.xaxis._offset,O[1]-p.yaxis._offset]:[null,null]},p.xaxis={_id:"x",c2p:function(k){return p.project(k)[0]}},p.yaxis={_id:"y",c2p:function(k){return p.project(k)[1]}},p.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},c.setConvert(p.mockAxis,D)},S.saveViewInitial=function(p){var F=p.center||{},D=p.projection,N=D.rotation||{};this.viewInitial={fitbounds:p.fitbounds,"projection.scale":D.scale},x.extendFlat(this.viewInitial,p._isScoped?{"center.lon":F.lon,"center.lat":F.lat}:p._isClipped?{"projection.rotation.lon":N.lon,"projection.rotation.lat":N.lat}:{"center.lon":F.lon,"center.lat":F.lat,"projection.rotation.lon":N.lon})},S.render=function(p){this._hasMarkerAngles&&p?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var D,p=this.projection,F=p.getPath();function N(O){var B=p(O.lonlat);return B?e(B[0],B[1]):null}function k(O){return p.isLonLatOverEdges(O.lonlat)?"none":null}for(D in this.basePaths)this.basePaths[D].attr("d",F);for(D in this.dataPaths)this.dataPaths[D].attr("d",function(O){return F(O.geojson)});for(D in this.dataPoints)this.dataPoints[D].attr("display",k).attr("transform",N)}},44622:function(tt,W,t){"use strict";var A=t(27659).AU,g=t(71828).counterRegex,i=t(69082),P="geo",E=g(P),l={};l[P]={valType:"subplotid",dflt:P,editType:"calc"},tt.exports={attr:P,name:P,idRoot:P,idRegex:E,attrRegex:E,attributes:l,layoutAttributes:t(77519),supplyLayoutDefaults:t(82161),plot:function x(f){for(var a=f._fullLayout,s=f.calcdata,c=a._subplots[P],u=0;u<c.length;u++){var y=c[u],v=A(s,P,y),d=a[y]._subplot;d||(d=i({id:y,graphDiv:f,container:a._geolayer.node(),topojsonURL:f._context.topojsonURL,staticPlot:f._context.staticPlot}),a[y]._subplot=d),d.plot(v,a,f._promises)}},updateFx:function r(f){for(var a=f._fullLayout,s=a._subplots[P],c=0;c<s.length;c++){var u=a[s[c]];u._subplot.updateFx(a,u)}},clean:function e(f,a,s,c){for(var u=c._subplots[P]||[],y=0;y<u.length;y++){var v=u[y],w=c[v]._subplot;!a[v]&&w&&(w.framework.remove(),w.clipDef.remove())}}}},77519:function(tt,W,t){"use strict";var A=t(22399),g=t(27670).Y,i=t(79952).P,P=t(78776),E=t(30962).overrideAll,l=t(78607),x={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:A.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:i};(tt.exports=E({domain:g({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:l(P.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:l(P.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:A.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:P.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:P.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:P.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:P.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:A.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:A.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:A.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:A.background},lonaxis:x,lataxis:x},"plot","from-root")).uirevision={valType:"any",editType:"none"}},82161:function(tt,W,t){"use strict";var A=t(71828),g=t(49119),i=t(27659).NG,P=t(78776),E=t(77519),l=P.axesNames;function x(e,r,f,a){var c=i(a.fullData,"geo",a.id).map(function(Z){return Z._expandedIndex}),u=f("resolution"),y=f("scope"),v=P.scopeDefaults[y],w=f("projection.type",v.projType),d=r._isAlbersUsa="albers usa"===w;d&&(y=r.scope="usa");var o=r._isScoped="world"!==y,h=r._isSatellite="satellite"===w,M=r._isConic=-1!==w.indexOf("conic")||"albers"===w,T=r._isClipped=!!P.lonaxisSpan[w];if(!1===e.visible){var L=A.extendDeep({},r._template);L.showcoastlines=!1,L.showcountries=!1,L.showframe=!1,L.showlakes=!1,L.showland=!1,L.showocean=!1,L.showrivers=!1,L.showsubunits=!1,L.lonaxis&&(L.lonaxis.showgrid=!1),L.lataxis&&(L.lataxis.showgrid=!1),r._template=L}for(var m=f("visible"),b=0;b<l.length;b++){var p,n=l[b],C=[30,10][b];if(o)p=v[n+"Range"];else{var F=P[n+"Span"],D=(F[w]||F["*"])/2,N=f("projection.rotation."+n.substr(0,3),v.projRotate[b]);p=[N-D,N+D]}var k=f(n+".range",p);f(n+".tick0"),f(n+".dtick",C),f(n+".showgrid",!!m&&void 0)&&(f(n+".gridcolor"),f(n+".gridwidth"),f(n+".griddash")),r[n]._ax={type:"linear",_id:n.slice(0,3),_traceIndices:c,setScale:A.identity,c2l:A.identity,r2l:A.identity,autorange:!0,range:k.slice(),_m:1,_input:{}}}var O=r.lonaxis.range,B=r.lataxis.range,z=O[0],U=O[1];z>0&&U<0&&(U+=360);var Q,it,ut,G=(z+U)/2;if(!d){var rt=o?v.projRotate:[G,0,0];Q=f("projection.rotation.lon",rt[0]),f("projection.rotation.lat",rt[1]),f("projection.rotation.roll",rt[2]),f("showcoastlines",!o&&m)&&(f("coastlinecolor"),f("coastlinewidth")),f("showocean",!!m&&void 0)&&f("oceancolor")}d?(it=-96.6,ut=38.7):(it=o?G:Q,ut=(B[0]+B[1])/2),f("center.lon",it),f("center.lat",ut),h&&(f("projection.tilt"),f("projection.distance")),M&&f("projection.parallels",v.projParallels||[0,60]),f("projection.scale"),f("showland",!!m&&void 0)&&f("landcolor"),f("showlakes",!!m&&void 0)&&f("lakecolor"),f("showrivers",!!m&&void 0)&&(f("rivercolor"),f("riverwidth")),f("showcountries",o&&"usa"!==y&&m)&&(f("countrycolor"),f("countrywidth")),("usa"===y||"north america"===y&&50===u)&&(f("showsubunits",m),f("subunitcolor"),f("subunitwidth")),o||f("showframe",m)&&(f("framecolor"),f("framewidth")),f("bgcolor"),f("fitbounds")&&(delete r.projection.scale,o?(delete r.center.lon,delete r.center.lat):T?(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon,delete r.projection.rotation.lat,delete r.lonaxis.range,delete r.lataxis.range):(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon))}tt.exports=function(r,f,a){g(r,f,a,{type:"geo",attributes:E,handleDefaults:x,fullData:a,partition:"y"})}},74455:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=t(73972),P=Math.PI/180,E=180/Math.PI,l={cursor:"pointer"},x={cursor:"auto"};function r(n,C){return A.behavior.zoom().translate(C.translate()).scale(C.scale())}function f(n,C,p){var F=n.id,D=n.graphDiv,N=D.layout,k=N[F],O=D._fullLayout,B=O[F],z={},U={};function G(Q,rt){z[F+"."+Q]=g.nestedProperty(k,Q).get(),i.call("_storeDirectGUIEdit",N,O._preGUI,z);var it=g.nestedProperty(B,Q);it.get()!==rt&&(it.set(rt),g.nestedProperty(k,Q).set(rt),U[F+"."+Q]=rt)}p(G),G("projection.scale",C.scale()/n.fitScale),G("fitbounds",!1),D.emit("plotly_relayout",U)}function a(n,C){var p=r(0,C);function N(O){var B=C.invert(n.midPt);O("center.lon",B[0]),O("center.lat",B[1])}return p.on("zoomstart",function F(){A.select(this).style(l)}).on("zoom",function D(){C.scale(A.event.scale).translate(A.event.translate),n.render(!0);var O=C.invert(n.midPt);n.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/n.fitScale,"geo.center.lon":O[0],"geo.center.lat":O[1]})}).on("zoomend",function k(){A.select(this).style(x),f(n,C,N)}),p}function s(n,C){var D,N,k,O,B,z,U,G,Q,p=r(0,C);function rt(H){return C.invert(H)}function Z(H){var X=C.rotate(),at=C.invert(n.midPt);H("projection.rotation.lon",-X[0]),H("center.lon",at[0]),H("center.lat",at[1])}return p.on("zoomstart",function ut(){A.select(this).style(l),D=A.mouse(this),N=C.rotate(),k=C.translate(),O=N,B=rt(D)}).on("zoom",function J(){if(z=A.mouse(this),function it(H){var X=rt(H);if(!X)return!0;var at=C(X);return Math.abs(at[0]-H[0])>2||Math.abs(at[1]-H[1])>2}(D))return p.scale(C.scale()),void p.translate(C.translate());C.scale(A.event.scale),C.translate([k[0],A.event.translate[1]]),B?rt(z)&&(G=rt(z),C.rotate(U=[O[0]+(G[0]-B[0]),N[1],N[2]]),O=U):B=rt(D=z),Q=!0,n.render(!0);var H=C.rotate(),X=C.invert(n.midPt);n.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/n.fitScale,"geo.center.lon":X[0],"geo.center.lat":X[1],"geo.projection.rotation.lon":-H[0]})}).on("zoomend",function j(){A.select(this).style(x),Q&&f(n,C,Z)}),p}function c(n,C){var O,p={r:C.rotate(),k:C.scale()},F=r(0,C),D=function b(n){for(var C=0,p=arguments.length,F=[];++C<p;)F.push(arguments[C]);var D=A.dispatch.apply(null,F);return D.of=function(N,k){return function(O){var B;try{B=O.sourceEvent=A.event,O.target=n,A.event=O,D[O.type].apply(N,k)}finally{A.event=B}}},D}(F,"zoomstart","zoom","zoomend"),N=0,k=F.on;function B(Q){N++||Q({type:"zoomstart"})}function z(Q){Q({type:"zoom"})}function U(Q){--N||Q({type:"zoomend"})}function G(Q){var rt=C.rotate();Q("projection.rotation.lon",-rt[0]),Q("projection.rotation.lat",-rt[1])}return F.on("zoomstart",function(){A.select(this).style(l);var Q=A.mouse(this),rt=C.rotate(),it=rt,ut=C.translate(),J=y(rt);O=u(C,Q),k.call(F,"zoom",function(){var j=A.mouse(this);if(C.scale(p.k=A.event.scale),O){if(u(C,j)){C.rotate(rt).translate(ut);var Z=u(C,j),H=w(O,Z),X=T(v(J,H)),at=p.r=d(X,O,it);(!isFinite(at[0])||!isFinite(at[1])||!isFinite(at[2]))&&(at=it),C.rotate(at),it=at}}else O=u(C,Q=j);z(D.of(this,arguments))}),B(D.of(this,arguments))}).on("zoomend",function(){A.select(this).style(x),k.call(F,"zoom",null),U(D.of(this,arguments)),f(n,C,G)}).on("zoom.redraw",function(){n.render(!0);var Q=C.rotate();n.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":C.scale()/n.fitScale,"geo.projection.rotation.lon":-Q[0],"geo.projection.rotation.lat":-Q[1]})}),A.rebind(F,D,"on")}function u(n,C){var p=n.invert(C);return p&&isFinite(p[0])&&isFinite(p[1])&&function L(n){var C=n[0]*P,p=n[1]*P,F=Math.cos(p);return[F*Math.cos(C),F*Math.sin(C),Math.sin(p)]}(p)}function y(n){var C=.5*n[0]*P,p=.5*n[1]*P,F=.5*n[2]*P,D=Math.sin(C),N=Math.cos(C),k=Math.sin(p),O=Math.cos(p),B=Math.sin(F),z=Math.cos(F);return[N*O*z+D*k*B,D*O*z-N*k*B,N*k*z+D*O*B,N*O*B-D*k*z]}function v(n,C){var p=n[0],F=n[1],D=n[2],N=n[3],k=C[0],O=C[1],B=C[2],z=C[3];return[p*k-F*O-D*B-N*z,p*O+F*k+D*z-N*B,p*B-F*z+D*k+N*O,p*z+F*B-D*O+N*k]}function w(n,C){if(n&&C){var p=function S(n,C){return[n[1]*C[2]-n[2]*C[1],n[2]*C[0]-n[0]*C[2],n[0]*C[1]-n[1]*C[0]]}(n,C),F=Math.sqrt(m(p,p)),D=.5*Math.acos(Math.max(-1,Math.min(1,m(n,C)))),N=Math.sin(D)/F;return F&&[Math.cos(D),p[2]*N,-p[1]*N,p[0]*N]}}function d(n,C,p){var F=M(C,2,n[0]);F=M(F,1,n[1]),F=M(F,0,n[2]-p[2]);var Q,rt,D=C[0],N=C[1],k=C[2],O=F[0],B=F[1],z=F[2],U=Math.atan2(N,D)*E,G=Math.sqrt(D*D+N*N);Math.abs(B)>G?(rt=(B>0?90:-90)-U,Q=0):(rt=Math.asin(B/G)*E-U,Q=Math.sqrt(G*G-B*B));var it=180-rt-2*U,ut=(Math.atan2(z,O)-Math.atan2(k,Q))*E,J=(Math.atan2(z,O)-Math.atan2(k,-Q))*E;return o(p[0],p[1],rt,ut)<=o(p[0],p[1],it,J)?[rt,ut,p[2]]:[it,J,p[2]]}function o(n,C,p,F){var D=h(p-n),N=h(F-C);return Math.sqrt(D*D+N*N)}function h(n){return(n%360+540)%360-180}function M(n,C,p){var F=p*P,D=n.slice(),N=0===C?1:0,k=2===C?1:2,O=Math.cos(F),B=Math.sin(F);return D[N]=n[N]*O-n[k]*B,D[k]=n[k]*O+n[N]*B,D}function T(n){return[Math.atan2(2*(n[0]*n[1]+n[2]*n[3]),1-2*(n[1]*n[1]+n[2]*n[2]))*E,Math.asin(Math.max(-1,Math.min(1,2*(n[0]*n[2]-n[3]*n[1]))))*E,Math.atan2(2*(n[0]*n[3]+n[1]*n[2]),1-2*(n[2]*n[2]+n[3]*n[3]))*E]}function m(n,C){for(var p=0,F=0,D=n.length;F<D;++F)p+=n[F]*C[F];return p}tt.exports=function e(n,C){return(C._isScoped?a:C._isClipped?c:s)(n,n.projection)}},27659:function(tt,W,t){"use strict";var A=t(73972),g=t(85555).SUBPLOT_PATTERN;W.AU=function(i,P,E){var l=A.subplotsRegistry[P];if(!l)return[];for(var x=l.attr,e=[],r=0;r<i.length;r++){var f=i[r];f[0].trace[x]===E&&e.push(f)}return e},W.a0=function(i,P){var x,E=[],l=[];if(!(x="string"==typeof P?A.getModule(P).plot:"function"==typeof P?P:P.plot))return[E,i];for(var e=0;e<i.length;e++){var r=i[e],f=r[0].trace;!0!==f.visible||0===f._length||(f._module.plot===x?E.push(r):l.push(r))}return[E,l]},W.NG=function(P,E,l){if(!A.subplotsRegistry[E])return[];var r,f,a,x=A.subplotsRegistry[E].attr,e=[];if("gl2d"===E){var s=l.match(g);f="x"+s[1],a="y"+s[2]}for(var c=0;c<P.length;c++)r=P[c],"gl2d"===E&&A.traceIs(r,"gl2d")?r[x[0]]===f&&r[x[1]]===a&&e.push(r):r[x]===l&&e.push(r);return e}},75071:function(tt,W,t){"use strict";var A=t(16825),g=t(1195),i=t(48956),P=t(85555),E=t(38520);function l(e,r){this.element=e,this.plot=r,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}tt.exports=function x(e){var r=e.mouseContainer,f=e.glplot,a=new l(r,f);function s(){e.xaxis.autorange=!1,e.yaxis.autorange=!1}function u(y,v,w){var m,S,d=e.calcDataBox(),o=f.viewBox,h=a.lastPos[0],M=a.lastPos[1],T=P.MINDRAG*f.pixelRatio,L=P.MINZOOM*f.pixelRatio;function b(N,k,O){var B=Math.min(k,O),z=Math.max(k,O);B!==z?(d[N]=B,d[N+2]=z,a.dataBox=d,e.setRanges(d)):(e.selectBox.selectBox=[0,0,1,1],e.glplot.setDirty())}switch(v*=f.pixelRatio,w=o[3]-o[1]-(w*=f.pixelRatio),e.fullLayout.dragmode){case"zoom":if(y){var n=v/(o[2]-o[0])*(d[2]-d[0])+d[0],C=w/(o[3]-o[1])*(d[3]-d[1])+d[1];a.boxInited||(a.boxStart[0]=n,a.boxStart[1]=C,a.dragStart[0]=v,a.dragStart[1]=w),a.boxEnd[0]=n,a.boxEnd[1]=C,a.boxInited=!0,!a.boxEnabled&&(a.boxStart[0]!==a.boxEnd[0]||a.boxStart[1]!==a.boxEnd[1])&&(a.boxEnabled=!0);var p=Math.abs(a.dragStart[0]-v)<L,F=Math.abs(a.dragStart[1]-w)<L;if(!function c(){for(var y=e.graphDiv._fullLayout._axisConstraintGroups,v=e.xaxis._id,w=e.yaxis._id,d=0;d<y.length;d++)if(-1!==y[d][v]){if(-1!==y[d][w])return!0;break}return!1}()||p&&F)p&&(a.boxEnd[0]=a.boxStart[0]),F&&(a.boxEnd[1]=a.boxStart[1]);else{m=a.boxEnd[0]-a.boxStart[0],S=a.boxEnd[1]-a.boxStart[1];var D=(d[3]-d[1])/(d[2]-d[0]);Math.abs(m*D)>Math.abs(S)?(a.boxEnd[1]=a.boxStart[1]+Math.abs(m)*D*(S>=0?1:-1),a.boxEnd[1]<d[1]?(a.boxEnd[1]=d[1],a.boxEnd[0]=a.boxStart[0]+(d[1]-a.boxStart[1])/Math.abs(D)):a.boxEnd[1]>d[3]&&(a.boxEnd[1]=d[3],a.boxEnd[0]=a.boxStart[0]+(d[3]-a.boxStart[1])/Math.abs(D))):(a.boxEnd[0]=a.boxStart[0]+Math.abs(S)/D*(m>=0?1:-1),a.boxEnd[0]<d[0]?(a.boxEnd[0]=d[0],a.boxEnd[1]=a.boxStart[1]+(d[0]-a.boxStart[0])*Math.abs(D)):a.boxEnd[0]>d[2]&&(a.boxEnd[0]=d[2],a.boxEnd[1]=a.boxStart[1]+(d[2]-a.boxStart[0])*Math.abs(D)))}}else a.boxEnabled?(S=a.boxStart[1]!==a.boxEnd[1],(m=a.boxStart[0]!==a.boxEnd[0])||S?(m&&(b(0,a.boxStart[0],a.boxEnd[0]),e.xaxis.autorange=!1),S&&(b(1,a.boxStart[1],a.boxEnd[1]),e.yaxis.autorange=!1),e.relayoutCallback()):e.glplot.setDirty(),a.boxEnabled=!1,a.boxInited=!1):a.boxInited&&(a.boxInited=!1);break;case"pan":a.boxEnabled=!1,a.boxInited=!1,y?(a.panning||(a.dragStart[0]=v,a.dragStart[1]=w),Math.abs(a.dragStart[0]-v)<T&&(v=a.dragStart[0]),Math.abs(a.dragStart[1]-w)<T&&(w=a.dragStart[1]),S=(M-w)*(d[3]-d[1])/(f.viewBox[3]-f.viewBox[1]),d[0]+=m=(h-v)*(d[2]-d[0])/(f.viewBox[2]-f.viewBox[0]),d[2]+=m,d[1]+=S,d[3]+=S,e.setRanges(d),a.panning=!0,a.lastInputTime=Date.now(),s(),e.cameraChanged(),e.handleAnnotations()):a.panning&&(a.panning=!1,e.relayoutCallback())}a.lastPos[0]=v,a.lastPos[1]=w}return a.mouseListener=A(r,u),r.addEventListener("touchstart",function(y){var v=i(y.changedTouches[0],r);u(0,v[0],v[1]),u(1,v[0],v[1]),y.preventDefault()},!!E&&{passive:!1}),r.addEventListener("touchmove",function(y){y.preventDefault();var v=i(y.changedTouches[0],r);u(1,v[0],v[1]),y.preventDefault()},!!E&&{passive:!1}),r.addEventListener("touchend",function(y){u(0,a.lastPos[0],a.lastPos[1]),y.preventDefault()},!!E&&{passive:!1}),a.wheelListener=g(r,function(y,v){if(!e.scrollZoom)return!1;var w=e.calcDataBox(),d=f.viewBox,o=a.lastPos[0],h=a.lastPos[1],M=Math.exp(5*v/(d[3]-d[1])),T=o/(d[2]-d[0])*(w[2]-w[0])+w[0],L=h/(d[3]-d[1])*(w[3]-w[1])+w[1];return w[0]=(w[0]-T)*M+T,w[2]=(w[2]-T)*M+T,w[1]=(w[1]-L)*M+L,w[3]=(w[3]-L)*M+L,e.setRanges(w),a.lastInputTime=Date.now(),s(),e.cameraChanged(),e.handleAnnotations(),e.relayoutCallback(),!0},!0),a}},82961:function(tt,W,t){"use strict";var A=t(89298),g=t(78614);function i(x){this.scene=x,this.gl=x.gl,this.pixelRatio=x.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var P=i.prototype,E=["xaxis","yaxis"];P.merge=function(x){var e,r,f,a,s,c,u,y,v,w,d;for(this.titleEnable=!1,this.backgroundColor=g(x.plot_bgcolor),w=0;w<2;++w){var o=(e=E[w]).charAt(0);for(f=(r=x[this.scene[e]._name]).title.text===this.scene.fullLayout._dfltTitle[o]?"":r.title.text,d=0;d<=2;d+=2)this.labelEnable[w+d]=!1,this.labels[w+d]=f,this.labelColor[w+d]=g(r.title.font.color),this.labelFont[w+d]=r.title.font.family,this.labelSize[w+d]=r.title.font.size,this.labelPad[w+d]=this.getLabelPad(e,r),this.tickEnable[w+d]=!1,this.tickColor[w+d]=g((r.tickfont||{}).color),this.tickAngle[w+d]="auto"===r.tickangle?0:Math.PI*-r.tickangle/180,this.tickPad[w+d]=this.getTickPad(r),this.tickMarkLength[w+d]=0,this.tickMarkWidth[w+d]=r.tickwidth||0,this.tickMarkColor[w+d]=g(r.tickcolor),this.borderLineEnable[w+d]=!1,this.borderLineColor[w+d]=g(r.linecolor),this.borderLineWidth[w+d]=r.linewidth||0;u=this.hasSharedAxis(r),s=this.hasAxisInDfltPos(e,r)&&!u,c=this.hasAxisInAltrPos(e,r)&&!u,a=r.mirror||!1,y=u?-1!==String(a).indexOf("all"):!!a,v=u?"allticks"===a:-1!==String(a).indexOf("ticks"),s?this.labelEnable[w]=!0:c&&(this.labelEnable[w+2]=!0),s?this.tickEnable[w]=r.showticklabels:c&&(this.tickEnable[w+2]=r.showticklabels),(s||y)&&(this.borderLineEnable[w]=r.showline),(c||y)&&(this.borderLineEnable[w+2]=r.showline),(s||v)&&(this.tickMarkLength[w]=this.getTickMarkLength(r)),(c||v)&&(this.tickMarkLength[w+2]=this.getTickMarkLength(r)),this.gridLineEnable[w]=r.showgrid,this.gridLineColor[w]=g(r.gridcolor),this.gridLineWidth[w]=r.gridwidth,this.zeroLineEnable[w]=r.zeroline,this.zeroLineColor[w]=g(r.zerolinecolor),this.zeroLineWidth[w]=r.zerolinewidth}},P.hasSharedAxis=function(x){var e=this.scene;return 0!==A.findSubplotsWithAxis(e.fullLayout._subplots.gl2d,x).indexOf(e.id)},P.hasAxisInDfltPos=function(x,e){var r=e.side;return"xaxis"===x?"bottom"===r:"yaxis"===x?"left"===r:void 0},P.hasAxisInAltrPos=function(x,e){var r=e.side;return"xaxis"===x?"top"===r:"yaxis"===x?"right"===r:void 0},P.getLabelPad=function(x,e){var r=1.5,f=e.title.font.size,a=e.showticklabels;return"xaxis"===x?"top"===e.side?f*(r+(a?1:0))-10:f*(r+(a?.5:0))-10:"yaxis"===x?"right"===e.side?10+f*(r+(a?1:.5)):10+f*(r+(a?.5:0)):void 0},P.getTickPad=function(x){return"outside"===x.ticks?10+x.ticklen:15},P.getTickMarkLength=function(x){if(!x.ticks)return 0;var e=x.ticklen;return"inside"===x.ticks?-e:e},tt.exports=function l(x){return new i(x)}},4796:function(tt,W,t){"use strict";var A=t(30962).overrideAll,g=t(92918),i=t(10820),P=t(77922),E=t(85555),l=t(93612),x=t(528),e=t(27659).NG;W.name="gl2d",W.attr=["xaxis","yaxis"],W.idRoot=["x","y"],W.idRegex=E.idRegex,W.attrRegex=E.attrRegex,W.attributes=t(89502),W.supplyLayoutDefaults=function(r,f,a){f._has("cartesian")||l.supplyLayoutDefaults(r,f,a)},W.layoutAttrOverrides=A(l.layoutAttributes,"plot","from-root"),W.baseLayoutAttrOverrides=A({plot_bgcolor:i.plot_bgcolor,hoverlabel:x.hoverlabel},"plot","nested"),W.plot=function(f){for(var a=f._fullLayout,s=f._fullData,c=a._subplots.gl2d,u=0;u<c.length;u++){var y=c[u],v=a._plots[y],w=e(s,"gl2d",y),d=v._scene2d;void 0===d&&(d=new g({id:y,graphDiv:f,container:f.querySelector(".gl-container"),staticPlot:f._context.staticPlot,plotGlPixelRatio:f._context.plotGlPixelRatio},a),v._scene2d=d),d.plot(w,f.calcdata,a,f.layout)}},W.clean=function(r,f,a,s){for(var c=s._subplots.gl2d||[],u=0;u<c.length;u++){var y=c[u],v=s._plots[y];v._scene2d&&0===e(r,"gl2d",y).length&&(v._scene2d.destroy(),delete s._plots[y])}l.clean.apply(this,arguments)},W.drawFramework=function(r){r._context.staticPlot||l.drawFramework(r)},W.toSVG=function(r){for(var f=r._fullLayout,a=f._subplots.gl2d,s=0;s<a.length;s++){var u=f._plots[a[s]]._scene2d,y=u.toImage("png");f._glimages.append("svg:image").attr({xmlns:P.svg,"xlink:href":y,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),u.destroy()}},W.updateFx=function(r){for(var f=r._fullLayout,a=f._subplots.gl2d,s=0;s<a.length;s++)f._plots[a[s]]._scene2d.updateFx(f.dragmode)}},92918:function(tt,W,t){"use strict";var o,h,A=t(73972),g=t(89298),i=t(30211),P=t(9330).gl_plot2d,E=t(9330).gl_spikes2d,l=t(9330).gl_select_box,x=t(40372),e=t(82961),r=t(75071),f=t(58617),a=t(99082),s=a.enforce,c=a.clean,u=t(71739).doAutoRange,y=t(64505),v=y.drawMode,w=y.selectMode,d=["xaxis","yaxis"],M=t(85555).SUBPLOT_PATTERN;function T(S,b){this.container=S.container,this.graphDiv=S.graphDiv,this.pixelRatio=S.plotGlPixelRatio||window.devicePixelRatio,this.id=S.id,this.staticPlot=!!S.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(b),this.makeFramework(),!this.stopped&&(this.glplotOptions=e(this),this.glplotOptions.merge(b),this.glplot=P(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=E(this.glplot),this.selectBox=l(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}tt.exports=T;var L=T.prototype;L.makeFramework=function(){if(this.staticPlot){if(!(h||(o=document.createElement("canvas"),h=x({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=h}else{var S=this.container.querySelector(".gl-canvas-focus"),b=x({canvas:S,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!b)return f(this),void(this.stopped=!0);this.canvas=S,this.gl=b}var n=this.canvas;n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style["pointer-events"]="none",this.updateSize(n);var C=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");C.style.position="absolute",C.style.top=C.style.left="0px",C.style.width=C.style.height="100%",C.style["z-index"]=20,C.style["pointer-events"]="none";var p=this.mouseContainer=document.createElement("div");p.style.position="absolute",p.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var F=this.container;F.appendChild(C),F.appendChild(p);var D=this;p.addEventListener("mouseout",function(){D.isMouseOver=!1,D.unhover()}),p.addEventListener("mouseover",function(){D.isMouseOver=!0})},L.toImage=function(S){S||(S="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var b=this.glplot.gl,n=b.drawingBufferWidth,C=b.drawingBufferHeight;b.clearColor(1,1,1,0),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),b.bindFramebuffer(b.FRAMEBUFFER,null);var p=new Uint8Array(n*C*4);b.readPixels(0,0,n,C,b.RGBA,b.UNSIGNED_BYTE,p);for(var F=0,D=C-1;F<D;++F,--D)for(var N=0;N<n;++N)for(var k=0;k<4;++k){var O=p[4*(n*F+N)+k];p[4*(n*F+N)+k]=p[4*(n*D+N)+k],p[4*(n*D+N)+k]=O}var B=document.createElement("canvas");B.width=n,B.height=C;var G,z=B.getContext("2d",{willReadFrequently:!0}),U=z.createImageData(n,C);switch(U.data.set(p),z.putImageData(U,0,0),S){case"jpeg":G=B.toDataURL("image/jpeg");break;case"webp":G=B.toDataURL("image/webp");break;default:G=B.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),G},L.updateSize=function(S){S||(S=this.canvas);var b=this.pixelRatio,n=this.fullLayout,p=n.height,F=0|Math.ceil(b*n.width),D=0|Math.ceil(b*p);return(S.width!==F||S.height!==D)&&(S.width=F,S.height=D),S},L.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var S=[g.calcTicks(this.xaxis),g.calcTicks(this.yaxis)],b=0;b<2;++b)for(var n=0;n<S[b].length;++n)S[b][n].text=S[b][n].text+"";return S},L.updateRefs=function(S){this.fullLayout=S;var b=this.id.match(M),C="yaxis"+b[2];this.xaxis=this.fullLayout["xaxis"+b[1]],this.yaxis=this.fullLayout[C]},L.relayoutCallback=function(){var S=this.graphDiv,b=this.xaxis,n=this.yaxis,C=S.layout,p={},F=p[b._name+".range"]=b.range.slice(),D=p[n._name+".range"]=n.range.slice();p[b._name+".autorange"]=b.autorange,p[n._name+".autorange"]=n.autorange,A.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,p);var N=C[b._name];N.range=F,N.autorange=b.autorange;var k=C[n._name];k.range=D,k.autorange=n.autorange,p.lastInputTime=this.camera.lastInputTime,S.emit("plotly_relayout",p)},L.cameraChanged=function(){var S=this.camera;this.glplot.setDataBox(this.calcDataBox());var b=this.computeTickMarks();(function m(S,b){for(var n=0;n<2;++n){var C=S[n],p=b[n];if(C.length!==p.length)return!0;for(var F=0;F<C.length;++F)if(C[F].x!==p[F].x)return!0}return!1})(b,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=b,this.glplotOptions.dataBox=S.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},L.handleAnnotations=function(){for(var S=this.graphDiv,b=this.fullLayout.annotations,n=0;n<b.length;n++){var C=b[n];C.xref===this.xaxis._id&&C.yref===this.yaxis._id&&A.getComponentMethod("annotations","drawOne")(S,n)}},L.destroy=function(){if(this.glplot){var S=this.traces;S&&Object.keys(S).map(function(b){S[b].dispose(),delete S[b]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},L.plot=function(S,b,n){var C=this.glplot;this.updateRefs(n),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(S,b),this.updateFx(n.dragmode);var p=n.width,F=n.height;this.updateSize(this.canvas);var D=this.glplotOptions;D.merge(n),D.screenBox=[0,0,p,F];var N={_fullLayout:{_axisConstraintGroups:n._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:n._size}};c(N,this.xaxis),c(N,this.yaxis);var z,U,k=n._size,O=this.xaxis.domain,B=this.yaxis.domain;for(D.viewBox=[k.l+O[0]*k.w,k.b+B[0]*k.h,p-k.r-(1-O[1])*k.w,F-k.t-(1-B[1])*k.h],this.mouseContainer.style.width=k.w*(O[1]-O[0])+"px",this.mouseContainer.style.height=k.h*(B[1]-B[0])+"px",this.mouseContainer.height=k.h*(B[1]-B[0]),this.mouseContainer.style.left=k.l+O[0]*k.w+"px",this.mouseContainer.style.top=k.t+(1-B[1])*k.h+"px",U=0;U<2;++U)(z=this[d[U]])._length=D.viewBox[U+2]-D.viewBox[U],u(this.graphDiv,z),z.setScale();s(N),D.ticks=this.computeTickMarks(),D.dataBox=this.calcDataBox(),D.merge(n),C.update(D),this.glplot.draw()},L.calcDataBox=function(){var S=this.xaxis,b=this.yaxis,n=S.range,C=b.range,p=S.r2l,F=b.r2l;return[p(n[0]),F(C[0]),p(n[1]),F(C[1])]},L.setRanges=function(S){var b=this.xaxis,n=this.yaxis,C=b.l2r,p=n.l2r;b.range=[C(S[0]),C(S[2])],n.range=[p(S[1]),p(S[3])]},L.updateTraces=function(S,b){var C,p,F,n=Object.keys(this.traces);this.fullData=S;t:for(C=0;C<n.length;C++){var D=n[C],N=this.traces[D];for(p=0;p<S.length;p++)if((F=S[p]).uid===D&&F.type===N.type)continue t;N.dispose(),delete this.traces[D]}for(C=0;C<S.length;C++){var k=b[C],O=this.traces[(F=S[C]).uid];O?O.update(F,k):(O=F._module.plot(this,F,k),this.traces[F.uid]=O)}this.glplot.objects.sort(function(B,z){return B._trace.index-z._trace.index})},L.updateFx=function(S){w(S)||v(S)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===S?"move":"zoom"===S?"crosshair":null},L.emitPointAction=function(S,b){for(var p,n=S.trace.uid,C=S.pointIndex,F=0;F<this.fullData.length;F++)this.fullData[F].uid===n&&(p=this.fullData[F]);var D={x:S.traceCoord[0],y:S.traceCoord[1],curveNumber:p.index,pointNumber:C,data:p._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};i.appendArrayPointValue(D,p,C),this.graphDiv.emit(b,{points:[D]})},L.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var S=this.glplot,b=this.camera,n=b.mouseListener,C=1===this.lastButtonState&&0===n.buttons,p=this.fullLayout;this.lastButtonState=n.buttons,this.cameraChanged();var N,F=n.x*S.pixelRatio,D=this.canvas.height-S.pixelRatio*n.y;if(b.boxEnabled&&"zoom"===p.dragmode){this.selectBox.enabled=!0;for(var k=this.selectBox.selectBox=[Math.min(b.boxStart[0],b.boxEnd[0]),Math.min(b.boxStart[1],b.boxEnd[1]),Math.max(b.boxStart[0],b.boxEnd[0]),Math.max(b.boxStart[1],b.boxEnd[1])],O=0;O<2;O++)b.boxStart[O]===b.boxEnd[O]&&(k[O]=S.dataBox[O],k[O+2]=S.dataBox[O+2]);S.setDirty()}else if(!b.panning&&this.isMouseOver){this.selectBox.enabled=!1;var B=p._size,G=(N=S.pick(F/S.pixelRatio+B.l+this.xaxis.domain[0]*B.w,D/S.pixelRatio-(B.t+(1-this.yaxis.domain[1])*B.h)))&&N.object._trace.handlePick(N);if(G&&C&&this.emitPointAction(G,"plotly_click"),N&&"skip"!==N.object._trace.hoverinfo&&p.hovermode&&G&&(!this.lastPickResult||this.lastPickResult.traceUid!==G.trace.uid||this.lastPickResult.dataCoord[0]!==G.dataCoord[0]||this.lastPickResult.dataCoord[1]!==G.dataCoord[1])){var Q=G;this.lastPickResult={traceUid:G.trace?G.trace.uid:null,dataCoord:G.dataCoord.slice()},this.spikes.update({center:N.dataCoord}),Q.screenCoord=[((S.viewBox[2]-S.viewBox[0])*(N.dataCoord[0]-S.dataBox[0])/(S.dataBox[2]-S.dataBox[0])+S.viewBox[0])/S.pixelRatio,(this.canvas.height-(S.viewBox[3]-S.viewBox[1])*(N.dataCoord[1]-S.dataBox[1])/(S.dataBox[3]-S.dataBox[1])-S.viewBox[1])/S.pixelRatio],this.emitPointAction(G,"plotly_hover");var rt=this.fullData[Q.trace.index]||{},it=Q.pointIndex,ut=i.castHoverinfo(rt,p,it);if(ut&&"all"!==ut){var J=ut.split("+");-1===J.indexOf("x")&&(Q.traceCoord[0]=void 0),-1===J.indexOf("y")&&(Q.traceCoord[1]=void 0),-1===J.indexOf("z")&&(Q.traceCoord[2]=void 0),-1===J.indexOf("text")&&(Q.textLabel=void 0),-1===J.indexOf("name")&&(Q.name=void 0)}i.loneHover({x:Q.screenCoord[0],y:Q.screenCoord[1],xLabel:this.hoverFormatter("xaxis",Q.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",Q.traceCoord[1]),zLabel:Q.traceCoord[2],text:Q.textLabel,name:Q.name,color:i.castHoverOption(rt,it,"bgcolor")||Q.color,borderColor:i.castHoverOption(rt,it,"bordercolor"),fontFamily:i.castHoverOption(rt,it,"font.family"),fontSize:i.castHoverOption(rt,it,"font.size"),fontColor:i.castHoverOption(rt,it,"font.color"),nameLength:i.castHoverOption(rt,it,"namelength"),textAlign:i.castHoverOption(rt,it,"align")},{container:this.svgContainer,gd:this.graphDiv})}}N||this.unhover(),S.draw()}},L.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),i.loneUnhover(this.svgContainer))},L.hoverFormatter=function(S,b){if(void 0!==b){var n=this[S];return g.tickText(n,n.c2l(b),"hover").text}}},58547:function(tt,W,t){"use strict";var A=t(30962).overrideAll,g=t(528),i=t(33539),P=t(27659).NG,E=t(71828),l=t(77922),x="gl3d",e="scene";W.name=x,W.attr=e,W.idRoot=e,W.idRegex=W.attrRegex=E.counterRegex("scene"),W.attributes=t(59084),W.layoutAttributes=t(65500),W.baseLayoutAttrOverrides=A({hoverlabel:g.hoverlabel},"plot","nested"),W.supplyLayoutDefaults=t(24682),W.plot=function(f){for(var a=f._fullLayout,s=f._fullData,c=a._subplots[x],u=0;u<c.length;u++){var y=c[u],v=P(s,x,y),w=a[y],d=w.camera,o=w._scene;o||(o=new i({id:y,graphDiv:f,container:f.querySelector(".gl-container"),staticPlot:f._context.staticPlot,plotGlPixelRatio:f._context.plotGlPixelRatio,camera:d},a),w._scene=o),o.viewInitial||(o.viewInitial={up:{x:d.up.x,y:d.up.y,z:d.up.z},eye:{x:d.eye.x,y:d.eye.y,z:d.eye.z},center:{x:d.center.x,y:d.center.y,z:d.center.z}}),o.plot(v,a,f.layout)}},W.clean=function(r,f,a,s){for(var c=s._subplots[x]||[],u=0;u<c.length;u++){var y=c[u];!f[y]&&s[y]._scene&&(s[y]._scene.destroy(),s._infolayer&&s._infolayer.selectAll(".annotation-"+y).remove())}},W.toSVG=function(r){for(var f=r._fullLayout,a=f._subplots[x],s=f._size,c=0;c<a.length;c++){var u=f[a[c]],y=u.domain,v=u._scene,w=v.toImage("png");f._glimages.append("svg:image").attr({xmlns:l.svg,"xlink:href":w,x:s.l+s.w*y.x[0],y:s.t+s.h*(1-y.y[1]),width:s.w*(y.x[1]-y.x[0]),height:s.h*(y.y[1]-y.y[0]),preserveAspectRatio:"none"}),v.destroy()}},W.cleanId=function(f){if(f.match(/^scene[0-9]*$/)){var a=f.substr(5);return"1"===a&&(a=""),e+a}},W.updateFx=function(r){for(var f=r._fullLayout,a=f._subplots[x],s=0;s<a.length;s++)f[a[s]]._scene.updateFx(f.dragmode,f.hovermode)}},59084:function(tt){"use strict";tt.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(tt,W,t){"use strict";var A=t(7901),g=t(13838),i=t(1426).extendFlat,P=t(30962).overrideAll;tt.exports=P({visible:g.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:A.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:g.color,categoryorder:g.categoryorder,categoryarray:g.categoryarray,title:{text:g.title.text,font:g.title.font},type:i({},g.type,{values:["-","linear","log","date","category"]}),autotypenumbers:g.autotypenumbers,autorange:g.autorange,rangemode:g.rangemode,range:i({},g.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:g.ticks,mirror:g.mirror,ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:g.tickfont,tickangle:g.tickangle,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,showexponent:g.showexponent,exponentformat:g.exponentformat,minexponent:g.minexponent,separatethousands:g.separatethousands,tickformat:g.tickformat,tickformatstops:g.tickformatstops,hoverformat:g.hoverformat,showline:g.showline,linecolor:g.linecolor,linewidth:g.linewidth,showgrid:g.showgrid,gridcolor:i({},g.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:g.gridwidth,zeroline:g.zeroline,zerolinecolor:g.zerolinecolor,zerolinewidth:g.zerolinewidth,_deprecated:{title:g._deprecated.title,titlefont:g._deprecated.titlefont}},"plot","from-root")},3277:function(tt,W,t){"use strict";var A=t(84267).mix,g=t(71828),i=t(44467),P=t(77894),E=t(951),l=t(71453),x=["xaxis","yaxis","zaxis"];tt.exports=function(f,a,s){var c,u;function y(d,o){return g.coerce(c,u,P,d,o)}for(var v=0;v<x.length;v++){var w=x[v];c=f[w]||{},(u=i.newContainer(a,w))._id=w[0]+s.scene,u._name=w,E(c,u,y,s),l(c,u,y,{font:s.font,letter:w[0],data:s.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:s.bgColor,calendar:s.calendar},s.fullLayout),y("gridcolor",A(u.color,s.bgColor,72.72727272727273).toRgbString()),y("title.text",w[0]),u.setScale=g.noop,y("showspikes")&&(y("spikesides"),y("spikethickness"),y("spikecolor",u.color)),y("showaxeslabels"),y("showbackground")&&y("backgroundcolor")}}},30422:function(tt,W,t){"use strict";var A=t(78614),g=t(71828),i=["xaxis","yaxis","zaxis"];function P(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}P.prototype.merge=function(x,e){for(var r=this,f=0;f<3;++f){var a=e[i[f]];a.visible?(r.labels[f]=x._meta?g.templateString(a.title.text,x._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(r.labelColor[f]=A(a.title.font.color)),a.title.font.family&&(r.labelFont[f]=a.title.font.family),a.title.font.size&&(r.labelSize[f]=a.title.font.size)),"showline"in a&&(r.lineEnable[f]=a.showline),"linecolor"in a&&(r.lineColor[f]=A(a.linecolor)),"linewidth"in a&&(r.lineWidth[f]=a.linewidth),"showgrid"in a&&(r.gridEnable[f]=a.showgrid),"gridcolor"in a&&(r.gridColor[f]=A(a.gridcolor)),"gridwidth"in a&&(r.gridWidth[f]=a.gridwidth),"log"===a.type?r.zeroEnable[f]=!1:"zeroline"in a&&(r.zeroEnable[f]=a.zeroline),"zerolinecolor"in a&&(r.zeroLineColor[f]=A(a.zerolinecolor)),"zerolinewidth"in a&&(r.zeroLineWidth[f]=a.zerolinewidth),r.lineTickEnable[f]=!(!("ticks"in a)||!a.ticks),"ticklen"in a&&(r.lineTickLength[f]=r._defaultLineTickLength[f]=a.ticklen),"tickcolor"in a&&(r.lineTickColor[f]=A(a.tickcolor)),"tickwidth"in a&&(r.lineTickWidth[f]=a.tickwidth),"tickangle"in a&&(r.tickAngle[f]="auto"===a.tickangle?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(r.tickEnable[f]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(r.tickColor[f]=A(a.tickfont.color)),a.tickfont.family&&(r.tickFont[f]=a.tickfont.family),a.tickfont.size&&(r.tickSize[f]=a.tickfont.size)),"mirror"in a?-1!==["ticks","all","allticks"].indexOf(a.mirror)?(r.lineTickMirror[f]=!0,r.lineMirror[f]=!0):!0===a.mirror?(r.lineTickMirror[f]=!1,r.lineMirror[f]=!0):(r.lineTickMirror[f]=!1,r.lineMirror[f]=!1):r.lineMirror[f]=!1,"showbackground"in a&&!1!==a.showbackground?(r.backgroundEnable[f]=!0,r.backgroundColor[f]=A(a.backgroundcolor)):r.backgroundEnable[f]=!1):(r.tickEnable[f]=!1,r.labelEnable[f]=!1,r.lineEnable[f]=!1,r.lineTickEnable[f]=!1,r.gridEnable[f]=!1,r.zeroEnable[f]=!1,r.backgroundEnable[f]=!1)}},tt.exports=function l(x,e){var r=new P;return r.merge(x,e),r}},24682:function(tt,W,t){"use strict";var A=t(71828),g=t(7901),i=t(73972),P=t(49119),E=t(3277),l=t(65500),x=t(27659).NG,e="gl3d";function r(f,a,s,c){for(var u=s("bgcolor"),y=g.combine(u,c.paper_bgcolor),v=["up","center","eye"],w=0;w<v.length;w++)s("camera."+v[w]+".x"),s("camera."+v[w]+".y"),s("camera."+v[w]+".z");s("camera.projection.type");var d=!!s("aspectratio.x")&&!!s("aspectratio.y")&&!!s("aspectratio.z"),h=s("aspectmode",d?"manual":"auto");d||(f.aspectratio=a.aspectratio={x:1,y:1,z:1},"manual"===h&&(a.aspectmode="auto"),f.aspectmode=a.aspectmode);var M=x(c.fullData,e,c.id);E(f,a,{font:c.font,scene:c.id,data:M,bgColor:y,calendar:c.calendar,autotypenumbersDflt:c.autotypenumbersDflt,fullLayout:c.fullLayout}),i.getComponentMethod("annotations3d","handleDefaults")(f,a,c);var T=c.getDfltFromLayout("dragmode");if(!1!==T&&!T)if(T="orbit",f.camera&&f.camera.up){var L=f.camera.up.x,m=f.camera.up.y,S=f.camera.up.z;0!==S&&(!L||!m||!S||S/Math.sqrt(L*L+m*m+S*S)>.999)&&(T="turntable")}else T="turntable";s("dragmode",T),s("hovermode",c.getDfltFromLayout("hovermode"))}tt.exports=function(a,s,c){var u=s._basePlotModules.length>1;P(a,s,c,{type:e,attributes:l,handleDefaults:r,fullLayout:s,font:s.font,fullData:c,getDfltFromLayout:function y(v){if(!u&&A.validate(a[v],l[v]))return a[v]},autotypenumbersDflt:s.autotypenumbers,paper_bgcolor:s.paper_bgcolor,calendar:s.calendar})}},65500:function(tt,W,t){"use strict";var A=t(77894),g=t(27670).Y,i=t(1426).extendFlat,P=t(71828).counterRegex;function E(l,x,e){return{x:{valType:"number",dflt:l,editType:"camera"},y:{valType:"number",dflt:x,editType:"camera"},z:{valType:"number",dflt:e,editType:"camera"},editType:"camera"}}tt.exports={_arrayAttrRegexps:[P("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:i(E(0,0,1),{}),center:i(E(0,0,0),{}),eye:i(E(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:g({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:A,yaxis:A,zaxis:A,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(tt,W,t){"use strict";var A=t(78614),g=["xaxis","yaxis","zaxis"];function i(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}i.prototype.merge=function(l){for(var x=0;x<3;++x){var e=l[g[x]];e.visible?(this.enabled[x]=e.showspikes,this.colors[x]=A(e.spikecolor),this.drawSides[x]=e.spikesides,this.lineWidth[x]=e.spikethickness):(this.enabled[x]=!1,this.drawSides[x]=!1)}},tt.exports=function E(l){var x=new i;return x.merge(l),x}},96085:function(tt,W,t){"use strict";tt.exports=function l(x){for(var e=x.axesOptions,r=x.glplot.axesPixels,f=x.fullSceneLayout,a=[[],[],[]],s=0;s<3;++s){var c=f[i[s]];if(c._length=(r[s].hi-r[s].lo)*r[s].pixelsPerDataUnit/x.dataScale[s],Math.abs(c._length)===1/0||isNaN(c._length))a[s]=[];else{c._input_range=c.range.slice(),c.range[0]=r[s].lo/x.dataScale[s],c.range[1]=r[s].hi/x.dataScale[s],c._m=1/(x.dataScale[s]*r[s].pixelsPerDataUnit),c.range[0]===c.range[1]&&(c.range[0]-=1,c.range[1]+=1);var u=c.tickmode;if("auto"===c.tickmode){c.tickmode="linear";var y=c.nticks||g.constrain(c._length/40,4,9);A.autoTicks(c,Math.abs(c.range[1]-c.range[0])/y)}for(var v=A.calcTicks(c,{msUTC:!0}),w=0;w<v.length;++w)v[w].x=v[w].x*x.dataScale[s],"date"===c.type&&(v[w].text=v[w].text.replace(/\<br\>/g," "));a[s]=v,c.tickmode=u}}for(e.ticks=a,s=0;s<3;++s)for(P[s]=.5*(x.glplot.bounds[0][s]+x.glplot.bounds[1][s]),w=0;w<2;++w)e.bounds[w][s]=x.glplot.bounds[w][s];x.contourLevels=function E(x){for(var e=new Array(3),r=0;r<3;++r){for(var f=x[r],a=new Array(f.length),s=0;s<f.length;++s)a[s]=f[s].x;e[r]=a}return e}(a)};var A=t(89298),g=t(71828),i=["xaxis","yaxis","zaxis"],P=[0,0,0]},63538:function(tt){"use strict";function W(A,g){var P,E,i=[0,0,0,0];for(P=0;P<4;++P)for(E=0;E<4;++E)i[E]+=A[4*P+E]*g[P];return i}tt.exports=function t(A,g){return W(A.projection,W(A.view,W(A.model,[g[0],g[1],g[2],1])))}},33539:function(tt,W,t){"use strict";var w,d,A=t(9330).gl_plot3d,g=A.createCamera,i=A.createScene,P=t(40372),E=t(38520),l=t(73972),x=t(71828),e=x.preserveDrawingBuffer(),r=t(89298),f=t(30211),a=t(78614),s=t(58617),c=t(63538),u=t(30422),y=t(13133),v=t(96085),o=!1;function h(F,D){var N=document.createElement("div"),k=F.container;this.graphDiv=F.graphDiv;var O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",O.style["z-index"]=20,O.style["pointer-events"]="none",N.appendChild(O),this.svgContainer=O,N.id=F.id,N.style.position="absolute",N.style.top=N.style.left="0px",N.style.width=N.style.height="100%",k.appendChild(N),this.fullLayout=D,this.id=F.id||"scene",this.fullSceneLayout=D[this.id],this.plotArgs=[[],{},{}],this.axesOptions=u(D,D[this.id]),this.spikeOptions=y(D[this.id]),this.container=N,this.staticMode=!!F.staticPlot,this.pixelRatio=this.pixelRatio||F.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=l.getComponentMethod("annotations3d","convert"),this.drawAnnotations=l.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var M=h.prototype;M.prepareOptions=function(){var F=this,D={canvas:F.canvas,gl:F.gl,glOptions:{preserveDrawingBuffer:e,premultipliedAlpha:!0,antialias:!0},container:F.container,axes:F.axesOptions,spikes:F.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:F.camera,pixelRatio:F.pixelRatio};if(F.staticMode){if(!(d||(w=document.createElement("canvas"),d=P({canvas:w,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");D.gl=d,D.canvas=w}return D};var T=!0;M.tryCreatePlot=function(){var F=this,D=F.prepareOptions(),N=!0;try{F.glplot=i(D)}catch(k){if(F.staticMode||!T||e)N=!1;else{x.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{e=D.glOptions.preserveDrawingBuffer=!0,F.glplot=i(D)}catch(O){e=D.glOptions.preserveDrawingBuffer=!1,N=!1}}}return T=!1,N},M.initializeGLCamera=function(){var F=this,D=F.fullSceneLayout.camera;F.camera=g(F.container,{center:[D.center.x,D.center.y,D.center.z],eye:[D.eye.x,D.eye.y,D.eye.z],up:[D.up.x,D.up.y,D.up.z],_ortho:"orthographic"===D.projection.type,zoomMin:.01,zoomMax:100,mode:"orbit"})},M.initializeGLPlot=function(){var F=this;if(F.initializeGLCamera(),!F.tryCreatePlot())return s(F);F.traces={},F.make4thDimension();var N=F.graphDiv,k=N.layout,O=function(){var z={};return F.isCameraChanged(k)&&(z[F.id+".camera"]=F.getCamera()),F.isAspectChanged(k)&&(z[F.id+".aspectratio"]=F.glplot.getAspectratio(),"manual"!==k[F.id].aspectmode&&(F.fullSceneLayout.aspectmode=k[F.id].aspectmode=z[F.id+".aspectmode"]="manual")),z},B=function(z){if(!1!==z.fullSceneLayout.dragmode){var U=O();z.saveLayout(k),z.graphDiv.emit("plotly_relayout",U)}};return F.glplot.canvas&&(F.glplot.canvas.addEventListener("mouseup",function(){B(F)}),F.glplot.canvas.addEventListener("touchstart",function(){o=!0}),F.glplot.canvas.addEventListener("wheel",function(z){if(N._context._scrollZoom.gl3d){if(F.camera._ortho){var U=z.deltaX>z.deltaY?1.1:.9090909090909091,G=F.glplot.getAspectratio();F.glplot.setAspectratio({x:U*G.x,y:U*G.y,z:U*G.z})}B(F)}},!!E&&{passive:!1}),F.glplot.canvas.addEventListener("mousemove",function(){if(!1!==F.fullSceneLayout.dragmode&&0!==F.camera.mouseListener.buttons){var z=O();F.graphDiv.emit("plotly_relayouting",z)}}),F.staticMode||F.glplot.canvas.addEventListener("webglcontextlost",function(z){N&&N.emit&&N.emit("plotly_webglcontextlost",{event:z,layer:F.id})},!1)),F.glplot.oncontextloss=function(){F.recoverContext()},F.glplot.onrender=function(){F.render()},!0},M.render=function(){var N,F=this,D=F.graphDiv,k=F.svgContainer,O=F.container.getBoundingClientRect();D._fullLayout._calcInverseTransform(D);var U=O.width*D._fullLayout._invScaleX,G=O.height*D._fullLayout._invScaleY;k.setAttributeNS(null,"viewBox","0 0 "+U+" "+G),k.setAttributeNS(null,"width",U),k.setAttributeNS(null,"height",G),v(F),F.glplot.axes.update(F.axesOptions);for(var Q=Object.keys(F.traces),rt=null,it=F.glplot.selection,ut=0;ut<Q.length;++ut)"skip"!==(N=F.traces[Q[ut]]).data.hoverinfo&&N.handlePick(it)&&(rt=N),N.setContourLevels&&N.setContourLevels();function J(bt,Dt,Ft){var Mt=F.fullSceneLayout[bt+"axis"];return"log"!==Mt.type&&(Dt=Mt.d2l(Dt)),r.hoverLabelText(Mt,Dt,Ft)}if(null!==rt){var j=c(F.glplot.cameraParams,it.dataCoordinate),Z=D._fullData[(N=rt.data).index],H=it.index,X={xLabel:J("x",it.traceCoordinate[0],N.xhoverformat),yLabel:J("y",it.traceCoordinate[1],N.yhoverformat),zLabel:J("z",it.traceCoordinate[2],N.zhoverformat)},at=f.castHoverinfo(Z,F.fullLayout,H),_=(at||"").split("+"),K=at&&"all"===at;!Z.hovertemplate&&!K&&(-1===_.indexOf("x")&&(X.xLabel=void 0),-1===_.indexOf("y")&&(X.yLabel=void 0),-1===_.indexOf("z")&&(X.zLabel=void 0),-1===_.indexOf("text")&&(it.textLabel=void 0),-1===_.indexOf("name")&&(rt.name=void 0));var nt,et=[];"cone"===N.type||"streamtube"===N.type?(X.uLabel=J("x",it.traceCoordinate[3],N.uhoverformat),(K||-1!==_.indexOf("u"))&&et.push("u: "+X.uLabel),X.vLabel=J("y",it.traceCoordinate[4],N.vhoverformat),(K||-1!==_.indexOf("v"))&&et.push("v: "+X.vLabel),X.wLabel=J("z",it.traceCoordinate[5],N.whoverformat),(K||-1!==_.indexOf("w"))&&et.push("w: "+X.wLabel),X.normLabel=it.traceCoordinate[6].toPrecision(3),(K||-1!==_.indexOf("norm"))&&et.push("norm: "+X.normLabel),"streamtube"===N.type&&(X.divergenceLabel=it.traceCoordinate[7].toPrecision(3),(K||-1!==_.indexOf("divergence"))&&et.push("divergence: "+X.divergenceLabel)),it.textLabel&&et.push(it.textLabel),nt=et.join("<br>")):"isosurface"===N.type||"volume"===N.type?(X.valueLabel=r.hoverLabelText(F._mockAxis,F._mockAxis.d2l(it.traceCoordinate[3]),N.valuehoverformat),et.push("value: "+X.valueLabel),it.textLabel&&et.push(it.textLabel),nt=et.join("<br>")):nt=it.textLabel;var st={x:it.traceCoordinate[0],y:it.traceCoordinate[1],z:it.traceCoordinate[2],data:Z._input,fullData:Z,curveNumber:Z.index,pointNumber:H};f.appendArrayPointValue(st,Z,H),N._module.eventData&&(st=Z._module.eventData(st,it,Z,{},H));var dt={points:[st]};if(F.fullSceneLayout.hovermode){var Tt=[];f.loneHover({trace:Z,x:(.5+.5*j[0]/j[3])*U,y:(.5-.5*j[1]/j[3])*G,xLabel:X.xLabel,yLabel:X.yLabel,zLabel:X.zLabel,text:nt,name:rt.name,color:f.castHoverOption(Z,H,"bgcolor")||rt.color,borderColor:f.castHoverOption(Z,H,"bordercolor"),fontFamily:f.castHoverOption(Z,H,"font.family"),fontSize:f.castHoverOption(Z,H,"font.size"),fontColor:f.castHoverOption(Z,H,"font.color"),nameLength:f.castHoverOption(Z,H,"namelength"),textAlign:f.castHoverOption(Z,H,"align"),hovertemplate:x.castOption(Z,H,"hovertemplate"),hovertemplateLabels:x.extendFlat({},st,X),eventData:[st]},{container:k,gd:D,inOut_bbox:Tt}),st.bbox=Tt[0]}D.emit(it.distance<5&&(it.buttons||o)?"plotly_click":"plotly_hover",dt),this.oldEventData=dt}else f.loneUnhover(k),this.oldEventData&&D.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;F.drawAnnotations(F)},M.recoverContext=function(){var F=this;F.glplot.dispose();var D=function(){F.glplot.gl.isContextLost()?requestAnimationFrame(D):F.initializeGLPlot()?F.plot.apply(F,F.plotArgs):x.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(D)};var L=["xaxis","yaxis","zaxis"];function m(F,D,N){for(var k=F.fullSceneLayout,O=0;O<3;O++){var B=L[O],z=B.charAt(0),U=k[B],G=D[z],Q=D[z+"calendar"],rt=D["_"+z+"length"];if(x.isArrayOrTypedArray(G))for(var it,ut=0;ut<(rt||G.length);ut++)if(x.isArrayOrTypedArray(G[ut]))for(var J=0;J<G[ut].length;++J)it=U.d2l(G[ut][J],0,Q),!isNaN(it)&&isFinite(it)&&(N[0][O]=Math.min(N[0][O],it),N[1][O]=Math.max(N[1][O],it));else it=U.d2l(G[ut],0,Q),!isNaN(it)&&isFinite(it)&&(N[0][O]=Math.min(N[0][O],it),N[1][O]=Math.max(N[1][O],it));else N[0][O]=Math.min(N[0][O],0),N[1][O]=Math.max(N[1][O],rt-1)}}M.plot=function(F,D,N){var k=this;if(k.plotArgs=[F,D,N],!k.glplot.contextLost){var O,B,z,U,G,Q,rt=D[k.id],it=N[k.id];k.fullLayout=D,k.fullSceneLayout=rt,k.axesOptions.merge(D,rt),k.spikeOptions.merge(rt),k.setViewport(rt),k.updateFx(rt.dragmode,rt.hovermode),k.camera.enableWheel=k.graphDiv._context._scrollZoom.gl3d,k.glplot.setClearColor(a(rt.bgcolor)),k.setConvert(G),F?Array.isArray(F)||(F=[F]):F=[];var ut=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(z=0;z<F.length;++z)!0===(O=F[z]).visible&&0!==O._length&&m(this,O,ut);!function S(F,D){for(var N=F.fullSceneLayout,k=N.annotations||[],O=0;O<3;O++)for(var B=L[O],z=B.charAt(0),U=N[B],G=0;G<k.length;G++){var Q=k[G];if(Q.visible){var rt=U.r2l(Q[z]);!isNaN(rt)&&isFinite(rt)&&(D[0][O]=Math.min(D[0][O],rt),D[1][O]=Math.max(D[1][O],rt))}}}(this,ut);var J=[1,1,1];for(U=0;U<3;++U)J[U]=ut[1][U]===ut[0][U]?1:1/(ut[1][U]-ut[0][U]);for(k.dataScale=J,k.convertAnnotations(this),z=0;z<F.length;++z)!0===(O=F[z]).visible&&0!==O._length&&((B=k.traces[O.uid])?B.data.type===O.type?B.update(O):(B.dispose(),B=O._module.plot(this,O),k.traces[O.uid]=B):(B=O._module.plot(this,O),k.traces[O.uid]=B),B.name=O.name);var j=Object.keys(k.traces);t:for(z=0;z<j.length;++z){for(U=0;U<F.length;++U)if(F[U].uid===j[z]&&!0===F[U].visible&&0!==F[U]._length)continue t;(B=k.traces[j[z]]).dispose(),delete k.traces[j[z]]}k.glplot.objects.sort(function(_t,kt){return _t._trace.data.index-kt._trace.data.index});var Z=[[0,0,0],[0,0,0]],H=[],X={};for(z=0;z<3;++z){if((Q=(G=rt[L[z]]).type)in X?(X[Q].acc*=J[z],X[Q].count+=1):X[Q]={acc:J[z],count:1},G.autorange){Z[0][z]=1/0,Z[1][z]=-1/0;var at=k.glplot.objects,_=k.fullSceneLayout.annotations||[],K=G._name.charAt(0);for(U=0;U<at.length;U++){var nt=at[U],et=nt.bounds,st=nt._trace.data._pad||0;Z[0][z]="ErrorBars"===nt.constructor.name&&G._lowerLogErrorBound?Math.min(Z[0][z],G._lowerLogErrorBound):Math.min(Z[0][z],et[0][z]/J[z]-st),Z[1][z]=Math.max(Z[1][z],et[1][z]/J[z]+st)}for(U=0;U<_.length;U++){var dt=_[U];if(dt.visible){var Tt=G.r2l(dt[K]);Z[0][z]=Math.min(Z[0][z],Tt),Z[1][z]=Math.max(Z[1][z],Tt)}}if("rangemode"in G&&"tozero"===G.rangemode&&(Z[0][z]=Math.min(Z[0][z],0),Z[1][z]=Math.max(Z[1][z],0)),Z[0][z]>Z[1][z])Z[0][z]=-1,Z[1][z]=1;else{var bt=Z[1][z]-Z[0][z];Z[0][z]-=bt/32,Z[1][z]+=bt/32}if("reversed"===G.autorange){var Dt=Z[0][z];Z[0][z]=Z[1][z],Z[1][z]=Dt}}else{var Ft=G.range;Z[0][z]=G.r2l(Ft[0]),Z[1][z]=G.r2l(Ft[1])}Z[0][z]===Z[1][z]&&(Z[0][z]-=1,Z[1][z]+=1),H[z]=Z[1][z]-Z[0][z],k.glplot.setBounds(z,{min:Z[0][z]*J[z],max:Z[1][z]*J[z]})}var Mt,wt=rt.aspectmode;if("cube"===wt)Mt=[1,1,1];else if("manual"===wt){var St=rt.aspectratio;Mt=[St.x,St.y,St.z]}else{if("auto"!==wt&&"data"!==wt)throw new Error("scene.js aspectRatio was not one of the enumerated types");var Ut=[1,1,1];for(z=0;z<3;++z){var Gt=X[Q=(G=rt[L[z]]).type];Ut[z]=Math.pow(Gt.acc,1/Gt.count)/J[z]}Mt="data"===wt||Math.max.apply(null,Ut)/Math.min.apply(null,Ut)<=4?Ut:[1,1,1]}rt.aspectratio.x=it.aspectratio.x=Mt[0],rt.aspectratio.y=it.aspectratio.y=Mt[1],rt.aspectratio.z=it.aspectratio.z=Mt[2],k.glplot.setAspectratio(rt.aspectratio),k.viewInitial.aspectratio||(k.viewInitial.aspectratio={x:rt.aspectratio.x,y:rt.aspectratio.y,z:rt.aspectratio.z}),k.viewInitial.aspectmode||(k.viewInitial.aspectmode=rt.aspectmode);var Pt=rt.domain||null,Vt=D._size||null;if(Pt&&Vt){var te=k.container.style;te.position="absolute",te.left=Vt.l+Pt.x[0]*Vt.w+"px",te.top=Vt.t+(1-Pt.y[1])*Vt.h+"px",te.width=Vt.w*(Pt.x[1]-Pt.x[0])+"px",te.height=Vt.h*(Pt.y[1]-Pt.y[0])+"px"}k.glplot.redraw()}},M.destroy=function(){var F=this;!F.glplot||(F.camera.mouseListener.enabled=!1,F.container.removeEventListener("wheel",F.camera.wheelListener),F.camera=null,F.glplot.dispose(),F.container.parentNode.removeChild(F.container),F.glplot=null)},M.getCamera=function(){var F=this;return F.camera.view.recalcMatrix(F.camera.view.lastT()),function n(F){return{up:{x:F.up[0],y:F.up[1],z:F.up[2]},center:{x:F.center[0],y:F.center[1],z:F.center[2]},eye:{x:F.eye[0],y:F.eye[1],z:F.eye[2]},projection:{type:!0===F._ortho?"orthographic":"perspective"}}}(F.camera)},M.setViewport=function(F){var D=this,N=F.camera;D.camera.lookAt.apply(this,function b(F){return[[F.eye.x,F.eye.y,F.eye.z],[F.center.x,F.center.y,F.center.z],[F.up.x,F.up.y,F.up.z]]}(N)),D.glplot.setAspectratio(F.aspectratio),"orthographic"===N.projection.type!==D.camera._ortho&&(D.glplot.redraw(),D.glplot.clearRGBA(),D.glplot.dispose(),D.initializeGLPlot())},M.isCameraChanged=function(F){var N=this.getCamera(),O=x.nestedProperty(F,this.id+".camera").get();var Q,rt,it,ut,J,j,z=!1;if(void 0===O)z=!0;else{for(var U=0;U<3;U++)for(var G=0;G<3;G++)if(Q=N,ut=G,J=void 0,j=void 0,j=["x","y","z"],!(rt=O)[(J=["up","center","eye"])[it=U]]||Q[J[it]][j[ut]]!==rt[J[it]][j[ut]]){z=!0;break}(!O.projection||N.projection&&N.projection.type!==O.projection.type)&&(z=!0)}return z},M.isAspectChanged=function(F){var N=this.glplot.getAspectratio(),O=x.nestedProperty(F,this.id+".aspectratio").get();return void 0===O||O.x!==N.x||O.y!==N.y||O.z!==N.z},M.saveLayout=function(F){var k,O,B,z,U,G,D=this,N=D.fullLayout,Q=D.isCameraChanged(F),rt=D.isAspectChanged(F),it=Q||rt;if(it){var ut={};Q&&(k=D.getCamera(),B=(O=x.nestedProperty(F,D.id+".camera")).get(),ut[D.id+".camera"]=B),rt&&(z=D.glplot.getAspectratio(),G=(U=x.nestedProperty(F,D.id+".aspectratio")).get(),ut[D.id+".aspectratio"]=G),l.call("_storeDirectGUIEdit",F,N._preGUI,ut),Q&&(O.set(k),x.nestedProperty(N,D.id+".camera").set(k)),rt&&(U.set(z),x.nestedProperty(N,D.id+".aspectratio").set(z),D.glplot.redraw())}return it},M.updateFx=function(F,D){var N=this,k=N.camera;if(k)if("orbit"===F)k.mode="orbit",k.keyBindingMode="rotate";else if("turntable"===F){k.up=[0,0,1],k.mode="turntable",k.keyBindingMode="rotate";var O=N.graphDiv,B=O._fullLayout,z=N.fullSceneLayout.camera,U=z.up.x,G=z.up.y,Q=z.up.z;if(Q/Math.sqrt(U*U+G*G+Q*Q)<.999){var rt=N.id+".camera.up",it={x:0,y:0,z:1},ut={};ut[rt]=it;var J=O.layout;l.call("_storeDirectGUIEdit",J,B._preGUI,ut),z.up=it,x.nestedProperty(J,rt).set(it)}}else k.keyBindingMode=F;N.fullSceneLayout.hovermode=D},M.toImage=function(F){var D=this;F||(F="png"),D.staticMode&&D.container.appendChild(w),D.glplot.redraw();var N=D.glplot.gl,k=N.drawingBufferWidth,O=N.drawingBufferHeight;N.bindFramebuffer(N.FRAMEBUFFER,null);var B=new Uint8Array(k*O*4);N.readPixels(0,0,k,O,N.RGBA,N.UNSIGNED_BYTE,B),function C(F,D,N){for(var k=0,O=N-1;k<O;++k,--O)for(var B=0;B<D;++B)for(var z=0;z<4;++z){var U=4*(D*k+B)+z,G=4*(D*O+B)+z,Q=F[U];F[U]=F[G],F[G]=Q}}(B,k,O),function p(F,D,N){for(var k=0;k<N;++k)for(var O=0;O<D;++O){var B=4*(D*k+O),z=F[B+3];if(z>0)for(var U=255/z,G=0;G<3;++G)F[B+G]=Math.min(U*F[B+G],255)}}(B,k,O);var z=document.createElement("canvas");z.width=k,z.height=O;var Q,U=z.getContext("2d",{willReadFrequently:!0}),G=U.createImageData(k,O);switch(G.data.set(B),U.putImageData(G,0,0),F){case"jpeg":Q=z.toDataURL("image/jpeg");break;case"webp":Q=z.toDataURL("image/webp");break;default:Q=z.toDataURL("image/png")}return D.staticMode&&D.container.removeChild(w),Q},M.setConvert=function(){for(var D=0;D<3;D++){var N=this.fullSceneLayout[L[D]];r.setConvert(N,this.fullLayout),N.setScale=x.noop}},M.make4thDimension=function(){var F=this,N=F.graphDiv._fullLayout;F._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(F._mockAxis,N)},tt.exports=h},90060:function(tt){"use strict";tt.exports=function(t,A,g,i){i=i||t.length;for(var P=new Array(i),E=0;E<i;E++)P[E]=[t[E],A[E],g[E]];return P}},10820:function(tt,W,t){"use strict";var A=t(41940),g=t(85594),i=t(22399),P=t(29241),E=t(53777),l=t(35025),x=t(1426).extendFlat,e=A({editType:"calc"});e.family.dflt='"Open Sans", verdana, arial, sans-serif',e.size.dflt=12,e.color.dflt=i.defaultLine,tt.exports={font:e,title:{text:{valType:"string",editType:"layoutstyle"},font:A({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:x(l({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:P.newshape,activeshape:P.activeshape,newselection:E.newselection,activeselection:E.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:x({},g.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:A({editType:"layoutstyle"})}}},77734:function(tt,W,t){"use strict";var A=t(78607),g="1.10.1",i='\xa9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',P=['\xa9 <a target="_blank" href="https://carto.com/">Carto</a>',i].join(" "),E=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),x={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:i,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}]},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}]},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:P,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}]},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:P,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}]},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:E,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}]},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:E,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}]},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}]}},e=A(x);tt.exports={requiredVersion:g,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:x,styleValuesNonMapbox:e,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+g+"."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",e.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},13056:function(tt,W,t){"use strict";var A=t(71828);tt.exports=function(i,P){var E=i.split(" "),l=E[0],x=E[1],e=A.isArrayOrTypedArray(P)?A.mean(P):P,r=.5+e/100,f=1.5+e/100,a=["",""],s=[0,0];switch(l){case"top":a[0]="top",s[1]=-f;break;case"bottom":a[0]="bottom",s[1]=f}switch(x){case"left":a[1]="right",s[0]=-r;break;case"right":a[1]="left",s[0]=r}return{anchor:a[0]&&a[1]?a.join("-"):a[0]?a[0]:a[1]?a[1]:"center",offset:s}}},50101:function(tt,W,t){"use strict";var A=t(44517),g=t(71828),i=g.strTranslate,P=g.strScale,E=t(27659).AU,l=t(77922),x=t(39898),e=t(91424),r=t(63893),f=t(10481),a="mapbox",s=W.constants=t(77734);function u(y){return"string"==typeof y&&(-1!==s.styleValuesMapbox.indexOf(y)||0===y.indexOf("mapbox://"))}W.name=a,W.attr="subplot",W.idRoot=a,W.idRegex=W.attrRegex=g.counterRegex(a),W.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},W.layoutAttributes=t(23585),W.supplyLayoutDefaults=t(77882),W.plot=function(v){var w=v._fullLayout,d=v.calcdata,o=w._subplots[a];if(A.version!==s.requiredVersion)throw new Error(s.wrongVersionErrorMsg);var h=function c(y,v){var w=y._fullLayout;if(""===y._context.mapboxAccessToken)return"";for(var o=[],h=[],M=!1,T=!1,L=0;L<v.length;L++){var m=w[v[L]],S=m.accesstoken;u(m.style)&&(S?g.pushUnique(o,S):(u(m._input.style)&&(g.error("Uses Mapbox map style, but did not set an access token."),M=!0),T=!0)),S&&g.pushUnique(h,S)}if(T){var b=M?s.noAccessTokenErrorMsg:s.missingStyleErrorMsg;throw g.error(b),new Error(b)}return o.length?(o.length>1&&g.warn(s.multipleTokensErrorMsg),o[0]):(h.length&&g.log(["Listed mapbox access token(s)",h.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(v,o);A.accessToken=h;for(var M=0;M<o.length;M++){var T=o[M],L=E(d,a,T),m=w[T],S=m._subplot;S||(S=new f(v,T),w[T]._subplot=S),S.viewInitial||(S.viewInitial={center:g.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),S.plot(L,w,v._promises)}},W.clean=function(y,v,w,d){for(var o=d._subplots[a]||[],h=0;h<o.length;h++){var M=o[h];!v[M]&&d[M]._subplot&&d[M]._subplot.destroy()}},W.toSVG=function(y){for(var v=y._fullLayout,w=v._subplots[a],d=v._size,o=0;o<w.length;o++){var h=v[w[o]],M=h.domain,L=h._subplot.toImage("png");v._glimages.append("svg:image").attr({xmlns:l.svg,"xlink:href":L,x:d.l+d.w*M.x[0],y:d.t+d.h*(1-M.y[1]),width:d.w*(M.x[1]-M.x[0]),height:d.h*(M.y[1]-M.y[0]),preserveAspectRatio:"none"});var S=x.select(h._subplot.div);if(null!==S.select(".mapboxgl-ctrl-logo").node().offsetParent){var n=v._glimages.append("g");n.attr("transform",i(d.l+d.w*M.x[0]+10,d.t+d.h*(1-M.y[0])-31)),n.append("path").attr("d",s.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),n.append("path").attr("d",s.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),n.append("path").attr("d",s.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),n.append("polygon").attr("points",s.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var C=S.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),p=v._glimages.append("g"),F=p.append("text");F.text(C).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":C});var D=e.bBox(F.node()),N=d.w*(M.x[1]-M.x[0]);if(D.width>N/2){var k=C.split("|").join("<br>");F.text(k).attr("data-unformatted",k).call(r.convertToTspans,y),D=e.bBox(F.node())}F.attr("transform",i(-3,8-D.height)),p.insert("rect",".static-attribution").attr({x:-D.width-6,y:-D.height-3,width:D.width+6,height:D.height+3,fill:"rgba(255, 255, 255, 0.75)"});var O=1;D.width+6>N&&(O=N/(D.width+6));var B=[d.l+d.w*M.x[1],d.t+d.h*(1-M.y[0])];p.attr("transform",i(B[0],B[1])+P(O))}},W.updateFx=function(y){for(var v=y._fullLayout,w=v._subplots[a],d=0;d<w.length;d++)v[w[d]]._subplot.updateFx(v)}},67911:function(tt,W,t){"use strict";var A=t(71828),g=t(63893).sanitizeHTML,i=t(13056),P=t(77734);function E(f,a){this.subplot=f,this.uid=f.uid+"-"+a,this.index=a,this.idSource="source-"+this.uid,this.idLayer=P.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var l=E.prototype;function x(f){if(!f.visible)return!1;var a=f.source;if(Array.isArray(a)&&a.length>0){for(var s=0;s<a.length;s++)if("string"!=typeof a[s]||0===a[s].length)return!1;return!0}return A.isPlainObject(a)||"string"==typeof a&&a.length>0}function e(f){var a={},s={};switch(f.type){case"circle":A.extendFlat(s,{"circle-radius":f.circle.radius,"circle-color":f.color,"circle-opacity":f.opacity});break;case"line":A.extendFlat(s,{"line-width":f.line.width,"line-color":f.color,"line-opacity":f.opacity,"line-dasharray":f.line.dash});break;case"fill":A.extendFlat(s,{"fill-color":f.color,"fill-outline-color":f.fill.outlinecolor,"fill-opacity":f.opacity});break;case"symbol":var c=f.symbol,u=i(c.textposition,c.iconsize);A.extendFlat(a,{"icon-image":c.icon+"-15","icon-size":c.iconsize/10,"text-field":c.text,"text-size":c.textfont.size,"text-anchor":u.anchor,"text-offset":u.offset,"symbol-placement":c.placement}),A.extendFlat(s,{"icon-color":f.color,"text-color":c.textfont.color,"text-opacity":f.opacity});break;case"raster":A.extendFlat(s,{"raster-fade-duration":0,"raster-opacity":f.opacity})}return{layout:a,paint:s}}l.update=function(a){this.visible?this.needsNewImage(a)?this.updateImage(a):this.needsNewSource(a)?(this.removeLayer(),this.updateSource(a),this.updateLayer(a)):this.needsNewLayer(a)?this.updateLayer(a):this.updateStyle(a):(this.updateSource(a),this.updateLayer(a)),this.visible=x(a)},l.needsNewImage=function(f){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===f.sourcetype&&(this.source!==f.source||JSON.stringify(this.coordinates)!==JSON.stringify(f.coordinates))},l.needsNewSource=function(f){return this.sourceType!==f.sourcetype||JSON.stringify(this.source)!==JSON.stringify(f.source)||this.layerType!==f.type},l.needsNewLayer=function(f){return this.layerType!==f.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},l.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},l.updateImage=function(f){this.subplot.map.getSource(this.idSource).updateImage({url:f.source,coordinates:f.coordinates});var s=this.findFollowingMapboxLayerId(this.lookupBelow());null!==s&&this.subplot.map.moveLayer(this.idLayer,s)},l.updateSource=function(f){var a=this.subplot.map;if(a.getSource(this.idSource)&&a.removeSource(this.idSource),this.sourceType=f.sourcetype,this.source=f.source,x(f)){var s=function r(f){var u,a=f.sourcetype,s=f.source,c={type:a};return"geojson"===a?u="data":"vector"===a?u="string"==typeof s?"url":"tiles":"raster"===a?(u="tiles",c.tileSize=256):"image"===a&&(u="url",c.coordinates=f.coordinates),c[u]=s,f.sourceattribution&&(c.attribution=g(f.sourceattribution)),c}(f);a.addSource(this.idSource,s)}},l.findFollowingMapboxLayerId=function(f){if("traces"===f)for(var a=this.subplot.getMapLayers(),s=0;s<a.length;s++){var c=a[s].id;if("string"==typeof c&&0===c.indexOf(P.traceLayerPrefix)){f=c;break}}return f},l.updateLayer=function(f){var a=this.subplot,s=e(f),c=this.lookupBelow(),u=this.findFollowingMapboxLayerId(c);this.removeLayer(),x(f)&&a.addLayer({id:this.idLayer,source:this.idSource,"source-layer":f.sourcelayer||"",type:f.type,minzoom:f.minzoom,maxzoom:f.maxzoom,layout:s.layout,paint:s.paint},u),this.layerType=f.type,this.below=c},l.updateStyle=function(f){if(x(f)){var a=e(f);this.subplot.setOptions(this.idLayer,"setLayoutProperty",a.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",a.paint)}},l.removeLayer=function(){var f=this.subplot.map;f.getLayer(this.idLayer)&&f.removeLayer(this.idLayer)},l.dispose=function(){var f=this.subplot.map;f.getLayer(this.idLayer)&&f.removeLayer(this.idLayer),f.getSource(this.idSource)&&f.removeSource(this.idSource)},tt.exports=function(a,s,c){var u=new E(a,s);return u.update(c),u}},23585:function(tt,W,t){"use strict";var A=t(71828),g=t(7901).defaultLine,i=t(27670).Y,P=t(41940),E=t(82196).textposition,l=t(30962).overrideAll,x=t(44467).templatedArray,e=t(77734),r=P({});r.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(tt.exports=l({_arrayAttrRegexps:[A.counterRegex("mapbox",".layers",!0)],domain:i({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:e.styleValuesMapbox.concat(e.styleValuesNonMapbox),dflt:e.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:x("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:g},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:g}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:r,textposition:A.extendFlat({},E,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},77882:function(tt,W,t){"use strict";var A=t(71828),g=t(49119),i=t(85501),P=t(23585);function E(x,e,r,f){r("accesstoken",f.accessToken),r("style"),r("center.lon"),r("center.lat"),r("zoom"),r("bearing"),r("pitch");var a=r("bounds.west"),s=r("bounds.east"),c=r("bounds.south"),u=r("bounds.north");(void 0===a||void 0===s||void 0===c||void 0===u)&&delete e.bounds,i(x,e,{name:"layers",handleItemDefaults:l}),e._input=x}function l(x,e){function r(y,v){return A.coerce(x,e,P.layers,y,v)}if(r("visible")){var c,a=r("sourcetype"),s="raster"===a||"image"===a;r("source"),r("sourceattribution"),"vector"===a&&r("sourcelayer"),"image"===a&&r("coordinates"),s&&(c="raster");var u=r("type",c);s&&"raster"!==u&&(u=e.type="raster",A.log("Source types *raster* and *image* must drawn *raster* layer type.")),r("below"),r("color"),r("opacity"),r("minzoom"),r("maxzoom"),"circle"===u&&r("circle.radius"),"line"===u&&(r("line.width"),r("line.dash")),"fill"===u&&r("fill.outlinecolor"),"symbol"===u&&(r("symbol.icon"),r("symbol.iconsize"),r("symbol.text"),A.coerceFont(r,"symbol.textfont"),r("symbol.textposition"),r("symbol.placement"))}}tt.exports=function(e,r,f){g(e,r,f,{type:"mapbox",attributes:P,handleDefaults:E,partition:"y",accessToken:r._mapboxAccessToken})}},10481:function(tt,W,t){"use strict";var A=t(44517),g=t(71828),i=t(41327),P=t(73972),E=t(89298),l=t(28569),x=t(30211),e=t(64505),r=e.drawMode,f=e.selectMode,a=t(47322).prepSelect,s=t(47322).clearOutline,c=t(47322).clearSelectionsCache,u=t(47322).selectOnClick,y=t(77734),v=t(67911);function w(L,m){this.id=m,this.gd=L;var S=L._fullLayout,b=L._context;this.container=S._glcontainer.node(),this.isStatic=b.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var d=w.prototype;d.plot=function(L,m,S){var C,b=this;b.map&&m[b.id].accesstoken!==b.accessToken&&(b.map.remove(),b.map=null,b.styleObj=null,b.traceHash={},b.layerList=[]),C=new Promise(b.map?function(p,F){b.updateMap(L,m,p,F)}:function(p,F){b.createMap(L,m,p,F)}),S.push(C)},d.createMap=function(L,m,S,b){var n=this,C=m[n.id],p=n.styleObj=h(C.style);n.accessToken=C.accesstoken;var F=C.bounds,D=F?[[F.west,F.south],[F.east,F.north]]:null,N=n.map=new A.Map({container:n.div,style:p.style,center:T(C.center),zoom:C.zoom,bearing:C.bearing,pitch:C.pitch,maxBounds:D,interactive:!n.isStatic,preserveDrawingBuffer:n.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new A.AttributionControl({compact:!0}));N._canvas.style.left="0px",N._canvas.style.top="0px",n.rejectOnError(b),n.isStatic||n.initFx(L,m);var k=[];k.push(new Promise(function(O){N.once("load",O)})),k=k.concat(i.fetchTraceGeoData(L)),Promise.all(k).then(function(){n.fillBelowLookup(L,m),n.updateData(L),n.updateLayout(m),n.resolveOnRender(S)}).catch(b)},d.updateMap=function(L,m,S,b){var n=this,C=n.map,p=m[this.id];n.rejectOnError(b);var F=[],D=h(p.style);JSON.stringify(n.styleObj)!==JSON.stringify(D)&&(n.styleObj=D,C.setStyle(D.style),n.traceHash={},F.push(new Promise(function(N){C.once("styledata",N)}))),F=F.concat(i.fetchTraceGeoData(L)),Promise.all(F).then(function(){n.fillBelowLookup(L,m),n.updateData(L),n.updateLayout(m),n.resolveOnRender(S)}).catch(b)},d.fillBelowLookup=function(L,m){var n,C,b=m[this.id].layers,p=this.belowLookup={},F=!1;for(n=0;n<L.length;n++){var D=L[n][0].trace,N=D._module;"string"==typeof D.below?C=D.below:N.getBelow&&(C=N.getBelow(D,this)),""===C&&(F=!0),p["trace-"+D.uid]=C||""}for(n=0;n<b.length;n++){var k=b[n];p["layout-"+n]=C="string"==typeof k.below?k.below:F?"traces":""}var B,z,O={};for(B in p)O[C=p[B]]?O[C].push(B):O[C]=[B];for(C in O){var U=O[C];if(U.length>1)for(n=0;n<U.length;n++)0===(B=U[n]).indexOf("trace-")?(z=B.split("trace-")[1],this.traceHash[z]&&(this.traceHash[z].below=null)):0===B.indexOf("layout-")&&(z=B.split("layout-")[1],this.layerList[z]&&(this.layerList[z].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function h(L){var m={};return g.isPlainObject(L)?(m.id=L.id,m.style=L):"string"==typeof L?(m.id=L,m.style=-1!==y.styleValuesMapbox.indexOf(L)?M(L):y.stylesNonMapbox[L]?y.stylesNonMapbox[L]:L):(m.id=y.styleValueDflt,m.style=M(y.styleValueDflt)),m.transition={duration:0,delay:0},m}function M(L){return y.styleUrlPrefix+L+"-"+y.styleUrlSuffix}function T(L){return[L.lon,L.lat]}d.updateData=function(L){var S,b,n,C,m=this.traceHash,p=L.slice().sort(function(O,B){return o[O[0].trace.type]-o[B[0].trace.type]});for(n=0;n<p.length;n++){var F=p[n],D=!1;(S=m[(b=F[0].trace).uid])&&(S.type===b.type?(S.update(F),D=!0):S.dispose()),!D&&b._module&&(m[b.uid]=b._module.plot(this,F))}var N=Object.keys(m);t:for(n=0;n<N.length;n++){var k=N[n];for(C=0;C<L.length;C++)if(k===(b=L[C][0].trace).uid)continue t;(S=m[k]).dispose(),delete m[k]}},d.updateLayout=function(L){var m=this.map,S=L[this.id];!this.dragging&&!this.wheeling&&(m.setCenter(T(S.center)),m.setZoom(S.zoom),m.setBearing(S.bearing),m.setPitch(S.pitch)),this.updateLayers(L),this.updateFramework(L),this.updateFx(L),this.map.resize(),this.gd._context._scrollZoom.mapbox?m.scrollZoom.enable():m.scrollZoom.disable()},d.resolveOnRender=function(L){var m=this.map;m.on("render",function S(){m.loaded()&&(m.off("render",S),setTimeout(L,10))})},d.rejectOnError=function(L){var m=this.map;function S(){L(new Error(y.mapOnErrorMsg))}m.once("error",S),m.once("style.error",S),m.once("source.error",S),m.once("tile.error",S),m.once("layer.error",S)},d.createFramework=function(L){var m=this,S=m.div=document.createElement("div");S.id=m.uid,S.style.position="absolute",m.container.appendChild(S),m.xaxis={_id:"x",c2p:function(b){return m.project(b).x}},m.yaxis={_id:"y",c2p:function(b){return m.project(b).y}},m.updateFramework(L),m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},E.setConvert(m.mockAxis,L)},d.initFx=function(L,m){var S=this,b=S.gd,n=S.map;function C(){x.loneUnhover(m._hoverlayer)}function p(){var F=S.getView();b.emit("plotly_relayouting",S.getViewEditsWithDerived(F))}n.on("moveend",function(F){if(S.map){var D=b._fullLayout;if(F.originalEvent||S.wheeling){var N=D[S.id];P.call("_storeDirectGUIEdit",b.layout,D._preGUI,S.getViewEdits(N));var k=S.getView();N._input.center=N.center=k.center,N._input.zoom=N.zoom=k.zoom,N._input.bearing=N.bearing=k.bearing,N._input.pitch=N.pitch=k.pitch,b.emit("plotly_relayout",S.getViewEditsWithDerived(k))}F.originalEvent&&"mouseup"===F.originalEvent.type?S.dragging=!1:S.wheeling&&(S.wheeling=!1),D._rehover&&D._rehover()}}),n.on("wheel",function(){S.wheeling=!0}),n.on("mousemove",function(F){var D=S.div.getBoundingClientRect(),N=[F.originalEvent.offsetX,F.originalEvent.offsetY];F.target.getBoundingClientRect=function(){return D},S.xaxis.p2c=function(){return n.unproject(N).lng},S.yaxis.p2c=function(){return n.unproject(N).lat},b._fullLayout._rehover=function(){b._fullLayout._hoversubplot===S.id&&b._fullLayout[S.id]&&x.hover(b,F,S.id)},x.hover(b,F,S.id),b._fullLayout._hoversubplot=S.id}),n.on("dragstart",function(){S.dragging=!0,C()}),n.on("zoomstart",C),n.on("mouseout",function(){b._fullLayout._hoversubplot=null}),n.on("drag",p),n.on("zoom",p),n.on("dblclick",function(){var F=b._fullLayout[S.id];P.call("_storeDirectGUIEdit",b.layout,b._fullLayout._preGUI,S.getViewEdits(F));var D=S.viewInitial;n.setCenter(T(D.center)),n.setZoom(D.zoom),n.setBearing(D.bearing),n.setPitch(D.pitch);var N=S.getView();F._input.center=F.center=N.center,F._input.zoom=F.zoom=N.zoom,F._input.bearing=F.bearing=N.bearing,F._input.pitch=F.pitch=N.pitch,b.emit("plotly_doubleclick",null),b.emit("plotly_relayout",S.getViewEditsWithDerived(N))}),S.clearOutline=function(){c(S.dragOptions),s(S.dragOptions.gd)},S.onClickInPanFn=function(F){return function(D){var N=b._fullLayout.clickmode;N.indexOf("select")>-1&&u(D.originalEvent,b,[S.xaxis],[S.yaxis],S.id,F),N.indexOf("event")>-1&&x.click(b,D.originalEvent)}}},d.updateFx=function(L){var m=this,S=m.map;if(!m.isStatic){var C=L.dragmode;m.dragOptions=g.extendDeep(m.dragOptions||{},{dragmode:L.dragmode,element:m.div,gd:m.gd,plotinfo:{id:m.id,domain:L[m.id].domain,xaxis:m.xaxis,yaxis:m.yaxis,fillRangeItems:function(D,N){N.isRect?(D.range={})[m.id]=[n([N.xmin,N.ymin]),n([N.xmax,N.ymax])]:(D.lassoPoints={})[m.id]=N.map(n)}},xaxes:[m.xaxis],yaxes:[m.yaxis],subplot:m.id}),S.off("click",m.onClickInPanHandler),f(C)||r(C)?(S.dragPan.disable(),S.on("zoomstart",m.clearOutline),m.dragOptions.prepFn=function(D,N,k){a(D,N,k,m.dragOptions,C)},l.init(m.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",m.clearOutline),m.div.onmousedown=null,m.div.ontouchstart=null,m.div.removeEventListener("touchstart",m.div._ontouchstart),m.onClickInPanHandler=m.onClickInPanFn(m.dragOptions),S.on("click",m.onClickInPanHandler))}function n(D){var N=m.map.unproject(D);return[N.lng,N.lat]}},d.updateFramework=function(L){var m=L[this.id].domain,S=L._size,b=this.div.style;b.width=S.w*(m.x[1]-m.x[0])+"px",b.height=S.h*(m.y[1]-m.y[0])+"px",b.left=S.l+m.x[0]*S.w+"px",b.top=S.t+(1-m.y[1])*S.h+"px",this.xaxis._offset=S.l+m.x[0]*S.w,this.xaxis._length=S.w*(m.x[1]-m.x[0]),this.yaxis._offset=S.t+(1-m.y[1])*S.h,this.yaxis._length=S.h*(m.y[1]-m.y[0])},d.updateLayers=function(L){var n,S=L[this.id].layers,b=this.layerList;if(S.length!==b.length){for(n=0;n<b.length;n++)b[n].dispose();for(b=this.layerList=[],n=0;n<S.length;n++)b.push(v(this,n,S[n]))}else for(n=0;n<S.length;n++)b[n].update(S[n])},d.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},d.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},d.setOptions=function(L,m,S){for(var b in S)this.map[m](L,b,S[b])},d.getMapLayers=function(){return this.map.getStyle().layers},d.addLayer=function(L,m){var S=this.map;if("string"==typeof m){if(""===m)return void S.addLayer(L,m);for(var b=this.getMapLayers(),n=0;n<b.length;n++)if(m===b[n].id)return void S.addLayer(L,m);g.warn(["Trying to add layer with *below* value",m,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(L)},d.project=function(L){return this.map.project(new A.LngLat(L[0],L[1]))},d.getView=function(){var L=this.map,m=L.getCenter(),n={lon:m.lng,lat:m.lat},C=L.getCanvas(),p=parseInt(C.style.width),F=parseInt(C.style.height);return{center:n,zoom:L.getZoom(),bearing:L.getBearing(),pitch:L.getPitch(),_derived:{coordinates:[L.unproject([0,0]).toArray(),L.unproject([p,0]).toArray(),L.unproject([p,F]).toArray(),L.unproject([0,F]).toArray()]}}},d.getViewEdits=function(L){for(var m=this.id,S=["center","zoom","bearing","pitch"],b={},n=0;n<S.length;n++){var C=S[n];b[m+"."+C]=L[C]}return b},d.getViewEditsWithDerived=function(L){var m=this.id,S=this.getViewEdits(L);return S[m+"._derived"]=L._derived,S},tt.exports=w},35025:function(tt){"use strict";tt.exports=function(W){var t=W.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},74875:function(tt,W,t){"use strict";var A=t(39898),g=t(84096).Dq,i=t(60721).FF,P=t(92770),E=t(73972),l=t(86281),x=t(44467),e=t(71828),r=t(7901),f=t(50606).BADNUM,a=t(41675),s=t(51873).clearOutline,c=t(21479),u=t(85594),y=t(31391),v=t(27659).a0,w=e.relinkPrivateKeys,d=e._,o=tt.exports={};e.extendFlat(o,E),o.attributes=t(9012),o.attributes.type.values=o.allTypes,o.fontAttrs=t(41940),o.layoutAttributes=t(10820),o.fontWeight="normal";var h=o.transformsRegistry,M=t(31137);o.executeAPICommand=M.executeAPICommand,o.computeAPICommandBindings=M.computeAPICommandBindings,o.manageCommandObserver=M.manageCommandObserver,o.hasSimpleAPICommandBindings=M.hasSimpleAPICommandBindings,o.redrawText=function(Z){return Z=e.getGraphDiv(Z),new Promise(function(H){setTimeout(function(){!Z._fullLayout||(E.getComponentMethod("annotations","draw")(Z),E.getComponentMethod("legend","draw")(Z),E.getComponentMethod("colorbar","draw")(Z),H(o.previousPromises(Z)))},300)})},o.resize=function(Z){Z=e.getGraphDiv(Z);var H,X=new Promise(function(at,_){(!Z||e.isHidden(Z))&&_(new Error("Resize must be passed a displayed plot div element.")),Z._redrawTimer&&clearTimeout(Z._redrawTimer),Z._resolveResize&&(H=Z._resolveResize),Z._resolveResize=at,Z._redrawTimer=setTimeout(function(){if(!Z.layout||Z.layout.width&&Z.layout.height||e.isHidden(Z))at(Z);else{delete Z.layout.width,delete Z.layout.height;var K=Z.changed;Z.autoplay=!0,E.call("relayout",Z,{autosize:!0}).then(function(){Z.changed=K,Z._resolveResize===at&&(delete Z._resolveResize,at(Z))})}},100)});return H&&H(X),X},o.previousPromises=function(Z){if((Z._promises||[]).length)return Promise.all(Z._promises).then(function(){Z._promises=[]})},o.addLinks=function(Z){if(Z._context.showLink||Z._context.showSources){var H=Z._fullLayout,X=e.ensureSingle(H._paper,"text","js-plot-link-container",function(st){st.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var dt=A.select(this);dt.append("tspan").classed("js-link-to-tool",!0),dt.append("tspan").classed("js-link-spacer",!0),dt.append("tspan").classed("js-sourcelinks",!0)})}),at=X.node(),_={y:H._paper.attr("height")-9};document.body.contains(at)&&at.getComputedTextLength()>=H.width-20?(_["text-anchor"]="start",_.x=5):(_["text-anchor"]="end",_.x=H._paper.attr("width")-7),X.attr(_);var K=X.select(".js-link-to-tool"),nt=X.select(".js-link-spacer"),et=X.select(".js-sourcelinks");Z._context.showSources&&Z._context.showSources(Z),Z._context.showLink&&function T(Z,H){H.text("");var X=H.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Z._context.linkText+" "+String.fromCharCode(187));if(Z._context.sendData)X.on("click",function(){o.sendDataToCloud(Z)});else{var at=window.location.pathname.split("/"),_=window.location.search;X.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+at[2].split(".")[0]+"/"+at[1]+_})}}(Z,K),nt.text(K.text()&&et.text()?" - ":"")}},o.sendDataToCloud=function(Z){var H=(window.PLOTLYENV||{}).BASE_URL||Z._context.plotlyServerURL;if(H){Z.emit("plotly_beforeexport");var X=A.select(Z).append("div").attr("id","hiddenform").style("display","none"),at=X.append("form").attr({action:H+"/external",method:"post",target:"_blank"});return at.append("input").attr({type:"text",name:"data"}).node().value=o.graphJson(Z,!1,"keepdata"),at.node().submit(),X.remove(),Z.emit("plotly_afterexport"),!1}};var L=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],m=["year","month","dayMonth","dayMonthYear"];function n(Z,H){var X=Z._context.locale;X||(X="en-US");var at=!1,_={};function K(bt){for(var Dt=!0,Ft=0;Ft<H.length;Ft++){var Mt=H[Ft];_[Mt]||(bt[Mt]?_[Mt]=bt[Mt]:Dt=!1)}Dt&&(at=!0)}for(var nt=0;nt<2;nt++){for(var et=Z._context.locales,st=0;st<2;st++){var dt=(et[X]||{}).format;if(dt&&(K(dt),at))break;et=E.localeRegistry}var Tt=X.split("-")[0];if(at||Tt===X)break;X=Tt}return at||K(E.localeRegistry.en.format),_}function F(Z,H){var X={_fullLayout:H},at="x"===Z._id.charAt(0),_=Z._mainAxis._anchorAxis,K="",nt="",et="";if(_&&(et=_._mainAxis._id,K=at?Z._id+et:et+Z._id),!K||!H._plots[K]){K="";for(var st=Z._counterAxes,dt=0;dt<st.length;dt++){var Tt=st[dt],bt=at?Z._id+Tt:Tt+Z._id;nt||(nt=bt);var Dt=a.getFromId(X,Tt);if(et&&Dt.overlaying===et){K=bt;break}}}return K||nt}function D(Z){var H=Z.transforms;if(Array.isArray(H)&&H.length)for(var X=0;X<H.length;X++){var at=H[X],_=at._module||h[at.type];if(_&&_.makesData)return!0}return!1}function N(Z,H,X,at){for(var _=Z.transforms,K=[Z],nt=0;nt<_.length;nt++){var et=_[nt],st=h[et.type];st&&st.transform&&(K=st.transform(K,{transform:et,fullTrace:Z,fullData:H,layout:X,fullLayout:at,transformIndex:nt}))}return K}function k(Z){return"string"==typeof Z&&"px"===Z.substr(Z.length-2)&&parseFloat(Z)}function O(Z){var H=Z.margin;if(!Z._size){var X=Z._size={l:Math.round(H.l),r:Math.round(H.r),t:Math.round(H.t),b:Math.round(H.b),p:Math.round(H.pad)};X.w=Math.round(Z.width)-X.l-X.r,X.h=Math.round(Z.height)-X.t-X.b}Z._pushmargin||(Z._pushmargin={}),Z._pushmarginIds||(Z._pushmarginIds={}),Z._reservedMargin||(Z._reservedMargin={})}o.supplyDefaults=function(Z,H){var X=H&&H.skipUpdateCalc,at=Z._fullLayout||{};if(at._skipDefaults)delete at._skipDefaults;else{var bt,_=Z._fullLayout={},K=Z.layout||{},nt=Z._fullData||[],et=Z._fullData=[],st=Z.data||[],dt=Z.calcdata||[],Tt=Z._context||{};Z._transitionData||o.createTransitionData(Z),_._dfltTitle={plot:d(Z,"Click to enter Plot title"),x:d(Z,"Click to enter X axis title"),y:d(Z,"Click to enter Y axis title"),colorbar:d(Z,"Click to enter Colorscale title"),annotation:d(Z,"new text")},_._traceWord=d(Z,"trace");var Dt=n(Z,L);if(_._mapboxAccessToken=Tt.mapboxAccessToken,at._initialAutoSizeIsDone){var Ft=at.width,Mt=at.height;o.supplyLayoutGlobalDefaults(K,_,Dt),K.width||(_.width=Ft),K.height||(_.height=Mt),o.sanitizeMargins(_)}else{o.supplyLayoutGlobalDefaults(K,_,Dt);var wt=!K.width||!K.height,St=_.autosize;wt&&(St||Tt.autosizable)?o.plotAutoSize(Z,K,_):wt&&o.sanitizeMargins(_),!St&&wt&&(K.width=_.width,K.height=_.height)}_._d3locale=function C(Z,H){return Z.decimal=H.charAt(0),Z.thousands=H.charAt(1),{numberFormat:function(X){try{X=i(Z).format(e.adjustFormat(X))}catch(at){return e.warnBadFormat(X),e.noFormat}return X},timeFormat:g(Z).utcFormat}}(Dt,_.separators),_._extraFormat=n(Z,m),_._initialAutoSizeIsDone=!0,_._dataLength=st.length,_._modules=[],_._visibleModules=[],_._basePlotModules=[];var Pt=_._subplots=function b(){var X,at,Z=E.collectableSubplotTypes,H={};if(!Z){Z=[];var _=E.subplotsRegistry;for(var K in _){var et=_[K].attr;if(et&&(Z.push(K),Array.isArray(et)))for(at=0;at<et.length;at++)e.pushUnique(Z,et[at])}}for(X=0;X<Z.length;X++)H[Z[X]]=[];return H}(),Vt=_._splomAxes={x:{},y:{}},te=_._splomSubplots={};_._splomGridDflt={},_._scatterStackOpts={},_._firstScatter={},_._alignmentOpts={},_._colorAxes={},_._requestRangeslider={},_._traceUids=function S(Z,H){var _,K,X=H.length,at=[];for(_=0;_<Z.length;_++){var nt=Z[_]._fullInput;nt!==K&&at.push(nt),K=nt}var et=at.length,st=new Array(X),dt={};function Tt(Ft,Mt){st[Mt]=Ft,dt[Ft]=1}function bt(Ft,Mt){if(Ft&&"string"==typeof Ft&&!dt[Ft])return Tt(Ft,Mt),!0}for(_=0;_<X;_++){var Dt=H[_].uid;"number"==typeof Dt&&(Dt=String(Dt)),!bt(Dt,_)&&(_<et&&bt(at[_].uid,_)||Tt(e.randstr(dt),_))}return st}(nt,st),_._globalTransforms=(Z._context||{}).globalTransforms,o.supplyDataDefaults(st,et,K,_);var _t=Object.keys(Vt.x),kt=Object.keys(Vt.y);if(_t.length>1&&kt.length>1){for(E.getComponentMethod("grid","sizeDefaults")(K,_),bt=0;bt<_t.length;bt++)e.pushUnique(Pt.xaxis,_t[bt]);for(bt=0;bt<kt.length;bt++)e.pushUnique(Pt.yaxis,kt[bt]);for(var zt in te)e.pushUnique(Pt.cartesian,zt)}if(_._has=o._hasPlotType.bind(_),nt.length===et.length)for(bt=0;bt<et.length;bt++)w(et[bt],nt[bt]);o.supplyLayoutModuleDefaults(K,_,et,Z._transitionData);var qt=_._visibleModules,ae=[];for(bt=0;bt<qt.length;bt++){var oe=qt[bt].crossTraceDefaults;oe&&e.pushUnique(ae,oe)}for(bt=0;bt<ae.length;bt++)ae[bt](et,_);_._hasOnlyLargeSploms=1===_._basePlotModules.length&&"splom"===_._basePlotModules[0].name&&_t.length>15&&kt.length>15&&0===_.shapes.length&&0===_.images.length,o.linkSubplots(et,_,nt,at),o.cleanPlot(et,_,nt,at);var pe=!(!at._has||!at._has("gl2d")),ye=!(!_._has||!_._has("gl2d")),Ct=!(!at._has||!at._has("cartesian"))||pe,Et=!(!_._has||!_._has("cartesian"))||ye;Ct&&!Et?at._bgLayer.remove():Et&&!Ct&&(_._shouldCreateBgLayer=!0),at._zoomlayer&&!Z._dragging&&s({_fullLayout:at}),function p(Z,H){var X,at=[];H.meta&&(X=H._meta={meta:H.meta,layout:{meta:H.meta}});for(var _=0;_<Z.length;_++){var K=Z[_];K.meta?at[K.index]=K._meta={meta:K.meta}:H.meta&&(K._meta={meta:H.meta}),H.meta&&(K._meta.layout={meta:H.meta})}at.length&&(X||(X=H._meta={}),X.data=at)}(et,_),w(_,at),E.getComponentMethod("colorscale","crossTraceDefaults")(et,_),_._preGUI||(_._preGUI={}),_._tracePreGUI||(_._tracePreGUI={});var It,Rt=_._tracePreGUI,Ot={};for(It in Rt)Ot[It]="old";for(bt=0;bt<et.length;bt++)Ot[It=et[bt]._fullInput.uid]||(Rt[It]={}),Ot[It]="new";for(It in Ot)"old"===Ot[It]&&delete Rt[It];O(_),E.getComponentMethod("rangeslider","makeData")(_),!X&&dt.length===et.length&&o.supplyDefaultsUpdateCalc(dt,et)}},o.supplyDefaultsUpdateCalc=function(Z,H){for(var X=0;X<H.length;X++){var at=H[X],_=(Z[X]||[])[0];if(_&&_.trace){var K=_.trace;if(K._hasCalcTransform){var et,st,dt,nt=K._arrayAttrs;for(et=0;et<nt.length;et++)dt=e.nestedProperty(K,st=nt[et]).get().slice(),e.nestedProperty(at,st).set(dt)}_.trace=at}}},o.createTransitionData=function(Z){Z._transitionData||(Z._transitionData={}),Z._transitionData._frames||(Z._transitionData._frames=[]),Z._transitionData._frameHash||(Z._transitionData._frameHash={}),Z._transitionData._counter||(Z._transitionData._counter=0),Z._transitionData._interruptCallbacks||(Z._transitionData._interruptCallbacks=[])},o._hasPlotType=function(Z){var H,X=this._basePlotModules||[];for(H=0;H<X.length;H++)if(X[H].name===Z)return!0;var at=this._modules||[];for(H=0;H<at.length;H++){var _=at[H].name;if(_===Z)return!0;var K=E.modules[_];if(K&&K.categories[Z])return!0}return!1},o.cleanPlot=function(Z,H,X,at){var _,K,nt=at._basePlotModules||[];for(_=0;_<nt.length;_++){var et=nt[_];et.clean&&et.clean(Z,H,X,at)}var st=at._has&&at._has("gl"),dt=H._has&&H._has("gl");st&&!dt&&void 0!==at._glcontainer&&(at._glcontainer.selectAll(".gl-canvas").remove(),at._glcontainer.selectAll(".no-webgl").remove(),at._glcanvas=null);var Tt=!!at._infolayer;t:for(_=0;_<X.length;_++){var Dt=X[_].uid;for(K=0;K<Z.length;K++)if(Dt===Z[K].uid)continue t;Tt&&at._infolayer.select(".cb"+Dt).remove()}},o.linkSubplots=function(Z,H,X,at){var _,K,nt=at._plots||{},et=H._plots={},st=H._subplots,dt={_fullData:Z,_fullLayout:H},Tt=st.cartesian.concat(st.gl2d||[]);for(_=0;_<Tt.length;_++){var wt,bt=Tt[_],Dt=nt[bt],Ft=a.getFromId(dt,bt,"x"),Mt=a.getFromId(dt,bt,"y");for(Dt?wt=et[bt]=Dt:(wt=et[bt]={}).id=bt,Ft._counterAxes.push(Mt._id),Mt._counterAxes.push(Ft._id),Ft._subplotsWith.push(bt),Mt._subplotsWith.push(bt),wt.xaxis=Ft,wt.yaxis=Mt,wt._hasClipOnAxisFalse=!1,K=0;K<Z.length;K++){var St=Z[K];if(St.xaxis===wt.xaxis._id&&St.yaxis===wt.yaxis._id&&!1===St.cliponaxis){wt._hasClipOnAxisFalse=!0;break}}}var Gt,Ut=a.list(dt,null,!0);for(_=0;_<Ut.length;_++){var Pt=null;(Gt=Ut[_]).overlaying&&(Pt=a.getFromId(dt,Gt.overlaying))&&Pt.overlaying&&(Gt.overlaying=!1,Pt=null),Gt._mainAxis=Pt||Gt,Pt&&(Gt.domain=Pt.domain.slice()),Gt._anchorAxis="free"===Gt.anchor?null:a.getFromId(dt,Gt.anchor)}for(_=0;_<Ut.length;_++)if((Gt=Ut[_])._counterAxes.sort(a.idSort),Gt._subplotsWith.sort(e.subplotSort),Gt._mainSubplot=F(Gt,H),Gt._counterAxes.length&&(Gt.spikemode&&-1!==Gt.spikemode.indexOf("across")||Gt.automargin&&Gt.mirror&&"free"!==Gt.anchor||E.getComponentMethod("rangeslider","isVisible")(Gt))){var Vt=1,te=0;for(K=0;K<Gt._counterAxes.length;K++){var _t=a.getFromId(dt,Gt._counterAxes[K]);Vt=Math.min(Vt,_t.domain[0]),te=Math.max(te,_t.domain[1])}Vt<te&&(Gt._counterDomainMin=Vt,Gt._counterDomainMax=te)}},o.clearExpandedTraceDefaultColors=function(Z){var H,X,at;for(X=[],(H=Z._module._colorAttrs)||(Z._module._colorAttrs=H=[],l.crawl(Z._module.attributes,function _(nt,et,st,dt){X[dt]=et,X.length=dt+1,"color"===nt.valType&&void 0===nt.dflt&&H.push(X.join("."))})),at=0;at<H.length;at++)e.nestedProperty(Z,"_input."+H[at]).get()||e.nestedProperty(Z,H[at]).set(null)},o.supplyDataDefaults=function(Z,H,X,at){var dt,Tt,bt,_=at._modules,K=at._visibleModules,nt=at._basePlotModules,et=0,st=0;function Dt(kt){H.push(kt);var zt=kt._module;!zt||(e.pushUnique(_,zt),!0===kt.visible&&e.pushUnique(K,zt),e.pushUnique(nt,kt._module.basePlotModule),et++,!1!==kt._input.visible&&st++)}at._transformModules=[];var Ft={},Mt=[],St=x.traceTemplater((X.template||{}).data||{});for(dt=0;dt<Z.length;dt++){if((Tt=St.newTrace(bt=Z[dt])).uid=at._traceUids[dt],o.supplyTraceDefaults(bt,Tt,st,at,dt),Tt.index=dt,Tt._input=bt,Tt._expandedIndex=et,Tt.transforms&&Tt.transforms.length)for(var Ut=!1!==bt.visible&&!1===Tt.visible,Gt=N(Tt,H,X,at),Pt=0;Pt<Gt.length;Pt++){var Vt=Gt[Pt],te={_template:Tt._template,type:Tt.type,uid:Tt.uid+Pt};Ut&&!1===Vt.visible&&delete Vt.visible,o.supplyTraceDefaults(Vt,te,et,at,dt),w(te,Vt),te.index=dt,te._input=bt,te._fullInput=Tt,te._expandedIndex=et,te._expandedInput=Vt,Dt(te)}else Tt._fullInput=Tt,Tt._expandedInput=Tt,Dt(Tt);E.traceIs(Tt,"carpetAxis")&&(Ft[Tt.carpet]=Tt),E.traceIs(Tt,"carpetDependent")&&Mt.push(dt)}for(dt=0;dt<Mt.length;dt++)if((Tt=H[Mt[dt]]).visible){var _t=Ft[Tt.carpet];if(Tt._carpet=_t,!_t||!_t.visible){Tt.visible=!1;continue}Tt.xaxis=_t.xaxis,Tt.yaxis=_t.yaxis}},o.supplyAnimationDefaults=function(Z){Z=Z||{};var H,X={};function at(_,K){return e.coerce(Z||{},X,u,_,K)}if(at("mode"),at("direction"),at("fromcurrent"),Array.isArray(Z.frame))for(X.frame=[],H=0;H<Z.frame.length;H++)X.frame[H]=o.supplyAnimationFrameDefaults(Z.frame[H]||{});else X.frame=o.supplyAnimationFrameDefaults(Z.frame||{});if(Array.isArray(Z.transition))for(X.transition=[],H=0;H<Z.transition.length;H++)X.transition[H]=o.supplyAnimationTransitionDefaults(Z.transition[H]||{});else X.transition=o.supplyAnimationTransitionDefaults(Z.transition||{});return X},o.supplyAnimationFrameDefaults=function(Z){var H={};function X(at,_){return e.coerce(Z||{},H,u.frame,at,_)}return X("duration"),X("redraw"),H},o.supplyAnimationTransitionDefaults=function(Z){var H={};function X(at,_){return e.coerce(Z||{},H,u.transition,at,_)}return X("duration"),X("easing"),H},o.supplyFrameDefaults=function(Z){var H={};function X(at,_){return e.coerce(Z,H,y,at,_)}return X("group"),X("name"),X("traces"),X("baseframe"),X("data"),X("layout"),H},o.supplyTraceDefaults=function(Z,H,X,at,_){var et,K=at.colorway||r.defaults,nt=K[X%K.length];function st(Gt,Pt){return e.coerce(Z,H,o.attributes,Gt,Pt)}var dt=st("visible");st("type"),st("name",at._traceWord+" "+_),st("uirevision",at.uirevision);var Tt=o.getModule(H);if(H._module=Tt,Tt){var bt=Tt.basePlotModule,Dt=bt.attr,Ft=bt.attributes;if(Dt&&Ft){var Mt=at._subplots,wt="";if(dt||"gl2d"!==bt.name){if(Array.isArray(Dt))for(et=0;et<Dt.length;et++){var St=Dt[et],Ut=e.coerce(Z,H,Ft,St);Mt[St]&&e.pushUnique(Mt[St],Ut),wt+=Ut}else wt=e.coerce(Z,H,Ft,Dt);Mt[bt.name]&&e.pushUnique(Mt[bt.name],wt)}}}return dt&&(st("customdata"),st("ids"),st("meta"),E.traceIs(H,"showLegend")?(e.coerce(Z,H,Tt.attributes.showlegend?Tt.attributes:o.attributes,"showlegend"),st("legend"),st("legendwidth"),st("legendgroup"),st("legendgrouptitle.text"),st("legendrank"),H._dfltShowLegend=!0):H._dfltShowLegend=!1,Tt&&Tt.supplyDefaults(Z,H,nt,at),E.traceIs(H,"noOpacity")||st("opacity"),E.traceIs(H,"notLegendIsolatable")&&(H.visible=!!H.visible),E.traceIs(H,"noHover")||(H.hovertemplate||e.coerceHoverinfo(Z,H,at),"parcats"!==H.type&&E.getComponentMethod("fx","supplyDefaults")(Z,H,nt,at)),Tt&&Tt.selectPoints&&st("selectedpoints"),o.supplyTransformDefaults(Z,H,at)),H},o.hasMakesDataTransform=D,o.supplyTransformDefaults=function(Z,H,X){if(H._length||D(Z)){var at=X._globalTransforms||[],_=X._transformModules||[];if(Array.isArray(Z.transforms)||0!==at.length)for(var nt=at.concat(Z.transforms||[]),et=H.transforms=[],st=0;st<nt.length;st++){var Dt,dt=nt[st],Tt=dt.type,bt=h[Tt],Ft=!(dt._module&&dt._module===bt),Mt=bt&&"function"==typeof bt.transform;bt||e.warn("Unrecognized transform type "+Tt+"."),bt&&bt.supplyDefaults&&(Ft||Mt)?((Dt=bt.supplyDefaults(dt,H,X,Z)).type=Tt,Dt._module=bt,e.pushUnique(_,bt)):Dt=e.extendFlat({},dt),et.push(Dt)}}},o.supplyLayoutGlobalDefaults=function(Z,H,X){function at(bt,Dt){return e.coerce(Z,H,o.layoutAttributes,bt,Dt)}var _=Z.template;e.isPlainObject(_)&&(H.template=_,H._template=_.layout,H._dataTemplate=_.data),at("autotypenumbers");var K=e.coerceFont(at,"font");e.coerceFont(at,"title.font",e.extendFlat({},K,{size:Math.round(1.4*K.size)})),at("title.text",H._dfltTitle.plot),at("title.xref");var et=at("title.yref");at("title.pad.t"),at("title.pad.r"),at("title.pad.b"),at("title.pad.l");var st=at("title.automargin");at("title.x"),at("title.xanchor"),at("title.y"),at("title.yanchor"),st&&("paper"===et&&(0!==H.title.y&&(H.title.y=1),"auto"===H.title.yanchor&&(H.title.yanchor=0===H.title.y?"top":"bottom")),"container"===et&&("auto"===H.title.y&&(H.title.y=1),"auto"===H.title.yanchor&&(H.title.yanchor=H.title.y<.5?"bottom":"top"))),at("uniformtext.mode")&&at("uniformtext.minsize"),at("autosize",!(Z.width&&Z.height)),at("width"),at("height"),at("minreducedwidth"),at("minreducedheight"),at("margin.l"),at("margin.r"),at("margin.t"),at("margin.b"),at("margin.pad"),at("margin.autoexpand"),Z.width&&Z.height&&o.sanitizeMargins(H),E.getComponentMethod("grid","sizeDefaults")(Z,H),at("paper_bgcolor"),at("separators",X.decimal+X.thousands),at("hidesources"),at("colorway"),at("datarevision");var Tt=at("uirevision");at("editrevision",Tt),at("selectionrevision",Tt),E.getComponentMethod("modebar","supplyLayoutDefaults")(Z,H),E.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Z,H,at),E.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Z,H,at),at("meta"),e.isPlainObject(Z.transition)&&(at("transition.duration"),at("transition.easing"),at("transition.ordering")),E.getComponentMethod("calendars","handleDefaults")(Z,H,"calendar"),E.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Z,H,at),e.coerce(Z,H,c,"scattermode")},o.plotAutoSize=function(H,X,at){var nt,et,_=H._context||{},K=_.frameMargins,st=e.isPlotDiv(H);if(st&&H.emit("plotly_autosize"),_.fillFrame)nt=window.innerWidth,et=window.innerHeight,document.body.style.overflow="hidden";else{var dt=st?window.getComputedStyle(H):{};if(nt=k(dt.width)||k(dt.maxWidth)||at.width,et=k(dt.height)||k(dt.maxHeight)||at.height,P(K)&&K>0){var Tt=1-2*K;nt=Math.round(Tt*nt),et=Math.round(Tt*et)}}var bt=o.layoutAttributes.width.min,Dt=o.layoutAttributes.height.min;nt<bt&&(nt=bt),et<Dt&&(et=Dt);var Ft=!X.width&&Math.abs(at.width-nt)>1,Mt=!X.height&&Math.abs(at.height-et)>1;(Mt||Ft)&&(Ft&&(at.width=nt),Mt&&(at.height=et)),H._initialAutoSize||(H._initialAutoSize={width:nt,height:et}),o.sanitizeMargins(at)},o.supplyLayoutModuleDefaults=function(Z,H,X,at){var nt,et,st,_=E.componentsRegistry,K=H._basePlotModules,dt=E.subplotsRegistry.cartesian;for(nt in _)(st=_[nt]).includeBasePlot&&st.includeBasePlot(Z,H);for(var Tt in K.length||K.push(dt),H._has("cartesian")&&(E.getComponentMethod("grid","contentDefaults")(Z,H),dt.finalizeSubplots(Z,H)),H._subplots)H._subplots[Tt].sort(e.subplotSort);for(et=0;et<K.length;et++)(st=K[et]).supplyLayoutDefaults&&st.supplyLayoutDefaults(Z,H,X);var bt=H._modules;for(et=0;et<bt.length;et++)(st=bt[et]).supplyLayoutDefaults&&st.supplyLayoutDefaults(Z,H,X);var Dt=H._transformModules;for(et=0;et<Dt.length;et++)(st=Dt[et]).supplyLayoutDefaults&&st.supplyLayoutDefaults(Z,H,X,at);for(nt in _)(st=_[nt]).supplyLayoutDefaults&&st.supplyLayoutDefaults(Z,H,X)},o.purge=function(Z){var H=Z._fullLayout||{};void 0!==H._glcontainer&&(H._glcontainer.selectAll(".gl-canvas").remove(),H._glcontainer.remove(),H._glcanvas=null),H._modeBar&&H._modeBar.destroy(),Z._transitionData&&(Z._transitionData._interruptCallbacks&&(Z._transitionData._interruptCallbacks.length=0),Z._transitionData._animationRaf&&window.cancelAnimationFrame(Z._transitionData._animationRaf)),e.clearThrottle(),e.clearResponsive(Z),delete Z.data,delete Z.layout,delete Z._fullData,delete Z._fullLayout,delete Z.calcdata,delete Z.empty,delete Z.fid,delete Z.undoqueue,delete Z.undonum,delete Z.autoplay,delete Z.changed,delete Z._promises,delete Z._redrawTimer,delete Z._hmlumcount,delete Z._hmpixcount,delete Z._transitionData,delete Z._transitioning,delete Z._initialAutoSize,delete Z._transitioningWithDuration,delete Z._dragging,delete Z._dragged,delete Z._dragdata,delete Z._hoverdata,delete Z._snapshotInProgress,delete Z._editing,delete Z._mouseDownTime,delete Z._legendMouseDownTime,Z.removeAllListeners&&Z.removeAllListeners()},o.style=function(Z){var at,H=Z._fullLayout._visibleModules,X=[];for(at=0;at<H.length;at++){var _=H[at];_.style&&e.pushUnique(X,_.style)}for(at=0;at<X.length;at++)X[at](Z)},o.sanitizeMargins=function(Z){if(Z&&Z.margin){var nt,H=Z.width,X=Z.height,at=Z.margin,K=X-(at.t+at.b);H-(at.l+at.r)<0&&(nt=(H-1)/(at.l+at.r),at.l=Math.floor(nt*at.l),at.r=Math.floor(nt*at.r)),K<0&&(nt=(X-1)/(at.t+at.b),at.t=Math.floor(nt*at.t),at.b=Math.floor(nt*at.b))}},o.clearAutoMarginIds=function(Z){Z._fullLayout._pushmarginIds={}},o.allowAutoMargin=function(Z,H){Z._fullLayout._pushmarginIds[H]=1};o.autoMargin=function(Z,H,X){var at=Z._fullLayout,_=at.width,K=at.height,nt=at.margin,st=at.minreducedheight,dt=e.constrain(_-nt.l-nt.r,2,at.minreducedwidth),Tt=e.constrain(K-nt.t-nt.b,2,st),bt=Math.max(0,_-dt),Dt=Math.max(0,K-Tt),Ft=at._pushmargin,Mt=at._pushmarginIds;if(!1!==nt.autoexpand){if(X){var wt=X.pad;if(void 0===wt&&(wt=Math.min(12,nt.l,nt.r,nt.t,nt.b)),bt){var St=(X.l+X.r)/bt;St>1&&(X.l/=St,X.r/=St)}if(Dt){var Ut=(X.t+X.b)/Dt;Ut>1&&(X.t/=Ut,X.b/=Ut)}Ft[H]={l:{val:void 0!==X.xl?X.xl:X.x,size:X.l+wt},r:{val:void 0!==X.xr?X.xr:X.x,size:X.r+wt},b:{val:void 0!==X.yb?X.yb:X.y,size:X.b+wt},t:{val:void 0!==X.yt?X.yt:X.y,size:X.t+wt}},Mt[H]=1}else delete Ft[H],delete Mt[H];if(!at._replotting)return o.doAutoMargin(Z)}},o.doAutoMargin=function(Z){var H=Z._fullLayout,X=H.width,at=H.height;H._size||(H._size={}),O(H);var _=H._size,K=H.margin,nt={t:0,b:0,l:0,r:0},et=e.extendFlat({},_),st=K.l,dt=K.r,Tt=K.t,bt=K.b,Dt=H._pushmargin,Ft=H._pushmarginIds,Mt=H.minreducedwidth,wt=H.minreducedheight;if(!1!==K.autoexpand){for(var St in Dt)Ft[St]||delete Dt[St];var Ut=Z._fullLayout._reservedMargin;for(var Gt in Ut)for(var Pt in Ut[Gt])nt[Pt]=Math.max(nt[Pt],Ut[Gt][Pt]);for(var te in Dt.base={l:{val:0,size:st},r:{val:1,size:dt},t:{val:1,size:Tt},b:{val:0,size:bt}},nt){var _t=0;for(var kt in Dt)"base"!==kt&&P(Dt[kt][te].size)&&(_t=Dt[kt][te].size>_t?Dt[kt][te].size:_t);var zt=Math.max(0,K[te]-_t);nt[te]=Math.max(0,nt[te]-zt)}for(var qt in Dt){var ae=Dt[qt].l||{},oe=Dt[qt].b||{},pe=ae.val,ye=ae.size,Fe=oe.val,Zt=oe.size,Ct=X-nt.r-nt.l,Et=at-nt.t-nt.b;for(var Rt in Dt){if(P(ye)&&Dt[Rt].r){var Ot=Dt[Rt].r.val,It=Dt[Rt].r.size;if(Ot>pe){var gt=(ye*Ot+(It-Ct)*pe)/(Ot-pe),pt=(It*(1-pe)+(ye-Ct)*(1-Ot))/(Ot-pe);gt+pt>st+dt&&(st=gt,dt=pt)}}if(P(Zt)&&Dt[Rt].t){var vt=Dt[Rt].t.val,yt=Dt[Rt].t.size;if(vt>Fe){var Yt=(Zt*vt+(yt-Et)*Fe)/(vt-Fe),Qt=(yt*(1-Fe)+(Zt-Et)*(1-vt))/(vt-Fe);Yt+Qt>bt+Tt&&(bt=Yt,Tt=Qt)}}}}}var le=e.constrain(X-K.l-K.r,2,Mt),he=e.constrain(at-K.t-K.b,2,wt),ke=Math.max(0,X-le),Oe=Math.max(0,at-he);if(ke){var Ae=(st+dt)/ke;Ae>1&&(st/=Ae,dt/=Ae)}if(Oe){var je=(bt+Tt)/Oe;je>1&&(bt/=je,Tt/=je)}if(_.l=Math.round(st)+nt.l,_.r=Math.round(dt)+nt.r,_.t=Math.round(Tt)+nt.t,_.b=Math.round(bt)+nt.b,_.p=Math.round(K.pad),_.w=Math.round(X)-_.l-_.r,_.h=Math.round(at)-_.t-_.b,!H._replotting&&(o.didMarginChange(et,_)||function U(Z){if("_redrawFromAutoMarginCount"in Z._fullLayout)return!1;var H=a.list(Z,"",!0);for(var X in H)if(H[X].autoshift||H[X].shift)return!0;return!1}(Z))){"_redrawFromAutoMarginCount"in H?H._redrawFromAutoMarginCount++:H._redrawFromAutoMarginCount=1;var Ze=3*(1+Object.keys(Ft).length);if(H._redrawFromAutoMarginCount<Ze)return E.call("_doPlot",Z);H._size=et,e.warn("Too many auto-margin redraws.")}!function G(Z){var H=a.list(Z,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(X){for(var at=0;at<H.length;at++){var _=H[at][X];_&&_()}})}(Z)};var Q=["l","r","t","b","p","w","h"];function rt(Z,H,X){var at=!1;var Tt=e.syncOrAsync([o.previousPromises,function st(){if(Z._transitionData)return Z._transitioning=!1,function _(bt){var Dt=Promise.resolve();if(!bt)return Dt;for(;bt.length;)Dt=Dt.then(bt.shift());return Dt}(Z._transitionData._interruptCallbacks)},X.prepareFn,o.rehover,o.reselect,function nt(){return Z.emit("plotly_transitioning",[]),new Promise(function(bt){Z._transitioning=!0,H.duration>0&&(Z._transitioningWithDuration=!0),Z._transitionData._interruptCallbacks.push(function(){at=!0}),X.redraw&&Z._transitionData._interruptCallbacks.push(function(){return E.call("redraw",Z)}),Z._transitionData._interruptCallbacks.push(function(){Z.emit("plotly_transitioninterrupted",[])});var Dt=0,Ft=0;function Mt(){return Dt++,function(){Ft++,!at&&Ft===Dt&&function et(bt){if(Z._transitionData)return function K(bt){if(bt)for(;bt.length;)bt.shift()}(Z._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(X.redraw)return E.call("redraw",Z)}).then(function(){Z._transitioning=!1,Z._transitioningWithDuration=!1,Z.emit("plotly_transitioned",[])}).then(bt)}(bt)}}X.runFn(Mt),setTimeout(Mt())})}],Z);return(!Tt||!Tt.then)&&(Tt=Promise.resolve()),Tt.then(function(){return Z})}o.didMarginChange=function(Z,H){for(var X=0;X<Q.length;X++){var at=Q[X],_=Z[at],K=H[at];if(!P(_)||Math.abs(K-_)>1)return!0}return!1},o.graphJson=function(Z,H,X,at,_,K){(_&&H&&!Z._fullData||_&&!H&&!Z._fullLayout)&&o.supplyDefaults(Z);var et=_?Z._fullLayout:Z.layout,st=(Z._transitionData||{})._frames;function dt(Dt,Ft){if("function"==typeof Dt)return Ft?"_function_":null;if(e.isPlainObject(Dt)){var wt,Mt={};return Object.keys(Dt).sort().forEach(function(St){if(-1===["_","["].indexOf(St.charAt(0))){if("function"==typeof Dt[St])return void(Ft&&(Mt[St]="_function"));if("keepdata"===X){if("src"===St.substr(St.length-3))return}else if("keepstream"===X){if("string"==typeof(wt=Dt[St+"src"])&&wt.indexOf(":")>0&&!e.isPlainObject(Dt.stream))return}else if("keepall"!==X&&"string"==typeof(wt=Dt[St+"src"])&&wt.indexOf(":")>0)return;Mt[St]=dt(Dt[St],Ft)}}),Mt}return Array.isArray(Dt)?Dt.map(function(St){return dt(St,Ft)}):e.isTypedArray(Dt)?e.simpleMap(Dt,e.identity):e.isJSDate(Dt)?e.ms2DateTimeLocal(+Dt):Dt}var Tt={data:((_?Z._fullData:Z.data)||[]).map(function(Dt){var Ft=dt(Dt);return H&&delete Ft.fit,Ft})};if(!H&&(Tt.layout=dt(et),_)){var bt=et._size;Tt.layout.computed={margin:{b:bt.b,l:bt.l,r:bt.r,t:bt.t}}}return st&&(Tt.frames=dt(st)),K&&(Tt.config=dt(Z._context,!0)),"object"===at?Tt:JSON.stringify(Tt)},o.modifyFrames=function(Z,H){var X,at,_,K=Z._transitionData._frames,nt=Z._transitionData._frameHash;for(X=0;X<H.length;X++)switch(at=H[X],at.type){case"replace":var et=(K[at.index]||{}).name,st=(_=at.value).name;K[at.index]=nt[st]=_,st!==et&&(delete nt[et],nt[st]=_);break;case"insert":nt[(_=at.value).name]=_,K.splice(at.index,0,_);break;case"delete":delete nt[(_=K[at.index]).name],K.splice(at.index,1)}return Promise.resolve()},o.computeFrame=function(Z,H){var at,_,K,nt,X=Z._transitionData._frameHash;if(!H)throw new Error("computeFrame must be given a string frame name");var et=X[H.toString()];if(!et)return!1;for(var st=[et],dt=[et.name];et.baseframe&&(et=X[et.baseframe.toString()])&&-1===dt.indexOf(et.name);)st.push(et),dt.push(et.name);for(var Tt={};et=st.pop();)if(et.layout&&(Tt.layout=o.extendLayout(Tt.layout,et.layout)),et.data){if(Tt.data||(Tt.data=[]),!(_=et.traces))for(_=[],at=0;at<et.data.length;at++)_[at]=at;for(Tt.traces||(Tt.traces=[]),at=0;at<et.data.length;at++)null!=(K=_[at])&&(-1===(nt=Tt.traces.indexOf(K))&&(Tt.traces[nt=Tt.data.length]=K),Tt.data[nt]=o.extendTrace(Tt.data[nt],et.data[at]))}return Tt},o.recomputeFrameHash=function(Z){for(var H=Z._transitionData._frameHash={},X=Z._transitionData._frames,at=0;at<X.length;at++){var _=X[at];_&&_.name&&(H[_.name]=_)}},o.extendObjectWithContainers=function(Z,H,X){var at,_,K,nt,st,dt,Tt,bt=e.extendDeepNoArrays({},H||{}),Dt=e.expandObjectPaths(bt),Ft={};if(X&&X.length)for(K=0;K<X.length;K++)void 0===(_=(at=e.nestedProperty(Dt,X[K])).get())?e.nestedProperty(Ft,X[K]).set(null):(at.set(null),e.nestedProperty(Ft,X[K]).set(_));if(Z=e.extendDeepNoArrays(Z||{},Dt),X&&X.length)for(K=0;K<X.length;K++)if(dt=e.nestedProperty(Ft,X[K]).get()){for(Tt=(st=e.nestedProperty(Z,X[K])).get(),Array.isArray(Tt)||st.set(Tt=[]),nt=0;nt<dt.length;nt++){var Mt=dt[nt];Tt[nt]=null===Mt?null:o.extendObjectWithContainers(Tt[nt],Mt)}st.set(Tt)}return Z},o.dataArrayContainers=["transforms","dimensions"],o.layoutArrayContainers=E.layoutArrayContainers,o.extendTrace=function(Z,H){return o.extendObjectWithContainers(Z,H,o.dataArrayContainers)},o.extendLayout=function(Z,H){return o.extendObjectWithContainers(Z,H,o.layoutArrayContainers)},o.transition=function(Z,H,X,at,_,K){var nt={redraw:_.redraw},et={},st=[];return nt.prepareFn=function(){for(var dt=Array.isArray(H)?H.length:0,Tt=at.slice(0,dt),bt=0;bt<Tt.length;bt++){var Dt=Tt[bt],Mt=Z._fullData[Dt]._module;if(Mt){if(Mt.animatable){var wt=Mt.basePlotModule.name;et[wt]||(et[wt]=[]),et[wt].push(Dt)}Z.data[Tt[bt]]=o.extendTrace(Z.data[Tt[bt]],H[bt])}}var St=e.expandObjectPaths(e.extendDeepNoArrays({},X)),Ut=/^[xy]axis[0-9]*$/;for(var Gt in St)!Ut.test(Gt)||delete St[Gt].range;o.extendLayout(Z.layout,St),delete Z.calcdata,o.supplyDefaults(Z),o.doCalcdata(Z);var Pt=e.expandObjectPaths(X);if(Pt){var Vt=Z._fullLayout._plots;for(var te in Vt){var _t=Vt[te],kt=_t.xaxis,zt=_t.yaxis,qt=kt.range.slice(),ae=zt.range.slice(),oe=null,pe=null,ye=null,Fe=null;Array.isArray(Pt[kt._name+".range"])?oe=Pt[kt._name+".range"].slice():Array.isArray((Pt[kt._name]||{}).range)&&(oe=Pt[kt._name].range.slice()),Array.isArray(Pt[zt._name+".range"])?pe=Pt[zt._name+".range"].slice():Array.isArray((Pt[zt._name]||{}).range)&&(pe=Pt[zt._name].range.slice()),qt&&oe&&(kt.r2l(qt[0])!==kt.r2l(oe[0])||kt.r2l(qt[1])!==kt.r2l(oe[1]))&&(ye={xr0:qt,xr1:oe}),ae&&pe&&(zt.r2l(ae[0])!==zt.r2l(pe[0])||zt.r2l(ae[1])!==zt.r2l(pe[1]))&&(Fe={yr0:ae,yr1:pe}),(ye||Fe)&&st.push(e.extendFlat({plotinfo:_t},ye,Fe))}}return Promise.resolve()},nt.runFn=function(dt){var Tt,Ft,bt=Z._fullLayout._basePlotModules,Dt=st.length;if(X)for(Ft=0;Ft<bt.length;Ft++)bt[Ft].transitionAxes&&bt[Ft].transitionAxes(Z,st,K,dt);for(var Mt in Dt?((Tt=e.extendFlat({},K)).duration=0,delete et.cartesian):Tt=K,et){var wt=et[Mt];Z._fullData[wt[0]]._module.basePlotModule.plot(Z,wt,Tt,dt)}},rt(Z,K,nt)},o.transitionFromReact=function(Z,H,X,at){var _=Z._fullLayout,K=_.transition,nt={},et=[];return nt.prepareFn=function(){var st=_._plots;for(var dt in nt.redraw=!1,"some"===H.anim&&(nt.redraw=!0),"some"===X.anim&&(nt.redraw=!0),st){var Tt=st[dt],bt=Tt.xaxis,Dt=Tt.yaxis,Ft=at[bt._name].range.slice(),Mt=at[Dt._name].range.slice(),wt=bt.range.slice(),St=Dt.range.slice();bt.setScale(),Dt.setScale();var Ut=null,Gt=null;(bt.r2l(Ft[0])!==bt.r2l(wt[0])||bt.r2l(Ft[1])!==bt.r2l(wt[1]))&&(Ut={xr0:Ft,xr1:wt}),(Dt.r2l(Mt[0])!==Dt.r2l(St[0])||Dt.r2l(Mt[1])!==Dt.r2l(St[1]))&&(Gt={yr0:Mt,yr1:St}),(Ut||Gt)&&et.push(e.extendFlat({plotinfo:Tt},Ut,Gt))}return Promise.resolve()},nt.runFn=function(st){for(var Dt,Ft,Mt,dt=Z._fullData,bt=Z._fullLayout._basePlotModules,wt=[],St=0;St<dt.length;St++)wt.push(St);function Ut(){if(Z._fullLayout)for(var Pt=0;Pt<bt.length;Pt++)bt[Pt].transitionAxes&&bt[Pt].transitionAxes(Z,et,Dt,st)}function Gt(){if(Z._fullLayout)for(var Pt=0;Pt<bt.length;Pt++)bt[Pt].plot(Z,Mt,Ft,st)}et.length&&H.anim?"traces first"===K.ordering?(Dt=e.extendFlat({},K,{duration:0}),Mt=wt,Ft=K,setTimeout(Ut,K.duration),Gt()):(Dt=K,Mt=null,Ft=e.extendFlat({},K,{duration:0}),setTimeout(Gt,Dt.duration),Ut()):et.length?(Dt=K,Ut()):H.anim&&(Mt=wt,Ft=K,Gt())},rt(Z,K,nt)},o.doCalcdata=function(Z,H){var K,nt,et,st,X=a.list(Z),at=Z._fullData,_=Z._fullLayout,dt=new Array(at.length),Tt=(Z.calcdata||[]).slice();for(Z.calcdata=dt,_._numBoxes=0,_._numViolins=0,_._violinScaleGroupStats={},Z._hmpixcount=0,Z._hmlumcount=0,_._piecolormap={},_._sunburstcolormap={},_._treemapcolormap={},_._iciclecolormap={},_._funnelareacolormap={},et=0;et<at.length;et++)if(Array.isArray(H)&&-1===H.indexOf(et)){dt[et]=Tt[et];continue}for(et=0;et<at.length;et++)(K=at[et])._arrayAttrs=l.findArrayAttributes(K),K._extremes={};var bt=_._subplots.polar||[];for(et=0;et<bt.length;et++)X.push(_[bt[et]].radialaxis,_[bt[et]].angularaxis);for(var Dt in _._colorAxes){var Ft=_[Dt];!1!==Ft.cauto&&(delete Ft.cmin,delete Ft.cmax)}var Mt=!1;function wt(Gt){if(nt=(K=at[Gt])._module,!0===K.visible&&K.transforms){if(nt&&nt.calc){var Pt=nt.calc(Z,K);Pt[0]&&Pt[0].t&&Pt[0].t._scene&&delete Pt[0].t._scene.dirty}for(st=0;st<K.transforms.length;st++){var Vt=K.transforms[st];(nt=h[Vt.type])&&nt.calcTransform&&(K._hasCalcTransform=!0,Mt=!0,nt.calcTransform(Z,K,Vt))}}}function St(Gt,Pt){if(!!(nt=(K=at[Gt])._module).isContainer===Pt){var Vt=[];if(!0===K.visible&&0!==K._length){delete K._indexToPoints;var te=K.transforms||[];for(st=te.length-1;st>=0;st--)if(te[st].enabled){K._indexToPoints=te[st]._indexToPoints;break}nt&&nt.calc&&(Vt=nt.calc(Z,K))}(!Array.isArray(Vt)||!Vt[0])&&(Vt=[{x:f,y:f}]),Vt[0].t||(Vt[0].t={}),Vt[0].trace=K,dt[Gt]=Vt}}for(J(X,at,_),et=0;et<at.length;et++)St(et,!0);for(et=0;et<at.length;et++)wt(et);for(Mt&&J(X,at,_),et=0;et<at.length;et++)St(et,!0);for(et=0;et<at.length;et++)St(et,!1);j(Z);var Ut=function ut(Z,H){var at,_,K,nt,et,X=[];function st(Ct,Et,Rt){var Ot=Et._id.charAt(0);if("histogram2dcontour"===Ct){var It=Et._counterAxes[0],gt=a.getFromId(H,It),pt="x"===Ot||"x"===It&&"category"===gt.type,vt="y"===Ot||"y"===It&&"category"===gt.type;return function(yt,Yt){return 0===yt||0===Yt||pt&&yt===Rt[Yt].length-1||vt&&Yt===Rt.length-1?-1:("y"===Ot?Yt:yt)-1}}return function(yt,Yt){return"y"===Ot?Yt:yt}}var dt={min:function(Ct){return e.aggNums(Math.min,null,Ct)},max:function(Ct){return e.aggNums(Math.max,null,Ct)},sum:function(Ct){return e.aggNums(function(Et,Rt){return Et+Rt},null,Ct)},total:function(Ct){return e.aggNums(function(Et,Rt){return Et+Rt},null,Ct)},mean:function(Ct){return e.mean(Ct)},median:function(Ct){return e.median(Ct)}};for(at=0;at<Z.length;at++){var Tt=Z[at];if("category"===Tt.type){var bt=Tt.categoryorder.match(it);if(bt){var Dt=bt[1],Ft=bt[2],Mt=Tt._id.charAt(0),wt="x"===Mt,St=[];for(_=0;_<Tt._categories.length;_++)St.push([Tt._categories[_],[]]);for(_=0;_<Tt._traceIndices.length;_++){var Ut=Tt._traceIndices[_],Gt=H._fullData[Ut];if(!0===Gt.visible){var Pt=Gt.type;E.traceIs(Gt,"histogram")&&(delete Gt._xautoBinFinished,delete Gt._yautoBinFinished);var Vt="splom"===Pt,te="scattergl"===Pt,_t=H.calcdata[Ut];for(K=0;K<_t.length;K++){var zt,qt,kt=_t[K];if(Vt){var ae=Gt._axesDim[Tt._id];if(!wt){var oe=Gt._diag[ae][0];oe&&(Tt=H._fullLayout[a.id2name(oe)])}var pe=kt.trace.dimensions[ae].values;for(nt=0;nt<pe.length;nt++)for(zt=Tt._categoriesMap[pe[nt]],et=0;et<kt.trace.dimensions.length;et++)et!==ae&&St[zt][1].push(kt.trace.dimensions[et].values[nt])}else if(te){for(nt=0;nt<kt.t.x.length;nt++)wt?(zt=kt.t.x[nt],qt=kt.t.y[nt]):(zt=kt.t.y[nt],qt=kt.t.x[nt]),St[zt][1].push(qt);kt.t&&kt.t._scene&&delete kt.t._scene.dirty}else if(kt.hasOwnProperty("z")){var Fe=st(Gt.type,Tt,qt=kt.z);for(nt=0;nt<qt.length;nt++)for(et=0;et<qt[nt].length;et++)(zt=Fe(et,nt))+1&&St[zt][1].push(qt[nt][et])}else for(void 0===(zt=kt.p)&&(zt=kt[Mt]),void 0===(qt=kt.s)&&(qt=kt.v),void 0===qt&&(qt=wt?kt.y:kt.x),Array.isArray(qt)||(qt=void 0===qt?[]:[qt]),nt=0;nt<qt.length;nt++)St[zt][1].push(qt[nt])}}}Tt._categoriesValue=St;var Zt=[];for(_=0;_<St.length;_++)Zt.push([St[_][0],dt[Dt](St[_][1])]);Zt.sort(function(Ct,Et){return Ct[1]-Et[1]}),Tt._categoriesAggregatedValue=Zt,Tt._initialCategories=Zt.map(function(Ct){return Ct[0]}),"descending"===Ft&&Tt._initialCategories.reverse(),X=X.concat(Tt.sortByInitialCategories())}}}return X}(X,Z);if(Ut.length){for(_._numBoxes=0,_._numViolins=0,et=0;et<Ut.length;et++)St(Ut[et],!0);for(et=0;et<Ut.length;et++)St(Ut[et],!1);j(Z)}E.getComponentMethod("fx","calc")(Z),E.getComponentMethod("errorbars","calc")(Z)};var it=/(total|sum|min|max|mean|median) (ascending|descending)/;function J(Z,H,X){var at={};function _(st){st.clearCalc(),"multicategory"===st.type&&st.setupMultiCategory(H),at[st._id]=1}e.simpleMap(Z,_);for(var K=X._axisMatchGroups||[],nt=0;nt<K.length;nt++)for(var et in K[nt])at[et]||_(X[a.id2name(et)])}function j(Z){var _,K,nt,H=Z._fullLayout,X=H._visibleModules,at={};for(K=0;K<X.length;K++){var et=X[K],st=et.crossTraceCalc;if(st){var dt=et.basePlotModule.name;at[dt]?e.pushUnique(at[dt],st):at[dt]=[st]}}for(nt in at){var Tt=at[nt],bt=H._subplots[nt];if(Array.isArray(bt))for(_=0;_<bt.length;_++){var Dt=bt[_],Ft="cartesian"===nt?H._plots[Dt]:H[Dt];for(K=0;K<Tt.length;K++)Tt[K](Z,Ft,Dt)}else for(K=0;K<Tt.length;K++)Tt[K](Z)}}o.rehover=function(Z){Z._fullLayout._rehover&&Z._fullLayout._rehover()},o.redrag=function(Z){Z._fullLayout._redrag&&Z._fullLayout._redrag()},o.reselect=function(Z){var H=Z._fullLayout,X=(Z.layout||{}).selections,at=H._previousSelections;H._previousSelections=X;var _=H._reselect||JSON.stringify(X)!==JSON.stringify(at);E.getComponentMethod("selections","reselect")(Z,_)},o.generalUpdatePerTraceModule=function(Z,H,X,at){var nt,_=H.traceHash,K={};for(nt=0;nt<X.length;nt++){var et=X[nt],st=et[0].trace;st.visible&&(K[st.type]=K[st.type]||[],K[st.type].push(et))}for(var dt in _)if(!K[dt]){var Tt=_[dt][0];Tt[0].trace.visible=!1,K[dt]=[Tt]}for(var Dt in K){var Ft=K[Dt];Ft[0][0].trace._module.plot(Z,H,e.filterVisible(Ft),at)}H.traceHash=K},o.plotBasePlot=function(Z,H,X,at,_){var K=E.getModule(Z),nt=v(H.calcdata,K)[0];K.plot(H,nt,at,_)},o.cleanBasePlot=function(Z,H,X,at,_){var K=_._has&&_._has(Z),nt=X._has&&X._has(Z);K&&!nt&&_["_"+Z+"layer"].selectAll("g.trace").remove()}},9813:function(tt){"use strict";tt.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(tt,W,t){"use strict";var A=t(71828),g=t(61082).tester,i=A.findIndexOfMin,P=A.isAngleInsideSector,E=A.angleDelta,l=A.angleDist;function e(o,h,M,T){var L,m,S=T[0],b=T[1],n=y(Math.sin(h)-Math.sin(o)),C=y(Math.cos(h)-Math.cos(o)),p=Math.tan(M),F=y(1/p),D=n/C,N=b-D*S;return F?n&&C?m=p*(L=N/(p-D)):C?(L=b*F,m=b):(L=S,m=S*p):n&&C?(L=0,m=N):C?(L=0,m=b):L=m=NaN,[L,m]}function s(o,h,M,T){return A.isFullCircle([h,M])?function f(o,h){var L,M=h.length,T=new Array(M+1);for(L=0;L<M;L++){var m=h[L];T[L]=[o*Math.cos(m),o*Math.sin(m)]}return T[L]=T[0].slice(),T}(o,T):function a(o,h,M,T){var S,b,L=T.length,m=[];function n(z){return[o*Math.cos(z),o*Math.sin(z)]}function C(z,U,G){return e(z,U,G,n(z))}function p(z){return A.mod(z,L)}function F(z){return P(z,[h,M])}var D=i(T,function(z){return F(z)?l(z,h):1/0}),N=C(T[D],T[p(D-1)],h);for(m.push(N),S=D,b=0;b<L;S++,b++){var k=T[p(S)];if(!F(k))break;m.push(n(k))}var O=i(T,function(z){return F(z)?l(z,M):1/0}),B=C(T[O],T[p(O+1)],M);return m.push(B),m.push([0,0]),m.push(m[0].slice()),m}(o,h,M,T)}function y(o){return Math.abs(o)>1e-10?o:0}function v(o,h,M){h=h||0,M=M||0;for(var T=o.length,L=new Array(T),m=0;m<T;m++){var S=o[m];L[m]=[h+S[0],M-S[1]]}return L}tt.exports={isPtInsidePolygon:function x(o,h,M,T,L){if(!P(h,T))return!1;var m,S;M[0]<M[1]?(m=M[0],S=M[1]):(m=M[1],S=M[0]);var b=g(s(m,T[0],T[1],L)),n=g(s(S,T[0],T[1],L)),C=[o*Math.cos(h),o*Math.sin(h)];return n.contains(C)&&!b.contains(C)},findPolygonOffset:function c(o,h,M,T){for(var L=1/0,m=1/0,S=s(o,h,M,T),b=0;b<S.length;b++){var n=S[b];L=Math.min(L,n[0]),m=Math.min(m,-n[1])}return[L,m]},findEnclosingVertexAngles:function u(o,h){var T=i(h,function(m){var S=E(m,o);return S>0?S:1/0}),L=A.mod(T+1,h.length);return[h[T],h[L]]},findIntersectionXY:e,findXYatLength:function r(o,h,M,T){var L=-h*M,m=h*h+1,S=2*(h*L-M),n=Math.sqrt(S*S-4*m*(L*L+M*M-o*o)),C=(-S+n)/(2*m),p=(-S-n)/(2*m);return[[C,h*C+L+T],[p,h*p+L+T]]},clampTiny:y,pathPolygon:function w(o,h,M,T,L,m){return"M"+v(s(o,h,M,T),L,m).join("L")},pathPolygonAnnulus:function d(o,h,M,T,L,m,S){var b,n;o<h?(b=o,n=h):(b=h,n=o);var C=v(s(b,M,T,L),m,S);return"M"+v(s(n,M,T,L),m,S).reverse().join("L")+"M"+C.join("L")}}},23580:function(tt,W,t){"use strict";var A=t(27659).AU,g=t(71828).counterRegex,i=t(77997),P=t(9813),E=P.attr,l=P.name,x=g(l),e={};e[E]={valType:"subplotid",dflt:l,editType:"calc"},tt.exports={attr:E,name:l,idRoot:l,idRegex:x,attrRegex:x,attributes:e,layoutAttributes:t(73812),supplyLayoutDefaults:t(68993),plot:function r(a){for(var s=a._fullLayout,c=a.calcdata,u=s._subplots[l],y=0;y<u.length;y++){var v=u[y],w=A(c,l,v),d=s[v]._subplot;d||(d=i(a,v),s[v]._subplot=d),d.plot(w,s,a._promises)}},clean:function f(a,s,c,u){for(var y=u._subplots[l]||[],v=u._has&&u._has("gl"),w=s._has&&s._has("gl"),d=v&&!w,o=0;o<y.length;o++){var h=y[o],M=u[h]._subplot;if(!s[h]&&M)for(var T in M.framework.remove(),M.layers["radial-axis-title"].remove(),M.clipPaths)M.clipPaths[T].remove();d&&M._scene&&(M._scene.destroy(),M._scene=null)}},toSVG:t(93612).toSVG}},73812:function(tt,W,t){"use strict";var A=t(22399),g=t(13838),i=t(27670).Y,P=t(71828).extendFlat,E=t(30962).overrideAll,l=E({color:g.color,showline:P({},g.showline,{dflt:!0}),linecolor:g.linecolor,linewidth:g.linewidth,showgrid:P({},g.showgrid,{dflt:!0}),gridcolor:g.gridcolor,gridwidth:g.gridwidth,griddash:g.griddash},"plot","from-root"),x=E({tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:g.ticks,ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,showtickprefix:g.showtickprefix,tickprefix:g.tickprefix,showticksuffix:g.showticksuffix,ticksuffix:g.ticksuffix,showexponent:g.showexponent,exponentformat:g.exponentformat,minexponent:g.minexponent,separatethousands:g.separatethousands,tickfont:g.tickfont,tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,layer:g.layer},"plot","from-root"),e={visible:P({},g.visible,{dflt:!0}),type:P({},g.type,{values:["-","linear","log","date","category"]}),autotypenumbers:g.autotypenumbers,autorange:P({},g.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},range:P({},g.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:g.categoryorder,categoryarray:g.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:P({},g.title.text,{editType:"plot",dflt:""}),font:P({},g.title.font,{editType:"plot"}),editType:"plot"},hoverformat:g.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:g._deprecated.title,titlefont:g._deprecated.titlefont}};P(e,l,x);var r={visible:P({},g.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:g.autotypenumbers,categoryorder:g.categoryorder,categoryarray:g.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:g.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};P(r,l,x),tt.exports={domain:i({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:A.background},radialaxis:e,angularaxis:r,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(tt,W,t){"use strict";var A=t(71828),g=t(7901),i=t(44467),P=t(49119),E=t(27659).NG,l=t(26218),x=t(38701),e=t(96115),r=t(89426),f=t(15258),a=t(92128),s=t(4322),c=t(73812),u=t(12101),y=t(9813),v=y.axisNames;function w(o,h,M,T){var L=M("bgcolor");T.bgColor=g.combine(L,T.paper_bgcolor);var m=M("sector");M("hole");var n,S=E(T.fullData,y.name,T.id),b=T.layoutOut;function C(J,j){return M(n+"."+J,j)}for(var p=0;p<v.length;p++){A.isPlainObject(o[n=v[p]])||(o[n]={});var F=o[n],D=i.newContainer(h,n);D._id=D._name=n,D._attr=T.id+"."+n,D._traceIndices=S.map(function(J){return J._expandedIndex});var N=y.axisName2dataArray[n],k=d(F,D,C,S,N,T);f(F,D,C,{axData:S,dataAttr:N});var O=C("visible");switch(u(D,h,b),C("uirevision",h.uirevision),D._m=1,n){case"radialaxis":var B=C("autorange",!D.isValidRange(F.range));F.autorange=B,B&&("linear"===k||"-"===k)&&C("rangemode"),"reversed"===B&&(D._m=-1),C("range"),D.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if("date"===k){A.log("Polar plots do not support date angular axes yet.");for(var z=0;z<S.length;z++)S[z].visible=!1;k=F.type=D.type="linear"}C("linear"===k?"thetaunit":"period");var U=C("direction");C("rotation",{counterclockwise:0,clockwise:90}[U])}if(r(F,D,C,D.type,{tickSuffixDflt:"degrees"===D.thetaunit?"\xb0":void 0}),O){var G,Q,rt,it,ut=T.font||{};Q=(G=C("color"))===F.color?G:ut.color,rt=ut.size,it=ut.family,l(F,D,C,D.type),e(F,D,C,D.type,{font:{color:Q,size:rt,family:it}}),x(F,D,C,{outerTicks:!0}),a(F,D,C,{dfltColor:G,bgColor:T.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c[n]}),C("layer"),"radialaxis"===n&&(C("side"),C("angle",m[0]),C("title.text"),A.coerceFont(C,"title.font",{color:Q,size:A.bigFont(rt),family:it}))}"category"!==k&&C("hoverformat"),D._input=F}"category"===h.angularaxis.type&&M("gridshape")}function d(o,h,M,T,L,m){var S=M("autotypenumbers",m.autotypenumbersDflt);if("-"===M("type")){for(var n,C=0;C<T.length;C++)if(T[C].visible){n=T[C];break}n&&n[L]&&(h.type=s(n[L],"gregorian",{noMultiCategory:!0,autotypenumbers:S})),"-"===h.type?h.type="linear":o.type=h.type}return h.type}tt.exports=function(h,M,T){P(h,M,T,{type:y.name,attributes:c,handleDefaults:w,font:M.font,autotypenumbersDflt:M.autotypenumbers,paper_bgcolor:M.paper_bgcolor,fullData:T,layoutOut:M})}},77997:function(tt,W,t){"use strict";var A=t(39898),g=t(84267),i=t(73972),P=t(71828),E=P.strRotate,l=P.strTranslate,x=t(7901),e=t(91424),r=t(74875),f=t(89298),a=t(21994),s=t(12101),c=t(71739).doAutoRange,u=t(29323),y=t(28569),v=t(30211),w=t(92998),d=t(47322).prepSelect,o=t(47322).selectOnClick,h=t(47322).clearOutline,M=t(6964),T=t(33306),L=t(61549).redrawReglTraces,m=t(18783).MID_SHIFT,S=t(9813),b=t(10869),n=t(23893),C=n.smith,p=n.reactanceArc,F=n.resistanceArc,D=n.smithTransform,N=P._,k=P.mod,O=P.deg2rad,B=P.rad2deg;function z(ut,J,j){this.isSmith=j||!1,this.id=J,this.gd=ut,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var Z=ut._fullLayout;this.clipIds.forTraces="clip"+Z._uid+J+"-for-traces",this.clipPaths.forTraces=Z._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=Z["_"+(j?"smith":"polar")+"layer"].append("g").attr("class",J),this.getHole=function(X){return this.isSmith?0:X.hole},this.getSector=function(X){return this.isSmith?[0,360]:X.sector},this.getRadial=function(X){return this.isSmith?X.realaxis:X.radialaxis},this.getAngular=function(X){return this.isSmith?X.imaginaryaxis:X.angularaxis},j||(this.radialTickLayout=null,this.angularTickLayout=null)}var U=z.prototype;function G(ut){var J=ut.ticks+String(ut.ticklen)+String(ut.showticklabels);return"side"in ut&&(J+=ut.side),J}function rt(ut,J){return J[P.findIndexOfMin(J,function(H){return P.angleDist(ut,H)})]}function it(ut,J,j){return J?(ut.attr("display",null),ut.attr(j)):ut&&ut.attr("display","none"),ut}tt.exports=function(J,j,Z){return new z(J,j,Z)},U.plot=function(ut,J){for(var j=this,Z=J[j.id],H=!1,X=0;X<ut.length;X++)if(!1===ut[X][0].trace.cliponaxis){H=!0;break}j._hasClipOnAxisFalse=H,j.updateLayers(J,Z),j.updateLayout(J,Z),r.generalUpdatePerTraceModule(j.gd,j,ut,Z),j.updateFx(J,Z),j.isSmith&&(delete Z.realaxis.range,delete Z.imaginaryaxis.range)},U.updateLayers=function(ut,J){var j=this,Z=j.isSmith,H=j.layers,X=j.getRadial(J),at=j.getAngular(J),_=S.layerNames,K=_.indexOf("frontplot"),nt=_.slice(0,K),et="below traces"===at.layer,st="below traces"===X.layer;et&&nt.push("angular-line"),st&&nt.push("radial-line"),et&&nt.push("angular-axis"),st&&nt.push("radial-axis"),nt.push("frontplot"),et||nt.push("angular-line"),st||nt.push("radial-line"),et||nt.push("angular-axis"),st||nt.push("radial-axis");var dt=(Z?"smith":"polar")+"sublayer",Tt=j.framework.selectAll("."+dt).data(nt,String);Tt.enter().append("g").attr("class",function(bt){return dt+" "+bt}).each(function(bt){var Dt=H[bt]=A.select(this);switch(bt){case"frontplot":Z||Dt.append("g").classed("barlayer",!0),Dt.append("g").classed("scatterlayer",!0);break;case"backplot":Dt.append("g").classed("maplayer",!0);break;case"plotbg":H.bg=Dt.append("path");break;case"radial-grid":case"angular-grid":Dt.style("fill","none");break;case"radial-line":Dt.append("line").style("fill","none");break;case"angular-line":Dt.append("path").style("fill","none")}}),Tt.order()},U.updateLayout=function(ut,J){var j=this,Z=j.layers,H=ut._size,X=j.getRadial(J),at=j.getAngular(J),_=J.domain.x,K=J.domain.y;j.xOffset=H.l+H.w*_[0],j.yOffset=H.t+H.h*(1-K[1]);var nt=j.xLength=H.w*(_[1]-_[0]),et=j.yLength=H.h*(K[1]-K[0]),st=j.getSector(J);j.sectorInRad=st.map(O);var Mt,wt,St,Ut,Gt,dt=j.sectorBBox=function Q(ut){var Tt,J=ut[0],Z=ut[1]-J,H=k(J,360),X=H+Z,at=Math.cos(O(H)),_=Math.sin(O(H)),K=Math.cos(O(X)),nt=Math.sin(O(X));return Tt=H<=90&&X>=90||H>90&&X>=450?1:_<=0&&nt<=0?0:Math.max(_,nt),[H<=180&&X>=180||H>180&&X>=540?-1:at>=0&&K>=0?0:Math.min(at,K),H<=270&&X>=270||H>270&&X>=630?-1:_>=0&&nt>=0?0:Math.min(_,nt),X>=360?1:at<=0&&K<=0?0:Math.max(at,K),Tt]}(st),Tt=dt[2]-dt[0],Dt=et/nt,Ft=Math.abs((dt[3]-dt[1])/Tt);Dt>Ft?(Mt=nt,St=[_[0],_[1]],Ut=[K[0]+(Gt=(et-(wt=nt*Ft))/H.h/2),K[1]-Gt]):(wt=et,St=[_[0]+(Gt=(nt-(Mt=et/Ft))/H.w/2),_[1]-Gt],Ut=[K[0],K[1]]),j.xLength2=Mt,j.yLength2=wt,j.xDomain2=St,j.yDomain2=Ut;var pe,Pt=j.xOffset2=H.l+H.w*St[0],Vt=j.yOffset2=H.t+H.h*(1-Ut[1]),te=j.radius=Mt/Tt,_t=j.innerRadius=j.getHole(J)*te,kt=j.cx=Pt-te*dt[0],zt=j.cy=Vt+te*dt[3],qt=j.cxx=kt-Pt,ae=j.cyy=zt-Vt,oe=X.side;"counterclockwise"===oe?(pe=oe,oe="top"):"clockwise"===oe&&(pe=oe,oe="bottom"),j.radialAxis=j.mockAxis(ut,J,X,{_id:"x",side:oe,_trueSide:pe,domain:[_t/H.w,te/H.w]}),j.angularAxis=j.mockAxis(ut,J,at,{side:"right",domain:[0,Math.PI],autorange:!1}),j.doAutoRange(ut,J),j.updateAngularAxis(ut,J),j.updateRadialAxis(ut,J),j.updateRadialAxisTitle(ut,J),j.xaxis=j.mockCartesianAxis(ut,J,{_id:"x",domain:St}),j.yaxis=j.mockCartesianAxis(ut,J,{_id:"y",domain:Ut});var ye=j.pathSubplot();j.clipPaths.forTraces.select("path").attr("d",ye).attr("transform",l(qt,ae)),Z.frontplot.attr("transform",l(Pt,Vt)).call(e.setClipUrl,j._hasClipOnAxisFalse?null:j.clipIds.forTraces,j.gd),Z.bg.attr("d",ye).attr("transform",l(kt,zt)).call(x.fill,J.bgcolor)},U.mockAxis=function(ut,J,j,Z){var H=P.extendFlat({},j,Z);return s(H,J,ut),H},U.mockCartesianAxis=function(ut,J,j){var Z=this,H=Z.isSmith,X=j._id,at=P.extendFlat({type:"linear"},j);a(at,ut);var _={x:[0,2],y:[1,3]};return at.setRange=function(){var K=Z.sectorBBox,nt=_[X],et=Z.radialAxis._rl,st=(et[1]-et[0])/(1-Z.getHole(J));at.range=[K[nt[0]]*st,K[nt[1]]*st]},at.isPtWithinRange="x"!==X||H?function(){return!0}:function(K){return Z.isPtInside(K)},at.setRange(),at.setScale(),at},U.doAutoRange=function(ut,J){var j=this,Z=j.gd,H=j.radialAxis,X=j.getRadial(J);c(Z,H);var at=H.range;X.range=at.slice(),X._input.range=at.slice(),H._rl=[H.r2l(at[0],null,"gregorian"),H.r2l(at[1],null,"gregorian")]},U.updateRadialAxis=function(ut,J){var j=this,Z=j.gd,H=j.layers,X=j.radius,at=j.innerRadius,_=j.cx,K=j.cy,nt=j.getRadial(J),et=k(j.getSector(J)[0],360),st=j.radialAxis,dt=at<X,Tt=j.isSmith;Tt||(j.fillViewInitialKey("radialaxis.angle",nt.angle),j.fillViewInitialKey("radialaxis.range",st.range.slice()),st.setGeometry()),"auto"===st.tickangle&&et>90&&et<=270&&(st.tickangle=180);var bt=Tt?function(te){var _t=D(j,C([te.x,0]));return l(_t[0]-_,_t[1]-K)}:function(te){return l(st.l2p(te.x)+at,0)},Dt=Tt?function(te){return F(j,te.x,-1/0,1/0)}:function(te){return j.pathArc(st.r2p(te.x)+at)},Ft=G(nt);if(j.radialTickLayout!==Ft&&(H["radial-axis"].selectAll(".xtick").remove(),j.radialTickLayout=Ft),dt){st.setScale();var Mt=0,wt=Tt?(st.tickvals||[]).filter(function(te){return te>=0}).map(function(te){return f.tickText(st,te,!0,!1)}):f.calcTicks(st),St=Tt?wt:f.clipEnds(st,wt),Ut=f.getTickSigns(st)[2];Tt&&(("top"===st.ticks&&"bottom"===st.side||"bottom"===st.ticks&&"top"===st.side)&&(Ut=-Ut),"top"===st.ticks&&"top"===st.side&&(Mt=-st.ticklen),"bottom"===st.ticks&&"bottom"===st.side&&(Mt=st.ticklen)),f.drawTicks(Z,st,{vals:wt,layer:H["radial-axis"],path:f.makeTickPath(st,0,Ut),transFn:bt,crisp:!1}),f.drawGrid(Z,st,{vals:St,layer:H["radial-grid"],path:Dt,transFn:P.noop,crisp:!1}),f.drawLabels(Z,st,{vals:wt,layer:H["radial-axis"],transFn:bt,labelFns:f.makeLabelFns(st,Mt)})}var Gt=j.radialAxisAngle=j.vangles?B(rt(O(nt.angle),j.vangles)):nt.angle,Pt=l(_,K),Vt=Pt+E(-Gt);it(H["radial-axis"],dt&&(nt.showticklabels||nt.ticks),{transform:Vt}),it(H["radial-grid"],dt&&nt.showgrid,{transform:Tt?"":Pt}),it(H["radial-line"].select("line"),dt&&nt.showline,{x1:Tt?-X:at,y1:0,x2:X,y2:0,transform:Vt}).attr("stroke-width",nt.linewidth).call(x.stroke,nt.linecolor)},U.updateRadialAxisTitle=function(ut,J,j){if(!this.isSmith){var Z=this,H=Z.gd,X=Z.radius,at=Z.cx,_=Z.cy,K=Z.getRadial(J),nt=Z.id+"title",et=0;if(K.title){var st=e.bBox(Z.layers["radial-axis"].node()).height,dt=K.title.font.size,Tt=K.side;et="top"===Tt?dt:"counterclockwise"===Tt?-(st+.4*dt):st+.8*dt}var bt=void 0!==j?j:Z.radialAxisAngle,Dt=O(bt),Ft=Math.cos(Dt),Mt=Math.sin(Dt),wt=at+X/2*Ft+et*Mt,St=_-X/2*Mt+et*Ft;Z.layers["radial-axis-title"]=w.draw(H,nt,{propContainer:K,propName:Z.id+".radialaxis.title",placeholder:N(H,"Click to enter radial axis title"),attributes:{x:wt,y:St,"text-anchor":"middle"},transform:{rotate:-bt}})}},U.updateAngularAxis=function(ut,J){var j=this,Z=j.gd,H=j.layers,X=j.radius,at=j.innerRadius,_=j.cx,K=j.cy,nt=j.getAngular(J),et=j.angularAxis,st=j.isSmith;st||(j.fillViewInitialKey("angularaxis.rotation",nt.rotation),et.setGeometry(),et.setScale());var dt=st?function(_t){var kt=D(j,C([0,_t.x]));return Math.atan2(kt[0]-_,kt[1]-K)-Math.PI/2}:function(_t){return et.t2g(_t.x)};"linear"===et.type&&"radians"===et.thetaunit&&(et.tick0=B(et.tick0),et.dtick=B(et.dtick));var Tt=function(_t){return l(_+X*Math.cos(_t),K-X*Math.sin(_t))},bt=st?function(_t){var kt=D(j,C([0,_t.x]));return l(kt[0],kt[1])}:function(_t){return Tt(dt(_t))},Dt=st?function(_t){var kt=D(j,C([0,_t.x])),zt=Math.atan2(kt[0]-_,kt[1]-K)-Math.PI/2;return l(kt[0],kt[1])+E(-B(zt))}:function(_t){var kt=dt(_t);return Tt(kt)+E(-B(kt))},Ft=st?function(_t){return p(j,_t.x,0,1/0)}:function(_t){var kt=dt(_t),zt=Math.cos(kt),qt=Math.sin(kt);return"M"+[_+at*zt,K-at*qt]+"L"+[_+X*zt,K-X*qt]},wt=f.makeLabelFns(et,0).labelStandoff,St={xFn:function(_t){var kt=dt(_t);return Math.cos(kt)*wt},yFn:function(_t){var kt=dt(_t),zt=Math.sin(kt)>0?.2:1;return-Math.sin(kt)*(wt+_t.fontSize*zt)+Math.abs(Math.cos(kt))*(_t.fontSize*m)},anchorFn:function(_t){var kt=dt(_t),zt=Math.cos(kt);return Math.abs(zt)<.1?"middle":zt>0?"start":"end"},heightFn:function(_t,kt,zt){var qt=dt(_t);return-.5*(1+Math.sin(qt))*zt}},Ut=G(nt);j.angularTickLayout!==Ut&&(H["angular-axis"].selectAll("."+et._id+"tick").remove(),j.angularTickLayout=Ut);var Pt,Gt=st?[1/0].concat(et.tickvals||[]).map(function(_t){return f.tickText(et,_t,!0,!1)}):f.calcTicks(et);if(st&&(Gt[0].text="\u221e",Gt[0].fontSize*=1.75),"linear"===J.gridshape?(Pt=Gt.map(dt),P.angleDelta(Pt[0],Pt[1])<0&&(Pt=Pt.slice().reverse())):Pt=null,j.vangles=Pt,"category"===et.type&&(Gt=Gt.filter(function(_t){return P.isAngleInsideSector(dt(_t),j.sectorInRad)})),et.visible){var Vt="inside"===et.ticks?-1:1;f.drawTicks(Z,et,{vals:Gt,layer:H["angular-axis"],path:"M"+Vt*((et.linewidth||1)/2)+",0h"+Vt*et.ticklen,transFn:Dt,crisp:!1}),f.drawGrid(Z,et,{vals:Gt,layer:H["angular-grid"],path:Ft,transFn:P.noop,crisp:!1}),f.drawLabels(Z,et,{vals:Gt,layer:H["angular-axis"],repositionOnUpdate:!0,transFn:bt,labelFns:St})}it(H["angular-line"].select("path"),nt.showline,{d:j.pathSubplot(),transform:l(_,K)}).attr("stroke-width",nt.linewidth).call(x.stroke,nt.linecolor)},U.updateFx=function(ut,J){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(ut),this.updateRadialDrag(ut,J,0),this.updateRadialDrag(ut,J,1)),this.updateHoverAndMainDrag(ut))},U.updateHoverAndMainDrag=function(ut){var Pt,Vt,J=this,j=J.isSmith,Z=J.gd,X=ut._zoomlayer,at=S.MINZOOM,_=S.OFFEDGE,K=J.radius,nt=J.innerRadius,et=J.cx,st=J.cy,dt=J.cxx,Tt=J.cyy,bt=J.sectorInRad,Dt=J.vangles,Ft=J.radialAxis,Mt=b.clampTiny,wt=b.findXYatLength,St=b.findEnclosingVertexAngles,Ut=S.cornerHalfWidth,Gt=S.cornerLen/2,te=u.makeDragger(J.layers,"path","maindrag",!1===ut.dragmode?"none":"crosshair");A.select(te).attr("d",J.pathSubplot()).attr("transform",l(et,st)),te.onmousemove=function(Ae){v.hover(Z,Ae,J.id),Z._fullLayout._lasthover=te,Z._fullLayout._hoversubplot=J.id},te.onmouseout=function(Ae){Z._dragging||y.unhover(Z,Ae)};var kt,zt,qt,ae,oe,pe,ye,Fe,Zt,_t={element:te,gd:Z,subplot:J.id,plotinfo:{id:J.id,xaxis:J.xaxis,yaxis:J.yaxis},xaxes:[J.xaxis],yaxes:[J.yaxis]};function Ct(Ae,je){return Math.sqrt(Ae*Ae+je*je)}function Et(Ae,je){return Ct(Ae-dt,je-Tt)}function Rt(Ae,je){return Math.atan2(Tt-je,Ae-dt)}function Ot(Ae,je){return[Ae*Math.cos(je),Ae*Math.sin(-je)]}function It(Ae,je){if(0===Ae)return J.pathSector(2*Ut);var Ze=Gt/Ae,Lr=je-Ze,fe=je+Ze,Ve=Math.max(0,Math.min(Ae,K)),He=Ve-Ut,wr=Ve+Ut;return"M"+Ot(He,Lr)+"A"+[He,He]+" 0,0,0 "+Ot(He,fe)+"L"+Ot(wr,fe)+"A"+[wr,wr]+" 0,0,1 "+Ot(wr,Lr)+"Z"}function gt(Ae,je,Ze){if(0===Ae)return J.pathSector(2*Ut);var wr,ar,Lr=Ot(Ae,je),fe=Ot(Ae,Ze),Ve=Mt((Lr[0]+fe[0])/2),He=Mt((Lr[1]+fe[1])/2);if(Ve&&He){var ie=He/Ve,ne=-1/ie,ve=wt(Ut,ie,Ve,He);wr=wt(Gt,ne,ve[0][0],ve[0][1]),ar=wt(Gt,ne,ve[1][0],ve[1][1])}else{var xe,Te;He?(xe=Gt,Te=Ut):(xe=Ut,Te=Gt),wr=[[Ve-xe,He-Te],[Ve+xe,He-Te]],ar=[[Ve-xe,He+Te],[Ve+xe,He+Te]]}return"M"+wr.join("L")+"L"+ar.reverse().join("L")+"Z"}function vt(Ae,je){return je=Math.max(Math.min(je,K),nt),Ae<_?Ae=0:K-Ae<_?Ae=K:je<_?je=0:K-je<_&&(je=K),Math.abs(je-Ae)>at?(Ae<je?(qt=Ae,ae=je):(qt=je,ae=Ae),!0):(qt=null,ae=null,!1)}function yt(Ae,je){je=je||"M0,0Z",Fe.attr("d",Ae=Ae||oe),Zt.attr("d",je),u.transitionZoombox(Fe,Zt,pe,ye),pe=!0;var Ze={};ke(Ze),Z.emit("plotly_relayouting",Ze)}function Yt(Ae,je){var wr,ar,Ze=kt+(Ae*=Pt),Lr=zt+(je*=Vt),fe=Et(kt,zt),Ve=Math.min(Et(Ze,Lr),K),He=Rt(kt,zt);vt(fe,Ve)&&(wr=oe+J.pathSector(ae),qt&&(wr+=J.pathSector(qt)),ar=It(qt,He)+It(ae,He)),yt(wr,ar)}function Qt(Ae,je,Ze,Lr){var fe=b.findIntersectionXY(Ze,Lr,Ze,[Ae-dt,Tt-je]);return Ct(fe[0],fe[1])}function le(Ae,je){var ne,ve,Ze=kt+Ae,Lr=zt+je,fe=Rt(kt,zt),Ve=Rt(Ze,Lr),He=St(fe,Dt),wr=St(Ve,Dt);vt(Qt(kt,zt,He[0],He[1]),Math.min(Qt(Ze,Lr,wr[0],wr[1]),K))&&(ne=oe+J.pathSector(ae),qt&&(ne+=J.pathSector(qt)),ve=[gt(qt,He[0],He[1]),gt(ae,He[0],He[1])].join(" ")),yt(ne,ve)}function he(){if(u.removeZoombox(Z),null!==qt&&null!==ae){var Ae={};ke(Ae),u.showDoubleClickNotifier(Z),i.call("_guiRelayout",Z,Ae)}}function ke(Ae){var je=Ft._rl,Ze=(je[1]-je[0])/(1-nt/K)/K;Ae[J.id+".radialaxis.range"]=[je[0]+(qt-nt)*Ze,je[0]+(ae-nt)*Ze]}function Oe(Ae,je){var Ze=Z._fullLayout.clickmode;if(u.removeZoombox(Z),2===Ae){var Lr={};for(var fe in J.viewInitial)Lr[J.id+"."+fe]=J.viewInitial[fe];Z.emit("plotly_doubleclick",null),i.call("_guiRelayout",Z,Lr)}Ze.indexOf("select")>-1&&1===Ae&&o(je,Z,[J.xaxis],[J.yaxis],J.id,_t),Ze.indexOf("event")>-1&&v.click(Z,je,J.id)}_t.prepFn=function(Ae,je,Ze){var Lr=Z._fullLayout.dragmode,fe=te.getBoundingClientRect();Z._fullLayout._calcInverseTransform(Z),Pt=Z._fullLayout._invScaleX,Vt=Z._fullLayout._invScaleY;var He=P.apply3DTransform(Z._fullLayout._invTransform)(je-fe.left,Ze-fe.top);if(kt=He[0],zt=He[1],Dt){var wr=b.findPolygonOffset(K,bt[0],bt[1],Dt);kt+=dt+wr[0],zt+=Tt+wr[1]}switch(Lr){case"zoom":_t.clickFn=Oe,j||(_t.moveFn=Dt?le:Yt,_t.doneFn=he,function pt(){qt=null,ae=null,oe=J.pathSubplot(),pe=!1,ye=g(Z._fullLayout[J.id].bgcolor).getLuminance(),(Fe=u.makeZoombox(X,ye,et,st,oe)).attr("fill-rule","evenodd"),Zt=u.makeCorners(X,et,st),h(Z)}());break;case"select":case"lasso":d(Ae,je,Ze,_t,Lr)}},y.init(_t)},U.updateRadialDrag=function(ut,J,j){var Z=this,H=Z.gd,X=Z.layers,at=Z.radius,_=Z.innerRadius,K=Z.cx,nt=Z.cy,et=Z.radialAxis,st=S.radialDragBoxSize,dt=st/2;if(et.visible){var St,Ut,Gt,Tt=O(Z.radialAxisAngle),bt=et._rl,Dt=bt[0],Ft=bt[1],Mt=bt[j],wt=.75*(bt[1]-bt[0])/(1-Z.getHole(J))/at;j?(St=K+(at+dt)*Math.cos(Tt),Ut=nt-(at+dt)*Math.sin(Tt),Gt="radialdrag"):(St=K+(_-dt)*Math.cos(Tt),Ut=nt-(_-dt)*Math.sin(Tt),Gt="radialdrag-inner");var te,_t,kt,Pt=u.makeRectDragger(X,Gt,"crosshair",-dt,-dt,st,st),Vt={element:Pt,gd:H};!1===ut.dragmode&&(Vt.dragmode=!1),it(A.select(Pt),et.visible&&_<at,{transform:l(St,Ut)}),Vt.prepFn=function(){te=null,_t=null,kt=null,Vt.moveFn=zt,Vt.doneFn=ae,h(H)},Vt.clampFn=function(ye,Fe){return Math.sqrt(ye*ye+Fe*Fe)<S.MINDRAG&&(ye=0,Fe=0),[ye,Fe]},y.init(Vt)}function zt(ye,Fe){if(te)te(ye,Fe);else{var Zt=[ye,-Fe],Ct=[Math.cos(Tt),Math.sin(Tt)],Et=Math.abs(P.dot(Zt,Ct)/Math.sqrt(P.dot(Zt,Zt)));isNaN(Et)||(te=Et<.5?oe:pe)}var Rt={};(function qt(ye){null!==_t?ye[Z.id+".radialaxis.angle"]=_t:null!==kt&&(ye[Z.id+".radialaxis.range["+j+"]"]=kt)})(Rt),H.emit("plotly_relayouting",Rt)}function ae(){null!==_t?i.call("_guiRelayout",H,Z.id+".radialaxis.angle",_t):null!==kt&&i.call("_guiRelayout",H,Z.id+".radialaxis.range["+j+"]",kt)}function oe(ye,Fe){if(0!==j){_t=Math.atan2(nt-(Ut+Fe),St+ye-K),Z.vangles&&(_t=rt(_t,Z.vangles)),_t=B(_t);var Et=l(K,nt)+E(-_t);X["radial-axis"].attr("transform",Et),X["radial-line"].select("line").attr("transform",Et);var Rt=Z.gd._fullLayout;Z.updateRadialAxisTitle(Rt,Rt[Z.id],_t)}}function pe(ye,Fe){var Zt=P.dot([ye,-Fe],[Math.cos(Tt),Math.sin(Tt)]);if(kt=Mt-wt*Zt,wt>0==(j?kt>Dt:kt<Ft)){var Ct=H._fullLayout,Et=Ct[Z.id];et.range[j]=kt,et._rl[j]=kt,Z.updateRadialAxis(Ct,Et),Z.xaxis.setRange(),Z.xaxis.setScale(),Z.yaxis.setRange(),Z.yaxis.setScale();var Rt=!1;for(var Ot in Z.traceHash){var It=Z.traceHash[Ot],gt=P.filterVisible(It);It[0][0].trace._module.plot(H,Z,gt,Et),i.traceIs(Ot,"gl")&&gt.length&&(Rt=!0)}Rt&&(T(H),L(H))}else kt=null}},U.updateAngularDrag=function(ut){var J=this,j=J.gd,Z=J.layers,H=J.radius,X=J.angularAxis,at=J.cx,_=J.cy,K=J.cxx,nt=J.cyy,et=S.angularDragBoxSize,st=u.makeDragger(Z,"path","angulardrag",!1===ut.dragmode?"none":"move"),dt={element:st,gd:j};function Tt(kt,zt){return Math.atan2(nt+et-zt,kt-K-et)}!1===ut.dragmode?dt.dragmode=!1:A.select(st).attr("d",J.pathAnnulus(H,H+et)).attr("transform",l(at,_)).call(M,"move");var Mt,wt,St,Ut,Gt,Pt,bt=Z.frontplot.select(".scatterlayer").selectAll(".trace"),Dt=bt.selectAll(".point"),Ft=bt.selectAll(".textpoint");function Vt(kt,zt){var qt=J.gd._fullLayout,ae=qt[J.id],ye=Tt(Mt+kt*ut._invScaleX,wt+zt*ut._invScaleY),Fe=B(ye-Pt);if(Ut=St+Fe,Z.frontplot.attr("transform",l(J.xOffset2,J.yOffset2)+E([-Fe,K,nt])),J.vangles){Gt=J.radialAxisAngle+Fe;var Zt=l(at,_)+E(-Fe),Ct=l(at,_)+E(-Gt);Z.bg.attr("transform",Zt),Z["radial-grid"].attr("transform",Zt),Z["radial-axis"].attr("transform",Ct),Z["radial-line"].select("line").attr("transform",Ct),J.updateRadialAxisTitle(qt,ae,Gt)}else J.clipPaths.forTraces.select("path").attr("transform",l(K,nt)+E(Fe));Dt.each(function(){var vt=A.select(this),yt=e.getTranslate(vt);vt.attr("transform",l(yt.x,yt.y)+E([Fe]))}),Ft.each(function(){var vt=A.select(this),yt=vt.select("text"),Yt=e.getTranslate(vt);vt.attr("transform",E([Fe,yt.attr("x"),yt.attr("y")])+l(Yt.x,Yt.y))}),X.rotation=P.modHalf(Ut,360),J.updateAngularAxis(qt,ae),J._hasClipOnAxisFalse&&!P.isFullCircle(J.sectorInRad)&&bt.call(e.hideOutsideRangePoints,J);var Et=!1;for(var Rt in J.traceHash)if(i.traceIs(Rt,"gl")){var Ot=J.traceHash[Rt],It=P.filterVisible(Ot);Ot[0][0].trace._module.plot(j,J,It,ae),It.length&&(Et=!0)}Et&&(T(j),L(j));var pt={};te(pt),j.emit("plotly_relayouting",pt)}function te(kt){kt[J.id+".angularaxis.rotation"]=Ut,J.vangles&&(kt[J.id+".radialaxis.angle"]=Gt)}function _t(){Ft.select("text").attr("transform",null);var kt={};te(kt),i.call("_guiRelayout",j,kt)}dt.prepFn=function(kt,zt,qt){St=ut[J.id].angularaxis.rotation;var oe=st.getBoundingClientRect();Mt=zt-oe.left,wt=qt-oe.top,j._fullLayout._calcInverseTransform(j);var pe=P.apply3DTransform(ut._invTransform)(Mt,wt);Pt=Tt(Mt=pe[0],wt=pe[1]),dt.moveFn=Vt,dt.doneFn=_t,h(j)},J.vangles&&!P.isFullCircle(J.sectorInRad)&&(dt.prepFn=P.noop,M(A.select(st),null)),y.init(dt)},U.isPtInside=function(ut){if(this.isSmith)return!0;var J=this.sectorInRad,j=this.vangles,Z=this.angularAxis.c2g(ut.theta),H=this.radialAxis,X=H.c2l(ut.r);return(j?b.isPtInsidePolygon:P.isPtInsideSector)(X,Z,H._rl,J,j)},U.pathArc=function(ut){var J=this.sectorInRad,j=this.vangles;return(j?b.pathPolygon:P.pathArc)(ut,J[0],J[1],j)},U.pathSector=function(ut){var J=this.sectorInRad,j=this.vangles;return(j?b.pathPolygon:P.pathSector)(ut,J[0],J[1],j)},U.pathAnnulus=function(ut,J){var j=this.sectorInRad,Z=this.vangles;return(Z?b.pathPolygonAnnulus:P.pathAnnulus)(ut,J,j[0],j[1],Z)},U.pathSubplot=function(){var ut=this.innerRadius,J=this.radius;return ut?this.pathAnnulus(ut,J):this.pathSector(J)},U.fillViewInitialKey=function(ut,J){ut in this.viewInitial||(this.viewInitial[ut]=J)}},12101:function(tt,W,t){"use strict";var A=t(71828),g=t(21994),i=A.deg2rad,P=A.rad2deg;function e(r,f){var a=r.type;if("linear"===a){var s=r.d2c,c=r.c2d;r.d2c=function(u,y){return function l(r,f){return"degrees"===f?i(r):r}(s(u),y)},r.c2d=function(u,y){return c(function x(r,f){return"degrees"===f?P(r):r}(u,y))}}r.makeCalcdata=function(u,y){var d,o,v=u[y],w=u._length,h=function(S){return r.d2c(S,u.thetaunit)};if(v){if(A.isTypedArray(v)&&"linear"===a){if(w===v.length)return v;if(v.subarray)return v.subarray(0,w)}for(d=new Array(w),o=0;o<w;o++)d[o]=h(v[o])}else{var M=y+"0",T="d"+y,L=M in u?h(u[M]):0,m=u[T]?h(u[T]):(r.period||2*Math.PI)/w;for(d=new Array(w),o=0;o<w;o++)d[o]=L+o*m}return d},r.setGeometry=function(){var h,M,T,L,u=f.sector,y=u.map(i),v={clockwise:-1,counterclockwise:1}[r.direction],w=i(r.rotation),d=function(b){return v*b+w},o=function(b){return(b-w)/v};switch(a){case"linear":M=h=A.identity,L=i,T=P,r.range=A.isFullCircle(y)?[u[0],u[0]+360]:y.map(o).map(P);break;case"category":var m=r._categories.length,S=r.period?Math.max(r.period,m):m;0===S&&(S=1),M=L=function(b){return 2*b*Math.PI/S},h=T=function(b){return b*S/Math.PI/2},r.range=[0,S]}r.c2g=function(b){return d(M(b))},r.g2c=function(b){return h(o(b))},r.t2g=function(b){return d(L(b))},r.g2t=function(b){return T(o(b))}}}tt.exports=function(f,a,s){switch(g(f,s),f._id){case"x":case"radialaxis":!function E(r,f){var a=f._subplot;r.setGeometry=function(){var s=r._rl[0],c=r._rl[1],u=a.innerRadius,y=(a.radius-u)/(c-s),v=u/y,w=s>c?function(d){return d<=0}:function(d){return d>=0};r.c2g=function(d){var o=r.c2l(d)-s;return(w(o)?o:0)+v},r.g2c=function(d){return r.l2c(d+s-v)},r.g2p=function(d){return d*y},r.c2p=function(d){return r.g2p(r.c2g(d))}}}(f,a);break;case"angularaxis":e(f,a)}}},39779:function(tt){"use strict";tt.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(tt){"use strict";function W(E){return E<0?-1:E>0?1:0}function t(E){var l=E[0],x=E[1];if(!isFinite(l)||!isFinite(x))return[1,0];var e=(l+1)*(l+1)+x*x;return[(l*l+x*x-1)/e,2*x/e]}function A(E,l){return[l[0]*E.radius+E.cx,-l[1]*E.radius+E.cy]}function g(E,l){return l*E.radius}tt.exports={smith:t,reactanceArc:function i(E,l,x,e){var r=A(E,t([x,l])),f=r[0],a=r[1],s=A(E,t([e,l])),c=s[0],u=s[1];if(0===l)return["M"+f+","+a,"L"+c+","+u].join(" ");var y=g(E,1/Math.abs(l));return["M"+f+","+a,"A"+y+","+y+" 0 0,"+(l<0?1:0)+" "+c+","+u].join(" ")},resistanceArc:function P(E,l,x,e){var r=g(E,1/(l+1)),f=A(E,t([l,x])),a=f[0],s=f[1],c=A(E,t([l,e])),u=c[0],y=c[1];if(W(x)!==W(e)){var v=A(E,t([l,0]));return["M"+a+","+s,"A"+r+","+r+" 0 0,"+(0<x?0:1)+" "+v[0]+","+v[1],"A"+r+","+r+" 0 0,"+(e<0?0:1)+u+","+y].join(" ")}return["M"+a+","+s,"A"+r+","+r+" 0 0,"+(e<x?0:1)+" "+u+","+y].join(" ")},smithTransform:A}},7504:function(tt,W,t){"use strict";var A=t(27659).AU,g=t(71828).counterRegex,i=t(77997),P=t(39779),E=P.attr,l=P.name,x=g(l),e={};e[E]={valType:"subplotid",dflt:l,editType:"calc"},tt.exports={attr:E,name:l,idRoot:l,idRegex:x,attrRegex:x,attributes:e,layoutAttributes:t(33419),supplyLayoutDefaults:t(9558),plot:function r(a){for(var s=a._fullLayout,c=a.calcdata,u=s._subplots[l],y=0;y<u.length;y++){var v=u[y],w=A(c,l,v),d=s[v]._subplot;d||(d=i(a,v,!0),s[v]._subplot=d),d.plot(w,s,a._promises)}},clean:function f(a,s,c,u){for(var y=u._subplots[l]||[],v=0;v<y.length;v++){var w=y[v],d=u[w]._subplot;if(!s[w]&&d)for(var o in d.framework.remove(),d.clipPaths)d.clipPaths[o].remove()}},toSVG:t(93612).toSVG}},33419:function(tt,W,t){"use strict";var A=t(22399),g=t(13838),i=t(27670).Y,P=t(71828).extendFlat,E=t(30962).overrideAll,l=E({color:g.color,showline:P({},g.showline,{dflt:!0}),linecolor:g.linecolor,linewidth:g.linewidth,showgrid:P({},g.showgrid,{dflt:!0}),gridcolor:g.gridcolor,gridwidth:g.gridwidth,griddash:g.griddash},"plot","from-root"),x=E({ticklen:g.ticklen,tickwidth:P({},g.tickwidth,{dflt:2}),tickcolor:g.tickcolor,showticklabels:g.showticklabels,labelalias:g.labelalias,showtickprefix:g.showtickprefix,tickprefix:g.tickprefix,showticksuffix:g.showticksuffix,ticksuffix:g.ticksuffix,tickfont:g.tickfont,tickformat:g.tickformat,hoverformat:g.hoverformat,layer:g.layer},"plot","from-root"),e=P({visible:P({},g.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:P({},g.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},l,x),r=P({visible:P({},g.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:g.ticks,editType:"calc"},l,x);tt.exports={domain:i({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:A.background},realaxis:e,imaginaryaxis:r,editType:"calc"}},9558:function(tt,W,t){"use strict";var A=t(71828),g=t(7901),i=t(44467),P=t(49119),E=t(27659).NG,l=t(89426),x=t(96115),e=t(92128),r=t(21994),f=t(33419),a=t(39779),s=a.axisNames,c=function y(v,w){var d={};return function(o){var h=w?w(o):o;if(h in d)return d[h];var M=v(o);return d[h]=M,M}}(function(v){return v.slice().reverse().map(function(w){return-w}).concat([0]).concat(v)},String);function u(v,w,d,o){var h=d("bgcolor");o.bgColor=g.combine(h,o.paper_bgcolor);var L,M=E(o.fullData,a.name,o.id),T=o.layoutOut;function m(U,G){return d(L+"."+U,G)}for(var S=0;S<s.length;S++){A.isPlainObject(v[L=s[S]])||(v[L]={});var b=v[L],n=i.newContainer(w,L);n._id=n._name=L,n._attr=o.id+"."+L,n._traceIndices=M.map(function(U){return U._expandedIndex});var C=m("visible");if(n.type="linear",r(n,T),l(b,n,m,n.type),C){var p="realaxis"===L;p&&m("side"),p?m("tickvals"):m("tickvals",c(w.realaxis.tickvals||f.realaxis.tickvals.dflt));var D,N,k,O,B=o.font||{};C&&(N=(D=m("color"))===b.color?D:B.color,k=B.size,O=B.family),x(b,n,m,n.type,{noTicklabelstep:!0,noAng:!p,noExp:!0,font:{color:N,size:k,family:O}}),A.coerce2(v,w,f,L+".ticklen"),A.coerce2(v,w,f,L+".tickwidth"),A.coerce2(v,w,f,L+".tickcolor",w.color),m("ticks")||(delete w[L].ticklen,delete w[L].tickwidth,delete w[L].tickcolor),e(b,n,m,{dfltColor:D,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f[L]}),m("layer")}m("hoverformat"),delete n.type,n._input=b}}tt.exports=function(w,d,o){P(w,d,o,{noUirevision:!0,type:a.name,attributes:f,handleDefaults:u,font:d.font,paper_bgcolor:d.paper_bgcolor,fullData:o,layoutOut:d})}},49119:function(tt,W,t){"use strict";var A=t(71828),g=t(44467),i=t(27670).c;tt.exports=function(E,l,x,e){var v,w,f=e.attributes,a=e.handleDefaults,s=e.partition||"x",c=l._subplots[e.type],u=c.length,y=u&&c[0].replace(/\d+$/,"");function d(T,L){return A.coerce(v,w,f,T,L)}for(var o=0;o<u;o++){var h=c[o];v=E[h]?E[h]:E[h]={},w=g.newContainer(l,h,y),e.noUirevision||d("uirevision",l.uirevision);var M={};M[s]=[o/u,(o+1)/u],i(w,l,d,M),e.id=h,a(v,w,d,e)}}},5386:function(tt,W,t){"use strict";function l(x){var e=x.description?" "+x.description:"",r=x.keys||[];if(r.length>0){for(var f=[],a=0;a<r.length;a++)f[a]="`"+r[a]+"`";e+="Finally, the template string has access to ",e=1===r.length?e+"variable "+f[0]:e+"variables "+f.slice(0,-1).join(", ")+" and "+f.slice(-1)+"."}return e}t(31562),W.fF=function(x,e){x=x||{},l(e=e||{});var f={valType:"string",dflt:"",editType:x.editType||"none"};return!1!==x.arrayOk&&(f.arrayOk=!0),f},W.si=function(x,e){x=x||{},l(e=e||{});var f={valType:"string",dflt:"",editType:x.editType||"calc"};return!1!==x.arrayOk&&(f.arrayOk=!0),f},W.R=function(x,e){return x=x||{},l(e=e||{}),{valType:"string",dflt:"",editType:x.editType||"arraydraw"}}},61639:function(tt,W,t){"use strict";var A=t(64380),g=t(27659).AU,i=t(71828).counterRegex,P="ternary";W.name=P;var E=W.attr="subplot";W.idRoot=P,W.idRegex=W.attrRegex=i(P),(W.attributes={})[E]={valType:"subplotid",dflt:"ternary",editType:"calc"},W.layoutAttributes=t(81367),W.supplyLayoutDefaults=t(25369),W.plot=function(e){for(var r=e._fullLayout,f=e.calcdata,a=r._subplots[P],s=0;s<a.length;s++){var c=a[s],u=g(f,P,c),y=r[c]._subplot;y||(y=new A({id:c,graphDiv:e,container:r._ternarylayer.node()},r),r[c]._subplot=y),y.plot(u,r,e._promises)}},W.clean=function(x,e,r,f){for(var a=f._subplots[P]||[],s=0;s<a.length;s++){var c=a[s],u=f[c]._subplot;!e[c]&&u&&(u.plotContainer.remove(),u.clipDef.remove(),u.clipDefRelative.remove(),u.layers["a-title"].remove(),u.layers["b-title"].remove(),u.layers["c-title"].remove())}}},81367:function(tt,W,t){"use strict";var A=t(22399),g=t(27670).Y,i=t(13838),P=t(30962).overrideAll,E=t(1426).extendFlat,l={title:{text:i.title.text,font:i.title.font},color:i.color,tickmode:i.minor.tickmode,nticks:E({},i.nticks,{dflt:6,min:1}),tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:E({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:E({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth,griddash:i.griddash,layer:i.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},x=tt.exports=P({domain:g({name:"ternary"}),bgcolor:{valType:"color",dflt:A.background},sum:{valType:"number",dflt:1,min:0},aaxis:l,baxis:l,caxis:l},"plot","from-root");x.uirevision={valType:"any",editType:"none"},x.aaxis.uirevision=x.baxis.uirevision=x.caxis.uirevision={valType:"any",editType:"none"}},25369:function(tt,W,t){"use strict";var A=t(7901),g=t(44467),i=t(71828),P=t(49119),E=t(96115),l=t(89426),x=t(38701),e=t(26218),r=t(92128),f=t(81367),a=["aaxis","baxis","caxis"];function s(u,y,v,w){var d=v("bgcolor"),o=v("sum");w.bgColor=A.combine(d,w.paper_bgcolor);for(var h,M,T,L=0;L<a.length;L++)M=u[h=a[L]]||{},(T=g.newContainer(y,h))._name=h,c(M,T,w,y);var m=y.aaxis,S=y.baxis,b=y.caxis;m.min+S.min+b.min>=o&&(m.min=0,S.min=0,b.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function c(u,y,v,w){var d=f[y._name];function o(n,C){return i.coerce(u,y,d,n,C)}o("uirevision",w.uirevision),y.type="linear";var h=o("color"),M=h!==d.color.dflt?h:v.font.color,L=y._name.charAt(0).toUpperCase(),m="Component "+L,S=o("title.text",m);y._hovertitle=S===m?S:L,i.coerceFont(o,"title.font",{family:v.font.family,size:i.bigFont(v.font.size),color:M}),o("min"),e(u,y,o,"linear"),l(u,y,o,"linear"),E(u,y,o,"linear"),x(u,y,o,{outerTicks:!0}),o("showticklabels")&&(i.coerceFont(o,"tickfont",{family:v.font.family,size:v.font.size,color:M}),o("tickangle"),o("tickformat")),r(u,y,o,{dfltColor:h,bgColor:v.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:d}),o("hoverformat"),o("layer")}tt.exports=function(y,v,w){P(y,v,w,{type:"ternary",attributes:f,handleDefaults:s,font:v.font,paper_bgcolor:v.paper_bgcolor})}},64380:function(tt,W,t){"use strict";var A=t(39898),g=t(84267),i=t(73972),P=t(71828),E=P.strTranslate,l=P._,x=t(7901),e=t(91424),r=t(21994),f=t(1426).extendFlat,a=t(74875),s=t(89298),c=t(28569),u=t(30211),y=t(64505),v=y.freeMode,w=y.rectMode,d=t(92998),o=t(47322).prepSelect,h=t(47322).selectOnClick,M=t(47322).clearOutline,T=t(47322).clearSelectionsCache,L=t(85555);function m(B,z){this.id=B.id,this.graphDiv=B.graphDiv,this.init(z),this.makeFramework(z),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}tt.exports=m;var S=m.prototype;S.init=function(B){this.container=B._ternarylayer,this.defs=B._defs,this.layoutId=B._uid,this.traceHash={},this.layers={}},S.plot=function(B,z){var U=this,G=z[U.id],Q=z._size;U._hasClipOnAxisFalse=!1;for(var rt=0;rt<B.length;rt++)if(!1===B[rt][0].trace.cliponaxis){U._hasClipOnAxisFalse=!0;break}U.updateLayers(G),U.adjustLayout(G,Q),a.generalUpdatePerTraceModule(U.graphDiv,U,B,G),U.layers.plotbg.select("path").call(x.fill,G.bgcolor)},S.makeFramework=function(B){var z=this,U=z.graphDiv,G=B[z.id],Q=z.clipId="clip"+z.layoutId+z.id,rt=z.clipIdRelative="clip-relative"+z.layoutId+z.id;z.clipDef=P.ensureSingleById(B._clips,"clipPath",Q,function(it){it.append("path").attr("d","M0,0Z")}),z.clipDefRelative=P.ensureSingleById(B._clips,"clipPath",rt,function(it){it.append("path").attr("d","M0,0Z")}),z.plotContainer=P.ensureSingle(z.container,"g",z.id),z.updateLayers(G),e.setClipUrl(z.layers.backplot,Q,U),e.setClipUrl(z.layers.grids,Q,U)},S.updateLayers=function(B){var U=this.layers,G=["draglayer","plotbg","backplot","grids"];"below traces"===B.aaxis.layer&&G.push("aaxis","aline"),"below traces"===B.baxis.layer&&G.push("baxis","bline"),"below traces"===B.caxis.layer&&G.push("caxis","cline"),G.push("frontplot"),"above traces"===B.aaxis.layer&&G.push("aaxis","aline"),"above traces"===B.baxis.layer&&G.push("baxis","bline"),"above traces"===B.caxis.layer&&G.push("caxis","cline");var Q=this.plotContainer.selectAll("g.toplevel").data(G,String),rt=["agrid","bgrid","cgrid"];Q.enter().append("g").attr("class",function(it){return"toplevel "+it}).each(function(it){var ut=A.select(this);U[it]=ut,"frontplot"===it?ut.append("g").classed("scatterlayer",!0):"backplot"===it?ut.append("g").classed("maplayer",!0):"plotbg"===it?ut.append("path").attr("d","M0,0Z"):"aline"===it||"bline"===it||"cline"===it?ut.append("path"):"grids"===it&&rt.forEach(function(J){U[J]=ut.append("g").classed("grid "+J,!0)})}),Q.order()};var b=Math.sqrt(4/3);S.adjustLayout=function(B,z){var _,K,nt,et,st,dt,U=this,G=B.domain,Q=(G.x[0]+G.x[1])/2,rt=(G.y[0]+G.y[1])/2,it=G.x[1]-G.x[0],ut=G.y[1]-G.y[0],J=it*z.w,j=ut*z.h,Z=B.sum,H=B.aaxis.min,X=B.baxis.min,at=B.caxis.min;J>b*j?nt=(et=j)*b:et=(nt=J)/b,st=it*nt/J,dt=ut*et/j,K=z.t+z.h*(1-rt)-et/2,U.x0=_=z.l+z.w*Q-nt/2,U.y0=K,U.w=nt,U.h=et,U.sum=Z,U.xaxis={type:"linear",range:[H+2*at-Z,Z-H-2*X],domain:[Q-st/2,Q+st/2],_id:"x"},r(U.xaxis,U.graphDiv._fullLayout),U.xaxis.setScale(),U.xaxis.isPtWithinRange=function(Vt){return Vt.a>=U.aaxis.range[0]&&Vt.a<=U.aaxis.range[1]&&Vt.b>=U.baxis.range[1]&&Vt.b<=U.baxis.range[0]&&Vt.c>=U.caxis.range[1]&&Vt.c<=U.caxis.range[0]},U.yaxis={type:"linear",range:[H,Z-X-at],domain:[rt-dt/2,rt+dt/2],_id:"y"},r(U.yaxis,U.graphDiv._fullLayout),U.yaxis.setScale(),U.yaxis.isPtWithinRange=function(){return!0};var Tt=U.yaxis.domain[0],bt=U.aaxis=f({},B.aaxis,{range:[H,Z-X-at],side:"left",tickangle:(+B.aaxis.tickangle||0)-30,domain:[Tt,Tt+dt*b],anchor:"free",position:0,_id:"y",_length:nt});r(bt,U.graphDiv._fullLayout),bt.setScale();var Dt=U.baxis=f({},B.baxis,{range:[Z-H-at,X],side:"bottom",domain:U.xaxis.domain,anchor:"free",position:0,_id:"x",_length:nt});r(Dt,U.graphDiv._fullLayout),Dt.setScale();var Ft=U.caxis=f({},B.caxis,{range:[Z-H-X,at],side:"right",tickangle:(+B.caxis.tickangle||0)+30,domain:[Tt,Tt+dt*b],anchor:"free",position:0,_id:"y",_length:nt});r(Ft,U.graphDiv._fullLayout),Ft.setScale();var Mt="M"+_+","+(K+et)+"h"+nt+"l-"+nt/2+",-"+et+"Z";U.clipDef.select("path").attr("d",Mt),U.layers.plotbg.select("path").attr("d",Mt);var wt="M0,"+et+"h"+nt+"l-"+nt/2+",-"+et+"Z";U.clipDefRelative.select("path").attr("d",wt);var St=E(_,K);U.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",St),U.clipDefRelative.select("path").attr("transform",null);var Ut=E(_-Dt._offset,K+et);U.layers.baxis.attr("transform",Ut),U.layers.bgrid.attr("transform",Ut);var Gt=E(_+nt/2,K)+"rotate(30)"+E(0,-bt._offset);U.layers.aaxis.attr("transform",Gt),U.layers.agrid.attr("transform",Gt);var Pt=E(_+nt/2,K)+"rotate(-30)"+E(0,-Ft._offset);U.layers.caxis.attr("transform",Pt),U.layers.cgrid.attr("transform",Pt),U.drawAxes(!0),U.layers.aline.select("path").attr("d",bt.showline?"M"+_+","+(K+et)+"l"+nt/2+",-"+et:"M0,0").call(x.stroke,bt.linecolor||"#000").style("stroke-width",(bt.linewidth||0)+"px"),U.layers.bline.select("path").attr("d",Dt.showline?"M"+_+","+(K+et)+"h"+nt:"M0,0").call(x.stroke,Dt.linecolor||"#000").style("stroke-width",(Dt.linewidth||0)+"px"),U.layers.cline.select("path").attr("d",Ft.showline?"M"+(_+nt/2)+","+K+"l"+nt/2+","+et:"M0,0").call(x.stroke,Ft.linecolor||"#000").style("stroke-width",(Ft.linewidth||0)+"px"),U.graphDiv._context.staticPlot||U.initInteractions(),e.setClipUrl(U.layers.frontplot,U._hasClipOnAxisFalse?null:U.clipId,U.graphDiv)},S.drawAxes=function(B){var z=this,U=z.graphDiv,G=z.id.substr(7)+"title",Q=z.layers,rt=z.aaxis,it=z.baxis,ut=z.caxis;if(z.drawAx(rt),z.drawAx(it),z.drawAx(ut),B){var J=Math.max(rt.showticklabels?rt.tickfont.size/2:0,(ut.showticklabels?.75*ut.tickfont.size:0)+("outside"===ut.ticks?.87*ut.ticklen:0)),j=(it.showticklabels?it.tickfont.size:0)+("outside"===it.ticks?it.ticklen:0)+3;Q["a-title"]=d.draw(U,"a"+G,{propContainer:rt,propName:z.id+".aaxis.title",placeholder:l(U,"Click to enter Component A title"),attributes:{x:z.x0+z.w/2,y:z.y0-rt.title.font.size/3-J,"text-anchor":"middle"}}),Q["b-title"]=d.draw(U,"b"+G,{propContainer:it,propName:z.id+".baxis.title",placeholder:l(U,"Click to enter Component B title"),attributes:{x:z.x0-j,y:z.y0+z.h+.83*it.title.font.size+j,"text-anchor":"middle"}}),Q["c-title"]=d.draw(U,"c"+G,{propContainer:ut,propName:z.id+".caxis.title",placeholder:l(U,"Click to enter Component C title"),attributes:{x:z.x0+z.w+j,y:z.y0+z.h+.83*ut.title.font.size+j,"text-anchor":"middle"}})}},S.drawAx=function(B){var z=this,U=z.graphDiv,G=B._name,Q=G.charAt(0),rt=B._id,it=z.layers[G],J=Q+"tickLayout",j=function n(B){return B.ticks+String(B.ticklen)+String(B.showticklabels)}(B);z[J]!==j&&(it.selectAll("."+rt+"tick").remove(),z[J]=j),B.setScale();var Z=s.calcTicks(B),H=s.clipEnds(B,Z),X=s.makeTransTickFn(B),at=s.getTickSigns(B)[2],_=P.deg2rad(30),K=at*(B.linewidth||1)/2,nt=at*B.ticklen,et=z.w,st=z.h,dt="b"===Q?"M0,"+K+"l"+Math.sin(_)*nt+","+Math.cos(_)*nt:"M"+K+",0l"+Math.cos(_)*nt+","+-Math.sin(_)*nt,Tt={a:"M0,0l"+st+",-"+et/2,b:"M0,0l-"+et/2+",-"+st,c:"M0,0l-"+st+","+et/2}[Q];s.drawTicks(U,B,{vals:"inside"===B.ticks?H:Z,layer:it,path:dt,transFn:X,crisp:!1}),s.drawGrid(U,B,{vals:H,layer:z.layers[Q+"grid"],path:Tt,transFn:X,crisp:!1}),s.drawLabels(U,B,{vals:Z,layer:it,transFn:X,labelFns:s.makeLabelFns(B,0,30)})};var C=L.MINZOOM/2+.87,p="m-0.87,.5h"+C+"v3h-"+(C+5.2)+"l"+(C/2+2.6)+",-"+(.87*C+4.5)+"l2.6,1.5l-"+C/2+","+.87*C+"Z",F="m0.87,.5h-"+C+"v3h"+(C+5.2)+"l-"+(C/2+2.6)+",-"+(.87*C+4.5)+"l-2.6,1.5l"+C/2+","+.87*C+"Z",D="m0,1l"+C/2+","+.87*C+"l2.6,-1.5l-"+(C/2+2.6)+",-"+(.87*C+4.5)+"l-"+(C/2+2.6)+","+(.87*C+4.5)+"l2.6,1.5l"+C/2+",-"+.87*C+"Z",k=!0;function O(B){A.select(B).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}S.clearOutline=function(){T(this.dragOptions),M(this.dragOptions.gd)},S.initInteractions=function(){var Q,rt,it,ut,J,j,Z,H,X,at,_,K,B=this,z=B.layers.plotbg.select("path").node(),U=B.graphDiv,G=U._fullLayout._zoomlayer;function nt(Ut){var Gt={};return Gt[B.id+".aaxis.min"]=Ut.a,Gt[B.id+".baxis.min"]=Ut.b,Gt[B.id+".caxis.min"]=Ut.c,Gt}function et(Ut,Gt){var Pt=U._fullLayout.clickmode;O(U),2===Ut&&(U.emit("plotly_doubleclick",null),i.call("_guiRelayout",U,nt({a:0,b:0,c:0}))),Pt.indexOf("select")>-1&&1===Ut&&h(Gt,U,[B.xaxis],[B.yaxis],B.id,B.dragOptions),Pt.indexOf("event")>-1&&u.click(U,Gt,B.id)}function dt(Ut,Gt){return 1-Gt/B.h}function Tt(Ut,Gt){return 1-(Ut+(B.h-Gt)/Math.sqrt(3))/B.w}function bt(Ut,Gt){return(Ut-(B.h-Gt)/Math.sqrt(3))/B.w}function Dt(Ut,Gt){var Pt=it+Ut*Q,Vt=ut+Gt*rt,te=Math.max(0,Math.min(1,dt(0,ut),dt(0,Vt))),_t=Math.max(0,Math.min(1,Tt(it,ut),Tt(Pt,Vt))),kt=Math.max(0,Math.min(1,bt(it,ut),bt(Pt,Vt))),zt=(te/2+kt)*B.w,qt=(1-te/2-_t)*B.w,ae=(zt+qt)/2,oe=qt-zt,pe=(1-te)*B.h,ye=pe-oe/b;oe<L.MINZOOM?(Z=J,_.attr("d",X),K.attr("d","M0,0Z")):(Z={a:J.a+te*j,b:J.b+_t*j,c:J.c+kt*j},_.attr("d",X+"M"+zt+","+pe+"H"+qt+"L"+ae+","+ye+"L"+zt+","+pe+"Z"),K.attr("d","M"+it+","+ut+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+zt+","+pe+p+"M"+qt+","+pe+F+"M"+ae+","+ye+D)),at||(_.transition().style("fill",H>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),K.transition().style("opacity",1).duration(200),at=!0),U.emit("plotly_relayouting",nt(Z))}function Ft(){O(U),Z!==J&&(i.call("_guiRelayout",U,nt(Z)),k&&U.data&&U._context.showTips&&(P.notifier(l(U,"Double-click to zoom back out"),"long"),k=!1))}function wt(Ut,Gt){var Pt=Ut/B.xaxis._m,Vt=Gt/B.yaxis._m,te=[(Z={a:J.a-Vt,b:J.b+(Pt+Vt)/2,c:J.c-(Pt-Vt)/2}).a,Z.b,Z.c].sort(P.sorterAsc),_t_a=te.indexOf(Z.a),_t_b=te.indexOf(Z.b),_t_c=te.indexOf(Z.c);te[0]<0&&(te[1]+te[0]/2<0?(te[2]+=te[0]+te[1],te[0]=te[1]=0):(te[2]+=te[0]/2,te[1]+=te[0]/2,te[0]=0),Gt=(J.a-(Z={a:te[_t_a],b:te[_t_b],c:te[_t_c]}).a)*B.yaxis._m,Ut=(J.c-Z.c-J.b+Z.b)*B.xaxis._m);var kt=E(B.x0+Ut,B.y0+Gt);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",kt);var zt=E(-Ut,-Gt);B.clipDefRelative.select("path").attr("transform",zt),B.aaxis.range=[Z.a,B.sum-Z.b-Z.c],B.baxis.range=[B.sum-Z.a-Z.c,Z.b],B.caxis.range=[B.sum-Z.a-Z.b,Z.c],B.drawAxes(!1),B._hasClipOnAxisFalse&&B.plotContainer.select(".scatterlayer").selectAll(".trace").call(e.hideOutsideRangePoints,B),U.emit("plotly_relayouting",nt(Z))}function St(){i.call("_guiRelayout",U,nt(Z))}this.dragOptions={element:z,gd:U,plotinfo:{id:B.id,domain:U._fullLayout[B.id].domain,xaxis:B.xaxis,yaxis:B.yaxis},subplot:B.id,prepFn:function(Ut,Gt,Pt){B.dragOptions.xaxes=[B.xaxis],B.dragOptions.yaxes=[B.yaxis],Q=U._fullLayout._invScaleX,rt=U._fullLayout._invScaleY;var Vt=B.dragOptions.dragmode=U._fullLayout.dragmode;B.dragOptions.minDrag=v(Vt)?1:void 0,"zoom"===Vt?(B.dragOptions.moveFn=Dt,B.dragOptions.clickFn=et,B.dragOptions.doneFn=Ft,function st(Ut,Gt,Pt){var Vt=z.getBoundingClientRect();it=Gt-Vt.left,ut=Pt-Vt.top,U._fullLayout._calcInverseTransform(U);var _t=P.apply3DTransform(U._fullLayout._invTransform)(it,ut);it=_t[0],ut=_t[1],Z=J={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},j=B.aaxis.range[1]-J.a,H=g(B.graphDiv._fullLayout[B.id].bgcolor).getLuminance(),X="M0,"+B.h+"L"+B.w/2+", 0L"+B.w+","+B.h+"Z",at=!1,_=G.append("path").attr("class","zoombox").attr("transform",E(B.x0,B.y0)).style({fill:H>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",X),K=G.append("path").attr("class","zoombox-corners").attr("transform",E(B.x0,B.y0)).style({fill:x.background,stroke:x.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),B.clearOutline(U)}(0,Gt,Pt)):"pan"===Vt?(B.dragOptions.moveFn=wt,B.dragOptions.clickFn=et,B.dragOptions.doneFn=St,function Mt(){Z=J={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]}}(),B.clearOutline(U)):(w(Vt)||v(Vt))&&o(Ut,Gt,Pt,B.dragOptions,Vt)}},z.onmousemove=function(Ut){u.hover(U,Ut,B.id),U._fullLayout._lasthover=z,U._fullLayout._hoversubplot=B.id},z.onmouseout=function(Ut){U._dragging||c.unhover(U,Ut)},c.init(this.dragOptions)}},73972:function(tt,W,t){"use strict";var A=t(47769),g=t(64213),i=t(75138),P=t(41965),E=t(24401).addStyleRule,l=t(1426),x=t(9012),e=t(10820),r=l.extendFlat,f=l.extendDeepAll;function a(M){var T=M.name,L=M.categories,m=M.meta;if(W.modules[T])A.log("Type "+T+" already registered");else{W.subplotsRegistry[M.basePlotModule.name]||function s(M){var T=M.name;if(W.subplotsRegistry[T])A.log("Plot type "+T+" already registered.");else for(var L in v(M),W.subplotsRegistry[T]=M,W.componentsRegistry)o(L,M.name)}(M.basePlotModule);for(var S={},b=0;b<L.length;b++)S[L[b]]=!0,W.allCategories[L[b]]=!0;for(var n in W.modules[T]={_module:M,categories:S},m&&Object.keys(m).length&&(W.modules[T].meta=m),W.allTypes.push(T),W.componentsRegistry)w(n,T);M.layoutAttributes&&r(W.traceLayoutAttributes,M.layoutAttributes);var C=M.basePlotModule,p=C.name;if("mapbox"===p){var F=C.constants.styleRules;for(var D in F)E(".js-plotly-plot .plotly .mapboxgl-"+D,F[D])}("geo"===p||"mapbox"===p)&&void 0===window.PlotlyGeoAssets&&(window.PlotlyGeoAssets={topojson:{}})}}function c(M){if("string"!=typeof M.name)throw new Error("Component module *name* must be a string.");var T=M.name;for(var L in W.componentsRegistry[T]=M,M.layoutAttributes&&(M.layoutAttributes._isLinkedToArray&&i(W.layoutArrayContainers,T),v(M)),W.modules)w(T,L);for(var m in W.subplotsRegistry)o(T,m);for(var S in W.transformsRegistry)d(T,S);M.schema&&M.schema.layout&&f(e,M.schema.layout)}function u(M){if("string"!=typeof M.name)throw new Error("Transform module *name* must be a string.");var T="Transform module "+M.name,L="function"==typeof M.transform,m="function"==typeof M.calcTransform;if(!L&&!m)throw new Error(T+" is missing a *transform* or *calcTransform* method.");for(var S in L&&m&&A.log([T+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),P(M.attributes)||A.log(T+" registered without an *attributes* object."),"function"!=typeof M.supplyDefaults&&A.log(T+" registered without a *supplyDefaults* method."),W.transformsRegistry[M.name]=M,W.componentsRegistry)d(S,M.name)}function y(M){var T=M.name,L=T.split("-")[0],m=M.dictionary,S=M.format,b=m&&Object.keys(m).length,n=S&&Object.keys(S).length,C=W.localeRegistry,p=C[T];if(p||(C[T]=p={}),L!==T){var F=C[L];F||(C[L]=F={}),b&&F.dictionary===p.dictionary&&(F.dictionary=m),n&&F.format===p.format&&(F.format=S)}b&&(p.dictionary=m),n&&(p.format=S)}function v(M){if(M.layoutAttributes){var T=M.layoutAttributes._arrayAttrRegexps;if(T)for(var L=0;L<T.length;L++)i(W.layoutArrayRegexes,T[L])}}function w(M,T){var L=W.componentsRegistry[M].schema;if(L&&L.traces){var m=L.traces[T];m&&f(W.modules[T]._module.attributes,m)}}function d(M,T){var L=W.componentsRegistry[M].schema;if(L&&L.transforms){var m=L.transforms[T];m&&f(W.transformsRegistry[T].attributes,m)}}function o(M,T){var L=W.componentsRegistry[M].schema;if(L&&L.subplots){var m=W.subplotsRegistry[T],S=m.layoutAttributes,b="subplot"===m.attr?m.name:m.attr;Array.isArray(b)&&(b=b[0]);var n=L.subplots[b];S&&n&&f(S,n)}}function h(M){return"object"==typeof M&&(M=M.type),M}W.modules={},W.allCategories={},W.allTypes=[],W.subplotsRegistry={},W.transformsRegistry={},W.componentsRegistry={},W.layoutArrayContainers=[],W.layoutArrayRegexes=[],W.traceLayoutAttributes={},W.localeRegistry={},W.apiMethodRegistry={},W.collectableSubplotTypes=null,W.register=function(T){if(W.collectableSubplotTypes=null,!T)throw new Error("No argument passed to Plotly.register.");T&&!Array.isArray(T)&&(T=[T]);for(var L=0;L<T.length;L++){var m=T[L];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":a(m);break;case"transform":u(m);break;case"component":c(m);break;case"locale":y(m);break;case"apiMethod":W.apiMethodRegistry[m.name]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},W.getModule=function(M){var T=W.modules[h(M)];return!!T&&T._module},W.traceIs=function(M,T){if("various"===(M=h(M)))return!1;var L=W.modules[M];return L||(M&&A.log("Unrecognized trace type "+M+"."),L=W.modules[x.type.dflt]),!!L.categories[T]},W.getTransformIndices=function(M,T){for(var L=[],m=M.transforms||[],S=0;S<m.length;S++)m[S].type===T&&L.push(S);return L},W.hasTransform=function(M,T){for(var L=M.transforms||[],m=0;m<L.length;m++)if(L[m].type===T)return!0;return!1},W.getComponentMethod=function(M,T){var L=W.componentsRegistry[M];return L&&L[T]||g},W.call=function(){var M=arguments[0],T=[].slice.call(arguments,1);return W.apiMethodRegistry[M].apply(null,T)}},61914:function(tt,W,t){"use strict";var A=t(73972),g=t(71828),i=g.extendFlat,P=g.extendDeep;function E(x){var e;switch(x){case"themes__thumb":e={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}tt.exports=function(e,r){var f,s=e.layout,c=P([],e.data),u=P({},s,E(r.tileClass)),y=e._context||{};if(r.width&&(u.width=r.width),r.height&&(u.height=r.height),"thumbnail"===r.tileClass||"themes__thumb"===r.tileClass){u.annotations=[];var v=Object.keys(u);for(f=0;f<v.length;f++)["xaxis","yaxis","zaxis"].indexOf(v[f].slice(0,5))>-1&&(u[v[f]].title={text:""});for(f=0;f<c.length;f++){var w=c[f];w.showscale=!1,w.marker&&(w.marker.showscale=!1),A.traceIs(w,"pie-like")&&(w.textposition="none")}}if(Array.isArray(r.annotations))for(f=0;f<r.annotations.length;f++)u.annotations.push(r.annotations[f]);var d=Object.keys(u).filter(function(L){return L.match(/^scene\d*$/)});if(d.length){var o={};for("thumbnail"===r.tileClass&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),f=0;f<d.length;f++){var h=u[d[f]];h.xaxis||(h.xaxis={}),h.yaxis||(h.yaxis={}),h.zaxis||(h.zaxis={}),i(h.xaxis,o),i(h.yaxis,o),i(h.zaxis,o),h._scene=null}}var M=document.createElement("div");r.tileClass&&(M.className=r.tileClass);var T={gd:M,td:M,layout:u,data:c,config:{staticPlot:void 0===r.staticPlot||r.staticPlot,plotGlPixelRatio:void 0===r.plotGlPixelRatio?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:y.mapboxAccessToken}};return"transparent"!==r.setBackground&&(T.config.setBackground=r.setBackground||"opaque"),T.gd.defaultLayout=E(r.tileClass),T}},7239:function(tt,W,t){"use strict";var A=t(71828),g=t(403),i=t(22435),P=t(25095);tt.exports=function E(l,x){var e;return A.isPlainObject(l)||(e=A.getGraphDiv(l)),(x=x||{}).format=x.format||"png",x.width=x.width||null,x.height=x.height||null,x.imageDataOnly=!0,new Promise(function(r,f){e&&e._snapshotInProgress&&f(new Error("Snapshotting already in progress.")),A.isIE()&&"svg"!==x.format&&f(new Error(P.MSG_IE_BAD_FORMAT)),e&&(e._snapshotInProgress=!0);var a=g(l,x),s=x.filename||l.fn||"newplot";s+="."+x.format.replace("-","."),a.then(function(c){return e&&(e._snapshotInProgress=!1),i(c,s,x.format)}).then(function(c){r(c)}).catch(function(c){e&&(e._snapshotInProgress=!1),f(c)})})}},22435:function(tt,W,t){"use strict";var A=t(71828),g=t(25095);tt.exports=function i(P,E,l){var x=document.createElement("a"),e="download"in x;return new Promise(function(f,a){var s,c;return A.isIE()?(s=g.createBlob(P,"svg"),window.navigator.msSaveBlob(s,E),s=null,f(E)):e?(s=g.createBlob(P,l),c=g.createObjectURL(s),x.href=c,x.download=E,document.body.appendChild(x),x.click(),document.body.removeChild(x),g.revokeObjectURL(c),s=null,f(E)):A.isSafari()?(g.octetStream(("svg"===l?",":";base64,")+encodeURIComponent(P)),f(E)):void a(new Error("download error"))})}},25095:function(tt,W,t){"use strict";var A=t(73972);W.getDelay=function(P){return P._has&&(P._has("gl3d")||P._has("gl2d")||P._has("mapbox"))?500:0},W.getRedrawFunc=function(P){return function(){A.getComponentMethod("colorbar","draw")(P)}},W.encodeSVG=function(P){return"data:image/svg+xml,"+encodeURIComponent(P)},W.encodeJSON=function(P){return"data:application/json,"+encodeURIComponent(P)};var g=window.URL||window.webkitURL;W.createObjectURL=function(P){return g.createObjectURL(P)},W.revokeObjectURL=function(P){return g.revokeObjectURL(P)},W.createBlob=function(P,E){if("svg"===E)return new window.Blob([P],{type:"image/svg+xml;charset=utf-8"});if("full-json"===E)return new window.Blob([P],{type:"application/json;charset=utf-8"});var l=function i(P){for(var E=P.length,l=new ArrayBuffer(E),x=new Uint8Array(l),e=0;e<E;e++)x[e]=P.charCodeAt(e);return l}(window.atob(P));return new window.Blob([l],{type:"image/"+E})},W.octetStream=function(P){document.location.href="data:application/octet-stream"+P},W.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,W.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(tt,W,t){"use strict";var A=t(25095),g={getDelay:A.getDelay,getRedrawFunc:A.getRedrawFunc,clone:t(61914),toSVG:t(5900),svgToImg:t(70942),toImage:t(56395),downloadImage:t(7239)};tt.exports=g},70942:function(tt,W,t){"use strict";var A=t(71828),g=t(15398).EventEmitter,i=t(25095);tt.exports=function P(E){var l=E.emitter||new g,x=new Promise(function(e,r){var f=window.Image,a=E.svg,s=E.format||"png";if(A.isIE()&&"svg"!==s){var c=new Error(i.MSG_IE_BAD_FORMAT);return r(c),E.promise?x:l.emit("error",c)}var T,L,u=E.canvas,y=E.scale||1,d=y*(E.width||300),o=y*(E.height||150),h=u.getContext("2d",{willReadFrequently:!0}),M=new f;"svg"===s||A.isSafari()?L=i.encodeSVG(a):(T=i.createBlob(a,"svg"),L=i.createObjectURL(T)),u.width=d,u.height=o,M.onload=function(){var m;switch(T=null,i.revokeObjectURL(L),"svg"!==s&&h.drawImage(M,0,0,d,o),s){case"jpeg":m=u.toDataURL("image/jpeg");break;case"png":m=u.toDataURL("image/png");break;case"webp":m=u.toDataURL("image/webp");break;case"svg":m=L;break;default:var S="Image format is not jpeg, png, svg or webp.";if(r(new Error(S)),!E.promise)return l.emit("error",S)}e(m),E.promise||l.emit("success",m)},M.onerror=function(m){if(T=null,i.revokeObjectURL(L),r(m),!E.promise)return l.emit("error",m)},M.src=L});return E.promise?x:l}},56395:function(tt,W,t){"use strict";var A=t(15398).EventEmitter,g=t(73972),i=t(71828),P=t(25095),E=t(61914),l=t(5900),x=t(70942);tt.exports=function e(r,f){var a=new A,s=E(r,{format:"png"}),c=s.gd;c.style.position="absolute",c.style.left="-5000px",document.body.appendChild(c);var y=P.getRedrawFunc(c);return g.call("_doPlot",c,s.data,s.layout,s.config).then(y).then(function u(){var v=P.getDelay(c._fullLayout);setTimeout(function(){var w=l(c),d=document.createElement("canvas");d.id=i.randstr(),(a=x({format:f.format,width:c._fullLayout.width,height:c._fullLayout.height,canvas:d,emitter:a,svg:w})).clean=function(){c&&document.body.removeChild(c)}},v)}).catch(function(v){a.emit("error",v)}),a}},5900:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=t(91424),P=t(7901),E=t(77922),l=/"/g,x="TOBESTRIPPED",e=new RegExp('("'+x+")|("+x+'")',"g");tt.exports=function(s,c,u){var h,y=s._fullLayout,v=y._paper,w=y._toppaper,d=y.width,o=y.height;v.insert("rect",":first-child").call(i.setRect,0,0,d,o).call(P.fill,y.paper_bgcolor);var M=y._basePlotModules||[];for(h=0;h<M.length;h++){var T=M[h];T.toSVG&&T.toSVG(s)}if(w){var L=w.node().childNodes,m=Array.prototype.slice.call(L);for(h=0;h<m.length;h++){var S=m[h];S.childNodes.length&&v.node().appendChild(S)}}y._draggers&&y._draggers.remove(),v.node().style.background="",v.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var n=A.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){n.style({visibility:null,display:null});var C=this.style.fontFamily;C&&-1!==C.indexOf('"')&&n.style("font-family",C.replace(l,x))}else n.remove()}),v.selectAll(".gradient_filled,.pattern_filled").each(function(){var n=A.select(this),C=this.style.fill;C&&-1!==C.indexOf("url(")&&n.style("fill",C.replace(l,x));var p=this.style.stroke;p&&-1!==p.indexOf("url(")&&n.style("stroke",p.replace(l,x))}),("pdf"===c||"eps"===c)&&v.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),v.node().setAttributeNS(E.xmlns,"xmlns",E.svg),v.node().setAttributeNS(E.xmlns,"xmlns:xlink",E.xlink),"svg"===c&&u&&(v.attr("width",u*d),v.attr("height",u*o),v.attr("viewBox","0 0 "+d+" "+o));var b=(new window.XMLSerializer).serializeToString(v.node());return b=(b=function f(a){return a.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}(b=function r(a){var s=A.select("body").append("div").style({display:"none"}).html(""),c=a.replace(/(&[^;]*;)/gi,function(u){return"&lt;"===u?"&#60;":"&rt;"===u?"&#62;":-1!==u.indexOf("<")||-1!==u.indexOf(">")?"":s.html(u).text()});return s.remove(),c}(b))).replace(e,"'"),g.isIE()&&(b=(b=(b=b.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),b}},75341:function(tt,W,t){"use strict";var A=t(71828);tt.exports=function(i,P){for(var E=0;E<i.length;E++)i[E].i=E;A.mergeArray(P.text,i,"tx"),A.mergeArray(P.hovertext,i,"htx");var l=P.marker;if(l){A.mergeArray(l.opacity,i,"mo",!0),A.mergeArray(l.color,i,"mc");var x=l.line;x&&(A.mergeArray(x.color,i,"mlc"),A.mergeArrayCastPositive(x.width,i,"mlw"))}}},1486:function(tt,W,t){"use strict";var A=t(82196),g=t(12663).axisHoverFormat,i=t(5386).fF,P=t(5386).si,E=t(50693),l=t(41940),x=t(97313),e=t(79952).u,r=t(1426).extendFlat,f=l({editType:"calc",arrayOk:!0,colorEditType:"style"}),c=r({},A.marker.line.width,{dflt:0}),u=r({width:c,editType:"calc"},E("marker.line")),y=r({line:u,editType:"calc"},E("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:e});tt.exports={x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:g("x"),yhoverformat:g("y"),text:A.text,texttemplate:P({editType:"plot"},{keys:x.eventDataKeys}),hovertext:A.hovertext,hovertemplate:i({},{keys:x.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},f,{}),insidetextfont:r({},f,{}),outsidetextfont:r({},f,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},A.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:y,offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,selected:{marker:{opacity:A.selected.marker.opacity,color:A.selected.marker.color,editType:"style"},textfont:A.selected.textfont,editType:"style"},unselected:{marker:{opacity:A.unselected.marker.opacity,color:A.unselected.marker.color,editType:"style"},textfont:A.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(tt,W,t){"use strict";var A=t(89298),g=t(42973),i=t(52075).hasColorscale,P=t(78803),E=t(75341),l=t(66279);tt.exports=function(e,r){var s,c,u,y,v,w,f=A.getFromId(e,r.xaxis||"x"),a=A.getFromId(e,r.yaxis||"y"),d={msUTC:!(!r.base&&0!==r.base)};"h"===r.orientation?(s=f.makeCalcdata(r,"x",d),u=a.makeCalcdata(r,"y"),y=g(r,a,"y",u),v=!!r.yperiodalignment,w="y"):(s=a.makeCalcdata(r,"y",d),u=f.makeCalcdata(r,"x"),y=g(r,f,"x",u),v=!!r.xperiodalignment,w="x"),c=y.vals;for(var o=Math.min(c.length,s.length),h=new Array(o),M=0;M<o;M++)h[M]={p:c[M],s:s[M]},v&&(h[M].orig_p=u[M],h[M][w+"End"]=y.ends[M],h[M][w+"Start"]=y.starts[M]),r.ids&&(h[M].id=String(r.ids[M]));return i(r,"marker")&&P(e,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),i(r,"marker.line")&&P(e,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),E(h,r),l(h,r),h}},97313:function(tt){"use strict";tt.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(tt,W,t){"use strict";var A=t(92770),g=t(71828).isArrayOrTypedArray,i=t(50606).BADNUM,P=t(73972),E=t(89298),l=t(99082).getAxisGroup,x=t(61546);function r(b,n,C,p,F){if(p.length){var D,N,k,O;switch(function f(b,n){var C,p;for(C=0;C<n.length;C++){var k,F=n[C],D=F[0].trace,N="funnel"===D.type?D._base:D.base,O="h"===D.orientation?D.xcalendar:D.ycalendar,B="category"===b.type||"multicategory"===b.type?function(){return null}:b.d2c;if(g(N)){for(p=0;p<Math.min(N.length,F.length);p++)k=B(N[p],0,O),A(k)?(F[p].b=+k,F[p].hasB=1):F[p].b=0;for(;p<F.length;p++)F[p].b=0}else{k=B(N,0,O);var z=A(k);for(k=z?k:0,p=0;p<F.length;p++)F[p].b=k,z&&(F[p].hasB=1)}}}(C,p),F.mode){case"overlay":a(n,C,p,F);break;case"group":for(D=[],N=[],k=0;k<p.length;k++)void 0===(O=p[k])[0].trace.offset?N.push(O):D.push(O);N.length&&function s(b,n,C,p,F){var D=new x(p,{posAxis:n,sepNegVal:!1,overlapNoMerge:!F.norm});(function y(b,n,C,p){for(var F=b._fullLayout,k=C.minDiff,O=C.traces,B=O.length,z=C.positions.length!==C.distinctPositions.length,U=k*(1-p.gap),G=l(F,n._id)+O[0][0].trace.orientation,Q=F._alignmentOpts[G]||{},rt=0;rt<B;rt++){var Z,X,it=O[rt],ut=it[0].trace,j=Object.keys((Q[ut.alignmentgroup]||{}).offsetGroups||{}).length,H=(Z=j?U/j:z?U/B:U)*(1-(p.groupgap||0));X=j?((2*ut._offsetIndex+1-j)*Z-H)/2:z?((2*rt+1-B)*Z-H)/2:-H/2;var at=it[0].t;at.barwidth=H,at.poffset=X,at.bargroupwidth=U,at.bardelta=k}C.binWidth=O[0][0].t.barwidth/100,v(C),w(n,C),d(n,C,z)})(b,n,D,F),function T(b,n){for(var C=b.traces,p=0;p<C.length;p++){var F=C[p];if(void 0===F[0].trace.base)for(var N=new x([F],{posAxis:n,sepNegVal:!0,overlapNoMerge:!0}),k=0;k<F.length;k++){var O=F[k];if(O.p!==i){var B=N.put(O.p,O.b+O.s);B&&(O.b=B)}}}}(D,n),F.norm?(M(D),L(C,D,F)):o(C,D)}(b,n,C,N,F),D.length&&a(n,C,D,F);break;case"stack":case"relative":for(D=[],N=[],k=0;k<p.length;k++)void 0===(O=p[k])[0].trace.base?N.push(O):D.push(O);N.length&&function c(b,n,C,p,F){var D=new x(p,{posAxis:n,sepNegVal:"relative"===F.mode,overlapNoMerge:!(F.norm||"stack"===F.mode||"relative"===F.mode)});u(n,D,F),function h(b,n,C){var D,N,k,O,B,z,p=S(b),F=n.traces;for(O=0;O<F.length;O++)if("funnel"===(N=(D=F[O])[0].trace).type)for(B=0;B<D.length;B++)(z=D[B]).s!==i&&n.put(z.p,-.5*z.s);for(O=0;O<F.length;O++){k="funnel"===(N=(D=F[O])[0].trace).type;var U=[];for(B=0;B<D.length;B++)if((z=D[B]).s!==i){var G,Q=n.put(z.p,G=k?z.s:z.s+z.b),rt=Q+G;z.b=Q,z[p]=rt,C.norm||(U.push(rt),z.hasB&&U.push(Q))}C.norm||(N._extremes[b._id]=E.findExtremes(b,U,{tozero:!0,padded:!0}))}}(C,D,F);for(var N=0;N<p.length;N++)for(var k=p[N],O=0;O<k.length;O++){var B=k[O];B.s!==i&&B.b+B.s===D.get(B.p,B.s)&&(B._outmost=!0)}F.norm&&L(C,D,F)}(0,n,C,N,F),D.length&&a(n,C,D,F)}!function m(b,n){var F,D,N,C=S(n),p={},k=1/0,O=-1/0;for(F=0;F<b.length;F++)for(N=b[F],D=0;D<N.length;D++){var B=N[D].p;A(B)&&(k=Math.min(k,B),O=Math.max(O,B))}var z=1e4/(O-k),U=p.round=function(j){return String(Math.round(z*(j-k)))};for(F=0;F<b.length;F++){(N=b[F])[0].t.extents=p;var G=N[0].t.poffset,Q=Array.isArray(G);for(D=0;D<N.length;D++){var rt=N[D],it=rt[C]-rt.w/2;if(A(it)){var ut=rt[C]+rt.w/2,J=U(rt.p);p[J]=p[J]?[Math.min(it,p[J][0]),Math.max(ut,p[J][1])]:[it,ut]}rt.p0=rt.p+(Q?G[D]:G),rt.p1=rt.p0+rt.w,rt.s0=rt.b,rt.s1=rt.s0+rt.s}}}(p,n)}}function a(b,n,C,p){for(var F=0;F<C.length;F++){var N=new x([C[F]],{posAxis:b,sepNegVal:!1,overlapNoMerge:!p.norm});u(b,N,p),p.norm?(M(N),L(n,N,p)):o(n,N)}}function u(b,n,C){for(var p=n.minDiff,F=n.traces,D=p*(1-C.gap),k=D*(1-(C.groupgap||0)),O=-k/2,B=0;B<F.length;B++){var U=F[B][0].t;U.barwidth=k,U.poffset=O,U.bargroupwidth=D,U.bardelta=p}n.binWidth=F[0][0].t.barwidth/100,v(n),w(b,n),d(b,n)}function v(b){var C,p,n=b.traces;for(C=0;C<n.length;C++){var z,F=n[C],D=F[0],N=D.trace,k=D.t,O=N._offset||N.offset,B=k.poffset;if(g(O)){for(z=Array.prototype.slice.call(O,0,F.length),p=0;p<z.length;p++)A(z[p])||(z[p]=B);for(p=z.length;p<F.length;p++)z.push(B);k.poffset=z}else void 0!==O&&(k.poffset=O);var U=N._width||N.width,G=k.barwidth;if(g(U)){var Q=Array.prototype.slice.call(U,0,F.length);for(p=0;p<Q.length;p++)A(Q[p])||(Q[p]=G);for(p=Q.length;p<F.length;p++)Q.push(G);if(k.barwidth=Q,void 0===O){for(z=[],p=0;p<F.length;p++)z.push(B+(G-Q[p])/2);k.poffset=z}}else void 0!==U&&(k.barwidth=U,void 0===O&&(k.poffset=B+(G-U)/2))}}function w(b,n){for(var C=n.traces,p=S(b),F=0;F<C.length;F++)for(var D=C[F],N=D[0].t,k=N.poffset,O=Array.isArray(k),B=N.barwidth,z=Array.isArray(B),U=0;U<D.length;U++){var G=D[U],Q=G.w=z?B[U]:B;void 0===G.p&&(G.p=G[p],G["orig_"+p]=G[p]),G[p]=G.p+((O?k[U]:k)+Q/2)}}function d(b,n,C){var p=n.traces,D=n.minDiff/2;E.minDtick(b,n.minDiff,n.distinctPositions[0],C);for(var N=0;N<p.length;N++){var U,G,rt,k=p[N],O=k[0],B=O.trace,z=[];for(rt=0;rt<k.length;rt++)z.push(G=(U=k[rt]).p-D,U.p+D);if(B.width||B.offset){var it=O.t,ut=it.poffset,J=it.barwidth,j=Array.isArray(ut),Z=Array.isArray(J);for(rt=0;rt<k.length;rt++)z.push(G=(U=k[rt]).p+(j?ut[rt]:ut),G+(Z?J[rt]:J))}B._extremes[b._id]=E.findExtremes(b,z,{padded:!1})}}function o(b,n){for(var C=n.traces,p=S(b),F=0;F<C.length;F++){for(var D=C[F],N=D[0].trace,k="scatter"===N.type,O="v"===N.orientation,B=[],z=!1,U=0;U<D.length;U++){var G=D[U],Q=k?0:G.b,rt=k?O?G.y:G.x:Q+G.s;G[p]=rt,B.push(rt),G.hasB&&B.push(Q),(!G.hasB||!G.b)&&(z=!0)}N._extremes[b._id]=E.findExtremes(b,B,{tozero:z,padded:!0})}}function M(b){for(var n=b.traces,C=0;C<n.length;C++)for(var p=n[C],F=0;F<p.length;F++){var D=p[F];D.s!==i&&b.put(D.p,D.b+D.s)}}function L(b,n,C){var p=n.traces,F=S(b),D="fraction"===C.norm?1:100,N=D/1e9,k=b.l2c(b.c2l(0)),O="stack"===C.mode?D:k;function B(X){return A(b.c2l(X))&&(X<k-N||X>O+N||!A(k))}for(var z=0;z<p.length;z++){for(var U=p[z],G=U[0].trace,Q=[],rt=!1,it=!1,ut=0;ut<U.length;ut++){var J=U[ut];if(J.s!==i){var j=Math.abs(D/n.get(J.p,J.s));J.b*=j,J.s*=j;var Z=J.b,H=Z+J.s;J[F]=H,Q.push(H),it=it||B(H),J.hasB&&(Q.push(Z),it=it||B(Z)),(!J.hasB||!J.b)&&(rt=!0)}}G._extremes[b._id]=E.findExtremes(b,Q,{tozero:rt,padded:it})}}function S(b){return b._id.charAt(0)}tt.exports={crossTraceCalc:function e(b,n){for(var C=n.xaxis,p=n.yaxis,F=b._fullLayout,D=b._fullData,N=b.calcdata,k=[],O=[],B=0;B<D.length;B++){var z=D[B];if(!0===z.visible&&P.traceIs(z,"bar")&&z.xaxis===C._id&&z.yaxis===p._id&&("h"===z.orientation?k.push(N[B]):O.push(N[B]),z._computePh))for(var U=b.calcdata[B],G=0;G<U.length;G++)"function"==typeof U[G].ph0&&(U[G].ph0=U[G].ph0()),"function"==typeof U[G].ph1&&(U[G].ph1=U[G].ph1())}var Q={xCat:"category"===C.type||"multicategory"===C.type,yCat:"category"===p.type||"multicategory"===p.type,mode:F.barmode,norm:F.barnorm,gap:F.bargap,groupgap:F.bargroupgap};r(b,C,p,O,Q),r(b,p,C,k,Q)},setGroupPositions:r}},90769:function(tt,W,t){"use strict";var A=t(71828),g=t(7901),i=t(73972),P=t(67513),E=t(73927),l=t(98340),x=t(26125),e=t(1486),r=A.coerceFont;function s(c,u,y,v,w,d){var o=!1!==(d=d||{}).moduleHasSelected,h=!1!==d.moduleHasUnselected,M=!1!==d.moduleHasConstrain,T=!1!==d.moduleHasCliponaxis,L=!1!==d.moduleHasTextangle,m=!1!==d.moduleHasInsideanchor,S=!!d.hasPathbar,b=Array.isArray(w)||"auto"===w,n=b||"inside"===w,C=b||"outside"===w;if(n||C){var p=r(v,"textfont",y.font),F=A.extendFlat({},p),N=!(c.textfont&&c.textfont.color);if(N&&delete F.color,r(v,"insidetextfont",F),S){var k=A.extendFlat({},p);N&&delete k.color,r(v,"pathbar.textfont",k)}C&&r(v,"outsidetextfont",p),o&&v("selected.textfont.color"),h&&v("unselected.textfont.color"),M&&v("constraintext"),T&&v("cliponaxis"),L&&v("textangle"),v("texttemplate")}n&&m&&v("insidetextanchor")}tt.exports={supplyDefaults:function f(c,u,y,v){function w(T,L){return A.coerce(c,u,e,T,L)}if(P(c,u,v,w)){E(c,u,v,w),w("xhoverformat"),w("yhoverformat"),w("orientation",u.x&&!u.y?"h":"v"),w("base"),w("offset"),w("width"),w("text"),w("hovertext"),w("hovertemplate");var o=w("textposition");s(c,0,v,w,o,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l(c,u,w,y,v);var h=(u.marker.line||{}).color,M=i.getComponentMethod("errorbars","supplyDefaults");M(c,u,h||g.defaultLine,{axis:"y"}),M(c,u,h||g.defaultLine,{axis:"x",inherit:"y"}),A.coerceSelectionMarkerOpacity(u,w)}else u.visible=!1},crossTraceDefaults:function a(c,u){var v;function w(o){return A.coerce(v._input,v,e,o)}if("group"===u.barmode)for(var d=0;d<c.length;d++)"bar"===(v=c[d]).type&&x(v._input,v,u,w)},handleText:s}},58065:function(tt){"use strict";tt.exports=function(t,A,g){return t.x="xVal"in A?A.xVal:A.x,t.y="yVal"in A?A.yVal:A.y,A.xa&&(t.xaxis=A.xa),A.ya&&(t.yaxis=A.ya),"h"===g.orientation?(t.label=t.y,t.value=t.x):(t.label=t.x,t.value=t.y),t}},69383:function(tt,W,t){"use strict";var A=t(92770),g=t(84267),i=t(71828).isArrayOrTypedArray;W.coerceString=function(P,E,l){if("string"==typeof E){if(E||!P.noBlank)return E}else if(("number"==typeof E||!0===E)&&!P.strict)return String(E);return void 0!==l?l:P.dflt},W.coerceNumber=function(P,E,l){if(A(E)){E=+E;var x=P.min,e=P.max;if(!(void 0!==x&&E<x||void 0!==e&&E>e))return E}return void 0!==l?l:P.dflt},W.coerceColor=function(P,E,l){return g(E).isValid()?E:void 0!==l?l:P.dflt},W.coerceEnumerated=function(P,E,l){return P.coerceNumber&&(E=+E),-1!==P.values.indexOf(E)?E:void 0!==l?l:P.dflt},W.getValue=function(P,E){var l;return Array.isArray(P)?E<P.length&&(l=P[E]):l=P,l},W.getLineWidth=function(P,E){return 0<E.mlw?E.mlw:i(P.marker.line.width)?0:P.marker.line.width}},95423:function(tt,W,t){"use strict";var A=t(30211),g=t(73972),i=t(7901),P=t(71828).fillText,E=t(69383).getLineWidth,l=t(89298).hoverLabelText,x=t(50606).BADNUM;function r(a,s,c,u,y){var L,m,S,b,n,C,p,v=a.cd,w=v[0].trace,d=v[0].t,o="closest"===u,h="waterfall"===w.type,M=a.maxHoverDistance,T=a.maxSpikeDistance;"h"===w.orientation?(L=c,m=s,S="y",b="x",n=ut,C=Q):(L=s,m=c,S="x",b="y",C=ut,n=Q);var F=w[S+"period"],D=o||F;function N(st){return O(st,-1)}function k(st){return O(st,1)}function O(st,dt){return st[S]+dt*st.w/2}function B(st){return st[S+"End"]-st[S+"Start"]}var z=o?N:F?function(st){return st.p-B(st)/2}:function(st){return Math.min(N(st),st.p-d.bardelta/2)},U=o?k:F?function(st){return st.p+B(st)/2}:function(st){return Math.max(k(st),st.p+d.bardelta/2)};function G(st,dt,Tt){return y.finiteRange&&(Tt=0),A.inbox(st-L,dt-L,Tt+Math.min(1,Math.abs(dt-st)/p)-1)}function Q(st){return G(z(st),U(st),M)}function it(st){var dt=st[b];if(h){var Tt=Math.abs(st.rawS)||0;m>0?dt+=Tt:m<0&&(dt-=Tt)}return dt}function ut(st){var dt=m,Tt=st.b,bt=it(st);return A.inbox(Tt-dt,bt-dt,M+(bt-dt)/(bt-Tt)-1)}var j=a[S+"a"],Z=a[b+"a"];p=Math.abs(j.r2c(j.range[1])-j.r2c(j.range[0]));var X=A.getDistanceFunction(u,n,C,function H(st){return(n(st)+C(st))/2});if(A.getClosest(v,X,a),!1!==a.index&&v[a.index].p!==x){D||(z=function(st){return Math.min(N(st),st.p-d.bargroupwidth/2)},U=function(st){return Math.max(k(st),st.p+d.bargroupwidth/2)});var _=v[a.index],K=w.base?_.b+_.s:_.s;a[b+"0"]=a[b+"1"]=Z.c2p(_[b],!0),a[b+"LabelVal"]=K;var nt=d.extents[d.extents.round(_.p)];return a[S+"0"]=j.c2p(o?z(_):nt[0],!0),a[S+"1"]=j.c2p(o?U(_):nt[1],!0),a[S+"LabelVal"]=void 0!==_.orig_p?_.orig_p:_.p,a.labelLabel=l(j,a[S+"LabelVal"],w[S+"hoverformat"]),a.valueLabel=l(Z,a[b+"LabelVal"],w[b+"hoverformat"]),a.baseLabel=l(Z,_.b,w[b+"hoverformat"]),a.spikeDistance=(function J(st){var dt=m,Tt=st.b,bt=it(st);return A.inbox(Tt-dt,bt-dt,T+(bt-dt)/(bt-Tt)-1)}(_)+function rt(st){return G(N(st),k(st),T)}(_))/2,a[S+"Spike"]=j.c2p(_.p,!0),P(_,w,a),a.hovertemplate=w.hovertemplate,a}}function f(a,s){var c=s.mcc||a.marker.color,u=s.mlcc||a.marker.line.color,y=E(a,s);return i.opacity(c)?c:i.opacity(u)&&y?u:void 0}tt.exports={hoverPoints:function e(a,s,c,u,y){var v=r(a,s,c,u,y);if(v){var w=v.cd,d=w[0].trace,o=w[v.index];return v.color=f(d,o),g.getComponentMethod("errorbars","hoverInfo")(o,d,v),[v]}},hoverOnBars:r,getTraceColor:f}},60822:function(tt,W,t){"use strict";tt.exports={attributes:t(1486),layoutAttributes:t(43641),supplyDefaults:t(90769).supplyDefaults,crossTraceDefaults:t(90769).crossTraceDefaults,supplyLayoutDefaults:t(13957),calc:t(92290),crossTraceCalc:t(11661).crossTraceCalc,colorbar:t(4898),arraysToCalcdata:t(75341),plot:t(17295).plot,style:t(16688).style,styleOnSelect:t(16688).styleOnSelect,hoverPoints:t(95423).hoverPoints,eventData:t(58065),selectPoints:t(81974),moduleType:"trace",name:"bar",basePlotModule:t(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(tt){"use strict";tt.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(tt,W,t){"use strict";var A=t(73972),g=t(89298),i=t(71828),P=t(43641);tt.exports=function(E,l,x){function e(d,o){return i.coerce(E,l,P,d,o)}for(var r=!1,f=!1,a=!1,s={},c=e("barmode"),u=0;u<x.length;u++){var y=x[u];if(A.traceIs(y,"bar")&&y.visible){if(r=!0,"group"===c){var v=y.xaxis+y.yaxis;s[v]&&(a=!0),s[v]=!0}y.visible&&"histogram"===y.type&&"category"!==g.getFromId({_fullLayout:l},y["v"===y.orientation?"xaxis":"yaxis"]).type&&(f=!0)}}r?("overlay"!==c&&e("barnorm"),e("bargap",f&&!a?0:.2),e("bargroupgap")):delete l.barmode}},17295:function(tt,W,t){"use strict";var A=t(39898),g=t(92770),i=t(71828),P=t(63893),E=t(7901),l=t(91424),x=t(73972),e=t(89298).tickText,r=t(72597),f=r.recordMinTextSize,a=r.clearMinTextSize,s=t(16688),c=t(69383),u=t(97313),y=t(1486),v=y.text,w=y.textposition,d=t(23469).appendArrayPointValue,o=u.TEXTPAD;function h(z){return z.id}function T(z,U){return z<U?1:-1}function m(z,U,G,Q){var rt;return!U.uniformtext.mode&&S(G)?(Q&&(rt=Q()),z.transition().duration(G.duration).ease(G.easing).each("end",function(){rt&&rt()}).each("interrupt",function(){rt&&rt()})):z}function S(z){return z&&z.duration>0}function C(z){return"auto"===z?0:z}function p(z,U){var G=Math.PI/180*U,Q=Math.abs(Math.sin(G)),rt=Math.abs(Math.cos(G));return{x:z.width*rt+z.height*Q,y:z.width*Q+z.height*rt}}function F(z,U,G,Q,rt,it){var ut=!!it.isHorizontal,J=!!it.constrained,j=it.angle||0,Z=it.anchor||"end",H="end"===Z,X="start"===Z,_=((it.leftToRight||0)+1)/2,K=1-_,nt=rt.width,et=rt.height,st=Math.abs(U-z),dt=Math.abs(Q-G),Tt=st>2*o&&dt>2*o?o:0;st-=2*Tt,dt-=2*Tt;var bt=C(j);"auto"===j&&!(nt<=st&&et<=dt)&&(nt>st||et>dt)&&(!(nt>dt||et>st)||nt<et!=st<dt)&&(bt+=90);var Dt=p(rt,bt),Ft=1;J&&(Ft=Math.min(1,st/Dt.x,dt/Dt.y));var Mt=rt.left*K+rt.right*_,wt=(rt.top+rt.bottom)/2,St=(z+o)*K+(U-o)*_,Ut=(G+Q)/2,Gt=0,Pt=0;if(X||H){var Vt=(ut?Dt.x:Dt.y)/2,te=ut?T(z,U):T(G,Q);ut?X?(St=z+te*Tt,Gt=-te*Vt):(St=U-te*Tt,Gt=te*Vt):X?(Ut=G+te*Tt,Pt=-te*Vt):(Ut=Q-te*Tt,Pt=te*Vt)}return{textX:Mt,textY:wt,targetX:St,targetY:Ut,anchorX:Gt,anchorY:Pt,scale:Ft,rotate:bt}}tt.exports={plot:function b(z,U,G,Q,rt,it){var ut=U.xaxis,J=U.yaxis,j=z._fullLayout,Z=z._context.staticPlot;rt||(rt={mode:j.barmode,norm:j.barmode,gap:j.bargap,groupgap:j.bargroupgap},a("bar",j));var H=i.makeTraceGroups(Q,G,"trace bars").each(function(X){var at=A.select(this),_=X[0].trace,st="bar"===_.type||"funnel"===_.type,dt=0;"waterfall"===_.type&&_.connector.visible&&"between"===_.connector.mode&&(dt=_.connector.line.width/2);var Tt="h"===_.orientation,bt=S(rt),Dt=i.ensureSingle(at,"g","points"),Ft=function M(z){if(z.ids)return h}(_),Mt=Dt.selectAll("g.point").data(i.identity,Ft);Mt.enter().append("g").classed("point",!0),Mt.exit().remove(),Mt.each(function(St,Ut){var qt,ae,Gt=A.select(this),Pt=function L(z,U,G,Q){var rt=[],it=[],ut=Q?U:G,J=Q?G:U;return rt[0]=ut.c2p(z.s0,!0),it[0]=J.c2p(z.p0,!0),rt[1]=ut.c2p(z.s1,!0),it[1]=J.c2p(z.p1,!0),Q?[rt,it]:[it,rt]}(St,ut,J,Tt),Vt=Pt[0][0],te=Pt[0][1],_t=Pt[1][0],kt=Pt[1][1],zt=0==(Tt?te-Vt:kt-_t);if(zt&&st&&c.getLineWidth(_,St)&&(zt=!1),zt||(zt=!(g(Vt)&&g(te)&&g(_t)&&g(kt))),St.isBlank=zt,zt&&(Tt?te=Vt:kt=_t),dt&&!zt&&(Tt?(Vt-=T(Vt,te)*dt,te+=T(Vt,te)*dt):(_t-=T(_t,kt)*dt,kt+=T(_t,kt)*dt)),"waterfall"===_.type){if(!zt){var oe=_[St.dir].marker;qt=oe.line.width,ae=oe.color}}else qt=c.getLineWidth(_,St),ae=St.mc||_.marker.color;function pe(Rt){var Ot=A.round(qt/2%1,2);return 0===rt.gap&&0===rt.groupgap?A.round(Math.round(Rt)-Ot,2):Rt}if(!z._context.staticPlot){var Zt=E.opacity(ae)<1||qt>.01?pe:function ye(Rt,Ot,It){return It&&Rt===Ot?Rt:Math.abs(Rt-Ot)>=2?pe(Rt):Rt>Ot?Math.ceil(Rt):Math.floor(Rt)};Vt=Zt(Vt,te,Tt),te=Zt(te,Vt,Tt),_t=Zt(_t,kt,!Tt),kt=Zt(kt,_t,!Tt)}var Ct=m(i.ensureSingle(Gt,"path"),j,rt,it);if(Ct.style("vector-effect",Z?"none":"non-scaling-stroke").attr("d",isNaN((te-Vt)*(kt-_t))||zt&&z._context.staticPlot?"M0,0Z":"M"+Vt+","+_t+"V"+kt+"H"+te+"V"+_t+"Z").call(l.setClipUrl,U.layerClipId,z),!j.uniformtext.mode&&bt){var Et=l.makePointStyleFns(_);l.singlePointStyle(St,Ct,_,Et,z)}(function n(z,U,G,Q,rt,it,ut,J,j,Z,H){var K,X=U.xaxis,at=U.yaxis,_=z._fullLayout;function nt(Rt,Ot,It){return i.ensureSingle(Rt,"text").text(Ot).attr({class:"bartext bartext-"+K,"text-anchor":"middle","data-notex":1}).call(l.font,It).call(P.convertToTspans,z)}var et=Q[0].trace,st="h"===et.orientation,dt=function N(z,U,G,Q,rt){var J,it=U[0].trace;return J=it.texttemplate?function O(z,U,G,Q,rt){var it=U[0].trace,ut=i.castOption(it,G,"texttemplate");if(!ut)return"";var X,at,_,K,J="histogram"===it.type,j="waterfall"===it.type,Z="funnel"===it.type,H="h"===it.orientation;function nt(Ft){return e(at,at.c2l(Ft),!0).text}function et(Ft){return e(K,K.c2l(Ft),!0).text}H?(X="y",at=rt,_="x",K=Q):(X="x",at=Q,_="y",K=rt);var st=U[G],dt={};dt.label=st.p,dt.labelLabel=dt[X+"Label"]=nt(st.p);var Tt=i.castOption(it,st.i,"text");(0===Tt||Tt)&&(dt.text=Tt),dt.value=st.s,dt.valueLabel=dt[_+"Label"]=et(st.s);var bt={};d(bt,it,st.i),(J||void 0===bt.x)&&(bt.x=H?dt.value:dt.label),(J||void 0===bt.y)&&(bt.y=H?dt.label:dt.value),(J||void 0===bt.xLabel)&&(bt.xLabel=H?dt.valueLabel:dt.labelLabel),(J||void 0===bt.yLabel)&&(bt.yLabel=H?dt.labelLabel:dt.valueLabel),j&&(dt.delta=+st.rawS||st.s,dt.deltaLabel=et(dt.delta),dt.final=st.v,dt.finalLabel=et(dt.final),dt.initial=dt.final-dt.delta,dt.initialLabel=et(dt.initial)),Z&&(dt.value=st.s,dt.valueLabel=et(dt.value),dt.percentInitial=st.begR,dt.percentInitialLabel=i.formatPercent(st.begR),dt.percentPrevious=st.difR,dt.percentPreviousLabel=i.formatPercent(st.difR),dt.percentTotal=st.sumR,dt.percenTotalLabel=i.formatPercent(st.sumR));var Dt=i.castOption(it,st.i,"customdata");return Dt&&(dt.customdata=Dt),i.texttemplateString(ut,dt,z._d3locale,bt,dt,it._meta||{})}(z,U,G,Q,rt):it.textinfo?function B(z,U,G,Q){var rt=z[0].trace,it="h"===rt.orientation,ut="waterfall"===rt.type,J="funnel"===rt.type;function j(Dt){return e(it?Q:G,Dt,!0).text}function Z(Dt){return e(it?G:Q,+Dt,!0).text}var K,X=z[U],at=rt.textinfo.split("+"),_=[],nt=function(Dt){return-1!==at.indexOf(Dt)};if(nt("label")&&_.push(j(z[U].p)),nt("text")&&(0===(K=i.castOption(rt,X.i,"text"))||K)&&_.push(K),ut){var et=+X.rawS||X.s,st=X.v,dt=st-et;nt("initial")&&_.push(Z(dt)),nt("delta")&&_.push(Z(et)),nt("final")&&_.push(Z(st))}if(J){nt("value")&&_.push(Z(X.s));var Tt=0;nt("percent initial")&&Tt++,nt("percent previous")&&Tt++,nt("percent total")&&Tt++;var bt=Tt>1;nt("percent initial")&&(K=i.formatPercent(X.begR),bt&&(K+=" of initial"),_.push(K)),nt("percent previous")&&(K=i.formatPercent(X.difR),bt&&(K+=" of previous"),_.push(K)),nt("percent total")&&(K=i.formatPercent(X.sumR),bt&&(K+=" of total"),_.push(K))}return _.join("<br>")}(U,G,Q,rt):c.getValue(it.text,G),c.coerceString(v,J)}(_,Q,rt,X,at);K=function k(z,U){var G=c.getValue(z.textposition,U);return c.coerceEnumerated(w,G)}(et,rt);var bt=Q[rt],Dt=!("stack"===Z.mode||"relative"===Z.mode)||bt._outmost;if(dt&&"none"!==K&&(!bt.isBlank&&it!==ut&&J!==j||"auto"!==K&&"inside"!==K)){var Ft=_.font,Mt=s.getBarColor(Q[rt],et),wt=s.getInsideTextFont(et,rt,Ft,Mt),St=s.getOutsideTextFont(et,rt,Ft),Ut=G.datum();st?"log"===X.type&&Ut.s0<=0&&(it=X.range[0]<X.range[1]?0:X._length):"log"===at.type&&Ut.s0<=0&&(J=at.range[0]<at.range[1]?at._length:0);var Vt,te,_t,kt,zt,Gt=Math.abs(ut-it)-2*o,Pt=Math.abs(j-J)-2*o;if("outside"===K&&!Dt&&!bt.hasB&&(K="inside"),"auto"===K&&(Dt?(K="inside",Vt=nt(G,dt,zt=i.ensureUniformFontSize(z,wt)),kt=(te=l.bBox(Vt.node())).height,(_t=te.width)>0&&kt>0&&(_t<=Gt&&kt<=Pt||_t<=Pt&&kt<=Gt||(st?Gt>=_t*(Pt/kt):Pt>=kt*(Gt/_t)))?K="inside":(K="outside",Vt.remove(),Vt=null)):K="inside"),!Vt){var ye=(Vt=nt(G,dt,zt=i.ensureUniformFontSize(z,"outside"===K?St:wt))).attr("transform");if(Vt.attr("transform",""),_t=(te=l.bBox(Vt.node())).width,kt=te.height,Vt.attr("transform",ye),_t<=0||kt<=0)return void Vt.remove()}var Zt,Fe=et.textangle;(Zt="outside"===K?function D(z,U,G,Q,rt,it){var _,ut=!!it.isHorizontal,J=!!it.constrained,j=it.angle||0,Z=rt.width,H=rt.height,X=Math.abs(U-z),at=Math.abs(Q-G);_=ut?at>2*o?o:0:X>2*o?o:0;var K=1;J&&(K=ut?Math.min(1,at/H):Math.min(1,X/Z));var nt=C(j),et=p(rt,nt),st=(ut?et.x:et.y)/2,dt=(rt.left+rt.right)/2,Tt=(rt.top+rt.bottom)/2,bt=(z+U)/2,Dt=(G+Q)/2,Ft=0,Mt=0,wt=ut?T(U,z):T(G,Q);return ut?(bt=U-wt*_,Ft=wt*st):(Dt=Q+wt*_,Mt=-wt*st),{textX:dt,textY:Tt,targetX:bt,targetY:Dt,anchorX:Ft,anchorY:Mt,scale:K,rotate:nt}}(it,ut,J,j,te,{isHorizontal:st,constrained:"both"===et.constraintext||"outside"===et.constraintext,angle:Fe}):F(it,ut,J,j,te,{isHorizontal:st,constrained:"both"===et.constraintext||"inside"===et.constraintext,angle:Fe,anchor:et.insidetextanchor})).fontSize=zt.size,f("histogram"===et.type?"bar":et.type,Zt,_),bt.transform=Zt;var Et=m(Vt,_,Z,H);i.setTransormAndDisplay(Et,Zt)}else G.select("text").remove()})(z,U,Gt,X,Ut,Vt,te,_t,kt,rt,it),U.layerClipId&&l.hideOutsideRangePoint(St,Gt.select("text"),ut,J,_.xcalendar,_.ycalendar)}),l.setClipUrl(at,!1===_.cliponaxis?null:U.layerClipId,z)});x.getComponentMethod("errorbars","plot")(z,H,U,rt)},toMoveInsideBar:F}},81974:function(tt){"use strict";function W(t,A,g,i,P){var E=A.c2p(i?t.s0:t.p0,!0),l=A.c2p(i?t.s1:t.p1,!0),x=g.c2p(i?t.p0:t.s0,!0),e=g.c2p(i?t.p1:t.s1,!0);return P?[(E+l)/2,(x+e)/2]:i?[l,(x+e)/2]:[(E+l)/2,e]}tt.exports=function(A,g){var f,i=A.cd,P=A.xaxis,E=A.yaxis,l=i[0].trace,x="funnel"===l.type,e="h"===l.orientation,r=[];if(!1===g)for(f=0;f<i.length;f++)i[f].selected=0;else for(f=0;f<i.length;f++){var a=i[f],s="ct"in a?a.ct:W(a,P,E,e,x);g.contains(s,!1,f,A)?(r.push({pointNumber:f,x:P.c2d(a.x),y:E.c2d(a.y)}),a.selected=1):a.selected=0}return r}},61546:function(tt,W,t){"use strict";tt.exports=g;var A=t(71828).distinctVals;function g(i,P){this.traces=i,this.sepNegVal=P.sepNegVal,this.overlapNoMerge=P.overlapNoMerge;for(var E=1/0,l=P.posAxis._id.charAt(0),x=[],e=0;e<i.length;e++){for(var r=i[e],f=0;f<r.length;f++){var a=r[f],s=a.p;void 0===s&&(s=a[l]),void 0!==s&&x.push(s)}r[0]&&r[0].width1&&(E=Math.min(r[0].width1,E))}this.positions=x;var c=A(x);this.distinctPositions=c.vals,this.minDiff=1===c.vals.length&&E!==1/0?E:Math.min(c.minDiff,E);var u=(P.posAxis||{}).type;("category"===u||"multicategory"===u)&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}g.prototype.put=function(P,E){var l=this.getLabel(P,E),x=this.bins[l]||0;return this.bins[l]=x+E,x},g.prototype.get=function(P,E){var l=this.getLabel(P,E);return this.bins[l]||0},g.prototype.getLabel=function(P,E){return(E<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?P:Math.round(P/this.binWidth))}},16688:function(tt,W,t){"use strict";var A=t(39898),g=t(7901),i=t(91424),P=t(71828),E=t(73972),l=t(72597).resizeText,x=t(1486),e=x.textfont,r=x.insidetextfont,f=x.outsidetextfont,a=t(69383);function c(m,S,b){i.pointStyle(m.selectAll("path"),S,b),u(m,S,b)}function u(m,S,b){m.selectAll("text").each(function(n){var C=A.select(this),p=P.ensureUniformFontSize(b,d(C,n,S,b));i.font(C,p)})}function d(m,S,b,n){var C=n._fullLayout.font,p=b.textfont;if(m.classed("bartext-inside")){var F=L(S,b);p=h(b,S.i,C,F)}else m.classed("bartext-outside")&&(p=M(b,S.i,C));return p}function o(m,S,b){return T(e,m.textfont,S,b)}function h(m,S,b,n){var C=o(m,S,b);return(void 0===m._input.textfont||void 0===m._input.textfont.color||Array.isArray(m.textfont.color)&&void 0===m.textfont.color[S])&&(C={color:g.contrast(n),family:C.family,size:C.size}),T(r,m.insidetextfont,S,C)}function M(m,S,b){var n=o(m,S,b);return T(f,m.outsidetextfont,S,n)}function T(m,S,b,n){var C=a.getValue((S=S||{}).family,b),p=a.getValue(S.size,b),F=a.getValue(S.color,b);return{family:a.coerceString(m.family,C,n.family),size:a.coerceNumber(m.size,p,n.size),color:a.coerceColor(m.color,F,n.color)}}function L(m,S){return"waterfall"===S.type?S[m.dir].marker.color:m.mcc||m.mc||S.marker.color}tt.exports={style:function s(m){var S=A.select(m).selectAll("g.barlayer").selectAll("g.trace");l(m,S,"bar");var b=S.size(),n=m._fullLayout;S.style("opacity",function(C){return C[0].trace.opacity}).each(function(C){("stack"===n.barmode&&b>1||0===n.bargap&&0===n.bargroupgap&&!C[0].trace.marker.line.width)&&A.select(this).attr("shape-rendering","crispEdges")}),S.selectAll("g.points").each(function(C){c(A.select(this),C[0].trace,m)}),E.getComponentMethod("errorbars","style")(S)},styleTextPoints:u,styleOnSelect:function y(m,S,b){var n=S[0].trace;n.selectedpoints?function v(m,S,b){i.selectedPointStyle(m.selectAll("path"),S),function w(m,S,b){m.each(function(n){var p,C=A.select(this);if(n.selected){p=P.ensureUniformFontSize(b,d(C,n,S,b));var F=S.selected.textfont&&S.selected.textfont.color;F&&(p.color=F),i.font(C,p)}else i.selectedTextStyle(C,S)})}(m.selectAll("text"),S,b)}(b,n,m):(c(b,n,m),E.getComponentMethod("errorbars","style")(b))},getInsideTextFont:h,getOutsideTextFont:M,getBarColor:L,resizeText:l}},98340:function(tt,W,t){"use strict";var A=t(7901),g=t(52075).hasColorscale,i=t(1586),P=t(71828).coercePattern;tt.exports=function(l,x,e,r,f){var a=e("marker.color",r),s=g(l,"marker");s&&i(l,x,f,e,{prefix:"marker.",cLetter:"c"}),e("marker.line.color",A.defaultLine),g(l,"marker.line")&&i(l,x,f,e,{prefix:"marker.line.",cLetter:"c"}),e("marker.line.width"),e("marker.opacity"),P(e,"marker.pattern",a,s),e("selected.marker.color"),e("unselected.marker.color")}},72597:function(tt,W,t){"use strict";var A=t(39898),g=t(71828);function l(x){return"_"+x+"Text_minsize"}tt.exports={recordMinTextSize:function P(x,e,r){if(r.uniformtext.mode){var f=l(x),a=r.uniformtext.minsize,s=e.scale*e.fontSize;e.hide=s<a,r[f]=r[f]||1/0,e.hide||(r[f]=Math.min(r[f],Math.max(s,a)))}},clearMinTextSize:function E(x,e){e[l(x)]=void 0},resizeText:function i(x,e,r){var f=x._fullLayout,a=f["_"+r+"Text_minsize"];if(a){var c,s="hide"===f.uniformtext.mode;switch(r){case"funnelarea":case"pie":case"sunburst":c="g.slice";break;case"treemap":case"icicle":c="g.slice, g.pathbar";break;default:c="g.points > g.point"}e.selectAll(c).each(function(u){var y=u.transform;if(y){y.scale=s&&y.hide?0:a/y.fontSize;var v=A.select(this).select("text");g.setTransormAndDisplay(v,y)}})}}}},55023:function(tt,W,t){"use strict";var A=t(5386).fF,g=t(1426).extendFlat,i=t(81245),P=t(1486);tt.exports={r:i.r,theta:i.theta,r0:i.r0,dr:i.dr,theta0:i.theta0,dtheta:i.dtheta,thetaunit:i.thetaunit,base:g({},P.base,{}),offset:g({},P.offset,{}),width:g({},P.width,{}),text:g({},P.text,{}),hovertext:g({},P.hovertext,{}),marker:P.marker,hoverinfo:i.hoverinfo,hovertemplate:A(),selected:P.selected,unselected:P.unselected}},74692:function(tt,W,t){"use strict";var A=t(52075).hasColorscale,g=t(78803),i=t(75341),P=t(11661).setGroupPositions,E=t(66279),l=t(73972).traceIs,x=t(71828).extendFlat;tt.exports={calc:function e(f,a){for(var s=f._fullLayout,c=a.subplot,y=s[c].angularaxis,v=s[c].radialaxis.makeCalcdata(a,"r"),w=y.makeCalcdata(a,"theta"),d=a._length,o=new Array(d),h=v,M=w,T=0;T<d;T++)o[T]={p:M[T],s:h[T]};function L(m){var S=a[m];void 0!==S&&(a["_"+m]=Array.isArray(S)?y.makeCalcdata(a,m):y.d2c(S,a.thetaunit))}return"linear"===y.type&&(L("width"),L("offset")),A(a,"marker")&&g(f,a,{vals:a.marker.color,containerStr:"marker",cLetter:"c"}),A(a,"marker.line")&&g(f,a,{vals:a.marker.line.color,containerStr:"marker.line",cLetter:"c"}),i(o,a),E(o,a),o},crossTraceCalc:function r(f,a,s){for(var c=f.calcdata,u=[],y=0;y<c.length;y++){var v=c[y],w=v[0].trace;!0===w.visible&&l(w,"bar")&&w.subplot===s&&u.push(v)}var d=x({},a.radialaxis,{_id:"x"});P(f,a.angularaxis,d,u,{mode:a.barmode,norm:a.barnorm,gap:a.bargap,groupgap:a.bargroupgap})}}},6135:function(tt,W,t){"use strict";var A=t(71828),g=t(22184).handleRThetaDefaults,i=t(98340),P=t(55023);tt.exports=function(l,x,e,r){function f(s,c){return A.coerce(l,x,P,s,c)}g(l,x,r,f)?(f("thetaunit"),f("base"),f("offset"),f("width"),f("text"),f("hovertext"),f("hovertemplate"),i(l,x,f,e,r),A.coerceSelectionMarkerOpacity(x,f)):x.visible=!1}},27379:function(tt,W,t){"use strict";var A=t(30211),g=t(71828),i=t(95423).getTraceColor,P=g.fillText,E=t(59150).makeHoverPointText,l=t(10869).isPtInsidePolygon;tt.exports=function(e,r,f){var a=e.cd,s=a[0].trace,c=e.subplot,u=c.radialAxis,v=c.vangles,w=v?l:g.isPtInsideSector,d=e.maxHoverDistance,o=c.angularAxis._period||2*Math.PI,h=Math.abs(u.g2p(Math.sqrt(r*r+f*f))),M=Math.atan2(f,r);if(u.range[0]>u.range[1]&&(M+=Math.PI),A.getClosest(a,function(b){return w(h,M,[b.rp0,b.rp1],[b.thetag0,b.thetag1],v)?d+Math.min(1,Math.abs(b.thetag1-b.thetag0)/o)-1+(b.rp1-h)/(b.rp1-b.rp0)-1:1/0},e),!1!==e.index){var m=a[e.index];e.x0=e.x1=m.ct[0],e.y0=e.y1=m.ct[1];var S=g.extendFlat({},m,{r:m.s,theta:m.p});return P(m,s,e),E(S,s,c,e),e.hovertemplate=s.hovertemplate,e.color=i(s,m),e.xLabelVal=e.yLabelVal=void 0,m.s<0&&(e.idealAlign="left"),[e]}}},23381:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"barpolar",basePlotModule:t(23580),categories:["polar","bar","showLegend"],attributes:t(55023),layoutAttributes:t(40151),supplyDefaults:t(6135),supplyLayoutDefaults:t(19860),calc:t(74692).calc,crossTraceCalc:t(74692).crossTraceCalc,plot:t(60173),colorbar:t(4898),formatLabels:t(98608),style:t(16688).style,styleOnSelect:t(16688).styleOnSelect,hoverPoints:t(27379),selectPoints:t(81974),meta:{}}},40151:function(tt){"use strict";tt.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(tt,W,t){"use strict";var A=t(71828),g=t(40151);tt.exports=function(i,P,E){var x,l={};function e(a,s){return A.coerce(i[x]||{},P[x],g,a,s)}for(var r=0;r<E.length;r++){var f=E[r];"barpolar"===f.type&&!0===f.visible&&(l[x=f.subplot]||(e("barmode"),e("bargap"),l[x]=1))}}},60173:function(tt,W,t){"use strict";var A=t(39898),g=t(92770),i=t(71828),P=t(91424),E=t(10869);tt.exports=function(e,r,f){var a=e._context.staticPlot,s=r.xaxis,c=r.yaxis,u=r.radialAxis,y=r.angularAxis,v=function l(x){var e=x.cxx,r=x.cyy;return x.vangles?function(f,a,s,c){var u,y;i.angleDelta(s,c)>0?(u=s,y=c):(u=c,y=s);var v=E.findEnclosingVertexAngles(u,x.vangles)[0],w=E.findEnclosingVertexAngles(y,x.vangles)[1];return E.pathPolygonAnnulus(f,a,u,y,[v,(u+y)/2,w],e,r)}:function(f,a,s,c){return i.pathAnnulus(f,a,s,c,e,r)}}(r),w=r.layers.frontplot.select("g.barlayer");i.makeTraceGroups(w,f,"trace bars").each(function(){var d=A.select(this),h=i.ensureSingle(d,"g","points").selectAll("g.point").data(i.identity);h.enter().append("g").style("vector-effect",a?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),h.exit().remove(),h.each(function(M){var n,T=A.select(this),L=M.rp0=u.c2p(M.s0),m=M.rp1=u.c2p(M.s1),S=M.thetag0=y.c2g(M.p0),b=M.thetag1=y.c2g(M.p1);if(g(L)&&g(m)&&g(S)&&g(b)&&L!==m&&S!==b){var C=u.c2g(M.s1),p=(S+b)/2;M.ct=[s.c2p(C*Math.cos(p)),c.c2p(C*Math.sin(p))],n=v(L,m,S,b)}else n="M0,0Z";i.ensureSingle(T,"path").attr("d",n)}),P.setClipUrl(d,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,e)})}},53522:function(tt,W,t){"use strict";var A=t(82196),g=t(1486),i=t(22399),P=t(12663).axisHoverFormat,E=t(5386).fF,l=t(1426).extendFlat,x=A.marker,e=x.line;tt.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:l({},x.symbol,{arrayOk:!1,editType:"plot"}),opacity:l({},x.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:l({},x.angle,{arrayOk:!1,editType:"calc"}),size:l({},x.size,{arrayOk:!1,editType:"calc"}),color:l({},x.color,{arrayOk:!1,editType:"style"}),line:{color:l({},e.color,{arrayOk:!1,dflt:i.defaultLine,editType:"style"}),width:l({},e.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:A.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:{marker:A.selected.marker,editType:"style"},unselected:{marker:A.unselected.marker,editType:"style"},text:l({},A.text,{}),hovertext:l({},A.hovertext,{}),hovertemplate:E({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(tt,W,t){"use strict";var A=t(92770),g=t(89298),i=t(42973),P=t(71828),E=t(50606).BADNUM,l=P._;tt.exports=function(M,T){var C,p,F,D,N,k,O,L=M._fullLayout,m=g.getFromId(M,T.xaxis||"x"),S=g.getFromId(M,T.yaxis||"y"),b=[],n="violin"===T.type?"_numViolins":"_numBoxes";"h"===T.orientation?(F=m,D="x",N=S,k="y",O=!!T.yperiodalignment):(F=S,D="y",N=m,k="x",O=!!T.xperiodalignment);var it,ut,J,j,Z,H,B=function x(h,M,T,L){var p,S=M+"0"in h;if(M in h||S&&"d"+M in h){var n=T.makeCalcdata(h,M);return[i(h,T,M,n).vals,n]}p=S?h[M+"0"]:"name"in h&&("category"===T.type||A(h.name)&&-1!==["linear","log"].indexOf(T.type)||P.isDateTime(h.name)&&"date"===T.type)?h.name:L;for(var F="multicategory"===T.type?T.r2c_just_indices(p):T.d2c(p,0,h[M+"calendar"]),D=h._length,N=new Array(D),k=0;k<D;k++)N[k]=F;return[N]}(T,k,N,L[n]),z=B[0],U=B[1],G=P.distinctVals(z,N),Q=G.vals,rt=G.minDiff/2,X="all"===(T.boxpoints||T.points)?P.identity:function(ye){return ye.v<it.lf||ye.v>it.uf};if(T._hasPreCompStats){var at=T[D],_=function(ye){return F.d2c((T[ye]||[])[C])},K=1/0,nt=-1/0;for(C=0;C<T._length;C++){var et=z[C];if(A(et)){if((it={}).pos=it[k]=et,O&&U&&(it.orig_p=U[C]),it.q1=_("q1"),it.med=_("median"),it.q3=_("q3"),ut=[],at&&P.isArrayOrTypedArray(at[C]))for(p=0;p<at[C].length;p++)(H=F.d2c(at[C][p]))!==E&&(a(Z={v:H,i:[C,p]},T,[C,p]),ut.push(Z));if(it.pts=ut.sort(c),j=(J=it[D]=ut.map(u)).length,it.med!==E&&it.q1!==E&&it.q3!==E&&it.med>=it.q1&&it.q3>=it.med){var st=_("lowerfence");it.lf=st!==E&&st<=it.q1?st:y(it,J,j);var dt=_("upperfence");it.uf=dt!==E&&dt>=it.q3?dt:v(it,J,j);var Tt=_("mean");it.mean=Tt!==E?Tt:j?P.mean(J,j):(it.q1+it.q3)/2;var bt=_("sd");it.sd=Tt!==E&&bt>=0?bt:j?P.stdev(J,j,it.mean):it.q3-it.q1,it.lo=w(it),it.uo=d(it);var Dt=_("notchspan");Dt=Dt!==E&&Dt>0?Dt:o(it,j),it.ln=it.med-Dt,it.un=it.med+Dt;var Ft=it.lf,Mt=it.uf;T.boxpoints&&J.length&&(Ft=Math.min(Ft,J[0]),Mt=Math.max(Mt,J[j-1])),T.notched&&(Ft=Math.min(Ft,it.ln),Mt=Math.max(Mt,it.un)),it.min=Ft,it.max=Mt}else{var wt;P.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+it.q1,"median = "+it.med,"q3 = "+it.q3].join("\n")),it.med=wt=it.med!==E?it.med:it.q1!==E?it.q3!==E?(it.q1+it.q3)/2:it.q1:it.q3!==E?it.q3:0,it.q1=it.q3=wt,it.lf=it.uf=wt,it.mean=it.sd=wt,it.ln=it.un=wt,it.min=it.max=wt}K=Math.min(K,it.min),nt=Math.max(nt,it.max),it.pts2=ut.filter(X),b.push(it)}}T._extremes[F._id]=g.findExtremes(F,[K,nt],{padded:!0})}else{var St=F.makeCalcdata(T,D),Ut=function e(h,M){for(var T=h.length,L=new Array(T+1),m=0;m<T;m++)L[m]=h[m]-M;return L[T]=h[T-1]+M,L}(Q,rt),Gt=Q.length,Pt=function r(h){for(var M=new Array(h),T=0;T<h;T++)M[T]=[];return M}(Gt);for(C=0;C<T._length;C++)if(A(H=St[C])){var Vt=P.findBin(z[C],Ut);Vt>=0&&Vt<Gt&&(a(Z={v:H,i:C},T,C),Pt[Vt].push(Z))}var te=1/0,_t=-1/0,kt=T.quartilemethod,zt="exclusive"===kt,qt="inclusive"===kt;for(C=0;C<Gt;C++)if(Pt[C].length>0){var ae,oe;(it={}).pos=it[k]=Q[C],ut=it.pts=Pt[C].sort(c),j=(J=it[D]=ut.map(u)).length,it.min=J[0],it.max=J[j-1],it.mean=P.mean(J,j),it.sd=P.stdev(J,j,it.mean),it.med=P.interp(J,.5),j%2&&(zt||qt)?(zt?(ae=J.slice(0,j/2),oe=J.slice(j/2+1)):qt&&(ae=J.slice(0,j/2+1),oe=J.slice(j/2)),it.q1=P.interp(ae,.5),it.q3=P.interp(oe,.5)):(it.q1=P.interp(J,.25),it.q3=P.interp(J,.75)),it.lf=y(it,J,j),it.uf=v(it,J,j),it.lo=w(it),it.uo=d(it);var pe=o(it,j);it.ln=it.med-pe,it.un=it.med+pe,te=Math.min(te,it.ln),_t=Math.max(_t,it.un),it.pts2=ut.filter(X),b.push(it)}T._extremes[F._id]=g.findExtremes(F,T.notched?St.concat([te,_t]):St,{padded:!0})}return function s(h,M){if(P.isArrayOrTypedArray(M.selectedpoints))for(var T=0;T<h.length;T++){for(var L=h[T].pts||[],m={},S=0;S<L.length;S++)m[L[S].i]=S;P.tagSelected(L,M,m)}}(b,T),b.length>0?(b[0].t={num:L[n],dPos:rt,posLetter:k,valLetter:D,labels:{med:l(M,"median:"),min:l(M,"min:"),q1:l(M,"q1:"),q3:l(M,"q3:"),max:l(M,"max:"),mean:l(M,"sd"===T.boxmean?"mean \xb1 \u03c3:":"mean:"),lf:l(M,"lower fence:"),uf:l(M,"upper fence:")}},L[n]++,b):[{t:{empty:!0}}]};var f={text:"tx",hovertext:"htx"};function a(h,M,T){for(var L in f)P.isArrayOrTypedArray(M[L])&&(Array.isArray(T)?P.isArrayOrTypedArray(M[L][T[0]])&&(h[f[L]]=M[L][T[0]][T[1]]):h[f[L]]=M[L][T])}function c(h,M){return h.v-M.v}function u(h){return h.v}function y(h,M,T){return 0===T?h.q1:Math.min(h.q1,M[Math.min(P.findBin(2.5*h.q1-1.5*h.q3,M,!0)+1,T-1)])}function v(h,M,T){return 0===T?h.q3:Math.max(h.q3,M[Math.max(P.findBin(2.5*h.q3-1.5*h.q1,M),0)])}function w(h){return 4*h.q1-3*h.q3}function d(h){return 4*h.q3-3*h.q1}function o(h,M){return 0===M?0:1.57*(h.q3-h.q1)/Math.sqrt(M)}},37188:function(tt,W,t){"use strict";var A=t(89298),g=t(71828),i=t(99082).getAxisGroup,P=["v","h"];function l(x,e,r,f){var y,v,w,a=e.calcdata,s=e._fullLayout,c=f._id,u=c.charAt(0),d=[],o=0;for(y=0;y<r.length;y++)for(w=a[r[y]],v=0;v<w.length;v++)d.push(f.c2l(w[v].pos,!0)),o+=(w[v].pts2||[]).length;if(d.length){var h=g.distinctVals(d);("category"===f.type||"multicategory"===f.type)&&(h.minDiff=1);var M=h.minDiff/2;A.minDtick(f,h.minDiff,h.vals[0],!0);var L=s["violin"===x?"_numViolins":"_numBoxes"],m="group"===s[x+"mode"]&&L>1,S=1-s[x+"gap"],b=1-s[x+"groupgap"];for(y=0;y<r.length;y++){var D,N,k,O,n=(w=a[r[y]])[0].trace,C=w[0].t,p=n.width,F=n.side;if(p)D=N=O=p/2,k=0;else if(D=M,m){var B=i(s,f._id)+n.orientation,G=Object.keys(((s._alignmentOpts[B]||{})[n.alignmentgroup]||{}).offsetGroups||{}).length,Q=G||L;N=D*S*b/Q,k=2*D*(((G?n._offsetIndex:C.num)+.5)/Q-.5)*S,O=D*S/Q}else N=D*S*b,k=0,O=D;C.dPos=D,C.bPos=k,C.bdPos=N,C.wHover=O;var it,ut,j,Z,H,X,at,_,J=k+N,K=Boolean(p);if("positive"===F?(it=D*(p?1:.5),j=J,ut=j=k):"negative"===F?(it=j=k,ut=D*(p?1:.5),Z=J):(it=ut=D,j=Z=J),(n.boxpoints||n.points)&&o>0){var et=n.pointpos,st=n.jitter,dt=n.marker.size/2,Tt=0;et+st>=0&&((Tt=J*(et+st))>it?(K=!0,at=dt,H=Tt):Tt>j&&(at=dt,H=it)),Tt<=it&&(H=it);var bt=0;et-st<=0&&((bt=-J*(et-st))>ut?(K=!0,_=dt,X=bt):bt>Z&&(_=dt,X=ut)),bt<=ut&&(X=ut)}else H=it,X=ut;var Dt=new Array(w.length);for(v=0;v<w.length;v++)Dt[v]=w[v].pos;n._extremes[c]=A.findExtremes(f,Dt,{padded:K,vpadminus:X,vpadplus:H,vpadLinearized:!0,ppadminus:{x:_,y:at}[u],ppadplus:{x:at,y:_}[u]})}}}tt.exports={crossTraceCalc:function E(x,e){for(var r=x.calcdata,f=e.xaxis,a=e.yaxis,s=0;s<P.length;s++){for(var c=P[s],u="h"===c?a:f,y=[],v=0;v<r.length;v++){var w=r[v],o=w[0].trace;!0===o.visible&&("box"===o.type||"candlestick"===o.type)&&!w[0].t.empty&&(o.orientation||"v")===c&&o.xaxis===f._id&&o.yaxis===a._id&&y.push(v)}l("box",x,y,u)}},setPositionOffset:l}},36411:function(tt,W,t){"use strict";var A=t(71828),g=t(73972),i=t(7901),P=t(73927),E=t(26125),l=t(4322),x=t(53522);function r(s,c,u,y){function v(G){var Q=0;return G&&G.length&&(Q+=1,A.isArrayOrTypedArray(G[0])&&G[0].length&&(Q+=1)),Q}function w(G){return A.validate(s[G],x[G])}var h,d=u("y"),o=u("x");if("box"===c.type){var M=u("q1"),T=u("median"),L=u("q3");c._hasPreCompStats=M&&M.length&&T&&T.length&&L&&L.length,h=Math.min(A.minRowLength(M),A.minRowLength(T),A.minRowLength(L))}var F,D,m=v(d),S=v(o),b=m&&A.minRowLength(d),n=S&&A.minRowLength(o),C=y.calendar,p={autotypenumbers:y.autotypenumbers};if(c._hasPreCompStats)switch(String(S)+String(m)){case"00":var N=w("x0")||w("dx");F=!w("y0")&&!w("dy")||N?"v":"h",D=h;break;case"10":F="v",D=Math.min(h,n);break;case"20":F="h",D=Math.min(h,o.length);break;case"01":F="h",D=Math.min(h,b);break;case"02":F="v",D=Math.min(h,d.length);break;case"12":F="v",D=Math.min(h,n,d.length);break;case"21":F="h",D=Math.min(h,o.length,b);break;case"11":D=0;break;case"22":var B,O=!1;for(B=0;B<o.length;B++)if("category"===l(o[B],C,p)){O=!0;break}if(O)F="v",D=Math.min(h,n,d.length);else{for(B=0;B<d.length;B++)if("category"===l(d[B],C,p)){O=!0;break}O?(F="h",D=Math.min(h,o.length,b)):(F="v",D=Math.min(h,n,d.length))}}else m>0?(F="v",D=S>0?Math.min(n,b):Math.min(b)):S>0?(F="h",D=Math.min(n)):D=0;if(D){c._length=D;var z=u("orientation",F);c._hasPreCompStats?"v"===z&&0===S?(u("x0",0),u("dx",1)):"h"===z&&0===m&&(u("y0",0),u("dy",1)):"v"===z&&0===S?u("x0"):"h"===z&&0===m&&u("y0"),g.getComponentMethod("calendars","handleTraceDefaults")(s,c,["x","y"],y)}else c.visible=!1}function f(s,c,u,y){var v=y.prefix,w=A.coerce2(s,c,x,"marker.outliercolor"),d=u("marker.line.outliercolor"),o="outliers";c._hasPreCompStats?o="all":(w||d)&&(o="suspectedoutliers");var h=u(v+"points",o);h?(u("jitter","all"===h?.3:0),u("pointpos","all"===h?-1.5:0),u("marker.symbol"),u("marker.opacity"),u("marker.size"),u("marker.angle"),u("marker.color",c.line.color),u("marker.line.color"),u("marker.line.width"),"suspectedoutliers"===h&&(u("marker.line.outliercolor",c.marker.color),u("marker.line.outlierwidth")),u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size"),u("text"),u("hovertext")):delete c.marker;var M=u("hoveron");("all"===M||-1!==M.indexOf("points"))&&u("hovertemplate"),A.coerceSelectionMarkerOpacity(c,u)}tt.exports={supplyDefaults:function e(s,c,u,y){function v(m,S){return A.coerce(s,c,x,m,S)}if(r(s,c,v,y),!1!==c.visible){P(s,c,y,v),v("xhoverformat"),v("yhoverformat");var w=c._hasPreCompStats;w&&(v("lowerfence"),v("upperfence")),v("line.color",(s.marker||{}).color||u),v("line.width"),v("fillcolor",i.addOpacity(c.line.color,.5));var d=!1;if(w){var o=v("mean"),h=v("sd");o&&o.length&&(d=!0,h&&h.length&&(d="sd"))}v("boxmean",d),v("whiskerwidth"),v("width"),v("quartilemethod");var M=!1;if(w){var T=v("notchspan");T&&T.length&&(M=!0)}else A.validate(s.notchwidth,x.notchwidth)&&(M=!0);v("notched",M)&&v("notchwidth"),f(s,c,v,{prefix:"box"})}},crossTraceDefaults:function a(s,c){var y;function v(o){return A.coerce(y._input,y,x,o)}for(var w=0;w<s.length;w++){var d=(y=s[w]).type;("box"===d||"violin"===d)&&"group"===c[d+"mode"]&&E(y._input,y,c,v)}},handleSampleDefaults:r,handlePointsDefaults:f}},74907:function(tt){"use strict";tt.exports=function(t,A){return A.hoverOnBox&&(t.hoverOnBox=A.hoverOnBox),"xVal"in A&&(t.x=A.xVal),"yVal"in A&&(t.y=A.yVal),A.xa&&(t.xaxis=A.xa),A.ya&&(t.yaxis=A.ya),t}},41868:function(tt,W,t){"use strict";var A=t(89298),g=t(71828),i=t(30211),P=t(7901),E=g.fillText;function x(r,f,a,s){var o,h,M,T,L,m,S,b,n,C,p,D,N,B,c=r.cd,u=r.xa,y=r.ya,v=c[0].trace,w=c[0].t,d="violin"===v.type,F=w.bdPos,k=w.wHover,O=function(bt){return M.c2l(bt.pos)+w.bPos-M.c2l(m)};d&&"both"!==v.side?("positive"===v.side&&(n=function(bt){var Dt=O(bt);return i.inbox(Dt,Dt+k,C)},D=F,N=0),"negative"===v.side&&(n=function(bt){var Dt=O(bt);return i.inbox(Dt-k,Dt,C)},D=0,N=F)):(n=function(bt){var Dt=O(bt);return i.inbox(Dt-k,Dt+k,C)},D=N=F),B=d?function(bt){return i.inbox(bt.span[0]-L,bt.span[1]-L,C)}:function(bt){return i.inbox(bt.min-L,bt.max-L,C)},"h"===v.orientation?(L=f,m=a,S=B,b=n,o="y",M=y,h="x",T=u):(L=a,m=f,S=n,b=B,o="x",M=u,h="y",T=y);var z=Math.min(1,F/Math.abs(M.r2c(M.range[1])-M.r2c(M.range[0])));function U(bt){return(S(bt)+b(bt))/2}C=r.maxHoverDistance-z,p=r.maxSpikeDistance-z;var G=i.getDistanceFunction(s,S,b,U);if(i.getClosest(c,G,r),!1===r.index)return[];var Q=c[r.index],rt=v.line.color,it=(v.marker||{}).color;r.color=P.opacity(rt)&&v.line.width?rt:P.opacity(it)&&v.boxpoints?it:v.fillcolor,r[o+"0"]=M.c2p(Q.pos+w.bPos-N,!0),r[o+"1"]=M.c2p(Q.pos+w.bPos+D,!0),r[o+"LabelVal"]=void 0!==Q.orig_p?Q.orig_p:Q.pos;var ut=o+"Spike";r.spikeDistance=U(Q)*p/C,r[ut]=M.c2p(Q.pos,!0);var J=v.boxmean||(v.meanline||{}).visible,j=v.boxpoints||v.points,Z=j&&J?["max","uf","q3","med","mean","q1","lf","min"]:j&&!J?["max","uf","q3","med","q1","lf","min"]:!j&&J?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"];v.orientation===(T.range[1]<T.range[0]?"v":"h")&&Z.reverse();for(var X=r.spikeDistance,at=r[ut],_=[],K=0;K<Z.length;K++){var nt=Z[K];if(nt in Q){var et=Q[nt],st=T.c2p(et,!0),dt=g.extendFlat({},r);dt.attr=nt,dt[h+"0"]=dt[h+"1"]=st,dt[h+"LabelVal"]=et,dt[h+"Label"]=(w.labels?w.labels[nt]+" ":"")+A.hoverLabelText(T,et,v[h+"hoverformat"]),dt.hoverOnBox=!0,"mean"===nt&&"sd"in Q&&"sd"===v.boxmean&&(dt[h+"err"]=Q.sd),dt.hovertemplate=!1,_.push(dt)}}r.name="",r.spikeDistance=void 0,r[ut]=void 0;for(var Tt=0;Tt<_.length;Tt++)"med"!==_[Tt].attr?(_[Tt].name="",_[Tt].spikeDistance=void 0,_[Tt][ut]=void 0):(_[Tt].spikeDistance=X,_[Tt][ut]=at);return _}function e(r,f,a){for(var d,L,m,s=r.cd,c=r.xa,u=r.ya,y=s[0].trace,v=c.c2p(f),w=u.c2p(a),M=i.quadrature(function(B){var z=Math.max(3,B.mrc||0);return Math.max(Math.abs(c.c2p(B.x)-v)-z,1-3/z)},function(B){var z=Math.max(3,B.mrc||0);return Math.max(Math.abs(u.c2p(B.y)-w)-z,1-3/z)}),T=!1,S=0;S<s.length;S++){L=s[S];for(var b=0;b<(L.pts||[]).length;b++){var n=M(m=L.pts[b]);n<=r.distance&&(r.distance=n,T=[S,b])}}if(!T)return!1;var C=c.c2p((m=(L=s[T[0]]).pts[T[1]]).x,!0),p=u.c2p(m.y,!0),F=m.mrc||1;d=g.extendFlat({},r,{index:m.i,color:(y.marker||{}).color,name:y.name,x0:C-F,x1:C+F,y0:p-F,y1:p+F,spikeDistance:r.distance,hovertemplate:y.hovertemplate});var k,D=L.orig_p,N=void 0!==D?D:L.pos;return"h"===y.orientation?(k=u,d.xLabelVal=m.x,d.yLabelVal=N):(k=c,d.xLabelVal=N,d.yLabelVal=m.y),d[k._id.charAt(0)+"Spike"]=k.c2p(L.pos,!0),E(m,y,d),d}tt.exports={hoverPoints:function l(r,f,a,s){var w,y=r.cd[0].trace.hoveron,v=[];return-1!==y.indexOf("boxes")&&(v=v.concat(x(r,f,a,s))),-1!==y.indexOf("points")&&(w=e(r,f,a)),"closest"===s?w?[w]:v:(w&&v.push(w),v)},hoverOnBoxes:x,hoverOnPoints:e}},83832:function(tt,W,t){"use strict";tt.exports={attributes:t(53522),layoutAttributes:t(40094),supplyDefaults:t(36411).supplyDefaults,crossTraceDefaults:t(36411).crossTraceDefaults,supplyLayoutDefaults:t(4199).supplyLayoutDefaults,calc:t(48518),crossTraceCalc:t(37188).crossTraceCalc,plot:t(86047).plot,style:t(58063).style,styleOnSelect:t(58063).styleOnSelect,hoverPoints:t(41868).hoverPoints,eventData:t(74907),selectPoints:t(24626),moduleType:"trace",name:"box",basePlotModule:t(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(tt){"use strict";tt.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(tt,W,t){"use strict";var A=t(73972),g=t(71828),i=t(40094);function P(l,x,e,r,f){for(var a=f+"Layout",s=!1,c=0;c<e.length;c++)if(A.traceIs(e[c],a)){s=!0;break}!s||(r(f+"mode"),r(f+"gap"),r(f+"groupgap"))}tt.exports={supplyLayoutDefaults:function E(l,x,e){P(0,0,e,function r(f,a){return g.coerce(l,x,i,f,a)},"box")},_supply:P}},86047:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=t(91424);function x(f,a,s,c,u){var S,b,y="h"===s.orientation,v=a.val,w=a.pos,d=!!w.rangebreaks,o=c.bPos,h=c.wdPos||0,M=c.bPosPxOffset||0,T=s.whiskerwidth||0,L=s.notched||!1,m=L?1-2*s.notchwidth:1;Array.isArray(c.bdPos)?(S=c.bdPos[0],b=c.bdPos[1]):(S=c.bdPos,b=c.bdPos);var n=f.selectAll("path.box").data("violin"!==s.type||s.box.visible?g.identity:[]);n.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","box"),n.exit().remove(),n.each(function(C){if(C.empty)return"M0,0Z";var p=w.c2l(C.pos+o,!0),F=w.l2p(p-S)+M,D=w.l2p(p+b)+M,N=d?(F+D)/2:w.l2p(p)+M,k=s.whiskerwidth,O=d?F*k+(1-k)*N:w.l2p(p-h)+M,B=d?D*k+(1-k)*N:w.l2p(p+h)+M,z=w.l2p(p-S*m)+M,U=w.l2p(p+b*m)+M,G=v.c2p(C.q1,!0),Q=v.c2p(C.q3,!0),rt=g.constrain(v.c2p(C.med,!0),Math.min(G,Q)+1,Math.max(G,Q)-1),it=void 0===C.lf||!1===s.boxpoints,ut=v.c2p(it?C.min:C.lf,!0),J=v.c2p(it?C.max:C.uf,!0),j=v.c2p(C.ln,!0),Z=v.c2p(C.un,!0);y?A.select(this).attr("d","M"+rt+","+z+"V"+U+"M"+G+","+F+"V"+D+(L?"H"+j+"L"+rt+","+U+"L"+Z+","+D:"")+"H"+Q+"V"+F+(L?"H"+Z+"L"+rt+","+z+"L"+j+","+F:"")+"ZM"+G+","+N+"H"+ut+"M"+Q+","+N+"H"+J+(0===T?"":"M"+ut+","+O+"V"+B+"M"+J+","+O+"V"+B)):A.select(this).attr("d","M"+z+","+rt+"H"+U+"M"+F+","+G+"H"+D+(L?"V"+j+"L"+U+","+rt+"L"+D+","+Z:"")+"V"+Q+"H"+F+(L?"V"+Z+"L"+z+","+rt+"L"+F+","+j:"")+"ZM"+N+","+G+"V"+ut+"M"+N+","+Q+"V"+J+(0===T?"":"M"+O+","+ut+"H"+B+"M"+O+","+J+"H"+B))})}function e(f,a,s,c){var u=a.x,y=a.y,v=c.bdPos,w=c.bPos,d=s.boxpoints||s.points;g.seedPseudoRandom();var h=f.selectAll("g.points").data(d?function(T){return T.forEach(function(L){L.t=c,L.trace=s}),T}:[]);h.enter().append("g").attr("class","points"),h.exit().remove();var M=h.selectAll("path").data(function(T){var L,F,m=T.pts2,S=Math.max((T.max-T.min)/10,T.q3-T.q1),b=1e-9*S,n=.01*S,C=[],p=0;if(s.jitter){if(0===S)for(p=1,C=new Array(m.length),L=0;L<m.length;L++)C[L]=1;else for(L=0;L<m.length;L++){var D=Math.max(0,L-5),N=m[D].v,k=Math.min(m.length-1,L+5),O=m[k].v;"all"!==d&&(m[L].v<T.lf?O=Math.min(O,T.lf):N=Math.max(N,T.uf));var B=Math.sqrt(n*(k-D)/(O-N+b))||0;B=g.constrain(Math.abs(B),0,1),C.push(B),p=Math.max(B,p)}F=2*s.jitter/(p||1)}for(L=0;L<m.length;L++){var z=m[L],U=z.v,G=s.jitter?F*C[L]*(g.pseudoRandom()-.5):0,Q=T.pos+w+v*(s.pointpos+G);"h"===s.orientation?(z.y=Q,z.x=U):(z.x=Q,z.y=U),"suspectedoutliers"===d&&U<T.uo&&U>T.lo&&(z.so=!0)}return m});M.enter().append("path").classed("point",!0),M.exit().remove(),M.call(i.translatePoints,u,y)}function r(f,a,s,c){var h,M,u=a.val,y=a.pos,v=!!y.rangebreaks,w=c.bPos,d=c.bPosPxOffset||0,o=s.boxmean||(s.meanline||{}).visible;Array.isArray(c.bdPos)?(h=c.bdPos[0],M=c.bdPos[1]):(h=c.bdPos,M=c.bdPos);var T=f.selectAll("path.mean").data("box"===s.type&&s.boxmean||"violin"===s.type&&s.box.visible&&s.meanline.visible?g.identity:[]);T.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),T.exit().remove(),T.each(function(L){var m=y.c2l(L.pos+w,!0),S=y.l2p(m-h)+d,b=y.l2p(m+M)+d,n=v?(S+b)/2:y.l2p(m)+d,C=u.c2p(L.mean,!0),p=u.c2p(L.mean-L.sd,!0),F=u.c2p(L.mean+L.sd,!0);"h"===s.orientation?A.select(this).attr("d","M"+C+","+S+"V"+b+("sd"===o?"m0,0L"+p+","+n+"L"+C+","+S+"L"+F+","+n+"Z":"")):A.select(this).attr("d","M"+S+","+C+"H"+b+("sd"===o?"m0,0L"+n+","+p+"L"+S+","+C+"L"+n+","+F+"Z":""))})}tt.exports={plot:function l(f,a,s,c){var u=f._context.staticPlot,y=a.xaxis,v=a.yaxis;g.makeTraceGroups(c,s,"trace boxes").each(function(w){var T,L,d=A.select(this),o=w[0],h=o.t,M=o.trace;h.wdPos=h.bdPos*M.whiskerwidth,!0!==M.visible||h.empty?d.remove():("h"===M.orientation?(T=v,L=y):(T=y,L=v),x(d,{pos:T,val:L},M,h,u),e(d,{x:y,y:v},M,h),r(d,{pos:T,val:L},M,h))})},plotBoxAndWhiskers:x,plotPoints:e,plotBoxMean:r}},24626:function(tt){"use strict";tt.exports=function(t,A){var l,x,g=t.cd,i=t.xaxis,P=t.yaxis,E=[];if(!1===A)for(l=0;l<g.length;l++)for(x=0;x<(g[l].pts||[]).length;x++)g[l].pts[x].selected=0;else for(l=0;l<g.length;l++)for(x=0;x<(g[l].pts||[]).length;x++){var e=g[l].pts[x],r=i.c2p(e.x),f=P.c2p(e.y);A.contains([r,f],null,e.i,t)?(E.push({pointNumber:e.i,x:i.c2d(e.x),y:P.c2d(e.y)}),e.selected=1):e.selected=0}return E}},58063:function(tt,W,t){"use strict";var A=t(39898),g=t(7901),i=t(91424);tt.exports={style:function P(l,x,e){var r=e||A.select(l).selectAll("g.trace.boxes");r.style("opacity",function(f){return f[0].trace.opacity}),r.each(function(f){var a=A.select(this),s=f[0].trace,c=s.line.width;function u(w,d,o,h){w.style("stroke-width",d+"px").call(g.stroke,o).call(g.fill,h)}var y=a.selectAll("path.box");if("candlestick"===s.type)y.each(function(w){if(!w.empty){var d=A.select(this),o=s[w.dir];u(d,o.line.width,o.line.color,o.fillcolor),d.style("opacity",s.selectedpoints&&!w.selected?.3:1)}});else{u(y,c,s.line.color,s.fillcolor),a.selectAll("path.mean").style({"stroke-width":c,"stroke-dasharray":2*c+"px,"+c+"px"}).call(g.stroke,s.line.color);var v=a.selectAll("path.point");i.pointStyle(v,s,l)}})},styleOnSelect:function E(l,x,e){var r=x[0].trace,f=e.selectAll("path.point");r.selectedpoints?i.selectedPointStyle(f,r):i.pointStyle(f,r,l)}}},75343:function(tt,W,t){"use strict";var A=t(71828).extendFlat,g=t(12663).axisHoverFormat,i=t(2522),P=t(53522);function E(l){return{line:{color:A({},P.line.color,{dflt:l}),width:P.line.width,editType:"style"},fillcolor:P.fillcolor,editType:"style"}}tt.exports={xperiod:i.xperiod,xperiod0:i.xperiod0,xperiodalignment:i.xperiodalignment,xhoverformat:g("x"),yhoverformat:g("y"),x:i.x,open:i.open,high:i.high,low:i.low,close:i.close,line:{width:A({},P.line.width,{}),editType:"style"},increasing:E(i.increasing.line.color.dflt),decreasing:E(i.decreasing.line.color.dflt),text:i.text,hovertext:i.hovertext,whiskerwidth:A({},P.whiskerwidth,{dflt:0}),hoverlabel:i.hoverlabel}},41197:function(tt,W,t){"use strict";var A=t(71828),g=t(89298),i=t(42973),P=t(3485).calcCommon;function E(l,x,e,r){return{min:e,q1:Math.min(l,r),med:r,q3:Math.max(l,r),max:x}}tt.exports=function(l,x){var e=l._fullLayout,r=g.getFromId(l,x.xaxis),f=g.getFromId(l,x.yaxis),a=r.makeCalcdata(x,"x"),s=i(x,r,"x",a).vals,c=P(l,x,a,s,f,E);return c.length?(A.extendFlat(c[0].t,{num:e._numBoxes,dPos:A.distinctVals(s).minDiff/2,posLetter:"x",valLetter:"y"}),e._numBoxes++,c):[{t:{empty:!0}}]}},1026:function(tt,W,t){"use strict";var A=t(71828),g=t(7901),i=t(14555),P=t(73927),E=t(75343);function l(x,e,r,f){var a=r(f+".line.color");r(f+".line.width",e.line.width),r(f+".fillcolor",g.addOpacity(a,.5))}tt.exports=function(e,r,f,a){function s(u,y){return A.coerce(e,r,E,u,y)}i(e,r,s,a)?(P(e,r,a,s,{x:!0}),s("xhoverformat"),s("yhoverformat"),s("line.width"),l(0,r,s,"increasing"),l(0,r,s,"decreasing"),s("text"),s("hovertext"),s("whiskerwidth"),a._requestRangeslider[r.xaxis]=!0):r.visible=!1}},91815:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"candlestick",basePlotModule:t(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:t(75343),layoutAttributes:t(40094),supplyLayoutDefaults:t(4199).supplyLayoutDefaults,crossTraceCalc:t(37188).crossTraceCalc,supplyDefaults:t(1026),calc:t(41197),plot:t(86047).plot,layerName:"boxlayer",style:t(58063).style,hoverPoints:t(66449).hoverPoints,selectPoints:t(67324)}},13145:function(tt,W,t){"use strict";var A=t(11500),g=t(44467);tt.exports=function(E,l,x,e,r){e("a")||(e("da"),e("a0")),e("b")||(e("db"),e("b0")),function i(P,E,l,x){["aaxis","baxis"].forEach(function(r){var f=r.charAt(0),a=P[r]||{},s=g.newContainer(E,r);A(a,s,{noTicklabelstep:!0,tickfont:"x",id:f+"axis",letter:f,font:E.font,name:r,data:P[f],calendar:E.calendar,dfltColor:x,bgColor:l.paper_bgcolor,autotypenumbersDflt:l.autotypenumbers,fullLayout:l}),s._categories=s._categories||[],!P[r]&&"-"!==a.type&&(P[r]={type:a.type})})}(E,l,x,r)}},402:function(tt,W,t){"use strict";var A=t(71828).isArrayOrTypedArray;function g(i,P){if(!A(i)||P>=10)return null;for(var E=1/0,l=-1/0,x=i.length,e=0;e<x;e++){var r=i[e];if(A(r)){var f=g(r,P+1);f&&(E=Math.min(f[0],E),l=Math.max(f[1],l))}else E=Math.min(r,E),l=Math.max(r,l)}return[E,l]}tt.exports=function(i){return g(i,0)}},99798:function(tt,W,t){"use strict";var A=t(41940),g=t(1928),i=t(22399),P=A({editType:"calc"});P.family.dflt='"Open Sans", verdana, arial, sans-serif',P.size.dflt=12,P.color.dflt=i.defaultLine,tt.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:g,baxis:g,font:P,color:{valType:"color",dflt:i.defaultLine,editType:"plot"},transforms:void 0}},4536:function(tt,W,t){"use strict";var A=t(71828).isArrayOrTypedArray;tt.exports=function(g,i,P,E){var l,x,e,r,f,a,s,c,u,y,v,w,d,o=A(P)?"a":"b",M=("a"===o?g.aaxis:g.baxis).smoothing,T="a"===o?g.a2i:g.b2j,L="a"===o?P:E,m="a"===o?E:P,S="a"===o?i.a.length:i.b.length,b="a"===o?i.b.length:i.a.length,n=Math.floor("a"===o?g.b2j(m):g.a2i(m)),C="a"===o?function(rt){return g.evalxy([],rt,n)}:function(rt){return g.evalxy([],n,rt)};M&&(e=Math.max(0,Math.min(b-2,n)),r=n-e,x="a"===o?function(rt,it){return g.dxydi([],rt,e,it,r)}:function(rt,it){return g.dxydj([],e,rt,r,it)});var p=T(L[0]),F=T(L[1]),D=p<F?1:-1,N=1e-8*(F-p),k=D>0?Math.floor:Math.ceil,O=D>0?Math.ceil:Math.floor,B=D>0?Math.min:Math.max,z=D>0?Math.max:Math.min,U=k(p+N),G=O(F-N),Q=[[s=C(p)]];for(l=U;l*D<G*D;l+=D)f=[],v=z(p,l),d=(w=B(F,l+D))-v,a=Math.max(0,Math.min(S-2,Math.floor(.5*(v+w)))),c=C(w),M&&(u=x(a,v-a),y=x(a,w-a),f.push([s[0]+u[0]/3*d,s[1]+u[1]/3*d]),f.push([c[0]-y[0]/3*d,c[1]-y[1]/3*d])),f.push(c),Q.push(f),s=c;return Q}},1928:function(tt,W,t){"use strict";var A=t(41940),g=t(22399),i=t(13838),P=t(12663).descriptionWithDates,E=t(30962).overrideAll,l=t(79952).P,x=t(1426).extendFlat;tt.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:A({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:i.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:x({},i.labelalias,{editType:"calc"}),tickfont:A({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:P("tick label")},tickformatstops:E(i.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:g.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:x({},l,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:x({},l,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:g.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:A({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(tt,W,t){"use strict";var A=t(99798),g=t(7901).addOpacity,i=t(73972),P=t(71828),E=t(26218),l=t(96115),x=t(89426),e=t(15258),r=t(21994),f=t(4322);tt.exports=function(c,u,y){var v=y.letter,w=y.font||{},d=A[v+"axis"];function o(U,G){return P.coerce(c,u,d,U,G)}function h(U,G){return P.coerce2(c,u,d,U,G)}y.name&&(u._name=y.name,u._id=y.name),o("autotypenumbers",y.autotypenumbersDflt);var M=o("type");"-"===M&&(y.data&&function a(s,c){if("-"===s.type){var y=s._id.charAt(0);s.type=f(c,s[y+"calendar"],{autotypenumbers:s.autotypenumbers})}}(u,y.data),"-"===u.type?u.type="linear":M=c.type=u.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",v+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),"array"===u.tickmode&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),u._hovertitle=v,"date"===M&&i.getComponentMethod("calendars","handleDefaults")(c,u,"calendar",y.calendar),r(u,y.fullLayout),u.c2p=P.identity;var L=o("color",y.dfltColor),m=L===c.color?L:w.color;o("title.text")&&(P.coerceFont(o,"title.font",{family:w.family,size:P.bigFont(w.size),color:m}),o("title.offset")),o("tickangle"),o("autorange",!u.isValidRange(c.range))&&o("rangemode"),o("range"),u.cleanRange(),o("fixedrange"),E(c,u,o,M),x(c,u,o,M,y),l(c,u,o,M,y),e(c,u,o,{data:y.data,dataAttr:v});var n=h("gridcolor",g(L,.3)),C=h("gridwidth"),p=h("griddash"),F=o("showgrid");F||(delete u.gridcolor,delete u.gridwidth,delete u.griddash);var D=h("startlinecolor",L),N=h("startlinewidth",C);o("startline",u.showgrid||!!D||!!N)||(delete u.startlinecolor,delete u.startlinewidth);var O=h("endlinecolor",L),B=h("endlinewidth",C);return o("endline",u.showgrid||!!O||!!B)||(delete u.endlinecolor,delete u.endlinewidth),F?(o("minorgridcount"),o("minorgridwidth",C),o("minorgriddash",p),o("minorgridcolor",g(n,.06)),u.minorgridcount||(delete u.minorgridwidth,delete u.minorgriddash,delete u.minorgridcolor)):(delete u.gridcolor,delete u.gridwidth,delete u.griddash),"none"===u.showticklabels&&(delete u.tickfont,delete u.tickangle,delete u.showexponent,delete u.exponentformat,delete u.minexponent,delete u.tickformat,delete u.showticksuffix,delete u.showtickprefix),u.showticksuffix||delete u.ticksuffix,u.showtickprefix||delete u.tickprefix,o("tickmode"),u}},25281:function(tt,W,t){"use strict";var A=t(89298),g=t(71828).isArray1D,i=t(53824),P=t(402),E=t(20347),l=t(83311),x=t(44807),e=t(4742),r=t(72505),f=t(68296),a=t(11435);tt.exports=function(c,u){var y=A.getFromId(c,u.xaxis),v=A.getFromId(c,u.yaxis),w=u.aaxis,d=u.baxis,o=u.x,h=u.y,M=[];o&&g(o)&&M.push("x"),h&&g(h)&&M.push("y"),M.length&&f(u,w,d,"a","b",M);var T=u._a=u._a||u.a,L=u._b=u._b||u.b;o=u._x||u.x,h=u._y||u.y;var m={};u._cheater&&(o=i("index"===w.cheatertype?T.length:T,"index"===d.cheatertype?L.length:L,u.cheaterslope)),u._x=o=e(o),u._y=h=e(h),r(o,T,L),r(h,T,L),a(u),u.setScale();var n=P(o),C=P(h),p=.5*(n[1]-n[0]),F=.5*(n[1]+n[0]),D=.5*(C[1]-C[0]),N=.5*(C[1]+C[0]),k=1.3;return C=[N-D*k,N+D*k],u._extremes[y._id]=A.findExtremes(y,n=[F-p*k,F+p*k],{padded:!0}),u._extremes[v._id]=A.findExtremes(v,C,{padded:!0}),E(u,"a","b"),E(u,"b","a"),l(u,w),l(u,d),m.clipsegments=x(u._xctrl,u._yctrl,w,d),m.x=o,m.y=h,m.a=T,m.b=L,[m]}},44807:function(tt){"use strict";tt.exports=function(t,A,g,i){var P,E,l,x=[],e=!!g.smoothing,r=!!i.smoothing,f=t[0].length-1,a=t.length-1;for(P=0,E=[],l=[];P<=f;P++)E[P]=t[0][P],l[P]=A[0][P];for(x.push({x:E,y:l,bicubic:e}),P=0,E=[],l=[];P<=a;P++)E[P]=t[P][f],l[P]=A[P][f];for(x.push({x:E,y:l,bicubic:r}),P=f,E=[],l=[];P>=0;P--)E[f-P]=t[a][P],l[f-P]=A[a][P];for(x.push({x:E,y:l,bicubic:e}),P=a,E=[],l=[];P>=0;P--)E[a-P]=t[P][0],l[a-P]=A[P][0];return x.push({x:E,y:l,bicubic:r}),x}},20347:function(tt,W,t){"use strict";var A=t(89298),g=t(1426).extendFlat;tt.exports=function(P,E,l){var x,e,r,f,a,s,c,u,y,v,w,d,o,h,M=P["_"+E],T=P[E+"axis"],L=T._gridlines=[],m=T._minorgridlines=[],S=T._boundarylines=[],b=P["_"+l],n=P[l+"axis"];"array"===T.tickmode&&(T.tickvals=M.slice());var C=P._xctrl,p=P._yctrl,F=C[0].length,D=C.length,N=P._a.length,k=P._b.length;A.prepTicks(T),"array"===T.tickmode&&delete T.tickvals;var O=T.smoothing?3:1;function B(U){var G,Q,rt,it,ut,J,j,Z,H,X,at,_,K=[],nt=[],et={};if("b"===E)for(Q=P.b2j(U),rt=Math.floor(Math.max(0,Math.min(k-2,Q))),it=Q-rt,et.length=k,et.crossLength=N,et.xy=function(st){return P.evalxy([],st,Q)},et.dxy=function(st,dt){return P.dxydi([],st,rt,dt,it)},G=0;G<N;G++)J=Math.min(N-2,G),j=G-J,Z=P.evalxy([],G,Q),n.smoothing&&G>0&&(H=P.dxydi([],G-1,rt,0,it),K.push(ut[0]+H[0]/3),nt.push(ut[1]+H[1]/3),X=P.dxydi([],G-1,rt,1,it),K.push(Z[0]-X[0]/3),nt.push(Z[1]-X[1]/3)),K.push(Z[0]),nt.push(Z[1]),ut=Z;else for(G=P.a2i(U),J=Math.floor(Math.max(0,Math.min(N-2,G))),j=G-J,et.length=N,et.crossLength=k,et.xy=function(st){return P.evalxy([],G,st)},et.dxy=function(st,dt){return P.dxydj([],J,st,j,dt)},Q=0;Q<k;Q++)rt=Math.min(k-2,Q),it=Q-rt,Z=P.evalxy([],G,Q),n.smoothing&&Q>0&&(at=P.dxydj([],J,Q-1,j,0),K.push(ut[0]+at[0]/3),nt.push(ut[1]+at[1]/3),_=P.dxydj([],J,Q-1,j,1),K.push(Z[0]-_[0]/3),nt.push(Z[1]-_[1]/3)),K.push(Z[0]),nt.push(Z[1]),ut=Z;return et.axisLetter=E,et.axis=T,et.crossAxis=n,et.value=U,et.constvar=l,et.index=u,et.x=K,et.y=nt,et.smoothing=n.smoothing,et}function z(U){var G,Q,rt,it,ut,J=[],j=[],Z={};if(Z.length=M.length,Z.crossLength=b.length,"b"===E)for(rt=Math.max(0,Math.min(k-2,U)),ut=Math.min(1,Math.max(0,U-rt)),Z.xy=function(H){return P.evalxy([],H,U)},Z.dxy=function(H,X){return P.dxydi([],H,rt,X,ut)},G=0;G<F;G++)J[G]=C[U*O][G],j[G]=p[U*O][G];else for(Q=Math.max(0,Math.min(N-2,U)),it=Math.min(1,Math.max(0,U-Q)),Z.xy=function(H){return P.evalxy([],U,H)},Z.dxy=function(H,X){return P.dxydj([],Q,H,it,X)},G=0;G<D;G++)J[G]=C[G][U*O],j[G]=p[G][U*O];return Z.axisLetter=E,Z.axis=T,Z.crossAxis=n,Z.value=M[U],Z.constvar=l,Z.index=U,Z.x=J,Z.y=j,Z.smoothing=n.smoothing,Z}if("array"===T.tickmode){for(f=5e-15,c=(a=[Math.floor((M.length-1-T.arraytick0)/T.arraydtick*(1+f)),Math.ceil(-T.arraytick0/T.arraydtick/(1+f))].sort(function(U,G){return U-G}))[1]+1,u=s=a[0]-1;u<c;u++)!((e=T.arraytick0+T.arraydtick*u)<0||e>M.length-1)&&L.push(g(z(e),{color:T.gridcolor,width:T.gridwidth,dash:T.griddash}));for(u=s;u<c;u++)if(r=T.arraytick0+T.arraydtick*u,w=Math.min(r+T.arraydtick,M.length-1),!(r<0||r>M.length-1||w<0||w>M.length-1))for(d=M[r],o=M[w],x=0;x<T.minorgridcount;x++)!((h=w-r)<=0)&&!((v=d+(o-d)*(x+1)/(T.minorgridcount+1)*(T.arraydtick/h))<M[0]||v>M[M.length-1])&&m.push(g(B(v),{color:T.minorgridcolor,width:T.minorgridwidth,dash:T.minorgriddash}));T.startline&&S.push(g(z(0),{color:T.startlinecolor,width:T.startlinewidth})),T.endline&&S.push(g(z(M.length-1),{color:T.endlinecolor,width:T.endlinewidth}))}else{for(f=5e-15,c=(a=[Math.floor((M[M.length-1]-T.tick0)/T.dtick*(1+f)),Math.ceil((M[0]-T.tick0)/T.dtick/(1+f))].sort(function(U,G){return U-G}))[1],u=s=a[0];u<=c;u++)L.push(g(B(y=T.tick0+T.dtick*u),{color:T.gridcolor,width:T.gridwidth,dash:T.griddash}));for(u=s-1;u<c+1;u++)for(y=T.tick0+T.dtick*u,x=0;x<T.minorgridcount;x++)!((v=y+T.dtick*(x+1)/(T.minorgridcount+1))<M[0]||v>M[M.length-1])&&m.push(g(B(v),{color:T.minorgridcolor,width:T.minorgridwidth,dash:T.minorgriddash}));T.startline&&S.push(g(B(M[0]),{color:T.startlinecolor,width:T.startlinewidth})),T.endline&&S.push(g(B(M[M.length-1]),{color:T.endlinecolor,width:T.endlinewidth}))}}},83311:function(tt,W,t){"use strict";var A=t(89298),g=t(1426).extendFlat;tt.exports=function(P,E){var l,x,f,a=E._labels=[],s=E._gridlines;for(l=0;l<s.length;l++)f=s[l],-1!==["start","both"].indexOf(E.showticklabels)&&(x=A.tickText(E,f.value),g(x,{prefix:undefined,suffix:undefined,endAnchor:!0,xy:f.xy(0),dxy:f.dxy(0,0),axis:f.axis,length:f.crossAxis.length,font:f.axis.tickfont,isFirst:0===l,isLast:l===s.length-1}),a.push(x)),-1!==["end","both"].indexOf(E.showticklabels)&&(x=A.tickText(E,f.value),g(x,{endAnchor:!1,xy:f.xy(f.crossLength-1),dxy:f.dxy(f.crossLength-2,1),axis:f.axis,length:f.crossAxis.length,font:f.axis.tickfont,isFirst:0===l,isLast:l===s.length-1}),a.push(x))}},42048:function(tt){"use strict";tt.exports=function(A,g,i,P){var E=A[0]-g[0],l=A[1]-g[1],x=i[0]-g[0],e=i[1]-g[1],r=Math.pow(E*E+l*l,.25),f=Math.pow(x*x+e*e,.25),a=(f*f*E-r*r*x)*P,s=(f*f*l-r*r*e)*P,c=f*(r+f)*3,u=r*(r+f)*3;return[[g[0]+(c&&a/c),g[1]+(c&&s/c)],[g[0]-(u&&a/u),g[1]-(u&&s/u)]]}},53824:function(tt,W,t){"use strict";var A=t(71828).isArrayOrTypedArray;tt.exports=function(g,i,P){var E,l,x,e,f,a=[],s=A(g)?g.length:g,c=A(i)?i.length:i,u=A(g)?g:null,y=A(i)?i:null;u&&(x=(u.length-1)/(u[u.length-1]-u[0])/(s-1)),y&&(e=(y.length-1)/(y[y.length-1]-y[0])/(c-1));var v,w=1/0,d=-1/0;for(l=0;l<c;l++)for(a[l]=[],f=y?(y[l]-y[0])*e:l/(c-1),E=0;E<s;E++)v=(u?(u[E]-u[0])*x:E/(s-1))-f*P,w=Math.min(v,w),d=Math.max(v,d),a[l][E]=v;var o=1/(d-w),h=-w*o;for(l=0;l<c;l++)for(E=0;E<s;E++)a[l][E]=o*a[l][E]+h;return a}},45664:function(tt,W,t){"use strict";var A=t(42048),g=t(71828).ensureArray;function i(P,E,l){return[(2*(-.5*l[0]+1.5*E[0])+P[0])/3,(2*(-.5*l[1]+1.5*E[1])+P[1])/3]}tt.exports=function(E,l,x,e,r,f){var a,s,c,u,y,v,w,d,o,h,M=x[0].length,T=x.length,L=r?3*M-2:M,m=f?3*T-2:T;for(E=g(E,m),l=g(l,m),c=0;c<m;c++)E[c]=g(E[c],L),l[c]=g(l[c],L);for(s=0,u=0;s<T;s++,u+=f?3:1)for(y=E[u],v=l[u],w=x[s],d=e[s],a=0,c=0;a<M;a++,c+=r?3:1)y[c]=w[a],v[c]=d[a];if(r)for(s=0,u=0;s<T;s++,u+=f?3:1){for(a=1,c=3;a<M-1;a++,c+=3)o=A([x[s][a-1],e[s][a-1]],[x[s][a],e[s][a]],[x[s][a+1],e[s][a+1]],r),E[u][c-1]=o[0][0],l[u][c-1]=o[0][1],E[u][c+1]=o[1][0],l[u][c+1]=o[1][1];h=i([E[u][0],l[u][0]],[E[u][2],l[u][2]],[E[u][3],l[u][3]]),E[u][1]=h[0],l[u][1]=h[1],h=i([E[u][L-1],l[u][L-1]],[E[u][L-3],l[u][L-3]],[E[u][L-4],l[u][L-4]]),E[u][L-2]=h[0],l[u][L-2]=h[1]}if(f)for(c=0;c<L;c++){for(u=3;u<m-3;u+=3)o=A([E[u-3][c],l[u-3][c]],[E[u][c],l[u][c]],[E[u+3][c],l[u+3][c]],f),E[u-1][c]=o[0][0],l[u-1][c]=o[0][1],E[u+1][c]=o[1][0],l[u+1][c]=o[1][1];h=i([E[0][c],l[0][c]],[E[2][c],l[2][c]],[E[3][c],l[3][c]]),E[1][c]=h[0],l[1][c]=h[1],h=i([E[m-1][c],l[m-1][c]],[E[m-3][c],l[m-3][c]],[E[m-4][c],l[m-4][c]]),E[m-2][c]=h[0],l[m-2][c]=h[1]}if(r&&f)for(u=1;u<m;u+=(u+1)%3==0?2:1){for(c=3;c<L-3;c+=3)o=A([E[u][c-3],l[u][c-3]],[E[u][c],l[u][c]],[E[u][c+3],l[u][c+3]],r),E[u][c-1]=.5*(E[u][c-1]+o[0][0]),l[u][c-1]=.5*(l[u][c-1]+o[0][1]),E[u][c+1]=.5*(E[u][c+1]+o[1][0]),l[u][c+1]=.5*(l[u][c+1]+o[1][1]);h=i([E[u][0],l[u][0]],[E[u][2],l[u][2]],[E[u][3],l[u][3]]),E[u][1]=.5*(E[u][1]+h[0]),l[u][1]=.5*(l[u][1]+h[1]),h=i([E[u][L-1],l[u][L-1]],[E[u][L-3],l[u][L-3]],[E[u][L-4],l[u][L-4]]),E[u][L-2]=.5*(E[u][L-2]+h[0]),l[u][L-2]=.5*(l[u][L-2]+h[1])}return[E,l]}},35509:function(tt){"use strict";tt.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(tt){"use strict";tt.exports=function(W,t,A){return t&&A?function(g,i,P,E,l){var a,s;g||(g=[]),i*=3,P*=3;var c=E*E,u=1-E,y=u*u,v=u*E*2,w=-3*y,d=3*(y-v),o=3*(v-c),h=3*c,M=l*l,T=M*l,L=1-l,m=L*L,S=m*L;for(s=0;s<W.length;s++)g[s]=S*(w*(a=W[s])[P][i]+d*a[P][i+1]+o*a[P][i+2]+h*a[P][i+3])+3*(m*l*(w*a[P+1][i]+d*a[P+1][i+1]+o*a[P+1][i+2]+h*a[P+1][i+3])+L*M*(w*a[P+2][i]+d*a[P+2][i+1]+o*a[P+2][i+2]+h*a[P+2][i+3]))+T*(w*a[P+3][i]+d*a[P+3][i+1]+o*a[P+3][i+2]+h*a[P+3][i+3]);return g}:t?function(g,i,P,E,l){var r,f;g||(g=[]),i*=3;var a=E*E,s=1-E,c=s*s,u=s*E*2,y=-3*c,v=3*(c-u),w=3*(u-a),d=3*a,o=1-l;for(r=0;r<W.length;r++)g[r]=o*(y*(f=W[r])[P][i]+v*f[P][i+1]+w*f[P][i+2]+d*f[P][i+3])+l*(y*f[P+1][i]+v*f[P+1][i+1]+w*f[P+1][i+2]+d*f[P+1][i+3]);return g}:A?function(g,i,P,E,l){var a,s;g||(g=[]),P*=3;var c=l*l,u=c*l,y=1-l,v=y*y,w=v*y;for(a=0;a<W.length;a++)g[a]=w*((s=W[a])[P][i+1]-s[P][i])+3*(v*l*(s[P+1][i+1]-s[P+1][i])+y*c*(s[P+2][i+1]-s[P+2][i]))+u*(s[P+3][i+1]-s[P+3][i]);return g}:function(g,i,P,E,l){g||(g=[]);var r,f,a=1-l;for(r=0;r<W.length;r++)g[r]=a*((f=W[r])[P][i+1]-f[P][i])+l*(f[P+1][i+1]-f[P+1][i]);return g}}},73057:function(tt){"use strict";tt.exports=function(W,t,A){return t&&A?function(g,i,P,E,l){var a,s;g||(g=[]),i*=3,P*=3;var c=E*E,u=c*E,y=1-E,v=y*y,w=v*y,d=l*l,o=1-l,h=o*o,M=o*l*2,T=-3*h,L=3*(h-M),m=3*(M-d),S=3*d;for(s=0;s<W.length;s++)g[s]=w*(T*(a=W[s])[P][i]+L*a[P+1][i]+m*a[P+2][i]+S*a[P+3][i])+3*(v*E*(T*a[P][i+1]+L*a[P+1][i+1]+m*a[P+2][i+1]+S*a[P+3][i+1])+y*c*(T*a[P][i+2]+L*a[P+1][i+2]+m*a[P+2][i+2]+S*a[P+3][i+2]))+u*(T*a[P][i+3]+L*a[P+1][i+3]+m*a[P+2][i+3]+S*a[P+3][i+3]);return g}:t?function(g,i,P,E,l){var a,s;g||(g=[]),i*=3;var c=l*l,u=c*l,y=1-l,v=y*y,w=v*y;for(a=0;a<W.length;a++)g[a]=w*((s=W[a])[P+1][i]-s[P][i])+3*(v*l*(s[P+1][i+1]-s[P][i+1])+y*c*(s[P+1][i+2]-s[P][i+2]))+u*(s[P+1][i+3]-s[P][i+3]);return g}:A?function(g,i,P,E,l){var r,f;g||(g=[]),P*=3;var a=1-E,s=l*l,c=1-l,u=c*c,y=c*l*2,v=-3*u,w=3*(u-y),d=3*(y-s),o=3*s;for(r=0;r<W.length;r++)g[r]=a*(v*(f=W[r])[P][i]+w*f[P+1][i]+d*f[P+2][i]+o*f[P+3][i])+E*(v*f[P][i+1]+w*f[P+1][i+1]+d*f[P+2][i+1]+o*f[P+3][i+1]);return g}:function(g,i,P,E,l){g||(g=[]);var r,f,a=1-E;for(r=0;r<W.length;r++)g[r]=a*((f=W[r])[P+1][i]-f[P][i])+E*(f[P+1][i+1]-f[P][i+1]);return g}}},20349:function(tt){"use strict";tt.exports=function(W,t,A,g,i){var P=t-2,E=A-2;return g&&i?function(l,x,e){l||(l=[]);var c,u,y=Math.max(0,Math.min(Math.floor(x),P)),v=Math.max(0,Math.min(Math.floor(e),E)),w=Math.max(0,Math.min(1,x-y)),d=Math.max(0,Math.min(1,e-v));y*=3,v*=3;var o=w*w,h=o*w,M=1-w,T=M*M,L=T*M,m=d*d,S=m*d,b=1-d,n=b*b,C=n*b;for(u=0;u<W.length;u++)l[u]=C*(L*(c=W[u])[v][y]+3*(T*w*c[v][y+1]+M*o*c[v][y+2])+h*c[v][y+3])+3*(n*d*(L*c[v+1][y]+3*(T*w*c[v+1][y+1]+M*o*c[v+1][y+2])+h*c[v+1][y+3])+b*m*(L*c[v+2][y]+3*(T*w*c[v+2][y+1]+M*o*c[v+2][y+2])+h*c[v+2][y+3]))+S*(L*c[v+3][y]+3*(T*w*c[v+3][y+1]+M*o*c[v+3][y+2])+h*c[v+3][y+3]);return l}:g?function(l,x,e){l||(l=[]);var w,d,r=Math.max(0,Math.min(Math.floor(x),P)),f=Math.max(0,Math.min(Math.floor(e),E)),a=Math.max(0,Math.min(1,x-r)),s=Math.max(0,Math.min(1,e-f));r*=3;var o=a*a,h=o*a,M=1-a,T=M*M,L=T*M,m=1-s;for(w=0;w<W.length;w++)l[w]=L*(m*(d=W[w])[f][r]+s*d[f+1][r])+3*(T*a*(m*d[f][r+1]+s*d[f+1][r+1])+M*o*(m*d[f][r+2]+s*d[f+1][r+1]))+h*(m*d[f][r+3]+s*d[f+1][r+1]);return l}:i?function(l,x,e){l||(l=[]);var w,d,r=Math.max(0,Math.min(Math.floor(x),P)),f=Math.max(0,Math.min(Math.floor(e),E)),a=Math.max(0,Math.min(1,x-r)),s=Math.max(0,Math.min(1,e-f));f*=3;var o=s*s,h=o*s,M=1-s,T=M*M,L=T*M,m=1-a;for(w=0;w<W.length;w++)l[w]=L*(m*(d=W[w])[f][r]+a*d[f][r+1])+3*(T*s*(m*d[f+1][r]+a*d[f+1][r+1])+M*o*(m*d[f+2][r]+a*d[f+2][r+1]))+h*(m*d[f+3][r]+a*d[f+3][r+1]);return l}:function(l,x,e){l||(l=[]);var y,v,r=Math.max(0,Math.min(Math.floor(x),P)),f=Math.max(0,Math.min(Math.floor(e),E)),a=Math.max(0,Math.min(1,x-r)),s=Math.max(0,Math.min(1,e-f)),w=1-s,d=1-a;for(y=0;y<W.length;y++)l[y]=w*(d*(v=W[y])[f][r]+a*v[f][r+1])+s*(d*v[f+1][r]+a*v[f+1][r+1]);return l}}},92087:function(tt,W,t){"use strict";var A=t(71828),g=t(19237),i=t(13145),P=t(99798),E=t(22399);tt.exports=function(x,e,r,f){function a(u,y){return A.coerce(x,e,P,u,y)}e._clipPathId="clip"+e.uid+"carpet";var s=a("color",E.defaultLine);A.coerceFont(a,"font"),a("carpet"),i(x,e,f,a,s),e.a&&e.b?(e.a.length<3&&(e.aaxis.smoothing=0),e.b.length<3&&(e.baxis.smoothing=0),g(x,e,a)||(e.visible=!1),e._cheater&&a("cheaterslope")):e.visible=!1}},21462:function(tt,W,t){"use strict";tt.exports={attributes:t(99798),supplyDefaults:t(92087),plot:t(89740),calc:t(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:t(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(tt){"use strict";tt.exports=function(W,t){for(var g,A=W._fullData.length,i=0;i<A;i++){var P=W._fullData[i];if(P.index!==t.index&&"carpet"===P.type&&(g||(g=P),P.carpet===t.carpet))return P}return g}},67961:function(tt){"use strict";tt.exports=function(t,A,g){if(0===t.length)return"";var i,P=[],E=g?3:1;for(i=0;i<t.length;i+=E)P.push(t[i]+","+A[i]),g&&i<t.length-E&&(P.push("C"),P.push([t[i+1]+","+A[i+1],t[i+2]+","+A[i+2]+" "].join(" ")));return P.join(g?"":"L")}},27669:function(tt,W,t){"use strict";var A=t(71828).isArrayOrTypedArray;tt.exports=function(i,P,E){var l;for(A(i)?i.length>P.length&&(i=i.slice(0,P.length)):i=[],l=0;l<P.length;l++)i[l]=E(P[l]);return i}},11651:function(tt){"use strict";tt.exports=function(t,A,g,i,P,E){var l=P[0]*t.dpdx(A),x=P[1]*t.dpdy(g),e=1,r=1;if(E){var f=Math.sqrt(P[0]*P[0]+P[1]*P[1]),a=Math.sqrt(E[0]*E[0]+E[1]*E[1]);r=Math.max(0,(P[0]*E[0]+P[1]*E[1])/f/a)}var c=180*Math.atan2(x,l)/Math.PI;return c<-90?(c+=180,e=-e):c>90&&(c-=180,e=-e),{angle:c,flip:e,p:t.c2p(i,A,g),offsetMultplier:r}}},89740:function(tt,W,t){"use strict";var A=t(39898),g=t(91424),i=t(27669),P=t(67961),E=t(11651),l=t(63893),x=t(71828),e=x.strRotate,r=x.strTranslate,f=t(18783);function s(d,o,h,M,T,L,m){var S="const-"+T+"-lines",b=h.selectAll("."+S).data(L);b.enter().append("path").classed(S,!0).style("vector-effect",m?"none":"non-scaling-stroke"),b.each(function(n){var C=n,F=C.y,D=i([],C.x,d.c2p),N=i([],F,o.c2p),k="M"+P(D,N,C.smoothing);A.select(this).attr("d",k).style("stroke-width",C.width).style("stroke",C.color).style("stroke-dasharray",g.dashStyle(C.dash,C.width)).style("fill","none")}),b.exit().remove()}function c(d,o,h,M,T,L,m,S){var b=L.selectAll("text."+S).data(m);b.enter().append("text").classed(S,!0);var n=0,C={};return b.each(function(p,F){var D;if("auto"===p.axis.tickangle)D=E(M,o,h,p.xy,p.dxy);else{var N=(p.axis.tickangle+180)*Math.PI/180;D=E(M,o,h,p.xy,[Math.cos(N),Math.sin(N)])}F||(C={angle:D.angle,flip:D.flip});var k=(p.endAnchor?-1:1)*D.flip,O=A.select(this).attr({"text-anchor":k>0?"start":"end","data-notex":1}).call(g.font,p.font).text(p.text).call(l.convertToTspans,d),B=g.bBox(this);O.attr("transform",r(D.p[0],D.p[1])+e(D.angle)+r(p.axis.labelpadding*k,.3*B.height)),n=Math.max(n,B.width+p.axis.labelpadding)}),b.exit().remove(),C.maxExtent=n,C}tt.exports=function(o,h,M,T){var L=o._context.staticPlot,m=h.xaxis,S=h.yaxis,n=o._fullLayout._clips;x.makeTraceGroups(T,M,"trace").each(function(C){var p=A.select(this),F=C[0],D=F.trace,N=D.aaxis,k=D.baxis,O=x.ensureSingle(p,"g","minorlayer"),B=x.ensureSingle(p,"g","majorlayer"),z=x.ensureSingle(p,"g","boundarylayer"),U=x.ensureSingle(p,"g","labellayer");p.style("opacity",D.opacity),s(m,S,B,0,"a",N._gridlines,!0),s(m,S,B,0,"b",k._gridlines,!0),s(m,S,O,0,"a",N._minorgridlines,!0),s(m,S,O,0,"b",k._minorgridlines,!0),s(m,S,z,0,"a-boundary",N._boundarylines,L),s(m,S,z,0,"b-boundary",k._boundarylines,L);var G=c(o,m,S,D,0,U,N._labels,"a-label"),Q=c(o,m,S,D,0,U,k._labels,"b-label");(function u(d,o,h,M,T,L,m,S){var b,n,C,p,F=x.aggNums(Math.min,null,h.a),D=x.aggNums(Math.max,null,h.a),N=x.aggNums(Math.min,null,h.b),k=x.aggNums(Math.max,null,h.b);C=h.ab2xy(b=.5*(F+D),n=N,!0),p=h.dxyda_rough(b,n),void 0===m.angle&&x.extendFlat(m,E(h,T,L,C,h.dxydb_rough(b,n))),w(d,o,h,0,C,p,h.aaxis,T,L,m,"a-title"),C=h.ab2xy(b=F,n=.5*(N+k),!0),p=h.dxydb_rough(b,n),void 0===S.angle&&x.extendFlat(S,E(h,T,L,C,h.dxyda_rough(b,n))),w(d,o,h,0,C,p,h.baxis,T,L,S,"b-title")})(o,U,D,0,m,S,G,Q),function a(d,o,h,M,T){var L,m,S,b,n=h.select("#"+d._clipPathId);n.size()||(n=h.append("clipPath").classed("carpetclip",!0));var C=x.ensureSingle(n,"path","carpetboundary"),p=o.clipsegments,F=[];for(b=0;b<p.length;b++)m=i([],(L=p[b]).x,M.c2p),S=i([],L.y,T.c2p),F.push(P(m,S,L.bicubic));var D="M"+F.join("L")+"Z";n.attr("id",d._clipPathId),C.attr("d",D)}(D,F,n,m,S)})};var y=f.LINE_SPACING,v=(1-f.MID_SHIFT)/y+1;function w(d,o,h,M,T,L,m,S,b,n,C){var p=[];m.title.text&&p.push(m.title.text);var F=o.selectAll("text."+C).data(p),D=n.maxExtent;F.enter().append("text").classed(C,!0),F.each(function(){var N=E(h,S,b,T,L);-1===["start","both"].indexOf(m.showticklabels)&&(D=0);var k=m.title.font.size;D+=k+m.title.offset;var B=(n.angle+(n.flip<0?180:0)-N.angle+450)%360,z=B>90&&B<270,U=A.select(this);U.text(m.title.text).call(l.convertToTspans,d),z&&(D=(-l.lineCount(U)+v)*y*k-D),U.attr("transform",r(N.p[0],N.p[1])+e(N.angle)+r(0,D)).attr("text-anchor","middle").call(g.font,m.title.font)}),F.exit().remove()}},11435:function(tt,W,t){"use strict";var A=t(35509),g=t(65888).findBin,i=t(45664),P=t(20349),E=t(54495),l=t(73057);tt.exports=function(e){var r=e._a,f=e._b,a=r.length,s=f.length,c=e.aaxis,u=e.baxis,y=r[0],v=r[a-1],w=f[0],d=f[s-1],o=r[r.length-1]-r[0],h=f[f.length-1]-f[0],M=o*A.RELATIVE_CULL_TOLERANCE,T=h*A.RELATIVE_CULL_TOLERANCE;y-=M,v+=M,w-=T,d+=T,e.isVisible=function(L,m){return L>y&&L<v&&m>w&&m<d},e.isOccluded=function(L,m){return L<y||L>v||m<w||m>d},e.setScale=function(){var S=i(e._xctrl,e._yctrl,e._x,e._y,c.smoothing,u.smoothing);e._xctrl=S[0],e._yctrl=S[1],e.evalxy=P([e._xctrl,e._yctrl],a,s,c.smoothing,u.smoothing),e.dxydi=E([e._xctrl,e._yctrl],c.smoothing,u.smoothing),e.dxydj=l([e._xctrl,e._yctrl],c.smoothing,u.smoothing)},e.i2a=function(L){var m=Math.max(0,Math.floor(L[0]),a-2),S=L[0]-m;return(1-S)*r[m]+S*r[m+1]},e.j2b=function(L){var m=Math.max(0,Math.floor(L[1]),a-2),S=L[1]-m;return(1-S)*f[m]+S*f[m+1]},e.ij2ab=function(L){return[e.i2a(L[0]),e.j2b(L[1])]},e.a2i=function(L){var m=Math.max(0,Math.min(g(L,r),a-2)),S=r[m];return Math.max(0,Math.min(a-1,m+(L-S)/(r[m+1]-S)))},e.b2j=function(L){var m=Math.max(0,Math.min(g(L,f),s-2)),S=f[m];return Math.max(0,Math.min(s-1,m+(L-S)/(f[m+1]-S)))},e.ab2ij=function(L){return[e.a2i(L[0]),e.b2j(L[1])]},e.i2c=function(L,m){return e.evalxy([],L,m)},e.ab2xy=function(L,m,S){if(!S&&(L<r[0]||L>r[a-1]|m<f[0]||m>f[s-1]))return[!1,!1];var b=e.a2i(L),n=e.b2j(m),C=e.evalxy([],b,n);if(S){var N,k,O,B,p=0,F=0,D=[];L<r[0]?(N=0,k=0,p=(L-r[0])/(r[1]-r[0])):L>r[a-1]?(N=a-2,k=1,p=(L-r[a-1])/(r[a-1]-r[a-2])):k=b-(N=Math.max(0,Math.min(a-2,Math.floor(b)))),m<f[0]?(O=0,B=0,F=(m-f[0])/(f[1]-f[0])):m>f[s-1]?(O=s-2,B=1,F=(m-f[s-1])/(f[s-1]-f[s-2])):B=n-(O=Math.max(0,Math.min(s-2,Math.floor(n)))),p&&(e.dxydi(D,N,O,k,B),C[0]+=D[0]*p,C[1]+=D[1]*p),F&&(e.dxydj(D,N,O,k,B),C[0]+=D[0]*F,C[1]+=D[1]*F)}return C},e.c2p=function(L,m,S){return[m.c2p(L[0]),S.c2p(L[1])]},e.p2x=function(L,m,S){return[m.p2c(L[0]),S.p2c(L[1])]},e.dadi=function(L){var m=Math.max(0,Math.min(r.length-2,L));return r[m+1]-r[m]},e.dbdj=function(L){var m=Math.max(0,Math.min(f.length-2,L));return f[m+1]-f[m]},e.dxyda=function(L,m,S,b){var n=e.dxydi(null,L,m,S,b),C=e.dadi(L,S);return[n[0]/C,n[1]/C]},e.dxydb=function(L,m,S,b){var n=e.dxydj(null,L,m,S,b),C=e.dbdj(m,b);return[n[0]/C,n[1]/C]},e.dxyda_rough=function(L,m,S){var b=o*(S||.1),n=e.ab2xy(L+b,m,!0),C=e.ab2xy(L-b,m,!0);return[.5*(n[0]-C[0])/b,.5*(n[1]-C[1])/b]},e.dxydb_rough=function(L,m,S){var b=h*(S||.1),n=e.ab2xy(L,m+b,!0),C=e.ab2xy(L,m-b,!0);return[.5*(n[0]-C[0])/b,.5*(n[1]-C[1])/b]},e.dpdx=function(L){return L._m},e.dpdy=function(L){return L._m}}},72505:function(tt,W,t){"use strict";var A=t(71828);tt.exports=function(i,P,E){var l,x,e,r=[],f=[],a=i[0].length,s=i.length;var Q,rt,ut,it,J,u=0;for(l=0;l<a;l++)for(x=0;x<s;x++)void 0===i[x][l]&&(r.push(l),f.push(x),i[x][l]=(rt=x,ut=void 0,it=void 0,J=void 0,it=0,J=0,(Q=l)>0&&void 0!==(ut=i[rt][Q-1])&&(J++,it+=ut),Q<a-1&&void 0!==(ut=i[rt][Q+1])&&(J++,it+=ut),rt>0&&void 0!==(ut=i[rt-1][Q])&&(J++,it+=ut),rt<s-1&&void 0!==(ut=i[rt+1][Q])&&(J++,it+=ut),it/Math.max(1,J))),u=Math.max(u,Math.abs(i[x][l]));if(!r.length)return i;var y,v,w,d,o,h,M,T,L,m,n=0,p=0,F=r.length;do{for(n=0,e=0;e<F;e++){x=f[e];var O,z,U,G,D=0,N=0;0===(l=r[e])?(U=Math.min(a-1,2),N+=(O=i[x][1])+(O-i[x][U])*(P[0]-(z=P[1]))/(z-P[U]),D++):l===a-1&&(U=Math.max(0,a-3),N+=(O=i[x][a-2])+(O-i[x][U])*(P[a-1]-(z=P[a-2]))/(z-P[U]),D++),(0===l||l===a-1)&&x>0&&x<s-1&&(N+=((v=E[x]-E[x-1])*i[x+1][l]+(y=E[x+1]-E[x])*i[x-1][l])/(v+y),D++),0===x?(G=Math.min(s-1,2),N+=(O=i[1][l])+(O-i[G][l])*(E[0]-(z=E[1]))/(z-E[G]),D++):x===s-1&&(G=Math.max(0,s-3),N+=(O=i[s-2][l])+(O-i[G][l])*(E[s-1]-(z=E[s-2]))/(z-E[G]),D++),(0===x||x===s-1)&&l>0&&l<a-1&&(N+=((v=P[l]-P[l-1])*i[x][l+1]+(y=P[l+1]-P[l])*i[x][l-1])/(v+y),D++),D?N/=D:N=((M=(w=P[l+1]-P[l])*(d=P[l]-P[l-1])*(w+d))*((h=E[x]-E[x-1])*i[x+1][l]+(o=E[x+1]-E[x])*i[x-1][l])+(T=o*h*(o+h))*(d*i[x][l+1]+w*i[x][l-1]))/(T*(d+w)+M*(h+o)),n+=(m=(L=N-i[x][l])/u)*m,i[x][l]+=L*(1+(D?0:.85))}n=Math.sqrt(n)}while(p++<100&&n>1e-5);return A.log("Smoother converged to",n,"after",p,"iterations"),i}},19237:function(tt,W,t){"use strict";var A=t(71828).isArray1D;tt.exports=function(i,P,E){var l=E("x"),x=l&&l.length,e=E("y"),r=e&&e.length;if(!x&&!r)return!1;if(P._cheater=!l,x&&!A(l)||r&&!A(e))P._length=null;else{var f=x?l.length:1/0;r&&(f=Math.min(f,e.length)),P.a&&P.a.length&&(f=Math.min(f,P.a.length)),P.b&&P.b.length&&(f=Math.min(f,P.b.length)),P._length=f}return!0}},69568:function(tt,W,t){"use strict";var A=t(5386).fF,g=t(19316),i=t(50693),P=t(9012),E=t(22399).defaultLine,l=t(1426).extendFlat,x=g.marker.line;tt.exports=l({locations:{valType:"data_array",editType:"calc"},locationmode:g.locationmode,z:{valType:"data_array",editType:"calc"},geojson:l({},g.geojson,{}),featureidkey:g.featureidkey,text:l({},g.text,{}),hovertext:l({},g.hovertext,{}),marker:{line:{color:l({},x.color,{dflt:E}),width:l({},x.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:g.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:g.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:l({},P.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:A(),showlegend:l({},P.showlegend,{dflt:!1})},i("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(tt,W,t){"use strict";var A=t(92770),g=t(50606).BADNUM,i=t(78803),P=t(75225),E=t(66279);function l(x){return x&&"string"==typeof x}tt.exports=function(e,r){var s,f=r._length,a=new Array(f);s=r.geojson?function(w){return l(w)||A(w)}:l;for(var c=0;c<f;c++){var u=a[c]={},y=r.locations[c],v=r.z[c];s(y)&&A(v)?(u.loc=y,u.z=v):(u.loc=null,u.z=g),u.index=c}return P(a,r),i(e,r,{vals:r.z,containerStr:"",cLetter:"z"}),E(a,r),a}},61869:function(tt,W,t){"use strict";var A=t(71828),g=t(1586),i=t(69568);tt.exports=function(E,l,x,e){function r(v,w){return A.coerce(E,l,i,v,w)}var f=r("locations"),a=r("z");if(f&&f.length&&A.isArrayOrTypedArray(a)&&a.length){l._length=Math.min(f.length,a.length);var c,s=r("geojson");("string"==typeof s&&""!==s||A.isPlainObject(s))&&(c="geojson-id"),"geojson-id"===r("locationmode",c)&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate"),r("marker.line.width")&&r("marker.line.color"),r("marker.opacity"),g(E,l,e,r,{prefix:"",cLetter:"z"}),A.coerceSelectionMarkerOpacity(l,r)}else l.visible=!1}},92069:function(tt){"use strict";tt.exports=function(t,A,g,i,P){t.location=A.location,t.z=A.z;var E=i[P];return E.fIn&&E.fIn.properties&&(t.properties=E.fIn.properties),t.ct=E.ct,t}},42300:function(tt,W,t){"use strict";var A=t(89298),g=t(69568),i=t(71828).fillText;tt.exports=function(l,x,e){var s,c,u,y,r=l.cd,f=r[0].trace,a=l.subplot,v=[x,e],w=[x+360,e];for(c=0;c<r.length;c++)if(y=!1,(s=r[c])._polygons){for(u=0;u<s._polygons.length;u++)s._polygons[u].contains(v)&&(y=!y),s._polygons[u].contains(w)&&(y=!y);if(y)break}if(y&&s)return l.x0=l.x1=l.xa.c2p(s.ct),l.y0=l.y1=l.ya.c2p(s.ct),l.index=s.index,l.location=s.loc,l.z=s.z,l.zLabel=A.tickText(a.mockAxis,a.mockAxis.c2l(s.z),"hover").text,l.hovertemplate=s.hovertemplate,function P(E,l,x){if(!l.hovertemplate){var e=x.hi||l.hoverinfo,r=String(x.loc),f="all"===e?g.hoverinfo.flags:e.split("+"),a=-1!==f.indexOf("name"),s=-1!==f.indexOf("location"),c=-1!==f.indexOf("z"),u=-1!==f.indexOf("text"),v=[];!a&&s?E.nameOverride=r:(a&&(E.nameOverride=l.name),s&&v.push(r)),c&&v.push(E.zLabel),u&&i(x,l,v),E.extraText=v.join("<br>")}}(l,f,s),[l]}},51319:function(tt,W,t){"use strict";tt.exports={attributes:t(69568),supplyDefaults:t(61869),colorbar:t(61243),calc:t(38675),calcGeoJSON:t(99841).calcGeoJSON,plot:t(99841).plot,style:t(99636).style,styleOnSelect:t(99636).styleOnSelect,hoverPoints:t(42300),eventData:t(92069),selectPoints:t(81253),moduleType:"trace",name:"choropleth",basePlotModule:t(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=t(41327),P=t(90973).getTopojsonFeatures,E=t(71739).findExtremes,l=t(99636).style;tt.exports={calcGeoJSON:function e(r,f){for(var a=r[0].trace,s=f[a.geo],c=s._subplot,u=a.locationmode,y=a._length,v="geojson-id"===u?i.extractTraceFeature(r):P(a,c.topojson),w=[],d=[],o=0;o<y;o++){var h=r[o],M="geojson-id"===u?h.fOut:i.locationToFeature(u,h.loc,v);if(M){h.geojson=M,h.ct=M.properties.ct,h._polygons=i.feature2polygons(M);var T=i.computeBbox(M);w.push(T[0],T[2]),d.push(T[1],T[3])}else h.geojson=null}if("geojson"===s.fitbounds&&"geojson-id"===u){var L=i.computeBbox(i.getTraceGeojson(a));w=[L[0],L[2]],d=[L[1],L[3]]}var m={padded:!0};a._extremes.lon=E(s.lonaxis._ax,w,m),a._extremes.lat=E(s.lataxis._ax,d,m)},plot:function x(r,f,a){var s=f.layers.backplot.select(".choroplethlayer");g.makeTraceGroups(s,a,"trace choropleth").each(function(c){var y=A.select(this).selectAll("path.choroplethlocation").data(g.identity);y.enter().append("path").classed("choroplethlocation",!0),y.exit().remove(),l(r,c)})}}},81253:function(tt){"use strict";tt.exports=function(t,A){var l,x,e,r,f,g=t.cd,i=t.xaxis,P=t.yaxis,E=[];if(!1===A)for(l=0;l<g.length;l++)g[l].selected=0;else for(l=0;l<g.length;l++)(e=(x=g[l]).ct)&&(r=i.c2p(e),f=P.c2p(e),A.contains([r,f],null,l,t)?(E.push({pointNumber:l,lon:e[0],lat:e[1]}),x.selected=1):x.selected=0);return E}},99636:function(tt,W,t){"use strict";var A=t(39898),g=t(7901),i=t(91424),P=t(21081);function l(e,r){var f=r[0].trace,s=r[0].node3.selectAll(".choroplethlocation"),c=f.marker||{},u=c.line||{},y=P.makeColorScaleFuncFromTrace(f);s.each(function(v){A.select(this).attr("fill",y(v.z)).call(g.stroke,v.mlc||u.color).call(i.dashLine,"",v.mlw||u.width||0).style("opacity",c.opacity)}),i.selectedPointStyle(s,f)}tt.exports={style:function E(e,r){r&&l(0,r)},styleOnSelect:function x(e,r){var a=r[0].trace;a.selectedpoints?i.selectedPointStyle(r[0].node3.selectAll(".choroplethlocation"),a):l(0,r)}}},64496:function(tt,W,t){"use strict";var A=t(69568),g=t(50693),i=t(5386).fF,P=t(9012),E=t(1426).extendFlat;tt.exports=E({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:E({},A.featureidkey,{}),below:{valType:"string",editType:"plot"},text:A.text,hovertext:A.hovertext,marker:{line:{color:E({},A.marker.line.color,{editType:"plot"}),width:E({},A.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:E({},A.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:E({},A.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:E({},A.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:A.hoverinfo,hovertemplate:i({},{keys:["properties"]}),showlegend:E({},P.showlegend,{dflt:!1})},g("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(tt,W,t){"use strict";var A=t(92770),g=t(71828),i=t(21081),P=t(91424),E=t(18214).makeBlank,l=t(41327);function e(r){var s,f=r[0].trace,a=f._opts;if(f.selectedpoints){for(var c=P.makeSelectedPointStyleFns(f),u=0;u<r.length;u++){var y=r[u];y.fOut&&(y.fOut.properties.mo2=c.selectedOpacityFn(y))}s={type:"identity",property:"mo2"}}else s=g.isArrayOrTypedArray(f.marker.opacity)?{type:"identity",property:"mo"}:f.marker.opacity;return g.extendFlat(a.fill.paint,{"fill-opacity":s}),g.extendFlat(a.line.paint,{"line-opacity":s}),a}tt.exports={convert:function x(r){var f=r[0].trace,a=!0===f.visible&&0!==f._length,s={layout:{visibility:"none"},paint:{}},c={layout:{visibility:"none"},paint:{}},u=f._opts={fill:s,line:c,geojson:E()};if(!a)return u;var y=l.extractTraceFeature(r);if(!y)return u;var o,h,M,v=i.makeColorScaleFuncFromTrace(f),w=f.marker,d=w.line||{};g.isArrayOrTypedArray(w.opacity)&&(o=function(n){var C=n.mo;return A(C)?+g.constrain(C,0,1):0}),g.isArrayOrTypedArray(d.color)&&(h=function(n){return n.mlc}),g.isArrayOrTypedArray(d.width)&&(M=function(n){return n.mlw});for(var T=0;T<r.length;T++){var L=r[T],m=L.fOut;if(m){var S=m.properties;S.fc=v(L.z),o&&(S.mo=o(L)),h&&(S.mlc=h(L)),M&&(S.mlw=M(L)),L.ct=S.ct,L._polygons=l.feature2polygons(m)}}var b=o?{type:"identity",property:"mo"}:w.opacity;return g.extendFlat(s.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":b}),g.extendFlat(c.paint,{"line-color":h?{type:"identity",property:"mlc"}:d.color,"line-width":M?{type:"identity",property:"mlw"}:d.width,"line-opacity":b}),s.layout.visibility="visible",c.layout.visibility="visible",u.geojson={type:"FeatureCollection",features:y},e(r),u},convertOnSelect:e}},22654:function(tt,W,t){"use strict";var A=t(71828),g=t(1586),i=t(64496);tt.exports=function(E,l,x,e){function r(u,y){return A.coerce(E,l,i,u,y)}var f=r("locations"),a=r("z"),s=r("geojson");A.isArrayOrTypedArray(f)&&f.length&&A.isArrayOrTypedArray(a)&&a.length&&("string"==typeof s&&""!==s||A.isPlainObject(s))?(r("featureidkey"),l._length=Math.min(f.length,a.length),r("below"),r("text"),r("hovertext"),r("hovertemplate"),r("marker.line.width")&&r("marker.line.color"),r("marker.opacity"),g(E,l,e,r,{prefix:"",cLetter:"z"}),A.coerceSelectionMarkerOpacity(l,r)):l.visible=!1}},57516:function(tt,W,t){"use strict";tt.exports={attributes:t(64496),supplyDefaults:t(22654),colorbar:t(61243),calc:t(38675),plot:t(7852),hoverPoints:t(42300),eventData:t(92069),selectPoints:t(81253),styleOnSelect:function(A,g){g&&g[0].trace._glTrace.updateOnSelect(g)},getBelow:function(A,g){for(var i=g.getMapLayers(),P=i.length-2;P>=0;P--){var E=i[P].id;if("string"==typeof E&&0===E.indexOf("water"))for(var l=P+1;l<i.length;l++)if("string"==typeof(E=i[l].id)&&-1===E.indexOf("plotly-"))return E}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:t(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(tt,W,t){"use strict";var A=t(82004).convert,g=t(82004).convertOnSelect,i=t(77734).traceLayerPrefix;function P(l,x){this.type="choroplethmapbox",this.subplot=l,this.uid=x,this.sourceId="source-"+x,this.layerList=[["fill",i+x+"-fill"],["line",i+x+"-line"]],this.below=null}var E=P.prototype;E.update=function(l){this._update(A(l)),l[0].trace._glTrace=this},E.updateOnSelect=function(l){this._update(g(l))},E._update=function(l){var x=this.subplot,e=this.layerList,r=x.belowLookup["trace-"+this.uid];x.map.getSource(this.sourceId).setData(l.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(l,r),this.below=r);for(var f=0;f<e.length;f++){var a=e[f],c=a[1],u=l[a[0]];x.setOptions(c,"setLayoutProperty",u.layout),"visible"===u.layout.visibility&&x.setOptions(c,"setPaintProperty",u.paint)}},E._addLayers=function(l,x){for(var e=this.subplot,r=this.layerList,f=this.sourceId,a=0;a<r.length;a++){var s=r[a],c=s[0],u=l[c];e.addLayer({type:c,id:s[1],source:f,layout:u.layout,paint:u.paint},x)}},E._removeLayers=function(){for(var l=this.subplot.map,x=this.layerList,e=x.length-1;e>=0;e--)l.removeLayer(x[e][1])},E.dispose=function(){var l=this.subplot.map;this._removeLayers(),l.removeSource(this.sourceId)},tt.exports=function(x,e){var r=e[0].trace,f=new P(x,r.uid),a=f.sourceId,s=A(e),c=f.below=x.belowLookup["trace-"+r.uid];return x.map.addSource(a,{type:"geojson",data:s.geojson}),f._addLayers(s,c),e[0].trace._glTrace=f,f}},12674:function(tt,W,t){"use strict";var A=t(50693),g=t(12663).axisHoverFormat,i=t(5386).fF,P=t(2418),E=t(9012),l=t(1426).extendFlat,x={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["norm"]}),uhoverformat:g("u",1),vhoverformat:g("v",1),whoverformat:g("w",1),xhoverformat:g("x"),yhoverformat:g("y"),zhoverformat:g("z"),showlegend:l({},E.showlegend,{dflt:!1})};l(x,A("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(r){x[r]=P[r]}),x.hoverinfo=l({},E.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),x.transforms=void 0,tt.exports=x},31371:function(tt,W,t){"use strict";var A=t(78803);tt.exports=function(i,P){for(var E=P.u,l=P.v,x=P.w,e=Math.min(P.x.length,P.y.length,P.z.length,E.length,l.length,x.length),r=-1/0,f=1/0,a=0;a<e;a++){var s=E[a],c=l[a],u=x[a],y=Math.sqrt(s*s+c*c+u*u);r=Math.max(r,y),f=Math.min(f,y)}P._len=e,P._normMax=r,A(i,P,{vals:[f,r],containerStr:"",cLetter:"c"})}},5453:function(tt,W,t){"use strict";var A=t(9330).gl_cone3d,g=t(9330).gl_cone3d.createConeMesh,i=t(71828).simpleMap,P=t(81697).parseColorScale,E=t(21081).extractOpts,l=t(90060);function x(u,y){this.scene=u,this.uid=y,this.mesh=null,this.data=null}var e=x.prototype;e.handlePick=function(u){if(u.object===this.mesh){var y=u.index=u.data.index,o=this.data.u[y],h=this.data.v[y],M=this.data.w[y];u.traceCoordinate=[this.data.x[y],this.data.y[y],this.data.z[y],o,h,M,Math.sqrt(o*o+h*h+M*M)];var T=this.data.hovertext||this.data.text;return Array.isArray(T)&&void 0!==T[y]?u.textLabel=T[y]:T&&(u.textLabel=T),!0}};var r={xaxis:0,yaxis:1,zaxis:2},f={tip:1,tail:0,cm:.25,center:.5},a={tip:1,tail:1,cm:.75,center:.5};function s(u,y){var v=u.fullSceneLayout,w=u.dataScale,d={};function o(L,m){var S=v[m],b=w[r[m]];return i(L,function(n){return S.d2l(n)*b})}d.vectors=l(o(y.u,"xaxis"),o(y.v,"yaxis"),o(y.w,"zaxis"),y._len),d.positions=l(o(y.x,"xaxis"),o(y.y,"yaxis"),o(y.z,"zaxis"),y._len);var h=E(y);d.colormap=P(y),d.vertexIntensityBounds=[h.min/y._normMax,h.max/y._normMax],d.coneOffset=f[y.anchor],d.coneSize="scaled"===y.sizemode?y.sizeref||.5:y.sizeref&&y._normMax?y.sizeref/y._normMax:.5;var M=A(d),T=y.lightposition;return M.lightPosition=[T.x,T.y,T.z],M.ambient=y.lighting.ambient,M.diffuse=y.lighting.diffuse,M.specular=y.lighting.specular,M.roughness=y.lighting.roughness,M.fresnel=y.lighting.fresnel,M.opacity=y.opacity,y._pad=a[y.anchor]*M.vectorScale*M.coneScale*y._normMax,M}e.update=function(u){this.data=u;var y=s(this.scene,u);this.mesh.update(y)},e.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},tt.exports=function c(u,y){var v=u.glplot.gl,w=s(u,y),d=g(v,w),o=new x(u,y.uid);return o.mesh=d,o.data=y,d._trace=o,u.glplot.add(d),o}},91750:function(tt,W,t){"use strict";var A=t(71828),g=t(1586),i=t(12674);tt.exports=function(E,l,x,e){function r(v,w){return A.coerce(E,l,i,v,w)}var f=r("u"),a=r("v"),s=r("w"),c=r("x"),u=r("y"),y=r("z");f&&f.length&&a&&a.length&&s&&s.length&&c&&c.length&&u&&u.length&&y&&y.length?(r("sizeref"),r("sizemode"),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),g(E,l,e,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),l._length=null):l.visible=!1}},98128:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"cone",basePlotModule:t(58547),categories:["gl3d","showLegend"],attributes:t(12674),supplyDefaults:t(91750),colorbar:{min:"cmin",max:"cmax"},calc:t(31371),plot:t(5453),eventData:function(A,g){return A.norm=g.traceCoordinate[6],A},meta:{}}},70600:function(tt,W,t){"use strict";var A=t(21606),g=t(82196),i=t(12663),P=i.axisHoverFormat,E=i.descriptionOnlyNumbers,l=t(50693),x=t(79952).P,e=t(41940),r=t(1426).extendFlat,f=t(74808),a=f.COMPARISON_OPS2,s=f.INTERVAL_OPS,c=g.line;tt.exports=r({z:A.z,x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,text:A.text,hovertext:A.hovertext,transpose:A.transpose,xtype:A.xtype,ytype:A.ytype,xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:A.hovertemplate,texttemplate:r({},A.texttemplate,{}),textfont:r({},A.textfont,{}),hoverongaps:A.hoverongaps,connectgaps:r({},A.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:e({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:E("contour label")},operation:{valType:"enumerated",values:[].concat(a).concat(s),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:r({},c.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:x,smoothing:r({},c.smoothing,{}),editType:"plot"}},l("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(tt,W,t){"use strict";var A=t(21081),g=t(90757),i=t(18670),P=t(53572);tt.exports=function(l,x){var e=g(l,x),r=e[0].z;i(x,r);var s,f=x.contours,a=A.extractOpts(x);if("heatmap"===f.coloring&&a.auto&&!1===x.autocontour){var c=f.start,u=P(f),y=f.size||1,v=Math.floor((u-c)/y)+1;isFinite(y)||(y=1,v=1);var w=c-y/2;s=[w,w+v*y]}else s=r;return A.calc(l,x,{vals:s,cLetter:"z"}),e}},20083:function(tt){"use strict";tt.exports=function(W,t){var i,A=W[0],g=A.z;switch(t.type){case"levels":var P=Math.min(g[0][0],g[0][1]);for(i=0;i<W.length;i++){var E=W[i];E.prefixBoundary=!E.edgepaths.length&&(P>E.level||E.starts.length&&P===E.level)}break;case"constraint":if(A.prefixBoundary=!1,A.edgepaths.length)return;var l=A.x.length,x=A.y.length,e=-1/0,r=1/0;for(i=0;i<x;i++)r=Math.min(r,g[i][0]),r=Math.min(r,g[i][l-1]),e=Math.max(e,g[i][0]),e=Math.max(e,g[i][l-1]);for(i=1;i<l-1;i++)r=Math.min(r,g[0][i]),r=Math.min(r,g[x-1][i]),e=Math.max(e,g[0][i]),e=Math.max(e,g[x-1][i]);var a,s,f=t.value;switch(t._operation){case">":f>e&&(A.prefixBoundary=!0);break;case"<":(f<r||A.starts.length&&f===r)&&(A.prefixBoundary=!0);break;case"[]":a=Math.min(f[0],f[1]),((s=Math.max(f[0],f[1]))<r||a>e||A.starts.length&&s===r)&&(A.prefixBoundary=!0);break;case"][":a=Math.min(f[0],f[1]),s=Math.max(f[0],f[1]),a<r&&s>e&&(A.prefixBoundary=!0)}}}},90654:function(tt,W,t){"use strict";var A=t(21081),g=t(86068),i=t(53572);tt.exports={min:"zmin",max:"zmax",calc:function P(E,l,x){var e=l.contours,r=l.line,f=e.size||1,a=e.coloring,s=g(l,{isColorbar:!0});if("heatmap"===a){var c=A.extractOpts(l);x._fillgradient=c.reversescale?A.flipScale(c.colorscale):c.colorscale,x._zrange=[c.min,c.max]}else"fill"===a&&(x._fillcolor=s);x._line={color:"lines"===a?s:r.color,width:!1!==e.showlines?r.width:0,dash:r.dash},x._levels={start:e.start,end:i(e),size:f}}}},36914:function(tt){"use strict";tt.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(tt,W,t){"use strict";var A=t(92770),g=t(14523),i=t(7901),P=i.addOpacity,E=i.opacity,l=t(74808),x=l.CONSTRAINT_REDUCTION,e=l.COMPARISON_OPS2;tt.exports=function(a,s,c,u,y,v){var d,o,h,w=s.contours,M=c("contours.operation");w._operation=x[M],function r(f,a){var s;-1===e.indexOf(a.operation)?(f("contours.value",[0,1]),Array.isArray(a.value)?a.value.length>2?a.value=a.value.slice(2):0===a.length?a.value=[0,1]:a.length<2?(s=parseFloat(a.value[0]),a.value=[s,s+1]):a.value=[parseFloat(a.value[0]),parseFloat(a.value[1])]:A(a.value)&&(s=parseFloat(a.value),a.value=[s,s+1])):(f("contours.value",0),A(a.value)||(a.value=Array.isArray(a.value)?parseFloat(a.value[0]):0))}(c,w),"="===M?d=w.showlines=!0:(d=c("contours.showlines"),h=c("fillcolor",P((a.line||{}).color||y,.5))),d&&(o=c("line.color",h&&E(h)?P(s.fillcolor,1):y),c("line.width",2),c("line.dash")),c("line.smoothing"),g(c,u,o,v)}},64237:function(tt,W,t){"use strict";var A=t(74808),g=t(92770);function i(l,x){var r,e=Array.isArray(x);function f(a){return g(a)?+a:null}return-1!==A.COMPARISON_OPS2.indexOf(l)?r=f(e?x[0]:x):-1!==A.INTERVAL_OPS.indexOf(l)?r=e?[f(x[0]),f(x[1])]:[f(x),f(x)]:-1!==A.SET_OPS.indexOf(l)&&(r=e?x.map(f):[f(x)]),r}function P(l){return function(x){x=i(l,x);var e=Math.min(x[0],x[1]),r=Math.max(x[0],x[1]);return{start:e,end:r,size:r-e}}}function E(l){return function(x){return{start:x=i(l,x),end:1/0,size:1/0}}}tt.exports={"[]":P("[]"),"][":P("]["),">":E(">"),"<":E("<"),"=":E("=")}},67217:function(tt){"use strict";tt.exports=function(t,A,g,i){var P=i("contours.start"),E=i("contours.end"),l=!1===P||!1===E,x=g("contours.size");((l?A.autocontour=!0:g("autocontour",!1))||!x)&&g("ncontours")}},84857:function(tt,W,t){"use strict";var A=t(71828);function g(i){return A.extendFlat({},i,{edgepaths:A.extendDeep([],i.edgepaths),paths:A.extendDeep([],i.paths),starts:A.extendDeep([],i.starts)})}tt.exports=function(i,P){var E,l,x,e=function(a){return a.reverse()},r=function(a){return a};switch(P){case"=":case"<":return i;case">":for(1!==i.length&&A.warn("Contour data invalid for the specified inequality operation."),l=i[0],E=0;E<l.edgepaths.length;E++)l.edgepaths[E]=e(l.edgepaths[E]);for(E=0;E<l.paths.length;E++)l.paths[E]=e(l.paths[E]);for(E=0;E<l.starts.length;E++)l.starts[E]=e(l.starts[E]);return i;case"][":var f=e;e=r,r=f;case"[]":for(2!==i.length&&A.warn("Contour data invalid for the specified inequality range operation."),l=g(i[0]),x=g(i[1]),E=0;E<l.edgepaths.length;E++)l.edgepaths[E]=e(l.edgepaths[E]);for(E=0;E<l.paths.length;E++)l.paths[E]=e(l.paths[E]);for(E=0;E<l.starts.length;E++)l.starts[E]=e(l.starts[E]);for(;x.edgepaths.length;)l.edgepaths.push(r(x.edgepaths.shift()));for(;x.paths.length;)l.paths.push(r(x.paths.shift()));for(;x.starts.length;)l.starts.push(r(x.starts.shift()));return[l]}}},13031:function(tt,W,t){"use strict";var A=t(71828),g=t(67684),i=t(73927),P=t(83179),E=t(67217),l=t(8724),x=t(58623),e=t(70600);tt.exports=function(f,a,s,c){function u(d,o){return A.coerce(f,a,e,d,o)}if(g(f,a,u,c)){i(f,a,c,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hoverongaps"),u("hovertemplate");var w="constraint"===u("contours.type");u("connectgaps",A.isArray1D(a.z)),w?P(f,a,u,c,s):(E(f,a,u,function y(d){return A.coerce2(f,a,e,d)}),l(f,a,u,c)),a.contours&&"heatmap"===a.contours.coloring&&x(u,c)}else a.visible=!1}},87558:function(tt,W,t){"use strict";var A=t(71828),g=t(64237),i=t(53572);tt.exports=function(E,l,x){for(var e="constraint"===E.type?g[E._operation](E.value):E,r=e.size,f=[],a=i(e),s=x.trace._carpetTrace,c=s?{xaxis:s.aaxis,yaxis:s.baxis,x:x.a,y:x.b}:{xaxis:l.xaxis,yaxis:l.yaxis,x:x.x,y:x.y},u=e.start;u<a;u+=r)if(f.push(A.extendFlat({level:u,crossings:{},starts:[],edgepaths:[],paths:[],z:x.z,smoothing:x.trace.line.smoothing},c)),f.length>1e3){A.warn("Too many contours, clipping at 1000",E);break}return f}},53572:function(tt){"use strict";tt.exports=function(t){return t.end+t.size/1e6}},81696:function(tt,W,t){"use strict";var A=t(71828),g=t(36914);function i(e,r,f,a){return Math.abs(e[0]-r[0])<f&&Math.abs(e[1]-r[1])<a}function P(e,r){var f=e[2]-r[2],a=e[3]-r[3];return Math.sqrt(f*f+a*a)}function E(e,r,f,a,s){var M,c=r.join(","),u=e.crossings[c],y=function l(e,r,f){var a=0,s=0;return e>20&&r?208===e||1114===e?a=0===f[0]?1:-1:s=0===f[1]?1:-1:-1!==g.BOTTOMSTART.indexOf(e)?s=1:-1!==g.LEFTSTART.indexOf(e)?a=1:-1!==g.TOPSTART.indexOf(e)?s=-1:a=-1,[a,s]}(u,f,r),v=[x(e,r,[-y[0],-y[1]])],w=e.z.length,d=e.z[0].length,o=r.slice(),h=y.slice();for(M=0;M<1e4;M++){if(u>20?e.crossings[c]=g.SADDLEREMAINDER[u=g.CHOOSESADDLE[u][(y[0]||y[1])<0?0:1]]:delete e.crossings[c],!(y=g.NEWDELTA[u])){A.log("Found bad marching index:",u,r,e.level);break}if(v.push(x(e,r,y)),r[0]+=y[0],r[1]+=y[1],c=r.join(","),i(v[v.length-1],v[v.length-2],a,s)&&v.pop(),r[0]===o[0]&&r[1]===o[1]&&y[0]===h[0]&&y[1]===h[1]||f&&(y[0]&&(r[0]<0||r[0]>d-2)||y[1]&&(r[1]<0||r[1]>w-2)))break;u=e.crossings[c]}1e4===M&&A.log("Infinite loop in contour?");var p,F,D,N,k,O,B,z,U,G,Q,m=i(v[0],v[v.length-1],a,s),S=0,b=.2*e.smoothing,n=[],C=0;for(M=1;M<v.length;M++)S+=B=P(v[M],v[M-1]),n.push(B);var rt=S/n.length*b;function it(j){return v[j%v.length]}for(M=v.length-2;M>=C;M--)if((p=n[M])<rt){for(D=0,F=M-1;F>=C&&p+n[F]<rt;F--)p+=n[F];if(m&&M===v.length-2)for(D=0;D<F&&p+n[D]<rt;D++)p+=n[D];k=M-F+D+1,O=Math.floor((M+F+D+2)/2),N=m||M!==v.length-2?m||-1!==F?k%2?it(O):[(it(O)[0]+it(O+1)[0])/2,(it(O)[1]+it(O+1)[1])/2]:v[0]:v[v.length-1],v.splice(F+1,M-F+1,N),M=F+1,D&&(C=D),m&&(M===v.length-2?v[D]=v[v.length-1]:0===M&&(v[v.length-1]=v[0]))}for(v.splice(0,C),M=0;M<v.length;M++)v[M].length=2;if(!(v.length<2))if(m)v.pop(),e.paths.push(v);else{f||A.log("Unclosed interior contour?",e.level,o.join(","),v.join("L"));var ut=!1;for(z=0;z<e.edgepaths.length;z++)if(G=e.edgepaths[z],!ut&&i(G[0],v[v.length-1],a,s)){v.pop(),ut=!0;var J=!1;for(U=0;U<e.edgepaths.length;U++)if(i((Q=e.edgepaths[U])[Q.length-1],v[0],a,s)){J=!0,v.shift(),e.edgepaths.splice(z,1),U===z?e.paths.push(v.concat(Q)):(U>z&&U--,e.edgepaths[U]=Q.concat(v,G));break}J||(e.edgepaths[z]=v.concat(G))}for(z=0;z<e.edgepaths.length&&!ut;z++)i((G=e.edgepaths[z])[G.length-1],v[0],a,s)&&(v.shift(),e.edgepaths[z]=G.concat(v),ut=!0);ut||e.edgepaths.push(v)}}function x(e,r,f){var a=r[0]+Math.max(f[0],0),s=r[1]+Math.max(f[1],0),c=e.z[s][a],u=e.xaxis,y=e.yaxis;if(f[1]){var v=(e.level-c)/(e.z[s][a+1]-c),w=(1!==v?(1-v)*u.c2l(e.x[a]):0)+(0!==v?v*u.c2l(e.x[a+1]):0);return[u.c2p(u.l2c(w),!0),y.c2p(e.y[s],!0),a+v,s]}var d=(e.level-c)/(e.z[s+1][a]-c),o=(1!==d?(1-d)*y.c2l(e.y[s]):0)+(0!==d?d*y.c2l(e.y[s+1]):0);return[u.c2p(e.x[a],!0),y.c2p(y.l2c(o),!0),a,s+d]}tt.exports=function(r,f,a){var s,u,y,v;for(f=f||.01,a=a||.01,u=0;u<r.length;u++){for(y=r[u],v=0;v<y.starts.length;v++)E(y,y.starts[v],"edge",f,a);for(s=0;Object.keys(y.crossings).length&&s<1e4;)s++,E(y,Object.keys(y.crossings)[0].split(",").map(Number),void 0,f,a);1e4===s&&A.log("Infinite loop in contour?")}}},52421:function(tt,W,t){"use strict";var A=t(7901),g=t(46248);tt.exports=function(P,E,l,x,e){e||(e={}),e.isContour=!0;var r=g(P,E,l,x,e);return r&&r.forEach(function(f){var a=f.trace;"constraint"===a.contours.type&&(a.fillcolor&&A.opacity(a.fillcolor)?f.color=A.addOpacity(a.fillcolor,1):a.contours.showlines&&A.opacity(a.line.color)&&(f.color=A.addOpacity(a.line.color,1)))}),r}},99442:function(tt,W,t){"use strict";tt.exports={attributes:t(70600),supplyDefaults:t(13031),calc:t(27529),plot:t(29854).plot,style:t(84426),colorbar:t(90654),hoverPoints:t(52421),moduleType:"trace",name:"contour",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(tt,W,t){"use strict";var A=t(71828);tt.exports=function(i,P,E,l){if(l||(l={}),i("contours.showlabels")){var e=P.font;A.coerceFont(i,"contours.labelfont",{family:e.family,size:e.size,color:E}),i("contours.labelformat")}!1!==l.hasHover&&i("zhoverformat")}},86068:function(tt,W,t){"use strict";var A=t(39898),g=t(21081),i=t(53572);tt.exports=function(E){var l=E.contours,x=l.start,e=i(l),r=l.size||1,f=Math.floor((e-x)/r)+1,a="lines"===l.coloring?0:1,s=g.extractOpts(E);isFinite(r)||(r=1,f=1);var w,d,c=s.reversescale?g.flipScale(s.colorscale):s.colorscale,u=c.length,y=new Array(u),v=new Array(u);if("heatmap"===l.coloring){var o=s.min,h=s.max;for(d=0;d<u;d++)y[d]=(w=c[d])[0]*(h-o)+o,v[d]=w[1];var M=A.extent([o,h,l.start,l.start+r*(f-1)]),T=M[o<h?0:1],L=M[o<h?1:0];T!==o&&(y.splice(0,0,T),v.splice(0,0,v[0])),L!==h&&(y.push(L),v.push(v[v.length-1]))}else for(d=0;d<u;d++)y[d]=((w=c[d])[0]*(f+a-1)-a/2)*r+x,v[d]=w[1];return g.makeColorScaleFunc({domain:y,range:v},{noNumericCheck:!0})}},87678:function(tt,W,t){"use strict";var A=t(36914);function g(i,P){var E=(P[0][0]>i?0:1)+(P[0][1]>i?0:2)+(P[1][1]>i?0:4)+(P[1][0]>i?0:8);return 5===E||10===E?i>(P[0][0]+P[0][1]+P[1][0]+P[1][1])/4?5===E?713:1114:5===E?104:208:15===E?0:E}tt.exports=function(P){var r,f,a,s,c,u,y,v,w,E=P[0].z,l=E.length,x=E[0].length,e=2===l||2===x;for(f=0;f<l-1;f++)for(s=[],0===f&&(s=s.concat(A.BOTTOMSTART)),f===l-2&&(s=s.concat(A.TOPSTART)),r=0;r<x-1;r++)for(a=s.slice(),0===r&&(a=a.concat(A.LEFTSTART)),r===x-2&&(a=a.concat(A.RIGHTSTART)),c=r+","+f,u=[[E[f][r],E[f][r+1]],[E[f+1][r],E[f+1][r+1]]],w=0;w<P.length;w++)(y=g((v=P[w]).level,u))&&(v.crossings[c]=y,-1!==a.indexOf(y)&&(v.starts.push([r,f]),e&&-1!==a.indexOf(y,a.indexOf(y)+1)&&v.starts.push([r,f])))}},29854:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=t(91424),P=t(21081),E=t(63893),l=t(89298),x=t(21994),e=t(50347),r=t(87678),f=t(81696),a=t(87558),s=t(84857),c=t(20083),u=t(36914),y=u.LABELOPTIMIZER;function d(L,m){var p,F,D,N,k,O,S="",b=0,n=L.edgepaths.map(function(rt,it){return it}),C=!0;function z(rt){return Math.abs(rt[1]-m[2][1])<.01}function U(rt){return Math.abs(rt[0]-m[0][0])<.01}function G(rt){return Math.abs(rt[0]-m[2][0])<.01}for(;n.length;){for(O=i.smoothopen(L.edgepaths[b],L.smoothing),S+=C?O:O.replace(/^M/,"L"),n.splice(n.indexOf(b),1),p=L.edgepaths[b][L.edgepaths[b].length-1],N=-1,D=0;D<4;D++){if(!p){g.log("Missing end?",b,L);break}for(Math.abs(p[1]-m[0][1])<.01&&!G(p)?F=m[1]:U(p)?F=m[0]:z(p)?F=m[3]:G(p)&&(F=m[2]),k=0;k<L.edgepaths.length;k++){var Q=L.edgepaths[k][0];Math.abs(p[0]-F[0])<.01?Math.abs(p[0]-Q[0])<.01&&(Q[1]-p[1])*(F[1]-Q[1])>=0&&(F=Q,N=k):Math.abs(p[1]-F[1])<.01?Math.abs(p[1]-Q[1])<.01&&(Q[0]-p[0])*(F[0]-Q[0])>=0&&(F=Q,N=k):g.log("endpt to newendpt is not vert. or horz.",p,F,Q)}if(p=F,N>=0)break;S+="L"+F}if(N===L.edgepaths.length){g.log("unclosed perimeter path");break}(C=-1===n.indexOf(b=N))&&(b=n[0],S+="Z")}for(b=0;b<L.paths.length;b++)S+=i.smoothclosed(L.paths[b],L.smoothing);return S}function h(L,m,S,b){var n=m.width/2,C=m.height/2,p=L.x,F=L.y,D=L.theta,N=Math.cos(D)*n,k=Math.sin(D)*n,O=(p>b.center?b.right-p:p-b.left)/(N+Math.abs(Math.sin(D)*C)),B=(F>b.middle?b.bottom-F:F-b.top)/(Math.abs(k)+Math.cos(D)*C);if(O<1||B<1)return 1/0;var z=y.EDGECOST*(1/(O-1)+1/(B-1));z+=y.ANGLECOST*D*D;for(var U=p-N,G=F-k,Q=p+N,rt=F+k,it=0;it<S.length;it++){var ut=S[it],J=Math.cos(ut.theta)*ut.width/2,j=Math.sin(ut.theta)*ut.width/2,Z=2*g.segmentDistance(U,G,Q,rt,ut.x-J,ut.y-j,ut.x+J,ut.y+j)/(m.height+ut.height),H=ut.level===m.level,X=H?y.SAMELEVELDISTANCE:1;if(Z<=X)return 1/0;z+=y.NEIGHBORCOST*(H?y.SAMELEVELFACTOR:1)/(Z-X)}return z}function T(L){var C,F,m=L.trace._emptypoints,S=[],b=L.z.length,n=L.z[0].length,p=[];for(C=0;C<n;C++)p.push(1);for(C=0;C<b;C++)S.push(p.slice());for(C=0;C<m.length;C++)S[(F=m[C])[0]][F[1]]=0;return L.zmask=S,S}W.plot=function(m,S,b,n){var C=S.xaxis,p=S.yaxis;g.makeTraceGroups(n,b,"contour").each(function(F){var D=A.select(this),N=F[0],O=N.x,B=N.y,z=N.trace.contours,U=a(z,S,N),G=g.ensureSingle(D,"g","heatmapcoloring"),Q=[];"heatmap"===z.coloring&&(Q=[F]),e(m,S,Q,G),r(U),f(U);var rt=C.c2p(O[0],!0),it=C.c2p(O[O.length-1],!0),ut=p.c2p(B[0],!0),J=p.c2p(B[B.length-1],!0),j=[[rt,J],[it,J],[it,ut],[rt,ut]],Z=U;"constraint"===z.type&&(Z=s(U,z._operation)),function v(L,m,S){var n=g.ensureSingle(L,"g","contourbg").selectAll("path").data("fill"===S.coloring?[0]:[]);n.enter().append("path"),n.exit().remove(),n.attr("d","M"+m.join("L")+"Z").style("stroke","none")}(D,j,z),function w(L,m,S,b){var n="fill"===b.coloring||"constraint"===b.type&&"="!==b._operation,C="M"+S.join("L")+"Z";n&&c(m,b);var F=g.ensureSingle(L,"g","contourfill").selectAll("path").data(n?m:[]);F.enter().append("path"),F.exit().remove(),F.each(function(D){var N=(D.prefixBoundary?C:"")+d(D,S);N?A.select(this).attr("d",N).style("stroke","none"):A.select(this).remove()})}(D,Z,j,z),function o(L,m,S,b,n){var C=S._context.staticPlot,p=g.ensureSingle(L,"g","contourlines"),F=!1!==n.showlines,D=n.showlabels,N=F&&D,k=W.createLines(p,F||D,m,C),O=W.createLineClip(p,N,S,b.trace.uid),B=L.selectAll("g.contourlabels").data(D?[0]:[]);if(B.exit().remove(),B.enter().append("g").classed("contourlabels",!0),D){var z=[],U=[];g.clearLocationCache();var G=W.labelFormatter(S,b),Q=i.tester.append("text").attr("data-notex",1).call(i.font,n.labelfont),rt=m[0].xaxis,it=m[0].yaxis,ut=rt._length,J=it._length,j=rt.range,Z=it.range,H=g.aggNums(Math.min,null,b.x),X=g.aggNums(Math.max,null,b.x),at=g.aggNums(Math.min,null,b.y),_=g.aggNums(Math.max,null,b.y),K=Math.max(rt.c2p(H,!0),0),nt=Math.min(rt.c2p(X,!0),ut),et=Math.max(it.c2p(_,!0),0),st=Math.min(it.c2p(at,!0),J),dt={};j[0]<j[1]?(dt.left=K,dt.right=nt):(dt.left=nt,dt.right=K),Z[0]<Z[1]?(dt.top=et,dt.bottom=st):(dt.top=st,dt.bottom=et),dt.middle=(dt.top+dt.bottom)/2,dt.center=(dt.left+dt.right)/2,z.push([[dt.left,dt.top],[dt.right,dt.top],[dt.right,dt.bottom],[dt.left,dt.bottom]]);var Tt=Math.sqrt(ut*ut+J*J),bt=u.LABELDISTANCE*Tt/Math.max(1,m.length/u.LABELINCREASE);k.each(function(Dt){var Ft=W.calcTextOpts(Dt.level,G,Q,S);A.select(this).selectAll("path").each(function(){var wt=g.getVisibleSegment(this,dt,Ft.height/2);if(wt&&!(wt.len<(Ft.width+Ft.height)*u.LABELMIN))for(var St=Math.min(Math.ceil(wt.len/bt),u.LABELMAX),Ut=0;Ut<St;Ut++){var Gt=W.findBestTextLocation(this,wt,Ft,U,dt);if(!Gt)break;W.addLabelData(Gt,Ft,U,z)}})}),Q.remove(),W.drawLabels(B,U,S,O,N?z:null)}D&&!F&&k.remove()}(D,U,m,N,z),function M(L,m,S,b,n){var C=b.trace,F="clip"+C.uid,D=S._fullLayout._clips.selectAll("#"+F).data(C.connectgaps?[]:[0]);if(D.enter().append("clipPath").classed("contourclip",!0).attr("id",F),D.exit().remove(),!1===C.connectgaps){var N={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:m.xaxis,yaxis:m.yaxis,x:b.x,y:b.y,z:T(b),smoothing:0};r([N]),f([N]),c([N],{type:"levels"}),g.ensureSingle(D,"path","").attr("d",(N.prefixBoundary?"M"+n.join("L")+"Z":"")+d(N,n))}else F=null;i.setClipUrl(L,F,S)}(D,S,m,N,j)})},W.createLines=function(L,m,S,b){var n=S[0].smoothing,C=L.selectAll("g.contourlevel").data(m?S:[]);if(C.exit().remove(),C.enter().append("g").classed("contourlevel",!0),m){var p=C.selectAll("path.openline").data(function(D){return D.pedgepaths||D.edgepaths});p.exit().remove(),p.enter().append("path").classed("openline",!0),p.attr("d",function(D){return i.smoothopen(D,n)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke");var F=C.selectAll("path.closedline").data(function(D){return D.ppaths||D.paths});F.exit().remove(),F.enter().append("path").classed("closedline",!0),F.attr("d",function(D){return i.smoothclosed(D,n)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke")}return C},W.createLineClip=function(L,m,S,b){var C=m?"clipline"+b:null,p=S._fullLayout._clips.selectAll("#"+C).data(m?[0]:[]);return p.exit().remove(),p.enter().append("clipPath").classed("contourlineclip",!0).attr("id",C),i.setClipUrl(L,C,S),p},W.labelFormatter=function(L,m){var S=L._fullLayout,b=m.trace,n=b.contours,C={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(n.labelformat)C.tickformat=n.labelformat,x(C,S);else{var p=P.extractOpts(b);if(p&&p.colorbar&&p.colorbar._axis)C=p.colorbar._axis;else{if("constraint"===n.type){var F=n.value;C.range=Array.isArray(F)?[F[0],F[F.length-1]]:[F,F]}else C.range=[n.start,n.end],C.nticks=(n.end-n.start)/n.size;C.range[0]===C.range[1]&&(C.range[1]+=C.range[0]||1),C.nticks||(C.nticks=1e3),x(C,S),l.prepTicks(C),C._tmin=null,C._tmax=null}}return function(D){return l.tickText(C,D).text}},W.calcTextOpts=function(L,m,S,b){var n=m(L);S.text(n).call(E.convertToTspans,b);var C=S.node(),p=i.bBox(C,!0);return{text:n,width:p.width,height:p.height,fontSize:+C.style["font-size"].replace("px",""),level:L,dy:(p.top+p.bottom)/2}},W.findBestTextLocation=function(L,m,S,b,n){var p,F,D,N,k,C=S.width;m.isClosed?(p=m.min+(F=m.len/y.INITIALSEARCHPOINTS)/2,D=m.max):(p=m.min+(F=(m.len-C)/(y.INITIALSEARCHPOINTS+1))+C/2,D=m.max-(F+C)/2);for(var O=1/0,B=0;B<y.ITERATIONS;B++){for(var z=p;z<D;z+=F){var U=g.getTextLocation(L,m.total,z,C),G=h(U,S,b,n);G<O&&(O=G,k=U,N=z)}if(O>2*y.MAXCOST)break;B&&(F/=2),D=(p=N-F/2)+1.5*F}if(O<=y.MAXCOST)return k},W.addLabelData=function(L,m,S,b){var n=m.fontSize,C=m.width+n/3,p=Math.max(0,m.height-n/3),F=L.x,D=L.y,N=L.theta,k=Math.sin(N),O=Math.cos(N),B=function(U,G){return[F+U*O-G*k,D+U*k+G*O]},z=[B(-C/2,-p/2),B(-C/2,p/2),B(C/2,p/2),B(C/2,-p/2)];S.push({text:m.text,x:F,y:D,dy:m.dy,theta:N,level:m.level,width:C,height:p}),b.push(z)},W.drawLabels=function(L,m,S,b,n){var C=L.selectAll("text").data(m,function(N){return N.text+","+N.x+","+N.y+","+N.theta});if(C.exit().remove(),C.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(N){var k=N.x+Math.sin(N.theta)*N.dy,O=N.y-Math.cos(N.theta)*N.dy;A.select(this).text(N.text).attr({x:k,y:O,transform:"rotate("+180*N.theta/Math.PI+" "+k+" "+O+")"}).call(E.convertToTspans,S)}),n){for(var p="",F=0;F<n.length;F++)p+="M"+n[F].join("L")+"Z";g.ensureSingle(b,"path","").attr("d",p)}}},18670:function(tt,W,t){"use strict";var A=t(89298),g=t(71828);function i(P,E,l){var x={type:"linear",range:[P,E]};return A.autoTicks(x,(E-P)/(l||15)),x}tt.exports=function(E,l){var x=E.contours;if(E.autocontour){var e=E.zmin,r=E.zmax;(E.zauto||void 0===e)&&(e=g.aggNums(Math.min,null,l)),(E.zauto||void 0===r)&&(r=g.aggNums(Math.max,null,l));var f=i(e,r,E.ncontours);x.size=f.dtick,x.start=A.tickFirst(f),f.range.reverse(),x.end=A.tickFirst(f),x.start===e&&(x.start+=x.size),x.end===r&&(x.end-=x.size),x.start>x.end&&(x.start=x.end=(x.start+x.end)/2),E._input.contours||(E._input.contours={}),g.extendFlat(E._input.contours,{start:x.start,end:x.end,size:x.size}),E._input.autocontour=!0}else if("constraint"!==x.type){var u,a=x.start,s=x.end,c=E._input.contours;a>s&&(x.start=c.start=s,s=x.end=c.end=a,a=x.start),x.size>0||(u=a===s?1:i(a,s,E.ncontours).dtick,c.size=x.size=u)}}},84426:function(tt,W,t){"use strict";var A=t(39898),g=t(91424),i=t(70035),P=t(86068);tt.exports=function(l){var x=A.select(l).selectAll("g.contour");x.style("opacity",function(e){return e[0].trace.opacity}),x.each(function(e){var r=A.select(this),f=e[0].trace,a=f.contours,s=f.line,c=a.size||1,u=a.start,y="constraint"===a.type,v=!y&&"lines"===a.coloring,w=!y&&"fill"===a.coloring,d=v||w?P(f):null;r.selectAll("g.contourlevel").each(function(M){A.select(this).selectAll("path").call(g.lineGroupStyle,s.width,v?d(M.level):s.color,s.dash)});var o=a.labelfont;if(r.selectAll("g.contourlabels text").each(function(M){g.font(A.select(this),{family:o.family,size:o.size,color:o.color||(v?d(M.level):s.color)})}),y)r.selectAll("g.contourfill path").style("fill",f.fillcolor);else if(w){var h;r.selectAll("g.contourfill path").style("fill",function(M){return void 0===h&&(h=M.level),d(M.level+.5*c)}),void 0===h&&(h=u),r.selectAll("g.contourbg path").style("fill",d(h-.5*c))}}),i(l)}},8724:function(tt,W,t){"use strict";var A=t(1586),g=t(14523);tt.exports=function(P,E,l,x,e){var f,r=l("contours.coloring"),a="";"fill"===r&&(f=l("contours.showlines")),!1!==f&&("lines"!==r&&(a=l("line.color","#000")),l("line.width",.5),l("line.dash")),"none"!==r&&(!0!==P.showlegend&&(E.showlegend=!1),E._dfltShowLegend=!1,A(P,E,x,l,{prefix:"",cLetter:"z"})),l("line.smoothing"),g(l,x,a,e)}},88085:function(tt,W,t){"use strict";var A=t(21606),g=t(70600),i=t(50693),P=t(1426).extendFlat,E=g.contours;tt.exports=P({carpet:{valType:"string",editType:"calc"},z:A.z,a:A.x,a0:A.x0,da:A.dx,b:A.y,b0:A.y0,db:A.dy,text:A.text,hovertext:A.hovertext,transpose:A.transpose,atype:A.xtype,btype:A.ytype,fillcolor:g.fillcolor,autocontour:g.autocontour,ncontours:g.ncontours,contours:{type:E.type,start:E.start,end:E.end,size:E.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:E.showlines,showlabels:E.showlabels,labelfont:E.labelfont,labelformat:E.labelformat,operation:E.operation,value:E.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:g.line.color,width:g.line.width,dash:g.line.dash,smoothing:g.line.smoothing,editType:"plot"},transforms:void 0},i("",{cLetter:"z",autoColorDflt:!1}))},59885:function(tt,W,t){"use strict";var A=t(78803),g=t(71828),i=t(68296),P=t(4742),E=t(824),l=t(43907),x=t(70769),e=t(75005),r=t(22882),f=t(18670);tt.exports=function(c,u){var y=u._carpetTrace=r(c,u);if(y&&y.visible&&"legendonly"!==y.visible){if(!u.a||!u.b){var v=c.data[y.index],w=c.data[u.index];w.a||(w.a=v.a),w.b||(w.b=v.b),e(w,u,u._defaultColor,c._fullLayout)}var d=function a(s,c){var w,d,o,h,M,T,L,u=c._carpetTrace,y=u.aaxis,v=u.baxis;y._minDtick=0,v._minDtick=0,g.isArray1D(c.z)&&i(c,y,v,"a","b",["z"]),w=c._a=c._a||c.a,h=c._b=c._b||c.b,w=w?y.makeCalcdata(c,"_a"):[],h=h?v.makeCalcdata(c,"_b"):[],d=c.a0||0,o=c.da||1,M=c.b0||0,T=c.db||1,L=c._z=P(c._z||c.z,c.transpose),c._emptypoints=l(L),E(L,c._emptypoints);var m=g.maxRowLength(L),p={a:x(c,"scaled"===c.xtype?"":w,d,o,m,y),b:x(c,"scaled"===c.ytype?"":h,M,T,L.length,v),z:L};return"levels"===c.contours.type&&"none"!==c.contours.coloring&&A(s,c,{vals:L,containerStr:"",cLetter:"z"}),[p]}(c,u);return f(u,u._z),d}}},75005:function(tt,W,t){"use strict";var A=t(71828),g=t(67684),i=t(88085),P=t(83179),E=t(67217),l=t(8724);tt.exports=function(e,r,f,a){function s(v,w){return A.coerce(e,r,i,v,w)}if(s("carpet"),e.a&&e.b){if(!g(e,r,s,a,"a","b"))return void(r.visible=!1);s("text"),"constraint"===s("contours.type")?P(e,r,s,a,f,{hasHover:!1}):(E(e,r,s,function c(v){return A.coerce2(e,r,i,v)}),l(e,r,s,a,{hasHover:!1}))}else r._defaultColor=f,r._length=null}},93740:function(tt,W,t){"use strict";tt.exports={attributes:t(88085),supplyDefaults:t(75005),colorbar:t(90654),calc:t(59885),plot:t(51048),style:t(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:t(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(tt,W,t){"use strict";var A=t(39898),g=t(27669),i=t(67961),P=t(91424),E=t(71828),l=t(87678),x=t(81696),e=t(29854),r=t(36914),f=t(84857),a=t(87558),s=t(20083),c=t(22882),u=t(4536);function v(m,S,b,n,C,p,F){var D=b._context.staticPlot,N=E.ensureSingle(m,"g","contourlines"),k=!1!==C.showlines,O=C.showlabels,B=k&&O,z=e.createLines(N,k||O,S,D),U=e.createLineClip(N,B,b,n.trace.uid),G=m.selectAll("g.contourlabels").data(O?[0]:[]);if(G.exit().remove(),G.enter().append("g").classed("contourlabels",!0),O){var it=p.xaxis._length,ut=p.yaxis._length,J=[[[0,0],[it,0],[it,ut],[0,ut]]],j=[];E.clearLocationCache();var Z=e.labelFormatter(b,n),H=P.tester.append("text").attr("data-notex",1).call(P.font,C.labelfont),X={left:0,right:it,center:it/2,top:0,bottom:ut,middle:ut/2},at=Math.sqrt(it*it+ut*ut),_=r.LABELDISTANCE*at/Math.max(1,S.length/r.LABELINCREASE);z.each(function(K){var nt=e.calcTextOpts(K.level,Z,H,b);A.select(this).selectAll("path").each(function(et){var dt=E.getVisibleSegment(this,X,nt.height/2);if(dt&&(function w(m,S,b,n,C,p){for(var F,D=0;D<b.pedgepaths.length;D++)S===b.pedgepaths[D]&&(F=b.edgepaths[D]);if(F){var N=C.a[0],k=C.a[C.a.length-1],O=C.b[0],B=C.b[C.b.length-1],U=d(m,0,1),G=d(m,n.total,n.total-1),Q=z(F[0],U),rt=n.total-z(F[F.length-1],G);n.min<Q&&(n.min=Q),n.max>rt&&(n.max=rt),n.len=n.max-n.min}function z(it,ut){var j,J=0,Z=.1;return(Math.abs(it[0]-N)<Z||Math.abs(it[0]-k)<Z)&&(j=o(C.dxydb_rough(it[0],it[1],Z)),J=Math.max(J,p*h(ut,j)/2)),(Math.abs(it[1]-O)<Z||Math.abs(it[1]-B)<Z)&&(j=o(C.dxyda_rough(it[0],it[1],Z)),J=Math.max(J,p*h(ut,j)/2)),J}}(this,et,K,dt,F,nt.height),!(dt.len<(nt.width+nt.height)*r.LABELMIN)))for(var Tt=Math.min(Math.ceil(dt.len/_),r.LABELMAX),bt=0;bt<Tt;bt++){var Dt=e.findBestTextLocation(this,dt,nt,j,X);if(!Dt)break;e.addLabelData(Dt,nt,j,J)}})}),H.remove(),e.drawLabels(G,j,b,U,B?J:null)}O&&!k&&z.remove()}function d(m,S,b){var n=m.getPointAtLength(S),C=m.getPointAtLength(b),p=C.x-n.x,F=C.y-n.y,D=Math.sqrt(p*p+F*F);return[p/D,F/D]}function o(m){var S=Math.sqrt(m[0]*m[0]+m[1]*m[1]);return[m[0]/S,m[1]/S]}function h(m,S){var b=Math.abs(m[0]*S[0]+m[1]*S[1]);return Math.sqrt(1-b*b)/b}function T(m,S,b,n,C,p,F,D,N,k,O){var B="fill"===k;B&&s(C,m.contours);var U=E.ensureSingle(S,"g","contourfill").selectAll("path").data(B?C:[]);U.enter().append("path"),U.exit().remove(),U.each(function(G){var Q=(G.prefixBoundary?O:"")+function L(m,S,b,n,C,p,F,D){var N,z,U,G,Q,rt,it,k="",O=S.edgepaths.map(function(nt,et){return et}),B=!0,ut=1e-4*Math.abs(b[0][0]-b[2][0]),J=1e-4*Math.abs(b[0][1]-b[2][1]);function j(nt){return Math.abs(nt[1]-b[0][1])<J}function Z(nt){return Math.abs(nt[1]-b[2][1])<J}function H(nt){return Math.abs(nt[0]-b[0][0])<ut}function X(nt){return Math.abs(nt[0]-b[2][0])<ut}function at(nt,et){var st,dt,Tt,bt,Dt="";for(j(nt)&&!X(nt)||Z(nt)&&!H(nt)?(bt=C.aaxis,Tt=u(C,p,[nt[0],et[0]],.5*(nt[1]+et[1]))):(bt=C.baxis,Tt=u(C,p,.5*(nt[0]+et[0]),[nt[1],et[1]])),st=1;st<Tt.length;st++)for(Dt+=bt.smoothing?"C":"L",dt=0;dt<Tt[st].length;dt++){var Ft=Tt[st][dt];Dt+=[F.c2p(Ft[0]),D.c2p(Ft[1])]+" "}return Dt}for(N=0,z=null;O.length;){for(z&&(k+=at(z,S.edgepaths[N][0])),it=P.smoothopen(S.edgepaths[N].map(n),S.smoothing),k+=B?it:it.replace(/^M/,"L"),O.splice(O.indexOf(N),1),z=S.edgepaths[N][S.edgepaths[N].length-1],Q=-1,G=0;G<4;G++){if(!z){E.log("Missing end?",N,S);break}for(j(z)&&!X(z)?U=b[1]:H(z)?U=b[0]:Z(z)?U=b[3]:X(z)&&(U=b[2]),rt=0;rt<S.edgepaths.length;rt++){var K=S.edgepaths[rt][0];Math.abs(z[0]-U[0])<ut?Math.abs(z[0]-K[0])<ut&&(K[1]-z[1])*(U[1]-K[1])>=0&&(U=K,Q=rt):Math.abs(z[1]-U[1])<J?Math.abs(z[1]-K[1])<J&&(K[0]-z[0])*(U[0]-K[0])>=0&&(U=K,Q=rt):E.log("endpt to newendpt is not vert. or horz.",z,U,K)}if(Q>=0)break;k+=at(z,U),z=U}if(Q===S.edgepaths.length){E.log("unclosed perimeter path");break}(B=-1===O.indexOf(N=Q))&&(N=O[0],k+=at(z,U)+"Z",z=null)}for(N=0;N<S.paths.length;N++)k+=P.smoothclosed(S.paths[N].map(n),S.smoothing);return k}(0,G,p,F,D,N,b,n);Q?A.select(this).attr("d",Q).style("stroke","none"):A.select(this).remove()})}tt.exports=function(S,b,n,C){var p=b.xaxis,F=b.yaxis;E.makeTraceGroups(C,n,"contour").each(function(D){var N=A.select(this),k=D[0],O=k.trace,B=O._carpetTrace=c(S,O),z=S.calcdata[B.index][0];if(B.visible&&"legendonly"!==B.visible){var U=k.a,G=k.b,Q=O.contours,rt=a(Q,b,k),it="constraint"===Q.type,ut=Q._operation,J=it?"="===ut?"lines":"fill":Q.coloring,Z=[[U[0],G[G.length-1]],[U[U.length-1],G[G.length-1]],[U[U.length-1],G[0]],[U[0],G[0]]];l(rt),x(rt,1e-8*(U[U.length-1]-U[0]),1e-8*(G[G.length-1]-G[0]));var at=rt;"constraint"===Q.type&&(at=f(rt,ut)),function y(m,S){var b,n,C,p,F,D,N,k,O;for(b=0;b<m.length;b++){for(F=(p=m[b]).pedgepaths=[],D=p.ppaths=[],n=0;n<p.edgepaths.length;n++){for(O=p.edgepaths[n],N=[],C=0;C<O.length;C++)N[C]=S(O[C]);F.push(N)}for(n=0;n<p.paths.length;n++){for(O=p.paths[n],k=[],C=0;C<O.length;C++)k[C]=S(O[C]);D.push(k)}}}(rt,j);var _,K,nt,et,st=[];for(et=z.clipsegments.length-1;et>=0;et--)K=g([],(_=z.clipsegments[et]).x,p.c2p),nt=g([],_.y,F.c2p),K.reverse(),nt.reverse(),st.push(i(K,nt,_.bicubic));var dt="M"+st.join("L")+"Z";(function M(m,S,b,n,C,p){var F,D,N,k,B=E.ensureSingle(m,"g","contourbg").selectAll("path").data("fill"!==p||C?[]:[0]);B.enter().append("path"),B.exit().remove();var z=[];for(k=0;k<S.length;k++)D=g([],(F=S[k]).x,b.c2p),N=g([],F.y,n.c2p),z.push(i(D,N,F.bicubic));B.attr("d","M"+z.join("L")+"Z").style("stroke","none")})(N,z.clipsegments,p,F,it,J),T(O,N,p,F,at,Z,j,B,z,J,dt),v(N,rt,S,k,Q,b,B),P.setClipUrl(N,B._clipPathId,S)}function j(Tt){var bt=B.ab2xy(Tt[0],Tt[1],!0);return[p.c2p(bt[0]),F.c2p(bt[1])]}})}},64096:function(tt,W,t){"use strict";var A=t(50693),g=t(5386).fF,i=t(9012),P=t(99181),E=t(1426).extendFlat;tt.exports=E({lon:P.lon,lat:P.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:P.text,hovertext:P.hovertext,hoverinfo:E({},i.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:g(),showlegend:E({},i.showlegend,{dflt:!1})},A("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(tt,W,t){"use strict";var A=t(92770),g=t(71828).isArrayOrTypedArray,i=t(50606).BADNUM,P=t(78803),E=t(71828)._;tt.exports=function(x,e){for(var r=e._length,f=new Array(r),a=e.z,s=g(a)&&a.length,c=0;c<r;c++){var u=f[c]={},y=e.lon[c],v=e.lat[c];if(u.lonlat=A(y)&&A(v)?[+y,+v]:[i,i],s){var w=a[c];u.z=A(w)?w:i}}return P(x,e,{vals:s?a:[0,1],containerStr:"",cLetter:"z"}),r&&(f[0].t={labels:{lat:E(x,"lat:")+" ",lon:E(x,"lon:")+" "}}),f}},52414:function(tt,W,t){"use strict";var A=t(92770),g=t(71828),i=t(7901),P=t(21081),E=t(50606).BADNUM,l=t(18214).makeBlank;tt.exports=function(e){var r=e[0].trace,f=!0===r.visible&&0!==r._length,s=r._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:l()};if(!f)return s;var u,c=[],y=r.z,v=r.radius,w=g.isArrayOrTypedArray(y)&&y.length,d=g.isArrayOrTypedArray(v);for(u=0;u<e.length;u++){var o=e[u],h=o.lonlat;if(h[0]!==E){var M={};if(w){var T=o.z;M.z=T!==E?T:0}d&&(M.r=A(v[u])&&v[u]>0?+v[u]:0),c.push({type:"Feature",geometry:{type:"Point",coordinates:h},properties:M})}}var L=P.extractOpts(r),m=L.reversescale?P.flipScale(L.colorscale):L.colorscale,S=m[0][1],n=["interpolate",["linear"],["heatmap-density"],0,i.opacity(S)<1?S:i.addOpacity(S,0)];for(u=1;u<m.length;u++)n.push(m[u][0],m[u][1]);return g.extendFlat(s.heatmap.paint,{"heatmap-weight":w?["interpolate",["linear"],["get","z"],L.min,0,L.max,1]:1/(L.max-L.min),"heatmap-color":n,"heatmap-radius":d?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),s.geojson={type:"FeatureCollection",features:c},s.heatmap.layout.visibility="visible",s}},79429:function(tt,W,t){"use strict";var A=t(71828),g=t(1586),i=t(64096);tt.exports=function(E,l,x,e){function r(c,u){return A.coerce(E,l,i,c,u)}var f=r("lon")||[],a=r("lat")||[],s=Math.min(f.length,a.length);s?(l._length=s,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),g(E,l,e,r,{prefix:"",cLetter:"z"})):l.visible=!1}},62474:function(tt){"use strict";tt.exports=function(t,A){return t.lon=A.lon,t.lat=A.lat,t.z=A.z,t}},84684:function(tt,W,t){"use strict";var A=t(89298),g=t(28178).hoverPoints,i=t(28178).getExtraText;tt.exports=function(E,l,x){var e=g(E,l,x);if(e){var r=e[0],f=r.cd,a=f[0].trace,s=f[r.index];if(delete r.color,"z"in s){var c=r.subplot.mockAxis;r.z=s.z,r.zLabel=A.tickText(c,c.c2l(s.z),"hover").text}return r.extraText=i(a,s,f[0].t.labels),[r]}}},93814:function(tt,W,t){"use strict";tt.exports={attributes:t(64096),supplyDefaults:t(79429),colorbar:t(61243),formatLabels:t(15636),calc:t(85070),plot:t(7336),hoverPoints:t(84684),eventData:t(62474),getBelow:function(A,g){for(var i=g.getMapLayers(),P=0;P<i.length;P++){var E=i[P],l=E.id;if("symbol"===E.type&&"string"==typeof l&&-1===l.indexOf("plotly-"))return l}},moduleType:"trace",name:"densitymapbox",basePlotModule:t(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(tt,W,t){"use strict";var A=t(52414),g=t(77734).traceLayerPrefix;function i(E,l){this.type="densitymapbox",this.subplot=E,this.uid=l,this.sourceId="source-"+l,this.layerList=[["heatmap",g+l+"-heatmap"]],this.below=null}var P=i.prototype;P.update=function(E){var l=this.subplot,x=this.layerList,e=A(E),r=l.belowLookup["trace-"+this.uid];l.map.getSource(this.sourceId).setData(e.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(e,r),this.below=r);for(var f=0;f<x.length;f++){var a=x[f],c=a[1],u=e[a[0]];l.setOptions(c,"setLayoutProperty",u.layout),"visible"===u.layout.visibility&&l.setOptions(c,"setPaintProperty",u.paint)}},P._addLayers=function(E,l){for(var x=this.subplot,e=this.layerList,r=this.sourceId,f=0;f<e.length;f++){var a=e[f],s=a[0],c=E[s];x.addLayer({type:s,id:a[1],source:r,layout:c.layout,paint:c.paint},l)}},P._removeLayers=function(){for(var E=this.subplot.map,l=this.layerList,x=l.length-1;x>=0;x--)E.removeLayer(l[x][1])},P.dispose=function(){var E=this.subplot.map;this._removeLayers(),E.removeSource(this.sourceId)},tt.exports=function(l,x){var e=x[0].trace,r=new i(l,e.uid),f=r.sourceId,a=A(x),s=r.below=l.belowLookup["trace-"+e.uid];return l.map.addSource(f,{type:"geojson",data:a.geojson}),r._addLayers(a,s),r}},49789:function(tt,W,t){"use strict";var A=t(71828);tt.exports=function(i,P){for(var E=0;E<i.length;E++)i[E].i=E;A.mergeArray(P.text,i,"tx"),A.mergeArray(P.hovertext,i,"htx");var l=P.marker;if(l){A.mergeArray(l.opacity,i,"mo"),A.mergeArray(l.color,i,"mc");var x=l.line;x&&(A.mergeArray(x.color,i,"mlc"),A.mergeArrayCastPositive(x.width,i,"mlw"))}}},1285:function(tt,W,t){"use strict";var A=t(1486),g=t(82196).line,i=t(9012),P=t(12663).axisHoverFormat,E=t(5386).fF,l=t(5386).si,x=t(18517),e=t(1426).extendFlat,r=t(7901);tt.exports={x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),hovertext:A.hovertext,hovertemplate:E({},{keys:x.eventDataKeys}),hoverinfo:e({},i.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:l({editType:"plot"},{keys:x.eventDataKeys.concat(["label","value"])}),text:A.text,textposition:A.textposition,insidetextanchor:e({},A.insidetextanchor,{dflt:"middle"}),textangle:e({},A.textangle,{dflt:0}),textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:A.outsidetextfont,constraintext:A.constraintext,cliponaxis:A.cliponaxis,orientation:e({},A.orientation,{}),offset:e({},A.offset,{arrayOk:!1}),width:e({},A.width,{arrayOk:!1}),marker:function f(){var a=e({},A.marker);return delete a.pattern,a}(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:e({},g.color,{dflt:r.defaultLine}),width:e({},g.width,{dflt:0,editType:"plot"}),dash:g.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup}},9532:function(tt,W,t){"use strict";var A=t(89298),g=t(42973),i=t(49789),P=t(66279),E=t(50606).BADNUM;function l(x){return x===E?0:x}tt.exports=function(e,r){var s,c,u,y,v,w,d,o,f=A.getFromId(e,r.xaxis||"x"),a=A.getFromId(e,r.yaxis||"y");"h"===r.orientation?(s=f.makeCalcdata(r,"x"),u=a.makeCalcdata(r,"y"),y=g(r,a,"y",u),v=!!r.yperiodalignment,w="y"):(s=a.makeCalcdata(r,"y"),u=f.makeCalcdata(r,"x"),y=g(r,f,"x",u),v=!!r.xperiodalignment,w="x"),c=y.vals;var L,h=Math.min(c.length,s.length),M=new Array(h);for(r._base=[],d=0;d<h;d++){s[d]<0&&(s[d]=E);var T=!1;s[d]!==E&&d+1<h&&s[d+1]!==E&&(T=!0),o=M[d]={p:c[d],s:s[d],cNext:T},r._base[d]=-.5*o.s,v&&(M[d].orig_p=u[d],M[d][w+"End"]=y.ends[d],M[d][w+"Start"]=y.starts[d]),r.ids&&(o.id=String(r.ids[d])),0===d&&(M[0].vTotal=0),M[0].vTotal+=l(o.s),o.begR=l(o.s)/l(M[0].s)}for(d=0;d<h;d++)(o=M[d]).s!==E&&(o.sumR=o.s/M[0].vTotal,o.difR=void 0!==L?o.s/L:1,L=o.s);return i(M,r),P(M,r),M}},18517:function(tt){"use strict";tt.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(tt,W,t){"use strict";var A=t(11661).setGroupPositions;tt.exports=function(i,P){var c,u,E=i._fullLayout,l=i._fullData,x=i.calcdata,e=P.xaxis,r=P.yaxis,f=[],a=[],s=[];for(u=0;u<l.length;u++){var y=l[u];!0===y.visible&&y.xaxis===e._id&&y.yaxis===r._id&&"funnel"===y.type&&(c=x[u],"h"===y.orientation?s.push(c):a.push(c),f.push(c))}var w={mode:E.funnelmode,norm:E.funnelnorm,gap:E.funnelgap,groupgap:E.funnelgroupgap};for(A(i,e,r,a,w),A(i,r,e,s,w),u=0;u<f.length;u++){c=f[u];for(var d=0;d<c.length;d++)d+1<c.length&&(c[d].nextP0=c[d+1].p0,c[d].nextS0=c[d+1].s0,c[d].nextP1=c[d+1].p1,c[d].nextS1=c[d+1].s1)}}},26199:function(tt,W,t){"use strict";var A=t(71828),g=t(26125),i=t(90769).handleText,P=t(67513),E=t(73927),l=t(1285),x=t(7901);tt.exports={supplyDefaults:function e(a,s,c,u){function y(T,L){return A.coerce(a,s,l,T,L)}if(P(a,s,u,y)){E(a,s,u,y),y("xhoverformat"),y("yhoverformat"),y("orientation",s.y&&!s.x?"v":"h"),y("offset"),y("width");var w=y("text");y("hovertext"),y("hovertemplate");var d=y("textposition");i(a,s,u,y,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==s.textposition&&!s.texttemplate&&y("textinfo",Array.isArray(w)?"text+value":"value");var o=y("marker.color",c);y("marker.line.color",x.defaultLine),y("marker.line.width"),y("connector.visible")&&(y("connector.fillcolor",function r(a){var s=A.isArrayOrTypedArray(a)?"#000":a;return x.addOpacity(s,.5*x.opacity(s))}(o)),y("connector.line.width")&&(y("connector.line.color"),y("connector.line.dash")))}else s.visible=!1},crossTraceDefaults:function f(a,s){var u;function y(w){return A.coerce(u._input,u,l,w)}if("group"===s.funnelmode)for(var v=0;v<a.length;v++)g((u=a[v])._input,u,s,y)}}},34598:function(tt){"use strict";tt.exports=function(t,A){return t.x="xVal"in A?A.xVal:A.x,t.y="yVal"in A?A.yVal:A.y,"percentInitial"in A&&(t.percentInitial=A.percentInitial),"percentPrevious"in A&&(t.percentPrevious=A.percentPrevious),"percentTotal"in A&&(t.percentTotal=A.percentTotal),A.xa&&(t.xaxis=A.xa),A.ya&&(t.yaxis=A.ya),t}},63341:function(tt,W,t){"use strict";var A=t(7901).opacity,g=t(95423).hoverOnBars,i=t(71828).formatPercent;tt.exports=function(l,x,e,r,f){var a=g(l,x,e,r,f);if(a){var s=a.cd,c=s[0].trace,v=s[a.index];a[("h"===c.orientation?"x":"y")+"LabelVal"]=v.s,a.percentInitial=v.begR,a.percentInitialLabel=i(v.begR,1),a.percentPrevious=v.difR,a.percentPreviousLabel=i(v.difR,1),a.percentTotal=v.sumR,a.percentTotalLabel=i(v.sumR,1);var d=v.hi||c.hoverinfo,o=[];if(d&&"none"!==d&&"skip"!==d){var h="all"===d,M=d.split("+"),T=function(L){return h||-1!==M.indexOf(L)};T("percent initial")&&o.push(a.percentInitialLabel+" of initial"),T("percent previous")&&o.push(a.percentPreviousLabel+" of previous"),T("percent total")&&o.push(a.percentTotalLabel+" of total")}return a.extraText=o.join("<br>"),a.color=function P(E,l){var x=E.marker,e=l.mc||x.color,r=l.mlc||x.line.color,f=l.mlw||x.line.width;return A(e)?e:A(r)&&f?r:void 0}(c,v),[a]}}},51759:function(tt,W,t){"use strict";tt.exports={attributes:t(1285),layoutAttributes:t(10440),supplyDefaults:t(26199).supplyDefaults,crossTraceDefaults:t(26199).crossTraceDefaults,supplyLayoutDefaults:t(93138),calc:t(9532),crossTraceCalc:t(8984),plot:t(80461),style:t(68266).style,hoverPoints:t(63341),eventData:t(34598),selectPoints:t(81974),moduleType:"trace",name:"funnel",basePlotModule:t(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(tt){"use strict";tt.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(tt,W,t){"use strict";var A=t(71828),g=t(10440);tt.exports=function(i,P,E){var l=!1;function x(f,a){return A.coerce(i,P,g,f,a)}for(var e=0;e<E.length;e++){var r=E[e];if(r.visible&&"funnel"===r.type){l=!0;break}}l&&(x("funnelmode"),x("funnelgap",.2),x("funnelgroupgap"))}},80461:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=t(91424),P=t(50606).BADNUM,E=t(17295),l=t(72597).clearMinTextSize;function r(f,a,s,c){var u=[],y=[],v=c?a:s,w=c?s:a;return u[0]=v.c2p(f.s0,!0),y[0]=w.c2p(f.p0,!0),u[1]=v.c2p(f.s1,!0),y[1]=w.c2p(f.p1,!0),u[2]=v.c2p(f.nextS0,!0),y[2]=w.c2p(f.nextP0,!0),u[3]=v.c2p(f.nextS1,!0),y[3]=w.c2p(f.nextP1,!0),c?[u,y]:[y,u]}tt.exports=function(a,s,c,u){var y=a._fullLayout;l("funnel",y),function x(f,a,s,c){var u=a.xaxis,y=a.yaxis;g.makeTraceGroups(c,s,"trace bars").each(function(v){var w=A.select(this),d=v[0].trace,o=g.ensureSingle(w,"g","regions");if(d.connector&&d.connector.visible){var h="h"===d.orientation,M=o.selectAll("g.region").data(g.identity);M.enter().append("g").classed("region",!0),M.exit().remove();var T=M.size();M.each(function(L,m){if(m===T-1||L.cNext){var S=r(L,u,y,h),b=S[0],n=S[1],C="";b[0]!==P&&n[0]!==P&&b[1]!==P&&n[1]!==P&&b[2]!==P&&n[2]!==P&&b[3]!==P&&n[3]!==P&&(C+=h?"M"+b[0]+","+n[1]+"L"+b[2]+","+n[2]+"H"+b[3]+"L"+b[1]+","+n[1]+"Z":"M"+b[1]+","+n[1]+"L"+b[2]+","+n[3]+"V"+n[2]+"L"+b[1]+","+n[0]+"Z"),""===C&&(C="M0,0Z"),g.ensureSingle(A.select(this),"path").attr("d",C).call(i.setClipUrl,a.layerClipId,f)}})}else o.remove()})}(a,s,c,u),function e(f,a,s,c){var u=a.xaxis,y=a.yaxis;g.makeTraceGroups(c,s,"trace bars").each(function(v){var w=A.select(this),d=v[0].trace,o=g.ensureSingle(w,"g","lines");if(d.connector&&d.connector.visible&&d.connector.line.width){var h="h"===d.orientation,M=o.selectAll("g.line").data(g.identity);M.enter().append("g").classed("line",!0),M.exit().remove();var T=M.size();M.each(function(L,m){if(m===T-1||L.cNext){var S=r(L,u,y,h),b=S[0],n=S[1],C="";void 0!==b[3]&&void 0!==n[3]&&(h?(C+="M"+b[0]+","+n[1]+"L"+b[2]+","+n[2],C+="M"+b[1]+","+n[1]+"L"+b[3]+","+n[2]):(C+="M"+b[1]+","+n[1]+"L"+b[2]+","+n[3],C+="M"+b[1]+","+n[0]+"L"+b[2]+","+n[2])),""===C&&(C="M0,0Z"),g.ensureSingle(A.select(this),"path").attr("d",C).call(i.setClipUrl,a.layerClipId,f)}})}else o.remove()})}(a,s,c,u),E.plot(a,s,c,u,{mode:y.funnelmode,norm:y.funnelmode,gap:y.funnelgap,groupgap:y.funnelgroupgap})}},68266:function(tt,W,t){"use strict";var A=t(39898),g=t(91424),i=t(7901),P=t(37822).DESELECTDIM,E=t(16688),l=t(72597).resizeText,x=E.styleTextPoints;tt.exports={style:function e(r,f,a){var s=a||A.select(r).selectAll("g.funnellayer").selectAll("g.trace");l(r,s,"funnel"),s.style("opacity",function(c){return c[0].trace.opacity}),s.each(function(c){var u=A.select(this),y=c[0].trace;u.selectAll(".point > path").each(function(v){if(!v.isBlank){var w=y.marker;A.select(this).call(i.fill,v.mc||w.color).call(i.stroke,v.mlc||w.line.color).call(g.dashLine,w.line.dash,v.mlw||w.line.width).style("opacity",y.selectedpoints&&!v.selected?P:1)}}),x(u,y,r),u.selectAll(".regions").each(function(){A.select(this).selectAll("path").style("stroke-width",0).call(i.fill,y.connector.fillcolor)}),u.selectAll(".lines").each(function(){var v=y.connector.line;g.lineGroupStyle(A.select(this).selectAll("path"),v.width,v.color,v.dash)})})}}},86807:function(tt,W,t){"use strict";var A=t(34e3),g=t(9012),i=t(27670).Y,P=t(5386).fF,E=t(5386).si,l=t(1426).extendFlat;tt.exports={labels:A.labels,label0:A.label0,dlabel:A.dlabel,values:A.values,marker:{colors:A.marker.colors,line:{color:l({},A.marker.line.color,{dflt:null}),width:l({},A.marker.line.width,{dflt:1}),editType:"calc"},pattern:A.marker.pattern,editType:"calc"},text:A.text,hovertext:A.hovertext,scalegroup:l({},A.scalegroup,{}),textinfo:l({},A.textinfo,{flags:["label","text","value","percent"]}),texttemplate:E({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:l({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:P({},{keys:["label","color","value","text","percent"]}),textposition:l({},A.textposition,{values:["inside","none"],dflt:"inside"}),textfont:A.textfont,insidetextfont:A.insidetextfont,title:{text:A.title.text,font:A.title.font,position:l({},A.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:i({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(tt,W,t){"use strict";var A=t(74875);W.name="funnelarea",W.plot=function(g,i,P,E){A.plotBasePlot(W.name,g,i,P,E)},W.clean=function(g,i,P,E){A.cleanBasePlot(W.name,g,i,P,E)}},89574:function(tt,W,t){"use strict";var A=t(32354);tt.exports={calc:function g(P,E){return A.calc(P,E)},crossTraceCalc:function i(P){A.crossTraceCalc(P,{type:"funnelarea"})}}},86282:function(tt,W,t){"use strict";var A=t(71828),g=t(86807),i=t(27670).c,P=t(90769).handleText,E=t(37434).handleLabelsAndValues,l=t(37434).handleMarkerDefaults;tt.exports=function(e,r,f,a){function s(T,L){return A.coerce(e,r,g,T,L)}var c=s("labels"),u=s("values"),y=E(c,u),v=y.len;if(r._hasLabels=y.hasLabels,r._hasValues=y.hasValues,!r._hasLabels&&r._hasValues&&(s("label0"),s("dlabel")),v){r._length=v,l(e,r,a,s),s("scalegroup");var o,w=s("text"),d=s("texttemplate");if(d||(o=s("textinfo",Array.isArray(w)?"text+percent":"percent")),s("hovertext"),s("hovertemplate"),d||o&&"none"!==o){var h=s("textposition");P(e,r,a,s,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}i(r,a,s),s("title.text")&&(s("title.position"),A.coerceFont(s,"title.font",a.font)),s("aspectratio"),s("baseratio")}else r.visible=!1}},10421:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"funnelarea",basePlotModule:t(6452),categories:["pie-like","funnelarea","showLegend"],attributes:t(86807),layoutAttributes:t(80097),supplyDefaults:t(86282),supplyLayoutDefaults:t(57402),calc:t(89574).calc,crossTraceCalc:t(89574).crossTraceCalc,plot:t(79187),style:t(71858),styleOne:t(63463),meta:{}}},80097:function(tt,W,t){"use strict";var A=t(92774).hiddenlabels;tt.exports={hiddenlabels:A,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(tt,W,t){"use strict";var A=t(71828),g=t(80097);tt.exports=function(P,E){function l(x,e){return A.coerce(P,E,g,x,e)}l("hiddenlabels"),l("funnelareacolorway",E.colorway),l("extendfunnelareacolors")}},79187:function(tt,W,t){"use strict";var A=t(39898),g=t(91424),i=t(71828),P=i.strScale,E=i.strTranslate,l=t(63893),e=t(17295).toMoveInsideBar,r=t(72597),f=r.recordMinTextSize,a=r.clearMinTextSize,s=t(53581),c=t(14575),u=c.attachFxHandlers,y=c.determineInsideTextFont,v=c.layoutAreas,w=c.prerenderTitles,d=c.positionTitleOutside,o=c.formatSliceLabel;function h(L,m){return"l"+(m[0]-L[0])+","+(m[1]-L[1])}function M(L,m){return[.5*(L[0]+m[0]),.5*(L[1]+m[1])]}function T(L){if(L.length){var m=L[0],S=m.trace,b=S.aspectratio,n=S.baseratio;n>.999&&(n=.999);var B,U,G,C=Math.pow(n,2),p=m.vTotal,D=p,N=p*C/(1-C)/p,z=[];for(z.push(O()),U=L.length-1;U>-1;U--)(G=L[U]).hidden||(N+=G.v/D,z.push(O()));var rt=1/0,it=-1/0;for(U=0;U<z.length;U++)B=z[U],rt=Math.min(rt,B[1]),it=Math.max(it,B[1]);for(U=0;U<z.length;U++)z[U][1]-=(it+rt)/2;var J=m.r,j=(it-rt)/2,Z=J/z[z.length-1][0],H=J/j*b;for(m.r=H*j,U=0;U<z.length;U++)z[U][0]*=Z,z[U][1]*=H;var X=[-(B=z[0])[0],B[1]],at=[B[0],B[1]],_=0;for(U=L.length-1;U>-1;U--)if(!(G=L[U]).hidden){var K=z[_+=1][0],nt=z[_][1];G.TL=[-K,nt],G.TR=[K,nt],G.BL=X,G.BR=at,G.pxmid=M(G.TR,G.BR),X=G.TL,at=G.TR}}function O(){var et=function k(){var et=Math.sqrt(N);return{x:et,y:-et}}();return[et.x,et.y]}}tt.exports=function(m,S){var b=m._context.staticPlot,n=m._fullLayout;a("funnelarea",n),w(S,m),v(S,n._size),i.makeTraceGroups(n._funnelarealayer,S,"trace").each(function(C){var p=A.select(this),F=C[0],D=F.trace;T(C),p.each(function(){var N=A.select(this).selectAll("g.slice").data(C);N.enter().append("g").classed("slice",!0),N.exit().remove(),N.each(function(O,B){if(O.hidden)A.select(this).selectAll("path,g").remove();else{O.pointNumber=O.i,O.curveNumber=D.index;var z=F.cx,U=F.cy,G=A.select(this),Q=G.selectAll("path.surface").data([O]);Q.enter().append("path").classed("surface",!0).style({"pointer-events":b?"none":"all"}),G.call(u,m,C);var rt="M"+(z+O.TR[0])+","+(U+O.TR[1])+h(O.TR,O.BR)+h(O.BR,O.BL)+h(O.BL,O.TL)+"Z";Q.attr("d",rt),o(m,O,F);var it=s.castOption(D.textposition,O.pts),ut=G.selectAll("g.slicetext").data(O.text&&"none"!==it?[0]:[]);ut.enter().append("g").classed("slicetext",!0),ut.exit().remove(),ut.each(function(){var J=i.ensureSingle(A.select(this),"text","",function(nt){nt.attr("data-notex",1)}),j=i.ensureUniformFontSize(m,y(D,O,n.font));J.text(O.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(g.font,j).call(l.convertToTspans,m);var H,X,at,Z=g.bBox(J.node()),_=Math.min(O.BL[1],O.BR[1])+U,K=Math.max(O.TL[1],O.TR[1])+U;X=Math.max(O.TL[0],O.BL[0])+z,at=Math.min(O.TR[0],O.BR[0])+z,(H=e(X,at,_,K,Z,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=j.size,f(D.type,H,n),C[B].transform=H,i.setTransormAndDisplay(J,H)})}});var k=A.select(this).selectAll("g.titletext").data(D.title.text?[0]:[]);k.enter().append("g").classed("titletext",!0),k.exit().remove(),k.each(function(){var O=i.ensureSingle(A.select(this),"text","",function(U){U.attr("data-notex",1)}),B=D.title.text;D._meta&&(B=i.templateString(B,D._meta)),O.text(B).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(g.font,D.title.font).call(l.convertToTspans,m);var z=d(F,n._size);O.attr("transform",E(z.x,z.y)+P(Math.min(1,z.scale))+E(z.tx,z.ty))})})})}},71858:function(tt,W,t){"use strict";var A=t(39898),g=t(63463),i=t(72597).resizeText;tt.exports=function(E){var l=E._fullLayout._funnelarealayer.selectAll(".trace");i(E,l,"funnelarea"),l.each(function(x){var r=x[0].trace,f=A.select(this);f.style({opacity:r.opacity}),f.selectAll("path.surface").each(function(a){A.select(this).call(g,a,r,E)})})}},21606:function(tt,W,t){"use strict";var A=t(82196),g=t(9012),i=t(41940),P=t(12663).axisHoverFormat,E=t(5386).fF,l=t(5386).si,x=t(50693),e=t(1426).extendFlat;tt.exports=e({z:{valType:"data_array",editType:"calc"},x:e({},A.x,{impliedEdits:{xtype:"array"}}),x0:e({},A.x0,{impliedEdits:{xtype:"scaled"}}),dx:e({},A.dx,{impliedEdits:{xtype:"scaled"}}),y:e({},A.y,{impliedEdits:{ytype:"array"}}),y0:e({},A.y0,{impliedEdits:{ytype:"scaled"}}),dy:e({},A.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:e({},A.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:e({},A.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:e({},A.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:e({},A.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:e({},A.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:e({},A.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:E(),texttemplate:l({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:i({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:e({},g.showlegend,{dflt:!1})},{transforms:void 0},x("",{cLetter:"z",autoColorDflt:!1}))},90757:function(tt,W,t){"use strict";var A=t(73972),g=t(71828),i=t(89298),P=t(42973),E=t(17562),l=t(78803),x=t(68296),e=t(4742),r=t(824),f=t(43907),a=t(70769),s=t(50606).BADNUM;function c(y){for(var v=[],w=y.length,d=0;d<w;d++){var o=y[d];o!==s&&v.push(o)}return v}tt.exports=function(v,w){var m,S,b,n,C,p,F,D,N,k,O,d=i.getFromId(v,w.xaxis||"x"),o=i.getFromId(v,w.yaxis||"y"),h=A.traceIs(w,"contour"),M=A.traceIs(w,"histogram"),T=A.traceIs(w,"gl2d"),L=h?"best":w.zsmooth;if(d._minDtick=0,o._minDtick=0,M)n=(O=E(v,w)).orig_x,m=O.x,S=O.x0,b=O.dx,D=O.orig_y,C=O.y,p=O.y0,F=O.dy,N=O.z;else{var B=w.z;g.isArray1D(B)?(x(w,d,o,"x","y",["z"]),m=w._x,C=w._y,B=w._z):(n=w.x?d.makeCalcdata(w,"x"):[],D=w.y?o.makeCalcdata(w,"y"):[],m=P(w,d,"x",n).vals,C=P(w,o,"y",D).vals,w._x=m,w._y=C),S=w.x0,b=w.dx,p=w.y0,F=w.dy,N=e(B,w,d,o)}function z(Z){L=w._input.zsmooth=w.zsmooth=!1,g.warn('cannot use zsmooth: "fast": '+Z)}function U(Z){if(Z.length>1){var H=(Z[Z.length-1]-Z[0])/(Z.length-1),X=Math.abs(H/100);for(k=0;k<Z.length-1;k++)if(Math.abs(Z[k+1]-Z[k]-H)>X)return!1}return!0}(d.rangebreaks||o.rangebreaks)&&(N=function u(y,v,w){for(var d=[],o=-1,h=0;h<w.length;h++)if(v[h]!==s){d[++o]=[];for(var M=0;M<w[h].length;M++)y[M]!==s&&d[o].push(w[h][M])}return d}(m,C,N),M||(m=c(m),C=c(C),w._x=m,w._y=C)),!M&&(h||w.connectgaps)&&(w._emptypoints=f(N),r(N,w._emptypoints)),w._islinear=!1,"log"===d.type||"log"===o.type?"fast"===L&&z("log axis found"):U(m)?U(C)?w._islinear=!0:"fast"===L&&z("y scale is not linear"):"fast"===L&&z("x scale is not linear");var G=g.maxRowLength(N),Q="scaled"===w.xtype?"":m,rt=a(w,Q,S,b,G,d),it="scaled"===w.ytype?"":C,ut=a(w,it,p,F,N.length,o);T||(w._extremes[d._id]=i.findExtremes(d,rt),w._extremes[o._id]=i.findExtremes(o,ut));var J={x:rt,y:ut,z:N,text:w._text||w.text,hovertext:w._hovertext||w.hovertext};if(w.xperiodalignment&&n&&(J.orig_x=n),w.yperiodalignment&&D&&(J.orig_y=D),Q&&Q.length===rt.length-1&&(J.xCenter=Q),it&&it.length===ut.length-1&&(J.yCenter=it),M&&(J.xRanges=O.xRanges,J.yRanges=O.yRanges,J.pts=O.pts),h||l(v,w,{vals:N,cLetter:"z"}),h&&w.contours&&"heatmap"===w.contours.coloring){var j={type:"contour"===w.type?"heatmap":"histogram2d",xcalendar:w.xcalendar,ycalendar:w.ycalendar};J.xfill=a(j,Q,S,b,G,d),J.yfill=a(j,it,p,F,N.length,o)}return[J]}},4742:function(tt,W,t){"use strict";var A=t(92770),g=t(71828),i=t(50606).BADNUM;tt.exports=function(E,l,x,e){var r,f,a,s,c,u;function y(M){if(A(M))return+M}if(l&&l.transpose){for(r=0,c=0;c<E.length;c++)r=Math.max(r,E[c].length);if(0===r)return!1;a=function(M){return M.length},s=function(M,T,L){return(M[L]||[])[T]}}else r=E.length,a=function(M,T){return M[T].length},s=function(M,T,L){return(M[T]||[])[L]};function w(M){if(l&&"carpet"!==l.type&&"contourcarpet"!==l.type&&M&&"category"===M.type&&l["_"+M._id.charAt(0)].length){var T=M._id.charAt(0),L={},m=l["_"+T+"CategoryMap"]||l[T];for(c=0;c<m.length;c++)L[m[c]]=c;return function(S){var b=L[M._categories[S]];return b+1?b:i}}return g.identity}var d=w(x),o=w(e);e&&"category"===e.type&&(r=e._categories.length);var M,T,L,h=new Array(r);for(c=0;c<r;c++)for(f=x&&"category"===x.type?x._categories.length:a(E,c),h[c]=new Array(f),u=0;u<f;u++)h[c][u]=y((M=E,T=o(c),L=d(u),T===i||L===i?i:s(M,T,L)));return h}},61243:function(tt){"use strict";tt.exports={min:"zmin",max:"zmax"}},68296:function(tt,W,t){"use strict";var A=t(71828),g=t(50606).BADNUM,i=t(42973);tt.exports=function(E,l,x,e,r,f){var a=E._length,s=l.makeCalcdata(E,e),c=x.makeCalcdata(E,r);s=i(E,l,e,s).vals,c=i(E,x,r,c).vals;var d,o,S,b,u=E.text,y=void 0!==u&&A.isArray1D(u),v=E.hovertext,w=void 0!==v&&A.isArray1D(v),h=A.distinctVals(s),M=h.vals,T=A.distinctVals(c),L=T.vals,m=[],n=L.length,C=M.length;for(d=0;d<f.length;d++)m[d]=A.init2dArray(n,C);y&&(S=A.init2dArray(n,C)),w&&(b=A.init2dArray(n,C));var p=A.init2dArray(n,C);for(d=0;d<a;d++)if(s[d]!==g&&c[d]!==g){var F=A.findBin(s[d]+h.minDiff/2,M),D=A.findBin(c[d]+T.minDiff/2,L);for(o=0;o<f.length;o++)m[o][D][F]=E[f[o]][d],p[D][F]=d;y&&(S[D][F]=u[d]),w&&(b[D][F]=v[d])}for(E["_"+e]=M,E["_"+r]=L,o=0;o<f.length;o++)E["_"+f[o]]=m[o];y&&(E._text=S),w&&(E._hovertext=b),l&&"category"===l.type&&(E["_"+e+"CategoryMap"]=M.map(function(B){return l._categories[B]})),x&&"category"===x.type&&(E["_"+r+"CategoryMap"]=L.map(function(B){return x._categories[B]})),E._after2before=p}},76382:function(tt,W,t){"use strict";var A=t(71828),g=t(67684),i=t(58623),P=t(73927),E=t(49901),l=t(1586),x=t(21606);tt.exports=function(r,f,a,s){function c(y,v){return A.coerce(r,f,x,y,v)}g(r,f,c,s)?(P(r,f,s,c),c("xhoverformat"),c("yhoverformat"),c("text"),c("hovertext"),c("hovertemplate"),i(c,s),E(r,f,c,s),c("hoverongaps"),c("connectgaps",A.isArray1D(f.z)&&!1!==f.zsmooth),l(r,f,s,c,{prefix:"",cLetter:"z"})):f.visible=!1}},43907:function(tt,W,t){"use strict";var A=t(71828).maxRowLength;tt.exports=function(i){var a,s,c,u,y,v,w,d,P=[],E={},l=[],x=i[0],e=[],r=[0,0,0],f=A(i);for(s=0;s<i.length;s++)for(a=e,e=x,x=i[s+1]||[],c=0;c<f;c++)void 0===e[c]&&((v=(void 0!==e[c-1]?1:0)+(void 0!==e[c+1]?1:0)+(void 0!==a[c]?1:0)+(void 0!==x[c]?1:0))?(0===s&&v++,0===c&&v++,s===i.length-1&&v++,c===e.length-1&&v++,v<4&&(E[[s,c]]=[s,c,v]),P.push([s,c,v])):l.push([s,c]));for(;l.length;){for(w={},d=!1,y=l.length-1;y>=0;y--)(v=((E[[(s=(u=l[y])[0])-1,c=u[1]]]||r)[2]+(E[[s+1,c]]||r)[2]+(E[[s,c-1]]||r)[2]+(E[[s,c+1]]||r)[2])/20)&&(w[u]=[s,c,v],l.splice(y,1),d=!0);if(!d)throw"findEmpties iterated with no new neighbors";for(u in w)E[u]=w[u],P.push(w[u])}return P.sort(function(o,h){return h[2]-o[2]})}},46248:function(tt,W,t){"use strict";var A=t(30211),g=t(71828),i=t(89298),P=t(21081).extractOpts;tt.exports=function(l,x,e,r,f){f||(f={});var S,b,n,C,a=f.isContour,s=l.cd[0],c=s.trace,u=l.xa,y=l.ya,v=s.x,w=s.y,d=s.z,o=s.xCenter,h=s.yCenter,M=s.zmask,T=c.zhoverformat,L=v,m=w;if(!1!==l.index){try{n=Math.round(l.index[1]),C=Math.round(l.index[0])}catch(it){return void g.error("Error hovering on heatmap, pointNumber must be [row,col], found:",l.index)}if(n<0||n>=d[0].length||C<0||C>d.length)return}else{if(A.inbox(x-v[0],x-v[v.length-1],0)>0||A.inbox(e-w[0],e-w[w.length-1],0)>0)return;if(a){var p;for(L=[2*v[0]-v[1]],p=1;p<v.length;p++)L.push((v[p]+v[p-1])/2);for(L.push([2*v[v.length-1]-v[v.length-2]]),m=[2*w[0]-w[1]],p=1;p<w.length;p++)m.push((w[p]+w[p-1])/2);m.push([2*w[w.length-1]-w[w.length-2]])}n=Math.max(0,Math.min(L.length-2,g.findBin(x,L))),C=Math.max(0,Math.min(m.length-2,g.findBin(e,m)))}var O,B,F=u.c2p(v[n]),D=u.c2p(v[n+1]),N=y.c2p(w[C]),k=y.c2p(w[C+1]);a?(D=F,S=(O=s.orig_x||v)[n],k=N,b=(B=s.orig_y||w)[C]):(O=s.orig_x||o||v,B=s.orig_y||h||w,S=o?O[n]:(O[n]+O[n+1])/2,b=h?B[C]:(B[C]+B[C+1])/2,u&&"category"===u.type&&(S=v[n]),y&&"category"===y.type&&(b=w[C]),c.zsmooth&&(F=D=u.c2p(S),N=k=y.c2p(b)));var z=d[C][n];if(M&&!M[C][n]&&(z=void 0),void 0!==z||c.hoverongaps){var U;Array.isArray(s.hovertext)&&Array.isArray(s.hovertext[C])?U=s.hovertext[C][n]:Array.isArray(s.text)&&Array.isArray(s.text[C])&&(U=s.text[C][n]);var G=P(c),rt=i.tickText({type:"linear",range:[G.min,G.max],hoverformat:T,_separators:u._separators,_numFormat:u._numFormat},z,"hover").text;return[g.extendFlat(l,{index:c._after2before?c._after2before[C][n]:[C,n],distance:l.maxHoverDistance,spikeDistance:l.maxSpikeDistance,x0:F,x1:D,y0:N,y1:k,xLabelVal:S,yLabelVal:b,zLabelVal:z,zLabel:rt,text:U})]}}},92165:function(tt,W,t){"use strict";tt.exports={attributes:t(21606),supplyDefaults:t(76382),calc:t(90757),plot:t(50347),colorbar:t(61243),style:t(70035),hoverPoints:t(46248),moduleType:"trace",name:"heatmap",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(tt,W,t){"use strict";var A=t(71828),i=[[-1,0],[1,0],[0,-1],[0,1]];function E(l,x,e){var f,a,s,c,u,y,v,w,d,o,h,M,T,r=0;for(c=0;c<x.length;c++){for(h=l[a=(f=x[c])[0]][s=f[1]],o=0,d=0,u=0;u<4;u++)(v=l[a+(y=i[u])[0]])&&void 0!==(w=v[s+y[1]])&&(0===o?M=T=w:(M=Math.min(M,w),T=Math.max(T,w)),d++,o+=w);if(0===d)throw"iterateInterp2d order is wrong: no defined neighbors";l[a][s]=o/d,void 0===h?d<4&&(r=1):(l[a][s]=(1+e)*l[a][s]-e*h,T>M&&(r=Math.max(r,Math.abs(l[a][s]-h)/(T-M))))}return r}tt.exports=function(x,e){var f,r=1;for(E(x,e),f=0;f<e.length&&!(e[f][2]<4);f++);for(e=e.slice(f),f=0;f<100&&r>.01;f++)r=E(x,e,.5-.25*Math.min(1,.5*r));return r>.01&&A.log("interp2d didn't converge quickly",r),x}},58623:function(tt,W,t){"use strict";var A=t(71828);tt.exports=function(i,P){i("texttemplate");var E=A.extendFlat({},P.font,{color:"auto",size:"auto"});A.coerceFont(i,"textfont",E)}},70769:function(tt,W,t){"use strict";var A=t(73972),g=t(71828).isArrayOrTypedArray;tt.exports=function(P,E,l,x,e,r){var u,y,v,f=[],a=A.traceIs(P,"contour"),s=A.traceIs(P,"histogram"),c=A.traceIs(P,"gl2d");if(g(E)&&E.length>1&&!s&&"category"!==r.type){var d=E.length;if(!(d<=e))return E.slice(0,a?e:e+1);if(a||c)f=E.slice(0,e);else if(1===e)f=[E[0]-.5,E[0]+.5];else{for(f=[1.5*E[0]-.5*E[1]],v=1;v<d;v++)f.push(.5*(E[v-1]+E[v]));f.push(1.5*E[d-1]-.5*E[d-2])}if(d<e){var o=f[f.length-1],h=o-f[f.length-2];for(v=d;v<e;v++)f.push(o+=h)}}else{var M=P[r._id.charAt(0)+"calendar"];for(u=s?r.r2c(l,0,M):g(E)&&1===E.length?E[0]:void 0===l?0:("log"===r.type?r.d2c:r.r2c)(l,0,M),y=x||1,v=a||c?0:-.5;v<e;v++)f.push(u+y*v)}return f}},50347:function(tt,W,t){"use strict";var A=t(39898),g=t(84267),i=t(73972),P=t(91424),E=t(89298),l=t(71828),x=t(63893),e=t(8225),r=t(7901),f=t(21081).extractOpts,a=t(21081).makeColorScaleFuncFromTrace,s=t(77922),u=t(18783).LINE_SPACING,y=t(3883),v=t(32396).STYLE,w="heatmap-label";function d(L){return L.selectAll("g."+w)}function o(L){d(L).remove()}function h(L,m){var S=m.length-2,b=l.constrain(l.findBin(L,m),0,S),n=m[b],p=l.constrain(b+(L-n)/(m[b+1]-n)-.5,0,S),F=Math.round(p),D=Math.abs(p-F);return p&&p!==S&&D?{bin0:F,frac:D,bin1:Math.round(F+D/(p-F))}:{bin0:F,bin1:F,frac:0}}function M(L,m){var S=m.length-1,b=l.constrain(l.findBin(L,m),0,S),n=m[b],p=(L-n)/(m[b+1]-n)||0;return p<=0?{bin0:b,bin1:b,frac:0}:p<.5?{bin0:b,bin1:b+1,frac:p}:{bin0:b+1,bin1:b,frac:1-p}}function T(L,m,S){L[m]=S[0],L[m+1]=S[1],L[m+2]=S[2],L[m+3]=Math.round(255*S[3])}tt.exports=function(L,m,S,b){var n=m.xaxis,C=m.yaxis;l.makeTraceGroups(b,S,"hm").each(function(p){var H,X,at,_,K,nt,et,st,F=A.select(this),D=p[0],N=D.trace,k=N.xgap||0,O=N.ygap||0,B=D.z,z=D.x,U=D.y,G=D.xCenter,Q=D.yCenter,rt=i.traceIs(N,"contour"),it=rt?"best":N.zsmooth,ut=B.length,J=l.maxRowLength(B),j=!1,Z=!1;for(nt=0;void 0===H&&nt<z.length-1;)H=n.c2p(z[nt]),nt++;for(nt=z.length-1;void 0===X&&nt>0;)X=n.c2p(z[nt]),nt--;for(X<H&&(at=X,X=H,H=at,j=!0),nt=0;void 0===_&&nt<U.length-1;)_=C.c2p(U[nt]),nt++;for(nt=U.length-1;void 0===K&&nt>0;)K=C.c2p(U[nt]),nt--;K<_&&(at=_,_=K,K=at,Z=!0),rt&&(G=z,Q=U,z=D.xfill,U=D.yfill);var dt="default";if(it?dt="best"===it?"smooth":"fast":N._islinear&&0===k&&0===O&&y()&&(dt="fast"),"fast"!==dt){var Tt="best"===it?0:.5;H=Math.max(-Tt*n._length,H),X=Math.min((1+Tt)*n._length,X),_=Math.max(-Tt*C._length,_),K=Math.min((1+Tt)*C._length,K)}var wt,St,bt=Math.round(X-H),Dt=Math.round(K-_);if(H>=n._length||X<=0||_>=C._length||K<=0)return F.selectAll("image").data([]).exit().remove(),void o(F);"fast"===dt?(wt=J,St=ut):(wt=bt,St=Dt);var Ut=document.createElement("canvas");Ut.width=wt,Ut.height=St;var Vt,te,Gt=Ut.getContext("2d"),Pt=a(N,{noNumericCheck:!0,returnArray:!0});"fast"===dt?(Vt=j?function(_r){return J-1-_r}:l.identity,te=Z?function(_r){return ut-1-_r}:l.identity):(Vt=function(_r){return l.constrain(Math.round(n.c2p(z[_r])-H),0,bt)},te=function(_r){return l.constrain(Math.round(C.c2p(U[_r])-_),0,Dt)});var Fe,Zt,Et,Rt,_t=te(0),kt=[_t,_t],zt=j?0:1,qt=Z?0:1,ae=0,oe=0,pe=0,ye=0;function Ot(_r,dn){if(void 0!==_r){var hn=Pt(_r);return hn[0]=Math.round(hn[0]),hn[1]=Math.round(hn[1]),hn[2]=Math.round(hn[2]),ae+=dn,oe+=hn[0]*dn,pe+=hn[1]*dn,ye+=hn[2]*dn,hn}return[0,0,0,0]}function It(_r,dn,hn,xn){var En=_r[hn.bin0];if(void 0===En)return Ot(void 0,1);var Vn=_r[hn.bin1],Gn=dn[hn.bin0],ia=dn[hn.bin1];return Ot(En+hn.frac*(Vn-En||0)+xn.frac*((Gn-En||0)+hn.frac*(void 0===Vn?void 0===ia?0:void 0===Gn?2*(ia-En):2*(2*ia-Gn-En)/3:void 0===ia?void 0===Gn?0:2*(2*En-Vn-Gn)/3:void 0===Gn?2*(2*ia-Vn-En)/3:ia+En-Vn-Gn)))}if("default"!==dt){var pt,gt=0;try{pt=new Uint8Array(wt*St*4)}catch(_r){pt=new Array(wt*St*4)}if("smooth"===dt){var Oe,Ae,je,vt=G||z,yt=Q||U,Yt=new Array(vt.length),Qt=new Array(yt.length),le=new Array(bt),he=G?M:h,ke=Q?M:h;for(nt=0;nt<vt.length;nt++)Yt[nt]=Math.round(n.c2p(vt[nt])-H);for(nt=0;nt<yt.length;nt++)Qt[nt]=Math.round(C.c2p(yt[nt])-_);for(nt=0;nt<bt;nt++)le[nt]=he(nt,Yt);for(et=0;et<Dt;et++)for(Ae=B[(Oe=ke(et,Qt)).bin0],je=B[Oe.bin1],nt=0;nt<bt;nt++,gt+=4)T(pt,gt,Rt=It(Ae,je,le[nt],Oe))}else for(et=0;et<ut;et++)for(Et=B[et],kt=te(et),nt=0;nt<J;nt++)Rt=Ot(Et[nt],1),T(pt,gt=4*(kt*J+Vt(nt)),Rt);var Ze=Gt.createImageData(wt,St);try{Ze.data.set(pt)}catch(_r){var Lr=Ze.data,fe=Lr.length;for(et=0;et<fe;et++)Lr[et]=pt[et]}Gt.putImageData(Ze,0,0)}else{var Ve=Math.floor(k/2),He=Math.floor(O/2);for(et=0;et<ut;et++)if(Et=B[et],kt.reverse(),kt[qt]=te(et+1),kt[0]!==kt[1]&&void 0!==kt[0]&&void 0!==kt[1])for(Fe=[Zt=Vt(0),Zt],nt=0;nt<J;nt++)Fe.reverse(),Fe[zt]=Vt(nt+1),Fe[0]!==Fe[1]&&void 0!==Fe[0]&&void 0!==Fe[1]&&(Rt=Ot(Et[nt],(Fe[1]-Fe[0])*(kt[1]-kt[0])),Gt.fillStyle="rgba("+Rt.join(",")+")",Gt.fillRect(Fe[0]+Ve,kt[0]+He,Fe[1]-Fe[0]-k,kt[1]-kt[0]-O))}oe=Math.round(oe/ae),pe=Math.round(pe/ae),ye=Math.round(ye/ae);var wr=g("rgb("+oe+","+pe+","+ye+")");L._hmpixcount=(L._hmpixcount||0)+ae,L._hmlumcount=(L._hmlumcount||0)+ae*wr.getLuminance();var ar=F.selectAll("image").data(p);ar.enter().append("svg:image").attr({xmlns:s.svg,preserveAspectRatio:"none"}),ar.attr({height:Dt,width:bt,x:H,y:_,"xlink:href":Ut.toDataURL("image/png")}),"fast"===dt&&!it&&ar.attr("style",v),o(F);var ie=N.texttemplate;if(ie){var ne=f(N),ve={type:"linear",range:[ne.min,ne.max],_separators:n._separators,_numFormat:n._numFormat},xe="histogram2dcontour"===N.type,Te="contour"===N.type,Pe=Te?ut-1:ut,Be=Te?1:0,Qe=Te?J-1:J,Ke=[];for(nt=Te?1:0;nt<Pe;nt++){var tr;if(Te)tr=D.y[nt];else if(xe){if(0===nt||nt===ut-1)continue;tr=D.y[nt]}else if(D.yCenter)tr=D.yCenter[nt];else{if(nt+1===ut&&void 0===D.y[nt+1])continue;tr=(D.y[nt]+D.y[nt+1])/2}var vr=Math.round(C.c2p(tr));if(!(0>vr||vr>C._length))for(et=Be;et<Qe;et++){var Ht;if(Te)Ht=D.x[et];else if(xe){if(0===et||et===J-1)continue;Ht=D.x[et]}else if(D.xCenter)Ht=D.xCenter[et];else{if(et+1===J&&void 0===D.x[et+1])continue;Ht=(D.x[et]+D.x[et+1])/2}var Nt=Math.round(n.c2p(Ht));if(!(0>Nt||Nt>n._length)){var Se=e({x:Ht,y:tr},N,L._fullLayout);Se.x=Ht,Se.y=tr;var Le=D.z[nt][et];void 0===Le?(Se.z="",Se.zLabel=""):(Se.z=Le,Se.zLabel=E.tickText(ve,Le,"hover").text);var We=D.text&&D.text[nt]&&D.text[nt][et];(void 0===We||!1===We)&&(We=""),Se.text=We;var rr=l.texttemplateString(ie,Se,L._fullLayout._d3locale,Se,N._meta||{});if(rr){var or=rr.split("<br>"),qe=or.length,De=0;for(st=0;st<qe;st++)De=Math.max(De,or[st].length);Ke.push({l:qe,c:De,t:rr,x:Nt,y:vr,z:Le})}}}}var sr=N.textfont,gr=sr.family,dr=sr.size,Pr=L._fullLayout.font.size;if(!dr||"auto"===dr){var qr=1/0,Er=1/0,Zr=0,rn=0;for(st=0;st<Ke.length;st++){var zr=Ke[st];if(Zr=Math.max(Zr,zr.l),rn=Math.max(rn,zr.c),st<Ke.length-1){var Pn=Ke[st+1],An=Math.abs(Pn.x-zr.x),lr=Math.abs(Pn.y-zr.y);An&&(qr=Math.min(qr,An)),lr&&(Er=Math.min(Er,lr))}}isFinite(qr)&&isFinite(Er)?(qr-=k,Er-=O,qr/=rn,Er/=Zr,qr/=u/2,Er/=u,dr=Math.min(Math.floor(qr),Math.floor(Er),Pr)):dr=Pr}if(dr<=0||!isFinite(dr))return;d(F).data(Ke).enter().append("g").classed(w,1).append("text").attr("text-anchor","middle").each(function(_r){var dn=A.select(this),hn=sr.color;(!hn||"auto"===hn)&&(hn=r.contrast("rgba("+Pt(_r.z).join()+")")),dn.attr("data-notex",1).call(x.positionText,function(_r){return _r.x}(_r),function(_r){return _r.y-dr*(_r.l*u/2-1)}(_r)).call(P.font,gr,dr,hn).text(_r.t).call(x.convertToTspans,L)})}})}},70035:function(tt,W,t){"use strict";var A=t(39898);tt.exports=function(i){A.select(i).selectAll(".hm image").style("opacity",function(P){return P.trace.opacity})}},49901:function(tt){"use strict";tt.exports=function(t,A,g){!1===g("zsmooth")&&(g("xgap"),g("ygap")),g("zhoverformat")}},67684:function(tt,W,t){"use strict";var A=t(92770),g=t(71828),i=t(73972);function P(l,x){var e=x(l);return"scaled"===(e?x(l+"type","array"):"scaled")&&(x(l+"0"),x("d"+l)),e}tt.exports=function(x,e,r,f,a,s){var u,y,c=r("z");if(a=a||"x",s=s||"y",void 0===c||!c.length)return 0;if(g.isArray1D(x.z)){u=r(a),y=r(s);var v=g.minRowLength(u),w=g.minRowLength(y);if(0===v||0===w)return 0;e._length=Math.min(v,w,c.length)}else{if(u=P(a,r),y=P(s,r),!function E(l){for(var f,x=!0,e=!1,r=!1,a=0;a<l.length;a++){if(!g.isArrayOrTypedArray(f=l[a])){x=!1;break}f.length>0&&(e=!0);for(var s=0;s<f.length;s++)if(A(f[s])){r=!0;break}}return x&&e&&r}(c))return 0;r("transpose"),e._length=null}return"heatmapgl"===x.type||i.getComponentMethod("calendars","handleTraceDefaults")(x,e,[a,s],f),!0}},16063:function(tt,W,t){"use strict";for(var A=t(21606),g=t(50693),i=t(1426).extendFlat,P=t(30962).overrideAll,E=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],l={},x=0;x<E.length;x++){var e=E[x];l[e]=A[e]}l.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},i(l,g("",{cLetter:"z",autoColorDflt:!1})),tt.exports=P(l,"calc","nested")},59560:function(tt,W,t){"use strict";var A=t(9330).gl_heatmap2d,g=t(89298),i=t(78614);function P(e,r){this.scene=e,this.uid=r,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=A(e.glplot,this.options),this.heatmap._trace=this}var E=P.prototype;E.handlePick=function(e){var r=this.options,f=r.shape,a=e.pointId,s=a%f[0],c=Math.floor(a/f[0]);return{trace:this,dataCoord:e.dataCoord,traceCoord:[r.x[s],r.y[c],r.z[a]],textLabel:this.textLabels[a],name:this.name,pointIndex:[c,s],hoverinfo:this.hoverinfo}},E.update=function(e,r){var f=r[0];this.index=e.index,this.name=e.name,this.hoverinfo=e.hoverinfo;var a=f.z;this.options.z=[].concat.apply([],a),this.options.shape=[a[0].length,a.length],this.options.x=f.x,this.options.y=f.y,this.options.zsmooth=e.zsmooth;var u=function l(e){for(var r=e.colorscale,f=e.zmin,a=e.zmax,s=r.length,c=new Array(s),u=new Array(4*s),y=0;y<s;y++){var v=r[y],w=i(v[1]);c[y]=f+v[0]*(a-f);for(var d=0;d<4;d++)u[4*y+d]=w[d]}return{colorLevels:c,colorValues:u}}(e);this.options.colorLevels=u.colorLevels,this.options.colorValues=u.colorValues,this.textLabels=[].concat.apply([],e.text),this.heatmap.update(this.options);var w,d,y=this.scene.xaxis,v=this.scene.yaxis;!1===e.zsmooth&&(w={ppad:f.x[1]-f.x[0]},d={ppad:f.y[1]-f.y[0]}),e._extremes[y._id]=g.findExtremes(y,f.x,w),e._extremes[v._id]=g.findExtremes(v,f.y,d)},E.dispose=function(){this.heatmap.dispose()},tt.exports=function x(e,r,f){var a=new P(e,r.uid);return a.update(r,f),a}},19600:function(tt,W,t){"use strict";var A=t(71828),g=t(67684),i=t(1586),P=t(16063);tt.exports=function(l,x,e,r){function f(s,c){return A.coerce(l,x,P,s,c)}g(l,x,f,r)?(f("text"),f("zsmooth"),i(l,x,r,f,{prefix:"",cLetter:"z"})):x.visible=!1}},3325:function(tt,W,t){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),tt.exports={attributes:t(16063),supplyDefaults:t(19600),colorbar:t(61243),calc:t(90757),plot:t(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:t(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(tt,W,t){"use strict";var A=t(1486),g=t(12663).axisHoverFormat,i=t(5386).fF,P=t(5386).si,E=t(41940),l=t(17656),x=t(72406),e=t(1426).extendFlat;tt.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:g("x"),yhoverformat:g("y"),text:e({},A.text,{}),hovertext:e({},A.hovertext,{}),orientation:A.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:l("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:l("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({},{keys:x.eventDataKeys}),texttemplate:P({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:e({},A.textposition,{arrayOk:!1}),textfont:E({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:E({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:E({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:A.insidetextanchor,textangle:A.textangle,cliponaxis:A.cliponaxis,constraintext:A.constraintext,marker:A.marker,offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,selected:A.selected,unselected:A.unselected,_deprecated:{bardir:A._deprecated.bardir}}},42174:function(tt){"use strict";tt.exports=function(t,A){for(var g=t.length,i=0,P=0;P<g;P++)A[P]?(t[P]/=A[P],i+=t[P]):t[P]=null;return i}},17656:function(tt){"use strict";tt.exports=function(t,A){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(tt,W,t){"use strict";var A=t(92770);tt.exports={count:function(g,i,P){return P[g]++,1},sum:function(g,i,P,E){var l=E[i];return A(l)?(l=Number(l),P[g]+=l,l):0},avg:function(g,i,P,E,l){var x=E[i];return A(x)&&(x=Number(x),P[g]+=x,l[g]++),0},min:function(g,i,P,E){var l=E[i];if(A(l)){if(l=Number(l),!A(P[g]))return P[g]=l,l;if(P[g]>l){var x=l-P[g];return P[g]=l,x}}return 0},max:function(g,i,P,E){var l=E[i];if(A(l)){if(l=Number(l),!A(P[g]))return P[g]=l,l;if(P[g]<l){var x=l-P[g];return P[g]=l,x}}return 0}}},40965:function(tt,W,t){"use strict";var A=t(50606),g=A.ONEAVGYEAR,i=A.ONEAVGMONTH,P=A.ONEDAY,E=A.ONEHOUR,l=A.ONEMIN,x=A.ONESEC,e=t(89298).tickIncrement;function r(c,u,y,v){if(c*u<=0)return 1/0;for(var w=Math.abs(u-c),d="date"===y.type,o=f(w,d),h=0;h<10;h++){var M=f(80*o,d);if(o===M)break;if(!a(M,c,u,d,y,v))break;o=M}return o}function f(c,u){return u&&c>x?c>P?c>1.1*g?g:c>1.1*i?i:P:c>E?E:c>l?l:x:Math.pow(10,Math.floor(Math.log(c)/Math.LN10))}function a(c,u,y,v,w,d){if(v&&c>P){var o=s(u,w,d),h=s(y,w,d),M=c===g?0:1;return o[M]!==h[M]}return Math.floor(y/c)-Math.floor(u/c)>.1}function s(c,u,y){var v=u.c2d(c,g,y).split("-");return""===v[0]&&(v.unshift(),v[0]="-"+v[0]),v}tt.exports=function(u,y,v,w,d){var b,n,o=-1.1*y,h=-.1*y,M=u-h,T=v[0],L=v[1],m=Math.min(r(T+h,T+M,w,d),r(L+h,L+M,w,d)),S=Math.min(r(T+o,T+h,w,d),r(L+o,L+h,w,d));if(m>S&&S<Math.abs(L-T)/4e3?(b=m,n=!1):(b=Math.min(m,S),n=!0),"date"===w.type&&b>P){var C=b===g?1:6,p=b===g?"M12":"M1";return function(F,D){var N=w.c2d(F,g,d),k=N.indexOf("-",C);k>0&&(N=N.substr(0,k));var O=w.d2c(N,0,d);if(O<F){var B=e(O,p,!1,d);(O+B)/2<F+u&&(O=B)}return D&&n?e(O,p,!0,d):O}}return function(F,D){var N=b*Math.round(F/b);return N+b/10<F&&N+.9*b<F+u&&(N+=b),D&&n&&(N-=b),N}}},72138:function(tt,W,t){"use strict";var A=t(92770),g=t(71828),i=t(73972),P=t(89298),E=t(75341),l=t(59575),x=t(36362),e=t(42174),r=t(40965);function a(y,v,w,d,o){var S,b,n,C,p,F,D,h=d+"bins",M=y._fullLayout,L=M._histogramBinOpts[v["_"+d+"bingroup"]],m="overlay"===M.barmode,N=function(bt){return w.r2c(bt,0,C)},k=function(bt){return w.c2r(bt,0,C)},O="date"===w.type?function(bt){return bt||0===bt?g.cleanDate(bt,null,C):null}:function(bt){return A(bt)?Number(bt):null};function B(bt,Dt,Ft){Dt[bt+"Found"]?(Dt[bt]=O(Dt[bt]),null===Dt[bt]&&(Dt[bt]=Ft[bt])):(F[bt]=Dt[bt]=Ft[bt],g.nestedProperty(b[0],h+"."+bt).set(Ft[bt]))}if(v["_"+d+"autoBinFinished"])delete v["_"+d+"autoBinFinished"];else{b=L.traces;var z=[],U=!0,G=!1,Q=!1;for(S=0;S<b.length;S++)if((n=b[S]).visible){var rt=L.dirs[S];p=n["_"+rt+"pos0"]=w.makeCalcdata(n,rt),z=g.concat(z,p),delete n["_"+d+"autoBinFinished"],!0===v.visible&&(U?U=!1:(delete n._autoBin,n["_"+d+"autoBinFinished"]=1),i.traceIs(n,"2dMap")&&(G=!0),"histogram2dcontour"===n.type&&(Q=!0))}var it=P.autoBin(z,w,L.nbins,G,C=b[0][d+"calendar"],L.sizeFound&&L.size),ut=b[0]._autoBin={};if(F=ut[L.dirs[0]]={},Q&&(L.size||(it.start=k(P.tickIncrement(N(it.start),it.size,!0,C))),void 0===L.end&&(it.end=k(P.tickIncrement(N(it.end),it.size,!1,C)))),m&&!i.traceIs(v,"2dMap")&&0===it._dataSpan&&"category"!==w.type&&"multicategory"!==w.type){if(o)return[it,p,!0];it=function s(y,v,w,d,o){var S,b,n,h=y._fullLayout,M=function c(y,v){for(var w=v.xaxis,d=v.yaxis,o=v.orientation,h=[],M=y._fullData,T=0;T<M.length;T++){var L=M[T];"histogram"===L.type&&!0===L.visible&&L.orientation===o&&L.xaxis===w&&L.yaxis===d&&h.push(L)}return h}(y,v),T=!1,L=1/0,m=[v];for(S=0;S<M.length;S++)if((b=M[S])===v)T=!0;else if(T){var C=a(y,b,w,d,!0),p=C[0],F=C[2];b["_"+d+"autoBinFinished"]=1,b["_"+d+"pos0"]=C[1],F?m.push(b):L=Math.min(L,p.size)}else n=h._histogramBinOpts[b["_"+d+"bingroup"]],L=Math.min(L,n.size||b[o].size);var D=new Array(m.length);for(S=0;S<m.length;S++)for(var N=m[S]["_"+d+"pos0"],k=0;k<N.length;k++)if(void 0!==N[k]){D[S]=N[k];break}for(isFinite(L)||(L=g.distinctVals(D).minDiff),S=0;S<m.length;S++){var O=(b=m[S])[d+"calendar"],B={start:w.c2r(D[S]-L/2,0,O),end:w.c2r(D[S]+L/2,0,O),size:L};b._input[o]=b[o]=B,(n=h._histogramBinOpts[b["_"+d+"bingroup"]])&&g.extendFlat(n,B)}return v[o]}(y,v,w,d,h)}(D=n.cumulative||{}).enabled&&"include"!==D.currentbin&&("decreasing"===D.direction?it.start=k(P.tickIncrement(N(it.start),it.size,!0,C)):it.end=k(P.tickIncrement(N(it.end),it.size,!1,C))),L.size=it.size,L.sizeFound||(F.size=it.size,g.nestedProperty(b[0],h+".size").set(it.size)),B("start",L,it),B("end",L,it)}p=v["_"+d+"pos0"],delete v["_"+d+"pos0"];var J=v._input[h]||{},j=g.extendFlat({},L),Z=L.start,H=w.r2l(J.start),X=void 0!==H;if((L.startFound||X)&&H!==w.r2l(Z)){var at=X?H:g.aggNums(Math.min,null,p),_={type:"category"===w.type||"multicategory"===w.type?"linear":w.type,r2l:w.r2l,dtick:L.size,tick0:Z,calendar:C,range:[at,P.tickIncrement(at,L.size,!1,C)].map(w.l2r)},K=P.tickFirst(_);K>w.r2l(at)&&(K=P.tickIncrement(K,L.size,!0,C)),j.start=w.l2r(K),X||g.nestedProperty(v,h+".start").set(j.start)}var nt=L.end,et=w.r2l(J.end),st=void 0!==et;if((L.endFound||st)&&et!==w.r2l(nt)){var dt=st?et:g.aggNums(Math.max,null,p);j.end=w.l2r(dt),st||g.nestedProperty(v,h+".start").set(j.end)}var Tt="autobin"+d;return!1===v._input[Tt]&&(v._input[h]=g.extendFlat({},v[h]||{}),delete v._input[Tt],delete v[Tt]),[j,p]}tt.exports={calc:function f(y,v){var S,Q,rt,it,w=[],d=[],o="h"===v.orientation,h=P.getFromId(y,o?v.yaxis:v.xaxis),M=o?"y":"x",T={x:"y",y:"x"}[M],L=v[M+"calendar"],m=v.cumulative,b=a(y,v,h,M),n=b[0],C=b[1],p="string"==typeof n.size,F=[],D=p?F:n,N=[],k=[],O=[],B=0,z=v.histnorm,U=v.histfunc,G=-1!==z.indexOf("density");m.enabled&&G&&(z=z.replace(/ ?density$/,""),G=!1);var at,J="max"===U||"min"===U?null:0,j=l.count,Z=x[z],H=!1,X=function(Gt){return h.r2c(Gt,0,L)};for(g.isArrayOrTypedArray(v[T])&&"count"!==U&&(at=v[T],H="avg"===U,j=l[U]),S=X(n.start),rt=X(n.end)+(S-P.tickIncrement(S,n.size,!1,L))/1e6;S<rt&&w.length<1e6&&(Q=P.tickIncrement(S,n.size,!1,L),w.push((S+Q)/2),d.push(J),O.push([]),F.push(S),G&&N.push(1/(Q-S)),H&&k.push(0),!(Q<=S));)S=Q;F.push(S),!p&&"date"===h.type&&(D={start:X(D.start),end:X(D.end),size:D.size}),y._fullLayout._roundFnOpts||(y._fullLayout._roundFnOpts={});var _=v["_"+M+"bingroup"],K={leftGap:1/0,rightGap:1/0};_&&(y._fullLayout._roundFnOpts[_]||(y._fullLayout._roundFnOpts[_]=K),K=y._fullLayout._roundFnOpts[_]);var Dt,nt=d.length,et=!0,st=K.leftGap,dt=K.rightGap,Tt={};for(S=0;S<C.length;S++){var bt=C[S];(it=g.findBin(bt,D))>=0&&it<nt&&(B+=j(it,S,d,at,k),et&&O[it].length&&bt!==C[O[it][0]]&&(et=!1),O[it].push(S),Tt[S]=it,st=Math.min(st,bt-F[it]),dt=Math.min(dt,F[it+1]-bt))}K.leftGap=st,K.rightGap=dt,et||(Dt=function(Gt,Pt){return function(){var Vt=y._fullLayout._roundFnOpts[_];return r(Vt.leftGap,Vt.rightGap,F,h,L)(Gt,Pt)}}),H&&(B=e(d,k)),Z&&Z(d,B,N),m.enabled&&function u(y,v,w){var d,o,h;function M(L){h=y[L],y[L]/=2}function T(L){y[L]=h+(o=y[L])/2,h+=o}if("half"===w)if("increasing"===v)for(M(0),d=1;d<y.length;d++)T(d);else for(M(y.length-1),d=y.length-2;d>=0;d--)T(d);else if("increasing"===v){for(d=1;d<y.length;d++)y[d]+=y[d-1];"exclude"===w&&(y.unshift(0),y.pop())}else{for(d=y.length-2;d>=0;d--)y[d]+=y[d+1];"exclude"===w&&(y.push(0),y.shift())}}(d,m.direction,m.currentbin);var Ft=Math.min(w.length,d.length),Mt=[],wt=0,St=Ft-1;for(S=0;S<Ft;S++)if(d[S]){wt=S;break}for(S=Ft-1;S>=wt;S--)if(d[S]){St=S;break}for(S=wt;S<=St;S++)if(A(w[S])&&A(d[S])){var Ut={p:w[S],s:d[S],b:0};m.enabled||(Ut.pts=O[S],et?Ut.ph0=Ut.ph1=O[S].length?C[O[S][0]]:w[S]:(v._computePh=!0,Ut.ph0=Dt(F[S]),Ut.ph1=Dt(F[S+1],!0))),Mt.push(Ut)}return 1===Mt.length&&(Mt[0].width1=P.tickIncrement(Mt[0].p,n.size,!1,L)-Mt[0].p),E(Mt,v),g.isArrayOrTypedArray(v.selectedpoints)&&g.tagSelected(Mt,v,Tt),Mt},calcAllAutoBins:a}},72406:function(tt){"use strict";tt.exports={eventDataKeys:["binNumber"]}},82222:function(tt,W,t){"use strict";var A=t(71828),g=t(41675),i=t(73972).traceIs,P=t(26125),E=A.nestedProperty,l=t(99082).getAxisGroup,x=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],e=["x","y"];tt.exports=function(f,a){var v,w,d,o,h,M,T,s=a._histogramBinOpts={},c=[],u={},y=[];function L(Q,rt){return A.coerce(v._input,v,v._module.attributes,Q,rt)}function m(Q){return"v"===Q.orientation?"x":"y"}function b(Q,rt,it){var ut=Q.uid+"__"+it;rt||(rt=ut);var J=function S(Q,rt){return g.getFromTrace({_fullLayout:a},Q,rt).type}(Q,it),j=Q[it+"calendar"]||"",Z=s[rt],H=!0;Z&&(J===Z.axType&&j===Z.calendar?(H=!1,Z.traces.push(Q),Z.dirs.push(it)):(rt=ut,J!==Z.axType&&A.warn(["Attempted to group the bins of trace",Q.index,"set on a","type:"+J,"axis","with bins on","type:"+Z.axType,"axis."].join(" ")),j!==Z.calendar&&A.warn(["Attempted to group the bins of trace",Q.index,"set with a",j,"calendar","with bins",Z.calendar?"on a "+Z.calendar+" calendar":"w/o a set calendar"].join(" ")))),H&&(s[rt]={traces:[Q],dirs:[it],axType:J,calendar:Q[it+"calendar"]||""}),Q["_"+it+"bingroup"]=rt}for(h=0;h<f.length;h++)i(v=f[h],"histogram")&&(c.push(v),delete v._xautoBinFinished,delete v._yautoBinFinished,i(v,"2dMap")||P(v._input,v,a,L));var n=a._alignmentOpts||{};for(h=0;h<c.length;h++){if(d="",!i(v=c[h],"2dMap")){if(o=m(v),"group"===a.barmode&&v.alignmentgroup){var p=l(a,v[o+"axis"])+v.orientation;(n[p]||{})[v.alignmentgroup]&&(d=p)}!d&&"overlay"!==a.barmode&&(d=l(a,v.xaxis)+l(a,v.yaxis)+m(v))}d?(u[d]||(u[d]=[]),u[d].push(v)):y.push(v)}for(d in u)if(1!==(w=u[d]).length){var F=!1;for(w.length&&(v=w[0],F=L("bingroup")),d=F||d,h=0;h<w.length;h++){var D=(v=w[h])._input.bingroup;D&&D!==d&&A.warn(["Trace",v.index,"must match","within bingroup",d+".","Ignoring its bingroup:",D,"setting."].join(" ")),v.bingroup=d,b(v,d,m(v))}}else y.push(w[0]);for(h=0;h<y.length;h++){v=y[h];var N=L("bingroup");if(i(v,"2dMap"))for(T=0;T<2;T++){var k=L((o=e[T])+"bingroup",N?N+"__"+o:null);b(v,k,o)}else b(v,N,m(v))}for(d in s){var O=s[d];for(w=O.traces,M=0;M<x.length;M++){var U,G,B=x[M],z=B.name;if("nbins"!==z||!O.sizeFound){for(h=0;h<w.length;h++){if(void 0!==E((v=w[h])._input,U=B.aStr[o=O.dirs[h]]).get()){O[z]=L(U),O[z+"Found"]=!0;break}(G=(v._autoBin||{})[o]||{})[z]&&E(v,U).set(G[z])}if("start"===z||"end"===z)for(;h<w.length;h++)(v=w[h])["_"+o+"bingroup"]&&L(U,(G=(v._autoBin||{})[o]||{})[z]);"nbins"===z&&!O.sizeFound&&!O.nbinsFound&&(v=w[0],O[z]=L(U))}}}}},11385:function(tt,W,t){"use strict";var A=t(73972),g=t(71828),i=t(7901),P=t(90769).handleText,E=t(98340),l=t(7745);tt.exports=function(e,r,f,a){function s(S,b){return g.coerce(e,r,l,S,b)}var c=s("x"),u=s("y");s("cumulative.enabled")&&(s("cumulative.direction"),s("cumulative.currentbin")),s("text");var v=s("textposition");P(e,r,a,s,v,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat");var w=s("orientation",u&&!c?"h":"v"),d="v"===w?"x":"y",o="v"===w?"y":"x",h=c&&u?Math.min(g.minRowLength(c)&&g.minRowLength(u)):g.minRowLength(r[d]||[]);if(h){r._length=h,A.getComponentMethod("calendars","handleTraceDefaults")(e,r,["x","y"],a),r[o]&&s("histfunc"),s("histnorm"),s("autobin"+d),E(e,r,s,f,a),g.coerceSelectionMarkerOpacity(r,s);var L=(r.marker.line||{}).color,m=A.getComponentMethod("errorbars","supplyDefaults");m(e,r,L||i.defaultLine,{axis:"y"}),m(e,r,L||i.defaultLine,{axis:"x",inherit:"y"})}else r.visible=!1}},84402:function(tt){"use strict";tt.exports=function(t,A,g,i,P){if(t.x="xVal"in A?A.xVal:A.x,t.y="yVal"in A?A.yVal:A.y,"zLabelVal"in A&&(t.z=A.zLabelVal),A.xa&&(t.xaxis=A.xa),A.ya&&(t.yaxis=A.ya),!(g.cumulative||{}).enabled){var l,E=Array.isArray(P)?i[0].pts[P[0]][P[1]]:i[P].pts;if(t.pointNumbers=E,t.binNumber=t.pointNumber,delete t.pointNumber,delete t.pointIndex,g._indexToPoints){l=[];for(var x=0;x<E.length;x++)l=l.concat(g._indexToPoints[E[x]])}else l=E;t.pointIndices=l}return t}},76440:function(tt,W,t){"use strict";var A=t(95423).hoverPoints,g=t(89298).hoverLabelText;tt.exports=function(P,E,l,x,e){var r=A(P,E,l,x,e);if(r){var f=(P=r[0]).cd[P.index],a=P.cd[0].trace;if(!a.cumulative.enabled){var s="h"===a.orientation?"y":"x";P[s+"Label"]=g(P[s+"a"],[f.ph0,f.ph1],a[s+"hoverformat"])}return r}}},36071:function(tt,W,t){"use strict";tt.exports={attributes:t(7745),layoutAttributes:t(43641),supplyDefaults:t(11385),crossTraceDefaults:t(82222),supplyLayoutDefaults:t(13957),calc:t(72138).calc,crossTraceCalc:t(11661).crossTraceCalc,plot:t(17295).plot,layerName:"barlayer",style:t(16688).style,styleOnSelect:t(16688).styleOnSelect,colorbar:t(4898),hoverPoints:t(76440),selectPoints:t(81974),eventData:t(84402),moduleType:"trace",name:"histogram",basePlotModule:t(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(tt){"use strict";tt.exports={percent:function(W,t){for(var A=W.length,g=100/t,i=0;i<A;i++)W[i]*=g},probability:function(W,t){for(var A=W.length,g=0;g<A;g++)W[g]/=t},density:function(W,t,A,g){var i=W.length;g=g||1;for(var P=0;P<i;P++)W[P]*=A[P]*g},"probability density":function(W,t,A,g){var i=W.length;g&&(t/=g);for(var P=0;P<i;P++)W[P]*=A[P]/t}}},35361:function(tt,W,t){"use strict";var A=t(7745),g=t(17656),i=t(21606),P=t(9012),E=t(12663).axisHoverFormat,l=t(5386).fF,x=t(5386).si,e=t(50693),r=t(1426).extendFlat;tt.exports=r({x:A.x,y:A.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:A.histnorm,histfunc:A.histfunc,nbinsx:A.nbinsx,xbins:g("x"),nbinsy:A.nbinsy,ybins:g("y"),autobinx:A.autobinx,autobiny:A.autobiny,bingroup:r({},A.bingroup,{}),xbingroup:r({},A.bingroup,{}),ybingroup:r({},A.bingroup,{}),xgap:i.xgap,ygap:i.ygap,zsmooth:i.zsmooth,xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z",1),hovertemplate:l({},{keys:"z"}),texttemplate:x({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:i.textfont,showlegend:r({},P.showlegend,{dflt:!1})},e("",{cLetter:"z",autoColorDflt:!1}))},17562:function(tt,W,t){"use strict";var A=t(71828),g=t(89298),i=t(59575),P=t(36362),E=t(42174),l=t(40965),x=t(72138).calcAllAutoBins;function e(a,s,c,u){var v,y=new Array(a);if(u)for(v=0;v<a;v++)y[v]=1/(s[v+1]-s[v]);else{var w=1/c;for(v=0;v<a;v++)y[v]=w}return y}function r(a,s){return{start:a(s.start),end:a(s.end),size:s.size}}function f(a,s,c,u,y,v){var w,d=a.length-1,o=new Array(d),h=l(c,u,a,y,v);for(w=0;w<d;w++){var M=(s||[])[w];o[w]=void 0===M?[h(a[w]),h(a[w+1],!0)]:[M,M]}return o}tt.exports=function(s,c){var T,L,m,S,u=g.getFromId(s,c.xaxis),y=g.getFromId(s,c.yaxis),v=c.xcalendar,w=c.ycalendar,d=function(Rt){return u.r2c(Rt,0,v)},o=function(Rt){return y.r2c(Rt,0,w)},b=x(s,c,u,"x"),n=b[0],C=b[1],p=x(s,c,y,"y"),F=p[0],D=p[1],N=c._length;C.length>N&&C.splice(N,C.length-N),D.length>N&&D.splice(N,D.length-N);var k=[],O=[],B=[],z="string"==typeof n.size,U="string"==typeof F.size,G=[],Q=[],rt=z?G:n,it=U?Q:F,ut=0,J=[],j=[],Z=c.histnorm,H=c.histfunc,X=-1!==Z.indexOf("density"),_="max"===H||"min"===H?null:0,K=i.count,nt=P[Z],et=!1,st=[],dt=[],Tt="z"in c?c.z:"marker"in c&&Array.isArray(c.marker.color)?c.marker.color:"";Tt&&"count"!==H&&(et="avg"===H,K=i[H]);var bt=n.size,Dt=d(n.start),Ft=d(n.end)+(Dt-g.tickIncrement(Dt,bt,!1,v))/1e6;for(T=Dt;T<Ft;T=g.tickIncrement(T,bt,!1,v))O.push(_),G.push(T),et&&B.push(0);G.push(T);var Mt=O.length,wt=(T-Dt)/Mt,St=u.c2r(Dt+wt/2,0,v),Ut=F.size,Gt=o(F.start),Pt=o(F.end)+(Gt-g.tickIncrement(Gt,Ut,!1,w))/1e6;for(T=Gt;T<Pt;T=g.tickIncrement(T,Ut,!1,w)){k.push(O.slice()),Q.push(T);var Vt=new Array(Mt);for(L=0;L<Mt;L++)Vt[L]=[];j.push(Vt),et&&J.push(B.slice())}Q.push(T);var te=k.length,_t=(T-Gt)/te,kt=function(Rt){return y.c2r(Rt,0,w)}(Gt+_t/2);X&&(st=e(O.length,rt,wt,z),dt=e(k.length,it,_t,U)),!z&&"date"===u.type&&(rt=r(d,rt)),!U&&"date"===y.type&&(it=r(o,it));var zt=!0,qt=!0,ae=new Array(Mt),oe=new Array(te),pe=1/0,ye=1/0,Fe=1/0,Zt=1/0;for(T=0;T<N;T++){var Ct=C[T],Et=D[T];m=A.findBin(Ct,rt),S=A.findBin(Et,it),m>=0&&m<Mt&&S>=0&&S<te&&(ut+=K(m,T,k[S],Tt,J[S]),j[S][m].push(T),zt&&(void 0===ae[m]?ae[m]=Ct:ae[m]!==Ct&&(zt=!1)),qt&&(void 0===oe[S]?oe[S]=Et:oe[S]!==Et&&(qt=!1)),pe=Math.min(pe,Ct-G[m]),ye=Math.min(ye,G[m+1]-Ct),Fe=Math.min(Fe,Et-Q[S]),Zt=Math.min(Zt,Q[S+1]-Et))}if(et)for(S=0;S<te;S++)ut+=E(k[S],J[S]);if(nt)for(S=0;S<te;S++)nt(k[S],ut,st,dt[S]);return{x:C,xRanges:f(G,zt&&ae,pe,ye,u,v),x0:St,dx:wt,y:D,yRanges:f(Q,qt&&oe,Fe,Zt,y,w),y0:kt,dy:_t,z:k,pts:j}}},93888:function(tt,W,t){"use strict";var A=t(71828),g=t(75238),i=t(49901),P=t(1586),E=t(58623),l=t(35361);tt.exports=function(e,r,f,a){function s(c,u){return A.coerce(e,r,l,c,u)}g(e,r,s,a),!1!==r.visible&&(i(e,r,s,a),P(e,r,a,s,{prefix:"",cLetter:"z"}),s("hovertemplate"),E(s,a),s("xhoverformat"),s("yhoverformat"))}},76128:function(tt,W,t){"use strict";var A=t(46248),g=t(89298).hoverLabelText;tt.exports=function(P,E,l,x,e){var r=A(P,E,l,x,e);if(r){var f=(P=r[0]).index,c=P.cd[0],u=c.trace,y=c.xRanges[f[1]],v=c.yRanges[f[0]];return P.xLabel=g(P.xa,[y[0],y[1]],u.xhoverformat),P.yLabel=g(P.ya,[v[0],v[1]],u.yhoverformat),r}}},43905:function(tt,W,t){"use strict";tt.exports={attributes:t(35361),supplyDefaults:t(93888),crossTraceDefaults:t(82222),calc:t(90757),plot:t(50347),layerName:"heatmaplayer",colorbar:t(61243),style:t(70035),hoverPoints:t(76128),eventData:t(84402),moduleType:"trace",name:"histogram2d",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(tt,W,t){"use strict";var A=t(73972),g=t(71828);tt.exports=function(P,E,l,x){var e=l("x"),r=l("y"),f=g.minRowLength(e),a=g.minRowLength(r);f&&a?(E._length=Math.min(f,a),A.getComponentMethod("calendars","handleTraceDefaults")(P,E,["x","y"],x),(l("z")||l("marker.color"))&&l("histfunc"),l("histnorm"),l("autobinx"),l("autobiny")):E.visible=!1}},99066:function(tt,W,t){"use strict";var A=t(35361),g=t(70600),i=t(50693),P=t(12663).axisHoverFormat,E=t(1426).extendFlat;tt.exports=E({x:A.x,y:A.y,z:A.z,marker:A.marker,histnorm:A.histnorm,histfunc:A.histfunc,nbinsx:A.nbinsx,xbins:A.xbins,nbinsy:A.nbinsy,ybins:A.ybins,autobinx:A.autobinx,autobiny:A.autobiny,bingroup:A.bingroup,xbingroup:A.xbingroup,ybingroup:A.ybingroup,autocontour:g.autocontour,ncontours:g.ncontours,contours:g.contours,line:{color:g.line.color,width:E({},g.line.width,{dflt:.5}),dash:g.line.dash,smoothing:g.line.smoothing,editType:"plot"},xhoverformat:P("x"),yhoverformat:P("y"),zhoverformat:P("z",1),hovertemplate:A.hovertemplate,texttemplate:g.texttemplate,textfont:g.textfont},i("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(tt,W,t){"use strict";var A=t(71828),g=t(75238),i=t(67217),P=t(8724),E=t(58623),l=t(99066);tt.exports=function(e,r,f,a){function s(u,y){return A.coerce(e,r,l,u,y)}g(e,r,s,a),!1!==r.visible&&(i(e,r,s,function c(u){return A.coerce2(e,r,l,u)}),P(e,r,s,a),s("xhoverformat"),s("yhoverformat"),s("hovertemplate"),r.contours&&"heatmap"===r.contours.coloring&&E(s,a))}},35902:function(tt,W,t){"use strict";tt.exports={attributes:t(99066),supplyDefaults:t(62654),crossTraceDefaults:t(82222),calc:t(27529),plot:t(29854).plot,layerName:"contourlayer",style:t(84426),colorbar:t(90654),hoverPoints:t(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(tt,W,t){"use strict";var A=t(5386).fF,g=t(5386).si,i=t(50693),P=t(27670).Y,E=t(34e3),l=t(57564),x=t(45802),e=t(43473),r=t(1426).extendFlat,f=t(79952).u;tt.exports={labels:l.labels,parents:l.parents,values:l.values,branchvalues:l.branchvalues,count:l.count,level:l.level,maxdepth:l.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:x.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:r({colors:l.marker.colors,line:l.marker.line,pattern:f,editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),leaf:l.leaf,pathbar:x.pathbar,text:E.text,textinfo:l.textinfo,texttemplate:g({editType:"plot"},{keys:e.eventDataKeys.concat(["label","value"])}),hovertext:E.hovertext,hoverinfo:l.hoverinfo,hovertemplate:A({},{keys:e.eventDataKeys}),textfont:E.textfont,insidetextfont:E.insidetextfont,outsidetextfont:x.outsidetextfont,textposition:x.textposition,sort:E.sort,root:l.root,domain:P({name:"icicle",trace:!0,editType:"calc"})}},96346:function(tt,W,t){"use strict";var A=t(74875);W.name="icicle",W.plot=function(g,i,P,E){A.plotBasePlot(W.name,g,i,P,E)},W.clean=function(g,i,P,E){A.cleanBasePlot(W.name,g,i,P,E)}},46584:function(tt,W,t){"use strict";var A=t(52147);W.y=function(g,i){return A.calc(g,i)},W.T=function(g){return A._runCrossTraceCalc("icicle",g)}},56524:function(tt,W,t){"use strict";var A=t(71828),g=t(46291),i=t(7901),P=t(27670).c,E=t(90769).handleText,l=t(97313).TEXTPAD,x=t(37434).handleMarkerDefaults,e=t(21081),r=e.hasColorscale,f=e.handleDefaults;tt.exports=function(s,c,u,y){function v(m,S){return A.coerce(s,c,g,m,S)}var w=v("labels"),d=v("parents");if(w&&w.length&&d&&d.length){var o=v("values");v(o&&o.length?"branchvalues":"count"),v("level"),v("maxdepth"),v("tiling.orientation"),v("tiling.flip"),v("tiling.pad");var h=v("text");v("texttemplate"),c.texttemplate||v("textinfo",Array.isArray(h)?"text+label":"label"),v("hovertext"),v("hovertemplate");var M=v("pathbar.visible");E(s,c,y,v,"auto",{hasPathbar:M,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),v("textposition"),x(s,c,y,v);var L=c._hasColorscale=r(s,"marker","colors")||(s.marker||{}).coloraxis;L&&f(s,c,y,v,{prefix:"marker.",cLetter:"c"}),v("leaf.opacity",L?1:.7),c._hovered={marker:{line:{width:2,color:i.contrast(y.paper_bgcolor)}}},M&&(v("pathbar.thickness",c.pathbar.textfont.size+2*l),v("pathbar.side"),v("pathbar.edgeshape")),v("sort"),v("root.color"),P(c,y,v),c._length=null}else c.visible=!1}},90666:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=t(91424),P=t(63893),E=t(21538),l=t(82454).styleOne,x=t(43473),e=t(2791),r=t(83523),f=t(24714).formatSliceLabel,a=!1;tt.exports=function(c,u,y,v,w){var d=w.width,o=w.height,h=w.viewX,M=w.viewY,T=w.pathSlice,L=w.toMoveInsideSlice,m=w.strTransform,S=w.hasTransition,b=w.handleSlicesExit,n=w.makeUpdateSliceInterpolator,C=w.makeUpdateTextInterpolator,p=w.prevEntry,D=c._context.staticPlot,N=c._fullLayout,O=u[0].trace,B=-1!==O.textposition.indexOf("left"),z=-1!==O.textposition.indexOf("right"),U=-1!==O.textposition.indexOf("bottom"),Q=E(y,[d,o],{flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,orientation:O.tiling.orientation,pad:{inner:O.tiling.pad},maxDepth:O._maxDepth}).descendants(),rt=1/0,it=-1/0;Q.forEach(function(H){var X=H.depth;X>=O._maxDepth?(H.x0=H.x1=(H.x0+H.x1)/2,H.y0=H.y1=(H.y0+H.y1)/2):(rt=Math.min(rt,X),it=Math.max(it,X))}),v=v.data(Q,e.getPtId),O._maxVisibleLayers=isFinite(it)?it-rt+1:0,v.enter().append("g").classed("slice",!0),b(v,a,{},[d,o],T),v.order();var ut=null;if(S&&p){var J=e.getPtId(p);v.each(function(H){null===ut&&e.getPtId(H)===J&&(ut={x0:H.x0,x1:H.x1,y0:H.y0,y1:H.y1})})}var j=function(){return ut||{x0:0,x1:d,y0:0,y1:o}},Z=v;return S&&(Z=Z.transition().each("end",function(){var H=A.select(this);e.setSliceCursor(H,c,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function(H){H._x0=h(H.x0),H._x1=h(H.x1),H._y0=M(H.y0),H._y1=M(H.y1),H._hoverX=h(H.x1-O.tiling.pad),H._hoverY=M(U?H.y1-O.tiling.pad/2:H.y0+O.tiling.pad/2);var X=A.select(this),at=g.ensureSingle(X,"path","surface",function(et){et.style("pointer-events",D?"none":"all")});S?at.transition().attrTween("d",function(et){var st=n(et,a,j(),[d,o],{orientation:O.tiling.orientation,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1});return function(dt){return T(st(dt))}}):at.attr("d",T),X.call(r,y,c,u,{styleOne:l,eventDataKeys:x.eventDataKeys,transitionTime:x.CLICK_TRANSITION_TIME,transitionEasing:x.CLICK_TRANSITION_EASING}).call(e.setSliceCursor,c,{isTransitioning:c._transitioning}),at.call(l,H,O,c,{hovered:!1}),H._text=H.x0===H.x1||H.y0===H.y1?"":f(H,y,O,u,N)||"";var _=g.ensureSingle(X,"g","slicetext"),K=g.ensureSingle(_,"text","",function(et){et.attr("data-notex",1)}),nt=g.ensureUniformFontSize(c,e.determineTextFont(O,H,N.font));K.text(H._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":B?"start":"middle").call(i.font,nt).call(P.convertToTspans,c),H.textBB=i.bBox(K.node()),H.transform=L(H,{fontSize:nt.size}),H.transform.fontSize=nt.size,S?K.transition().attrTween("transform",function(et){var st=C(et,a,j(),[d,o]);return function(dt){return m(st(dt))}}):K.attr("transform",m(H))}),ut}},69816:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"icicle",basePlotModule:t(96346),categories:[],animatable:!0,attributes:t(46291),layoutAttributes:t(92894),supplyDefaults:t(56524),supplyLayoutDefaults:t(21070),calc:t(46584).y,crossTraceCalc:t(46584).T,plot:t(85596),style:t(82454).style,colorbar:t(4898),meta:{}}},92894:function(tt){"use strict";tt.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(tt,W,t){"use strict";var A=t(71828),g=t(92894);tt.exports=function(P,E){function l(x,e){return A.coerce(P,E,g,x,e)}l("iciclecolorway",E.colorway),l("extendiciclecolors")}},21538:function(tt,W,t){"use strict";var A=t(674),g=t(14102);tt.exports=function(P,E,l){var x=l.flipX,e=l.flipY,r="h"===l.orientation,f=l.maxDepth,a=E[0],s=E[1];f&&(a=(P.height+1)*E[0]/Math.min(P.height+1,f),s=(P.height+1)*E[1]/Math.min(P.height+1,f));var c=A.partition().padding(l.pad.inner).size(r?[E[1],a]:[E[0],s])(P);return(r||x||e)&&g(c,E,{swapXY:r,flipX:x,flipY:e}),c}},85596:function(tt,W,t){"use strict";var A=t(80694),g=t(90666);tt.exports=function(P,E,l,x){return A(P,E,l,x,{type:"icicle",drawDescendants:g})}},82454:function(tt,W,t){"use strict";var A=t(39898),g=t(7901),i=t(71828),P=t(72597).resizeText,E=t(43467);function x(e,r,f,a){var c=!r.children,u=r.data.data.i,y=i.castOption(f,u,"marker.line.color")||g.defaultLine,v=i.castOption(f,u,"marker.line.width")||0;e.call(E,r,f,a).style("stroke-width",v).call(g.stroke,y).style("opacity",c?f.leaf.opacity:null)}tt.exports={style:function l(e){var r=e._fullLayout._iciclelayer.selectAll(".trace");P(e,r,"icicle"),r.each(function(f){var a=A.select(this),c=f[0].trace;a.style("opacity",c.opacity),a.selectAll("path.surface").each(function(u){A.select(this).call(x,u,c,e)})})},styleOne:x}},17230:function(tt,W,t){"use strict";for(var A=t(9012),g=t(5386).fF,i=t(1426).extendFlat,P=t(51877).colormodel,E=["rgb","rgba","rgba256","hsl","hsla"],l=[],x=[],e=0;e<E.length;e++){var r=P[E[e]];l.push("For the `"+E[e]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),x.push("For the `"+E[e]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}tt.exports=i({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:E,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:i({},A.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:g({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(tt,W,t){"use strict";var A=t(71828),g=t(51877),i=t(92770),P=t(89298),E=t(71828).maxRowLength,l=t(67395).A;function x(f,a,s,c){return function(u){return A.constrain((u-f)*a,s,c)}}function e(f,a){return function(s){return A.constrain(s,f,a)}}tt.exports=function(a,s){var c,u;if(s._hasZ)c=s.z.length,u=E(s.z);else if(s._hasSource){var y=l(s.source);c=y.height,u=y.width}var h,v=P.getFromId(a,s.xaxis||"x"),w=P.getFromId(a,s.yaxis||"y"),d=v.d2c(s.x0)-s.dx/2,o=w.d2c(s.y0)-s.dy/2,M=[d,d+u*s.dx],T=[o,o+c*s.dy];if(v&&"log"===v.type)for(h=0;h<u;h++)M.push(d+h*s.dx);if(w&&"log"===w.type)for(h=0;h<c;h++)T.push(o+h*s.dy);return s._extremes[v._id]=P.findExtremes(v,M),s._extremes[w._id]=P.findExtremes(w,T),s._scaler=function r(f){var a=g.colormodel[f.colormodel],c=(a.colormodel||f.colormodel).length;f._sArray=[];for(var u=0;u<c;u++)f._sArray.push(a.min[u]!==f.zmin[u]||a.max[u]!==f.zmax[u]?x(f.zmin[u],(a.max[u]-a.min[u])/(f.zmax[u]-f.zmin[u]),a.min[u],a.max[u]):e(a.min[u],a.max[u]));return function(y){for(var v=y.slice(0,c),w=0;w<c;w++){var d=v[w];if(!i(d))return!1;v[w]=f._sArray[w](d)}return v}}(s),[{x0:d,y0:o,z:s.z,w:u,h:c}]}},51877:function(tt){"use strict";tt.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(W){return W.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(W){return W.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(W){return W.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(W){var t=W.slice(0,3);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["\xb0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(W){var t=W.slice(0,4);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["\xb0","%","%",""]}}}},13245:function(tt,W,t){"use strict";var A=t(71828),g=t(17230),i=t(51877),P=t(25095).IMAGE_URL_PREFIX;tt.exports=function(l,x){function e(a,s){return A.coerce(l,x,g,a,s)}e("source"),x.source&&!x.source.match(P)&&delete x.source,x._hasSource=!!x.source;var f,r=e("z");x._hasZ=!(void 0===r||!r.length||!r[0]||!r[0].length),x._hasZ||x._hasSource?(e("x0"),e("y0"),e("dx"),e("dy"),x._hasZ?(e("colormodel","rgb"),e("zmin",(f=i.colormodel[x.colormodel]).zminDflt||f.min),e("zmax",f.zmaxDflt||f.max)):x._hasSource&&(x.colormodel="rgba256",x.zmin=(f=i.colormodel[x.colormodel]).zminDflt,x.zmax=f.zmaxDflt),e("zsmooth"),e("text"),e("hovertext"),e("hovertemplate"),x._length=null):x.visible=!1}},30835:function(tt){"use strict";tt.exports=function(t,A){return"xVal"in A&&(t.x=A.xVal),"yVal"in A&&(t.y=A.yVal),A.xa&&(t.xaxis=A.xa),A.ya&&(t.yaxis=A.ya),t.color=A.color,t.colormodel=A.trace.colormodel,t.z||(t.z=A.color),t}},67395:function(tt,W,t){"use strict";var A=t(33575),g=t(25095).IMAGE_URL_PREFIX,i=t(12856).Buffer;W.A=function(P){var E=P.replace(g,""),l=new i(E,"base64");return A(l)}},28749:function(tt,W,t){"use strict";var A=t(30211),g=t(71828),i=t(51877);tt.exports=function(E,l,x){var e=E.cd[0],r=e.trace,f=E.xa,a=E.ya;if(!(A.inbox(l-e.x0,l-(e.x0+e.w*r.dx),0)>0||A.inbox(x-e.y0,x-(e.y0+e.h*r.dy),0)>0)){var u,s=Math.floor((l-e.x0)/r.dx),c=Math.floor(Math.abs(x-e.y0)/r.dy);if(r._hasZ?u=e.z[c][s]:r._hasSource&&(u=r._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(s,c,1,1).data),u){var v,y=e.hi||r.hoverinfo;if(y){var w=y.split("+");-1!==w.indexOf("all")&&(w=["color"]),-1!==w.indexOf("color")&&(v=!0)}var m,d=i.colormodel[r.colormodel],o=d.colormodel||r.colormodel,h=o.length,M=r._scaler(u),T=d.suffix,L=[];(r.hovertemplate||v)&&(L.push("["+[M[0]+T[0],M[1]+T[1],M[2]+T[2]].join(", ")),4===h&&L.push(", "+M[3]+T[3]),L.push("]"),L=L.join(""),E.extraText=o.toUpperCase()+": "+L),Array.isArray(r.hovertext)&&Array.isArray(r.hovertext[c])?m=r.hovertext[c][s]:Array.isArray(r.text)&&Array.isArray(r.text[c])&&(m=r.text[c][s]);var S=a.c2p(e.y0+(c+.5)*r.dy),b=e.x0+(s+.5)*r.dx,n=e.y0+(c+.5)*r.dy,C="["+u.slice(0,r.colormodel.length).join(", ")+"]";return[g.extendFlat(E,{index:[c,s],x0:f.c2p(e.x0+s*r.dx),x1:f.c2p(e.x0+(s+1)*r.dx),y0:S,y1:S,color:M,xVal:b,xLabelVal:b,yVal:n,yLabelVal:n,zLabelVal:C,text:m,hovertemplateLabels:{zLabel:C,colorLabel:L,"color[0]Label":M[0]+T[0],"color[1]Label":M[1]+T[1],"color[2]Label":M[2]+T[2],"color[3]Label":M[3]+T[3]}})]}}}},94507:function(tt,W,t){"use strict";tt.exports={attributes:t(17230),supplyDefaults:t(13245),calc:t(71113),plot:t(60775),style:t(12826),hoverPoints:t(28749),eventData:t(30835),moduleType:"trace",name:"image",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=g.strTranslate,P=t(77922),E=t(51877),l=t(3883),x=t(32396).STYLE;tt.exports=function(r,f,a,s){var c=f.xaxis,u=f.yaxis,y=!r._context._exportedPlot&&l();g.makeTraceGroups(s,a,"im").each(function(v){var w=A.select(this),d=v[0],o=d.trace,h=("fast"===o.zsmooth||!1===o.zsmooth&&y)&&!o._hasZ&&o._hasSource&&"linear"===c.type&&"linear"===u.type;o._realImage=h;var C,p,F,D,N,k,M=d.z,T=d.x0,L=d.y0,m=d.w,S=d.h,b=o.dx,n=o.dy;for(k=0;void 0===C&&k<m;)C=c.c2p(T+k*b),k++;for(k=m;void 0===p&&k>0;)p=c.c2p(T+k*b),k--;for(k=0;void 0===D&&k<S;)D=u.c2p(L+k*n),k++;for(k=S;void 0===N&&k>0;)N=u.c2p(L+k*n),k--;if(p<C&&(F=p,p=C,C=F),N<D&&(F=D,D=N,N=F),!h){var O=.5;C=Math.max(-O*c._length,C),p=Math.min(1.5*c._length,p),D=Math.max(-O*u._length,D),N=Math.min(1.5*u._length,N)}var B=Math.round(p-C),z=Math.round(N-D);if(B<=0||z<=0)w.selectAll("image").data([]).exit().remove();else{var rt=w.selectAll("image").data([v]);rt.enter().append("svg:image").attr({xmlns:P.svg,preserveAspectRatio:"none"}),rt.exit().remove();var it=!1===o.zsmooth?x:"";if(h){var ut=g.simpleMap(c.range,c.r2l),J=g.simpleMap(u.range,u.r2l),j=ut[1]<ut[0],Z=J[1]>J[0];if(j||Z){var H=C+B/2,X=D+z/2;it+="transform:"+i(H+"px",X+"px")+"scale("+(j?-1:1)+","+(Z?-1:1)+")"+i(-H+"px",-X+"px")+";"}}rt.attr("style",it);var at=new Promise(function(_){if(o._hasZ)_();else if(o._hasSource)if(o._canvas&&o._canvas.el.width===m&&o._canvas.el.height===S&&o._canvas.source===o.source)_();else{var K=document.createElement("canvas");K.width=m,K.height=S;var nt=K.getContext("2d",{willReadFrequently:!0});o._image=o._image||new Image;var et=o._image;et.onload=function(){nt.drawImage(et,0,0),o._canvas={el:K,source:o.source},_()},et.setAttribute("src",o.source)}}).then(function(){var _;if(o._hasZ)_=Q(function(st,dt){return M[dt][st]}).toDataURL("image/png");else if(o._hasSource)if(h)_=o.source;else{var et=o._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,m,S).data;_=Q(function(st,dt){var Tt=4*(dt*m+st);return[et[Tt],et[Tt+1],et[Tt+2],et[Tt+3]]}).toDataURL("image/png")}rt.attr({"xlink:href":_,height:z,width:B,x:C,y:D})});r._promises.push(at)}function Q(_){var K=document.createElement("canvas");K.width=B,K.height=z;var Dt,nt=K.getContext("2d",{willReadFrequently:!0}),et=function(Gt){return g.constrain(Math.round(c.c2p(T+Gt*b)-C),0,B)},st=function(Gt){return g.constrain(Math.round(u.c2p(L+Gt*n)-D),0,z)},dt=E.colormodel[o.colormodel],Tt=dt.colormodel||o.colormodel,bt=dt.fmt;for(k=0;k<d.w;k++){var Ft=et(k),Mt=et(k+1);if(Mt!==Ft&&!isNaN(Mt)&&!isNaN(Ft))for(var wt=0;wt<d.h;wt++){var St=st(wt),Ut=st(wt+1);Ut===St||isNaN(Ut)||isNaN(St)||!_(k,wt)||(Dt=o._scaler(_(k,wt)),nt.fillStyle=Dt?Tt+"("+bt(Dt).join(",")+")":"rgba(0,0,0,0)",nt.fillRect(Ft,St,Mt-Ft,Ut-St))}}return K}})}},12826:function(tt,W,t){"use strict";var A=t(39898);tt.exports=function(i){A.select(i).selectAll(".im image").style("opacity",function(P){return P[0].trace.opacity})}},54846:function(tt,W,t){"use strict";var A=t(1426).extendFlat,g=t(1426).extendDeep,i=t(30962).overrideAll,P=t(41940),E=t(22399),l=t(27670).Y,x=t(13838),e=t(44467).templatedArray,r=t(22372),f=t(12663).descriptionOnlyNumbers,a=P({editType:"plot",colorEditType:"plot"}),s={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:E.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},c={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=e("step",g({},s,{range:c}));tt.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:l({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:A({},a,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:f("value")},font:A({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:f("value")},increasing:{symbol:{valType:"string",dflt:r.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:r.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:A({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:g({},s,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:i({range:c,visible:A({},x.visible,{dflt:!0}),tickmode:x.minor.tickmode,nticks:x.nticks,tick0:x.tick0,dtick:x.dtick,tickvals:x.tickvals,ticktext:x.ticktext,ticks:A({},x.ticks,{dflt:"outside"}),ticklen:x.ticklen,tickwidth:x.tickwidth,tickcolor:x.tickcolor,ticklabelstep:x.ticklabelstep,showticklabels:x.showticklabels,labelalias:x.labelalias,tickfont:P({}),tickangle:x.tickangle,tickformat:x.tickformat,tickformatstops:x.tickformatstops,tickprefix:x.tickprefix,showtickprefix:x.showtickprefix,ticksuffix:x.ticksuffix,showticksuffix:x.showticksuffix,separatethousands:x.separatethousands,exponentformat:x.exponentformat,minexponent:x.minexponent,showexponent:x.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:A({},s.line.color,{}),width:A({},s.line.width,{dflt:1}),editType:"plot"},thickness:A({},s.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(tt,W,t){"use strict";var A=t(74875);W.name="indicator",W.plot=function(g,i,P,E){A.plotBasePlot(W.name,g,i,P,E)},W.clean=function(g,i,P,E){A.cleanBasePlot(W.name,g,i,P,E)}},24667:function(tt){"use strict";tt.exports={calc:function W(t,A){var g=[],i=A.value;"number"!=typeof A._lastValue&&(A._lastValue=A.value);var P=A._lastValue,E=P;return A._hasDelta&&"number"==typeof A.delta.reference&&(E=A.delta.reference),g[0]={y:i,lastY:P,delta:i-E,relativeDelta:(i-E)/E},g}}},84577:function(tt){"use strict";tt.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(tt,W,t){"use strict";var A=t(71828),g=t(54846),i=t(27670).c,P=t(44467),E=t(85501),l=t(84577),x=t(26218),e=t(38701),r=t(96115),f=t(89426);function s(c,u){function y(v,w){return A.coerce(c,u,g.gauge.steps,v,w)}y("color"),y("line.color"),y("line.width"),y("range"),y("thickness")}tt.exports={supplyDefaults:function a(c,u,y,v){function w(N,k){return A.coerce(c,u,g,N,k)}i(u,v,w),w("mode"),u._hasNumber=-1!==u.mode.indexOf("number"),u._hasDelta=-1!==u.mode.indexOf("delta"),u._hasGauge=-1!==u.mode.indexOf("gauge");var d=w("value");u._range=[0,"number"==typeof d?1.5*d:1];var h,M,T,L,m,S,o=new Array(2);function b(N,k){return A.coerce(T,L,g.gauge,N,k)}function n(N,k){return A.coerce(m,S,g.gauge.axis,N,k)}if(u._hasNumber&&(w("number.valueformat"),w("number.font.color",v.font.color),w("number.font.family",v.font.family),w("number.font.size"),void 0===u.number.font.size&&(u.number.font.size=l.defaultNumberFontSize,o[0]=!0),w("number.prefix"),w("number.suffix"),h=u.number.font.size),u._hasDelta&&(w("delta.font.color",v.font.color),w("delta.font.family",v.font.family),w("delta.font.size"),void 0===u.delta.font.size&&(u.delta.font.size=(u._hasNumber?.5:1)*(h||l.defaultNumberFontSize),o[1]=!0),w("delta.reference",u.value),w("delta.relative"),w("delta.valueformat",u.delta.relative?"2%":""),w("delta.increasing.symbol"),w("delta.increasing.color"),w("delta.decreasing.symbol"),w("delta.decreasing.color"),w("delta.position"),w("delta.prefix"),w("delta.suffix"),M=u.delta.font.size),u._scaleNumbers=(!u._hasNumber||o[0])&&(!u._hasDelta||o[1])||!1,w("title.font.color",v.font.color),w("title.font.family",v.font.family),w("title.font.size",.25*(h||M||l.defaultNumberFontSize)),w("title.text"),u._hasGauge){(T=c.gauge)||(T={}),L=P.newContainer(u,"gauge"),b("shape"),(u._isBullet="bullet"===u.gauge.shape)||w("title.align","center"),(u._isAngular="angular"===u.gauge.shape)||w("align","center"),b("bgcolor",v.paper_bgcolor),b("borderwidth"),b("bordercolor"),b("bar.color"),b("bar.line.color"),b("bar.line.width"),b("bar.thickness",l.valueThickness*("bullet"===u.gauge.shape?.5:1)),E(T,L,{name:"steps",handleItemDefaults:s}),b("threshold.value"),b("threshold.thickness"),b("threshold.line.width"),b("threshold.line.color"),m={},T&&(m=T.axis||{}),S=P.newContainer(L,"axis"),n("visible"),u._range=n("range",u._range);var D={outerTicks:!0};x(m,S,n,"linear"),f(m,S,n,"linear",D),r(m,S,n,"linear",D),e(m,S,n,D)}else w("title.align","center"),w("align","center"),u._isAngular=u._isBullet=!1;u._length=null}}},15154:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"indicator",basePlotModule:t(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:t(54846),supplyDefaults:t(94425).supplyDefaults,calc:t(24667).calc,plot:t(75634),meta:{}}},75634:function(tt,W,t){"use strict";var A=t(39898),g=t(81684).sX,i=t(81684).k4,P=t(71828),E=P.strScale,l=P.strTranslate,x=P.rad2deg,e=t(18783).MID_SHIFT,r=t(91424),f=t(84577),a=t(63893),s=t(89298),c=t(71453),u=t(52830),y=t(13838),v=t(7901),w={left:"start",center:"middle",right:"end"},d={left:0,center:.5,right:1},o=/[yzafpn\xb5mkMGTPEZY]/;function h(D){return D&&D.duration>0}function T(D,N,k,O){var K,nt,et,st,B=k[0].trace,z=O.size,U=O.radius,G=O.innerRadius,Q=O.gaugeBg,rt=O.gaugeOutline,it=[z.l+z.w/2,z.t+z.h/2+U/2],ut=O.gauge,J=O.layer,j=O.transitionOpts,Z=O.onComplete,H=Math.PI/2;function X(zt){var qt=B.gauge.axis.range[0],oe=(zt-qt)/(B.gauge.axis.range[1]-qt)*Math.PI-H;return oe<-H?-H:oe>H?H:oe}function at(zt){return A.svg.arc().innerRadius((G+U)/2-zt/2*(U-G)).outerRadius((G+U)/2+zt/2*(U-G)).startAngle(-H)}function _(zt){zt.attr("d",function(qt){return at(qt.thickness).startAngle(X(qt.range[0])).endAngle(X(qt.range[1]))()})}ut.enter().append("g").classed("angular",!0),ut.attr("transform",l(it[0],it[1])),J.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),J.selectAll("g.xangularaxistick,path,text").remove(),(K=b(D,B.gauge.axis)).type="linear",K.range=B.gauge.axis.range,K._id="xangularaxis",K.ticklabeloverflow="allow",K.setScale();var dt=function(zt){return(K.range[0]-zt.x)/(K.range[1]-K.range[0])*Math.PI+Math.PI},Tt={},Dt=s.makeLabelFns(K,0).labelStandoff;Tt.xFn=function(zt){var qt=dt(zt);return Math.cos(qt)*Dt},Tt.yFn=function(zt){var qt=dt(zt),ae=Math.sin(qt)>0?.2:1;return-Math.sin(qt)*(Dt+zt.fontSize*ae)+Math.abs(Math.cos(qt))*(zt.fontSize*e)},Tt.anchorFn=function(zt){var qt=dt(zt),ae=Math.cos(qt);return Math.abs(ae)<.1?"middle":ae>0?"start":"end"},Tt.heightFn=function(zt,qt,ae){var oe=dt(zt);return-.5*(1+Math.sin(oe))*ae};var Ft=function(zt){return l(it[0]+U*Math.cos(zt),it[1]-U*Math.sin(zt))};et=function(zt){return Ft(dt(zt))};nt=s.calcTicks(K),st=s.getTickSigns(K)[2],K.visible&&(s.drawTicks(D,K,{vals:nt,layer:J,path:"M"+(st="inside"===K.ticks?-1:1)*((K.linewidth||1)/2)+",0h"+st*K.ticklen,transFn:function(zt){var qt=dt(zt);return Ft(qt)+"rotate("+-x(qt)+")"}}),s.drawLabels(D,K,{vals:nt,layer:J,transFn:et,labelFns:Tt}));var St=[Q].concat(B.gauge.steps),Ut=ut.selectAll("g.bg-arc").data(St);Ut.enter().append("g").classed("bg-arc",!0).append("path"),Ut.select("path").call(_).call(m),Ut.exit().remove();var Gt=at(B.gauge.bar.thickness),Pt=ut.selectAll("g.value-arc").data([B.gauge.bar]);Pt.enter().append("g").classed("value-arc",!0).append("path");var Vt=Pt.select("path");h(j)?(Vt.transition().duration(j.duration).ease(j.easing).each("end",function(){Z&&Z()}).each("interrupt",function(){Z&&Z()}).attrTween("d",function S(D,N,k){return function(){var O=g(N,k);return function(B){return D.endAngle(O(B))()}}}(Gt,X(k[0].lastY),X(k[0].y))),B._lastValue=k[0].y):Vt.attr("d","number"==typeof k[0].y?Gt.endAngle(X(k[0].y)):"M0,0Z"),Vt.call(m),Pt.exit().remove(),St=[];var te=B.gauge.threshold.value;(te||0===te)&&St.push({range:[te,te],color:B.gauge.threshold.color,line:{color:B.gauge.threshold.line.color,width:B.gauge.threshold.line.width},thickness:B.gauge.threshold.thickness});var _t=ut.selectAll("g.threshold-arc").data(St);_t.enter().append("g").classed("threshold-arc",!0).append("path"),_t.select("path").call(_).call(m),_t.exit().remove();var kt=ut.selectAll("g.gauge-outline").data([rt]);kt.enter().append("g").classed("gauge-outline",!0).append("path"),kt.select("path").call(_).call(m),kt.exit().remove()}function m(D){D.each(function(N){v.stroke(A.select(this),N.line.color)}).each(function(N){v.fill(A.select(this),N.color)}).style("stroke-width",function(N){return N.line.width})}function b(D,N,k){var O=D._fullLayout,B=P.extendFlat({type:"linear",ticks:"outside",range:k,showline:!0},N),z={type:"linear",_id:"x"+N._id},U={letter:"x",font:O.font,noHover:!0,noTickson:!0};function G(Q,rt){return P.coerce(B,z,y,Q,rt)}return c(B,z,G,U,O),u(B,z,G,U),z}function n(D,N,k){return[Math.min(N/D.width,k/D.height),D,N+"x"+k]}function p(D,N,k,O){var B=document.createElementNS("http://www.w3.org/2000/svg","text"),z=A.select(B);return z.text(D).attr("x",0).attr("y",0).attr("text-anchor",k).attr("data-unformatted",D).call(a.convertToTspans,O).call(r.font,N),r.bBox(z.node())}function F(D,N,k,O,B,z){var U="_cache"+N;D[U]&&D[U].key===B||(D[U]={key:B,value:k});var G=P.aggNums(z,null,[D[U].value,O],2);return D[U].value=G,G}tt.exports=function(N,k,O,B){var U,z=N._fullLayout;h(O)&&B&&(U=B()),P.makeTraceGroups(z._indicatorlayer,k,"trace").each(function(G){var nt,et,st,Dt,Ft,rt=G[0].trace,it=A.select(this),ut=rt._hasGauge,J=rt._isAngular,j=rt._isBullet,Z=rt.domain,H={w:z._size.w*(Z.x[1]-Z.x[0]),h:z._size.h*(Z.y[1]-Z.y[0]),l:z._size.l+z._size.w*Z.x[0],r:z._size.r+z._size.w*(1-Z.x[1]),t:z._size.t+z._size.h*(1-Z.y[1]),b:z._size.b+z._size.h*Z.y[0]},X=H.l+H.w/2,at=H.t+H.h/2,_=Math.min(H.w/2,H.h),K=f.innerRadius*_,dt=rt.align||"center";if(et=at,ut){if(J&&(nt=X,et=at+_/2,st=function(Pt){return function C(D,N){return[N/Math.sqrt(D.width/2*(D.width/2)+D.height*D.height),D,N]}(Pt,.9*K)}),j){var Tt=f.bulletPadding,bt=1-f.bulletNumberDomainSize+Tt;nt=H.l+(bt+(1-bt)*d[dt])*H.w,st=function(Pt){return n(Pt,(f.bulletNumberDomainSize-Tt)*H.w,H.h)}}}else nt=H.l+d[dt]*H.w,st=function(Pt){return n(Pt,H.w,H.h)};(function L(D,N,k,O){var J,j,Z,B=k[0].trace,z=O.numbersX,U=O.numbersY,G=B.align||"center",Q=w[G],rt=O.transitionOpts,it=O.onComplete,ut=P.ensureSingle(N,"g","numbers"),H=[];B._hasNumber&&H.push("number"),B._hasDelta&&(H.push("delta"),"left"===B.delta.position&&H.reverse());var X=ut.selectAll("text").data(H);function at(Ft,Mt,wt,St){if(!Ft.match("s")||wt>=0==St>=0||Mt(wt).slice(-1).match(o)||Mt(St).slice(-1).match(o))return Mt;var Ut=Ft.slice().replace("s","f").replace(/\d+/,function(Pt){return parseInt(Pt)-1}),Gt=b(D,{tickformat:Ut});return function(Pt){return Math.abs(Pt)<1?s.tickText(Gt,Pt).text:Mt(Pt)}}X.enter().append("text"),X.attr("text-anchor",function(){return Q}).attr("class",function(Ft){return Ft}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),X.exit().remove();var et,nt=B.mode+B.align;if(B._hasDelta&&(et=function K(){var Ft=b(D,{tickformat:B.delta.valueformat},B._range);Ft.setScale(),s.prepTicks(Ft);var Mt=function(_t){return s.tickText(Ft,_t).text},wt=B.delta.suffix,St=B.delta.prefix,Ut=function(_t){return B.delta.relative?_t.relativeDelta:_t.delta},Gt=function(_t,kt){return 0===_t||"number"!=typeof _t||isNaN(_t)?"-":(_t>0?B.delta.increasing.symbol:B.delta.decreasing.symbol)+St+kt(_t)+wt},Pt=function(_t){return _t.delta>=0?B.delta.increasing.color:B.delta.decreasing.color};void 0===B._deltaLastValue&&(B._deltaLastValue=Ut(k[0]));var Vt=ut.select("text.delta");function te(){Vt.text(Gt(Ut(k[0]),Mt)).call(v.fill,Pt(k[0])).call(a.convertToTspans,D)}return Vt.call(r.font,B.delta.font).call(v.fill,Pt({delta:B._deltaLastValue})),h(rt)?Vt.transition().duration(rt.duration).ease(rt.easing).tween("text",function(){var _t=A.select(this),kt=Ut(k[0]),zt=B._deltaLastValue,qt=at(B.delta.valueformat,Mt,zt,kt),ae=i(zt,kt);return B._deltaLastValue=kt,function(oe){_t.text(Gt(ae(oe),qt)),_t.call(v.fill,Pt({delta:ae(oe)}))}}).each("end",function(){te(),it&&it()}).each("interrupt",function(){te(),it&&it()}):te(),j=p(Gt(Ut(k[0]),Mt),B.delta.font,Q,D),Vt}(),nt+=B.delta.position+B.delta.font.size+B.delta.font.family+B.delta.valueformat,nt+=B.delta.increasing.symbol+B.delta.decreasing.symbol,Z=j),B._hasNumber&&(function _(){var Ft=b(D,{tickformat:B.number.valueformat},B._range);Ft.setScale(),s.prepTicks(Ft);var Mt=function(Pt){return s.tickText(Ft,Pt).text},wt=B.number.suffix,St=B.number.prefix,Ut=ut.select("text.number");function Gt(){var Pt="number"==typeof k[0].y?St+Mt(k[0].y)+wt:"-";Ut.text(Pt).call(r.font,B.number.font).call(a.convertToTspans,D)}h(rt)?Ut.transition().duration(rt.duration).ease(rt.easing).each("end",function(){Gt(),it&&it()}).each("interrupt",function(){Gt(),it&&it()}).attrTween("text",function(){var Pt=A.select(this),Vt=i(k[0].lastY,k[0].y);B._lastValue=k[0].y;var te=at(B.number.valueformat,Mt,k[0].lastY,k[0].y);return function(_t){Pt.text(St+te(Vt(_t))+wt)}}):Gt(),J=p(St+Mt(k[0].y)+wt,B.number.font,Q,D)}(),nt+=B.number.font.size+B.number.font.family+B.number.valueformat+B.number.suffix+B.number.prefix,Z=J),B._hasDelta&&B._hasNumber){var Tt,bt,st=[(J.left+J.right)/2,(J.top+J.bottom)/2],dt=[(j.left+j.right)/2,(j.top+j.bottom)/2],Dt=.75*B.delta.font.size;"left"===B.delta.position&&(Tt=F(B,"deltaPos",0,-1*(J.width*d[B.align]+j.width*(1-d[B.align])+Dt),nt,Math.min),bt=st[1]-dt[1],Z={width:J.width+j.width+Dt,height:Math.max(J.height,j.height),left:j.left+Tt,right:J.right,top:Math.min(J.top,j.top+bt),bottom:Math.max(J.bottom,j.bottom+bt)}),"right"===B.delta.position&&(Tt=F(B,"deltaPos",0,J.width*(1-d[B.align])+j.width*d[B.align]+Dt,nt,Math.max),bt=st[1]-dt[1],Z={width:J.width+j.width+Dt,height:Math.max(J.height,j.height),left:J.left,right:j.right+Tt,top:Math.min(J.top,j.top+bt),bottom:Math.max(J.bottom,j.bottom+bt)}),"bottom"===B.delta.position&&(Tt=null,bt=j.height,Z={width:Math.max(J.width,j.width),height:J.height+j.height,left:Math.min(J.left,j.left),right:Math.max(J.right,j.right),top:J.bottom-J.height,bottom:J.bottom+j.height}),"top"===B.delta.position&&(Tt=null,bt=J.top,Z={width:Math.max(J.width,j.width),height:J.height+j.height,left:Math.min(J.left,j.left),right:Math.max(J.right,j.right),top:J.bottom-J.height-j.height,bottom:J.bottom}),et.attr({dx:Tt,dy:bt})}(B._hasNumber||B._hasDelta)&&ut.attr("transform",function(){var wt,Ft=O.numbersScaler(Z),Mt=F(B,"numbersScale",1,Ft[0],nt+=Ft[2],Math.min);B._scaleNumbers||(Mt=1),B._numbersTop=Mt*Z.top+(wt=B._isAngular?U-Mt*Z.bottom:U-Mt*(Z.top+Z.bottom)/2);var St=Z[G];"center"===G&&(St=(Z.left+Z.right)/2);var Ut=z-Mt*St;return Ut=F(B,"numbersTranslate",0,Ut,nt,Math.max),l(Ut,wt)+E(Mt)})})(N,it,G,{numbersX:nt,numbersY:et,numbersScaler:st,transitionOpts:O,onComplete:U}),ut&&(Dt={range:rt.gauge.axis.range,color:rt.gauge.bgcolor,line:{color:rt.gauge.bordercolor,width:0},thickness:1},Ft={range:rt.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:rt.gauge.bordercolor,width:rt.gauge.borderwidth},thickness:1});var Mt=it.selectAll("g.angular").data(J?G:[]);Mt.exit().remove();var wt=it.selectAll("g.angularaxis").data(J?G:[]);wt.exit().remove(),J&&T(N,0,G,{radius:_,innerRadius:K,gauge:Mt,layer:wt,size:H,gaugeBg:Dt,gaugeOutline:Ft,transitionOpts:O,onComplete:U});var St=it.selectAll("g.bullet").data(j?G:[]);St.exit().remove();var Ut=it.selectAll("g.bulletaxis").data(j?G:[]);Ut.exit().remove(),j&&function M(D,N,k,O){var j,Z,H,X,at,B=k[0].trace,z=O.gauge,U=O.layer,G=O.gaugeBg,Q=O.gaugeOutline,rt=O.size,it=B.domain,ut=O.transitionOpts,J=O.onComplete;z.enter().append("g").classed("bullet",!0),z.attr("transform",l(rt.l,rt.t)),U.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),U.selectAll("g.xbulletaxistick,path,text").remove();var _=rt.h,K=B.gauge.bar.thickness*_,nt=it.x[0],et=it.x[0]+(it.x[1]-it.x[0])*(B._hasNumber||B._hasDelta?1-f.bulletNumberDomainSize:1);function st(wt){wt.attr("width",function(St){return Math.max(0,j.c2p(St.range[1])-j.c2p(St.range[0]))}).attr("x",function(St){return j.c2p(St.range[0])}).attr("y",function(St){return.5*(1-St.thickness)*_}).attr("height",function(St){return St.thickness*_})}(j=b(D,B.gauge.axis))._id="xbulletaxis",j.domain=[nt,et],j.setScale(),Z=s.calcTicks(j),H=s.makeTransTickFn(j),X=s.getTickSigns(j)[2],at=rt.t+rt.h,j.visible&&(s.drawTicks(D,j,{vals:"inside"===j.ticks?s.clipEnds(j,Z):Z,layer:U,path:s.makeTickPath(j,at,X),transFn:H}),s.drawLabels(D,j,{vals:Z,layer:U,transFn:H,labelFns:s.makeLabelFns(j,at)}));var dt=[G].concat(B.gauge.steps),Tt=z.selectAll("g.bg-bullet").data(dt);Tt.enter().append("g").classed("bg-bullet",!0).append("rect"),Tt.select("rect").call(st).call(m),Tt.exit().remove();var bt=z.selectAll("g.value-bullet").data([B.gauge.bar]);bt.enter().append("g").classed("value-bullet",!0).append("rect"),bt.select("rect").attr("height",K).attr("y",(_-K)/2).call(m),h(ut)?bt.select("rect").transition().duration(ut.duration).ease(ut.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()}).attr("width",Math.max(0,j.c2p(Math.min(B.gauge.axis.range[1],k[0].y)))):bt.select("rect").attr("width","number"==typeof k[0].y?Math.max(0,j.c2p(Math.min(B.gauge.axis.range[1],k[0].y))):0),bt.exit().remove();var Dt=k.filter(function(){return B.gauge.threshold.value||0===B.gauge.threshold.value}),Ft=z.selectAll("g.threshold-bullet").data(Dt);Ft.enter().append("g").classed("threshold-bullet",!0).append("line"),Ft.select("line").attr("x1",j.c2p(B.gauge.threshold.value)).attr("x2",j.c2p(B.gauge.threshold.value)).attr("y1",(1-B.gauge.threshold.thickness)/2*_).attr("y2",(1-(1-B.gauge.threshold.thickness)/2)*_).call(v.stroke,B.gauge.threshold.line.color).style("stroke-width",B.gauge.threshold.line.width),Ft.exit().remove();var Mt=z.selectAll("g.gauge-outline").data([Q]);Mt.enter().append("g").classed("gauge-outline",!0).append("rect"),Mt.select("rect").call(st).call(m),Mt.exit().remove()}(N,0,G,{gauge:St,layer:Ut,size:H,gaugeBg:Dt,gaugeOutline:Ft,transitionOpts:O,onComplete:U});var Gt=it.selectAll("text.title").data(G);Gt.exit().remove(),Gt.enter().append("text").classed("title",!0),Gt.attr("text-anchor",function(){return j?w.right:w[rt.title.align]}).text(rt.title.text).call(r.font,rt.title.font).call(a.convertToTspans,N),Gt.attr("transform",function(){var Vt,Pt=H.l+H.w*d[rt.title.align],te=f.titlePadding,_t=r.bBox(Gt.node());return ut?(J&&(Vt=rt.gauge.axis.visible?r.bBox(wt.node()).top-te-_t.bottom:H.t+H.h/2-_/2-_t.bottom-te),j&&(Vt=et-(_t.top+_t.bottom)/2,Pt=H.l-f.bulletPadding*H.w)):Vt=rt._numbersTop-te-_t.bottom,l(Pt,Vt)})})}},16249:function(tt,W,t){"use strict";var A=t(50693),g=t(12663).axisHoverFormat,i=t(5386).fF,P=t(2418),E=t(9012),l=t(1426).extendFlat,x=t(30962).overrideAll;var f=tt.exports=x(l({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:i(),xhoverformat:g("x"),yhoverformat:g("y"),zhoverformat:g("z"),valuehoverformat:g("value",1),showlegend:l({},E.showlegend,{dflt:!1})},A("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:P.opacity,lightposition:P.lightposition,lighting:P.lighting,flatshading:P.flatshading,contour:P.contour,hoverinfo:l({},E.hoverinfo)}),"calc","nested");f.flatshading.dflt=!0,f.lighting.facenormalsepsilon.dflt=0,f.x.editType=f.y.editType=f.z.editType=f.value.editType="calc+clearAxisTypes",f.transforms=void 0},56959:function(tt,W,t){"use strict";var A=t(78803),g=t(88489).processGrid,i=t(88489).filter;tt.exports=function(E,l){l._len=Math.min(l.x.length,l.y.length,l.z.length,l.value.length),l._x=i(l.x,l._len),l._y=i(l.y,l._len),l._z=i(l.z,l._len),l._value=i(l.value,l._len);var x=g(l);l._gridFill=x.fill,l._Xs=x.Xs,l._Ys=x.Ys,l._Zs=x.Zs,l._len=x.len;for(var e=1/0,r=-1/0,f=0;f<l._len;f++){var a=l._value[f];e=Math.min(e,a),r=Math.max(r,a)}l._minValues=e,l._maxValues=r,l._vMin=null==l.isomin?e:l.isomin,l._vMax=void 0===l.isomax||null===l.isomin?r:l.isomax,A(E,l,{vals:[l._vMin,l._vMax],containerStr:"",cLetter:"c"})}},22674:function(tt,W,t){"use strict";var A=t(9330).gl_mesh3d,g=t(81697).parseColorScale,i=t(78614),P=t(21081).extractOpts,E=t(90060),l=function(s,c){for(var u=c.length-1;u>0;u--){var y=Math.min(c[u],c[u-1]),v=Math.max(c[u],c[u-1]);if(v>y&&y<s&&s<=v)return{id:u,distRatio:(v-s)/(v-y)}}return{id:0,distRatio:0}};function x(s,c,u){this.scene=s,this.uid=u,this.mesh=c,this.name="",this.data=null,this.showContour=!1}var e=x.prototype;e.handlePick=function(s){if(s.object===this.mesh){var c=s.data.index,y=this.data._meshY[c],v=this.data._meshZ[c],w=this.data._Ys.length,d=this.data._Zs.length,o=l(this.data._meshX[c],this.data._Xs).id,h=l(y,this.data._Ys).id,M=l(v,this.data._Zs).id,T=s.index=M+d*h+d*w*o;s.traceCoordinate=[this.data._meshX[T],this.data._meshY[T],this.data._meshZ[T],this.data._value[T]];var L=this.data.hovertext||this.data.text;return Array.isArray(L)&&void 0!==L[T]?s.textLabel=L[T]:L&&(s.textLabel=L),!0}},e.update=function(s){var c=this.scene,u=c.fullSceneLayout;function y(h,M,T,L){return M.map(function(m){return h.d2l(m,0,L)*T})}this.data=f(s);var d={positions:E(y(u.xaxis,s._meshX,c.dataScale[0],s.xcalendar),y(u.yaxis,s._meshY,c.dataScale[1],s.ycalendar),y(u.zaxis,s._meshZ,c.dataScale[2],s.zcalendar)),cells:E(s._meshI,s._meshJ,s._meshK),lightPosition:[s.lightposition.x,s.lightposition.y,s.lightposition.z],ambient:s.lighting.ambient,diffuse:s.lighting.diffuse,specular:s.lighting.specular,roughness:s.lighting.roughness,fresnel:s.lighting.fresnel,vertexNormalsEpsilon:s.lighting.vertexnormalsepsilon,faceNormalsEpsilon:s.lighting.facenormalsepsilon,opacity:s.opacity,contourEnable:s.contour.show,contourColor:i(s.contour.color).slice(0,3),contourWidth:s.contour.width,useFacetNormals:s.flatshading},o=P(s);d.vertexIntensity=s._meshIntensity,d.vertexIntensityBounds=[o.min,o.max],d.colormap=g(s),this.mesh.update(d)},e.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function f(s){s._meshI=[],s._meshJ=[],s._meshK=[];var h,M,O,B,z,U,Z,c=s.surface.show,u=s.spaceframe.show,y=s.surface.fill,v=s.spaceframe.fill,w=!1,d=!1,o=0,T=s._Xs,L=s._Ys,m=s._Zs,S=T.length,b=L.length,n=m.length,C=r.indexOf(s._gridFill.replace(/-/g,"").replace(/\+/g,"")),p=function(Ct,Et,Rt){switch(C){case 5:return Rt+n*Et+n*b*Ct;case 4:return Rt+n*Ct+n*S*Et;case 3:return Et+b*Rt+b*n*Ct;case 2:return Et+b*Ct+b*S*Rt;case 1:return Ct+S*Rt+S*n*Et;default:return Ct+S*Et+S*b*Rt}},F=s._minValues,D=s._maxValues,N=s._vMin,k=s._vMax;function G(Ct,Et,Rt){for(var Ot=U.length,It=M;It<Ot;It++)if(Ct===O[It]&&Et===B[It]&&Rt===z[It])return It;return-1}function Q(){M=h}function rt(){O=[],B=[],z=[],U=[],h=0,Q()}function it(Ct,Et,Rt,Ot){return O.push(Ct),B.push(Et),z.push(Rt),U.push(Ot),++h-1}function ut(Ct,Et,Rt){return s._meshI.push(Ct),s._meshJ.push(Et),s._meshK.push(Rt),++o-1}function j(Ct,Et,Rt){for(var Ot=[],It=0;It<Ct.length;It++)Ot[It]=Ct[It]*(1-Rt)+Rt*Et[It];return Ot}function H(Ct){Z=Ct}function at(Ct,Et){return"all"===Ct||null===Ct||Ct.indexOf(Et)>-1}function _(Ct,Et){return null===Ct?Et:Ct}function K(Ct,Et,Rt){Q();var Ot=[Et],It=[Rt];if(Z>=1)Ot=[Et],It=[Rt];else if(Z>0){var gt=function X(Ct,Et){var Rt=Ct[0],Ot=Ct[1],It=Ct[2],gt=function J(Ct,Et,Rt){for(var Ot=[],It=0;It<Ct.length;It++)Ot[It]=(Ct[It]+Et[It]+Rt[It])/3;return Ot}(Rt,Ot,It),pt=Math.sqrt(1-Z),vt=j(gt,Rt,pt),yt=j(gt,Ot,pt),Yt=j(gt,It,pt),Qt=Et[0],le=Et[1],he=Et[2];return{xyzv:[[Rt,Ot,yt],[yt,vt,Rt],[Ot,It,Yt],[Yt,yt,Ot],[It,Rt,vt],[vt,Yt,It]],abc:[[Qt,le,-1],[-1,-1,Qt],[le,he,-1],[-1,-1,le],[he,Qt,-1],[-1,-1,he]]}}(Et,Rt);Ot=gt.xyzv,It=gt.abc}for(var pt=0;pt<Ot.length;pt++){Et=Ot[pt],Rt=It[pt];for(var vt=[],yt=0;yt<3;yt++){var Yt=Et[yt][0],Qt=Et[yt][1],le=Et[yt][2],he=Et[yt][3],ke=Rt[yt]>-1?Rt[yt]:G(Yt,Qt,le);vt[yt]=ke>-1?ke:it(Yt,Qt,le,_(Ct,he))}ut(vt[0],vt[1],vt[2])}}function st(Ct,Et,Rt,Ot){var It=Ct[3];It<Rt&&(It=Rt),It>Ot&&(It=Ot);for(var gt=(Ct[3]-It)/(Ct[3]-Et[3]+1e-9),pt=[],vt=0;vt<4;vt++)pt[vt]=(1-gt)*Ct[vt]+gt*Et[vt];return pt}function dt(Ct,Et,Rt){return Ct>=Et&&Ct<=Rt}function Tt(Ct){var Et=.001*(k-N);return Ct>=N-Et&&Ct<=k+Et}function bt(Ct){for(var Et=[],Rt=0;Rt<4;Rt++){var Ot=Ct[Rt];Et.push([s._x[Ot],s._y[Ot],s._z[Ot],s._value[Ot]])}return Et}function Ft(Ct,Et,Rt,Ot,It,gt){gt||(gt=1),Rt=[-1,-1,-1];var pt=!1,vt=[dt(Et[0][3],Ot,It),dt(Et[1][3],Ot,It),dt(Et[2][3],Ot,It)];if(!vt[0]&&!vt[1]&&!vt[2])return!1;var yt=function(Qt,le,he){return Tt(le[0][3])&&Tt(le[1][3])&&Tt(le[2][3])?(K(Qt,le,he),!0):gt<3&&Ft(Qt,le,he,N,k,++gt)};if(vt[0]&&vt[1]&&vt[2])return yt(Ct,Et,Rt)||pt;var Yt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(Qt){if(vt[Qt[0]]&&vt[Qt[1]]&&!vt[Qt[2]]){var le=Et[Qt[0]],he=Et[Qt[1]],ke=Et[Qt[2]],Oe=st(ke,le,Ot,It),Ae=st(ke,he,Ot,It);pt=yt(Ct,[Ae,Oe,le],[-1,-1,Rt[Qt[0]]])||pt,pt=yt(Ct,[le,he,Ae],[Rt[Qt[0]],Rt[Qt[1]],-1])||pt,Yt=!0}}),Yt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(Qt){if(vt[Qt[0]]&&!vt[Qt[1]]&&!vt[Qt[2]]){var le=Et[Qt[0]],ke=Et[Qt[2]],Oe=st(Et[Qt[1]],le,Ot,It),Ae=st(ke,le,Ot,It);pt=yt(Ct,[Ae,Oe,le],[-1,-1,Rt[Qt[0]]])||pt,Yt=!0}}),pt}function Mt(Ct,Et,Rt,Ot){var It=!1,gt=bt(Et),pt=[dt(gt[0][3],Rt,Ot),dt(gt[1][3],Rt,Ot),dt(gt[2][3],Rt,Ot),dt(gt[3][3],Rt,Ot)];if(!(pt[0]||pt[1]||pt[2]||pt[3]))return It;if(pt[0]&&pt[1]&&pt[2]&&pt[3])return d&&(It=function et(Ct,Et,Rt){var Ot=function(It,gt,pt){K(Ct,[Et[It],Et[gt],Et[pt]],[Rt[It],Rt[gt],Rt[pt]])};Ot(0,1,2),Ot(3,0,1),Ot(2,3,0),Ot(1,2,3)}(Ct,gt,Et)||It),It;var vt=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(yt){if(pt[yt[0]]&&pt[yt[1]]&&pt[yt[2]]&&!pt[yt[3]]){var Yt=gt[yt[0]],Qt=gt[yt[1]],le=gt[yt[2]],he=gt[yt[3]];if(d)It=K(Ct,[Yt,Qt,le],[Et[yt[0]],Et[yt[1]],Et[yt[2]]])||It;else{var ke=st(he,Yt,Rt,Ot),Oe=st(he,Qt,Rt,Ot),Ae=st(he,le,Rt,Ot);It=K(null,[ke,Oe,Ae],[-1,-1,-1])||It}vt=!0}}),vt||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(yt){if(pt[yt[0]]&&pt[yt[1]]&&!pt[yt[2]]&&!pt[yt[3]]){var Yt=gt[yt[0]],Qt=gt[yt[1]],le=gt[yt[2]],he=gt[yt[3]],ke=st(le,Yt,Rt,Ot),Oe=st(le,Qt,Rt,Ot),Ae=st(he,Qt,Rt,Ot),je=st(he,Yt,Rt,Ot);d?(It=K(Ct,[Yt,je,ke],[Et[yt[0]],-1,-1])||It,It=K(Ct,[Qt,Oe,Ae],[Et[yt[1]],-1,-1])||It):It=function nt(Ct,Et,Rt){var Ot=function(It,gt,pt){K(Ct,[Et[It],Et[gt],Et[pt]],[Rt[It],Rt[gt],Rt[pt]])};Ot(0,1,2),Ot(2,3,0)}(null,[ke,Oe,Ae,je],[-1,-1,-1,-1])||It,vt=!0}}),vt)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(yt){if(pt[yt[0]]&&!pt[yt[1]]&&!pt[yt[2]]&&!pt[yt[3]]){var Yt=gt[yt[0]],le=gt[yt[2]],he=gt[yt[3]],ke=st(gt[yt[1]],Yt,Rt,Ot),Oe=st(le,Yt,Rt,Ot),Ae=st(he,Yt,Rt,Ot);d?(It=K(Ct,[Yt,ke,Oe],[Et[yt[0]],-1,-1])||It,It=K(Ct,[Yt,Oe,Ae],[Et[yt[0]],-1,-1])||It,It=K(Ct,[Yt,Ae,ke],[Et[yt[0]],-1,-1])||It):It=K(null,[ke,Oe,Ae],[-1,-1,-1])||It,vt=!0}}),It}function wt(Ct,Et,Rt,Ot,It,gt,pt,vt,yt,Yt,Qt){var le=!1;return w&&(at(Ct,"A")&&(le=Mt(null,[Et,Rt,Ot,gt],Yt,Qt)||le),at(Ct,"B")&&(le=Mt(null,[Rt,Ot,It,yt],Yt,Qt)||le),at(Ct,"C")&&(le=Mt(null,[Rt,gt,pt,yt],Yt,Qt)||le),at(Ct,"D")&&(le=Mt(null,[Ot,gt,vt,yt],Yt,Qt)||le),at(Ct,"E")&&(le=Mt(null,[Rt,Ot,gt,yt],Yt,Qt)||le)),d&&(le=Mt(Ct,[Rt,Ot,gt,yt],Yt,Qt)||le),le}function St(Ct,Et,Rt,Ot,It,gt,pt,vt){return[!0===vt[0]||Ft(Ct,bt([Et,Rt,Ot]),[Et,Rt,Ot],gt,pt),!0===vt[1]||Ft(Ct,bt([Ot,It,Et]),[Ot,It,Et],gt,pt)]}function Ut(Ct,Et,Rt,Ot,It,gt,pt,vt,yt){return vt?St(Ct,Et,Rt,It,Ot,gt,pt,yt):St(Ct,Rt,It,Ot,Et,gt,pt,yt)}function Gt(Ct,Et,Rt,Ot,It,gt,pt){var yt,Yt,Qt,le,vt=!1,he=function(){vt=Ft(Ct,[yt,Yt,Qt],[-1,-1,-1],It,gt)||vt,vt=Ft(Ct,[Qt,le,yt],[-1,-1,-1],It,gt)||vt},ke=pt[0],Oe=pt[1],Ae=pt[2];return ke&&(yt=j(bt([p(Et,Rt-0,Ot-0)])[0],bt([p(Et-1,Rt-0,Ot-0)])[0],ke),Yt=j(bt([p(Et,Rt-0,Ot-1)])[0],bt([p(Et-1,Rt-0,Ot-1)])[0],ke),Qt=j(bt([p(Et,Rt-1,Ot-1)])[0],bt([p(Et-1,Rt-1,Ot-1)])[0],ke),le=j(bt([p(Et,Rt-1,Ot-0)])[0],bt([p(Et-1,Rt-1,Ot-0)])[0],ke),he()),Oe&&(yt=j(bt([p(Et-0,Rt,Ot-0)])[0],bt([p(Et-0,Rt-1,Ot-0)])[0],Oe),Yt=j(bt([p(Et-0,Rt,Ot-1)])[0],bt([p(Et-0,Rt-1,Ot-1)])[0],Oe),Qt=j(bt([p(Et-1,Rt,Ot-1)])[0],bt([p(Et-1,Rt-1,Ot-1)])[0],Oe),le=j(bt([p(Et-1,Rt,Ot-0)])[0],bt([p(Et-1,Rt-1,Ot-0)])[0],Oe),he()),Ae&&(yt=j(bt([p(Et-0,Rt-0,Ot)])[0],bt([p(Et-0,Rt-0,Ot-1)])[0],Ae),Yt=j(bt([p(Et-0,Rt-1,Ot)])[0],bt([p(Et-0,Rt-1,Ot-1)])[0],Ae),Qt=j(bt([p(Et-1,Rt-1,Ot)])[0],bt([p(Et-1,Rt-1,Ot-1)])[0],Ae),le=j(bt([p(Et-1,Rt-0,Ot)])[0],bt([p(Et-1,Rt-0,Ot-1)])[0],Ae),he()),vt}function Pt(Ct,Et,Rt,Ot,It,gt,pt,vt,yt,Yt,Qt,le){var he=Ct;return le?(w&&"even"===Ct&&(he=null),wt(he,Et,Rt,Ot,It,gt,pt,vt,yt,Yt,Qt)):(w&&"odd"===Ct&&(he=null),wt(he,yt,vt,pt,gt,It,Ot,Rt,Et,Yt,Qt))}function Vt(Ct,Et,Rt,Ot,It){for(var gt=[],pt=0,vt=0;vt<Et.length;vt++)for(var yt=Et[vt],Yt=1;Yt<n;Yt++)for(var Qt=1;Qt<b;Qt++)gt.push(Ut(Ct,p(yt,Qt-1,Yt-1),p(yt,Qt-1,Yt),p(yt,Qt,Yt-1),p(yt,Qt,Yt),Rt,Ot,(yt+Qt+Yt)%2,It&&It[pt]?It[pt]:[])),pt++;return gt}function te(Ct,Et,Rt,Ot,It){for(var gt=[],pt=0,vt=0;vt<Et.length;vt++)for(var yt=Et[vt],Yt=1;Yt<S;Yt++)for(var Qt=1;Qt<n;Qt++)gt.push(Ut(Ct,p(Yt-1,yt,Qt-1),p(Yt,yt,Qt-1),p(Yt-1,yt,Qt),p(Yt,yt,Qt),Rt,Ot,(Yt+yt+Qt)%2,It&&It[pt]?It[pt]:[])),pt++;return gt}function _t(Ct,Et,Rt,Ot,It){for(var gt=[],pt=0,vt=0;vt<Et.length;vt++)for(var yt=Et[vt],Yt=1;Yt<b;Yt++)for(var Qt=1;Qt<S;Qt++)gt.push(Ut(Ct,p(Qt-1,Yt-1,yt),p(Qt-1,Yt,yt),p(Qt,Yt-1,yt),p(Qt,Yt,yt),Rt,Ot,(Qt+Yt+yt)%2,It&&It[pt]?It[pt]:[])),pt++;return gt}function kt(Ct,Et,Rt){for(var Ot=1;Ot<n;Ot++)for(var It=1;It<b;It++)for(var gt=1;gt<S;gt++)Pt(Ct,p(gt-1,It-1,Ot-1),p(gt-1,It-1,Ot),p(gt-1,It,Ot-1),p(gt-1,It,Ot),p(gt,It-1,Ot-1),p(gt,It-1,Ot),p(gt,It,Ot-1),p(gt,It,Ot),Et,Rt,(gt+It+Ot)%2)}function qt(Ct,Et,Rt){w=!0,kt(Ct,Et,Rt),w=!1}function ae(Ct,Et,Rt,Ot,It,gt){for(var pt=[],yt=0;yt<Et.length;yt++)for(var Yt=Et[yt],Qt=1;Qt<n;Qt++)for(var le=1;le<b;le++)pt.push(Gt(Ct,Yt,le,Qt,Rt,Ot,It[yt]));return pt}function oe(Ct,Et,Rt,Ot,It,gt){for(var pt=[],yt=0;yt<Et.length;yt++)for(var Yt=Et[yt],Qt=1;Qt<S;Qt++)for(var le=1;le<n;le++)pt.push(Gt(Ct,Qt,Yt,le,Rt,Ot,It[yt]));return pt}function pe(Ct,Et,Rt,Ot,It,gt){for(var pt=[],yt=0;yt<Et.length;yt++)for(var Yt=Et[yt],Qt=1;Qt<b;Qt++)for(var le=1;le<S;le++)pt.push(Gt(Ct,le,Qt,Yt,Rt,Ot,It[yt]));return pt}function ye(Ct,Et){for(var Rt=[],Ot=Ct;Ot<Et;Ot++)Rt.push(Ot);return Rt}return function Zt(){rt(),function Fe(){for(var Ct=0;Ct<S;Ct++)for(var Et=0;Et<b;Et++)for(var Rt=0;Rt<n;Rt++){var Ot=p(Ct,Et,Rt);it(s._x[Ot],s._y[Ot],s._z[Ot],s._value[Ot])}}();var Ct=null;if(u&&v&&(H(v),function zt(Ct,Et,Rt){d=!0,kt(Ct,Et,Rt),d=!1}(Ct,N,k)),c&&y){H(y);for(var Et=s.surface.pattern,Rt=s.surface.count,Ot=0;Ot<Rt;Ot++){var It=1===Rt?.5:Ot/(Rt-1),gt=(1-It)*N+It*k,yt=Math.abs(gt-F)>Math.abs(gt-D)?[F,gt]:[gt,D];qt(Et,yt[0],yt[1])}}var Yt=[[Math.min(N,D),Math.max(N,D)],[Math.min(F,k),Math.max(F,k)]];["x","y","z"].forEach(function(Qt){for(var le=[],he=0;he<Yt.length;he++){var ke=0,Oe=Yt[he][0],Ae=Yt[he][1],je=s.slices[Qt];if(je.show&&je.fill){H(je.fill);var Ze=[],Lr=[],fe=[];if(je.locations.length)for(var Ve=0;Ve<je.locations.length;Ve++){var He=l(je.locations[Ve],"x"===Qt?T:"y"===Qt?L:m);0===He.distRatio?Ze.push(He.id):He.id>0&&(Lr.push(He.id),fe.push("x"===Qt?[He.distRatio,0,0]:"y"===Qt?[0,He.distRatio,0]:[0,0,He.distRatio]))}else Ze=ye(1,"x"===Qt?S-1:"y"===Qt?b-1:n-1);Lr.length>0&&(le[ke]="x"===Qt?ae(Ct,Lr,Oe,Ae,fe):"y"===Qt?oe(Ct,Lr,Oe,Ae,fe):pe(Ct,Lr,Oe,Ae,fe),ke++),Ze.length>0&&(le[ke]="x"===Qt?Vt(Ct,Ze,Oe,Ae,le[ke]):"y"===Qt?te(Ct,Ze,Oe,Ae,le[ke]):_t(Ct,Ze,Oe,Ae,le[ke]),ke++)}var wr=s.caps[Qt];wr.show&&wr.fill&&(H(wr.fill),le[ke]="x"===Qt?Vt(Ct,[0,S-1],Oe,Ae,le[ke]):"y"===Qt?te(Ct,[0,b-1],Oe,Ae,le[ke]):_t(Ct,[0,n-1],Oe,Ae,le[ke]),ke++)}}),0===o&&rt(),s._meshX=O,s._meshY=B,s._meshZ=z,s._meshIntensity=U,s._Xs=T,s._Ys=L,s._Zs=m}(),s}tt.exports={findNearestOnAxis:l,generateIsoMeshes:f,createIsosurfaceTrace:function a(s,c){var y=A({gl:s.glplot.gl}),v=new x(s,y,c.uid);return y._trace=v,v.update(c),s.glplot.add(y),v}}},82738:function(tt,W,t){"use strict";var A=t(71828),g=t(73972),i=t(16249),P=t(1586);function l(x,e,r,f,a){var s=a("isomin"),c=a("isomax");null!=c&&null!=s&&s>c&&(e.isomin=null,e.isomax=null);var u=a("x"),y=a("y"),v=a("z"),w=a("value");u&&u.length&&y&&y.length&&v&&v.length&&w&&w.length?(g.getComponentMethod("calendars","handleTraceDefaults")(x,e,["x","y","z"],f),a("valuehoverformat"),["x","y","z"].forEach(function(T){a(T+"hoverformat");var L="caps."+T;a(L+".show")&&a(L+".fill");var S="slices."+T;a(S+".show")&&(a(S+".fill"),a(S+".locations"))}),a("spaceframe.show")&&a("spaceframe.fill"),a("surface.show")&&(a("surface.count"),a("surface.fill"),a("surface.pattern")),a("contour.show")&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(T){a(T)}),P(x,e,f,a,{prefix:"",cLetter:"c"}),e._length=null):e.visible=!1}tt.exports={supplyDefaults:function E(x,e,r,f){l(x,e,0,f,function a(s,c){return A.coerce(x,e,i,s,c)})},supplyIsoDefaults:l}},64943:function(tt,W,t){"use strict";tt.exports={attributes:t(16249),supplyDefaults:t(82738).supplyDefaults,calc:t(56959),colorbar:{min:"cmin",max:"cmax"},plot:t(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:t(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(tt,W,t){"use strict";var A=t(50693),g=t(12663).axisHoverFormat,i=t(5386).fF,P=t(54532),E=t(9012),l=t(1426).extendFlat;tt.exports=l({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"}),xhoverformat:g("x"),yhoverformat:g("y"),zhoverformat:g("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},A("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:P.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:l({},P.contours.x.show,{}),color:P.contours.x.color,width:P.contours.x.width,editType:"calc"},lightposition:{x:l({},P.lightposition.x,{dflt:1e5}),y:l({},P.lightposition.y,{dflt:1e5}),z:l({},P.lightposition.z,{dflt:0}),editType:"calc"},lighting:l({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},P.lighting),hoverinfo:l({},E.hoverinfo,{editType:"calc"}),showlegend:l({},E.showlegend,{dflt:!1})})},82932:function(tt,W,t){"use strict";var A=t(78803);tt.exports=function(i,P){P.intensity&&A(i,P,{vals:P.intensity,containerStr:"",cLetter:"c"})}},91134:function(tt,W,t){"use strict";var A=t(9330).gl_mesh3d,g=t(9330).delaunay_triangulate,i=t(9330).alpha_shape,P=t(9330).convex_hull,E=t(81697).parseColorScale,l=t(78614),x=t(21081).extractOpts,e=t(90060);function r(w,d,o){this.scene=w,this.uid=o,this.mesh=d,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var f=r.prototype;function a(w){for(var d=[],o=w.length,h=0;h<o;h++)d[h]=l(w[h]);return d}function s(w,d,o,h){for(var M=[],T=d.length,L=0;L<T;L++)M[L]=w.d2l(d[L],0,h)*o;return M}function c(w){for(var d=[],o=w.length,h=0;h<o;h++)d[h]=Math.round(w[h]);return d}function y(w,d){for(var o=w.length,h=0;h<o;h++)if(w[h]<=-.5||w[h]>=d-.5)return!1;return!0}f.handlePick=function(w){if(w.object===this.mesh){var d=w.index=w.data.index;w.traceCoordinate=w.data._cellCenter?w.data.dataCoordinate:[this.data.x[d],this.data.y[d],this.data.z[d]];var o=this.data.hovertext||this.data.text;return Array.isArray(o)&&void 0!==o[d]?w.textLabel=o[d]:o&&(w.textLabel=o),!0}},f.update=function(w){var d=this.scene,o=d.fullSceneLayout;this.data=w;var T,h=w.x.length,M=e(s(o.xaxis,w.x,d.dataScale[0],w.xcalendar),s(o.yaxis,w.y,d.dataScale[1],w.ycalendar),s(o.zaxis,w.z,d.dataScale[2],w.zcalendar));if(w.i&&w.j&&w.k){if(w.i.length!==w.j.length||w.j.length!==w.k.length||!y(w.i,h)||!y(w.j,h)||!y(w.k,h))return;T=e(c(w.i),c(w.j),c(w.k))}else T=0===w.alphahull?P(M):w.alphahull>0?i(w.alphahull,M):function u(w,d){for(var o=["x","y","z"].indexOf(w),h=[],M=d.length,T=0;T<M;T++)h[T]=[d[T][(o+1)%3],d[T][(o+2)%3]];return g(h)}(w.delaunayaxis,M);var L={positions:M,cells:T,lightPosition:[w.lightposition.x,w.lightposition.y,w.lightposition.z],ambient:w.lighting.ambient,diffuse:w.lighting.diffuse,specular:w.lighting.specular,roughness:w.lighting.roughness,fresnel:w.lighting.fresnel,vertexNormalsEpsilon:w.lighting.vertexnormalsepsilon,faceNormalsEpsilon:w.lighting.facenormalsepsilon,opacity:w.opacity,contourEnable:w.contour.show,contourColor:l(w.contour.color).slice(0,3),contourWidth:w.contour.width,useFacetNormals:w.flatshading};if(w.intensity){var m=x(w);this.color="#fff";var S=w.intensitymode;L[S+"Intensity"]=w.intensity,L[S+"IntensityBounds"]=[m.min,m.max],L.colormap=E(w)}else w.vertexcolor?(this.color=w.vertexcolor[0],L.vertexColors=a(w.vertexcolor)):w.facecolor?(this.color=w.facecolor[0],L.cellColors=a(w.facecolor)):(this.color=w.color,L.meshColor=l(w.color));this.mesh.update(L)},f.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},tt.exports=function v(w,d){var h=A({gl:w.glplot.gl}),M=new r(w,h,d.uid);return h._trace=M,M.update(d),w.glplot.add(h),M}},58669:function(tt,W,t){"use strict";var A=t(73972),g=t(71828),i=t(1586),P=t(2418);tt.exports=function(l,x,e,r){function f(y,v){return g.coerce(l,x,P,y,v)}function a(y){var v=y.map(function(w){var d=f(w);return d&&g.isArrayOrTypedArray(d)?d:null});return v.every(function(w){return w&&w.length===v[0].length})&&v}a(["x","y","z"])?(a(["i","j","k"]),(!x.i||x.j&&x.k)&&(!x.j||x.k&&x.i)&&(!x.k||x.i&&x.j)?(A.getComponentMethod("calendars","handleTraceDefaults")(l,x,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(y){f(y)}),f("contour.show")&&(f("contour.color"),f("contour.width")),"intensity"in l?(f("intensity"),f("intensitymode"),i(l,x,r,f,{prefix:"",cLetter:"c"})):(x.showscale=!1,"facecolor"in l?f("facecolor"):"vertexcolor"in l?f("vertexcolor"):f("color",e)),f("text"),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat"),f("zhoverformat"),x._length=null):x.visible=!1):x.visible=!1}},21164:function(tt,W,t){"use strict";tt.exports={attributes:t(2418),supplyDefaults:t(58669),calc:t(82932),colorbar:{min:"cmin",max:"cmax"},plot:t(91134),moduleType:"trace",name:"mesh3d",basePlotModule:t(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(tt,W,t){"use strict";var A=t(71828).extendFlat,g=t(82196),i=t(12663).axisHoverFormat,P=t(79952).P,E=t(77914),l=t(22372),x=l.INCREASING.COLOR,e=l.DECREASING.COLOR,r=g.line;function f(a){return{line:{color:A({},r.color,{dflt:a}),width:r.width,dash:P,editType:"style"},editType:"style"}}tt.exports={xperiod:g.xperiod,xperiod0:g.xperiod0,xperiodalignment:g.xperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:A({},r.width,{}),dash:A({},P,{}),editType:"style"},increasing:f(x),decreasing:f(e),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:A({},E.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(tt,W,t){"use strict";var A=t(71828),g=A._,i=t(89298),P=t(42973),E=t(50606).BADNUM;function x(f,a,s,c){return{o:f,h:a,l:s,c}}function e(f,a,s,c,u,y){for(var v=u.makeCalcdata(a,"open"),w=u.makeCalcdata(a,"high"),d=u.makeCalcdata(a,"low"),o=u.makeCalcdata(a,"close"),h=Array.isArray(a.text),M=Array.isArray(a.hovertext),T=!0,L=null,m=!!a.xperiodalignment,S=[],b=0;b<c.length;b++){var n=c[b],C=v[b],p=w[b],F=d[b],D=o[b];if(n!==E&&C!==E&&p!==E&&F!==E&&D!==E){D===C?null!==L&&D!==L&&(T=D>L):T=D>C,L=D;var N=y(C,p,F,D);N.pos=n,N.yc=(C+D)/2,N.i=b,N.dir=T?"increasing":"decreasing",N.x=N.pos,N.y=[F,p],m&&(N.orig_p=s[b]),h&&(N.tx=a.text[b]),M&&(N.htx=a.hovertext[b]),S.push(N)}else S.push({pos:n,empty:!0})}return a._extremes[u._id]=i.findExtremes(u,A.concat(d,w),{padded:!0}),S.length&&(S[0].t={labels:{open:g(f,"open:")+" ",high:g(f,"high:")+" ",low:g(f,"low:")+" ",close:g(f,"close:")+" "}}),S}tt.exports={calc:function l(f,a){var s=i.getFromId(f,a.xaxis),c=i.getFromId(f,a.yaxis),u=function r(f,a,s){var c=s._minDiff;if(!c){var v,u=f._fullData,y=[];for(c=1/0,v=0;v<u.length;v++){var w=u[v];if("ohlc"===w.type&&!0===w.visible&&w.xaxis===a._id){y.push(w);var d=a.makeCalcdata(w,"x");w._origX=d;var o=P(s,a,"x",d).vals;w._xcalc=o;var h=A.distinctVals(o).minDiff;h&&isFinite(h)&&(c=Math.min(c,h))}}for(c===1/0&&(c=1),v=0;v<y.length;v++)y[v]._minDiff=c}return c*s.tickwidth}(f,s,a),y=a._minDiff;a._minDiff=null;var v=a._origX;a._origX=null;var w=a._xcalc;a._xcalc=null;var d=e(f,a,v,w,c,x);return a._extremes[s._id]=i.findExtremes(s,w,{vpad:y/2}),d.length?(A.extendFlat(d[0].t,{wHover:y/2,tickLen:u}),d):[{t:{empty:!0}}]},calcCommon:e}},16169:function(tt,W,t){"use strict";var A=t(71828),g=t(14555),i=t(73927),P=t(2522);function E(l,x,e,r){e(r+".line.color"),e(r+".line.width",x.line.width),e(r+".line.dash",x.line.dash)}tt.exports=function(x,e,r,f){function a(c,u){return A.coerce(x,e,P,c,u)}g(x,e,a,f)?(i(x,e,f,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),E(0,e,a,"increasing"),E(0,e,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),f._requestRangeslider[e.xaxis]=!0):e.visible=!1}},66449:function(tt,W,t){"use strict";var A=t(89298),g=t(71828),i=t(30211),P=t(7901),E=t(71828).fillText,l=t(22372),x={increasing:l.INCREASING.SYMBOL,decreasing:l.DECREASING.SYMBOL};function r(s,c,u,y){var L,m,v=s.cd,w=s.xa,d=v[0].trace,o=v[0].t,h=d.type,M="ohlc"===h?"l":"min",T="ohlc"===h?"h":"max",S=o.bPos||0,n=o.bdPos||o.tickLen,C=o.wHover,p=Math.min(1,n/Math.abs(w.r2c(w.range[1])-w.r2c(w.range[0])));function F(G){var Q=function(G){return G.pos+S-c}(G);return i.inbox(Q-C,Q+C,L)}function D(G){var Q=G[M],rt=G[T];return Q===rt||i.inbox(Q-u,rt-u,L)}function N(G){return(F(G)+D(G))/2}L=s.maxHoverDistance-p,m=s.maxSpikeDistance-p;var k=i.getDistanceFunction(y,F,D,N);if(i.getClosest(v,k,s),!1===s.index)return null;var O=v[s.index];if(O.empty)return null;var z=d[O.dir],U=z.line.color;return s.color=P.opacity(U)&&z.line.width?U:z.fillcolor,s.x0=w.c2p(O.pos+S-n,!0),s.x1=w.c2p(O.pos+S+n,!0),s.xLabelVal=void 0!==O.orig_p?O.orig_p:O.pos,s.spikeDistance=N(O)*m/L,s.xSpike=w.c2p(O.pos,!0),s}function f(s,c,u,y){var v=s.cd,w=s.ya,d=v[0].trace,o=v[0].t,h=[],M=r(s,c,u,y);if(!M)return[];var m=v[M.index].hi||d.hoverinfo,S=m.split("+");if("all"!==m&&-1===S.indexOf("y"))return[];for(var C=["high","open","close","low"],p={},F=0;F<C.length;F++){var O,D=C[F],N=d[D][M.index],k=w.c2p(N,!0);N in p?(O=p[N]).yLabel+="<br>"+o.labels[D]+A.hoverLabelText(w,N,d.yhoverformat):((O=g.extendFlat({},M)).y0=O.y1=k,O.yLabelVal=N,O.yLabel=o.labels[D]+A.hoverLabelText(w,N,d.yhoverformat),O.name="",h.push(O),p[N]=O)}return h}function a(s,c,u,y){var v=s.cd,w=s.ya,d=v[0].trace,o=v[0].t,h=r(s,c,u,y);if(!h)return[];var T=v[h.index],L=h.index=T.i,m=T.dir;function S(N){return o.labels[N]+A.hoverLabelText(w,d[N][L],d.yhoverformat)}var b=T.hi||d.hoverinfo,n=b.split("+"),C="all"===b,p=C||-1!==n.indexOf("y"),F=C||-1!==n.indexOf("text"),D=p?[S("open"),S("high"),S("low"),S("close")+"  "+x[m]]:[];return F&&E(T,d,D),h.extraText=D.join("<br>"),h.y0=h.y1=w.c2p(T.yc,!0),[h]}tt.exports={hoverPoints:function e(s,c,u,y){return s.cd[0].trace.hoverlabel.split?f(s,c,u,y):a(s,c,u,y)},hoverSplit:f,hoverOnPoints:a}},54186:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"ohlc",basePlotModule:t(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:t(2522),supplyDefaults:t(16169),calc:t(3485).calc,plot:t(72314),style:t(53101),hoverPoints:t(66449).hoverPoints,selectPoints:t(67324)}},14555:function(tt,W,t){"use strict";var A=t(73972),g=t(71828);tt.exports=function(P,E,l,x){var e=l("x"),r=l("open"),f=l("high"),a=l("low"),s=l("close");if(l("hoverlabel.split"),A.getComponentMethod("calendars","handleTraceDefaults")(P,E,["x"],x),r&&f&&a&&s){var u=Math.min(r.length,f.length,a.length,s.length);return e&&(u=Math.min(u,g.minRowLength(e))),E._length=u,u}}},72314:function(tt,W,t){"use strict";var A=t(39898),g=t(71828);tt.exports=function(P,E,l,x){var e=E.yaxis,r=E.xaxis,f=!!r.rangebreaks;g.makeTraceGroups(x,l,"trace ohlc").each(function(a){var s=A.select(this),c=a[0],u=c.t;if(!0!==c.trace.visible||u.empty)s.remove();else{var v=u.tickLen,w=s.selectAll("path").data(g.identity);w.enter().append("path"),w.exit().remove(),w.attr("d",function(d){if(d.empty)return"M0,0Z";var o=r.c2p(d.pos-v,!0),h=r.c2p(d.pos+v,!0),M=f?(o+h)/2:r.c2p(d.pos,!0);return"M"+o+","+e.c2p(d.o,!0)+"H"+M+"M"+M+","+e.c2p(d.h,!0)+"V"+e.c2p(d.l,!0)+"M"+h+","+e.c2p(d.c,!0)+"H"+M})}})}},67324:function(tt){"use strict";tt.exports=function(t,A){var l,g=t.cd,i=t.xaxis,P=t.yaxis,E=[],x=g[0].t.bPos||0;if(!1===A)for(l=0;l<g.length;l++)g[l].selected=0;else for(l=0;l<g.length;l++){var e=g[l];A.contains([i.c2p(e.pos+x),P.c2p(e.yc)],null,e.i,t)?(E.push({pointNumber:e.i,x:i.c2d(e.pos),y:P.c2d(e.yc)}),e.selected=1):e.selected=0}return E}},53101:function(tt,W,t){"use strict";var A=t(39898),g=t(91424),i=t(7901);tt.exports=function(E,l,x){var e=x||A.select(E).selectAll("g.ohlclayer").selectAll("g.trace");e.style("opacity",function(r){return r[0].trace.opacity}),e.each(function(r){var f=r[0].trace;A.select(this).selectAll("path").each(function(a){if(!a.empty){var s=f[a.dir].line;A.select(this).style("fill","none").call(i.stroke,s.color).call(g.dashLine,s.dash,s.width).style("opacity",f.selectedpoints&&!a.selected?.3:1)}})})}},99506:function(tt,W,t){"use strict";var A=t(1426).extendFlat,g=t(9012),i=t(41940),P=t(50693),E=t(5386).fF,l=t(27670).Y,x=A({editType:"calc"},P("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:E({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});tt.exports={domain:l({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:A({},g.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:E({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:i({editType:"calc"}),tickfont:i({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:x,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(tt,W,t){"use strict";var A=t(27659).a0,g=t(45784),i="parcats";W.name=i,W.plot=function(P,E,l,x){var e=A(P.calcdata,i);e.length&&g(P,e[0],l,x)},W.clean=function(P,E,l,x){var e=x._has&&x._has("parcats"),r=E._has&&E._has("parcats");e&&!r&&x._paperdiv.selectAll(".parcats").remove()}},28699:function(tt,W,t){"use strict";var A=t(28984).wrap,g=t(52075).hasColorscale,i=t(78803),P=t(75744),E=t(91424),l=t(71828),x=t(92770);function f(d,o,h,M){return{dimensionInd:d,categoryInd:o,categoryValue:h,displayInd:o,categoryLabel:M,valueInds:[],count:0,dragY:null}}function a(d,o,h){d.valueInds.push(o),d.count+=h}function s(d,o,h){return{categoryInds:d,color:o,rawColor:h,valueInds:[],count:0}}function c(d,o,h){d.valueInds.push(o),d.count+=h}function y(d){var h;if(function w(d){for(var o=new Array(d.length),h=0;h<d.length;h++){if(d[h]<0||d[h]>=d.length||void 0!==o[d[h]])return!1;o[d[h]]=!0}return!0}(d.map(function(M){return M.displayindex})))for(h=0;h<d.length;h++)d[h]._displayindex=d[h].displayindex;else for(h=0;h<d.length;h++)d[h]._displayindex=h}tt.exports=function(o,h){var M=l.filterVisible(h.dimensions);if(0===M.length)return[];var L,m,S,T=M.map(function(J){var j;if("trace"===J.categoryorder)j=null;else if("array"===J.categoryorder)j=J.categoryarray;else{j=P(J.values);for(var Z=!0,H=0;H<j.length;H++)if(!x(j[H])){Z=!1;break}j.sort(Z?l.sorterAsc:void 0),"category descending"===J.categoryorder&&(j=j.reverse())}return function u(d,o){o=null==o?[]:o.map(function(n){return n});var h={},M={},T=[];o.forEach(function(n,C){h[n]=0,M[n]=C});for(var L=0;L<d.length;L++){var S,m=d[L];void 0===h[m]?(h[m]=1,S=o.push(m)-1,M[m]=S):(h[m]++,S=M[m]),T.push(S)}var b=o.map(function(n){return h[n]});return{uniqueValues:o,uniqueCounts:b,inds:T}}(J.values,j)});L=l.isArrayOrTypedArray(h.counts)?h.counts:[h.counts],y(M),M.forEach(function(J,j){!function v(d,o){d._categoryarray=o.uniqueValues,d._ticktext=null==d.ticktext?[]:d.ticktext.slice();for(var h=d._ticktext.length;h<o.uniqueValues.length;h++)d._ticktext.push(o.uniqueValues[h])}(J,T[j])});var n,b=h.line;b?(g(h,"line")&&i(o,h,{vals:h.line.color,containerStr:"line",cLetter:"c"}),n=E.tryColorscale(b)):n=l.identity;var N,k,J,j,Z,p=M[0].values.length,F={},D=T.map(function(J){return J.inds});for(S=0,N=0;N<p;N++){var O=[];for(k=0;k<D.length;k++)O.push(D[k][N]);S+=m=L[N%L.length];var B=(J=N,j=void 0,Z=void 0,l.isArrayOrTypedArray(b.color)?Z=j=b.color[J%b.color.length]:j=b.color,{color:n(j),rawColor:Z}),z=O+"-"+B.rawColor;void 0===F[z]&&(F[z]=s(O,B.color,B.rawColor)),c(F[z],N,m)}var U=M.map(function(J,j){return function r(d,o,h,M,T){return{dimensionInd:d,containerInd:o,displayInd:h,dimensionLabel:M,count:T,categories:[],dragX:null}}(j,J._index,J._displayindex,J.label,S)});for(N=0;N<p;N++)for(m=L[N%L.length],k=0;k<U.length;k++){var G=U[k].containerInd,Q=T[k].inds[N],rt=U[k].categories;void 0===rt[Q]&&(rt[Q]=f(k,Q,h.dimensions[G]._categoryarray[Q],h.dimensions[G]._ticktext[Q])),a(rt[Q],N,m)}return A(function e(d,o,h){var M=d.map(function(T){return T.categories.length}).reduce(function(T,L){return Math.max(T,L)});return{dimensions:d,paths:o,trace:void 0,maxCats:M,count:h}}(U,F,S))}},14647:function(tt,W,t){"use strict";var A=t(71828),g=t(52075).hasColorscale,i=t(1586),P=t(27670).c,E=t(85501),l=t(99506),x=t(94397);function r(f,a){function s(o,h){return A.coerce(f,a,l.dimensions,o,h)}var c=s("values"),u=s("visible");if(c&&c.length||(u=a.visible=!1),u){s("label"),s("displayindex",a._index);var w,y=f.categoryarray,v=Array.isArray(y)&&y.length>0;v&&(w="array");var d=s("categoryorder",w);"array"===d?(s("categoryarray"),s("ticktext")):(delete f.categoryarray,delete f.ticktext),!v&&"array"===d&&(a.categoryorder="trace")}}tt.exports=function(a,s,c,u){function y(h,M){return A.coerce(a,s,l,h,M)}var v=E(a,s,{name:"dimensions",handleItemDefaults:r}),w=function e(f,a,s,c,u){u("line.shape"),u("line.hovertemplate");var y=u("line.color",c.colorway[0]);if(g(f,"line")&&A.isArrayOrTypedArray(y)){if(y.length)return u("line.colorscale"),i(f,a,c,u,{prefix:"line.",cLetter:"c"}),y.length;a.line.color=s}return 1/0}(a,s,c,u,y);P(s,u,y),(!Array.isArray(v)||!v.length)&&(s.visible=!1),x(s,v,"values",w),y("hoveron"),y("hovertemplate"),y("arrangement"),y("bundlecolors"),y("sortpaths"),y("counts");var d={family:u.font.family,size:Math.round(u.font.size),color:u.font.color};A.coerceFont(y,"labelfont",d);var o={family:u.font.family,size:Math.round(u.font.size/1.2),color:u.font.color};A.coerceFont(y,"tickfont",o)}},94873:function(tt,W,t){"use strict";tt.exports={attributes:t(99506),supplyDefaults:t(14647),calc:t(28699),plot:t(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:t(27677),categories:["noOpacity"],meta:{}}},45460:function(tt,W,t){"use strict";var A=t(39898),g=t(81684).k4,i=t(72391),P=t(30211),E=t(71828),l=E.strTranslate,x=t(91424),e=t(84267),r=t(63893);function f(H,X,at,_){var K=X._context.staticPlot,nt=H.map(it.bind(0,X,at)),et=_.selectAll("g.parcatslayer").data([null]);et.enter().append("g").attr("class","parcatslayer").style("pointer-events",K?"none":"all");var st=et.selectAll("g.trace.parcats").data(nt,a),dt=st.enter().append("g").attr("class","trace parcats");st.attr("transform",function(Vt){return l(Vt.x,Vt.y)}),dt.append("g").attr("class","paths");var bt=st.select("g.paths").selectAll("path.path").data(function(Vt){return Vt.paths},a);bt.attr("fill",function(Vt){return Vt.model.color});var Dt=bt.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Vt){return Vt.model.color}).attr("fill-opacity",0);o(Dt),bt.attr("d",function(Vt){return Vt.svgD}),Dt.empty()||bt.sort(c),bt.exit().remove(),bt.on("mouseover",u).on("mouseout",y).on("click",d),dt.append("g").attr("class","dimensions");var Mt=st.select("g.dimensions").selectAll("g.dimension").data(function(Vt){return Vt.dimensions},a);Mt.enter().append("g").attr("class","dimension"),Mt.attr("transform",function(Vt){return l(Vt.x,0)}),Mt.exit().remove();var wt=Mt.selectAll("g.category").data(function(Vt){return Vt.categories},a),St=wt.enter().append("g").attr("class","category");wt.attr("transform",function(Vt){return l(0,Vt.y)}),St.append("rect").attr("class","catrect").attr("pointer-events","none"),wt.select("rect.catrect").attr("fill","none").attr("width",function(Vt){return Vt.width}).attr("height",function(Vt){return Vt.height}),T(St);var Ut=wt.selectAll("rect.bandrect").data(function(Vt){return Vt.bands},a);Ut.each(function(){E.raiseToTop(this)}),Ut.attr("fill",function(Vt){return Vt.color});var Gt=Ut.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Vt){return Vt.color}).attr("fill-opacity",0);Ut.attr("fill",function(Vt){return Vt.color}).attr("width",function(Vt){return Vt.width}).attr("height",function(Vt){return Vt.height}).attr("y",function(Vt){return Vt.y}).attr("cursor",function(Vt){return"fixed"===Vt.parcatsViewModel.arrangement?"default":"perpendicular"===Vt.parcatsViewModel.arrangement?"ns-resize":"move"}),m(Gt),Ut.exit().remove(),St.append("text").attr("class","catlabel").attr("pointer-events","none");var Pt=X._fullLayout.paper_bgcolor;wt.select("text.catlabel").attr("text-anchor",function(Vt){return s(Vt)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",r.makeTextShadow(Pt)).style("fill","rgb(0, 0, 0)").attr("x",function(Vt){return s(Vt)?Vt.width+5:-5}).attr("y",function(Vt){return Vt.height/2}).text(function(Vt){return Vt.model.categoryLabel}).each(function(Vt){x.font(A.select(this),Vt.parcatsViewModel.categorylabelfont),r.convertToTspans(A.select(this),X)}),St.append("text").attr("class","dimlabel"),wt.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Vt){return"fixed"===Vt.parcatsViewModel.arrangement?"default":"ew-resize"}).attr("x",function(Vt){return Vt.width/2}).attr("y",-5).text(function(Vt,te){return 0===te?Vt.parcatsViewModel.model.dimensions[Vt.model.dimensionInd].dimensionLabel:null}).each(function(Vt){x.font(A.select(this),Vt.parcatsViewModel.labelfont)}),wt.selectAll("rect.bandrect").on("mouseover",k).on("mouseout",O),wt.exit().remove(),Mt.call(A.behavior.drag().origin(function(Vt){return{x:Vt.x,y:0}}).on("dragstart",B).on("drag",z).on("dragend",U)),st.each(function(Vt){Vt.traceSelection=A.select(this),Vt.pathSelection=A.select(this).selectAll("g.paths").selectAll("path.path"),Vt.dimensionSelection=A.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),st.exit().remove()}function a(H){return H.key}function s(H){return H.model.dimensionInd===H.parcatsViewModel.dimensions[H.parcatsViewModel.dimensions.length-1].model.dimensionInd}function c(H,X){return H.model.rawColor>X.model.rawColor?1:H.model.rawColor<X.model.rawColor?-1:0}function u(H){if(!H.parcatsViewModel.dragDimension&&-1===H.parcatsViewModel.hoverinfoItems.indexOf("skip")){E.raiseToTop(this),h(A.select(this));var X=v(H),at=w(H);if(H.parcatsViewModel.graphDiv.emit("plotly_hover",{points:X,event:A.event,constraints:at}),-1===H.parcatsViewModel.hoverinfoItems.indexOf("none")){var Tt,bt,Dt,_=A.mouse(this)[0],K=H.parcatsViewModel.graphDiv,nt=H.parcatsViewModel.trace,et=K._fullLayout,st=et._paperdiv.node().getBoundingClientRect(),dt=H.parcatsViewModel.graphDiv.getBoundingClientRect();for(Dt=0;Dt<H.leftXs.length-1;Dt++)if(H.leftXs[Dt]+H.dimWidths[Dt]-2<=_&&_<=H.leftXs[Dt+1]+2){var Ft=H.parcatsViewModel.dimensions[Dt];Tt=(Ft.x+Ft.width+H.parcatsViewModel.dimensions[Dt+1].x)/2,bt=(H.topYs[Dt]+H.topYs[Dt+1]+H.height)/2;break}var wt=H.parcatsViewModel.x+Tt,St=H.parcatsViewModel.y+bt,Ut=e.mostReadable(H.model.color,["black","white"]),Gt=H.model.count,Pt=Gt/H.parcatsViewModel.model.count,Vt={countLabel:Gt,probabilityLabel:Pt.toFixed(3)},te=[];-1!==H.parcatsViewModel.hoverinfoItems.indexOf("count")&&te.push(["Count:",Vt.countLabel].join(" ")),-1!==H.parcatsViewModel.hoverinfoItems.indexOf("probability")&&te.push(["P:",Vt.probabilityLabel].join(" "));var _t=te.join("<br>"),kt=A.mouse(K)[0];P.loneHover({trace:nt,x:wt-st.left+dt.left,y:St-st.top+dt.top,text:_t,color:H.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ut,idealAlign:kt<wt?"right":"left",hovertemplate:(nt.line||{}).hovertemplate,hovertemplateLabels:Vt,eventData:[{data:nt._input,fullData:nt,count:Gt,probability:Pt}]},{container:et._hoverlayer.node(),outerContainer:et._paper.node(),gd:K})}}}function y(H){if(!H.parcatsViewModel.dragDimension&&(o(A.select(this)),P.loneUnhover(H.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),H.parcatsViewModel.pathSelection.sort(c),-1===H.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var X=v(H),at=w(H);H.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:X,event:A.event,constraints:at})}}function v(H){for(var X=[],at=G(H.parcatsViewModel),_=0;_<H.model.valueInds.length;_++)X.push({curveNumber:at,pointNumber:H.model.valueInds[_]});return X}function w(H){for(var X={},at=H.parcatsViewModel.model.dimensions,_=0;_<at.length;_++){var K=at[_];X[K.containerInd]=K.categories[H.model.categoryInds[_]].categoryValue}return void 0!==H.model.rawColor&&(X.color=H.model.rawColor),X}function d(H){if(-1===H.parcatsViewModel.hoverinfoItems.indexOf("skip")){var X=v(H),at=w(H);H.parcatsViewModel.graphDiv.emit("plotly_click",{points:X,event:A.event,constraints:at})}}function o(H){H.attr("fill",function(X){return X.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function h(H){H.attr("fill-opacity",.8).attr("stroke",function(X){return e.mostReadable(X.model.color,["black","white"])}).attr("stroke-width",.3)}function T(H){H.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function m(H){H.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function S(H){var at=H.categoryViewModel.model.dimensionInd,_=H.categoryViewModel.model.categoryInd;return H.parcatsViewModel.pathSelection.filter(function(K){return K.model.categoryInds[at]===_&&K.model.color===H.color})}function C(H,X,at){var _=A.select(H).datum(),K=_.categoryViewModel.model,nt=_.parcatsViewModel.graphDiv,et=A.select(H.parentNode).selectAll("rect.bandrect"),st=[];et.each(function(Tt){S(Tt).each(function(Dt){Array.prototype.push.apply(st,v(Dt))})});var dt={};dt[K.dimensionInd]=K.categoryValue,nt.emit(X,{points:st,event:at,constraints:dt})}function p(H,X,at){var _=A.select(H).datum(),K=_.categoryViewModel.model,nt=_.parcatsViewModel.graphDiv,et=S(_),st=[];et.each(function(Tt){Array.prototype.push.apply(st,v(Tt))});var dt={};dt[K.dimensionInd]=K.categoryValue,void 0!==_.rawColor&&(dt.color=_.rawColor),nt.emit(X,{points:st,event:at,constraints:dt})}function F(H,X,at){H._fullLayout._calcInverseTransform(H);var Ft,Mt,_=H._fullLayout._invScaleX,K=H._fullLayout._invScaleY,nt=A.select(at.parentNode).select("rect.catrect"),et=nt.node().getBoundingClientRect(),st=nt.datum(),dt=st.parcatsViewModel,bt=dt.trace,Dt=et.top+et.height/2;dt.dimensions.length>1&&dt.model.dimensions[st.model.dimensionInd].displayInd===dt.dimensions.length-1?(Ft=et.left,Mt="left"):(Ft=et.left+et.width,Mt="right");var wt=st.model.count,St=st.model.categoryLabel,Ut=wt/st.parcatsViewModel.model.count,Gt={countLabel:wt,categoryLabel:St,probabilityLabel:Ut.toFixed(3)},Pt=[];-1!==st.parcatsViewModel.hoverinfoItems.indexOf("count")&&Pt.push(["Count:",Gt.countLabel].join(" ")),-1!==st.parcatsViewModel.hoverinfoItems.indexOf("probability")&&Pt.push(["P("+Gt.categoryLabel+"):",Gt.probabilityLabel].join(" "));var Vt=Pt.join("<br>");return{trace:bt,x:_*(Ft-X.left),y:K*(Dt-X.top),text:Vt,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Mt,hovertemplate:bt.hovertemplate,hovertemplateLabels:Gt,eventData:[{data:bt._input,fullData:bt,count:wt,category:St,probability:Ut}]}}function k(H){if(!H.parcatsViewModel.dragDimension&&-1===H.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(A.mouse(this)[1]<-1)return;var st,at=H.parcatsViewModel.graphDiv,_=at._fullLayout,K=_._paperdiv.node().getBoundingClientRect(),nt=H.parcatsViewModel.hoveron,et=this;"color"===nt?(function n(H){var X=A.select(H).datum(),at=S(X);h(at),at.each(function(){E.raiseToTop(this)}),A.select(H.parentNode).selectAll("rect.bandrect").filter(function(_){return _.color===X.color}).each(function(){E.raiseToTop(this),function L(H){H.attr("stroke","black").attr("stroke-width",1.5)}(A.select(this))})}(et),p(et,"plotly_hover",A.event)):(function b(H){A.select(H.parentNode).selectAll("rect.bandrect").each(function(at){var _=S(at);h(_),_.each(function(){E.raiseToTop(this)})}),function M(H){H.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(A.select(H.parentNode))}(et),C(et,"plotly_hover",A.event)),-1===H.parcatsViewModel.hoverinfoItems.indexOf("none")&&("category"===nt?st=F(at,K,et):"color"===nt?st=function N(H,X,at){H._fullLayout._calcInverseTransform(H);var Ft,Mt,_=H._fullLayout._invScaleX,K=H._fullLayout._invScaleY,nt=at.getBoundingClientRect(),et=A.select(at).datum(),st=et.categoryViewModel,dt=st.parcatsViewModel,bt=dt.trace,Dt=nt.y+nt.height/2;dt.dimensions.length>1&&dt.model.dimensions[st.model.dimensionInd].displayInd===dt.dimensions.length-1?(Ft=nt.left,Mt="left"):(Ft=nt.left+nt.width,Mt="right");var wt=st.model.categoryLabel,St=et.parcatsViewModel.model.count,Ut=0;et.categoryViewModel.bands.forEach(function(oe){oe.color===et.color&&(Ut+=oe.count)});var Gt=st.model.count,Pt=0;dt.pathSelection.each(function(oe){oe.model.color===et.color&&(Pt+=oe.model.count)});var Vt=Ut/St,te=Ut/Pt,_t=Ut/Gt,kt={countLabel:St,categoryLabel:wt,probabilityLabel:Vt.toFixed(3)},zt=[];-1!==st.parcatsViewModel.hoverinfoItems.indexOf("count")&&zt.push(["Count:",kt.countLabel].join(" ")),-1!==st.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(zt.push("P(color \u2229 "+wt+"): "+kt.probabilityLabel),zt.push("P("+wt+" | color): "+te.toFixed(3)),zt.push("P(color | "+wt+"): "+_t.toFixed(3)));var qt=zt.join("<br>"),ae=e.mostReadable(et.color,["black","white"]);return{trace:bt,x:_*(Ft-X.left),y:K*(Dt-X.top),text:qt,color:et.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:ae,fontSize:10,idealAlign:Mt,hovertemplate:bt.hovertemplate,hovertemplateLabels:kt,eventData:[{data:bt._input,fullData:bt,category:wt,count:St,probability:Vt,categorycount:Gt,colorcount:Pt,bandcolorcount:Ut}]}}(at,K,et):"dimension"===nt&&(st=function D(H,X,at){var _=[];return A.select(at.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){_.push(F(H,X,this))}),_}(at,K,et)),st&&P.loneHover(st,{container:_._hoverlayer.node(),outerContainer:_._paper.node(),gd:at}))}}function O(H){var X=H.parcatsViewModel;if(!X.dragDimension&&(o(X.pathSelection),T(X.dimensionSelection.selectAll("g.category")),m(X.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),P.loneUnhover(X.graphDiv._fullLayout._hoverlayer.node()),X.pathSelection.sort(c),-1===X.hoverinfoItems.indexOf("skip"))){"color"===H.parcatsViewModel.hoveron?p(this,"plotly_unhover",A.event):C(this,"plotly_unhover",A.event)}}function B(H){"fixed"!==H.parcatsViewModel.arrangement&&(H.dragDimensionDisplayInd=H.model.displayInd,H.initialDragDimensionDisplayInds=H.parcatsViewModel.model.dimensions.map(function(X){return X.displayInd}),H.dragHasMoved=!1,H.dragCategoryDisplayInd=null,A.select(this).selectAll("g.category").select("rect.catrect").each(function(X){var at=A.mouse(this)[0],_=A.mouse(this)[1];-2<=at&&at<=X.width+2&&-2<=_&&_<=X.height+2&&(H.dragCategoryDisplayInd=X.model.displayInd,H.initialDragCategoryDisplayInds=H.model.categories.map(function(K){return K.displayInd}),X.model.dragY=X.y,E.raiseToTop(this.parentNode),A.select(this.parentNode).selectAll("rect.bandrect").each(function(K){K.y<_&&_<=K.y+K.height&&(H.potentialClickBand=this)}))}),H.parcatsViewModel.dragDimension=H,P.loneUnhover(H.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function z(H){if("fixed"!==H.parcatsViewModel.arrangement&&(H.dragHasMoved=!0,null!==H.dragDimensionDisplayInd)){var X=H.dragDimensionDisplayInd,at=X-1,_=X+1,K=H.parcatsViewModel.dimensions[X];if(null!==H.dragCategoryDisplayInd){var nt=K.categories[H.dragCategoryDisplayInd];nt.model.dragY+=A.event.dy;var et=nt.model.dragY,st=nt.model.displayInd,dt=K.categories,Tt=dt[st-1],bt=dt[st+1];void 0!==Tt&&et<Tt.y+Tt.height/2&&(nt.model.displayInd=Tt.model.displayInd,Tt.model.displayInd=st),void 0!==bt&&et+nt.height>bt.y+bt.height/2&&(nt.model.displayInd=bt.model.displayInd,bt.model.displayInd=st),H.dragCategoryDisplayInd=nt.model.displayInd}if(null===H.dragCategoryDisplayInd||"freeform"===H.parcatsViewModel.arrangement){K.model.dragX=A.event.x;var Dt=H.parcatsViewModel.dimensions[at],Ft=H.parcatsViewModel.dimensions[_];void 0!==Dt&&K.model.dragX<Dt.x+Dt.width&&(K.model.displayInd=Dt.model.displayInd,Dt.model.displayInd=X),void 0!==Ft&&K.model.dragX+K.width>Ft.x&&(K.model.displayInd=Ft.model.displayInd,Ft.model.displayInd=H.dragDimensionDisplayInd),H.dragDimensionDisplayInd=K.model.displayInd}j(H.parcatsViewModel),J(H.parcatsViewModel),rt(H.parcatsViewModel),Q(H.parcatsViewModel)}}function U(H){if("fixed"!==H.parcatsViewModel.arrangement&&null!==H.dragDimensionDisplayInd){A.select(this).selectAll("text").attr("font-weight","normal");var X={},at=G(H.parcatsViewModel),_=H.parcatsViewModel.model.dimensions.map(function(Ft){return Ft.displayInd}),K=H.initialDragDimensionDisplayInds.some(function(Ft,Mt){return Ft!==_[Mt]});K&&_.forEach(function(Ft,Mt){X["dimensions["+H.parcatsViewModel.model.dimensions[Mt].containerInd+"].displayindex"]=Ft});var nt=!1;if(null!==H.dragCategoryDisplayInd){var et=H.model.categories.map(function(Ft){return Ft.displayInd});if(nt=H.initialDragCategoryDisplayInds.some(function(Ft,Mt){return Ft!==et[Mt]})){var st=H.model.categories.slice().sort(function(Ft,Mt){return Ft.displayInd-Mt.displayInd}),dt=st.map(function(Ft){return Ft.categoryValue}),Tt=st.map(function(Ft){return Ft.categoryLabel});X["dimensions["+H.model.containerInd+"].categoryarray"]=[dt],X["dimensions["+H.model.containerInd+"].ticktext"]=[Tt],X["dimensions["+H.model.containerInd+"].categoryorder"]="array"}}-1===H.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!H.dragHasMoved&&H.potentialClickBand&&("color"===H.parcatsViewModel.hoveron?p(H.potentialClickBand,"plotly_click",A.event.sourceEvent):C(H.potentialClickBand,"plotly_click",A.event.sourceEvent)),H.model.dragX=null,null!==H.dragCategoryDisplayInd&&(H.parcatsViewModel.dimensions[H.dragDimensionDisplayInd].categories[H.dragCategoryDisplayInd].model.dragY=null,H.dragCategoryDisplayInd=null),H.dragDimensionDisplayInd=null,H.parcatsViewModel.dragDimension=null,H.dragHasMoved=null,H.potentialClickBand=null,j(H.parcatsViewModel),J(H.parcatsViewModel),A.transition().duration(300).ease("cubic-in-out").each(function(){rt(H.parcatsViewModel,!0),Q(H.parcatsViewModel,!0)}).each("end",function(){(K||nt)&&i.restyle(H.parcatsViewModel.graphDiv,X,[at])})}}function G(H){for(var X,at=H.graphDiv._fullData,_=0;_<at.length;_++)if(H.key===at[_].uid){X=_;break}return X}function Q(H,X){void 0===X&&(X=!1),H.pathSelection.data(function(_){return _.paths},a),function at(_){return X?_.transition():_}(H.pathSelection).attr("d",function(_){return _.svgD})}function rt(H,X){function at(dt){return X?dt.transition():dt}void 0===X&&(X=!1),H.dimensionSelection.data(function(dt){return dt.dimensions},a);var _=H.dimensionSelection.selectAll("g.category").data(function(dt){return dt.categories},a);at(H.dimensionSelection).attr("transform",function(dt){return l(dt.x,0)}),at(_).attr("transform",function(dt){return l(0,dt.y)}),_.select(".dimlabel").text(function(dt,Tt){return 0===Tt?dt.parcatsViewModel.model.dimensions[dt.model.dimensionInd].dimensionLabel:null}),_.select(".catlabel").attr("text-anchor",function(dt){return s(dt)?"start":"end"}).attr("x",function(dt){return s(dt)?dt.width+5:-5}).each(function(dt){var Tt,bt;s(dt)?(Tt=dt.width+5,bt="start"):(Tt=-5,bt="end"),A.select(this).selectAll("tspan").attr("x",Tt).attr("text-anchor",bt)});var et=_.selectAll("rect.bandrect").data(function(dt){return dt.bands},a),st=et.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(dt){return dt.color}).attr("fill-opacity",0);et.attr("fill",function(dt){return dt.color}).attr("width",function(dt){return dt.width}).attr("height",function(dt){return dt.height}).attr("y",function(dt){return dt.y}),m(st),et.each(function(){E.raiseToTop(this)}),et.exit().remove()}function it(H,X,at){var wt,_=at[0],K=X.margin||{l:80,r:80,t:100,b:80},nt=_.trace,et=nt.domain,st=X.width,dt=X.height,Tt=Math.floor(st*(et.x[1]-et.x[0])),bt=Math.floor(dt*(et.y[1]-et.y[0])),Dt=et.x[0]*st+K.l,Ft=X.height-et.y[1]*X.height+K.t,Mt=nt.line.shape;wt="all"===nt.hoverinfo?["count","probability"]:(nt.hoverinfo||"").split("+");var St={trace:nt,key:nt.uid,model:_,x:Dt,y:Ft,width:Tt,height:bt,hoveron:nt.hoveron,hoverinfoItems:wt,arrangement:nt.arrangement,bundlecolors:nt.bundlecolors,sortpaths:nt.sortpaths,labelfont:nt.labelfont,categorylabelfont:nt.tickfont,pathShape:Mt,dragDimension:null,margin:K,paths:[],dimensions:[],graphDiv:H,traceSelection:null,pathSelection:null,dimensionSelection:null};return _.dimensions&&(j(St),J(St)),St}function ut(H,X,at,_,K){var st,dt,nt=[],et=[];for(dt=0;dt<at.length-1;dt++)st=g(at[dt]+H[dt],H[dt+1]),nt.push(st(K)),et.push(st(1-K));var Tt="M "+H[0]+","+X[0];for(Tt+="l"+at[0]+",0 ",dt=1;dt<at.length;dt++)Tt+="C"+nt[dt-1]+","+X[dt-1]+" "+et[dt-1]+","+X[dt]+" "+H[dt]+","+X[dt],Tt+="l"+at[dt]+",0 ";for(Tt+="l0,"+_+" ",Tt+="l -"+at[at.length-1]+",0 ",dt=at.length-2;dt>=0;dt--)Tt+="C"+et[dt]+","+(X[dt+1]+_)+" "+nt[dt]+","+(X[dt]+_)+" "+(H[dt]+at[dt])+","+(X[dt]+_),Tt+="l-"+at[dt]+",0 ";return Tt+"Z"}function J(H){var X=H.dimensions,at=H.model,_=X.map(function(Fe){return Fe.categories.map(function(Zt){return Zt.y})}),K=H.model.dimensions.map(function(Fe){return Fe.categories.map(function(Zt){return Zt.displayInd})}),nt=H.model.dimensions.map(function(Fe){return Fe.displayInd}),et=H.dimensions.map(function(Fe){return Fe.model.dimensionInd}),st=X.map(function(Fe){return Fe.x}),dt=X.map(function(Fe){return Fe.width}),Tt=[];for(var bt in at.paths)at.paths.hasOwnProperty(bt)&&Tt.push(at.paths[bt]);function Dt(Fe){var Zt=Fe.categoryInds.map(function(Et,Rt){return K[Rt][Et]});return et.map(function(Et){return Zt[Et]})}Tt.sort(function(Fe,Zt){var Ct=Dt(Fe),Et=Dt(Zt);return"backward"===H.sortpaths&&(Ct.reverse(),Et.reverse()),Ct.push(Fe.valueInds[0]),Et.push(Zt.valueInds[0]),H.bundlecolors&&(Ct.unshift(Fe.rawColor),Et.unshift(Zt.rawColor)),Ct<Et?-1:Ct>Et?1:0});for(var Ft=new Array(Tt.length),Mt=X[0].model.count,wt=X[0].categories.map(function(Fe){return Fe.height}).reduce(function(Fe,Zt){return Fe+Zt}),St=0;St<Tt.length;St++){var Gt,ye,Ut=Tt[St];Gt=Mt>0?wt*(Ut.count/Mt):0;for(var Pt=new Array(_.length),Vt=0;Vt<Ut.categoryInds.length;Vt++){var _t=K[Vt][Ut.categoryInds[Vt]],kt=nt[Vt];Pt[kt]=_[kt][_t],_[kt][_t]+=Gt;var zt=H.dimensions[kt].categories[_t],qt=zt.bands.length,ae=zt.bands[qt-1];if(void 0===ae||Ut.rawColor!==ae.rawColor){var oe=void 0===ae?0:ae.y+ae.height;zt.bands.push({key:oe,color:Ut.color,rawColor:Ut.rawColor,height:Gt,width:zt.width,count:Ut.count,y:oe,categoryViewModel:zt,parcatsViewModel:H})}else{var pe=zt.bands[qt-1];pe.height+=Gt,pe.count+=Ut.count}}ye=ut(st,Pt,dt,Gt,"hspline"===H.pathShape?.5:0),Ft[St]={key:Ut.valueInds[0],model:Ut,height:Gt,leftXs:st,topYs:Pt,dimWidths:dt,svgD:ye,parcatsViewModel:H}}H.paths=Ft}function j(H){var X=H.model.dimensions.map(function(et){return{displayInd:et.displayInd,dimensionInd:et.dimensionInd}});X.sort(function(et,st){return et.displayInd-st.displayInd});var at=[];for(var _ in X)at.push(Z(H,H.model.dimensions[X[_].dimensionInd]));H.dimensions=at}function Z(H,X){var dt,K=H.model.dimensions.length;dt=40+(K>1?(H.width-80-16)/(K-1):0)*X.displayInd;var St,Ut,Gt,Vt,Tt=[],bt=H.model.maxCats,Dt=X.categories.length,Mt=X.count,wt=H.height-8*(bt-1),te=8*(bt-Dt)/2,_t=X.categories.map(function(kt){return{displayInd:kt.displayInd,categoryInd:kt.categoryInd}});for(_t.sort(function(kt,zt){return kt.displayInd-zt.displayInd}),Vt=0;Vt<Dt;Vt++)Gt={key:(Ut=X.categories[_t[Vt].categoryInd]).valueInds[0],model:Ut,width:16,height:St=Mt>0?Ut.count/Mt*wt:0,y:null!==Ut.dragY?Ut.dragY:te,bands:[],parcatsViewModel:H},te=te+St+8,Tt.push(Gt);return{key:X.dimensionInd,x:null!==X.dragX?X.dragX:dt,y:0,width:16,model:X,categories:Tt,parcatsViewModel:H,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}tt.exports=function(H,X,at,_){f(at,H,_,X)}},45784:function(tt,W,t){"use strict";var A=t(45460);tt.exports=function(i,P,E,l){var x=i._fullLayout,r=x._size;A(i,x._paper,P,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},E,l)}},73362:function(tt,W,t){"use strict";var A=t(50693),g=t(13838),i=t(41940),P=t(27670).Y,E=t(1426).extendFlat,l=t(44467).templatedArray;tt.exports={domain:P({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:i({editType:"plot"}),tickfont:i({editType:"plot"}),rangefont:i({editType:"plot"}),dimensions:l("dimension",{label:{valType:"string",editType:"plot"},tickvals:E({},g.tickvals,{editType:"plot"}),ticktext:E({},g.ticktext,{editType:"plot"}),tickformat:E({},g.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:E({editType:"calc"},A("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(tt,W,t){"use strict";var A=t(25706),g=t(39898),i=t(28984).keyFun,P=t(28984).repeat,E=t(71828).sorterAsc,l=t(71828).strTranslate,x=A.bar.snapRatio;function e(U,G){return U*(1-x)+G*x}var r=A.bar.snapClose;function f(U,G){return U*(1-r)+G*r}function a(U,G,Q,rt){if(function s(U,G){for(var Q=0;Q<G.length;Q++)if(U>=G[Q][0]&&U<=G[Q][1])return!0;return!1}(Q,rt))return Q;var it=U?-1:1,ut=0,J=G.length-1;if(it<0){var j=ut;ut=J,J=j}for(var Z=G[ut],H=Z,X=ut;it*X<it*J;X+=it){var at=X+it,_=G[at];if(it*Q<it*f(Z,_))return e(Z,H);if(it*Q<it*_||at===J)return e(_,Z);H=Z,Z=_}}function c(U){U.attr("x",-A.bar.captureWidth/2).attr("width",A.bar.captureWidth)}function u(U){U.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function y(U){if(!U.brush.filterSpecified)return"0,"+U.height;for(var rt,it,ut,G=v(U.brush.filter.getConsolidated(),U.height),Q=[0],J=G.length?G[0][0]:null,j=0;j<G.length;j++)it=(rt=G[j])[1]-rt[0],Q.push(J),Q.push(it),(ut=j+1)<G.length&&(J=G[ut][0]-rt[1]);return Q.push(U.height),Q}function v(U,G){return U.map(function(Q){return Q.map(function(rt){return Math.max(0,rt*G)}).sort(E)})}function d(){g.select(document.body).style("cursor",null)}function o(U){U.attr("stroke-dasharray",y)}function h(U,G){var Q=g.select(U).selectAll(".highlight, .highlight-shadow");o(G?Q.transition().duration(A.bar.snapDuration).each("end",G):Q)}function M(U,G){var J,Q=U.brush,it=NaN,ut={};if(Q.filterSpecified){var j=U.height,Z=Q.filter.getConsolidated(),H=v(Z,j),X=NaN,at=NaN,_=NaN;for(J=0;J<=H.length;J++){var K=H[J];if(K&&K[0]<=G&&G<=K[1]){X=J;break}if(at=J?J-1:NaN,K&&K[0]>G){_=J;break}}if(it=X,isNaN(it)&&(it=isNaN(at)||isNaN(_)?isNaN(at)?_:at:G-H[at][1]<H[_][0]-G?at:_),!isNaN(it)){var nt=H[it],et=function w(U,G){var Q=A.bar.handleHeight;if(!(G>U[1]+Q||G<U[0]-Q))return G>=.9*U[1]+.1*U[0]?"n":G<=.9*U[0]+.1*U[1]?"s":"ns"}(nt,G);et&&(ut.interval=Z[it],ut.intervalPix=nt,ut.region=et)}}if(U.ordinal&&!ut.region){var st=U.unitTickvals,dt=U.unitToPaddedPx.invert(G);for(J=0;J<st.length;J++){var Tt=[.25*st[Math.max(J-1,0)]+.75*st[J],.25*st[Math.min(J+1,st.length-1)]+.75*st[J]];if(dt>=Tt[0]&&dt<=Tt[1]){ut.clickableOrdinalRange=Tt;break}}}return ut}function L(U,G){g.event.sourceEvent.stopPropagation();var Q=G.height-g.mouse(U)[1]-2*A.verticalPadding,rt=G.brush.svgBrush;rt.wasDragged=!0,rt._dragging=!0,rt.newExtent=rt.grabbingBar?[Q-rt.grabPoint,Q+rt.barLength-rt.grabPoint].map(G.unitToPaddedPx.invert):[rt.startExtent,G.unitToPaddedPx.invert(Q)].sort(E),G.brush.filterSpecified=!0,rt.extent=rt.stayingIntervals.concat([rt.newExtent]),rt.brushCallback(G),h(U.parentNode)}function S(U,G){var rt=M(G,G.height-g.mouse(U)[1]-2*A.verticalPadding),it="crosshair";rt.clickableOrdinalRange?it="pointer":rt.region&&(it=rt.region+"-resize"),g.select(document.body).style("cursor",it)}function b(U){U.on("mousemove",function(G){g.event.preventDefault(),G.parent.inBrushDrag||S(this,G)}).on("mouseleave",function(G){G.parent.inBrushDrag||d()}).call(g.behavior.drag().on("dragstart",function(G){!function T(U,G){g.event.sourceEvent.stopPropagation();var Q=G.height-g.mouse(U)[1]-2*A.verticalPadding,rt=G.unitToPaddedPx.invert(Q),it=G.brush,ut=M(G,Q),J=ut.interval,j=it.svgBrush;if(j.wasDragged=!1,j.grabbingBar="ns"===ut.region,j.grabbingBar){var Z=J.map(G.unitToPaddedPx);j.grabPoint=Q-Z[0]-A.verticalPadding,j.barLength=Z[1]-Z[0]}j.clickableOrdinalRange=ut.clickableOrdinalRange,j.stayingIntervals=G.multiselect&&it.filterSpecified?it.filter.getConsolidated():[],J&&(j.stayingIntervals=j.stayingIntervals.filter(function(H){return H[0]!==J[0]&&H[1]!==J[1]})),j.startExtent=ut.region?J["s"===ut.region?1:0]:rt,G.parent.inBrushDrag=!0,j.brushStartCallback()}(this,G)}).on("drag",function(G){L(this,G)}).on("dragend",function(G){!function m(U,G){var Q=G.brush,rt=Q.filter,it=Q.svgBrush;it._dragging||(S(U,G),L(U,G),G.brush.svgBrush.wasDragged=!1),it._dragging=!1,g.event.sourceEvent.stopPropagation();var J=it.grabbingBar;if(it.grabbingBar=!1,it.grabLocation=void 0,G.parent.inBrushDrag=!1,d(),!it.wasDragged)return it.wasDragged=void 0,it.clickableOrdinalRange?Q.filterSpecified&&G.multiselect?it.extent.push(it.clickableOrdinalRange):(it.extent=[it.clickableOrdinalRange],Q.filterSpecified=!0):J?(it.extent=it.stayingIntervals,0===it.extent.length&&D(Q)):D(Q),it.brushCallback(G),h(U.parentNode),void it.brushEndCallback(Q.filterSpecified?rt.getConsolidated():[]);var j=function(){rt.set(rt.getConsolidated())};if(G.ordinal){var Z=G.unitTickvals;Z[Z.length-1]<Z[0]&&Z.reverse(),it.newExtent=[a(0,Z,it.newExtent[0],it.stayingIntervals),a(1,Z,it.newExtent[1],it.stayingIntervals)];var H=it.newExtent[1]>it.newExtent[0];it.extent=it.stayingIntervals.concat(H?[it.newExtent]:[]),it.extent.length||D(Q),it.brushCallback(G),H?h(U.parentNode,j):(j(),h(U.parentNode))}else j();it.brushEndCallback(Q.filterSpecified?rt.getConsolidated():[])}(this,G)}))}function n(U,G){return U[0]-G[0]}function D(U){U.filterSpecified=!1,U.svgBrush.extent=[[-1/0,1/0]]}function N(U){return function(Q){var rt=Q.brush,ut=function F(U){return U.svgBrush.extent.map(function(G){return G.slice()})}(rt).slice();rt.filter.set(ut),U()}}function k(U){for(var rt,G=U.slice(),Q=[],it=G.shift();it;){for(rt=it.slice();(it=G.shift())&&it[0]<=rt[1];)rt[1]=Math.max(rt[1],it[1]);Q.push(rt)}return 1===Q.length&&Q[0][0]>Q[0][1]&&(Q=[]),Q}tt.exports={makeBrush:function B(U,G,Q,rt,it,ut){var J=function O(){var G,Q,U=[];return{set:function(rt){1===(U=rt.map(function(it){return it.slice().sort(E)}).sort(n)).length&&U[0][0]===-1/0&&U[0][1]===1/0&&(U=[[0,-1]]),G=k(U),Q=U.reduce(function(it,ut){return[Math.min(it[0],ut[0]),Math.max(it[1],ut[1])]},[1/0,-1/0])},get:function(){return U.slice()},getConsolidated:function(){return G},getBounds:function(){return Q}}}();return J.set(Q),{filter:J,filterSpecified:G,svgBrush:{extent:[],brushStartCallback:rt,brushCallback:N(it),brushEndCallback:ut}}},ensureAxisBrush:function p(U,G,Q){var rt=U.selectAll("."+A.cn.axisBrush).data(P,i);rt.enter().append("g").classed(A.cn.axisBrush,!0),function C(U,G,Q){var rt=Q._context.staticPlot,it=U.selectAll(".background").data(P);it.enter().append("rect").classed("background",!0).call(c).call(u).style("pointer-events",rt?"none":"auto").attr("transform",l(0,A.verticalPadding)),it.call(b).attr("height",function(j){return j.height-A.verticalPadding});var ut=U.selectAll(".highlight-shadow").data(P);ut.enter().append("line").classed("highlight-shadow",!0).attr("x",-A.bar.width/2).attr("stroke-width",A.bar.width+A.bar.strokeWidth).attr("stroke",G).attr("opacity",A.bar.strokeOpacity).attr("stroke-linecap","butt"),ut.attr("y1",function(j){return j.height}).call(o);var J=U.selectAll(".highlight").data(P);J.enter().append("line").classed("highlight",!0).attr("x",-A.bar.width/2).attr("stroke-width",A.bar.width-A.bar.strokeWidth).attr("stroke",A.bar.fillColor).attr("opacity",A.bar.fillOpacity).attr("stroke-linecap","butt"),J.attr("y1",function(j){return j.height}).call(o)}(rt,G,Q)},cleanRanges:function z(U,G){if(Array.isArray(U[0])?(U=U.map(function(rt){return rt.sort(E)}),U=G.multiselect?k(U.sort(n)):[U[0]]):U=[U.sort(E)],G.tickvals){var Q=G.tickvals.slice().sort(E);if(!(U=U.map(function(rt){var it=[a(0,Q,rt[0],[]),a(1,Q,rt[1],[])];if(it[1]>it[0])return it}).filter(function(rt){return rt})).length)return}return U.length>1?U:U[0]}}},71791:function(tt,W,t){"use strict";tt.exports={attributes:t(73362),supplyDefaults:t(3633),calc:t(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:t(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(tt,W,t){"use strict";var A=t(39898),g=t(27659).a0,i=t(21341),P=t(77922);W.name="parcoords",W.plot=function(E){var l=g(E.calcdata,"parcoords")[0];l.length&&i(E,l)},W.clean=function(E,l,x,e){var r=e._has&&e._has("parcoords"),f=l._has&&l._has("parcoords");r&&!f&&(e._paperdiv.selectAll(".parcoords").remove(),e._glimages.selectAll("*").remove())},W.toSVG=function(E){var l=E._fullLayout._glimages,x=A.select(E).selectAll(".svg-container");x.filter(function(f,a){return a===x.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function r(){var f=this,a=f.toDataURL("image/png");l.append("svg:image").attr({xmlns:P.svg,"xlink:href":a,preserveAspectRatio:"none",x:0,y:0,width:f.style.width,height:f.style.height})}),window.setTimeout(function(){A.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(tt,W,t){"use strict";var A=t(71828).isArrayOrTypedArray,g=t(21081),i=t(28984).wrap;tt.exports=function(l,x){var e,r;return g.hasColorscale(x,"line")&&A(x.line.color)?(e=x.line.color,r=g.extractOpts(x.line).colorscale,g.calc(l,x,{vals:e,containerStr:"line",cLetter:"c"})):(e=function P(E){for(var l=new Array(E),x=0;x<E;x++)l[x]=.5;return l}(x._length),r=[[0,x.line.color],[1,x.line.color]]),i({lineColor:e,cscale:r})}},25706:function(tt){"use strict";tt.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(tt,W,t){"use strict";var A=t(71828),g=t(52075).hasColorscale,i=t(1586),P=t(27670).c,E=t(85501),l=t(89298),x=t(73362),e=t(57920),r=t(25706).maxDimensionCount,f=t(94397);function s(c,u,y,v){function w(T,L){return A.coerce(c,u,x.dimensions,T,L)}var d=w("values"),o=w("visible");if(d&&d.length||(o=u.visible=!1),o){w("label"),w("tickvals"),w("ticktext"),w("tickformat");var h=w("range");u._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:h},l.setConvert(u._ax,v.layout),w("multiselect");var M=w("constraintrange");M&&(u.constraintrange=e.cleanRanges(M,u))}}tt.exports=function(u,y,v,w){function d(L,m){return A.coerce(u,y,x,L,m)}var o=u.dimensions;Array.isArray(o)&&o.length>r&&(A.log("parcoords traces support up to "+r+" dimensions at the moment"),o.splice(r));var h=E(u,y,{name:"dimensions",layout:w,handleItemDefaults:s}),M=function a(c,u,y,v,w){var d=w("line.color",y);if(g(c,"line")&&A.isArrayOrTypedArray(d)){if(d.length)return w("line.colorscale"),i(c,u,v,w,{prefix:"line.",cLetter:"c"}),d.length;u.line.color=y}return 1/0}(u,y,v,w,d);P(y,w,d),(!Array.isArray(h)||!h.length)&&(y.visible=!1),f(y,h,"values",M);var T={family:w.font.family,size:Math.round(w.font.size/1.2),color:w.font.color};A.coerceFont(d,"labelfont",T),A.coerceFont(d,"tickfont",T),A.coerceFont(d,"rangefont",T),d("labelangle"),d("labelside"),d("unselected.line.color"),d("unselected.line.opacity")}},1602:function(tt,W,t){"use strict";var A=t(71828).isTypedArray;W.convertTypedArray=function(g){return A(g)?Array.prototype.slice.call(g):g},W.isOrdinal=function(g){return!!g.tickvals},W.isVisible=function(g){return g.visible||!("visible"in g)}},67618:function(tt,W,t){"use strict";var A=t(71791);A.plot=t(21341),tt.exports=A},83398:function(tt,W,t){"use strict";var A=t(56068),g=A(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nattribute vec4 p01_04, p05_08, p09_12, p13_16,\n               p17_20, p21_24, p25_28, p29_32,\n               p33_36, p37_40, p41_44, p45_48,\n               p49_52, p53_56, p57_60, colors;\n\nuniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution, viewBoxPos, viewBoxSize;\nuniform float maskHeight;\nuniform float drwLayer; // 0: context, 1: focus, 2: pick\nuniform vec4 contextColor;\nuniform sampler2D maskTexture, palette;\n\nbool isPick    = (drwLayer > 1.5);\nbool isContext = (drwLayer < 0.5);\n\nconst vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);\nconst vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * UNITS, UNITS);\n}\n\nfloat axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);\n    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);\n    return y1 * (1.0 - ratio) + y2 * ratio;\n}\n\nint iMod(int a, int b) {\n    return a - b * (a / b);\n}\n\nbool fOutside(float p, float lo, float hi) {\n    return (lo < hi) && (lo > p || p > hi);\n}\n\nbool vOutside(vec4 p, vec4 lo, vec4 hi) {\n    return (\n        fOutside(p[0], lo[0], hi[0]) ||\n        fOutside(p[1], lo[1], hi[1]) ||\n        fOutside(p[2], lo[2], hi[2]) ||\n        fOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool mOutside(mat4 p, mat4 lo, mat4 hi) {\n    return (\n        vOutside(p[0], lo[0], hi[0]) ||\n        vOutside(p[1], lo[1], hi[1]) ||\n        vOutside(p[2], lo[2], hi[2]) ||\n        vOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {\n    return mOutside(A, loA, hiA) ||\n           mOutside(B, loB, hiB) ||\n           mOutside(C, loC, hiC) ||\n           mOutside(D, loD, hiD);\n}\n\nbool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {\n    mat4 pnts[4];\n    pnts[0] = A;\n    pnts[1] = B;\n    pnts[2] = C;\n    pnts[3] = D;\n\n    for(int i = 0; i < 4; ++i) {\n        for(int j = 0; j < 4; ++j) {\n            for(int k = 0; k < 4; ++k) {\n                if(0 == iMod(\n                    int(255.0 * texture2D(maskTexture,\n                        vec2(\n                            (float(i * 2 + j / 2) + 0.5) / 8.0,\n                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight\n                        ))[3]\n                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),\n                    2\n                )) return true;\n            }\n        }\n    }\n    return false;\n}\n\nvec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float x = 0.5 * sign(v) + 0.5;\n    float y = axisY(x, A, B, C, D);\n    float z = 1.0 - abs(v);\n\n    z += isContext ? 0.0 : 2.0 * float(\n        outsideBoundingBox(A, B, C, D) ||\n        outsideRasterMask(A, B, C, D)\n    );\n\n    return vec4(\n        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,\n        z,\n        1.0\n    );\n}\n\nvoid main() {\n    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);\n    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);\n    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);\n    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);\n\n    float v = colors[3];\n\n    gl_Position = position(isContext, v, A, B, C, D);\n\n    fragColor =\n        isContext ? vec4(contextColor) :\n        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));\n}\n"]),i=A(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),P=t(25706).maxDimensionCount,E=t(71828),l=1e-6,x=2048,e=new Uint8Array(4),r=new Uint8Array(4),f={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function s(S,b,n,C,p){var F=S._gl;F.enable(F.SCISSOR_TEST),F.scissor(b,n,C,p),S.clear({color:[0,0,0,0],depth:1})}function c(S,b,n,C,p,F){var D=F.key;n.drawCompleted||(function a(S){S.read({x:0,y:0,width:1,height:1,data:e})}(S),n.drawCompleted=!0),function N(k){var O=Math.min(C,p-k*C);0===k&&(window.cancelAnimationFrame(n.currentRafs[D]),delete n.currentRafs[D],s(S,F.scissorX,F.scissorY,F.scissorWidth,F.viewBoxSize[1])),!n.clearOnly&&(F.count=2*O,F.offset=2*k*C,b(F),k*C+O<p&&(n.currentRafs[D]=window.requestAnimationFrame(function(){N(k+1)})),n.drawCompleted=!1)}(0)}function u(S){return Math.max(l,Math.min(1-l,S))}function y(S,b){for(var n=new Array(256),C=0;C<256;C++)n[C]=S(C/255).concat(b);return n}function v(S,b){return(S>>>8*b)%256/255}function d(S,b,n){for(var C=new Array(8*b),p=0,F=0;F<b;F++)for(var D=0;D<2;D++)for(var N=0;N<4;N++){var k=4*S+N,O=n[64*F+k];63===k&&0===D&&(O*=-1),C[p++]=O}return C}function o(S){var b="0"+S;return b.substr(b.length-2)}function h(S){return S<P?"p"+o(S+1)+"_"+o(S+4):"colors"}function L(S,b,n,C,p,F,D,N,k,O,B,z,U,G){for(var Q=[[],[]],rt=0;rt<64;rt++)Q[0][rt]=rt===p?1:0,Q[1][rt]=rt===F?1:0;var it=S.lines.canvasOverdrag*G,ut=S.domain,J=S.canvasWidth*G,j=S.canvasHeight*G,Z=S.pad.l*G,H=S.pad.b*G,X=S.layoutHeight*G,at=S.layoutWidth*G,_=S.deselectedLines.color,K=S.deselectedLines.opacity;return E.extendFlat({key:B,resolution:[J,j],viewBoxPos:[(D*=G)+it,N*=G],viewBoxSize:[k*=G,O*=G],i0:p,i1:F,dim0A:Q[0].slice(0,16),dim0B:Q[0].slice(16,32),dim0C:Q[0].slice(32,48),dim0D:Q[0].slice(48,64),dim1A:Q[1].slice(0,16),dim1B:Q[1].slice(16,32),dim1C:Q[1].slice(32,48),dim1D:Q[1].slice(48,64),drwLayer:z,contextColor:[_[0]/255,_[1]/255,_[2]/255,"auto"!==K?_[3]*K:Math.max(1/255,Math.pow(1/S.lines.color.length,1/3))],scissorX:(C===b?0:D+it)+(Z-it)+at*ut.x[0],scissorWidth:(C===n?J-D+it:k+.5)+(C===b?D+it:0),scissorY:N+H+X*ut.y[0],scissorHeight:O,viewportX:Z-it+at*ut.x[0],viewportY:H+X*ut.y[0],viewportWidth:J,viewportHeight:j},U)}function m(S){var b=x-1,n=Math.max(0,Math.floor(S[0]*b),0),C=Math.min(b,Math.ceil(S[1]*b),b);return[Math.min(n,C),Math.max(n,C)]}tt.exports=function(S,b){var O,z,U,Q,n=b.context,C=b.pick,p=b.regl,F=p._gl,D=F.getParameter(F.ALIASED_LINE_WIDTH_RANGE),N=Math.max(D[0],Math.min(D[1],b.viewModel.plotGlPixelRatio)),k={currentRafs:{},drawCompleted:!0,clearOnly:!1},G=function T(S){for(var b={},n=0;n<=P;n+=4)b[h(n)]=S.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return b}(p),rt=p.texture(f),it=[];J(b);var ut=p({profile:!1,blend:{enable:n,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!n,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:p.prop("scissorX"),y:p.prop("scissorY"),width:p.prop("scissorWidth"),height:p.prop("scissorHeight")}},viewport:{x:p.prop("viewportX"),y:p.prop("viewportY"),width:p.prop("viewportWidth"),height:p.prop("viewportHeight")},dither:!1,vert:g,frag:i,primitive:"lines",lineWidth:N,attributes:G,uniforms:{resolution:p.prop("resolution"),viewBoxPos:p.prop("viewBoxPos"),viewBoxSize:p.prop("viewBoxSize"),dim0A:p.prop("dim0A"),dim1A:p.prop("dim1A"),dim0B:p.prop("dim0B"),dim1B:p.prop("dim1B"),dim0C:p.prop("dim0C"),dim1C:p.prop("dim1C"),dim0D:p.prop("dim0D"),dim1D:p.prop("dim1D"),loA:p.prop("loA"),hiA:p.prop("hiA"),loB:p.prop("loB"),hiB:p.prop("hiB"),loC:p.prop("loC"),hiC:p.prop("hiC"),loD:p.prop("loD"),hiD:p.prop("hiD"),palette:rt,contextColor:p.prop("contextColor"),maskTexture:p.prop("maskTexture"),drwLayer:p.prop("drwLayer"),maskHeight:p.prop("maskHeight")},offset:p.prop("offset"),count:p.prop("count")});function J(_){O=_.model,z=_.viewModel.dimensions.slice(),U=z[0]?z[0].values.length:0;var K=O.lines,nt=C?K.color.map(function(st,dt){return dt/K.color.length}):K.color,et=function w(S,b,n){for(var C=new Array(S*(P+4)),p=0,F=0;F<S;F++){for(var D=0;D<P;D++)C[p++]=D<b.length?b[D].paddedUnitValues[F]:.5;C[p++]=v(F,2),C[p++]=v(F,1),C[p++]=v(F,0),C[p++]=u(n[F])}return C}(U,z,nt);(function M(S,b,n){for(var C=0;C<=P;C+=4)S[h(C)](d(C/4,b,n))})(G,U,et),!n&&!C&&(rt=p.texture(E.extendFlat({data:y(O.unitToColor,255)},f)))}return{render:function Z(_,K,nt){var st,dt,Tt,et=_.length,bt=1/0,Dt=-1/0;for(st=0;st<et;st++)_[st].dim0.canvasX<bt&&(bt=_[st].dim0.canvasX,dt=st),_[st].dim1.canvasX>Dt&&(Dt=_[st].dim1.canvasX,Tt=st);0===et&&s(p,0,0,O.canvasWidth,O.canvasHeight);var Ft=function j(_){var K,nt,et,st=[[],[]];for(et=0;et<64;et++){var dt=!_&&et<z.length?z[et].brush.filter.getBounds():[-1/0,1/0];st[0][et]=dt[0],st[1][et]=dt[1]}var bt=new Array(16384);for(K=0;K<16384;K++)bt[K]=255;if(!_)for(K=0;K<z.length;K++){var Dt=K%8,Ft=(K-Dt)/8,Mt=Math.pow(2,Dt),St=z[K].brush.filter.get();if(!(St.length<2)){var Ut=m(St[0])[1];for(nt=1;nt<St.length;nt++){var Gt=m(St[nt]);for(et=Ut+1;et<Gt[0];et++)bt[8*et+Ft]&=~Mt;Ut=Math.max(Ut,Gt[1])}}}var Pt={shape:[8,x],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:bt};return Q?Q(Pt):Q=p.texture(Pt),{maskTexture:Q,maskHeight:x,loA:st[0].slice(0,16),loB:st[0].slice(16,32),loC:st[0].slice(32,48),loD:st[0].slice(48,64),hiA:st[1].slice(0,16),hiB:st[1].slice(16,32),hiC:st[1].slice(32,48),hiD:st[1].slice(48,64)}}(n);for(st=0;st<et;st++){var Mt=_[st],wt=Mt.dim0.crossfilterDimensionIndex,St=Mt.dim1.crossfilterDimensionIndex,Ut=Mt.canvasX,Gt=Mt.canvasY,Pt=Ut+Mt.panelSizeX,Vt=Mt.plotGlPixelRatio;if(K||!it[wt]||it[wt][0]!==Ut||it[wt][1]!==Pt){it[wt]=[Ut,Pt];var te=L(O,dt,Tt,st,wt,St,Ut,Gt,Mt.panelSizeX,Mt.panelSizeY,Mt.dim0.crossfilterDimensionIndex,n?0:C?2:1,Ft,Vt);k.clearOnly=nt,c(p,ut,k,K?O.lines.blockLineCount:U,U,te)}}},readPixel:function H(_,K){return p.read({x:_,y:K,width:1,height:1,data:r}),r},readPixels:function X(_,K,nt,et){var st=new Uint8Array(4*nt*et);return p.read({x:_,y:K,width:nt,height:et,data:st}),st},destroy:function at(){for(var _ in S.style["pointer-events"]="none",rt.destroy(),Q&&Q.destroy(),G)G[_].destroy()},update:J}}},94397:function(tt){"use strict";tt.exports=function(W,t,A,g){var i,P;for(g||(g=1/0),i=0;i<t.length;i++)(P=t[i]).visible&&(g=Math.min(g,P[A].length));for(g===1/0&&(g=0),W._length=g,i=0;i<t.length;i++)(P=t[i]).visible&&(P._length=g);return g}},17171:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=g.numberFormat,P=t(36652),E=t(89298),l=g.strRotate,x=g.strTranslate,e=t(63893),r=t(91424),f=t(21081),a=t(28984),s=a.keyFun,c=a.repeat,u=a.unwrap,y=t(1602),v=t(25706),w=t(57920),d=t(83398);function o(Q,rt,it){return g.aggNums(Q,null,rt,it)}function h(Q,rt){return T(o(Math.min,Q,rt),o(Math.max,Q,rt))}function M(Q){var rt=Q.range;return rt?T(rt[0],rt[1]):h(Q.values,Q._length)}function T(Q,rt){return(isNaN(Q)||!isFinite(Q))&&(Q=0),(isNaN(rt)||!isFinite(rt))&&(rt=0),Q===rt&&(0===Q?(Q-=1,rt+=1):(Q*=.9,rt*=1.1)),[Q,rt]}function m(Q,rt,it,ut,J){var j=M(it);return ut?A.scale.ordinal().domain(ut.map(function L(Q,rt){return rt?function(it,ut){var J=rt[ut];return null==J?Q(it):J}:Q}(i(it.tickformat),J))).range(ut.map(function(Z){return Q-rt+(Z-j[0])/(j[1]-j[0])*(2*rt-Q)})):A.scale.linear().domain(j).range([Q-rt,rt])}function n(Q){if(Q.tickvals){var rt=M(Q);return A.scale.ordinal().domain(Q.tickvals).range(Q.tickvals.map(function(it){return(it-rt[0])/(rt[1]-rt[0])}))}}function C(Q){var rt=Q.map(function(j){return j[0]}),it=Q.map(function(j){var Z=P(j[1]);return A.rgb("rgb("+Z[0]+","+Z[1]+","+Z[2]+")")}),J="rgb".split("").map(function(j){return A.scale.linear().clamp(!0).domain(rt).range(it.map(function(j){return function(Z){return Z[j]}}(j)))});return function(j){return J.map(function(Z){return Z(j)})}}function p(Q){return Q.dimensions.some(function(rt){return rt.brush.filterSpecified})}function F(Q,rt,it){var ut=u(rt),J=ut.trace,j=y.convertTypedArray(ut.lineColor),Z=J.line,H={color:P(J.unselected.line.color),opacity:J.unselected.line.opacity},X=f.extractOpts(Z),at=X.reversescale?f.flipScale(ut.cscale):ut.cscale,_=J.domain,K=J.dimensions,nt=Q.width,et=J.labelangle,st=J.labelside,dt=J.labelfont,Tt=J.tickfont,bt=J.rangefont,Dt=g.extendDeepNoArrays({},Z,{color:j.map(A.scale.linear().domain(M({values:j,range:[X.min,X.max],_length:J._length}))),blockLineCount:v.blockLineCount,canvasOverdrag:v.overdrag*v.canvasPixelRatio}),Ft=Math.floor(nt*(_.x[1]-_.x[0])),Mt=Math.floor(Q.height*(_.y[1]-_.y[0])),wt=Q.margin||{l:80,r:80,t:100,b:80},St=Ft,Ut=Mt;return{key:it,colCount:K.filter(y.isVisible).length,dimensions:K,tickDistance:v.tickDistance,unitToColor:C(at),lines:Dt,deselectedLines:H,labelAngle:et,labelSide:st,labelFont:dt,tickFont:Tt,rangeFont:bt,layoutWidth:nt,layoutHeight:Q.height,domain:_,translateX:_.x[0]*nt,translateY:Q.height-_.y[1]*Q.height,pad:wt,canvasWidth:St*v.canvasPixelRatio+2*Dt.canvasOverdrag,canvasHeight:Ut*v.canvasPixelRatio,width:St,height:Ut,canvasPixelRatio:v.canvasPixelRatio}}function D(Q,rt,it){var ut=it.width,J=it.height,j=it.dimensions,Z=it.canvasPixelRatio,H=function(nt){return ut*nt/Math.max(1,it.colCount-1)},X=v.verticalPadding/J,at=function S(Q,rt){return A.scale.linear().range([rt,Q-rt])}(J,v.verticalPadding),_={key:it.key,xScale:H,model:it,inBrushDrag:!1},K={};return _.dimensions=j.filter(y.isVisible).map(function(nt,et){var st=function b(Q,rt){return A.scale.linear().domain(M(Q)).range([rt,1-rt])}(nt,X),dt=K[nt.label];K[nt.label]=(dt||0)+1;var Tt=nt.label+(dt?"__"+dt:""),bt=nt.constraintrange,Dt=bt&&bt.length;Dt&&!Array.isArray(bt[0])&&(bt=[bt]);var Ft=Dt?bt.map(function(kt){return kt.map(st)}):[[-1/0,1/0]],wt=nt.values;wt.length>nt._length&&(wt=wt.slice(0,nt._length));var Ut,St=nt.tickvals;function Gt(kt,zt){return{val:kt,text:Ut[zt]}}function Pt(kt,zt){return kt.val-zt.val}if(Array.isArray(St)&&St.length){Ut=nt.ticktext,Array.isArray(Ut)&&Ut.length?Ut.length>St.length?Ut=Ut.slice(0,St.length):St.length>Ut.length&&(St=St.slice(0,Ut.length)):Ut=St.map(i(nt.tickformat));for(var Vt=1;Vt<St.length;Vt++)if(St[Vt]<St[Vt-1]){for(var te=St.map(Gt).sort(Pt),_t=0;_t<St.length;_t++)St[_t]=te[_t].val,Ut[_t]=te[_t].text;break}}else St=void 0;return wt=y.convertTypedArray(wt),{key:Tt,label:nt.label,tickFormat:nt.tickformat,tickvals:St,ticktext:Ut,ordinal:y.isOrdinal(nt),multiselect:nt.multiselect,xIndex:et,crossfilterDimensionIndex:et,visibleIndex:nt._index,height:J,values:wt,paddedUnitValues:wt.map(st),unitTickvals:St&&St.map(st),xScale:H,x:H(et),canvasX:H(et)*Z,unitToPaddedPx:at,domainScale:m(J,v.verticalPadding,nt,St,Ut),ordinalScale:n(nt),parent:_,model:it,brush:w.makeBrush(Q,Dt,Ft,function(){Q.linePickActive(!1)},function(){var kt=_;kt.focusLayer&&kt.focusLayer.render(kt.panels,!0);var zt=p(kt);!Q.contextShown()&&zt?(kt.contextLayer&&kt.contextLayer.render(kt.panels,!0),Q.contextShown(!0)):Q.contextShown()&&!zt&&(kt.contextLayer&&kt.contextLayer.render(kt.panels,!0,!0),Q.contextShown(!1))},function(kt){if(_.focusLayer.render(_.panels,!0),_.pickLayer&&_.pickLayer.render(_.panels,!0),Q.linePickActive(!0),rt&&rt.filterChanged){var zt=st.invert,qt=kt.map(function(ae){return ae.map(zt).sort(g.sorterAsc)}).sort(function(ae,oe){return ae[0]-oe[0]});rt.filterChanged(_.key,nt._index,qt)}})}}),_}function N(Q){Q.classed(v.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function O(Q,rt){var ut=Q*Math.PI/180;return{dir:"top"===rt?1:-1,dx:Math.sin(ut),dy:Math.cos(ut),degrees:Q}}function B(Q,rt,it){for(var ut=rt.panels||(rt.panels=[]),J=Q.data(),j=0;j<J.length-1;j++){var Z=ut[j]||(ut[j]={}),H=J[j],X=J[j+1];Z.dim0=H,Z.dim1=X,Z.canvasX=H.canvasX,Z.panelSizeX=X.canvasX-H.canvasX,Z.panelSizeY=rt.model.canvasHeight,Z.y=0,Z.canvasY=0,Z.plotGlPixelRatio=it}}function U(Q,rt){return E.tickText(Q._ax,rt,!1).text}function G(Q,rt){if(Q.ordinal)return"";var it=Q.domainScale.domain();return U(Q.model.dimensions[Q.visibleIndex],it[rt?it.length-1:0])}tt.exports=function(rt,it,ut,J){var j=rt._context.staticPlot,Z=rt._fullLayout,H=Z._toppaper,X=Z._glcontainer,at=rt._context.plotGlPixelRatio,_=rt._fullLayout.paper_bgcolor;!function z(Q){for(var rt=0;rt<Q.length;rt++)for(var it=0;it<Q[rt].length;it++)for(var ut=Q[rt][it].trace,J=ut.dimensions,j=0;j<J.length;j++){var Z=J[j].values,H=J[j]._ax;H&&(H.range=H.range?T(H.range[0],H.range[1]):h(Z,ut._length),H.dtick||(H.dtick=.01*(Math.abs(H.range[1]-H.range[0])||1)),H.tickformat=J[j].tickformat,E.calcTicks(H),H.cleanRange())}}(it);var K=function k(){var Q=!0,rt=!1;return{linePickActive:function(it){return arguments.length?Q=!!it:Q},contextShown:function(it){return arguments.length?rt=!!it:rt}}}(),nt=it.filter(function(_t){return u(_t).trace.visible}).map(F.bind(0,ut)).map(D.bind(0,K,J));X.each(function(_t,kt){return g.extendFlat(_t,nt[kt])});var et=X.selectAll(".gl-canvas").each(function(_t){_t.viewModel=nt[0],_t.viewModel.plotGlPixelRatio=at,_t.viewModel.paperColor=_,_t.model=_t.viewModel?_t.viewModel.model:null}),st=null;et.filter(function(_t){return _t.pick}).style("pointer-events",j?"none":"auto").on("mousemove",function(_t){if(K.linePickActive()&&_t.lineLayer&&J&&J.hover){var kt=A.event,zt=this.width,qt=this.height,ae=A.mouse(this),oe=ae[0],pe=ae[1];if(oe<0||pe<0||oe>=zt||pe>=qt)return;var ye=_t.lineLayer.readPixel(oe,qt-1-pe),Fe=0!==ye[3],Zt=Fe?ye[2]+256*(ye[1]+256*ye[0]):null,Ct={x:oe,y:pe,clientX:kt.clientX,clientY:kt.clientY,dataIndex:_t.model.key,curveNumber:Zt};Zt!==st&&(Fe?J.hover(Ct):J.unhover&&J.unhover(Ct),st=Zt)}}),et.style("opacity",function(_t){return _t.pick?0:1}),H.style("background","rgba(255, 255, 255, 0)");var Tt=H.selectAll("."+v.cn.parcoords).data(nt,s);Tt.exit().remove(),Tt.enter().append("g").classed(v.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Tt.attr("transform",function(_t){return x(_t.model.translateX,_t.model.translateY)});var bt=Tt.selectAll("."+v.cn.parcoordsControlView).data(c,s);bt.enter().append("g").classed(v.cn.parcoordsControlView,!0),bt.attr("transform",function(_t){return x(_t.model.pad.l,_t.model.pad.t)});var Dt=bt.selectAll("."+v.cn.yAxis).data(function(_t){return _t.dimensions},s);Dt.enter().append("g").classed(v.cn.yAxis,!0),bt.each(function(_t){B(Dt,_t,at)}),et.each(function(_t){_t.viewModel&&(!_t.lineLayer||J?_t.lineLayer=d(this,_t):_t.lineLayer.update(_t),(_t.key||0===_t.key)&&(_t.viewModel[_t.key]=_t.lineLayer),_t.lineLayer.render(_t.viewModel.panels,!_t.context||J))}),Dt.attr("transform",function(_t){return x(_t.xScale(_t.xIndex),0)}),Dt.call(A.behavior.drag().origin(function(_t){return _t}).on("drag",function(_t){var kt=_t.parent;K.linePickActive(!1),_t.x=Math.max(-v.overdrag,Math.min(_t.model.width+v.overdrag,A.event.x)),_t.canvasX=_t.x*_t.model.canvasPixelRatio,Dt.sort(function(zt,qt){return zt.x-qt.x}).each(function(zt,qt){zt.xIndex=qt,zt.x=_t===zt?zt.x:zt.xScale(zt.xIndex),zt.canvasX=zt.x*zt.model.canvasPixelRatio}),B(Dt,kt,at),Dt.filter(function(zt){return 0!==Math.abs(_t.xIndex-zt.xIndex)}).attr("transform",function(zt){return x(zt.xScale(zt.xIndex),0)}),A.select(this).attr("transform",x(_t.x,0)),Dt.each(function(zt,qt,ae){ae===_t.parent.key&&(kt.dimensions[qt]=zt)}),kt.contextLayer&&kt.contextLayer.render(kt.panels,!1,!p(kt)),kt.focusLayer.render&&kt.focusLayer.render(kt.panels)}).on("dragend",function(_t){var kt=_t.parent;_t.x=_t.xScale(_t.xIndex),_t.canvasX=_t.x*_t.model.canvasPixelRatio,B(Dt,kt,at),A.select(this).attr("transform",function(zt){return x(zt.x,0)}),kt.contextLayer&&kt.contextLayer.render(kt.panels,!1,!p(kt)),kt.focusLayer&&kt.focusLayer.render(kt.panels),kt.pickLayer&&kt.pickLayer.render(kt.panels,!0),K.linePickActive(!0),J&&J.axesMoved&&J.axesMoved(kt.key,kt.dimensions.map(function(zt){return zt.crossfilterDimensionIndex}))})),Dt.exit().remove();var Ft=Dt.selectAll("."+v.cn.axisOverlays).data(c,s);Ft.enter().append("g").classed(v.cn.axisOverlays,!0),Ft.selectAll("."+v.cn.axis).remove();var Mt=Ft.selectAll("."+v.cn.axis).data(c,s);Mt.enter().append("g").classed(v.cn.axis,!0),Mt.each(function(_t){var kt=_t.model.height/_t.model.tickDistance,zt=_t.domainScale,qt=zt.domain();A.select(this).call(A.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(kt,_t.tickFormat).tickValues(_t.ordinal?qt:null).tickFormat(function(ae){return y.isOrdinal(_t)?ae:U(_t.model.dimensions[_t.visibleIndex],ae)}).scale(zt)),r.font(Mt.selectAll("text"),_t.model.tickFont)}),Mt.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Mt.selectAll("text").style("text-shadow",e.makeTextShadow(_)).style("cursor","default");var wt=Ft.selectAll("."+v.cn.axisHeading).data(c,s);wt.enter().append("g").classed(v.cn.axisHeading,!0);var St=wt.selectAll("."+v.cn.axisTitle).data(c,s);St.enter().append("text").classed(v.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",j?"none":"auto"),St.text(function(_t){return _t.label}).each(function(_t){var kt=A.select(this);r.font(kt,_t.model.labelFont),e.convertToTspans(kt,rt)}).attr("transform",function(_t){var kt=O(_t.model.labelAngle,_t.model.labelSide),zt=v.axisTitleOffset;return(kt.dir>0?"":x(0,2*zt+_t.model.height))+l(kt.degrees)+x(-zt*kt.dx,-zt*kt.dy)}).attr("text-anchor",function(_t){var kt=O(_t.model.labelAngle,_t.model.labelSide);return 2*Math.abs(kt.dx)>Math.abs(kt.dy)?kt.dir*kt.dx<0?"start":"end":"middle"});var Ut=Ft.selectAll("."+v.cn.axisExtent).data(c,s);Ut.enter().append("g").classed(v.cn.axisExtent,!0);var Gt=Ut.selectAll("."+v.cn.axisExtentTop).data(c,s);Gt.enter().append("g").classed(v.cn.axisExtentTop,!0),Gt.attr("transform",x(0,-v.axisExtentOffset));var Pt=Gt.selectAll("."+v.cn.axisExtentTopText).data(c,s);Pt.enter().append("text").classed(v.cn.axisExtentTopText,!0).call(N),Pt.text(function(_t){return G(_t,!0)}).each(function(_t){r.font(A.select(this),_t.model.rangeFont)});var Vt=Ut.selectAll("."+v.cn.axisExtentBottom).data(c,s);Vt.enter().append("g").classed(v.cn.axisExtentBottom,!0),Vt.attr("transform",function(_t){return x(0,_t.model.height+v.axisExtentOffset)});var te=Vt.selectAll("."+v.cn.axisExtentBottomText).data(c,s);te.enter().append("text").classed(v.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(N),te.text(function(_t){return G(_t,!1)}).each(function(_t){r.font(A.select(this),_t.model.rangeFont)}),w.ensureAxisBrush(Ft,_,rt)}},21341:function(tt,W,t){"use strict";var A=t(17171),g=t(79749),i=t(1602).isVisible,P={};function E(e,r,f){var a=r.indexOf(f),s=e.indexOf(a);return-1===s&&(s+=r.length),s}(tt.exports=function(r,f){var a=r._fullLayout;if(g(r,[],P)){var c={},u={},y={},v={},w=a._size;f.forEach(function(T,L){var m=T[0].trace;y[L]=m.index;var S=v[L]=m._fullInput.index;c[L]=r.data[S].dimensions,u[L]=r.data[S].dimensions.slice()});A(r,f,{width:w.w,height:w.h,margin:{t:w.t,r:w.r,b:w.b,l:w.l}},{filterChanged:function(T,L,m){var S=u[T][L],b=m.map(function(N){return N.slice()}),n="dimensions["+L+"].constraintrange",C=a._tracePreGUI[r._fullData[y[T]]._fullInput.uid];void 0===C[n]&&(C[n]=S.constraintrange||null);var F=r._fullData[y[T]].dimensions[L];b.length?(1===b.length&&(b=b[0]),S.constraintrange=b,F.constraintrange=b.slice(),b=[b]):(delete S.constraintrange,delete F.constraintrange,b=null);var D={};D[n]=b,r.emit("plotly_restyle",[D,[v[T]]])},hover:function(T){r.emit("plotly_hover",T)},unhover:function(T){r.emit("plotly_unhover",T)},axesMoved:function(T,L){var m=function l(e,r){return function(a,s){return E(e,r,a)-E(e,r,s)}}(L,u[T].filter(i));c[T].sort(m),u[T].filter(function(S){return!i(S)}).sort(function(S){return u[T].indexOf(S)}).forEach(function(S){c[T].splice(c[T].indexOf(S),1),c[T].splice(u[T].indexOf(S),0,S)}),r.emit("plotly_restyle",[{dimensions:[c[T]]},[v[T]]])}})}}).reglPrecompiled=P},34e3:function(tt,W,t){"use strict";var A=t(9012),g=t(27670).Y,i=t(41940),P=t(22399),E=t(5386).fF,l=t(5386).si,x=t(1426).extendFlat,e=t(79952).u,r=i({editType:"plot",arrayOk:!0,colorEditType:"plot"});tt.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:P.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:e,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:x({},A.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:E({},{keys:["label","color","value","percent","text"]}),texttemplate:l({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:x({},r,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:x({},r,{}),outsidetextfont:x({},r,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:x({},r,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:g({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:x({},r,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(tt,W,t){"use strict";var A=t(74875);W.name="pie",W.plot=function(g,i,P,E){A.plotBasePlot(W.name,g,i,P,E)},W.clean=function(g,i,P,E){A.cleanBasePlot(W.name,g,i,P,E)}},32354:function(tt,W,t){"use strict";var A=t(92770),g=t(84267),i=t(7901),P={};function l(r){return function(a,s){return!(!a||(a=g(a),!a.isValid()))&&(a=i.addOpacity(a,a.getAlpha()),r[s]||(r[s]=a),a)}}function e(r,f){var a,s=JSON.stringify(r),c=f[s];if(!c){for(c=r.slice(),a=0;a<r.length;a++)c.push(g(r[a]).lighten(20).toHexString());for(a=0;a<r.length;a++)c.push(g(r[a]).darken(20).toHexString());f[s]=c}return c}tt.exports={calc:function E(r,f){var o,h,a=[],s=r._fullLayout,c=s.hiddenlabels||[],u=f.labels,y=f.marker.colors||[],v=f.values,w=f._length,d=f._hasValues&&w;if(f.dlabel)for(u=new Array(w),o=0;o<w;o++)u[o]=String(f.label0+o*f.dlabel);var M={},T=l(s["_"+f.type+"colormap"]),L=0,m=!1;for(o=0;o<w;o++){var S,b,n;if(d){if(!A(S=v[o]))continue;S=+S}else S=1;(void 0===(b=u[o])||""===b)&&(b=o);var C=M[b=String(b)];void 0===C?(M[b]=a.length,(n=-1!==c.indexOf(b))||(L+=S),a.push({v:S,label:b,color:T(y[o],b),i:o,pts:[o],hidden:n})):(m=!0,(h=a[C]).v+=S,h.pts.push(o),h.hidden||(L+=S),!1===h.color&&y[o]&&(h.color=T(y[o],b)))}return a=a.filter(function(F){return F.v>=0}),("funnelarea"===f.type?m:f.sort)&&a.sort(function(F,D){return D.v-F.v}),a[0]&&(a[0].vTotal=L),a},crossTraceCalc:function x(r,f){var a=(f||{}).type;a||(a="pie");var s=r._fullLayout,c=r.calcdata,u=s[a+"colorway"],y=s["_"+a+"colormap"];s["extend"+a+"colors"]&&(u=e(u,P));for(var v=0,w=0;w<c.length;w++){var d=c[w];if(d[0].trace.type===a)for(var h=0;h<d.length;h++){var M=d[h];!1===M.color&&(y[M.label]?M.color=y[M.label]:(y[M.label]=M.color=u[v%u.length],v++))}}},makePullColorFn:l,generateExtendedColors:e}},37434:function(tt,W,t){"use strict";var A=t(92770),g=t(71828),i=t(34e3),P=t(27670).c,E=t(90769).handleText,l=t(71828).coercePattern;function x(f,a){var s=Array.isArray(f),c=g.isArrayOrTypedArray(a),u=Math.min(s?f.length:1/0,c?a.length:1/0);if(isFinite(u)||(u=0),u&&c){for(var y,v=0;v<u;v++){var w=a[v];if(A(w)&&w>0){y=!0;break}}y||(u=0)}return{hasLabels:s,hasValues:c,len:u}}function e(f,a,s,c,u){c("marker.line.width")&&c("marker.line.color",u?void 0:s.paper_bgcolor);var v=c("marker.colors");l(c,"marker.pattern",v),f.marker&&!a.marker.pattern.fgcolor&&(a.marker.pattern.fgcolor=f.marker.colors),a.marker.pattern.bgcolor||(a.marker.pattern.bgcolor=s.paper_bgcolor)}tt.exports={handleLabelsAndValues:x,handleMarkerDefaults:e,supplyDefaults:function r(f,a,s,c){function u(C,p){return g.coerce(f,a,i,C,p)}var w=x(u("labels"),u("values")),d=w.len;if(a._hasLabels=w.hasLabels,a._hasValues=w.hasValues,!a._hasLabels&&a._hasValues&&(u("label0"),u("dlabel")),d){a._length=d,e(f,a,c,u,!0),u("scalegroup");var M,o=u("text"),h=u("texttemplate");if(h||(M=u("textinfo",Array.isArray(o)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),h||M&&"none"!==M){var T=u("textposition");E(f,a,c,u,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(T)||"auto"===T||"outside"===T)&&u("automargin"),("inside"===T||"auto"===T||Array.isArray(T))&&u("insidetextorientation")}P(a,c,u);var S=u("hole");if(u("title.text")){var n=u("title.position",S?"middle center":"top center");!S&&"middle center"===n&&(a.title.position="top center"),g.coerceFont(u,"title.font",c.font)}u("sort"),u("direction"),u("rotation"),u("pull")}else a.visible=!1}}},20007:function(tt,W,t){"use strict";var A=t(23469).appendArrayMultiPointValues;tt.exports=function(i,P){var E={curveNumber:P.index,pointNumbers:i.pts,data:P._input,fullData:P,label:i.label,color:i.color,value:i.v,percent:i.percent,text:i.text,bbox:i.bbox,v:i.v};return 1===i.pts.length&&(E.pointNumber=E.i=i.pts[0]),A(E,P,i.pts),"funnelarea"===P.type&&(delete E.v,delete E.i),E}},22209:function(tt,W,t){"use strict";var A=t(91424),g=t(7901);tt.exports=function(P,E,l,x){var e=l.marker.pattern;e&&e.shape?A.pointStyle(P,l,x,E):g.fill(P,E.color)}},53581:function(tt,W,t){"use strict";var A=t(71828);function g(i){return-1!==i.indexOf("e")?i.replace(/[.]?0+e/,"e"):-1!==i.indexOf(".")?i.replace(/[.]?0+$/,""):i}W.formatPiePercent=function(P,E){var l=g((100*P).toPrecision(3));return A.numSeparate(l,E)+"%"},W.formatPieValue=function(P,E){var l=g(P.toPrecision(10));return A.numSeparate(l,E)},W.getFirstFilled=function(P,E){if(Array.isArray(P))for(var l=0;l<E.length;l++){var x=P[E[l]];if(x||0===x||""===x)return x}},W.castOption=function(P,E){return Array.isArray(P)?W.getFirstFilled(P,E):P||void 0},W.getRotationAngle=function(i){return("auto"===i?0:i)*Math.PI/180}},58810:function(tt,W,t){"use strict";tt.exports={attributes:t(34e3),supplyDefaults:t(37434).supplyDefaults,supplyLayoutDefaults:t(92097),layoutAttributes:t(92774),calc:t(32354).calc,crossTraceCalc:t(32354).crossTraceCalc,plot:t(14575).plot,style:t(68357),styleOne:t(63463),moduleType:"trace",name:"pie",basePlotModule:t(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(tt){"use strict";tt.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(tt,W,t){"use strict";var A=t(71828),g=t(92774);tt.exports=function(P,E){function l(x,e){return A.coerce(P,E,g,x,e)}l("hiddenlabels"),l("piecolorway",E.colorway),l("extendpiecolors")}},14575:function(tt,W,t){"use strict";var A=t(39898),g=t(74875),i=t(30211),P=t(7901),E=t(91424),l=t(71828),x=l.strScale,e=l.strTranslate,r=t(63893),f=t(72597),a=f.recordMinTextSize,s=f.clearMinTextSize,c=t(97313).TEXTPAD,u=t(53581),y=t(20007),v=t(71828).isValidTextValue;function o(j,Z,H){var X=H[0],at=X.cx,_=X.cy,K=X.trace,nt="funnelarea"===K.type;"_hasHoverLabel"in K||(K._hasHoverLabel=!1),"_hasHoverEvent"in K||(K._hasHoverEvent=!1),j.on("mouseover",function(et){var st=Z._fullLayout,dt=Z._fullData[K.index];if(!Z._dragging&&!1!==st.hovermode){var Tt=dt.hoverinfo;if(Array.isArray(Tt)&&(Tt=i.castHoverinfo({hoverinfo:[u.castOption(Tt,et.pts)],_module:K._module},st,0)),"all"===Tt&&(Tt="label+text+value+percent+name"),dt.hovertemplate||"none"!==Tt&&"skip"!==Tt&&Tt){var bt=et.rInscribed||0,Dt=at+et.pxmid[0]*(1-bt),Ft=_+et.pxmid[1]*(1-bt),Mt=st.separators,wt=[];if(Tt&&-1!==Tt.indexOf("label")&&wt.push(et.label),et.text=u.castOption(dt.hovertext||dt.text,et.pts),Tt&&-1!==Tt.indexOf("text")){var St=et.text;l.isValidTextValue(St)&&wt.push(St)}et.value=et.v,et.valueLabel=u.formatPieValue(et.v,Mt),Tt&&-1!==Tt.indexOf("value")&&wt.push(et.valueLabel),et.percent=et.v/X.vTotal,et.percentLabel=u.formatPiePercent(et.percent,Mt),Tt&&-1!==Tt.indexOf("percent")&&wt.push(et.percentLabel);var Ut=dt.hoverlabel,Gt=Ut.font,Pt=[];i.loneHover({trace:K,x0:Dt-bt*X.r,x1:Dt+bt*X.r,y:Ft,_x0:nt?at+et.TL[0]:Dt-bt*X.r,_x1:nt?at+et.TR[0]:Dt+bt*X.r,_y0:nt?_+et.TL[1]:Ft-bt*X.r,_y1:nt?_+et.BL[1]:Ft+bt*X.r,text:wt.join("<br>"),name:dt.hovertemplate||-1!==Tt.indexOf("name")?dt.name:void 0,idealAlign:et.pxmid[0]<0?"left":"right",color:u.castOption(Ut.bgcolor,et.pts)||et.color,borderColor:u.castOption(Ut.bordercolor,et.pts),fontFamily:u.castOption(Gt.family,et.pts),fontSize:u.castOption(Gt.size,et.pts),fontColor:u.castOption(Gt.color,et.pts),nameLength:u.castOption(Ut.namelength,et.pts),textAlign:u.castOption(Ut.align,et.pts),hovertemplate:u.castOption(dt.hovertemplate,et.pts),hovertemplateLabels:et,eventData:[y(et,dt)]},{container:st._hoverlayer.node(),outerContainer:st._paper.node(),gd:Z,inOut_bbox:Pt}),et.bbox=Pt[0],K._hasHoverLabel=!0}K._hasHoverEvent=!0,Z.emit("plotly_hover",{points:[y(et,dt)],event:A.event})}}),j.on("mouseout",function(et){var st=Z._fullLayout,dt=Z._fullData[K.index],Tt=A.select(this).datum();K._hasHoverEvent&&(et.originalEvent=A.event,Z.emit("plotly_unhover",{points:[y(Tt,dt)],event:A.event}),K._hasHoverEvent=!1),K._hasHoverLabel&&(i.loneUnhover(st._hoverlayer.node()),K._hasHoverLabel=!1)}),j.on("click",function(et){Z._dragging||!1===Z._fullLayout.hovermode||(Z._hoverdata=[y(et,Z._fullData[K.index])],i.click(Z,A.event))})}function M(j,Z,H){var X=u.castOption(j.insidetextfont.color,Z.pts);!X&&j._input.textfont&&(X=u.castOption(j._input.textfont.color,Z.pts));var at=u.castOption(j.insidetextfont.family,Z.pts)||u.castOption(j.textfont.family,Z.pts)||H.family,_=u.castOption(j.insidetextfont.size,Z.pts)||u.castOption(j.textfont.size,Z.pts)||H.size;return{color:X||P.contrast(Z.color),family:at,size:_}}function T(j,Z){for(var H,X,at=0;at<j.length;at++)if((X=(H=j[at][0]).trace).title.text){var _=X.title.text;X._meta&&(_=l.templateString(_,X._meta));var K=E.tester.append("text").attr("data-notex",1).text(_).call(E.font,X.title.font).call(r.convertToTspans,Z),nt=E.bBox(K.node(),!0);H.titleBox={width:nt.width,height:nt.height},K.remove()}}function L(j,Z,H){var X=H.r||Z.rpx1,at=Z.rInscribed;if(Z.startangle===Z.stopangle)return{rCenter:1-at,scale:0,rotate:0,textPosAngle:0};var wt,K=Z.ring,nt=1===K&&Math.abs(Z.startangle-Z.stopangle)===2*Math.PI,et=Z.halfangle,st=Z.midangle,dt=H.trace.insidetextorientation,Tt="horizontal"===dt,bt="tangential"===dt,Dt="radial"===dt,Ft="auto"===dt,Mt=[];if(!Ft){var Ut,St=function(kt,zt){if(function m(j,Z){var H=j.startangle,X=j.stopangle;return H>Z&&Z>X||H<Z&&Z<X}(Z,kt)){var qt=Math.abs(kt-Z.startangle),ae=Math.abs(kt-Z.stopangle),oe=qt<ae?qt:ae;(wt="tan"===zt?b(j,X,K,oe,0):S(j,X,K,oe,Math.PI/2)).textPosAngle=kt,Mt.push(wt)}};if(Tt||bt){for(Ut=4;Ut>=-4;Ut-=2)St(Math.PI*Ut,"tan");for(Ut=4;Ut>=-4;Ut-=2)St(Math.PI*(Ut+1),"tan")}if(Tt||Dt){for(Ut=4;Ut>=-4;Ut-=2)St(Math.PI*(Ut+1.5),"rad");for(Ut=4;Ut>=-4;Ut-=2)St(Math.PI*(Ut+.5),"rad")}}if(nt||Ft||Tt){var Gt=Math.sqrt(j.width*j.width+j.height*j.height);if((wt={scale:at*X*2/Gt,rCenter:1-at,rotate:0}).textPosAngle=(Z.startangle+Z.stopangle)/2,wt.scale>=1)return wt;Mt.push(wt)}(Ft||Dt)&&((wt=S(j,X,K,et,st)).textPosAngle=(Z.startangle+Z.stopangle)/2,Mt.push(wt)),(Ft||bt)&&((wt=b(j,X,K,et,st)).textPosAngle=(Z.startangle+Z.stopangle)/2,Mt.push(wt));for(var Pt=0,Vt=0,te=0;te<Mt.length;te++){var _t=Mt[te].scale;if(Vt<_t&&(Vt=_t,Pt=te),!Ft&&Vt>=1)break}return Mt[Pt]}function S(j,Z,H,X,at){Z=Math.max(0,Z-2*c);var _=j.width/j.height,K=p(_,X,Z,H);return{scale:2*K/j.height,rCenter:n(_,K/Z),rotate:C(at)}}function b(j,Z,H,X,at){Z=Math.max(0,Z-2*c);var _=j.height/j.width,K=p(_,X,Z,H);return{scale:2*K/j.width,rCenter:n(_,K/Z),rotate:C(at+Math.PI/2)}}function n(j,Z){return Math.cos(Z)-j*Z}function C(j){return(180/Math.PI*j+720)%180-90}function p(j,Z,H,X){var at=j+1/(2*Math.tan(Z));return H*Math.min(1/(Math.sqrt(at*at+.5)+at),X/(Math.sqrt(j*j+X/2)+j))}function F(j,Z){return j.v!==Z.vTotal||Z.trace.hole?Math.min(1/(1+1/Math.sin(j.halfangle)),j.ring/2):1}function D(j,Z){var H=Z.pxmid[0],X=Z.pxmid[1],at=j.width/2,_=j.height/2;return H<0&&(at*=-1),X<0&&(_*=-1),{scale:1,rCenter:1,rotate:0,x:at+Math.abs(_)*(at>0?1:-1)/2,y:_/(1+H*H/(X*X)),outside:!0}}function k(j,Z){var at,H,X,_=j.trace,K={x:j.cx,y:j.cy},nt={tx:0,ty:0};nt.ty+=_.title.font.size,at=z(_),-1!==_.title.position.indexOf("top")?(K.y-=(1+at)*j.r,nt.ty-=j.titleBox.height):-1!==_.title.position.indexOf("bottom")&&(K.y+=(1+at)*j.r);var et=function O(j,Z){return j/(void 0===Z?1:Z)}(j.r,j.trace.aspectratio),st=Z.w*(_.domain.x[1]-_.domain.x[0])/2;return-1!==_.title.position.indexOf("left")?(st+=et,K.x-=(1+at)*et,nt.tx+=j.titleBox.width/2):-1!==_.title.position.indexOf("center")?st*=2:-1!==_.title.position.indexOf("right")&&(st+=et,K.x+=(1+at)*et,nt.tx-=j.titleBox.width/2),H=st/j.titleBox.width,X=B(j,Z)/j.titleBox.height,{x:K.x,y:K.y,scale:Math.min(H,X),tx:nt.tx,ty:nt.ty}}function B(j,Z){var H=j.trace;return Math.min(j.titleBox.height,Z.h*(H.domain.y[1]-H.domain.y[0])/2)}function z(j){var H,Z=j.pull;if(!Z)return 0;if(Array.isArray(Z))for(Z=0,H=0;H<j.pull.length;H++)j.pull[H]>Z&&(Z=j.pull[H]);return Z}function G(j,Z){for(var H=[],X=0;X<j.length;X++){var at=j[X][0],_=at.trace,K=_.domain,nt=Z.w*(K.x[1]-K.x[0]),et=Z.h*(K.y[1]-K.y[0]);_.title.text&&"middle center"!==_.title.position&&(et-=B(at,Z));var dt=et/2;"funnelarea"===_.type&&!_.scalegroup&&(dt/=_.aspectratio),at.r=Math.min(nt/2,dt)/(1+z(_)),at.cx=Z.l+Z.w*(_.domain.x[1]+_.domain.x[0])/2,at.cy=Z.t+Z.h*(1-_.domain.y[0])-et/2,_.title.text&&-1!==_.title.position.indexOf("bottom")&&(at.cy-=B(at,Z)),_.scalegroup&&-1===H.indexOf(_.scalegroup)&&H.push(_.scalegroup)}!function Q(j,Z){for(var H,X,at,_=0;_<Z.length;_++){var K=1/0,nt=Z[_];for(X=0;X<j.length;X++)if((at=(H=j[X][0]).trace).scalegroup===nt){var et;if("pie"===at.type)et=H.r*H.r;else if("funnelarea"===at.type){var st,dt;at.aspectratio>1?dt=(st=H.r)/at.aspectratio:st=(dt=H.r)*at.aspectratio,et=(st*=(1+at.baseratio)/2)*dt}K=Math.min(K,et/H.vTotal)}for(X=0;X<j.length;X++)if((at=(H=j[X][0]).trace).scalegroup===nt){var Tt=K*H.vTotal;"funnelarea"===at.type&&(Tt/=(1+at.baseratio)/2,Tt/=at.aspectratio),H.r=Math.sqrt(Tt)}}}(j,H)}function it(j,Z){return[j*Math.sin(Z),-j*Math.cos(Z)]}function ut(j,Z,H){var X=j._fullLayout,at=H.trace,_=at.texttemplate,K=at.textinfo;if(!_&&K&&"none"!==K){var Ft,nt=K.split("+"),et=function(Pt){return-1!==nt.indexOf(Pt)},st=et("label"),dt=et("text"),Tt=et("value"),bt=et("percent"),Dt=X.separators;if(Ft=st?[Z.label]:[],dt){var Mt=u.getFirstFilled(at.text,Z.pts);v(Mt)&&Ft.push(Mt)}Tt&&Ft.push(u.formatPieValue(Z.v,Dt)),bt&&Ft.push(u.formatPiePercent(Z.v/H.vTotal,Dt)),Z.text=Ft.join("<br>")}if(_){var St=l.castOption(at,Z.i,"texttemplate");if(St){var Ut=function wt(Pt){return{label:Pt.label,value:Pt.v,valueLabel:u.formatPieValue(Pt.v,X.separators),percent:Pt.v/H.vTotal,percentLabel:u.formatPiePercent(Pt.v/H.vTotal,X.separators),color:Pt.color,text:Pt.text,customdata:l.castOption(at,Pt.i,"customdata")}}(Z),Gt=u.getFirstFilled(at.text,Z.pts);(v(Gt)||""===Gt)&&(Ut.text=Gt),Z.text=l.texttemplateString(St,Ut,j._fullLayout._d3locale,Ut,at._meta||{})}else Z.text=""}}function J(j,Z){var H=j.rotate*Math.PI/180,X=Math.cos(H),at=Math.sin(H),_=(Z.left+Z.right)/2,K=(Z.top+Z.bottom)/2;j.textX=_*X-K*at,j.textY=_*at+K*X,j.noCenter=!0}tt.exports={plot:function w(j,Z){var H=j._context.staticPlot,X=j._fullLayout,at=X._size;s("pie",X),T(Z,j),G(Z,at);var _=l.makeTraceGroups(X._pielayer,Z,"trace").each(function(K){var nt=A.select(this),et=K[0],st=et.trace;(function rt(j){var et,st,dt,Z=j[0],H=Z.r,X=Z.trace,at=u.getRotationAngle(X.rotation),_=2*Math.PI/Z.vTotal,K="px0",nt="px1";if("counterclockwise"===X.direction){for(et=0;et<j.length&&j[et].hidden;et++);if(et===j.length)return;at+=_*j[et].v,_*=-1,K="px1",nt="px0"}for(dt=it(H,at),et=0;et<j.length;et++)!(st=j[et]).hidden&&(st[K]=dt,st.startangle=at,st.pxmid=it(H,at+=_*st.v/2),st.midangle=at,dt=it(H,at+=_*st.v/2),st.stopangle=at,st[nt]=dt,st.largeArc=st.v>Z.vTotal/2?1:0,st.halfangle=Math.PI*Math.min(st.v/Z.vTotal,.5),st.ring=1-X.hole,st.rInscribed=F(st,Z))})(K),nt.attr("stroke-linejoin","round"),nt.each(function(){var dt=A.select(this).selectAll("g.slice").data(K);dt.enter().append("g").classed("slice",!0),dt.exit().remove();var Tt=[[[],[]],[[],[]]],bt=!1;dt.each(function(Pt,Vt){if(Pt.hidden)A.select(this).selectAll("path,g").remove();else{Pt.pointNumber=Pt.i,Pt.curveNumber=st.index,Tt[Pt.pxmid[1]<0?0:1][Pt.pxmid[0]<0?0:1].push(Pt);var te=et.cx,_t=et.cy,kt=A.select(this),zt=kt.selectAll("path.surface").data([Pt]);if(zt.enter().append("path").classed("surface",!0).style({"pointer-events":H?"none":"all"}),kt.call(o,j,K),st.pull){var qt=+u.castOption(st.pull,Pt.pts)||0;qt>0&&(te+=qt*Pt.pxmid[0],_t+=qt*Pt.pxmid[1])}Pt.cxFinal=te,Pt.cyFinal=_t;var oe=st.hole;if(Pt.v===et.vTotal){var pe="M"+(te+Pt.px0[0])+","+(_t+Pt.px0[1])+ae(Pt.px0,Pt.pxmid,!0,1)+ae(Pt.pxmid,Pt.px0,!0,1)+"Z";zt.attr("d",oe?"M"+(te+oe*Pt.px0[0])+","+(_t+oe*Pt.px0[1])+ae(Pt.px0,Pt.pxmid,!1,oe)+ae(Pt.pxmid,Pt.px0,!1,oe)+"Z"+pe:pe)}else{var ye=ae(Pt.px0,Pt.px1,!0,1);if(oe){var Fe=1-oe;zt.attr("d","M"+(te+oe*Pt.px1[0])+","+(_t+oe*Pt.px1[1])+ae(Pt.px1,Pt.px0,!1,oe)+"l"+Fe*Pt.px0[0]+","+Fe*Pt.px0[1]+ye+"Z")}else zt.attr("d","M"+te+","+_t+"l"+Pt.px0[0]+","+Pt.px0[1]+ye+"Z")}ut(j,Pt,et);var Zt=u.castOption(st.textposition,Pt.pts),Ct=kt.selectAll("g.slicetext").data(Pt.text&&"none"!==Zt?[0]:[]);Ct.enter().append("g").classed("slicetext",!0),Ct.exit().remove(),Ct.each(function(){var Et=l.ensureSingle(A.select(this),"text","",function(Yt){Yt.attr("data-notex",1)}),Rt=l.ensureUniformFontSize(j,"outside"===Zt?function h(j,Z,H){return{color:u.castOption(j.outsidetextfont.color,Z.pts)||u.castOption(j.textfont.color,Z.pts)||H.color,family:u.castOption(j.outsidetextfont.family,Z.pts)||u.castOption(j.textfont.family,Z.pts)||H.family,size:u.castOption(j.outsidetextfont.size,Z.pts)||u.castOption(j.textfont.size,Z.pts)||H.size}}(st,Pt,X.font):M(st,Pt,X.font));Et.text(Pt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(E.font,Rt).call(r.convertToTspans,j);var It,Ot=E.bBox(Et.node());if("outside"===Zt)It=D(Ot,Pt);else if(It=L(Ot,Pt,et),"auto"===Zt&&It.scale<1){var gt=l.ensureUniformFontSize(j,st.outsidetextfont);Et.call(E.font,gt),It=D(Ot=E.bBox(Et.node()),Pt)}var pt=It.textPosAngle,vt=void 0===pt?Pt.pxmid:it(et.r,pt);if(It.targetX=te+vt[0]*It.rCenter+(It.x||0),It.targetY=_t+vt[1]*It.rCenter+(It.y||0),J(It,Ot),It.outside){var yt=It.targetY;Pt.yLabelMin=yt-Ot.height/2,Pt.yLabelMid=yt,Pt.yLabelMax=yt+Ot.height/2,Pt.labelExtraX=0,Pt.labelExtraY=0,bt=!0}It.fontSize=Rt.size,a(st.type,It,X),K[Vt].transform=It,l.setTransormAndDisplay(Et,It)})}function ae(Et,Rt,Ot,It){return"a"+It*et.r+","+It*et.r+" 0 "+Pt.largeArc+(Ot?" 1 ":" 0 ")+It*(Rt[0]-Et[0])+","+It*(Rt[1]-Et[1])}});var Dt=A.select(this).selectAll("g.titletext").data(st.title.text?[0]:[]);if(Dt.enter().append("g").classed("titletext",!0),Dt.exit().remove(),Dt.each(function(){var te,Pt=l.ensureSingle(A.select(this),"text","",function(_t){_t.attr("data-notex",1)}),Vt=st.title.text;st._meta&&(Vt=l.templateString(Vt,st._meta)),Pt.text(Vt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(E.font,st.title.font).call(r.convertToTspans,j),te="middle center"===st.title.position?function N(j){var Z=Math.sqrt(j.titleBox.width*j.titleBox.width+j.titleBox.height*j.titleBox.height);return{x:j.cx,y:j.cy,scale:j.trace.hole*j.r*2/Z,tx:0,ty:-j.titleBox.height/2+j.trace.title.font.size}}(et):k(et,at),Pt.attr("transform",e(te.x,te.y)+x(Math.min(1,te.scale))+e(te.tx,te.ty))}),bt&&function U(j,Z){var H,X,at,_,K,nt,et,st,dt,Tt,bt,Dt,Ft;function Mt(Gt,Pt){return Gt.pxmid[1]-Pt.pxmid[1]}function wt(Gt,Pt){return Pt.pxmid[1]-Gt.pxmid[1]}function St(Gt,Pt){Pt||(Pt={});var qt,ae,oe,Fe,Vt=Pt.labelExtraY+(X?Pt.yLabelMax:Pt.yLabelMin),te=X?Gt.yLabelMin:Gt.yLabelMax,_t=X?Gt.yLabelMax:Gt.yLabelMin,kt=Gt.cyFinal+K(Gt.px0[1],Gt.px1[1]),zt=Vt-te;if(zt*et>0&&(Gt.labelExtraY=zt),Array.isArray(Z.pull))for(ae=0;ae<Tt.length;ae++)!((oe=Tt[ae])===Gt||(u.castOption(Z.pull,Gt.pts)||0)>=(u.castOption(Z.pull,oe.pts)||0))&&((Gt.pxmid[1]-oe.pxmid[1])*et>0?(zt=oe.cyFinal+K(oe.px0[1],oe.px1[1])-te-Gt.labelExtraY)*et>0&&(Gt.labelExtraY+=zt):(_t+Gt.labelExtraY-kt)*et>0&&(qt=3*nt*Math.abs(ae-Tt.indexOf(Gt)),(Fe=oe.cxFinal+_(oe.px0[0],oe.px1[0])+qt-(Gt.cxFinal+Gt.pxmid[0])-Gt.labelExtraX)*nt>0&&(Gt.labelExtraX+=Fe)))}for(X=0;X<2;X++)for(at=X?Mt:wt,K=X?Math.max:Math.min,et=X?1:-1,H=0;H<2;H++){for(_=H?Math.max:Math.min,nt=H?1:-1,(st=j[X][H]).sort(at),Tt=(dt=j[1-X][H]).concat(st),Dt=[],bt=0;bt<st.length;bt++)void 0!==st[bt].yLabelMid&&Dt.push(st[bt]);for(Ft=!1,bt=0;X&&bt<dt.length;bt++)if(void 0!==dt[bt].yLabelMid){Ft=dt[bt];break}for(bt=0;bt<Dt.length;bt++){var Ut=bt&&Dt[bt-1];Ft&&!bt&&(Ut=Ft),St(Dt[bt],Ut)}}}(Tt,st),function d(j,Z){j.each(function(H){var X=A.select(this);if(H.labelExtraX||H.labelExtraY){var at=X.select("g.slicetext text");H.transform.targetX+=H.labelExtraX,H.transform.targetY+=H.labelExtraY,l.setTransormAndDisplay(at,H.transform);var _=H.cxFinal+H.pxmid[0],nt="M"+_+","+(H.cyFinal+H.pxmid[1]),et=(H.yLabelMax-H.yLabelMin)*(H.pxmid[0]<0?-1:1)/4;if(H.labelExtraX){var st=H.labelExtraX*H.pxmid[1]/H.pxmid[0],dt=H.yLabelMid+H.labelExtraY-(H.cyFinal+H.pxmid[1]);Math.abs(st)>Math.abs(dt)?nt+="l"+dt*H.pxmid[0]/H.pxmid[1]+","+dt+"H"+(_+H.labelExtraX+et):nt+="l"+H.labelExtraX+","+st+"v"+(dt-st)+"h"+et}else nt+="V"+(H.yLabelMid+H.labelExtraY)+"h"+et;l.ensureSingle(X,"path","textline").call(P.stroke,Z.outsidetextfont.color).attr({"stroke-width":Math.min(2,Z.outsidetextfont.size/8),d:nt,fill:"none"})}else X.select("path.textline").remove()})}(dt,st),bt&&st.automargin){var Ft=E.bBox(nt.node()),Mt=st.domain,Ut=(at.w*(Mt.x[1]-Mt.x[0])*.5-et.r)/at.w,Gt=(at.h*(Mt.y[1]-Mt.y[0])*.5-et.r)/at.h;g.autoMargin(j,"pie."+st.uid+".automargin",{xl:Mt.x[0]-Ut,xr:Mt.x[1]+Ut,yb:Mt.y[0]-Gt,yt:Mt.y[1]+Gt,l:Math.max(et.cx-et.r-Ft.left,0),r:Math.max(Ft.right-(et.cx+et.r),0),b:Math.max(Ft.bottom-(et.cy+et.r),0),t:Math.max(et.cy-et.r-Ft.top,0),pad:5})}})});setTimeout(function(){_.selectAll("tspan").each(function(){var K=A.select(this);K.attr("dy")&&K.attr("dy",K.attr("dy"))})},0)},formatSliceLabel:ut,transformInsideText:L,determineInsideTextFont:M,positionTitleOutside:k,prerenderTitles:T,layoutAreas:G,attachFxHandlers:o,computeTransform:J}},68357:function(tt,W,t){"use strict";var A=t(39898),g=t(63463),i=t(72597).resizeText;tt.exports=function(E){var l=E._fullLayout._pielayer.selectAll(".trace");i(E,l,"pie"),l.each(function(x){var r=x[0].trace,f=A.select(this);f.style({opacity:r.opacity}),f.selectAll("path.surface").each(function(a){A.select(this).call(g,a,r,E)})})}},63463:function(tt,W,t){"use strict";var A=t(7901),g=t(53581).castOption,i=t(22209);tt.exports=function(E,l,x,e){var r=x.marker.line,f=g(r.color,l.pts)||A.defaultLine,a=g(r.width,l.pts)||0;E.call(i,l,x,e).style("stroke-width",a).call(A.stroke,f)}},10959:function(tt,W,t){"use strict";var A=t(82196);tt.exports={x:A.x,y:A.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:A.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(tt,W,t){"use strict";var A=t(9330).gl_pointcloud2d,g=t(78614),i=t(71739).findExtremes,P=t(34603);function E(e,r){this.scene=e,this.uid=r,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=A(e.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var l=E.prototype;l.handlePick=function(e){var r=this.idToIndex[e.pointId];return{trace:this,dataCoord:e.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*r],this.pickXYData[2*r+1]]:[this.pickXData[r],this.pickYData[r]],textLabel:Array.isArray(this.textLabels)?this.textLabels[r]:this.textLabels,color:this.color,name:this.name,pointIndex:r,hoverinfo:this.hoverinfo}},l.update=function(e){this.index=e.index,this.textLabels=e.text,this.name=e.name,this.hoverinfo=e.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(e),this.color=P(e,{})},l.updateFast=function(e){var u,y,v,d,o,h,r=this.xData=this.pickXData=e.x,f=this.yData=this.pickYData=e.y,a=this.pickXYData=e.xy,c=e.indices,w=this.bounds;if(a){if(v=a,u=a.length>>>1,e.xbounds&&e.ybounds)w[0]=e.xbounds[0],w[2]=e.xbounds[1],w[1]=e.ybounds[0],w[3]=e.ybounds[1];else for(h=0;h<u;h++)o=v[2*h+1],(d=v[2*h])<w[0]&&(w[0]=d),d>w[2]&&(w[2]=d),o<w[1]&&(w[1]=o),o>w[3]&&(w[3]=o);if(c)y=c;else for(y=new Int32Array(u),h=0;h<u;h++)y[h]=h}else for(u=r.length,v=new Float32Array(2*u),y=new Int32Array(u),h=0;h<u;h++)d=r[h],o=f[h],y[h]=h,v[2*h]=d,v[2*h+1]=o,d<w[0]&&(w[0]=d),d>w[2]&&(w[2]=d),o<w[1]&&(w[1]=o),o>w[3]&&(w[3]=o);this.idToIndex=y,this.pointcloudOptions.idToIndex=y,this.pointcloudOptions.positions=v;var M=g(e.marker.color),T=g(e.marker.border.color),L=e.opacity*e.marker.opacity;M[3]*=L,this.pointcloudOptions.color=M;var m=e.marker.blend;if(null===m){m=r.length<100||f.length<100}this.pointcloudOptions.blend=m,T[3]*=L,this.pointcloudOptions.borderColor=T;var b=e.marker.sizemin,n=Math.max(e.marker.sizemax,e.marker.sizemin);this.pointcloudOptions.sizeMin=b,this.pointcloudOptions.sizeMax=n,this.pointcloudOptions.areaRatio=e.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var C=this.scene.xaxis,p=this.scene.yaxis,F=n/2||.5;e._extremes[C._id]=i(C,[w[0],w[2]],{ppad:F}),e._extremes[p._id]=i(p,[w[1],w[3]],{ppad:F})},l.dispose=function(){this.pointcloud.dispose()},tt.exports=function x(e,r){var f=new E(e,r.uid);return f.update(r),f}},33876:function(tt,W,t){"use strict";var A=t(71828),g=t(10959);tt.exports=function(P,E,l){function x(e,r){return A.coerce(P,E,g,e,r)}x("x"),x("y"),x("xbounds"),x("ybounds"),P.xy&&P.xy instanceof Float32Array&&(E.xy=P.xy),P.indices&&P.indices instanceof Int32Array&&(E.indices=P.indices),x("text"),x("marker.color",l),x("marker.opacity"),x("marker.blend"),x("marker.sizemin"),x("marker.sizemax"),x("marker.border.color",l),x("marker.border.arearatio"),E._length=null}},20593:function(tt,W,t){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),tt.exports={attributes:t(10959),supplyDefaults:t(33876),calc:t(36563),plot:t(42743),moduleType:"trace",name:"pointcloud",basePlotModule:t(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(tt,W,t){"use strict";var A=t(41940),g=t(9012),i=t(22399),P=t(77914),E=t(27670).Y,l=t(5386).fF,x=t(50693),e=t(44467).templatedArray,r=t(12663).descriptionOnlyNumbers,f=t(1426).extendFlat,a=t(30962).overrideAll;(tt.exports=a({hoverinfo:f({},g.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:P.hoverlabel,domain:E({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:r("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:A({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:P.hoverlabel,hovertemplate:l({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:P.hoverlabel,hovertemplate:l({},{keys:["value","label"]}),colorscales:e("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:f(x().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},75536:function(tt,W,t){"use strict";var A=t(30962).overrideAll,g=t(27659).a0,i=t(60436),P=t(528),E=t(6964),l=t(28569),x=t(47322).prepSelect,e=t(71828),r=t(73972),f="sankey";function a(s,c){var u=s._fullData[c],y=s._fullLayout,v=y.dragmode,d=u._bgRect;if(d&&"pan"!==v&&"zoom"!==v){E(d,"pan"===y.dragmode?"move":"crosshair");var o={_id:"x",c2p:e.identity,_offset:u._sankey.translateX,_length:u._sankey.width},h={_id:"y",c2p:e.identity,_offset:u._sankey.translateY,_length:u._sankey.height},M={gd:s,element:d.node(),plotinfo:{id:c,xaxis:o,yaxis:h,fillRangeItems:e.noop},subplot:c,xaxes:[o],yaxes:[h],doneFnCompleted:function(T){var m,L=s._fullData[c],S=L.node.groups.slice(),b=[];function n(D){for(var N=L._sankey.graph.nodes,k=0;k<N.length;k++)if(N[k].pointNumber===D)return N[k]}for(var C=0;C<T.length;C++){var p=n(T[C].pointNumber);if(p)if(p.group){for(var F=0;F<p.childrenNodes.length;F++)b.push(p.childrenNodes[F].pointNumber);S[p.pointNumber-L.node._count]=!1}else b.push(p.pointNumber)}m=S.filter(Boolean).concat([b]),r.call("_guiRestyle",s,{"node.groups":[m]},c)},prepFn:function(T,L,m){x(T,L,m,M,v)}};l.init(M)}}W.name=f,W.baseLayoutAttrOverrides=A({hoverlabel:P.hoverlabel},"plot","nested"),W.plot=function(s){var c=g(s.calcdata,f)[0];i(s,c),W.updateFx(s)},W.clean=function(s,c,u,y){var v=y._has&&y._has(f),w=c._has&&c._has(f);v&&!w&&(y._paperdiv.selectAll(".sankey").remove(),y._paperdiv.selectAll(".bgsankey").remove())},W.updateFx=function(s){for(var c=0;c<s._fullData.length;c++)a(s,c)}},92930:function(tt,W,t){"use strict";var A=t(68664),g=t(71828),i=t(28984).wrap,P=g.isArrayOrTypedArray,E=g.isIndex,l=t(21081);function x(r){var d,f=r.node,a=r.link,s=[],c=P(a.color),u=P(a.customdata),y={},v={},w=a.colorscales.length;for(d=0;d<w;d++){var o=a.colorscales[d],h=l.extractScale(o,{cLetter:"c"}),M=l.makeColorScaleFunc(h);v[o.label]=M}var T=0;for(d=0;d<a.value.length;d++)a.source[d]>T&&(T=a.source[d]),a.target[d]>T&&(T=a.target[d]);var L=T+1;r.node._count=L;var m,S=r.node.groups,b={};for(d=0;d<S.length;d++){var n=S[d];for(m=0;m<n.length;m++){var C=n[m],p=L+d;b.hasOwnProperty(C)?g.warn("Node "+C+" is already part of a group."):b[C]=p}}var F={source:[],target:[]};for(d=0;d<a.value.length;d++){var D=a.value[d],N=a.source[d],k=a.target[d];if(D>0&&E(N,L)&&E(k,L)&&(!b.hasOwnProperty(N)||!b.hasOwnProperty(k)||b[N]!==b[k])){b.hasOwnProperty(k)&&(k=b[k]),b.hasOwnProperty(N)&&(N=b[N]),y[N=+N]=y[k=+k]=!0;var O="";a.label&&a.label[d]&&(O=a.label[d]);var B=null;O&&v.hasOwnProperty(O)&&(B=v[O]),s.push({pointNumber:d,label:O,color:c?a.color[d]:a.color,customdata:u?a.customdata[d]:a.customdata,concentrationscale:B,source:N,target:k,value:+D}),F.source.push(N),F.target.push(k)}}var z=L+S.length,U=P(f.color),G=P(f.customdata),Q=[];for(d=0;d<z;d++)y[d]&&Q.push({group:d>L-1,childrenNodes:[],pointNumber:d,label:f.label[d],color:U?f.color[d]:f.color,customdata:G?f.customdata[d]:f.customdata});var it=!1;return function e(r,f,a){for(var s=g.init2dArray(r,0),c=0;c<Math.min(f.length,a.length);c++)if(g.isIndex(f[c],r)&&g.isIndex(a[c],r)){if(f[c]===a[c])return!0;s[f[c]].push(a[c])}return A(s).components.some(function(y){return y.length>1})}(z,F.source,F.target)&&(it=!0),{circular:it,links:s,nodes:Q,groups:S,groupLookup:b}}tt.exports=function(f,a){var s=x(a);return i({circular:s.circular,_nodes:s.nodes,_links:s.links,_groups:s.groups,_groupLookup:s.groupLookup})}},85247:function(tt){"use strict";tt.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(tt,W,t){"use strict";var A=t(71828),g=t(39953),i=t(7901),P=t(84267),E=t(27670).c,l=t(38048),x=t(44467),e=t(85501);function r(f,a){function s(c,u){return A.coerce(f,a,g.link.colorscales,c,u)}s("label"),s("cmin"),s("cmax"),s("colorscale")}tt.exports=function(a,s,c,u){function y(n,C){return A.coerce(a,s,g,n,C)}var v=A.extendDeep(u.hoverlabel,a.hoverlabel),w=a.node,d=x.newContainer(s,"node");function o(n,C){return A.coerce(w,d,g.node,n,C)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",a.hoverinfo),l(w,d,o,v),o("hovertemplate");var h=u.colorway;o("color",d.label.map(function(n,C){return i.addOpacity(function(n){return h[n%h.length]}(C),.8)})),o("customdata");var T=a.link||{},L=x.newContainer(s,"link");function m(n,C){return A.coerce(T,L,g.link,n,C)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",a.hoverinfo),l(T,L,m,v),m("hovertemplate");var b,S=P(u.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";m("color",A.repeat(S,L.value.length)),m("customdata"),e(T,L,{name:"colorscales",handleItemDefaults:r}),E(s,u,y),y("orientation"),y("valueformat"),y("valuesuffix"),d.x.length&&d.y.length&&(b="freeform"),y("arrangement",b),A.coerceFont(y,"textfont",A.extendFlat({},u.font)),s._length=null}},29396:function(tt,W,t){"use strict";tt.exports={attributes:t(39953),supplyDefaults:t(26857),calc:t(92930),plot:t(60436),moduleType:"trace",name:"sankey",basePlotModule:t(75536),selectPoints:t(84564),categories:["noOpacity"],meta:{}}},60436:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=g.numberFormat,P=t(3393),E=t(30211),l=t(7901),x=t(85247).cn,e=g._;function r(h){return""!==h}function f(h,M){return h.filter(function(T){return T.key===M.traceId})}function a(h,M){A.select(h).select("path").style("fill-opacity",M),A.select(h).select("rect").style("fill-opacity",M)}function s(h){A.select(h).select("text.name").style("fill","black")}function c(h){return function(M){return-1!==h.node.sourceLinks.indexOf(M.link)||-1!==h.node.targetLinks.indexOf(M.link)}}function u(h){return function(M){return-1!==M.node.sourceLinks.indexOf(h.link)||-1!==M.node.targetLinks.indexOf(h.link)}}function y(h,M,T){M&&T&&f(T,M).selectAll("."+x.sankeyLink).filter(c(M)).call(w.bind(0,M,T,!1))}function v(h,M,T){M&&T&&f(T,M).selectAll("."+x.sankeyLink).filter(c(M)).call(d.bind(0,M,T,!1))}function w(h,M,T,L){var m=L.datum().link.label;L.style("fill-opacity",function(S){if(!S.link.concentrationscale)return.4}),m&&f(M,h).selectAll("."+x.sankeyLink).filter(function(S){return S.link.label===m}).style("fill-opacity",function(S){if(!S.link.concentrationscale)return.4}),T&&f(M,h).selectAll("."+x.sankeyNode).filter(u(h)).call(y)}function d(h,M,T,L){var m=L.datum().link.label;L.style("fill-opacity",function(S){return S.tinyColorAlpha}),m&&f(M,h).selectAll("."+x.sankeyLink).filter(function(S){return S.link.label===m}).style("fill-opacity",function(S){return S.tinyColorAlpha}),T&&f(M,h).selectAll(x.sankeyNode).filter(u(h)).call(v)}function o(h,M){var L=g.nestedProperty(h.hoverlabel||{},M).get();return!Array.isArray(L)&&L}tt.exports=function(M,T){for(var L=M._fullLayout,m=L._paper,S=L._size,b=0;b<M._fullData.length;b++)if(M._fullData[b].visible&&M._fullData[b].type===x.sankey&&!M._fullData[b]._viewInitial){var n=M._fullData[b].node;M._fullData[b]._viewInitial={node:{groups:n.groups.slice(),x:n.x.slice(),y:n.y.slice()}}}var F=e(M,"source:")+" ",D=e(M,"target:")+" ",N=e(M,"concentration:")+" ",k=e(M,"incoming flow count:")+" ",O=e(M,"outgoing flow count:")+" ";P(M,m,T,{width:S.w,height:S.h,margin:{t:S.t,r:S.r,b:S.b,l:S.l}},{linkEvents:{hover:function(it,ut,J){!1!==M._fullLayout.hovermode&&(A.select(it).call(w.bind(0,ut,J,!0)),"skip"!==ut.link.trace.link.hoverinfo&&(ut.link.fullData=ut.link.trace,M.emit("plotly_hover",{event:A.event,points:[ut.link]})))},follow:function(it,ut){if(!1!==M._fullLayout.hovermode){var J=ut.link.trace.link;if("none"!==J.hoverinfo&&"skip"!==J.hoverinfo){for(var j=[],H=0,X=0;X<ut.flow.links.length;X++){var at=ut.flow.links[X];if("closest"!==M._fullLayout.hovermode||ut.link.pointNumber===at.pointNumber){ut.link.pointNumber===at.pointNumber&&(H=X),at.fullData=at.trace,J=ut.link.trace.link;var _=Z(at),K={valueLabel:i(ut.valueFormat)(at.value)+ut.valueSuffix};j.push({x:_[0],y:_[1],name:K.valueLabel,text:[at.label||"",F+at.source.label,D+at.target.label,at.concentrationscale?N+i("%0.2f")(at.flow.labelConcentration):""].filter(r).join("<br>"),color:o(J,"bgcolor")||l.addOpacity(at.color,1),borderColor:o(J,"bordercolor"),fontFamily:o(J,"font.family"),fontSize:o(J,"font.size"),fontColor:o(J,"font.color"),nameLength:o(J,"namelength"),textAlign:o(J,"align"),idealAlign:A.event.x<_[0]?"right":"left",hovertemplate:J.hovertemplate,hovertemplateLabels:K,eventData:[at]})}}E.loneHover(j,{container:L._hoverlayer.node(),outerContainer:L._paper.node(),gd:M,anchorIndex:H}).each(function(){ut.link.concentrationscale||a(this,.65),s(this)})}}function Z(et){var st,dt;et.circular?(st=(et.circularPathData.leftInnerExtent+et.circularPathData.rightInnerExtent)/2,dt=et.circularPathData.verticalFullExtent):(st=(et.source.x1+et.target.x0)/2,dt=(et.y0+et.y1)/2);var Tt=[st,dt];return"v"===et.trace.orientation&&Tt.reverse(),Tt[0]+=ut.parent.translateX,Tt[1]+=ut.parent.translateY,Tt}},unhover:function(it,ut,J){!1!==M._fullLayout.hovermode&&(A.select(it).call(d.bind(0,ut,J,!0)),"skip"!==ut.link.trace.link.hoverinfo&&(ut.link.fullData=ut.link.trace,M.emit("plotly_unhover",{event:A.event,points:[ut.link]})),E.loneUnhover(L._hoverlayer.node()))},select:function(it,ut){var J=ut.link;J.originalEvent=A.event,M._hoverdata=[J],E.click(M,{target:!0})}},nodeEvents:{hover:function(it,ut,J){!1!==M._fullLayout.hovermode&&(A.select(it).call(y,ut,J),"skip"!==ut.node.trace.node.hoverinfo&&(ut.node.fullData=ut.node.trace,M.emit("plotly_hover",{event:A.event,points:[ut.node]})))},follow:function(it,ut){if(!1!==M._fullLayout.hovermode){var J=ut.node.trace.node;if("none"!==J.hoverinfo&&"skip"!==J.hoverinfo){var j=A.select(it).select("."+x.nodeRect),Z=M._fullLayout._paperdiv.node().getBoundingClientRect(),H=j.node().getBoundingClientRect(),X=H.left-2-Z.left,at=H.right+2-Z.left,_=H.top+H.height/4-Z.top,K={valueLabel:i(ut.valueFormat)(ut.node.value)+ut.valueSuffix};ut.node.fullData=ut.node.trace,M._fullLayout._calcInverseTransform(M);var nt=M._fullLayout._invScaleX,st=E.loneHover({x0:nt*X,x1:nt*at,y:M._fullLayout._invScaleY*_,name:i(ut.valueFormat)(ut.node.value)+ut.valueSuffix,text:[ut.node.label,k+ut.node.targetLinks.length,O+ut.node.sourceLinks.length].filter(r).join("<br>"),color:o(J,"bgcolor")||ut.tinyColorHue,borderColor:o(J,"bordercolor"),fontFamily:o(J,"font.family"),fontSize:o(J,"font.size"),fontColor:o(J,"font.color"),nameLength:o(J,"namelength"),textAlign:o(J,"align"),idealAlign:"left",hovertemplate:J.hovertemplate,hovertemplateLabels:K,eventData:[ut.node]},{container:L._hoverlayer.node(),outerContainer:L._paper.node(),gd:M});a(st,.85),s(st)}}},unhover:function(it,ut,J){!1!==M._fullLayout.hovermode&&(A.select(it).call(v,ut,J),"skip"!==ut.node.trace.node.hoverinfo&&(ut.node.fullData=ut.node.trace,M.emit("plotly_unhover",{event:A.event,points:[ut.node]})),E.loneUnhover(L._hoverlayer.node()))},select:function(it,ut,J){var j=ut.node;j.originalEvent=A.event,M._hoverdata=[j],A.select(it).call(v,ut,J),E.click(M,{target:!0})}}})}},3393:function(tt,W,t){"use strict";var A=t(49887),g=t(81684).k4,i=t(39898),P=t(30838),E=t(86781),l=t(85247),x=t(84267),e=t(7901),r=t(91424),f=t(71828),a=f.strTranslate,s=f.strRotate,c=t(28984),u=c.keyFun,y=c.repeat,v=c.unwrap,w=t(63893),d=t(73972),o=t(18783),h=o.CAP_SHIFT,M=o.LINE_SPACING;function L(Z,H,X){var Mt,at=v(H),_=at.trace,K=_.domain,nt="h"===_.orientation,et=_.node.pad,st=_.node.thickness,dt=Z.width*(K.x[1]-K.x[0]),Tt=Z.height*(K.y[1]-K.y[0]),bt=at._nodes,Dt=at._links,Ft=at.circular;(Mt=Ft?E.sankeyCircular().circularLinkGap(0):P.sankey()).iterations(l.sankeyIterations).size(nt?[dt,Tt]:[Tt,dt]).nodeWidth(st).nodePadding(et).nodeId(function(ye){return ye.pointNumber}).nodes(bt).links(Dt);var St,Ut,Gt,wt=Mt();for(var Pt in Mt.nodePadding()<et&&f.warn("node.pad was reduced to ",Mt.nodePadding()," to fit within the figure."),at._groupLookup){var te,Vt=parseInt(at._groupLookup[Pt]);for(St=0;St<wt.nodes.length;St++)if(wt.nodes[St].pointNumber===Vt){te=wt.nodes[St];break}if(te){var _t={pointNumber:parseInt(Pt),x0:te.x0,x1:te.x1,y0:te.y0,y1:te.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};wt.nodes.unshift(_t),te.childrenNodes.unshift(_t)}}if(function kt(){for(St=0;St<wt.nodes.length;St++){var Zt,Ct,ye=wt.nodes[St],Fe={};for(Ut=0;Ut<ye.targetLinks.length;Ut++)Fe.hasOwnProperty(Zt=(Ct=ye.targetLinks[Ut]).source.pointNumber+":"+Ct.target.pointNumber)||(Fe[Zt]=[]),Fe[Zt].push(Ct);var Et=Object.keys(Fe);for(Ut=0;Ut<Et.length;Ut++){var Rt=Fe[Zt=Et[Ut]],Ot=0,It={};for(Gt=0;Gt<Rt.length;Gt++)It[(Ct=Rt[Gt]).label]||(It[Ct.label]=0),It[Ct.label]+=Ct.value,Ot+=Ct.value;for(Gt=0;Gt<Rt.length;Gt++)(Ct=Rt[Gt]).flow={value:Ot,labelConcentration:It[Ct.label]/Ot,concentration:Ct.value/Ot,links:Rt},Ct.concentrationscale&&(Ct.color=x(Ct.concentrationscale(Ct.flow.labelConcentration)))}var gt=0;for(Ut=0;Ut<ye.sourceLinks.length;Ut++)gt+=ye.sourceLinks[Ut].value;for(Ut=0;Ut<ye.sourceLinks.length;Ut++)(Ct=ye.sourceLinks[Ut]).concentrationOut=Ct.value/gt;var pt=0;for(Ut=0;Ut<ye.targetLinks.length;Ut++)pt+=ye.targetLinks[Ut].value;for(Ut=0;Ut<ye.targetLinks.length;Ut++)(Ct=ye.targetLinks[Ut]).concenrationIn=Ct.value/pt}}(),_.node.x.length&&_.node.y.length){for(St=0;St<Math.min(_.node.x.length,_.node.y.length,wt.nodes.length);St++)if(_.node.x[St]&&_.node.y[St]){var ae=[_.node.x[St]*dt,_.node.y[St]*Tt];wt.nodes[St].x0=ae[0]-st/2,wt.nodes[St].x1=ae[0]+st/2;var oe=wt.nodes[St].y1-wt.nodes[St].y0;wt.nodes[St].y0=ae[1]-oe/2,wt.nodes[St].y1=ae[1]+oe/2}"snap"===_.arrangement&&function zt(ye){ye.forEach(function(Fe){var Zt,Ct,Ot,Et=0,Rt=Fe.length;for(Fe.sort(function(It,gt){return It.y0-gt.y0}),Ot=0;Ot<Rt;++Ot)(Zt=Fe[Ot]).y0>=Et||(Ct=Et-Zt.y0)>1e-6&&(Zt.y0+=Ct,Zt.y1+=Ct),Et=Zt.y1+et})}(function qt(ye){var Et,Ot,Fe=ye.map(function(gt,pt){return{x0:gt.x0,index:pt}}).sort(function(gt,pt){return gt.x0-pt.x0}),Zt=[],Ct=-1,Rt=-1/0;for(St=0;St<Fe.length;St++){var It=ye[Fe[St].index];It.x0>Rt+st&&(Ct+=1,Et=It.x0),Rt=It.x0,Zt[Ct]||(Zt[Ct]=[]),Zt[Ct].push(It),It.x0+=Ot=Et-It.x0,It.x1+=Ot}return Zt}(bt=wt.nodes)),Mt.update(wt)}return{circular:Ft,key:X,trace:_,guid:f.randstr(),horizontal:nt,width:dt,height:Tt,nodePad:_.node.pad,nodeLineColor:_.node.line.color,nodeLineWidth:_.node.line.width,linkLineColor:_.link.line.color,linkLineWidth:_.link.line.width,linkArrowLength:_.link.arrowlen,valueFormat:_.valueformat,valueSuffix:_.valuesuffix,textFont:_.textfont,translateX:K.x[0]*Z.width+Z.margin.l,translateY:Z.height-K.y[1]*Z.height+Z.margin.t,dragParallel:nt?Tt:dt,dragPerpendicular:nt?dt:Tt,arrangement:_.arrangement,sankey:Mt,graph:wt,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function m(Z,H,X){var at=x(H.color),K=H.source.label+"|"+H.target.label+"__"+X;return H.trace=Z.trace,H.curveNumber=Z.trace.index,{circular:Z.circular,key:K,traceId:Z.key,pointNumber:H.pointNumber,link:H,tinyColorHue:e.tinyRGB(at),tinyColorAlpha:at.getAlpha(),linkPath:b,linkLineColor:Z.linkLineColor,linkLineWidth:Z.linkLineWidth,linkArrowLength:Z.linkArrowLength,valueFormat:Z.valueFormat,valueSuffix:Z.valueSuffix,sankey:Z.sankey,parent:Z,interactionState:Z.interactionState,flow:H.flow}}function b(){return function H(X){var at=X.linkArrowLength;if(X.link.circular)return function S(Z,H){var at=Z.width/2,_=Z.circularPathData;return"top"===Z.circularLinkType?"M "+(_.targetX-H)+" "+(_.targetY+at)+" L"+(_.rightInnerExtent-H)+" "+(_.targetY+at)+"A"+(_.rightLargeArcRadius+at)+" "+(_.rightSmallArcRadius+at)+" 0 0 1 "+(_.rightFullExtent-at-H)+" "+(_.targetY-_.rightSmallArcRadius)+"L"+(_.rightFullExtent-at-H)+" "+_.verticalRightInnerExtent+"A"+(_.rightLargeArcRadius+at)+" "+(_.rightLargeArcRadius+at)+" 0 0 1 "+(_.rightInnerExtent-H)+" "+(_.verticalFullExtent-at)+"L"+_.leftInnerExtent+" "+(_.verticalFullExtent-at)+"A"+(_.leftLargeArcRadius+at)+" "+(_.leftLargeArcRadius+at)+" 0 0 1 "+(_.leftFullExtent+at)+" "+_.verticalLeftInnerExtent+"L"+(_.leftFullExtent+at)+" "+(_.sourceY-_.leftSmallArcRadius)+"A"+(_.leftLargeArcRadius+at)+" "+(_.leftSmallArcRadius+at)+" 0 0 1 "+_.leftInnerExtent+" "+(_.sourceY+at)+"L"+_.sourceX+" "+(_.sourceY+at)+"L"+_.sourceX+" "+(_.sourceY-at)+"L"+_.leftInnerExtent+" "+(_.sourceY-at)+"A"+(_.leftLargeArcRadius-at)+" "+(_.leftSmallArcRadius-at)+" 0 0 0 "+(_.leftFullExtent-at)+" "+(_.sourceY-_.leftSmallArcRadius)+"L"+(_.leftFullExtent-at)+" "+_.verticalLeftInnerExtent+"A"+(_.leftLargeArcRadius-at)+" "+(_.leftLargeArcRadius-at)+" 0 0 0 "+_.leftInnerExtent+" "+(_.verticalFullExtent+at)+"L"+(_.rightInnerExtent-H)+" "+(_.verticalFullExtent+at)+"A"+(_.rightLargeArcRadius-at)+" "+(_.rightLargeArcRadius-at)+" 0 0 0 "+(_.rightFullExtent+at-H)+" "+_.verticalRightInnerExtent+"L"+(_.rightFullExtent+at-H)+" "+(_.targetY-_.rightSmallArcRadius)+"A"+(_.rightLargeArcRadius-at)+" "+(_.rightSmallArcRadius-at)+" 0 0 0 "+(_.rightInnerExtent-H)+" "+(_.targetY-at)+"L"+(_.targetX-H)+" "+(_.targetY-at)+(H>0?"L"+_.targetX+" "+_.targetY:"")+"Z":"M "+(_.targetX-H)+" "+(_.targetY-at)+" L"+(_.rightInnerExtent-H)+" "+(_.targetY-at)+"A"+(_.rightLargeArcRadius+at)+" "+(_.rightSmallArcRadius+at)+" 0 0 0 "+(_.rightFullExtent-at-H)+" "+(_.targetY+_.rightSmallArcRadius)+"L"+(_.rightFullExtent-at-H)+" "+_.verticalRightInnerExtent+"A"+(_.rightLargeArcRadius+at)+" "+(_.rightLargeArcRadius+at)+" 0 0 0 "+(_.rightInnerExtent-H)+" "+(_.verticalFullExtent+at)+"L"+_.leftInnerExtent+" "+(_.verticalFullExtent+at)+"A"+(_.leftLargeArcRadius+at)+" "+(_.leftLargeArcRadius+at)+" 0 0 0 "+(_.leftFullExtent+at)+" "+_.verticalLeftInnerExtent+"L"+(_.leftFullExtent+at)+" "+(_.sourceY+_.leftSmallArcRadius)+"A"+(_.leftLargeArcRadius+at)+" "+(_.leftSmallArcRadius+at)+" 0 0 0 "+_.leftInnerExtent+" "+(_.sourceY-at)+"L"+_.sourceX+" "+(_.sourceY-at)+"L"+_.sourceX+" "+(_.sourceY+at)+"L"+_.leftInnerExtent+" "+(_.sourceY+at)+"A"+(_.leftLargeArcRadius-at)+" "+(_.leftSmallArcRadius-at)+" 0 0 1 "+(_.leftFullExtent-at)+" "+(_.sourceY+_.leftSmallArcRadius)+"L"+(_.leftFullExtent-at)+" "+_.verticalLeftInnerExtent+"A"+(_.leftLargeArcRadius-at)+" "+(_.leftLargeArcRadius-at)+" 0 0 1 "+_.leftInnerExtent+" "+(_.verticalFullExtent-at)+"L"+(_.rightInnerExtent-H)+" "+(_.verticalFullExtent-at)+"A"+(_.rightLargeArcRadius-at)+" "+(_.rightLargeArcRadius-at)+" 0 0 1 "+(_.rightFullExtent+at-H)+" "+_.verticalRightInnerExtent+"L"+(_.rightFullExtent+at-H)+" "+(_.targetY+_.rightSmallArcRadius)+"A"+(_.rightLargeArcRadius-at)+" "+(_.rightSmallArcRadius-at)+" 0 0 1 "+(_.rightInnerExtent-H)+" "+(_.targetY+at)+"L"+(_.targetX-H)+" "+(_.targetY+at)+(H>0?"L"+_.targetX+" "+_.targetY:"")+"Z"}(X.link,at);var _=Math.abs((X.link.target.x0-X.link.source.x1)/2);at>_&&(at=_);var K=X.link.source.x1,nt=X.link.target.x0-at,et=g(K,nt),st=et(.5),dt=et(.5),Tt=X.link.y0-X.link.width/2,bt=X.link.y0+X.link.width/2,Dt=X.link.y1-X.link.width/2,Ft=X.link.y1+X.link.width/2,Ut=at>0?"L"+(nt+at)+","+(Dt+X.link.width/2):"";return"M"+K+","+Tt+"C"+st+","+Tt+" "+dt+","+Dt+" "+nt+","+Dt+(Ut+="L"+nt+","+Ft)+"C"+dt+","+Ft+" "+st+","+bt+" "+K+","+bt+"Z"}}function n(Z,H){var X=x(H.color),at=l.nodePadAcross,_=Z.nodePad/2;H.dx=H.x1-H.x0,H.dy=H.y1-H.y0;var K=H.dx,nt=Math.max(.5,H.dy),et="node_"+H.pointNumber;return H.group&&(et=f.randstr()),H.trace=Z.trace,H.curveNumber=Z.trace.index,{index:H.pointNumber,key:et,partOfGroup:H.partOfGroup||!1,group:H.group,traceId:Z.key,trace:Z.trace,node:H,nodePad:Z.nodePad,nodeLineColor:Z.nodeLineColor,nodeLineWidth:Z.nodeLineWidth,textFont:Z.textFont,size:Z.horizontal?Z.height:Z.width,visibleWidth:Math.ceil(K),visibleHeight:nt,zoneX:-at,zoneY:-_,zoneWidth:K+2*at,zoneHeight:nt+2*_,labelY:Z.horizontal?H.dy/2+1:H.dx/2+1,left:1===H.originalLayer,sizeAcross:Z.width,forceLayouts:Z.forceLayouts,horizontal:Z.horizontal,darkBackground:X.getBrightness()<=128,tinyColorHue:e.tinyRGB(X),tinyColorAlpha:X.getAlpha(),valueFormat:Z.valueFormat,valueSuffix:Z.valueSuffix,sankey:Z.sankey,graph:Z.graph,arrangement:Z.arrangement,uniqueNodeLabelPathId:[Z.guid,Z.key,et].join("_"),interactionState:Z.interactionState,figure:Z}}function C(Z){Z.attr("transform",function(H){return a(H.node.x0.toFixed(3),H.node.y0.toFixed(3))})}function p(Z){Z.call(C)}function F(Z,H){Z.call(p),H.attr("d",b())}function D(Z){Z.attr("width",function(H){return H.node.x1-H.node.x0}).attr("height",function(H){return H.visibleHeight})}function N(Z){return Z.link.width>1||Z.linkLineWidth>0}function k(Z){return a(Z.translateX,Z.translateY)+(Z.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function O(Z,H,X){Z.on(".basic",null).on("mouseover.basic",function(at){!at.interactionState.dragInProgress&&!at.partOfGroup&&(X.hover(this,at,H),at.interactionState.hovered=[this,at])}).on("mousemove.basic",function(at){!at.interactionState.dragInProgress&&!at.partOfGroup&&(X.follow(this,at),at.interactionState.hovered=[this,at])}).on("mouseout.basic",function(at){!at.interactionState.dragInProgress&&!at.partOfGroup&&(X.unhover(this,at,H),at.interactionState.hovered=!1)}).on("click.basic",function(at){at.interactionState.hovered&&(X.unhover(this,at,H),at.interactionState.hovered=!1),!at.interactionState.dragInProgress&&!at.partOfGroup&&X.select(this,at,H)})}function B(Z,H,X,at){var _=i.behavior.drag().origin(function(K){return{x:K.node.x0+K.visibleWidth/2,y:K.node.y0+K.visibleHeight/2}}).on("dragstart",function(K){if("fixed"!==K.arrangement&&(f.ensureSingle(at._fullLayout._infolayer,"g","dragcover",function(et){at._fullLayout._dragCover=et}),f.raiseToTop(this),K.interactionState.dragInProgress=K.node,it(K.node),K.interactionState.hovered&&(X.nodeEvents.unhover.apply(0,K.interactionState.hovered),K.interactionState.hovered=!1),"snap"===K.arrangement)){var nt=K.traceId+"|"+K.key;K.forceLayouts[nt]?K.forceLayouts[nt].alpha(1):function z(Z,H,X,at){!function J(Z){for(var H=0;H<Z.length;H++)Z[H].y=(Z[H].y0+Z[H].y1)/2,Z[H].x=(Z[H].x0+Z[H].x1)/2}(X.graph.nodes);var _=X.graph.nodes.filter(function(K){return K.originalX===X.node.originalX}).filter(function(K){return!K.partOfGroup});X.forceLayouts[H]=A.forceSimulation(_).alphaDecay(0).force("collide",A.forceCollide().radius(function(K){return K.dy/2+X.nodePad/2}).strength(1).iterations(l.forceIterations)).force("constrain",function G(Z,H,X,at){return function(){for(var K=0,nt=0;nt<X.length;nt++){var et=X[nt];et===at.interactionState.dragInProgress?(et.x=et.lastDraggedX,et.y=et.lastDraggedY):(et.vx=(et.originalX-et.x)/l.forceTicksPerFrame,et.y=Math.min(at.size-et.dy/2,Math.max(et.dy/2,et.y))),K=Math.max(K,Math.abs(et.vx),Math.abs(et.vy))}!at.interactionState.dragInProgress&&K<.1&&at.forceLayouts[H].alpha()>0&&at.forceLayouts[H].alpha(0)}}(0,H,_,X)).stop()}(0,nt,K),function U(Z,H,X,at,_){window.requestAnimationFrame(function K(){var nt;for(nt=0;nt<l.forceTicksPerFrame;nt++)X.forceLayouts[at].tick();if(function j(Z){for(var H=0;H<Z.length;H++)Z[H].y0=Z[H].y-Z[H].dy/2,Z[H].y1=Z[H].y0+Z[H].dy,Z[H].x0=Z[H].x-Z[H].dx/2,Z[H].x1=Z[H].x0+Z[H].dx}(X.graph.nodes),X.sankey.update(X.graph),F(Z.filter(ut(X)),H),X.forceLayouts[at].alpha()>0)window.requestAnimationFrame(K);else{var st=X.node.originalX;X.node.x0=st-X.visibleWidth/2,X.node.x1=st+X.visibleWidth/2,Q(X,_)}})}(Z,H,K,nt,at)}}).on("drag",function(K){if("fixed"!==K.arrangement){var nt=i.event.x,et=i.event.y;"snap"===K.arrangement?(K.node.x0=nt-K.visibleWidth/2,K.node.x1=nt+K.visibleWidth/2,K.node.y0=et-K.visibleHeight/2,K.node.y1=et+K.visibleHeight/2):("freeform"===K.arrangement&&(K.node.x0=nt-K.visibleWidth/2,K.node.x1=nt+K.visibleWidth/2),et=Math.max(0,Math.min(K.size-K.visibleHeight/2,et)),K.node.y0=et-K.visibleHeight/2,K.node.y1=et+K.visibleHeight/2),it(K.node),"snap"!==K.arrangement&&(K.sankey.update(K.graph),F(Z.filter(ut(K)),H))}}).on("dragend",function(K){if("fixed"!==K.arrangement){K.interactionState.dragInProgress=!1;for(var nt=0;nt<K.node.childrenNodes.length;nt++)K.node.childrenNodes[nt].x=K.node.x,K.node.childrenNodes[nt].y=K.node.y;"snap"!==K.arrangement&&Q(K,at)}});Z.on(".drag",null).call(_)}function Q(Z,H){for(var X=[],at=[],_=0;_<Z.graph.nodes.length;_++){var nt=(Z.graph.nodes[_].y0+Z.graph.nodes[_].y1)/2;X.push((Z.graph.nodes[_].x0+Z.graph.nodes[_].x1)/2/Z.figure.width),at.push(nt/Z.figure.height)}d.call("_guiRestyle",H,{"node.x":[X],"node.y":[at]},Z.trace.index).then(function(){H._fullLayout._dragCover&&H._fullLayout._dragCover.remove()})}function it(Z){Z.lastDraggedX=Z.x0+Z.dx/2,Z.lastDraggedY=Z.y0+Z.dy/2}function ut(Z){return function(H){return H.node.originalX===Z.node.originalX}}tt.exports=function(Z,H,X,at,_){var K=Z._context.staticPlot,nt=!1;f.ensureSingle(Z._fullLayout._infolayer,"g","first-render",function(){nt=!0});var et=Z._fullLayout._dragCover,st=X.filter(function(St){return v(St).trace.visible}).map(L.bind(null,at)),dt=H.selectAll("."+l.cn.sankey).data(st,u);dt.exit().remove(),dt.enter().append("g").classed(l.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",K?"none":"auto").attr("transform",k),dt.each(function(St,Ut){Z._fullData[Ut]._sankey=St;var Gt="bgsankey-"+St.trace.uid+"-"+Ut;f.ensureSingle(Z._fullLayout._draggers,"rect",Gt),Z._fullData[Ut]._bgRect=i.select("."+Gt),Z._fullData[Ut]._bgRect.style("pointer-events",K?"none":"all").attr("width",St.width).attr("height",St.height).attr("x",St.translateX).attr("y",St.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),dt.transition().ease(l.ease).duration(l.duration).attr("transform",k);var Tt=dt.selectAll("."+l.cn.sankeyLinks).data(y,u);Tt.enter().append("g").classed(l.cn.sankeyLinks,!0).style("fill","none");var bt=Tt.selectAll("."+l.cn.sankeyLink).data(function(St){return St.graph.links.filter(function(Gt){return Gt.value}).map(m.bind(null,St))},u);bt.enter().append("path").classed(l.cn.sankeyLink,!0).call(O,dt,_.linkEvents),bt.style("stroke",function(St){return N(St)?e.tinyRGB(x(St.linkLineColor)):St.tinyColorHue}).style("stroke-opacity",function(St){return N(St)?e.opacity(St.linkLineColor):St.tinyColorAlpha}).style("fill",function(St){return St.tinyColorHue}).style("fill-opacity",function(St){return St.tinyColorAlpha}).style("stroke-width",function(St){return N(St)?St.linkLineWidth:1}).attr("d",b()),bt.style("opacity",function(){return Z._context.staticPlot||nt||et?1:0}).transition().ease(l.ease).duration(l.duration).style("opacity",1),bt.exit().transition().ease(l.ease).duration(l.duration).style("opacity",0).remove();var Dt=dt.selectAll("."+l.cn.sankeyNodeSet).data(y,u);Dt.enter().append("g").classed(l.cn.sankeyNodeSet,!0),Dt.style("cursor",function(St){switch(St.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ft=Dt.selectAll("."+l.cn.sankeyNode).data(function(St){var Ut=St.graph.nodes;return function rt(Z){var X,H=[];for(X=0;X<Z.length;X++)Z[X].originalX=(Z[X].x0+Z[X].x1)/2,Z[X].originalY=(Z[X].y0+Z[X].y1)/2,-1===H.indexOf(Z[X].originalX)&&H.push(Z[X].originalX);for(H.sort(function(at,_){return at-_}),X=0;X<Z.length;X++)Z[X].originalLayerIndex=H.indexOf(Z[X].originalX),Z[X].originalLayer=Z[X].originalLayerIndex/(H.length-1)}(Ut),Ut.map(n.bind(null,St))},u);Ft.enter().append("g").classed(l.cn.sankeyNode,!0).call(C).style("opacity",function(St){return!Z._context.staticPlot&&!nt||St.partOfGroup?0:1}),Ft.call(O,dt,_.nodeEvents).call(B,bt,_,Z),Ft.transition().ease(l.ease).duration(l.duration).call(C).style("opacity",function(St){return St.partOfGroup?0:1}),Ft.exit().transition().ease(l.ease).duration(l.duration).style("opacity",0).remove();var Mt=Ft.selectAll("."+l.cn.nodeRect).data(y);Mt.enter().append("rect").classed(l.cn.nodeRect,!0).call(D),Mt.style("stroke-width",function(St){return St.nodeLineWidth}).style("stroke",function(St){return e.tinyRGB(x(St.nodeLineColor))}).style("stroke-opacity",function(St){return e.opacity(St.nodeLineColor)}).style("fill",function(St){return St.tinyColorHue}).style("fill-opacity",function(St){return St.tinyColorAlpha}),Mt.transition().ease(l.ease).duration(l.duration).call(D);var wt=Ft.selectAll("."+l.cn.nodeLabel).data(y);wt.enter().append("text").classed(l.cn.nodeLabel,!0).style("cursor","default"),wt.attr("data-notex",1).text(function(St){return St.node.label}).each(function(St){var Ut=i.select(this);r.font(Ut,St.textFont),w.convertToTspans(Ut,Z)}).style("text-shadow",w.makeTextShadow(Z._fullLayout.paper_bgcolor)).attr("text-anchor",function(St){return St.horizontal&&St.left?"end":"start"}).attr("transform",function(St){var Ut=i.select(this),Gt=w.lineCount(Ut),Vt=St.nodeLineWidth/2+3,te=((St.horizontal?St.visibleHeight:St.visibleWidth)-St.textFont.size*((Gt-1)*M-h))/2;St.horizontal&&(St.left?Vt=-Vt:Vt+=St.visibleWidth);var _t=St.horizontal?"":"scale(-1,1)"+s(90);return a(St.horizontal?Vt:te,St.horizontal?te:Vt)+_t}),wt.transition().ease(l.ease).duration(l.duration)}},84564:function(tt){"use strict";tt.exports=function(t,A){for(var i=[],P=t.cd[0].trace,E=P._sankey.graph.nodes,l=0;l<E.length;l++){var x=E[l];if(!x.partOfGroup){var e=[(x.x0+x.x1)/2,(x.y0+x.y1)/2];"v"===P.orientation&&e.reverse(),A&&A.contains(e,!1,l,t)&&i.push({pointNumber:x.pointNumber})}}return i}},75225:function(tt,W,t){"use strict";var A=t(71828);tt.exports=function(i,P){for(var E=0;E<i.length;E++)i[E].i=E;A.mergeArray(P.text,i,"tx"),A.mergeArray(P.texttemplate,i,"txt"),A.mergeArray(P.hovertext,i,"htx"),A.mergeArray(P.customdata,i,"data"),A.mergeArray(P.textposition,i,"tp"),P.textfont&&(A.mergeArrayCastPositive(P.textfont.size,i,"ts"),A.mergeArray(P.textfont.color,i,"tc"),A.mergeArray(P.textfont.family,i,"tf"));var l=P.marker;if(l){A.mergeArrayCastPositive(l.size,i,"ms"),A.mergeArrayCastPositive(l.opacity,i,"mo"),A.mergeArray(l.symbol,i,"mx"),A.mergeArray(l.angle,i,"ma"),A.mergeArray(l.standoff,i,"mf"),A.mergeArray(l.color,i,"mc");var x=l.line;l.line&&(A.mergeArray(x.color,i,"mlc"),A.mergeArrayCastPositive(x.width,i,"mlw"));var e=l.gradient;e&&"none"!==e.type&&(A.mergeArray(e.type,i,"mgt"),A.mergeArray(e.color,i,"mgc"))}}},82196:function(tt,W,t){"use strict";var A=t(12663).axisHoverFormat,g=t(5386).si,i=t(5386).fF,P=t(50693),E=t(41940),l=t(79952).P,x=t(79952).u,e=t(91424),r=t(47581),f=t(1426).extendFlat;tt.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:A("x"),yhoverformat:A("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:g({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:f({},l,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:x,marker:f({symbol:{valType:"enumerated",values:e.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:f({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},P("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},P("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:E({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(tt,W,t){"use strict";var A=t(92770),g=t(71828),i=t(89298),P=t(42973),E=t(50606).BADNUM,l=t(34098),x=t(36922),e=t(75225),r=t(66279);function a(v,w,d,o,h,M,T){var L=w._length,m=v._fullLayout,S=d._id,b=o._id,n=m._firstScatter[u(w)]===w.uid,C=(y(w,m,d,o)||{}).orientation,p=w.fill;d._minDtick=0,o._minDtick=0;var F={padded:!0},D={padded:!0};T&&(F.ppad=D.ppad=T);var N=L<2||h[0]!==h[L-1]||M[0]!==M[L-1];N&&("tozerox"===p||"tonextx"===p&&(n||"h"===C))?F.tozero=!0:!(w.error_y||{}).visible&&("tonexty"===p||"tozeroy"===p||!l.hasMarkers(w)&&!l.hasText(w))&&(F.padded=!1,F.ppad=0),N&&("tozeroy"===p||"tonexty"===p&&(n||"v"===C))?D.tozero=!0:("tonextx"===p||"tozerox"===p)&&(D.padded=!1),S&&(w._extremes[S]=i.findExtremes(d,h,F)),b&&(w._extremes[b]=i.findExtremes(o,M,D))}function s(v,w){if(l.hasMarkers(v)){var h,d=v.marker,o=1.6*(v.marker.sizeref||1);if(h="area"===v.marker.sizemode?function(S){return Math.max(Math.sqrt((S||0)/o),3)}:function(S){return Math.max((S||0)/o,3)},g.isArrayOrTypedArray(d.size)){var M={type:"linear"};i.setConvert(M);for(var T=M.makeCalcdata(v.marker,"size"),L=new Array(w),m=0;m<w;m++)L[m]=h(T[m]);return L}return h(d.size)}}function c(v,w){var d=u(w),o=v._firstScatter;o[d]||(o[d]=w.uid)}function u(v){var w=v.stackgroup;return v.xaxis+v.yaxis+v.type+(w?"-"+w:"")}function y(v,w,d,o){var h=v.stackgroup;if(h){var M=w._scatterStackOpts[d._id+o._id][h],T="v"===M.orientation?o:d;if("linear"===T.type||"log"===T.type)return M}}tt.exports={calc:function f(v,w){var N,k,O,B,z,U,d=v._fullLayout,o=w._xA=i.getFromId(v,w.xaxis||"x","x"),h=w._yA=i.getFromId(v,w.yaxis||"y","y"),M=o.makeCalcdata(w,"x"),T=h.makeCalcdata(w,"y"),L=P(w,o,"x",M),m=P(w,h,"y",T),S=L.vals,b=m.vals,n=w._length,C=new Array(n),p=w.ids,F=y(w,d,o,h),D=!1;c(d,w);var rt,G="x",Q="y";F?(g.pushUnique(F.traceIndices,w._expandedIndex),(N="v"===F.orientation)?(Q="s",rt="x"):(G="s",rt="y"),z="interpolate"===F.stackgaps):a(v,w,o,h,S,b,s(w,n));var ut=!!w.xperiodalignment,J=!!w.yperiodalignment;for(k=0;k<n;k++){var j=C[k]={},Z=A(S[k]),H=A(b[k]);Z&&H?(j[G]=S[k],j[Q]=b[k],ut&&(j.orig_x=M[k],j.xEnd=L.ends[k],j.xStart=L.starts[k]),J&&(j.orig_y=T[k],j.yEnd=m.ends[k],j.yStart=m.starts[k])):F&&(N?Z:H)?(j[rt]=N?S[k]:b[k],j.gap=!0,z?(j.s=E,D=!0):j.s=0):j[G]=j[Q]=E,p&&(j.id=String(p[k]))}if(e(C,w),x(v,w),r(C,w),F){for(k=0;k<C.length;)C[k][rt]===E?C.splice(k,1):k++;if(g.sort(C,function(K,nt){return K[rt]-nt[rt]||K.i-nt.i}),D){for(k=0;k<C.length-1&&C[k].gap;)k++;for((U=C[k].s)||(U=C[k].s=0),O=0;O<k;O++)C[O].s=U;for(B=C.length-1;B>k&&C[B].gap;)B--;for(U=C[B].s,O=C.length-1;O>B;O--)C[O].s=U;for(;k<B;)if(C[++k].gap){for(O=k+1;C[O].gap;)O++;for(var X=C[k-1][rt],at=C[k-1].s,_=(C[O].s-at)/(C[O][rt]-X);k<O;)C[k].s=at+(C[k][rt]-X)*_,k++}}}return C},calcMarkerSize:s,calcAxisExpansion:a,setFirstScatter:c,getStackOpts:y}},66279:function(tt,W,t){"use strict";var A=t(71828);tt.exports=function(i,P){A.isArrayOrTypedArray(P.selectedpoints)&&A.tagSelected(i,P)}},36922:function(tt,W,t){"use strict";var A=t(52075).hasColorscale,g=t(78803),i=t(34098);tt.exports=function(E,l){i.hasLines(l)&&A(l,"line")&&g(E,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(l)&&(A(l,"marker")&&g(E,l,{vals:l.marker.color,containerStr:"marker",cLetter:"c"}),A(l,"marker.line")&&g(E,l,{vals:l.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(tt){"use strict";tt.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(tt,W,t){"use strict";var A=t(47761),g=t(11661).setGroupPositions;function P(l,x,e,r,f,a,s){f[r]=!0;var c={i:null,gap:!0,s:0};if(c[s]=e,l.splice(x,0,c),x&&e===l[x-1][s]){var u=l[x-1];c.s=u.s,c.i=u.i,c.gap=u.gap}else a&&(c.s=function E(l,x,e,r){var f=l[x-1],a=l[x+1];return a?f?f.s+(a.s-f.s)*(e-f[r])/(a[r]-f[r]):a.s:f.s}(l,x,e,s));x||(l[0].t=l[1].t,l[0].trace=l[1].trace,delete l[1].t,delete l[1].trace)}tt.exports=function(x,e){"group"===x._fullLayout.scattermode&&function i(l,x){for(var e=x.xaxis,r=x.yaxis,f=l._fullLayout,a=l._fullData,s=l.calcdata,c=[],u=[],y=0;y<a.length;y++){var v=a[y];!0===v.visible&&"scatter"===v.type&&v.xaxis===e._id&&v.yaxis===r._id&&("h"===v.orientation?c.push(s[y]):"v"===v.orientation&&u.push(s[y]))}var w={mode:f.scattermode,gap:f.scattergap};g(l,e,r,u,w),g(l,r,e,c,w)}(x,e);var r=e.xaxis,f=e.yaxis,s=x._fullLayout._scatterStackOpts[r._id+f._id];if(s){var u,y,v,w,d,o,h,M,T,L,m,S,b,n,C,c=x.calcdata;for(var p in s){var F=(L=s[p]).traceIndices;if(F.length){for(m="interpolate"===L.stackgaps,S=L.groupnorm,"v"===L.orientation?(b="x",n="y"):(b="y",n="x"),C=new Array(F.length),u=0;u<C.length;u++)C[u]=!1;o=c[F[0]];var D=new Array(o.length);for(u=0;u<o.length;u++)D[u]=o[u][b];for(u=1;u<F.length;u++){for(d=c[F[u]],y=v=0;y<d.length;y++){for(h=d[y][b];h>D[v]&&v<D.length;v++)P(d,y,D[v],u,C,m,b),y++;if(h!==D[v]){for(w=0;w<u;w++)P(c[F[w]],v,h,w,C,m,b);D.splice(v,0,h)}v++}for(;v<D.length;v++)P(d,y,D[v],u,C,m,b),y++}var N=D.length;for(y=0;y<o.length;y++){for(M=o[y][n]=o[y].s,u=1;u<F.length;u++)(d=c[F[u]])[0].trace._rawLength=d[0].trace._length,d[0].trace._length=N,d[y][n]=M+=d[y].s;if(S)for(T=("fraction"===S?M:M/100)||1,u=0;u<F.length;u++){var k=c[F[u]][y];k[n]/=T,k.sNorm=k.s/T}}for(u=0;u<F.length;u++){var O=(d=c[F[u]])[0].trace,B=A.calcMarkerSize(O,O._rawLength),z=Array.isArray(B);if(B&&C[u]||z){var U=B;for(B=new Array(N),y=0;y<N;y++)B[y]=d[y].gap?0:z?U[d[y].i]:U}var G=new Array(N),Q=new Array(N);for(y=0;y<N;y++)G[y]=d[y].x,Q[y]=d[y].y;A.calcAxisExpansion(x,O,r,f,G,Q,B),d[0].t.orientation=L.orientation}}}}}},34936:function(tt,W,t){"use strict";var A=t(71828),g=t(26125),i=t(82196);tt.exports=function(E,l){var e,r;function f(y){return A.coerce(e._input,e,i,y)}if("group"===l.scattermode)for(r=0;r<E.length;r++)"scatter"===(e=E[r]).type&&g(e._input,e,l,f);for(r=0;r<E.length;r++){var a=E[r];if("scatter"===a.type){var s=a.fill;if("none"!==s&&"toself"!==s&&(a.opacity=void 0,"tonexty"===s||"tonextx"===s))for(var c=r-1;c>=0;c--){var u=E[c];if("scatter"===u.type&&u.xaxis===a.xaxis&&u.yaxis===a.yaxis){u.opacity=void 0;break}}}}}},17438:function(tt,W,t){"use strict";var A=t(71828),g=t(73972),i=t(82196),P=t(47581),E=t(34098),l=t(67513),x=t(73927),e=t(565),r=t(49508),f=t(11058),a=t(94039),s=t(82410),c=t(28908),u=t(71828).coercePattern;tt.exports=function(v,w,d,o){function h(C,p){return A.coerce(v,w,i,C,p)}var M=l(v,w,o,h);if(M||(w.visible=!1),w.visible){x(v,w,o,h),h("xhoverformat"),h("yhoverformat");var T=e(v,w,o,h);"group"===o.scattermode&&void 0===w.orientation&&h("orientation","v");var L=!T&&M<P.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("mode",L),E.hasLines(w)&&(f(v,w,d,o,h,{backoff:!0}),a(v,w,h),h("connectgaps"),h("line.simplify")),E.hasMarkers(w)&&r(v,w,d,o,h,{gradient:!0}),E.hasText(w)&&(h("texttemplate"),s(v,w,o,h));var m=[];(E.hasMarkers(w)||E.hasText(w))&&(h("cliponaxis"),h("marker.maxdisplayed"),m.push("points")),h("fill",T?T.fillDflt:"none"),"none"!==w.fill&&(c(v,w,d,h),E.hasLines(w)||a(v,w,h),u(h,"fillpattern",w.fillcolor,!1));var S=(w.line||{}).color,b=(w.marker||{}).color;("tonext"===w.fill||"toself"===w.fill)&&m.push("fills"),h("hoveron",m.join("+")||"points"),"fills"!==w.hoveron&&h("hovertemplate");var n=g.getComponentMethod("errorbars","supplyDefaults");n(v,w,S||b||d,{axis:"y"}),n(v,w,S||b||d,{axis:"x",inherit:"y"}),A.coerceSelectionMarkerOpacity(w,h)}}},28908:function(tt,W,t){"use strict";var A=t(7901),g=t(71828).isArrayOrTypedArray;tt.exports=function(P,E,l,x){var e=!1;if(E.marker){var r=E.marker.color,f=(E.marker.line||{}).color;r&&!g(r)?e=r:f&&!g(f)&&(e=f)}x("fillcolor",A.addOpacity((E.line||{}).color||e||l,.5))}},8225:function(tt,W,t){"use strict";var A=t(89298);tt.exports=function(i,P,E){var l={},x={_fullLayout:E},e=A.getFromTrace(x,P,"x"),r=A.getFromTrace(x,P,"y"),f=i.orig_x;void 0===f&&(f=i.x);var a=i.orig_y;return void 0===a&&(a=i.y),l.xLabel=A.tickText(e,e.c2l(f),!0).text,l.yLabel=A.tickText(r,r.c2l(a),!0).text,l}},34603:function(tt,W,t){"use strict";var A=t(7901),g=t(34098);tt.exports=function(P,E){var l,x;if("lines"===P.mode)return(l=P.line.color)&&A.opacity(l)?l:P.fillcolor;if("none"===P.mode)return P.fill?P.fillcolor:"";var e=E.mcc||(P.marker||{}).color,r=E.mlcc||((P.marker||{}).line||{}).color;return(x=e&&A.opacity(e)?e:r&&A.opacity(r)&&(E.mlw||((P.marker||{}).line||{}).width)?r:"")?A.opacity(x)<.3?A.addOpacity(x,.3):x:(l=(P.line||{}).color)&&A.opacity(l)&&g.hasLines(P)&&P.line.width?l:P.fillcolor}},26125:function(tt,W,t){"use strict";var A=t(99082).getAxisGroup;tt.exports=function(i,P,E,l){var x=P.orientation,r=A(E,P[{v:"x",h:"y"}[x]+"axis"])+x,f=E._alignmentOpts||{},a=l("alignmentgroup"),s=f[r];s||(s=f[r]={});var c=s[a];c?c.traces.push(P):c=s[a]={traces:[P],alignmentIndex:Object.keys(s).length,offsetGroups:{}};var u=l("offsetgroup"),y=c.offsetGroups,v=y[u];u&&(v||(v=y[u]={offsetIndex:Object.keys(y).length}),P._offsetIndex=v.offsetIndex)}},33720:function(tt,W,t){"use strict";var A=t(71828),g=t(30211),i=t(73972),P=t(34603),E=t(7901),l=A.fillText;tt.exports=function(e,r,f,a){var s=e.cd,c=s[0].trace,u=e.xa,y=e.ya,v=u.c2p(r),w=y.c2p(f),d=[v,w],o=c.hoveron||"",h=-1!==c.mode.indexOf("markers")?3:.5,M=!!c.xperiodalignment,T=!!c.yperiodalignment;if(-1!==o.indexOf("points")){var S=function(st){var dt=Math.max(h,st.mrc||0),Tt=u.c2p(st.x)-v,bt=y.c2p(st.y)-w;return Math.max(Math.sqrt(Tt*Tt+bt*bt)-dt,1-h/dt)},b=g.getDistanceFunction(a,function(st){if(M){var dt=u.c2p(st.xStart),Tt=u.c2p(st.xEnd);return v>=Math.min(dt,Tt)&&v<=Math.max(dt,Tt)?0:1/0}var bt=Math.max(3,st.mrc||0),Dt=1-1/bt,Ft=Math.abs(u.c2p(st.x)-v);return Ft<bt?Dt*Ft/bt:Ft-bt+Dt},function(st){if(T){var dt=y.c2p(st.yStart),Tt=y.c2p(st.yEnd);return w>=Math.min(dt,Tt)&&w<=Math.max(dt,Tt)?0:1/0}var bt=Math.max(3,st.mrc||0),Dt=1-1/bt,Ft=Math.abs(y.c2p(st.y)-w);return Ft<bt?Dt*Ft/bt:Ft-bt+Dt},S);if(g.getClosest(s,b,e),!1!==e.index){var n=s[e.index],C=u.c2p(n.x,!0),p=y.c2p(n.y,!0),F=n.mrc||1;e.index=n.i;var D=s[0].t.orientation,N=D&&(n.sNorm||n.s),k="h"===D?N:void 0!==n.orig_x?n.orig_x:n.x,O="v"===D?N:void 0!==n.orig_y?n.orig_y:n.y;return A.extendFlat(e,{color:P(c,n),x0:C-F,x1:C+F,xLabelVal:k,y0:p-F,y1:p+F,yLabelVal:O,spikeDistance:S(n),hovertemplate:c.hovertemplate}),l(n,c,e),i.getComponentMethod("errorbars","hoverInfo")(n,c,e),[e]}}if(-1!==o.indexOf("fills")&&c._polygons){var ut,J,j,Z,H,X,_,K,B=c._polygons,z=[],U=!1,G=1/0,Q=-1/0,rt=1/0,it=-1/0;for(ut=0;ut<B.length;ut++)(j=B[ut]).contains(d)&&(U=!U,z.push(j),rt=Math.min(rt,j.ymin),it=Math.max(it,j.ymax));if(U){var nt=((rt=Math.max(rt,0))+(it=Math.min(it,y._length)))/2;for(ut=0;ut<z.length;ut++)for(Z=z[ut].pts,J=1;J<Z.length;J++)(_=Z[J-1][1])>nt!=(K=Z[J][1])>=nt&&(X=Z[J-1][0],K-_&&(H=X+(Z[J][0]-X)*(nt-_)/(K-_),G=Math.min(G,H),Q=Math.max(Q,H)));G=Math.max(G,0),Q=Math.min(Q,u._length);var et=E.defaultLine;return E.opacity(c.fillcolor)?et=c.fillcolor:E.opacity((c.line||{}).color)&&(et=c.line.color),A.extendFlat(e,{distance:e.maxHoverDistance,x0:G,x1:Q,y0:nt,y1:nt,color:et,hovertemplate:!1}),delete e.index,e.text=c.text&&!Array.isArray(c.text)?String(c.text):c.name,[e]}}}},67368:function(tt,W,t){"use strict";var A=t(34098);tt.exports={hasLines:A.hasLines,hasMarkers:A.hasMarkers,hasText:A.hasText,isBubble:A.isBubble,attributes:t(82196),layoutAttributes:t(21479),supplyDefaults:t(17438),crossTraceDefaults:t(34936),supplyLayoutDefaults:t(79334),calc:t(47761).calc,crossTraceCalc:t(72626),arraysToCalcdata:t(75225),plot:t(32663),colorbar:t(4898),formatLabels:t(8225),style:t(16296).style,styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(33720),selectPoints:t(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:t(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(tt){"use strict";tt.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(tt,W,t){"use strict";var A=t(71828),g=t(21479);tt.exports=function(i,P){"group"===P.scattermode&&function E(x,e){return A.coerce(i,P,g,x,e)}("scattergap","group"===P.barmode?P.bargap:.2)}},11058:function(tt,W,t){"use strict";var A=t(71828).isArrayOrTypedArray,g=t(52075).hasColorscale,i=t(1586);tt.exports=function(E,l,x,e,r,f){f||(f={});var a=(E.marker||{}).color;r("line.color",x),g(E,"line")?i(E,l,e,r,{prefix:"line.",cLetter:"c"}):r("line.color",!A(a)&&a||x),r("line.width"),f.noDash||r("line.dash"),f.backoff&&r("line.backoff")}},34621:function(tt,W,t){"use strict";var A=t(91424),g=t(50606),i=g.BADNUM,P=g.LOG_CLIP,E=P+.5,l=P-.5,x=t(71828),e=x.segmentsIntersect,r=x.constrain,f=t(47581);tt.exports=function(s,c){var k,O,B,z,U,G,Q,rt,it,ut,J,j,Z,H,X,at,nt,et,u=c.trace||{},y=c.xaxis,v=c.yaxis,w="log"===y.type,d="log"===v.type,o=y._length,h=v._length,M=c.backoff,T=u.marker,L=c.connectGaps,m=c.baseTolerance,S=c.shape,b="linear"===S,n=u.fill&&"none"!==u.fill,C=[],p=f.minTolerance,F=s.length,D=new Array(F),N=0;function _(le){var he=s[le];if(!he)return!1;var ke=c.linearized?y.l2p(he.x):y.c2p(he.x),Oe=c.linearized?v.l2p(he.y):v.c2p(he.y);if(ke===i){if(w&&(ke=y.c2p(he.x,!0)),ke===i)return!1;d&&Oe===i&&(ke*=Math.abs(y._m*h*(y._m>0?E:l)/(v._m*o*(v._m>0?E:l)))),ke*=1e3}if(Oe===i){if(d&&(Oe=v.c2p(he.y,!0)),Oe===i)return!1;Oe*=1e3}return[ke,Oe]}function K(le,he,ke,Oe){var Ae=ke-le,je=Oe-he,Ze=.5-le,Lr=.5-he,fe=Ae*Ae+je*je,Ve=Ae*Ze+je*Lr;if(Ve>0&&Ve<fe){var He=Ze*je-Lr*Ae;if(He*He<fe)return!0}}function st(le,he){var ke=le[0]/o,Oe=le[1]/h,Ae=Math.max(0,-ke,ke-1,-Oe,Oe-1);return Ae&&void 0!==nt&&K(ke,Oe,nt,et)&&(Ae=0),Ae&&he&&K(ke,Oe,he[0]/o,he[1]/h)&&(Ae=0),(1+f.toleranceGrowth*Ae)*m}function dt(le,he){var ke=le[0]-he[0],Oe=le[1]-he[1];return Math.sqrt(ke*ke+Oe*Oe)}var St,Ut,Gt,Pt,Vt,te,oe,Tt=f.maxScreensAway,bt=-o*Tt,Dt=o*(1+Tt),Ft=-h*Tt,Mt=h*(1+Tt),wt=[[bt,Ft,Dt,Ft],[Dt,Ft,Dt,Mt],[Dt,Mt,bt,Mt],[bt,Mt,bt,Ft]];function kt(le){if(le[0]<bt||le[0]>Dt||le[1]<Ft||le[1]>Mt)return[r(le[0],bt,Dt),r(le[1],Ft,Mt)]}function zt(le,he){if(le[0]===he[0]&&(le[0]===bt||le[0]===Dt)||le[1]===he[1]&&(le[1]===Ft||le[1]===Mt))return!0}function ae(le,he,ke){return function(Oe,Ae){var je=kt(Oe),Ze=kt(Ae),Lr=[];if(je&&Ze&&zt(je,Ze))return Lr;je&&Lr.push(je),Ze&&Lr.push(Ze);var fe=2*x.constrain((Oe[le]+Ae[le])/2,he,ke)-((je||Oe)[le]+(Ze||Ae)[le]);return fe&&((je&&Ze?fe>0==je[le]>Ze[le]?je:Ze:je||Ze)[le]+=fe),Lr}}function ye(le){var he=le[0],ke=le[1],Oe=he===D[N-1][0],Ae=ke===D[N-1][1];if(!Oe||!Ae)if(N>1){var je=he===D[N-2][0],Ze=ke===D[N-2][1];Oe&&(he===bt||he===Dt)&&je?Ze?N--:D[N-1]=le:Ae&&(ke===Ft||ke===Mt)&&Ze?je?N--:D[N-1]=le:D[N++]=le}else D[N++]=le}function Fe(le){D[N-1][0]!==le[0]&&D[N-1][1]!==le[1]&&ye([Gt,Pt]),ye(le),Vt=null,Gt=Pt=0}"linear"===S||"spline"===S?oe=function _t(le,he){for(var ke=[],Oe=0,Ae=0;Ae<4;Ae++){var je=wt[Ae],Ze=e(le[0],le[1],he[0],he[1],je[0],je[1],je[2],je[3]);Ze&&(!Oe||Math.abs(Ze.x-ke[0][0])>1||Math.abs(Ze.y-ke[0][1])>1)&&(Ze=[Ze.x,Ze.y],Oe&&dt(Ze,le)<dt(ke[0],le)?ke.unshift(Ze):ke.push(Ze),Oe++)}return ke}:"hv"===S||"vh"===S?oe=function qt(le,he){var ke=[],Oe=kt(le),Ae=kt(he);return Oe&&Ae&&zt(Oe,Ae)||(Oe&&ke.push(Oe),Ae&&ke.push(Ae)),ke}:"hvh"===S?oe=ae(0,bt,Dt):"vhv"===S&&(oe=ae(1,Ft,Mt));var Zt=x.isArrayOrTypedArray(T);function Ct(le){if(le&&M&&(le.i=k,le.d=s,le.trace=u,le.marker=Zt?T[le.i]:T,le.backoff=M),nt=le[0]/o,et=le[1]/h,Ut=le[1]<Ft?Ft:le[1]>Mt?Mt:0,(St=le[0]<bt?bt:le[0]>Dt?Dt:0)||Ut){if(N)if(Vt){var he=oe(Vt,le);he.length>1&&(Fe(he[0]),D[N++]=he[1])}else te=oe(D[N-1],le)[0],D[N++]=te;else D[N++]=[St||le[0],Ut||le[1]];var ke=D[N-1];St&&Ut&&(ke[0]!==St||ke[1]!==Ut)?(Vt&&(Gt!==St&&Pt!==Ut?ye(Gt&&Pt?function pe(le,he){var ke=he[0]-le[0],Oe=(he[1]-le[1])/ke;return(le[1]*he[0]-he[1]*le[0])/ke>0?[Oe>0?bt:Dt,Mt]:[Oe>0?Dt:bt,Ft]}(Vt,le):[Gt||St,Pt||Ut]):Gt&&Pt&&ye([Gt,Pt])),ye([St,Ut])):Gt-St&&Pt-Ut&&ye([St||Gt,Ut||Pt]),Vt=le,Gt=St,Pt=Ut}else Vt&&Fe(oe(Vt,le)[0]),D[N++]=le}for(k=0;k<F;k++)if(O=_(k)){for(N=0,Vt=null,Ct(O),k++;k<F;k++){if(!(z=_(k))){if(L)continue;break}if(b&&c.simplify){var Et=_(k+1);if(ut=dt(z,O),n&&(0===N||N===F-1)||!(ut<st(z,Et)*p)){for(rt=[(z[0]-O[0])/ut,(z[1]-O[1])/ut],U=O,J=ut,j=H=X=0,Q=!1,B=z,k++;k<s.length;k++){if(G=Et,Et=_(k+1),!G){if(L)continue;break}if(at=(it=[G[0]-O[0],G[1]-O[1]])[0]*rt[1]-it[1]*rt[0],H=Math.min(H,at),(X=Math.max(X,at))-H>st(G,Et))break;B=G,(Z=it[0]*rt[0]+it[1]*rt[1])>J?(J=Z,z=G,Q=!1):Z<j&&(j=Z,U=G,Q=!0)}if(Q?(Ct(z),B!==U&&Ct(U)):(U!==O&&Ct(U),B!==z&&Ct(z)),Ct(B),k>=s.length||!G)break;Ct(G),O=G}}else Ct(z)}Vt&&ye([Gt||Vt[0],Pt||Vt[1]]),C.push(D.slice(0,N))}var Rt=S.slice(S.length-1);if(M&&"h"!==Rt&&"v"!==Rt){for(var Ot=!1,It=-1,gt=[],pt=0;pt<C.length;pt++)for(var vt=0;vt<C[pt].length-1;vt++){var yt=C[pt][vt],Yt=C[pt][vt+1],Qt=A.applyBackoff(Yt,yt);(Qt[0]!==Yt[0]||Qt[1]!==Yt[1])&&(Ot=!0),gt[It+1]||(gt[++It]=[yt,[Qt[0],Qt[1]]])}return Ot?gt:C}return C}},94039:function(tt){"use strict";tt.exports=function(t,A,g){"spline"===g("line.shape")&&g("line.smoothing")}},68687:function(tt){"use strict";var W={tonextx:1,tonexty:1,tonext:1};tt.exports=function(A,g,i){var P,E,l,x,e,r={},f=!1,a=-1,s=0,c=-1;for(E=0;E<i.length;E++)(l=(P=i[E][0].trace).stackgroup||"")?l in r?e=r[l]:(e=r[l]=s,s++):P.fill in W&&c>=0?e=c:(e=c=s,s++),e<a&&(f=!0),P._groupIndex=a=e;var u=i.slice();f&&u.sort(function(v,w){var d=v[0].trace,o=w[0].trace;return d._groupIndex-o._groupIndex||d.index-o.index});var y={};for(E=0;E<u.length;E++)l=(P=u[E][0].trace).stackgroup||"",!0===P.visible?(P._nexttrace=null,P.fill in W&&(P._prevtrace=(x=y[l])||null,x&&(x._nexttrace=P)),P._ownfill=P.fill&&("tozero"===P.fill.substr(0,6)||"toself"===P.fill||"to"===P.fill.substr(0,2)&&!P._prevtrace),y[l]=P):P._prevtrace=P._nexttrace=P._ownfill=null;return u}},39984:function(tt,W,t){"use strict";var A=t(92770);tt.exports=function(i,P){P||(P=2);var E=i.marker,l=E.sizeref||1,x=E.sizemin||0,e="area"===E.sizemode?function(r){return Math.sqrt(r/l)}:function(r){return r/l};return function(r){var f=e(r/P);return A(f)&&f>0?Math.max(f,x):0}}},4898:function(tt){"use strict";tt.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(tt,W,t){"use strict";var A=t(7901),g=t(52075).hasColorscale,i=t(1586),P=t(34098);tt.exports=function(l,x,e,r,f,a){var s=P.isBubble(l),c=(l.line||{}).color;a=a||{},c&&(e=c),f("marker.symbol"),f("marker.opacity",s?.7:1),f("marker.size"),a.noAngle||(f("marker.angle"),a.noAngleRef||f("marker.angleref"),a.noStandOff||f("marker.standoff")),f("marker.color",e),g(l,"marker")&&i(l,x,r,f,{prefix:"marker.",cLetter:"c"}),a.noSelect||(f("selected.marker.color"),f("unselected.marker.color"),f("selected.marker.size"),f("unselected.marker.size")),a.noLine||(f("marker.line.color",c&&!Array.isArray(c)&&x.marker.color!==c?c:s?A.background:A.defaultLine),g(l,"marker.line")&&i(l,x,r,f,{prefix:"marker.line.",cLetter:"c"}),f("marker.line.width",s?1:0)),s&&(f("marker.sizeref"),f("marker.sizemin"),f("marker.sizemode")),a.gradient&&"none"!==f("marker.gradient.type")&&f("marker.gradient.color")}},73927:function(tt,W,t){"use strict";var A=t(71828).dateTick0,i=t(50606).ONEWEEK;function P(E,l){return A(l,E%i==0?1:0)}tt.exports=function(l,x,e,r,f){if(f||(f={x:!0,y:!0}),f.x){var a=r("xperiod");a&&(r("xperiod0",P(a,x.xcalendar)),r("xperiodalignment"))}if(f.y){var s=r("yperiod");s&&(r("yperiod0",P(s,x.ycalendar)),r("yperiodalignment"))}}},32663:function(tt,W,t){"use strict";var A=t(39898),g=t(73972),i=t(71828),P=i.ensureSingle,E=i.identity,l=t(91424),x=t(34098),e=t(34621),r=t(68687),f=t(61082).tester;function s(u,y,v,w,d,o,h){var T,M=u._context.staticPlot;!function c(u,y,v,w,d){var o=v.xaxis,h=v.yaxis,M=A.extent(i.simpleMap(o.range,o.r2c)),T=A.extent(i.simpleMap(h.range,h.r2c)),L=w[0].trace;if(x.hasMarkers(L)){var m=L.marker.maxdisplayed;if(0!==m){var S=w.filter(function(p){return p.x>=M[0]&&p.x<=M[1]&&p.y>=T[0]&&p.y<=T[1]}),b=Math.ceil(S.length/m),n=0;d.forEach(function(p,F){var D=p[0].trace;x.hasMarkers(D)&&D.marker.maxdisplayed>0&&F<y&&n++});var C=Math.round(n*b/3+Math.floor(n/3)*b/7.1);w.forEach(function(p){delete p.vis}),S.forEach(function(p,F){0===Math.round((F+C)%b)&&(p.vis=!0)})}}}(0,y,v,w,d);var L=!!h&&h.duration>0;function m(Pt){return L?Pt.transition():Pt}var S=v.xaxis,b=v.yaxis,n=w[0].trace,C=n.line,p=A.select(o),F=P(p,"g","errorbars"),D=P(p,"g","lines"),N=P(p,"g","points"),k=P(p,"g","text");if(g.getComponentMethod("errorbars","plot")(u,F,v,h),!0===n.visible){m(p).style("opacity",n.opacity);var O,B,z=n.fill.charAt(n.fill.length-1);"x"!==z&&"y"!==z&&(z=""),w[0][v.isRangePlot?"nodeRangePlot3":"node3"]=p;var U="",G=[],Q=n._prevtrace;Q&&(U=Q._prevRevpath||"",B=Q._nextFill,G=Q._polygons);var rt,it,j,Z,H,X,at,_,K,ut="",J="",nt=[],et=i.noop;if(O=n._ownFill,x.hasLines(n)||"none"!==n.fill){for(B&&B.datum(w),-1!==["hv","vh","hvh","vhv"].indexOf(C.shape)?(j=l.steps(C.shape),Z=l.steps(C.shape.split("").reverse().join(""))):j=Z="spline"===C.shape?function(Pt){var Vt=Pt[Pt.length-1];return Pt.length>1&&Pt[0][0]===Vt[0]&&Pt[0][1]===Vt[1]?l.smoothclosed(Pt.slice(1),C.smoothing):l.smoothopen(Pt,C.smoothing)}:function(Pt){return"M"+Pt.join("L")},H=function(Pt){return Z(Pt.reverse())},nt=e(w,{xaxis:S,yaxis:b,trace:n,connectGaps:n.connectgaps,baseTolerance:Math.max(C.width||1,3)/4,shape:C.shape,backoff:C.backoff,simplify:C.simplify,fill:n.fill}),K=n._polygons=new Array(nt.length),T=0;T<nt.length;T++)n._polygons[T]=f(nt[T]);nt.length&&(X=nt[0][0],_=(at=nt[nt.length-1])[at.length-1]),et=function(Pt){return function(Vt){if(rt=j(Vt),it=H(Vt),ut?z?(ut+="L"+rt.substr(1),J=it+"L"+J.substr(1)):(ut+="Z"+rt,J=it+"Z"+J):(ut=rt,J=it),x.hasLines(n)){var te=A.select(this);if(te.datum(w),Pt)m(te.style("opacity",0).attr("d",rt).call(l.lineGroupStyle)).style("opacity",1);else{var _t=m(te);_t.attr("d",rt),l.singleLineStyle(w,_t)}}}}}var st=D.selectAll(".js-line").data(nt);m(st.exit()).style("opacity",0).remove(),st.each(et(!1)),st.enter().append("path").classed("js-line",!0).style("vector-effect",M?"none":"non-scaling-stroke").call(l.lineGroupStyle).each(et(!0)),l.setClipUrl(st,v.layerClipId,u),nt.length?(O?(O.datum(w),X&&_&&(z?("y"===z?X[1]=_[1]=b.c2p(0,!0):"x"===z&&(X[0]=_[0]=S.c2p(0,!0)),m(O).attr("d","M"+_+"L"+X+"L"+ut.substr(1)).call(l.singleFillStyle,u)):m(O).attr("d",ut+"Z").call(l.singleFillStyle,u))):B&&("tonext"===n.fill.substr(0,6)&&ut&&U?("tonext"===n.fill?m(B).attr("d",ut+"Z"+U+"Z").call(l.singleFillStyle,u):m(B).attr("d",ut+"L"+U.substr(1)+"Z").call(l.singleFillStyle,u),n._polygons=n._polygons.concat(G)):(dt(B),n._polygons=null)),n._prevRevpath=J,n._prevPolygons=K):(O?dt(O):B&&dt(B),n._polygons=n._prevRevpath=n._prevPolygons=null),N.datum(w),k.datum(w),function St(Pt,Vt,te){var _t,qt=te[0].trace,ae=x.hasMarkers(qt),oe=x.hasText(qt),pe=function Mt(Pt){if(Pt.ids)return Ft}(qt),ye=wt,Fe=wt;if(ae||oe){var Zt=E,Ct=qt.stackgroup,Et=Ct&&"infer zero"===u._fullLayout._scatterStackOpts[S._id+b._id][Ct].stackgaps;qt.marker.maxdisplayed||qt._needsCull?Zt=Et?bt:Tt:Ct&&!Et&&(Zt=Dt),ae&&(ye=Zt),oe&&(Fe=Zt)}var Ot,Rt=(_t=Pt.selectAll("path.point").data(ye,pe)).enter().append("path").classed("point",!0);L&&Rt.call(l.pointStyle,qt,u).call(l.translatePoints,S,b).style("opacity",0).transition().style("opacity",1),_t.order(),ae&&(Ot=l.makePointStyleFns(qt)),_t.each(function(It){var gt=A.select(this),pt=m(gt);l.translatePoint(It,pt,S,b)?(l.singlePointStyle(It,pt,qt,Ot,u),v.layerClipId&&l.hideOutsideRangePoint(It,pt,S,b,qt.xcalendar,qt.ycalendar),qt.customdata&&gt.classed("plotly-customdata",null!=It.data)):pt.remove()}),L?_t.exit().transition().style("opacity",0).remove():_t.exit().remove(),(_t=Vt.selectAll("g").data(Fe,pe)).enter().append("g").classed("textpoint",!0).append("text"),_t.order(),_t.each(function(It){var gt=A.select(this),pt=m(gt.select("text"));l.translatePoint(It,pt,S,b)?v.layerClipId&&l.hideOutsideRangePoint(It,gt,S,b,qt.xcalendar,qt.ycalendar):gt.remove()}),_t.selectAll("text").call(l.textPointStyle,qt,u).each(function(It){var gt=S.c2p(It.x),pt=b.c2p(It.y);A.select(this).selectAll("tspan.line").each(function(){m(A.select(this)).attr({x:gt,y:pt})})}),_t.exit().remove()}(N,k,w);var Gt=!1===n.cliponaxis?null:v.layerClipId;l.setClipUrl(N,Gt,u),l.setClipUrl(k,Gt,u)}function dt(Pt){m(Pt).attr("d","M0,0Z")}function Tt(Pt){return Pt.filter(function(Vt){return!Vt.gap&&Vt.vis})}function bt(Pt){return Pt.filter(function(Vt){return Vt.vis})}function Dt(Pt){return Pt.filter(function(Vt){return!Vt.gap})}function Ft(Pt){return Pt.id}function wt(){return!1}}tt.exports=function(y,v,w,d,o,h){var M,T,L=!o,m=!!o&&o.duration>0,S=r(y,v,w);(M=d.selectAll("g.trace").data(S,function(n){return n[0].trace.uid})).enter().append("g").attr("class",function(n){return"trace scatter trace"+n[0].trace.uid}).style("stroke-miterlimit",2),M.order(),function a(u,y,v){y.each(function(w){var d=P(A.select(this),"g","fills");l.setClipUrl(d,v.layerClipId,u);var o=w[0].trace,h=[];o._ownfill&&h.push("_ownFill"),o._nexttrace&&h.push("_nextFill");var M=d.selectAll("g").data(h,E);M.enter().append("g"),M.exit().each(function(T){o[T]=null}).remove(),M.order().each(function(T){o[T]=P(A.select(this),"path","js-fill")})})}(y,M,v),m?(h&&(T=h()),A.transition().duration(o.duration).ease(o.easing).each("end",function(){T&&T()}).each("interrupt",function(){T&&T()}).each(function(){d.selectAll("g.trace").each(function(n,C){s(y,C,v,n,S,this,o)})})):M.each(function(n,C){s(y,C,v,n,S,this,o)}),L&&M.exit().remove(),d.selectAll("path:not([d])").remove()}},98002:function(tt,W,t){"use strict";var A=t(34098);tt.exports=function(i,P){var f,a,s,c,E=i.cd,l=i.xaxis,x=i.yaxis,e=[],r=E[0].trace;if(!A.hasMarkers(r)&&!A.hasText(r))return[];if(!1===P)for(f=0;f<E.length;f++)E[f].selected=0;else for(f=0;f<E.length;f++)s=l.c2p((a=E[f]).x),c=x.c2p(a.y),null!==a.i&&P.contains([s,c],!1,f,i)?(e.push({pointNumber:a.i,x:l.c2d(a.x),y:x.c2d(a.y)}),a.selected=1):a.selected=0;return e}},565:function(tt){"use strict";var W=["orientation","groupnorm","stackgaps"];tt.exports=function(A,g,i,P){var E=i._scatterStackOpts,l=P("stackgroup");if(l){var x=g.xaxis+g.yaxis,e=E[x];e||(e=E[x]={});var r=e[l],f=!1;r?r.traces.push(g):(r=e[l]={traceIndices:[],traces:[g]},f=!0);for(var a={orientation:g.x&&!g.y?"h":"v"},s=0;s<W.length;s++){var c=W[s],u=c+"Found";if(!r[u]){var y=void 0!==A[c],v="orientation"===c;if((y||f)&&(r[c]=P(c,a[c]),v&&(r.fillDflt="h"===r[c]?"tonextx":"tonexty"),y&&(r[u]=!0,!f&&(delete r.traces[0][c],v))))for(var w=0;w<r.traces.length-1;w++){var d=r.traces[w];d._input.fill!==d.fill&&(d.fill=r.fillDflt)}}}return r}}},16296:function(tt,W,t){"use strict";var A=t(39898),g=t(91424),i=t(73972);function E(e,r,f){g.pointStyle(e.selectAll("path.point"),r,f)}function l(e,r,f){g.textPointStyle(e.selectAll("text"),r,f)}tt.exports={style:function P(e){var r=A.select(e).selectAll("g.trace.scatter");r.style("opacity",function(f){return f[0].trace.opacity}),r.selectAll("g.points").each(function(f){E(A.select(this),f.trace||f[0].trace,e)}),r.selectAll("g.text").each(function(f){l(A.select(this),f.trace||f[0].trace,e)}),r.selectAll("g.trace path.js-line").call(g.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(g.fillGroupStyle,e),i.getComponentMethod("errorbars","style")(r)},stylePoints:E,styleText:l,styleOnSelect:function x(e,r,f){var a=r[0].trace;a.selectedpoints?(g.selectedPointStyle(f.selectAll("path.point"),a),g.selectedTextStyle(f.selectAll("text"),a)):(E(f,a,e),l(f,a,e))}}},34098:function(tt,W,t){"use strict";var A=t(71828);tt.exports={hasLines:function(g){return g.visible&&g.mode&&-1!==g.mode.indexOf("lines")},hasMarkers:function(g){return g.visible&&(g.mode&&-1!==g.mode.indexOf("markers")||"splom"===g.type)},hasText:function(g){return g.visible&&g.mode&&-1!==g.mode.indexOf("text")},isBubble:function(g){return A.isPlainObject(g.marker)&&A.isArrayOrTypedArray(g.marker.size)}}},82410:function(tt,W,t){"use strict";var A=t(71828);tt.exports=function(g,i,P,E,l){l=l||{},E("textposition"),A.coerceFont(E,"textfont",P.font),l.noSelect||(E("selected.textfont.color"),E("unselected.textfont.color"))}},67513:function(tt,W,t){"use strict";var A=t(71828),g=t(73972);tt.exports=function(P,E,l,x){var f,e=x("x"),r=x("y");if(g.getComponentMethod("calendars","handleTraceDefaults")(P,E,["x","y"],l),e){var s=A.minRowLength(e);r?f=Math.min(s,A.minRowLength(r)):(f=s,x("y0"),x("dy"))}else{if(!r)return 0;f=A.minRowLength(r),x("x0"),x("dx")}return E._length=f,f}},44542:function(tt,W,t){"use strict";var A=t(82196),g=t(50693),i=t(12663).axisHoverFormat,P=t(5386).fF,E=t(5386).si,l=t(9012),x=t(29659),e=t(87381),r=t(1426).extendFlat,f=t(30962).overrideAll,a=t(78607),c=A.marker,u=c.line,y=r({width:A.line.width,dash:{valType:"enumerated",values:a(x),dflt:"solid"}},g("line"));var w=tt.exports=f({x:A.x,y:A.y,z:{valType:"data_array"},text:r({},A.text,{}),texttemplate:E({},{}),hovertext:r({},A.hovertext,{}),hovertemplate:P(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),mode:r({},A.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}},connectgaps:A.connectgaps,line:y,marker:r({symbol:{valType:"enumerated",values:a(e),dflt:"circle",arrayOk:!0},size:r({},c.size,{dflt:8}),sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:r({},c.opacity,{arrayOk:!1}),colorbar:c.colorbar,line:r({width:r({},u.width,{arrayOk:!1})},g("marker.line"))},g("marker")),textposition:r({},A.textposition,{dflt:"top center"}),textfont:{color:A.textfont.color,size:A.textfont.size,family:r({},A.textfont.family,{arrayOk:!1})},opacity:l.opacity,hoverinfo:r({},l.hoverinfo)},"calc","nested");w.x.editType=w.y.editType=w.z.editType="calc+clearAxisTypes"},36563:function(tt,W,t){"use strict";var A=t(75225),g=t(36922);tt.exports=function(P,E){var l=[{x:!1,y:!1,trace:E,t:{}}];return A(l,E),g(P,E),l}},67336:function(tt,W,t){"use strict";var A=t(73972);function g(E,l,x,e){if(!l||!l.visible)return null;for(var r=A.getComponentMethod("errorbars","makeComputeError")(l),f=new Array(E.length),a=0;a<E.length;a++){var s=r(+E[a],a);if("log"===e.type){var c=e.c2l(E[a]),u=E[a]-s[0],y=E[a]+s[1];if(f[a]=[(e.c2l(u,!0)-c)*x,(e.c2l(y,!0)-c)*x],u>0){var v=e.c2l(u);e._lowerLogErrorBound||(e._lowerLogErrorBound=v),e._lowerErrorBound=Math.min(e._lowerLogErrorBound,v)}}else f[a]=[-s[0]*x,s[1]*x]}return f}tt.exports=function P(E,l,x){var e=[g(E.x,E.error_x,l[0],x.xaxis),g(E.y,E.error_y,l[1],x.yaxis),g(E.z,E.error_z,l[2],x.zaxis)],r=function i(E){for(var l=0;l<E.length;l++)if(E[l])return E[l].length;return 0}(e);if(0===r)return null;for(var f=new Array(r),a=0;a<r;a++){for(var s=[[0,0,0],[0,0,0]],c=0;c<3;c++)if(e[c])for(var u=0;u<2;u++)s[u][c]=e[c][a][u];f[a]=s}return f}},58925:function(tt,W,t){"use strict";var A=t(9330).gl_line3d,g=t(9330).gl_scatter3d,i=t(9330).gl_error3d,P=t(9330).gl_mesh3d,E=t(9330).delaunay_triangulate,l=t(71828),x=t(78614),e=t(81697).formatColor,r=t(39984),f=t(29659),a=t(87381),s=t(89298),c=t(23469).appendArrayPointValue,u=t(67336);function y(p,F){this.scene=p,this.uid=F,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var v=y.prototype;function o(p){return null==p?0:p.indexOf("left")>-1?-1:p.indexOf("right")>-1?1:0}function h(p){return null==p?0:p.indexOf("top")>-1?-1:p.indexOf("bottom")>-1?1:0}function T(p,F){return F(4*p)}function L(p){return a[p]}function m(p,F,D,N,k){var O=null;if(l.isArrayOrTypedArray(p)){O=[];for(var B=0;B<F;B++)O[B]=void 0===p[B]?N:D(p[B],k)}else O=D(p,l.identity);return O}function S(p,F){var H,X,at,_,K,nt,D=[],N=p.fullSceneLayout,k=p.dataScale,O=N.xaxis,B=N.yaxis,z=N.zaxis,U=F.marker,G=F.line,Q=F.x||[],rt=F.y||[],it=F.z||[],ut=Q.length,J=F.xcalendar,j=F.ycalendar,Z=F.zcalendar;for(K=0;K<ut;K++)H=O.d2l(Q[K],0,J)*k[0],X=B.d2l(rt[K],0,j)*k[1],at=z.d2l(it[K],0,Z)*k[2],D[K]=[H,X,at];if(Array.isArray(F.text))nt=F.text;else if(void 0!==F.text)for(nt=new Array(ut),K=0;K<ut;K++)nt[K]=F.text;function et(_t,kt){var zt=N[_t];return s.tickText(zt,zt.d2l(kt),!0).text}var st=F.texttemplate;if(st){var Tt=p.fullLayout._d3locale,bt=Array.isArray(st),Dt=bt?Math.min(st.length,ut):ut,Ft=bt?function(_t){return st[_t]}:function(){return st};for(nt=new Array(Dt),K=0;K<Dt;K++){var Mt={x:Q[K],y:rt[K],z:it[K]},wt={xLabel:et("xaxis",Q[K]),yLabel:et("yaxis",rt[K]),zLabel:et("zaxis",it[K])},St={};c(St,F,K);var Ut=F._meta||{};nt[K]=l.texttemplateString(Ft(K),wt,Tt,St,Mt,Ut)}}if(_={position:D,mode:F.mode,text:nt},"line"in F&&(_.lineColor=e(G,1,ut),_.lineWidth=G.width,_.lineDashes=G.dash),"marker"in F){var Gt=r(F);_.scatterColor=e(U,1,ut),_.scatterSize=m(U.size,ut,T,20,Gt),_.scatterMarker=m(U.symbol,ut,L,"\u25cf"),_.scatterLineWidth=U.line.width,_.scatterLineColor=e(U.line,1,ut),_.scatterAngle=0}"textposition"in F&&(_.textOffset=function M(p){var N=[0,0];if(Array.isArray(p))for(var k=0;k<p.length;k++)N[k]=[0,0],p[k]&&(N[k][0]=o(p[k]),N[k][1]=h(p[k]));else N[0]=o(p),N[1]=h(p);return N}(F.textposition),_.textColor=e(F.textfont,1,ut),_.textSize=m(F.textfont.size,ut,l.identity,12),_.textFont=F.textfont.family,_.textAngle=0);var Pt=["x","y","z"];for(_.project=[!1,!1,!1],_.projectScale=[1,1,1],_.projectOpacity=[1,1,1],K=0;K<3;++K){var Vt=F.projection[Pt[K]];(_.project[K]=Vt.show)&&(_.projectOpacity[K]=Vt.opacity,_.projectScale[K]=Vt.scale)}_.errorBounds=u(F,k,N);var te=function d(p){for(var F=[0,0,0],D=[[0,0,0],[0,0,0],[0,0,0]],N=[1,1,1],k=0;k<3;k++){var O=p[k];O&&!1!==O.copy_zstyle&&!1!==p[2].visible&&(O=p[2]),O&&O.visible&&(F[k]=O.width/2,D[k]=x(O.color),N[k]=O.thickness)}return{capSize:F,color:D,lineWidth:N}}([F.error_x,F.error_y,F.error_z]);return _.errorColor=te.color,_.errorLineWidth=te.lineWidth,_.errorCapSize=te.capSize,_.delaunayAxis=F.surfaceaxis,_.delaunayColor=x(F.surfacecolor),_}function b(p){if(l.isArrayOrTypedArray(p)){var F=p[0];return l.isArrayOrTypedArray(F)&&(p=F),"rgb("+p.slice(0,3).map(function(D){return Math.round(255*D)})+")"}return null}function n(p){return l.isArrayOrTypedArray(p)?4===p.length&&"number"==typeof p[0]?b(p):p.map(b):null}v.handlePick=function(p){if(p.object&&(p.object===this.linePlot||p.object===this.delaunayMesh||p.object===this.textMarkers||p.object===this.scatterPlot)){var F=p.index=p.data.index;return p.object.highlight&&p.object.highlight(null),this.scatterPlot&&(p.object=this.scatterPlot,this.scatterPlot.highlight(p.data)),p.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[F]||0===this.textLabels[F])&&(p.textLabel=this.textLabels[F]):p.textLabel=this.textLabels),p.traceCoordinate=[this.data.x[F],this.data.y[F],this.data.z[F]],!0}},v.update=function(p){var D,N,k,O,F=this.scene.glplot.gl,B=f.solid;this.data=p;var z=S(this.scene,p);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in f&&(B=f[z.lineDashes]),this.color=n(z.scatterColor)||n(z.lineColor),this.dataPoints=z.position,D={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:B[0],dashScale:B[1],opacity:p.opacity,connectGaps:p.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(D):(this.linePlot=A(D),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var U=p.opacity;if(p.marker&&void 0!==p.marker.opacity&&(U*=p.marker.opacity),N={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:U,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(N):(this.scatterPlot=g(N),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),O={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:p.opacity},this.textLabels=p.hovertext||p.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(O):(this.textMarkers=g(O),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),k={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:p.opacity},this.errorBars?z.errorBounds?this.errorBars.update(k):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=i(k),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var G=function w(p,F,D){var z,N=(D+1)%3,k=(D+2)%3,O=[],B=[];for(z=0;z<p.length;++z){var U=p[z];isNaN(U[N])||!isFinite(U[N])||isNaN(U[k])||!isFinite(U[k])||(O.push([U[N],U[k]]),B.push(z))}var G=E(O);for(z=0;z<G.length;++z)for(var Q=G[z],rt=0;rt<Q.length;++rt)Q[rt]=B[Q[rt]];return{positions:p,cells:G,meshColor:F}}(z.position,z.delaunayColor,z.delaunayAxis);G.opacity=p.opacity,this.delaunayMesh?this.delaunayMesh.update(G):(G.gl=F,this.delaunayMesh=P(G),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},v.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},tt.exports=function C(p,F){var D=new y(p,F.uid);return D.update(F),D}},21428:function(tt,W,t){"use strict";var A=t(73972),g=t(71828),i=t(34098),P=t(49508),E=t(11058),l=t(82410),x=t(44542);tt.exports=function(f,a,s,c){function u(T,L){return g.coerce(f,a,x,T,L)}if(function e(r,f,a,s){var c=0,u=a("x"),y=a("y"),v=a("z");return A.getComponentMethod("calendars","handleTraceDefaults")(r,f,["x","y","z"],s),u&&y&&v&&(c=Math.min(u.length,y.length,v.length),f._length=f._xlength=f._ylength=f._zlength=c),c}(f,a,u,c)){u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),u("mode"),i.hasLines(a)&&(u("connectgaps"),E(f,a,s,c,u)),i.hasMarkers(a)&&P(f,a,s,c,u,{noSelect:!0,noAngle:!0}),i.hasText(a)&&(u("texttemplate"),l(f,a,c,u,{noSelect:!0}));var v=(a.line||{}).color,w=(a.marker||{}).color;u("surfaceaxis")>=0&&u("surfacecolor",v||w);for(var d=["x","y","z"],o=0;o<3;++o){var h="projection."+d[o];u(h+".show")&&(u(h+".opacity"),u(h+".scale"))}var M=A.getComponentMethod("errorbars","supplyDefaults");M(f,a,v||w||s,{axis:"z"}),M(f,a,v||w||s,{axis:"y",inherit:"z"}),M(f,a,v||w||s,{axis:"x",inherit:"z"})}else a.visible=!1}},13551:function(tt,W,t){"use strict";tt.exports={plot:t(58925),attributes:t(44542),markerSymbols:t(87381),supplyDefaults:t(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:t(36563),moduleType:"trace",name:"scatter3d",basePlotModule:t(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(tt,W,t){"use strict";var A=t(82196),g=t(9012),i=t(5386).fF,P=t(5386).si,E=t(50693),l=t(1426).extendFlat,x=A.marker,e=A.line,r=x.line;tt.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:l({},A.mode,{dflt:"markers"}),text:l({},A.text,{}),texttemplate:P({editType:"plot"},{keys:["a","b","text"]}),hovertext:l({},A.hovertext,{}),line:{color:e.color,width:e.width,dash:e.dash,backoff:e.backoff,shape:l({},e.shape,{values:["linear","spline"]}),smoothing:e.smoothing,editType:"calc"},connectgaps:A.connectgaps,fill:l({},A.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:A.fillcolor,marker:l({symbol:x.symbol,opacity:x.opacity,maxdisplayed:x.maxdisplayed,angle:x.angle,angleref:x.angleref,standoff:x.standoff,size:x.size,sizeref:x.sizeref,sizemin:x.sizemin,sizemode:x.sizemode,line:l({width:r.width,editType:"calc"},E("marker.line")),gradient:x.gradient,editType:"calc"},E("marker")),textfont:A.textfont,textposition:A.textposition,selected:A.selected,unselected:A.unselected,hoverinfo:l({},g.hoverinfo,{flags:["a","b","text","name"]}),hoveron:A.hoveron,hovertemplate:i()}},34618:function(tt,W,t){"use strict";var A=t(92770),g=t(36922),i=t(75225),P=t(66279),E=t(47761).calcMarkerSize,l=t(22882);tt.exports=function(e,r){var f=r._carpetTrace=l(e,r);if(f&&f.visible&&"legendonly"!==f.visible){var a;r.xaxis=f.xaxis,r.yaxis=f.yaxis;var u,y,s=r._length,c=new Array(s),v=!1;for(a=0;a<s;a++)if(y=r.b[a],A(u=r.a[a])&&A(y)){var w=f.ab2xy(+u,+y,!0),d=f.isVisible(+u,+y);d||(v=!0),c[a]={x:w[0],y:w[1],a:u,b:y,vis:d}}else c[a]={x:!1,y:!1};return r._needsCull=v,c[0].carpet=f,c[0].trace=r,E(r,s),g(e,r),i(c,r),P(c,r),c}}},98965:function(tt,W,t){"use strict";var A=t(71828),g=t(47581),i=t(34098),P=t(49508),E=t(11058),l=t(94039),x=t(82410),e=t(28908),r=t(97001);tt.exports=function(a,s,c,u){function y(T,L){return A.coerce(a,s,r,T,L)}y("carpet"),s.xaxis="x",s.yaxis="y";var v=y("a"),w=y("b"),d=Math.min(v.length,w.length);if(d){s._length=d,y("text"),y("texttemplate"),y("hovertext"),y("mode",d<g.PTS_LINESONLY?"lines+markers":"lines"),i.hasLines(s)&&(E(a,s,c,u,y,{backoff:!0}),l(a,s,y),y("connectgaps")),i.hasMarkers(s)&&P(a,s,c,u,y,{gradient:!0}),i.hasText(s)&&x(a,s,u,y);var h=[];(i.hasMarkers(s)||i.hasText(s))&&(y("marker.maxdisplayed"),h.push("points")),y("fill"),"none"!==s.fill&&(e(a,s,c,y),i.hasLines(s)||l(a,s,y)),("tonext"===s.fill||"toself"===s.fill)&&h.push("fills"),"fills"!==y("hoveron",h.join("+")||"points")&&y("hovertemplate"),A.coerceSelectionMarkerOpacity(s,y)}else s.visible=!1}},16165:function(tt){"use strict";tt.exports=function(t,A,g,i,P){var E=i[P];return t.a=E.a,t.b=E.b,t.y=E.y,t}},48953:function(tt){"use strict";tt.exports=function(t,A){var g={},i=A._carpet,P=i.ab2ij([t.a,t.b]),E=Math.floor(P[0]),l=P[0]-E,x=Math.floor(P[1]),r=i.evalxy([],E,x,l,P[1]-x);return g.yLabel=r[1].toFixed(3),g}},22931:function(tt,W,t){"use strict";var A=t(33720),g=t(71828).fillText;tt.exports=function(P,E,l,x){var e=A(P,E,l,x);if(e&&!1!==e[0].index){var r=e[0];if(void 0===r.index){var a=P.xa._length,s=a*(1-r.y0/P.ya._length)/2,c=a-s;return r.x0=Math.max(Math.min(r.x0,c),s),r.x1=Math.max(Math.min(r.x1,c),s),e}var u=r.cd[r.index];r.a=u.a,r.b=u.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var y=r.trace,v=y._carpet,w=y._module.formatLabels(u,y);r.yLabel=w.yLabel,delete r.text;var d=[];if(!y.hovertemplate){var M=(u.hi||y.hoverinfo).split("+");-1!==M.indexOf("all")&&(M=["a","b","text"]),-1!==M.indexOf("a")&&o(v.aaxis,u.a),-1!==M.indexOf("b")&&o(v.baxis,u.b),d.push("y: "+r.yLabel),-1!==M.indexOf("text")&&g(u,y,d),r.extraText=d.join("<br>")}return e}function o(T,L){var m;m=T.labelprefix&&T.labelprefix.length>0?T.labelprefix.replace(/ = $/,""):T._hovertitle,d.push(m+": "+L.toFixed(3)+T.labelsuffix)}}},46858:function(tt,W,t){"use strict";tt.exports={attributes:t(97001),supplyDefaults:t(98965),colorbar:t(4898),formatLabels:t(48953),calc:t(34618),plot:t(1913),style:t(16296).style,styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(22931),selectPoints:t(98002),eventData:t(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:t(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(tt,W,t){"use strict";var A=t(32663),g=t(89298),i=t(91424);tt.exports=function(E,l,x,e){var r,f,a,s=x[0][0].carpet,c=g.getFromId(E,s.xaxis||"x"),u=g.getFromId(E,s.yaxis||"y"),y={xaxis:c,yaxis:u,plot:l.plot};for(r=0;r<x.length;r++)(f=x[r][0].trace)._xA=c,f._yA=u;for(A(E,y,x,e),r=0;r<x.length;r++)a=e.selectAll("g.trace"+(f=x[r][0].trace).uid+" .js-line"),i.setClipUrl(a,x[r][0].carpet._clipPathId,E)}},19316:function(tt,W,t){"use strict";var A=t(5386).fF,g=t(5386).si,i=t(82196),P=t(9012),E=t(50693),l=t(79952).P,x=t(1426).extendFlat,e=t(30962).overrideAll,r=i.marker,f=i.line,a=r.line;tt.exports=e({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:x({},i.mode,{dflt:"markers"}),text:x({},i.text,{}),texttemplate:g({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:x({},i.hovertext,{}),textfont:i.textfont,textposition:i.textposition,line:{color:f.color,width:f.width,dash:l},connectgaps:i.connectgaps,marker:x({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:x({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:x({width:a.width},E("marker.line")),gradient:r.gradient},E("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:i.fillcolor,selected:i.selected,unselected:i.unselected,hoverinfo:x({},P.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:A()},"calc","nested")},84622:function(tt,W,t){"use strict";var A=t(92770),g=t(50606).BADNUM,i=t(36922),P=t(75225),E=t(66279),l=t(71828)._;function x(e){return e&&"string"==typeof e}tt.exports=function(r,f){var u,a=Array.isArray(f.locations),s=a?f.locations.length:f._length,c=new Array(s);u=f.geojson?function(h){return x(h)||A(h)}:x;for(var y=0;y<s;y++){var v=c[y]={};if(a){var w=f.locations[y];v.loc=u(w)?w:null}else{var d=f.lon[y],o=f.lat[y];v.lonlat=A(d)&&A(o)?[+d,+o]:[g,g]}}return P(c,f),i(r,f),E(c,f),s&&(c[0].t={labels:{lat:l(r,"lat:")+" ",lon:l(r,"lon:")+" "}}),c}},10659:function(tt,W,t){"use strict";var A=t(71828),g=t(34098),i=t(49508),P=t(11058),E=t(82410),l=t(28908),x=t(19316);tt.exports=function(r,f,a,s){function c(M,T){return A.coerce(r,f,x,M,T)}var y,u=c("locations");if(u&&u.length){var w,v=c("geojson");("string"==typeof v&&""!==v||A.isPlainObject(v))&&(w="geojson-id"),"geojson-id"===c("locationmode",w)&&c("featureidkey"),y=u.length}else{var o=c("lon")||[],h=c("lat")||[];y=Math.min(o.length,h.length)}y?(f._length=y,c("text"),c("hovertext"),c("hovertemplate"),c("mode"),g.hasLines(f)&&(P(r,f,a,s,c),c("connectgaps")),g.hasMarkers(f)&&i(r,f,a,s,c,{gradient:!0}),g.hasText(f)&&(c("texttemplate"),E(r,f,s,c)),c("fill"),"none"!==f.fill&&l(r,f,a,c),A.coerceSelectionMarkerOpacity(f,c)):f.visible=!1}},84084:function(tt){"use strict";tt.exports=function(t,A,g,i,P){t.lon=A.lon,t.lat=A.lat,t.location=A.loc?A.loc:null;var E=i[P];return E.fIn&&E.fIn.properties&&(t.properties=E.fIn.properties),t}},82719:function(tt,W,t){"use strict";var A=t(89298);tt.exports=function(i,P,E){var l={},e=E[P.geo]._subplot.mockAxis,r=i.lonlat;return l.lonLabel=A.tickText(e,e.c2l(r[0]),!0).text,l.latLabel=A.tickText(e,e.c2l(r[1]),!0).text,l}},14977:function(tt,W,t){"use strict";var A=t(30211),g=t(50606).BADNUM,i=t(34603),P=t(71828).fillText,E=t(19316);tt.exports=function(e,r,f){var a=e.cd,s=a[0].trace,c=e.xa,u=e.ya,y=e.subplot,v=y.projection.isLonLatOverEdges,w=y.project;if(A.getClosest(a,function d(S){var b=S.lonlat;if(b[0]===g||v(b))return 1/0;var n=w(b),C=w([r,f]),p=Math.abs(n[0]-C[0]),F=Math.abs(n[1]-C[1]),D=Math.max(3,S.mrc||0);return Math.max(Math.sqrt(p*p+F*F)-D,1-3/D)},e),!1!==e.index){var o=a[e.index],h=o.lonlat,M=[c.c2p(h),u.c2p(h)],T=o.mrc||1;e.x0=M[0]-T,e.x1=M[0]+T,e.y0=M[1]-T,e.y1=M[1]+T,e.loc=o.loc,e.lon=h[0],e.lat=h[1];var L={};L[s.geo]={_subplot:y};var m=s._module.formatLabels(o,s,L);return e.lonLabel=m.lonLabel,e.latLabel=m.latLabel,e.color=i(s,o),e.extraText=function l(x,e,r,f){if(!x.hovertemplate){var a=e.hi||x.hoverinfo,s="all"===a?E.hoverinfo.flags:a.split("+"),c=-1!==s.indexOf("location")&&Array.isArray(x.locations),u=-1!==s.indexOf("lon"),y=-1!==s.indexOf("lat"),v=-1!==s.indexOf("text"),w=[];return c?w.push(e.loc):u&&y?w.push("("+d(r.latLabel)+", "+d(r.lonLabel)+")"):u?w.push(f.lon+d(r.lonLabel)):y&&w.push(f.lat+d(r.latLabel)),v&&P(e,x,w),w.join("<br>")}function d(o){return o+"\xb0"}}(s,o,e,a[0].t.labels),e.hovertemplate=s.hovertemplate,[e]}}},17988:function(tt,W,t){"use strict";tt.exports={attributes:t(19316),supplyDefaults:t(10659),colorbar:t(4898),formatLabels:t(82719),calc:t(84622),calcGeoJSON:t(89171).calcGeoJSON,plot:t(89171).plot,style:t(33095),styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(14977),eventData:t(84084),selectPoints:t(20548),moduleType:"trace",name:"scattergeo",basePlotModule:t(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=t(90973).getTopojsonFeatures,P=t(18214),E=t(41327),l=t(71739).findExtremes,x=t(50606).BADNUM,e=t(47761).calcMarkerSize,r=t(34098),f=t(33095);tt.exports={calcGeoJSON:function s(c,u){var o,h,y=c[0].trace,v=u[y.geo],w=v._subplot,d=y._length;if(Array.isArray(y.locations)){var M=y.locationmode,T="geojson-id"===M?E.extractTraceFeature(c):i(y,w.topojson);for(o=0;o<d;o++){h=c[o];var L="geojson-id"===M?h.fOut:E.locationToFeature(M,h.loc,T);h.lonlat=L?L.properties.ct:[x,x]}}var S,b,m={padded:!0};if("geojson"===v.fitbounds&&"geojson-id"===y.locationmode){var n=E.computeBbox(E.getTraceGeojson(y));S=[n[0],n[2]],b=[n[1],n[3]]}else{for(S=new Array(d),b=new Array(d),o=0;o<d;o++)S[o]=(h=c[o]).lonlat[0],b[o]=h.lonlat[1];m.ppad=e(y,d)}y._extremes.lon=l(v.lonaxis._ax,S,m),y._extremes.lat=l(v.lataxis._ax,b,m)},plot:function a(c,u,y){var v=u.layers.frontplot.select(".scatterlayer"),w=g.makeTraceGroups(v,y,"trace scattergeo");function d(o,h){o.lonlat[0]===x&&A.select(h).remove()}w.selectAll("*").remove(),w.each(function(o){var h=A.select(this),M=o[0].trace;if(r.hasLines(M)||"none"!==M.fill){var T=P.calcTraceToLineCoords(o),L="none"!==M.fill?P.makePolygon(T):P.makeLine(T);h.selectAll("path.js-line").data([{geojson:L,trace:M}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}r.hasMarkers(M)&&h.selectAll("path.point").data(g.identity).enter().append("path").classed("point",!0).each(function(m){d(m,this)}),r.hasText(M)&&h.selectAll("g").data(g.identity).enter().append("g").append("text").each(function(m){d(m,this)}),f(c,o)})}}},20548:function(tt,W,t){"use strict";var A=t(34098),g=t(50606).BADNUM;tt.exports=function(P,E){var a,s,c,u,y,l=P.cd,x=P.xaxis,e=P.yaxis,r=[],f=l[0].trace;if(!A.hasMarkers(f)&&!A.hasText(f))return[];if(!1===E)for(y=0;y<l.length;y++)l[y].selected=0;else for(y=0;y<l.length;y++)(s=(a=l[y]).lonlat)[0]!==g&&(c=x.c2p(s),u=e.c2p(s),E.contains([c,u],null,y,P)?(r.push({pointNumber:y,lon:s[0],lat:s[1]}),a.selected=1):a.selected=0);return r}},33095:function(tt,W,t){"use strict";var A=t(39898),g=t(91424),i=t(7901),P=t(16296),E=P.stylePoints,l=P.styleText;tt.exports=function(r,f){f&&function x(e,r){var f=r[0].trace,a=r[0].node3;a.style("opacity",r[0].trace.opacity),E(a,f,e),l(a,f,e),a.selectAll("path.js-line").style("fill","none").each(function(s){var c=A.select(this),u=s.trace,y=u.line||{};c.call(i.stroke,y.color).call(g.dashLine,y.dash||"",y.width||0),"none"!==u.fill&&c.call(i.fill,u.fillcolor)})}(r,f)}},42341:function(tt,W,t){"use strict";var A=t(9012),g=t(82196),i=t(12663).axisHoverFormat,P=t(50693),E=t(78607),l=t(1426).extendFlat,x=t(30962).overrideAll,e=t(78232).DASHES,r=g.line,f=g.marker,a=f.line,s=tt.exports=x({x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),text:g.text,hovertext:g.hovertext,textposition:g.textposition,textfont:g.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:E(e),dflt:"solid"}},marker:l({},P("marker"),{symbol:f.symbol,angle:f.angle,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:f.opacity,colorbar:f.colorbar,line:l({},P("marker.line"),{width:a.width})}),connectgaps:g.connectgaps,fill:l({},g.fill,{dflt:"none"}),fillcolor:g.fillcolor,selected:{marker:g.selected.marker,textfont:g.selected.textfont},unselected:{marker:g.unselected.marker,textfont:g.unselected.textfont},opacity:A.opacity},"calc","nested");s.x.editType=s.y.editType=s.x0.editType=s.y0.editType="calc+clearAxisTypes",s.hovertemplate=g.hovertemplate,s.texttemplate=g.texttemplate},72156:function(tt,W,t){"use strict";var A=t(20794);tt.exports={moduleType:"trace",name:"scattergl",basePlotModule:t(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:t(42341),supplyDefaults:t(47148),crossTraceDefaults:t(34936),colorbar:t(4898),formatLabels:t(68101),calc:t(45032),hoverPoints:A.hoverPoints,selectPoints:t(58147),meta:{}}},45032:function(tt,W,t){"use strict";var A=t(88294),g=t(71828),i=t(41675),P=t(71739).findExtremes,E=t(42973),l=t(47761),x=l.calcMarkerSize,e=l.calcAxisExpansion,r=l.setFirstScatter,f=t(36922),a=t(19635),s=t(38967),c=t(50606).BADNUM,u=t(78232).TOO_MANY_POINTS;function y(w,d,o){var h=w._extremes[d._id],M=P(d,o._bnds,{padded:!0});h.min=h.min.concat(M.min),h.max=h.max.concat(M.max)}tt.exports=function(d,o){var C,h=d._fullLayout,M=o._xA=i.getFromId(d,o.xaxis,"x"),T=o._yA=i.getFromId(d,o.yaxis,"y"),L=h._plots[o.xaxis+o.yaxis],m=o._length,S=m>=u,b=2*m,n={},p=M.makeCalcdata(o,"x"),F=T.makeCalcdata(o,"y"),D=E(o,M,"x",p),N=E(o,T,"y",F),k=D.vals,O=N.vals;o._x=k,o._y=O,o.xperiodalignment&&(o._origX=p,o._xStarts=D.starts,o._xEnds=D.ends),o.yperiodalignment&&(o._origY=F,o._yStarts=N.starts,o._yEnds=N.ends);var B=new Array(b),z=new Array(m);for(C=0;C<m;C++)B[2*C]=k[C]===c?NaN:k[C],B[2*C+1]=O[C]===c?NaN:O[C],z[C]=C;if("log"===M.type)for(C=0;C<b;C+=2)B[C]=M.c2l(B[C]);if("log"===T.type)for(C=1;C<b;C+=2)B[C]=T.c2l(B[C]);S&&"log"!==M.type&&"log"!==T.type?n.tree=A(B):n.ids=z,f(d,o);var Q,U=function v(w,d,o,h,M,T){var L=a.style(w,o);if(L.marker&&(L.marker.positions=h),L.line&&h.length>1&&g.extendFlat(L.line,a.linePositions(w,o,h)),L.errorX||L.errorY){var m=a.errorBarPositions(w,o,h,M,T);L.errorX&&g.extendFlat(L.errorX,m.x),L.errorY&&g.extendFlat(L.errorY,m.y)}return L.text&&(g.extendFlat(L.text,{positions:h},a.textPosition(w,o,L.text,L.marker)),g.extendFlat(L.textSel,{positions:h},a.textPosition(w,o,L.text,L.markerSel)),g.extendFlat(L.textUnsel,{positions:h},a.textPosition(w,o,L.text,L.markerUnsel))),L}(d,0,o,B,k,O),G=s(d,L);return r(h,o),S?U.marker&&(Q=U.marker.sizeAvg||Math.max(U.marker.size,3)):Q=x(o,m),e(d,o,M,T,k,O,Q),U.errorX&&y(o,M,U.errorX),U.errorY&&y(o,T,U.errorY),U.fill&&!G.fill2d&&(G.fill2d=!0),U.marker&&!G.scatter2d&&(G.scatter2d=!0),U.line&&!G.line2d&&(G.line2d=!0),(U.errorX||U.errorY)&&!G.error2d&&(G.error2d=!0),U.text&&!G.glText&&(G.glText=!0),U.marker&&(U.marker.snap=m),G.lineOptions.push(U.line),G.errorXOptions.push(U.errorX),G.errorYOptions.push(U.errorY),G.fillOptions.push(U.fill),G.markerOptions.push(U.marker),G.markerSelectedOptions.push(U.markerSel),G.markerUnselectedOptions.push(U.markerUnsel),G.textOptions.push(U.text),G.textSelectedOptions.push(U.textSel),G.textUnselectedOptions.push(U.textUnsel),G.selectBatch.push([]),G.unselectBatch.push([]),n._scene=G,n.index=G.count,n.x=k,n.y=O,n.positions=B,G.count++,[{x:!1,y:!1,t:n,trace:o}]}},78232:function(tt){"use strict";tt.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(tt,W,t){"use strict";var A=t(92770),g=t(82019),i=t(25075),P=t(73972),E=t(71828),l=t(91424),x=t(41675),e=t(81697).formatColor,r=t(34098),f=t(39984),a=t(68645),s=t(78232),c=t(37822).DESELECTDIM,u={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},y=t(23469).appendArrayPointValue;function w(D,N){var ut,k=D._fullLayout,O=N._length,B=N.textfont,z=N.textposition,U=Array.isArray(z)?z:[z],G=B.color,Q=B.size,rt=B.family,it={},J=D._context.plotGlPixelRatio,j=N.texttemplate;if(j){it.text=[];var Z=k._d3locale,H=Array.isArray(j),X=H?Math.min(j.length,O):O,at=H?function(Tt){return j[Tt]}:function(){return j};for(ut=0;ut<X;ut++){var _={i:ut},K=N._module.formatLabels(_,N,k),nt={};y(nt,N,ut);var et=N._meta||{};it.text.push(E.texttemplateString(at(ut),K,Z,nt,_,et))}}else it.text=Array.isArray(N.text)&&N.text.length<O?N.text.slice():N.text;if(Array.isArray(it.text))for(ut=it.text.length;ut<O;ut++)it.text[ut]="";for(it.opacity=N.opacity,it.font={},it.align=[],it.baseline=[],ut=0;ut<U.length;ut++){var st=U[ut].split(/\s+/);switch(st[1]){case"left":it.align.push("right");break;case"right":it.align.push("left");break;default:it.align.push(st[1])}switch(st[0]){case"top":it.baseline.push("bottom");break;case"bottom":it.baseline.push("top");break;default:it.baseline.push(st[0])}}if(Array.isArray(G))for(it.color=new Array(O),ut=0;ut<O;ut++)it.color[ut]=G[ut];else it.color=G;if(E.isArrayOrTypedArray(Q)||Array.isArray(rt))for(it.font=new Array(O),ut=0;ut<O;ut++){var dt=it.font[ut]={};dt.size=(E.isTypedArray(Q)?Q[ut]:Array.isArray(Q)?A(Q[ut])?Q[ut]:0:Q)*J,dt.family=Array.isArray(rt)?rt[ut]:rt}else it.font={size:Q*J,family:rt};return it}function d(D,N){var z,j,k=N._length,O=N.marker,B={},U=E.isArrayOrTypedArray(O.symbol),G=E.isArrayOrTypedArray(O.angle),Q=E.isArrayOrTypedArray(O.color),rt=E.isArrayOrTypedArray(O.line.color),it=E.isArrayOrTypedArray(O.opacity),ut=E.isArrayOrTypedArray(O.size),J=E.isArrayOrTypedArray(O.line.width);if(U||(j=a.isOpenSymbol(O.symbol)),U||Q||rt||it||G){B.symbols=new Array(k),B.angles=new Array(k),B.colors=new Array(k),B.borderColors=new Array(k);var Z=O.symbol,H=O.angle,X=e(O,O.opacity,k),at=e(O.line,O.opacity,k);if(!Array.isArray(at[0])){var _=at;for(at=Array(k),z=0;z<k;z++)at[z]=_}if(!Array.isArray(X[0])){var K=X;for(X=Array(k),z=0;z<k;z++)X[z]=K}if(!Array.isArray(Z)){var nt=Z;for(Z=Array(k),z=0;z<k;z++)Z[z]=nt}if(!Array.isArray(H)){var et=H;for(H=Array(k),z=0;z<k;z++)H[z]=et}for(B.symbols=Z,B.angles=H,B.colors=X,B.borderColors=at,z=0;z<k;z++)U&&(j=a.isOpenSymbol(O.symbol[z])),j&&(at[z]=X[z].slice(),X[z]=X[z].slice(),X[z][3]=0);for(B.opacity=N.opacity,B.markers=new Array(k),z=0;z<k;z++)B.markers[z]=n({mx:B.symbols[z],ma:B.angles[z]},N)}else j?(B.color=i(O.color,"uint8"),B.color[3]=0,B.borderColor=i(O.color,"uint8")):(B.color=i(O.color,"uint8"),B.borderColor=i(O.line.color,"uint8")),B.opacity=N.opacity*O.opacity,B.marker=n({mx:O.symbol,ma:O.angle},N);var Tt,dt=f(N,1);if(ut||J){var Mt,bt=B.sizes=new Array(k),Dt=B.borderSizes=new Array(k),Ft=0;if(ut){for(z=0;z<k;z++)bt[z]=dt(O.size[z]),Ft+=bt[z];Mt=Ft/k}else for(Tt=dt(O.size),z=0;z<k;z++)bt[z]=Tt;if(J)for(z=0;z<k;z++)Dt[z]=O.line.width[z];else for(Tt=O.line.width,z=0;z<k;z++)Dt[z]=Tt;B.sizeAvg=Mt}else B.size=dt(O&&O.size||10),B.borderSizes=dt(O.line.width);return B}function o(D,N,k){var B={};return k&&(k.marker&&k.marker.symbol?B=d(0,E.extendFlat({},N.marker,k.marker)):k.marker&&(k.marker.size&&(B.size=k.marker.size),k.marker.color&&(B.colors=k.marker.color),void 0!==k.marker.opacity&&(B.opacity=k.marker.opacity))),B}function h(D,N,k){var O={};if(!k)return O;if(k.textfont){var B={opacity:1,text:N.text,texttemplate:N.texttemplate,textposition:N.textposition,textfont:E.extendFlat({},N.textfont)};k.textfont&&E.extendFlat(B.textfont,k.textfont),O=w(D,B)}return O}function M(D,N,k){var O={capSize:2*N.width*k,lineWidth:N.thickness*k,color:N.color};return N.copy_ystyle&&(O=D.error_y),O}var T=s.SYMBOL_SDF_SIZE,L=s.SYMBOL_SIZE,m=s.SYMBOL_STROKE,S={},b=l.symbolFuncs[0](.05*L);function n(D,N){var k=D.mx;if("circle"===k)return null;var O,B,z=l.symbolNumber(k),U=l.symbolFuncs[z%100],G=!!l.symbolNoDot[z%100],Q=!!l.symbolNoFill[z%100],rt=a.isDotSymbol(k);if(D.ma&&(k+="_"+D.ma),S[k])return S[k];var it=l.getMarkerAngle(D,N);return O=rt&&!G?U(1.1*L,it)+b:U(L,it),B=g(O,{w:T,h:T,viewBox:[-L,-L,L,L],stroke:Q?m:-m}),S[k]=B,B||null}tt.exports={style:function v(D,N){var k,O={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},B=D._context.plotGlPixelRatio;if(!0!==N.visible)return O;if(r.hasText(N)&&(O.text=w(D,N),O.textSel=h(D,N,N.selected),O.textUnsel=h(D,N,N.unselected)),r.hasMarkers(N)&&(O.marker=d(0,N),O.markerSel=o(D,N,N.selected),O.markerUnsel=o(D,N,N.unselected),!N.unselected&&E.isArrayOrTypedArray(N.marker.opacity))){var z=N.marker.opacity;for(O.markerUnsel.opacity=new Array(z.length),k=0;k<z.length;k++)O.markerUnsel.opacity[k]=c*z[k]}if(r.hasLines(N)){O.line={overlay:!0,thickness:N.line.width*B,color:N.line.color,opacity:N.opacity};var U=(s.DASHES[N.line.dash]||[1]).slice();for(k=0;k<U.length;++k)U[k]*=N.line.width*B;O.line.dashes=U}return N.error_x&&N.error_x.visible&&(O.errorX=M(N,N.error_x,B)),N.error_y&&N.error_y.visible&&(O.errorY=M(N,N.error_y,B)),!!N.fill&&"none"!==N.fill&&(O.fill={closed:!0,fill:N.fillcolor,thickness:0}),O},markerStyle:d,markerSelection:o,linePositions:function C(D,N,k){var z,U,O=k.length,B=O/2;if(r.hasLines(N)&&B)if("hv"===N.line.shape){for(z=[],U=0;U<B-1;U++)isNaN(k[2*U])||isNaN(k[2*U+1])?z.push(NaN,NaN,NaN,NaN):(z.push(k[2*U],k[2*U+1]),isNaN(k[2*U+2])||isNaN(k[2*U+3])?z.push(NaN,NaN):z.push(k[2*U+2],k[2*U+1]));z.push(k[O-2],k[O-1])}else if("hvh"===N.line.shape){for(z=[],U=0;U<B-1;U++)if(isNaN(k[2*U])||isNaN(k[2*U+1])||isNaN(k[2*U+2])||isNaN(k[2*U+3]))isNaN(k[2*U])||isNaN(k[2*U+1])?z.push(NaN,NaN):z.push(k[2*U],k[2*U+1]),z.push(NaN,NaN);else{var G=(k[2*U]+k[2*U+2])/2;z.push(k[2*U],k[2*U+1],G,k[2*U+1],G,k[2*U+3])}z.push(k[O-2],k[O-1])}else if("vhv"===N.line.shape){for(z=[],U=0;U<B-1;U++)if(isNaN(k[2*U])||isNaN(k[2*U+1])||isNaN(k[2*U+2])||isNaN(k[2*U+3]))isNaN(k[2*U])||isNaN(k[2*U+1])?z.push(NaN,NaN):z.push(k[2*U],k[2*U+1]),z.push(NaN,NaN);else{var Q=(k[2*U+1]+k[2*U+3])/2;z.push(k[2*U],k[2*U+1],k[2*U],Q,k[2*U+2],Q)}z.push(k[O-2],k[O-1])}else if("vh"===N.line.shape){for(z=[],U=0;U<B-1;U++)isNaN(k[2*U])||isNaN(k[2*U+1])?z.push(NaN,NaN,NaN,NaN):(z.push(k[2*U],k[2*U+1]),isNaN(k[2*U+2])||isNaN(k[2*U+3])?z.push(NaN,NaN):z.push(k[2*U],k[2*U+3]));z.push(k[O-2],k[O-1])}else z=k;var rt=!1;for(U=0;U<z.length;U++)if(isNaN(z[U])){rt=!0;break}var it=rt||z.length>s.TOO_MANY_POINTS||r.hasMarkers(N)?"rect":"round";if(rt&&N.connectgaps){var ut=z[0],J=z[1];for(U=0;U<z.length;U+=2)isNaN(z[U])||isNaN(z[U+1])?(z[U]=ut,z[U+1]=J):(ut=z[U],J=z[U+1])}return{join:it,positions:z}},errorBarPositions:function p(D,N,k,O,B){var z=P.getComponentMethod("errorbars","makeComputeError"),U=x.getFromId(D,N.xaxis,"x"),G=x.getFromId(D,N.yaxis,"y"),Q=k.length/2,rt={};function it(ut,J){var j=J._id.charAt(0),Z=N["error_"+j];if(Z&&Z.visible&&("linear"===J.type||"log"===J.type)){for(var H=z(Z),X={x:0,y:1}[j],at={x:[0,1,2,3],y:[2,3,0,1]}[j],_=new Float64Array(4*Q),K=1/0,nt=-1/0,et=0,st=0;et<Q;et++,st+=4){var dt=ut[et];if(A(dt)){var Tt=k[2*et+X],bt=H(dt,et),Dt=bt[0],Ft=bt[1];if(A(Dt)&&A(Ft)){var wt=dt+Ft;_[st+at[0]]=Tt-J.c2l(dt-Dt),_[st+at[1]]=J.c2l(wt)-Tt,_[st+at[2]]=0,_[st+at[3]]=0,K=Math.min(K,dt-Dt),nt=Math.max(nt,dt+Ft)}}}rt[j]={positions:k,errors:_,_bnds:[K,nt]}}}return it(O,U),it(B,G),rt},textPosition:function F(D,N,k,O){var U,B=N._length,z={};if(r.hasMarkers(N)){var G=k.font,Q=k.align,rt=k.baseline;for(z.offset=new Array(B),U=0;U<B;U++){var it=O.sizes?O.sizes[U]:O.size,ut=Array.isArray(G)?G[U].size:G.size,J=Array.isArray(Q)?Q.length>1?Q[U]:Q[0]:Q,j=Array.isArray(rt)?rt.length>1?rt[U]:rt[0]:rt,H=u[j],X=it?it/.8+1:0;z.offset[U]=[u[J]*X/ut,(-H*X-.5*H)/ut]}}return z}}},47148:function(tt,W,t){"use strict";var A=t(71828),g=t(73972),i=t(68645),P=t(42341),E=t(47581),l=t(34098),x=t(67513),e=t(73927),r=t(49508),f=t(11058),a=t(28908),s=t(82410);tt.exports=function(u,y,v,w){function d(b,n){return A.coerce(u,y,P,b,n)}var o=!!u.marker&&i.isOpenSymbol(u.marker.symbol),h=l.isBubble(u),M=x(u,y,w,d);if(M){e(u,y,w,d),d("xhoverformat"),d("yhoverformat");var T=M<E.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("hovertemplate"),d("mode",T),l.hasLines(y)&&(d("connectgaps"),f(u,y,v,w,d),d("line.shape")),l.hasMarkers(y)&&(r(u,y,v,w,d,{noAngleRef:!0,noStandOff:!0}),d("marker.line.width",o||h?1:0)),l.hasText(y)&&(d("texttemplate"),s(u,y,w,d));var L=(y.line||{}).color,m=(y.marker||{}).color;d("fill"),"none"!==y.fill&&a(u,y,v,d);var S=g.getComponentMethod("errorbars","supplyDefaults");S(u,y,L||m||v,{axis:"y"}),S(u,y,L||m||v,{axis:"x",inherit:"y"}),A.coerceSelectionMarkerOpacity(y,d)}else y.visible=!1}},5345:function(tt,W,t){"use strict";var A=t(71828),g=t(7901),i=t(37822).DESELECTDIM;tt.exports={styleTextSelection:function P(E){var w,d,l=E[0],x=l.trace,e=l.t,r=e._scene,f=e.index,a=r.selectBatch[f],s=r.unselectBatch[f],c=r.textOptions[f],u=r.textSelectedOptions[f]||{},y=r.textUnselectedOptions[f]||{},v=A.extendFlat({},c);if(a.length||s.length){var o=u.color,h=y.color,M=c.color,T=Array.isArray(M);for(v.color=new Array(x._length),w=0;w<a.length;w++)v.color[d=a[w]]=o||(T?M[d]:M);for(w=0;w<s.length;w++){d=s[w];var L=T?M[d]:M;v.color[d]=h||(o?L:g.addOpacity(L,i))}}r.glText[f].update(v)}}},68101:function(tt,W,t){"use strict";var A=t(8225);tt.exports=function(i,P,E){var l=i.i;return"x"in i||(i.x=P._x[l]),"y"in i||(i.y=P._y[l]),A(i,P,E)}},68645:function(tt,W,t){"use strict";var A=t(78232);W.isOpenSymbol=function(g){return"string"==typeof g?A.OPEN_RE.test(g):g%200>100},W.isDotSymbol=function(g){return"string"==typeof g?A.DOT_RE.test(g):g>200}},20794:function(tt,W,t){"use strict";var A=t(73972),g=t(71828),i=t(34603);function E(l,x,e,r){var f=l.xa,a=l.ya,s=l.distance,c=l.dxy,u=l.index,y={pointNumber:u,x:x[u],y:e[u]};y.tx=Array.isArray(r.text)?r.text[u]:r.text,y.htx=Array.isArray(r.hovertext)?r.hovertext[u]:r.hovertext,y.data=Array.isArray(r.customdata)?r.customdata[u]:r.customdata,y.tp=Array.isArray(r.textposition)?r.textposition[u]:r.textposition;var v=r.textfont;v&&(y.ts=g.isArrayOrTypedArray(v.size)?v.size[u]:v.size,y.tc=Array.isArray(v.color)?v.color[u]:v.color,y.tf=Array.isArray(v.family)?v.family[u]:v.family);var w=r.marker;w&&(y.ms=g.isArrayOrTypedArray(w.size)?w.size[u]:w.size,y.mo=g.isArrayOrTypedArray(w.opacity)?w.opacity[u]:w.opacity,y.mx=g.isArrayOrTypedArray(w.symbol)?w.symbol[u]:w.symbol,y.ma=g.isArrayOrTypedArray(w.angle)?w.angle[u]:w.angle,y.mc=g.isArrayOrTypedArray(w.color)?w.color[u]:w.color);var d=w&&w.line;d&&(y.mlc=Array.isArray(d.color)?d.color[u]:d.color,y.mlw=g.isArrayOrTypedArray(d.width)?d.width[u]:d.width);var o=w&&w.gradient;o&&"none"!==o.type&&(y.mgt=Array.isArray(o.type)?o.type[u]:o.type,y.mgc=Array.isArray(o.color)?o.color[u]:o.color);var h=f.c2p(y.x,!0),M=a.c2p(y.y,!0),T=y.mrc||1,L=r.hoverlabel;L&&(y.hbg=Array.isArray(L.bgcolor)?L.bgcolor[u]:L.bgcolor,y.hbc=Array.isArray(L.bordercolor)?L.bordercolor[u]:L.bordercolor,y.hts=g.isArrayOrTypedArray(L.font.size)?L.font.size[u]:L.font.size,y.htc=Array.isArray(L.font.color)?L.font.color[u]:L.font.color,y.htf=Array.isArray(L.font.family)?L.font.family[u]:L.font.family,y.hnl=g.isArrayOrTypedArray(L.namelength)?L.namelength[u]:L.namelength);var m=r.hoverinfo;m&&(y.hi=Array.isArray(m)?m[u]:m);var S=r.hovertemplate;S&&(y.ht=Array.isArray(S)?S[u]:S);var b={};b[l.index]=y;var n=r._origX,C=r._origY,p=g.extendFlat({},l,{color:i(r,y),x0:h-T,x1:h+T,xLabelVal:n?n[u]:y.x,y0:M-T,y1:M+T,yLabelVal:C?C[u]:y.y,cd:b,distance:s,spikeDistance:c,hovertemplate:y.ht});return y.htx?p.text=y.htx:y.tx?p.text=y.tx:r.text&&(p.text=r.text),g.fillText(y,r,p),A.getComponentMethod("errorbars","hoverInfo")(y,r,p),p}tt.exports={hoverPoints:function P(l,x,e,r){var h,f=l.cd,a=f[0].t,s=f[0].trace,c=l.xa,u=l.ya,y=a.x,v=a.y,w=c.c2p(x),d=u.c2p(e),o=l.distance;if(a.tree){var M=c.p2c(w-o),T=c.p2c(w+o),L=u.p2c(d-o),m=u.p2c(d+o);h="x"===r?a.tree.range(Math.min(M,T),Math.min(u._rl[0],u._rl[1]),Math.max(M,T),Math.max(u._rl[0],u._rl[1])):a.tree.range(Math.min(M,T),Math.min(L,m),Math.max(M,T),Math.max(L,m))}else h=a.ids;var S,b,n,C,p,F,D,N,k,O=o;if("x"===r){var B=!!s.xperiodalignment,z=!!s.yperiodalignment;for(p=0;p<h.length;p++){if(n=y[S=h[p]],F=Math.abs(c.c2p(n)-w),B){var U=c.c2p(s._xStarts[S]),G=c.c2p(s._xEnds[S]);F=w>=Math.min(U,G)&&w<=Math.max(U,G)?0:1/0}if(F<O){if(O=F,D=u.c2p(C=v[S])-d,z){var Q=u.c2p(s._yStarts[S]),rt=u.c2p(s._yEnds[S]);D=d>=Math.min(Q,rt)&&d<=Math.max(Q,rt)?0:1/0}k=Math.sqrt(F*F+D*D),b=h[p]}}}else for(p=h.length-1;p>-1;p--)C=v[S=h[p]],F=c.c2p(n=y[S])-w,D=u.c2p(C)-d,(N=Math.sqrt(F*F+D*D))<O&&(O=k=N,b=S);return l.index=b,l.distance=O,l.dxy=k,void 0===b?[l]:[E(l,y,v,s)]},calcHover:E}},68868:function(tt,W,t){"use strict";var A=t(72156);A.plot=t(26787),tt.exports=A},26787:function(tt,W,t){"use strict";var A=t(11870),g=t(46075),i=t(3593),P=t(42505),E=t(71828),l=t(64505).selectMode,x=t(79749),e=t(34098),r=t(68687),f=t(5345).styleTextSelection,a={};function s(u,y,v,w){var d=u._size,S=d.w*w,b=d.h*w;return[d.l*w+y.domain[0]*S,d.b*w+v.domain[0]*b,u.width*w-d.r*w-(1-y.domain[1])*S,u.height*w-d.t*w-(1-v.domain[1])*b]}(tt.exports=function(y,v,w){if(w.length){var T,L,d=y._fullLayout,o=v._scene,h=v.xaxis,M=v.yaxis;if(o){if(!x(y,["ANGLE_instanced_arrays","OES_element_index_uint"],a))return void o.init();var S=o.count,b=d._glcanvas.data()[0].regl;if(r(y,v,w),o.dirty){if(!0===o.error2d&&(o.error2d=i(b)),!0===o.line2d&&(o.line2d=g(b)),!0===o.scatter2d&&(o.scatter2d=A(b)),!0===o.fill2d&&(o.fill2d=g(b)),!0===o.glText)for(o.glText=new Array(S),T=0;T<S;T++)o.glText[T]=new P(b);if(o.glText){if(S>o.glText.length){var n=S-o.glText.length;for(T=0;T<n;T++)o.glText.push(new P(b))}else S<o.glText.length&&o.glText.splice(S,o.glText.length-S).forEach(function(_){_.destroy()});for(T=0;T<S;T++)o.glText[T].update(o.textOptions[T])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(_){if(_&&_.positions){for(var K=_.positions,nt=0;nt<K.length&&(isNaN(K[nt])||isNaN(K[nt+1]));)nt+=2;for(var et=K.length-2;et>nt&&(isNaN(K[et])||isNaN(K[et+1]));)et-=2;_.positions=K.slice(nt,et+2)}return _}),o.line2d.update(o.lineOptions)),o.error2d){var F=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(F)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=E.repeat(null,S),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(_,K){var nt=w[K];if(_&&nt&&nt[0]&&nt[0].trace){var bt,Dt,et=nt[0],st=et.trace,dt=et.t,Tt=o.lineOptions[K],Ft=[];st._ownfill&&Ft.push(K),st._nexttrace&&Ft.push(K+1),Ft.length&&(o.fillOrder[K]=Ft);var St,Ut,Mt=[],wt=Tt&&Tt.positions||dt.positions;if("tozeroy"===st.fill){for(St=0;St<wt.length&&isNaN(wt[St+1]);)St+=2;for(Ut=wt.length-2;Ut>St&&isNaN(wt[Ut+1]);)Ut-=2;0!==wt[St+1]&&(Mt=[wt[St],0]),Mt=Mt.concat(wt.slice(St,Ut+2)),0!==wt[Ut+1]&&(Mt=Mt.concat([wt[Ut],0]))}else if("tozerox"===st.fill){for(St=0;St<wt.length&&isNaN(wt[St]);)St+=2;for(Ut=wt.length-2;Ut>St&&isNaN(wt[Ut]);)Ut-=2;0!==wt[St]&&(Mt=[0,wt[St+1]]),Mt=Mt.concat(wt.slice(St,Ut+2)),0!==wt[Ut]&&(Mt=Mt.concat([0,wt[Ut+1]]))}else if("toself"===st.fill||"tonext"===st.fill){for(Mt=[],bt=0,_.splitNull=!0,Dt=0;Dt<wt.length;Dt+=2)(isNaN(wt[Dt])||isNaN(wt[Dt+1]))&&((Mt=Mt.concat(wt.slice(bt,Dt))).push(wt[bt],wt[bt+1]),Mt.push(null,null),bt=Dt+2);Mt=Mt.concat(wt.slice(bt)),bt&&Mt.push(wt[bt],wt[bt+1])}else{var Gt=st._nexttrace;if(Gt){var Pt=o.lineOptions[K+1];if(Pt){var Vt=Pt.positions;if("tonexty"===st.fill){for(Mt=wt.slice(),K=Math.floor(Vt.length/2);K--;){var te=Vt[2*K],_t=Vt[2*K+1];isNaN(te)||isNaN(_t)||Mt.push(te,_t)}_.fill=Gt.fillcolor}}}}if(st._prevtrace&&"tonext"===st._prevtrace.fill){var kt=o.lineOptions[K-1].positions,zt=Mt.length/2,qt=[bt=zt];for(Dt=0;Dt<kt.length;Dt+=2)(isNaN(kt[Dt])||isNaN(kt[Dt+1]))&&(qt.push(Dt/2+zt+1),bt=Dt+2);Mt=Mt.concat(kt),_.hole=qt}return _.fillmode=st.fill,_.opacity=st.opacity,_.positions=Mt,_}}),o.fill2d.update(o.fillOptions))}var N=l(d.dragmode),k=d.clickmode.indexOf("select")>-1;for(T=0;T<S;T++){var O=w[T][0],B=O.trace,z=O.t,U=z.index,G=B._length,Q=z.x,rt=z.y;if(B.selectedpoints||N||k){if(N||(N=!0),B.selectedpoints){var it=o.selectBatch[U]=E.selIndices2selPoints(B),ut={};for(L=0;L<it.length;L++)ut[it[L]]=1;var J=[];for(L=0;L<G;L++)ut[L]||J.push(L);o.unselectBatch[U]=J}var j=z.xpx=new Array(G),Z=z.ypx=new Array(G);for(L=0;L<G;L++)j[L]=h.c2p(Q[L]),Z[L]=M.c2p(rt[L])}else z.xpx=z.ypx=null}if(N){if(o.select2d||(o.select2d=A(d._glcanvas.data()[1].regl)),o.scatter2d){var H=new Array(S);for(T=0;T<S;T++)H[T]=o.selectBatch[T].length||o.unselectBatch[T].length?o.markerUnselectedOptions[T]:{};o.scatter2d.update(H)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&w.forEach(function(_){e.hasText(((_||[])[0]||{}).trace||{})&&f(_)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var X={viewport:s(d,h,M,y._context.plotGlPixelRatio),range:[(h._rl||h.range)[0],(M._rl||M.range)[0],(h._rl||h.range)[1],(M._rl||M.range)[1]]},at=E.repeat(X,o.count);o.fill2d&&o.fill2d.update(at),o.line2d&&o.line2d.update(at),o.error2d&&o.error2d.update(at.concat(at)),o.scatter2d&&o.scatter2d.update(at),o.select2d&&o.select2d.update(at),o.glText&&o.glText.forEach(function(_){_.update(X)})}}}).reglPrecompiled=a},38967:function(tt,W,t){"use strict";var A=t(71828);tt.exports=function(i,P){var E=P._scene,l={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},x={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return P._scene||((E=P._scene={}).init=function(){A.extendFlat(E,x,l)},E.init(),E.update=function(r){var f=A.repeat(r,E.count);if(E.fill2d&&E.fill2d.update(f),E.scatter2d&&E.scatter2d.update(f),E.line2d&&E.line2d.update(f),E.error2d&&E.error2d.update(f.concat(f)),E.select2d&&E.select2d.update(f),E.glText)for(var a=0;a<E.count;a++)E.glText[a].update(r)},E.draw=function(){for(var r=E.count,f=E.fill2d,a=E.error2d,s=E.line2d,c=E.scatter2d,u=E.glText,y=E.select2d,v=E.selectBatch,w=E.unselectBatch,d=0;d<r;d++){if(f&&E.fillOrder[d]&&f.draw(E.fillOrder[d]),s&&E.lineOptions[d]&&s.draw(d),a&&(E.errorXOptions[d]&&a.draw(d),E.errorYOptions[d]&&a.draw(d+r)),c&&E.markerOptions[d])if(w[d].length){var o=A.repeat([],E.count);o[d]=w[d],c.draw(o)}else v[d].length||c.draw(d);u[d]&&E.textOptions[d]&&u[d].render()}y&&y.draw(v),E.dirty=!1},E.destroy=function(){E.fill2d&&E.fill2d.destroy&&E.fill2d.destroy(),E.scatter2d&&E.scatter2d.destroy&&E.scatter2d.destroy(),E.error2d&&E.error2d.destroy&&E.error2d.destroy(),E.line2d&&E.line2d.destroy&&E.line2d.destroy(),E.select2d&&E.select2d.destroy&&E.select2d.destroy(),E.glText&&E.glText.forEach(function(r){r.destroy&&r.destroy()}),E.lineOptions=null,E.fillOptions=null,E.markerOptions=null,E.markerSelectedOptions=null,E.markerUnselectedOptions=null,E.errorXOptions=null,E.errorYOptions=null,E.textOptions=null,E.textSelectedOptions=null,E.textUnselectedOptions=null,E.selectBatch=null,E.unselectBatch=null,P._scene=null}),E.dirty||A.extendFlat(E,l),E}},58147:function(tt,W,t){"use strict";var A=t(34098),g=t(5345).styleTextSelection;tt.exports=function(P,E){var l=P.cd,x=P.xaxis,e=P.yaxis,r=[],f=l[0].trace,a=l[0].t,s=f._length,c=a.x,u=a.y,y=a._scene,v=a.index;if(!y)return r;var w=A.hasText(f),d=A.hasMarkers(f);if(!0!==f.visible||!d&&!w)return r;var h=[],M=[];if(!1!==E&&!E.degenerate)for(var T=0;T<s;T++)E.contains([a.xpx[T],a.ypx[T]],!1,T,P)?(h.push(T),r.push({pointNumber:T,x:x.c2d(c[T]),y:e.c2d(u[T])})):M.push(T);if(d){var L=y.scatter2d;if(h.length||M.length){if(!y.selectBatch[v].length&&!y.unselectBatch[v].length){var S=new Array(y.count);S[v]=y.markerUnselectedOptions[v],L.update.apply(L,S)}}else{var m=new Array(y.count);m[v]=y.markerOptions[v],L.update.apply(L,m)}}return y.selectBatch[v]=h,y.unselectBatch[v]=M,w&&g(l),r}},99181:function(tt,W,t){"use strict";var A=t(5386).fF,g=t(5386).si,i=t(19316),P=t(82196),E=t(23585),l=t(9012),x=t(50693),e=t(1426).extendFlat,r=t(30962).overrideAll,f=t(23585),a=i.line,s=i.marker;tt.exports=r({lon:i.lon,lat:i.lat,cluster:{enabled:{valType:"boolean"},maxzoom:e({},f.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:e({},s.opacity,{dflt:1})},mode:e({},P.mode,{dflt:"markers"}),text:e({},P.text,{}),texttemplate:g({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:e({},P.hovertext,{}),line:{color:a.color,width:a.width},connectgaps:P.connectgaps,marker:e({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:s.opacity,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode},x("marker")),fill:i.fill,fillcolor:P.fillcolor,textfont:E.layers.symbol.textfont,textposition:E.layers.symbol.textposition,below:{valType:"string"},selected:{marker:P.selected.marker},unselected:{marker:P.unselected.marker},hoverinfo:e({},l.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:A()},"calc","nested")},15790:function(tt,W,t){"use strict";var A=t(92770),g=t(71828),i=t(50606).BADNUM,P=t(18214),E=t(21081),l=t(91424),x=t(39984),e=t(34098),r=t(13056),f=t(23469).appendArrayPointValue,a=t(63893).NEWLINES,s=t(63893).BR_TAG_ALL;function c(h){return{type:h,geojson:P.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function v(h,M){return g.isArrayOrTypedArray(h)?M?function(T){return A(h[T])?+h[T]:0}:function(T){return h[T]}:h?function(){return h}:w}function w(){return""}function d(h){return h[0]===i}function o(h,M){var T;if(g.isArrayOrTypedArray(h)&&g.isArrayOrTypedArray(M)){T=["step",["get","point_count"],h[0]];for(var L=1;L<h.length;L++)T.push(M[L-1],h[L])}else T=h;return T}tt.exports=function(M,T){var U,L=T[0].trace,m=!0===L.visible&&0!==L._length,S="none"!==L.fill,b=e.hasLines(L),n=e.hasMarkers(L),C=e.hasText(L),p=n&&"circle"===L.marker.symbol,F=n&&"circle"!==L.marker.symbol,D=L.cluster&&L.cluster.enabled,N=c("fill"),k=c("line"),O=c("circle"),B=c("symbol"),z={fill:N,line:k,circle:O,symbol:B};if(!m)return z;if((S||b)&&(U=P.calcTraceToLineCoords(T)),S&&(N.geojson=P.makePolygon(U),N.layout.visibility="visible",g.extendFlat(N.paint,{"fill-color":L.fillcolor})),b&&(k.geojson=P.makeLine(U),k.layout.visibility="visible",g.extendFlat(k.paint,{"line-width":L.line.width,"line-color":L.line.color,"line-opacity":L.opacity})),p){var G=function u(h){var n,F,D,N,M=h[0].trace,T=M.marker,L=M.selectedpoints,m=g.isArrayOrTypedArray(T.color),S=g.isArrayOrTypedArray(T.size),b=g.isArrayOrTypedArray(T.opacity);function C(Q){return M.opacity*Q}m&&(F=E.hasColorscale(M,"marker")?E.makeColorScaleFuncFromTrace(T):g.identity),S&&(D=x(M)),b&&(N=function(Q){return C(A(Q)?+g.constrain(Q,0,1):0)});var U,k=[];for(n=0;n<h.length;n++){var O=h[n],B=O.lonlat;if(!d(B)){var z={};F&&(z.mcc=O.mcc=F(O.mc)),D&&(z.mrc=O.mrc=D(O.ms)),N&&(z.mo=N(O.mo)),L&&(z.selected=O.selected||0),k.push({type:"Feature",id:n+1,geometry:{type:"Point",coordinates:B},properties:z})}}if(L)for(U=l.makeSelectedPointStyleFns(M),n=0;n<k.length;n++){var G=k[n].properties;U.selectedOpacityFn&&(G.mo=C(U.selectedOpacityFn(G))),U.selectedColorFn&&(G.mcc=U.selectedColorFn(G)),U.selectedSizeFn&&(G.mrc=U.selectedSizeFn(G))}return{geojson:{type:"FeatureCollection",features:k},mcc:m||U&&U.selectedColorFn?{type:"identity",property:"mcc"}:T.color,mrc:S||U&&U.selectedSizeFn?{type:"identity",property:"mrc"}:function p(Q){return Q/2}(T.size),mo:b||U&&U.selectedOpacityFn?{type:"identity",property:"mo"}:C(T.opacity)}}(T);O.geojson=G.geojson,O.layout.visibility="visible",D&&(O.filter=["!",["has","point_count"]],z.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":o(L.cluster.color,L.cluster.step),"circle-radius":o(L.cluster.size,L.cluster.step),"circle-opacity":o(L.cluster.opacity,L.cluster.step)}},z.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),g.extendFlat(O.paint,{"circle-color":G.mcc,"circle-radius":G.mrc,"circle-opacity":G.mo})}if(p&&D&&(O.filter=["!",["has","point_count"]]),(F||C)&&(B.geojson=function y(h,M){for(var T=M._fullLayout,L=h[0].trace,m=L.marker||{},S=m.symbol,b=m.angle,n="circle"!==S?v(S):w,C="auto"!==b?v(b,!0):w,p=e.hasText(L)?v(L.text):w,F=[],D=0;D<h.length;D++){var N=h[D];if(!d(N.lonlat)){var O,k=L.texttemplate;if(k){var B=Array.isArray(k)?k[D]||"":k,z=L._module.formatLabels(N,L,T),U={};f(U,L,N.i),O=g.texttemplateString(B,z,T._d3locale,U,N,L._meta||{})}else O=p(D);O&&(O=O.replace(a,"").replace(s,"\n")),F.push({type:"Feature",geometry:{type:"Point",coordinates:N.lonlat},properties:{symbol:n(D),angle:C(D),text:O}})}}return{type:"FeatureCollection",features:F}}(T,M),g.extendFlat(B.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),F&&(g.extendFlat(B.layout,{"icon-size":L.marker.size/10}),"angle"in L.marker&&"auto"!==L.marker.angle&&g.extendFlat(B.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),B.layout["icon-allow-overlap"]=L.marker.allowoverlap,g.extendFlat(B.paint,{"icon-opacity":L.opacity*L.marker.opacity,"icon-color":L.marker.color})),C)){var rt=r(L.textposition,(L.marker||{}).size);g.extendFlat(B.layout,{"text-size":L.textfont.size,"text-anchor":rt.anchor,"text-offset":rt.offset}),g.extendFlat(B.paint,{"text-color":L.textfont.color,"text-opacity":L.opacity})}return z}},76645:function(tt,W,t){"use strict";var A=t(71828),g=t(34098),i=t(49508),P=t(11058),E=t(82410),l=t(28908),x=t(99181);tt.exports=function(f,a,s,c){function u(m,S){return A.coerce(f,a,x,m,S)}function y(m,S){return A.coerce2(f,a,x,m,S)}if(function e(r,f,a){var s=a("lon")||[],c=a("lat")||[],u=Math.min(s.length,c.length);return f._length=u,u}(0,a,u)){if(u("text"),u("texttemplate"),u("hovertext"),u("hovertemplate"),u("mode"),u("below"),g.hasLines(a)&&(P(f,a,s,c,u,{noDash:!0}),u("connectgaps")),g.hasMarkers(a)){i(f,a,s,c,u,{noLine:!0,noAngle:!0}),u("marker.allowoverlap"),u("marker.angle");var w=a.marker;"circle"!==w.symbol&&(A.isArrayOrTypedArray(w.size)&&(w.size=w.size[0]),A.isArrayOrTypedArray(w.color)&&(w.color=w.color[0]))}var d=y("cluster.maxzoom"),o=y("cluster.step"),h=y("cluster.color",a.marker&&a.marker.color||s),M=y("cluster.size"),T=y("cluster.opacity");u("cluster.enabled",!1!==d||!1!==o||!1!==h||!1!==M||!1!==T),g.hasText(a)&&E(f,a,c,u,{noSelect:!0}),u("fill"),"none"!==a.fill&&l(f,a,s,u),A.coerceSelectionMarkerOpacity(a,u)}else a.visible=!1}},53353:function(tt){"use strict";tt.exports=function(t,A){return t.lon=A.lon,t.lat=A.lat,t}},15636:function(tt,W,t){"use strict";var A=t(89298);tt.exports=function(i,P,E){var l={},e=E[P.subplot]._subplot.mockAxis,r=i.lonlat;return l.lonLabel=A.tickText(e,e.c2l(r[0]),!0).text,l.latLabel=A.tickText(e,e.c2l(r[1]),!0).text,l}},28178:function(tt,W,t){"use strict";var A=t(30211),g=t(71828),i=t(34603),P=g.fillText,E=t(50606).BADNUM,l=t(77734).traceLayerPrefix;function e(r,f,a){if(!r.hovertemplate){var c=(f.hi||r.hoverinfo).split("+"),u=-1!==c.indexOf("all"),y=-1!==c.indexOf("lon"),v=-1!==c.indexOf("lat"),w=f.lonlat,d=[];return u||y&&v?d.push("("+o(w[1])+", "+o(w[0])+")"):y?d.push(a.lon+o(w[0])):v&&d.push(a.lat+o(w[1])),(u||-1!==c.indexOf("text"))&&P(f,r,d),d.join("<br>")}function o(h){return h+"\xb0"}}tt.exports={hoverPoints:function x(r,f,a){var s=r.cd,c=s[0].trace,u=r.xa,y=r.ya,v=r.subplot,w=[],o=c.cluster&&c.cluster.enabled;if(o){var h=v.map.queryRenderedFeatures(null,{layers:[l+c.uid+"-circle"]});w=h.map(function(k){return k.id})}var T=360*(f>=0?Math.floor((f+180)/360):Math.ceil((f-180)/360)),L=f-T;if(A.getClosest(s,function m(k){var O=k.lonlat;if(O[0]===E||o&&-1===w.indexOf(k.i+1))return 1/0;var B=g.modHalf(O[0],360),z=O[1],U=v.project([B,z]),G=U.x-u.c2p([L,z]),Q=U.y-y.c2p([B,a]),rt=Math.max(3,k.mrc||0);return Math.max(Math.sqrt(G*G+Q*Q)-rt,1-3/rt)},r),!1!==r.index){var S=s[r.index],b=S.lonlat,n=[g.modHalf(b[0],360)+T,b[1]],C=u.c2p(n),p=y.c2p(n),F=S.mrc||1;r.x0=C-F,r.x1=C+F,r.y0=p-F,r.y1=p+F;var D={};D[c.subplot]={_subplot:v};var N=c._module.formatLabels(S,c,D);return r.lonLabel=N.lonLabel,r.latLabel=N.latLabel,r.color=i(c,S),r.extraText=e(c,S,s[0].t.labels),r.hovertemplate=c.hovertemplate,[r]}},getExtraText:e}},20467:function(tt,W,t){"use strict";tt.exports={attributes:t(99181),supplyDefaults:t(76645),colorbar:t(4898),formatLabels:t(15636),calc:t(84622),plot:t(86951),hoverPoints:t(28178).hoverPoints,eventData:t(53353),selectPoints:t(86387),styleOnSelect:function(A,g){g&&g[0].trace._glTrace.update(g)},moduleType:"trace",name:"scattermapbox",basePlotModule:t(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(tt,W,t){"use strict";var A=t(71828),g=t(15790),i=t(77734).traceLayerPrefix,P={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function E(x,e,r,f){this.type="scattermapbox",this.subplot=x,this.uid=e,this.clusterEnabled=r,this.isHidden=f,this.sourceIds={fill:"source-"+e+"-fill",line:"source-"+e+"-line",circle:"source-"+e+"-circle",symbol:"source-"+e+"-symbol",cluster:"source-"+e+"-circle",clusterCount:"source-"+e+"-circle"},this.layerIds={fill:i+e+"-fill",line:i+e+"-line",circle:i+e+"-circle",symbol:i+e+"-symbol",cluster:i+e+"-cluster",clusterCount:i+e+"-cluster-count"},this.below=null}var l=E.prototype;l.addSource=function(x,e,r){var f={type:"geojson",data:e.geojson};r&&r.enabled&&A.extendFlat(f,{cluster:!0,clusterMaxZoom:r.maxzoom});var a=this.subplot.map.getSource(this.sourceIds[x]);a?a.setData(e.geojson):this.subplot.map.addSource(this.sourceIds[x],f)},l.setSourceData=function(x,e){this.subplot.map.getSource(this.sourceIds[x]).setData(e.geojson)},l.addLayer=function(x,e,r){var f={type:e.type,id:this.layerIds[x],source:this.sourceIds[x],layout:e.layout,paint:e.paint};e.filter&&(f.filter=e.filter);for(var s,a=this.layerIds[x],c=this.subplot.getMapLayers(),u=0;u<c.length;u++)if(c[u].id===a){s=!0;break}s?(this.subplot.setOptions(a,"setLayoutProperty",f.layout),"visible"===f.layout.visibility&&this.subplot.setOptions(a,"setPaintProperty",f.paint)):this.subplot.addLayer(f,r)},l.update=function(e){var r=e[0].trace,f=this.subplot,a=f.map,s=g(f.gd,e),c=f.belowLookup["trace-"+this.uid],u=!(!r.cluster||!r.cluster.enabled),y=!!this.clusterEnabled,v=this;function M(b){y?function d(b){for(var n=P.cluster,C=n.length-1;C>=0;C--)a.removeLayer(v.layerIds[n[C]]);b||a.removeSource(v.sourceIds.circle)}(b):function h(b){for(var n=P.nonCluster,C=n.length-1;C>=0;C--){var p=n[C];a.removeLayer(v.layerIds[p]),b||a.removeSource(v.sourceIds[p])}}(b)}function T(b){u?function w(b){b||v.addSource("circle",s.circle,r.cluster);for(var n=P.cluster,C=0;C<n.length;C++){var p=n[C];v.addLayer(p,s[p],c)}}(b):function o(b){for(var n=P.nonCluster,C=0;C<n.length;C++){var p=n[C],F=s[p];b||v.addSource(p,F),v.addLayer(p,F,c)}}(b)}var m=this.isHidden,S=!0!==r.visible;S?m||M():m?S||T():y!==u?(M(),T()):(this.below!==c&&(M(!0),T(!0)),function L(){for(var b=u?P.cluster:P.nonCluster,n=0;n<b.length;n++){var C=b[n],p=s[C];!p||(f.setOptions(v.layerIds[C],"setLayoutProperty",p.layout),"visible"===p.layout.visibility&&("cluster"!==C&&v.setSourceData(C,p),f.setOptions(v.layerIds[C],"setPaintProperty",p.paint)))}}()),this.clusterEnabled=u,this.isHidden=S,this.below=c,e[0].trace._glTrace=this},l.dispose=function(){for(var e=this.subplot.map,r=this.clusterEnabled?P.cluster:P.nonCluster,f=r.length-1;f>=0;f--){var a=r[f];e.removeLayer(this.layerIds[a]),e.removeSource(this.sourceIds[a])}},tt.exports=function(e,r){var v,w,d,f=r[0].trace,a=f.cluster&&f.cluster.enabled,c=new E(e,f.uid,a,!0!==f.visible),u=g(e.gd,r),y=c.below=e.belowLookup["trace-"+f.uid];if(a)for(c.addSource("circle",u.circle,f.cluster),v=0;v<P.cluster.length;v++)c.addLayer(w=P.cluster[v],d=u[w],y);else for(v=0;v<P.nonCluster.length;v++)c.addSource(w=P.nonCluster[v],d=u[w],f.cluster),c.addLayer(w,d,y);return r[0].trace._glTrace=c,c}},86387:function(tt,W,t){"use strict";var A=t(71828),g=t(34098),i=t(50606).BADNUM;tt.exports=function(E,l){var s,x=E.cd,e=E.xaxis,r=E.yaxis,f=[];if(!g.hasMarkers(x[0].trace))return[];if(!1===l)for(s=0;s<x.length;s++)x[s].selected=0;else for(s=0;s<x.length;s++){var c=x[s],u=c.lonlat;if(u[0]!==i){var y=[A.modHalf(u[0],360),u[1]],v=[e.c2p(y),r.c2p(y)];l.contains(v,null,s,E)?(f.push({pointNumber:s,lon:u[0],lat:u[1]}),c.selected=1):c.selected=0}}return f}},81245:function(tt,W,t){"use strict";var A=t(5386).fF,g=t(5386).si,i=t(1426).extendFlat,P=t(82196),E=t(9012),l=P.line;tt.exports={mode:P.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:P.text,texttemplate:g({editType:"plot"},{keys:["r","theta","text"]}),hovertext:P.hovertext,line:{color:l.color,width:l.width,dash:l.dash,backoff:l.backoff,shape:i({},l.shape,{values:["linear","spline"]}),smoothing:l.smoothing,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,cliponaxis:i({},P.cliponaxis,{dflt:!1}),textposition:P.textposition,textfont:P.textfont,fill:i({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:P.fillcolor,hoverinfo:i({},E.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:P.hoveron,hovertemplate:A(),selected:P.selected,unselected:P.unselected}},26442:function(tt,W,t){"use strict";var A=t(92770),g=t(50606).BADNUM,i=t(89298),P=t(36922),E=t(75225),l=t(66279),x=t(47761).calcMarkerSize;tt.exports=function(r,f){for(var a=r._fullLayout,s=f.subplot,c=a[s].radialaxis,u=a[s].angularaxis,y=c.makeCalcdata(f,"r"),v=u.makeCalcdata(f,"theta"),w=f._length,d=new Array(w),o=0;o<w;o++){var h=y[o],M=v[o],T=d[o]={};A(h)&&A(M)?(T.r=h,T.theta=M):T.r=g}var L=x(f,w);return f._extremes.x=i.findExtremes(c,y,{ppad:L}),P(r,f),E(d,f),l(d,f),d}},22184:function(tt,W,t){"use strict";var A=t(71828),g=t(34098),i=t(49508),P=t(11058),E=t(94039),l=t(82410),x=t(28908),e=t(47581).PTS_LINESONLY,r=t(81245);function a(s,c,u,y){var d,v=y("r"),w=y("theta");if(v)w?d=Math.min(v.length,w.length):(d=v.length,y("theta0"),y("dtheta"));else{if(!w)return 0;d=c.theta.length,y("r0"),y("dr")}return c._length=d,d}tt.exports={handleRThetaDefaults:a,supplyDefaults:function f(s,c,u,y){function v(o,h){return A.coerce(s,c,r,o,h)}var w=a(0,c,0,v);if(w){v("thetaunit"),v("mode",w<e?"lines+markers":"lines"),v("text"),v("hovertext"),"fills"!==c.hoveron&&v("hovertemplate"),g.hasLines(c)&&(P(s,c,u,y,v,{backoff:!0}),E(s,c,v),v("connectgaps")),g.hasMarkers(c)&&i(s,c,u,y,v,{gradient:!0}),g.hasText(c)&&(v("texttemplate"),l(s,c,y,v));var d=[];(g.hasMarkers(c)||g.hasText(c))&&(v("cliponaxis"),v("marker.maxdisplayed"),d.push("points")),v("fill"),"none"!==c.fill&&(x(s,c,u,v),g.hasLines(c)||E(s,c,v)),("tonext"===c.fill||"toself"===c.fill)&&d.push("fills"),v("hoveron",d.join("+")||"points"),A.coerceSelectionMarkerOpacity(c,v)}else c.visible=!1}}},98608:function(tt,W,t){"use strict";var A=t(71828),g=t(89298);tt.exports=function(P,E,l){var r,f,x={},e=l[E.subplot]._subplot;e?(r=e.radialAxis,f=e.angularAxis):(r=(e=l[E.subplot]).radialaxis,f=e.angularaxis);var a=r.c2l(P.r);x.rLabel=g.tickText(r,a,!0).text;var s="degrees"===f.thetaunit?A.rad2deg(P.theta):P.theta;return x.thetaLabel=g.tickText(f,s,!0).text,x}},59150:function(tt,W,t){"use strict";var A=t(33720);function i(P,E,l,x){var e=l.radialAxis,r=l.angularAxis;e._hovertitle="r",r._hovertitle="\u03b8";var f={};f[E.subplot]={_subplot:l};var a=E._module.formatLabels(P,E,f);x.rLabel=a.rLabel,x.thetaLabel=a.thetaLabel;var c=[];function u(v,w){c.push(v._hovertitle+": "+w)}if(!E.hovertemplate){var y=(P.hi||E.hoverinfo).split("+");-1!==y.indexOf("all")&&(y=["r","theta","text"]),-1!==y.indexOf("r")&&u(e,x.rLabel),-1!==y.indexOf("theta")&&u(r,x.thetaLabel),-1!==y.indexOf("text")&&x.text&&(c.push(x.text),delete x.text),x.extraText=c.join("<br>")}}tt.exports={hoverPoints:function g(P,E,l,x){var e=A(P,E,l,x);if(e&&!1!==e[0].index){var r=e[0];if(void 0===r.index)return e;var f=P.subplot,a=r.cd[r.index],s=r.trace;if(f.isPtInside(a))return r.xLabelVal=void 0,r.yLabelVal=void 0,i(a,s,f,r),r.hovertemplate=s.hovertemplate,e}},makeHoverPointText:i}},91271:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:t(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:t(81245),supplyDefaults:t(22184).supplyDefaults,colorbar:t(4898),formatLabels:t(98608),calc:t(26442),plot:t(45162),style:t(16296).style,styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(59150).hoverPoints,selectPoints:t(98002),meta:{}}},45162:function(tt,W,t){"use strict";var A=t(32663),g=t(50606).BADNUM;tt.exports=function(P,E,l){for(var x=E.layers.frontplot.select("g.scatterlayer"),e=E.xaxis,r=E.yaxis,f={xaxis:e,yaxis:r,plot:E.framework,layerClipId:E._hasClipOnAxisFalse?E.clipIds.forTraces:null},a=E.radialAxis,s=E.angularAxis,c=0;c<l.length;c++)for(var u=l[c],y=0;y<u.length;y++){0===y&&(u[0].trace._xA=e,u[0].trace._yA=r);var v=u[y],w=v.r;if(w===g)v.x=v.y=g;else{var d=a.c2g(w),o=s.c2g(v.theta);v.x=d*Math.cos(o),v.y=d*Math.sin(o)}}A(P,f,l,x)}},53286:function(tt,W,t){"use strict";var A=t(81245),g=t(42341),i=t(5386).si;tt.exports={mode:A.mode,r:A.r,theta:A.theta,r0:A.r0,dr:A.dr,theta0:A.theta0,dtheta:A.dtheta,thetaunit:A.thetaunit,text:A.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:A.hovertext,hovertemplate:A.hovertemplate,line:g.line,connectgaps:g.connectgaps,marker:g.marker,fill:g.fill,fillcolor:g.fillcolor,textposition:g.textposition,textfont:g.textfont,hoverinfo:A.hoverinfo,selected:A.selected,unselected:A.unselected}},65746:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:t(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:t(53286),supplyDefaults:t(75485),colorbar:t(4898),formatLabels:t(46255),calc:t(37499),hoverPoints:t(29347).hoverPoints,selectPoints:t(58147),meta:{}}},37499:function(tt,W,t){"use strict";var A=t(36922),g=t(47761).calcMarkerSize,i=t(19635),P=t(89298),E=t(78232).TOO_MANY_POINTS;tt.exports=function(x,e){var r=x._fullLayout,f=e.subplot,a=r[f].radialaxis,s=r[f].angularaxis,c=e._r=a.makeCalcdata(e,"r"),u=e._theta=s.makeCalcdata(e,"theta"),y=e._length,v={};y<c.length&&(c=c.slice(0,y)),y<u.length&&(u=u.slice(0,y)),v.r=c,v.theta=u,A(x,e);var d,w=v.opts=i.style(x,e);return y<E?d=g(e,y):w.marker&&(d=2*(w.marker.sizeAvg||Math.max(w.marker.size,3))),e._extremes.x=P.findExtremes(a,c,{ppad:d}),[{x:!1,y:!1,t:v,trace:e}]}},75485:function(tt,W,t){"use strict";var A=t(71828),g=t(34098),i=t(22184).handleRThetaDefaults,P=t(49508),E=t(11058),l=t(82410),x=t(28908),e=t(47581).PTS_LINESONLY,r=t(53286);tt.exports=function(a,s,c,u){function y(w,d){return A.coerce(a,s,r,w,d)}var v=i(a,s,u,y);v?(y("thetaunit"),y("mode",v<e?"lines+markers":"lines"),y("text"),y("hovertext"),"fills"!==s.hoveron&&y("hovertemplate"),g.hasLines(s)&&(E(a,s,c,u,y),y("connectgaps")),g.hasMarkers(s)&&P(a,s,c,u,y,{noAngleRef:!0,noStandOff:!0}),g.hasText(s)&&(y("texttemplate"),l(a,s,u,y)),y("fill"),"none"!==s.fill&&x(a,s,c,y),A.coerceSelectionMarkerOpacity(s,y)):s.visible=!1}},46255:function(tt,W,t){"use strict";var A=t(98608);tt.exports=function(i,P,E){var l=i.i;return"r"in i||(i.r=P._r[l]),"theta"in i||(i.theta=P._theta[l]),A(i,P,E)}},29347:function(tt,W,t){"use strict";var A=t(20794),g=t(59150).makeHoverPointText;tt.exports={hoverPoints:function i(P,E,l,x){var r=P.cd[0].t,f=r.r,a=r.theta,s=A.hoverPoints(P,E,l,x);if(s&&!1!==s[0].index){var c=s[0];if(void 0===c.index)return s;var u=P.subplot,y=c.cd[c.index],v=c.trace;if(y.r=f[c.index],y.theta=a[c.index],u.isPtInside(y))return c.xLabelVal=void 0,c.yLabelVal=void 0,g(y,v,u,c),s}}}},21461:function(tt,W,t){"use strict";var A=t(65746);A.plot=t(49741),tt.exports=A},49741:function(tt,W,t){"use strict";var A=t(88294),g=t(92770),i=t(26787),P=t(38967),E=t(19635),l=t(71828),x=t(78232).TOO_MANY_POINTS;tt.exports=function(f,a,s){if(s.length){var c=a.radialAxis,u=a.angularAxis,y=P(f,a);return s.forEach(function(v){if(v&&v[0]&&v[0].trace){var m,w=v[0],d=w.trace,o=w.t,h=d._length,M=o.r,T=o.theta,L=o.opts,S=M.slice(),b=T.slice();for(m=0;m<M.length;m++)a.isPtInside({r:M[m],theta:T[m]})||(S[m]=NaN,b[m]=NaN);var n=new Array(2*h),C=Array(h),p=Array(h);for(m=0;m<h;m++){var D,N,F=S[m];if(g(F)){var k=c.c2g(F),O=u.c2g(b[m],d.thetaunit);D=k*Math.cos(O),N=k*Math.sin(O)}else D=N=NaN;C[m]=n[2*m]=D,p[m]=n[2*m+1]=N}o.tree=A(n),L.marker&&h>=x&&(L.marker.cluster=o.tree),L.marker&&(L.markerSel.positions=L.markerUnsel.positions=L.marker.positions=n),L.line&&n.length>1&&l.extendFlat(L.line,E.linePositions(f,d,n)),L.text&&(l.extendFlat(L.text,{positions:n},E.textPosition(f,d,L.text,L.marker)),l.extendFlat(L.textSel,{positions:n},E.textPosition(f,d,L.text,L.markerSel)),l.extendFlat(L.textUnsel,{positions:n},E.textPosition(f,d,L.text,L.markerUnsel))),L.fill&&!y.fill2d&&(y.fill2d=!0),L.marker&&!y.scatter2d&&(y.scatter2d=!0),L.line&&!y.line2d&&(y.line2d=!0),L.text&&!y.glText&&(y.glText=!0),y.lineOptions.push(L.line),y.fillOptions.push(L.fill),y.markerOptions.push(L.marker),y.markerSelectedOptions.push(L.markerSel),y.markerUnselectedOptions.push(L.markerUnsel),y.textOptions.push(L.text),y.textSelectedOptions.push(L.textSel),y.textUnselectedOptions.push(L.textUnsel),y.selectBatch.push([]),y.unselectBatch.push([]),o.x=C,o.y=p,o.rawx=C,o.rawy=p,o.r=M,o.theta=T,o.positions=n,o._scene=y,o.index=y.count,y.count++}}),i(f,a,s)}},tt.exports.reglPrecompiled={}},48300:function(tt,W,t){"use strict";var A=t(5386).fF,g=t(5386).si,i=t(1426).extendFlat,P=t(82196),E=t(9012),l=P.line;tt.exports={mode:P.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:P.text,texttemplate:g({editType:"plot"},{keys:["real","imag","text"]}),hovertext:P.hovertext,line:{color:l.color,width:l.width,dash:l.dash,backoff:l.backoff,shape:i({},l.shape,{values:["linear","spline"]}),smoothing:l.smoothing,editType:"calc"},connectgaps:P.connectgaps,marker:P.marker,cliponaxis:i({},P.cliponaxis,{dflt:!1}),textposition:P.textposition,textfont:P.textfont,fill:i({},P.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:P.fillcolor,hoverinfo:i({},E.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:P.hoveron,hovertemplate:A(),selected:P.selected,unselected:P.unselected}},30621:function(tt,W,t){"use strict";var A=t(92770),g=t(50606).BADNUM,i=t(36922),P=t(75225),E=t(66279),l=t(47761).calcMarkerSize;tt.exports=function(e,r){for(var f=e._fullLayout,a=r.subplot,c=f[a].imaginaryaxis,u=f[a].realaxis.makeCalcdata(r,"real"),y=c.makeCalcdata(r,"imag"),v=r._length,w=new Array(v),d=0;d<v;d++){var o=u[d],h=y[d],M=w[d]={};A(o)&&A(h)?(M.real=o,M.imag=h):M.real=g}return l(r,v),i(e,r),P(w,r),E(w,r),w}},65269:function(tt,W,t){"use strict";var A=t(71828),g=t(34098),i=t(49508),P=t(11058),E=t(94039),l=t(82410),x=t(28908),e=t(47581).PTS_LINESONLY,r=t(48300);tt.exports=function(s,c,u,y){function v(o,h){return A.coerce(s,c,r,o,h)}var w=function f(a,s,c,u){var w,y=u("real"),v=u("imag");return y&&v&&(w=Math.min(y.length,v.length)),s._length=w,w}(0,c,0,v);if(w){v("mode",w<e?"lines+markers":"lines"),v("text"),v("hovertext"),"fills"!==c.hoveron&&v("hovertemplate"),g.hasLines(c)&&(P(s,c,u,y,v,{backoff:!0}),E(s,c,v),v("connectgaps")),g.hasMarkers(c)&&i(s,c,u,y,v,{gradient:!0}),g.hasText(c)&&(v("texttemplate"),l(s,c,y,v));var d=[];(g.hasMarkers(c)||g.hasText(c))&&(v("cliponaxis"),v("marker.maxdisplayed"),d.push("points")),v("fill"),"none"!==c.fill&&(x(s,c,u,v),g.hasLines(c)||E(s,c,v)),("tonext"===c.fill||"toself"===c.fill)&&d.push("fills"),v("hoveron",d.join("+")||"points"),A.coerceSelectionMarkerOpacity(c,v)}else c.visible=!1}},62047:function(tt,W,t){"use strict";var A=t(89298);tt.exports=function(i,P,E){var l={},x=E[P.subplot]._subplot;return l.realLabel=A.tickText(x.radialAxis,i.real,!0).text,l.imagLabel=A.tickText(x.angularAxis,i.imag,!0).text,l}},11350:function(tt,W,t){"use strict";var A=t(33720);function i(P,E,l,x){var e=l.radialAxis,r=l.angularAxis;e._hovertitle="real",r._hovertitle="imag";var f={};f[E.subplot]={_subplot:l};var a=E._module.formatLabels(P,E,f);x.realLabel=a.realLabel,x.imagLabel=a.imagLabel;var c=[];function u(v,w){c.push(v._hovertitle+": "+w)}if(!E.hovertemplate){var y=(P.hi||E.hoverinfo).split("+");-1!==y.indexOf("all")&&(y=["real","imag","text"]),-1!==y.indexOf("real")&&u(e,x.realLabel),-1!==y.indexOf("imag")&&u(r,x.imagLabel),-1!==y.indexOf("text")&&x.text&&(c.push(x.text),delete x.text),x.extraText=c.join("<br>")}}tt.exports={hoverPoints:function g(P,E,l,x){var e=A(P,E,l,x);if(e&&!1!==e[0].index){var r=e[0];if(void 0===r.index)return e;var f=P.subplot,a=r.cd[r.index],s=r.trace;if(f.isPtInside(a))return r.xLabelVal=void 0,r.yLabelVal=void 0,i(a,s,f,r),r.hovertemplate=s.hovertemplate,e}},makeHoverPointText:i}},85956:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"scattersmith",basePlotModule:t(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:t(48300),supplyDefaults:t(65269),colorbar:t(4898),formatLabels:t(62047),calc:t(30621),plot:t(12480),style:t(16296).style,styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(11350).hoverPoints,selectPoints:t(98002),meta:{}}},12480:function(tt,W,t){"use strict";var A=t(32663),g=t(50606).BADNUM,P=t(23893).smith;tt.exports=function(l,x,e){for(var r=x.layers.frontplot.select("g.scatterlayer"),f=x.xaxis,a=x.yaxis,s={xaxis:f,yaxis:a,plot:x.framework,layerClipId:x._hasClipOnAxisFalse?x.clipIds.forTraces:null},c=0;c<e.length;c++)for(var u=e[c],y=0;y<u.length;y++){0===y&&(u[0].trace._xA=f,u[0].trace._yA=a);var v=u[y],w=v.real;if(w===g)v.x=v.y=g;else{var d=P([w,v.imag]);v.x=d[0],v.y=d[1]}}A(l,s,e,r)}},50413:function(tt,W,t){"use strict";var A=t(5386).fF,g=t(5386).si,i=t(82196),P=t(9012),E=t(50693),l=t(79952).P,x=t(1426).extendFlat,e=i.marker,r=i.line,f=e.line;tt.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:x({},i.mode,{dflt:"markers"}),text:x({},i.text,{}),texttemplate:g({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:x({},i.hovertext,{}),line:{color:r.color,width:r.width,dash:l,backoff:r.backoff,shape:x({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:i.connectgaps,cliponaxis:i.cliponaxis,fill:x({},i.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:i.fillcolor,marker:x({symbol:e.symbol,opacity:e.opacity,angle:e.angle,angleref:e.angleref,standoff:e.standoff,maxdisplayed:e.maxdisplayed,size:e.size,sizeref:e.sizeref,sizemin:e.sizemin,sizemode:e.sizemode,line:x({width:f.width,editType:"calc"},E("marker.line")),gradient:e.gradient,editType:"calc"},E("marker")),textfont:i.textfont,textposition:i.textposition,selected:i.selected,unselected:i.unselected,hoverinfo:x({},P.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:i.hoveron,hovertemplate:A()}},54337:function(tt,W,t){"use strict";var A=t(92770),g=t(36922),i=t(75225),P=t(66279),E=t(47761).calcMarkerSize,l=["a","b","c"],x={a:["b","c"],b:["a","c"],c:["a","b"]};tt.exports=function(r,f){var y,v,w,d,o,h,s=r._fullLayout[f.subplot].sum,c=f.sum||s,u={a:f.a,b:f.b,c:f.c};for(y=0;y<l.length;y++)if(!u[w=l[y]]){for(o=u[x[w][0]],h=u[x[w][1]],d=new Array(o.length),v=0;v<o.length;v++)d[v]=c-o[v]-h[v];u[w]=d}var L,m,S,b,M=f._length,T=new Array(M);for(y=0;y<M;y++)m=u.b[y],S=u.c[y],A(L=u.a[y])&&A(m)&&A(S)?(1!=(b=s/((L=+L)+(m=+m)+(S=+S)))&&(L*=b,m*=b,S*=b),T[y]={x:S-m,y:L,a:L,b:m,c:S}):T[y]={x:!1,y:!1};return E(f,M),g(r,f),i(T,f),P(T,f),T}},46008:function(tt,W,t){"use strict";var A=t(71828),g=t(47581),i=t(34098),P=t(49508),E=t(11058),l=t(94039),x=t(82410),e=t(28908),r=t(50413);tt.exports=function(a,s,c,u){function y(T,L){return A.coerce(a,s,r,T,L)}var o,v=y("a"),w=y("b"),d=y("c");if(v?(o=v.length,w?(o=Math.min(o,w.length),d&&(o=Math.min(o,d.length))):o=d?Math.min(o,d.length):0):w&&d&&(o=Math.min(w.length,d.length)),o){s._length=o,y("sum"),y("text"),y("hovertext"),"fills"!==s.hoveron&&y("hovertemplate"),y("mode",o<g.PTS_LINESONLY?"lines+markers":"lines"),i.hasLines(s)&&(E(a,s,c,u,y,{backoff:!0}),l(a,s,y),y("connectgaps")),i.hasMarkers(s)&&P(a,s,c,u,y,{gradient:!0}),i.hasText(s)&&(y("texttemplate"),x(a,s,u,y));var M=[];(i.hasMarkers(s)||i.hasText(s))&&(y("cliponaxis"),y("marker.maxdisplayed"),M.push("points")),y("fill"),"none"!==s.fill&&(e(a,s,c,y),i.hasLines(s)||l(a,s,y)),("tonext"===s.fill||"toself"===s.fill)&&M.push("fills"),y("hoveron",M.join("+")||"points"),A.coerceSelectionMarkerOpacity(s,y)}else s.visible=!1}},4524:function(tt){"use strict";tt.exports=function(t,A,g,i,P){if(A.xa&&(t.xaxis=A.xa),A.ya&&(t.yaxis=A.ya),i[P]){var E=i[P];t.a=E.a,t.b=E.b,t.c=E.c}else t.a=A.a,t.b=A.b,t.c=A.c;return t}},93645:function(tt,W,t){"use strict";var A=t(89298);tt.exports=function(i,P,E){var l={},x=E[P.subplot]._subplot;return l.aLabel=A.tickText(x.aaxis,i.a,!0).text,l.bLabel=A.tickText(x.baxis,i.b,!0).text,l.cLabel=A.tickText(x.caxis,i.c,!0).text,l}},47250:function(tt,W,t){"use strict";var A=t(33720);tt.exports=function(i,P,E,l){var x=A(i,P,E,l);if(x&&!1!==x[0].index){var e=x[0];if(void 0===e.index){var f=i.xa._length,a=f*(1-e.y0/i.ya._length)/2,s=f-a;return e.x0=Math.max(Math.min(e.x0,s),a),e.x1=Math.max(Math.min(e.x1,s),a),x}var c=e.cd[e.index],u=e.trace,y=e.subplot;e.a=c.a,e.b=c.b,e.c=c.c,e.xLabelVal=void 0,e.yLabelVal=void 0;var v={};v[u.subplot]={_subplot:y};var w=u._module.formatLabels(c,u,v);e.aLabel=w.aLabel,e.bLabel=w.bLabel,e.cLabel=w.cLabel;var o=[];if(!u.hovertemplate){var M=(c.hi||u.hoverinfo).split("+");-1!==M.indexOf("all")&&(M=["a","b","c"]),-1!==M.indexOf("a")&&h(y.aaxis,e.aLabel),-1!==M.indexOf("b")&&h(y.baxis,e.bLabel),-1!==M.indexOf("c")&&h(y.caxis,e.cLabel)}return e.extraText=o.join("<br>"),e.hovertemplate=u.hovertemplate,x}function h(T,L){o.push(T._hovertitle+": "+L)}}},52979:function(tt,W,t){"use strict";tt.exports={attributes:t(50413),supplyDefaults:t(46008),colorbar:t(4898),formatLabels:t(93645),calc:t(54337),plot:t(7507),style:t(16296).style,styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(47250),selectPoints:t(98002),eventData:t(4524),moduleType:"trace",name:"scatterternary",basePlotModule:t(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(tt,W,t){"use strict";var A=t(32663);tt.exports=function(i,P,E){var l=P.plotContainer;l.select(".scatterlayer").selectAll("*").remove();for(var x=P.xaxis,e=P.yaxis,r={xaxis:x,yaxis:e,plot:l,layerClipId:P._hasClipOnAxisFalse?P.clipIdRelative:null},f=P.layers.frontplot.select("g.scatterlayer"),a=0;a<E.length;a++){var s=E[a];s.length&&(s[0].trace._xA=x,s[0].trace._yA=e)}A(i,r,E,f)}},46880:function(tt,W,t){"use strict";var A=t(82196),g=t(50693),i=t(12663).axisHoverFormat,P=t(5386).fF,E=t(42341),l=t(85555).idRegex,x=t(44467).templatedArray,e=t(1426).extendFlat,r=A.marker,f=r.line,a=e(g("marker.line",{editTypeOverride:"calc"}),{width:e({},f.width,{editType:"calc"}),editType:"calc"}),s=e(g("marker"),{symbol:r.symbol,angle:r.angle,size:e({},r.size,{editType:"markerSize"}),sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:a,editType:"calc"});function c(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:l[u],editType:"plot"}}}s.color.editType=s.cmin.editType=s.cmax.editType="style",tt.exports={dimensions:x("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:e({},E.text,{}),hovertext:e({},E.hovertext,{}),hovertemplate:P(),xhoverformat:i("x"),yhoverformat:i("y"),marker:s,xaxes:c("x"),yaxes:c("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:E.selected.marker,editType:"calc"},unselected:{marker:E.unselected.marker,editType:"calc"},opacity:E.opacity}},65017:function(tt,W,t){"use strict";var A=t(73972),g=t(83312);tt.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:t(46880),supplyDefaults:t(25784),colorbar:t(4898),calc:t(87625),plot:t(79410),hoverPoints:t(8567).hoverPoints,selectPoints:t(8689),editStyle:t(28801),meta:{}},A.register(g)},16947:function(tt,W,t){"use strict";var A=t(46075),g=t(73972),i=t(79749),P=t(27659).a0,E=t(93612),l=t(41675).getFromId,x=t(89298).shouldShowZeroLine,e="splom",r={};function s(v,w,d){for(var h=w._visibleDims,M=d.viewOpts.ranges=new Array(d.matrixOptions.data.length),T=0;T<h.length;T++){var L=h[T],m=M[T]=new Array(4),S=l(v,w._diag[L][0]);S&&(m[0]=S.r2l(S.range[0]),m[2]=S.r2l(S.range[1]));var b=l(v,w._diag[L][1]);b&&(m[1]=b.r2l(b.range[0]),m[3]=b.r2l(b.range[1]))}d.selectBatch.length||d.unselectBatch.length?d.matrix.update({ranges:M},{ranges:M}):d.matrix.update({ranges:M})}function c(v){var w=v._fullLayout,d=w._glcanvas.data()[0].regl,o=w._splomGrid;o||(o=w._splomGrid=A(d)),o.update(function u(v){var T,w=v._context.plotGlPixelRatio,d=v._fullLayout,o=d._size,h=[0,0,d.width*w,d.height*w],M={};function L(G,Q,rt,it,ut,J){rt*=w,it*=w,ut*=w,J*=w;var j=Q[G+"color"],Z=Q[G+"width"],H=String(j+Z);H in M?M[H].data.push(NaN,NaN,rt,it,ut,J):M[H]={data:[rt,it,ut,J],join:"rect",thickness:Z*w,color:j,viewport:h,range:h,overlay:!1}}for(T in d._splomSubplots){var B,z,m=d._plots[T],S=m.xaxis,b=m.yaxis,n=S._gridVals,C=b._gridVals,p=S._offset,F=S._length,D=b._length,N=o.b+b.domain[0]*o.h,k=-b._m,O=-k*b.r2l(b.range[0],b.calendar);if(S.showgrid)for(T=0;T<n.length;T++)B=p+S.l2p(n[T].x),L("grid",S,B,N,B,N+D);if(b.showgrid)for(T=0;T<C.length;T++)L("grid",b,p,z=N+O+k*C[T].x,p+F,z);x(v,S,b)&&(B=p+S.l2p(0),L("zeroline",S,B,N,B,N+D)),x(v,b,S)&&L("zeroline",b,p,z=N+O+0,p+F,z)}var U=[];for(T in M)U.push(M[T]);return U}(v))}tt.exports={name:e,attr:E.attr,attrRegex:E.attrRegex,layoutAttributes:E.layoutAttributes,supplyLayoutDefaults:E.supplyLayoutDefaults,drawFramework:E.drawFramework,plot:function f(v){var w=v._fullLayout,d=g.getModule(e),o=P(v.calcdata,d)[0];!i(v,["ANGLE_instanced_arrays","OES_element_index_uint"],r)||(w._hasOnlyLargeSploms&&c(v),d.plot(v,{},o))},drag:function a(v){var w=v.calcdata,d=v._fullLayout;d._hasOnlyLargeSploms&&c(v);for(var o=0;o<w.length;o++){var M=w[o][0].trace,T=d._splomScenes[M.uid];"splom"===M.type&&T&&T.matrix&&s(v,M,T)}},updateGrid:c,clean:function y(v,w,d,o){var M,h={};if(o._splomScenes){for(M=0;M<v.length;M++){var T=v[M];"splom"===T.type&&(h[T.uid]=1)}for(M=0;M<d.length;M++){var L=d[M];if(!h[L.uid]){var m=o._splomScenes[L.uid];m&&m.destroy&&m.destroy(),o._splomScenes[L.uid]=null,delete o._splomScenes[L.uid]}}}0===Object.keys(o._splomScenes||{}).length&&delete o._splomScenes,o._splomGrid&&!w._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),E.clean(v,w,d,o)},updateFx:E.updateFx,toSVG:E.toSVG,reglPrecompiled:r}},87625:function(tt,W,t){"use strict";var A=t(71828),g=t(41675),i=t(47761).calcMarkerSize,P=t(47761).calcAxisExpansion,E=t(36922),l=t(19635).markerSelection,x=t(19635).markerStyle,e=t(10164),r=t(50606).BADNUM,f=t(78232).TOO_MANY_POINTS;tt.exports=function(s,c){var h,M,T,L,m,C,u=c.dimensions,y=c._length,v={},w=v.cdata=[],d=v.data=[],o=c._visibleDims=[];function S(F,D){for(var N=F.makeCalcdata({v:D.values,vcalendar:c.calendar},"v"),k=0;k<N.length;k++)N[k]=N[k]===r?NaN:N[k];w.push(N),d.push("log"===F.type?A.simpleMap(N,F.c2l):N)}for(h=0;h<u.length;h++)if((T=u[h]).visible){if(L=g.getFromId(s,c._diag[h][0]),m=g.getFromId(s,c._diag[h][1]),L&&m&&L.type!==m.type){A.log("Skipping splom dimension "+h+" with conflicting axis types");continue}L?(S(L,T),m&&"category"===m.type&&(m._categories=L._categories.slice())):S(m,T),o.push(h)}for(E(s,c),A.extendFlat(v,x(s,c)),C=w.length*y>f?v.sizeAvg||Math.max(v.size,3):i(c,y),M=0;M<o.length;M++)T=u[h=o[M]],L=g.getFromId(s,c._diag[h][0])||{},m=g.getFromId(s,c._diag[h][1])||{},P(s,c,L,m,w[M],w[M],C);var p=e(s,c);return p.matrix||(p.matrix=!0),p.matrixOptions=v,p.selectedOptions=l(s,c,c.selected),p.unselectedOptions=l(s,c,c.unselected),[{x:!1,y:!1,t:{},trace:c}]}},25784:function(tt,W,t){"use strict";var A=t(71828),g=t(85501),i=t(46880),P=t(34098),E=t(49508),l=t(94397),x=t(68645).isOpenSymbol;function e(f,a){function s(u,y){return A.coerce(f,a,i.dimensions,u,y)}s("label");var c=s("values");c&&c.length?s("visible"):a.visible=!1,s("axis.type"),s("axis.matches")}tt.exports=function(a,s,c,u){function y(L,m){return A.coerce(a,s,i,L,m)}var v=g(a,s,{name:"dimensions",handleItemDefaults:e}),w=y("diagonal.visible"),d=y("showupperhalf"),o=y("showlowerhalf");if(l(s,v,"values")&&(w||d||o)){y("text"),y("hovertext"),y("hovertemplate"),y("xhoverformat"),y("yhoverformat"),E(a,s,c,u,y,{noAngleRef:!0,noStandOff:!0});var M=x(s.marker.symbol),T=P.isBubble(s);y("marker.line.width",M||T?1:0),function r(f,a,s,c){var o,h,u=a.dimensions,y=u.length,v=a.showupperhalf,w=a.showlowerhalf,d=a.diagonal.visible,M=new Array(y),T=new Array(y);for(o=0;o<y;o++){var L=o?o+1:"";M[o]="x"+L,T[o]="y"+L}var m=c("xaxes",M),S=c("yaxes",T),b=a._diag=new Array(y);a._xaxes={},a._yaxes={};var n=[],C=[];function p(G,Q,rt,it){if(G){var ut=G.charAt(0),J=s._splomAxes[ut];if(a["_"+ut+"axes"][G]=1,it.push(G),!(G in J)){var j=J[G]={};rt&&(j.label=rt.label||"",rt.visible&&rt.axis&&(rt.axis.type&&(j.type=rt.axis.type),rt.axis.matches&&(j.matches=Q)))}}}var F=!d&&!w,D=!d&&!v;for(a._axesDim={},o=0;o<y;o++){var N=u[o],k=0===o,O=o===y-1,B=k&&F||O&&D?void 0:m[o],z=k&&D||O&&F?void 0:S[o];p(B,z,N,n),p(z,B,N,C),b[o]=[B,z],a._axesDim[B]=o,a._axesDim[z]=o}for(o=0;o<n.length;o++)for(h=0;h<C.length;h++)(o>h&&v||o<h&&w||o===h&&(d||!w||!v))&&(s._splomSubplots[n[o]+C[h]]=1);(!w||!d&&v&&w)&&(s._splomGridDflt.xside="bottom",s._splomGridDflt.yside="left")}(0,s,u,y),A.coerceSelectionMarkerOpacity(s,y)}else s.visible=!1}},28801:function(tt,W,t){"use strict";var A=t(71828),g=t(36922),i=t(19635).markerStyle;tt.exports=function(E,l){var x=l.trace,e=E._fullLayout._splomScenes[x.uid];if(e){g(E,x),A.extendFlat(e.matrixOptions,i(E,x));var r=A.extendFlat({},e.matrixOptions,e.viewOpts);e.matrix.update(r,null)}}},35948:function(tt,W){"use strict";W.getDimIndex=function(A,g){for(var i=g._id,E={x:0,y:1}[i.charAt(0)],l=A._visibleDims,x=0;x<l.length;x++)if(A._diag[l[x]][E]===i)return x;return!1}},8567:function(tt,W,t){"use strict";var A=t(35948),g=t(20794).calcHover;tt.exports={hoverPoints:function i(P,E,l){var e=P.cd[0].trace,f=P.scene.matrixOptions.cdata,a=P.xa,s=P.ya,c=a.c2p(E),u=s.c2p(l),y=P.distance,v=A.getDimIndex(e,a),w=A.getDimIndex(e,s);if(!1===v||!1===w)return[P];for(var h,M,d=f[v],o=f[w],T=y,L=0;L<d.length;L++){var S=o[L],b=a.c2p(d[L])-c,n=s.c2p(S)-u,C=Math.sqrt(b*b+n*n);C<T&&(T=M=C,h=L)}return P.index=h,P.distance=T,P.dxy=M,void 0===h?[P]:[g(P,d,o,e)]}}},6419:function(tt,W,t){"use strict";var A=t(65017);A.basePlotModule=t(16947),tt.exports=A},79410:function(tt,W,t){"use strict";var A=t(60487),g=t(71828),i=t(41675),P=t(64505).selectMode;function E(l,x){var w,d,o,h,M,e=l._fullLayout,r=e._size,f=x.trace,a=x.t,s=e._splomScenes[f.uid],c=s.matrixOptions,u=c.cdata,y=e._glcanvas.data()[0].regl,v=e.dragmode;if(0!==u.length){c.lower=f.showupperhalf,c.upper=f.showlowerhalf,c.diagonal=f.diagonal.visible;var T=f._visibleDims,L=u.length,m=s.viewOpts={};for(m.ranges=new Array(L),m.domains=new Array(L),M=0;M<T.length;M++){o=T[M];var S=m.ranges[M]=new Array(4),b=m.domains[M]=new Array(4);(w=i.getFromId(l,f._diag[o][0]))&&(S[0]=w._rl[0],S[2]=w._rl[1],b[0]=w.domain[0],b[2]=w.domain[1]),(d=i.getFromId(l,f._diag[o][1]))&&(S[1]=d._rl[0],S[3]=d._rl[1],b[1]=d.domain[0],b[3]=d.domain[1])}var n=l._context.plotGlPixelRatio,C=r.l*n,p=r.b*n;m.viewport=[C,p,r.w*n+C,r.h*n+p],!0===s.matrix&&(s.matrix=A(y));var N=e.clickmode.indexOf("select")>-1,O=!0;if(P(v)||f.selectedpoints||N){var B=f._length;if(f.selectedpoints){s.selectBatch=f.selectedpoints;var z=f.selectedpoints,U={};for(o=0;o<z.length;o++)U[z[o]]=!0;var G=[];for(o=0;o<B;o++)U[o]||G.push(o);s.unselectBatch=G}var Q=a.xpx=new Array(L),rt=a.ypx=new Array(L);for(M=0;M<T.length;M++){if(w=i.getFromId(l,f._diag[o=T[M]][0]))for(Q[M]=new Array(B),h=0;h<B;h++)Q[M][h]=w.c2p(u[M][h]);if(d=i.getFromId(l,f._diag[o][1]))for(rt[M]=new Array(B),h=0;h<B;h++)rt[M][h]=d.c2p(u[M][h])}if(s.selectBatch.length||s.unselectBatch.length){var it=g.extendFlat({},c,s.unselectedOptions,m),ut=g.extendFlat({},c,s.selectedOptions,m);s.matrix.update(it,ut),O=!1}}else a.xpx=a.ypx=null;if(O){var J=g.extendFlat({},c,m);s.matrix.update(J,null)}}}tt.exports=function(x,e,r){if(r.length)for(var f=0;f<r.length;f++)E(x,r[f][0])}},10164:function(tt,W,t){"use strict";var A=t(71828);tt.exports=function(i,P){var E=i._fullLayout,l=P.uid,x=E._splomScenes;x||(x=E._splomScenes={});var e={dirty:!0,selectBatch:[],unselectBatch:[]},f=x[P.uid];return f||((f=x[l]=A.extendFlat({},e,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){f.matrix&&f.matrix.draw&&(f.selectBatch.length||f.unselectBatch.length?f.matrix.draw(f.unselectBatch,f.selectBatch):f.matrix.draw()),f.dirty=!1},f.destroy=function(){f.matrix&&f.matrix.destroy&&f.matrix.destroy(),f.matrixOptions=null,f.selectBatch=null,f.unselectBatch=null,f=null}),f.dirty||A.extendFlat(f,e),f}},8689:function(tt,W,t){"use strict";var A=t(71828),g=A.pushUnique,i=t(34098),P=t(35948);tt.exports=function(l,x){var e=l.cd,r=e[0].trace,f=e[0].t,a=l.scene,s=a.matrixOptions.cdata,c=l.xaxis,u=l.yaxis,y=[];if(!a)return y;var v=!i.hasMarkers(r)&&!i.hasText(r);if(!0!==r.visible||v)return y;var w=P.getDimIndex(r,c),d=P.getDimIndex(r,u);if(!1===w||!1===d)return y;var o=f.xpx[w],h=f.ypx[d],M=s[w],T=s[d],L=(l.scene.selectBatch||[]).slice(),m=[];if(!1!==x&&!x.degenerate)for(var S=0;S<M.length;S++)x.contains([o[S],h[S]],null,S,l)?(y.push({pointNumber:S,x:M[S],y:T[S]}),g(L,S)):-1!==L.indexOf(S)?g(L,S):m.push(S);var b=a.matrixOptions;return L.length||m.length?!a.selectBatch.length&&!a.unselectBatch.length&&a.matrix.update(a.unselectedOptions,A.extendFlat({},b,a.selectedOptions,a.viewOpts)):a.matrix.update(b,null),a.selectBatch=L,a.unselectBatch=m,y}},21850:function(tt,W,t){"use strict";var A=t(50693),g=t(12663).axisHoverFormat,i=t(5386).fF,P=t(2418),E=t(9012),l=t(1426).extendFlat,x={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:g("u",1),vhoverformat:g("v",1),whoverformat:g("w",1),xhoverformat:g("x"),yhoverformat:g("y"),zhoverformat:g("z"),showlegend:l({},E.showlegend,{dflt:!1})};l(x,A("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(r){x[r]=P[r]}),x.hoverinfo=l({},E.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),x.transforms=void 0,tt.exports=x},88489:function(tt,W,t){"use strict";var A=t(71828),g=t(78803);function P(x){var s,c,u,T,L,m,S,b,n,C,p,F,e=x._x,r=x._y,f=x._z,a=x._len,y=-1/0,v=1/0,w=-1/0,d=1/0,o=-1/0,h=1/0,M="";for(a&&(S=e[0],n=r[0],p=f[0]),a>1&&(b=e[a-1],C=r[a-1],F=f[a-1]),s=0;s<a;s++)y=Math.max(y,e[s]),v=Math.min(v,e[s]),w=Math.max(w,r[s]),d=Math.min(d,r[s]),o=Math.max(o,f[s]),h=Math.min(h,f[s]),!T&&e[s]!==S&&(T=!0,M+="x"),!L&&r[s]!==n&&(L=!0,M+="y"),!m&&f[s]!==p&&(m=!0,M+="z");T||(M+="x"),L||(M+="y"),m||(M+="z");var D=E(x._x),N=E(x._y),k=E(x._z);M=(M=(M=M.replace("x",(S>b?"-":"+")+"x")).replace("y",(n>C?"-":"+")+"y")).replace("z",(p>F?"-":"+")+"z");var O=function(){a=0,D=[],N=[],k=[]};(!a||a<D.length*N.length*k.length)&&O();var B=function(st){return"x"===st?e:"y"===st?r:f},z=function(st){return"x"===st?D:"y"===st?N:k},U=function(st){return st[a-1]<st[0]?-1:1},G=B(M[1]),Q=B(M[3]),rt=B(M[5]),it=z(M[1]).length,ut=z(M[3]).length,J=z(M[5]).length,j=!1,Z=function(st,dt,Tt){return it*(ut*st+dt)+Tt},H=U(B(M[1])),X=U(B(M[3])),at=U(B(M[5]));for(s=0;s<J-1;s++){for(c=0;c<ut-1;c++){for(u=0;u<it-1;u++){var _=Z(s,c,u),K=Z(s,c,u+1),nt=Z(s,c+1,u),et=Z(s+1,c,u);if(G[_]*H<G[K]*H&&Q[_]*X<Q[nt]*X&&rt[_]*at<rt[et]*at||(j=!0),j)break}if(j)break}if(j)break}return j&&(A.warn("Encountered arbitrary coordinates! Unable to input data grid."),O()),{xMin:v,yMin:d,zMin:h,xMax:y,yMax:w,zMax:o,Xs:D,Ys:N,Zs:k,len:a,fill:M}}function E(x){return A.distinctVals(x).vals}function l(x,e){if(void 0===e&&(e=x.length),A.isTypedArray(x))return x.subarray(0,e);for(var r=[],f=0;f<e;f++)r[f]=+x[f];return r}tt.exports={calc:function i(x,e){e._len=Math.min(e.u.length,e.v.length,e.w.length,e.x.length,e.y.length,e.z.length),e._u=l(e.u,e._len),e._v=l(e.v,e._len),e._w=l(e.w,e._len),e._x=l(e.x,e._len),e._y=l(e.y,e._len),e._z=l(e.z,e._len);var r=P(e);e._gridFill=r.fill,e._Xs=r.Xs,e._Ys=r.Ys,e._Zs=r.Zs,e._len=r.len;var a,s,c,f=0;e.starts&&(a=l(e.starts.x||[]),s=l(e.starts.y||[]),c=l(e.starts.z||[]),f=Math.min(a.length,s.length,c.length)),e._startsX=a||[],e._startsY=s||[],e._startsZ=c||[];var v,u=0,y=1/0;for(v=0;v<e._len;v++){var w=e._u[v],d=e._v[v],o=e._w[v],h=Math.sqrt(w*w+d*d+o*o);u=Math.max(u,h),y=Math.min(y,h)}for(g(x,e,{vals:[y,u],containerStr:"",cLetter:"c"}),v=0;v<f;v++){var M=a[v];r.xMax=Math.max(r.xMax,M),r.xMin=Math.min(r.xMin,M);var T=s[v];r.yMax=Math.max(r.yMax,T),r.yMin=Math.min(r.yMin,T);var L=c[v];r.zMax=Math.max(r.zMax,L),r.zMin=Math.min(r.zMin,L)}e._slen=f,e._normMax=u,e._xbnds=[r.xMin,r.xMax],e._ybnds=[r.yMin,r.yMax],e._zbnds=[r.zMin,r.zMax]},filter:l,processGrid:P}},90154:function(tt,W,t){"use strict";var A=t(9330).gl_streamtube3d,g=A.createTubeMesh,i=t(71828),P=t(81697).parseColorScale,E=t(21081).extractOpts,l=t(90060),x={xaxis:0,yaxis:1,zaxis:2};function e(u,y){this.scene=u,this.uid=y,this.mesh=null,this.data=null}var r=e.prototype;function f(u){var y=u.length;return y>2?u.slice(1,y-1):2===y?[(u[0]+u[1])/2]:u}function a(u){var y=u.length;return 1===y?[.5,.5]:[u[1]-u[0],u[y-1]-u[y-2]]}function s(u,y){var v=u.fullSceneLayout,w=u.dataScale,d=y._len,o={};function h(ut,J){var j=v[J],Z=w[x[J]];return i.simpleMap(ut,function(H){return j.d2l(H)*Z})}if(o.vectors=l(h(y._u,"xaxis"),h(y._v,"yaxis"),h(y._w,"zaxis"),d),!d)return{positions:[],cells:[]};var M=h(y._Xs,"xaxis"),T=h(y._Ys,"yaxis"),L=h(y._Zs,"zaxis");if(o.meshgrid=[M,T,L],o.gridFill=y._gridFill,y._slen)o.startingPositions=l(h(y._startsX,"xaxis"),h(y._startsY,"yaxis"),h(y._startsZ,"zaxis"));else{for(var S=T[0],b=f(M),n=f(L),C=new Array(b.length*n.length),p=0,F=0;F<b.length;F++)for(var D=0;D<n.length;D++)C[p++]=[b[F],S,n[D]];o.startingPositions=C}o.colormap=P(y),o.tubeSize=y.sizeref,o.maxLength=y.maxdisplayed;var N=h(y._xbnds,"xaxis"),k=h(y._ybnds,"yaxis"),O=h(y._zbnds,"zaxis"),B=a(M),z=a(T),U=a(L),Q=A(o,[[N[0]-B[0],k[0]-z[0],O[0]-U[0]],[N[1]+B[1],k[1]+z[1],O[1]+U[1]]]),rt=E(y);Q.vertexIntensityBounds=[rt.min/y._normMax,rt.max/y._normMax];var it=y.lightposition;return Q.lightPosition=[it.x,it.y,it.z],Q.ambient=y.lighting.ambient,Q.diffuse=y.lighting.diffuse,Q.specular=y.lighting.specular,Q.roughness=y.lighting.roughness,Q.fresnel=y.lighting.fresnel,Q.opacity=y.opacity,y._pad=Q.tubeScale*y.sizeref*2,Q}r.handlePick=function(u){var y=this.scene.fullSceneLayout,v=this.scene.dataScale;function w(h,M){var L=v[x[M]];return y[M].l2c(h)/L}if(u.object===this.mesh){var d=u.data.position,o=u.data.velocity;return u.traceCoordinate=[w(d[0],"xaxis"),w(d[1],"yaxis"),w(d[2],"zaxis"),w(o[0],"xaxis"),w(o[1],"yaxis"),w(o[2],"zaxis"),u.data.intensity*this.data._normMax,u.data.divergence],u.textLabel=this.data.hovertext||this.data.text,!0}},r.update=function(u){this.data=u;var y=s(this.scene,u);this.mesh.update(y)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},tt.exports=function c(u,y){var v=u.glplot.gl,w=s(u,y),d=g(v,w),o=new e(u,y.uid);return o.mesh=d,o.data=y,d._trace=o,u.glplot.add(d),o}},22459:function(tt,W,t){"use strict";var A=t(71828),g=t(1586),i=t(21850);tt.exports=function(E,l,x,e){function r(v,w){return A.coerce(E,l,i,v,w)}var f=r("u"),a=r("v"),s=r("w"),c=r("x"),u=r("y"),y=r("z");f&&f.length&&a&&a.length&&s&&s.length&&c&&c.length&&u&&u.length&&y&&y.length?(r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),g(E,l,e,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),l._length=null):l.visible=!1}},61510:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"streamtube",basePlotModule:t(58547),categories:["gl3d","showLegend"],attributes:t(21850),supplyDefaults:t(22459),colorbar:{min:"cmin",max:"cmax"},calc:t(88489).calc,plot:t(90154),eventData:function(A,g){return A.tubex=A.x,A.tubey=A.y,A.tubez=A.z,A.tubeu=g.traceCoordinate[3],A.tubev=g.traceCoordinate[4],A.tubew=g.traceCoordinate[5],A.norm=g.traceCoordinate[6],A.divergence=g.traceCoordinate[7],delete A.x,delete A.y,delete A.z,A},meta:{}}},57564:function(tt,W,t){"use strict";var A=t(9012),g=t(5386).fF,i=t(5386).si,P=t(50693),E=t(27670).Y,l=t(34e3),x=t(7055),e=t(1426).extendFlat,r=t(79952).u;tt.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:e({colors:{valType:"data_array",editType:"calc"},line:{color:e({},l.marker.line.color,{dflt:null}),width:e({},l.marker.line.width,{dflt:1}),editType:"calc"},pattern:r,editType:"calc"},P("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:l.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:i({editType:"plot"},{keys:x.eventDataKeys.concat(["label","value"])}),hovertext:l.hovertext,hoverinfo:e({},A.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:g({},{keys:x.eventDataKeys}),textfont:l.textfont,insidetextorientation:l.insidetextorientation,insidetextfont:l.insidetextfont,outsidetextfont:e({},l.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:l.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:E({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(tt,W,t){"use strict";var A=t(74875);W.name="sunburst",W.plot=function(g,i,P,E){A.plotBasePlot(W.name,g,i,P,E)},W.clean=function(g,i,P,E){A.cleanBasePlot(W.name,g,i,P,E)}},52147:function(tt,W,t){"use strict";var A=t(674),g=t(92770),i=t(71828),P=t(21081).makeColorScaleFuncFromTrace,E=t(32354).makePullColorFn,l=t(32354).generateExtendedColors,x=t(21081).calc,e=t(50606).ALMOST_EQUAL,r={},f={},a={};function s(c,u,y){var v=0,w=c.children;if(w){for(var d=w.length,o=0;o<d;o++)v+=s(w[o],u,y);y.branches&&v++}else y.leaves&&v++;return c.value=c.data.data.value=v,u._values||(u._values=[]),u._values[c.data.data.i]=v,v}W.calc=function(c,u){var C,p,F,Q,H,X,y=c._fullLayout,v=u.ids,w=i.isArrayOrTypedArray(v),d=u.labels,o=u.parents,h=u.values,M=i.isArrayOrTypedArray(h),T=[],L={},m={},b=function(H){return H||"number"==typeof H},n=function(H){return!M||g(h[H])&&h[H]>=0};w?(C=Math.min(v.length,o.length),p=function(H){return b(v[H])&&n(H)},F=function(H){return String(v[H])}):(C=Math.min(d.length,o.length),p=function(H){return b(d[H])&&n(H)},F=function(H){return String(d[H])}),M&&(C=Math.min(C,h.length));for(var D=0;D<C;D++)if(p(D)){var N=F(D),k=b(o[D])?String(o[D]):"",O={i:D,id:N,pid:k,label:b(d[D])?String(d[D]):""};M&&(O.v=+h[D]),T.push(O),X=N,L[H=k]?L[H].push(X):L[H]=[X],m[X]=1}if(L[""]){if(L[""].length>1){for(var U=i.randstr(),G=0;G<T.length;G++)""===T[G].pid&&(T[G].pid=U);T.unshift({hasMultipleRoots:!0,id:U,pid:"",label:""})}}else{var z,B=[];for(z in L)m[z]||B.push(z);if(1!==B.length)return i.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",B.join(", ")].join(" "));T.unshift({hasImpliedRoot:!0,id:z=B[0],pid:"",label:z})}try{Q=A.stratify().id(function(H){return H.id}).parentId(function(H){return H.pid})(T)}catch(H){return i.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",H.message].join(" "))}var rt=A.hierarchy(Q),it=!1;if(M)switch(u.branchvalues){case"remainder":rt.sum(function(H){return H.data.v});break;case"total":rt.each(function(H){var X=H.data.data,at=X.v;if(H.children){var _=H.children.reduce(function(K,nt){return K+nt.data.data.v},0);if((X.hasImpliedRoot||X.hasMultipleRoots)&&(at=_),at<_*e)return it=!0,i.warn(["Total value for node",H.data.data.id,"of",u.name,"is smaller than the sum of its children.","\nparent value =",at,"\nchildren sum =",_].join(" "))}H.value=at})}else s(rt,u,{branches:-1!==u.count.indexOf("branches"),leaves:-1!==u.count.indexOf("leaves")});if(!it){u.sort&&rt.sort(function(H,X){return X.value-H.value});var ut,J,j=u.marker.colors||[];return u._hasColorscale?(!!j.length||(j=M?u.values:u._values),x(c,u,{vals:j,containerStr:"marker",cLetter:"c"}),J=P(u.marker)):ut=E(y["_"+u.type+"colormap"]),rt.each(function(H){var X=H.data.data;X.color=u._hasColorscale?J(j[X.i]):ut(j[X.i],X.id)}),T[0].hierarchy=rt,T}},W._runCrossTraceCalc=function(c,u){var y=u._fullLayout,v=u.calcdata,w=y[c+"colorway"],d=y["_"+c+"colormap"];y["extend"+c+"colors"]&&(w=l(w,"icicle"===c?a:"treemap"===c?f:r));var h,o=0;function M(S){var b=S.data.data,n=b.id;!1===b.color&&(d[n]?b.color=d[n]:S.parent?S.parent.parent?b.color=S.parent.data.data.color:(d[n]=b.color=w[o%w.length],o++):b.color=h)}for(var T=0;T<v.length;T++){var m=v[T][0];m.trace.type===c&&m.hierarchy&&(h=m.trace.root.color,m.hierarchy.each(M))}},W.crossTraceCalc=function(c){return W._runCrossTraceCalc("sunburst",c)}},7055:function(tt){"use strict";tt.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(tt,W,t){"use strict";var A=t(71828),g=t(57564),i=t(27670).c,P=t(90769).handleText,E=t(37434).handleMarkerDefaults,l=t(21081),x=l.hasColorscale,e=l.handleDefaults;tt.exports=function(f,a,s,c){function u(M,T){return A.coerce(f,a,g,M,T)}var y=u("labels"),v=u("parents");if(y&&y.length&&v&&v.length){var w=u("values");u(w&&w.length?"branchvalues":"count"),u("level"),u("maxdepth"),E(f,a,c,u);var d=a._hasColorscale=x(f,"marker","colors")||(f.marker||{}).coloraxis;d&&e(f,a,c,u,{prefix:"marker.",cLetter:"c"}),u("leaf.opacity",d?1:.7);var o=u("text");u("texttemplate"),a.texttemplate||u("textinfo",Array.isArray(o)?"text+label":"label"),u("hovertext"),u("hovertemplate"),P(f,a,c,u,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u("insidetextorientation"),u("sort"),u("rotation"),u("root.color"),i(a,c,u),a._length=null}else a.visible=!1}},43467:function(tt,W,t){"use strict";var A=t(91424),g=t(7901);tt.exports=function(P,E,l,x,e){var r=E.data.data,a=e||r.color;if(r.i>=0){E.i=r.i;var s=l.marker;s.pattern?(!s.colors||!s.pattern.shape)&&(s.color=a,E.color=a):(s.color=a,E.color=a),A.pointStyle(P,l,x,E)}else g.fill(P,a)}},83523:function(tt,W,t){"use strict";var A=t(39898),g=t(73972),i=t(23469).appendArrayPointValue,P=t(30211),E=t(71828),l=t(11086),x=t(2791),r=t(53581).formatPieValue;function f(a,s,c){for(var u=a.data.data,y={curveNumber:s.index,pointNumber:u.i,data:s._input,fullData:s},v=0;v<c.length;v++){var w=c[v];w in a&&(y[w]=a[w])}return"parentString"in a&&!x.isHierarchyRoot(a)&&(y.parent=a.parentString),i(y,s,u.i),y}tt.exports=function(s,c,u,y,v){var w=y[0],d=w.trace,o=w.hierarchy,h="sunburst"===d.type,M="treemap"===d.type||"icicle"===d.type;"_hasHoverLabel"in d||(d._hasHoverLabel=!1),"_hasHoverEvent"in d||(d._hasHoverEvent=!1);s.on("mouseover",function(S){var b=u._fullLayout;if(!u._dragging&&!1!==b.hovermode){var U,n=u._fullData[d.index],C=S.data.data,p=C.i,F=x.isHierarchyRoot(S),D=x.getParent(o,S),N=x.getValue(S),k=function(K){return E.castOption(n,p,K)},O=k("hovertemplate"),B=P.castHoverinfo(n,b,p),z=b.separators;if(O||B&&"none"!==B&&"skip"!==B){var G,Q;h&&(G=w.cx+S.pxmid[0]*(1-S.rInscribed),Q=w.cy+S.pxmid[1]*(1-S.rInscribed)),M&&(G=S._hoverX,Q=S._hoverY);var rt={},it=[],ut=[],J=function(K){return-1!==it.indexOf(K)};B&&(it="all"===B?n._module.attributes.hoverinfo.flags:B.split("+")),rt.label=C.label,J("label")&&rt.label&&ut.push(rt.label),C.hasOwnProperty("v")&&(rt.value=C.v,rt.valueLabel=r(rt.value,z),J("value")&&ut.push(rt.valueLabel)),rt.currentPath=S.currentPath=x.getPath(S.data),J("current path")&&!F&&ut.push(rt.currentPath);var j,Z=[],H=function(){-1===Z.indexOf(j)&&(ut.push(j),Z.push(j))};rt.percentParent=S.percentParent=N/x.getValue(D),rt.parent=S.parentString=x.getPtLabel(D),J("percent parent")&&(j=x.formatPercent(rt.percentParent,z)+" of "+rt.parent,H()),rt.percentEntry=S.percentEntry=N/x.getValue(c),rt.entry=S.entry=x.getPtLabel(c),J("percent entry")&&!F&&!S.onPathbar&&(j=x.formatPercent(rt.percentEntry,z)+" of "+rt.entry,H()),rt.percentRoot=S.percentRoot=N/x.getValue(o),rt.root=S.root=x.getPtLabel(o),J("percent root")&&!F&&(j=x.formatPercent(rt.percentRoot,z)+" of "+rt.root,H()),rt.text=k("hovertext")||k("text"),J("text")&&E.isValidTextValue(j=rt.text)&&ut.push(j),U=[f(S,n,v.eventDataKeys)];var X={trace:n,y:Q,_x0:S._x0,_x1:S._x1,_y0:S._y0,_y1:S._y1,text:ut.join("<br>"),name:O||J("name")?n.name:void 0,color:k("hoverlabel.bgcolor")||C.color,borderColor:k("hoverlabel.bordercolor"),fontFamily:k("hoverlabel.font.family"),fontSize:k("hoverlabel.font.size"),fontColor:k("hoverlabel.font.color"),nameLength:k("hoverlabel.namelength"),textAlign:k("hoverlabel.align"),hovertemplate:O,hovertemplateLabels:rt,eventData:U};h&&(X.x0=G-S.rInscribed*S.rpx1,X.x1=G+S.rInscribed*S.rpx1,X.idealAlign=S.pxmid[0]<0?"left":"right"),M&&(X.x=G,X.idealAlign=G<0?"left":"right");var at=[];P.loneHover(X,{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:u,inOut_bbox:at}),U[0].bbox=at[0],d._hasHoverLabel=!0}if(M){var _=s.select("path.surface");v.styleOne(_,S,n,u,{hovered:!0})}d._hasHoverEvent=!0,u.emit("plotly_hover",{points:U||[f(S,n,v.eventDataKeys)],event:A.event})}}),s.on("mouseout",function(S){var b=u._fullLayout,n=u._fullData[d.index],C=A.select(this).datum();if(d._hasHoverEvent&&(S.originalEvent=A.event,u.emit("plotly_unhover",{points:[f(C,n,v.eventDataKeys)],event:A.event}),d._hasHoverEvent=!1),d._hasHoverLabel&&(P.loneUnhover(b._hoverlayer.node()),d._hasHoverLabel=!1),M){var p=s.select("path.surface");v.styleOne(p,C,n,u,{hovered:!1})}}),s.on("click",function(S){var b=u._fullLayout,n=u._fullData[d.index],C=h&&(x.isHierarchyRoot(S)||x.isLeaf(S)),p=x.getPtId(S),F=x.isEntry(S)?x.findEntryWithChild(o,p):x.findEntryWithLevel(o,p),D=x.getPtId(F),N={points:[f(S,n,v.eventDataKeys)],event:A.event};C||(N.nextLevel=D);var k=l.triggerHandler(u,"plotly_"+d.type+"click",N);if(!1!==k&&b.hovermode&&(u._hoverdata=[f(S,n,v.eventDataKeys)],P.click(u,A.event)),!C&&!1!==k&&!u._dragging&&!u._transitioning){g.call("_storeDirectGUIEdit",n,b._tracePreGUI[n.uid],{level:n.level});var O={data:[{level:D}],traces:[d.index]},B={frame:{redraw:!1,duration:v.transitionTime},transition:{duration:v.transitionTime,easing:v.transitionEasing},mode:"immediate",fromcurrent:!0};P.loneUnhover(b._hoverlayer.node()),g.call("animate",u,O,B)}})}},2791:function(tt,W,t){"use strict";var A=t(71828),g=t(7901),i=t(6964),P=t(53581);function x(e){return e.data.data.pid}W.findEntryWithLevel=function(e,r){var f;return r&&e.eachAfter(function(a){if(W.getPtId(a)===r)return f=a.copy()}),f||e},W.findEntryWithChild=function(e,r){var f;return e.eachAfter(function(a){for(var s=a.children||[],c=0;c<s.length;c++)if(W.getPtId(s[c])===r)return f=a.copy()}),f||e},W.isEntry=function(e){return!e.parent},W.isLeaf=function(e){return!e.children},W.getPtId=function(e){return e.data.data.id},W.getPtLabel=function(e){return e.data.data.label},W.getValue=function(e){return e.value},W.isHierarchyRoot=function(e){return""===x(e)},W.setSliceCursor=function(e,r,f){var a=f.isTransitioning;if(!a){var s=e.datum();a=f.hideOnRoot&&W.isHierarchyRoot(s)||f.hideOnLeaves&&W.isLeaf(s)}i(e,a?null:"pointer")},W.getInsideTextFontKey=function(e,r,f,a,s){var y=f.data.data.i;return A.castOption(r,y,((s||{}).onPathbar?"pathbar.textfont":"insidetextfont")+"."+e)||A.castOption(r,y,"textfont."+e)||a.size},W.getOutsideTextFontKey=function(e,r,f,a){var s=f.data.data.i;return A.castOption(r,s,"outsidetextfont."+e)||A.castOption(r,s,"textfont."+e)||a.size},W.isOutsideText=function(e,r){return!e._hasColorscale&&W.isHierarchyRoot(r)},W.determineTextFont=function(e,r,f,a){return W.isOutsideText(e,r)?function E(e,r,f){return{color:W.getOutsideTextFontKey("color",e,r,f),family:W.getOutsideTextFontKey("family",e,r,f),size:W.getOutsideTextFontKey("size",e,r,f)}}(e,r,f):function l(e,r,f,a){var c=r.data.data,u=c.i,y=A.castOption(e,u,((a||{}).onPathbar?"pathbar.textfont":"insidetextfont")+".color");return!y&&e._input.textfont&&(y=A.castOption(e._input,u,"textfont.color")),{color:y||g.contrast(c.color),family:W.getInsideTextFontKey("family",e,r,f,a),size:W.getInsideTextFontKey("size",e,r,f,a)}}(e,r,f,a)},W.hasTransition=function(e){return!!(e&&e.duration>0)},W.getMaxDepth=function(e){return e.maxdepth>=0?e.maxdepth:1/0},W.isHeader=function(e,r){return!(W.isLeaf(e)||e.depth===r._maxDepth-1)},W.getParent=function(e,r){return W.findEntryWithLevel(e,x(r))},W.listPath=function(e,r){var f=e.parent;if(!f)return[];var a=r?[f.data[r]]:[f];return W.listPath(f,r).concat(a)},W.getPath=function(e){return W.listPath(e,"label").join("/")+"/"},W.formatValue=P.formatPieValue,W.formatPercent=function(e,r){var f=A.formatPercent(e,0);return"0%"===f&&(f=P.formatPiePercent(e,r)),f}},87619:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"sunburst",basePlotModule:t(66888),categories:[],animatable:!0,attributes:t(57564),layoutAttributes:t(2654),supplyDefaults:t(17094),supplyLayoutDefaults:t(57034),calc:t(52147).calc,crossTraceCalc:t(52147).crossTraceCalc,plot:t(24714).plot,style:t(29969).style,colorbar:t(4898),meta:{}}},2654:function(tt){"use strict";tt.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(tt,W,t){"use strict";var A=t(71828),g=t(2654);tt.exports=function(P,E){function l(x,e){return A.coerce(P,E,g,x,e)}l("sunburstcolorway",E.colorway),l("extendsunburstcolors")}},24714:function(tt,W,t){"use strict";var A=t(39898),g=t(674),i=t(81684).sX,P=t(91424),E=t(71828),l=t(63893),x=t(72597),e=x.recordMinTextSize,r=x.clearMinTextSize,f=t(14575),a=t(53581).getRotationAngle,s=f.computeTransform,c=f.transformInsideText,u=t(29969).styleOne,y=t(16688).resizeText,v=t(83523),w=t(7055),d=t(2791);function o(m,S,b,n){var C=m._context.staticPlot,p=m._fullLayout,F=!p.uniformtext.mode&&d.hasTransition(n),N=A.select(b).selectAll("g.slice"),k=S[0],O=k.trace,z=d.findEntryWithLevel(k.hierarchy,O.level),U=d.getMaxDepth(O),G=p._size,Q=O.domain,it=G.h*(Q.y[1]-Q.y[0]),ut=.5*Math.min(G.w*(Q.x[1]-Q.x[0]),it),J=k.cx=G.l+G.w*(Q.x[1]+Q.x[0])/2,j=k.cy=G.t+G.h*(1-Q.y[0])-it/2;if(!z)return N.remove();var Z=null,H={};F&&N.each(function(Vt){H[d.getPtId(Vt)]={rpx0:Vt.rpx0,rpx1:Vt.rpx1,x0:Vt.x0,x1:Vt.x1,transform:Vt.transform},!Z&&d.isEntry(Vt)&&(Z=Vt)});var X=function h(m){return g.partition().size([2*Math.PI,m.height+1])(m)}(z).descendants(),at=z.height+1,_=0,K=U;k.hasMultipleRoots&&d.isHierarchyRoot(z)&&(X=X.slice(1),at-=1,_=1,K+=1),X=X.filter(function(Vt){return Vt.y1<=K});var nt=a(O.rotation);nt&&X.forEach(function(Vt){Vt.x0+=nt,Vt.x1+=nt});var et=Math.min(at,U),st=function(Vt){return(Vt-_)/et*ut},dt=function(Vt,te){return[Vt*Math.cos(te),-Vt*Math.sin(te)]},Tt=function(Vt){return E.pathAnnulus(Vt.rpx0,Vt.rpx1,Vt.x0,Vt.x1,J,j)},bt=function(Vt){return J+T(Vt)[0]*(Vt.transform.rCenter||0)+(Vt.transform.x||0)},Dt=function(Vt){return j+T(Vt)[1]*(Vt.transform.rCenter||0)+(Vt.transform.y||0)};(N=N.data(X,d.getPtId)).enter().append("g").classed("slice",!0),F?N.exit().transition().each(function(){var Vt=A.select(this);Vt.select("path.surface").transition().attrTween("d",function(kt){var zt=function St(Vt){var zt,te=d.getPtId(Vt),_t=H[te],kt=H[d.getPtId(z)];if(kt){var qt=(Vt.x1>kt.x1?2*Math.PI:0)+nt;zt=Vt.rpx1<kt.rpx1?{x0:Vt.x0,x1:Vt.x1,rpx0:0,rpx1:0}:{x0:qt,x1:qt,rpx0:Vt.rpx0,rpx1:Vt.rpx1}}else{var ae,oe=d.getPtId(Vt.parent);N.each(function(Ct){if(d.getPtId(Ct)===oe)return ae=Ct});var ye,pe=ae.children;pe.forEach(function(Ct,Et){if(d.getPtId(Ct)===te)return ye=Et});var Fe=pe.length,Zt=i(ae.x0,ae.x1);zt={rpx0:ut,rpx1:ut,x0:Zt(ye/Fe),x1:Zt((ye+1)/Fe)}}return i(_t,zt)}(kt);return function(qt){return Tt(zt(qt))}}),Vt.select("g.slicetext").attr("opacity",0)}).remove():N.exit().remove(),N.order();var Ft=null;if(F&&Z){var Mt=d.getPtId(Z);N.each(function(Vt){null===Ft&&d.getPtId(Vt)===Mt&&(Ft=Vt.x1)})}var wt=N;function Gt(Vt){var _t,te=H[d.getPtId(Vt)],kt=Vt.transform;if(te)_t=te;else if(_t={rpx1:Vt.rpx1,transform:{textPosAngle:kt.textPosAngle,scale:0,rotate:kt.rotate,rCenter:kt.rCenter,x:kt.x,y:kt.y}},Z)if(Vt.parent)if(Ft){var zt=Vt.x1>Ft?2*Math.PI:0;_t.x0=_t.x1=zt}else E.extendFlat(_t,Pt(Vt));else _t.x0=_t.x1=nt;else _t.x0=_t.x1=nt;var qt=i(_t.transform.textPosAngle,Vt.transform.textPosAngle),ae=i(_t.rpx1,Vt.rpx1),oe=i(_t.x0,Vt.x0),pe=i(_t.x1,Vt.x1),ye=i(_t.transform.scale,kt.scale),Fe=i(_t.transform.rotate,kt.rotate),Zt=0===kt.rCenter?3:0===_t.transform.rCenter?1/3:1,Ct=i(_t.transform.rCenter,kt.rCenter);return function(Rt){var Ot=ae(Rt),It=oe(Rt),gt=pe(Rt),pt=function(Rt){return Ct(Math.pow(Rt,Zt))}(Rt),Yt={pxmid:dt(Ot,(It+gt)/2),rpx1:Ot,transform:{textPosAngle:qt(Rt),rCenter:pt,x:kt.x,y:kt.y}};return e(O.type,kt,p),{transform:{targetX:bt(Yt),targetY:Dt(Yt),scale:ye(Rt),rotate:Fe(Rt),rCenter:pt}}}}function Pt(Vt){var te=Vt.parent,_t=H[d.getPtId(te)],kt={};if(_t){var zt=te.children,qt=zt.indexOf(Vt),ae=zt.length,oe=i(_t.x0,_t.x1);kt.x0=oe(qt/ae),kt.x1=oe(qt/ae)}else kt.x0=kt.x1=0;return kt}F&&(wt=wt.transition().each("end",function(){var Vt=A.select(this);d.setSliceCursor(Vt,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),wt.each(function(Vt){var te=A.select(this),_t=E.ensureSingle(te,"path","surface",function(pe){pe.style("pointer-events",C?"none":"all")});Vt.rpx0=st(Vt.y0),Vt.rpx1=st(Vt.y1),Vt.xmid=(Vt.x0+Vt.x1)/2,Vt.pxmid=dt(Vt.rpx1,Vt.xmid),Vt.midangle=-(Vt.xmid-Math.PI/2),Vt.startangle=-(Vt.x0-Math.PI/2),Vt.stopangle=-(Vt.x1-Math.PI/2),Vt.halfangle=.5*Math.min(E.angleDelta(Vt.x0,Vt.x1)||Math.PI,Math.PI),Vt.ring=1-Vt.rpx0/Vt.rpx1,Vt.rInscribed=function M(m){return 0===m.rpx0&&E.isFullCircle([m.x0,m.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(m.halfangle)),m.ring/2))}(Vt),F?_t.transition().attrTween("d",function(pe){var ye=function Ut(Vt){var _t,te=H[d.getPtId(Vt)],kt={x0:Vt.x0,x1:Vt.x1,rpx0:Vt.rpx0,rpx1:Vt.rpx1};if(te)_t=te;else if(Z)if(Vt.parent)if(Ft){var zt=(Vt.x1>Ft?2*Math.PI:0)+nt;_t={x0:zt,x1:zt}}else E.extendFlat(_t={rpx0:ut,rpx1:ut},Pt(Vt));else _t={rpx0:0,rpx1:0};else _t={x0:nt,x1:nt};return i(_t,kt)}(pe);return function(Fe){return Tt(ye(Fe))}}):_t.attr("d",Tt),te.call(v,z,m,S,{eventDataKeys:w.eventDataKeys,transitionTime:w.CLICK_TRANSITION_TIME,transitionEasing:w.CLICK_TRANSITION_EASING}).call(d.setSliceCursor,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:m._transitioning}),_t.call(u,Vt,O,m);var kt=E.ensureSingle(te,"g","slicetext"),zt=E.ensureSingle(kt,"text","",function(pe){pe.attr("data-notex",1)}),qt=E.ensureUniformFontSize(m,d.determineTextFont(O,Vt,p.font));zt.text(W.formatSliceLabel(Vt,z,O,S,p)).classed("slicetext",!0).attr("text-anchor","middle").call(P.font,qt).call(l.convertToTspans,m);var ae=P.bBox(zt.node());Vt.transform=c(ae,Vt,k),Vt.transform.targetX=bt(Vt),Vt.transform.targetY=Dt(Vt);var oe=function(pe,ye){var Fe=pe.transform;return s(Fe,ye),Fe.fontSize=qt.size,e(O.type,Fe,p),E.getTextTransform(Fe)};F?zt.transition().attrTween("transform",function(pe){var ye=Gt(pe);return function(Fe){return oe(ye(Fe),ae)}}):zt.attr("transform",oe(Vt,ae))})}function T(m){return function L(m,S){return[m*Math.sin(S),-m*Math.cos(S)]}(m.rpx1,m.transform.textPosAngle)}W.plot=function(m,S,b,n){var F,D,C=m._fullLayout,p=C._sunburstlayer,N=!b,k=!C.uniformtext.mode&&d.hasTransition(b);r("sunburst",C),(F=p.selectAll("g.trace.sunburst").data(S,function(B){return B[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),F.order(),k?(n&&(D=n()),A.transition().duration(b.duration).ease(b.easing).each("end",function(){D&&D()}).each("interrupt",function(){D&&D()}).each(function(){p.selectAll("g.trace").each(function(B){o(m,B,this,b)})})):(F.each(function(B){o(m,B,this,b)}),C.uniformtext.mode&&y(m,C._sunburstlayer.selectAll(".trace"),"sunburst")),N&&F.exit().remove()},W.formatSliceLabel=function(m,S,b,n,C){var p=b.texttemplate,F=b.textinfo;if(!(p||F&&"none"!==F))return"";var D=C.separators,k=m.data.data,O=n[0].hierarchy,B=d.isHierarchyRoot(m),z=d.getParent(O,m),U=d.getValue(m);if(!p){var it,G=F.split("+"),Q=function(_){return-1!==G.indexOf(_)},rt=[];if(Q("label")&&k.label&&rt.push(k.label),k.hasOwnProperty("v")&&Q("value")&&rt.push(d.formatValue(k.v,D)),!B){Q("current path")&&rt.push(d.getPath(m.data));var ut=0;Q("percent parent")&&ut++,Q("percent entry")&&ut++,Q("percent root")&&ut++;var J=ut>1;if(ut){var j,Z=function(_){it=d.formatPercent(j,D),J&&(it+=" of "+_),rt.push(it)};Q("percent parent")&&!B&&(j=U/d.getValue(z),Z("parent")),Q("percent entry")&&(j=U/d.getValue(S),Z("entry")),Q("percent root")&&(j=U/d.getValue(O),Z("root"))}}return Q("text")&&(it=E.castOption(b,k.i,"text"),E.isValidTextValue(it)&&rt.push(it)),rt.join("<br>")}var H=E.castOption(b,k.i,"texttemplate");if(!H)return"";var X={};k.label&&(X.label=k.label),k.hasOwnProperty("v")&&(X.value=k.v,X.valueLabel=d.formatValue(k.v,D)),X.currentPath=d.getPath(m.data),B||(X.percentParent=U/d.getValue(z),X.percentParentLabel=d.formatPercent(X.percentParent,D),X.parent=d.getPtLabel(z)),X.percentEntry=U/d.getValue(S),X.percentEntryLabel=d.formatPercent(X.percentEntry,D),X.entry=d.getPtLabel(S),X.percentRoot=U/d.getValue(O),X.percentRootLabel=d.formatPercent(X.percentRoot,D),X.root=d.getPtLabel(O),k.hasOwnProperty("color")&&(X.color=k.color);var at=E.castOption(b,k.i,"text");return(E.isValidTextValue(at)||""===at)&&(X.text=at),X.customdata=E.castOption(b,k.i,"customdata"),E.texttemplateString(H,X,C._d3locale,X,b._meta||{})}},29969:function(tt,W,t){"use strict";var A=t(39898),g=t(7901),i=t(71828),P=t(72597).resizeText,E=t(43467);function x(e,r,f,a){var c=!r.children,u=r.data.data.i,y=i.castOption(f,u,"marker.line.color")||g.defaultLine,v=i.castOption(f,u,"marker.line.width")||0;e.call(E,r,f,a).style("stroke-width",v).call(g.stroke,y).style("opacity",c?f.leaf.opacity:null)}tt.exports={style:function l(e){var r=e._fullLayout._sunburstlayer.selectAll(".trace");P(e,r,"sunburst"),r.each(function(f){var a=A.select(this),c=f[0].trace;a.style("opacity",c.opacity),a.selectAll("path.surface").each(function(u){A.select(this).call(x,u,c,e)})})},styleOne:x}},54532:function(tt,W,t){"use strict";var A=t(7901),g=t(50693),i=t(12663).axisHoverFormat,P=t(5386).fF,E=t(9012),l=t(1426).extendFlat,x=t(30962).overrideAll;function r(a){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:A.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:A.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var f=tt.exports=x(l({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:P(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},g("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:r(),y:r(),z:r()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:l({},g.zauto,{}),zmin:l({},g.zmin,{}),zmax:l({},g.zmax,{})},hoverinfo:l({},E.hoverinfo),showlegend:l({},E.showlegend,{dflt:!1})}),"calc","nested");f.x.editType=f.y.editType=f.z.editType="calc+clearAxisTypes",f.transforms=void 0},18396:function(tt,W,t){"use strict";var A=t(78803);tt.exports=function(i,P){A(i,P,P.surfacecolor?{vals:P.surfacecolor,containerStr:"",cLetter:"c"}:{vals:P.z,containerStr:"",cLetter:"c"})}},43768:function(tt,W,t){"use strict";var A=t(9330).gl_surface3d,g=t(9330).ndarray,i=t(9330).ndarray_linear_interpolate.d2,P=t(824),E=t(43907),l=t(71828).isArrayOrTypedArray,x=t(81697).parseColorScale,e=t(78614),r=t(21081).extractOpts;function f(n,C,p){this.scene=n,this.uid=p,this.surface=C,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var a=f.prototype;a.getXat=function(n,C,p,F){var D=l(this.data.x)?l(this.data.x[0])?this.data.x[C][n]:this.data.x[n]:n;return void 0===p?D:F.d2l(D,0,p)},a.getYat=function(n,C,p,F){var D=l(this.data.y)?l(this.data.y[0])?this.data.y[C][n]:this.data.y[C]:C;return void 0===p?D:F.d2l(D,0,p)},a.getZat=function(n,C,p,F){var D=this.data.z[C][n];return null===D&&this.data.connectgaps&&this.data._interpolatedZ&&(D=this.data._interpolatedZ[C][n]),void 0===p?D:F.d2l(D,0,p)},a.handlePick=function(n){if(n.object===this.surface){var p=(n.data.index[1]-1)/this.dataScaleY-1,F=Math.max(Math.min(Math.round((n.data.index[0]-1)/this.dataScaleX-1),this.data.z[0].length-1),0),D=Math.max(Math.min(Math.round(p),this.data._ylength-1),0);n.index=[F,D],n.traceCoordinate=[this.getXat(F,D),this.getYat(F,D),this.getZat(F,D)],n.dataCoordinate=[this.getXat(F,D,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(F,D,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(F,D,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var N=0;N<3;N++)null!=n.dataCoordinate[N]&&(n.dataCoordinate[N]*=this.scene.dataScale[N]);var O=this.data.hovertext||this.data.text;return n.textLabel=Array.isArray(O)&&O[D]&&void 0!==O[D][F]?O[D][F]:O||"",n.data.dataCoordinate=n.dataCoordinate.slice(),this.surface.highlight(n.data),this.scene.glplot.spikes.position=n.dataCoordinate,!0}};var c=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function u(n,C){if(n<C)return 0;for(var p=0;0===Math.floor(n%C);)n/=C,p++;return p}function y(n){for(var C=[],p=0;p<c.length;p++)C.push(u(n,c[p]));return C}function v(n){for(var C=y(n),p=n,F=0;F<c.length;F++)if(C[F]>0){p=c[F];break}return p}function w(n,C){if(!(n<1||C<1)){for(var p=y(n),F=y(C),D=1,N=0;N<c.length;N++)D*=Math.pow(c[N],Math.max(p[N],F[N]));return D}}a.calcXnums=function(n){var C,p=[];for(C=1;C<n;C++){var F=this.getXat(C-1,0),D=this.getXat(C,0);p[C-1]=D!==F&&null!=F&&null!=D?Math.abs(D-F):0}var N=0;for(C=1;C<n;C++)N+=p[C-1];for(C=1;C<n;C++)p[C-1]=0===p[C-1]?1:Math.round(N/p[C-1]);return p},a.calcYnums=function(n){var C,p=[];for(C=1;C<n;C++){var F=this.getYat(0,C-1),D=this.getYat(0,C);p[C-1]=D!==F&&null!=F&&null!=D?Math.abs(D-F):0}var N=0;for(C=1;C<n;C++)N+=p[C-1];for(C=1;C<n;C++)p[C-1]=0===p[C-1]?1:Math.round(N/p[C-1]);return p};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],h=o[9],M=o[13];function T(n,C,p){var F=p[8]+p[2]*C[0]+p[5]*C[1];return n[0]=(p[6]+p[0]*C[0]+p[3]*C[1])/F,n[1]=(p[7]+p[1]*C[0]+p[4]*C[1])/F,n}function L(n,C,p){return function m(n,C,p,F){for(var D=[0,0],N=n.shape[0],k=n.shape[1],O=0;O<N;O++)for(var B=0;B<k;B++)p(D,[O,B],F),n.set(O,B,i(C,D[0],D[1]));return n}(n,C,T,p),n}function S(n,C){for(var p=!1,F=0;F<n.length;F++)if(C===n[F]){p=!0;break}!1===p&&n.push(C)}a.estimateScale=function(n,C){for(var F=1+function d(n){if(0!==n.length){for(var C=1,p=0;p<n.length;p++)C=w(C,n[p]);return C}}(0===C?this.calcXnums(n):this.calcYnums(n));F<h;)F*=2;for(;F>M;)F--,F/=v(F),++F<h&&(F=M);var D=Math.round(F/n);return D>1?D:1},a.refineCoords=function(n){for(var C=this.dataScaleX,p=this.dataScaleY,F=n[0].shape[0],D=n[0].shape[1],N=0|Math.floor(n[0].shape[0]*C+1),k=0|Math.floor(n[0].shape[1]*p+1),O=1+F+1,B=1+D+1,z=g(new Float32Array(O*B),[O,B]),U=[1/C,0,0,0,1/p,0,0,0,1],G=0;G<n.length;++G){this.surface.padField(z,n[G]);var Q=g(new Float32Array(N*k),[N,k]);L(Q,z,U),n[G]=Q}},a.setContourLevels=function(){var F,D,n=[[],[],[]],C=[!1,!1,!1],p=!1;for(F=0;F<3;++F)if(this.showContour[F]&&(p=!0,this.contourSize[F]>0&&null!==this.contourStart[F]&&null!==this.contourEnd[F]&&this.contourEnd[F]>this.contourStart[F]))for(C[F]=!0,D=this.contourStart[F];D<this.contourEnd[F];D+=this.contourSize[F])S(n[F],D*this.scene.dataScale[F]);if(p){var k=[[],[],[]];for(F=0;F<3;++F)this.showContour[F]&&(k[F]=C[F]?n[F]:this.scene.contourLevels[F]);this.surface.update({levels:k})}},a.update=function(n){var C=this.scene,p=C.fullSceneLayout,F=this.surface,D=x(n),N=C.dataScale,k=n.z[0].length,O=n._ylength,B=C.contourLevels;this.data=n;var z,U,G,Q,rt=[];for(z=0;z<3;z++)for(rt[z]=[],U=0;U<k;U++)rt[z][U]=[];for(U=0;U<k;U++)for(G=0;G<O;G++)rt[0][U][G]=this.getXat(U,G,n.xcalendar,p.xaxis),rt[1][U][G]=this.getYat(U,G,n.ycalendar,p.yaxis),rt[2][U][G]=this.getZat(U,G,n.zcalendar,p.zaxis);if(n.connectgaps)for(n._emptypoints=E(rt[2]),P(rt[2],n._emptypoints),n._interpolatedZ=[],U=0;U<k;U++)for(n._interpolatedZ[U]=[],G=0;G<O;G++)n._interpolatedZ[U][G]=rt[2][U][G];for(z=0;z<3;z++)for(U=0;U<k;U++)for(G=0;G<O;G++)null==(Q=rt[z][U][G])?rt[z][U][G]=NaN:Q=rt[z][U][G]*=N[z];for(z=0;z<3;z++)for(U=0;U<k;U++)for(G=0;G<O;G++)null!=(Q=rt[z][U][G])&&(this.minValues[z]>Q&&(this.minValues[z]=Q),this.maxValues[z]<Q&&(this.maxValues[z]=Q));for(z=0;z<3;z++)this.objectOffset[z]=.5*(this.minValues[z]+this.maxValues[z]);for(z=0;z<3;z++)for(U=0;U<k;U++)for(G=0;G<O;G++)null!=(Q=rt[z][U][G])&&(rt[z][U][G]-=this.objectOffset[z]);var it=[g(new Float32Array(k*O),[k,O]),g(new Float32Array(k*O),[k,O]),g(new Float32Array(k*O),[k,O])];for(z=0;z<3;z++)for(U=0;U<k;U++)for(G=0;G<O;G++)it[z].set(U,G,rt[z][U][G]);rt=[];var ut={colormap:D,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!n.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:n.opacityscale,opacity:n.opacity},J=r(n);if(ut.intensityBounds=[J.min,J.max],n.surfacecolor){var j=g(new Float32Array(k*O),[k,O]);for(U=0;U<k;U++)for(G=0;G<O;G++)j.set(U,G,n.surfacecolor[G][U]);it.push(j)}else ut.intensityBounds[0]*=N[2],ut.intensityBounds[1]*=N[2];(M<it[0].shape[0]||M<it[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(it[0].shape[0],0),this.dataScaleY=this.estimateScale(it[0].shape[1],1),(1!==this.dataScaleX||1!==this.dataScaleY)&&this.refineCoords(it)),n.surfacecolor&&(ut.intensity=it.pop());var Z=[!0,!0,!0],H=["x","y","z"];for(z=0;z<3;++z){var X=n.contours[H[z]];Z[z]=X.highlight,ut.showContour[z]=X.show||X.highlight,ut.showContour[z]&&(ut.contourProject[z]=[X.project.x,X.project.y,X.project.z],X.show?(this.showContour[z]=!0,ut.levels[z]=B[z],F.highlightColor[z]=ut.contourColor[z]=e(X.color),F.highlightTint[z]=ut.contourTint[z]=X.usecolormap?0:1,ut.contourWidth[z]=X.width,this.contourStart[z]=X.start,this.contourEnd[z]=X.end,this.contourSize[z]=X.size):(this.showContour[z]=!1,this.contourStart[z]=null,this.contourEnd[z]=null,this.contourSize[z]=0),X.highlight&&(ut.dynamicColor[z]=e(X.highlightcolor),ut.dynamicWidth[z]=X.highlightwidth))}(function s(n){var C=n[0].rgb,p=n[n.length-1].rgb;return C[0]===p[0]&&C[1]===p[1]&&C[2]===p[2]&&C[3]===p[3]})(D)&&(ut.vertexColor=!0),ut.objectOffset=this.objectOffset,ut.coords=it,F.update(ut),F.visible=n.visible,F.enableDynamic=Z,F.enableHighlight=Z,F.snapToData=!0,"lighting"in n&&(F.ambientLight=n.lighting.ambient,F.diffuseLight=n.lighting.diffuse,F.specularLight=n.lighting.specular,F.roughness=n.lighting.roughness,F.fresnel=n.lighting.fresnel),"lightposition"in n&&(F.lightPosition=[n.lightposition.x,n.lightposition.y,n.lightposition.z])},a.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},tt.exports=function b(n,C){var F=A({gl:n.glplot.gl}),D=new f(n,F,C.uid);return F._trace=D,D.update(C),n.glplot.add(F),D}},91831:function(tt,W,t){"use strict";var A=t(73972),g=t(71828),i=t(1586),P=t(54532);function r(a,s,c,u){var y=u("opacityscale");"max"===y?s.opacityscale=[[0,.1],[1,1]]:"min"===y?s.opacityscale=[[0,1],[1,.1]]:"extremes"===y?s.opacityscale=function l(a,s){for(var c=[],y=0;y<32;y++){var v=y/31,w=s+(1-s)*(1-Math.pow(Math.sin(a*v*Math.PI),2));c.push([v,Math.max(0,Math.min(1,w))])}return c}(1,.1):function x(a){var s=0;if(!Array.isArray(a)||a.length<2||!a[0]||!a[a.length-1]||0!=+a[0][0]||1!=+a[a.length-1][0])return!1;for(var c=0;c<a.length;c++){var u=a[c];if(2!==u.length||+u[0]<s)return!1;s=+u[0]}return!0}(y)||(s.opacityscale=void 0)}function f(a,s,c){s in a&&!(c in a)&&(a[c]=a[s])}tt.exports={supplyDefaults:function e(a,s,c,u){var y,v;function w(n,C){return g.coerce(a,s,P,n,C)}var d=w("x"),o=w("y"),h=w("z");if(!h||!h.length||d&&d.length<1||o&&o.length<1)s.visible=!1;else{s._xlength=Array.isArray(d)&&g.isArrayOrTypedArray(d[0])?h.length:h[0].length,s._ylength=h.length,A.getComponentMethod("calendars","handleTraceDefaults")(a,s,["x","y","z"],u),w("text"),w("hovertext"),w("hovertemplate"),w("xhoverformat"),w("yhoverformat"),w("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(n){w(n)});var T=w("surfacecolor"),L=["x","y","z"];for(y=0;y<3;++y){var m="contours."+L[y],S=w(m+".show"),b=w(m+".highlight");if(S||b)for(v=0;v<3;++v)w(m+".project."+L[v]);S&&(w(m+".color"),w(m+".width"),w(m+".usecolormap")),b&&(w(m+".highlightcolor"),w(m+".highlightwidth")),w(m+".start"),w(m+".end"),w(m+".size")}T||(f(a,"zmin","cmin"),f(a,"zmax","cmax"),f(a,"zauto","cauto")),i(a,s,u,w,{prefix:"",cLetter:"c"}),r(0,s,0,w),s._length=null}},opacityscaleDefaults:r}},93601:function(tt,W,t){"use strict";tt.exports={attributes:t(54532),supplyDefaults:t(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:t(18396),plot:t(43768),moduleType:"trace",name:"surface",basePlotModule:t(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(tt,W,t){"use strict";var A=t(50215),g=t(1426).extendFlat,i=t(30962).overrideAll,P=t(41940),E=t(27670).Y,l=t(12663).descriptionOnlyNumbers;(tt.exports=i({domain:E({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:l("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:g({},A.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:g({},P({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:l("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:g({},A.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:g({},P({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},99469:function(tt,W,t){"use strict";var A=t(27659).a0,g=t(36736),i="table";W.name=i,W.plot=function(P){var E=A(P.calcdata,i)[0];E.length&&g(P,E)},W.clean=function(P,E,l,x){var e=x._has&&x._has(i),r=E._has&&E._has(i);e&&!r&&x._paperdiv.selectAll(".table").remove()}},76333:function(tt,W,t){"use strict";var A=t(28984).wrap;tt.exports=function(){return A({})}},49850:function(tt){"use strict";tt.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(tt,W,t){"use strict";var A=t(49850),g=t(1426).extendFlat,i=t(92770);function P(s){if(Array.isArray(s)){for(var c=0,u=0;u<s.length;u++)c=Math.max(c,P(s[u]));return c}return s}function E(s,c){return s+c}function l(s){var v,c=s.slice(),u=1/0,y=0;for(v=0;v<c.length;v++)Array.isArray(c[v])||(c[v]=[c[v]]),u=Math.min(u,c[v].length),y=Math.max(y,c[v].length);if(u!==y)for(v=0;v<c.length;v++){var w=y-c[v].length;w&&(c[v]=c[v].concat(x(w)))}return c}function x(s){for(var c=new Array(s),u=0;u<s;u++)c[u]="";return c}function e(s){return s.calcdata.columns.reduce(function(c,u){return u.xIndex<s.xIndex?c+u.columnWidth:c},0)}function r(s,c){return Object.keys(s).map(function(y){return g({},s[y],{auxiliaryBlocks:c})})}function f(s,c){for(var y,u={},v=0,w=0,d={firstRowIndex:null,lastRowIndex:null,rows:[]},o=0,h=0,M=0;M<s.length;M++)d.rows.push({rowIndex:M,rowHeight:y=s[M]}),((w+=y)>=c||M===s.length-1)&&(u[v]=d,d.key=h++,d.firstRowIndex=o,d.lastRowIndex=M,d={firstRowIndex:null,lastRowIndex:null,rows:[]},v+=w,o=M+1,w=0);return u}tt.exports=function(c,u){var y=l(u.cells.values),v=function(U){return U.slice(u.header.values.length,U.length)},w=l(u.header.values);w.length&&!w[0].length&&(w[0]=[""],w=l(w));var d=w.concat(v(y).map(function(){return x((w[0]||[""]).length)})),o=u.domain,h=Math.floor(c._fullLayout._size.w*(o.x[1]-o.x[0])),M=Math.floor(c._fullLayout._size.h*(o.y[1]-o.y[0])),T=u.header.values.length?d[0].map(function(){return u.header.height}):[A.emptyHeaderHeight],L=y.length?y[0].map(function(){return u.cells.height}):[],m=T.reduce(E,0),n=f(L,M-m+A.uplift),p=r(f(T,m),[]),F=r(n,p),D={},N=u._fullInput.columnorder.concat(v(y.map(function(U,G){return G}))),k=d.map(function(U,G){var Q=Array.isArray(u.columnwidth)?u.columnwidth[Math.min(G,u.columnwidth.length-1)]:u.columnwidth;return i(Q)?Number(Q):1}),O=k.reduce(E,0);k=k.map(function(U){return U/O*h});var B=Math.max(P(u.header.line.width),P(u.cells.line.width)),z={key:u.uid+c._context.staticPlot,translateX:o.x[0]*c._fullLayout._size.w,translateY:c._fullLayout._size.h*(1-o.y[1]),size:c._fullLayout._size,width:h,maxLineWidth:B,height:M,columnOrder:N,groupHeight:M,rowBlocks:F,headerRowBlocks:p,scrollY:0,cells:g({},u.cells,{values:y}),headerCells:g({},u.header,{values:d}),gdColumns:d.map(function(U){return U[0]}),gdColumnsOriginalOrder:d.map(function(U){return U[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(U,G){return D[U]=(D[U]||0)+1,{key:U+"__"+D[U],label:U,specIndex:G,xIndex:N[G],xScale:e,x:void 0,calcdata:void 0,columnWidth:k[G]}})};return z.columns.forEach(function(U){U.calcdata=z,U.x=e(U)}),z}},56269:function(tt,W,t){"use strict";var A=t(1426).extendFlat;W.splitToPanels=function(i){var P=[0,0],E=A({},i,{key:"header",type:"header",page:0,prevPages:P,currentRepaint:[null,null],dragHandle:!0,values:i.calcdata.headerCells.values[i.specIndex],rowBlocks:i.calcdata.headerRowBlocks,calcdata:A({},i.calcdata,{cells:i.calcdata.headerCells})});return[A({},i,{key:"cells1",type:"cells",page:0,prevPages:P,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks}),A({},i,{key:"cells2",type:"cells",page:1,prevPages:P,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks}),E]},W.splitToCells=function(i){var P=function g(i){var P=i.rowBlocks[i.page],E=P?P.rows[0].rowIndex:0;return[E,P?E+P.rows.length:0]}(i);return(i.values||[]).slice(P[0],P[1]).map(function(E,l){return{keyWithinBlock:l+("string"==typeof E&&E.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:P[0]+l,column:i,calcdata:i.calcdata,page:i.page,rowBlocks:i.rowBlocks,value:E}})}},39754:function(tt,W,t){"use strict";var A=t(71828),g=t(44464),i=t(27670).c;tt.exports=function(l,x,e,r){function f(a,s){return A.coerce(l,x,g,a,s)}i(x,r,f),f("columnwidth"),f("header.values"),f("header.format"),f("header.align"),f("header.prefix"),f("header.suffix"),f("header.height"),f("header.line.width"),f("header.line.color"),f("header.fill.color"),A.coerceFont(f,"header.font",A.extendFlat({},r.font)),function P(E,l){for(var e=E.header.values.length,r=(E.columnorder||[]).slice(0,e),f=r.slice().sort(function(c,u){return c-u}),a=r.map(function(c){return f.indexOf(c)}),s=a.length;s<e;s++)a.push(s);l("columnorder",a)}(x,f),f("cells.values"),f("cells.format"),f("cells.align"),f("cells.prefix"),f("cells.suffix"),f("cells.height"),f("cells.line.width"),f("cells.line.color"),f("cells.fill.color"),A.coerceFont(f,"cells.font",A.extendFlat({},r.font)),x._length=null}},96595:function(tt,W,t){"use strict";tt.exports={attributes:t(44464),supplyDefaults:t(39754),calc:t(76333),plot:t(36736),moduleType:"trace",name:"table",basePlotModule:t(99469),categories:["noOpacity"],meta:{}}},36736:function(tt,W,t){"use strict";var A=t(49850),g=t(39898),P=t(71828).numberFormat,E=t(28984),l=t(91424),x=t(63893),e=t(71828).raiseToTop,r=t(71828).strTranslate,f=t(71828).cancelTransition,a=t(51018),s=t(56269),c=t(7901);function u(K){return Math.ceil(K.calcdata.maxLineWidth/2)}function y(K,nt){return"clip"+K._fullLayout._uid+"_scrollAreaBottomClip_"+nt.key}function v(K,nt){return"clip"+K._fullLayout._uid+"_columnBoundaryClippath_"+nt.calcdata.key+"_"+nt.specIndex}function w(K){return[].concat.apply([],K.map(function(nt){return nt})).map(function(nt){return nt.__data__})}function d(K,nt,et){var dt=K.selectAll("."+A.cn.scrollbarKit).data(E.repeat,E.keyFun);dt.enter().append("g").classed(A.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),dt.each(function(Mt){var wt=Mt.scrollbarState;wt.totalHeight=function st(Mt){var wt=Mt.rowBlocks;return Z(wt,wt.length-1)+(wt.length?H(wt[wt.length-1],1/0):1)}(Mt),wt.scrollableAreaHeight=Mt.groupHeight-z(Mt),wt.currentlyVisibleHeight=Math.min(wt.totalHeight,wt.scrollableAreaHeight),wt.ratio=wt.currentlyVisibleHeight/wt.totalHeight,wt.barLength=Math.max(wt.ratio*wt.currentlyVisibleHeight,A.goldenRatio*A.scrollbarWidth),wt.barWiggleRoom=wt.currentlyVisibleHeight-wt.barLength,wt.wiggleRoom=Math.max(0,wt.totalHeight-wt.scrollableAreaHeight),wt.topY=0===wt.barWiggleRoom?0:Mt.scrollY/wt.wiggleRoom*wt.barWiggleRoom,wt.bottomY=wt.topY+wt.barLength,wt.dragMultiplier=wt.wiggleRoom/wt.barWiggleRoom}).attr("transform",function(Mt){return r(Mt.width+A.scrollbarWidth/2+A.scrollbarOffset,z(Mt))});var Tt=dt.selectAll("."+A.cn.scrollbar).data(E.repeat,E.keyFun);Tt.enter().append("g").classed(A.cn.scrollbar,!0);var bt=Tt.selectAll("."+A.cn.scrollbarSlider).data(E.repeat,E.keyFun);bt.enter().append("g").classed(A.cn.scrollbarSlider,!0),bt.attr("transform",function(Mt){return r(0,Mt.scrollbarState.topY||0)});var Dt=bt.selectAll("."+A.cn.scrollbarGlyph).data(E.repeat,E.keyFun);Dt.enter().append("line").classed(A.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",A.scrollbarWidth).attr("stroke-linecap","round").attr("y1",A.scrollbarWidth/2),Dt.attr("y2",function(Mt){return Mt.scrollbarState.barLength-A.scrollbarWidth/2}).attr("stroke-opacity",function(Mt){return Mt.columnDragInProgress||!Mt.scrollbarState.barWiggleRoom||et?0:.4}),Dt.transition().delay(0).duration(0),Dt.transition().delay(A.scrollbarHideDelay).duration(A.scrollbarHideDuration).attr("stroke-opacity",0);var Ft=Tt.selectAll("."+A.cn.scrollbarCaptureZone).data(E.repeat,E.keyFun);Ft.enter().append("line").classed(A.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",A.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Mt){var wt=g.event.y,St=this.getBoundingClientRect(),Ut=Mt.scrollbarState,Gt=wt-St.top,Pt=g.scale.linear().domain([0,Ut.scrollableAreaHeight]).range([0,Ut.totalHeight]).clamp(!0);Ut.topY<=Gt&&Gt<=Ut.bottomY||Q(nt,K,null,Pt(Gt-Ut.barLength/2))(Mt)}).call(g.behavior.drag().origin(function(Mt){return g.event.stopPropagation(),Mt.scrollbarState.scrollbarScrollInProgress=!0,Mt}).on("drag",Q(nt,K)).on("dragend",function(){})),Ft.attr("y2",function(Mt){return Mt.scrollbarState.scrollableAreaHeight}),nt._context.staticPlot&&(Dt.remove(),Ft.remove())}function o(K,nt,et,st){var Tt=function M(K){var nt=K.selectAll("."+A.cn.columnCell).data(s.splitToCells,function(et){return et.keyWithinBlock});return nt.enter().append("g").classed(A.cn.columnCell,!0),nt.exit().remove(),nt}(function h(K){var nt=K.selectAll("."+A.cn.columnCells).data(E.repeat,E.keyFun);return nt.enter().append("g").classed(A.cn.columnCells,!0),nt.exit().remove(),nt}(et));(function S(K){K.each(function(nt,et){var st=nt.calcdata.cells.font,dt=nt.column.specIndex,Tt={size:N(st.size,dt,et),color:N(st.color,dt,et),family:N(st.family,dt,et)};nt.rowNumber=nt.key,nt.align=N(nt.calcdata.cells.align,dt,et),nt.cellBorderWidth=N(nt.calcdata.cells.line.width,dt,et),nt.font=Tt})})(Tt),function n(K){K.attr("width",function(nt){return nt.column.columnWidth}).attr("stroke-width",function(nt){return nt.cellBorderWidth}).each(function(nt){var et=g.select(this);c.stroke(et,N(nt.calcdata.cells.line.color,nt.column.specIndex,nt.rowNumber)),c.fill(et,N(nt.calcdata.cells.fill.color,nt.column.specIndex,nt.rowNumber))})}(function T(K){var nt=K.selectAll("."+A.cn.cellRect).data(E.repeat,function(et){return et.keyWithinBlock});return nt.enter().append("rect").classed(A.cn.cellRect,!0),nt}(Tt));var Ft=function L(K){var nt=K.selectAll("."+A.cn.cellText).data(E.repeat,function(et){return et.keyWithinBlock});return nt.enter().append("text").classed(A.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){g.event.stopPropagation()}),nt}(function m(K){var nt=K.selectAll("."+A.cn.cellTextHolder).data(E.repeat,function(et){return et.keyWithinBlock});return nt.enter().append("g").classed(A.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),nt}(Tt));(function b(K){K.each(function(nt){l.font(g.select(this),nt.font)})})(Ft),C(Ft,nt,st,K),j(Tt)}function C(K,nt,et,st){K.text(function(dt){var Tt=dt.column.specIndex,bt=dt.rowNumber,Dt=dt.value,Ft="string"==typeof Dt,Mt=Ft&&Dt.match(/<br>/i),wt=!Ft||Mt;dt.mayHaveMarkup=Ft&&Dt.match(/[<&>]/);var St=function p(K){return"string"==typeof K&&K.match(A.latexCheck)}(Dt);dt.latex=St;var te,_t,Ut=St?"":N(dt.calcdata.cells.prefix,Tt,bt)||"",Gt=St?"":N(dt.calcdata.cells.suffix,Tt,bt)||"",Pt=St?null:N(dt.calcdata.cells.format,Tt,bt)||null,Vt=Ut+(Pt?P(Pt)(dt.value):dt.value)+Gt;if(dt.wrappingNeeded=!dt.wrapped&&!wt&&!St&&(te=F(Vt)),dt.cellHeightMayIncrease=Mt||St||dt.mayHaveMarkup||(void 0===te?F(Vt):te),dt.needsConvertToTspans=dt.mayHaveMarkup||dt.wrappingNeeded||dt.latex,dt.wrappingNeeded){var zt=(" "===A.wrapSplitCharacter?Vt.replace(/<a href=/gi,"<a_href="):Vt).split(A.wrapSplitCharacter),qt=" "===A.wrapSplitCharacter?zt.map(function(ae){return ae.replace(/<a_href=/gi,"<a href=")}):zt;dt.fragments=qt.map(function(ae){return{text:ae,width:null}}),dt.fragments.push({fragment:A.wrapSpacer,width:null}),_t=qt.join(A.lineBreaker)+A.lineBreaker+A.wrapSpacer}else delete dt.fragments,_t=Vt;return _t}).attr("dy",function(dt){return dt.needsConvertToTspans?0:"0.75em"}).each(function(dt){var bt=g.select(this);dt.needsConvertToTspans?x.convertToTspans(bt,st,(dt.wrappingNeeded?it:ut)(et,this,nt,st,dt)):g.select(this.parentNode).attr("transform",function(Ft){return r(J(Ft),A.cellPad)}).attr("text-anchor",function(Ft){return{left:"start",center:"middle",right:"end"}[Ft.align]})})}function F(K){return-1!==K.indexOf(A.wrapSplitCharacter)}function N(K,nt,et){if(Array.isArray(K)){var st=K[Math.min(nt,K.length-1)];return Array.isArray(st)?st[Math.min(et,st.length-1)]:st}return K}function k(K,nt,et){K.transition().ease(A.releaseTransitionEase).duration(A.releaseTransitionDuration).attr("transform",r(nt.x,et))}function O(K){return"cells"===K.type}function B(K){return"header"===K.type}function z(K){return(K.rowBlocks.length?K.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(et,st){return et+H(st,1/0)},0)}function G(K,nt,et){var st=w(nt)[0];if(void 0!==st){var dt=st.rowBlocks,Tt=st.calcdata,bt=Z(dt,dt.length),Dt=st.calcdata.groupHeight-z(st),Ft=Tt.scrollY=Math.max(0,Math.min(bt-Dt,Tt.scrollY)),Mt=function U(K,nt,et){for(var st=[],dt=0,Tt=0;Tt<K.length;Tt++){for(var bt=K[Tt],Dt=bt.rows,Ft=0,Mt=0;Mt<Dt.length;Mt++)Ft+=Dt[Mt].rowHeight;bt.allRowsHeight=Ft,nt<dt+Ft&&nt+et>dt&&st.push(Tt),dt+=Ft}return st}(dt,Ft,Dt);1===Mt.length&&(Mt[0]===dt.length-1?Mt.unshift(Mt[0]-1):Mt.push(Mt[0]+1)),Mt[0]%2&&Mt.reverse(),nt.each(function(wt,St){wt.page=Mt[St],wt.scrollY=Ft}),nt.attr("transform",function(wt){var St=Z(wt.rowBlocks,wt.page)-wt.scrollY;return r(0,St)}),K&&(rt(K,et,nt,Mt,st.prevPages,st,0),rt(K,et,nt,Mt,st.prevPages,st,1),d(et,K))}}function Q(K,nt,et,st){return function(Tt){var bt=Tt.calcdata?Tt.calcdata:Tt,Dt=nt.filter(function(St){return bt.key===St.key}),Mt=bt.scrollY;bt.scrollY=void 0===st?bt.scrollY+(et||bt.scrollbarState.dragMultiplier)*g.event.dy:st;var wt=Dt.selectAll("."+A.cn.yColumn).selectAll("."+A.cn.columnBlock).filter(O);return G(K,wt,Dt),bt.scrollY===Mt}}function rt(K,nt,et,st,dt,Tt,bt){st[bt]!==dt[bt]&&(clearTimeout(Tt.currentRepaint[bt]),Tt.currentRepaint[bt]=setTimeout(function(){var Ft=et.filter(function(Mt,wt){return wt===bt&&st[wt]!==dt[wt]});o(K,nt,Ft,et),dt[bt]=st[bt]}))}function it(K,nt,et,st){return function(){var Tt=g.select(nt.parentNode);Tt.each(function(bt){var Dt=bt.fragments;Tt.selectAll("tspan.line").each(function(Vt,te){Dt[te].width=this.getComputedTextLength()});var St,Ut,Ft=Dt[Dt.length-1].width,Mt=Dt.slice(0,-1),wt=[],Gt=0,Pt=bt.column.columnWidth-2*A.cellPad;for(bt.value="";Mt.length;)Gt+(Ut=(St=Mt.shift()).width+Ft)>Pt&&(bt.value+=wt.join(A.wrapSpacer)+A.lineBreaker,wt=[],Gt=0),wt.push(St.text),Gt+=Ut;Gt&&(bt.value+=wt.join(A.wrapSpacer)),bt.wrapped=!0}),Tt.selectAll("tspan.line").remove(),C(Tt.select("."+A.cn.cellText),et,K,st),g.select(nt.parentNode.parentNode).call(j)}}function ut(K,nt,et,st,dt){return function(){if(!dt.settledY){var bt=g.select(nt.parentNode),Dt=at(dt),Ft=dt.key-Dt.firstRowIndex,Mt=Dt.rows[Ft].rowHeight,wt=dt.cellHeightMayIncrease?nt.parentNode.getBoundingClientRect().height+2*A.cellPad:Mt,St=Math.max(wt,Mt);St-Dt.rows[Ft].rowHeight&&(Dt.rows[Ft].rowHeight=St,K.selectAll("."+A.cn.columnCell).call(j),G(null,K.filter(O),0),d(et,st,!0)),bt.attr("transform",function(){var Vt=this.parentNode.getBoundingClientRect(),te=g.select(this.parentNode).select("."+A.cn.cellRect).node().getBoundingClientRect(),_t=this.transform.baseVal.consolidate(),kt=te.top-Vt.top+(_t?_t.matrix.f:A.cellPad);return r(J(dt,g.select(this.parentNode).select("."+A.cn.cellTextHolder).node().getBoundingClientRect().width),kt)}),dt.settledY=!0}}}function J(K,nt){switch(K.align){case"left":default:return A.cellPad;case"right":return K.column.columnWidth-(nt||0)-A.cellPad;case"center":return(K.column.columnWidth-(nt||0))/2}}function j(K){K.attr("transform",function(nt){var et=nt.rowBlocks[0].auxiliaryBlocks.reduce(function(bt,Dt){return bt+H(Dt,1/0)},0),dt=H(at(nt),nt.key);return r(0,dt+et)}).selectAll("."+A.cn.cellRect).attr("height",function(nt){return function _(K,nt){return K.rows[nt-K.firstRowIndex]}(at(nt),nt.key).rowHeight})}function Z(K,nt){for(var et=0,st=nt-1;st>=0;st--)et+=X(K[st]);return et}function H(K,nt){for(var et=0,st=0;st<K.rows.length&&K.rows[st].rowIndex<nt;st++)et+=K.rows[st].rowHeight;return et}function X(K){var nt=K.allRowsHeight;if(void 0!==nt)return nt;for(var et=0,st=0;st<K.rows.length;st++)et+=K.rows[st].rowHeight;return K.allRowsHeight=et,et}function at(K){return K.rowBlocks[K.page]}tt.exports=function(nt,et){var st=!nt._context.staticPlot,dt=nt._fullLayout._paper.selectAll("."+A.cn.table).data(et.map(function(kt){var zt=E.unwrap(kt);return a(nt,zt.trace)}),E.keyFun);dt.exit().remove(),dt.enter().append("g").classed(A.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),dt.attr("width",function(kt){return kt.width+kt.size.l+kt.size.r}).attr("height",function(kt){return kt.height+kt.size.t+kt.size.b}).attr("transform",function(kt){return r(kt.translateX,kt.translateY)});var Tt=dt.selectAll("."+A.cn.tableControlView).data(E.repeat,E.keyFun),bt=Tt.enter().append("g").classed(A.cn.tableControlView,!0).style("box-sizing","content-box");if(st){var Dt="onwheel"in document?"wheel":"mousewheel";bt.on("mousemove",function(kt){Tt.filter(function(zt){return kt===zt}).call(d,nt)}).on(Dt,function(kt){kt.scrollbarState.wheeling||(kt.scrollbarState.wheeling=!0,Q(nt,Tt,null,kt.scrollY+g.event.deltaY)(kt)||(g.event.stopPropagation(),g.event.preventDefault()),kt.scrollbarState.wheeling=!1)}).call(d,nt,!0)}Tt.attr("transform",function(kt){return r(kt.size.l,kt.size.t)});var Ft=Tt.selectAll("."+A.cn.scrollBackground).data(E.repeat,E.keyFun);Ft.enter().append("rect").classed(A.cn.scrollBackground,!0).attr("fill","none"),Ft.attr("width",function(kt){return kt.width}).attr("height",function(kt){return kt.height}),Tt.each(function(kt){l.setClipUrl(g.select(this),y(nt,kt),nt)});var Mt=Tt.selectAll("."+A.cn.yColumn).data(function(kt){return kt.columns},E.keyFun);Mt.enter().append("g").classed(A.cn.yColumn,!0),Mt.exit().remove(),Mt.attr("transform",function(kt){return r(kt.x,0)}),st&&Mt.call(g.behavior.drag().origin(function(kt){return k(g.select(this),kt,-A.uplift),e(this),kt.calcdata.columnDragInProgress=!0,d(Tt.filter(function(qt){return kt.calcdata.key===qt.key}),nt),kt}).on("drag",function(kt){var zt=g.select(this),qt=function(pe){return(kt===pe?g.event.x:pe.x)+pe.columnWidth/2};kt.x=Math.max(-A.overdrag,Math.min(kt.calcdata.width+A.overdrag-kt.columnWidth,g.event.x)),w(Mt).filter(function(pe){return pe.calcdata.key===kt.calcdata.key}).sort(function(pe,ye){return qt(pe)-qt(ye)}).forEach(function(pe,ye){pe.xIndex=ye,pe.x=kt===pe?pe.x:pe.xScale(pe)}),Mt.filter(function(pe){return kt!==pe}).transition().ease(A.transitionEase).duration(A.transitionDuration).attr("transform",function(pe){return r(pe.x,0)}),zt.call(f).attr("transform",r(kt.x,-A.uplift))}).on("dragend",function(kt){var zt=g.select(this),qt=kt.calcdata;kt.x=kt.xScale(kt),kt.calcdata.columnDragInProgress=!1,k(zt,kt,0),function D(K,nt,et){var st=nt.gdColumnsOriginalOrder;nt.gdColumns.sort(function(dt,Tt){return et[st.indexOf(dt)]-et[st.indexOf(Tt)]}),nt.columnorder=et,K.emit("plotly_restyle")}(nt,qt,qt.columns.map(function(ae){return ae.xIndex}))})),Mt.each(function(kt){l.setClipUrl(g.select(this),v(nt,kt),nt)});var wt=Mt.selectAll("."+A.cn.columnBlock).data(s.splitToPanels,E.keyFun);wt.enter().append("g").classed(A.cn.columnBlock,!0).attr("id",function(kt){return kt.key}),wt.style("cursor",function(kt){return kt.dragHandle?"ew-resize":kt.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var St=wt.filter(B),Ut=wt.filter(O);st&&Ut.call(g.behavior.drag().origin(function(kt){return g.event.stopPropagation(),kt}).on("drag",Q(nt,Tt,-1)).on("dragend",function(){})),o(nt,Tt,St,wt),o(nt,Tt,Ut,wt);var Gt=Tt.selectAll("."+A.cn.scrollAreaClip).data(E.repeat,E.keyFun);Gt.enter().append("clipPath").classed(A.cn.scrollAreaClip,!0).attr("id",function(kt){return y(nt,kt)});var Pt=Gt.selectAll("."+A.cn.scrollAreaClipRect).data(E.repeat,E.keyFun);Pt.enter().append("rect").classed(A.cn.scrollAreaClipRect,!0).attr("x",-A.overdrag).attr("y",-A.uplift).attr("fill","none"),Pt.attr("width",function(kt){return kt.width+2*A.overdrag}).attr("height",function(kt){return kt.height+A.uplift}),Mt.selectAll("."+A.cn.columnBoundary).data(E.repeat,E.keyFun).enter().append("g").classed(A.cn.columnBoundary,!0);var te=Mt.selectAll("."+A.cn.columnBoundaryClippath).data(E.repeat,E.keyFun);te.enter().append("clipPath").classed(A.cn.columnBoundaryClippath,!0),te.attr("id",function(kt){return v(nt,kt)});var _t=te.selectAll("."+A.cn.columnBoundaryRect).data(E.repeat,E.keyFun);_t.enter().append("rect").classed(A.cn.columnBoundaryRect,!0).attr("fill","none"),_t.attr("width",function(kt){return kt.columnWidth+2*u(kt)}).attr("height",function(kt){return kt.calcdata.height+2*u(kt)+A.uplift}).attr("x",function(kt){return-u(kt)}).attr("y",function(kt){return-u(kt)}),G(null,Ut,Tt)}},45802:function(tt,W,t){"use strict";var A=t(5386).fF,g=t(5386).si,i=t(50693),P=t(27670).Y,E=t(34e3),l=t(57564),x=t(43473),e=t(1426).extendFlat,r=t(79952).u;tt.exports={labels:l.labels,parents:l.parents,values:l.values,branchvalues:l.branchvalues,count:l.count,level:l.level,maxdepth:l.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:e({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:l.marker.colors,pattern:r,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:l.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:e({},E.textfont,{}),editType:"calc"},text:E.text,textinfo:l.textinfo,texttemplate:g({editType:"plot"},{keys:x.eventDataKeys.concat(["label","value"])}),hovertext:E.hovertext,hoverinfo:l.hoverinfo,hovertemplate:A({},{keys:x.eventDataKeys}),textfont:E.textfont,insidetextfont:E.insidetextfont,outsidetextfont:e({},E.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:E.sort,root:l.root,domain:P({name:"treemap",trace:!0,editType:"calc"})}},78018:function(tt,W,t){"use strict";var A=t(74875);W.name="treemap",W.plot=function(g,i,P,E){A.plotBasePlot(W.name,g,i,P,E)},W.clean=function(g,i,P,E){A.cleanBasePlot(W.name,g,i,P,E)}},65039:function(tt,W,t){"use strict";var A=t(52147);W.y=function(g,i){return A.calc(g,i)},W.T=function(g){return A._runCrossTraceCalc("treemap",g)}},43473:function(tt){"use strict";tt.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(tt,W,t){"use strict";var A=t(71828),g=t(45802),i=t(7901),P=t(27670).c,E=t(90769).handleText,l=t(97313).TEXTPAD,x=t(37434).handleMarkerDefaults,e=t(21081),r=e.hasColorscale,f=e.handleDefaults;tt.exports=function(s,c,u,y){function v(n,C){return A.coerce(s,c,g,n,C)}var w=v("labels"),d=v("parents");if(w&&w.length&&d&&d.length){var o=v("values");v(o&&o.length?"branchvalues":"count"),v("level"),v("maxdepth"),"squarify"===v("tiling.packing")&&v("tiling.squarifyratio"),v("tiling.flip"),v("tiling.pad");var M=v("text");v("texttemplate"),c.texttemplate||v("textinfo",Array.isArray(M)?"text+label":"label"),v("hovertext"),v("hovertemplate");var T=v("pathbar.visible");E(s,c,y,v,"auto",{hasPathbar:T,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),v("textposition");var m=-1!==c.textposition.indexOf("bottom");x(s,c,y,v),(c._hasColorscale=r(s,"marker","colors")||(s.marker||{}).coloraxis)?f(s,c,y,v,{prefix:"marker.",cLetter:"c"}):v("marker.depthfade",!(c.marker.colors||[]).length);var b=2*c.textfont.size;v("marker.pad.t",m?b/4:b),v("marker.pad.l",b/4),v("marker.pad.r",b/4),v("marker.pad.b",m?b:b/4),v("marker.cornerradius"),c._hovered={marker:{line:{width:2,color:i.contrast(y.paper_bgcolor)}}},T&&(v("pathbar.thickness",c.pathbar.textfont.size+2*l),v("pathbar.side"),v("pathbar.edgeshape")),v("sort"),v("root.color"),P(c,y,v),c._length=null}else c.visible=!1}},80694:function(tt,W,t){"use strict";var A=t(39898),g=t(2791),P=t(72597).clearMinTextSize,E=t(16688).resizeText,l=t(46650);tt.exports=function(e,r,f,a,s){var w,d,c=s.type,u=s.drawDescendants,y=e._fullLayout,v=y["_"+c+"layer"],o=!f;P(c,y),(w=v.selectAll("g.trace."+c).data(r,function(M){return M[0].trace.uid})).enter().append("g").classed("trace",!0).classed(c,!0),w.order(),!y.uniformtext.mode&&g.hasTransition(f)?(a&&(d=a()),A.transition().duration(f.duration).ease(f.easing).each("end",function(){d&&d()}).each("interrupt",function(){d&&d()}).each(function(){v.selectAll("g.trace").each(function(M){l(e,M,this,f,u)})})):(w.each(function(M){l(e,M,this,f,u)}),y.uniformtext.mode&&E(e,v.selectAll(".trace"),c)),o&&w.exit().remove()}},66209:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=t(91424),P=t(63893),E=t(37210),l=t(96362).styleOne,x=t(43473),e=t(2791),r=t(83523),f=!0;tt.exports=function(s,c,u,y,v){var w=v.barDifY,d=v.width,o=v.height,h=v.viewX,M=v.viewY,T=v.pathSlice,L=v.toMoveInsideSlice,m=v.strTransform,S=v.hasTransition,b=v.handleSlicesExit,n=v.makeUpdateSliceInterpolator,C=v.makeUpdateTextInterpolator,p={},F=s._context.staticPlot,D=s._fullLayout,N=c[0],k=N.trace,O=N.hierarchy,B=d/k._entryDepth,z=e.listPath(u.data,"id"),U=E(O.copy(),[d,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(U=U.filter(function(Q){var rt=z.indexOf(Q.data.id);return-1!==rt&&(Q.x0=B*rt,Q.x1=B*(rt+1),Q.y0=w,Q.y1=w+o,Q.onPathbar=!0,!0)})).reverse(),(y=y.data(U,e.getPtId)).enter().append("g").classed("pathbar",!0),b(y,f,p,[d,o],T),y.order();var G=y;S&&(G=G.transition().each("end",function(){var Q=A.select(this);e.setSliceCursor(Q,s,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),G.each(function(Q){Q._x0=h(Q.x0),Q._x1=h(Q.x1),Q._y0=M(Q.y0),Q._y1=M(Q.y1),Q._hoverX=h(Q.x1-Math.min(d,o)/2),Q._hoverY=M(Q.y1-o/2);var rt=A.select(this),it=g.ensureSingle(rt,"path","surface",function(Z){Z.style("pointer-events",F?"none":"all")});S?it.transition().attrTween("d",function(Z){var H=n(Z,f,p,[d,o]);return function(X){return T(H(X))}}):it.attr("d",T),rt.call(r,u,s,c,{styleOne:l,eventDataKeys:x.eventDataKeys,transitionTime:x.CLICK_TRANSITION_TIME,transitionEasing:x.CLICK_TRANSITION_EASING}).call(e.setSliceCursor,s,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:s._transitioning}),it.call(l,Q,k,s,{hovered:!1}),Q._text=(e.getPtLabel(Q)||"").split("<br>").join(" ")||"";var ut=g.ensureSingle(rt,"g","slicetext"),J=g.ensureSingle(ut,"text","",function(Z){Z.attr("data-notex",1)}),j=g.ensureUniformFontSize(s,e.determineTextFont(k,Q,D.font,{onPathbar:!0}));J.text(Q._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(i.font,j).call(P.convertToTspans,s),Q.textBB=i.bBox(J.node()),Q.transform=L(Q,{fontSize:j.size,onPathbar:!0}),Q.transform.fontSize=j.size,S?J.transition().attrTween("transform",function(Z){var H=C(Z,f,p,[d,o]);return function(X){return m(H(X))}}):J.attr("transform",m(Q))})}},52583:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=t(91424),P=t(63893),E=t(37210),l=t(96362).styleOne,x=t(43473),e=t(2791),r=t(83523),f=t(24714).formatSliceLabel,a=!1;tt.exports=function(c,u,y,v,w){var d=w.width,o=w.height,h=w.viewX,M=w.viewY,T=w.pathSlice,L=w.toMoveInsideSlice,m=w.strTransform,S=w.hasTransition,b=w.handleSlicesExit,n=w.makeUpdateSliceInterpolator,C=w.makeUpdateTextInterpolator,p=w.prevEntry,D=c._context.staticPlot,N=c._fullLayout,O=u[0].trace,B=-1!==O.textposition.indexOf("left"),z=-1!==O.textposition.indexOf("right"),U=-1!==O.textposition.indexOf("bottom"),G=!U&&!O.marker.pad.t||U&&!O.marker.pad.b,rt=E(y,[d,o],{packing:O.tiling.packing,squarifyratio:O.tiling.squarifyratio,flipX:O.tiling.flip.indexOf("x")>-1,flipY:O.tiling.flip.indexOf("y")>-1,pad:{inner:O.tiling.pad,top:O.marker.pad.t,left:O.marker.pad.l,right:O.marker.pad.r,bottom:O.marker.pad.b}}).descendants(),it=1/0,ut=-1/0;rt.forEach(function(X){var at=X.depth;at>=O._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(it=Math.min(it,at),ut=Math.max(ut,at))}),v=v.data(rt,e.getPtId),O._maxVisibleLayers=isFinite(ut)?ut-it+1:0,v.enter().append("g").classed("slice",!0),b(v,a,{},[d,o],T),v.order();var J=null;if(S&&p){var j=e.getPtId(p);v.each(function(X){null===J&&e.getPtId(X)===j&&(J={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var Z=function(){return J||{x0:0,x1:d,y0:0,y1:o}},H=v;return S&&(H=H.transition().each("end",function(){var X=A.select(this);e.setSliceCursor(X,c,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),H.each(function(X){var at=e.isHeader(X,O);X._x0=h(X.x0),X._x1=h(X.x1),X._y0=M(X.y0),X._y1=M(X.y1),X._hoverX=h(X.x1-O.marker.pad.r),X._hoverY=M(U?X.y1-O.marker.pad.b/2:X.y0+O.marker.pad.t/2);var _=A.select(this),K=g.ensureSingle(_,"path","surface",function(dt){dt.style("pointer-events",D?"none":"all")});S?K.transition().attrTween("d",function(dt){var Tt=n(dt,a,Z(),[d,o]);return function(bt){return T(Tt(bt))}}):K.attr("d",T),_.call(r,y,c,u,{styleOne:l,eventDataKeys:x.eventDataKeys,transitionTime:x.CLICK_TRANSITION_TIME,transitionEasing:x.CLICK_TRANSITION_EASING}).call(e.setSliceCursor,c,{isTransitioning:c._transitioning}),K.call(l,X,O,c,{hovered:!1}),X._text=X.x0===X.x1||X.y0===X.y1?"":at?G?"":e.getPtLabel(X)||"":f(X,y,O,u,N)||"";var nt=g.ensureSingle(_,"g","slicetext"),et=g.ensureSingle(nt,"text","",function(dt){dt.attr("data-notex",1)}),st=g.ensureUniformFontSize(c,e.determineTextFont(O,X,N.font));et.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":B||at?"start":"middle").call(i.font,st).call(P.convertToTspans,c),X.textBB=i.bBox(et.node()),X.transform=L(X,{fontSize:st.size,isHeader:at}),X.transform.fontSize=st.size,S?et.transition().attrTween("transform",function(dt){var Tt=C(dt,a,Z(),[d,o]);return function(bt){return m(Tt(bt))}}):et.attr("transform",m(X))}),J}},14102:function(tt){"use strict";tt.exports=function W(t,A,g){var i;g.swapXY&&(i=t.x0,t.x0=t.y0,t.y0=i,i=t.x1,t.x1=t.y1,t.y1=i),g.flipX&&(i=t.x0,t.x0=A[0]-t.x1,t.x1=A[0]-i),g.flipY&&(i=t.y0,t.y0=A[1]-t.y1,t.y1=A[1]-i);var P=t.children;if(P)for(var E=0;E<P.length;E++)W(P[E],A,g)}},70954:function(tt,W,t){"use strict";tt.exports={moduleType:"trace",name:"treemap",basePlotModule:t(78018),categories:[],animatable:!0,attributes:t(45802),layoutAttributes:t(55479),supplyDefaults:t(91174),supplyLayoutDefaults:t(77182),calc:t(65039).y,crossTraceCalc:t(65039).T,plot:t(5893),style:t(96362).style,colorbar:t(4898),meta:{}}},55479:function(tt){"use strict";tt.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(tt,W,t){"use strict";var A=t(71828),g=t(55479);tt.exports=function(P,E){function l(x,e){return A.coerce(P,E,g,x,e)}l("treemapcolorway",E.colorway),l("extendtreemapcolors")}},37210:function(tt,W,t){"use strict";var A=t(674),g=t(14102);tt.exports=function(E,l,x){var y,e=x.flipX,r=x.flipY,f="dice-slice"===x.packing,a=x.pad[r?"bottom":"top"],s=x.pad[e?"right":"left"],c=x.pad[e?"left":"right"],u=x.pad[r?"top":"bottom"];f&&(y=s,s=a,a=y,y=c,c=u,u=y);var v=A.treemap().tile(function i(P,E){switch(P){case"squarify":return A.treemapSquarify.ratio(E);case"binary":return A.treemapBinary;case"dice":return A.treemapDice;case"slice":return A.treemapSlice;default:return A.treemapSliceDice}}(x.packing,x.squarifyratio)).paddingInner(x.pad.inner).paddingLeft(s).paddingRight(c).paddingTop(a).paddingBottom(u).size(f?[l[1],l[0]]:l)(E);return(f||e||r)&&g(v,l,{swapXY:f,flipX:e,flipY:r}),v}},5893:function(tt,W,t){"use strict";var A=t(80694),g=t(52583);tt.exports=function(P,E,l,x){return A(P,E,l,x,{type:"treemap",drawDescendants:g})}},46650:function(tt,W,t){"use strict";var A=t(39898),g=t(81684).sX,i=t(2791),P=t(71828),E=t(97313).TEXTPAD,x=t(17295).toMoveInsideBar,r=t(72597).recordMinTextSize,f=t(43473),a=t(66209);function s(c){return i.isHierarchyRoot(c)?"":i.getPtId(c)}tt.exports=function(u,y,v,w,d){var o=u._fullLayout,h=y[0],M=h.trace,L="icicle"===M.type,m=h.hierarchy,S=i.findEntryWithLevel(m,M.level),b=A.select(v),n=b.selectAll("g.pathbar"),C=b.selectAll("g.slice");if(!S)return n.remove(),void C.remove();var p=i.isHierarchyRoot(S),F=!o.uniformtext.mode&&i.hasTransition(w),D=i.getMaxDepth(M),k=o._size,O=M.domain,B=k.w*(O.x[1]-O.x[0]),z=k.h*(O.y[1]-O.y[0]),U=B,G=M.pathbar.thickness,Q=M.marker.line.width+f.gapWithPathbar,rt=M.pathbar.visible?M.pathbar.side.indexOf("bottom")>-1?z+Q:-(G+Q):0,it={x0:U,x1:U,y0:rt,y1:rt+G},ut=function(Zt,Ct,Et){var Rt=M.tiling.pad,Ot=function(vt){return vt-Rt<=Ct.x0},It=function(vt){return vt+Rt>=Ct.x1},gt=function(vt){return vt-Rt<=Ct.y0},pt=function(vt){return vt+Rt>=Ct.y1};return Zt.x0===Ct.x0&&Zt.x1===Ct.x1&&Zt.y0===Ct.y0&&Zt.y1===Ct.y1?{x0:Zt.x0,x1:Zt.x1,y0:Zt.y0,y1:Zt.y1}:{x0:Ot(Zt.x0-Rt)?0:It(Zt.x0-Rt)?Et[0]:Zt.x0,x1:Ot(Zt.x1+Rt)?0:It(Zt.x1+Rt)?Et[0]:Zt.x1,y0:gt(Zt.y0-Rt)?0:pt(Zt.y0-Rt)?Et[1]:Zt.y0,y1:gt(Zt.y1+Rt)?0:pt(Zt.y1+Rt)?Et[1]:Zt.y1}},J=null,j={},Z={},H=null,X=function(Zt,Ct){return Ct?j[s(Zt)]:Z[s(Zt)]},at=function(Zt,Ct,Et,Rt){if(Ct)return j[s(m)]||it;var Ot=Z[M.level]||Et;return function(Zt){return Zt.data.depth-S.data.depth<D}(Zt)?ut(Zt,Ot,Rt):{}};h.hasMultipleRoots&&p&&D++,M._maxDepth=D,M._backgroundColor=o.paper_bgcolor,M._entryDepth=S.data.depth,M._atRootLevel=p;var _=-B/2+k.l+k.w*(O.x[1]+O.x[0])/2,K=-z/2+k.t+k.h*(1-(O.y[1]+O.y[0])/2),nt=function(Zt){return _+Zt},et=function(Zt){return K+Zt},st=et(0),dt=nt(0),Tt=function(Zt){return dt+Zt},bt=function(Zt){return st+Zt};function Dt(Zt,Ct){return Zt+","+Ct}var Ft=Tt(0),Mt=function(Zt){Zt.x=Math.max(Ft,Zt.x)},wt=M.pathbar.edgeshape,Ut=M[L?"tiling":"marker"].pad,Gt=function(Zt){return-1!==M.textposition.indexOf(Zt)},Pt=Gt("top"),Vt=Gt("left"),te=Gt("right"),_t=Gt("bottom"),zt=function(Zt,Ct){var Et=Zt.x0,Rt=Zt.x1,Ot=Zt.y0,It=Zt.y1,gt=Zt.textBB,vt=Pt||Ct.isHeader&&!_t?"start":_t?"end":"middle",yt=Gt("right"),Yt=Gt("left")||Ct.onPathbar;if(Ct.isHeader){if((Et+=(L?Ut:Ut.l)-E)>=(Rt-=(L?Ut:Ut.r)-E)){var le=(Et+Rt)/2;Et=le,Rt=le}var he;_t?Ot<(he=It-(L?Ut:Ut.b))&&he<It&&(Ot=he):Ot<(he=Ot+(L?Ut:Ut.t))&&he<It&&(It=he)}var ke=x(Et,Rt,Ot,It,gt,{isHorizontal:!1,constrained:!0,angle:0,anchor:vt,leftToRight:Yt?-1:yt?1:0});return ke.fontSize=Ct.fontSize,ke.targetX=nt(ke.targetX),ke.targetY=et(ke.targetY),isNaN(ke.targetX)||isNaN(ke.targetY)?{}:(Et!==Rt&&Ot!==It&&r(M.type,ke,o),{scale:ke.scale,rotate:ke.rotate,textX:ke.textX,textY:ke.textY,anchorX:ke.anchorX,anchorY:ke.anchorY,targetX:ke.targetX,targetY:ke.targetY})},qt=function(Zt,Ct){for(var Et,Rt=0,Ot=Zt;!Et&&Rt<D;)Rt++,(Ot=Ot.parent)?Et=X(Ot,Ct):Rt=D;return Et||{}},oe=function(Zt,Ct,Et,Rt,Ot){var gt,It=X(Zt,Ct);if(It)gt=It;else if(Ct)gt=it;else if(J)if(Zt.parent){var pt=H||Et;pt&&!Ct?gt=ut(Zt,pt,Rt):P.extendFlat(gt={},qt(Zt,Ct))}else gt=P.extendFlat({},Zt),L&&("h"===Ot.orientation?Ot.flipX?gt.x0=Zt.x1:gt.x1=0:Ot.flipY?gt.y0=Zt.y1:gt.y1=0);else gt={};return g(gt,{x0:Zt.x0,x1:Zt.x1,y0:Zt.y0,y1:Zt.y1})},pe=function(Zt,Ct,Et,Rt){var Ot=X(Zt,Ct),It={},gt=at(Zt,Ct,Et,Rt);P.extendFlat(It,{transform:zt({x0:gt.x0,x1:gt.x1,y0:gt.y0,y1:gt.y1,textBB:Zt.textBB,_text:Zt._text},{isHeader:i.isHeader(Zt,M)})}),Ot?It=Ot:Zt.parent&&P.extendFlat(It,qt(Zt,Ct));var pt=Zt.transform;return Zt.x0!==Zt.x1&&Zt.y0!==Zt.y1&&r(M.type,pt,o),g(It,{transform:{scale:pt.scale,rotate:pt.rotate,textX:pt.textX,textY:pt.textY,anchorX:pt.anchorX,anchorY:pt.anchorY,targetX:pt.targetX,targetY:pt.targetY}})},ye=function(Zt,Ct,Et,Rt,Ot){var It=Rt[0],gt=Rt[1];F?Zt.exit().transition().each(function(){var pt=A.select(this);pt.select("path.surface").transition().attrTween("d",function(Yt){var Qt=function(Zt,Ct,Et,Rt){var It,Ot=X(Zt,Ct);if(Ct)It=it;else{var gt=X(S,Ct);It=gt?ut(Zt,gt,Rt):{}}return g(Ot,It)}(Yt,Ct,0,[It,gt]);return function(le){return Ot(Qt(le))}}),pt.select("g.slicetext").attr("opacity",0)}).remove():Zt.exit().remove()},Fe=function(Zt){var Ct=Zt.transform;return Zt.x0!==Zt.x1&&Zt.y0!==Zt.y1&&r(M.type,Ct,o),P.getTextTransform({textX:Ct.textX,textY:Ct.textY,anchorX:Ct.anchorX,anchorY:Ct.anchorY,targetX:Ct.targetX,targetY:Ct.targetY,scale:Ct.scale,rotate:Ct.rotate})};F&&(n.each(function(Zt){j[s(Zt)]={x0:Zt.x0,x1:Zt.x1,y0:Zt.y0,y1:Zt.y1},Zt.transform&&(j[s(Zt)].transform={textX:Zt.transform.textX,textY:Zt.transform.textY,anchorX:Zt.transform.anchorX,anchorY:Zt.transform.anchorY,targetX:Zt.transform.targetX,targetY:Zt.transform.targetY,scale:Zt.transform.scale,rotate:Zt.transform.rotate})}),C.each(function(Zt){Z[s(Zt)]={x0:Zt.x0,x1:Zt.x1,y0:Zt.y0,y1:Zt.y1},Zt.transform&&(Z[s(Zt)].transform={textX:Zt.transform.textX,textY:Zt.transform.textY,anchorX:Zt.transform.anchorX,anchorY:Zt.transform.anchorY,targetX:Zt.transform.targetX,targetY:Zt.transform.targetY,scale:Zt.transform.scale,rotate:Zt.transform.rotate}),!J&&i.isEntry(Zt)&&(J=Zt)})),H=d(u,y,S,C,{width:B,height:z,viewX:nt,viewY:et,pathSlice:function(Zt){var Ct=nt(Zt.x0),Et=nt(Zt.x1),Rt=et(Zt.y0),Ot=et(Zt.y1),It=Et-Ct,gt=Ot-Rt;if(!It||!gt)return"";var vt=Math.min(M.marker.cornerradius||0,It/2,gt/2);vt&&Zt.data&&Zt.data.data&&Zt.data.data.label&&(Pt&&(vt=Math.min(vt,Ut.t)),Vt&&(vt=Math.min(vt,Ut.l)),te&&(vt=Math.min(vt,Ut.r)),_t&&(vt=Math.min(vt,Ut.b)));var yt=function(Yt,Qt){return vt?"a"+Dt(vt,vt)+" 0 0 1 "+Dt(Yt,Qt):""};return"M"+Dt(Ct,Rt+vt)+yt(vt,-vt)+"L"+Dt(Et-vt,Rt)+yt(vt,vt)+"L"+Dt(Et,Ot-vt)+yt(-vt,vt)+"L"+Dt(Ct+vt,Ot)+yt(-vt,-vt)+"Z"},toMoveInsideSlice:zt,prevEntry:J,makeUpdateSliceInterpolator:oe,makeUpdateTextInterpolator:pe,handleSlicesExit:ye,hasTransition:F,strTransform:Fe}),M.pathbar.visible?a(u,y,S,n,{barDifY:rt,width:U,height:G,viewX:Tt,viewY:bt,pathSlice:function(Zt){var Ct=Tt(Math.max(Math.min(Zt.x0,Zt.x0),0)),Et=Tt(Math.min(Math.max(Zt.x1,Zt.x1),U)),Rt=bt(Zt.y0),Ot=bt(Zt.y1),It=G/2,gt={},pt={};gt.x=Ct,pt.x=Et,gt.y=pt.y=(Rt+Ot)/2;var vt={x:Ct,y:Rt},yt={x:Et,y:Rt},Yt={x:Et,y:Ot},Qt={x:Ct,y:Ot};return">"===wt?(vt.x-=It,yt.x-=It,Yt.x-=It,Qt.x-=It):"/"===wt?(Yt.x-=It,Qt.x-=It,gt.x-=It/2,pt.x-=It/2):"\\"===wt?(vt.x-=It,yt.x-=It,gt.x-=It/2,pt.x-=It/2):"<"===wt&&(gt.x-=It,pt.x-=It),Mt(vt),Mt(Qt),Mt(gt),Mt(yt),Mt(Yt),Mt(pt),"M"+Dt(vt.x,vt.y)+"L"+Dt(yt.x,yt.y)+"L"+Dt(pt.x,pt.y)+"L"+Dt(Yt.x,Yt.y)+"L"+Dt(Qt.x,Qt.y)+"L"+Dt(gt.x,gt.y)+"Z"},toMoveInsideSlice:zt,makeUpdateSliceInterpolator:oe,makeUpdateTextInterpolator:pe,handleSlicesExit:ye,hasTransition:F,strTransform:Fe}):n.remove()}},96362:function(tt,W,t){"use strict";var A=t(39898),g=t(7901),i=t(71828),P=t(2791),E=t(72597).resizeText,l=t(43467);function e(r,f,a,s,c){var w,d,u=(c||{}).hovered,y=f.data.data,v=y.i,o=y.color,h=P.isHierarchyRoot(f),M=1;if(u)w=a._hovered.marker.line.color,d=a._hovered.marker.line.width;else if(h&&o===a.root.color)M=100,w="rgba(0,0,0,0)",d=0;else if(w=i.castOption(a,v,"marker.line.color")||g.defaultLine,d=i.castOption(a,v,"marker.line.width")||0,!a._hasColorscale&&!f.onPathbar){var T=a.marker.depthfade;if(T){var m,L=g.combine(g.addOpacity(a._backgroundColor,.75),o);if(!0===T){var S=P.getMaxDepth(a);m=isFinite(S)?P.isLeaf(f)?0:a._maxVisibleLayers-(f.data.depth-a._entryDepth):f.data.height+1}else m=f.data.depth-a._entryDepth,a._atRootLevel||m++;if(m>0)for(var b=0;b<m;b++)o=g.combine(g.addOpacity(L,.5*b/m),o)}}r.call(l,f,a,s,o).style("stroke-width",d).call(g.stroke,w).style("opacity",M)}tt.exports={style:function x(r){var f=r._fullLayout._treemaplayer.selectAll(".trace");E(r,f,"treemap"),f.each(function(a){var s=A.select(this),u=a[0].trace;s.style("opacity",u.opacity),s.selectAll("path.surface").each(function(y){A.select(this).call(e,y,u,r,{hovered:!1})})})},styleOne:e}},68875:function(tt,W,t){"use strict";var A=t(53522),g=t(1426).extendFlat,i=t(12663).axisHoverFormat;tt.exports={y:A.y,x:A.x,x0:A.x0,y0:A.y0,xhoverformat:i("x"),yhoverformat:i("y"),name:g({},A.name,{}),orientation:g({},A.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:A.fillcolor,points:g({},A.boxpoints,{}),jitter:g({},A.jitter,{}),pointpos:g({},A.pointpos,{}),width:g({},A.width,{}),marker:A.marker,text:A.text,hovertext:A.hovertext,hovertemplate:A.hovertemplate,quartilemethod:A.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,selected:A.selected,unselected:A.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(tt,W,t){"use strict";var A=t(71828),g=t(89298),i=t(48518),P=t(60168),E=t(50606).BADNUM;function x(r,f,a){var s=f.max-f.min;if(!s)return r.bandwidth?r.bandwidth:0;if(r.bandwidth)return Math.max(r.bandwidth,s/1e4);var c=a.length,u=A.stdev(a,c-1,f.mean);return Math.max(function l(r,f,a){return 1.059*Math.min(f,a/1.349)*Math.pow(r,-.2)}(c,u,f.q3-f.q1),s/100)}function e(r,f,a,s){var w,c=r.spanmode,u=r.span||[],v=[f.min-2*s,f.max+2*s];function d(h){var M=u[h],T="multicategory"===a.type?a.r2c(M):a.d2c(M,0,r[f.valLetter+"calendar"]);return T===E?v[h]:T}var o={type:"linear",range:w="soft"===c?v:"hard"===c?[f.min,f.max]:[d(0),d(1)]};return g.setConvert(o),o.cleanRange(),w}tt.exports=function(f,a){var s=i(f,a);if(s[0].t.empty)return s;for(var c=f._fullLayout,u=g.getFromId(f,a["h"===a.orientation?"xaxis":"yaxis"]),y=1/0,v=-1/0,w=0,d=0,o=0;o<s.length;o++){var h=s[o],M=h.pts.map(P.extractVal),T=h.bandwidth=x(a,h,M),L=h.span=e(a,h,u,T);if(h.min===h.max&&0===T)L=h.span=[h.min,h.max],h.density=[{v:1,t:L[0]}],h.bandwidth=T,w=Math.max(w,1);else{var m=L[1]-L[0],S=Math.ceil(m/(T/3)),b=m/S;if(!isFinite(b)||!isFinite(S))return A.error("Something went wrong with computing the violin span"),s[0].t.empty=!0,s;var n=P.makeKDE(h,a,M);h.density=new Array(S);for(var C=0,p=L[0];p<L[1]+b/2;C++,p+=b){var F=n(p);h.density[C]={v:F,t:p},w=Math.max(w,F)}}d=Math.max(d,M.length),y=Math.min(y,L[0]),v=Math.max(v,L[1])}var D=g.findExtremes(u,[y,v],{padded:!0});if(a._extremes[u._id]=D,a.width)s[0].t.maxKDE=w;else{var N=c._violinScaleGroupStats,k=a.scalegroup,O=N[k];O?(O.maxKDE=Math.max(O.maxKDE,w),O.maxCount=Math.max(O.maxCount,d)):N[k]={maxKDE:w,maxCount:d}}return s[0].t.labels.kde=A._(f,"kde:"),s}},86403:function(tt,W,t){"use strict";var A=t(37188).setPositionOffset,g=["v","h"];tt.exports=function(P,E){for(var l=P.calcdata,x=E.xaxis,e=E.yaxis,r=0;r<g.length;r++){for(var f=g[r],a="h"===f?e:x,s=[],c=0;c<l.length;c++){var u=l[c],v=u[0].trace;!0===v.visible&&"violin"===v.type&&!u[0].t.empty&&v.orientation===f&&v.xaxis===x._id&&v.yaxis===e._id&&s.push(c)}A("violin",P,s,a)}}},15899:function(tt,W,t){"use strict";var A=t(71828),g=t(7901),i=t(36411),P=t(68875);tt.exports=function(l,x,e,r){function f(b,n){return A.coerce(l,x,P,b,n)}function a(b,n){return A.coerce2(l,x,P,b,n)}if(i.handleSampleDefaults(l,x,f,r),!1!==x.visible){f("bandwidth"),f("side"),f("width")||(f("scalegroup",x.name),f("scalemode"));var u,c=f("span");Array.isArray(c)&&(u="manual"),f("spanmode",u);var y=f("line.color",(l.marker||{}).color||e),v=f("line.width"),w=f("fillcolor",g.addOpacity(x.line.color,.5));i.handlePointsDefaults(l,x,f,{prefix:""});var d=a("box.width"),o=a("box.fillcolor",w),h=a("box.line.color",y),M=a("box.line.width",v);f("box.visible",Boolean(d||o||h||M))||(x.box={visible:!1});var L=a("meanline.color",y),m=a("meanline.width",v);f("meanline.visible",Boolean(L||m))||(x.meanline={visible:!1}),f("quartilemethod")}}},60168:function(tt,W,t){"use strict";var A=t(71828),g_gaussian=function(i){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*i*i)};W.makeKDE=function(i,P,E){var l=E.length,x=g_gaussian,e=i.bandwidth,r=1/(l*e);return function(f){for(var a=0,s=0;s<l;s++)a+=x((f-E[s])/e);return r*a}},W.getPositionOnKdePath=function(i,P,E){var l,x;"h"===P.orientation?(l="y",x="x"):(l="x",x="y");var e=A.findPointOnPath(i.path,E,x,{pathLength:i.pathLength}),r=i.posCenterPx,f=e[l];return[f,"both"===P.side?2*r-f:r]},W.getKdeValue=function(i,P,E){var l=i.pts.map(W.extractVal);return W.makeKDE(i,P,l)(E)/i.posDensityScale},W.extractVal=function(i){return i.v}},57634:function(tt,W,t){"use strict";var A=t(7901),g=t(71828),i=t(89298),P=t(41868),E=t(60168);tt.exports=function(x,e,r,f,a){a||(a={});var o,h,s=a.hoverLayer,c=x.cd,u=c[0].trace,y=u.hoveron,v=-1!==y.indexOf("violins"),w=-1!==y.indexOf("kde"),d=[];if(v||w){var M=P.hoverOnBoxes(x,e,r,f);if(w&&M.length>0){var m,S,b,n,C,T=x.xa,L=x.ya;"h"===u.orientation?(C=e,m="y",b=L,S="x",n=T):(C=r,m="x",b=T,S="y",n=L);var p=c[x.index];if(C>=p.span[0]&&C<=p.span[1]){var F=g.extendFlat({},x),D=n.c2p(C,!0),N=E.getKdeValue(p,u,C),k=E.getPositionOnKdePath(p,u,D),O=b._offset,B=b._length;F[m+"0"]=k[0],F[m+"1"]=k[1],F[S+"0"]=F[S+"1"]=D,F[S+"Label"]=S+": "+i.hoverLabelText(n,C,u[S+"hoverformat"])+", "+c[0].t.labels.kde+" "+N.toFixed(3);for(var z=0,U=0;U<M.length;U++)if("med"===M[U].attr){z=U;break}F.spikeDistance=M[z].spikeDistance;var G=m+"Spike";F[G]=M[z][G],M[z].spikeDistance=void 0,M[z][G]=void 0,F.hovertemplate=!1,d.push(F),(h={})[m+"1"]=g.constrain(O+k[0],O,O+B),h[m+"2"]=g.constrain(O+k[1],O,O+B),h[S+"1"]=h[S+"2"]=n._offset+D}}v&&(d=d.concat(M))}-1!==y.indexOf("points")&&(o=P.hoverOnPoints(x,e,r));var Q=s.selectAll(".violinline-"+u.uid).data(h?[0]:[]);return Q.enter().append("line").classed("violinline-"+u.uid,!0).attr("stroke-width",1.5),Q.exit().remove(),Q.attr(h).call(A.stroke,x.color),"closest"===f?o?[o]:d:(o&&d.push(o),d)}},47462:function(tt,W,t){"use strict";tt.exports={attributes:t(68875),layoutAttributes:t(9228),supplyDefaults:t(15899),crossTraceDefaults:t(36411).crossTraceDefaults,supplyLayoutDefaults:t(33598),calc:t(38603),crossTraceCalc:t(86403),plot:t(28443),style:t(31847),styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(57634),selectPoints:t(24626),moduleType:"trace",name:"violin",basePlotModule:t(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(tt,W,t){"use strict";var A=t(40094),g=t(71828).extendFlat;tt.exports={violinmode:g({},A.boxmode,{}),violingap:g({},A.boxgap,{}),violingroupgap:g({},A.boxgroupgap,{})}},33598:function(tt,W,t){"use strict";var A=t(71828),g=t(9228),i=t(4199);tt.exports=function(E,l,x){i._supply(E,l,x,function e(r,f){return A.coerce(E,l,g,r,f)},"violin")}},28443:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=t(91424),P=t(86047),E=t(34621),l=t(60168);tt.exports=function(e,r,f,a){var s=e._context.staticPlot,c=e._fullLayout,u=r.xaxis,y=r.yaxis;function v(w,d){var o=E(w,{xaxis:u,yaxis:y,trace:d,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return i.smoothopen(o[0],1)}g.makeTraceGroups(a,f,"trace violins").each(function(w){var d=A.select(this),o=w[0],h=o.t,M=o.trace;if(!0!==M.visible||h.empty)d.remove();else{var T=h.bPos,L=h.bdPos,m=r[h.valLetter+"axis"],S=r[h.posLetter+"axis"],b="both"===M.side,n=b||"positive"===M.side,C=b||"negative"===M.side,p=d.selectAll("path.violin").data(g.identity);p.enter().append("path").style("vector-effect",s?"none":"non-scaling-stroke").attr("class","violin"),p.exit().remove(),p.each(function(U){var J,Z,H,X,at,_,K,nt,G=A.select(this),Q=U.density,rt=Q.length,it=S.c2l(U.pos+T,!0),ut=S.l2p(it);if(M.width)J=h.maxKDE/L;else{var j=c._violinScaleGroupStats[M.scalegroup];J="count"===M.scalemode?j.maxKDE/L*(j.maxCount/U.pts.length):j.maxKDE/L}if(n){for(K=new Array(rt),at=0;at<rt;at++)(nt=K[at]={})[h.posLetter]=it+Q[at].v/J,nt[h.valLetter]=m.c2l(Q[at].t,!0);Z=v(K,M)}if(C){for(K=new Array(rt),_=0,at=rt-1;_<rt;_++,at--)(nt=K[_]={})[h.posLetter]=it-Q[at].v/J,nt[h.valLetter]=m.c2l(Q[at].t,!0);H=v(K,M)}if(b)X=Z+"L"+H.substr(1)+"Z";else{var et=[ut,m.c2p(Q[0].t)],st=[ut,m.c2p(Q[rt-1].t)];"h"===M.orientation&&(et.reverse(),st.reverse()),X=n?"M"+et+"L"+Z.substr(1)+"L"+st:"M"+st+"L"+H.substr(1)+"L"+et}G.attr("d",X),U.posCenterPx=ut,U.posDensityScale=J*L,U.path=G.node(),U.pathLength=U.path.getTotalLength()/(b?2:1)});var k,O,B,F=M.box,D=F.width,N=(F.line||{}).width;b?(k=L*D,O=0):n?(k=[0,L*D/2],O=N*{x:1,y:-1}[h.posLetter]):(k=[L*D/2,0],O=N*{x:-1,y:1}[h.posLetter]),P.plotBoxAndWhiskers(d,{pos:S,val:m},M,{bPos:T,bdPos:k,bPosPxOffset:O}),P.plotBoxMean(d,{pos:S,val:m},M,{bPos:T,bdPos:k,bPosPxOffset:O}),!M.box.visible&&M.meanline.visible&&(B=g.identity);var z=d.selectAll("path.meanline").data(B||[]);z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",s?"none":"non-scaling-stroke"),z.exit().remove(),z.each(function(U){var G=m.c2p(U.mean,!0),Q=l.getPositionOnKdePath(U,M,G);A.select(this).attr("d","h"===M.orientation?"M"+G+","+Q[0]+"V"+Q[1]:"M"+Q[0]+","+G+"H"+Q[1])}),P.plotPoints(d,{x:u,y},M,h)}})}},31847:function(tt,W,t){"use strict";var A=t(39898),g=t(7901),i=t(16296).stylePoints;tt.exports=function(E){var l=A.select(E).selectAll("g.trace.violins");l.style("opacity",function(x){return x[0].trace.opacity}),l.each(function(x){var e=x[0].trace,r=A.select(this),f=e.box||{},a=f.line||{},s=e.meanline||{},c=s.width;r.selectAll("path.violin").style("stroke-width",e.line.width+"px").call(g.stroke,e.line.color).call(g.fill,e.fillcolor),r.selectAll("path.box").style("stroke-width",a.width+"px").call(g.stroke,a.color).call(g.fill,f.fillcolor);var u={"stroke-width":c+"px","stroke-dasharray":2*c+"px,"+c+"px"};r.selectAll("path.mean").style(u).call(g.stroke,s.color),r.selectAll("path.meanline").style(u).call(g.stroke,s.color),i(r,e,E)})}},16336:function(tt,W,t){"use strict";var A=t(50693),g=t(16249),i=t(54532),P=t(9012),E=t(1426).extendFlat,l=t(30962).overrideAll,x=tt.exports=l(E({x:g.x,y:g.y,z:g.z,value:g.value,isomin:g.isomin,isomax:g.isomax,surface:g.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:g.slices,caps:g.caps,text:g.text,hovertext:g.hovertext,xhoverformat:g.xhoverformat,yhoverformat:g.yhoverformat,zhoverformat:g.zhoverformat,valuehoverformat:g.valuehoverformat,hovertemplate:g.hovertemplate},A("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:g.colorbar,opacity:g.opacity,opacityscale:i.opacityscale,lightposition:g.lightposition,lighting:g.lighting,flatshading:g.flatshading,contour:g.contour,hoverinfo:E({},P.hoverinfo),showlegend:E({},P.showlegend,{dflt:!1})}),"calc","nested");x.x.editType=x.y.editType=x.z.editType=x.value.editType="calc+clearAxisTypes",x.transforms=void 0},64809:function(tt,W,t){"use strict";var A=t(9330).gl_mesh3d,g=t(81697).parseColorScale,i=t(78614),P=t(21081).extractOpts,E=t(90060),l=t(22674).findNearestOnAxis,x=t(22674).generateIsoMeshes;function e(a,s,c){this.scene=a,this.uid=c,this.mesh=s,this.name="",this.data=null,this.showContour=!1}var r=e.prototype;r.handlePick=function(a){if(a.object===this.mesh){var s=a.data.index,u=this.data._meshY[s],y=this.data._meshZ[s],v=this.data._Ys.length,w=this.data._Zs.length,d=l(this.data._meshX[s],this.data._Xs).id,o=l(u,this.data._Ys).id,h=l(y,this.data._Zs).id,M=a.index=h+w*o+w*v*d;a.traceCoordinate=[this.data._meshX[M],this.data._meshY[M],this.data._meshZ[M],this.data._value[M]];var T=this.data.hovertext||this.data.text;return Array.isArray(T)&&void 0!==T[M]?a.textLabel=T[M]:T&&(a.textLabel=T),!0}},r.update=function(a){var s=this.scene,c=s.fullSceneLayout;function u(o,h,M,T){return h.map(function(L){return o.d2l(L,0,T)*M})}this.data=x(a);var w={positions:E(u(c.xaxis,a._meshX,s.dataScale[0],a.xcalendar),u(c.yaxis,a._meshY,s.dataScale[1],a.ycalendar),u(c.zaxis,a._meshZ,s.dataScale[2],a.zcalendar)),cells:E(a._meshI,a._meshJ,a._meshK),lightPosition:[a.lightposition.x,a.lightposition.y,a.lightposition.z],ambient:a.lighting.ambient,diffuse:a.lighting.diffuse,specular:a.lighting.specular,roughness:a.lighting.roughness,fresnel:a.lighting.fresnel,vertexNormalsEpsilon:a.lighting.vertexnormalsepsilon,faceNormalsEpsilon:a.lighting.facenormalsepsilon,opacity:a.opacity,opacityscale:a.opacityscale,contourEnable:a.contour.show,contourColor:i(a.contour.color).slice(0,3),contourWidth:a.contour.width,useFacetNormals:a.flatshading},d=P(a);w.vertexIntensity=a._meshIntensity,w.vertexIntensityBounds=[d.min,d.max],w.colormap=g(a),this.mesh.update(w)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},tt.exports=function f(a,s){var u=A({gl:a.glplot.gl}),y=new e(a,u,s.uid);return u._trace=y,y.update(s),a.glplot.add(u),y}},47651:function(tt,W,t){"use strict";var A=t(71828),g=t(16336),i=t(82738).supplyIsoDefaults,P=t(91831).opacityscaleDefaults;tt.exports=function(l,x,e,r){function f(a,s){return A.coerce(l,x,g,a,s)}i(l,x,e,r,f),P(l,x,r,f)}},17659:function(tt,W,t){"use strict";tt.exports={attributes:t(16336),supplyDefaults:t(47651),calc:t(56959),colorbar:{min:"cmin",max:"cmax"},plot:t(64809),moduleType:"trace",name:"volume",basePlotModule:t(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(tt,W,t){"use strict";var A=t(1486),g=t(82196).line,i=t(9012),P=t(12663).axisHoverFormat,E=t(5386).fF,l=t(5386).si,x=t(48334),e=t(1426).extendFlat,r=t(7901);function f(a){return{marker:{color:e({},A.marker.color,{arrayOk:!1,editType:"style"}),line:{color:e({},A.marker.line.color,{arrayOk:!1,editType:"style"}),width:e({},A.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}tt.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:P("x"),yhoverformat:P("y"),hovertext:A.hovertext,hovertemplate:E({},{keys:x.eventDataKeys}),hoverinfo:e({},i.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:l({editType:"plot"},{keys:x.eventDataKeys.concat(["label"])}),text:A.text,textposition:A.textposition,insidetextanchor:A.insidetextanchor,textangle:A.textangle,textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:A.outsidetextfont,constraintext:A.constraintext,cliponaxis:A.cliponaxis,orientation:A.orientation,offset:A.offset,width:A.width,increasing:f(),decreasing:f(),totals:f(),connector:{line:{color:e({},g.color,{dflt:r.defaultLine}),width:e({},g.width,{editType:"plot"}),dash:g.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup}},52752:function(tt,W,t){"use strict";var A=t(89298),g=t(42973),i=t(71828).mergeArray,P=t(66279),E=t(50606).BADNUM;function l(e){return"a"===e||"absolute"===e}function x(e){return"t"===e||"total"===e}tt.exports=function(r,f){var c,u,y,v,w,d,a=A.getFromId(r,f.xaxis||"x"),s=A.getFromId(r,f.yaxis||"y");"h"===f.orientation?(c=a.makeCalcdata(f,"x"),y=s.makeCalcdata(f,"y"),v=g(f,s,"y",y),w=!!f.yperiodalignment,d="y"):(c=s.makeCalcdata(f,"y"),y=a.makeCalcdata(f,"x"),v=g(f,a,"x",y),w=!!f.xperiodalignment,d="x"),u=v.vals;for(var T,o=Math.min(u.length,c.length),h=new Array(o),M=0,L=!1,m=0;m<o;m++){var S=c[m]||0,b=!1;(c[m]!==E||x(f.measure[m])||l(f.measure[m]))&&m+1<o&&(c[m+1]!==E||x(f.measure[m+1])||l(f.measure[m+1]))&&(b=!0);var n=h[m]={i:m,p:u[m],s:S,rawS:S,cNext:b};l(f.measure[m])?(M=n.s,n.isSum=!0,n.dir="totals",n.s=M):x(f.measure[m])?(n.isSum=!0,n.dir="totals",n.s=M):(n.isSum=!1,n.dir=n.rawS<0?"decreasing":"increasing",n.s=M+(T=n.s),M+=T),"totals"===n.dir&&(L=!0),w&&(h[m].orig_p=y[m],h[m][d+"End"]=v.ends[m],h[m][d+"Start"]=v.starts[m]),f.ids&&(n.id=String(f.ids[m])),n.v=(f.base||0)+M}return h.length&&(h[0].hasTotals=L),i(f.text,h,"tx"),i(f.hovertext,h,"htx"),P(h,f),h}},48334:function(tt){"use strict";tt.exports={eventDataKeys:["initial","delta","final"]}},70766:function(tt,W,t){"use strict";var A=t(11661).setGroupPositions;tt.exports=function(i,P){var c,u,E=i._fullLayout,l=i._fullData,x=i.calcdata,e=P.xaxis,r=P.yaxis,f=[],a=[],s=[];for(u=0;u<l.length;u++){var y=l[u];!0===y.visible&&y.xaxis===e._id&&y.yaxis===r._id&&"waterfall"===y.type&&(c=x[u],"h"===y.orientation?s.push(c):a.push(c),f.push(c))}var v={mode:E.waterfallmode,norm:E.waterfallnorm,gap:E.waterfallgap,groupgap:E.waterfallgroupgap};for(A(i,e,r,a,v),A(i,r,e,s,v),u=0;u<f.length;u++){c=f[u];for(var w=0;w<c.length;w++){var d=c[w];!1===d.isSum&&(d.s0+=0===w?0:c[w-1].s),w+1<c.length&&(c[w].nextP0=c[w+1].p0,c[w].nextS0=c[w+1].s0)}}}},83266:function(tt,W,t){"use strict";var A=t(71828),g=t(26125),i=t(90769).handleText,P=t(67513),E=t(73927),l=t(43037),x=t(7901),e=t(22372),r=e.INCREASING.COLOR,f=e.DECREASING.COLOR;function s(y,v,w){y(v+".marker.color",w),y(v+".marker.line.color",x.defaultLine),y(v+".marker.line.width")}tt.exports={supplyDefaults:function c(y,v,w,d){function o(m,S){return A.coerce(y,v,l,m,S)}if(P(y,v,d,o)){E(y,v,d,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",v.x&&!v.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var M=o("textposition");i(y,v,d,o,M,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==v.textposition&&(o("texttemplate"),v.texttemplate||o("textinfo")),s(o,"increasing",r),s(o,"decreasing",f),s(o,"totals","#4499FF"),o("connector.visible")&&(o("connector.mode"),o("connector.line.width")&&(o("connector.line.color"),o("connector.line.dash")))}else v.visible=!1},crossTraceDefaults:function u(y,v){var d;function o(M){return A.coerce(d._input,d,l,M)}if("group"===v.waterfallmode)for(var h=0;h<y.length;h++)g((d=y[h])._input,d,v,o)}}},58593:function(tt){"use strict";tt.exports=function(t,A){return t.x="xVal"in A?A.xVal:A.x,t.y="yVal"in A?A.yVal:A.y,"initial"in A&&(t.initial=A.initial),"delta"in A&&(t.delta=A.delta),"final"in A&&(t.final=A.final),A.xa&&(t.xaxis=A.xa),A.ya&&(t.yaxis=A.ya),t}},61326:function(tt,W,t){"use strict";var A=t(89298).hoverLabelText,g=t(7901).opacity,i=t(95423).hoverOnBars,P=t(22372),E_increasing=P.INCREASING.SYMBOL,E_decreasing=P.DECREASING.SYMBOL;tt.exports=function(e,r,f,a,s){var c=i(e,r,f,a,s);if(c){var u=c.cd,y=u[0].trace,v="h"===y.orientation,w=v?"x":"y",d=v?e.xa:e.ya,M=u[c.index],T=M.isSum?M.b+M.s:M.rawS;c.initial=M.b+M.s-T,c.delta=T,c.final=c.initial+c.delta;var L=o(Math.abs(c.delta));c.deltaLabel=T<0?"("+L+")":L,c.finalLabel=o(c.final),c.initialLabel=o(c.initial);var m=M.hi||y.hoverinfo,S=[];if(m&&"none"!==m&&"skip"!==m){var b="all"===m,n=m.split("+"),C=function(p){return b||-1!==n.indexOf(p)};M.isSum||(C("final")&&(v?!C("x"):!C("y"))&&S.push(c.finalLabel),C("delta")&&S.push(T<0?c.deltaLabel+" "+E_decreasing:c.deltaLabel+" "+E_increasing),C("initial")&&S.push("Initial: "+c.initialLabel))}return S.length&&(c.extraText=S.join("<br>")),c.color=function l(x,e){var r=x[e.dir].marker,f=r.color,a=r.line.color,s=r.line.width;return g(f)?f:g(a)&&s?a:void 0}(y,M),[c]}function o(p){return A(d,p,y[w+"hoverformat"])}}},19990:function(tt,W,t){"use strict";tt.exports={attributes:t(43037),layoutAttributes:t(13494),supplyDefaults:t(83266).supplyDefaults,crossTraceDefaults:t(83266).crossTraceDefaults,supplyLayoutDefaults:t(5176),calc:t(52752),crossTraceCalc:t(70766),plot:t(30436),style:t(55750).style,hoverPoints:t(61326),eventData:t(58593),selectPoints:t(81974),moduleType:"trace",name:"waterfall",basePlotModule:t(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(tt){"use strict";tt.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(tt,W,t){"use strict";var A=t(71828),g=t(13494);tt.exports=function(i,P,E){var l=!1;function x(f,a){return A.coerce(i,P,g,f,a)}for(var e=0;e<E.length;e++){var r=E[e];if(r.visible&&"waterfall"===r.type){l=!0;break}}l&&(x("waterfallmode"),x("waterfallgap",.2),x("waterfallgroupgap"))}},30436:function(tt,W,t){"use strict";var A=t(39898),g=t(71828),i=t(91424),P=t(50606).BADNUM,E=t(17295),l=t(72597).clearMinTextSize;tt.exports=function(f,a,s,c){var u=f._fullLayout;l("waterfall",u),E.plot(f,a,s,c,{mode:u.waterfallmode,norm:u.waterfallmode,gap:u.waterfallgap,groupgap:u.waterfallgroupgap}),function x(r,f,a,s){var c=f.xaxis,u=f.yaxis;g.makeTraceGroups(s,a,"trace bars").each(function(y){var v=A.select(this),w=y[0].trace,d=g.ensureSingle(v,"g","lines");if(w.connector&&w.connector.visible){var o="h"===w.orientation,h=w.connector.mode,M=d.selectAll("g.line").data(g.identity);M.enter().append("g").classed("line",!0),M.exit().remove();var T=M.size();M.each(function(L,m){if(m===T-1||L.cNext){var S=function e(r,f,a,s){var c=[],u=[],y=s?f:a,v=s?a:f;return c[0]=y.c2p(r.s0,!0),u[0]=v.c2p(r.p0,!0),c[1]=y.c2p(r.s1,!0),u[1]=v.c2p(r.p1,!0),c[2]=y.c2p(r.nextS0,!0),u[2]=v.c2p(r.nextP0,!0),s?[c,u]:[u,c]}(L,c,u,o),b=S[0],n=S[1],C="";b[0]!==P&&n[0]!==P&&b[1]!==P&&n[1]!==P&&("spanning"===h&&!L.isSum&&m>0&&(C+=o?"M"+b[0]+","+n[1]+"V"+n[0]:"M"+b[1]+","+n[0]+"H"+b[0]),"between"!==h&&(L.isSum||m<T-1)&&(C+=o?"M"+b[1]+","+n[0]+"V"+n[1]:"M"+b[0]+","+n[1]+"H"+b[1]),b[2]!==P&&n[2]!==P&&(C+=o?"M"+b[1]+","+n[1]+"V"+n[2]:"M"+b[1]+","+n[1]+"H"+b[2])),""===C&&(C="M0,0Z"),g.ensureSingle(A.select(this),"path").attr("d",C).call(i.setClipUrl,f.layerClipId,r)}})}else d.remove()})}(f,a,s,c)}},55750:function(tt,W,t){"use strict";var A=t(39898),g=t(91424),i=t(7901),P=t(37822).DESELECTDIM,E=t(16688),l=t(72597).resizeText,x=E.styleTextPoints;tt.exports={style:function e(r,f,a){var s=a||A.select(r).selectAll("g.waterfalllayer").selectAll("g.trace");l(r,s,"waterfall"),s.style("opacity",function(c){return c[0].trace.opacity}),s.each(function(c){var u=A.select(this),y=c[0].trace;u.selectAll(".point > path").each(function(v){if(!v.isBlank){var w=y[v.dir].marker;A.select(this).call(i.fill,w.color).call(i.stroke,w.line.color).call(g.dashLine,w.line.dash,w.line.width).style("opacity",y.selectedpoints&&!v.selected?P:1)}}),x(u,y,r),u.selectAll(".lines").each(function(){var v=y.connector.line;g.lineGroupStyle(A.select(this).selectAll("path"),v.width,v.color,v.dash)})})}}},82887:function(tt,W,t){"use strict";var A=t(89298),g=t(71828),i=t(86281),P=t(79344).p,E=t(50606).BADNUM;W.moduleType="transform",W.name="aggregate";var l=W.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},x=l.aggregations;function e(c,u,y,v){if(v.enabled){for(var w=v.target,d=g.nestedProperty(u,w),o=d.get(),M=function r(c,u){var v=u.d2c,w=u.c2d;switch(c.func){case"count":return f;case"first":return a;case"last":return s;case"sum":return function(d,o){for(var h=0,M=0;M<o.length;M++){var T=v(d[o[M]]);T!==E&&(h+=T)}return w(h)};case"avg":return function(d,o){for(var h=0,M=0,T=0;T<o.length;T++){var L=v(d[o[T]]);L!==E&&(h+=L,M++)}return M?w(h/M):E};case"min":return function(d,o){for(var h=1/0,M=0;M<o.length;M++){var T=v(d[o[M]]);T!==E&&(h=Math.min(h,T))}return h===1/0?E:w(h)};case"max":return function(d,o){for(var h=-1/0,M=0;M<o.length;M++){var T=v(d[o[M]]);T!==E&&(h=Math.max(h,T))}return h===-1/0?E:w(h)};case"range":return function(d,o){for(var h=1/0,M=-1/0,T=0;T<o.length;T++){var L=v(d[o[T]]);L!==E&&(h=Math.min(h,L),M=Math.max(M,L))}return M===-1/0||h===1/0?E:w(M-h)};case"change":return function(d,o){var h=v(d[o[0]]),M=v(d[o[o.length-1]]);return h===E||M===E?E:w(M-h)};case"median":return function(d,o){for(var h=[],M=0;M<o.length;M++){var T=v(d[o[M]]);T!==E&&h.push(T)}if(!h.length)return E;h.sort(g.sorterAsc);var L=(h.length-1)/2;return w((h[Math.floor(L)]+h[Math.ceil(L)])/2)};case"mode":return function(d,o){for(var h={},M=0,T=E,L=0;L<o.length;L++){var m=v(d[o[L]]);if(m!==E){var S=h[m]=(h[m]||0)+1;S>M&&(M=S,T=m)}}return M?w(T):E};case"rms":return function(d,o){for(var h=0,M=0,T=0;T<o.length;T++){var L=v(d[o[T]]);L!==E&&(h+=L*L,M++)}return M?w(Math.sqrt(h/M)):E};case"stddev":return function(d,o){var m,h=0,M=0,T=1,L=E;for(m=0;m<o.length&&L===E;m++)L=v(d[o[m]]);if(L===E)return E;for(;m<o.length;m++){var S=v(d[o[m]]);if(S!==E){var b=S-L;h+=b,M+=b*b,T++}}var n="sample"===c.funcmode?T-1:T;return n?Math.sqrt((M-h*h/T)/n):0}}}(v,A.getDataConversions(c,u,w,o)),T=new Array(y.length),L=0;L<y.length;L++)T[L]=M(o,y[L]);d.set(T),"count"===v.func&&g.pushUnique(u._arrayAttrs,w)}}function f(c,u){return u.length}function a(c,u){return c[u[0]]}function s(c,u){return c[u[u.length-1]]}W.supplyDefaults=function(c,u){var v,y={};function w(p,F){return g.coerce(c,y,l,p,F)}if(!w("enabled"))return y;var o=i.findArrayAttributes(u),h={};for(v=0;v<o.length;v++)h[o[v]]=1;var M=w("groups");if(!Array.isArray(M)){if(!h[M])return y.enabled=!1,y;h[M]=0}var m,T=c.aggregations||[],L=y.aggregations=new Array(T.length);function S(p,F){return g.coerce(T[v],m,x,p,F)}for(v=0;v<T.length;v++){m={_index:v};var b=S("target"),n=S("func");S("enabled")&&b&&(h[b]||"count"===n&&void 0===h[b])?("stddev"===n&&S("funcmode"),h[b]=0,L[v]=m):L[v]={enabled:!1,_index:v}}for(v=0;v<o.length;v++)h[o[v]]&&L.push({target:o[v],func:x.func.dflt,enabled:!0,_index:-1});return y},W.calcTransform=function(c,u,y){if(y.enabled){var v=y.groups,w=g.getTargetArray(u,{target:v});if(w){var d,o,h,T={},L={},m=[],S=P(u.transforms,y),b=w.length;for(u._length&&(b=Math.min(b,u._length)),d=0;d<b;d++)void 0===(h=T[o=w[d]])?(T[o]=m.length,m.push([d]),L[T[o]]=S(d)):(m[h].push(d),L[T[o]]=(L[T[o]]||[]).concat(S(d)));y._indexToPoints=L;var n=y.aggregations;for(d=0;d<n.length;d++)e(c,u,m,n[d]);"string"==typeof v&&e(c,u,m,{target:v,func:"first",enabled:!0}),u._length=m.length}}}},14382:function(tt,W,t){"use strict";var A=t(71828),g=t(73972),i=t(89298),P=t(79344).p,E=t(74808),l=E.COMPARISON_OPS,x=E.INTERVAL_OPS,e=E.SET_OPS;W.moduleType="transform",W.name="filter",W.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(l).concat(x).concat(e),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},W.supplyDefaults=function(f){var a={};function s(v,w){return A.coerce(f,a,W.attributes,v,w)}if(s("enabled")){var u=s("target");if(A.isArrayOrTypedArray(u)&&0===u.length)return a.enabled=!1,a;s("preservegaps"),s("operation"),s("value");var y=g.getComponentMethod("calendars","handleDefaults");y(f,a,"valuecalendar",null),y(f,a,"targetcalendar",null)}return a},W.calcTransform=function(f,a,s){if(s.enabled){var c=A.getTargetArray(a,s);if(c){var u=s.target,y=c.length;a._length&&(y=Math.min(y,a._length));var v=s.targetcalendar,w=a._arrayAttrs,d=s.preservegaps;if("string"==typeof u){var o=A.nestedProperty(a,u+"calendar").get();o&&(v=o)}var b,n,M=function r(f,a,s){var c=f.operation,u=f.value,y=Array.isArray(u);function v(h){return-1!==h.indexOf(c)}var o,w=function(h){return a(h,0,f.valuecalendar)},d=function(h){return a(h,0,s)};switch(v(l)?o=w(y?u[0]:u):v(x)?o=y?[w(u[0]),w(u[1])]:[w(u),w(u)]:v(e)&&(o=y?u.map(w):[w(u)]),c){case"=":return function(h){return d(h)===o};case"!=":return function(h){return d(h)!==o};case"<":return function(h){return d(h)<o};case"<=":return function(h){return d(h)<=o};case">":return function(h){return d(h)>o};case">=":return function(h){return d(h)>=o};case"[]":return function(h){var M=d(h);return M>=o[0]&&M<=o[1]};case"()":return function(h){var M=d(h);return M>o[0]&&M<o[1]};case"[)":return function(h){var M=d(h);return M>=o[0]&&M<o[1]};case"(]":return function(h){var M=d(h);return M>o[0]&&M<=o[1]};case"][":return function(h){var M=d(h);return M<=o[0]||M>=o[1]};case")(":return function(h){var M=d(h);return M<o[0]||M>o[1]};case"](":return function(h){var M=d(h);return M<=o[0]||M>o[1]};case")[":return function(h){var M=d(h);return M<o[0]||M>=o[1]};case"{}":return function(h){return-1!==o.indexOf(d(h))};case"}{":return function(h){return-1===o.indexOf(d(h))}}}(s,i.getDataToCoordFunc(f,a,u,c),v),T={},L={},m=0;d?(b=function(D){T[D.astr]=A.extendDeep([],D.get()),D.set(new Array(y))},n=function(D,N){var k=T[D.astr][N];D.get()[N]=k}):(b=function(D){T[D.astr]=A.extendDeep([],D.get()),D.set([])},n=function(D,N){var k=T[D.astr][N];D.get().push(k)}),S(b);for(var C=P(a.transforms,s),p=0;p<y;p++)M(c[p])?(S(n,p),L[m++]=C(p)):d&&m++;s._indexToPoints=L,a._length=m}}function S(D,N){for(var k=0;k<w.length;k++)D(A.nestedProperty(a,w[k]),N)}}},43102:function(tt,W,t){"use strict";var A=t(71828),g=t(86281),i=t(74875),P=t(79344).p;function E(l,x){var e,r,f,a,s,c,u,y,v,w,d=x.transform,o=x.transformIndex,h=l.transforms[o].groups,M=P(l.transforms,d);if(!A.isArrayOrTypedArray(h)||0===h.length)return[l];var T=A.filterUnique(h),L=new Array(T.length),m=h.length,S=g.findArrayAttributes(l),b=d.styles||[],n={};for(e=0;e<b.length;e++)n[b[e].target]=b[e].value;d.styles&&(w=A.keyedContainer(d,"styles","target","value.name"));var C={},p={};for(e=0;e<T.length;e++){C[c=T[e]]=e,p[c]=0,(u=L[e]=A.extendDeepNoArrays({},l))._group=c,u.transforms[o]._indexToPoints={};var F=null;for(w&&(F=w.get(c)),u.name=F||""===F?F:A.templateString(d.nameformat,{trace:l.name,group:c}),y=u.transforms,u.transforms=[],r=0;r<y.length;r++)u.transforms[r]=A.extendDeepNoArrays({},y[r]);for(r=0;r<S.length;r++)A.nestedProperty(u,S[r]).set([])}for(f=0;f<S.length;f++){for(a=S[f],r=0,v=[];r<T.length;r++)v[r]=A.nestedProperty(L[r],a).get();for(s=A.nestedProperty(l,a).get(),r=0;r<m;r++)v[C[h[r]]].push(s[r])}for(r=0;r<m;r++)(u=L[C[h[r]]]).transforms[o]._indexToPoints[p[h[r]]]=M(r),p[h[r]]++;for(e=0;e<T.length;e++)c=T[e],i.clearExpandedTraceDefaultColors(u=L[e]),u=A.extendDeepNoArrays(u,n[c]||{});return L}W.moduleType="transform",W.name="groupby",W.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},W.supplyDefaults=function(l,x,e){var r,f={};function a(w,d){return A.coerce(l,f,W.attributes,w,d)}if(!a("enabled"))return f;a("groups"),a("nameformat",e._dataLength>1?"%{group} (%{trace})":"%{group}");var c=l.styles,u=f.styles=[];if(c)for(r=0;r<c.length;r++){var y=u[r]={};A.coerce(c[r],u[r],W.attributes.styles,"target");var v=A.coerce(c[r],u[r],W.attributes.styles,"value");A.isPlainObject(v)?y.value=A.extendDeep({},v):v&&delete y.value}return f},W.transform=function(l,x){var e,r,f,a=[];for(r=0;r<l.length;r++)for(e=E(l[r],x),f=0;f<e.length;f++)a.push(e[f]);return a}},79344:function(tt,W){"use strict";W.p=function(t,A){for(var g,i,P=0;P<t.length&&(g=t[P])!==A;P++)!g._indexToPoints||!1===g.enabled||(i=g._indexToPoints);return i?function(l){return i[l]}:function(l){return[l]}}},32275:function(tt,W,t){"use strict";var A=t(71828),g=t(89298),i=t(79344).p,P=t(50606).BADNUM;function E(x,e,r,f){var c,a=new Array(f),s=new Array(f);for(c=0;c<f;c++)a[c]={v:e[c],i:c};for(a.sort(function l(x,e){switch(x.order){case"ascending":return function(r,f){var a=e(r.v),s=e(f.v);return a===P?1:s===P?-1:a-s};case"descending":return function(r,f){var a=e(r.v),s=e(f.v);return a===P?1:s===P?-1:s-a}}}(x,r)),c=0;c<f;c++)s[c]=a[c].i;return s}W.moduleType="transform",W.name="sort",W.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},W.supplyDefaults=function(x){var e={};function r(a,s){return A.coerce(x,e,W.attributes,a,s)}return r("enabled")&&(r("target"),r("order")),e},W.calcTransform=function(x,e,r){if(r.enabled){var f=A.getTargetArray(e,r);if(f){var a=r.target,s=f.length;e._length&&(s=Math.min(s,e._length));var d,o,c=e._arrayAttrs,y=E(r,f,g.getDataToCoordFunc(x,e,a,f),s),v=i(e.transforms,r),w={};for(d=0;d<c.length;d++){var h=A.nestedProperty(e,c[d]),M=h.get(),T=new Array(s);for(o=0;o<s;o++)T[o]=M[y[o]];h.set(T)}for(o=0;o<s;o++)w[o]=v(y[o]);r._indexToPoints=w,e._length=s}}}},11506:function(tt,W){"use strict";W.version="2.24.3"},9330:function(tt,W,t){var P,A=t(90386);self,P=function(){return function(){var g={7386:function(l,x,e){l.exports={alpha_shape:e(2350),convex_hull:e(5537),delaunay_triangulate:e(4419),gl_cone3d:e(1140),gl_error3d:e(3110),gl_heatmap2d:e(6386),gl_line3d:e(6086),gl_mesh3d:e(8116),gl_plot2d:e(2117),gl_plot3d:e(1059),gl_pointcloud2d:e(8271),gl_scatter3d:e(2182),gl_select_box:e(6623),gl_spikes2d:e(3050),gl_streamtube3d:e(7307),gl_surface3d:e(3754),ndarray:e(5050),ndarray_linear_interpolate:e(3581)}},2146:function(l,x,e){"use strict";function f(pt,vt){if(!(pt instanceof vt))throw new TypeError("Cannot call a class as a function")}function a(pt,vt){for(var yt=0;yt<vt.length;yt++){var Yt=vt[yt];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(pt,Yt.key,Yt)}}function c(pt,vt){if("function"!=typeof vt&&null!==vt)throw new TypeError("Super expression must either be null or a function");pt.prototype=Object.create(vt&&vt.prototype,{constructor:{value:pt,writable:!0,configurable:!0}}),Object.defineProperty(pt,"prototype",{writable:!1}),vt&&u(pt,vt)}function u(pt,vt){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Yt,Qt){return Yt.__proto__=Qt,Yt})(pt,vt)}function y(pt){var vt=function d(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(pt){return!1}}();return function(){var Qt,Yt=o(pt);if(vt){var le=o(this).constructor;Qt=Reflect.construct(Yt,arguments,le)}else Qt=Yt.apply(this,arguments);return v(this,Qt)}}function v(pt,vt){if(vt&&("object"===h(vt)||"function"==typeof vt))return vt;if(void 0!==vt)throw new TypeError("Derived constructors may only return object or undefined");return w(pt)}function w(pt){if(void 0===pt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}function o(pt){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(yt){return yt.__proto__||Object.getPrototypeOf(yt)})(pt)}function h(pt){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(vt){return typeof vt}:function(vt){return vt&&"function"==typeof Symbol&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt})(pt)}var M=e(3910),T=e(3187),L="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;x.lW=n,x.h2=50;var m=2147483647;function b(pt){if(pt>m)throw new RangeError('The value "'+pt+'" is invalid for option "size"');var vt=new Uint8Array(pt);return Object.setPrototypeOf(vt,n.prototype),vt}function n(pt,vt,yt){if("number"==typeof pt){if("string"==typeof vt)throw new TypeError('The "string" argument must be of type string. Received type number');return D(pt)}return C(pt,vt,yt)}function C(pt,vt,yt){if("string"==typeof pt)return function N(pt,vt){if(("string"!=typeof vt||""===vt)&&(vt="utf8"),!n.isEncoding(vt))throw new TypeError("Unknown encoding: "+vt);var yt=0|Q(pt,vt),Yt=b(yt),Qt=Yt.write(pt,vt);return Qt!==yt&&(Yt=Yt.slice(0,Qt)),Yt}(pt,vt);if(ArrayBuffer.isView(pt))return function O(pt){if(Et(pt,Uint8Array)){var vt=new Uint8Array(pt);return B(vt.buffer,vt.byteOffset,vt.byteLength)}return k(pt)}(pt);if(null==pt)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+h(pt));if(Et(pt,ArrayBuffer)||pt&&Et(pt.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(Et(pt,SharedArrayBuffer)||pt&&Et(pt.buffer,SharedArrayBuffer)))return B(pt,vt,yt);if("number"==typeof pt)throw new TypeError('The "value" argument must not be of type number. Received type number');var Yt=pt.valueOf&&pt.valueOf();if(null!=Yt&&Yt!==pt)return n.from(Yt,vt,yt);var Qt=function z(pt){if(n.isBuffer(pt)){var vt=0|U(pt.length),yt=b(vt);return 0===yt.length||pt.copy(yt,0,0,vt),yt}return void 0!==pt.length?"number"!=typeof pt.length||Rt(pt.length)?b(0):k(pt):"Buffer"===pt.type&&Array.isArray(pt.data)?k(pt.data):void 0}(pt);if(Qt)return Qt;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof pt[Symbol.toPrimitive])return n.from(pt[Symbol.toPrimitive]("string"),vt,yt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+h(pt))}function p(pt){if("number"!=typeof pt)throw new TypeError('"size" argument must be of type number');if(pt<0)throw new RangeError('The value "'+pt+'" is invalid for option "size"')}function D(pt){return p(pt),b(pt<0?0:0|U(pt))}function k(pt){for(var vt=pt.length<0?0:0|U(pt.length),yt=b(vt),Yt=0;Yt<vt;Yt+=1)yt[Yt]=255&pt[Yt];return yt}function B(pt,vt,yt){if(vt<0||pt.byteLength<vt)throw new RangeError('"offset" is outside of buffer bounds');if(pt.byteLength<vt+(yt||0))throw new RangeError('"length" is outside of buffer bounds');var Yt;return Yt=void 0===vt&&void 0===yt?new Uint8Array(pt):void 0===yt?new Uint8Array(pt,vt):new Uint8Array(pt,vt,yt),Object.setPrototypeOf(Yt,n.prototype),Yt}function U(pt){if(pt>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|pt}function Q(pt,vt){if(n.isBuffer(pt))return pt.length;if(ArrayBuffer.isView(pt)||Et(pt,ArrayBuffer))return pt.byteLength;if("string"!=typeof pt)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+h(pt));var yt=pt.length,Yt=arguments.length>2&&!0===arguments[2];if(!Yt&&0===yt)return 0;for(var Qt=!1;;)switch(vt){case"ascii":case"latin1":case"binary":return yt;case"utf8":case"utf-8":return pe(pt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*yt;case"hex":return yt>>>1;case"base64":return Zt(pt).length;default:if(Qt)return Yt?-1:pe(pt).length;vt=(""+vt).toLowerCase(),Qt=!0}}function rt(pt,vt,yt){var Yt=!1;if((void 0===vt||vt<0)&&(vt=0),vt>this.length||((void 0===yt||yt>this.length)&&(yt=this.length),yt<=0)||(yt>>>=0)<=(vt>>>=0))return"";for(pt||(pt="utf8");;)switch(pt){case"hex":return Tt(this,vt,yt);case"utf8":case"utf-8":return K(this,vt,yt);case"ascii":return st(this,vt,yt);case"latin1":case"binary":return dt(this,vt,yt);case"base64":return _(this,vt,yt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bt(this,vt,yt);default:if(Yt)throw new TypeError("Unknown encoding: "+pt);pt=(pt+"").toLowerCase(),Yt=!0}}function it(pt,vt,yt){var Yt=pt[vt];pt[vt]=pt[yt],pt[yt]=Yt}function ut(pt,vt,yt,Yt,Qt){if(0===pt.length)return-1;if("string"==typeof yt?(Yt=yt,yt=0):yt>2147483647?yt=2147483647:yt<-2147483648&&(yt=-2147483648),Rt(yt=+yt)&&(yt=Qt?0:pt.length-1),yt<0&&(yt=pt.length+yt),yt>=pt.length){if(Qt)return-1;yt=pt.length-1}else if(yt<0){if(!Qt)return-1;yt=0}if("string"==typeof vt&&(vt=n.from(vt,Yt)),n.isBuffer(vt))return 0===vt.length?-1:J(pt,vt,yt,Yt,Qt);if("number"==typeof vt)return vt&=255,"function"==typeof Uint8Array.prototype.indexOf?Qt?Uint8Array.prototype.indexOf.call(pt,vt,yt):Uint8Array.prototype.lastIndexOf.call(pt,vt,yt):J(pt,[vt],yt,Yt,Qt);throw new TypeError("val must be string, number or Buffer")}function J(pt,vt,yt,Yt,Qt){var Ae,le=1,he=pt.length,ke=vt.length;if(void 0!==Yt&&("ucs2"===(Yt=String(Yt).toLowerCase())||"ucs-2"===Yt||"utf16le"===Yt||"utf-16le"===Yt)){if(pt.length<2||vt.length<2)return-1;le=2,he/=2,ke/=2,yt/=2}function Oe(fe,Ve){return 1===le?fe[Ve]:fe.readUInt16BE(Ve*le)}if(Qt){var je=-1;for(Ae=yt;Ae<he;Ae++)if(Oe(pt,Ae)===Oe(vt,-1===je?0:Ae-je)){if(-1===je&&(je=Ae),Ae-je+1===ke)return je*le}else-1!==je&&(Ae-=Ae-je),je=-1}else for(yt+ke>he&&(yt=he-ke),Ae=yt;Ae>=0;Ae--){for(var Ze=!0,Lr=0;Lr<ke;Lr++)if(Oe(pt,Ae+Lr)!==Oe(vt,Lr)){Ze=!1;break}if(Ze)return Ae}return-1}function j(pt,vt,yt,Yt){yt=Number(yt)||0;var Qt=pt.length-yt;Yt?(Yt=Number(Yt))>Qt&&(Yt=Qt):Yt=Qt;var he,le=vt.length;for(Yt>le/2&&(Yt=le/2),he=0;he<Yt;++he){var ke=parseInt(vt.substr(2*he,2),16);if(Rt(ke))return he;pt[yt+he]=ke}return he}function Z(pt,vt,yt,Yt){return Ct(pe(vt,pt.length-yt),pt,yt,Yt)}function H(pt,vt,yt,Yt){return Ct(function ye(pt){for(var vt=[],yt=0;yt<pt.length;++yt)vt.push(255&pt.charCodeAt(yt));return vt}(vt),pt,yt,Yt)}function X(pt,vt,yt,Yt){return Ct(Zt(vt),pt,yt,Yt)}function at(pt,vt,yt,Yt){return Ct(function Fe(pt,vt){for(var yt,Yt,le=[],he=0;he<pt.length&&!((vt-=2)<0);++he)Yt=(yt=pt.charCodeAt(he))>>8,le.push(yt%256),le.push(Yt);return le}(vt,pt.length-yt),pt,yt,Yt)}function _(pt,vt,yt){return M.fromByteArray(0===vt&&yt===pt.length?pt:pt.slice(vt,yt))}function K(pt,vt,yt){yt=Math.min(pt.length,yt);for(var Yt=[],Qt=vt;Qt<yt;){var le=pt[Qt],he=null,ke=le>239?4:le>223?3:le>191?2:1;if(Qt+ke<=yt){var Oe=void 0,Ae=void 0,je=void 0,Ze=void 0;switch(ke){case 1:le<128&&(he=le);break;case 2:128==(192&(Oe=pt[Qt+1]))&&(Ze=(31&le)<<6|63&Oe)>127&&(he=Ze);break;case 3:Ae=pt[Qt+2],128==(192&(Oe=pt[Qt+1]))&&128==(192&Ae)&&(Ze=(15&le)<<12|(63&Oe)<<6|63&Ae)>2047&&(Ze<55296||Ze>57343)&&(he=Ze);break;case 4:Ae=pt[Qt+2],je=pt[Qt+3],128==(192&(Oe=pt[Qt+1]))&&128==(192&Ae)&&128==(192&je)&&(Ze=(15&le)<<18|(63&Oe)<<12|(63&Ae)<<6|63&je)>65535&&Ze<1114112&&(he=Ze)}}null===he?(he=65533,ke=1):he>65535&&(Yt.push((he-=65536)>>>10&1023|55296),he=56320|1023&he),Yt.push(he),Qt+=ke}return function et(pt){var vt=pt.length;if(vt<=4096)return String.fromCharCode.apply(String,pt);for(var yt="",Yt=0;Yt<vt;)yt+=String.fromCharCode.apply(String,pt.slice(Yt,Yt+=4096));return yt}(Yt)}!(n.TYPED_ARRAY_SUPPORT=function S(){try{var pt=new Uint8Array(1),vt={foo:function(){return 42}};return Object.setPrototypeOf(vt,Uint8Array.prototype),Object.setPrototypeOf(pt,vt),42===pt.foo()}catch(yt){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),n.poolSize=8192,n.from=function(pt,vt,yt){return C(pt,vt,yt)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(pt,vt,yt){return function F(pt,vt,yt){return p(pt),pt<=0?b(pt):void 0!==vt?"string"==typeof yt?b(pt).fill(vt,yt):b(pt).fill(vt):b(pt)}(pt,vt,yt)},n.allocUnsafe=function(pt){return D(pt)},n.allocUnsafeSlow=function(pt){return D(pt)},n.isBuffer=function(vt){return null!=vt&&!0===vt._isBuffer&&vt!==n.prototype},n.compare=function(vt,yt){if(Et(vt,Uint8Array)&&(vt=n.from(vt,vt.offset,vt.byteLength)),Et(yt,Uint8Array)&&(yt=n.from(yt,yt.offset,yt.byteLength)),!n.isBuffer(vt)||!n.isBuffer(yt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(vt===yt)return 0;for(var Yt=vt.length,Qt=yt.length,le=0,he=Math.min(Yt,Qt);le<he;++le)if(vt[le]!==yt[le]){Yt=vt[le],Qt=yt[le];break}return Yt<Qt?-1:Qt<Yt?1:0},n.isEncoding=function(vt){switch(String(vt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(vt,yt){if(!Array.isArray(vt))throw new TypeError('"list" argument must be an Array of Buffers');if(0===vt.length)return n.alloc(0);var Yt;if(void 0===yt)for(yt=0,Yt=0;Yt<vt.length;++Yt)yt+=vt[Yt].length;var Qt=n.allocUnsafe(yt),le=0;for(Yt=0;Yt<vt.length;++Yt){var he=vt[Yt];if(Et(he,Uint8Array))le+he.length>Qt.length?(n.isBuffer(he)||(he=n.from(he)),he.copy(Qt,le)):Uint8Array.prototype.set.call(Qt,he,le);else{if(!n.isBuffer(he))throw new TypeError('"list" argument must be an Array of Buffers');he.copy(Qt,le)}le+=he.length}return Qt},n.byteLength=Q,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var vt=this.length;if(vt%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var yt=0;yt<vt;yt+=2)it(this,yt,yt+1);return this},n.prototype.swap32=function(){var vt=this.length;if(vt%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var yt=0;yt<vt;yt+=4)it(this,yt,yt+3),it(this,yt+1,yt+2);return this},n.prototype.swap64=function(){var vt=this.length;if(vt%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var yt=0;yt<vt;yt+=8)it(this,yt,yt+7),it(this,yt+1,yt+6),it(this,yt+2,yt+5),it(this,yt+3,yt+4);return this},n.prototype.toLocaleString=n.prototype.toString=function(){var vt=this.length;return 0===vt?"":0===arguments.length?K(this,0,vt):rt.apply(this,arguments)},n.prototype.equals=function(vt){if(!n.isBuffer(vt))throw new TypeError("Argument must be a Buffer");return this===vt||0===n.compare(this,vt)},n.prototype.inspect=function(){var vt="",yt=x.h2;return vt=this.toString("hex",0,yt).replace(/(.{2})/g,"$1 ").trim(),this.length>yt&&(vt+=" ... "),"<Buffer "+vt+">"},L&&(n.prototype[L]=n.prototype.inspect),n.prototype.compare=function(vt,yt,Yt,Qt,le){if(Et(vt,Uint8Array)&&(vt=n.from(vt,vt.offset,vt.byteLength)),!n.isBuffer(vt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+h(vt));if(void 0===yt&&(yt=0),void 0===Yt&&(Yt=vt?vt.length:0),void 0===Qt&&(Qt=0),void 0===le&&(le=this.length),yt<0||Yt>vt.length||Qt<0||le>this.length)throw new RangeError("out of range index");if(Qt>=le&&yt>=Yt)return 0;if(Qt>=le)return-1;if(yt>=Yt)return 1;if(this===vt)return 0;for(var he=(le>>>=0)-(Qt>>>=0),ke=(Yt>>>=0)-(yt>>>=0),Oe=Math.min(he,ke),Ae=this.slice(Qt,le),je=vt.slice(yt,Yt),Ze=0;Ze<Oe;++Ze)if(Ae[Ze]!==je[Ze]){he=Ae[Ze],ke=je[Ze];break}return he<ke?-1:ke<he?1:0},n.prototype.includes=function(vt,yt,Yt){return-1!==this.indexOf(vt,yt,Yt)},n.prototype.indexOf=function(vt,yt,Yt){return ut(this,vt,yt,Yt,!0)},n.prototype.lastIndexOf=function(vt,yt,Yt){return ut(this,vt,yt,Yt,!1)},n.prototype.write=function(vt,yt,Yt,Qt){if(void 0===yt)Qt="utf8",Yt=this.length,yt=0;else if(void 0===Yt&&"string"==typeof yt)Qt=yt,Yt=this.length,yt=0;else{if(!isFinite(yt))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");yt>>>=0,isFinite(Yt)?(Yt>>>=0,void 0===Qt&&(Qt="utf8")):(Qt=Yt,Yt=void 0)}var le=this.length-yt;if((void 0===Yt||Yt>le)&&(Yt=le),vt.length>0&&(Yt<0||yt<0)||yt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Qt||(Qt="utf8");for(var he=!1;;)switch(Qt){case"hex":return j(this,vt,yt,Yt);case"utf8":case"utf-8":return Z(this,vt,yt,Yt);case"ascii":case"latin1":case"binary":return H(this,vt,yt,Yt);case"base64":return X(this,vt,yt,Yt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return at(this,vt,yt,Yt);default:if(he)throw new TypeError("Unknown encoding: "+Qt);Qt=(""+Qt).toLowerCase(),he=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function st(pt,vt,yt){var Yt="";yt=Math.min(pt.length,yt);for(var Qt=vt;Qt<yt;++Qt)Yt+=String.fromCharCode(127&pt[Qt]);return Yt}function dt(pt,vt,yt){var Yt="";yt=Math.min(pt.length,yt);for(var Qt=vt;Qt<yt;++Qt)Yt+=String.fromCharCode(pt[Qt]);return Yt}function Tt(pt,vt,yt){var Yt=pt.length;(!vt||vt<0)&&(vt=0),(!yt||yt<0||yt>Yt)&&(yt=Yt);for(var Qt="",le=vt;le<yt;++le)Qt+=Ot[pt[le]];return Qt}function bt(pt,vt,yt){for(var Yt=pt.slice(vt,yt),Qt="",le=0;le<Yt.length-1;le+=2)Qt+=String.fromCharCode(Yt[le]+256*Yt[le+1]);return Qt}function Dt(pt,vt,yt){if(pt%1!=0||pt<0)throw new RangeError("offset is not uint");if(pt+vt>yt)throw new RangeError("Trying to access beyond buffer length")}function Ft(pt,vt,yt,Yt,Qt,le){if(!n.isBuffer(pt))throw new TypeError('"buffer" argument must be a Buffer instance');if(vt>Qt||vt<le)throw new RangeError('"value" argument is out of bounds');if(yt+Yt>pt.length)throw new RangeError("Index out of range")}function Mt(pt,vt,yt,Yt,Qt){kt(vt,Yt,Qt,pt,yt,7);var le=Number(vt&BigInt(4294967295));pt[yt++]=le,pt[yt++]=le>>=8,pt[yt++]=le>>=8,pt[yt++]=le>>=8;var he=Number(vt>>BigInt(32)&BigInt(4294967295));return pt[yt++]=he,pt[yt++]=he>>=8,pt[yt++]=he>>=8,pt[yt++]=he>>=8,yt}function wt(pt,vt,yt,Yt,Qt){kt(vt,Yt,Qt,pt,yt,7);var le=Number(vt&BigInt(4294967295));pt[yt+7]=le,pt[yt+6]=le>>=8,pt[yt+5]=le>>=8,pt[yt+4]=le>>=8;var he=Number(vt>>BigInt(32)&BigInt(4294967295));return pt[yt+3]=he,pt[yt+2]=he>>=8,pt[yt+1]=he>>=8,pt[yt]=he>>=8,yt+8}function St(pt,vt,yt,Yt,Qt,le){if(yt+Yt>pt.length)throw new RangeError("Index out of range");if(yt<0)throw new RangeError("Index out of range")}function Ut(pt,vt,yt,Yt,Qt){return vt=+vt,yt>>>=0,Qt||St(pt,0,yt,4),T.write(pt,vt,yt,Yt,23,4),yt+4}function Gt(pt,vt,yt,Yt,Qt){return vt=+vt,yt>>>=0,Qt||St(pt,0,yt,8),T.write(pt,vt,yt,Yt,52,8),yt+8}n.prototype.slice=function(vt,yt){var Yt=this.length;(vt=~~vt)<0?(vt+=Yt)<0&&(vt=0):vt>Yt&&(vt=Yt),(yt=void 0===yt?Yt:~~yt)<0?(yt+=Yt)<0&&(yt=0):yt>Yt&&(yt=Yt),yt<vt&&(yt=vt);var Qt=this.subarray(vt,yt);return Object.setPrototypeOf(Qt,n.prototype),Qt},n.prototype.readUintLE=n.prototype.readUIntLE=function(vt,yt,Yt){vt>>>=0,yt>>>=0,Yt||Dt(vt,yt,this.length);for(var Qt=this[vt],le=1,he=0;++he<yt&&(le*=256);)Qt+=this[vt+he]*le;return Qt},n.prototype.readUintBE=n.prototype.readUIntBE=function(vt,yt,Yt){vt>>>=0,yt>>>=0,Yt||Dt(vt,yt,this.length);for(var Qt=this[vt+--yt],le=1;yt>0&&(le*=256);)Qt+=this[vt+--yt]*le;return Qt},n.prototype.readUint8=n.prototype.readUInt8=function(vt,yt){return vt>>>=0,yt||Dt(vt,1,this.length),this[vt]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(vt,yt){return vt>>>=0,yt||Dt(vt,2,this.length),this[vt]|this[vt+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(vt,yt){return vt>>>=0,yt||Dt(vt,2,this.length),this[vt]<<8|this[vt+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(vt,yt){return vt>>>=0,yt||Dt(vt,4,this.length),(this[vt]|this[vt+1]<<8|this[vt+2]<<16)+16777216*this[vt+3]},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(vt,yt){return vt>>>=0,yt||Dt(vt,4,this.length),16777216*this[vt]+(this[vt+1]<<16|this[vt+2]<<8|this[vt+3])},n.prototype.readBigUInt64LE=It(function(vt){zt(vt>>>=0,"offset");var yt=this[vt],Yt=this[vt+7];(void 0===yt||void 0===Yt)&&qt(vt,this.length-8);var Qt=yt+this[++vt]*Math.pow(2,8)+this[++vt]*Math.pow(2,16)+this[++vt]*Math.pow(2,24),le=this[++vt]+this[++vt]*Math.pow(2,8)+this[++vt]*Math.pow(2,16)+Yt*Math.pow(2,24);return BigInt(Qt)+(BigInt(le)<<BigInt(32))}),n.prototype.readBigUInt64BE=It(function(vt){zt(vt>>>=0,"offset");var yt=this[vt],Yt=this[vt+7];(void 0===yt||void 0===Yt)&&qt(vt,this.length-8);var Qt=yt*Math.pow(2,24)+this[++vt]*Math.pow(2,16)+this[++vt]*Math.pow(2,8)+this[++vt],le=this[++vt]*Math.pow(2,24)+this[++vt]*Math.pow(2,16)+this[++vt]*Math.pow(2,8)+Yt;return(BigInt(Qt)<<BigInt(32))+BigInt(le)}),n.prototype.readIntLE=function(vt,yt,Yt){vt>>>=0,yt>>>=0,Yt||Dt(vt,yt,this.length);for(var Qt=this[vt],le=1,he=0;++he<yt&&(le*=256);)Qt+=this[vt+he]*le;return Qt>=(le*=128)&&(Qt-=Math.pow(2,8*yt)),Qt},n.prototype.readIntBE=function(vt,yt,Yt){vt>>>=0,yt>>>=0,Yt||Dt(vt,yt,this.length);for(var Qt=yt,le=1,he=this[vt+--Qt];Qt>0&&(le*=256);)he+=this[vt+--Qt]*le;return he>=(le*=128)&&(he-=Math.pow(2,8*yt)),he},n.prototype.readInt8=function(vt,yt){return vt>>>=0,yt||Dt(vt,1,this.length),128&this[vt]?-1*(255-this[vt]+1):this[vt]},n.prototype.readInt16LE=function(vt,yt){vt>>>=0,yt||Dt(vt,2,this.length);var Yt=this[vt]|this[vt+1]<<8;return 32768&Yt?4294901760|Yt:Yt},n.prototype.readInt16BE=function(vt,yt){vt>>>=0,yt||Dt(vt,2,this.length);var Yt=this[vt+1]|this[vt]<<8;return 32768&Yt?4294901760|Yt:Yt},n.prototype.readInt32LE=function(vt,yt){return vt>>>=0,yt||Dt(vt,4,this.length),this[vt]|this[vt+1]<<8|this[vt+2]<<16|this[vt+3]<<24},n.prototype.readInt32BE=function(vt,yt){return vt>>>=0,yt||Dt(vt,4,this.length),this[vt]<<24|this[vt+1]<<16|this[vt+2]<<8|this[vt+3]},n.prototype.readBigInt64LE=It(function(vt){zt(vt>>>=0,"offset");var yt=this[vt],Yt=this[vt+7];(void 0===yt||void 0===Yt)&&qt(vt,this.length-8);var Qt=this[vt+4]+this[vt+5]*Math.pow(2,8)+this[vt+6]*Math.pow(2,16)+(Yt<<24);return(BigInt(Qt)<<BigInt(32))+BigInt(yt+this[++vt]*Math.pow(2,8)+this[++vt]*Math.pow(2,16)+this[++vt]*Math.pow(2,24))}),n.prototype.readBigInt64BE=It(function(vt){zt(vt>>>=0,"offset");var yt=this[vt],Yt=this[vt+7];(void 0===yt||void 0===Yt)&&qt(vt,this.length-8);var Qt=(yt<<24)+this[++vt]*Math.pow(2,16)+this[++vt]*Math.pow(2,8)+this[++vt];return(BigInt(Qt)<<BigInt(32))+BigInt(this[++vt]*Math.pow(2,24)+this[++vt]*Math.pow(2,16)+this[++vt]*Math.pow(2,8)+Yt)}),n.prototype.readFloatLE=function(vt,yt){return vt>>>=0,yt||Dt(vt,4,this.length),T.read(this,vt,!0,23,4)},n.prototype.readFloatBE=function(vt,yt){return vt>>>=0,yt||Dt(vt,4,this.length),T.read(this,vt,!1,23,4)},n.prototype.readDoubleLE=function(vt,yt){return vt>>>=0,yt||Dt(vt,8,this.length),T.read(this,vt,!0,52,8)},n.prototype.readDoubleBE=function(vt,yt){return vt>>>=0,yt||Dt(vt,8,this.length),T.read(this,vt,!1,52,8)},n.prototype.writeUintLE=n.prototype.writeUIntLE=function(vt,yt,Yt,Qt){vt=+vt,yt>>>=0,Yt>>>=0,Qt||Ft(this,vt,yt,Yt,Math.pow(2,8*Yt)-1,0);var he=1,ke=0;for(this[yt]=255&vt;++ke<Yt&&(he*=256);)this[yt+ke]=vt/he&255;return yt+Yt},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(vt,yt,Yt,Qt){vt=+vt,yt>>>=0,Yt>>>=0,Qt||Ft(this,vt,yt,Yt,Math.pow(2,8*Yt)-1,0);var he=Yt-1,ke=1;for(this[yt+he]=255&vt;--he>=0&&(ke*=256);)this[yt+he]=vt/ke&255;return yt+Yt},n.prototype.writeUint8=n.prototype.writeUInt8=function(vt,yt,Yt){return vt=+vt,yt>>>=0,Yt||Ft(this,vt,yt,1,255,0),this[yt]=255&vt,yt+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(vt,yt,Yt){return vt=+vt,yt>>>=0,Yt||Ft(this,vt,yt,2,65535,0),this[yt]=255&vt,this[yt+1]=vt>>>8,yt+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(vt,yt,Yt){return vt=+vt,yt>>>=0,Yt||Ft(this,vt,yt,2,65535,0),this[yt]=vt>>>8,this[yt+1]=255&vt,yt+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(vt,yt,Yt){return vt=+vt,yt>>>=0,Yt||Ft(this,vt,yt,4,4294967295,0),this[yt+3]=vt>>>24,this[yt+2]=vt>>>16,this[yt+1]=vt>>>8,this[yt]=255&vt,yt+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(vt,yt,Yt){return vt=+vt,yt>>>=0,Yt||Ft(this,vt,yt,4,4294967295,0),this[yt]=vt>>>24,this[yt+1]=vt>>>16,this[yt+2]=vt>>>8,this[yt+3]=255&vt,yt+4},n.prototype.writeBigUInt64LE=It(function(vt){return Mt(this,vt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=It(function(vt){return wt(this,vt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(vt,yt,Yt,Qt){if(vt=+vt,yt>>>=0,!Qt){var le=Math.pow(2,8*Yt-1);Ft(this,vt,yt,Yt,le-1,-le)}var he=0,ke=1,Oe=0;for(this[yt]=255&vt;++he<Yt&&(ke*=256);)vt<0&&0===Oe&&0!==this[yt+he-1]&&(Oe=1),this[yt+he]=(vt/ke>>0)-Oe&255;return yt+Yt},n.prototype.writeIntBE=function(vt,yt,Yt,Qt){if(vt=+vt,yt>>>=0,!Qt){var le=Math.pow(2,8*Yt-1);Ft(this,vt,yt,Yt,le-1,-le)}var he=Yt-1,ke=1,Oe=0;for(this[yt+he]=255&vt;--he>=0&&(ke*=256);)vt<0&&0===Oe&&0!==this[yt+he+1]&&(Oe=1),this[yt+he]=(vt/ke>>0)-Oe&255;return yt+Yt},n.prototype.writeInt8=function(vt,yt,Yt){return vt=+vt,yt>>>=0,Yt||Ft(this,vt,yt,1,127,-128),vt<0&&(vt=255+vt+1),this[yt]=255&vt,yt+1},n.prototype.writeInt16LE=function(vt,yt,Yt){return vt=+vt,yt>>>=0,Yt||Ft(this,vt,yt,2,32767,-32768),this[yt]=255&vt,this[yt+1]=vt>>>8,yt+2},n.prototype.writeInt16BE=function(vt,yt,Yt){return vt=+vt,yt>>>=0,Yt||Ft(this,vt,yt,2,32767,-32768),this[yt]=vt>>>8,this[yt+1]=255&vt,yt+2},n.prototype.writeInt32LE=function(vt,yt,Yt){return vt=+vt,yt>>>=0,Yt||Ft(this,vt,yt,4,2147483647,-2147483648),this[yt]=255&vt,this[yt+1]=vt>>>8,this[yt+2]=vt>>>16,this[yt+3]=vt>>>24,yt+4},n.prototype.writeInt32BE=function(vt,yt,Yt){return vt=+vt,yt>>>=0,Yt||Ft(this,vt,yt,4,2147483647,-2147483648),vt<0&&(vt=4294967295+vt+1),this[yt]=vt>>>24,this[yt+1]=vt>>>16,this[yt+2]=vt>>>8,this[yt+3]=255&vt,yt+4},n.prototype.writeBigInt64LE=It(function(vt){return Mt(this,vt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=It(function(vt){return wt(this,vt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeFloatLE=function(vt,yt,Yt){return Ut(this,vt,yt,!0,Yt)},n.prototype.writeFloatBE=function(vt,yt,Yt){return Ut(this,vt,yt,!1,Yt)},n.prototype.writeDoubleLE=function(vt,yt,Yt){return Gt(this,vt,yt,!0,Yt)},n.prototype.writeDoubleBE=function(vt,yt,Yt){return Gt(this,vt,yt,!1,Yt)},n.prototype.copy=function(vt,yt,Yt,Qt){if(!n.isBuffer(vt))throw new TypeError("argument should be a Buffer");if(Yt||(Yt=0),!Qt&&0!==Qt&&(Qt=this.length),yt>=vt.length&&(yt=vt.length),yt||(yt=0),Qt>0&&Qt<Yt&&(Qt=Yt),Qt===Yt||0===vt.length||0===this.length)return 0;if(yt<0)throw new RangeError("targetStart out of bounds");if(Yt<0||Yt>=this.length)throw new RangeError("Index out of range");if(Qt<0)throw new RangeError("sourceEnd out of bounds");Qt>this.length&&(Qt=this.length),vt.length-yt<Qt-Yt&&(Qt=vt.length-yt+Yt);var le=Qt-Yt;return this===vt&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(yt,Yt,Qt):Uint8Array.prototype.set.call(vt,this.subarray(Yt,Qt),yt),le},n.prototype.fill=function(vt,yt,Yt,Qt){if("string"==typeof vt){if("string"==typeof yt?(Qt=yt,yt=0,Yt=this.length):"string"==typeof Yt&&(Qt=Yt,Yt=this.length),void 0!==Qt&&"string"!=typeof Qt)throw new TypeError("encoding must be a string");if("string"==typeof Qt&&!n.isEncoding(Qt))throw new TypeError("Unknown encoding: "+Qt);if(1===vt.length){var le=vt.charCodeAt(0);("utf8"===Qt&&le<128||"latin1"===Qt)&&(vt=le)}}else"number"==typeof vt?vt&=255:"boolean"==typeof vt&&(vt=Number(vt));if(yt<0||this.length<yt||this.length<Yt)throw new RangeError("Out of range index");if(Yt<=yt)return this;var he;if(yt>>>=0,Yt=void 0===Yt?this.length:Yt>>>0,vt||(vt=0),"number"==typeof vt)for(he=yt;he<Yt;++he)this[he]=vt;else{var ke=n.isBuffer(vt)?vt:n.from(vt,Qt),Oe=ke.length;if(0===Oe)throw new TypeError('The value "'+vt+'" is invalid for argument "value"');for(he=0;he<Yt-yt;++he)this[he+yt]=ke[he%Oe]}return this};var Pt={};function Vt(pt,vt,yt){Pt[pt]=function(Yt){c(le,Yt);var Qt=y(le);function le(){var he;return f(this,le),he=Qt.call(this),Object.defineProperty(w(he),"message",{value:vt.apply(w(he),arguments),writable:!0,configurable:!0}),he.name="".concat(he.name," [").concat(pt,"]"),delete he.name,he}return function s(pt,vt,yt){return vt&&a(pt.prototype,vt),yt&&a(pt,yt),Object.defineProperty(pt,"prototype",{writable:!1}),pt}(le,[{key:"code",get:function(){return pt},set:function(ke){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ke,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(pt,"]: ").concat(this.message)}}]),le}(yt)}function te(pt){for(var vt="",yt=pt.length,Yt="-"===pt[0]?1:0;yt>=Yt+4;yt-=3)vt="_".concat(pt.slice(yt-3,yt)).concat(vt);return"".concat(pt.slice(0,yt)).concat(vt)}function kt(pt,vt,yt,Yt,Qt,le){if(pt>yt||pt<vt){var ke,he="bigint"==typeof vt?"n":"";throw ke=le>3?0===vt||vt===BigInt(0)?">= 0".concat(he," and < 2").concat(he," ** ").concat(8*(le+1)).concat(he):">= -(2".concat(he," ** ").concat(8*(le+1)-1).concat(he,") and < 2 ** ")+"".concat(8*(le+1)-1).concat(he):">= ".concat(vt).concat(he," and <= ").concat(yt).concat(he),new Pt.ERR_OUT_OF_RANGE("value",ke,pt)}!function _t(pt,vt,yt){zt(vt,"offset"),(void 0===pt[vt]||void 0===pt[vt+yt])&&qt(vt,pt.length-(yt+1))}(Yt,Qt,le)}function zt(pt,vt){if("number"!=typeof pt)throw new Pt.ERR_INVALID_ARG_TYPE(vt,"number",pt)}function qt(pt,vt,yt){throw Math.floor(pt)!==pt?(zt(pt,yt),new Pt.ERR_OUT_OF_RANGE(yt||"offset","an integer",pt)):vt<0?new Pt.ERR_BUFFER_OUT_OF_BOUNDS:new Pt.ERR_OUT_OF_RANGE(yt||"offset",">= ".concat(yt?1:0," and <= ").concat(vt),pt)}Vt("ERR_BUFFER_OUT_OF_BOUNDS",function(pt){return pt?"".concat(pt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Vt("ERR_INVALID_ARG_TYPE",function(pt,vt){return'The "'.concat(pt,'" argument must be of type number. Received type ').concat(h(vt))},TypeError),Vt("ERR_OUT_OF_RANGE",function(pt,vt,yt){var Yt='The value of "'.concat(pt,'" is out of range.'),Qt=yt;return Number.isInteger(yt)&&Math.abs(yt)>Math.pow(2,32)?Qt=te(String(yt)):"bigint"==typeof yt&&(Qt=String(yt),(yt>Math.pow(BigInt(2),BigInt(32))||yt<-Math.pow(BigInt(2),BigInt(32)))&&(Qt=te(Qt)),Qt+="n"),Yt+" It must be ".concat(vt,". Received ").concat(Qt)},RangeError);var ae=/[^+/0-9A-Za-z-_]/g;function pe(pt,vt){vt=vt||1/0;for(var yt,Yt=pt.length,Qt=null,le=[],he=0;he<Yt;++he){if((yt=pt.charCodeAt(he))>55295&&yt<57344){if(!Qt){if(yt>56319){(vt-=3)>-1&&le.push(239,191,189);continue}if(he+1===Yt){(vt-=3)>-1&&le.push(239,191,189);continue}Qt=yt;continue}if(yt<56320){(vt-=3)>-1&&le.push(239,191,189),Qt=yt;continue}yt=65536+(Qt-55296<<10|yt-56320)}else Qt&&(vt-=3)>-1&&le.push(239,191,189);if(Qt=null,yt<128){if((vt-=1)<0)break;le.push(yt)}else if(yt<2048){if((vt-=2)<0)break;le.push(yt>>6|192,63&yt|128)}else if(yt<65536){if((vt-=3)<0)break;le.push(yt>>12|224,yt>>6&63|128,63&yt|128)}else{if(!(yt<1114112))throw new Error("Invalid code point");if((vt-=4)<0)break;le.push(yt>>18|240,yt>>12&63|128,yt>>6&63|128,63&yt|128)}}return le}function Zt(pt){return M.toByteArray(function oe(pt){if((pt=(pt=pt.split("=")[0]).trim().replace(ae,"")).length<2)return"";for(;pt.length%4!=0;)pt+="=";return pt}(pt))}function Ct(pt,vt,yt,Yt){var Qt;for(Qt=0;Qt<Yt&&!(Qt+yt>=vt.length||Qt>=pt.length);++Qt)vt[Qt+yt]=pt[Qt];return Qt}function Et(pt,vt){return pt instanceof vt||null!=pt&&null!=pt.constructor&&null!=pt.constructor.name&&pt.constructor.name===vt.name}function Rt(pt){return pt!=pt}var Ot=function(){for(var pt="0123456789abcdef",vt=new Array(256),yt=0;yt<16;++yt)for(var Yt=16*yt,Qt=0;Qt<16;++Qt)vt[Yt+Qt]=pt[yt]+pt[Qt];return vt}();function It(pt){return"undefined"==typeof BigInt?gt:pt}function gt(){throw new Error("BigInt not supported")}},2321:function(l){"use strict";l.exports=f,l.exports.isMobile=f,l.exports.default=f;var x=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,r=/android|ipad|playbook|silk/i;function f(a){a||(a={});var s=a.ua;if(!s&&"undefined"!=typeof navigator&&(s=navigator.userAgent),s&&s.headers&&"string"==typeof s.headers["user-agent"]&&(s=s.headers["user-agent"]),"string"!=typeof s)return!1;var c=x.test(s)&&!e.test(s)||!!a.tablet&&r.test(s);return!c&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==s.indexOf("Macintosh")&&-1!==s.indexOf("Safari")&&(c=!0),c}},3910:function(l,x){"use strict";x.byteLength=function y(M){var T=u(M),m=T[1];return 3*(T[0]+m)/4-m},x.toByteArray=function w(M){var T,p,L=u(M),m=L[0],S=L[1],b=new f(function v(M,T,L){return 3*(T+L)/4-L}(0,m,S)),n=0,C=S>0?m-4:m;for(p=0;p<C;p+=4)T=r[M.charCodeAt(p)]<<18|r[M.charCodeAt(p+1)]<<12|r[M.charCodeAt(p+2)]<<6|r[M.charCodeAt(p+3)],b[n++]=T>>16&255,b[n++]=T>>8&255,b[n++]=255&T;return 2===S&&(T=r[M.charCodeAt(p)]<<2|r[M.charCodeAt(p+1)]>>4,b[n++]=255&T),1===S&&(T=r[M.charCodeAt(p)]<<10|r[M.charCodeAt(p+1)]<<4|r[M.charCodeAt(p+2)]>>2,b[n++]=T>>8&255,b[n++]=255&T),b},x.fromByteArray=function h(M){for(var T,L=M.length,m=L%3,S=[],b=16383,n=0,C=L-m;n<C;n+=b)S.push(o(M,n,n+b>C?C:n+b));return 1===m?S.push(e[(T=M[L-1])>>2]+e[T<<4&63]+"=="):2===m&&S.push(e[(T=(M[L-2]<<8)+M[L-1])>>10]+e[T>>4&63]+e[T<<2&63]+"="),S.join("")};for(var e=[],r=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)e[s]=a[s],r[a.charCodeAt(s)]=s;function u(M){var T=M.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=M.indexOf("=");return-1===L&&(L=T),[L,L===T?0:4-L%4]}function d(M){return e[M>>18&63]+e[M>>12&63]+e[M>>6&63]+e[63&M]}function o(M,T,L){for(var S=[],b=T;b<L;b+=3)S.push(d((M[b]<<16&16711680)+(M[b+1]<<8&65280)+(255&M[b+2])));return S.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},3187:function(l,x){x.read=function(e,r,f,a,s){var c,u,y=8*s-a-1,v=(1<<y)-1,w=v>>1,d=-7,o=f?s-1:0,h=f?-1:1,M=e[r+o];for(o+=h,c=M&(1<<-d)-1,M>>=-d,d+=y;d>0;c=256*c+e[r+o],o+=h,d-=8);for(u=c&(1<<-d)-1,c>>=-d,d+=a;d>0;u=256*u+e[r+o],o+=h,d-=8);if(0===c)c=1-w;else{if(c===v)return u?NaN:1/0*(M?-1:1);u+=Math.pow(2,a),c-=w}return(M?-1:1)*u*Math.pow(2,c-a)},x.write=function(e,r,f,a,s,c){var u,y,v,w=8*c-s-1,d=(1<<w)-1,o=d>>1,h=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,M=a?0:c-1,T=a?1:-1,L=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(y=isNaN(r)?1:0,u=d):(u=Math.floor(Math.log(r)/Math.LN2),r*(v=Math.pow(2,-u))<1&&(u--,v*=2),(r+=u+o>=1?h/v:h*Math.pow(2,1-o))*v>=2&&(u++,v/=2),u+o>=d?(y=0,u=d):u+o>=1?(y=(r*v-1)*Math.pow(2,s),u+=o):(y=r*Math.pow(2,o-1)*Math.pow(2,s),u=0));s>=8;e[f+M]=255&y,M+=T,y/=256,s-=8);for(u=u<<s|y,w+=s;w>0;e[f+M]=255&u,M+=T,u/=256,w-=8);e[f+M-T]|=128*L}},1152:function(l,x,e){"use strict";l.exports=function u(y){var v=(y=y||{}).eye||[0,0,1],w=y.center||[0,0,0],d=y.up||[0,1,0],o=y.distanceLimits||[0,1/0],h=y.mode||"turntable",M=r(),T=f(),L=a();return M.setDistanceLimits(o[0],o[1]),M.lookAt(0,v,w,d),T.setDistanceLimits(o[0],o[1]),T.lookAt(0,v,w,d),L.setDistanceLimits(o[0],o[1]),L.lookAt(0,v,w,d),new s({turntable:M,orbit:T,matrix:L},h)};var r=e(3440),f=e(7774),a=e(9298);function s(y,v){this._controllerNames=Object.keys(y),this._controllerList=this._controllerNames.map(function(w){return y[w]}),this._mode=v,this._active=y[v],this._active||(this._mode="turntable",this._active=y.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var c=s.prototype;c.flush=function(y){for(var v=this._controllerList,w=0;w<v.length;++w)v[w].flush(y)},c.idle=function(y){for(var v=this._controllerList,w=0;w<v.length;++w)v[w].idle(y)},c.lookAt=function(y,v,w,d){for(var o=this._controllerList,h=0;h<o.length;++h)o[h].lookAt(y,v,w,d)},c.rotate=function(y,v,w,d){for(var o=this._controllerList,h=0;h<o.length;++h)o[h].rotate(y,v,w,d)},c.pan=function(y,v,w,d){for(var o=this._controllerList,h=0;h<o.length;++h)o[h].pan(y,v,w,d)},c.translate=function(y,v,w,d){for(var o=this._controllerList,h=0;h<o.length;++h)o[h].translate(y,v,w,d)},c.setMatrix=function(y,v){for(var w=this._controllerList,d=0;d<w.length;++d)w[d].setMatrix(y,v)},c.setDistanceLimits=function(y,v){for(var w=this._controllerList,d=0;d<w.length;++d)w[d].setDistanceLimits(y,v)},c.setDistance=function(y,v){for(var w=this._controllerList,d=0;d<w.length;++d)w[d].setDistance(y,v)},c.recalcMatrix=function(y){this._active.recalcMatrix(y)},c.getDistance=function(y){return this._active.getDistance(y)},c.getDistanceLimits=function(y){return this._active.getDistanceLimits(y)},c.lastT=function(){return this._active.lastT()},c.setMode=function(y){if(y!==this._mode){var v=this._controllerNames.indexOf(y);if(!(v<0)){var w=this._active,d=this._controllerList[v],o=Math.max(w.lastT(),d.lastT());w.recalcMatrix(o),d.setMatrix(o,w.computedMatrix),this._active=d,this._mode=y,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},c.getMode=function(){return this._mode}},8126:function(l,x,e){"use strict";var r="undefined"==typeof WeakMap?e(5346):WeakMap,f=e(5827),a=e(2944),s=new r;l.exports=function c(u){var y=s.get(u),v=y&&(y._triangleBuffer.handle||y._triangleBuffer.buffer);if(!v||!u.isBuffer(v)){var w=f(u,new Float32Array([-1,-1,-1,4,4,-1]));(y=a(u,[{buffer:w,type:u.FLOAT,size:2}]))._triangleBuffer=w,s.set(u,y)}y.bind(),u.drawArrays(u.TRIANGLES,0,3),y.unbind()}},8008:function(l,x,e){var r=e(4930);l.exports=function f(a,s,c){s="number"==typeof s?s:1,c=c||": ";var u=a.split(/\r?\n/),y=String(u.length+s-1).length;return u.map(function(v,w){var d=w+s,o=String(d).length;return r(d,y-o)+c+v}).join("\n")}},2153:function(l,x,e){"use strict";l.exports=function a(s){var c=s.length;if(0===c)return[];if(1===c)return[0];for(var u=s[0].length,y=[s[0]],v=[0],w=1;w<c;++w)if(y.push(s[w]),f(y,u)){if(v.push(w),v.length===u+1)return v}else y.pop();return v};var r=e(417);function f(s,c){for(var u=new Array(c+1),y=0;y<s.length;++y)u[y]=s[y];for(y=0;y<=s.length;++y){for(var v=s.length;v<=c;++v){for(var w=new Array(c),d=0;d<c;++d)w[d]=Math.pow(v+1-y,d);u[v]=w}if(r.apply(void 0,u))return!0}return!1}},4653:function(l,x,e){"use strict";l.exports=function a(s,c){return r(c).filter(function(u){for(var y=new Array(u.length),v=0;v<u.length;++v)y[v]=c[u[v]];return f(y)*s<1})};var r=e(4419),f=e(1778)},2350:function(l,x,e){l.exports=function a(s,c){return f(r(s,c))};var r=e(4653),f=e(8691)},7896:function(l){l.exports=function(e){return atob(e)}},957:function(l,x,e){"use strict";l.exports=function a(s,c){for(var u=c.length,y=new Array(u+1),v=0;v<u;++v){for(var w=new Array(u+1),d=0;d<=u;++d)w[d]=s[d][v];y[v]=w}for(y[u]=new Array(u+1),v=0;v<=u;++v)y[u][v]=1;var o=new Array(u+1);for(v=0;v<u;++v)o[v]=c[v];o[u]=1;var h=r(y,o),M=f(h[u+1]);0===M&&(M=1);var T=new Array(u+1);for(v=0;v<=u;++v)T[v]=f(h[v])/M;return T};var r=e(6606);function f(s){for(var c=0,u=0;u<s.length;++u)c+=s[u];return c}},1539:function(l,x,e){"use strict";var r=e(8524);l.exports=function f(a,s){return r(a[0].mul(s[1]).add(s[0].mul(a[1])),a[1].mul(s[1]))}},8846:function(l){"use strict";l.exports=function x(e,r){return e[0].mul(r[1]).cmp(r[0].mul(e[1]))}},9189:function(l,x,e){"use strict";var r=e(8524);l.exports=function f(a,s){return r(a[0].mul(s[1]),a[1].mul(s[0]))}},5125:function(l,x,e){"use strict";var r=e(234),f=e(3218),a=e(5514),s=e(2813),c=e(8524),u=e(9189);l.exports=function y(v,w){if(r(v))return w?u(v,y(w)):[v[0].clone(),v[1].clone()];var o,h,d=0;if(f(v))o=v.clone();else if("string"==typeof v)o=s(v);else{if(0===v)return[a(0),a(1)];if(v===Math.floor(v))o=a(v);else{for(;v!==Math.floor(v);)v*=Math.pow(2,256),d-=256;o=a(v)}}if(r(w))o.mul(w[1]),h=w[0].clone();else if(f(w))h=w.clone();else if("string"==typeof w)h=s(w);else if(w)if(w===Math.floor(w))h=a(w);else{for(;w!==Math.floor(w);)w*=Math.pow(2,256),d+=256;h=a(w)}else h=a(1);return d>0?o=o.ushln(d):d<0&&(h=h.ushln(-d)),c(o,h)}},234:function(l,x,e){"use strict";var r=e(3218);l.exports=function f(a){return Array.isArray(a)&&2===a.length&&r(a[0])&&r(a[1])}},4275:function(l,x,e){"use strict";var r=e(1928);l.exports=function f(a){return a.cmp(new r(0))}},9958:function(l,x,e){"use strict";var r=e(4275);l.exports=function f(a){var s=a.length,c=a.words,u=0;if(1===s)u=c[0];else if(2===s)u=c[0]+67108864*c[1];else for(var y=0;y<s;y++)u+=c[y]*Math.pow(67108864,y);return r(a)*u}},1112:function(l,x,e){"use strict";var r=e(8362),f=e(2288).countTrailingZeros;l.exports=function a(s){var c=f(r.lo(s));if(c<32)return c;var u=f(r.hi(s));return u>20?52:u+32}},3218:function(l,x,e){"use strict";e(1928),l.exports=function f(a){return a&&"object"==typeof a&&Boolean(a.words)}},5514:function(l,x,e){"use strict";var r=e(1928),f=e(8362);l.exports=function a(s){var c=f.exponent(s);return c<52?new r(s):new r(s*Math.pow(2,52-c)).ushln(c-52)}},8524:function(l,x,e){"use strict";var r=e(5514),f=e(4275);l.exports=function a(s,c){var u=f(s),y=f(c);if(0===u)return[r(0),r(1)];if(0===y)return[r(0),r(0)];y<0&&(s=s.neg(),c=c.neg());var v=s.gcd(c);return v.cmpn(1)?[s.div(v),c.div(v)]:[s,c]}},2813:function(l,x,e){"use strict";var r=e(1928);l.exports=function f(a){return new r(a)}},3962:function(l,x,e){"use strict";var r=e(8524);l.exports=function f(a,s){return r(a[0].mul(s[0]),a[1].mul(s[1]))}},4951:function(l,x,e){"use strict";var r=e(4275);l.exports=function f(a){return r(a[0])*r(a[1])}},4354:function(l,x,e){"use strict";var r=e(8524);l.exports=function f(a,s){return r(a[0].mul(s[1]).sub(a[1].mul(s[0])),a[1].mul(s[1]))}},7999:function(l,x,e){"use strict";var r=e(9958),f=e(1112);l.exports=function a(s){var c=s[0],u=s[1];if(0===c.cmpn(0))return 0;var y=c.abs().divmod(u.abs()),w=r(y.div),d=y.mod,o=c.negative!==u.negative?-1:1;if(0===d.cmpn(0))return o*w;if(w){var h=f(w)+4;return o*(w+(M=r(d.ushln(h).divRound(u)))*Math.pow(2,-h))}var T=u.bitLength()-d.bitLength()+53,M=r(d.ushln(T).divRound(u));return T<1023?o*M*Math.pow(2,-T):o*(M*=Math.pow(2,-1023))*Math.pow(2,1023-T)}},5070:function(l){"use strict";function x(c,u,y,v,w){for(var d=w+1;v<=w;){var o=v+w>>>1,h=c[o];(void 0!==y?y(h,u):h-u)>=0?(d=o,w=o-1):v=o+1}return d}function e(c,u,y,v,w){for(var d=w+1;v<=w;){var o=v+w>>>1,h=c[o];(void 0!==y?y(h,u):h-u)>0?(d=o,w=o-1):v=o+1}return d}function r(c,u,y,v,w){for(var d=v-1;v<=w;){var o=v+w>>>1,h=c[o];(void 0!==y?y(h,u):h-u)<0?(d=o,v=o+1):w=o-1}return d}function f(c,u,y,v,w){for(var d=v-1;v<=w;){var o=v+w>>>1,h=c[o];(void 0!==y?y(h,u):h-u)<=0?(d=o,v=o+1):w=o-1}return d}function a(c,u,y,v,w){for(;v<=w;){var d=v+w>>>1,o=c[d],h=void 0!==y?y(o,u):o-u;if(0===h)return d;h<=0?v=d+1:w=d-1}return-1}function s(c,u,y,v,w,d){return"function"==typeof y?d(c,u,y,void 0===v?0:0|v,void 0===w?c.length-1:0|w):d(c,u,void 0,void 0===y?0:0|y,void 0===v?c.length-1:0|v)}l.exports={ge:function(c,u,y,v,w){return s(c,u,y,v,w,x)},gt:function(c,u,y,v,w){return s(c,u,y,v,w,e)},lt:function(c,u,y,v,w){return s(c,u,y,v,w,r)},le:function(c,u,y,v,w){return s(c,u,y,v,w,f)},eq:function(c,u,y,v,w){return s(c,u,y,v,w,a)}}},2288:function(l,x){"use strict";function r(a){var s=32;return(a&=-a)&&s--,65535&a&&(s-=16),16711935&a&&(s-=8),252645135&a&&(s-=4),858993459&a&&(s-=2),1431655765&a&&(s-=1),s}x.INT_BITS=32,x.INT_MAX=2147483647,x.INT_MIN=-1<<31,x.sign=function(a){return(a>0)-(a<0)},x.abs=function(a){var s=a>>31;return(a^s)-s},x.min=function(a,s){return s^(a^s)&-(a<s)},x.max=function(a,s){return a^(a^s)&-(a<s)},x.isPow2=function(a){return!(a&a-1||!a)},x.log2=function(a){var s,c;return s=(a>65535)<<4,s|=c=((a>>>=s)>255)<<3,s|=c=((a>>>=c)>15)<<2,(s|=c=((a>>>=c)>3)<<1)|(a>>>=c)>>1},x.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},x.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},x.countTrailingZeros=r,x.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,1+((a|=a>>>8)|a>>>16)},x.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},x.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var f=new Array(256);(function(a){for(var s=0;s<256;++s){var c=s,u=s,y=7;for(c>>>=1;c;c>>>=1)u<<=1,u|=1&c,--y;a[s]=u<<y&255}})(f),x.reverse=function(a){return f[255&a]<<24|f[a>>>8&255]<<16|f[a>>>16&255]<<8|f[a>>>24&255]},x.interleave2=function(a,s){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s&=65535)|s<<8))|s<<4))|s<<2))|s<<1))<<1},x.deinterleave2=function(a,s){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>s&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},x.interleave3=function(a,s,c){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(s=1227133513&((s=3272356035&((s=251719695&((s=4278190335&((s&=1023)|s<<16))|s<<8))|s<<4))|s<<2))<<1)|(c=1227133513&((c=3272356035&((c=251719695&((c=4278190335&((c&=1023)|c<<16))|c<<8))|c<<4))|c<<2))<<2},x.deinterleave3=function(a,s){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>s&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},x.nextCombination=function(a){var s=a|a-1;return s+1|(~s&-~s)-1>>>r(a)+1}},1928:function(l,x,e){!function(r,f){"use strict";function a(B,z){if(!B)throw new Error(z||"Assertion failed")}function s(B,z){B.super_=z;var U=function(){};U.prototype=z.prototype,B.prototype=new U,B.prototype.constructor=B}function c(B,z,U){if(c.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,null!==B&&(("le"===z||"be"===z)&&(U=z,z=10),this._init(B||0,z||10,U||"be"))}var u;"object"==typeof r?r.exports=c:f.BN=c,c.BN=c,c.wordSize=26;try{u="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:e(6601).Buffer}catch(B){}function y(B,z){var U=B.charCodeAt(z);return U>=65&&U<=70?U-55:U>=97&&U<=102?U-87:U-48&15}function v(B,z,U){var G=y(B,U);return U-1>=z&&(G|=y(B,U-1)<<4),G}function w(B,z,U,G){for(var Q=0,rt=Math.min(B.length,U),it=z;it<rt;it++){var ut=B.charCodeAt(it)-48;Q*=G,Q+=ut>=49?ut-49+10:ut>=17?ut-17+10:ut}return Q}c.isBN=function(z){return z instanceof c||null!==z&&"object"==typeof z&&z.constructor.wordSize===c.wordSize&&Array.isArray(z.words)},c.max=function(z,U){return z.cmp(U)>0?z:U},c.min=function(z,U){return z.cmp(U)<0?z:U},c.prototype._init=function(z,U,G){if("number"==typeof z)return this._initNumber(z,U,G);if("object"==typeof z)return this._initArray(z,U,G);"hex"===U&&(U=16),a(U===(0|U)&&U>=2&&U<=36);var Q=0;"-"===(z=z.toString().replace(/\s+/g,""))[0]&&(Q++,this.negative=1),Q<z.length&&(16===U?this._parseHex(z,Q,G):(this._parseBase(z,U,Q),"le"===G&&this._initArray(this.toArray(),U,G)))},c.prototype._initNumber=function(z,U,G){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[67108863&z],this.length=1):z<4503599627370496?(this.words=[67108863&z,z/67108864&67108863],this.length=2):(a(z<9007199254740992),this.words=[67108863&z,z/67108864&67108863,1],this.length=3),"le"===G&&this._initArray(this.toArray(),U,G)},c.prototype._initArray=function(z,U,G){if(a("number"==typeof z.length),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var Q=0;Q<this.length;Q++)this.words[Q]=0;var rt,it,ut=0;if("be"===G)for(Q=z.length-1,rt=0;Q>=0;Q-=3)this.words[rt]|=(it=z[Q]|z[Q-1]<<8|z[Q-2]<<16)<<ut&67108863,this.words[rt+1]=it>>>26-ut&67108863,(ut+=24)>=26&&(ut-=26,rt++);else if("le"===G)for(Q=0,rt=0;Q<z.length;Q+=3)this.words[rt]|=(it=z[Q]|z[Q+1]<<8|z[Q+2]<<16)<<ut&67108863,this.words[rt+1]=it>>>26-ut&67108863,(ut+=24)>=26&&(ut-=26,rt++);return this.strip()},c.prototype._parseHex=function(z,U,G){this.length=Math.ceil((z.length-U)/6),this.words=new Array(this.length);for(var Q=0;Q<this.length;Q++)this.words[Q]=0;var ut,rt=0,it=0;if("be"===G)for(Q=z.length-1;Q>=U;Q-=2)ut=v(z,U,Q)<<rt,this.words[it]|=67108863&ut,rt>=18?(rt-=18,this.words[it+=1]|=ut>>>26):rt+=8;else for(Q=(z.length-U)%2==0?U+1:U;Q<z.length;Q+=2)ut=v(z,U,Q)<<rt,this.words[it]|=67108863&ut,rt>=18?(rt-=18,this.words[it+=1]|=ut>>>26):rt+=8;this.strip()},c.prototype._parseBase=function(z,U,G){this.words=[0],this.length=1;for(var Q=0,rt=1;rt<=67108863;rt*=U)Q++;Q--,rt=rt/U|0;for(var it=z.length-G,ut=it%Q,J=Math.min(it,it-ut)+G,j=0,Z=G;Z<J;Z+=Q)j=w(z,Z,Z+Q,U),this.imuln(rt),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(0!==ut){var H=1;for(j=w(z,Z,z.length,U),Z=0;Z<ut;Z++)H*=U;this.imuln(H),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this.strip()},c.prototype.copy=function(z){z.words=new Array(this.length);for(var U=0;U<this.length;U++)z.words[U]=this.words[U];z.length=this.length,z.negative=this.negative,z.red=this.red},c.prototype.clone=function(){var z=new c(null);return this.copy(z),z},c.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},c.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function T(B,z,U){U.negative=z.negative^B.negative;var G=B.length+z.length|0;U.length=G,G=G-1|0;var Q=0|B.words[0],rt=0|z.words[0],it=Q*rt,J=it/67108864|0;U.words[0]=67108863&it;for(var j=1;j<G;j++){for(var Z=J>>>26,H=67108863&J,X=Math.min(j,z.length-1),at=Math.max(0,j-B.length+1);at<=X;at++)Z+=(it=(Q=0|B.words[j-at|0])*(rt=0|z.words[at])+H)/67108864|0,H=67108863&it;U.words[j]=0|H,J=0|Z}return 0!==J?U.words[j]=0|J:U.length--,U.strip()}c.prototype.toString=function(z,U){var G;if(U=0|U||1,16===(z=z||10)||"hex"===z){G="";for(var Q=0,rt=0,it=0;it<this.length;it++){var ut=this.words[it],J=(16777215&(ut<<Q|rt)).toString(16);G=0!=(rt=ut>>>24-Q&16777215)||it!==this.length-1?d[6-J.length]+J+G:J+G,(Q+=2)>=26&&(Q-=26,it--)}for(0!==rt&&(G=rt.toString(16)+G);G.length%U!=0;)G="0"+G;return 0!==this.negative&&(G="-"+G),G}if(z===(0|z)&&z>=2&&z<=36){var j=o[z],Z=h[z];G="";var H=this.clone();for(H.negative=0;!H.isZero();){var X=H.modn(Z).toString(z);G=(H=H.idivn(Z)).isZero()?X+G:d[j-X.length]+X+G}for(this.isZero()&&(G="0"+G);G.length%U!=0;)G="0"+G;return 0!==this.negative&&(G="-"+G),G}a(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var z=this.words[0];return 2===this.length?z+=67108864*this.words[1]:3===this.length&&1===this.words[2]?z+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-z:z},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(z,U){return a(void 0!==u),this.toArrayLike(u,z,U)},c.prototype.toArray=function(z,U){return this.toArrayLike(Array,z,U)},c.prototype.toArrayLike=function(z,U,G){var Q=this.byteLength(),rt=G||Math.max(1,Q);a(Q<=rt,"byte array longer than desired length"),a(rt>0,"Requested array length <= 0"),this.strip();var J,j,it="le"===U,ut=new z(rt),Z=this.clone();if(it){for(j=0;!Z.isZero();j++)J=Z.andln(255),Z.iushrn(8),ut[j]=J;for(;j<rt;j++)ut[j]=0}else{for(j=0;j<rt-Q;j++)ut[j]=0;for(j=0;!Z.isZero();j++)J=Z.andln(255),Z.iushrn(8),ut[rt-j-1]=J}return ut},c.prototype._countBits=Math.clz32?function(z){return 32-Math.clz32(z)}:function(z){var U=z,G=0;return U>=4096&&(G+=13,U>>>=13),U>=64&&(G+=7,U>>>=7),U>=8&&(G+=4,U>>>=4),U>=2&&(G+=2,U>>>=2),G+U},c.prototype._zeroBits=function(z){if(0===z)return 26;var U=z,G=0;return 0==(8191&U)&&(G+=13,U>>>=13),0==(127&U)&&(G+=7,U>>>=7),0==(15&U)&&(G+=4,U>>>=4),0==(3&U)&&(G+=2,U>>>=2),0==(1&U)&&G++,G},c.prototype.bitLength=function(){var U=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+U},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,U=0;U<this.length;U++){var G=this._zeroBits(this.words[U]);if(z+=G,26!==G)break}return z},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(z){return 0!==this.negative?this.abs().inotn(z).iaddn(1):this.clone()},c.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return 0!==this.negative},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var U=0;U<z.length;U++)this.words[U]=this.words[U]|z.words[U];return this.strip()},c.prototype.ior=function(z){return a(0==(this.negative|z.negative)),this.iuor(z)},c.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},c.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},c.prototype.iuand=function(z){var U;U=this.length>z.length?z:this;for(var G=0;G<U.length;G++)this.words[G]=this.words[G]&z.words[G];return this.length=U.length,this.strip()},c.prototype.iand=function(z){return a(0==(this.negative|z.negative)),this.iuand(z)},c.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},c.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},c.prototype.iuxor=function(z){var U,G;this.length>z.length?(U=this,G=z):(U=z,G=this);for(var Q=0;Q<G.length;Q++)this.words[Q]=U.words[Q]^G.words[Q];if(this!==U)for(;Q<U.length;Q++)this.words[Q]=U.words[Q];return this.length=U.length,this.strip()},c.prototype.ixor=function(z){return a(0==(this.negative|z.negative)),this.iuxor(z)},c.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},c.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},c.prototype.inotn=function(z){a("number"==typeof z&&z>=0);var U=0|Math.ceil(z/26),G=z%26;this._expand(U),G>0&&U--;for(var Q=0;Q<U;Q++)this.words[Q]=67108863&~this.words[Q];return G>0&&(this.words[Q]=~this.words[Q]&67108863>>26-G),this.strip()},c.prototype.notn=function(z){return this.clone().inotn(z)},c.prototype.setn=function(z,U){a("number"==typeof z&&z>=0);var G=z/26|0,Q=z%26;return this._expand(G+1),this.words[G]=U?this.words[G]|1<<Q:this.words[G]&~(1<<Q),this.strip()},c.prototype.iadd=function(z){var U,G,Q;if(0!==this.negative&&0===z.negative)return this.negative=0,U=this.isub(z),this.negative^=1,this._normSign();if(0===this.negative&&0!==z.negative)return z.negative=0,U=this.isub(z),z.negative=1,U._normSign();this.length>z.length?(G=this,Q=z):(G=z,Q=this);for(var rt=0,it=0;it<Q.length;it++)this.words[it]=67108863&(U=(0|G.words[it])+(0|Q.words[it])+rt),rt=U>>>26;for(;0!==rt&&it<G.length;it++)this.words[it]=67108863&(U=(0|G.words[it])+rt),rt=U>>>26;if(this.length=G.length,0!==rt)this.words[this.length]=rt,this.length++;else if(G!==this)for(;it<G.length;it++)this.words[it]=G.words[it];return this},c.prototype.add=function(z){var U;return 0!==z.negative&&0===this.negative?(z.negative=0,U=this.sub(z),z.negative^=1,U):0===z.negative&&0!==this.negative?(this.negative=0,U=z.sub(this),this.negative=1,U):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},c.prototype.isub=function(z){if(0!==z.negative){z.negative=0;var U=this.iadd(z);return z.negative=1,U._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var Q,rt,G=this.cmp(z);if(0===G)return this.negative=0,this.length=1,this.words[0]=0,this;G>0?(Q=this,rt=z):(Q=z,rt=this);for(var it=0,ut=0;ut<rt.length;ut++)it=(U=(0|Q.words[ut])-(0|rt.words[ut])+it)>>26,this.words[ut]=67108863&U;for(;0!==it&&ut<Q.length;ut++)it=(U=(0|Q.words[ut])+it)>>26,this.words[ut]=67108863&U;if(0===it&&ut<Q.length&&Q!==this)for(;ut<Q.length;ut++)this.words[ut]=Q.words[ut];return this.length=Math.max(this.length,ut),Q!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(z){return this.clone().isub(z)};var L=function(z,U,G){var J,j,Z,Q=z.words,rt=U.words,it=G.words,ut=0,H=0|Q[0],X=8191&H,at=H>>>13,_=0|Q[1],K=8191&_,nt=_>>>13,et=0|Q[2],st=8191&et,dt=et>>>13,Tt=0|Q[3],bt=8191&Tt,Dt=Tt>>>13,Ft=0|Q[4],Mt=8191&Ft,wt=Ft>>>13,St=0|Q[5],Ut=8191&St,Gt=St>>>13,Pt=0|Q[6],Vt=8191&Pt,te=Pt>>>13,_t=0|Q[7],kt=8191&_t,zt=_t>>>13,qt=0|Q[8],ae=8191&qt,oe=qt>>>13,pe=0|Q[9],ye=8191&pe,Fe=pe>>>13,Zt=0|rt[0],Ct=8191&Zt,Et=Zt>>>13,Rt=0|rt[1],Ot=8191&Rt,It=Rt>>>13,gt=0|rt[2],pt=8191&gt,vt=gt>>>13,yt=0|rt[3],Yt=8191&yt,Qt=yt>>>13,le=0|rt[4],he=8191&le,ke=le>>>13,Oe=0|rt[5],Ae=8191&Oe,je=Oe>>>13,Ze=0|rt[6],Lr=8191&Ze,fe=Ze>>>13,Ve=0|rt[7],He=8191&Ve,wr=Ve>>>13,ar=0|rt[8],ie=8191&ar,ne=ar>>>13,ve=0|rt[9],xe=8191&ve,Te=ve>>>13;G.negative=z.negative^U.negative,G.length=19;var be=(ut+(J=Math.imul(X,Ct))|0)+((8191&(j=(j=Math.imul(X,Et))+Math.imul(at,Ct)|0))<<13)|0;ut=((Z=Math.imul(at,Et))+(j>>>13)|0)+(be>>>26)|0,be&=67108863,J=Math.imul(K,Ct),j=(j=Math.imul(K,Et))+Math.imul(nt,Ct)|0,Z=Math.imul(nt,Et);var Pe=(ut+(J=J+Math.imul(X,Ot)|0)|0)+((8191&(j=(j=j+Math.imul(X,It)|0)+Math.imul(at,Ot)|0))<<13)|0;ut=((Z=Z+Math.imul(at,It)|0)+(j>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,J=Math.imul(st,Ct),j=(j=Math.imul(st,Et))+Math.imul(dt,Ct)|0,Z=Math.imul(dt,Et),J=J+Math.imul(K,Ot)|0,j=(j=j+Math.imul(K,It)|0)+Math.imul(nt,Ot)|0,Z=Z+Math.imul(nt,It)|0;var Be=(ut+(J=J+Math.imul(X,pt)|0)|0)+((8191&(j=(j=j+Math.imul(X,vt)|0)+Math.imul(at,pt)|0))<<13)|0;ut=((Z=Z+Math.imul(at,vt)|0)+(j>>>13)|0)+(Be>>>26)|0,Be&=67108863,J=Math.imul(bt,Ct),j=(j=Math.imul(bt,Et))+Math.imul(Dt,Ct)|0,Z=Math.imul(Dt,Et),J=J+Math.imul(st,Ot)|0,j=(j=j+Math.imul(st,It)|0)+Math.imul(dt,Ot)|0,Z=Z+Math.imul(dt,It)|0,J=J+Math.imul(K,pt)|0,j=(j=j+Math.imul(K,vt)|0)+Math.imul(nt,pt)|0,Z=Z+Math.imul(nt,vt)|0;var Qe=(ut+(J=J+Math.imul(X,Yt)|0)|0)+((8191&(j=(j=j+Math.imul(X,Qt)|0)+Math.imul(at,Yt)|0))<<13)|0;ut=((Z=Z+Math.imul(at,Qt)|0)+(j>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,J=Math.imul(Mt,Ct),j=(j=Math.imul(Mt,Et))+Math.imul(wt,Ct)|0,Z=Math.imul(wt,Et),J=J+Math.imul(bt,Ot)|0,j=(j=j+Math.imul(bt,It)|0)+Math.imul(Dt,Ot)|0,Z=Z+Math.imul(Dt,It)|0,J=J+Math.imul(st,pt)|0,j=(j=j+Math.imul(st,vt)|0)+Math.imul(dt,pt)|0,Z=Z+Math.imul(dt,vt)|0,J=J+Math.imul(K,Yt)|0,j=(j=j+Math.imul(K,Qt)|0)+Math.imul(nt,Yt)|0,Z=Z+Math.imul(nt,Qt)|0;var Ke=(ut+(J=J+Math.imul(X,he)|0)|0)+((8191&(j=(j=j+Math.imul(X,ke)|0)+Math.imul(at,he)|0))<<13)|0;ut=((Z=Z+Math.imul(at,ke)|0)+(j>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,J=Math.imul(Ut,Ct),j=(j=Math.imul(Ut,Et))+Math.imul(Gt,Ct)|0,Z=Math.imul(Gt,Et),J=J+Math.imul(Mt,Ot)|0,j=(j=j+Math.imul(Mt,It)|0)+Math.imul(wt,Ot)|0,Z=Z+Math.imul(wt,It)|0,J=J+Math.imul(bt,pt)|0,j=(j=j+Math.imul(bt,vt)|0)+Math.imul(Dt,pt)|0,Z=Z+Math.imul(Dt,vt)|0,J=J+Math.imul(st,Yt)|0,j=(j=j+Math.imul(st,Qt)|0)+Math.imul(dt,Yt)|0,Z=Z+Math.imul(dt,Qt)|0,J=J+Math.imul(K,he)|0,j=(j=j+Math.imul(K,ke)|0)+Math.imul(nt,he)|0,Z=Z+Math.imul(nt,ke)|0;var tr=(ut+(J=J+Math.imul(X,Ae)|0)|0)+((8191&(j=(j=j+Math.imul(X,je)|0)+Math.imul(at,Ae)|0))<<13)|0;ut=((Z=Z+Math.imul(at,je)|0)+(j>>>13)|0)+(tr>>>26)|0,tr&=67108863,J=Math.imul(Vt,Ct),j=(j=Math.imul(Vt,Et))+Math.imul(te,Ct)|0,Z=Math.imul(te,Et),J=J+Math.imul(Ut,Ot)|0,j=(j=j+Math.imul(Ut,It)|0)+Math.imul(Gt,Ot)|0,Z=Z+Math.imul(Gt,It)|0,J=J+Math.imul(Mt,pt)|0,j=(j=j+Math.imul(Mt,vt)|0)+Math.imul(wt,pt)|0,Z=Z+Math.imul(wt,vt)|0,J=J+Math.imul(bt,Yt)|0,j=(j=j+Math.imul(bt,Qt)|0)+Math.imul(Dt,Yt)|0,Z=Z+Math.imul(Dt,Qt)|0,J=J+Math.imul(st,he)|0,j=(j=j+Math.imul(st,ke)|0)+Math.imul(dt,he)|0,Z=Z+Math.imul(dt,ke)|0,J=J+Math.imul(K,Ae)|0,j=(j=j+Math.imul(K,je)|0)+Math.imul(nt,Ae)|0,Z=Z+Math.imul(nt,je)|0;var vr=(ut+(J=J+Math.imul(X,Lr)|0)|0)+((8191&(j=(j=j+Math.imul(X,fe)|0)+Math.imul(at,Lr)|0))<<13)|0;ut=((Z=Z+Math.imul(at,fe)|0)+(j>>>13)|0)+(vr>>>26)|0,vr&=67108863,J=Math.imul(kt,Ct),j=(j=Math.imul(kt,Et))+Math.imul(zt,Ct)|0,Z=Math.imul(zt,Et),J=J+Math.imul(Vt,Ot)|0,j=(j=j+Math.imul(Vt,It)|0)+Math.imul(te,Ot)|0,Z=Z+Math.imul(te,It)|0,J=J+Math.imul(Ut,pt)|0,j=(j=j+Math.imul(Ut,vt)|0)+Math.imul(Gt,pt)|0,Z=Z+Math.imul(Gt,vt)|0,J=J+Math.imul(Mt,Yt)|0,j=(j=j+Math.imul(Mt,Qt)|0)+Math.imul(wt,Yt)|0,Z=Z+Math.imul(wt,Qt)|0,J=J+Math.imul(bt,he)|0,j=(j=j+Math.imul(bt,ke)|0)+Math.imul(Dt,he)|0,Z=Z+Math.imul(Dt,ke)|0,J=J+Math.imul(st,Ae)|0,j=(j=j+Math.imul(st,je)|0)+Math.imul(dt,Ae)|0,Z=Z+Math.imul(dt,je)|0,J=J+Math.imul(K,Lr)|0,j=(j=j+Math.imul(K,fe)|0)+Math.imul(nt,Lr)|0,Z=Z+Math.imul(nt,fe)|0;var Ht=(ut+(J=J+Math.imul(X,He)|0)|0)+((8191&(j=(j=j+Math.imul(X,wr)|0)+Math.imul(at,He)|0))<<13)|0;ut=((Z=Z+Math.imul(at,wr)|0)+(j>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,J=Math.imul(ae,Ct),j=(j=Math.imul(ae,Et))+Math.imul(oe,Ct)|0,Z=Math.imul(oe,Et),J=J+Math.imul(kt,Ot)|0,j=(j=j+Math.imul(kt,It)|0)+Math.imul(zt,Ot)|0,Z=Z+Math.imul(zt,It)|0,J=J+Math.imul(Vt,pt)|0,j=(j=j+Math.imul(Vt,vt)|0)+Math.imul(te,pt)|0,Z=Z+Math.imul(te,vt)|0,J=J+Math.imul(Ut,Yt)|0,j=(j=j+Math.imul(Ut,Qt)|0)+Math.imul(Gt,Yt)|0,Z=Z+Math.imul(Gt,Qt)|0,J=J+Math.imul(Mt,he)|0,j=(j=j+Math.imul(Mt,ke)|0)+Math.imul(wt,he)|0,Z=Z+Math.imul(wt,ke)|0,J=J+Math.imul(bt,Ae)|0,j=(j=j+Math.imul(bt,je)|0)+Math.imul(Dt,Ae)|0,Z=Z+Math.imul(Dt,je)|0,J=J+Math.imul(st,Lr)|0,j=(j=j+Math.imul(st,fe)|0)+Math.imul(dt,Lr)|0,Z=Z+Math.imul(dt,fe)|0,J=J+Math.imul(K,He)|0,j=(j=j+Math.imul(K,wr)|0)+Math.imul(nt,He)|0,Z=Z+Math.imul(nt,wr)|0;var Nt=(ut+(J=J+Math.imul(X,ie)|0)|0)+((8191&(j=(j=j+Math.imul(X,ne)|0)+Math.imul(at,ie)|0))<<13)|0;ut=((Z=Z+Math.imul(at,ne)|0)+(j>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,J=Math.imul(ye,Ct),j=(j=Math.imul(ye,Et))+Math.imul(Fe,Ct)|0,Z=Math.imul(Fe,Et),J=J+Math.imul(ae,Ot)|0,j=(j=j+Math.imul(ae,It)|0)+Math.imul(oe,Ot)|0,Z=Z+Math.imul(oe,It)|0,J=J+Math.imul(kt,pt)|0,j=(j=j+Math.imul(kt,vt)|0)+Math.imul(zt,pt)|0,Z=Z+Math.imul(zt,vt)|0,J=J+Math.imul(Vt,Yt)|0,j=(j=j+Math.imul(Vt,Qt)|0)+Math.imul(te,Yt)|0,Z=Z+Math.imul(te,Qt)|0,J=J+Math.imul(Ut,he)|0,j=(j=j+Math.imul(Ut,ke)|0)+Math.imul(Gt,he)|0,Z=Z+Math.imul(Gt,ke)|0,J=J+Math.imul(Mt,Ae)|0,j=(j=j+Math.imul(Mt,je)|0)+Math.imul(wt,Ae)|0,Z=Z+Math.imul(wt,je)|0,J=J+Math.imul(bt,Lr)|0,j=(j=j+Math.imul(bt,fe)|0)+Math.imul(Dt,Lr)|0,Z=Z+Math.imul(Dt,fe)|0,J=J+Math.imul(st,He)|0,j=(j=j+Math.imul(st,wr)|0)+Math.imul(dt,He)|0,Z=Z+Math.imul(dt,wr)|0,J=J+Math.imul(K,ie)|0,j=(j=j+Math.imul(K,ne)|0)+Math.imul(nt,ie)|0,Z=Z+Math.imul(nt,ne)|0;var Se=(ut+(J=J+Math.imul(X,xe)|0)|0)+((8191&(j=(j=j+Math.imul(X,Te)|0)+Math.imul(at,xe)|0))<<13)|0;ut=((Z=Z+Math.imul(at,Te)|0)+(j>>>13)|0)+(Se>>>26)|0,Se&=67108863,J=Math.imul(ye,Ot),j=(j=Math.imul(ye,It))+Math.imul(Fe,Ot)|0,Z=Math.imul(Fe,It),J=J+Math.imul(ae,pt)|0,j=(j=j+Math.imul(ae,vt)|0)+Math.imul(oe,pt)|0,Z=Z+Math.imul(oe,vt)|0,J=J+Math.imul(kt,Yt)|0,j=(j=j+Math.imul(kt,Qt)|0)+Math.imul(zt,Yt)|0,Z=Z+Math.imul(zt,Qt)|0,J=J+Math.imul(Vt,he)|0,j=(j=j+Math.imul(Vt,ke)|0)+Math.imul(te,he)|0,Z=Z+Math.imul(te,ke)|0,J=J+Math.imul(Ut,Ae)|0,j=(j=j+Math.imul(Ut,je)|0)+Math.imul(Gt,Ae)|0,Z=Z+Math.imul(Gt,je)|0,J=J+Math.imul(Mt,Lr)|0,j=(j=j+Math.imul(Mt,fe)|0)+Math.imul(wt,Lr)|0,Z=Z+Math.imul(wt,fe)|0,J=J+Math.imul(bt,He)|0,j=(j=j+Math.imul(bt,wr)|0)+Math.imul(Dt,He)|0,Z=Z+Math.imul(Dt,wr)|0,J=J+Math.imul(st,ie)|0,j=(j=j+Math.imul(st,ne)|0)+Math.imul(dt,ie)|0,Z=Z+Math.imul(dt,ne)|0;var Le=(ut+(J=J+Math.imul(K,xe)|0)|0)+((8191&(j=(j=j+Math.imul(K,Te)|0)+Math.imul(nt,xe)|0))<<13)|0;ut=((Z=Z+Math.imul(nt,Te)|0)+(j>>>13)|0)+(Le>>>26)|0,Le&=67108863,J=Math.imul(ye,pt),j=(j=Math.imul(ye,vt))+Math.imul(Fe,pt)|0,Z=Math.imul(Fe,vt),J=J+Math.imul(ae,Yt)|0,j=(j=j+Math.imul(ae,Qt)|0)+Math.imul(oe,Yt)|0,Z=Z+Math.imul(oe,Qt)|0,J=J+Math.imul(kt,he)|0,j=(j=j+Math.imul(kt,ke)|0)+Math.imul(zt,he)|0,Z=Z+Math.imul(zt,ke)|0,J=J+Math.imul(Vt,Ae)|0,j=(j=j+Math.imul(Vt,je)|0)+Math.imul(te,Ae)|0,Z=Z+Math.imul(te,je)|0,J=J+Math.imul(Ut,Lr)|0,j=(j=j+Math.imul(Ut,fe)|0)+Math.imul(Gt,Lr)|0,Z=Z+Math.imul(Gt,fe)|0,J=J+Math.imul(Mt,He)|0,j=(j=j+Math.imul(Mt,wr)|0)+Math.imul(wt,He)|0,Z=Z+Math.imul(wt,wr)|0,J=J+Math.imul(bt,ie)|0,j=(j=j+Math.imul(bt,ne)|0)+Math.imul(Dt,ie)|0,Z=Z+Math.imul(Dt,ne)|0;var We=(ut+(J=J+Math.imul(st,xe)|0)|0)+((8191&(j=(j=j+Math.imul(st,Te)|0)+Math.imul(dt,xe)|0))<<13)|0;ut=((Z=Z+Math.imul(dt,Te)|0)+(j>>>13)|0)+(We>>>26)|0,We&=67108863,J=Math.imul(ye,Yt),j=(j=Math.imul(ye,Qt))+Math.imul(Fe,Yt)|0,Z=Math.imul(Fe,Qt),J=J+Math.imul(ae,he)|0,j=(j=j+Math.imul(ae,ke)|0)+Math.imul(oe,he)|0,Z=Z+Math.imul(oe,ke)|0,J=J+Math.imul(kt,Ae)|0,j=(j=j+Math.imul(kt,je)|0)+Math.imul(zt,Ae)|0,Z=Z+Math.imul(zt,je)|0,J=J+Math.imul(Vt,Lr)|0,j=(j=j+Math.imul(Vt,fe)|0)+Math.imul(te,Lr)|0,Z=Z+Math.imul(te,fe)|0,J=J+Math.imul(Ut,He)|0,j=(j=j+Math.imul(Ut,wr)|0)+Math.imul(Gt,He)|0,Z=Z+Math.imul(Gt,wr)|0,J=J+Math.imul(Mt,ie)|0,j=(j=j+Math.imul(Mt,ne)|0)+Math.imul(wt,ie)|0,Z=Z+Math.imul(wt,ne)|0;var rr=(ut+(J=J+Math.imul(bt,xe)|0)|0)+((8191&(j=(j=j+Math.imul(bt,Te)|0)+Math.imul(Dt,xe)|0))<<13)|0;ut=((Z=Z+Math.imul(Dt,Te)|0)+(j>>>13)|0)+(rr>>>26)|0,rr&=67108863,J=Math.imul(ye,he),j=(j=Math.imul(ye,ke))+Math.imul(Fe,he)|0,Z=Math.imul(Fe,ke),J=J+Math.imul(ae,Ae)|0,j=(j=j+Math.imul(ae,je)|0)+Math.imul(oe,Ae)|0,Z=Z+Math.imul(oe,je)|0,J=J+Math.imul(kt,Lr)|0,j=(j=j+Math.imul(kt,fe)|0)+Math.imul(zt,Lr)|0,Z=Z+Math.imul(zt,fe)|0,J=J+Math.imul(Vt,He)|0,j=(j=j+Math.imul(Vt,wr)|0)+Math.imul(te,He)|0,Z=Z+Math.imul(te,wr)|0,J=J+Math.imul(Ut,ie)|0,j=(j=j+Math.imul(Ut,ne)|0)+Math.imul(Gt,ie)|0,Z=Z+Math.imul(Gt,ne)|0;var or=(ut+(J=J+Math.imul(Mt,xe)|0)|0)+((8191&(j=(j=j+Math.imul(Mt,Te)|0)+Math.imul(wt,xe)|0))<<13)|0;ut=((Z=Z+Math.imul(wt,Te)|0)+(j>>>13)|0)+(or>>>26)|0,or&=67108863,J=Math.imul(ye,Ae),j=(j=Math.imul(ye,je))+Math.imul(Fe,Ae)|0,Z=Math.imul(Fe,je),J=J+Math.imul(ae,Lr)|0,j=(j=j+Math.imul(ae,fe)|0)+Math.imul(oe,Lr)|0,Z=Z+Math.imul(oe,fe)|0,J=J+Math.imul(kt,He)|0,j=(j=j+Math.imul(kt,wr)|0)+Math.imul(zt,He)|0,Z=Z+Math.imul(zt,wr)|0,J=J+Math.imul(Vt,ie)|0,j=(j=j+Math.imul(Vt,ne)|0)+Math.imul(te,ie)|0,Z=Z+Math.imul(te,ne)|0;var qe=(ut+(J=J+Math.imul(Ut,xe)|0)|0)+((8191&(j=(j=j+Math.imul(Ut,Te)|0)+Math.imul(Gt,xe)|0))<<13)|0;ut=((Z=Z+Math.imul(Gt,Te)|0)+(j>>>13)|0)+(qe>>>26)|0,qe&=67108863,J=Math.imul(ye,Lr),j=(j=Math.imul(ye,fe))+Math.imul(Fe,Lr)|0,Z=Math.imul(Fe,fe),J=J+Math.imul(ae,He)|0,j=(j=j+Math.imul(ae,wr)|0)+Math.imul(oe,He)|0,Z=Z+Math.imul(oe,wr)|0,J=J+Math.imul(kt,ie)|0,j=(j=j+Math.imul(kt,ne)|0)+Math.imul(zt,ie)|0,Z=Z+Math.imul(zt,ne)|0;var De=(ut+(J=J+Math.imul(Vt,xe)|0)|0)+((8191&(j=(j=j+Math.imul(Vt,Te)|0)+Math.imul(te,xe)|0))<<13)|0;ut=((Z=Z+Math.imul(te,Te)|0)+(j>>>13)|0)+(De>>>26)|0,De&=67108863,J=Math.imul(ye,He),j=(j=Math.imul(ye,wr))+Math.imul(Fe,He)|0,Z=Math.imul(Fe,wr),J=J+Math.imul(ae,ie)|0,j=(j=j+Math.imul(ae,ne)|0)+Math.imul(oe,ie)|0,Z=Z+Math.imul(oe,ne)|0;var sr=(ut+(J=J+Math.imul(kt,xe)|0)|0)+((8191&(j=(j=j+Math.imul(kt,Te)|0)+Math.imul(zt,xe)|0))<<13)|0;ut=((Z=Z+Math.imul(zt,Te)|0)+(j>>>13)|0)+(sr>>>26)|0,sr&=67108863,J=Math.imul(ye,ie),j=(j=Math.imul(ye,ne))+Math.imul(Fe,ie)|0,Z=Math.imul(Fe,ne);var gr=(ut+(J=J+Math.imul(ae,xe)|0)|0)+((8191&(j=(j=j+Math.imul(ae,Te)|0)+Math.imul(oe,xe)|0))<<13)|0;ut=((Z=Z+Math.imul(oe,Te)|0)+(j>>>13)|0)+(gr>>>26)|0,gr&=67108863;var dr=(ut+(J=Math.imul(ye,xe))|0)+((8191&(j=(j=Math.imul(ye,Te))+Math.imul(Fe,xe)|0))<<13)|0;return ut=((Z=Math.imul(Fe,Te))+(j>>>13)|0)+(dr>>>26)|0,dr&=67108863,it[0]=be,it[1]=Pe,it[2]=Be,it[3]=Qe,it[4]=Ke,it[5]=tr,it[6]=vr,it[7]=Ht,it[8]=Nt,it[9]=Se,it[10]=Le,it[11]=We,it[12]=rr,it[13]=or,it[14]=qe,it[15]=De,it[16]=sr,it[17]=gr,it[18]=dr,0!==ut&&(it[19]=ut,G.length++),G};function S(B,z,U){return(new b).mulp(B,z,U)}function b(B,z){this.x=B,this.y=z}Math.imul||(L=T),c.prototype.mulTo=function(z,U){var Q=this.length+z.length;return 10===this.length&&10===z.length?L(this,z,U):Q<63?T(this,z,U):Q<1024?function m(B,z,U){U.negative=z.negative^B.negative,U.length=B.length+z.length;for(var G=0,Q=0,rt=0;rt<U.length-1;rt++){var it=Q;Q=0;for(var ut=67108863&G,J=Math.min(rt,z.length-1),j=Math.max(0,rt-B.length+1);j<=J;j++){var at=(0|B.words[rt-j])*(0|z.words[j]),_=67108863&at;ut=67108863&(_=_+ut|0),Q+=(it=(it=it+(at/67108864|0)|0)+(_>>>26)|0)>>>26,it&=67108863}U.words[rt]=ut,G=it,it=Q}return 0!==G?U.words[rt]=G:U.length--,U.strip()}(this,z,U):S(this,z,U)},b.prototype.makeRBT=function(z){for(var U=new Array(z),G=c.prototype._countBits(z)-1,Q=0;Q<z;Q++)U[Q]=this.revBin(Q,G,z);return U},b.prototype.revBin=function(z,U,G){if(0===z||z===G-1)return z;for(var Q=0,rt=0;rt<U;rt++)Q|=(1&z)<<U-rt-1,z>>=1;return Q},b.prototype.permute=function(z,U,G,Q,rt,it){for(var ut=0;ut<it;ut++)Q[ut]=U[z[ut]],rt[ut]=G[z[ut]]},b.prototype.transform=function(z,U,G,Q,rt,it){this.permute(it,z,U,G,Q,rt);for(var ut=1;ut<rt;ut<<=1)for(var J=ut<<1,j=Math.cos(2*Math.PI/J),Z=Math.sin(2*Math.PI/J),H=0;H<rt;H+=J)for(var X=j,at=Z,_=0;_<ut;_++){var K=G[H+_],nt=Q[H+_],et=G[H+_+ut],st=Q[H+_+ut],dt=X*et-at*st;st=X*st+at*et,G[H+_]=K+(et=dt),Q[H+_]=nt+st,G[H+_+ut]=K-et,Q[H+_+ut]=nt-st,_!==J&&(dt=j*X-Z*at,at=j*at+Z*X,X=dt)}},b.prototype.guessLen13b=function(z,U){var G=1|Math.max(U,z),Q=1&G,rt=0;for(G=G/2|0;G;G>>>=1)rt++;return 1<<rt+1+Q},b.prototype.conjugate=function(z,U,G){if(!(G<=1))for(var Q=0;Q<G/2;Q++){var rt=z[Q];z[Q]=z[G-Q-1],z[G-Q-1]=rt,rt=U[Q],U[Q]=-U[G-Q-1],U[G-Q-1]=-rt}},b.prototype.normalize13b=function(z,U){for(var G=0,Q=0;Q<U/2;Q++){var rt=8192*Math.round(z[2*Q+1]/U)+Math.round(z[2*Q]/U)+G;z[Q]=67108863&rt,G=rt<67108864?0:rt/67108864|0}return z},b.prototype.convert13b=function(z,U,G,Q){for(var rt=0,it=0;it<U;it++)G[2*it]=8191&(rt+=0|z[it]),G[2*it+1]=8191&(rt>>>=13),rt>>>=13;for(it=2*U;it<Q;++it)G[it]=0;a(0===rt),a(0==(-8192&rt))},b.prototype.stub=function(z){for(var U=new Array(z),G=0;G<z;G++)U[G]=0;return U},b.prototype.mulp=function(z,U,G){var Q=2*this.guessLen13b(z.length,U.length),rt=this.makeRBT(Q),it=this.stub(Q),ut=new Array(Q),J=new Array(Q),j=new Array(Q),Z=new Array(Q),H=new Array(Q),X=new Array(Q),at=G.words;at.length=Q,this.convert13b(z.words,z.length,ut,Q),this.convert13b(U.words,U.length,Z,Q),this.transform(ut,it,J,j,Q,rt),this.transform(Z,it,H,X,Q,rt);for(var _=0;_<Q;_++){var K=J[_]*H[_]-j[_]*X[_];j[_]=J[_]*X[_]+j[_]*H[_],J[_]=K}return this.conjugate(J,j,Q),this.transform(J,j,at,it,Q,rt),this.conjugate(at,it,Q),this.normalize13b(at,Q),G.negative=z.negative^U.negative,G.length=z.length+U.length,G.strip()},c.prototype.mul=function(z){var U=new c(null);return U.words=new Array(this.length+z.length),this.mulTo(z,U)},c.prototype.mulf=function(z){var U=new c(null);return U.words=new Array(this.length+z.length),S(this,z,U)},c.prototype.imul=function(z){return this.clone().mulTo(z,this)},c.prototype.imuln=function(z){a("number"==typeof z),a(z<67108864);for(var U=0,G=0;G<this.length;G++){var Q=(0|this.words[G])*z,rt=(67108863&Q)+(67108863&U);U>>=26,U+=Q/67108864|0,U+=rt>>>26,this.words[G]=67108863&rt}return 0!==U&&(this.words[G]=U,this.length++),this},c.prototype.muln=function(z){return this.clone().imuln(z)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(z){var U=function M(B){for(var z=new Array(B.bitLength()),U=0;U<z.length;U++){var Q=U%26;z[U]=(B.words[U/26|0]&1<<Q)>>>Q}return z}(z);if(0===U.length)return new c(1);for(var G=this,Q=0;Q<U.length&&0===U[Q];Q++,G=G.sqr());if(++Q<U.length)for(var rt=G.sqr();Q<U.length;Q++,rt=rt.sqr())0!==U[Q]&&(G=G.mul(rt));return G},c.prototype.iushln=function(z){a("number"==typeof z&&z>=0);var rt,U=z%26,G=(z-U)/26,Q=67108863>>>26-U<<26-U;if(0!==U){var it=0;for(rt=0;rt<this.length;rt++){var ut=this.words[rt]&Q;this.words[rt]=(0|this.words[rt])-ut<<U|it,it=ut>>>26-U}it&&(this.words[rt]=it,this.length++)}if(0!==G){for(rt=this.length-1;rt>=0;rt--)this.words[rt+G]=this.words[rt];for(rt=0;rt<G;rt++)this.words[rt]=0;this.length+=G}return this.strip()},c.prototype.ishln=function(z){return a(0===this.negative),this.iushln(z)},c.prototype.iushrn=function(z,U,G){var Q;a("number"==typeof z&&z>=0),Q=U?(U-U%26)/26:0;var rt=z%26,it=Math.min((z-rt)/26,this.length),ut=67108863^67108863>>>rt<<rt,J=G;if(Q-=it,Q=Math.max(0,Q),J){for(var j=0;j<it;j++)J.words[j]=this.words[j];J.length=it}if(0!==it)if(this.length>it)for(this.length-=it,j=0;j<this.length;j++)this.words[j]=this.words[j+it];else this.words[0]=0,this.length=1;var Z=0;for(j=this.length-1;j>=0&&(0!==Z||j>=Q);j--){var H=0|this.words[j];this.words[j]=Z<<26-rt|H>>>rt,Z=H&ut}return J&&0!==Z&&(J.words[J.length++]=Z),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(z,U,G){return a(0===this.negative),this.iushrn(z,U,G)},c.prototype.shln=function(z){return this.clone().ishln(z)},c.prototype.ushln=function(z){return this.clone().iushln(z)},c.prototype.shrn=function(z){return this.clone().ishrn(z)},c.prototype.ushrn=function(z){return this.clone().iushrn(z)},c.prototype.testn=function(z){a("number"==typeof z&&z>=0);var U=z%26,G=(z-U)/26;return!(this.length<=G||!(this.words[G]&1<<U))},c.prototype.imaskn=function(z){a("number"==typeof z&&z>=0);var U=z%26,G=(z-U)/26;return a(0===this.negative,"imaskn works only with positive numbers"),this.length<=G?this:(0!==U&&G++,this.length=Math.min(G,this.length),0!==U&&(this.words[this.length-1]&=67108863^67108863>>>U<<U),this.strip())},c.prototype.maskn=function(z){return this.clone().imaskn(z)},c.prototype.iaddn=function(z){return a("number"==typeof z),a(z<67108864),z<0?this.isubn(-z):0!==this.negative?1===this.length&&(0|this.words[0])<z?(this.words[0]=z-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},c.prototype._iaddn=function(z){this.words[0]+=z;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)this.words[U]-=67108864,U===this.length-1?this.words[U+1]=1:this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},c.prototype.isubn=function(z){if(a("number"==typeof z),a(z<67108864),z<0)return this.iaddn(-z);if(0!==this.negative)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},c.prototype.addn=function(z){return this.clone().iaddn(z)},c.prototype.subn=function(z){return this.clone().isubn(z)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(z,U,G){var rt;this._expand(z.length+G);var it,ut=0;for(rt=0;rt<z.length;rt++){it=(0|this.words[rt+G])+ut;var J=(0|z.words[rt])*U;ut=((it-=67108863&J)>>26)-(J/67108864|0),this.words[rt+G]=67108863&it}for(;rt<this.length-G;rt++)ut=(it=(0|this.words[rt+G])+ut)>>26,this.words[rt+G]=67108863&it;if(0===ut)return this.strip();for(a(-1===ut),ut=0,rt=0;rt<this.length;rt++)ut=(it=-(0|this.words[rt])+ut)>>26,this.words[rt]=67108863&it;return this.negative=1,this.strip()},c.prototype._wordDiv=function(z,U){var G,Q=this.clone(),rt=z,it=0|rt.words[rt.length-1];0!=(G=26-this._countBits(it))&&(rt=rt.ushln(G),Q.iushln(G),it=0|rt.words[rt.length-1]);var j,J=Q.length-rt.length;if("mod"!==U){(j=new c(null)).length=J+1,j.words=new Array(j.length);for(var Z=0;Z<j.length;Z++)j.words[Z]=0}var H=Q.clone()._ishlnsubmul(rt,1,J);0===H.negative&&(Q=H,j&&(j.words[J]=1));for(var X=J-1;X>=0;X--){var at=67108864*(0|Q.words[rt.length+X])+(0|Q.words[rt.length+X-1]);for(at=Math.min(at/it|0,67108863),Q._ishlnsubmul(rt,at,X);0!==Q.negative;)at--,Q.negative=0,Q._ishlnsubmul(rt,1,X),Q.isZero()||(Q.negative^=1);j&&(j.words[X]=at)}return j&&j.strip(),Q.strip(),"div"!==U&&0!==G&&Q.iushrn(G),{div:j||null,mod:Q}},c.prototype.divmod=function(z,U,G){return a(!z.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:0!==this.negative&&0===z.negative?(it=this.neg().divmod(z,U),"mod"!==U&&(Q=it.div.neg()),"div"!==U&&(rt=it.mod.neg(),G&&0!==rt.negative&&rt.iadd(z)),{div:Q,mod:rt}):0===this.negative&&0!==z.negative?(it=this.divmod(z.neg(),U),"mod"!==U&&(Q=it.div.neg()),{div:Q,mod:it.mod}):0!=(this.negative&z.negative)?(it=this.neg().divmod(z.neg(),U),"div"!==U&&(rt=it.mod.neg(),G&&0!==rt.negative&&rt.isub(z)),{div:it.div,mod:rt}):z.length>this.length||this.cmp(z)<0?{div:new c(0),mod:this}:1===z.length?"div"===U?{div:this.divn(z.words[0]),mod:null}:"mod"===U?{div:null,mod:new c(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new c(this.modn(z.words[0]))}:this._wordDiv(z,U);var Q,rt,it},c.prototype.div=function(z){return this.divmod(z,"div",!1).div},c.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},c.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},c.prototype.divRound=function(z){var U=this.divmod(z);if(U.mod.isZero())return U.div;var G=0!==U.div.negative?U.mod.isub(z):U.mod,Q=z.ushrn(1),rt=z.andln(1),it=G.cmp(Q);return it<0||1===rt&&0===it?U.div:0!==U.div.negative?U.div.isubn(1):U.div.iaddn(1)},c.prototype.modn=function(z){a(z<=67108863);for(var U=(1<<26)%z,G=0,Q=this.length-1;Q>=0;Q--)G=(U*G+(0|this.words[Q]))%z;return G},c.prototype.idivn=function(z){a(z<=67108863);for(var U=0,G=this.length-1;G>=0;G--){var Q=(0|this.words[G])+67108864*U;this.words[G]=Q/z|0,U=Q%z}return this.strip()},c.prototype.divn=function(z){return this.clone().idivn(z)},c.prototype.egcd=function(z){a(0===z.negative),a(!z.isZero());var U=this,G=z.clone();U=0!==U.negative?U.umod(z):U.clone();for(var Q=new c(1),rt=new c(0),it=new c(0),ut=new c(1),J=0;U.isEven()&&G.isEven();)U.iushrn(1),G.iushrn(1),++J;for(var j=G.clone(),Z=U.clone();!U.isZero();){for(var H=0,X=1;0==(U.words[0]&X)&&H<26;++H,X<<=1);if(H>0)for(U.iushrn(H);H-- >0;)(Q.isOdd()||rt.isOdd())&&(Q.iadd(j),rt.isub(Z)),Q.iushrn(1),rt.iushrn(1);for(var at=0,_=1;0==(G.words[0]&_)&&at<26;++at,_<<=1);if(at>0)for(G.iushrn(at);at-- >0;)(it.isOdd()||ut.isOdd())&&(it.iadd(j),ut.isub(Z)),it.iushrn(1),ut.iushrn(1);U.cmp(G)>=0?(U.isub(G),Q.isub(it),rt.isub(ut)):(G.isub(U),it.isub(Q),ut.isub(rt))}return{a:it,b:ut,gcd:G.iushln(J)}},c.prototype._invmp=function(z){a(0===z.negative),a(!z.isZero());var H,U=this,G=z.clone();U=0!==U.negative?U.umod(z):U.clone();for(var Q=new c(1),rt=new c(0),it=G.clone();U.cmpn(1)>0&&G.cmpn(1)>0;){for(var ut=0,J=1;0==(U.words[0]&J)&&ut<26;++ut,J<<=1);if(ut>0)for(U.iushrn(ut);ut-- >0;)Q.isOdd()&&Q.iadd(it),Q.iushrn(1);for(var j=0,Z=1;0==(G.words[0]&Z)&&j<26;++j,Z<<=1);if(j>0)for(G.iushrn(j);j-- >0;)rt.isOdd()&&rt.iadd(it),rt.iushrn(1);U.cmp(G)>=0?(U.isub(G),Q.isub(rt)):(G.isub(U),rt.isub(Q))}return(H=0===U.cmpn(1)?Q:rt).cmpn(0)<0&&H.iadd(z),H},c.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var U=this.clone(),G=z.clone();U.negative=0,G.negative=0;for(var Q=0;U.isEven()&&G.isEven();Q++)U.iushrn(1),G.iushrn(1);for(;;){for(;U.isEven();)U.iushrn(1);for(;G.isEven();)G.iushrn(1);var rt=U.cmp(G);if(rt<0){var it=U;U=G,G=it}else if(0===rt||0===G.cmpn(1))break;U.isub(G)}return G.iushln(Q)},c.prototype.invm=function(z){return this.egcd(z).a.umod(z)},c.prototype.isEven=function(){return 0==(1&this.words[0])},c.prototype.isOdd=function(){return 1==(1&this.words[0])},c.prototype.andln=function(z){return this.words[0]&z},c.prototype.bincn=function(z){a("number"==typeof z);var U=z%26,G=(z-U)/26,Q=1<<U;if(this.length<=G)return this._expand(G+1),this.words[G]|=Q,this;for(var rt=Q,it=G;0!==rt&&it<this.length;it++){var ut=0|this.words[it];rt=(ut+=rt)>>>26,this.words[it]=ut&=67108863}return 0!==rt&&(this.words[it]=rt,this.length++),this},c.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},c.prototype.cmpn=function(z){var G,U=z<0;if(0!==this.negative&&!U)return-1;if(0===this.negative&&U)return 1;if(this.strip(),this.length>1)G=1;else{U&&(z=-z),a(z<=67108863,"Number is too big");var Q=0|this.words[0];G=Q===z?0:Q<z?-1:1}return 0!==this.negative?0|-G:G},c.prototype.cmp=function(z){if(0!==this.negative&&0===z.negative)return-1;if(0===this.negative&&0!==z.negative)return 1;var U=this.ucmp(z);return 0!==this.negative?0|-U:U},c.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var U=0,G=this.length-1;G>=0;G--){var Q=0|this.words[G],rt=0|z.words[G];if(Q!==rt){Q<rt?U=-1:Q>rt&&(U=1);break}}return U},c.prototype.gtn=function(z){return 1===this.cmpn(z)},c.prototype.gt=function(z){return 1===this.cmp(z)},c.prototype.gten=function(z){return this.cmpn(z)>=0},c.prototype.gte=function(z){return this.cmp(z)>=0},c.prototype.ltn=function(z){return-1===this.cmpn(z)},c.prototype.lt=function(z){return-1===this.cmp(z)},c.prototype.lten=function(z){return this.cmpn(z)<=0},c.prototype.lte=function(z){return this.cmp(z)<=0},c.prototype.eqn=function(z){return 0===this.cmpn(z)},c.prototype.eq=function(z){return 0===this.cmp(z)},c.red=function(z){return new k(z)},c.prototype.toRed=function(z){return a(!this.red,"Already a number in reduction context"),a(0===this.negative,"red works only with positives"),z.convertTo(this)._forceRed(z)},c.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(z){return this.red=z,this},c.prototype.forceRed=function(z){return a(!this.red,"Already a number in reduction context"),this._forceRed(z)},c.prototype.redAdd=function(z){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},c.prototype.redIAdd=function(z){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},c.prototype.redSub=function(z){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},c.prototype.redISub=function(z){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},c.prototype.redShl=function(z){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},c.prototype.redMul=function(z){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},c.prototype.redIMul=function(z){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},c.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(z){return a(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var n={k256:null,p224:null,p192:null,p25519:null};function C(B,z){this.name=B,this.p=new c(z,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function p(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function F(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function D(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function N(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(B){if("string"==typeof B){var z=c._prime(B);this.m=z.p,this.prime=z}else a(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}function O(B){k.call(this,B),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}C.prototype._tmp=function(){var z=new c(null);return z.words=new Array(Math.ceil(this.n/13)),z},C.prototype.ireduce=function(z){var G,U=z;do{this.split(U,this.tmp),G=(U=(U=this.imulK(U)).iadd(this.tmp)).bitLength()}while(G>this.n);var Q=G<this.n?-1:U.ucmp(this.p);return 0===Q?(U.words[0]=0,U.length=1):Q>0?U.isub(this.p):void 0!==U.strip?U.strip():U._strip(),U},C.prototype.split=function(z,U){z.iushrn(this.n,0,U)},C.prototype.imulK=function(z){return z.imul(this.k)},s(p,C),p.prototype.split=function(z,U){for(var G=4194303,Q=Math.min(z.length,9),rt=0;rt<Q;rt++)U.words[rt]=z.words[rt];if(U.length=Q,z.length<=9)return z.words[0]=0,void(z.length=1);var it=z.words[9];for(U.words[U.length++]=it&G,rt=10;rt<z.length;rt++){var ut=0|z.words[rt];z.words[rt-10]=(ut&G)<<4|it>>>22,it=ut}z.words[rt-10]=it>>>=22,z.length-=0===it&&z.length>10?10:9},p.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var U=0,G=0;G<z.length;G++){var Q=0|z.words[G];z.words[G]=67108863&(U+=977*Q),U=64*Q+(U/67108864|0)}return 0===z.words[z.length-1]&&(z.length--,0===z.words[z.length-1]&&z.length--),z},s(F,C),s(D,C),s(N,C),N.prototype.imulK=function(z){for(var U=0,G=0;G<z.length;G++){var Q=19*(0|z.words[G])+U,rt=67108863&Q;Q>>>=26,z.words[G]=rt,U=Q}return 0!==U&&(z.words[z.length++]=U),z},c._prime=function(z){if(n[z])return n[z];var U;if("k256"===z)U=new p;else if("p224"===z)U=new F;else if("p192"===z)U=new D;else{if("p25519"!==z)throw new Error("Unknown prime "+z);U=new N}return n[z]=U,U},k.prototype._verify1=function(z){a(0===z.negative,"red works only with positives"),a(z.red,"red works only with red numbers")},k.prototype._verify2=function(z,U){a(0==(z.negative|U.negative),"red works only with positives"),a(z.red&&z.red===U.red,"red works only with red numbers")},k.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},k.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},k.prototype.add=function(z,U){this._verify2(z,U);var G=z.add(U);return G.cmp(this.m)>=0&&G.isub(this.m),G._forceRed(this)},k.prototype.iadd=function(z,U){this._verify2(z,U);var G=z.iadd(U);return G.cmp(this.m)>=0&&G.isub(this.m),G},k.prototype.sub=function(z,U){this._verify2(z,U);var G=z.sub(U);return G.cmpn(0)<0&&G.iadd(this.m),G._forceRed(this)},k.prototype.isub=function(z,U){this._verify2(z,U);var G=z.isub(U);return G.cmpn(0)<0&&G.iadd(this.m),G},k.prototype.shl=function(z,U){return this._verify1(z),this.imod(z.ushln(U))},k.prototype.imul=function(z,U){return this._verify2(z,U),this.imod(z.imul(U))},k.prototype.mul=function(z,U){return this._verify2(z,U),this.imod(z.mul(U))},k.prototype.isqr=function(z){return this.imul(z,z.clone())},k.prototype.sqr=function(z){return this.mul(z,z)},k.prototype.sqrt=function(z){if(z.isZero())return z.clone();var U=this.m.andln(3);if(a(U%2==1),3===U){var G=this.m.add(new c(1)).iushrn(2);return this.pow(z,G)}for(var Q=this.m.subn(1),rt=0;!Q.isZero()&&0===Q.andln(1);)rt++,Q.iushrn(1);a(!Q.isZero());var it=new c(1).toRed(this),ut=it.redNeg(),J=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new c(2*j*j).toRed(this);0!==this.pow(j,J).cmp(ut);)j.redIAdd(ut);for(var Z=this.pow(j,Q),H=this.pow(z,Q.addn(1).iushrn(1)),X=this.pow(z,Q),at=rt;0!==X.cmp(it);){for(var _=X,K=0;0!==_.cmp(it);K++)_=_.redSqr();a(K<at);var nt=this.pow(Z,new c(1).iushln(at-K-1));H=H.redMul(nt),Z=nt.redSqr(),X=X.redMul(Z),at=K}return H},k.prototype.invm=function(z){var U=z._invmp(this.m);return 0!==U.negative?(U.negative=0,this.imod(U).redNeg()):this.imod(U)},k.prototype.pow=function(z,U){if(U.isZero())return new c(1).toRed(this);if(0===U.cmpn(1))return z.clone();var Q=new Array(16);Q[0]=new c(1).toRed(this),Q[1]=z;for(var rt=2;rt<Q.length;rt++)Q[rt]=this.mul(Q[rt-1],z);var it=Q[0],ut=0,J=0,j=U.bitLength()%26;for(0===j&&(j=26),rt=U.length-1;rt>=0;rt--){for(var Z=U.words[rt],H=j-1;H>=0;H--){var X=Z>>H&1;it!==Q[0]&&(it=this.sqr(it)),0!==X||0!==ut?(ut<<=1,ut|=X,(4==++J||0===rt&&0===H)&&(it=this.mul(it,Q[ut]),J=0,ut=0)):J=0}j=26}return it},k.prototype.convertTo=function(z){var U=z.umod(this.m);return U===z?U.clone():U},k.prototype.convertFrom=function(z){var U=z.clone();return U.red=null,U},c.mont=function(z){return new O(z)},s(O,k),O.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},O.prototype.convertFrom=function(z){var U=this.imod(z.mul(this.rinv));return U.red=null,U},O.prototype.imul=function(z,U){if(z.isZero()||U.isZero())return z.words[0]=0,z.length=1,z;var G=z.imul(U),Q=G.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),rt=G.isub(Q).iushrn(this.shift),it=rt;return rt.cmp(this.m)>=0?it=rt.isub(this.m):rt.cmpn(0)<0&&(it=rt.iadd(this.m)),it._forceRed(this)},O.prototype.mul=function(z,U){if(z.isZero()||U.isZero())return new c(0)._forceRed(this);var G=z.mul(U),Q=G.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),rt=G.isub(Q).iushrn(this.shift),it=rt;return rt.cmp(this.m)>=0?it=rt.isub(this.m):rt.cmpn(0)<0&&(it=rt.iadd(this.m)),it._forceRed(this)},O.prototype.invm=function(z){return this.imod(z._invmp(this.m).mul(this.r2))._forceRed(this)}}(l=e.nmd(l),this)},2692:function(l){"use strict";l.exports=function x(e){var r,f,a,s=e.length,c=0;for(r=0;r<s;++r)c+=e[r].length;var u=new Array(c),y=0;for(r=0;r<s;++r){var v=e[r],w=v.length;for(f=0;f<w;++f){var d=u[y++]=new Array(w-1),o=0;for(a=0;a<w;++a)a!==f&&(d[o++]=v[a]);if(1&f){var h=d[1];d[1]=d[0],d[0]=h}}}return u}},2569:function(l,x,e){"use strict";l.exports=function o(h,M,T){switch(arguments.length){case 1:return w(h);case 2:return"function"==typeof M?u(h,h,M,!0):d(h,M);case 3:return u(h,M,T,!1);default:throw new Error("box-intersect: Invalid arguments")}};var y,r=e(5306),f=e(1390),a=e(2337);function s(h,M){for(var T=0;T<h;++T)if(!(M[T]<=M[T+h]))return!0;return!1}function c(h,M,T,L){for(var m=0,S=0,b=0,n=h.length;b<n;++b){var C=h[b];if(!s(M,C)){for(var p=0;p<2*M;++p)T[m++]=C[p];L[S++]=b}}return S}function u(h,M,T,L){var m=h.length,S=M.length;if(!(m<=0||S<=0)){var b=h[0].length>>>1;if(!(b<=0)){var n,C=r.mallocDouble(2*b*m),p=r.mallocInt32(m);if((m=c(h,b,C,p))>0){if(1===b&&L)f.init(m),n=f.sweepComplete(b,T,0,m,C,p,0,m,C,p);else{var F=r.mallocDouble(2*b*S),D=r.mallocInt32(S);(S=c(M,b,F,D))>0&&(f.init(m+S),n=1===b?f.sweepBipartite(b,T,0,m,C,p,0,S,F,D):a(b,T,L,m,C,p,S,F,D),r.free(F),r.free(D))}r.free(C),r.free(p)}return n}}}function v(h,M){y.push([h,M])}function w(h){return y=[],u(h,h,v,!0),y}function d(h,M){return y=[],u(h,M,v,!1),y}},7333:function(l,x){"use strict";function f(a){return a?function c(u,y,v,w,d,o,h,M,T,L,m){return d-w>T-M?function a(u,y,v,w,d,o,h,M,T,L,m){for(var S=2*u,b=w,n=S*w;b<d;++b,n+=S){var C=o[y+n],p=o[y+n+u],F=h[b];t:for(var D=M,N=S*M;D<T;++D,N+=S){var B=m[D];if(!(L[y+N+u]<C||p<L[y+N])){for(var z=y+1;z<u;++z)if(o[z+u+n]<L[z+N]||L[z+u+N]<o[z+n])continue t;var it=v(F,B);if(void 0!==it)return it}}}}(u,y,v,w,d,o,h,M,T,L,m):function s(u,y,v,w,d,o,h,M,T,L,m){for(var S=2*u,b=M,n=S*M;b<T;++b,n+=S){var C=L[y+n],p=L[y+n+u],F=m[b];t:for(var D=w,N=S*w;D<d;++D,N+=S){var B=h[D];if(!(p<o[y+N]||o[y+N+u]<C)){for(var z=y+1;z<u;++z)if(o[z+u+N]<L[z+n]||L[z+u+n]<o[z+N])continue t;var it=v(B,F);if(void 0!==it)return it}}}}(u,y,v,w,d,o,h,M,T,L,m)}:function y(v,w,d,o,h,M,T,L,m,S,b,n){return M-h>S-m?o?function a(v,w,d,o,h,M,T,L,m,S,b){for(var n=2*v,C=o,p=n*o;C<h;++C,p+=n){var F=M[w+p],D=M[w+p+v],N=T[C];t:for(var k=L,O=n*L;k<m;++k,O+=n){var B=S[w+O],z=b[k];if(!(B<=F||D<B)){for(var U=w+1;U<v;++U)if(M[U+v+p]<S[U+O]||S[U+v+O]<M[U+p])continue t;var ut=d(z,N);if(void 0!==ut)return ut}}}}(v,w,d,h,M,T,L,m,S,b,n):function s(v,w,d,o,h,M,T,L,m,S,b){for(var n=2*v,C=o,p=n*o;C<h;++C,p+=n){var F=M[w+p],D=M[w+p+v],N=T[C];t:for(var k=L,O=n*L;k<m;++k,O+=n){var B=S[w+O],z=b[k];if(!(B<F||D<B)){for(var U=w+1;U<v;++U)if(M[U+v+p]<S[U+O]||S[U+v+O]<M[U+p])continue t;var ut=d(N,z);if(void 0!==ut)return ut}}}}(v,w,d,h,M,T,L,m,S,b,n):o?function c(v,w,d,o,h,M,T,L,m,S,b){for(var n=2*v,C=L,p=n*L;C<m;++C,p+=n){var F=S[w+p],D=b[C];t:for(var N=o,k=n*o;N<h;++N,k+=n){var z=T[N];if(!(F<=M[w+k]||M[w+k+v]<F)){for(var U=w+1;U<v;++U)if(M[U+v+k]<S[U+p]||S[U+v+p]<M[U+k])continue t;var ut=d(D,z);if(void 0!==ut)return ut}}}}(v,w,d,h,M,T,L,m,S,b,n):function u(v,w,d,o,h,M,T,L,m,S,b){for(var n=2*v,C=L,p=n*L;C<m;++C,p+=n){var F=S[w+p],D=b[C];t:for(var N=o,k=n*o;N<h;++N,k+=n){var z=T[N];if(!(F<M[w+k]||M[w+k+v]<F)){for(var U=w+1;U<v;++U)if(M[U+v+k]<S[U+p]||S[U+v+p]<M[U+k])continue t;var ut=d(z,D);if(void 0!==ut)return ut}}}}(v,w,d,h,M,T,L,m,S,b,n)}}x.partial=f(!1),x.full=f(!0)},2337:function(l,x,e){"use strict";l.exports=function B(z,U,G,Q,rt,it,ut,J,j){!function D(z,U){var G=8*f.log2(U+1)*(z+1)|0,Q=f.nextPow2(6*G);p.length<Q&&(r.free(p),p=r.mallocInt32(Q));var rt=f.nextPow2(2*G);F.length<rt&&(r.free(F),F=r.mallocDouble(rt))}(z,Q+ut);var X,Z=0,H=2*z;for(N(Z++,0,0,Q,0,ut,G?16:0,-1/0,1/0),G||N(Z++,0,0,ut,0,Q,1,-1/0,1/0);Z>0;){var at=6*(Z-=1),_=p[at],K=p[at+1],nt=p[at+2],et=p[at+3],st=p[at+4],dt=p[at+5],Tt=2*Z,bt=F[Tt],Dt=F[Tt+1],Ft=1&dt,Mt=!!(16&dt),wt=rt,St=it,Ut=J,Gt=j;if(Ft&&(wt=J,St=j,Ut=rt,Gt=it),!(2&dt&&(nt=T(z,_,K,nt,wt,St,Dt),K>=nt)||4&dt&&(K=L(z,_,K,nt,wt,St,bt),K>=nt))){var Pt=nt-K,Vt=st-et;if(Mt){if(z*Pt*(Pt+Vt)<4194304){if(void 0!==(X=u.scanComplete(z,_,U,K,nt,wt,St,et,st,Ut,Gt)))return X;continue}}else{if(z*Math.min(Pt,Vt)<128){if(void 0!==(X=s(z,_,U,Ft,K,nt,wt,St,et,st,Ut,Gt)))return X;continue}if(z*Pt*Vt<4194304){if(void 0!==(X=u.scanBipartite(z,_,U,Ft,K,nt,wt,St,et,st,Ut,Gt)))return X;continue}}var te=h(z,_,K,nt,wt,St,bt,Dt);if(K<te)if(z*(te-K)<128){if(void 0!==(X=c(z,_+1,U,K,te,wt,St,et,st,Ut,Gt)))return X}else if(_===z-2){if(void 0!==(X=Ft?u.sweepBipartite(z,U,et,st,Ut,Gt,K,te,wt,St):u.sweepBipartite(z,U,K,te,wt,St,et,st,Ut,Gt)))return X}else N(Z++,_+1,K,te,et,st,Ft,-1/0,1/0),N(Z++,_+1,et,st,K,te,1^Ft,-1/0,1/0);if(te<nt){var _t=y(z,_,et,st,Ut,Gt),kt=Ut[H*_t+_],zt=M(z,_,_t,st,Ut,Gt,kt);if(zt<st&&N(Z++,_,te,nt,zt,st,(4|Ft)+(Mt?16:0),kt,Dt),et<_t&&N(Z++,_,te,nt,et,_t,(2|Ft)+(Mt?16:0),bt,kt),_t+1===zt){if(void 0!==(X=Mt?O(z,_,U,te,nt,wt,St,_t,Ut,Gt[_t]):k(z,_,U,Ft,te,nt,wt,St,_t,Ut,Gt[_t])))return X}else if(_t<zt){var qt;if(Mt){if(te<(qt=m(z,_,te,nt,wt,St,kt))){var ae=M(z,_,te,qt,wt,St,kt);if(_===z-2){if(te<ae&&void 0!==(X=u.sweepComplete(z,U,te,ae,wt,St,_t,zt,Ut,Gt))||ae<qt&&void 0!==(X=u.sweepBipartite(z,U,ae,qt,wt,St,_t,zt,Ut,Gt)))return X}else te<ae&&N(Z++,_+1,te,ae,_t,zt,16,-1/0,1/0),ae<qt&&(N(Z++,_+1,ae,qt,_t,zt,0,-1/0,1/0),N(Z++,_+1,_t,zt,ae,qt,1,-1/0,1/0))}}else te<(qt=Ft?S(z,_,te,nt,wt,St,kt):m(z,_,te,nt,wt,St,kt))&&(_===z-2?X=Ft?u.sweepBipartite(z,U,_t,zt,Ut,Gt,te,qt,wt,St):u.sweepBipartite(z,U,te,qt,wt,St,_t,zt,Ut,Gt):(N(Z++,_+1,te,qt,_t,zt,Ft,-1/0,1/0),N(Z++,_+1,_t,zt,te,qt,1^Ft,-1/0,1/0)))}}}}};var r=e(5306),f=e(2288),a=e(7333),s=a.partial,c=a.full,u=e(1390),y=e(2464),v=e(122),h=v("!(lo>=p0)&&!(p1>=hi)"),M=v("lo===p0"),T=v("lo<p0"),L=v("hi<=p0"),m=v("lo<=p0&&p0<=hi"),S=v("lo<p0&&p0<=hi"),p=r.mallocInt32(1024),F=r.mallocDouble(1024);function N(z,U,G,Q,rt,it,ut,J,j){var Z=6*z;p[Z]=U,p[Z+1]=G,p[Z+2]=Q,p[Z+3]=rt,p[Z+4]=it,p[Z+5]=ut;var H=2*z;F[H]=J,F[H+1]=j}function k(z,U,G,Q,rt,it,ut,J,j,Z,H){var X=2*z,at=j*X,_=Z[at+U];t:for(var K=rt,nt=rt*X;K<it;++K,nt+=X){var st=ut[nt+U+z];if(!(_<(et=ut[nt+U])||st<_||Q&&_===et)){for(var dt=J[K],Tt=U+1;Tt<z;++Tt){var et=ut[nt+Tt];if((st=ut[nt+Tt+z])<Z[at+Tt]||Z[at+Tt+z]<et)continue t}var Ft;if(void 0!==(Ft=Q?G(H,dt):G(dt,H)))return Ft}}}function O(z,U,G,Q,rt,it,ut,J,j,Z){var H=2*z,X=J*H,at=j[X+U];t:for(var _=Q,K=Q*H;_<rt;++_,K+=H){var nt=ut[_];if(nt!==Z){var st=it[K+U+z];if(!(at<(et=it[K+U])||st<at)){for(var dt=U+1;dt<z;++dt){var et=it[K+dt];if((st=it[K+dt+z])<j[X+dt]||j[X+dt+z]<et)continue t}var Dt=G(nt,Z);if(void 0!==Dt)return Dt}}}}},2464:function(l,x,e){"use strict";l.exports=function c(u,y,v,w,d,o){if(w<=v+1)return v;for(var h=v,M=w,T=w+v>>>1,L=2*u,m=T,S=d[L*T+y];h<M;){if(M-h<8){s(u,y,h,M,d,o),S=d[L*T+y];break}var b=M-h,n=Math.random()*b+h|0,C=d[L*n+y],p=Math.random()*b+h|0,F=d[L*p+y],D=Math.random()*b+h|0,N=d[L*D+y];C<=F?N>=F?(m=p,S=F):C>=N?(m=n,S=C):(m=D,S=N):F>=N?(m=p,S=F):N>=C?(m=n,S=C):(m=D,S=N);for(var B=L*(M-1),z=L*m,k=0;k<L;++k,++B,++z){var O=d[B];d[B]=d[z],d[z]=O}var U=o[M-1];for(o[M-1]=o[m],o[m]=U,B=L*(M-1),z=L*(m=f(u,y,h,M-1,d,o,S)),k=0;k<L;++k,++B,++z)O=d[B],d[B]=d[z],d[z]=O;if(U=o[M-1],o[M-1]=o[m],o[m]=U,T<m){for(M=m-1;h<M&&d[L*(M-1)+y]===S;)M-=1;M+=1}else{if(!(m<T))break;for(h=m+1;h<M&&d[L*h+y]===S;)h+=1}}return f(u,y,v,T,d,o,d[L*T+y])};var f=e(122)("lo<p0");function s(u,y,v,w,d,o){for(var h=2*u,M=h*(v+1)+y,T=v+1;T<w;++T,M+=h)for(var L=d[M],m=T,S=h*(T-1);m>v&&d[S+y]>L;--m,S-=h){for(var b=S,n=S+h,C=0;C<h;++C,++b,++n){var p=d[b];d[b]=d[n],d[n]=p}var F=o[m];o[m]=o[m-1],o[m-1]=F}}},122:function(l){"use strict";l.exports=function e(v){return x[v]};var x={"lo===p0":function r(v,w,d,o,h,M,T){for(var L=2*v,m=L*d,S=m,b=d,n=w,p=d;o>p;++p,m+=L)if(h[m+n]===T)if(b===p)b+=1,S+=L;else{for(var D=0;L>D;++D){var N=h[m+D];h[m+D]=h[S],h[S++]=N}var k=M[p];M[p]=M[b],M[b++]=k}return b},"lo<p0":function f(v,w,d,o,h,M,T){for(var L=2*v,m=L*d,S=m,b=d,n=w,p=d;o>p;++p,m+=L)if(h[m+n]<T)if(b===p)b+=1,S+=L;else{for(var D=0;L>D;++D){var N=h[m+D];h[m+D]=h[S],h[S++]=N}var k=M[p];M[p]=M[b],M[b++]=k}return b},"lo<=p0":function a(v,w,d,o,h,M,T){for(var L=2*v,m=L*d,S=m,b=d,C=v+w,p=d;o>p;++p,m+=L)if(h[m+C]<=T)if(b===p)b+=1,S+=L;else{for(var D=0;L>D;++D){var N=h[m+D];h[m+D]=h[S],h[S++]=N}var k=M[p];M[p]=M[b],M[b++]=k}return b},"hi<=p0":function s(v,w,d,o,h,M,T){for(var L=2*v,m=L*d,S=m,b=d,C=v+w,p=d;o>p;++p,m+=L)if(h[m+C]<=T)if(b===p)b+=1,S+=L;else{for(var D=0;L>D;++D){var N=h[m+D];h[m+D]=h[S],h[S++]=N}var k=M[p];M[p]=M[b],M[b++]=k}return b},"lo<p0&&p0<=hi":function u(v,w,d,o,h,M,T){for(var L=2*v,m=L*d,S=m,b=d,n=w,C=v+w,p=d;o>p;++p,m+=L)if(h[m+n]<T&&T<=h[m+C])if(b===p)b+=1,S+=L;else{for(var N=0;L>N;++N){var k=h[m+N];h[m+N]=h[S],h[S++]=k}var O=M[p];M[p]=M[b],M[b++]=O}return b},"lo<=p0&&p0<=hi":function c(v,w,d,o,h,M,T){for(var L=2*v,m=L*d,S=m,b=d,n=w,C=v+w,p=d;o>p;++p,m+=L)if(h[m+n]<=T&&T<=h[m+C])if(b===p)b+=1,S+=L;else{for(var N=0;L>N;++N){var k=h[m+N];h[m+N]=h[S],h[S++]=k}var O=M[p];M[p]=M[b],M[b++]=O}return b},"!(lo>=p0)&&!(p1>=hi)":function y(v,w,d,o,h,M,T,L){for(var m=2*v,S=m*d,b=S,n=d,C=w,p=v+w,F=d;o>F;++F,S+=m)if(!(h[S+C]>=T||L>=h[S+p]))if(n===F)n+=1,b+=m;else{for(var k=0;m>k;++k){var O=h[S+k];h[S+k]=h[b],h[b++]=O}var B=M[F];M[F]=M[n],M[n++]=B}return n}}},309:function(l){"use strict";l.exports=function e(w,d){d<=128?r(0,d-1,w):v(0,d-1,w)};function r(w,d,o){for(var h=2*(w+1),M=w+1;M<=d;++M){for(var T=o[h++],L=o[h++],m=M,S=h-2;m-- >w;){var b=o[S-2],n=o[S-1];if(b<T)break;if(b===T&&n<L)break;o[S]=b,o[S+1]=n,S-=2}o[S]=T,o[S+1]=L}}function f(w,d,o){var h=o[w*=2],M=o[w+1];o[w]=o[d*=2],o[w+1]=o[d+1],o[d]=h,o[d+1]=M}function a(w,d,o){o[w*=2]=o[d*=2],o[w+1]=o[d+1]}function s(w,d,o,h){o*=2;var M=h[w*=2],T=h[w+1];h[w]=h[d*=2],h[w+1]=h[d+1],h[d]=h[o],h[d+1]=h[o+1],h[o]=M,h[o+1]=T}function c(w,d,o,h,M){M[w*=2]=M[d*=2],M[d]=o,M[w+1]=M[d+1],M[d+1]=h}function u(w,d,o){var h=o[w*=2],M=o[d*=2];return!(h<M)&&(h!==M||o[w+1]>o[d+1])}function y(w,d,o,h){var M=h[w*=2];return M<d||M===d&&h[w+1]<o}function v(w,d,o){var h=(d-w+1)/6|0,M=w+h,T=d-h,L=w+d>>1,m=L-h,S=L+h,b=M,n=m,C=L,p=S,F=T,D=w+1,N=d-1,k=0;u(b,n,o)&&(k=b,b=n,n=k),u(p,F,o)&&(k=p,p=F,F=k),u(b,C,o)&&(k=b,b=C,C=k),u(n,C,o)&&(k=n,n=C,C=k),u(b,p,o)&&(k=b,b=p,p=k),u(C,p,o)&&(k=C,C=p,p=k),u(n,F,o)&&(k=n,n=F,F=k),u(n,C,o)&&(k=n,n=C,C=k),u(p,F,o)&&(k=p,p=F,F=k);for(var O=o[2*n],B=o[2*n+1],z=o[2*p],U=o[2*p+1],G=2*b,Q=2*C,rt=2*F,it=2*M,ut=2*L,J=2*T,j=0;j<2;++j){var H=o[Q+j],X=o[rt+j];o[it+j]=o[G+j],o[ut+j]=H,o[J+j]=X}a(m,w,o),a(S,d,o);for(var at=D;at<=N;++at)if(y(at,O,B,o))at!==D&&f(at,D,o),++D;else if(!y(at,z,U,o))for(;;){if(y(N,z,U,o)){y(N,O,B,o)?(s(at,D,N,o),++D,--N):(f(at,N,o),--N);break}if(--N<at)break}c(w,D-1,O,B,o),c(d,N+1,z,U,o),D-2-w<=32?r(w,D-2,o):v(w,D-2,o),d-(N+2)<=32?r(N+2,d,o):v(N+2,d,o),N-D<=32?r(D,N,o):v(D,N,o)}},1390:function(l,x,e){"use strict";l.exports={init:function M(C){var p=f.nextPow2(C);u.length<p&&(r.free(u),u=r.mallocInt32(p)),y.length<p&&(r.free(y),y=r.mallocInt32(p)),v.length<p&&(r.free(v),v=r.mallocInt32(p)),w.length<p&&(r.free(w),w=r.mallocInt32(p)),d.length<p&&(r.free(d),d=r.mallocInt32(p)),o.length<p&&(r.free(o),o=r.mallocInt32(p));var F=8*p;h.length<F&&(r.free(h),h=r.mallocDouble(F))},sweepBipartite:function m(C,p,F,D,N,k,O,B,z,U){for(var G=0,Q=2*C,rt=C-1,it=Q-1,ut=F;ut<D;++ut){var J=k[ut],j=Q*ut;h[G++]=N[j+rt],h[G++]=-(J+1),h[G++]=N[j+it],h[G++]=J}for(ut=O;ut<B;++ut){J=U[ut]+s;var Z=Q*ut;h[G++]=z[Z+rt],h[G++]=-J,h[G++]=z[Z+it],h[G++]=J}var H=G>>>1;a(h,H);var X=0,at=0;for(ut=0;ut<H;++ut){var _=0|h[2*ut+1];if(_>=s)T(v,w,at--,_=_-s|0);else if(_>=0)T(u,y,X--,_);else if(_<=-s){_=-_-s|0;for(var K=0;K<X;++K)if(void 0!==(nt=p(u[K],_)))return nt;L(v,w,at++,_)}else{for(_=-_-1|0,K=0;K<at;++K){var nt;if(void 0!==(nt=p(_,v[K])))return nt}L(u,y,X++,_)}}},sweepComplete:function S(C,p,F,D,N,k,O,B,z,U){for(var G=0,Q=2*C,rt=C-1,it=Q-1,ut=F;ut<D;++ut){var J=k[ut]+1<<1,j=Q*ut;h[G++]=N[j+rt],h[G++]=-J,h[G++]=N[j+it],h[G++]=J}for(ut=O;ut<B;++ut){J=U[ut]+1<<1;var Z=Q*ut;h[G++]=z[Z+rt],h[G++]=1|-J,h[G++]=z[Z+it],h[G++]=1|J}var H=G>>>1;a(h,H);var X=0,at=0,_=0;for(ut=0;ut<H;++ut){var K=0|h[2*ut+1],nt=1&K;if(ut<H-1&&K>>1==h[2*ut+3]>>1&&(nt=2,ut+=1),K<0){for(var et=-(K>>1)-1,st=0;st<_;++st)if(void 0!==(dt=p(d[st],et)))return dt;if(0!==nt)for(st=0;st<X;++st)if(void 0!==(dt=p(u[st],et)))return dt;if(1!==nt)for(st=0;st<at;++st){var dt;if(void 0!==(dt=p(v[st],et)))return dt}0===nt?L(u,y,X++,et):1===nt?L(v,w,at++,et):2===nt&&L(d,o,_++,et)}else et=(K>>1)-1,0===nt?T(u,y,X--,et):1===nt?T(v,w,at--,et):2===nt&&T(d,o,_--,et)}},scanBipartite:function b(C,p,F,D,N,k,O,B,z,U,G,Q){var rt=0,it=2*C,ut=p,J=p+C,j=1,Z=1;D?Z=s:j=s;for(var H=N;H<k;++H){var X=H+j,at=it*H;h[rt++]=O[at+ut],h[rt++]=-X,h[rt++]=O[at+J],h[rt++]=X}for(H=z;H<U;++H)X=H+Z,h[rt++]=G[it*H+ut],h[rt++]=-X;var K=rt>>>1;a(h,K);var nt=0;for(H=0;H<K;++H){var et=0|h[2*H+1];if(et<0){var st=!1;if((X=-et)>=s?(st=!D,X-=s):(st=!!D,X-=1),st)L(u,y,nt++,X);else{var dt=Q[X],Tt=it*X,bt=G[Tt+p+1],Dt=G[Tt+p+1+C];t:for(var Ft=0;Ft<nt;++Ft){var Mt=u[Ft],wt=it*Mt;if(!(Dt<O[wt+p+1]||O[wt+p+1+C]<bt)){for(var St=p+2;St<C;++St)if(G[Tt+St+C]<O[wt+St]||O[wt+St+C]<G[Tt+St])continue t;var Gt,Ut=B[Mt];if(void 0!==(Gt=D?F(dt,Ut):F(Ut,dt)))return Gt}}}}else T(u,y,nt--,et-j)}},scanComplete:function n(C,p,F,D,N,k,O,B,z,U,G){for(var Q=0,rt=2*C,it=p,ut=p+C,J=D;J<N;++J){var j=J+s,Z=rt*J;h[Q++]=k[Z+it],h[Q++]=-j,h[Q++]=k[Z+ut],h[Q++]=j}for(J=B;J<z;++J)j=J+1,h[Q++]=U[rt*J+it],h[Q++]=-j;var X=Q>>>1;a(h,X);var at=0;for(J=0;J<X;++J){var _=0|h[2*J+1];if(_<0)if((j=-_)>=s)u[at++]=j-s;else{var K=G[j-=1],nt=rt*j,et=U[nt+p+1],st=U[nt+p+1+C];t:for(var dt=0;dt<at;++dt){var Tt=u[dt],bt=O[Tt];if(bt===K)break;var Dt=rt*Tt;if(!(st<k[Dt+p+1]||k[Dt+p+1+C]<et)){for(var Ft=p+2;Ft<C;++Ft)if(U[nt+Ft+C]<k[Dt+Ft]||k[Dt+Ft+C]<U[nt+Ft])continue t;var Mt=F(bt,K);if(void 0!==Mt)return Mt}}}else{for(j=_-s,dt=at-1;dt>=0;--dt)if(u[dt]===j){for(Ft=dt+1;Ft<at;++Ft)u[Ft-1]=u[Ft];break}--at}}}};var r=e(5306),f=e(2288),a=e(309),s=1<<28,c=1024,u=r.mallocInt32(c),y=r.mallocInt32(c),v=r.mallocInt32(c),w=r.mallocInt32(c),d=r.mallocInt32(c),o=r.mallocInt32(c),h=r.mallocDouble(8*c);function T(C,p,F,D){var N=p[D],k=C[F-1];C[N]=k,p[k]=N}function L(C,p,F,D){C[F]=D,p[D]=F}},7761:function(l,x,e){"use strict";var r=e(9971),f=e(743),a=e(2161),s=e(7098);function c(d){return[Math.min(d[0],d[1]),Math.max(d[0],d[1])]}function u(d,o){return d[0]-o[0]||d[1]-o[1]}function v(d,o,h){return o in d?d[o]:h}l.exports=function w(d,o,h){Array.isArray(o)?(h=h||{},o=o||[]):(h=o||{},o=[]);var M=!!v(h,"delaunay",!0),T=!!v(h,"interior",!0),L=!!v(h,"exterior",!0),m=!!v(h,"infinity",!1);if(!T&&!L||0===d.length)return[];var S=r(d,o);if(M||T!==L||m){for(var b=f(d.length,function y(d){return d.map(c).sort(u)}(o)),n=0;n<S.length;++n){var C=S[n];b.addTriangle(C[0],C[1],C[2])}return M&&a(d,b),L?T?m?s(b,0,m):b.cells():s(b,1,m):s(b,-1)}return S}},2161:function(l,x,e){"use strict";var r=e(2227)[4];function a(c,u,y,v,w,d){var o=u.opposite(v,w);if(!(o<0)){if(w<v){var h=v;v=w,w=h,h=d,d=o,o=h}u.isConstraint(v,w)||r(c[v],c[w],c[d],c[o])<0&&y.push(v,w)}}e(5070),l.exports=function s(c,u){for(var y=[],v=c.length,w=u.stars,d=0;d<v;++d)for(var o=w[d],h=1;h<o.length;h+=2)if(!((M=o[h])<d||u.isConstraint(d,M))){for(var T=o[h-1],L=-1,m=1;m<o.length;m+=2)if(o[m-1]===M){L=o[m];break}L<0||r(c[d],c[M],c[T],c[L])<0&&y.push(d,M)}for(;y.length>0;){for(var M=y.pop(),S=(T=-1,L=-1,o=w[d=y.pop()],1);S<o.length;S+=2){var b=o[S-1],n=o[S];b===M?L=n:n===M&&(T=b)}T<0||L<0||r(c[d],c[M],c[T],c[L])>=0||(u.flip(d,M),a(c,u,y,T,d,L),a(c,u,y,d,L,T),a(c,u,y,L,M,T),a(c,u,y,M,T,L))}}},7098:function(l,x,e){"use strict";var v,r=e(5070);function f(v,w,d,o,h,M,T){this.cells=v,this.neighbor=w,this.flags=o,this.constraint=d,this.active=h,this.next=M,this.boundary=T}function s(v,w){return v[0]-w[0]||v[1]-w[1]||v[2]-w[2]}l.exports=function y(v,w,d){var o=function c(v,w){for(var d=v.cells(),o=d.length,h=0;h<o;++h){var T=(M=d[h])[0],m=M[2];(L=M[1])<m?L<T&&(M[0]=L,M[1]=m,M[2]=T):m<T&&(M[0]=m,M[1]=T,M[2]=L)}d.sort(s);var S=new Array(o);for(h=0;h<S.length;++h)S[h]=0;var b=[],n=[],C=new Array(3*o),p=new Array(3*o),F=null;w&&(F=[]);var D=new f(d,C,p,S,b,n,F);for(h=0;h<o;++h)for(var M=d[h],N=0;N<3;++N){var L,k=C[3*h+N]=D.locate(L=M[(N+1)%3],T=M[N],v.opposite(L,T)),O=p[3*h+N]=v.isConstraint(T,L);k<0&&(O?n.push(h):(b.push(h),S[h]=1),w&&F.push([L,T,-1]))}return D}(v,d);if(0===w)return d?o.cells.concat(o.boundary):o.cells;for(var h=1,M=o.active,T=o.next,L=o.flags,m=o.cells,S=o.constraint,b=o.neighbor;M.length>0||T.length>0;){for(;M.length>0;){var n=M.pop();if(L[n]!==-h){L[n]=h;for(var p=0;p<3;++p){var F=b[3*n+p];F>=0&&0===L[F]&&(S[3*n+p]?T.push(F):(M.push(F),L[F]=h))}}}var D=T;T=M,M=D,T.length=0,h=-h}var N=function u(v,w,d){for(var o=0,h=0;h<v.length;++h)w[h]===d&&(v[o++]=v[h]);return v.length=o,v}(m,L,w);return d?N.concat(o.boundary):N},f.prototype.locate=(v=[0,0,0],function(w,d,o){var h=w,M=d,T=o;return d<o?d<w&&(h=d,M=o,T=w):o<w&&(h=o,M=w,T=d),h<0?-1:(v[0]=h,v[1]=M,v[2]=T,r.eq(this.cells,v,s))})},9971:function(l,x,e){"use strict";var r=e(5070),f=e(417)[3];function u(L,m,S,b,n){this.a=L,this.b=m,this.idx=S,this.lowerIds=b,this.upperIds=n}function y(L,m,S,b){this.a=L,this.b=m,this.type=S,this.idx=b}function v(L,m){var S=L.a[0]-m.a[0]||L.a[1]-m.a[1]||L.type-m.type;return S||0!==L.type&&(S=f(L.a,L.b,m.b))?S:L.idx-m.idx}function w(L,m){return f(L.a,L.b,m)}function d(L,m,S,b,n){for(var C=r.lt(m,b,w),p=r.gt(m,b,w),F=C;F<p;++F){for(var D=m[F],N=D.lowerIds,O=N.length;O>1&&f(S[N[O-2]],S[N[O-1]],b)>0;)L.push([N[O-1],N[O-2],n]),O-=1;N.length=O,N.push(n);var k=D.upperIds;for(O=k.length;O>1&&f(S[k[O-2]],S[k[O-1]],b)<0;)L.push([k[O-2],k[O-1],n]),O-=1;k.length=O,k.push(n)}}function o(L,m){return(L.a[0]<m.a[0]?f(L.a,L.b,m.a):f(m.b,m.a,L.a))||(m.b[0]<L.b[0]?f(L.a,L.b,m.b):f(m.b,m.a,L.b))||L.idx-m.idx}function h(L,m,S){var b=r.le(L,S,o),n=L[b],C=n.upperIds,p=C[C.length-1];n.upperIds=[p],L.splice(b+1,0,new u(S.a,S.b,S.idx,[p],C))}function M(L,m,S){var b=S.a;S.a=S.b,S.b=b;var n=r.eq(L,S,o);L[n-1].upperIds=L[n].upperIds,L.splice(n,1)}l.exports=function T(L,m){for(var S=L.length,b=m.length,n=[],C=0;C<S;++C)n.push(new y(L[C],null,0,C));for(C=0;C<b;++C){var p=m[C],F=L[p[0]],D=L[p[1]];F[0]<D[0]?n.push(new y(F,D,2,C),new y(D,F,1,C)):F[0]>D[0]&&n.push(new y(D,F,2,C),new y(F,D,1,C))}n.sort(v);for(var N=n[0].a[0]-(1+Math.abs(n[0].a[0]))*Math.pow(2,-52),k=[new u([N,1],[N,0],-1,[],[],[],[])],O=[],B=(C=0,n.length);C<B;++C){var z=n[C],U=z.type;0===U?d(O,k,L,z.a,z.idx):2===U?h(k,0,z):M(k,0,z)}return O}},743:function(l,x,e){"use strict";var r=e(5070);function f(u,y){this.stars=u,this.edges=y}l.exports=function c(u,y){for(var v=new Array(u),w=0;w<u;++w)v[w]=[];return new f(v,y)};var a=f.prototype;function s(u,y,v){for(var w=1,d=u.length;w<d;w+=2)if(u[w-1]===y&&u[w]===v)return u[w-1]=u[d-2],u[w]=u[d-1],void(u.length=d-2)}a.isConstraint=function(){var u=[0,0];function y(v,w){return v[0]-w[0]||v[1]-w[1]}return function(v,w){return u[0]=Math.min(v,w),u[1]=Math.max(v,w),r.eq(this.edges,u,y)>=0}}(),a.removeTriangle=function(u,y,v){var w=this.stars;s(w[u],y,v),s(w[y],v,u),s(w[v],u,y)},a.addTriangle=function(u,y,v){var w=this.stars;w[u].push(y,v),w[y].push(v,u),w[v].push(u,y)},a.opposite=function(u,y){for(var v=this.stars[y],w=1,d=v.length;w<d;w+=2)if(v[w]===u)return v[w-1];return-1},a.flip=function(u,y){var v=this.opposite(u,y),w=this.opposite(y,u);this.removeTriangle(u,y,v),this.removeTriangle(y,u,w),this.addTriangle(u,w,v),this.addTriangle(y,v,w)},a.edges=function(){for(var u=this.stars,y=[],v=0,w=u.length;v<w;++v)for(var d=u[v],o=0,h=d.length;o<h;o+=2)y.push([d[o],d[o+1]]);return y},a.cells=function(){for(var u=this.stars,y=[],v=0,w=u.length;v<w;++v)for(var d=u[v],o=0,h=d.length;o<h;o+=2){var M=d[o],T=d[o+1];v<Math.min(M,T)&&y.push([v,M,T])}return y}},9887:function(l){"use strict";l.exports=function x(e){for(var r=1,f=1;f<e.length;++f)for(var a=0;a<f;++a)if(e[f]<e[a])r=-r;else if(e[a]===e[f])return 0;return r}},9243:function(l,x,e){"use strict";var r=e(3094),f=e(6606);function a(u,y){for(var v=0,w=u.length,d=0;d<w;++d)v+=u[d]*y[d];return v}function s(u){var y=u.length;if(0===y)return[];var w=r([u.length+1,u.length+1],1),d=r([u.length+1],1);w[y][y]=0;for(var o=0;o<y;++o){for(var h=0;h<=o;++h)w[h][o]=w[o][h]=2*a(u[o],u[h]);d[o]=a(u[o],u[o])}var M=f(w,d),T=0,L=M[y+1];for(o=0;o<L.length;++o)T+=L[o];var m=new Array(y);for(o=0;o<y;++o){L=M[o];var S=0;for(h=0;h<L.length;++h)S+=L[h];m[o]=S/T}return m}function c(u){if(0===u.length)return[];for(var y=u[0].length,v=r([y]),w=s(u),d=0;d<u.length;++d)for(var o=0;o<y;++o)v[o]+=u[d][o]*w[d];return v}c.barycenetric=s,l.exports=c},1778:function(l,x,e){l.exports=function f(a){for(var s=r(a),c=0,u=0;u<a.length;++u)for(var y=a[u],v=0;v<s.length;++v)c+=Math.pow(y[v]-s[v],2);return Math.sqrt(c/a.length)};var r=e(9243)},197:function(l,x,e){"use strict";l.exports=function F(D,N,k){var O;if(k){O=N;for(var B=new Array(N.length),z=0;z<N.length;++z)B[z]=[(U=N[z])[0],U[1],k[z]];N=B}for(var G=function C(D,N,k){var O=m(D,[],h(D));return n(N,O,k),!!O}(D,N,!!k);p(D,N,!!k);)G=!0;if(k&&G)for(O.length=0,k.length=0,z=0;z<N.length;++z){var U;O.push([(U=N[z])[0],U[1]]),k.push(U[2])}return G};var r=e(1731),f=e(2569),a=e(4434),s=e(5125),c=e(8846),u=e(7999),y=e(2826),v=e(8551),w=e(5528);function d(D){var N=u(D);return[v(N,-1/0),v(N,1/0)]}function h(D){for(var N=new Array(D.length),k=0;k<D.length;++k){var O=D[k];N[k]=[v(O[0],-1/0),v(O[1],-1/0),v(O[0],1/0),v(O[1],1/0)]}return N}function m(D,N,k){for(var O=N.length,B=new r(O),z=[],U=0;U<N.length;++U){var G=N[U],Q=d(G[0]),rt=d(G[1]);z.push([v(Q[0],-1/0),v(rt[0],-1/0),v(Q[1],1/0),v(rt[1],1/0)])}f(z,function(Z,H){B.link(Z,H)});var it=!0,ut=new Array(O);for(U=0;U<O;++U)(J=B.find(U))!==U&&(it=!1,D[J]=[Math.min(D[U][0],D[J][0]),Math.min(D[U][1],D[J][1])]);if(it)return null;var j=0;for(U=0;U<O;++U){var J;(J=B.find(U))===U?(ut[U]=j,D[j++]=D[U]):ut[U]=-1}for(D.length=j,U=0;U<O;++U)ut[U]<0&&(ut[U]=ut[B.find(U)]);return ut}function S(D,N){return D[0]-N[0]||D[1]-N[1]}function b(D,N){return D[0]-N[0]||D[1]-N[1]||(D[2]<N[2]?-1:D[2]>N[2]?1:0)}function n(D,N,k){if(0!==D.length){if(N)for(var O=0;O<D.length;++O){var z=N[(B=D[O])[0]],U=N[B[1]];B[0]=Math.min(z,U),B[1]=Math.max(z,U)}else for(O=0;O<D.length;++O){var B;z=(B=D[O])[0],U=B[1],B[0]=Math.min(z,U),B[1]=Math.max(z,U)}D.sort(k?b:S);var G=1;for(O=1;O<D.length;++O){var Q=D[O-1],rt=D[O];rt[0]===Q[0]&&rt[1]===Q[1]&&(!k||rt[2]===Q[2])||(D[G++]=rt)}D.length=G}}function p(D,N,k){var O=function o(D,N){for(var k=new Array(N.length),O=0;O<N.length;++O){var B=N[O],z=D[B[0]],U=D[B[1]];k[O]=[v(Math.min(z[0],U[0]),-1/0),v(Math.min(z[1],U[1]),-1/0),v(Math.max(z[0],U[0]),1/0),v(Math.max(z[1],U[1]),1/0)]}return k}(D,N),B=function M(D,N,k){var O=[];return f(k,function(B,z){var U=N[B],G=N[z];U[0]!==G[0]&&U[0]!==G[1]&&U[1]!==G[0]&&U[1]!==G[1]&&a(D[U[0]],D[U[1]],D[G[0]],D[G[1]])&&O.push([B,z])}),O}(D,N,O),z=h(D),U=function T(D,N,k,O){var B=[];return f(k,O,function(z,U){var G=N[z];if(G[0]!==U&&G[1]!==U){var Q=D[U];a(D[G[0]],D[G[1]],Q,Q)&&B.push([z,U])}}),B}(D,N,O,z),Q=m(D,function L(D,N,k,O,B){var z,U,G=D.map(function(Tt){return[s(Tt[0]),s(Tt[1])]});for(z=0;z<k.length;++z){var Q=k[z],rt=Q[1],it=N[U=Q[0]],ut=N[rt],J=w(y(D[it[0]]),y(D[it[1]]),y(D[ut[0]]),y(D[ut[1]]));if(J){var j=D.length;D.push([u(J[0]),u(J[1])]),G.push(J),O.push([U,j],[rt,j])}}for(O.sort(function(Tt,bt){if(Tt[0]!==bt[0])return Tt[0]-bt[0];var Dt=G[Tt[1]],Ft=G[bt[1]];return c(Dt[0],Ft[0])||c(Dt[1],Ft[1])}),z=O.length-1;z>=0;--z){var H=N[U=(Z=O[z])[0]],X=H[0],at=H[1],_=D[X],K=D[at];if((_[0]-K[0]||_[1]-K[1])<0){var nt=X;X=at,at=nt}H[0]=X;var st,et=H[1]=Z[1];for(B&&(st=H[2]);z>0&&O[z-1][0]===U;){var Z,dt=(Z=O[--z])[1];N.push(B?[et,dt,st]:[et,dt]),et=dt}N.push(B?[et,at,st]:[et,at])}return G}(D,N,B,U,k));return n(N,Q,k),!!Q||B.length>0||U.length>0}},5528:function(l,x,e){"use strict";l.exports=function w(d,o,h,M){var T=c(o,d),L=c(M,h),m=v(T,L);if(0===s(m))return null;var b=v(L,c(d,h)),n=f(b,m),C=y(T,n);return u(d,C)};var r=e(3962),f=e(9189),a=e(4354),s=e(4951),c=e(6695),u=e(7584),y=e(4469);function v(d,o){return a(r(d[0],o[1]),r(d[1],o[0]))}},5692:function(l){l.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(l,x,e){"use strict";var r=e(5692),f=e(3578);function s(y){return[y[0]/255,y[1]/255,y[2]/255,y[3]]}function c(y){for(var v,w="#",d=0;d<3;++d)w+=("00"+(v=(v=y[d]).toString(16))).substr(v.length);return w}function u(y){return"rgba("+y.join(",")+")"}l.exports=function a(y){var v,w,d,o,h,M,T,L,m,S;if(y||(y={}),L=(y.nshades||72)-1,T=y.format||"hex",(M=y.colormap)||(M="jet"),"string"==typeof M){if(M=M.toLowerCase(),!r[M])throw Error(M+" not a supported colorscale");h=r[M]}else{if(!Array.isArray(M))throw Error("unsupported colormap option",M);h=M.slice()}if(h.length>L+1)throw new Error(M+" map requires nshades to be at least size "+h.length);m=Array.isArray(y.alpha)?2!==y.alpha.length?[1,1]:y.alpha.slice():"number"==typeof y.alpha?[y.alpha,y.alpha]:[1,1],v=h.map(function(F){return Math.round(F.index*L)}),m[0]=Math.min(Math.max(m[0],0),1),m[1]=Math.min(Math.max(m[1],0),1);var b=h.map(function(F,D){var N=h[D].index,k=h[D].rgb.slice();return 4===k.length&&k[3]>=0&&k[3]<=1||(k[3]=m[0]+(m[1]-m[0])*N),k}),n=[];for(S=0;S<v.length-1;++S){o=v[S+1]-v[S],w=b[S],d=b[S+1];for(var C=0;C<o;C++){var p=C/o;n.push([Math.round(f(w[0],d[0],p)),Math.round(f(w[1],d[1],p)),Math.round(f(w[2],d[2],p)),f(w[3],d[3],p)])}}return n.push(h[h.length-1].rgb.concat(m[1])),"hex"===T?n=n.map(c):"rgbaString"===T?n=n.map(u):"float"===T&&(n=n.map(s)),n}},9398:function(l,x,e){"use strict";l.exports=function y(v,w,d,o){var h=r(w,d,o);if(0===h){var M=f(r(v,w,d)),T=f(r(v,w,o));if(M===T){if(0===M){var L=u(v,w,d);return L===u(v,w,o)?0:L?1:-1}return 0}return 0===T?M>0||u(v,w,o)?-1:1:0===M?T>0||u(v,w,d)?1:-1:f(T-M)}var S=r(v,w,d);return S>0?h>0&&r(v,w,o)>0?1:-1:S<0?h>0||r(v,w,o)>0?1:-1:r(v,w,o)>0||u(v,w,d)?1:-1};var r=e(417),f=e(7538),a=e(87),s=e(2019),c=e(9662);function u(v,w,d){var o=a(v[0],-w[0]),h=a(v[1],-w[1]),M=a(d[0],-w[0]),T=a(d[1],-w[1]),L=c(s(o,M),s(h,T));return L[L.length-1]>=0}},7538:function(l){"use strict";l.exports=function(e){return e<0?-1:e>0?1:0}},9209:function(l){l.exports=function r(f,a){var s=f.length,c=f.length-a.length;if(c)return c;switch(s){case 0:return 0;case 1:return f[0]-a[0];case 2:return f[0]+f[1]-a[0]-a[1]||x(f[0],f[1])-x(a[0],a[1]);case 3:var u=f[0]+f[1],y=a[0]+a[1];if(c=u+f[2]-(y+a[2]))return c;var v=x(f[0],f[1]),w=x(a[0],a[1]);return x(v,f[2])-x(w,a[2])||x(v+f[2],u)-x(w+a[2],y);case 4:var d=f[0],o=f[1],h=f[2],M=f[3],T=a[0],L=a[1],m=a[2],S=a[3];return d+o+h+M-(T+L+m+S)||x(d,o,h,M)-x(T,L,m,S,T)||x(d+o,d+h,d+M,o+h,o+M,h+M)-x(T+L,T+m,T+S,L+m,L+S,m+S)||x(d+o+h,d+o+M,d+h+M,o+h+M)-x(T+L+m,T+L+S,T+m+S,L+m+S);default:for(var b=f.slice().sort(e),n=a.slice().sort(e),C=0;C<s;++C)if(c=b[C]-n[C])return c;return 0}};var x=Math.min;function e(f,a){return f-a}},1284:function(l,x,e){"use strict";var r=e(9209),f=e(9887);l.exports=function a(s,c){return r(s,c)||f(s)-f(c)}},5537:function(l,x,e){"use strict";var r=e(8950),f=e(8722),a=e(3332);l.exports=function s(c){var u=c.length;if(0===u)return[];if(1===u)return[[0]];var y=c[0].length;return 0===y?[]:1===y?r(c):2===y?f(c):a(c,y)}},8950:function(l){"use strict";l.exports=function x(e){for(var r=0,f=0,a=1;a<e.length;++a)e[a][0]<e[r][0]&&(r=a),e[a][0]>e[f][0]&&(f=a);return r<f?[[r],[f]]:r>f?[[f],[r]]:[[r]]}},8722:function(l,x,e){"use strict";l.exports=function f(a){var s=r(a),c=s.length;if(c<=2)return[];for(var u=new Array(c),y=s[c-1],v=0;v<c;++v){var w=s[v];u[v]=[y,w],y=w}return u};var r=e(3266)},3332:function(l,x,e){"use strict";l.exports=function c(u,y){try{return r(u,!0)}catch(o){var v=f(u);if(v.length<=y)return[];var w=function a(u,y){for(var v=u.length,w=new Array(v),d=0;d<y.length;++d)w[d]=u[y[d]];var o=y.length;for(d=0;d<v;++d)y.indexOf(d)<0&&(w[o++]=u[d]);return w}(u,v);return function s(u,y){for(var v=u.length,w=y.length,d=0;d<v;++d)for(var o=u[d],h=0;h<o.length;++h){var M=o[h];if(M<w)o[h]=y[M];else{M-=w;for(var T=0;T<w;++T)M>=y[T]&&(M+=1);o[h]=M}}return u}(r(w,!0),v)}};var r=e(2183),f=e(2153)},9680:function(l){"use strict";l.exports=function e(r,f,a,s,c,u){var y=c-1,v=c*c,w=y*y,d=(1+2*c)*w,o=c*w,h=v*(3-2*c),M=v*y;if(r.length){u||(u=new Array(r.length));for(var T=r.length-1;T>=0;--T)u[T]=d*r[T]+o*f[T]+h*a[T]+M*s[T];return u}return d*r+o*f+h*a+M*s},l.exports.derivative=function x(r,f,a,s,c,u){var y=6*c*c-6*c,v=3*c*c-4*c+1,w=-6*c*c+6*c,d=3*c*c-2*c;if(r.length){u||(u=new Array(r.length));for(var o=r.length-1;o>=0;--o)u[o]=y*r[o]+v*f[o]+w*a[o]+d*s[o];return u}return y*r+v*f+w*a[o]+d*s}},4419:function(l,x,e){"use strict";var r=e(2183),f=e(1215);function a(y,v){this.point=y,this.index=v}function s(y,v){for(var w=y.point,d=v.point,o=w.length,h=0;h<o;++h){var M=d[h]-w[h];if(M)return M}return 0}l.exports=function u(y,v){var w=y.length;if(0===w)return[];var d=y[0].length;if(d<1)return[];if(1===d)return function c(y,v,w){if(1===y)return w?[[-1,0]]:[];var d=v.map(function(L,m){return[L[0],m]});d.sort(function(L,m){return L[0]-m[0]});for(var o=new Array(y-1),h=1;h<y;++h)o[h-1]=[d[h-1][1],d[h][1]];return w&&o.push([-1,o[0][1]],[o[y-1][1],-1]),o}(w,y,v);for(var o=new Array(w),h=1,M=0;M<w;++M){for(var T=y[M],L=new Array(d+1),m=0,S=0;S<d;++S){var b=T[S];L[S]=b,m+=b*b}L[d]=m,o[M]=new a(L,M),h=Math.max(m,h)}f(o,s),w=o.length;var n=new Array(w+d+1),C=new Array(w+d+1),p=(d+1)*(d+1)*h,F=new Array(d+1);for(M=0;M<=d;++M)F[M]=0;for(F[d]=p,n[0]=F.slice(),C[0]=-1,M=0;M<=d;++M)(L=F.slice())[M]=1,n[M+1]=L,C[M+1]=-1;for(M=0;M<w;++M)n[M+d+1]=(D=o[M]).point,C[M+d+1]=D.index;var N=r(n,!1);if(N=N.filter(v?function(k){for(var O=0,B=0;B<=d;++B){var z=C[k[B]];if(z<0&&++O>=2)return!1;k[B]=z}return!0}:function(k){for(var O=0;O<=d;++O){var B=C[k[O]];if(B<0)return!1;k[O]=B}return!0}),1&d)for(M=0;M<N.length;++M){var D;L=(D=N[M])[0],D[0]=D[1],D[1]=L}return N}},8362:function(l){var x=!1;if("undefined"!=typeof Float64Array){var e=new Float64Array(1),r=new Uint32Array(e.buffer);if(e[0]=1,x=!0,1072693248===r[1]){let h=function(L,m){return r[0]=L,r[1]=m,e[0]},M=function(L){return e[0]=L,r[0]},T=function(L){return e[0]=L,r[1]};l.exports=function(m){return e[0]=m,[r[0],r[1]]},l.exports.pack=h,l.exports.lo=M,l.exports.hi=T}else if(1072693248===r[0]){let h=function(L,m){return r[1]=L,r[0]=m,e[0]},M=function(L){return e[0]=L,r[1]},T=function(L){return e[0]=L,r[0]};l.exports=function(m){return e[0]=m,[r[1],r[0]]},l.exports.pack=h,l.exports.lo=M,l.exports.hi=T}else x=!1}if(!x){let h=function(L,m){return f.writeUInt32LE(L,0,!0),f.writeUInt32LE(m,4,!0),f.readDoubleLE(0,!0)},M=function(L){return f.writeDoubleLE(L,0,!0),f.readUInt32LE(0,!0)},T=function(L){return f.writeDoubleLE(L,0,!0),f.readUInt32LE(4,!0)};var f=new Buffer(8);l.exports=function(m){return f.writeDoubleLE(m,0,!0),[f.readUInt32LE(0,!0),f.readUInt32LE(4,!0)]},l.exports.pack=h,l.exports.lo=M,l.exports.hi=T}l.exports.sign=function(h){return l.exports.hi(h)>>>31},l.exports.exponent=function(h){return(l.exports.hi(h)<<1>>>21)-1023},l.exports.fraction=function(h){var M=l.exports.lo(h),T=l.exports.hi(h),L=1048575&T;return 2146435072&T&&(L+=1048576),[M,L]},l.exports.denormalized=function(h){return!(2146435072&l.exports.hi(h))}},3094:function(l){"use strict";function x(f,a,s){var c=0|f[s];if(c<=0)return[];var y,u=new Array(c);if(s===f.length-1)for(y=0;y<c;++y)u[y]=a;else for(y=0;y<c;++y)u[y]=x(f,a,s+1);return u}l.exports=function r(f,a){switch(void 0===a&&(a=0),typeof f){case"number":if(f>0)return function e(f,a){var s,c;for(s=new Array(f),c=0;c<f;++c)s[c]=a;return s}(0|f,a);break;case"object":if("number"==typeof f.length)return x(f,a,0)}return[]}},8348:function(l,x,e){"use strict";l.exports=function f(a,s){var c=a.length;if("number"!=typeof s){s=0;for(var u=0;u<c;++u){var y=a[u];s=Math.max(s,y[0],y[1])}s=1+(0|s)}s|=0;var v=new Array(s);for(u=0;u<s;++u)v[u]=[];for(u=0;u<c;++u)v[(y=a[u])[0]].push(y[1]),v[y[1]].push(y[0]);for(var w=0;w<s;++w)r(v[w],function(d,o){return d-o});return v};var r=e(1215)},5795:function(l){"use strict";l.exports=function x(e,r,f){var a=r||0,s=f||1;return[[e[12]+e[0],e[13]+e[1],e[14]+e[2],e[15]+e[3]],[e[12]-e[0],e[13]-e[1],e[14]-e[2],e[15]-e[3]],[e[12]+e[4],e[13]+e[5],e[14]+e[6],e[15]+e[7]],[e[12]-e[4],e[13]-e[5],e[14]-e[6],e[15]-e[7]],[a*e[12]+e[8],a*e[13]+e[9],a*e[14]+e[10],a*e[15]+e[11]],[s*e[12]-e[8],s*e[13]-e[9],s*e[14]-e[10],s*e[15]-e[11]]]}},8444:function(l,x,e){"use strict";l.exports=function y(v,w,d){switch(arguments.length){case 0:return new s([0],[0],0);case 1:return"number"==typeof v?new s(o=u(v),o,0):new s(v,u(v.length),0);case 2:var o;if("number"==typeof w)return new s(v,o=u(v.length),+w);d=0;case 3:if(v.length!==w.length)throw new Error("state and velocity lengths must match");return new s(v,w,d)}};var r=e(9680),f=e(5070);function a(v,w,d){return Math.min(w,Math.max(v,d))}function s(v,w,d){this.dimension=v.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=v.slice().reverse(),this._velocity=w.slice().reverse(),this._time=[d],this._scratch=[v.slice(),v.slice(),v.slice(),v.slice(),v.slice()]}var c=s.prototype;function u(v){for(var w=new Array(v),d=0;d<v;++d)w[d]=0;return w}c.flush=function(v){var w=f.gt(this._time,v)-1;w<=0||(this._time.splice(0,w),this._state.splice(0,w*this.dimension),this._velocity.splice(0,w*this.dimension))},c.curve=function(v){var w=this._time,d=w.length,o=f.le(w,v),h=this._scratch[0],M=this._state,T=this._velocity,L=this.dimension,m=this.bounds;if(o<0)for(var S=L-1,b=0;b<L;++b,--S)h[b]=M[S];else if(o>=d-1){S=M.length-1;var n=v-w[d-1];for(b=0;b<L;++b,--S)h[b]=M[S]+n*T[S]}else{S=L*(o+1)-1;var C=w[o],F=w[o+1]-C||1,D=this._scratch[1],N=this._scratch[2],k=this._scratch[3],O=this._scratch[4],B=!0;for(b=0;b<L;++b,--S)D[b]=M[S],k[b]=T[S]*F,N[b]=M[S+L],O[b]=T[S+L]*F,B=B&&D[b]===N[b]&&k[b]===O[b]&&0===k[b];if(B)for(b=0;b<L;++b)h[b]=D[b];else r(D,k,N,O,(v-C)/F,h)}var z=m[0],U=m[1];for(b=0;b<L;++b)h[b]=a(z[b],U[b],h[b]);return h},c.dcurve=function(v){var w=this._time,d=w.length,o=f.le(w,v),h=this._scratch[0],M=this._state,T=this._velocity,L=this.dimension;if(o>=d-1)for(var m=M.length-1,b=0;b<L;++b,--m)h[b]=T[m];else{m=L*(o+1)-1;var n=w[o],p=w[o+1]-n||1,F=this._scratch[1],D=this._scratch[2],N=this._scratch[3],k=this._scratch[4],O=!0;for(b=0;b<L;++b,--m)F[b]=M[m],N[b]=T[m]*p,D[b]=M[m+L],k[b]=T[m+L]*p,O=O&&F[b]===D[b]&&N[b]===k[b]&&0===N[b];if(O)for(b=0;b<L;++b)h[b]=0;else for(r.derivative(F,N,D,k,(v-n)/p,h),b=0;b<L;++b)h[b]/=p}return h},c.lastT=function(){var v=this._time;return v[v.length-1]},c.stable=function(){for(var v=this._velocity,w=v.length,d=this.dimension-1;d>=0;--d)if(v[--w])return!1;return!0},c.jump=function(v){var w=this.lastT(),d=this.dimension;if(!(v<w||arguments.length!==d+1)){var o=this._state,h=this._velocity,M=o.length-this.dimension,T=this.bounds,L=T[0],m=T[1];this._time.push(w,v);for(var S=0;S<2;++S)for(var b=0;b<d;++b)o.push(o[M++]),h.push(0);for(this._time.push(v),b=d;b>0;--b)o.push(a(L[b-1],m[b-1],arguments[b])),h.push(0)}},c.push=function(v){var w=this.lastT(),d=this.dimension;if(!(v<w||arguments.length!==d+1)){var o=this._state,h=this._velocity,M=o.length-this.dimension,T=v-w,L=this.bounds,m=L[0],S=L[1],b=T>1e-6?1/T:0;this._time.push(v);for(var n=d;n>0;--n){var C=a(m[n-1],S[n-1],arguments[n]);o.push(C),h.push((C-o[M++])*b)}}},c.set=function(v){var w=this.dimension;if(!(v<this.lastT()||arguments.length!==w+1)){var d=this._state,o=this._velocity,h=this.bounds,M=h[0],T=h[1];this._time.push(v);for(var L=w;L>0;--L)d.push(a(M[L-1],T[L-1],arguments[L])),o.push(0)}},c.move=function(v){var w=this.lastT(),d=this.dimension;if(!(v<=w||arguments.length!==d+1)){var o=this._state,h=this._velocity,M=o.length-this.dimension,T=this.bounds,L=T[0],m=T[1],S=v-w,b=S>1e-6?1/S:0;this._time.push(v);for(var n=d;n>0;--n){var C=arguments[n];o.push(a(L[n-1],m[n-1],o[M++]+C)),h.push(C*b)}}},c.idle=function(v){var w=this.lastT();if(!(v<w)){var d=this.dimension,o=this._state,h=this._velocity,M=o.length-d,T=this.bounds,L=T[0],m=T[1],S=v-w;this._time.push(v);for(var b=d-1;b>=0;--b)o.push(a(L[b],m[b],o[M]+S*h[M])),h.push(0),M+=1}}},7080:function(l){"use strict";l.exports=function L(m){return new c(m||T,null)};function r(m,S,b,n,C,p){this._color=m,this.key=S,this.value=b,this.left=n,this.right=C,this._count=p}function f(m){return new r(m._color,m.key,m.value,m.left,m.right,m._count)}function a(m,S){return new r(m,S.key,S.value,S.left,S.right,S._count)}function s(m){m._count=1+(m.left?m.left._count:0)+(m.right?m.right._count:0)}function c(m,S){this._compare=m,this.root=S}var u=c.prototype;function y(m,S){var b;return S.left&&(b=y(m,S.left))?b:(b=m(S.key,S.value))||(S.right?y(m,S.right):void 0)}function v(m,S,b,n){if(S(m,n.key)<=0){var p;if(n.left&&(p=v(m,S,b,n.left)))return p;if(p=b(n.key,n.value))return p}if(n.right)return v(m,S,b,n.right)}function w(m,S,b,n,C){var D,p=b(m,C.key),F=b(S,C.key);return p<=0&&(C.left&&(D=w(m,S,b,n,C.left))||F>0&&(D=n(C.key,C.value)))?D:F>0&&C.right?w(m,S,b,n,C.right):void 0}function d(m,S){this.tree=m,this._stack=S}Object.defineProperty(u,"keys",{get:function(){var m=[];return this.forEach(function(S,b){m.push(S)}),m}}),Object.defineProperty(u,"values",{get:function(){var m=[];return this.forEach(function(S,b){m.push(b)}),m}}),Object.defineProperty(u,"length",{get:function(){return this.root?this.root._count:0}}),u.insert=function(m,S){for(var b=this._compare,n=this.root,C=[],p=[];n;){var F=b(m,n.key);C.push(n),p.push(F),n=F<=0?n.left:n.right}C.push(new r(0,m,S,null,null,1));for(var D=C.length-2;D>=0;--D)n=C[D],C[D]=p[D]<=0?new r(n._color,n.key,n.value,C[D+1],n.right,n._count+1):new r(n._color,n.key,n.value,n.left,C[D+1],n._count+1);for(D=C.length-1;D>1;--D){var N=C[D-1];if(n=C[D],1===N._color||1===n._color)break;var k=C[D-2];if(k.left===N)if(N.left===n){if(!(O=k.right)||0!==O._color){k._color=0,k.left=N.right,N._color=1,N.right=k,C[D-2]=N,C[D-1]=n,s(k),s(N),D>=3&&((B=C[D-3]).left===k?B.left=N:B.right=N);break}N._color=1,k.right=a(1,O),k._color=0,D-=1}else{if(!(O=k.right)||0!==O._color){N.right=n.left,k._color=0,k.left=n.right,n._color=1,n.left=N,n.right=k,C[D-2]=n,C[D-1]=N,s(k),s(N),s(n),D>=3&&((B=C[D-3]).left===k?B.left=n:B.right=n);break}N._color=1,k.right=a(1,O),k._color=0,D-=1}else if(N.right===n){if(!(O=k.left)||0!==O._color){k._color=0,k.right=N.left,N._color=1,N.left=k,C[D-2]=N,C[D-1]=n,s(k),s(N),D>=3&&((B=C[D-3]).right===k?B.right=N:B.left=N);break}N._color=1,k.left=a(1,O),k._color=0,D-=1}else{var O;if(!(O=k.left)||0!==O._color){var B;N.left=n.right,k._color=0,k.right=n.left,n._color=1,n.right=N,n.left=k,C[D-2]=n,C[D-1]=N,s(k),s(N),s(n),D>=3&&((B=C[D-3]).right===k?B.right=n:B.left=n);break}N._color=1,k.left=a(1,O),k._color=0,D-=1}}return C[0]._color=1,new c(b,C[0])},u.forEach=function(S,b,n){if(this.root)switch(arguments.length){case 1:return y(S,this.root);case 2:return v(b,this._compare,S,this.root);case 3:return this._compare(b,n)>=0?void 0:w(b,n,this._compare,S,this.root)}},Object.defineProperty(u,"begin",{get:function(){for(var m=[],S=this.root;S;)m.push(S),S=S.left;return new d(this,m)}}),Object.defineProperty(u,"end",{get:function(){for(var m=[],S=this.root;S;)m.push(S),S=S.right;return new d(this,m)}}),u.at=function(m){if(m<0)return new d(this,[]);for(var S=this.root,b=[];;){if(b.push(S),S.left){if(m<S.left._count){S=S.left;continue}m-=S.left._count}if(!m)return new d(this,b);if(m-=1,!S.right)break;if(m>=S.right._count)break;S=S.right}return new d(this,[])},u.ge=function(m){for(var S=this._compare,b=this.root,n=[],C=0;b;){var p=S(m,b.key);n.push(b),p<=0&&(C=n.length),b=p<=0?b.left:b.right}return n.length=C,new d(this,n)},u.gt=function(m){for(var S=this._compare,b=this.root,n=[],C=0;b;){var p=S(m,b.key);n.push(b),p<0&&(C=n.length),b=p<0?b.left:b.right}return n.length=C,new d(this,n)},u.lt=function(m){for(var S=this._compare,b=this.root,n=[],C=0;b;){var p=S(m,b.key);n.push(b),p>0&&(C=n.length),b=p<=0?b.left:b.right}return n.length=C,new d(this,n)},u.le=function(m){for(var S=this._compare,b=this.root,n=[],C=0;b;){var p=S(m,b.key);n.push(b),p>=0&&(C=n.length),b=p<0?b.left:b.right}return n.length=C,new d(this,n)},u.find=function(m){for(var S=this._compare,b=this.root,n=[];b;){var C=S(m,b.key);if(n.push(b),0===C)return new d(this,n);b=C<=0?b.left:b.right}return new d(this,[])},u.remove=function(m){var S=this.find(m);return S?S.remove():this},u.get=function(m){for(var S=this._compare,b=this.root;b;){var n=S(m,b.key);if(0===n)return b.value;b=n<=0?b.left:b.right}};var o=d.prototype;function h(m,S){m.key=S.key,m.value=S.value,m.left=S.left,m.right=S.right,m._color=S._color,m._count=S._count}function T(m,S){return m<S?-1:m>S?1:0}Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new d(this.tree,this._stack.slice())},o.remove=function(){var m=this._stack;if(0===m.length)return this.tree;var S=new Array(m.length);S[S.length-1]=new r((b=m[m.length-1])._color,b.key,b.value,b.left,b.right,b._count);for(var n=m.length-2;n>=0;--n){var b;S[n]=(b=m[n]).left===m[n+1]?new r(b._color,b.key,b.value,S[n+1],b.right,b._count):new r(b._color,b.key,b.value,b.left,S[n+1],b._count)}if((b=S[S.length-1]).left&&b.right){var C=S.length;for(b=b.left;b.right;)S.push(b),b=b.right;var p=S[C-1];for(S.push(new r(b._color,p.key,p.value,b.left,b.right,b._count)),S[C-1].key=b.key,S[C-1].value=b.value,n=S.length-2;n>=C;--n)S[n]=new r((b=S[n])._color,b.key,b.value,b.left,S[n+1],b._count);S[C-1].left=S[C]}if(0===(b=S[S.length-1])._color){var F=S[S.length-2];for(F.left===b?F.left=null:F.right===b&&(F.right=null),S.pop(),n=0;n<S.length;++n)S[n]._count--;return new c(this.tree._compare,S[0])}if(b.left||b.right){for(b.left?h(b,b.left):b.right&&h(b,b.right),b._color=1,n=0;n<S.length-1;++n)S[n]._count--;return new c(this.tree._compare,S[0])}if(1===S.length)return new c(this.tree._compare,null);for(n=0;n<S.length;++n)S[n]._count--;var D=S[S.length-2];return function M(m){for(var S,b,n,C,p=m.length-1;p>=0;--p){if(S=m[p],0===p)return void(S._color=1);if((b=m[p-1]).left===S){if((n=b.right).right&&0===n.right._color)return C=(n=b.right=f(n)).right=f(n.right),b.right=n.left,n.left=b,n.right=C,n._color=b._color,S._color=1,b._color=1,C._color=1,s(b),s(n),p>1&&((F=m[p-2]).left===b?F.left=n:F.right=n),void(m[p-1]=n);if(n.left&&0===n.left._color)return C=(n=b.right=f(n)).left=f(n.left),b.right=C.left,n.left=C.right,C.left=b,C.right=n,C._color=b._color,b._color=1,n._color=1,S._color=1,s(b),s(n),s(C),p>1&&((F=m[p-2]).left===b?F.left=C:F.right=C),void(m[p-1]=C);if(1===n._color){if(0===b._color)return b._color=1,void(b.right=a(0,n));b.right=a(0,n);continue}n=f(n),b.right=n.left,n.left=b,n._color=b._color,b._color=0,s(b),s(n),p>1&&((F=m[p-2]).left===b?F.left=n:F.right=n),m[p-1]=n,m[p]=b,p+1<m.length?m[p+1]=S:m.push(S),p+=2}else{if((n=b.left).left&&0===n.left._color)return C=(n=b.left=f(n)).left=f(n.left),b.left=n.right,n.right=b,n.left=C,n._color=b._color,S._color=1,b._color=1,C._color=1,s(b),s(n),p>1&&((F=m[p-2]).right===b?F.right=n:F.left=n),void(m[p-1]=n);if(n.right&&0===n.right._color)return C=(n=b.left=f(n)).right=f(n.right),b.left=C.right,n.right=C.left,C.right=b,C.left=n,C._color=b._color,b._color=1,n._color=1,S._color=1,s(b),s(n),s(C),p>1&&((F=m[p-2]).right===b?F.right=C:F.left=C),void(m[p-1]=C);if(1===n._color){if(0===b._color)return b._color=1,void(b.left=a(0,n));b.left=a(0,n);continue}var F;n=f(n),b.left=n.right,n.right=b,n._color=b._color,b._color=0,s(b),s(n),p>1&&((F=m[p-2]).right===b?F.right=n:F.left=n),m[p-1]=n,m[p]=b,p+1<m.length?m[p+1]=S:m.push(S),p+=2}}}(S),D.left===b?D.left=null:D.right=null,new c(this.tree._compare,S[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var m=0,S=this._stack;if(0===S.length){var b=this.tree.root;return b?b._count:0}S[S.length-1].left&&(m=S[S.length-1].left._count);for(var n=S.length-2;n>=0;--n)S[n+1]===S[n].right&&(++m,S[n].left&&(m+=S[n].left._count));return m},enumerable:!0}),o.next=function(){var m=this._stack;if(0!==m.length){var S=m[m.length-1];if(S.right)for(S=S.right;S;)m.push(S),S=S.left;else for(m.pop();m.length>0&&m[m.length-1].right===S;)S=m[m.length-1],m.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var m=this._stack;if(0===m.length)return!1;if(m[m.length-1].right)return!0;for(var S=m.length-1;S>0;--S)if(m[S-1].left===m[S])return!0;return!1}}),o.update=function(m){var S=this._stack;if(0===S.length)throw new Error("Can't update empty node!");var b=new Array(S.length),n=S[S.length-1];b[b.length-1]=new r(n._color,n.key,m,n.left,n.right,n._count);for(var C=S.length-2;C>=0;--C)b[C]=(n=S[C]).left===S[C+1]?new r(n._color,n.key,n.value,b[C+1],n.right,n._count):new r(n._color,n.key,n.value,n.left,b[C+1],n._count);return new c(this.tree._compare,b[0])},o.prev=function(){var m=this._stack;if(0!==m.length){var S=m[m.length-1];if(S.left)for(S=S.left;S;)m.push(S),S=S.right;else for(m.pop();m.length>0&&m[m.length-1].left===S;)S=m[m.length-1],m.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var m=this._stack;if(0===m.length)return!1;if(m[m.length-1].left)return!0;for(var S=m.length-1;S>0;--S)if(m[S-1].right===m[S])return!0;return!1}})},7453:function(l,x,e){"use strict";l.exports=function n(C,p){var F=new v(C);return F.update(p),F};var r=e(9557),f=e(1681),a=e(1011),s=e(2864),c=e(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function y(C,p){return C[0]=p[0],C[1]=p[1],C[2]=p[2],C}function v(C){this.gl=C,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=a(C)}var w=v.prototype;function d(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}w.update=function(C){function p(it,ut,J){if(J in C){var H,j=C[J],Z=this[J];this[J]=H=(it?Array.isArray(j)&&Array.isArray(j[0]):Array.isArray(j))?[ut(j[0]),ut(j[1]),ut(j[2])]:[ut(j),ut(j),ut(j)];for(var X=0;X<3;++X)if(H[X]!==Z[X])return!0}return!1}C=C||{};var O,F=p.bind(this,!1,Number),D=p.bind(this,!1,Boolean),N=p.bind(this,!1,String),k=p.bind(this,!0,function(it){if(Array.isArray(it)){if(3===it.length)return[+it[0],+it[1],+it[2],1];if(4===it.length)return[+it[0],+it[1],+it[2],+it[3]]}return[0,0,0,1]}),B=!1,z=!1;if("bounds"in C)for(var U=C.bounds,G=0;G<2;++G)for(var Q=0;Q<3;++Q)U[G][Q]!==this.bounds[G][Q]&&(z=!0),this.bounds[G][Q]=U[G][Q];if("ticks"in C)for(O=C.ticks,B=!0,this.autoTicks=!1,G=0;G<3;++G)this.tickSpacing[G]=0;else F("tickSpacing")&&(this.autoTicks=!0,z=!0);if(this._firstInit&&("ticks"in C||"tickSpacing"in C||(this.autoTicks=!0),z=!0,B=!0,this._firstInit=!1),z&&this.autoTicks&&(O=c.create(this.bounds,this.tickSpacing),B=!0),B){for(G=0;G<3;++G)O[G].sort(function(ut,J){return ut.x-J.x});c.equal(O,this.ticks)?B=!1:this.ticks=O}D("tickEnable"),N("tickFont")&&(B=!0),F("tickSize"),F("tickAngle"),F("tickPad"),k("tickColor");var rt=N("labels");N("labelFont")&&(rt=!0),D("labelEnable"),F("labelSize"),F("labelPad"),k("labelColor"),D("lineEnable"),D("lineMirror"),F("lineWidth"),k("lineColor"),D("lineTickEnable"),D("lineTickMirror"),F("lineTickLength"),F("lineTickWidth"),k("lineTickColor"),D("gridEnable"),F("gridWidth"),k("gridColor"),D("zeroEnable"),k("zeroLineColor"),F("zeroLineWidth"),D("backgroundEnable"),k("backgroundColor"),this._text?this._text&&(rt||B)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&B&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=f(this.gl,this.bounds,this.ticks))};var o=[new d,new d,new d];function h(C,p,F,D,N){for(var k=C.primalOffset,O=C.primalMinor,B=C.mirrorOffset,z=C.mirrorMinor,U=D[p],G=0;G<3;++G)if(p!==G){var Q=k,rt=B,it=O,ut=z;U&1<<G&&(Q=B,rt=k,it=z,ut=O),Q[G]=F[0][G],rt[G]=F[1][G],N[G]>0?(it[G]=-1,ut[G]=0):(it[G]=0,ut[G]=1)}}var M=[0,0,0],T={model:u,view:u,projection:u,_ortho:!1};w.isOpaque=function(){return!0},w.isTransparent=function(){return!1},w.drawTransparent=function(C){};var m=[0,0,0],S=[0,0,0],b=[0,0,0];w.draw=function(C){for(var Z=this.gl,p=(C=C||T).model||u,F=C.view||u,D=C.projection||u,N=this.bounds,k=C._ortho||!1,O=s(p,F,D,N,k),B=O.cubeEdges,z=O.axis,ut=(k?2:1)*this.pixelRatio*(D[3]*F[12]+D[7]*F[13]+D[11]*F[14]+D[15]*F[15])/Z.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=B[J],this.lastCubeProps.axis[J]=z[J];var j=o;for(J=0;J<3;++J)h(o[J],J,this.bounds,B,z);Z=this.gl;var H=M;for(J=0;J<3;++J)H[J]=this.backgroundEnable[J]?z[J]:0;for(this._background.draw(p,F,D,N,H,this.backgroundColor),this._lines.bind(p,F,D,this),J=0;J<3;++J){var X=[0,0,0];X[J]=z[J]>0?N[1][J]:N[0][J];for(var at=0;at<2;++at){var K=(J+1+(1^at))%3;this.gridEnable[_=(J+1+at)%3]&&this._lines.drawGrid(_,K,this.bounds,X,this.gridColor[_],this.gridWidth[_]*this.pixelRatio)}for(at=0;at<2;++at){var _=(J+1+at)%3;this.zeroEnable[K=(J+1+(1^at))%3]&&Math.min(N[0][K],N[1][K])<=0&&Math.max(N[0][K],N[1][K])>=0&&this._lines.drawZero(_,K,this.bounds,X,this.zeroLineColor[K],this.zeroLineWidth[K]*this.pixelRatio)}}for(J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,j[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,j[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);var nt=y(m,j[J].primalMinor),et=y(S,j[J].mirrorMinor),st=this.lineTickLength;for(at=0;at<3;++at){var dt=ut/p[5*at];nt[at]*=st[at]*dt,et[at]*=st[at]*dt}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,j[J].primalOffset,nt,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,j[J].mirrorOffset,et,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}this._lines.unbind(),this._text.bind(p,F,D,this.pixelRatio);var Tt,Dt,Ft,Vt,te,_t,kt,zt,qt,ae,oe,pe;function Mt(Vt){(Ft=[0,0,0])[Vt]=1}for(J=0;J<3;++J){var St=j[J].primalMinor,Ut=j[J].mirrorMinor,Gt=y(b,j[J].primalOffset);for(at=0;at<3;++at)this.lineTickEnable[J]&&(Gt[at]+=ut*St[at]*Math.max(this.lineTickLength[at],0)/p[5*at]);var Pt=[0,0,0];if(Pt[J]=1,this.tickEnable[J]){for(-3600===this.tickAngle[J]?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,(Tt=[this.tickAlign[J],.5,Dt=1])[0]="auto"===Tt[0]?0:parseInt(""+Tt[0]),Ft=[0,0,0],kt=void 0,zt=void 0,qt=void 0,ae=void 0,oe=void 0,pe=void 0,ae=(te=St)[zt=((Vt=J)+2)%3],oe=(_t=Ut)[kt=(Vt+1)%3],pe=_t[zt],(qt=te[kt])>0&&pe>0||qt>0&&pe<0||qt<0&&pe>0||qt<0&&pe<0?Mt(kt):(ae>0&&oe>0||ae>0&&oe<0||ae<0&&oe>0||ae<0&&oe<0)&&Mt(zt),at=0;at<3;++at)Gt[at]+=ut*St[at]*this.tickPad[at]/p[5*at];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],Gt,this.tickColor[J],Pt,Ft,Tt)}if(this.labelEnable[J]){for(Dt=0,Ft=[0,0,0],this.labels[J].length>4&&(Mt(J),Dt=1),(Tt=[this.labelAlign[J],.5,Dt])[0]="auto"===Tt[0]?0:parseInt(""+Tt[0]),at=0;at<3;++at)Gt[at]+=ut*St[at]*this.labelPad[at]/p[5*at];Gt[J]+=.5*(N[0][J]+N[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],Gt,this.labelColor[J],[0,0,0],Ft,Tt)}}this._text.unbind()},w.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(l,x,e){"use strict";l.exports=function u(y){for(var v=[],w=[],d=0,o=0;o<3;++o)for(var h=(o+1)%3,M=(o+2)%3,T=[0,0,0],L=[0,0,0],m=-1;m<=1;m+=2){w.push(d,d+2,d+1,d+1,d+2,d+3),T[o]=m,L[o]=m;for(var S=-1;S<=1;S+=2){T[h]=S;for(var b=-1;b<=1;b+=2)T[M]=b,v.push(T[0],T[1],T[2],L[0],L[1],L[2]),d+=1}var n=h;h=M,M=n}var C=r(y,new Float32Array(v)),p=r(y,new Uint16Array(w),y.ELEMENT_ARRAY_BUFFER),F=f(y,[{buffer:C,type:y.FLOAT,size:3,offset:0,stride:24},{buffer:C,type:y.FLOAT,size:3,offset:12,stride:24}],p),D=a(y);return D.attributes.position.location=0,D.attributes.normal.location=1,new s(y,C,F,D)};var r=e(5827),f=e(2944),a=e(1943).bg;function s(y,v,w,d){this.gl=y,this.buffer=v,this.vao=w,this.shader=d}var c=s.prototype;c.draw=function(y,v,w,d,o,h){for(var M=!1,T=0;T<3;++T)M=M||o[T];if(M){var L=this.gl;L.enable(L.POLYGON_OFFSET_FILL),L.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:y,view:v,projection:w,bounds:d,enable:o,colors:h},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),L.disable(L.POLYGON_OFFSET_FILL)}},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(l,x,e){"use strict";l.exports=function m(S,b,n,C,p){f(c,b,S),f(c,n,c);for(var F=0,D=0;D<2;++D){v[2]=C[D][2];for(var N=0;N<2;++N){v[1]=C[N][1];for(var k=0;k<2;++k)v[0]=C[k][0],d(u[F],v,c),F+=1}}var O=-1;for(D=0;D<8;++D){for(var B=u[D][3],z=0;z<3;++z)y[D][z]=u[D][z]/B;p&&(y[D][2]*=-1),B<0&&(O<0||y[D][2]<y[O][2])&&(O=D)}if(O<0){O=0;for(var U=0;U<3;++U){for(var G=(U+2)%3,Q=(U+1)%3,rt=-1,it=-1,ut=0;ut<2;++ut)s(y[J=ut<<U],y[J+(ut<<G)+(1-ut<<Q)],y[J+(1-ut<<G)+(ut<<Q)],w)<0||(ut?rt=1:it=1);if(rt<0||it<0)it>rt&&(O|=1<<U);else{for(ut=0;ut<2;++ut){var J,H=h([u[J=ut<<U],u[J+(ut<<G)+(1-ut<<Q)],u[J+(1-ut<<G)+(ut<<Q)],u[J+(1<<G)+(1<<Q)]]);ut?rt=H:it=H}it>rt&&(O|=1<<U)}}}var X=7^O,at=-1;for(D=0;D<8;++D)D===O||D===X||(at<0||y[at][1]>y[D][1])&&(at=D);var _=-1;for(D=0;D<3;++D)(K=at^1<<D)!==O&&K!==X&&(_<0&&(_=K),(Q=y[K])[0]<y[_][0]&&(_=K));var nt=-1;for(D=0;D<3;++D){var K;(K=at^1<<D)!==O&&K!==X&&K!==_&&(nt<0&&(nt=K),(Q=y[K])[0]>y[nt][0]&&(nt=K))}var et=M;et[0]=et[1]=et[2]=0,et[r.log2(_^at)]=at&_,et[r.log2(at^nt)]=at&nt;var st=7^nt;st===O||st===X?et[r.log2(nt^(st=7^_))]=st&nt:et[r.log2(_^st)]=st&_;var dt=T,Tt=O;for(U=0;U<3;++U)dt[U]=Tt&1<<U?-1:1;return L};var r=e(2288),f=e(104),a=e(4670),s=e(417),c=new Array(16),u=new Array(8),y=new Array(8),v=new Array(3),w=[0,0,0];function d(S,b,n){for(var C=0;C<4;++C){S[C]=n[12+C];for(var p=0;p<3;++p)S[C]+=b[p]*n[4*p+C]}}!function(){for(var S=0;S<8;++S)u[S]=[1,1,1,1],y[S]=[1,1,1]}();var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function h(S){for(var b=0;b<o.length;++b)if((S=a.positive(S,o[b])).length<3)return 0;var n=S[0],C=n[0]/n[3],p=n[1]/n[3],F=0;for(b=1;b+1<S.length;++b){var D=S[b],N=S[b+1];F+=Math.abs((D[0]/D[3]-C)*(N[1]/N[3]-p)-(D[1]/D[3]-p)*(N[0]/N[3]-C))}return F}var M=[1,1,1],T=[0,0,0],L={cubeEdges:M,axis:T}},1681:function(l,x,e){"use strict";l.exports=function M(T,L,m){var S=[],b=[0,0,0],n=[0,0,0],C=[0,0,0],p=[0,0,0];S.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var F=0;F<3;++F){for(var k=S.length/3|0,D=0;D<m[F].length;++D)S.push(N=+m[F][D].x,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1);var B=S.length/3|0;b[F]=k,n[F]=B-k,k=S.length/3|0;for(var O=0;O<m[F].length;++O){var N;S.push(N=+m[F][O].x,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}B=S.length/3|0,C[F]=k,p[F]=B-k}var z=r(T,new Float32Array(S)),U=f(T,[{buffer:z,type:T.FLOAT,size:3,stride:0,offset:0}]),G=a(T);return G.attributes.position.location=0,new o(T,z,U,G,n,b,p,C)};var r=e(5827),f=e(2944),a=e(1943).j,s=[0,0,0],c=[0,0,0],u=[0,0,0],y=[0,0,0],v=[1,1];function w(T){return T[0]=T[1]=T[2]=0,T}function d(T,L){return T[0]=L[0],T[1]=L[1],T[2]=L[2],T}function o(T,L,m,S,b,n,C,p){this.gl=T,this.vertBuffer=L,this.vao=m,this.shader=S,this.tickCount=b,this.tickOffset=n,this.gridCount=C,this.gridOffset=p}var h=o.prototype;h.bind=function(T,L,m){this.shader.bind(),this.shader.uniforms.model=T,this.shader.uniforms.view=L,this.shader.uniforms.projection=m,v[0]=this.gl.drawingBufferWidth,v[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=v,this.vao.bind()},h.unbind=function(){this.vao.unbind()},h.drawAxisLine=function(T,L,m,S,b){var n=w(c);this.shader.uniforms.majorAxis=c,n[T]=L[1][T]-L[0][T],this.shader.uniforms.minorAxis=n;var p,C=d(y,m);C[T]+=L[0][T],this.shader.uniforms.offset=C,this.shader.uniforms.lineWidth=b,this.shader.uniforms.color=S,(p=w(u))[(T+2)%3]=1,this.shader.uniforms.screenAxis=p,this.vao.draw(this.gl.TRIANGLES,6),(p=w(u))[(T+1)%3]=1,this.shader.uniforms.screenAxis=p,this.vao.draw(this.gl.TRIANGLES,6)},h.drawAxisTicks=function(T,L,m,S,b){if(this.tickCount[T]){var n=w(s);n[T]=1,this.shader.uniforms.majorAxis=n,this.shader.uniforms.offset=L,this.shader.uniforms.minorAxis=m,this.shader.uniforms.color=S,this.shader.uniforms.lineWidth=b;var C=w(u);C[T]=1,this.shader.uniforms.screenAxis=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[T],this.tickOffset[T])}},h.drawGrid=function(T,L,m,S,b,n){if(this.gridCount[T]){var C=w(c);C[L]=m[1][L]-m[0][L],this.shader.uniforms.minorAxis=C;var p=d(y,S);p[L]+=m[0][L],this.shader.uniforms.offset=p;var F=w(s);F[T]=1,this.shader.uniforms.majorAxis=F;var D=w(u);D[T]=1,this.shader.uniforms.screenAxis=D,this.shader.uniforms.lineWidth=n,this.shader.uniforms.color=b,this.vao.draw(this.gl.TRIANGLES,this.gridCount[T],this.gridOffset[T])}},h.drawZero=function(T,L,m,S,b,n){var C=w(c);this.shader.uniforms.majorAxis=C,C[T]=m[1][T]-m[0][T],this.shader.uniforms.minorAxis=C;var p=d(y,S);p[T]+=m[0][T],this.shader.uniforms.offset=p;var F=w(u);F[L]=1,this.shader.uniforms.screenAxis=F,this.shader.uniforms.lineWidth=n,this.shader.uniforms.color=b,this.vao.draw(this.gl.TRIANGLES,6)},h.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(l,x,e){"use strict";var r=e(6832),f=e(5158),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);x.j=function(w){return f(w,a,s,null,[{name:"position",type:"vec3"}])};var c=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);x.f=function(w){return f(w,c,u,null,[{name:"position",type:"vec3"}])};var y=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),v=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);x.bg=function(w){return f(w,y,v,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(l,x,e){"use strict";l.exports=function h(M,T,L,m,S,b){var n=r(M),C=f(M,[{buffer:n,size:3}]),p=s(M);p.attributes.position.location=0;var F=new v(M,p,n,C);return F.update(T,L,m,S,b),F};var r=e(5827),f=e(2944),a=e(875),s=e(1943).f,c=window||A.global||{},u=c.__TEXT_CACHE||{};c.__TEXT_CACHE={};function v(M,T,L,m){this.gl=M,this.shader=T,this.buffer=L,this.vao=m,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var w=v.prototype,d=[0,0];w.bind=function(M,T,L,m){this.vao.bind(),this.shader.bind();var S=this.shader.uniforms;S.model=M,S.view=T,S.projection=L,S.pixelScale=m,d[0]=this.gl.drawingBufferWidth,d[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=d},w.unbind=function(){this.vao.unbind()},w.update=function(M,T,L,m,S){var b=[];function n(z,U,G,Q,rt,it){var ut=u[G];ut||(ut=u[G]={});var J=ut[U];J||(J=ut[U]=function o(M,T){try{return a(M,T)}catch(L){return console.warn('error vectorizing text:"'+M+'" error:',L),{cells:[],positions:[]}}}(U,{triangles:!0,font:G,textAlign:"center",textBaseline:"middle",lineSpacing:rt,styletags:it}));for(var j=(Q||12)/12,Z=J.positions,H=J.cells,X=0,at=H.length;X<at;++X)for(var _=H[X],K=2;K>=0;--K){var nt=Z[_[K]];b.push(j*nt[0],-j*nt[1],z)}}for(var C=[0,0,0],p=[0,0,0],F=[0,0,0],D=[0,0,0],k={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},O=0;O<3;++O){F[O]=b.length/3|0,n(.5*(M[0][O]+M[1][O]),T[O],L[O],12,1.25,k),D[O]=(b.length/3|0)-F[O],C[O]=b.length/3|0;for(var B=0;B<m[O].length;++B)!m[O][B].text||n(m[O][B].x,m[O][B].text,m[O][B].font||S,m[O][B].fontSize||12,1.25,k);p[O]=(b.length/3|0)-C[O]}this.buffer.update(b),this.tickOffset=C,this.tickCount=p,this.labelOffset=F,this.labelCount=D},w.drawTicks=function(M,T,L,m,S,b,n,C){!this.tickCount[M]||(this.shader.uniforms.axis=b,this.shader.uniforms.color=S,this.shader.uniforms.angle=L,this.shader.uniforms.scale=T,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=n,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[M],this.tickOffset[M]))},w.drawLabel=function(M,T,L,m,S,b,n,C){!this.labelCount[M]||(this.shader.uniforms.axis=b,this.shader.uniforms.color=S,this.shader.uniforms.angle=L,this.shader.uniforms.scale=T,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=n,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.labelCount[M],this.labelOffset[M]))},w.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(l,x){"use strict";function e(a,s){var c=a+"",u=c.indexOf("."),y=0;u>=0&&(y=c.length-u-1);var v=Math.pow(10,y),w=Math.round(a*s*v),d=w+"";if(d.indexOf("e")>=0)return d;var o=w/v,h=w%v;w<0?(o=0|-Math.ceil(o),h=0|-h):(o=0|Math.floor(o),h|=0);var M=""+o;if(w<0&&(M="-"+M),y){for(var T=""+h;T.length<y;)T="0"+T;return M+"."+T}return M}x.create=function r(a,s){for(var c=[],u=0;u<3;++u){for(var y=[],w=0;w*s[u]<=a[1][u];++w)y.push({x:w*s[u],text:e(s[u],w)});for(w=-1;w*s[u]>=a[0][u];--w)y.push({x:w*s[u],text:e(s[u],w)});c.push(y)}return c},x.equal=function f(a,s){for(var c=0;c<3;++c){if(a[c].length!==s[c].length)return!1;for(var u=0;u<a[c].length;++u){var y=a[c][u],v=s[c][u];if(y.x!==v.x||y.text!==v.text||y.font!==v.font||y.fontColor!==v.fontColor||y.fontSize!==v.fontSize||y.dx!==v.dx||y.dy!==v.dy)return!1}}return!0}},2771:function(l,x,e){"use strict";l.exports=function L(m,S,b,n,O){var p=S.model||y,F=S.view||y,D=S.projection||y,N=S._ortho||!1,k=m.bounds,B=(O=O||a(p,F,D,k,N)).axis;s(v,F,p),s(v,D,v);for(var z=M,U=0;U<3;++U)z[U].lo=1/0,z[U].hi=-1/0,z[U].pixelsPerDataUnit=1/0;var G=r(c(v,v));c(v,v);for(var Q=0;Q<3;++Q){var rt=(Q+1)%3,it=(Q+2)%3,ut=T;t:for(U=0;U<2;++U){var J=[];if(B[Q]<0!=!!U){ut[Q]=k[U][Q];for(var j=0;j<2;++j){ut[rt]=k[j^U][rt];for(var Z=0;Z<2;++Z)ut[it]=k[Z^j^U][it],J.push(ut.slice())}var H=N?5:4;for(j=H;j===H;++j){if(0===J.length)continue t;J=f.positive(J,G[j])}for(j=0;j<J.length;++j){var X=h(T,v,it=J[j],b,n);for(Z=0;Z<3;++Z)z[Z].lo=Math.min(z[Z].lo,it[Z]),z[Z].hi=Math.max(z[Z].hi,it[Z]),Z!==Q&&(z[Z].pixelsPerDataUnit=Math.min(z[Z].pixelsPerDataUnit,Math.abs(X[Z])))}}}}return z};var r=e(5795),f=e(4670),a=e(2864),s=e(104),c=e(2142),u=e(6342),y=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),v=new Float32Array(16);function w(m,S,b){this.lo=m,this.hi=S,this.pixelsPerDataUnit=b}var d=[0,0,0,1],o=[0,0,0,1];function h(m,S,b,n,C){for(var p=0;p<3;++p){for(var F=d,D=o,N=0;N<3;++N)D[N]=F[N]=b[N];D[3]=F[3]=1,D[p]+=1,u(D,D,S),D[3]<0&&(m[p]=1/0),F[p]-=1,u(F,F,S),F[3]<0&&(m[p]=1/0);var k=(F[0]/F[3]-D[0]/D[3])*n,O=(F[1]/F[3]-D[1]/D[3])*C;m[p]=.25*Math.sqrt(k*k+O*O)}return m}var M=[new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0)],T=[0,0,0]},5827:function(l,x,e){"use strict";var r=e(5306),f=e(7498),a=e(5050),s=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function c(o,h,M,T,L){this.gl=o,this.type=h,this.handle=M,this.length=T,this.usage=L}var u=c.prototype;function y(o,h,M,T,L,m){var S=L.length*L.BYTES_PER_ELEMENT;if(m<0)return o.bufferData(h,L,T),S;if(S+m>M)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(h,m,L),M}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(o,h){if("number"!=typeof h&&(h=-1),this.bind(),"object"==typeof o&&void 0!==o.shape){var M=o.dtype;if(s.indexOf(M)<0&&(M="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(M=gl.getExtension("OES_element_index_uint")&&"uint16"!==M?"uint32":"uint16"),M===o.dtype&&function w(o,h){for(var M=1,T=h.length-1;T>=0;--T){if(h[T]!==M)return!1;M*=o[T]}return!0}(o.shape,o.stride))this.length=y(this.gl,this.type,this.length,this.usage,0===o.offset&&o.data.length===o.shape[0]?o.data:o.data.subarray(o.offset,o.shape[0]),h);else{var L=r.malloc(o.size,M),m=a(L,o.shape);f.assign(m,o),this.length=y(this.gl,this.type,this.length,this.usage,h<0?L:L.subarray(0,o.size),h),r.free(L)}}else if(Array.isArray(o)){var S;S=function v(o,h){for(var M=r.malloc(o.length,h),T=o.length,L=0;L<T;++L)M[L]=o[L];return M}(o,this.type===this.gl.ELEMENT_ARRAY_BUFFER?"uint16":"float32"),this.length=y(this.gl,this.type,this.length,this.usage,h<0?S:S.subarray(0,o.length),h),r.free(S)}else if("object"==typeof o&&"number"==typeof o.length)this.length=y(this.gl,this.type,this.length,this.usage,o,h);else{if("number"!=typeof o&&void 0!==o)throw new Error("gl-buffer: Invalid data type");if(h>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(o|=0)<=0&&(o=1),this.gl.bufferData(this.type,0|o,this.usage),this.length=o}},l.exports=function d(o,h,M,T){if(T=T||o.DYNAMIC_DRAW,(M=M||o.ARRAY_BUFFER)!==o.ARRAY_BUFFER&&M!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(T!==o.DYNAMIC_DRAW&&T!==o.STATIC_DRAW&&T!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var L=o.createBuffer(),m=new c(o,M,L,0,T);return m.update(h),m}},1140:function(l,x,e){"use strict";var r=e(2858);l.exports=function(a,s){var c=a.positions,u=a.vectors,y={positions:[],vertexIntensity:[],vertexIntensityBounds:a.vertexIntensityBounds,vectors:[],cells:[],coneOffset:a.coneOffset,colormap:a.colormap};if(0===a.positions.length)return s&&(s[0]=[0,0,0],s[1]=[0,0,0]),y;for(var v=0,w=1/0,d=-1/0,o=1/0,h=-1/0,M=1/0,T=-1/0,L=null,m=null,S=[],b=1/0,n=!1,C=0;C<c.length;C++){var p=c[C];w=Math.min(p[0],w),d=Math.max(p[0],d),o=Math.min(p[1],o),h=Math.max(p[1],h),M=Math.min(p[2],M),T=Math.max(p[2],T);var F=u[C];if(r.length(F)>v&&(v=r.length(F)),C){var D=2*r.distance(L,p)/(r.length(m)+r.length(F));D?(b=Math.min(b,D),n=!1):n=!0}n||(L=p,m=F),S.push(F)}var k=[d,h,T];s&&(s[0]=[w,o,M],s[1]=k),0===v&&(v=1);var O=1/v;isFinite(b)||(b=1),y.vectorScale=b;var B=a.coneSize||.5;a.absoluteConeSize&&(B=a.absoluteConeSize*O),y.coneScale=B,C=0;for(var z=0;C<c.length;C++)for(var U=(p=c[C])[0],G=p[1],Q=p[2],rt=S[C],it=r.length(rt)*O,ut=0;ut<8;ut++){y.positions.push([U,G,Q,z++]),y.positions.push([U,G,Q,z++]),y.positions.push([U,G,Q,z++]),y.positions.push([U,G,Q,z++]),y.positions.push([U,G,Q,z++]),y.positions.push([U,G,Q,z++]),y.vectors.push(rt),y.vectors.push(rt),y.vectors.push(rt),y.vectors.push(rt),y.vectors.push(rt),y.vectors.push(rt),y.vertexIntensity.push(it,it,it),y.vertexIntensity.push(it,it,it);var j=y.positions.length;y.cells.push([j-6,j-5,j-4],[j-3,j-2,j-1])}return y};var f=e(7234);l.exports.createMesh=e(5028),l.exports.createConeMesh=function(a,s){return l.exports.createMesh(a,s,{shaders:f,traceType:"cone"})}},5028:function(l,x,e){"use strict";var r=e(5158),f=e(5827),a=e(2944),s=e(8931),c=e(104),u=e(7437),y=e(5050),v=e(9156),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(S,b,n,C,p,F,D,N,k,O,B){this.gl=S,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=b,this.dirty=!0,this.triShader=n,this.pickShader=C,this.trianglePositions=p,this.triangleVectors=F,this.triangleColors=N,this.triangleUVs=k,this.triangleIds=D,this.triangleVAO=O,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=B,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var o=d.prototype;function T(S,b){var n=r(S,b.meshShader.vertex,b.meshShader.fragment,null,b.meshShader.attributes);return n.attributes.position.location=0,n.attributes.color.location=2,n.attributes.uv.location=3,n.attributes.vector.location=4,n}function L(S,b){var n=r(S,b.pickShader.vertex,b.pickShader.fragment,null,b.pickShader.attributes);return n.attributes.position.location=0,n.attributes.id.location=1,n.attributes.vector.location=4,n}o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(S){this.pickId=S},o.update=function(S){S=S||{};var b=this.gl;this.dirty=!0,"lightPosition"in S&&(this.lightPosition=S.lightPosition),"opacity"in S&&(this.opacity=S.opacity),"ambient"in S&&(this.ambientLight=S.ambient),"diffuse"in S&&(this.diffuseLight=S.diffuse),"specular"in S&&(this.specularLight=S.specular),"roughness"in S&&(this.roughness=S.roughness),"fresnel"in S&&(this.fresnel=S.fresnel),void 0!==S.tubeScale&&(this.tubeScale=S.tubeScale),void 0!==S.vectorScale&&(this.vectorScale=S.vectorScale),void 0!==S.coneScale&&(this.coneScale=S.coneScale),void 0!==S.coneOffset&&(this.coneOffset=S.coneOffset),S.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=b.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=b.LINEAR,this.texture.setPixels(function h(S){for(var b=v({colormap:S,nshades:256,format:"rgba"}),n=new Uint8Array(1024),C=0;C<256;++C){for(var p=b[C],F=0;F<3;++F)n[4*C+F]=p[F];n[4*C+3]=255*p[3]}return y(n,[256,256,4],[4,0,1])}(S.colormap)),this.texture.generateMipmap());var n=S.cells,C=S.positions,p=S.vectors;if(C&&n&&p){var F=[],D=[],N=[],k=[],O=[];this.cells=n,this.positions=C,this.vectors=p;var B=S.meshColor||[1,1,1,1],z=S.vertexIntensity,U=1/0,G=-1/0;if(z)if(S.vertexIntensityBounds)U=+S.vertexIntensityBounds[0],G=+S.vertexIntensityBounds[1];else for(var Q=0;Q<z.length;++Q){var rt=z[Q];U=Math.min(U,rt),G=Math.max(G,rt)}else for(Q=0;Q<C.length;++Q)rt=C[Q][2],U=Math.min(U,rt),G=Math.max(G,rt);for(this.intensity=z||function M(S){for(var b=S.length,n=new Array(b),C=0;C<b;++C)n[C]=S[C][2];return n}(C),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Q=0;Q<C.length;++Q)for(var it=C[Q],ut=0;ut<3;++ut)isNaN(it[ut])||!isFinite(it[ut])||(this.bounds[0][ut]=Math.min(this.bounds[0][ut],it[ut]),this.bounds[1][ut]=Math.max(this.bounds[1][ut],it[ut]));var J=0;t:for(Q=0;Q<n.length;++Q){var j=n[Q];if(3===j.length){for(ut=0;ut<3;++ut){it=C[Z=j[ut]];for(var H=0;H<3;++H)if(isNaN(it[H])||!isFinite(it[H]))continue t}for(ut=0;ut<3;++ut){var Z;F.push((it=C[Z=j[2-ut]])[0],it[1],it[2],it[3]);var X=p[Z];D.push(X[0],X[1],X[2],X[3]||0);var _;N.push(B[0],B[1],B[2],3===B.length?1:B[3]),k.push((_=z?[(z[Z]-U)/(G-U),0]:[(it[2]-U)/(G-U),0])[0],_[1]),O.push(Q)}J+=1}}this.triangleCount=J,this.trianglePositions.update(F),this.triangleVectors.update(D),this.triangleColors.update(N),this.triangleUVs.update(k),this.triangleIds.update(new Uint32Array(O))}},o.drawTransparent=o.draw=function(S){for(var b=this.gl,n=(S=S||{}).model||w,C=S.view||w,p=S.projection||w,F=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)F[0][D]=Math.max(F[0][D],this.clipBounds[0][D]),F[1][D]=Math.min(F[1][D],this.clipBounds[1][D]);var N={model:n,view:C,projection:p,inverseModel:w.slice(),clipBounds:F,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};N.inverseModel=u(N.inverseModel,N.model),b.disable(b.CULL_FACE),this.texture.bind(0);var k=new Array(16);for(c(k,N.view,N.model),c(k,N.projection,k),u(k,k),D=0;D<3;++D)N.eyePosition[D]=k[12+D]/k[15];var O=k[15];for(D=0;D<3;++D)O+=this.lightPosition[D]*k[4*D+3];for(D=0;D<3;++D){for(var B=k[12+D],z=0;z<3;++z)B+=k[4*z+D]*this.lightPosition[z];N.lightPosition[D]=B/O}if(this.triangleCount>0){var U=this.triShader;U.bind(),U.uniforms=N,this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},o.drawPick=function(S){for(var b=this.gl,n=(S=S||{}).model||w,C=S.view||w,p=S.projection||w,F=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)F[0][D]=Math.max(F[0][D],this.clipBounds[0][D]),F[1][D]=Math.min(F[1][D],this.clipBounds[1][D]);this._model=[].slice.call(n),this._view=[].slice.call(C),this._projection=[].slice.call(p),this._resolution=[b.drawingBufferWidth,b.drawingBufferHeight];var N={model:n,view:C,projection:p,clipBounds:F,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},k=this.pickShader;k.bind(),k.uniforms=N,this.triangleCount>0&&(this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},o.pick=function(S){if(!S||S.id!==this.pickId)return null;var b=S.value[0]+256*S.value[1]+65536*S.value[2],n=this.cells[b],C=this.positions[n[1]].slice(0,3),p={position:C,dataCoordinate:C,index:Math.floor(n[1]/48)};return"cone"===this.traceType?p.index=Math.floor(n[1]/48):"streamtube"===this.traceType&&(p.intensity=this.intensity[n[1]],p.velocity=this.vectors[n[1]].slice(0,3),p.divergence=this.vectors[n[1]][3],p.index=b),p},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},l.exports=function m(S,b,n){var C=n.shaders;1===arguments.length&&(S=(b=S).gl);var p=T(S,C),F=L(S,C),D=s(S,y(new Uint8Array([255,255,255,255]),[1,1,4]));D.generateMipmap(),D.minFilter=S.LINEAR_MIPMAP_LINEAR,D.magFilter=S.LINEAR;var N=f(S),k=f(S),O=f(S),B=f(S),z=f(S),G=new d(S,D,p,F,N,k,z,O,B,a(S,[{buffer:N,type:S.FLOAT,size:4},{buffer:z,type:S.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:S.FLOAT,size:4},{buffer:B,type:S.FLOAT,size:2},{buffer:k,type:S.FLOAT,size:4}]),n.traceType||"cone");return G.update(b),G}},7234:function(l,x,e){var r=e(6832),f=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),a=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),s=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);x.meshShader={vertex:f,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},x.pickShader={vertex:s,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(l){l.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(l,x,e){var r=e(1950);l.exports=function(a){return r[a]}},3110:function(l,x,e){"use strict";l.exports=function d(o){var h=o.gl,M=r(h),T=f(h,[{buffer:M,type:h.FLOAT,size:3,offset:0,stride:40},{buffer:M,type:h.FLOAT,size:4,offset:12,stride:40},{buffer:M,type:h.FLOAT,size:3,offset:28,stride:40}]),L=a(h);L.attributes.position.location=0,L.attributes.color.location=1,L.attributes.offset.location=2;var m=new c(h,M,T,L);return m.update(o),m};var r=e(5827),f=e(2944),a=e(7667),s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(o,h,M,T){this.gl=o,this.shader=T,this.buffer=h,this.vao=M,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=c.prototype;function y(o,h){for(var M=0;M<3;++M)o[0][M]=Math.min(o[0][M],h[M]),o[1][M]=Math.max(o[1][M],h[M])}u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(o){var h=this.gl,M=this.shader.uniforms;this.shader.bind();var T=M.view=o.view||s,L=M.projection=o.projection||s;M.model=o.model||s,M.clipBounds=this.clipBounds,M.opacity=this.opacity;var F=(o._ortho?2:1)*this.pixelRatio*(L[3]*T[12]+L[7]*T[13]+L[11]*T[14]+L[15]*T[15])/h.drawingBufferHeight;this.vao.bind();for(var D=0;D<3;++D)h.lineWidth(this.lineWidth[D]*this.pixelRatio),M.capSize=this.capSize[D]*F,this.lineCount[D]&&h.drawArrays(h.LINES,this.lineOffset[D],this.lineCount[D]);this.vao.unbind()};var v=function(){for(var o=new Array(3),h=0;h<3;++h){for(var M=[],T=1;T<=2;++T)for(var L=-1;L<=1;L+=2){var S=[0,0,0];S[(T+h)%3]=L,M.push(S)}o[h]=M}return o}();function w(o,h,M,T){for(var L=v[T],m=0;m<L.length;++m){var S=L[m];o.push(h[0],h[1],h[2],M[0],M[1],M[2],M[3],S[0],S[1],S[2])}return L.length}u.update=function(o){"lineWidth"in(o=o||{})&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var h=o.color||[[0,0,0],[0,0,0],[0,0,0]],M=o.position,T=o.error;if(Array.isArray(h[0])||(h=[h,h,h]),M&&T){var L=[],m=M.length,S=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var b=0;b<3;++b){this.lineOffset[b]=S;t:for(var n=0;n<m;++n){for(var C=M[n],p=0;p<3;++p)if(isNaN(C[p])||!isFinite(C[p]))continue t;var N,F=T[n],D=h[b];Array.isArray(D[0])&&(D=h[n]),3===D.length?D=[D[0],D[1],D[2],1]:4===D.length&&(D=[D[0],D[1],D[2],D[3]],!this.hasAlpha&&D[3]<1&&(this.hasAlpha=!0)),isNaN(F[0][b])||isNaN(F[1][b])||(F[0][b]<0&&((N=C.slice())[b]+=F[0][b],L.push(C[0],C[1],C[2],D[0],D[1],D[2],D[3],0,0,0,N[0],N[1],N[2],D[0],D[1],D[2],D[3],0,0,0),y(this.bounds,N),S+=2+w(L,N,D,b)),F[1][b]>0&&((N=C.slice())[b]+=F[1][b],L.push(C[0],C[1],C[2],D[0],D[1],D[2],D[3],0,0,0,N[0],N[1],N[2],D[0],D[1],D[2],D[3],0,0,0),y(this.bounds,N),S+=2+w(L,N,D,b)))}this.lineCount[b]=S-this.lineOffset[b]}this.buffer.update(L)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(l,x,e){"use strict";var r=e(6832),f=e(5158),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);l.exports=function(c){return f(c,a,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(l,x,e){"use strict";var r=e(8931);l.exports=function S(b,n,C,p){a||(a=b.FRAMEBUFFER_UNSUPPORTED,s=b.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,c=b.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,u=b.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var F=b.getExtension("WEBGL_draw_buffers");if(!f&&F&&function w(b,n){var C=b.getParameter(n.MAX_COLOR_ATTACHMENTS_WEBGL);f=new Array(C+1);for(var p=0;p<=C;++p){for(var F=new Array(C),D=0;D<p;++D)F[D]=b.COLOR_ATTACHMENT0+D;for(D=p;D<C;++D)F[D]=b.NONE;f[p]=F}}(b,F),Array.isArray(n)&&(p=C,C=0|n[1],n=0|n[0]),"number"!=typeof n)throw new Error("gl-fbo: Missing shape parameter");var D=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(n<0||n>D||C<0||C>D)throw new Error("gl-fbo: Parameters are too large for FBO");var N=1;if("color"in(p=p||{})){if((N=Math.max(0|p.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(N>1){if(!F)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(N>b.getParameter(F.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+N+" draw buffers")}}var k=b.UNSIGNED_BYTE,O=b.getExtension("OES_texture_float");if(p.float&&N>0){if(!O)throw new Error("gl-fbo: Context does not support floating point textures");k=b.FLOAT}else p.preferFloat&&N>0&&O&&(k=b.FLOAT);var B=!0;"depth"in p&&(B=!!p.depth);var z=!1;return"stencil"in p&&(z=!!p.stencil),new T(b,n,C,k,N,B,z,F)};var a,s,c,u,f=null;function y(b){return[b.getParameter(b.FRAMEBUFFER_BINDING),b.getParameter(b.RENDERBUFFER_BINDING),b.getParameter(b.TEXTURE_BINDING_2D)]}function v(b,n){b.bindFramebuffer(b.FRAMEBUFFER,n[0]),b.bindRenderbuffer(b.RENDERBUFFER,n[1]),b.bindTexture(b.TEXTURE_2D,n[2])}function d(b){switch(b){case a:throw new Error("gl-fbo: Framebuffer unsupported");case s:throw new Error("gl-fbo: Framebuffer incomplete attachment");case c:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case u:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(b,n,C,p,F,D){if(!p)return null;var N=r(b,n,C,F,p);return N.magFilter=b.NEAREST,N.minFilter=b.NEAREST,N.mipSamples=1,N.bind(),b.framebufferTexture2D(b.FRAMEBUFFER,D,b.TEXTURE_2D,N.handle,0),N}function h(b,n,C,p,F){var D=b.createRenderbuffer();return b.bindRenderbuffer(b.RENDERBUFFER,D),b.renderbufferStorage(b.RENDERBUFFER,p,n,C),b.framebufferRenderbuffer(b.FRAMEBUFFER,F,b.RENDERBUFFER,D),D}function T(b,n,C,p,F,D,N,k){this.gl=b,this._shape=[0|n,0|C],this._destroyed=!1,this._ext=k,this.color=new Array(F);for(var O=0;O<F;++O)this.color[O]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=p,this._useDepth=D,this._useStencil=N;var B=this,z=[0|n,0|C];Object.defineProperties(z,{0:{get:function(){return B._shape[0]},set:function(U){return B.width=U}},1:{get:function(){return B._shape[1]},set:function(U){return B.height=U}}}),this._shapeVector=z,function M(b){var n=y(b.gl),C=b.gl,p=b.handle=C.createFramebuffer(),F=b._shape[0],D=b._shape[1],N=b.color.length,k=b._ext,O=b._useStencil,B=b._useDepth,z=b._colorType;C.bindFramebuffer(C.FRAMEBUFFER,p);for(var U=0;U<N;++U)b.color[U]=o(C,F,D,z,C.RGBA,C.COLOR_ATTACHMENT0+U);0===N?(b._color_rb=h(C,F,D,C.RGBA4,C.COLOR_ATTACHMENT0),k&&k.drawBuffersWEBGL(f[0])):N>1&&k.drawBuffersWEBGL(f[N]);var G=C.getExtension("WEBGL_depth_texture");G?O?b.depth=o(C,F,D,G.UNSIGNED_INT_24_8_WEBGL,C.DEPTH_STENCIL,C.DEPTH_STENCIL_ATTACHMENT):B&&(b.depth=o(C,F,D,C.UNSIGNED_SHORT,C.DEPTH_COMPONENT,C.DEPTH_ATTACHMENT)):B&&O?b._depth_rb=h(C,F,D,C.DEPTH_STENCIL,C.DEPTH_STENCIL_ATTACHMENT):B?b._depth_rb=h(C,F,D,C.DEPTH_COMPONENT16,C.DEPTH_ATTACHMENT):O&&(b._depth_rb=h(C,F,D,C.STENCIL_INDEX,C.STENCIL_ATTACHMENT));var Q=C.checkFramebufferStatus(C.FRAMEBUFFER);if(Q!==C.FRAMEBUFFER_COMPLETE){for(b._destroyed=!0,C.bindFramebuffer(C.FRAMEBUFFER,null),C.deleteFramebuffer(b.handle),b.handle=null,b.depth&&(b.depth.dispose(),b.depth=null),b._depth_rb&&(C.deleteRenderbuffer(b._depth_rb),b._depth_rb=null),U=0;U<b.color.length;++U)b.color[U].dispose(),b.color[U]=null;b._color_rb&&(C.deleteRenderbuffer(b._color_rb),b._color_rb=null),v(C,n),d(Q)}v(C,n)}(this)}var L=T.prototype;function m(b,n,C){if(b._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(b._shape[0]!==n||b._shape[1]!==C){var p=b.gl,F=p.getParameter(p.MAX_RENDERBUFFER_SIZE);if(n<0||n>F||C<0||C>F)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");b._shape[0]=n,b._shape[1]=C;for(var D=y(p),N=0;N<b.color.length;++N)b.color[N].shape=b._shape;b._color_rb&&(p.bindRenderbuffer(p.RENDERBUFFER,b._color_rb),p.renderbufferStorage(p.RENDERBUFFER,p.RGBA4,b._shape[0],b._shape[1])),b.depth&&(b.depth.shape=b._shape),b._depth_rb&&(p.bindRenderbuffer(p.RENDERBUFFER,b._depth_rb),b._useDepth&&b._useStencil?p.renderbufferStorage(p.RENDERBUFFER,p.DEPTH_STENCIL,b._shape[0],b._shape[1]):b._useDepth?p.renderbufferStorage(p.RENDERBUFFER,p.DEPTH_COMPONENT16,b._shape[0],b._shape[1]):b._useStencil&&p.renderbufferStorage(p.RENDERBUFFER,p.STENCIL_INDEX,b._shape[0],b._shape[1])),p.bindFramebuffer(p.FRAMEBUFFER,b.handle);var k=p.checkFramebufferStatus(p.FRAMEBUFFER);k!==p.FRAMEBUFFER_COMPLETE&&(b.dispose(),v(p,D),d(k)),v(p,D)}}Object.defineProperties(L,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(b){if(Array.isArray(b)||(b=[0|b,0|b]),2!==b.length)throw new Error("gl-fbo: Shape vector must be length 2");var n=0|b[0],C=0|b[1];return m(this,n,C),[n,C]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(b){return m(this,b|=0,this._shape[1]),b},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(b){return m(this,this._shape[0],b|=0),b},enumerable:!1}}),L.bind=function(){if(!this._destroyed){var b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,this.handle),b.viewport(0,0,this._shape[0],this._shape[1])}},L.dispose=function(){if(!this._destroyed){this._destroyed=!0;var b=this.gl;b.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(b.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var n=0;n<this.color.length;++n)this.color[n].dispose(),this.color[n]=null;this._color_rb&&(b.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(l,x,e){var r=e(8974).sprintf,f=e(6603),a=e(9365),s=e(8008);l.exports=function c(u,y,v){"use strict";var w=a(y)||"of unknown name (see npm glsl-shader-name)",d="unknown type";void 0!==v&&(d=v===f.FRAGMENT_SHADER?"fragment":"vertex");for(var o=r("Error compiling %s shader %s:\n",d,w),h=r("%s%s",o,u),M=u.split("\n"),T={},L=0;L<M.length;L++){var m=M[L];if(""!==m&&"\0"!==m){var S=parseInt(m.split(":")[2]);if(isNaN(S))throw new Error(r("Could not parse error: %s",m));T[S]=m}}var b=s(y).split("\n");for(L=0;L<b.length;L++)if((T[L+3]||T[L+2]||T[L+1])&&(o+=b[L]+"\n",T[L+1])){var C=T[L+1];C=C.substr(C.split(":",3).join(":").length+1).trim(),o+=r("^^^ %s\n\n",C)}return{long:o.trim(),short:h.trim()}}},6386:function(l,x,e){"use strict";l.exports=function d(o,h){var M=o.gl,C=new y(o,s(M,u.vertex,u.fragment),s(M,u.pickVertex,u.pickFragment),c(M),c(M),c(M),c(M));return C.update(h),o.addObject(C),C};var r=e(5070),f=e(9560),a=e(5306),s=e(5158),c=e(5827),u=e(1292);function y(o,h,M,T,L,m,S){this.plot=o,this.shader=h,this.pickShader=M,this.positionBuffer=T,this.weightBuffer=L,this.colorBuffer=m,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var o,v=y.prototype,w=[0,0,1,0,0,1,1,0,1,1,0,1];v.draw=(o=[1,0,0,0,1,0,0,0,1],function(){var h=this.plot,M=this.shader,T=this.bounds,L=this.numVertices;if(!(L<=0)){var m=h.gl,S=h.dataBox,n=T[3]-T[1],C=S[2]-S[0],p=S[3]-S[1];o[0]=2*(T[2]-T[0])/C,o[4]=2*n/p,o[6]=2*(T[0]-S[0])/C-1,o[7]=2*(T[1]-S[1])/p-1,M.bind();var F=M.uniforms;F.viewTransform=o,F.shape=this.shape;var D=M.attributes;this.positionBuffer.bind(),D.position.pointer(),this.weightBuffer.bind(),D.weight.pointer(m.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),D.color.pointer(m.UNSIGNED_BYTE,!0),m.drawArrays(m.TRIANGLES,0,L)}}),v.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0];return function(M){var T=this.plot,L=this.pickShader,m=this.bounds,S=this.numVertices;if(!(S<=0)){var b=T.gl,n=T.dataBox,p=m[3]-m[1],F=n[2]-n[0],D=n[3]-n[1];o[0]=2*(m[2]-m[0])/F,o[4]=2*p/D,o[6]=2*(m[0]-n[0])/F-1,o[7]=2*(m[1]-n[1])/D-1;for(var N=0;N<4;++N)h[N]=M>>8*N&255;this.pickOffset=M,L.bind();var k=L.uniforms;k.viewTransform=o,k.pickOffset=h,k.shape=this.shape;var O=L.attributes;return this.positionBuffer.bind(),O.position.pointer(),this.weightBuffer.bind(),O.weight.pointer(b.UNSIGNED_BYTE,!1),this.idBuffer.bind(),O.pickId.pointer(b.UNSIGNED_BYTE,!1),b.drawArrays(b.TRIANGLES,0,S),M+this.shape[0]*this.shape[1]}}}(),v.pick=function(o,h,M){var T=this.pickOffset;if(M<T||M>=T+this.shape[0]*this.shape[1])return null;var m=M-T;return{object:this,pointId:m,dataCoord:[this.xData[m%this.shape[0]],this.yData[m/this.shape[0]|0]]}},v.update=function(o){var h=(o=o||{}).shape||[0,0],M=o.x||f(h[0]),T=o.y||f(h[1]),L=o.z||new Float32Array(h[0]*h[1]),m=!1!==o.zsmooth;this.xData=M,this.yData=T;var p,F,D,N,S=o.colorLevels||[0],b=o.colorValues||[0,0,0,1],n=S.length,C=this.bounds;m?(p=C[0]=M[0],F=C[1]=T[0],D=C[2]=M[M.length-1],N=C[3]=T[T.length-1]):(p=C[0]=M[0]+(M[1]-M[0])/2,F=C[1]=T[0]+(T[1]-T[0])/2,D=C[2]=M[M.length-1]+(M[M.length-1]-M[M.length-2])/2,N=C[3]=T[T.length-1]+(T[T.length-1]-T[T.length-2])/2);var k=1/(D-p),O=1/(N-F),B=h[0],z=h[1];this.shape=[B,z];var U=(m?(B-1)*(z-1):B*z)*(w.length>>>1);this.numVertices=U;for(var G=a.mallocUint8(4*U),Q=a.mallocFloat32(2*U),rt=a.mallocUint8(2*U),it=a.mallocUint32(U),ut=0,J=m?B-1:B,j=m?z-1:z,Z=0;Z<j;++Z){var H,X;m?(H=O*(T[Z]-F),X=O*(T[Z+1]-F)):(H=Z<z-1?O*(T[Z]-(T[Z+1]-T[Z])/2-F):O*(T[Z]-(T[Z]-T[Z-1])/2-F),X=Z<z-1?O*(T[Z]+(T[Z+1]-T[Z])/2-F):O*(T[Z]+(T[Z]-T[Z-1])/2-F));for(var at=0;at<J;++at){var _,K;m?(_=k*(M[at]-p),K=k*(M[at+1]-p)):(_=at<B-1?k*(M[at]-(M[at+1]-M[at])/2-p):k*(M[at]-(M[at]-M[at-1])/2-p),K=at<B-1?k*(M[at]+(M[at+1]-M[at])/2-p):k*(M[at]+(M[at]-M[at-1])/2-p));for(var nt=0;nt<w.length;nt+=2){var Dt,Ft,Mt,wt,et=w[nt],st=w[nt+1],Tt=L[m?(Z+st)*B+(at+et):Z*B+at],bt=r.le(S,Tt);if(bt<0)Dt=b[0],Ft=b[1],Mt=b[2],wt=b[3];else if(bt===n-1)Dt=b[4*n-4],Ft=b[4*n-3],Mt=b[4*n-2],wt=b[4*n-1];else{var St=(Tt-S[bt])/(S[bt+1]-S[bt]),Ut=1-St,Gt=4*bt,Pt=4*(bt+1);Dt=Ut*b[Gt]+St*b[Pt],Ft=Ut*b[Gt+1]+St*b[Pt+1],Mt=Ut*b[Gt+2]+St*b[Pt+2],wt=Ut*b[Gt+3]+St*b[Pt+3]}G[4*ut]=255*Dt,G[4*ut+1]=255*Ft,G[4*ut+2]=255*Mt,G[4*ut+3]=255*wt,Q[2*ut]=.5*_+.5*K,Q[2*ut+1]=.5*H+.5*X,rt[2*ut]=et,rt[2*ut+1]=st,it[ut]=Z*B+at,ut+=1}}}this.positionBuffer.update(Q),this.weightBuffer.update(rt),this.colorBuffer.update(G),this.idBuffer.update(it),a.free(Q),a.free(G),a.free(rt),a.free(it)},v.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(l,x,e){"use strict";var r=e(6832);l.exports={fragment:r(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},248:function(l,x,e){var r=e(6832),f=e(5158),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];x.createShader=function(y){return f(y,a,s,null,u)},x.createPickShader=function(y){return f(y,a,c,null,u)}},6086:function(l,x,e){"use strict";l.exports=function b(n){var C=n.gl||n.scene&&n.scene.gl,p=d(C);p.attributes.position.location=0,p.attributes.nextPosition.location=1,p.attributes.arcLength.location=2,p.attributes.lineWidth.location=3,p.attributes.color.location=4;var F=o(C);F.attributes.position.location=0,F.attributes.nextPosition.location=1,F.attributes.arcLength.location=2,F.attributes.lineWidth.location=3,F.attributes.color.location=4;for(var D=r(C),N=f(C,[{buffer:D,size:3,offset:0,stride:48},{buffer:D,size:3,offset:12,stride:48},{buffer:D,size:1,offset:24,stride:48},{buffer:D,size:1,offset:28,stride:48},{buffer:D,size:4,offset:32,stride:48}]),k=v(new Array(1024),[256,1,4]),O=0;O<1024;++O)k.data[O]=255;var B=a(C,k);B.wrap=C.REPEAT;var z=new m(C,p,F,D,N,B);return z.update(n),z};var r=e(5827),f=e(2944),a=e(8931),s=new Uint8Array(4),c=new Float32Array(s.buffer);var y=e(5070),v=e(5050),w=e(248),d=w.createShader,o=w.createPickShader,h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function M(n,C){for(var p=0,F=0;F<3;++F){var D=n[F]-C[F];p+=D*D}return Math.sqrt(p)}function T(n){for(var C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],p=0;p<3;++p)C[0][p]=Math.max(n[0][p],C[0][p]),C[1][p]=Math.min(n[1][p],C[1][p]);return C}function L(n,C,p,F){this.arcLength=n,this.position=C,this.index=p,this.dataCoordinate=F}function m(n,C,p,F,D,N){this.gl=n,this.shader=C,this.pickShader=p,this.buffer=F,this.vao=D,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var S=m.prototype;S.isTransparent=function(){return this.hasAlpha},S.isOpaque=function(){return!this.hasAlpha},S.pickSlots=1,S.setPickBase=function(n){this.pickId=n},S.drawTransparent=S.draw=function(n){if(this.vertexCount){var C=this.gl,p=this.shader,F=this.vao;p.bind(),p.uniforms={model:n.model||h,view:n.view||h,projection:n.projection||h,clipBounds:T(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[C.drawingBufferWidth,C.drawingBufferHeight],pixelRatio:this.pixelRatio},F.bind(),F.draw(C.TRIANGLE_STRIP,this.vertexCount),F.unbind()}},S.drawPick=function(n){if(this.vertexCount){var C=this.gl,p=this.pickShader,F=this.vao;p.bind(),p.uniforms={model:n.model||h,view:n.view||h,projection:n.projection||h,pickId:this.pickId,clipBounds:T(this.clipBounds),screenShape:[C.drawingBufferWidth,C.drawingBufferHeight],pixelRatio:this.pixelRatio},F.bind(),F.draw(C.TRIANGLE_STRIP,this.vertexCount),F.unbind()}},S.update=function(n){var C,p;this.dirty=!0;var F=!!n.connectGaps;"dashScale"in n&&(this.dashScale=n.dashScale),this.hasAlpha=!1,"opacity"in n&&(this.opacity=+n.opacity,this.opacity<1&&(this.hasAlpha=!0));var D=[],N=[],k=[],O=0,B=0,z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],U=n.position||n.positions;if(U){var G=n.color||n.colors||[0,0,0,1],Q=n.lineWidth||1,rt=!1;t:for(C=1;C<U.length;++C){var j,Z,H,it=U[C-1],ut=U[C];for(N.push(O),k.push(it.slice()),p=0;p<3;++p){if(isNaN(it[p])||isNaN(ut[p])||!isFinite(it[p])||!isFinite(ut[p])){if(!F&&D.length>0){for(var J=0;J<24;++J)D.push(D[D.length-12]);B+=2,rt=!0}continue t}z[0][p]=Math.min(z[0][p],it[p],ut[p]),z[1][p]=Math.max(z[1][p],it[p],ut[p])}Array.isArray(G[0])?(j=G.length>C-1?G[C-1]:G.length>0?G[G.length-1]:[0,0,0,1],Z=G.length>C?G[C]:G.length>0?G[G.length-1]:[0,0,0,1]):j=Z=G,3===j.length&&(j=[j[0],j[1],j[2],1]),3===Z.length&&(Z=[Z[0],Z[1],Z[2],1]),!this.hasAlpha&&j[3]<1&&(this.hasAlpha=!0),H=Array.isArray(Q)?Q.length>C-1?Q[C-1]:Q.length>0?Q[Q.length-1]:[0,0,0,1]:Q;var X=O;if(O+=M(it,ut),rt){for(p=0;p<2;++p)D.push(it[0],it[1],it[2],ut[0],ut[1],ut[2],X,H,j[0],j[1],j[2],j[3]);B+=2,rt=!1}D.push(it[0],it[1],it[2],ut[0],ut[1],ut[2],X,H,j[0],j[1],j[2],j[3],it[0],it[1],it[2],ut[0],ut[1],ut[2],X,-H,j[0],j[1],j[2],j[3],ut[0],ut[1],ut[2],it[0],it[1],it[2],O,-H,Z[0],Z[1],Z[2],Z[3],ut[0],ut[1],ut[2],it[0],it[1],it[2],O,H,Z[0],Z[1],Z[2],Z[3]),B+=4}}if(this.buffer.update(D),N.push(O),k.push(U[U.length-1].slice()),this.bounds=z,this.vertexCount=B,this.points=k,this.arcLength=N,"dashes"in n){var _=n.dashes.slice();for(_.unshift(0),C=1;C<_.length;++C)_[C]=_[C-1]+_[C];var K=v(new Array(1024),[256,1,4]);for(C=0;C<256;++C){for(p=0;p<4;++p)K.set(C,0,p,0);1&y.le(_,_[_.length-1]*C/255)?K.set(C,0,0,0):K.set(C,0,0,255)}this.texture.setPixels(K)}},S.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},S.pick=function(n){if(!n||n.id!==this.pickId)return null;var C=function u(n,C,p,F){return s[0]=F,s[1]=p,s[2]=C,s[3]=n,c[0]}(n.value[0],n.value[1],n.value[2],0),p=y.le(this.arcLength,C);if(p<0)return null;if(p===this.arcLength.length-1)return new L(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),p);for(var F=this.points[p],D=this.points[Math.min(p+1,this.points.length-1)],N=(C-this.arcLength[p])/(this.arcLength[p+1]-this.arcLength[p]),k=1-N,O=[0,0,0],B=0;B<3;++B)O[B]=k*F[B]+N*D[B];var z=Math.min(N<.5?p:p+1,this.points.length-1);return new L(C,O,z,this.points[z])}},7332:function(l){l.exports=function x(e){var r=new Float32Array(16);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}},9823:function(l){l.exports=function x(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},7787:function(l){l.exports=function x(e){var r=e[0],f=e[1],a=e[2],s=e[3],c=e[4],u=e[5],y=e[6],v=e[7],w=e[8],d=e[9],o=e[10],h=e[11],M=e[12],T=e[13],L=e[14],m=e[15];return(r*u-f*c)*(o*m-h*L)-(r*y-a*c)*(d*m-h*T)+(r*v-s*c)*(d*L-o*T)+(f*y-a*u)*(w*m-h*M)-(f*v-s*u)*(w*L-o*M)+(a*v-s*y)*(w*T-d*M)}},5950:function(l){l.exports=function x(e,r){var f=r[0],a=r[1],s=r[2],c=r[3],u=f+f,y=a+a,v=s+s,w=f*u,d=a*u,o=a*y,h=s*u,M=s*y,T=s*v,L=c*u,m=c*y,S=c*v;return e[0]=1-o-T,e[1]=d+S,e[2]=h-m,e[3]=0,e[4]=d-S,e[5]=1-w-T,e[6]=M+L,e[7]=0,e[8]=h+m,e[9]=M-L,e[10]=1-w-o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},7280:function(l){l.exports=function x(e,r,f){var a=r[0],s=r[1],c=r[2],u=r[3],y=a+a,v=s+s,w=c+c,d=a*y,o=a*v,h=a*w,M=s*v,T=s*w,L=c*w,m=u*y,S=u*v,b=u*w;return e[0]=1-(M+L),e[1]=o+b,e[2]=h-S,e[3]=0,e[4]=o-b,e[5]=1-(d+L),e[6]=T+m,e[7]=0,e[8]=h+S,e[9]=T-m,e[10]=1-(d+M),e[11]=0,e[12]=f[0],e[13]=f[1],e[14]=f[2],e[15]=1,e}},9947:function(l){l.exports=function x(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},7437:function(l){l.exports=function x(e,r){var f=r[0],a=r[1],s=r[2],c=r[3],u=r[4],y=r[5],v=r[6],w=r[7],d=r[8],o=r[9],h=r[10],M=r[11],T=r[12],L=r[13],m=r[14],S=r[15],b=f*y-a*u,n=f*v-s*u,C=f*w-c*u,p=a*v-s*y,F=a*w-c*y,D=s*w-c*v,N=d*L-o*T,k=d*m-h*T,O=d*S-M*T,B=o*m-h*L,z=o*S-M*L,U=h*S-M*m,G=b*U-n*z+C*B+p*O-F*k+D*N;return G?(e[0]=(y*U-v*z+w*B)*(G=1/G),e[1]=(s*z-a*U-c*B)*G,e[2]=(L*D-m*F+S*p)*G,e[3]=(h*F-o*D-M*p)*G,e[4]=(v*O-u*U-w*k)*G,e[5]=(f*U-s*O+c*k)*G,e[6]=(m*C-T*D-S*n)*G,e[7]=(d*D-h*C+M*n)*G,e[8]=(u*z-y*O+w*N)*G,e[9]=(a*O-f*z-c*N)*G,e[10]=(T*F-L*C+S*b)*G,e[11]=(o*C-d*F-M*b)*G,e[12]=(y*k-u*B-v*N)*G,e[13]=(f*B-a*k+s*N)*G,e[14]=(L*n-T*p-m*b)*G,e[15]=(d*p-o*n+h*b)*G,e):null}},3012:function(l,x,e){var r=e(9947);l.exports=function f(a,s,c,u){var y,v,w,d,o,h,M,T,L,m,S=s[0],b=s[1],n=s[2],C=u[0],p=u[1],F=u[2],D=c[0],N=c[1],k=c[2];return Math.abs(S-D)<1e-6&&Math.abs(b-N)<1e-6&&Math.abs(n-k)<1e-6?r(a):(M=S-D,T=b-N,L=n-k,y=p*(L*=m=1/Math.sqrt(M*M+T*T+L*L))-F*(T*=m),v=F*(M*=m)-C*L,w=C*T-p*M,(m=Math.sqrt(y*y+v*v+w*w))?(y*=m=1/m,v*=m,w*=m):(y=0,v=0,w=0),d=T*w-L*v,o=L*y-M*w,h=M*v-T*y,(m=Math.sqrt(d*d+o*o+h*h))?(d*=m=1/m,o*=m,h*=m):(d=0,o=0,h=0),a[0]=y,a[1]=d,a[2]=M,a[3]=0,a[4]=v,a[5]=o,a[6]=T,a[7]=0,a[8]=w,a[9]=h,a[10]=L,a[11]=0,a[12]=-(y*S+v*b+w*n),a[13]=-(d*S+o*b+h*n),a[14]=-(M*S+T*b+L*n),a[15]=1,a)}},104:function(l){l.exports=function x(e,r,f){var a=r[0],s=r[1],c=r[2],u=r[3],y=r[4],v=r[5],w=r[6],d=r[7],o=r[8],h=r[9],M=r[10],T=r[11],L=r[12],m=r[13],S=r[14],b=r[15],n=f[0],C=f[1],p=f[2],F=f[3];return e[0]=n*a+C*y+p*o+F*L,e[1]=n*s+C*v+p*h+F*m,e[2]=n*c+C*w+p*M+F*S,e[3]=n*u+C*d+p*T+F*b,e[4]=(n=f[4])*a+(C=f[5])*y+(p=f[6])*o+(F=f[7])*L,e[5]=n*s+C*v+p*h+F*m,e[6]=n*c+C*w+p*M+F*S,e[7]=n*u+C*d+p*T+F*b,e[8]=(n=f[8])*a+(C=f[9])*y+(p=f[10])*o+(F=f[11])*L,e[9]=n*s+C*v+p*h+F*m,e[10]=n*c+C*w+p*M+F*S,e[11]=n*u+C*d+p*T+F*b,e[12]=(n=f[12])*a+(C=f[13])*y+(p=f[14])*o+(F=f[15])*L,e[13]=n*s+C*v+p*h+F*m,e[14]=n*c+C*w+p*M+F*S,e[15]=n*u+C*d+p*T+F*b,e}},5268:function(l){l.exports=function x(e,r,f,a,s,c,u){var y=1/(r-f),v=1/(a-s),w=1/(c-u);return e[0]=-2*y,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*v,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*w,e[11]=0,e[12]=(r+f)*y,e[13]=(s+a)*v,e[14]=(u+c)*w,e[15]=1,e}},1120:function(l){l.exports=function x(e,r,f,a,s){var c=1/Math.tan(r/2),u=1/(a-s);return e[0]=c/f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(s+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*s*a*u,e[15]=0,e}},4422:function(l){l.exports=function x(e,r,f,a){var v,w,d,o,h,M,T,L,m,S,b,n,C,p,F,D,N,k,O,B,z,U,G,Q,s=a[0],c=a[1],u=a[2],y=Math.sqrt(s*s+c*c+u*u);return Math.abs(y)<1e-6?null:(s*=y=1/y,c*=y,u*=y,v=Math.sin(f),w=Math.cos(f),h=r[1],M=r[2],T=r[3],m=r[5],S=r[6],b=r[7],C=r[9],p=r[10],F=r[11],O=s*c*(d=1-w)-u*v,B=c*c*d+w,z=u*c*d+s*v,U=s*u*d+c*v,G=c*u*d-s*v,Q=u*u*d+w,e[0]=(o=r[0])*(D=s*s*d+w)+(L=r[4])*(N=c*s*d+u*v)+(n=r[8])*(k=u*s*d-c*v),e[1]=h*D+m*N+C*k,e[2]=M*D+S*N+p*k,e[3]=T*D+b*N+F*k,e[4]=o*O+L*B+n*z,e[5]=h*O+m*B+C*z,e[6]=M*O+S*B+p*z,e[7]=T*O+b*B+F*z,e[8]=o*U+L*G+n*Q,e[9]=h*U+m*G+C*Q,e[10]=M*U+S*G+p*Q,e[11]=T*U+b*G+F*Q,r!==e&&(e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e)}},6109:function(l){l.exports=function x(e,r,f){var a=Math.sin(f),s=Math.cos(f),c=r[4],u=r[5],y=r[6],v=r[7],w=r[8],d=r[9],o=r[10],h=r[11];return r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=c*s+w*a,e[5]=u*s+d*a,e[6]=y*s+o*a,e[7]=v*s+h*a,e[8]=w*s-c*a,e[9]=d*s-u*a,e[10]=o*s-y*a,e[11]=h*s-v*a,e}},7115:function(l){l.exports=function x(e,r,f){var a=Math.sin(f),s=Math.cos(f),c=r[0],u=r[1],y=r[2],v=r[3],w=r[8],d=r[9],o=r[10],h=r[11];return r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=c*s-w*a,e[1]=u*s-d*a,e[2]=y*s-o*a,e[3]=v*s-h*a,e[8]=c*a+w*s,e[9]=u*a+d*s,e[10]=y*a+o*s,e[11]=v*a+h*s,e}},5240:function(l){l.exports=function x(e,r,f){var a=Math.sin(f),s=Math.cos(f),c=r[0],u=r[1],y=r[2],v=r[3],w=r[4],d=r[5],o=r[6],h=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=c*s+w*a,e[1]=u*s+d*a,e[2]=y*s+o*a,e[3]=v*s+h*a,e[4]=w*s-c*a,e[5]=d*s-u*a,e[6]=o*s-y*a,e[7]=h*s-v*a,e}},3668:function(l){l.exports=function x(e,r,f){var a=f[0],s=f[1],c=f[2];return e[0]=r[0]*a,e[1]=r[1]*a,e[2]=r[2]*a,e[3]=r[3]*a,e[4]=r[4]*s,e[5]=r[5]*s,e[6]=r[6]*s,e[7]=r[7]*s,e[8]=r[8]*c,e[9]=r[9]*c,e[10]=r[10]*c,e[11]=r[11]*c,e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}},998:function(l){l.exports=function x(e,r,f){var u,y,v,w,d,o,h,M,T,L,m,S,a=f[0],s=f[1],c=f[2];return r===e?(e[12]=r[0]*a+r[4]*s+r[8]*c+r[12],e[13]=r[1]*a+r[5]*s+r[9]*c+r[13],e[14]=r[2]*a+r[6]*s+r[10]*c+r[14],e[15]=r[3]*a+r[7]*s+r[11]*c+r[15]):(y=r[1],v=r[2],w=r[3],d=r[4],o=r[5],h=r[6],M=r[7],T=r[8],L=r[9],m=r[10],S=r[11],e[0]=u=r[0],e[1]=y,e[2]=v,e[3]=w,e[4]=d,e[5]=o,e[6]=h,e[7]=M,e[8]=T,e[9]=L,e[10]=m,e[11]=S,e[12]=u*a+d*s+T*c+r[12],e[13]=y*a+o*s+L*c+r[13],e[14]=v*a+h*s+m*c+r[14],e[15]=w*a+M*s+S*c+r[15]),e}},2142:function(l){l.exports=function x(e,r){if(e===r){var f=r[1],a=r[2],s=r[3],c=r[6],u=r[7],y=r[11];e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=f,e[6]=r[9],e[7]=r[13],e[8]=a,e[9]=c,e[11]=r[14],e[12]=s,e[13]=u,e[14]=y}else e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=r[1],e[5]=r[5],e[6]=r[9],e[7]=r[13],e[8]=r[2],e[9]=r[6],e[10]=r[10],e[11]=r[14],e[12]=r[3],e[13]=r[7],e[14]=r[11],e[15]=r[15];return e}},4340:function(l,x,e){"use strict";var r=e(957),f=e(7309);function a(v,w){for(var d=[0,0,0,0],o=0;o<4;++o)for(var h=0;h<4;++h)d[h]+=v[4*o+h]*w[o];return d}function s(v,w,d,o,h){for(var M=a(o,a(d,a(w,[v[0],v[1],v[2],1]))),T=0;T<3;++T)M[T]/=M[3];return[.5*h[0]*(1+M[0]),.5*h[1]*(1-M[1])]}function u(v,w){for(var d=[0,0,0],o=0;o<v.length;++o)for(var h=v[o],M=w[o],T=0;T<3;++T)d[T]+=M*h[T];return d}l.exports=function y(v,w,d,o,h,M){if(1===v.length)return[0,v[0].slice()];for(var T=new Array(v.length),L=0;L<v.length;++L)T[L]=s(v[L],d,o,h,M);var m=0,S=1/0;for(L=0;L<T.length;++L){for(var b=0,n=0;n<2;++n)b+=Math.pow(T[L][n]-w[n],2);b<S&&(S=b,m=L)}var C=function c(v,w){if(2===v.length){for(var d=0,o=0,h=0;h<2;++h)d+=Math.pow(w[h]-v[0][h],2),o+=Math.pow(w[h]-v[1][h],2);return(d=Math.sqrt(d))+(o=Math.sqrt(o))<1e-6?[1,0]:[o/(d+o),d/(o+d)]}if(3===v.length){var M=[0,0];return f(v[0],v[1],v[2],w,M),r(v,M)}return[]}(T,w),p=0;for(L=0;L<3;++L){if(C[L]<-.001||C[L]>1.0001)return null;p+=C[L]}return Math.abs(p-1)>.001?null:[m,u(v,C),C]}},2056:function(l,x,e){var r=e(6832),f=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),a=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),y=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),v=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),w=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),d=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),h=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);x.meshShader={vertex:f,fragment:a,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},x.wireShader={vertex:s,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},x.pointShader={vertex:u,fragment:y,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},x.pickShader={vertex:v,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},x.pointPickShader={vertex:d,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},x.contourShader={vertex:o,fragment:h,attributes:[{name:"position",type:"vec3"}]}},8116:function(l,x,e){"use strict";var a=e(5158),s=e(5827),c=e(2944),u=e(8931),y=e(115),v=e(104),w=e(7437),d=e(5050),o=e(9156),h=e(7212),M=e(5306),T=e(2056),L=e(4340),m=T.meshShader,S=T.wireShader,b=T.pointShader,n=T.pickShader,C=T.pointPickShader,p=T.contourShader,F=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function D(J,j,Z,H,X,at,_,K,nt,et,st,dt,Tt,bt,Dt,Ft,Mt,wt,St,Ut,Gt,Pt,Vt,te,_t,kt,zt){this.gl=J,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=j,this.dirty=!0,this.triShader=Z,this.lineShader=H,this.pointShader=X,this.pickShader=at,this.pointPickShader=_,this.contourShader=K,this.trianglePositions=nt,this.triangleColors=st,this.triangleNormals=Tt,this.triangleUVs=dt,this.triangleIds=et,this.triangleVAO=bt,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Dt,this.edgeColors=Mt,this.edgeUVs=wt,this.edgeIds=Ft,this.edgeVAO=St,this.edgeCount=0,this.pointPositions=Ut,this.pointColors=Pt,this.pointUVs=Vt,this.pointSizes=te,this.pointIds=Gt,this.pointVAO=_t,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=kt,this.contourVAO=zt,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=F,this._view=F,this._projection=F,this._resolution=[1,1]}var N=D.prototype;function k(J,j){if(!j||!j.length)return 1;for(var Z=0;Z<j.length;++Z){if(j.length<2)return 1;if(j[Z][0]===J)return j[Z][1];if(j[Z][0]>J&&Z>0){var H=(j[Z][0]-J)/(j[Z][0]-j[Z-1][0]);return j[Z][1]*(1-H)+H*j[Z-1][1]}}return 1}function z(J){var j=a(J,m.vertex,m.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j.attributes.normal.location=4,j}function U(J){var j=a(J,S.vertex,S.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j}function G(J){var j=a(J,b.vertex,b.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j.attributes.pointSize.location=4,j}function Q(J){var j=a(J,n.vertex,n.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j}function rt(J){var j=a(J,C.vertex,C.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j.attributes.pointSize.location=4,j}function it(J){var j=a(J,p.vertex,p.fragment);return j.attributes.position.location=0,j}N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(J){this.pickId=J},N.highlight=function(J){if(J&&this.contourEnable){for(var j=h(this.cells,this.intensity,J.intensity),Z=j.cells,H=j.vertexIds,X=j.vertexWeights,at=Z.length,_=M.mallocFloat32(6*at),K=0,nt=0;nt<at;++nt)for(var et=Z[nt],st=0;st<2;++st){var dt=et[0];2===et.length&&(dt=et[st]);for(var Dt=X[dt],Ft=1-Dt,Mt=this.positions[H[dt][0]],wt=this.positions[H[dt][1]],St=0;St<3;++St)_[K++]=Dt*Mt[St]+Ft*wt[St]}this.contourCount=K/3|0,this.contourPositions.update(_.subarray(0,K)),M.free(_)}else this.contourCount=0},N.update=function(J){J=J||{};var j=this.gl;this.dirty=!0,"contourEnable"in J&&(this.contourEnable=J.contourEnable),"contourColor"in J&&(this.contourColor=J.contourColor),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"lightPosition"in J&&(this.lightPosition=J.lightPosition),this.hasAlpha=!1,"opacity"in J&&(this.opacity=J.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in J&&(this.opacityscale=J.opacityscale,this.hasAlpha=!0),"ambient"in J&&(this.ambientLight=J.ambient),"diffuse"in J&&(this.diffuseLight=J.diffuse),"specular"in J&&(this.specularLight=J.specular),"roughness"in J&&(this.roughness=J.roughness),"fresnel"in J&&(this.fresnel=J.fresnel),J.texture?(this.texture.dispose(),this.texture=u(j,J.texture)):J.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=j.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=j.LINEAR,this.texture.setPixels(function O(J,j){for(var Z=o({colormap:J,nshades:256,format:"rgba"}),H=new Uint8Array(1024),X=0;X<256;++X){for(var at=Z[X],_=0;_<3;++_)H[4*X+_]=at[_];H[4*X+3]=j?255*k(X/255,j):255*at[3]}return d(H,[256,256,4],[4,0,1])}(J.colormap,this.opacityscale)),this.texture.generateMipmap());var Z=J.cells,H=J.positions;if(H&&Z){var X=[],at=[],_=[],K=[],nt=[],et=[],st=[],dt=[],Tt=[],bt=[],Dt=[],Ft=[],Mt=[],wt=[];this.cells=Z,this.positions=H;var St=J.vertexNormals,Ut=J.cellNormals,Gt=void 0===J.vertexNormalsEpsilon?1e-6:J.vertexNormalsEpsilon;J.useFacetNormals&&!Ut&&(Ut=y.faceNormals(Z,H,void 0===J.faceNormalsEpsilon?1e-6:J.faceNormalsEpsilon)),!Ut&&!St&&(St=y.vertexNormals(Z,H,Gt));var Vt=J.vertexColors,te=J.cellColors,_t=J.meshColor||[1,1,1,1],kt=J.vertexUVs,zt=J.vertexIntensity,qt=J.cellUVs,ae=J.cellIntensity,oe=1/0,pe=-1/0;if(!kt&&!qt)if(zt)if(J.vertexIntensityBounds)oe=+J.vertexIntensityBounds[0],pe=+J.vertexIntensityBounds[1];else for(var ye=0;ye<zt.length;++ye){var Fe=zt[ye];oe=Math.min(oe,Fe),pe=Math.max(pe,Fe)}else if(ae)if(J.cellIntensityBounds)oe=+J.cellIntensityBounds[0],pe=+J.cellIntensityBounds[1];else for(ye=0;ye<ae.length;++ye)Fe=ae[ye],oe=Math.min(oe,Fe),pe=Math.max(pe,Fe);else for(ye=0;ye<H.length;++ye)Fe=H[ye][2],oe=Math.min(oe,Fe),pe=Math.max(pe,Fe);this.intensity=zt||ae||function B(J){for(var j=J.length,Z=new Array(j),H=0;H<j;++H)Z[H]=J[H][2];return Z}(H),this.pickVertex=!(ae||te);var Zt=J.pointSizes,Ct=J.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],ye=0;ye<H.length;++ye)for(var Et=H[ye],Rt=0;Rt<3;++Rt)isNaN(Et[Rt])||!isFinite(Et[Rt])||(this.bounds[0][Rt]=Math.min(this.bounds[0][Rt],Et[Rt]),this.bounds[1][Rt]=Math.max(this.bounds[1][Rt],Et[Rt]));var Ot=0,It=0,gt=0;t:for(ye=0;ye<Z.length;++ye){var pt=Z[ye];switch(pt.length){case 1:for(Et=H[vt=pt[0]],Rt=0;Rt<3;++Rt)if(isNaN(Et[Rt])||!isFinite(Et[Rt]))continue t;bt.push(Et[0],Et[1],Et[2]),yt=Vt?Vt[vt]:te?te[ye]:_t,this.opacityscale&&zt?at.push(yt[0],yt[1],yt[2],this.opacity*k((zt[vt]-oe)/(pe-oe),this.opacityscale)):3===yt.length?Dt.push(yt[0],yt[1],yt[2],this.opacity):(Dt.push(yt[0],yt[1],yt[2],yt[3]*this.opacity),yt[3]<1&&(this.hasAlpha=!0)),Ft.push((Yt=kt?kt[vt]:zt?[(zt[vt]-oe)/(pe-oe),0]:qt?qt[ye]:ae?[(ae[ye]-oe)/(pe-oe),0]:[(Et[2]-oe)/(pe-oe),0])[0],Yt[1]),Mt.push(Zt?Zt[vt]:Ct),wt.push(ye),gt+=1;break;case 2:for(Rt=0;Rt<2;++Rt){Et=H[vt=pt[Rt]];for(var Qt=0;Qt<3;++Qt)if(isNaN(Et[Qt])||!isFinite(Et[Qt]))continue t}for(Rt=0;Rt<2;++Rt)et.push((Et=H[vt=pt[Rt]])[0],Et[1],Et[2]),yt=Vt?Vt[vt]:te?te[ye]:_t,this.opacityscale&&zt?at.push(yt[0],yt[1],yt[2],this.opacity*k((zt[vt]-oe)/(pe-oe),this.opacityscale)):3===yt.length?st.push(yt[0],yt[1],yt[2],this.opacity):(st.push(yt[0],yt[1],yt[2],yt[3]*this.opacity),yt[3]<1&&(this.hasAlpha=!0)),dt.push((Yt=kt?kt[vt]:zt?[(zt[vt]-oe)/(pe-oe),0]:qt?qt[ye]:ae?[(ae[ye]-oe)/(pe-oe),0]:[(Et[2]-oe)/(pe-oe),0])[0],Yt[1]),Tt.push(ye);It+=1;break;case 3:for(Rt=0;Rt<3;++Rt)for(Et=H[vt=pt[Rt]],Qt=0;Qt<3;++Qt)if(isNaN(Et[Qt])||!isFinite(Et[Qt]))continue t;for(Rt=0;Rt<3;++Rt){var vt,yt,Yt,le;X.push((Et=H[vt=pt[2-Rt]])[0],Et[1],Et[2]),(yt=Vt?Vt[vt]:te?te[ye]:_t)?this.opacityscale&&zt?at.push(yt[0],yt[1],yt[2],this.opacity*k((zt[vt]-oe)/(pe-oe),this.opacityscale)):3===yt.length?at.push(yt[0],yt[1],yt[2],this.opacity):(at.push(yt[0],yt[1],yt[2],yt[3]*this.opacity),yt[3]<1&&(this.hasAlpha=!0)):at.push(.5,.5,.5,1),K.push((Yt=kt?kt[vt]:zt?[(zt[vt]-oe)/(pe-oe),0]:qt?qt[ye]:ae?[(ae[ye]-oe)/(pe-oe),0]:[(Et[2]-oe)/(pe-oe),0])[0],Yt[1]),_.push((le=St?St[vt]:Ut[ye])[0],le[1],le[2]),nt.push(ye)}Ot+=1}}this.pointCount=gt,this.edgeCount=It,this.triangleCount=Ot,this.pointPositions.update(bt),this.pointColors.update(Dt),this.pointUVs.update(Ft),this.pointSizes.update(Mt),this.pointIds.update(new Uint32Array(wt)),this.edgePositions.update(et),this.edgeColors.update(st),this.edgeUVs.update(dt),this.edgeIds.update(new Uint32Array(Tt)),this.trianglePositions.update(X),this.triangleColors.update(at),this.triangleUVs.update(K),this.triangleNormals.update(_),this.triangleIds.update(new Uint32Array(nt))}},N.drawTransparent=N.draw=function(J){for(var j=this.gl,Z=(J=J||{}).model||F,H=J.view||F,X=J.projection||F,at=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)at[0][_]=Math.max(at[0][_],this.clipBounds[0][_]),at[1][_]=Math.min(at[1][_],this.clipBounds[1][_]);var K={model:Z,view:H,projection:X,inverseModel:F.slice(),clipBounds:at,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};K.inverseModel=w(K.inverseModel,K.model),j.disable(j.CULL_FACE),this.texture.bind(0);var Tt,nt=new Array(16);for(v(nt,K.view,K.model),v(nt,K.projection,nt),w(nt,nt),_=0;_<3;++_)K.eyePosition[_]=nt[12+_]/nt[15];var et=nt[15];for(_=0;_<3;++_)et+=this.lightPosition[_]*nt[4*_+3];for(_=0;_<3;++_){for(var st=nt[12+_],dt=0;dt<3;++dt)st+=nt[4*dt+_]*this.lightPosition[dt];K.lightPosition[_]=st/et}this.triangleCount>0&&((Tt=this.triShader).bind(),Tt.uniforms=K,this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((Tt=this.lineShader).bind(),Tt.uniforms=K,this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((Tt=this.pointShader).bind(),Tt.uniforms=K,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((Tt=this.contourShader).bind(),Tt.uniforms=K,this.contourVAO.bind(),j.drawArrays(j.LINES,0,this.contourCount),this.contourVAO.unbind())},N.drawPick=function(J){for(var j=this.gl,Z=(J=J||{}).model||F,H=J.view||F,X=J.projection||F,at=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)at[0][_]=Math.max(at[0][_],this.clipBounds[0][_]),at[1][_]=Math.min(at[1][_],this.clipBounds[1][_]);this._model=[].slice.call(Z),this._view=[].slice.call(H),this._projection=[].slice.call(X),this._resolution=[j.drawingBufferWidth,j.drawingBufferHeight];var nt,K={model:Z,view:H,projection:X,clipBounds:at,pickId:this.pickId/255};(nt=this.pickShader).bind(),nt.uniforms=K,this.triangleCount>0&&(this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((nt=this.pointPickShader).bind(),nt.uniforms=K,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind())},N.pick=function(J){if(!J||J.id!==this.pickId)return null;for(var j=J.value[0]+256*J.value[1]+65536*J.value[2],Z=this.cells[j],H=this.positions,X=new Array(Z.length),at=0;at<Z.length;++at)X[at]=H[Z[at]];var _=J.coord[0],K=J.coord[1];if(!this.pickVertex){var nt=this.positions[Z[0]],et=this.positions[Z[1]],st=this.positions[Z[2]];return{_cellCenter:!0,position:[_,K],index:j,cell:Z,cellId:j,intensity:this.intensity[j],dataCoordinate:[(nt[0]+et[0]+st[0])/3,(nt[1]+et[1]+st[1])/3,(nt[2]+et[2]+st[2])/3]}}var Tt=L(X,[_*this.pixelRatio,this._resolution[1]-K*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Tt)return null;var bt=Tt[2],Dt=0;for(at=0;at<Z.length;++at)Dt+=bt[at]*this.intensity[Z[at]];return{position:Tt[1],index:Z[Tt[0]],cell:Z,cellId:j,intensity:Dt,dataCoordinate:this.positions[Z[Tt[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},l.exports=function ut(J,j){if(1===arguments.length&&(J=(j=J).gl),!(J.getExtension("OES_standard_derivatives")||J.getExtension("MOZ_OES_standard_derivatives")||J.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var H=z(J),X=U(J),at=G(J),_=Q(J),K=rt(J),nt=it(J),et=u(J,d(new Uint8Array([255,255,255,255]),[1,1,4]));et.generateMipmap(),et.minFilter=J.LINEAR_MIPMAP_LINEAR,et.magFilter=J.LINEAR;var st=s(J),dt=s(J),Tt=s(J),bt=s(J),Dt=s(J),Ft=c(J,[{buffer:st,type:J.FLOAT,size:3},{buffer:Dt,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:dt,type:J.FLOAT,size:4},{buffer:Tt,type:J.FLOAT,size:2},{buffer:bt,type:J.FLOAT,size:3}]),Mt=s(J),wt=s(J),St=s(J),Ut=s(J),Gt=c(J,[{buffer:Mt,type:J.FLOAT,size:3},{buffer:Ut,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:wt,type:J.FLOAT,size:4},{buffer:St,type:J.FLOAT,size:2}]),Pt=s(J),Vt=s(J),te=s(J),_t=s(J),kt=s(J),zt=c(J,[{buffer:Pt,type:J.FLOAT,size:3},{buffer:kt,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Vt,type:J.FLOAT,size:4},{buffer:te,type:J.FLOAT,size:2},{buffer:_t,type:J.FLOAT,size:1}]),qt=s(J),oe=new D(J,et,H,X,at,_,K,nt,st,Dt,dt,Tt,bt,Ft,Mt,Ut,wt,St,Gt,Pt,kt,Vt,te,_t,zt,qt,c(J,[{buffer:qt,type:J.FLOAT,size:3}]));return oe.update(j),oe}},4554:function(l,x,e){"use strict";l.exports=function u(y){var v=y.gl;return new s(y,r(v,[0,0,0,1,1,0,1,1]),f(v,a.boxVert,a.lineFrag))};var r=e(5827),f=e(5158),a=e(2709);function s(y,v,w){this.plot=y,this.vbo=v,this.shader=w}var y,v,c=s.prototype;c.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},c.drawBox=(y=[0,0],v=[0,0],function(w,d,o,h,M){var L=this.shader,m=this.plot.gl;y[0]=w,y[1]=d,v[0]=o,v[1]=h,L.uniforms.lo=y,L.uniforms.hi=v,L.uniforms.color=M,m.drawArrays(m.TRIANGLE_STRIP,0,4)}),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(l,x,e){"use strict";l.exports=function v(w){var d=w.gl;return new c(w,r(d),f(d,s.gridVert,s.gridFrag),f(d,s.tickVert,s.gridFrag))};var r=e(5827),f=e(5158),a=e(5070),s=e(2709);function c(w,d,o,h){this.plot=w,this.vbo=d,this.shader=o,this.tickShader=h,this.ticks=[[],[]]}function u(w,d){return w-d}var w,d,o,y=c.prototype;y.draw=(w=[0,0],d=[0,0],o=[0,0],function(){for(var h=this.plot,M=this.vbo,T=this.shader,L=this.ticks,m=h.gl,S=h._tickBounds,b=h.dataBox,n=h.viewBox,C=h.gridLineWidth,p=h.gridLineColor,F=h.gridLineEnable,D=h.pixelRatio,N=0;N<2;++N){var k=S[N],z=.5*(b[N+2]+b[N]),U=b[N+2]-b[N];d[N]=2*(S[N+2]-k)/U,w[N]=2*(k-z)/U}T.bind(),M.bind(),T.attributes.dataCoord.pointer(),T.uniforms.dataShift=w,T.uniforms.dataScale=d;var G=0;for(N=0;N<2;++N){o[0]=o[1]=0,o[N]=1,T.uniforms.dataAxis=o,T.uniforms.lineWidth=C[N]/(n[N+2]-n[N])*D,T.uniforms.color=p[N];var Q=6*L[N].length;F[N]&&Q&&m.drawArrays(m.TRIANGLES,G,Q),G+=Q}}),y.drawTickMarks=function(){var w=[0,0],d=[0,0],o=[1,0],h=[0,1],M=[0,0],T=[0,0];return function(){for(var L=this.plot,m=this.vbo,S=this.tickShader,b=this.ticks,n=L.gl,C=L._tickBounds,p=L.dataBox,F=L.viewBox,D=L.pixelRatio,N=L.screenBox,k=N[2]-N[0],O=N[3]-N[1],B=F[2]-F[0],z=F[3]-F[1],U=0;U<2;++U){var G=C[U],it=.5*(p[U+2]+p[U]),ut=p[U+2]-p[U];d[U]=2*(C[U+2]-G)/ut,w[U]=2*(G-it)/ut}d[0]*=B/k,w[0]*=B/k,d[1]*=z/O,w[1]*=z/O,S.bind(),m.bind(),S.attributes.dataCoord.pointer();var J=S.uniforms;J.dataShift=w,J.dataScale=d;var j=L.tickMarkLength,Z=L.tickMarkWidth,H=L.tickMarkColor,at=6*b[0].length,_=Math.min(a.ge(b[0],(p[0]-C[0])/(C[2]-C[0]),u),b[0].length),K=Math.min(a.gt(b[0],(p[2]-C[0])/(C[2]-C[0]),u),b[0].length),nt=0+6*_,et=6*Math.max(0,K-_),st=Math.min(a.ge(b[1],(p[1]-C[1])/(C[3]-C[1]),u),b[1].length),dt=Math.min(a.gt(b[1],(p[3]-C[1])/(C[3]-C[1]),u),b[1].length),Tt=at+6*st,bt=6*Math.max(0,dt-st);M[0]=2*(F[0]-j[1])/k-1,M[1]=(F[3]+F[1])/O-1,T[0]=j[1]*D/k,T[1]=Z[1]*D/O,bt&&(J.color=H[1],J.tickScale=T,J.dataAxis=h,J.screenOffset=M,n.drawArrays(n.TRIANGLES,Tt,bt)),M[0]=(F[2]+F[0])/k-1,M[1]=2*(F[1]-j[0])/O-1,T[0]=Z[0]*D/k,T[1]=j[0]*D/O,et&&(J.color=H[0],J.tickScale=T,J.dataAxis=o,J.screenOffset=M,n.drawArrays(n.TRIANGLES,nt,et)),M[0]=2*(F[2]+j[3])/k-1,M[1]=(F[3]+F[1])/O-1,T[0]=j[3]*D/k,T[1]=Z[3]*D/O,bt&&(J.color=H[3],J.tickScale=T,J.dataAxis=h,J.screenOffset=M,n.drawArrays(n.TRIANGLES,Tt,bt)),M[0]=(F[2]+F[0])/k-1,M[1]=2*(F[3]+j[2])/O-1,T[0]=Z[2]*D/k,T[1]=j[2]*D/O,et&&(J.color=H[2],J.tickScale=T,J.dataAxis=o,J.screenOffset=M,n.drawArrays(n.TRIANGLES,nt,et))}}(),y.update=function(){var w=[1,1,-1,-1,1,-1],d=[1,-1,1,1,-1,-1];return function(o){for(var h=o.ticks,M=o.bounds,T=new Float32Array(18*(h[0].length+h[1].length)),m=0,S=[[],[]],b=0;b<2;++b)for(var n=S[b],C=h[b],p=M[b],F=M[b+2],D=0;D<C.length;++D){var N=(C[D].x-p)/(F-p);n.push(N);for(var k=0;k<6;++k)T[m++]=N,T[m++]=w[k],T[m++]=d[k]}this.ticks=S,this.vbo.update(T)}}(),y.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(l,x,e){"use strict";l.exports=function u(y){var v=y.gl;return new s(y,r(v,[-1,-1,-1,1,1,-1,1,1]),f(v,a.lineVert,a.lineFrag))};var r=e(5827),f=e(5158),a=e(2709);function s(y,v,w){this.plot=y,this.vbo=v,this.shader=w}var y,v,c=s.prototype;c.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},c.drawLine=(y=[0,0],v=[0,0],function(w,d,o,h,M,T){var L=this.plot,m=this.shader,S=L.gl;y[0]=w,y[1]=d,v[0]=o,v[1]=h,m.uniforms.start=y,m.uniforms.end=v,m.uniforms.width=M*L.pixelRatio,m.uniforms.color=T,S.drawArrays(S.TRIANGLE_STRIP,0,4)}),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(l,x,e){"use strict";var r=e(6832),f=r(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);l.exports={lineVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:f,textVert:r(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:f,gridVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:f,boxVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},5613:function(l,x,e){"use strict";l.exports=function v(w){var d=w.gl;return new u(w,r(d),f(d,c.textVert,c.textFrag))};var r=e(5827),f=e(5158),a=e(6946),s=e(5070),c=e(2709);function u(w,d,o){this.plot=w,this.vbo=d,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var w,d,o,y=u.prototype;y.drawTicks=(w=[0,0],d=[0,0],o=[0,0],function(h){var M=this.plot,T=this.shader,L=this.tickX[h],m=this.tickOffset[h],S=M.gl,b=M.viewBox,n=M.dataBox,C=M.screenBox,p=M.pixelRatio,F=M.tickEnable,D=M.tickPad,N=M.tickColor,k=M.tickAngle,O=M.labelEnable,B=M.labelPad,z=M.labelColor,U=M.labelAngle,G=this.labelOffset[h],Q=this.labelCount[h],rt=s.lt(L,n[h]),it=s.le(L,n[h+2]);w[0]=w[1]=0,w[h]=1,d[h]=(b[2+h]+b[h])/(C[2+h]-C[h])-1;var ut=2/C[2+(1^h)]-C[1^h];d[1^h]=ut*b[1^h]-1,F[h]&&(d[1^h]-=ut*p*D[h],rt<it&&m[it]>m[rt]&&(T.uniforms.dataAxis=w,T.uniforms.screenOffset=d,T.uniforms.color=N[h],T.uniforms.angle=k[h],S.drawArrays(S.TRIANGLES,m[rt],m[it]-m[rt]))),O[h]&&Q&&(d[1^h]-=ut*p*B[h],T.uniforms.dataAxis=o,T.uniforms.screenOffset=d,T.uniforms.color=z[h],T.uniforms.angle=U[h],S.drawArrays(S.TRIANGLES,G,Q)),d[1^h]=ut*b[2+(1^h)]-1,F[h+2]&&(d[1^h]+=ut*p*D[h+2],rt<it&&m[it]>m[rt]&&(T.uniforms.dataAxis=w,T.uniforms.screenOffset=d,T.uniforms.color=N[h+2],T.uniforms.angle=k[h+2],S.drawArrays(S.TRIANGLES,m[rt],m[it]-m[rt]))),O[h+2]&&Q&&(d[1^h]+=ut*p*B[h+2],T.uniforms.dataAxis=o,T.uniforms.screenOffset=d,T.uniforms.color=z[h+2],T.uniforms.angle=U[h+2],S.drawArrays(S.TRIANGLES,G,Q))}),y.drawTitle=function(){var w=[0,0],d=[0,0];return function(){var o=this.plot,h=this.shader,M=o.gl,T=o.screenBox,L=o.titleCenter,m=o.titleAngle,S=o.titleColor,b=o.pixelRatio;if(this.titleCount){for(var n=0;n<2;++n)d[n]=2*(L[n]*b-T[n])/(T[2+n]-T[n])-1;h.bind(),h.uniforms.dataAxis=w,h.uniforms.screenOffset=d,h.uniforms.angle=m,h.uniforms.color=S,M.drawArrays(M.TRIANGLES,this.titleOffset,this.titleCount)}}}(),y.bind=function(){var w=[0,0],d=[0,0],o=[0,0];return function(){var h=this.plot,M=this.shader,T=h._tickBounds,L=h.dataBox,m=h.screenBox,S=h.viewBox;M.bind();for(var b=0;b<2;++b){var n=T[b],F=.5*(L[b+2]+L[b]),D=L[b+2]-L[b],O=S[b+2]-S[b],U=m[b+2]-m[b];d[b]=2*(T[b+2]-n)/D*O/U,w[b]=2*(n-F)/D*O/U}o[1]=2*h.pixelRatio/(m[3]-m[1]),o[0]=o[1]*(m[3]-m[1])/(m[2]-m[0]),M.uniforms.dataScale=d,M.uniforms.dataShift=w,M.uniforms.textScale=o,this.vbo.bind(),M.attributes.textCoordinate.pointer()}}(),y.update=function(w){var M,T,m,S,b,d=[],o=w.ticks,h=w.bounds;for(b=0;b<2;++b){var n=[Math.floor(d.length/3)],C=[-1/0],p=o[b];for(M=0;M<p.length;++M){var F=p[M],D=F.x,k=F.font||"sans-serif";S=F.fontSize||12;for(var O=1/(h[b+2]-h[b]),B=h[b],z=F.text.split("\n"),U=0;U<z.length;U++)for(m=a(k,z[U]).data,T=0;T<m.length;T+=2)d.push(m[T]*S,-m[T+1]*S-U*S*1.2,(D-B)*O);n.push(Math.floor(d.length/3)),C.push(D)}this.tickOffset[b]=n,this.tickX[b]=C}for(b=0;b<2;++b){for(this.labelOffset[b]=Math.floor(d.length/3),m=a(w.labelFont[b],w.labels[b],{textAlign:"center"}).data,S=w.labelSize[b],M=0;M<m.length;M+=2)d.push(m[M]*S,-m[M+1]*S,0);this.labelCount[b]=Math.floor(d.length/3)-this.labelOffset[b]}for(this.titleOffset=Math.floor(d.length/3),m=a(w.titleFont,w.title).data,S=w.titleSize,M=0;M<m.length;M+=2)d.push(m[M]*S,-m[M+1]*S,0);this.titleCount=Math.floor(d.length/3)-this.titleOffset,this.vbo.update(d)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(l,x,e){"use strict";l.exports=function o(h){var M=h.gl,L=new u(M,r(M,[M.drawingBufferWidth,M.drawingBufferHeight]));return L.grid=f(L),L.text=a(L),L.line=s(L),L.box=c(L),L.update(h),L};var r=e(2611),f=e(3016),a=e(5613),s=e(1154),c=e(4554);function u(h,M){this.gl=h,this.pickBuffer=M,this.screenBox=[0,0,h.drawingBufferWidth,h.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var y=u.prototype;function w(h){for(var M=h.slice(),T=0;T<M.length;++T)M[T]=M[T].slice();return M}function d(h,M){return h.x-M.x}y.setDirty=function(){this.dirty=this.pickDirty=!0},y.setOverlayDirty=function(){this.dirty=!0},y.nextDepthValue=function(){return this._depthCounter++/65536},y.draw=function(){var M=this.gl,T=this.screenBox,L=this.viewBox,m=this.dataBox,S=this.pixelRatio,b=this.grid,n=this.line,C=this.text,p=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,M.bindFramebuffer(M.FRAMEBUFFER,null),M.enable(M.SCISSOR_TEST),M.disable(M.DEPTH_TEST),M.depthFunc(M.LESS),M.depthMask(!1),M.enable(M.BLEND),M.blendEquation(M.FUNC_ADD,M.FUNC_ADD),M.blendFunc(M.ONE,M.ONE_MINUS_SRC_ALPHA),this.borderColor){M.scissor(T[0],T[1],T[2]-T[0],T[3]-T[1]);var F=this.borderColor;M.clearColor(F[0]*F[3],F[1]*F[3],F[2]*F[3],F[3]),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT)}M.scissor(L[0],L[1],L[2]-L[0],L[3]-L[1]),M.viewport(L[0],L[1],L[2]-L[0],L[3]-L[1]);var D=this.backgroundColor;M.clearColor(D[0]*D[3],D[1]*D[3],D[2]*D[3],D[3]),M.clear(M.COLOR_BUFFER_BIT),b.draw();var N=this.zeroLineEnable,k=this.zeroLineColor,O=this.zeroLineWidth;if(N[0]||N[1]){n.bind();for(var B=0;B<2;++B)if(N[B]&&m[B]<=0&&m[B+2]>=0){var z=T[B]-m[B]*(T[B+2]-T[B])/(m[B+2]-m[B]);0===B?n.drawLine(z,T[1],z,T[3],O[B],k[B]):n.drawLine(T[0],z,T[2],z,O[B],k[B])}}for(B=0;B<p.length;++B)p[B].draw();M.viewport(T[0],T[1],T[2]-T[0],T[3]-T[1]),M.scissor(T[0],T[1],T[2]-T[0],T[3]-T[1]),this.grid.drawTickMarks(),n.bind();var U=this.borderLineEnable,G=this.borderLineWidth,Q=this.borderLineColor;for(U[1]&&n.drawLine(L[0],L[1]-.5*G[1]*S,L[0],L[3]+.5*G[3]*S,G[1],Q[1]),U[0]&&n.drawLine(L[0]-.5*G[0]*S,L[1],L[2]+.5*G[2]*S,L[1],G[0],Q[0]),U[3]&&n.drawLine(L[2],L[1]-.5*G[1]*S,L[2],L[3]+.5*G[3]*S,G[3],Q[3]),U[2]&&n.drawLine(L[0]-.5*G[0]*S,L[3],L[2]+.5*G[2]*S,L[3],G[2],Q[2]),C.bind(),B=0;B<2;++B)C.drawTicks(B);this.titleEnable&&C.drawTitle();var rt=this.overlays;for(B=0;B<rt.length;++B)rt[B].draw();M.disable(M.SCISSOR_TEST),M.disable(M.BLEND),M.depthMask(!0)}},y.drawPick=function(){if(!this.static){var h=this.pickBuffer;this._pickTimeout=null,h.begin();for(var T=1,L=this.objects,m=0;m<L.length;++m)T=L[m].drawPick(T);h.end()}},y.pick=function(h,M){if(!this.static){var T=this.pixelRatio,L=this.pickPixelRatio,m=this.viewBox,S=0|Math.round((h-m[0]/T)*L),b=0|Math.round((M-m[1]/T)*L),n=this.pickBuffer.query(S,b,this.pickRadius);if(!n)return null;for(var C=n.id+(n.value[0]<<8)+(n.value[1]<<16)+(n.value[2]<<24),p=this.objects,F=0;F<p.length;++F){var D=p[F].pick(S,b,C);if(D)return D}return null}},y.setScreenBox=function(h){var M=this.screenBox,T=this.pixelRatio;M[0]=0|Math.round(h[0]*T),M[1]=0|Math.round(h[1]*T),M[2]=0|Math.round(h[2]*T),M[3]=0|Math.round(h[3]*T),this.setDirty()},y.setDataBox=function(h){var M=this.dataBox;(M[0]!==h[0]||M[1]!==h[1]||M[2]!==h[2]||M[3]!==h[3])&&(M[0]=h[0],M[1]=h[1],M[2]=h[2],M[3]=h[3],this.setDirty())},y.setViewBox=function(h){var M=this.pixelRatio,T=this.viewBox;T[0]=0|Math.round(h[0]*M),T[1]=0|Math.round(h[1]*M),T[2]=0|Math.round(h[2]*M),T[3]=0|Math.round(h[3]*M);var L=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((h[2]-h[0])*L),0|Math.round((h[3]-h[1])*L)],this.setDirty()},y.update=function(h){var M=this.gl;this.pixelRatio=(h=h||{}).pixelRatio||1;var T=this.pixelRatio;this.pickPixelRatio=Math.max(T,1),this.setScreenBox(h.screenBox||[0,0,M.drawingBufferWidth/T,M.drawingBufferHeight/T]),this.setViewBox(h.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/T,.125*(this.screenBox[3]-this.screenBox[1])/T,.875*(this.screenBox[2]-this.screenBox[0])/T,.875*(this.screenBox[3]-this.screenBox[1])/T]);var m=this.viewBox,S=(m[2]-m[0])/(m[3]-m[1]);this.setDataBox(h.dataBox||[-10,-10/S,10,10/S]),this.borderColor=!1!==h.borderColor&&(h.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(h.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(h.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(h.gridLineWidth||[1,1]).slice(),this.gridLineColor=w(h.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(h.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(h.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=w(h.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(h.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(h.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=w(h.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(h.titleCenter||[.5*(m[0]+m[2])/T,(m[3]+120)/T]).slice(),this.titleEnable=!("titleEnable"in h)||!!h.titleEnable,this.titleAngle=h.titleAngle||0,this.titleColor=(h.titleColor||[0,0,0,1]).slice(),this.labelPad=(h.labelPad||[15,15,15,15]).slice(),this.labelAngle=(h.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(h.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=w(h.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(h.tickPad||[15,15,15,15]).slice(),this.tickAngle=(h.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(h.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=w(h.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(h.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(h.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=w(h.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var b=h.ticks||[[],[]],n=this._tickBounds;n[0]=n[1]=1/0,n[2]=n[3]=-1/0;for(var C=0;C<2;++C){var p=b[C].slice(0);0!==p.length&&(p.sort(d),n[C]=Math.min(n[C],p[0].x),n[C+2]=Math.max(n[C+2],p[p.length-1].x))}this.grid.update({bounds:n,ticks:b}),this.text.update({bounds:n,ticks:b,labels:h.labels||["x","y"],labelSize:h.labelSize||[12,12],labelFont:h.labelFont||["sans-serif","sans-serif"],title:h.title||"",titleSize:h.titleSize||18,titleFont:h.titleFont||"sans-serif"}),this.static=!!h.static,this.setDirty()},y.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var h=this.objects.length-1;h>=0;--h)this.objects[h].dispose();for(this.objects.length=0,h=this.overlays.length-1;h>=0;--h)this.overlays[h].dispose();this.overlays.length=0,this.gl=null},y.addObject=function(h){this.objects.indexOf(h)<0&&(this.objects.push(h),this.setDirty())},y.removeObject=function(h){for(var M=this.objects,T=0;T<M.length;++T)if(M[T]===h){M.splice(T,1),this.setDirty();break}},y.addOverlay=function(h){this.overlays.indexOf(h)<0&&(this.overlays.push(h),this.setOverlayDirty())},y.removeOverlay=function(h){for(var M=this.overlays,T=0;T<M.length;++T)if(M[T]===h){M.splice(T,1),this.setOverlayDirty();break}}},4296:function(l,x,e){"use strict";l.exports=function y(v,w){v=v||document.body;var d=[.01,1/0];"distanceLimits"in(w=w||{})&&(d[0]=w.distanceLimits[0],d[1]=w.distanceLimits[1]),"zoomMin"in w&&(d[0]=w.zoomMin),"zoomMax"in w&&(d[1]=w.zoomMax);var o=f({center:w.center||[0,0,0],up:w.up||[0,1,0],eye:w.eye||[0,0,10],mode:w.mode||"orbit",distanceLimits:d}),h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M=0,T=v.clientWidth,L=v.clientHeight,m={keyBindingMode:"rotate",enableWheel:!0,view:o,element:v,delay:w.delay||16,rotateSpeed:w.rotateSpeed||1,zoomSpeed:w.zoomSpeed||1,translateSpeed:w.translateSpeed||1,flipX:!!w.flipX,flipY:!!w.flipY,modes:o.modes,_ortho:w._ortho||w.projection&&"orthographic"===w.projection.type||!1,tick:function(){var S=r(),b=this.delay,n=S-2*b;o.idle(S-b),o.recalcMatrix(n),o.flush(S-(100+2*b));for(var C=!0,p=o.computedMatrix,F=0;F<16;++F)C=C&&h[F]===p[F],h[F]=p[F];var D=v.clientWidth===T&&v.clientHeight===L;return T=v.clientWidth,L=v.clientHeight,C?!D:(M=Math.exp(o.computedRadius[0]),!0)},lookAt:function(S,b,n){o.lookAt(o.lastT(),S,b,n)},rotate:function(S,b,n){o.rotate(o.lastT(),S,b,n)},pan:function(S,b,n){o.pan(o.lastT(),S,b,n)},translate:function(S,b,n){o.translate(o.lastT(),S,b,n)}};return Object.defineProperties(m,{matrix:{get:function(){return o.computedMatrix},set:function(S){return o.setMatrix(o.lastT(),S),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(S){var b=o.computedUp.slice(),n=o.computedEye.slice(),C=o.computedCenter.slice();if(o.setMode(S),"turntable"===S){var p=r();o._active.lookAt(p,n,C,b),o._active.lookAt(p+500,n,C,[0,0,1]),o._active.flush(p)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(S){return o.lookAt(o.lastT(),null,S),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(S){return o.lookAt(o.lastT(),S),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(S){return o.lookAt(o.lastT(),null,null,S),o.computedUp},enumerable:!0},distance:{get:function(){return M},set:function(S){return o.setDistance(o.lastT(),S),S},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(d)},set:function(S){return o.setDistanceLimits(S),S},enumerable:!0}}),v.addEventListener("contextmenu",function(S){return S.preventDefault(),!1}),m._lastX=-1,m._lastY=-1,m._lastMods={shift:!1,control:!1,alt:!1,meta:!1},m.enableMouseListeners=function(){function S(b,n,C,p){var F=m.keyBindingMode;if(!1!==F){var D="rotate"===F,N="pan"===F,k="zoom"===F,O=!!p.control,B=!!p.alt,z=!!p.shift,U=!!(1&b),G=!!(2&b),Q=!!(4&b),rt=1/v.clientHeight,it=rt*(n-m._lastX),ut=rt*(C-m._lastY),J=m.flipX?1:-1,j=m.flipY?1:-1,Z=Math.PI*m.rotateSpeed,H=r();if(-1!==m._lastX&&-1!==m._lastY&&((D&&U&&!O&&!B&&!z||U&&!O&&!B&&z)&&o.rotate(H,J*Z*it,-j*Z*ut,0),(N&&U&&!O&&!B&&!z||G||U&&O&&!B&&!z)&&o.pan(H,-m.translateSpeed*it*M,m.translateSpeed*ut*M,0),k&&U&&!O&&!B&&!z||Q||U&&!O&&B&&!z)){var X=-m.zoomSpeed*ut/window.innerHeight*(H-o.lastT())*100;o.pan(H,0,0,M*(Math.exp(X)-1))}return m._lastX=n,m._lastY=C,m._lastMods=p,!0}}m.mouseListener=a(v,S),v.addEventListener("touchstart",function(b){var n=c(b.changedTouches[0],v);S(0,n[0],n[1],m._lastMods),S(1,n[0],n[1],m._lastMods)},!!u&&{passive:!0}),v.addEventListener("touchmove",function(b){var n=c(b.changedTouches[0],v);S(1,n[0],n[1],m._lastMods),b.preventDefault()},!!u&&{passive:!1}),v.addEventListener("touchend",function(b){S(0,m._lastX,m._lastY,m._lastMods)},!!u&&{passive:!0}),m.wheelListener=s(v,function(b,n){if(!1!==m.keyBindingMode&&m.enableWheel){var C=m.flipX?1:-1,p=m.flipY?1:-1,F=r();if(Math.abs(b)>Math.abs(n))o.rotate(F,0,0,-b*C*Math.PI*m.rotateSpeed/window.innerWidth);else if(!m._ortho){var D=-m.zoomSpeed*p*n/window.innerHeight*(F-o.lastT())/20;o.pan(F,0,0,M*(Math.exp(D)-1))}}},!0)},m.enableMouseListeners(),m};var r=e(8161),f=e(1152),a=e(6145),s=e(6475),c=e(2565),u=e(5233)},8245:function(l,x,e){var r=e(6832),f=e(5158),a=r(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),s=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);l.exports=function(c){return f(c,a,s,null,[{name:"position",type:"vec2"}])}},1059:function(l,x,e){"use strict";var r=e(4296),f=e(7453),a=e(2771),s=e(6496),c=e(2611),u=e(4234),y=e(8126),v=e(6145),w=e(1120),d=e(5268),o=e(8245),h=e(2321)({tablet:!0,featureDetect:!0});function M(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function L(n){var C=Math.round(Math.log(Math.abs(n))/Math.log(10));if(C<0){var p=Math.round(Math.pow(10,-C));return Math.ceil(n*p)/p}return C>0?(p=Math.round(Math.pow(10,C)),Math.ceil(n/p)*p):Math.ceil(n)}function m(n){return"boolean"!=typeof n||n}l.exports={createScene:function S(n){(n=n||{}).camera=n.camera||{};var C=n.canvas;C||(C=document.createElement("canvas"),n.container?n.container.appendChild(C):document.body.appendChild(C));var F=n.gl;if(F||(n.glOptions&&(h=!!n.glOptions.preserveDrawingBuffer),F=function T(n,C){var p=null;try{(p=n.getContext("webgl",C))||(p=n.getContext("experimental-webgl",C))}catch(F){return null}return p}(C,n.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:h})),!F)throw new Error("webgl not supported");var D=n.bounds||[[-10,-10,-10],[10,10,10]],N=new M,k=u(F,F.drawingBufferWidth,F.drawingBufferHeight,{preferFloat:!h}),O=o(F),B=n.cameraObject&&!0===n.cameraObject._ortho||n.camera.projection&&"orthographic"===n.camera.projection.type||!1,z={eye:n.camera.eye||[2,0,0],center:n.camera.center||[0,0,0],up:n.camera.up||[0,1,0],zoomMin:n.camera.zoomMax||.1,zoomMax:n.camera.zoomMin||100,mode:n.camera.mode||"turntable",_ortho:B},U=n.axes||{},G=f(F,U);G.enable=!U.disable;var rt=s(F,n.spikes||{}),it=[],ut=[],J=[],j=[],Z=!0,_=!0,at={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},K=(_=!0,[F.drawingBufferWidth,F.drawingBufferHeight]),nt=n.cameraObject||r(C,z),et={gl:F,contextLost:!1,pixelRatio:n.pixelRatio||1,canvas:C,selection:N,camera:nt,axes:G,axesPixels:null,spikes:rt,bounds:D,objects:it,shape:K,aspect:n.aspectRatio||[1,1,1],pickRadius:n.pickRadius||10,zNear:n.zNear||.01,zFar:n.zFar||1e3,fovy:n.fovy||Math.PI/4,clearColor:n.clearColor||[0,0,0,0],autoResize:m(n.autoResize),autoBounds:m(n.autoBounds),autoScale:!!n.autoScale,autoCenter:m(n.autoCenter),clipToBounds:m(n.clipToBounds),snapToData:!!n.snapToData,onselect:n.onselect||null,onrender:n.onrender||null,onclick:n.onclick||null,cameraParams:at,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ut){this.aspect[0]=Ut.x,this.aspect[1]=Ut.y,this.aspect[2]=Ut.z,_=!0},setBounds:function(Ut,Gt){this.bounds[0][Ut]=Gt.min,this.bounds[1][Ut]=Gt.max},setClearColor:function(Ut){this.clearColor=Ut},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},st=[F.drawingBufferWidth/et.pixelRatio|0,F.drawingBufferHeight/et.pixelRatio|0];function dt(){if(!et._stopped&&et.autoResize){var Ut=C.parentNode,Gt=1,Pt=1;Ut&&Ut!==document.body?(Gt=Ut.clientWidth,Pt=Ut.clientHeight):(Gt=window.innerWidth,Pt=window.innerHeight);var Vt=0|Math.ceil(Gt*et.pixelRatio),te=0|Math.ceil(Pt*et.pixelRatio);if(Vt!==C.width||te!==C.height){C.width=Vt,C.height=te;var _t=C.style;_t.position=_t.position||"absolute",_t.left="0px",_t.top="0px",_t.width=Gt+"px",_t.height=Pt+"px",Z=!0}}}function Tt(){for(var Ut=it.length,Gt=j.length,Pt=0;Pt<Gt;++Pt)J[Pt]=0;t:for(Pt=0;Pt<Ut;++Pt){var Vt=it[Pt],te=Vt.pickSlots;if(te){for(var _t=0;_t<Gt;++_t)if(J[_t]+te<255){ut[Pt]=_t,Vt.setPickBase(J[_t]+1),J[_t]+=te;continue t}var kt=c(F,K);ut[Pt]=Gt,j.push(kt),J.push(te),Vt.setPickBase(1),Gt+=1}else ut[Pt]=-1}for(;Gt>0&&0===J[Gt-1];)J.pop(),j.pop().dispose()}function bt(){if(et.contextLost)return!0;F.isContextLost()&&(et.contextLost=!0,et.mouseListener.enabled=!1,et.selection.object=null,et.oncontextloss&&et.oncontextloss())}et.autoResize&&dt(),window.addEventListener("resize",dt),et.update=function(Ut){et._stopped||(Ut=Ut||{},Z=!0,_=!0)},et.add=function(Ut){et._stopped||(Ut.axes=G,it.push(Ut),ut.push(-1),Z=!0,_=!0,Tt())},et.remove=function(Ut){if(!et._stopped){var Gt=it.indexOf(Ut);Gt<0||(it.splice(Gt,1),ut.pop(),Z=!0,_=!0,Tt())}},et.dispose=function(){if(!et._stopped&&(et._stopped=!0,window.removeEventListener("resize",dt),C.removeEventListener("webglcontextlost",bt),et.mouseListener.enabled=!1,!et.contextLost)){G.dispose(),rt.dispose();for(var Ut=0;Ut<it.length;++Ut)it[Ut].dispose();for(k.dispose(),Ut=0;Ut<j.length;++Ut)j[Ut].dispose();O.dispose(),F=null,G=null,rt=null,it=[]}},et._mouseRotating=!1,et._prevButtons=0,et.enableMouseListeners=function(){et.mouseListener=v(C,function(Ut,Gt,Pt){if(!et._stopped){var Vt=j.length,te=it.length,_t=N.object;N.distance=1/0,N.mouse[0]=Gt,N.mouse[1]=Pt,N.object=null,N.screen=null,N.dataCoordinate=N.dataPosition=null;var kt=!1;if(Ut&&et._prevButtons)et._mouseRotating=!0;else{et._mouseRotating&&(_=!0),et._mouseRotating=!1;for(var zt=0;zt<Vt;++zt){var qt=j[zt].query(Gt,st[1]-Pt-1,et.pickRadius);if(qt){if(qt.distance>N.distance)continue;for(var ae=0;ae<te;++ae){var oe=it[ae];if(ut[ae]===zt){var pe=oe.pick(qt);pe&&(N.buttons=Ut,N.screen=qt.coord,N.distance=qt.distance,N.object=oe,N.index=pe.distance,N.dataPosition=pe.position,N.dataCoordinate=pe.dataCoordinate,N.data=pe,kt=!0)}}}}}_t&&_t!==N.object&&(_t.highlight&&_t.highlight(null),Z=!0),N.object&&(N.object.highlight&&N.object.highlight(N.data),Z=!0),(kt=kt||N.object!==_t)&&et.onselect&&et.onselect(N),1&Ut&&!(1&et._prevButtons)&&et.onclick&&et.onclick(N),et._prevButtons=Ut}})},C.addEventListener("webglcontextlost",bt);var Ft=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Mt=[Ft[0].slice(),Ft[1].slice()];function wt(){if(!bt()){dt();var Ut=et.camera.tick();at.view=et.camera.matrix,Z=Z||Ut,_=_||Ut,G.pixelRatio=et.pixelRatio,rt.pixelRatio=et.pixelRatio;var Gt=it.length,Pt=Ft[0],Vt=Ft[1];Pt[0]=Pt[1]=Pt[2]=1/0,Vt[0]=Vt[1]=Vt[2]=-1/0;for(var te=0;te<Gt;++te){(_t=it[te]).pixelRatio=et.pixelRatio,_t.axes=et.axes,Z=Z||!!_t.dirty,_=_||!!_t.dirty;var kt=_t.bounds;if(kt)for(var zt=kt[0],qt=kt[1],ae=0;ae<3;++ae)Pt[ae]=Math.min(Pt[ae],zt[ae]),Vt[ae]=Math.max(Vt[ae],qt[ae])}var oe=et.bounds;if(et.autoBounds)for(ae=0;ae<3;++ae){if(Vt[ae]<Pt[ae])Pt[ae]=-1,Vt[ae]=1;else{Pt[ae]===Vt[ae]&&(Pt[ae]-=1,Vt[ae]+=1);var pe=.05*(Vt[ae]-Pt[ae]);Pt[ae]=Pt[ae]-pe,Vt[ae]=Vt[ae]+pe}oe[0][ae]=Pt[ae],oe[1][ae]=Vt[ae]}var ye=!1;for(ae=0;ae<3;++ae)ye=ye||Mt[0][ae]!==oe[0][ae]||Mt[1][ae]!==oe[1][ae],Mt[0][ae]=oe[0][ae],Mt[1][ae]=oe[1][ae];if(_=_||ye,Z=Z||ye){if(ye){var Fe=[0,0,0];for(te=0;te<3;++te)Fe[te]=L((oe[1][te]-oe[0][te])/10);G.update(G.autoTicks?{bounds:oe,tickSpacing:Fe}:{bounds:oe})}var Zt=F.drawingBufferWidth,Ct=F.drawingBufferHeight;for(K[0]=Zt,K[1]=Ct,st[0]=0|Math.max(Zt/et.pixelRatio,1),st[1]=0|Math.max(Ct/et.pixelRatio,1),function b(n,C){var p=n.bounds,F=n.cameraParams,D=F.projection,N=F.model,B=n.zNear,z=n.zFar,U=n.fovy,G=n.gl.drawingBufferWidth/n.gl.drawingBufferHeight;C?(d(D,-G,G,-1,1,B,z),F._ortho=!0):(w(D,U,G,B,z),F._ortho=!1);for(var Q=0;Q<16;++Q)N[Q]=0;N[15]=1;var rt=0;for(Q=0;Q<3;++Q)rt=Math.max(rt,p[1][Q]-p[0][Q]);for(Q=0;Q<3;++Q)N[5*Q]=n.autoScale?n.aspect[Q]/(p[1][Q]-p[0][Q]):1/rt,n.autoCenter&&(N[12+Q]=.5*-N[5*Q]*(p[0][Q]+p[1][Q]))}(et,B),te=0;te<Gt;++te)(_t=it[te]).axesBounds=oe,et.clipToBounds&&(_t.clipBounds=oe);N.object&&(rt.position=et.snapToData?N.dataCoordinate:N.dataPosition,rt.bounds=oe),_&&(_=!1,function Dt(){if(!bt()){F.colorMask(!0,!0,!0,!0),F.depthMask(!0),F.disable(F.BLEND),F.enable(F.DEPTH_TEST),F.depthFunc(F.LEQUAL);for(var Ut=it.length,Gt=j.length,Pt=0;Pt<Gt;++Pt){var Vt=j[Pt];Vt.shape=st,Vt.begin();for(var te=0;te<Ut;++te)if(ut[te]===Pt){var _t=it[te];_t.drawPick&&(_t.pixelRatio=1,_t.drawPick(at))}Vt.end()}}}()),et.axesPixels=a(et.axes,at,Zt,Ct),et.onrender&&et.onrender(),F.bindFramebuffer(F.FRAMEBUFFER,null),F.viewport(0,0,Zt,Ct),et.clearRGBA(),F.depthMask(!0),F.colorMask(!0,!0,!0,!0),F.enable(F.DEPTH_TEST),F.depthFunc(F.LEQUAL),F.disable(F.BLEND),F.disable(F.CULL_FACE);var Et=!1;for(G.enable&&(Et=Et||G.isTransparent(),G.draw(at)),rt.axes=G,N.object&&rt.draw(at),F.disable(F.CULL_FACE),te=0;te<Gt;++te)(_t=it[te]).axes=G,_t.pixelRatio=et.pixelRatio,_t.isOpaque&&_t.isOpaque()&&_t.draw(at),_t.isTransparent&&_t.isTransparent()&&(Et=!0);if(Et){for(k.shape=K,k.bind(),F.clear(F.DEPTH_BUFFER_BIT),F.colorMask(!1,!1,!1,!1),F.depthMask(!0),F.depthFunc(F.LESS),G.enable&&G.isTransparent()&&G.drawTransparent(at),te=0;te<Gt;++te)(_t=it[te]).isOpaque&&_t.isOpaque()&&_t.draw(at);for(F.enable(F.BLEND),F.blendEquation(F.FUNC_ADD),F.blendFunc(F.ONE,F.ONE_MINUS_SRC_ALPHA),F.colorMask(!0,!0,!0,!0),F.depthMask(!1),F.clearColor(0,0,0,0),F.clear(F.COLOR_BUFFER_BIT),G.isTransparent()&&G.drawTransparent(at),te=0;te<Gt;++te){var _t;(_t=it[te]).isTransparent&&_t.isTransparent()&&_t.drawTransparent(at)}F.bindFramebuffer(F.FRAMEBUFFER,null),F.blendFunc(F.ONE,F.ONE_MINUS_SRC_ALPHA),F.disable(F.DEPTH_TEST),O.bind(),k.color[0].bind(0),O.uniforms.accumBuffer=0,y(F),F.disable(F.BLEND)}for(Z=!1,te=0;te<Gt;++te)it[te].dirty=!1}}}return et.enableMouseListeners(),function St(){et._stopped||et.contextLost||(wt(),requestAnimationFrame(St))}(),et.redraw=function(){et._stopped||(Z=!0,wt())},et},createCamera:r}},8023:function(l,x,e){var r=e(6832);x.pointVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),x.pointFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),x.pickVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),x.pickFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},8271:function(l,x,e){"use strict";var r=e(5158),f=e(5827),a=e(5306),s=e(8023);function c(w,d,o,h,M){this.plot=w,this.offsetBuffer=d,this.pickBuffer=o,this.shader=h,this.pickShader=M,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}l.exports=function v(w,d){var o=w.gl,m=new c(w,f(o),f(o),r(o,s.pointVertex,s.pointFragment),r(o,s.pickVertex,s.pickFragment));return m.update(d),w.addObject(m),m};var w,d,u=c.prototype;u.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},u.update=function(w){var d;function o(b,n){return b in w?w[b]:n}w=w||{},this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var h=w.positions.length>>>1,M=w.positions instanceof Float32Array,T=w.idToIndex instanceof Int32Array&&w.idToIndex.length>=h,L=w.positions,m=M?L:a.mallocFloat32(L.length),S=T?w.idToIndex:a.mallocInt32(h);if(M||m.set(L),!T)for(m.set(L),d=0;d<h;d++)S[d]=d;this.points=L,this.offsetBuffer.update(m),this.pickBuffer.update(S),M||a.free(m),T||a.free(S),this.pointCount=h,this.pickOffset=0},u.unifiedDraw=(w=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0],function(o){var h=void 0!==o,M=h?this.pickShader:this.shader,T=this.plot.gl,L=this.plot.dataBox;if(0===this.pointCount)return o;var m=L[2]-L[0],S=L[3]-L[1],b=function y(w,d){var M,o=0,h=w.length>>>1;for(M=0;M<h;M++){var T=w[2*M],L=w[2*M+1];T>=d[0]&&T<=d[2]&&L>=d[1]&&L<=d[3]&&o++}return o}(this.points,L),n=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(b,.33333)));w[0]=2/m,w[4]=2/S,w[6]=-2*L[0]/m-1,w[7]=-2*L[1]/S-1,this.offsetBuffer.bind(),M.bind(),M.attributes.position.pointer(),M.uniforms.matrix=w,M.uniforms.color=this.color,M.uniforms.borderColor=this.borderColor,M.uniforms.pointCloud=n<5,M.uniforms.pointSize=n,M.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),h&&(d[0]=255&o,d[1]=o>>8&255,d[2]=o>>16&255,d[3]=o>>24&255,this.pickBuffer.bind(),M.attributes.pickId.pointer(T.UNSIGNED_BYTE),M.uniforms.pickOffset=d,this.pickOffset=o);var C=T.getParameter(T.BLEND),p=T.getParameter(T.DITHER);return C&&!this.blend&&T.disable(T.BLEND),p&&T.disable(T.DITHER),T.drawArrays(T.POINTS,0,this.pointCount),C&&!this.blend&&T.enable(T.BLEND),p&&T.enable(T.DITHER),o+this.pointCount}),u.draw=u.unifiedDraw,u.drawPick=u.unifiedDraw,u.pick=function(w,d,o){var h=this.pickOffset;if(o<h||o>=h+this.pointCount)return null;var T=o-h,L=this.points;return{object:this,pointId:T,dataCoord:[L[2*T],L[2*T+1]]}}},6093:function(l){l.exports=function x(e,r,f,a){var h,M,T,L,m,s=r[0],c=r[1],u=r[2],y=r[3],v=f[0],w=f[1],d=f[2],o=f[3];return(M=s*v+c*w+u*d+y*o)<0&&(M=-M,v=-v,w=-w,d=-d,o=-o),1-M>1e-6?(h=Math.acos(M),T=Math.sin(h),L=Math.sin((1-a)*h)/T,m=Math.sin(a*h)/T):(L=1-a,m=a),e[0]=L*s+m*v,e[1]=L*c+m*w,e[2]=L*u+m*d,e[3]=L*y+m*o,e}},8240:function(l){"use strict";l.exports=function(x){return x||0===x?x.toString():""}},4123:function(l,x,e){"use strict";var r=e(875);l.exports=function a(s,c,u){var y=f[c];if(y||(y=f[c]={}),s in y)return y[s];var v={textAlign:"center",textBaseline:"middle",lineHeight:1,font:c,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},w=r(s,v);v.triangles=!1;var o,h,d=r(s,v);if(u&&1!==u){for(o=0;o<w.positions.length;++o)for(h=0;h<w.positions[o].length;++h)w.positions[o][h]/=u;for(o=0;o<d.positions.length;++o)for(h=0;h<d.positions[o].length;++h)d.positions[o][h]/=u}var M=[[1/0,1/0],[-1/0,-1/0]],T=d.positions.length;for(o=0;o<T;++o){var L=d.positions[o];for(h=0;h<2;++h)M[0][h]=Math.min(M[0][h],L[h]),M[1][h]=Math.max(M[1][h],L[h])}return y[s]=[w,d,M]};var f={}},9282:function(l,x,e){var r=e(5158),f=e(6832),a=f(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),s=f(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),c=f(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),u=f(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),y=f(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),v=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],w={vertex:a,fragment:u,attributes:v},d={vertex:s,fragment:u,attributes:v},o={vertex:c,fragment:u,attributes:v},h={vertex:a,fragment:y,attributes:v},M={vertex:s,fragment:y,attributes:v},T={vertex:c,fragment:y,attributes:v};function L(m,S){var b=r(m,S),n=b.attributes;return n.position.location=0,n.color.location=1,n.glyph.location=2,n.id.location=3,b}x.createPerspective=function(m){return L(m,w)},x.createOrtho=function(m){return L(m,d)},x.createProject=function(m){return L(m,o)},x.createPickPerspective=function(m){return L(m,h)},x.createPickOrtho=function(m){return L(m,M)},x.createPickProject=function(m){return L(m,T)}},2182:function(l,x,e){"use strict";var r=e(3596),f=e(5827),a=e(2944),s=e(5306),c=e(104),u=e(9282),y=e(4123),v=e(8240),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(J,j){var Z=J[0],H=J[1],X=J[2],at=J[3];return J[0]=j[0]*Z+j[4]*H+j[8]*X+j[12]*at,J[1]=j[1]*Z+j[5]*H+j[9]*X+j[13]*at,J[2]=j[2]*Z+j[6]*H+j[10]*X+j[14]*at,J[3]=j[3]*Z+j[7]*H+j[11]*X+j[15]*at,J}function o(J,j,Z,H){return d(H,H),d(H,H),d(H,H)}function h(J,j){this.index=J,this.dataCoordinate=this.position=j}function M(J){return!0===J||J>1?1:J}function T(J,j,Z,H,X,at,_,K,nt,et,st,dt){this.gl=J,this.pixelRatio=1,this.shader=j,this.orthoShader=Z,this.projectShader=H,this.pointBuffer=X,this.colorBuffer=at,this.glyphBuffer=_,this.idBuffer=K,this.vao=nt,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=et,this.pickOrthoShader=st,this.pickProjectShader=dt,this.points=[],this._selectResult=new h(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}l.exports=function ut(J){var j=J.gl,Z=u.createPerspective(j),H=u.createOrtho(j),X=u.createProject(j),at=u.createPickPerspective(j),_=u.createPickOrtho(j),K=u.createPickProject(j),nt=f(j),et=f(j),st=f(j),dt=f(j),bt=new T(j,Z,H,X,nt,et,st,dt,a(j,[{buffer:nt,size:3,type:j.FLOAT},{buffer:et,size:4,type:j.FLOAT},{buffer:st,size:2,type:j.FLOAT},{buffer:dt,size:4,type:j.UNSIGNED_BYTE,normalized:!0}]),at,_,K);return bt.update(J),bt};var L=T.prototype;L.pickSlots=1,L.setPickBase=function(J){this.pickId=J},L.isTransparent=function(){if(this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&this.projectHasAlpha)return!0;return!1},L.isOpaque=function(){if(!this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&!this.projectHasAlpha)return!0;return!1};var m=[0,0],S=[0,0,0],b=[0,0,0],n=[0,0,0,1],C=[0,0,0,1],p=w.slice(),F=[0,0,0],D=[[0,0,0],[0,0,0]];function N(J){return J[0]=J[1]=J[2]=0,J}function k(J,j){return J[0]=j[0],J[1]=j[1],J[2]=j[2],J[3]=1,J}function O(J,j,Z,H){return J[0]=j[0],J[1]=j[1],J[2]=j[2],J[Z]=H,J}function z(J,j,Z,H){var Tt,X=j.axesProject,at=j.gl,_=J.uniforms,K=Z.model||w,nt=Z.view||w,et=Z.projection||w,st=j.axesBounds,dt=function B(J){for(var j=D,Z=0;Z<2;++Z)for(var H=0;H<3;++H)j[Z][H]=Math.max(Math.min(J[Z][H],1e8),-1e8);return j}(j.clipBounds);Tt=j.axes&&j.axes.lastCubeProps?j.axes.lastCubeProps.axis:[1,1,1],m[0]=2/at.drawingBufferWidth,m[1]=2/at.drawingBufferHeight,J.bind(),_.view=nt,_.projection=et,_.screenSize=m,_.highlightId=j.highlightId,_.highlightScale=j.highlightScale,_.clipBounds=dt,_.pickGroup=j.pickId/255,_.pixelRatio=H;for(var bt=0;bt<3;++bt)if(X[bt]){_.scale=j.projectScale[bt],_.opacity=j.projectOpacity[bt];for(var Dt=p,Ft=0;Ft<16;++Ft)Dt[Ft]=0;for(Ft=0;Ft<4;++Ft)Dt[5*Ft]=1;Dt[5*bt]=0,Dt[12+bt]=Tt[bt]<0?st[0][bt]:st[1][bt],c(Dt,K,Dt),_.model=Dt;var Mt=(bt+1)%3,wt=(bt+2)%3,St=N(S),Ut=N(b);St[Mt]=1,Ut[wt]=1;var Gt=o(0,0,0,k(n,St)),Pt=o(0,0,0,k(C,Ut));if(Math.abs(Gt[1])>Math.abs(Pt[1])){var Vt=Gt;Gt=Pt,Pt=Vt,Vt=St,St=Ut,Ut=Vt;var te=Mt;Mt=wt,wt=te}Gt[0]<0&&(St[Mt]=-1),Pt[1]>0&&(Ut[wt]=-1);var _t=0,kt=0;for(Ft=0;Ft<4;++Ft)_t+=Math.pow(K[4*Mt+Ft],2),kt+=Math.pow(K[4*wt+Ft],2);St[Mt]/=Math.sqrt(_t),Ut[wt]/=Math.sqrt(kt),_.axes[0]=St,_.axes[1]=Ut,_.fragClipBounds[0]=O(F,dt[0],bt,-1e8),_.fragClipBounds[1]=O(F,dt[1],bt,1e8),j.vao.bind(),j.vao.draw(at.TRIANGLES,j.vertexCount),j.lineWidth>0&&(at.lineWidth(j.lineWidth*H),j.vao.draw(at.LINES,j.lineVertexCount,j.vertexCount)),j.vao.unbind()}}var Q=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function rt(J,j,Z,H,X,at,_){var K=Z.gl;if((at===Z.projectHasAlpha||_)&&z(j,Z,H,X),at===Z.hasAlpha||_){J.bind();var nt=J.uniforms;nt.model=H.model||w,nt.view=H.view||w,nt.projection=H.projection||w,m[0]=2/K.drawingBufferWidth,m[1]=2/K.drawingBufferHeight,nt.screenSize=m,nt.highlightId=Z.highlightId,nt.highlightScale=Z.highlightScale,nt.fragClipBounds=Q,nt.clipBounds=Z.axes.bounds,nt.opacity=Z.opacity,nt.pickGroup=Z.pickId/255,nt.pixelRatio=X,Z.vao.bind(),Z.vao.draw(K.TRIANGLES,Z.vertexCount),Z.lineWidth>0&&(K.lineWidth(Z.lineWidth*X),Z.vao.draw(K.LINES,Z.lineVertexCount,Z.vertexCount)),Z.vao.unbind()}}function it(J,j,Z,H){var X;X=Array.isArray(J)?j<J.length?J[j]:void 0:J,X=v(X);var at=!0;r(X)&&(X="\u25bc",at=!1);var _=y(X,Z,H);return{mesh:_[0],lines:_[1],bounds:_[2],visible:at}}L.draw=function(J){rt(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,J,this.pixelRatio,!1,!1)},L.drawTransparent=function(J){rt(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,J,this.pixelRatio,!0,!1)},L.drawPick=function(J){rt(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,J,1,!0,!0)},L.pick=function(J){if(!J||J.id!==this.pickId)return null;var j=J.value[2]+(J.value[1]<<8)+(J.value[0]<<16);if(j>=this.pointCount||j<0)return null;var Z=this.points[j],H=this._selectResult;H.index=j;for(var X=0;X<3;++X)H.position[X]=H.dataCoordinate[X]=Z[X];return H},L.highlight=function(J){if(J){var j=J.index;this.highlightId=[(255&j)/255,(j>>8&255)/255,(j>>16&255)/255,0]}else this.highlightId=[1,1,1,1]},L.update=function(J){if("perspective"in(J=J||{})&&(this.useOrtho=!J.perspective),"orthographic"in J&&(this.useOrtho=!!J.orthographic),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"project"in J)if(Array.isArray(J.project))this.axesProject=J.project;else{var j=!!J.project;this.axesProject=[j,j,j]}if("projectScale"in J&&(this.projectScale=Array.isArray(J.projectScale)?J.projectScale.slice():[Z=+J.projectScale,Z,Z]),this.projectHasAlpha=!1,"projectOpacity"in J){var Z;this.projectOpacity=Array.isArray(J.projectOpacity)?J.projectOpacity.slice():[Z=+J.projectOpacity,Z,Z];for(var H=0;H<3;++H)this.projectOpacity[H]=M(this.projectOpacity[H]),this.projectOpacity[H]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in J&&(this.opacity=M(J.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var K,nt,X=J.position,at=J.font||"normal",_=J.alignment||[0,0];if(2===_.length)K=_[0],nt=_[1];else for(K=[],nt=[],H=0;H<_.length;++H)K[H]=_[H][0],nt[H]=_[H][1];var et=[1/0,1/0,1/0],st=[-1/0,-1/0,-1/0],dt=J.glyph,Tt=J.color,bt=J.size,Dt=J.angle,Ft=J.lineColor,Mt=-1,wt=0,St=0,Ut=0;if(X.length){Ut=X.length;t:for(H=0;H<Ut;++H){for(var Gt=X[H],Pt=0;Pt<3;++Pt)if(isNaN(Gt[Pt])||!isFinite(Gt[Pt]))continue t;var kt=(Vt=it(dt,H,at,this.pixelRatio)).bounds;wt+=3*(te=Vt.mesh).cells.length,St+=2*(_t=Vt.lines).edges.length}}var zt=wt+St,qt=s.mallocFloat(3*zt),ae=s.mallocFloat(4*zt),oe=s.mallocFloat(2*zt),pe=s.mallocUint32(zt);if(zt>0){var ye=0,Fe=wt,Zt=[0,0,0,1],Ct=[0,0,0,1],Et=Array.isArray(Tt)&&Array.isArray(Tt[0]),Rt=Array.isArray(Ft)&&Array.isArray(Ft[0]);t:for(H=0;H<Ut;++H){for(Mt+=1,Gt=X[H],Pt=0;Pt<3;++Pt){if(isNaN(Gt[Pt])||!isFinite(Gt[Pt]))continue t;st[Pt]=Math.max(st[Pt],Gt[Pt]),et[Pt]=Math.min(et[Pt],Gt[Pt])}var Vt,te=(Vt=it(dt,H,at,this.pixelRatio)).mesh,_t=Vt.lines,Ot=(kt=Vt.bounds,Vt.visible);if(Ot)if(Array.isArray(Tt)){if(3===(It=Et?H<Tt.length?Tt[H]:[0,0,0,0]:Tt).length){for(Pt=0;Pt<3;++Pt)Zt[Pt]=It[Pt];Zt[3]=1}else if(4===It.length){for(Pt=0;Pt<4;++Pt)Zt[Pt]=It[Pt];!this.hasAlpha&&It[3]<1&&(this.hasAlpha=!0)}}else Zt[0]=Zt[1]=Zt[2]=0,Zt[3]=1;else Zt=[1,1,1,0];if(Ot)if(Array.isArray(Ft)){var It;if(3===(It=Rt?H<Ft.length?Ft[H]:[0,0,0,0]:Ft).length){for(Pt=0;Pt<3;++Pt)Ct[Pt]=It[Pt];Ct[Pt]=1}else if(4===It.length){for(Pt=0;Pt<4;++Pt)Ct[Pt]=It[Pt];!this.hasAlpha&&It[3]<1&&(this.hasAlpha=!0)}}else Ct[0]=Ct[1]=Ct[2]=0,Ct[3]=1;else Ct=[1,1,1,0];var gt=.5;Ot?Array.isArray(bt)?gt=H<bt.length?+bt[H]:12:bt?gt=+bt:this.useOrtho&&(gt=12):gt=0;var pt=0;Array.isArray(Dt)?pt=H<Dt.length?+Dt[H]:0:Dt&&(pt=+Dt);var vt=Math.cos(pt),yt=Math.sin(pt);for(Gt=X[H],Pt=0;Pt<3;++Pt)st[Pt]=Math.max(st[Pt],Gt[Pt]),et[Pt]=Math.min(et[Pt],Gt[Pt]);var Yt=K,Qt=nt;Yt=0,Array.isArray(K)?Yt=H<K.length?K[H]:0:K&&(Yt=K),Qt=0,Array.isArray(nt)?Qt=H<nt.length?nt[H]:0:nt&&(Qt=nt);var le=[Yt*=Yt>0?1-kt[0][0]:Yt<0?1+kt[1][0]:1,Qt*=Qt>0?1-kt[0][1]:Qt<0?1+kt[1][1]:1],je=te.cells||[],Ze=te.positions||[];for(Pt=0;Pt<je.length;++Pt)for(var he=je[Pt],ke=0;ke<3;++ke){for(var Oe=0;Oe<3;++Oe)qt[3*ye+Oe]=Gt[Oe];for(Oe=0;Oe<4;++Oe)ae[4*ye+Oe]=Zt[Oe];pe[ye]=Mt,oe[2*ye]=gt*(vt*(Ae=Ze[he[ke]])[0]-yt*Ae[1]+le[0]),oe[2*ye+1]=gt*(yt*Ae[0]+vt*Ae[1]+le[1]),ye+=1}for(je=_t.edges,Ze=_t.positions,Pt=0;Pt<je.length;++Pt)for(he=je[Pt],ke=0;ke<2;++ke){for(Oe=0;Oe<3;++Oe)qt[3*Fe+Oe]=Gt[Oe];for(Oe=0;Oe<4;++Oe)ae[4*Fe+Oe]=Ct[Oe];var Ae;pe[Fe]=Mt,oe[2*Fe]=gt*(vt*(Ae=Ze[he[ke]])[0]-yt*Ae[1]+le[0]),oe[2*Fe+1]=gt*(yt*Ae[0]+vt*Ae[1]+le[1]),Fe+=1}}}this.bounds=[et,st],this.points=X,this.pointCount=X.length,this.vertexCount=wt,this.lineVertexCount=St,this.pointBuffer.update(qt),this.colorBuffer.update(ae),this.glyphBuffer.update(oe),this.idBuffer.update(pe),s.free(qt),s.free(ae),s.free(oe),s.free(pe)},L.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(l,x,e){"use strict";var r=e(6832);x.boxVertex=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),x.boxFragment=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},6623:function(l,x,e){"use strict";var r=e(5158),f=e(5827),a=e(1884);function s(y,v,w){this.plot=y,this.boxBuffer=v,this.boxShader=w,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}l.exports=function u(y,v){var w=y.gl,h=new s(y,f(w,[0,0,0,1,1,0,1,1]),r(w,a.boxVertex,a.boxFragment));return h.update(v),y.addOverlay(h),h};var c=s.prototype;c.draw=function(){if(this.enabled){var y=this.plot,v=this.selectBox,w=this.borderWidth,o=this.innerColor,M=this.outerColor,T=this.borderColor,L=y.box,m=y.screenBox,S=y.dataBox,b=y.viewBox,n=y.pixelRatio,C=(v[0]-S[0])*(b[2]-b[0])/(S[2]-S[0])+b[0],p=(v[1]-S[1])*(b[3]-b[1])/(S[3]-S[1])+b[1],F=(v[2]-S[0])*(b[2]-b[0])/(S[2]-S[0])+b[0],D=(v[3]-S[1])*(b[3]-b[1])/(S[3]-S[1])+b[1];if(C=Math.max(C,b[0]),p=Math.max(p,b[1]),F=Math.min(F,b[2]),D=Math.min(D,b[3]),!(F<C||D<p)){L.bind();var N=m[2]-m[0],k=m[3]-m[1];if(this.outerFill&&(L.drawBox(0,0,N,p,M),L.drawBox(0,p,C,D,M),L.drawBox(0,D,N,k,M),L.drawBox(F,p,N,D,M)),this.innerFill&&L.drawBox(C,p,F,D,o),w>0){var O=w*n;L.drawBox(C-O,p-O,F+O,p+O,T),L.drawBox(C-O,D-O,F+O,D+O,T),L.drawBox(C-O,p-O,C+O,D+O,T),L.drawBox(F-O,p-O,F+O,D+O,T)}}}},c.update=function(y){this.innerFill=!!(y=y||{}).innerFill,this.outerFill=!!y.outerFill,this.innerColor=(y.innerColor||[0,0,0,.5]).slice(),this.outerColor=(y.outerColor||[0,0,0,.5]).slice(),this.borderColor=(y.borderColor||[0,0,0,1]).slice(),this.borderWidth=y.borderWidth||0,this.selectBox=(y.selectBox||this.selectBox).slice()},c.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(l,x,e){"use strict";l.exports=function w(d,o){var h=o[0],M=o[1];return new y(d,r(d,h,M,{}),f.mallocUint8(h*M*4))};var r=e(4234),f=e(5306),a=e(5050),s=e(2288).nextPow2;function u(d,o,h,M,T){this.coord=[d,o],this.id=h,this.value=M,this.distance=T}function y(d,o,h){this.gl=d,this.fbo=o,this.buffer=h,this._readTimeout=null;var M=this;this._readCallback=function(){!M.gl||(o.bind(),d.readPixels(0,0,o.shape[0],o.shape[1],d.RGBA,d.UNSIGNED_BYTE,M.buffer),M._readTimeout=null)}}var v=y.prototype;Object.defineProperty(v,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(d){if(this.gl){this.fbo.shape=d;var o=this.fbo.shape[0],h=this.fbo.shape[1];if(h*o*4>this.buffer.length){f.free(this.buffer);for(var M=this.buffer=f.mallocUint8(s(h*o*4)),T=0;T<h*o*4;++T)M[T]=255}return d}}}),v.begin=function(){var d=this.gl;!d||(this.fbo.bind(),d.clearColor(1,1,1,1),d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT))},v.end=function(){var d=this.gl;!d||(d.bindFramebuffer(d.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},v.query=function(d,o,h){if(!this.gl)return null;var M=this.fbo.shape.slice();d|=0,o|=0,"number"!=typeof h&&(h=1);var T=0|Math.min(Math.max(d-h,0),M[0]),L=0|Math.min(Math.max(d+h,0),M[0]),m=0|Math.min(Math.max(o-h,0),M[1]),S=0|Math.min(Math.max(o+h,0),M[1]);if(L<=T||S<=m)return null;var b=[L-T,S-m],n=a(this.buffer,[b[0],b[1],4],[4,4*M[0],1],4*(T+M[0]*m)),C=function(d,o,h){for(var M=1e8,T=-1,L=-1,m=d.shape[0],S=d.shape[1],b=0;b<m;b++)for(var n=0;n<S;n++){var C=d.get(b,n,0),p=d.get(b,n,1),F=d.get(b,n,2),D=d.get(b,n,3);if(C<255||p<255||F<255||D<255){var N=o-b,k=h-n,O=N*N+k*k;O<M&&(M=O,T=b,L=n)}}return[T,L,M]}(n.hi(b[0],b[1],1),h,h),p=C[0],F=C[1];return p<0||Math.pow(this.radius,2)<C[2]?null:new u(p+T|0,F+m|0,n.get(p,F,0),[n.get(p,F,1),n.get(p,F,2),n.get(p,F,3)],Math.sqrt(C[2]))},v.dispose=function(){!this.gl||(this.fbo.dispose(),f.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(l,x,e){"use strict";var r=e(9016),f=e(4280),a=e(3984),s=e(1628),c=e(2631),u=e(9068);function y(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var v=y.prototype;function w(o,h){return o.name<h.name?-1:1}v.bind=function(){this.program||this._relink();var o,h=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),M=this.gl.lastAttribCount;if(h>M)for(o=M;o<h;o++)this.gl.enableVertexAttribArray(o);else if(M>h)for(o=h;o<M;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=h,this.gl.useProgram(this.program)},v.dispose=function(){for(var o=this.gl.lastAttribCount,h=0;h<o;h++)this.gl.disableVertexAttribArray(h);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},v.update=function(o,h,M,T){if(!h||1===arguments.length){var L=o;o=L.vertex,h=L.fragment,M=L.uniforms,T=L.attributes}var m=this,S=m.gl,b=m._vref;m._vref=s.shader(S,S.VERTEX_SHADER,o),b&&b.dispose(),m.vertShader=m._vref.shader;var n=this._fref;if(m._fref=s.shader(S,S.FRAGMENT_SHADER,h),n&&n.dispose(),m.fragShader=m._fref.shader,!M||!T){var C=S.createProgram();if(S.attachShader(C,m.fragShader),S.attachShader(C,m.vertShader),S.linkProgram(C),!S.getProgramParameter(C,S.LINK_STATUS)){var p=S.getProgramInfoLog(C);throw new u(p,"Error linking program:"+p)}M=M||c.uniforms(S,C),T=T||c.attributes(S,C),S.deleteProgram(C)}(T=T.slice()).sort(w);var k,F=[],D=[],N=[];for(k=0;k<T.length;++k){var O=T[k];if(O.type.indexOf("mat")>=0){for(var B=0|O.type.charAt(O.type.length-1),z=new Array(B),U=0;U<B;++U)z[U]=N.length,D.push(O.name+"["+U+"]"),"number"==typeof O.location?N.push(O.location+U):Array.isArray(O.location)&&O.location.length===B&&"number"==typeof O.location[U]?N.push(0|O.location[U]):N.push(-1);F.push({name:O.name,type:O.type,locations:z})}else F.push({name:O.name,type:O.type,locations:[N.length]}),D.push(O.name),N.push("number"==typeof O.location?0|O.location:-1)}var G=0;for(k=0;k<N.length;++k)if(N[k]<0){for(;N.indexOf(G)>=0;)G+=1;N[k]=G}var Q=new Array(M.length);function rt(){m.program=s.program(S,m._vref,m._fref,D,N);for(var it=0;it<M.length;++it)Q[it]=S.getUniformLocation(m.program,M[it].name)}rt(),m._relink=rt,m.types={uniforms:a(M),attributes:a(T)},m.attributes=f(S,m,F,N),Object.defineProperty(m,"uniforms",r(S,m,M,Q))},l.exports=function d(o,h,M,T,L){var m=new y(o);return m.update(h,M,T,L),m}},9068:function(l){function x(e,r,f){this.shortMessage=r||"",this.longMessage=f||"",this.rawError=e||"",this.message="gl-shader: "+(r||e||"")+(f?"\n"+f:""),this.stack=(new Error).stack}(x.prototype=new Error).name="GLError",x.prototype.constructor=x,l.exports=x},4280:function(l,x,e){"use strict";l.exports=function y(v,w,d,o){for(var h={},M=0,T=d.length;M<T;++M){var L=d[M],m=L.name,S=L.type,b=L.locations;switch(S){case"bool":case"int":case"float":c(v,w,b[0],o,1,h,m);break;default:if(S.indexOf("vec")>=0){if((n=S.charCodeAt(S.length-1)-48)<2||n>4)throw new r("","Invalid data type for attribute "+m+": "+S);c(v,w,b[0],o,n,h,m)}else{if(!(S.indexOf("mat")>=0))throw new r("","Unknown data type for attribute "+m+": "+S);var n;if((n=S.charCodeAt(S.length-1)-48)<2||n>4)throw new r("","Invalid data type for attribute "+m+": "+S);u(v,w,b,o,n,h,m)}}}return h};var r=e(9068);function f(v,w,d,o,h,M){this._gl=v,this._wrapper=w,this._index=d,this._locations=o,this._dimension=h,this._constFunc=M}var a=f.prototype;a.pointer=function(w,d,o,h){var M=this,T=M._gl,L=M._locations[M._index];T.vertexAttribPointer(L,M._dimension,w||T.FLOAT,!!d,o||0,h||0),T.enableVertexAttribArray(L)},a.set=function(v,w,d,o){return this._constFunc(this._locations[this._index],v,w,d,o)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(v){return v!==this._locations[this._index]&&(this._locations[this._index]=0|v,this._wrapper.program=null),0|v}});var s=[function(v,w,d){return void 0===d.length?v.vertexAttrib1f(w,d):v.vertexAttrib1fv(w,d)},function(v,w,d,o){return void 0===d.length?v.vertexAttrib2f(w,d,o):v.vertexAttrib2fv(w,d)},function(v,w,d,o,h){return void 0===d.length?v.vertexAttrib3f(w,d,o,h):v.vertexAttrib3fv(w,d)},function(v,w,d,o,h,M){return void 0===d.length?v.vertexAttrib4f(w,d,o,h,M):v.vertexAttrib4fv(w,d)}];function c(v,w,d,o,h,M,T){var L=s[h],m=new f(v,w,d,o,h,L);Object.defineProperty(M,T,{set:function(S){return v.disableVertexAttribArray(o[d]),L(v,o[d],S),S},get:function(){return m},enumerable:!0})}function u(v,w,d,o,h,M,T){for(var L=new Array(h),m=new Array(h),S=0;S<h;++S)c(v,w,d[S],o,h,L,S),m[S]=L[S];Object.defineProperty(L,"location",{set:function(C){if(Array.isArray(C))for(var p=0;p<h;++p)m[p].location=C[p];else for(p=0;p<h;++p)m[p].location=C+p;return C},get:function(){for(var C=new Array(h),p=0;p<h;++p)C[p]=o[d[p]];return C},enumerable:!0}),L.pointer=function(C,p,F,D){C=C||v.FLOAT,p=!!p,F=F||h*h,D=D||0;for(var N=0;N<h;++N){var k=o[d[N]];v.vertexAttribPointer(k,h,C,p,F,D+N*h),v.enableVertexAttribArray(k)}};var b=new Array(h),n=v["vertexAttrib"+h+"fv"];Object.defineProperty(M,T,{set:function(C){for(var p=0;p<h;++p){var F=o[d[p]];if(v.disableVertexAttribArray(F),Array.isArray(C[0]))n.call(v,F,C[p]);else{for(var D=0;D<h;++D)b[D]=C[h*p+D];n.call(v,F,b)}}return C},get:function(){return L},enumerable:!0})}},9016:function(l,x,e){"use strict";var r=e(3984),f=e(9068);function a(u){return function(){return u}}function s(u,y){for(var v=new Array(u),w=0;w<u;++w)v[w]=y;return v}l.exports=function c(u,y,v,w){function d(S){return function(b,n,C){return b.getUniform(n.program,C[S])}}function o(S){return function(n){for(var C=h("",S),p=0;p<C.length;++p){var F=C[p],D=F[0],N=F[1];if(w[N]){var k=n;if("string"==typeof D&&(0===D.indexOf(".")||0===D.indexOf("["))){var O=D;if(0===D.indexOf(".")&&(O=D.slice(1)),O.indexOf("]")===O.length-1){var B=O.indexOf("["),z=O.slice(0,B),U=O.slice(B+1,O.length-1);k=z?n[z][U]:n[U]}else k=n[O]}var Q,G=v[N].type;switch(G){case"bool":case"int":case"sampler2D":case"samplerCube":u.uniform1i(w[N],k);break;case"float":u.uniform1f(w[N],k);break;default:var rt=G.indexOf("vec");if(!(0<=rt&&rt<=1&&G.length===4+rt)){if(0===G.indexOf("mat")&&4===G.length){if((Q=G.charCodeAt(G.length-1)-48)<2||Q>4)throw new f("","Invalid uniform dimension type for matrix "+name+": "+G);u["uniformMatrix"+Q+"fv"](w[N],!1,k);break}throw new f("","Unknown uniform data type for "+name+": "+G)}if((Q=G.charCodeAt(G.length-1)-48)<2||Q>4)throw new f("","Invalid data type");switch(G.charAt(0)){case"b":case"i":u["uniform"+Q+"iv"](w[N],k);break;case"v":u["uniform"+Q+"fv"](w[N],k);break;default:throw new f("","Unrecognized data type for vector "+name+": "+G)}}}}}}function h(S,b){if("object"!=typeof b)return[[S,b]];var n=[];for(var C in b){var p=b[C],F=S;parseInt(C)+""===C?F+="["+C+"]":F+="."+C,"object"==typeof p?n.push.apply(n,h(F,p)):n.push([F,p])}return n}function T(S,b,n){if("object"==typeof n){var C=L(n);Object.defineProperty(S,b,{get:a(C),set:o(n),enumerable:!0,configurable:!1})}else w[n]?Object.defineProperty(S,b,{get:d(n),set:o(n),enumerable:!0,configurable:!1}):S[b]=function M(S){switch(S){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var b=S.indexOf("vec");if(0<=b&&b<=1&&S.length===4+b){if((n=S.charCodeAt(S.length-1)-48)<2||n>4)throw new f("","Invalid data type");return"b"===S.charAt(0)?s(n,!1):s(n,0)}if(0===S.indexOf("mat")&&4===S.length){var n;if((n=S.charCodeAt(S.length-1)-48)<2||n>4)throw new f("","Invalid uniform dimension type for matrix "+name+": "+S);return s(n*n,0)}throw new f("","Unknown uniform data type for "+name+": "+S)}}(v[n].type)}function L(S){var b;if(Array.isArray(S)){b=new Array(S.length);for(var n=0;n<S.length;++n)T(b,n,S[n])}else for(var C in b={},S)T(b,C,S[C]);return b}var m=r(v,!0);return{get:a(L(m)),set:o(m),enumerable:!0,configurable:!0}}},3984:function(l){"use strict";l.exports=function x(e,r){for(var f={},a=0;a<e.length;++a)for(var c=e[a].name.split("."),u=f,y=0;y<c.length;++y){var v=c[y].split("[");if(v.length>1){v[0]in u||(u[v[0]]=[]),u=u[v[0]];for(var w=1;w<v.length;++w){var d=parseInt(v[w]);w<v.length-1||y<c.length-1?(d in u||(u[d]=w<v.length-1?[]:{}),u=u[d]):u[d]=r?a:e[a].type}}else y<c.length-1?(v[0]in u||(u[v[0]]={}),u=u[v[0]]):u[v[0]]=r?a:e[a].type}return f}},2631:function(l,x){"use strict";x.uniforms=function a(c,u){for(var y=c.getProgramParameter(u,c.ACTIVE_UNIFORMS),v=[],w=0;w<y;++w){var d=c.getActiveUniform(u,w);if(d){var o=f(c,d.type);if(d.size>1)for(var h=0;h<d.size;++h)v.push({name:d.name.replace("[0]","["+h+"]"),type:o});else v.push({name:d.name,type:o})}}return v},x.attributes=function s(c,u){for(var y=c.getProgramParameter(u,c.ACTIVE_ATTRIBUTES),v=[],w=0;w<y;++w){var d=c.getActiveAttrib(u,w);d&&v.push({name:d.name,type:f(c,d.type)})}return v};var e={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},r=null;function f(c,u){if(!r){var y=Object.keys(e);r={};for(var v=0;v<y.length;++v){var w=y[v];r[c[w]]=e[w]}}return r[u]}},1628:function(l,x,e){"use strict";x.shader=function h(T,L,m){return o(T).getShaderReference(L,m)},x.program=function M(T,L,m,S,b){return o(T).getProgram(L,m,S,b)};var r=e(9068),f=e(3530),s=new("undefined"==typeof WeakMap?e(4037):WeakMap),c=0;function u(T,L,m,S,b,n,C){this.id=T,this.src=L,this.type=m,this.shader=S,this.count=n,this.programs=[],this.cache=C}function y(T){this.gl=T,this.shaders=[{},{}],this.programs={}}u.prototype.dispose=function(){if(0==--this.count){for(var T=this.cache,L=T.gl,m=this.programs,S=0,b=m.length;S<b;++S){var n=T.programs[m[S]];n&&(delete T.programs[S],L.deleteProgram(n))}L.deleteShader(this.shader),delete T.shaders[this.type===L.FRAGMENT_SHADER|0][this.src]}};var v=y.prototype;function o(T){var L=s.get(T);return L||(L=new y(T),s.set(T,L)),L}v.getShaderReference=function(T,L){var m=this.gl,S=this.shaders[T===m.FRAGMENT_SHADER|0],b=S[L];if(b&&m.isShader(b.shader))b.count+=1;else{var n=function w(T,L,m){var S=T.createShader(L);if(T.shaderSource(S,m),T.compileShader(S),!T.getShaderParameter(S,T.COMPILE_STATUS)){var b=T.getShaderInfoLog(S);try{var n=f(b,m,L)}catch(C){throw console.warn("Failed to format compiler error: "+C),new r(b,"Error compiling shader:\n"+b)}throw new r(b,n.short,n.long)}return S}(m,T,L);b=S[L]=new u(c++,L,T,n,[],1,this)}return b},v.getProgram=function(T,L,m,S){var b=[T.id,L.id,m.join(":"),S.join(":")].join("@"),n=this.programs[b];return(!n||!this.gl.isProgram(n))&&(this.programs[b]=n=function d(T,L,m,S,b){var n=T.createProgram();T.attachShader(n,L),T.attachShader(n,m);for(var C=0;C<S.length;++C)T.bindAttribLocation(n,b[C],S[C]);if(T.linkProgram(n),!T.getProgramParameter(n,T.LINK_STATUS)){var p=T.getProgramInfoLog(n);throw new r(p,"Error linking program: "+p)}return n}(this.gl,T.shader,L.shader,m,S),T.programs.push(b),L.programs.push(b)),n}},3050:function(l){"use strict";function x(f){this.plot=f,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}l.exports=function r(f,a){var s=new x(f);return s.update(a),f.addOverlay(s),s};var e=x.prototype;e.update=function(f){this.enable=((f=f||{}).enable||[!0,!0,!1,!1]).slice(),this.width=(f.width||[1,1,1,1]).slice(),this.color=(f.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(f.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},e.draw=function(){var f=this.enable,a=this.width,s=this.color,c=this.center,u=this.plot,y=u.line,v=u.dataBox,w=u.viewBox;if(y.bind(),v[0]<=c[0]&&c[0]<=v[2]&&v[1]<=c[1]&&c[1]<=v[3]){var d=w[0]+(c[0]-v[0])/(v[2]-v[0])*(w[2]-w[0]),o=w[1]+(c[1]-v[1])/(v[3]-v[1])*(w[3]-w[1]);f[0]&&y.drawLine(d,o,w[0],o,a[0],s[0]),f[1]&&y.drawLine(d,o,d,w[1],a[1],s[1]),f[2]&&y.drawLine(d,o,w[2],o,a[2],s[2]),f[3]&&y.drawLine(d,o,d,w[3],a[3],s[3])}},e.dispose=function(){this.plot.removeOverlay(this)}},3540:function(l,x,e){"use strict";var r=e(6832),f=e(5158),a=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),s=r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);l.exports=function(c){return f(c,a,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(l,x,e){"use strict";var r=e(5827),f=e(2944),a=e(3540);l.exports=function d(o,h){var M=[];function T(n,C,p,F,D,N){var k=[n,C,p,0,0,0,1];k[F+3]=1,k[F]=D,M.push.apply(M,k),k[6]=-1,M.push.apply(M,k),k[F]=N,M.push.apply(M,k),M.push.apply(M,k),k[6]=1,M.push.apply(M,k),k[F]=D,M.push.apply(M,k)}T(0,0,0,0,0,1),T(0,0,0,1,0,1),T(0,0,0,2,0,1),T(1,0,0,1,-1,1),T(1,0,0,2,-1,1),T(0,1,0,0,-1,1),T(0,1,0,2,-1,1),T(0,0,1,0,-1,1),T(0,0,1,1,-1,1);var L=r(o,M),m=f(o,[{type:o.FLOAT,buffer:L,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:L,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:L,size:1,offset:24,stride:28}]),S=a(o);S.attributes.position.location=0,S.attributes.color.location=1,S.attributes.weight.location=2;var b=new c(o,L,m,S);return b.update(h),b};var s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(o,h,M,T){this.gl=o,this.buffer=h,this.vao=M,this.shader=T,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=c.prototype,y=[0,0,0],v=[0,0,0],w=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(o){},u.draw=function(o){var h=this.gl,M=this.vao,T=this.shader;M.bind(),T.bind();var b,L=o.model||s,m=o.view||s,S=o.projection||s;this.axes&&(b=this.axes.lastCubeProps.axis);for(var n=y,C=v,p=0;p<3;++p)b&&b[p]<0?(n[p]=this.bounds[0][p],C[p]=this.bounds[1][p]):(n[p]=this.bounds[1][p],C[p]=this.bounds[0][p]);for(w[0]=h.drawingBufferWidth,w[1]=h.drawingBufferHeight,T.uniforms.model=L,T.uniforms.view=m,T.uniforms.projection=S,T.uniforms.coordinates=[this.position,n,C],T.uniforms.colors=this.colors,T.uniforms.screenShape=w,p=0;p<3;++p)T.uniforms.lineWidth=this.lineWidth[p]*this.pixelRatio,this.enabled[p]&&(M.draw(h.TRIANGLES,6,6*p),this.drawSides[p]&&M.draw(h.TRIANGLES,12,18+12*p));M.unbind()},u.update=function(o){!o||("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(l,x,e){var r=e(6832),f=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),a=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),s=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);x.meshShader={vertex:f,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},x.pickShader={vertex:s,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(l,x,e){"use strict";var r=e(2858),f=e(4020),a=["xyz","xzy","yxz","yzx","zxy","zyx"],c=function(T,L,m,S){for(var b=0,n=0;n<T.length;n++)for(var C=T[n].velocities,p=0;p<C.length;p++)b=Math.max(b,r.length(C[p]));var F=T.map(function(rt){return function(T,L,m,S){for(var b=T.points,n=T.velocities,C=T.divergences,p=[],F=[],D=[],N=[],k=[],O=[],B=0,z=0,U=f.create(),G=f.create(),rt=0;rt<b.length;rt++){var it=b[rt],ut=n[rt],J=C[rt];0===L&&(J=.05*m),z=r.length(ut)/S,U=f.create(),r.copy(U,ut),U[3]=J;for(var j=0;j<8;j++)k[j]=[it[0],it[1],it[2],j];if(N.length>0)for(j=0;j<8;j++){var Z=(j+1)%8;p.push(N[j],k[j],k[Z],k[Z],N[Z],N[j]),D.push(G,U,U,U,G,G),O.push(B,z,z,z,B,B);var H=p.length;F.push([H-6,H-5,H-4],[H-3,H-2,H-1])}var X=N;N=k,k=X;var at=G;G=U,U=at;var _=B;B=z,z=_}return{positions:p,cells:F,vectors:D,vertexIntensity:O}}(rt,m,S,b)}),D=[],N=[],k=[],O=[];for(n=0;n<F.length;n++){var B=F[n],z=D.length;for(D=D.concat(B.positions),k=k.concat(B.vectors),O=O.concat(B.vertexIntensity),p=0;p<B.cells.length;p++){var U=B.cells[p],G=[];N.push(G);for(var Q=0;Q<U.length;Q++)G.push(U[Q]+z)}}return{positions:D,cells:N,vectors:k,vertexIntensity:O,colormap:L}},u=function(T,L){var S,m=T.length;for(S=0;S<m;S++){var b=T[S];if(b===L)return S;if(b>L)return S-1}return S},y=function(T,L,m){return T<L?L:T>m?m:T},d=function(T){var L=1/0;T.sort(function(n,C){return n-C});for(var m=T.length,S=1;S<m;S++){var b=Math.abs(T[S]-T[S-1]);b<L&&(L=b)}return L};l.exports=function(T,L){var m=T.startingPositions,S=T.maxLength||1e3,b=T.tubeSize||1,n=T.absoluteTubeSize,C=T.gridFill||"+x+y+z",p={};-1!==C.indexOf("-x")&&(p.reversedX=!0),-1!==C.indexOf("-y")&&(p.reversedY=!0),-1!==C.indexOf("-z")&&(p.reversedZ=!0),p.filled=a.indexOf(C.replace(/-/g,"").replace(/\+/g,""));var Mt,wt,St,Ut,F=T.getVelocity||function(Mt){return function(T,L,m){var S=L.vectors,b=L.meshgrid,n=T[0],C=T[1],p=T[2],F=b[0].length,D=b[1].length,N=b[2].length,k=u(b[0],n),O=u(b[1],C),B=u(b[2],p),z=k+1,U=O+1,G=B+1;if(k=y(k,0,F-1),z=y(z,0,F-1),O=y(O,0,D-1),U=y(U,0,D-1),B=y(B,0,N-1),G=y(G,0,N-1),k<0||O<0||B<0||z>F-1||U>D-1||G>N-1)return r.create();var at,_,K,nt,et,st,Q=b[0][k],it=b[1][O],J=b[2][B],Z=(n-Q)/(b[0][z]-Q),H=(C-it)/(b[1][U]-it),X=(p-J)/(b[2][G]-J);switch(isFinite(Z)||(Z=.5),isFinite(H)||(H=.5),isFinite(X)||(X=.5),m.reversedX&&(k=F-1-k,z=F-1-z),m.reversedY&&(O=D-1-O,U=D-1-U),m.reversedZ&&(B=N-1-B,G=N-1-G),m.filled){case 5:et=B,st=G,K=O*N,nt=U*N,at=k*N*D,_=z*N*D;break;case 4:et=B,st=G,at=k*N,_=z*N,K=O*N*F,nt=U*N*F;break;case 3:K=O,nt=U,et=B*D,st=G*D,at=k*D*N,_=z*D*N;break;case 2:K=O,nt=U,at=k*D,_=z*D,et=B*D*F,st=G*D*F;break;case 1:at=k,_=z,et=B*F,st=G*F,K=O*F*N,nt=U*F*N;break;default:at=k,_=z,K=O*F,nt=U*F,et=B*F*D,st=G*F*D}var dt=S[at+K+et],Tt=S[at+K+st],bt=S[at+nt+et],Dt=S[at+nt+st],Ft=S[_+K+et],Mt=S[_+K+st],wt=S[_+nt+et],St=S[_+nt+st],Ut=r.create(),Gt=r.create(),Pt=r.create(),Vt=r.create();r.lerp(Ut,dt,Ft,Z),r.lerp(Gt,Tt,Mt,Z),r.lerp(Pt,bt,wt,Z),r.lerp(Vt,Dt,St,Z);var te=r.create(),_t=r.create();r.lerp(te,Ut,Pt,H),r.lerp(_t,Gt,Vt,H);var kt=r.create();return r.lerp(kt,te,_t,X),kt}(Mt,T,p)},D=T.getDivergence||function(Mt,wt){var St=r.create(),Ut=1e-4;r.add(St,Mt,[Ut,0,0]);var Gt=F(St);r.subtract(Gt,Gt,wt),r.scale(Gt,Gt,1/Ut),r.add(St,Mt,[0,Ut,0]);var Pt=F(St);r.subtract(Pt,Pt,wt),r.scale(Pt,Pt,1/Ut),r.add(St,Mt,[0,0,Ut]);var Vt=F(St);return r.subtract(Vt,Vt,wt),r.scale(Vt,Vt,1/Ut),r.add(St,Gt,Pt),r.add(St,St,Vt),St},N=[],k=L[0][0],O=L[0][1],B=L[0][2],z=L[1][0],U=L[1][1],G=L[1][2],it=10*r.distance(L[0],L[1])/S,ut=it*it,J=1,j=0,Z=m.length;Z>1&&(J=function(T){for(var L=[],m=[],S=[],b={},n={},C={},p=T.length,F=0;F<p;F++){var D=T[F],N=D[0],k=D[1],O=D[2];b[N]||(L.push(N),b[N]=!0),n[k]||(m.push(k),n[k]=!0),C[O]||(S.push(O),C[O]=!0)}var B=d(L),z=d(m),U=d(S),G=Math.min(B,z,U);return isFinite(G)?G:1}(m));for(var H=0;H<Z;H++){var X=r.create();r.copy(X,m[H]);var at=[X],_=[],K=F(X),nt=X;_.push(K);var et=[],st=D(X,K),dt=r.length(st);isFinite(dt)&&dt>j&&(j=dt),et.push(dt),N.push({points:at,velocities:_,divergences:et});for(var Tt=0;Tt<100*S&&at.length<S&&(wt=void 0,St=void 0,Ut=void 0,St=(Mt=X)[1],Ut=Mt[2],!((wt=Mt[0])<k||wt>z||St<O||St>U||Ut<B||Ut>G));){Tt++;var bt=r.clone(K),Dt=r.squaredLength(bt);if(0===Dt)break;Dt>ut&&r.scale(bt,bt,it/Math.sqrt(Dt)),r.add(bt,bt,X),K=F(bt),r.squaredDistance(nt,bt)-ut>-1e-4*ut&&(at.push(bt),nt=bt,_.push(K),st=D(bt,K),dt=r.length(st),isFinite(dt)&&dt>j&&(j=dt),et.push(dt)),X=bt}}var Ft=c(N,T.colormap,j,J);return n?Ft.tubeScale=n:(0===j&&(j=1),Ft.tubeScale=.5*b*J/j),Ft};var h=e(9578),M=e(1140).createMesh;l.exports.createTubeMesh=function(T,L){return M(T,L,{shaders:h,traceType:"streamtube"})}},9054:function(l,x,e){var r=e(5158),f=e(6832),a=f(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),s=f(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),c=f(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),u=f(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);x.createShader=function(y){var v=r(y,a,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v.attributes.normal.location=2,v},x.createPickShader=function(y){var v=r(y,a,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v.attributes.normal.location=2,v},x.createContourShader=function(y){var v=r(y,c,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v},x.createPickContourShader=function(y){var v=r(y,c,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return v.attributes.uv.location=0,v.attributes.f.location=1,v}},3754:function(l,x,e){"use strict";l.exports=function at(_){var K=_.gl,nt=m(K),et=b(K),st=S(K),dt=n(K),Tt=f(K),bt=a(K,[{buffer:Tt,size:4,stride:40,offset:0},{buffer:Tt,size:3,stride:40,offset:16},{buffer:Tt,size:3,stride:40,offset:28}]),Dt=f(K),Ft=a(K,[{buffer:Dt,size:4,stride:20,offset:0},{buffer:Dt,size:1,stride:20,offset:16}]),Mt=f(K),wt=a(K,[{buffer:Mt,size:2,type:K.FLOAT}]),St=s(K,1,256,K.RGBA,K.UNSIGNED_BYTE);St.minFilter=K.LINEAR,St.magFilter=K.LINEAR;var Ut=new O(K,[0,0],[[0,0,0],[0,0,0]],nt,et,Tt,bt,St,st,dt,Dt,Ft,Mt,wt,[0,0,0]),Gt={levels:[[],[],[]]};for(var Pt in _)Gt[Pt]=_[Pt];return Gt.colormap=Gt.colormap||"jet",Ut.update(Gt),Ut};var r=e(2288),f=e(5827),a=e(2944),s=e(8931),c=e(5306),u=e(9156),y=e(7498),v=e(7382),w=e(5050),d=e(4162),o=e(104),h=e(7437),M=e(5070),T=e(9144),L=e(9054),m=L.createShader,S=L.createContourShader,b=L.createPickShader,n=L.createPickContourShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],F=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],D=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function N(_,K,nt,et,st){this.position=_,this.index=K,this.uv=nt,this.level=et,this.dataCoordinate=st}!function(){for(var _=0;_<3;++_){var K=D[_],et=(_+2)%3;K[(_+1)%3+0]=1,K[et+3]=1,K[_+6]=1}}();function O(_,K,nt,et,st,dt,Tt,bt,Dt,Ft,Mt,wt,St,Ut,Gt){this.gl=_,this.shape=K,this.bounds=nt,this.objectOffset=Gt,this.intensityBounds=[],this._shader=et,this._pickShader=st,this._coordinateBuffer=dt,this._vao=Tt,this._colorMap=bt,this._contourShader=Dt,this._contourPickShader=Ft,this._contourBuffer=Mt,this._contourVAO=wt,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new N([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=St,this._dynamicVAO=Ut,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[w(c.mallocFloat(1024),[0,0]),w(c.mallocFloat(1024),[0,0]),w(c.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var B=O.prototype;B.genColormap=function(_,K){var nt=!1,et=v([u({colormap:_,nshades:256,format:"rgba"}).map(function(st,dt){var Tt=K?function z(_,K){if(!K||!K.length)return 1;for(var nt=0;nt<K.length;++nt){if(K.length<2)return 1;if(K[nt][0]===_)return K[nt][1];if(K[nt][0]>_&&nt>0){var et=(K[nt][0]-_)/(K[nt][0]-K[nt-1][0]);return K[nt][1]*(1-et)+et*K[nt-1][1]}}return 1}(dt/255,K):st[3];return Tt<1&&(nt=!0),[st[0],st[1],st[2],255*Tt]})]);return y.divseq(et,255),this.hasAlphaScale=nt,et},B.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},B.isOpaque=function(){return!this.isTransparent()},B.pickSlots=1,B.setPickBase=function(_){this.pickId=_};var U=[0,0,0],G={showSurface:!1,showContour:!1,projections:[p.slice(),p.slice(),p.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function Q(_,K){var nt,et,st,dt=K.axes&&K.axes.lastCubeProps.axis||U,Tt=K.showSurface,bt=K.showContour;for(nt=0;nt<3;++nt)for(Tt=Tt||K.surfaceProject[nt],et=0;et<3;++et)bt=bt||K.contourProject[nt][et];for(nt=0;nt<3;++nt){var Dt=G.projections[nt];for(et=0;et<16;++et)Dt[et]=0;for(et=0;et<4;++et)Dt[5*et]=1;Dt[5*nt]=0,Dt[12+nt]=K.axesBounds[+(dt[nt]>0)][nt],o(Dt,_.model,Dt);var Ft=G.clipBounds[nt];for(st=0;st<2;++st)for(et=0;et<3;++et)Ft[st][et]=_.clipBounds[st][et];Ft[0][nt]=-1e8,Ft[1][nt]=1e8}return G.showSurface=Tt,G.showContour=bt,G}var rt={model:p,view:p,projection:p,inverseModel:p.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},it=p.slice(),ut=[1,0,0,0,1,0,0,0,1];function J(_,K){_=_||{};var nt=this.gl;nt.disable(nt.CULL_FACE),this._colorMap.bind(0);var et=rt;et.model=_.model||p,et.view=_.view||p,et.projection=_.projection||p,et.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],et.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],et.objectOffset=this.objectOffset,et.contourColor=this.contourColor[0],et.inverseModel=h(et.inverseModel,et.model);for(var st=0;st<2;++st)for(var dt=et.clipBounds[st],Tt=0;Tt<3;++Tt)dt[Tt]=Math.min(Math.max(this.clipBounds[st][Tt],-1e8),1e8);et.kambient=this.ambientLight,et.kdiffuse=this.diffuseLight,et.kspecular=this.specularLight,et.roughness=this.roughness,et.fresnel=this.fresnel,et.opacity=this.opacity,et.height=0,et.permutation=ut,et.vertexColor=this.vertexColor;var bt=it;for(o(bt,et.view,et.model),o(bt,et.projection,bt),h(bt,bt),st=0;st<3;++st)et.eyePosition[st]=bt[12+st]/bt[15];var Dt=bt[15];for(st=0;st<3;++st)Dt+=this.lightPosition[st]*bt[4*st+3];for(st=0;st<3;++st){var Ft=bt[12+st];for(Tt=0;Tt<3;++Tt)Ft+=bt[4*Tt+st]*this.lightPosition[Tt];et.lightPosition[st]=Ft/Dt}var Mt=Q(et,this);if(Mt.showSurface){for(this._shader.bind(),this._shader.uniforms=et,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(nt.TRIANGLES,this._vertexCount),st=0;st<3;++st)!this.surfaceProject[st]||!this.vertexCount||(this._shader.uniforms.model=Mt.projections[st],this._shader.uniforms.clipBounds=Mt.clipBounds[st],this._vao.draw(nt.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Mt.showContour){var wt=this._contourShader;et.kambient=1,et.kdiffuse=0,et.kspecular=0,et.opacity=1,wt.bind(),wt.uniforms=et;var St=this._contourVAO;for(St.bind(),st=0;st<3;++st)for(wt.uniforms.permutation=D[st],nt.lineWidth(this.contourWidth[st]*this.pixelRatio),Tt=0;Tt<this.contourLevels[st].length;++Tt)Tt===this.highlightLevel[st]?(wt.uniforms.contourColor=this.highlightColor[st],wt.uniforms.contourTint=this.highlightTint[st]):(0===Tt||Tt-1===this.highlightLevel[st])&&(wt.uniforms.contourColor=this.contourColor[st],wt.uniforms.contourTint=this.contourTint[st]),this._contourCounts[st][Tt]&&(wt.uniforms.height=this.contourLevels[st][Tt],St.draw(nt.LINES,this._contourCounts[st][Tt],this._contourOffsets[st][Tt]));for(st=0;st<3;++st)for(wt.uniforms.model=Mt.projections[st],wt.uniforms.clipBounds=Mt.clipBounds[st],Tt=0;Tt<3;++Tt)if(this.contourProject[st][Tt]){wt.uniforms.permutation=D[Tt],nt.lineWidth(this.contourWidth[Tt]*this.pixelRatio);for(var Ut=0;Ut<this.contourLevels[Tt].length;++Ut)Ut===this.highlightLevel[Tt]?(wt.uniforms.contourColor=this.highlightColor[Tt],wt.uniforms.contourTint=this.highlightTint[Tt]):(0===Ut||Ut-1===this.highlightLevel[Tt])&&(wt.uniforms.contourColor=this.contourColor[Tt],wt.uniforms.contourTint=this.contourTint[Tt]),this._contourCounts[Tt][Ut]&&(wt.uniforms.height=this.contourLevels[Tt][Ut],St.draw(nt.LINES,this._contourCounts[Tt][Ut],this._contourOffsets[Tt][Ut]))}for(St.unbind(),(St=this._dynamicVAO).bind(),st=0;st<3;++st)if(0!==this._dynamicCounts[st])for(wt.uniforms.model=et.model,wt.uniforms.clipBounds=et.clipBounds,wt.uniforms.permutation=D[st],nt.lineWidth(this.dynamicWidth[st]*this.pixelRatio),wt.uniforms.contourColor=this.dynamicColor[st],wt.uniforms.contourTint=this.dynamicTint[st],wt.uniforms.height=this.dynamicLevel[st],St.draw(nt.LINES,this._dynamicCounts[st],this._dynamicOffsets[st]),Tt=0;Tt<3;++Tt)!this.contourProject[Tt][st]||(wt.uniforms.model=Mt.projections[Tt],wt.uniforms.clipBounds=Mt.clipBounds[Tt],St.draw(nt.LINES,this._dynamicCounts[st],this._dynamicOffsets[st]));St.unbind()}}B.draw=function(_){return J.call(this,_,!1)},B.drawTransparent=function(_){return J.call(this,_,!0)};var j={model:p,view:p,projection:p,inverseModel:p,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function Z(_,K){return Array.isArray(_)?[K(_[0]),K(_[1]),K(_[2])]:[K(_),K(_),K(_)]}function H(_){return Array.isArray(_)?3===_.length?[_[0],_[1],_[2],1]:[_[0],_[1],_[2],_[3]]:[0,0,0,1]}function X(_){if(Array.isArray(_)){if(Array.isArray(_))return[H(_[0]),H(_[1]),H(_[2])];var K=H(_);return[K.slice(),K.slice(),K.slice()]}}B.drawPick=function(_){_=_||{};var K=this.gl;K.disable(K.CULL_FACE);var nt=j;nt.model=_.model||p,nt.view=_.view||p,nt.projection=_.projection||p,nt.shape=this._field[2].shape,nt.pickId=this.pickId/255,nt.lowerBound=this.bounds[0],nt.upperBound=this.bounds[1],nt.objectOffset=this.objectOffset,nt.permutation=ut;for(var et=0;et<2;++et)for(var st=nt.clipBounds[et],dt=0;dt<3;++dt)st[dt]=Math.min(Math.max(this.clipBounds[et][dt],-1e8),1e8);var Tt=Q(nt,this);if(Tt.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=nt,this._vao.bind(),this._vao.draw(K.TRIANGLES,this._vertexCount),et=0;et<3;++et)!this.surfaceProject[et]||(this._pickShader.uniforms.model=Tt.projections[et],this._pickShader.uniforms.clipBounds=Tt.clipBounds[et],this._vao.draw(K.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Tt.showContour){var bt=this._contourPickShader;bt.bind(),bt.uniforms=nt;var Dt=this._contourVAO;for(Dt.bind(),dt=0;dt<3;++dt)for(K.lineWidth(this.contourWidth[dt]*this.pixelRatio),bt.uniforms.permutation=D[dt],et=0;et<this.contourLevels[dt].length;++et)this._contourCounts[dt][et]&&(bt.uniforms.height=this.contourLevels[dt][et],Dt.draw(K.LINES,this._contourCounts[dt][et],this._contourOffsets[dt][et]));for(et=0;et<3;++et)for(bt.uniforms.model=Tt.projections[et],bt.uniforms.clipBounds=Tt.clipBounds[et],dt=0;dt<3;++dt)if(this.contourProject[et][dt]){bt.uniforms.permutation=D[dt],K.lineWidth(this.contourWidth[dt]*this.pixelRatio);for(var Ft=0;Ft<this.contourLevels[dt].length;++Ft)this._contourCounts[dt][Ft]&&(bt.uniforms.height=this.contourLevels[dt][Ft],Dt.draw(K.LINES,this._contourCounts[dt][Ft],this._contourOffsets[dt][Ft]))}Dt.unbind()}},B.pick=function(_){if(!_||_.id!==this.pickId)return null;var K=this._field[2].shape,nt=this._pickResult,et=K[0]*(_.value[0]+(_.value[2]>>4)/16)/255,st=Math.floor(et),dt=et-st,Tt=K[1]*(_.value[1]+(15&_.value[2])/16)/255,bt=Math.floor(Tt),Dt=Tt-bt;st+=1,bt+=1;var Ft=nt.position;Ft[0]=Ft[1]=Ft[2]=0;for(var Mt=0;Mt<2;++Mt)for(var wt=Mt?dt:1-dt,St=0;St<2;++St)for(var Gt=st+Mt,Pt=bt+St,Vt=wt*(St?Dt:1-Dt),te=0;te<3;++te)Ft[te]+=this._field[te].get(Gt,Pt)*Vt;for(var _t=this._pickResult.level,kt=0;kt<3;++kt)if(_t[kt]=M.le(this.contourLevels[kt],Ft[kt]),_t[kt]<0)this.contourLevels[kt].length>0&&(_t[kt]=0);else if(_t[kt]<this.contourLevels[kt].length-1){var qt=this.contourLevels[kt][_t[kt]+1];Math.abs(this.contourLevels[kt][_t[kt]]-Ft[kt])>Math.abs(qt-Ft[kt])&&(_t[kt]+=1)}for(nt.index[0]=dt<.5?st:st+1,nt.index[1]=Dt<.5?bt:bt+1,nt.uv[0]=et/K[0],nt.uv[1]=Tt/K[1],te=0;te<3;++te)nt.dataCoordinate[te]=this._field[te].get(nt.index[0],nt.index[1]);return nt},B.padField=function(_,K){var nt=K.shape.slice(),et=_.shape.slice();y.assign(_.lo(1,1).hi(nt[0],nt[1]),K),y.assign(_.lo(1).hi(nt[0],1),K.hi(nt[0],1)),y.assign(_.lo(1,et[1]-1).hi(nt[0],1),K.lo(0,nt[1]-1).hi(nt[0],1)),y.assign(_.lo(0,1).hi(1,nt[1]),K.hi(1)),y.assign(_.lo(et[0]-1,1).hi(1,nt[1]),K.lo(nt[0]-1)),_.set(0,0,K.get(0,0)),_.set(0,et[1]-1,K.get(0,nt[1]-1)),_.set(et[0]-1,0,K.get(nt[0]-1,0)),_.set(et[0]-1,et[1]-1,K.get(nt[0]-1,nt[1]-1))},B.update=function(_){this.objectOffset=(_=_||{}).objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in _&&(this.contourWidth=Z(_.contourWidth,Number)),"showContour"in _&&(this.showContour=Z(_.showContour,Boolean)),"showSurface"in _&&(this.showSurface=!!_.showSurface),"contourTint"in _&&(this.contourTint=Z(_.contourTint,Boolean)),"contourColor"in _&&(this.contourColor=X(_.contourColor)),"contourProject"in _&&(this.contourProject=Z(_.contourProject,function(Le){return Z(Le,Boolean)})),"surfaceProject"in _&&(this.surfaceProject=_.surfaceProject),"dynamicColor"in _&&(this.dynamicColor=X(_.dynamicColor)),"dynamicTint"in _&&(this.dynamicTint=Z(_.dynamicTint,Number)),"dynamicWidth"in _&&(this.dynamicWidth=Z(_.dynamicWidth,Number)),"opacity"in _&&(this.opacity=_.opacity),"opacityscale"in _&&(this.opacityscale=_.opacityscale),"colorBounds"in _&&(this.colorBounds=_.colorBounds),"vertexColor"in _&&(this.vertexColor=_.vertexColor?1:0),"colormap"in _&&this._colorMap.setPixels(this.genColormap(_.colormap,this.opacityscale));var K=_.field||_.coords&&_.coords[2]||null,nt=!1;if(K||(K=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in _||"coords"in _){var et=(K.shape[0]+2)*(K.shape[1]+2);et>this._field[2].data.length&&(c.freeFloat(this._field[2].data),this._field[2].data=c.mallocFloat(r.nextPow2(et))),this._field[2]=w(this._field[2].data,[K.shape[0]+2,K.shape[1]+2]),this.padField(this._field[2],K),this.shape=K.shape.slice();for(var st=this.shape,dt=0;dt<2;++dt)this._field[2].size>this._field[dt].data.length&&(c.freeFloat(this._field[dt].data),this._field[dt].data=c.mallocFloat(this._field[2].size)),this._field[dt]=w(this._field[dt].data,[st[0]+2,st[1]+2]);if(_.coords){var Tt=_.coords;if(!Array.isArray(Tt)||3!==Tt.length)throw new Error("gl-surface: invalid coordinates for x/y");for(dt=0;dt<2;++dt){var bt=Tt[dt];for(St=0;St<2;++St)if(bt.shape[St]!==st[St])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[dt],bt)}}else if(_.ticks){var Dt=_.ticks;if(!Array.isArray(Dt)||2!==Dt.length)throw new Error("gl-surface: invalid ticks");for(dt=0;dt<2;++dt){var Ft=Dt[dt];if((Array.isArray(Ft)||Ft.length)&&(Ft=w(Ft)),Ft.shape[0]!==st[dt])throw new Error("gl-surface: invalid tick length");var Mt=w(Ft.data,st);Mt.stride[dt]=Ft.stride[0],Mt.stride[1^dt]=0,this.padField(this._field[dt],Mt)}}else{for(dt=0;dt<2;++dt){var wt=[0,0];wt[dt]=1,this._field[dt]=w(this._field[dt].data,[st[0]+2,st[1]+2],wt,0)}this._field[0].set(0,0,0);for(var St=0;St<st[0];++St)this._field[0].set(St+1,0,St);for(this._field[0].set(st[0]+1,0,st[0]-1),this._field[1].set(0,0,0),St=0;St<st[1];++St)this._field[1].set(0,St+1,St);this._field[1].set(0,st[1]+1,st[1]-1)}var Ut=this._field,Gt=w(c.mallocFloat(3*Ut[2].size*2),[3,st[0]+2,st[1]+2,2]);for(dt=0;dt<3;++dt)T(Gt.pick(dt),Ut[dt],"mirror");var Pt=w(c.mallocFloat(3*Ut[2].size),[st[0]+2,st[1]+2,3]);for(dt=0;dt<st[0]+2;++dt)for(St=0;St<st[1]+2;++St){var Vt=Gt.get(0,dt,St,0),te=Gt.get(0,dt,St,1),_t=Gt.get(1,dt,St,0),kt=Gt.get(1,dt,St,1),zt=Gt.get(2,dt,St,0),qt=Gt.get(2,dt,St,1),ae=_t*qt-kt*zt,oe=zt*te-qt*Vt,pe=Vt*kt-te*_t,ye=Math.sqrt(ae*ae+oe*oe+pe*pe);ye<1e-8?(ye=Math.max(Math.abs(ae),Math.abs(oe),Math.abs(pe)))<1e-8?(pe=1,oe=ae=0,ye=1):ye=1/ye:ye=1/Math.sqrt(ye),Pt.set(dt,St,0,ae*ye),Pt.set(dt,St,1,oe*ye),Pt.set(dt,St,2,pe*ye)}c.free(Gt.data);var Fe=[1/0,1/0,1/0],Zt=[-1/0,-1/0,-1/0],Ct=1/0,Et=-1/0,Ot=c.mallocFloat(r.nextPow2((st[0]-1)*(st[1]-1)*6*10)),It=0,gt=0;for(dt=0;dt<st[0]-1;++dt)t:for(St=0;St<st[1]-1;++St){for(var pt=0;pt<2;++pt)for(var vt=0;vt<2;++vt)for(var yt=0;yt<3;++yt){var Yt=this._field[yt].get(1+dt+pt,1+St+vt);if(isNaN(Yt)||!isFinite(Yt))continue t}for(yt=0;yt<6;++yt){var Qt=dt+F[yt][0],le=St+F[yt][1],he=this._field[0].get(Qt+1,le+1),ke=this._field[1].get(Qt+1,le+1);Yt=this._field[2].get(Qt+1,le+1),ae=Pt.get(Qt+1,le+1,0),oe=Pt.get(Qt+1,le+1,1),pe=Pt.get(Qt+1,le+1,2),_.intensity&&(Oe=_.intensity.get(Qt,le));var Oe=_.intensity?_.intensity.get(Qt,le):Yt+this.objectOffset[2];Ot[It++]=Qt,Ot[It++]=le,Ot[It++]=he,Ot[It++]=ke,Ot[It++]=Yt,Ot[It++]=0,Ot[It++]=Oe,Ot[It++]=ae,Ot[It++]=oe,Ot[It++]=pe,Fe[0]=Math.min(Fe[0],he+this.objectOffset[0]),Fe[1]=Math.min(Fe[1],ke+this.objectOffset[1]),Fe[2]=Math.min(Fe[2],Yt+this.objectOffset[2]),Ct=Math.min(Ct,Oe),Zt[0]=Math.max(Zt[0],he+this.objectOffset[0]),Zt[1]=Math.max(Zt[1],ke+this.objectOffset[1]),Zt[2]=Math.max(Zt[2],Yt+this.objectOffset[2]),Et=Math.max(Et,Oe),gt+=1}}for(_.intensityBounds&&(Ct=+_.intensityBounds[0],Et=+_.intensityBounds[1]),dt=6;dt<It;dt+=10)Ot[dt]=(Ot[dt]-Ct)/(Et-Ct);this._vertexCount=gt,this._coordinateBuffer.update(Ot.subarray(0,It)),c.freeFloat(Ot),c.free(Pt.data),this.bounds=[Fe,Zt],this.intensity=_.intensity||this._field[2],(this.intensityBounds[0]!==Ct||this.intensityBounds[1]!==Et)&&(nt=!0),this.intensityBounds=[Ct,Et]}if("levels"in _){var Ae=_.levels;for(Ae=Array.isArray(Ae[0])?Ae.slice():[[],[],Ae],dt=0;dt<3;++dt)Ae[dt]=Ae[dt].slice(),Ae[dt].sort(function(Le,We){return Le-We});for(dt=0;dt<3;++dt)for(St=0;St<Ae[dt].length;++St)Ae[dt][St]-=this.objectOffset[dt];t:for(dt=0;dt<3;++dt){if(Ae[dt].length!==this.contourLevels[dt].length){nt=!0;break}for(St=0;St<Ae[dt].length;++St)if(Ae[dt][St]!==this.contourLevels[dt][St]){nt=!0;break t}}this.contourLevels=Ae}if(nt){Ut=this._field,st=this.shape;for(var je=[],Ze=0;Ze<3;++Ze){var Lr=this.contourLevels[Ze],fe=[],Ve=[],He=[0,0,0];for(dt=0;dt<Lr.length;++dt){var wr=d(this._field[Ze],Lr[dt]);fe.push(je.length/5|0),gt=0;t:for(St=0;St<wr.cells.length;++St){var ar=wr.cells[St];for(yt=0;yt<2;++yt){var ie=wr.positions[ar[yt]],ne=ie[0],ve=0|Math.floor(ne),xe=ne-ve,Te=ie[1],be=0|Math.floor(Te),Pe=Te-be,Be=!1;e:for(var Qe=0;Qe<3;++Qe){He[Qe]=0;var Ke=(Ze+Qe+1)%3;for(pt=0;pt<2;++pt){var tr=pt?xe:1-xe;for(Qt=0|Math.min(Math.max(ve+pt,0),st[0]),vt=0;vt<2;++vt){var vr=vt?Pe:1-Pe;if(le=0|Math.min(Math.max(be+vt,0),st[1]),Yt=Qe<2?this._field[Ke].get(Qt,le):(this.intensity.get(Qt,le)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Yt)||isNaN(Yt)){Be=!0;break e}He[Qe]+=tr*vr*Yt}}}if(Be){if(yt>0){for(var Nt=0;Nt<5;++Nt)je.pop();gt-=1}continue t}je.push(He[0],He[1],ie[0],ie[1],He[2]),gt+=1}}Ve.push(gt)}this._contourOffsets[Ze]=fe,this._contourCounts[Ze]=Ve}var Se=c.mallocFloat(je.length);for(dt=0;dt<je.length;++dt)Se[dt]=je[dt];this._contourBuffer.update(Se),c.freeFloat(Se)}},B.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var _=0;_<3;++_)c.freeFloat(this._field[_].data)},B.highlight=function(_){var K,nt;if(!_)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(K=0;K<3;++K)this.highlightLevel[K]=this.enableHighlight[K]?_.level[K]:-1;for(nt=this.snapToData?_.dataCoordinate:_.position,K=0;K<3;++K)nt[K]-=this.objectOffset[K];if(this.enableDynamic[0]&&nt[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&nt[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&nt[2]!==this.dynamicLevel[2]){for(var et=0,st=this.shape,dt=c.mallocFloat(12*st[0]*st[1]),Tt=0;Tt<3;++Tt)if(this.enableDynamic[Tt]){this.dynamicLevel[Tt]=nt[Tt];var Mt=this._field[(Tt+1)%3],wt=this._field[(Tt+2)%3],St=d(this._field[Tt],nt[Tt]),Ut=St.cells,Gt=St.positions;for(this._dynamicOffsets[Tt]=et,K=0;K<Ut.length;++K)for(var Pt=Ut[K],Vt=0;Vt<2;++Vt){var te=Gt[Pt[Vt]],_t=+te[0],kt=0|_t,zt=0|Math.min(kt+1,st[0]),qt=_t-kt,ae=1-qt,oe=+te[1],pe=0|oe,ye=0|Math.min(pe+1,st[1]),Fe=oe-pe,Zt=1-Fe,Ct=ae*Zt,Et=ae*Fe,Rt=qt*Zt,Ot=qt*Fe,It=Ct*Mt.get(kt,pe)+Et*Mt.get(kt,ye)+Rt*Mt.get(zt,pe)+Ot*Mt.get(zt,ye),gt=Ct*wt.get(kt,pe)+Et*wt.get(kt,ye)+Rt*wt.get(zt,pe)+Ot*wt.get(zt,ye);if(isNaN(It)||isNaN(gt)){Vt&&(et-=1);break}dt[2*et+0]=It,dt[2*et+1]=gt,et+=1}this._dynamicCounts[Tt]=et-this._dynamicOffsets[Tt]}else this.dynamicLevel[Tt]=NaN,this._dynamicCounts[Tt]=0;this._dynamicBuffer.update(dt.subarray(0,2*et)),c.freeFloat(dt)}}},8931:function(l,x,e){"use strict";var r=e(5050),f=e(7498),a=e(5306);l.exports=function n(C){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(s||y(C),"number"==typeof arguments[1])return m(C,arguments[1],arguments[2],arguments[3]||C.RGBA,arguments[4]||C.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(C,0|arguments[1][0],0|arguments[1][1],arguments[2]||C.RGBA,arguments[3]||C.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var p=arguments[1],F=v(p)?p:p.raw;if(F)return S(C,F,0|p.width,0|p.height,arguments[2]||C.RGBA,arguments[3]||C.UNSIGNED_BYTE);if(p.shape&&p.data&&p.stride)return b(C,p)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var s=null,c=null,u=null;function y(C){s=[C.LINEAR,C.NEAREST_MIPMAP_LINEAR,C.LINEAR_MIPMAP_NEAREST,C.LINEAR_MIPMAP_NEAREST],c=[C.NEAREST,C.LINEAR,C.NEAREST_MIPMAP_NEAREST,C.NEAREST_MIPMAP_LINEAR,C.LINEAR_MIPMAP_NEAREST,C.LINEAR_MIPMAP_LINEAR],u=[C.REPEAT,C.CLAMP_TO_EDGE,C.MIRRORED_REPEAT]}function v(C){return"undefined"!=typeof HTMLCanvasElement&&C instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&C instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&C instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&C instanceof ImageData}var w=function(C,p){f.muls(C,p,255)};function d(C,p,F){var D=C.gl,N=D.getParameter(D.MAX_TEXTURE_SIZE);if(p<0||p>N||F<0||F>N)throw new Error("gl-texture2d: Invalid texture size");return C._shape=[p,F],C.bind(),D.texImage2D(D.TEXTURE_2D,0,C.format,p,F,0,C.format,C.type,null),C._mipLevels=[0],C}function o(C,p,F,D,N,k){this.gl=C,this.handle=p,this.format=N,this.type=k,this._shape=[F,D],this._mipLevels=[0],this._magFilter=C.NEAREST,this._minFilter=C.NEAREST,this._wrapS=C.CLAMP_TO_EDGE,this._wrapT=C.CLAMP_TO_EDGE,this._anisoSamples=1;var O=this,B=[this._wrapS,this._wrapT];Object.defineProperties(B,[{get:function(){return O._wrapS},set:function(U){return O.wrapS=U}},{get:function(){return O._wrapT},set:function(U){return O.wrapT=U}}]),this._wrapVector=B;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return O._shape[0]},set:function(U){return O.width=U}},{get:function(){return O._shape[1]},set:function(U){return O.height=U}}]),this._shapeVector=z}var h=o.prototype;function M(C,p){return 3===C.length?1===p[2]&&p[1]===C[0]*C[2]&&p[0]===C[2]:1===p[0]&&p[1]===C[0]}function L(C){var p=C.createTexture();return C.bindTexture(C.TEXTURE_2D,p),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.NEAREST),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE),p}function m(C,p,F,D,N){var k=C.getParameter(C.MAX_TEXTURE_SIZE);if(p<0||p>k||F<0||F>k)throw new Error("gl-texture2d: Invalid texture shape");if(N===C.FLOAT&&!C.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var O=L(C);return C.texImage2D(C.TEXTURE_2D,0,D,p,F,0,D,N,null),new o(C,O,p,F,D,N)}function S(C,p,F,D,N,k){var O=L(C);return C.texImage2D(C.TEXTURE_2D,0,N,N,k,p),new o(C,O,F,D,N,k)}function b(C,p){var F=p.dtype,D=p.shape.slice(),N=C.getParameter(C.MAX_TEXTURE_SIZE);if(D[0]<0||D[0]>N||D[1]<0||D[1]>N)throw new Error("gl-texture2d: Invalid texture size");var k=M(D,p.stride.slice()),O=0;"float32"===F?O=C.FLOAT:"float64"===F?(O=C.FLOAT,k=!1,F="float32"):"uint8"===F?O=C.UNSIGNED_BYTE:(O=C.UNSIGNED_BYTE,k=!1,F="uint8");var B=0;if(2===D.length)B=C.LUMINANCE,p=r(p.data,D=[D[0],D[1],1],[p.stride[0],p.stride[1],1],p.offset);else{if(3!==D.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===D[2])B=C.ALPHA;else if(2===D[2])B=C.LUMINANCE_ALPHA;else if(3===D[2])B=C.RGB;else{if(4!==D[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");B=C.RGBA}}O===C.FLOAT&&!C.getExtension("OES_texture_float")&&(O=C.UNSIGNED_BYTE,k=!1);var z,U,G=p.size;if(k)z=0===p.offset&&p.data.length===G?p.data:p.data.subarray(p.offset,p.offset+G);else{var Q=[D[2],D[2]*D[0],1];U=a.malloc(G,F);var rt=r(U,D,Q,0);"float32"!==F&&"float64"!==F||O!==C.UNSIGNED_BYTE?f.assign(rt,p):w(rt,p),z=U.subarray(0,G)}var it=L(C);return C.texImage2D(C.TEXTURE_2D,0,B,D[0],D[1],0,B,O,z),k||a.free(U),new o(C,it,D[0],D[1],B,O)}Object.defineProperties(h,{minFilter:{get:function(){return this._minFilter},set:function(C){this.bind();var p=this.gl;if(this.type===p.FLOAT&&s.indexOf(C)>=0&&(p.getExtension("OES_texture_float_linear")||(C=p.NEAREST)),c.indexOf(C)<0)throw new Error("gl-texture2d: Unknown filter mode "+C);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,C),this._minFilter=C}},magFilter:{get:function(){return this._magFilter},set:function(C){this.bind();var p=this.gl;if(this.type===p.FLOAT&&s.indexOf(C)>=0&&(p.getExtension("OES_texture_float_linear")||(C=p.NEAREST)),c.indexOf(C)<0)throw new Error("gl-texture2d: Unknown filter mode "+C);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,C),this._magFilter=C}},mipSamples:{get:function(){return this._anisoSamples},set:function(C){var p=this._anisoSamples;if(this._anisoSamples=0|Math.max(C,1),p!==this._anisoSamples){var F=this.gl.getExtension("EXT_texture_filter_anisotropic");F&&this.gl.texParameterf(this.gl.TEXTURE_2D,F.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(C){if(this.bind(),u.indexOf(C)<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,C),this._wrapS=C}},wrapT:{get:function(){return this._wrapT},set:function(C){if(this.bind(),u.indexOf(C)<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,C),this._wrapT=C}},wrap:{get:function(){return this._wrapVector},set:function(C){if(Array.isArray(C)||(C=[C,C]),2!==C.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var p=0;p<2;++p)if(u.indexOf(C[p])<0)throw new Error("gl-texture2d: Unknown wrap mode "+C);this._wrapS=C[0],this._wrapT=C[1];var F=this.gl;return this.bind(),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,this._wrapS),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,this._wrapT),C}},shape:{get:function(){return this._shapeVector},set:function(C){if(Array.isArray(C)){if(2!==C.length)throw new Error("gl-texture2d: Invalid texture shape")}else C=[0|C,0|C];return d(this,0|C[0],0|C[1]),[0|C[0],0|C[1]]}},width:{get:function(){return this._shape[0]},set:function(C){return d(this,C|=0,this._shape[1]),C}},height:{get:function(){return this._shape[1]},set:function(C){return d(this,this._shape[0],C|=0),C}}}),h.bind=function(C){var p=this.gl;return void 0!==C&&p.activeTexture(p.TEXTURE0+(0|C)),p.bindTexture(p.TEXTURE_2D,this.handle),void 0!==C?0|C:p.getParameter(p.ACTIVE_TEXTURE)-p.TEXTURE0},h.dispose=function(){this.gl.deleteTexture(this.handle)},h.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var C=Math.min(this._shape[0],this._shape[1]),p=0;C>0;++p,C>>>=1)this._mipLevels.indexOf(p)<0&&this._mipLevels.push(p)},h.setPixels=function(C,p,F,D){var N=this.gl;this.bind(),Array.isArray(p)?(D=F,F=0|p[1],p=0|p[0]):(p=p||0,F=F||0),D=D||0;var k=v(C)?C:C.raw;if(k)this._mipLevels.indexOf(D)<0?(N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,this.type,k),this._mipLevels.push(D)):N.texSubImage2D(N.TEXTURE_2D,D,p,F,this.format,this.type,k);else{if(!(C.shape&&C.stride&&C.data))throw new Error("gl-texture2d: Unsupported data type");if(C.shape.length<2||p+C.shape[1]>this._shape[1]>>>D||F+C.shape[0]>this._shape[0]>>>D||p<0||F<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function T(C,p,F,D,N,k,O,B){var z=B.dtype,U=B.shape.slice();if(U.length<2||U.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var G=0,Q=0,rt=M(U,B.stride.slice());if("float32"===z?G=C.FLOAT:"float64"===z?(G=C.FLOAT,rt=!1,z="float32"):"uint8"===z?G=C.UNSIGNED_BYTE:(G=C.UNSIGNED_BYTE,rt=!1,z="uint8"),2===U.length)Q=C.LUMINANCE,B=r(B.data,U=[U[0],U[1],1],[B.stride[0],B.stride[1],1],B.offset);else{if(3!==U.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===U[2])Q=C.ALPHA;else if(2===U[2])Q=C.LUMINANCE_ALPHA;else if(3===U[2])Q=C.RGB;else{if(4!==U[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");Q=C.RGBA}}if((Q===C.LUMINANCE||Q===C.ALPHA)&&(N===C.LUMINANCE||N===C.ALPHA)&&(Q=N),Q!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ut=B.size,J=O.indexOf(D)<0;if(J&&O.push(D),G===k&&rt)0===B.offset&&B.data.length===ut?J?C.texImage2D(C.TEXTURE_2D,D,N,U[0],U[1],0,N,k,B.data):C.texSubImage2D(C.TEXTURE_2D,D,p,F,U[0],U[1],N,k,B.data):J?C.texImage2D(C.TEXTURE_2D,D,N,U[0],U[1],0,N,k,B.data.subarray(B.offset,B.offset+ut)):C.texSubImage2D(C.TEXTURE_2D,D,p,F,U[0],U[1],N,k,B.data.subarray(B.offset,B.offset+ut));else{var j;j=k===C.FLOAT?a.mallocFloat32(ut):a.mallocUint8(ut);var Z=r(j,U,[U[2],U[2]*U[0],1]);G===C.FLOAT&&k===C.UNSIGNED_BYTE?w(Z,B):f.assign(Z,B),J?C.texImage2D(C.TEXTURE_2D,D,N,U[0],U[1],0,N,k,j.subarray(0,ut)):C.texSubImage2D(C.TEXTURE_2D,D,p,F,U[0],U[1],N,k,j.subarray(0,ut)),k===C.FLOAT?a.freeFloat32(j):a.freeUint8(j)}}(N,p,F,D,this.format,this.type,this._mipLevels,C)}}},3056:function(l){"use strict";l.exports=function x(e,r,f){r?r.bind():e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null);var a=0|e.getParameter(e.MAX_VERTEX_ATTRIBS);if(f){if(f.length>a)throw new Error("gl-vao: Too many vertex attributes");for(var s=0;s<f.length;++s){var c=f[s];if(c.buffer){var y=c.size||4,v=c.type||e.FLOAT,w=!!c.normalized,d=c.stride||0,o=c.offset||0;c.buffer.bind(),e.enableVertexAttribArray(s),e.vertexAttribPointer(s,y,v,w,d,o)}else{if("number"==typeof c)e.vertexAttrib1f(s,c);else if(1===c.length)e.vertexAttrib1f(s,c[0]);else if(2===c.length)e.vertexAttrib2f(s,c[0],c[1]);else if(3===c.length)e.vertexAttrib3f(s,c[0],c[1],c[2]);else{if(4!==c.length)throw new Error("gl-vao: Invalid vertex attribute");e.vertexAttrib4f(s,c[0],c[1],c[2],c[3])}e.disableVertexAttribArray(s)}}for(;s<a;++s)e.disableVertexAttribArray(s)}else for(e.bindBuffer(e.ARRAY_BUFFER,null),s=0;s<a;++s)e.disableVertexAttribArray(s)}},7220:function(l,x,e){"use strict";var r=e(3056);function f(s){this.gl=s,this._elements=null,this._attributes=null,this._elementsType=s.UNSIGNED_SHORT}f.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},f.prototype.update=function(s,c,u){this._elements=c,this._attributes=s,this._elementsType=u||this.gl.UNSIGNED_SHORT},f.prototype.dispose=function(){},f.prototype.unbind=function(){},f.prototype.draw=function(s,c,u){u=u||0;var y=this.gl;this._elements?y.drawElements(s,c,this._elementsType,u):y.drawArrays(s,u,c)},l.exports=function a(s){return new f(s)}},3778:function(l,x,e){"use strict";var r=e(3056);function f(c,u,y,v,w,d){this.location=c,this.dimension=u,this.a=y,this.b=v,this.c=w,this.d=d}function a(c,u,y){this.gl=c,this._ext=u,this.handle=y,this._attribs=[],this._useElements=!1,this._elementsType=c.UNSIGNED_SHORT}f.prototype.bind=function(c){switch(this.dimension){case 1:c.vertexAttrib1f(this.location,this.a);break;case 2:c.vertexAttrib2f(this.location,this.a,this.b);break;case 3:c.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:c.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var c=0;c<this._attribs.length;++c)this._attribs[c].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(c,u,y){if(this.bind(),r(this.gl,u,c),this.unbind(),this._attribs.length=0,c)for(var v=0;v<c.length;++v){var w=c[v];"number"==typeof w?this._attribs.push(new f(v,1,w)):Array.isArray(w)&&this._attribs.push(new f(v,w.length,w[0],w[1],w[2],w[3]))}this._useElements=!!u,this._elementsType=y||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(c,u,y){y=y||0;var v=this.gl;this._useElements?v.drawElements(c,u,this._elementsType,y):v.drawArrays(c,y,u)},l.exports=function s(c,u){return new a(c,u,u.createVertexArrayOES())}},2944:function(l,x,e){"use strict";var r=e(3778),f=e(7220);function a(c){this.bindVertexArrayOES=c.bindVertexArray.bind(c),this.createVertexArrayOES=c.createVertexArray.bind(c),this.deleteVertexArrayOES=c.deleteVertexArray.bind(c)}l.exports=function s(c,u,y,v){var d,w=c.createVertexArray?new a(c):c.getExtension("OES_vertex_array_object");return(d=w?r(c,w):f(c)).update(u,y,v),d}},2598:function(l){l.exports=function x(e,r,f){return e[0]=r[0]+f[0],e[1]=r[1]+f[1],e[2]=r[2]+f[2],e}},5879:function(l,x,e){l.exports=function s(c,u){var y=r(c[0],c[1],c[2]),v=r(u[0],u[1],u[2]);f(y,y),f(v,v);var w=a(y,v);return w>1?0:Math.acos(w)};var r=e(5415),f=e(899),a=e(9305)},8827:function(l){l.exports=function x(e,r){return e[0]=Math.ceil(r[0]),e[1]=Math.ceil(r[1]),e[2]=Math.ceil(r[2]),e}},7622:function(l){l.exports=function x(e){var r=new Float32Array(3);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r}},8782:function(l){l.exports=function x(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e}},8501:function(l){l.exports=function x(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}},903:function(l){l.exports=function x(e,r,f){var a=r[0],s=r[1],c=r[2],u=f[0],y=f[1],v=f[2];return e[0]=s*v-c*y,e[1]=c*u-a*v,e[2]=a*y-s*u,e}},5981:function(l,x,e){l.exports=e(8288)},8288:function(l){l.exports=function x(e,r){var f=r[0]-e[0],a=r[1]-e[1],s=r[2]-e[2];return Math.sqrt(f*f+a*a+s*s)}},8629:function(l,x,e){l.exports=e(7979)},7979:function(l){l.exports=function x(e,r,f){return e[0]=r[0]/f[0],e[1]=r[1]/f[1],e[2]=r[2]/f[2],e}},9305:function(l){l.exports=function x(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]}},154:function(l){l.exports=1e-6},4932:function(l,x,e){l.exports=function f(a,s){var c=a[0],u=a[1],y=a[2],v=s[0],w=s[1],d=s[2];return Math.abs(c-v)<=r*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(u-w)<=r*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(y-d)<=r*Math.max(1,Math.abs(y),Math.abs(d))};var r=e(154)},5777:function(l){l.exports=function x(e,r){return e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]}},3306:function(l){l.exports=function x(e,r){return e[0]=Math.floor(r[0]),e[1]=Math.floor(r[1]),e[2]=Math.floor(r[2]),e}},7447:function(l,x,e){l.exports=function f(a,s,c,u,y,v){var w,d;for(s||(s=3),c||(c=0),d=u?Math.min(u*s+c,a.length):a.length,w=c;w<d;w+=s)r[0]=a[w],r[1]=a[w+1],r[2]=a[w+2],y(r,r,v),a[w]=r[0],a[w+1]=r[1],a[w+2]=r[2];return a};var r=e(8501)()},5415:function(l){l.exports=function x(e,r,f){var a=new Float32Array(3);return a[0]=e,a[1]=r,a[2]=f,a}},2858:function(l,x,e){l.exports={EPSILON:e(154),create:e(8501),clone:e(7622),angle:e(5879),fromValues:e(5415),copy:e(8782),set:e(831),equals:e(4932),exactEquals:e(5777),add:e(2598),subtract:e(911),sub:e(8921),multiply:e(105),mul:e(5733),divide:e(7979),div:e(8629),min:e(3605),max:e(1716),floor:e(3306),ceil:e(8827),round:e(1624),scale:e(5685),scaleAndAdd:e(6722),distance:e(8288),dist:e(5981),squaredDistance:e(6403),sqrDist:e(5294),length:e(4693),len:e(1468),squaredLength:e(4337),sqrLen:e(3303),negate:e(435),inverse:e(2073),normalize:e(899),dot:e(9305),cross:e(903),lerp:e(1868),random:e(6660),transformMat4:e(3255),transformMat3:e(9908),transformQuat:e(6568),rotateX:e(392),rotateY:e(3222),rotateZ:e(3388),forEach:e(7447)}},2073:function(l){l.exports=function x(e,r){return e[0]=1/r[0],e[1]=1/r[1],e[2]=1/r[2],e}},1468:function(l,x,e){l.exports=e(4693)},4693:function(l){l.exports=function x(e){var r=e[0],f=e[1],a=e[2];return Math.sqrt(r*r+f*f+a*a)}},1868:function(l){l.exports=function x(e,r,f,a){var s=r[0],c=r[1],u=r[2];return e[0]=s+a*(f[0]-s),e[1]=c+a*(f[1]-c),e[2]=u+a*(f[2]-u),e}},1716:function(l){l.exports=function x(e,r,f){return e[0]=Math.max(r[0],f[0]),e[1]=Math.max(r[1],f[1]),e[2]=Math.max(r[2],f[2]),e}},3605:function(l){l.exports=function x(e,r,f){return e[0]=Math.min(r[0],f[0]),e[1]=Math.min(r[1],f[1]),e[2]=Math.min(r[2],f[2]),e}},5733:function(l,x,e){l.exports=e(105)},105:function(l){l.exports=function x(e,r,f){return e[0]=r[0]*f[0],e[1]=r[1]*f[1],e[2]=r[2]*f[2],e}},435:function(l){l.exports=function x(e,r){return e[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e}},899:function(l){l.exports=function x(e,r){var f=r[0],a=r[1],s=r[2],c=f*f+a*a+s*s;return c>0&&(c=1/Math.sqrt(c),e[0]=r[0]*c,e[1]=r[1]*c,e[2]=r[2]*c),e}},6660:function(l){l.exports=function x(e,r){r=r||1;var f=2*Math.random()*Math.PI,a=2*Math.random()-1,s=Math.sqrt(1-a*a)*r;return e[0]=Math.cos(f)*s,e[1]=Math.sin(f)*s,e[2]=a*r,e}},392:function(l){l.exports=function x(e,r,f,a){var s=f[1],c=f[2],u=r[1]-s,y=r[2]-c,v=Math.sin(a),w=Math.cos(a);return e[0]=r[0],e[1]=s+u*w-y*v,e[2]=c+u*v+y*w,e}},3222:function(l){l.exports=function x(e,r,f,a){var s=f[0],c=f[2],u=r[0]-s,y=r[2]-c,v=Math.sin(a),w=Math.cos(a);return e[0]=s+y*v+u*w,e[1]=r[1],e[2]=c+y*w-u*v,e}},3388:function(l){l.exports=function x(e,r,f,a){var s=f[0],c=f[1],u=r[0]-s,y=r[1]-c,v=Math.sin(a),w=Math.cos(a);return e[0]=s+u*w-y*v,e[1]=c+u*v+y*w,e[2]=r[2],e}},1624:function(l){l.exports=function x(e,r){return e[0]=Math.round(r[0]),e[1]=Math.round(r[1]),e[2]=Math.round(r[2]),e}},5685:function(l){l.exports=function x(e,r,f){return e[0]=r[0]*f,e[1]=r[1]*f,e[2]=r[2]*f,e}},6722:function(l){l.exports=function x(e,r,f,a){return e[0]=r[0]+f[0]*a,e[1]=r[1]+f[1]*a,e[2]=r[2]+f[2]*a,e}},831:function(l){l.exports=function x(e,r,f,a){return e[0]=r,e[1]=f,e[2]=a,e}},5294:function(l,x,e){l.exports=e(6403)},3303:function(l,x,e){l.exports=e(4337)},6403:function(l){l.exports=function x(e,r){var f=r[0]-e[0],a=r[1]-e[1],s=r[2]-e[2];return f*f+a*a+s*s}},4337:function(l){l.exports=function x(e){var r=e[0],f=e[1],a=e[2];return r*r+f*f+a*a}},8921:function(l,x,e){l.exports=e(911)},911:function(l){l.exports=function x(e,r,f){return e[0]=r[0]-f[0],e[1]=r[1]-f[1],e[2]=r[2]-f[2],e}},9908:function(l){l.exports=function x(e,r,f){var a=r[0],s=r[1],c=r[2];return e[0]=a*f[0]+s*f[3]+c*f[6],e[1]=a*f[1]+s*f[4]+c*f[7],e[2]=a*f[2]+s*f[5]+c*f[8],e}},3255:function(l){l.exports=function x(e,r,f){var a=r[0],s=r[1],c=r[2],u=f[3]*a+f[7]*s+f[11]*c+f[15];return e[0]=(f[0]*a+f[4]*s+f[8]*c+f[12])/(u=u||1),e[1]=(f[1]*a+f[5]*s+f[9]*c+f[13])/u,e[2]=(f[2]*a+f[6]*s+f[10]*c+f[14])/u,e}},6568:function(l){l.exports=function x(e,r,f){var a=r[0],s=r[1],c=r[2],u=f[0],y=f[1],v=f[2],w=f[3],d=w*a+y*c-v*s,o=w*s+v*a-u*c,h=w*c+u*s-y*a,M=-u*a-y*s-v*c;return e[0]=d*w+M*-u+o*-v-h*-y,e[1]=o*w+M*-y+h*-u-d*-v,e[2]=h*w+M*-v+d*-y-o*-u,e}},3433:function(l){l.exports=function x(e,r,f){return e[0]=r[0]+f[0],e[1]=r[1]+f[1],e[2]=r[2]+f[2],e[3]=r[3]+f[3],e}},1413:function(l){l.exports=function x(e){var r=new Float32Array(4);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r}},3470:function(l){l.exports=function x(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}},5313:function(l){l.exports=function x(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}},5446:function(l){l.exports=function x(e,r){var f=r[0]-e[0],a=r[1]-e[1],s=r[2]-e[2],c=r[3]-e[3];return Math.sqrt(f*f+a*a+s*s+c*c)}},205:function(l){l.exports=function x(e,r,f){return e[0]=r[0]/f[0],e[1]=r[1]/f[1],e[2]=r[2]/f[2],e[3]=r[3]/f[3],e}},4242:function(l){l.exports=function x(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3]}},5680:function(l){l.exports=function x(e,r,f,a){var s=new Float32Array(4);return s[0]=e,s[1]=r,s[2]=f,s[3]=a,s}},4020:function(l,x,e){l.exports={create:e(5313),clone:e(1413),fromValues:e(5680),copy:e(3470),set:e(6453),add:e(3433),subtract:e(2705),multiply:e(746),divide:e(205),min:e(2170),max:e(3030),scale:e(5510),scaleAndAdd:e(4224),distance:e(5446),squaredDistance:e(1542),length:e(8177),squaredLength:e(9037),negate:e(6459),inverse:e(8057),normalize:e(381),dot:e(4242),lerp:e(8746),random:e(3770),transformMat4:e(6342),transformQuat:e(5022)}},8057:function(l){l.exports=function x(e,r){return e[0]=1/r[0],e[1]=1/r[1],e[2]=1/r[2],e[3]=1/r[3],e}},8177:function(l){l.exports=function x(e){var r=e[0],f=e[1],a=e[2],s=e[3];return Math.sqrt(r*r+f*f+a*a+s*s)}},8746:function(l){l.exports=function x(e,r,f,a){var s=r[0],c=r[1],u=r[2],y=r[3];return e[0]=s+a*(f[0]-s),e[1]=c+a*(f[1]-c),e[2]=u+a*(f[2]-u),e[3]=y+a*(f[3]-y),e}},3030:function(l){l.exports=function x(e,r,f){return e[0]=Math.max(r[0],f[0]),e[1]=Math.max(r[1],f[1]),e[2]=Math.max(r[2],f[2]),e[3]=Math.max(r[3],f[3]),e}},2170:function(l){l.exports=function x(e,r,f){return e[0]=Math.min(r[0],f[0]),e[1]=Math.min(r[1],f[1]),e[2]=Math.min(r[2],f[2]),e[3]=Math.min(r[3],f[3]),e}},746:function(l){l.exports=function x(e,r,f){return e[0]=r[0]*f[0],e[1]=r[1]*f[1],e[2]=r[2]*f[2],e[3]=r[3]*f[3],e}},6459:function(l){l.exports=function x(e,r){return e[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e[3]=-r[3],e}},381:function(l){l.exports=function x(e,r){var f=r[0],a=r[1],s=r[2],c=r[3],u=f*f+a*a+s*s+c*c;return u>0&&(u=1/Math.sqrt(u),e[0]=f*u,e[1]=a*u,e[2]=s*u,e[3]=c*u),e}},3770:function(l,x,e){var r=e(381),f=e(5510);l.exports=function a(s,c){return c=c||1,s[0]=Math.random(),s[1]=Math.random(),s[2]=Math.random(),s[3]=Math.random(),r(s,s),f(s,s,c),s}},5510:function(l){l.exports=function x(e,r,f){return e[0]=r[0]*f,e[1]=r[1]*f,e[2]=r[2]*f,e[3]=r[3]*f,e}},4224:function(l){l.exports=function x(e,r,f,a){return e[0]=r[0]+f[0]*a,e[1]=r[1]+f[1]*a,e[2]=r[2]+f[2]*a,e[3]=r[3]+f[3]*a,e}},6453:function(l){l.exports=function x(e,r,f,a,s){return e[0]=r,e[1]=f,e[2]=a,e[3]=s,e}},1542:function(l){l.exports=function x(e,r){var f=r[0]-e[0],a=r[1]-e[1],s=r[2]-e[2],c=r[3]-e[3];return f*f+a*a+s*s+c*c}},9037:function(l){l.exports=function x(e){var r=e[0],f=e[1],a=e[2],s=e[3];return r*r+f*f+a*a+s*s}},2705:function(l){l.exports=function x(e,r,f){return e[0]=r[0]-f[0],e[1]=r[1]-f[1],e[2]=r[2]-f[2],e[3]=r[3]-f[3],e}},6342:function(l){l.exports=function x(e,r,f){var a=r[0],s=r[1],c=r[2],u=r[3];return e[0]=f[0]*a+f[4]*s+f[8]*c+f[12]*u,e[1]=f[1]*a+f[5]*s+f[9]*c+f[13]*u,e[2]=f[2]*a+f[6]*s+f[10]*c+f[14]*u,e[3]=f[3]*a+f[7]*s+f[11]*c+f[15]*u,e}},5022:function(l){l.exports=function x(e,r,f){var a=r[0],s=r[1],c=r[2],u=f[0],y=f[1],v=f[2],w=f[3],d=w*a+y*c-v*s,o=w*s+v*a-u*c,h=w*c+u*s-y*a,M=-u*a-y*s-v*c;return e[0]=d*w+M*-u+o*-v-h*-y,e[1]=o*w+M*-y+h*-u-d*-v,e[2]=h*w+M*-v+d*-y-o*-u,e[3]=r[3],e}},9365:function(l,x,e){var r=e(8096),f=e(7896);l.exports=function a(s){for(var c=Array.isArray(s)?s:r(s),u=0;u<c.length;u++){var y=c[u];if("preprocessor"===y.type){var v=y.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(v&&v[2]){var d=v[2];return(v[1]?f(d):d).trim()}}}}},3193:function(l,x,e){l.exports=function p(F){var O,B,H,D=0,N=0,k=u,z=[],U=[],rt=1,it=0,ut=0,J=!1,j=!1,Z="",X=a,at=r;"300 es"===(F=F||{}).version&&(X=c,at=s);var _={},K={};for(D=0;D<X.length;D++)_[X[D]]=!0;for(D=0;D<at.length;D++)K[at[D]]=!0;return function(Vt){return U=[],null!==Vt?function et(Vt){D=0,Vt.toString&&(Vt=Vt.toString()),Z+=Vt.replace(/\r\n/g,"\n"),H=Z.length;for(var te;O=Z[D],D<H;){switch(te=D,k){case 0:D=Ft();break;case 1:D=Dt();break;case 2:D=bt();break;case 3:D=Mt();break;case 4:D=Ut();break;case 11:D=St();break;case 5:D=Gt();break;case y:D=Pt();break;case 9:D=Tt();break;case u:D=dt()}te!==D&&("\n"===Z[te]?(it=0,++rt):++it)}return N+=D,Z=Z.slice(D),U}(Vt):function st(Vt){return z.length&&nt(z.join("")),k=10,nt("(eof)"),U}()};function nt(Vt){Vt.length&&U.push({type:C[k],data:Vt,position:ut,line:rt,column:it})}function dt(){return z=z.length?[]:z,"/"===B&&"*"===O?(ut=N+D-1,k=0,B=O,D+1):"/"===B&&"/"===O?(ut=N+D-1,k=1,B=O,D+1):"#"===O?(k=2,ut=N+D,D):/\s/.test(O)?(k=9,ut=N+D,D):(J=/\d/.test(O),j=/[^\w_]/.test(O),ut=N+D,k=J?4:j?3:y,D)}function Tt(){return/[^\s]/g.test(O)?(nt(z.join("")),k=u,D):(z.push(O),B=O,D+1)}function bt(){return"\r"!==O&&"\n"!==O||"\\"===B?(z.push(O),B=O,D+1):(nt(z.join("")),k=u,D)}function Dt(){return bt()}function Ft(){return"/"===O&&"*"===B?(z.push(O),nt(z.join("")),k=u,D+1):(z.push(O),B=O,D+1)}function Mt(){if("."===B&&/\d/.test(O))return k=5,D;if("/"===B&&"*"===O)return k=0,D;if("/"===B&&"/"===O)return k=1,D;if("."===O&&z.length){for(;wt(z););return k=5,D}if(";"===O||")"===O||"("===O){if(z.length)for(;wt(z););return nt(O),k=u,D+1}var Vt=2===z.length&&"="!==O;if(/[\w_\d\s]/.test(O)||Vt){for(;wt(z););return k=u,D}return z.push(O),B=O,D+1}function wt(Vt){for(var _t,kt,te=0;;){if(_t=f.indexOf(Vt.slice(0,Vt.length+te).join("")),kt=f[_t],-1===_t){if(te--+Vt.length>0)continue;kt=Vt.slice(0,1).join("")}return nt(kt),ut+=kt.length,(z=z.slice(kt.length)).length}}function St(){return/[^a-fA-F0-9]/.test(O)?(nt(z.join("")),k=u,D):(z.push(O),B=O,D+1)}function Ut(){return"."===O||/[eE]/.test(O)?(z.push(O),k=5,B=O,D+1):"x"===O&&1===z.length&&"0"===z[0]?(k=11,z.push(O),B=O,D+1):/[^\d]/.test(O)?(nt(z.join("")),k=u,D):(z.push(O),B=O,D+1)}function Gt(){return"f"===O&&(z.push(O),B=O,D+=1),/[eE]/.test(O)||("-"===O||"+"===O)&&/[eE]/.test(B)?(z.push(O),B=O,D+1):/[^\d]/.test(O)?(nt(z.join("")),k=u,D):(z.push(O),B=O,D+1)}function Pt(){if(/[^\d\w_]/.test(O)){var Vt=z.join("");return k=K[Vt]?8:_[Vt]?7:6,nt(z.join("")),k=u,D}return z.push(O),B=O,D+1}};var r=e(399),f=e(9746),a=e(9525),s=e(9458),c=e(3585),u=999,y=9999,C=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(l,x,e){var r=e(9525);r=r.slice().filter(function(f){return!/^(gl\_|texture)/.test(f)}),l.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(l){l.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(l,x,e){var r=e(399);l.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(l){l.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(l){l.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(l,x,e){var r=e(3193);l.exports=function f(a,s){var c=r(s),u=[];return(u=u.concat(c(a))).concat(c(null))}},6832:function(l){l.exports=function(x){"string"==typeof x&&(x=[x]);for(var e=[].slice.call(arguments,1),r=[],f=0;f<x.length-1;f++)r.push(x[f],e[f]||"");return r.push(x[f]),r.join("")}},5233:function(l,x,e){"use strict";var r=e(4846);l.exports=r&&function f(){var a=!1;try{var s=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,s),window.removeEventListener("test",null,s)}catch(c){a=!1}return a}()},2183:function(l,x,e){"use strict";l.exports=function o(h,M){var T=h.length;if(0===T)throw new Error("Must have at least d+1 points");var L=h[0].length;if(T<=L)throw new Error("Must input at least d+1 points");var m=h.slice(0,L+1),S=r.apply(void 0,m);if(0===S)throw new Error("Input not in general position");for(var b=new Array(L+1),n=0;n<=L;++n)b[n]=n;S<0&&(b[0]=1,b[1]=0);var C=new a(b,new Array(L+1),!1),p=C.adjacent,F=new Array(L+2);for(n=0;n<=L;++n){for(var D=b.slice(),N=0;N<=L;++N)N===n&&(D[N]=-1);var k=D[0];D[0]=D[1],D[1]=k;var O=new a(D,new Array(L+1),!0);p[n]=O,F[n]=O}for(F[L+1]=C,n=0;n<=L;++n){D=p[n].vertices;var B=p[n].adjacent;for(N=0;N<=L;++N){var z=D[N];if(z<0)B[N]=C;else for(var U=0;U<=L;++U)p[U].vertices.indexOf(z)<0&&(B[N]=p[U])}}var G=new w(L,m,F),Q=!!M;for(n=L+1;n<T;++n)G.insert(h[n],Q);return G.boundary()};var r=e(417),f=e(8211).H;function a(h,M,T){this.vertices=h,this.adjacent=M,this.boundary=T,this.lastVisited=-1}function s(h,M,T){this.vertices=h,this.cell=M,this.index=T}function c(h,M){return f(h.vertices,M.vertices)}a.prototype.flip=function(){var h=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=h;var M=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=M};var v=[];function w(h,M,T){this.dimension=h,this.vertices=M,this.simplices=T,this.interior=T.filter(function(S){return!S.boundary}),this.tuple=new Array(h+1);for(var L=0;L<=h;++L)this.tuple[L]=this.vertices[L];var m=v[h];m||(m=v[h]=function y(h){var M=r[h+1];return M||(M=r),function u(h){return function(){return h.apply(this,this.tuple)}}(M)}(h)),this.orient=m}var d=w.prototype;d.handleBoundaryDegeneracy=function(h,M){var T=this.dimension,L=this.vertices.length-1,m=this.tuple,S=this.vertices,b=[h];for(h.lastVisited=-L;b.length>0;)for(var n=(h=b.pop()).adjacent,C=0;C<=T;++C){var p=n[C];if(p.boundary&&!(p.lastVisited<=-L)){for(var F=p.vertices,D=0;D<=T;++D){var N=F[D];m[D]=N<0?M:S[N]}var k=this.orient();if(k>0)return p;p.lastVisited=-L,0===k&&b.push(p)}}return null},d.walk=function(h,M){var T=this.vertices.length-1,L=this.dimension,m=this.vertices,S=this.tuple,b=M?this.interior.length*Math.random()|0:this.interior.length-1,n=this.interior[b];t:for(;!n.boundary;){for(var C=n.vertices,p=n.adjacent,F=0;F<=L;++F)S[F]=m[C[F]];for(n.lastVisited=T,F=0;F<=L;++F){var D=p[F];if(!(D.lastVisited>=T)){var N=S[F];S[F]=h;var k=this.orient();if(S[F]=N,k<0){n=D;continue t}D.lastVisited=D.boundary?-T:T}}return}return n},d.addPeaks=function(h,M){var T=this.vertices.length-1,L=this.dimension,m=this.vertices,S=this.tuple,b=this.interior,n=this.simplices,C=[M];M.lastVisited=T,M.vertices[M.vertices.indexOf(-1)]=T,M.boundary=!1,b.push(M);for(var p=[];C.length>0;){var F=(M=C.pop()).vertices,D=M.adjacent,N=F.indexOf(T);if(!(N<0))for(var k=0;k<=L;++k)if(k!==N){var O=D[k];if(O.boundary&&!(O.lastVisited>=T)){var B=O.vertices;if(O.lastVisited!==-T){for(var z=0,U=0;U<=L;++U)B[U]<0?(z=U,S[U]=h):S[U]=m[B[U]];if(this.orient()>0){B[z]=T,O.boundary=!1,b.push(O),C.push(O),O.lastVisited=T;continue}O.lastVisited=-T}var Q=O.adjacent,rt=F.slice(),it=D.slice(),ut=new a(rt,it,!0);n.push(ut);var J=Q.indexOf(M);if(!(J<0))for(Q[J]=ut,it[N]=O,rt[k]=-1,it[k]=M,D[k]=ut,ut.flip(),U=0;U<=L;++U){var j=rt[U];if(!(j<0||j===T)){for(var Z=new Array(L-1),H=0,X=0;X<=L;++X){var at=rt[X];at<0||X===U||(Z[H++]=at)}p.push(new s(Z,ut,U))}}}}}for(p.sort(c),k=0;k+1<p.length;k+=2){var _=p[k],K=p[k+1];_.index<0||K.index<0||(_.cell.adjacent[_.index]=K.cell,K.cell.adjacent[K.index]=_.cell)}},d.insert=function(h,M){var T=this.vertices;T.push(h);var L=this.walk(h,M);if(L){for(var m=this.dimension,S=this.tuple,b=0;b<=m;++b){var n=L.vertices[b];S[b]=n<0?h:T[n]}var C=this.orient(S);C<0||0===C&&!(L=this.handleBoundaryDegeneracy(L,h))||this.addPeaks(h,L)}},d.boundary=function(){for(var h=this.dimension,M=[],T=this.simplices,L=T.length,m=0;m<L;++m){var S=T[m];if(S.boundary){for(var b=new Array(h),n=S.vertices,C=0,p=0,F=0;F<=h;++F)n[F]>=0?b[C++]=n[F]:p=1&F;if(p===(1&h)){var D=b[0];b[0]=b[1],b[1]=D}M.push(b)}}return M}},9014:function(l,x,e){"use strict";var r=e(5070);function c(p,F,D,N,k){this.mid=p,this.left=F,this.right=D,this.leftPoints=N,this.rightPoints=k,this.count=(F?F.count:0)+(D?D.count:0)+N.length}l.exports=function C(p){return new b(p&&0!==p.length?S(p):null)};var u=c.prototype;function y(p,F){p.mid=F.mid,p.left=F.left,p.right=F.right,p.leftPoints=F.leftPoints,p.rightPoints=F.rightPoints,p.count=F.count}function v(p,F){var D=S(F);p.mid=D.mid,p.left=D.left,p.right=D.right,p.leftPoints=D.leftPoints,p.rightPoints=D.rightPoints,p.count=D.count}function w(p,F){var D=p.intervals([]);D.push(F),v(p,D)}function d(p,F){var D=p.intervals([]),N=D.indexOf(F);return N<0?0:(D.splice(N,1),v(p,D),1)}function o(p,F,D){for(var N=0;N<p.length&&p[N][0]<=F;++N){var k=D(p[N]);if(k)return k}}function h(p,F,D){for(var N=p.length-1;N>=0&&p[N][1]>=F;--N){var k=D(p[N]);if(k)return k}}function M(p,F){for(var D=0;D<p.length;++D){var N=F(p[D]);if(N)return N}}function T(p,F){return p-F}function L(p,F){return p[0]-F[0]||p[1]-F[1]}function m(p,F){return p[1]-F[1]||p[0]-F[0]}function S(p){if(0===p.length)return null;for(var F=[],D=0;D<p.length;++D)F.push(p[D][0],p[D][1]);F.sort(T);var N=F[F.length>>1],k=[],O=[],B=[];for(D=0;D<p.length;++D){var z=p[D];z[1]<N?k.push(z):N<z[0]?O.push(z):B.push(z)}var U=B,G=B.slice();return U.sort(L),G.sort(m),new c(N,S(k),S(O),U,G)}function b(p){this.root=p}u.intervals=function(p){return p.push.apply(p,this.leftPoints),this.left&&this.left.intervals(p),this.right&&this.right.intervals(p),p},u.insert=function(p){var F=this.count-this.leftPoints.length;if(this.count+=1,p[1]<this.mid)this.left?4*(this.left.count+1)>3*(F+1)?w(this,p):this.left.insert(p):this.left=S([p]);else if(p[0]>this.mid)this.right?4*(this.right.count+1)>3*(F+1)?w(this,p):this.right.insert(p):this.right=S([p]);else{var D=r.ge(this.leftPoints,p,L),N=r.ge(this.rightPoints,p,m);this.leftPoints.splice(D,0,p),this.rightPoints.splice(N,0,p)}},u.remove=function(p){var F=this.count-this.leftPoints;if(p[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(F-1)?d(this,p):2===(N=this.left.remove(p))?(this.left=null,this.count-=1,1):(1===N&&(this.count-=1),N):0;if(p[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(F-1)?d(this,p):2===(N=this.right.remove(p))?(this.right=null,this.count-=1,1):(1===N&&(this.count-=1),N):0;if(1===this.count)return this.leftPoints[0]===p?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===p){if(this.left&&this.right){for(var O=this,B=this.left;B.right;)O=B,B=B.right;if(O===this)B.right=this.right;else{var z=this.left,N=this.right;O.count-=B.count,O.right=B.left,B.left=z,B.right=N}y(this,B),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else y(this,this.left?this.left:this.right);return 1}for(z=r.ge(this.leftPoints,p,L);z<this.leftPoints.length&&this.leftPoints[z][0]===p[0];++z)if(this.leftPoints[z]===p)for(this.count-=1,this.leftPoints.splice(z,1),N=r.ge(this.rightPoints,p,m);N<this.rightPoints.length&&this.rightPoints[N][1]===p[1];++N)if(this.rightPoints[N]===p)return this.rightPoints.splice(N,1),1;return 0},u.queryPoint=function(p,F){return p<this.mid?this.left&&(D=this.left.queryPoint(p,F))?D:o(this.leftPoints,p,F):p>this.mid?this.right&&(D=this.right.queryPoint(p,F))?D:h(this.rightPoints,p,F):M(this.leftPoints,F);var D},u.queryInterval=function(p,F,D){var N;return p<this.mid&&this.left&&(N=this.left.queryInterval(p,F,D))||F>this.mid&&this.right&&(N=this.right.queryInterval(p,F,D))?N:F<this.mid?o(this.leftPoints,F,D):p>this.mid?h(this.rightPoints,p,D):M(this.leftPoints,D)};var n=b.prototype;n.insert=function(p){this.root?this.root.insert(p):this.root=new c(p[0],null,null,[p],[p])},n.remove=function(p){if(this.root){var F=this.root.remove(p);return 2===F&&(this.root=null),0!==F}return!1},n.queryPoint=function(p,F){if(this.root)return this.root.queryPoint(p,F)},n.queryInterval=function(p,F,D){if(p<=F&&this.root)return this.root.queryInterval(p,F,D)},Object.defineProperty(n,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(n,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(l){"use strict";l.exports=function x(e){for(var r=new Array(e),f=0;f<e;++f)r[f]=f;return r}},4846:function(l){l.exports=!0},4780:function(l){function x(r){return!!r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}l.exports=function(r){return null!=r&&(x(r)||function e(r){return"function"==typeof r.readFloatLE&&"function"==typeof r.slice&&x(r.slice(0,0))}(r)||!!r._isBuffer)}},3596:function(l){"use strict";l.exports=function(x){for(var r,e=x.length,f=0;f<e;f++)if(((r=x.charCodeAt(f))<9||r>13)&&32!==r&&133!==r&&160!==r&&5760!==r&&6158!==r&&(r<8192||r>8205)&&8232!==r&&8233!==r&&8239!==r&&8287!==r&&8288!==r&&12288!==r&&65279!==r)return!1;return!0}},3578:function(l){l.exports=function x(e,r,f){return e*(1-f)+r*f}},7191:function(l,x,e){var r=e(4690),f=e(9823),a=e(7332),s=e(7787),c=e(7437),u=e(2142),y={length:e(4693),normalize:e(899),dot:e(9305),cross:e(903)},v=f(),w=f(),d=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],h=[0,0,0];function L(m,S,b,n,C){m[0]=S[0]*n+b[0]*C,m[1]=S[1]*n+b[1]*C,m[2]=S[2]*n+b[2]*C}l.exports=function(S,b,n,C,p,F){if(b||(b=[0,0,0]),n||(n=[0,0,0]),C||(C=[0,0,0]),p||(p=[0,0,0,1]),F||(F=[0,0,0,1]),!r(v,S)||(a(w,v),w[3]=0,w[7]=0,w[11]=0,w[15]=1,Math.abs(s(w)<1e-8)))return!1;var D=v[3],N=v[7],k=v[11],O=v[12],B=v[13],z=v[14],U=v[15];if(0!==D||0!==N||0!==k){if(d[0]=D,d[1]=N,d[2]=k,d[3]=U,!c(w,w))return!1;u(w,w),function M(m,S,b){var n=S[0],C=S[1],p=S[2],F=S[3];return m[0]=b[0]*n+b[4]*C+b[8]*p+b[12]*F,m[1]=b[1]*n+b[5]*C+b[9]*p+b[13]*F,m[2]=b[2]*n+b[6]*C+b[10]*p+b[14]*F,m[3]=b[3]*n+b[7]*C+b[11]*p+b[15]*F,m}(p,d,w)}else p[0]=p[1]=p[2]=0,p[3]=1;if(b[0]=O,b[1]=B,b[2]=z,function T(m,S){m[0][0]=S[0],m[0][1]=S[1],m[0][2]=S[2],m[1][0]=S[4],m[1][1]=S[5],m[1][2]=S[6],m[2][0]=S[8],m[2][1]=S[9],m[2][2]=S[10]}(o,v),n[0]=y.length(o[0]),y.normalize(o[0],o[0]),C[0]=y.dot(o[0],o[1]),L(o[1],o[1],o[0],1,-C[0]),n[1]=y.length(o[1]),y.normalize(o[1],o[1]),C[0]/=n[1],C[1]=y.dot(o[0],o[2]),L(o[2],o[2],o[0],1,-C[1]),C[2]=y.dot(o[1],o[2]),L(o[2],o[2],o[1],1,-C[2]),n[2]=y.length(o[2]),y.normalize(o[2],o[2]),C[1]/=n[2],C[2]/=n[2],y.cross(h,o[1],o[2]),y.dot(o[0],h)<0)for(var Q=0;Q<3;Q++)n[Q]*=-1,o[Q][0]*=-1,o[Q][1]*=-1,o[Q][2]*=-1;return F[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),F[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),F[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),F[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(F[0]=-F[0]),o[0][2]>o[2][0]&&(F[1]=-F[1]),o[1][0]>o[0][1]&&(F[2]=-F[2]),!0}},4690:function(l){l.exports=function(e,r){var f=r[15];if(0===f)return!1;for(var a=1/f,s=0;s<16;s++)e[s]=r[s]*a;return!0}},7649:function(l,x,e){var r=e(1868),f=e(1102),a=e(7191),s=e(7787),c=e(1116),u=d(),y=d(),v=d();function d(){return{translate:o(),scale:o(1),skew:o(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function o(M){return[M||0,M||0,M||0]}l.exports=function w(M,T,L,m){if(0===s(T)||0===s(L))return!1;var S=a(T,u.translate,u.scale,u.skew,u.perspective,u.quaternion),b=a(L,y.translate,y.scale,y.skew,y.perspective,y.quaternion);return!(!S||!b||(r(v.translate,u.translate,y.translate,m),r(v.skew,u.skew,y.skew,m),r(v.scale,u.scale,y.scale,m),r(v.perspective,u.perspective,y.perspective,m),c(v.quaternion,u.quaternion,y.quaternion,m),f(M,v.translate,v.scale,v.skew,v.perspective,v.quaternion),0))}},1102:function(l,x,e){var r={identity:e(9947),translate:e(998),multiply:e(104),create:e(9823),scale:e(3668),fromRotationTranslation:e(7280)},a=(r.create(),r.create());l.exports=function(c,u,y,v,w,d){return r.identity(c),r.fromRotationTranslation(c,d,u),c[3]=w[0],c[7]=w[1],c[11]=w[2],c[15]=w[3],r.identity(a),0!==v[2]&&(a[9]=v[2],r.multiply(c,c,a)),0!==v[1]&&(a[9]=0,a[8]=v[1],r.multiply(c,c,a)),0!==v[0]&&(a[8]=0,a[4]=v[0],r.multiply(c,c,a)),r.scale(c,c,y),c}},9298:function(l,x,e){"use strict";var r=e(5070),f=e(7649),a=e(7437),s=e(6109),c=e(7115),u=e(5240),y=e(3012),v=e(998),d=(e(3668),e(899)),o=[0,0,0];function h(m){this._components=m.slice(),this._time=[0],this.prevMatrix=m.slice(),this.nextMatrix=m.slice(),this.computedMatrix=m.slice(),this.computedInverse=m.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}l.exports=function L(m){return new h((m=m||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var M=h.prototype;M.recalcMatrix=function(m){var S=this._time,b=r.le(S,m),n=this.computedMatrix;if(!(b<0)){var C=this._components;if(b===S.length-1)for(var p=16*b,F=0;F<16;++F)n[F]=C[p++];else{var D=S[b+1]-S[b],N=(p=16*b,this.prevMatrix),k=!0;for(F=0;F<16;++F)N[F]=C[p++];var O=this.nextMatrix;for(F=0;F<16;++F)O[F]=C[p++],k=k&&N[F]===O[F];if(D<1e-6||k)for(F=0;F<16;++F)n[F]=N[F];else f(n,N,O,(m-S[b])/D)}var B=this.computedUp;B[0]=n[1],B[1]=n[5],B[2]=n[9],d(B,B);var z=this.computedInverse;a(z,n);var U=this.computedEye,G=z[15];U[0]=z[12]/G,U[1]=z[13]/G,U[2]=z[14]/G;var Q=this.computedCenter,rt=Math.exp(this.computedRadius[0]);for(F=0;F<3;++F)Q[F]=U[F]-n[2+4*F]*rt}},M.idle=function(m){if(!(m<this.lastT())){for(var S=this._components,b=S.length-16,n=0;n<16;++n)S.push(S[b++]);this._time.push(m)}},M.flush=function(m){var S=r.gt(this._time,m)-2;S<0||(this._time.splice(0,S),this._components.splice(0,16*S))},M.lastT=function(){return this._time[this._time.length-1]},M.lookAt=function(m,S,b,n){this.recalcMatrix(m),this.setMatrix(m,y(this.computedMatrix,S=S||this.computedEye,b=b||o,n=n||this.computedUp));for(var C=0,p=0;p<3;++p)C+=Math.pow(b[p]-S[p],2);C=Math.log(Math.sqrt(C)),this.computedRadius[0]=C},M.rotate=function(m,S,b,n){this.recalcMatrix(m);var C=this.computedInverse;S&&c(C,C,S),b&&s(C,C,b),n&&u(C,C,n),this.setMatrix(m,a(this.computedMatrix,C))};var T=[0,0,0];M.pan=function(m,S,b,n){T[0]=-(S||0),T[1]=-(b||0),T[2]=-(n||0),this.recalcMatrix(m);var C=this.computedInverse;v(C,C,T),this.setMatrix(m,a(C,C))},M.translate=function(m,S,b,n){T[0]=S||0,T[1]=b||0,T[2]=n||0,this.recalcMatrix(m);var C=this.computedMatrix;v(C,C,T),this.setMatrix(m,C)},M.setMatrix=function(m,S){if(!(m<this.lastT())){this._time.push(m);for(var b=0;b<16;++b)this._components.push(S[b])}},M.setDistance=function(m,S){this.computedRadius[0]=S},M.setDistanceLimits=function(m,S){var b=this._limits;b[0]=m,b[1]=S},M.getDistanceLimits=function(m){var S=this._limits;return m?(m[0]=S[0],m[1]=S[1],m):S}},3266:function(l,x,e){"use strict";l.exports=function f(a){var s=a.length;if(s<3){for(var h=new Array(s),c=0;c<s;++c)h[c]=c;return 2===s&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:h}var u=new Array(s);for(c=0;c<s;++c)u[c]=c;u.sort(function(m,S){return a[m][0]-a[S][0]||a[m][1]-a[S][1]});var y=[u[0],u[1]],v=[u[0],u[1]];for(c=2;c<s;++c){for(var w=u[c],d=a[w],o=y.length;o>1&&r(a[y[o-2]],a[y[o-1]],d)<=0;)o-=1,y.pop();for(y.push(w),o=v.length;o>1&&r(a[v[o-2]],a[v[o-1]],d)>=0;)o-=1,v.pop();v.push(w)}h=new Array(v.length+y.length-2);for(var M=0,T=(c=0,y.length);c<T;++c)h[M++]=y[c];for(var L=v.length-2;L>0;--L)h[M++]=v[L];return h};var r=e(417)[3]},6145:function(l,x,e){"use strict";l.exports=function f(a,s){s||(s=a,a=window);var c=0,u=0,y=0,v={shift:!1,alt:!1,control:!1,meta:!1},w=!1;function d(p){var F=!1;return"altKey"in p&&(F=F||p.altKey!==v.alt,v.alt=!!p.altKey),"shiftKey"in p&&(F=F||p.shiftKey!==v.shift,v.shift=!!p.shiftKey),"ctrlKey"in p&&(F=F||p.ctrlKey!==v.control,v.control=!!p.ctrlKey),"metaKey"in p&&(F=F||p.metaKey!==v.meta,v.meta=!!p.metaKey),F}function o(p,F){var D=r.x(F),N=r.y(F);"buttons"in F&&(p=0|F.buttons),(p!==c||D!==u||N!==y||d(F))&&(c=0|p,u=D||0,y=N||0,s&&s(c,u,y,v))}function h(p){o(0,p)}function M(){(c||u||y||v.shift||v.alt||v.meta||v.control)&&(u=y=0,c=0,v.shift=v.alt=v.control=v.meta=!1,s&&s(0,0,0,v))}function T(p){d(p)&&s&&s(c,u,y,v)}function L(p){0===r.buttons(p)?o(0,p):o(c,p)}function m(p){o(c|r.buttons(p),p)}function S(p){o(c&~r.buttons(p),p)}function b(){w||(w=!0,a.addEventListener("mousemove",L),a.addEventListener("mousedown",m),a.addEventListener("mouseup",S),a.addEventListener("mouseleave",h),a.addEventListener("mouseenter",h),a.addEventListener("mouseout",h),a.addEventListener("mouseover",h),a.addEventListener("blur",M),a.addEventListener("keyup",T),a.addEventListener("keydown",T),a.addEventListener("keypress",T),a!==window&&(window.addEventListener("blur",M),window.addEventListener("keyup",T),window.addEventListener("keydown",T),window.addEventListener("keypress",T)))}b();var C={element:a};return Object.defineProperties(C,{enabled:{get:function(){return w},set:function(p){p?b():function n(){!w||(w=!1,a.removeEventListener("mousemove",L),a.removeEventListener("mousedown",m),a.removeEventListener("mouseup",S),a.removeEventListener("mouseleave",h),a.removeEventListener("mouseenter",h),a.removeEventListener("mouseout",h),a.removeEventListener("mouseover",h),a.removeEventListener("blur",M),a.removeEventListener("keyup",T),a.removeEventListener("keydown",T),a.removeEventListener("keypress",T),a!==window&&(window.removeEventListener("blur",M),window.removeEventListener("keyup",T),window.removeEventListener("keydown",T),window.removeEventListener("keypress",T)))}()},enumerable:!0},buttons:{get:function(){return c},enumerable:!0},x:{get:function(){return u},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return v},enumerable:!0}}),C};var r=e(4110)},2565:function(l){var x={left:0,top:0};l.exports=function e(f,a,s){a=a||f.currentTarget||f.srcElement,Array.isArray(s)||(s=[0,0]);var c=f.clientX||0,u=f.clientY||0,y=function r(f){return f===window||f===document||f===document.body?x:f.getBoundingClientRect()}(a);return s[0]=c-y.left,s[1]=u-y.top,s}},4110:function(l,x){"use strict";function r(s){return s.target||s.srcElement||window}x.buttons=function e(s){if("object"==typeof s){if("buttons"in s)return s.buttons;if("which"in s){if(2===(c=s.which))return 4;if(3===c)return 2;if(c>0)return 1<<c-1}else if("button"in s){var c;if(1===(c=s.button))return 4;if(2===c)return 2;if(c>=0)return 1<<c}}return 0},x.element=r,x.x=function f(s){if("object"==typeof s){if("offsetX"in s)return s.offsetX;var u=r(s).getBoundingClientRect();return s.clientX-u.left}return 0},x.y=function a(s){if("object"==typeof s){if("offsetY"in s)return s.offsetY;var u=r(s).getBoundingClientRect();return s.clientY-u.top}return 0}},6475:function(l,x,e){"use strict";var r=e(14);l.exports=function f(a,s,c){"function"==typeof a&&(c=!!s,s=a,a=window);var u=r("ex",a),y=function(v){c&&v.preventDefault();var w=v.deltaX||0,d=v.deltaY||0,o=v.deltaZ||0,M=1;switch(v.deltaMode){case 1:M=u;break;case 2:M=window.innerHeight}if(d*=M,o*=M,(w*=M)||d||o)return s(w,d,o,v)};return a.addEventListener("wheel",y),y}},9284:function(l,x,e){"use strict";var r=e(5306);l.exports=function s(c){function u(M){throw new Error("ndarray-extract-contour: "+M)}"object"!=typeof c&&u("Must specify arguments");var y=c.order;Array.isArray(y)||u("Must specify order");var v=c.arrayArguments||1;v<1&&u("Must have at least one array argument");var w=c.scalarArguments||0;w<0&&u("Scalar arg count must be > 0"),"function"!=typeof c.vertex&&u("Must specify vertex creation function"),"function"!=typeof c.cell&&u("Must specify cell creation function"),"function"!=typeof c.phase&&u("Must specify phase function");for(var d=c.getters||[],o=new Array(v),h=0;h<v;++h)o[h]=d.indexOf(h)>=0;return function a(c,u,y,v,w,d){var o=[d,w].join(",");return(0,f[o])(c,u,y,r.mallocUint32,r.freeUint32)}(c.vertex,c.cell,c.phase,0,y,o)};var f={"false,0,1":function(u,y,v,w,d){return function(h,M,T,L){var D,m=0|h.shape[0],S=0|h.shape[1],b=h.data,C=0|h.stride[0],p=0|h.stride[1],F=0|h.offset,N=0|-C,k=0,O=0|-p,B=0,z=-C-p|0,U=0,G=0|C,Q=p-C*m|0,rt=0,it=0,ut=0,J=2*m|0,j=w(J),Z=w(J),H=0,X=0,at=-1,_=-1,K=0,nt=0|-m,et=0|m,st=0,dt=-m-1|0,Tt=m-1|0,bt=0,Dt=0,Ft=0;for(rt=0;rt<m;++rt)j[H++]=v(b[F],M,T,L),F+=G;if(F+=Q,S>0){if(it=1,j[H++]=v(b[F],M,T,L),F+=G,m>0)for(rt=1,X=j[H]=v(D=b[F],M,T,L),st=j[H+nt],bt=j[H+dt],(X!==(K=j[H+at])||X!==st||X!==bt)&&(u(rt,it,D,k=b[F+N],B=b[F+O],U=b[F+z],X,K,st,bt,M,T,L),Dt=Z[H]=ut++),H+=1,F+=G,rt=2;rt<m;++rt)X=j[H]=v(D=b[F],M,T,L),st=j[H+nt],bt=j[H+dt],(X!==(K=j[H+at])||X!==st||X!==bt)&&(u(rt,it,D,k=b[F+N],B=b[F+O],U=b[F+z],X,K,st,bt,M,T,L),Dt=Z[H]=ut++,bt!==K&&y(Z[H+at],Dt,U,k,bt,K,M,T,L)),H+=1,F+=G;for(F+=Q,H=0,Ft=at,at=_,_=Ft,Ft=nt,nt=et,et=Ft,Ft=dt,dt=Tt,Tt=Ft,it=2;it<S;++it){if(j[H++]=v(b[F],M,T,L),F+=G,m>0)for(rt=1,X=j[H]=v(D=b[F],M,T,L),st=j[H+nt],bt=j[H+dt],(X!==(K=j[H+at])||X!==st||X!==bt)&&(u(rt,it,D,k=b[F+N],B=b[F+O],U=b[F+z],X,K,st,bt,M,T,L),Dt=Z[H]=ut++,bt!==st&&y(Z[H+nt],Dt,B,U,st,bt,M,T,L)),H+=1,F+=G,rt=2;rt<m;++rt)X=j[H]=v(D=b[F],M,T,L),st=j[H+nt],bt=j[H+dt],(X!==(K=j[H+at])||X!==st||X!==bt)&&(u(rt,it,D,k=b[F+N],B=b[F+O],U=b[F+z],X,K,st,bt,M,T,L),Dt=Z[H]=ut++,bt!==st&&y(Z[H+nt],Dt,B,U,st,bt,M,T,L),bt!==K&&y(Z[H+at],Dt,U,k,bt,K,M,T,L)),H+=1,F+=G;1&it&&(H=0),Ft=at,at=_,_=Ft,Ft=nt,nt=et,et=Ft,Ft=dt,dt=Tt,Tt=Ft,F+=Q}}d(Z),d(j)}},"false,1,0":function(u,y,v,w,d){return function(h,M,T,L){var D,m=0|h.shape[0],S=0|h.shape[1],b=h.data,C=0|h.stride[0],p=0|h.stride[1],F=0|h.offset,N=0|-C,k=0,O=0|-p,B=0,z=-C-p|0,U=0,G=0|p,Q=C-p*S|0,rt=0,it=0,ut=0,J=2*S|0,j=w(J),Z=w(J),H=0,X=0,at=-1,_=-1,K=0,nt=0|-S,et=0|S,st=0,dt=-S-1|0,Tt=S-1|0,bt=0,Dt=0,Ft=0;for(it=0;it<S;++it)j[H++]=v(b[F],M,T,L),F+=G;if(F+=Q,m>0){if(rt=1,j[H++]=v(b[F],M,T,L),F+=G,S>0)for(it=1,X=j[H]=v(D=b[F],M,T,L),K=j[H+at],bt=j[H+dt],(X!==(st=j[H+nt])||X!==K||X!==bt)&&(u(rt,it,D,k=b[F+N],B=b[F+O],U=b[F+z],X,st,K,bt,M,T,L),Dt=Z[H]=ut++),H+=1,F+=G,it=2;it<S;++it)X=j[H]=v(D=b[F],M,T,L),K=j[H+at],bt=j[H+dt],(X!==(st=j[H+nt])||X!==K||X!==bt)&&(u(rt,it,D,k=b[F+N],B=b[F+O],U=b[F+z],X,st,K,bt,M,T,L),Dt=Z[H]=ut++,bt!==K&&y(Z[H+at],Dt,B,U,K,bt,M,T,L)),H+=1,F+=G;for(F+=Q,H=0,Ft=nt,nt=et,et=Ft,Ft=at,at=_,_=Ft,Ft=dt,dt=Tt,Tt=Ft,rt=2;rt<m;++rt){if(j[H++]=v(b[F],M,T,L),F+=G,S>0)for(it=1,X=j[H]=v(D=b[F],M,T,L),K=j[H+at],bt=j[H+dt],(X!==(st=j[H+nt])||X!==K||X!==bt)&&(u(rt,it,D,k=b[F+N],B=b[F+O],U=b[F+z],X,st,K,bt,M,T,L),Dt=Z[H]=ut++,bt!==st&&y(Z[H+nt],Dt,U,k,bt,st,M,T,L)),H+=1,F+=G,it=2;it<S;++it)X=j[H]=v(D=b[F],M,T,L),K=j[H+at],bt=j[H+dt],(X!==(st=j[H+nt])||X!==K||X!==bt)&&(u(rt,it,D,k=b[F+N],B=b[F+O],U=b[F+z],X,st,K,bt,M,T,L),Dt=Z[H]=ut++,bt!==K&&y(Z[H+at],Dt,B,U,K,bt,M,T,L),bt!==st&&y(Z[H+nt],Dt,U,k,bt,st,M,T,L)),H+=1,F+=G;1&rt&&(H=0),Ft=nt,nt=et,et=Ft,Ft=at,at=_,_=Ft,Ft=dt,dt=Tt,Tt=Ft,F+=Q}}d(Z),d(j)}}}},9144:function(l,x,e){"use strict";var r=e(3094),f={zero:function(L,m,S,b){var n=L[0];b|=0;var p=0,F=S[0];for(p=0;p<n;++p)m[b]=0,b+=F},fdTemplate1:function(L,m,S,b,n,C,p){var F=L[0],D=S[0],k=-1*D,O=D;b|=0,p|=0;var B=0,z=D,U=C[0];for(B=0;B<F;++B)n[p]=.5*(m[b+k]-m[b+O]),b+=z,p+=U},fdTemplate2:function(L,m,S,b,n,C,p,F,D,N){var k=L[0],O=L[1],B=S[0],z=S[1],G=C[1],rt=D[1],it=-1*B,ut=B,J=-1*z,j=z;b|=0,p|=0,N|=0;var Z=0,H=0,X=z,at=B-O*z,_=G,K=C[0]-O*G,nt=rt,et=D[0]-O*rt;for(H=0;H<k;++H){for(Z=0;Z<O;++Z)n[p]=.5*(m[b+it]-m[b+ut]),F[N]=.5*(m[b+J]-m[b+j]),b+=X,p+=_,N+=nt;b+=at,p+=K,N+=et}}},a={cdiff:function(L){var m={};return function(b,n,C){var p=b.dtype,F=b.order,D=n.dtype,N=n.order,k=C.dtype,O=C.order,B=[p,F.join(),D,N.join(),k,O.join()].join(),z=m[B];return z||(m[B]=z=L([p,F,D,N,k,O])),z(b.shape.slice(0),b.data,b.stride,0|b.offset,n.data,n.stride,0|n.offset,C.data,C.stride,0|C.offset)}},zero:function(L){var m={};return function(b){var n=b.dtype,C=b.order,p=[n,C.join()].join(),F=m[p];return F||(m[p]=F=L([n,C])),F(b.shape.slice(0),b.data,b.stride,0|b.offset)}},fdTemplate1:function(L){var m={};return function(b,n){var C=b.dtype,p=b.order,F=n.dtype,D=n.order,N=[C,p.join(),F,D.join()].join(),k=m[N];return k||(m[N]=k=L([C,p,F,D])),k(b.shape.slice(0),b.data,b.stride,0|b.offset,n.data,n.stride,0|n.offset)}},fdTemplate2:function(L){var m={};return function(b,n,C){var p=b.dtype,F=b.order,D=n.dtype,N=n.order,k=C.dtype,O=C.order,B=[p,F.join(),D,N.join(),k,O.join()].join(),z=m[B];return z||(m[B]=z=L([p,F,D,N,k,O])),z(b.shape.slice(0),b.data,b.stride,0|b.offset,n.data,n.stride,0|n.offset,C.data,C.stride,0|C.offset)}}};function s(L){return(0,a[L.funcName])(c.bind(void 0,L))}function c(L){return f[L.funcName]}function u(L){return s({funcName:L.funcName})}var y={},v={},d=u({funcName:"cdiff"}),o=u({funcName:"zero"});function h(L){return L in y?y[L]:y[L]=u({funcName:"fdTemplate"+L})}function M(L,m,S,b){return function(n,C){var p=C.shape.slice();return p[0]>2&&p[1]>2&&b(C.pick(-1,-1).lo(1,1).hi(p[0]-2,p[1]-2),n.pick(-1,-1,0).lo(1,1).hi(p[0]-2,p[1]-2),n.pick(-1,-1,1).lo(1,1).hi(p[0]-2,p[1]-2)),p[1]>2&&(S(C.pick(0,-1).lo(1).hi(p[1]-2),n.pick(0,-1,1).lo(1).hi(p[1]-2)),m(n.pick(0,-1,0).lo(1).hi(p[1]-2))),p[1]>2&&(S(C.pick(p[0]-1,-1).lo(1).hi(p[1]-2),n.pick(p[0]-1,-1,1).lo(1).hi(p[1]-2)),m(n.pick(p[0]-1,-1,0).lo(1).hi(p[1]-2))),p[0]>2&&(S(C.pick(-1,0).lo(1).hi(p[0]-2),n.pick(-1,0,0).lo(1).hi(p[0]-2)),m(n.pick(-1,0,1).lo(1).hi(p[0]-2))),p[0]>2&&(S(C.pick(-1,p[1]-1).lo(1).hi(p[0]-2),n.pick(-1,p[1]-1,0).lo(1).hi(p[0]-2)),m(n.pick(-1,p[1]-1,1).lo(1).hi(p[0]-2))),n.set(0,0,0,0),n.set(0,0,1,0),n.set(p[0]-1,0,0,0),n.set(p[0]-1,0,1,0),n.set(0,p[1]-1,0,0),n.set(0,p[1]-1,1,0),n.set(p[0]-1,p[1]-1,0,0),n.set(p[0]-1,p[1]-1,1,0),n}}l.exports=function(m,S,b){return Array.isArray(b)||(b=r(S.dimension,"string"==typeof b?b:"clamp")),0===S.size?m:0===S.dimension?(m.set(0),m):function T(L){var m=L.join();if(p=v[m])return p;for(var S=L.length,b=[d,o],n=1;n<=S;++n)b.push(h(n));var p=M.apply(void 0,b);return v[m]=p,p}(b)(m,S)}},3581:function(l){"use strict";function x(s,c){var u=Math.floor(c),y=c-u,w=0<=u+1&&u+1<s.shape[0];return(1-y)*(0<=u&&u<s.shape[0]?+s.get(u):0)+y*(w?+s.get(u+1):0)}function e(s,c,u){var y=Math.floor(c),v=c-y,w=0<=y&&y<s.shape[0],d=0<=y+1&&y+1<s.shape[0],o=Math.floor(u),h=u-o,M=0<=o&&o<s.shape[1],T=0<=o+1&&o+1<s.shape[1],L=w&&M?s.get(y,o):0,m=w&&T?s.get(y,o+1):0;return(1-h)*((1-v)*L+v*(d&&M?s.get(y+1,o):0))+h*((1-v)*m+v*(d&&T?s.get(y+1,o+1):0))}function r(s,c,u,y){var v=Math.floor(c),w=c-v,d=0<=v&&v<s.shape[0],o=0<=v+1&&v+1<s.shape[0],h=Math.floor(u),M=u-h,T=0<=h&&h<s.shape[1],L=0<=h+1&&h+1<s.shape[1],m=Math.floor(y),S=y-m,b=0<=m&&m<s.shape[2],n=0<=m+1&&m+1<s.shape[2],C=d&&T&&b?s.get(v,h,m):0,p=d&&L&&b?s.get(v,h+1,m):0,F=o&&T&&b?s.get(v+1,h,m):0,D=o&&L&&b?s.get(v+1,h+1,m):0,N=d&&T&&n?s.get(v,h,m+1):0,k=d&&L&&n?s.get(v,h+1,m+1):0;return(1-S)*((1-M)*((1-w)*C+w*F)+M*((1-w)*p+w*D))+S*((1-M)*((1-w)*N+w*(o&&T&&n?s.get(v+1,h,m+1):0))+M*((1-w)*k+w*(o&&L&&n?s.get(v+1,h+1,m+1):0)))}function f(s){var d,o,c=0|s.shape.length,u=new Array(c),y=new Array(c),v=new Array(c),w=new Array(c);for(d=0;d<c;++d)o=+arguments[d+1],u[d]=Math.floor(o),y[d]=o-u[d],v[d]=0<=u[d]&&u[d]<s.shape[d],w[d]=0<=u[d]+1&&u[d]+1<s.shape[d];var M,T,L,h=0;t:for(d=0;d<1<<c;++d){for(T=1,L=s.offset,M=0;M<c;++M)if(d&1<<M){if(!w[M])continue t;T*=y[M],L+=s.stride[M]*(u[M]+1)}else{if(!v[M])continue t;T*=1-y[M],L+=s.stride[M]*u[M]}h+=T*s.data[L]}return h}l.exports=function a(s,c,u,y){switch(s.shape.length){case 0:return 0;case 1:return x(s,c);case 2:return e(s,c,u);case 3:return r(s,c,u,y);default:return f.apply(void 0,arguments)}},l.exports.d1=x,l.exports.d2=e,l.exports.d3=r},7498:function(l,x){"use strict";var e={"float64,2,1,0":function(){return function(v,w,d,o,h){var M=v[0],T=v[1],L=v[2],S=d[1],b=d[2];o|=0;var n=0,C=0,p=0,F=b,D=S-L*b,N=d[0]-T*S;for(p=0;p<M;++p){for(C=0;C<T;++C){for(n=0;n<L;++n)w[o]/=h,o+=F;o+=D}o+=N}}},"uint8,2,0,1,float64,2,1,0":function(){return function(v,w,d,o,h,M,T,L){for(var m=v[0],S=v[1],b=v[2],n=d[0],C=d[1],p=d[2],F=M[0],D=M[1],N=M[2],k=o|=0,O=T|=0,B=0|v[0];B>0;){B<64?(m=B,B=0):(m=64,B-=64);for(var z=0|v[1];z>0;){z<64?(S=z,z=0):(S=64,z-=64),o=k+B*n+z*C,T=O+B*F+z*D;var U=0,G=0,Q=0,rt=p,it=n-b*p,ut=C-m*n,J=N,j=F-b*N,Z=D-m*F;for(Q=0;Q<S;++Q){for(G=0;G<m;++G){for(U=0;U<b;++U)w[o]=h[T]*L,o+=rt,T+=J;o+=it,T+=j}o+=ut,T+=Z}}}}},"float32,1,0,float32,1,0":function(){return function(v,w,d,o,h,M,T){var L=v[0],m=v[1],b=d[1],C=M[1];o|=0,T|=0;var p=0,F=0,D=b,N=d[0]-m*b,k=C,O=M[0]-m*C;for(F=0;F<L;++F){for(p=0;p<m;++p)w[o]=h[T],o+=D,T+=k;o+=N,T+=O}}},"float32,1,0,float32,0,1":function(){return function(v,w,d,o,h,M,T){for(var L=v[0],m=v[1],S=d[0],b=d[1],n=M[0],C=M[1],p=o|=0,F=T|=0,D=0|v[1];D>0;){D<64?(m=D,D=0):(m=64,D-=64);for(var N=0|v[0];N>0;){N<64?(L=N,N=0):(L=64,N-=64),o=p+D*b+N*S,T=F+D*C+N*n;var k=0,O=0,B=b,z=S-m*b,U=C,G=n-m*C;for(O=0;O<L;++O){for(k=0;k<m;++k)w[o]=h[T],o+=B,T+=U;o+=z,T+=G}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(v,w,d,o,h,M,T){for(var L=v[0],m=v[1],S=v[2],b=d[0],n=d[1],C=d[2],p=M[0],F=M[1],D=M[2],N=o|=0,k=T|=0,O=0|v[2];O>0;){O<64?(S=O,O=0):(S=64,O-=64);for(var B=0|v[0];B>0;){B<64?(L=B,B=0):(L=64,B-=64);for(var z=0|v[1];z>0;){z<64?(m=z,z=0):(m=64,z-=64),o=N+O*C+B*b+z*n,T=k+O*D+B*p+z*F;var U=0,G=0,Q=0,rt=C,it=b-S*C,ut=n-L*b,J=D,j=p-S*D,Z=F-L*p;for(Q=0;Q<m;++Q){for(G=0;G<L;++G){for(U=0;U<S;++U)w[o]=h[T],o+=rt,T+=J;o+=it,T+=j}o+=ut,T+=Z}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(v,w,d,o,h,M,T){var L=v[0],m=v[1],S=v[2],b=d[0],C=d[2],p=M[0],D=M[2];o|=0,T|=0;var N=0,k=0,O=0,B=C,z=b-S*C,U=d[1]-L*b,G=D,Q=p-S*D,rt=M[1]-L*p;for(O=0;O<m;++O){for(k=0;k<L;++k){for(N=0;N<S;++N)w[o]=h[T],o+=B,T+=G;o+=z,T+=Q}o+=U,T+=rt}}}};var f=function r(y,v){var w=v.join(",");return(0,e[w])()},a={mul:function(y){var v={};return function(d,o,h){var M=d.dtype,T=d.order,L=o.dtype,m=o.order,S=h.dtype,b=h.order,n=[M,T.join(),L,m.join(),S,b.join()].join(),C=v[n];return C||(v[n]=C=y([M,T,L,m,S,b])),C(d.shape.slice(0),d.data,d.stride,0|d.offset,o.data,o.stride,0|o.offset,h.data,h.stride,0|h.offset)}},muls:function(y){var v={};return function(d,o,h){var M=d.dtype,T=d.order,L=o.dtype,m=o.order,S=[M,T.join(),L,m.join()].join(),b=v[S];return b||(v[S]=b=y([M,T,L,m])),b(d.shape.slice(0),d.data,d.stride,0|d.offset,o.data,o.stride,0|o.offset,h)}},mulseq:function(y){var v={};return function(d,o){var h=d.dtype,M=d.order,T=[h,M.join()].join(),L=v[T];return L||(v[T]=L=y([h,M])),L(d.shape.slice(0),d.data,d.stride,0|d.offset,o)}},div:function(y){var v={};return function(d,o,h){var M=d.dtype,T=d.order,L=o.dtype,m=o.order,S=h.dtype,b=h.order,n=[M,T.join(),L,m.join(),S,b.join()].join(),C=v[n];return C||(v[n]=C=y([M,T,L,m,S,b])),C(d.shape.slice(0),d.data,d.stride,0|d.offset,o.data,o.stride,0|o.offset,h.data,h.stride,0|h.offset)}},divs:function(y){var v={};return function(d,o,h){var M=d.dtype,T=d.order,L=o.dtype,m=o.order,S=[M,T.join(),L,m.join()].join(),b=v[S];return b||(v[S]=b=y([M,T,L,m])),b(d.shape.slice(0),d.data,d.stride,0|d.offset,o.data,o.stride,0|o.offset,h)}},divseq:function(y){var v={};return function(d,o){var h=d.dtype,M=d.order,T=[h,M.join()].join(),L=v[T];return L||(v[T]=L=y([h,M])),L(d.shape.slice(0),d.data,d.stride,0|d.offset,o)}},assign:function(y){var v={};return function(d,o){var h=d.dtype,M=d.order,T=o.dtype,L=o.order,m=[h,M.join(),T,L.join()].join(),S=v[m];return S||(v[m]=S=y([h,M,T,L])),S(d.shape.slice(0),d.data,d.stride,0|d.offset,o.data,o.stride,0|o.offset)}}};function c(y){return function s(y){return(0,a[y.funcName])(f.bind(void 0,y))}({funcName:y.funcName})}var u={mul:"*",div:"/"};(function(){for(var y in u)x[y]=c({funcName:y}),x[y+"s"]=c({funcName:y+"s"}),x[y+"seq"]=c({funcName:y+"seq"})})(),x.assign=c({funcName:"assign"})},7382:function(l,x,e){"use strict";var r=e(5050),f=e(9262);l.exports=function(s,c){for(var u=[],y=s,v=1;Array.isArray(y);)u.push(y.length),v*=y.length,y=y[0];return 0===u.length?r():(c||(c=r(new Float64Array(v),u)),f(c,s),c)}},9262:function(l){"use strict";var r=function e(){return function(c,u,y,v,w){var d=c[0],o=c[1],h=c[2],T=y[1],L=y[2],m=[0,0,0];v|=0;var S=0,b=0,n=0,C=L,p=T-h*L,F=y[0]-o*T;for(n=0;n<d;++n){for(b=0;b<o;++b){for(S=0;S<h;++S){var N,D=w;for(N=0;N<m.length-1;++N)D=D[m[N]];u[v]=D[m[m.length-1]],v+=C,++m[2]}v+=p,m[2]-=h,++m[1]}v+=F,m[1]-=o,++m[0]}}};l.exports=function s(c){return function a(c){return function f(c){var u={};return function(v,w){var d=v.dtype,o=v.order,h=[d,o.join()].join(),M=u[h];return M||(u[h]=M=c([d,o])),M(v.shape.slice(0),v.data,v.stride,0|v.offset,w)}}(r.bind(void 0,c))}({funcName:c.funcName})}({funcName:"convert"})},8139:function(l,x,e){"use strict";var r=e(5306);function f(w){return"uint32"===w?[r.mallocUint32,r.freeUint32]:null}var a={"uint32,1,0":function(w,d){return function(h,M,T,L,m,S,b,n,C,p,F){var D,N,k,B,U,G,Q,rt,O=h*m+L,z=w(n);for(D=h+1;D<=M;++D){for(N=D,k=O+=m,U=0,G=O,B=0;B<n;++B)z[U++]=T[G],G+=C;t:for(;N-- >h;){U=0,G=k-m;e:for(B=0;B<n;++B){if((Q=T[G])<(rt=z[U]))break t;if(Q>rt)break e;G+=p,U+=F}for(U=k,G=k-m,B=0;B<n;++B)T[U]=T[G],U+=C,G+=C;k-=m}for(U=k,G=0,B=0;B<n;++B)T[U]=z[G++],U+=C}d(z)}}};var c={"uint32,1,0":function(w,d,o){return function h(M,T,L,m,S,b,n,C,p,F,D){var H,X,_,K,nt,et,st,dt,Ft,Mt,wt,St,Ut,Gt,Pt,Vt,te,_t,kt,zt,qt,ae,oe,pe,N=(T-M+1)/6|0,k=M+N,O=T-N,B=M+T>>1,z=B-N,U=B+N,G=k,Q=z,rt=B,it=U,ut=O,J=M+1,j=T-1,Z=!0,Tt=0,bt=0,Dt=0,ye=C,Fe=d(ye),Zt=d(ye);Mt=S*G,wt=S*Q,pe=m;t:for(Ft=0;Ft<C;++Ft){if((Dt=L[et=Mt+pe]-L[st=wt+pe])>0){X=G,G=Q,Q=X;break t}if(Dt<0)break t;pe+=F}Mt=S*it,wt=S*ut,pe=m;t:for(Ft=0;Ft<C;++Ft){if((Dt=L[et=Mt+pe]-L[st=wt+pe])>0){X=it,it=ut,ut=X;break t}if(Dt<0)break t;pe+=F}Mt=S*G,wt=S*rt,pe=m;t:for(Ft=0;Ft<C;++Ft){if((Dt=L[et=Mt+pe]-L[st=wt+pe])>0){X=G,G=rt,rt=X;break t}if(Dt<0)break t;pe+=F}Mt=S*Q,wt=S*rt,pe=m;t:for(Ft=0;Ft<C;++Ft){if((Dt=L[et=Mt+pe]-L[st=wt+pe])>0){X=Q,Q=rt,rt=X;break t}if(Dt<0)break t;pe+=F}Mt=S*G,wt=S*it,pe=m;t:for(Ft=0;Ft<C;++Ft){if((Dt=L[et=Mt+pe]-L[st=wt+pe])>0){X=G,G=it,it=X;break t}if(Dt<0)break t;pe+=F}Mt=S*rt,wt=S*it,pe=m;t:for(Ft=0;Ft<C;++Ft){if((Dt=L[et=Mt+pe]-L[st=wt+pe])>0){X=rt,rt=it,it=X;break t}if(Dt<0)break t;pe+=F}Mt=S*Q,wt=S*ut,pe=m;t:for(Ft=0;Ft<C;++Ft){if((Dt=L[et=Mt+pe]-L[st=wt+pe])>0){X=Q,Q=ut,ut=X;break t}if(Dt<0)break t;pe+=F}Mt=S*Q,wt=S*rt,pe=m;t:for(Ft=0;Ft<C;++Ft){if((Dt=L[et=Mt+pe]-L[st=wt+pe])>0){X=Q,Q=rt,rt=X;break t}if(Dt<0)break t;pe+=F}Mt=S*it,wt=S*ut,pe=m;t:for(Ft=0;Ft<C;++Ft){if((Dt=L[et=Mt+pe]-L[st=wt+pe])>0){X=it,it=ut,ut=X;break t}if(Dt<0)break t;pe+=F}for(Mt=S*G,wt=S*Q,St=S*rt,Ut=S*it,Gt=S*ut,Pt=S*k,Vt=S*B,te=S*O,oe=0,pe=m,Ft=0;Ft<C;++Ft)et=Mt+pe,dt=St+pe,_t=Ut+pe,kt=Gt+pe,zt=Pt+pe,qt=Vt+pe,ae=te+pe,Fe[oe]=L[st=wt+pe],Zt[oe]=L[_t],Z=Z&&Fe[oe]===Zt[oe],_=L[dt],K=L[kt],L[zt]=L[et],L[qt]=_,L[ae]=K,++oe,pe+=p;for(Mt=S*z,wt=S*M,pe=m,Ft=0;Ft<C;++Ft)L[et=Mt+pe]=L[st=wt+pe],pe+=p;for(Mt=S*U,wt=S*T,pe=m,Ft=0;Ft<C;++Ft)L[et=Mt+pe]=L[st=wt+pe],pe+=p;if(Z)for(nt=J;nt<=j;++nt){for(et=m+nt*S,oe=0,Ft=0;Ft<C&&0==(Dt=L[et]-Fe[oe]);++Ft)oe+=D,et+=F;if(0!==Dt)if(Dt<0){if(nt!==J)for(Mt=S*nt,wt=S*J,pe=m,Ft=0;Ft<C;++Ft)H=L[et=Mt+pe],L[et]=L[st=wt+pe],L[st]=H,pe+=p;++J}else for(;;){for(et=m+j*S,oe=0,Ft=0;Ft<C&&0==(Dt=L[et]-Fe[oe]);++Ft)oe+=D,et+=F;if(!(Dt>0)){if(Dt<0){for(Mt=S*nt,wt=S*J,St=S*j,pe=m,Ft=0;Ft<C;++Ft)dt=St+pe,H=L[et=Mt+pe],L[et]=L[st=wt+pe],L[st]=L[dt],L[dt]=H,pe+=p;++J,--j;break}for(Mt=S*nt,wt=S*j,pe=m,Ft=0;Ft<C;++Ft)H=L[et=Mt+pe],L[et]=L[st=wt+pe],L[st]=H,pe+=p;--j;break}j--}}else for(nt=J;nt<=j;++nt){for(et=m+nt*S,oe=0,Ft=0;Ft<C&&0==(Tt=L[et]-Fe[oe]);++Ft)oe+=D,et+=F;if(Tt<0){if(nt!==J)for(Mt=S*nt,wt=S*J,pe=m,Ft=0;Ft<C;++Ft)H=L[et=Mt+pe],L[et]=L[st=wt+pe],L[st]=H,pe+=p;++J}else{for(et=m+nt*S,oe=0,Ft=0;Ft<C&&0==(bt=L[et]-Zt[oe]);++Ft)oe+=D,et+=F;if(bt>0)for(;;){for(et=m+j*S,oe=0,Ft=0;Ft<C&&0==(Dt=L[et]-Zt[oe]);++Ft)oe+=D,et+=F;if(!(Dt>0)){for(et=m+j*S,oe=0,Ft=0;Ft<C&&0==(Dt=L[et]-Fe[oe]);++Ft)oe+=D,et+=F;if(Dt<0){for(Mt=S*nt,wt=S*J,St=S*j,pe=m,Ft=0;Ft<C;++Ft)dt=St+pe,H=L[et=Mt+pe],L[et]=L[st=wt+pe],L[st]=L[dt],L[dt]=H,pe+=p;++J,--j}else{for(Mt=S*nt,wt=S*j,pe=m,Ft=0;Ft<C;++Ft)H=L[et=Mt+pe],L[et]=L[st=wt+pe],L[st]=H,pe+=p;--j}break}if(--j<nt)break}}}for(Mt=S*M,wt=S*(J-1),oe=0,pe=m,Ft=0;Ft<C;++Ft)L[et=Mt+pe]=L[st=wt+pe],L[st]=Fe[oe],++oe,pe+=p;for(Mt=S*T,wt=S*(j+1),oe=0,pe=m,Ft=0;Ft<C;++Ft)L[et=Mt+pe]=L[st=wt+pe],L[st]=Zt[oe],++oe,pe+=p;if(J-2-M<=32?w(M,J-2,L,m,S,b,n,C,p,F,D):h(M,J-2,L,m,S,b,n,C,p,F,D),T-(j+2)<=32?w(j+2,T,L,m,S,b,n,C,p,F,D):h(j+2,T,L,m,S,b,n,C,p,F,D),Z)return o(Fe),void o(Zt);if(J<k&&j>O){t:for(;;){for(et=m+J*S,oe=0,pe=m,Ft=0;Ft<C;++Ft){if(L[et]!==Fe[oe])break t;++oe,et+=p}++J}t:for(;;){for(et=m+j*S,oe=0,pe=m,Ft=0;Ft<C;++Ft){if(L[et]!==Zt[oe])break t;++oe,et+=p}--j}for(nt=J;nt<=j;++nt){for(et=m+nt*S,oe=0,Ft=0;Ft<C&&0==(Tt=L[et]-Fe[oe]);++Ft)oe+=D,et+=F;if(0===Tt){if(nt!==J)for(Mt=S*nt,wt=S*J,pe=m,Ft=0;Ft<C;++Ft)H=L[et=Mt+pe],L[et]=L[st=wt+pe],L[st]=H,pe+=p;++J}else{for(et=m+nt*S,oe=0,Ft=0;Ft<C&&0==(bt=L[et]-Zt[oe]);++Ft)oe+=D,et+=F;if(0===bt)for(;;){for(et=m+j*S,oe=0,Ft=0;Ft<C&&0==(Dt=L[et]-Zt[oe]);++Ft)oe+=D,et+=F;if(0!==Dt){for(et=m+j*S,oe=0,Ft=0;Ft<C&&0==(Dt=L[et]-Fe[oe]);++Ft)oe+=D,et+=F;if(Dt<0){for(Mt=S*nt,wt=S*J,St=S*j,pe=m,Ft=0;Ft<C;++Ft)dt=St+pe,H=L[et=Mt+pe],L[et]=L[st=wt+pe],L[st]=L[dt],L[dt]=H,pe+=p;++J,--j}else{for(Mt=S*nt,wt=S*j,pe=m,Ft=0;Ft<C;++Ft)H=L[et=Mt+pe],L[et]=L[st=wt+pe],L[st]=H,pe+=p;--j}break}if(--j<nt)break}}}}o(Fe),o(Zt),j-J<=32?w(J,j,L,m,S,b,n,C,p,F,D):h(J,j,L,m,S,b,n,C,p,F,D)}}};var y={"uint32,1,0":function(w,d){return function(o){var h=o.data,M=0|o.offset,T=o.shape,L=o.stride,m=0|L[0],S=0|T[0],b=0|L[1],n=0|T[1],C=b,p=b;S<=32?w(0,S-1,h,M,m,b,S,n,C,p,1):d(0,S-1,h,M,m,b,S,n,C,p,1)}}};l.exports=function v(w,d){var o=[d,w].join(","),h=y[o],M=function s(w,d){var o=f(d),h=[d,w].join(","),M=a[h];return o?M(o[0],o[1]):M()}(w,d);return h(M,function u(w,d,o){var h=f(d),M=[d,w].join(","),T=c[M];return w.length>1&&h?T(o,h[0],h[1]):T(o)}(w,d,M))}},8729:function(l,x,e){"use strict";var r=e(8139),f={};l.exports=function a(s){var c=s.order,u=s.dtype,v=[c,u].join(":"),w=f[v];return w||(f[v]=w=r(c,u)),w(s),s}},5050:function(l,x,e){var r=e(4780),f="undefined"!=typeof Float64Array;function a(d,o){return d[0]-o[0]}function s(){var h,d=this.stride,o=new Array(d.length);for(h=0;h<o.length;++h)o[h]=[Math.abs(d[h]),h];o.sort(a);var M=new Array(o.length);for(h=0;h<M.length;++h)M[h]=o[h][1];return M}var c={T:function(d){function o(M){this.data=M}var h=o.prototype;return h.dtype=d,h.index=function(){return-1},h.size=0,h.dimension=-1,h.shape=h.stride=h.order=[],h.lo=h.hi=h.transpose=h.step=function(){return new o(this.data)},h.get=h.set=function(){},h.pick=function(){return null},function(T){return new o(T)}},0:function(d,o){function h(T,L){this.data=T,this.offset=L}var M=h.prototype;return M.dtype=d,M.index=function(){return this.offset},M.dimension=0,M.size=1,M.shape=M.stride=M.order=[],M.lo=M.hi=M.transpose=M.step=function(){return new h(this.data,this.offset)},M.pick=function(){return o(this.data)},M.valueOf=M.get=function(){return"generic"===d?this.data.get(this.offset):this.data[this.offset]},M.set=function(L){return"generic"===d?this.data.set(this.offset,L):this.data[this.offset]=L},function(L,m,S,b){return new h(L,b)}},1:function(d,o,h){function M(L,m,S,b){this.data=L,this.shape=[m],this.stride=[S],this.offset=0|b}var T=M.prototype;return T.dtype=d,T.dimension=1,Object.defineProperty(T,"size",{get:function(){return this.shape[0]}}),T.order=[0],T.set=function(m,S){return"generic"===d?this.data.set(this.offset+this.stride[0]*m,S):this.data[this.offset+this.stride[0]*m]=S},T.get=function(m){return"generic"===d?this.data.get(this.offset+this.stride[0]*m):this.data[this.offset+this.stride[0]*m]},T.index=function(m){return this.offset+this.stride[0]*m},T.hi=function(m){return new M(this.data,"number"!=typeof m||m<0?this.shape[0]:0|m,this.stride[0],this.offset)},T.lo=function(m){var S=this.offset,b=0,n=this.shape[0],C=this.stride[0];return"number"==typeof m&&m>=0&&(S+=C*(b=0|m),n-=b),new M(this.data,n,C,S)},T.step=function(m){var S=this.shape[0],b=this.stride[0],n=this.offset,C=0,p=Math.ceil;return"number"==typeof m&&((C=0|m)<0?(n+=b*(S-1),S=p(-S/C)):S=p(S/C),b*=C),new M(this.data,S,b,n)},T.transpose=function(m){return new M(this.data,this.shape[m=void 0===m?0:0|m],this.stride[m],this.offset)},T.pick=function(m){var S=[],b=[],n=this.offset;return"number"==typeof m&&m>=0?n=n+this.stride[0]*m|0:(S.push(this.shape[0]),b.push(this.stride[0])),(0,o[S.length+1])(this.data,S,b,n)},function(m,S,b,n){return new M(m,S[0],b[0],n)}},2:function(d,o,h){function M(L,m,S,b,n,C){this.data=L,this.shape=[m,S],this.stride=[b,n],this.offset=0|C}var T=M.prototype;return T.dtype=d,T.dimension=2,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(T,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),T.set=function(m,S,b){return"generic"===d?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*S,b):this.data[this.offset+this.stride[0]*m+this.stride[1]*S]=b},T.get=function(m,S){return"generic"===d?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*S):this.data[this.offset+this.stride[0]*m+this.stride[1]*S]},T.index=function(m,S){return this.offset+this.stride[0]*m+this.stride[1]*S},T.hi=function(m,S){return new M(this.data,"number"!=typeof m||m<0?this.shape[0]:0|m,"number"!=typeof S||S<0?this.shape[1]:0|S,this.stride[0],this.stride[1],this.offset)},T.lo=function(m,S){var b=this.offset,n=0,C=this.shape[0],p=this.shape[1],F=this.stride[0],D=this.stride[1];return"number"==typeof m&&m>=0&&(b+=F*(n=0|m),C-=n),"number"==typeof S&&S>=0&&(b+=D*(n=0|S),p-=n),new M(this.data,C,p,F,D,b)},T.step=function(m,S){var b=this.shape[0],n=this.shape[1],C=this.stride[0],p=this.stride[1],F=this.offset,D=0,N=Math.ceil;return"number"==typeof m&&((D=0|m)<0?(F+=C*(b-1),b=N(-b/D)):b=N(b/D),C*=D),"number"==typeof S&&((D=0|S)<0?(F+=p*(n-1),n=N(-n/D)):n=N(n/D),p*=D),new M(this.data,b,n,C,p,F)},T.transpose=function(m,S){var b=this.shape,n=this.stride;return new M(this.data,b[m=void 0===m?0:0|m],b[S=void 0===S?1:0|S],n[m],n[S],this.offset)},T.pick=function(m,S){var b=[],n=[],C=this.offset;return"number"==typeof m&&m>=0?C=C+this.stride[0]*m|0:(b.push(this.shape[0]),n.push(this.stride[0])),"number"==typeof S&&S>=0?C=C+this.stride[1]*S|0:(b.push(this.shape[1]),n.push(this.stride[1])),(0,o[b.length+1])(this.data,b,n,C)},function(m,S,b,n){return new M(m,S[0],S[1],b[0],b[1],n)}},3:function(d,o,h){function M(L,m,S,b,n,C,p,F){this.data=L,this.shape=[m,S,b],this.stride=[n,C,p],this.offset=0|F}var T=M.prototype;return T.dtype=d,T.dimension=3,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(T,"order",{get:function(){var m=Math.abs(this.stride[0]),S=Math.abs(this.stride[1]),b=Math.abs(this.stride[2]);return m>S?S>b?[2,1,0]:m>b?[1,2,0]:[1,0,2]:m>b?[2,0,1]:b>S?[0,1,2]:[0,2,1]}}),T.set=function(m,S,b,n){return"generic"===d?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*b,n):this.data[this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*b]=n},T.get=function(m,S,b){return"generic"===d?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*b):this.data[this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*b]},T.index=function(m,S,b){return this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*b},T.hi=function(m,S,b){return new M(this.data,"number"!=typeof m||m<0?this.shape[0]:0|m,"number"!=typeof S||S<0?this.shape[1]:0|S,"number"!=typeof b||b<0?this.shape[2]:0|b,this.stride[0],this.stride[1],this.stride[2],this.offset)},T.lo=function(m,S,b){var n=this.offset,C=0,p=this.shape[0],F=this.shape[1],D=this.shape[2],N=this.stride[0],k=this.stride[1],O=this.stride[2];return"number"==typeof m&&m>=0&&(n+=N*(C=0|m),p-=C),"number"==typeof S&&S>=0&&(n+=k*(C=0|S),F-=C),"number"==typeof b&&b>=0&&(n+=O*(C=0|b),D-=C),new M(this.data,p,F,D,N,k,O,n)},T.step=function(m,S,b){var n=this.shape[0],C=this.shape[1],p=this.shape[2],F=this.stride[0],D=this.stride[1],N=this.stride[2],k=this.offset,O=0,B=Math.ceil;return"number"==typeof m&&((O=0|m)<0?(k+=F*(n-1),n=B(-n/O)):n=B(n/O),F*=O),"number"==typeof S&&((O=0|S)<0?(k+=D*(C-1),C=B(-C/O)):C=B(C/O),D*=O),"number"==typeof b&&((O=0|b)<0?(k+=N*(p-1),p=B(-p/O)):p=B(p/O),N*=O),new M(this.data,n,C,p,F,D,N,k)},T.transpose=function(m,S,b){var n=this.shape,C=this.stride;return new M(this.data,n[m=void 0===m?0:0|m],n[S=void 0===S?1:0|S],n[b=void 0===b?2:0|b],C[m],C[S],C[b],this.offset)},T.pick=function(m,S,b){var n=[],C=[],p=this.offset;return"number"==typeof m&&m>=0?p=p+this.stride[0]*m|0:(n.push(this.shape[0]),C.push(this.stride[0])),"number"==typeof S&&S>=0?p=p+this.stride[1]*S|0:(n.push(this.shape[1]),C.push(this.stride[1])),"number"==typeof b&&b>=0?p=p+this.stride[2]*b|0:(n.push(this.shape[2]),C.push(this.stride[2])),(0,o[n.length+1])(this.data,n,C,p)},function(m,S,b,n){return new M(m,S[0],S[1],S[2],b[0],b[1],b[2],n)}},4:function(d,o,h){function M(L,m,S,b,n,C,p,F,D,N){this.data=L,this.shape=[m,S,b,n],this.stride=[C,p,F,D],this.offset=0|N}var T=M.prototype;return T.dtype=d,T.dimension=4,Object.defineProperty(T,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(T,"order",{get:h}),T.set=function(m,S,b,n,C){return"generic"===d?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*b+this.stride[3]*n,C):this.data[this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*b+this.stride[3]*n]=C},T.get=function(m,S,b,n){return"generic"===d?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*b+this.stride[3]*n):this.data[this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*b+this.stride[3]*n]},T.index=function(m,S,b,n){return this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*b+this.stride[3]*n},T.hi=function(m,S,b,n){return new M(this.data,"number"!=typeof m||m<0?this.shape[0]:0|m,"number"!=typeof S||S<0?this.shape[1]:0|S,"number"!=typeof b||b<0?this.shape[2]:0|b,"number"!=typeof n||n<0?this.shape[3]:0|n,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},T.lo=function(m,S,b,n){var C=this.offset,p=0,F=this.shape[0],D=this.shape[1],N=this.shape[2],k=this.shape[3],O=this.stride[0],B=this.stride[1],z=this.stride[2],U=this.stride[3];return"number"==typeof m&&m>=0&&(C+=O*(p=0|m),F-=p),"number"==typeof S&&S>=0&&(C+=B*(p=0|S),D-=p),"number"==typeof b&&b>=0&&(C+=z*(p=0|b),N-=p),"number"==typeof n&&n>=0&&(C+=U*(p=0|n),k-=p),new M(this.data,F,D,N,k,O,B,z,U,C)},T.step=function(m,S,b,n){var C=this.shape[0],p=this.shape[1],F=this.shape[2],D=this.shape[3],N=this.stride[0],k=this.stride[1],O=this.stride[2],B=this.stride[3],z=this.offset,U=0,G=Math.ceil;return"number"==typeof m&&((U=0|m)<0?(z+=N*(C-1),C=G(-C/U)):C=G(C/U),N*=U),"number"==typeof S&&((U=0|S)<0?(z+=k*(p-1),p=G(-p/U)):p=G(p/U),k*=U),"number"==typeof b&&((U=0|b)<0?(z+=O*(F-1),F=G(-F/U)):F=G(F/U),O*=U),"number"==typeof n&&((U=0|n)<0?(z+=B*(D-1),D=G(-D/U)):D=G(D/U),B*=U),new M(this.data,C,p,F,D,N,k,O,B,z)},T.transpose=function(m,S,b,n){var C=this.shape,p=this.stride;return new M(this.data,C[m=void 0===m?0:0|m],C[S=void 0===S?1:0|S],C[b=void 0===b?2:0|b],C[n=void 0===n?3:0|n],p[m],p[S],p[b],p[n],this.offset)},T.pick=function(m,S,b,n){var C=[],p=[],F=this.offset;return"number"==typeof m&&m>=0?F=F+this.stride[0]*m|0:(C.push(this.shape[0]),p.push(this.stride[0])),"number"==typeof S&&S>=0?F=F+this.stride[1]*S|0:(C.push(this.shape[1]),p.push(this.stride[1])),"number"==typeof b&&b>=0?F=F+this.stride[2]*b|0:(C.push(this.shape[2]),p.push(this.stride[2])),"number"==typeof n&&n>=0?F=F+this.stride[3]*n|0:(C.push(this.shape[3]),p.push(this.stride[3])),(0,o[C.length+1])(this.data,C,p,F)},function(m,S,b,n){return new M(m,S[0],S[1],S[2],S[3],b[0],b[1],b[2],b[3],n)}},5:function(o,h,M){function T(m,S,b,n,C,p,F,D,N,k,O,B){this.data=m,this.shape=[S,b,n,C,p],this.stride=[F,D,N,k,O],this.offset=0|B}var L=T.prototype;return L.dtype=o,L.dimension=5,Object.defineProperty(L,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(L,"order",{get:M}),L.set=function(S,b,n,C,p,F){return"generic"===o?this.data.set(this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*n+this.stride[3]*C+this.stride[4]*p,F):this.data[this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*n+this.stride[3]*C+this.stride[4]*p]=F},L.get=function(S,b,n,C,p){return"generic"===o?this.data.get(this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*n+this.stride[3]*C+this.stride[4]*p):this.data[this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*n+this.stride[3]*C+this.stride[4]*p]},L.index=function(S,b,n,C,p){return this.offset+this.stride[0]*S+this.stride[1]*b+this.stride[2]*n+this.stride[3]*C+this.stride[4]*p},L.hi=function(S,b,n,C,p){return new T(this.data,"number"!=typeof S||S<0?this.shape[0]:0|S,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof n||n<0?this.shape[2]:0|n,"number"!=typeof C||C<0?this.shape[3]:0|C,"number"!=typeof p||p<0?this.shape[4]:0|p,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},L.lo=function(S,b,n,C,p){var F=this.offset,D=0,N=this.shape[0],k=this.shape[1],O=this.shape[2],B=this.shape[3],z=this.shape[4],U=this.stride[0],G=this.stride[1],Q=this.stride[2],rt=this.stride[3],it=this.stride[4];return"number"==typeof S&&S>=0&&(F+=U*(D=0|S),N-=D),"number"==typeof b&&b>=0&&(F+=G*(D=0|b),k-=D),"number"==typeof n&&n>=0&&(F+=Q*(D=0|n),O-=D),"number"==typeof C&&C>=0&&(F+=rt*(D=0|C),B-=D),"number"==typeof p&&p>=0&&(F+=it*(D=0|p),z-=D),new T(this.data,N,k,O,B,z,U,G,Q,rt,it,F)},L.step=function(S,b,n,C,p){var F=this.shape[0],D=this.shape[1],N=this.shape[2],k=this.shape[3],O=this.shape[4],B=this.stride[0],z=this.stride[1],U=this.stride[2],G=this.stride[3],Q=this.stride[4],rt=this.offset,it=0,ut=Math.ceil;return"number"==typeof S&&((it=0|S)<0?(rt+=B*(F-1),F=ut(-F/it)):F=ut(F/it),B*=it),"number"==typeof b&&((it=0|b)<0?(rt+=z*(D-1),D=ut(-D/it)):D=ut(D/it),z*=it),"number"==typeof n&&((it=0|n)<0?(rt+=U*(N-1),N=ut(-N/it)):N=ut(N/it),U*=it),"number"==typeof C&&((it=0|C)<0?(rt+=G*(k-1),k=ut(-k/it)):k=ut(k/it),G*=it),"number"==typeof p&&((it=0|p)<0?(rt+=Q*(O-1),O=ut(-O/it)):O=ut(O/it),Q*=it),new T(this.data,F,D,N,k,O,B,z,U,G,Q,rt)},L.transpose=function(S,b,n,C,p){var F=this.shape,D=this.stride;return new T(this.data,F[S=void 0===S?0:0|S],F[b=void 0===b?1:0|b],F[n=void 0===n?2:0|n],F[C=void 0===C?3:0|C],F[p=void 0===p?4:0|p],D[S],D[b],D[n],D[C],D[p],this.offset)},L.pick=function(S,b,n,C,p){var F=[],D=[],N=this.offset;return"number"==typeof S&&S>=0?N=N+this.stride[0]*S|0:(F.push(this.shape[0]),D.push(this.stride[0])),"number"==typeof b&&b>=0?N=N+this.stride[1]*b|0:(F.push(this.shape[1]),D.push(this.stride[1])),"number"==typeof n&&n>=0?N=N+this.stride[2]*n|0:(F.push(this.shape[2]),D.push(this.stride[2])),"number"==typeof C&&C>=0?N=N+this.stride[3]*C|0:(F.push(this.shape[3]),D.push(this.stride[3])),"number"==typeof p&&p>=0?N=N+this.stride[4]*p|0:(F.push(this.shape[4]),D.push(this.stride[4])),(0,h[F.length+1])(this.data,F,D,N)},function(S,b,n,C){return new T(S,b[0],b[1],b[2],b[3],b[4],n[0],n[1],n[2],n[3],n[4],C)}}};function u(d,o){var h=-1===o?"T":String(o),M=c[h];return-1===o?M(d):0===o?M(d,v[d][0]):M(d,v[d],s)}var v={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};l.exports=function w(d,o,h,M){if(void 0===d)return(0,v.array[0])([]);"number"==typeof d&&(d=[d]),void 0===o&&(o=[d.length]);var T=o.length;if(void 0===h){h=new Array(T);for(var L=T-1,m=1;L>=0;--L)h[L]=m,m*=o[L]}if(void 0===M)for(M=0,L=0;L<T;++L)h[L]<0&&(M-=(o[L]-1)*h[L]);for(var S=function y(d){if(r(d))return"buffer";if(f)switch(Object.prototype.toString.call(d)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(d)?"array":"generic"}(d),b=v[S];b.length<=T+1;)b.push(u(S,b.length-1));return(0,b[T+1])(d,o,h,M)}},8551:function(l,x,e){"use strict";var r=e(8362),f=Math.pow(2,-1074),a=-1>>>0;l.exports=function s(c,u){if(isNaN(c)||isNaN(u))return NaN;if(c===u)return c;if(0===c)return u<0?-f:f;var y=r.hi(c),v=r.lo(c);return u>c==c>0?v===a?(y+=1,v=0):v+=1:0===v?(v=a,y-=1):v-=1,r.pack(v,y)}},115:function(l,x){x.vertexNormals=function(f,a,s){for(var c=a.length,u=new Array(c),y=void 0===s?1e-6:s,v=0;v<c;++v)u[v]=[0,0,0];for(v=0;v<f.length;++v)for(var w=f[v],o=w[w.length-1],h=w[0],M=0;M<w.length;++M){for(var T=a[o],L=a[o=h],m=a[h=w[(M+1)%w.length]],S=new Array(3),b=0,n=new Array(3),C=0,p=0;p<3;++p)S[p]=T[p]-L[p],b+=S[p]*S[p],n[p]=m[p]-L[p],C+=n[p]*n[p];if(b*C>y){var F=u[o],D=1/Math.sqrt(b*C);for(p=0;p<3;++p){var N=(p+1)%3,k=(p+2)%3;F[p]+=D*(n[N]*S[k]-n[k]*S[N])}}}for(v=0;v<c;++v){F=u[v];var O=0;for(p=0;p<3;++p)O+=F[p]*F[p];if(O>y)for(D=1/Math.sqrt(O),p=0;p<3;++p)F[p]*=D;else for(p=0;p<3;++p)F[p]=0}return u},x.faceNormals=function(f,a,s){for(var c=f.length,u=new Array(c),y=void 0===s?1e-6:s,v=0;v<c;++v){for(var w=f[v],d=new Array(3),o=0;o<3;++o)d[o]=a[w[o]];var h=new Array(3),M=new Array(3);for(o=0;o<3;++o)h[o]=d[1][o]-d[0][o],M[o]=d[2][o]-d[0][o];var T=new Array(3),L=0;for(o=0;o<3;++o){var m=(o+1)%3,S=(o+2)%3;T[o]=h[m]*M[S]-h[S]*M[m],L+=T[o]*T[o]}for(L=L>y?1/Math.sqrt(L):0,o=0;o<3;++o)T[o]*=L;u[v]=T}return u}},567:function(l){"use strict";l.exports=function x(e,r,f,a,s,c,u,y,v,w){var d=r+c+w;if(o>0){var o=Math.sqrt(d+1);e[0]=.5*(u-v)/o,e[1]=.5*(y-a)/o,e[2]=.5*(f-c)/o,e[3]=.5*o}else{var h=Math.max(r,c,w);o=Math.sqrt(2*h-d+1),r>=h?(e[0]=.5*o,e[1]=.5*(s+f)/o,e[2]=.5*(y+a)/o,e[3]=.5*(u-v)/o):c>=h?(e[0]=.5*(f+s)/o,e[1]=.5*o,e[2]=.5*(v+u)/o,e[3]=.5*(y-a)/o):(e[0]=.5*(a+y)/o,e[1]=.5*(u+v)/o,e[2]=.5*o,e[3]=.5*(f-s)/o)}return e}},7774:function(l,x,e){"use strict";l.exports=function o(h){var M=(h=h||{}).center||[0,0,0],T=h.rotation||[0,0,0,1],L=h.radius||1;M=[].slice.call(M,0,3),v(T=[].slice.call(T,0,4),T);var m=new w(T,M,Math.log(L));return m.setDistanceLimits(h.zoomMin,h.zoomMax),("eye"in h||"up"in h)&&m.lookAt(0,h.eye,h.center,h.up),m};var r=e(8444),f=e(3012),a=e(5950),s=e(7437),c=e(567);function u(h,M,T){return Math.sqrt(Math.pow(h,2)+Math.pow(M,2)+Math.pow(T,2))}function y(h,M,T,L){return Math.sqrt(Math.pow(h,2)+Math.pow(M,2)+Math.pow(T,2)+Math.pow(L,2))}function v(h,M){var T=M[0],L=M[1],m=M[2],S=M[3],b=y(T,L,m,S);b>1e-6?(h[0]=T/b,h[1]=L/b,h[2]=m/b,h[3]=S/b):(h[0]=h[1]=h[2]=0,h[3]=1)}function w(h,M,T){this.radius=r([T]),this.center=r(M),this.rotation=r(h),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var d=w.prototype;d.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},d.recalcMatrix=function(h){this.radius.curve(h),this.center.curve(h),this.rotation.curve(h);var M=this.computedRotation;v(M,M);var T=this.computedMatrix;a(T,M);var L=this.computedCenter,m=this.computedEye,S=this.computedUp,b=Math.exp(this.computedRadius[0]);m[0]=L[0]+b*T[2],m[1]=L[1]+b*T[6],m[2]=L[2]+b*T[10],S[0]=T[1],S[1]=T[5],S[2]=T[9];for(var n=0;n<3;++n){for(var C=0,p=0;p<3;++p)C+=T[n+4*p]*m[p];T[12+n]=-C}},d.getMatrix=function(h,M){this.recalcMatrix(h);var T=this.computedMatrix;if(M){for(var L=0;L<16;++L)M[L]=T[L];return M}return T},d.idle=function(h){this.center.idle(h),this.radius.idle(h),this.rotation.idle(h)},d.flush=function(h){this.center.flush(h),this.radius.flush(h),this.rotation.flush(h)},d.pan=function(h,M,T,L){M=M||0,T=T||0,L=L||0,this.recalcMatrix(h);var m=this.computedMatrix,S=m[1],b=m[5],n=m[9],C=u(S,b,n),p=m[0],F=m[4],D=m[8],N=p*(S/=C)+F*(b/=C)+D*(n/=C),k=u(p-=S*N,F-=b*N,D-=n*N),O=m[2],B=m[6],z=m[10],U=O*S+B*b+z*n,G=O*(p/=k)+B*(F/=k)+z*(D/=k),Q=u(O-=U*S+G*p,B-=U*b+G*F,z-=U*n+G*D);O/=Q,B/=Q,z/=Q,this.center.move(h,p*M+S*T,F*M+b*T,D*M+n*T);var J=Math.exp(this.computedRadius[0]);J=Math.max(1e-4,J+L),this.radius.set(h,Math.log(J))},d.rotate=function(h,M,T,L){this.recalcMatrix(h);var m=this.computedMatrix,D=m[2],N=m[6],k=m[10],O=(M=M||0)*m[0]+(T=T||0)*m[1],B=M*m[4]+T*m[5],z=M*m[8]+T*m[9],U=-(N*z-k*B),G=-(k*O-D*z),Q=-(D*B-N*O),rt=Math.sqrt(Math.max(0,1-Math.pow(U,2)-Math.pow(G,2)-Math.pow(Q,2))),it=y(U,G,Q,rt);it>1e-6?(U/=it,G/=it,Q/=it,rt/=it):(U=G=Q=0,rt=1);var ut=this.computedRotation,J=ut[0],j=ut[1],Z=ut[2],H=ut[3],X=J*rt+H*U+j*Q-Z*G,at=j*rt+H*G+Z*U-J*Q,_=Z*rt+H*Q+J*G-j*U,K=H*rt-J*U-j*G-Z*Q;if(L){U=D,G=N,Q=k;var nt=Math.sin(L)/u(U,G,Q);U*=nt,G*=nt,Q*=nt,K=K*(rt=Math.cos(M))-(X=X*rt+K*U+at*Q-_*G)*U-(at=at*rt+K*G+_*U-X*Q)*G-(_=_*rt+K*Q+X*G-at*U)*Q}var et=y(X,at,_,K);et>1e-6?(X/=et,at/=et,_/=et,K/=et):(X=at=_=0,K=1),this.rotation.set(h,X,at,_,K)},d.lookAt=function(h,M,T,L){this.recalcMatrix(h);var m=this.computedMatrix;f(m,M=M||this.computedEye,T=T||this.computedCenter,L=L||this.computedUp);var S=this.computedRotation;c(S,m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]),v(S,S),this.rotation.set(h,S[0],S[1],S[2],S[3]);for(var b=0,n=0;n<3;++n)b+=Math.pow(T[n]-M[n],2);this.radius.set(h,.5*Math.log(Math.max(b,1e-6))),this.center.set(h,T[0],T[1],T[2])},d.translate=function(h,M,T,L){this.center.move(h,M||0,T||0,L||0)},d.setMatrix=function(h,M){var T=this.computedRotation;c(T,M[0],M[1],M[2],M[4],M[5],M[6],M[8],M[9],M[10]),v(T,T),this.rotation.set(h,T[0],T[1],T[2],T[3]);var L=this.computedMatrix;s(L,M);var m=L[15];if(Math.abs(m)>1e-6){var S=L[12]/m,b=L[13]/m,n=L[14]/m;this.recalcMatrix(h);var C=Math.exp(this.computedRadius[0]);this.center.set(h,S-L[2]*C,b-L[6]*C,n-L[10]*C),this.radius.idle(h)}else this.center.idle(h),this.radius.idle(h)},d.setDistance=function(h,M){M>0&&this.radius.set(h,Math.log(M))},d.setDistanceLimits=function(h,M){h=h>0?Math.log(h):-1/0,M=M>0?Math.log(M):1/0,M=Math.max(M,h),this.radius.bounds[0][0]=h,this.radius.bounds[1][0]=M},d.getDistanceLimits=function(h){var M=this.radius.bounds;return h?(h[0]=Math.exp(M[0][0]),h[1]=Math.exp(M[1][0]),h):[Math.exp(M[0][0]),Math.exp(M[1][0])]},d.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},d.fromJSON=function(h){var M=this.lastT(),T=h.center;T&&this.center.set(M,T[0],T[1],T[2]);var L=h.rotation;L&&this.rotation.set(M,L[0],L[1],L[2],L[3]);var m=h.distance;m&&m>0&&this.radius.set(M,Math.log(m)),this.setDistanceLimits(h.zoomMin,h.zoomMax)}},4930:function(l,x,e){"use strict";var r=e(6184);l.exports=function(a,s,c){return r(c=void 0!==c?c+"":" ",s)+a}},4405:function(l){l.exports=function(e,r){r||(r=[0,""]),e=String(e);var f=parseFloat(e,10);return r[0]=f,r[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},4166:function(l,x,e){"use strict";l.exports=function f(a,s){for(var c=0|s.length,u=a.length,y=[new Array(c),new Array(c)],v=0;v<c;++v)y[0][v]=[],y[1][v]=[];for(v=0;v<u;++v){var w=a[v];y[0][w[0]].push(w),y[1][w[1]].push(w)}var d=[];for(v=0;v<c;++v)y[0][v].length+y[1][v].length===0&&d.push([v]);function o(n,C){var p=y[C][n[C]];p.splice(p.indexOf(n),1)}function h(n,C,p){for(var F,D,N,k=0;k<2;++k)if(y[k][C].length>0){F=y[k][C][0],N=k;break}D=F[1^N];for(var O=0;O<2;++O)for(var B=y[O][C],z=0;z<B.length;++z){var U=B[z],G=U[1^O];r(s[n],s[C],s[D],s[G])>0&&(F=U,D=G,N=O)}return p||F&&o(F,N),D}function M(n,C){var p=y[C][n][0],F=[n];o(p,C);for(var D=p[1^C];;){for(;D!==n;)F.push(D),D=h(F[F.length-2],D,!1);if(y[0][n].length+y[1][n].length===0)break;var k=F[F.length-1],O=n,B=F[1],z=h(k,O,!0);if(r(s[k],s[O],s[B],s[z])<0)break;F.push(n),D=h(k,O)}return F}for(v=0;v<c;++v)for(var L=0;L<2;++L){for(var m=[];y[L][v].length>0;){var b=M(v,L);(C=b)[1]===C[C.length-1]?m.push.apply(m,b):(m.length>0&&d.push(m),m=b)}m.length>0&&d.push(m)}var C;return d};var r=e(9398)},3959:function(l,x,e){"use strict";l.exports=function f(a,s){for(var c=r(a,s.length),u=new Array(s.length),y=new Array(s.length),v=[],w=0;w<s.length;++w){var d=c[w].length;y[w]=d,u[w]=!0,d<=1&&v.push(w)}for(;v.length>0;){u[o=v.pop()]=!1;var h=c[o];for(w=0;w<h.length;++w){var M=h[w];0==--y[M]&&v.push(M)}}var T=new Array(s.length),L=[];for(w=0;w<s.length;++w)if(u[w]){var o;T[w]=o=L.length,L.push(s[w])}else T[w]=-1;var m=[];for(w=0;w<a.length;++w){var S=a[w];u[S[0]]&&u[S[1]]&&m.push([T[S[0]],T[S[1]]])}return[m,L]};var r=e(8348)},8040:function(l,x,e){"use strict";l.exports=function d(o,h){o=(nt=y(o,h))[0];for(var M=(h=nt[1]).length,L=r(o,h.length),m=0;m<M;++m)if(L[m].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var S=f(o,h);var n=(S=S.filter(function b(Ft){for(var Mt=Ft.length,wt=[0],St=0;St<Mt;++St){var Ut=h[Ft[St]],Gt=h[Ft[(St+1)%Mt]],Pt=s(-Ut[0],Ut[1]),Vt=s(-Ut[0],Gt[1]),te=s(Gt[0],Ut[1]),_t=s(Gt[0],Gt[1]);wt=c(wt,c(c(Pt,Vt),c(te,_t)))}return wt[wt.length-1]>0})).length,C=new Array(n),p=new Array(n);for(m=0;m<n;++m){C[m]=m;var F=new Array(n),D=S[m].map(function(Mt){return h[Mt]}),N=a([D]),k=0;t:for(var O=0;O<n;++O)if(F[O]=0,m!==O){for(var z=(B=S[O]).length,U=0;U<z;++U){var G=N(h[B[U]]);if(0!==G){G<0&&(F[O]=1,k+=1);continue t}}F[O]=1,k+=1}p[m]=[k,m,F]}for(p.sort(function(Ft,Mt){return Mt[0]-Ft[0]}),m=0;m<n;++m){var Q=(F=p[m])[1],rt=F[2];for(O=0;O<n;++O)rt[O]&&(C[O]=Q)}var it=function w(o){for(var h=new Array(o),M=0;M<o;++M)h[M]=[];return h}(n);for(m=0;m<n;++m)it[m].push(C[m]),it[C[m]].push(m);var ut={},J=v(M,!1);for(m=0;m<n;++m)for(z=(B=S[m]).length,O=0;O<z;++O){var j=B[O],Z=B[(O+1)%z],H=Math.min(j,Z)+":"+Math.max(j,Z);if(H in ut){var X=ut[H];it[X].push(m),it[m].push(X),J[j]=J[Z]=!0}else ut[H]=m}function at(Ft){for(var Mt=Ft.length,wt=0;wt<Mt;++wt)if(!J[Ft[wt]])return!1;return!0}var _=[],K=v(n,-1);for(m=0;m<n;++m)C[m]!==m||at(S[m])?K[m]=-1:(_.push(m),K[m]=0);for(var nt=[];_.length>0;){var et=_.pop(),st=it[et];u(st,function(Ft,Mt){return Ft-Mt});var bt,dt=st.length,Tt=K[et];for(0===Tt&&(bt=[B=S[et]]),m=0;m<dt;++m){var B,Dt=st[m];K[Dt]>=0||(K[Dt]=1^Tt,_.push(Dt),0!==Tt)||at(B=S[Dt])||(B.reverse(),bt.push(B))}0===Tt&&nt.push(bt)}return nt};var r=e(8348),f=e(4166),a=e(211),s=e(9660),c=e(9662),u=e(1215),y=e(3959);function v(o,h){for(var M=new Array(o),T=0;T<o;++T)M[T]=h;return M}},211:function(l,x,e){l.exports=function h(M){for(var T=M.length,L=[],m=[],b=0;b<T;++b)for(var n=M[b],C=n.length,p=C-1,F=0;F<C;p=F++){var D=n[p],N=n[F];D[0]===N[0]?m.push([D,N]):L.push([D,N])}if(0===L.length)return 0===m.length?w:function d(M){return function(L){return M(L[0],L[1])?0:1}}(y(m));var k=f(L),O=function v(M,T){return function(L){var m=s.le(T,L[0]);if(m<0)return 1;var S=M[m];if(!S){if(!(m>0&&T[m]===L[0]))return 1;S=M[m-1]}for(var b=1;S;){var n=S.key,C=r(L,n[0],n[1]);if(n[0][0]<n[1][0])if(C<0)S=S.left;else{if(!(C>0))return 0;b=-1,S=S.right}else if(C>0)S=S.left;else{if(!(C<0))return 0;b=1,S=S.right}}return b}}(k.slabs,k.coordinates);return 0===m.length?O:function o(M,T){return function(m){return M(m[0],m[1])?0:T(m)}}(y(m),O)};var r=e(417)[3],f=e(4385),a=e(9014),s=e(5070);function c(){return!0}function y(M){for(var T={},L=0;L<M.length;++L){var m=M[L],S=m[0][0],b=m[0][1],n=m[1][1],C=[Math.min(b,n),Math.max(b,n)];S in T?T[S].push(C):T[S]=[C]}var p={},F=Object.keys(T);for(L=0;L<F.length;++L)p[F[L]]=a(T[F[L]]);return function u(M){return function(T,L){var m=M[T];return!!m&&!!m.queryPoint(L,c)}}(p)}function w(M){return 1}},7309:function(l){"use strict";var x=new Float64Array(4),e=new Float64Array(4),r=new Float64Array(4);l.exports=function f(a,s,c,u,y){x.length<u.length&&(x=new Float64Array(u.length),e=new Float64Array(u.length),r=new Float64Array(u.length));for(var v=0;v<u.length;++v)x[v]=a[v]-u[v],e[v]=s[v]-a[v],r[v]=c[v]-a[v];var w=0,d=0,o=0,h=0,M=0,T=0;for(v=0;v<u.length;++v){var L=e[v],m=r[v],S=x[v];w+=L*L,d+=L*m,o+=m*m,h+=S*L,M+=S*m,T+=S*S}var p,D,N,k,O,b=Math.abs(w*o-d*d),n=d*M-o*h,C=d*h-w*M;if(n+C<=b)if(n<0)C<0&&h<0?(C=0,-h>=w?(n=1,p=w+2*h+T):p=h*(n=-h/w)+T):(n=0,M>=0?(C=0,p=T):-M>=o?(C=1,p=o+2*M+T):p=M*(C=-M/o)+T);else if(C<0)C=0,h>=0?(n=0,p=T):-h>=w?(n=1,p=w+2*h+T):p=h*(n=-h/w)+T;else{var F=1/b;p=(n*=F)*(w*n+d*(C*=F)+2*h)+C*(d*n+o*C+2*M)+T}else n<0?(N=o+M)>(D=d+h)?(k=N-D)>=(O=w-2*d+o)?(n=1,C=0,p=w+2*h+T):p=(n=k/O)*(w*n+d*(C=1-n)+2*h)+C*(d*n+o*C+2*M)+T:(n=0,N<=0?(C=1,p=o+2*M+T):M>=0?(C=0,p=T):p=M*(C=-M/o)+T):C<0?(N=w+h)>(D=d+M)?(k=N-D)>=(O=w-2*d+o)?(C=1,n=0,p=o+2*M+T):p=(n=1-(C=k/O))*(w*n+d*C+2*h)+C*(d*n+o*C+2*M)+T:(C=0,N<=0?(n=1,p=w+2*h+T):h>=0?(n=0,p=T):p=h*(n=-h/w)+T):(k=o+M-d-h)<=0?(n=0,C=1,p=o+2*M+T):k>=(O=w-2*d+o)?(n=1,C=0,p=w+2*h+T):p=(n=k/O)*(w*n+d*(C=1-n)+2*h)+C*(d*n+o*C+2*M)+T;var B=1-n-C;for(v=0;v<u.length;++v)y[v]=B*a[v]+n*s[v]+C*c[v];return p<0?0:p}},1116:function(l,x,e){l.exports=e(6093)},7584:function(l,x,e){"use strict";var r=e(1539);l.exports=function f(a,s){for(var c=a.length,u=new Array(c),y=0;y<c;++y)u[y]=r(a[y],s[y]);return u}},2826:function(l,x,e){"use strict";l.exports=function f(a){for(var s=new Array(a.length),c=0;c<a.length;++c)s[c]=r(a[c]);return s};var r=e(5125)},4469:function(l,x,e){"use strict";var r=e(5125),f=e(3962);l.exports=function a(s,c){for(var u=r(c),y=s.length,v=new Array(y),w=0;w<y;++w)v[w]=f(s[w],u);return v}},6695:function(l,x,e){"use strict";var r=e(4354);l.exports=function f(a,s){for(var c=a.length,u=new Array(c),y=0;y<c;++y)u[y]=r(a[y],s[y]);return u}},7037:function(l,x,e){"use strict";var r=e(9209),f=e(1284),a=e(9887);l.exports=function s(c){c.sort(f);for(var u=c.length,y=0,v=0;v<u;++v){var w=c[v],d=a(w);if(0!==d){if(y>0){var o=c[y-1];if(0===r(w,o)&&a(o)!==d){y-=1;continue}}c[y++]=w}}return c.length=y,c}},6184:function(l){"use strict";var e,x="";l.exports=function r(f,a){if("string"!=typeof f)throw new TypeError("expected a string");if(1===a)return f;if(2===a)return f+f;var s=f.length*a;if(e!==f||void 0===e)e=f,x="";else if(x.length>=s)return x.substr(0,s);for(;s>x.length&&a>1;)1&a&&(x+=f),a>>=1,f+=f;return x=(x+=f).substr(0,s)}},8161:function(l,x,e){l.exports=e.g.performance&&e.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(l){"use strict";l.exports=function x(e){for(var r=e.length,f=e[e.length-1],a=r,s=r-2;s>=0;--s)(v=(u=e[s])-((f=(c=f)+u)-c))&&(e[--a]=f,f=v);var w=0;for(s=a;s<r;++s){var c,u,v;(v=(u=f)-((f=(c=e[s])+u)-c))&&(e[w++]=v)}return e[w++]=f,e.length=w,e}},8167:function(l,x,e){"use strict";var r=e(9660),f=e(9662),a=e(8289),s=e(402);function u(T,L,m,S){return function(n){return S(T(m(n[0][0],n[1][1]),m(-n[0][1],n[1][0])))}}function y(T,L,m,S){return function(n){return S(T(L(T(m(n[1][1],n[2][2]),m(-n[1][2],n[2][1])),n[0][0]),T(L(T(m(n[1][0],n[2][2]),m(-n[1][2],n[2][0])),-n[0][1]),L(T(m(n[1][0],n[2][1]),m(-n[1][1],n[2][0])),n[0][2]))))}}function v(T,L,m,S){return function(n){return S(T(T(L(T(L(T(m(n[2][2],n[3][3]),m(-n[2][3],n[3][2])),n[1][1]),T(L(T(m(n[2][1],n[3][3]),m(-n[2][3],n[3][1])),-n[1][2]),L(T(m(n[2][1],n[3][2]),m(-n[2][2],n[3][1])),n[1][3]))),n[0][0]),L(T(L(T(m(n[2][2],n[3][3]),m(-n[2][3],n[3][2])),n[1][0]),T(L(T(m(n[2][0],n[3][3]),m(-n[2][3],n[3][0])),-n[1][2]),L(T(m(n[2][0],n[3][2]),m(-n[2][2],n[3][0])),n[1][3]))),-n[0][1])),T(L(T(L(T(m(n[2][1],n[3][3]),m(-n[2][3],n[3][1])),n[1][0]),T(L(T(m(n[2][0],n[3][3]),m(-n[2][3],n[3][0])),-n[1][1]),L(T(m(n[2][0],n[3][1]),m(-n[2][1],n[3][0])),n[1][3]))),n[0][2]),L(T(L(T(m(n[2][1],n[3][2]),m(-n[2][2],n[3][1])),n[1][0]),T(L(T(m(n[2][0],n[3][2]),m(-n[2][2],n[3][0])),-n[1][1]),L(T(m(n[2][0],n[3][1]),m(-n[2][1],n[3][0])),n[1][2]))),-n[0][3]))))}}function w(T,L,m,S){return function(n){return S(T(T(L(T(T(L(T(L(T(m(n[3][3],n[4][4]),m(-n[3][4],n[4][3])),n[2][2]),T(L(T(m(n[3][2],n[4][4]),m(-n[3][4],n[4][2])),-n[2][3]),L(T(m(n[3][2],n[4][3]),m(-n[3][3],n[4][2])),n[2][4]))),n[1][1]),L(T(L(T(m(n[3][3],n[4][4]),m(-n[3][4],n[4][3])),n[2][1]),T(L(T(m(n[3][1],n[4][4]),m(-n[3][4],n[4][1])),-n[2][3]),L(T(m(n[3][1],n[4][3]),m(-n[3][3],n[4][1])),n[2][4]))),-n[1][2])),T(L(T(L(T(m(n[3][2],n[4][4]),m(-n[3][4],n[4][2])),n[2][1]),T(L(T(m(n[3][1],n[4][4]),m(-n[3][4],n[4][1])),-n[2][2]),L(T(m(n[3][1],n[4][2]),m(-n[3][2],n[4][1])),n[2][4]))),n[1][3]),L(T(L(T(m(n[3][2],n[4][3]),m(-n[3][3],n[4][2])),n[2][1]),T(L(T(m(n[3][1],n[4][3]),m(-n[3][3],n[4][1])),-n[2][2]),L(T(m(n[3][1],n[4][2]),m(-n[3][2],n[4][1])),n[2][3]))),-n[1][4]))),n[0][0]),L(T(T(L(T(L(T(m(n[3][3],n[4][4]),m(-n[3][4],n[4][3])),n[2][2]),T(L(T(m(n[3][2],n[4][4]),m(-n[3][4],n[4][2])),-n[2][3]),L(T(m(n[3][2],n[4][3]),m(-n[3][3],n[4][2])),n[2][4]))),n[1][0]),L(T(L(T(m(n[3][3],n[4][4]),m(-n[3][4],n[4][3])),n[2][0]),T(L(T(m(n[3][0],n[4][4]),m(-n[3][4],n[4][0])),-n[2][3]),L(T(m(n[3][0],n[4][3]),m(-n[3][3],n[4][0])),n[2][4]))),-n[1][2])),T(L(T(L(T(m(n[3][2],n[4][4]),m(-n[3][4],n[4][2])),n[2][0]),T(L(T(m(n[3][0],n[4][4]),m(-n[3][4],n[4][0])),-n[2][2]),L(T(m(n[3][0],n[4][2]),m(-n[3][2],n[4][0])),n[2][4]))),n[1][3]),L(T(L(T(m(n[3][2],n[4][3]),m(-n[3][3],n[4][2])),n[2][0]),T(L(T(m(n[3][0],n[4][3]),m(-n[3][3],n[4][0])),-n[2][2]),L(T(m(n[3][0],n[4][2]),m(-n[3][2],n[4][0])),n[2][3]))),-n[1][4]))),-n[0][1])),T(L(T(T(L(T(L(T(m(n[3][3],n[4][4]),m(-n[3][4],n[4][3])),n[2][1]),T(L(T(m(n[3][1],n[4][4]),m(-n[3][4],n[4][1])),-n[2][3]),L(T(m(n[3][1],n[4][3]),m(-n[3][3],n[4][1])),n[2][4]))),n[1][0]),L(T(L(T(m(n[3][3],n[4][4]),m(-n[3][4],n[4][3])),n[2][0]),T(L(T(m(n[3][0],n[4][4]),m(-n[3][4],n[4][0])),-n[2][3]),L(T(m(n[3][0],n[4][3]),m(-n[3][3],n[4][0])),n[2][4]))),-n[1][1])),T(L(T(L(T(m(n[3][1],n[4][4]),m(-n[3][4],n[4][1])),n[2][0]),T(L(T(m(n[3][0],n[4][4]),m(-n[3][4],n[4][0])),-n[2][1]),L(T(m(n[3][0],n[4][1]),m(-n[3][1],n[4][0])),n[2][4]))),n[1][3]),L(T(L(T(m(n[3][1],n[4][3]),m(-n[3][3],n[4][1])),n[2][0]),T(L(T(m(n[3][0],n[4][3]),m(-n[3][3],n[4][0])),-n[2][1]),L(T(m(n[3][0],n[4][1]),m(-n[3][1],n[4][0])),n[2][3]))),-n[1][4]))),n[0][2]),T(L(T(T(L(T(L(T(m(n[3][2],n[4][4]),m(-n[3][4],n[4][2])),n[2][1]),T(L(T(m(n[3][1],n[4][4]),m(-n[3][4],n[4][1])),-n[2][2]),L(T(m(n[3][1],n[4][2]),m(-n[3][2],n[4][1])),n[2][4]))),n[1][0]),L(T(L(T(m(n[3][2],n[4][4]),m(-n[3][4],n[4][2])),n[2][0]),T(L(T(m(n[3][0],n[4][4]),m(-n[3][4],n[4][0])),-n[2][2]),L(T(m(n[3][0],n[4][2]),m(-n[3][2],n[4][0])),n[2][4]))),-n[1][1])),T(L(T(L(T(m(n[3][1],n[4][4]),m(-n[3][4],n[4][1])),n[2][0]),T(L(T(m(n[3][0],n[4][4]),m(-n[3][4],n[4][0])),-n[2][1]),L(T(m(n[3][0],n[4][1]),m(-n[3][1],n[4][0])),n[2][4]))),n[1][2]),L(T(L(T(m(n[3][1],n[4][2]),m(-n[3][2],n[4][1])),n[2][0]),T(L(T(m(n[3][0],n[4][2]),m(-n[3][2],n[4][0])),-n[2][1]),L(T(m(n[3][0],n[4][1]),m(-n[3][1],n[4][0])),n[2][2]))),-n[1][4]))),-n[0][3]),L(T(T(L(T(L(T(m(n[3][2],n[4][3]),m(-n[3][3],n[4][2])),n[2][1]),T(L(T(m(n[3][1],n[4][3]),m(-n[3][3],n[4][1])),-n[2][2]),L(T(m(n[3][1],n[4][2]),m(-n[3][2],n[4][1])),n[2][3]))),n[1][0]),L(T(L(T(m(n[3][2],n[4][3]),m(-n[3][3],n[4][2])),n[2][0]),T(L(T(m(n[3][0],n[4][3]),m(-n[3][3],n[4][0])),-n[2][2]),L(T(m(n[3][0],n[4][2]),m(-n[3][2],n[4][0])),n[2][3]))),-n[1][1])),T(L(T(L(T(m(n[3][1],n[4][3]),m(-n[3][3],n[4][1])),n[2][0]),T(L(T(m(n[3][0],n[4][3]),m(-n[3][3],n[4][0])),-n[2][1]),L(T(m(n[3][0],n[4][1]),m(-n[3][1],n[4][0])),n[2][3]))),n[1][2]),L(T(L(T(m(n[3][1],n[4][2]),m(-n[3][2],n[4][1])),n[2][0]),T(L(T(m(n[3][0],n[4][2]),m(-n[3][2],n[4][0])),-n[2][1]),L(T(m(n[3][0],n[4][1]),m(-n[3][1],n[4][0])),n[2][2]))),-n[1][3]))),n[0][4])))))}}function d(T){return(2===T?u:3===T?y:4===T?v:5===T?w:void 0)(f,a,r,s)}var o=[function(){return[0]},function(L){return[L[0][0]]}];function h(T,L,m,S,b,n,C,p){return function(D){switch(D.length){case 0:return T(D);case 1:return L(D);case 2:return m(D);case 3:return S(D);case 4:return b(D);case 5:return n(D)}var N=C[D.length];return N||(N=C[D.length]=p(D.length)),N(D)}}!function M(){for(;o.length<6;)o.push(d(o.length));l.exports=h.apply(void 0,o.concat([o,d]));for(var T=0;T<o.length;++T)l.exports[T]=o[T]}()},9130:function(l,x,e){"use strict";var r=e(9660),f=e(9662);l.exports=function a(s,c){for(var u=r(s[0],c[0]),y=1;y<s.length;++y)u=f(u,r(s[y],c[y]));return u}},2227:function(l,x,e){"use strict";var r=e(9660),f=e(9662),a=e(4078),s=e(8289);function u(b){return(3===b?d:4===b?o:5===b?h:M)(f,a,r,s)}function d(b,n,C,p){return function F(D,N,k){var O=C(D[0],D[0]),B=p(O,N[0]),z=p(O,k[0]),U=C(N[0],N[0]),G=p(U,D[0]),Q=p(U,k[0]),rt=C(k[0],k[0]),it=p(rt,D[0]),ut=p(rt,N[0]),J=b(n(ut,Q),n(G,B)),j=n(it,z),Z=n(J,j);return Z[Z.length-1]}}function o(b,n,C,p){return function F(D,N,k,O){var B=b(C(D[0],D[0]),C(D[1],D[1])),z=p(B,N[0]),U=p(B,k[0]),G=p(B,O[0]),Q=b(C(N[0],N[0]),C(N[1],N[1])),rt=p(Q,D[0]),it=p(Q,k[0]),ut=p(Q,O[0]),J=b(C(k[0],k[0]),C(k[1],k[1])),j=p(J,D[0]),Z=p(J,N[0]),H=p(J,O[0]),X=b(C(O[0],O[0]),C(O[1],O[1])),at=p(X,D[0]),_=p(X,N[0]),K=p(X,k[0]),nt=b(b(p(n(K,H),N[1]),b(p(n(_,ut),-k[1]),p(n(Z,it),O[1]))),b(p(n(_,ut),D[1]),b(p(n(at,G),-N[1]),p(n(rt,z),O[1])))),et=b(b(p(n(K,H),D[1]),b(p(n(at,G),-k[1]),p(n(j,U),O[1]))),b(p(n(Z,it),D[1]),b(p(n(j,U),-N[1]),p(n(rt,z),k[1])))),st=n(nt,et);return st[st.length-1]}}function h(b,n,C,p){return function F(D,N,k,O,B){var z=b(C(D[0],D[0]),b(C(D[1],D[1]),C(D[2],D[2]))),U=p(z,N[0]),G=p(z,k[0]),Q=p(z,O[0]),rt=p(z,B[0]),it=b(C(N[0],N[0]),b(C(N[1],N[1]),C(N[2],N[2]))),ut=p(it,D[0]),J=p(it,k[0]),j=p(it,O[0]),Z=p(it,B[0]),H=b(C(k[0],k[0]),b(C(k[1],k[1]),C(k[2],k[2]))),X=p(H,D[0]),at=p(H,N[0]),_=p(H,O[0]),K=p(H,B[0]),nt=b(C(O[0],O[0]),b(C(O[1],O[1]),C(O[2],O[2]))),et=p(nt,D[0]),st=p(nt,N[0]),dt=p(nt,k[0]),Tt=p(nt,B[0]),bt=b(C(B[0],B[0]),b(C(B[1],B[1]),C(B[2],B[2]))),Dt=p(bt,D[0]),Ft=p(bt,N[0]),Mt=p(bt,k[0]),wt=p(bt,O[0]),St=b(b(b(p(b(p(n(wt,Tt),k[1]),b(p(n(Mt,K),-O[1]),p(n(dt,_),B[1]))),N[2]),b(p(b(p(n(wt,Tt),N[1]),b(p(n(Ft,Z),-O[1]),p(n(st,j),B[1]))),-k[2]),p(b(p(n(Mt,K),N[1]),b(p(n(Ft,Z),-k[1]),p(n(at,J),B[1]))),O[2]))),b(p(b(p(n(dt,_),N[1]),b(p(n(st,j),-k[1]),p(n(at,J),O[1]))),-B[2]),b(p(b(p(n(wt,Tt),N[1]),b(p(n(Ft,Z),-O[1]),p(n(st,j),B[1]))),D[2]),p(b(p(n(wt,Tt),D[1]),b(p(n(Dt,rt),-O[1]),p(n(et,Q),B[1]))),-N[2])))),b(b(p(b(p(n(Ft,Z),D[1]),b(p(n(Dt,rt),-N[1]),p(n(ut,U),B[1]))),O[2]),b(p(b(p(n(st,j),D[1]),b(p(n(et,Q),-N[1]),p(n(ut,U),O[1]))),-B[2]),p(b(p(n(dt,_),N[1]),b(p(n(st,j),-k[1]),p(n(at,J),O[1]))),D[2]))),b(p(b(p(n(dt,_),D[1]),b(p(n(et,Q),-k[1]),p(n(X,G),O[1]))),-N[2]),b(p(b(p(n(st,j),D[1]),b(p(n(et,Q),-N[1]),p(n(ut,U),O[1]))),k[2]),p(b(p(n(at,J),D[1]),b(p(n(X,G),-N[1]),p(n(ut,U),k[1]))),-O[2]))))),Ut=b(b(b(p(b(p(n(wt,Tt),k[1]),b(p(n(Mt,K),-O[1]),p(n(dt,_),B[1]))),D[2]),p(b(p(n(wt,Tt),D[1]),b(p(n(Dt,rt),-O[1]),p(n(et,Q),B[1]))),-k[2])),b(p(b(p(n(Mt,K),D[1]),b(p(n(Dt,rt),-k[1]),p(n(X,G),B[1]))),O[2]),p(b(p(n(dt,_),D[1]),b(p(n(et,Q),-k[1]),p(n(X,G),O[1]))),-B[2]))),b(b(p(b(p(n(Mt,K),N[1]),b(p(n(Ft,Z),-k[1]),p(n(at,J),B[1]))),D[2]),p(b(p(n(Mt,K),D[1]),b(p(n(Dt,rt),-k[1]),p(n(X,G),B[1]))),-N[2])),b(p(b(p(n(Ft,Z),D[1]),b(p(n(Dt,rt),-N[1]),p(n(ut,U),B[1]))),k[2]),p(b(p(n(at,J),D[1]),b(p(n(X,G),-N[1]),p(n(ut,U),k[1]))),-B[2])))),Gt=n(St,Ut);return Gt[Gt.length-1]}}function M(b,n,C,p){return function F(D,N,k,O,B,z){var U=b(b(C(D[0],D[0]),C(D[1],D[1])),b(C(D[2],D[2]),C(D[3],D[3]))),G=p(U,N[0]),Q=p(U,k[0]),rt=p(U,O[0]),it=p(U,B[0]),ut=p(U,z[0]),J=b(b(C(N[0],N[0]),C(N[1],N[1])),b(C(N[2],N[2]),C(N[3],N[3]))),j=p(J,D[0]),Z=p(J,k[0]),H=p(J,O[0]),X=p(J,B[0]),at=p(J,z[0]),_=b(b(C(k[0],k[0]),C(k[1],k[1])),b(C(k[2],k[2]),C(k[3],k[3]))),K=p(_,D[0]),nt=p(_,N[0]),et=p(_,O[0]),st=p(_,B[0]),dt=p(_,z[0]),Tt=b(b(C(O[0],O[0]),C(O[1],O[1])),b(C(O[2],O[2]),C(O[3],O[3]))),bt=p(Tt,D[0]),Dt=p(Tt,N[0]),Ft=p(Tt,k[0]),Mt=p(Tt,B[0]),wt=p(Tt,z[0]),St=b(b(C(B[0],B[0]),C(B[1],B[1])),b(C(B[2],B[2]),C(B[3],B[3]))),Ut=p(St,D[0]),Gt=p(St,N[0]),Pt=p(St,k[0]),Vt=p(St,O[0]),te=p(St,z[0]),_t=b(b(C(z[0],z[0]),C(z[1],z[1])),b(C(z[2],z[2]),C(z[3],z[3]))),kt=p(_t,D[0]),zt=p(_t,N[0]),qt=p(_t,k[0]),ae=p(_t,O[0]),oe=p(_t,B[0]),pe=b(b(b(p(b(b(p(b(p(n(oe,te),O[1]),b(p(n(ae,wt),-B[1]),p(n(Vt,Mt),z[1]))),k[2]),p(b(p(n(oe,te),k[1]),b(p(n(qt,dt),-B[1]),p(n(Pt,st),z[1]))),-O[2])),b(p(b(p(n(ae,wt),k[1]),b(p(n(qt,dt),-O[1]),p(n(Ft,et),z[1]))),B[2]),p(b(p(n(Vt,Mt),k[1]),b(p(n(Pt,st),-O[1]),p(n(Ft,et),B[1]))),-z[2]))),N[3]),b(p(b(b(p(b(p(n(oe,te),O[1]),b(p(n(ae,wt),-B[1]),p(n(Vt,Mt),z[1]))),N[2]),p(b(p(n(oe,te),N[1]),b(p(n(zt,at),-B[1]),p(n(Gt,X),z[1]))),-O[2])),b(p(b(p(n(ae,wt),N[1]),b(p(n(zt,at),-O[1]),p(n(Dt,H),z[1]))),B[2]),p(b(p(n(Vt,Mt),N[1]),b(p(n(Gt,X),-O[1]),p(n(Dt,H),B[1]))),-z[2]))),-k[3]),p(b(b(p(b(p(n(oe,te),k[1]),b(p(n(qt,dt),-B[1]),p(n(Pt,st),z[1]))),N[2]),p(b(p(n(oe,te),N[1]),b(p(n(zt,at),-B[1]),p(n(Gt,X),z[1]))),-k[2])),b(p(b(p(n(qt,dt),N[1]),b(p(n(zt,at),-k[1]),p(n(nt,Z),z[1]))),B[2]),p(b(p(n(Pt,st),N[1]),b(p(n(Gt,X),-k[1]),p(n(nt,Z),B[1]))),-z[2]))),O[3]))),b(b(p(b(b(p(b(p(n(ae,wt),k[1]),b(p(n(qt,dt),-O[1]),p(n(Ft,et),z[1]))),N[2]),p(b(p(n(ae,wt),N[1]),b(p(n(zt,at),-O[1]),p(n(Dt,H),z[1]))),-k[2])),b(p(b(p(n(qt,dt),N[1]),b(p(n(zt,at),-k[1]),p(n(nt,Z),z[1]))),O[2]),p(b(p(n(Ft,et),N[1]),b(p(n(Dt,H),-k[1]),p(n(nt,Z),O[1]))),-z[2]))),-B[3]),p(b(b(p(b(p(n(Vt,Mt),k[1]),b(p(n(Pt,st),-O[1]),p(n(Ft,et),B[1]))),N[2]),p(b(p(n(Vt,Mt),N[1]),b(p(n(Gt,X),-O[1]),p(n(Dt,H),B[1]))),-k[2])),b(p(b(p(n(Pt,st),N[1]),b(p(n(Gt,X),-k[1]),p(n(nt,Z),B[1]))),O[2]),p(b(p(n(Ft,et),N[1]),b(p(n(Dt,H),-k[1]),p(n(nt,Z),O[1]))),-B[2]))),z[3])),b(p(b(b(p(b(p(n(oe,te),O[1]),b(p(n(ae,wt),-B[1]),p(n(Vt,Mt),z[1]))),N[2]),p(b(p(n(oe,te),N[1]),b(p(n(zt,at),-B[1]),p(n(Gt,X),z[1]))),-O[2])),b(p(b(p(n(ae,wt),N[1]),b(p(n(zt,at),-O[1]),p(n(Dt,H),z[1]))),B[2]),p(b(p(n(Vt,Mt),N[1]),b(p(n(Gt,X),-O[1]),p(n(Dt,H),B[1]))),-z[2]))),D[3]),p(b(b(p(b(p(n(oe,te),O[1]),b(p(n(ae,wt),-B[1]),p(n(Vt,Mt),z[1]))),D[2]),p(b(p(n(oe,te),D[1]),b(p(n(kt,ut),-B[1]),p(n(Ut,it),z[1]))),-O[2])),b(p(b(p(n(ae,wt),D[1]),b(p(n(kt,ut),-O[1]),p(n(bt,rt),z[1]))),B[2]),p(b(p(n(Vt,Mt),D[1]),b(p(n(Ut,it),-O[1]),p(n(bt,rt),B[1]))),-z[2]))),-N[3])))),b(b(b(p(b(b(p(b(p(n(oe,te),N[1]),b(p(n(zt,at),-B[1]),p(n(Gt,X),z[1]))),D[2]),p(b(p(n(oe,te),D[1]),b(p(n(kt,ut),-B[1]),p(n(Ut,it),z[1]))),-N[2])),b(p(b(p(n(zt,at),D[1]),b(p(n(kt,ut),-N[1]),p(n(j,G),z[1]))),B[2]),p(b(p(n(Gt,X),D[1]),b(p(n(Ut,it),-N[1]),p(n(j,G),B[1]))),-z[2]))),O[3]),p(b(b(p(b(p(n(ae,wt),N[1]),b(p(n(zt,at),-O[1]),p(n(Dt,H),z[1]))),D[2]),p(b(p(n(ae,wt),D[1]),b(p(n(kt,ut),-O[1]),p(n(bt,rt),z[1]))),-N[2])),b(p(b(p(n(zt,at),D[1]),b(p(n(kt,ut),-N[1]),p(n(j,G),z[1]))),O[2]),p(b(p(n(Dt,H),D[1]),b(p(n(bt,rt),-N[1]),p(n(j,G),O[1]))),-z[2]))),-B[3])),b(p(b(b(p(b(p(n(Vt,Mt),N[1]),b(p(n(Gt,X),-O[1]),p(n(Dt,H),B[1]))),D[2]),p(b(p(n(Vt,Mt),D[1]),b(p(n(Ut,it),-O[1]),p(n(bt,rt),B[1]))),-N[2])),b(p(b(p(n(Gt,X),D[1]),b(p(n(Ut,it),-N[1]),p(n(j,G),B[1]))),O[2]),p(b(p(n(Dt,H),D[1]),b(p(n(bt,rt),-N[1]),p(n(j,G),O[1]))),-B[2]))),z[3]),p(b(b(p(b(p(n(ae,wt),k[1]),b(p(n(qt,dt),-O[1]),p(n(Ft,et),z[1]))),N[2]),p(b(p(n(ae,wt),N[1]),b(p(n(zt,at),-O[1]),p(n(Dt,H),z[1]))),-k[2])),b(p(b(p(n(qt,dt),N[1]),b(p(n(zt,at),-k[1]),p(n(nt,Z),z[1]))),O[2]),p(b(p(n(Ft,et),N[1]),b(p(n(Dt,H),-k[1]),p(n(nt,Z),O[1]))),-z[2]))),D[3]))),b(b(p(b(b(p(b(p(n(ae,wt),k[1]),b(p(n(qt,dt),-O[1]),p(n(Ft,et),z[1]))),D[2]),p(b(p(n(ae,wt),D[1]),b(p(n(kt,ut),-O[1]),p(n(bt,rt),z[1]))),-k[2])),b(p(b(p(n(qt,dt),D[1]),b(p(n(kt,ut),-k[1]),p(n(K,Q),z[1]))),O[2]),p(b(p(n(Ft,et),D[1]),b(p(n(bt,rt),-k[1]),p(n(K,Q),O[1]))),-z[2]))),-N[3]),p(b(b(p(b(p(n(ae,wt),N[1]),b(p(n(zt,at),-O[1]),p(n(Dt,H),z[1]))),D[2]),p(b(p(n(ae,wt),D[1]),b(p(n(kt,ut),-O[1]),p(n(bt,rt),z[1]))),-N[2])),b(p(b(p(n(zt,at),D[1]),b(p(n(kt,ut),-N[1]),p(n(j,G),z[1]))),O[2]),p(b(p(n(Dt,H),D[1]),b(p(n(bt,rt),-N[1]),p(n(j,G),O[1]))),-z[2]))),k[3])),b(p(b(b(p(b(p(n(qt,dt),N[1]),b(p(n(zt,at),-k[1]),p(n(nt,Z),z[1]))),D[2]),p(b(p(n(qt,dt),D[1]),b(p(n(kt,ut),-k[1]),p(n(K,Q),z[1]))),-N[2])),b(p(b(p(n(zt,at),D[1]),b(p(n(kt,ut),-N[1]),p(n(j,G),z[1]))),k[2]),p(b(p(n(nt,Z),D[1]),b(p(n(K,Q),-N[1]),p(n(j,G),k[1]))),-z[2]))),-O[3]),p(b(b(p(b(p(n(Ft,et),N[1]),b(p(n(Dt,H),-k[1]),p(n(nt,Z),O[1]))),D[2]),p(b(p(n(Ft,et),D[1]),b(p(n(bt,rt),-k[1]),p(n(K,Q),O[1]))),-N[2])),b(p(b(p(n(Dt,H),D[1]),b(p(n(bt,rt),-N[1]),p(n(j,G),O[1]))),k[2]),p(b(p(n(nt,Z),D[1]),b(p(n(K,Q),-N[1]),p(n(j,G),k[1]))),-O[2]))),z[3]))))),ye=b(b(b(p(b(b(p(b(p(n(oe,te),O[1]),b(p(n(ae,wt),-B[1]),p(n(Vt,Mt),z[1]))),k[2]),p(b(p(n(oe,te),k[1]),b(p(n(qt,dt),-B[1]),p(n(Pt,st),z[1]))),-O[2])),b(p(b(p(n(ae,wt),k[1]),b(p(n(qt,dt),-O[1]),p(n(Ft,et),z[1]))),B[2]),p(b(p(n(Vt,Mt),k[1]),b(p(n(Pt,st),-O[1]),p(n(Ft,et),B[1]))),-z[2]))),D[3]),b(p(b(b(p(b(p(n(oe,te),O[1]),b(p(n(ae,wt),-B[1]),p(n(Vt,Mt),z[1]))),D[2]),p(b(p(n(oe,te),D[1]),b(p(n(kt,ut),-B[1]),p(n(Ut,it),z[1]))),-O[2])),b(p(b(p(n(ae,wt),D[1]),b(p(n(kt,ut),-O[1]),p(n(bt,rt),z[1]))),B[2]),p(b(p(n(Vt,Mt),D[1]),b(p(n(Ut,it),-O[1]),p(n(bt,rt),B[1]))),-z[2]))),-k[3]),p(b(b(p(b(p(n(oe,te),k[1]),b(p(n(qt,dt),-B[1]),p(n(Pt,st),z[1]))),D[2]),p(b(p(n(oe,te),D[1]),b(p(n(kt,ut),-B[1]),p(n(Ut,it),z[1]))),-k[2])),b(p(b(p(n(qt,dt),D[1]),b(p(n(kt,ut),-k[1]),p(n(K,Q),z[1]))),B[2]),p(b(p(n(Pt,st),D[1]),b(p(n(Ut,it),-k[1]),p(n(K,Q),B[1]))),-z[2]))),O[3]))),b(b(p(b(b(p(b(p(n(ae,wt),k[1]),b(p(n(qt,dt),-O[1]),p(n(Ft,et),z[1]))),D[2]),p(b(p(n(ae,wt),D[1]),b(p(n(kt,ut),-O[1]),p(n(bt,rt),z[1]))),-k[2])),b(p(b(p(n(qt,dt),D[1]),b(p(n(kt,ut),-k[1]),p(n(K,Q),z[1]))),O[2]),p(b(p(n(Ft,et),D[1]),b(p(n(bt,rt),-k[1]),p(n(K,Q),O[1]))),-z[2]))),-B[3]),p(b(b(p(b(p(n(Vt,Mt),k[1]),b(p(n(Pt,st),-O[1]),p(n(Ft,et),B[1]))),D[2]),p(b(p(n(Vt,Mt),D[1]),b(p(n(Ut,it),-O[1]),p(n(bt,rt),B[1]))),-k[2])),b(p(b(p(n(Pt,st),D[1]),b(p(n(Ut,it),-k[1]),p(n(K,Q),B[1]))),O[2]),p(b(p(n(Ft,et),D[1]),b(p(n(bt,rt),-k[1]),p(n(K,Q),O[1]))),-B[2]))),z[3])),b(p(b(b(p(b(p(n(oe,te),k[1]),b(p(n(qt,dt),-B[1]),p(n(Pt,st),z[1]))),N[2]),p(b(p(n(oe,te),N[1]),b(p(n(zt,at),-B[1]),p(n(Gt,X),z[1]))),-k[2])),b(p(b(p(n(qt,dt),N[1]),b(p(n(zt,at),-k[1]),p(n(nt,Z),z[1]))),B[2]),p(b(p(n(Pt,st),N[1]),b(p(n(Gt,X),-k[1]),p(n(nt,Z),B[1]))),-z[2]))),D[3]),p(b(b(p(b(p(n(oe,te),k[1]),b(p(n(qt,dt),-B[1]),p(n(Pt,st),z[1]))),D[2]),p(b(p(n(oe,te),D[1]),b(p(n(kt,ut),-B[1]),p(n(Ut,it),z[1]))),-k[2])),b(p(b(p(n(qt,dt),D[1]),b(p(n(kt,ut),-k[1]),p(n(K,Q),z[1]))),B[2]),p(b(p(n(Pt,st),D[1]),b(p(n(Ut,it),-k[1]),p(n(K,Q),B[1]))),-z[2]))),-N[3])))),b(b(b(p(b(b(p(b(p(n(oe,te),N[1]),b(p(n(zt,at),-B[1]),p(n(Gt,X),z[1]))),D[2]),p(b(p(n(oe,te),D[1]),b(p(n(kt,ut),-B[1]),p(n(Ut,it),z[1]))),-N[2])),b(p(b(p(n(zt,at),D[1]),b(p(n(kt,ut),-N[1]),p(n(j,G),z[1]))),B[2]),p(b(p(n(Gt,X),D[1]),b(p(n(Ut,it),-N[1]),p(n(j,G),B[1]))),-z[2]))),k[3]),p(b(b(p(b(p(n(qt,dt),N[1]),b(p(n(zt,at),-k[1]),p(n(nt,Z),z[1]))),D[2]),p(b(p(n(qt,dt),D[1]),b(p(n(kt,ut),-k[1]),p(n(K,Q),z[1]))),-N[2])),b(p(b(p(n(zt,at),D[1]),b(p(n(kt,ut),-N[1]),p(n(j,G),z[1]))),k[2]),p(b(p(n(nt,Z),D[1]),b(p(n(K,Q),-N[1]),p(n(j,G),k[1]))),-z[2]))),-B[3])),b(p(b(b(p(b(p(n(Pt,st),N[1]),b(p(n(Gt,X),-k[1]),p(n(nt,Z),B[1]))),D[2]),p(b(p(n(Pt,st),D[1]),b(p(n(Ut,it),-k[1]),p(n(K,Q),B[1]))),-N[2])),b(p(b(p(n(Gt,X),D[1]),b(p(n(Ut,it),-N[1]),p(n(j,G),B[1]))),k[2]),p(b(p(n(nt,Z),D[1]),b(p(n(K,Q),-N[1]),p(n(j,G),k[1]))),-B[2]))),z[3]),p(b(b(p(b(p(n(Vt,Mt),k[1]),b(p(n(Pt,st),-O[1]),p(n(Ft,et),B[1]))),N[2]),p(b(p(n(Vt,Mt),N[1]),b(p(n(Gt,X),-O[1]),p(n(Dt,H),B[1]))),-k[2])),b(p(b(p(n(Pt,st),N[1]),b(p(n(Gt,X),-k[1]),p(n(nt,Z),B[1]))),O[2]),p(b(p(n(Ft,et),N[1]),b(p(n(Dt,H),-k[1]),p(n(nt,Z),O[1]))),-B[2]))),D[3]))),b(b(p(b(b(p(b(p(n(Vt,Mt),k[1]),b(p(n(Pt,st),-O[1]),p(n(Ft,et),B[1]))),D[2]),p(b(p(n(Vt,Mt),D[1]),b(p(n(Ut,it),-O[1]),p(n(bt,rt),B[1]))),-k[2])),b(p(b(p(n(Pt,st),D[1]),b(p(n(Ut,it),-k[1]),p(n(K,Q),B[1]))),O[2]),p(b(p(n(Ft,et),D[1]),b(p(n(bt,rt),-k[1]),p(n(K,Q),O[1]))),-B[2]))),-N[3]),p(b(b(p(b(p(n(Vt,Mt),N[1]),b(p(n(Gt,X),-O[1]),p(n(Dt,H),B[1]))),D[2]),p(b(p(n(Vt,Mt),D[1]),b(p(n(Ut,it),-O[1]),p(n(bt,rt),B[1]))),-N[2])),b(p(b(p(n(Gt,X),D[1]),b(p(n(Ut,it),-N[1]),p(n(j,G),B[1]))),O[2]),p(b(p(n(Dt,H),D[1]),b(p(n(bt,rt),-N[1]),p(n(j,G),O[1]))),-B[2]))),k[3])),b(p(b(b(p(b(p(n(Pt,st),N[1]),b(p(n(Gt,X),-k[1]),p(n(nt,Z),B[1]))),D[2]),p(b(p(n(Pt,st),D[1]),b(p(n(Ut,it),-k[1]),p(n(K,Q),B[1]))),-N[2])),b(p(b(p(n(Gt,X),D[1]),b(p(n(Ut,it),-N[1]),p(n(j,G),B[1]))),k[2]),p(b(p(n(nt,Z),D[1]),b(p(n(K,Q),-N[1]),p(n(j,G),k[1]))),-B[2]))),-O[3]),p(b(b(p(b(p(n(Ft,et),N[1]),b(p(n(Dt,H),-k[1]),p(n(nt,Z),O[1]))),D[2]),p(b(p(n(Ft,et),D[1]),b(p(n(bt,rt),-k[1]),p(n(K,Q),O[1]))),-N[2])),b(p(b(p(n(Dt,H),D[1]),b(p(n(bt,rt),-N[1]),p(n(j,G),O[1]))),k[2]),p(b(p(n(nt,Z),D[1]),b(p(n(K,Q),-N[1]),p(n(j,G),k[1]))),-O[2]))),B[3]))))),Fe=n(pe,ye);return Fe[Fe.length-1]}}var T=[function y(){return 0},function v(){return 0},function w(){return 0}];function L(b){var n=T[b.length];return n||(n=T[b.length]=u(b.length)),n.apply(void 0,b)}function m(b,n,C,p,F,D,N,k){return function O(B,z,U,G,Q,rt){switch(arguments.length){case 0:case 1:return 0;case 2:return p(B,z);case 3:return F(B,z,U);case 4:return D(B,z,U,G);case 5:return N(B,z,U,G,Q);case 6:return k(B,z,U,G,Q,rt)}for(var it=new Array(arguments.length),ut=0;ut<arguments.length;++ut)it[ut]=arguments[ut];return b(it)}}!function S(){for(;T.length<=6;)T.push(u(T.length));l.exports=m.apply(void 0,[L].concat(T));for(var b=0;b<=6;++b)l.exports[b]=T[b]}()},6606:function(l,x,e){"use strict";var r=e(8167);function a(T){return(2===T?u:3===T?y:4===T?v:5===T?w:d)(T<6?r[T]:r)}function u(T){return function(m,S){return[T([[+S[0],+m[0][1]],[+S[1],+m[1][1]]]),T([[+m[0][0],+S[0]],[+m[1][0],+S[1]]]),T(m)]}}function y(T){return function(m,S){return[T([[+S[0],+m[0][1],+m[0][2]],[+S[1],+m[1][1],+m[1][2]],[+S[2],+m[2][1],+m[2][2]]]),T([[+m[0][0],+S[0],+m[0][2]],[+m[1][0],+S[1],+m[1][2]],[+m[2][0],+S[2],+m[2][2]]]),T([[+m[0][0],+m[0][1],+S[0]],[+m[1][0],+m[1][1],+S[1]],[+m[2][0],+m[2][1],+S[2]]]),T(m)]}}function v(T){return function(m,S){return[T([[+S[0],+m[0][1],+m[0][2],+m[0][3]],[+S[1],+m[1][1],+m[1][2],+m[1][3]],[+S[2],+m[2][1],+m[2][2],+m[2][3]],[+S[3],+m[3][1],+m[3][2],+m[3][3]]]),T([[+m[0][0],+S[0],+m[0][2],+m[0][3]],[+m[1][0],+S[1],+m[1][2],+m[1][3]],[+m[2][0],+S[2],+m[2][2],+m[2][3]],[+m[3][0],+S[3],+m[3][2],+m[3][3]]]),T([[+m[0][0],+m[0][1],+S[0],+m[0][3]],[+m[1][0],+m[1][1],+S[1],+m[1][3]],[+m[2][0],+m[2][1],+S[2],+m[2][3]],[+m[3][0],+m[3][1],+S[3],+m[3][3]]]),T([[+m[0][0],+m[0][1],+m[0][2],+S[0]],[+m[1][0],+m[1][1],+m[1][2],+S[1]],[+m[2][0],+m[2][1],+m[2][2],+S[2]],[+m[3][0],+m[3][1],+m[3][2],+S[3]]]),T(m)]}}function w(T){return function(m,S){return[T([[+S[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4]],[+S[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4]],[+S[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4]],[+S[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4]],[+S[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4]]]),T([[+m[0][0],+S[0],+m[0][2],+m[0][3],+m[0][4]],[+m[1][0],+S[1],+m[1][2],+m[1][3],+m[1][4]],[+m[2][0],+S[2],+m[2][2],+m[2][3],+m[2][4]],[+m[3][0],+S[3],+m[3][2],+m[3][3],+m[3][4]],[+m[4][0],+S[4],+m[4][2],+m[4][3],+m[4][4]]]),T([[+m[0][0],+m[0][1],+S[0],+m[0][3],+m[0][4]],[+m[1][0],+m[1][1],+S[1],+m[1][3],+m[1][4]],[+m[2][0],+m[2][1],+S[2],+m[2][3],+m[2][4]],[+m[3][0],+m[3][1],+S[3],+m[3][3],+m[3][4]],[+m[4][0],+m[4][1],+S[4],+m[4][3],+m[4][4]]]),T([[+m[0][0],+m[0][1],+m[0][2],+S[0],+m[0][4]],[+m[1][0],+m[1][1],+m[1][2],+S[1],+m[1][4]],[+m[2][0],+m[2][1],+m[2][2],+S[2],+m[2][4]],[+m[3][0],+m[3][1],+m[3][2],+S[3],+m[3][4]],[+m[4][0],+m[4][1],+m[4][2],+S[4],+m[4][4]]]),T([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+S[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+S[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+S[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+S[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+S[4]]]),T(m)]}}function d(T){return function(m,S){return[T([[+S[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+S[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+S[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+S[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+S[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+S[5],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),T([[+m[0][0],+S[0],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+S[1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+S[2],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+S[3],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+S[4],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+S[5],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),T([[+m[0][0],+m[0][1],+S[0],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+S[1],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+S[2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+S[3],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+S[4],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+S[5],+m[5][3],+m[5][4],+m[5][5]]]),T([[+m[0][0],+m[0][1],+m[0][2],+S[0],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+S[1],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+S[2],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+S[3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+S[4],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+S[5],+m[5][4],+m[5][5]]]),T([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+S[0],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+S[1],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+S[2],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+S[3],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+S[4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+S[5],+m[5][5]]]),T([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+S[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+S[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+S[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+S[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+S[4]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+S[5]]]),T(m)]}}var o=[function s(){return[[0]]},function c(T,L){return[[L[0]],[T[0][0]]]}];function h(T,L,m,S,b,n,C,p){return function(D,N){switch(D.length){case 0:return T(D,N);case 1:return L(D,N);case 2:return m(D,N);case 3:return S(D,N);case 4:return b(D,N);case 5:return n(D,N)}var k=C[D.length];return k||(k=C[D.length]=p(D.length)),k(D,N)}}!function M(){for(;o.length<6;)o.push(a(o.length));l.exports=h.apply(void 0,o.concat([o,a]));for(var T=0;T<6;++T)l.exports[T]=o[T]}()},417:function(l,x,e){"use strict";var r=e(9660),f=e(9662),a=e(8289),s=e(4078);function w(n,C,p,F){return function(N,k,O){var B=n(n(C(k[1],O[0]),C(-O[1],k[0])),n(C(N[1],k[0]),C(-k[1],N[0]))),z=n(C(N[1],O[0]),C(-O[1],N[0])),U=F(B,z);return U[U.length-1]}}function d(n,C,p,F){return function(N,k,O,B){var z=n(n(p(n(C(O[1],B[0]),C(-B[1],O[0])),k[2]),n(p(n(C(k[1],B[0]),C(-B[1],k[0])),-O[2]),p(n(C(k[1],O[0]),C(-O[1],k[0])),B[2]))),n(p(n(C(k[1],B[0]),C(-B[1],k[0])),N[2]),n(p(n(C(N[1],B[0]),C(-B[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),B[2])))),U=n(n(p(n(C(O[1],B[0]),C(-B[1],O[0])),N[2]),n(p(n(C(N[1],B[0]),C(-B[1],N[0])),-O[2]),p(n(C(N[1],O[0]),C(-O[1],N[0])),B[2]))),n(p(n(C(k[1],O[0]),C(-O[1],k[0])),N[2]),n(p(n(C(N[1],O[0]),C(-O[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),O[2])))),G=F(z,U);return G[G.length-1]}}function o(n,C,p,F){return function(N,k,O,B,z){var U=n(n(n(p(n(p(n(C(B[1],z[0]),C(-z[1],B[0])),O[2]),n(p(n(C(O[1],z[0]),C(-z[1],O[0])),-B[2]),p(n(C(O[1],B[0]),C(-B[1],O[0])),z[2]))),k[3]),n(p(n(p(n(C(B[1],z[0]),C(-z[1],B[0])),k[2]),n(p(n(C(k[1],z[0]),C(-z[1],k[0])),-B[2]),p(n(C(k[1],B[0]),C(-B[1],k[0])),z[2]))),-O[3]),p(n(p(n(C(O[1],z[0]),C(-z[1],O[0])),k[2]),n(p(n(C(k[1],z[0]),C(-z[1],k[0])),-O[2]),p(n(C(k[1],O[0]),C(-O[1],k[0])),z[2]))),B[3]))),n(p(n(p(n(C(O[1],B[0]),C(-B[1],O[0])),k[2]),n(p(n(C(k[1],B[0]),C(-B[1],k[0])),-O[2]),p(n(C(k[1],O[0]),C(-O[1],k[0])),B[2]))),-z[3]),n(p(n(p(n(C(B[1],z[0]),C(-z[1],B[0])),k[2]),n(p(n(C(k[1],z[0]),C(-z[1],k[0])),-B[2]),p(n(C(k[1],B[0]),C(-B[1],k[0])),z[2]))),N[3]),p(n(p(n(C(B[1],z[0]),C(-z[1],B[0])),N[2]),n(p(n(C(N[1],z[0]),C(-z[1],N[0])),-B[2]),p(n(C(N[1],B[0]),C(-B[1],N[0])),z[2]))),-k[3])))),n(n(p(n(p(n(C(k[1],z[0]),C(-z[1],k[0])),N[2]),n(p(n(C(N[1],z[0]),C(-z[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),z[2]))),B[3]),n(p(n(p(n(C(k[1],B[0]),C(-B[1],k[0])),N[2]),n(p(n(C(N[1],B[0]),C(-B[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),B[2]))),-z[3]),p(n(p(n(C(O[1],B[0]),C(-B[1],O[0])),k[2]),n(p(n(C(k[1],B[0]),C(-B[1],k[0])),-O[2]),p(n(C(k[1],O[0]),C(-O[1],k[0])),B[2]))),N[3]))),n(p(n(p(n(C(O[1],B[0]),C(-B[1],O[0])),N[2]),n(p(n(C(N[1],B[0]),C(-B[1],N[0])),-O[2]),p(n(C(N[1],O[0]),C(-O[1],N[0])),B[2]))),-k[3]),n(p(n(p(n(C(k[1],B[0]),C(-B[1],k[0])),N[2]),n(p(n(C(N[1],B[0]),C(-B[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),B[2]))),O[3]),p(n(p(n(C(k[1],O[0]),C(-O[1],k[0])),N[2]),n(p(n(C(N[1],O[0]),C(-O[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),O[2]))),-B[3]))))),G=n(n(n(p(n(p(n(C(B[1],z[0]),C(-z[1],B[0])),O[2]),n(p(n(C(O[1],z[0]),C(-z[1],O[0])),-B[2]),p(n(C(O[1],B[0]),C(-B[1],O[0])),z[2]))),N[3]),p(n(p(n(C(B[1],z[0]),C(-z[1],B[0])),N[2]),n(p(n(C(N[1],z[0]),C(-z[1],N[0])),-B[2]),p(n(C(N[1],B[0]),C(-B[1],N[0])),z[2]))),-O[3])),n(p(n(p(n(C(O[1],z[0]),C(-z[1],O[0])),N[2]),n(p(n(C(N[1],z[0]),C(-z[1],N[0])),-O[2]),p(n(C(N[1],O[0]),C(-O[1],N[0])),z[2]))),B[3]),p(n(p(n(C(O[1],B[0]),C(-B[1],O[0])),N[2]),n(p(n(C(N[1],B[0]),C(-B[1],N[0])),-O[2]),p(n(C(N[1],O[0]),C(-O[1],N[0])),B[2]))),-z[3]))),n(n(p(n(p(n(C(O[1],z[0]),C(-z[1],O[0])),k[2]),n(p(n(C(k[1],z[0]),C(-z[1],k[0])),-O[2]),p(n(C(k[1],O[0]),C(-O[1],k[0])),z[2]))),N[3]),p(n(p(n(C(O[1],z[0]),C(-z[1],O[0])),N[2]),n(p(n(C(N[1],z[0]),C(-z[1],N[0])),-O[2]),p(n(C(N[1],O[0]),C(-O[1],N[0])),z[2]))),-k[3])),n(p(n(p(n(C(k[1],z[0]),C(-z[1],k[0])),N[2]),n(p(n(C(N[1],z[0]),C(-z[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),z[2]))),O[3]),p(n(p(n(C(k[1],O[0]),C(-O[1],k[0])),N[2]),n(p(n(C(N[1],O[0]),C(-O[1],N[0])),-k[2]),p(n(C(N[1],k[0]),C(-k[1],N[0])),O[2]))),-z[3])))),Q=F(U,G);return Q[Q.length-1]}}function h(n){return(3===n?w:4===n?d:o)(f,r,a,s)}var M=h(3),T=h(4),L=[function(){return 0},function(){return 0},function(C,p){return p[0]-C[0]},function(C,p,F){var O,D=(C[1]-F[1])*(p[0]-F[0]),N=(C[0]-F[0])*(p[1]-F[1]),k=D-N;if(D>0){if(N<=0)return k;O=D+N}else{if(!(D<0))return k;if(N>=0)return k;O=-(D+N)}var B=33306690738754716e-32*O;return k>=B||k<=-B?k:M(C,p,F)},function(C,p,F,D){var N=C[0]-D[0],k=p[0]-D[0],O=F[0]-D[0],B=C[1]-D[1],z=p[1]-D[1],U=F[1]-D[1],G=C[2]-D[2],Q=p[2]-D[2],rt=F[2]-D[2],it=k*U,ut=O*z,J=O*B,j=N*U,Z=N*z,H=k*B,X=G*(it-ut)+Q*(J-j)+rt*(Z-H),_=7771561172376103e-31*((Math.abs(it)+Math.abs(ut))*Math.abs(G)+(Math.abs(J)+Math.abs(j))*Math.abs(Q)+(Math.abs(Z)+Math.abs(H))*Math.abs(rt));return X>_||-X>_?X:T(C,p,F,D)}];function m(n){var C=L[n.length];return C||(C=L[n.length]=h(n.length)),C.apply(void 0,n)}function S(n,C,p,F,D,N,k){return function(B,z,U,G,Q){switch(arguments.length){case 0:case 1:return 0;case 2:return F(B,z);case 3:return D(B,z,U);case 4:return N(B,z,U,G);case 5:return k(B,z,U,G,Q)}for(var rt=new Array(arguments.length),it=0;it<arguments.length;++it)rt[it]=arguments[it];return n(rt)}}!function b(){for(;L.length<=5;)L.push(h(L.length));l.exports=S.apply(void 0,[m].concat(L));for(var n=0;n<=5;++n)l.exports[n]=L[n]}()},2019:function(l,x,e){"use strict";var r=e(9662),f=e(8289);l.exports=function a(s,c){if(1===s.length)return f(c,s[0]);if(1===c.length)return f(s,c[0]);if(0===s.length||0===c.length)return[0];var u=[0];if(s.length<c.length)for(var y=0;y<s.length;++y)u=r(u,f(c,s[y]));else for(y=0;y<c.length;++y)u=r(u,f(s,c[y]));return u}},8289:function(l,x,e){"use strict";var r=e(9660),f=e(87);l.exports=function a(s,c){var u=s.length;if(1===u){var y=r(s[0],c);return y[0]?y:[y[1]]}var v=new Array(2*u),w=[.1,.1],d=[.1,.1],o=0;r(s[0],c,w),w[0]&&(v[o++]=w[0]);for(var h=1;h<u;++h){r(s[h],c,d),f(w[1],d[0],w),w[0]&&(v[o++]=w[0]);var T=d[1],L=w[1],m=T+L,b=L-(m-T);w[1]=m,b&&(v[o++]=b)}return w[1]&&(v[o++]=w[1]),0===o&&(v[o++]=0),v.length=o,v}},4434:function(l,x,e){"use strict";l.exports=function a(s,c,u,y){var v=r(s,u,y),w=r(c,u,y);if(v>0&&w>0||v<0&&w<0)return!1;var d=r(u,s,c),o=r(y,s,c);return!(d>0&&o>0||d<0&&o<0)&&(0!==v||0!==w||0!==d||0!==o||function f(s,c,u,y){for(var v=0;v<2;++v){var w=s[v],d=c[v],o=Math.min(w,d),h=Math.max(w,d),M=u[v],T=y[v],L=Math.min(M,T);if(Math.max(M,T)<o||h<L)return!1}return!0}(s,c,u,y))};var r=e(417)[3]},4078:function(l){"use strict";l.exports=function e(r,f){var a=0|r.length,s=0|f.length;if(1===a&&1===s)return function x(r,f){var a=r+f,s=a-r,v=r-(a-s)+(f-s);return v?[v,a]:[a]}(r[0],-f[0]);var L,m,u=new Array(a+s),y=0,v=0,w=0,d=Math.abs,o=r[v],h=d(o),M=-f[w],T=d(M);h<T?(m=o,(v+=1)<a&&(h=d(o=r[v]))):(m=M,(w+=1)<s&&(T=d(M=-f[w]))),v<a&&h<T||w>=s?(L=o,(v+=1)<a&&(h=d(o=r[v]))):(L=M,(w+=1)<s&&(T=d(M=-f[w])));for(var F,D,S=L+m,b=S-L,n=m-b,C=n,p=S;v<a&&w<s;)h<T?(L=o,(v+=1)<a&&(h=d(o=r[v]))):(L=M,(w+=1)<s&&(T=d(M=-f[w]))),(n=(m=C)-(b=(S=L+m)-L))&&(u[y++]=n),C=p-((F=p+S)-(D=F-p))+(S-D),p=F;for(;v<a;)(n=(m=C)-(b=(S=(L=o)+m)-L))&&(u[y++]=n),C=p-((F=p+S)-(D=F-p))+(S-D),p=F,(v+=1)<a&&(o=r[v]);for(;w<s;)(n=(m=C)-(b=(S=(L=M)+m)-L))&&(u[y++]=n),C=p-((F=p+S)-(D=F-p))+(S-D),p=F,(w+=1)<s&&(M=-f[w]);return C&&(u[y++]=C),p&&(u[y++]=p),y||(u[y++]=0),u.length=y,u}},9662:function(l){"use strict";l.exports=function e(r,f){var a=0|r.length,s=0|f.length;if(1===a&&1===s)return function x(r,f){var a=r+f,s=a-r,v=r-(a-s)+(f-s);return v?[v,a]:[a]}(r[0],f[0]);var L,m,u=new Array(a+s),y=0,v=0,w=0,d=Math.abs,o=r[v],h=d(o),M=f[w],T=d(M);h<T?(m=o,(v+=1)<a&&(h=d(o=r[v]))):(m=M,(w+=1)<s&&(T=d(M=f[w]))),v<a&&h<T||w>=s?(L=o,(v+=1)<a&&(h=d(o=r[v]))):(L=M,(w+=1)<s&&(T=d(M=f[w])));for(var F,D,S=L+m,b=S-L,n=m-b,C=n,p=S;v<a&&w<s;)h<T?(L=o,(v+=1)<a&&(h=d(o=r[v]))):(L=M,(w+=1)<s&&(T=d(M=f[w]))),(n=(m=C)-(b=(S=L+m)-L))&&(u[y++]=n),C=p-((F=p+S)-(D=F-p))+(S-D),p=F;for(;v<a;)(n=(m=C)-(b=(S=(L=o)+m)-L))&&(u[y++]=n),C=p-((F=p+S)-(D=F-p))+(S-D),p=F,(v+=1)<a&&(o=r[v]);for(;w<s;)(n=(m=C)-(b=(S=(L=M)+m)-L))&&(u[y++]=n),C=p-((F=p+S)-(D=F-p))+(S-D),p=F,(w+=1)<s&&(M=f[w]);return C&&(u[y++]=C),p&&(u[y++]=p),y||(u[y++]=0),u.length=y,u}},8691:function(l,x,e){"use strict";l.exports=function a(s){return f(r(s))};var r=e(2692),f=e(7037)},7212:function(l,x,e){"use strict";l.exports=function o(h,M,T,L){if(T=T||0,void 0===L&&(L=function c(h){for(var M=h.length,T=0,L=0;L<M;++L)T=0|Math.max(T,h[L].length);return T-1}(h)),0===h.length||L<1)return{cells:[],vertexIds:[],vertexWeights:[]};var S=function u(h,M){for(var T=h.length,L=f.mallocUint8(T),m=0;m<T;++m)L[m]=h[m]<M|0;return L}(M,+T),b=function y(h,M){for(var T=h.length,m=f.mallocUint32(2*(M*(M+1)/2*T|0)),S=0,b=0;b<T;++b)for(var n=h[b],C=(M=n.length,0);C<M;++C)for(var p=0;p<C;++p){var F=n[p],D=n[C];m[S++]=0|Math.min(F,D),m[S++]=0|Math.max(F,D)}a(r(m,[S/2|0,2]));var k=2;for(b=2;b<S;b+=2)m[b-2]===m[b]&&m[b-1]===m[b+1]||(m[k++]=m[b],m[k++]=m[b+1]);return r(m,[k/2|0,2])}(h,L),n=function v(h,M,T,L){for(var m=h.data,S=h.shape[0],b=f.mallocDouble(S),n=0,C=0;C<S;++C){var p=m[2*C],F=m[2*C+1];if(T[p]!==T[F]){var D=M[p],N=M[F];m[2*n]=p,m[2*n+1]=F,b[n++]=(N-L)/(N-D)}}return h.shape[0]=n,r(b,[n])}(b,M,S,+T),C=function w(h,M){var T=f.mallocInt32(2*M),L=h.shape[0],m=h.data;T[0]=0;for(var S=0,b=0;b<L;++b){var n=m[2*b];if(n!==S){for(T[2*S+1]=b;++S<n;)T[2*S]=b,T[2*S+1]=b;T[2*S]=b}}for(T[2*S+1]=L;++S<M;)T[2*S]=T[2*S+1]=L;return T}(b,0|M.length),p=s(L)(h,b.data,C,S),F=function d(h){for(var M=0|h.shape[0],T=h.data,L=new Array(M),m=0;m<M;++m)L[m]=[T[2*m],T[2*m+1]];return L}(b),D=[].slice.call(n.data,0,n.shape[0]);return f.free(S),f.free(b.data),f.free(n.data),f.free(C),{cells:p,vertexIds:F,vertexWeights:D}};var r=e(5050),f=e(5306),a=e(8729),s=e(1168)},1168:function(l){"use strict";l.exports=function e(r){return x[r]()};var x=[function(){return function a(s,c,u,y){for(var v=s.length,d=0;d<v;++d);return[]}},function(){function f(s,c,u,y){for(var v=0|Math.min(u,y),w=0|Math.max(u,y),d=s[2*v],o=s[2*v+1];d<o;){var h=d+o>>1,M=c[2*h+1];if(M===w)return h;w<M?o=h:d=h+1}return d}return function a(s,c,u,y){for(var v=s.length,w=[],d=0;d<v;++d){var o=s[d];if(2===o.length){var M=(y[o[0]]<<0)+(y[o[1]]<<1);if(0===M||3===M)continue;switch(M){case 0:case 3:break;case 1:w.push([f(u,c,o[0],o[1])]);break;case 2:w.push([f(u,c,o[1],o[0])])}}}return w}},function(){function f(s,c,u,y){for(var v=0|Math.min(u,y),w=0|Math.max(u,y),d=s[2*v],o=s[2*v+1];d<o;){var h=d+o>>1,M=c[2*h+1];if(M===w)return h;w<M?o=h:d=h+1}return d}return function a(s,c,u,y){for(var v=s.length,w=[],d=0;d<v;++d){var o=s[d],h=o.length;if(3===h){if(0==(M=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2))||7===M)continue;switch(M){case 0:case 7:break;case 1:w.push([f(u,c,o[0],o[2]),f(u,c,o[0],o[1])]);break;case 2:w.push([f(u,c,o[1],o[0]),f(u,c,o[1],o[2])]);break;case 3:w.push([f(u,c,o[0],o[2]),f(u,c,o[1],o[2])]);break;case 4:w.push([f(u,c,o[2],o[1]),f(u,c,o[2],o[0])]);break;case 5:w.push([f(u,c,o[2],o[1]),f(u,c,o[0],o[1])]);break;case 6:w.push([f(u,c,o[1],o[0]),f(u,c,o[2],o[0])])}}else if(2===h){var M;if(0==(M=(y[o[0]]<<0)+(y[o[1]]<<1))||3===M)continue;switch(M){case 0:case 3:break;case 1:w.push([f(u,c,o[0],o[1])]);break;case 2:w.push([f(u,c,o[1],o[0])])}}}return w}},function(){function f(s,c,u,y){for(var v=0|Math.min(u,y),w=0|Math.max(u,y),d=s[2*v],o=s[2*v+1];d<o;){var h=d+o>>1,M=c[2*h+1];if(M===w)return h;w<M?o=h:d=h+1}return d}return function a(s,c,u,y){for(var v=s.length,w=[],d=0;d<v;++d){var o=s[d],h=o.length;if(4===h){if(0==(M=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2)+(y[o[3]]<<3))||15===M)continue;switch(M){case 0:case 15:break;case 1:w.push([f(u,c,o[0],o[1]),f(u,c,o[0],o[2]),f(u,c,o[0],o[3])]);break;case 2:w.push([f(u,c,o[1],o[2]),f(u,c,o[1],o[0]),f(u,c,o[1],o[3])]);break;case 3:w.push([f(u,c,o[1],o[2]),f(u,c,o[0],o[2]),f(u,c,o[0],o[3])],[f(u,c,o[1],o[3]),f(u,c,o[1],o[2]),f(u,c,o[0],o[3])]);break;case 4:w.push([f(u,c,o[2],o[0]),f(u,c,o[2],o[1]),f(u,c,o[2],o[3])]);break;case 5:w.push([f(u,c,o[0],o[1]),f(u,c,o[2],o[1]),f(u,c,o[0],o[3])],[f(u,c,o[2],o[1]),f(u,c,o[2],o[3]),f(u,c,o[0],o[3])]);break;case 6:w.push([f(u,c,o[2],o[0]),f(u,c,o[1],o[0]),f(u,c,o[1],o[3])],[f(u,c,o[2],o[3]),f(u,c,o[2],o[0]),f(u,c,o[1],o[3])]);break;case 7:w.push([f(u,c,o[0],o[3]),f(u,c,o[1],o[3]),f(u,c,o[2],o[3])]);break;case 8:w.push([f(u,c,o[3],o[1]),f(u,c,o[3],o[0]),f(u,c,o[3],o[2])]);break;case 9:w.push([f(u,c,o[3],o[1]),f(u,c,o[0],o[1]),f(u,c,o[0],o[2])],[f(u,c,o[3],o[2]),f(u,c,o[3],o[1]),f(u,c,o[0],o[2])]);break;case 10:w.push([f(u,c,o[1],o[0]),f(u,c,o[3],o[0]),f(u,c,o[1],o[2])],[f(u,c,o[3],o[0]),f(u,c,o[3],o[2]),f(u,c,o[1],o[2])]);break;case 11:w.push([f(u,c,o[1],o[2]),f(u,c,o[0],o[2]),f(u,c,o[3],o[2])]);break;case 12:w.push([f(u,c,o[3],o[0]),f(u,c,o[2],o[0]),f(u,c,o[2],o[1])],[f(u,c,o[3],o[1]),f(u,c,o[3],o[0]),f(u,c,o[2],o[1])]);break;case 13:w.push([f(u,c,o[0],o[1]),f(u,c,o[2],o[1]),f(u,c,o[3],o[1])]);break;case 14:w.push([f(u,c,o[2],o[0]),f(u,c,o[1],o[0]),f(u,c,o[3],o[0])])}}else if(3===h){if(0==(M=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2))||7===M)continue;switch(M){case 0:case 7:break;case 1:w.push([f(u,c,o[0],o[2]),f(u,c,o[0],o[1])]);break;case 2:w.push([f(u,c,o[1],o[0]),f(u,c,o[1],o[2])]);break;case 3:w.push([f(u,c,o[0],o[2]),f(u,c,o[1],o[2])]);break;case 4:w.push([f(u,c,o[2],o[1]),f(u,c,o[2],o[0])]);break;case 5:w.push([f(u,c,o[2],o[1]),f(u,c,o[0],o[1])]);break;case 6:w.push([f(u,c,o[1],o[0]),f(u,c,o[2],o[0])])}}else if(2===h){var M;if(0==(M=(y[o[0]]<<0)+(y[o[1]]<<1))||3===M)continue;switch(M){case 0:case 3:break;case 1:w.push([f(u,c,o[0],o[1])]);break;case 2:w.push([f(u,c,o[1],o[0])])}}}return w}}]},8211:function(l,x,e){"use strict";e(2288),e(1731),x.H=function y(C,p){var F=C.length,D=C.length-p.length,N=Math.min;if(D)return D;switch(F){case 0:return 0;case 1:return C[0]-p[0];case 2:return(U=C[0]+C[1]-p[0]-p[1])||N(C[0],C[1])-N(p[0],p[1]);case 3:var k=C[0]+C[1],O=p[0]+p[1];if(U=k+C[2]-(O+p[2]))return U;var U,B=N(C[0],C[1]),z=N(p[0],p[1]);return(U=N(B,C[2])-N(z,p[2]))||N(B+C[2],k)-N(z+p[2],O);default:var G=C.slice(0);G.sort();var Q=p.slice(0);Q.sort();for(var rt=0;rt<F;++rt)if(D=G[rt]-Q[rt])return D;return 0}}},9392:function(l,x){"use strict";function r(a){var s=32;return(a&=-a)&&s--,65535&a&&(s-=16),16711935&a&&(s-=8),252645135&a&&(s-=4),858993459&a&&(s-=2),1431655765&a&&(s-=1),s}x.INT_BITS=32,x.INT_MAX=2147483647,x.INT_MIN=-1<<31,x.sign=function(a){return(a>0)-(a<0)},x.abs=function(a){var s=a>>31;return(a^s)-s},x.min=function(a,s){return s^(a^s)&-(a<s)},x.max=function(a,s){return a^(a^s)&-(a<s)},x.isPow2=function(a){return!(a&a-1||!a)},x.log2=function(a){var s,c;return s=(a>65535)<<4,s|=c=((a>>>=s)>255)<<3,s|=c=((a>>>=c)>15)<<2,(s|=c=((a>>>=c)>3)<<1)|(a>>>=c)>>1},x.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},x.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},x.countTrailingZeros=r,x.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,1+((a|=a>>>8)|a>>>16)},x.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},x.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var f=new Array(256);(function(a){for(var s=0;s<256;++s){var c=s,u=s,y=7;for(c>>>=1;c;c>>>=1)u<<=1,u|=1&c,--y;a[s]=u<<y&255}})(f),x.reverse=function(a){return f[255&a]<<24|f[a>>>8&255]<<16|f[a>>>16&255]<<8|f[a>>>24&255]},x.interleave2=function(a,s){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s&=65535)|s<<8))|s<<4))|s<<2))|s<<1))<<1},x.deinterleave2=function(a,s){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>s&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},x.interleave3=function(a,s,c){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(s=1227133513&((s=3272356035&((s=251719695&((s=4278190335&((s&=1023)|s<<16))|s<<8))|s<<4))|s<<2))<<1)|(c=1227133513&((c=3272356035&((c=251719695&((c=4278190335&((c&=1023)|c<<16))|c<<8))|c<<4))|c<<2))<<2},x.deinterleave3=function(a,s){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>s&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},x.nextCombination=function(a){var s=a|a-1;return s+1|(~s&-~s)-1>>>r(a)+1}},6656:function(l,x,e){"use strict";var r=e(9392),f=e(9521);function u(n,C){var p=n.length,F=n.length-C.length,D=Math.min;if(F)return F;switch(p){case 0:return 0;case 1:return n[0]-C[0];case 2:return(z=n[0]+n[1]-C[0]-C[1])||D(n[0],n[1])-D(C[0],C[1]);case 3:var N=n[0]+n[1],k=C[0]+C[1];if(z=N+n[2]-(k+C[2]))return z;var z,O=D(n[0],n[1]),B=D(C[0],C[1]);return(z=D(O,n[2])-D(B,C[2]))||D(O+n[2],N)-D(B+C[2],k);default:var U=n.slice(0);U.sort();var G=C.slice(0);G.sort();for(var Q=0;Q<p;++Q)if(F=U[Q]-G[Q])return F;return 0}}function y(n,C){return u(n[0],C[0])}function v(n,C){if(C){for(var p=n.length,F=new Array(p),D=0;D<p;++D)F[D]=[n[D],C[D]];for(F.sort(y),D=0;D<p;++D)n[D]=F[D][0],C[D]=F[D][1];return n}return n.sort(u),n}function w(n){if(0===n.length)return[];for(var C=1,p=n.length,F=1;F<p;++F){var D=n[F];if(u(D,n[F-1])){if(F===C){C++;continue}n[C++]=D}}return n.length=C,n}function d(n,C){for(var p=0,F=n.length-1,D=-1;p<=F;){var N=p+F>>1,k=u(n[N],C);k<=0?(0===k&&(D=N),p=N+1):k>0&&(F=N-1)}return D}function o(n,C){for(var p=new Array(n.length),F=0,D=p.length;F<D;++F)p[F]=[];for(var N=[],k=(F=0,C.length);F<k;++F)for(var O=C[F],B=O.length,z=1,U=1<<B;z<U;++z){N.length=r.popCount(z);for(var G=0,Q=0;Q<B;++Q)z&1<<Q&&(N[G++]=O[Q]);var rt=d(n,N);if(!(rt<0))for(;p[rt++].push(F),!(rt>=n.length||0!==u(n[rt],N)););}return p}function T(n,C){if(C<0)return[];for(var p=[],F=(1<<C+1)-1,D=0;D<n.length;++D)for(var N=n[D],k=F;k<1<<N.length;k=r.nextCombination(k)){for(var O=new Array(C+1),B=0,z=0;z<N.length;++z)k&1<<z&&(O[B++]=N[z]);p.push(O)}return v(p)}x.dimension=function a(n){for(var C=0,p=Math.max,F=0,D=n.length;F<D;++F)C=p(C,n[F].length);return C-1},x.countVertices=function s(n){for(var C=-1,p=Math.max,F=0,D=n.length;F<D;++F)for(var N=n[F],k=0,O=N.length;k<O;++k)C=p(C,N[k]);return C+1},x.cloneCells=function c(n){for(var C=new Array(n.length),p=0,F=n.length;p<F;++p)C[p]=n[p].slice(0);return C},x.compareCells=u,x.normalize=v,x.unique=w,x.findCell=d,x.incidence=o,x.dual=function h(n,C){if(!C)return o(w(T(n,0)),n);for(var p=new Array(C),F=0;F<C;++F)p[F]=[];F=0;for(var D=n.length;F<D;++F)for(var N=n[F],k=0,O=N.length;k<O;++k)p[N[k]].push(F);return p},x.explode=function M(n){for(var C=[],p=0,F=n.length;p<F;++p)for(var D=n[p],N=0|D.length,k=1,O=1<<N;k<O;++k){for(var B=[],z=0;z<N;++z)k>>>z&1&&B.push(D[z]);C.push(B)}return v(C)},x.skeleton=T,x.boundary=function L(n){for(var C=[],p=0,F=n.length;p<F;++p)for(var D=n[p],N=0,k=D.length;N<k;++N){for(var O=new Array(D.length-1),B=0,z=0;B<k;++B)B!==N&&(O[z++]=D[B]);C.push(O)}return v(C)},x.connectedComponents=function b(n,C){return C?function m(n,C){for(var p=new f(C),F=0;F<n.length;++F)for(var D=n[F],N=0;N<D.length;++N)for(var k=N+1;k<D.length;++k)p.link(D[N],D[k]);var O=[],B=p.ranks;for(F=0;F<B.length;++F)B[F]=-1;for(F=0;F<n.length;++F){var z=p.find(n[F][0]);B[z]<0?(B[z]=O.length,O.push([n[F].slice(0)])):O[B[z]].push(n[F].slice(0))}return O}(n,C):function S(n){for(var C=w(v(T(n,0))),p=new f(C.length),F=0;F<n.length;++F)for(var D=n[F],N=0;N<D.length;++N)for(var k=d(C,[D[N]]),O=N+1;O<D.length;++O)p.link(k,d(C,[D[O]]));var B=[],z=p.ranks;for(F=0;F<z.length;++F)z[F]=-1;for(F=0;F<n.length;++F){var U=p.find(d(C,[n[F][0]]));z[U]<0?(z[U]=B.length,B.push([n[F].slice(0)])):B[z[U]].push(n[F].slice(0))}return B}(n)}},9521:function(l){"use strict";function x(e){this.roots=new Array(e),this.ranks=new Array(e);for(var r=0;r<e;++r)this.roots[r]=r,this.ranks[r]=0}l.exports=x,x.prototype.length=function(){return this.roots.length},x.prototype.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},x.prototype.find=function(e){for(var r=this.roots;r[e]!==e;){var f=r[e];r[e]=r[f],e=f}return e},x.prototype.link=function(e,r){var f=this.find(e),a=this.find(r);if(f!==a){var s=this.ranks,c=this.roots,u=s[f],y=s[a];u<y?c[f]=a:y<u?c[a]=f:(c[a]=f,++s[f])}}},8243:function(l,x,e){"use strict";l.exports=function s(c,u,y){for(var v=u.length,w=c.length,d=new Array(v),o=new Array(v),h=new Array(v),M=new Array(v),T=0;T<v;++T)d[T]=o[T]=-1,h[T]=1/0,M[T]=!1;for(T=0;T<w;++T){var L=c[T];if(2!==L.length)throw new Error("Input must be a graph");var m=L[1],S=L[0];o[S]=-1!==o[S]?-2:m,d[m]=-1!==d[m]?-2:S}function b(j){if(M[j])return 1/0;var Z=d[j],H=o[j];return Z<0||H<0?1/0:function a(c,u,y){return Math.abs(r(c,u,y))/Math.sqrt(Math.pow(u[0]-y[0],2)+Math.pow(u[1]-y[1],2))}(u[j],u[Z],u[H])}function n(j,Z){var H=B[j],X=B[Z];B[j]=X,B[Z]=H,z[H]=Z,z[X]=j}function C(j){return h[B[j]]}function p(j){return 1&j?j-1>>1:(j>>1)-1}function F(j){for(var Z=C(j);;){var H=Z,X=2*j+1,at=2*(j+1),_=j;if(X<G){var K=C(X);K<H&&(_=X,H=K)}if(at<G&&C(at)<H&&(_=at),_===j)return j;n(j,_),j=_}}function D(j){for(var Z=C(j);j>0;){var H=p(j);if(!(H>=0&&Z<C(H)))return j;n(j,H),j=H}}function N(){if(G>0){var j=B[0];return n(0,G-1),G-=1,F(0),j}return-1}function k(j,Z){var H=B[j];return h[H]===Z?j:(h[H]=-1/0,D(j),N(),h[H]=Z,D((G+=1)-1))}function O(j){if(!M[j]){M[j]=!0;var Z=d[j],H=o[j];d[H]>=0&&(d[H]=Z),o[Z]>=0&&(o[Z]=H),z[Z]>=0&&k(z[Z],b(Z)),z[H]>=0&&k(z[H],b(H))}}var B=[],z=new Array(v);for(T=0;T<v;++T)(h[T]=b(T))<1/0?(z[T]=B.length,B.push(T)):z[T]=-1;var G=B.length;for(T=G>>1;T>=0;--T)F(T);for(;;){var Q=N();if(Q<0||h[Q]>y)break;O(Q)}var rt=[];for(T=0;T<v;++T)M[T]||(z[T]=rt.length,rt.push(u[T].slice()));function ut(j,Z){if(j[Z]<0)return Z;var H=Z,X=Z;do{var at=j[X];if(!M[X]||at<0||at===X||(at=j[X=at],!M[X]||at<0||at===X))break;X=at,H=j[H]}while(H!==X);for(var _=Z;_!==X;_=j[_])j[_]=X;return X}var J=[];return c.forEach(function(j){var Z=ut(d,j[0]),H=ut(o,j[1]);if(Z>=0&&H>=0&&Z!==H){var X=z[Z],at=z[H];X!==at&&J.push([X,at])}}),f.unique(f.normalize(J)),{positions:rt,edges:J}};var r=e(417),f=e(6656)},6638:function(l,x,e){"use strict";l.exports=function a(s,c){var u,y,v,w;if(c[0][0]<c[1][0])u=c[0],y=c[1];else{if(!(c[0][0]>c[1][0]))return f(c,s);u=c[1],y=c[0]}if(s[0][0]<s[1][0])v=s[0],w=s[1];else{if(!(s[0][0]>s[1][0]))return-f(s,c);v=s[1],w=s[0]}var d=r(u,y,w),o=r(u,y,v);if(d<0){if(o<=0)return d}else if(d>0){if(o>=0)return d}else if(o)return o;if(d=r(w,v,y),o=r(w,v,u),d<0){if(o<=0)return d}else if(d>0){if(o>=0)return d}else if(o)return o;return y[0]-w[0]};var r=e(417);function f(s,c){var u,y,h,M;if(c[0][0]<c[1][0])u=c[0],y=c[1];else{if(!(c[0][0]>c[1][0])){var v=Math.min(s[0][1],s[1][1]),w=Math.max(s[0][1],s[1][1]),d=Math.min(c[0][1],c[1][1]),o=Math.max(c[0][1],c[1][1]);return w<d?w-d:v>o?v-o:w-o}u=c[1],y=c[0]}s[0][1]<s[1][1]?(h=s[0],M=s[1]):(h=s[1],M=s[0]);var T=r(y,u,h);return T||(T=r(y,u,M))?T:M-y}},4385:function(l,x,e){"use strict";l.exports=function o(h){for(var M=h.length,T=2*M,L=new Array(T),m=0;m<M;++m){var S=h[m],b=S[0][0]<S[1][0];L[2*m]=new d(S[0][0],S,b,m),L[2*m+1]=new d(S[1][0],S,!b,m)}L.sort(function(B,z){var U=B.x-z.x;return U||(U=B.create-z.create)?U:Math.min(B.segment[0][1],B.segment[1][1])-Math.min(z.segment[0][1],z.segment[1][1])});var n=f(s),C=[],p=[],F=[];for(m=0;m<T;){for(var N=L[m].x,k=[];m<T;){var O=L[m];if(O.x!==N)break;m+=1,O.segment[0][0]===O.x&&O.segment[1][0]===O.x?O.create&&(O.segment[0][1]<O.segment[1][1]?(k.push(new w(O.segment[0][1],O.index,!0,!0)),k.push(new w(O.segment[1][1],O.index,!1,!1))):(k.push(new w(O.segment[1][1],O.index,!0,!1)),k.push(new w(O.segment[0][1],O.index,!1,!0)))):n=O.create?n.insert(O.segment,O.index):n.remove(O.segment)}C.push(n.root),p.push(N),F.push(k)}return new c(C,p,F)};var r=e(5070),f=e(7080),a=e(417),s=e(6638);function c(h,M,T){this.slabs=h,this.coordinates=M,this.horizontal=T}function y(h,M){return h.y-M}function v(h,M){for(var T=null;h;){var m,S,L=h.key;L[0][0]<L[1][0]?(m=L[0],S=L[1]):(m=L[1],S=L[0]);var b=a(m,S,M);if(b<0)h=h.left;else if(b>0)if(M[0]!==L[1][0])T=h,h=h.right;else{if(n=v(h.right,M))return n;h=h.left}else{if(M[0]!==L[1][0])return h;var n;if(n=v(h.right,M))return n;h=h.left}}return T}function w(h,M,T,L){this.y=h,this.index=M,this.start=T,this.closed=L}function d(h,M,T,L){this.x=h,this.segment=M,this.create=T,this.index=L}c.prototype.castUp=function(h){var M=r.le(this.coordinates,h[0]);if(M<0)return-1;var L=v(this.slabs[M],h),m=-1;if(L&&(m=L.value),this.coordinates[M]===h[0]){var S=null;if(L&&(S=L.key),M>0){var b=v(this.slabs[M-1],h);b&&(S?s(b.key,S)>0&&(S=b.key,m=b.value):(m=b.value,S=b.key))}var n=this.horizontal[M];if(n.length>0){var C=r.ge(n,h[1],y);if(C<n.length){var p=n[C];if(h[1]===p.y){if(p.closed)return p.index;for(;C<n.length-1&&n[C+1].y===h[1];)if((p=n[C+=1]).closed)return p.index;if(p.y===h[1]&&!p.start){if((C+=1)>=n.length)return m;p=n[C]}}if(p.start)if(S){var F=a(S[0],S[1],[h[0],p.y]);S[0][0]>S[1][0]&&(F=-F),F>0&&(m=p.index)}else m=p.index;else p.y!==h[1]&&(m=p.index)}}}return m}},4670:function(l,x,e){"use strict";var r=e(9130),f=e(9662);function a(v,w){var d=f(r(v,w),[w[w.length-1]]);return d[d.length-1]}function s(v,w,d,o){var M=-w/(o-w);M<0?M=0:M>1&&(M=1);for(var T=1-M,L=v.length,m=new Array(L),S=0;S<L;++S)m[S]=M*v[S]+T*d[S];return m}l.exports=function c(v,w){for(var d=[],o=[],h=a(v[v.length-1],w),M=v[v.length-1],T=v[0],L=0;L<v.length;++L,M=T){var m=a(T=v[L],w);if(h<0&&m>0||h>0&&m<0){var S=s(M,m,T,h);d.push(S),o.push(S.slice())}m<0?o.push(T.slice()):m>0?d.push(T.slice()):(d.push(T.slice()),o.push(T.slice())),h=m}return{positive:d,negative:o}},l.exports.positive=function u(v,w){for(var d=[],o=a(v[v.length-1],w),h=v[v.length-1],M=v[0],T=0;T<v.length;++T,h=M){var L=a(M=v[T],w);(o<0&&L>0||o>0&&L<0)&&d.push(s(h,L,M,o)),L>=0&&d.push(M.slice()),o=L}return d},l.exports.negative=function y(v,w){for(var d=[],o=a(v[v.length-1],w),h=v[v.length-1],M=v[0],T=0;T<v.length;++T,h=M){var L=a(M=v[T],w);(o<0&&L>0||o>0&&L<0)&&d.push(s(h,L,M,o)),L<=0&&d.push(M.slice()),o=L}return d}},8974:function(l,x,e){var r;!function(){"use strict";var f={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(v){return c(y(v),arguments)}function s(v,w){return a.apply(null,[v].concat(w||[]))}function c(v,w){var h,T,L,m,S,b,n,C,p,d=1,o=v.length,M="";for(T=0;T<o;T++)if("string"==typeof v[T])M+=v[T];else if("object"==typeof v[T]){if((m=v[T]).keys)for(h=w[d],L=0;L<m.keys.length;L++){if(null==h)throw new Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[L],m.keys[L-1]));h=h[m.keys[L]]}else h=m.param_no?w[m.param_no]:w[d++];if(f.not_type.test(m.type)&&f.not_primitive.test(m.type)&&h instanceof Function&&(h=h()),f.numeric_arg.test(m.type)&&"number"!=typeof h&&isNaN(h))throw new TypeError(a("[sprintf] expecting number but found %T",h));switch(f.number.test(m.type)&&(C=h>=0),m.type){case"b":h=parseInt(h,10).toString(2);break;case"c":h=String.fromCharCode(parseInt(h,10));break;case"d":case"i":h=parseInt(h,10);break;case"j":h=JSON.stringify(h,null,m.width?parseInt(m.width):0);break;case"e":h=m.precision?parseFloat(h).toExponential(m.precision):parseFloat(h).toExponential();break;case"f":h=m.precision?parseFloat(h).toFixed(m.precision):parseFloat(h);break;case"g":h=m.precision?String(Number(h.toPrecision(m.precision))):parseFloat(h);break;case"o":h=(parseInt(h,10)>>>0).toString(8);break;case"s":h=String(h),h=m.precision?h.substring(0,m.precision):h;break;case"t":h=String(!!h),h=m.precision?h.substring(0,m.precision):h;break;case"T":h=Object.prototype.toString.call(h).slice(8,-1).toLowerCase(),h=m.precision?h.substring(0,m.precision):h;break;case"u":h=parseInt(h,10)>>>0;break;case"v":h=h.valueOf(),h=m.precision?h.substring(0,m.precision):h;break;case"x":h=(parseInt(h,10)>>>0).toString(16);break;case"X":h=(parseInt(h,10)>>>0).toString(16).toUpperCase()}f.json.test(m.type)?M+=h:(!f.number.test(m.type)||C&&!m.sign?p="":(p=C?"+":"-",h=h.toString().replace(f.sign,"")),b=m.pad_char?"0"===m.pad_char?"0":m.pad_char.charAt(1):" ",n=m.width-(p+h).length,S=m.width&&n>0?b.repeat(n):"",M+=m.align?p+h+S:"0"===b?p+S+h:S+p+h)}return M}var u=Object.create(null);function y(v){if(u[v])return u[v];for(var d,w=v,o=[],h=0;w;){if(null!==(d=f.text.exec(w)))o.push(d[0]);else if(null!==(d=f.modulo.exec(w)))o.push("%");else{if(null===(d=f.placeholder.exec(w)))throw new SyntaxError("[sprintf] unexpected placeholder");if(d[2]){h|=1;var M=[],T=d[2],L=[];if(null===(L=f.key.exec(T)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(M.push(L[1]);""!==(T=T.substring(L[0].length));)if(null!==(L=f.key_access.exec(T)))M.push(L[1]);else{if(null===(L=f.index_access.exec(T)))throw new SyntaxError("[sprintf] failed to parse named argument key");M.push(L[1])}d[2]=M}else h|=2;if(3===h)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:d[0],param_no:d[1],keys:d[2],sign:d[3],pad_char:d[4],align:d[5],width:d[6],precision:d[7],type:d[8]})}w=w.substring(d[0].length)}return u[v]=o}x.sprintf=a,x.vsprintf=s,"undefined"!=typeof window&&(window.sprintf=a,window.vsprintf=s,void 0!==(r=function(){return{sprintf:a,vsprintf:s}}.call(x,e,x,l))&&(l.exports=r))}()},4162:function(l,x,e){"use strict";l.exports=function y(v,h){if(v.dimension<=0)return{positions:[],cells:[]};if(1===v.dimension)return function c(v,w){for(var d=f(v,w),o=d.length,h=new Array(o),M=new Array(o),T=0;T<o;++T)h[T]=[d[T]],M[T]=[T];return{positions:h,cells:M}}(v,h);var d=v.order.join()+"-"+v.dtype,o=u[d];return h=+h||0,o||(o=u[d]=function s(v,w){var o=a[v.length+"d"];if(o)return o(r,v,w)}(v.order,v.dtype)),o(v,h)};var r=e(9284),f=e(9584),a={"2d":function(v,w,d){var o=v({order:w,scalarArguments:3,getters:"generic"===d?[0]:void 0,phase:function(M,T,L,m){return M>m|0},vertex:function(M,T,L,m,S,b,n,C,p,F,D,N,k){var O=(n<<0)+(C<<1)+(p<<2)+(F<<3)|0;if(0!==O&&15!==O)switch(O){case 0:case 15:D.push([M-.5,T-.5]);break;case 1:D.push([M-.25-.25*(m+L-2*k)/(L-m),T-.25-.25*(S+L-2*k)/(L-S)]);break;case 2:D.push([M-.75-.25*(-m-L+2*k)/(m-L),T-.25-.25*(b+m-2*k)/(m-b)]);break;case 3:D.push([M-.5,T-.5-.5*(S+L+b+m-4*k)/(L-S+m-b)]);break;case 4:D.push([M-.25-.25*(b+S-2*k)/(S-b),T-.75-.25*(-S-L+2*k)/(S-L)]);break;case 5:D.push([M-.5-.5*(m+L+b+S-4*k)/(L-m+S-b),T-.5]);break;case 6:D.push([M-.5-.25*(-m-L+b+S)/(m-L+S-b),T-.5-.25*(-S-L+b+m)/(S-L+m-b)]);break;case 7:D.push([M-.75-.25*(b+S-2*k)/(S-b),T-.75-.25*(b+m-2*k)/(m-b)]);break;case 8:D.push([M-.75-.25*(-b-S+2*k)/(b-S),T-.75-.25*(-b-m+2*k)/(b-m)]);break;case 9:D.push([M-.5-.25*(m+L+-b-S)/(L-m+b-S),T-.5-.25*(S+L+-b-m)/(L-S+b-m)]);break;case 10:D.push([M-.5-.5*(-m-L-b-S+4*k)/(m-L+b-S),T-.5]);break;case 11:D.push([M-.25-.25*(-b-S+2*k)/(b-S),T-.75-.25*(S+L-2*k)/(L-S)]);break;case 12:D.push([M-.5,T-.5-.5*(-S-L-b-m+4*k)/(S-L+b-m)]);break;case 13:D.push([M-.75-.25*(m+L-2*k)/(L-m),T-.25-.25*(-b-m+2*k)/(b-m)]);break;case 14:D.push([M-.25-.25*(-m-L+2*k)/(m-L),T-.25-.25*(-S-L+2*k)/(S-L)])}},cell:function(M,T,L,m,S,b,n,C,p){C.push(S?[M,T]:[T,M])}});return function(h,M){var T=[],L=[];return o(h,T,L,M),{positions:T,cells:L}}}};var u={}},6946:function(l,x,e){"use strict";l.exports=function c(u,y,w){w=w||{};var d=a[u];d||(d=a[u]={" ":{data:new Float32Array(0),shape:.2}});var o=d[y];if(!o)if(y.length<=1||!/\d/.test(y))o=d[y]=function s(u){for(var y=u.cells,v=u.positions,w=new Float32Array(6*y.length),d=0,o=0,h=0;h<y.length;++h)for(var M=y[h],T=0;T<3;++T){var L=v[M[T]];w[d++]=L[0],w[d++]=L[1]+1.4,o=Math.max(L[0],o)}return{data:w,shape:o}}(r(y,{triangles:!0,font:u,textAlign:w.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var h=y.split(/(\d|\s)/),M=new Array(h.length),T=0,L=0,m=0;m<h.length;++m)M[m]=c(u,h[m]),T+=M[m].data.length,L+=M[m].shape,m>0&&(L+=.02);var S=new Float32Array(T),b=0,n=-.5*L;for(m=0;m<M.length;++m){for(var C=M[m].data,p=0;p<C.length;p+=2)S[b++]=C[p]+n,S[b++]=C[p+1];n+=M[m].shape+.02}o=d[y]={data:S,shape:L}}return o};var r=e(875),f=window||A.global||{},a=f.__TEXT_CACHE||{};f.__TEXT_CACHE={}},14:function(l,x,e){"use strict";var r=e(4405);l.exports=c;function a(u,y){var v=r(getComputedStyle(u).getPropertyValue(y));return v[0]*c(v[1],u)}function c(u,y){switch(y=y||document.body,u=(u||"px").trim().toLowerCase(),(y===window||y===document)&&(y=document.body),u){case"%":return y.clientHeight/100;case"ch":case"ex":return function s(u,y){var v=document.createElement("div");v.style["font-size"]="128"+u,y.appendChild(v);var w=a(v,"font-size")/128;return y.removeChild(v),w}(u,y);case"em":return a(y,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return 96;case"cm":return 96/2.54;case"mm":return 96/25.4;case"pt":return 96/72;case"pc":return 16}return 1}},3440:function(l,x,e){"use strict";l.exports=function M(T){var L=(T=T||{}).center||[0,0,0],m=T.up||[0,1,0],S=T.right||w(m),b=T.radius||1,n=T.theta||0,C=T.phi||0;if(L=[].slice.call(L,0,3),m=[].slice.call(m,0,3),c(m,m),S=[].slice.call(S,0,3),c(S,S),"eye"in T){var p=T.eye,F=[p[0]-L[0],p[1]-L[1],p[2]-L[2]];s(S,F,m),y(S[0],S[1],S[2])<1e-6?S=w(m):c(S,S),b=y(F[0],F[1],F[2]);var D=u(m,F)/b,N=u(S,F)/b;C=Math.acos(D),n=Math.acos(N)}return b=Math.log(b),new d(T.zoomMin,T.zoomMax,L,m,S,b,n,C)};var r=e(8444),f=e(7437),a=e(4422),s=e(903),c=e(899),u=e(9305);function y(T,L,m){return Math.sqrt(Math.pow(T,2)+Math.pow(L,2)+Math.pow(m,2))}function v(T){return Math.min(1,Math.max(-1,T))}function w(T){var L=Math.abs(T[0]),m=Math.abs(T[1]),S=Math.abs(T[2]),b=[0,0,0];L>Math.max(m,S)?b[2]=1:m>Math.max(L,S)?b[0]=1:b[1]=1;for(var n=0,C=0,p=0;p<3;++p)n+=T[p]*T[p],C+=b[p]*T[p];for(p=0;p<3;++p)b[p]-=C/n*T[p];return c(b,b),b}function d(T,L,m,S,b,n,C,p){this.center=r(m),this.up=r(S),this.right=r(b),this.radius=r([n]),this.angle=r([C,p]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(T,L),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var F=0;F<16;++F)this.computedMatrix[F]=.5;this.recalcMatrix(0)}var o=d.prototype;o.setDistanceLimits=function(T,L){T=T>0?Math.log(T):-1/0,L=L>0?Math.log(L):1/0,L=Math.max(L,T),this.radius.bounds[0][0]=T,this.radius.bounds[1][0]=L},o.getDistanceLimits=function(T){var L=this.radius.bounds[0];return T?(T[0]=Math.exp(L[0][0]),T[1]=Math.exp(L[1][0]),T):[Math.exp(L[0][0]),Math.exp(L[1][0])]},o.recalcMatrix=function(T){this.center.curve(T),this.up.curve(T),this.right.curve(T),this.radius.curve(T),this.angle.curve(T);for(var L=this.computedUp,m=this.computedRight,S=0,b=0,n=0;n<3;++n)b+=L[n]*m[n],S+=L[n]*L[n];var C=Math.sqrt(S),p=0;for(n=0;n<3;++n)m[n]-=L[n]*b/S,p+=m[n]*m[n],L[n]/=C;var F=Math.sqrt(p);for(n=0;n<3;++n)m[n]/=F;var D=this.computedToward;s(D,L,m),c(D,D);var N=Math.exp(this.computedRadius[0]),k=this.computedAngle[0],O=this.computedAngle[1],B=Math.cos(k),z=Math.sin(k),U=Math.cos(O),G=Math.sin(O),Q=this.computedCenter,rt=B*U,it=z*U,ut=G,J=-B*G,j=-z*G,Z=U,H=this.computedEye,X=this.computedMatrix;for(n=0;n<3;++n){var at=rt*m[n]+it*D[n]+ut*L[n];X[4*n+1]=J*m[n]+j*D[n]+Z*L[n],X[4*n+2]=at,X[4*n+3]=0}var _=X[1],K=X[5],nt=X[9],et=X[2],st=X[6],dt=X[10],Tt=K*dt-nt*st,bt=nt*et-_*dt,Dt=_*st-K*et,Ft=y(Tt,bt,Dt);for(bt/=Ft,Dt/=Ft,X[0]=Tt/=Ft,X[4]=bt,X[8]=Dt,n=0;n<3;++n)H[n]=Q[n]+X[2+4*n]*N;for(n=0;n<3;++n){p=0;for(var Mt=0;Mt<3;++Mt)p+=X[n+4*Mt]*H[Mt];X[12+n]=-p}X[15]=1},o.getMatrix=function(T,L){this.recalcMatrix(T);var m=this.computedMatrix;if(L){for(var S=0;S<16;++S)L[S]=m[S];return L}return m};var h=[0,0,0];o.rotate=function(T,L,m,S){if(this.angle.move(T,L,m),S){this.recalcMatrix(T);var b=this.computedMatrix;h[0]=b[2],h[1]=b[6],h[2]=b[10];for(var n=this.computedUp,C=this.computedRight,p=this.computedToward,F=0;F<3;++F)b[4*F]=n[F],b[4*F+1]=C[F],b[4*F+2]=p[F];for(a(b,b,S,h),F=0;F<3;++F)n[F]=b[4*F],C[F]=b[4*F+1];this.up.set(T,n[0],n[1],n[2]),this.right.set(T,C[0],C[1],C[2])}},o.pan=function(T,L,m,S){L=L||0,m=m||0,S=S||0,this.recalcMatrix(T);var b=this.computedMatrix,C=(Math.exp(this.computedRadius[0]),b[1]),p=b[5],F=b[9],D=y(C,p,F),N=b[0],k=b[4],O=b[8],B=N*(C/=D)+k*(p/=D)+O*(F/=D),z=y(N-=C*B,k-=p*B,O-=F*B);this.center.move(T,(N/=z)*L+C*m,(k/=z)*L+p*m,(O/=z)*L+F*m);var rt=Math.exp(this.computedRadius[0]);rt=Math.max(1e-4,rt+S),this.radius.set(T,Math.log(rt))},o.translate=function(T,L,m,S){this.center.move(T,L||0,m||0,S||0)},o.setMatrix=function(T,L,m,S){var b=1;"number"==typeof m&&(b=0|m),(b<0||b>3)&&(b=1);var n=(b+2)%3;L||(this.recalcMatrix(T),L=this.computedMatrix);var p=L[b],F=L[b+4],D=L[b+8];if(S){var k=Math.abs(p),O=Math.abs(F),B=Math.abs(D),z=Math.max(k,O,B);k===z?(p=p<0?-1:1,F=D=0):B===z?(D=D<0?-1:1,p=F=0):(F=F<0?-1:1,p=D=0)}else{var N=y(p,F,D);p/=N,F/=N,D/=N}var H,X,U=L[n],G=L[n+4],Q=L[n+8],rt=U*p+G*F+Q*D,it=y(U-=p*rt,G-=F*rt,Q-=D*rt),ut=F*(Q/=it)-D*(G/=it),J=D*(U/=it)-p*Q,j=p*G-F*U,Z=y(ut,J,j);if(ut/=Z,J/=Z,j/=Z,this.center.jump(T,Pt,Vt,te),this.radius.idle(T),this.up.jump(T,p,F,D),this.right.jump(T,U,G,Q),2===b){var at=L[1],_=L[5],K=L[9];H=bt<0?-Math.PI/2:Math.PI/2,X=Math.atan2(at*ut+_*J+K*j,at*U+_*G+K*Q)}else{var st=L[2],dt=L[6],Tt=L[10],bt=st*p+dt*F+Tt*D,Dt=st*U+dt*G+Tt*Q,Ft=st*ut+dt*J+Tt*j;H=Math.asin(v(bt)),X=Math.atan2(Ft,Dt)}this.angle.jump(T,X,H),this.recalcMatrix(T);var Mt=L[2],wt=L[6],St=L[10],Ut=this.computedMatrix;f(Ut,L);var Gt=Ut[15],Pt=Ut[12]/Gt,Vt=Ut[13]/Gt,te=Ut[14]/Gt,_t=Math.exp(this.computedRadius[0]);this.center.jump(T,Pt-Mt*_t,Vt-wt*_t,te-St*_t)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(T){this.center.idle(T),this.up.idle(T),this.right.idle(T),this.radius.idle(T),this.angle.idle(T)},o.flush=function(T){this.center.flush(T),this.up.flush(T),this.right.flush(T),this.radius.flush(T),this.angle.flush(T)},o.setDistance=function(T,L){L>0&&this.radius.set(T,Math.log(L))},o.lookAt=function(T,L,m,S){this.recalcMatrix(T),L=L||this.computedEye,m=m||this.computedCenter;var b=(S=S||this.computedUp)[0],n=S[1],C=S[2],p=y(b,n,C);if(!(p<1e-6)){b/=p,n/=p,C/=p;var F=L[0]-m[0],D=L[1]-m[1],N=L[2]-m[2],k=y(F,D,N);if(!(k<1e-6)){F/=k,D/=k,N/=k;var O=this.computedRight,B=O[0],z=O[1],U=O[2],G=b*B+n*z+C*U,Q=y(B-=G*b,z-=G*n,U-=G*C);if(!(Q<.01&&(B=n*N-C*D,z=C*F-b*N,U=b*D-n*F,Q=y(B,z,U),Q<1e-6))){B/=Q,z/=Q,U/=Q,this.up.set(T,b,n,C),this.right.set(T,B,z,U),this.center.set(T,m[0],m[1],m[2]),this.radius.set(T,Math.log(k));var rt=n*U-C*z,it=C*B-b*U,ut=b*z-n*B,J=y(rt,it,ut),Z=B*F+z*D+U*N,H=(rt/=J)*F+(it/=J)*D+(ut/=J)*N,X=Math.asin(v(b*F+n*D+C*N)),at=Math.atan2(H,Z),_=this.angle._state,K=_[_.length-1],nt=_[_.length-2];K%=2*Math.PI;var et=Math.abs(K+2*Math.PI-at),st=Math.abs(K-at),dt=Math.abs(K-2*Math.PI-at);et<st&&(K+=2*Math.PI),dt<st&&(K-=2*Math.PI),this.angle.jump(this.angle.lastT(),K,nt),this.angle.set(T,at,X)}}}}},9660:function(l){"use strict";l.exports=function e(r,f,a){var s=r*f,c=x*r,y=c-(c-r),v=r-y,w=x*f,o=w-(w-f),h=f-o,m=v*h-(s-y*o-v*o-y*h);return a?(a[0]=m,a[1]=s,a):[m,s]};var x=+(Math.pow(2,27)+1)},87:function(l){"use strict";l.exports=function x(e,r,f){var a=e+r,s=a-e,u=r-s,y=e-(a-s);return f?(f[0]=y+u,f[1]=a,f):[y+u,a]}},5306:function(l,x,e){"use strict";var r=e(2288),f=e(3094),a=e(2146).lW;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:f([32,0]),UINT16:f([32,0]),UINT32:f([32,0]),BIGUINT64:f([32,0]),INT8:f([32,0]),INT16:f([32,0]),INT32:f([32,0]),BIGINT64:f([32,0]),FLOAT:f([32,0]),DOUBLE:f([32,0]),DATA:f([32,0]),UINT8C:f([32,0]),BUFFER:f([32,0])});var s="undefined"!=typeof Uint8ClampedArray,c="undefined"!=typeof BigUint64Array,u="undefined"!=typeof BigInt64Array,y=e.g.__TYPEDARRAY_POOL;y.UINT8C||(y.UINT8C=f([32,0])),y.BIGUINT64||(y.BIGUINT64=f([32,0])),y.BIGINT64||(y.BIGINT64=f([32,0])),y.BUFFER||(y.BUFFER=f([32,0]));var v=y.DATA,w=y.BUFFER;function d(O){if(O){var z=r.log2(O.length||O.byteLength);v[z].push(O)}}function h(B){B=r.nextPow2(B);var z=r.log2(B),U=v[z];return U.length>0?U.pop():new ArrayBuffer(B)}function M(O){return new Uint8Array(h(O),0,O)}function T(O){return new Uint16Array(h(2*O),0,O)}function L(O){return new Uint32Array(h(4*O),0,O)}function m(O){return new Int8Array(h(O),0,O)}function S(O){return new Int16Array(h(2*O),0,O)}function b(O){return new Int32Array(h(4*O),0,O)}function n(O){return new Float32Array(h(4*O),0,O)}function C(O){return new Float64Array(h(8*O),0,O)}function p(O){return s?new Uint8ClampedArray(h(O),0,O):M(O)}function F(O){return c?new BigUint64Array(h(8*O),0,O):null}function D(O){return u?new BigInt64Array(h(8*O),0,O):null}function N(O){return new DataView(h(O),0,O)}function k(O){O=r.nextPow2(O);var B=r.log2(O),z=w[B];return z.length>0?z.pop():new a(O)}x.free=function(B){if(a.isBuffer(B))w[r.log2(B.length)].push(B);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(B)&&(B=B.buffer),!B)return;var U=0|r.log2(B.length||B.byteLength);v[U].push(B)}},x.freeUint8=x.freeUint16=x.freeUint32=x.freeBigUint64=x.freeInt8=x.freeInt16=x.freeInt32=x.freeBigInt64=x.freeFloat32=x.freeFloat=x.freeFloat64=x.freeDouble=x.freeUint8Clamped=x.freeDataView=function o(O){d(O.buffer)},x.freeArrayBuffer=d,x.freeBuffer=function(B){w[r.log2(B.length)].push(B)},x.malloc=function(B,z){if(void 0===z||"arraybuffer"===z)return h(B);switch(z){case"uint8":return M(B);case"uint16":return T(B);case"uint32":return L(B);case"int8":return m(B);case"int16":return S(B);case"int32":return b(B);case"float":case"float32":return n(B);case"double":case"float64":return C(B);case"uint8_clamped":return p(B);case"bigint64":return D(B);case"biguint64":return F(B);case"buffer":return k(B);case"data":case"dataview":return N(B);default:return null}return null},x.mallocArrayBuffer=h,x.mallocUint8=M,x.mallocUint16=T,x.mallocUint32=L,x.mallocInt8=m,x.mallocInt16=S,x.mallocInt32=b,x.mallocFloat32=x.mallocFloat=n,x.mallocFloat64=x.mallocDouble=C,x.mallocUint8Clamped=p,x.mallocBigUint64=F,x.mallocBigInt64=D,x.mallocDataView=N,x.mallocBuffer=k,x.clearCache=function(){for(var B=0;B<32;++B)y.UINT8[B].length=0,y.UINT16[B].length=0,y.UINT32[B].length=0,y.INT8[B].length=0,y.INT16[B].length=0,y.INT32[B].length=0,y.FLOAT[B].length=0,y.DOUBLE[B].length=0,y.BIGUINT64[B].length=0,y.BIGINT64[B].length=0,y.UINT8C[B].length=0,v[B].length=0,w[B].length=0}},1731:function(l){"use strict";function x(r){this.roots=new Array(r),this.ranks=new Array(r);for(var f=0;f<r;++f)this.roots[f]=f,this.ranks[f]=0}l.exports=x;var e=x.prototype;Object.defineProperty(e,"length",{get:function(){return this.roots.length}}),e.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},e.find=function(r){for(var f=r,a=this.roots;a[r]!==r;)r=a[r];for(;a[f]!==r;){var s=a[f];a[f]=r,f=s}return r},e.link=function(r,f){var a=this.find(r),s=this.find(f);if(a!==s){var c=this.ranks,u=this.roots,y=c[a],v=c[s];y<v?u[a]=s:v<y?u[s]=a:(u[s]=a,++c[a])}}},1215:function(l){"use strict";l.exports=function r(f,a,s){return 0===f.length?f:a?(s||f.sort(a),function x(f,a){for(var s=1,c=f.length,u=f[0],y=f[0],v=1;v<c;++v)if(y=u,a(u=f[v],y)){if(v===s){s++;continue}f[s++]=u}return f.length=s,f}(f,a)):(s||f.sort(),function e(f){for(var a=1,s=f.length,c=f[0],u=f[0],y=1;y<s;++y,u=c)if(u=c,(c=f[y])!==u){if(y===a){a++;continue}f[a++]=c}return f.length=a,f}(f))}},875:function(l,x,e){"use strict";l.exports=function s(c,u){return("object"!=typeof u||null===u)&&(u={}),r(c,u.canvas||f,u.context||a,u)};var r=e(712),f=null,a=null;"undefined"!=typeof document&&((f=document.createElement("canvas")).width=8192,f.height=1024,a=f.getContext("2d"))},712:function(l,x,e){l.exports=function D(N,k,O,B){var z=64,U=1.25,G={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return B&&(B.size&&B.size>0&&(z=B.size),B.lineSpacing&&B.lineSpacing>0&&(U=B.lineSpacing),B.styletags&&B.styletags.breaklines&&(G.breaklines=!!B.styletags.breaklines),B.styletags&&B.styletags.bolds&&(G.bolds=!!B.styletags.bolds),B.styletags&&B.styletags.italics&&(G.italics=!!B.styletags.italics),B.styletags&&B.styletags.subscripts&&(G.subscripts=!!B.styletags.subscripts),B.styletags&&B.styletags.superscripts&&(G.superscripts=!!B.styletags.superscripts)),O.font=[B.fontStyle,B.fontVariant,B.fontWeight,z+"px",B.font].filter(function(rt){return rt}).join(" "),O.textAlign="start",O.textBaseline="alphabetic",O.direction="ltr",F(function n(N,k,O,B,z,U){O=(O=O.replace(/\n/g,"")).replace(/\<br\>/g,!0===U.breaklines?"\n":" ");var G="",Q=[];for(K=0;K<O.length;++K)Q[K]=G;!0===U.bolds&&(Q=S("b",v,O,Q)),!0===U.italics&&(Q=S("i",d,O,Q)),!0===U.superscripts&&(Q=S("sup","+1",O,Q)),!0===U.subscripts&&(Q=S("sub","-1",O,Q));var rt=[],it="";for(K=0;K<O.length;++K)null!==Q[K]&&(it+=O[K],rt.push(Q[K]));var ut=it.split("\n"),J=ut.length,j=Math.round(z*B),Z=B,H=2*B,X=0,at=J*j+H;N.height<at&&(N.height=at),k.fillStyle="#000",k.fillRect(0,0,N.width,N.height),k.fillStyle="#fff";var _,K,nt,et,st,dt=0,Tt="";function bt(){if(""!==Tt){var Vt=k.measureText(Tt).width;k.fillText(Tt,Z+nt,H+et),nt+=Vt}}function Dt(){return Math.round(st)+"px "}function Ft(Vt,te){var _t=""+k.font;if(!0===U.subscripts){var kt=Vt.indexOf(L),zt=te.indexOf(L),qt=kt>-1?parseInt(Vt[1+kt]):0,ae=zt>-1?parseInt(te[1+zt]):0;qt!==ae&&(_t=_t.replace(Dt(),"?px "),st*=Math.pow(.75,ae-qt),_t=_t.replace("?px ",Dt())),et+=.25*j*(ae-qt)}if(!0===U.superscripts){var oe=Vt.indexOf(h),pe=te.indexOf(h),ye=oe>-1?parseInt(Vt[1+oe]):0,Fe=pe>-1?parseInt(te[1+pe]):0;ye!==Fe&&(_t=_t.replace(Dt(),"?px "),st*=Math.pow(.75,Fe-ye),_t=_t.replace("?px ",Dt())),et-=.25*j*(Fe-ye)}if(!0===U.bolds){var Zt=Vt.indexOf(v)>-1,Ct=te.indexOf(v)>-1;!Zt&&Ct&&(_t=Et?_t.replace("italic ","italic bold "):"bold "+_t),Zt&&!Ct&&(_t=_t.replace("bold ",""))}if(!0===U.italics){var Et=Vt.indexOf(d)>-1,Rt=te.indexOf(d)>-1;!Et&&Rt&&(_t="italic "+_t),Et&&!Rt&&(_t=_t.replace("italic ",""))}k.font=_t}for(_=0;_<J;++_){var Mt=ut[_]+"\n";for(nt=0,et=_*j,st=B,Tt="",K=0;K<Mt.length;++K){var wt=K+dt<rt.length?rt[K+dt]:rt[rt.length-1];G===wt?Tt+=Mt[K]:(bt(),Tt=Mt[K],void 0!==wt&&(Ft(G,wt),G=wt))}bt(),dt+=Mt.length;var St=0|Math.round(nt+2*Z);X<St&&(X=St)}var Ut=X,Gt=H+j*J;return f(k.getImageData(0,0,Ut,Gt).data,[Gt,Ut,4]).pick(-1,-1,0).transpose(1,0)}(k,O,N,z,U,G),B,z)},l.exports.processPixels=F;var r=e(4162),f=e(5050),a=e(8243),s=e(197),c=e(7761),u=e(8040),v="b|",d="i|",h="+",L="-";function S(N,k,O,B){for(var z="<"+N+">",U="</"+N+">",G=z.length,Q=U.length,rt=k[0]===h||k[0]===L,it=0,ut=-Q;it>-1&&!(-1===(it=O.indexOf(z,it))||(ut=O.indexOf(U,it+G),-1===ut)||ut<=it);){for(var J=it;J<ut+Q;++J)if(J<it+G||J>=ut)B[J]=null,O=O.substr(0,J)+" "+O.substr(J+1);else if(null!==B[J]){var j=B[J].indexOf(k[0]);-1===j?B[J]+=k:rt&&(B[J]=B[J].substr(0,j+1)+(1+parseInt(B[J][j+1]))+B[J].substr(j+2))}var Z=it+G,X=O.substr(Z,ut-Z).indexOf(z);it=-1!==X?X:ut+Q}return B}function p(N,k,O,B){var z=function C(N,k){var O=r(N,128);return k?a(O.cells,O.positions,.25):{edges:O.cells,positions:O.positions}}(N,B),U=function b(N,k,O){for(var B=k.textAlign||"start",z=k.textBaseline||"alphabetic",U=[1<<30,1<<30],G=[0,0],Q=N.length,rt=0;rt<Q;++rt)for(var it=N[rt],ut=0;ut<2;++ut)U[ut]=0|Math.min(U[ut],it[ut]),G[ut]=0|Math.max(G[ut],it[ut]);var J=0;switch(B){case"center":J=-.5*(U[0]+G[0]);break;case"right":case"end":J=-G[0];break;case"left":case"start":J=-U[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+B+"'")}var j=0;switch(z){case"hanging":case"top":j=-U[1];break;case"middle":j=-.5*(U[1]+G[1]);break;case"alphabetic":case"ideographic":j=-3*O;break;case"bottom":j=-G[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+z+"'")}var Z=1/O;return"lineHeight"in k?Z*=+k.lineHeight:"width"in k?Z=k.width/(G[0]-U[0]):"height"in k&&(Z=k.height/(G[1]-U[1])),N.map(function(H){return[Z*(H[0]+J),Z*(H[1]+j)]})}(z.positions,k,O),G=z.edges,Q="ccw"===k.orientation;if(s(U,G),k.polygons||k.polygon||k.polyline){for(var rt=u(G,U),it=new Array(rt.length),ut=0;ut<rt.length;++ut){for(var J=rt[ut],j=new Array(J.length),Z=0;Z<J.length;++Z){for(var H=J[Z],X=new Array(H.length),at=0;at<H.length;++at)X[at]=U[H[at]].slice();Q&&X.reverse(),j[Z]=X}it[ut]=j}return it}return k.triangles||k.triangulate||k.triangle?{cells:c(U,G,{delaunay:!1,exterior:!1,interior:!0}),positions:U}:{edges:G,positions:U}}function F(N,k,O){try{return p(N,k,O,!0)}catch(B){}try{return p(N,k,O,!1)}catch(B){}return k.polygons||k.polyline||k.polygon?[]:k.triangles||k.triangulate||k.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(l){!function(){"use strict";if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=e);var r=!1;if("function"==typeof WeakMap){var f=WeakMap;if("undefined"==typeof navigator||!/Firefox/.test(navigator.userAgent)){var a=new f,s=Object.freeze({});if(a.set(s,1),1===a.get(s))return void(l.exports=WeakMap);r=!0}}var u=Object.getOwnPropertyNames,y=Object.defineProperty,v=Object.isExtensible,w="weakmap:",d=w+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var o=new ArrayBuffer(25),h=new Uint8Array(o);crypto.getRandomValues(h),d=w+"rand:"+Array.prototype.map.call(h,function(p){return(p%36).toString(36)}).join("")+"___"}if(y(Object,"getOwnPropertyNames",{value:function(F){return u(F).filter(M)}}),"getPropertyNames"in Object){var T=Object.getPropertyNames;y(Object,"getPropertyNames",{value:function(F){return T(F).filter(M)}})}!function(){var p=Object.freeze;y(Object,"freeze",{value:function(k){return L(k),p(k)}});var F=Object.seal;y(Object,"seal",{value:function(k){return L(k),F(k)}});var D=Object.preventExtensions;y(Object,"preventExtensions",{value:function(k){return L(k),D(k)}})}();var S=!1,n=0,C=function(){this instanceof C||b();var p=[],F=[],D=n++;return Object.create(C.prototype,{get___:{value:m(function N(z,U){var G,Q=L(z);return Q?D in Q?Q[D]:U:(G=p.indexOf(z))>=0?F[G]:U})},has___:{value:m(function k(z){var U=L(z);return U?D in U:p.indexOf(z)>=0})},set___:{value:m(function O(z,U){var G,Q=L(z);return Q?Q[D]=U:(G=p.indexOf(z))>=0?F[G]=U:(F[G=p.length]=U,p[G]=z),this})},delete___:{value:m(function B(z){var G,Q,U=L(z);return U?D in U&&delete U[D]:!((G=p.indexOf(z))<0||(Q=p.length-1,p[G]=void 0,F[G]=F[Q],p[G]=p[Q],p.length=Q,F.length=Q,0))})}})};C.prototype=Object.create(Object.prototype,{get:{value:function(F,D){return this.get___(F,D)},writable:!0,configurable:!0},has:{value:function(F){return this.has___(F)},writable:!0,configurable:!0},set:{value:function(F,D){return this.set___(F,D)},writable:!0,configurable:!0},delete:{value:function(F){return this.delete___(F)},writable:!0,configurable:!0}}),"function"==typeof f?function(){function p(){this instanceof C||b();var B,F=new f,D=void 0,N=!1;return B=r?function(U,G){return F.set(U,G),F.has(U)||(D||(D=new C),D.set(U,G)),this}:function(U,G){if(N)try{F.set(U,G)}catch(Q){D||(D=new C),D.set___(U,G)}else F.set(U,G);return this},Object.create(C.prototype,{get___:{value:m(function k(U,G){return D?F.has(U)?F.get(U):D.get___(U,G):F.get(U,G)})},has___:{value:m(function O(U){return F.has(U)||!!D&&D.has___(U)})},set___:{value:m(B)},delete___:{value:m(function z(U){var G=!!F.delete(U);return D&&D.delete___(U)||G})},permitHostObjects___:{value:m(function(U){if(U!==e)throw new Error("bogus call to permitHostObjects___");N=!0})}})}r&&"undefined"!=typeof Proxy&&(Proxy=void 0),p.prototype=C.prototype,l.exports=p,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),l.exports=C)}function e(p){p.permitHostObjects___&&p.permitHostObjects___(e)}function M(p){return!(p.substr(0,w.length)==w&&"___"===p.substr(p.length-3))}function L(p){if(p!==Object(p))throw new TypeError("Not an object: "+p);var F=p[d];if(F&&F.key===p)return F;if(v(p)){F={key:p};try{return y(p,d,{value:F,writable:!1,enumerable:!1,configurable:!1}),F}catch(D){return}}}function m(p){return p.prototype=null,Object.freeze(p)}function b(){!S&&"undefined"!=typeof console&&(S=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},9222:function(l,x,e){var r=e(7178);l.exports=function f(){var a={};return function(s){if(("object"!=typeof s||null===s)&&"function"!=typeof s)throw new Error("Weakmap-shim: Key must be object");var c=s.valueOf(a);return c&&c.identity===a?c:r(s,a)}}},7178:function(l){l.exports=function x(e,r){var f={identity:r},a=e.valueOf;return Object.defineProperty(e,"valueOf",{value:function(s){return s!==r?a.apply(this,arguments):f},writable:!0}),f}},4037:function(l,x,e){var r=e(9222);l.exports=function f(){var a=r();return{get:function(s,c){var u=a(s);return u.hasOwnProperty("value")?u.value:c},set:function(s,c){return a(s).value=c,this},has:function(s){return"value"in a(s)},delete:function(s){return delete a(s).value}}}},6183:function(l){"use strict";var r=function e(){return function(c,u,y,v,w,d){var o=c[0],h=y[0],M=[0],T=h;v|=0;var L=0,m=h;for(L=0;L<o;++L){var S=u[v]-d,b=u[v+T]-d;S>=0!=b>=0&&w.push(M[0]+.5+.5*(S+b)/(S-b)),v+=m,++M[0]}}};l.exports=function s(c){return function a(c){return function f(c){var u={};return function(v,w,d){var o=v.dtype,h=v.order,M=[o,h.join()].join(),T=u[M];return T||(u[M]=T=c([o,h])),T(v.shape.slice(0),v.data,v.stride,0|v.offset,w,d)}}(r.bind(void 0,c))}({funcName:c.funcName})}({funcName:"zeroCrossings"})},9584:function(l,x,e){"use strict";l.exports=function f(a,s){var c=[];return s=+s||0,r(a.hi(a.shape[0]-1),c,s),c};var r=e(6183)},6601:function(){}},i={};function P(l){var x=i[l];if(void 0!==x)return x.exports;var e=i[l]={id:l,loaded:!1,exports:{}};return g[l].call(e.exports,e,e.exports,P),e.loaded=!0,e.exports}return P.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(l){if("object"==typeof window)return window}}(),P.nmd=function(l){return l.paths=[],l.children||(l.children=[]),l},P(7386)}()},tt.exports=P()},12856:function(tt,W,t){"use strict";function A(Zt,Ct){if(!(Zt instanceof Ct))throw new TypeError("Cannot call a class as a function")}function g(Zt,Ct){for(var Et=0;Et<Ct.length;Et++){var Rt=Ct[Et];Rt.enumerable=Rt.enumerable||!1,Rt.configurable=!0,"value"in Rt&&(Rt.writable=!0),Object.defineProperty(Zt,P(Rt.key),Rt)}}function P(Zt){var Ct=function E(Zt,Ct){if("object"!==c(Zt)||null===Zt)return Zt;var Et=Zt[Symbol.toPrimitive];if(void 0!==Et){var Rt=Et.call(Zt,Ct||"default");if("object"!==c(Rt))return Rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Ct?String:Number)(Zt)}(Zt,"string");return"symbol"===c(Ct)?Ct:String(Ct)}function l(Zt,Ct){if("function"!=typeof Ct&&null!==Ct)throw new TypeError("Super expression must either be null or a function");Zt.prototype=Object.create(Ct&&Ct.prototype,{constructor:{value:Zt,writable:!0,configurable:!0}}),Object.defineProperty(Zt,"prototype",{writable:!1}),Ct&&x(Zt,Ct)}function x(Zt,Ct){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Rt,Ot){return Rt.__proto__=Ot,Rt})(Zt,Ct)}function e(Zt){var Ct=function a(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Zt){return!1}}();return function(){var Ot,Rt=s(Zt);if(Ct){var It=s(this).constructor;Ot=Reflect.construct(Rt,arguments,It)}else Ot=Rt.apply(this,arguments);return r(this,Ot)}}function r(Zt,Ct){if(Ct&&("object"===c(Ct)||"function"==typeof Ct))return Ct;if(void 0!==Ct)throw new TypeError("Derived constructors may only return object or undefined");return f(Zt)}function f(Zt){if(void 0===Zt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Zt}function s(Zt){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Et){return Et.__proto__||Object.getPrototypeOf(Et)})(Zt)}function c(Zt){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ct){return typeof Ct}:function(Ct){return Ct&&"function"==typeof Symbol&&Ct.constructor===Symbol&&Ct!==Symbol.prototype?"symbol":typeof Ct})(Zt)}var u=t(95341),y=t(95280),v="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;W.Buffer=h,W.SlowBuffer=function D(Zt){return+Zt!=Zt&&(Zt=0),h.alloc(+Zt)},W.INSPECT_MAX_BYTES=50;var w=2147483647;function o(Zt){if(Zt>w)throw new RangeError('The value "'+Zt+'" is invalid for option "size"');var Ct=new Uint8Array(Zt);return Object.setPrototypeOf(Ct,h.prototype),Ct}function h(Zt,Ct,Et){if("number"==typeof Zt){if("string"==typeof Ct)throw new TypeError('The "string" argument must be of type string. Received type number');return m(Zt)}return M(Zt,Ct,Et)}function M(Zt,Ct,Et){if("string"==typeof Zt)return function S(Zt,Ct){if(("string"!=typeof Ct||""===Ct)&&(Ct="utf8"),!h.isEncoding(Ct))throw new TypeError("Unknown encoding: "+Ct);var Et=0|N(Zt,Ct),Rt=o(Et),Ot=Rt.write(Zt,Ct);return Ot!==Et&&(Rt=Rt.slice(0,Ot)),Rt}(Zt,Ct);if(ArrayBuffer.isView(Zt))return function n(Zt){if(ae(Zt,Uint8Array)){var Ct=new Uint8Array(Zt);return C(Ct.buffer,Ct.byteOffset,Ct.byteLength)}return b(Zt)}(Zt);if(null==Zt)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(Zt));if(ae(Zt,ArrayBuffer)||Zt&&ae(Zt.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(ae(Zt,SharedArrayBuffer)||Zt&&ae(Zt.buffer,SharedArrayBuffer)))return C(Zt,Ct,Et);if("number"==typeof Zt)throw new TypeError('The "value" argument must not be of type number. Received type number');var Rt=Zt.valueOf&&Zt.valueOf();if(null!=Rt&&Rt!==Zt)return h.from(Rt,Ct,Et);var Ot=function p(Zt){if(h.isBuffer(Zt)){var Ct=0|F(Zt.length),Et=o(Ct);return 0===Et.length||Zt.copy(Et,0,0,Ct),Et}return void 0!==Zt.length?"number"!=typeof Zt.length||oe(Zt.length)?o(0):b(Zt):"Buffer"===Zt.type&&Array.isArray(Zt.data)?b(Zt.data):void 0}(Zt);if(Ot)return Ot;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof Zt[Symbol.toPrimitive])return h.from(Zt[Symbol.toPrimitive]("string"),Ct,Et);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(Zt))}function T(Zt){if("number"!=typeof Zt)throw new TypeError('"size" argument must be of type number');if(Zt<0)throw new RangeError('The value "'+Zt+'" is invalid for option "size"')}function m(Zt){return T(Zt),o(Zt<0?0:0|F(Zt))}function b(Zt){for(var Ct=Zt.length<0?0:0|F(Zt.length),Et=o(Ct),Rt=0;Rt<Ct;Rt+=1)Et[Rt]=255&Zt[Rt];return Et}function C(Zt,Ct,Et){if(Ct<0||Zt.byteLength<Ct)throw new RangeError('"offset" is outside of buffer bounds');if(Zt.byteLength<Ct+(Et||0))throw new RangeError('"length" is outside of buffer bounds');var Rt;return Rt=void 0===Ct&&void 0===Et?new Uint8Array(Zt):void 0===Et?new Uint8Array(Zt,Ct):new Uint8Array(Zt,Ct,Et),Object.setPrototypeOf(Rt,h.prototype),Rt}function F(Zt){if(Zt>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return 0|Zt}function N(Zt,Ct){if(h.isBuffer(Zt))return Zt.length;if(ArrayBuffer.isView(Zt)||ae(Zt,ArrayBuffer))return Zt.byteLength;if("string"!=typeof Zt)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+c(Zt));var Et=Zt.length,Rt=arguments.length>2&&!0===arguments[2];if(!Rt&&0===Et)return 0;for(var Ot=!1;;)switch(Ct){case"ascii":case"latin1":case"binary":return Et;case"utf8":case"utf-8":return te(Zt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Et;case"hex":return Et>>>1;case"base64":return zt(Zt).length;default:if(Ot)return Rt?-1:te(Zt).length;Ct=(""+Ct).toLowerCase(),Ot=!0}}function k(Zt,Ct,Et){var Rt=!1;if((void 0===Ct||Ct<0)&&(Ct=0),Ct>this.length||((void 0===Et||Et>this.length)&&(Et=this.length),Et<=0)||(Et>>>=0)<=(Ct>>>=0))return"";for(Zt||(Zt="utf8");;)switch(Zt){case"hex":return at(this,Ct,Et);case"utf8":case"utf-8":return J(this,Ct,Et);case"ascii":return H(this,Ct,Et);case"latin1":case"binary":return X(this,Ct,Et);case"base64":return ut(this,Ct,Et);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,Ct,Et);default:if(Rt)throw new TypeError("Unknown encoding: "+Zt);Zt=(Zt+"").toLowerCase(),Rt=!0}}function O(Zt,Ct,Et){var Rt=Zt[Ct];Zt[Ct]=Zt[Et],Zt[Et]=Rt}function B(Zt,Ct,Et,Rt,Ot){if(0===Zt.length)return-1;if("string"==typeof Et?(Rt=Et,Et=0):Et>2147483647?Et=2147483647:Et<-2147483648&&(Et=-2147483648),oe(Et=+Et)&&(Et=Ot?0:Zt.length-1),Et<0&&(Et=Zt.length+Et),Et>=Zt.length){if(Ot)return-1;Et=Zt.length-1}else if(Et<0){if(!Ot)return-1;Et=0}if("string"==typeof Ct&&(Ct=h.from(Ct,Rt)),h.isBuffer(Ct))return 0===Ct.length?-1:z(Zt,Ct,Et,Rt,Ot);if("number"==typeof Ct)return Ct&=255,"function"==typeof Uint8Array.prototype.indexOf?Ot?Uint8Array.prototype.indexOf.call(Zt,Ct,Et):Uint8Array.prototype.lastIndexOf.call(Zt,Ct,Et):z(Zt,[Ct],Et,Rt,Ot);throw new TypeError("val must be string, number or Buffer")}function z(Zt,Ct,Et,Rt,Ot){var yt,It=1,gt=Zt.length,pt=Ct.length;if(void 0!==Rt&&("ucs2"===(Rt=String(Rt).toLowerCase())||"ucs-2"===Rt||"utf16le"===Rt||"utf-16le"===Rt)){if(Zt.length<2||Ct.length<2)return-1;It=2,gt/=2,pt/=2,Et/=2}function vt(he,ke){return 1===It?he[ke]:he.readUInt16BE(ke*It)}if(Ot){var Yt=-1;for(yt=Et;yt<gt;yt++)if(vt(Zt,yt)===vt(Ct,-1===Yt?0:yt-Yt)){if(-1===Yt&&(Yt=yt),yt-Yt+1===pt)return Yt*It}else-1!==Yt&&(yt-=yt-Yt),Yt=-1}else for(Et+pt>gt&&(Et=gt-pt),yt=Et;yt>=0;yt--){for(var Qt=!0,le=0;le<pt;le++)if(vt(Zt,yt+le)!==vt(Ct,le)){Qt=!1;break}if(Qt)return yt}return-1}function U(Zt,Ct,Et,Rt){Et=Number(Et)||0;var Ot=Zt.length-Et;Rt?(Rt=Number(Rt))>Ot&&(Rt=Ot):Rt=Ot;var gt,It=Ct.length;for(Rt>It/2&&(Rt=It/2),gt=0;gt<Rt;++gt){var pt=parseInt(Ct.substr(2*gt,2),16);if(oe(pt))return gt;Zt[Et+gt]=pt}return gt}function G(Zt,Ct,Et,Rt){return qt(te(Ct,Zt.length-Et),Zt,Et,Rt)}function Q(Zt,Ct,Et,Rt){return qt(function _t(Zt){for(var Ct=[],Et=0;Et<Zt.length;++Et)Ct.push(255&Zt.charCodeAt(Et));return Ct}(Ct),Zt,Et,Rt)}function rt(Zt,Ct,Et,Rt){return qt(zt(Ct),Zt,Et,Rt)}function it(Zt,Ct,Et,Rt){return qt(function kt(Zt,Ct){for(var Et,Rt,It=[],gt=0;gt<Zt.length&&!((Ct-=2)<0);++gt)Rt=(Et=Zt.charCodeAt(gt))>>8,It.push(Et%256),It.push(Rt);return It}(Ct,Zt.length-Et),Zt,Et,Rt)}function ut(Zt,Ct,Et){return u.fromByteArray(0===Ct&&Et===Zt.length?Zt:Zt.slice(Ct,Et))}function J(Zt,Ct,Et){Et=Math.min(Zt.length,Et);for(var Rt=[],Ot=Ct;Ot<Et;){var It=Zt[Ot],gt=null,pt=It>239?4:It>223?3:It>191?2:1;if(Ot+pt<=Et){var vt=void 0,yt=void 0,Yt=void 0,Qt=void 0;switch(pt){case 1:It<128&&(gt=It);break;case 2:128==(192&(vt=Zt[Ot+1]))&&(Qt=(31&It)<<6|63&vt)>127&&(gt=Qt);break;case 3:yt=Zt[Ot+2],128==(192&(vt=Zt[Ot+1]))&&128==(192&yt)&&(Qt=(15&It)<<12|(63&vt)<<6|63&yt)>2047&&(Qt<55296||Qt>57343)&&(gt=Qt);break;case 4:yt=Zt[Ot+2],Yt=Zt[Ot+3],128==(192&(vt=Zt[Ot+1]))&&128==(192&yt)&&128==(192&Yt)&&(Qt=(15&It)<<18|(63&vt)<<12|(63&yt)<<6|63&Yt)>65535&&Qt<1114112&&(gt=Qt)}}null===gt?(gt=65533,pt=1):gt>65535&&(Rt.push((gt-=65536)>>>10&1023|55296),gt=56320|1023&gt),Rt.push(gt),Ot+=pt}return function Z(Zt){var Ct=Zt.length;if(Ct<=j)return String.fromCharCode.apply(String,Zt);for(var Et="",Rt=0;Rt<Ct;)Et+=String.fromCharCode.apply(String,Zt.slice(Rt,Rt+=j));return Et}(Rt)}W.kMaxLength=w,!(h.TYPED_ARRAY_SUPPORT=function d(){try{var Zt=new Uint8Array(1),Ct={foo:function(){return 42}};return Object.setPrototypeOf(Ct,Uint8Array.prototype),Object.setPrototypeOf(Zt,Ct),42===Zt.foo()}catch(Et){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(Zt,Ct,Et){return M(Zt,Ct,Et)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(Zt,Ct,Et){return function L(Zt,Ct,Et){return T(Zt),Zt<=0?o(Zt):void 0!==Ct?"string"==typeof Et?o(Zt).fill(Ct,Et):o(Zt).fill(Ct):o(Zt)}(Zt,Ct,Et)},h.allocUnsafe=function(Zt){return m(Zt)},h.allocUnsafeSlow=function(Zt){return m(Zt)},h.isBuffer=function(Ct){return null!=Ct&&!0===Ct._isBuffer&&Ct!==h.prototype},h.compare=function(Ct,Et){if(ae(Ct,Uint8Array)&&(Ct=h.from(Ct,Ct.offset,Ct.byteLength)),ae(Et,Uint8Array)&&(Et=h.from(Et,Et.offset,Et.byteLength)),!h.isBuffer(Ct)||!h.isBuffer(Et))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ct===Et)return 0;for(var Rt=Ct.length,Ot=Et.length,It=0,gt=Math.min(Rt,Ot);It<gt;++It)if(Ct[It]!==Et[It]){Rt=Ct[It],Ot=Et[It];break}return Rt<Ot?-1:Ot<Rt?1:0},h.isEncoding=function(Ct){switch(String(Ct).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(Ct,Et){if(!Array.isArray(Ct))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Ct.length)return h.alloc(0);var Rt;if(void 0===Et)for(Et=0,Rt=0;Rt<Ct.length;++Rt)Et+=Ct[Rt].length;var Ot=h.allocUnsafe(Et),It=0;for(Rt=0;Rt<Ct.length;++Rt){var gt=Ct[Rt];if(ae(gt,Uint8Array))It+gt.length>Ot.length?(h.isBuffer(gt)||(gt=h.from(gt)),gt.copy(Ot,It)):Uint8Array.prototype.set.call(Ot,gt,It);else{if(!h.isBuffer(gt))throw new TypeError('"list" argument must be an Array of Buffers');gt.copy(Ot,It)}It+=gt.length}return Ot},h.byteLength=N,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var Ct=this.length;if(Ct%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Et=0;Et<Ct;Et+=2)O(this,Et,Et+1);return this},h.prototype.swap32=function(){var Ct=this.length;if(Ct%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Et=0;Et<Ct;Et+=4)O(this,Et,Et+3),O(this,Et+1,Et+2);return this},h.prototype.swap64=function(){var Ct=this.length;if(Ct%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Et=0;Et<Ct;Et+=8)O(this,Et,Et+7),O(this,Et+1,Et+6),O(this,Et+2,Et+5),O(this,Et+3,Et+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var Ct=this.length;return 0===Ct?"":0===arguments.length?J(this,0,Ct):k.apply(this,arguments)},h.prototype.equals=function(Ct){if(!h.isBuffer(Ct))throw new TypeError("Argument must be a Buffer");return this===Ct||0===h.compare(this,Ct)},h.prototype.inspect=function(){var Ct="",Et=W.INSPECT_MAX_BYTES;return Ct=this.toString("hex",0,Et).replace(/(.{2})/g,"$1 ").trim(),this.length>Et&&(Ct+=" ... "),"<Buffer "+Ct+">"},v&&(h.prototype[v]=h.prototype.inspect),h.prototype.compare=function(Ct,Et,Rt,Ot,It){if(ae(Ct,Uint8Array)&&(Ct=h.from(Ct,Ct.offset,Ct.byteLength)),!h.isBuffer(Ct))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+c(Ct));if(void 0===Et&&(Et=0),void 0===Rt&&(Rt=Ct?Ct.length:0),void 0===Ot&&(Ot=0),void 0===It&&(It=this.length),Et<0||Rt>Ct.length||Ot<0||It>this.length)throw new RangeError("out of range index");if(Ot>=It&&Et>=Rt)return 0;if(Ot>=It)return-1;if(Et>=Rt)return 1;if(this===Ct)return 0;for(var gt=(It>>>=0)-(Ot>>>=0),pt=(Rt>>>=0)-(Et>>>=0),vt=Math.min(gt,pt),yt=this.slice(Ot,It),Yt=Ct.slice(Et,Rt),Qt=0;Qt<vt;++Qt)if(yt[Qt]!==Yt[Qt]){gt=yt[Qt],pt=Yt[Qt];break}return gt<pt?-1:pt<gt?1:0},h.prototype.includes=function(Ct,Et,Rt){return-1!==this.indexOf(Ct,Et,Rt)},h.prototype.indexOf=function(Ct,Et,Rt){return B(this,Ct,Et,Rt,!0)},h.prototype.lastIndexOf=function(Ct,Et,Rt){return B(this,Ct,Et,Rt,!1)},h.prototype.write=function(Ct,Et,Rt,Ot){if(void 0===Et)Ot="utf8",Rt=this.length,Et=0;else if(void 0===Rt&&"string"==typeof Et)Ot=Et,Rt=this.length,Et=0;else{if(!isFinite(Et))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Et>>>=0,isFinite(Rt)?(Rt>>>=0,void 0===Ot&&(Ot="utf8")):(Ot=Rt,Rt=void 0)}var It=this.length-Et;if((void 0===Rt||Rt>It)&&(Rt=It),Ct.length>0&&(Rt<0||Et<0)||Et>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ot||(Ot="utf8");for(var gt=!1;;)switch(Ot){case"hex":return U(this,Ct,Et,Rt);case"utf8":case"utf-8":return G(this,Ct,Et,Rt);case"ascii":case"latin1":case"binary":return Q(this,Ct,Et,Rt);case"base64":return rt(this,Ct,Et,Rt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return it(this,Ct,Et,Rt);default:if(gt)throw new TypeError("Unknown encoding: "+Ot);Ot=(""+Ot).toLowerCase(),gt=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function H(Zt,Ct,Et){var Rt="";Et=Math.min(Zt.length,Et);for(var Ot=Ct;Ot<Et;++Ot)Rt+=String.fromCharCode(127&Zt[Ot]);return Rt}function X(Zt,Ct,Et){var Rt="";Et=Math.min(Zt.length,Et);for(var Ot=Ct;Ot<Et;++Ot)Rt+=String.fromCharCode(Zt[Ot]);return Rt}function at(Zt,Ct,Et){var Rt=Zt.length;(!Ct||Ct<0)&&(Ct=0),(!Et||Et<0||Et>Rt)&&(Et=Rt);for(var Ot="",It=Ct;It<Et;++It)Ot+=pe[Zt[It]];return Ot}function _(Zt,Ct,Et){for(var Rt=Zt.slice(Ct,Et),Ot="",It=0;It<Rt.length-1;It+=2)Ot+=String.fromCharCode(Rt[It]+256*Rt[It+1]);return Ot}function K(Zt,Ct,Et){if(Zt%1!=0||Zt<0)throw new RangeError("offset is not uint");if(Zt+Ct>Et)throw new RangeError("Trying to access beyond buffer length")}function nt(Zt,Ct,Et,Rt,Ot,It){if(!h.isBuffer(Zt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ct>Ot||Ct<It)throw new RangeError('"value" argument is out of bounds');if(Et+Rt>Zt.length)throw new RangeError("Index out of range")}function et(Zt,Ct,Et,Rt,Ot){St(Ct,Rt,Ot,Zt,Et,7);var It=Number(Ct&BigInt(4294967295));Zt[Et++]=It,Zt[Et++]=It>>=8,Zt[Et++]=It>>=8,Zt[Et++]=It>>=8;var gt=Number(Ct>>BigInt(32)&BigInt(4294967295));return Zt[Et++]=gt,Zt[Et++]=gt>>=8,Zt[Et++]=gt>>=8,Zt[Et++]=gt>>=8,Et}function st(Zt,Ct,Et,Rt,Ot){St(Ct,Rt,Ot,Zt,Et,7);var It=Number(Ct&BigInt(4294967295));Zt[Et+7]=It,Zt[Et+6]=It>>=8,Zt[Et+5]=It>>=8,Zt[Et+4]=It>>=8;var gt=Number(Ct>>BigInt(32)&BigInt(4294967295));return Zt[Et+3]=gt,Zt[Et+2]=gt>>=8,Zt[Et+1]=gt>>=8,Zt[Et]=gt>>=8,Et+8}function dt(Zt,Ct,Et,Rt,Ot,It){if(Et+Rt>Zt.length)throw new RangeError("Index out of range");if(Et<0)throw new RangeError("Index out of range")}function Tt(Zt,Ct,Et,Rt,Ot){return Ct=+Ct,Et>>>=0,Ot||dt(Zt,0,Et,4),y.write(Zt,Ct,Et,Rt,23,4),Et+4}function bt(Zt,Ct,Et,Rt,Ot){return Ct=+Ct,Et>>>=0,Ot||dt(Zt,0,Et,8),y.write(Zt,Ct,Et,Rt,52,8),Et+8}h.prototype.slice=function(Ct,Et){var Rt=this.length;(Ct=~~Ct)<0?(Ct+=Rt)<0&&(Ct=0):Ct>Rt&&(Ct=Rt),(Et=void 0===Et?Rt:~~Et)<0?(Et+=Rt)<0&&(Et=0):Et>Rt&&(Et=Rt),Et<Ct&&(Et=Ct);var Ot=this.subarray(Ct,Et);return Object.setPrototypeOf(Ot,h.prototype),Ot},h.prototype.readUintLE=h.prototype.readUIntLE=function(Ct,Et,Rt){Ct>>>=0,Et>>>=0,Rt||K(Ct,Et,this.length);for(var Ot=this[Ct],It=1,gt=0;++gt<Et&&(It*=256);)Ot+=this[Ct+gt]*It;return Ot},h.prototype.readUintBE=h.prototype.readUIntBE=function(Ct,Et,Rt){Ct>>>=0,Et>>>=0,Rt||K(Ct,Et,this.length);for(var Ot=this[Ct+--Et],It=1;Et>0&&(It*=256);)Ot+=this[Ct+--Et]*It;return Ot},h.prototype.readUint8=h.prototype.readUInt8=function(Ct,Et){return Ct>>>=0,Et||K(Ct,1,this.length),this[Ct]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(Ct,Et){return Ct>>>=0,Et||K(Ct,2,this.length),this[Ct]|this[Ct+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(Ct,Et){return Ct>>>=0,Et||K(Ct,2,this.length),this[Ct]<<8|this[Ct+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(Ct,Et){return Ct>>>=0,Et||K(Ct,4,this.length),(this[Ct]|this[Ct+1]<<8|this[Ct+2]<<16)+16777216*this[Ct+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(Ct,Et){return Ct>>>=0,Et||K(Ct,4,this.length),16777216*this[Ct]+(this[Ct+1]<<16|this[Ct+2]<<8|this[Ct+3])},h.prototype.readBigUInt64LE=ye(function(Ct){Ut(Ct>>>=0,"offset");var Et=this[Ct],Rt=this[Ct+7];(void 0===Et||void 0===Rt)&&Gt(Ct,this.length-8);var Ot=Et+this[++Ct]*Math.pow(2,8)+this[++Ct]*Math.pow(2,16)+this[++Ct]*Math.pow(2,24),It=this[++Ct]+this[++Ct]*Math.pow(2,8)+this[++Ct]*Math.pow(2,16)+Rt*Math.pow(2,24);return BigInt(Ot)+(BigInt(It)<<BigInt(32))}),h.prototype.readBigUInt64BE=ye(function(Ct){Ut(Ct>>>=0,"offset");var Et=this[Ct],Rt=this[Ct+7];(void 0===Et||void 0===Rt)&&Gt(Ct,this.length-8);var Ot=Et*Math.pow(2,24)+this[++Ct]*Math.pow(2,16)+this[++Ct]*Math.pow(2,8)+this[++Ct],It=this[++Ct]*Math.pow(2,24)+this[++Ct]*Math.pow(2,16)+this[++Ct]*Math.pow(2,8)+Rt;return(BigInt(Ot)<<BigInt(32))+BigInt(It)}),h.prototype.readIntLE=function(Ct,Et,Rt){Ct>>>=0,Et>>>=0,Rt||K(Ct,Et,this.length);for(var Ot=this[Ct],It=1,gt=0;++gt<Et&&(It*=256);)Ot+=this[Ct+gt]*It;return Ot>=(It*=128)&&(Ot-=Math.pow(2,8*Et)),Ot},h.prototype.readIntBE=function(Ct,Et,Rt){Ct>>>=0,Et>>>=0,Rt||K(Ct,Et,this.length);for(var Ot=Et,It=1,gt=this[Ct+--Ot];Ot>0&&(It*=256);)gt+=this[Ct+--Ot]*It;return gt>=(It*=128)&&(gt-=Math.pow(2,8*Et)),gt},h.prototype.readInt8=function(Ct,Et){return Ct>>>=0,Et||K(Ct,1,this.length),128&this[Ct]?-1*(255-this[Ct]+1):this[Ct]},h.prototype.readInt16LE=function(Ct,Et){Ct>>>=0,Et||K(Ct,2,this.length);var Rt=this[Ct]|this[Ct+1]<<8;return 32768&Rt?4294901760|Rt:Rt},h.prototype.readInt16BE=function(Ct,Et){Ct>>>=0,Et||K(Ct,2,this.length);var Rt=this[Ct+1]|this[Ct]<<8;return 32768&Rt?4294901760|Rt:Rt},h.prototype.readInt32LE=function(Ct,Et){return Ct>>>=0,Et||K(Ct,4,this.length),this[Ct]|this[Ct+1]<<8|this[Ct+2]<<16|this[Ct+3]<<24},h.prototype.readInt32BE=function(Ct,Et){return Ct>>>=0,Et||K(Ct,4,this.length),this[Ct]<<24|this[Ct+1]<<16|this[Ct+2]<<8|this[Ct+3]},h.prototype.readBigInt64LE=ye(function(Ct){Ut(Ct>>>=0,"offset");var Et=this[Ct],Rt=this[Ct+7];(void 0===Et||void 0===Rt)&&Gt(Ct,this.length-8);var Ot=this[Ct+4]+this[Ct+5]*Math.pow(2,8)+this[Ct+6]*Math.pow(2,16)+(Rt<<24);return(BigInt(Ot)<<BigInt(32))+BigInt(Et+this[++Ct]*Math.pow(2,8)+this[++Ct]*Math.pow(2,16)+this[++Ct]*Math.pow(2,24))}),h.prototype.readBigInt64BE=ye(function(Ct){Ut(Ct>>>=0,"offset");var Et=this[Ct],Rt=this[Ct+7];(void 0===Et||void 0===Rt)&&Gt(Ct,this.length-8);var Ot=(Et<<24)+this[++Ct]*Math.pow(2,16)+this[++Ct]*Math.pow(2,8)+this[++Ct];return(BigInt(Ot)<<BigInt(32))+BigInt(this[++Ct]*Math.pow(2,24)+this[++Ct]*Math.pow(2,16)+this[++Ct]*Math.pow(2,8)+Rt)}),h.prototype.readFloatLE=function(Ct,Et){return Ct>>>=0,Et||K(Ct,4,this.length),y.read(this,Ct,!0,23,4)},h.prototype.readFloatBE=function(Ct,Et){return Ct>>>=0,Et||K(Ct,4,this.length),y.read(this,Ct,!1,23,4)},h.prototype.readDoubleLE=function(Ct,Et){return Ct>>>=0,Et||K(Ct,8,this.length),y.read(this,Ct,!0,52,8)},h.prototype.readDoubleBE=function(Ct,Et){return Ct>>>=0,Et||K(Ct,8,this.length),y.read(this,Ct,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(Ct,Et,Rt,Ot){Ct=+Ct,Et>>>=0,Rt>>>=0,Ot||nt(this,Ct,Et,Rt,Math.pow(2,8*Rt)-1,0);var gt=1,pt=0;for(this[Et]=255&Ct;++pt<Rt&&(gt*=256);)this[Et+pt]=Ct/gt&255;return Et+Rt},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(Ct,Et,Rt,Ot){Ct=+Ct,Et>>>=0,Rt>>>=0,Ot||nt(this,Ct,Et,Rt,Math.pow(2,8*Rt)-1,0);var gt=Rt-1,pt=1;for(this[Et+gt]=255&Ct;--gt>=0&&(pt*=256);)this[Et+gt]=Ct/pt&255;return Et+Rt},h.prototype.writeUint8=h.prototype.writeUInt8=function(Ct,Et,Rt){return Ct=+Ct,Et>>>=0,Rt||nt(this,Ct,Et,1,255,0),this[Et]=255&Ct,Et+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(Ct,Et,Rt){return Ct=+Ct,Et>>>=0,Rt||nt(this,Ct,Et,2,65535,0),this[Et]=255&Ct,this[Et+1]=Ct>>>8,Et+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(Ct,Et,Rt){return Ct=+Ct,Et>>>=0,Rt||nt(this,Ct,Et,2,65535,0),this[Et]=Ct>>>8,this[Et+1]=255&Ct,Et+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(Ct,Et,Rt){return Ct=+Ct,Et>>>=0,Rt||nt(this,Ct,Et,4,4294967295,0),this[Et+3]=Ct>>>24,this[Et+2]=Ct>>>16,this[Et+1]=Ct>>>8,this[Et]=255&Ct,Et+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(Ct,Et,Rt){return Ct=+Ct,Et>>>=0,Rt||nt(this,Ct,Et,4,4294967295,0),this[Et]=Ct>>>24,this[Et+1]=Ct>>>16,this[Et+2]=Ct>>>8,this[Et+3]=255&Ct,Et+4},h.prototype.writeBigUInt64LE=ye(function(Ct){return et(this,Ct,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=ye(function(Ct){return st(this,Ct,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(Ct,Et,Rt,Ot){if(Ct=+Ct,Et>>>=0,!Ot){var It=Math.pow(2,8*Rt-1);nt(this,Ct,Et,Rt,It-1,-It)}var gt=0,pt=1,vt=0;for(this[Et]=255&Ct;++gt<Rt&&(pt*=256);)Ct<0&&0===vt&&0!==this[Et+gt-1]&&(vt=1),this[Et+gt]=(Ct/pt>>0)-vt&255;return Et+Rt},h.prototype.writeIntBE=function(Ct,Et,Rt,Ot){if(Ct=+Ct,Et>>>=0,!Ot){var It=Math.pow(2,8*Rt-1);nt(this,Ct,Et,Rt,It-1,-It)}var gt=Rt-1,pt=1,vt=0;for(this[Et+gt]=255&Ct;--gt>=0&&(pt*=256);)Ct<0&&0===vt&&0!==this[Et+gt+1]&&(vt=1),this[Et+gt]=(Ct/pt>>0)-vt&255;return Et+Rt},h.prototype.writeInt8=function(Ct,Et,Rt){return Ct=+Ct,Et>>>=0,Rt||nt(this,Ct,Et,1,127,-128),Ct<0&&(Ct=255+Ct+1),this[Et]=255&Ct,Et+1},h.prototype.writeInt16LE=function(Ct,Et,Rt){return Ct=+Ct,Et>>>=0,Rt||nt(this,Ct,Et,2,32767,-32768),this[Et]=255&Ct,this[Et+1]=Ct>>>8,Et+2},h.prototype.writeInt16BE=function(Ct,Et,Rt){return Ct=+Ct,Et>>>=0,Rt||nt(this,Ct,Et,2,32767,-32768),this[Et]=Ct>>>8,this[Et+1]=255&Ct,Et+2},h.prototype.writeInt32LE=function(Ct,Et,Rt){return Ct=+Ct,Et>>>=0,Rt||nt(this,Ct,Et,4,2147483647,-2147483648),this[Et]=255&Ct,this[Et+1]=Ct>>>8,this[Et+2]=Ct>>>16,this[Et+3]=Ct>>>24,Et+4},h.prototype.writeInt32BE=function(Ct,Et,Rt){return Ct=+Ct,Et>>>=0,Rt||nt(this,Ct,Et,4,2147483647,-2147483648),Ct<0&&(Ct=4294967295+Ct+1),this[Et]=Ct>>>24,this[Et+1]=Ct>>>16,this[Et+2]=Ct>>>8,this[Et+3]=255&Ct,Et+4},h.prototype.writeBigInt64LE=ye(function(Ct){return et(this,Ct,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=ye(function(Ct){return st(this,Ct,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeFloatLE=function(Ct,Et,Rt){return Tt(this,Ct,Et,!0,Rt)},h.prototype.writeFloatBE=function(Ct,Et,Rt){return Tt(this,Ct,Et,!1,Rt)},h.prototype.writeDoubleLE=function(Ct,Et,Rt){return bt(this,Ct,Et,!0,Rt)},h.prototype.writeDoubleBE=function(Ct,Et,Rt){return bt(this,Ct,Et,!1,Rt)},h.prototype.copy=function(Ct,Et,Rt,Ot){if(!h.isBuffer(Ct))throw new TypeError("argument should be a Buffer");if(Rt||(Rt=0),!Ot&&0!==Ot&&(Ot=this.length),Et>=Ct.length&&(Et=Ct.length),Et||(Et=0),Ot>0&&Ot<Rt&&(Ot=Rt),Ot===Rt||0===Ct.length||0===this.length)return 0;if(Et<0)throw new RangeError("targetStart out of bounds");if(Rt<0||Rt>=this.length)throw new RangeError("Index out of range");if(Ot<0)throw new RangeError("sourceEnd out of bounds");Ot>this.length&&(Ot=this.length),Ct.length-Et<Ot-Rt&&(Ot=Ct.length-Et+Rt);var It=Ot-Rt;return this===Ct&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Et,Rt,Ot):Uint8Array.prototype.set.call(Ct,this.subarray(Rt,Ot),Et),It},h.prototype.fill=function(Ct,Et,Rt,Ot){if("string"==typeof Ct){if("string"==typeof Et?(Ot=Et,Et=0,Rt=this.length):"string"==typeof Rt&&(Ot=Rt,Rt=this.length),void 0!==Ot&&"string"!=typeof Ot)throw new TypeError("encoding must be a string");if("string"==typeof Ot&&!h.isEncoding(Ot))throw new TypeError("Unknown encoding: "+Ot);if(1===Ct.length){var It=Ct.charCodeAt(0);("utf8"===Ot&&It<128||"latin1"===Ot)&&(Ct=It)}}else"number"==typeof Ct?Ct&=255:"boolean"==typeof Ct&&(Ct=Number(Ct));if(Et<0||this.length<Et||this.length<Rt)throw new RangeError("Out of range index");if(Rt<=Et)return this;var gt;if(Et>>>=0,Rt=void 0===Rt?this.length:Rt>>>0,Ct||(Ct=0),"number"==typeof Ct)for(gt=Et;gt<Rt;++gt)this[gt]=Ct;else{var pt=h.isBuffer(Ct)?Ct:h.from(Ct,Ot),vt=pt.length;if(0===vt)throw new TypeError('The value "'+Ct+'" is invalid for argument "value"');for(gt=0;gt<Rt-Et;++gt)this[gt+Et]=pt[gt%vt]}return this};var Dt={};function Ft(Zt,Ct,Et){Dt[Zt]=function(Rt){l(It,Rt);var Ot=e(It);function It(){var gt;return A(this,It),gt=Ot.call(this),Object.defineProperty(f(gt),"message",{value:Ct.apply(f(gt),arguments),writable:!0,configurable:!0}),gt.name="".concat(gt.name," [").concat(Zt,"]"),delete gt.name,gt}return function i(Zt,Ct,Et){return Ct&&g(Zt.prototype,Ct),Et&&g(Zt,Et),Object.defineProperty(Zt,"prototype",{writable:!1}),Zt}(It,[{key:"code",get:function(){return Zt},set:function(pt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Zt,"]: ").concat(this.message)}}]),It}(Et)}function Mt(Zt){for(var Ct="",Et=Zt.length,Rt="-"===Zt[0]?1:0;Et>=Rt+4;Et-=3)Ct="_".concat(Zt.slice(Et-3,Et)).concat(Ct);return"".concat(Zt.slice(0,Et)).concat(Ct)}function St(Zt,Ct,Et,Rt,Ot,It){if(Zt>Et||Zt<Ct){var pt,gt="bigint"==typeof Ct?"n":"";throw pt=It>3?0===Ct||Ct===BigInt(0)?">= 0".concat(gt," and < 2").concat(gt," ** ").concat(8*(It+1)).concat(gt):">= -(2".concat(gt," ** ").concat(8*(It+1)-1).concat(gt,") and < 2 ** ")+"".concat(8*(It+1)-1).concat(gt):">= ".concat(Ct).concat(gt," and <= ").concat(Et).concat(gt),new Dt.ERR_OUT_OF_RANGE("value",pt,Zt)}!function wt(Zt,Ct,Et){Ut(Ct,"offset"),(void 0===Zt[Ct]||void 0===Zt[Ct+Et])&&Gt(Ct,Zt.length-(Et+1))}(Rt,Ot,It)}function Ut(Zt,Ct){if("number"!=typeof Zt)throw new Dt.ERR_INVALID_ARG_TYPE(Ct,"number",Zt)}function Gt(Zt,Ct,Et){throw Math.floor(Zt)!==Zt?(Ut(Zt,Et),new Dt.ERR_OUT_OF_RANGE(Et||"offset","an integer",Zt)):Ct<0?new Dt.ERR_BUFFER_OUT_OF_BOUNDS:new Dt.ERR_OUT_OF_RANGE(Et||"offset",">= ".concat(Et?1:0," and <= ").concat(Ct),Zt)}Ft("ERR_BUFFER_OUT_OF_BOUNDS",function(Zt){return Zt?"".concat(Zt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ft("ERR_INVALID_ARG_TYPE",function(Zt,Ct){return'The "'.concat(Zt,'" argument must be of type number. Received type ').concat(c(Ct))},TypeError),Ft("ERR_OUT_OF_RANGE",function(Zt,Ct,Et){var Rt='The value of "'.concat(Zt,'" is out of range.'),Ot=Et;return Number.isInteger(Et)&&Math.abs(Et)>Math.pow(2,32)?Ot=Mt(String(Et)):"bigint"==typeof Et&&(Ot=String(Et),(Et>Math.pow(BigInt(2),BigInt(32))||Et<-Math.pow(BigInt(2),BigInt(32)))&&(Ot=Mt(Ot)),Ot+="n"),Rt+" It must be ".concat(Ct,". Received ").concat(Ot)},RangeError);var Pt=/[^+/0-9A-Za-z-_]/g;function te(Zt,Ct){Ct=Ct||1/0;for(var Et,Rt=Zt.length,Ot=null,It=[],gt=0;gt<Rt;++gt){if((Et=Zt.charCodeAt(gt))>55295&&Et<57344){if(!Ot){if(Et>56319){(Ct-=3)>-1&&It.push(239,191,189);continue}if(gt+1===Rt){(Ct-=3)>-1&&It.push(239,191,189);continue}Ot=Et;continue}if(Et<56320){(Ct-=3)>-1&&It.push(239,191,189),Ot=Et;continue}Et=65536+(Ot-55296<<10|Et-56320)}else Ot&&(Ct-=3)>-1&&It.push(239,191,189);if(Ot=null,Et<128){if((Ct-=1)<0)break;It.push(Et)}else if(Et<2048){if((Ct-=2)<0)break;It.push(Et>>6|192,63&Et|128)}else if(Et<65536){if((Ct-=3)<0)break;It.push(Et>>12|224,Et>>6&63|128,63&Et|128)}else{if(!(Et<1114112))throw new Error("Invalid code point");if((Ct-=4)<0)break;It.push(Et>>18|240,Et>>12&63|128,Et>>6&63|128,63&Et|128)}}return It}function zt(Zt){return u.toByteArray(function Vt(Zt){if((Zt=(Zt=Zt.split("=")[0]).trim().replace(Pt,"")).length<2)return"";for(;Zt.length%4!=0;)Zt+="=";return Zt}(Zt))}function qt(Zt,Ct,Et,Rt){var Ot;for(Ot=0;Ot<Rt&&!(Ot+Et>=Ct.length||Ot>=Zt.length);++Ot)Ct[Ot+Et]=Zt[Ot];return Ot}function ae(Zt,Ct){return Zt instanceof Ct||null!=Zt&&null!=Zt.constructor&&null!=Zt.constructor.name&&Zt.constructor.name===Ct.name}function oe(Zt){return Zt!=Zt}var pe=function(){for(var Zt="0123456789abcdef",Ct=new Array(256),Et=0;Et<16;++Et)for(var Rt=16*Et,Ot=0;Ot<16;++Ot)Ct[Rt+Ot]=Zt[Et]+Zt[Ot];return Ct}();function ye(Zt){return"undefined"==typeof BigInt?Fe:Zt}function Fe(){throw new Error("BigInt not supported")}},35791:function(tt){"use strict";tt.exports=g,tt.exports.isMobile=g,tt.exports.default=g;var W=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,A=/android|ipad|playbook|silk/i;function g(i){i||(i={});var P=i.ua;if(!P&&"undefined"!=typeof navigator&&(P=navigator.userAgent),P&&P.headers&&"string"==typeof P.headers["user-agent"]&&(P=P.headers["user-agent"]),"string"!=typeof P)return!1;var E=W.test(P)&&!t.test(P)||!!i.tablet&&A.test(P);return!E&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==P.indexOf("Macintosh")&&-1!==P.indexOf("Safari")&&(E=!0),E}},86781:function(tt,W,t){"use strict";t.r(W),t.d(W,{sankeyCenter:function(){return f},sankeyCircular:function(){return C},sankeyJustify:function(){return r},sankeyLeft:function(){return x},sankeyRight:function(){return e}});var A=t(33064),g=t(15140),i=t(45879),P=t(2502),E=t.n(P);function l(bt){return bt.target.depth}function x(bt){return bt.depth}function e(bt,Dt){return Dt-1-bt.height}function r(bt,Dt){return bt.sourceLinks.length?bt.depth:Dt-1}function f(bt){return bt.targetLinks.length?bt.depth:bt.sourceLinks.length?(0,A.VV)(bt.sourceLinks,l)-1:0}function a(bt){return function(){return bt}}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(bt){return typeof bt}:function(bt){return bt&&"function"==typeof Symbol&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt};function c(bt,Dt){return y(bt.source,Dt.source)||bt.index-Dt.index}function u(bt,Dt){return y(bt.target,Dt.target)||bt.index-Dt.index}function y(bt,Dt){return bt.partOfCycle===Dt.partOfCycle?bt.y0-Dt.y0:"top"===bt.circularLinkType||"bottom"===Dt.circularLinkType?-1:1}function v(bt){return bt.value}function w(bt){return(bt.y0+bt.y1)/2}function d(bt){return w(bt.source)}function o(bt){return w(bt.target)}function h(bt){return bt.index}function M(bt){return bt.nodes}function T(bt){return bt.links}function L(bt,Dt){var Ft=bt.get(Dt);if(!Ft)throw new Error("missing: "+Dt);return Ft}function m(bt,Dt){return Dt(bt)}var S=25,b=10;function C(){var St,kt,bt=0,Dt=0,Ft=1,Mt=1,wt=24,Ut=h,Gt=r,Pt=M,Vt=T,te=32,_t=2,zt=null;function qt(){var Et={nodes:Pt.apply(null,arguments),links:Vt.apply(null,arguments)};ae(Et),p(Et,0,zt),oe(Et),Fe(Et),F(Et,Ut),Zt(Et,te,Ut),Ct(Et);for(var Rt=4,Ot=0;Ot<Rt;Ot++)K(Et,Mt,Ut),nt(Et,0,Ut),X(Et,Dt,Mt,Ut),K(Et,Mt,Ut),nt(Et,0,Ut);return Tt(Et,Dt,Mt),z(Et,_t,Mt,Ut),Et}function ae(Et){Et.nodes.forEach(function(Ot,It){Ot.index=It,Ot.sourceLinks=[],Ot.targetLinks=[]});var Rt=(0,g.UI)(Et.nodes,Ut);return Et.links.forEach(function(Ot,It){Ot.index=It;var gt=Ot.source,pt=Ot.target;"object"!==(void 0===gt?"undefined":s(gt))&&(gt=Ot.source=L(Rt,gt)),"object"!==(void 0===pt?"undefined":s(pt))&&(pt=Ot.target=L(Rt,pt)),gt.sourceLinks.push(Ot),pt.targetLinks.push(Ot)}),Et}function oe(Et){Et.nodes.forEach(function(Rt){Rt.partOfCycle=!1,Rt.value=Math.max((0,A.Sm)(Rt.sourceLinks,v),(0,A.Sm)(Rt.targetLinks,v)),Rt.sourceLinks.forEach(function(Ot){Ot.circular&&(Rt.partOfCycle=!0,Rt.circularLinkType=Ot.circularLinkType)}),Rt.targetLinks.forEach(function(Ot){Ot.circular&&(Rt.partOfCycle=!0,Rt.circularLinkType=Ot.circularLinkType)})})}function Fe(Et){var Rt,Ot,It;for(Rt=Et.nodes,Ot=[],It=0;Rt.length;++It,Rt=Ot,Ot=[])Rt.forEach(function(gt){gt.depth=It,gt.sourceLinks.forEach(function(pt){Ot.indexOf(pt.target)<0&&!pt.circular&&Ot.push(pt.target)})});for(Rt=Et.nodes,Ot=[],It=0;Rt.length;++It,Rt=Ot,Ot=[])Rt.forEach(function(gt){gt.height=It,gt.targetLinks.forEach(function(pt){Ot.indexOf(pt.source)<0&&!pt.circular&&Ot.push(pt.source)})});Et.nodes.forEach(function(gt){gt.column=Math.floor(Gt.call(null,gt,It))})}function Zt(Et,Rt,Ot){var It=(0,g.b1)().key(function(Qt){return Qt.column}).sortKeys(A.j2).entries(Et.nodes).map(function(Qt){return Qt.values});(function vt(Qt){if(kt){var le=1/0;It.forEach(function(Ae){var je=Mt*kt/(Ae.length+1);le=je<le?je:le}),St=le}var he=(0,A.VV)(It,function(Ae){return(Mt-Dt-(Ae.length-1)*St)/(0,A.Sm)(Ae,v)});he*=.3,Et.links.forEach(function(Ae){Ae.width=Ae.value*he});var ke=function pe(Et){var Rt=0,Ot=0,It=0,gt=0,pt=(0,A.Fp)(Et.nodes,function(vt){return vt.column});return Et.links.forEach(function(vt){vt.circular&&("top"==vt.circularLinkType?Rt+=vt.width:Ot+=vt.width,0==vt.target.column&&(gt+=vt.width),vt.source.column==pt&&(It+=vt.width))}),{top:Rt=Rt>0?Rt+S+b:Rt,bottom:Ot=Ot>0?Ot+S+b:Ot,left:gt=gt>0?gt+S+b:gt,right:It=It>0?It+S+b:It}}(Et),Oe=function ye(Et,Rt){var Ot=(0,A.Fp)(Et.nodes,function(Qt){return Qt.column}),It=Ft-bt,gt=Mt-Dt,yt=It/(It+Rt.right+Rt.left),Yt=gt/(gt+Rt.top+Rt.bottom);return bt=bt*yt+Rt.left,Ft=0==Rt.right?Ft:Ft*yt,Dt=Dt*Yt+Rt.top,Mt*=Yt,Et.nodes.forEach(function(Qt){Qt.x0=bt+Qt.column*((Ft-bt-wt)/Ot),Qt.x1=Qt.x0+wt}),Yt}(Et,ke);he*=Oe,Et.links.forEach(function(Ae){Ae.width=Ae.value*he}),It.forEach(function(Ae){var je=Ae.length;Ae.forEach(function(Ze,Lr){Ze.depth==It.length-1&&1==je||0==Ze.depth&&1==je?(Ze.y0=Mt/2-Ze.value*he,Ze.y1=Ze.y0+Ze.value*he):Ze.partOfCycle?0==k(Ze,Qt)?(Ze.y0=Mt/2+Lr,Ze.y1=Ze.y0+Ze.value*he):"top"==Ze.circularLinkType?(Ze.y0=Dt+Lr,Ze.y1=Ze.y0+Ze.value*he):(Ze.y0=Mt-Ze.value*he-Lr,Ze.y1=Ze.y0+Ze.value*he):0==ke.top||0==ke.bottom?(Ze.y0=(Mt-Dt)/je*Lr,Ze.y1=Ze.y0+Ze.value*he):(Ze.y0=(Mt-Dt)/2-je/2+Lr,Ze.y1=Ze.y0+Ze.value*he)})})})(Ot),Yt();for(var gt=1,pt=Rt;pt>0;--pt)yt(gt*=.99,Ot),Yt();function yt(Qt,le){var he=It.length;It.forEach(function(ke){var Oe=ke.length,Ae=ke[0].depth;ke.forEach(function(je){var Ze;if((je.sourceLinks.length||je.targetLinks.length)&&!(je.partOfCycle&&k(je,le)>0))if(0==Ae&&1==Oe)je.y0=Mt/2-(Ze=je.y1-je.y0)/2,je.y1=Mt/2+Ze/2;else if(Ae==he-1&&1==Oe)je.y0=Mt/2-(Ze=je.y1-je.y0)/2,je.y1=Mt/2+Ze/2;else{var fe=(0,A.J6)(je.sourceLinks,o),Ve=(0,A.J6)(je.targetLinks,d),He=((fe&&Ve?(fe+Ve)/2:fe||Ve)-w(je))*Qt;je.y0+=He,je.y1+=He}})})}function Yt(){It.forEach(function(Qt){var le,he,Ae,ke=Dt,Oe=Qt.length;for(Qt.sort(y),Ae=0;Ae<Oe;++Ae)(he=ke-(le=Qt[Ae]).y0)>0&&(le.y0+=he,le.y1+=he),ke=le.y1+St;if((he=ke-St-Mt)>0)for(ke=le.y0-=he,le.y1-=he,Ae=Oe-2;Ae>=0;--Ae)(he=(le=Qt[Ae]).y1+St-ke)>0&&(le.y0-=he,le.y1-=he),ke=le.y0})}}function Ct(Et){Et.nodes.forEach(function(Rt){Rt.sourceLinks.sort(u),Rt.targetLinks.sort(c)}),Et.nodes.forEach(function(Rt){var Ot=Rt.y0,It=Ot,gt=Rt.y1,pt=gt;Rt.sourceLinks.forEach(function(vt){vt.circular?(vt.y0=gt-vt.width/2,gt-=vt.width):(vt.y0=Ot+vt.width/2,Ot+=vt.width)}),Rt.targetLinks.forEach(function(vt){vt.circular?(vt.y1=pt-vt.width/2,pt-=vt.width):(vt.y1=It+vt.width/2,It+=vt.width)})})}return qt.nodeId=function(Et){return arguments.length?(Ut="function"==typeof Et?Et:a(Et),qt):Ut},qt.nodeAlign=function(Et){return arguments.length?(Gt="function"==typeof Et?Et:a(Et),qt):Gt},qt.nodeWidth=function(Et){return arguments.length?(wt=+Et,qt):wt},qt.nodePadding=function(Et){return arguments.length?(St=+Et,qt):St},qt.nodes=function(Et){return arguments.length?(Pt="function"==typeof Et?Et:a(Et),qt):Pt},qt.links=function(Et){return arguments.length?(Vt="function"==typeof Et?Et:a(Et),qt):Vt},qt.size=function(Et){return arguments.length?(bt=Dt=0,Ft=+Et[0],Mt=+Et[1],qt):[Ft-bt,Mt-Dt]},qt.extent=function(Et){return arguments.length?(bt=+Et[0][0],Ft=+Et[1][0],Dt=+Et[0][1],Mt=+Et[1][1],qt):[[bt,Dt],[Ft,Mt]]},qt.iterations=function(Et){return arguments.length?(te=+Et,qt):te},qt.circularLinkGap=function(Et){return arguments.length?(_t=+Et,qt):_t},qt.nodePaddingRatio=function(Et){return arguments.length?(kt=+Et,qt):kt},qt.sortNodes=function(Et){return arguments.length?(zt=Et,qt):zt},qt.update=function(Et){return F(Et,Ut),Ct(Et),Et.links.forEach(function(Rt){Rt.circular&&(Rt.circularLinkType=Rt.y0+Rt.y1<Mt?"top":"bottom",Rt.source.circularLinkType=Rt.circularLinkType,Rt.target.circularLinkType=Rt.circularLinkType)}),K(Et,Mt,Ut,!1),nt(Et,0,Ut),z(Et,_t,Mt,Ut),Et},qt}function p(bt,Dt,Ft){var Mt=0;if(null===Ft){for(var wt=[],St=0;St<bt.links.length;St++){var Ut=bt.links[St],Gt=Ut.source.index,Pt=Ut.target.index;wt[Gt]||(wt[Gt]=[]),wt[Pt]||(wt[Pt]=[]),-1===wt[Gt].indexOf(Pt)&&wt[Gt].push(Pt)}var Vt=E()(wt);Vt.sort(function(zt,qt){return zt.length-qt.length});var te={};for(St=0;St<Vt.length;St++){var kt=Vt[St].slice(-2);te[kt[0]]||(te[kt[0]]={}),te[kt[0]][kt[1]]=!0}bt.links.forEach(function(zt){var qt=zt.target.index,ae=zt.source.index;qt===ae||te[ae]&&te[ae][qt]?(zt.circular=!0,zt.circularLinkID=Mt,Mt+=1):zt.circular=!1})}else bt.links.forEach(function(zt){zt.source[Ft]<zt.target[Ft]?zt.circular=!1:(zt.circular=!0,zt.circularLinkID=Mt,Mt+=1)})}function F(bt,Dt){var Ft=0,Mt=0;bt.links.forEach(function(wt){wt.circular&&(wt.circularLinkType=wt.source.circularLinkType||wt.target.circularLinkType?wt.source.circularLinkType?wt.source.circularLinkType:wt.target.circularLinkType:Ft<Mt?"top":"bottom","top"==wt.circularLinkType?Ft+=1:Mt+=1,bt.nodes.forEach(function(St){(m(St,Dt)==m(wt.source,Dt)||m(St,Dt)==m(wt.target,Dt))&&(St.circularLinkType=wt.circularLinkType)}))}),bt.links.forEach(function(wt){wt.circular&&(wt.source.circularLinkType==wt.target.circularLinkType&&(wt.circularLinkType=wt.source.circularLinkType),dt(wt,Dt)&&(wt.circularLinkType=wt.source.circularLinkType))})}function D(bt){var Dt=Math.abs(bt.y1-bt.y0),Ft=Math.abs(bt.target.x0-bt.source.x1);return Math.atan(Ft/Dt)}function N(bt,Dt){return!(bt.source.column<Dt.target.column||bt.target.column>Dt.source.column)}function k(bt,Dt){var Ft=0;bt.sourceLinks.forEach(function(wt){Ft=wt.circular&&!dt(wt,Dt)?Ft+1:Ft});var Mt=0;return bt.targetLinks.forEach(function(wt){Mt=wt.circular&&!dt(wt,Dt)?Mt+1:Mt}),Ft+Mt}function O(bt){var Ft=0;bt.source.sourceLinks.forEach(function(St){Ft=St.circular?Ft+1:Ft});var wt=0;return bt.target.targetLinks.forEach(function(St){wt=St.circular?wt+1:wt}),!(Ft>1||wt>1)}function B(bt,Dt,Ft){return bt.sort(G),bt.forEach(function(Mt,wt){var St=0;if(dt(Mt,Ft)&&O(Mt))Mt.circularPathData.verticalBuffer=St+Mt.width/2;else{for(var Ut=0;Ut<wt;Ut++)if(N(bt[wt],bt[Ut])){var Gt=bt[Ut].circularPathData.verticalBuffer+bt[Ut].width/2+Dt;St=Gt>St?Gt:St}Mt.circularPathData.verticalBuffer=St+Mt.width/2}}),bt}function z(bt,Dt,Ft,Mt){var St=(0,A.VV)(bt.links,function(Pt){return Pt.source.y0});bt.links.forEach(function(Pt){Pt.circular&&(Pt.circularPathData={})}),B(bt.links.filter(function(Pt){return"top"==Pt.circularLinkType}),Dt,Mt),B(bt.links.filter(function(Pt){return"bottom"==Pt.circularLinkType}),Dt,Mt),bt.links.forEach(function(Pt){if(Pt.circular){if(Pt.circularPathData.arcRadius=Pt.width+b,Pt.circularPathData.leftNodeBuffer=5,Pt.circularPathData.rightNodeBuffer=5,Pt.circularPathData.sourceWidth=Pt.source.x1-Pt.source.x0,Pt.circularPathData.sourceX=Pt.source.x0+Pt.circularPathData.sourceWidth,Pt.circularPathData.targetX=Pt.target.x0,Pt.circularPathData.sourceY=Pt.y0,Pt.circularPathData.targetY=Pt.y1,dt(Pt,Mt)&&O(Pt))Pt.circularPathData.leftSmallArcRadius=b+Pt.width/2,Pt.circularPathData.leftLargeArcRadius=b+Pt.width/2,Pt.circularPathData.rightSmallArcRadius=b+Pt.width/2,Pt.circularPathData.rightLargeArcRadius=b+Pt.width/2,"bottom"==Pt.circularLinkType?(Pt.circularPathData.verticalFullExtent=Pt.source.y1+S+Pt.circularPathData.verticalBuffer,Pt.circularPathData.verticalLeftInnerExtent=Pt.circularPathData.verticalFullExtent-Pt.circularPathData.leftLargeArcRadius,Pt.circularPathData.verticalRightInnerExtent=Pt.circularPathData.verticalFullExtent-Pt.circularPathData.rightLargeArcRadius):(Pt.circularPathData.verticalFullExtent=Pt.source.y0-S-Pt.circularPathData.verticalBuffer,Pt.circularPathData.verticalLeftInnerExtent=Pt.circularPathData.verticalFullExtent+Pt.circularPathData.leftLargeArcRadius,Pt.circularPathData.verticalRightInnerExtent=Pt.circularPathData.verticalFullExtent+Pt.circularPathData.rightLargeArcRadius);else{var Vt=Pt.source.column,te=Pt.circularLinkType,_t=bt.links.filter(function(qt){return qt.source.column==Vt&&qt.circularLinkType==te});_t.sort("bottom"==Pt.circularLinkType?rt:Q);var kt=0;_t.forEach(function(qt,ae){qt.circularLinkID==Pt.circularLinkID&&(Pt.circularPathData.leftSmallArcRadius=b+Pt.width/2+kt,Pt.circularPathData.leftLargeArcRadius=b+Pt.width/2+ae*Dt+kt),kt+=qt.width}),Vt=Pt.target.column,(_t=bt.links.filter(function(qt){return qt.target.column==Vt&&qt.circularLinkType==te})).sort("bottom"==Pt.circularLinkType?ut:it),kt=0,_t.forEach(function(qt,ae){qt.circularLinkID==Pt.circularLinkID&&(Pt.circularPathData.rightSmallArcRadius=b+Pt.width/2+kt,Pt.circularPathData.rightLargeArcRadius=b+Pt.width/2+ae*Dt+kt),kt+=qt.width}),"bottom"==Pt.circularLinkType?(Pt.circularPathData.verticalFullExtent=Math.max(Ft,Pt.source.y1,Pt.target.y1)+S+Pt.circularPathData.verticalBuffer,Pt.circularPathData.verticalLeftInnerExtent=Pt.circularPathData.verticalFullExtent-Pt.circularPathData.leftLargeArcRadius,Pt.circularPathData.verticalRightInnerExtent=Pt.circularPathData.verticalFullExtent-Pt.circularPathData.rightLargeArcRadius):(Pt.circularPathData.verticalFullExtent=St-S-Pt.circularPathData.verticalBuffer,Pt.circularPathData.verticalLeftInnerExtent=Pt.circularPathData.verticalFullExtent+Pt.circularPathData.leftLargeArcRadius,Pt.circularPathData.verticalRightInnerExtent=Pt.circularPathData.verticalFullExtent+Pt.circularPathData.rightLargeArcRadius)}Pt.circularPathData.leftInnerExtent=Pt.circularPathData.sourceX+Pt.circularPathData.leftNodeBuffer,Pt.circularPathData.rightInnerExtent=Pt.circularPathData.targetX-Pt.circularPathData.rightNodeBuffer,Pt.circularPathData.leftFullExtent=Pt.circularPathData.sourceX+Pt.circularPathData.leftLargeArcRadius+Pt.circularPathData.leftNodeBuffer,Pt.circularPathData.rightFullExtent=Pt.circularPathData.targetX-Pt.circularPathData.rightLargeArcRadius-Pt.circularPathData.rightNodeBuffer}if(Pt.circular)Pt.path=function U(bt){return"top"==bt.circularLinkType?"M"+bt.circularPathData.sourceX+" "+bt.circularPathData.sourceY+" L"+bt.circularPathData.leftInnerExtent+" "+bt.circularPathData.sourceY+" A"+bt.circularPathData.leftLargeArcRadius+" "+bt.circularPathData.leftSmallArcRadius+" 0 0 0 "+bt.circularPathData.leftFullExtent+" "+(bt.circularPathData.sourceY-bt.circularPathData.leftSmallArcRadius)+" L"+bt.circularPathData.leftFullExtent+" "+bt.circularPathData.verticalLeftInnerExtent+" A"+bt.circularPathData.leftLargeArcRadius+" "+bt.circularPathData.leftLargeArcRadius+" 0 0 0 "+bt.circularPathData.leftInnerExtent+" "+bt.circularPathData.verticalFullExtent+" L"+bt.circularPathData.rightInnerExtent+" "+bt.circularPathData.verticalFullExtent+" A"+bt.circularPathData.rightLargeArcRadius+" "+bt.circularPathData.rightLargeArcRadius+" 0 0 0 "+bt.circularPathData.rightFullExtent+" "+bt.circularPathData.verticalRightInnerExtent+" L"+bt.circularPathData.rightFullExtent+" "+(bt.circularPathData.targetY-bt.circularPathData.rightSmallArcRadius)+" A"+bt.circularPathData.rightLargeArcRadius+" "+bt.circularPathData.rightSmallArcRadius+" 0 0 0 "+bt.circularPathData.rightInnerExtent+" "+bt.circularPathData.targetY+" L"+bt.circularPathData.targetX+" "+bt.circularPathData.targetY:"M"+bt.circularPathData.sourceX+" "+bt.circularPathData.sourceY+" L"+bt.circularPathData.leftInnerExtent+" "+bt.circularPathData.sourceY+" A"+bt.circularPathData.leftLargeArcRadius+" "+bt.circularPathData.leftSmallArcRadius+" 0 0 1 "+bt.circularPathData.leftFullExtent+" "+(bt.circularPathData.sourceY+bt.circularPathData.leftSmallArcRadius)+" L"+bt.circularPathData.leftFullExtent+" "+bt.circularPathData.verticalLeftInnerExtent+" A"+bt.circularPathData.leftLargeArcRadius+" "+bt.circularPathData.leftLargeArcRadius+" 0 0 1 "+bt.circularPathData.leftInnerExtent+" "+bt.circularPathData.verticalFullExtent+" L"+bt.circularPathData.rightInnerExtent+" "+bt.circularPathData.verticalFullExtent+" A"+bt.circularPathData.rightLargeArcRadius+" "+bt.circularPathData.rightLargeArcRadius+" 0 0 1 "+bt.circularPathData.rightFullExtent+" "+bt.circularPathData.verticalRightInnerExtent+" L"+bt.circularPathData.rightFullExtent+" "+(bt.circularPathData.targetY+bt.circularPathData.rightSmallArcRadius)+" A"+bt.circularPathData.rightLargeArcRadius+" "+bt.circularPathData.rightSmallArcRadius+" 0 0 1 "+bt.circularPathData.rightInnerExtent+" "+bt.circularPathData.targetY+" L"+bt.circularPathData.targetX+" "+bt.circularPathData.targetY}(Pt);else{var zt=(0,i.h5)().source(function(qt){return[qt.source.x0+(qt.source.x1-qt.source.x0),qt.y0]}).target(function(qt){return[qt.target.x0,qt.y1]});Pt.path=zt(Pt)}})}function G(bt,Dt){return J(bt)==J(Dt)?"bottom"==bt.circularLinkType?rt(bt,Dt):Q(bt,Dt):J(Dt)-J(bt)}function Q(bt,Dt){return bt.y0-Dt.y0}function rt(bt,Dt){return Dt.y0-bt.y0}function it(bt,Dt){return bt.y1-Dt.y1}function ut(bt,Dt){return Dt.y1-bt.y1}function J(bt){return bt.target.column-bt.source.column}function j(bt){return bt.target.x0-bt.source.x1}function Z(bt,Dt){var Ft=D(bt),Mt=j(Dt)/Math.tan(Ft);return"up"==st(bt)?bt.y1+Mt:bt.y1-Mt}function H(bt,Dt){var Ft=D(bt),Mt=j(Dt)/Math.tan(Ft);return"up"==st(bt)?bt.y1-Mt:bt.y1+Mt}function X(bt,Dt,Ft,Mt){bt.links.forEach(function(wt){if(!wt.circular&&wt.target.column-wt.source.column>1){var St=wt.source.column+1,Ut=wt.target.column-1,Gt=1,Pt=Ut-St+1;for(Gt=1;St<=Ut;St++,Gt++)bt.nodes.forEach(function(Vt){if(Vt.column==St){var ye,te=Gt/(Pt+1),_t=Math.pow(1-te,3),kt=3*te*Math.pow(1-te,2),zt=3*Math.pow(te,2)*(1-te),qt=Math.pow(te,3),ae=_t*wt.y0+kt*wt.y0+zt*wt.y1+qt*wt.y1,oe=ae-wt.width/2,pe=ae+wt.width/2;oe>Vt.y0&&oe<Vt.y1?(ye=Vt.y1-oe+10,Vt=_(Vt,ye="bottom"==Vt.circularLinkType?ye:-ye,Dt,Ft),bt.nodes.forEach(function(Fe){m(Fe,Mt)==m(Vt,Mt)||Fe.column!=Vt.column||at(Vt,Fe)&&_(Fe,ye,Dt,Ft)})):(pe>Vt.y0&&pe<Vt.y1||oe<Vt.y0&&pe>Vt.y1)&&(Vt=_(Vt,ye=pe-Vt.y0+10,Dt,Ft),bt.nodes.forEach(function(Fe){m(Fe,Mt)==m(Vt,Mt)||Fe.column!=Vt.column||Fe.y0<Vt.y1&&Fe.y1>Vt.y1&&_(Fe,ye,Dt,Ft)}))}})}})}function at(bt,Dt){return bt.y0>Dt.y0&&bt.y0<Dt.y1||bt.y1>Dt.y0&&bt.y1<Dt.y1||bt.y0<Dt.y0&&bt.y1>Dt.y1}function _(bt,Dt,Ft,Mt){return bt.y0+Dt>=Ft&&bt.y1+Dt<=Mt&&(bt.y0=bt.y0+Dt,bt.y1=bt.y1+Dt,bt.targetLinks.forEach(function(wt){wt.y1=wt.y1+Dt}),bt.sourceLinks.forEach(function(wt){wt.y0=wt.y0+Dt})),bt}function K(bt,Dt,Ft,Mt){bt.nodes.forEach(function(wt){Mt&&wt.y+(wt.y1-wt.y0)>Dt&&(wt.y=wt.y-(wt.y+(wt.y1-wt.y0)-Dt));var St=bt.links.filter(function(Pt){return m(Pt.source,Ft)==m(wt,Ft)}),Ut=St.length;Ut>1&&St.sort(function(Pt,Vt){if(!Pt.circular&&!Vt.circular){if(Pt.target.column==Vt.target.column)return Pt.y1-Vt.y1;if(!et(Pt,Vt))return Pt.y1-Vt.y1;if(Pt.target.column>Vt.target.column){var te=H(Vt,Pt);return Pt.y1-te}if(Vt.target.column>Pt.target.column)return H(Pt,Vt)-Vt.y1}return Pt.circular&&!Vt.circular?"top"==Pt.circularLinkType?-1:1:Vt.circular&&!Pt.circular?"top"==Vt.circularLinkType?1:-1:Pt.circular&&Vt.circular?Pt.circularLinkType===Vt.circularLinkType&&"top"==Pt.circularLinkType?Pt.target.column===Vt.target.column?Pt.target.y1-Vt.target.y1:Vt.target.column-Pt.target.column:Pt.circularLinkType===Vt.circularLinkType&&"bottom"==Pt.circularLinkType?Pt.target.column===Vt.target.column?Vt.target.y1-Pt.target.y1:Pt.target.column-Vt.target.column:"top"==Pt.circularLinkType?-1:1:void 0});var Gt=wt.y0;St.forEach(function(Pt){Pt.y0=Gt+Pt.width/2,Gt+=Pt.width}),St.forEach(function(Pt,Vt){if("bottom"==Pt.circularLinkType){for(var te=Vt+1,_t=0;te<Ut;te++)_t+=St[te].width;Pt.y0=wt.y1-_t-Pt.width/2}})})}function nt(bt,Dt,Ft){bt.nodes.forEach(function(Mt){var wt=bt.links.filter(function(Gt){return m(Gt.target,Ft)==m(Mt,Ft)}),St=wt.length;St>1&&wt.sort(function(Gt,Pt){if(!Gt.circular&&!Pt.circular){if(Gt.source.column==Pt.source.column)return Gt.y0-Pt.y0;if(!et(Gt,Pt))return Gt.y0-Pt.y0;if(Pt.source.column<Gt.source.column){var Vt=Z(Pt,Gt);return Gt.y0-Vt}if(Gt.source.column<Pt.source.column)return Z(Gt,Pt)-Pt.y0}return Gt.circular&&!Pt.circular?"top"==Gt.circularLinkType?-1:1:Pt.circular&&!Gt.circular?"top"==Pt.circularLinkType?1:-1:Gt.circular&&Pt.circular?Gt.circularLinkType===Pt.circularLinkType&&"top"==Gt.circularLinkType?Gt.source.column===Pt.source.column?Gt.source.y1-Pt.source.y1:Gt.source.column-Pt.source.column:Gt.circularLinkType===Pt.circularLinkType&&"bottom"==Gt.circularLinkType?Gt.source.column===Pt.source.column?Gt.source.y1-Pt.source.y1:Pt.source.column-Gt.source.column:"top"==Gt.circularLinkType?-1:1:void 0});var Ut=Mt.y0;wt.forEach(function(Gt){Gt.y1=Ut+Gt.width/2,Ut+=Gt.width}),wt.forEach(function(Gt,Pt){if("bottom"==Gt.circularLinkType){for(var Vt=Pt+1,te=0;Vt<St;Vt++)te+=wt[Vt].width;Gt.y1=Mt.y1-te-Gt.width/2}})})}function et(bt,Dt){return st(bt)==st(Dt)}function st(bt){return bt.y0-bt.y1>0?"up":"down"}function dt(bt,Dt){return m(bt.source,Dt)==m(bt.target,Dt)}function Tt(bt,Dt,Ft){var Mt=bt.nodes,wt=bt.links,St=!1,Ut=!1;if(wt.forEach(function(kt){"top"==kt.circularLinkType?St=!0:"bottom"==kt.circularLinkType&&(Ut=!0)}),0==St||0==Ut){var Gt=(0,A.VV)(Mt,function(kt){return kt.y0}),_t=(Ft-Dt)/((0,A.Fp)(Mt,function(kt){return kt.y1})-Gt);Mt.forEach(function(kt){var zt=(kt.y1-kt.y0)*_t;kt.y0=(kt.y0-Gt)*_t,kt.y1=kt.y0+zt}),wt.forEach(function(kt){kt.y0=(kt.y0-Gt)*_t,kt.y1=(kt.y1-Gt)*_t,kt.width=kt.width*_t})}}},30838:function(tt,W,t){"use strict";t.r(W),t.d(W,{sankey:function(){return h},sankeyCenter:function(){return x},sankeyJustify:function(){return l},sankeyLeft:function(){return P},sankeyLinkHorizontal:function(){return m},sankeyRight:function(){return E}});var A=t(33064),g=t(15140);function i(S){return S.target.depth}function P(S){return S.depth}function E(S,b){return b-1-S.height}function l(S,b){return S.sourceLinks.length?S.depth:b-1}function x(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,A.VV)(S.sourceLinks,i)-1:0}function e(S){return function(){return S}}function r(S,b){return a(S.source,b.source)||S.index-b.index}function f(S,b){return a(S.target,b.target)||S.index-b.index}function a(S,b){return S.y0-b.y0}function s(S){return S.value}function c(S){return(S.y0+S.y1)/2}function u(S){return c(S.source)*S.value}function y(S){return c(S.target)*S.value}function v(S){return S.index}function w(S){return S.nodes}function d(S){return S.links}function o(S,b){var n=S.get(b);if(!n)throw new Error("missing: "+b);return n}function h(){var S=0,b=0,n=1,C=1,p=24,F=8,D=v,N=l,k=w,O=d,B=32;function U(){var J={nodes:k.apply(null,arguments),links:O.apply(null,arguments)};return G(J),Q(J),rt(J),it(J),ut(J),J}function G(J){J.nodes.forEach(function(Z,H){Z.index=H,Z.sourceLinks=[],Z.targetLinks=[]});var j=(0,g.UI)(J.nodes,D);J.links.forEach(function(Z,H){Z.index=H;var X=Z.source,at=Z.target;"object"!=typeof X&&(X=Z.source=o(j,X)),"object"!=typeof at&&(at=Z.target=o(j,at)),X.sourceLinks.push(Z),at.targetLinks.push(Z)})}function Q(J){J.nodes.forEach(function(j){j.value=Math.max((0,A.Sm)(j.sourceLinks,s),(0,A.Sm)(j.targetLinks,s))})}function rt(J){var j,Z,H;for(j=J.nodes,Z=[],H=0;j.length;++H,j=Z,Z=[])j.forEach(function(at){at.depth=H,at.sourceLinks.forEach(function(_){Z.indexOf(_.target)<0&&Z.push(_.target)})});for(j=J.nodes,Z=[],H=0;j.length;++H,j=Z,Z=[])j.forEach(function(at){at.height=H,at.targetLinks.forEach(function(_){Z.indexOf(_.source)<0&&Z.push(_.source)})});var X=(n-S-p)/(H-1);J.nodes.forEach(function(at){at.x1=(at.x0=S+Math.max(0,Math.min(H-1,Math.floor(N.call(null,at,H))))*X)+p})}function it(J){var j=(0,g.b1)().key(function(nt){return nt.x0}).sortKeys(A.j2).entries(J.nodes).map(function(nt){return nt.values});(function X(){var nt=(0,A.Fp)(j,function(dt){return dt.length}),et=.6666666666666666*(C-b)/(nt-1);F>et&&(F=et);var st=(0,A.VV)(j,function(dt){return(C-b-(dt.length-1)*F)/(0,A.Sm)(dt,s)});j.forEach(function(dt){dt.forEach(function(Tt,bt){Tt.y1=(Tt.y0=bt)+Tt.value*st})}),J.links.forEach(function(dt){dt.width=dt.value*st})})(),K();for(var Z=1,H=B;H>0;--H)_(Z*=.99),K(),at(Z),K();function at(nt){j.forEach(function(et){et.forEach(function(st){if(st.targetLinks.length){var dt=((0,A.Sm)(st.targetLinks,u)/(0,A.Sm)(st.targetLinks,s)-c(st))*nt;st.y0+=dt,st.y1+=dt}})})}function _(nt){j.slice().reverse().forEach(function(et){et.forEach(function(st){if(st.sourceLinks.length){var dt=((0,A.Sm)(st.sourceLinks,y)/(0,A.Sm)(st.sourceLinks,s)-c(st))*nt;st.y0+=dt,st.y1+=dt}})})}function K(){j.forEach(function(nt){var et,st,bt,dt=b,Tt=nt.length;for(nt.sort(a),bt=0;bt<Tt;++bt)(st=dt-(et=nt[bt]).y0)>0&&(et.y0+=st,et.y1+=st),dt=et.y1+F;if((st=dt-F-C)>0)for(dt=et.y0-=st,et.y1-=st,bt=Tt-2;bt>=0;--bt)(st=(et=nt[bt]).y1+F-dt)>0&&(et.y0-=st,et.y1-=st),dt=et.y0})}}function ut(J){J.nodes.forEach(function(j){j.sourceLinks.sort(f),j.targetLinks.sort(r)}),J.nodes.forEach(function(j){var Z=j.y0,H=Z;j.sourceLinks.forEach(function(X){X.y0=Z+X.width/2,Z+=X.width}),j.targetLinks.forEach(function(X){X.y1=H+X.width/2,H+=X.width})})}return U.update=function(J){return ut(J),J},U.nodeId=function(J){return arguments.length?(D="function"==typeof J?J:e(J),U):D},U.nodeAlign=function(J){return arguments.length?(N="function"==typeof J?J:e(J),U):N},U.nodeWidth=function(J){return arguments.length?(p=+J,U):p},U.nodePadding=function(J){return arguments.length?(F=+J,U):F},U.nodes=function(J){return arguments.length?(k="function"==typeof J?J:e(J),U):k},U.links=function(J){return arguments.length?(O="function"==typeof J?J:e(J),U):O},U.size=function(J){return arguments.length?(S=b=0,n=+J[0],C=+J[1],U):[n-S,C-b]},U.extent=function(J){return arguments.length?(S=+J[0][0],n=+J[1][0],b=+J[0][1],C=+J[1][1],U):[[S,b],[n,C]]},U.iterations=function(J){return arguments.length?(B=+J,U):B},U}var M=t(45879);function T(S){return[S.source.x1,S.y0]}function L(S){return[S.target.x0,S.y1]}function m(){return(0,M.h5)().source(T).target(L)}},39898:function(tt,W,t){var A,g;(function(){var i={version:"3.8.0"},P=[].slice,E=function(ot){return P.call(ot)},l=self.document;function x(ot){return ot&&(ot.ownerDocument||ot.document||ot).documentElement}function e(ot){return ot&&(ot.ownerDocument&&ot.ownerDocument.defaultView||ot.document&&ot||ot.defaultView)}if(l)try{E(l.documentElement.childNodes)}catch(ot){E=function(mt){for(var Bt=mt.length,Kt=new Array(Bt);Bt--;)Kt[Bt]=mt[Bt];return Kt}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(ot){var r=this.Element.prototype,f=r.setAttribute,a=r.setAttributeNS,s=this.CSSStyleDeclaration.prototype,c=s.setProperty;r.setAttribute=function(mt,Bt){f.call(this,mt,Bt+"")},r.setAttributeNS=function(mt,Bt,Kt){a.call(this,mt,Bt,Kt+"")},s.setProperty=function(mt,Bt,Kt){c.call(this,mt,Bt+"",Kt)}}function u(ot,mt){return ot<mt?-1:ot>mt?1:ot>=mt?0:NaN}function y(ot){return null===ot?NaN:+ot}function v(ot){return!isNaN(ot)}function w(ot){return{left:function(mt,Bt,Kt,Jt){for(arguments.length<3&&(Kt=0),arguments.length<4&&(Jt=mt.length);Kt<Jt;){var ee=Kt+Jt>>>1;ot(mt[ee],Bt)<0?Kt=ee+1:Jt=ee}return Kt},right:function(mt,Bt,Kt,Jt){for(arguments.length<3&&(Kt=0),arguments.length<4&&(Jt=mt.length);Kt<Jt;){var ee=Kt+Jt>>>1;ot(mt[ee],Bt)>0?Jt=ee:Kt=ee+1}return Kt}}}i.ascending=u,i.descending=function(ot,mt){return mt<ot?-1:mt>ot?1:mt>=ot?0:NaN},i.min=function(ot,mt){var Jt,ee,Bt=-1,Kt=ot.length;if(1===arguments.length){for(;++Bt<Kt;)if(null!=(ee=ot[Bt])&&ee>=ee){Jt=ee;break}for(;++Bt<Kt;)null!=(ee=ot[Bt])&&Jt>ee&&(Jt=ee)}else{for(;++Bt<Kt;)if(null!=(ee=mt.call(ot,ot[Bt],Bt))&&ee>=ee){Jt=ee;break}for(;++Bt<Kt;)null!=(ee=mt.call(ot,ot[Bt],Bt))&&Jt>ee&&(Jt=ee)}return Jt},i.max=function(ot,mt){var Jt,ee,Bt=-1,Kt=ot.length;if(1===arguments.length){for(;++Bt<Kt;)if(null!=(ee=ot[Bt])&&ee>=ee){Jt=ee;break}for(;++Bt<Kt;)null!=(ee=ot[Bt])&&ee>Jt&&(Jt=ee)}else{for(;++Bt<Kt;)if(null!=(ee=mt.call(ot,ot[Bt],Bt))&&ee>=ee){Jt=ee;break}for(;++Bt<Kt;)null!=(ee=mt.call(ot,ot[Bt],Bt))&&ee>Jt&&(Jt=ee)}return Jt},i.extent=function(ot,mt){var Jt,ee,Ee,Bt=-1,Kt=ot.length;if(1===arguments.length){for(;++Bt<Kt;)if(null!=(ee=ot[Bt])&&ee>=ee){Jt=Ee=ee;break}for(;++Bt<Kt;)null!=(ee=ot[Bt])&&(Jt>ee&&(Jt=ee),Ee<ee&&(Ee=ee))}else{for(;++Bt<Kt;)if(null!=(ee=mt.call(ot,ot[Bt],Bt))&&ee>=ee){Jt=Ee=ee;break}for(;++Bt<Kt;)null!=(ee=mt.call(ot,ot[Bt],Bt))&&(Jt>ee&&(Jt=ee),Ee<ee&&(Ee=ee))}return[Jt,Ee]},i.sum=function(ot,mt){var Jt,Bt=0,Kt=ot.length,ee=-1;if(1===arguments.length)for(;++ee<Kt;)v(Jt=+ot[ee])&&(Bt+=Jt);else for(;++ee<Kt;)v(Jt=+mt.call(ot,ot[ee],ee))&&(Bt+=Jt);return Bt},i.mean=function(ot,mt){var Jt,Bt=0,Kt=ot.length,ee=-1,Ee=Kt;if(1===arguments.length)for(;++ee<Kt;)v(Jt=y(ot[ee]))?Bt+=Jt:--Ee;else for(;++ee<Kt;)v(Jt=y(mt.call(ot,ot[ee],ee)))?Bt+=Jt:--Ee;if(Ee)return Bt/Ee},i.quantile=function(ot,mt){var Bt=(ot.length-1)*mt+1,Kt=Math.floor(Bt),Jt=+ot[Kt-1],ee=Bt-Kt;return ee?Jt+ee*(ot[Kt]-Jt):Jt},i.median=function(ot,mt){var Jt,Bt=[],Kt=ot.length,ee=-1;if(1===arguments.length)for(;++ee<Kt;)v(Jt=y(ot[ee]))&&Bt.push(Jt);else for(;++ee<Kt;)v(Jt=y(mt.call(ot,ot[ee],ee)))&&Bt.push(Jt);if(Bt.length)return i.quantile(Bt.sort(u),.5)},i.variance=function(ot,mt){var Jt,ee,Bt=ot.length,Kt=0,Ee=0,me=-1,ze=0;if(1===arguments.length)for(;++me<Bt;)v(Jt=y(ot[me]))&&(Ee+=(ee=Jt-Kt)*(Jt-(Kt+=ee/++ze)));else for(;++me<Bt;)v(Jt=y(mt.call(ot,ot[me],me)))&&(Ee+=(ee=Jt-Kt)*(Jt-(Kt+=ee/++ze)));if(ze>1)return Ee/(ze-1)},i.deviation=function(){var ot=i.variance.apply(this,arguments);return ot&&Math.sqrt(ot)};var d=w(u);function o(ot){return ot.length}i.bisectLeft=d.left,i.bisect=i.bisectRight=d.right,i.bisector=function(ot){return w(1===ot.length?function(mt,Bt){return u(ot(mt),Bt)}:ot)},i.shuffle=function(ot,mt,Bt){(Kt=arguments.length)<3&&(Bt=ot.length,Kt<2&&(mt=0));for(var Jt,ee,Kt=Bt-mt;Kt;)ee=Math.random()*Kt--|0,Jt=ot[Kt+mt],ot[Kt+mt]=ot[ee+mt],ot[ee+mt]=Jt;return ot},i.permute=function(ot,mt){for(var Bt=mt.length,Kt=new Array(Bt);Bt--;)Kt[Bt]=ot[mt[Bt]];return Kt},i.pairs=function(ot){for(var mt=0,Bt=ot.length-1,Jt=ot[0],ee=new Array(Bt<0?0:Bt);mt<Bt;)ee[mt]=[Jt,Jt=ot[++mt]];return ee},i.transpose=function(ot){if(!(ee=ot.length))return[];for(var mt=-1,Bt=i.min(ot,o),Kt=new Array(Bt);++mt<Bt;)for(var ee,Jt=-1,Ee=Kt[mt]=new Array(ee);++Jt<ee;)Ee[Jt]=ot[Jt][mt];return Kt},i.zip=function(){return i.transpose(arguments)},i.keys=function(ot){var mt=[];for(var Bt in ot)mt.push(Bt);return mt},i.values=function(ot){var mt=[];for(var Bt in ot)mt.push(ot[Bt]);return mt},i.entries=function(ot){var mt=[];for(var Bt in ot)mt.push({key:Bt,value:ot[Bt]});return mt},i.merge=function(ot){for(var Bt,ee,Ee,mt=ot.length,Kt=-1,Jt=0;++Kt<mt;)Jt+=ot[Kt].length;for(ee=new Array(Jt);--mt>=0;)for(Bt=(Ee=ot[mt]).length;--Bt>=0;)ee[--Jt]=Ee[Bt];return ee};var h=Math.abs;function M(ot){for(var mt=1;ot*mt%1;)mt*=10;return mt}function T(ot,mt){for(var Bt in mt)Object.defineProperty(ot.prototype,Bt,{value:mt[Bt],enumerable:!1})}function L(){this._=Object.create(null)}i.range=function(ot,mt,Bt){if(arguments.length<3&&(Bt=1,arguments.length<2&&(mt=ot,ot=0)),(mt-ot)/Bt==1/0)throw new Error("infinite range");var Ee,Kt=[],Jt=M(h(Bt)),ee=-1;if(ot*=Jt,mt*=Jt,(Bt*=Jt)<0)for(;(Ee=ot+Bt*++ee)>mt;)Kt.push(Ee/Jt);else for(;(Ee=ot+Bt*++ee)<mt;)Kt.push(Ee/Jt);return Kt},i.map=function(ot,mt){var Bt=new L;if(ot instanceof L)ot.forEach(function(me,ze){Bt.set(me,ze)});else if(Array.isArray(ot)){var ee,Kt=-1,Jt=ot.length;if(1===arguments.length)for(;++Kt<Jt;)Bt.set(Kt,ot[Kt]);else for(;++Kt<Jt;)Bt.set(mt.call(ot,ee=ot[Kt],Kt),ee)}else for(var Ee in ot)Bt.set(Ee,ot[Ee]);return Bt};function b(ot){return"__proto__"==(ot+="")||"\0"===ot[0]?"\0"+ot:ot}function n(ot){return"\0"===(ot+="")[0]?ot.slice(1):ot}function C(ot){return b(ot)in this._}function p(ot){return(ot=b(ot))in this._&&delete this._[ot]}function F(){var ot=[];for(var mt in this._)ot.push(n(mt));return ot}function D(){var ot=0;for(var mt in this._)++ot;return ot}function N(){for(var ot in this._)return!1;return!0}function k(){this._=Object.create(null)}function O(ot){return ot}function B(ot,mt,Bt){return function(){var Kt=Bt.apply(mt,arguments);return Kt===mt?ot:Kt}}function z(ot,mt){if(mt in ot)return mt;mt=mt.charAt(0).toUpperCase()+mt.slice(1);for(var Bt=0,Kt=U.length;Bt<Kt;++Bt){var Jt=U[Bt]+mt;if(Jt in ot)return Jt}}T(L,{has:C,get:function(ot){return this._[b(ot)]},set:function(ot,mt){return this._[b(ot)]=mt},remove:p,keys:F,values:function(){var ot=[];for(var mt in this._)ot.push(this._[mt]);return ot},entries:function(){var ot=[];for(var mt in this._)ot.push({key:n(mt),value:this._[mt]});return ot},size:D,empty:N,forEach:function(ot){for(var mt in this._)ot.call(this,n(mt),this._[mt])}}),i.nest=function(){var Kt,Jt,ot={},mt=[],Bt=[];function ee(me,ze,$e){if($e>=mt.length)return Jt?Jt.call(ot,ze):Kt?ze.sort(Kt):ze;for(var Jr,tn,Rr,Vr,er=-1,Sr=ze.length,Ar=mt[$e++],Or=new L;++er<Sr;)(Vr=Or.get(Jr=Ar(tn=ze[er])))?Vr.push(tn):Or.set(Jr,[tn]);return me?(tn=me(),Rr=function(nn,ln){tn.set(nn,ee(me,ln,$e))}):(tn={},Rr=function(nn,ln){tn[nn]=ee(me,ln,$e)}),Or.forEach(Rr),tn}function Ee(me,ze){if(ze>=mt.length)return me;var $e=[],er=Bt[ze++];return me.forEach(function(Sr,Ar){$e.push({key:Sr,values:Ee(Ar,ze)})}),er?$e.sort(function(Sr,Ar){return er(Sr.key,Ar.key)}):$e}return ot.map=function(me,ze){return ee(ze,me,0)},ot.entries=function(me){return Ee(ee(i.map,me,0),0)},ot.key=function(me){return mt.push(me),ot},ot.sortKeys=function(me){return Bt[mt.length-1]=me,ot},ot.sortValues=function(me){return Kt=me,ot},ot.rollup=function(me){return Jt=me,ot},ot},i.set=function(ot){var mt=new k;if(ot)for(var Bt=0,Kt=ot.length;Bt<Kt;++Bt)mt.add(ot[Bt]);return mt},T(k,{has:C,add:function(ot){return this._[b(ot+="")]=!0,ot},remove:p,values:F,size:D,empty:N,forEach:function(ot){for(var mt in this._)ot.call(this,n(mt))}}),i.behavior={},i.rebind=function(ot,mt){for(var Jt,Bt=1,Kt=arguments.length;++Bt<Kt;)ot[Jt=arguments[Bt]]=B(ot,mt,mt[Jt]);return ot};var U=["webkit","ms","moz","Moz","o","O"];function G(){}function Q(){}function rt(ot){var mt=[],Bt=new L;function Kt(){for(var me,Jt=mt,ee=-1,Ee=Jt.length;++ee<Ee;)(me=Jt[ee].on)&&me.apply(this,arguments);return ot}return Kt.on=function(Jt,ee){var me,Ee=Bt.get(Jt);return arguments.length<2?Ee&&Ee.on:(Ee&&(Ee.on=null,mt=mt.slice(0,me=mt.indexOf(Ee)).concat(mt.slice(me+1)),Bt.remove(Jt)),ee&&mt.push(Bt.set(Jt,{on:ee})),ot)},Kt}function it(){i.event.preventDefault()}function ut(){for(var mt,ot=i.event;mt=ot.sourceEvent;)ot=mt;return ot}function J(ot){for(var mt=new Q,Bt=0,Kt=arguments.length;++Bt<Kt;)mt[arguments[Bt]]=rt(mt);return mt.of=function(Jt,ee){return function(Ee){try{var me=Ee.sourceEvent=i.event;Ee.target=ot,i.event=Ee,mt[Ee.type].apply(Jt,ee)}finally{i.event=me}}},mt}i.dispatch=function(){for(var ot=new Q,mt=-1,Bt=arguments.length;++mt<Bt;)ot[arguments[mt]]=rt(ot);return ot},Q.prototype.on=function(ot,mt){var Bt=ot.indexOf("."),Kt="";if(Bt>=0&&(Kt=ot.slice(Bt+1),ot=ot.slice(0,Bt)),ot)return arguments.length<2?this[ot].on(Kt):this[ot].on(Kt,mt);if(2===arguments.length){if(null==mt)for(ot in this)this.hasOwnProperty(ot)&&this[ot].on(Kt,null);return this}},i.event=null,i.requote=function(ot){return ot.replace(j,"\\$&")};var j=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Z={}.__proto__?function(ot,mt){ot.__proto__=mt}:function(ot,mt){for(var Bt in mt)ot[Bt]=mt[Bt]};function H(ot){return Z(ot,K),ot}var X=function(ot,mt){return mt.querySelector(ot)},at=function(ot,mt){return mt.querySelectorAll(ot)},_=function(ot,mt){var Bt=ot.matches||ot[z(ot,"matchesSelector")];return(_=function(Kt,Jt){return Bt.call(Kt,Jt)})(ot,mt)};"function"==typeof Sizzle&&(X=function(ot,mt){return Sizzle(ot,mt)[0]||null},at=Sizzle,_=Sizzle.matchesSelector),i.selection=function(){return i.select(l.documentElement)};var K=i.selection.prototype=[];function nt(ot){return"function"==typeof ot?ot:function(){return X(ot,this)}}function et(ot){return"function"==typeof ot?ot:function(){return at(ot,this)}}K.select=function(ot){var Bt,Kt,Jt,ee,mt=[];ot=nt(ot);for(var Ee=-1,me=this.length;++Ee<me;){mt.push(Bt=[]),Bt.parentNode=(Jt=this[Ee]).parentNode;for(var ze=-1,$e=Jt.length;++ze<$e;)(ee=Jt[ze])?(Bt.push(Kt=ot.call(ee,ee.__data__,ze,Ee)),Kt&&"__data__"in ee&&(Kt.__data__=ee.__data__)):Bt.push(null)}return H(mt)},K.selectAll=function(ot){var Bt,Kt,mt=[];ot=et(ot);for(var Jt=-1,ee=this.length;++Jt<ee;)for(var Ee=this[Jt],me=-1,ze=Ee.length;++me<ze;)(Kt=Ee[me])&&(mt.push(Bt=E(ot.call(Kt,Kt.__data__,me,Jt))),Bt.parentNode=Kt);return H(mt)};var st="http://www.w3.org/1999/xhtml",dt={svg:"http://www.w3.org/2000/svg",xhtml:st,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tt(ot,mt){return ot=i.ns.qualify(ot),null==mt?ot.local?function Kt(){this.removeAttributeNS(ot.space,ot.local)}:function Bt(){this.removeAttribute(ot)}:"function"==typeof mt?ot.local?function me(){var ze=mt.apply(this,arguments);null==ze?this.removeAttributeNS(ot.space,ot.local):this.setAttributeNS(ot.space,ot.local,ze)}:function Ee(){var ze=mt.apply(this,arguments);null==ze?this.removeAttribute(ot):this.setAttribute(ot,ze)}:ot.local?function ee(){this.setAttributeNS(ot.space,ot.local,mt)}:function Jt(){this.setAttribute(ot,mt)}}function bt(ot){return ot.trim().replace(/\s+/g," ")}function Dt(ot){return new RegExp("(?:^|\\s+)"+i.requote(ot)+"(?:\\s+|$)","g")}function Ft(ot){return(ot+"").trim().split(/^|\s+/)}function Mt(ot,mt){var Bt=(ot=Ft(ot).map(wt)).length;return"function"==typeof mt?function Jt(){for(var ee=-1,Ee=mt.apply(this,arguments);++ee<Bt;)ot[ee](this,Ee)}:function Kt(){for(var ee=-1;++ee<Bt;)ot[ee](this,mt)}}function wt(ot){var mt=Dt(ot);return function(Bt,Kt){if(Jt=Bt.classList)return Kt?Jt.add(ot):Jt.remove(ot);var Jt=Bt.getAttribute("class")||"";Kt?(mt.lastIndex=0,mt.test(Jt)||Bt.setAttribute("class",bt(Jt+" "+ot))):Bt.setAttribute("class",bt(Jt.replace(mt," ")))}}function St(ot,mt,Bt){return null==mt?function Kt(){this.style.removeProperty(ot)}:"function"==typeof mt?function ee(){var Ee=mt.apply(this,arguments);null==Ee?this.style.removeProperty(ot):this.style.setProperty(ot,Ee,Bt)}:function Jt(){this.style.setProperty(ot,mt,Bt)}}function Ut(ot,mt){return null==mt?function Bt(){delete this[ot]}:"function"==typeof mt?function Jt(){var ee=mt.apply(this,arguments);null==ee?delete this[ot]:this[ot]=ee}:function Kt(){this[ot]=mt}}function Gt(ot){return"function"==typeof ot?ot:(ot=i.ns.qualify(ot)).local?function Bt(){return this.ownerDocument.createElementNS(ot.space,ot.local)}:function mt(){var Kt=this.ownerDocument,Jt=this.namespaceURI;return Jt===st&&Kt.documentElement.namespaceURI===st?Kt.createElement(ot):Kt.createElementNS(Jt,ot)}}function Pt(){var ot=this.parentNode;ot&&ot.removeChild(this)}function Vt(ot){return{__data__:ot}}function te(ot){return function(){return _(this,ot)}}function _t(ot){return arguments.length||(ot=u),function(mt,Bt){return mt&&Bt?ot(mt.__data__,Bt.__data__):!mt-!Bt}}function kt(ot,mt){for(var Bt=0,Kt=ot.length;Bt<Kt;Bt++)for(var me,Jt=ot[Bt],ee=0,Ee=Jt.length;ee<Ee;ee++)(me=Jt[ee])&&mt(me,ee,Bt);return ot}function zt(ot){return Z(ot,qt),ot}i.ns={prefix:dt,qualify:function(ot){var mt=ot.indexOf(":"),Bt=ot;return mt>=0&&"xmlns"!==(Bt=ot.slice(0,mt))&&(ot=ot.slice(mt+1)),dt.hasOwnProperty(Bt)?{space:dt[Bt],local:ot}:ot}},K.attr=function(ot,mt){if(arguments.length<2){if("string"==typeof ot){var Bt=this.node();return(ot=i.ns.qualify(ot)).local?Bt.getAttributeNS(ot.space,ot.local):Bt.getAttribute(ot)}for(mt in ot)this.each(Tt(mt,ot[mt]));return this}return this.each(Tt(ot,mt))},K.classed=function(ot,mt){if(arguments.length<2){if("string"==typeof ot){var Bt=this.node(),Kt=(ot=Ft(ot)).length,Jt=-1;if(mt=Bt.classList){for(;++Jt<Kt;)if(!mt.contains(ot[Jt]))return!1}else for(mt=Bt.getAttribute("class");++Jt<Kt;)if(!Dt(ot[Jt]).test(mt))return!1;return!0}for(mt in ot)this.each(Mt(mt,ot[mt]));return this}return this.each(Mt(ot,mt))},K.style=function(ot,mt,Bt){var Kt=arguments.length;if(Kt<3){if("string"!=typeof ot){for(Bt in Kt<2&&(mt=""),ot)this.each(St(Bt,ot[Bt],mt));return this}if(Kt<2){var Jt=this.node();return e(Jt).getComputedStyle(Jt,null).getPropertyValue(ot)}Bt=""}return this.each(St(ot,mt,Bt))},K.property=function(ot,mt){if(arguments.length<2){if("string"==typeof ot)return this.node()[ot];for(mt in ot)this.each(Ut(mt,ot[mt]));return this}return this.each(Ut(ot,mt))},K.text=function(ot){return arguments.length?this.each("function"==typeof ot?function(){var mt=ot.apply(this,arguments);this.textContent=null==mt?"":mt}:null==ot?function(){this.textContent=""}:function(){this.textContent=ot}):this.node().textContent},K.html=function(ot){return arguments.length?this.each("function"==typeof ot?function(){var mt=ot.apply(this,arguments);this.innerHTML=null==mt?"":mt}:null==ot?function(){this.innerHTML=""}:function(){this.innerHTML=ot}):this.node().innerHTML},K.append=function(ot){return ot=Gt(ot),this.select(function(){return this.appendChild(ot.apply(this,arguments))})},K.insert=function(ot,mt){return ot=Gt(ot),mt=nt(mt),this.select(function(){return this.insertBefore(ot.apply(this,arguments),mt.apply(this,arguments)||null)})},K.remove=function(){return this.each(Pt)},K.data=function(ot,mt){var Jt,ee,Bt=-1,Kt=this.length;if(!arguments.length){for(ot=new Array(Kt=(Jt=this[0]).length);++Bt<Kt;)(ee=Jt[Bt])&&(ot[Bt]=ee.__data__);return ot}function Ee(er,Sr){var Ar,ln,Xr,Jr=er.length,tn=Sr.length,Rr=Math.min(Jr,tn),Or=new Array(tn),Vr=new Array(tn),nn=new Array(Jr);if(mt){var oa,In=new L,qn=new Array(Jr);for(Ar=-1;++Ar<Jr;)(ln=er[Ar])&&(In.has(oa=mt.call(ln,ln.__data__,Ar))?nn[Ar]=ln:In.set(oa,ln),qn[Ar]=oa);for(Ar=-1;++Ar<tn;)(ln=In.get(oa=mt.call(Sr,Xr=Sr[Ar],Ar)))?!0!==ln&&(Or[Ar]=ln,ln.__data__=Xr):Vr[Ar]=Vt(Xr),In.set(oa,!0);for(Ar=-1;++Ar<Jr;)Ar in qn&&!0!==In.get(qn[Ar])&&(nn[Ar]=er[Ar])}else{for(Ar=-1;++Ar<Rr;)Xr=Sr[Ar],(ln=er[Ar])?(ln.__data__=Xr,Or[Ar]=ln):Vr[Ar]=Vt(Xr);for(;Ar<tn;++Ar)Vr[Ar]=Vt(Sr[Ar]);for(;Ar<Jr;++Ar)nn[Ar]=er[Ar]}Vr.update=Or,Vr.parentNode=Or.parentNode=nn.parentNode=er.parentNode,me.push(Vr),ze.push(Or),$e.push(nn)}var me=zt([]),ze=H([]),$e=H([]);if("function"==typeof ot)for(;++Bt<Kt;)Ee(Jt=this[Bt],ot.call(Jt,Jt.parentNode.__data__,Bt));else for(;++Bt<Kt;)Ee(Jt=this[Bt],ot);return ze.enter=function(){return me},ze.exit=function(){return $e},ze},K.datum=function(ot){return arguments.length?this.property("__data__",ot):this.property("__data__")},K.filter=function(ot){var Bt,Kt,Jt,mt=[];"function"!=typeof ot&&(ot=te(ot));for(var ee=0,Ee=this.length;ee<Ee;ee++){mt.push(Bt=[]),Bt.parentNode=(Kt=this[ee]).parentNode;for(var me=0,ze=Kt.length;me<ze;me++)(Jt=Kt[me])&&ot.call(Jt,Jt.__data__,me,ee)&&Bt.push(Jt)}return H(mt)},K.order=function(){for(var ot=-1,mt=this.length;++ot<mt;)for(var ee,Bt=this[ot],Kt=Bt.length-1,Jt=Bt[Kt];--Kt>=0;)(ee=Bt[Kt])&&(Jt&&Jt!==ee.nextSibling&&Jt.parentNode.insertBefore(ee,Jt),Jt=ee);return this},K.sort=function(ot){ot=_t.apply(this,arguments);for(var mt=-1,Bt=this.length;++mt<Bt;)this[mt].sort(ot);return this.order()},K.each=function(ot){return kt(this,function(mt,Bt,Kt){ot.call(mt,mt.__data__,Bt,Kt)})},K.call=function(ot){var mt=E(arguments);return ot.apply(mt[0]=this,mt),this},K.empty=function(){return!this.node()},K.node=function(){for(var ot=0,mt=this.length;ot<mt;ot++)for(var Bt=this[ot],Kt=0,Jt=Bt.length;Kt<Jt;Kt++){var ee=Bt[Kt];if(ee)return ee}return null},K.size=function(){var ot=0;return kt(this,function(){++ot}),ot};var qt=[];function ae(ot){var mt,Bt;return function(Kt,Jt,ee){var ze,Ee=ot[ee].update,me=Ee.length;for(ee!=Bt&&(Bt=ee,mt=0),Jt>=mt&&(mt=Jt+1);!(ze=Ee[mt])&&++mt<me;);return ze}}function oe(ot,mt,Bt){var Kt="__on"+ot,Jt=ot.indexOf("."),ee=ye;Jt>0&&(ot=ot.slice(0,Jt));var Ee=pe.get(ot);function me(){var er=this[Kt];er&&(this.removeEventListener(ot,er,er.$),delete this[Kt])}return Ee&&(ot=Ee,ee=Fe),Jt?mt?function ze(){var er=ee(mt,E(arguments));me.call(this),this.addEventListener(ot,this[Kt]=er,er.$=Bt),er._=mt}:me:mt?G:function $e(){var Sr,er=new RegExp("^__on([^.]+)"+i.requote(ot)+"$");for(var Ar in this)if(Sr=Ar.match(er)){var Jr=this[Ar];this.removeEventListener(Sr[1],Jr,Jr.$),delete this[Ar]}}}i.selection.enter=zt,i.selection.enter.prototype=qt,qt.append=K.append,qt.empty=K.empty,qt.node=K.node,qt.call=K.call,qt.size=K.size,qt.select=function(ot){for(var Bt,Kt,Jt,ee,Ee,mt=[],me=-1,ze=this.length;++me<ze;){Jt=(ee=this[me]).update,mt.push(Bt=[]),Bt.parentNode=ee.parentNode;for(var $e=-1,er=ee.length;++$e<er;)(Ee=ee[$e])?(Bt.push(Jt[$e]=Kt=ot.call(ee.parentNode,Ee.__data__,$e,me)),Kt.__data__=Ee.__data__):Bt.push(null)}return H(mt)},qt.insert=function(ot,mt){return arguments.length<2&&(mt=ae(this)),K.insert.call(this,ot,mt)},i.select=function(ot){var mt;return"string"==typeof ot?(mt=[X(ot,l)]).parentNode=l.documentElement:(mt=[ot]).parentNode=x(ot),H([mt])},i.selectAll=function(ot){var mt;return"string"==typeof ot?(mt=E(at(ot,l))).parentNode=l.documentElement:(mt=E(ot)).parentNode=null,H([mt])},K.on=function(ot,mt,Bt){var Kt=arguments.length;if(Kt<3){if("string"!=typeof ot){for(Bt in Kt<2&&(mt=!1),ot)this.each(oe(Bt,ot[Bt],mt));return this}if(Kt<2)return(Kt=this.node()["__on"+ot])&&Kt._;Bt=!1}return this.each(oe(ot,mt,Bt))};var pe=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});function ye(ot,mt){return function(Bt){var Kt=i.event;i.event=Bt,mt[0]=this.__data__;try{ot.apply(this,mt)}finally{i.event=Kt}}}function Fe(ot,mt){var Bt=ye(ot,mt);return function(Kt){var ee=Kt.relatedTarget;(!ee||ee!==this&&!(8&ee.compareDocumentPosition(this)))&&Bt.call(this,Kt)}}l&&pe.forEach(function(ot){"on"+ot in l&&pe.remove(ot)});var Zt,Ct=0;function Et(ot){var mt=".dragsuppress-"+ ++Ct,Bt="click"+mt,Kt=i.select(e(ot)).on("touchmove"+mt,it).on("dragstart"+mt,it).on("selectstart"+mt,it);if(null==Zt&&(Zt=!("onselectstart"in ot)&&z(ot.style,"userSelect")),Zt){var Jt=x(ot).style,ee=Jt[Zt];Jt[Zt]="none"}return function(Ee){if(Kt.on(mt,null),Zt&&(Jt[Zt]=ee),Ee){var me=function(){Kt.on(Bt,null)};Kt.on(Bt,function(){it(),me()},!0),setTimeout(me,0)}}}i.mouse=function(ot){return Ot(ot,ut())};var Rt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ot(ot,mt){mt.changedTouches&&(mt=mt.changedTouches[0]);var Bt=ot.ownerSVGElement||ot;if(Bt.createSVGPoint){var Kt=Bt.createSVGPoint();if(Rt<0){var Jt=e(ot);if(Jt.scrollX||Jt.scrollY){var ee=(Bt=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Rt=!(ee.f||ee.e),Bt.remove()}}return Rt?(Kt.x=mt.pageX,Kt.y=mt.pageY):(Kt.x=mt.clientX,Kt.y=mt.clientY),[(Kt=Kt.matrixTransform(ot.getScreenCTM().inverse())).x,Kt.y]}var Ee=ot.getBoundingClientRect();return[mt.clientX-Ee.left-ot.clientLeft,mt.clientY-Ee.top-ot.clientTop]}function It(){return i.event.changedTouches[0].identifier}i.touch=function(ot,mt,Bt){if(arguments.length<3&&(Bt=mt,mt=ut().changedTouches),mt)for(var ee,Kt=0,Jt=mt.length;Kt<Jt;++Kt)if((ee=mt[Kt]).identifier===Bt)return Ot(ot,ee)},i.behavior.drag=function(){var ot=J(Jt,"drag","dragstart","dragend"),mt=null,Bt=ee(G,i.mouse,e,"mousemove","mouseup"),Kt=ee(It,i.touch,O,"touchmove","touchend");function Jt(){this.on("mousedown.drag",Bt).on("touchstart.drag",Kt)}function ee(Ee,me,ze,$e,er){return function(){var nn,Sr=this,Ar=i.event.target.correspondingElement||i.event.target,Jr=Sr.parentNode,tn=ot.of(Sr,arguments),Rr=0,Or=Ee(),Vr=".drag"+(null==Or?"":"-"+Or),ln=i.select(ze(Ar)).on($e+Vr,qn).on(er+Vr,oa),Xr=Et(Ar),In=me(Jr,Or);function qn(){var na,ma,ra=me(Jr,Or);!ra||(Rr|=(na=ra[0]-In[0])|(ma=ra[1]-In[1]),In=ra,tn({type:"drag",x:ra[0]+nn[0],y:ra[1]+nn[1],dx:na,dy:ma}))}function oa(){!me(Jr,Or)||(ln.on($e+Vr,null).on(er+Vr,null),Xr(Rr),tn({type:"dragend"}))}nn=mt?[(nn=mt.apply(Sr,arguments)).x-In[0],nn.y-In[1]]:[0,0],tn({type:"dragstart"})}}return Jt.origin=function(Ee){return arguments.length?(mt=Ee,Jt):mt},i.rebind(Jt,ot,"on")},i.touches=function(ot,mt){return arguments.length<2&&(mt=ut().touches),mt?E(mt).map(function(Bt){var Kt=Ot(ot,Bt);return Kt.identifier=Bt.identifier,Kt}):[]};var gt=1e-6,vt=Math.PI,yt=2*vt,Yt=yt-gt,Qt=vt/2,le=vt/180,he=180/vt;function Oe(ot,mt,Bt){return(mt[0]-ot[0])*(Bt[1]-ot[1])-(mt[1]-ot[1])*(Bt[0]-ot[0])}function je(ot){return ot>1?Qt:ot<-1?-Qt:Math.asin(ot)}function Lr(ot){return((ot=Math.exp(ot))+1/ot)/2}var He=Math.SQRT2;i.interpolateZoom=function(ot,mt){var Sr,Ar,Bt=ot[0],Kt=ot[1],Jt=ot[2],me=mt[2],ze=mt[0]-Bt,$e=mt[1]-Kt,er=ze*ze+$e*$e;if(er<1e-12)Ar=Math.log(me/Jt)/He,Sr=function(nn){return[Bt+nn*ze,Kt+nn*$e,Jt*Math.exp(He*nn*Ar)]};else{var Jr=Math.sqrt(er),tn=(me*me-Jt*Jt+4*er)/(2*Jt*2*Jr),Rr=(me*me-Jt*Jt-4*er)/(2*me*2*Jr),Or=Math.log(Math.sqrt(tn*tn+1)-tn),Vr=Math.log(Math.sqrt(Rr*Rr+1)-Rr);Ar=(Vr-Or)/He,Sr=function(nn){var ln=nn*Ar,Xr=Lr(Or),In=Jt/(2*Jr)*(Xr*function fe(ot){return((ot=Math.exp(2*ot))-1)/(ot+1)}(He*ln+Or)-function Ze(ot){return((ot=Math.exp(ot))-1/ot)/2}(Or));return[Bt+In*ze,Kt+In*$e,Jt*Xr/Lr(He*ln+Or)]}}return Sr.duration=1e3*Ar,Sr},i.behavior.zoom=function(){var mt,Bt,Kt,Sr,Jr,Rr,Or,Vr,nn,ot={x:0,y:0,k:1},Jt=[960,500],ee=ie,Ee=250,me=0,ze="mousedown.zoom",$e="mousemove.zoom",er="mouseup.zoom",Ar="touchstart.zoom",tn=J(ln,"zoomstart","zoom","zoomend");function ln(jn){jn.on(ze,Sa).on(ve+".zoom",mi).on("dblclick.zoom",ja).on(Ar,Na)}function Xr(jn){return[(jn[0]-ot.x)/ot.k,(jn[1]-ot.y)/ot.k]}function qn(jn){ot.k=Math.max(ee[0],Math.min(ee[1],jn))}function oa(jn,La){La=function In(jn){return[jn[0]*ot.k+ot.x,jn[1]*ot.k+ot.y]}(La),ot.x+=jn[0]-La[0],ot.y+=jn[1]-La[1]}function ra(jn,La,Ea,Wn){jn.__chart__={x:ot.x,y:ot.y,k:ot.k},qn(Math.pow(2,Wn)),oa(Bt=La,Ea),jn=i.select(jn),Ee>0&&(jn=jn.transition().duration(Ee)),jn.call(ln.event)}function na(){Or&&Or.domain(Rr.range().map(function(jn){return(jn-ot.x)/ot.k}).map(Rr.invert)),nn&&nn.domain(Vr.range().map(function(jn){return(jn-ot.y)/ot.k}).map(Vr.invert))}function ma(jn){me++||jn({type:"zoomstart"})}function va(jn){na(),jn({type:"zoom",scale:ot.k,translate:[ot.x,ot.y]})}function da(jn){--me||(jn({type:"zoomend"}),Bt=null)}function Sa(){var jn=this,La=tn.of(jn,arguments),Ea=0,Wn=i.select(e(jn)).on($e,di).on(er,Ai),ua=Xr(i.mouse(jn)),ii=Et(jn);function di(){Ea=1,oa(i.mouse(jn),ua),va(La)}function Ai(){Wn.on($e,null).on(er,null),ii(Ea),da(La)}kr.call(jn),ma(La)}function Na(){var ua,jn=this,La=tn.of(jn,arguments),Ea={},Wn=0,ii=".zoom-"+i.event.changedTouches[0].identifier,di="touchmove"+ii,Ai="touchend"+ii,ri=[],Pi=i.select(jn),Mi=Et(jn);function Vi(){var Ua=i.touches(jn);return ua=ot.k,Ua.forEach(function(Wa){Wa.identifier in Ea&&(Ea[Wa.identifier]=Xr(Wa))}),Ua}function ti(){var Ua=i.event.target;i.select(Ua).on(di,ml).on(Ai,Ls),ri.push(Ua);for(var Wa=i.event.changedTouches,Bo=0,So=Wa.length;Bo<So;++Bo)Ea[Wa[Bo].identifier]=null;var io=Vi(),Eo=Date.now();if(1===io.length)Eo-Jr<500&&(ra(jn,No=io[0],Ea[No.identifier],Math.floor(Math.log(ot.k)/Math.LN2)+1),it()),Jr=Eo;else if(io.length>1){var No,_o=io[1],Ki=(No=io[0])[0]-_o[0],Ps=No[1]-_o[1];Wn=Ki*Ki+Ps*Ps}}function ml(){var Wa,Bo,So,io,Ua=i.touches(jn);kr.call(jn);for(var Eo=0,No=Ua.length;Eo<No;++Eo,io=null)if(io=Ea[(So=Ua[Eo]).identifier]){if(Bo)break;Wa=So,Bo=io}if(io){var _o=(_o=So[0]-Wa[0])*_o+(_o=So[1]-Wa[1])*_o,Ki=Wn&&Math.sqrt(_o/Wn);Wa=[(Wa[0]+So[0])/2,(Wa[1]+So[1])/2],Bo=[(Bo[0]+io[0])/2,(Bo[1]+io[1])/2],qn(Ki*ua)}Jr=null,oa(Wa,Bo),va(La)}function Ls(){if(i.event.touches.length){for(var Ua=i.event.changedTouches,Wa=0,Bo=Ua.length;Wa<Bo;++Wa)delete Ea[Ua[Wa].identifier];for(var So in Ea)return void Vi()}i.selectAll(ri).on(ii,null),Pi.on(ze,Sa).on(Ar,Na),Mi(),da(La)}ti(),ma(La),Pi.on(ze,null).on(Ar,ti)}function mi(){var jn=tn.of(this,arguments);Sr?clearTimeout(Sr):(kr.call(this),mt=Xr(Bt=Kt||i.mouse(this)),ma(jn)),Sr=setTimeout(function(){Sr=null,da(jn)},50),it(),qn(Math.pow(2,.002*ne())*ot.k),oa(Bt,mt),va(jn)}function ja(){var jn=i.mouse(this),La=Math.log(ot.k)/Math.LN2;ra(this,jn,Xr(jn),i.event.shiftKey?Math.ceil(La)-1:Math.floor(La)+1)}return ve||(ve="onwheel"in l?(ne=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(ne=function(){return i.event.wheelDelta},"mousewheel"):(ne=function(){return-i.event.detail},"MozMousePixelScroll")),ln.event=function(jn){jn.each(function(){var La=tn.of(this,arguments),Ea=ot;kn?i.select(this).transition().each("start.zoom",function(){ot=this.__chart__||{x:0,y:0,k:1},ma(La)}).tween("zoom:zoom",function(){var Wn=Jt[0],ii=Bt?Bt[0]:Wn/2,di=Bt?Bt[1]:Jt[1]/2,Ai=i.interpolateZoom([(ii-ot.x)/ot.k,(di-ot.y)/ot.k,Wn/ot.k],[(ii-Ea.x)/Ea.k,(di-Ea.y)/Ea.k,Wn/Ea.k]);return function(ri){var Pi=Ai(ri),Mi=Wn/Pi[2];this.__chart__=ot={x:ii-Pi[0]*Mi,y:di-Pi[1]*Mi,k:Mi},va(La)}}).each("interrupt.zoom",function(){da(La)}).each("end.zoom",function(){da(La)}):(this.__chart__=ot,ma(La),va(La),da(La))})},ln.translate=function(jn){return arguments.length?(ot={x:+jn[0],y:+jn[1],k:ot.k},na(),ln):[ot.x,ot.y]},ln.scale=function(jn){return arguments.length?(ot={x:ot.x,y:ot.y,k:null},qn(+jn),na(),ln):ot.k},ln.scaleExtent=function(jn){return arguments.length?(ee=null==jn?ie:[+jn[0],+jn[1]],ln):ee},ln.center=function(jn){return arguments.length?(Kt=jn&&[+jn[0],+jn[1]],ln):Kt},ln.size=function(jn){return arguments.length?(Jt=jn&&[+jn[0],+jn[1]],ln):Jt},ln.duration=function(jn){return arguments.length?(Ee=+jn,ln):Ee},ln.x=function(jn){return arguments.length?(Or=jn,Rr=jn.copy(),ot={x:0,y:0,k:1},ln):Or},ln.y=function(jn){return arguments.length?(nn=jn,Vr=jn.copy(),ot={x:0,y:0,k:1},ln):nn},i.rebind(ln,tn,"on")};var ne,ve,ie=[0,1/0];function xe(){}function Te(ot,mt,Bt){return this instanceof Te?(this.h=+ot,this.s=+mt,void(this.l=+Bt)):arguments.length<2?ot instanceof Te?new Te(ot.h,ot.s,ot.l):Er(""+ot,Zr,Te):new Te(ot,mt,Bt)}i.color=xe,xe.prototype.toString=function(){return this.rgb()+""},i.hsl=Te;var be=Te.prototype=new xe;function Pe(ot,mt,Bt){var Kt,Jt;function Ee(me){return Math.round(255*function ee(me){return me>360?me-=360:me<0&&(me+=360),me<60?Kt+(Jt-Kt)*me/60:me<180?Jt:me<240?Kt+(Jt-Kt)*(240-me)/60:Kt}(me))}return ot=isNaN(ot)?0:(ot%=360)<0?ot+360:ot,mt=isNaN(mt)||mt<0?0:mt>1?1:mt,Kt=2*(Bt=Bt<0?0:Bt>1?1:Bt)-(Jt=Bt<=.5?Bt*(1+mt):Bt+mt-Bt*mt),new sr(Ee(ot+120),Ee(ot),Ee(ot-120))}function Be(ot,mt,Bt){return this instanceof Be?(this.h=+ot,this.c=+mt,void(this.l=+Bt)):arguments.length<2?ot instanceof Be?new Be(ot.h,ot.c,ot.l):rr(ot instanceof tr?ot.l:(ot=rn((ot=i.rgb(ot)).r,ot.g,ot.b)).l,ot.a,ot.b):new Be(ot,mt,Bt)}be.brighter=function(ot){return ot=Math.pow(.7,arguments.length?ot:1),new Te(this.h,this.s,this.l/ot)},be.darker=function(ot){return ot=Math.pow(.7,arguments.length?ot:1),new Te(this.h,this.s,ot*this.l)},be.rgb=function(){return Pe(this.h,this.s,this.l)},i.hcl=Be;var Qe=Be.prototype=new xe;function Ke(ot,mt,Bt){return isNaN(ot)&&(ot=0),isNaN(mt)&&(mt=0),new tr(Bt,Math.cos(ot*=le)*mt,Math.sin(ot)*mt)}function tr(ot,mt,Bt){return this instanceof tr?(this.l=+ot,this.a=+mt,void(this.b=+Bt)):arguments.length<2?ot instanceof tr?new tr(ot.l,ot.a,ot.b):ot instanceof Be?Ke(ot.h,ot.c,ot.l):rn((ot=sr(ot)).r,ot.g,ot.b):new tr(ot,mt,Bt)}Qe.brighter=function(ot){return new Be(this.h,this.c,Math.min(100,this.l+vr*(arguments.length?ot:1)))},Qe.darker=function(ot){return new Be(this.h,this.c,Math.max(0,this.l-vr*(arguments.length?ot:1)))},Qe.rgb=function(){return Ke(this.h,this.c,this.l).rgb()},i.lab=tr;var vr=18,Le=tr.prototype=new xe;function We(ot,mt,Bt){var Kt=(ot+16)/116,Jt=Kt+mt/500,ee=Kt-Bt/200;return new sr(De(3.2404542*(Jt=.95047*or(Jt))-1.5371385*(Kt=1*or(Kt))-.4985314*(ee=1.08883*or(ee))),De(-.969266*Jt+1.8760108*Kt+.041556*ee),De(.0556434*Jt-.2040259*Kt+1.0572252*ee))}function rr(ot,mt,Bt){return ot>0?new Be(Math.atan2(Bt,mt)*he,Math.sqrt(mt*mt+Bt*Bt),ot):new Be(NaN,NaN,ot)}function or(ot){return ot>.206893034?ot*ot*ot:(ot-.13793103448275862)/7.787037}function qe(ot){return ot>.008856?Math.pow(ot,.3333333333333333):7.787037*ot+.13793103448275862}function De(ot){return Math.round(255*(ot<=.00304?12.92*ot:1.055*Math.pow(ot,.4166666666666667)-.055))}function sr(ot,mt,Bt){return this instanceof sr?(this.r=~~ot,this.g=~~mt,void(this.b=~~Bt)):arguments.length<2?ot instanceof sr?new sr(ot.r,ot.g,ot.b):Er(""+ot,sr,Pe):new sr(ot,mt,Bt)}function gr(ot){return new sr(ot>>16,ot>>8&255,255&ot)}function dr(ot){return gr(ot)+""}Le.brighter=function(ot){return new tr(Math.min(100,this.l+vr*(arguments.length?ot:1)),this.a,this.b)},Le.darker=function(ot){return new tr(Math.max(0,this.l-vr*(arguments.length?ot:1)),this.a,this.b)},Le.rgb=function(){return We(this.l,this.a,this.b)},i.rgb=sr;var Pr=sr.prototype=new xe;function qr(ot){return ot<16?"0"+Math.max(0,ot).toString(16):Math.min(255,ot).toString(16)}function Er(ot,mt,Bt){var Ee,me,ze,Kt=0,Jt=0,ee=0;if(Ee=/([a-z]+)\((.*)\)/.exec(ot=ot.toLowerCase()))switch(me=Ee[2].split(","),Ee[1]){case"hsl":return Bt(parseFloat(me[0]),parseFloat(me[1])/100,parseFloat(me[2])/100);case"rgb":return mt(Pn(me[0]),Pn(me[1]),Pn(me[2]))}return(ze=An.get(ot))?mt(ze.r,ze.g,ze.b):(null!=ot&&"#"===ot.charAt(0)&&!isNaN(ze=parseInt(ot.slice(1),16))&&(4===ot.length?(Kt=(3840&ze)>>4,Kt|=Kt>>4,Jt=240&ze,Jt|=Jt>>4,ee=15&ze,ee|=ee<<4):7===ot.length&&(Kt=(16711680&ze)>>16,Jt=(65280&ze)>>8,ee=255&ze)),mt(Kt,Jt,ee))}function Zr(ot,mt,Bt){var Ee,me,Kt=Math.min(ot/=255,mt/=255,Bt/=255),Jt=Math.max(ot,mt,Bt),ee=Jt-Kt,ze=(Jt+Kt)/2;return ee?(me=ze<.5?ee/(Jt+Kt):ee/(2-Jt-Kt),Ee=ot==Jt?(mt-Bt)/ee+(mt<Bt?6:0):mt==Jt?(Bt-ot)/ee+2:(ot-mt)/ee+4,Ee*=60):(Ee=NaN,me=ze>0&&ze<1?0:Ee),new Te(Ee,me,ze)}function rn(ot,mt,Bt){var Kt=qe((.4124564*(ot=zr(ot))+.3575761*(mt=zr(mt))+.1804375*(Bt=zr(Bt)))/.95047),Jt=qe((.2126729*ot+.7151522*mt+.072175*Bt)/1);return tr(116*Jt-16,500*(Kt-Jt),200*(Jt-qe((.0193339*ot+.119192*mt+.9503041*Bt)/1.08883)))}function zr(ot){return(ot/=255)<=.04045?ot/12.92:Math.pow((ot+.055)/1.055,2.4)}function Pn(ot){var mt=parseFloat(ot);return"%"===ot.charAt(ot.length-1)?Math.round(2.55*mt):mt}Pr.brighter=function(ot){ot=Math.pow(.7,arguments.length?ot:1);var mt=this.r,Bt=this.g,Kt=this.b,Jt=30;return mt||Bt||Kt?(mt&&mt<Jt&&(mt=Jt),Bt&&Bt<Jt&&(Bt=Jt),Kt&&Kt<Jt&&(Kt=Jt),new sr(Math.min(255,mt/ot),Math.min(255,Bt/ot),Math.min(255,Kt/ot))):new sr(Jt,Jt,Jt)},Pr.darker=function(ot){return new sr((ot=Math.pow(.7,arguments.length?ot:1))*this.r,ot*this.g,ot*this.b)},Pr.hsl=function(){return Zr(this.r,this.g,this.b)},Pr.toString=function(){return"#"+qr(this.r)+qr(this.g)+qr(this.b)};var An=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function lr(ot){return"function"==typeof ot?ot:function(){return ot}}function yr(ot){return function(mt,Bt,Kt){return 2===arguments.length&&"function"==typeof Bt&&(Kt=Bt,Bt=null),Fr(mt,Bt,ot,Kt)}}function Fr(ot,mt,Bt,Kt){var Jt={},ee=i.dispatch("beforesend","progress","load","error"),Ee={},me=new XMLHttpRequest,ze=null;function $e(){var Sr,er=me.status;if(!er&&function _r(ot){var mt=ot.responseType;return mt&&"text"!==mt?ot.response:ot.responseText}(me)||er>=200&&er<300||304===er){try{Sr=Bt.call(Jt,me)}catch(Ar){return void ee.error.call(Jt,Ar)}ee.load.call(Jt,Sr)}else ee.error.call(Jt,me)}return self.XDomainRequest&&!("withCredentials"in me)&&/^(http(s)?:)?\/\//.test(ot)&&(me=new XDomainRequest),"onload"in me?me.onload=me.onerror=$e:me.onreadystatechange=function(){me.readyState>3&&$e()},me.onprogress=function(er){var Sr=i.event;i.event=er;try{ee.progress.call(Jt,me)}finally{i.event=Sr}},Jt.header=function(er,Sr){return er=(er+"").toLowerCase(),arguments.length<2?Ee[er]:(null==Sr?delete Ee[er]:Ee[er]=Sr+"",Jt)},Jt.mimeType=function(er){return arguments.length?(mt=null==er?null:er+"",Jt):mt},Jt.responseType=function(er){return arguments.length?(ze=er,Jt):ze},Jt.response=function(er){return Bt=er,Jt},["get","post"].forEach(function(er){Jt[er]=function(){return Jt.send.apply(Jt,[er].concat(E(arguments)))}}),Jt.send=function(er,Sr,Ar){if(2===arguments.length&&"function"==typeof Sr&&(Ar=Sr,Sr=null),me.open(er,ot,!0),null!=mt&&!("accept"in Ee)&&(Ee.accept=mt+",*/*"),me.setRequestHeader)for(var Jr in Ee)me.setRequestHeader(Jr,Ee[Jr]);return null!=mt&&me.overrideMimeType&&me.overrideMimeType(mt),null!=ze&&(me.responseType=ze),null!=Ar&&Jt.on("error",Ar).on("load",function(tn){Ar(null,tn)}),ee.beforesend.call(Jt,me),me.send(null==Sr?null:Sr),Jt},Jt.abort=function(){return me.abort(),Jt},i.rebind(Jt,ee,"on"),null==Kt?Jt:Jt.get(function Br(ot){return 1===ot.length?function(mt,Bt){ot(null==mt?Bt:null)}:ot}(Kt))}An.forEach(function(ot,mt){An.set(ot,gr(mt))}),i.functor=lr,i.xhr=yr(O),i.dsv=function(ot,mt){var Bt=new RegExp('["'+ot+"\n]"),Kt=ot.charCodeAt(0);function Jt($e,er,Sr){arguments.length<3&&(Sr=er,er=null);var Ar=Fr($e,mt,null==er?ee:Ee(er),Sr);return Ar.row=function(Jr){return arguments.length?Ar.response(null==(er=Jr)?ee:Ee(Jr)):er},Ar}function ee($e){return Jt.parse($e.responseText)}function Ee($e){return function(er){return Jt.parse(er.responseText,$e)}}function me($e){return $e.map(ze).join(ot)}function ze($e){return Bt.test($e)?'"'+$e.replace(/\"/g,'""')+'"':$e}return Jt.parse=function($e,er){var Sr;return Jt.parseRows($e,function(Ar,Jr){if(Sr)return Sr(Ar,Jr-1);var tn=function(Rr){for(var Or={},Vr=Ar.length,nn=0;nn<Vr;++nn)Or[Ar[nn]]=Rr[nn];return Or};Sr=er?function(Rr,Or){return er(tn(Rr),Or)}:tn})},Jt.parseRows=function($e,er){var Vr,nn,Sr={},Ar={},Jr=[],tn=$e.length,Rr=0,Or=0;function ln(){if(Rr>=tn)return Ar;if(nn)return nn=!1,Sr;var In=Rr;if(34===$e.charCodeAt(In)){for(var qn=In;qn++<tn;)if(34===$e.charCodeAt(qn)){if(34!==$e.charCodeAt(qn+1))break;++qn}return Rr=qn+2,13===(oa=$e.charCodeAt(qn+1))?(nn=!0,10===$e.charCodeAt(qn+2)&&++Rr):10===oa&&(nn=!0),$e.slice(In+1,qn).replace(/""/g,'"')}for(;Rr<tn;){var oa,ra=1;if(10===(oa=$e.charCodeAt(Rr++)))nn=!0;else if(13===oa)nn=!0,10===$e.charCodeAt(Rr)&&(++Rr,++ra);else if(oa!==Kt)continue;return $e.slice(In,Rr-ra)}return $e.slice(In)}for(;(Vr=ln())!==Ar;){for(var Xr=[];Vr!==Sr&&Vr!==Ar;)Xr.push(Vr),Vr=ln();er&&null==(Xr=er(Xr,Or++))||Jr.push(Xr)}return Jr},Jt.format=function($e){if(Array.isArray($e[0]))return Jt.formatRows($e);var er=new k,Sr=[];return $e.forEach(function(Ar){for(var Jr in Ar)er.has(Jr)||Sr.push(er.add(Jr))}),[Sr.map(ze).join(ot)].concat($e.map(function(Ar){return Sr.map(function(Jr){return ze(Ar[Jr])}).join(ot)})).join("\n")},Jt.formatRows=function($e){return $e.map(me).join("\n")},Jt},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("\t","text/tab-separated-values");var dn,hn,xn,En,Vn=this[z(this,"requestAnimationFrame")]||function(ot){setTimeout(ot,17)};function Gn(ot,mt,Bt){var Kt=arguments.length;Kt<2&&(mt=0),Kt<3&&(Bt=Date.now());var ee={c:ot,t:Bt+mt,n:null};return hn?hn.n=ee:dn=ee,hn=ee,xn||(En=clearTimeout(En),xn=1,Vn(ia)),ee}function ia(){var ot=Kn(),mt=Qn()-ot;mt>24?(isFinite(mt)&&(clearTimeout(En),En=setTimeout(ia,mt)),xn=0):(xn=1,Vn(ia))}function Kn(){for(var ot=Date.now(),mt=dn;mt;)ot>=mt.t&&mt.c(ot-mt.t)&&(mt.c=null),mt=mt.n;return ot}function Qn(){for(var ot,mt=dn,Bt=1/0;mt;)mt.c?(mt.t<Bt&&(Bt=mt.t),mt=(ot=mt).n):mt=ot?ot.n=mt.n:dn=mt.n;return hn=ot,Bt}function Tr(ot){return ot[0]}function an(ot){return ot[1]}function sn(ot){for(var mt=ot.length,Bt=[0,1],Kt=2,Jt=2;Jt<mt;Jt++){for(;Kt>1&&Oe(ot[Bt[Kt-2]],ot[Bt[Kt-1]],ot[Jt])<=0;)--Kt;Bt[Kt++]=Jt}return Bt.slice(0,Kt)}function pn(ot,mt){return ot[0]-mt[0]||ot[1]-mt[1]}i.timer=function(){Gn.apply(this,arguments)},i.timer.flush=function(){Kn(),Qn()},i.round=function(ot,mt){return mt?Math.round(ot*(mt=Math.pow(10,mt)))/mt:Math.round(ot)},i.geom={},i.geom.hull=function(ot){var mt=Tr,Bt=an;if(arguments.length)return Kt(ot);function Kt(Jt){if(Jt.length<3)return[];var me,ee=lr(mt),Ee=lr(Bt),ze=Jt.length,$e=[],er=[];for(me=0;me<ze;me++)$e.push([+ee.call(this,Jt[me],me),+Ee.call(this,Jt[me],me),me]);for($e.sort(pn),me=0;me<ze;me++)er.push([$e[me][0],-$e[me][1]]);var Sr=sn($e),Ar=sn(er),Jr=Ar[0]===Sr[0],tn=Ar[Ar.length-1]===Sr[Sr.length-1],Rr=[];for(me=Sr.length-1;me>=0;--me)Rr.push(Jt[$e[Sr[me]][2]]);for(me=+Jr;me<Ar.length-tn;++me)Rr.push(Jt[$e[Ar[me]][2]]);return Rr}return Kt.x=function(Jt){return arguments.length?(mt=Jt,Kt):mt},Kt.y=function(Jt){return arguments.length?(Bt=Jt,Kt):Bt},Kt},i.geom.polygon=function(ot){return Z(ot,Fn),ot};var Fn=i.geom.polygon.prototype=[];function Cn(ot,mt,Bt){return(Bt[0]-mt[0])*(ot[1]-mt[1])<(Bt[1]-mt[1])*(ot[0]-mt[0])}function Ln(ot,mt,Bt,Kt){var Jt=ot[0],ee=Bt[0],Ee=mt[0]-Jt,me=Kt[0]-ee,ze=ot[1],$e=Bt[1],er=mt[1]-ze,Sr=Kt[1]-$e,Ar=(me*(ze-$e)-Sr*(Jt-ee))/(Sr*Ee-me*er);return[Jt+Ar*Ee,ze+Ar*er]}function On(ot){var mt=ot[0],Bt=ot[ot.length-1];return!(mt[0]-Bt[0]||mt[1]-Bt[1])}Fn.area=function(){for(var Bt,ot=-1,mt=this.length,Kt=this[mt-1],Jt=0;++ot<mt;)Jt+=(Bt=Kt)[1]*(Kt=this[ot])[0]-Bt[0]*Kt[1];return.5*Jt},Fn.centroid=function(ot){var ee,me,mt=-1,Bt=this.length,Kt=0,Jt=0,Ee=this[Bt-1];for(arguments.length||(ot=-1/(6*this.area()));++mt<Bt;)Kt+=((ee=Ee)[0]+(Ee=this[mt])[0])*(me=ee[0]*Ee[1]-Ee[0]*ee[1]),Jt+=(ee[1]+Ee[1])*me;return[Kt*ot,Jt*ot]},Fn.clip=function(ot){for(var mt,ee,Ee,ze,$e,er,Bt=On(ot),Kt=-1,Jt=this.length-On(this),me=this[Jt-1];++Kt<Jt;){for(mt=ot.slice(),ot.length=0,ze=this[Kt],$e=mt[(Ee=mt.length-Bt)-1],ee=-1;++ee<Ee;)Cn(er=mt[ee],me,ze)?(Cn($e,me,ze)||ot.push(Ln($e,er,me,ze)),ot.push(er)):Cn($e,me,ze)&&ot.push(Ln($e,er,me,ze)),$e=er;Bt&&ot.push(ot[0]),me=ze}return ot};var Jn,ya,Ba,br,en,Xe=[],vn=[];function un(){co(this),this.edge=this.site=this.circle=null}function Sn(ot){var mt=Xe.pop()||new un;return mt.site=ot,mt}function mn(ot){gn(ot),Ba.remove(ot),Xe.push(ot),co(ot)}function cn(ot){var mt=ot.circle,Bt=mt.x,Kt=mt.cy,Jt={x:Bt,y:Kt},ee=ot.P,Ee=ot.N,me=[ot];mn(ot);for(var ze=ee;ze.circle&&h(Bt-ze.circle.x)<gt&&h(Kt-ze.circle.cy)<gt;)ee=ze.P,me.unshift(ze),mn(ze),ze=ee;me.unshift(ze),gn(ze);for(var $e=Ee;$e.circle&&h(Bt-$e.circle.x)<gt&&h(Kt-$e.circle.cy)<gt;)Ee=$e.N,me.push($e),mn($e),$e=Ee;me.push($e),gn($e);var Sr,er=me.length;for(Sr=1;Sr<er;++Sr)to(($e=me[Sr]).edge,(ze=me[Sr-1]).site,$e.site,Jt);($e=me[er-1]).edge=Si((ze=me[0]).site,$e.site,null,Jt),Yr(ze),Yr($e)}function Cr(ot){for(var Kt,Jt,ee,Ee,mt=ot.x,Bt=ot.y,me=Ba._;me;)if((ee=Mr(me,Bt)-mt)>gt)me=me.L;else{if(!((Ee=mt-Ge(me,Bt))>gt)){ee>-gt?(Kt=me.P,Jt=me):Ee>-gt?(Kt=me,Jt=me.N):Kt=Jt=me;break}if(!me.R){Kt=me;break}me=me.R}var ze=Sn(ot);if(Ba.insert(Kt,ze),Kt||Jt){if(Kt===Jt)return gn(Kt),Jt=Sn(Kt.site),Ba.insert(ze,Jt),ze.edge=Jt.edge=Si(Kt.site,ze.site),Yr(Kt),void Yr(Jt);if(!Jt)return void(ze.edge=Si(Kt.site,ze.site));gn(Kt),gn(Jt);var $e=Kt.site,er=$e.x,Sr=$e.y,Ar=ot.x-er,Jr=ot.y-Sr,tn=Jt.site,Rr=tn.x-er,Or=tn.y-Sr,Vr=2*(Ar*Or-Jr*Rr),nn=Ar*Ar+Jr*Jr,ln=Rr*Rr+Or*Or,Xr={x:(Or*nn-Jr*ln)/Vr+er,y:(Ar*ln-Rr*nn)/Vr+Sr};to(Jt.edge,$e,tn,Xr),ze.edge=Si($e,ot,null,Xr),Jt.edge=Si(ot,tn,null,Xr),Yr(Kt),Yr(Jt)}}function Mr(ot,mt){var Bt=ot.site,Kt=Bt.x,Jt=Bt.y,ee=Jt-mt;if(!ee)return Kt;var Ee=ot.P;if(!Ee)return-1/0;var me=(Bt=Ee.site).x,ze=Bt.y,$e=ze-mt;if(!$e)return me;var er=me-Kt,Sr=1/ee-1/$e,Ar=er/$e;return Sr?(-Ar+Math.sqrt(Ar*Ar-2*Sr*(er*er/(-2*$e)-ze+$e/2+Jt-ee/2)))/Sr+Kt:(Kt+me)/2}function Ge(ot,mt){var Bt=ot.N;if(Bt)return Mr(Bt,mt);var Kt=ot.site;return Kt.y===mt?Kt.x:1/0}function Dr(ot){this.site=ot,this.edges=[]}function Ye(ot,mt){return mt.angle-ot.angle}function ir(){co(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yr(ot){var mt=ot.P,Bt=ot.N;if(mt&&Bt){var Kt=mt.site,Jt=ot.site,ee=Bt.site;if(Kt!==ee){var Ee=Jt.x,me=Jt.y,ze=Kt.x-Ee,$e=Kt.y-me,er=ee.x-Ee,Sr=2*(ze*(Or=ee.y-me)-$e*er);if(!(Sr>=-1e-12)){var Ar=ze*ze+$e*$e,Jr=er*er+Or*Or,tn=(Or*Ar-$e*Jr)/Sr,Rr=(ze*Jr-er*Ar)/Sr,Or=Rr+me,Vr=vn.pop()||new ir;Vr.arc=ot,Vr.site=Jt,Vr.x=tn+Ee,Vr.y=Or+Math.sqrt(tn*tn+Rr*Rr),Vr.cy=Or,ot.circle=Vr;for(var nn=null,ln=en._;ln;)if(Vr.y<ln.y||Vr.y===ln.y&&Vr.x<=ln.x){if(!ln.L){nn=ln.P;break}ln=ln.L}else{if(!ln.R){nn=ln;break}ln=ln.R}en.insert(nn,Vr),nn||(br=Vr)}}}}function gn(ot){var mt=ot.circle;mt&&(mt.P||(br=mt.N),en.remove(mt),vn.push(mt),co(mt),ot.circle=null)}function Xn(ot,mt){var Bt=ot.b;if(Bt)return!0;var Or,Vr,Kt=ot.a,Jt=mt[0][0],ee=mt[1][0],Ee=mt[0][1],me=mt[1][1],ze=ot.l,$e=ot.r,er=ze.x,Sr=ze.y,Ar=$e.x,Jr=$e.y,tn=(er+Ar)/2;if(Jr===Sr){if(tn<Jt||tn>=ee)return;if(er>Ar){if(Kt){if(Kt.y>=me)return}else Kt={x:tn,y:Ee};Bt={x:tn,y:me}}else{if(Kt){if(Kt.y<Ee)return}else Kt={x:tn,y:me};Bt={x:tn,y:Ee}}}else if(Vr=(Sr+Jr)/2-(Or=(er-Ar)/(Jr-Sr))*tn,Or<-1||Or>1)if(er>Ar){if(Kt){if(Kt.y>=me)return}else Kt={x:(Ee-Vr)/Or,y:Ee};Bt={x:(me-Vr)/Or,y:me}}else{if(Kt){if(Kt.y<Ee)return}else Kt={x:(me-Vr)/Or,y:me};Bt={x:(Ee-Vr)/Or,y:Ee}}else if(Sr<Jr){if(Kt){if(Kt.x>=ee)return}else Kt={x:Jt,y:Or*Jt+Vr};Bt={x:ee,y:Or*ee+Vr}}else{if(Kt){if(Kt.x<Jt)return}else Kt={x:ee,y:Or*ee+Vr};Bt={x:Jt,y:Or*Jt+Vr}}return ot.a=Kt,ot.b=Bt,!0}function ha(ot,mt){this.l=ot,this.r=mt,this.a=this.b=null}function Si(ot,mt,Bt,Kt){var Jt=new ha(ot,mt);return Jn.push(Jt),Bt&&to(Jt,ot,mt,Bt),Kt&&to(Jt,mt,ot,Kt),ya[ot.i].edges.push(new eo(Jt,ot,mt)),ya[mt.i].edges.push(new eo(Jt,mt,ot)),Jt}function qi(ot,mt,Bt){var Kt=new ha(ot,null);return Kt.a=mt,Kt.b=Bt,Jn.push(Kt),Kt}function to(ot,mt,Bt,Kt){ot.a||ot.b?ot.l===Bt?ot.b=Kt:ot.a=Kt:(ot.a=Kt,ot.l=mt,ot.r=Bt)}function eo(ot,mt,Bt){var Kt=ot.a,Jt=ot.b;this.edge=ot,this.site=mt,this.angle=Bt?Math.atan2(Bt.y-mt.y,Bt.x-mt.x):ot.l===mt?Math.atan2(Jt.x-Kt.x,Kt.y-Jt.y):Math.atan2(Kt.x-Jt.x,Jt.y-Kt.y)}function Fs(){this._=null}function co(ot){ot.U=ot.C=ot.L=ot.R=ot.P=ot.N=null}function Ga(ot,mt){var Bt=mt,Kt=mt.R,Jt=Bt.U;Jt?Jt.L===Bt?Jt.L=Kt:Jt.R=Kt:ot._=Kt,Kt.U=Jt,Bt.U=Kt,Bt.R=Kt.L,Bt.R&&(Bt.R.U=Bt),Kt.L=Bt}function Yo(ot,mt){var Bt=mt,Kt=mt.L,Jt=Bt.U;Jt?Jt.L===Bt?Jt.L=Kt:Jt.R=Kt:ot._=Kt,Kt.U=Jt,Bt.U=Kt,Bt.L=Kt.R,Bt.L&&(Bt.L.U=Bt),Kt.R=Bt}function Sl(ot){for(;ot.L;)ot=ot.L;return ot}function Ei(ot,mt){var Kt,Jt,ee,Bt=ot.sort(ro).pop();for(Jn=[],ya=new Array(ot.length),Ba=new Fs,en=new Fs;;)if(ee=br,Bt&&(!ee||Bt.y<ee.y||Bt.y===ee.y&&Bt.x<ee.x))(Bt.x!==Kt||Bt.y!==Jt)&&(ya[Bt.i]=new Dr(Bt),Cr(Bt),Kt=Bt.x,Jt=Bt.y),Bt=ot.pop();else{if(!ee)break;cn(ee.arc)}mt&&(function ta(ot){for(var Jt,mt=Jn,Bt=function Zn(ot,mt,Bt,Kt){return function(Jt){var Rr,ee=Jt.a,Ee=Jt.b,me=ee.x,ze=ee.y,Sr=0,Ar=1,Jr=Ee.x-me,tn=Ee.y-ze;if(Rr=ot-me,Jr||!(Rr>0)){if(Rr/=Jr,Jr<0){if(Rr<Sr)return;Rr<Ar&&(Ar=Rr)}else if(Jr>0){if(Rr>Ar)return;Rr>Sr&&(Sr=Rr)}if(Rr=Bt-me,Jr||!(Rr<0)){if(Rr/=Jr,Jr<0){if(Rr>Ar)return;Rr>Sr&&(Sr=Rr)}else if(Jr>0){if(Rr<Sr)return;Rr<Ar&&(Ar=Rr)}if(Rr=mt-ze,tn||!(Rr>0)){if(Rr/=tn,tn<0){if(Rr<Sr)return;Rr<Ar&&(Ar=Rr)}else if(tn>0){if(Rr>Ar)return;Rr>Sr&&(Sr=Rr)}if(Rr=Kt-ze,tn||!(Rr<0)){if(Rr/=tn,tn<0){if(Rr>Ar)return;Rr>Sr&&(Sr=Rr)}else if(tn>0){if(Rr<Sr)return;Rr<Ar&&(Ar=Rr)}return Sr>0&&(Jt.a={x:me+Sr*Jr,y:ze+Sr*tn}),Ar<1&&(Jt.b={x:me+Ar*Jr,y:ze+Ar*tn}),Jt}}}}}}(ot[0][0],ot[0][1],ot[1][0],ot[1][1]),Kt=mt.length;Kt--;)(!Xn(Jt=mt[Kt],ot)||!Bt(Jt)||h(Jt.a.x-Jt.b.x)<gt&&h(Jt.a.y-Jt.b.y)<gt)&&(Jt.a=Jt.b=null,mt.splice(Kt,1))}(mt),function Ue(ot){for(var ee,Ee,me,ze,Sr,Ar,Jr,tn,Rr,Or,mt=ot[0][0],Bt=ot[1][0],Kt=ot[0][1],Jt=ot[1][1],$e=ya,er=$e.length;er--;)if((Sr=$e[er])&&Sr.prepare())for(tn=(Jr=Sr.edges).length,Ar=0;Ar<tn;)me=(Or=Jr[Ar].end()).x,ze=Or.y,Ee=(Rr=Jr[++Ar%tn].start()).y,(h(me-(ee=Rr.x))>gt||h(ze-Ee)>gt)&&(Jr.splice(Ar,0,new eo(qi(Sr.site,Or,h(me-mt)<gt&&Jt-ze>gt?{x:mt,y:h(ee-mt)<gt?Ee:Jt}:h(ze-Jt)<gt&&Bt-me>gt?{x:h(Ee-Jt)<gt?ee:Bt,y:Jt}:h(me-Bt)<gt&&ze-Kt>gt?{x:Bt,y:h(ee-Bt)<gt?Ee:Kt}:h(ze-Kt)<gt&&me-mt>gt?{x:h(Ee-Kt)<gt?ee:mt,y:Kt}:null),Sr.site,null)),++tn)}(mt));var Ee={cells:ya,edges:Jn};return Ba=en=Jn=ya=null,Ee}function ro(ot,mt){return mt.y-ot.y||mt.x-ot.x}Dr.prototype.prepare=function(){for(var Bt,ot=this.edges,mt=ot.length;mt--;)(!(Bt=ot[mt].edge).b||!Bt.a)&&ot.splice(mt,1);return ot.sort(Ye),ot.length},eo.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Fs.prototype={insert:function(ot,mt){var Bt,Kt,Jt;if(ot){if(mt.P=ot,mt.N=ot.N,ot.N&&(ot.N.P=mt),ot.N=mt,ot.R){for(ot=ot.R;ot.L;)ot=ot.L;ot.L=mt}else ot.R=mt;Bt=ot}else this._?(ot=Sl(this._),mt.P=null,mt.N=ot,ot.P=ot.L=mt,Bt=ot):(mt.P=mt.N=null,this._=mt,Bt=null);for(mt.L=mt.R=null,mt.U=Bt,mt.C=!0,ot=mt;Bt&&Bt.C;)Bt===(Kt=Bt.U).L?(Jt=Kt.R)&&Jt.C?(Bt.C=Jt.C=!1,Kt.C=!0,ot=Kt):(ot===Bt.R&&(Ga(this,Bt),Bt=(ot=Bt).U),Bt.C=!1,Kt.C=!0,Yo(this,Kt)):(Jt=Kt.L)&&Jt.C?(Bt.C=Jt.C=!1,Kt.C=!0,ot=Kt):(ot===Bt.L&&(Yo(this,Bt),Bt=(ot=Bt).U),Bt.C=!1,Kt.C=!0,Ga(this,Kt)),Bt=ot.U;this._.C=!1},remove:function(ot){ot.N&&(ot.N.P=ot.P),ot.P&&(ot.P.N=ot.N),ot.N=ot.P=null;var Bt,ee,Ee,mt=ot.U,Kt=ot.L,Jt=ot.R;if(ee=Kt?Jt?Sl(Jt):Kt:Jt,mt?mt.L===ot?mt.L=ee:mt.R=ee:this._=ee,Kt&&Jt?(Ee=ee.C,ee.C=ot.C,ee.L=Kt,Kt.U=ee,ee!==Jt?(mt=ee.U,ee.U=ot.U,mt.L=ot=ee.R,ee.R=Jt,Jt.U=ee):(ee.U=mt,mt=ee,ot=ee.R)):(Ee=ot.C,ot=ee),ot&&(ot.U=mt),!Ee){if(ot&&ot.C)return void(ot.C=!1);do{if(ot===this._)break;if(ot===mt.L){if((Bt=mt.R).C&&(Bt.C=!1,mt.C=!0,Ga(this,mt),Bt=mt.R),Bt.L&&Bt.L.C||Bt.R&&Bt.R.C){(!Bt.R||!Bt.R.C)&&(Bt.L.C=!1,Bt.C=!0,Yo(this,Bt),Bt=mt.R),Bt.C=mt.C,mt.C=Bt.R.C=!1,Ga(this,mt),ot=this._;break}}else if((Bt=mt.L).C&&(Bt.C=!1,mt.C=!0,Yo(this,mt),Bt=mt.L),Bt.L&&Bt.L.C||Bt.R&&Bt.R.C){(!Bt.L||!Bt.L.C)&&(Bt.R.C=!1,Bt.C=!0,Ga(this,Bt),Bt=mt.L),Bt.C=mt.C,mt.C=Bt.L.C=!1,Yo(this,mt),ot=this._;break}Bt.C=!0,ot=mt,mt=mt.U}while(!ot.C);ot&&(ot.C=!1)}}},i.geom.voronoi=function(ot){var mt=Tr,Bt=an,Kt=mt,Jt=Bt,ee=qs;if(ot)return Ee(ot);function Ee(ze){var $e=new Array(ze.length),er=ee[0][0],Sr=ee[0][1],Ar=ee[1][0],Jr=ee[1][1];return Ei(me(ze),ee).cells.forEach(function(tn,Rr){var Or=tn.edges,Vr=tn.site;($e[Rr]=Or.length?Or.map(function(ln){var Xr=ln.start();return[Xr.x,Xr.y]}):Vr.x>=er&&Vr.x<=Ar&&Vr.y>=Sr&&Vr.y<=Jr?[[er,Jr],[Ar,Jr],[Ar,Sr],[er,Sr]]:[]).point=ze[Rr]}),$e}function me(ze){return ze.map(function($e,er){return{x:Math.round(Kt($e,er)/gt)*gt,y:Math.round(Jt($e,er)/gt)*gt,i:er}})}return Ee.links=function(ze){return Ei(me(ze)).edges.filter(function($e){return $e.l&&$e.r}).map(function($e){return{source:ze[$e.l.i],target:ze[$e.r.i]}})},Ee.triangles=function(ze){var $e=[];return Ei(me(ze)).cells.forEach(function(er,Sr){for(var Vr,Ar=er.site,Jr=er.edges.sort(Ye),tn=-1,Rr=Jr.length,nn=Jr[Rr-1].edge,ln=nn.l===Ar?nn.r:nn.l;++tn<Rr;)Vr=ln,ln=(nn=Jr[tn].edge).l===Ar?nn.r:nn.l,Sr<Vr.i&&Sr<ln.i&&El(Ar,Vr,ln)<0&&$e.push([ze[Sr],ze[Vr.i],ze[ln.i]])}),$e},Ee.x=function(ze){return arguments.length?(Kt=lr(mt=ze),Ee):mt},Ee.y=function(ze){return arguments.length?(Jt=lr(Bt=ze),Ee):Bt},Ee.clipExtent=function(ze){return arguments.length?(ee=null==ze?qs:ze,Ee):ee===qs?null:ee},Ee.size=function(ze){return arguments.length?Ee.clipExtent(ze&&[[0,0],ze]):ee===qs?null:ee&&ee[1]},Ee};var qs=[[-1e6,-1e6],[1e6,1e6]];function El(ot,mt,Bt){return(ot.x-Bt.x)*(mt.y-ot.y)-(ot.x-mt.x)*(Bt.y-ot.y)}function Ci(ot){return ot.x}function tl(ot){return ot.y}function bi(ot,mt,Bt,Kt,Jt,ee){if(!ot(mt,Bt,Kt,Jt,ee)){var Ee=.5*(Bt+Jt),me=.5*(Kt+ee),ze=mt.nodes;ze[0]&&bi(ot,ze[0],Bt,Kt,Ee,me),ze[1]&&bi(ot,ze[1],Ee,Kt,Jt,me),ze[2]&&bi(ot,ze[2],Bt,me,Ee,ee),ze[3]&&bi(ot,ze[3],Ee,me,Jt,ee)}}function $l(ot,mt,Bt,Kt,Jt,ee,Ee){var ze,me=1/0;return function $e(er,Sr,Ar,Jr,tn){if(!(Sr>ee||Ar>Ee||Jr<Kt||tn<Jt)){if(Rr=er.point){var Rr,Or=mt-er.x,Vr=Bt-er.y,nn=Or*Or+Vr*Vr;if(nn<me){var ln=Math.sqrt(me=nn);Kt=mt-ln,Jt=Bt-ln,ee=mt+ln,Ee=Bt+ln,ze=Rr}}for(var Xr=er.nodes,In=.5*(Sr+Jr),qn=.5*(Ar+tn),na=(Bt>=qn)<<1|mt>=In,ma=na+4;na<ma;++na)if(er=Xr[3&na])switch(3&na){case 0:$e(er,Sr,Ar,In,qn);break;case 1:$e(er,In,Ar,Jr,qn);break;case 2:$e(er,Sr,qn,In,tn);break;case 3:$e(er,In,qn,Jr,tn)}}}(ot,Kt,Jt,ee,Ee),ze}function Ii(ot,mt){ot=i.rgb(ot),mt=i.rgb(mt);var Bt=ot.r,Kt=ot.g,Jt=ot.b,ee=mt.r-Bt,Ee=mt.g-Kt,me=mt.b-Jt;return function(ze){return"#"+qr(Math.round(Bt+ee*ze))+qr(Math.round(Kt+Ee*ze))+qr(Math.round(Jt+me*ze))}}function Ro(ot,mt){var Jt,Bt={},Kt={};for(Jt in ot)Jt in mt?Bt[Jt]=no(ot[Jt],mt[Jt]):Kt[Jt]=ot[Jt];for(Jt in mt)Jt in ot||(Kt[Jt]=mt[Jt]);return function(ee){for(Jt in Bt)Kt[Jt]=Bt[Jt](ee);return Kt}}function Ui(ot,mt){return ot=+ot,mt=+mt,function(Bt){return ot*(1-Bt)+mt*Bt}}function Su(ot,mt){var Kt,Jt,ee,Bt=Xi.lastIndex=el.lastIndex=0,Ee=-1,me=[],ze=[];for(ot+="",mt+="";(Kt=Xi.exec(ot))&&(Jt=el.exec(mt));)(ee=Jt.index)>Bt&&(ee=mt.slice(Bt,ee),me[Ee]?me[Ee]+=ee:me[++Ee]=ee),(Kt=Kt[0])===(Jt=Jt[0])?me[Ee]?me[Ee]+=Jt:me[++Ee]=Jt:(me[++Ee]=null,ze.push({i:Ee,x:Ui(Kt,Jt)})),Bt=el.lastIndex;return Bt<mt.length&&(ee=mt.slice(Bt),me[Ee]?me[Ee]+=ee:me[++Ee]=ee),me.length<2?ze[0]?(mt=ze[0].x,function($e){return mt($e)+""}):function(){return mt}:(mt=ze.length,function($e){for(var Sr,er=0;er<mt;++er)me[(Sr=ze[er]).i]=Sr.x($e);return me.join("")})}i.geom.delaunay=function(ot){return i.geom.voronoi().triangles(ot)},i.geom.quadtree=function(ot,mt,Bt,Kt,Jt){var me,ee=Tr,Ee=an;if(me=arguments.length)return ee=Ci,Ee=tl,3===me&&(Jt=Bt,Kt=mt,Bt=mt=0),ze(ot);function ze($e){var er,Jr,tn,Rr,Or,Vr,nn,ln,Xr,Sr=lr(ee),Ar=lr(Ee);if(null!=mt)Vr=mt,nn=Bt,ln=Kt,Xr=Jt;else if(ln=Xr=-(Vr=nn=1/0),Jr=[],tn=[],Or=$e.length,me)for(Rr=0;Rr<Or;++Rr)(er=$e[Rr]).x<Vr&&(Vr=er.x),er.y<nn&&(nn=er.y),er.x>ln&&(ln=er.x),er.y>Xr&&(Xr=er.y),Jr.push(er.x),tn.push(er.y);else for(Rr=0;Rr<Or;++Rr){var In=+Sr(er=$e[Rr],Rr),qn=+Ar(er,Rr);In<Vr&&(Vr=In),qn<nn&&(nn=qn),In>ln&&(ln=In),qn>Xr&&(Xr=qn),Jr.push(In),tn.push(qn)}var oa=ln-Vr,ra=Xr-nn;function na(da,Sa,Na,mi,ja,jn,La,Ea){if(!isNaN(Na)&&!isNaN(mi))if(da.leaf){var Wn=da.x,ua=da.y;if(null!=Wn)if(h(Wn-Na)+h(ua-mi)<.01)ma(da,Sa,Na,mi,ja,jn,La,Ea);else{var ii=da.point;da.x=da.y=da.point=null,ma(da,ii,Wn,ua,ja,jn,La,Ea),ma(da,Sa,Na,mi,ja,jn,La,Ea)}else da.x=Na,da.y=mi,da.point=Sa}else ma(da,Sa,Na,mi,ja,jn,La,Ea)}function ma(da,Sa,Na,mi,ja,jn,La,Ea){var Wn=.5*(ja+La),ua=.5*(jn+Ea),ii=Na>=Wn,di=mi>=ua,Ai=di<<1|ii;da.leaf=!1,ii?ja=Wn:La=Wn,di?jn=ua:Ea=ua,na(da=da.nodes[Ai]||(da.nodes[Ai]={leaf:!0,nodes:[],point:null,x:null,y:null}),Sa,Na,mi,ja,jn,La,Ea)}oa>ra?Xr=nn+oa:ln=Vr+ra;var va={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(da){na(va,da,+Sr(da,++Rr),+Ar(da,Rr),Vr,nn,ln,Xr)},visit:function(da){bi(da,va,Vr,nn,ln,Xr)},find:function(da){return $l(va,da[0],da[1],Vr,nn,ln,Xr)}};if(Rr=-1,null==mt){for(;++Rr<Or;)na(va,$e[Rr],Jr[Rr],tn[Rr],Vr,nn,ln,Xr);--Rr}else $e.forEach(va.add);return Jr=tn=$e=er=null,va}return ze.x=function($e){return arguments.length?(ee=$e,ze):ee},ze.y=function($e){return arguments.length?(Ee=$e,ze):Ee},ze.extent=function($e){return arguments.length?(null==$e?mt=Bt=Kt=Jt=null:(mt=+$e[0][0],Bt=+$e[0][1],Kt=+$e[1][0],Jt=+$e[1][1]),ze):null==mt?null:[[mt,Bt],[Kt,Jt]]},ze.size=function($e){return arguments.length?(null==$e?mt=Bt=Kt=Jt=null:(mt=Bt=0,Kt=+$e[0],Jt=+$e[1]),ze):null==mt?null:[Kt-mt,Jt-Bt]},ze},i.interpolateRgb=Ii,i.interpolateObject=Ro,i.interpolateNumber=Ui,i.interpolateString=Su;var Xi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,el=new RegExp(Xi.source,"g");function no(ot,mt){for(var Kt,Bt=i.interpolators.length;--Bt>=0&&!(Kt=i.interpolators[Bt](ot,mt)););return Kt}function wi(ot,mt){var me,Bt=[],Kt=[],Jt=ot.length,ee=mt.length,Ee=Math.min(ot.length,mt.length);for(me=0;me<Ee;++me)Bt.push(no(ot[me],mt[me]));for(;me<Jt;++me)Kt[me]=ot[me];for(;me<ee;++me)Kt[me]=mt[me];return function(ze){for(me=0;me<Ee;++me)Kt[me]=Bt[me](ze);return Kt}}i.interpolate=no,i.interpolators=[function(ot,mt){var Bt=typeof mt;return("string"===Bt?An.has(mt.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(mt)?Ii:Su:mt instanceof xe?Ii:Array.isArray(mt)?wi:"object"===Bt&&isNaN(mt)?Ro:Ui)(ot,mt)}],i.interpolateArray=wi;var Eu=function(){return O},Io=i.map({linear:Eu,poly:function of(ot){return function(mt){return Math.pow(mt,ot)}},quad:function(){return Pl},cubic:function(){return Lu},sin:function(){return _l},exp:function(){return sf},circle:function(){return lf},elastic:function Pu(ot,mt){var Bt;return arguments.length<2&&(mt=.45),arguments.length?Bt=mt/yt*Math.asin(1/ot):(ot=1,Bt=mt/4),function(Kt){return 1+ot*Math.pow(2,-10*Kt)*Math.sin((Kt-Bt)*yt/mt)}},back:function uf(ot){return ot||(ot=1.70158),function(mt){return mt*mt*((ot+1)*mt-ot)}},bounce:function(){return ff}}),rs=i.map({in:O,out:Cu,"in-out":Ll,"out-in":function(ot){return Ll(Cu(ot))}});function Cl(ot){return function(mt){return mt<=0?0:mt>=1?1:ot(mt)}}function Cu(ot){return function(mt){return 1-ot(1-mt)}}function Ll(ot){return function(mt){return.5*(mt<.5?ot(2*mt):2-ot(2-2*mt))}}function Pl(ot){return ot*ot}function Lu(ot){return ot*ot*ot}function af(ot){if(ot<=0)return 0;if(ot>=1)return 1;var mt=ot*ot,Bt=mt*ot;return 4*(ot<.5?Bt:3*(ot-mt)+Bt-.75)}function _l(ot){return 1-Math.cos(ot*Qt)}function sf(ot){return Math.pow(2,10*(ot-1))}function lf(ot){return 1-Math.sqrt(1-ot*ot)}function ff(ot){return ot<.36363636363636365?7.5625*ot*ot:ot<.7272727272727273?7.5625*(ot-=.5454545454545454)*ot+.75:ot<.9090909090909091?7.5625*(ot-=.8181818181818182)*ot+.9375:7.5625*(ot-=.9545454545454546)*ot+.984375}function ks(ot,mt){return mt-=ot,function(Bt){return Math.round(ot+mt*Bt)}}function zs(ot){var mt=[ot.a,ot.b],Bt=[ot.c,ot.d],Kt=ql(mt),Jt=Dl(mt,Bt),ee=ql(function Rl(ot,mt,Bt){return ot[0]+=Bt*mt[0],ot[1]+=Bt*mt[1],ot}(Bt,mt,-Jt))||0;mt[0]*Bt[1]<Bt[0]*mt[1]&&(mt[0]*=-1,mt[1]*=-1,Kt*=-1,Jt*=-1),this.rotate=(Kt?Math.atan2(mt[1],mt[0]):Math.atan2(-Bt[0],Bt[1]))*he,this.translate=[ot.e,ot.f],this.scale=[Kt,ee],this.skew=ee?Math.atan2(Jt,ee)*he:0}function Dl(ot,mt){return ot[0]*mt[0]+ot[1]*mt[1]}function ql(ot){var mt=Math.sqrt(Dl(ot,ot));return mt&&(ot[0]/=mt,ot[1]/=mt),mt}i.ease=function(ot){var mt=ot.indexOf("-"),Bt=mt>=0?ot.slice(0,mt):ot,Kt=mt>=0?ot.slice(mt+1):"in";return Bt=Io.get(Bt)||Eu,Cl((Kt=rs.get(Kt)||O)(Bt.apply(null,P.call(arguments,1))))},i.interpolateHcl=function Du(ot,mt){ot=i.hcl(ot),mt=i.hcl(mt);var Bt=ot.h,Kt=ot.c,Jt=ot.l,ee=mt.h-Bt,Ee=mt.c-Kt,me=mt.l-Jt;return isNaN(Ee)&&(Ee=0,Kt=isNaN(Kt)?mt.c:Kt),isNaN(ee)?(ee=0,Bt=isNaN(Bt)?mt.h:Bt):ee>180?ee-=360:ee<-180&&(ee+=360),function(ze){return Ke(Bt+ee*ze,Kt+Ee*ze,Jt+me*ze)+""}},i.interpolateHsl=function cf(ot,mt){ot=i.hsl(ot),mt=i.hsl(mt);var Bt=ot.h,Kt=ot.s,Jt=ot.l,ee=mt.h-Bt,Ee=mt.s-Kt,me=mt.l-Jt;return isNaN(Ee)&&(Ee=0,Kt=isNaN(Kt)?mt.s:Kt),isNaN(ee)?(ee=0,Bt=isNaN(Bt)?mt.h:Bt):ee>180?ee-=360:ee<-180&&(ee+=360),function(ze){return Pe(Bt+ee*ze,Kt+Ee*ze,Jt+me*ze)+""}},i.interpolateLab=function ns(ot,mt){ot=i.lab(ot),mt=i.lab(mt);var Bt=ot.l,Kt=ot.a,Jt=ot.b,ee=mt.l-Bt,Ee=mt.a-Kt,me=mt.b-Jt;return function(ze){return We(Bt+ee*ze,Kt+Ee*ze,Jt+me*ze)+""}},i.interpolateRound=ks,i.transform=function(ot){var mt=l.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(Bt){if(null!=Bt){mt.setAttribute("transform",Bt);var Kt=mt.transform.baseVal.consolidate()}return new zs(Kt?Kt.matrix:hf)})(ot)},zs.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var hf={a:1,b:0,c:0,d:1,e:0,f:0};function as(ot){return ot.length?ot.pop()+",":""}function lo(ot,mt){var Bt=[],Kt=[];return ot=i.transform(ot),mt=i.transform(mt),function xo(ot,mt,Bt,Kt){if(ot[0]!==mt[0]||ot[1]!==mt[1]){var Jt=Bt.push("translate(",null,",",null,")");Kt.push({i:Jt-4,x:Ui(ot[0],mt[0])},{i:Jt-2,x:Ui(ot[1],mt[1])})}else(mt[0]||mt[1])&&Bt.push("translate("+mt+")")}(ot.translate,mt.translate,Bt,Kt),function rl(ot,mt,Bt,Kt){ot!==mt?(ot-mt>180?mt+=360:mt-ot>180&&(ot+=360),Kt.push({i:Bt.push(as(Bt)+"rotate(",null,")")-2,x:Ui(ot,mt)})):mt&&Bt.push(as(Bt)+"rotate("+mt+")")}(ot.rotate,mt.rotate,Bt,Kt),function ms(ot,mt,Bt,Kt){ot!==mt?Kt.push({i:Bt.push(as(Bt)+"skewX(",null,")")-2,x:Ui(ot,mt)}):mt&&Bt.push(as(Bt)+"skewX("+mt+")")}(ot.skew,mt.skew,Bt,Kt),function Il(ot,mt,Bt,Kt){if(ot[0]!==mt[0]||ot[1]!==mt[1]){var Jt=Bt.push(as(Bt)+"scale(",null,",",null,")");Kt.push({i:Jt-4,x:Ui(ot[0],mt[0])},{i:Jt-2,x:Ui(ot[1],mt[1])})}else(1!==mt[0]||1!==mt[1])&&Bt.push(as(Bt)+"scale("+mt+")")}(ot.scale,mt.scale,Bt,Kt),ot=mt=null,function(Jt){for(var me,ee=-1,Ee=Kt.length;++ee<Ee;)Bt[(me=Kt[ee]).i]=me.x(Jt);return Bt.join("")}}function is(ot,mt){return mt=(mt-=ot=+ot)||1/mt,function(Bt){return(Bt-ot)/mt}}function tu(ot,mt){return mt=(mt-=ot=+ot)||1/mt,function(Bt){return Math.max(0,Math.min(1,(Bt-ot)/mt))}}function Fl(ot){for(var mt=ot.source,Bt=ot.target,Kt=function Li(ot,mt){if(ot===mt)return ot;for(var Bt=bo(ot),Kt=bo(mt),Jt=Bt.pop(),ee=Kt.pop(),Ee=null;Jt===ee;)Ee=Jt,Jt=Bt.pop(),ee=Kt.pop();return Ee}(mt,Bt),Jt=[mt];mt!==Kt;)Jt.push(mt=mt.parent);for(var ee=Jt.length;Bt!==Kt;)Jt.splice(ee,0,Bt),Bt=Bt.parent;return Jt}function bo(ot){for(var mt=[],Bt=ot.parent;null!=Bt;)mt.push(ot),ot=Bt,Bt=Bt.parent;return mt.push(ot),mt}function eu(ot){ot.fixed|=2}function ru(ot){ot.fixed&=-7}function Os(ot){ot.fixed|=4,ot.px=ot.x,ot.py=ot.y}function kl(ot){ot.fixed&=-5}function nu(ot,mt,Bt){var Kt=0,Jt=0;if(ot.charge=0,!ot.leaf)for(var ze,ee=ot.nodes,Ee=ee.length,me=-1;++me<Ee;)null!=(ze=ee[me])&&(nu(ze,mt,Bt),ot.charge+=ze.charge,Kt+=ze.charge*ze.cx,Jt+=ze.charge*ze.cy);if(ot.point){ot.leaf||(ot.point.x+=Math.random()-.5,ot.point.y+=Math.random()-.5);var $e=mt*Bt[ot.point.index];ot.charge+=ot.pointCharge=$e,Kt+=$e*ot.point.x,Jt+=$e*ot.point.y}ot.cx=Kt/ot.charge,ot.cy=Jt/ot.charge}i.interpolateTransform=lo,i.layout={},i.layout.bundle=function(){return function(ot){for(var mt=[],Bt=-1,Kt=ot.length;++Bt<Kt;)mt.push(Fl(ot[Bt]));return mt}},i.layout.chord=function(){var mt,Bt,Kt,Jt,Ee,me,ze,ot={},ee=0;function $e(){var Rr,Or,Vr,nn,ln,Sr={},Ar=[],Jr=i.range(Jt),tn=[];for(mt=[],Bt=[],Rr=0,nn=-1;++nn<Jt;){for(Or=0,ln=-1;++ln<Jt;)Or+=Kt[nn][ln];Ar.push(Or),tn.push(i.range(Jt)),Rr+=Or}for(Ee&&Jr.sort(function(va,da){return Ee(Ar[va],Ar[da])}),me&&tn.forEach(function(va,da){va.sort(function(Sa,Na){return me(Kt[da][Sa],Kt[da][Na])})}),Rr=(yt-ee*Jt)/Rr,Or=0,nn=-1;++nn<Jt;){for(Vr=Or,ln=-1;++ln<Jt;){var Xr=Jr[nn],In=tn[Xr][ln],qn=Kt[Xr][In],oa=Or,ra=Or+=qn*Rr;Sr[Xr+"-"+In]={index:Xr,subindex:In,startAngle:oa,endAngle:ra,value:qn}}Bt[Xr]={index:Xr,startAngle:Vr,endAngle:Or,value:Ar[Xr]},Or+=ee}for(nn=-1;++nn<Jt;)for(ln=nn-1;++ln<Jt;){var na=Sr[nn+"-"+ln],ma=Sr[ln+"-"+nn];(na.value||ma.value)&&mt.push(na.value<ma.value?{source:ma,target:na}:{source:na,target:ma})}ze&&er()}function er(){mt.sort(function(Sr,Ar){return ze((Sr.source.value+Sr.target.value)/2,(Ar.source.value+Ar.target.value)/2)})}return ot.matrix=function(Sr){return arguments.length?(Jt=(Kt=Sr)&&Kt.length,mt=Bt=null,ot):Kt},ot.padding=function(Sr){return arguments.length?(ee=Sr,mt=Bt=null,ot):ee},ot.sortGroups=function(Sr){return arguments.length?(Ee=Sr,mt=Bt=null,ot):Ee},ot.sortSubgroups=function(Sr){return arguments.length?(me=Sr,mt=null,ot):me},ot.sortChords=function(Sr){return arguments.length?(ze=Sr,mt&&er(),ot):ze},ot.chords=function(){return mt||$e(),mt},ot.groups=function(){return Bt||$e(),Bt},ot},i.layout.force=function(){var Bt,Jt,ee,Rr,Or,Vr,ot={},mt=i.dispatch("start","tick","end"),Kt=[1,1],Ee=.9,me=Ru,ze=Iu,$e=-30,er=Bs,Sr=.1,Ar=.64,Jr=[],tn=[];function nn(Xr){return function(In,qn,oa,ra){if(In.point!==Xr){var Sa,na=In.cx-Xr.x,ma=In.cy-Xr.y,va=ra-qn,da=na*na+ma*ma;if(va*va/Ar<da)return da<er&&(Xr.px-=na*(Sa=In.charge/da),Xr.py-=ma*Sa),!0;In.point&&da&&da<er&&(Xr.px-=na*(Sa=In.pointCharge/da),Xr.py-=ma*Sa)}return!In.charge}}function ln(Xr){Xr.px=i.event.x,Xr.py=i.event.y,ot.resume()}return ot.tick=function(){if((ee*=.99)<.005)return Bt=null,mt.end({type:"end",alpha:ee=0}),!0;var qn,oa,ra,na,ma,va,da,Sa,Na,Xr=Jr.length,In=tn.length;for(oa=0;oa<In;++oa)(va=(Sa=(ma=(ra=tn[oa]).target).x-(na=ra.source).x)*Sa+(Na=ma.y-na.y)*Na)&&(Na*=va=ee*Or[oa]*((va=Math.sqrt(va))-Rr[oa])/va,ma.x-=(Sa*=va)*(da=na.weight+ma.weight?na.weight/(na.weight+ma.weight):.5),ma.y-=Na*da,na.x+=Sa*(da=1-da),na.y+=Na*da);if((da=ee*Sr)&&(Sa=Kt[0]/2,Na=Kt[1]/2,oa=-1,da))for(;++oa<Xr;)(ra=Jr[oa]).x+=(Sa-ra.x)*da,ra.y+=(Na-ra.y)*da;if($e)for(nu(qn=i.geom.quadtree(Jr),ee,Vr),oa=-1;++oa<Xr;)(ra=Jr[oa]).fixed||qn.visit(nn(ra));for(oa=-1;++oa<Xr;)(ra=Jr[oa]).fixed?(ra.x=ra.px,ra.y=ra.py):(ra.x-=(ra.px-(ra.px=ra.x))*Ee,ra.y-=(ra.py-(ra.py=ra.y))*Ee);mt.tick({type:"tick",alpha:ee})},ot.nodes=function(Xr){return arguments.length?(Jr=Xr,ot):Jr},ot.links=function(Xr){return arguments.length?(tn=Xr,ot):tn},ot.size=function(Xr){return arguments.length?(Kt=Xr,ot):Kt},ot.linkDistance=function(Xr){return arguments.length?(me="function"==typeof Xr?Xr:+Xr,ot):me},ot.distance=ot.linkDistance,ot.linkStrength=function(Xr){return arguments.length?(ze="function"==typeof Xr?Xr:+Xr,ot):ze},ot.friction=function(Xr){return arguments.length?(Ee=+Xr,ot):Ee},ot.charge=function(Xr){return arguments.length?($e="function"==typeof Xr?Xr:+Xr,ot):$e},ot.chargeDistance=function(Xr){return arguments.length?(er=Xr*Xr,ot):Math.sqrt(er)},ot.gravity=function(Xr){return arguments.length?(Sr=+Xr,ot):Sr},ot.theta=function(Xr){return arguments.length?(Ar=Xr*Xr,ot):Math.sqrt(Ar)},ot.alpha=function(Xr){return arguments.length?(Xr=+Xr,ee?Xr>0?ee=Xr:(Bt.c=null,Bt.t=NaN,Bt=null,mt.end({type:"end",alpha:ee=0})):Xr>0&&(mt.start({type:"start",alpha:ee=Xr}),Bt=Gn(ot.tick)),ot):ee},ot.start=function(){var Xr,na,ma,In=Jr.length,qn=tn.length,oa=Kt[0],ra=Kt[1];for(Xr=0;Xr<In;++Xr)(ma=Jr[Xr]).index=Xr,ma.weight=0;for(Xr=0;Xr<qn;++Xr)"number"==typeof(ma=tn[Xr]).source&&(ma.source=Jr[ma.source]),"number"==typeof ma.target&&(ma.target=Jr[ma.target]),++ma.source.weight,++ma.target.weight;for(Xr=0;Xr<In;++Xr)ma=Jr[Xr],isNaN(ma.x)&&(ma.x=va("x",oa)),isNaN(ma.y)&&(ma.y=va("y",ra)),isNaN(ma.px)&&(ma.px=ma.x),isNaN(ma.py)&&(ma.py=ma.y);if(Rr=[],"function"==typeof me)for(Xr=0;Xr<qn;++Xr)Rr[Xr]=+me.call(this,tn[Xr],Xr);else for(Xr=0;Xr<qn;++Xr)Rr[Xr]=me;if(Or=[],"function"==typeof ze)for(Xr=0;Xr<qn;++Xr)Or[Xr]=+ze.call(this,tn[Xr],Xr);else for(Xr=0;Xr<qn;++Xr)Or[Xr]=ze;if(Vr=[],"function"==typeof $e)for(Xr=0;Xr<In;++Xr)Vr[Xr]=+$e.call(this,Jr[Xr],Xr);else for(Xr=0;Xr<In;++Xr)Vr[Xr]=$e;function va(da,Sa){if(!na){for(na=new Array(In),ja=0;ja<In;++ja)na[ja]=[];for(ja=0;ja<qn;++ja){var Na=tn[ja];na[Na.source.index].push(Na.target),na[Na.target.index].push(Na.source)}}for(var La,mi=na[Xr],ja=-1,jn=mi.length;++ja<jn;)if(!isNaN(La=mi[ja][da]))return La;return Math.random()*Sa}return ot.resume()},ot.resume=function(){return ot.alpha(.1)},ot.stop=function(){return ot.alpha(0)},ot.drag=function(){if(Jt||(Jt=i.behavior.drag().origin(O).on("dragstart.force",eu).on("drag.force",ln).on("dragend.force",ru)),!arguments.length)return Jt;this.on("mouseover.force",Os).on("mouseout.force",kl).call(Jt)},i.rebind(ot,mt,"on")};var Ru=20,Iu=1,Bs=1/0;function Zo(ot,mt){return i.rebind(ot,mt,"sort","children","value"),ot.nodes=ot,ot.links=nl,ot}function xs(ot,mt){for(var Bt=[ot];null!=(ot=Bt.pop());)if(mt(ot),(Jt=ot.children)&&(Kt=Jt.length))for(var Kt,Jt;--Kt>=0;)Bt.push(Jt[Kt])}function Fo(ot,mt){for(var Bt=[ot],Kt=[];null!=(ot=Bt.pop());)if(Kt.push(ot),(Ee=ot.children)&&(ee=Ee.length))for(var ee,Ee,Jt=-1;++Jt<ee;)Bt.push(Ee[Jt]);for(;null!=(ot=Kt.pop());)mt(ot)}function au(ot){return ot.children}function iu(ot){return ot.value}function ou(ot,mt){return mt.value-ot.value}function nl(ot){return i.merge(ot.map(function(mt){return(mt.children||[]).map(function(Bt){return{source:mt,target:Bt}})}))}i.layout.hierarchy=function(){var ot=ou,mt=au,Bt=iu;function Kt(Jt){var me,ee=[Jt],Ee=[];for(Jt.depth=0;null!=(me=ee.pop());)if(Ee.push(me),($e=mt.call(Kt,me,me.depth))&&(ze=$e.length)){for(var ze,$e,er;--ze>=0;)ee.push(er=$e[ze]),er.parent=me,er.depth=me.depth+1;Bt&&(me.value=0),me.children=$e}else Bt&&(me.value=+Bt.call(Kt,me,me.depth)||0),delete me.children;return Fo(Jt,function(Sr){var Ar,Jr;ot&&(Ar=Sr.children)&&Ar.sort(ot),Bt&&(Jr=Sr.parent)&&(Jr.value+=Sr.value)}),Ee}return Kt.sort=function(Jt){return arguments.length?(ot=Jt,Kt):ot},Kt.children=function(Jt){return arguments.length?(mt=Jt,Kt):mt},Kt.value=function(Jt){return arguments.length?(Bt=Jt,Kt):Bt},Kt.revalue=function(Jt){return Bt&&(xs(Jt,function(ee){ee.children&&(ee.value=0)}),Fo(Jt,function(ee){var Ee;ee.children||(ee.value=+Bt.call(Kt,ee,ee.depth)||0),(Ee=ee.parent)&&(Ee.value+=ee.value)})),Jt},Kt},i.layout.partition=function(){var ot=i.layout.hierarchy(),mt=[1,1];function Bt(ee,Ee,me,ze){var $e=ee.children;if(ee.x=Ee,ee.y=ee.depth*ze,ee.dx=me,ee.dy=ze,$e&&(Sr=$e.length)){var Sr,Ar,Jr,er=-1;for(me=ee.value?me/ee.value:0;++er<Sr;)Bt(Ar=$e[er],Ee,Jr=Ar.value*me,ze),Ee+=Jr}}function Kt(ee){var Ee=ee.children,me=0;if(Ee&&($e=Ee.length))for(var $e,ze=-1;++ze<$e;)me=Math.max(me,Kt(Ee[ze]));return 1+me}function Jt(ee,Ee){var me=ot.call(this,ee,Ee);return Bt(me[0],0,mt[0],mt[1]/Kt(me[0])),me}return Jt.size=function(ee){return arguments.length?(mt=ee,Jt):mt},Zo(Jt,ot)},i.layout.pie=function(){var ot=Number,mt=zl,Bt=0,Kt=yt,Jt=0;function ee(Ee){var Vr,me=Ee.length,ze=Ee.map(function(nn,ln){return+ot.call(ee,nn,ln)}),$e=+("function"==typeof Bt?Bt.apply(this,arguments):Bt),er=("function"==typeof Kt?Kt.apply(this,arguments):Kt)-$e,Sr=Math.min(Math.abs(er)/me,+("function"==typeof Jt?Jt.apply(this,arguments):Jt)),Ar=Sr*(er<0?-1:1),Jr=i.sum(ze),tn=Jr?(er-me*Ar)/Jr:0,Rr=i.range(me),Or=[];return null!=mt&&Rr.sort(mt===zl?function(nn,ln){return ze[ln]-ze[nn]}:function(nn,ln){return mt(Ee[nn],Ee[ln])}),Rr.forEach(function(nn){Or[nn]={data:Ee[nn],value:Vr=ze[nn],startAngle:$e,endAngle:$e+=Vr*tn+Ar,padAngle:Sr}}),Or}return ee.value=function(Ee){return arguments.length?(ot=Ee,ee):ot},ee.sort=function(Ee){return arguments.length?(mt=Ee,ee):mt},ee.startAngle=function(Ee){return arguments.length?(Bt=Ee,ee):Bt},ee.endAngle=function(Ee){return arguments.length?(Kt=Ee,ee):Kt},ee.padAngle=function(Ee){return arguments.length?(Jt=Ee,ee):Jt},ee};var zl={};function Fu(ot){return ot.x}function al(ot){return ot.y}function ku(ot,mt,Bt){ot.y0=mt,ot.y=Bt}i.layout.stack=function(){var ot=O,mt=Ns,Bt=bs,Kt=ku,Jt=Fu,ee=al;function Ee(me,ze){if(!(tn=me.length))return me;var $e=me.map(function(nn,ln){return ot.call(Ee,nn,ln)}),er=$e.map(function(nn){return nn.map(function(ln,Xr){return[Jt.call(Ee,ln,Xr),ee.call(Ee,ln,Xr)]})}),Sr=mt.call(Ee,er,ze);$e=i.permute($e,Sr),er=i.permute(er,Sr);var tn,Rr,Or,Vr,Ar=Bt.call(Ee,er,ze),Jr=$e[0].length;for(Or=0;Or<Jr;++Or)for(Kt.call(Ee,$e[0][Or],Vr=Ar[Or],er[0][Or][1]),Rr=1;Rr<tn;++Rr)Kt.call(Ee,$e[Rr][Or],Vr+=er[Rr-1][Or][1],er[Rr][Or][1]);return me}return Ee.values=function(me){return arguments.length?(ot=me,Ee):ot},Ee.order=function(me){return arguments.length?(mt="function"==typeof me?me:zu.get(me)||Ns,Ee):mt},Ee.offset=function(me){return arguments.length?(Bt="function"==typeof me?me:hi.get(me)||bs,Ee):Bt},Ee.x=function(me){return arguments.length?(Jt=me,Ee):Jt},Ee.y=function(me){return arguments.length?(ee=me,Ee):ee},Ee.out=function(me){return arguments.length?(Kt=me,Ee):Kt},Ee};var zu=i.map({"inside-out":function(ot){var Bt,Kt,mt=ot.length,Jt=ot.map(uo),ee=ot.map(Us),Ee=i.range(mt).sort(function(Sr,Ar){return Jt[Sr]-Jt[Ar]}),me=0,ze=0,$e=[],er=[];for(Bt=0;Bt<mt;++Bt)Kt=Ee[Bt],me<ze?(me+=ee[Kt],$e.push(Kt)):(ze+=ee[Kt],er.push(Kt));return er.reverse().concat($e)},reverse:function(ot){return i.range(ot.length).reverse()},default:Ns}),hi=i.map({silhouette:function(ot){var ee,Ee,me,mt=ot.length,Bt=ot[0].length,Kt=[],Jt=0,ze=[];for(Ee=0;Ee<Bt;++Ee){for(ee=0,me=0;ee<mt;ee++)me+=ot[ee][Ee][1];me>Jt&&(Jt=me),Kt.push(me)}for(Ee=0;Ee<Bt;++Ee)ze[Ee]=(Jt-Kt[Ee])/2;return ze},wiggle:function(ot){var Jt,ee,Ee,me,ze,$e,er,Sr,Ar,mt=ot.length,Bt=ot[0],Kt=Bt.length,Jr=[];for(Jr[0]=Sr=Ar=0,ee=1;ee<Kt;++ee){for(Jt=0,me=0;Jt<mt;++Jt)me+=ot[Jt][ee][1];for(Jt=0,ze=0,er=Bt[ee][0]-Bt[ee-1][0];Jt<mt;++Jt){for(Ee=0,$e=(ot[Jt][ee][1]-ot[Jt][ee-1][1])/(2*er);Ee<Jt;++Ee)$e+=(ot[Ee][ee][1]-ot[Ee][ee-1][1])/er;ze+=$e*ot[Jt][ee][1]}Jr[ee]=Sr-=me?ze/me*er:0,Sr<Ar&&(Ar=Sr)}for(ee=0;ee<Kt;++ee)Jr[ee]-=Ar;return Jr},expand:function(ot){var Jt,ee,Ee,mt=ot.length,Bt=ot[0].length,Kt=1/mt,me=[];for(ee=0;ee<Bt;++ee){for(Jt=0,Ee=0;Jt<mt;Jt++)Ee+=ot[Jt][ee][1];if(Ee)for(Jt=0;Jt<mt;Jt++)ot[Jt][ee][1]/=Ee;else for(Jt=0;Jt<mt;Jt++)ot[Jt][ee][1]=Kt}for(ee=0;ee<Bt;++ee)me[ee]=0;return me},zero:bs});function Ns(ot){return i.range(ot.length)}function bs(ot){for(var mt=-1,Bt=ot[0].length,Kt=[];++mt<Bt;)Kt[mt]=0;return Kt}function uo(ot){for(var Jt,mt=1,Bt=0,Kt=ot[0][1],ee=ot.length;mt<ee;++mt)(Jt=ot[mt][1])>Kt&&(Bt=mt,Kt=Jt);return Bt}function Us(ot){return ot.reduce(Ou,0)}function Ou(ot,mt){return ot+mt[1]}function Fi(ot,mt){return ws(ot,Math.ceil(Math.log(mt.length)/Math.LN2+1))}function ws(ot,mt){for(var Bt=-1,Kt=+ot[0],Jt=(ot[1]-Kt)/mt,ee=[];++Bt<=mt;)ee[Bt]=Jt*Bt+Kt;return ee}function ko(ot){return[i.min(ot),i.max(ot)]}function wo(ot,mt){return ot.value-mt.value}function Xo(ot,mt){var Bt=ot._pack_next;ot._pack_next=mt,mt._pack_prev=ot,mt._pack_next=Bt,Bt._pack_prev=mt}function jo(ot,mt){ot._pack_next=mt,mt._pack_prev=ot}function zo(ot,mt){var Bt=mt.x-ot.x,Kt=mt.y-ot.y,Jt=ot.r+mt.r;return.999*Jt*Jt>Bt*Bt+Kt*Kt}function os(ot){if((mt=ot.children)&&(Ar=mt.length)){var mt,Ee,me,ze,$e,er,Sr,Ar,Bt=1/0,Kt=-1/0,Jt=1/0,ee=-1/0;if(mt.forEach(ss),(Ee=mt[0]).x=-Ee.r,Ee.y=0,Jr(Ee),Ar>1&&((me=mt[1]).x=me.r,me.y=0,Jr(me),Ar>2))for(lu(Ee,me,ze=mt[2]),Jr(ze),Xo(Ee,ze),Ee._pack_prev=ze,Xo(ze,me),me=Ee._pack_next,$e=3;$e<Ar;$e++){lu(Ee,me,ze=mt[$e]);var tn=0,Rr=1,Or=1;for(er=me._pack_next;er!==me;er=er._pack_next,Rr++)if(zo(er,ze)){tn=1;break}if(1==tn)for(Sr=Ee._pack_prev;Sr!==er._pack_prev&&!zo(Sr,ze);Sr=Sr._pack_prev,Or++);tn?(Rr<Or||Rr==Or&&me.r<Ee.r?jo(Ee,me=er):jo(Ee=Sr,me),$e--):(Xo(Ee,ze),me=ze,Jr(ze))}var Vr=(Bt+Kt)/2,nn=(Jt+ee)/2,ln=0;for($e=0;$e<Ar;$e++)(ze=mt[$e]).x-=Vr,ze.y-=nn,ln=Math.max(ln,ze.r+Math.sqrt(ze.x*ze.x+ze.y*ze.y));ot.r=ln,mt.forEach(To)}function Jr(Xr){Bt=Math.min(Xr.x-Xr.r,Bt),Kt=Math.max(Xr.x+Xr.r,Kt),Jt=Math.min(Xr.y-Xr.r,Jt),ee=Math.max(Xr.y+Xr.r,ee)}}function ss(ot){ot._pack_next=ot._pack_prev=ot}function To(ot){delete ot._pack_next,delete ot._pack_prev}function su(ot,mt,Bt,Kt){var Jt=ot.children;if(ot.x=mt+=Kt*ot.x,ot.y=Bt+=Kt*ot.y,ot.r*=Kt,Jt)for(var ee=-1,Ee=Jt.length;++ee<Ee;)su(Jt[ee],mt,Bt,Kt)}function lu(ot,mt,Bt){var Kt=ot.r+Bt.r,Jt=mt.x-ot.x,ee=mt.y-ot.y;if(Kt&&(Jt||ee)){var Ee=mt.r+Bt.r,me=Jt*Jt+ee*ee,ze=.5+((Kt*=Kt)-(Ee*=Ee))/(2*me),$e=Math.sqrt(Math.max(0,2*Ee*(Kt+me)-(Kt-=me)*Kt-Ee*Ee))/(2*me);Bt.x=ot.x+ze*Jt+$e*ee,Bt.y=ot.y+ze*ee-$e*Jt}else Bt.x=ot.x+Kt,Bt.y=ot.y}function Ol(ot,mt){return ot.parent==mt.parent?1:2}function Vs(ot){var mt=ot.children;return mt.length?mt[0]:ot.t}function uu(ot){var Bt,mt=ot.children;return(Bt=mt.length)?mt[Bt-1]:ot.t}function vf(ot,mt,Bt){var Kt=Bt/(mt.i-ot.i);mt.c-=Kt,mt.s+=Bt,ot.c+=Kt,mt.z+=Bt,mt.m+=Bt}function Bu(ot,mt,Bt){return ot.a.parent===mt.parent?ot.a:Bt}function Bl(ot){var mt=ot.children;return mt&&mt.length?Bl(mt[0]):ot}function Ni(ot){var Bt,mt=ot.children;return mt&&(Bt=mt.length)?Ni(mt[Bt-1]):ot}function vo(ot){return{x:ot.x,y:ot.y,dx:ot.dx,dy:ot.dy}}function ls(ot,mt){var Bt=ot.x+mt[3],Kt=ot.y+mt[0],Jt=ot.dx-mt[1]-mt[3],ee=ot.dy-mt[0]-mt[2];return Jt<0&&(Bt+=Jt/2,Jt=0),ee<0&&(Kt+=ee/2,ee=0),{x:Bt,y:Kt,dx:Jt,dy:ee}}function il(ot){var mt=ot[0],Bt=ot[ot.length-1];return mt<Bt?[mt,Bt]:[Bt,mt]}function Hs(ot){return ot.rangeExtent?ot.rangeExtent():il(ot.range())}function fu(ot,mt,Bt,Kt){var Jt=Bt(ot[0],ot[1]),ee=Kt(mt[0],mt[1]);return function(Ee){return ee(Jt(Ee))}}function cu(ot,mt){var Ee,Bt=0,Kt=ot.length-1,Jt=ot[Bt],ee=ot[Kt];return ee<Jt&&(Ee=Bt,Bt=Kt,Kt=Ee,Ee=Jt,Jt=ee,ee=Ee),ot[Bt]=mt.floor(Jt),ot[Kt]=mt.ceil(ee),ot}function hu(ot){return ot?{floor:function(mt){return Math.floor(mt/ot)*ot},ceil:function(mt){return Math.ceil(mt/ot)*ot}}:pf}i.layout.histogram=function(){var ot=!0,mt=Number,Bt=ko,Kt=Fi;function Jt(ee,Ar){for(var Sr,Or,me=[],ze=ee.map(mt,this),$e=Bt.call(this,ze,Ar),er=Kt.call(this,$e,ze,Ar),Jr=(Ar=-1,ze.length),tn=er.length-1,Rr=ot?1:1/Jr;++Ar<tn;)(Sr=me[Ar]=[]).dx=er[Ar+1]-(Sr.x=er[Ar]),Sr.y=0;if(tn>0)for(Ar=-1;++Ar<Jr;)(Or=ze[Ar])>=$e[0]&&Or<=$e[1]&&((Sr=me[i.bisect(er,Or,1,tn)-1]).y+=Rr,Sr.push(ee[Ar]));return me}return Jt.value=function(ee){return arguments.length?(mt=ee,Jt):mt},Jt.range=function(ee){return arguments.length?(Bt=lr(ee),Jt):Bt},Jt.bins=function(ee){return arguments.length?(Kt="number"==typeof ee?function(Ee){return ws(Ee,ee)}:lr(ee),Jt):Kt},Jt.frequency=function(ee){return arguments.length?(ot=!!ee,Jt):ot},Jt},i.layout.pack=function(){var Kt,ot=i.layout.hierarchy().sort(wo),mt=0,Bt=[1,1];function Jt(ee,Ee){var me=ot.call(this,ee,Ee),ze=me[0],$e=Bt[0],er=Bt[1],Sr=null==Kt?Math.sqrt:"function"==typeof Kt?Kt:function(){return Kt};if(ze.x=ze.y=0,Fo(ze,function(Jr){Jr.r=+Sr(Jr.value)}),Fo(ze,os),mt){var Ar=mt*(Kt?1:Math.max(2*ze.r/$e,2*ze.r/er))/2;Fo(ze,function(Jr){Jr.r+=Ar}),Fo(ze,os),Fo(ze,function(Jr){Jr.r-=Ar})}return su(ze,$e/2,er/2,Kt?1:1/Math.max(2*ze.r/$e,2*ze.r/er)),me}return Jt.size=function(ee){return arguments.length?(Bt=ee,Jt):Bt},Jt.radius=function(ee){return arguments.length?(Kt=null==ee||"function"==typeof ee?ee:+ee,Jt):Kt},Jt.padding=function(ee){return arguments.length?(mt=+ee,Jt):mt},Zo(Jt,ot)},i.layout.tree=function(){var ot=i.layout.hierarchy().sort(null).value(null),mt=Ol,Bt=[1,1],Kt=null;function Jt(er,Sr){var Ar=ot.call(this,er,Sr),Jr=Ar[0],tn=function ee(er){for(var Jr,Sr={A:null,children:[er]},Ar=[Sr];null!=(Jr=Ar.pop());)for(var Rr,tn=Jr.children,Or=0,Vr=tn.length;Or<Vr;++Or)Ar.push((tn[Or]=Rr={_:tn[Or],parent:Jr,children:(Rr=tn[Or].children)&&Rr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Or}).a=Rr);return Sr.children[0]}(Jr);if(Fo(tn,Ee),tn.parent.m=-tn.z,xs(tn,me),Kt)xs(Jr,$e);else{var Rr=Jr,Or=Jr,Vr=Jr;xs(Jr,function(In){In.x<Rr.x&&(Rr=In),In.x>Or.x&&(Or=In),In.depth>Vr.depth&&(Vr=In)});var nn=mt(Rr,Or)/2-Rr.x,ln=Bt[0]/(Or.x+mt(Or,Rr)/2+nn),Xr=Bt[1]/(Vr.depth||1);xs(Jr,function(In){In.x=(In.x+nn)*ln,In.y=In.depth*Xr})}return Ar}function Ee(er){var Sr=er.children,Ar=er.parent.children,Jr=er.i?Ar[er.i-1]:null;if(Sr.length){!function df(ot){for(var ee,mt=0,Bt=0,Kt=ot.children,Jt=Kt.length;--Jt>=0;)(ee=Kt[Jt]).z+=mt,ee.m+=mt,mt+=ee.s+(Bt+=ee.c)}(er);var tn=(Sr[0].z+Sr[Sr.length-1].z)/2;Jr?(er.z=Jr.z+mt(er._,Jr._),er.m=er.z-tn):er.z=tn}else Jr&&(er.z=Jr.z+mt(er._,Jr._));er.parent.A=function ze(er,Sr,Ar){if(Sr){for(var In,Jr=er,tn=er,Rr=Sr,Or=Jr.parent.children[0],Vr=Jr.m,nn=tn.m,ln=Rr.m,Xr=Or.m;Rr=uu(Rr),Jr=Vs(Jr),Rr&&Jr;)Or=Vs(Or),(tn=uu(tn)).a=er,(In=Rr.z+ln-Jr.z-Vr+mt(Rr._,Jr._))>0&&(vf(Bu(Rr,er,Ar),er,In),Vr+=In,nn+=In),ln+=Rr.m,Vr+=Jr.m,Xr+=Or.m,nn+=tn.m;Rr&&!uu(tn)&&(tn.t=Rr,tn.m+=ln-nn),Jr&&!Vs(Or)&&(Or.t=Jr,Or.m+=Vr-Xr,Ar=er)}return Ar}(er,Jr,er.parent.A||Ar[0])}function me(er){er._.x=er.z+er.parent.m,er.m+=er.parent.m}function $e(er){er.x*=Bt[0],er.y=er.depth*Bt[1]}return Jt.separation=function(er){return arguments.length?(mt=er,Jt):mt},Jt.size=function(er){return arguments.length?(Kt=null==(Bt=er)?$e:null,Jt):Kt?null:Bt},Jt.nodeSize=function(er){return arguments.length?(Kt=null==(Bt=er)?null:$e,Jt):Kt?Bt:null},Zo(Jt,ot)},i.layout.cluster=function(){var ot=i.layout.hierarchy().sort(null).value(null),mt=Ol,Bt=[1,1],Kt=!1;function Jt(ee,Ee){var $e,me=ot.call(this,ee,Ee),ze=me[0],er=0;Fo(ze,function(Rr){var Or=Rr.children;Or&&Or.length?(Rr.x=function Uu(ot){return ot.reduce(function(mt,Bt){return mt+Bt.x},0)/ot.length}(Or),Rr.y=function Nu(ot){return 1+i.max(ot,function(mt){return mt.y})}(Or)):(Rr.x=$e?er+=mt(Rr,$e):0,Rr.y=0,$e=Rr)});var Sr=Bl(ze),Ar=Ni(ze),Jr=Sr.x-mt(Sr,Ar)/2,tn=Ar.x+mt(Ar,Sr)/2;return Fo(ze,Kt?function(Rr){Rr.x=(Rr.x-ze.x)*Bt[0],Rr.y=(ze.y-Rr.y)*Bt[1]}:function(Rr){Rr.x=(Rr.x-Jr)/(tn-Jr)*Bt[0],Rr.y=(1-(ze.y?Rr.y/ze.y:1))*Bt[1]}),me}return Jt.separation=function(ee){return arguments.length?(mt=ee,Jt):mt},Jt.size=function(ee){return arguments.length?(Kt=null==(Bt=ee),Jt):Kt?null:Bt},Jt.nodeSize=function(ee){return arguments.length?(Kt=null!=(Bt=ee),Jt):Kt?Bt:null},Zo(Jt,ot)},i.layout.treemap=function(){var Ee,ot=i.layout.hierarchy(),mt=Math.round,Bt=[1,1],Kt=null,Jt=vo,ee=!1,me="squarify",ze=.5*(1+Math.sqrt(5));function $e(Rr,Or){for(var ln,Xr,Vr=-1,nn=Rr.length;++Vr<nn;)Xr=(ln=Rr[Vr]).value*(Or<0?0:Or),ln.area=isNaN(Xr)||Xr<=0?0:Xr}function er(Rr){var Or=Rr.children;if(Or&&Or.length){var Xr,qn,ra,Vr=Jt(Rr),nn=[],ln=Or.slice(),In=1/0,oa="slice"===me?Vr.dx:"dice"===me?Vr.dy:"slice-dice"===me?1&Rr.depth?Vr.dy:Vr.dx:Math.min(Vr.dx,Vr.dy);for($e(ln,Vr.dx*Vr.dy/Rr.value),nn.area=0;(ra=ln.length)>0;)nn.push(Xr=ln[ra-1]),nn.area+=Xr.area,"squarify"!==me||(qn=Ar(nn,oa))<=In?(ln.pop(),In=qn):(nn.area-=nn.pop().area,Jr(nn,oa,Vr,!1),oa=Math.min(Vr.dx,Vr.dy),nn.length=nn.area=0,In=1/0);nn.length&&(Jr(nn,oa,Vr,!0),nn.length=nn.area=0),Or.forEach(er)}}function Sr(Rr){var Or=Rr.children;if(Or&&Or.length){var ln,Vr=Jt(Rr),nn=Or.slice(),Xr=[];for($e(nn,Vr.dx*Vr.dy/Rr.value),Xr.area=0;ln=nn.pop();)Xr.push(ln),Xr.area+=ln.area,null!=ln.z&&(Jr(Xr,ln.z?Vr.dx:Vr.dy,Vr,!nn.length),Xr.length=Xr.area=0);Or.forEach(Sr)}}function Ar(Rr,Or){for(var nn,Vr=Rr.area,ln=0,Xr=1/0,In=-1,qn=Rr.length;++In<qn;)!(nn=Rr[In].area)||(nn<Xr&&(Xr=nn),nn>ln&&(ln=nn));return Or*=Or,(Vr*=Vr)?Math.max(Or*ln*ze/Vr,Vr/(Or*Xr*ze)):1/0}function Jr(Rr,Or,Vr,nn){var ra,ln=-1,Xr=Rr.length,In=Vr.x,qn=Vr.y,oa=Or?mt(Rr.area/Or):0;if(Or==Vr.dx){for((nn||oa>Vr.dy)&&(oa=Vr.dy);++ln<Xr;)(ra=Rr[ln]).x=In,ra.y=qn,ra.dy=oa,In+=ra.dx=Math.min(Vr.x+Vr.dx-In,oa?mt(ra.area/oa):0);ra.z=!0,ra.dx+=Vr.x+Vr.dx-In,Vr.y+=oa,Vr.dy-=oa}else{for((nn||oa>Vr.dx)&&(oa=Vr.dx);++ln<Xr;)(ra=Rr[ln]).x=In,ra.y=qn,ra.dx=oa,qn+=ra.dy=Math.min(Vr.y+Vr.dy-qn,oa?mt(ra.area/oa):0);ra.z=!1,ra.dy+=Vr.y+Vr.dy-qn,Vr.x+=oa,Vr.dx-=oa}}function tn(Rr){var Or=Ee||ot(Rr),Vr=Or[0];return Vr.x=Vr.y=0,Vr.value?(Vr.dx=Bt[0],Vr.dy=Bt[1]):Vr.dx=Vr.dy=0,Ee&&ot.revalue(Vr),$e([Vr],Vr.dx*Vr.dy/Vr.value),(Ee?Sr:er)(Vr),ee&&(Ee=Or),Or}return tn.size=function(Rr){return arguments.length?(Bt=Rr,tn):Bt},tn.padding=function(Rr){if(!arguments.length)return Kt;function Or(ln){var Xr=Rr.call(tn,ln,ln.depth);return null==Xr?vo(ln):ls(ln,"number"==typeof Xr?[Xr,Xr,Xr,Xr]:Xr)}function Vr(ln){return ls(ln,Rr)}var nn;return Jt=null==(Kt=Rr)?vo:"function"==(nn=typeof Rr)?Or:("number"===nn&&(Rr=[Rr,Rr,Rr,Rr]),Vr),tn},tn.round=function(Rr){return arguments.length?(mt=Rr?Math.round:Number,tn):mt!=Number},tn.sticky=function(Rr){return arguments.length?(ee=Rr,Ee=null,tn):ee},tn.ratio=function(Rr){return arguments.length?(ze=Rr,tn):ze},tn.mode=function(Rr){return arguments.length?(me=Rr+"",tn):me},Zo(tn,ot)},i.random={normal:function(ot,mt){var Bt=arguments.length;return Bt<2&&(mt=1),Bt<1&&(ot=0),function(){var Kt,Jt,ee;do{ee=(Kt=2*Math.random()-1)*Kt+(Jt=2*Math.random()-1)*Jt}while(!ee||ee>1);return ot+mt*Kt*Math.sqrt(-2*Math.log(ee)/ee)}},logNormal:function(){var ot=i.random.normal.apply(i,arguments);return function(){return Math.exp(ot())}},bates:function(ot){var mt=i.random.irwinHall(ot);return function(){return mt()/ot}},irwinHall:function(ot){return function(){for(var mt=0,Bt=0;Bt<ot;Bt++)mt+=Math.random();return mt}}},i.scale={};var pf={floor:O,ceil:O};function us(ot,mt,Bt,Kt){var Jt=[],ee=[],Ee=0,me=Math.min(ot.length,mt.length)-1;for(ot[me]<ot[0]&&(ot=ot.slice().reverse(),mt=mt.slice().reverse());++Ee<=me;)Jt.push(Bt(ot[Ee-1],ot[Ee])),ee.push(Kt(mt[Ee-1],mt[Ee]));return function(ze){var $e=i.bisect(ot,ze,1,me)-1;return ee[$e](Jt[$e](ze))}}function fs(ot,mt,Bt,Kt){var Jt,ee;function Ee(){var ze=Math.min(ot.length,mt.length)>2?us:fu,$e=Kt?tu:is;return Jt=ze(ot,mt,$e,Bt),ee=ze(mt,ot,$e,no),me}function me(ze){return Jt(ze)}return me.invert=function(ze){return ee(ze)},me.domain=function(ze){return arguments.length?(ot=ze.map(Number),Ee()):ot},me.range=function(ze){return arguments.length?(mt=ze,Ee()):mt},me.rangeRound=function(ze){return me.range(ze).interpolate(ks)},me.clamp=function(ze){return arguments.length?(Kt=ze,Ee()):Kt},me.interpolate=function(ze){return arguments.length?(Bt=ze,Ee()):Bt},me.ticks=function(ze){return Ts(ot,ze)},me.tickFormat=function(ze,$e){return d3_scale_linearTickFormat(ot,ze,$e)},me.nice=function(ze){return ol(ot,ze),Ee()},me.copy=function(){return fs(ot,mt,Bt,Kt)},Ee()}function ki(ot,mt){return i.rebind(ot,mt,"range","rangeRound","interpolate","clamp")}function ol(ot,mt){return cu(ot,hu(Nl(ot,mt)[2])),cu(ot,hu(Nl(ot,mt)[2])),ot}function Nl(ot,mt){null==mt&&(mt=10);var Bt=il(ot),Kt=Bt[1]-Bt[0],Jt=Math.pow(10,Math.floor(Math.log(Kt/mt)/Math.LN10)),ee=mt/Kt*Jt;return ee<=.15?Jt*=10:ee<=.35?Jt*=5:ee<=.75&&(Jt*=2),Bt[0]=Math.ceil(Bt[0]/Jt)*Jt,Bt[1]=Math.floor(Bt[1]/Jt)*Jt+.5*Jt,Bt[2]=Jt,Bt}function Ts(ot,mt){return i.range.apply(i,Nl(ot,mt))}function Ko(ot,mt,Bt,Kt){function Jt(me){return(Bt?Math.log(me<0?0:me):-Math.log(me>0?0:-me))/Math.log(mt)}function ee(me){return Bt?Math.pow(mt,me):-Math.pow(mt,-me)}function Ee(me){return ot(Jt(me))}return Ee.invert=function(me){return ee(ot.invert(me))},Ee.domain=function(me){return arguments.length?(Bt=me[0]>=0,ot.domain((Kt=me.map(Number)).map(Jt)),Ee):Kt},Ee.base=function(me){return arguments.length?(mt=+me,ot.domain(Kt.map(Jt)),Ee):mt},Ee.nice=function(){var me=cu(Kt.map(Jt),Bt?Math:Jo);return ot.domain(me),Kt=me.map(ee),Ee},Ee.ticks=function(){var me=il(Kt),ze=[],$e=me[0],er=me[1],Sr=Math.floor(Jt($e)),Ar=Math.ceil(Jt(er)),Jr=mt%1?2:mt;if(isFinite(Ar-Sr)){if(Bt){for(;Sr<Ar;Sr++)for(var tn=1;tn<Jr;tn++)ze.push(ee(Sr)*tn);ze.push(ee(Sr))}else for(ze.push(ee(Sr));Sr++<Ar;)for(tn=Jr-1;tn>0;tn--)ze.push(ee(Sr)*tn);for(Sr=0;ze[Sr]<$e;Sr++);for(Ar=ze.length;ze[Ar-1]>er;Ar--);ze=ze.slice(Sr,Ar)}return ze},Ee.copy=function(){return Ko(ot.copy(),mt,Bt,Kt)},ki(Ee,ot)}i.scale.linear=function(){return fs([0,1],[0,1],no,!1)},i.scale.log=function(){return Ko(i.scale.linear().domain([0,1]),10,!0,[1,10])};var Jo={floor:function(ot){return-Math.ceil(-ot)},ceil:function(ot){return-Math.floor(-ot)}};function ll(ot,mt,Bt){var Kt=As(mt),Jt=As(1/mt);function ee(Ee){return ot(Kt(Ee))}return ee.invert=function(Ee){return Jt(ot.invert(Ee))},ee.domain=function(Ee){return arguments.length?(ot.domain((Bt=Ee.map(Number)).map(Kt)),ee):Bt},ee.ticks=function(Ee){return Ts(Bt,Ee)},ee.tickFormat=function(Ee,me){return d3_scale_linearTickFormat(Bt,Ee,me)},ee.nice=function(Ee){return ee.domain(ol(Bt,Ee))},ee.exponent=function(Ee){return arguments.length?(Kt=As(mt=Ee),Jt=As(1/mt),ot.domain(Bt.map(Kt)),ee):mt},ee.copy=function(){return ll(ot.copy(),mt,Bt)},ki(ee,ot)}function As(ot){return function(mt){return mt<0?-Math.pow(-mt,ot):Math.pow(mt,ot)}}function ei(ot,mt){var Bt,Kt,Jt;function ee(me){return Kt[((Bt.get(me)||("range"===mt.t?Bt.set(me,ot.push(me)):NaN))-1)%Kt.length]}function Ee(me,ze){return i.range(ot.length).map(function($e){return me+ze*$e})}return ee.domain=function(me){if(!arguments.length)return ot;ot=[],Bt=new L;for(var er,ze=-1,$e=me.length;++ze<$e;)Bt.has(er=me[ze])||Bt.set(er,ot.push(er));return ee[mt.t].apply(ee,mt.a)},ee.range=function(me){return arguments.length?(Kt=me,Jt=0,mt={t:"range",a:arguments},ee):Kt},ee.rangePoints=function(me,ze){arguments.length<2&&(ze=0);var $e=me[0],er=me[1],Sr=ot.length<2?($e=($e+er)/2,0):(er-$e)/(ot.length-1+ze);return Kt=Ee($e+Sr*ze/2,Sr),Jt=0,mt={t:"rangePoints",a:arguments},ee},ee.rangeRoundPoints=function(me,ze){arguments.length<2&&(ze=0);var $e=me[0],er=me[1],Sr=ot.length<2?($e=er=Math.round(($e+er)/2),0):(er-$e)/(ot.length-1+ze)|0;return Kt=Ee($e+Math.round(Sr*ze/2+(er-$e-(ot.length-1+ze)*Sr)/2),Sr),Jt=0,mt={t:"rangeRoundPoints",a:arguments},ee},ee.rangeBands=function(me,ze,$e){arguments.length<2&&(ze=0),arguments.length<3&&($e=ze);var er=me[1]<me[0],Sr=me[er-0],Jr=(me[1-er]-Sr)/(ot.length-ze+2*$e);return Kt=Ee(Sr+Jr*$e,Jr),er&&Kt.reverse(),Jt=Jr*(1-ze),mt={t:"rangeBands",a:arguments},ee},ee.rangeRoundBands=function(me,ze,$e){arguments.length<2&&(ze=0),arguments.length<3&&($e=ze);var er=me[1]<me[0],Sr=me[er-0],Ar=me[1-er],Jr=Math.floor((Ar-Sr)/(ot.length-ze+2*$e));return Kt=Ee(Sr+Math.round((Ar-Sr-(ot.length-ze)*Jr)/2),Jr),er&&Kt.reverse(),Jt=Math.round(Jr*(1-ze)),mt={t:"rangeRoundBands",a:arguments},ee},ee.rangeBand=function(){return Jt},ee.rangeExtent=function(){return il(mt.a[0])},ee.copy=function(){return ei(ot,mt)},ee.domain(ot)}i.scale.pow=function(){return ll(i.scale.linear(),1,[0,1])},i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return ei([],{t:"range",a:[[]]})},i.scale.category10=function(){return i.scale.ordinal().range(Gs)},i.scale.category20=function(){return i.scale.ordinal().range(vu)},i.scale.category20b=function(){return i.scale.ordinal().range(Ul)},i.scale.category20c=function(){return i.scale.ordinal().range(Ms)};var Gs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dr),vu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dr),Ul=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dr),Ms=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dr);function Hu(ot,mt){var Bt;function Kt(){var ee=0,Ee=mt.length;for(Bt=[];++ee<Ee;)Bt[ee-1]=i.quantile(ot,ee/Ee);return Jt}function Jt(ee){if(!isNaN(ee=+ee))return mt[i.bisect(Bt,ee)]}return Jt.domain=function(ee){return arguments.length?(ot=ee.map(y).filter(v).sort(u),Kt()):ot},Jt.range=function(ee){return arguments.length?(mt=ee,Kt()):mt},Jt.quantiles=function(){return Bt},Jt.invertExtent=function(ee){return(ee=mt.indexOf(ee))<0?[NaN,NaN]:[ee>0?Bt[ee-1]:ot[0],ee<Bt.length?Bt[ee]:ot[ot.length-1]]},Jt.copy=function(){return Hu(ot,mt)},Kt()}function du(ot,mt,Bt){var Kt,Jt;function ee(me){return Bt[Math.max(0,Math.min(Jt,Math.floor(Kt*(me-ot))))]}function Ee(){return Kt=Bt.length/(mt-ot),Jt=Bt.length-1,ee}return ee.domain=function(me){return arguments.length?(ot=+me[0],mt=+me[me.length-1],Ee()):[ot,mt]},ee.range=function(me){return arguments.length?(Bt=me,Ee()):Bt},ee.invertExtent=function(me){return[me=(me=Bt.indexOf(me))<0?NaN:me/Kt+ot,me+1/Kt]},ee.copy=function(){return du(ot,mt,Bt)},Ee()}function ul(ot,mt){function Bt(Kt){if(Kt<=Kt)return mt[i.bisect(ot,Kt)]}return Bt.domain=function(Kt){return arguments.length?(ot=Kt,Bt):ot},Bt.range=function(Kt){return arguments.length?(mt=Kt,Bt):mt},Bt.invertExtent=function(Kt){return Kt=mt.indexOf(Kt),[ot[Kt-1],ot[Kt]]},Bt.copy=function(){return ul(ot,mt)},Bt}function Vl(ot){function mt(Bt){return+Bt}return mt.invert=mt,mt.domain=mt.range=function(Bt){return arguments.length?(ot=Bt.map(mt),mt):ot},mt.ticks=function(Bt){return Ts(ot,Bt)},mt.tickFormat=function(Bt,Kt){return d3_scale_linearTickFormat(ot,Bt,Kt)},mt.copy=function(){return Vl(ot)},mt}function Gu(){return 0}i.scale.quantile=function(){return Hu([],[])},i.scale.quantize=function(){return du(0,1,[0,1])},i.scale.threshold=function(){return ul([.5],[0,1])},i.scale.identity=function(){return Vl([0,1])},i.svg={},i.svg.arc=function(){var ot=fl,mt=cl,Bt=Gu,Kt=Qo,Jt=$o,ee=Ao,Ee=hl;function me(){var $e=Math.max(0,+ot.apply(this,arguments)),er=Math.max(0,+mt.apply(this,arguments)),Sr=Jt.apply(this,arguments)-Qt,Ar=ee.apply(this,arguments)-Qt,Jr=Math.abs(Ar-Sr),tn=Sr>Ar?0:1;if(er<$e&&(Rr=er,er=$e,$e=Rr),Jr>=Yt)return ze(er,tn)+($e?ze($e,1-tn):"")+"Z";var Rr,Or,Vr,nn,In,qn,oa,ra,na,ma,va,da,ln=0,Xr=0,Sa=[];if((nn=(+Ee.apply(this,arguments)||0)/2)&&(Vr=Kt===Qo?Math.sqrt($e*$e+er*er):+Kt.apply(this,arguments),tn||(Xr*=-1),er&&(Xr=je(Vr/er*Math.sin(nn))),$e&&(ln=je(Vr/$e*Math.sin(nn)))),er){In=er*Math.cos(Sr+Xr),qn=er*Math.sin(Sr+Xr),oa=er*Math.cos(Ar-Xr),ra=er*Math.sin(Ar-Xr);var Na=Math.abs(Ar-Sr-2*Xr)<=vt?0:1;if(Xr&&hs(In,qn,oa,ra)===tn^Na){var mi=(Sr+Ar)/2;In=er*Math.cos(mi),qn=er*Math.sin(mi),oa=ra=null}}else In=qn=0;if($e){na=$e*Math.cos(Ar-ln),ma=$e*Math.sin(Ar-ln),va=$e*Math.cos(Sr+ln),da=$e*Math.sin(Sr+ln);var ja=Math.abs(Sr-Ar+2*ln)<=vt?0:1;if(ln&&hs(na,ma,va,da)===1-tn^ja){var jn=(Sr+Ar)/2;na=$e*Math.cos(jn),ma=$e*Math.sin(jn),va=da=null}}else na=ma=0;if(Jr>gt&&(Rr=Math.min(Math.abs(er-$e)/2,+Bt.apply(this,arguments)))>.001){Or=$e<er^tn?0:1;var La=Rr,Ea=Rr;if(Jr<vt){var Wn=null==va?[na,ma]:null==oa?[In,qn]:Ln([In,qn],[va,da],[oa,ra],[na,ma]),ua=In-Wn[0],ii=qn-Wn[1],di=oa-Wn[0],Ai=ra-Wn[1],ri=1/Math.sin(Math.acos((ua*di+ii*Ai)/(Math.sqrt(ua*ua+ii*ii)*Math.sqrt(di*di+Ai*Ai)))/2),Pi=Math.sqrt(Wn[0]*Wn[0]+Wn[1]*Wn[1]);Ea=Math.min(Rr,($e-Pi)/(ri-1)),La=Math.min(Rr,(er-Pi)/(ri+1))}if(null!=oa){var Mi=vl(null==va?[na,ma]:[va,da],[In,qn],er,La,tn),Vi=vl([oa,ra],[na,ma],er,La,tn);Rr===La?Sa.push("M",Mi[0],"A",La,",",La," 0 0,",Or," ",Mi[1],"A",er,",",er," 0 ",1-tn^hs(Mi[1][0],Mi[1][1],Vi[1][0],Vi[1][1]),",",tn," ",Vi[1],"A",La,",",La," 0 0,",Or," ",Vi[0]):Sa.push("M",Mi[0],"A",La,",",La," 0 1,",Or," ",Vi[0])}else Sa.push("M",In,",",qn);if(null!=va){var ti=vl([In,qn],[va,da],$e,-Ea,tn),ml=vl([na,ma],null==oa?[In,qn]:[oa,ra],$e,-Ea,tn);Rr===Ea?Sa.push("L",ml[0],"A",Ea,",",Ea," 0 0,",Or," ",ml[1],"A",$e,",",$e," 0 ",tn^hs(ml[1][0],ml[1][1],ti[1][0],ti[1][1]),",",1-tn," ",ti[1],"A",Ea,",",Ea," 0 0,",Or," ",ti[0]):Sa.push("L",ml[0],"A",Ea,",",Ea," 0 0,",Or," ",ti[0])}else Sa.push("L",na,",",ma)}else Sa.push("M",In,",",qn),null!=oa&&Sa.push("A",er,",",er," 0 ",Na,",",tn," ",oa,",",ra),Sa.push("L",na,",",ma),null!=va&&Sa.push("A",$e,",",$e," 0 ",ja,",",1-tn," ",va,",",da);return Sa.push("Z"),Sa.join("")}function ze($e,er){return"M0,"+$e+"A"+$e+","+$e+" 0 1,"+er+" 0,"+-$e+"A"+$e+","+$e+" 0 1,"+er+" 0,"+$e}return me.innerRadius=function($e){return arguments.length?(ot=lr($e),me):ot},me.outerRadius=function($e){return arguments.length?(mt=lr($e),me):mt},me.cornerRadius=function($e){return arguments.length?(Bt=lr($e),me):Bt},me.padRadius=function($e){return arguments.length?(Kt=$e==Qo?Qo:lr($e),me):Kt},me.startAngle=function($e){return arguments.length?(Jt=lr($e),me):Jt},me.endAngle=function($e){return arguments.length?(ee=lr($e),me):ee},me.padAngle=function($e){return arguments.length?(Ee=lr($e),me):Ee},me.centroid=function(){var $e=(+ot.apply(this,arguments)+ +mt.apply(this,arguments))/2,er=(+Jt.apply(this,arguments)+ +ee.apply(this,arguments))/2-Qt;return[Math.cos(er)*$e,Math.sin(er)*$e]},me};var Qo="auto";function fl(ot){return ot.innerRadius}function cl(ot){return ot.outerRadius}function $o(ot){return ot.startAngle}function Ao(ot){return ot.endAngle}function hl(ot){return ot&&ot.padAngle}function hs(ot,mt,Bt,Kt){return(ot-Bt)*mt-(mt-Kt)*ot>0?0:1}function vl(ot,mt,Bt,Kt,Jt){var ee=ot[0]-mt[0],Ee=ot[1]-mt[1],me=(Jt?Kt:-Kt)/Math.sqrt(ee*ee+Ee*Ee),ze=me*Ee,$e=-me*ee,er=ot[0]+ze,Sr=ot[1]+$e,Ar=mt[0]+ze,Jr=mt[1]+$e,tn=(er+Ar)/2,Rr=(Sr+Jr)/2,Or=Ar-er,Vr=Jr-Sr,nn=Or*Or+Vr*Vr,ln=Bt-Kt,Xr=er*Jr-Ar*Sr,In=(Vr<0?-1:1)*Math.sqrt(Math.max(0,ln*ln*nn-Xr*Xr)),qn=(Xr*Vr-Or*In)/nn,oa=(-Xr*Or-Vr*In)/nn,ra=(Xr*Vr+Or*In)/nn,na=(-Xr*Or+Vr*In)/nn,ma=qn-tn,va=oa-Rr,da=ra-tn,Sa=na-Rr;return ma*ma+va*va>da*da+Sa*Sa&&(qn=ra,oa=na),[[qn-ze,oa-$e],[qn*Bt/ln,oa*Bt/ln]]}function Ws(){return!0}function Wu(ot){var mt=Tr,Bt=an,Kt=Ws,Jt=Ti,ee=Jt.key,Ee=.7;function me(ze){var Jr,$e=[],er=[],Sr=-1,Ar=ze.length,tn=lr(mt),Rr=lr(Bt);function Or(){$e.push("M",Jt(ot(er),Ee))}for(;++Sr<Ar;)Kt.call(this,Jr=ze[Sr],Sr)?er.push([+tn.call(this,Jr,Sr),+Rr.call(this,Jr,Sr)]):er.length&&(Or(),er=[]);return er.length&&Or(),$e.length?$e.join(""):null}return me.x=function(ze){return arguments.length?(mt=ze,me):mt},me.y=function(ze){return arguments.length?(Bt=ze,me):Bt},me.defined=function(ze){return arguments.length?(Kt=ze,me):Kt},me.interpolate=function(ze){return arguments.length?(ee="function"==typeof ze?Jt=ze:(Jt=Hl.get(ze)||Ti).key,me):ee},me.tension=function(ze){return arguments.length?(Ee=ze,me):Ee},me}i.svg.line=function(){return Wu(O)};var Hl=i.map({linear:Ti,"linear-closed":pu,step:function Gl(ot){for(var mt=0,Bt=ot.length,Kt=ot[0],Jt=[Kt[0],",",Kt[1]];++mt<Bt;)Jt.push("H",(Kt[0]+(Kt=ot[mt])[0])/2,"V",Kt[1]);return Bt>1&&Jt.push("H",Kt[0]),Jt.join("")},"step-before":Ss,"step-after":vs,basis:pl,"basis-open":function Yu(ot){if(ot.length<4)return Ti(ot);for(var Jt,mt=[],Bt=-1,Kt=ot.length,ee=[0],Ee=[0];++Bt<3;)ee.push((Jt=ot[Bt])[0]),Ee.push(Jt[1]);for(mt.push(ao(Oo,ee)+","+ao(Oo,Ee)),--Bt;++Bt<Kt;)Jt=ot[Bt],ee.shift(),ee.push(Jt[0]),Ee.shift(),Ee.push(Jt[1]),Xs(mt,ee,Ee);return mt.join("")},"basis-closed":function yu(ot){for(var mt,ee,Bt=-1,Kt=ot.length,Jt=Kt+4,Ee=[],me=[];++Bt<4;)Ee.push((ee=ot[Bt%Kt])[0]),me.push(ee[1]);for(mt=[ao(Oo,Ee),",",ao(Oo,me)],--Bt;++Bt<Jt;)ee=ot[Bt%Kt],Ee.shift(),Ee.push(ee[0]),me.shift(),me.push(ee[1]),Xs(mt,Ee,me);return mt.join("")},bundle:function Es(ot,mt){var Bt=ot.length-1;if(Bt)for(var ze,$e,Kt=ot[0][0],Jt=ot[0][1],ee=ot[Bt][0]-Kt,Ee=ot[Bt][1]-Jt,me=-1;++me<=Bt;)(ze=ot[me])[0]=mt*ze[0]+(1-mt)*(Kt+($e=me/Bt)*ee),ze[1]=mt*ze[1]+(1-mt)*(Jt+$e*Ee);return pl(ot)},cardinal:function Ys(ot,mt){return ot.length<3?Ti(ot):ot[0]+Zs(ot,dl(ot,mt))},"cardinal-open":function gu(ot,mt){return ot.length<4?Ti(ot):ot[1]+Zs(ot.slice(1,-1),dl(ot,mt))},"cardinal-closed":function gf(ot,mt){return ot.length<3?pu(ot):ot[0]+Zs((ot.push(ot[0]),ot),dl([ot[ot.length-2]].concat(ot,[ot[1]]),mt))},monotone:function Xu(ot){return ot.length<3?Ti(ot):ot[0]+Zs(ot,function Yl(ot){for(var Bt,Kt,Jt,ee,mt=[],Ee=function Zu(ot){for(var mt=0,Bt=ot.length-1,Kt=[],Jt=ot[0],ee=ot[1],Ee=Kt[0]=Cs(Jt,ee);++mt<Bt;)Kt[mt]=(Ee+(Ee=Cs(Jt=ee,ee=ot[mt+1])))/2;return Kt[mt]=Ee,Kt}(ot),me=-1,ze=ot.length-1;++me<ze;)Bt=Cs(ot[me],ot[me+1]),h(Bt)<gt?Ee[me]=Ee[me+1]=0:(ee=(Kt=Ee[me]/Bt)*Kt+(Jt=Ee[me+1]/Bt)*Jt)>9&&(ee=3*Bt/Math.sqrt(ee),Ee[me]=ee*Kt,Ee[me+1]=ee*Jt);for(me=-1;++me<=ze;)ee=(ot[Math.min(ze,me+1)][0]-ot[Math.max(0,me-1)][0])/(6*(1+Ee[me]*Ee[me])),mt.push([ee||0,Ee[me]*ee||0]);return mt}(ot))}});function Ti(ot){return ot.length>1?ot.join("L"):ot+"Z"}function pu(ot){return ot.join("L")+"Z"}function Ss(ot){for(var mt=0,Bt=ot.length,Kt=ot[0],Jt=[Kt[0],",",Kt[1]];++mt<Bt;)Jt.push("V",(Kt=ot[mt])[1],"H",Kt[0]);return Jt.join("")}function vs(ot){for(var mt=0,Bt=ot.length,Kt=ot[0],Jt=[Kt[0],",",Kt[1]];++mt<Bt;)Jt.push("H",(Kt=ot[mt])[0],"V",Kt[1]);return Jt.join("")}function Zs(ot,mt){if(mt.length<1||ot.length!=mt.length&&ot.length!=mt.length+2)return Ti(ot);var Bt=ot.length!=mt.length,Kt="",Jt=ot[0],ee=ot[1],Ee=mt[0],me=Ee,ze=1;if(Bt&&(Kt+="Q"+(ee[0]-2*Ee[0]/3)+","+(ee[1]-2*Ee[1]/3)+","+ee[0]+","+ee[1],Jt=ot[1],ze=2),mt.length>1){ee=ot[ze],ze++,Kt+="C"+(Jt[0]+Ee[0])+","+(Jt[1]+Ee[1])+","+(ee[0]-(me=mt[1])[0])+","+(ee[1]-me[1])+","+ee[0]+","+ee[1];for(var $e=2;$e<mt.length;$e++,ze++)Kt+="S"+((ee=ot[ze])[0]-(me=mt[$e])[0])+","+(ee[1]-me[1])+","+ee[0]+","+ee[1]}if(Bt){var er=ot[ze];Kt+="Q"+(ee[0]+2*me[0]/3)+","+(ee[1]+2*me[1]/3)+","+er[0]+","+er[1]}return Kt}function dl(ot,mt){for(var Jt,Bt=[],Kt=(1-mt)/2,ee=ot[0],Ee=ot[1],me=1,ze=ot.length;++me<ze;)Jt=ee,ee=Ee,Bt.push([Kt*((Ee=ot[me])[0]-Jt[0]),Kt*(Ee[1]-Jt[1])]);return Bt}function pl(ot){if(ot.length<3)return Ti(ot);var mt=1,Bt=ot.length,Kt=ot[0],Jt=Kt[0],ee=Kt[1],Ee=[Jt,Jt,Jt,(Kt=ot[1])[0]],me=[ee,ee,ee,Kt[1]],ze=[Jt,",",ee,"L",ao(Oo,Ee),",",ao(Oo,me)];for(ot.push(ot[Bt-1]);++mt<=Bt;)Kt=ot[mt],Ee.shift(),Ee.push(Kt[0]),me.shift(),me.push(Kt[1]),Xs(ze,Ee,me);return ot.pop(),ze.push("L",Kt),ze.join("")}function ao(ot,mt){return ot[0]*mt[0]+ot[1]*mt[1]+ot[2]*mt[2]+ot[3]*mt[3]}Hl.forEach(function(ot,mt){mt.key=ot,mt.closed=/-closed$/.test(ot)});var mu=[0,2/3,1/3,0],Wl=[0,1/3,2/3,0],Oo=[0,1/6,2/3,1/6];function Xs(ot,mt,Bt){ot.push("C",ao(mu,mt),",",ao(mu,Bt),",",ao(Wl,mt),",",ao(Wl,Bt),",",ao(Oo,mt),",",ao(Oo,Bt))}function Cs(ot,mt){return(mt[1]-ot[1])/(mt[0]-ot[0])}function yl(ot){for(var mt,Jt,ee,Bt=-1,Kt=ot.length;++Bt<Kt;)ee=(mt=ot[Bt])[1]-Qt,mt[0]=(Jt=mt[0])*Math.cos(ee),mt[1]=Jt*Math.sin(ee);return ot}function xu(ot){var mt=Tr,Bt=Tr,Kt=0,Jt=an,ee=Ws,Ee=Ti,me=Ee.key,ze=Ee,$e="L",er=.7;function Sr(Ar){var nn,oa,ra,Jr=[],tn=[],Rr=[],Or=-1,Vr=Ar.length,ln=lr(mt),Xr=lr(Kt),In=mt===Bt?function(){return oa}:lr(Bt),qn=Kt===Jt?function(){return ra}:lr(Jt);function na(){Jr.push("M",Ee(ot(Rr),er),$e,ze(ot(tn.reverse()),er),"Z")}for(;++Or<Vr;)ee.call(this,nn=Ar[Or],Or)?(tn.push([oa=+ln.call(this,nn,Or),ra=+Xr.call(this,nn,Or)]),Rr.push([+In.call(this,nn,Or),+qn.call(this,nn,Or)])):tn.length&&(na(),tn=[],Rr=[]);return tn.length&&na(),Jr.length?Jr.join(""):null}return Sr.x=function(Ar){return arguments.length?(mt=Bt=Ar,Sr):Bt},Sr.x0=function(Ar){return arguments.length?(mt=Ar,Sr):mt},Sr.x1=function(Ar){return arguments.length?(Bt=Ar,Sr):Bt},Sr.y=function(Ar){return arguments.length?(Kt=Jt=Ar,Sr):Jt},Sr.y0=function(Ar){return arguments.length?(Kt=Ar,Sr):Kt},Sr.y1=function(Ar){return arguments.length?(Jt=Ar,Sr):Jt},Sr.defined=function(Ar){return arguments.length?(ee=Ar,Sr):ee},Sr.interpolate=function(Ar){return arguments.length?(me="function"==typeof Ar?Ee=Ar:(Ee=Hl.get(Ar)||Ti).key,ze=Ee.reverse||Ee,$e=Ee.closed?"M":"L",Sr):me},Sr.tension=function(Ar){return arguments.length?(er=Ar,Sr):er},Sr}function Xt(ot){return ot.source}function $t(ot){return ot.target}function ue(ot){return ot.radius}function ce(ot){return[ot.x,ot.y]}function Ce(ot){return function(){var mt=ot.apply(this,arguments),Bt=mt[0],Kt=mt[1]-Qt;return[Bt*Math.cos(Kt),Bt*Math.sin(Kt)]}}function Me(){return 64}function Re(){return"circle"}function cr(ot){var mt=Math.sqrt(ot/vt);return"M0,"+mt+"A"+mt+","+mt+" 0 1,1 0,"+-mt+"A"+mt+","+mt+" 0 1,1 0,"+mt+"Z"}i.svg.line.radial=function(){var ot=Wu(yl);return ot.radius=ot.x,delete ot.x,ot.angle=ot.y,delete ot.y,ot},Ss.reverse=vs,vs.reverse=Ss,i.svg.area=function(){return xu(O)},i.svg.area.radial=function(){var ot=xu(yl);return ot.radius=ot.x,delete ot.x,ot.innerRadius=ot.x0,delete ot.x0,ot.outerRadius=ot.x1,delete ot.x1,ot.angle=ot.y,delete ot.y,ot.startAngle=ot.y0,delete ot.y0,ot.endAngle=ot.y1,delete ot.y1,ot},i.svg.chord=function(){var ot=Xt,mt=$t,Bt=ue,Kt=$o,Jt=Ao;function ee(er,Sr){var Ar=Ee(this,ot,er,Sr),Jr=Ee(this,mt,er,Sr);return"M"+Ar.p0+ze(Ar.r,Ar.p1,Ar.a1-Ar.a0)+(function me(er,Sr){return er.a0==Sr.a0&&er.a1==Sr.a1}(Ar,Jr)?$e(0,0,0,Ar.p0):$e(0,0,0,Jr.p0)+ze(Jr.r,Jr.p1,Jr.a1-Jr.a0)+$e(0,0,0,Ar.p0))+"Z"}function Ee(er,Sr,Ar,Jr){var tn=Sr.call(er,Ar,Jr),Rr=Bt.call(er,tn,Jr),Or=Kt.call(er,tn,Jr)-Qt,Vr=Jt.call(er,tn,Jr)-Qt;return{r:Rr,a0:Or,a1:Vr,p0:[Rr*Math.cos(Or),Rr*Math.sin(Or)],p1:[Rr*Math.cos(Vr),Rr*Math.sin(Vr)]}}function ze(er,Sr,Ar){return"A"+er+","+er+" 0 "+ +(Ar>vt)+",1 "+Sr}function $e(er,Sr,Ar,Jr){return"Q 0,0 "+Jr}return ee.radius=function(er){return arguments.length?(Bt=lr(er),ee):Bt},ee.source=function(er){return arguments.length?(ot=lr(er),ee):ot},ee.target=function(er){return arguments.length?(mt=lr(er),ee):mt},ee.startAngle=function(er){return arguments.length?(Kt=lr(er),ee):Kt},ee.endAngle=function(er){return arguments.length?(Jt=lr(er),ee):Jt},ee},i.svg.diagonal=function(){var ot=Xt,mt=$t,Bt=ce;function Kt(Jt,ee){var Ee=ot.call(this,Jt,ee),me=mt.call(this,Jt,ee),ze=(Ee.y+me.y)/2,$e=[Ee,{x:Ee.x,y:ze},{x:me.x,y:ze},me];return"M"+($e=$e.map(Bt))[0]+"C"+$e[1]+" "+$e[2]+" "+$e[3]}return Kt.source=function(Jt){return arguments.length?(ot=lr(Jt),Kt):ot},Kt.target=function(Jt){return arguments.length?(mt=lr(Jt),Kt):mt},Kt.projection=function(Jt){return arguments.length?(Bt=Jt,Kt):Bt},Kt},i.svg.diagonal.radial=function(){var ot=i.svg.diagonal(),mt=ce,Bt=ot.projection;return ot.projection=function(Kt){return arguments.length?Bt(Ce(mt=Kt)):mt},ot},i.svg.symbol=function(){var ot=Re,mt=Me;function Bt(Kt,Jt){return(pr.get(ot.call(this,Kt,Jt))||cr)(mt.call(this,Kt,Jt))}return Bt.type=function(Kt){return arguments.length?(ot=lr(Kt),Bt):ot},Bt.size=function(Kt){return arguments.length?(mt=lr(Kt),Bt):mt},Bt};var pr=i.map({circle:cr,cross:function(ot){var mt=Math.sqrt(ot/5)/2;return"M"+-3*mt+","+-mt+"H"+-mt+"V"+-3*mt+"H"+mt+"V"+-mt+"H"+3*mt+"V"+mt+"H"+mt+"V"+3*mt+"H"+-mt+"V"+mt+"H"+-3*mt+"Z"},diamond:function(ot){var mt=Math.sqrt(ot/(2*hr)),Bt=mt*hr;return"M0,"+-mt+"L"+Bt+",0 0,"+mt+" "+-Bt+",0Z"},square:function(ot){var mt=Math.sqrt(ot)/2;return"M"+-mt+","+-mt+"L"+mt+","+-mt+" "+mt+","+mt+" "+-mt+","+mt+"Z"},"triangle-down":function(ot){var mt=Math.sqrt(ot/ur),Bt=mt*ur/2;return"M0,"+Bt+"L"+mt+","+-Bt+" "+-mt+","+-Bt+"Z"},"triangle-up":function(ot){var mt=Math.sqrt(ot/ur),Bt=mt*ur/2;return"M0,"+-Bt+"L"+mt+","+Bt+" "+-mt+","+Bt+"Z"}});i.svg.symbolTypes=pr.keys();var ur=Math.sqrt(3),hr=Math.tan(30*le);K.transition=function(ot){for(var Jt,ee,mt=kn||++bn,Bt=Aa(ot),Kt=[],Ee=_n||{time:Date.now(),ease:af,delay:0,duration:250},me=-1,ze=this.length;++me<ze;){Kt.push(Jt=[]);for(var $e=this[me],er=-1,Sr=$e.length;++er<Sr;)(ee=$e[er])&&Ra(ee,er,Bt,mt,Ee),Jt.push(ee)}return jr(Kt,Bt,mt)},K.interrupt=function(ot){return this.each(null==ot?kr:Hr(Aa(ot)))};var kr=Hr(Aa());function Hr(ot){return function(){var mt,Bt,Kt;(mt=this[ot])&&(Kt=mt[Bt=mt.active])&&(Kt.timer.c=null,Kt.timer.t=NaN,--mt.count?delete mt[Bt]:delete this[ot],mt.active+=.5,Kt.event&&Kt.event.interrupt.call(this,this.__data__,Kt.index))}}function jr(ot,mt,Bt){return Z(ot,Qr),ot.namespace=mt,ot.id=Bt,ot}var kn,_n,Qr=[],bn=0;function xa(ot,mt,Bt,Kt){var Jt=ot.id,ee=ot.namespace;return kt(ot,"function"==typeof Bt?function(Ee,me,ze){Ee[ee][Jt].tween.set(mt,Kt(Bt.call(Ee,Ee.__data__,me,ze)))}:(Bt=Kt(Bt),function(Ee){Ee[ee][Jt].tween.set(mt,Bt)}))}function Ma(ot){return null==ot&&(ot=""),function(){this.textContent=ot}}function Aa(ot){return null==ot?"__transition__":"__transition_"+ot+"__"}function Ra(ot,mt,Bt,Kt,Jt){var me,ze,$e,er,Sr,ee=ot[Bt]||(ot[Bt]={active:0,count:0}),Ee=ee[Kt];function Jr(Rr){var Or=ee.active,Vr=ee[Or];for(var nn in Vr&&(Vr.timer.c=null,Vr.timer.t=NaN,--ee.count,delete ee[Or],Vr.event&&Vr.event.interrupt.call(ot,ot.__data__,Vr.index)),ee)if(+nn<Kt){var ln=ee[nn];ln.timer.c=null,ln.timer.t=NaN,--ee.count,delete ee[nn]}ze.c=tn,Gn(function(){return ze.c&&tn(Rr||1)&&(ze.c=null,ze.t=NaN),1},0,me),ee.active=Kt,Ee.event&&Ee.event.start.call(ot,ot.__data__,mt),Sr=[],Ee.tween.forEach(function(Xr,In){(In=In.call(ot,ot.__data__,mt))&&Sr.push(In)}),er=Ee.ease,$e=Ee.duration}function tn(Rr){for(var Or=Rr/$e,Vr=er(Or),nn=Sr.length;nn>0;)Sr[--nn].call(ot,Vr);if(Or>=1)return Ee.event&&Ee.event.end.call(ot,ot.__data__,mt),--ee.count?delete ee[Kt]:delete ot[Bt],1}Ee||(ze=Gn(function Ar(Rr){var Or=Ee.delay;if(ze.t=Or+me,Or<=Rr)return Jr(Rr-Or);ze.c=Jr},0,me=Jt.time),Ee=ee[Kt]={tween:new L,time:me,timer:ze,delay:Jt.delay,duration:Jt.duration,ease:Jt.ease,index:mt},Jt=null,++ee.count)}Qr.call=K.call,Qr.empty=K.empty,Qr.node=K.node,Qr.size=K.size,i.transition=function(ot,mt){return ot&&ot.transition?kn?ot.transition(mt):ot:i.selection().transition(ot)},i.transition.prototype=Qr,Qr.select=function(ot){var Jt,ee,Ee,mt=this.id,Bt=this.namespace,Kt=[];ot=nt(ot);for(var me=-1,ze=this.length;++me<ze;){Kt.push(Jt=[]);for(var $e=this[me],er=-1,Sr=$e.length;++er<Sr;)(Ee=$e[er])&&(ee=ot.call(Ee,Ee.__data__,er,me))?("__data__"in Ee&&(ee.__data__=Ee.__data__),Ra(ee,er,Bt,mt,Ee[Bt][mt]),Jt.push(ee)):Jt.push(null)}return jr(Kt,Bt,mt)},Qr.selectAll=function(ot){var Jt,ee,Ee,me,ze,mt=this.id,Bt=this.namespace,Kt=[];ot=et(ot);for(var $e=-1,er=this.length;++$e<er;)for(var Sr=this[$e],Ar=-1,Jr=Sr.length;++Ar<Jr;)if(Ee=Sr[Ar]){ze=Ee[Bt][mt],ee=ot.call(Ee,Ee.__data__,Ar,$e),Kt.push(Jt=[]);for(var tn=-1,Rr=ee.length;++tn<Rr;)(me=ee[tn])&&Ra(me,tn,Bt,mt,ze),Jt.push(me)}return jr(Kt,Bt,mt)},Qr.filter=function(ot){var Bt,Jt,mt=[];"function"!=typeof ot&&(ot=te(ot));for(var ee=0,Ee=this.length;ee<Ee;ee++){mt.push(Bt=[]);for(var Kt,me=0,ze=(Kt=this[ee]).length;me<ze;me++)(Jt=Kt[me])&&ot.call(Jt,Jt.__data__,me,ee)&&Bt.push(Jt)}return jr(mt,this.namespace,this.id)},Qr.tween=function(ot,mt){var Bt=this.id,Kt=this.namespace;return arguments.length<2?this.node()[Kt][Bt].tween.get(ot):kt(this,null==mt?function(Jt){Jt[Kt][Bt].tween.remove(ot)}:function(Jt){Jt[Kt][Bt].tween.set(ot,mt)})},Qr.attr=function(ot,mt){if(arguments.length<2){for(mt in ot)this.attr(mt,ot[mt]);return this}var Bt="transform"==ot?lo:no,Kt=i.ns.qualify(ot);function Jt(){this.removeAttribute(Kt)}function ee(){this.removeAttributeNS(Kt.space,Kt.local)}function Ee(ze){return null==ze?Jt:(ze+="",function(){var er,$e=this.getAttribute(Kt);return $e!==ze&&(er=Bt($e,ze),function(Sr){this.setAttribute(Kt,er(Sr))})})}function me(ze){return null==ze?ee:(ze+="",function(){var er,$e=this.getAttributeNS(Kt.space,Kt.local);return $e!==ze&&(er=Bt($e,ze),function(Sr){this.setAttributeNS(Kt.space,Kt.local,er(Sr))})})}return xa(this,"attr."+ot,mt,Kt.local?me:Ee)},Qr.attrTween=function(ot,mt){var Bt=i.ns.qualify(ot);return this.tween("attr."+ot,Bt.local?function Jt(ee,Ee){var me=mt.call(this,ee,Ee,this.getAttributeNS(Bt.space,Bt.local));return me&&function(ze){this.setAttributeNS(Bt.space,Bt.local,me(ze))}}:function Kt(ee,Ee){var me=mt.call(this,ee,Ee,this.getAttribute(Bt));return me&&function(ze){this.setAttribute(Bt,me(ze))}})},Qr.style=function(ot,mt,Bt){var Kt=arguments.length;if(Kt<3){if("string"!=typeof ot){for(Bt in Kt<2&&(mt=""),ot)this.style(Bt,ot[Bt],mt);return this}Bt=""}function Jt(){this.style.removeProperty(ot)}function ee(Ee){return null==Ee?Jt:(Ee+="",function(){var ze,me=e(this).getComputedStyle(this,null).getPropertyValue(ot);return me!==Ee&&(ze=no(me,Ee),function($e){this.style.setProperty(ot,ze($e),Bt)})})}return xa(this,"style."+ot,mt,ee)},Qr.styleTween=function(ot,mt,Bt){function Kt(Jt,ee){var Ee=mt.call(this,Jt,ee,e(this).getComputedStyle(this,null).getPropertyValue(ot));return Ee&&function(me){this.style.setProperty(ot,Ee(me),Bt)}}return arguments.length<3&&(Bt=""),this.tween("style."+ot,Kt)},Qr.text=function(ot){return xa(this,"text",ot,Ma)},Qr.remove=function(){var ot=this.namespace;return this.each("end.transition",function(){var mt;this[ot].count<2&&(mt=this.parentNode)&&mt.removeChild(this)})},Qr.ease=function(ot){var mt=this.id,Bt=this.namespace;return arguments.length<1?this.node()[Bt][mt].ease:("function"!=typeof ot&&(ot=i.ease.apply(i,arguments)),kt(this,function(Kt){Kt[Bt][mt].ease=ot}))},Qr.delay=function(ot){var mt=this.id,Bt=this.namespace;return arguments.length<1?this.node()[Bt][mt].delay:kt(this,"function"==typeof ot?function(Kt,Jt,ee){Kt[Bt][mt].delay=+ot.call(Kt,Kt.__data__,Jt,ee)}:(ot=+ot,function(Kt){Kt[Bt][mt].delay=ot}))},Qr.duration=function(ot){var mt=this.id,Bt=this.namespace;return arguments.length<1?this.node()[Bt][mt].duration:kt(this,"function"==typeof ot?function(Kt,Jt,ee){Kt[Bt][mt].duration=Math.max(1,ot.call(Kt,Kt.__data__,Jt,ee))}:(ot=Math.max(1,ot),function(Kt){Kt[Bt][mt].duration=ot}))},Qr.each=function(ot,mt){var Bt=this.id,Kt=this.namespace;if(arguments.length<2){var Jt=_n,ee=kn;try{kn=Bt,kt(this,function(Ee,me,ze){_n=Ee[Kt][Bt],ot.call(Ee,Ee.__data__,me,ze)})}finally{_n=Jt,kn=ee}}else kt(this,function(Ee){var me=Ee[Kt][Bt];(me.event||(me.event=i.dispatch("start","end","interrupt"))).on(ot,mt)});return this},Qr.transition=function(){for(var Jt,Ee,me,ot=this.id,mt=++bn,Bt=this.namespace,Kt=[],ze=0,$e=this.length;ze<$e;ze++){Kt.push(Jt=[]);for(var ee,er=0,Sr=(ee=this[ze]).length;er<Sr;er++)(Ee=ee[er])&&Ra(Ee,er,Bt,mt,{time:(me=Ee[Bt][ot]).time,ease:me.ease,delay:me.delay+me.duration,duration:me.duration}),Jt.push(Ee)}return jr(Kt,Bt,mt)},i.svg.axis=function(){var me,ot=i.scale.linear(),mt=qa,Bt=6,Kt=6,Jt=3,ee=[10],Ee=null;function ze($e){$e.each(function(){var Xr,er=i.select(this),Sr=this.__chart__||ot,Ar=this.__chart__=ot.copy(),Jr=null==Ee?Ar.ticks?Ar.ticks.apply(Ar,ee):Ar.domain():Ee,tn=null==me?Ar.tickFormat?Ar.tickFormat.apply(Ar,ee):O:me,Rr=er.selectAll(".tick").data(Jr,Ar),Or=Rr.enter().insert("g",".domain").attr("class","tick").style("opacity",gt),Vr=i.transition(Rr.exit()).style("opacity",gt).remove(),nn=i.transition(Rr.order()).style("opacity",1),ln=Math.max(Bt,0)+Jt,In=Hs(Ar),qn=er.selectAll(".domain").data([0]),oa=(qn.enter().append("path").attr("class","domain"),i.transition(qn));Or.append("line"),Or.append("text");var Na,mi,ja,jn,ra=Or.select("line"),na=nn.select("line"),ma=Rr.select("text").text(tn),va=Or.select("text"),da=nn.select("text"),Sa="top"===mt||"left"===mt?-1:1;if("bottom"===mt||"top"===mt?(Xr=ea,Na="x",ja="y",mi="x2",jn="y2",ma.attr("dy",Sa<0?"0em":".71em").style("text-anchor","middle"),oa.attr("d","M"+In[0]+","+Sa*Kt+"V0H"+In[1]+"V"+Sa*Kt)):(Xr=fi,Na="y",ja="x",mi="y2",jn="x2",ma.attr("dy",".32em").style("text-anchor",Sa<0?"end":"start"),oa.attr("d","M"+Sa*Kt+","+In[0]+"H0V"+In[1]+"H"+Sa*Kt)),ra.attr(jn,Sa*Bt),va.attr(ja,Sa*ln),na.attr(mi,0).attr(jn,Sa*Bt),da.attr(Na,0).attr(ja,Sa*ln),Ar.rangeBand){var La=Ar,Ea=La.rangeBand()/2;Sr=Ar=function(Wn){return La(Wn)+Ea}}else Sr.rangeBand?Sr=Ar:Vr.call(Xr,Ar,Sr);Or.call(Xr,Sr,Ar),nn.call(Xr,Ar,Ar)})}return ze.scale=function($e){return arguments.length?(ot=$e,ze):ot},ze.orient=function($e){return arguments.length?(mt=$e in ai?$e+"":qa,ze):mt},ze.ticks=function(){return arguments.length?(ee=E(arguments),ze):ee},ze.tickValues=function($e){return arguments.length?(Ee=$e,ze):Ee},ze.tickFormat=function($e){return arguments.length?(me=$e,ze):me},ze.tickSize=function($e){var er=arguments.length;return er?(Bt=+$e,Kt=+arguments[er-1],ze):Bt},ze.innerTickSize=function($e){return arguments.length?(Bt=+$e,ze):Bt},ze.outerTickSize=function($e){return arguments.length?(Kt=+$e,ze):Kt},ze.tickPadding=function($e){return arguments.length?(Jt=+$e,ze):Jt},ze.tickSubdivide=function(){return arguments.length&&ze},ze};var qa="bottom",ai={top:1,right:1,bottom:1,left:1};function ea(ot,mt,Bt){ot.attr("transform",function(Kt){var Jt=mt(Kt);return"translate("+(isFinite(Jt)?Jt:Bt(Kt))+",0)"})}function fi(ot,mt,Bt){ot.attr("transform",function(Kt){var Jt=mt(Kt);return"translate(0,"+(isFinite(Jt)?Jt:Bt(Kt))+")"})}i.svg.brush=function(){var ee,Ee,ot=J(er,"brushstart","brush","brushend"),mt=null,Bt=null,Kt=[0,0],Jt=[0,0],me=!0,ze=!0,$e=ji[0];function er(Rr){Rr.each(function(){var Or=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",tn).on("touchstart.brush",tn),Vr=Or.selectAll(".background").data([0]);Vr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Or.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var nn=Or.selectAll(".resize").data($e,O);nn.exit().remove(),nn.enter().append("g").attr("class",function(qn){return"resize "+qn}).style("cursor",function(qn){return yi[qn]}).append("rect").attr("x",function(qn){return/[ew]$/.test(qn)?-3:null}).attr("y",function(qn){return/^[ns]/.test(qn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),nn.style("display",er.empty()?"none":null);var In,ln=i.transition(Or),Xr=i.transition(Vr);mt&&(In=Hs(mt),Xr.attr("x",In[0]).attr("width",In[1]-In[0]),Ar(ln)),Bt&&(In=Hs(Bt),Xr.attr("y",In[0]).attr("height",In[1]-In[0]),Jr(ln)),Sr(ln)})}function Sr(Rr){Rr.selectAll(".resize").attr("transform",function(Or){return"translate("+Kt[+/e$/.test(Or)]+","+Jt[+/^s/.test(Or)]+")"})}function Ar(Rr){Rr.select(".extent").attr("x",Kt[0]),Rr.selectAll(".extent,.n>rect,.s>rect").attr("width",Kt[1]-Kt[0])}function Jr(Rr){Rr.select(".extent").attr("y",Jt[0]),Rr.selectAll(".extent,.e>rect,.w>rect").attr("height",Jt[1]-Jt[0])}function tn(){var ra,ma,Rr=this,Or=i.select(i.event.target),Vr=ot.of(Rr,arguments),nn=i.select(Rr),ln=Or.datum(),Xr=!/^(n|s)$/.test(ln)&&mt,In=!/^(e|w)$/.test(ln)&&Bt,qn=Or.classed("extent"),oa=Et(Rr),na=i.mouse(Rr),va=i.select(e(Rr)).on("keydown.brush",Na).on("keyup.brush",mi);if(i.event.changedTouches?va.on("touchmove.brush",ja).on("touchend.brush",La):va.on("mousemove.brush",ja).on("mouseup.brush",La),nn.interrupt().selectAll("*").interrupt(),qn)na[0]=Kt[0]-na[0],na[1]=Jt[0]-na[1];else if(ln){var da=+/w$/.test(ln),Sa=+/^n/.test(ln);ma=[Kt[1-da]-na[0],Jt[1-Sa]-na[1]],na[0]=Kt[da],na[1]=Jt[Sa]}else i.event.altKey&&(ra=na.slice());function Na(){32==i.event.keyCode&&(qn||(ra=null,na[0]-=Kt[1],na[1]-=Jt[1],qn=2),it())}function mi(){32==i.event.keyCode&&2==qn&&(na[0]+=Kt[1],na[1]+=Jt[1],qn=0,it())}function ja(){var Ea=i.mouse(Rr),Wn=!1;ma&&(Ea[0]+=ma[0],Ea[1]+=ma[1]),qn||(i.event.altKey?(ra||(ra=[(Kt[0]+Kt[1])/2,(Jt[0]+Jt[1])/2]),na[0]=Kt[+(Ea[0]<ra[0])],na[1]=Jt[+(Ea[1]<ra[1])]):ra=null),Xr&&jn(Ea,mt,0)&&(Ar(nn),Wn=!0),In&&jn(Ea,Bt,1)&&(Jr(nn),Wn=!0),Wn&&(Sr(nn),Vr({type:"brush",mode:qn?"move":"resize"}))}function jn(Ea,Wn,ua){var Vi,ti,ii=Hs(Wn),di=ii[0],Ai=ii[1],ri=na[ua],Pi=ua?Jt:Kt,Mi=Pi[1]-Pi[0];if(qn&&(di-=ri,Ai-=Mi+ri),Vi=(ua?ze:me)?Math.max(di,Math.min(Ai,Ea[ua])):Ea[ua],qn?ti=(Vi+=ri)+Mi:(ra&&(ri=Math.max(di,Math.min(Ai,2*ra[ua]-Vi))),ri<Vi?(ti=Vi,Vi=ri):ti=ri),Pi[0]!=Vi||Pi[1]!=ti)return ua?Ee=null:ee=null,Pi[0]=Vi,Pi[1]=ti,!0}function La(){ja(),nn.style("pointer-events","all").selectAll(".resize").style("display",er.empty()?"none":null),i.select("body").style("cursor",null),va.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),oa(),Vr({type:"brushend"})}nn.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",Or.style("cursor")),Vr({type:"brushstart"}),ja()}return er.event=function(Rr){Rr.each(function(){var Or=ot.of(this,arguments),Vr={x:Kt,y:Jt,i:ee,j:Ee},nn=this.__chart__||Vr;this.__chart__=Vr,kn?i.select(this).transition().each("start.brush",function(){ee=nn.i,Ee=nn.j,Kt=nn.x,Jt=nn.y,Or({type:"brushstart"})}).tween("brush:brush",function(){var ln=wi(Kt,Vr.x),Xr=wi(Jt,Vr.y);return ee=Ee=null,function(In){Kt=Vr.x=ln(In),Jt=Vr.y=Xr(In),Or({type:"brush",mode:"resize"})}}).each("end.brush",function(){ee=Vr.i,Ee=Vr.j,Or({type:"brush",mode:"resize"}),Or({type:"brushend"})}):(Or({type:"brushstart"}),Or({type:"brush",mode:"resize"}),Or({type:"brushend"}))})},er.x=function(Rr){return arguments.length?($e=ji[!(mt=Rr)<<1|!Bt],er):mt},er.y=function(Rr){return arguments.length?($e=ji[!mt<<1|!(Bt=Rr)],er):Bt},er.clamp=function(Rr){return arguments.length?(mt&&Bt?(me=!!Rr[0],ze=!!Rr[1]):mt?me=!!Rr:Bt&&(ze=!!Rr),er):mt&&Bt?[me,ze]:mt?me:Bt?ze:null},er.extent=function(Rr){var Or,Vr,nn,ln,Xr;return arguments.length?(mt&&(Or=Rr[0],Vr=Rr[1],Bt&&(Or=Or[0],Vr=Vr[0]),ee=[Or,Vr],mt.invert&&(Or=mt(Or),Vr=mt(Vr)),Vr<Or&&(Xr=Or,Or=Vr,Vr=Xr),(Or!=Kt[0]||Vr!=Kt[1])&&(Kt=[Or,Vr])),Bt&&(nn=Rr[0],ln=Rr[1],mt&&(nn=nn[1],ln=ln[1]),Ee=[nn,ln],Bt.invert&&(nn=Bt(nn),ln=Bt(ln)),ln<nn&&(Xr=nn,nn=ln,ln=Xr),(nn!=Jt[0]||ln!=Jt[1])&&(Jt=[nn,ln])),er):(mt&&(ee?(Or=ee[0],Vr=ee[1]):(Or=Kt[0],Vr=Kt[1],mt.invert&&(Or=mt.invert(Or),Vr=mt.invert(Vr)),Vr<Or&&(Xr=Or,Or=Vr,Vr=Xr))),Bt&&(Ee?(nn=Ee[0],ln=Ee[1]):(nn=Jt[0],ln=Jt[1],Bt.invert&&(nn=Bt.invert(nn),ln=Bt.invert(ln)),ln<nn&&(Xr=nn,nn=ln,ln=Xr))),mt&&Bt?[[Or,nn],[Vr,ln]]:mt?[Or,Vr]:Bt&&[nn,ln])},er.clear=function(){return er.empty()||(Kt=[0,0],Jt=[0,0],ee=Ee=null),er},er.empty=function(){return!!mt&&Kt[0]==Kt[1]||!!Bt&&Jt[0]==Jt[1]},i.rebind(er,ot,"on")};var yi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ji=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function Mo(ot){return JSON.parse(ot.responseText)}function si(ot){var mt=l.createRange();return mt.selectNode(l.body),mt.createContextualFragment(ot.responseText)}i.text=yr(function(ot){return ot.responseText}),i.json=function(ot,mt){return Fr(ot,"application/json",Mo,mt)},i.html=function(ot,mt){return Fr(ot,"text/html",si,mt)},i.xml=yr(function(ot){return ot.responseXML}),void 0!==(g="function"==typeof(A=i)?A.call(W,t,W,tt):A)&&(tt.exports=g)}).apply(self)},88294:function(tt,W,t){"use strict";tt.exports=t(62849)},62849:function(tt,W,t){"use strict";var A=t(91358),g=t(53435),i=t(18863),P=t(21527),E=t(71299),l=t(46775),x=t(30120),e=t(64941),r=t(90660),f=t(27084);function s(c,u){for(var y=u[0],v=u[1],o=1/(u[2]-y),h=1/(u[3]-v),M=new Array(c.length),T=0,L=c.length/2;T<L;T++)M[2*T]=g((c[2*T]-y)*o,0,1),M[2*T+1]=g((c[2*T+1]-v)*h,0,1);return M}tt.exports=function(u,y){y||(y={}),u=x(u,"float64"),y=E(y,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var v=l(y.maxDepth,255),w=l(y.bounds,P(u,2));w[0]===w[2]&&w[2]++,w[1]===w[3]&&w[3]++;var h,d=s(u,w),o=u.length>>>1;y.dtype||(y.dtype="array"),"string"==typeof y.dtype?h=new(r(y.dtype))(o):y.dtype&&(h=y.dtype,Array.isArray(h)&&(h.length=o));for(var M=0;M<o;++M)h[M]=M;var T=[],L=[],m=[],S=[];!function N(z,U,G,Q,rt,it){if(!Q.length)return null;var ut=T[rt]||(T[rt]=[]),J=m[rt]||(m[rt]=[]),j=L[rt]||(L[rt]=[]),Z=ut.length;if(++rt>v||it>1073741824){for(var H=0;H<Q.length;H++)ut.push(Q[H]),J.push(it),j.push(null,null,null,null);return Z}if(ut.push(Q[0]),J.push(it),Q.length<=1)return j.push(null,null,null,null),Z;for(var X=.5*G,at=z+X,_=U+X,K=[],nt=[],et=[],st=[],dt=1,Tt=Q.length;dt<Tt;dt++){var bt=Q[dt],Ft=d[2*bt+1];d[2*bt]<at?Ft<_?K.push(bt):nt.push(bt):Ft<_?et.push(bt):st.push(bt)}return j.push(N(z,U,X,K,rt,it<<=2),N(z,_,X,nt,rt,it+1),N(at,U,X,et,rt,it+2),N(at,_,X,st,rt,it+3)),Z}(0,0,1,h,0,1);for(var b=0,n=0;n<T.length;n++){var C=T[n];if(h.set)h.set(C,b);else for(var p=0,F=C.length;p<F;p++)h[p+b]=C[p];var D=b+T[n].length;S[n]=[b,D],b=D}return h.range=function k(){for(var z=[],U=arguments.length;U--;)z[U]=arguments[U];var G;if(e(z[z.length-1])){var Q=z.pop();!z.length&&(null!=Q.x||null!=Q.l||null!=Q.left)&&(z=[Q],G={}),G=E(Q,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else G={};z.length||(z=w);var et,rt=i.apply(void 0,z),it=[Math.min(rt.x,rt.x+rt.width),Math.min(rt.y,rt.y+rt.height),Math.max(rt.x,rt.x+rt.width),Math.max(rt.y,rt.y+rt.height)],ut=it[0],J=it[1],j=it[2],Z=it[3],H=s([ut,J,j,Z],w),X=H[0],at=H[1],_=H[2],K=H[3],nt=l(G.level,T.length);if(null!=G.d&&("number"==typeof G.d?et=[G.d,G.d]:G.d.length&&(et=G.d),nt=Math.min(Math.max(Math.ceil(-f(Math.abs(et[0])/(w[2]-w[0]))),Math.ceil(-f(Math.abs(et[1])/(w[3]-w[1])))),nt)),nt=Math.min(nt,T.length),G.lod)return O(X,at,_,K,nt);var st=[];function dt(bt,Dt,Ft,Mt,wt,St){if(null!==wt&&null!==St&&!(X>bt+Ft||at>Dt+Ft||_<bt||K<Dt||Mt>=nt||wt===St)){var Pt=T[Mt];void 0===St&&(St=Pt.length);for(var Vt=wt;Vt<St;Vt++){var te=Pt[Vt],_t=u[2*te],kt=u[2*te+1];_t>=ut&&_t<=j&&kt>=J&&kt<=Z&&st.push(te)}var zt=L[Mt],qt=zt[4*wt+0],ae=zt[4*wt+1],oe=zt[4*wt+2],pe=zt[4*wt+3],ye=Tt(zt,wt+1),Fe=.5*Ft,Zt=Mt+1;dt(bt,Dt,Fe,Zt,qt,ae||oe||pe||ye),dt(bt,Dt+Fe,Fe,Zt,ae,oe||pe||ye),dt(bt+Fe,Dt,Fe,Zt,oe,pe||ye),dt(bt+Fe,Dt+Fe,Fe,Zt,pe,ye)}}function Tt(bt,Dt){for(var Ft=null,Mt=0;null===Ft;)if(Ft=bt[4*Dt+Mt],++Mt>bt.length)return null;return Ft}return dt(0,0,1,0,0,1),st},h;function O(z,U,G,Q,rt){for(var it=[],ut=0;ut<rt;ut++){var J=m[ut],j=S[ut][0],Z=B(z,U,ut),H=B(G,Q,ut),X=A.ge(J,Z),at=A.gt(J,H,X,J.length-1);it[ut]=[X+j,at+j]}return it}function B(z,U,G){for(var Q=1,rt=.5,it=.5,ut=.5,J=0;J<G;J++)Q<<=2,Q+=z<rt?U<it?0:1:U<it?2:3,ut*=.5,rt+=z<rt?-ut:ut,it+=U<it?-ut:ut;return Q}}},30774:function(tt,W,t){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var A=t(60302),g=6378137;function E(e){var r=0;if(e&&e.length>0){r+=Math.abs(l(e[0]));for(var f=1;f<e.length;f++)r-=Math.abs(l(e[f]))}return r}function l(e){var r,f,s,c,u,y,v=0,w=e.length;if(w>2){for(y=0;y<w;y++)y===w-2?(s=w-2,c=w-1,u=0):y===w-1?(s=w-1,c=0,u=1):(s=y,c=y+1,u=y+2),r=e[s],f=e[c],v+=(x(e[u][0])-x(r[0]))*Math.sin(x(f[1]));v=v*g*g/2}return v}function x(e){return e*Math.PI/180}W.default=function i(e){return A.geomReduce(e,function(r,f){return r+function P(e){var f,r=0;switch(e.type){case"Polygon":return E(e.coordinates);case"MultiPolygon":for(f=0;f<e.coordinates.length;f++)r+=E(e.coordinates[f]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(f)},0)}},23132:function(tt,W){"use strict";function t(b,n,C){void 0===C&&(C={});var p={type:"Feature"};return(0===C.id||C.id)&&(p.id=C.id),C.bbox&&(p.bbox=C.bbox),p.properties=n||{},p.geometry=b,p}function g(b,n,C){if(void 0===C&&(C={}),!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(b.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!T(b[0])||!T(b[1]))throw new Error("coordinates must contain numbers");return t({type:"Point",coordinates:b},n,C)}function P(b,n,C){void 0===C&&(C={});for(var p=0,F=b;p<F.length;p++){var D=F[p];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<D[D.length-1].length;N++)if(D[D.length-1][N]!==D[0][N])throw new Error("First and last Position are not equivalent.")}return t({type:"Polygon",coordinates:b},n,C)}function l(b,n,C){if(void 0===C&&(C={}),b.length<2)throw new Error("coordinates must be an array of two or more positions");return t({type:"LineString",coordinates:b},n,C)}function e(b,n){void 0===n&&(n={});var C={type:"FeatureCollection"};return n.id&&(C.id=n.id),n.bbox&&(C.bbox=n.bbox),C.features=b,C}function r(b,n,C){return void 0===C&&(C={}),t({type:"MultiLineString",coordinates:b},n,C)}function f(b,n,C){return void 0===C&&(C={}),t({type:"MultiPoint",coordinates:b},n,C)}function a(b,n,C){return void 0===C&&(C={}),t({type:"MultiPolygon",coordinates:b},n,C)}function u(b,n){void 0===n&&(n="kilometers");var C=W.factors[n];if(!C)throw new Error(n+" units is invalid");return b*C}function y(b,n){void 0===n&&(n="kilometers");var C=W.factors[n];if(!C)throw new Error(n+" units is invalid");return b/C}function d(b){return b%(2*Math.PI)*180/Math.PI}function T(b){return!isNaN(b)&&null!==b&&!Array.isArray(b)}Object.defineProperty(W,"__esModule",{value:!0}),W.earthRadius=6371008.8,W.factors={centimeters:100*W.earthRadius,centimetres:100*W.earthRadius,degrees:W.earthRadius/111325,feet:3.28084*W.earthRadius,inches:39.37*W.earthRadius,kilometers:W.earthRadius/1e3,kilometres:W.earthRadius/1e3,meters:W.earthRadius,metres:W.earthRadius,miles:W.earthRadius/1609.344,millimeters:1e3*W.earthRadius,millimetres:1e3*W.earthRadius,nauticalmiles:W.earthRadius/1852,radians:1,yards:1.0936*W.earthRadius},W.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/W.earthRadius,yards:1.0936133},W.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},W.feature=t,W.geometry=function A(b,n,C){switch(void 0===C&&(C={}),b){case"Point":return g(n).geometry;case"LineString":return l(n).geometry;case"Polygon":return P(n).geometry;case"MultiPoint":return f(n).geometry;case"MultiLineString":return r(n).geometry;case"MultiPolygon":return a(n).geometry;default:throw new Error(b+" is invalid")}},W.point=g,W.points=function i(b,n,C){return void 0===C&&(C={}),e(b.map(function(p){return g(p,n)}),C)},W.polygon=P,W.polygons=function E(b,n,C){return void 0===C&&(C={}),e(b.map(function(p){return P(p,n)}),C)},W.lineString=l,W.lineStrings=function x(b,n,C){return void 0===C&&(C={}),e(b.map(function(p){return l(p,n)}),C)},W.featureCollection=e,W.multiLineString=r,W.multiPoint=f,W.multiPolygon=a,W.geometryCollection=function s(b,n,C){return void 0===C&&(C={}),t({type:"GeometryCollection",geometries:b},n,C)},W.round=function c(b,n){if(void 0===n&&(n=0),n&&!(n>=0))throw new Error("precision must be a positive number");var C=Math.pow(10,n||0);return Math.round(b*C)/C},W.radiansToLength=u,W.lengthToRadians=y,W.lengthToDegrees=function v(b,n){return d(y(b,n))},W.bearingToAzimuth=function w(b){var n=b%360;return n<0&&(n+=360),n},W.radiansToDegrees=d,W.degreesToRadians=function o(b){return b%360*Math.PI/180},W.convertLength=function h(b,n,C){if(void 0===n&&(n="kilometers"),void 0===C&&(C="kilometers"),!(b>=0))throw new Error("length must be a positive number");return u(y(b,n),C)},W.convertArea=function M(b,n,C){if(void 0===n&&(n="meters"),void 0===C&&(C="kilometers"),!(b>=0))throw new Error("area must be a positive number");var p=W.areaFactors[n];if(!p)throw new Error("invalid original units");var F=W.areaFactors[C];if(!F)throw new Error("invalid final units");return b/p*F},W.isNumber=T,W.isObject=function L(b){return!!b&&b.constructor===Object},W.validateBBox=function m(b){if(!b)throw new Error("bbox is required");if(!Array.isArray(b))throw new Error("bbox must be an Array");if(4!==b.length&&6!==b.length)throw new Error("bbox must be an Array of 4 or 6 numbers");b.forEach(function(n){if(!T(n))throw new Error("bbox must only contain numbers")})},W.validateId=function S(b){if(!b)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof b))throw new Error("id must be a number or a string")}},60302:function(tt,W,t){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var A=t(23132);function g(o,h,M){if(null!==o)for(var T,L,m,S,b,n,C,D,p=0,F=0,N=o.type,k="FeatureCollection"===N,O="Feature"===N,B=k?o.features.length:1,z=0;z<B;z++){b=(D=!!(C=k?o.features[z].geometry:O?o.geometry:o)&&"GeometryCollection"===C.type)?C.geometries.length:1;for(var U=0;U<b;U++){var G=0,Q=0;if(null!==(S=D?C.geometries[U]:C)){n=S.coordinates;var rt=S.type;switch(p=!M||"Polygon"!==rt&&"MultiPolygon"!==rt?0:1,rt){case null:break;case"Point":if(!1===h(n,F,z,G,Q))return!1;F++,G++;break;case"LineString":case"MultiPoint":for(T=0;T<n.length;T++){if(!1===h(n[T],F,z,G,Q))return!1;F++,"MultiPoint"===rt&&G++}"LineString"===rt&&G++;break;case"Polygon":case"MultiLineString":for(T=0;T<n.length;T++){for(L=0;L<n[T].length-p;L++){if(!1===h(n[T][L],F,z,G,Q))return!1;F++}"MultiLineString"===rt&&G++,"Polygon"===rt&&Q++}"Polygon"===rt&&G++;break;case"MultiPolygon":for(T=0;T<n.length;T++){for(Q=0,L=0;L<n[T].length;L++){for(m=0;m<n[T][L].length-p;m++){if(!1===h(n[T][L][m],F,z,G,Q))return!1;F++}Q++}G++}break;case"GeometryCollection":for(T=0;T<S.geometries.length;T++)if(!1===g(S.geometries[T],h,M))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function P(o,h){var M;switch(o.type){case"FeatureCollection":for(M=0;M<o.features.length&&!1!==h(o.features[M].properties,M);M++);break;case"Feature":h(o.properties,0)}}function l(o,h){if("Feature"===o.type)h(o,0);else if("FeatureCollection"===o.type)for(var M=0;M<o.features.length&&!1!==h(o.features[M],M);M++);}function r(o,h){var M,T,L,m,S,b,n,C,p,F,D=0,N="FeatureCollection"===o.type,k="Feature"===o.type,O=N?o.features.length:1;for(M=0;M<O;M++){for(C=N?o.features[M].properties:k?o.properties:{},p=N?o.features[M].bbox:k?o.bbox:void 0,F=N?o.features[M].id:k?o.id:void 0,S=(n=!!(b=N?o.features[M].geometry:k?o.geometry:o)&&"GeometryCollection"===b.type)?b.geometries.length:1,L=0;L<S;L++)if(null!==(m=n?b.geometries[L]:b))switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===h(m,D,C,p,F))return!1;break;case"GeometryCollection":for(T=0;T<m.geometries.length;T++)if(!1===h(m.geometries[T],D,C,p,F))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===h(null,D,C,p,F))return!1;D++}}function a(o,h){r(o,function(M,T,L,m,S){var n,b=null===M?null:M.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return!1!==h(A.feature(M,L,{bbox:m,id:S}),T,0)&&void 0}switch(b){case"MultiPoint":n="Point";break;case"MultiLineString":n="LineString";break;case"MultiPolygon":n="Polygon"}for(var C=0;C<M.coordinates.length;C++)if(!1===h(A.feature({type:n,coordinates:M.coordinates[C]},L),T,C))return!1})}function c(o,h){a(o,function(M,T,L){var m=0;if(M.geometry){var S=M.geometry.type;if("Point"!==S&&"MultiPoint"!==S){var b,n=0,C=0,p=0;if(!1===g(M,function(F,D,N,k,O){if(void 0===b||T>n||k>C||O>p)return b=F,n=T,C=k,p=O,void(m=0);var B=A.lineString([b,F],M.properties);if(!1===h(B,T,L,O,m))return!1;m++,b=F}))return!1}}})}function y(o,h){if(!o)throw new Error("geojson is required");a(o,function(M,T,L){if(null!==M.geometry){var S=M.geometry.coordinates;switch(M.geometry.type){case"LineString":if(!1===h(M,T,L,0,0))return!1;break;case"Polygon":for(var b=0;b<S.length;b++)if(!1===h(A.lineString(S[b],M.properties),T,L,b))return!1}}})}W.coordEach=g,W.coordReduce=function i(o,h,M,T){var L=M;return g(o,function(m,S,b,n,C){L=0===S&&void 0===M?m:h(L,m,S,b,n,C)},T),L},W.propEach=P,W.propReduce=function E(o,h,M){var T=M;return P(o,function(L,m){T=0===m&&void 0===M?L:h(T,L,m)}),T},W.featureEach=l,W.featureReduce=function x(o,h,M){var T=M;return l(o,function(L,m){T=0===m&&void 0===M?L:h(T,L,m)}),T},W.coordAll=function e(o){var h=[];return g(o,function(M){h.push(M)}),h},W.geomEach=r,W.geomReduce=function f(o,h,M){var T=M;return r(o,function(L,m,S,b,n){T=0===m&&void 0===M?L:h(T,L,m,S,b,n)}),T},W.flattenEach=a,W.flattenReduce=function s(o,h,M){var T=M;return a(o,function(L,m,S){T=0===m&&0===S&&void 0===M?L:h(T,L,m,S)}),T},W.segmentEach=c,W.segmentReduce=function u(o,h,M){var T=M,L=!1;return c(o,function(m,S,b,n,C){T=!1===L&&void 0===M?m:h(T,m,S,b,n,C),L=!0}),T},W.lineEach=y,W.lineReduce=function v(o,h,M){var T=M;return y(o,function(L,m,S,b){T=0===m&&void 0===M?L:h(T,L,m,S,b)}),T},W.findSegment=function w(o,h){if(!A.isObject(h=h||{}))throw new Error("options is invalid");var b,M=h.featureIndex||0,T=h.multiFeatureIndex||0,L=h.geometryIndex||0,m=h.segmentIndex||0,S=h.properties;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(null===b)return null;var n=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=n.length+m-1),A.lineString([n[m],n[m+1]],S,h);case"Polygon":return L<0&&(L=n.length+L),m<0&&(m=n[L].length+m-1),A.lineString([n[L][m],n[L][m+1]],S,h);case"MultiLineString":return T<0&&(T=n.length+T),m<0&&(m=n[T].length+m-1),A.lineString([n[T][m],n[T][m+1]],S,h);case"MultiPolygon":return T<0&&(T=n.length+T),L<0&&(L=n[T].length+L),m<0&&(m=n[T][L].length-m-1),A.lineString([n[T][L][m],n[T][L][m+1]],S,h)}throw new Error("geojson is invalid")},W.findPoint=function d(o,h){if(!A.isObject(h=h||{}))throw new Error("options is invalid");var b,M=h.featureIndex||0,T=h.multiFeatureIndex||0,L=h.geometryIndex||0,m=h.coordIndex||0,S=h.properties;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(null===b)return null;var n=b.coordinates;switch(b.type){case"Point":return A.point(n,S,h);case"MultiPoint":return T<0&&(T=n.length+T),A.point(n[T],S,h);case"LineString":return m<0&&(m=n.length+m),A.point(n[m],S,h);case"Polygon":return L<0&&(L=n.length+L),m<0&&(m=n[L].length+m),A.point(n[L][m],S,h);case"MultiLineString":return T<0&&(T=n.length+T),m<0&&(m=n[T].length+m),A.point(n[T][m],S,h);case"MultiPolygon":return T<0&&(T=n.length+T),L<0&&(L=n[T].length+L),m<0&&(m=n[T][L].length-m),A.point(n[T][L][m],S,h)}throw new Error("geojson is invalid")}},85268:function(tt,W,t){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var A=t(27138);function g(i){var P=[1/0,1/0,-1/0,-1/0];return A.coordEach(i,function(E){P[0]>E[0]&&(P[0]=E[0]),P[1]>E[1]&&(P[1]=E[1]),P[2]<E[0]&&(P[2]=E[0]),P[3]<E[1]&&(P[3]=E[1])}),P}g.default=g,W.default=g},94228:function(tt,W){"use strict";function t(b,n,C){void 0===C&&(C={});var p={type:"Feature"};return(0===C.id||C.id)&&(p.id=C.id),C.bbox&&(p.bbox=C.bbox),p.properties=n||{},p.geometry=b,p}function g(b,n,C){if(void 0===C&&(C={}),!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(b.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!T(b[0])||!T(b[1]))throw new Error("coordinates must contain numbers");return t({type:"Point",coordinates:b},n,C)}function P(b,n,C){void 0===C&&(C={});for(var p=0,F=b;p<F.length;p++){var D=F[p];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<D[D.length-1].length;N++)if(D[D.length-1][N]!==D[0][N])throw new Error("First and last Position are not equivalent.")}return t({type:"Polygon",coordinates:b},n,C)}function l(b,n,C){if(void 0===C&&(C={}),b.length<2)throw new Error("coordinates must be an array of two or more positions");return t({type:"LineString",coordinates:b},n,C)}function e(b,n){void 0===n&&(n={});var C={type:"FeatureCollection"};return n.id&&(C.id=n.id),n.bbox&&(C.bbox=n.bbox),C.features=b,C}function r(b,n,C){return void 0===C&&(C={}),t({type:"MultiLineString",coordinates:b},n,C)}function f(b,n,C){return void 0===C&&(C={}),t({type:"MultiPoint",coordinates:b},n,C)}function a(b,n,C){return void 0===C&&(C={}),t({type:"MultiPolygon",coordinates:b},n,C)}function u(b,n){void 0===n&&(n="kilometers");var C=W.factors[n];if(!C)throw new Error(n+" units is invalid");return b*C}function y(b,n){void 0===n&&(n="kilometers");var C=W.factors[n];if(!C)throw new Error(n+" units is invalid");return b/C}function d(b){return b%(2*Math.PI)*180/Math.PI}function T(b){return!isNaN(b)&&null!==b&&!Array.isArray(b)}Object.defineProperty(W,"__esModule",{value:!0}),W.earthRadius=6371008.8,W.factors={centimeters:100*W.earthRadius,centimetres:100*W.earthRadius,degrees:W.earthRadius/111325,feet:3.28084*W.earthRadius,inches:39.37*W.earthRadius,kilometers:W.earthRadius/1e3,kilometres:W.earthRadius/1e3,meters:W.earthRadius,metres:W.earthRadius,miles:W.earthRadius/1609.344,millimeters:1e3*W.earthRadius,millimetres:1e3*W.earthRadius,nauticalmiles:W.earthRadius/1852,radians:1,yards:1.0936*W.earthRadius},W.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/W.earthRadius,yards:1.0936133},W.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},W.feature=t,W.geometry=function A(b,n,C){switch(void 0===C&&(C={}),b){case"Point":return g(n).geometry;case"LineString":return l(n).geometry;case"Polygon":return P(n).geometry;case"MultiPoint":return f(n).geometry;case"MultiLineString":return r(n).geometry;case"MultiPolygon":return a(n).geometry;default:throw new Error(b+" is invalid")}},W.point=g,W.points=function i(b,n,C){return void 0===C&&(C={}),e(b.map(function(p){return g(p,n)}),C)},W.polygon=P,W.polygons=function E(b,n,C){return void 0===C&&(C={}),e(b.map(function(p){return P(p,n)}),C)},W.lineString=l,W.lineStrings=function x(b,n,C){return void 0===C&&(C={}),e(b.map(function(p){return l(p,n)}),C)},W.featureCollection=e,W.multiLineString=r,W.multiPoint=f,W.multiPolygon=a,W.geometryCollection=function s(b,n,C){return void 0===C&&(C={}),t({type:"GeometryCollection",geometries:b},n,C)},W.round=function c(b,n){if(void 0===n&&(n=0),n&&!(n>=0))throw new Error("precision must be a positive number");var C=Math.pow(10,n||0);return Math.round(b*C)/C},W.radiansToLength=u,W.lengthToRadians=y,W.lengthToDegrees=function v(b,n){return d(y(b,n))},W.bearingToAzimuth=function w(b){var n=b%360;return n<0&&(n+=360),n},W.radiansToDegrees=d,W.degreesToRadians=function o(b){return b%360*Math.PI/180},W.convertLength=function h(b,n,C){if(void 0===n&&(n="kilometers"),void 0===C&&(C="kilometers"),!(b>=0))throw new Error("length must be a positive number");return u(y(b,n),C)},W.convertArea=function M(b,n,C){if(void 0===n&&(n="meters"),void 0===C&&(C="kilometers"),!(b>=0))throw new Error("area must be a positive number");var p=W.areaFactors[n];if(!p)throw new Error("invalid original units");var F=W.areaFactors[C];if(!F)throw new Error("invalid final units");return b/p*F},W.isNumber=T,W.isObject=function L(b){return!!b&&b.constructor===Object},W.validateBBox=function m(b){if(!b)throw new Error("bbox is required");if(!Array.isArray(b))throw new Error("bbox must be an Array");if(4!==b.length&&6!==b.length)throw new Error("bbox must be an Array of 4 or 6 numbers");b.forEach(function(n){if(!T(n))throw new Error("bbox must only contain numbers")})},W.validateId=function S(b){if(!b)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof b))throw new Error("id must be a number or a string")}},27138:function(tt,W,t){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var A=t(94228);function g(o,h,M){if(null!==o)for(var T,L,m,S,b,n,C,D,p=0,F=0,N=o.type,k="FeatureCollection"===N,O="Feature"===N,B=k?o.features.length:1,z=0;z<B;z++){b=(D=!!(C=k?o.features[z].geometry:O?o.geometry:o)&&"GeometryCollection"===C.type)?C.geometries.length:1;for(var U=0;U<b;U++){var G=0,Q=0;if(null!==(S=D?C.geometries[U]:C)){n=S.coordinates;var rt=S.type;switch(p=!M||"Polygon"!==rt&&"MultiPolygon"!==rt?0:1,rt){case null:break;case"Point":if(!1===h(n,F,z,G,Q))return!1;F++,G++;break;case"LineString":case"MultiPoint":for(T=0;T<n.length;T++){if(!1===h(n[T],F,z,G,Q))return!1;F++,"MultiPoint"===rt&&G++}"LineString"===rt&&G++;break;case"Polygon":case"MultiLineString":for(T=0;T<n.length;T++){for(L=0;L<n[T].length-p;L++){if(!1===h(n[T][L],F,z,G,Q))return!1;F++}"MultiLineString"===rt&&G++,"Polygon"===rt&&Q++}"Polygon"===rt&&G++;break;case"MultiPolygon":for(T=0;T<n.length;T++){for(Q=0,L=0;L<n[T].length;L++){for(m=0;m<n[T][L].length-p;m++){if(!1===h(n[T][L][m],F,z,G,Q))return!1;F++}Q++}G++}break;case"GeometryCollection":for(T=0;T<S.geometries.length;T++)if(!1===g(S.geometries[T],h,M))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function P(o,h){var M;switch(o.type){case"FeatureCollection":for(M=0;M<o.features.length&&!1!==h(o.features[M].properties,M);M++);break;case"Feature":h(o.properties,0)}}function l(o,h){if("Feature"===o.type)h(o,0);else if("FeatureCollection"===o.type)for(var M=0;M<o.features.length&&!1!==h(o.features[M],M);M++);}function r(o,h){var M,T,L,m,S,b,n,C,p,F,D=0,N="FeatureCollection"===o.type,k="Feature"===o.type,O=N?o.features.length:1;for(M=0;M<O;M++){for(C=N?o.features[M].properties:k?o.properties:{},p=N?o.features[M].bbox:k?o.bbox:void 0,F=N?o.features[M].id:k?o.id:void 0,S=(n=!!(b=N?o.features[M].geometry:k?o.geometry:o)&&"GeometryCollection"===b.type)?b.geometries.length:1,L=0;L<S;L++)if(null!==(m=n?b.geometries[L]:b))switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===h(m,D,C,p,F))return!1;break;case"GeometryCollection":for(T=0;T<m.geometries.length;T++)if(!1===h(m.geometries[T],D,C,p,F))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===h(null,D,C,p,F))return!1;D++}}function a(o,h){r(o,function(M,T,L,m,S){var n,b=null===M?null:M.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return!1!==h(A.feature(M,L,{bbox:m,id:S}),T,0)&&void 0}switch(b){case"MultiPoint":n="Point";break;case"MultiLineString":n="LineString";break;case"MultiPolygon":n="Polygon"}for(var C=0;C<M.coordinates.length;C++)if(!1===h(A.feature({type:n,coordinates:M.coordinates[C]},L),T,C))return!1})}function c(o,h){a(o,function(M,T,L){var m=0;if(M.geometry){var S=M.geometry.type;if("Point"!==S&&"MultiPoint"!==S){var b,n=0,C=0,p=0;if(!1===g(M,function(F,D,N,k,O){if(void 0===b||T>n||k>C||O>p)return b=F,n=T,C=k,p=O,void(m=0);var B=A.lineString([b,F],M.properties);if(!1===h(B,T,L,O,m))return!1;m++,b=F}))return!1}}})}function y(o,h){if(!o)throw new Error("geojson is required");a(o,function(M,T,L){if(null!==M.geometry){var S=M.geometry.coordinates;switch(M.geometry.type){case"LineString":if(!1===h(M,T,L,0,0))return!1;break;case"Polygon":for(var b=0;b<S.length;b++)if(!1===h(A.lineString(S[b],M.properties),T,L,b))return!1}}})}W.coordEach=g,W.coordReduce=function i(o,h,M,T){var L=M;return g(o,function(m,S,b,n,C){L=0===S&&void 0===M?m:h(L,m,S,b,n,C)},T),L},W.propEach=P,W.propReduce=function E(o,h,M){var T=M;return P(o,function(L,m){T=0===m&&void 0===M?L:h(T,L,m)}),T},W.featureEach=l,W.featureReduce=function x(o,h,M){var T=M;return l(o,function(L,m){T=0===m&&void 0===M?L:h(T,L,m)}),T},W.coordAll=function e(o){var h=[];return g(o,function(M){h.push(M)}),h},W.geomEach=r,W.geomReduce=function f(o,h,M){var T=M;return r(o,function(L,m,S,b,n){T=0===m&&void 0===M?L:h(T,L,m,S,b,n)}),T},W.flattenEach=a,W.flattenReduce=function s(o,h,M){var T=M;return a(o,function(L,m,S){T=0===m&&0===S&&void 0===M?L:h(T,L,m,S)}),T},W.segmentEach=c,W.segmentReduce=function u(o,h,M){var T=M,L=!1;return c(o,function(m,S,b,n,C){T=!1===L&&void 0===M?m:h(T,m,S,b,n,C),L=!0}),T},W.lineEach=y,W.lineReduce=function v(o,h,M){var T=M;return y(o,function(L,m,S,b){T=0===m&&void 0===M?L:h(T,L,m,S,b)}),T},W.findSegment=function w(o,h){if(!A.isObject(h=h||{}))throw new Error("options is invalid");var b,M=h.featureIndex||0,T=h.multiFeatureIndex||0,L=h.geometryIndex||0,m=h.segmentIndex||0,S=h.properties;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(null===b)return null;var n=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=n.length+m-1),A.lineString([n[m],n[m+1]],S,h);case"Polygon":return L<0&&(L=n.length+L),m<0&&(m=n[L].length+m-1),A.lineString([n[L][m],n[L][m+1]],S,h);case"MultiLineString":return T<0&&(T=n.length+T),m<0&&(m=n[T].length+m-1),A.lineString([n[T][m],n[T][m+1]],S,h);case"MultiPolygon":return T<0&&(T=n.length+T),L<0&&(L=n[T].length+L),m<0&&(m=n[T][L].length-m-1),A.lineString([n[T][L][m],n[T][L][m+1]],S,h)}throw new Error("geojson is invalid")},W.findPoint=function d(o,h){if(!A.isObject(h=h||{}))throw new Error("options is invalid");var b,M=h.featureIndex||0,T=h.multiFeatureIndex||0,L=h.geometryIndex||0,m=h.coordIndex||0,S=h.properties;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(null===b)return null;var n=b.coordinates;switch(b.type){case"Point":return A.point(n,S,h);case"MultiPoint":return T<0&&(T=n.length+T),A.point(n[T],S,h);case"LineString":return m<0&&(m=n.length+m),A.point(n[m],S,h);case"Polygon":return L<0&&(L=n.length+L),m<0&&(m=n[L].length+m),A.point(n[L][m],S,h);case"MultiLineString":return T<0&&(T=n.length+T),m<0&&(m=n[T].length+m),A.point(n[T][m],S,h);case"MultiPolygon":return T<0&&(T=n.length+T),L<0&&(L=n[T].length+L),m<0&&(m=n[T][L].length-m),A.point(n[T][L][m],S,h)}throw new Error("geojson is invalid")}},29261:function(tt,W,t){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var A=t(88553),g=t(64182);W.default=function i(P,E){void 0===E&&(E={});var l=0,x=0,e=0;return A.coordEach(P,function(r){l+=r[0],x+=r[1],e++}),g.point([l/e,x/e],E.properties)}},64182:function(tt,W){"use strict";function t(k,O,B){void 0===B&&(B={});var z={type:"Feature"};return(0===B.id||B.id)&&(z.id=B.id),B.bbox&&(z.bbox=B.bbox),z.properties=O||{},z.geometry=k,z}function g(k,O,B){return void 0===B&&(B={}),t({type:"Point",coordinates:k},O,B)}function P(k,O,B){void 0===B&&(B={});for(var z=0,U=k;z<U.length;z++){var G=U[z];if(G.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Q=0;Q<G[G.length-1].length;Q++)if(G[G.length-1][Q]!==G[0][Q])throw new Error("First and last Position are not equivalent.")}return t({type:"Polygon",coordinates:k},O,B)}function l(k,O,B){if(void 0===B&&(B={}),k.length<2)throw new Error("coordinates must be an array of two or more positions");return t({type:"LineString",coordinates:k},O,B)}function e(k,O){void 0===O&&(O={});var B={type:"FeatureCollection"};return O.id&&(B.id=O.id),O.bbox&&(B.bbox=O.bbox),B.features=k,B}function r(k,O,B){return void 0===B&&(B={}),t({type:"MultiLineString",coordinates:k},O,B)}function f(k,O,B){return void 0===B&&(B={}),t({type:"MultiPoint",coordinates:k},O,B)}function a(k,O,B){return void 0===B&&(B={}),t({type:"MultiPolygon",coordinates:k},O,B)}function u(k,O){void 0===O&&(O="kilometers");var B=W.factors[O];if(!B)throw new Error(O+" units is invalid");return k*B}function y(k,O){void 0===O&&(O="kilometers");var B=W.factors[O];if(!B)throw new Error(O+" units is invalid");return k/B}function d(k){return k%(2*Math.PI)*180/Math.PI}function T(k){return!isNaN(k)&&null!==k&&!Array.isArray(k)&&!/^\s*$/.test(k)}Object.defineProperty(W,"__esModule",{value:!0}),W.earthRadius=6371008.8,W.factors={centimeters:100*W.earthRadius,centimetres:100*W.earthRadius,degrees:W.earthRadius/111325,feet:3.28084*W.earthRadius,inches:39.37*W.earthRadius,kilometers:W.earthRadius/1e3,kilometres:W.earthRadius/1e3,meters:W.earthRadius,metres:W.earthRadius,miles:W.earthRadius/1609.344,millimeters:1e3*W.earthRadius,millimetres:1e3*W.earthRadius,nauticalmiles:W.earthRadius/1852,radians:1,yards:W.earthRadius/1.0936},W.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/W.earthRadius,yards:.91441111923921},W.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},W.feature=t,W.geometry=function A(k,O,B){switch(void 0===B&&(B={}),k){case"Point":return g(O).geometry;case"LineString":return l(O).geometry;case"Polygon":return P(O).geometry;case"MultiPoint":return f(O).geometry;case"MultiLineString":return r(O).geometry;case"MultiPolygon":return a(O).geometry;default:throw new Error(k+" is invalid")}},W.point=g,W.points=function i(k,O,B){return void 0===B&&(B={}),e(k.map(function(z){return g(z,O)}),B)},W.polygon=P,W.polygons=function E(k,O,B){return void 0===B&&(B={}),e(k.map(function(z){return P(z,O)}),B)},W.lineString=l,W.lineStrings=function x(k,O,B){return void 0===B&&(B={}),e(k.map(function(z){return l(z,O)}),B)},W.featureCollection=e,W.multiLineString=r,W.multiPoint=f,W.multiPolygon=a,W.geometryCollection=function s(k,O,B){return void 0===B&&(B={}),t({type:"GeometryCollection",geometries:k},O,B)},W.round=function c(k,O){if(void 0===O&&(O=0),O&&!(O>=0))throw new Error("precision must be a positive number");var B=Math.pow(10,O||0);return Math.round(k*B)/B},W.radiansToLength=u,W.lengthToRadians=y,W.lengthToDegrees=function v(k,O){return d(y(k,O))},W.bearingToAzimuth=function w(k){var O=k%360;return O<0&&(O+=360),O},W.radiansToDegrees=d,W.degreesToRadians=function o(k){return k%360*Math.PI/180},W.convertLength=function h(k,O,B){if(void 0===O&&(O="kilometers"),void 0===B&&(B="kilometers"),!(k>=0))throw new Error("length must be a positive number");return u(y(k,O),B)},W.convertArea=function M(k,O,B){if(void 0===O&&(O="meters"),void 0===B&&(B="kilometers"),!(k>=0))throw new Error("area must be a positive number");var z=W.areaFactors[O];if(!z)throw new Error("invalid original units");var U=W.areaFactors[B];if(!U)throw new Error("invalid final units");return k/z*U},W.isNumber=T,W.isObject=function L(k){return!!k&&k.constructor===Object},W.validateBBox=function m(k){if(!k)throw new Error("bbox is required");if(!Array.isArray(k))throw new Error("bbox must be an Array");if(4!==k.length&&6!==k.length)throw new Error("bbox must be an Array of 4 or 6 numbers");k.forEach(function(O){if(!T(O))throw new Error("bbox must only contain numbers")})},W.validateId=function S(k){if(!k)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof k))throw new Error("id must be a number or a string")},W.radians2degrees=function b(){throw new Error("method has been renamed to `radiansToDegrees`")},W.degrees2radians=function n(){throw new Error("method has been renamed to `degreesToRadians`")},W.distanceToDegrees=function C(){throw new Error("method has been renamed to `lengthToDegrees`")},W.distanceToRadians=function p(){throw new Error("method has been renamed to `lengthToRadians`")},W.radiansToDistance=function F(){throw new Error("method has been renamed to `radiansToLength`")},W.bearingToAngle=function D(){throw new Error("method has been renamed to `bearingToAzimuth`")},W.convertDistance=function N(){throw new Error("method has been renamed to `convertLength`")}},88553:function(tt,W,t){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var A=t(64182);function g(o,h,M){if(null!==o)for(var T,L,m,S,b,n,C,D,p=0,F=0,N=o.type,k="FeatureCollection"===N,O="Feature"===N,B=k?o.features.length:1,z=0;z<B;z++){b=(D=!!(C=k?o.features[z].geometry:O?o.geometry:o)&&"GeometryCollection"===C.type)?C.geometries.length:1;for(var U=0;U<b;U++){var G=0,Q=0;if(null!==(S=D?C.geometries[U]:C)){n=S.coordinates;var rt=S.type;switch(p=!M||"Polygon"!==rt&&"MultiPolygon"!==rt?0:1,rt){case null:break;case"Point":if(!1===h(n,F,z,G,Q))return!1;F++,G++;break;case"LineString":case"MultiPoint":for(T=0;T<n.length;T++){if(!1===h(n[T],F,z,G,Q))return!1;F++,"MultiPoint"===rt&&G++}"LineString"===rt&&G++;break;case"Polygon":case"MultiLineString":for(T=0;T<n.length;T++){for(L=0;L<n[T].length-p;L++){if(!1===h(n[T][L],F,z,G,Q))return!1;F++}"MultiLineString"===rt&&G++,"Polygon"===rt&&Q++}"Polygon"===rt&&G++;break;case"MultiPolygon":for(T=0;T<n.length;T++){for(Q=0,L=0;L<n[T].length;L++){for(m=0;m<n[T][L].length-p;m++){if(!1===h(n[T][L][m],F,z,G,Q))return!1;F++}Q++}G++}break;case"GeometryCollection":for(T=0;T<S.geometries.length;T++)if(!1===g(S.geometries[T],h,M))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function P(o,h){var M;switch(o.type){case"FeatureCollection":for(M=0;M<o.features.length&&!1!==h(o.features[M].properties,M);M++);break;case"Feature":h(o.properties,0)}}function l(o,h){if("Feature"===o.type)h(o,0);else if("FeatureCollection"===o.type)for(var M=0;M<o.features.length&&!1!==h(o.features[M],M);M++);}function r(o,h){var M,T,L,m,S,b,n,C,p,F,D=0,N="FeatureCollection"===o.type,k="Feature"===o.type,O=N?o.features.length:1;for(M=0;M<O;M++){for(C=N?o.features[M].properties:k?o.properties:{},p=N?o.features[M].bbox:k?o.bbox:void 0,F=N?o.features[M].id:k?o.id:void 0,S=(n=!!(b=N?o.features[M].geometry:k?o.geometry:o)&&"GeometryCollection"===b.type)?b.geometries.length:1,L=0;L<S;L++)if(null!==(m=n?b.geometries[L]:b))switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===h(m,D,C,p,F))return!1;break;case"GeometryCollection":for(T=0;T<m.geometries.length;T++)if(!1===h(m.geometries[T],D,C,p,F))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===h(null,D,C,p,F))return!1;D++}}function a(o,h){r(o,function(M,T,L,m,S){var n,b=null===M?null:M.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return!1!==h(A.feature(M,L,{bbox:m,id:S}),T,0)&&void 0}switch(b){case"MultiPoint":n="Point";break;case"MultiLineString":n="LineString";break;case"MultiPolygon":n="Polygon"}for(var C=0;C<M.coordinates.length;C++)if(!1===h(A.feature({type:n,coordinates:M.coordinates[C]},L),T,C))return!1})}function c(o,h){a(o,function(M,T,L){var m=0;if(M.geometry){var S=M.geometry.type;if("Point"!==S&&"MultiPoint"!==S){var b,n=0,C=0,p=0;if(!1===g(M,function(F,D,N,k,O){if(void 0===b||T>n||k>C||O>p)return b=F,n=T,C=k,p=O,void(m=0);var B=A.lineString([b,F],M.properties);if(!1===h(B,T,L,O,m))return!1;m++,b=F}))return!1}}})}function y(o,h){if(!o)throw new Error("geojson is required");a(o,function(M,T,L){if(null!==M.geometry){var S=M.geometry.coordinates;switch(M.geometry.type){case"LineString":if(!1===h(M,T,L,0,0))return!1;break;case"Polygon":for(var b=0;b<S.length;b++)if(!1===h(A.lineString(S[b],M.properties),T,L,b))return!1}}})}W.coordEach=g,W.coordReduce=function i(o,h,M,T){var L=M;return g(o,function(m,S,b,n,C){L=0===S&&void 0===M?m:h(L,m,S,b,n,C)},T),L},W.propEach=P,W.propReduce=function E(o,h,M){var T=M;return P(o,function(L,m){T=0===m&&void 0===M?L:h(T,L,m)}),T},W.featureEach=l,W.featureReduce=function x(o,h,M){var T=M;return l(o,function(L,m){T=0===m&&void 0===M?L:h(T,L,m)}),T},W.coordAll=function e(o){var h=[];return g(o,function(M){h.push(M)}),h},W.geomEach=r,W.geomReduce=function f(o,h,M){var T=M;return r(o,function(L,m,S,b,n){T=0===m&&void 0===M?L:h(T,L,m,S,b,n)}),T},W.flattenEach=a,W.flattenReduce=function s(o,h,M){var T=M;return a(o,function(L,m,S){T=0===m&&0===S&&void 0===M?L:h(T,L,m,S)}),T},W.segmentEach=c,W.segmentReduce=function u(o,h,M){var T=M,L=!1;return c(o,function(m,S,b,n,C){T=!1===L&&void 0===M?m:h(T,m,S,b,n,C),L=!0}),T},W.lineEach=y,W.lineReduce=function v(o,h,M){var T=M;return y(o,function(L,m,S,b){T=0===m&&void 0===M?L:h(T,L,m,S,b)}),T},W.findSegment=function w(o,h){if(!A.isObject(h=h||{}))throw new Error("options is invalid");var b,M=h.featureIndex||0,T=h.multiFeatureIndex||0,L=h.geometryIndex||0,m=h.segmentIndex||0,S=h.properties;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(null===b)return null;var n=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=n.length+m-1),A.lineString([n[m],n[m+1]],S,h);case"Polygon":return L<0&&(L=n.length+L),m<0&&(m=n[L].length+m-1),A.lineString([n[L][m],n[L][m+1]],S,h);case"MultiLineString":return T<0&&(T=n.length+T),m<0&&(m=n[T].length+m-1),A.lineString([n[T][m],n[T][m+1]],S,h);case"MultiPolygon":return T<0&&(T=n.length+T),L<0&&(L=n[T].length+L),m<0&&(m=n[T][L].length-m-1),A.lineString([n[T][L][m],n[T][L][m+1]],S,h)}throw new Error("geojson is invalid")},W.findPoint=function d(o,h){if(!A.isObject(h=h||{}))throw new Error("options is invalid");var b,M=h.featureIndex||0,T=h.multiFeatureIndex||0,L=h.geometryIndex||0,m=h.coordIndex||0,S=h.properties;switch(o.type){case"FeatureCollection":M<0&&(M=o.features.length+M),S=S||o.features[M].properties,b=o.features[M].geometry;break;case"Feature":S=S||o.properties,b=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=o;break;default:throw new Error("geojson is invalid")}if(null===b)return null;var n=b.coordinates;switch(b.type){case"Point":return A.point(n,S,h);case"MultiPoint":return T<0&&(T=n.length+T),A.point(n[T],S,h);case"LineString":return m<0&&(m=n.length+m),A.point(n[m],S,h);case"Polygon":return L<0&&(L=n.length+L),m<0&&(m=n[L].length+m),A.point(n[L][m],S,h);case"MultiLineString":return T<0&&(T=n.length+T),m<0&&(m=n[T].length+m),A.point(n[T][m],S,h);case"MultiPolygon":return T<0&&(T=n.length+T),L<0&&(L=n[T].length+L),m<0&&(m=n[T][L].length-m),A.point(n[T][L][m],S,h)}throw new Error("geojson is invalid")}},65185:function(tt){tt.exports=function W(t){var A=0,g=0,i=0,P=0;return t.map(function(E){var l=(E=E.slice())[0],x=l.toUpperCase();if(l!=x)switch(E[0]=x,l){case"a":E[6]+=i,E[7]+=P;break;case"v":E[1]+=P;break;case"h":E[1]+=i;break;default:for(var e=1;e<E.length;)E[e++]+=i,E[e++]+=P}switch(x){case"Z":i=A,P=g;break;case"H":i=E[1];break;case"V":P=E[1];break;case"M":i=A=E[1],P=g=E[2];break;default:i=E[E.length-2],P=E[E.length-1]}return E})}},21527:function(tt){"use strict";tt.exports=function W(t,A){if(!t||null==t.length)throw Error("Argument should be an array");A=null==A?1:Math.floor(A);for(var g=Array(2*A),i=0;i<A;i++){for(var P=-1/0,E=1/0,l=i,x=t.length;l<x;l+=A)t[l]>P&&(P=t[l]),t[l]<E&&(E=t[l]);g[i]=E,g[A+i]=P}return g}},6851:function(tt){"use strict";tt.exports=function(W,t,A){if("function"==typeof Array.prototype.findIndex)return W.findIndex(t,A);if("function"!=typeof t)throw new TypeError("predicate must be a function");var g=Object(W),i=g.length;if(0===i)return-1;for(var P=0;P<i;P++)if(t.call(A,g[P],P,g))return P;return-1}},54:function(tt,W,t){"use strict";var A=t(21527);tt.exports=function g(i,P,E){if(!i||null==i.length)throw Error("Argument should be an array");null==P&&(P=1),null==E&&(E=A(i,P));for(var l=0;l<P;l++){var x=E[P+l],e=E[l],r=l,f=i.length;if(x===1/0&&e===-1/0)for(r=l;r<f;r+=P)i[r]=i[r]===x?1:i[r]===e?0:.5;else if(x===1/0)for(r=l;r<f;r+=P)i[r]=i[r]===x?1:0;else if(e===-1/0)for(r=l;r<f;r+=P)i[r]=i[r]===e?0:1;else{var a=x-e;for(r=l;r<f;r+=P)isNaN(i[r])||(i[r]=0===a?.5:(i[r]-e)/a)}}return i}},57471:function(tt){tt.exports=function(t,A){var g="number"==typeof t,i="number"==typeof A;g&&!i?(A=t,t=0):!g&&!i&&(t=0,A=0);var P=(A|=0)-(t|=0);if(P<0)throw new Error("array length must be positive");for(var E=new Array(P),l=0,x=t;l<P;l++,x++)E[l]=x;return E}},32791:function(tt,W,t){"use strict";var A=t(90386);function g(H){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(at){return typeof at}:function(at){return at&&"function"==typeof Symbol&&at.constructor===Symbol&&at!==Symbol.prototype?"symbol":typeof at})(H)}var h,M,E=t(79616).codes,l=E.ERR_AMBIGUOUS_ARGUMENT,x=E.ERR_INVALID_ARG_TYPE,e=E.ERR_INVALID_ARG_VALUE,r=E.ERR_INVALID_RETURN_VALUE,f=E.ERR_MISSING_ARGS,a=t(73894),c=t(43827).inspect,u=t(43827).types,y=u.isPromise,v=u.isRegExp,w=Object.assign?Object.assign:t(73523).assign,d=Object.is?Object.is:t(64003);function S(){var H=t(74061);h=H.isDeepEqual,M=H.isDeepStrictEqual}var p=!1,F=tt.exports=B,D={};function N(H){throw H.message instanceof Error?H.message:new a(H)}function O(H,X,at,_){if(!at){var K=!1;if(0===X)K=!0,_="No value argument passed to `assert.ok()`";else if(_ instanceof Error)throw _;var nt=new a({actual:at,expected:!0,message:_,operator:"==",stackStartFn:H});throw nt.generatedMessage=K,nt}}function B(){for(var H=arguments.length,X=new Array(H),at=0;at<H;at++)X[at]=arguments[at];O.apply(void 0,[B,X.length].concat(X))}F.fail=function k(H,X,at,_,K){var et,nt=arguments.length;if(0===nt?et="Failed":1===nt?(at=H,H=void 0):(!1===p&&(p=!0,(A.emitWarning?A.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===nt&&(_="!=")),at instanceof Error)throw at;var dt={actual:H,expected:X,operator:void 0===_?"fail":_,stackStartFn:K||k};void 0!==at&&(dt.message=at);var Tt=new a(dt);throw et&&(Tt.message=et,Tt.generatedMessage=!0),Tt},F.AssertionError=a,F.ok=B,F.equal=function H(X,at,_){if(arguments.length<2)throw new f("actual","expected");X!=at&&N({actual:X,expected:at,message:_,operator:"==",stackStartFn:H})},F.notEqual=function H(X,at,_){if(arguments.length<2)throw new f("actual","expected");X==at&&N({actual:X,expected:at,message:_,operator:"!=",stackStartFn:H})},F.deepEqual=function H(X,at,_){if(arguments.length<2)throw new f("actual","expected");void 0===h&&S(),h(X,at)||N({actual:X,expected:at,message:_,operator:"deepEqual",stackStartFn:H})},F.notDeepEqual=function H(X,at,_){if(arguments.length<2)throw new f("actual","expected");void 0===h&&S(),h(X,at)&&N({actual:X,expected:at,message:_,operator:"notDeepEqual",stackStartFn:H})},F.deepStrictEqual=function H(X,at,_){if(arguments.length<2)throw new f("actual","expected");void 0===h&&S(),M(X,at)||N({actual:X,expected:at,message:_,operator:"deepStrictEqual",stackStartFn:H})},F.notDeepStrictEqual=function z(H,X,at){if(arguments.length<2)throw new f("actual","expected");void 0===h&&S(),M(H,X)&&N({actual:H,expected:X,message:at,operator:"notDeepStrictEqual",stackStartFn:z})},F.strictEqual=function H(X,at,_){if(arguments.length<2)throw new f("actual","expected");d(X,at)||N({actual:X,expected:at,message:_,operator:"strictEqual",stackStartFn:H})},F.notStrictEqual=function H(X,at,_){if(arguments.length<2)throw new f("actual","expected");d(X,at)&&N({actual:X,expected:at,message:_,operator:"notStrictEqual",stackStartFn:H})};var U=function H(X,at,_){var K=this;(function i(H,X){if(!(H instanceof X))throw new TypeError("Cannot call a class as a function")})(this,H),at.forEach(function(nt){nt in X&&(K[nt]=void 0!==_&&"string"==typeof _[nt]&&v(X[nt])&&X[nt].test(_[nt])?_[nt]:X[nt])})};function G(H,X,at,_,K,nt){if(!(at in H)||!M(H[at],X[at])){if(!_){var et=new U(H,K),st=new U(X,K,H),dt=new a({actual:et,expected:st,operator:"deepStrictEqual",stackStartFn:nt});throw dt.actual=H,dt.expected=X,dt.operator=nt.name,dt}N({actual:H,expected:X,message:_,operator:nt.name,stackStartFn:nt})}}function Q(H,X,at,_){if("function"!=typeof X){if(v(X))return X.test(H);if(2===arguments.length)throw new x("expected",["Function","RegExp"],X);if("object"!==g(H)||null===H){var K=new a({actual:H,expected:X,message:at,operator:"deepStrictEqual",stackStartFn:_});throw K.operator=_.name,K}var nt=Object.keys(X);if(X instanceof Error)nt.push("name","message");else if(0===nt.length)throw new e("error",X,"may not be an empty object");return void 0===h&&S(),nt.forEach(function(et){"string"==typeof H[et]&&v(X[et])&&X[et].test(H[et])||G(H,X,et,at,nt,_)}),!0}return void 0!==X.prototype&&H instanceof X||!Error.isPrototypeOf(X)&&!0===X.call({},H)}function rt(H){if("function"!=typeof H)throw new x("fn","Function",H);try{H()}catch(X){return X}return D}function it(H){return y(H)||null!==H&&"object"===g(H)&&"function"==typeof H.then&&"function"==typeof H.catch}function ut(H){return Promise.resolve().then(function(){var X;if("function"==typeof H){if(!it(X=H()))throw new r("instance of Promise","promiseFn",X)}else{if(!it(H))throw new x("promiseFn",["Function","Promise"],H);X=H}return Promise.resolve().then(function(){return X}).then(function(){return D}).catch(function(at){return at})})}function J(H,X,at,_){if("string"==typeof at){if(4===arguments.length)throw new x("error",["Object","Error","Function","RegExp"],at);if("object"===g(X)&&null!==X){if(X.message===at)throw new l("error/message",'The error message "'.concat(X.message,'" is identical to the message.'))}else if(X===at)throw new l("error/message",'The error "'.concat(X,'" is identical to the message.'));_=at,at=void 0}else if(null!=at&&"object"!==g(at)&&"function"!=typeof at)throw new x("error",["Object","Error","Function","RegExp"],at);if(X===D){var K="";at&&at.name&&(K+=" (".concat(at.name,")")),K+=_?": ".concat(_):".",N({actual:void 0,expected:at,operator:H.name,message:"Missing expected ".concat("rejects"===H.name?"rejection":"exception").concat(K),stackStartFn:H})}if(at&&!Q(X,at,_,H))throw X}function j(H,X,at,_){if(X!==D){if("string"==typeof at&&(_=at,at=void 0),!at||Q(X,at)){var K=_?": ".concat(_):".";N({actual:X,expected:at,operator:H.name,message:"Got unwanted ".concat("doesNotReject"===H.name?"rejection":"exception").concat(K,"\n")+'Actual message: "'.concat(X&&X.message,'"'),stackStartFn:H})}throw X}}function Z(){for(var H=arguments.length,X=new Array(H),at=0;at<H;at++)X[at]=arguments[at];O.apply(void 0,[Z,X.length].concat(X))}F.throws=function H(X){for(var at=arguments.length,_=new Array(at>1?at-1:0),K=1;K<at;K++)_[K-1]=arguments[K];J.apply(void 0,[H,rt(X)].concat(_))},F.rejects=function H(X){for(var at=arguments.length,_=new Array(at>1?at-1:0),K=1;K<at;K++)_[K-1]=arguments[K];return ut(X).then(function(nt){return J.apply(void 0,[H,nt].concat(_))})},F.doesNotThrow=function H(X){for(var at=arguments.length,_=new Array(at>1?at-1:0),K=1;K<at;K++)_[K-1]=arguments[K];j.apply(void 0,[H,rt(X)].concat(_))},F.doesNotReject=function H(X){for(var at=arguments.length,_=new Array(at>1?at-1:0),K=1;K<at;K++)_[K-1]=arguments[K];return ut(X).then(function(nt){return j.apply(void 0,[H,nt].concat(_))})},F.ifError=function H(X){if(null!=X){var at="ifError got unwanted exception: ";"object"===g(X)&&"string"==typeof X.message?at+=0===X.message.length&&X.constructor?X.constructor.name:X.message:at+=c(X);var _=new a({actual:X,expected:null,operator:"ifError",message:at,stackStartFn:H}),K=X.stack;if("string"==typeof K){var nt=K.split("\n");nt.shift();for(var et=_.stack.split("\n"),st=0;st<nt.length;st++){var dt=et.indexOf(nt[st]);if(-1!==dt){et=et.slice(0,dt);break}}_.stack="".concat(et.join("\n"),"\n").concat(nt.join("\n"))}throw _}},F.strict=w(Z,F,{equal:F.strictEqual,deepEqual:F.deepStrictEqual,notEqual:F.notStrictEqual,notDeepEqual:F.notDeepStrictEqual}),F.strict.strict=F.strict},73894:function(tt,W,t){"use strict";var A=t(90386);function i(k,O,B){return O in k?Object.defineProperty(k,O,{value:B,enumerable:!0,configurable:!0,writable:!0}):k[O]=B,k}function E(k,O){for(var B=0;B<O.length;B++){var z=O[B];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(k,z.key,z)}}function x(k,O){return!O||"object"!==v(O)&&"function"!=typeof O?e(k):O}function e(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function f(k){var O="function"==typeof Map?new Map:void 0;return f=function(z){if(null===z||!function c(k){return-1!==Function.toString.call(k).indexOf("[native code]")}(z))return z;if("function"!=typeof z)throw new TypeError("Super expression must either be null or a function");if(void 0!==O){if(O.has(z))return O.get(z);O.set(z,U)}function U(){return s(z,arguments,y(this).constructor)}return U.prototype=Object.create(z.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),u(U,z)},f(k)}function a(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(k){return!1}}function s(k,O,B){return(s=a()?Reflect.construct:function(U,G,Q){var rt=[null];rt.push.apply(rt,G);var ut=new(Function.bind.apply(U,rt));return Q&&u(ut,Q.prototype),ut}).apply(null,arguments)}function u(k,O){return(u=Object.setPrototypeOf||function(z,U){return z.__proto__=U,z})(k,O)}function y(k){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)})(k)}function v(k){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(k)}var d=t(43827).inspect,h=t(79616).codes.ERR_INVALID_ARG_TYPE;function M(k,O,B){return(void 0===B||B>k.length)&&(B=k.length),k.substring(B-O.length,B)===O}var L="",m="",S="",b="",n={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function p(k){var O=Object.keys(k),B=Object.create(Object.getPrototypeOf(k));return O.forEach(function(z){B[z]=k[z]}),Object.defineProperty(B,"message",{value:k.message}),B}function F(k){return d(k,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function D(k,O,B){var z="",U="",G=0,Q="",rt=!1,it=F(k),ut=it.split("\n"),J=F(O).split("\n"),j=0,Z="";if("strictEqual"===B&&"object"===v(k)&&"object"===v(O)&&null!==k&&null!==O&&(B="strictEqualObject"),1===ut.length&&1===J.length&&ut[0]!==J[0]){var H=ut[0].length+J[0].length;if(H<=10){if(!("object"===v(k)&&null!==k||"object"===v(O)&&null!==O||0===k&&0===O))return"".concat(n[B],"\n\n")+"".concat(ut[0]," !== ").concat(J[0],"\n")}else if("strictEqualObject"!==B&&H<(A.stderr&&A.stderr.isTTY?A.stderr.columns:80)){for(;ut[0][j]===J[0][j];)j++;j>2&&(Z="\n  ".concat(function T(k,O){if(O=Math.floor(O),0==k.length||0==O)return"";var B=k.length*O;for(O=Math.floor(Math.log(O)/Math.log(2));O;)k+=k,O--;return k+k.substring(0,B-k.length)}(" ",j),"^"),j=0)}}for(var at=ut[ut.length-1],_=J[J.length-1];at===_&&(j++<2?Q="\n  ".concat(at).concat(Q):z=at,ut.pop(),J.pop(),0!==ut.length&&0!==J.length);)at=ut[ut.length-1],_=J[J.length-1];var K=Math.max(ut.length,J.length);if(0===K){var nt=it.split("\n");if(nt.length>30)for(nt[26]="".concat(L,"...").concat(b);nt.length>27;)nt.pop();return"".concat(n.notIdentical,"\n\n").concat(nt.join("\n"),"\n")}j>3&&(Q="\n".concat(L,"...").concat(b).concat(Q),rt=!0),""!==z&&(Q="\n  ".concat(z).concat(Q),z="");var et=0,st=n[B]+"\n".concat(m,"+ actual").concat(b," ").concat(S,"- expected").concat(b),dt=" ".concat(L,"...").concat(b," Lines skipped");for(j=0;j<K;j++){var Tt=j-G;if(ut.length<j+1)Tt>1&&j>2&&(Tt>4?(U+="\n".concat(L,"...").concat(b),rt=!0):Tt>3&&(U+="\n  ".concat(J[j-2]),et++),U+="\n  ".concat(J[j-1]),et++),G=j,z+="\n".concat(S,"-").concat(b," ").concat(J[j]),et++;else if(J.length<j+1)Tt>1&&j>2&&(Tt>4?(U+="\n".concat(L,"...").concat(b),rt=!0):Tt>3&&(U+="\n  ".concat(ut[j-2]),et++),U+="\n  ".concat(ut[j-1]),et++),G=j,U+="\n".concat(m,"+").concat(b," ").concat(ut[j]),et++;else{var bt=J[j],Dt=ut[j],Ft=Dt!==bt&&(!M(Dt,",")||Dt.slice(0,-1)!==bt);Ft&&M(bt,",")&&bt.slice(0,-1)===Dt&&(Ft=!1,Dt+=","),Ft?(Tt>1&&j>2&&(Tt>4?(U+="\n".concat(L,"...").concat(b),rt=!0):Tt>3&&(U+="\n  ".concat(ut[j-2]),et++),U+="\n  ".concat(ut[j-1]),et++),G=j,U+="\n".concat(m,"+").concat(b," ").concat(Dt),z+="\n".concat(S,"-").concat(b," ").concat(bt),et+=2):(U+=z,z="",(1===Tt||0===j)&&(U+="\n  ".concat(Dt),et++))}if(et>20&&j<K-2)return"".concat(st).concat(dt,"\n").concat(U,"\n").concat(L,"...").concat(b).concat(z,"\n")+"".concat(L,"...").concat(b)}return"".concat(st).concat(rt?dt:"","\n").concat(U).concat(z).concat(Q).concat(Z)}var N=function(k){function O(B){var z;if(function P(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),"object"!==v(B)||null===B)throw new h("options","Object",B);var U=B.message,G=B.operator,Q=B.stackStartFn,rt=B.actual,it=B.expected,ut=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=U)z=x(this,y(O).call(this,String(U)));else if(A.stderr&&A.stderr.isTTY&&(A.stderr&&A.stderr.getColorDepth&&1!==A.stderr.getColorDepth()?(L="\x1b[34m",m="\x1b[32m",b="\x1b[39m",S="\x1b[31m"):(L="",m="",b="",S="")),"object"===v(rt)&&null!==rt&&"object"===v(it)&&null!==it&&"stack"in rt&&rt instanceof Error&&"stack"in it&&it instanceof Error&&(rt=p(rt),it=p(it)),"deepStrictEqual"===G||"strictEqual"===G)z=x(this,y(O).call(this,D(rt,it,G)));else if("notDeepStrictEqual"===G||"notStrictEqual"===G){var J=n[G],j=F(rt).split("\n");if("notStrictEqual"===G&&"object"===v(rt)&&null!==rt&&(J=n.notStrictEqualObject),j.length>30)for(j[26]="".concat(L,"...").concat(b);j.length>27;)j.pop();z=x(this,1===j.length?y(O).call(this,"".concat(J," ").concat(j[0])):y(O).call(this,"".concat(J,"\n\n").concat(j.join("\n"),"\n")))}else{var Z=F(rt),H="",X=n[G];"notDeepEqual"===G||"notEqual"===G?(Z="".concat(n[G],"\n\n").concat(Z)).length>1024&&(Z="".concat(Z.slice(0,1021),"...")):(H="".concat(F(it)),Z.length>512&&(Z="".concat(Z.slice(0,509),"...")),H.length>512&&(H="".concat(H.slice(0,509),"...")),"deepEqual"===G||"equal"===G?Z="".concat(X,"\n\n").concat(Z,"\n\nshould equal\n\n"):H=" ".concat(G," ").concat(H)),z=x(this,y(O).call(this,"".concat(Z).concat(H)))}return Error.stackTraceLimit=ut,z.generatedMessage=!U,Object.defineProperty(e(z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),z.code="ERR_ASSERTION",z.actual=rt,z.expected=it,z.operator=G,Error.captureStackTrace&&Error.captureStackTrace(e(z),Q),z.name="AssertionError",x(z)}return function r(k,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),O&&u(k,O)}(O,k),function l(k,O,B){return O&&E(k.prototype,O),B&&E(k,B),k}(O,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:d.custom,value:function(z,U){return d(this,function g(k){for(var O=1;O<arguments.length;O++){var B=null!=arguments[O]?arguments[O]:{},z=Object.keys(B);"function"==typeof Object.getOwnPropertySymbols&&(z=z.concat(Object.getOwnPropertySymbols(B).filter(function(U){return Object.getOwnPropertyDescriptor(B,U).enumerable}))),z.forEach(function(U){i(k,U,B[U])})}return k}({},U,{customInspect:!1,depth:0}))}}]),O}(f(Error));tt.exports=N},79616:function(tt,W,t){"use strict";function A(v){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(v)}function i(v,w){return!w||"object"!==A(w)&&"function"!=typeof w?function P(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v):w}function E(v){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(v)}function l(v,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),w&&x(v,w)}function x(v,w){return(x=Object.setPrototypeOf||function(o,h){return o.__proto__=h,o})(v,w)}var r,f,e={};function a(v,w,d){d||(d=Error),e[v]=function(M){function T(L,m,S){var b;return function g(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}(this,T),(b=i(this,E(T).call(this,function o(M,T,L){return"string"==typeof w?w:w(M,T,L)}(L,m,S)))).code=v,b}return l(T,M),T}(d)}function s(v,w){if(Array.isArray(v)){var d=v.length;return v=v.map(function(o){return String(o)}),d>2?"one of ".concat(w," ").concat(v.slice(0,d-1).join(", "),", or ")+v[d-1]:2===d?"one of ".concat(w," ").concat(v[0]," or ").concat(v[1]):"of ".concat(w," ").concat(v[0])}return"of ".concat(w," ").concat(String(v))}a("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),a("ERR_INVALID_ARG_TYPE",function(v,w,d){var o,h;if(void 0===r&&(r=t(32791)),r("string"==typeof v,"'name' must be a string"),"string"==typeof w&&function c(v,w,d){return v.substr(!d||d<0?0:+d,w.length)===w}(w,"not ")?(o="must not be",w=w.replace(/^not /,"")):o="must be",function u(v,w,d){return(void 0===d||d>v.length)&&(d=v.length),v.substring(d-w.length,d)===w}(v," argument"))h="The ".concat(v," ").concat(o," ").concat(s(w,"type"));else{var M=function y(v,w,d){return"number"!=typeof d&&(d=0),!(d+w.length>v.length)&&-1!==v.indexOf(w,d)}(v,".")?"property":"argument";h='The "'.concat(v,'" ').concat(M," ").concat(o," ").concat(s(w,"type"))}return h+". Received type ".concat(A(d))},TypeError),a("ERR_INVALID_ARG_VALUE",function(v,w){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===f&&(f=t(43827));var o=f.inspect(w);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(v,"' ").concat(d,". Received ").concat(o)},TypeError,RangeError),a("ERR_INVALID_RETURN_VALUE",function(v,w,d){var o;return o=d&&d.constructor&&d.constructor.name?"instance of ".concat(d.constructor.name):"type ".concat(A(d)),"Expected ".concat(v,' to be returned from the "').concat(w,'"')+" function but got ".concat(o,".")},TypeError),a("ERR_MISSING_ARGS",function(){for(var v=arguments.length,w=new Array(v),d=0;d<v;d++)w[d]=arguments[d];void 0===r&&(r=t(32791)),r(w.length>0,"At least one arg needs to be specified");var o="The ",h=w.length;switch(w=w.map(function(M){return'"'.concat(M,'"')}),h){case 1:o+="".concat(w[0]," argument");break;case 2:o+="".concat(w[0]," and ").concat(w[1]," arguments");break;default:o+=w.slice(0,h-1).join(", "),o+=", and ".concat(w[h-1]," arguments")}return"".concat(o," must be specified")},TypeError),tt.exports.codes=e},74061:function(tt,W,t){"use strict";function A(wt,St){return function P(wt){if(Array.isArray(wt))return wt}(wt)||function i(wt,St){var Ut=[],Gt=!0,Pt=!1,Vt=void 0;try{for(var _t,te=wt[Symbol.iterator]();!(Gt=(_t=te.next()).done)&&(Ut.push(_t.value),!St||Ut.length!==St);Gt=!0);}catch(kt){Pt=!0,Vt=kt}finally{try{!Gt&&null!=te.return&&te.return()}finally{if(Pt)throw Vt}}return Ut}(wt,St)||function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(wt){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ut){return typeof Ut}:function(Ut){return Ut&&"function"==typeof Symbol&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut})(wt)}var l=void 0!==/a/g.flags,x=function(St){var Ut=[];return St.forEach(function(Gt){return Ut.push(Gt)}),Ut},e=function(St){var Ut=[];return St.forEach(function(Gt,Pt){return Ut.push([Pt,Gt])}),Ut},r=Object.is?Object.is:t(64003),f=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},a=Number.isNaN?Number.isNaN:t(15567);function s(wt){return wt.call.bind(wt)}var c=s(Object.prototype.hasOwnProperty),u=s(Object.prototype.propertyIsEnumerable),y=s(Object.prototype.toString),v=t(43827).types,w=v.isAnyArrayBuffer,d=v.isArrayBufferView,o=v.isDate,h=v.isMap,M=v.isRegExp,T=v.isSet,L=v.isNativeError,m=v.isBoxedPrimitive,S=v.isNumberObject,b=v.isStringObject,n=v.isBooleanObject,C=v.isBigIntObject,p=v.isSymbolObject,F=v.isFloat32Array,D=v.isFloat64Array;function N(wt){if(0===wt.length||wt.length>10)return!0;for(var St=0;St<wt.length;St++){var Ut=wt.charCodeAt(St);if(Ut<48||Ut>57)return!0}return 10===wt.length&&wt>=Math.pow(2,32)}function k(wt){return Object.keys(wt).filter(N).concat(f(wt).filter(Object.prototype.propertyIsEnumerable.bind(wt)))}function O(wt,St){if(wt===St)return 0;for(var Ut=wt.length,Gt=St.length,Pt=0,Vt=Math.min(Ut,Gt);Pt<Vt;++Pt)if(wt[Pt]!==St[Pt]){Ut=wt[Pt],Gt=St[Pt];break}return Ut<Gt?-1:Gt<Ut?1:0}function X(wt,St,Ut,Gt){if(wt===St)return 0!==wt||!Ut||r(wt,St);if(Ut){if("object"!==E(wt))return"number"==typeof wt&&a(wt)&&a(St);if("object"!==E(St)||null===wt||null===St||Object.getPrototypeOf(wt)!==Object.getPrototypeOf(St))return!1}else{if(null===wt||"object"!==E(wt))return(null===St||"object"!==E(St))&&wt==St;if(null===St||"object"!==E(St))return!1}var Pt=y(wt);if(Pt!==y(St))return!1;if(Array.isArray(wt)){if(wt.length!==St.length)return!1;var te=k(wt),_t=k(St);return te.length===_t.length&&_(wt,St,Ut,Gt,1,te)}if("[object Object]"===Pt&&(!h(wt)&&h(St)||!T(wt)&&T(St)))return!1;if(o(wt)){if(!o(St)||Date.prototype.getTime.call(wt)!==Date.prototype.getTime.call(St))return!1}else if(M(wt)){if(!M(St)||!function ut(wt,St){return l?wt.source===St.source&&wt.flags===St.flags:RegExp.prototype.toString.call(wt)===RegExp.prototype.toString.call(St)}(wt,St))return!1}else if(L(wt)||wt instanceof Error){if(wt.message!==St.message||wt.name!==St.name)return!1}else{if(d(wt)){if(Ut||!F(wt)&&!D(wt)){if(!function j(wt,St){return wt.byteLength===St.byteLength&&0===O(new Uint8Array(wt.buffer,wt.byteOffset,wt.byteLength),new Uint8Array(St.buffer,St.byteOffset,St.byteLength))}(wt,St))return!1}else if(!function J(wt,St){if(wt.byteLength!==St.byteLength)return!1;for(var Ut=0;Ut<wt.byteLength;Ut++)if(wt[Ut]!==St[Ut])return!1;return!0}(wt,St))return!1;var kt=k(wt),zt=k(St);return kt.length===zt.length&&_(wt,St,Ut,Gt,0,kt)}if(T(wt))return!(!T(St)||wt.size!==St.size)&&_(wt,St,Ut,Gt,2);if(h(wt))return!(!h(St)||wt.size!==St.size)&&_(wt,St,Ut,Gt,3);if(w(wt)){if(!function Z(wt,St){return wt.byteLength===St.byteLength&&0===O(new Uint8Array(wt),new Uint8Array(St))}(wt,St))return!1}else if(m(wt)&&!function H(wt,St){return S(wt)?S(St)&&r(Number.prototype.valueOf.call(wt),Number.prototype.valueOf.call(St)):b(wt)?b(St)&&String.prototype.valueOf.call(wt)===String.prototype.valueOf.call(St):n(wt)?n(St)&&Boolean.prototype.valueOf.call(wt)===Boolean.prototype.valueOf.call(St):C(wt)?C(St)&&BigInt.prototype.valueOf.call(wt)===BigInt.prototype.valueOf.call(St):p(St)&&Symbol.prototype.valueOf.call(wt)===Symbol.prototype.valueOf.call(St)}(wt,St))return!1}return _(wt,St,Ut,Gt,0)}function at(wt,St){return St.filter(function(Ut){return u(wt,Ut)})}function _(wt,St,Ut,Gt,Pt,Vt){if(5===arguments.length){Vt=Object.keys(wt);var te=Object.keys(St);if(Vt.length!==te.length)return!1}for(var _t=0;_t<Vt.length;_t++)if(!c(St,Vt[_t]))return!1;if(Ut&&5===arguments.length){var kt=f(wt);if(0!==kt.length){var zt=0;for(_t=0;_t<kt.length;_t++){var qt=kt[_t];if(u(wt,qt)){if(!u(St,qt))return!1;Vt.push(qt),zt++}else if(u(St,qt))return!1}var ae=f(St);if(kt.length!==ae.length&&at(St,ae).length!==zt)return!1}else{var oe=f(St);if(0!==oe.length&&0!==at(St,oe).length)return!1}}if(0===Vt.length&&(0===Pt||1===Pt&&0===wt.length||0===wt.size))return!0;if(void 0===Gt)Gt={val1:new Map,val2:new Map,position:0};else{var pe=Gt.val1.get(wt);if(void 0!==pe){var ye=Gt.val2.get(St);if(void 0!==ye)return pe===ye}Gt.position++}Gt.val1.set(wt,Gt.position),Gt.val2.set(St,Gt.position);var Fe=Dt(wt,St,Ut,Vt,Gt,Pt);return Gt.val1.delete(wt),Gt.val2.delete(St),Fe}function K(wt,St,Ut,Gt){for(var Pt=x(wt),Vt=0;Vt<Pt.length;Vt++){var te=Pt[Vt];if(X(St,te,Ut,Gt))return wt.delete(te),!0}return!1}function nt(wt){switch(E(wt)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":wt=+wt;case"number":if(a(wt))return!1}return!0}function et(wt,St,Ut){var Gt=nt(Ut);return null!=Gt?Gt:St.has(Gt)&&!wt.has(Gt)}function st(wt,St,Ut,Gt,Pt){var Vt=nt(Ut);if(null!=Vt)return Vt;var te=St.get(Vt);return!(void 0===te&&!St.has(Vt)||!X(Gt,te,!1,Pt))&&!wt.has(Vt)&&X(Gt,te,!1,Pt)}function Tt(wt,St,Ut,Gt,Pt,Vt){for(var te=x(wt),_t=0;_t<te.length;_t++){var kt=te[_t];if(X(Ut,kt,Pt,Vt)&&X(Gt,St.get(kt),Pt,Vt))return wt.delete(kt),!0}return!1}function Dt(wt,St,Ut,Gt,Pt,Vt){var te=0;if(2===Vt){if(!function dt(wt,St,Ut,Gt){for(var Pt=null,Vt=x(wt),te=0;te<Vt.length;te++){var _t=Vt[te];if("object"===E(_t)&&null!==_t)null===Pt&&(Pt=new Set),Pt.add(_t);else if(!St.has(_t)){if(Ut||!et(wt,St,_t))return!1;null===Pt&&(Pt=new Set),Pt.add(_t)}}if(null!==Pt){for(var kt=x(St),zt=0;zt<kt.length;zt++){var qt=kt[zt];if("object"===E(qt)&&null!==qt){if(!K(Pt,qt,Ut,Gt))return!1}else if(!Ut&&!wt.has(qt)&&!K(Pt,qt,Ut,Gt))return!1}return 0===Pt.size}return!0}(wt,St,Ut,Pt))return!1}else if(3===Vt){if(!function bt(wt,St,Ut,Gt){for(var Pt=null,Vt=e(wt),te=0;te<Vt.length;te++){var _t=A(Vt[te],2),zt=_t[1];if("object"===E(kt=_t[0])&&null!==kt)null===Pt&&(Pt=new Set),Pt.add(kt);else{var qt=St.get(kt);if(void 0===qt&&!St.has(kt)||!X(zt,qt,Ut,Gt)){if(Ut||!st(wt,St,kt,zt,Gt))return!1;null===Pt&&(Pt=new Set),Pt.add(kt)}}}if(null!==Pt){for(var ae=e(St),oe=0;oe<ae.length;oe++){var kt,pe=A(ae[oe],2),ye=pe[1];if("object"===E(kt=pe[0])&&null!==kt){if(!Tt(Pt,wt,kt,ye,Ut,Gt))return!1}else if(!(Ut||wt.has(kt)&&X(wt.get(kt),ye,!1,Gt)||Tt(Pt,wt,kt,ye,!1,Gt)))return!1}return 0===Pt.size}return!0}(wt,St,Ut,Pt))return!1}else if(1===Vt)for(;te<wt.length;te++){if(!c(wt,te)){if(c(St,te))return!1;for(var _t=Object.keys(wt);te<_t.length;te++){var kt=_t[te];if(!c(St,kt)||!X(wt[kt],St[kt],Ut,Pt))return!1}return _t.length===Object.keys(St).length}if(!c(St,te)||!X(wt[te],St[te],Ut,Pt))return!1}for(te=0;te<Gt.length;te++){var zt=Gt[te];if(!X(wt[zt],St[zt],Ut,Pt))return!1}return!0}tt.exports={isDeepEqual:function Ft(wt,St){return X(wt,St,false)},isDeepStrictEqual:function Mt(wt,St){return X(wt,St,true)}}},95341:function(tt,W){"use strict";W.byteLength=function x(c){var u=l(c),v=u[1];return 3*(u[0]+v)/4-v},W.toByteArray=function r(c){var u,M,y=l(c),v=y[0],w=y[1],d=new g(function e(c,u,y){return 3*(u+y)/4-y}(0,v,w)),o=0,h=w>0?v-4:v;for(M=0;M<h;M+=4)u=A[c.charCodeAt(M)]<<18|A[c.charCodeAt(M+1)]<<12|A[c.charCodeAt(M+2)]<<6|A[c.charCodeAt(M+3)],d[o++]=u>>16&255,d[o++]=u>>8&255,d[o++]=255&u;return 2===w&&(u=A[c.charCodeAt(M)]<<2|A[c.charCodeAt(M+1)]>>4,d[o++]=255&u),1===w&&(u=A[c.charCodeAt(M)]<<10|A[c.charCodeAt(M+1)]<<4|A[c.charCodeAt(M+2)]>>2,d[o++]=u>>8&255,d[o++]=255&u),d},W.fromByteArray=function s(c){for(var u,y=c.length,v=y%3,w=[],d=16383,o=0,h=y-v;o<h;o+=d)w.push(a(c,o,o+d>h?h:o+d));return 1===v?w.push(t[(u=c[y-1])>>2]+t[u<<4&63]+"=="):2===v&&w.push(t[(u=(c[y-2]<<8)+c[y-1])>>10]+t[u>>4&63]+t[u<<2&63]+"="),w.join("")};for(var t=[],A=[],g="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=0,E=i.length;P<E;++P)t[P]=i[P],A[i.charCodeAt(P)]=P;function l(c){var u=c.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=c.indexOf("=");return-1===y&&(y=u),[y,y===u?0:4-y%4]}function f(c){return t[c>>18&63]+t[c>>12&63]+t[c>>6&63]+t[63&c]}function a(c,u,y){for(var w=[],d=u;d<y;d+=3)w.push(f((c[d]<<16&16711680)+(c[d+1]<<8&65280)+(255&c[d+2])));return w.join("")}A["-".charCodeAt(0)]=62,A["_".charCodeAt(0)]=63},91358:function(tt){"use strict";function W(E,l,x,e,r){for(var f=r+1;e<=r;){var a=e+r>>>1,s=E[a];(void 0!==x?x(s,l):s-l)>=0?(f=a,r=a-1):e=a+1}return f}function t(E,l,x,e,r){for(var f=r+1;e<=r;){var a=e+r>>>1,s=E[a];(void 0!==x?x(s,l):s-l)>0?(f=a,r=a-1):e=a+1}return f}function A(E,l,x,e,r){for(var f=e-1;e<=r;){var a=e+r>>>1,s=E[a];(void 0!==x?x(s,l):s-l)<0?(f=a,e=a+1):r=a-1}return f}function g(E,l,x,e,r){for(var f=e-1;e<=r;){var a=e+r>>>1,s=E[a];(void 0!==x?x(s,l):s-l)<=0?(f=a,e=a+1):r=a-1}return f}function i(E,l,x,e,r){for(;e<=r;){var f=e+r>>>1,a=E[f],s=void 0!==x?x(a,l):a-l;if(0===s)return f;s<=0?e=f+1:r=f-1}return-1}function P(E,l,x,e,r,f){return"function"==typeof x?f(E,l,x,void 0===e?0:0|e,void 0===r?E.length-1:0|r):f(E,l,void 0,void 0===x?0:0|x,void 0===e?E.length-1:0|e)}tt.exports={ge:function(E,l,x,e,r){return P(E,l,x,e,r,W)},gt:function(E,l,x,e,r){return P(E,l,x,e,r,t)},lt:function(E,l,x,e,r){return P(E,l,x,e,r,A)},le:function(E,l,x,e,r){return P(E,l,x,e,r,g)},eq:function(E,l,x,e,r){return P(E,l,x,e,r,i)}}},13547:function(tt,W){"use strict";function A(i){var P=32;return(i&=-i)&&P--,65535&i&&(P-=16),16711935&i&&(P-=8),252645135&i&&(P-=4),858993459&i&&(P-=2),1431655765&i&&(P-=1),P}W.INT_BITS=32,W.INT_MAX=2147483647,W.INT_MIN=-1<<31,W.sign=function(i){return(i>0)-(i<0)},W.abs=function(i){var P=i>>31;return(i^P)-P},W.min=function(i,P){return P^(i^P)&-(i<P)},W.max=function(i,P){return i^(i^P)&-(i<P)},W.isPow2=function(i){return!(i&i-1||!i)},W.log2=function(i){var P,E;return P=(i>65535)<<4,P|=E=((i>>>=P)>255)<<3,P|=E=((i>>>=E)>15)<<2,(P|=E=((i>>>=E)>3)<<1)|(i>>>=E)>>1},W.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},W.popCount=function(i){return 16843009*((i=(858993459&(i-=i>>>1&1431655765))+(i>>>2&858993459))+(i>>>4)&252645135)>>>24},W.countTrailingZeros=A,W.nextPow2=function(i){return i+=0===i,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,1+((i|=i>>>8)|i>>>16)},W.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,(i|=i>>>16)-(i>>>1)},W.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,27030>>>(i&=15)&1};var g=new Array(256);(function(i){for(var P=0;P<256;++P){var E=P,l=P,x=7;for(E>>>=1;E;E>>>=1)l<<=1,l|=1&E,--x;i[P]=l<<x&255}})(g),W.reverse=function(i){return g[255&i]<<24|g[i>>>8&255]<<16|g[i>>>16&255]<<8|g[i>>>24&255]},W.interleave2=function(i,P){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i&=65535)|i<<8))|i<<4))|i<<2))|i<<1))|(P=1431655765&((P=858993459&((P=252645135&((P=16711935&((P&=65535)|P<<8))|P<<4))|P<<2))|P<<1))<<1},W.deinterleave2=function(i,P){return(i=65535&((i=16711935&((i=252645135&((i=858993459&((i=i>>>P&1431655765)|i>>>1))|i>>>2))|i>>>4))|i>>>16))<<16>>16},W.interleave3=function(i,P,E){return i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2),(i|=(P=1227133513&((P=3272356035&((P=251719695&((P=4278190335&((P&=1023)|P<<16))|P<<8))|P<<4))|P<<2))<<1)|(E=1227133513&((E=3272356035&((E=251719695&((E=4278190335&((E&=1023)|E<<16))|E<<8))|E<<4))|E<<2))<<2},W.deinterleave3=function(i,P){return(i=1023&((i=4278190335&((i=251719695&((i=3272356035&((i=i>>>P&1227133513)|i>>>2))|i>>>4))|i>>>8))|i>>>16))<<22>>22},W.nextCombination=function(i){var P=i|i-1;return P+1|(~P&-~P)-1>>>A(i)+1}},44781:function(tt,W,t){"use strict";var A=t(53435);tt.exports=function i(l,x){x||(x={});var a,s,c,u,y,v,d,h,M,e=null==x.cutoff?.25:x.cutoff,r=null==x.radius?8:x.radius,f=x.channel||0;if(ArrayBuffer.isView(l)||Array.isArray(l)){if(!x.width||!x.height)throw Error("For raw data width and height should be provided by options");a=x.width,s=x.height,u=l,v=x.stride?x.stride:Math.floor(l.length/a/s)}else window.HTMLCanvasElement&&l instanceof window.HTMLCanvasElement?(u=(d=l).getContext("2d").getImageData(0,0,a=d.width,s=d.height).data,v=4):window.CanvasRenderingContext2D&&l instanceof window.CanvasRenderingContext2D?(u=l.getImageData(0,0,a=(d=l.canvas).width,s=d.height).data,v=4):window.ImageData&&l instanceof window.ImageData&&(a=l.width,s=l.height,u=l.data,v=4);if(c=Math.max(a,s),window.Uint8ClampedArray&&u instanceof window.Uint8ClampedArray||window.Uint8Array&&u instanceof window.Uint8Array)for(y=u,u=Array(a*s),h=0,M=y.length;h<M;h++)u[h]=y[h*v+f]/255;else if(1!==v)throw Error("Raw data can have only 1 value per pixel");var T=Array(a*s),L=Array(a*s),m=Array(c),S=Array(c),b=Array(c+1),n=Array(c);for(h=0,M=a*s;h<M;h++){var C=u[h];T[h]=1===C?0:0===C?g:Math.pow(Math.max(0,.5-C),2),L[h]=1===C?g:0===C?0:Math.pow(Math.max(0,C-.5),2)}P(T,a,s,m,S,n,b),P(L,a,s,m,S,n,b);var p=window.Float32Array?new Float32Array(a*s):new Array(a*s);for(h=0,M=a*s;h<M;h++)p[h]=A(1-((T[h]-L[h])/r+e),0,1);return p};var g=1e20;function P(l,x,e,r,f,a,s){for(var c=0;c<x;c++){for(var u=0;u<e;u++)r[u]=l[u*x+c];for(E(r,f,a,s,e),u=0;u<e;u++)l[u*x+c]=f[u]}for(u=0;u<e;u++){for(c=0;c<x;c++)r[c]=l[u*x+c];for(E(r,f,a,s,x),c=0;c<x;c++)l[u*x+c]=Math.sqrt(f[c])}}function E(l,x,e,r,f){e[0]=0,r[0]=-g,r[1]=+g;for(var a=1,s=0;a<f;a++){for(var c=(l[a]+a*a-(l[e[s]]+e[s]*e[s]))/(2*a-2*e[s]);c<=r[s];)s--,c=(l[a]+a*a-(l[e[s]]+e[s]*e[s]))/(2*a-2*e[s]);e[++s]=a,r[s]=c,r[s+1]=+g}for(a=0,s=0;a<f;a++){for(;r[s+1]<a;)s++;x[a]=(a-e[s])*(a-e[s])+l[e[s]]}}},6614:function(tt,W,t){"use strict";var A=t(68318),g=t(68222),i=g(A("String.prototype.indexOf"));tt.exports=function(E,l){var x=A(E,!!l);return"function"==typeof x&&i(E,".prototype.")>-1?g(x):x}},68222:function(tt,W,t){"use strict";var A=t(77575),g=t(68318),i=g("%Function.prototype.apply%"),P=g("%Function.prototype.call%"),E=g("%Reflect.apply%",!0)||A.call(P,i),l=g("%Object.getOwnPropertyDescriptor%",!0),x=g("%Object.defineProperty%",!0),e=g("%Math.max%");if(x)try{x({},"a",{value:1})}catch(f){x=null}tt.exports=function(a){var s=E(A,P,arguments);return l&&x&&l(s,"length").configurable&&x(s,"length",{value:1+e(0,a.length-(arguments.length-1))}),s};var r=function(){return E(A,i,arguments)};x?x(tt.exports,"apply",{value:r}):tt.exports.apply=r},53435:function(tt){tt.exports=function W(t,A,g){return A<g?t<A?A:t>g?g:t:t<g?g:t>A?A:t}},6475:function(tt,W,t){"use strict";var A=t(53435);function g(P,E){null==E&&(E=!0);var l=P[0],x=P[1],e=P[2],r=P[3];return null==r&&(r=E?1:255),E&&(l*=255,x*=255,e*=255,r*=255),16777216*(l=255&A(l,0,255))+((x=255&A(x,0,255))<<16)+((e=255&A(e,0,255))<<8)+(255&A(r,0,255))}tt.exports=g,tt.exports.to=g,tt.exports.from=function i(P,E){var l=(P=+P)>>>24,x=(16711680&P)>>>16,e=(65280&P)>>>8,r=255&P;return!1===E?[l,x,e,r]:[l/255,x/255,e/255,r/255]}},76857:function(tt){"use strict";tt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(tt,W,t){"use strict";var A=t(36652),g=t(53435),i=t(90660);tt.exports=function(l,x){("float"===x||!x)&&(x="array"),"uint"===x&&(x="uint8"),"uint_clamped"===x&&(x="uint8_clamped");var r=new(i(x))(4),f="uint8"!==x&&"uint8_clamped"!==x;return(!l.length||"string"==typeof l)&&((l=A(l))[0]/=255,l[1]/=255,l[2]/=255),function P(E){return!!(E instanceof Uint8Array||E instanceof Uint8ClampedArray||Array.isArray(E)&&(E[0]>1||0===E[0])&&(E[1]>1||0===E[1])&&(E[2]>1||0===E[2])&&(!E[3]||E[3]>1))}(l)?(r[0]=l[0],r[1]=l[1],r[2]=l[2],r[3]=null!=l[3]?l[3]:255,f&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(f?(r[0]=l[0],r[1]=l[1],r[2]=l[2],r[3]=null!=l[3]?l[3]:1):(r[0]=g(Math.floor(255*l[0]),0,255),r[1]=g(Math.floor(255*l[1]),0,255),r[2]=g(Math.floor(255*l[2]),0,255),r[3]=null==l[3]?255:g(Math.floor(255*l[3]),0,255)),r)}},90736:function(tt,W,t){"use strict";var A=t(76857),g=t(10973),i=t(46775);tt.exports=function E(l){var x,f,e=[],r=1;if("string"==typeof l)if(A[l])e=A[l].slice(),f="rgb";else if("transparent"===l)r=0,f="rgb",e=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(l)){var a=l.slice(1);r=1,(s=a.length)<=4?(e=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],4===s&&(r=parseInt(a[3]+a[3],16)/255)):(e=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],8===s&&(r=parseInt(a[6]+a[7],16)/255)),e[0]||(e[0]=0),e[1]||(e[1]=0),e[2]||(e[2]=0),f="rgb"}else if(x=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(l)){var u=x[1],y="rgb"===u;f=a=u.replace(/a$/,"");var s="cmyk"===a?4:"gray"===a?1:3;e=x[2].trim().split(/\s*,\s*/).map(function(o,h){if(/%$/.test(o))return h===s?parseFloat(o)/100:"rgb"===a?255*parseFloat(o)/100:parseFloat(o);if("h"===a[h]){if(/deg$/.test(o))return parseFloat(o);if(void 0!==P[o])return P[o]}return parseFloat(o)}),u===a&&e.push(1),r=y||void 0===e[s]?1:e[s],e=e.slice(0,s)}else l.length>10&&/[0-9](?:\s|\/)/.test(l)&&(e=l.match(/([0-9]+)/g).map(function(w){return parseFloat(w)}),f=l.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(l))if(g(l)){var v=i(l.r,l.red,l.R,null);null!==v?(f="rgb",e=[v,i(l.g,l.green,l.G),i(l.b,l.blue,l.B)]):(f="hsl",e=[i(l.h,l.hue,l.H),i(l.s,l.saturation,l.S),i(l.l,l.lightness,l.L,l.b,l.brightness)]),r=i(l.a,l.alpha,l.opacity,1),null!=l.opacity&&(r/=100)}else(Array.isArray(l)||t.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(l))&&(e=[l[0],l[1],l[2]],f="rgb",r=4===l.length?l[3]:1);else f="rgb",e=[l>>>16,(65280&l)>>>8,255&l];return{space:f,values:e,alpha:r}};var P={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},36652:function(tt,W,t){"use strict";var A=t(90736),g=t(80009),i=t(53435);tt.exports=function(E){var l,r=A(E);return r.space?((l=Array(3))[0]=i(r.values[0],0,255),l[1]=i(r.values[1],0,255),l[2]=i(r.values[2],0,255),"h"===r.space[0]&&(l=g.rgb(l)),l.push(i(r.alpha,0,1)),l):[]}},80009:function(tt,W,t){"use strict";var A=t(6866);tt.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(g){var l,x,e,r,f,i=g[0]/360,P=g[1]/100,E=g[2]/100;if(0===P)return[f=255*E,f,f];l=2*E-(x=E<.5?E*(1+P):E+P-E*P),r=[0,0,0];for(var a=0;a<3;a++)(e=i+.3333333333333333*-(a-1))<0?e++:e>1&&e--,r[a]=255*(f=6*e<1?l+6*(x-l)*e:2*e<1?x:3*e<2?l+(x-l)*(.6666666666666666-e)*6:l);return r}},A.hsl=function(g){var r,a,i=g[0]/255,P=g[1]/255,E=g[2]/255,l=Math.min(i,P,E),x=Math.max(i,P,E),e=x-l;return x===l?r=0:i===x?r=(P-E)/e:P===x?r=2+(E-i)/e:E===x&&(r=4+(i-P)/e),(r=Math.min(60*r,360))<0&&(r+=360),a=(l+x)/2,[r,100*(x===l?0:a<=.5?e/(x+l):e/(2-x-l)),100*a]}},6866:function(tt){"use strict";tt.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(tt){tt.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xe7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xe9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xe9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xe3)o.?tom(e|\xe9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(tt,W,t){"use strict";tt.exports={parse:t(41004),stringify:t(53313)}},63625:function(tt,W,t){"use strict";var A=t(40402);tt.exports={isSize:function(i){return/^[\d\.]/.test(i)||-1!==i.indexOf("/")||-1!==A.indexOf(i)}}},41004:function(tt,W,t){"use strict";var A=t(90448),g=t(38732),i=t(41901),P=t(15659),E=t(96209),l=t(83794),x=t(99011),e=t(63625).isSize;tt.exports=f;var r=f.cache={};function f(s){if("string"!=typeof s)throw new Error("Font argument must be a string.");if(r[s])return r[s];if(""===s)throw new Error("Cannot parse an empty string.");if(-1!==i.indexOf(s))return r[s]={system:s};for(var y,c={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},u=x(s,/\s+/);y=u.shift();){if(-1!==g.indexOf(y))return["style","variant","weight","stretch"].forEach(function(w){c[w]=y}),r[s]=c;if(-1===E.indexOf(y))if("normal"!==y&&"small-caps"!==y)if(-1===l.indexOf(y)){if(-1===P.indexOf(y)){if(e(y)){var v=x(y,"/");if(c.size=v[0],null!=v[1]?c.lineHeight=a(v[1]):"/"===u[0]&&(u.shift(),c.lineHeight=a(u.shift())),!u.length)throw new Error("Missing required font-family.");return c.family=x(u.join(" "),/\s*,\s*/).map(A),r[s]=c}throw new Error("Unknown or unsupported font token: "+y)}c.weight=y}else c.stretch=y;else c.variant=y;else c.style=y}throw new Error("Missing required font-size.")}function a(s){var c=parseFloat(s);return c.toString()===s?c:s}},53313:function(tt,W,t){"use strict";var A=t(71299),g=t(63625).isSize,i=s(t(38732)),P=s(t(41901)),E=s(t(15659)),l=s(t(96209)),x=s(t(83794)),e={normal:1,"small-caps":1},r={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},f_size="1rem",f_family="serif";function a(c,u){if(c&&!u[c]&&!i[c])throw Error("Unknown keyword `"+c+"`");return c}function s(c){for(var u={},y=0;y<c.length;y++)u[c[y]]=1;return u}tt.exports=function(u){if((u=A(u,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return u.system&&a(u.system,P),u.system;if(a(u.style,l),a(u.variant,e),a(u.weight,E),a(u.stretch,x),null==u.size&&(u.size=f_size),"number"==typeof u.size&&(u.size+="px"),!g)throw Error("Bad size value `"+u.size+"`");u.family||(u.family=f_family),Array.isArray(u.family)&&(u.family.length||(u.family=[f_family]),u.family=u.family.map(function(v){return r[v]?v:'"'+v+'"'}).join(", "));var y=[];return y.push(u.style),u.variant!==u.style&&y.push(u.variant),u.weight!==u.variant&&u.weight!==u.style&&y.push(u.weight),u.stretch!==u.weight&&u.stretch!==u.variant&&u.stretch!==u.style&&y.push(u.stretch),y.push(u.size+(null==u.lineHeight||"normal"===u.lineHeight||u.lineHeight+""=="1"?"":"/"+u.lineHeight)),y.push(u.family),y.filter(Boolean).join(" ")}},55174:function(tt,W,t){"use strict";var f,A=t(24582),g=t(10424),i=t(82527),P=t(19012),E=t(21780),l=t(16906),x=Function.prototype.bind,e=Object.defineProperty,r=Object.prototype.hasOwnProperty;f=function(a,s,c){var y,u=g(s)&&i(s.value);return delete(y=P(s)).writable,delete y.value,y.get=function(){return!c.overwriteDefinition&&r.call(this,a)?u:(s.value=x.call(u,c.resolveContext?c.resolveContext(this):this),e(this,a,s),this[a])},y},tt.exports=function(a){var s=E(arguments[1]);return A(s.resolveContext)&&i(s.resolveContext),l(a,function(c,u){return f(u,c,s)})}},62072:function(tt,W,t){"use strict";var A=t(24582),g=t(84985),i=t(95879),P=t(21780),E=t(66741),l=tt.exports=function(x,e){var r,f,a,s,c;return arguments.length<2||"string"!=typeof x?(s=e,e=x,x=null):s=arguments[2],A(x)?(r=E.call(x,"c"),f=E.call(x,"e"),a=E.call(x,"w")):(r=a=!0,f=!1),c={value:e,configurable:r,enumerable:f,writable:a},s?i(P(s),c):c};l.gs=function(x,e,r){var f,a,s,c;return"string"!=typeof x?(s=r,r=e,e=x,x=null):s=arguments[3],A(e)?g(e)?A(r)?g(r)||(s=r,r=void 0):r=void 0:(s=e,e=r=void 0):e=void 0,A(x)?(f=E.call(x,"c"),a=E.call(x,"e")):(f=!0,a=!1),c={get:e,set:r,configurable:f,enumerable:a},s?i(P(s),c):c}},33064:function(tt,W,t){"use strict";function A(b,n){return b<n?-1:b>n?1:b>=n?0:NaN}function o(b,n){var F,D,C=b.length,p=-1;if(null==n){for(;++p<C;)if(null!=(F=b[p])&&F>=F)for(D=F;++p<C;)null!=(F=b[p])&&F>D&&(D=F)}else for(;++p<C;)if(null!=(F=n(b[p],p,b))&&F>=F)for(D=F;++p<C;)null!=(F=n(b[p],p,b))&&F>D&&(D=F);return D}function h(b){return null===b?NaN:+b}function M(b,n){var D,C=b.length,p=C,F=-1,N=0;if(null==n)for(;++F<C;)isNaN(D=h(b[F]))?--p:N+=D;else for(;++F<C;)isNaN(D=h(n(b[F],F,b)))?--p:N+=D;if(p)return N/p}function T(b){for(var C,D,N,n=b.length,p=-1,F=0;++p<n;)F+=b[p].length;for(D=new Array(F);--n>=0;)for(C=(N=b[n]).length;--C>=0;)D[--F]=N[C];return D}function L(b,n){var F,D,C=b.length,p=-1;if(null==n){for(;++p<C;)if(null!=(F=b[p])&&F>=F)for(D=F;++p<C;)null!=(F=b[p])&&D>F&&(D=F)}else for(;++p<C;)if(null!=(F=n(b[p],p,b))&&F>=F)for(D=F;++p<C;)null!=(F=n(b[p],p,b))&&D>F&&(D=F);return D}function m(b,n,C){b=+b,n=+n,C=(F=arguments.length)<2?(n=b,b=0,1):F<3?1:+C;for(var p=-1,F=0|Math.max(0,Math.ceil((n-b)/C)),D=new Array(F);++p<F;)D[p]=b+p*C;return D}function S(b,n){var F,C=b.length,p=-1,D=0;if(null==n)for(;++p<C;)(F=+b[p])&&(D+=F);else for(;++p<C;)(F=+n(b[p],p,b))&&(D+=F);return D}t.d(W,{j2:function(){return A},Fp:function(){return o},J6:function(){return M},TS:function(){return T},VV:function(){return L},w6:function(){return m},Sm:function(){return S}}),function g(b){return 1===b.length&&(b=function i(b){return function(n,C){return A(b(n),C)}}(b)),{left:function(n,C,p,F){for(null==p&&(p=0),null==F&&(F=n.length);p<F;){var D=p+F>>>1;b(n[D],C)<0?p=D+1:F=D}return p},right:function(n,C,p,F){for(null==p&&(p=0),null==F&&(F=n.length);p<F;){var D=p+F>>>1;b(n[D],C)>0?F=D:p=D+1}return p}}}(A),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},15140:function(tt,W,t){"use strict";t.d(W,{UI:function(){return P},b1:function(){return E}});var A="$";function g(){}function i(u,y){var v=new g;if(u instanceof g)u.each(function(M,T){v.set(T,M)});else if(Array.isArray(u)){var o,w=-1,d=u.length;if(null==y)for(;++w<d;)v.set(w,u[w]);else for(;++w<d;)v.set(y(o=u[w],w,u),o)}else if(u)for(var h in u)v.set(h,u[h]);return v}g.prototype=i.prototype={constructor:g,has:function(u){return A+u in this},get:function(u){return this[A+u]},set:function(u,y){return this[A+u]=y,this},remove:function(u){var y=A+u;return y in this&&delete this[y]},clear:function(){for(var u in this)u[0]===A&&delete this[u]},keys:function(){var u=[];for(var y in this)y[0]===A&&u.push(y.slice(1));return u},values:function(){var u=[];for(var y in this)y[0]===A&&u.push(this[y]);return u},entries:function(){var u=[];for(var y in this)y[0]===A&&u.push({key:y.slice(1),value:this[y]});return u},size:function(){var u=0;for(var y in this)y[0]===A&&++u;return u},empty:function(){for(var u in this)if(u[0]===A)return!1;return!0},each:function(u){for(var y in this)y[0]===A&&u(this[y],y.slice(1),this)}};var P=i;function E(){var v,w,d,u=[],y=[];function o(M,T,L,m){if(T>=u.length)return null!=v&&M.sort(v),null!=w?w(M):M;for(var C,p,D,S=-1,b=M.length,n=u[T++],F=P(),N=L();++S<b;)(D=F.get(C=n(p=M[S])+""))?D.push(p):F.set(C,[p]);return F.each(function(k,O){m(N,O,o(k,T,L,m))}),N}function h(M,T){if(++T>u.length)return M;var L,m=y[T-1];return null!=w&&T>=u.length?L=M.entries():(L=[],M.each(function(S,b){L.push({key:b,values:h(S,T)})})),null!=m?L.sort(function(S,b){return m(S.key,b.key)}):L}return d={object:function(M){return o(M,0,l,x)},map:function(M){return o(M,0,e,r)},entries:function(M){return h(o(M,0,e,r),0)},key:function(M){return u.push(M),d},sortKeys:function(M){return y[u.length-1]=M,d},sortValues:function(M){return v=M,d},rollup:function(M){return w=M,d}}}function l(){return{}}function x(u,y,v){u[y]=v}function e(){return P()}function r(u,y,v){u.set(y,v)}function f(){}var a=P.prototype;f.prototype=function s(u,y){var v=new f;if(u instanceof f)u.each(function(o){v.add(o)});else if(u){var w=-1,d=u.length;if(null==y)for(;++w<d;)v.add(u[w]);else for(;++w<d;)v.add(y(u[w],w,u))}return v}.prototype={constructor:f,has:a.has,add:function(u){return this[A+(u+="")]=u,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},49887:function(tt,W,t){"use strict";function A(zt,qt){var ae;function oe(){var pe,Fe,ye=ae.length,Zt=0,Ct=0;for(pe=0;pe<ye;++pe)Zt+=(Fe=ae[pe]).x,Ct+=Fe.y;for(Zt=Zt/ye-zt,Ct=Ct/ye-qt,pe=0;pe<ye;++pe)(Fe=ae[pe]).x-=Zt,Fe.y-=Ct}return null==zt&&(zt=0),null==qt&&(qt=0),oe.initialize=function(pe){ae=pe},oe.x=function(pe){return arguments.length?(zt=+pe,oe):zt},oe.y=function(pe){return arguments.length?(qt=+pe,oe):qt},oe}function g(zt){return function(){return zt}}function i(){return 1e-6*(Math.random()-.5)}function E(zt,qt,ae,oe){if(isNaN(qt)||isNaN(ae))return zt;var pe,Ot,It,gt,pt,vt,yt,Yt,Qt,ye=zt._root,Fe={data:oe},Zt=zt._x0,Ct=zt._y0,Et=zt._x1,Rt=zt._y1;if(!ye)return zt._root=Fe,zt;for(;ye.length;)if((vt=qt>=(Ot=(Zt+Et)/2))?Zt=Ot:Et=Ot,(yt=ae>=(It=(Ct+Rt)/2))?Ct=It:Rt=It,pe=ye,!(ye=ye[Yt=yt<<1|vt]))return pe[Yt]=Fe,zt;if(gt=+zt._x.call(null,ye.data),pt=+zt._y.call(null,ye.data),qt===gt&&ae===pt)return Fe.next=ye,pe?pe[Yt]=Fe:zt._root=Fe,zt;do{pe=pe?pe[Yt]=new Array(4):zt._root=new Array(4),(vt=qt>=(Ot=(Zt+Et)/2))?Zt=Ot:Et=Ot,(yt=ae>=(It=(Ct+Rt)/2))?Ct=It:Rt=It}while((Yt=yt<<1|vt)==(Qt=(pt>=It)<<1|gt>=Ot));return pe[Qt]=ye,pe[Yt]=Fe,zt}function f(zt,qt,ae,oe,pe){this.node=zt,this.x0=qt,this.y0=ae,this.x1=oe,this.y1=pe}function d(zt){return zt[0]}function h(zt){return zt[1]}function T(zt,qt,ae){var oe=new L(null==qt?d:qt,null==ae?h:ae,NaN,NaN,NaN,NaN);return null==zt?oe:oe.addAll(zt)}function L(zt,qt,ae,oe,pe,ye){this._x=zt,this._y=qt,this._x0=ae,this._y0=oe,this._x1=pe,this._y1=ye,this._root=void 0}function m(zt){for(var qt={data:zt.data},ae=qt;zt=zt.next;)ae=ae.next={data:zt.data};return qt}t.r(W),t.d(W,{forceCenter:function(){return A},forceCollide:function(){return C},forceLink:function(){return N},forceManyBody:function(){return Vt},forceRadial:function(){return te},forceSimulation:function(){return Pt},forceX:function(){return _t},forceY:function(){return kt}});var S=T.prototype=L.prototype;function b(zt){return zt.x+zt.vx}function n(zt){return zt.y+zt.vy}function C(zt){var qt,ae,oe=1,pe=1;function ye(){for(var Ct,Rt,Ot,It,gt,pt,vt,Et=qt.length,yt=0;yt<pe;++yt)for(Rt=T(qt,b,n).visitAfter(Fe),Ct=0;Ct<Et;++Ct)vt=(pt=ae[(Ot=qt[Ct]).index])*pt,It=Ot.x+Ot.vx,gt=Ot.y+Ot.vy,Rt.visit(Yt);function Yt(Qt,le,he,ke,Oe){var Ae=Qt.data,je=Qt.r,Ze=pt+je;if(!Ae)return le>It+Ze||ke<It-Ze||he>gt+Ze||Oe<gt-Ze;if(Ae.index>Ot.index){var Lr=It-Ae.x-Ae.vx,fe=gt-Ae.y-Ae.vy,Ve=Lr*Lr+fe*fe;Ve<Ze*Ze&&(0===Lr&&(Ve+=(Lr=i())*Lr),0===fe&&(Ve+=(fe=i())*fe),Ve=(Ze-(Ve=Math.sqrt(Ve)))/Ve*oe,Ot.vx+=(Lr*=Ve)*(Ze=(je*=je)/(vt+je)),Ot.vy+=(fe*=Ve)*Ze,Ae.vx-=Lr*(Ze=1-Ze),Ae.vy-=fe*Ze)}}}function Fe(Ct){if(Ct.data)return Ct.r=ae[Ct.data.index];for(var Et=Ct.r=0;Et<4;++Et)Ct[Et]&&Ct[Et].r>Ct.r&&(Ct.r=Ct[Et].r)}function Zt(){if(qt){var Ct,Rt,Et=qt.length;for(ae=new Array(Et),Ct=0;Ct<Et;++Ct)ae[(Rt=qt[Ct]).index]=+zt(Rt,Ct,qt)}}return"function"!=typeof zt&&(zt=g(null==zt?1:+zt)),ye.initialize=function(Ct){qt=Ct,Zt()},ye.iterations=function(Ct){return arguments.length?(pe=+Ct,ye):pe},ye.strength=function(Ct){return arguments.length?(oe=+Ct,ye):oe},ye.radius=function(Ct){return arguments.length?(zt="function"==typeof Ct?Ct:g(+Ct),Zt(),ye):zt},ye}S.copy=function(){var ae,oe,zt=new L(this._x,this._y,this._x0,this._y0,this._x1,this._y1),qt=this._root;if(!qt)return zt;if(!qt.length)return zt._root=m(qt),zt;for(ae=[{source:qt,target:zt._root=new Array(4)}];qt=ae.pop();)for(var pe=0;pe<4;++pe)(oe=qt.source[pe])&&(oe.length?ae.push({source:oe,target:qt.target[pe]=new Array(4)}):qt.target[pe]=m(oe));return zt},S.add=function P(zt){var qt=+this._x.call(null,zt),ae=+this._y.call(null,zt);return E(this.cover(qt,ae),qt,ae,zt)},S.addAll=function l(zt){var qt,ae,pe,ye,oe=zt.length,Fe=new Array(oe),Zt=new Array(oe),Ct=1/0,Et=1/0,Rt=-1/0,Ot=-1/0;for(ae=0;ae<oe;++ae)isNaN(pe=+this._x.call(null,qt=zt[ae]))||isNaN(ye=+this._y.call(null,qt))||(Fe[ae]=pe,Zt[ae]=ye,pe<Ct&&(Ct=pe),pe>Rt&&(Rt=pe),ye<Et&&(Et=ye),ye>Ot&&(Ot=ye));if(Ct>Rt||Et>Ot)return this;for(this.cover(Ct,Et).cover(Rt,Ot),ae=0;ae<oe;++ae)E(this,Fe[ae],Zt[ae],zt[ae]);return this},S.cover=function x(zt,qt){if(isNaN(zt=+zt)||isNaN(qt=+qt))return this;var ae=this._x0,oe=this._y0,pe=this._x1,ye=this._y1;if(isNaN(ae))pe=(ae=Math.floor(zt))+1,ye=(oe=Math.floor(qt))+1;else{for(var Ct,Et,Fe=pe-ae,Zt=this._root;ae>zt||zt>=pe||oe>qt||qt>=ye;)switch(Et=(qt<oe)<<1|zt<ae,Ct=new Array(4),Ct[Et]=Zt,Zt=Ct,Fe*=2,Et){case 0:pe=ae+Fe,ye=oe+Fe;break;case 1:ae=pe-Fe,ye=oe+Fe;break;case 2:pe=ae+Fe,oe=ye-Fe;break;case 3:ae=pe-Fe,oe=ye-Fe}this._root&&this._root.length&&(this._root=Zt)}return this._x0=ae,this._y0=oe,this._x1=pe,this._y1=ye,this},S.data=function e(){var zt=[];return this.visit(function(qt){if(!qt.length)do{zt.push(qt.data)}while(qt=qt.next)}),zt},S.extent=function r(zt){return arguments.length?this.cover(+zt[0][0],+zt[0][1]).cover(+zt[1][0],+zt[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},S.find=function a(zt,qt,ae){var oe,Fe,Zt,Ct,Et,pt,vt,pe=this._x0,ye=this._y0,Rt=this._x1,Ot=this._y1,It=[],gt=this._root;for(gt&&It.push(new f(gt,pe,ye,Rt,Ot)),null==ae?ae=1/0:(pe=zt-ae,ye=qt-ae,Rt=zt+ae,Ot=qt+ae,ae*=ae);pt=It.pop();)if(!(!(gt=pt.node)||(Fe=pt.x0)>Rt||(Zt=pt.y0)>Ot||(Ct=pt.x1)<pe||(Et=pt.y1)<ye))if(gt.length){var yt=(Fe+Ct)/2,Yt=(Zt+Et)/2;It.push(new f(gt[3],yt,Yt,Ct,Et),new f(gt[2],Fe,Yt,yt,Et),new f(gt[1],yt,Zt,Ct,Yt),new f(gt[0],Fe,Zt,yt,Yt)),(vt=(qt>=Yt)<<1|zt>=yt)&&(pt=It[It.length-1],It[It.length-1]=It[It.length-1-vt],It[It.length-1-vt]=pt)}else{var Qt=zt-+this._x.call(null,gt.data),le=qt-+this._y.call(null,gt.data),he=Qt*Qt+le*le;if(he<ae){var ke=Math.sqrt(ae=he);pe=zt-ke,ye=qt-ke,Rt=zt+ke,Ot=qt+ke,oe=gt.data}}return oe},S.remove=function s(zt){if(isNaN(Rt=+this._x.call(null,zt))||isNaN(Ot=+this._y.call(null,zt)))return this;var qt,oe,pe,ye,Rt,Ot,It,gt,pt,vt,yt,Yt,ae=this._root,Fe=this._x0,Zt=this._y0,Ct=this._x1,Et=this._y1;if(!ae)return this;if(ae.length)for(;;){if((pt=Rt>=(It=(Fe+Ct)/2))?Fe=It:Ct=It,(vt=Ot>=(gt=(Zt+Et)/2))?Zt=gt:Et=gt,qt=ae,!(ae=ae[yt=vt<<1|pt]))return this;if(!ae.length)break;(qt[yt+1&3]||qt[yt+2&3]||qt[yt+3&3])&&(oe=qt,Yt=yt)}for(;ae.data!==zt;)if(pe=ae,!(ae=ae.next))return this;return(ye=ae.next)&&delete ae.next,pe?(ye?pe.next=ye:delete pe.next,this):qt?(ye?qt[yt]=ye:delete qt[yt],(ae=qt[0]||qt[1]||qt[2]||qt[3])&&ae===(qt[3]||qt[2]||qt[1]||qt[0])&&!ae.length&&(oe?oe[Yt]=ae:this._root=ae),this):(this._root=ye,this)},S.removeAll=function c(zt){for(var qt=0,ae=zt.length;qt<ae;++qt)this.remove(zt[qt]);return this},S.root=function u(){return this._root},S.size=function y(){var zt=0;return this.visit(function(qt){if(!qt.length)do{++zt}while(qt=qt.next)}),zt},S.visit=function v(zt){var ae,pe,ye,Fe,Zt,Ct,qt=[],oe=this._root;for(oe&&qt.push(new f(oe,this._x0,this._y0,this._x1,this._y1));ae=qt.pop();)if(!zt(oe=ae.node,ye=ae.x0,Fe=ae.y0,Zt=ae.x1,Ct=ae.y1)&&oe.length){var Et=(ye+Zt)/2,Rt=(Fe+Ct)/2;(pe=oe[3])&&qt.push(new f(pe,Et,Rt,Zt,Ct)),(pe=oe[2])&&qt.push(new f(pe,ye,Rt,Et,Ct)),(pe=oe[1])&&qt.push(new f(pe,Et,Fe,Zt,Rt)),(pe=oe[0])&&qt.push(new f(pe,ye,Fe,Et,Rt))}return this},S.visitAfter=function w(zt){var oe,qt=[],ae=[];for(this._root&&qt.push(new f(this._root,this._x0,this._y0,this._x1,this._y1));oe=qt.pop();){var pe=oe.node;if(pe.length){var ye,Fe=oe.x0,Zt=oe.y0,Ct=oe.x1,Et=oe.y1,Rt=(Fe+Ct)/2,Ot=(Zt+Et)/2;(ye=pe[0])&&qt.push(new f(ye,Fe,Zt,Rt,Ot)),(ye=pe[1])&&qt.push(new f(ye,Rt,Zt,Ct,Ot)),(ye=pe[2])&&qt.push(new f(ye,Fe,Ot,Rt,Et)),(ye=pe[3])&&qt.push(new f(ye,Rt,Ot,Ct,Et))}ae.push(oe)}for(;oe=ae.pop();)zt(oe.node,oe.x0,oe.y0,oe.x1,oe.y1);return this},S.x=function o(zt){return arguments.length?(this._x=zt,this):this._x},S.y=function M(zt){return arguments.length?(this._y=zt,this):this._y};var p=t(15140);function F(zt){return zt.index}function D(zt,qt){var ae=zt.get(qt);if(!ae)throw new Error("missing: "+qt);return ae}function N(zt){var oe,ye,Fe,Zt,Ct,qt=F,ae=function Rt(vt){return 1/Math.min(Zt[vt.source.index],Zt[vt.target.index])},pe=g(30),Et=1;function Ot(vt){for(var yt=0,Yt=zt.length;yt<Et;++yt)for(var le,he,ke,Oe,Ae,je,Ze,Qt=0;Qt<Yt;++Qt)Oe=(ke=(le=zt[Qt]).target).x+ke.vx-(he=le.source).x-he.vx||i(),Ae=ke.y+ke.vy-he.y-he.vy||i(),Ae*=je=((je=Math.sqrt(Oe*Oe+Ae*Ae))-ye[Qt])/je*vt*oe[Qt],ke.vx-=(Oe*=je)*(Ze=Ct[Qt]),ke.vy-=Ae*Ze,he.vx+=Oe*(Ze=1-Ze),he.vy+=Ae*Ze}function It(){if(Fe){var vt,le,yt=Fe.length,Yt=zt.length,Qt=(0,p.UI)(Fe,qt);for(vt=0,Zt=new Array(yt);vt<Yt;++vt)(le=zt[vt]).index=vt,"object"!=typeof le.source&&(le.source=D(Qt,le.source)),"object"!=typeof le.target&&(le.target=D(Qt,le.target)),Zt[le.source.index]=(Zt[le.source.index]||0)+1,Zt[le.target.index]=(Zt[le.target.index]||0)+1;for(vt=0,Ct=new Array(Yt);vt<Yt;++vt)Ct[vt]=Zt[(le=zt[vt]).source.index]/(Zt[le.source.index]+Zt[le.target.index]);oe=new Array(Yt),gt(),ye=new Array(Yt),pt()}}function gt(){if(Fe)for(var vt=0,yt=zt.length;vt<yt;++vt)oe[vt]=+ae(zt[vt],vt,zt)}function pt(){if(Fe)for(var vt=0,yt=zt.length;vt<yt;++vt)ye[vt]=+pe(zt[vt],vt,zt)}return null==zt&&(zt=[]),Ot.initialize=function(vt){Fe=vt,It()},Ot.links=function(vt){return arguments.length?(zt=vt,It(),Ot):zt},Ot.id=function(vt){return arguments.length?(qt=vt,Ot):qt},Ot.iterations=function(vt){return arguments.length?(Et=+vt,Ot):Et},Ot.strength=function(vt){return arguments.length?(ae="function"==typeof vt?vt:g(+vt),gt(),Ot):ae},Ot.distance=function(vt){return arguments.length?(pe="function"==typeof vt?vt:g(+vt),pt(),Ot):pe},Ot}var k={value:function(){}};function O(){for(var oe,zt=0,qt=arguments.length,ae={};zt<qt;++zt){if(!(oe=arguments[zt]+"")||oe in ae||/[\s.]/.test(oe))throw new Error("illegal type: "+oe);ae[oe]=[]}return new B(ae)}function B(zt){this._=zt}function z(zt,qt){return zt.trim().split(/^|\s+/).map(function(ae){var oe="",pe=ae.indexOf(".");if(pe>=0&&(oe=ae.slice(pe+1),ae=ae.slice(0,pe)),ae&&!qt.hasOwnProperty(ae))throw new Error("unknown type: "+ae);return{type:ae,name:oe}})}function U(zt,qt){for(var pe,ae=0,oe=zt.length;ae<oe;++ae)if((pe=zt[ae]).name===qt)return pe.value}function G(zt,qt,ae){for(var oe=0,pe=zt.length;oe<pe;++oe)if(zt[oe].name===qt){zt[oe]=k,zt=zt.slice(0,oe).concat(zt.slice(oe+1));break}return null!=ae&&zt.push({name:qt,value:ae}),zt}B.prototype=O.prototype={constructor:B,on:function(zt,qt){var pe,ae=this._,oe=z(zt+"",ae),ye=-1,Fe=oe.length;if(!(arguments.length<2)){if(null!=qt&&"function"!=typeof qt)throw new Error("invalid callback: "+qt);for(;++ye<Fe;)if(pe=(zt=oe[ye]).type)ae[pe]=G(ae[pe],zt.name,qt);else if(null==qt)for(pe in ae)ae[pe]=G(ae[pe],zt.name,null);return this}for(;++ye<Fe;)if((pe=(zt=oe[ye]).type)&&(pe=U(ae[pe],zt.name)))return pe},copy:function(){var zt={},qt=this._;for(var ae in qt)zt[ae]=qt[ae].slice();return new B(zt)},call:function(zt,qt){if((pe=arguments.length-2)>0)for(var pe,ye,ae=new Array(pe),oe=0;oe<pe;++oe)ae[oe]=arguments[oe+2];if(!this._.hasOwnProperty(zt))throw new Error("unknown type: "+zt);for(oe=0,pe=(ye=this._[zt]).length;oe<pe;++oe)ye[oe].value.apply(qt,ae)},apply:function(zt,qt,ae){if(!this._.hasOwnProperty(zt))throw new Error("unknown type: "+zt);for(var oe=this._[zt],pe=0,ye=oe.length;pe<ye;++pe)oe[pe].value.apply(qt,ae)}};var j,Z,Q=O,rt=0,it=0,ut=0,H=0,X=0,at=0,_="object"==typeof performance&&performance.now?performance:Date,K="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(zt){setTimeout(zt,17)};function nt(){return X||(K(et),X=_.now()+at)}function et(){X=0}function st(){this._call=this._time=this._next=null}function dt(zt,qt,ae){var oe=new st;return oe.restart(zt,qt,ae),oe}function bt(){X=(H=_.now())+at,rt=it=0;try{!function Tt(){nt(),++rt;for(var qt,zt=j;zt;)(qt=X-zt._time)>=0&&zt._call.call(null,qt),zt=zt._next;--rt}()}finally{rt=0,function Ft(){for(var zt,ae,qt=j,oe=1/0;qt;)qt._call?(oe>qt._time&&(oe=qt._time),zt=qt,qt=qt._next):(ae=qt._next,qt._next=null,qt=zt?zt._next=ae:j=ae);Z=zt,Mt(oe)}(),X=0}}function Dt(){var zt=_.now(),qt=zt-H;qt>1e3&&(at-=qt,H=zt)}function Mt(zt){rt||(it&&(it=clearTimeout(it)),zt-X>24?(zt<1/0&&(it=setTimeout(bt,zt-_.now()-at)),ut&&(ut=clearInterval(ut))):(ut||(H=_.now(),ut=setInterval(Dt,1e3)),rt=1,K(bt)))}function wt(zt){return zt.x}function St(zt){return zt.y}st.prototype=dt.prototype={constructor:st,restart:function(zt,qt,ae){if("function"!=typeof zt)throw new TypeError("callback is not a function");ae=(null==ae?nt():+ae)+(null==qt?0:+qt),!this._next&&Z!==this&&(Z?Z._next=this:j=this,Z=this),this._call=zt,this._time=ae,Mt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mt())}};var Gt=Math.PI*(3-Math.sqrt(5));function Pt(zt){var qt,ae=1,oe=.001,pe=1-Math.pow(oe,1/300),ye=0,Fe=.6,Zt=(0,p.UI)(),Ct=dt(Rt),Et=Q("tick","end");function Rt(){Ot(),Et.call("tick",qt),ae<oe&&(Ct.stop(),Et.call("end",qt))}function Ot(pt){var vt,Yt,yt=zt.length;void 0===pt&&(pt=1);for(var Qt=0;Qt<pt;++Qt)for(ae+=(ye-ae)*pe,Zt.each(function(le){le(ae)}),vt=0;vt<yt;++vt)null==(Yt=zt[vt]).fx?Yt.x+=Yt.vx*=Fe:(Yt.x=Yt.fx,Yt.vx=0),null==Yt.fy?Yt.y+=Yt.vy*=Fe:(Yt.y=Yt.fy,Yt.vy=0);return qt}function It(){for(var yt,pt=0,vt=zt.length;pt<vt;++pt){if((yt=zt[pt]).index=pt,null!=yt.fx&&(yt.x=yt.fx),null!=yt.fy&&(yt.y=yt.fy),isNaN(yt.x)||isNaN(yt.y)){var Yt=10*Math.sqrt(pt),Qt=pt*Gt;yt.x=Yt*Math.cos(Qt),yt.y=Yt*Math.sin(Qt)}(isNaN(yt.vx)||isNaN(yt.vy))&&(yt.vx=yt.vy=0)}}function gt(pt){return pt.initialize&&pt.initialize(zt),pt}return null==zt&&(zt=[]),It(),qt={tick:Ot,restart:function(){return Ct.restart(Rt),qt},stop:function(){return Ct.stop(),qt},nodes:function(pt){return arguments.length?(zt=pt,It(),Zt.each(gt),qt):zt},alpha:function(pt){return arguments.length?(ae=+pt,qt):ae},alphaMin:function(pt){return arguments.length?(oe=+pt,qt):oe},alphaDecay:function(pt){return arguments.length?(pe=+pt,qt):+pe},alphaTarget:function(pt){return arguments.length?(ye=+pt,qt):ye},velocityDecay:function(pt){return arguments.length?(Fe=1-pt,qt):1-Fe},force:function(pt,vt){return arguments.length>1?(null==vt?Zt.remove(pt):Zt.set(pt,gt(vt)),qt):Zt.get(pt)},find:function(pt,vt,yt){var le,he,ke,Oe,Ae,Yt=0,Qt=zt.length;for(null==yt?yt=1/0:yt*=yt,Yt=0;Yt<Qt;++Yt)(ke=(le=pt-(Oe=zt[Yt]).x)*le+(he=vt-Oe.y)*he)<yt&&(Ae=Oe,yt=ke);return Ae},on:function(pt,vt){return arguments.length>1?(Et.on(pt,vt),qt):Et.on(pt)}}}function Vt(){var zt,qt,ae,pe,oe=g(-30),ye=1,Fe=1/0,Zt=.81;function Ct(It){var gt,pt=zt.length,vt=T(zt,wt,St).visitAfter(Rt);for(ae=It,gt=0;gt<pt;++gt)qt=zt[gt],vt.visit(Ot)}function Et(){if(zt){var It,pt,gt=zt.length;for(pe=new Array(gt),It=0;It<gt;++It)pe[(pt=zt[It]).index]=+oe(pt,It,zt)}}function Rt(It){var pt,vt,Yt,Qt,le,gt=0,yt=0;if(It.length){for(Yt=Qt=le=0;le<4;++le)(pt=It[le])&&(vt=Math.abs(pt.value))&&(gt+=pt.value,yt+=vt,Yt+=vt*pt.x,Qt+=vt*pt.y);It.x=Yt/yt,It.y=Qt/yt}else{(pt=It).x=pt.data.x,pt.y=pt.data.y;do{gt+=pe[pt.data.index]}while(pt=pt.next)}It.value=gt}function Ot(It,gt,pt,vt){if(!It.value)return!0;var yt=It.x-qt.x,Yt=It.y-qt.y,Qt=vt-gt,le=yt*yt+Yt*Yt;if(Qt*Qt/Zt<le)return le<Fe&&(0===yt&&(le+=(yt=i())*yt),0===Yt&&(le+=(Yt=i())*Yt),le<ye&&(le=Math.sqrt(ye*le)),qt.vx+=yt*It.value*ae/le,qt.vy+=Yt*It.value*ae/le),!0;if(!(It.length||le>=Fe)){(It.data!==qt||It.next)&&(0===yt&&(le+=(yt=i())*yt),0===Yt&&(le+=(Yt=i())*Yt),le<ye&&(le=Math.sqrt(ye*le)));do{It.data!==qt&&(qt.vx+=yt*(Qt=pe[It.data.index]*ae/le),qt.vy+=Yt*Qt)}while(It=It.next)}}return Ct.initialize=function(It){zt=It,Et()},Ct.strength=function(It){return arguments.length?(oe="function"==typeof It?It:g(+It),Et(),Ct):oe},Ct.distanceMin=function(It){return arguments.length?(ye=It*It,Ct):Math.sqrt(ye)},Ct.distanceMax=function(It){return arguments.length?(Fe=It*It,Ct):Math.sqrt(Fe)},Ct.theta=function(It){return arguments.length?(Zt=It*It,Ct):Math.sqrt(Zt)},Ct}function te(zt,qt,ae){var oe,ye,Fe,pe=g(.1);function Zt(Et){for(var Rt=0,Ot=oe.length;Rt<Ot;++Rt){var It=oe[Rt],gt=It.x-qt||1e-6,pt=It.y-ae||1e-6,vt=Math.sqrt(gt*gt+pt*pt),yt=(Fe[Rt]-vt)*ye[Rt]*Et/vt;It.vx+=gt*yt,It.vy+=pt*yt}}function Ct(){if(oe){var Et,Rt=oe.length;for(ye=new Array(Rt),Fe=new Array(Rt),Et=0;Et<Rt;++Et)Fe[Et]=+zt(oe[Et],Et,oe),ye[Et]=isNaN(Fe[Et])?0:+pe(oe[Et],Et,oe)}}return"function"!=typeof zt&&(zt=g(+zt)),null==qt&&(qt=0),null==ae&&(ae=0),Zt.initialize=function(Et){oe=Et,Ct()},Zt.strength=function(Et){return arguments.length?(pe="function"==typeof Et?Et:g(+Et),Ct(),Zt):pe},Zt.radius=function(Et){return arguments.length?(zt="function"==typeof Et?Et:g(+Et),Ct(),Zt):zt},Zt.x=function(Et){return arguments.length?(qt=+Et,Zt):qt},Zt.y=function(Et){return arguments.length?(ae=+Et,Zt):ae},Zt}function _t(zt){var ae,oe,pe,qt=g(.1);function ye(Zt){for(var Rt,Ct=0,Et=ae.length;Ct<Et;++Ct)(Rt=ae[Ct]).vx+=(pe[Ct]-Rt.x)*oe[Ct]*Zt}function Fe(){if(ae){var Zt,Ct=ae.length;for(oe=new Array(Ct),pe=new Array(Ct),Zt=0;Zt<Ct;++Zt)oe[Zt]=isNaN(pe[Zt]=+zt(ae[Zt],Zt,ae))?0:+qt(ae[Zt],Zt,ae)}}return"function"!=typeof zt&&(zt=g(null==zt?0:+zt)),ye.initialize=function(Zt){ae=Zt,Fe()},ye.strength=function(Zt){return arguments.length?(qt="function"==typeof Zt?Zt:g(+Zt),Fe(),ye):qt},ye.x=function(Zt){return arguments.length?(zt="function"==typeof Zt?Zt:g(+Zt),Fe(),ye):zt},ye}function kt(zt){var ae,oe,pe,qt=g(.1);function ye(Zt){for(var Rt,Ct=0,Et=ae.length;Ct<Et;++Ct)(Rt=ae[Ct]).vy+=(pe[Ct]-Rt.y)*oe[Ct]*Zt}function Fe(){if(ae){var Zt,Ct=ae.length;for(oe=new Array(Ct),pe=new Array(Ct),Zt=0;Zt<Ct;++Zt)oe[Zt]=isNaN(pe[Zt]=+zt(ae[Zt],Zt,ae))?0:+qt(ae[Zt],Zt,ae)}}return"function"!=typeof zt&&(zt=g(null==zt?0:+zt)),ye.initialize=function(Zt){ae=Zt,Fe()},ye.strength=function(Zt){return arguments.length?(qt="function"==typeof Zt?Zt:g(+Zt),Fe(),ye):qt},ye.y=function(Zt){return arguments.length?(zt="function"==typeof Zt?Zt:g(+Zt),Fe(),ye):zt},ye}},60721:function(tt,W,t){"use strict";function g(T,L){if((m=(T=L?T.toExponential(L-1):T.toExponential()).indexOf("e"))<0)return null;var m,S=T.slice(0,m);return[S.length>1?S[0]+S.slice(2):S,+T.slice(m+1)]}t.d(W,{WU:function(){return o},FF:function(){return w}});var f,l=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function x(T){if(!(L=l.exec(T)))throw new Error("invalid format: "+T);var L;return new e({fill:L[1],align:L[2],sign:L[3],symbol:L[4],zero:L[5],width:L[6],comma:L[7],precision:L[8]&&L[8].slice(1),trim:L[9],type:L[10]})}function e(T){this.fill=void 0===T.fill?" ":T.fill+"",this.align=void 0===T.align?">":T.align+"",this.sign=void 0===T.sign?"-":T.sign+"",this.symbol=void 0===T.symbol?"":T.symbol+"",this.zero=!!T.zero,this.width=void 0===T.width?void 0:+T.width,this.comma=!!T.comma,this.precision=void 0===T.precision?void 0:+T.precision,this.trim=!!T.trim,this.type=void 0===T.type?"":T.type+""}function s(T,L){var m=g(T,L);if(!m)return T+"";var S=m[0],b=m[1];return b<0?"0."+new Array(-b).join("0")+S:S.length>b+1?S.slice(0,b+1)+"."+S.slice(b+1):S+new Array(b-S.length+2).join("0")}x.prototype=e.prototype,e.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var c={"%":function(T,L){return(100*T).toFixed(L)},b:function(T){return Math.round(T).toString(2)},c:function(T){return T+""},d:function A(T){return Math.abs(T=Math.round(T))>=1e21?T.toLocaleString("en").replace(/,/g,""):T.toString(10)},e:function(T,L){return T.toExponential(L)},f:function(T,L){return T.toFixed(L)},g:function(T,L){return T.toPrecision(L)},o:function(T){return Math.round(T).toString(8)},p:function(T,L){return s(100*T,L)},r:s,s:function a(T,L){var m=g(T,L);if(!m)return T+"";var S=m[0],b=m[1],n=b-(f=3*Math.max(-8,Math.min(8,Math.floor(b/3))))+1,C=S.length;return n===C?S:n>C?S+new Array(n-C+1).join("0"):n>0?S.slice(0,n)+"."+S.slice(n):"0."+new Array(1-n).join("0")+g(T,Math.max(0,L+n-1))[0]},X:function(T){return Math.round(T).toString(16).toUpperCase()},x:function(T){return Math.round(T).toString(16)}};function u(T){return T}var d,o,y=Array.prototype.map,v=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function w(T){var L=void 0===T.grouping||void 0===T.thousands?u:function P(T,L){return function(m,S){for(var b=m.length,n=[],C=0,p=T[0],F=0;b>0&&p>0&&(F+p+1>S&&(p=Math.max(1,S-F)),n.push(m.substring(b-=p,b+p)),!((F+=p+1)>S));)p=T[C=(C+1)%T.length];return n.reverse().join(L)}}(y.call(T.grouping,Number),T.thousands+""),m=void 0===T.currency?"":T.currency[0]+"",S=void 0===T.currency?"":T.currency[1]+"",b=void 0===T.decimal?".":T.decimal+"",n=void 0===T.numerals?u:function E(T){return function(L){return L.replace(/[0-9]/g,function(m){return T[+m]})}}(y.call(T.numerals,String)),C=void 0===T.percent?"%":T.percent+"",p=void 0===T.minus?"-":T.minus+"",F=void 0===T.nan?"NaN":T.nan+"";function D(k){var O=(k=x(k)).fill,B=k.align,z=k.sign,U=k.symbol,G=k.zero,Q=k.width,rt=k.comma,it=k.precision,ut=k.trim,J=k.type;"n"===J?(rt=!0,J="g"):c[J]||(void 0===it&&(it=12),ut=!0,J="g"),(G||"0"===O&&"="===B)&&(G=!0,O="0",B="=");var j="$"===U?m:"#"===U&&/[boxX]/.test(J)?"0"+J.toLowerCase():"",Z="$"===U?S:/[%p]/.test(J)?C:"",H=c[J],X=/[defgprs%]/.test(J);function at(_){var et,st,dt,K=j,nt=Z;if("c"===J)nt=H(_)+nt,_="";else{var Tt=(_=+_)<0||1/_<0;if(_=isNaN(_)?F:H(Math.abs(_),it),ut&&(_=function r(T){t:for(var b,L=T.length,m=1,S=-1;m<L;++m)switch(T[m]){case".":S=b=m;break;case"0":0===S&&(S=m),b=m;break;default:if(!+T[m])break t;S>0&&(S=0)}return S>0?T.slice(0,S)+T.slice(b+1):T}(_)),Tt&&0==+_&&"+"!==z&&(Tt=!1),K=(Tt?"("===z?z:p:"-"===z||"("===z?"":z)+K,nt=("s"===J?v[8+f/3]:"")+nt+(Tt&&"("===z?")":""),X)for(et=-1,st=_.length;++et<st;)if(48>(dt=_.charCodeAt(et))||dt>57){nt=(46===dt?b+_.slice(et+1):_.slice(et))+nt,_=_.slice(0,et);break}}rt&&!G&&(_=L(_,1/0));var bt=K.length+_.length+nt.length,Dt=bt<Q?new Array(Q-bt+1).join(O):"";switch(rt&&G&&(_=L(Dt+_,Dt.length?Q-nt.length:1/0),Dt=""),B){case"<":_=K+_+nt+Dt;break;case"=":_=K+Dt+_+nt;break;case"^":_=Dt.slice(0,bt=Dt.length>>1)+K+_+nt+Dt.slice(bt);break;default:_=Dt+K+_+nt}return n(_)}return it=void 0===it?6:/[gprs]/.test(J)?Math.max(1,Math.min(21,it)):Math.max(0,Math.min(20,it)),at.toString=function(){return k+""},at}return{format:D,formatPrefix:function N(k,O){var B=D(((k=x(k)).type="f",k)),z=3*Math.max(-8,Math.min(8,Math.floor(function i(T){return(T=g(Math.abs(T)))?T[1]:NaN}(O)/3))),U=Math.pow(10,-z),G=v[8+z/3];return function(Q){return B(U*Q)+G}}}}!function M(T){return d=w(T),o=d.format,d}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})},65704:function(tt,W,t){"use strict";t.r(W),t.d(W,{geoAiry:function(){return G},geoAiryRaw:function(){return U},geoAitoff:function(){return rt},geoAitoffRaw:function(){return Q},geoArmadillo:function(){return ut},geoArmadilloRaw:function(){return it},geoAugust:function(){return j},geoAugustRaw:function(){return J},geoBaker:function(){return at},geoBakerRaw:function(){return X},geoBerghaus:function(){return nt},geoBerghausRaw:function(){return K},geoBertin1953:function(){return Mt},geoBertin1953Raw:function(){return Ft},geoBoggs:function(){return _t},geoBoggsRaw:function(){return te},geoBonne:function(){return oe},geoBonneRaw:function(){return ae},geoBottomley:function(){return ye},geoBottomleyRaw:function(){return pe},geoBromley:function(){return Zt},geoBromleyRaw:function(){return Fe},geoChamberlin:function(){return yt},geoChamberlinAfrica:function(){return vt},geoChamberlinRaw:function(){return gt},geoCollignon:function(){return Qt},geoCollignonRaw:function(){return Yt},geoCraig:function(){return he},geoCraigRaw:function(){return le},geoCraster:function(){return Ae},geoCrasterRaw:function(){return Oe},geoCylindricalEqualArea:function(){return Ze},geoCylindricalEqualAreaRaw:function(){return je},geoCylindricalStereographic:function(){return fe},geoCylindricalStereographicRaw:function(){return Lr},geoEckert1:function(){return He},geoEckert1Raw:function(){return Ve},geoEckert2:function(){return ar},geoEckert2Raw:function(){return wr},geoEckert3:function(){return ne},geoEckert3Raw:function(){return ie},geoEckert4:function(){return xe},geoEckert4Raw:function(){return ve},geoEckert5:function(){return be},geoEckert5Raw:function(){return Te},geoEckert6:function(){return Be},geoEckert6Raw:function(){return Pe},geoEisenlohr:function(){return tr},geoEisenlohrRaw:function(){return Ke},geoFahey:function(){return Nt},geoFaheyRaw:function(){return Ht},geoFoucaut:function(){return Le},geoFoucautRaw:function(){return Se},geoFoucautSinusoidal:function(){return rr},geoFoucautSinusoidalRaw:function(){return We},geoGilbert:function(){return gr},geoGingery:function(){return Er},geoGingeryRaw:function(){return dr},geoGinzburg4:function(){return zr},geoGinzburg4Raw:function(){return rn},geoGinzburg5:function(){return An},geoGinzburg5Raw:function(){return Pn},geoGinzburg6:function(){return yr},geoGinzburg6Raw:function(){return lr},geoGinzburg8:function(){return Br},geoGinzburg8Raw:function(){return Fr},geoGinzburg9:function(){return dn},geoGinzburg9Raw:function(){return _r},geoGringorten:function(){return Gn},geoGringortenQuincuncial:function(){return cu},geoGringortenRaw:function(){return xn},geoGuyou:function(){return Fn},geoGuyouRaw:function(){return an},geoHammer:function(){return Tt},geoHammerRaw:function(){return st},geoHammerRetroazimuthal:function(){return Jn},geoHammerRetroazimuthalRaw:function(){return Ln},geoHealpix:function(){return Cr},geoHealpixRaw:function(){return vn},geoHill:function(){return Ge},geoHillRaw:function(){return Mr},geoHomolosine:function(){return gn},geoHomolosineRaw:function(){return Yr},geoHufnagel:function(){return ta},geoHufnagelRaw:function(){return Zn},geoHyperelliptical:function(){return qi},geoHyperellipticalRaw:function(){return Si},geoInterrupt:function(){return co},geoInterruptedBoggs:function(){return Yo},geoInterruptedHomolosine:function(){return Ei},geoInterruptedMollweide:function(){return qs},geoInterruptedMollweideHemispheres:function(){return Ci},geoInterruptedQuarticAuthalic:function(){return Fl},geoInterruptedSinuMollweide:function(){return ho},geoInterruptedSinusoidal:function(){return $l},geoKavrayskiy7:function(){return Ro},geoKavrayskiy7Raw:function(){return Ii},geoLagrange:function(){return Su},geoLagrangeRaw:function(){return Ui},geoLarrivee:function(){return no},geoLarriveeRaw:function(){return el},geoLaskowski:function(){return Eu},geoLaskowskiRaw:function(){return wi},geoLittrow:function(){return rs},geoLittrowRaw:function(){return Io},geoLoximuthal:function(){return Cu},geoLoximuthalRaw:function(){return Cl},geoMiller:function(){return Pl},geoMillerRaw:function(){return Ll},geoModifiedStereographic:function(){return ns},geoModifiedStereographicAlaska:function(){return Pu},geoModifiedStereographicGs48:function(){return uf},geoModifiedStereographicGs50:function(){return ff},geoModifiedStereographicLee:function(){return cf},geoModifiedStereographicMiller:function(){return Du},geoModifiedStereographicRaw:function(){return Lu},geoMollweide:function(){return Gt},geoMollweideRaw:function(){return Ut},geoMtFlatPolarParabolic:function(){return ql},geoMtFlatPolarParabolicRaw:function(){return Dl},geoMtFlatPolarQuartic:function(){return hf},geoMtFlatPolarQuarticRaw:function(){return Rl},geoMtFlatPolarSinusoidal:function(){return xo},geoMtFlatPolarSinusoidalRaw:function(){return as},geoNaturalEarth:function(){return rl.Z},geoNaturalEarth2:function(){return Il},geoNaturalEarth2Raw:function(){return ms},geoNaturalEarthRaw:function(){return rl.K},geoNellHammer:function(){return is},geoNellHammerRaw:function(){return lo},geoNicolosi:function(){return Li},geoNicolosiRaw:function(){return bo},geoPatterson:function(){return Fo},geoPattersonRaw:function(){return xs},geoPeirceQuincuncial:function(){return hu},geoPierceQuincuncial:function(){return hu},geoPolyconic:function(){return iu},geoPolyconicRaw:function(){return au},geoPolyhedral:function(){return Ns},geoPolyhedralButterfly:function(){return Xo},geoPolyhedralCollignon:function(){return os},geoPolyhedralWaterman:function(){return ss},geoProject:function(){return df},geoQuantize:function(){return pf},geoQuincuncial:function(){return fu},geoRectangularPolyconic:function(){return fs},geoRectangularPolyconicRaw:function(){return us},geoRobinson:function(){return Nl},geoRobinsonRaw:function(){return ol},geoSatellite:function(){return cs},geoSatelliteRaw:function(){return Vu},geoSinuMollweide:function(){return ir},geoSinuMollweideRaw:function(){return Ye},geoSinusoidal:function(){return qt},geoSinusoidalRaw:function(){return zt},geoStitch:function(){return Ao},geoTimes:function(){return hs},geoTimesRaw:function(){return hl},geoTwoPointAzimuthal:function(){return Hl},geoTwoPointAzimuthalRaw:function(){return Ws},geoTwoPointAzimuthalUsa:function(){return Wu},geoTwoPointEquidistant:function(){return Gl},geoTwoPointEquidistantRaw:function(){return Ti},geoTwoPointEquidistantUsa:function(){return pu},geoVanDerGrinten:function(){return vs},geoVanDerGrinten2:function(){return gf},geoVanDerGrinten2Raw:function(){return gu},geoVanDerGrinten3:function(){return Zs},geoVanDerGrinten3Raw:function(){return Ys},geoVanDerGrinten4:function(){return pl},geoVanDerGrinten4Raw:function(){return dl},geoVanDerGrintenRaw:function(){return Ss},geoWagner:function(){return Es},geoWagner4:function(){return Xs},geoWagner4Raw:function(){return Oo},geoWagner6:function(){return Zu},geoWagner6Raw:function(){return Cs},geoWagner7:function(){return ao},geoWagnerRaw:function(){return yu},geoWiechel:function(){return Xu},geoWiechelRaw:function(){return Yl},geoWinkel3:function(){return xu},geoWinkel3Raw:function(){return yl}});var A=t(15002),g=Math.abs,i=Math.atan,P=Math.atan2,l=(Math,Math.cos),x=Math.exp,e=Math.floor,r=Math.log,f=Math.max,a=Math.min,s=Math.pow,c=Math.round,u=Math.sign||function(Xt){return Xt>0?1:Xt<0?-1:0},y=Math.sin,v=Math.tan,w=1e-6,d=1e-12,o=Math.PI,h=o/2,M=o/4,T=Math.SQRT1_2,L=D(2),m=D(o),S=2*o,b=180/o,n=o/180;function p(Xt){return Xt>1?h:Xt<-1?-h:Math.asin(Xt)}function F(Xt){return Xt>1?0:Xt<-1?o:Math.acos(Xt)}function D(Xt){return Xt>0?Math.sqrt(Xt):0}function N(Xt){return((Xt=x(2*Xt))-1)/(Xt+1)}function k(Xt){return(x(Xt)-x(-Xt))/2}function O(Xt){return(x(Xt)+x(-Xt))/2}function U(Xt){var $t=v(Xt/2),ue=2*r(l(Xt/2))/($t*$t);function ce(Ce,Me){var Re=l(Ce),cr=l(Me),pr=y(Me),ur=cr*Re,hr=-((1-ur?r((1+ur)/2)/(1-ur):-.5)+ue/(1+ur));return[hr*cr*y(Ce),hr*pr]}return ce.invert=function(Ce,Me){var ur,Re=D(Ce*Ce+Me*Me),cr=-Xt/2,pr=50;if(!Re)return[0,0];do{var hr=cr/2,kr=l(hr),Hr=y(hr),jr=Hr/kr,Qr=-r(g(kr));cr-=ur=(2/jr*Qr-ue*jr-Re)/(-Qr/(Hr*Hr)+1-ue/(2*kr*kr))*(kr<0?.7:1)}while(g(ur)>w&&--pr>0);var bn=y(cr);return[P(Ce*bn,Re*l(cr)),p(Me*bn/Re)]},ce}function G(){var Xt=h,$t=(0,A.r)(U),ue=$t(Xt);return ue.radius=function(ce){return arguments.length?$t(Xt=ce*n):Xt*b},ue.scale(179.976).clipAngle(147)}function Q(Xt,$t){var ue=l($t),ce=function C(Xt){return Xt?Xt/Math.sin(Xt):1}(F(ue*l(Xt/=2)));return[2*ue*y(Xt)*ce,y($t)*ce]}function rt(){return(0,A.Z)(Q).scale(152.63)}function it(Xt){var $t=y(Xt),ue=l(Xt),ce=Xt>=0?1:-1,Ce=v(ce*Xt),Me=(1+$t-ue)/2;function Re(cr,pr){var ur=l(pr),hr=l(cr/=2);return[(1+ur)*y(cr),(ce*pr>-P(hr,Ce)-.001?0:10*-ce)+Me+y(pr)*ue-(1+ur)*$t*hr]}return Re.invert=function(cr,pr){var ur=0,hr=0,kr=50;do{var Hr=l(ur),jr=y(ur),Qr=l(hr),bn=y(hr),kn=1+Qr,_n=kn*jr-cr,xa=Me+bn*ue-kn*$t*Hr-pr,Ma=kn*Hr/2,Aa=-jr*bn,Ra=$t*kn*jr/2,qa=ue*Qr+$t*Hr*bn,ai=Aa*Ra-qa*Ma,ea=(xa*Aa-_n*qa)/ai/2,fi=(_n*Ra-xa*Ma)/ai;g(fi)>2&&(fi/=2),ur-=ea,hr-=fi}while((g(ea)>w||g(fi)>w)&&--kr>0);return ce*hr>-P(l(ur),Ce)-.001?[2*ur,hr]:null},Re}function ut(){var Xt=20*n,$t=Xt>=0?1:-1,ue=v($t*Xt),ce=(0,A.r)(it),Ce=ce(Xt),Me=Ce.stream;return Ce.parallel=function(Re){return arguments.length?(ue=v(($t=(Xt=Re*n)>=0?1:-1)*Xt),ce(Xt)):Xt*b},Ce.stream=function(Re){var cr=Ce.rotate(),pr=Me(Re),ur=(Ce.rotate([0,0]),Me(Re)),hr=Ce.precision();return Ce.rotate(cr),pr.sphere=function(){ur.polygonStart(),ur.lineStart();for(var kr=-180*$t;$t*kr<180;kr+=90*$t)ur.point(kr,90*$t);if(Xt)for(;$t*(kr-=3*$t*hr)>=-180;)ur.point(kr,$t*-P(l(kr*n/2),ue)*b);ur.lineEnd(),ur.polygonEnd()},pr},Ce.scale(218.695).center([0,28.0974])}function J(Xt,$t){var ue=v($t/2),ce=D(1-ue*ue),Ce=1+ce*l(Xt/=2),Me=y(Xt)*ce/Ce,Re=ue/Ce,cr=Me*Me,pr=Re*Re;return[1.3333333333333333*Me*(3+cr-3*pr),1.3333333333333333*Re*(3+3*cr-pr)]}function j(){return(0,A.Z)(J).scale(66.1603)}Q.invert=function(Xt,$t){if(!(Xt*Xt+4*$t*$t>o*o+w)){var ue=Xt,ce=$t,Ce=25;do{var kn,Me=y(ue),Re=y(ue/2),cr=l(ue/2),pr=y(ce),ur=l(ce),hr=y(2*ce),kr=pr*pr,Hr=ur*ur,jr=Re*Re,Qr=1-Hr*cr*cr,bn=Qr?F(ur*cr)*D(kn=1/Qr):kn=0,_n=2*bn*ur*Re-Xt,xa=bn*pr-$t,Ma=kn*(Hr*jr+bn*ur*cr*kr),Aa=kn*(.5*Me*hr-2*bn*pr*Re),Ra=.25*kn*(hr*Re-bn*pr*Hr*Me),qa=kn*(kr*cr+bn*jr*ur),ai=Aa*Ra-qa*Ma;if(!ai)break;var ea=(xa*Aa-_n*qa)/ai,fi=(_n*Ra-xa*Ma)/ai;ue-=ea,ce-=fi}while((g(ea)>w||g(fi)>w)&&--Ce>0);return[ue,ce]}},J.invert=function(Xt,$t){if($t*=.375,!(Xt*=.375)&&g($t)>1)return null;var Ce=1+Xt*Xt+$t*$t,Me=D((Ce-D(Ce*Ce-4*$t*$t))/2),Re=p(Me)/3,cr=Me?function z(Xt){return r(Xt+D(Xt*Xt-1))}(g($t/Me))/3:function B(Xt){return r(Xt+D(Xt*Xt+1))}(g(Xt))/3,pr=l(Re),ur=O(cr),hr=ur*ur-pr*pr;return[2*u(Xt)*P(k(cr)*pr,.25-hr),2*u($t)*P(ur*y(Re),.25+hr)]};var Z=D(8),H=r(1+L);function X(Xt,$t){var ue=g($t);return ue<M?[Xt,r(v(M+$t/2))]:[Xt*l(ue)*(2*L-1/y(ue)),u($t)*(2*L*(ue-M)-r(v(ue/2)))]}function at(){return(0,A.Z)(X).scale(112.314)}X.invert=function(Xt,$t){if((Me=g($t))<H)return[Xt,2*i(x($t))-h];var Ce,Me,ue=M,ce=25;do{var Re=l(ue/2),cr=v(ue/2);ue-=Ce=(Z*(ue-M)-r(cr)-Me)/(Z-Re*Re/(2*cr))}while(g(Ce)>d&&--ce>0);return[Xt/(l(ue)*(Z-1/y(ue))),u($t)*ue]};var _=t(17889);function K(Xt){var $t=2*o/Xt;function ue(ce,Ce){var Me=(0,_.N)(ce,Ce);if(g(ce)>h){var Re=P(Me[1],Me[0]),cr=D(Me[0]*Me[0]+Me[1]*Me[1]),pr=$t*c((Re-h)/$t)+h,ur=P(y(Re-=pr),2-l(Re));Re=pr+p(o/cr*y(ur))-ur,Me[0]=cr*l(Re),Me[1]=cr*y(Re)}return Me}return ue.invert=function(ce,Ce){var Me=D(ce*ce+Ce*Ce);if(Me>h){var Re=P(Ce,ce),cr=$t*c((Re-h)/$t)+h,pr=Re>cr?-1:1,ur=Me*l(cr-Re),hr=1/v(pr*F((ur-o)/D(o*(o-2*ur)+Me*Me)));Re=cr+2*i((hr+pr*D(hr*hr-3))/3),ce=Me*l(Re),Ce=Me*y(Re)}return _.N.invert(ce,Ce)},ue}function nt(){var Xt=5,$t=(0,A.r)(K),ue=$t(Xt),ce=ue.stream,Ce=.01,Me=-l(Ce*n),Re=y(Ce*n);return ue.lobes=function(cr){return arguments.length?$t(Xt=+cr):Xt},ue.stream=function(cr){var pr=ue.rotate(),ur=ce(cr),hr=(ue.rotate([0,0]),ce(cr));return ue.rotate(pr),ur.sphere=function(){hr.polygonStart(),hr.lineStart();for(var kr=0,Hr=360/Xt,jr=2*o/Xt,Qr=90-180/Xt,bn=h;kr<Xt;++kr,Qr-=Hr,bn-=jr)hr.point(P(Re*l(bn),Me)*b,p(Re*y(bn))*b),Qr<-90?(hr.point(-90,-180-Qr-Ce),hr.point(-90,-180-Qr+Ce)):(hr.point(90,Qr+Ce),hr.point(90,Qr-Ce));hr.lineEnd(),hr.polygonEnd()},ur},ue.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var et=t(12956);function st(Xt,$t){if(arguments.length<2&&($t=Xt),1===$t)return et.l;if($t===1/0)return dt;function ue(ce,Ce){var Me=(0,et.l)(ce/$t,Ce);return Me[0]*=Xt,Me}return ue.invert=function(ce,Ce){var Me=et.l.invert(ce/Xt,Ce);return Me[0]*=$t,Me},ue}function dt(Xt,$t){return[Xt*l($t)/l($t/=2),2*y($t)]}function Tt(){var Xt=2,$t=(0,A.r)(st),ue=$t(Xt);return ue.coefficient=function(ce){return arguments.length?$t(Xt=+ce):Xt},ue.scale(169.529)}function bt(Xt,$t,ue){var Ce,Me,Re,ce=100;ue=void 0===ue?0:+ue,$t=+$t;do{(Me=Xt(ue))===(Re=Xt(ue+w))&&(Re=Me+w),ue-=Ce=-1*w*(Me-$t)/(Me-Re)}while(ce-- >0&&g(Ce)>w);return ce<0?NaN:ue}function Dt(Xt,$t,ue){return void 0===$t&&($t=40),void 0===ue&&(ue=d),function(ce,Ce,Me,Re){var cr,pr,ur;Me=void 0===Me?0:+Me,Re=void 0===Re?0:+Re;for(var hr=0;hr<$t;hr++){var kr=Xt(Me,Re),Hr=kr[0]-ce,jr=kr[1]-Ce;if(g(Hr)<ue&&g(jr)<ue)break;var Qr=Hr*Hr+jr*jr;if(Qr>cr)Me-=pr/=2,Re-=ur/=2;else{cr=Qr;var bn=(Me>0?-1:1)*ue,kn=(Re>0?-1:1)*ue,_n=Xt(Me+bn,Re),xa=Xt(Me,Re+kn),Ma=(_n[0]-kr[0])/bn,Aa=(_n[1]-kr[1])/bn,Ra=(xa[0]-kr[0])/kn,qa=(xa[1]-kr[1])/kn,ai=qa*Ma-Aa*Ra,ea=(g(ai)<.5?.5:1)/ai;if(Me+=pr=(jr*Ra-Hr*qa)*ea,Re+=ur=(Hr*Aa-jr*Ma)*ea,g(pr)<ue&&g(ur)<ue)break}}return[Me,Re]}}function Ft(){var Xt=st(1.68,2);function ce(Ce,Me){if(Ce+Me<-1.4){var Re=(Ce-Me+1.6)*(Ce+Me+1.4)/8;Ce+=Re,Me-=.8*Re*y(Me+o/2)}var cr=Xt(Ce,Me),pr=(1-l(Ce*Me))/12;return cr[1]<0&&(cr[0]*=1+pr),cr[1]>0&&(cr[1]*=1+pr/1.5*cr[0]*cr[0]),cr}return ce.invert=Dt(ce),ce}function Mt(){return(0,A.Z)(Ft()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function wt(Xt,$t){var Ce,ue=Xt*y($t),ce=30;do{$t-=Ce=($t+y($t)-ue)/(1+l($t))}while(g(Ce)>w&&--ce>0);return $t/2}function St(Xt,$t,ue){function ce(Ce,Me){return[Xt*Ce*l(Me=wt(ue,Me)),$t*y(Me)]}return ce.invert=function(Ce,Me){return Me=p(Me/$t),[Ce/(Xt*l(Me)),p((2*Me+y(2*Me))/ue)]},ce}dt.invert=function(Xt,$t){var ue=2*p($t/2);return[Xt*l(ue/2)/l(ue),ue]};var Ut=St(L/h,L,o);function Gt(){return(0,A.Z)(Ut).scale(169.529)}var Pt=2.00276;function te(Xt,$t){var ue=wt(o,$t);return[Pt*Xt/(1/l($t)+1.11072/l(ue)),($t+L*y(ue))/Pt]}function _t(){return(0,A.Z)(te).scale(160.857)}function kt(Xt){var $t=0,ue=(0,A.r)(Xt),ce=ue($t);return ce.parallel=function(Ce){return arguments.length?ue($t=Ce*n):$t*b},ce}function zt(Xt,$t){return[Xt*l($t),$t]}function qt(){return(0,A.Z)(zt).scale(152.63)}function ae(Xt){if(!Xt)return zt;var $t=1/v(Xt);function ue(ce,Ce){var Me=$t+Xt-Ce,Re=Me&&ce*l(Ce)/Me;return[Me*y(Re),$t-Me*l(Re)]}return ue.invert=function(ce,Ce){var Me=D(ce*ce+(Ce=$t-Ce)*Ce),Re=$t+Xt-Me;return[Me/l(Re)*P(ce,Ce),Re]},ue}function oe(){return kt(ae).scale(123.082).center([0,26.1441]).parallel(45)}function pe(Xt){function $t(ue,ce){var Ce=h-ce,Me=Ce&&ue*Xt*y(Ce)/Ce;return[Ce*y(Me)/Xt,h-Ce*l(Me)]}return $t.invert=function(ue,ce){var Ce=ue*Xt,Me=h-ce,Re=D(Ce*Ce+Me*Me),cr=P(Ce,Me);return[(Re?Re/y(Re):1)*cr/Xt,h-Re]},$t}function ye(){var Xt=.5,$t=(0,A.r)(pe),ue=$t(Xt);return ue.fraction=function(ce){return arguments.length?$t(Xt=+ce):Xt},ue.scale(158.837)}te.invert=function(Xt,$t){var Me,Re,ue=Pt*$t,ce=$t<0?-M:M,Ce=25;do{Re=ue-L*y(ce),ce-=Me=(y(2*ce)+2*ce-o*y(Re))/(2*l(2*ce)+2+o*l(Re)*L*l(ce))}while(g(Me)>w&&--Ce>0);return Re=ue-L*y(ce),[Xt*(1/l(Re)+1.11072/l(ce))/Pt,Re]},zt.invert=function(Xt,$t){return[Xt/l($t),$t]};var Fe=St(1,4/o,o);function Zt(){return(0,A.Z)(Fe).scale(152.63)}var Ct=t(66624),Et=t(49386);function Rt(Xt,$t,ue,ce,Ce,Me){var cr,Re=l(Me);if(g(Xt)>1||g(Me)>1)cr=F(ue*Ce+$t*ce*Re);else{var pr=y(Xt/2),ur=y(Me/2);cr=2*p(D(pr*pr+$t*ce*ur*ur))}return g(cr)>w?[cr,P(ce*y(Me),$t*Ce-ue*ce*Re)]:[0,0]}function Ot(Xt,$t,ue){return F((Xt*Xt+$t*$t-ue*ue)/(2*Xt*$t))}function It(Xt){return Xt-2*o*e((Xt+o)/(2*o))}function gt(Xt,$t,ue){for(var Me,ce=[[Xt[0],Xt[1],y(Xt[1]),l(Xt[1])],[$t[0],$t[1],y($t[1]),l($t[1])],[ue[0],ue[1],y(ue[1]),l(ue[1])]],Ce=ce[2],Re=0;Re<3;++Re,Ce=Me)Ce.v=Rt((Me=ce[Re])[1]-Ce[1],Ce[3],Ce[2],Me[3],Me[2],Me[0]-Ce[0]),Ce.point=[0,0];var cr=Ot(ce[0].v[0],ce[2].v[0],ce[1].v[0]),pr=Ot(ce[0].v[0],ce[1].v[0],ce[2].v[0]),ur=o-cr;ce[2].point[1]=0,ce[0].point[0]=-(ce[1].point[0]=ce[0].v[0]/2);var hr=[ce[2].point[0]=ce[0].point[0]+ce[2].v[0]*l(cr),2*(ce[0].point[1]=ce[1].point[1]=ce[2].v[0]*y(cr))];return function kr(Hr,jr){var _n,Qr=y(jr),bn=l(jr),kn=new Array(3);for(_n=0;_n<3;++_n){var xa=ce[_n];if(kn[_n]=Rt(jr-xa[1],xa[3],xa[2],bn,Qr,Hr-xa[0]),!kn[_n][0])return xa.point;kn[_n][1]=It(kn[_n][1]-xa.v[1])}var Ma=hr.slice();for(_n=0;_n<3;++_n){var Ra=Ot(ce[_n].v[0],kn[_n][0],kn[2==_n?0:_n+1][0]);kn[_n][1]<0&&(Ra=-Ra),_n?1==_n?(Ma[0]-=kn[_n][0]*l(Ra=pr-Ra),Ma[1]-=kn[_n][0]*y(Ra)):(Ma[0]+=kn[_n][0]*l(Ra=ur-Ra),Ma[1]+=kn[_n][0]*y(Ra)):(Ma[0]+=kn[_n][0]*l(Ra),Ma[1]-=kn[_n][0]*y(Ra))}return Ma[0]/=3,Ma[1]/=3,Ma}}function pt(Xt){return Xt[0]*=n,Xt[1]*=n,Xt}function vt(){return yt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function yt(Xt,$t,ue){var ce=(0,Ct.Z)({type:"MultiPoint",coordinates:[Xt,$t,ue]}),Ce=[-ce[0],-ce[1]],Me=(0,Et.Z)(Ce),Re=gt(pt(Me(Xt)),pt(Me($t)),pt(Me(ue)));Re.invert=Dt(Re);var cr=(0,A.Z)(Re).rotate(Ce),pr=cr.center;return delete cr.rotate,cr.center=function(ur){return arguments.length?pr(Me(ur)):Me.invert(pr())},cr.clipAngle(90)}function Yt(Xt,$t){var ue=D(1-y($t));return[2/m*Xt*ue,m*(1-ue)]}function Qt(){return(0,A.Z)(Yt).scale(95.6464).center([0,30])}function le(Xt){var $t=v(Xt);function ue(ce,Ce){return[ce,(ce?ce/y(ce):1)*(y(Ce)*l(ce)-$t*l(Ce))]}return ue.invert=$t?function(ce,Ce){ce&&(Ce*=y(ce)/ce);var Me=l(ce);return[ce,2*P(D(Me*Me+$t*$t-Ce*Ce)-Me,$t-Ce)]}:function(ce,Ce){return[ce,p(ce?Ce*v(ce)/ce:Ce)]},ue}function he(){return kt(le).scale(249.828).clipAngle(90)}Yt.invert=function(Xt,$t){var ue=(ue=$t/m-1)*ue;return[ue>0?Xt*D(o/ue)/2:0,p(1-ue)]};var ke=D(3);function Oe(Xt,$t){return[ke*Xt*(2*l(2*$t/3)-1)/m,ke*m*y($t/3)]}function Ae(){return(0,A.Z)(Oe).scale(156.19)}function je(Xt){var $t=l(Xt);function ue(ce,Ce){return[ce*$t,y(Ce)/$t]}return ue.invert=function(ce,Ce){return[ce/$t,p(Ce*$t)]},ue}function Ze(){return kt(je).parallel(38.58).scale(195.044)}function Lr(Xt){var $t=l(Xt);function ue(ce,Ce){return[ce*$t,(1+$t)*v(Ce/2)]}return ue.invert=function(ce,Ce){return[ce/$t,2*i(Ce/(1+$t))]},ue}function fe(){return kt(Lr).scale(124.75)}function Ve(Xt,$t){var ue=D(8/(3*o));return[ue*Xt*(1-g($t)/o),ue*$t]}function He(){return(0,A.Z)(Ve).scale(165.664)}function wr(Xt,$t){var ue=D(4-3*y(g($t)));return[2/D(6*o)*Xt*ue,u($t)*D(2*o/3)*(2-ue)]}function ar(){return(0,A.Z)(wr).scale(165.664)}function ie(Xt,$t){var ue=D(o*(4+o));return[2/ue*Xt*(1+D(1-4*$t*$t/(o*o))),4/ue*$t]}function ne(){return(0,A.Z)(ie).scale(180.739)}function ve(Xt,$t){var ue=(2+h)*y($t);$t/=2;for(var ce=0,Ce=1/0;ce<10&&g(Ce)>w;ce++){var Me=l($t);$t-=Ce=($t+y($t)*(Me+2)-ue)/(2*Me*(1+Me))}return[2/D(o*(4+o))*Xt*(1+l($t)),2*D(o/(4+o))*y($t)]}function xe(){return(0,A.Z)(ve).scale(180.739)}function Te(Xt,$t){return[Xt*(1+l($t))/D(2+o),2*$t/D(2+o)]}function be(){return(0,A.Z)(Te).scale(173.044)}function Pe(Xt,$t){for(var ue=(1+h)*y($t),ce=0,Ce=1/0;ce<10&&g(Ce)>w;ce++)$t-=Ce=($t+y($t)-ue)/(1+l($t));return ue=D(2+o),[Xt*(1+l($t))/ue,2*$t/ue]}function Be(){return(0,A.Z)(Pe).scale(173.044)}Oe.invert=function(Xt,$t){var ue=3*p($t/(ke*m));return[m*Xt/(ke*(2*l(2*ue/3)-1)),ue]},Ve.invert=function(Xt,$t){var ue=D(8/(3*o)),ce=$t/ue;return[Xt/(ue*(1-g(ce)/o)),ce]},wr.invert=function(Xt,$t){var ue=2-g($t)/D(2*o/3);return[Xt*D(6*o)/(2*ue),u($t)*p((4-ue*ue)/3)]},ie.invert=function(Xt,$t){var ue=D(o*(4+o))/2;return[Xt*ue/(1+D(1-$t*$t*(4+o)/(4*o))),$t*ue/2]},ve.invert=function(Xt,$t){var ue=$t*D((4+o)/o)/2,ce=p(ue),Ce=l(ce);return[Xt/(2/D(o*(4+o))*(1+Ce)),p((ce+ue*(Ce+2))/(2+h))]},Te.invert=function(Xt,$t){var ue=D(2+o),ce=$t*ue/2;return[ue*Xt/(1+l(ce)),ce]},Pe.invert=function(Xt,$t){var ue=1+h,ce=D(ue/2);return[2*Xt*ce/(1+l($t*=ce)),p(($t+y($t))/ue)]};var Qe=3+2*L;function Ke(Xt,$t){var ue=y(Xt/=2),ce=l(Xt),Ce=D(l($t)),Me=l($t/=2),Re=y($t)/(Me+L*ce*Ce),cr=D(2/(1+Re*Re)),pr=D((L*Me+(ce+ue)*Ce)/(L*Me+(ce-ue)*Ce));return[Qe*(cr*(pr-1/pr)-2*r(pr)),Qe*(cr*Re*(pr+1/pr)-2*i(Re))]}function tr(){return(0,A.Z)(Ke).scale(62.5271)}Ke.invert=function(Xt,$t){if(!(Me=J.invert(Xt/1.2,1.065*$t)))return null;var Me,ue=Me[0],ce=Me[1],Ce=20;Xt/=Qe,$t/=Qe;do{var Re=ue/2,cr=ce/2,pr=y(Re),ur=l(Re),hr=y(cr),kr=l(cr),Hr=l(ce),jr=D(Hr),Qr=hr/(kr+L*ur*jr),bn=Qr*Qr,kn=D(2/(1+bn)),Ma=(L*kr+(ur+pr)*jr)/(L*kr+(ur-pr)*jr),Aa=D(Ma),Ra=Aa-1/Aa,qa=Aa+1/Aa,ai=kn*Ra-2*r(Aa)-Xt,ea=kn*Qr*qa-2*i(Qr)-$t,fi=hr&&T*jr*pr*bn/hr,yi=(L*ur*kr+jr)/(2*(kr+L*ur*jr)*(kr+L*ur*jr)*jr),ji=-.5*Qr*kn*kn*kn,Mo=ji*fi,si=ji*yi,ot=(ot=2*kr+L*jr*(ur-pr))*ot*Aa,mt=(L*ur*kr*jr+Hr)/ot,Bt=-L*pr*hr/(jr*ot),Kt=Ra*Mo-2*mt/Aa+kn*(mt+mt/Ma),Jt=Ra*si-2*Bt/Aa+kn*(Bt+Bt/Ma),ee=Qr*qa*Mo-2*fi/(1+bn)+kn*qa*fi+kn*Qr*(mt-mt/Ma),Ee=Qr*qa*si-2*yi/(1+bn)+kn*qa*yi+kn*Qr*(Bt-Bt/Ma),me=Jt*ee-Ee*Kt;if(!me)break;var ze=(ea*Jt-ai*Ee)/me,$e=(ai*ee-ea*Kt)/me;ue-=ze,ce=f(-h,a(h,ce-$e))}while((g(ze)>w||g($e)>w)&&--Ce>0);return g(g(ce)-h)<w?[0,ce]:Ce&&[ue,ce]};var vr=l(35*n);function Ht(Xt,$t){var ue=v($t/2);return[Xt*vr*D(1-ue*ue),(1+vr)*ue]}function Nt(){return(0,A.Z)(Ht).scale(137.152)}function Se(Xt,$t){var ue=$t/2,ce=l(ue);return[2*Xt/m*l($t)*ce*ce,m*v(ue)]}function Le(){return(0,A.Z)(Se).scale(135.264)}function We(Xt){var $t=1-Xt,ue=Me(o,0)[0]-Me(-o,0)[0],Ce=D(2*(Me(0,h)[1]-Me(0,-h)[1])/ue);function Me(pr,ur){var hr=l(ur),kr=y(ur);return[hr/($t+Xt*hr)*pr,$t*ur+Xt*kr]}function Re(pr,ur){var hr=Me(pr,ur);return[hr[0]*Ce,hr[1]/Ce]}function cr(pr){return Re(0,pr)[1]}return Re.invert=function(pr,ur){var hr=bt(cr,ur);return[pr/Ce*(Xt+$t/l(hr)),hr]},Re}function rr(){var Xt=.5,$t=(0,A.r)(We),ue=$t(Xt);return ue.alpha=function(ce){return arguments.length?$t(Xt=+ce):Xt},ue.scale(168.725)}Ht.invert=function(Xt,$t){var ue=$t/(1+vr);return[Xt&&Xt/(vr*D(1-ue*ue)),2*i(ue)]},Se.invert=function(Xt,$t){var ue=i($t/m),ce=l(ue),Ce=2*ue;return[Xt*m/2/(l(Ce)*ce*ce),Ce]};var or=t(57962),qe=t(97492);function De(Xt){return[Xt[0]/2,p(v(Xt[1]/2*n))*b]}function sr(Xt){return[2*Xt[0],2*i(y(Xt[1]*n))*b]}function gr(Xt){null==Xt&&(Xt=or.Z);var $t=Xt(),ue=(0,qe.Z)().scale(b).precision(0).clipAngle(null).translate([0,0]);function ce(Me){return $t(De(Me))}function Ce(Me){ce[Me]=function(){return arguments.length?($t[Me].apply($t,arguments),ce):$t[Me]()}}return $t.invert&&(ce.invert=function(Me){return sr($t.invert(Me))}),ce.stream=function(Me){var Re=$t.stream(Me),cr=ue.stream({point:function(pr,ur){Re.point(pr/2,p(v(-ur/2*n))*b)},lineStart:function(){Re.lineStart()},lineEnd:function(){Re.lineEnd()},polygonStart:function(){Re.polygonStart()},polygonEnd:function(){Re.polygonEnd()}});return cr.sphere=Re.sphere,cr},ce.rotate=function(Me){return arguments.length?(ue.rotate(Me),ce):ue.rotate()},ce.center=function(Me){return arguments.length?($t.center(De(Me)),ce):sr($t.center())},Ce("angle"),Ce("clipAngle"),Ce("clipExtent"),Ce("fitExtent"),Ce("fitHeight"),Ce("fitSize"),Ce("fitWidth"),Ce("scale"),Ce("translate"),Ce("precision"),ce.scale(249.5)}function dr(Xt,$t){var ue=2*o/$t,ce=Xt*Xt;function Ce(Me,Re){var cr=(0,_.N)(Me,Re),pr=cr[0],ur=cr[1],hr=pr*pr+ur*ur;if(hr>ce){var kr=D(hr),Hr=P(ur,pr),jr=ue*c(Hr/ue),Qr=Hr-jr,bn=Xt*l(Qr),kn=(Xt*y(Qr)-Qr*y(bn))/(h-bn),_n=Pr(Qr,kn),xa=(o-Xt)/qr(_n,bn,o);pr=kr;var Aa,Ma=50;do{pr-=Aa=(Xt+qr(_n,bn,pr)*xa-kr)/(_n(pr)*xa)}while(g(Aa)>w&&--Ma>0);ur=Qr*y(pr),pr<h&&(ur-=kn*(pr-h));var Ra=y(jr),qa=l(jr);cr[0]=pr*qa-ur*Ra,cr[1]=pr*Ra+ur*qa}return cr}return Ce.invert=function(Me,Re){var cr=Me*Me+Re*Re;if(cr>ce){var pr=D(cr),ur=P(Re,Me),hr=ue*c(ur/ue),kr=ur-hr;Me=pr*l(kr),Re=pr*y(kr);for(var Hr=Me-h,jr=y(Me),Qr=Re/jr,bn=Me<h?1/0:0,kn=10;;){var _n=Xt*y(Qr),xa=Xt*l(Qr),Ma=y(xa),Aa=h-xa,Ra=(_n-Qr*Ma)/Aa,qa=Pr(Qr,Ra);if(g(bn)<d||!--kn)break;Qr-=bn=(Qr*jr-Ra*Hr-Re)/(jr-2*Hr*(Aa*(xa+Qr*_n*l(xa)-Ma)-_n*(_n-Qr*Ma))/(Aa*Aa))}Me=(pr=Xt+qr(qa,xa,Me)*(o-Xt)/qr(qa,xa,o))*l(ur=hr+Qr),Re=pr*y(ur)}return _.N.invert(Me,Re)},Ce}function Pr(Xt,$t){return function(ue){var ce=Xt*l(ue);return ue<h&&(ce-=$t),D(1+ce*ce)}}function qr(Xt,$t,ue){for(var Ce=(ue-$t)/50,Me=Xt($t)+Xt(ue),Re=1,cr=$t;Re<50;++Re)Me+=2*Xt(cr+=Ce);return.5*Me*Ce}function Er(){var Xt=6,$t=30*n,ue=l($t),ce=y($t),Ce=(0,A.r)(dr),Me=Ce($t,Xt),Re=Me.stream,pr=-l(.01*n),ur=y(.01*n);return Me.radius=function(hr){return arguments.length?(ue=l($t=hr*n),ce=y($t),Ce($t,Xt)):$t*b},Me.lobes=function(hr){return arguments.length?Ce($t,Xt=+hr):Xt},Me.stream=function(hr){var kr=Me.rotate(),Hr=Re(hr),jr=(Me.rotate([0,0]),Re(hr));return Me.rotate(kr),Hr.sphere=function(){jr.polygonStart(),jr.lineStart();for(var Qr=0,bn=2*o/Xt,kn=0;Qr<Xt;++Qr,kn-=bn)jr.point(P(ur*l(kn),pr)*b,p(ur*y(kn))*b),jr.point(P(ce*l(kn-bn/2),ue)*b,p(ce*y(kn-bn/2))*b);jr.lineEnd(),jr.polygonEnd()},Hr},Me.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Zr(Xt,$t,ue,ce,Ce,Me,Re,cr){function pr(ur,hr){if(!hr)return[Xt*ur/o,0];var kr=hr*hr,Hr=Xt+kr*($t+kr*(ue+kr*ce)),jr=hr*(Ce-1+kr*(Me-cr+kr*Re)),Qr=(Hr*Hr+jr*jr)/(2*jr),bn=ur*p(Hr/Qr)/o;return[Qr*y(bn),hr*(1+kr*cr)+Qr*(1-l(bn))]}return arguments.length<8&&(cr=0),pr.invert=function(ur,hr){var jr,Qr,kr=o*ur/Xt,Hr=hr,bn=50;do{var kn=Hr*Hr,_n=Xt+kn*($t+kn*(ue+kn*ce)),xa=Hr*(Ce-1+kn*(Me-cr+kn*Re)),Ma=_n*_n+xa*xa,Aa=2*xa,Ra=Ma/Aa,qa=Ra*Ra,ai=p(_n/Ra)/o,ea=kr*ai,fi=_n*_n,yi=(2*$t+kn*(4*ue+6*kn*ce))*Hr,ji=Ce+kn*(3*Me+5*kn*Re),ot=(2*(_n*yi+xa*(ji-1))*Aa-Ma*(2*(ji-1)))/(Aa*Aa),mt=l(ea),Bt=y(ea),Kt=Ra*mt,Jt=Ra*Bt,ee=kr/o*(1/D(1-fi/qa))*(yi*Ra-_n*ot)/qa,Ee=Jt-ur,me=Hr*(1+kn*cr)+Ra-Kt-hr,ze=ot*Bt+Kt*ee,$e=Kt*ai,er=1+ot-(ot*mt-Jt*ee),Sr=Jt*ai,Ar=ze*Sr-er*$e;if(!Ar)break;kr-=jr=(me*ze-Ee*er)/Ar,Hr-=Qr=(Ee*Sr-me*$e)/Ar}while((g(jr)>w||g(Qr)>w)&&--bn>0);return[kr,Hr]},pr}var rn=Zr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function zr(){return(0,A.Z)(rn).scale(149.995)}var Pn=Zr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function An(){return(0,A.Z)(Pn).scale(153.93)}var lr=Zr(5/6*o,-.62636,-.0344,0,1.3493,-.05524,0,.045);function yr(){return(0,A.Z)(lr).scale(130.945)}function Fr(Xt,$t){var ue=Xt*Xt,ce=$t*$t;return[Xt*(1-.162388*ce)*(.87-952426e-9*ue*ue),$t*(1+ce/12)]}function Br(){return(0,A.Z)(Fr).scale(131.747)}Fr.invert=function(Xt,$t){var Me,ue=Xt,ce=$t,Ce=50;do{var Re=ce*ce;ce-=Me=(ce*(1+Re/12)-$t)/(1+Re/4)}while(g(Me)>w&&--Ce>0);Ce=50,Xt/=1-.162388*Re;do{var cr=(cr=ue*ue)*cr;ue-=Me=(ue*(.87-952426e-9*cr)-Xt)/(.87-.00476213*cr)}while(g(Me)>w&&--Ce>0);return[ue,ce]};var _r=Zr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function dn(){return(0,A.Z)(_r).scale(131.087)}function hn(Xt){var $t=Xt(h,0)[0]-Xt(-h,0)[0];function ue(ce,Ce){var Me=ce>0?-.5:.5,Re=Xt(ce+Me*o,Ce);return Re[0]-=Me*$t,Re}return Xt.invert&&(ue.invert=function(ce,Ce){var Me=ce>0?-.5:.5,Re=Xt.invert(ce+Me*$t,Ce),cr=Re[0]-Me*o;return cr<-o?cr+=2*o:cr>o&&(cr-=2*o),Re[0]=cr,Re}),ue}function xn(Xt,$t){var ue=u(Xt),ce=u($t),Ce=l($t),Me=l(Xt)*Ce,Re=y(Xt)*Ce,cr=y(ce*$t);Xt=g(P(Re,cr)),$t=p(Me),g(Xt-h)>w&&(Xt%=h);var pr=function En(Xt,$t){if($t===h)return[0,0];var bn,kn,ue=y($t),ce=ue*ue,Ce=ce*ce,Me=1+Ce,Re=1+3*Ce,cr=1-Ce,pr=p(1/D(Me)),ur=cr+ce*Me*pr,hr=(1-ue)/ur,kr=D(hr),Hr=hr*Me,jr=D(Hr),Qr=kr*cr;if(0===Xt)return[0,-(Qr+ce*jr)];var si,_n=l($t),xa=1/_n,Ma=2*ue*_n,Ra=(-ur*_n-(-3*ce+pr*Re)*Ma*(1-ue))/(ur*ur),fi=-xa*Ma,yi=-xa*(ce*Me*Ra+hr*Re*Ma),ji=-2*xa*(cr*(.5*Ra/kr)-2*ce*kr*Ma),Mo=4*Xt/o;if(Xt>.222*o||$t<o/4&&Xt>.175*o){if(bn=(Qr+ce*D(Hr*(1+Ce)-Qr*Qr))/(1+Ce),Xt>o/4)return[bn,bn];var ot=bn,mt=.5*bn;bn=.5*(mt+ot),kn=50;do{var Kt=bn*(ji+fi*D(Hr-bn*bn))+yi*p(bn/jr)-Mo;if(!Kt)break;Kt<0?mt=bn:ot=bn,bn=.5*(mt+ot)}while(g(ot-mt)>w&&--kn>0)}else{bn=w,kn=25;do{var Jt=bn*bn,ee=D(Hr-Jt),Ee=ji+fi*ee,me=bn*Ee+yi*p(bn/jr)-Mo;bn-=si=ee?me/(Ee+(yi-fi*Jt)/ee):0}while(g(si)>w&&--kn>0)}return[bn,-Qr-ce*D(Hr-bn*bn)]}(Xt>o/4?h-Xt:Xt,$t);return Xt>o/4&&(cr=pr[0],pr[0]=-pr[1],pr[1]=-cr),pr[0]*=ue,pr[1]*=-ce,pr}function Gn(){return(0,A.Z)(hn(xn)).scale(239.75)}function Kn(Xt,$t){var ue,ce,Ce,Me,Re;if($t<w)return[(Me=y(Xt))-(ue=$t*(Xt-Me*(ce=l(Xt)))/4)*ce,ce+ue*Me,1-$t*Me*Me/2,Xt-ue];if($t>=1-w)return ue=(1-$t)/4,Ce=1/(ce=O(Xt)),[(Me=N(Xt))+ue*((Re=ce*k(Xt))-Xt)/(ce*ce),Ce-ue*Me*Ce*(Re-Xt),Ce+ue*Me*Ce*(Re+Xt),2*i(x(Xt))-h+ue*(Re-Xt)/ce];var cr=[1,0,0,0,0,0,0,0,0],pr=[D($t),0,0,0,0,0,0,0,0],ur=0;for(ce=D(1-$t),Re=1;g(pr[ur]/cr[ur])>w&&ur<8;)ue=cr[ur++],pr[ur]=(ue-ce)/2,cr[ur]=(ue+ce)/2,ce=D(ue*ce),Re*=2;Ce=Re*cr[ur]*Xt;do{Ce=(p(Me=pr[ur]*y(ce=Ce)/cr[ur])+Ce)/2}while(--ur);return[y(Ce),Me=l(Ce),Me/l(Ce-ce),Ce]}function Tr(Xt,$t){if(!$t)return Xt;if(1===$t)return r(v(Xt/2+M));for(var ue=1,ce=D(1-$t),Ce=D($t),Me=0;g(Ce)>w;Me++){if(Xt%o){var Re=i(ce*v(Xt)/ue);Re<0&&(Re+=o),Xt+=Re+~~(Xt/o)*o}else Xt+=Xt;Ce=(ue+ce)/2,ce=D(ue*ce),Ce=((ue=Ce)-ce)/2}return Xt/(s(2,Me)*ue)}function an(Xt,$t){var ue=(L-1)/(L+1),ce=D(1-ue*ue),Ce=Tr(h,ce*ce),Re=r(v(o/4+g($t)/2)),cr=x(-1*Re)/D(ue),pr=function sn(Xt,$t){var ue=Xt*Xt,ce=$t+1,Ce=1-ue-$t*$t;return[.5*((Xt>=0?h:-h)-P(Ce,2*Xt)),-.25*r(Ce*Ce+4*ue)+.5*r(ce*ce+ue)]}(cr*l(-1*Xt),cr*y(-1*Xt)),ur=function Qn(Xt,$t,ue){var ce=g(Xt),Me=k(g($t));if(ce){var Re=1/y(ce),cr=1/(v(ce)*v(ce)),pr=-(cr+ue*(Me*Me*Re*Re)-1+ue),hr=(-pr+D(pr*pr-(ue-1)*cr*4))/2;return[Tr(i(1/D(hr)),ue)*u(Xt),Tr(i(D((hr/cr-1)/ue)),1-ue)*u($t)]}return[0,Tr(i(Me),1-ue)*u($t)]}(pr[0],pr[1],ce*ce);return[-ur[1],($t>=0?1:-1)*(.5*Ce-ur[0])]}function Fn(){return(0,A.Z)(hn(an)).scale(151.496)}xn.invert=function(Xt,$t){g(Xt)>1&&(Xt=2*u(Xt)-Xt),g($t)>1&&($t=2*u($t)-$t);var ue=u(Xt),ce=u($t),Ce=-ue*Xt,Me=-ce*$t,Re=Me/Ce<1,cr=function Vn(Xt,$t){for(var ue=0,ce=1,Ce=.5,Me=50;;){var Re=Ce*Ce,cr=D(Ce),pr=p(1/D(1+Re)),ur=1-Re+Ce*(1+Re)*pr,hr=(1-cr)/ur,kr=D(hr),Hr=hr*(1+Re),jr=kr*(1-Re),bn=D(Hr-Xt*Xt),kn=$t+jr+Ce*bn;if(g(ce-ue)<d||0==--Me||0===kn)break;kn>0?ue=Ce:ce=Ce,Ce=.5*(ue+ce)}if(!Me)return null;var _n=p(cr),xa=l(_n),Ma=1/xa,Aa=2*cr*xa,qa=(-ur*xa-(-3*Ce+pr*(1+3*Re))*Aa*(1-cr))/(ur*ur);return[o/4*(Xt*(-2*Ma*(.5*qa/kr*(1-Re)-2*Ce*kr*Aa)+-Ma*Aa*bn)+-Ma*(Ce*(1+Re)*qa+hr*(1+3*Re)*Aa)*p(Xt/D(Hr))),_n]}(Re?Me:Ce,Re?Ce:Me),pr=cr[0],ur=cr[1],hr=l(ur);return Re&&(pr=-h-pr),[ue*(P(y(pr)*hr,-y(ur))+o),ce*p(l(pr)*hr)]},an.invert=function(Xt,$t){var ue=(L-1)/(L+1),ce=D(1-ue*ue),Re=function ia(Xt,$t,ue){var ce,Ce,Me;return Xt?(ce=Kn(Xt,ue),$t?(Ce=Kn($t,1-ue),[[ce[0]*Ce[2]/(Me=Ce[1]*Ce[1]+ue*ce[0]*ce[0]*Ce[0]*Ce[0]),ce[1]*ce[2]*Ce[0]*Ce[1]/Me],[ce[1]*Ce[1]/Me,-ce[0]*ce[2]*Ce[0]*Ce[2]/Me],[ce[2]*Ce[1]*Ce[2]/Me,-ue*ce[0]*ce[1]*Ce[0]/Me]]):[[ce[0],0],[ce[1],0],[ce[2],0]]):[[0,(Ce=Kn($t,1-ue))[0]/Ce[1]],[1/Ce[1],0],[Ce[2]/Ce[1],0]]}(.5*Tr(h,ce*ce)-$t,-Xt,ce*ce),cr=function pn(Xt,$t){var ue=$t[0]*$t[0]+$t[1]*$t[1];return[(Xt[0]*$t[0]+Xt[1]*$t[1])/ue,(Xt[1]*$t[0]-Xt[0]*$t[1])/ue]}(Re[0],Re[1]);return[P(cr[1],cr[0])/-1,2*i(x(-.5*r(ue*cr[0]*cr[0]+ue*cr[1]*cr[1])))-h]};var Cn=t(7613);function Ln(Xt){var $t=y(Xt),ue=l(Xt),ce=On(Xt);function Ce(Me,Re){var cr=ce(Me,Re);Me=cr[0];var pr=y(Re=cr[1]),ur=l(Re),hr=l(Me),kr=F($t*pr+ue*ur*hr),Hr=y(kr),jr=g(Hr)>w?kr/Hr:1;return[jr*ue*y(Me),(g(Me)>h?jr:-jr)*($t*ur-ue*pr*hr)]}return ce.invert=On(-Xt),Ce.invert=function(Me,Re){var cr=D(Me*Me+Re*Re),pr=-y(cr),ur=l(cr),hr=cr*ur,kr=-Re*pr,Hr=cr*$t,jr=D(hr*hr+kr*kr-Hr*Hr),Qr=P(hr*Hr+kr*jr,kr*Hr-hr*jr),bn=(cr>h?-1:1)*P(Me*pr,cr*l(Qr)*ur+Re*y(Qr)*pr);return ce.invert(bn,Qr)},Ce}function On(Xt){var $t=y(Xt),ue=l(Xt);return function(ce,Ce){var Me=l(Ce),Re=l(ce)*Me,cr=y(ce)*Me,pr=y(Ce);return[P(cr,Re*ue-pr*$t),p(pr*ue+Re*$t)]}}function Jn(){var Xt=0,$t=(0,A.r)(Ln),ue=$t(Xt),ce=ue.rotate,Ce=ue.stream,Me=(0,Cn.Z)();return ue.parallel=function(Re){if(!arguments.length)return Xt*b;var cr=ue.rotate();return $t(Xt=Re*n).rotate(cr)},ue.rotate=function(Re){return arguments.length?(ce.call(ue,[Re[0],Re[1]-Xt*b]),Me.center([-Re[0],-Re[1]]),ue):((Re=ce.call(ue))[1]+=Xt*b,Re)},ue.stream=function(Re){return(Re=Ce(Re)).sphere=function(){Re.polygonStart();var kr,pr=Me.radius(89.99)().coordinates[0],ur=pr.length-1,hr=-1;for(Re.lineStart();++hr<ur;)Re.point((kr=pr[hr])[0],kr[1]);for(Re.lineEnd(),ur=(pr=Me.radius(90.01)().coordinates[0]).length-1,Re.lineStart();--hr>=0;)Re.point((kr=pr[hr])[0],kr[1]);Re.lineEnd(),Re.polygonEnd()},Re},ue.scale(79.4187).parallel(45).clipAngle(179.999)}var ya=t(33064),Ba=t(72736),br=p(1-1/3)*b,en=je(0);function vn(Xt){var $t=br*n,ue=Yt(o,$t)[0]-Yt(-o,$t)[0],ce=en(0,$t)[1],Ce=Yt(0,$t)[1],Me=m-Ce,Re=S/Xt,cr=4/S,pr=ce+Me*Me*4/S;function ur(hr,kr){var Hr,jr=g(kr);if(jr>$t){var Qr=a(Xt-1,f(0,e((hr+o)/Re)));(Hr=Yt(hr+=o*(Xt-1)/Xt-Qr*Re,jr))[0]=Hr[0]*S/ue-S*(Xt-1)/(2*Xt)+Qr*S/Xt,Hr[1]=ce+4*(Hr[1]-Ce)*Me/S,kr<0&&(Hr[1]=-Hr[1])}else Hr=en(hr,kr);return Hr[0]*=cr,Hr[1]/=pr,Hr}return ur.invert=function(hr,kr){hr/=cr;var Hr=g(kr*=pr);if(Hr>ce){var jr=a(Xt-1,f(0,e((hr+o)/Re))),Qr=Yt.invert(hr=(hr+o*(Xt-1)/Xt-jr*Re)*ue/S,.25*(Hr-ce)*S/Me+Ce);return Qr[0]-=o*(Xt-1)/Xt-jr*Re,kr<0&&(Qr[1]=-Qr[1]),Qr}return en.invert(hr,kr)},ur}function un(Xt,$t){return[Xt,1&$t?90-w:br]}function Sn(Xt,$t){return[Xt,1&$t?-90+w:-br]}function mn(Xt){return[Xt[0]*(1-w),Xt[1]]}function Cr(){var Xt=4,$t=(0,A.r)(vn),ue=$t(Xt),ce=ue.stream;return ue.lobes=function(Ce){return arguments.length?$t(Xt=+Ce):Xt},ue.stream=function(Ce){var Me=ue.rotate(),Re=ce(Ce),cr=(ue.rotate([0,0]),ce(Ce));return ue.rotate(Me),Re.sphere=function(){(0,Ba.Z)(function cn(Xt){var $t=[].concat((0,ya.w6)(-180,180+Xt/2,Xt).map(un),(0,ya.w6)(180,-180-Xt/2,-Xt).map(Sn));return{type:"Polygon",coordinates:[180===Xt?$t.map(mn):$t]}}(180/Xt),cr)},Re},ue.scale(239.75)}function Mr(Xt){var Me,$t=1+Xt,ce=p(y(1/$t)),Ce=2*D(o/(Me=o+4*ce*$t)),Re=.5*Ce*($t+D(Xt*(2+Xt))),cr=Xt*Xt,pr=$t*$t;function ur(hr,kr){var jr,Qr,Hr=1-y(kr);if(Hr&&Hr<2){var _n,bn=h-kr,kn=25;do{var xa=y(bn),Ma=l(bn),Aa=ce+P(xa,$t-Ma),Ra=1+pr-2*$t*Ma;bn-=_n=(bn-cr*ce-$t*xa+Ra*Aa-.5*Hr*Me)/(2*$t*xa*Aa)}while(g(_n)>d&&--kn>0);jr=Ce*D(Ra),Qr=hr*Aa/o}else jr=Ce*(Xt+Hr),Qr=hr*ce/o;return[jr*y(Qr),Re-jr*l(Qr)]}return ur.invert=function(hr,kr){var Hr=hr*hr+(kr-=Re)*kr,jr=(1+pr-Hr/(Ce*Ce))/(2*$t),Qr=F(jr),bn=y(Qr),kn=ce+P(bn,$t-jr);return[p(hr/D(Hr))*o/kn,p(1-2*(Qr-cr*ce-$t*bn+(1+pr-2*$t*jr)*kn)/Me)]},ur}function Ge(){var Xt=1,$t=(0,A.r)(Mr),ue=$t(Xt);return ue.ratio=function(ce){return arguments.length?$t(Xt=+ce):Xt},ue.scale(167.774).center([0,18.67])}var Dr=.7109889596207567,Ue=.0528035274542;function Ye(Xt,$t){return $t>-Dr?((Xt=Ut(Xt,$t))[1]+=Ue,Xt):zt(Xt,$t)}function ir(){return(0,A.Z)(Ye).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Yr(Xt,$t){return g($t)>Dr?((Xt=Ut(Xt,$t))[1]-=$t>0?Ue:-Ue,Xt):zt(Xt,$t)}function gn(){return(0,A.Z)(Yr).scale(152.63)}function Zn(Xt,$t,ue,ce){var Ce=D(4*o/(2*ue+(1+Xt-$t/2)*y(2*ue)+(Xt+$t)/2*y(4*ue)+$t/2*y(6*ue))),Me=D(ce*y(ue)*D((1+Xt*l(2*ue)+$t*l(4*ue))/(1+Xt+$t))),Re=ue*pr(1);function cr(kr){return D(1+Xt*l(2*kr)+$t*l(4*kr))}function pr(kr){var Hr=kr*ue;return(2*Hr+(1+Xt-$t/2)*y(2*Hr)+(Xt+$t)/2*y(4*Hr)+$t/2*y(6*Hr))/ue}function ur(kr){return cr(kr)*y(kr)}var hr=function(kr,Hr){var jr=ue*bt(pr,Re*y(Hr)/ue,Hr/o);isNaN(jr)&&(jr=ue*u(Hr));var Qr=Ce*cr(jr);return[Qr*Me*kr/o*l(jr),Qr/Me*y(jr)]};return hr.invert=function(kr,Hr){var jr=bt(ur,Hr*Me/Ce);return[kr*o/(l(jr)*Ce*Me*cr(jr)),p(ue*pr(jr/ue)/Re)]},0===ue&&(Ce=D(ce/o),(hr=function(kr,Hr){return[kr*Ce,y(Hr)/Ce]}).invert=function(kr,Hr){return[kr/Ce,p(Hr*Ce)]}),hr}function ta(){var Xt=1,$t=0,ue=45*n,ce=2,Ce=(0,A.r)(Zn),Me=Ce(Xt,$t,ue,ce);return Me.a=function(Re){return arguments.length?Ce(Xt=+Re,$t,ue,ce):Xt},Me.b=function(Re){return arguments.length?Ce(Xt,$t=+Re,ue,ce):$t},Me.psiMax=function(Re){return arguments.length?Ce(Xt,$t,ue=+Re*n,ce):ue*b},Me.ratio=function(Re){return arguments.length?Ce(Xt,$t,ue,ce=+Re):ce},Me.scale(180.739)}function Xn(Xt,$t,ue,ce,Ce,Me,Re,cr,pr,ur,hr){if(hr.nanEncountered)return NaN;var kr,Hr,jr,Qr,bn,kn,_n,xa,Ma,Aa;if(Hr=Xt($t+.25*(kr=ue-$t)),jr=Xt(ue-.25*kr),isNaN(Hr))hr.nanEncountered=!0;else{if(!isNaN(jr))return Aa=((kn=(Qr=kr*(ce+4*Hr+Ce)/12)+(bn=kr*(Ce+4*jr+Me)/12))-Re)/15,ur>pr?(hr.maxDepthCount++,kn+Aa):Math.abs(Aa)<cr?kn+Aa:(xa=Xn(Xt,$t,_n=$t+.5*kr,ce,Hr,Ce,Qr,.5*cr,pr,ur+1,hr),isNaN(xa)?(hr.nanEncountered=!0,NaN):(Ma=Xn(Xt,_n,ue,Ce,jr,Me,bn,.5*cr,pr,ur+1,hr),isNaN(Ma)?(hr.nanEncountered=!0,NaN):xa+Ma));hr.nanEncountered=!0}}function ha(Xt,$t,ue,ce,Ce){void 0===ce&&(ce=1e-8),void 0===Ce&&(Ce=20);var Re=Xt($t),cr=Xt(.5*($t+ue)),pr=Xt(ue);return Xn(Xt,$t,ue,Re,cr,pr,(Re+4*cr+pr)*(ue-$t)/6,ce,Ce,1,{maxDepthCount:0,nanEncountered:!1})}function Si(Xt,$t,ue){function ce(jr){return Xt+(1-Xt)*s(1-s(jr,$t),1/$t)}function Ce(jr){return ha(ce,0,jr,1e-4)}for(var Me=1/Ce(1),Re=1e3,cr=(1+1e-8)*Me,pr=[],ur=0;ur<=Re;ur++)pr.push(Ce(ur/Re)*cr);function hr(jr){var Qr=0,bn=Re,kn=500;do{pr[kn]>jr?bn=kn:Qr=kn,kn=Qr+bn>>1}while(kn>Qr);var _n=pr[kn+1]-pr[kn];return _n&&(_n=(jr-pr[kn+1])/_n),(kn+1+_n)/Re}var kr=2*hr(1)/o*Me/ue,Hr=function(jr,Qr){var bn=hr(g(y(Qr))),kn=ce(bn)*jr;return bn/=kr,[kn,Qr>=0?bn:-bn]};return Hr.invert=function(jr,Qr){var bn;return g(Qr*=kr)<1&&(bn=u(Qr)*p(Ce(g(Qr))*Me)),[jr/ce(g(Qr)),bn]},Hr}function qi(){var Xt=0,$t=2.5,ue=1.183136,ce=(0,A.r)(Si),Ce=ce(Xt,$t,ue);return Ce.alpha=function(Me){return arguments.length?ce(Xt=+Me,$t,ue):Xt},Ce.k=function(Me){return arguments.length?ce(Xt,$t=+Me,ue):$t},Ce.gamma=function(Me){return arguments.length?ce(Xt,$t,ue=+Me):ue},Ce.scale(152.63)}function to(Xt,$t){return g(Xt[0]-$t[0])<w&&g(Xt[1]-$t[1])<w}function eo(Xt,$t){for(var Me,Re,cr,ue=-1,ce=Xt.length,Ce=Xt[0],pr=[];++ue<ce;){Re=((Me=Xt[ue])[0]-Ce[0])/$t,cr=(Me[1]-Ce[1])/$t;for(var ur=0;ur<$t;++ur)pr.push([Ce[0]+ur*Re,Ce[1]+ur*cr]);Ce=Me}return pr.push(Me),pr}function Fs(Xt){var ue,ce,Me,Re,pr,$t=[],ur=Xt[0].length;for(pr=0;pr<ur;++pr)$t.push(eo([[(ce=(ue=Xt[0][pr])[0][0])+w,ue[0][1]+w],[ce+w,(Me=ue[1][1])-w],[(Re=ue[2][0])-w,Me-w],[Re-w,ue[2][1]+w]],30));for(pr=Xt[1].length-1;pr>=0;--pr)$t.push(eo([[(Re=(ue=Xt[1][pr])[2][0])-w,ue[2][1]-w],[Re-w,(Me=ue[1][1])+w],[(ce=ue[0][0])+w,Me+w],[ce+w,ue[0][1]-w]],30));return{type:"Polygon",coordinates:[(0,ya.TS)($t)]}}function co(Xt,$t,ue){var ce,Ce;function Me(pr,ur){for(var hr=ur<0?-1:1,kr=$t[+(ur<0)],Hr=0,jr=kr.length-1;Hr<jr&&pr>kr[Hr][2][0];++Hr);var Qr=Xt(pr-kr[Hr][1][0],ur);return Qr[0]+=Xt(kr[Hr][1][0],hr*ur>hr*kr[Hr][0][1]?kr[Hr][0][1]:ur)[0],Qr}ue?Me.invert=ue(Me):Xt.invert&&(Me.invert=function(pr,ur){for(var hr=Ce[+(ur<0)],kr=$t[+(ur<0)],Hr=0,jr=hr.length;Hr<jr;++Hr){var Qr=hr[Hr];if(Qr[0][0]<=pr&&pr<Qr[1][0]&&Qr[0][1]<=ur&&ur<Qr[1][1]){var bn=Xt.invert(pr-Xt(kr[Hr][1][0],0)[0],ur);return bn[0]+=kr[Hr][1][0],to(Me(bn[0],bn[1]),[pr,ur])?bn:null}}});var Re=(0,A.Z)(Me),cr=Re.stream;return Re.stream=function(pr){var ur=Re.rotate(),hr=cr(pr),kr=(Re.rotate([0,0]),cr(pr));return Re.rotate(ur),hr.sphere=function(){(0,Ba.Z)(ce,kr)},hr},Re.lobes=function(pr){return arguments.length?(ce=Fs(pr),$t=pr.map(function(ur){return ur.map(function(hr){return[[hr[0][0]*n,hr[0][1]*n],[hr[1][0]*n,hr[1][1]*n],[hr[2][0]*n,hr[2][1]*n]]})}),Ce=$t.map(function(ur){return ur.map(function(hr){var bn,kr=Xt(hr[0][0],hr[0][1])[0],Hr=Xt(hr[2][0],hr[2][1])[0],jr=Xt(hr[1][0],hr[0][1])[1],Qr=Xt(hr[1][0],hr[1][1])[1];return jr>Qr&&(bn=jr,jr=Qr,Qr=bn),[[kr,jr],[Hr,Qr]]})}),Re):$t.map(function(ur){return ur.map(function(hr){return[[hr[0][0]*b,hr[0][1]*b],[hr[1][0]*b,hr[1][1]*b],[hr[2][0]*b,hr[2][1]*b]]})})},null!=$t&&Re.lobes($t),Re}Ye.invert=function(Xt,$t){return $t>-Dr?Ut.invert(Xt,$t-Ue):zt.invert(Xt,$t)},Yr.invert=function(Xt,$t){return g($t)>Dr?Ut.invert(Xt,$t+($t>0?Ue:-Ue)):zt.invert(Xt,$t)};var Ga=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Yo(){return co(te,Ga).scale(160.857)}var Sl=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ei(){return co(Yr,Sl).scale(152.63)}var ro=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function qs(){return co(Ut,ro).scale(169.529)}var El=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Ci(){return co(Ut,El).scale(169.529).rotate([20,0])}var tl=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function ho(){return co(Ye,tl,Dt).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var bi=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function $l(){return co(zt,bi).scale(152.63).rotate([-20,0])}function Ii(Xt,$t){return[3/S*Xt*D(o*o/3-$t*$t),$t]}function Ro(){return(0,A.Z)(Ii).scale(158.837)}function Ui(Xt){function $t(ue,ce){if(g(g(ce)-h)<w)return[0,ce<0?-2:2];var Ce=y(ce),Me=s((1+Ce)/(1-Ce),Xt/2),Re=.5*(Me+1/Me)+l(ue*=Xt);return[2*y(ue)/Re,(Me-1/Me)/Re]}return $t.invert=function(ue,ce){var Ce=g(ce);if(g(Ce-2)<w)return ue?null:[0,u(ce)*h];if(Ce>2)return null;var Me=(ue/=2)*ue,Re=(ce/=2)*ce,cr=2*ce/(1+Me+Re);return cr=s((1+cr)/(1-cr),1/Xt),[P(2*ue,1-Me-Re)/Xt,p((cr-1)/(cr+1))]},$t}function Su(){var Xt=.5,$t=(0,A.r)(Ui),ue=$t(Xt);return ue.spacing=function(ce){return arguments.length?$t(Xt=+ce):Xt},ue.scale(124.75)}Ii.invert=function(Xt,$t){return[S/3*Xt/D(o*o/3-$t*$t),$t]};var Xi=o/L;function el(Xt,$t){return[Xt*(1+D(l($t)))/2,$t/(l($t/2)*l(Xt/6))]}function no(){return(0,A.Z)(el).scale(97.2672)}function wi(Xt,$t){var ue=Xt*Xt,ce=$t*$t;return[Xt*(.975534+ce*(-.0143059*ue-.119161+-.0547009*ce)),$t*(1.00384+ue*(.0802894+-.02855*ce+199025e-9*ue)+ce*(.0998909+-.0491032*ce))]}function Eu(){return(0,A.Z)(wi).scale(139.98)}function Io(Xt,$t){return[y(Xt)/l($t),v($t)*l(Xt)]}function rs(){return(0,A.Z)(Io).scale(144.049).clipAngle(89.999)}function Cl(Xt){var $t=l(Xt),ue=v(M+Xt/2);function ce(Ce,Me){var Re=Me-Xt,cr=g(Re)<w?Ce*$t:g(cr=M+Me/2)<w||g(g(cr)-h)<w?0:Ce*Re/r(v(cr)/ue);return[cr,Re]}return ce.invert=function(Ce,Me){var Re,cr=Me+Xt;return[g(Me)<w?Ce/$t:g(Re=M+cr/2)<w||g(g(Re)-h)<w?0:Ce*r(v(Re)/ue)/Me,cr]},ce}function Cu(){return kt(Cl).parallel(40).scale(158.837)}function Ll(Xt,$t){return[Xt,1.25*r(v(M+.4*$t))]}function Pl(){return(0,A.Z)(Ll).scale(108.318)}function Lu(Xt){var $t=Xt.length-1;function ue(ce,Ce){for(var jr,Me=l(Ce),Re=2/(1+Me*l(ce)),cr=Re*Me*y(ce),pr=Re*y(Ce),ur=$t,hr=Xt[ur],kr=hr[0],Hr=hr[1];--ur>=0;)kr=(hr=Xt[ur])[0]+cr*(jr=kr)-pr*Hr,Hr=hr[1]+cr*Hr+pr*jr;return[kr=cr*(jr=kr)-pr*Hr,Hr=cr*Hr+pr*jr]}return ue.invert=function(ce,Ce){var Me=20,Re=ce,cr=Ce;do{for(var Qr,pr=$t,ur=Xt[pr],hr=ur[0],kr=ur[1],Hr=0,jr=0;--pr>=0;)Hr=hr+Re*(Qr=Hr)-cr*jr,jr=kr+Re*jr+cr*Qr,hr=(ur=Xt[pr])[0]+Re*(Qr=hr)-cr*kr,kr=ur[1]+Re*kr+cr*Qr;var kn,_n,bn=(Hr=hr+Re*(Qr=Hr)-cr*jr)*Hr+(jr=kr+Re*jr+cr*Qr)*jr;Re-=kn=((hr=Re*(Qr=hr)-cr*kr-ce)*Hr+(kr=Re*kr+cr*Qr-Ce)*jr)/bn,cr-=_n=(kr*Hr-hr*jr)/bn}while(g(kn)+g(_n)>w*w&&--Me>0);if(Me){var xa=D(Re*Re+cr*cr),Ma=2*i(.5*xa),Aa=y(Ma);return[P(Re*Aa,xa*l(Ma)),xa?p(cr*Aa/xa):0]}},ue}el.invert=function(Xt,$t){var ue=g(Xt),ce=g($t),Ce=w,Me=h;ce<Xi?Me*=ce/Xi:Ce+=6*F(Xi/ce);for(var Re=0;Re<25;Re++){var cr=y(Me),pr=D(l(Me)),ur=y(Me/2),hr=l(Me/2),kr=y(Ce/6),Hr=l(Ce/6),jr=.5*Ce*(1+pr)-ue,Qr=Me/(hr*Hr)-ce,bn=pr?-.25*Ce*cr/pr:0,kn=.5*(1+pr),_n=(1+.5*Me*ur/hr)/(hr*Hr),xa=Me/hr*(kr/6)/(Hr*Hr),Ma=bn*xa-_n*kn,Aa=(jr*xa-Qr*kn)/Ma,Ra=(Qr*bn-jr*_n)/Ma;if(Me-=Aa,Ce-=Ra,g(Aa)<w&&g(Ra)<w)break}return[Xt<0?-Ce:Ce,$t<0?-Me:Me]},wi.invert=function(Xt,$t){var ue=u(Xt)*o,ce=$t/2,Ce=50;do{var Me=ue*ue,Re=ce*ce,cr=ue*ce,pr=ue*(.975534+Re*(-.0143059*Me-.119161+-.0547009*Re))-Xt,ur=ce*(1.00384+Me*(.0802894+-.02855*Re+199025e-9*Me)+Re*(.0998909+-.0491032*Re))-$t,hr=.975534-Re*(.119161+3*Me*.0143059+.0547009*Re),kr=-cr*(.238322+.2188036*Re+.0286118*Me),Hr=cr*(.1605788+7961e-7*Me+-.0571*Re),jr=1.00384+Me*(.0802894+199025e-9*Me)+Re*(3*(.0998909-.02855*Me)-.245516*Re),Qr=kr*Hr-jr*hr,bn=(ur*kr-pr*jr)/Qr,kn=(pr*Hr-ur*hr)/Qr;ue-=bn,ce-=kn}while((g(bn)>w||g(kn)>w)&&--Ce>0);return Ce&&[ue,ce]},Io.invert=function(Xt,$t){var ue=Xt*Xt,Ce=$t*$t+1,Me=ue+Ce,Re=Xt?T*D((Me-D(Me*Me-4*ue))/ue):1/D(Ce);return[p(Xt*Re),u($t)*F(Re)]},Ll.invert=function(Xt,$t){return[Xt,2.5*i(x(.8*$t))-.625*o]};var af=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],of=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],_l=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],sf=[[.9245,0],[0,0],[.01943,0]],lf=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Pu(){return ns(af,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function uf(){return ns(of,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function ff(){return ns(_l,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Du(){return ns(sf,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function cf(){return ns(lf,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function ns(Xt,$t){var ue=(0,A.Z)(Lu(Xt)).rotate($t).clipAngle(90),ce=(0,Et.Z)($t),Ce=ue.center;return delete ue.rotate,ue.center=function(Me){return arguments.length?Ce(ce(Me)):ce.invert(Ce())},ue}var ks=D(6),zs=D(7);function Dl(Xt,$t){var ue=p(7*y($t)/(3*ks));return[ks*Xt*(2*l(2*ue/3)-1)/zs,9*y(ue/3)/zs]}function ql(){return(0,A.Z)(Dl).scale(164.859)}function Rl(Xt,$t){for(var Me,ue=(1+T)*y($t),ce=$t,Ce=0;Ce<25&&(ce-=Me=(y(ce/2)+y(ce)-ue)/(.5*l(ce/2)+l(ce)),!(g(Me)<w));Ce++);return[Xt*(1+2*l(ce)/l(ce/2))/(3*L),2*D(3)*y(ce/2)/D(2+L)]}function hf(){return(0,A.Z)(Rl).scale(188.209)}function as(Xt,$t){for(var Re,ue=D(6/(4+o)),ce=(1+o/4)*y($t),Ce=$t/2,Me=0;Me<25&&(Ce-=Re=(Ce/2+y(Ce)-ce)/(.5+l(Ce)),!(g(Re)<w));Me++);return[ue*(.5+l(Ce))*Xt/1.5,ue*Ce]}function xo(){return(0,A.Z)(as).scale(166.518)}Dl.invert=function(Xt,$t){var ue=3*p($t*zs/9);return[Xt*zs/(ks*(2*l(2*ue/3)-1)),p(3*y(ue)*ks/7)]},Rl.invert=function(Xt,$t){var ue=$t*D(2+L)/(2*D(3)),ce=2*p(ue);return[3*L*Xt/(1+2*l(ce)/l(ce/2)),p((ue+y(ce))/(1+T))]},as.invert=function(Xt,$t){var ue=D(6/(4+o)),ce=$t/ue;return g(g(ce)-h)<w&&(ce=ce<0?-h:h),[1.5*Xt/(ue*(.5+l(ce))),p((ce/2+y(ce))/(1+o/4))]};var rl=t(26867);function ms(Xt,$t){var ue=$t*$t,ce=ue*ue,Ce=ue*ce;return[Xt*(.84719-.13063*ue+Ce*Ce*(.05494*ue-.04515-.02326*ce+.00331*Ce)),$t*(1.01183+ce*ce*(.01926*ue-.02625-.00396*ce))]}function Il(){return(0,A.Z)(ms).scale(175.295)}function lo(Xt,$t){return[Xt*(1+l($t))/2,2*($t-v($t/2))]}function is(){return(0,A.Z)(lo).scale(152.63)}ms.invert=function(Xt,$t){var Ce,Me,Re,cr,ue=$t,ce=25;do{ue-=Ce=(ue*(1.01183+(Re=(Me=ue*ue)*Me)*Re*(.01926*Me-.02625-.00396*Re))-$t)/(1.01183+Re*Re*(.21186*Me-.23625+-.05148*Re))}while(g(Ce)>d&&--ce>0);return[Xt/(.84719-.13063*(Me=ue*ue)+(cr=Me*(Re=Me*Me))*cr*(.05494*Me-.04515-.02326*Re+.00331*cr)),ue]},lo.invert=function(Xt,$t){for(var ue=$t/2,ce=0,Ce=1/0;ce<10&&g(Ce)>w;++ce){var Me=l($t/2);$t-=Ce=($t-v($t/2)-ue)/(1-.5/(Me*Me))}return[2*Xt/(1+l($t)),$t]};var tu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Fl(){return co(st(1/0),tu).rotate([20,0]).scale(152.63)}function bo(Xt,$t){var ue=y($t),ce=l($t),Ce=u(Xt);if(0===Xt||g($t)===h)return[0,$t];if(0===$t)return[Xt,0];if(g(Xt)===h)return[Xt*ce,h*ue];var Me=o/(2*Xt)-2*Xt/o,Re=2*$t/o,cr=(1-Re*Re)/(ue-Re),pr=Me*Me,ur=cr*cr,hr=1+pr/ur,kr=1+ur/pr,Hr=(Me*ue/cr-Me/2)/hr,jr=(ur*ue/pr+cr/2)/kr,bn=jr*jr-(ur*ue*ue/pr+cr*ue-1)/kr;return[h*(Hr+D(Hr*Hr+ce*ce/hr)*Ce),h*(jr+D(bn<0?0:bn)*u(-$t*Me)*Ce)]}function Li(){return(0,A.Z)(bo).scale(127.267)}bo.invert=function(Xt,$t){var ue=(Xt/=h)*Xt,Ce=ue+($t/=h)*$t,Me=o*o;return[Xt?(Ce-1+D((1-Ce)*(1-Ce)+4*ue))/(2*Xt)*h:0,bt(function(Re){return Ce*(o*y(Re)-2*Re)*o+4*Re*Re*($t-y(Re))+2*o*Re-Me*$t},0)]};var eu=1.0148,ru=.23185,Os=-.14499,kl=.02406,Zo=1.790857183;function xs(Xt,$t){var ue=$t*$t;return[Xt,$t*(eu+ue*ue*(ru+ue*(Os+kl*ue)))]}function Fo(){return(0,A.Z)(xs).scale(139.319)}function au(Xt,$t){if(g($t)<w)return[Xt,0];var ue=v($t),ce=Xt*y($t);return[y(ce)/ue,$t+(1-l(ce))/ue]}function iu(){return(0,A.Z)(au).scale(103.74)}xs.invert=function(Xt,$t){$t>Zo?$t=Zo:$t<-Zo&&($t=-Zo);var ce,ue=$t;do{var Ce=ue*ue;ue-=ce=(ue*(eu+Ce*Ce*(ru+Ce*(Os+kl*Ce)))-$t)/(1.0148+Ce*Ce*(1.1592500000000001+Ce*(.21654*Ce-1.01493)))}while(g(ce)>w);return[Xt,ue]},au.invert=function(Xt,$t){if(g($t)<w)return[Xt,0];var Me,ue=Xt*Xt+$t*$t,ce=.5*$t,Ce=10;do{var Re=v(ce),cr=1/l(ce),pr=ue-2*$t*ce+ce*ce;ce-=Me=(Re*pr+2*(ce-$t))/(2+pr*cr*cr+2*(ce-$t)*Re)}while(g(Me)>w&&--Ce>0);return Re=v(ce),[(g($t)<g(ce+1/Re)?p(Xt*Re):u($t)*u(Xt)*(F(g(Xt*Re))+h))/y(ce),ce]};var ou=t(77338),nl=t(83074);function zl(Xt,$t){var ue=ku(Xt[1],Xt[0]),ce=ku($t[1],$t[0]),Ce=function hi(Xt,$t){return P(Xt[0]*$t[1]-Xt[1]*$t[0],Xt[0]*$t[0]+Xt[1]*$t[1])}(ue,ce),Me=zu(ue)/zu(ce);return al([1,0,Xt[0][0],0,1,Xt[0][1]],al([Me,0,0,0,Me,0],al([l(Ce),y(Ce),0,-y(Ce),l(Ce),0],[1,0,-$t[0][0],0,1,-$t[0][1]])))}function Fu(Xt){var $t=1/(Xt[0]*Xt[4]-Xt[1]*Xt[3]);return[$t*Xt[4],-$t*Xt[1],$t*(Xt[1]*Xt[5]-Xt[2]*Xt[4]),-$t*Xt[3],$t*Xt[0],$t*(Xt[2]*Xt[3]-Xt[0]*Xt[5])]}function al(Xt,$t){return[Xt[0]*$t[0]+Xt[1]*$t[3],Xt[0]*$t[1]+Xt[1]*$t[4],Xt[0]*$t[2]+Xt[1]*$t[5]+Xt[2],Xt[3]*$t[0]+Xt[4]*$t[3],Xt[3]*$t[1]+Xt[4]*$t[4],Xt[3]*$t[2]+Xt[4]*$t[5]+Xt[5]]}function ku(Xt,$t){return[Xt[0]-$t[0],Xt[1]-$t[1]]}function zu(Xt){return D(Xt[0]*Xt[0]+Xt[1]*Xt[1])}function Ns(Xt,$t,ue){function Ce(ur,hr){var jr,kr=$t(ur,hr),Hr=kr.project([ur*b,hr*b]);return(jr=kr.transform)?[jr[0]*Hr[0]+jr[1]*Hr[1]+jr[2],-(jr[3]*Hr[0]+jr[4]*Hr[1]+jr[5])]:(Hr[1]=-Hr[1],Hr)}function Me(ur,hr){var kr=ur.project.invert,Hr=ur.transform,jr=hr;if(Hr&&(jr=[(Hr=Fu(Hr))[0]*jr[0]+Hr[1]*jr[1]+Hr[2],Hr[3]*jr[0]+Hr[4]*jr[1]+Hr[5]]),kr&&ur===function Re(ur){return $t(ur[0]*n,ur[1]*n)}(Qr=kr(jr)))return Qr;for(var Qr,bn=ur.children,kn=0,_n=bn&&bn.length;kn<_n;++kn)if(Qr=Me(bn[kn],hr))return Qr}(function ce(ur,hr){if(ur.edges=function Ou(Xt){for(var $t=Xt.length,ue=[],ce=Xt[$t-1],Ce=0;Ce<$t;++Ce)ue.push([ce,ce=Xt[Ce]]);return ue}(ur.face),hr.face){var kr=ur.shared=function Us(Xt,$t){for(var ue,ce,Ce=Xt.length,Me=null,Re=0;Re<Ce;++Re){ue=Xt[Re];for(var cr=$t.length;--cr>=0;)if(ue[0]===(ce=$t[cr])[0]&&ue[1]===ce[1]){if(Me)return[Me,ue];Me=ue}}}(ur.face,hr.face),Hr=zl(kr.map(hr.project),kr.map(ur.project));ur.transform=hr.transform?al(hr.transform,Hr):Hr;for(var jr=hr.edges,Qr=0,bn=jr.length;Qr<bn;++Qr)uo(kr[0],jr[Qr][1])&&uo(kr[1],jr[Qr][0])&&(jr[Qr]=ur),uo(kr[0],jr[Qr][0])&&uo(kr[1],jr[Qr][1])&&(jr[Qr]=ur);for(Qr=0,bn=(jr=ur.edges).length;Qr<bn;++Qr)uo(kr[0],jr[Qr][0])&&uo(kr[1],jr[Qr][1])&&(jr[Qr]=hr),uo(kr[0],jr[Qr][1])&&uo(kr[1],jr[Qr][0])&&(jr[Qr]=hr)}else ur.transform=hr.transform;return ur.children&&ur.children.forEach(function(kn){ce(kn,ur)}),ur})(Xt,{transform:null}),Fi(Xt)&&(Ce.invert=function(ur,hr){var kr=Me(Xt,[ur,-hr]);return kr&&(kr[0]*=n,kr[1]*=n,kr)});var cr=(0,A.Z)(Ce),pr=cr.stream;return cr.stream=function(ur){var hr=cr.rotate(),kr=pr(ur),Hr=(cr.rotate([0,0]),pr(ur));return cr.rotate(hr),kr.sphere=function(){Hr.polygonStart(),Hr.lineStart(),bs(Hr,Xt),Hr.lineEnd(),Hr.polygonEnd()},kr},cr.angle(null==ue?-30:ue*b)}function bs(Xt,$t,ue){var ce,Re,Ce=$t.edges,Me=Ce.length,cr={type:"MultiPoint",coordinates:$t.face},pr=$t.face.filter(function(bn){return 90!==g(bn[1])}),ur=(0,ou.Z)({type:"MultiPoint",coordinates:pr}),hr=!1,kr=-1,Hr=ur[1][0]-ur[0][0],jr=180===Hr||360===Hr?[(ur[0][0]+ur[1][0])/2,(ur[0][1]+ur[1][1])/2]:(0,Ct.Z)(cr);if(ue)for(;++kr<Me&&Ce[kr]!==ue;);++kr;for(var Qr=0;Qr<Me;++Qr)Re=Ce[(Qr+kr)%Me],Array.isArray(Re)?(hr||(Xt.point((ce=(0,nl.Z)(Re[0],jr)(w))[0],ce[1]),hr=!0),Xt.point((ce=(0,nl.Z)(Re[1],jr)(w))[0],ce[1])):(hr=!1,Re!==ue&&bs(Xt,Re,$t))}function uo(Xt,$t){return Xt&&$t&&Xt[0]===$t[0]&&Xt[1]===$t[1]}function Fi(Xt){return Xt.project.invert||Xt.children&&Xt.children.some(Fi)}var ws=t(98936),ko=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],wo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Xt){return Xt.map(function($t){return ko[$t]})});function Xo(Xt){Xt=Xt||function(ue){var ce=(0,Ct.Z)({type:"MultiPoint",coordinates:ue});return(0,ws.Z)().scale(1).translate([0,0]).rotate([-ce[0],-ce[1]])};var $t=wo.map(function(ue){return{face:ue,project:Xt(ue)}});return[-1,0,0,1,0,1,4,5].forEach(function(ue,ce){var Ce=$t[ue];Ce&&(Ce.children||(Ce.children=[])).push($t[ce])}),Ns($t[0],function(ue,ce){return $t[ue<-o/2?ce<0?6:4:ue<0?ce<0?2:0:ue<o/2?ce<0?3:1:ce<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var jo=2/D(3);function zo(Xt,$t){var ue=Yt(Xt,$t);return[ue[0]*jo,ue[1]]}function os(Xt){Xt=Xt||function(ue){var ce=(0,Ct.Z)({type:"MultiPoint",coordinates:ue});return(0,A.Z)(zo).translate([0,0]).scale(1).rotate(ce[1]>0?[-ce[0],0]:[180-ce[0],180])};var $t=wo.map(function(ue){return{face:ue,project:Xt(ue)}});return[-1,0,0,1,0,1,4,5].forEach(function(ue,ce){var Ce=$t[ue];Ce&&(Ce.children||(Ce.children=[])).push($t[ce])}),Ns($t[0],function(ue,ce){return $t[ue<-o/2?ce<0?6:4:ue<0?ce<0?2:0:ue<o/2?ce<0?3:1:ce<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function ss(Xt){Xt=Xt||function(Re){var cr=6===Re.length?(0,Ct.Z)({type:"MultiPoint",coordinates:Re}):Re[0];return(0,ws.Z)().scale(1).translate([0,0]).rotate([-cr[0],-cr[1]])};var $t=wo.map(function(Re){for(var hr,cr=Re.map(Ol),pr=cr.length,ur=cr[pr-1],kr=[],Hr=0;Hr<pr;++Hr)kr.push(lu([.9486832980505138*ur[0]+.31622776601683794*(hr=cr[Hr])[0],.9486832980505138*ur[1]+.31622776601683794*hr[1],.9486832980505138*ur[2]+.31622776601683794*hr[2]]),lu([.9486832980505138*hr[0]+.31622776601683794*ur[0],.9486832980505138*hr[1]+.31622776601683794*ur[1],.9486832980505138*hr[2]+.31622776601683794*ur[2]])),ur=hr;return kr}),ue=[],ce=[-1,0,0,1,0,1,4,5];$t.forEach(function(Re,cr){for(var pr=wo[cr],ur=pr.length,hr=ue[cr]=[],kr=0;kr<ur;++kr)$t.push([pr[kr],Re[(2*kr+2)%(2*ur)],Re[(2*kr+1)%(2*ur)]]),ce.push(cr),hr.push(su(Ol(Re[(2*kr+2)%(2*ur)]),Ol(Re[(2*kr+1)%(2*ur)])))});var Ce=$t.map(function(Re){return{project:Xt(Re),face:Re}});return ce.forEach(function(Re,cr){var pr=Ce[Re];pr&&(pr.children||(pr.children=[])).push(Ce[cr])}),Ns(Ce[0],function Me(Re,cr){var pr=l(cr),ur=[pr*l(Re),pr*y(Re),y(cr)],hr=Re<-o/2?cr<0?6:4:Re<0?cr<0?2:0:Re<o/2?cr<0?3:1:cr<0?7:5,kr=ue[hr];return Ce[To(kr[0],ur)<0?8+3*hr:To(kr[1],ur)<0?8+3*hr+1:To(kr[2],ur)<0?8+3*hr+2:hr]}).angle(-30).scale(110.625).center([0,45])}function To(Xt,$t){for(var ue=0,ce=Xt.length,Ce=0;ue<ce;++ue)Ce+=Xt[ue]*$t[ue];return Ce}function su(Xt,$t){return[Xt[1]*$t[2]-Xt[2]*$t[1],Xt[2]*$t[0]-Xt[0]*$t[2],Xt[0]*$t[1]-Xt[1]*$t[0]]}function lu(Xt){return[P(Xt[1],Xt[0])*b,p(f(-1,a(1,Xt[2])))*b]}function Ol(Xt){var $t=Xt[0]*n,ue=Xt[1]*n,ce=l(ue);return[ce*l($t),ce*y($t),y(ue)]}function Vs(){}function df(Xt,$t){var ce,ue=$t.stream;if(!ue)throw new Error("invalid projection");switch(Xt&&Xt.type){case"Feature":ce=Nu;break;case"FeatureCollection":ce=Bu;break;default:ce=Bl}return ce(Xt,ue)}function Bu(Xt,$t){return{type:"FeatureCollection",features:Xt.features.map(function(ue){return Nu(ue,$t)})}}function Nu(Xt,$t){return{type:"Feature",id:Xt.id,properties:Xt.properties,geometry:Bl(Xt.geometry,$t)}}function Bl(Xt,$t){if(!Xt)return null;if("GeometryCollection"===Xt.type)return function Uu(Xt,$t){return{type:"GeometryCollection",geometries:Xt.geometries.map(function(ue){return Bl(ue,$t)})}}(Xt,$t);var ue;switch(Xt.type){case"Point":case"MultiPoint":ue=ls;break;case"LineString":case"MultiLineString":ue=il;break;case"Polygon":case"MultiPolygon":case"Sphere":ue=Hs;break;default:return null}return(0,Ba.Z)(Xt,$t(ue)),ue.result()}zo.invert=function(Xt,$t){return Yt.invert(Xt/jo,$t)};var Ni=[],vo=[],ls={point:function(Xt,$t){Ni.push([Xt,$t])},result:function(){var Xt=Ni.length?Ni.length<2?{type:"Point",coordinates:Ni[0]}:{type:"MultiPoint",coordinates:Ni}:null;return Ni=[],Xt}},il={lineStart:Vs,point:function(Xt,$t){Ni.push([Xt,$t])},lineEnd:function(){Ni.length&&(vo.push(Ni),Ni=[])},result:function(){var Xt=vo.length?vo.length<2?{type:"LineString",coordinates:vo[0]}:{type:"MultiLineString",coordinates:vo}:null;return vo=[],Xt}},Hs={polygonStart:Vs,lineStart:Vs,point:function(Xt,$t){Ni.push([Xt,$t])},lineEnd:function(){var Xt=Ni.length;if(Xt){do{Ni.push(Ni[0].slice())}while(++Xt<4);vo.push(Ni),Ni=[]}},polygonEnd:Vs,result:function(){if(!vo.length)return null;var Xt=[],$t=[];return vo.forEach(function(ue){!function uu(Xt){if((ue=Xt.length)<4)return!1;for(var ue,$t=0,ce=Xt[ue-1][1]*Xt[0][0]-Xt[ue-1][0]*Xt[0][1];++$t<ue;)ce+=Xt[$t-1][1]*Xt[$t][0]-Xt[$t-1][0]*Xt[$t][1];return ce<=0}(ue)?$t.push(ue):Xt.push([ue])}),$t.forEach(function(ue){var ce=ue[0];Xt.some(function(Ce){if(function vf(Xt,$t){for(var ue=$t[0],ce=$t[1],Ce=!1,Me=0,Re=Xt.length,cr=Re-1;Me<Re;cr=Me++){var pr=Xt[Me],ur=pr[0],hr=pr[1],kr=Xt[cr],jr=kr[1];hr>ce^jr>ce&&ue<(kr[0]-ur)*(ce-hr)/(jr-hr)+ur&&(Ce=!Ce)}return Ce}(Ce[0],ce))return Ce.push(ue),!0})||Xt.push([ue])}),vo=[],Xt.length?Xt.length>1?{type:"MultiPolygon",coordinates:Xt}:{type:"Polygon",coordinates:Xt[0]}:null}};function fu(Xt){var $t=Xt(h,0)[0]-Xt(-h,0)[0];function ue(ce,Ce){var Me=g(ce)<h,Re=Xt(Me?ce:ce>0?ce-o:ce+o,Ce),cr=(Re[0]-Re[1])*T,pr=(Re[0]+Re[1])*T;if(Me)return[cr,pr];var ur=$t*T,hr=cr>0^pr>0?-1:1;return[hr*cr-u(pr)*ur,hr*pr-u(cr)*ur]}return Xt.invert&&(ue.invert=function(ce,Ce){var Me=(ce+Ce)*T,Re=(Ce-ce)*T,cr=g(Me)<.5*$t&&g(Re)<.5*$t;if(!cr){var pr=$t*T,ur=Me>0^Re>0?-1:1,hr=-ur*ce+(Re>0?1:-1)*pr,kr=-ur*Ce+(Me>0?1:-1)*pr;Me=(-hr-kr)*T,Re=(hr-kr)*T}var Hr=Xt.invert(Me,Re);return cr||(Hr[0]+=Me>0?o:-o),Hr}),(0,A.Z)(ue).rotate([-90,-90,45]).clipAngle(179.999)}function cu(){return fu(xn).scale(176.423)}function hu(){return fu(an).scale(111.48)}function pf(Xt,$t){if(!(0<=($t=+$t)&&$t<=20))throw new Error("invalid digits");function ue(ur){var hr=ur.length,kr=2,Hr=new Array(hr);for(Hr[0]=+ur[0].toFixed($t),Hr[1]=+ur[1].toFixed($t);kr<hr;)Hr[kr]=ur[kr],++kr;return Hr}function ce(ur){return ur.map(ue)}function Ce(ur){for(var hr=ue(ur[0]),kr=[hr],Hr=1;Hr<ur.length;Hr++){var jr=ue(ur[Hr]);(jr.length>2||jr[0]!=hr[0]||jr[1]!=hr[1])&&(kr.push(jr),hr=jr)}return 1===kr.length&&ur.length>1&&kr.push(ue(ur[ur.length-1])),kr}function Me(ur){return ur.map(Ce)}function Re(ur){if(null==ur)return ur;var hr;switch(ur.type){case"GeometryCollection":hr={type:"GeometryCollection",geometries:ur.geometries.map(Re)};break;case"Point":hr={type:"Point",coordinates:ue(ur.coordinates)};break;case"MultiPoint":hr={type:ur.type,coordinates:ce(ur.coordinates)};break;case"LineString":hr={type:ur.type,coordinates:Ce(ur.coordinates)};break;case"MultiLineString":case"Polygon":hr={type:ur.type,coordinates:Me(ur.coordinates)};break;case"MultiPolygon":hr={type:"MultiPolygon",coordinates:ur.coordinates.map(Me)};break;default:return ur}return null!=ur.bbox&&(hr.bbox=ur.bbox),hr}function cr(ur){var hr={type:"Feature",properties:ur.properties,geometry:Re(ur.geometry)};return null!=ur.id&&(hr.id=ur.id),null!=ur.bbox&&(hr.bbox=ur.bbox),hr}if(null!=Xt)switch(Xt.type){case"Feature":return cr(Xt);case"FeatureCollection":var pr={type:"FeatureCollection",features:Xt.features.map(cr)};return null!=Xt.bbox&&(pr.bbox=Xt.bbox),pr;default:return Re(Xt)}return Xt}function us(Xt){var $t=y(Xt);function ue(ce,Ce){var Me=$t?v(ce*$t/2)/$t:ce/2;if(!Ce)return[2*Me,-Xt];var Re=2*i(Me*y(Ce)),cr=1/v(Ce);return[y(Re)*cr,Ce+(1-l(Re))*cr-Xt]}return ue.invert=function(ce,Ce){if(g(Ce+=Xt)<w)return[$t?2*i($t*ce/2)/$t:ce,0];var pr,Me=ce*ce+Ce*Ce,Re=0,cr=10;do{var ur=v(Re),hr=1/l(Re),kr=Me-2*Ce*Re+Re*Re;Re-=pr=(ur*kr+2*(Re-Ce))/(2+kr*hr*hr+2*(Re-Ce)*ur)}while(g(pr)>w&&--cr>0);var Hr=ce*(ur=v(Re)),jr=v(g(Ce)<g(Re+1/ur)?.5*p(Hr):.5*F(Hr)+o/4)/y(Re);return[$t?2*i($t*jr)/$t:2*jr,Re]},ue}function fs(){return kt(us).scale(131.215)}var ki=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function ol(Xt,$t){var kr,ue=a(18,36*g($t)/o),ce=e(ue),Ce=ue-ce,Me=(kr=ki[ce])[0],Re=kr[1],cr=(kr=ki[++ce])[0],pr=kr[1],ur=(kr=ki[a(19,++ce)])[0],hr=kr[1];return[Xt*(cr+Ce*(ur-Me)/2+Ce*Ce*(ur-2*cr+Me)/2),($t>0?h:-h)*(pr+Ce*(hr-Re)/2+Ce*Ce*(hr-2*pr+Re)/2)]}function Nl(){return(0,A.Z)(ol).scale(152.63)}function Vu(Xt,$t){var ue=function Ts(Xt){function $t(ue,ce){var Ce=l(ce),Me=(Xt-1)/(Xt-Ce*l(ue));return[Me*Ce*y(ue),Me*y(ce)]}return $t.invert=function(ue,ce){var Ce=ue*ue+ce*ce,Me=D(Ce),Re=(Xt-D(1-Ce*(Xt+1)/(Xt-1)))/((Xt-1)/Me+Me/(Xt-1));return[P(ue*Re,Me*D(1-Re*Re)),Me?p(ce*Re/Me):0]},$t}(Xt);if(!$t)return ue;var ce=l($t),Ce=y($t);function Me(Re,cr){var pr=ue(Re,cr),ur=pr[1],hr=ur*Ce/(Xt-1)+ce;return[pr[0]*ce/hr,ur/hr]}return Me.invert=function(Re,cr){var pr=(Xt-1)/(Xt-1-cr*Ce);return ue.invert(pr*Re,pr*cr*ce)},Me}function cs(){var Xt=2,$t=0,ue=(0,A.r)(Vu),ce=ue(Xt,$t);return ce.distance=function(Ce){return arguments.length?ue(Xt=+Ce,$t):Xt},ce.tilt=function(Ce){return arguments.length?ue(Xt,$t=Ce*n):$t*b},ce.scale(432.147).clipAngle(F(1/Xt)*b-1e-6)}ki.forEach(function(Xt){Xt[1]*=1.0144}),ol.invert=function(Xt,$t){var ue=$t/h,ce=90*ue,Ce=a(18,g(ce/5)),Me=f(0,e(Ce));do{var Re=ki[Me][1],cr=ki[Me+1][1],pr=ki[a(19,Me+2)][1],ur=pr-Re,hr=pr-2*cr+Re,kr=2*(g(ue)-cr)/ur,Hr=hr/ur,jr=kr*(1-Hr*kr*(1-2*Hr*kr));if(jr>=0||1===Me){ce=($t>=0?5:-5)*(jr+Ce);var bn,Qr=50;do{jr=(Ce=a(18,g(ce)/5))-(Me=e(Ce)),Re=ki[Me][1],cr=ki[Me+1][1],pr=ki[a(19,Me+2)][1],ce-=(bn=($t>=0?h:-h)*(cr+jr*(pr-Re)/2+jr*jr*(pr-2*cr+Re)/2)-$t)*b}while(g(bn)>d&&--Qr>0);break}}while(--Me>=0);var kn=ki[Me][0],_n=ki[Me+1][0],xa=ki[a(19,Me+2)][0];return[Xt/(_n+jr*(xa-kn)/2+jr*jr*(xa-2*_n+kn)/2),ce*n]};var sl=1e-4,ll=-180+sl,ei=180-sl,vu=-90+sl,Ms=90-sl;function Hu(Xt){return Xt.length>0}function du(Xt){return Math.floor(1e4*Xt)/1e4}function ul(Xt){return-90===Xt||90===Xt?[0,Xt]:[-180,du(Xt)]}function Vl(Xt){var $t=Xt[0],ue=Xt[1],ce=!1;return $t<=ll?($t=-180,ce=!0):$t>=ei&&($t=180,ce=!0),ue<=vu?(ue=-90,ce=!0):ue>=Ms&&(ue=90,ce=!0),ce?[$t,ue]:Xt}function Gu(Xt){return Xt.map(Vl)}function Qo(Xt,$t,ue){for(var ce=0,Ce=Xt.length;ce<Ce;++ce){var Me=Xt[ce].slice();ue.push({index:-1,polygon:$t,ring:Me});for(var Re=0,cr=Me.length;Re<cr;++Re){var pr=Me[Re],ur=pr[0],hr=pr[1];if(ur<=ll||ur>=ei||hr<=vu||hr>=Ms){Me[Re]=Vl(pr);for(var kr=Re+1;kr<cr;++kr){var Hr=Me[kr],jr=Hr[0],Qr=Hr[1];if(jr>ll&&jr<ei&&Qr>vu&&Qr<Ms)break}if(kr===Re+1)continue;if(Re){var bn={index:-1,polygon:$t,ring:Me.slice(0,Re+1)};bn.ring[bn.ring.length-1]=ul(hr),ue[ue.length-1]=bn}else ue.pop();if(kr>=cr)break;ue.push({index:-1,polygon:$t,ring:Me=Me.slice(kr-1)}),Me[0]=ul(Me[0][1]),Re=-1,cr=Me.length}}}}function fl(Xt){var $t,Me,Re,cr,pr,ur,ue=Xt.length,ce={},Ce={};for($t=0;$t<ue;++$t)(Re=(Me=Xt[$t]).ring[0])[0]!==(pr=Me.ring[Me.ring.length-1])[0]||Re[1]!==pr[1]?(Me.index=$t,ce[Re]=Ce[pr]=Me):(Me.polygon.push(Me.ring),Xt[$t]=null);for($t=0;$t<ue;++$t)if(Me=Xt[$t]){if(cr=Ce[Re=Me.ring[0]],ur=ce[pr=Me.ring[Me.ring.length-1]],delete ce[Re],delete Ce[pr],Re[0]===pr[0]&&Re[1]===pr[1]){Me.polygon.push(Me.ring);continue}cr?(delete Ce[Re],delete ce[cr.ring[0]],cr.ring.pop(),Xt[cr.index]=null,Me={index:-1,polygon:cr.polygon,ring:cr.ring.concat(Me.ring)},cr===ur?Me.polygon.push(Me.ring):(Me.index=ue++,Xt.push(ce[Me.ring[0]]=Ce[Me.ring[Me.ring.length-1]]=Me))):ur?(delete ce[pr],delete Ce[ur.ring[ur.ring.length-1]],Me.ring.pop(),Me={index:ue++,polygon:ur.polygon,ring:Me.ring.concat(ur.ring)},Xt[ur.index]=null,Xt.push(ce[Me.ring[0]]=Ce[Me.ring[Me.ring.length-1]]=Me)):(Me.ring.push(Me.ring[0]),Me.polygon.push(Me.ring))}}function cl(Xt){var $t={type:"Feature",geometry:$o(Xt.geometry)};return null!=Xt.id&&($t.id=Xt.id),null!=Xt.bbox&&($t.bbox=Xt.bbox),null!=Xt.properties&&($t.properties=Xt.properties),$t}function $o(Xt){if(null==Xt)return Xt;var $t,ue,ce,Ce;switch(Xt.type){case"GeometryCollection":$t={type:"GeometryCollection",geometries:Xt.geometries.map($o)};break;case"Point":$t={type:"Point",coordinates:Vl(Xt.coordinates)};break;case"MultiPoint":case"LineString":$t={type:Xt.type,coordinates:Gu(Xt.coordinates)};break;case"MultiLineString":$t={type:"MultiLineString",coordinates:Xt.coordinates.map(Gu)};break;case"Polygon":var Me=[];Qo(Xt.coordinates,Me,ue=[]),fl(ue),$t={type:"Polygon",coordinates:Me};break;case"MultiPolygon":ue=[],ce=-1,Ce=Xt.coordinates.length;for(var Re=new Array(Ce);++ce<Ce;)Qo(Xt.coordinates[ce],Re[ce]=[],ue);fl(ue),$t={type:"MultiPolygon",coordinates:Re.filter(Hu)};break;default:return Xt}return null!=Xt.bbox&&($t.bbox=Xt.bbox),$t}function Ao(Xt){if(null==Xt)return Xt;switch(Xt.type){case"Feature":return cl(Xt);case"FeatureCollection":var $t={type:"FeatureCollection",features:Xt.features.map(cl)};return null!=Xt.bbox&&($t.bbox=Xt.bbox),$t;default:return $o(Xt)}}function hl(Xt,$t){var ue=v($t/2),ce=y(M*ue);return[Xt*(.74482-.34588*ce*ce),1.70711*ue]}function hs(){return(0,A.Z)(hl).scale(146.153)}function vl(Xt,$t,ue){var ce=(0,nl.Z)($t,ue),Ce=ce(.5),Me=(0,Et.Z)([-Ce[0],-Ce[1]])($t),Re=ce.distance/2,cr=-p(y(Me[1]*n)/y(Re)),pr=[-Ce[0],-Ce[1],-(Me[0]>0?o-cr:cr)*b],ur=(0,A.Z)(Xt(Re)).rotate(pr),hr=(0,Et.Z)(pr),kr=ur.center;return delete ur.rotate,ur.center=function(Hr){return arguments.length?kr(hr(Hr)):hr.invert(kr())},ur.clipAngle(90)}function Ws(Xt){var $t=l(Xt);function ue(ce,Ce){var Me=(0,ws.M)(ce,Ce);return Me[0]*=$t,Me}return ue.invert=function(ce,Ce){return ws.M.invert(ce/$t,Ce)},ue}function Wu(){return Hl([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Hl(Xt,$t){return vl(Ws,Xt,$t)}function Ti(Xt){if(!(Xt*=2))return _.N;var $t=-Xt/2,ue=-$t,ce=Xt*Xt,Ce=v(ue),Me=.5/y(ue);function Re(cr,pr){var ur=F(l(pr)*l(cr-$t)),hr=F(l(pr)*l(cr-ue));return[((ur*=ur)-(hr*=hr))/(2*Xt),(pr<0?-1:1)*D(4*ce*hr-(ce-ur+hr)*(ce-ur+hr))/(2*Xt)]}return Re.invert=function(cr,pr){var Hr,jr,ur=pr*pr,hr=l(D(ur+(Hr=cr+$t)*Hr)),kr=l(D(ur+(Hr=cr+ue)*Hr));return[P(jr=hr-kr,Hr=(hr+kr)*Ce),(pr<0?-1:1)*F(D(Hr*Hr+jr*jr)*Me)]},Re}function pu(){return Gl([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Gl(Xt,$t){return vl(Ti,Xt,$t)}function Ss(Xt,$t){if(g($t)<w)return[Xt,0];var ue=g($t/h),ce=p(ue);if(g(Xt)<w||g(g($t)-h)<w)return[0,u($t)*o*v(ce/2)];var Ce=l(ce),Me=g(o/Xt-Xt/o)/2,Re=Me*Me,cr=Ce/(ue+Ce-1),pr=cr*(2/ue-1),ur=pr*pr,hr=ur+Re,kr=cr-ur,Hr=Re+cr;return[u(Xt)*o*(Me*kr+D(Re*kr*kr-hr*(cr*cr-ur)))/hr,u($t)*o*(pr*Hr-Me*D((Re+1)*hr-Hr*Hr))/hr]}function vs(){return(0,A.Z)(Ss).scale(79.4183)}function gu(Xt,$t){if(g($t)<w)return[Xt,0];var ue=g($t/h),ce=p(ue);if(g(Xt)<w||g(g($t)-h)<w)return[0,u($t)*o*v(ce/2)];var Ce=l(ce),Me=g(o/Xt-Xt/o)/2,Re=Me*Me,cr=Ce*(D(1+Re)-Me*Ce)/(1+Re*ue*ue);return[u(Xt)*o*cr,u($t)*o*D(1-cr*(2*Me+cr))]}function gf(){return(0,A.Z)(gu).scale(79.4183)}function Ys(Xt,$t){if(g($t)<w)return[Xt,0];var ue=$t/h,ce=p(ue);if(g(Xt)<w||g(g($t)-h)<w)return[0,o*v(ce/2)];var Ce=(o/Xt-Xt/o)/2,Me=ue/(1+l(ce));return[o*(u(Xt)*D(Ce*Ce+1-Me*Me)-Ce),o*Me]}function Zs(){return(0,A.Z)(Ys).scale(79.4183)}function dl(Xt,$t){if(!$t)return[Xt,0];var ue=g($t);if(!Xt||ue===h)return[0,$t];var ce=ue/h,Ce=ce*ce,Me=(8*ce-Ce*(Ce+2)-5)/(2*Ce*(ce-1)),Re=Me*Me,cr=ce*Me,pr=Ce+Re+2*cr,ur=ce+3*Me,hr=Xt/h,kr=hr+1/hr,Hr=u(g(Xt)-h)*D(kr*kr-4),jr=Hr*Hr,bn=(Hr*(pr+Re-1)+2*D(pr*(Ce+Re*jr-1)+(1-Ce)*(Ce*(ur*ur+4*Re)+12*cr*Re+4*Re*Re)))/(4*pr+jr);return[u(Xt)*h*bn,u($t)*h*D(1+Hr*g(bn)-bn*bn)]}function pl(){return(0,A.Z)(dl).scale(127.16)}function yu(Xt,$t,ue,ce){var Ce=o/3;Xt=f(Xt,w),$t=f($t,w),Xt=a(Xt,h),$t=a($t,o-w),ue=f(ue,0),ue=a(ue,100-w);var Re=(ce=f(ce,w))/100,cr=F((ue/100+1)*l(Ce))/Ce,pr=y(Xt)/y(cr*h),ur=$t/o,hr=D(Re*y(Xt/2)/y($t/2));return function Yu(Xt,$t,ue,ce,Ce){function Me(Re,cr){var pr=ue*y(ce*cr),ur=D(1-pr*pr),hr=D(2/(1+ur*l(Re*=Ce)));return[Xt*ur*hr*y(Re),$t*pr*hr]}return Me.invert=function(Re,cr){var pr=Re/Xt,ur=cr/$t,hr=D(pr*pr+ur*ur),kr=2*p(hr/2);return[P(Re*v(kr),Xt*hr)/Ce,hr&&p(cr*y(kr)/($t*ue*hr))/ce]},Me}(hr/D(ur*pr*cr),1/(hr*D(ur*pr*cr)),pr,cr,ur)}function Es(){var Xt=65*n,$t=60*n,ue=20,ce=200,Ce=(0,A.r)(yu),Me=Ce(Xt,$t,ue,ce);return Me.poleline=function(Re){return arguments.length?Ce(Xt=+Re*n,$t,ue,ce):Xt*b},Me.parallels=function(Re){return arguments.length?Ce(Xt,$t=+Re*n,ue,ce):$t*b},Me.inflation=function(Re){return arguments.length?Ce(Xt,$t,ue=+Re,ce):ue},Me.ratio=function(Re){return arguments.length?Ce(Xt,$t,ue,ce=+Re):ce},Me.scale(163.775)}function ao(){return Es().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}hl.invert=function(Xt,$t){var ue=$t/1.70711,ce=y(M*ue);return[Xt/(.74482-.34588*ce*ce),2*i(ue)]},Ss.invert=function(Xt,$t){if(g($t)<w)return[Xt,0];if(g(Xt)<w)return[0,h*y(2*i($t/o))];var ue=(Xt/=o)*Xt,ce=($t/=o)*$t,Ce=ue+ce,Me=Ce*Ce,Re=-g($t)*(1+Ce),cr=Re-2*ce+ue,pr=-2*Re+1+2*ce+Me,ur=ce/pr+(2*cr*cr*cr/(pr*pr*pr)-9*Re*cr/(pr*pr))/27,hr=(Re-cr*cr/(3*pr))/pr,kr=2*D(-hr/3),Hr=F(3*ur/(hr*kr))/3;return[o*(Ce-1+D(1+2*(ue-ce)+Me))/(2*Xt),u($t)*o*(-kr*l(Hr+o/3)-cr/(3*pr))]},gu.invert=function(Xt,$t){if(!Xt)return[0,h*y(2*i($t/o))];var ue=g(Xt/o),ce=(1-ue*ue-($t/=o)*$t)/(2*ue),Me=D(ce*ce+1);return[u(Xt)*o*(Me-ce),u($t)*h*y(2*P(D((1-2*ce*ue)*(ce+Me)-ue),D(Me+ce+ue)))]},Ys.invert=function(Xt,$t){if(!$t)return[Xt,0];var ue=$t/o,ce=(o*o*(1-ue*ue)-Xt*Xt)/(2*o*Xt);return[Xt?o*(u(Xt)*D(ce*ce+1)-ce):0,h*y(2*i(ue))]},dl.invert=function(Xt,$t){var ue;if(!Xt||!$t)return[Xt,$t];$t/=o;var ce=u(Xt)*Xt/h,Ce=(ce*ce-1+4*$t*$t)/g(ce),Me=Ce*Ce,Re=2*$t,cr=50;do{var pr=Re*Re,ur=(8*Re-pr*(pr+2)-5)/(2*pr*(Re-1)),hr=(3*Re-pr*Re-10)/(2*pr*Re),kr=ur*ur,Hr=Re*ur,jr=Re+ur,Qr=jr*jr,bn=Re+3*ur,_n=-2*jr*(4*Hr*kr+(1-4*pr+3*pr*pr)*(1+hr)+kr*(14*pr-6-Me+(8*pr-8-2*Me)*hr)+Hr*(12*pr-8+(10*pr-10-Me)*hr)),xa=D(Qr*(pr+kr*Me-1)+(1-pr)*(pr*(bn*bn+4*kr)+kr*(12*Hr+4*kr)));Re-=ue=(Ce*(Qr+kr-1)+2*xa-ce*(4*Qr+Me))/(Ce*(2*ur*hr+2*jr*(1+hr))+_n/xa-8*jr*(Ce*(-1+kr+Qr)+2*xa)*(1+hr)/(Me+4*Qr))}while(ue>w&&--cr>0);return[u(Xt)*(D(Ce*Ce+4)+Ce)*o/4,h*Re]};var mu=4*o+3*D(3),Wl=2*D(2*o*D(3)/mu),Oo=St(Wl*D(3)/o,Wl,mu/6);function Xs(){return(0,A.Z)(Oo).scale(176.84)}function Cs(Xt,$t){return[Xt*D(1-3*$t*$t/(o*o)),$t]}function Zu(){return(0,A.Z)(Cs).scale(152.63)}function Yl(Xt,$t){var ue=l($t),ce=l(Xt)*ue,Ce=1-ce,Me=l(Xt=P(y(Xt)*ue,-y($t))),Re=y(Xt);return[Re*(ue=D(1-ce*ce))-Me*Ce,-Me*ue-Re*Ce]}function Xu(){return(0,A.Z)(Yl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function yl(Xt,$t){var ue=Q(Xt,$t);return[(ue[0]+Xt/h)/2,(ue[1]+$t)/2]}function xu(){return(0,A.Z)(yl).scale(158.837)}Cs.invert=function(Xt,$t){return[Xt/D(1-3*$t*$t/(o*o)),$t]},Yl.invert=function(Xt,$t){var ue=(Xt*Xt+$t*$t)/-2,ce=D(-ue*(2+ue)),Ce=$t*ue+Xt*ce,Me=Xt*ue-$t*ce,Re=D(Me*Me+Ce*Ce);return[P(ce*Ce,Re*(1+ue)),Re?-p(ce*Me/Re):0]},yl.invert=function(Xt,$t){var ue=Xt,ce=$t,Ce=25;do{var kn,Me=l(ce),Re=y(ce),cr=y(2*ce),pr=Re*Re,ur=Me*Me,hr=y(ue),kr=l(ue/2),Hr=y(ue/2),jr=Hr*Hr,Qr=1-ur*kr*kr,bn=Qr?F(Me*kr)*D(kn=1/Qr):kn=0,_n=.5*(2*bn*Me*Hr+ue/h)-Xt,xa=.5*(bn*Re+ce)-$t,Ma=.5*kn*(ur*jr+bn*Me*kr*pr)+.5/h,Aa=kn*(hr*cr/4-bn*Re*Hr),Ra=.125*kn*(cr*Hr-bn*Re*ur*hr),qa=.5*kn*(pr*kr+bn*jr*Me)+.5,ai=Aa*Ra-qa*Ma,ea=(xa*Aa-_n*qa)/ai,fi=(_n*Ra-xa*Ma)/ai;ue-=ea,ce-=fi}while((g(ea)>w||g(fi)>w)&&--Ce>0);return[ue,ce]}},33940:function(tt,W,t){"use strict";function A(){return new g}function g(){this.reset()}t.d(W,{Z:function(){return A}}),g.prototype={constructor:g,reset:function(){this.s=this.t=0},add:function(E){P(i,E,this.t),P(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new g;function P(E,l,x){var e=E.s=l+x,r=e-l;E.t=l-(e-r)+(x-r)}},97860:function(tt,W,t){"use strict";t.d(W,{L9:function(){return E},ZP:function(){return w},gL:function(){return s}});var x,e,r,f,a,A=t(33940),g=t(39695),i=t(73182),P=t(72736),E=(0,A.Z)(),l=(0,A.Z)(),s={point:i.Z,lineStart:i.Z,lineEnd:i.Z,polygonStart:function(){E.reset(),s.lineStart=c,s.lineEnd=u},polygonEnd:function(){var d=+E;l.add(d<0?g.BZ+d:d),this.lineStart=this.lineEnd=this.point=i.Z},sphere:function(){l.add(g.BZ)}};function c(){s.point=y}function u(){v(x,e)}function y(d,o){s.point=v,x=d,e=o,r=d*=g.uR,f=(0,g.mC)(o=(o*=g.uR)/2+g.pu),a=(0,g.O$)(o)}function v(d,o){var h=(d*=g.uR)-r,M=h>=0?1:-1,T=M*h,L=(0,g.mC)(o=(o*=g.uR)/2+g.pu),m=(0,g.O$)(o),S=a*m,b=f*L+S*(0,g.mC)(T),n=S*M*(0,g.O$)(T);E.add((0,g.fv)(n,b)),r=d,f=L,a=m}function w(d){return l.reset(),(0,P.Z)(d,s),2*l}},77338:function(tt,W,t){"use strict";t.d(W,{Z:function(){return C}});var l,x,e,r,f,a,s,c,y,v,A=t(33940),g=t(97860),i=t(7620),P=t(39695),E=t(72736),u=(0,A.Z)(),w={point:d,lineStart:h,lineEnd:M,polygonStart:function(){w.point=T,w.lineStart=L,w.lineEnd=m,u.reset(),g.gL.polygonStart()},polygonEnd:function(){g.gL.polygonEnd(),w.point=d,w.lineStart=h,w.lineEnd=M,g.L9<0?(l=-(e=180),x=-(r=90)):u>P.Ho?r=90:u<-P.Ho&&(x=-90),v[0]=l,v[1]=e},sphere:function(){l=-(e=180),x=-(r=90)}};function d(p,F){y.push(v=[l=p,e=p]),F<x&&(x=F),F>r&&(r=F)}function o(p,F){var D=(0,i.Og)([p*P.uR,F*P.uR]);if(c){var N=(0,i.T5)(c,D),O=(0,i.T5)([N[1],-N[0],0],N);(0,i.iJ)(O),O=(0,i.Y1)(O);var G,B=p-f,z=B>0?1:-1,U=O[0]*P.RW*z,Q=(0,P.Wn)(B)>180;Q^(z*f<U&&U<z*p)?(G=O[1]*P.RW)>r&&(r=G):Q^(z*f<(U=(U+360)%360-180)&&U<z*p)?(G=-O[1]*P.RW)<x&&(x=G):(F<x&&(x=F),F>r&&(r=F)),Q?p<f?S(l,p)>S(l,e)&&(e=p):S(p,e)>S(l,e)&&(l=p):e>=l?(p<l&&(l=p),p>e&&(e=p)):p>f?S(l,p)>S(l,e)&&(e=p):S(p,e)>S(l,e)&&(l=p)}else y.push(v=[l=p,e=p]);F<x&&(x=F),F>r&&(r=F),c=D,f=p}function h(){w.point=o}function M(){v[0]=l,v[1]=e,w.point=d,c=null}function T(p,F){if(c){var D=p-f;u.add((0,P.Wn)(D)>180?D+(D>0?360:-360):D)}else a=p,s=F;g.gL.point(p,F),o(p,F)}function L(){g.gL.lineStart()}function m(){T(a,s),g.gL.lineEnd(),(0,P.Wn)(u)>P.Ho&&(l=-(e=180)),v[0]=l,v[1]=e,c=null}function S(p,F){return(F-=p)<0?F+360:F}function b(p,F){return p[0]-F[0]}function n(p,F){return p[0]<=p[1]?p[0]<=F&&F<=p[1]:F<p[0]||p[1]<F}function C(p){var F,D,N,k,O,B,z;if(r=e=-(l=x=1/0),y=[],(0,E.Z)(p,w),D=y.length){for(y.sort(b),F=1,O=[N=y[0]];F<D;++F)n(N,(k=y[F])[0])||n(N,k[1])?(S(N[0],k[1])>S(N[0],N[1])&&(N[1]=k[1]),S(k[0],N[1])>S(N[0],N[1])&&(N[0]=k[0])):O.push(N=k);for(B=-1/0,F=0,N=O[D=O.length-1];F<=D;N=k,++F)(z=S(N[1],(k=O[F])[0]))>B&&(B=z,l=k[0],e=N[1])}return y=v=null,l===1/0||x===1/0?[[NaN,NaN],[NaN,NaN]]:[[l,x],[e,r]]}},7620:function(tt,W,t){"use strict";t.d(W,{Og:function(){return i},T:function(){return x},T5:function(){return E},Y1:function(){return g},iJ:function(){return e},j9:function(){return P},s0:function(){return l}});var A=t(39695);function g(r){return[(0,A.fv)(r[1],r[0]),(0,A.ZR)(r[2])]}function i(r){var f=r[0],a=r[1],s=(0,A.mC)(a);return[s*(0,A.mC)(f),s*(0,A.O$)(f),(0,A.O$)(a)]}function P(r,f){return r[0]*f[0]+r[1]*f[1]+r[2]*f[2]}function E(r,f){return[r[1]*f[2]-r[2]*f[1],r[2]*f[0]-r[0]*f[2],r[0]*f[1]-r[1]*f[0]]}function l(r,f){r[0]+=f[0],r[1]+=f[1],r[2]+=f[2]}function x(r,f){return[r[0]*f,r[1]*f,r[2]*f]}function e(r){var f=(0,A._b)(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=f,r[1]/=f,r[2]/=f}},66624:function(tt,W,t){"use strict";t.d(W,{Z:function(){return D}});var P,E,l,x,e,r,f,a,s,c,u,y,v,w,d,o,A=t(39695),g=t(73182),i=t(72736),h={sphere:g.Z,point:M,lineStart:L,lineEnd:b,polygonStart:function(){h.lineStart=n,h.lineEnd=C},polygonEnd:function(){h.lineStart=L,h.lineEnd=b}};function M(N,k){N*=A.uR;var O=(0,A.mC)(k*=A.uR);T(O*(0,A.mC)(N),O*(0,A.O$)(N),(0,A.O$)(k))}function T(N,k,O){++P,l+=(N-l)/P,x+=(k-x)/P,e+=(O-e)/P}function L(){h.point=m}function m(N,k){N*=A.uR;var O=(0,A.mC)(k*=A.uR);w=O*(0,A.mC)(N),d=O*(0,A.O$)(N),o=(0,A.O$)(k),h.point=S,T(w,d,o)}function S(N,k){N*=A.uR;var O=(0,A.mC)(k*=A.uR),B=O*(0,A.mC)(N),z=O*(0,A.O$)(N),U=(0,A.O$)(k),G=(0,A.fv)((0,A._b)((G=d*U-o*z)*G+(G=o*B-w*U)*G+(G=w*z-d*B)*G),w*B+d*z+o*U);E+=G,r+=G*(w+(w=B)),f+=G*(d+(d=z)),a+=G*(o+(o=U)),T(w,d,o)}function b(){h.point=M}function n(){h.point=p}function C(){F(y,v),h.point=M}function p(N,k){y=N,v=k,N*=A.uR,k*=A.uR,h.point=F;var O=(0,A.mC)(k);w=O*(0,A.mC)(N),d=O*(0,A.O$)(N),o=(0,A.O$)(k),T(w,d,o)}function F(N,k){N*=A.uR;var O=(0,A.mC)(k*=A.uR),B=O*(0,A.mC)(N),z=O*(0,A.O$)(N),U=(0,A.O$)(k),G=d*U-o*z,Q=o*B-w*U,rt=w*z-d*B,it=(0,A._b)(G*G+Q*Q+rt*rt),ut=(0,A.ZR)(it),J=it&&-ut/it;s+=J*G,c+=J*Q,u+=J*rt,E+=ut,r+=ut*(w+(w=B)),f+=ut*(d+(d=z)),a+=ut*(o+(o=U)),T(w,d,o)}function D(N){P=E=l=x=e=r=f=a=s=c=u=0,(0,i.Z)(N,h);var k=s,O=c,B=u,z=k*k+O*O+B*B;return z<A.aW&&(k=r,O=f,B=a,E<A.Ho&&(k=l,O=x,B=e),(z=k*k+O*O+B*B)<A.aW)?[NaN,NaN]:[(0,A.fv)(O,k)*A.RW,(0,A.ZR)(B/(0,A._b)(z))*A.RW]}},7613:function(tt,W,t){"use strict";t.d(W,{m:function(){return E},Z:function(){return x}});var A=t(7620);function g(e){return function(){return e}}var i=t(39695),P=t(49386);function E(e,r,f,a,s,c){if(f){var u=(0,i.mC)(r),y=(0,i.O$)(r),v=a*f;null==s?(s=r+a*i.BZ,c=r-v/2):(s=l(u,s),c=l(u,c),(a>0?s<c:s>c)&&(s+=a*i.BZ));for(var w,d=s;a>0?d>c:d<c;d-=v)w=(0,A.Y1)([u,-y*(0,i.mC)(d),-y*(0,i.O$)(d)]),e.point(w[0],w[1])}}function l(e,r){(r=(0,A.Og)(r))[0]-=e,(0,A.iJ)(r);var f=(0,i.Kh)(-r[1]);return((-r[2]<0?-f:f)+i.BZ-i.Ho)%i.BZ}function x(){var a,s,e=g([0,0]),r=g(90),f=g(6),c={point:function u(v,w){a.push(v=s(v,w)),v[0]*=i.RW,v[1]*=i.RW}};function y(){var v=e.apply(this,arguments),w=r.apply(this,arguments)*i.uR,d=f.apply(this,arguments)*i.uR;return a=[],s=(0,P.I)(-v[0]*i.uR,-v[1]*i.uR,0).invert,E(c,w,d,1),v={type:"Polygon",coordinates:[a]},a=s=null,v}return y.center=function(v){return arguments.length?(e="function"==typeof v?v:g([+v[0],+v[1]]),y):e},y.radius=function(v){return arguments.length?(r="function"==typeof v?v:g(+v),y):r},y.precision=function(v){return arguments.length?(f="function"==typeof v?v:g(+v),y):f},y}},87070:function(tt,W,t){"use strict";var A=t(97023),g=t(39695);W.Z=(0,A.Z)(function(){return!0},function i(l){var f,x=NaN,e=NaN,r=NaN;return{lineStart:function(){l.lineStart(),f=1},point:function(a,s){var c=a>0?g.pi:-g.pi,u=(0,g.Wn)(a-x);(0,g.Wn)(u-g.pi)<g.Ho?(l.point(x,e=(e+s)/2>0?g.ou:-g.ou),l.point(r,e),l.lineEnd(),l.lineStart(),l.point(c,e),l.point(a,e),f=0):r!==c&&u>=g.pi&&((0,g.Wn)(x-r)<g.Ho&&(x-=r*g.Ho),(0,g.Wn)(a-c)<g.Ho&&(a-=c*g.Ho),e=function P(l,x,e,r){var f,a,s=(0,g.O$)(l-e);return(0,g.Wn)(s)>g.Ho?(0,g.z4)(((0,g.O$)(x)*(a=(0,g.mC)(r))*(0,g.O$)(e)-(0,g.O$)(r)*(f=(0,g.mC)(x))*(0,g.O$)(l))/(f*a*s)):(x+r)/2}(x,e,a,s),l.point(r,e),l.lineEnd(),l.lineStart(),l.point(c,e),f=0),l.point(x=a,e=s),r=c},lineEnd:function(){l.lineEnd(),x=e=NaN},clean:function(){return 2-f}}},function E(l,x,e,r){var f;if(null==l)r.point(-g.pi,f=e*g.ou),r.point(0,f),r.point(g.pi,f),r.point(g.pi,0),r.point(g.pi,-f),r.point(0,-f),r.point(-g.pi,-f),r.point(-g.pi,0),r.point(-g.pi,f);else if((0,g.Wn)(l[0]-x[0])>g.Ho){var a=l[0]<x[0]?g.pi:-g.pi;r.point(-a,f=e*a/2),r.point(0,f),r.point(a,f)}else r.point(x[0],x[1])},[-g.pi,-g.ou])},85272:function(tt,W,t){"use strict";t.d(W,{Z:function(){return g}});var A=t(73182);function g(){var P,i=[];return{point:function(E,l,x){P.push([E,l,x])},lineStart:function(){i.push(P=[])},lineEnd:A.Z,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var E=i;return i=[],P=null,E}}}},1457:function(tt,W,t){"use strict";t.d(W,{Z:function(){return l}});var A=t(7620),g=t(7613),i=t(39695),P=t(67108),E=t(97023);function l(x){var e=(0,i.mC)(x),r=6*i.uR,f=e>0,a=(0,i.Wn)(e)>i.Ho;function c(w,d){return(0,i.mC)(w)*(0,i.mC)(d)>e}function y(w,d,o){var h=(0,A.Og)(w),M=(0,A.Og)(d),T=[1,0,0],L=(0,A.T5)(h,M),m=(0,A.j9)(L,L),S=L[0],b=m-S*S;if(!b)return!o&&w;var n=e*m/b,C=-e*S/b,p=(0,A.T5)(T,L),F=(0,A.T)(T,n),D=(0,A.T)(L,C);(0,A.s0)(F,D);var N=p,k=(0,A.j9)(F,N),O=(0,A.j9)(N,N),B=k*k-O*((0,A.j9)(F,F)-1);if(!(B<0)){var z=(0,i._b)(B),U=(0,A.T)(N,(-k-z)/O);if((0,A.s0)(U,F),U=(0,A.Y1)(U),!o)return U;var ut,G=w[0],Q=d[0],rt=w[1],it=d[1];Q<G&&(ut=G,G=Q,Q=ut);var J=Q-G,j=(0,i.Wn)(J-i.pi)<i.Ho;if(!j&&it<rt&&(ut=rt,rt=it,it=ut),j||J<i.Ho?j?rt+it>0^U[1]<((0,i.Wn)(U[0]-G)<i.Ho?rt:it):rt<=U[1]&&U[1]<=it:J>i.pi^(G<=U[0]&&U[0]<=Q)){var H=(0,A.T)(N,(-k+z)/O);return(0,A.s0)(H,F),[U,(0,A.Y1)(H)]}}}function v(w,d){var o=f?x:i.pi-x,h=0;return w<-o?h|=1:w>o&&(h|=2),d<-o?h|=4:d>o&&(h|=8),h}return(0,E.Z)(c,function u(w){var d,o,h,M,T;return{lineStart:function(){M=h=!1,T=1},point:function(L,m){var b,S=[L,m],n=c(L,m),C=f?n?0:v(L,m):n?v(L+(L<0?i.pi:-i.pi),m):0;if(!d&&(M=h=n)&&w.lineStart(),n!==h&&(!(b=y(d,S))||(0,P.Z)(d,b)||(0,P.Z)(S,b))&&(S[2]=1),n!==h)T=0,n?(w.lineStart(),b=y(S,d),w.point(b[0],b[1])):(b=y(d,S),w.point(b[0],b[1],2),w.lineEnd()),d=b;else if(a&&d&&f^n){var p;!(C&o)&&(p=y(S,d,!0))&&(T=0,f?(w.lineStart(),w.point(p[0][0],p[0][1]),w.point(p[1][0],p[1][1]),w.lineEnd()):(w.point(p[1][0],p[1][1]),w.lineEnd(),w.lineStart(),w.point(p[0][0],p[0][1],3)))}n&&(!d||!(0,P.Z)(d,S))&&w.point(S[0],S[1]),d=S,h=n,o=C},lineEnd:function(){h&&w.lineEnd(),d=null},clean:function(){return T|(M&&h)<<1}}},function s(w,d,o,h){(0,g.m)(h,x,r,o,w,d)},f?[0,-x]:[-i.pi,x-i.pi])}},97023:function(tt,W,t){"use strict";t.d(W,{Z:function(){return l}});var A=t(85272),g=t(46225),i=t(39695),P=t(23071),E=t(33064);function l(r,f,a,s){return function(c){var d,o,h,u=f(c),y=(0,A.Z)(),v=f(y),w=!1,M={point:T,lineStart:m,lineEnd:S,polygonStart:function(){M.point=b,M.lineStart=n,M.lineEnd=C,o=[],d=[]},polygonEnd:function(){M.point=T,M.lineStart=m,M.lineEnd=S,o=(0,E.TS)(o);var p=(0,P.Z)(d,s);o.length?(w||(c.polygonStart(),w=!0),(0,g.Z)(o,e,p,a,c)):p&&(w||(c.polygonStart(),w=!0),c.lineStart(),a(null,null,1,c),c.lineEnd()),w&&(c.polygonEnd(),w=!1),o=d=null},sphere:function(){c.polygonStart(),c.lineStart(),a(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function T(p,F){r(p,F)&&c.point(p,F)}function L(p,F){u.point(p,F)}function m(){M.point=L,u.lineStart()}function S(){M.point=T,u.lineEnd()}function b(p,F){h.push([p,F]),v.point(p,F)}function n(){v.lineStart(),h=[]}function C(){b(h[0][0],h[0][1]),v.lineEnd();var D,k,O,B,p=v.clean(),F=y.result(),N=F.length;if(h.pop(),d.push(h),h=null,N){if(1&p){if((k=(O=F[0]).length-1)>0){for(w||(c.polygonStart(),w=!0),c.lineStart(),D=0;D<k;++D)c.point((B=O[D])[0],B[1]);c.lineEnd()}return}N>1&&2&p&&F.push(F.pop().concat(F.shift())),o.push(F.filter(x))}}return M}}function x(r){return r.length>1}function e(r,f){return((r=r.x)[0]<0?r[1]-i.ou-i.Ho:i.ou-r[1])-((f=f.x)[0]<0?f[1]-i.ou-i.Ho:i.ou-f[1])}},87605:function(tt,W,t){"use strict";t.d(W,{Z:function(){return e}});var A=t(39695),g=t(85272);var P=t(46225),E=t(33064),l=1e9,x=-l;function e(r,f,a,s){function c(d,o){return r<=d&&d<=a&&f<=o&&o<=s}function u(d,o,h,M){var T=0,L=0;if(null==d||(T=y(d,h))!==(L=y(o,h))||w(d,o)<0^h>0)do{M.point(0===T||3===T?r:a,T>1?s:f)}while((T=(T+h+4)%4)!==L);else M.point(o[0],o[1])}function y(d,o){return(0,A.Wn)(d[0]-r)<A.Ho?o>0?0:3:(0,A.Wn)(d[0]-a)<A.Ho?o>0?2:1:(0,A.Wn)(d[1]-f)<A.Ho?o>0?1:0:o>0?3:2}function v(d,o){return w(d.x,o.x)}function w(d,o){var h=y(d,1),M=y(o,1);return h!==M?h-M:0===h?o[1]-d[1]:1===h?d[0]-o[0]:2===h?d[1]-o[1]:o[0]-d[0]}return function(d){var M,T,L,m,S,b,n,C,p,F,D,o=d,h=(0,g.Z)(),N={point:k,lineStart:function U(){N.point=Q,T&&T.push(L=[]),F=!0,p=!1,n=C=NaN},lineEnd:function G(){M&&(Q(m,S),b&&p&&h.rejoin(),M.push(h.result())),N.point=k,p&&o.lineEnd()},polygonStart:function B(){o=h,M=[],T=[],D=!0},polygonEnd:function z(){var rt=function O(){for(var rt=0,it=0,ut=T.length;it<ut;++it)for(var X,at,J=T[it],j=1,Z=J.length,H=J[0],_=H[0],K=H[1];j<Z;++j)X=_,at=K,_=(H=J[j])[0],K=H[1],at<=s?K>s&&(_-X)*(s-at)>(K-at)*(r-X)&&++rt:K<=s&&(_-X)*(s-at)<(K-at)*(r-X)&&--rt;return rt}(),it=D&&rt,ut=(M=(0,E.TS)(M)).length;(it||ut)&&(d.polygonStart(),it&&(d.lineStart(),u(null,null,1,d),d.lineEnd()),ut&&(0,P.Z)(M,v,rt,u,d),d.polygonEnd()),o=d,M=T=L=null}};function k(rt,it){c(rt,it)&&o.point(rt,it)}function Q(rt,it){var ut=c(rt,it);if(T&&L.push([rt,it]),F)m=rt,S=it,b=ut,F=!1,ut&&(o.lineStart(),o.point(rt,it));else if(ut&&p)o.point(rt,it);else{var J=[n=Math.max(x,Math.min(l,n)),C=Math.max(x,Math.min(l,C))],j=[rt=Math.max(x,Math.min(l,rt)),it=Math.max(x,Math.min(l,it))];!function i(r,f,a,s,c,u){var L,y=r[0],v=r[1],o=0,h=1,M=f[0]-y,T=f[1]-v;if(L=a-y,M||!(L>0)){if(L/=M,M<0){if(L<o)return;L<h&&(h=L)}else if(M>0){if(L>h)return;L>o&&(o=L)}if(L=c-y,M||!(L<0)){if(L/=M,M<0){if(L>h)return;L>o&&(o=L)}else if(M>0){if(L<o)return;L<h&&(h=L)}if(L=s-v,T||!(L>0)){if(L/=T,T<0){if(L<o)return;L<h&&(h=L)}else if(T>0){if(L>h)return;L>o&&(o=L)}if(L=u-v,T||!(L<0)){if(L/=T,T<0){if(L>h)return;L>o&&(o=L)}else if(T>0){if(L<o)return;L<h&&(h=L)}return o>0&&(r[0]=y+o*M,r[1]=v+o*T),h<1&&(f[0]=y+h*M,f[1]=v+h*T),!0}}}}}(J,j,r,f,a,s)?ut&&(o.lineStart(),o.point(rt,it),D=!1):(p||(o.lineStart(),o.point(J[0],J[1])),o.point(j[0],j[1]),ut||o.lineEnd(),D=!1)}n=rt,C=it,p=ut}return N}}},46225:function(tt,W,t){"use strict";t.d(W,{Z:function(){return P}});var A=t(67108),g=t(39695);function i(l,x,e,r){this.x=l,this.z=x,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function P(l,x,e,r,f){var c,u,a=[],s=[];if(l.forEach(function(h){if(!((M=h.length-1)<=0)){var M,m,T=h[0],L=h[M];if((0,A.Z)(T,L)){if(!T[2]&&!L[2]){for(f.lineStart(),c=0;c<M;++c)f.point((T=h[c])[0],T[1]);return void f.lineEnd()}L[0]+=2*g.Ho}a.push(m=new i(T,h,null,!0)),s.push(m.o=new i(T,null,m,!1)),a.push(m=new i(L,h,null,!1)),s.push(m.o=new i(L,null,m,!0))}}),a.length){for(s.sort(x),E(a),E(s),c=0,u=s.length;c<u;++c)s[c].e=e=!e;for(var v,w,y=a[0];;){for(var d=y,o=!0;d.v;)if((d=d.n)===y)return;v=d.z,f.lineStart();do{if(d.v=d.o.v=!0,d.e){if(o)for(c=0,u=v.length;c<u;++c)f.point((w=v[c])[0],w[1]);else r(d.x,d.n.x,1,f);d=d.n}else{if(o)for(c=(v=d.p.z).length-1;c>=0;--c)f.point((w=v[c])[0],w[1]);else r(d.x,d.p.x,-1,f);d=d.p}v=(d=d.o).z,o=!o}while(!d.v);f.lineEnd()}}}function E(l){if(x=l.length){for(var x,f,e=0,r=l[0];++e<x;)r.n=f=l[e],f.p=r,r=f;r.n=f=l[0],f.p=r}}},96059:function(tt,W,t){"use strict";function A(g,i){function P(E,l){return E=g(E,l),i(E[0],E[1])}return g.invert&&i.invert&&(P.invert=function(E,l){return(E=i.invert(E,l))&&g.invert(E[0],E[1])}),P}t.d(W,{Z:function(){return A}})},8593:function(tt,W,t){"use strict";function A(g){return g}t.d(W,{Z:function(){return A}})},27362:function(tt,W,t){"use strict";t.r(W),t.d(W,{geoAlbers:function(){return wr},geoAlbersUsa:function(){return ne},geoArea:function(){return A.ZP},geoAzimuthalEqualArea:function(){return ve.Z},geoAzimuthalEqualAreaRaw:function(){return ve.l},geoAzimuthalEquidistant:function(){return xe.Z},geoAzimuthalEquidistantRaw:function(){return xe.N},geoBounds:function(){return g.Z},geoCentroid:function(){return i.Z},geoCircle:function(){return P.Z},geoClipAntimeridian:function(){return E.Z},geoClipCircle:function(){return l.Z},geoClipExtent:function(){return e},geoClipRectangle:function(){return x.Z},geoConicConformal:function(){return tr},geoConicConformalRaw:function(){return Ke},geoConicEqualArea:function(){return He},geoConicEqualAreaRaw:function(){return Ve},geoConicEquidistant:function(){return Nt},geoConicEquidistantRaw:function(){return Ht},geoContains:function(){return B},geoDistance:function(){return b},geoEqualEarth:function(){return sr},geoEqualEarthRaw:function(){return De},geoEquirectangular:function(){return vr.Z},geoEquirectangularRaw:function(){return vr.k},geoGnomonic:function(){return gr.Z},geoGnomonicRaw:function(){return gr.M},geoGraticule:function(){return Q},geoGraticule10:function(){return rt},geoIdentity:function(){return Pr},geoInterpolate:function(){return it.Z},geoLength:function(){return L},geoMercator:function(){return Pe},geoMercatorRaw:function(){return be},geoNaturalEarth1:function(){return qr.Z},geoNaturalEarth1Raw:function(){return qr.K},geoOrthographic:function(){return Er.Z},geoOrthographicRaw:function(){return Er.I},geoPath:function(){return je},geoProjection:function(){return Ze.Z},geoProjectionMutator:function(){return Ze.r},geoRotation:function(){return Te.Z},geoStereographic:function(){return zr},geoStereographicRaw:function(){return rn},geoStream:function(){return c.Z},geoTransform:function(){return dr.Z},geoTransverseMercator:function(){return An},geoTransverseMercatorRaw:function(){return Pn}});var A=t(97860),g=t(77338),i=t(66624),P=t(7613),E=t(87070),l=t(1457),x=t(87605);function e(){var _r,dn,hn,lr=0,yr=0,Fr=960,Br=500;return hn={stream:function(xn){return _r&&dn===xn?_r:_r=(0,x.Z)(lr,yr,Fr,Br)(dn=xn)},extent:function(xn){return arguments.length?(lr=+xn[0][0],yr=+xn[0][1],Fr=+xn[1][0],Br=+xn[1][1],_r=dn=null,hn):[[lr,yr],[Fr,Br]]}}}var y,v,w,r=t(23071),f=t(33940),a=t(39695),s=t(73182),c=t(72736),u=(0,f.Z)(),d={sphere:s.Z,point:s.Z,lineStart:function o(){d.point=M,d.lineEnd=h},lineEnd:s.Z,polygonStart:s.Z,polygonEnd:s.Z};function h(){d.point=d.lineEnd=s.Z}function M(lr,yr){y=lr*=a.uR,v=(0,a.O$)(yr*=a.uR),w=(0,a.mC)(yr),d.point=T}function T(lr,yr){lr*=a.uR;var Fr=(0,a.O$)(yr*=a.uR),Br=(0,a.mC)(yr),_r=(0,a.Wn)(lr-y),dn=(0,a.mC)(_r),xn=Br*(0,a.O$)(_r),En=w*Fr-v*Br*dn,Vn=v*Fr+w*Br*dn;u.add((0,a.fv)((0,a._b)(xn*xn+En*En),Vn)),y=lr,v=Fr,w=Br}function L(lr){return u.reset(),(0,c.Z)(lr,d),+u}var m=[null,null],S={type:"LineString",coordinates:m};function b(lr,yr){return m[0]=lr,m[1]=yr,L(S)}var n={Feature:function(lr,yr){return p(lr.geometry,yr)},FeatureCollection:function(lr,yr){for(var Fr=lr.features,Br=-1,_r=Fr.length;++Br<_r;)if(p(Fr[Br].geometry,yr))return!0;return!1}},C={Sphere:function(){return!0},Point:function(lr,yr){return F(lr.coordinates,yr)},MultiPoint:function(lr,yr){for(var Fr=lr.coordinates,Br=-1,_r=Fr.length;++Br<_r;)if(F(Fr[Br],yr))return!0;return!1},LineString:function(lr,yr){return D(lr.coordinates,yr)},MultiLineString:function(lr,yr){for(var Fr=lr.coordinates,Br=-1,_r=Fr.length;++Br<_r;)if(D(Fr[Br],yr))return!0;return!1},Polygon:function(lr,yr){return N(lr.coordinates,yr)},MultiPolygon:function(lr,yr){for(var Fr=lr.coordinates,Br=-1,_r=Fr.length;++Br<_r;)if(N(Fr[Br],yr))return!0;return!1},GeometryCollection:function(lr,yr){for(var Fr=lr.geometries,Br=-1,_r=Fr.length;++Br<_r;)if(p(Fr[Br],yr))return!0;return!1}};function p(lr,yr){return!(!lr||!C.hasOwnProperty(lr.type))&&C[lr.type](lr,yr)}function F(lr,yr){return 0===b(lr,yr)}function D(lr,yr){for(var Fr,Br,_r,dn=0,hn=lr.length;dn<hn;dn++){if(0===(Br=b(lr[dn],yr))||dn>0&&(_r=b(lr[dn],lr[dn-1]))>0&&Fr<=_r&&Br<=_r&&(Fr+Br-_r)*(1-Math.pow((Fr-Br)/_r,2))<a.aW*_r)return!0;Fr=Br}return!1}function N(lr,yr){return!!(0,r.Z)(lr.map(k),O(yr))}function k(lr){return(lr=lr.map(O)).pop(),lr}function O(lr){return[lr[0]*a.uR,lr[1]*a.uR]}function B(lr,yr){return(lr&&n.hasOwnProperty(lr.type)?n[lr.type]:p)(lr,yr)}var z=t(33064);function U(lr,yr,Fr){var Br=(0,z.w6)(lr,yr-a.Ho,Fr).concat(yr);return function(_r){return Br.map(function(dn){return[_r,dn]})}}function G(lr,yr,Fr){var Br=(0,z.w6)(lr,yr-a.Ho,Fr).concat(yr);return function(_r){return Br.map(function(dn){return[dn,_r]})}}function Q(){var lr,yr,Fr,Br,_r,dn,hn,xn,Kn,Qn,Tr,an,En=10,Vn=En,Gn=90,ia=360,sn=2.5;function pn(){return{type:"MultiLineString",coordinates:Fn()}}function Fn(){return(0,z.w6)((0,a.mD)(Br/Gn)*Gn,Fr,Gn).map(Tr).concat((0,z.w6)((0,a.mD)(xn/ia)*ia,hn,ia).map(an)).concat((0,z.w6)((0,a.mD)(yr/En)*En,lr,En).filter(function(Cn){return(0,a.Wn)(Cn%Gn)>a.Ho}).map(Kn)).concat((0,z.w6)((0,a.mD)(dn/Vn)*Vn,_r,Vn).filter(function(Cn){return(0,a.Wn)(Cn%ia)>a.Ho}).map(Qn))}return pn.lines=function(){return Fn().map(function(Cn){return{type:"LineString",coordinates:Cn}})},pn.outline=function(){return{type:"Polygon",coordinates:[Tr(Br).concat(an(hn).slice(1),Tr(Fr).reverse().slice(1),an(xn).reverse().slice(1))]}},pn.extent=function(Cn){return arguments.length?pn.extentMajor(Cn).extentMinor(Cn):pn.extentMinor()},pn.extentMajor=function(Cn){return arguments.length?(xn=+Cn[0][1],hn=+Cn[1][1],(Br=+Cn[0][0])>(Fr=+Cn[1][0])&&(Cn=Br,Br=Fr,Fr=Cn),xn>hn&&(Cn=xn,xn=hn,hn=Cn),pn.precision(sn)):[[Br,xn],[Fr,hn]]},pn.extentMinor=function(Cn){return arguments.length?(dn=+Cn[0][1],_r=+Cn[1][1],(yr=+Cn[0][0])>(lr=+Cn[1][0])&&(Cn=yr,yr=lr,lr=Cn),dn>_r&&(Cn=dn,dn=_r,_r=Cn),pn.precision(sn)):[[yr,dn],[lr,_r]]},pn.step=function(Cn){return arguments.length?pn.stepMajor(Cn).stepMinor(Cn):pn.stepMinor()},pn.stepMajor=function(Cn){return arguments.length?(Gn=+Cn[0],ia=+Cn[1],pn):[Gn,ia]},pn.stepMinor=function(Cn){return arguments.length?(En=+Cn[0],Vn=+Cn[1],pn):[En,Vn]},pn.precision=function(Cn){return arguments.length?(sn=+Cn,Kn=U(dn,_r,90),Qn=G(yr,lr,sn),Tr=U(xn,hn,90),an=G(Br,Fr,sn),pn):sn},pn.extentMajor([[-180,-90+a.Ho],[180,90-a.Ho]]).extentMinor([[-180,-80-a.Ho],[180,80+a.Ho]])}function rt(){return Q()()}var Z,H,X,at,it=t(83074),ut=t(8593),J=(0,f.Z)(),j=(0,f.Z)(),_={point:s.Z,lineStart:s.Z,lineEnd:s.Z,polygonStart:function(){_.lineStart=K,_.lineEnd=st},polygonEnd:function(){_.lineStart=_.lineEnd=_.point=s.Z,J.add((0,a.Wn)(j)),j.reset()},result:function(){var lr=J/2;return J.reset(),lr}};function K(){_.point=nt}function nt(lr,yr){_.point=et,Z=X=lr,H=at=yr}function et(lr,yr){j.add(at*lr-X*yr),X=lr,at=yr}function st(){et(Z,H)}var Vt,te,_t,kt,dt=_,Tt=t(3559),bt=0,Dt=0,Ft=0,Mt=0,wt=0,St=0,Ut=0,Gt=0,Pt=0,zt={point:qt,lineStart:ae,lineEnd:ye,polygonStart:function(){zt.lineStart=Fe,zt.lineEnd=Zt},polygonEnd:function(){zt.point=qt,zt.lineStart=ae,zt.lineEnd=ye},result:function(){var lr=Pt?[Ut/Pt,Gt/Pt]:St?[Mt/St,wt/St]:Ft?[bt/Ft,Dt/Ft]:[NaN,NaN];return bt=Dt=Ft=Mt=wt=St=Ut=Gt=Pt=0,lr}};function qt(lr,yr){bt+=lr,Dt+=yr,++Ft}function ae(){zt.point=oe}function oe(lr,yr){zt.point=pe,qt(_t=lr,kt=yr)}function pe(lr,yr){var Fr=lr-_t,Br=yr-kt,_r=(0,a._b)(Fr*Fr+Br*Br);Mt+=_r*(_t+lr)/2,wt+=_r*(kt+yr)/2,St+=_r,qt(_t=lr,kt=yr)}function ye(){zt.point=qt}function Fe(){zt.point=Ct}function Zt(){Et(Vt,te)}function Ct(lr,yr){zt.point=Et,qt(Vt=_t=lr,te=kt=yr)}function Et(lr,yr){var Fr=lr-_t,Br=yr-kt,_r=(0,a._b)(Fr*Fr+Br*Br);Mt+=_r*(_t+lr)/2,wt+=_r*(kt+yr)/2,St+=_r,Ut+=(_r=kt*lr-_t*yr)*(_t+lr),Gt+=_r*(kt+yr),Pt+=3*_r,qt(_t=lr,kt=yr)}var Rt=zt;function Ot(lr){this._context=lr}Ot.prototype={_radius:4.5,pointRadius:function(lr){return this._radius=lr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(lr,yr){switch(this._point){case 0:this._context.moveTo(lr,yr),this._point=1;break;case 1:this._context.lineTo(lr,yr);break;default:this._context.moveTo(lr+this._radius,yr),this._context.arc(lr,yr,this._radius,0,a.BZ)}},result:s.Z};var gt,pt,vt,yt,Yt,It=(0,f.Z)(),Qt={point:s.Z,lineStart:function(){Qt.point=le},lineEnd:function(){gt&&he(pt,vt),Qt.point=s.Z},polygonStart:function(){gt=!0},polygonEnd:function(){gt=null},result:function(){var lr=+It;return It.reset(),lr}};function le(lr,yr){Qt.point=he,pt=yt=lr,vt=Yt=yr}function he(lr,yr){It.add((0,a._b)((yt-=lr)*yt+(Yt-=yr)*Yt)),yt=lr,Yt=yr}var ke=Qt;function Oe(){this._string=[]}function Ae(lr){return"m0,"+lr+"a"+lr+","+lr+" 0 1,1 0,"+-2*lr+"a"+lr+","+lr+" 0 1,1 0,"+2*lr+"z"}function je(lr,yr){var Br,_r,Fr=4.5;function dn(hn){return hn&&("function"==typeof Fr&&_r.pointRadius(+Fr.apply(this,arguments)),(0,c.Z)(hn,Br(_r))),_r.result()}return dn.area=function(hn){return(0,c.Z)(hn,Br(dt)),dt.result()},dn.measure=function(hn){return(0,c.Z)(hn,Br(ke)),ke.result()},dn.bounds=function(hn){return(0,c.Z)(hn,Br(Tt.Z)),Tt.Z.result()},dn.centroid=function(hn){return(0,c.Z)(hn,Br(Rt)),Rt.result()},dn.projection=function(hn){return arguments.length?(Br=null==hn?(lr=null,ut.Z):(lr=hn).stream,dn):lr},dn.context=function(hn){return arguments.length?(_r=null==hn?(yr=null,new Oe):new Ot(yr=hn),"function"!=typeof Fr&&_r.pointRadius(Fr),dn):yr},dn.pointRadius=function(hn){return arguments.length?(Fr="function"==typeof hn?hn:(_r.pointRadius(+hn),+hn),dn):Fr},dn.projection(lr).context(yr)}Oe.prototype={_radius:4.5,_circle:Ae(4.5),pointRadius:function(lr){return(lr=+lr)!==this._radius&&(this._radius=lr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(lr,yr){switch(this._point){case 0:this._string.push("M",lr,",",yr),this._point=1;break;case 1:this._string.push("L",lr,",",yr);break;default:null==this._circle&&(this._circle=Ae(this._radius)),this._string.push("M",lr,",",yr,this._circle)}},result:function(){if(this._string.length){var lr=this._string.join("");return this._string=[],lr}return null}};var Ze=t(15002);function Lr(lr){var yr=0,Fr=a.pi/3,Br=(0,Ze.r)(lr),_r=Br(yr,Fr);return _r.parallels=function(dn){return arguments.length?Br(yr=dn[0]*a.uR,Fr=dn[1]*a.uR):[yr*a.RW,Fr*a.RW]},_r}function Ve(lr,yr){var Fr=(0,a.O$)(lr),Br=(Fr+(0,a.O$)(yr))/2;if((0,a.Wn)(Br)<a.Ho)return function fe(lr){var yr=(0,a.mC)(lr);function Fr(Br,_r){return[Br*yr,(0,a.O$)(_r)/yr]}return Fr.invert=function(Br,_r){return[Br/yr,(0,a.ZR)(_r*yr)]},Fr}(lr);var _r=1+Fr*(2*Br-Fr),dn=(0,a._b)(_r)/Br;function hn(xn,En){var Vn=(0,a._b)(_r-2*Br*(0,a.O$)(En))/Br;return[Vn*(0,a.O$)(xn*=Br),dn-Vn*(0,a.mC)(xn)]}return hn.invert=function(xn,En){var Vn=dn-En,Gn=(0,a.fv)(xn,(0,a.Wn)(Vn))*(0,a.Xx)(Vn);return Vn*Br<0&&(Gn-=a.pi*(0,a.Xx)(xn)*(0,a.Xx)(Vn)),[Gn/Br,(0,a.ZR)((_r-(xn*xn+Vn*Vn)*Br*Br)/(2*Br))]},hn}function He(){return Lr(Ve).scale(155.424).center([0,33.6442])}function wr(){return He().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var ar=t(47589);function ne(){var lr,yr,Br,dn,xn,En,Fr=wr(),_r=He().rotate([154,0]).center([-2,58.5]).parallels([55,65]),hn=He().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Vn={point:function(Kn,Qn){En=[Kn,Qn]}};function Gn(Kn){var Qn=Kn[0],Tr=Kn[1];return En=null,Br.point(Qn,Tr),En||(dn.point(Qn,Tr),En)||(xn.point(Qn,Tr),En)}function ia(){return lr=yr=null,Gn}return Gn.invert=function(Kn){var Qn=Fr.scale(),Tr=Fr.translate(),an=(Kn[0]-Tr[0])/Qn,sn=(Kn[1]-Tr[1])/Qn;return(sn>=.12&&sn<.234&&an>=-.425&&an<-.214?_r:sn>=.166&&sn<.234&&an>=-.214&&an<-.115?hn:Fr).invert(Kn)},Gn.stream=function(Kn){return lr&&yr===Kn?lr:lr=function ie(lr){var yr=lr.length;return{point:function(Fr,Br){for(var _r=-1;++_r<yr;)lr[_r].point(Fr,Br)},sphere:function(){for(var Fr=-1;++Fr<yr;)lr[Fr].sphere()},lineStart:function(){for(var Fr=-1;++Fr<yr;)lr[Fr].lineStart()},lineEnd:function(){for(var Fr=-1;++Fr<yr;)lr[Fr].lineEnd()},polygonStart:function(){for(var Fr=-1;++Fr<yr;)lr[Fr].polygonStart()},polygonEnd:function(){for(var Fr=-1;++Fr<yr;)lr[Fr].polygonEnd()}}}([Fr.stream(yr=Kn),_r.stream(Kn),hn.stream(Kn)])},Gn.precision=function(Kn){return arguments.length?(Fr.precision(Kn),_r.precision(Kn),hn.precision(Kn),ia()):Fr.precision()},Gn.scale=function(Kn){return arguments.length?(Fr.scale(Kn),_r.scale(.35*Kn),hn.scale(Kn),Gn.translate(Fr.translate())):Fr.scale()},Gn.translate=function(Kn){if(!arguments.length)return Fr.translate();var Qn=Fr.scale(),Tr=+Kn[0],an=+Kn[1];return Br=Fr.translate(Kn).clipExtent([[Tr-.455*Qn,an-.238*Qn],[Tr+.455*Qn,an+.238*Qn]]).stream(Vn),dn=_r.translate([Tr-.307*Qn,an+.201*Qn]).clipExtent([[Tr-.425*Qn+a.Ho,an+.12*Qn+a.Ho],[Tr-.214*Qn-a.Ho,an+.234*Qn-a.Ho]]).stream(Vn),xn=hn.translate([Tr-.205*Qn,an+.212*Qn]).clipExtent([[Tr-.214*Qn+a.Ho,an+.166*Qn+a.Ho],[Tr-.115*Qn-a.Ho,an+.234*Qn-a.Ho]]).stream(Vn),ia()},Gn.fitExtent=function(Kn,Qn){return(0,ar.qg)(Gn,Kn,Qn)},Gn.fitSize=function(Kn,Qn){return(0,ar.mF)(Gn,Kn,Qn)},Gn.fitWidth=function(Kn,Qn){return(0,ar.V6)(Gn,Kn,Qn)},Gn.fitHeight=function(Kn,Qn){return(0,ar.rf)(Gn,Kn,Qn)},Gn.scale(1070)}var ve=t(12956),xe=t(17889),Te=t(49386);function be(lr,yr){return[lr,(0,a.cM)((0,a.OR)((a.ou+yr)/2))]}function Pe(){return Be(be).scale(961/a.BZ)}function Be(lr){var xn,En,Vn,yr=(0,Ze.Z)(lr),Fr=yr.center,Br=yr.scale,_r=yr.translate,dn=yr.clipExtent,hn=null;function Gn(){var ia=a.pi*Br(),Kn=yr((0,Te.Z)(yr.rotate()).invert([0,0]));return dn(null==hn?[[Kn[0]-ia,Kn[1]-ia],[Kn[0]+ia,Kn[1]+ia]]:lr===be?[[Math.max(Kn[0]-ia,hn),xn],[Math.min(Kn[0]+ia,En),Vn]]:[[hn,Math.max(Kn[1]-ia,xn)],[En,Math.min(Kn[1]+ia,Vn)]])}return yr.scale=function(ia){return arguments.length?(Br(ia),Gn()):Br()},yr.translate=function(ia){return arguments.length?(_r(ia),Gn()):_r()},yr.center=function(ia){return arguments.length?(Fr(ia),Gn()):Fr()},yr.clipExtent=function(ia){return arguments.length?(null==ia?hn=xn=En=Vn=null:(hn=+ia[0][0],xn=+ia[0][1],En=+ia[1][0],Vn=+ia[1][1]),Gn()):null==hn?null:[[hn,xn],[En,Vn]]},Gn()}function Qe(lr){return(0,a.OR)((a.ou+lr)/2)}function Ke(lr,yr){var Fr=(0,a.mC)(lr),Br=lr===yr?(0,a.O$)(lr):(0,a.cM)(Fr/(0,a.mC)(yr))/(0,a.cM)(Qe(yr)/Qe(lr)),_r=Fr*(0,a.sQ)(Qe(lr),Br)/Br;if(!Br)return be;function dn(hn,xn){_r>0?xn<-a.ou+a.Ho&&(xn=-a.ou+a.Ho):xn>a.ou-a.Ho&&(xn=a.ou-a.Ho);var En=_r/(0,a.sQ)(Qe(xn),Br);return[En*(0,a.O$)(Br*hn),_r-En*(0,a.mC)(Br*hn)]}return dn.invert=function(hn,xn){var En=_r-xn,Vn=(0,a.Xx)(Br)*(0,a._b)(hn*hn+En*En),Gn=(0,a.fv)(hn,(0,a.Wn)(En))*(0,a.Xx)(En);return En*Br<0&&(Gn-=a.pi*(0,a.Xx)(hn)*(0,a.Xx)(En)),[Gn/Br,2*(0,a.z4)((0,a.sQ)(_r/Vn,1/Br))-a.ou]},dn}function tr(){return Lr(Ke).scale(109.5).parallels([30,30])}be.invert=function(lr,yr){return[lr,2*(0,a.z4)((0,a.Qq)(yr))-a.ou]};var vr=t(97492);function Ht(lr,yr){var Fr=(0,a.mC)(lr),Br=lr===yr?(0,a.O$)(lr):(Fr-(0,a.mC)(yr))/(yr-lr),_r=Fr/Br+lr;if((0,a.Wn)(Br)<a.Ho)return vr.k;function dn(hn,xn){var En=_r-xn,Vn=Br*hn;return[En*(0,a.O$)(Vn),_r-En*(0,a.mC)(Vn)]}return dn.invert=function(hn,xn){var En=_r-xn,Vn=(0,a.fv)(hn,(0,a.Wn)(En))*(0,a.Xx)(En);return En*Br<0&&(Vn-=a.pi*(0,a.Xx)(hn)*(0,a.Xx)(En)),[Vn/Br,_r-(0,a.Xx)(Br)*(0,a._b)(hn*hn+En*En)]},dn}function Nt(){return Lr(Ht).scale(131.154).center([0,13.9389])}var Se=1.340264,Le=-.081106,We=893e-6,rr=.003796,or=(0,a._b)(3)/2;function De(lr,yr){var Fr=(0,a.ZR)(or*(0,a.O$)(yr)),Br=Fr*Fr,_r=Br*Br*Br;return[lr*(0,a.mC)(Fr)/(or*(Se+3*Le*Br+_r*(7*We+9*rr*Br))),Fr*(Se+Le*Br+_r*(We+rr*Br))]}function sr(){return(0,Ze.Z)(De).scale(177.158)}De.invert=function(lr,yr){for(var hn,Fr=yr,Br=Fr*Fr,_r=Br*Br*Br,dn=0;dn<12&&(_r=(Br=(Fr-=hn=(Fr*(Se+Le*Br+_r*(We+rr*Br))-yr)/(Se+3*Le*Br+_r*(7*We+9*rr*Br)))*Fr)*Br*Br,!((0,a.Wn)(hn)<a.aW));++dn);return[or*lr*(Se+3*Le*Br+_r*(7*We+9*rr*Br))/(0,a.mC)(Fr),(0,a.ZR)((0,a.O$)(Fr)/or)]};var gr=t(98936),dr=t(64684);function Pr(){var hn,xn,Vn,Gn,ia,sn,pn,lr=1,yr=0,Fr=0,Br=1,_r=1,dn=0,En=null,Kn=1,Qn=1,Tr=(0,dr.l)({point:function(Ln,On){var Jn=Cn([Ln,On]);this.stream.point(Jn[0],Jn[1])}}),an=ut.Z;function Fn(){return Kn=lr*Br,Qn=lr*_r,sn=pn=null,Cn}function Cn(Ln){var On=Ln[0]*Kn,Jn=Ln[1]*Qn;if(dn){var ya=Jn*hn-On*xn;On=On*hn+Jn*xn,Jn=ya}return[On+yr,Jn+Fr]}return Cn.invert=function(Ln){var On=Ln[0]-yr,Jn=Ln[1]-Fr;if(dn){var ya=Jn*hn+On*xn;On=On*hn-Jn*xn,Jn=ya}return[On/Kn,Jn/Qn]},Cn.stream=function(Ln){return sn&&pn===Ln?sn:sn=Tr(an(pn=Ln))},Cn.postclip=function(Ln){return arguments.length?(an=Ln,En=Vn=Gn=ia=null,Fn()):an},Cn.clipExtent=function(Ln){return arguments.length?(an=null==Ln?(En=Vn=Gn=ia=null,ut.Z):(0,x.Z)(En=+Ln[0][0],Vn=+Ln[0][1],Gn=+Ln[1][0],ia=+Ln[1][1]),Fn()):null==En?null:[[En,Vn],[Gn,ia]]},Cn.scale=function(Ln){return arguments.length?(lr=+Ln,Fn()):lr},Cn.translate=function(Ln){return arguments.length?(yr=+Ln[0],Fr=+Ln[1],Fn()):[yr,Fr]},Cn.angle=function(Ln){return arguments.length?(xn=(0,a.O$)(dn=Ln%360*a.uR),hn=(0,a.mC)(dn),Fn()):dn*a.RW},Cn.reflectX=function(Ln){return arguments.length?(Br=Ln?-1:1,Fn()):Br<0},Cn.reflectY=function(Ln){return arguments.length?(_r=Ln?-1:1,Fn()):_r<0},Cn.fitExtent=function(Ln,On){return(0,ar.qg)(Cn,Ln,On)},Cn.fitSize=function(Ln,On){return(0,ar.mF)(Cn,Ln,On)},Cn.fitWidth=function(Ln,On){return(0,ar.V6)(Cn,Ln,On)},Cn.fitHeight=function(Ln,On){return(0,ar.rf)(Cn,Ln,On)},Cn}var qr=t(26867),Er=t(57962),Zr=t(25382);function rn(lr,yr){var Fr=(0,a.mC)(yr),Br=1+(0,a.mC)(lr)*Fr;return[Fr*(0,a.O$)(lr)/Br,(0,a.O$)(yr)/Br]}function zr(){return(0,Ze.Z)(rn).scale(250).clipAngle(142)}function Pn(lr,yr){return[(0,a.cM)((0,a.OR)((a.ou+yr)/2)),-lr]}function An(){var lr=Be(Pn),yr=lr.center,Fr=lr.rotate;return lr.center=function(Br){return arguments.length?yr([-Br[1],Br[0]]):[(Br=yr())[1],-Br[0]]},lr.rotate=function(Br){return arguments.length?Fr([Br[0],Br[1],Br.length>2?Br[2]+90:90]):[(Br=Fr())[0],Br[1],Br[2]-90]},Fr([0,0,90]).scale(159.155)}rn.invert=(0,Zr.O)(function(lr){return 2*(0,a.z4)(lr)}),Pn.invert=function(lr,yr){return[-yr,2*(0,a.z4)((0,a.Qq)(lr))-a.ou]}},83074:function(tt,W,t){"use strict";t.d(W,{Z:function(){return g}});var A=t(39695);function g(i,P){var E=i[0]*A.uR,l=i[1]*A.uR,x=P[0]*A.uR,e=P[1]*A.uR,r=(0,A.mC)(l),f=(0,A.O$)(l),a=(0,A.mC)(e),s=(0,A.O$)(e),c=r*(0,A.mC)(E),u=r*(0,A.O$)(E),y=a*(0,A.mC)(x),v=a*(0,A.O$)(x),w=2*(0,A.ZR)((0,A._b)((0,A.Jy)(e-l)+r*a*(0,A.Jy)(x-E))),d=(0,A.O$)(w),o=w?function(h){var M=(0,A.O$)(h*=w)/d,T=(0,A.O$)(w-h)/d,L=T*c+M*y,m=T*u+M*v,S=T*f+M*s;return[(0,A.fv)(m,L)*A.RW,(0,A.fv)(S,(0,A._b)(L*L+m*m))*A.RW]}:function(){return[E*A.RW,l*A.RW]};return o.distance=w,o}},39695:function(tt,W,t){"use strict";t.d(W,{BZ:function(){return l},Ho:function(){return A},Jy:function(){return m},Kh:function(){return T},O$:function(){return d},OR:function(){return M},Qq:function(){return u},RW:function(){return x},Wn:function(){return r},Xx:function(){return o},ZR:function(){return L},_b:function(){return h},aW:function(){return g},cM:function(){return v},fv:function(){return a},mC:function(){return s},mD:function(){return c},ou:function(){return P},pi:function(){return i},pu:function(){return E},sQ:function(){return w},uR:function(){return e},z4:function(){return f}});var A=1e-6,g=1e-12,i=Math.PI,P=i/2,E=i/4,l=2*i,x=180/i,e=i/180,r=Math.abs,f=Math.atan,a=Math.atan2,s=Math.cos,c=Math.ceil,u=Math.exp,v=(Math,Math.log),w=Math.pow,d=Math.sin,o=Math.sign||function(S){return S>0?1:S<0?-1:0},h=Math.sqrt,M=Math.tan;function T(S){return S>1?0:S<-1?i:Math.acos(S)}function L(S){return S>1?P:S<-1?-P:Math.asin(S)}function m(S){return(S=d(S/2))*S}},73182:function(tt,W,t){"use strict";function A(){}t.d(W,{Z:function(){return A}})},3559:function(tt,W,t){"use strict";var A=t(73182),g=1/0,i=g,P=-g,E=P;W.Z={point:function x(e,r){e<g&&(g=e),e>P&&(P=e),r<i&&(i=r),r>E&&(E=r)},lineStart:A.Z,lineEnd:A.Z,polygonStart:A.Z,polygonEnd:A.Z,result:function(){var e=[[g,i],[P,E]];return P=E=-(i=g=1/0),e}}},67108:function(tt,W,t){"use strict";t.d(W,{Z:function(){return g}});var A=t(39695);function g(i,P){return(0,A.Wn)(i[0]-P[0])<A.Ho&&(0,A.Wn)(i[1]-P[1])<A.Ho}},23071:function(tt,W,t){"use strict";t.d(W,{Z:function(){return l}});var A=t(33940),g=t(7620),i=t(39695),P=(0,A.Z)();function E(x){return(0,i.Wn)(x[0])<=i.pi?x[0]:(0,i.Xx)(x[0])*(((0,i.Wn)(x[0])+i.pi)%i.BZ-i.pi)}function l(x,e){var r=E(e),f=e[1],a=(0,i.O$)(f),s=[(0,i.O$)(r),-(0,i.mC)(r),0],c=0,u=0;P.reset(),1===a?f=i.ou+i.Ho:-1===a&&(f=-i.ou-i.Ho);for(var y=0,v=x.length;y<v;++y)if(d=(w=x[y]).length)for(var w,d,o=w[d-1],h=E(o),M=o[1]/2+i.pu,T=(0,i.O$)(M),L=(0,i.mC)(M),m=0;m<d;++m,h=b,T=C,L=p,o=S){var S=w[m],b=E(S),n=S[1]/2+i.pu,C=(0,i.O$)(n),p=(0,i.mC)(n),F=b-h,D=F>=0?1:-1,N=D*F,k=N>i.pi,O=T*C;if(P.add((0,i.fv)(O*D*(0,i.O$)(N),L*p+O*(0,i.mC)(N))),c+=k?F+D*i.BZ:F,k^h>=r^b>=r){var B=(0,g.T5)((0,g.Og)(o),(0,g.Og)(S));(0,g.iJ)(B);var z=(0,g.T5)(s,B);(0,g.iJ)(z);var U=(k^F>=0?-1:1)*(0,i.ZR)(z[2]);(f>U||f===U&&(B[0]||B[1]))&&(u+=k^F>=0?1:-1)}}return(c<-i.Ho||c<i.Ho&&P<-i.Ho)^1&u}},25382:function(tt,W,t){"use strict";t.d(W,{O:function(){return i},W:function(){return g}});var A=t(39695);function g(P){return function(E,l){var x=(0,A.mC)(E),e=(0,A.mC)(l),r=P(x*e);return[r*e*(0,A.O$)(E),r*(0,A.O$)(l)]}}function i(P){return function(E,l){var x=(0,A._b)(E*E+l*l),e=P(x),r=(0,A.O$)(e),f=(0,A.mC)(e);return[(0,A.fv)(E*r,x*f),(0,A.ZR)(x&&l*r/x)]}}},12956:function(tt,W,t){"use strict";t.d(W,{Z:function(){return E},l:function(){return P}});var A=t(39695),g=t(25382),i=t(15002),P=(0,g.W)(function(l){return(0,A._b)(2/(1+l))});function E(){return(0,i.Z)(P).scale(124.75).clipAngle(179.999)}P.invert=(0,g.O)(function(l){return 2*(0,A.ZR)(l/2)})},17889:function(tt,W,t){"use strict";t.d(W,{N:function(){return P},Z:function(){return E}});var A=t(39695),g=t(25382),i=t(15002),P=(0,g.W)(function(l){return(l=(0,A.Kh)(l))&&l/(0,A.O$)(l)});function E(){return(0,i.Z)(P).scale(79.4188).clipAngle(179.999)}P.invert=(0,g.O)(function(l){return l})},97492:function(tt,W,t){"use strict";t.d(W,{Z:function(){return i},k:function(){return g}});var A=t(15002);function g(P,E){return[P,E]}function i(){return(0,A.Z)(g).scale(152.63)}g.invert=g},47589:function(tt,W,t){"use strict";t.d(W,{V6:function(){return l},mF:function(){return E},qg:function(){return P},rf:function(){return x}});var A=t(72736),g=t(3559);function i(e,r,f){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=a&&e.clipExtent(null),(0,A.Z)(f,e.stream(g.Z)),r(g.Z.result()),null!=a&&e.clipExtent(a),e}function P(e,r,f){return i(e,function(a){var s=r[1][0]-r[0][0],c=r[1][1]-r[0][1],u=Math.min(s/(a[1][0]-a[0][0]),c/(a[1][1]-a[0][1])),y=+r[0][0]+(s-u*(a[1][0]+a[0][0]))/2,v=+r[0][1]+(c-u*(a[1][1]+a[0][1]))/2;e.scale(150*u).translate([y,v])},f)}function E(e,r,f){return P(e,[[0,0],r],f)}function l(e,r,f){return i(e,function(a){var s=+r,c=s/(a[1][0]-a[0][0]),u=(s-c*(a[1][0]+a[0][0]))/2,y=-c*a[0][1];e.scale(150*c).translate([u,y])},f)}function x(e,r,f){return i(e,function(a){var s=+r,c=s/(a[1][1]-a[0][1]),u=-c*a[0][0],y=(s-c*(a[1][1]+a[0][1]))/2;e.scale(150*c).translate([u,y])},f)}},98936:function(tt,W,t){"use strict";t.d(W,{M:function(){return P},Z:function(){return E}});var A=t(39695),g=t(25382),i=t(15002);function P(l,x){var e=(0,A.mC)(x),r=(0,A.mC)(l)*e;return[e*(0,A.O$)(l)/r,(0,A.O$)(x)/r]}function E(){return(0,i.Z)(P).scale(144.049).clipAngle(60)}P.invert=(0,g.O)(A.z4)},15002:function(tt,W,t){"use strict";t.d(W,{Z:function(){return h},r:function(){return M}});var A=t(87070),g=t(1457),i=t(87605),P=t(96059),E=t(8593),l=t(39695),x=t(49386),e=t(64684),r=t(47589),f=t(7620),s=(0,l.mC)(30*l.uR);function c(T,L){return+L?function y(T,L){function m(S,b,n,C,p,F,D,N,k,O,B,z,U,G){var Q=D-S,rt=N-b,it=Q*Q+rt*rt;if(it>4*L&&U--){var ut=C+O,J=p+B,j=F+z,Z=(0,l._b)(ut*ut+J*J+j*j),H=(0,l.ZR)(j/=Z),X=(0,l.Wn)((0,l.Wn)(j)-1)<l.Ho||(0,l.Wn)(n-k)<l.Ho?(n+k)/2:(0,l.fv)(J,ut),at=T(X,H),_=at[0],K=at[1],nt=_-S,et=K-b,st=rt*nt-Q*et;(st*st/it>L||(0,l.Wn)((Q*nt+rt*et)/it-.5)>.3||C*O+p*B+F*z<s)&&(m(S,b,n,C,p,F,_,K,X,ut/=Z,J/=Z,j,U,G),G.point(_,K),m(_,K,X,ut,J,j,D,N,k,O,B,z,U,G))}}return function(S){var b,n,C,p,F,D,N,k,O,B,z,U,G={point:Q,lineStart:rt,lineEnd:ut,polygonStart:function(){S.polygonStart(),G.lineStart=J},polygonEnd:function(){S.polygonEnd(),G.lineStart=rt}};function Q(H,X){H=T(H,X),S.point(H[0],H[1])}function rt(){k=NaN,G.point=it,S.lineStart()}function it(H,X){var at=(0,f.Og)([H,X]),_=T(H,X);m(k,O,N,B,z,U,k=_[0],O=_[1],N=H,B=at[0],z=at[1],U=at[2],16,S),S.point(k,O)}function ut(){G.point=Q,S.lineEnd()}function J(){rt(),G.point=j,G.lineEnd=Z}function j(H,X){it(b=H,X),n=k,C=O,p=B,F=z,D=U,G.point=it}function Z(){m(k,O,N,B,z,U,n,C,b,p,F,D,16,S),G.lineEnd=ut,ut()}return G}}(T,L):function u(T){return(0,e.l)({point:function(L,m){L=T(L,m),this.stream.point(L[0],L[1])}})}(T)}var v=(0,e.l)({point:function(T,L){this.stream.point(T*l.uR,L*l.uR)}});function d(T,L,m,S,b){function n(C,p){return[L+T*(C*=S),m-T*(p*=b)]}return n.invert=function(C,p){return[(C-L)/T*S,(m-p)/T*b]},n}function o(T,L,m,S,b,n){var C=(0,l.mC)(n),p=(0,l.O$)(n),F=C*T,D=p*T,N=C/T,k=p/T,O=(p*m-C*L)/T,B=(p*L+C*m)/T;function z(U,G){return[F*(U*=S)-D*(G*=b)+L,m-D*U-F*G]}return z.invert=function(U,G){return[S*(N*U-k*G+O),b*(B-k*U-N*G)]},z}function h(T){return M(function(){return T})()}function M(T){var L,N,Q,rt,it,j,Z,H,X,at,m=150,S=480,b=250,n=0,C=0,p=0,F=0,D=0,k=0,O=1,B=1,z=null,U=A.Z,G=null,ut=E.Z,J=.5;function _(st){return H(st[0]*l.uR,st[1]*l.uR)}function K(st){return(st=H.invert(st[0],st[1]))&&[st[0]*l.RW,st[1]*l.RW]}function nt(){var st=o(m,0,0,O,B,k).apply(null,L(n,C)),dt=(k?o:d)(m,S-st[0],b-st[1],O,B,k);return N=(0,x.I)(p,F,D),Z=(0,P.Z)(L,dt),H=(0,P.Z)(N,Z),j=c(Z,J),et()}function et(){return X=at=null,_}return _.stream=function(st){return X&&at===st?X:X=v(function w(T){return(0,e.l)({point:function(L,m){var S=T(L,m);return this.stream.point(S[0],S[1])}})}(N)(U(j(ut(at=st)))))},_.preclip=function(st){return arguments.length?(U=st,z=void 0,et()):U},_.postclip=function(st){return arguments.length?(ut=st,G=Q=rt=it=null,et()):ut},_.clipAngle=function(st){return arguments.length?(U=+st?(0,g.Z)(z=st*l.uR):(z=null,A.Z),et()):z*l.RW},_.clipExtent=function(st){return arguments.length?(ut=null==st?(G=Q=rt=it=null,E.Z):(0,i.Z)(G=+st[0][0],Q=+st[0][1],rt=+st[1][0],it=+st[1][1]),et()):null==G?null:[[G,Q],[rt,it]]},_.scale=function(st){return arguments.length?(m=+st,nt()):m},_.translate=function(st){return arguments.length?(S=+st[0],b=+st[1],nt()):[S,b]},_.center=function(st){return arguments.length?(n=st[0]%360*l.uR,C=st[1]%360*l.uR,nt()):[n*l.RW,C*l.RW]},_.rotate=function(st){return arguments.length?(p=st[0]%360*l.uR,F=st[1]%360*l.uR,D=st.length>2?st[2]%360*l.uR:0,nt()):[p*l.RW,F*l.RW,D*l.RW]},_.angle=function(st){return arguments.length?(k=st%360*l.uR,nt()):k*l.RW},_.reflectX=function(st){return arguments.length?(O=st?-1:1,nt()):O<0},_.reflectY=function(st){return arguments.length?(B=st?-1:1,nt()):B<0},_.precision=function(st){return arguments.length?(j=c(Z,J=st*st),et()):(0,l._b)(J)},_.fitExtent=function(st,dt){return(0,r.qg)(_,st,dt)},_.fitSize=function(st,dt){return(0,r.mF)(_,st,dt)},_.fitWidth=function(st,dt){return(0,r.V6)(_,st,dt)},_.fitHeight=function(st,dt){return(0,r.rf)(_,st,dt)},function(){return L=T.apply(this,arguments),_.invert=L.invert&&K,nt()}}},26867:function(tt,W,t){"use strict";t.d(W,{K:function(){return i},Z:function(){return P}});var A=t(15002),g=t(39695);function i(E,l){var x=l*l,e=x*x;return[E*(.8707-.131979*x+e*(e*(.003971*x-.001529*e)-.013791)),l*(1.007226+x*(.015085+e*(.028874*x-.044475-.005916*e)))]}function P(){return(0,A.Z)(i).scale(175.295)}i.invert=function(E,l){var r,x=l,e=25;do{var f=x*x,a=f*f;x-=r=(x*(1.007226+f*(.015085+a*(.028874*f-.044475-.005916*a)))-l)/(1.007226+f*(.045255+a*(.259866*f-.311325-.06507600000000001*a)))}while((0,g.Wn)(r)>g.Ho&&--e>0);return[E/(.8707+(f=x*x)*(f*(f*f*f*(.003971-.001529*f)-.013791)-.131979)),x]}},57962:function(tt,W,t){"use strict";t.d(W,{I:function(){return P},Z:function(){return E}});var A=t(39695),g=t(25382),i=t(15002);function P(l,x){return[(0,A.mC)(x)*(0,A.O$)(l),(0,A.O$)(x)]}function E(){return(0,i.Z)(P).scale(249.5).clipAngle(90+A.Ho)}P.invert=(0,g.O)(A.ZR)},49386:function(tt,W,t){"use strict";t.d(W,{I:function(){return P},Z:function(){return e}});var A=t(96059),g=t(39695);function i(r,f){return[(0,g.Wn)(r)>g.pi?r+Math.round(-r/g.BZ)*g.BZ:r,f]}function P(r,f,a){return(r%=g.BZ)?f||a?(0,A.Z)(l(r),x(f,a)):l(r):f||a?x(f,a):i}function E(r){return function(f,a){return[(f+=r)>g.pi?f-g.BZ:f<-g.pi?f+g.BZ:f,a]}}function l(r){var f=E(r);return f.invert=E(-r),f}function x(r,f){var a=(0,g.mC)(r),s=(0,g.O$)(r),c=(0,g.mC)(f),u=(0,g.O$)(f);function y(v,w){var d=(0,g.mC)(w),o=(0,g.mC)(v)*d,h=(0,g.O$)(v)*d,M=(0,g.O$)(w),T=M*a+o*s;return[(0,g.fv)(h*c-T*u,o*a-M*s),(0,g.ZR)(T*c+h*u)]}return y.invert=function(v,w){var d=(0,g.mC)(w),o=(0,g.mC)(v)*d,h=(0,g.O$)(v)*d,M=(0,g.O$)(w),T=M*c-h*u;return[(0,g.fv)(h*c+M*u,o*a+T*s),(0,g.ZR)(T*a-o*s)]},y}function e(r){function f(a){return(a=r(a[0]*g.uR,a[1]*g.uR))[0]*=g.RW,a[1]*=g.RW,a}return r=P(r[0]*g.uR,r[1]*g.uR,r.length>2?r[2]*g.uR:0),f.invert=function(a){return(a=r.invert(a[0]*g.uR,a[1]*g.uR))[0]*=g.RW,a[1]*=g.RW,a},f}i.invert=i},72736:function(tt,W,t){"use strict";function A(x,e){x&&i.hasOwnProperty(x.type)&&i[x.type](x,e)}t.d(W,{Z:function(){return l}});var g={Feature:function(x,e){A(x.geometry,e)},FeatureCollection:function(x,e){for(var r=x.features,f=-1,a=r.length;++f<a;)A(r[f].geometry,e)}},i={Sphere:function(x,e){e.sphere()},Point:function(x,e){e.point((x=x.coordinates)[0],x[1],x[2])},MultiPoint:function(x,e){for(var r=x.coordinates,f=-1,a=r.length;++f<a;)e.point((x=r[f])[0],x[1],x[2])},LineString:function(x,e){P(x.coordinates,e,0)},MultiLineString:function(x,e){for(var r=x.coordinates,f=-1,a=r.length;++f<a;)P(r[f],e,0)},Polygon:function(x,e){E(x.coordinates,e)},MultiPolygon:function(x,e){for(var r=x.coordinates,f=-1,a=r.length;++f<a;)E(r[f],e)},GeometryCollection:function(x,e){for(var r=x.geometries,f=-1,a=r.length;++f<a;)A(r[f],e)}};function P(x,e,r){var s,f=-1,a=x.length-r;for(e.lineStart();++f<a;)e.point((s=x[f])[0],s[1],s[2]);e.lineEnd()}function E(x,e){var r=-1,f=x.length;for(e.polygonStart();++r<f;)P(x[r],e,1);e.polygonEnd()}function l(x,e){x&&g.hasOwnProperty(x.type)?g[x.type](x,e):A(x,e)}},64684:function(tt,W,t){"use strict";function A(P){return{stream:g(P)}}function g(P){return function(E){var l=new i;for(var x in P)l[x]=P[x];return l.stream=E,l}}function i(){}t.d(W,{Z:function(){return A},l:function(){return g}}),i.prototype={constructor:i,point:function(P,E){this.stream.point(P,E)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(tt,W,t){"use strict";function A(Ot,It){return Ot.parent===It.parent?1:2}function i(Ot,It){return Ot+It.x}function E(Ot,It){return Math.max(Ot,It.y)}function e(){var Ot=A,It=1,gt=1,pt=!1;function vt(yt){var Yt,Qt=0;yt.eachAfter(function(Ae){var je=Ae.children;je?(Ae.x=function g(Ot){return Ot.reduce(i,0)/Ot.length}(je),Ae.y=function P(Ot){return 1+Ot.reduce(E,0)}(je)):(Ae.x=Yt?Qt+=Ot(Ae,Yt):0,Ae.y=0,Yt=Ae)});var le=function l(Ot){for(var It;It=Ot.children;)Ot=It[0];return Ot}(yt),he=function x(Ot){for(var It;It=Ot.children;)Ot=It[It.length-1];return Ot}(yt),ke=le.x-Ot(le,he)/2,Oe=he.x+Ot(he,le)/2;return yt.eachAfter(pt?function(Ae){Ae.x=(Ae.x-yt.x)*It,Ae.y=(yt.y-Ae.y)*gt}:function(Ae){Ae.x=(Ae.x-ke)/(Oe-ke)*It,Ae.y=(1-(yt.y?Ae.y/yt.y:1))*gt})}return vt.separation=function(yt){return arguments.length?(Ot=yt,vt):Ot},vt.size=function(yt){return arguments.length?(pt=!1,It=+yt[0],gt=+yt[1],vt):pt?null:[It,gt]},vt.nodeSize=function(yt){return arguments.length?(pt=!0,It=+yt[0],gt=+yt[1],vt):pt?[It,gt]:null},vt}function r(Ot){var It=0,gt=Ot.children,pt=gt&&gt.length;if(pt)for(;--pt>=0;)It+=gt[pt].value;else It=1;Ot.value=It}function T(Ot,It){var vt,Yt,Qt,le,he,gt=new n(Ot),pt=+Ot.value&&(gt.value=Ot.value),yt=[gt];for(null==It&&(It=m);vt=yt.pop();)if(pt&&(vt.value=+vt.data.value),(Qt=It(vt.data))&&(he=Qt.length))for(vt.children=new Array(he),le=he-1;le>=0;--le)yt.push(Yt=vt.children[le]=new n(Qt[le])),Yt.parent=vt,Yt.depth=vt.depth+1;return gt.eachBefore(b)}function m(Ot){return Ot.children}function S(Ot){Ot.data=Ot.data.data}function b(Ot){var It=0;do{Ot.height=It}while((Ot=Ot.parent)&&Ot.height<++It)}function n(Ot){this.data=Ot,this.depth=this.height=0,this.parent=null}t.r(W),t.d(W,{cluster:function(){return e},hierarchy:function(){return T},pack:function(){return K},packEnclose:function(){return F},packSiblings:function(){return j},partition:function(){return bt},stratify:function(){return Ut},tree:function(){return ae},treemap:function(){return Zt},treemapBinary:function(){return Ct},treemapDice:function(){return Tt},treemapResquarify:function(){return Rt},treemapSlice:function(){return oe},treemapSliceDice:function(){return Et},treemapSquarify:function(){return Fe}}),n.prototype=T.prototype={constructor:n,count:function f(){return this.eachAfter(r)},each:function a(Ot){var gt,vt,yt,Yt,It=this,pt=[It];do{for(gt=pt.reverse(),pt=[];It=gt.pop();)if(Ot(It),vt=It.children)for(yt=0,Yt=vt.length;yt<Yt;++yt)pt.push(vt[yt])}while(pt.length);return this},eachAfter:function c(Ot){for(var vt,yt,Yt,It=this,gt=[It],pt=[];It=gt.pop();)if(pt.push(It),vt=It.children)for(yt=0,Yt=vt.length;yt<Yt;++yt)gt.push(vt[yt]);for(;It=pt.pop();)Ot(It);return this},eachBefore:function s(Ot){for(var pt,vt,It=this,gt=[It];It=gt.pop();)if(Ot(It),pt=It.children)for(vt=pt.length-1;vt>=0;--vt)gt.push(pt[vt]);return this},sum:function u(Ot){return this.eachAfter(function(It){for(var gt=+Ot(It.data)||0,pt=It.children,vt=pt&&pt.length;--vt>=0;)gt+=pt[vt].value;It.value=gt})},sort:function y(Ot){return this.eachBefore(function(It){It.children&&It.children.sort(Ot)})},path:function v(Ot){for(var It=this,gt=function w(Ot,It){if(Ot===It)return Ot;var gt=Ot.ancestors(),pt=It.ancestors(),vt=null;for(Ot=gt.pop(),It=pt.pop();Ot===It;)vt=Ot,Ot=gt.pop(),It=pt.pop();return vt}(It,Ot),pt=[It];It!==gt;)pt.push(It=It.parent);for(var vt=pt.length;Ot!==gt;)pt.splice(vt,0,Ot),Ot=Ot.parent;return pt},ancestors:function d(){for(var Ot=this,It=[Ot];Ot=Ot.parent;)It.push(Ot);return It},descendants:function o(){var Ot=[];return this.each(function(It){Ot.push(It)}),Ot},leaves:function h(){var Ot=[];return this.eachBefore(function(It){It.children||Ot.push(It)}),Ot},links:function M(){var Ot=this,It=[];return Ot.each(function(gt){gt!==Ot&&It.push({source:gt.parent,target:gt})}),It},copy:function L(){return T(this).eachBefore(S)}};var C=Array.prototype.slice;function F(Ot){for(var vt,yt,It=0,gt=(Ot=function p(Ot){for(var gt,pt,It=Ot.length;It;)pt=Math.random()*It--|0,gt=Ot[It],Ot[It]=Ot[pt],Ot[pt]=gt;return Ot}(C.call(Ot))).length,pt=[];It<gt;)vt=Ot[It],yt&&k(yt,vt)?++It:(yt=B(pt=D(pt,vt)),It=0);return yt}function D(Ot,It){var gt,pt;if(O(It,Ot))return[It];for(gt=0;gt<Ot.length;++gt)if(N(It,Ot[gt])&&O(U(Ot[gt],It),Ot))return[Ot[gt],It];for(gt=0;gt<Ot.length-1;++gt)for(pt=gt+1;pt<Ot.length;++pt)if(N(U(Ot[gt],Ot[pt]),It)&&N(U(Ot[gt],It),Ot[pt])&&N(U(Ot[pt],It),Ot[gt])&&O(G(Ot[gt],Ot[pt],It),Ot))return[Ot[gt],Ot[pt],It];throw new Error}function N(Ot,It){var gt=Ot.r-It.r,pt=It.x-Ot.x,vt=It.y-Ot.y;return gt<0||gt*gt<pt*pt+vt*vt}function k(Ot,It){var gt=Ot.r-It.r+1e-6,pt=It.x-Ot.x,vt=It.y-Ot.y;return gt>0&&gt*gt>pt*pt+vt*vt}function O(Ot,It){for(var gt=0;gt<It.length;++gt)if(!k(Ot,It[gt]))return!1;return!0}function B(Ot){switch(Ot.length){case 1:return function z(Ot){return{x:Ot.x,y:Ot.y,r:Ot.r}}(Ot[0]);case 2:return U(Ot[0],Ot[1]);case 3:return G(Ot[0],Ot[1],Ot[2])}}function U(Ot,It){var gt=Ot.x,pt=Ot.y,vt=Ot.r,yt=It.x,Yt=It.y,Qt=It.r,le=yt-gt,he=Yt-pt,ke=Qt-vt,Oe=Math.sqrt(le*le+he*he);return{x:(gt+yt+le/Oe*ke)/2,y:(pt+Yt+he/Oe*ke)/2,r:(Oe+vt+Qt)/2}}function G(Ot,It,gt){var pt=Ot.x,vt=Ot.y,yt=Ot.r,Yt=It.x,Qt=It.y,le=It.r,he=gt.x,ke=gt.y,Oe=gt.r,Ae=pt-Yt,je=pt-he,Ze=vt-Qt,Lr=vt-ke,fe=le-yt,Ve=Oe-yt,He=pt*pt+vt*vt-yt*yt,wr=He-Yt*Yt-Qt*Qt+le*le,ar=He-he*he-ke*ke+Oe*Oe,ie=je*Ze-Ae*Lr,ne=(Ze*ar-Lr*wr)/(2*ie)-pt,ve=(Lr*fe-Ze*Ve)/ie,xe=(je*wr-Ae*ar)/(2*ie)-vt,Te=(Ae*Ve-je*fe)/ie,be=ve*ve+Te*Te-1,Pe=2*(yt+ne*ve+xe*Te),Be=ne*ne+xe*xe-yt*yt,Qe=-(be?(Pe+Math.sqrt(Pe*Pe-4*be*Be))/(2*be):Be/Pe);return{x:pt+ne+ve*Qe,y:vt+xe+Te*Qe,r:Qe}}function Q(Ot,It,gt){var vt,yt,Qt,le,pt=Ot.x-It.x,Yt=Ot.y-It.y,he=pt*pt+Yt*Yt;he?(yt=It.r+gt.r,le=Ot.r+gt.r,(yt*=yt)>(le*=le)?(vt=(he+le-yt)/(2*he),Qt=Math.sqrt(Math.max(0,le/he-vt*vt)),gt.x=Ot.x-vt*pt-Qt*Yt,gt.y=Ot.y-vt*Yt+Qt*pt):(vt=(he+yt-le)/(2*he),Qt=Math.sqrt(Math.max(0,yt/he-vt*vt)),gt.x=It.x+vt*pt-Qt*Yt,gt.y=It.y+vt*Yt+Qt*pt)):(gt.x=It.x+gt.r,gt.y=It.y)}function rt(Ot,It){var gt=Ot.r+It.r-1e-6,pt=It.x-Ot.x,vt=It.y-Ot.y;return gt>0&&gt*gt>pt*pt+vt*vt}function it(Ot){var It=Ot._,gt=Ot.next._,pt=It.r+gt.r,vt=(It.x*gt.r+gt.x*It.r)/pt,yt=(It.y*gt.r+gt.y*It.r)/pt;return vt*vt+yt*yt}function ut(Ot){this._=Ot,this.next=null,this.previous=null}function J(Ot){if(!(vt=Ot.length))return 0;var It,gt,pt,vt,yt,Yt,Qt,le,he,ke,Oe;if((It=Ot[0]).x=0,It.y=0,!(vt>1))return It.r;if(It.x=-(gt=Ot[1]).r,gt.x=It.r,gt.y=0,!(vt>2))return It.r+gt.r;Q(gt,It,pt=Ot[2]),It=new ut(It),gt=new ut(gt),pt=new ut(pt),It.next=pt.previous=gt,gt.next=It.previous=pt,pt.next=gt.previous=It;t:for(Qt=3;Qt<vt;++Qt){Q(It._,gt._,pt=Ot[Qt]),pt=new ut(pt),le=gt.next,he=It.previous,ke=gt._.r,Oe=It._.r;do{if(ke<=Oe){if(rt(le._,pt._)){It.next=gt=le,gt.previous=It,--Qt;continue t}ke+=le._.r,le=le.next}else{if(rt(he._,pt._)){(It=he).next=gt,gt.previous=It,--Qt;continue t}Oe+=he._.r,he=he.previous}}while(le!==he.next);for(pt.previous=It,pt.next=gt,It.next=gt.previous=gt=pt,yt=it(It);(pt=pt.next)!==gt;)(Yt=it(pt))<yt&&(It=pt,yt=Yt);gt=It.next}for(It=[gt._],pt=gt;(pt=pt.next)!==gt;)It.push(pt._);for(pt=F(It),Qt=0;Qt<vt;++Qt)(It=Ot[Qt]).x-=pt.x,It.y-=pt.y;return pt.r}function j(Ot){return J(Ot),Ot}function Z(Ot){return null==Ot?null:H(Ot)}function H(Ot){if("function"!=typeof Ot)throw new Error;return Ot}function X(){return 0}function at(Ot){return function(){return Ot}}function _(Ot){return Math.sqrt(Ot.value)}function K(){var Ot=null,It=1,gt=1,pt=X;function vt(yt){return yt.x=It/2,yt.y=gt/2,Ot?yt.eachBefore(nt(Ot)).eachAfter(et(pt,.5)).eachBefore(st(1)):yt.eachBefore(nt(_)).eachAfter(et(X,1)).eachAfter(et(pt,yt.r/Math.min(It,gt))).eachBefore(st(Math.min(It,gt)/(2*yt.r))),yt}return vt.radius=function(yt){return arguments.length?(Ot=Z(yt),vt):Ot},vt.size=function(yt){return arguments.length?(It=+yt[0],gt=+yt[1],vt):[It,gt]},vt.padding=function(yt){return arguments.length?(pt="function"==typeof yt?yt:at(+yt),vt):pt},vt}function nt(Ot){return function(It){It.children||(It.r=Math.max(0,+Ot(It)||0))}}function et(Ot,It){return function(gt){if(pt=gt.children){var pt,vt,Qt,yt=pt.length,Yt=Ot(gt)*It||0;if(Yt)for(vt=0;vt<yt;++vt)pt[vt].r+=Yt;if(Qt=J(pt),Yt)for(vt=0;vt<yt;++vt)pt[vt].r-=Yt;gt.r=Qt+Yt}}}function st(Ot){return function(It){var gt=It.parent;It.r*=Ot,gt&&(It.x=gt.x+Ot*It.x,It.y=gt.y+Ot*It.y)}}function dt(Ot){Ot.x0=Math.round(Ot.x0),Ot.y0=Math.round(Ot.y0),Ot.x1=Math.round(Ot.x1),Ot.y1=Math.round(Ot.y1)}function Tt(Ot,It,gt,pt,vt){for(var Yt,yt=Ot.children,Qt=-1,le=yt.length,he=Ot.value&&(pt-It)/Ot.value;++Qt<le;)(Yt=yt[Qt]).y0=gt,Yt.y1=vt,Yt.x0=It,Yt.x1=It+=Yt.value*he}function bt(){var Ot=1,It=1,gt=0,pt=!1;function vt(Yt){var Qt=Yt.height+1;return Yt.x0=Yt.y0=gt,Yt.x1=Ot,Yt.y1=It/Qt,Yt.eachBefore(function yt(Yt,Qt){return function(le){le.children&&Tt(le,le.x0,Yt*(le.depth+1)/Qt,le.x1,Yt*(le.depth+2)/Qt);var he=le.x0,ke=le.y0,Oe=le.x1-gt,Ae=le.y1-gt;Oe<he&&(he=Oe=(he+Oe)/2),Ae<ke&&(ke=Ae=(ke+Ae)/2),le.x0=he,le.y0=ke,le.x1=Oe,le.y1=Ae}}(It,Qt)),pt&&Yt.eachBefore(dt),Yt}return vt.round=function(Yt){return arguments.length?(pt=!!Yt,vt):pt},vt.size=function(Yt){return arguments.length?(Ot=+Yt[0],It=+Yt[1],vt):[Ot,It]},vt.padding=function(Yt){return arguments.length?(gt=+Yt,vt):gt},vt}var Ft={depth:-1},Mt={};function wt(Ot){return Ot.id}function St(Ot){return Ot.parentId}function Ut(){var Ot=wt,It=St;function gt(pt){var vt,yt,Qt,le,he,Oe,Ae,Yt=pt.length,ke=new Array(Yt),je={};for(yt=0;yt<Yt;++yt)he=ke[yt]=new n(vt=pt[yt]),null!=(Oe=Ot(vt,yt,pt))&&(Oe+="")&&(je[Ae="$"+(he.id=Oe)]=Ae in je?Mt:he);for(yt=0;yt<Yt;++yt)if(he=ke[yt],null!=(Oe=It(pt[yt],yt,pt))&&(Oe+="")){if(!(le=je["$"+Oe]))throw new Error("missing: "+Oe);if(le===Mt)throw new Error("ambiguous: "+Oe);le.children?le.children.push(he):le.children=[he],he.parent=le}else{if(Qt)throw new Error("multiple roots");Qt=he}if(!Qt)throw new Error("no root");if(Qt.parent=Ft,Qt.eachBefore(function(Ze){Ze.depth=Ze.parent.depth+1,--Yt}).eachBefore(b),Qt.parent=null,Yt>0)throw new Error("cycle");return Qt}return gt.id=function(pt){return arguments.length?(Ot=H(pt),gt):Ot},gt.parentId=function(pt){return arguments.length?(It=H(pt),gt):It},gt}function Gt(Ot,It){return Ot.parent===It.parent?1:2}function Pt(Ot){var It=Ot.children;return It?It[0]:Ot.t}function Vt(Ot){var It=Ot.children;return It?It[It.length-1]:Ot.t}function te(Ot,It,gt){var pt=gt/(It.i-Ot.i);It.c-=pt,It.s+=gt,Ot.c+=pt,It.z+=gt,It.m+=gt}function kt(Ot,It,gt){return Ot.a.parent===It.parent?Ot.a:gt}function zt(Ot,It){this._=Ot,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=It}function ae(){var Ot=Gt,It=1,gt=1,pt=null;function vt(he){var ke=function qt(Ot){for(var gt,vt,yt,Yt,Qt,It=new zt(Ot,0),pt=[It];gt=pt.pop();)if(yt=gt._.children)for(gt.children=new Array(Qt=yt.length),Yt=Qt-1;Yt>=0;--Yt)pt.push(vt=gt.children[Yt]=new zt(yt[Yt],Yt)),vt.parent=gt;return(It.parent=new zt(null,0)).children=[It],It}(he);if(ke.eachAfter(yt),ke.parent.m=-ke.z,ke.eachBefore(Yt),pt)he.eachBefore(le);else{var Oe=he,Ae=he,je=he;he.eachBefore(function(He){He.x<Oe.x&&(Oe=He),He.x>Ae.x&&(Ae=He),He.depth>je.depth&&(je=He)});var Ze=Oe===Ae?1:Ot(Oe,Ae)/2,Lr=Ze-Oe.x,fe=It/(Ae.x+Ze+Lr),Ve=gt/(je.depth||1);he.eachBefore(function(He){He.x=(He.x+Lr)*fe,He.y=He.depth*Ve})}return he}function yt(he){var ke=he.children,Oe=he.parent.children,Ae=he.i?Oe[he.i-1]:null;if(ke){!function _t(Ot){for(var yt,It=0,gt=0,pt=Ot.children,vt=pt.length;--vt>=0;)(yt=pt[vt]).z+=It,yt.m+=It,It+=yt.s+(gt+=yt.c)}(he);var je=(ke[0].z+ke[ke.length-1].z)/2;Ae?(he.z=Ae.z+Ot(he._,Ae._),he.m=he.z-je):he.z=je}else Ae&&(he.z=Ae.z+Ot(he._,Ae._));he.parent.A=function Qt(he,ke,Oe){if(ke){for(var ar,Ae=he,je=he,Ze=ke,Lr=Ae.parent.children[0],fe=Ae.m,Ve=je.m,He=Ze.m,wr=Lr.m;Ze=Vt(Ze),Ae=Pt(Ae),Ze&&Ae;)Lr=Pt(Lr),(je=Vt(je)).a=he,(ar=Ze.z+He-Ae.z-fe+Ot(Ze._,Ae._))>0&&(te(kt(Ze,he,Oe),he,ar),fe+=ar,Ve+=ar),He+=Ze.m,fe+=Ae.m,wr+=Lr.m,Ve+=je.m;Ze&&!Vt(je)&&(je.t=Ze,je.m+=He-Ve),Ae&&!Pt(Lr)&&(Lr.t=Ae,Lr.m+=fe-wr,Oe=he)}return Oe}(he,Ae,he.parent.A||Oe[0])}function Yt(he){he._.x=he.z+he.parent.m,he.m+=he.parent.m}function le(he){he.x*=It,he.y=he.depth*gt}return vt.separation=function(he){return arguments.length?(Ot=he,vt):Ot},vt.size=function(he){return arguments.length?(pt=!1,It=+he[0],gt=+he[1],vt):pt?null:[It,gt]},vt.nodeSize=function(he){return arguments.length?(pt=!0,It=+he[0],gt=+he[1],vt):pt?[It,gt]:null},vt}function oe(Ot,It,gt,pt,vt){for(var Yt,yt=Ot.children,Qt=-1,le=yt.length,he=Ot.value&&(vt-gt)/Ot.value;++Qt<le;)(Yt=yt[Qt]).x0=It,Yt.x1=pt,Yt.y0=gt,Yt.y1=gt+=Yt.value*he}zt.prototype=Object.create(n.prototype);var pe=(1+Math.sqrt(5))/2;function ye(Ot,It,gt,pt,vt,yt){for(var le,he,je,Ze,fe,Ve,He,wr,ar,ie,ne,Yt=[],Qt=It.children,ke=0,Oe=0,Ae=Qt.length,Lr=It.value;ke<Ae;){je=vt-gt,Ze=yt-pt;do{fe=Qt[Oe++].value}while(!fe&&Oe<Ae);for(Ve=He=fe,ne=fe*fe*(ie=Math.max(Ze/je,je/Ze)/(Lr*Ot)),ar=Math.max(He/ne,ne/Ve);Oe<Ae;++Oe){if(fe+=he=Qt[Oe].value,he<Ve&&(Ve=he),he>He&&(He=he),ne=fe*fe*ie,(wr=Math.max(He/ne,ne/Ve))>ar){fe-=he;break}ar=wr}Yt.push(le={value:fe,dice:je<Ze,children:Qt.slice(ke,Oe)}),le.dice?Tt(le,gt,pt,vt,Lr?pt+=Ze*fe/Lr:yt):oe(le,gt,pt,Lr?gt+=je*fe/Lr:vt,yt),Lr-=fe,ke=Oe}return Yt}var Fe=function Ot(It){function gt(pt,vt,yt,Yt,Qt){ye(It,pt,vt,yt,Yt,Qt)}return gt.ratio=function(pt){return Ot((pt=+pt)>1?pt:1)},gt}(pe);function Zt(){var Ot=Fe,It=!1,gt=1,pt=1,vt=[0],yt=X,Yt=X,Qt=X,le=X,he=X;function ke(Ae){return Ae.x0=Ae.y0=0,Ae.x1=gt,Ae.y1=pt,Ae.eachBefore(Oe),vt=[0],It&&Ae.eachBefore(dt),Ae}function Oe(Ae){var je=vt[Ae.depth],Ze=Ae.x0+je,Lr=Ae.y0+je,fe=Ae.x1-je,Ve=Ae.y1-je;fe<Ze&&(Ze=fe=(Ze+fe)/2),Ve<Lr&&(Lr=Ve=(Lr+Ve)/2),Ae.x0=Ze,Ae.y0=Lr,Ae.x1=fe,Ae.y1=Ve,Ae.children&&(je=vt[Ae.depth+1]=yt(Ae)/2,Ze+=he(Ae)-je,Lr+=Yt(Ae)-je,(fe-=Qt(Ae)-je)<Ze&&(Ze=fe=(Ze+fe)/2),(Ve-=le(Ae)-je)<Lr&&(Lr=Ve=(Lr+Ve)/2),Ot(Ae,Ze,Lr,fe,Ve))}return ke.round=function(Ae){return arguments.length?(It=!!Ae,ke):It},ke.size=function(Ae){return arguments.length?(gt=+Ae[0],pt=+Ae[1],ke):[gt,pt]},ke.tile=function(Ae){return arguments.length?(Ot=H(Ae),ke):Ot},ke.padding=function(Ae){return arguments.length?ke.paddingInner(Ae).paddingOuter(Ae):ke.paddingInner()},ke.paddingInner=function(Ae){return arguments.length?(yt="function"==typeof Ae?Ae:at(+Ae),ke):yt},ke.paddingOuter=function(Ae){return arguments.length?ke.paddingTop(Ae).paddingRight(Ae).paddingBottom(Ae).paddingLeft(Ae):ke.paddingTop()},ke.paddingTop=function(Ae){return arguments.length?(Yt="function"==typeof Ae?Ae:at(+Ae),ke):Yt},ke.paddingRight=function(Ae){return arguments.length?(Qt="function"==typeof Ae?Ae:at(+Ae),ke):Qt},ke.paddingBottom=function(Ae){return arguments.length?(le="function"==typeof Ae?Ae:at(+Ae),ke):le},ke.paddingLeft=function(Ae){return arguments.length?(he="function"==typeof Ae?Ae:at(+Ae),ke):he},ke}function Ct(Ot,It,gt,pt,vt){var Yt,le,yt=Ot.children,Qt=yt.length,he=new Array(Qt+1);for(he[0]=le=Yt=0;Yt<Qt;++Yt)he[Yt+1]=le+=yt[Yt].value;!function ke(Oe,Ae,je,Ze,Lr,fe,Ve){if(Oe>=Ae-1){var He=yt[Oe];return He.x0=Ze,He.y0=Lr,He.x1=fe,void(He.y1=Ve)}for(var wr=he[Oe],ar=je/2+wr,ie=Oe+1,ne=Ae-1;ie<ne;){var ve=ie+ne>>>1;he[ve]<ar?ie=ve+1:ne=ve}ar-he[ie-1]<he[ie]-ar&&Oe+1<ie&&--ie;var xe=he[ie]-wr,Te=je-xe;if(fe-Ze>Ve-Lr){var be=(Ze*Te+fe*xe)/je;ke(Oe,ie,xe,Ze,Lr,be,Ve),ke(ie,Ae,Te,be,Lr,fe,Ve)}else{var Pe=(Lr*Te+Ve*xe)/je;ke(Oe,ie,xe,Ze,Lr,fe,Pe),ke(ie,Ae,Te,Ze,Pe,fe,Ve)}}(0,Qt,Ot.value,It,gt,pt,vt)}function Et(Ot,It,gt,pt,vt){(1&Ot.depth?oe:Tt)(Ot,It,gt,pt,vt)}var Rt=function Ot(It){function gt(pt,vt,yt,Yt,Qt){if((le=pt._squarify)&&le.ratio===It)for(var le,he,ke,Oe,je,Ae=-1,Ze=le.length,Lr=pt.value;++Ae<Ze;){for(ke=(he=le[Ae]).children,Oe=he.value=0,je=ke.length;Oe<je;++Oe)he.value+=ke[Oe].value;he.dice?Tt(he,vt,yt,Yt,yt+=(Qt-yt)*he.value/Lr):oe(he,vt,yt,vt+=(Yt-vt)*he.value/Lr,Qt),Lr-=he.value}else pt._squarify=le=ye(It,pt,vt,yt,Yt,Qt),le.ratio=It}return gt.ratio=function(pt){return Ot((pt=+pt)>1?pt:1)},gt}(pe)},45879:function(tt,W,t){"use strict";t.d(W,{h5:function(){return d}});var A=Math.PI,g=2*A,i=1e-6,P=g-i;function E(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function l(){return new E}E.prototype=l.prototype={constructor:E,moveTo:function(M,T){this._+="M"+(this._x0=this._x1=+M)+","+(this._y0=this._y1=+T)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(M,T){this._+="L"+(this._x1=+M)+","+(this._y1=+T)},quadraticCurveTo:function(M,T,L,m){this._+="Q"+ +M+","+ +T+","+(this._x1=+L)+","+(this._y1=+m)},bezierCurveTo:function(M,T,L,m,S,b){this._+="C"+ +M+","+ +T+","+ +L+","+ +m+","+(this._x1=+S)+","+(this._y1=+b)},arcTo:function(M,T,L,m,S){var b=this._x1,n=this._y1,C=(L=+L)-(M=+M),p=(m=+m)-(T=+T),F=b-M,D=n-T,N=F*F+D*D;if((S=+S)<0)throw new Error("negative radius: "+S);if(null===this._x1)this._+="M"+(this._x1=M)+","+(this._y1=T);else if(N>i)if(Math.abs(D*C-p*F)>i&&S){var k=L-b,O=m-n,B=C*C+p*p,z=k*k+O*O,U=Math.sqrt(B),G=Math.sqrt(N),Q=S*Math.tan((A-Math.acos((B+N-z)/(2*U*G)))/2),rt=Q/G,it=Q/U;Math.abs(rt-1)>i&&(this._+="L"+(M+rt*F)+","+(T+rt*D)),this._+="A"+S+","+S+",0,0,"+ +(D*k>F*O)+","+(this._x1=M+it*C)+","+(this._y1=T+it*p)}else this._+="L"+(this._x1=M)+","+(this._y1=T)},arc:function(M,T,L,m,S,b){M=+M,T=+T,b=!!b;var n=(L=+L)*Math.cos(m),C=L*Math.sin(m),p=M+n,F=T+C,D=1^b,N=b?m-S:S-m;if(L<0)throw new Error("negative radius: "+L);null===this._x1?this._+="M"+p+","+F:(Math.abs(this._x1-p)>i||Math.abs(this._y1-F)>i)&&(this._+="L"+p+","+F),L&&(N<0&&(N=N%g+g),N>P?this._+="A"+L+","+L+",0,1,"+D+","+(M-n)+","+(T-C)+"A"+L+","+L+",0,1,"+D+","+(this._x1=p)+","+(this._y1=F):N>i&&(this._+="A"+L+","+L+",0,"+ +(N>=A)+","+D+","+(this._x1=M+L*Math.cos(S))+","+(this._y1=T+L*Math.sin(S))))},rect:function(M,T,L,m){this._+="M"+(this._x0=this._x1=+M)+","+(this._y0=this._y1=+T)+"h"+ +L+"v"+ +m+"h"+-L+"Z"},toString:function(){return this._}};var x=l,e=Array.prototype.slice;function r(M){return function(){return M}}function f(M){return M[0]}function a(M){return M[1]}function s(M){return M.source}function c(M){return M.target}function y(M,T,L,m,S){M.moveTo(T,L),M.bezierCurveTo(T=(T+m)/2,L,T,S,m,S)}function d(){return function u(M){var T=s,L=c,m=f,S=a,b=null;function n(){var C,p=e.call(arguments),F=T.apply(this,p),D=L.apply(this,p);if(b||(b=C=x()),M(b,+m.apply(this,(p[0]=F,p)),+S.apply(this,p),+m.apply(this,(p[0]=D,p)),+S.apply(this,p)),C)return b=null,C+""||null}return n.source=function(C){return arguments.length?(T=C,n):T},n.target=function(C){return arguments.length?(L=C,n):L},n.x=function(C){return arguments.length?(m="function"==typeof C?C:r(+C),n):m},n.y=function(C){return arguments.length?(S="function"==typeof C?C:r(+C),n):S},n.context=function(C){return arguments.length?(b=null==C?null:C,n):b},n}(y)}},84096:function(tt,W,t){"use strict";t.d(W,{i$:function(){return Ct},Dq:function(){return f},g0:function(){return Rt}});var A=t(58176),g=t(48480),i=t(59879),P=t(82301),E=t(34823),l=t(79791);function x(gt){if(0<=gt.y&&gt.y<100){var pt=new Date(-1,gt.m,gt.d,gt.H,gt.M,gt.S,gt.L);return pt.setFullYear(gt.y),pt}return new Date(gt.y,gt.m,gt.d,gt.H,gt.M,gt.S,gt.L)}function e(gt){if(0<=gt.y&&gt.y<100){var pt=new Date(Date.UTC(-1,gt.m,gt.d,gt.H,gt.M,gt.S,gt.L));return pt.setUTCFullYear(gt.y),pt}return new Date(Date.UTC(gt.y,gt.m,gt.d,gt.H,gt.M,gt.S,gt.L))}function r(gt,pt,vt){return{y:gt,m:pt,d:vt,H:0,M:0,S:0,L:0}}function f(gt){var pt=gt.dateTime,vt=gt.date,yt=gt.time,Yt=gt.periods,Qt=gt.days,le=gt.shortDays,he=gt.months,ke=gt.shortMonths,Oe=w(Yt),Ae=d(Yt),je=w(Qt),Ze=d(Qt),Lr=w(le),fe=d(le),Ve=w(he),He=d(he),wr=w(ke),ar=d(ke),ie={a:function Se(Er){return le[Er.getDay()]},A:function Le(Er){return Qt[Er.getDay()]},b:function We(Er){return ke[Er.getMonth()]},B:function rr(Er){return he[Er.getMonth()]},c:null,d:Q,e:Q,f:j,H:rt,I:it,j:ut,L:J,m:Z,M:H,p:function or(Er){return Yt[+(Er.getHours()>=12)]},q:function qe(Er){return 1+~~(Er.getMonth()/3)},Q:ye,s:Fe,S:X,u:at,U:_,V:K,w:nt,W:et,x:null,X:null,y:st,Y:dt,Z:Tt,"%":pe},ne={a:function De(Er){return le[Er.getUTCDay()]},A:function sr(Er){return Qt[Er.getUTCDay()]},b:function gr(Er){return ke[Er.getUTCMonth()]},B:function dr(Er){return he[Er.getUTCMonth()]},c:null,d:bt,e:bt,f:St,H:Dt,I:Ft,j:Mt,L:wt,m:Ut,M:Gt,p:function Pr(Er){return Yt[+(Er.getUTCHours()>=12)]},q:function qr(Er){return 1+~~(Er.getUTCMonth()/3)},Q:ye,s:Fe,S:Pt,u:Vt,U:te,V:_t,w:kt,W:zt,x:null,X:null,y:qt,Y:ae,Z:oe,"%":pe},ve={a:function Be(Er,Zr,rn){var zr=Lr.exec(Zr.slice(rn));return zr?(Er.w=fe[zr[0].toLowerCase()],rn+zr[0].length):-1},A:function Qe(Er,Zr,rn){var zr=je.exec(Zr.slice(rn));return zr?(Er.w=Ze[zr[0].toLowerCase()],rn+zr[0].length):-1},b:function Ke(Er,Zr,rn){var zr=wr.exec(Zr.slice(rn));return zr?(Er.m=ar[zr[0].toLowerCase()],rn+zr[0].length):-1},B:function tr(Er,Zr,rn){var zr=Ve.exec(Zr.slice(rn));return zr?(Er.m=He[zr[0].toLowerCase()],rn+zr[0].length):-1},c:function vr(Er,Zr,rn){return be(Er,pt,Zr,rn)},d:p,e:p,f:B,H:D,I:D,j:F,L:O,m:C,M:N,p:function Pe(Er,Zr,rn){var zr=Oe.exec(Zr.slice(rn));return zr?(Er.p=Ae[zr[0].toLowerCase()],rn+zr[0].length):-1},q:n,Q:U,s:G,S:k,u:h,U:M,V:T,w:o,W:L,x:function Ht(Er,Zr,rn){return be(Er,vt,Zr,rn)},X:function Nt(Er,Zr,rn){return be(Er,yt,Zr,rn)},y:S,Y:m,Z:b,"%":z};function xe(Er,Zr){return function(rn){var yr,Fr,Br,zr=[],Pn=-1,An=0,lr=Er.length;for(rn instanceof Date||(rn=new Date(+rn));++Pn<lr;)37===Er.charCodeAt(Pn)&&(zr.push(Er.slice(An,Pn)),null!=(Fr=a[yr=Er.charAt(++Pn)])?yr=Er.charAt(++Pn):Fr="e"===yr?" ":"0",(Br=Zr[yr])&&(yr=Br(rn,Fr)),zr.push(yr),An=Pn+1);return zr.push(Er.slice(An,Pn)),zr.join("")}}function Te(Er,Zr){return function(rn){var An,lr,zr=r(1900,void 0,1);if(be(zr,Er,rn+="",0)!=rn.length)return null;if("Q"in zr)return new Date(zr.Q);if("s"in zr)return new Date(1e3*zr.s+("L"in zr?zr.L:0));if(Zr&&!("Z"in zr)&&(zr.Z=0),"p"in zr&&(zr.H=zr.H%12+12*zr.p),void 0===zr.m&&(zr.m="q"in zr?zr.q:0),"V"in zr){if(zr.V<1||zr.V>53)return null;"w"in zr||(zr.w=1),"Z"in zr?(lr=(An=e(r(zr.y,0,1))).getUTCDay(),An=lr>4||0===lr?A.l6.ceil(An):(0,A.l6)(An),An=g.Z.offset(An,7*(zr.V-1)),zr.y=An.getUTCFullYear(),zr.m=An.getUTCMonth(),zr.d=An.getUTCDate()+(zr.w+6)%7):(lr=(An=x(r(zr.y,0,1))).getDay(),An=lr>4||0===lr?i.wA.ceil(An):(0,i.wA)(An),An=P.Z.offset(An,7*(zr.V-1)),zr.y=An.getFullYear(),zr.m=An.getMonth(),zr.d=An.getDate()+(zr.w+6)%7)}else("W"in zr||"U"in zr)&&("w"in zr||(zr.w="u"in zr?zr.u%7:"W"in zr?1:0),lr="Z"in zr?e(r(zr.y,0,1)).getUTCDay():x(r(zr.y,0,1)).getDay(),zr.m=0,zr.d="W"in zr?(zr.w+6)%7+7*zr.W-(lr+5)%7:zr.w+7*zr.U-(lr+6)%7);return"Z"in zr?(zr.H+=zr.Z/100|0,zr.M+=zr.Z%100,e(zr)):x(zr)}}function be(Er,Zr,rn,zr){for(var yr,Fr,Pn=0,An=Zr.length,lr=rn.length;Pn<An;){if(zr>=lr)return-1;if(37===(yr=Zr.charCodeAt(Pn++))){if(yr=Zr.charAt(Pn++),!(Fr=ve[yr in a?Zr.charAt(Pn++):yr])||(zr=Fr(Er,rn,zr))<0)return-1}else if(yr!=rn.charCodeAt(zr++))return-1}return zr}return ie.x=xe(vt,ie),ie.X=xe(yt,ie),ie.c=xe(pt,ie),ne.x=xe(vt,ne),ne.X=xe(yt,ne),ne.c=xe(pt,ne),{format:function(Er){var Zr=xe(Er+="",ie);return Zr.toString=function(){return Er},Zr},parse:function(Er){var Zr=Te(Er+="",!1);return Zr.toString=function(){return Er},Zr},utcFormat:function(Er){var Zr=xe(Er+="",ne);return Zr.toString=function(){return Er},Zr},utcParse:function(Er){var Zr=Te(Er+="",!0);return Zr.toString=function(){return Er},Zr}}}var Zt,Ct,Rt,a={"-":"",_:" ",0:"0"},s=/^\s*\d+/,c=/^%/,u=/[\\^$*+?|[\]().{}]/g;function y(gt,pt,vt){var yt=gt<0?"-":"",Yt=(yt?-gt:gt)+"",Qt=Yt.length;return yt+(Qt<vt?new Array(vt-Qt+1).join(pt)+Yt:Yt)}function v(gt){return gt.replace(u,"\\$&")}function w(gt){return new RegExp("^(?:"+gt.map(v).join("|")+")","i")}function d(gt){for(var pt={},vt=-1,yt=gt.length;++vt<yt;)pt[gt[vt].toLowerCase()]=vt;return pt}function o(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+1));return yt?(gt.w=+yt[0],vt+yt[0].length):-1}function h(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+1));return yt?(gt.u=+yt[0],vt+yt[0].length):-1}function M(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+2));return yt?(gt.U=+yt[0],vt+yt[0].length):-1}function T(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+2));return yt?(gt.V=+yt[0],vt+yt[0].length):-1}function L(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+2));return yt?(gt.W=+yt[0],vt+yt[0].length):-1}function m(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+4));return yt?(gt.y=+yt[0],vt+yt[0].length):-1}function S(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+2));return yt?(gt.y=+yt[0]+(+yt[0]>68?1900:2e3),vt+yt[0].length):-1}function b(gt,pt,vt){var yt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(pt.slice(vt,vt+6));return yt?(gt.Z=yt[1]?0:-(yt[2]+(yt[3]||"00")),vt+yt[0].length):-1}function n(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+1));return yt?(gt.q=3*yt[0]-3,vt+yt[0].length):-1}function C(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+2));return yt?(gt.m=yt[0]-1,vt+yt[0].length):-1}function p(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+2));return yt?(gt.d=+yt[0],vt+yt[0].length):-1}function F(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+3));return yt?(gt.m=0,gt.d=+yt[0],vt+yt[0].length):-1}function D(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+2));return yt?(gt.H=+yt[0],vt+yt[0].length):-1}function N(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+2));return yt?(gt.M=+yt[0],vt+yt[0].length):-1}function k(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+2));return yt?(gt.S=+yt[0],vt+yt[0].length):-1}function O(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+3));return yt?(gt.L=+yt[0],vt+yt[0].length):-1}function B(gt,pt,vt){var yt=s.exec(pt.slice(vt,vt+6));return yt?(gt.L=Math.floor(yt[0]/1e3),vt+yt[0].length):-1}function z(gt,pt,vt){var yt=c.exec(pt.slice(vt,vt+1));return yt?vt+yt[0].length:-1}function U(gt,pt,vt){var yt=s.exec(pt.slice(vt));return yt?(gt.Q=+yt[0],vt+yt[0].length):-1}function G(gt,pt,vt){var yt=s.exec(pt.slice(vt));return yt?(gt.s=+yt[0],vt+yt[0].length):-1}function Q(gt,pt){return y(gt.getDate(),pt,2)}function rt(gt,pt){return y(gt.getHours(),pt,2)}function it(gt,pt){return y(gt.getHours()%12||12,pt,2)}function ut(gt,pt){return y(1+P.Z.count((0,E.Z)(gt),gt),pt,3)}function J(gt,pt){return y(gt.getMilliseconds(),pt,3)}function j(gt,pt){return J(gt,pt)+"000"}function Z(gt,pt){return y(gt.getMonth()+1,pt,2)}function H(gt,pt){return y(gt.getMinutes(),pt,2)}function X(gt,pt){return y(gt.getSeconds(),pt,2)}function at(gt){var pt=gt.getDay();return 0===pt?7:pt}function _(gt,pt){return y(i.OM.count((0,E.Z)(gt)-1,gt),pt,2)}function K(gt,pt){var vt=gt.getDay();return gt=vt>=4||0===vt?(0,i.bL)(gt):i.bL.ceil(gt),y(i.bL.count((0,E.Z)(gt),gt)+(4===(0,E.Z)(gt).getDay()),pt,2)}function nt(gt){return gt.getDay()}function et(gt,pt){return y(i.wA.count((0,E.Z)(gt)-1,gt),pt,2)}function st(gt,pt){return y(gt.getFullYear()%100,pt,2)}function dt(gt,pt){return y(gt.getFullYear()%1e4,pt,4)}function Tt(gt){var pt=gt.getTimezoneOffset();return(pt>0?"-":(pt*=-1,"+"))+y(pt/60|0,"0",2)+y(pt%60,"0",2)}function bt(gt,pt){return y(gt.getUTCDate(),pt,2)}function Dt(gt,pt){return y(gt.getUTCHours(),pt,2)}function Ft(gt,pt){return y(gt.getUTCHours()%12||12,pt,2)}function Mt(gt,pt){return y(1+g.Z.count((0,l.Z)(gt),gt),pt,3)}function wt(gt,pt){return y(gt.getUTCMilliseconds(),pt,3)}function St(gt,pt){return wt(gt,pt)+"000"}function Ut(gt,pt){return y(gt.getUTCMonth()+1,pt,2)}function Gt(gt,pt){return y(gt.getUTCMinutes(),pt,2)}function Pt(gt,pt){return y(gt.getUTCSeconds(),pt,2)}function Vt(gt){var pt=gt.getUTCDay();return 0===pt?7:pt}function te(gt,pt){return y(A.Ox.count((0,l.Z)(gt)-1,gt),pt,2)}function _t(gt,pt){var vt=gt.getUTCDay();return gt=vt>=4||0===vt?(0,A.hB)(gt):A.hB.ceil(gt),y(A.hB.count((0,l.Z)(gt),gt)+(4===(0,l.Z)(gt).getUTCDay()),pt,2)}function kt(gt){return gt.getUTCDay()}function zt(gt,pt){return y(A.l6.count((0,l.Z)(gt)-1,gt),pt,2)}function qt(gt,pt){return y(gt.getUTCFullYear()%100,pt,2)}function ae(gt,pt){return y(gt.getUTCFullYear()%1e4,pt,4)}function oe(){return"+0000"}function pe(){return"%"}function ye(gt){return+gt}function Fe(gt){return Math.floor(+gt/1e3)}!function It(gt){return Zt=f(gt),Ct=Zt.format,Rt=Zt.utcFormat,Zt}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},82301:function(tt,W,t){"use strict";t.d(W,{a:function(){return P}});var A=t(30052),g=t(54263),i=(0,A.Z)(function(E){E.setHours(0,0,0,0)},function(E,l){E.setDate(E.getDate()+l)},function(E,l){return(l-E-(l.getTimezoneOffset()-E.getTimezoneOffset())*g.yB)/g.UD},function(E){return E.getDate()-1});W.Z=i;var P=i.range},54263:function(tt,W,t){"use strict";t.d(W,{UD:function(){return P},Y2:function(){return i},Ym:function(){return A},iM:function(){return E},yB:function(){return g}});var A=1e3,g=6e4,i=36e5,P=864e5,E=6048e5},81041:function(tt,W,t){"use strict";t.r(W),t.d(W,{timeDay:function(){return y.Z},timeDays:function(){return y.a},timeFriday:function(){return v.mC},timeFridays:function(){return v.b$},timeHour:function(){return c},timeHours:function(){return u},timeInterval:function(){return A.Z},timeMillisecond:function(){return i},timeMilliseconds:function(){return P},timeMinute:function(){return f},timeMinutes:function(){return a},timeMonday:function(){return v.wA},timeMondays:function(){return v.bJ},timeMonth:function(){return d},timeMonths:function(){return o},timeSaturday:function(){return v.EY},timeSaturdays:function(){return v.Ff},timeSecond:function(){return x},timeSeconds:function(){return e},timeSunday:function(){return v.OM},timeSundays:function(){return v.vm},timeThursday:function(){return v.bL},timeThursdays:function(){return v.$t},timeTuesday:function(){return v.sy},timeTuesdays:function(){return v.aU},timeWednesday:function(){return v.zg},timeWednesdays:function(){return v.Ld},timeWeek:function(){return v.OM},timeWeeks:function(){return v.vm},timeYear:function(){return h.Z},timeYears:function(){return h.g},utcDay:function(){return n.Z},utcDays:function(){return n.y},utcFriday:function(){return C.QQ},utcFridays:function(){return C.fz},utcHour:function(){return S},utcHours:function(){return b},utcMillisecond:function(){return i},utcMilliseconds:function(){return P},utcMinute:function(){return T},utcMinutes:function(){return L},utcMonday:function(){return C.l6},utcMondays:function(){return C.$3},utcMonth:function(){return F},utcMonths:function(){return D},utcSaturday:function(){return C.g4},utcSaturdays:function(){return C.Q_},utcSecond:function(){return x},utcSeconds:function(){return e},utcSunday:function(){return C.Ox},utcSundays:function(){return C.SU},utcThursday:function(){return C.hB},utcThursdays:function(){return C.xj},utcTuesday:function(){return C.J1},utcTuesdays:function(){return C.DK},utcWednesday:function(){return C.b3},utcWednesdays:function(){return C.uy},utcWeek:function(){return C.Ox},utcWeeks:function(){return C.SU},utcYear:function(){return N.Z},utcYears:function(){return N.D}});var A=t(30052),g=(0,A.Z)(function(){},function(k,O){k.setTime(+k+O)},function(k,O){return O-k});g.every=function(k){return k=Math.floor(k),isFinite(k)&&k>0?k>1?(0,A.Z)(function(O){O.setTime(Math.floor(O/k)*k)},function(O,B){O.setTime(+O+B*k)},function(O,B){return(B-O)/k}):g:null};var i=g,P=g.range,E=t(54263),l=(0,A.Z)(function(k){k.setTime(k-k.getMilliseconds())},function(k,O){k.setTime(+k+O*E.Ym)},function(k,O){return(O-k)/E.Ym},function(k){return k.getUTCSeconds()}),x=l,e=l.range,r=(0,A.Z)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*E.Ym)},function(k,O){k.setTime(+k+O*E.yB)},function(k,O){return(O-k)/E.yB},function(k){return k.getMinutes()}),f=r,a=r.range,s=(0,A.Z)(function(k){k.setTime(k-k.getMilliseconds()-k.getSeconds()*E.Ym-k.getMinutes()*E.yB)},function(k,O){k.setTime(+k+O*E.Y2)},function(k,O){return(O-k)/E.Y2},function(k){return k.getHours()}),c=s,u=s.range,y=t(82301),v=t(59879),w=(0,A.Z)(function(k){k.setDate(1),k.setHours(0,0,0,0)},function(k,O){k.setMonth(k.getMonth()+O)},function(k,O){return O.getMonth()-k.getMonth()+12*(O.getFullYear()-k.getFullYear())},function(k){return k.getMonth()}),d=w,o=w.range,h=t(34823),M=(0,A.Z)(function(k){k.setUTCSeconds(0,0)},function(k,O){k.setTime(+k+O*E.yB)},function(k,O){return(O-k)/E.yB},function(k){return k.getUTCMinutes()}),T=M,L=M.range,m=(0,A.Z)(function(k){k.setUTCMinutes(0,0,0)},function(k,O){k.setTime(+k+O*E.Y2)},function(k,O){return(O-k)/E.Y2},function(k){return k.getUTCHours()}),S=m,b=m.range,n=t(48480),C=t(58176),p=(0,A.Z)(function(k){k.setUTCDate(1),k.setUTCHours(0,0,0,0)},function(k,O){k.setUTCMonth(k.getUTCMonth()+O)},function(k,O){return O.getUTCMonth()-k.getUTCMonth()+12*(O.getUTCFullYear()-k.getUTCFullYear())},function(k){return k.getUTCMonth()}),F=p,D=p.range,N=t(79791)},30052:function(tt,W,t){"use strict";t.d(W,{Z:function(){return i}});var A=new Date,g=new Date;function i(P,E,l,x){function e(r){return P(r=0===arguments.length?new Date:new Date(+r)),r}return e.floor=function(r){return P(r=new Date(+r)),r},e.ceil=function(r){return P(r=new Date(r-1)),E(r,1),P(r),r},e.round=function(r){var f=e(r),a=e.ceil(r);return r-f<a-r?f:a},e.offset=function(r,f){return E(r=new Date(+r),null==f?1:Math.floor(f)),r},e.range=function(r,f,a){var c,s=[];if(r=e.ceil(r),a=null==a?1:Math.floor(a),!(r<f&&a>0))return s;do{s.push(c=new Date(+r)),E(r,a),P(r)}while(c<r&&r<f);return s},e.filter=function(r){return i(function(f){if(f>=f)for(;P(f),!r(f);)f.setTime(f-1)},function(f,a){if(f>=f)if(a<0)for(;++a<=0;)for(;E(f,-1),!r(f););else for(;--a>=0;)for(;E(f,1),!r(f););})},l&&(e.count=function(r,f){return A.setTime(+r),g.setTime(+f),P(A),P(g),Math.floor(l(A,g))},e.every=function(r){return r=Math.floor(r),isFinite(r)&&r>0?r>1?e.filter(x?function(f){return x(f)%r==0}:function(f){return e.count(0,f)%r==0}):e:null}),e}},48480:function(tt,W,t){"use strict";t.d(W,{y:function(){return P}});var A=t(30052),g=t(54263),i=(0,A.Z)(function(E){E.setUTCHours(0,0,0,0)},function(E,l){E.setUTCDate(E.getUTCDate()+l)},function(E,l){return(l-E)/g.UD},function(E){return E.getUTCDate()-1});W.Z=i;var P=i.range},58176:function(tt,W,t){"use strict";t.d(W,{$3:function(){return s},DK:function(){return c},J1:function(){return l},Ox:function(){return P},QQ:function(){return r},Q_:function(){return w},SU:function(){return a},b3:function(){return x},fz:function(){return v},g4:function(){return f},hB:function(){return e},l6:function(){return E},uy:function(){return u},xj:function(){return y}});var A=t(30052),g=t(54263);function i(d){return(0,A.Z)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-d)%7),o.setUTCHours(0,0,0,0)},function(o,h){o.setUTCDate(o.getUTCDate()+7*h)},function(o,h){return(h-o)/g.iM})}var P=i(0),E=i(1),l=i(2),x=i(3),e=i(4),r=i(5),f=i(6),a=P.range,s=E.range,c=l.range,u=x.range,y=e.range,v=r.range,w=f.range},79791:function(tt,W,t){"use strict";t.d(W,{D:function(){return i}});var A=t(30052),g=(0,A.Z)(function(P){P.setUTCMonth(0,1),P.setUTCHours(0,0,0,0)},function(P,E){P.setUTCFullYear(P.getUTCFullYear()+E)},function(P,E){return E.getUTCFullYear()-P.getUTCFullYear()},function(P){return P.getUTCFullYear()});g.every=function(P){return isFinite(P=Math.floor(P))&&P>0?(0,A.Z)(function(E){E.setUTCFullYear(Math.floor(E.getUTCFullYear()/P)*P),E.setUTCMonth(0,1),E.setUTCHours(0,0,0,0)},function(E,l){E.setUTCFullYear(E.getUTCFullYear()+l*P)}):null},W.Z=g;var i=g.range},59879:function(tt,W,t){"use strict";t.d(W,{$t:function(){return y},EY:function(){return f},Ff:function(){return w},Ld:function(){return u},OM:function(){return P},aU:function(){return c},b$:function(){return v},bJ:function(){return s},bL:function(){return e},mC:function(){return r},sy:function(){return l},vm:function(){return a},wA:function(){return E},zg:function(){return x}});var A=t(30052),g=t(54263);function i(d){return(0,A.Z)(function(o){o.setDate(o.getDate()-(o.getDay()+7-d)%7),o.setHours(0,0,0,0)},function(o,h){o.setDate(o.getDate()+7*h)},function(o,h){return(h-o-(h.getTimezoneOffset()-o.getTimezoneOffset())*g.yB)/g.iM})}var P=i(0),E=i(1),l=i(2),x=i(3),e=i(4),r=i(5),f=i(6),a=P.range,s=E.range,c=l.range,u=x.range,y=e.range,v=r.range,w=f.range},34823:function(tt,W,t){"use strict";t.d(W,{g:function(){return i}});var A=t(30052),g=(0,A.Z)(function(P){P.setMonth(0,1),P.setHours(0,0,0,0)},function(P,E){P.setFullYear(P.getFullYear()+E)},function(P,E){return E.getFullYear()-P.getFullYear()},function(P){return P.getFullYear()});g.every=function(P){return isFinite(P=Math.floor(P))&&P>0?(0,A.Z)(function(E){E.setFullYear(Math.floor(E.getFullYear()/P)*P),E.setMonth(0,1),E.setHours(0,0,0,0)},function(E,l){E.setFullYear(E.getFullYear()+l*P)}):null},W.Z=g;var i=g.range},17045:function(tt,W,t){"use strict";var A=t(8709),g="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,P=Array.prototype.concat,E=Object.defineProperty,x=t(55622)(),e=E&&x,r=function(a,s,c,u){if(s in a)if(!0===u){if(a[s]===c)return}else if(!function(a){return"function"==typeof a&&"[object Function]"===i.call(a)}(u)||!u())return;e?E(a,s,{configurable:!0,enumerable:!1,value:c,writable:!0}):a[s]=c},f=function(a,s){var c=arguments.length>2?arguments[2]:{},u=A(s);g&&(u=P.call(u,Object.getOwnPropertySymbols(s)));for(var y=0;y<u.length;y+=1)r(a,u[y],s[u[y]],c[u[y]])};f.supportsDescriptors=!!e,tt.exports=f},46775:function(tt){tt.exports=function(){for(var W=0;W<arguments.length;W++)if(void 0!==arguments[W])return arguments[W]}},53545:function(tt){"use strict";tt.exports=g;var t=(g.canvas=document.createElement("canvas")).getContext("2d"),A=i([32,126]);function g(P,E){Array.isArray(P)&&(P=P.join(", "));var x,l={},e=16,r=.05;E&&(2===E.length&&"number"==typeof E[0]?x=i(E):Array.isArray(E)?x=E:(E.o?x=i(E.o):E.pairs&&(x=E.pairs),E.fontSize&&(e=E.fontSize),null!=E.threshold&&(r=E.threshold))),x||(x=A),t.font=e+"px "+P;for(var f=0;f<x.length;f++){var a=x[f],s=t.measureText(a[0]).width+t.measureText(a[1]).width,c=t.measureText(a).width;Math.abs(s-c)>e*r&&(l[a]=(c-s)/e*1e3)}return l}function i(P){for(var E=[],l=P[0];l<=P[1];l++)for(var x=String.fromCharCode(l),e=P[0];e<P[1];e++){var r=String.fromCharCode(e);E.push(x+r)}return E}g.createPairs=i,g.ascii=A},31457:function(tt,W,t){var A=t(65185),g=t(18625),i={M:"moveTo",C:"bezierCurveTo"};tt.exports=function(P,E){P.beginPath(),g(A(E)).forEach(function(l){var x=l[0],e=l.slice(1);P[i[x]].apply(P,e)}),P.closePath()}},90660:function(tt){tt.exports=function(W){switch(W){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(tt){"use strict";function W(g,i,P){var E=0|g[P];if(E<=0)return[];var x,l=new Array(E);if(P===g.length-1)for(x=0;x<E;++x)l[x]=i;else for(x=0;x<E;++x)l[x]=W(g,i,P+1);return l}tt.exports=function A(g,i){switch(void 0===i&&(i=0),typeof g){case"number":if(g>0)return function t(g,i){var P,E;for(P=new Array(g),E=0;E<g;++E)P[E]=i;return P}(0|g,i);break;case"object":if("number"==typeof g.length)return W(g,i,0)}return[]}},11474:function(tt){"use strict";function W(D,N,k){k=k||2;var G,Q,rt,it,ut,J,j,O=N&&N.length,B=O?N[0]*k:D.length,z=t(D,0,B,k,!0),U=[];if(!z||z.next===z.prev)return U;if(O&&(z=function x(D,N,k,O){var z,U,rt,B=[];for(z=0,U=N.length;z<U;z++)(rt=t(D,N[z]*O,z<U-1?N[z+1]*O:D.length,O,!1))===rt.next&&(rt.steiner=!0),B.push(y(rt));for(B.sort(e),z=0;z<B.length;z++)r(B[z],k),k=A(k,k.next);return k}(D,N,z,k)),D.length>80*k){G=rt=D[0],Q=it=D[1];for(var Z=k;Z<B;Z+=k)(ut=D[Z])<G&&(G=ut),(J=D[Z+1])<Q&&(Q=J),ut>rt&&(rt=ut),J>it&&(it=J);j=0!==(j=Math.max(rt-G,it-Q))?1/j:0}return g(z,U,k,G,Q,j),U}function t(D,N,k,O,B){var z,U;if(B===F(D,N,k,O)>0)for(z=N;z<k;z+=O)U=n(z,D[z],D[z+1],U);else for(z=k-O;z>=N;z-=O)U=n(z,D[z],D[z+1],U);return U&&o(U,U.next)&&(C(U),U=U.next),U}function A(D,N){if(!D)return D;N||(N=D);var O,k=D;do{if(O=!1,k.steiner||!o(k,k.next)&&0!==d(k.prev,k,k.next))k=k.next;else{if(C(k),(k=N=k.prev)===k.next)break;O=!0}}while(O||k!==N);return N}function g(D,N,k,O,B,z,U){if(D){!U&&z&&function s(D,N,k,O){var B=D;do{null===B.z&&(B.z=u(B.x,B.y,N,k,O)),B.prevZ=B.prev,B.nextZ=B.next,B=B.next}while(B!==D);B.prevZ.nextZ=null,B.prevZ=null,function c(D){var N,k,O,B,z,U,G,Q,rt=1;do{for(k=D,D=null,z=null,U=0;k;){for(U++,O=k,G=0,N=0;N<rt&&(G++,O=O.nextZ);N++);for(Q=rt;G>0||Q>0&&O;)0!==G&&(0===Q||!O||k.z<=O.z)?(B=k,k=k.nextZ,G--):(B=O,O=O.nextZ,Q--),z?z.nextZ=B:D=B,B.prevZ=z,z=B;k=O}z.nextZ=null,rt*=2}while(U>1);return D}(B)}(D,O,B,z);for(var Q,rt,G=D;D.prev!==D.next;)if(Q=D.prev,rt=D.next,z?P(D,O,B,z):i(D))N.push(Q.i/k),N.push(D.i/k),N.push(rt.i/k),C(D),D=rt.next,G=rt.next;else if((D=rt)===G){U?1===U?g(D=E(A(D),N,k),N,k,O,B,z,2):2===U&&l(D,N,k,O,B,z):g(A(D),N,k,O,B,z,1);break}}}function i(D){var N=D.prev,k=D,O=D.next;if(d(N,k,O)>=0)return!1;for(var B=D.next.next;B!==D.prev;){if(v(N.x,N.y,k.x,k.y,O.x,O.y,B.x,B.y)&&d(B.prev,B,B.next)>=0)return!1;B=B.next}return!0}function P(D,N,k,O){var B=D.prev,z=D,U=D.next;if(d(B,z,U)>=0)return!1;for(var rt=B.x>z.x?B.x>U.x?B.x:U.x:z.x>U.x?z.x:U.x,it=B.y>z.y?B.y>U.y?B.y:U.y:z.y>U.y?z.y:U.y,ut=u(B.x<z.x?B.x<U.x?B.x:U.x:z.x<U.x?z.x:U.x,B.y<z.y?B.y<U.y?B.y:U.y:z.y<U.y?z.y:U.y,N,k,O),J=u(rt,it,N,k,O),j=D.prevZ,Z=D.nextZ;j&&j.z>=ut&&Z&&Z.z<=J;){if(j!==D.prev&&j!==D.next&&v(B.x,B.y,z.x,z.y,U.x,U.y,j.x,j.y)&&d(j.prev,j,j.next)>=0||(j=j.prevZ,Z!==D.prev&&Z!==D.next&&v(B.x,B.y,z.x,z.y,U.x,U.y,Z.x,Z.y)&&d(Z.prev,Z,Z.next)>=0))return!1;Z=Z.nextZ}for(;j&&j.z>=ut;){if(j!==D.prev&&j!==D.next&&v(B.x,B.y,z.x,z.y,U.x,U.y,j.x,j.y)&&d(j.prev,j,j.next)>=0)return!1;j=j.prevZ}for(;Z&&Z.z<=J;){if(Z!==D.prev&&Z!==D.next&&v(B.x,B.y,z.x,z.y,U.x,U.y,Z.x,Z.y)&&d(Z.prev,Z,Z.next)>=0)return!1;Z=Z.nextZ}return!0}function E(D,N,k){var O=D;do{var B=O.prev,z=O.next.next;!o(B,z)&&h(B,O,O.next,z)&&m(B,z)&&m(z,B)&&(N.push(B.i/k),N.push(O.i/k),N.push(z.i/k),C(O),C(O.next),O=D=z),O=O.next}while(O!==D);return A(O)}function l(D,N,k,O,B,z){var U=D;do{for(var G=U.next.next;G!==U.prev;){if(U.i!==G.i&&w(U,G)){var Q=b(U,G);return U=A(U,U.next),Q=A(Q,Q.next),g(U,N,k,O,B,z),void g(Q,N,k,O,B,z)}G=G.next}U=U.next}while(U!==D)}function e(D,N){return D.x-N.x}function r(D,N){if(N=function f(D,N){var U,k=N,O=D.x,B=D.y,z=-1/0;do{if(B<=k.y&&B>=k.next.y&&k.next.y!==k.y){var G=k.x+(B-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(G<=O&&G>z){if(z=G,G===O){if(B===k.y)return k;if(B===k.next.y)return k.next}U=k.x<k.next.x?k:k.next}}k=k.next}while(k!==N);if(!U)return null;if(O===z)return U;var J,Q=U,rt=U.x,it=U.y,ut=1/0;k=U;do{O>=k.x&&k.x>=rt&&O!==k.x&&v(B<it?O:z,B,rt,it,B<it?z:O,B,k.x,k.y)&&(J=Math.abs(B-k.y)/(O-k.x),m(k,D)&&(J<ut||J===ut&&(k.x>U.x||k.x===U.x&&a(U,k)))&&(U=k,ut=J)),k=k.next}while(k!==Q);return U}(D,N)){var k=b(N,D);A(N,N.next),A(k,k.next)}}function a(D,N){return d(D.prev,D,N.prev)<0&&d(N.next,D,D.next)<0}function u(D,N,k,O,B){return(D=1431655765&((D=858993459&((D=252645135&((D=16711935&((D=32767*(D-k)*B)|D<<8))|D<<4))|D<<2))|D<<1))|(N=1431655765&((N=858993459&((N=252645135&((N=16711935&((N=32767*(N-O)*B)|N<<8))|N<<4))|N<<2))|N<<1))<<1}function y(D){var N=D,k=D;do{(N.x<k.x||N.x===k.x&&N.y<k.y)&&(k=N),N=N.next}while(N!==D);return k}function v(D,N,k,O,B,z,U,G){return(B-U)*(N-G)-(D-U)*(z-G)>=0&&(D-U)*(O-G)-(k-U)*(N-G)>=0&&(k-U)*(z-G)-(B-U)*(O-G)>=0}function w(D,N){return D.next.i!==N.i&&D.prev.i!==N.i&&!function L(D,N){var k=D;do{if(k.i!==D.i&&k.next.i!==D.i&&k.i!==N.i&&k.next.i!==N.i&&h(k,k.next,D,N))return!0;k=k.next}while(k!==D);return!1}(D,N)&&(m(D,N)&&m(N,D)&&function S(D,N){var k=D,O=!1,B=(D.x+N.x)/2,z=(D.y+N.y)/2;do{k.y>z!=k.next.y>z&&k.next.y!==k.y&&B<(k.next.x-k.x)*(z-k.y)/(k.next.y-k.y)+k.x&&(O=!O),k=k.next}while(k!==D);return O}(D,N)&&(d(D.prev,D,N.prev)||d(D,N.prev,N))||o(D,N)&&d(D.prev,D,D.next)>0&&d(N.prev,N,N.next)>0)}function d(D,N,k){return(N.y-D.y)*(k.x-N.x)-(N.x-D.x)*(k.y-N.y)}function o(D,N){return D.x===N.x&&D.y===N.y}function h(D,N,k,O){var B=T(d(D,N,k)),z=T(d(D,N,O)),U=T(d(k,O,D)),G=T(d(k,O,N));return!!(B!==z&&U!==G||0===B&&M(D,k,N)||0===z&&M(D,O,N)||0===U&&M(k,D,O)||0===G&&M(k,N,O))}function M(D,N,k){return N.x<=Math.max(D.x,k.x)&&N.x>=Math.min(D.x,k.x)&&N.y<=Math.max(D.y,k.y)&&N.y>=Math.min(D.y,k.y)}function T(D){return D>0?1:D<0?-1:0}function m(D,N){return d(D.prev,D,D.next)<0?d(D,N,D.next)>=0&&d(D,D.prev,N)>=0:d(D,N,D.prev)<0||d(D,D.next,N)<0}function b(D,N){var k=new p(D.i,D.x,D.y),O=new p(N.i,N.x,N.y),B=D.next,z=N.prev;return D.next=N,N.prev=D,k.next=B,B.prev=k,O.next=k,k.prev=O,z.next=O,O.prev=z,O}function n(D,N,k,O){var B=new p(D,N,k);return O?(B.next=O.next,B.prev=O,O.next.prev=B,O.next=B):(B.prev=B,B.next=B),B}function C(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function p(D,N,k){this.i=D,this.x=N,this.y=k,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function F(D,N,k,O){for(var B=0,z=N,U=k-O;z<k;z+=O)B+=(D[U]-D[z])*(D[z+1]+D[U+1]),U=z;return B}tt.exports=W,tt.exports.default=W,W.deviation=function(D,N,k,O){var B=N&&N.length,U=Math.abs(F(D,0,B?N[0]*k:D.length,k));if(B)for(var G=0,Q=N.length;G<Q;G++)U-=Math.abs(F(D,N[G]*k,G<Q-1?N[G+1]*k:D.length,k));var ut=0;for(G=0;G<O.length;G+=3){var J=O[G]*k,j=O[G+1]*k,Z=O[G+2]*k;ut+=Math.abs((D[J]-D[Z])*(D[j+1]-D[J+1])-(D[J]-D[j])*(D[Z+1]-D[J+1]))}return 0===U&&0===ut?0:Math.abs((ut-U)/U)},W.flatten=function(D){for(var N=D[0][0].length,k={vertices:[],holes:[],dimensions:N},O=0,B=0;B<D.length;B++){for(var z=0;z<D[B].length;z++)for(var U=0;U<N;U++)k.vertices.push(D[B][z][U]);B>0&&k.holes.push(O+=D[B-1].length)}return k}},2502:function(tt,W,t){var A=t(68664);tt.exports=function(i,P){var f,E=[],l=[],x=[],e={},r=[];function a(M){x[M]=!1,e.hasOwnProperty(M)&&Object.keys(e[M]).forEach(function(T){delete e[M][T],x[T]&&a(T)})}function s(M){var L,m,T=!1;for(l.push(M),x[M]=!0,L=0;L<r[M].length;L++)(m=r[M][L])===f?(c(f,l),T=!0):x[m]||(T=s(m));if(T)a(M);else for(L=0;L<r[M].length;L++){var S=e[m=r[M][L]];S||(e[m]=S={}),S[m]=!0}return l.pop(),T}function c(M,T){var L=[].concat(T).concat(M);P?P(s):E.push(L)}function y(M){!function u(M){for(var T=0;T<i.length;T++)T<M&&(i[T]=[]),i[T]=i[T].filter(function(L){return L>=M})}(M);for(var b,m=A(i).components.filter(function(D){return D.length>1}),S=1/0,n=0;n<m.length;n++)for(var C=0;C<m[n].length;C++)m[n][C]<S&&(S=m[n][C],b=n);var p=m[b];return!!p&&{leastVertex:S,adjList:i.map(function(D,N){return-1===p.indexOf(N)?[]:D.filter(function(k){return-1!==p.indexOf(k)})})}}f=0;for(var v=i.length;f<v;){var w=y(f);if(f=w.leastVertex,r=w.adjList){for(var d=0;d<r.length;d++)for(var o=0;o<r[d].length;o++){var h=r[d][o];x[+h]=!1,e[h]={}}s(f),f+=1}else f=v}if(!P)return E}},16134:function(tt,W,t){"use strict";var A=t(36672);tt.exports=function(){return A(this).length=0,this}},4892:function(tt,W,t){"use strict";tt.exports=t(64404)()?Array.from:t(49441)},64404:function(tt){"use strict";tt.exports=function(){var t,A,W=Array.from;return"function"==typeof W&&(A=W(t=["raz","dwa"]),Boolean(A&&A!==t&&"dwa"===A[1]))}},49441:function(tt,W,t){"use strict";var A=t(8260).iterator,g=t(73051),i=t(33717),P=t(35976),E=t(78513),l=t(36672),x=t(95296),e=t(87963),r=Array.isArray,f=Function.prototype.call,a={configurable:!0,enumerable:!0,writable:!0,value:null},s=Object.defineProperty;tt.exports=function(c){var v,w,d,o,h,M,T,L,m,S,u=arguments[1],y=arguments[2];if(c=Object(l(c)),x(u)&&E(u),this&&this!==Array&&i(this))v=this;else{if(!u){if(g(c))return 1!==(h=c.length)?Array.apply(null,c):((o=new Array(1))[0]=c[0],o);if(r(c)){for(o=new Array(h=c.length),w=0;w<h;++w)o[w]=c[w];return o}}o=[]}if(!r(c))if(void 0!==(m=c[A])){for(T=E(m).call(c),v&&(o=new v),L=T.next(),w=0;!L.done;)S=u?f.call(u,y,L.value,w):L.value,v?(a.value=S,s(o,w,a)):o[w]=S,L=T.next(),++w;h=w}else if(e(c)){for(h=c.length,v&&(o=new v),w=0,d=0;w<h;++w)S=c[w],w+1<h&&(M=S.charCodeAt(0))>=55296&&M<=56319&&(S+=c[++w]),S=u?f.call(u,y,S,d):S,v?(a.value=S,s(o,d,a)):o[d]=S,++d;h=d}if(void 0===h)for(h=P(c.length),v&&(o=new v(h)),w=0;w<h;++w)S=u?f.call(u,y,c[w],w):c[w],v?(a.value=S,s(o,w,a)):o[w]=S;return v&&(a.value=null,o.length=h),o}},73051:function(tt){"use strict";var W=Object.prototype.toString,t=W.call(function(){return arguments}());tt.exports=function(A){return W.call(A)===t}},33717:function(tt){"use strict";var W=Object.prototype.toString,t=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);tt.exports=function(A){return"function"==typeof A&&t(W.call(A))}},52345:function(tt){"use strict";tt.exports=function(){}},9953:function(tt,W,t){"use strict";tt.exports=t(90436)()?Math.sign:t(6069)},90436:function(tt){"use strict";tt.exports=function(){var W=Math.sign;return"function"==typeof W&&1===W(10)&&-1===W(-20)}},6069:function(tt){"use strict";tt.exports=function(W){return W=Number(W),isNaN(W)||0===W?W:W>0?1:-1}},56247:function(tt,W,t){"use strict";var A=t(9953),g=Math.abs,i=Math.floor;tt.exports=function(P){return isNaN(P)?0:0!==(P=Number(P))&&isFinite(P)?A(P)*i(g(P)):P}},35976:function(tt,W,t){"use strict";var A=t(56247),g=Math.max;tt.exports=function(i){return g(0,A(i))}},67260:function(tt,W,t){"use strict";var A=t(78513),g=t(36672),i=Function.prototype.bind,P=Function.prototype.call,E=Object.keys,l=Object.prototype.propertyIsEnumerable;tt.exports=function(x,e){return function(r,f){var a,s=arguments[2],c=arguments[3];return r=Object(g(r)),A(f),a=E(r),c&&a.sort("function"==typeof c?i.call(c,r):void 0),"function"!=typeof x&&(x=a[x]),P.call(x,a,function(u,y){return l.call(r,u)?P.call(f,s,r[u],u,r,y):e})}}},95879:function(tt,W,t){"use strict";tt.exports=t(73583)()?Object.assign:t(34205)},73583:function(tt){"use strict";tt.exports=function(){var t,W=Object.assign;return"function"==typeof W&&(W(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},34205:function(tt,W,t){"use strict";var A=t(68700),g=t(36672),i=Math.max;tt.exports=function(P,E){var l,x,r,e=i(arguments.length,2);for(P=Object(g(P)),r=function(f){try{P[f]=E[f]}catch(a){l||(l=a)}},x=1;x<e;++x)A(E=arguments[x]).forEach(r);if(void 0!==l)throw l;return P}},19012:function(tt,W,t){"use strict";var A=t(4892),g=t(95879),i=t(36672);tt.exports=function(P){var E=Object(i(P)),l=arguments[1],x=Object(arguments[2]);if(E!==P&&!l)return E;var e={};return l?A(l,function(r){(x.ensure||r in P)&&(e[r]=P[r])}):g(e,P),e}},52818:function(tt,W,t){"use strict";var g,i,P,E,A=Object.create;t(33247)()||(g=t(51882)),tt.exports=g&&1===g.level?(i={},P={},E={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(l){P[l]="__proto__"!==l?E:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(i,P),Object.defineProperty(g,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(l,x){return A(null===l?i:l,x)}):A},96437:function(tt,W,t){"use strict";tt.exports=t(67260)("forEach")},99611:function(tt,W,t){"use strict";var A=t(95296),g={function:!0,object:!0};tt.exports=function(i){return A(i)&&g[typeof i]||!1}},95296:function(tt,W,t){"use strict";var A=t(52345)();tt.exports=function(g){return g!==A&&null!==g}},68700:function(tt,W,t){"use strict";tt.exports=t(13895)()?Object.keys:t(25217)},13895:function(tt){"use strict";tt.exports=function(){try{return Object.keys("primitive"),!0}catch(W){return!1}}},25217:function(tt,W,t){"use strict";var A=t(95296),g=Object.keys;tt.exports=function(i){return g(A(i)?Object(i):i)}},16906:function(tt,W,t){"use strict";var A=t(78513),g=t(96437),i=Function.prototype.call;tt.exports=function(P,E){var l={},x=arguments[2];return A(E),g(P,function(e,r,f,a){l[r]=i.call(E,x,e,r,f,a)}),l}},21780:function(tt,W,t){"use strict";var A=t(95296),g=Array.prototype.forEach,i=Object.create,P=function(E,l){var x;for(x in E)l[x]=E[x]};tt.exports=function(E){var l=i(null);return g.call(arguments,function(x){!A(x)||P(Object(x),l)}),l}},1496:function(tt,W,t){"use strict";tt.exports=t(33247)()?Object.setPrototypeOf:t(51882)},33247:function(tt){"use strict";var W=Object.create,t=Object.getPrototypeOf,A={};tt.exports=function(){var g=Object.setPrototypeOf;return"function"==typeof g&&t(g((arguments[0]||W)(null),A))===A}},51882:function(tt,W,t){"use strict";var l,x,e,r,A=t(99611),g=t(36672),i=Object.prototype.isPrototypeOf,P=Object.defineProperty,E={configurable:!0,enumerable:!1,writable:!0,value:void 0};l=function(x,e){if(g(x),null===e||A(e))return x;throw new TypeError("Prototype must be null or an object")},tt.exports=(x=function(){var r,x=Object.create(null),e={},f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(f){try{(r=f.set).call(x,e)}catch(a){}if(Object.getPrototypeOf(x)===e)return{set:r,level:2}}return x.__proto__=e,Object.getPrototypeOf(x)===e?{level:2}:((x={}).__proto__=e,Object.getPrototypeOf(x)===e&&{level:1})}(),x?(2===x.level?x.set?(r=x.set,e=function(f,a){return r.call(l(f,a),a),f}):e=function(f,a){return l(f,a).__proto__=a,f}:e=function f(a,s){var c;return l(a,s),(c=i.call(f.nullPolyfill,a))&&delete f.nullPolyfill.__proto__,null===s&&(s=f.nullPolyfill),a.__proto__=s,c&&P(f.nullPolyfill,"__proto__",E),a},Object.defineProperty(e,"level",{configurable:!1,enumerable:!1,writable:!1,value:x.level})):null),t(52818)},78513:function(tt){"use strict";tt.exports=function(W){if("function"!=typeof W)throw new TypeError(W+" is not a function");return W}},98976:function(tt,W,t){"use strict";var A=t(99611);tt.exports=function(g){if(!A(g))throw new TypeError(g+" is not an Object");return g}},36672:function(tt,W,t){"use strict";var A=t(95296);tt.exports=function(g){if(!A(g))throw new TypeError("Cannot use null or undefined");return g}},66741:function(tt,W,t){"use strict";tt.exports=t(17557)()?String.prototype.contains:t(60381)},17557:function(tt){"use strict";var W="razdwatrzy";tt.exports=function(){return"function"==typeof W.contains&&!0===W.contains("dwa")&&!1===W.contains("foo")}},60381:function(tt){"use strict";var W=String.prototype.indexOf;tt.exports=function(t){return W.call(this,t,arguments[1])>-1}},87963:function(tt){"use strict";var W=Object.prototype.toString,t=W.call("");tt.exports=function(A){return"string"==typeof A||A&&"object"==typeof A&&(A instanceof String||W.call(A)===t)||!1}},43043:function(tt){"use strict";var W=Object.create(null),t=Math.random;tt.exports=function(){var A;do{A=t().toString(36).slice(2)}while(W[A]);return A}},32411:function(tt,W,t){"use strict";var x,A=t(1496),g=t(66741),i=t(62072),P=t(8260),E=t(95426),l=Object.defineProperty;x=tt.exports=function(e,r){if(!(this instanceof x))throw new TypeError("Constructor requires 'new'");E.call(this,e),r=r?g.call(r,"key+value")?"key+value":g.call(r,"key")?"key":"value":"value",l(this,"__kind__",i("",r))},A&&A(x,E),delete x.prototype.constructor,x.prototype=Object.create(E.prototype,{_resolve:i(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),l(x.prototype,P.toStringTag,i("c","Array Iterator"))},27515:function(tt,W,t){"use strict";var A=t(73051),g=t(78513),i=t(87963),P=t(66661),E=Array.isArray,l=Function.prototype.call,x=Array.prototype.some;tt.exports=function(e,r){var f,s,c,u,y,v,w,d,a=arguments[2];if(E(e)||A(e)?f="array":i(e)?f="string":e=P(e),g(r),c=function(){u=!0},"array"!==f)if("string"!==f)for(s=e.next();!s.done;){if(l.call(r,a,s.value,c),u)return;s=e.next()}else for(v=e.length,y=0;y<v&&(w=e[y],y+1<v&&(d=w.charCodeAt(0))>=55296&&d<=56319&&(w+=e[++y]),l.call(r,a,w,c),!u);++y);else x.call(e,function(o){return l.call(r,a,o,c),u})}},66661:function(tt,W,t){"use strict";var A=t(73051),g=t(87963),i=t(32411),P=t(259),E=t(58095),l=t(8260).iterator;tt.exports=function(x){return"function"==typeof E(x)[l]?x[l]():A(x)?new i(x):g(x)?new P(x):new i(x)}},95426:function(tt,W,t){"use strict";var f,A=t(16134),g=t(95879),i=t(78513),P=t(36672),E=t(62072),l=t(55174),x=t(8260),e=Object.defineProperty,r=Object.defineProperties;tt.exports=f=function(a,s){if(!(this instanceof f))throw new TypeError("Constructor requires 'new'");r(this,{__list__:E("w",P(a)),__context__:E("w",s),__nextIndex__:E("w",0)}),s&&(i(s.on),s.on("_add",this._onAdd),s.on("_delete",this._onDelete),s.on("_clear",this._onClear))},delete f.prototype.constructor,r(f.prototype,g({_next:E(function(){var a;if(this.__list__){if(this.__redo__&&void 0!==(a=this.__redo__.shift()))return a;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:E(function(){return this._createResult(this._next())}),_createResult:E(function(a){return void 0===a?{done:!0,value:void 0}:{done:!1,value:this._resolve(a)}}),_resolve:E(function(a){return this.__list__[a]}),_unBind:E(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:E(function(){return"[object "+(this[x.toStringTag]||"Object")+"]"})},l({_onAdd:E(function(a){if(!(a>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void e(this,"__redo__",E("c",[a]));this.__redo__.forEach(function(s,c){s>=a&&(this.__redo__[c]=++s)},this),this.__redo__.push(a)}}),_onDelete:E(function(a){var s;a>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(s=this.__redo__.indexOf(a))&&this.__redo__.splice(s,1),this.__redo__.forEach(function(c,u){c>a&&(this.__redo__[u]=--c)},this)))}),_onClear:E(function(){this.__redo__&&A.call(this.__redo__),this.__nextIndex__=0})}))),e(f.prototype,x.iterator,E(function(){return this}))},35940:function(tt,W,t){"use strict";var A=t(73051),g=t(95296),i=t(87963),P=t(8260).iterator,E=Array.isArray;tt.exports=function(l){return!(!g(l)||!(E(l)||i(l)||A(l))&&"function"!=typeof l[P])}},259:function(tt,W,t){"use strict";var l,A=t(1496),g=t(62072),i=t(8260),P=t(95426),E=Object.defineProperty;l=tt.exports=function(x){if(!(this instanceof l))throw new TypeError("Constructor requires 'new'");x=String(x),P.call(this,x),E(this,"__length__",g("",x.length))},A&&A(l,P),delete l.prototype.constructor,l.prototype=Object.create(P.prototype,{_next:g(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:g(function(x){var r,e=this.__list__[x];return this.__nextIndex__===this.__length__?e:(r=e.charCodeAt(0))>=55296&&r<=56319?e+this.__list__[this.__nextIndex__++]:e})}),E(l.prototype,i.toStringTag,g("c","String Iterator"))},58095:function(tt,W,t){"use strict";var A=t(35940);tt.exports=function(g){if(!A(g))throw new TypeError(g+" is not iterable");return g}},73523:function(tt){"use strict";function W(A,g){if(null==A)throw new TypeError("Cannot convert first argument to object");for(var i=Object(A),P=1;P<arguments.length;P++){var E=arguments[P];if(null!=E)for(var l=Object.keys(Object(E)),x=0,e=l.length;x<e;x++){var r=l[x],f=Object.getOwnPropertyDescriptor(E,r);void 0!==f&&f.enumerable&&(i[r]=E[r])}}return i}tt.exports={assign:W,polyfill:function t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:W})}}},8260:function(tt,W,t){"use strict";tt.exports=t(69711)()?t(94908).Symbol:t(18415)},69711:function(tt,W,t){"use strict";var A=t(94908),g={object:!0,symbol:!0};tt.exports=function(){var P,i=A.Symbol;if("function"!=typeof i)return!1;P=i("test symbol");try{String(P)}catch(E){return!1}return!(!g[typeof i.iterator]||!g[typeof i.toPrimitive]||!g[typeof i.toStringTag])}},82276:function(tt){"use strict";tt.exports=function(W){return!(!W||"symbol"!=typeof W&&(!W.constructor||"Symbol"!==W.constructor.name||"Symbol"!==W[W.constructor.toStringTag]))}},29366:function(tt,W,t){"use strict";var A=t(62072),i=Object.defineProperty,P=Object.prototype,E=(0,Object.create)(null);tt.exports=function(l){for(var e,r,x=0;E[l+(x||"")];)++x;return E[l+=x||""]=!0,i(P,e="@@"+l,A.gs(null,function(f){r||(r=!0,i(this,e,A(f)),r=!1)})),e}},92842:function(tt,W,t){"use strict";var A=t(62072),g=t(94908).Symbol;tt.exports=function(i){return Object.defineProperties(i,{hasInstance:A("",g&&g.hasInstance||i("hasInstance")),isConcatSpreadable:A("",g&&g.isConcatSpreadable||i("isConcatSpreadable")),iterator:A("",g&&g.iterator||i("iterator")),match:A("",g&&g.match||i("match")),replace:A("",g&&g.replace||i("replace")),search:A("",g&&g.search||i("search")),species:A("",g&&g.species||i("species")),split:A("",g&&g.split||i("split")),toPrimitive:A("",g&&g.toPrimitive||i("toPrimitive")),toStringTag:A("",g&&g.toStringTag||i("toStringTag")),unscopables:A("",g&&g.unscopables||i("unscopables"))})}},13304:function(tt,W,t){"use strict";var A=t(62072),g=t(53308),i=Object.create(null);tt.exports=function(P){return Object.defineProperties(P,{for:A(function(E){return i[E]?i[E]:i[E]=P(String(E))}),keyFor:A(function(E){var l;for(l in g(E),i)if(i[l]===E)return l})})}},18415:function(tt,W,t){"use strict";var f,a,s,A=t(62072),g=t(53308),i=t(94908).Symbol,P=t(29366),E=t(92842),l=t(13304),x=Object.create,e=Object.defineProperties,r=Object.defineProperty;if("function"==typeof i)try{String(i()),s=!0}catch(c){}else i=null;a=function(u){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return f(u)},tt.exports=f=function c(u){var y;if(this instanceof c)throw new TypeError("Symbol is not a constructor");return s?i(u):(y=x(a.prototype),u=void 0===u?"":String(u),e(y,{__description__:A("",u),__name__:A("",P(u))}))},E(f),l(f),e(a.prototype,{constructor:A(f),toString:A("",function(){return this.__name__})}),e(f.prototype,{toString:A(function(){return"Symbol ("+g(this).__description__+")"}),valueOf:A(function(){return g(this)})}),r(f.prototype,f.toPrimitive,A("",function(){var c=g(this);return"symbol"==typeof c?c:c.toString()})),r(f.prototype,f.toStringTag,A("c","Symbol")),r(a.prototype,f.toStringTag,A("c",f.prototype[f.toStringTag])),r(a.prototype,f.toPrimitive,A("c",f.prototype[f.toPrimitive]))},53308:function(tt,W,t){"use strict";var A=t(82276);tt.exports=function(g){if(!A(g))throw new TypeError(g+" is not a symbol");return g}},83522:function(tt,W,t){"use strict";tt.exports=t(96402)()?WeakMap:t(329)},96402:function(tt){"use strict";tt.exports=function(){var W,t;if("function"!=typeof WeakMap)return!1;try{W=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch(A){return!1}return!("[object WeakMap]"!==String(W)||"function"!=typeof W.set||W.set({},1)!==W||"function"!=typeof W.delete||"function"!=typeof W.has||"one"!==W.get(t))}},96416:function(tt){"use strict";tt.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},329:function(tt,W,t){"use strict";var y,A=t(95296),g=t(1496),i=t(98976),P=t(36672),E=t(43043),l=t(62072),x=t(66661),e=t(27515),r=t(8260).toStringTag,f=t(96416),a=Array.isArray,s=Object.defineProperty,c=Object.prototype.hasOwnProperty,u=Object.getPrototypeOf;tt.exports=y=function(){var w,v=arguments[0];if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");return w=f&&g&&WeakMap!==y?g(new WeakMap,u(this)):this,A(v)&&(a(v)||(v=x(v))),s(w,"__weakMapData__",l("c","$weakMap$"+E())),v&&e(v,function(d){P(d),w.set(d[0],d[1])}),w},f&&(g&&g(y,WeakMap),y.prototype=Object.create(WeakMap.prototype,{constructor:l(y)})),Object.defineProperties(y.prototype,{delete:l(function(v){return!!c.call(i(v),this.__weakMapData__)&&(delete v[this.__weakMapData__],!0)}),get:l(function(v){if(c.call(i(v),this.__weakMapData__))return v[this.__weakMapData__]}),has:l(function(v){return c.call(i(v),this.__weakMapData__)}),set:l(function(v,w){return s(i(v),this.__weakMapData__,l("c",w)),this}),toString:l(function(){return"[object WeakMap]"})}),s(y.prototype,r,l("c","WeakMap"))},15398:function(tt){"use strict";var A,W="object"==typeof Reflect?Reflect:null,t=W&&"function"==typeof W.apply?W.apply:function(h,M,T){return Function.prototype.apply.call(h,M,T)};A=W&&"function"==typeof W.ownKeys?W.ownKeys:Object.getOwnPropertySymbols?function(h){return Object.getOwnPropertyNames(h).concat(Object.getOwnPropertySymbols(h))}:function(h){return Object.getOwnPropertyNames(h)};var i=Number.isNaN||function(h){return h!=h};function P(){P.init.call(this)}tt.exports=P,tt.exports.once=function v(o,h){return new Promise(function(M,T){function L(S){o.removeListener(h,m),T(S)}function m(){"function"==typeof o.removeListener&&o.removeListener("error",L),M([].slice.call(arguments))}d(o,h,m,{once:!0}),"error"!==h&&function w(o,h,M){"function"==typeof o.on&&d(o,"error",h,M)}(o,L,{once:!0})})},P.EventEmitter=P,P.prototype._events=void 0,P.prototype._eventsCount=0,P.prototype._maxListeners=void 0;var E=10;function l(o){if("function"!=typeof o)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}function x(o){return void 0===o._maxListeners?P.defaultMaxListeners:o._maxListeners}function e(o,h,M,T){var L,m,S;if(l(M),void 0===(m=o._events)?(m=o._events=Object.create(null),o._eventsCount=0):(void 0!==m.newListener&&(o.emit("newListener",h,M.listener?M.listener:M),m=o._events),S=m[h]),void 0===S)S=m[h]=M,++o._eventsCount;else if("function"==typeof S?S=m[h]=T?[M,S]:[S,M]:T?S.unshift(M):S.push(M),(L=x(o))>0&&S.length>L&&!S.warned){S.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(h)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=o,b.type=h,b.count=S.length,function g(o){console&&console.warn&&console.warn(o)}(b)}return o}function r(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(o,h,M){var T={fired:!1,wrapFn:void 0,target:o,type:h,listener:M},L=r.bind(T);return L.listener=M,T.wrapFn=L,L}function a(o,h,M){var T=o._events;if(void 0===T)return[];var L=T[h];return void 0===L?[]:"function"==typeof L?M?[L.listener||L]:[L]:M?function y(o){for(var h=new Array(o.length),M=0;M<h.length;++M)h[M]=o[M].listener||o[M];return h}(L):c(L,L.length)}function s(o){var h=this._events;if(void 0!==h){var M=h[o];if("function"==typeof M)return 1;if(void 0!==M)return M.length}return 0}function c(o,h){for(var M=new Array(h),T=0;T<h;++T)M[T]=o[T];return M}function d(o,h,M,T){if("function"==typeof o.on)T.once?o.once(h,M):o.on(h,M);else{if("function"!=typeof o.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o);o.addEventListener(h,function L(m){T.once&&o.removeEventListener(h,L),M(m)})}}Object.defineProperty(P,"defaultMaxListeners",{enumerable:!0,get:function(){return E},set:function(o){if("number"!=typeof o||o<0||i(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");E=o}}),P.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},P.prototype.setMaxListeners=function(h){if("number"!=typeof h||h<0||i(h))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+h+".");return this._maxListeners=h,this},P.prototype.getMaxListeners=function(){return x(this)},P.prototype.emit=function(h){for(var M=[],T=1;T<arguments.length;T++)M.push(arguments[T]);var L="error"===h,m=this._events;if(void 0!==m)L=L&&void 0===m.error;else if(!L)return!1;if(L){var S;if(M.length>0&&(S=M[0]),S instanceof Error)throw S;var b=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw b.context=S,b}var n=m[h];if(void 0===n)return!1;if("function"==typeof n)t(n,this,M);else{var C=n.length,p=c(n,C);for(T=0;T<C;++T)t(p[T],this,M)}return!0},P.prototype.on=P.prototype.addListener=function(h,M){return e(this,h,M,!1)},P.prototype.prependListener=function(h,M){return e(this,h,M,!0)},P.prototype.once=function(h,M){return l(M),this.on(h,f(this,h,M)),this},P.prototype.prependOnceListener=function(h,M){return l(M),this.prependListener(h,f(this,h,M)),this},P.prototype.off=P.prototype.removeListener=function(h,M){var T,L,m,S,b;if(l(M),void 0===(L=this._events))return this;if(void 0===(T=L[h]))return this;if(T===M||T.listener===M)0==--this._eventsCount?this._events=Object.create(null):(delete L[h],L.removeListener&&this.emit("removeListener",h,T.listener||M));else if("function"!=typeof T){for(m=-1,S=T.length-1;S>=0;S--)if(T[S]===M||T[S].listener===M){b=T[S].listener,m=S;break}if(m<0)return this;0===m?T.shift():function u(o,h){for(;h+1<o.length;h++)o[h]=o[h+1];o.pop()}(T,m),1===T.length&&(L[h]=T[0]),void 0!==L.removeListener&&this.emit("removeListener",h,b||M)}return this},P.prototype.removeAllListeners=function(h){var M,T,L;if(void 0===(T=this._events))return this;if(void 0===T.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==T[h]&&(0==--this._eventsCount?this._events=Object.create(null):delete T[h]),this;if(0===arguments.length){var S,m=Object.keys(T);for(L=0;L<m.length;++L)"removeListener"!==(S=m[L])&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(M=T[h]))this.removeListener(h,M);else if(void 0!==M)for(L=M.length-1;L>=0;L--)this.removeListener(h,M[L]);return this},P.prototype.listeners=function(h){return a(this,h,!0)},P.prototype.rawListeners=function(h){return a(this,h,!1)},P.listenerCount=function(o,h){return"function"==typeof o.listenerCount?o.listenerCount(h):s.call(o,h)},P.prototype.listenerCount=s,P.prototype.eventNames=function(){return this._eventsCount>0?A(this._events):[]}},60774:function(tt){var W=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};tt.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return W()}try{return __global__||W()}finally{delete Object.prototype.__global__}}()},94908:function(tt,W,t){"use strict";tt.exports=t(51152)()?globalThis:t(60774)},51152:function(tt){"use strict";tt.exports=function(){return!("object"!=typeof globalThis||!globalThis)&&globalThis.Array===Array}},92770:function(tt,W,t){"use strict";var A=t(18546);tt.exports=function(g){var i=typeof g;if("string"===i){var P=g;if(0==(g=+g)&&A(P))return!1}else if("number"!==i)return!1;return g-g<1}},30120:function(tt,W,t){var A=t(90660);tt.exports=function g(i,P,E){if(!i)throw new TypeError("must specify data as first parameter");if(E=0|+(E||0),Array.isArray(i)&&i[0]&&"number"==typeof i[0][0]){var e,r,f,a,l=i[0].length,x=i.length*l;(!P||"string"==typeof P)&&(P=new(A(P||"float32"))(x+E));var s=P.length-E;if(x!==s)throw new Error("source length "+x+" ("+l+"x"+i.length+") does not match destination length "+s);for(e=0,f=E;e<i.length;e++)for(r=0;r<l;r++)P[f++]=null===i[e][r]?NaN:i[e][r]}else if(P&&"string"!=typeof P)P.set(i,E);else{var c=A(P||"float32");if(Array.isArray(i)||"array"===P)for(e=0,f=E,a=(P=new c(i.length+E)).length;f<a;f++,e++)P[f]=null===i[e]?NaN:i[e];else 0===E?P=new c(i):(P=new c(i.length+E)).set(i,E)}return P}},68016:function(tt,W,t){"use strict";var A=t(53313),g=[32,126];tt.exports=function i(P){var E=(P=P||{}).shape?P.shape:P.canvas?[P.canvas.width,P.canvas.height]:[512,512],l=P.canvas||document.createElement("canvas"),x=P.font,e="number"==typeof P.step?[P.step,P.step]:P.step||[32,32],r=P.chars||g;if(x&&"string"!=typeof x&&(x=A(x)),Array.isArray(r)){if(2===r.length&&"number"==typeof r[0]&&"number"==typeof r[1]){for(var f=[],a=r[0],s=0;a<=r[1];a++)f[s++]=String.fromCharCode(a);r=f}}else r=String(r).split("");E=E.slice(),l.width=E[0],l.height=E[1];var c=l.getContext("2d");c.fillStyle="#000",c.fillRect(0,0,l.width,l.height),c.font=x,c.textAlign="center",c.textBaseline="middle",c.fillStyle="#fff";var u=e[0]/2,y=e[1]/2;for(a=0;a<r.length;a++)c.fillText(r[a],u,y),(u+=e[0])>E[0]-e[0]/2&&(u=e[0]/2,y+=e[1]);return l}},32879:function(tt){"use strict";function W(r,P){P||(P={}),("string"==typeof r||Array.isArray(r))&&(P.family=r);var E=Array.isArray(P.family)?P.family.join(", "):P.family;if(!E)throw Error("`family` must be defined");var l=P.size||P.fontSize||P.em||48,f=(r=[P.style||P.fontStyle||"",P.weight||P.fontWeight||"",l].join(" ")+"px "+E,P.origin||"top");if(W.cache[E]&&l<=W.cache[E].em)return t(W.cache[E],f);var a=P.canvas||W.canvas,s=a.getContext("2d"),c={upper:void 0!==P.upper?P.upper:"H",lower:void 0!==P.lower?P.lower:"x",descent:void 0!==P.descent?P.descent:"p",ascent:void 0!==P.ascent?P.ascent:"h",tittle:void 0!==P.tittle?P.tittle:"i",overshoot:void 0!==P.overshoot?P.overshoot:"O"},u=Math.ceil(1.5*l);a.height=u,a.width=.5*u,s.font=r;var y="H",v={top:0};s.clearRect(0,0,u,u),s.textBaseline="top",s.fillStyle="black",s.fillText(y,0,0);var w=A(s.getImageData(0,0,u,u));s.clearRect(0,0,u,u),s.textBaseline="bottom",s.fillText(y,0,u);var d=A(s.getImageData(0,0,u,u));v.lineHeight=v.bottom=u-d+w,s.clearRect(0,0,u,u),s.textBaseline="alphabetic",s.fillText(y,0,u);var h=u-A(s.getImageData(0,0,u,u))-1+w;v.baseline=v.alphabetic=h,s.clearRect(0,0,u,u),s.textBaseline="middle",s.fillText(y,0,.5*u);var M=A(s.getImageData(0,0,u,u));v.median=v.middle=u-M-1+w-.5*u,s.clearRect(0,0,u,u),s.textBaseline="hanging",s.fillText(y,0,.5*u);var T=A(s.getImageData(0,0,u,u));v.hanging=u-T-1+w-.5*u,s.clearRect(0,0,u,u),s.textBaseline="ideographic",s.fillText(y,0,u);var L=A(s.getImageData(0,0,u,u));if(v.ideographic=u-L-1+w,c.upper&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.upper,0,0),v.upper=A(s.getImageData(0,0,u,u)),v.capHeight=v.baseline-v.upper),c.lower&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.lower,0,0),v.lower=A(s.getImageData(0,0,u,u)),v.xHeight=v.baseline-v.lower),c.tittle&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.tittle,0,0),v.tittle=A(s.getImageData(0,0,u,u))),c.ascent&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.ascent,0,0),v.ascent=A(s.getImageData(0,0,u,u))),c.descent&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.descent,0,0),v.descent=g(s.getImageData(0,0,u,u))),c.overshoot){s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.overshoot,0,0);var m=g(s.getImageData(0,0,u,u));v.overshoot=m-h}for(var S in v)v[S]/=l;return v.em=l,W.cache[E]=v,t(v,f)}function t(i,P){var E={};for(var l in"string"==typeof P&&(P=i[P]),i)"em"!==l&&(E[l]=i[l]-P);return E}function A(i){for(var P=i.height,E=i.data,l=3;l<E.length;l+=4)if(0!==E[l])return Math.floor(.25*(l-3)/P)}function g(i){for(var P=i.height,E=i.data,l=E.length-1;l>0;l-=4)if(0!==E[l])return Math.floor(.25*(l-3)/P)}tt.exports=W,W.canvas=document.createElement("canvas"),W.cache={}},31353:function(tt,W,t){"use strict";var A=t(85395),g=Object.prototype.toString,i=Object.prototype.hasOwnProperty,P=function(r,f,a){for(var s=0,c=r.length;s<c;s++)i.call(r,s)&&(null==a?f(r[s],s,r):f.call(a,r[s],s,r))},E=function(r,f,a){for(var s=0,c=r.length;s<c;s++)null==a?f(r.charAt(s),s,r):f.call(a,r.charAt(s),s,r)},l=function(r,f,a){for(var s in r)i.call(r,s)&&(null==a?f(r[s],s,r):f.call(a,r[s],s,r))};tt.exports=function(r,f,a){if(!A(f))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=a),"[object Array]"===g.call(r)?P(r,f,s):"string"==typeof r?E(r,f,s):l(r,f,s)}},73047:function(tt){"use strict";var W="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,A=Object.prototype.toString,g="[object Function]";tt.exports=function(P){var E=this;if("function"!=typeof E||A.call(E)!==g)throw new TypeError(W+E);for(var x,l=t.call(arguments,1),e=function(){if(this instanceof x){var c=E.apply(this,l.concat(t.call(arguments)));return Object(c)===c?c:this}return E.apply(P,l.concat(t.call(arguments)))},r=Math.max(0,E.length-l.length),f=[],a=0;a<r;a++)f.push("$"+a);if(x=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(e),E.prototype){var s=function(){};s.prototype=E.prototype,x.prototype=new s,s.prototype=null}return x}},77575:function(tt,W,t){"use strict";var A=t(73047);tt.exports=Function.prototype.bind||A},86249:function(tt){tt.exports=function W(t,A){if("string"!=typeof t)throw new TypeError("must specify type string");if(A=A||{},"undefined"==typeof document&&!A.canvas)return null;var g=A.canvas||document.createElement("canvas");"number"==typeof A.width&&(g.width=A.width),"number"==typeof A.height&&(g.height=A.height);var P,i=A;try{var E=[t];0===t.indexOf("webgl")&&E.push("experimental-"+t);for(var l=0;l<E.length;l++)if(P=g.getContext(E[l],i))return P}catch(x){P=null}return P||null}},68318:function(tt,W,t){"use strict";var A,g=SyntaxError,i=Function,P=TypeError,E=function(C){try{return i('"use strict"; return ('+C+").constructor;")()}catch(p){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(C){l=null}var x=function(){throw new P},e=l?function(){try{return x}catch(C){try{return l(arguments,"callee").get}catch(p){return x}}}():x,r=t(57877)(),f=Object.getPrototypeOf||function(C){return C.__proto__},a={},s="undefined"==typeof Uint8Array?A:f(Uint8Array),c={"%AggregateError%":"undefined"==typeof AggregateError?A:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?A:ArrayBuffer,"%ArrayIteratorPrototype%":r?f([][Symbol.iterator]()):A,"%AsyncFromSyncIteratorPrototype%":A,"%AsyncFunction%":a,"%AsyncGenerator%":a,"%AsyncGeneratorFunction%":a,"%AsyncIteratorPrototype%":a,"%Atomics%":"undefined"==typeof Atomics?A:Atomics,"%BigInt%":"undefined"==typeof BigInt?A:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?A:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?A:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?A:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?A:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?A:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?A:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":a,"%Int8Array%":"undefined"==typeof Int8Array?A:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?A:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?A:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r?f(f([][Symbol.iterator]())):A,"%JSON%":"object"==typeof JSON?JSON:A,"%Map%":"undefined"==typeof Map?A:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&r?f((new Map)[Symbol.iterator]()):A,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?A:Promise,"%Proxy%":"undefined"==typeof Proxy?A:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?A:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?A:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&r?f((new Set)[Symbol.iterator]()):A,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?A:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r?f(""[Symbol.iterator]()):A,"%Symbol%":r?Symbol:A,"%SyntaxError%":g,"%ThrowTypeError%":e,"%TypedArray%":s,"%TypeError%":P,"%Uint8Array%":"undefined"==typeof Uint8Array?A:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?A:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?A:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?A:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?A:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?A:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?A:WeakSet};try{null.error}catch(C){var u=f(f(C));c["%Error.prototype%"]=u}var y=function C(p){var F;if("%AsyncFunction%"===p)F=E("async function () {}");else if("%GeneratorFunction%"===p)F=E("function* () {}");else if("%AsyncGeneratorFunction%"===p)F=E("async function* () {}");else if("%AsyncGenerator%"===p){var D=C("%AsyncGeneratorFunction%");D&&(F=D.prototype)}else if("%AsyncIteratorPrototype%"===p){var N=C("%AsyncGenerator%");N&&(F=f(N.prototype))}return c[p]=F,F},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=t(77575),d=t(35065),o=w.call(Function.call,Array.prototype.concat),h=w.call(Function.apply,Array.prototype.splice),M=w.call(Function.call,String.prototype.replace),T=w.call(Function.call,String.prototype.slice),L=w.call(Function.call,RegExp.prototype.exec),m=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,b=function(p){var F=T(p,0,1),D=T(p,-1);if("%"===F&&"%"!==D)throw new g("invalid intrinsic syntax, expected closing `%`");if("%"===D&&"%"!==F)throw new g("invalid intrinsic syntax, expected opening `%`");var N=[];return M(p,m,function(k,O,B,z){N[N.length]=B?M(z,S,"$1"):O||k}),N},n=function(p,F){var N,D=p;if(d(v,D)&&(D="%"+(N=v[D])[0]+"%"),d(c,D)){var k=c[D];if(k===a&&(k=y(D)),void 0===k&&!F)throw new P("intrinsic "+p+" exists, but is not available. Please file an issue!");return{alias:N,name:D,value:k}}throw new g("intrinsic "+p+" does not exist!")};tt.exports=function(p,F){if("string"!=typeof p||0===p.length)throw new P("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof F)throw new P('"allowMissing" argument must be a boolean');if(null===L(/^%?[^%]*%?$/,p))throw new g("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var D=b(p),N=D.length>0?D[0]:"",k=n("%"+N+"%",F),O=k.name,B=k.value,z=!1,U=k.alias;U&&(N=U[0],h(D,o([0,1],U)));for(var G=1,Q=!0;G<D.length;G+=1){var rt=D[G],it=T(rt,0,1),ut=T(rt,-1);if(('"'===it||"'"===it||"`"===it||'"'===ut||"'"===ut||"`"===ut)&&it!==ut)throw new g("property names with quotes must have matching quotes");if(("constructor"===rt||!Q)&&(z=!0),d(c,O="%"+(N+="."+rt)+"%"))B=c[O];else if(null!=B){if(!(rt in B)){if(!F)throw new P("base intrinsic for "+p+" exists, but the property is not available.");return}if(l&&G+1>=D.length){var J=l(B,rt);B=(Q=!!J)&&"get"in J&&!("originalValue"in J.get)?J.get:B[rt]}else Q=d(B,rt),B=B[rt];Q&&!z&&(c[O]=B)}}return B}},85400:function(tt){tt.exports=function W(t,A){var g=A[0],i=A[1],P=A[2],E=A[3],l=A[4],x=A[5],e=A[6],r=A[7],f=A[8],a=A[9],s=A[10],c=A[11],u=A[12],y=A[13],v=A[14],w=A[15];return t[0]=x*(s*w-c*v)-a*(e*w-r*v)+y*(e*c-r*s),t[1]=-(i*(s*w-c*v)-a*(P*w-E*v)+y*(P*c-E*s)),t[2]=i*(e*w-r*v)-x*(P*w-E*v)+y*(P*r-E*e),t[3]=-(i*(e*c-r*s)-x*(P*c-E*s)+a*(P*r-E*e)),t[4]=-(l*(s*w-c*v)-f*(e*w-r*v)+u*(e*c-r*s)),t[5]=g*(s*w-c*v)-f*(P*w-E*v)+u*(P*c-E*s),t[6]=-(g*(e*w-r*v)-l*(P*w-E*v)+u*(P*r-E*e)),t[7]=g*(e*c-r*s)-l*(P*c-E*s)+f*(P*r-E*e),t[8]=l*(a*w-c*y)-f*(x*w-r*y)+u*(x*c-r*a),t[9]=-(g*(a*w-c*y)-f*(i*w-E*y)+u*(i*c-E*a)),t[10]=g*(x*w-r*y)-l*(i*w-E*y)+u*(i*r-E*x),t[11]=-(g*(x*c-r*a)-l*(i*c-E*a)+f*(i*r-E*x)),t[12]=-(l*(a*v-s*y)-f*(x*v-e*y)+u*(x*s-e*a)),t[13]=g*(a*v-s*y)-f*(i*v-P*y)+u*(i*s-P*a),t[14]=-(g*(x*v-e*y)-l*(i*v-P*y)+u*(i*e-P*x)),t[15]=g*(x*s-e*a)-l*(i*s-P*a)+f*(i*e-P*x),t}},42331:function(tt){tt.exports=function W(t){var A=new Float32Array(16);return A[0]=t[0],A[1]=t[1],A[2]=t[2],A[3]=t[3],A[4]=t[4],A[5]=t[5],A[6]=t[6],A[7]=t[7],A[8]=t[8],A[9]=t[9],A[10]=t[10],A[11]=t[11],A[12]=t[12],A[13]=t[13],A[14]=t[14],A[15]=t[15],A}},31042:function(tt){tt.exports=function W(t,A){return t[0]=A[0],t[1]=A[1],t[2]=A[2],t[3]=A[3],t[4]=A[4],t[5]=A[5],t[6]=A[6],t[7]=A[7],t[8]=A[8],t[9]=A[9],t[10]=A[10],t[11]=A[11],t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15],t}},11902:function(tt){tt.exports=function W(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},89887:function(tt){tt.exports=function W(t){var A=t[0],g=t[1],i=t[2],P=t[3],E=t[4],l=t[5],x=t[6],e=t[7],r=t[8],f=t[9],a=t[10],s=t[11],c=t[12],u=t[13],y=t[14],v=t[15];return(A*l-g*E)*(a*v-s*y)-(A*x-i*E)*(f*v-s*u)+(A*e-P*E)*(f*y-a*u)+(g*x-i*l)*(r*v-s*c)-(g*e-P*l)*(r*y-a*c)+(i*e-P*x)*(r*u-f*c)}},27812:function(tt){tt.exports=function W(t,A){var g=A[0],i=A[1],P=A[2],E=A[3],l=g+g,x=i+i,e=P+P,r=g*l,f=i*l,a=i*x,s=P*l,c=P*x,u=P*e,y=E*l,v=E*x,w=E*e;return t[0]=1-a-u,t[1]=f+w,t[2]=s-v,t[3]=0,t[4]=f-w,t[5]=1-r-u,t[6]=c+y,t[7]=0,t[8]=s+v,t[9]=c-y,t[10]=1-r-a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},34045:function(tt){tt.exports=function W(t,A,g){var i,P,E,l=g[0],x=g[1],e=g[2],r=Math.sqrt(l*l+x*x+e*e);return Math.abs(r)<1e-6?null:(l*=r=1/r,x*=r,e*=r,i=Math.sin(A),P=Math.cos(A),t[0]=l*l*(E=1-P)+P,t[1]=x*l*E+e*i,t[2]=e*l*E-x*i,t[3]=0,t[4]=l*x*E-e*i,t[5]=x*x*E+P,t[6]=e*x*E+l*i,t[7]=0,t[8]=l*e*E+x*i,t[9]=x*e*E-l*i,t[10]=e*e*E+P,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}},45973:function(tt){tt.exports=function W(t,A,g){var i=A[0],P=A[1],E=A[2],l=A[3],x=i+i,e=P+P,r=E+E,f=i*x,a=i*e,s=i*r,c=P*e,u=P*r,y=E*r,v=l*x,w=l*e,d=l*r;return t[0]=1-(c+y),t[1]=a+d,t[2]=s-w,t[3]=0,t[4]=a-d,t[5]=1-(f+y),t[6]=u+v,t[7]=0,t[8]=s+w,t[9]=u-v,t[10]=1-(f+c),t[11]=0,t[12]=g[0],t[13]=g[1],t[14]=g[2],t[15]=1,t}},81472:function(tt){tt.exports=function W(t,A){return t[0]=A[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=A[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=A[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},14669:function(tt){tt.exports=function W(t,A){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=A[0],t[13]=A[1],t[14]=A[2],t[15]=1,t}},75262:function(tt){tt.exports=function W(t,A){var g=Math.sin(A),i=Math.cos(A);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=g,t[7]=0,t[8]=0,t[9]=-g,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},331:function(tt){tt.exports=function W(t,A){var g=Math.sin(A),i=Math.cos(A);return t[0]=i,t[1]=0,t[2]=-g,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=g,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},11049:function(tt){tt.exports=function W(t,A){var g=Math.sin(A),i=Math.cos(A);return t[0]=i,t[1]=g,t[2]=0,t[3]=0,t[4]=-g,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},75195:function(tt){tt.exports=function W(t,A,g,i,P,E,l){var x=1/(g-A),e=1/(P-i),r=1/(E-l);return t[0]=2*E*x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*E*e,t[6]=0,t[7]=0,t[8]=(g+A)*x,t[9]=(P+i)*e,t[10]=(l+E)*r,t[11]=-1,t[12]=0,t[13]=0,t[14]=l*E*2*r,t[15]=0,t}},71551:function(tt){tt.exports=function W(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},79576:function(tt,W,t){tt.exports={create:t(11902),clone:t(42331),copy:t(31042),identity:t(71551),transpose:t(88654),invert:t(95874),adjoint:t(85400),determinant:t(89887),multiply:t(91362),translate:t(31283),scale:t(10789),rotate:t(65074),rotateX:t(35545),rotateY:t(94918),rotateZ:t(15692),fromRotation:t(34045),fromRotationTranslation:t(45973),fromScaling:t(81472),fromTranslation:t(14669),fromXRotation:t(75262),fromYRotation:t(331),fromZRotation:t(11049),fromQuat:t(27812),frustum:t(75195),perspective:t(7864),perspectiveFromFieldOfView:t(35279),ortho:t(60378),lookAt:t(65551),str:t(6726)}},95874:function(tt){tt.exports=function W(t,A){var g=A[0],i=A[1],P=A[2],E=A[3],l=A[4],x=A[5],e=A[6],r=A[7],f=A[8],a=A[9],s=A[10],c=A[11],u=A[12],y=A[13],v=A[14],w=A[15],d=g*x-i*l,o=g*e-P*l,h=g*r-E*l,M=i*e-P*x,T=i*r-E*x,L=P*r-E*e,m=f*y-a*u,S=f*v-s*u,b=f*w-c*u,n=a*v-s*y,C=a*w-c*y,p=s*w-c*v,F=d*p-o*C+h*n+M*b-T*S+L*m;return F?(t[0]=(x*p-e*C+r*n)*(F=1/F),t[1]=(P*C-i*p-E*n)*F,t[2]=(y*L-v*T+w*M)*F,t[3]=(s*T-a*L-c*M)*F,t[4]=(e*b-l*p-r*S)*F,t[5]=(g*p-P*b+E*S)*F,t[6]=(v*h-u*L-w*o)*F,t[7]=(f*L-s*h+c*o)*F,t[8]=(l*C-x*b+r*m)*F,t[9]=(i*b-g*C-E*m)*F,t[10]=(u*T-y*h+w*d)*F,t[11]=(a*h-f*T-c*d)*F,t[12]=(x*S-l*n-e*m)*F,t[13]=(g*n-i*S+P*m)*F,t[14]=(y*o-u*M-v*d)*F,t[15]=(f*M-a*o+s*d)*F,t):null}},65551:function(tt,W,t){var A=t(71551);tt.exports=function g(i,P,E,l){var x,e,r,f,a,s,c,u,y,v,w=P[0],d=P[1],o=P[2],h=l[0],M=l[1],T=l[2],L=E[0],m=E[1],S=E[2];return Math.abs(w-L)<1e-6&&Math.abs(d-m)<1e-6&&Math.abs(o-S)<1e-6?A(i):(c=w-L,u=d-m,y=o-S,x=M*(y*=v=1/Math.sqrt(c*c+u*u+y*y))-T*(u*=v),e=T*(c*=v)-h*y,r=h*u-M*c,(v=Math.sqrt(x*x+e*e+r*r))?(x*=v=1/v,e*=v,r*=v):(x=0,e=0,r=0),f=u*r-y*e,a=y*x-c*r,s=c*e-u*x,(v=Math.sqrt(f*f+a*a+s*s))?(f*=v=1/v,a*=v,s*=v):(f=0,a=0,s=0),i[0]=x,i[1]=f,i[2]=c,i[3]=0,i[4]=e,i[5]=a,i[6]=u,i[7]=0,i[8]=r,i[9]=s,i[10]=y,i[11]=0,i[12]=-(x*w+e*d+r*o),i[13]=-(f*w+a*d+s*o),i[14]=-(c*w+u*d+y*o),i[15]=1,i)}},91362:function(tt){tt.exports=function W(t,A,g){var i=A[0],P=A[1],E=A[2],l=A[3],x=A[4],e=A[5],r=A[6],f=A[7],a=A[8],s=A[9],c=A[10],u=A[11],y=A[12],v=A[13],w=A[14],d=A[15],o=g[0],h=g[1],M=g[2],T=g[3];return t[0]=o*i+h*x+M*a+T*y,t[1]=o*P+h*e+M*s+T*v,t[2]=o*E+h*r+M*c+T*w,t[3]=o*l+h*f+M*u+T*d,t[4]=(o=g[4])*i+(h=g[5])*x+(M=g[6])*a+(T=g[7])*y,t[5]=o*P+h*e+M*s+T*v,t[6]=o*E+h*r+M*c+T*w,t[7]=o*l+h*f+M*u+T*d,t[8]=(o=g[8])*i+(h=g[9])*x+(M=g[10])*a+(T=g[11])*y,t[9]=o*P+h*e+M*s+T*v,t[10]=o*E+h*r+M*c+T*w,t[11]=o*l+h*f+M*u+T*d,t[12]=(o=g[12])*i+(h=g[13])*x+(M=g[14])*a+(T=g[15])*y,t[13]=o*P+h*e+M*s+T*v,t[14]=o*E+h*r+M*c+T*w,t[15]=o*l+h*f+M*u+T*d,t}},60378:function(tt){tt.exports=function W(t,A,g,i,P,E,l){var x=1/(A-g),e=1/(i-P),r=1/(E-l);return t[0]=-2*x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*r,t[11]=0,t[12]=(A+g)*x,t[13]=(P+i)*e,t[14]=(l+E)*r,t[15]=1,t}},7864:function(tt){tt.exports=function W(t,A,g,i,P){var E=1/Math.tan(A/2),l=1/(i-P);return t[0]=E/g,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=E,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(P+i)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*P*i*l,t[15]=0,t}},35279:function(tt){tt.exports=function W(t,A,g,i){var P=Math.tan(A.upDegrees*Math.PI/180),E=Math.tan(A.downDegrees*Math.PI/180),l=Math.tan(A.leftDegrees*Math.PI/180),x=Math.tan(A.rightDegrees*Math.PI/180),e=2/(l+x),r=2/(P+E);return t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=-(l-x)*e*.5,t[9]=(P-E)*r*.5,t[10]=i/(g-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*g/(g-i),t[15]=0,t}},65074:function(tt){tt.exports=function W(t,A,g,i){var e,r,f,a,s,c,u,y,v,w,d,o,h,M,T,L,m,S,b,n,C,p,F,D,P=i[0],E=i[1],l=i[2],x=Math.sqrt(P*P+E*E+l*l);return Math.abs(x)<1e-6?null:(P*=x=1/x,E*=x,l*=x,e=Math.sin(g),r=Math.cos(g),s=A[1],c=A[2],u=A[3],v=A[5],w=A[6],d=A[7],h=A[9],M=A[10],T=A[11],b=P*E*(f=1-r)-l*e,n=E*E*f+r,C=l*E*f+P*e,p=P*l*f+E*e,F=E*l*f-P*e,D=l*l*f+r,t[0]=(a=A[0])*(L=P*P*f+r)+(y=A[4])*(m=E*P*f+l*e)+(o=A[8])*(S=l*P*f-E*e),t[1]=s*L+v*m+h*S,t[2]=c*L+w*m+M*S,t[3]=u*L+d*m+T*S,t[4]=a*b+y*n+o*C,t[5]=s*b+v*n+h*C,t[6]=c*b+w*n+M*C,t[7]=u*b+d*n+T*C,t[8]=a*p+y*F+o*D,t[9]=s*p+v*F+h*D,t[10]=c*p+w*F+M*D,t[11]=u*p+d*F+T*D,A!==t&&(t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15]),t)}},35545:function(tt){tt.exports=function W(t,A,g){var i=Math.sin(g),P=Math.cos(g),E=A[4],l=A[5],x=A[6],e=A[7],r=A[8],f=A[9],a=A[10],s=A[11];return A!==t&&(t[0]=A[0],t[1]=A[1],t[2]=A[2],t[3]=A[3],t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15]),t[4]=E*P+r*i,t[5]=l*P+f*i,t[6]=x*P+a*i,t[7]=e*P+s*i,t[8]=r*P-E*i,t[9]=f*P-l*i,t[10]=a*P-x*i,t[11]=s*P-e*i,t}},94918:function(tt){tt.exports=function W(t,A,g){var i=Math.sin(g),P=Math.cos(g),E=A[0],l=A[1],x=A[2],e=A[3],r=A[8],f=A[9],a=A[10],s=A[11];return A!==t&&(t[4]=A[4],t[5]=A[5],t[6]=A[6],t[7]=A[7],t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15]),t[0]=E*P-r*i,t[1]=l*P-f*i,t[2]=x*P-a*i,t[3]=e*P-s*i,t[8]=E*i+r*P,t[9]=l*i+f*P,t[10]=x*i+a*P,t[11]=e*i+s*P,t}},15692:function(tt){tt.exports=function W(t,A,g){var i=Math.sin(g),P=Math.cos(g),E=A[0],l=A[1],x=A[2],e=A[3],r=A[4],f=A[5],a=A[6],s=A[7];return A!==t&&(t[8]=A[8],t[9]=A[9],t[10]=A[10],t[11]=A[11],t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15]),t[0]=E*P+r*i,t[1]=l*P+f*i,t[2]=x*P+a*i,t[3]=e*P+s*i,t[4]=r*P-E*i,t[5]=f*P-l*i,t[6]=a*P-x*i,t[7]=s*P-e*i,t}},10789:function(tt){tt.exports=function W(t,A,g){var i=g[0],P=g[1],E=g[2];return t[0]=A[0]*i,t[1]=A[1]*i,t[2]=A[2]*i,t[3]=A[3]*i,t[4]=A[4]*P,t[5]=A[5]*P,t[6]=A[6]*P,t[7]=A[7]*P,t[8]=A[8]*E,t[9]=A[9]*E,t[10]=A[10]*E,t[11]=A[11]*E,t[12]=A[12],t[13]=A[13],t[14]=A[14],t[15]=A[15],t}},6726:function(tt){tt.exports=function W(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},31283:function(tt){tt.exports=function W(t,A,g){var l,x,e,r,f,a,s,c,u,y,v,w,i=g[0],P=g[1],E=g[2];return A===t?(t[12]=A[0]*i+A[4]*P+A[8]*E+A[12],t[13]=A[1]*i+A[5]*P+A[9]*E+A[13],t[14]=A[2]*i+A[6]*P+A[10]*E+A[14],t[15]=A[3]*i+A[7]*P+A[11]*E+A[15]):(x=A[1],e=A[2],r=A[3],f=A[4],a=A[5],s=A[6],c=A[7],u=A[8],y=A[9],v=A[10],w=A[11],t[0]=l=A[0],t[1]=x,t[2]=e,t[3]=r,t[4]=f,t[5]=a,t[6]=s,t[7]=c,t[8]=u,t[9]=y,t[10]=v,t[11]=w,t[12]=l*i+f*P+u*E+A[12],t[13]=x*i+a*P+y*E+A[13],t[14]=e*i+s*P+v*E+A[14],t[15]=r*i+c*P+w*E+A[15]),t}},88654:function(tt){tt.exports=function W(t,A){if(t===A){var g=A[1],i=A[2],P=A[3],E=A[6],l=A[7],x=A[11];t[1]=A[4],t[2]=A[8],t[3]=A[12],t[4]=g,t[6]=A[9],t[7]=A[13],t[8]=i,t[9]=E,t[11]=A[14],t[12]=P,t[13]=l,t[14]=x}else t[0]=A[0],t[1]=A[4],t[2]=A[8],t[3]=A[12],t[4]=A[1],t[5]=A[5],t[6]=A[9],t[7]=A[13],t[8]=A[2],t[9]=A[6],t[10]=A[10],t[11]=A[14],t[12]=A[3],t[13]=A[7],t[14]=A[11],t[15]=A[15];return t}},42505:function(tt,W,t){"use strict";var A=t(72791),g=t(71299),i=t(98580),P=t(12018),E=t(83522),l=t(25075),x=t(68016),e=t(58404),r=t(18863),f=t(10973),a=t(25677),s=t(75686),c=t(53545),u=t(56131),y=t(32879),v=t(30120),d=t(13547).nextPow2,o=new E,h=!1;if(document.body){var M=document.body.appendChild(document.createElement("div"));M.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(M).fontStretch&&(h=!0),document.body.removeChild(M)}var T=function(S){this.gl=function L(m){return"function"==typeof m&&m._gl&&m.prop&&m.texture&&m.buffer}(S)?(S={regl:S}).regl._gl:P(S),this.shader=o.get(this.gl),this.regl=this.shader?this.shader.regl:S.regl||i({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(f(S)?S:{})};T.prototype.createShader=function(){var S=this.regl,b=S({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:S.prop("count"),offset:S.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:S.this("sizeBuffer")},width:{offset:0,stride:8,buffer:S.this("sizeBuffer")},char:S.this("charBuffer"),position:S.this("position")},uniforms:{atlasSize:function(C,p){return[p.atlas.width,p.atlas.height]},atlasDim:function(C,p){return[p.atlas.cols,p.atlas.rows]},atlas:function(C,p){return p.atlas.texture},charStep:function(C,p){return p.atlas.step},em:function(C,p){return p.atlas.em},color:S.prop("color"),opacity:S.prop("opacity"),viewport:S.this("viewportArray"),scale:S.this("scale"),align:S.prop("align"),baseline:S.prop("baseline"),translate:S.this("translate"),positionOffset:S.prop("positionOffset")},primitive:"points",viewport:S.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:S,draw:b,atlas:{}}},T.prototype.update=function(S){var b=this;if("string"==typeof S)S={text:S};else if(!S)return;null!=(S=g(S,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(this.opacity=Array.isArray(S.opacity)?S.opacity.map(function(Pt){return parseFloat(Pt)}):parseFloat(S.opacity)),null!=S.viewport&&(this.viewport=r(S.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=S.kerning&&(this.kerning=S.kerning),null!=S.offset&&("number"==typeof S.offset&&(S.offset=[S.offset,0]),this.positionOffset=v(S.offset)),S.direction&&(this.direction=S.direction),S.range&&(this.range=S.range,this.scale=[1/(S.range[2]-S.range[0]),1/(S.range[3]-S.range[1])],this.translate=[-S.range[0],-S.range[1]]),S.scale&&(this.scale=S.scale),S.translate&&(this.translate=S.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!S.font&&(S.font=T.baseFontSize+"px sans-serif");var D,n=!1,C=!1;if(S.font&&(Array.isArray(S.font)?S.font:[S.font]).forEach(function(Pt,Vt){if("string"==typeof Pt)try{Pt=A.parse(Pt)}catch(ae){Pt=A.parse(T.baseFontSize+"px "+Pt)}else Pt=A.parse(A.stringify(Pt));var te=A.stringify({size:T.baseFontSize,family:Pt.family,stretch:h?Pt.stretch:void 0,variant:Pt.variant,weight:Pt.weight,style:Pt.style}),_t=a(Pt.size),kt=Math.round(_t[0]*s(_t[1]));if(kt!==b.fontSize[Vt]&&(C=!0,b.fontSize[Vt]=kt),!(b.font[Vt]&&te==b.font[Vt].baseString||(n=!0,b.font[Vt]=T.fonts[te],b.font[Vt]))){var zt=Pt.family.join(", "),qt=[Pt.style];Pt.style!=Pt.variant&&qt.push(Pt.variant),Pt.variant!=Pt.weight&&qt.push(Pt.weight),h&&Pt.weight!=Pt.stretch&&qt.push(Pt.stretch),b.font[Vt]={baseString:te,family:zt,weight:Pt.weight,stretch:Pt.stretch,style:Pt.style,variant:Pt.variant,width:{},kerning:{},metrics:y(zt,{origin:"top",fontSize:T.baseFontSize,fontStyle:qt.join(" ")})},T.fonts[te]=b.font[Vt]}}),(n||C)&&this.font.forEach(function(Pt,Vt){var te=A.stringify({size:b.fontSize[Vt],family:Pt.family,stretch:h?Pt.stretch:void 0,variant:Pt.variant,weight:Pt.weight,style:Pt.style});b.fontAtlas[Vt]=b.shader.atlas[te],b.fontAtlas[Vt]||(b.shader.atlas[te]=b.fontAtlas[Vt]={fontString:te,step:2*Math.ceil(b.fontSize[Vt]*Pt.metrics.bottom*.5),em:b.fontSize[Vt],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:b.regl.texture()}),null==S.text&&(S.text=b.text)}),"string"==typeof S.text&&S.position&&S.position.length>2){for(var p=Array(.5*S.position.length),F=0;F<p.length;F++)p[F]=S.text;S.text=p}if(null!=S.text||n){if(this.textOffsets=[0],Array.isArray(S.text)){this.count=S.text[0].length,this.counts=[this.count];for(var N=1;N<S.text.length;N++)this.textOffsets[N]=this.textOffsets[N-1]+S.text[N-1].length,this.count+=S.text[N].length,this.counts.push(S.text[N].length);this.text=S.text.join("")}else this.text=S.text,this.count=this.text.length,this.counts=[this.count];D=[],this.font.forEach(function(Pt,Vt){T.atlasContext.font=Pt.baseString;for(var te=b.fontAtlas[Vt],_t=0;_t<b.text.length;_t++){var kt=b.text.charAt(_t);if(null==te.ids[kt]&&(te.ids[kt]=te.chars.length,te.chars.push(kt),D.push(kt)),null==Pt.width[kt]&&(Pt.width[kt]=T.atlasContext.measureText(kt).width/T.baseFontSize,b.kerning)){var zt=[];for(var qt in Pt.width)zt.push(qt+kt,kt+qt);u(Pt.kerning,c(Pt.family,{pairs:zt}))}}})}if(S.position)if(S.position.length>2){for(var k=!S.position[0].length,O=e.mallocFloat(2*this.count),B=0,z=0;B<this.counts.length;B++){var U=this.counts[B];if(k)for(var G=0;G<U;G++)O[z++]=S.position[2*B],O[z++]=S.position[2*B+1];else for(var Q=0;Q<U;Q++)O[z++]=S.position[B][0],O[z++]=S.position[B][1]}this.position.call?this.position({type:"float",data:O}):this.position=this.regl.buffer({type:"float",data:O}),e.freeFloat(O)}else this.position.destroy&&this.position.destroy(),this.position={constant:S.position};if(S.text||n){var rt=e.mallocUint8(this.count),it=e.mallocFloat(2*this.count);this.textWidth=[];for(var ut=0,J=0;ut<this.counts.length;ut++){for(var j=this.counts[ut],Z=this.font[ut]||this.font[0],H=this.fontAtlas[ut]||this.fontAtlas[0],X=0;X<j;X++){var at=this.text.charAt(J),_=this.text.charAt(J-1);if(rt[J]=H.ids[at],it[2*J]=Z.width[at],X){var st=it[2*J-1]+.5*it[2*J-2]+.5*it[2*J];if(this.kerning){var dt=Z.kerning[_+at];dt&&(st+=.001*dt)}it[2*J+1]=st}else it[2*J+1]=.5*it[2*J];J++}this.textWidth.push(it.length?.5*it[2*J-2]+it[2*J-1]:0)}S.align||(S.align=this.align),this.charBuffer({data:rt,type:"uint8",usage:"stream"}),this.sizeBuffer({data:it,type:"float",usage:"stream"}),e.freeUint8(rt),e.freeFloat(it),D.length&&this.font.forEach(function(Pt,Vt){var te=b.fontAtlas[Vt],_t=te.step,kt=Math.floor(T.maxAtlasSize/_t),zt=Math.min(kt,te.chars.length),qt=Math.ceil(te.chars.length/zt),ae=d(zt*_t),oe=d(qt*_t);te.width=ae,te.height=oe,te.rows=qt,te.cols=zt,te.em&&te.texture({data:x({canvas:T.atlasCanvas,font:te.fontString,chars:te.chars,shape:[ae,oe],step:[_t,_t]})})})}if(S.align&&(this.align=S.align,this.alignOffset=this.textWidth.map(function(Pt,Vt){var te=Array.isArray(b.align)?b.align.length>1?b.align[Vt]:b.align[0]:b.align;if("number"==typeof te)return te;switch(te){case"right":case"end":return-Pt;case"center":case"centre":case"middle":return.5*-Pt}return 0})),null==this.baseline&&null==S.baseline&&(S.baseline=0),null!=S.baseline&&(this.baseline=S.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Pt,Vt){var te=(b.font[Vt]||b.font[0]).metrics,_t=0;return _t+=.5*te.bottom,-1*(_t+="number"==typeof Pt?Pt-te.baseline:-te[Pt])})),null!=S.color)if(S.color||(S.color="transparent"),"string"!=typeof S.color&&isNaN(S.color)){var Tt;if("number"==typeof S.color[0]&&S.color.length>this.counts.length){var bt=S.color.length;Tt=e.mallocUint8(bt);for(var Dt=(S.color.subarray||S.color.slice).bind(S.color),Ft=0;Ft<bt;Ft+=4)Tt.set(l(Dt(Ft,Ft+4),"uint8"),Ft)}else{var Mt=S.color.length;Tt=e.mallocUint8(4*Mt);for(var wt=0;wt<Mt;wt++)Tt.set(l(S.color[wt]||0,"uint8"),4*wt)}this.color=Tt}else this.color=l(S.color,"uint8");if(S.position||S.text||S.color||S.baseline||S.align||S.font||S.offset||S.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var Ut=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(Ut);for(var Gt=0;Gt<this.batch.length;Gt++)this.batch[Gt]={count:this.counts.length>1?this.counts[Gt]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Gt]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*Gt,4*Gt+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Gt]:this.opacity,baseline:null!=this.baselineOffset[Gt]?this.baselineOffset[Gt]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[Gt]?this.alignOffset[Gt]:this.alignOffset[0]:0,atlas:this.fontAtlas[Gt]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*Gt,2*Gt+2):this.positionOffset}}else this.batch=this.count?[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:[]},T.prototype.destroy=function(){},T.prototype.kerning=!0,T.prototype.position={constant:new Float32Array(2)},T.prototype.translate=null,T.prototype.scale=null,T.prototype.font=null,T.prototype.text="",T.prototype.positionOffset=[0,0],T.prototype.opacity=1,T.prototype.color=new Uint8Array([0,0,0,255]),T.prototype.alignOffset=[0,0],T.maxAtlasSize=1024,T.atlasCanvas=document.createElement("canvas"),T.atlasContext=T.atlasCanvas.getContext("2d",{alpha:!1}),T.baseFontSize=64,T.fonts={},tt.exports=T},12018:function(tt,W,t){"use strict";var A=t(71299);function g(x){if(x.container)if(x.container==document.body)document.body.style.width||(x.canvas.width=x.width||x.pixelRatio*t.g.innerWidth),document.body.style.height||(x.canvas.height=x.height||x.pixelRatio*t.g.innerHeight);else{var e=x.container.getBoundingClientRect();x.canvas.width=x.width||e.right-e.left,x.canvas.height=x.height||e.bottom-e.top}}function i(x){return"function"==typeof x.getContext&&"width"in x&&"height"in x}function l(){var x=document.createElement("canvas");return x.style.position="absolute",x.style.top=0,x.style.left=0,x}tt.exports=function(e){if(e?"string"==typeof e&&(e={container:e}):e={},(e=i(e)||function P(x){return"string"==typeof x.nodeName&&"function"==typeof x.appendChild&&"function"==typeof x.getBoundingClientRect}(e)?{container:e}:function E(x){return"function"==typeof x.drawArrays||"function"==typeof x.drawElements}(e)?{gl:e}:A(e,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(e.pixelRatio=t.g.pixelRatio||1),e.gl)return e.gl;if(e.canvas&&(e.container=e.canvas.parentNode),e.container){if("string"==typeof e.container){var r=document.querySelector(e.container);if(!r)throw Error("Element "+e.container+" is not found");e.container=r}i(e.container)?(e.canvas=e.container,e.container=e.canvas.parentNode):e.canvas||(e.canvas=l(),e.container.appendChild(e.canvas),g(e))}else if(!e.canvas){if("undefined"==typeof document)throw Error("Not DOM environment. Use headless-gl.");e.container=document.body||document.documentElement,e.canvas=l(),e.container.appendChild(e.canvas),g(e)}return e.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(f){try{e.gl=e.canvas.getContext(f,e.attrs)}catch(a){}return e.gl}),e.gl}},56068:function(tt){tt.exports=function(W){"string"==typeof W&&(W=[W]);for(var t=[].slice.call(arguments,1),A=[],g=0;g<W.length-1;g++)A.push(W[g],t[g]||"");return A.push(W[g]),A.join("")}},40383:function(tt,W,t){"use strict";var g=t(68318)("%Object.getOwnPropertyDescriptor%",!0);if(g)try{g([],"length")}catch(i){g=null}tt.exports=g},57035:function(tt,W,t){"use strict";var g,A=t(54404);g="function"==typeof t.g.matchMedia?!t.g.matchMedia("(hover: none)").matches:A,tt.exports=g},38520:function(tt,W,t){"use strict";var A=t(54404);tt.exports=A&&function g(){var i=!1;try{var P=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,P),window.removeEventListener("test",null,P)}catch(E){i=!1}return i}()},55622:function(tt,W,t){"use strict";var g=t(68318)("%Object.defineProperty%",!0),i=function(){if(g)try{return g({},"a",{value:1}),!0}catch(E){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==g([],"length",{value:1}).length}catch(E){return!0}},tt.exports=i},57877:function(tt,W,t){"use strict";var A="undefined"!=typeof Symbol&&Symbol,g=t(35638);tt.exports=function(){return"function"==typeof A&&"function"==typeof Symbol&&"symbol"==typeof A("foo")&&"symbol"==typeof Symbol("bar")&&g()}},35638:function(tt){"use strict";tt.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},A=Symbol("test"),g=Object(A);if("string"==typeof A||"[object Symbol]"!==Object.prototype.toString.call(A)||"[object Symbol]"!==Object.prototype.toString.call(g))return!1;for(A in t[A]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var P=Object.getOwnPropertySymbols(t);if(1!==P.length||P[0]!==A||!Object.prototype.propertyIsEnumerable.call(t,A))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var E=Object.getOwnPropertyDescriptor(t,A);if(42!==E.value||!0!==E.enumerable)return!1}return!0}},84543:function(tt,W,t){"use strict";var A=t(35638);tt.exports=function(){return A()&&!!Symbol.toStringTag}},35065:function(tt,W,t){"use strict";var A=t(77575);tt.exports=A.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(tt,W){W.read=function(t,A,g,i,P){var E,l,x=8*P-i-1,e=(1<<x)-1,r=e>>1,f=-7,a=g?P-1:0,s=g?-1:1,c=t[A+a];for(a+=s,E=c&(1<<-f)-1,c>>=-f,f+=x;f>0;E=256*E+t[A+a],a+=s,f-=8);for(l=E&(1<<-f)-1,E>>=-f,f+=i;f>0;l=256*l+t[A+a],a+=s,f-=8);if(0===E)E=1-r;else{if(E===e)return l?NaN:1/0*(c?-1:1);l+=Math.pow(2,i),E-=r}return(c?-1:1)*l*Math.pow(2,E-i)},W.write=function(t,A,g,i,P,E){var l,x,e,r=8*E-P-1,f=(1<<r)-1,a=f>>1,s=23===P?Math.pow(2,-24)-Math.pow(2,-77):0,c=i?0:E-1,u=i?1:-1,y=A<0||0===A&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(x=isNaN(A)?1:0,l=f):(l=Math.floor(Math.log(A)/Math.LN2),A*(e=Math.pow(2,-l))<1&&(l--,e*=2),(A+=l+a>=1?s/e:s*Math.pow(2,1-a))*e>=2&&(l++,e/=2),l+a>=f?(x=0,l=f):l+a>=1?(x=(A*e-1)*Math.pow(2,P),l+=a):(x=A*Math.pow(2,a-1)*Math.pow(2,P),l=0));P>=8;t[g+c]=255&x,c+=u,x/=256,P-=8);for(l=l<<P|x,r+=P;r>0;t[g+c]=255&l,c+=u,l/=256,r-=8);t[g+c-u]|=128*y}},42018:function(tt){tt.exports="function"==typeof Object.create?function(t,A){A&&(t.super_=A,t.prototype=Object.create(A.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,A){if(A){t.super_=A;var g=function(){};g.prototype=A.prototype,t.prototype=new g,t.prototype.constructor=t}}},47216:function(tt,W,t){"use strict";var A=t(84543)(),i=t(6614)("Object.prototype.toString"),P=function(e){return!(A&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},E=function(e){return!!P(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},l=function(){return P(arguments)}();P.isLegacyArguments=E,tt.exports=l?P:E},54404:function(tt){tt.exports=!0},85395:function(tt){"use strict";var A,g,W=Function.prototype.toString,t="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof t&&"function"==typeof Object.defineProperty)try{A=Object.defineProperty({},"length",{get:function(){throw g}}),g={},t(function(){throw 42},null,A)}catch(w){w!==g&&(t=null)}else t=null;var i=/^\s*class\b/,P=function(d){try{var o=W.call(d);return i.test(o)}catch(h){return!1}},E=function(d){try{return!P(d)&&(W.call(d),!0)}catch(o){return!1}},l=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),y=function(){return!1};if("object"==typeof document){var v=document.all;l.call(v)===l.call(document.all)&&(y=function(d){if((u||!d)&&(void 0===d||"object"==typeof d))try{var o=l.call(d);return("[object HTMLAllCollection]"===o||"[object HTML document.all class]"===o||"[object HTMLCollection]"===o||"[object Object]"===o)&&null==d("")}catch(h){}return!1})}tt.exports=t?function(d){if(y(d))return!0;if(!d||"function"!=typeof d&&"object"!=typeof d)return!1;try{t(d,null,A)}catch(o){if(o!==g)return!1}return!P(d)&&E(d)}:function(d){if(y(d))return!0;if(!d||"function"!=typeof d&&"object"!=typeof d)return!1;if(c)return E(d);if(P(d))return!1;var o=l.call(d);return!("[object Function]"!==o&&"[object GeneratorFunction]"!==o&&!/^\[object HTML/.test(o))&&E(d)}},65481:function(tt,W,t){"use strict";var x,A=Object.prototype.toString,g=Function.prototype.toString,i=/^\s*(?:function)?\*/,P=t(84543)(),E=Object.getPrototypeOf;tt.exports=function(r){if("function"!=typeof r)return!1;if(i.test(g.call(r)))return!0;if(!P)return"[object GeneratorFunction]"===A.call(r);if(!E)return!1;if(void 0===x){var a=function(){if(!P)return!1;try{return Function("return function*() {}")()}catch(e){}}();x=!!a&&E(a)}return E(r)===x}},62683:function(tt){"use strict";tt.exports="undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(tt){"use strict";tt.exports=function(t){return t!=t}},15567:function(tt,W,t){"use strict";var A=t(68222),g=t(17045),i=t(64274),P=t(14922),E=t(22442),l=A(P(),Number);g(l,{getPolyfill:P,implementation:i,shim:E}),tt.exports=l},14922:function(tt,W,t){"use strict";var A=t(64274);tt.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:A}},22442:function(tt,W,t){"use strict";var A=t(17045),g=t(14922);tt.exports=function(){var P=g();return A(Number,{isNaN:P},{isNaN:function(){return Number.isNaN!==P}}),P}},64941:function(tt){"use strict";tt.exports=function(W){var t=typeof W;return null!==W&&("object"===t||"function"===t)}},10973:function(tt){"use strict";var W=Object.prototype.toString;tt.exports=function(t){var A;return"[object Object]"===W.call(t)&&(null===(A=Object.getPrototypeOf(t))||A===Object.getPrototypeOf({}))}},18546:function(tt){"use strict";tt.exports=function(W){for(var A,t=W.length,g=0;g<t;g++)if(((A=W.charCodeAt(g))<9||A>13)&&32!==A&&133!==A&&160!==A&&5760!==A&&6158!==A&&(A<8192||A>8205)&&8232!==A&&8233!==A&&8239!==A&&8287!==A&&8288!==A&&12288!==A&&65279!==A)return!1;return!0}},89546:function(tt){"use strict";tt.exports=function(t){return"string"==typeof t&&(t=t.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4))}},9187:function(tt,W,t){"use strict";var A=t(31353),g=t(72077),i=t(6614),P=i("Object.prototype.toString"),E=t(84543)(),l=t(40383),x="undefined"==typeof globalThis?t.g:globalThis,e=g(),r=i("Array.prototype.indexOf",!0)||function(y,v){for(var w=0;w<y.length;w+=1)if(y[w]===v)return w;return-1},f=i("String.prototype.slice"),a={},s=Object.getPrototypeOf;E&&l&&s&&A(e,function(u){var y=new x[u];if(Symbol.toStringTag in y){var v=s(y),w=l(v,Symbol.toStringTag);if(!w){var d=s(v);w=l(d,Symbol.toStringTag)}a[u]=w.get}});tt.exports=function(y){if(!y||"object"!=typeof y)return!1;if(!E||!(Symbol.toStringTag in y)){var v=f(P(y),8,-1);return r(e,v)>-1}return!!l&&function(y){var v=!1;return A(a,function(w,d){if(!v)try{v=w.call(y)===d}catch(o){}}),v}(y)}},44517:function(tt){var t;t=function(){"use strict";var W,t,A;function g(i,P){if(W)if(t){var E="var sharedChunk = {}; ("+W+")(sharedChunk); ("+t+")(sharedChunk);",l={};W(l),(A=P(l)).workerUrl=window.URL.createObjectURL(new Blob([E],{type:"text/javascript"}))}else t=P;else W=P}return g(0,function(i){function P(R,I){return R(I={exports:{}},I.exports),I.exports}var E="1.10.1",l=x;function x(R,I,V,q){this.cx=3*R,this.bx=3*(V-R)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*I,this.by=3*(q-I)-this.cy,this.ay=1-this.cy-this.by,this.p1x=R,this.p1y=q,this.p2x=V,this.p2y=q}x.prototype.sampleCurveX=function(R){return((this.ax*R+this.bx)*R+this.cx)*R},x.prototype.sampleCurveY=function(R){return((this.ay*R+this.by)*R+this.cy)*R},x.prototype.sampleCurveDerivativeX=function(R){return(3*this.ax*R+2*this.bx)*R+this.cx},x.prototype.solveCurveX=function(R,I){var V,q,ft,xt,At;for(void 0===I&&(I=1e-6),ft=R,At=0;At<8;At++){if(xt=this.sampleCurveX(ft)-R,Math.abs(xt)<I)return ft;var jt=this.sampleCurveDerivativeX(ft);if(Math.abs(jt)<1e-6)break;ft-=xt/jt}if((ft=R)<(V=0))return V;if(ft>(q=1))return q;for(;V<q;){if(xt=this.sampleCurveX(ft),Math.abs(xt-R)<I)return ft;R>xt?V=ft:q=ft,ft=.5*(q-V)+V}return ft},x.prototype.solve=function(R,I){return this.sampleCurveY(this.solveCurveX(R,I))};var e=r;function r(R,I){this.x=R,this.y=I}function s(R,I,V,q){var ft=new l(R,I,V,q);return function(xt){return ft.solve(xt)}}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(R){return this.clone()._add(R)},sub:function(R){return this.clone()._sub(R)},multByPoint:function(R){return this.clone()._multByPoint(R)},divByPoint:function(R){return this.clone()._divByPoint(R)},mult:function(R){return this.clone()._mult(R)},div:function(R){return this.clone()._div(R)},rotate:function(R){return this.clone()._rotate(R)},rotateAround:function(R,I){return this.clone()._rotateAround(R,I)},matMult:function(R){return this.clone()._matMult(R)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(R){return this.x===R.x&&this.y===R.y},dist:function(R){return Math.sqrt(this.distSqr(R))},distSqr:function(R){var I=R.x-this.x,V=R.y-this.y;return I*I+V*V},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(R){return Math.atan2(this.y-R.y,this.x-R.x)},angleWith:function(R){return this.angleWithSep(R.x,R.y)},angleWithSep:function(R,I){return Math.atan2(this.x*I-this.y*R,this.x*R+this.y*I)},_matMult:function(R){var V=R[2]*this.x+R[3]*this.y;return this.x=R[0]*this.x+R[1]*this.y,this.y=V,this},_add:function(R){return this.x+=R.x,this.y+=R.y,this},_sub:function(R){return this.x-=R.x,this.y-=R.y,this},_mult:function(R){return this.x*=R,this.y*=R,this},_div:function(R){return this.x/=R,this.y/=R,this},_multByPoint:function(R){return this.x*=R.x,this.y*=R.y,this},_divByPoint:function(R){return this.x/=R.x,this.y/=R.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var R=this.y;return this.y=this.x,this.x=-R,this},_rotate:function(R){var I=Math.cos(R),V=Math.sin(R),ft=V*this.x+I*this.y;return this.x=I*this.x-V*this.y,this.y=ft,this},_rotateAround:function(R,I){var V=Math.cos(R),q=Math.sin(R),xt=I.y+q*(this.x-I.x)+V*(this.y-I.y);return this.x=I.x+V*(this.x-I.x)-q*(this.y-I.y),this.y=xt,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(R){return R instanceof r?R:Array.isArray(R)?new r(R[0],R[1]):R};var c=s(.25,.1,.25,1);function u(R,I,V){return Math.min(V,Math.max(I,R))}function y(R,I,V){var q=V-I,ft=((R-I)%q+q)%q+I;return ft===I?V:ft}function o(R){for(var I=[],V=arguments.length-1;V-- >0;)I[V]=arguments[V+1];for(var q=0,ft=I;q<ft.length;q+=1){var xt=ft[q];for(var At in xt)R[At]=xt[At]}return R}var M=1;function T(){return M++}function L(){return function R(I){return I?(I^16*Math.random()>>I/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,R)}()}function m(R){return!!R&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R)}function S(R,I){R.forEach(function(V){!I[V]||(I[V]=I[V].bind(I))})}function b(R,I){return-1!==R.indexOf(I,R.length-I.length)}function n(R,I,V){var q={};for(var ft in R)q[ft]=I.call(V||this,R[ft],ft,R);return q}function C(R,I,V){var q={};for(var ft in R)I.call(V||this,R[ft],ft,R)&&(q[ft]=R[ft]);return q}function p(R){return Array.isArray(R)?R.map(p):"object"==typeof R&&R?n(R,p):R}var D={};function N(R){D[R]||("undefined"!=typeof console&&console.warn(R),D[R]=!0)}function k(R,I,V){return(V.y-R.y)*(I.x-R.x)>(I.y-R.y)*(V.x-R.x)}function O(R){for(var I=0,V=0,q=R.length,ft=q-1,xt=void 0,At=void 0;V<q;ft=V++)I+=((At=R[ft]).x-(xt=R[V]).x)*(xt.y+At.y);return I}function z(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function U(R){var V={};if(R.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(ft,xt,At,jt){var se=At||jt;return V[xt]=!se||se.toLowerCase(),""}),V["max-age"]){var q=parseInt(V["max-age"],10);isNaN(q)?delete V["max-age"]:V["max-age"]=q}return V}var G=null;function Q(R){if(null==G){var I=R.navigator?R.navigator.userAgent:null;G=!!R.safari||!(!I||!(/\b(iPad|iPhone|iPod)\b/.test(I)||I.match("Safari")&&!I.match("Chrome")))}return G}function rt(R){try{var I=self[R];return I.setItem("_mapbox_test_",1),I.removeItem("_mapbox_test_"),!0}catch(V){return!1}}var H,X,nt,st,J=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),j=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,Z=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,at={now:J,frame:function(I){var V=j(I);return{cancel:function(){return Z(V)}}},getImageData:function(I,V){void 0===V&&(V=0);var q=self.document.createElement("canvas"),ft=q.getContext("2d");if(!ft)throw new Error("failed to create canvas 2d context");return q.width=I.width,q.height=I.height,ft.drawImage(I,0,0,I.width,I.height),ft.getImageData(-V,-V,I.width+2*V,I.height+2*V)},resolveURL:function(I){return H||(H=self.document.createElement("a")),H.href=I,H.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==X&&(X=self.matchMedia("(prefers-reduced-motion: reduce)")),X.matches)}},_={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},K={supported:!1,testSupport:function Tt(R){et||!st||(dt?bt(R):nt=R)}},et=!1,dt=!1;function bt(R){var I=R.createTexture();R.bindTexture(R.TEXTURE_2D,I);try{if(R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,st),R.isContextLost())return;K.supported=!0}catch(V){}R.deleteTexture(I),et=!0}self.document&&((st=self.document.createElement("img")).onload=function(){nt&&bt(nt),nt=null,dt=!0},st.onerror=function(){et=!0,nt=null},st.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Dt="01";var Mt=function(I,V){this._transformRequestFn=I,this._customAccessToken=V,this._createSkuToken()};function wt(R){return 0===R.indexOf("mapbox:")}Mt.prototype._createSkuToken=function(){var I=function Ft(){for(var V="",q=0;q<10;q++)V+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Dt,V].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=I.token,this._skuTokenExpiresAt=I.tokenExpiresAt},Mt.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Mt.prototype.transformRequest=function(I,V){return this._transformRequestFn&&this._transformRequestFn(I,V)||{url:I}},Mt.prototype.normalizeStyleURL=function(I,V){if(!wt(I))return I;var q=te(I);return q.path="/styles/v1"+q.path,this._makeAPIURL(q,this._customAccessToken||V)},Mt.prototype.normalizeGlyphsURL=function(I,V){if(!wt(I))return I;var q=te(I);return q.path="/fonts/v1"+q.path,this._makeAPIURL(q,this._customAccessToken||V)},Mt.prototype.normalizeSourceURL=function(I,V){if(!wt(I))return I;var q=te(I);return q.path="/v4/"+q.authority+".json",q.params.push("secure"),this._makeAPIURL(q,this._customAccessToken||V)},Mt.prototype.normalizeSpriteURL=function(I,V,q,ft){var xt=te(I);return wt(I)?(xt.path="/styles/v1"+xt.path+"/sprite"+V+q,this._makeAPIURL(xt,this._customAccessToken||ft)):(xt.path+=""+V+q,_t(xt))},Mt.prototype.normalizeTileURL=function(I,V){if(this._isSkuTokenExpired()&&this._createSkuToken(),I&&!wt(I))return I;var q=te(I);q.path=q.path.replace(/(\.(png|jpg)\d*)(?=$)/,(at.devicePixelRatio>=2||512===V?"@2x":"")+(K.supported?".webp":"$1")),q.path=q.path.replace(/^.+\/v4\//,"/"),q.path="/v4"+q.path;var se=this._customAccessToken||function Pt(R){for(var I=0,V=R;I<V.length;I+=1){var ft=V[I].match(/^access_token=(.*)$/);if(ft)return ft[1]}return null}(q.params)||_.ACCESS_TOKEN;return _.REQUIRE_ACCESS_TOKEN&&se&&this._skuToken&&q.params.push("sku="+this._skuToken),this._makeAPIURL(q,se)},Mt.prototype.canonicalizeTileURL=function(I,V){var xt=te(I);if(!xt.path.match(/(^\/v4\/)/)||!xt.path.match(/\.[\w]+$/))return I;var At="mapbox://tiles/";At+=xt.path.replace("/v4/","");var jt=xt.params;return V&&(jt=jt.filter(function(se){return!se.match(/^access_token=/)})),jt.length&&(At+="?"+jt.join("&")),At},Mt.prototype.canonicalizeTileset=function(I,V){for(var q=!!V&&wt(V),ft=[],xt=0,At=I.tiles||[];xt<At.length;xt+=1){var jt=At[xt];Ut(jt)?ft.push(this.canonicalizeTileURL(jt,q)):ft.push(jt)}return ft},Mt.prototype._makeAPIURL=function(I,V){var q="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ft=te(_.API_URL);if(I.protocol=ft.protocol,I.authority=ft.authority,"/"!==ft.path&&(I.path=""+ft.path+I.path),!_.REQUIRE_ACCESS_TOKEN)return _t(I);if(!(V=V||_.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+q);if("s"===V[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+q);return I.params=I.params.filter(function(xt){return-1===xt.indexOf("access_token")}),I.params.push("access_token="+V),_t(I)};var St=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ut(R){return St.test(R)}var Vt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function te(R){var I=R.match(Vt);if(!I)throw new Error("Unable to parse URL object");return{protocol:I[1],authority:I[2],path:I[3]||"/",params:I[4]?I[4].split("&"):[]}}function _t(R){var I=R.params.length?"?"+R.params.join("&"):"";return R.protocol+"://"+R.authority+R.path+I}var kt="mapbox.eventData";function zt(R){if(!R)return null;var I=R.split(".");if(!I||3!==I.length)return null;try{return JSON.parse(function ut(R){return decodeURIComponent(self.atob(R).split("").map(function(I){return"%"+("00"+I.charCodeAt(0).toString(16)).slice(-2)}).join(""))}(I[1]))}catch(q){return null}}var qt=function(I){this.type=I,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};qt.prototype.getStorageKey=function(I){var q,V=zt(_.ACCESS_TOKEN);return q=V&&V.u?function it(R){return self.btoa(encodeURIComponent(R).replace(/%([0-9A-F]{2})/g,function(I,V){return String.fromCharCode(Number("0x"+V))}))}(V.u):_.ACCESS_TOKEN||"",I?kt+"."+I+":"+q:kt+":"+q},qt.prototype.fetchEventData=function(){var I=rt("localStorage"),V=this.getStorageKey(),q=this.getStorageKey("uuid");if(I)try{var ft=self.localStorage.getItem(V);ft&&(this.eventData=JSON.parse(ft));var xt=self.localStorage.getItem(q);xt&&(this.anonId=xt)}catch(At){N("Unable to read from LocalStorage")}},qt.prototype.saveEventData=function(){var I=rt("localStorage"),V=this.getStorageKey(),q=this.getStorageKey("uuid");if(I)try{self.localStorage.setItem(q,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(V,JSON.stringify(this.eventData))}catch(ft){N("Unable to write to LocalStorage")}},qt.prototype.processRequests=function(I){},qt.prototype.postEvent=function(I,V,q,ft){var xt=this;if(_.EVENTS_URL){var At=te(_.EVENTS_URL);At.params.push("access_token="+(ft||_.ACCESS_TOKEN||""));var jt={event:this.type,created:new Date(I).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:E,skuId:Dt,userId:this.anonId},se=V?o(jt,V):jt,ge={url:_t(At),headers:{"Content-Type":"text/plain"},body:JSON.stringify([se])};this.pendingRequest=Te(ge,function(we){xt.pendingRequest=null,q(we),xt.saveEventData(),xt.processRequests(ft)})}},qt.prototype.queueRequest=function(I,V){this.queue.push(I),this.processRequests(V)};var It,pt,ae=function(R){function I(){R.call(this,"map.load"),this.success={},this.skuToken=""}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.postMapLoadEvent=function(q,ft,xt,At){this.skuToken=xt,(_.EVENTS_URL&&At||_.ACCESS_TOKEN&&Array.isArray(q)&&q.some(function(jt){return wt(jt)||Ut(jt)}))&&this.queueRequest({id:ft,timestamp:Date.now()},At)},I.prototype.processRequests=function(q){var ft=this;if(!this.pendingRequest&&0!==this.queue.length){var xt=this.queue.shift(),At=xt.id,jt=xt.timestamp;At&&this.success[At]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=L()),this.postEvent(jt,{skuToken:this.skuToken},function(se){se||At&&(ft.success[At]=!0)},q))}},I}(qt),pe=new(function(R){function I(V){R.call(this,"appUserTurnstile"),this._customAccessToken=V}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.postTurnstileEvent=function(q,ft){_.EVENTS_URL&&_.ACCESS_TOKEN&&Array.isArray(q)&&q.some(function(xt){return wt(xt)||Ut(xt)})&&this.queueRequest(Date.now(),ft)},I.prototype.processRequests=function(q){var ft=this;if(!this.pendingRequest&&0!==this.queue.length){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var xt=zt(_.ACCESS_TOKEN),At=xt?xt.u:_.ACCESS_TOKEN,jt=At!==this.eventData.tokenU;m(this.anonId)||(this.anonId=L(),jt=!0);var se=this.queue.shift();if(this.eventData.lastSuccess){var ge=new Date(this.eventData.lastSuccess),we=new Date(se),Ne=(se-this.eventData.lastSuccess)/864e5;jt=jt||Ne>=1||Ne<-1||ge.getDate()!==we.getDate()}else jt=!0;if(!jt)return this.processRequests();this.postEvent(se,{"enabled.telemetry":!1},function(nr){nr||(ft.eventData.lastSuccess=se,ft.eventData.tokenU=At)},q)}},I}(qt)),ye=pe.postTurnstileEvent.bind(pe),Fe=new ae,Zt=Fe.postMapLoadEvent.bind(Fe),Ct="mapbox-tiles",Et=500,Rt=50;function gt(){self.caches&&!It&&(It=self.caches.open(Ct))}function yt(R,I,V){if(gt(),It){var q={status:I.status,statusText:I.statusText,headers:new self.Headers};I.headers.forEach(function(At,jt){return q.headers.set(jt,At)});var ft=U(I.headers.get("Cache-Control")||"");ft["no-store"]||(ft["max-age"]&&q.headers.set("Expires",new Date(V+1e3*ft["max-age"]).toUTCString()),new Date(q.headers.get("Expires")).getTime()-V<42e4||function vt(R,I){if(void 0===pt)try{new Response(new ReadableStream),pt=!0}catch(V){pt=!1}pt?I(R.body):R.blob().then(I)}(I,function(At){var jt=new self.Response(At,q);gt(),It&&It.then(function(se){return se.put(Yt(R.url),jt)}).catch(function(se){return N(se.message)})}))}}function Yt(R){var I=R.indexOf("?");return I<0?R:R.slice(0,I)}function Qt(R,I){if(gt(),!It)return I(null);var V=Yt(R.url);It.then(function(q){q.match(V).then(function(ft){var xt=function le(R){if(!R)return!1;var I=new Date(R.headers.get("Expires")||0),V=U(R.headers.get("Cache-Control")||"");return I>Date.now()&&!V["no-cache"]}(ft);q.delete(V),xt&&q.put(V,ft.clone()),I(null,ft,xt)}).catch(I)}).catch(I)}var Ze,he=1/0;function Lr(){return null==Ze&&(Ze=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof self.createImageBitmap),Ze}var fe={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(fe);var Ve=function(R){function I(V,q,ft){401===q&&Ut(ft)&&(V+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),R.call(this,V),this.status=q,this.url=ft,this.name=this.constructor.name,this.message=V}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},I}(Error),He=z()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function ar(R,I){var V=new self.AbortController,q=new self.Request(R.url,{method:R.method||"GET",body:R.body,credentials:R.credentials,headers:R.headers,referrer:He(),signal:V.signal}),ft=!1,xt=!1,At=function Gt(R){return R.indexOf("sku=")>0&&Ut(R)}(q.url);"json"===R.type&&q.headers.set("Accept","application/json");var jt=function(ge,we,Ne){if(!xt){if(ge&&"SecurityError"!==ge.message&&N(ge),we&&Ne)return se(we);var nr=Date.now();self.fetch(q).then(function(_e){if(_e.ok){var xr=At?_e.clone():null;return se(_e,xr,nr)}return I(new Ve(_e.statusText,_e.status,R.url))}).catch(function(_e){20!==_e.code&&I(new Error(_e.message))})}},se=function(ge,we,Ne){("arrayBuffer"===R.type?ge.arrayBuffer():"json"===R.type?ge.json():ge.text()).then(function(nr){xt||(we&&Ne&&yt(q,we,Ne),ft=!0,I(null,nr,ge.headers.get("Cache-Control"),ge.headers.get("Expires")))}).catch(function(nr){xt||I(new Error(nr.message))})};return At?Qt(q,jt):jt(null,null),{cancel:function(){xt=!0,ft||V.abort()}}}var ne=function(R,I){if(!function(R){return/^file:/.test(R)||/^file:/.test(He())&&!/^\w+:/.test(R)}(R.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return ar(R,I);if(z()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",R,I,void 0,!0)}return function ie(R,I){var V=new self.XMLHttpRequest;for(var q in V.open(R.method||"GET",R.url,!0),"arrayBuffer"===R.type&&(V.responseType="arraybuffer"),R.headers)V.setRequestHeader(q,R.headers[q]);return"json"===R.type&&(V.responseType="text",V.setRequestHeader("Accept","application/json")),V.withCredentials="include"===R.credentials,V.onerror=function(){I(new Error(V.statusText))},V.onload=function(){if((V.status>=200&&V.status<300||0===V.status)&&null!==V.response){var ft=V.response;if("json"===R.type)try{ft=JSON.parse(V.response)}catch(xt){return I(xt)}I(null,ft,V.getResponseHeader("Cache-Control"),V.getResponseHeader("Expires"))}else I(new Ve(V.statusText,V.status,R.url))},V.send(R.body),{cancel:function(){return V.abort()}}}(R,I)},xe=function(R,I){return ne(o(R,{type:"arrayBuffer"}),I)},Te=function(R,I){return ne(o(R,{method:"POST"}),I)};function be(R){var I=self.document.createElement("a");return I.href=R,I.protocol===self.document.location.protocol&&I.host===self.document.location.host}var Ke,tr;Ke=[],tr=0;var Ht=function(R,I){if(K.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),tr>=_.MAX_PARALLEL_IMAGE_REQUESTS){var V={requestParameters:R,callback:I,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ke.push(V),V}tr++;var q=!1,ft=function(){if(!q)for(q=!0,tr--;Ke.length&&tr<_.MAX_PARALLEL_IMAGE_REQUESTS;){var At=Ke.shift();At.cancelled||(At.cancel=Ht(At.requestParameters,At.callback).cancel)}},xt=xe(R,function(At,jt,se,ge){ft(),At?I(At):jt&&(Lr()?function Qe(R,I){var V=new self.Blob([new Uint8Array(R)],{type:"image/png"});self.createImageBitmap(V).then(function(q){I(null,q)}).catch(function(q){I(new Error("Could not load image because of "+q.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(jt,I):function Be(R,I,V,q){var ft=new self.Image,xt=self.URL;ft.onload=function(){I(null,ft),xt.revokeObjectURL(ft.src)},ft.onerror=function(){return I(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var At=new self.Blob([new Uint8Array(R)],{type:"image/png"});ft.cacheControl=V,ft.expires=q,ft.src=R.byteLength?xt.createObjectURL(At):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(jt,I,se,ge))});return{cancel:function(){xt.cancel(),ft()}}};function Se(R,I,V){V[R]&&-1!==V[R].indexOf(I)||(V[R]=V[R]||[],V[R].push(I))}function Le(R,I,V){if(V&&V[R]){var q=V[R].indexOf(I);-1!==q&&V[R].splice(q,1)}}var We=function(I,V){void 0===V&&(V={}),o(this,V),this.type=I},rr=function(R){function I(V,q){void 0===q&&(q={}),R.call(this,"error",o({error:V},q))}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I}(We),or=function(){};or.prototype.on=function(I,V){return this._listeners=this._listeners||{},Se(I,V,this._listeners),this},or.prototype.off=function(I,V){return Le(I,V,this._listeners),Le(I,V,this._oneTimeListeners),this},or.prototype.once=function(I,V){return this._oneTimeListeners=this._oneTimeListeners||{},Se(I,V,this._oneTimeListeners),this},or.prototype.fire=function(I,V){"string"==typeof I&&(I=new We(I,V||{}));var q=I.type;if(this.listens(q)){I.target=this;for(var xt=0,At=this._listeners&&this._listeners[q]?this._listeners[q].slice():[];xt<At.length;xt+=1)At[xt].call(this,I);for(var ge=0,we=this._oneTimeListeners&&this._oneTimeListeners[q]?this._oneTimeListeners[q].slice():[];ge<we.length;ge+=1){var Ne=we[ge];Le(q,Ne,this._oneTimeListeners),Ne.call(this,I)}var nr=this._eventedParent;nr&&(o(I,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),nr.fire(I))}else I instanceof rr&&console.error(I.error);return this},or.prototype.listens=function(I){return this._listeners&&this._listeners[I]&&this._listeners[I].length>0||this._oneTimeListeners&&this._oneTimeListeners[I]&&this._oneTimeListeners[I].length>0||this._eventedParent&&this._eventedParent.listens(I)},or.prototype.setEventedParent=function(I,V){return this._eventedParent=I,this._eventedParentData=V,this};var Xe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},br=function(I,V,q,ft){this.message=(I?I+": ":"")+q,ft&&(this.identifier=ft),null!=V&&V.__line__&&(this.line=V.__line__)};function en(R){var V=R.value;return V?[new br(R.key,V,"constants have been deprecated as of v8")]:[]}function vn(R){for(var I=[],V=arguments.length-1;V-- >0;)I[V]=arguments[V+1];for(var q=0,ft=I;q<ft.length;q+=1){var xt=ft[q];for(var At in xt)R[At]=xt[At]}return R}function un(R){return R instanceof Number||R instanceof String||R instanceof Boolean?R.valueOf():R}function Sn(R){if(Array.isArray(R))return R.map(Sn);if(R instanceof Object&&!(R instanceof Number||R instanceof String||R instanceof Boolean)){var I={};for(var V in R)I[V]=Sn(R[V]);return I}return un(R)}var mn=function(R){function I(V,q){R.call(this,q),this.message=q,this.key=V}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I}(Error),cn=function(I,V){void 0===V&&(V=[]),this.parent=I,this.bindings={};for(var q=0,ft=V;q<ft.length;q+=1){var xt=ft[q];this.bindings[xt[0]]=xt[1]}};cn.prototype.concat=function(I){return new cn(this,I)},cn.prototype.get=function(I){if(this.bindings[I])return this.bindings[I];if(this.parent)return this.parent.get(I);throw new Error(I+" not found in scope.")},cn.prototype.has=function(I){return!!this.bindings[I]||!!this.parent&&this.parent.has(I)};var Cr={kind:"null"},Mr={kind:"number"},Ge={kind:"string"},Dr={kind:"boolean"},Ue={kind:"color"},Ye={kind:"object"},ir={kind:"value"},gn={kind:"collator"},Zn={kind:"formatted"},ta={kind:"resolvedImage"};function Xn(R,I){return{kind:"array",itemType:R,N:I}}function ha(R){if("array"===R.kind){var I=ha(R.itemType);return"number"==typeof R.N?"array<"+I+", "+R.N+">":"value"===R.itemType.kind?"array":"array<"+I+">"}return R.kind}var Si=[Cr,Mr,Ge,Dr,Ue,Zn,Ye,Xn(ir),ta];function qi(R,I){if("error"===I.kind)return null;if("array"===R.kind){if("array"===I.kind&&(0===I.N&&"value"===I.itemType.kind||!qi(R.itemType,I.itemType))&&("number"!=typeof R.N||R.N===I.N))return null}else{if(R.kind===I.kind)return null;if("value"===R.kind)for(var V=0,q=Si;V<q.length;V+=1)if(!qi(q[V],I))return null}return"Expected "+ha(R)+" but found "+ha(I)+" instead."}function to(R,I){return I.some(function(V){return V.kind===R.kind})}function eo(R,I){return I.some(function(V){return"null"===V?null===R:"array"===V?Array.isArray(R):"object"===V?R&&!Array.isArray(R)&&"object"==typeof R:V===typeof R})}var co=P(function(R,I){var V={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function q(ge){return(ge=Math.round(ge))<0?0:ge>255?255:ge}function xt(ge){return q("%"===ge[ge.length-1]?parseFloat(ge)/100*255:parseInt(ge))}function At(ge){return function ft(ge){return ge<0?0:ge>1?1:ge}("%"===ge[ge.length-1]?parseFloat(ge)/100:parseFloat(ge))}function jt(ge,we,Ne){return Ne<0?Ne+=1:Ne>1&&(Ne-=1),6*Ne<1?ge+(we-ge)*Ne*6:2*Ne<1?we:3*Ne<2?ge+(we-ge)*(2/3-Ne)*6:ge}try{I.parseCSSColor=function se(ge){var Ne,we=ge.replace(/ /g,"").toLowerCase();if(we in V)return V[we].slice();if("#"===we[0])return 4===we.length?(Ne=parseInt(we.substr(1),16))>=0&&Ne<=4095?[(3840&Ne)>>4|(3840&Ne)>>8,240&Ne|(240&Ne)>>4,15&Ne|(15&Ne)<<4,1]:null:7===we.length&&(Ne=parseInt(we.substr(1),16))>=0&&Ne<=16777215?[(16711680&Ne)>>16,(65280&Ne)>>8,255&Ne,1]:null;var nr=we.indexOf("("),_e=we.indexOf(")");if(-1!==nr&&_e+1===we.length){var xr=we.substr(0,nr),Nr=we.substr(nr+1,_e-(nr+1)).split(","),on=1;switch(xr){case"rgba":if(4!==Nr.length)return null;on=At(Nr.pop());case"rgb":return 3!==Nr.length?null:[xt(Nr[0]),xt(Nr[1]),xt(Nr[2]),on];case"hsla":if(4!==Nr.length)return null;on=At(Nr.pop());case"hsl":if(3!==Nr.length)return null;var $r=(parseFloat(Nr[0])%360+360)%360/360,Tn=At(Nr[1]),yn=At(Nr[2]),wn=yn<=.5?yn*(Tn+1):yn+Tn-yn*Tn,Dn=2*yn-wn;return[q(255*jt(Dn,wn,$r+1/3)),q(255*jt(Dn,wn,$r)),q(255*jt(Dn,wn,$r-1/3)),on];default:return null}}return null}}catch(ge){}}).parseCSSColor,Ga=function(I,V,q,ft){void 0===ft&&(ft=1),this.r=I,this.g=V,this.b=q,this.a=ft};Ga.parse=function(I){if(I){if(I instanceof Ga)return I;if("string"==typeof I){var V=co(I);if(V)return new Ga(V[0]/255*V[3],V[1]/255*V[3],V[2]/255*V[3],V[3])}}},Ga.prototype.toString=function(){var I=this.toArray(),q=I[1],ft=I[2],xt=I[3];return"rgba("+Math.round(I[0])+","+Math.round(q)+","+Math.round(ft)+","+xt+")"},Ga.prototype.toArray=function(){var I=this,xt=I.a;return 0===xt?[0,0,0,0]:[255*I.r/xt,255*I.g/xt,255*I.b/xt,xt]},Ga.black=new Ga(0,0,0,1),Ga.white=new Ga(1,1,1,1),Ga.transparent=new Ga(0,0,0,0),Ga.red=new Ga(1,0,0,1);var Yo=function(I,V,q){this.sensitivity=I?V?"variant":"case":V?"accent":"base",this.locale=q,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Yo.prototype.compare=function(I,V){return this.collator.compare(I,V)},Yo.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Sl=function(I,V,q,ft,xt){this.text=I,this.image=V,this.scale=q,this.fontStack=ft,this.textColor=xt},Ei=function(I){this.sections=I};Ei.fromString=function(I){return new Ei([new Sl(I,null,null,null,null)])},Ei.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(I){return 0!==I.text.length||I.image&&0!==I.image.name.length})},Ei.factory=function(I){return I instanceof Ei?I:Ei.fromString(I)},Ei.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(I){return I.text}).join("")},Ei.prototype.serialize=function(){for(var I=["format"],V=0,q=this.sections;V<q.length;V+=1){var ft=q[V];if(ft.image)I.push(["image",ft.image.name]);else{I.push(ft.text);var xt={};ft.fontStack&&(xt["text-font"]=["literal",ft.fontStack.split(",")]),ft.scale&&(xt["font-scale"]=ft.scale),ft.textColor&&(xt["text-color"]=["rgba"].concat(ft.textColor.toArray())),I.push(xt)}}return I};var ro=function(I){this.name=I.name,this.available=I.available};function qs(R,I,V,q){return"number"==typeof R&&R>=0&&R<=255&&"number"==typeof I&&I>=0&&I<=255&&"number"==typeof V&&V>=0&&V<=255?void 0===q||"number"==typeof q&&q>=0&&q<=1?null:"Invalid rgba value ["+[R,I,V,q].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof q?[R,I,V,q]:[R,I,V]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function El(R){if(null===R)return!0;if("string"==typeof R)return!0;if("boolean"==typeof R)return!0;if("number"==typeof R)return!0;if(R instanceof Ga)return!0;if(R instanceof Yo)return!0;if(R instanceof Ei)return!0;if(R instanceof ro)return!0;if(Array.isArray(R)){for(var I=0,V=R;I<V.length;I+=1)if(!El(V[I]))return!1;return!0}if("object"==typeof R){for(var ft in R)if(!El(R[ft]))return!1;return!0}return!1}function Ci(R){if(null===R)return Cr;if("string"==typeof R)return Ge;if("boolean"==typeof R)return Dr;if("number"==typeof R)return Mr;if(R instanceof Ga)return Ue;if(R instanceof Yo)return gn;if(R instanceof Ei)return Zn;if(R instanceof ro)return ta;if(Array.isArray(R)){for(var V,I=R.length,q=0,ft=R;q<ft.length;q+=1){var At=Ci(ft[q]);if(V){if(V===At)continue;V=ir;break}V=At}return Xn(V||ir,I)}return Ye}function tl(R){var I=typeof R;return null===R?"":"string"===I||"number"===I||"boolean"===I?String(R):R instanceof Ga||R instanceof Ei||R instanceof ro?R.toString():JSON.stringify(R)}ro.prototype.toString=function(){return this.name},ro.fromString=function(I){return I?new ro({name:I,available:!1}):null},ro.prototype.serialize=function(){return["image",this.name]};var ho=function(I,V){this.type=I,this.value=V};ho.parse=function(I,V){if(2!==I.length)return V.error("'literal' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(!El(I[1]))return V.error("invalid value");var q=I[1],ft=Ci(q),xt=V.expectedType;return"array"===ft.kind&&0===ft.N&&xt&&"array"===xt.kind&&("number"!=typeof xt.N||0===xt.N)&&(ft=xt),new ho(ft,q)},ho.prototype.evaluate=function(){return this.value},ho.prototype.eachChild=function(){},ho.prototype.outputDefined=function(){return!0},ho.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Ga?["rgba"].concat(this.value.toArray()):this.value instanceof Ei?this.value.serialize():this.value};var bi=function(I){this.name="ExpressionEvaluationError",this.message=I};bi.prototype.toJSON=function(){return this.message};var $l={string:Ge,number:Mr,boolean:Dr,object:Ye},Ii=function(I,V){this.type=I,this.args=V};Ii.parse=function(I,V){if(I.length<2)return V.error("Expected at least one argument.");var ft,q=1,xt=I[0];if("array"===xt){var At,se;if(I.length>2){var jt=I[1];if("string"!=typeof jt||!(jt in $l)||"object"===jt)return V.error('The item type argument of "array" must be one of string, number, boolean',1);At=$l[jt],q++}else At=ir;if(I.length>3){if(null!==I[2]&&("number"!=typeof I[2]||I[2]<0||I[2]!==Math.floor(I[2])))return V.error('The length argument to "array" must be a positive integer literal',2);se=I[2],q++}ft=Xn(At,se)}else ft=$l[xt];for(var ge=[];q<I.length;q++){var we=V.parse(I[q],q,ir);if(!we)return null;ge.push(we)}return new Ii(ft,ge)},Ii.prototype.evaluate=function(I){for(var V=0;V<this.args.length;V++){var q=this.args[V].evaluate(I);if(!qi(this.type,Ci(q)))return q;if(V===this.args.length-1)throw new bi("Expected value to be of type "+ha(this.type)+", but found "+ha(Ci(q))+" instead.")}return null},Ii.prototype.eachChild=function(I){this.args.forEach(I)},Ii.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},Ii.prototype.serialize=function(){var I=this.type,V=[I.kind];if("array"===I.kind){var q=I.itemType;if("string"===q.kind||"number"===q.kind||"boolean"===q.kind){V.push(q.kind);var ft=I.N;("number"==typeof ft||this.args.length>1)&&V.push(ft)}}return V.concat(this.args.map(function(xt){return xt.serialize()}))};var Ro=function(I){this.type=Zn,this.sections=I};Ro.parse=function(I,V){if(I.length<2)return V.error("Expected at least one argument.");var q=I[1];if(!Array.isArray(q)&&"object"==typeof q)return V.error("First argument must be an image or text section.");for(var ft=[],xt=!1,At=1;At<=I.length-1;++At){var jt=I[At];if(xt&&"object"==typeof jt&&!Array.isArray(jt)){xt=!1;var se=null;if(jt["font-scale"]&&!(se=V.parse(jt["font-scale"],1,Mr)))return null;var ge=null;if(jt["text-font"]&&!(ge=V.parse(jt["text-font"],1,Xn(Ge))))return null;var we=null;if(jt["text-color"]&&!(we=V.parse(jt["text-color"],1,Ue)))return null;var Ne=ft[ft.length-1];Ne.scale=se,Ne.font=ge,Ne.textColor=we}else{var nr=V.parse(I[At],1,ir);if(!nr)return null;var _e=nr.type.kind;if("string"!==_e&&"value"!==_e&&"null"!==_e&&"resolvedImage"!==_e)return V.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");xt=!0,ft.push({content:nr,scale:null,font:null,textColor:null})}}return new Ro(ft)},Ro.prototype.evaluate=function(I){return new Ei(this.sections.map(function(q){var ft=q.content.evaluate(I);return Ci(ft)===ta?new Sl("",ft,null,null,null):new Sl(tl(ft),null,q.scale?q.scale.evaluate(I):null,q.font?q.font.evaluate(I).join(","):null,q.textColor?q.textColor.evaluate(I):null)}))},Ro.prototype.eachChild=function(I){for(var V=0,q=this.sections;V<q.length;V+=1){var ft=q[V];I(ft.content),ft.scale&&I(ft.scale),ft.font&&I(ft.font),ft.textColor&&I(ft.textColor)}},Ro.prototype.outputDefined=function(){return!1},Ro.prototype.serialize=function(){for(var I=["format"],V=0,q=this.sections;V<q.length;V+=1){var ft=q[V];I.push(ft.content.serialize());var xt={};ft.scale&&(xt["font-scale"]=ft.scale.serialize()),ft.font&&(xt["text-font"]=ft.font.serialize()),ft.textColor&&(xt["text-color"]=ft.textColor.serialize()),I.push(xt)}return I};var Ui=function(I){this.type=ta,this.input=I};Ui.parse=function(I,V){if(2!==I.length)return V.error("Expected two arguments.");var q=V.parse(I[1],1,Ge);return q?new Ui(q):V.error("No image name provided.")},Ui.prototype.evaluate=function(I){var V=this.input.evaluate(I),q=ro.fromString(V);return q&&I.availableImages&&(q.available=I.availableImages.indexOf(V)>-1),q},Ui.prototype.eachChild=function(I){I(this.input)},Ui.prototype.outputDefined=function(){return!1},Ui.prototype.serialize=function(){return["image",this.input.serialize()]};var Su={"to-boolean":Dr,"to-color":Ue,"to-number":Mr,"to-string":Ge},Xi=function(I,V){this.type=I,this.args=V};Xi.parse=function(I,V){if(I.length<2)return V.error("Expected at least one argument.");var q=I[0];if(("to-boolean"===q||"to-string"===q)&&2!==I.length)return V.error("Expected one argument.");for(var ft=Su[q],xt=[],At=1;At<I.length;At++){var jt=V.parse(I[At],At,ir);if(!jt)return null;xt.push(jt)}return new Xi(ft,xt)},Xi.prototype.evaluate=function(I){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(I));if("color"===this.type.kind){for(var V,q,ft=0,xt=this.args;ft<xt.length;ft+=1){if(q=null,(V=xt[ft].evaluate(I))instanceof Ga)return V;if("string"==typeof V){var jt=I.parseColor(V);if(jt)return jt}else if(Array.isArray(V)&&!(q=V.length<3||V.length>4?"Invalid rbga value "+JSON.stringify(V)+": expected an array containing either three or four numeric values.":qs(V[0],V[1],V[2],V[3])))return new Ga(V[0]/255,V[1]/255,V[2]/255,V[3])}throw new bi(q||"Could not parse color from value '"+("string"==typeof V?V:String(JSON.stringify(V)))+"'")}if("number"===this.type.kind){for(var se=null,ge=0,we=this.args;ge<we.length;ge+=1){if(null===(se=we[ge].evaluate(I)))return 0;var nr=Number(se);if(!isNaN(nr))return nr}throw new bi("Could not convert "+JSON.stringify(se)+" to number.")}return"formatted"===this.type.kind?Ei.fromString(tl(this.args[0].evaluate(I))):"resolvedImage"===this.type.kind?ro.fromString(tl(this.args[0].evaluate(I))):tl(this.args[0].evaluate(I))},Xi.prototype.eachChild=function(I){this.args.forEach(I)},Xi.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},Xi.prototype.serialize=function(){if("formatted"===this.type.kind)return new Ro([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Ui(this.args[0]).serialize();var I=["to-"+this.type.kind];return this.eachChild(function(V){I.push(V.serialize())}),I};var el=["Unknown","Point","LineString","Polygon"],no=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};no.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},no.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?el[this.feature.type]:this.feature.type:null},no.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},no.prototype.canonicalID=function(){return this.canonical},no.prototype.properties=function(){return this.feature&&this.feature.properties||{}},no.prototype.parseColor=function(I){var V=this._parseColorCache[I];return V||(V=this._parseColorCache[I]=Ga.parse(I)),V};var wi=function(I,V,q,ft){this.name=I,this.type=V,this._evaluate=q,this.args=ft};wi.prototype.evaluate=function(I){return this._evaluate(I,this.args)},wi.prototype.eachChild=function(I){this.args.forEach(I)},wi.prototype.outputDefined=function(){return!1},wi.prototype.serialize=function(){return[this.name].concat(this.args.map(function(I){return I.serialize()}))},wi.parse=function(I,V){var q,ft=I[0],xt=wi.definitions[ft];if(!xt)return V.error('Unknown expression "'+ft+'". If you wanted a literal array, use ["literal", [...]].',0);for(var At=Array.isArray(xt)?xt[0]:xt.type,jt=Array.isArray(xt)?[[xt[1],xt[2]]]:xt.overloads,se=jt.filter(function(ga){var ba=ga[0];return!Array.isArray(ba)||ba.length===I.length-1}),ge=null,we=0,Ne=se;we<Ne.length;we+=1){var nr=Ne[we],_e=nr[0],xr=nr[1];ge=new is(V.registry,V.path,null,V.scope);for(var Nr=[],on=!1,$r=1;$r<I.length;$r++){var Tn=I[$r],yn=Array.isArray(_e)?_e[$r-1]:_e.type,wn=ge.parse(Tn,1+Nr.length,yn);if(!wn){on=!0;break}Nr.push(wn)}if(!on){if(Array.isArray(_e)&&_e.length!==Nr.length){ge.error("Expected "+_e.length+" arguments, but found "+Nr.length+" instead.");continue}for(var Dn=0;Dn<Nr.length;Dn++){var zn=Array.isArray(_e)?_e[Dn]:_e.type,Yn=Nr[Dn];ge.concat(Dn+1).checkSubtype(zn,Yn.type)}if(0===ge.errors.length)return new wi(ft,At,xr,Nr)}}if(1===se.length)(q=V.errors).push.apply(q,ge.errors);else{for(var wa=(se.length?se:jt).map(function(ga){return function Eu(R){return Array.isArray(R)?"("+R.map(ha).join(", ")+")":"("+ha(R.type)+"...)"}(ga[0])}).join(" | "),la=[],ca=1;ca<I.length;ca++){var Ia=V.parse(I[ca],1+la.length);if(!Ia)return null;la.push(ha(Ia.type))}V.error("Expected arguments of type "+wa+", but found ("+la.join(", ")+") instead.")}return null},wi.register=function(I,V){for(var q in wi.definitions=V,V)I[q]=wi};var Io=function(I,V,q){this.type=gn,this.locale=q,this.caseSensitive=I,this.diacriticSensitive=V};Io.parse=function(I,V){if(2!==I.length)return V.error("Expected one argument.");var q=I[1];if("object"!=typeof q||Array.isArray(q))return V.error("Collator options argument must be an object.");var ft=V.parse(void 0!==q["case-sensitive"]&&q["case-sensitive"],1,Dr);if(!ft)return null;var xt=V.parse(void 0!==q["diacritic-sensitive"]&&q["diacritic-sensitive"],1,Dr);if(!xt)return null;var At=null;return q.locale&&!(At=V.parse(q.locale,1,Ge))?null:new Io(ft,xt,At)},Io.prototype.evaluate=function(I){return new Yo(this.caseSensitive.evaluate(I),this.diacriticSensitive.evaluate(I),this.locale?this.locale.evaluate(I):null)},Io.prototype.eachChild=function(I){I(this.caseSensitive),I(this.diacriticSensitive),this.locale&&I(this.locale)},Io.prototype.outputDefined=function(){return!1},Io.prototype.serialize=function(){var I={};return I["case-sensitive"]=this.caseSensitive.serialize(),I["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(I.locale=this.locale.serialize()),["collator",I]};var rs=8192;function Cl(R,I){R[0]=Math.min(R[0],I[0]),R[1]=Math.min(R[1],I[1]),R[2]=Math.max(R[2],I[0]),R[3]=Math.max(R[3],I[1])}function Pl(R,I){return!(R[0]<=I[0]||R[2]>=I[2]||R[1]<=I[1]||R[3]>=I[3])}function Lu(R,I){var V=function Cu(R){return(180+R)/360}(R[0]),q=function Ll(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}(R[1]),ft=Math.pow(2,I.z);return[Math.round(V*ft*rs),Math.round(q*ft*rs)]}function af(R,I,V){var q=R[0]-I[0],ft=R[1]-I[1],xt=R[0]-V[0],At=R[1]-V[1];return q*At-xt*ft==0&&q*xt<=0&&ft*At<=0}function of(R,I,V){return I[1]>R[1]!=V[1]>R[1]&&R[0]<(V[0]-I[0])*(R[1]-I[1])/(V[1]-I[1])+I[0]}function _l(R,I){for(var V=!1,q=0,ft=I.length;q<ft;q++)for(var xt=I[q],At=0,jt=xt.length;At<jt-1;At++){if(af(R,xt[At],xt[At+1]))return!1;of(R,xt[At],xt[At+1])&&(V=!V)}return V}function sf(R,I){for(var V=0;V<I.length;V++)if(_l(R,I[V]))return!0;return!1}function Pu(R,I,V,q){var se=q[0]-V[0],ge=q[1]-V[1],we=(R[0]-V[0])*ge-se*(R[1]-V[1]),Ne=(I[0]-V[0])*ge-se*(I[1]-V[1]);return we>0&&Ne<0||we<0&&Ne>0}function uf(R,I,V,q){return 0!==function lf(R,I){return R[0]*I[1]-R[1]*I[0]}([q[0]-V[0],q[1]-V[1]],[I[0]-R[0],I[1]-R[1]])&&!(!Pu(R,I,V,q)||!Pu(V,q,R,I))}function ff(R,I,V){for(var q=0,ft=V;q<ft.length;q+=1)for(var xt=ft[q],At=0;At<xt.length-1;++At)if(uf(R,I,xt[At],xt[At+1]))return!0;return!1}function Du(R,I){for(var V=0;V<R.length;++V)if(!_l(R[V],I))return!1;for(var q=0;q<R.length-1;++q)if(ff(R[q],R[q+1],I))return!1;return!0}function cf(R,I){for(var V=0;V<I.length;V++)if(Du(R,I[V]))return!0;return!1}function ns(R,I,V){for(var q=[],ft=0;ft<R.length;ft++){for(var xt=[],At=0;At<R[ft].length;At++){var jt=Lu(R[ft][At],V);Cl(I,jt),xt.push(jt)}q.push(xt)}return q}function ks(R,I,V){for(var q=[],ft=0;ft<R.length;ft++){var xt=ns(R[ft],I,V);q.push(xt)}return q}function zs(R,I,V,q){if(R[0]<V[0]||R[0]>V[2]){var ft=.5*q,xt=R[0]-V[0]>ft?-q:V[0]-R[0]>ft?q:0;0===xt&&(xt=R[0]-V[2]>ft?-q:V[2]-R[0]>ft?q:0),R[0]+=xt}Cl(I,R)}function ql(R,I,V,q){for(var ft=Math.pow(2,q.z)*rs,xt=[q.x*rs,q.y*rs],At=[],jt=0,se=R;jt<se.length;jt+=1)for(var we=0,Ne=se[jt];we<Ne.length;we+=1){var nr=Ne[we],_e=[nr.x+xt[0],nr.y+xt[1]];zs(_e,I,V,ft),At.push(_e)}return At}function Rl(R,I,V,q){for(var ft=Math.pow(2,q.z)*rs,xt=[q.x*rs,q.y*rs],At=[],jt=0,se=R;jt<se.length;jt+=1){for(var we=[],Ne=0,nr=se[jt];Ne<nr.length;Ne+=1){var _e=nr[Ne],xr=[_e.x+xt[0],_e.y+xt[1]];Cl(I,xr),we.push(xr)}At.push(we)}if(I[2]-I[0]<=ft/2){!function Dl(R){R[0]=R[1]=1/0,R[2]=R[3]=-1/0}(I);for(var Nr=0,on=At;Nr<on.length;Nr+=1)for(var Tn=0,yn=on[Nr];Tn<yn.length;Tn+=1)zs(yn[Tn],I,V,ft)}return At}var xo=function(I,V){this.type=Dr,this.geojson=I,this.geometries=V};function rl(R){if(R instanceof wi){if("get"===R.name&&1===R.args.length)return!1;if("feature-state"===R.name)return!1;if("has"===R.name&&1===R.args.length)return!1;if("properties"===R.name||"geometry-type"===R.name||"id"===R.name)return!1;if(/^filter-/.test(R.name))return!1}if(R instanceof xo)return!1;var I=!0;return R.eachChild(function(V){I&&!rl(V)&&(I=!1)}),I}function ms(R){if(R instanceof wi&&"feature-state"===R.name)return!1;var I=!0;return R.eachChild(function(V){I&&!ms(V)&&(I=!1)}),I}function Il(R,I){if(R instanceof wi&&I.indexOf(R.name)>=0)return!1;var V=!0;return R.eachChild(function(q){V&&!Il(q,I)&&(V=!1)}),V}xo.parse=function(I,V){if(2!==I.length)return V.error("'within' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(El(I[1])){var q=I[1];if("FeatureCollection"===q.type)for(var ft=0;ft<q.features.length;++ft){var xt=q.features[ft].geometry.type;if("Polygon"===xt||"MultiPolygon"===xt)return new xo(q,q.features[ft].geometry)}else if("Feature"===q.type){var At=q.geometry.type;if("Polygon"===At||"MultiPolygon"===At)return new xo(q,q.geometry)}else if("Polygon"===q.type||"MultiPolygon"===q.type)return new xo(q,q)}return V.error("'within' expression requires valid geojson object that contains polygon geometry type.")},xo.prototype.evaluate=function(I){if(null!=I.geometry()&&null!=I.canonicalID()){if("Point"===I.geometryType())return function hf(R,I){var V=[1/0,1/0,-1/0,-1/0],q=[1/0,1/0,-1/0,-1/0],ft=R.canonicalID();if("Polygon"===I.type){var xt=ns(I.coordinates,q,ft),At=ql(R.geometry(),V,q,ft);if(!Pl(V,q))return!1;for(var jt=0,se=At;jt<se.length;jt+=1)if(!_l(se[jt],xt))return!1}if("MultiPolygon"===I.type){var we=ks(I.coordinates,q,ft),Ne=ql(R.geometry(),V,q,ft);if(!Pl(V,q))return!1;for(var nr=0,_e=Ne;nr<_e.length;nr+=1)if(!sf(_e[nr],we))return!1}return!0}(I,this.geometries);if("LineString"===I.geometryType())return function as(R,I){var V=[1/0,1/0,-1/0,-1/0],q=[1/0,1/0,-1/0,-1/0],ft=R.canonicalID();if("Polygon"===I.type){var xt=ns(I.coordinates,q,ft),At=Rl(R.geometry(),V,q,ft);if(!Pl(V,q))return!1;for(var jt=0,se=At;jt<se.length;jt+=1)if(!Du(se[jt],xt))return!1}if("MultiPolygon"===I.type){var we=ks(I.coordinates,q,ft),Ne=Rl(R.geometry(),V,q,ft);if(!Pl(V,q))return!1;for(var nr=0,_e=Ne;nr<_e.length;nr+=1)if(!cf(_e[nr],we))return!1}return!0}(I,this.geometries)}return!1},xo.prototype.eachChild=function(){},xo.prototype.outputDefined=function(){return!0},xo.prototype.serialize=function(){return["within",this.geojson]};var lo=function(I,V){this.type=V.type,this.name=I,this.boundExpression=V};lo.parse=function(I,V){if(2!==I.length||"string"!=typeof I[1])return V.error("'var' expression requires exactly one string literal argument.");var q=I[1];return V.scope.has(q)?new lo(q,V.scope.get(q)):V.error('Unknown variable "'+q+'". Make sure "'+q+'" has been bound in an enclosing "let" expression before using it.',1)},lo.prototype.evaluate=function(I){return this.boundExpression.evaluate(I)},lo.prototype.eachChild=function(){},lo.prototype.outputDefined=function(){return!1},lo.prototype.serialize=function(){return["var",this.name]};var is=function(I,V,q,ft,xt){void 0===V&&(V=[]),void 0===ft&&(ft=new cn),void 0===xt&&(xt=[]),this.registry=I,this.path=V,this.key=V.map(function(At){return"["+At+"]"}).join(""),this.scope=ft,this.errors=xt,this.expectedType=q};function tu(R){if(R instanceof lo)return tu(R.boundExpression);if(R instanceof wi&&"error"===R.name)return!1;if(R instanceof Io)return!1;if(R instanceof xo)return!1;var I=R instanceof Xi||R instanceof Ii,V=!0;return R.eachChild(function(q){V=I?V&&tu(q):V&&q instanceof ho}),!!V&&rl(R)&&Il(R,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Fl(R,I){for(var At,V=R.length-1,q=0,ft=V,xt=0;q<=ft;)if((At=R[xt=Math.floor((q+ft)/2)])<=I){if(xt===V||I<R[xt+1])return xt;q=xt+1}else{if(!(At>I))throw new bi("Input is not a number.");ft=xt-1}return 0}is.prototype.parse=function(I,V,q,ft,xt){return void 0===xt&&(xt={}),V?this.concat(V,q,ft)._parse(I,xt):this._parse(I,xt)},is.prototype._parse=function(I,V){function q(we,Ne,nr){return"assert"===nr?new Ii(Ne,[we]):"coerce"===nr?new Xi(Ne,[we]):we}if((null===I||"string"==typeof I||"boolean"==typeof I||"number"==typeof I)&&(I=["literal",I]),Array.isArray(I)){if(0===I.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ft=I[0];if("string"!=typeof ft)return this.error("Expression name must be a string, but found "+typeof ft+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var xt=this.registry[ft];if(xt){var At=xt.parse(I,this);if(!At)return null;if(this.expectedType){var jt=this.expectedType,se=At.type;if("string"!==jt.kind&&"number"!==jt.kind&&"boolean"!==jt.kind&&"object"!==jt.kind&&"array"!==jt.kind||"value"!==se.kind)if("color"!==jt.kind&&"formatted"!==jt.kind&&"resolvedImage"!==jt.kind||"value"!==se.kind&&"string"!==se.kind){if(this.checkSubtype(jt,se))return null}else At=q(At,jt,V.typeAnnotation||"coerce");else At=q(At,jt,V.typeAnnotation||"assert")}if(!(At instanceof ho)&&"resolvedImage"!==At.type.kind&&tu(At)){var ge=new no;try{At=new ho(At.type,At.evaluate(ge))}catch(we){return this.error(we.message),null}}return At}return this.error('Unknown expression "'+ft+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===I?"'undefined' value invalid. Use null instead.":"object"==typeof I?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof I+" instead.")},is.prototype.concat=function(I,V,q){var ft="number"==typeof I?this.path.concat(I):this.path,xt=q?this.scope.concat(q):this.scope;return new is(this.registry,ft,V||null,xt,this.errors)},is.prototype.error=function(I){for(var V=[],q=arguments.length-1;q-- >0;)V[q]=arguments[q+1];var ft=""+this.key+V.map(function(xt){return"["+xt+"]"}).join("");this.errors.push(new mn(ft,I))},is.prototype.checkSubtype=function(I,V){var q=qi(I,V);return q&&this.error(q),q};var bo=function(I,V,q){this.type=I,this.input=V,this.labels=[],this.outputs=[];for(var ft=0,xt=q;ft<xt.length;ft+=1){var At=xt[ft],se=At[1];this.labels.push(At[0]),this.outputs.push(se)}};function Li(R,I,V){return R*(1-V)+I*V}bo.parse=function(I,V){if(I.length-1<4)return V.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!=0)return V.error("Expected an even number of arguments.");var q=V.parse(I[1],1,Mr);if(!q)return null;var ft=[],xt=null;V.expectedType&&"value"!==V.expectedType.kind&&(xt=V.expectedType);for(var At=1;At<I.length;At+=2){var jt=1===At?-1/0:I[At],se=I[At+1],ge=At,we=At+1;if("number"!=typeof jt)return V.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ge);if(ft.length&&ft[ft.length-1][0]>=jt)return V.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ge);var Ne=V.parse(se,we,xt);if(!Ne)return null;xt=xt||Ne.type,ft.push([jt,Ne])}return new bo(xt,q,ft)},bo.prototype.evaluate=function(I){var V=this.labels,q=this.outputs;if(1===V.length)return q[0].evaluate(I);var ft=this.input.evaluate(I);if(ft<=V[0])return q[0].evaluate(I);var xt=V.length;return ft>=V[xt-1]?q[xt-1].evaluate(I):q[Fl(V,ft)].evaluate(I)},bo.prototype.eachChild=function(I){I(this.input);for(var V=0,q=this.outputs;V<q.length;V+=1)I(q[V])},bo.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},bo.prototype.serialize=function(){for(var I=["step",this.input.serialize()],V=0;V<this.labels.length;V++)V>0&&I.push(this.labels[V]),I.push(this.outputs[V].serialize());return I};var Os=Object.freeze({__proto__:null,number:Li,color:function eu(R,I,V){return new Ga(Li(R.r,I.r,V),Li(R.g,I.g,V),Li(R.b,I.b,V),Li(R.a,I.a,V))},array:function ru(R,I,V){return R.map(function(q,ft){return Li(q,I[ft],V)})}}),Iu=4/29,Bs=6/29,Zo=3*Bs*Bs,Fo=Math.PI/180,au=180/Math.PI;function iu(R){return R>.008856451679035631?Math.pow(R,.3333333333333333):R/Zo+Iu}function ou(R){return R>Bs?R*R*R:Zo*(R-Iu)}function nl(R){return 255*(R<=.0031308?12.92*R:1.055*Math.pow(R,.4166666666666667)-.055)}function zl(R){return(R/=255)<=.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)}function Fu(R){var I=zl(R.r),V=zl(R.g),q=zl(R.b),ft=iu((.4124564*I+.3575761*V+.1804375*q)/.95047),xt=iu((.2126729*I+.7151522*V+.072175*q)/1);return{l:116*xt-16,a:500*(ft-xt),b:200*(xt-iu((.0193339*I+.119192*V+.9503041*q)/1.08883)),alpha:R.a}}function al(R){var I=(R.l+16)/116,V=isNaN(R.a)?I:I+R.a/500,q=isNaN(R.b)?I:I-R.b/200;return I=1*ou(I),V=.95047*ou(V),q=1.08883*ou(q),new Ga(nl(3.2404542*V-1.5371385*I-.4985314*q),nl(-.969266*V+1.8760108*I+.041556*q),nl(.0556434*V-.2040259*I+1.0572252*q),R.alpha)}function Ns(R,I,V){var q=I-R;return R+V*(q>180||q<-180?q-360*Math.round(q/360):q)}var uo={forward:Fu,reverse:al,interpolate:function ku(R,I,V){return{l:Li(R.l,I.l,V),a:Li(R.a,I.a,V),b:Li(R.b,I.b,V),alpha:Li(R.alpha,I.alpha,V)}}},Us={forward:function zu(R){var I=Fu(R),V=I.l,q=I.a,ft=I.b,xt=Math.atan2(ft,q)*au;return{h:xt<0?xt+360:xt,c:Math.sqrt(q*q+ft*ft),l:V,alpha:R.a}},reverse:function hi(R){var I=R.h*Fo,V=R.c;return al({l:R.l,a:Math.cos(I)*V,b:Math.sin(I)*V,alpha:R.alpha})},interpolate:function bs(R,I,V){return{h:Ns(R.h,I.h,V),c:Li(R.c,I.c,V),l:Li(R.l,I.l,V),alpha:Li(R.alpha,I.alpha,V)}}},Ou=Object.freeze({__proto__:null,lab:uo,hcl:Us}),Fi=function(I,V,q,ft,xt){this.type=I,this.operator=V,this.interpolation=q,this.input=ft,this.labels=[],this.outputs=[];for(var At=0,jt=xt;At<jt.length;At+=1){var se=jt[At],we=se[1];this.labels.push(se[0]),this.outputs.push(we)}};function ws(R,I,V,q){var ft=q-V,xt=R-V;return 0===ft?0:1===I?xt/ft:(Math.pow(I,xt)-1)/(Math.pow(I,ft)-1)}Fi.interpolationFactor=function(I,V,q,ft){var xt=0;if("exponential"===I.name)xt=ws(V,I.base,q,ft);else if("linear"===I.name)xt=ws(V,1,q,ft);else if("cubic-bezier"===I.name){var At=I.controlPoints;xt=new l(At[0],At[1],At[2],At[3]).solve(ws(V,1,q,ft))}return xt},Fi.parse=function(I,V){var q=I[0],ft=I[1],xt=I[2],At=I.slice(3);if(!Array.isArray(ft)||0===ft.length)return V.error("Expected an interpolation type expression.",1);if("linear"===ft[0])ft={name:"linear"};else if("exponential"===ft[0]){var jt=ft[1];if("number"!=typeof jt)return V.error("Exponential interpolation requires a numeric base.",1,1);ft={name:"exponential",base:jt}}else{if("cubic-bezier"!==ft[0])return V.error("Unknown interpolation type "+String(ft[0]),1,0);var se=ft.slice(1);if(4!==se.length||se.some(function($r){return"number"!=typeof $r||$r<0||$r>1}))return V.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ft={name:"cubic-bezier",controlPoints:se}}if(I.length-1<4)return V.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!=0)return V.error("Expected an even number of arguments.");if(!(xt=V.parse(xt,2,Mr)))return null;var ge=[],we=null;"interpolate-hcl"===q||"interpolate-lab"===q?we=Ue:V.expectedType&&"value"!==V.expectedType.kind&&(we=V.expectedType);for(var Ne=0;Ne<At.length;Ne+=2){var nr=At[Ne],_e=At[Ne+1],xr=Ne+3,Nr=Ne+4;if("number"!=typeof nr)return V.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',xr);if(ge.length&&ge[ge.length-1][0]>=nr)return V.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',xr);var on=V.parse(_e,Nr,we);if(!on)return null;we=we||on.type,ge.push([nr,on])}return"number"===we.kind||"color"===we.kind||"array"===we.kind&&"number"===we.itemType.kind&&"number"==typeof we.N?new Fi(we,q,ft,xt,ge):V.error("Type "+ha(we)+" is not interpolatable.")},Fi.prototype.evaluate=function(I){var V=this.labels,q=this.outputs;if(1===V.length)return q[0].evaluate(I);var ft=this.input.evaluate(I);if(ft<=V[0])return q[0].evaluate(I);var xt=V.length;if(ft>=V[xt-1])return q[xt-1].evaluate(I);var At=Fl(V,ft),ge=Fi.interpolationFactor(this.interpolation,ft,V[At],V[At+1]),we=q[At].evaluate(I),Ne=q[At+1].evaluate(I);return"interpolate"===this.operator?Os[this.type.kind.toLowerCase()](we,Ne,ge):"interpolate-hcl"===this.operator?Us.reverse(Us.interpolate(Us.forward(we),Us.forward(Ne),ge)):uo.reverse(uo.interpolate(uo.forward(we),uo.forward(Ne),ge))},Fi.prototype.eachChild=function(I){I(this.input);for(var V=0,q=this.outputs;V<q.length;V+=1)I(q[V])},Fi.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},Fi.prototype.serialize=function(){var I;I="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var V=[this.operator,I,this.input.serialize()],q=0;q<this.labels.length;q++)V.push(this.labels[q],this.outputs[q].serialize());return V};var ko=function(I,V){this.type=I,this.args=V};ko.parse=function(I,V){if(I.length<2)return V.error("Expectected at least one argument.");var q=null,ft=V.expectedType;ft&&"value"!==ft.kind&&(q=ft);for(var xt=[],At=0,jt=I.slice(1);At<jt.length;At+=1){var ge=V.parse(jt[At],1+xt.length,q,void 0,{typeAnnotation:"omit"});if(!ge)return null;q=q||ge.type,xt.push(ge)}var we=ft&&xt.some(function(Ne){return qi(ft,Ne.type)});return new ko(we?ir:q,xt)},ko.prototype.evaluate=function(I){for(var ft,V=null,q=0,xt=0,At=this.args;xt<At.length&&(q++,(V=At[xt].evaluate(I))&&V instanceof ro&&!V.available&&(ft||(ft=V.name),V=null,q===this.args.length&&(V=ft)),null===V);xt+=1);return V},ko.prototype.eachChild=function(I){this.args.forEach(I)},ko.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},ko.prototype.serialize=function(){var I=["coalesce"];return this.eachChild(function(V){I.push(V.serialize())}),I};var wo=function(I,V){this.type=V.type,this.bindings=[].concat(I),this.result=V};wo.prototype.evaluate=function(I){return this.result.evaluate(I)},wo.prototype.eachChild=function(I){for(var V=0,q=this.bindings;V<q.length;V+=1)I(q[V][1]);I(this.result)},wo.parse=function(I,V){if(I.length<4)return V.error("Expected at least 3 arguments, but found "+(I.length-1)+" instead.");for(var q=[],ft=1;ft<I.length-1;ft+=2){var xt=I[ft];if("string"!=typeof xt)return V.error("Expected string, but found "+typeof xt+" instead.",ft);if(/[^a-zA-Z0-9_]/.test(xt))return V.error("Variable names must contain only alphanumeric characters or '_'.",ft);var At=V.parse(I[ft+1],ft+1);if(!At)return null;q.push([xt,At])}var jt=V.parse(I[I.length-1],I.length-1,V.expectedType,q);return jt?new wo(q,jt):null},wo.prototype.outputDefined=function(){return this.result.outputDefined()},wo.prototype.serialize=function(){for(var I=["let"],V=0,q=this.bindings;V<q.length;V+=1){var ft=q[V];I.push(ft[0],ft[1].serialize())}return I.push(this.result.serialize()),I};var Xo=function(I,V,q){this.type=I,this.index=V,this.input=q};Xo.parse=function(I,V){if(3!==I.length)return V.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var q=V.parse(I[1],1,Mr),ft=V.parse(I[2],2,Xn(V.expectedType||ir));return q&&ft?new Xo(ft.type.itemType,q,ft):null},Xo.prototype.evaluate=function(I){var V=this.index.evaluate(I),q=this.input.evaluate(I);if(V<0)throw new bi("Array index out of bounds: "+V+" < 0.");if(V>=q.length)throw new bi("Array index out of bounds: "+V+" > "+(q.length-1)+".");if(V!==Math.floor(V))throw new bi("Array index must be an integer, but found "+V+" instead.");return q[V]},Xo.prototype.eachChild=function(I){I(this.index),I(this.input)},Xo.prototype.outputDefined=function(){return!1},Xo.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var jo=function(I,V){this.type=Dr,this.needle=I,this.haystack=V};jo.parse=function(I,V){if(3!==I.length)return V.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var q=V.parse(I[1],1,ir),ft=V.parse(I[2],2,ir);return q&&ft?to(q.type,[Dr,Ge,Mr,Cr,ir])?new jo(q,ft):V.error("Expected first argument to be of type boolean, string, number or null, but found "+ha(q.type)+" instead"):null},jo.prototype.evaluate=function(I){var V=this.needle.evaluate(I),q=this.haystack.evaluate(I);if(!q)return!1;if(!eo(V,["boolean","string","number","null"]))throw new bi("Expected first argument to be of type boolean, string, number or null, but found "+ha(Ci(V))+" instead.");if(!eo(q,["string","array"]))throw new bi("Expected second argument to be of type array or string, but found "+ha(Ci(q))+" instead.");return q.indexOf(V)>=0},jo.prototype.eachChild=function(I){I(this.needle),I(this.haystack)},jo.prototype.outputDefined=function(){return!0},jo.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var zo=function(I,V,q){this.type=Mr,this.needle=I,this.haystack=V,this.fromIndex=q};zo.parse=function(I,V){if(I.length<=2||I.length>=5)return V.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var q=V.parse(I[1],1,ir),ft=V.parse(I[2],2,ir);if(!q||!ft)return null;if(!to(q.type,[Dr,Ge,Mr,Cr,ir]))return V.error("Expected first argument to be of type boolean, string, number or null, but found "+ha(q.type)+" instead");if(4===I.length){var xt=V.parse(I[3],3,Mr);return xt?new zo(q,ft,xt):null}return new zo(q,ft)},zo.prototype.evaluate=function(I){var V=this.needle.evaluate(I),q=this.haystack.evaluate(I);if(!eo(V,["boolean","string","number","null"]))throw new bi("Expected first argument to be of type boolean, string, number or null, but found "+ha(Ci(V))+" instead.");if(!eo(q,["string","array"]))throw new bi("Expected second argument to be of type array or string, but found "+ha(Ci(q))+" instead.");if(this.fromIndex){var ft=this.fromIndex.evaluate(I);return q.indexOf(V,ft)}return q.indexOf(V)},zo.prototype.eachChild=function(I){I(this.needle),I(this.haystack),this.fromIndex&&I(this.fromIndex)},zo.prototype.outputDefined=function(){return!1},zo.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var I=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),I]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var os=function(I,V,q,ft,xt,At){this.inputType=I,this.type=V,this.input=q,this.cases=ft,this.outputs=xt,this.otherwise=At};os.parse=function(I,V){if(I.length<5)return V.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if(I.length%2!=1)return V.error("Expected an even number of arguments.");var q,ft;V.expectedType&&"value"!==V.expectedType.kind&&(ft=V.expectedType);for(var xt={},At=[],jt=2;jt<I.length-1;jt+=2){var se=I[jt],ge=I[jt+1];Array.isArray(se)||(se=[se]);var we=V.concat(jt);if(0===se.length)return we.error("Expected at least one branch label.");for(var Ne=0,nr=se;Ne<nr.length;Ne+=1){var _e=nr[Ne];if("number"!=typeof _e&&"string"!=typeof _e)return we.error("Branch labels must be numbers or strings.");if("number"==typeof _e&&Math.abs(_e)>Number.MAX_SAFE_INTEGER)return we.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof _e&&Math.floor(_e)!==_e)return we.error("Numeric branch labels must be integer values.");if(q){if(we.checkSubtype(q,Ci(_e)))return null}else q=Ci(_e);if(void 0!==xt[String(_e)])return we.error("Branch labels must be unique.");xt[String(_e)]=At.length}var xr=V.parse(ge,jt,ft);if(!xr)return null;ft=ft||xr.type,At.push(xr)}var Nr=V.parse(I[1],1,ir);if(!Nr)return null;var on=V.parse(I[I.length-1],I.length-1,ft);return!on||"value"!==Nr.type.kind&&V.concat(1).checkSubtype(q,Nr.type)?null:new os(q,ft,Nr,xt,At,on)},os.prototype.evaluate=function(I){var V=this.input.evaluate(I);return(Ci(V)===this.inputType&&this.outputs[this.cases[V]]||this.otherwise).evaluate(I)},os.prototype.eachChild=function(I){I(this.input),this.outputs.forEach(I),I(this.otherwise)},os.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})&&this.otherwise.outputDefined()},os.prototype.serialize=function(){for(var I=this,V=["match",this.input.serialize()],ft=[],xt={},At=0,jt=Object.keys(this.cases).sort();At<jt.length;At+=1){var se=jt[At];void 0===(ge=xt[this.cases[se]])?(xt[this.cases[se]]=ft.length,ft.push([this.cases[se],[se]])):ft[ge][1].push(se)}for(var we=function(Nr){return"number"===I.inputType.kind?Number(Nr):Nr},Ne=0,nr=ft;Ne<nr.length;Ne+=1){var _e=nr[Ne],ge=_e[0],xr=_e[1];V.push(1===xr.length?we(xr[0]):xr.map(we)),V.push(this.outputs[outputIndex$1].serialize())}return V.push(this.otherwise.serialize()),V};var ss=function(I,V,q){this.type=I,this.branches=V,this.otherwise=q};ss.parse=function(I,V){if(I.length<4)return V.error("Expected at least 3 arguments, but found only "+(I.length-1)+".");if(I.length%2!=0)return V.error("Expected an odd number of arguments.");var q;V.expectedType&&"value"!==V.expectedType.kind&&(q=V.expectedType);for(var ft=[],xt=1;xt<I.length-1;xt+=2){var At=V.parse(I[xt],xt,Dr);if(!At)return null;var jt=V.parse(I[xt+1],xt+1,q);if(!jt)return null;ft.push([At,jt]),q=q||jt.type}var se=V.parse(I[I.length-1],I.length-1,q);return se?new ss(q,ft,se):null},ss.prototype.evaluate=function(I){for(var V=0,q=this.branches;V<q.length;V+=1){var ft=q[V],At=ft[1];if(ft[0].evaluate(I))return At.evaluate(I)}return this.otherwise.evaluate(I)},ss.prototype.eachChild=function(I){for(var V=0,q=this.branches;V<q.length;V+=1){var ft=q[V],At=ft[1];I(ft[0]),I(At)}I(this.otherwise)},ss.prototype.outputDefined=function(){return this.branches.every(function(I){return I[1].outputDefined()})&&this.otherwise.outputDefined()},ss.prototype.serialize=function(){var I=["case"];return this.eachChild(function(V){I.push(V.serialize())}),I};var To=function(I,V,q,ft){this.type=I,this.input=V,this.beginIndex=q,this.endIndex=ft};function su(R,I){return"=="===R||"!="===R?"boolean"===I.kind||"string"===I.kind||"number"===I.kind||"null"===I.kind||"value"===I.kind:"string"===I.kind||"number"===I.kind||"value"===I.kind}function Bu(R,I,V,q){return 0===q.compare(I,V)}function ls(R,I,V){var q="=="!==R&&"!="!==R;return function(){function ft(xt,At,jt){this.type=Dr,this.lhs=xt,this.rhs=At,this.collator=jt,this.hasUntypedArgument="value"===xt.type.kind||"value"===At.type.kind}return ft.parse=function(At,jt){if(3!==At.length&&4!==At.length)return jt.error("Expected two or three arguments.");var se=At[0],ge=jt.parse(At[1],1,ir);if(!ge)return null;if(!su(se,ge.type))return jt.concat(1).error('"'+se+"\" comparisons are not supported for type '"+ha(ge.type)+"'.");var we=jt.parse(At[2],2,ir);if(!we)return null;if(!su(se,we.type))return jt.concat(2).error('"'+se+"\" comparisons are not supported for type '"+ha(we.type)+"'.");if(ge.type.kind!==we.type.kind&&"value"!==ge.type.kind&&"value"!==we.type.kind)return jt.error("Cannot compare types '"+ha(ge.type)+"' and '"+ha(we.type)+"'.");q&&("value"===ge.type.kind&&"value"!==we.type.kind?ge=new Ii(we.type,[ge]):"value"!==ge.type.kind&&"value"===we.type.kind&&(we=new Ii(ge.type,[we])));var Ne=null;if(4===At.length){if("string"!==ge.type.kind&&"string"!==we.type.kind&&"value"!==ge.type.kind&&"value"!==we.type.kind)return jt.error("Cannot use collator to compare non-string types.");if(!(Ne=jt.parse(At[3],3,gn)))return null}return new ft(ge,we,Ne)},ft.prototype.evaluate=function(At){var jt=this.lhs.evaluate(At),se=this.rhs.evaluate(At);if(q&&this.hasUntypedArgument){var ge=Ci(jt),we=Ci(se);if(ge.kind!==we.kind||"string"!==ge.kind&&"number"!==ge.kind)throw new bi('Expected arguments for "'+R+'" to be (string, string) or (number, number), but found ('+ge.kind+", "+we.kind+") instead.")}if(this.collator&&!q&&this.hasUntypedArgument){var Ne=Ci(jt),nr=Ci(se);if("string"!==Ne.kind||"string"!==nr.kind)return I(At,jt,se)}return this.collator?V(At,jt,se,this.collator.evaluate(At)):I(At,jt,se)},ft.prototype.eachChild=function(At){At(this.lhs),At(this.rhs),this.collator&&At(this.collator)},ft.prototype.outputDefined=function(){return!0},ft.prototype.serialize=function(){var At=[R];return this.eachChild(function(jt){At.push(jt.serialize())}),At},ft}()}To.parse=function(I,V){if(I.length<=2||I.length>=5)return V.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var q=V.parse(I[1],1,ir),ft=V.parse(I[2],2,Mr);if(!q||!ft)return null;if(!to(q.type,[Xn(ir),Ge,ir]))return V.error("Expected first argument to be of type array or string, but found "+ha(q.type)+" instead");if(4===I.length){var xt=V.parse(I[3],3,Mr);return xt?new To(q.type,q,ft,xt):null}return new To(q.type,q,ft)},To.prototype.evaluate=function(I){var V=this.input.evaluate(I),q=this.beginIndex.evaluate(I);if(!eo(V,["string","array"]))throw new bi("Expected first argument to be of type array or string, but found "+ha(Ci(V))+" instead.");if(this.endIndex){var ft=this.endIndex.evaluate(I);return V.slice(q,ft)}return V.slice(q)},To.prototype.eachChild=function(I){I(this.input),I(this.beginIndex),this.endIndex&&I(this.endIndex)},To.prototype.outputDefined=function(){return!1},To.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var I=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),I]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var il=ls("==",function lu(R,I,V){return I===V},Bu),Hs=ls("!=",function Ol(R,I,V){return I!==V},function Nu(R,I,V,q){return!Bu(0,I,V,q)}),fu=ls("<",function Vs(R,I,V){return I<V},function Uu(R,I,V,q){return q.compare(I,V)<0}),cu=ls(">",function uu(R,I,V){return I>V},function Bl(R,I,V,q){return q.compare(I,V)>0}),hu=ls("<=",function vf(R,I,V){return I<=V},function Ni(R,I,V,q){return q.compare(I,V)<=0}),pf=ls(">=",function df(R,I,V){return I>=V},function vo(R,I,V,q){return q.compare(I,V)>=0}),us=function(I,V,q,ft,xt){this.type=Ge,this.number=I,this.locale=V,this.currency=q,this.minFractionDigits=ft,this.maxFractionDigits=xt};us.parse=function(I,V){if(3!==I.length)return V.error("Expected two arguments.");var q=V.parse(I[1],1,Mr);if(!q)return null;var ft=I[2];if("object"!=typeof ft||Array.isArray(ft))return V.error("NumberFormat options argument must be an object.");var xt=null;if(ft.locale&&!(xt=V.parse(ft.locale,1,Ge)))return null;var At=null;if(ft.currency&&!(At=V.parse(ft.currency,1,Ge)))return null;var jt=null;if(ft["min-fraction-digits"]&&!(jt=V.parse(ft["min-fraction-digits"],1,Mr)))return null;var se=null;return ft["max-fraction-digits"]&&!(se=V.parse(ft["max-fraction-digits"],1,Mr))?null:new us(q,xt,At,jt,se)},us.prototype.evaluate=function(I){return new Intl.NumberFormat(this.locale?this.locale.evaluate(I):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(I):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(I):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(I):void 0}).format(this.number.evaluate(I))},us.prototype.eachChild=function(I){I(this.number),this.locale&&I(this.locale),this.currency&&I(this.currency),this.minFractionDigits&&I(this.minFractionDigits),this.maxFractionDigits&&I(this.maxFractionDigits)},us.prototype.outputDefined=function(){return!1},us.prototype.serialize=function(){var I={};return this.locale&&(I.locale=this.locale.serialize()),this.currency&&(I.currency=this.currency.serialize()),this.minFractionDigits&&(I["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(I["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),I]};var fs=function(I){this.type=Mr,this.input=I};fs.parse=function(I,V){if(2!==I.length)return V.error("Expected 1 argument, but found "+(I.length-1)+" instead.");var q=V.parse(I[1],1);return q?"array"!==q.type.kind&&"string"!==q.type.kind&&"value"!==q.type.kind?V.error("Expected argument of type string or array, but found "+ha(q.type)+" instead."):new fs(q):null},fs.prototype.evaluate=function(I){var V=this.input.evaluate(I);if("string"==typeof V)return V.length;if(Array.isArray(V))return V.length;throw new bi("Expected value to be of type string or array, but found "+ha(Ci(V))+" instead.")},fs.prototype.eachChild=function(I){I(this.input)},fs.prototype.outputDefined=function(){return!1},fs.prototype.serialize=function(){var I=["length"];return this.eachChild(function(V){I.push(V.serialize())}),I};var ki={"==":il,"!=":Hs,">":cu,"<":fu,">=":pf,"<=":hu,array:Ii,at:Xo,boolean:Ii,case:ss,coalesce:ko,collator:Io,format:Ro,image:Ui,in:jo,"index-of":zo,interpolate:Fi,"interpolate-hcl":Fi,"interpolate-lab":Fi,length:fs,let:wo,literal:ho,match:os,number:Ii,"number-format":us,object:Ii,slice:To,step:bo,string:Ii,"to-boolean":Xi,"to-color":Xi,"to-number":Xi,"to-string":Xi,var:lo,within:xo};function ol(R,I){var V=I[0],q=I[1],ft=I[2],xt=I[3];V=V.evaluate(R),q=q.evaluate(R),ft=ft.evaluate(R);var At=xt?xt.evaluate(R):1,jt=qs(V,q,ft,At);if(jt)throw new bi(jt);return new Ga(V/255*At,q/255*At,ft/255*At,At)}function Nl(R,I){return R in I}function Ts(R,I){var V=I[R];return void 0===V?null:V}function cs(R){return{type:R}}function sl(R){return{result:"success",value:R}}function Ko(R){return{result:"error",value:R}}function Jo(R){return"data-driven"===R["property-type"]||"cross-faded-data-driven"===R["property-type"]}function ll(R){return!!R.expression&&R.expression.parameters.indexOf("zoom")>-1}function As(R){return!!R.expression&&R.expression.interpolated}function ei(R){return R instanceof Number?"number":R instanceof String?"string":R instanceof Boolean?"boolean":Array.isArray(R)?"array":null===R?"null":typeof R}function Gs(R){return"object"==typeof R&&null!==R&&!Array.isArray(R)}function vu(R){return R}function Ul(R,I){var jt,se,ge,V="color"===I.type,q=R.stops&&"object"==typeof R.stops[0][0],xt=q||!(q||void 0!==R.property),At=R.type||(As(I)?"exponential":"interval");if(V&&((R=vn({},R)).stops&&(R.stops=R.stops.map(function(Hn){return[Hn[0],Ga.parse(Hn[1])]})),R.default=Ga.parse(R.default?R.default:I.default)),R.colorSpace&&"rgb"!==R.colorSpace&&!Ou[R.colorSpace])throw new Error("Unknown color space: "+R.colorSpace);if("exponential"===At)jt=ul;else if("interval"===At)jt=du;else if("categorical"===At){jt=Hu,se=Object.create(null);for(var we=0,Ne=R.stops;we<Ne.length;we+=1){var nr=Ne[we];se[nr[0]]=nr[1]}ge=typeof R.stops[0][0]}else{if("identity"!==At)throw new Error('Unknown function type "'+At+'"');jt=Vl}if(q){for(var _e={},xr=[],Nr=0;Nr<R.stops.length;Nr++){var on=R.stops[Nr],$r=on[0].zoom;void 0===_e[$r]&&(_e[$r]={zoom:$r,type:R.type,property:R.property,default:R.default,stops:[]},xr.push($r)),_e[$r].stops.push([on[0].value,on[1]])}for(var Tn=[],yn=0,wn=xr;yn<wn.length;yn+=1){var Dn=wn[yn];Tn.push([_e[Dn].zoom,Ul(_e[Dn],I)])}var zn={name:"linear"};return{kind:"composite",interpolationType:zn,interpolationFactor:Fi.interpolationFactor.bind(void 0,zn),zoomStops:Tn.map(function(Hn){return Hn[0]}),evaluate:function(wa,la){var ca=wa.zoom;return ul({stops:Tn,base:R.base},I,ca).evaluate(ca,la)}}}if(xt){var Yn="exponential"===At?{name:"exponential",base:void 0!==R.base?R.base:1}:null;return{kind:"camera",interpolationType:Yn,interpolationFactor:Fi.interpolationFactor.bind(void 0,Yn),zoomStops:R.stops.map(function(Hn){return Hn[0]}),evaluate:function(Hn){return jt(R,I,Hn.zoom,se,ge)}}}return{kind:"source",evaluate:function(wa,la){var ca=la&&la.properties?la.properties[R.property]:void 0;return void 0===ca?Ms(R.default,I.default):jt(R,I,ca,se,ge)}}}function Ms(R,I,V){return void 0!==R?R:void 0!==I?I:void 0!==V?V:void 0}function Hu(R,I,V,q,ft){return Ms(typeof V===ft?q[V]:void 0,R.default,I.default)}function du(R,I,V){if("number"!==ei(V))return Ms(R.default,I.default);var q=R.stops.length;if(1===q||V<=R.stops[0][0])return R.stops[0][1];if(V>=R.stops[q-1][0])return R.stops[q-1][1];var ft=Fl(R.stops.map(function(xt){return xt[0]}),V);return R.stops[ft][1]}function ul(R,I,V){var q=void 0!==R.base?R.base:1;if("number"!==ei(V))return Ms(R.default,I.default);var ft=R.stops.length;if(1===ft||V<=R.stops[0][0])return R.stops[0][1];if(V>=R.stops[ft-1][0])return R.stops[ft-1][1];var xt=Fl(R.stops.map(function(Ne){return Ne[0]}),V),At=function Gu(R,I,V,q){var ft=q-V,xt=R-V;return 0===ft?0:1===I?xt/ft:(Math.pow(I,xt)-1)/(Math.pow(I,ft)-1)}(V,q,R.stops[xt][0],R.stops[xt+1][0]),jt=R.stops[xt][1],se=R.stops[xt+1][1],ge=Os[I.type]||vu;if(R.colorSpace&&"rgb"!==R.colorSpace){var we=Ou[R.colorSpace];ge=function(Ne,nr){return we.reverse(we.interpolate(we.forward(Ne),we.forward(nr),At))}}return"function"==typeof jt.evaluate?{evaluate:function(){for(var nr=[],_e=arguments.length;_e--;)nr[_e]=arguments[_e];var xr=jt.evaluate.apply(void 0,nr),Nr=se.evaluate.apply(void 0,nr);if(void 0!==xr&&void 0!==Nr)return ge(xr,Nr,At)}}:ge(jt,se,At)}function Vl(R,I,V){return"color"===I.type?V=Ga.parse(V):"formatted"===I.type?V=Ei.fromString(V.toString()):"resolvedImage"===I.type?V=ro.fromString(V.toString()):ei(V)!==I.type&&("enum"!==I.type||!I.values[V])&&(V=void 0),Ms(V,R.default,I.default)}wi.register(ki,{error:[{kind:"error"},[Ge],function(R,I){throw new bi(I[0].evaluate(R))}],typeof:[Ge,[ir],function(R,I){return ha(Ci(I[0].evaluate(R)))}],"to-rgba":[Xn(Mr,4),[Ue],function(R,I){return I[0].evaluate(R).toArray()}],rgb:[Ue,[Mr,Mr,Mr],ol],rgba:[Ue,[Mr,Mr,Mr,Mr],ol],has:{type:Dr,overloads:[[[Ge],function(R,I){return Nl(I[0].evaluate(R),R.properties())}],[[Ge,Ye],function(R,I){var q=I[1];return Nl(I[0].evaluate(R),q.evaluate(R))}]]},get:{type:ir,overloads:[[[Ge],function(R,I){return Ts(I[0].evaluate(R),R.properties())}],[[Ge,Ye],function(R,I){var q=I[1];return Ts(I[0].evaluate(R),q.evaluate(R))}]]},"feature-state":[ir,[Ge],function(R,I){return Ts(I[0].evaluate(R),R.featureState||{})}],properties:[Ye,[],function(R){return R.properties()}],"geometry-type":[Ge,[],function(R){return R.geometryType()}],id:[ir,[],function(R){return R.id()}],zoom:[Mr,[],function(R){return R.globals.zoom}],"heatmap-density":[Mr,[],function(R){return R.globals.heatmapDensity||0}],"line-progress":[Mr,[],function(R){return R.globals.lineProgress||0}],accumulated:[ir,[],function(R){return void 0===R.globals.accumulated?null:R.globals.accumulated}],"+":[Mr,cs(Mr),function(R,I){for(var V=0,q=0,ft=I;q<ft.length;q+=1)V+=ft[q].evaluate(R);return V}],"*":[Mr,cs(Mr),function(R,I){for(var V=1,q=0,ft=I;q<ft.length;q+=1)V*=ft[q].evaluate(R);return V}],"-":{type:Mr,overloads:[[[Mr,Mr],function(R,I){var q=I[1];return I[0].evaluate(R)-q.evaluate(R)}],[[Mr],function(R,I){return-I[0].evaluate(R)}]]},"/":[Mr,[Mr,Mr],function(R,I){var q=I[1];return I[0].evaluate(R)/q.evaluate(R)}],"%":[Mr,[Mr,Mr],function(R,I){var q=I[1];return I[0].evaluate(R)%q.evaluate(R)}],ln2:[Mr,[],function(){return Math.LN2}],pi:[Mr,[],function(){return Math.PI}],e:[Mr,[],function(){return Math.E}],"^":[Mr,[Mr,Mr],function(R,I){var q=I[1];return Math.pow(I[0].evaluate(R),q.evaluate(R))}],sqrt:[Mr,[Mr],function(R,I){return Math.sqrt(I[0].evaluate(R))}],log10:[Mr,[Mr],function(R,I){return Math.log(I[0].evaluate(R))/Math.LN10}],ln:[Mr,[Mr],function(R,I){return Math.log(I[0].evaluate(R))}],log2:[Mr,[Mr],function(R,I){return Math.log(I[0].evaluate(R))/Math.LN2}],sin:[Mr,[Mr],function(R,I){return Math.sin(I[0].evaluate(R))}],cos:[Mr,[Mr],function(R,I){return Math.cos(I[0].evaluate(R))}],tan:[Mr,[Mr],function(R,I){return Math.tan(I[0].evaluate(R))}],asin:[Mr,[Mr],function(R,I){return Math.asin(I[0].evaluate(R))}],acos:[Mr,[Mr],function(R,I){return Math.acos(I[0].evaluate(R))}],atan:[Mr,[Mr],function(R,I){return Math.atan(I[0].evaluate(R))}],min:[Mr,cs(Mr),function(R,I){return Math.min.apply(Math,I.map(function(V){return V.evaluate(R)}))}],max:[Mr,cs(Mr),function(R,I){return Math.max.apply(Math,I.map(function(V){return V.evaluate(R)}))}],abs:[Mr,[Mr],function(R,I){return Math.abs(I[0].evaluate(R))}],round:[Mr,[Mr],function(R,I){var q=I[0].evaluate(R);return q<0?-Math.round(-q):Math.round(q)}],floor:[Mr,[Mr],function(R,I){return Math.floor(I[0].evaluate(R))}],ceil:[Mr,[Mr],function(R,I){return Math.ceil(I[0].evaluate(R))}],"filter-==":[Dr,[Ge,ir],function(R,I){var V=I[0],q=I[1];return R.properties()[V.value]===q.value}],"filter-id-==":[Dr,[ir],function(R,I){var V=I[0];return R.id()===V.value}],"filter-type-==":[Dr,[Ge],function(R,I){var V=I[0];return R.geometryType()===V.value}],"filter-<":[Dr,[Ge,ir],function(R,I){var V=I[0],q=I[1],ft=R.properties()[V.value],xt=q.value;return typeof ft==typeof xt&&ft<xt}],"filter-id-<":[Dr,[ir],function(R,I){var V=I[0],q=R.id(),ft=V.value;return typeof q==typeof ft&&q<ft}],"filter->":[Dr,[Ge,ir],function(R,I){var V=I[0],q=I[1],ft=R.properties()[V.value],xt=q.value;return typeof ft==typeof xt&&ft>xt}],"filter-id->":[Dr,[ir],function(R,I){var V=I[0],q=R.id(),ft=V.value;return typeof q==typeof ft&&q>ft}],"filter-<=":[Dr,[Ge,ir],function(R,I){var V=I[0],q=I[1],ft=R.properties()[V.value],xt=q.value;return typeof ft==typeof xt&&ft<=xt}],"filter-id-<=":[Dr,[ir],function(R,I){var V=I[0],q=R.id(),ft=V.value;return typeof q==typeof ft&&q<=ft}],"filter->=":[Dr,[Ge,ir],function(R,I){var V=I[0],q=I[1],ft=R.properties()[V.value],xt=q.value;return typeof ft==typeof xt&&ft>=xt}],"filter-id->=":[Dr,[ir],function(R,I){var V=I[0],q=R.id(),ft=V.value;return typeof q==typeof ft&&q>=ft}],"filter-has":[Dr,[ir],function(R,I){return I[0].value in R.properties()}],"filter-has-id":[Dr,[],function(R){return null!==R.id()&&void 0!==R.id()}],"filter-type-in":[Dr,[Xn(Ge)],function(R,I){return I[0].value.indexOf(R.geometryType())>=0}],"filter-id-in":[Dr,[Xn(ir)],function(R,I){return I[0].value.indexOf(R.id())>=0}],"filter-in-small":[Dr,[Ge,Xn(ir)],function(R,I){var V=I[0];return I[1].value.indexOf(R.properties()[V.value])>=0}],"filter-in-large":[Dr,[Ge,Xn(ir)],function(R,I){var V=I[0],q=I[1];return function Vu(R,I,V,q){for(;V<=q;){var ft=V+q>>1;if(I[ft]===R)return!0;I[ft]>R?q=ft-1:V=ft+1}return!1}(R.properties()[V.value],q.value,0,q.value.length-1)}],all:{type:Dr,overloads:[[[Dr,Dr],function(R,I){var q=I[1];return I[0].evaluate(R)&&q.evaluate(R)}],[cs(Dr),function(R,I){for(var V=0,q=I;V<q.length;V+=1)if(!q[V].evaluate(R))return!1;return!0}]]},any:{type:Dr,overloads:[[[Dr,Dr],function(R,I){var q=I[1];return I[0].evaluate(R)||q.evaluate(R)}],[cs(Dr),function(R,I){for(var V=0,q=I;V<q.length;V+=1)if(q[V].evaluate(R))return!0;return!1}]]},"!":[Dr,[Dr],function(R,I){return!I[0].evaluate(R)}],"is-supported-script":[Dr,[Ge],function(R,I){var q=R.globals&&R.globals.isSupportedScript;return!q||q(I[0].evaluate(R))}],upcase:[Ge,[Ge],function(R,I){return I[0].evaluate(R).toUpperCase()}],downcase:[Ge,[Ge],function(R,I){return I[0].evaluate(R).toLowerCase()}],concat:[Ge,cs(ir),function(R,I){return I.map(function(V){return tl(V.evaluate(R))}).join("")}],"resolved-locale":[Ge,[gn],function(R,I){return I[0].evaluate(R).resolvedLocale()}]});var Qo=function(I,V){this.expression=I,this._warningHistory={},this._evaluator=new no,this._defaultValue=V?function Hl(R){return"color"===R.type&&Gs(R.default)?new Ga(0,0,0,0):"color"===R.type?Ga.parse(R.default)||null:void 0===R.default?null:R.default}(V):null,this._enumValues=V&&"enum"===V.type?V.values:null};function fl(R){return Array.isArray(R)&&R.length>0&&"string"==typeof R[0]&&R[0]in ki}function cl(R,I){var V=new is(ki,[],I?function Wu(R){var I={color:Ue,string:Ge,number:Mr,enum:Ge,boolean:Dr,formatted:Zn,resolvedImage:ta};return"array"===R.type?Xn(I[R.value]||ir,R.length):I[R.type]}(I):void 0),q=V.parse(R,void 0,void 0,void 0,I&&"string"===I.type?{typeAnnotation:"coerce"}:void 0);return q?sl(new Qo(q,I)):Ko(V.errors)}Qo.prototype.evaluateWithoutErrorHandling=function(I,V,q,ft,xt,At){return this._evaluator.globals=I,this._evaluator.feature=V,this._evaluator.featureState=q,this._evaluator.canonical=ft,this._evaluator.availableImages=xt||null,this._evaluator.formattedSection=At,this.expression.evaluate(this._evaluator)},Qo.prototype.evaluate=function(I,V,q,ft,xt,At){this._evaluator.globals=I,this._evaluator.feature=V||null,this._evaluator.featureState=q||null,this._evaluator.canonical=ft,this._evaluator.availableImages=xt||null,this._evaluator.formattedSection=At||null;try{var jt=this.expression.evaluate(this._evaluator);if(null==jt||"number"==typeof jt&&jt!=jt)return this._defaultValue;if(this._enumValues&&!(jt in this._enumValues))throw new bi("Expected value to be one of "+Object.keys(this._enumValues).map(function(se){return JSON.stringify(se)}).join(", ")+", but found "+JSON.stringify(jt)+" instead.");return jt}catch(se){return this._warningHistory[se.message]||(this._warningHistory[se.message]=!0,"undefined"!=typeof console&&console.warn(se.message)),this._defaultValue}};var $o=function(I,V){this.kind=I,this._styleExpression=V,this.isStateDependent="constant"!==I&&!ms(V.expression)};$o.prototype.evaluateWithoutErrorHandling=function(I,V,q,ft,xt,At){return this._styleExpression.evaluateWithoutErrorHandling(I,V,q,ft,xt,At)},$o.prototype.evaluate=function(I,V,q,ft,xt,At){return this._styleExpression.evaluate(I,V,q,ft,xt,At)};var Ao=function(I,V,q,ft){this.kind=I,this.zoomStops=q,this._styleExpression=V,this.isStateDependent="camera"!==I&&!ms(V.expression),this.interpolationType=ft};function hl(R,I){if("error"===(R=cl(R,I)).result)return R;var V=R.value.expression,q=rl(V);if(!q&&!Jo(I))return Ko([new mn("","data expressions not supported")]);var ft=Il(V,["zoom"]);if(!ft&&!ll(I))return Ko([new mn("","zoom expressions not supported")]);var xt=Ws(V);return xt||ft?xt instanceof mn?Ko([xt]):xt instanceof Fi&&!As(I)?Ko([new mn("",'"interpolate" expressions cannot be used with this property')]):sl(xt?new Ao(q?"camera":"composite",R.value,xt.labels,xt instanceof Fi?xt.interpolation:void 0):new $o(q?"constant":"source",R.value)):Ko([new mn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Ao.prototype.evaluateWithoutErrorHandling=function(I,V,q,ft,xt,At){return this._styleExpression.evaluateWithoutErrorHandling(I,V,q,ft,xt,At)},Ao.prototype.evaluate=function(I,V,q,ft,xt,At){return this._styleExpression.evaluate(I,V,q,ft,xt,At)},Ao.prototype.interpolationFactor=function(I,V,q){return this.interpolationType?Fi.interpolationFactor(this.interpolationType,I,V,q):0};var hs=function(I,V){this._parameters=I,this._specification=V,vn(this,Ul(this._parameters,this._specification))};function Ws(R){var I=null;if(R instanceof wo)I=Ws(R.result);else if(R instanceof ko)for(var V=0,q=R.args;V<q.length&&!(I=Ws(q[V]));V+=1);else(R instanceof bo||R instanceof Fi)&&R.input instanceof wi&&"zoom"===R.input.name&&(I=R);return I instanceof mn||R.eachChild(function(xt){var At=Ws(xt);At instanceof mn?I=At:!I&&At?I=new mn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):I&&At&&I!==At&&(I=new mn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),I}function Ti(R){var I=R.key,V=R.value,q=R.valueSpec||{},ft=R.objectElementValidators||{},xt=R.style,At=R.styleSpec,jt=[],se=ei(V);if("object"!==se)return[new br(I,V,"object expected, "+se+" found")];for(var ge in V){var we=ge.split(".")[0],Ne=q[we]||q["*"],nr=void 0;if(ft[we])nr=ft[we];else if(q[we])nr=pr;else if(ft["*"])nr=ft["*"];else{if(!q["*"]){jt.push(new br(I,V[ge],'unknown property "'+ge+'"'));continue}nr=pr}jt=jt.concat(nr({key:(I&&I+".")+ge,value:V[ge],valueSpec:Ne,style:xt,styleSpec:At,object:V,objectKey:ge},V))}for(var _e in q)ft[_e]||q[_e].required&&void 0===q[_e].default&&void 0===V[_e]&&jt.push(new br(I,V,'missing required property "'+_e+'"'));return jt}function pu(R){var I=R.value,V=R.valueSpec,q=R.style,ft=R.styleSpec,xt=R.key,At=R.arrayElementValidator||pr;if("array"!==ei(I))return[new br(xt,I,"array expected, "+ei(I)+" found")];if(V.length&&I.length!==V.length)return[new br(xt,I,"array length "+V.length+" expected, length "+I.length+" found")];if(V["min-length"]&&I.length<V["min-length"])return[new br(xt,I,"array length at least "+V["min-length"]+" expected, length "+I.length+" found")];var jt={type:V.value,values:V.values};ft.$version<7&&(jt.function=V.function),"object"===ei(V.value)&&(jt=V.value);for(var se=[],ge=0;ge<I.length;ge++)se=se.concat(At({array:I,arrayIndex:ge,value:I[ge],valueSpec:jt,style:q,styleSpec:ft,key:xt+"["+ge+"]"}));return se}function Gl(R){var I=R.key,V=R.value,q=R.valueSpec,ft=ei(V);return"number"===ft&&V!=V&&(ft="NaN"),"number"!==ft?[new br(I,V,"number expected, "+ft+" found")]:"minimum"in q&&V<q.minimum?[new br(I,V,V+" is less than the minimum value "+q.minimum)]:"maximum"in q&&V>q.maximum?[new br(I,V,V+" is greater than the maximum value "+q.maximum)]:[]}function Ss(R){var q,xt,At,I=R.valueSpec,V=un(R.value.type),ft={},jt="categorical"!==V&&void 0===R.value.property,se=!jt,ge="array"===ei(R.value.stops)&&"array"===ei(R.value.stops[0])&&"object"===ei(R.value.stops[0][0]),we=Ti({key:R.key,value:R.value,valueSpec:R.styleSpec.function,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{stops:function Ne(Nr){if("identity"===V)return[new br(Nr.key,Nr.value,'identity function may not have a "stops" property')];var on=[],$r=Nr.value;return on=on.concat(pu({key:Nr.key,value:$r,valueSpec:Nr.valueSpec,style:Nr.style,styleSpec:Nr.styleSpec,arrayElementValidator:nr})),"array"===ei($r)&&0===$r.length&&on.push(new br(Nr.key,$r,"array must have at least one stop")),on},default:function xr(Nr){return pr({key:Nr.key,value:Nr.value,valueSpec:I,style:Nr.style,styleSpec:Nr.styleSpec})}}});return"identity"===V&&jt&&we.push(new br(R.key,R.value,'missing required property "property"')),"identity"!==V&&!R.value.stops&&we.push(new br(R.key,R.value,'missing required property "stops"')),"exponential"===V&&R.valueSpec.expression&&!As(R.valueSpec)&&we.push(new br(R.key,R.value,"exponential functions not supported")),R.styleSpec.$version>=8&&(se&&!Jo(R.valueSpec)?we.push(new br(R.key,R.value,"property functions not supported")):jt&&!ll(R.valueSpec)&&we.push(new br(R.key,R.value,"zoom functions not supported"))),("categorical"===V||ge)&&void 0===R.value.property&&we.push(new br(R.key,R.value,'"property" property is required')),we;function nr(Nr){var on=[],$r=Nr.value,Tn=Nr.key;if("array"!==ei($r))return[new br(Tn,$r,"array expected, "+ei($r)+" found")];if(2!==$r.length)return[new br(Tn,$r,"array length 2 expected, length "+$r.length+" found")];if(ge){if("object"!==ei($r[0]))return[new br(Tn,$r,"object expected, "+ei($r[0])+" found")];if(void 0===$r[0].zoom)return[new br(Tn,$r,"object stop key must have zoom")];if(void 0===$r[0].value)return[new br(Tn,$r,"object stop key must have value")];if(At&&At>un($r[0].zoom))return[new br(Tn,$r[0].zoom,"stop zoom values must appear in ascending order")];un($r[0].zoom)!==At&&(At=un($r[0].zoom),xt=void 0,ft={}),on=on.concat(Ti({key:Tn+"[0]",value:$r[0],valueSpec:{zoom:{}},style:Nr.style,styleSpec:Nr.styleSpec,objectElementValidators:{zoom:Gl,value:_e}}))}else on=on.concat(_e({key:Tn+"[0]",value:$r[0],valueSpec:{},style:Nr.style,styleSpec:Nr.styleSpec},$r));return fl(Sn($r[1]))?on.concat([new br(Tn+"[1]",$r[1],"expressions are not allowed in function stops.")]):on.concat(pr({key:Tn+"[1]",value:$r[1],valueSpec:I,style:Nr.style,styleSpec:Nr.styleSpec}))}function _e(Nr,on){var $r=ei(Nr.value),Tn=un(Nr.value),yn=null!==Nr.value?Nr.value:on;if(q){if($r!==q)return[new br(Nr.key,yn,$r+" stop domain type must match previous stop domain type "+q)]}else q=$r;if("number"!==$r&&"string"!==$r&&"boolean"!==$r)return[new br(Nr.key,yn,"stop domain value must be a number, string, or boolean")];if("number"!==$r&&"categorical"!==V){var wn="number expected, "+$r+" found";return Jo(I)&&void 0===V&&(wn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new br(Nr.key,yn,wn)]}return"categorical"!==V||"number"!==$r||isFinite(Tn)&&Math.floor(Tn)===Tn?"categorical"!==V&&"number"===$r&&void 0!==xt&&Tn<xt?[new br(Nr.key,yn,"stop domain values must appear in ascending order")]:(xt=Tn,"categorical"===V&&Tn in ft?[new br(Nr.key,yn,"stop domain values must be unique")]:(ft[Tn]=!0,[])):[new br(Nr.key,yn,"integer expected, found "+Tn)]}}function vs(R){var I=("property"===R.expressionContext?hl:cl)(Sn(R.value),R.valueSpec);if("error"===I.result)return I.value.map(function(q){return new br(""+R.key+q.key,R.value,q.message)});var V=I.value.expression||I.value._styleExpression.expression;if("property"===R.expressionContext&&"text-font"===R.propertyKey&&!V.outputDefined())return[new br(R.key,R.value,'Invalid data expression for "'+R.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===R.expressionContext&&"layout"===R.propertyType&&!ms(V))return[new br(R.key,R.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===R.expressionContext&&!ms(V))return[new br(R.key,R.value,'"feature-state" data expressions are not supported with filters.')];if(R.expressionContext&&0===R.expressionContext.indexOf("cluster")){if(!Il(V,["zoom","feature-state"]))return[new br(R.key,R.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===R.expressionContext&&!rl(V))return[new br(R.key,R.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ys(R){var I=R.key,V=R.value,q=R.valueSpec,ft=[];return Array.isArray(q.values)?-1===q.values.indexOf(un(V))&&ft.push(new br(I,V,"expected one of ["+q.values.join(", ")+"], "+JSON.stringify(V)+" found")):-1===Object.keys(q.values).indexOf(un(V))&&ft.push(new br(I,V,"expected one of ["+Object.keys(q.values).join(", ")+"], "+JSON.stringify(V)+" found")),ft}function Zs(R){if(!0===R||!1===R)return!0;if(!Array.isArray(R)||0===R.length)return!1;switch(R[0]){case"has":return R.length>=2&&"$id"!==R[1]&&"$type"!==R[1];case"in":return R.length>=3&&("string"!=typeof R[1]||Array.isArray(R[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==R.length||Array.isArray(R[1])||Array.isArray(R[2]);case"any":case"all":for(var I=0,V=R.slice(1);I<V.length;I+=1){var q=V[I];if(!Zs(q)&&"boolean"!=typeof q)return!1}return!0;default:return!0}}hs.deserialize=function(I){return new hs(I._parameters,I._specification)},hs.serialize=function(I){return{_parameters:I._parameters,_specification:I._specification}};var dl={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function pl(R){if(null==R)return{filter:function(){return!0},needGeometry:!1};Zs(R)||(R=Es(R));var I=cl(R,dl);if("error"===I.result)throw new Error(I.value.map(function(q){return q.key+": "+q.message}).join(", "));return{filter:function(q,ft,xt){return I.value.evaluate(q,ft,{},xt)},needGeometry:yu(R)}}function Yu(R,I){return R<I?-1:R>I?1:0}function yu(R){if(!Array.isArray(R))return!1;if("within"===R[0])return!0;for(var I=1;I<R.length;I++)if(yu(R[I]))return!0;return!1}function Es(R){if(!R)return!0;var I=R[0];return R.length<=1?"any"!==I:"=="===I?ao(R[1],R[2],"=="):"!="===I?Xs(ao(R[1],R[2],"==")):"<"===I||">"===I||"<="===I||">="===I?ao(R[1],R[2],I):"any"===I?function mu(R){return["any"].concat(R.map(Es))}(R.slice(1)):"all"===I?["all"].concat(R.slice(1).map(Es)):"none"===I?["all"].concat(R.slice(1).map(Es).map(Xs)):"in"===I?Wl(R[1],R.slice(2)):"!in"===I?Xs(Wl(R[1],R.slice(2))):"has"===I?Oo(R[1]):"!has"===I?Xs(Oo(R[1])):"within"!==I||R}function ao(R,I,V){switch(R){case"$type":return["filter-type-"+V,I];case"$id":return["filter-id-"+V,I];default:return["filter-"+V,R,I]}}function Wl(R,I){if(0===I.length)return!1;switch(R){case"$type":return["filter-type-in",["literal",I]];case"$id":return["filter-id-in",["literal",I]];default:return I.length>200&&!I.some(function(V){return typeof V!=typeof I[0]})?["filter-in-large",R,["literal",I.sort(Yu)]]:["filter-in-small",R,["literal",I]]}}function Oo(R){switch(R){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",R]}}function Xs(R){return["!",R]}function Cs(R){return Zs(Sn(R.value))?vs(vn({},R,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Zu(R)}function Zu(R){var I=R.value,V=R.key;if("array"!==ei(I))return[new br(V,I,"array expected, "+ei(I)+" found")];var ft,q=R.styleSpec,xt=[];if(I.length<1)return[new br(V,I,"filter array must have at least 1 element")];switch(xt=xt.concat(Ys({key:V+"[0]",value:I[0],valueSpec:q.filter_operator,style:R.style,styleSpec:R.styleSpec})),un(I[0])){case"<":case"<=":case">":case">=":I.length>=2&&"$type"===un(I[1])&&xt.push(new br(V,I,'"$type" cannot be use with operator "'+I[0]+'"'));case"==":case"!=":3!==I.length&&xt.push(new br(V,I,'filter array for operator "'+I[0]+'" must have 3 elements'));case"in":case"!in":I.length>=2&&"string"!==(ft=ei(I[1]))&&xt.push(new br(V+"[1]",I[1],"string expected, "+ft+" found"));for(var At=2;At<I.length;At++)ft=ei(I[At]),"$type"===un(I[1])?xt=xt.concat(Ys({key:V+"["+At+"]",value:I[At],valueSpec:q.geometry_type,style:R.style,styleSpec:R.styleSpec})):"string"!==ft&&"number"!==ft&&"boolean"!==ft&&xt.push(new br(V+"["+At+"]",I[At],"string, number, or boolean expected, "+ft+" found"));break;case"any":case"all":case"none":for(var jt=1;jt<I.length;jt++)xt=xt.concat(Zu({key:V+"["+jt+"]",value:I[jt],style:R.style,styleSpec:R.styleSpec}));break;case"has":case"!has":ft=ei(I[1]),2!==I.length?xt.push(new br(V,I,'filter array for "'+I[0]+'" operator must have 2 elements')):"string"!==ft&&xt.push(new br(V+"[1]",I[1],"string expected, "+ft+" found"));break;case"within":ft=ei(I[1]),2!==I.length?xt.push(new br(V,I,'filter array for "'+I[0]+'" operator must have 2 elements')):"object"!==ft&&xt.push(new br(V+"[1]",I[1],"object expected, "+ft+" found"))}return xt}function Yl(R,I){var V=R.key,q=R.style,ft=R.styleSpec,xt=R.value,At=R.objectKey,jt=ft[I+"_"+R.layerType];if(!jt)return[];var se=At.match(/^(.*)-transition$/);if("paint"===I&&se&&jt[se[1]]&&jt[se[1]].transition)return pr({key:V,value:xt,valueSpec:ft.transition,style:q,styleSpec:ft});var we,ge=R.valueSpec||jt[At];if(!ge)return[new br(V,xt,'unknown property "'+At+'"')];if("string"===ei(xt)&&Jo(ge)&&!ge.tokens&&(we=/^{([^}]+)}$/.exec(xt)))return[new br(V,xt,'"'+At+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(we[1])+" }`.")];var Ne=[];return"symbol"===R.layerType&&("text-field"===At&&q&&!q.glyphs&&Ne.push(new br(V,xt,'use of "text-field" requires a style "glyphs" property')),"text-font"===At&&Gs(Sn(xt))&&"identity"===un(xt.type)&&Ne.push(new br(V,xt,'"text-font" does not support identity functions'))),Ne.concat(pr({key:R.key,value:xt,valueSpec:ge,style:q,styleSpec:ft,expressionContext:"property",propertyType:I,propertyKey:At}))}function Xu(R){return Yl(R,"paint")}function yl(R){return Yl(R,"layout")}function xu(R){var I=[],V=R.value,q=R.key,ft=R.style,xt=R.styleSpec;!V.type&&!V.ref&&I.push(new br(q,V,'either "type" or "ref" is required'));var Ne,At=un(V.type),jt=un(V.ref);if(V.id)for(var se=un(V.id),ge=0;ge<R.arrayIndex;ge++){var we=ft.layers[ge];un(we.id)===se&&I.push(new br(q,V.id,'duplicate layer id "'+V.id+'", previously used at line '+we.id.__line__))}if("ref"in V)["type","source","source-layer","filter","layout"].forEach(function(xr){xr in V&&I.push(new br(q,V[xr],'"'+xr+'" is prohibited for ref layers'))}),ft.layers.forEach(function(xr){un(xr.id)===jt&&(Ne=xr)}),Ne?Ne.ref?I.push(new br(q,V.ref,"ref cannot reference another ref layer")):At=un(Ne.type):I.push(new br(q,V.ref,'ref layer "'+jt+'" not found'));else if("background"!==At)if(V.source){var nr=ft.sources&&ft.sources[V.source],_e=nr&&un(nr.type);nr?"vector"===_e&&"raster"===At?I.push(new br(q,V.source,'layer "'+V.id+'" requires a raster source')):"raster"===_e&&"raster"!==At?I.push(new br(q,V.source,'layer "'+V.id+'" requires a vector source')):"vector"!==_e||V["source-layer"]?"raster-dem"===_e&&"hillshade"!==At?I.push(new br(q,V.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"===At&&V.paint&&V.paint["line-gradient"]&&("geojson"!==_e||!nr.lineMetrics)&&I.push(new br(q,V,'layer "'+V.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):I.push(new br(q,V,'layer "'+V.id+'" must specify a "source-layer"')):I.push(new br(q,V.source,'source "'+V.source+'" not found'))}else I.push(new br(q,V,'missing required property "source"'));return I=I.concat(Ti({key:q,value:V,valueSpec:xt.layer,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return pr({key:q+".type",value:V.type,valueSpec:xt.layer.type,style:R.style,styleSpec:R.styleSpec,object:V,objectKey:"type"})},filter:Cs,layout:function(Nr){return Ti({layer:V,key:Nr.key,value:Nr.value,style:Nr.style,styleSpec:Nr.styleSpec,objectElementValidators:{"*":function($r){return yl(vn({layerType:At},$r))}}})},paint:function(Nr){return Ti({layer:V,key:Nr.key,value:Nr.value,style:Nr.style,styleSpec:Nr.styleSpec,objectElementValidators:{"*":function($r){return Xu(vn({layerType:At},$r))}}})}}}))}function Xt(R){var I=R.value,V=R.key,q=ei(I);return"string"!==q?[new br(V,I,"string expected, "+q+" found")]:[]}var $t={promoteId:function ce(R){var I=R.key,V=R.value;if("string"===ei(V))return Xt({key:I,value:V});var q=[];for(var ft in V)q.push.apply(q,Xt({key:I+"."+ft,value:V[ft]}));return q}};function ue(R){var I=R.value,V=R.key,q=R.styleSpec,ft=R.style;if(!I.type)return[new br(V,I,'"type" is required')];var At,xt=un(I.type);switch(xt){case"vector":case"raster":case"raster-dem":return Ti({key:V,value:I,valueSpec:q["source_"+xt.replace("-","_")],style:R.style,styleSpec:q,objectElementValidators:$t});case"geojson":if(At=Ti({key:V,value:I,valueSpec:q.source_geojson,style:ft,styleSpec:q,objectElementValidators:$t}),I.cluster)for(var jt in I.clusterProperties){var se=I.clusterProperties[jt],ge=se[0],Ne="string"==typeof ge?[ge,["accumulated"],["get",jt]]:ge;At.push.apply(At,vs({key:V+"."+jt+".map",value:se[1],expressionContext:"cluster-map"})),At.push.apply(At,vs({key:V+"."+jt+".reduce",value:Ne,expressionContext:"cluster-reduce"}))}return At;case"video":return Ti({key:V,value:I,valueSpec:q.source_video,style:ft,styleSpec:q});case"image":return Ti({key:V,value:I,valueSpec:q.source_image,style:ft,styleSpec:q});case"canvas":return[new br(V,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ys({key:V+".type",value:I.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ft,styleSpec:q})}}function Ce(R){var I=R.value,V=R.styleSpec,q=V.light,ft=R.style,xt=[],At=ei(I);if(void 0===I)return xt;if("object"!==At)return xt.concat([new br("light",I,"object expected, "+At+" found")]);for(var jt in I){var se=jt.match(/^(.*)-transition$/);xt=xt.concat(se&&q[se[1]]&&q[se[1]].transition?pr({key:jt,value:I[jt],valueSpec:V.transition,style:ft,styleSpec:V}):q[jt]?pr({key:jt,value:I[jt],valueSpec:q[jt],style:ft,styleSpec:V}):[new br(jt,I[jt],'unknown property "'+jt+'"')])}return xt}var cr={"*":function(){return[]},array:pu,boolean:function gu(R){var I=R.value,V=R.key,q=ei(I);return"boolean"!==q?[new br(V,I,"boolean expected, "+q+" found")]:[]},number:Gl,color:function gf(R){var I=R.key,V=R.value,q=ei(V);return"string"!==q?[new br(I,V,"color expected, "+q+" found")]:null===co(V)?[new br(I,V,'color expected, "'+V+'" found')]:[]},constants:en,enum:Ys,filter:Cs,function:Ss,layer:xu,object:Ti,source:ue,light:Ce,string:Xt,formatted:function Me(R){return 0===Xt(R).length?[]:vs(R)},resolvedImage:function Re(R){return 0===Xt(R).length?[]:vs(R)}};function pr(R){var I=R.value,V=R.valueSpec,q=R.styleSpec;return V.expression&&Gs(un(I))?Ss(R):V.expression&&fl(Sn(I))?vs(R):V.type&&cr[V.type]?cr[V.type](R):Ti(vn({},R,{valueSpec:V.type?q[V.type]:V}))}function ur(R){var I=R.value,V=R.key,q=Xt(R);return q.length||(-1===I.indexOf("{fontstack}")&&q.push(new br(V,I,'"glyphs" url must include a "{fontstack}" token')),-1===I.indexOf("{range}")&&q.push(new br(V,I,'"glyphs" url must include a "{range}" token'))),q}function hr(R,I){void 0===I&&(I=Xe);var V=[];return V=V.concat(pr({key:"",value:R,valueSpec:I.$root,styleSpec:I,style:R,objectElementValidators:{glyphs:ur,"*":function(){return[]}}})),R.constants&&(V=V.concat(en({key:"constants",value:R.constants,style:R,styleSpec:I}))),kr(V)}function kr(R){return[].concat(R).sort(function(I,V){return I.line-V.line})}function Hr(R){return function(){for(var I=[],V=arguments.length;V--;)I[V]=arguments[V];return kr(R.apply(this,I))}}hr.source=Hr(ue),hr.light=Hr(Ce),hr.layer=Hr(xu),hr.filter=Hr(Cs),hr.paintProperty=Hr(Xu),hr.layoutProperty=Hr(yl);var jr=hr,Qr=jr.light,bn=jr.paintProperty,kn=jr.layoutProperty;function _n(R,I){var V=!1;if(I&&I.length)for(var q=0,ft=I;q<ft.length;q+=1)R.fire(new rr(new Error(ft[q].message))),V=!0;return V}var xa=Aa;function Aa(R,I,V){var q=this.cells=[];if(R instanceof ArrayBuffer){this.arrayBuffer=R;var ft=new Int32Array(this.arrayBuffer);R=ft[0],this.d=(I=ft[1])+2*(V=ft[2]);for(var xt=0;xt<this.d*this.d;xt++){var At=ft[3+xt],jt=ft[3+xt+1];q.push(At===jt?null:ft.subarray(At,jt))}var ge=ft[3+q.length+1];this.keys=ft.subarray(ft[3+q.length],ge),this.bboxes=ft.subarray(ge),this.insert=this._insertReadonly}else{this.d=I+2*V;for(var we=0;we<this.d*this.d;we++)q.push([]);this.keys=[],this.bboxes=[]}this.n=I,this.extent=R,this.padding=V,this.scale=I/R,this.uid=0;var Ne=V/I*R;this.min=-Ne,this.max=R+Ne}Aa.prototype.insert=function(R,I,V,q,ft){this._forEachCell(I,V,q,ft,this._insertCell,this.uid++),this.keys.push(R),this.bboxes.push(I),this.bboxes.push(V),this.bboxes.push(q),this.bboxes.push(ft)},Aa.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Aa.prototype._insertCell=function(R,I,V,q,ft,xt){this.cells[ft].push(xt)},Aa.prototype.query=function(R,I,V,q,ft){var xt=this.min,At=this.max;if(R<=xt&&I<=xt&&At<=V&&At<=q&&!ft)return Array.prototype.slice.call(this.keys);var jt=[];return this._forEachCell(R,I,V,q,this._queryCell,jt,{},ft),jt},Aa.prototype._queryCell=function(R,I,V,q,ft,xt,At,jt){var se=this.cells[ft];if(null!==se)for(var ge=this.keys,we=this.bboxes,Ne=0;Ne<se.length;Ne++){var nr=se[Ne];if(void 0===At[nr]){var _e=4*nr;(jt?jt(we[_e+0],we[_e+1],we[_e+2],we[_e+3]):R<=we[_e+2]&&I<=we[_e+3]&&V>=we[_e+0]&&q>=we[_e+1])?(At[nr]=!0,xt.push(ge[nr])):At[nr]=!1}}},Aa.prototype._forEachCell=function(R,I,V,q,ft,xt,At,jt){for(var se=this._convertToCellCoord(R),ge=this._convertToCellCoord(I),we=this._convertToCellCoord(V),Ne=this._convertToCellCoord(q),nr=se;nr<=we;nr++)for(var _e=ge;_e<=Ne;_e++){var xr=this.d*_e+nr;if((!jt||jt(this._convertFromCellCoord(nr),this._convertFromCellCoord(_e),this._convertFromCellCoord(nr+1),this._convertFromCellCoord(_e+1)))&&ft.call(this,R,I,V,q,xr,xt,At,jt))return}},Aa.prototype._convertFromCellCoord=function(R){return(R-this.padding)/this.scale},Aa.prototype._convertToCellCoord=function(R){return Math.max(0,Math.min(this.d-1,Math.floor(R*this.scale)+this.padding))},Aa.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var R=this.cells,I=3+this.cells.length+1+1,V=0,q=0;q<this.cells.length;q++)V+=this.cells[q].length;var ft=new Int32Array(I+V+this.keys.length+this.bboxes.length);ft[0]=this.extent,ft[1]=this.n,ft[2]=this.padding;for(var xt=I,At=0;At<R.length;At++){var jt=R[At];ft[3+At]=xt,ft.set(jt,xt),xt+=jt.length}return ft[3+R.length]=xt,ft.set(this.keys,xt),ft[3+R.length+1]=xt+=this.keys.length,ft.set(this.bboxes,xt),xt+=this.bboxes.length,ft.buffer};var Ra=self.ImageData,qa=self.ImageBitmap,ai={};function ea(R,I,V){void 0===V&&(V={}),Object.defineProperty(I,"_classRegistryKey",{value:R,writeable:!1}),ai[R]={klass:I,omit:V.omit||[],shallow:V.shallow||[]}}for(var fi in ea("Object",Object),xa.serialize=function(I,V){var q=I.toArrayBuffer();return V&&V.push(q),{buffer:q}},xa.deserialize=function(I){return new xa(I.buffer)},ea("Grid",xa),ea("Color",Ga),ea("Error",Error),ea("ResolvedImage",ro),ea("StylePropertyFunction",hs),ea("StyleExpression",Qo,{omit:["_evaluator"]}),ea("ZoomDependentExpression",Ao),ea("ZoomConstantExpression",$o),ea("CompoundExpression",wi,{omit:["_evaluate"]}),ki)ki[fi]._classRegistryKey||ea("Expression_"+fi,ki[fi]);function yi(R){return R&&"undefined"!=typeof ArrayBuffer&&(R instanceof ArrayBuffer||R.constructor&&"ArrayBuffer"===R.constructor.name)}function ji(R){return qa&&R instanceof qa}function Mo(R,I){if(null==R||"boolean"==typeof R||"number"==typeof R||"string"==typeof R||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp)return R;if(yi(R)||ji(R))return I&&I.push(R),R;if(ArrayBuffer.isView(R)){var V=R;return I&&I.push(V.buffer),V}if(R instanceof Ra)return I&&I.push(R.data.buffer),R;if(Array.isArray(R)){for(var q=[],ft=0,xt=R;ft<xt.length;ft+=1)q.push(Mo(xt[ft],I));return q}if("object"==typeof R){var jt=R.constructor,se=jt._classRegistryKey;if(!se)throw new Error("can't serialize object of unregistered class");var ge=jt.serialize?jt.serialize(R,I):{};if(!jt.serialize){for(var we in R)if(R.hasOwnProperty(we)&&!(ai[se].omit.indexOf(we)>=0)){var Ne=R[we];ge[we]=ai[se].shallow.indexOf(we)>=0?Ne:Mo(Ne,I)}R instanceof Error&&(ge.message=R.message)}if(ge.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==se&&(ge.$name=se),ge}throw new Error("can't serialize object of type "+typeof R)}function si(R){if(null==R||"boolean"==typeof R||"number"==typeof R||"string"==typeof R||R instanceof Boolean||R instanceof Number||R instanceof String||R instanceof Date||R instanceof RegExp||yi(R)||ji(R)||ArrayBuffer.isView(R)||R instanceof Ra)return R;if(Array.isArray(R))return R.map(si);if("object"==typeof R){var I=R.$name||"Object",q=ai[I].klass;if(!q)throw new Error("can't deserialize unregistered class "+I);if(q.deserialize)return q.deserialize(R);for(var ft=Object.create(q.prototype),xt=0,At=Object.keys(R);xt<At.length;xt+=1){var jt=At[xt];if("$name"!==jt){var se=R[jt];ft[jt]=ai[I].shallow.indexOf(jt)>=0?se:si(se)}}return ft}throw new Error("can't deserialize object of type "+typeof R)}var ot=function(){this.first=!0};ot.prototype.update=function(I,V){var q=Math.floor(I);return this.first?(this.first=!1,this.lastIntegerZoom=q,this.lastIntegerZoomTime=0,this.lastZoom=I,this.lastFloorZoom=q,!0):(this.lastFloorZoom>q?(this.lastIntegerZoom=q+1,this.lastIntegerZoomTime=V):this.lastFloorZoom<q&&(this.lastIntegerZoom=q,this.lastIntegerZoomTime=V),I!==this.lastZoom&&(this.lastZoom=I,this.lastFloorZoom=q,!0))};var mt={"Latin-1 Supplement":function(R){return R>=128&&R<=255},Arabic:function(R){return R>=1536&&R<=1791},"Arabic Supplement":function(R){return R>=1872&&R<=1919},"Arabic Extended-A":function(R){return R>=2208&&R<=2303},"Hangul Jamo":function(R){return R>=4352&&R<=4607},"Unified Canadian Aboriginal Syllabics":function(R){return R>=5120&&R<=5759},Khmer:function(R){return R>=6016&&R<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(R){return R>=6320&&R<=6399},"General Punctuation":function(R){return R>=8192&&R<=8303},"Letterlike Symbols":function(R){return R>=8448&&R<=8527},"Number Forms":function(R){return R>=8528&&R<=8591},"Miscellaneous Technical":function(R){return R>=8960&&R<=9215},"Control Pictures":function(R){return R>=9216&&R<=9279},"Optical Character Recognition":function(R){return R>=9280&&R<=9311},"Enclosed Alphanumerics":function(R){return R>=9312&&R<=9471},"Geometric Shapes":function(R){return R>=9632&&R<=9727},"Miscellaneous Symbols":function(R){return R>=9728&&R<=9983},"Miscellaneous Symbols and Arrows":function(R){return R>=11008&&R<=11263},"CJK Radicals Supplement":function(R){return R>=11904&&R<=12031},"Kangxi Radicals":function(R){return R>=12032&&R<=12255},"Ideographic Description Characters":function(R){return R>=12272&&R<=12287},"CJK Symbols and Punctuation":function(R){return R>=12288&&R<=12351},Hiragana:function(R){return R>=12352&&R<=12447},Katakana:function(R){return R>=12448&&R<=12543},Bopomofo:function(R){return R>=12544&&R<=12591},"Hangul Compatibility Jamo":function(R){return R>=12592&&R<=12687},Kanbun:function(R){return R>=12688&&R<=12703},"Bopomofo Extended":function(R){return R>=12704&&R<=12735},"CJK Strokes":function(R){return R>=12736&&R<=12783},"Katakana Phonetic Extensions":function(R){return R>=12784&&R<=12799},"Enclosed CJK Letters and Months":function(R){return R>=12800&&R<=13055},"CJK Compatibility":function(R){return R>=13056&&R<=13311},"CJK Unified Ideographs Extension A":function(R){return R>=13312&&R<=19903},"Yijing Hexagram Symbols":function(R){return R>=19904&&R<=19967},"CJK Unified Ideographs":function(R){return R>=19968&&R<=40959},"Yi Syllables":function(R){return R>=40960&&R<=42127},"Yi Radicals":function(R){return R>=42128&&R<=42191},"Hangul Jamo Extended-A":function(R){return R>=43360&&R<=43391},"Hangul Syllables":function(R){return R>=44032&&R<=55215},"Hangul Jamo Extended-B":function(R){return R>=55216&&R<=55295},"Private Use Area":function(R){return R>=57344&&R<=63743},"CJK Compatibility Ideographs":function(R){return R>=63744&&R<=64255},"Arabic Presentation Forms-A":function(R){return R>=64336&&R<=65023},"Vertical Forms":function(R){return R>=65040&&R<=65055},"CJK Compatibility Forms":function(R){return R>=65072&&R<=65103},"Small Form Variants":function(R){return R>=65104&&R<=65135},"Arabic Presentation Forms-B":function(R){return R>=65136&&R<=65279},"Halfwidth and Fullwidth Forms":function(R){return R>=65280&&R<=65519}};function Bt(R){for(var I=0,V=R;I<V.length;I+=1)if(Ee(V[I].charCodeAt(0)))return!0;return!1}function Jt(R){return!(mt.Arabic(R)||mt["Arabic Supplement"](R)||mt["Arabic Extended-A"](R)||mt["Arabic Presentation Forms-A"](R)||mt["Arabic Presentation Forms-B"](R))}function ee(R){return!(R<11904||!(mt["Bopomofo Extended"](R)||mt.Bopomofo(R)||mt["CJK Compatibility Forms"](R)||mt["CJK Compatibility Ideographs"](R)||mt["CJK Compatibility"](R)||mt["CJK Radicals Supplement"](R)||mt["CJK Strokes"](R)||mt["CJK Symbols and Punctuation"](R)||mt["CJK Unified Ideographs Extension A"](R)||mt["CJK Unified Ideographs"](R)||mt["Enclosed CJK Letters and Months"](R)||mt["Halfwidth and Fullwidth Forms"](R)||mt.Hiragana(R)||mt["Ideographic Description Characters"](R)||mt["Kangxi Radicals"](R)||mt["Katakana Phonetic Extensions"](R)||mt.Katakana(R)||mt["Vertical Forms"](R)||mt["Yi Radicals"](R)||mt["Yi Syllables"](R)))}function Ee(R){return 746===R||747===R||!(R<4352)&&!!(mt["Bopomofo Extended"](R)||mt.Bopomofo(R)||mt["CJK Compatibility Forms"](R)&&!(R>=65097&&R<=65103)||mt["CJK Compatibility Ideographs"](R)||mt["CJK Compatibility"](R)||mt["CJK Radicals Supplement"](R)||mt["CJK Strokes"](R)||mt["CJK Symbols and Punctuation"](R)&&!(R>=12296&&R<=12305)&&!(R>=12308&&R<=12319)&&12336!==R||mt["CJK Unified Ideographs Extension A"](R)||mt["CJK Unified Ideographs"](R)||mt["Enclosed CJK Letters and Months"](R)||mt["Hangul Compatibility Jamo"](R)||mt["Hangul Jamo Extended-A"](R)||mt["Hangul Jamo Extended-B"](R)||mt["Hangul Jamo"](R)||mt["Hangul Syllables"](R)||mt.Hiragana(R)||mt["Ideographic Description Characters"](R)||mt.Kanbun(R)||mt["Kangxi Radicals"](R)||mt["Katakana Phonetic Extensions"](R)||mt.Katakana(R)&&12540!==R||!(!mt["Halfwidth and Fullwidth Forms"](R)||65288===R||65289===R||65293===R||R>=65306&&R<=65310||65339===R||65341===R||65343===R||R>=65371&&R<=65503||65507===R||R>=65512&&R<=65519)||!(!mt["Small Form Variants"](R)||R>=65112&&R<=65118||R>=65123&&R<=65126)||mt["Unified Canadian Aboriginal Syllabics"](R)||mt["Unified Canadian Aboriginal Syllabics Extended"](R)||mt["Vertical Forms"](R)||mt["Yijing Hexagram Symbols"](R)||mt["Yi Syllables"](R)||mt["Yi Radicals"](R))}function ze(R){return!(Ee(R)||function me(R){return!!(mt["Latin-1 Supplement"](R)&&(167===R||169===R||174===R||177===R||188===R||189===R||190===R||215===R||247===R)||mt["General Punctuation"](R)&&(8214===R||8224===R||8225===R||8240===R||8241===R||8251===R||8252===R||8258===R||8263===R||8264===R||8265===R||8273===R)||mt["Letterlike Symbols"](R)||mt["Number Forms"](R)||mt["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||9003===R||R>=9085&&R<=9114||R>=9150&&R<=9165||9167===R||R>=9169&&R<=9179||R>=9186&&R<=9215)||mt["Control Pictures"](R)&&9251!==R||mt["Optical Character Recognition"](R)||mt["Enclosed Alphanumerics"](R)||mt["Geometric Shapes"](R)||mt["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||mt["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||mt["CJK Symbols and Punctuation"](R)||mt.Katakana(R)||mt["Private Use Area"](R)||mt["CJK Compatibility Forms"](R)||mt["Small Form Variants"](R)||mt["Halfwidth and Fullwidth Forms"](R)||8734===R||8756===R||8757===R||R>=9984&&R<=10087||R>=10102&&R<=10131||65532===R||65533===R)}(R))}function $e(R){return mt.Arabic(R)||mt["Arabic Supplement"](R)||mt["Arabic Extended-A"](R)||mt["Arabic Presentation Forms-A"](R)||mt["Arabic Presentation Forms-B"](R)}function er(R){return R>=1424&&R<=2303||mt["Arabic Presentation Forms-A"](R)||mt["Arabic Presentation Forms-B"](R)}function Sr(R,I){return!(!I&&er(R)||R>=2304&&R<=3583||R>=3840&&R<=4255||mt.Khmer(R))}function Ar(R){for(var I=0,V=R;I<V.length;I+=1)if(er(V[I].charCodeAt(0)))return!0;return!1}var tn_deferred="deferred",tn_loading="loading",tn_loaded="loaded",tn_error="error",Rr=null,Or="unavailable",Vr=null,nn=function(R){R&&"string"==typeof R&&R.indexOf("NetworkError")>-1&&(Or=tn_error),Rr&&Rr(R)};function ln(){Xr.fire(new We("pluginStateChange",{pluginStatus:Or,pluginURL:Vr}))}var Xr=new or,In=function(){return Or},ra=function(){if(Or!==tn_deferred||!Vr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Or=tn_loading,ln(),Vr&&xe({url:Vr},function(R){R?nn(R):(Or=tn_loaded,ln())})},na={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Or===tn_loaded||null!=na.applyArabicShaping},isLoading:function(){return Or===tn_loading},setState:function(I){Or=I.pluginStatus,Vr=I.pluginURL},isParsed:function(){return null!=na.applyArabicShaping&&null!=na.processBidirectionalText&&null!=na.processStyledBidirectionalText},getPluginURL:function(){return Vr}},va=function(I,V){this.zoom=I,V?(this.now=V.now,this.fadeDuration=V.fadeDuration,this.zoomHistory=V.zoomHistory,this.transition=V.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ot,this.transition={})};va.prototype.isSupportedScript=function(I){return function Jr(R,I){for(var V=0,q=R;V<q.length;V+=1)if(!Sr(q[V].charCodeAt(0),I))return!1;return!0}(I,na.isLoaded())},va.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},va.prototype.getCrossfadeParameters=function(){var I=this.zoom,V=I-Math.floor(I),q=this.crossFadingFactor();return I>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:V+(1-V)*q}:{fromScale:.5,toScale:1,t:1-(1-q)*V}};var da=function(I,V){this.property=I,this.value=V,this.expression=function vl(R,I){if(Gs(R))return new hs(R,I);if(fl(R)){var V=hl(R,I);if("error"===V.result)throw new Error(V.value.map(function(ft){return ft.key+": "+ft.message}).join(", "));return V.value}var q=R;return"string"==typeof R&&"color"===I.type&&(q=Ga.parse(R)),{kind:"constant",evaluate:function(){return q}}}(void 0===V?I.specification.default:V,I.specification)};da.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},da.prototype.possiblyEvaluate=function(I,V,q){return this.property.possiblyEvaluate(this,I,V,q)};var Sa=function(I){this.property=I,this.value=new da(I,void 0)};Sa.prototype.transitioned=function(I,V){return new mi(this.property,this.value,V,o({},I.transition,this.transition),I.now)},Sa.prototype.untransitioned=function(){return new mi(this.property,this.value,null,{},0)};var Na=function(I){this._properties=I,this._values=Object.create(I.defaultTransitionablePropertyValues)};Na.prototype.getValue=function(I){return p(this._values[I].value.value)},Na.prototype.setValue=function(I,V){this._values.hasOwnProperty(I)||(this._values[I]=new Sa(this._values[I].property)),this._values[I].value=new da(this._values[I].property,null===V?void 0:p(V))},Na.prototype.getTransition=function(I){return p(this._values[I].transition)},Na.prototype.setTransition=function(I,V){this._values.hasOwnProperty(I)||(this._values[I]=new Sa(this._values[I].property)),this._values[I].transition=p(V)||void 0},Na.prototype.serialize=function(){for(var I={},V=0,q=Object.keys(this._values);V<q.length;V+=1){var ft=q[V],xt=this.getValue(ft);void 0!==xt&&(I[ft]=xt);var At=this.getTransition(ft);void 0!==At&&(I[ft+"-transition"]=At)}return I},Na.prototype.transitioned=function(I,V){for(var q=new ja(this._properties),ft=0,xt=Object.keys(this._values);ft<xt.length;ft+=1){var At=xt[ft];q._values[At]=this._values[At].transitioned(I,V._values[At])}return q},Na.prototype.untransitioned=function(){for(var I=new ja(this._properties),V=0,q=Object.keys(this._values);V<q.length;V+=1){var ft=q[V];I._values[ft]=this._values[ft].untransitioned()}return I};var mi=function(I,V,q,ft,xt){this.property=I,this.value=V,this.begin=xt+ft.delay||0,this.end=this.begin+ft.duration||0,I.specification.transition&&(ft.delay||ft.duration)&&(this.prior=q)};mi.prototype.possiblyEvaluate=function(I,V,q){var ft=I.now||0,xt=this.value.possiblyEvaluate(I,V,q),At=this.prior;if(At){if(ft>this.end)return this.prior=null,xt;if(this.value.isDataDriven())return this.prior=null,xt;if(ft<this.begin)return At.possiblyEvaluate(I,V,q);var jt=(ft-this.begin)/(this.end-this.begin);return this.property.interpolate(At.possiblyEvaluate(I,V,q),xt,function a(R){if(R<=0)return 0;if(R>=1)return 1;var I=R*R,V=I*R;return 4*(R<.5?V:3*(R-I)+V-.75)}(jt))}return xt};var ja=function(I){this._properties=I,this._values=Object.create(I.defaultTransitioningPropertyValues)};ja.prototype.possiblyEvaluate=function(I,V,q){for(var ft=new Ea(this._properties),xt=0,At=Object.keys(this._values);xt<At.length;xt+=1){var jt=At[xt];ft._values[jt]=this._values[jt].possiblyEvaluate(I,V,q)}return ft},ja.prototype.hasTransition=function(){for(var I=0,V=Object.keys(this._values);I<V.length;I+=1)if(this._values[V[I]].prior)return!0;return!1};var jn=function(I){this._properties=I,this._values=Object.create(I.defaultPropertyValues)};jn.prototype.getValue=function(I){return p(this._values[I].value)},jn.prototype.setValue=function(I,V){this._values[I]=new da(this._values[I].property,null===V?void 0:p(V))},jn.prototype.serialize=function(){for(var I={},V=0,q=Object.keys(this._values);V<q.length;V+=1){var ft=q[V],xt=this.getValue(ft);void 0!==xt&&(I[ft]=xt)}return I},jn.prototype.possiblyEvaluate=function(I,V,q){for(var ft=new Ea(this._properties),xt=0,At=Object.keys(this._values);xt<At.length;xt+=1){var jt=At[xt];ft._values[jt]=this._values[jt].possiblyEvaluate(I,V,q)}return ft};var La=function(I,V,q){this.property=I,this.value=V,this.parameters=q};La.prototype.isConstant=function(){return"constant"===this.value.kind},La.prototype.constantOr=function(I){return"constant"===this.value.kind?this.value.value:I},La.prototype.evaluate=function(I,V,q,ft){return this.property.evaluate(this.value,this.parameters,I,V,q,ft)};var Ea=function(I){this._properties=I,this._values=Object.create(I.defaultPossiblyEvaluatedValues)};Ea.prototype.get=function(I){return this._values[I]};var Wn=function(I){this.specification=I};Wn.prototype.possiblyEvaluate=function(I,V){return I.expression.evaluate(V)},Wn.prototype.interpolate=function(I,V,q){var ft=Os[this.specification.type];return ft?ft(I,V,q):I};var ua=function(I,V){this.specification=I,this.overrides=V};ua.prototype.possiblyEvaluate=function(I,V,q,ft){return new La(this,"constant"===I.expression.kind||"camera"===I.expression.kind?{kind:"constant",value:I.expression.evaluate(V,null,{},q,ft)}:I.expression,V)},ua.prototype.interpolate=function(I,V,q){if("constant"!==I.value.kind||"constant"!==V.value.kind)return I;if(void 0===I.value.value||void 0===V.value.value)return new La(this,{kind:"constant",value:void 0},I.parameters);var ft=Os[this.specification.type];return ft?new La(this,{kind:"constant",value:ft(I.value.value,V.value.value,q)},I.parameters):I},ua.prototype.evaluate=function(I,V,q,ft,xt,At){return"constant"===I.kind?I.value:I.evaluate(V,q,ft,xt,At)};var ii=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.possiblyEvaluate=function(q,ft,xt,At){if(void 0===q.value)return new La(this,{kind:"constant",value:void 0},ft);if("constant"===q.expression.kind){var jt=q.expression.evaluate(ft,null,{},xt,At),ge="resolvedImage"===q.property.specification.type&&"string"!=typeof jt?jt.name:jt,we=this._calculate(ge,ge,ge,ft);return new La(this,{kind:"constant",value:we},ft)}if("camera"===q.expression.kind){var Ne=this._calculate(q.expression.evaluate({zoom:ft.zoom-1}),q.expression.evaluate({zoom:ft.zoom}),q.expression.evaluate({zoom:ft.zoom+1}),ft);return new La(this,{kind:"constant",value:Ne},ft)}return new La(this,q.expression,ft)},I.prototype.evaluate=function(q,ft,xt,At,jt,se){if("source"===q.kind){var ge=q.evaluate(ft,xt,At,jt,se);return this._calculate(ge,ge,ge,ft)}return"composite"===q.kind?this._calculate(q.evaluate({zoom:Math.floor(ft.zoom)-1},xt,At),q.evaluate({zoom:Math.floor(ft.zoom)},xt,At),q.evaluate({zoom:Math.floor(ft.zoom)+1},xt,At),ft):q.value},I.prototype._calculate=function(q,ft,xt,At){return At.zoom>At.zoomHistory.lastIntegerZoom?{from:q,to:ft}:{from:xt,to:ft}},I.prototype.interpolate=function(q){return q},I}(ua),di=function(I){this.specification=I};di.prototype.possiblyEvaluate=function(I,V,q,ft){if(void 0!==I.value){if("constant"===I.expression.kind){var xt=I.expression.evaluate(V,null,{},q,ft);return this._calculate(xt,xt,xt,V)}return this._calculate(I.expression.evaluate(new va(Math.floor(V.zoom-1),V)),I.expression.evaluate(new va(Math.floor(V.zoom),V)),I.expression.evaluate(new va(Math.floor(V.zoom+1),V)),V)}},di.prototype._calculate=function(I,V,q,ft){return ft.zoom>ft.zoomHistory.lastIntegerZoom?{from:I,to:V}:{from:q,to:V}},di.prototype.interpolate=function(I){return I};var Ai=function(I){this.specification=I};Ai.prototype.possiblyEvaluate=function(I,V,q,ft){return!!I.expression.evaluate(V,null,{},q,ft)},Ai.prototype.interpolate=function(){return!1};var ri=function(I){for(var V in this.properties=I,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],I){var q=I[V];q.specification.overridable&&this.overridableProperties.push(V);var ft=this.defaultPropertyValues[V]=new da(q,void 0),xt=this.defaultTransitionablePropertyValues[V]=new Sa(q);this.defaultTransitioningPropertyValues[V]=xt.untransitioned(),this.defaultPossiblyEvaluatedValues[V]=ft.possiblyEvaluate({})}};ea("DataDrivenProperty",ua),ea("DataConstantProperty",Wn),ea("CrossFadedDataDrivenProperty",ii),ea("CrossFadedProperty",di),ea("ColorRampProperty",Ai);var Pi="-transition",Mi=function(R){function I(V,q){if(R.call(this),this.id=V.id,this.type=V.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==V.type&&(this.metadata=V.metadata,this.minzoom=V.minzoom,this.maxzoom=V.maxzoom,"background"!==V.type&&(this.source=V.source,this.sourceLayer=V["source-layer"],this.filter=V.filter),q.layout&&(this._unevaluatedLayout=new jn(q.layout)),q.paint)){for(var ft in this._transitionablePaint=new Na(q.paint),V.paint)this.setPaintProperty(ft,V.paint[ft],{validate:!1});for(var xt in V.layout)this.setLayoutProperty(xt,V.layout[xt],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ea(q.paint)}}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},I.prototype.getLayoutProperty=function(q){return"visibility"===q?this.visibility:this._unevaluatedLayout.getValue(q)},I.prototype.setLayoutProperty=function(q,ft,xt){void 0===xt&&(xt={}),null!=ft&&this._validate(kn,"layers."+this.id+".layout."+q,q,ft,xt)||("visibility"!==q?this._unevaluatedLayout.setValue(q,ft):this.visibility=ft)},I.prototype.getPaintProperty=function(q){return b(q,Pi)?this._transitionablePaint.getTransition(q.slice(0,-Pi.length)):this._transitionablePaint.getValue(q)},I.prototype.setPaintProperty=function(q,ft,xt){if(void 0===xt&&(xt={}),null!=ft&&this._validate(bn,"layers."+this.id+".paint."+q,q,ft,xt))return!1;if(b(q,Pi))return this._transitionablePaint.setTransition(q.slice(0,-Pi.length),ft||void 0),!1;var jt=this._transitionablePaint._values[q],se="cross-faded-data-driven"===jt.property.specification["property-type"],ge=jt.value.isDataDriven(),we=jt.value;this._transitionablePaint.setValue(q,ft),this._handleSpecialPaintPropertyUpdate(q);var Ne=this._transitionablePaint._values[q].value;return Ne.isDataDriven()||ge||se||this._handleOverridablePaintPropertyUpdate(q,we,Ne)},I.prototype._handleSpecialPaintPropertyUpdate=function(q){},I.prototype._handleOverridablePaintPropertyUpdate=function(q,ft,xt){return!1},I.prototype.isHidden=function(q){return!!(this.minzoom&&q<this.minzoom||this.maxzoom&&q>=this.maxzoom)||"none"===this.visibility},I.prototype.updateTransitions=function(q){this._transitioningPaint=this._transitionablePaint.transitioned(q,this._transitioningPaint)},I.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},I.prototype.recalculate=function(q,ft){q.getCrossfadeParameters&&(this._crossfadeParameters=q.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(q,void 0,ft)),this.paint=this._transitioningPaint.possiblyEvaluate(q,void 0,ft)},I.prototype.serialize=function(){var q={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(q.layout=q.layout||{},q.layout.visibility=this.visibility),C(q,function(ft,xt){return!(void 0===ft||"layout"===xt&&!Object.keys(ft).length||"paint"===xt&&!Object.keys(ft).length)})},I.prototype._validate=function(q,ft,xt,At,jt){return void 0===jt&&(jt={}),(!jt||!1!==jt.validate)&&_n(this,q.call(jr,{key:ft,layerType:this.type,objectKey:xt,value:At,styleSpec:Xe,style:{glyphs:!0,sprite:!0}}))},I.prototype.is3D=function(){return!1},I.prototype.isTileClipped=function(){return!1},I.prototype.hasOffscreenPass=function(){return!1},I.prototype.resize=function(){},I.prototype.isStateDependent=function(){for(var q in this.paint._values){var ft=this.paint.get(q);if(ft instanceof La&&Jo(ft.property.specification)&&("source"===ft.value.kind||"composite"===ft.value.kind)&&ft.value.isStateDependent)return!0}return!1},I}(or),Vi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ti=function(I,V){this._structArray=I,this._pos1=V*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ua=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Wa(R,I){void 0===I&&(I=1);var V=0,q=0;return{members:R.map(function(At){var jt=function Bo(R){return Vi[R].BYTES_PER_ELEMENT}(At.type),se=V=So(V,Math.max(I,jt)),ge=At.components||1;return q=Math.max(q,jt),V+=jt*ge,{name:At.name,type:At.type,components:ge,offset:se}}),size:So(V,Math.max(q,I)),alignment:I}}function So(R,I){return Math.ceil(R/I)*I}Ua.serialize=function(I,V){return I._trim(),V&&(I.isTransferred=!0,V.push(I.arrayBuffer)),{length:I.length,arrayBuffer:I.arrayBuffer}},Ua.deserialize=function(I){var V=Object.create(this.prototype);return V.arrayBuffer=I.arrayBuffer,V.length=I.length,V.capacity=I.arrayBuffer.byteLength/V.bytesPerElement,V._refreshViews(),V},Ua.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ua.prototype.clear=function(){this.length=0},Ua.prototype.resize=function(I){this.reserve(I),this.length=I},Ua.prototype.reserve=function(I){if(I>this.capacity){this.capacity=Math.max(I,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var V=this.uint8;this._refreshViews(),V&&this.uint8.set(V)}},Ua.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var io=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft){var xt=this.length;return this.resize(xt+1),this.emplace(xt,q,ft)},I.prototype.emplace=function(q,ft,xt){var At=2*q;return this.int16[At+0]=ft,this.int16[At+1]=xt,q},I}(Ua);io.prototype.bytesPerElement=4,ea("StructArrayLayout2i4",io);var Eo=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt,At){var jt=this.length;return this.resize(jt+1),this.emplace(jt,q,ft,xt,At)},I.prototype.emplace=function(q,ft,xt,At,jt){var se=4*q;return this.int16[se+0]=ft,this.int16[se+1]=xt,this.int16[se+2]=At,this.int16[se+3]=jt,q},I}(Ua);Eo.prototype.bytesPerElement=8,ea("StructArrayLayout4i8",Eo);var No=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt,At,jt,se){var ge=this.length;return this.resize(ge+1),this.emplace(ge,q,ft,xt,At,jt,se)},I.prototype.emplace=function(q,ft,xt,At,jt,se,ge){var we=6*q;return this.int16[we+0]=ft,this.int16[we+1]=xt,this.int16[we+2]=At,this.int16[we+3]=jt,this.int16[we+4]=se,this.int16[we+5]=ge,q},I}(Ua);No.prototype.bytesPerElement=12,ea("StructArrayLayout2i4i12",No);var _o=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt,At,jt,se){var ge=this.length;return this.resize(ge+1),this.emplace(ge,q,ft,xt,At,jt,se)},I.prototype.emplace=function(q,ft,xt,At,jt,se,ge){var we=4*q,Ne=8*q;return this.int16[we+0]=ft,this.int16[we+1]=xt,this.uint8[Ne+4]=At,this.uint8[Ne+5]=jt,this.uint8[Ne+6]=se,this.uint8[Ne+7]=ge,q},I}(Ua);_o.prototype.bytesPerElement=8,ea("StructArrayLayout2i4ub8",_o);var Ki=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt,At,jt,se,ge,we,Ne,nr){var _e=this.length;return this.resize(_e+1),this.emplace(_e,q,ft,xt,At,jt,se,ge,we,Ne,nr)},I.prototype.emplace=function(q,ft,xt,At,jt,se,ge,we,Ne,nr,_e){var xr=9*q,Nr=18*q;return this.uint16[xr+0]=ft,this.uint16[xr+1]=xt,this.uint16[xr+2]=At,this.uint16[xr+3]=jt,this.uint16[xr+4]=se,this.uint16[xr+5]=ge,this.uint16[xr+6]=we,this.uint16[xr+7]=Ne,this.uint8[Nr+16]=nr,this.uint8[Nr+17]=_e,q},I}(Ua);Ki.prototype.bytesPerElement=18,ea("StructArrayLayout8ui2ub18",Ki);var Ps=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt,At,jt,se,ge,we,Ne,nr,_e,xr){var Nr=this.length;return this.resize(Nr+1),this.emplace(Nr,q,ft,xt,At,jt,se,ge,we,Ne,nr,_e,xr)},I.prototype.emplace=function(q,ft,xt,At,jt,se,ge,we,Ne,nr,_e,xr,Nr){var on=12*q;return this.int16[on+0]=ft,this.int16[on+1]=xt,this.int16[on+2]=At,this.int16[on+3]=jt,this.uint16[on+4]=se,this.uint16[on+5]=ge,this.uint16[on+6]=we,this.uint16[on+7]=Ne,this.int16[on+8]=nr,this.int16[on+9]=_e,this.int16[on+10]=xr,this.int16[on+11]=Nr,q},I}(Ua);Ps.prototype.bytesPerElement=24,ea("StructArrayLayout4i4ui4i24",Ps);var qf=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt){var At=this.length;return this.resize(At+1),this.emplace(At,q,ft,xt)},I.prototype.emplace=function(q,ft,xt,At){var jt=3*q;return this.float32[jt+0]=ft,this.float32[jt+1]=xt,this.float32[jt+2]=At,q},I}(Ua);qf.prototype.bytesPerElement=12,ea("StructArrayLayout3f12",qf);var tc=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q){var ft=this.length;return this.resize(ft+1),this.emplace(ft,q)},I.prototype.emplace=function(q,ft){return this.uint32[1*q+0]=ft,q},I}(Ua);tc.prototype.bytesPerElement=4,ea("StructArrayLayout1ul4",tc);var yf=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt,At,jt,se,ge,we,Ne){var nr=this.length;return this.resize(nr+1),this.emplace(nr,q,ft,xt,At,jt,se,ge,we,Ne)},I.prototype.emplace=function(q,ft,xt,At,jt,se,ge,we,Ne,nr){var _e=10*q,xr=5*q;return this.int16[_e+0]=ft,this.int16[_e+1]=xt,this.int16[_e+2]=At,this.int16[_e+3]=jt,this.int16[_e+4]=se,this.int16[_e+5]=ge,this.uint32[xr+3]=we,this.uint16[_e+8]=Ne,this.uint16[_e+9]=nr,q},I}(Ua);yf.prototype.bytesPerElement=20,ea("StructArrayLayout6i1ul2ui20",yf);var Lf=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt,At,jt,se){var ge=this.length;return this.resize(ge+1),this.emplace(ge,q,ft,xt,At,jt,se)},I.prototype.emplace=function(q,ft,xt,At,jt,se,ge){var we=6*q;return this.int16[we+0]=ft,this.int16[we+1]=xt,this.int16[we+2]=At,this.int16[we+3]=jt,this.int16[we+4]=se,this.int16[we+5]=ge,q},I}(Ua);Lf.prototype.bytesPerElement=12,ea("StructArrayLayout2i2i2i12",Lf);var xl=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt,At,jt){var se=this.length;return this.resize(se+1),this.emplace(se,q,ft,xt,At,jt)},I.prototype.emplace=function(q,ft,xt,At,jt,se){var ge=4*q,we=8*q;return this.float32[ge+0]=ft,this.float32[ge+1]=xt,this.float32[ge+2]=At,this.int16[we+6]=jt,this.int16[we+7]=se,q},I}(Ua);xl.prototype.bytesPerElement=16,ea("StructArrayLayout2f1f2i16",xl);var Uo=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt,At){var jt=this.length;return this.resize(jt+1),this.emplace(jt,q,ft,xt,At)},I.prototype.emplace=function(q,ft,xt,At,jt){var se=12*q,ge=3*q;return this.uint8[se+0]=ft,this.uint8[se+1]=xt,this.float32[ge+1]=At,this.float32[ge+2]=jt,q},I}(Ua);Uo.prototype.bytesPerElement=12,ea("StructArrayLayout2ub2f12",Uo);var bl=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt){var At=this.length;return this.resize(At+1),this.emplace(At,q,ft,xt)},I.prototype.emplace=function(q,ft,xt,At){var jt=3*q;return this.uint16[jt+0]=ft,this.uint16[jt+1]=xt,this.uint16[jt+2]=At,q},I}(Ua);bl.prototype.bytesPerElement=6,ea("StructArrayLayout3ui6",bl);var mf=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt,At,jt,se,ge,we,Ne,nr,_e,xr,Nr,on,$r,Tn,yn){var wn=this.length;return this.resize(wn+1),this.emplace(wn,q,ft,xt,At,jt,se,ge,we,Ne,nr,_e,xr,Nr,on,$r,Tn,yn)},I.prototype.emplace=function(q,ft,xt,At,jt,se,ge,we,Ne,nr,_e,xr,Nr,on,$r,Tn,yn,wn){var Dn=24*q,zn=12*q,Yn=48*q;return this.int16[Dn+0]=ft,this.int16[Dn+1]=xt,this.uint16[Dn+2]=At,this.uint16[Dn+3]=jt,this.uint32[zn+2]=se,this.uint32[zn+3]=ge,this.uint32[zn+4]=we,this.uint16[Dn+10]=Ne,this.uint16[Dn+11]=nr,this.uint16[Dn+12]=_e,this.float32[zn+7]=xr,this.float32[zn+8]=Nr,this.uint8[Yn+36]=on,this.uint8[Yn+37]=$r,this.uint8[Yn+38]=Tn,this.uint32[zn+10]=yn,this.int16[Dn+22]=wn,q},I}(Ua);mf.prototype.bytesPerElement=48,ea("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",mf);var Pf=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt,At,jt,se,ge,we,Ne,nr,_e,xr,Nr,on,$r,Tn,yn,wn,Dn,zn,Yn,Hn,wa,la,ca,Ia,ga,ba){var Oa=this.length;return this.resize(Oa+1),this.emplace(Oa,q,ft,xt,At,jt,se,ge,we,Ne,nr,_e,xr,Nr,on,$r,Tn,yn,wn,Dn,zn,Yn,Hn,wa,la,ca,Ia,ga,ba)},I.prototype.emplace=function(q,ft,xt,At,jt,se,ge,we,Ne,nr,_e,xr,Nr,on,$r,Tn,yn,wn,Dn,zn,Yn,Hn,wa,la,ca,Ia,ga,ba,Oa){var Pa=34*q,Ka=17*q;return this.int16[Pa+0]=ft,this.int16[Pa+1]=xt,this.int16[Pa+2]=At,this.int16[Pa+3]=jt,this.int16[Pa+4]=se,this.int16[Pa+5]=ge,this.int16[Pa+6]=we,this.int16[Pa+7]=Ne,this.uint16[Pa+8]=nr,this.uint16[Pa+9]=_e,this.uint16[Pa+10]=xr,this.uint16[Pa+11]=Nr,this.uint16[Pa+12]=on,this.uint16[Pa+13]=$r,this.uint16[Pa+14]=Tn,this.uint16[Pa+15]=yn,this.uint16[Pa+16]=wn,this.uint16[Pa+17]=Dn,this.uint16[Pa+18]=zn,this.uint16[Pa+19]=Yn,this.uint16[Pa+20]=Hn,this.uint16[Pa+21]=wa,this.uint16[Pa+22]=la,this.uint32[Ka+12]=ca,this.float32[Ka+13]=Ia,this.float32[Ka+14]=ga,this.float32[Ka+15]=ba,this.float32[Ka+16]=Oa,q},I}(Ua);Pf.prototype.bytesPerElement=68,ea("StructArrayLayout8i15ui1ul4f68",Pf);var ju=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q){var ft=this.length;return this.resize(ft+1),this.emplace(ft,q)},I.prototype.emplace=function(q,ft){return this.float32[1*q+0]=ft,q},I}(Ua);ju.prototype.bytesPerElement=4,ea("StructArrayLayout1f4",ju);var ec=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt){var At=this.length;return this.resize(At+1),this.emplace(At,q,ft,xt)},I.prototype.emplace=function(q,ft,xt,At){var jt=3*q;return this.int16[jt+0]=ft,this.int16[jt+1]=xt,this.int16[jt+2]=At,q},I}(Ua);ec.prototype.bytesPerElement=6,ea("StructArrayLayout3i6",ec);var Zl=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt){var At=this.length;return this.resize(At+1),this.emplace(At,q,ft,xt)},I.prototype.emplace=function(q,ft,xt,At){var se=4*q;return this.uint32[2*q+0]=ft,this.uint16[se+2]=xt,this.uint16[se+3]=At,q},I}(Ua);Zl.prototype.bytesPerElement=8,ea("StructArrayLayout1ul2ui8",Zl);var xf=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft){var xt=this.length;return this.resize(xt+1),this.emplace(xt,q,ft)},I.prototype.emplace=function(q,ft,xt){var At=2*q;return this.uint16[At+0]=ft,this.uint16[At+1]=xt,q},I}(Ua);xf.prototype.bytesPerElement=4,ea("StructArrayLayout2ui4",xf);var Ku=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q){var ft=this.length;return this.resize(ft+1),this.emplace(ft,q)},I.prototype.emplace=function(q,ft){return this.uint16[1*q+0]=ft,q},I}(Ua);Ku.prototype.bytesPerElement=2,ea("StructArrayLayout1ui2",Ku);var Xl=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft){var xt=this.length;return this.resize(xt+1),this.emplace(xt,q,ft)},I.prototype.emplace=function(q,ft,xt){var At=2*q;return this.float32[At+0]=ft,this.float32[At+1]=xt,q},I}(Ua);Xl.prototype.bytesPerElement=8,ea("StructArrayLayout2f8",Xl);var rc=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(q,ft,xt,At){var jt=this.length;return this.resize(jt+1),this.emplace(jt,q,ft,xt,At)},I.prototype.emplace=function(q,ft,xt,At,jt){var se=4*q;return this.float32[se+0]=ft,this.float32[se+1]=xt,this.float32[se+2]=At,this.float32[se+3]=jt,q},I}(Ua);rc.prototype.bytesPerElement=16,ea("StructArrayLayout4f16",rc);var wc=function(R){function I(){R.apply(this,arguments)}R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I;var V={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return V.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},V.x1.get=function(){return this._structArray.int16[this._pos2+2]},V.y1.get=function(){return this._structArray.int16[this._pos2+3]},V.x2.get=function(){return this._structArray.int16[this._pos2+4]},V.y2.get=function(){return this._structArray.int16[this._pos2+5]},V.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},V.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},V.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},V.anchorPoint.get=function(){return new e(this.anchorPointX,this.anchorPointY)},Object.defineProperties(I.prototype,V),I}(ti);wc.prototype.size=20;var jl=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.get=function(q){return new wc(this,q)},I}(yf);ea("CollisionBoxArray",jl);var nc=function(R){function I(){R.apply(this,arguments)}R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I;var V={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return V.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},V.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},V.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},V.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},V.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},V.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},V.segment.get=function(){return this._structArray.uint16[this._pos2+10]},V.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},V.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},V.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},V.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},V.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},V.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},V.placedOrientation.set=function(q){this._structArray.uint8[this._pos1+37]=q},V.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},V.hidden.set=function(q){this._structArray.uint8[this._pos1+38]=q},V.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},V.crossTileID.set=function(q){this._structArray.uint32[this._pos4+10]=q},V.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(I.prototype,V),I}(ti);nc.prototype.size=48;var Ju=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.get=function(q){return new nc(this,q)},I}(mf);ea("PlacedSymbolArray",Ju);var Tc=function(R){function I(){R.apply(this,arguments)}R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I;var V={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return V.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},V.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},V.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},V.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},V.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},V.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},V.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},V.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},V.key.get=function(){return this._structArray.uint16[this._pos2+8]},V.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},V.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},V.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},V.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},V.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},V.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},V.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},V.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},V.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},V.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},V.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},V.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},V.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},V.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},V.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},V.crossTileID.set=function(q){this._structArray.uint32[this._pos4+12]=q},V.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},V.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},V.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},V.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(I.prototype,V),I}(ti);Tc.prototype.size=68;var Ac=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.get=function(q){return new Tc(this,q)},I}(Pf);ea("SymbolInstanceArray",Ac);var Ds=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.getoffsetX=function(q){return this.float32[1*q+0]},I}(ju);ea("GlyphOffsetArray",Ds);var Mc=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.getx=function(q){return this.int16[3*q+0]},I.prototype.gety=function(q){return this.int16[3*q+1]},I.prototype.gettileUnitDistanceFromAnchor=function(q){return this.int16[3*q+2]},I}(ec);ea("SymbolLineVertexArray",Mc);var Sc=function(R){function I(){R.apply(this,arguments)}R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I;var V={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return V.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},V.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},V.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(I.prototype,V),I}(ti);Sc.prototype.size=8;var ac=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.get=function(q){return new Sc(this,q)},I}(Zl);ea("FeatureIndexArray",ac);var lt=Wa([{name:"a_pos",components:2,type:"Int16"}],4).members,Y=function(I){void 0===I&&(I=[]),this.segments=I};function ct(R,I){return 256*(R=u(Math.floor(R),0,255))+u(Math.floor(I),0,255)}Y.prototype.prepareSegment=function(I,V,q,ft){var xt=this.segments[this.segments.length-1];return I>Y.MAX_VERTEX_ARRAY_LENGTH&&N("Max vertices per segment is "+Y.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+I),(!xt||xt.vertexLength+I>Y.MAX_VERTEX_ARRAY_LENGTH||xt.sortKey!==ft)&&(xt={vertexOffset:V.length,primitiveOffset:q.length,vertexLength:0,primitiveLength:0},void 0!==ft&&(xt.sortKey=ft),this.segments.push(xt)),xt},Y.prototype.get=function(){return this.segments},Y.prototype.destroy=function(){for(var I=0,V=this.segments;I<V.length;I+=1){var q=V[I];for(var ft in q.vaos)q.vaos[ft].destroy()}},Y.simpleSegment=function(I,V,q,ft){return new Y([{vertexOffset:I,primitiveOffset:V,vertexLength:q,primitiveLength:ft,vaos:{},sortKey:0}])},Y.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ea("SegmentVector",Y);var $=Wa([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),ht=P(function(R){R.exports=function I(V,q){var ft,xt,At,jt,se,ge,we,Ne;for(xt=V.length-(ft=3&V.length),At=q,se=3432918353,ge=461845907,Ne=0;Ne<xt;)we=255&V.charCodeAt(Ne)|(255&V.charCodeAt(++Ne))<<8|(255&V.charCodeAt(++Ne))<<16|(255&V.charCodeAt(++Ne))<<24,++Ne,At=27492+(65535&(jt=5*(65535&(At=(At^=we=(65535&(we=(we=(65535&we)*se+(((we>>>16)*se&65535)<<16)&4294967295)<<15|we>>>17))*ge+(((we>>>16)*ge&65535)<<16)&4294967295)<<13|At>>>19))+((5*(At>>>16)&65535)<<16)&4294967295))+((58964+(jt>>>16)&65535)<<16);switch(we=0,ft){case 3:we^=(255&V.charCodeAt(Ne+2))<<16;case 2:we^=(255&V.charCodeAt(Ne+1))<<8;case 1:At^=we=(65535&(we=(we=(65535&(we^=255&V.charCodeAt(Ne)))*se+(((we>>>16)*se&65535)<<16)&4294967295)<<15|we>>>17))*ge+(((we>>>16)*ge&65535)<<16)&4294967295}return At^=V.length,At=2246822507*(65535&(At^=At>>>16))+((2246822507*(At>>>16)&65535)<<16)&4294967295,At=3266489909*(65535&(At^=At>>>13))+((3266489909*(At>>>16)&65535)<<16)&4294967295,(At^=At>>>16)>>>0}}),Lt=P(function(R){R.exports=function I(V,q){for(var jt,ft=V.length,xt=q^ft,At=0;ft>=4;)jt=1540483477*(65535&(jt=255&V.charCodeAt(At)|(255&V.charCodeAt(++At))<<8|(255&V.charCodeAt(++At))<<16|(255&V.charCodeAt(++At))<<24))+((1540483477*(jt>>>16)&65535)<<16),xt=1540483477*(65535&xt)+((1540483477*(xt>>>16)&65535)<<16)^(jt=1540483477*(65535&(jt^=jt>>>24))+((1540483477*(jt>>>16)&65535)<<16)),ft-=4,++At;switch(ft){case 3:xt^=(255&V.charCodeAt(At+2))<<16;case 2:xt^=(255&V.charCodeAt(At+1))<<8;case 1:xt=1540483477*(65535&(xt^=255&V.charCodeAt(At)))+((1540483477*(xt>>>16)&65535)<<16)}return xt=1540483477*(65535&(xt^=xt>>>13))+((1540483477*(xt>>>16)&65535)<<16),(xt^=xt>>>15)>>>0}}),Wt=ht,de=Lt;Wt.murmur3=ht,Wt.murmur2=de;var Ie=function(){this.ids=[],this.positions=[],this.indexed=!1};Ie.prototype.add=function(I,V,q,ft){this.ids.push(fr(I)),this.positions.push(V,q,ft)},Ie.prototype.getPositions=function(I){for(var V=fr(I),q=0,ft=this.ids.length-1;q<ft;){var xt=q+ft>>1;this.ids[xt]>=V?ft=xt:q=xt+1}for(var At=[];this.ids[q]===V;)At.push({index:this.positions[3*q],start:this.positions[3*q+1],end:this.positions[3*q+2]}),q++;return At},Ie.serialize=function(I,V){var q=new Float64Array(I.ids),ft=new Uint32Array(I.positions);return mr(q,ft,0,q.length-1),V&&V.push(q.buffer,ft.buffer),{ids:q,positions:ft}},Ie.deserialize=function(I){var V=new Ie;return V.ids=I.ids,V.positions=I.positions,V.indexed=!0,V};var Je=Math.pow(2,53)-1;function fr(R){var I=+R;return!isNaN(I)&&I<=Je?I:Wt(String(R))}function mr(R,I,V,q){for(;V<q;){for(var ft=R[V+q>>1],xt=V-1,At=q+1;;){do{xt++}while(R[xt]<ft);do{At--}while(R[At]>ft);if(xt>=At)break;Ir(R,xt,At),Ir(I,3*xt,3*At),Ir(I,3*xt+1,3*At+1),Ir(I,3*xt+2,3*At+2)}At-V<q-At?(mr(R,I,V,At),V=At+1):(mr(R,I,At+1,q),q=At)}}function Ir(R,I,V){var q=R[I];R[I]=R[V],R[V]=q}ea("FeaturePositionMap",Ie);var Gr=function(I,V){this.gl=I.gl,this.location=V},Wr=function(R){function I(V,q){R.call(this,V,q),this.current=0}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.set=function(q){this.current!==q&&(this.current=q,this.gl.uniform1i(this.location,q))},I}(Gr),Ur=function(R){function I(V,q){R.call(this,V,q),this.current=0}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.set=function(q){this.current!==q&&(this.current=q,this.gl.uniform1f(this.location,q))},I}(Gr),Kr=function(R){function I(V,q){R.call(this,V,q),this.current=[0,0]}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.set=function(q){(q[0]!==this.current[0]||q[1]!==this.current[1])&&(this.current=q,this.gl.uniform2f(this.location,q[0],q[1]))},I}(Gr),fn=function(R){function I(V,q){R.call(this,V,q),this.current=[0,0,0]}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.set=function(q){(q[0]!==this.current[0]||q[1]!==this.current[1]||q[2]!==this.current[2])&&(this.current=q,this.gl.uniform3f(this.location,q[0],q[1],q[2]))},I}(Gr),Mn=function(R){function I(V,q){R.call(this,V,q),this.current=[0,0,0,0]}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.set=function(q){(q[0]!==this.current[0]||q[1]!==this.current[1]||q[2]!==this.current[2]||q[3]!==this.current[3])&&(this.current=q,this.gl.uniform4f(this.location,q[0],q[1],q[2],q[3]))},I}(Gr),Rn=function(R){function I(V,q){R.call(this,V,q),this.current=Ga.transparent}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.set=function(q){(q.r!==this.current.r||q.g!==this.current.g||q.b!==this.current.b||q.a!==this.current.a)&&(this.current=q,this.gl.uniform4f(this.location,q.r,q.g,q.b,q.a))},I}(Gr),Bn=new Float32Array(16),Un=function(R){function I(V,q){R.call(this,V,q),this.current=Bn}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.set=function(q){if(q[12]!==this.current[12]||q[0]!==this.current[0])return this.current=q,void this.gl.uniformMatrix4fv(this.location,!1,q);for(var ft=1;ft<16;ft++)if(q[ft]!==this.current[ft]){this.current=q,this.gl.uniformMatrix4fv(this.location,!1,q);break}},I}(Gr);function Nn(R){return[ct(255*R.r,255*R.g),ct(255*R.b,255*R.a)]}var $n=function(I,V,q){this.value=I,this.uniformNames=V.map(function(ft){return"u_"+ft}),this.type=q};$n.prototype.setUniform=function(I,V,q){I.set(q.constantOr(this.value))},$n.prototype.getBinding=function(I,V,q){return"color"===this.type?new Rn(I,V):new Ur(I,V)};var sa=function(I,V){this.uniformNames=V.map(function(q){return"u_"+q}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};sa.prototype.setConstantPatternPositions=function(I,V){this.pixelRatioFrom=V.pixelRatio,this.pixelRatioTo=I.pixelRatio,this.patternFrom=V.tlbr,this.patternTo=I.tlbr},sa.prototype.setUniform=function(I,V,q,ft){var xt="u_pattern_to"===ft?this.patternTo:"u_pattern_from"===ft?this.patternFrom:"u_pixel_ratio_to"===ft?this.pixelRatioTo:"u_pixel_ratio_from"===ft?this.pixelRatioFrom:null;xt&&I.set(xt)},sa.prototype.getBinding=function(I,V,q){return"u_pattern"===q.substr(0,9)?new Mn(I,V):new Ur(I,V)};var aa=function(I,V,q,ft){this.expression=I,this.type=q,this.maxValue=0,this.paintVertexAttributes=V.map(function(xt){return{name:"a_"+xt,type:"Float32",components:"color"===q?2:1,offset:0}}),this.paintVertexArray=new ft};aa.prototype.populatePaintArray=function(I,V,q,ft,xt){var At=this.paintVertexArray.length,jt=this.expression.evaluate(new va(0),V,{},ft,[],xt);this.paintVertexArray.resize(I),this._setPaintValue(At,I,jt)},aa.prototype.updatePaintArray=function(I,V,q,ft){var xt=this.expression.evaluate({zoom:0},q,ft);this._setPaintValue(I,V,xt)},aa.prototype._setPaintValue=function(I,V,q){if("color"===this.type)for(var ft=Nn(q),xt=I;xt<V;xt++)this.paintVertexArray.emplace(xt,ft[0],ft[1]);else{for(var At=I;At<V;At++)this.paintVertexArray.emplace(At,q);this.maxValue=Math.max(this.maxValue,Math.abs(q))}},aa.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},aa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var fa=function(I,V,q,ft,xt,At){this.expression=I,this.uniformNames=V.map(function(jt){return"u_"+jt+"_t"}),this.type=q,this.useIntegerZoom=ft,this.zoom=xt,this.maxValue=0,this.paintVertexAttributes=V.map(function(jt){return{name:"a_"+jt,type:"Float32",components:"color"===q?4:2,offset:0}}),this.paintVertexArray=new At};fa.prototype.populatePaintArray=function(I,V,q,ft,xt){var At=this.expression.evaluate(new va(this.zoom),V,{},ft,[],xt),jt=this.expression.evaluate(new va(this.zoom+1),V,{},ft,[],xt),se=this.paintVertexArray.length;this.paintVertexArray.resize(I),this._setPaintValue(se,I,At,jt)},fa.prototype.updatePaintArray=function(I,V,q,ft){var xt=this.expression.evaluate({zoom:this.zoom},q,ft),At=this.expression.evaluate({zoom:this.zoom+1},q,ft);this._setPaintValue(I,V,xt,At)},fa.prototype._setPaintValue=function(I,V,q,ft){if("color"===this.type)for(var xt=Nn(q),At=Nn(ft),jt=I;jt<V;jt++)this.paintVertexArray.emplace(jt,xt[0],xt[1],At[0],At[1]);else{for(var se=I;se<V;se++)this.paintVertexArray.emplace(se,q,ft);this.maxValue=Math.max(this.maxValue,Math.abs(q),Math.abs(ft))}},fa.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},fa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},fa.prototype.setUniform=function(I,V){var q=this.useIntegerZoom?Math.floor(V.zoom):V.zoom,ft=u(this.expression.interpolationFactor(q,this.zoom,this.zoom+1),0,1);I.set(ft)},fa.prototype.getBinding=function(I,V,q){return new Ur(I,V)};var pa=function(I,V,q,ft,xt,At){this.expression=I,this.type=V,this.useIntegerZoom=q,this.zoom=ft,this.layerId=At,this.zoomInPaintVertexArray=new xt,this.zoomOutPaintVertexArray=new xt};pa.prototype.populatePaintArray=function(I,V,q){var ft=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(I),this.zoomOutPaintVertexArray.resize(I),this._setPaintValues(ft,I,V.patterns&&V.patterns[this.layerId],q)},pa.prototype.updatePaintArray=function(I,V,q,ft,xt){this._setPaintValues(I,V,q.patterns&&q.patterns[this.layerId],xt)},pa.prototype._setPaintValues=function(I,V,q,ft){if(ft&&q){var se=ft[q.min],ge=ft[q.mid],we=ft[q.max];if(se&&ge&&we)for(var Ne=I;Ne<V;Ne++)this.zoomInPaintVertexArray.emplace(Ne,ge.tl[0],ge.tl[1],ge.br[0],ge.br[1],se.tl[0],se.tl[1],se.br[0],se.br[1],ge.pixelRatio,se.pixelRatio),this.zoomOutPaintVertexArray.emplace(Ne,ge.tl[0],ge.tl[1],ge.br[0],ge.br[1],we.tl[0],we.tl[1],we.br[0],we.br[1],ge.pixelRatio,we.pixelRatio)}},pa.prototype.upload=function(I){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=I.createVertexBuffer(this.zoomInPaintVertexArray,$.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=I.createVertexBuffer(this.zoomOutPaintVertexArray,$.members,this.expression.isStateDependent))},pa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ca=function(I,V,q,ft){this.binders={},this.layoutAttributes=ft,this._buffers=[];var xt=[];for(var At in I.paint._values)if(q(At)){var jt=I.paint.get(At);if(jt instanceof La&&Jo(jt.property.specification)){var se=$a(At,I.type),ge=jt.value,we=jt.property.specification.type,Ne=jt.property.useIntegerZoom,nr=jt.property.specification["property-type"],_e="cross-faded"===nr||"cross-faded-data-driven"===nr;if("constant"===ge.kind)this.binders[At]=_e?new sa(ge.value,se):new $n(ge.value,se,we),xt.push("/u_"+At);else if("source"===ge.kind||_e){var xr=Ha(At,we,"source");this.binders[At]=_e?new pa(ge,we,Ne,V,xr,I.id):new aa(ge,se,we,xr),xt.push("/a_"+At)}else{var Nr=Ha(At,we,"composite");this.binders[At]=new fa(ge,se,we,Ne,V,Nr),xt.push("/z_"+At)}}}this.cacheKey=xt.sort().join("")};Ca.prototype.getMaxValue=function(I){var V=this.binders[I];return V instanceof aa||V instanceof fa?V.maxValue:0},Ca.prototype.populatePaintArrays=function(I,V,q,ft,xt){for(var At in this.binders){var jt=this.binders[At];(jt instanceof aa||jt instanceof fa||jt instanceof pa)&&jt.populatePaintArray(I,V,q,ft,xt)}},Ca.prototype.setConstantPatternPositions=function(I,V){for(var q in this.binders){var ft=this.binders[q];ft instanceof sa&&ft.setConstantPatternPositions(I,V)}},Ca.prototype.updatePaintArrays=function(I,V,q,ft,xt){var At=!1;for(var jt in I)for(var ge=0,we=V.getPositions(jt);ge<we.length;ge+=1){var Ne=we[ge],nr=q.feature(Ne.index);for(var _e in this.binders){var xr=this.binders[_e];if((xr instanceof aa||xr instanceof fa||xr instanceof pa)&&!0===xr.expression.isStateDependent){var Nr=ft.paint.get(_e);xr.expression=Nr.value,xr.updatePaintArray(Ne.start,Ne.end,nr,I[jt],xt),At=!0}}}return At},Ca.prototype.defines=function(){var I=[];for(var V in this.binders){var q=this.binders[V];(q instanceof $n||q instanceof sa)&&I.push.apply(I,q.uniformNames.map(function(ft){return"#define HAS_UNIFORM_"+ft}))}return I},Ca.prototype.getPaintVertexBuffers=function(){return this._buffers},Ca.prototype.getUniforms=function(I,V){var q=[];for(var ft in this.binders){var xt=this.binders[ft];if(xt instanceof $n||xt instanceof sa||xt instanceof fa)for(var At=0,jt=xt.uniformNames;At<jt.length;At+=1){var se=jt[At];if(V[se]){var ge=xt.getBinding(I,V[se],se);q.push({name:se,property:ft,binding:ge})}}}return q},Ca.prototype.setUniforms=function(I,V,q,ft){for(var xt=0,At=V;xt<At.length;xt+=1){var jt=At[xt],se=jt.name,ge=jt.property;this.binders[ge].setUniform(jt.binding,ft,q.get(ge),se)}},Ca.prototype.updatePaintBuffers=function(I){for(var V in this._buffers=[],this.binders){var q=this.binders[V];if(I&&q instanceof pa){var ft=2===I.fromScale?q.zoomInPaintVertexBuffer:q.zoomOutPaintVertexBuffer;ft&&this._buffers.push(ft)}else(q instanceof aa||q instanceof fa)&&q.paintVertexBuffer&&this._buffers.push(q.paintVertexBuffer)}},Ca.prototype.upload=function(I){for(var V in this.binders){var q=this.binders[V];(q instanceof aa||q instanceof fa||q instanceof pa)&&q.upload(I)}this.updatePaintBuffers()},Ca.prototype.destroy=function(){for(var I in this.binders){var V=this.binders[I];(V instanceof aa||V instanceof fa||V instanceof pa)&&V.destroy()}};var Fa=function(I,V,q,ft){void 0===ft&&(ft=function(){return!0}),this.programConfigurations={};for(var xt=0,At=V;xt<At.length;xt+=1){var jt=At[xt];this.programConfigurations[jt.id]=new Ca(jt,q,ft,I)}this.needsUpload=!1,this._featureMap=new Ie,this._bufferOffset=0};function $a(R,I){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[R]||[R.replace(I+"-","").replace(/-/g,"_")]}function Ha(R,I,V){var q={color:{source:Xl,composite:rc},number:{source:ju,composite:Xl}},ft=function za(R){return{"line-pattern":{source:Ki,composite:Ki},"fill-pattern":{source:Ki,composite:Ki},"fill-extrusion-pattern":{source:Ki,composite:Ki}}[R]}(R);return ft&&ft[V]||q[I][V]}Fa.prototype.populatePaintArrays=function(I,V,q,ft,xt,At){for(var jt in this.programConfigurations)this.programConfigurations[jt].populatePaintArrays(I,V,ft,xt,At);void 0!==V.id&&this._featureMap.add(V.id,q,this._bufferOffset,I),this._bufferOffset=I,this.needsUpload=!0},Fa.prototype.updatePaintArrays=function(I,V,q,ft){for(var xt=0,At=q;xt<At.length;xt+=1){var jt=At[xt];this.needsUpload=this.programConfigurations[jt.id].updatePaintArrays(I,this._featureMap,V,jt,ft)||this.needsUpload}},Fa.prototype.get=function(I){return this.programConfigurations[I]},Fa.prototype.upload=function(I){if(this.needsUpload){for(var V in this.programConfigurations)this.programConfigurations[V].upload(I);this.needsUpload=!1}},Fa.prototype.destroy=function(){for(var I in this.programConfigurations)this.programConfigurations[I].destroy()},ea("ConstantBinder",$n),ea("CrossFadedConstantBinder",sa),ea("SourceExpressionBinder",aa),ea("CrossFadedCompositeBinder",pa),ea("CompositeExpressionBinder",fa),ea("ProgramConfiguration",Ca,{omit:["_buffers"]}),ea("ProgramConfigurationSet",Fa);var Ta=8192;var ni=function _a(R){return{min:-1*Math.pow(2,R-1),max:Math.pow(2,R-1)-1}}(15);function oi(R){for(var I=Ta/R.extent,V=R.loadGeometry(),q=0;q<V.length;q++)for(var ft=V[q],xt=0;xt<ft.length;xt++){var At=ft[xt];At.x=Math.round(At.x*I),At.y=Math.round(At.y*I),(At.x<ni.min||At.x>ni.max||At.y<ni.min||At.y>ni.max)&&(N("Geometry exceeds allowed extent, reduce your vector tile buffer size"),At.x=u(At.x,ni.min,ni.max),At.y=u(At.y,ni.min,ni.max))}return V}function Ya(R,I,V,q,ft){R.emplaceBack(2*I+(q+1)/2,2*V+(ft+1)/2)}var ci=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new io,this.indexArray=new bl,this.segments=new Y,this.programConfigurations=new Fa(lt,I.layers,I.zoom),this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};function ka(R,I){for(var V=0;V<R.length;V++)if(Co(I,R[V]))return!0;for(var q=0;q<I.length;q++)if(Co(R,I[q]))return!0;return!!ps(R,I)}function Za(R,I,V){return!(!Co(R,I)&&!Ks(I,R,V))}function Di(R,I){if(1===R.length)return Js(I,R[0]);for(var V=0;V<I.length;V++)for(var q=I[V],ft=0;ft<q.length;ft++)if(Co(R,q[ft]))return!0;for(var xt=0;xt<R.length;xt++)if(Js(I,R[xt]))return!0;for(var At=0;At<I.length;At++)if(ps(R,I[At]))return!0;return!1}function ds(R,I,V){if(R.length>1){if(ps(R,I))return!0;for(var q=0;q<I.length;q++)if(Ks(I[q],R,V))return!0}for(var ft=0;ft<R.length;ft++)if(Ks(R[ft],I,V))return!0;return!1}function ps(R,I){if(0===R.length||0===I.length)return!1;for(var V=0;V<R.length-1;V++)for(var q=R[V],ft=R[V+1],xt=0;xt<I.length-1;xt++)if(js(q,ft,I[xt],I[xt+1]))return!0;return!1}function js(R,I,V,q){return k(R,V,q)!==k(I,V,q)&&k(R,I,V)!==k(R,I,q)}function Ks(R,I,V){var q=V*V;if(1===I.length)return R.distSqr(I[0])<q;for(var ft=1;ft<I.length;ft++)if(wl(R,I[ft-1],I[ft])<q)return!0;return!1}function wl(R,I,V){var q=I.distSqr(V);if(0===q)return R.distSqr(I);var ft=((R.x-I.x)*(V.x-I.x)+(R.y-I.y)*(V.y-I.y))/q;return R.distSqr(ft<0?I:ft>1?V:V.sub(I)._mult(ft)._add(I))}function Js(R,I){for(var q,ft,xt,V=!1,At=0;At<R.length;At++)for(var jt=0,se=(q=R[At]).length-1;jt<q.length;se=jt++)(ft=q[jt]).y>I.y!=(xt=q[se]).y>I.y&&I.x<(xt.x-ft.x)*(I.y-ft.y)/(xt.y-ft.y)+ft.x&&(V=!V);return V}function Co(R,I){for(var V=!1,q=0,ft=R.length-1;q<R.length;ft=q++){var xt=R[q],At=R[ft];xt.y>I.y!=At.y>I.y&&I.x<(At.x-xt.x)*(I.y-xt.y)/(At.y-xt.y)+xt.x&&(V=!V)}return V}function fo(R,I,V){var q=V[0],ft=V[2];if(R.x<q.x&&I.x<q.x||R.x>ft.x&&I.x>ft.x||R.y<q.y&&I.y<q.y||R.y>ft.y&&I.y>ft.y)return!1;var xt=k(R,I,V[0]);return xt!==k(R,I,V[1])||xt!==k(R,I,V[2])||xt!==k(R,I,V[3])}function qo(R,I,V){var q=I.paint.get(R).value;return"constant"===q.kind?q.value:V.programConfigurations.get(I.id).getMaxValue(R)}function Qs(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])}function Rs(R,I,V,q,ft){if(!I[0]&&!I[1])return R;var xt=e.convert(I)._mult(ft);"viewport"===V&&xt._rotate(-q);for(var At=[],jt=0;jt<R.length;jt++)At.push(R[jt].sub(xt));return At}ci.prototype.populate=function(I,V,q){var ft=this.layers[0],xt=[],At=null;"circle"===ft.type&&(At=ft.layout.get("circle-sort-key"));for(var jt=0,se=I;jt<se.length;jt+=1){var ge=se[jt],we=ge.feature,Ne=ge.id,nr=ge.index,_e=ge.sourceLayerIndex,xr=this.layers[0]._featureFilter.needGeometry,Nr={type:we.type,id:Ne,properties:we.properties,geometry:xr?oi(we):[]};if(this.layers[0]._featureFilter.filter(new va(this.zoom),Nr,q)){xr||(Nr.geometry=oi(we));var on=At?At.evaluate(Nr,{},q):void 0;xt.push({id:Ne,properties:we.properties,type:we.type,sourceLayerIndex:_e,index:nr,geometry:Nr.geometry,patterns:{},sortKey:on})}}At&&xt.sort(function(la,ca){return la.sortKey-ca.sortKey});for(var Tn=0,yn=xt;Tn<yn.length;Tn+=1){var wn=yn[Tn],zn=wn.geometry,Yn=wn.index,Hn=wn.sourceLayerIndex,wa=I[Yn].feature;this.addFeature(wn,zn,Yn,q),V.featureIndex.insert(wa,zn,Yn,Hn,this.index)}},ci.prototype.update=function(I,V,q){!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(I,V,this.stateDependentLayers,q)},ci.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ci.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ci.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,lt),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},ci.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ci.prototype.addFeature=function(I,V,q,ft){for(var xt=0,At=V;xt<At.length;xt+=1)for(var se=0,ge=At[xt];se<ge.length;se+=1){var we=ge[se],Ne=we.x,nr=we.y;if(!(Ne<0||Ne>=Ta||nr<0||nr>=Ta)){var _e=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,I.sortKey),xr=_e.vertexLength;Ya(this.layoutVertexArray,Ne,nr,-1,-1),Ya(this.layoutVertexArray,Ne,nr,1,-1),Ya(this.layoutVertexArray,Ne,nr,1,1),Ya(this.layoutVertexArray,Ne,nr,-1,1),this.indexArray.emplaceBack(xr,xr+1,xr+2),this.indexArray.emplaceBack(xr,xr+3,xr+2),_e.vertexLength+=4,_e.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,q,{},ft)},ea("CircleBucket",ci,{omit:["layers"]});var $s=new ri({"circle-sort-key":new ua(Xe.layout_circle["circle-sort-key"])}),bu={paint:new ri({"circle-radius":new ua(Xe.paint_circle["circle-radius"]),"circle-color":new ua(Xe.paint_circle["circle-color"]),"circle-blur":new ua(Xe.paint_circle["circle-blur"]),"circle-opacity":new ua(Xe.paint_circle["circle-opacity"]),"circle-translate":new Wn(Xe.paint_circle["circle-translate"]),"circle-translate-anchor":new Wn(Xe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Wn(Xe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Wn(Xe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ua(Xe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ua(Xe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ua(Xe.paint_circle["circle-stroke-opacity"])}),layout:$s},oo="undefined"!=typeof Float32Array?Float32Array:Array;function Ff(R){return R[0]=1,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=1,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=1,R[11]=0,R[12]=0,R[13]=0,R[14]=0,R[15]=1,R}function $u(R,I,V){var q=I[0],ft=I[1],xt=I[2],At=I[3],jt=I[4],se=I[5],ge=I[6],we=I[7],Ne=I[8],nr=I[9],_e=I[10],xr=I[11],Nr=I[12],on=I[13],$r=I[14],Tn=I[15],yn=V[0],wn=V[1],Dn=V[2],zn=V[3];return R[0]=yn*q+wn*jt+Dn*Ne+zn*Nr,R[1]=yn*ft+wn*se+Dn*nr+zn*on,R[2]=yn*xt+wn*ge+Dn*_e+zn*$r,R[3]=yn*At+wn*we+Dn*xr+zn*Tn,R[4]=(yn=V[4])*q+(wn=V[5])*jt+(Dn=V[6])*Ne+(zn=V[7])*Nr,R[5]=yn*ft+wn*se+Dn*nr+zn*on,R[6]=yn*xt+wn*ge+Dn*_e+zn*$r,R[7]=yn*At+wn*we+Dn*xr+zn*Tn,R[8]=(yn=V[8])*q+(wn=V[9])*jt+(Dn=V[10])*Ne+(zn=V[11])*Nr,R[9]=yn*ft+wn*se+Dn*nr+zn*on,R[10]=yn*xt+wn*ge+Dn*_e+zn*$r,R[11]=yn*At+wn*we+Dn*xr+zn*Tn,R[12]=(yn=V[12])*q+(wn=V[13])*jt+(Dn=V[14])*Ne+(zn=V[15])*Nr,R[13]=yn*ft+wn*se+Dn*nr+zn*on,R[14]=yn*xt+wn*ge+Dn*_e+zn*$r,R[15]=yn*At+wn*we+Dn*xr+zn*Tn,R}Math.hypot||(Math.hypot=function(){for(var R=arguments,I=0,V=arguments.length;V--;)I+=R[V]*R[V];return Math.sqrt(I)});var Qc=$u;var Uv=function _c(R,I,V){return R[0]=I[0]-V[0],R[1]=I[1]-V[1],R[2]=I[2]-V[2],R};function Lc(R,I,V){var q=I[0],ft=I[1],xt=I[2],At=I[3];return R[0]=V[0]*q+V[4]*ft+V[8]*xt+V[12]*At,R[1]=V[1]*q+V[5]*ft+V[9]*xt+V[13]*At,R[2]=V[2]*q+V[6]*ft+V[10]*xt+V[14]*At,R[3]=V[3]*q+V[7]*ft+V[11]*xt+V[15]*At,R}(function Tf(){var R=new oo(3);return oo!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0),R})(),function Vv(){var R=new oo(4);return oo!=Float32Array&&(R[0]=0,R[1]=0,R[2]=0,R[3]=0),R}();var Zv=function Yv(R){var I=R[0],V=R[1];return I*I+V*V},Xv=(function Wv(){var R=new oo(2);return oo!=Float32Array&&(R[0]=0,R[1]=0),R}(),function(R){function I(V){R.call(this,V,bu)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.createBucket=function(q){return new ci(q)},I.prototype.queryRadius=function(q){var ft=q;return qo("circle-radius",this,ft)+qo("circle-stroke-width",this,ft)+Qs(this.paint.get("circle-translate"))},I.prototype.queryIntersectsFeature=function(q,ft,xt,At,jt,se,ge,we){for(var Ne=Rs(q,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),se.angle,ge),xr=this.paint.get("circle-radius").evaluate(ft,xt)+this.paint.get("circle-stroke-width").evaluate(ft,xt),Nr="map"===this.paint.get("circle-pitch-alignment"),on=Nr?Ne:function jv(R,I){return R.map(function(V){return Sh(V,I)})}(Ne,we),$r=Nr?xr*ge:xr,Tn=0,yn=At;Tn<yn.length;Tn+=1)for(var Dn=0,zn=yn[Tn];Dn<zn.length;Dn+=1){var Yn=zn[Dn],Hn=Nr?Yn:Sh(Yn,we),wa=$r,la=Lc([],[Yn.x,Yn.y,0,1],we);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?wa*=la[3]/se.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(wa*=se.cameraToCenterDistance/la[3]),Za(on,Hn,wa))return!0}return!1},I}(Mi));function Sh(R,I){var V=Lc([],[R.x,R.y,0,1],I);return new e(V[0]/V[3],V[1]/V[3])}var Eh=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I}(ci);function th(R,I,V,q){var ft=I.width,xt=I.height;if(q){if(q instanceof Uint8ClampedArray)q=new Uint8Array(q.buffer);else if(q.length!==ft*xt*V)throw new RangeError("mismatched image size")}else q=new Uint8Array(ft*xt*V);return R.width=ft,R.height=xt,R.data=q,R}function Ch(R,I,V){var q=I.width,ft=I.height;if(q!==R.width||ft!==R.height){var xt=th({},{width:q,height:ft},V);eh(R,xt,{x:0,y:0},{x:0,y:0},{width:Math.min(R.width,q),height:Math.min(R.height,ft)},V),R.width=q,R.height=ft,R.data=xt.data}}function eh(R,I,V,q,ft,xt){if(0===ft.width||0===ft.height)return I;if(ft.width>R.width||ft.height>R.height||V.x>R.width-ft.width||V.y>R.height-ft.height)throw new RangeError("out of range source coordinates for image copy");if(ft.width>I.width||ft.height>I.height||q.x>I.width-ft.width||q.y>I.height-ft.height)throw new RangeError("out of range destination coordinates for image copy");for(var At=R.data,jt=I.data,se=0;se<ft.height;se++)for(var ge=((V.y+se)*R.width+V.x)*xt,we=((q.y+se)*I.width+q.x)*xt,Ne=0;Ne<ft.width*xt;Ne++)jt[we+Ne]=At[ge+Ne];return I}ea("HeatmapBucket",Eh,{omit:["layers"]});var Af=function(I,V){th(this,I,1,V)};Af.prototype.resize=function(I){Ch(this,I,1)},Af.prototype.clone=function(){return new Af({width:this.width,height:this.height},new Uint8Array(this.data))},Af.copy=function(I,V,q,ft,xt){eh(I,V,q,ft,xt,1)};var Go=function(I,V){th(this,I,4,V)};Go.prototype.resize=function(I){Ch(this,I,4)},Go.prototype.replace=function(I,V){V?this.data.set(I):this.data=I instanceof Uint8ClampedArray?new Uint8Array(I.buffer):I},Go.prototype.clone=function(){return new Go({width:this.width,height:this.height},new Uint8Array(this.data))},Go.copy=function(I,V,q,ft,xt){eh(I,V,q,ft,xt,4)},ea("AlphaImage",Af),ea("RGBAImage",Go);var Jv={paint:new ri({"heatmap-radius":new ua(Xe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ua(Xe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Wn(Xe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ai(Xe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Wn(Xe.paint_heatmap["heatmap-opacity"])})};function Lh(R,I){for(var V=new Uint8Array(1024),q={},ft=0,xt=0;ft<256;ft++,xt+=4){q[I]=ft/255;var At=R.evaluate(q);V[xt+0]=Math.floor(255*At.r/At.a),V[xt+1]=Math.floor(255*At.g/At.a),V[xt+2]=Math.floor(255*At.b/At.a),V[xt+3]=Math.floor(255*At.a)}return new Go({width:256,height:1},V)}var Qv=function(R){function I(V){R.call(this,V,Jv),this._updateColorRamp()}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.createBucket=function(q){return new Eh(q)},I.prototype._handleSpecialPaintPropertyUpdate=function(q){"heatmap-color"===q&&this._updateColorRamp()},I.prototype._updateColorRamp=function(){this.colorRamp=Lh(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},I.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},I}(Mi),_v={paint:new ri({"hillshade-illumination-direction":new Wn(Xe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Wn(Xe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Wn(Xe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Wn(Xe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Wn(Xe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Wn(Xe.paint_hillshade["hillshade-accent-color"])})},qv=function(R){function I(V){R.call(this,V,_v)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},I}(Mi),Ph=Wa([{name:"a_pos",components:2,type:"Int16"}],4).members,rh=Pc,ed=Pc;function Pc(R,I,V){V=V||2;var jt,se,ge,we,Ne,nr,_e,q=I&&I.length,ft=q?I[0]*V:R.length,xt=Dh(R,0,ft,V,!0),At=[];if(!xt||xt.next===xt.prev)return At;if(q&&(xt=function od(R,I,V,q){var xt,At,ge,ft=[];for(xt=0,At=I.length;xt<At;xt++)(ge=Dh(R,I[xt]*q,xt<At-1?I[xt+1]*q:R.length,q,!1))===ge.next&&(ge.steiner=!0),ft.push(vd(ge));for(ft.sort(sd),xt=0;xt<ft.length;xt++)ld(ft[xt],V),V=_u(V,V.next);return V}(R,I,xt,V)),R.length>80*V){jt=ge=R[0],se=we=R[1];for(var xr=V;xr<ft;xr+=V)(Ne=R[xr])<jt&&(jt=Ne),(nr=R[xr+1])<se&&(se=nr),Ne>ge&&(ge=Ne),nr>we&&(we=nr);_e=0!==(_e=Math.max(ge-jt,we-se))?1/_e:0}return sc(xt,At,V,jt,se,_e),At}function Dh(R,I,V,q,ft){var xt,At;if(ft===ih(R,I,V,q)>0)for(xt=I;xt<V;xt+=q)At=Fh(xt,R[xt],R[xt+1],At);else for(xt=V-q;xt>=I;xt-=q)At=Fh(xt,R[xt],R[xt+1],At);return At&&Dc(At,At.next)&&(uc(At),At=At.next),At}function _u(R,I){if(!R)return R;I||(I=R);var q,V=R;do{if(q=!1,V.steiner||!Dc(V,V.next)&&0!==Gi(V.prev,V,V.next))V=V.next;else{if(uc(V),(V=I=V.prev)===V.next)break;q=!0}}while(q||V!==I);return I}function sc(R,I,V,q,ft,xt,At){if(R){!At&&xt&&function cd(R,I,V,q){var ft=R;do{null===ft.z&&(ft.z=nh(ft.x,ft.y,I,V,q)),ft.prevZ=ft.prev,ft.nextZ=ft.next,ft=ft.next}while(ft!==R);ft.prevZ.nextZ=null,ft.prevZ=null,function hd(R){var I,V,q,ft,xt,At,jt,se,ge=1;do{for(V=R,R=null,xt=null,At=0;V;){for(At++,q=V,jt=0,I=0;I<ge&&(jt++,q=q.nextZ);I++);for(se=ge;jt>0||se>0&&q;)0!==jt&&(0===se||!q||V.z<=q.z)?(ft=V,V=V.nextZ,jt--):(ft=q,q=q.nextZ,se--),xt?xt.nextZ=ft:R=ft,ft.prevZ=xt,xt=ft;V=q}xt.nextZ=null,ge*=2}while(At>1);return R}(ft)}(R,q,ft,xt);for(var se,ge,jt=R;R.prev!==R.next;)if(se=R.prev,ge=R.next,xt?nd(R,q,ft,xt):rd(R))I.push(se.i/V),I.push(R.i/V),I.push(ge.i/V),uc(R),R=ge.next,jt=ge.next;else if((R=ge)===jt){At?1===At?sc(R=ad(_u(R),I,V),I,V,q,ft,xt,2):2===At&&id(R,I,V,q,ft,xt):sc(_u(R),I,V,q,ft,xt,1);break}}}function rd(R){var I=R.prev,V=R,q=R.next;if(Gi(I,V,q)>=0)return!1;for(var ft=R.next.next;ft!==R.prev;){if(Of(I.x,I.y,V.x,V.y,q.x,q.y,ft.x,ft.y)&&Gi(ft.prev,ft,ft.next)>=0)return!1;ft=ft.next}return!0}function nd(R,I,V,q){var ft=R.prev,xt=R,At=R.next;if(Gi(ft,xt,At)>=0)return!1;for(var ge=ft.x>xt.x?ft.x>At.x?ft.x:At.x:xt.x>At.x?xt.x:At.x,we=ft.y>xt.y?ft.y>At.y?ft.y:At.y:xt.y>At.y?xt.y:At.y,Ne=nh(ft.x<xt.x?ft.x<At.x?ft.x:At.x:xt.x<At.x?xt.x:At.x,ft.y<xt.y?ft.y<At.y?ft.y:At.y:xt.y<At.y?xt.y:At.y,I,V,q),nr=nh(ge,we,I,V,q),_e=R.prevZ,xr=R.nextZ;_e&&_e.z>=Ne&&xr&&xr.z<=nr;){if(_e!==R.prev&&_e!==R.next&&Of(ft.x,ft.y,xt.x,xt.y,At.x,At.y,_e.x,_e.y)&&Gi(_e.prev,_e,_e.next)>=0||(_e=_e.prevZ,xr!==R.prev&&xr!==R.next&&Of(ft.x,ft.y,xt.x,xt.y,At.x,At.y,xr.x,xr.y)&&Gi(xr.prev,xr,xr.next)>=0))return!1;xr=xr.nextZ}for(;_e&&_e.z>=Ne;){if(_e!==R.prev&&_e!==R.next&&Of(ft.x,ft.y,xt.x,xt.y,At.x,At.y,_e.x,_e.y)&&Gi(_e.prev,_e,_e.next)>=0)return!1;_e=_e.prevZ}for(;xr&&xr.z<=nr;){if(xr!==R.prev&&xr!==R.next&&Of(ft.x,ft.y,xt.x,xt.y,At.x,At.y,xr.x,xr.y)&&Gi(xr.prev,xr,xr.next)>=0)return!1;xr=xr.nextZ}return!0}function ad(R,I,V){var q=R;do{var ft=q.prev,xt=q.next.next;!Dc(ft,xt)&&Rh(ft,q,q.next,xt)&&lc(ft,xt)&&lc(xt,ft)&&(I.push(ft.i/V),I.push(q.i/V),I.push(xt.i/V),uc(q),uc(q.next),q=R=xt),q=q.next}while(q!==R);return _u(q)}function id(R,I,V,q,ft,xt){var At=R;do{for(var jt=At.next.next;jt!==At.prev;){if(At.i!==jt.i&&dd(At,jt)){var se=Ih(At,jt);return At=_u(At,At.next),se=_u(se,se.next),sc(At,I,V,q,ft,xt),void sc(se,I,V,q,ft,xt)}jt=jt.next}At=At.next}while(At!==R)}function sd(R,I){return R.x-I.x}function ld(R,I){if(I=function ud(R,I){var At,V=I,q=R.x,ft=R.y,xt=-1/0;do{if(ft<=V.y&&ft>=V.next.y&&V.next.y!==V.y){var jt=V.x+(ft-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(jt<=q&&jt>xt){if(xt=jt,jt===q){if(ft===V.y)return V;if(ft===V.next.y)return V.next}At=V.x<V.next.x?V:V.next}}V=V.next}while(V!==I);if(!At)return null;if(q===xt)return At;var nr,se=At,ge=At.x,we=At.y,Ne=1/0;V=At;do{q>=V.x&&V.x>=ge&&q!==V.x&&Of(ft<we?q:xt,ft,ge,we,ft<we?xt:q,ft,V.x,V.y)&&(nr=Math.abs(ft-V.y)/(q-V.x),lc(V,R)&&(nr<Ne||nr===Ne&&(V.x>At.x||V.x===At.x&&fd(At,V)))&&(At=V,Ne=nr)),V=V.next}while(V!==se);return At}(R,I)){var V=Ih(I,R);_u(I,I.next),_u(V,V.next)}}function fd(R,I){return Gi(R.prev,R,I.prev)<0&&Gi(I.next,R,R.next)<0}function nh(R,I,V,q,ft){return(R=1431655765&((R=858993459&((R=252645135&((R=16711935&((R=32767*(R-V)*ft)|R<<8))|R<<4))|R<<2))|R<<1))|(I=1431655765&((I=858993459&((I=252645135&((I=16711935&((I=32767*(I-q)*ft)|I<<8))|I<<4))|I<<2))|I<<1))<<1}function vd(R){var I=R,V=R;do{(I.x<V.x||I.x===V.x&&I.y<V.y)&&(V=I),I=I.next}while(I!==R);return V}function Of(R,I,V,q,ft,xt,At,jt){return(ft-At)*(I-jt)-(R-At)*(xt-jt)>=0&&(R-At)*(q-jt)-(V-At)*(I-jt)>=0&&(V-At)*(xt-jt)-(ft-At)*(q-jt)>=0}function dd(R,I){return R.next.i!==I.i&&R.prev.i!==I.i&&!function pd(R,I){var V=R;do{if(V.i!==R.i&&V.next.i!==R.i&&V.i!==I.i&&V.next.i!==I.i&&Rh(V,V.next,R,I))return!0;V=V.next}while(V!==R);return!1}(R,I)&&(lc(R,I)&&lc(I,R)&&function gd(R,I){var V=R,q=!1,ft=(R.x+I.x)/2,xt=(R.y+I.y)/2;do{V.y>xt!=V.next.y>xt&&V.next.y!==V.y&&ft<(V.next.x-V.x)*(xt-V.y)/(V.next.y-V.y)+V.x&&(q=!q),V=V.next}while(V!==R);return q}(R,I)&&(Gi(R.prev,R,I.prev)||Gi(R,I.prev,I))||Dc(R,I)&&Gi(R.prev,R,R.next)>0&&Gi(I.prev,I,I.next)>0)}function Gi(R,I,V){return(I.y-R.y)*(V.x-I.x)-(I.x-R.x)*(V.y-I.y)}function Dc(R,I){return R.x===I.x&&R.y===I.y}function Rh(R,I,V,q){var ft=Ic(Gi(R,I,V)),xt=Ic(Gi(R,I,q)),At=Ic(Gi(V,q,R)),jt=Ic(Gi(V,q,I));return!!(ft!==xt&&At!==jt||0===ft&&Rc(R,V,I)||0===xt&&Rc(R,q,I)||0===At&&Rc(V,R,q)||0===jt&&Rc(V,I,q))}function Rc(R,I,V){return I.x<=Math.max(R.x,V.x)&&I.x>=Math.min(R.x,V.x)&&I.y<=Math.max(R.y,V.y)&&I.y>=Math.min(R.y,V.y)}function Ic(R){return R>0?1:R<0?-1:0}function lc(R,I){return Gi(R.prev,R,R.next)<0?Gi(R,I,R.next)>=0&&Gi(R,R.prev,I)>=0:Gi(R,I,R.prev)<0||Gi(R,R.next,I)<0}function Ih(R,I){var V=new ah(R.i,R.x,R.y),q=new ah(I.i,I.x,I.y),ft=R.next,xt=I.prev;return R.next=I,I.prev=R,V.next=ft,ft.prev=V,q.next=V,V.prev=q,xt.next=q,q.prev=xt,q}function Fh(R,I,V,q){var ft=new ah(R,I,V);return q?(ft.next=q.next,ft.prev=q,q.next.prev=ft,q.next=ft):(ft.prev=ft,ft.next=ft),ft}function uc(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function ah(R,I,V){this.i=R,this.x=I,this.y=V,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ih(R,I,V,q){for(var ft=0,xt=I,At=V-q;xt<V;xt+=q)ft+=(R[At]-R[xt])*(R[xt+1]+R[At+1]),At=xt;return ft}function yd(R,I,V,q,ft){kh(R,I,V||0,q||R.length-1,ft||md)}function kh(R,I,V,q,ft){for(;q>V;){if(q-V>600){var xt=q-V+1,At=I-V+1,jt=Math.log(xt),se=.5*Math.exp(2*jt/3),ge=.5*Math.sqrt(jt*se*(xt-se)/xt)*(At-xt/2<0?-1:1);kh(R,I,Math.max(V,Math.floor(I-At*se/xt+ge)),Math.min(q,Math.floor(I+(xt-At)*se/xt+ge)),ft)}var nr=R[I],_e=V,xr=q;for(fc(R,V,I),ft(R[q],nr)>0&&fc(R,V,q);_e<xr;){for(fc(R,_e,xr),_e++,xr--;ft(R[_e],nr)<0;)_e++;for(;ft(R[xr],nr)>0;)xr--}0===ft(R[V],nr)?fc(R,V,xr):fc(R,++xr,q),xr<=I&&(V=xr+1),I<=xr&&(q=xr-1)}}function fc(R,I,V){var q=R[I];R[I]=R[V],R[V]=q}function md(R,I){return R<I?-1:R>I?1:0}function oh(R,I){var V=R.length;if(V<=1)return[R];for(var ft,xt,q=[],At=0;At<V;At++){var jt=O(R[At]);0!==jt&&(R[At].area=Math.abs(jt),void 0===xt&&(xt=jt<0),xt===jt<0?(ft&&q.push(ft),ft=[R[At]]):ft.push(R[At]))}if(ft&&q.push(ft),I>1)for(var se=0;se<q.length;se++)q[se].length<=I||(yd(q[se],I,1,q[se].length-1,xd),q[se]=q[se].slice(0,I));return q}function xd(R,I){return I.area-R.area}function sh(R,I,V){for(var q=V.patternDependencies,ft=!1,xt=0,At=I;xt<At.length;xt+=1){var se=At[xt].paint.get(R+"-pattern");se.isConstant()||(ft=!0);var ge=se.constantOr(null);ge&&(ft=!0,q[ge.to]=!0,q[ge.from]=!0)}return ft}function lh(R,I,V,q,ft){for(var xt=ft.patternDependencies,At=0,jt=I;At<jt.length;At+=1){var se=jt[At],we=se.paint.get(R+"-pattern").value;if("constant"!==we.kind){var Ne=we.evaluate({zoom:q-1},V,{},ft.availableImages),nr=we.evaluate({zoom:q},V,{},ft.availableImages),_e=we.evaluate({zoom:q+1},V,{},ft.availableImages);nr=nr&&nr.name?nr.name:nr,_e=_e&&_e.name?_e.name:_e,xt[Ne=Ne&&Ne.name?Ne.name:Ne]=!0,xt[nr]=!0,xt[_e]=!0,V.patterns[se.id]={min:Ne,mid:nr,max:_e}}}return V}Pc.deviation=function(R,I,V,q){var ft=I&&I.length,At=Math.abs(ih(R,0,ft?I[0]*V:R.length,V));if(ft)for(var jt=0,se=I.length;jt<se;jt++)At-=Math.abs(ih(R,I[jt]*V,jt<se-1?I[jt+1]*V:R.length,V));var Ne=0;for(jt=0;jt<q.length;jt+=3){var nr=q[jt]*V,_e=q[jt+1]*V,xr=q[jt+2]*V;Ne+=Math.abs((R[nr]-R[xr])*(R[_e+1]-R[nr+1])-(R[nr]-R[_e])*(R[xr+1]-R[nr+1]))}return 0===At&&0===Ne?0:Math.abs((Ne-At)/At)},Pc.flatten=function(R){for(var I=R[0][0].length,V={vertices:[],holes:[],dimensions:I},q=0,ft=0;ft<R.length;ft++){for(var xt=0;xt<R[ft].length;xt++)for(var At=0;At<I;At++)V.vertices.push(R[ft][xt][At]);ft>0&&V.holes.push(q+=R[ft-1].length)}return V},rh.default=ed;var Tl=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new io,this.indexArray=new bl,this.indexArray2=new xf,this.programConfigurations=new Fa(Ph,I.layers,I.zoom),this.segments=new Y,this.segments2=new Y,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};Tl.prototype.populate=function(I,V,q){this.hasPattern=sh("fill",this.layers,V);for(var ft=this.layers[0].layout.get("fill-sort-key"),xt=[],At=0,jt=I;At<jt.length;At+=1){var se=jt[At],ge=se.feature,we=se.id,Ne=se.index,nr=se.sourceLayerIndex,_e=this.layers[0]._featureFilter.needGeometry,xr={type:ge.type,id:we,properties:ge.properties,geometry:_e?oi(ge):[]};if(this.layers[0]._featureFilter.filter(new va(this.zoom),xr,q)){_e||(xr.geometry=oi(ge));var Nr=ft?ft.evaluate(xr,{},q,V.availableImages):void 0;xt.push({id:we,properties:ge.properties,type:ge.type,sourceLayerIndex:nr,index:Ne,geometry:xr.geometry,patterns:{},sortKey:Nr})}}ft&&xt.sort(function(la,ca){return la.sortKey-ca.sortKey});for(var $r=0,Tn=xt;$r<Tn.length;$r+=1){var yn=Tn[$r],Dn=yn.geometry,zn=yn.index,Yn=yn.sourceLayerIndex;if(this.hasPattern){var Hn=lh("fill",this.layers,yn,this.zoom,V);this.patternFeatures.push(Hn)}else this.addFeature(yn,Dn,zn,q,{});V.featureIndex.insert(I[zn].feature,Dn,zn,Yn,this.index)}},Tl.prototype.update=function(I,V,q){!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(I,V,this.stateDependentLayers,q)},Tl.prototype.addFeatures=function(I,V,q){for(var ft=0,xt=this.patternFeatures;ft<xt.length;ft+=1){var At=xt[ft];this.addFeature(At,At.geometry,At.index,V,q)}},Tl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Tl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Tl.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,Ph),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.indexBuffer2=I.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(I),this.uploaded=!0},Tl.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Tl.prototype.addFeature=function(I,V,q,ft,xt){for(var At=0,jt=oh(V,500);At<jt.length;At+=1){for(var se=jt[At],ge=0,we=0,Ne=se;we<Ne.length;we+=1)ge+=Ne[we].length;for(var _e=this.segments.prepareSegment(ge,this.layoutVertexArray,this.indexArray),xr=_e.vertexLength,Nr=[],on=[],$r=0,Tn=se;$r<Tn.length;$r+=1){var yn=Tn[$r];if(0!==yn.length){yn!==se[0]&&on.push(Nr.length/2);var wn=this.segments2.prepareSegment(yn.length,this.layoutVertexArray,this.indexArray2),Dn=wn.vertexLength;this.layoutVertexArray.emplaceBack(yn[0].x,yn[0].y),this.indexArray2.emplaceBack(Dn+yn.length-1,Dn),Nr.push(yn[0].x),Nr.push(yn[0].y);for(var zn=1;zn<yn.length;zn++)this.layoutVertexArray.emplaceBack(yn[zn].x,yn[zn].y),this.indexArray2.emplaceBack(Dn+zn-1,Dn+zn),Nr.push(yn[zn].x),Nr.push(yn[zn].y);wn.vertexLength+=yn.length,wn.primitiveLength+=yn.length}}for(var Yn=rh(Nr,on),Hn=0;Hn<Yn.length;Hn+=3)this.indexArray.emplaceBack(xr+Yn[Hn],xr+Yn[Hn+1],xr+Yn[Hn+2]);_e.vertexLength+=ge,_e.primitiveLength+=Yn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,q,xt,ft)},ea("FillBucket",Tl,{omit:["layers","patternFeatures"]});var wd=new ri({"fill-sort-key":new ua(Xe.layout_fill["fill-sort-key"])}),Ad={paint:new ri({"fill-antialias":new Wn(Xe.paint_fill["fill-antialias"]),"fill-opacity":new ua(Xe.paint_fill["fill-opacity"]),"fill-color":new ua(Xe.paint_fill["fill-color"]),"fill-outline-color":new ua(Xe.paint_fill["fill-outline-color"]),"fill-translate":new Wn(Xe.paint_fill["fill-translate"]),"fill-translate-anchor":new Wn(Xe.paint_fill["fill-translate-anchor"]),"fill-pattern":new ii(Xe.paint_fill["fill-pattern"])}),layout:wd},Md=function(R){function I(V){R.call(this,V,Ad)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.recalculate=function(q,ft){R.prototype.recalculate.call(this,q,ft);var xt=this.paint._values["fill-outline-color"];"constant"===xt.value.kind&&void 0===xt.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},I.prototype.createBucket=function(q){return new Tl(q)},I.prototype.queryRadius=function(){return Qs(this.paint.get("fill-translate"))},I.prototype.queryIntersectsFeature=function(q,ft,xt,At,jt,se,ge){return Di(Rs(q,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),se.angle,ge),At)},I.prototype.isTileClipped=function(){return!0},I}(Mi),zh=Wa([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Oh=Bf;function Bf(R,I,V,q,ft){this.properties={},this.extent=V,this.type=0,this._pbf=R,this._geometry=-1,this._keys=q,this._values=ft,R.readFields(Ed,this,I)}function Ed(R,I,V){1==R?I.id=V.readVarint():2==R?function Cd(R,I){for(var V=R.readVarint()+R.pos;R.pos<V;){var q=I._keys[R.readVarint()],ft=I._values[R.readVarint()];I.properties[q]=ft}}(V,I):3==R?I.type=V.readVarint():4==R&&(I._geometry=V.pos)}function Pd(R){for(var xt,At,I=0,V=0,q=R.length,ft=q-1;V<q;ft=V++)I+=((At=R[ft]).x-(xt=R[V]).x)*(xt.y+At.y);return I}Bf.types=["Unknown","Point","LineString","Polygon"],Bf.prototype.loadGeometry=function(){var R=this._pbf;R.pos=this._geometry;for(var jt,I=R.readVarint()+R.pos,V=1,q=0,ft=0,xt=0,At=[];R.pos<I;){if(q<=0){var se=R.readVarint();V=7&se,q=se>>3}if(q--,1===V||2===V)ft+=R.readSVarint(),xt+=R.readSVarint(),1===V&&(jt&&At.push(jt),jt=[]),jt.push(new e(ft,xt));else{if(7!==V)throw new Error("unknown command "+V);jt&&jt.push(jt[0].clone())}}return jt&&At.push(jt),At},Bf.prototype.bbox=function(){var R=this._pbf;R.pos=this._geometry;for(var I=R.readVarint()+R.pos,V=1,q=0,ft=0,xt=0,At=1/0,jt=-1/0,se=1/0,ge=-1/0;R.pos<I;){if(q<=0){var we=R.readVarint();V=7&we,q=we>>3}if(q--,1===V||2===V)(ft+=R.readSVarint())<At&&(At=ft),ft>jt&&(jt=ft),(xt+=R.readSVarint())<se&&(se=xt),xt>ge&&(ge=xt);else if(7!==V)throw new Error("unknown command "+V)}return[At,se,jt,ge]},Bf.prototype.toGeoJSON=function(R,I,V){var se,ge,q=this.extent*Math.pow(2,V),ft=this.extent*R,xt=this.extent*I,At=this.loadGeometry(),jt=Bf.types[this.type];function we(_e){for(var xr=0;xr<_e.length;xr++){var Nr=_e[xr];_e[xr]=[360*(Nr.x+ft)/q-180,360/Math.PI*Math.atan(Math.exp((180-360*(Nr.y+xt)/q)*Math.PI/180))-90]}}switch(this.type){case 1:var Ne=[];for(se=0;se<At.length;se++)Ne[se]=At[se][0];we(At=Ne);break;case 2:for(se=0;se<At.length;se++)we(At[se]);break;case 3:for(At=function Ld(R){var I=R.length;if(I<=1)return[R];for(var q,ft,V=[],xt=0;xt<I;xt++){var At=Pd(R[xt]);0!==At&&(void 0===ft&&(ft=At<0),ft===At<0?(q&&V.push(q),q=[R[xt]]):q.push(R[xt]))}return q&&V.push(q),V}(At),se=0;se<At.length;se++)for(ge=0;ge<At[se].length;ge++)we(At[se][ge])}1===At.length?At=At[0]:jt="Multi"+jt;var nr={type:"Feature",geometry:{type:jt,coordinates:At},properties:this.properties};return"id"in this&&(nr.id=this.id),nr};var Bh=Nh;function Nh(R,I){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=R,this._keys=[],this._values=[],this._features=[],R.readFields(Dd,this,I),this.length=this._features.length}function Dd(R,I,V){15===R?I.version=V.readVarint():1===R?I.name=V.readString():5===R?I.extent=V.readVarint():2===R?I._features.push(V.pos):3===R?I._keys.push(V.readString()):4===R&&I._values.push(function Rd(R){for(var I=null,V=R.readVarint()+R.pos;R.pos<V;){var q=R.readVarint()>>3;I=1===q?R.readString():2===q?R.readFloat():3===q?R.readDouble():4===q?R.readVarint64():5===q?R.readVarint():6===q?R.readSVarint():7===q?R.readBoolean():null}return I}(V))}function kd(R,I,V){if(3===R){var q=new Bh(V,V.readVarint()+V.pos);q.length&&(I[q.name]=q)}}Nh.prototype.feature=function(R){if(R<0||R>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[R];var I=this._pbf.readVarint()+this._pbf.pos;return new Oh(this._pbf,I,this.extent,this._keys,this._values)};var Nf={VectorTile:function Fd(R,I){this.layers=R.readFields(kd,{},I)},VectorTileFeature:Oh,VectorTileLayer:Bh},Nd=Nf.VectorTileFeature.types,uh=Math.pow(2,13);function cc(R,I,V,q,ft,xt,At,jt){R.emplaceBack(I,V,2*Math.floor(q*uh)+At,ft*uh*2,xt*uh*2,Math.round(jt))}var Al=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new No,this.indexArray=new bl,this.programConfigurations=new Fa(zh,I.layers,I.zoom),this.segments=new Y,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};function Vd(R,I){return R.x===I.x&&(R.x<0||R.x>Ta)||R.y===I.y&&(R.y<0||R.y>Ta)}Al.prototype.populate=function(I,V,q){this.features=[],this.hasPattern=sh("fill-extrusion",this.layers,V);for(var ft=0,xt=I;ft<xt.length;ft+=1){var At=xt[ft],jt=At.feature,se=At.id,ge=At.index,we=At.sourceLayerIndex,Ne=this.layers[0]._featureFilter.needGeometry,nr={type:jt.type,id:se,properties:jt.properties,geometry:Ne?oi(jt):[]};if(this.layers[0]._featureFilter.filter(new va(this.zoom),nr,q)){var _e={id:se,sourceLayerIndex:we,index:ge,geometry:Ne?nr.geometry:oi(jt),properties:jt.properties,type:jt.type,patterns:{}};void 0!==jt.id&&(_e.id=jt.id),this.hasPattern?this.features.push(lh("fill-extrusion",this.layers,_e,this.zoom,V)):this.addFeature(_e,_e.geometry,ge,q,{}),V.featureIndex.insert(jt,_e.geometry,ge,we,this.index,!0)}}},Al.prototype.addFeatures=function(I,V,q){for(var ft=0,xt=this.features;ft<xt.length;ft+=1){var At=xt[ft];this.addFeature(At,At.geometry,At.index,V,q)}},Al.prototype.update=function(I,V,q){!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(I,V,this.stateDependentLayers,q)},Al.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Al.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Al.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,zh),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Al.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Al.prototype.addFeature=function(I,V,q,ft,xt){for(var At=0,jt=oh(V,500);At<jt.length;At+=1){for(var se=jt[At],ge=0,we=0,Ne=se;we<Ne.length;we+=1)ge+=Ne[we].length;for(var _e=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),xr=0,Nr=se;xr<Nr.length;xr+=1){var on=Nr[xr];if(0!==on.length&&!((R=on).every(function(I){return I.x<0})||R.every(function(I){return I.x>Ta})||R.every(function(I){return I.y<0})||R.every(function(I){return I.y>Ta})))for(var $r=0,Tn=0;Tn<on.length;Tn++){var yn=on[Tn];if(Tn>=1){var wn=on[Tn-1];if(!Vd(yn,wn)){_e.vertexLength+4>Y.MAX_VERTEX_ARRAY_LENGTH&&(_e=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Dn=yn.sub(wn)._perp()._unit(),zn=wn.dist(yn);$r+zn>32768&&($r=0),cc(this.layoutVertexArray,yn.x,yn.y,Dn.x,Dn.y,0,0,$r),cc(this.layoutVertexArray,yn.x,yn.y,Dn.x,Dn.y,0,1,$r),cc(this.layoutVertexArray,wn.x,wn.y,Dn.x,Dn.y,0,0,$r+=zn),cc(this.layoutVertexArray,wn.x,wn.y,Dn.x,Dn.y,0,1,$r);var Yn=_e.vertexLength;this.indexArray.emplaceBack(Yn,Yn+2,Yn+1),this.indexArray.emplaceBack(Yn+1,Yn+2,Yn+3),_e.vertexLength+=4,_e.primitiveLength+=2}}}}if(_e.vertexLength+ge>Y.MAX_VERTEX_ARRAY_LENGTH&&(_e=this.segments.prepareSegment(ge,this.layoutVertexArray,this.indexArray)),"Polygon"===Nd[I.type]){for(var Hn=[],wa=[],la=_e.vertexLength,ca=0,Ia=se;ca<Ia.length;ca+=1){var ga=Ia[ca];if(0!==ga.length){ga!==se[0]&&wa.push(Hn.length/2);for(var ba=0;ba<ga.length;ba++){var Oa=ga[ba];cc(this.layoutVertexArray,Oa.x,Oa.y,0,0,1,1,0),Hn.push(Oa.x),Hn.push(Oa.y)}}}for(var Pa=rh(Hn,wa),Ka=0;Ka<Pa.length;Ka+=3)this.indexArray.emplaceBack(la+Pa[Ka],la+Pa[Ka+2],la+Pa[Ka+1]);_e.primitiveLength+=Pa.length/3,_e.vertexLength+=ge}}var R;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,q,xt,ft)},ea("FillExtrusionBucket",Al,{omit:["layers","features"]});var Wd={paint:new ri({"fill-extrusion-opacity":new Wn(Xe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ua(Xe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Wn(Xe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Wn(Xe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ii(Xe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ua(Xe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ua(Xe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Wn(Xe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Yd=function(R){function I(V){R.call(this,V,Wd)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.createBucket=function(q){return new Al(q)},I.prototype.queryRadius=function(){return Qs(this.paint.get("fill-extrusion-translate"))},I.prototype.is3D=function(){return!0},I.prototype.queryIntersectsFeature=function(q,ft,xt,At,jt,se,ge,we){var Ne=Rs(q,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),se.angle,ge),nr=this.paint.get("fill-extrusion-height").evaluate(ft,xt),_e=this.paint.get("fill-extrusion-base").evaluate(ft,xt),xr=function jd(R,I,V,q){for(var ft=[],xt=0,At=R;xt<At.length;xt+=1){var jt=At[xt],se=[jt.x,jt.y,q,1];Lc(se,se,I),ft.push(new e(se[0]/se[3],se[1]/se[3]))}return ft}(Ne,we,0,0),Nr=function Xd(R,I,V,q){for(var ft=[],xt=[],At=q[8]*I,jt=q[9]*I,se=q[10]*I,ge=q[11]*I,we=q[8]*V,Ne=q[9]*V,nr=q[10]*V,_e=q[11]*V,xr=0,Nr=R;xr<Nr.length;xr+=1){for(var $r=[],Tn=[],yn=0,wn=Nr[xr];yn<wn.length;yn+=1){var Dn=wn[yn],zn=Dn.x,Yn=Dn.y,Hn=q[0]*zn+q[4]*Yn+q[12],wa=q[1]*zn+q[5]*Yn+q[13],la=q[2]*zn+q[6]*Yn+q[14],ca=q[3]*zn+q[7]*Yn+q[15],ba=la+se,Oa=ca+ge,Pa=Hn+we,Ka=wa+Ne,ui=la+nr,Ja=ca+_e,Qa=new e((Hn+At)/Oa,(wa+jt)/Oa);Qa.z=ba/Oa,$r.push(Qa);var Xa=new e(Pa/Ja,Ka/Ja);Xa.z=ui/Ja,Tn.push(Xa)}ft.push($r),xt.push(Tn)}return[ft,xt]}(At,_e,nr,we);return function Zd(R,I,V){var q=1/0;Di(V,I)&&(q=Uh(V,I[0]));for(var ft=0;ft<I.length;ft++)for(var xt=I[ft],At=R[ft],jt=0;jt<xt.length-1;jt++){var se=xt[jt],nr=[se,xt[jt+1],At[jt+1],At[jt],se];ka(V,nr)&&(q=Math.min(q,Uh(V,nr)))}return q!==1/0&&q}(Nr[0],Nr[1],xr)},I}(Mi);function hc(R,I){return R.x*I.x+R.y*I.y}function Uh(R,I){if(1===R.length){for(var ft,V=0,q=I[V++];!ft||q.equals(ft);)if(!(ft=I[V++]))return 1/0;for(;V<I.length;V++){var xt=I[V],At=R[0],jt=ft.sub(q),se=xt.sub(q),ge=At.sub(q),we=hc(jt,jt),Ne=hc(jt,se),nr=hc(se,se),_e=hc(ge,jt),xr=hc(ge,se),Nr=we*nr-Ne*Ne,on=(nr*_e-Ne*xr)/Nr,$r=(we*xr-Ne*_e)/Nr,yn=q.z*(1-on-$r)+ft.z*on+xt.z*$r;if(isFinite(yn))return yn}return 1/0}for(var wn=1/0,Dn=0,zn=I;Dn<zn.length;Dn+=1)wn=Math.min(wn,zn[Dn].z);return wn}var Vh=Wa([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Jd=Nf.VectorTileFeature.types,Qd=Math.cos(Math.PI/180*37.5),Wh=Math.pow(2,14)/.5,Wo=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(V){return V.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new _o,this.indexArray=new bl,this.programConfigurations=new Fa(Vh,I.layers,I.zoom),this.segments=new Y,this.stateDependentLayerIds=this.layers.filter(function(V){return V.isStateDependent()}).map(function(V){return V.id})};Wo.prototype.populate=function(I,V,q){this.hasPattern=sh("line",this.layers,V);for(var ft=this.layers[0].layout.get("line-sort-key"),xt=[],At=0,jt=I;At<jt.length;At+=1){var se=jt[At],ge=se.feature,we=se.id,Ne=se.index,nr=se.sourceLayerIndex,_e=this.layers[0]._featureFilter.needGeometry,xr={type:ge.type,id:we,properties:ge.properties,geometry:_e?oi(ge):[]};if(this.layers[0]._featureFilter.filter(new va(this.zoom),xr,q)){_e||(xr.geometry=oi(ge));var Nr=ft?ft.evaluate(xr,{},q):void 0;xt.push({id:we,properties:ge.properties,type:ge.type,sourceLayerIndex:nr,index:Ne,geometry:xr.geometry,patterns:{},sortKey:Nr})}}ft&&xt.sort(function(la,ca){return la.sortKey-ca.sortKey});for(var $r=0,Tn=xt;$r<Tn.length;$r+=1){var yn=Tn[$r],Dn=yn.geometry,zn=yn.index,Yn=yn.sourceLayerIndex;if(this.hasPattern){var Hn=lh("line",this.layers,yn,this.zoom,V);this.patternFeatures.push(Hn)}else this.addFeature(yn,Dn,zn,q,{});V.featureIndex.insert(I[zn].feature,Dn,zn,Yn,this.index)}},Wo.prototype.update=function(I,V,q){!this.stateDependentLayers.length||this.programConfigurations.updatePaintArrays(I,V,this.stateDependentLayers,q)},Wo.prototype.addFeatures=function(I,V,q){for(var ft=0,xt=this.patternFeatures;ft<xt.length;ft+=1){var At=xt[ft];this.addFeature(At,At.geometry,At.index,V,q)}},Wo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Wo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Wo.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,Vh),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Wo.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Wo.prototype.addFeature=function(I,V,q,ft,xt){for(var At=this.layers[0].layout,jt=At.get("line-join").evaluate(I,{}),se=At.get("line-cap"),ge=At.get("line-miter-limit"),we=At.get("line-round-limit"),Ne=0,nr=V;Ne<nr.length;Ne+=1)this.addLine(nr[Ne],I,jt,se,ge,we);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,q,xt,ft)},Wo.prototype.addLine=function(I,V,q,ft,xt,At){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,V.properties&&V.properties.hasOwnProperty("mapbox_clip_start")&&V.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+V.properties.mapbox_clip_start,this.clipEnd=+V.properties.mapbox_clip_end;for(var jt=0;jt<I.length-1;jt++)this.totalDistance+=I[jt].dist(I[jt+1]);this.updateScaledDistance()}for(var se="Polygon"===Jd[V.type],ge=I.length;ge>=2&&I[ge-1].equals(I[ge-2]);)ge--;for(var we=0;we<ge-1&&I[we].equals(I[we+1]);)we++;if(!(ge<(se?3:2))){"bevel"===q&&(xt=1.05);var _e,Ne=this.overscaling<=16?15*Ta/(512*this.overscaling):0,nr=this.segments.prepareSegment(10*ge,this.layoutVertexArray,this.indexArray),xr=void 0,Nr=void 0,on=void 0,$r=void 0;this.e1=this.e2=-1,se&&($r=I[we].sub(_e=I[ge-2])._unit()._perp());for(var Tn=we;Tn<ge;Tn++)if(!(Nr=Tn===ge-1?se?I[we+1]:void 0:I[Tn+1])||!I[Tn].equals(Nr)){$r&&(on=$r),_e&&(xr=_e),_e=I[Tn],$r=Nr?Nr.sub(_e)._unit()._perp():on;var yn=(on=on||$r).add($r);(0!==yn.x||0!==yn.y)&&yn._unit();var wn=on.x*$r.x+on.y*$r.y,Dn=yn.x*$r.x+yn.y*$r.y,zn=0!==Dn?1/Dn:1/0,Yn=2*Math.sqrt(2-2*Dn),Hn=Dn<Qd&&xr&&Nr,wa=on.x*$r.y-on.y*$r.x>0;if(Hn&&Tn>we){var la=_e.dist(xr);if(la>2*Ne){var ca=_e.sub(_e.sub(xr)._mult(Ne/la)._round());this.updateDistance(xr,ca),this.addCurrentVertex(ca,on,0,0,nr),xr=ca}}var Ia=xr&&Nr,ga=Ia?q:se?"butt":ft;if(Ia&&"round"===ga&&(zn<At?ga="miter":zn<=2&&(ga="fakeround")),"miter"===ga&&zn>xt&&(ga="bevel"),"bevel"===ga&&(zn>2&&(ga="flipbevel"),zn<xt&&(ga="miter")),xr&&this.updateDistance(xr,_e),"miter"===ga)yn._mult(zn),this.addCurrentVertex(_e,yn,0,0,nr);else if("flipbevel"===ga){if(zn>100)yn=$r.mult(-1);else{var ba=zn*on.add($r).mag()/on.sub($r).mag();yn._perp()._mult(ba*(wa?-1:1))}this.addCurrentVertex(_e,yn,0,0,nr),this.addCurrentVertex(_e,yn.mult(-1),0,0,nr)}else if("bevel"===ga||"fakeround"===ga){var Oa=-Math.sqrt(zn*zn-1),Pa=wa?Oa:0,Ka=wa?0:Oa;if(xr&&this.addCurrentVertex(_e,on,Pa,Ka,nr),"fakeround"===ga)for(var ui=Math.round(180*Yn/Math.PI/20),Ja=1;Ja<ui;Ja++){var Qa=Ja/ui;if(.5!==Qa){var Xa=Qa-.5;Qa+=Qa*Xa*(Qa-1)*((1.0904+wn*(wn*(3.55645-1.43519*wn)-3.2452))*Xa*Xa+(.848013+wn*(.215638*wn-1.06021)))}var Ri=$r.sub(on)._mult(Qa)._add(on)._unit()._mult(wa?-1:1);this.addHalfVertex(_e,Ri.x,Ri.y,!1,wa,0,nr)}Nr&&this.addCurrentVertex(_e,$r,-Pa,-Ka,nr)}else if("butt"===ga)this.addCurrentVertex(_e,yn,0,0,nr);else if("square"===ga){var Oi=xr?1:-1;this.addCurrentVertex(_e,yn,Oi,Oi,nr)}else"round"===ga&&(xr&&(this.addCurrentVertex(_e,on,0,0,nr),this.addCurrentVertex(_e,on,1,1,nr,!0)),Nr&&(this.addCurrentVertex(_e,$r,-1,-1,nr,!0),this.addCurrentVertex(_e,$r,0,0,nr)));if(Hn&&Tn<ge-1){var $i=_e.dist(Nr);if($i>2*Ne){var Zi=_e.add(Nr.sub(_e)._mult(Ne/$i)._round());this.updateDistance(_e,Zi),this.addCurrentVertex(Zi,$r,0,0,nr),_e=Zi}}}}},Wo.prototype.addCurrentVertex=function(I,V,q,ft,xt,At){void 0===At&&(At=!1);var ge=V.y*ft-V.x,we=-V.y-V.x*ft;this.addHalfVertex(I,V.x+V.y*q,V.y-V.x*q,At,!1,q,xt),this.addHalfVertex(I,ge,we,At,!0,-ft,xt),this.distance>Wh/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(I,V,q,ft,xt,At))},Wo.prototype.addHalfVertex=function(I,V,q,ft,xt,At,jt){var we=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((I.x<<1)+(ft?1:0),(I.y<<1)+(xt?1:0),Math.round(63*V)+128,Math.round(63*q)+128,1+(0===At?0:At<0?-1:1)|(63&we)<<2,we>>6);var Ne=jt.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Ne),jt.primitiveLength++),xt?this.e2=Ne:this.e1=Ne},Wo.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(Wh-1):this.distance},Wo.prototype.updateDistance=function(I,V){this.distance+=I.dist(V),this.updateScaledDistance()},ea("LineBucket",Wo,{omit:["layers","patternFeatures"]});var tp=new ri({"line-cap":new Wn(Xe.layout_line["line-cap"]),"line-join":new ua(Xe.layout_line["line-join"]),"line-miter-limit":new Wn(Xe.layout_line["line-miter-limit"]),"line-round-limit":new Wn(Xe.layout_line["line-round-limit"]),"line-sort-key":new ua(Xe.layout_line["line-sort-key"])}),Yh={paint:new ri({"line-opacity":new ua(Xe.paint_line["line-opacity"]),"line-color":new ua(Xe.paint_line["line-color"]),"line-translate":new Wn(Xe.paint_line["line-translate"]),"line-translate-anchor":new Wn(Xe.paint_line["line-translate-anchor"]),"line-width":new ua(Xe.paint_line["line-width"]),"line-gap-width":new ua(Xe.paint_line["line-gap-width"]),"line-offset":new ua(Xe.paint_line["line-offset"]),"line-blur":new ua(Xe.paint_line["line-blur"]),"line-dasharray":new di(Xe.paint_line["line-dasharray"]),"line-pattern":new ii(Xe.paint_line["line-pattern"]),"line-gradient":new Ai(Xe.paint_line["line-gradient"])}),layout:tp},rp=function(R){function I(){R.apply(this,arguments)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.possiblyEvaluate=function(q,ft){return ft=new va(Math.floor(ft.zoom),{now:ft.now,fadeDuration:ft.fadeDuration,zoomHistory:ft.zoomHistory,transition:ft.transition}),R.prototype.possiblyEvaluate.call(this,q,ft)},I.prototype.evaluate=function(q,ft,xt,At){return ft=o({},ft,{zoom:Math.floor(ft.zoom)}),R.prototype.evaluate.call(this,q,ft,xt,At)},I}(ua),Zh=new rp(Yh.paint.properties["line-width"].specification);Zh.useIntegerZoom=!0;var np=function(R){function I(V){R.call(this,V,Yh)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype._handleSpecialPaintPropertyUpdate=function(q){"line-gradient"===q&&this._updateGradient()},I.prototype._updateGradient=function(){this.gradient=Lh(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},I.prototype.recalculate=function(q,ft){R.prototype.recalculate.call(this,q,ft),this.paint._values["line-floorwidth"]=Zh.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,q)},I.prototype.createBucket=function(q){return new Wo(q)},I.prototype.queryRadius=function(q){var ft=q,xt=Xh(qo("line-width",this,ft),qo("line-gap-width",this,ft)),At=qo("line-offset",this,ft);return xt/2+Math.abs(At)+Qs(this.paint.get("line-translate"))},I.prototype.queryIntersectsFeature=function(q,ft,xt,At,jt,se,ge){var we=Rs(q,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),se.angle,ge),Ne=ge/2*Xh(this.paint.get("line-width").evaluate(ft,xt),this.paint.get("line-gap-width").evaluate(ft,xt)),nr=this.paint.get("line-offset").evaluate(ft,xt);return nr&&(At=function ap(R,I){for(var V=[],q=new e(0,0),ft=0;ft<R.length;ft++){for(var xt=R[ft],At=[],jt=0;jt<xt.length;jt++){var ge=xt[jt],we=xt[jt+1],Ne=0===jt?q:ge.sub(xt[jt-1])._unit()._perp(),nr=jt===xt.length-1?q:we.sub(ge)._unit()._perp(),_e=Ne._add(nr)._unit();_e._mult(1/(_e.x*nr.x+_e.y*nr.y)),At.push(_e._mult(I)._add(ge))}V.push(At)}return V}(At,nr*ge)),function Hi(R,I,V){for(var q=0;q<I.length;q++){var ft=I[q];if(R.length>=3)for(var xt=0;xt<ft.length;xt++)if(Co(R,ft[xt]))return!0;if(ds(R,ft,V))return!0}return!1}(we,At,Ne)},I.prototype.isTileClipped=function(){return!0},I}(Mi);function Xh(R,I){return I>0?I+2*R:R}var fh=Wa([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),ip=Wa([{name:"a_projected_pos",components:3,type:"Float32"}],4),op=(Wa([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Wa([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),jh=(Wa([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Wa([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),sp=Wa([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function up(R,I,V){return R.sections.forEach(function(q){q.text=function lp(R,I,V){var q=I.layout.get("text-transform").evaluate(V,{});return"uppercase"===q?R=R.toLocaleUpperCase():"lowercase"===q&&(R=R.toLocaleLowerCase()),na.applyArabicShaping&&(R=na.applyArabicShaping(R)),R}(q.text,I,V)}),R}Wa([{name:"triangle",components:3,type:"Uint16"}]),Wa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Wa([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Wa([{type:"Float32",name:"offsetX"}]),Wa([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var vc={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var Fc_read=function(R,I,V,q,ft){var xt,At,jt=8*ft-q-1,se=(1<<jt)-1,ge=se>>1,we=-7,Ne=V?ft-1:0,nr=V?-1:1,_e=R[I+Ne];for(Ne+=nr,xt=_e&(1<<-we)-1,_e>>=-we,we+=jt;we>0;xt=256*xt+R[I+Ne],Ne+=nr,we-=8);for(At=xt&(1<<-we)-1,xt>>=-we,we+=q;we>0;At=256*At+R[I+Ne],Ne+=nr,we-=8);if(0===xt)xt=1-ge;else{if(xt===se)return At?NaN:1/0*(_e?-1:1);At+=Math.pow(2,q),xt-=ge}return(_e?-1:1)*At*Math.pow(2,xt-q)},Fc_write=function(R,I,V,q,ft,xt){var At,jt,se,ge=8*xt-ft-1,we=(1<<ge)-1,Ne=we>>1,nr=23===ft?Math.pow(2,-24)-Math.pow(2,-77):0,_e=q?0:xt-1,xr=q?1:-1,Nr=I<0||0===I&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(jt=isNaN(I)?1:0,At=we):(At=Math.floor(Math.log(I)/Math.LN2),I*(se=Math.pow(2,-At))<1&&(At--,se*=2),(I+=At+Ne>=1?nr/se:nr*Math.pow(2,1-Ne))*se>=2&&(At++,se/=2),At+Ne>=we?(jt=0,At=we):At+Ne>=1?(jt=(I*se-1)*Math.pow(2,ft),At+=Ne):(jt=I*Math.pow(2,Ne-1)*Math.pow(2,ft),At=0));ft>=8;R[V+_e]=255&jt,_e+=xr,jt/=256,ft-=8);for(At=At<<ft|jt,ge+=ft;ge>0;R[V+_e]=255&At,_e+=xr,At/=256,ge-=8);R[V+_e-xr]|=128*Nr},kc=pi;function pi(R){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(R)?R:new Uint8Array(R||0),this.pos=0,this.type=0,this.length=this.buf.length}pi.Varint=0,pi.Fixed64=1,pi.Bytes=2,pi.Fixed32=5;var ch=4294967296,Kh=1/ch,Jh="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function wu(R){return R.type===pi.Bytes?R.readVarint()+R.pos:R.pos+1}function Qh(R,I,V){var q=I<=16383?1:I<=2097151?2:I<=268435455?3:Math.floor(Math.log(I)/(7*Math.LN2));V.realloc(q);for(var ft=V.pos-1;ft>=R;ft--)V.buf[ft+q]=V.buf[ft]}function xp(R,I){for(var V=0;V<R.length;V++)I.writeVarint(R[V])}function bp(R,I){for(var V=0;V<R.length;V++)I.writeSVarint(R[V])}function wp(R,I){for(var V=0;V<R.length;V++)I.writeFloat(R[V])}function Tp(R,I){for(var V=0;V<R.length;V++)I.writeDouble(R[V])}function Ap(R,I){for(var V=0;V<R.length;V++)I.writeBoolean(R[V])}function Mp(R,I){for(var V=0;V<R.length;V++)I.writeFixed32(R[V])}function Sp(R,I){for(var V=0;V<R.length;V++)I.writeSFixed32(R[V])}function Ep(R,I){for(var V=0;V<R.length;V++)I.writeFixed64(R[V])}function Cp(R,I){for(var V=0;V<R.length;V++)I.writeSFixed64(R[V])}function zc(R,I){return(R[I]|R[I+1]<<8|R[I+2]<<16)+16777216*R[I+3]}function Vf(R,I,V){R[V]=I,R[V+1]=I>>>8,R[V+2]=I>>>16,R[V+3]=I>>>24}function $h(R,I){return(R[I]|R[I+1]<<8|R[I+2]<<16)+(R[I+3]<<24)}pi.prototype={destroy:function(){this.buf=null},readFields:function(R,I,V){for(V=V||this.length;this.pos<V;){var q=this.readVarint(),ft=q>>3,xt=this.pos;this.type=7&q,R(ft,I,this),this.pos===xt&&this.skip(q)}return I},readMessage:function(R,I){return this.readFields(R,I,this.readVarint()+this.pos)},readFixed32:function(){var R=zc(this.buf,this.pos);return this.pos+=4,R},readSFixed32:function(){var R=$h(this.buf,this.pos);return this.pos+=4,R},readFixed64:function(){var R=zc(this.buf,this.pos)+zc(this.buf,this.pos+4)*ch;return this.pos+=8,R},readSFixed64:function(){var R=zc(this.buf,this.pos)+$h(this.buf,this.pos+4)*ch;return this.pos+=8,R},readFloat:function(){var R=Fc_read(this.buf,this.pos,!0,23,4);return this.pos+=4,R},readDouble:function(){var R=Fc_read(this.buf,this.pos,!0,52,8);return this.pos+=8,R},readVarint:function(R){var V,q,I=this.buf;return V=127&(q=I[this.pos++]),q<128||(V|=(127&(q=I[this.pos++]))<<7,q<128)||(V|=(127&(q=I[this.pos++]))<<14,q<128)||(V|=(127&(q=I[this.pos++]))<<21,q<128)?V:function pp(R,I,V){var ft,xt,q=V.buf;if(ft=(112&(xt=q[V.pos++]))>>4,xt<128||(ft|=(127&(xt=q[V.pos++]))<<3,xt<128)||(ft|=(127&(xt=q[V.pos++]))<<10,xt<128)||(ft|=(127&(xt=q[V.pos++]))<<17,xt<128)||(ft|=(127&(xt=q[V.pos++]))<<24,xt<128)||(ft|=(1&(xt=q[V.pos++]))<<31,xt<128))return function Uf(R,I,V){return V?4294967296*I+(R>>>0):4294967296*(I>>>0)+(R>>>0)}(R,ft,I);throw new Error("Expected varint not more than 10 bytes")}(V|=(15&(q=I[this.pos]))<<28,R,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var R=this.readVarint();return R%2==1?(R+1)/-2:R/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var R=this.readVarint()+this.pos,I=this.pos;return this.pos=R,R-I>=12&&Jh?function Pp(R,I,V){return Jh.decode(R.subarray(I,V))}(this.buf,I,R):function Lp(R,I,V){for(var q="",ft=I;ft<V;){var se,ge,we,xt=R[ft],At=null,jt=xt>239?4:xt>223?3:xt>191?2:1;if(ft+jt>V)break;1===jt?xt<128&&(At=xt):2===jt?128==(192&(se=R[ft+1]))&&(At=(31&xt)<<6|63&se)<=127&&(At=null):3===jt?(ge=R[ft+2],128==(192&(se=R[ft+1]))&&128==(192&ge)&&((At=(15&xt)<<12|(63&se)<<6|63&ge)<=2047||At>=55296&&At<=57343)&&(At=null)):4===jt&&(ge=R[ft+2],we=R[ft+3],128==(192&(se=R[ft+1]))&&128==(192&ge)&&128==(192&we)&&((At=(15&xt)<<18|(63&se)<<12|(63&ge)<<6|63&we)<=65535||At>=1114112)&&(At=null)),null===At?(At=65533,jt=1):At>65535&&(At-=65536,q+=String.fromCharCode(At>>>10&1023|55296),At=56320|1023&At),q+=String.fromCharCode(At),ft+=jt}return q}(this.buf,I,R)},readBytes:function(){var R=this.readVarint()+this.pos,I=this.buf.subarray(this.pos,R);return this.pos=R,I},readPackedVarint:function(R,I){if(this.type!==pi.Bytes)return R.push(this.readVarint(I));var V=wu(this);for(R=R||[];this.pos<V;)R.push(this.readVarint(I));return R},readPackedSVarint:function(R){if(this.type!==pi.Bytes)return R.push(this.readSVarint());var I=wu(this);for(R=R||[];this.pos<I;)R.push(this.readSVarint());return R},readPackedBoolean:function(R){if(this.type!==pi.Bytes)return R.push(this.readBoolean());var I=wu(this);for(R=R||[];this.pos<I;)R.push(this.readBoolean());return R},readPackedFloat:function(R){if(this.type!==pi.Bytes)return R.push(this.readFloat());var I=wu(this);for(R=R||[];this.pos<I;)R.push(this.readFloat());return R},readPackedDouble:function(R){if(this.type!==pi.Bytes)return R.push(this.readDouble());var I=wu(this);for(R=R||[];this.pos<I;)R.push(this.readDouble());return R},readPackedFixed32:function(R){if(this.type!==pi.Bytes)return R.push(this.readFixed32());var I=wu(this);for(R=R||[];this.pos<I;)R.push(this.readFixed32());return R},readPackedSFixed32:function(R){if(this.type!==pi.Bytes)return R.push(this.readSFixed32());var I=wu(this);for(R=R||[];this.pos<I;)R.push(this.readSFixed32());return R},readPackedFixed64:function(R){if(this.type!==pi.Bytes)return R.push(this.readFixed64());var I=wu(this);for(R=R||[];this.pos<I;)R.push(this.readFixed64());return R},readPackedSFixed64:function(R){if(this.type!==pi.Bytes)return R.push(this.readSFixed64());var I=wu(this);for(R=R||[];this.pos<I;)R.push(this.readSFixed64());return R},skip:function(R){var I=7&R;if(I===pi.Varint)for(;this.buf[this.pos++]>127;);else if(I===pi.Bytes)this.pos=this.readVarint()+this.pos;else if(I===pi.Fixed32)this.pos+=4;else{if(I!==pi.Fixed64)throw new Error("Unimplemented type: "+I);this.pos+=8}},writeTag:function(R,I){this.writeVarint(R<<3|I)},realloc:function(R){for(var I=this.length||16;I<this.pos+R;)I*=2;if(I!==this.length){var V=new Uint8Array(I);V.set(this.buf),this.buf=V,this.length=I}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(R){this.realloc(4),Vf(this.buf,R,this.pos),this.pos+=4},writeSFixed32:function(R){this.realloc(4),Vf(this.buf,R,this.pos),this.pos+=4},writeFixed64:function(R){this.realloc(8),Vf(this.buf,-1&R,this.pos),Vf(this.buf,Math.floor(R*Kh),this.pos+4),this.pos+=8},writeSFixed64:function(R){this.realloc(8),Vf(this.buf,-1&R,this.pos),Vf(this.buf,Math.floor(R*Kh),this.pos+4),this.pos+=8},writeVarint:function(R){(R=+R||0)>268435455||R<0?function gp(R,I){var V,q;if(R>=0?(V=R%4294967296|0,q=R/4294967296|0):(q=~(-R/4294967296),4294967295^(V=~(-R%4294967296))?V=V+1|0:(V=0,q=q+1|0)),R>=0x10000000000000000||R<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");I.realloc(10),function yp(R,I,V){V.buf[V.pos++]=127&R|128,R>>>=7,V.buf[V.pos++]=127&R|128,R>>>=7,V.buf[V.pos++]=127&R|128,R>>>=7,V.buf[V.pos++]=127&R|128,V.buf[V.pos]=127&(R>>>=7)}(V,0,I),function mp(R,I){var V=(7&R)<<4;I.buf[I.pos++]|=V|((R>>>=3)?128:0),R&&(I.buf[I.pos++]=127&R|((R>>>=7)?128:0),R&&(I.buf[I.pos++]=127&R|((R>>>=7)?128:0),R&&(I.buf[I.pos++]=127&R|((R>>>=7)?128:0),R&&(I.buf[I.pos++]=127&R|((R>>>=7)?128:0),R&&(I.buf[I.pos++]=127&R)))))}(q,I)}(R,this):(this.realloc(4),this.buf[this.pos++]=127&R|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=127&(R>>>=7)|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=127&(R>>>=7)|(R>127?128:0),!(R<=127)&&(this.buf[this.pos++]=R>>>7&127))))},writeSVarint:function(R){this.writeVarint(R<0?2*-R-1:2*R)},writeBoolean:function(R){this.writeVarint(Boolean(R))},writeString:function(R){R=String(R),this.realloc(4*R.length),this.pos++;var I=this.pos;this.pos=function Dp(R,I,V){for(var ft,xt,q=0;q<I.length;q++){if((ft=I.charCodeAt(q))>55295&&ft<57344){if(!xt){ft>56319||q+1===I.length?(R[V++]=239,R[V++]=191,R[V++]=189):xt=ft;continue}if(ft<56320){R[V++]=239,R[V++]=191,R[V++]=189,xt=ft;continue}ft=xt-55296<<10|ft-56320|65536,xt=null}else xt&&(R[V++]=239,R[V++]=191,R[V++]=189,xt=null);ft<128?R[V++]=ft:(ft<2048?R[V++]=ft>>6|192:(ft<65536?R[V++]=ft>>12|224:(R[V++]=ft>>18|240,R[V++]=ft>>12&63|128),R[V++]=ft>>6&63|128),R[V++]=63&ft|128)}return V}(this.buf,R,this.pos);var V=this.pos-I;V>=128&&Qh(I,V,this),this.pos=I-1,this.writeVarint(V),this.pos+=V},writeFloat:function(R){this.realloc(4),Fc_write(this.buf,R,this.pos,!0,23,4),this.pos+=4},writeDouble:function(R){this.realloc(8),Fc_write(this.buf,R,this.pos,!0,52,8),this.pos+=8},writeBytes:function(R){var I=R.length;this.writeVarint(I),this.realloc(I);for(var V=0;V<I;V++)this.buf[this.pos++]=R[V]},writeRawMessage:function(R,I){this.pos++;var V=this.pos;R(I,this);var q=this.pos-V;q>=128&&Qh(V,q,this),this.pos=V-1,this.writeVarint(q),this.pos+=q},writeMessage:function(R,I,V){this.writeTag(R,pi.Bytes),this.writeRawMessage(I,V)},writePackedVarint:function(R,I){I.length&&this.writeMessage(R,xp,I)},writePackedSVarint:function(R,I){I.length&&this.writeMessage(R,bp,I)},writePackedBoolean:function(R,I){I.length&&this.writeMessage(R,Ap,I)},writePackedFloat:function(R,I){I.length&&this.writeMessage(R,wp,I)},writePackedDouble:function(R,I){I.length&&this.writeMessage(R,Tp,I)},writePackedFixed32:function(R,I){I.length&&this.writeMessage(R,Mp,I)},writePackedSFixed32:function(R,I){I.length&&this.writeMessage(R,Sp,I)},writePackedFixed64:function(R,I){I.length&&this.writeMessage(R,Ep,I)},writePackedSFixed64:function(R,I){I.length&&this.writeMessage(R,Cp,I)},writeBytesField:function(R,I){this.writeTag(R,pi.Bytes),this.writeBytes(I)},writeFixed32Field:function(R,I){this.writeTag(R,pi.Fixed32),this.writeFixed32(I)},writeSFixed32Field:function(R,I){this.writeTag(R,pi.Fixed32),this.writeSFixed32(I)},writeFixed64Field:function(R,I){this.writeTag(R,pi.Fixed64),this.writeFixed64(I)},writeSFixed64Field:function(R,I){this.writeTag(R,pi.Fixed64),this.writeSFixed64(I)},writeVarintField:function(R,I){this.writeTag(R,pi.Varint),this.writeVarint(I)},writeSVarintField:function(R,I){this.writeTag(R,pi.Varint),this.writeSVarint(I)},writeStringField:function(R,I){this.writeTag(R,pi.Bytes),this.writeString(I)},writeFloatField:function(R,I){this.writeTag(R,pi.Fixed32),this.writeFloat(I)},writeDoubleField:function(R,I){this.writeTag(R,pi.Fixed64),this.writeDouble(I)},writeBooleanField:function(R,I){this.writeVarintField(R,Boolean(I))}};function Rp(R,I,V){1===R&&V.readMessage(Ip,I)}function Ip(R,I,V){if(3===R){var q=V.readMessage(Fp,{}),At=q.width,jt=q.height,se=q.left,ge=q.top,we=q.advance;I.push({id:q.id,bitmap:new Af({width:At+6,height:jt+6},q.bitmap),metrics:{width:At,height:jt,left:se,top:ge,advance:we}})}}function Fp(R,I,V){1===R?I.id=V.readVarint():2===R?I.bitmap=V.readBytes():3===R?I.width=V.readVarint():4===R?I.height=V.readVarint():5===R?I.left=V.readSVarint():6===R?I.top=V.readSVarint():7===R&&(I.advance=V.readVarint())}function qh(R){for(var I=0,V=0,q=0,ft=R;q<ft.length;q+=1){var xt=ft[q];I+=xt.w*xt.h,V=Math.max(V,xt.w)}R.sort(function(on,$r){return $r.h-on.h});for(var jt=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(I/.95)),V),h:1/0}],se=0,ge=0,we=0,Ne=R;we<Ne.length;we+=1)for(var nr=Ne[we],_e=jt.length-1;_e>=0;_e--){var xr=jt[_e];if(!(nr.w>xr.w||nr.h>xr.h)){if(nr.x=xr.x,nr.y=xr.y,ge=Math.max(ge,nr.y+nr.h),se=Math.max(se,nr.x+nr.w),nr.w===xr.w&&nr.h===xr.h){var Nr=jt.pop();_e<jt.length&&(jt[_e]=Nr)}else nr.h===xr.h?(xr.x+=nr.w,xr.w-=nr.w):nr.w===xr.w?(xr.y+=nr.h,xr.h-=nr.h):(jt.push({x:xr.x+nr.w,y:xr.y,w:xr.w-nr.w,h:nr.h}),xr.y+=nr.h,xr.h-=nr.h);break}}return{w:se,h:ge,fill:I/(se*ge)||0}}var Oc=function(I,V){var q=V.pixelRatio,ft=V.version,xt=V.stretchX,At=V.stretchY,jt=V.content;this.paddedRect=I,this.pixelRatio=q,this.stretchX=xt,this.stretchY=At,this.content=jt,this.version=ft},dc={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};dc.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},dc.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},dc.tlbr.get=function(){return this.tl.concat(this.br)},dc.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Oc.prototype,dc);var pc=function(I,V){var q={},ft={};this.haveRenderCallbacks=[];var xt=[];this.addImages(I,q,xt),this.addImages(V,ft,xt);var At=qh(xt),ge=new Go({width:At.w||1,height:At.h||1});for(var we in I){var Ne=I[we],nr=q[we].paddedRect;Go.copy(Ne.data,ge,{x:0,y:0},{x:nr.x+1,y:nr.y+1},Ne.data)}for(var _e in V){var xr=V[_e],Nr=ft[_e].paddedRect,on=Nr.x+1,$r=Nr.y+1,Tn=xr.data.width,yn=xr.data.height;Go.copy(xr.data,ge,{x:0,y:0},{x:on,y:$r},xr.data),Go.copy(xr.data,ge,{x:0,y:yn-1},{x:on,y:$r-1},{width:Tn,height:1}),Go.copy(xr.data,ge,{x:0,y:0},{x:on,y:$r+yn},{width:Tn,height:1}),Go.copy(xr.data,ge,{x:Tn-1,y:0},{x:on-1,y:$r},{width:1,height:yn}),Go.copy(xr.data,ge,{x:0,y:0},{x:on+Tn,y:$r},{width:1,height:yn})}this.image=ge,this.iconPositions=q,this.patternPositions=ft};pc.prototype.addImages=function(I,V,q){for(var ft in I){var xt=I[ft],At={x:0,y:0,w:xt.data.width+2,h:xt.data.height+2};q.push(At),V[ft]=new Oc(At,xt),xt.hasRenderCallback&&this.haveRenderCallbacks.push(ft)}},pc.prototype.patchUpdatedImages=function(I,V){for(var q in I.dispatchRenderCallbacks(this.haveRenderCallbacks),I.updatedImages)this.patchUpdatedImage(this.iconPositions[q],I.getImage(q),V),this.patchUpdatedImage(this.patternPositions[q],I.getImage(q),V)},pc.prototype.patchUpdatedImage=function(I,V,q){if(I&&V&&I.version!==V.version){I.version=V.version;var ft=I.tl;q.update(V.data,void 0,{x:ft[0],y:ft[1]})}},ea("ImagePosition",Oc),ea("ImageAtlas",pc);var gs={horizontal:1,vertical:2,horizontalOnly:3},gc=-17;var Hf=function(){this.scale=1,this.fontStack="",this.imageName=null};Hf.forText=function(I,V){var q=new Hf;return q.scale=I||1,q.fontStack=V,q},Hf.forImage=function(I){var V=new Hf;return V.imageName=I,V};var go=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Bc(R,I,V,q,ft,xt,At,jt,se,ge,we,Ne,nr,_e,xr,Nr){var on=go.fromFeature(R,ft);Ne===gs.vertical&&on.verticalizePunctuation();var $r,Tn=na.processBidirectionalText,yn=na.processStyledBidirectionalText;if(Tn&&1===on.sections.length){$r=[];for(var Dn=0,zn=Tn(on.toString(),vh(on,ge,xt,I,q,_e,xr));Dn<zn.length;Dn+=1){var Yn=zn[Dn],Hn=new go;Hn.text=Yn,Hn.sections=on.sections;for(var wa=0;wa<Yn.length;wa++)Hn.sectionIndex.push(0);$r.push(Hn)}}else if(yn){$r=[];for(var ca=0,Ia=yn(on.text,on.sectionIndex,vh(on,ge,xt,I,q,_e,xr));ca<Ia.length;ca+=1){var ga=Ia[ca],ba=new go;ba.text=ga[0],ba.sectionIndex=ga[1],ba.sections=on.sections,$r.push(ba)}}else $r=function Op(R,I){for(var V=[],q=R.text,ft=0,xt=0,At=I;xt<At.length;xt+=1){var jt=At[xt];V.push(R.substring(ft,jt)),ft=jt}return ft<q.length&&V.push(R.substring(ft,q.length)),V}(on,vh(on,ge,xt,I,q,_e,xr));var Oa=[],Pa={positionedLines:Oa,text:on.toString(),top:we[1],bottom:we[1],left:we[0],right:we[0],writingMode:Ne,iconsInText:!1,verticalizable:!1};return function Up(R,I,V,q,ft,xt,At,jt,se,ge,we,Ne){for(var nr=0,_e=-17,xr=0,Nr=0,on="right"===jt?1:"left"===jt?0:.5,$r=0,Tn=0,yn=ft;Tn<yn.length;Tn+=1){var wn=yn[Tn];wn.trim();var Dn=wn.getMaxScale(),zn=24*(Dn-1),Yn={positionedGlyphs:[],lineOffset:0};R.positionedLines[$r]=Yn;var Hn=Yn.positionedGlyphs,wa=0;if(wn.length()){for(var la=0;la<wn.length();la++){var ca=wn.getSection(la),Ia=wn.getSectionIndex(la),ga=wn.getCharCode(la),ba=0,Oa=null,Pa=null,Ka=null,ui=24,Ja=!(se===gs.horizontal||!we&&!Ee(ga)||we&&(Jl[ga]||$e(ga)));if(ca.imageName){var Ri=q[ca.imageName];if(!Ri)continue;Ka=ca.imageName,R.iconsInText=R.iconsInText||!0,Pa=Ri.paddedRect;var Oi=Ri.displaySize;ca.scale=24*ca.scale/Ne,ba=zn+(24-Oi[1]*ca.scale),ui=(Oa={width:Oi[0],height:Oi[1],left:1,top:-3,advance:Ja?Oi[1]:Oi[0]}).advance;var Zi=Ja?Oi[0]*ca.scale-24*Dn:Oi[1]*ca.scale-24*Dn;Zi>0&&Zi>wa&&(wa=Zi)}else{var Qa=V[ca.fontStack],Xa=Qa&&Qa[ga];if(Xa&&Xa.rect)Pa=Xa.rect,Oa=Xa.metrics;else{var vi=I[ca.fontStack],gi=vi&&vi[ga];if(!gi)continue;Oa=gi.metrics}ba=24*(Dn-ca.scale)}Ja?(R.verticalizable=!0,Hn.push({glyph:ga,imageName:Ka,x:nr,y:_e+ba,vertical:Ja,scale:ca.scale,fontStack:ca.fontStack,sectionIndex:Ia,metrics:Oa,rect:Pa}),nr+=ui*ca.scale+ge):(Hn.push({glyph:ga,imageName:Ka,x:nr,y:_e+ba,vertical:Ja,scale:ca.scale,fontStack:ca.fontStack,sectionIndex:Ia,metrics:Oa,rect:Pa}),nr+=Oa.advance*ca.scale+ge)}0!==Hn.length&&(xr=Math.max(nr-ge,xr),Vp(Hn,0,Hn.length-1,on,wa)),nr=0;var mo=xt*Dn+wa;Yn.lineOffset=Math.max(wa,zn),_e+=mo,Nr=Math.max(mo,Nr),++$r}else _e+=xt,++$r}var _i=_e- -17,Lo=dh(At),Po=Lo.horizontalAlign,Ji=Lo.verticalAlign;(function Hp(R,I,V,q,ft,xt,At,jt,se){var ge=(I-V)*ft,we=0;we=xt!==At?-jt*q-gc:(-q*se+.5)*At;for(var Ne=0,nr=R;Ne<nr.length;Ne+=1)for(var xr=0,Nr=nr[Ne].positionedGlyphs;xr<Nr.length;xr+=1){var on=Nr[xr];on.x+=ge,on.y+=we}})(R.positionedLines,on,Po,Ji,xr,Nr,xt,_i,ft.length),R.top+=-Ji*_i,R.bottom=R.top+_i,R.left+=-Po*xr,R.right=R.left+xr}(Pa,I,V,q,$r,At,jt,se,Ne,ge,nr,Nr),!function zp(R){for(var I=0,V=R;I<V.length;I+=1)if(0!==V[I].positionedGlyphs.length)return!1;return!0}(Oa)&&Pa}go.fromFeature=function(I,V){for(var q=new go,ft=0;ft<I.sections.length;ft++){var xt=I.sections[ft];xt.image?q.addImageSection(xt):q.addTextSection(xt,V)}return q},go.prototype.length=function(){return this.text.length},go.prototype.getSection=function(I){return this.sections[this.sectionIndex[I]]},go.prototype.getSectionIndex=function(I){return this.sectionIndex[I]},go.prototype.getCharCode=function(I){return this.text.charCodeAt(I)},go.prototype.verticalizePunctuation=function(){this.text=function cp(R){for(var I="",V=0;V<R.length;V++){var q=R.charCodeAt(V+1)||null,ft=R.charCodeAt(V-1)||null;I+=q&&ze(q)&&!vc[R[V+1]]||ft&&ze(ft)&&!vc[R[V-1]]||!vc[R[V]]?R[V]:vc[R[V]]}return I}(this.text)},go.prototype.trim=function(){for(var I=0,V=0;V<this.text.length&&Jl[this.text.charCodeAt(V)];V++)I++;for(var q=this.text.length,ft=this.text.length-1;ft>=0&&ft>=I&&Jl[this.text.charCodeAt(ft)];ft--)q--;this.text=this.text.substring(I,q),this.sectionIndex=this.sectionIndex.slice(I,q)},go.prototype.substring=function(I,V){var q=new go;return q.text=this.text.substring(I,V),q.sectionIndex=this.sectionIndex.slice(I,V),q.sections=this.sections,q},go.prototype.toString=function(){return this.text},go.prototype.getMaxScale=function(){var I=this;return this.sectionIndex.reduce(function(V,q){return Math.max(V,I.sections[q].scale)},0)},go.prototype.addTextSection=function(I,V){this.text+=I.text,this.sections.push(Hf.forText(I.scale,I.fontStack||V));for(var q=this.sections.length-1,ft=0;ft<I.text.length;++ft)this.sectionIndex.push(q)},go.prototype.addImageSection=function(I){var V=I.image?I.image.name:"";if(0!==V.length){var q=this.getNextImageSectionCharCode();q?(this.text+=String.fromCharCode(q),this.sections.push(Hf.forImage(V)),this.sectionIndex.push(this.sections.length-1)):N("Reached maximum number of images 6401")}else N("Can't add FormattedSection with an empty image.")},go.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Jl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},es={};function rv(R,I,V,q,ft,xt){if(I.imageName){var se=q[I.imageName];return se?se.displaySize[0]*I.scale*24/xt+ft:0}var At=V[I.fontStack],jt=At&&At[R];return jt?jt.metrics.advance*I.scale+ft:0}function nv(R,I,V,q){var ft=Math.pow(R-I,2);return q?R<I?ft/2:2*ft:ft+Math.abs(V)*V}function Np(R,I,V){var q=0;return 10===R&&(q-=1e4),V&&(q+=150),(40===R||65288===R)&&(q+=50),(41===I||65289===I)&&(q+=50),q}function av(R,I,V,q,ft,xt){for(var At=null,jt=nv(I,V,ft,xt),se=0,ge=q;se<ge.length;se+=1){var we=ge[se],nr=nv(I-we.x,V,ft,xt)+we.badness;nr<=jt&&(At=we,jt=nr)}return{index:R,x:I,priorBreak:At,badness:jt}}function iv(R){return R?iv(R.priorBreak).concat(R.index):[]}function vh(R,I,V,q,ft,xt,At){if("point"!==xt)return[];if(!R)return[];for(var jt=[],se=function Bp(R,I,V,q,ft,xt){for(var At=0,jt=0;jt<R.length();jt++){var se=R.getSection(jt);At+=rv(R.getCharCode(jt),se,q,ft,I,xt)}return At/Math.max(1,Math.ceil(At/V))}(R,I,V,q,ft,At),ge=R.text.indexOf("\u200b")>=0,we=0,Ne=0;Ne<R.length();Ne++){var nr=R.getSection(Ne),_e=R.getCharCode(Ne);if(Jl[_e]||(we+=rv(_e,nr,q,ft,I,At)),Ne<R.length()-1){var xr=ee(_e);(es[_e]||xr||nr.imageName)&&jt.push(av(Ne+1,we,se,jt,Np(_e,R.getCharCode(Ne+1),xr&&ge),!1))}}return iv(av(R.length(),we,se,jt,0,!0))}function dh(R){var I=.5,V=.5;switch(R){case"right":case"top-right":case"bottom-right":I=1;break;case"left":case"top-left":case"bottom-left":I=0}switch(R){case"bottom":case"bottom-right":case"bottom-left":V=1;break;case"top":case"top-right":case"top-left":V=0}return{horizontalAlign:I,verticalAlign:V}}function Vp(R,I,V,q,ft){if(q||ft)for(var xt=R[V],jt=(R[V].x+xt.metrics.advance*xt.scale)*q,se=I;se<=V;se++)R[se].x-=jt,R[se].y+=ft}function ov(R,I,V,q,ft,xt){var jt,At=R.image;if(At.content){var se=At.content,ge=At.pixelRatio||1;jt=[se[0]/ge,se[1]/ge,At.displaySize[0]-se[2]/ge,At.displaySize[1]-se[3]/ge]}var nr,_e,xr,Nr,we=I.left*xt,Ne=I.right*xt;"width"===V||"both"===V?(Nr=ft[0]+we-q[3],_e=ft[0]+Ne+q[1]):_e=(Nr=ft[0]+(we+Ne-At.displaySize[0])/2)+At.displaySize[0];var on=I.top*xt,$r=I.bottom*xt;return"height"===V||"both"===V?(nr=ft[1]+on-q[0],xr=ft[1]+$r+q[2]):xr=(nr=ft[1]+(on+$r-At.displaySize[1])/2)+At.displaySize[1],{image:At,top:nr,right:_e,bottom:xr,left:Nr,collisionPadding:jt}}es[10]=!0,es[32]=!0,es[38]=!0,es[40]=!0,es[41]=!0,es[43]=!0,es[45]=!0,es[47]=!0,es[173]=!0,es[183]=!0,es[8203]=!0,es[8208]=!0,es[8211]=!0,es[8231]=!0;var Gf=function(R){function I(V,q,ft,xt){R.call(this,V,q),this.angle=ft,void 0!==xt&&(this.segment=xt)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.clone=function(){return new I(this.x,this.y,this.angle,this.segment)},I}(e);ea("Anchor",Gf);var Ml=128;function ph(R,I){var V=I.expression;if("constant"===V.kind)return{kind:"constant",layoutSize:V.evaluate(new va(R+1))};if("source"===V.kind)return{kind:"source"};for(var ft=V.zoomStops,xt=V.interpolationType,At=0;At<ft.length&&ft[At]<=R;)At++;for(var jt=At=Math.max(0,At-1);jt<ft.length&&ft[jt]<R+1;)jt++;jt=Math.min(ft.length-1,jt);var se=ft[At],ge=ft[jt];return"composite"===V.kind?{kind:"composite",minZoom:se,maxZoom:ge,interpolationType:xt}:{kind:"camera",minZoom:se,maxZoom:ge,minSize:V.evaluate(new va(se)),maxSize:V.evaluate(new va(ge)),interpolationType:xt}}function sv(R,I,V){var q=I.uSize,xt=V.lowerSize;return"source"===R.kind?xt/Ml:"composite"===R.kind?Li(xt/Ml,V.upperSize/Ml,I.uSizeT):q}function lv(R,I){var V=0,q=0;if("constant"===R.kind)q=R.layoutSize;else if("source"!==R.kind){var ft=R.interpolationType,jt=ft?u(Fi.interpolationFactor(ft,I,R.minZoom,R.maxZoom),0,1):0;"camera"===R.kind?q=Li(R.minSize,R.maxSize,jt):V=jt}return{uSizeT:V,uSize:q}}var Wp=Object.freeze({__proto__:null,getSizeData:ph,evaluateSizeForFeature:sv,evaluateSizeForZoom:lv,SIZE_PACK_FACTOR:Ml});function uv(R,I,V,q,ft){if(void 0===I.segment)return!0;for(var xt=I,At=I.segment+1,jt=0;jt>-V/2;){if(--At<0)return!1;jt-=R[At].dist(xt),xt=R[At]}jt+=R[At].dist(R[At+1]),At++;for(var se=[],ge=0;jt<V/2;){var Ne=R[At],nr=R[At+1];if(!nr)return!1;var _e=R[At-1].angleTo(Ne)-Ne.angleTo(nr);for(_e=Math.abs((_e+3*Math.PI)%(2*Math.PI)-Math.PI),se.push({distance:jt,angleDelta:_e}),ge+=_e;jt-se[0].distance>q;)ge-=se.shift().angleDelta;if(ge>ft)return!1;At++,jt+=Ne.dist(nr)}return!0}function fv(R){for(var I=0,V=0;V<R.length-1;V++)I+=R[V].dist(R[V+1]);return I}function cv(R,I,V){return R?.6*I*V:0}function hv(R,I){return Math.max(R?R.right-R.left:0,I?I.right-I.left:0)}function Yp(R,I,V,q,ft,xt){for(var At=cv(V,ft,xt),jt=hv(V,q)*xt,se=0,ge=fv(R)/2,we=0;we<R.length-1;we++){var Ne=R[we],nr=R[we+1],_e=Ne.dist(nr);if(se+_e>ge){var xr=(ge-se)/_e,Nr=Li(Ne.x,nr.x,xr),on=Li(Ne.y,nr.y,xr),$r=new Gf(Nr,on,nr.angleTo(Ne),we);return $r._round(),!At||uv(R,$r,jt,At,I)?$r:void 0}se+=_e}}function Zp(R,I,V,q,ft,xt,At,jt,se){var ge=cv(q,xt,At),we=hv(q,ft),Ne=we*At,nr=0===R[0].x||R[0].x===se||0===R[0].y||R[0].y===se;return I-Ne<I/4&&(I=Ne+I/4),vv(R,nr?I/2*jt%I:(we/2+2*xt)*At*jt%I,I,ge,V,Ne,nr,!1,se)}function vv(R,I,V,q,ft,xt,At,jt,se){for(var ge=xt/2,we=fv(R),Ne=0,nr=I-V,_e=[],xr=0;xr<R.length-1;xr++){for(var Nr=R[xr],on=R[xr+1],$r=Nr.dist(on),Tn=on.angleTo(Nr);nr+V<Ne+$r;){var yn=((nr+=V)-Ne)/$r,wn=Li(Nr.x,on.x,yn),Dn=Li(Nr.y,on.y,yn);if(wn>=0&&wn<se&&Dn>=0&&Dn<se&&nr-ge>=0&&nr+ge<=we){var zn=new Gf(wn,Dn,Tn,xr);zn._round(),(!q||uv(R,zn,xt,q,ft))&&_e.push(zn)}}Ne+=$r}return!jt&&!_e.length&&!At&&(_e=vv(R,Ne/2,V,q,ft,xt,At,!0,se)),_e}function dv(R,I,V,q,ft){for(var xt=[],At=0;At<R.length;At++)for(var jt=R[At],se=void 0,ge=0;ge<jt.length-1;ge++){var we=jt[ge],Ne=jt[ge+1];we.x<I&&Ne.x<I||(we.x<I?we=new e(I,we.y+(I-we.x)/(Ne.x-we.x)*(Ne.y-we.y))._round():Ne.x<I&&(Ne=new e(I,we.y+(I-we.x)/(Ne.x-we.x)*(Ne.y-we.y))._round()),!(we.y<V&&Ne.y<V)&&(we.y<V?we=new e(we.x+(V-we.y)/(Ne.y-we.y)*(Ne.x-we.x),V)._round():Ne.y<V&&(Ne=new e(we.x+(V-we.y)/(Ne.y-we.y)*(Ne.x-we.x),V)._round()),!(we.x>=q&&Ne.x>=q)&&(we.x>=q?we=new e(q,we.y+(q-we.x)/(Ne.x-we.x)*(Ne.y-we.y))._round():Ne.x>=q&&(Ne=new e(q,we.y+(q-we.x)/(Ne.x-we.x)*(Ne.y-we.y))._round()),!(we.y>=ft&&Ne.y>=ft)&&(we.y>=ft?we=new e(we.x+(ft-we.y)/(Ne.y-we.y)*(Ne.x-we.x),ft)._round():Ne.y>=ft&&(Ne=new e(we.x+(ft-we.y)/(Ne.y-we.y)*(Ne.x-we.x),ft)._round()),(!se||!we.equals(se[se.length-1]))&&xt.push(se=[we]),se.push(Ne)))))}return xt}function pv(R,I,V,q){var ft=[],xt=R.image,At=xt.pixelRatio,jt=xt.paddedRect.w-2,se=xt.paddedRect.h-2,ge=R.right-R.left,we=R.bottom-R.top,Ne=xt.stretchX||[[0,jt]],nr=xt.stretchY||[[0,se]],_e=function(Qa,Xa){return Qa+Xa[1]-Xa[0]},xr=Ne.reduce(_e,0),Nr=nr.reduce(_e,0),on=jt-xr,$r=se-Nr,Tn=0,yn=xr,wn=0,Dn=Nr,zn=0,Yn=on,Hn=0,wa=$r;if(xt.content&&q){var la=xt.content;Tn=Nc(Ne,0,la[0]),wn=Nc(nr,0,la[1]),yn=Nc(Ne,la[0],la[2]),Dn=Nc(nr,la[1],la[3]),zn=la[0]-Tn,Hn=la[1]-wn,Yn=la[2]-la[0]-yn,wa=la[3]-la[1]-Dn}var ca=function(Qa,Xa,vi,gi){var Ri=Uc(Qa.stretch-Tn,yn,ge,R.left),Oi=Vc(Qa.fixed-zn,Yn,Qa.stretch,xr),$i=Uc(Xa.stretch-wn,Dn,we,R.top),Zi=Vc(Xa.fixed-Hn,wa,Xa.stretch,Nr),yo=Uc(vi.stretch-Tn,yn,ge,R.left),mo=Vc(vi.fixed-zn,Yn,vi.stretch,xr),_i=Uc(gi.stretch-wn,Dn,we,R.top),Lo=Vc(gi.fixed-Hn,wa,gi.stretch,Nr),Po=new e(Ri,$i),Ji=new e(yo,$i),Do=new e(yo,_i),ys=new e(Ri,_i),Mu=new e(Oi/At,Zi/At),ef=new e(mo/At,Lo/At),rf=I*Math.PI/180;if(rf){var nf=Math.sin(rf),$f=Math.cos(rf),_s=[$f,-nf,nf,$f];Po._matMult(_s),Ji._matMult(_s),ys._matMult(_s),Do._matMult(_s)}var Xc=Qa.stretch+Qa.fixed,jc=Xa.stretch+Xa.fixed;return{tl:Po,tr:Ji,bl:ys,br:Do,tex:{x:xt.paddedRect.x+1+Xc,y:xt.paddedRect.y+1+jc,w:vi.stretch+vi.fixed-Xc,h:gi.stretch+gi.fixed-jc},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Mu,pixelOffsetBR:ef,minFontScaleX:Yn/At/ge,minFontScaleY:wa/At/we,isSDF:V}};if(q&&(xt.stretchX||xt.stretchY))for(var Ia=gv(Ne,on,xr),ga=gv(nr,$r,Nr),ba=0;ba<Ia.length-1;ba++)for(var Oa=Ia[ba],Pa=Ia[ba+1],Ka=0;Ka<ga.length-1;Ka++)ft.push(ca(Oa,ga[Ka],Pa,ga[Ka+1]));else ft.push(ca({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:jt+1},{fixed:0,stretch:se+1}));return ft}function Nc(R,I,V){for(var q=0,ft=0,xt=R;ft<xt.length;ft+=1){var At=xt[ft];q+=Math.max(I,Math.min(V,At[1]))-Math.max(I,Math.min(V,At[0]))}return q}function gv(R,I,V){for(var q=[{fixed:-1,stretch:0}],ft=0,xt=R;ft<xt.length;ft+=1){var At=xt[ft],jt=At[0],se=At[1],ge=q[q.length-1];q.push({fixed:jt-ge.stretch,stretch:ge.stretch}),q.push({fixed:jt-ge.stretch,stretch:ge.stretch+(se-jt)})}return q.push({fixed:I+1,stretch:V}),q}function Uc(R,I,V,q){return R/I*V+q}function Vc(R,I,V,q){return R-I*V/q}var Hc=function(I,V,q,ft,xt,At,jt,se,ge,we){if(this.boxStartIndex=I.length,ge){var Ne=At.top,nr=At.bottom,_e=At.collisionPadding;_e&&(Ne-=_e[1],nr+=_e[3]);var xr=nr-Ne;xr>0&&(xr=Math.max(10,xr),this.circleDiameter=xr)}else{var Nr=At.top*jt-se,on=At.bottom*jt+se,$r=At.left*jt-se,Tn=At.right*jt+se,yn=At.collisionPadding;if(yn&&($r-=yn[0]*jt,Nr-=yn[1]*jt,Tn+=yn[2]*jt,on+=yn[3]*jt),we){var wn=new e($r,Nr),Dn=new e(Tn,Nr),zn=new e($r,on),Yn=new e(Tn,on),Hn=we*Math.PI/180;wn._rotate(Hn),Dn._rotate(Hn),zn._rotate(Hn),Yn._rotate(Hn),$r=Math.min(wn.x,Dn.x,zn.x,Yn.x),Tn=Math.max(wn.x,Dn.x,zn.x,Yn.x),Nr=Math.min(wn.y,Dn.y,zn.y,Yn.y),on=Math.max(wn.y,Dn.y,zn.y,Yn.y)}I.emplaceBack(V.x,V.y,$r,Nr,Tn,on,q,ft,xt)}this.boxEndIndex=I.length},Yf=function(I,V){if(void 0===I&&(I=[]),void 0===V&&(V=jp),this.data=I,this.length=this.data.length,this.compare=V,this.length>0)for(var q=(this.length>>1)-1;q>=0;q--)this._down(q)};function jp(R,I){return R<I?-1:R>I?1:0}function Kp(R,I,V){void 0===I&&(I=1),void 0===V&&(V=!1);for(var q=1/0,ft=1/0,xt=-1/0,At=-1/0,jt=R[0],se=0;se<jt.length;se++){var ge=jt[se];(!se||ge.x<q)&&(q=ge.x),(!se||ge.y<ft)&&(ft=ge.y),(!se||ge.x>xt)&&(xt=ge.x),(!se||ge.y>At)&&(At=ge.y)}var nr=Math.min(xt-q,At-ft),_e=nr/2,xr=new Yf([],Jp);if(0===nr)return new e(q,ft);for(var Nr=q;Nr<xt;Nr+=nr)for(var on=ft;on<At;on+=nr)xr.push(new Zf(Nr+_e,on+_e,_e,R));for(var $r=function $p(R){for(var I=0,V=0,q=0,ft=R[0],xt=0,At=ft.length,jt=At-1;xt<At;jt=xt++){var se=ft[xt],ge=ft[jt],we=se.x*ge.y-ge.x*se.y;V+=(se.x+ge.x)*we,q+=(se.y+ge.y)*we,I+=3*we}return new Zf(V/I,q/I,0,R)}(R),Tn=xr.length;xr.length;){var yn=xr.pop();(yn.d>$r.d||!$r.d)&&($r=yn,V&&console.log("found best %d after %d probes",Math.round(1e4*yn.d)/1e4,Tn)),!(yn.max-$r.d<=I)&&(xr.push(new Zf(yn.p.x-(_e=yn.h/2),yn.p.y-_e,_e,R)),xr.push(new Zf(yn.p.x+_e,yn.p.y-_e,_e,R)),xr.push(new Zf(yn.p.x-_e,yn.p.y+_e,_e,R)),xr.push(new Zf(yn.p.x+_e,yn.p.y+_e,_e,R)),Tn+=4)}return V&&(console.log("num probes: "+Tn),console.log("best distance: "+$r.d)),$r.p}function Jp(R,I){return I.max-R.max}function Zf(R,I,V,q){this.p=new e(R,I),this.h=V,this.d=function Qp(R,I){for(var V=!1,q=1/0,ft=0;ft<I.length;ft++)for(var xt=I[ft],At=0,jt=xt.length,se=jt-1;At<jt;se=At++){var ge=xt[At],we=xt[se];ge.y>R.y!=we.y>R.y&&R.x<(we.x-ge.x)*(R.y-ge.y)/(we.y-ge.y)+ge.x&&(V=!V),q=Math.min(q,wl(R,ge,we))}return(V?1:-1)*Math.sqrt(q)}(this.p,q),this.max=this.d+this.h*Math.SQRT2}Yf.prototype.push=function(I){this.data.push(I),this.length++,this._up(this.length-1)},Yf.prototype.pop=function(){if(0!==this.length){var I=this.data[0],V=this.data.pop();return this.length--,this.length>0&&(this.data[0]=V,this._down(0)),I}},Yf.prototype.peek=function(){return this.data[0]},Yf.prototype._up=function(I){for(var q=this.data,ft=this.compare,xt=q[I];I>0;){var At=I-1>>1,jt=q[At];if(ft(xt,jt)>=0)break;q[I]=jt,I=At}q[I]=xt},Yf.prototype._down=function(I){for(var q=this.data,ft=this.compare,xt=this.length>>1,At=q[I];I<xt;){var jt=1+(I<<1),se=q[jt],ge=jt+1;if(ge<this.length&&ft(q[ge],se)<0&&(jt=ge,se=q[ge]),ft(se,At)>=0)break;q[I]=se,I=jt}q[I]=At};var gh=Number.POSITIVE_INFINITY;function yv(R,I){return I[1]!==gh?function q(ft,xt,At){var jt=0,se=0;switch(xt=Math.abs(xt),At=Math.abs(At),ft){case"top-right":case"top-left":case"top":se=At-7;break;case"bottom-right":case"bottom-left":case"bottom":se=7-At}switch(ft){case"top-right":case"bottom-right":case"right":jt=-xt;break;case"top-left":case"bottom-left":case"left":jt=xt}return[jt,se]}(R,I[0],I[1]):function V(ft,xt){var At=0,jt=0;xt<0&&(xt=0);var se=xt/Math.sqrt(2);switch(ft){case"top-right":case"top-left":jt=se-7;break;case"bottom-right":case"bottom-left":jt=7-se;break;case"bottom":jt=7-xt;break;case"top":jt=xt-7}switch(ft){case"top-right":case"bottom-right":At=-se;break;case"top-left":case"bottom-left":At=se;break;case"left":At=xt;break;case"right":At=-xt}return[At,jt]}(R,I[0])}function yh(R){switch(R){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var qu=32640;function mv(R,I,V,q,ft,xt,At,jt,se,ge,we,Ne,nr,_e,xr){var Nr=function Xp(R,I,V,q,ft,xt,At,jt){for(var se=q.layout.get("text-rotate").evaluate(xt,{})*Math.PI/180,ge=[],we=0,Ne=I.positionedLines;we<Ne.length;we+=1)for(var nr=Ne[we],_e=0,xr=nr.positionedGlyphs;_e<xr.length;_e+=1){var Nr=xr[_e];if(Nr.rect){var on=Nr.rect||{},Tn=4,yn=!0,wn=1,Dn=0,zn=(ft||jt)&&Nr.vertical,Yn=Nr.metrics.advance*Nr.scale/2;if(jt&&I.verticalizable&&(Dn=nr.lineOffset/2-(Nr.imageName?-(24-Nr.metrics.width*Nr.scale)/2:24*(Nr.scale-1))),Nr.imageName){var la=At[Nr.imageName];yn=la.sdf,Tn=1/(wn=la.pixelRatio)}var ca=ft?[Nr.x+Yn,Nr.y]:[0,0],Ia=ft?[0,0]:[Nr.x+Yn+V[0],Nr.y+V[1]-Dn],ga=[0,0];zn&&(ga=Ia,Ia=[0,0]);var ba=(Nr.metrics.left-Tn)*Nr.scale-Yn+Ia[0],Oa=(-Nr.metrics.top-Tn)*Nr.scale+Ia[1],Pa=ba+on.w*Nr.scale/wn,Ka=Oa+on.h*Nr.scale/wn,ui=new e(ba,Oa),Ja=new e(Pa,Oa),Qa=new e(ba,Ka),Xa=new e(Pa,Ka);if(zn){var vi=new e(-Yn,Yn-gc),gi=-Math.PI/2,Ri=12-Yn,$i=new e(22-Ri,-(Nr.imageName?Ri:0)),Zi=new(Function.prototype.bind.apply(e,[null].concat(ga)));ui._rotateAround(gi,vi)._add($i)._add(Zi),Ja._rotateAround(gi,vi)._add($i)._add(Zi),Qa._rotateAround(gi,vi)._add($i)._add(Zi),Xa._rotateAround(gi,vi)._add($i)._add(Zi)}if(se){var yo=Math.sin(se),mo=Math.cos(se),_i=[mo,-yo,yo,mo];ui._matMult(_i),Ja._matMult(_i),Qa._matMult(_i),Xa._matMult(_i)}var Lo=new e(0,0),Po=new e(0,0);ge.push({tl:ui,tr:Ja,bl:Qa,br:Xa,tex:on,writingMode:I.writingMode,glyphOffset:ca,sectionIndex:Nr.sectionIndex,isSDF:yn,pixelOffsetTL:Lo,pixelOffsetBR:Po,minFontScaleX:0,minFontScaleY:0})}}return ge}(0,V,jt,ft,xt,At,q,R.allowVerticalPlacement),on=R.textSizeData,$r=null;"source"===on.kind?($r=[Ml*ft.layout.get("text-size").evaluate(At,{})])[0]>qu&&N(R.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===on.kind&&(($r=[Ml*_e.compositeTextSizes[0].evaluate(At,{},xr),Ml*_e.compositeTextSizes[1].evaluate(At,{},xr)])[0]>qu||$r[1]>qu)&&N(R.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),R.addSymbols(R.text,Nr,$r,jt,xt,At,ge,I,se.lineStartIndex,se.lineLength,nr,xr);for(var Tn=0,yn=we;Tn<yn.length;Tn+=1)Ne[yn[Tn]]=R.text.placedSymbolArray.length-1;return 4*Nr.length}function xv(R){for(var I in R)return R[I];return null}function e0(R,I,V,q){var ft=R.compareText;if(I in ft){for(var xt=ft[I],At=xt.length-1;At>=0;At--)if(q.dist(xt[At])<V)return!0}else ft[I]=[];return ft[I].push(q),!1}var r0=Nf.VectorTileFeature.types,n0=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Gc(R,I,V,q,ft,xt,At,jt,se,ge,we,Ne,nr){var _e=jt?Math.min(qu,Math.round(jt[0])):0,xr=jt?Math.min(qu,Math.round(jt[1])):0;R.emplaceBack(I,V,Math.round(32*q),Math.round(32*ft),xt,At,(_e<<1)+(se?1:0),xr,16*ge,16*we,256*Ne,256*nr)}function mh(R,I,V){R.emplaceBack(I.x,I.y,V),R.emplaceBack(I.x,I.y,V),R.emplaceBack(I.x,I.y,V),R.emplaceBack(I.x,I.y,V)}function a0(R){for(var I=0,V=R.sections;I<V.length;I+=1)if(Ar(V[I].text))return!0;return!1}var jf=function(I){this.layoutVertexArray=new Ps,this.indexArray=new bl,this.programConfigurations=I,this.segments=new Y,this.dynamicLayoutVertexArray=new qf,this.opacityVertexArray=new tc,this.placedSymbolArray=new Ju};jf.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},jf.prototype.upload=function(I,V,q,ft){this.isEmpty()||(q&&(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,fh.members),this.indexBuffer=I.createIndexBuffer(this.indexArray,V),this.dynamicLayoutVertexBuffer=I.createVertexBuffer(this.dynamicLayoutVertexArray,ip.members,!0),this.opacityVertexBuffer=I.createVertexBuffer(this.opacityVertexArray,n0,!0),this.opacityVertexBuffer.itemSize=1),(q||ft)&&this.programConfigurations.upload(I))},jf.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},ea("SymbolBuffers",jf);var mc=function(I,V,q){this.layoutVertexArray=new I,this.layoutAttributes=V,this.indexArray=new q,this.segments=new Y,this.collisionVertexArray=new Uo};mc.prototype.upload=function(I){this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=I.createVertexBuffer(this.collisionVertexArray,op.members,!0)},mc.prototype.destroy=function(){!this.layoutVertexBuffer||(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},ea("CollisionBuffers",mc);var li=function(I){this.collisionBoxArray=I.collisionBoxArray,this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(se){return se.id}),this.index=I.index,this.pixelRatio=I.pixelRatio,this.sourceLayerIndex=I.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ff([]),this.placementViewportMatrix=Ff([]);var q=this.layers[0]._unevaluatedLayout._values;this.textSizeData=ph(this.zoom,q["text-size"]),this.iconSizeData=ph(this.zoom,q["icon-size"]);var ft=this.layers[0].layout,xt=ft.get("symbol-sort-key"),At=ft.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==At&&void 0!==xt.constantOr(1),this.sortFeaturesByY=("viewport-y"===At||"auto"===At&&!this.sortFeaturesByKey)&&(ft.get("text-allow-overlap")||ft.get("icon-allow-overlap")||ft.get("text-ignore-placement")||ft.get("icon-ignore-placement")),"point"===ft.get("symbol-placement")&&(this.writingModes=ft.get("text-writing-mode").map(function(se){return gs[se]})),this.stateDependentLayerIds=this.layers.filter(function(se){return se.isStateDependent()}).map(function(se){return se.id}),this.sourceID=I.sourceID};li.prototype.createArrays=function(){this.text=new jf(new Fa(fh.members,this.layers,this.zoom,function(I){return/^text/.test(I)})),this.icon=new jf(new Fa(fh.members,this.layers,this.zoom,function(I){return/^icon/.test(I)})),this.glyphOffsetArray=new Ds,this.lineVertexArray=new Mc,this.symbolInstances=new Ac},li.prototype.calculateGlyphDependencies=function(I,V,q,ft,xt){for(var At=0;At<I.length;At++)if(V[I.charCodeAt(At)]=!0,(q||ft)&&xt){var jt=vc[I.charAt(At)];jt&&(V[jt.charCodeAt(0)]=!0)}},li.prototype.populate=function(I,V,q){var ft=this.layers[0],xt=ft.layout,At=xt.get("text-font"),jt=xt.get("text-field"),se=xt.get("icon-image"),ge=("constant"!==jt.value.kind||jt.value.value instanceof Ei&&!jt.value.value.isEmpty()||jt.value.value.toString().length>0)&&("constant"!==At.value.kind||At.value.value.length>0),we="constant"!==se.value.kind||!!se.value.value||Object.keys(se.parameters).length>0,Ne=xt.get("symbol-sort-key");if(this.features=[],ge||we){for(var nr=V.iconDependencies,_e=V.glyphDependencies,xr=V.availableImages,Nr=new va(this.zoom),on=0,$r=I;on<$r.length;on+=1){var Tn=$r[on],yn=Tn.feature,wn=Tn.id,Dn=Tn.index,zn=Tn.sourceLayerIndex,Yn=ft._featureFilter.needGeometry,Hn={type:yn.type,id:wn,properties:yn.properties,geometry:Yn?oi(yn):[]};if(ft._featureFilter.filter(Nr,Hn,q)){Yn||(Hn.geometry=oi(yn));var wa=void 0;if(ge){var la=ft.getValueAndResolveTokens("text-field",Hn,q,xr),ca=Ei.factory(la);a0(ca)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===In()||this.hasRTLText&&na.isParsed())&&(wa=up(ca,ft,Hn))}var Ia=void 0;if(we){var ga=ft.getValueAndResolveTokens("icon-image",Hn,q,xr);Ia=ga instanceof ro?ga:ro.fromString(ga)}if(wa||Ia){var ba=this.sortFeaturesByKey?Ne.evaluate(Hn,{},q):void 0,Oa={id:wn,text:wa,icon:Ia,index:Dn,sourceLayerIndex:zn,geometry:oi(yn),properties:yn.properties,type:r0[yn.type],sortKey:ba};if(this.features.push(Oa),Ia&&(nr[Ia.name]=!0),wa){var Pa=At.evaluate(Hn,{},q).join(","),Ka="map"===xt.get("text-rotation-alignment")&&"point"!==xt.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(gs.vertical)>=0;for(var ui=0,Ja=wa.sections;ui<Ja.length;ui+=1){var Qa=Ja[ui];if(Qa.image)nr[Qa.image.name]=!0;else{var Xa=Bt(wa.toString()),vi=Qa.fontStack||Pa,gi=_e[vi]=_e[vi]||{};this.calculateGlyphDependencies(Qa.text,gi,Ka,this.allowVerticalPlacement,Xa)}}}}}}"line"===xt.get("symbol-placement")&&(this.features=function fp(R){var I={},V={},q=[],ft=0;function xt($r){q.push(R[$r]),ft++}function At($r,Tn,yn){var wn=V[$r];return delete V[$r],V[Tn]=wn,q[wn].geometry[0].pop(),q[wn].geometry[0]=q[wn].geometry[0].concat(yn[0]),wn}function jt($r,Tn,yn){var wn=I[Tn];return delete I[Tn],I[$r]=wn,q[wn].geometry[0].shift(),q[wn].geometry[0]=yn[0].concat(q[wn].geometry[0]),wn}function se($r,Tn,yn){var wn=yn?Tn[0][Tn[0].length-1]:Tn[0][0];return $r+":"+wn.x+":"+wn.y}for(var ge=0;ge<R.length;ge++){var we=R[ge],Ne=we.geometry,nr=we.text?we.text.toString():null;if(nr){var _e=se(nr,Ne),xr=se(nr,Ne,!0);if(_e in V&&xr in I&&V[_e]!==I[xr]){var Nr=jt(_e,xr,Ne),on=At(_e,xr,q[Nr].geometry);delete I[_e],delete V[xr],V[se(nr,q[on].geometry,!0)]=on,q[Nr].geometry=null}else _e in V?At(_e,xr,Ne):xr in I?jt(_e,xr,Ne):(xt(ge),I[_e]=ft-1,V[xr]=ft-1)}else xt(ge)}return q.filter(function($r){return $r.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Ri,Oi){return Ri.sortKey-Oi.sortKey})}},li.prototype.update=function(I,V,q){!this.stateDependentLayers.length||(this.text.programConfigurations.updatePaintArrays(I,V,this.layers,q),this.icon.programConfigurations.updatePaintArrays(I,V,this.layers,q))},li.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},li.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},li.prototype.upload=function(I){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(I),this.iconCollisionBox.upload(I)),this.text.upload(I,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(I,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},li.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},li.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},li.prototype.addToLineVertexArray=function(I,V){var q=this.lineVertexArray.length;if(void 0!==I.segment){for(var ft=I.dist(V[I.segment+1]),xt=I.dist(V[I.segment]),At={},jt=I.segment+1;jt<V.length;jt++)At[jt]={x:V[jt].x,y:V[jt].y,tileUnitDistanceFromAnchor:ft},jt<V.length-1&&(ft+=V[jt+1].dist(V[jt]));for(var se=I.segment||0;se>=0;se--)At[se]={x:V[se].x,y:V[se].y,tileUnitDistanceFromAnchor:xt},se>0&&(xt+=V[se-1].dist(V[se]));for(var ge=0;ge<V.length;ge++){var we=At[ge];this.lineVertexArray.emplaceBack(we.x,we.y,we.tileUnitDistanceFromAnchor)}}return{lineStartIndex:q,lineLength:this.lineVertexArray.length-q}},li.prototype.addSymbols=function(I,V,q,ft,xt,At,jt,se,ge,we,Ne,nr){for(var _e=I.indexArray,xr=I.layoutVertexArray,Nr=I.segments.prepareSegment(4*V.length,xr,_e,At.sortKey),on=this.glyphOffsetArray.length,$r=Nr.vertexLength,Tn=this.allowVerticalPlacement&&jt===gs.vertical?Math.PI/2:0,yn=At.text&&At.text.sections,wn=0;wn<V.length;wn++){var Dn=V[wn],zn=Dn.tl,Yn=Dn.tr,Hn=Dn.bl,wa=Dn.br,la=Dn.tex,ca=Dn.pixelOffsetTL,Ia=Dn.pixelOffsetBR,ga=Dn.minFontScaleX,ba=Dn.minFontScaleY,Oa=Dn.glyphOffset,Pa=Dn.isSDF,Ka=Dn.sectionIndex,ui=Nr.vertexLength,Ja=Oa[1];Gc(xr,se.x,se.y,zn.x,Ja+zn.y,la.x,la.y,q,Pa,ca.x,ca.y,ga,ba),Gc(xr,se.x,se.y,Yn.x,Ja+Yn.y,la.x+la.w,la.y,q,Pa,Ia.x,ca.y,ga,ba),Gc(xr,se.x,se.y,Hn.x,Ja+Hn.y,la.x,la.y+la.h,q,Pa,ca.x,Ia.y,ga,ba),Gc(xr,se.x,se.y,wa.x,Ja+wa.y,la.x+la.w,la.y+la.h,q,Pa,Ia.x,Ia.y,ga,ba),mh(I.dynamicLayoutVertexArray,se,Tn),_e.emplaceBack(ui,ui+1,ui+2),_e.emplaceBack(ui+1,ui+2,ui+3),Nr.vertexLength+=4,Nr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Oa[0]),(wn===V.length-1||Ka!==V[wn+1].sectionIndex)&&I.programConfigurations.populatePaintArrays(xr.length,At,At.index,{},nr,yn&&yn[Ka])}I.placedSymbolArray.emplaceBack(se.x,se.y,on,this.glyphOffsetArray.length-on,$r,ge,we,se.segment,q?q[0]:0,q?q[1]:0,ft[0],ft[1],jt,0,!1,0,Ne)},li.prototype._addCollisionDebugVertex=function(I,V,q,ft,xt,At){return V.emplaceBack(0,0),I.emplaceBack(q.x,q.y,ft,xt,Math.round(At.x),Math.round(At.y))},li.prototype.addCollisionDebugVertices=function(I,V,q,ft,xt,At,jt){var se=xt.segments.prepareSegment(4,xt.layoutVertexArray,xt.indexArray),ge=se.vertexLength,we=xt.layoutVertexArray,Ne=xt.collisionVertexArray,nr=jt.anchorX,_e=jt.anchorY;this._addCollisionDebugVertex(we,Ne,At,nr,_e,new e(I,V)),this._addCollisionDebugVertex(we,Ne,At,nr,_e,new e(q,V)),this._addCollisionDebugVertex(we,Ne,At,nr,_e,new e(q,ft)),this._addCollisionDebugVertex(we,Ne,At,nr,_e,new e(I,ft)),se.vertexLength+=4;var xr=xt.indexArray;xr.emplaceBack(ge,ge+1),xr.emplaceBack(ge+1,ge+2),xr.emplaceBack(ge+2,ge+3),xr.emplaceBack(ge+3,ge),se.primitiveLength+=4},li.prototype.addDebugCollisionBoxes=function(I,V,q,ft){for(var xt=I;xt<V;xt++){var At=this.collisionBoxArray.get(xt);this.addCollisionDebugVertices(At.x1,At.y1,At.x2,At.y2,ft?this.textCollisionBox:this.iconCollisionBox,At.anchorPoint,q)}},li.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new mc(Lf,jh.members,xf),this.iconCollisionBox=new mc(Lf,jh.members,xf);for(var I=0;I<this.symbolInstances.length;I++){var V=this.symbolInstances.get(I);this.addDebugCollisionBoxes(V.textBoxStartIndex,V.textBoxEndIndex,V,!0),this.addDebugCollisionBoxes(V.verticalTextBoxStartIndex,V.verticalTextBoxEndIndex,V,!0),this.addDebugCollisionBoxes(V.iconBoxStartIndex,V.iconBoxEndIndex,V,!1),this.addDebugCollisionBoxes(V.verticalIconBoxStartIndex,V.verticalIconBoxEndIndex,V,!1)}},li.prototype._deserializeCollisionBoxesForSymbol=function(I,V,q,ft,xt,At,jt,se,ge){for(var we={},Ne=V;Ne<q;Ne++){var nr=I.get(Ne);we.textBox={x1:nr.x1,y1:nr.y1,x2:nr.x2,y2:nr.y2,anchorPointX:nr.anchorPointX,anchorPointY:nr.anchorPointY},we.textFeatureIndex=nr.featureIndex;break}for(var _e=ft;_e<xt;_e++){var xr=I.get(_e);we.verticalTextBox={x1:xr.x1,y1:xr.y1,x2:xr.x2,y2:xr.y2,anchorPointX:xr.anchorPointX,anchorPointY:xr.anchorPointY},we.verticalTextFeatureIndex=xr.featureIndex;break}for(var Nr=At;Nr<jt;Nr++){var on=I.get(Nr);we.iconBox={x1:on.x1,y1:on.y1,x2:on.x2,y2:on.y2,anchorPointX:on.anchorPointX,anchorPointY:on.anchorPointY},we.iconFeatureIndex=on.featureIndex;break}for(var $r=se;$r<ge;$r++){var Tn=I.get($r);we.verticalIconBox={x1:Tn.x1,y1:Tn.y1,x2:Tn.x2,y2:Tn.y2,anchorPointX:Tn.anchorPointX,anchorPointY:Tn.anchorPointY},we.verticalIconFeatureIndex=Tn.featureIndex;break}return we},li.prototype.deserializeCollisionBoxes=function(I){this.collisionArrays=[];for(var V=0;V<this.symbolInstances.length;V++){var q=this.symbolInstances.get(V);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(I,q.textBoxStartIndex,q.textBoxEndIndex,q.verticalTextBoxStartIndex,q.verticalTextBoxEndIndex,q.iconBoxStartIndex,q.iconBoxEndIndex,q.verticalIconBoxStartIndex,q.verticalIconBoxEndIndex))}},li.prototype.hasTextData=function(){return this.text.segments.get().length>0},li.prototype.hasIconData=function(){return this.icon.segments.get().length>0},li.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},li.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},li.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},li.prototype.addIndicesForPlacedSymbol=function(I,V){for(var q=I.placedSymbolArray.get(V),ft=q.vertexStartIndex+4*q.numGlyphs,xt=q.vertexStartIndex;xt<ft;xt+=4)I.indexArray.emplaceBack(xt,xt+1,xt+2),I.indexArray.emplaceBack(xt+1,xt+2,xt+3)},li.prototype.getSortedSymbolIndexes=function(I){if(this.sortedAngle===I&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var V=Math.sin(I),q=Math.cos(I),ft=[],xt=[],At=[],jt=0;jt<this.symbolInstances.length;++jt){At.push(jt);var se=this.symbolInstances.get(jt);ft.push(0|Math.round(V*se.anchorX+q*se.anchorY)),xt.push(se.featureIndex)}return At.sort(function(ge,we){return ft[ge]-ft[we]||xt[we]-xt[ge]}),At},li.prototype.addToSortKeyRanges=function(I,V){var q=this.sortKeyRanges[this.sortKeyRanges.length-1];q&&q.sortKey===V?q.symbolInstanceEnd=I+1:this.sortKeyRanges.push({sortKey:V,symbolInstanceStart:I,symbolInstanceEnd:I+1})},li.prototype.sortFeatures=function(I){var V=this;if(this.sortFeaturesByY&&this.sortedAngle!==I&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(I),this.sortedAngle=I,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var q=0,ft=this.symbolInstanceIndexes;q<ft.length;q+=1){var At=this.symbolInstances.get(ft[q]);this.featureSortOrder.push(At.featureIndex),[At.rightJustifiedTextSymbolIndex,At.centerJustifiedTextSymbolIndex,At.leftJustifiedTextSymbolIndex].forEach(function(jt,se,ge){jt>=0&&ge.indexOf(jt)===se&&V.addIndicesForPlacedSymbol(V.text,jt)}),At.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,At.verticalPlacedTextSymbolIndex),At.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,At.placedIconSymbolIndex),At.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,At.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},ea("SymbolBucket",li,{omit:["layers","collisionBoxArray","features","compareText"]}),li.MAX_GLYPHS=65535,li.addDynamicAttributes=mh;var o0=new ri({"symbol-placement":new Wn(Xe.layout_symbol["symbol-placement"]),"symbol-spacing":new Wn(Xe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Wn(Xe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ua(Xe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Wn(Xe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Wn(Xe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Wn(Xe.layout_symbol["icon-ignore-placement"]),"icon-optional":new Wn(Xe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Wn(Xe.layout_symbol["icon-rotation-alignment"]),"icon-size":new ua(Xe.layout_symbol["icon-size"]),"icon-text-fit":new Wn(Xe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Wn(Xe.layout_symbol["icon-text-fit-padding"]),"icon-image":new ua(Xe.layout_symbol["icon-image"]),"icon-rotate":new ua(Xe.layout_symbol["icon-rotate"]),"icon-padding":new Wn(Xe.layout_symbol["icon-padding"]),"icon-keep-upright":new Wn(Xe.layout_symbol["icon-keep-upright"]),"icon-offset":new ua(Xe.layout_symbol["icon-offset"]),"icon-anchor":new ua(Xe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Wn(Xe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Wn(Xe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Wn(Xe.layout_symbol["text-rotation-alignment"]),"text-field":new ua(Xe.layout_symbol["text-field"]),"text-font":new ua(Xe.layout_symbol["text-font"]),"text-size":new ua(Xe.layout_symbol["text-size"]),"text-max-width":new ua(Xe.layout_symbol["text-max-width"]),"text-line-height":new Wn(Xe.layout_symbol["text-line-height"]),"text-letter-spacing":new ua(Xe.layout_symbol["text-letter-spacing"]),"text-justify":new ua(Xe.layout_symbol["text-justify"]),"text-radial-offset":new ua(Xe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Wn(Xe.layout_symbol["text-variable-anchor"]),"text-anchor":new ua(Xe.layout_symbol["text-anchor"]),"text-max-angle":new Wn(Xe.layout_symbol["text-max-angle"]),"text-writing-mode":new Wn(Xe.layout_symbol["text-writing-mode"]),"text-rotate":new ua(Xe.layout_symbol["text-rotate"]),"text-padding":new Wn(Xe.layout_symbol["text-padding"]),"text-keep-upright":new Wn(Xe.layout_symbol["text-keep-upright"]),"text-transform":new ua(Xe.layout_symbol["text-transform"]),"text-offset":new ua(Xe.layout_symbol["text-offset"]),"text-allow-overlap":new Wn(Xe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Wn(Xe.layout_symbol["text-ignore-placement"]),"text-optional":new Wn(Xe.layout_symbol["text-optional"])}),xh={paint:new ri({"icon-opacity":new ua(Xe.paint_symbol["icon-opacity"]),"icon-color":new ua(Xe.paint_symbol["icon-color"]),"icon-halo-color":new ua(Xe.paint_symbol["icon-halo-color"]),"icon-halo-width":new ua(Xe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ua(Xe.paint_symbol["icon-halo-blur"]),"icon-translate":new Wn(Xe.paint_symbol["icon-translate"]),"icon-translate-anchor":new Wn(Xe.paint_symbol["icon-translate-anchor"]),"text-opacity":new ua(Xe.paint_symbol["text-opacity"]),"text-color":new ua(Xe.paint_symbol["text-color"],{runtimeType:Ue,getOverride:function(R){return R.textColor},hasOverride:function(R){return!!R.textColor}}),"text-halo-color":new ua(Xe.paint_symbol["text-halo-color"]),"text-halo-width":new ua(Xe.paint_symbol["text-halo-width"]),"text-halo-blur":new ua(Xe.paint_symbol["text-halo-blur"]),"text-translate":new Wn(Xe.paint_symbol["text-translate"]),"text-translate-anchor":new Wn(Xe.paint_symbol["text-translate-anchor"])}),layout:o0},Kf=function(I){this.type=I.property.overrides?I.property.overrides.runtimeType:Cr,this.defaultValue=I};Kf.prototype.evaluate=function(I){if(I.formattedSection){var V=this.defaultValue.property.overrides;if(V&&V.hasOverride(I.formattedSection))return V.getOverride(I.formattedSection)}return I.feature&&I.featureState?this.defaultValue.evaluate(I.feature,I.featureState):this.defaultValue.property.specification.default},Kf.prototype.eachChild=function(I){this.defaultValue.isConstant()||I(this.defaultValue.value._styleExpression.expression)},Kf.prototype.outputDefined=function(){return!1},Kf.prototype.serialize=function(){return null},ea("FormatSectionOverride",Kf,{omit:["defaultValue"]});var l0=function(R){function I(V){R.call(this,V,xh)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.recalculate=function(q,ft){if(R.prototype.recalculate.call(this,q,ft),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var xt=this.layout.get("text-writing-mode");if(xt){for(var At=[],jt=0,se=xt;jt<se.length;jt+=1){var ge=se[jt];At.indexOf(ge)<0&&At.push(ge)}this.layout._values["text-writing-mode"]=At}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},I.prototype.getValueAndResolveTokens=function(q,ft,xt,At){var jt=this.layout.get(q).evaluate(ft,{},xt,At),se=this._unevaluatedLayout._values[q];return se.isDataDriven()||fl(se.value)||!jt?jt:function i0(R,I){return I.replace(/{([^{}]+)}/g,function(V,q){return q in R?String(R[q]):""})}(ft.properties,jt)},I.prototype.createBucket=function(q){return new li(q)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype._setPaintOverrides=function(){for(var q=0,ft=xh.paint.overridableProperties;q<ft.length;q+=1){var xt=ft[q];if(I.hasPaintOverride(this.layout,xt)){var ge,At=this.paint.get(xt),jt=new Kf(At),se=new Qo(jt,At.property.specification);ge="constant"===At.value.kind||"source"===At.value.kind?new $o("source",se):new Ao("composite",se,At.value.zoomStops,At.value._interpolationType),this.paint._values[xt]=new La(At.property,ge,At.parameters)}}},I.prototype._handleOverridablePaintPropertyUpdate=function(q,ft,xt){return!(!this.layout||ft.isDataDriven()||xt.isDataDriven())&&I.hasPaintOverride(this.layout,q)},I.hasPaintOverride=function(q,ft){var xt=q.get("text-field"),At=xh.paint.properties[ft],jt=!1,se=function(Ne){for(var nr=0,_e=Ne;nr<_e.length;nr+=1)if(At.overrides&&At.overrides.hasOverride(_e[nr]))return void(jt=!0)};if("constant"===xt.value.kind&&xt.value.value instanceof Ei)se(xt.value.value.sections);else if("source"===xt.value.kind){var ge=function(Ne){jt||(Ne instanceof ho&&Ci(Ne.value)===Zn?se(Ne.value.sections):Ne instanceof Ro?se(Ne.sections):Ne.eachChild(ge))},we=xt.value;we._styleExpression&&ge(we._styleExpression.expression)}return jt},I}(Mi),f0={paint:new ri({"background-color":new Wn(Xe.paint_background["background-color"]),"background-pattern":new di(Xe.paint_background["background-pattern"]),"background-opacity":new Wn(Xe.paint_background["background-opacity"])})},c0=function(R){function I(V){R.call(this,V,f0)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I}(Mi),v0={paint:new ri({"raster-opacity":new Wn(Xe.paint_raster["raster-opacity"]),"raster-hue-rotate":new Wn(Xe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Wn(Xe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Wn(Xe.paint_raster["raster-brightness-max"]),"raster-saturation":new Wn(Xe.paint_raster["raster-saturation"]),"raster-contrast":new Wn(Xe.paint_raster["raster-contrast"]),"raster-resampling":new Wn(Xe.paint_raster["raster-resampling"]),"raster-fade-duration":new Wn(Xe.paint_raster["raster-fade-duration"])})},d0=function(R){function I(V){R.call(this,V,v0)}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I}(Mi);var g0=function(R){function I(V){R.call(this,V,{}),this.implementation=V}return R&&(I.__proto__=R),(I.prototype=Object.create(R&&R.prototype)).constructor=I,I.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},I.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},I.prototype.recalculate=function(){},I.prototype.updateTransitions=function(){},I.prototype.hasTransition=function(){},I.prototype.serialize=function(){},I.prototype.onAdd=function(q){this.implementation.onAdd&&this.implementation.onAdd(q,q.painter.context.gl)},I.prototype.onRemove=function(q){this.implementation.onRemove&&this.implementation.onRemove(q,q.painter.context.gl)},I}(Mi),y0={circle:Xv,heatmap:Qv,hillshade:qv,fill:Md,"fill-extrusion":Yd,line:np,symbol:l0,background:c0,raster:d0};var bv=self.HTMLImageElement,wv=self.HTMLCanvasElement,Tv=self.HTMLVideoElement,Av=self.ImageData,Wc=self.ImageBitmap,Mf=function(I,V,q,ft){this.context=I,this.format=q,this.texture=I.gl.createTexture(),this.update(V,ft)};Mf.prototype.update=function(I,V,q){var ft=I.width,xt=I.height,At=!(this.size&&this.size[0]===ft&&this.size[1]===xt||q),se=this.context,ge=se.gl;if(this.useMipmap=Boolean(V&&V.useMipmap),ge.bindTexture(ge.TEXTURE_2D,this.texture),se.pixelStoreUnpackFlipY.set(!1),se.pixelStoreUnpack.set(1),se.pixelStoreUnpackPremultiplyAlpha.set(this.format===ge.RGBA&&(!V||!1!==V.premultiply)),At)this.size=[ft,xt],I instanceof bv||I instanceof wv||I instanceof Tv||I instanceof Av||Wc&&I instanceof Wc?ge.texImage2D(ge.TEXTURE_2D,0,this.format,this.format,ge.UNSIGNED_BYTE,I):ge.texImage2D(ge.TEXTURE_2D,0,this.format,ft,xt,0,this.format,ge.UNSIGNED_BYTE,I.data);else{var we=q||{x:0,y:0},Ne=we.x,nr=we.y;I instanceof bv||I instanceof wv||I instanceof Tv||I instanceof Av||Wc&&I instanceof Wc?ge.texSubImage2D(ge.TEXTURE_2D,0,Ne,nr,ge.RGBA,ge.UNSIGNED_BYTE,I):ge.texSubImage2D(ge.TEXTURE_2D,0,Ne,nr,ft,xt,ge.RGBA,ge.UNSIGNED_BYTE,I.data)}this.useMipmap&&this.isSizePowerOfTwo()&&ge.generateMipmap(ge.TEXTURE_2D)},Mf.prototype.bind=function(I,V,q){var At=this.context.gl;At.bindTexture(At.TEXTURE_2D,this.texture),q===At.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(q=At.LINEAR),I!==this.filter&&(At.texParameteri(At.TEXTURE_2D,At.TEXTURE_MAG_FILTER,I),At.texParameteri(At.TEXTURE_2D,At.TEXTURE_MIN_FILTER,q||I),this.filter=I),V!==this.wrap&&(At.texParameteri(At.TEXTURE_2D,At.TEXTURE_WRAP_S,V),At.texParameteri(At.TEXTURE_2D,At.TEXTURE_WRAP_T,V),this.wrap=V)},Mf.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Mf.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var bh=function(I){var V=this;this._callback=I,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){V._triggered=!1,V._callback()})};bh.prototype.trigger=function(){var I=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){I._triggered=!1,I._callback()},0))},bh.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Jf=function(I,V,q){this.target=I,this.parent=V,this.mapId=q,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},S(["receive","process"],this),this.invoker=new bh(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=z()?I:self};function Mv(R,I,V){var q=2*Math.PI*6378137/256/Math.pow(2,V);return[R*q-2*Math.PI*6378137/2,I*q-2*Math.PI*6378137/2]}Jf.prototype.send=function(I,V,q,ft,xt){var At=this;void 0===xt&&(xt=!1);var jt=Math.round(1e18*Math.random()).toString(36).substring(0,10);q&&(this.callbacks[jt]=q);var se=Q(this.globalScope)?void 0:[];return this.target.postMessage({id:jt,type:I,hasCallback:!!q,targetMapId:ft,mustQueue:xt,sourceMapId:this.mapId,data:Mo(V,se)},se),{cancel:function(){q&&delete At.callbacks[jt],At.target.postMessage({id:jt,type:"<cancel>",targetMapId:ft,sourceMapId:At.mapId})}}},Jf.prototype.receive=function(I){var V=I.data,q=V.id;if(q&&(!V.targetMapId||this.mapId===V.targetMapId))if("<cancel>"===V.type){delete this.tasks[q];var ft=this.cancelCallbacks[q];delete this.cancelCallbacks[q],ft&&ft()}else z()||V.mustQueue?(this.tasks[q]=V,this.taskQueue.push(q),this.invoker.trigger()):this.processTask(q,V)},Jf.prototype.process=function(){if(this.taskQueue.length){var I=this.taskQueue.shift(),V=this.tasks[I];delete this.tasks[I],this.taskQueue.length&&this.invoker.trigger(),V&&this.processTask(I,V)}},Jf.prototype.processTask=function(I,V){var q=this;if("<response>"===V.type){var ft=this.callbacks[I];delete this.callbacks[I],ft&&(V.error?ft(si(V.error)):ft(null,si(V.data)))}else{var xt=!1,At=Q(this.globalScope)?void 0:[],jt=V.hasCallback?function(nr,_e){xt=!0,delete q.cancelCallbacks[I],q.target.postMessage({id:I,type:"<response>",sourceMapId:q.mapId,error:nr?Mo(nr):null,data:Mo(_e,At)},At)}:function(nr){xt=!0},se=null,ge=si(V.data);if(this.parent[V.type])se=this.parent[V.type](V.sourceMapId,ge,jt);else if(this.parent.getWorkerSource){var we=V.type.split(".");se=this.parent.getWorkerSource(V.sourceMapId,we[0],ge.source)[we[1]](ge,jt)}else jt(new Error("Could not find function "+V.type));!xt&&se&&se.cancel&&(this.cancelCallbacks[I]=se.cancel)}},Jf.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Wi=function(I,V){I&&(V?this.setSouthWest(I).setNorthEast(V):4===I.length?this.setSouthWest([I[0],I[1]]).setNorthEast([I[2],I[3]]):this.setSouthWest(I[0]).setNorthEast(I[1]))};Wi.prototype.setNorthEast=function(I){return this._ne=I instanceof xi?new xi(I.lng,I.lat):xi.convert(I),this},Wi.prototype.setSouthWest=function(I){return this._sw=I instanceof xi?new xi(I.lng,I.lat):xi.convert(I),this},Wi.prototype.extend=function(I){var ft,xt,V=this._sw,q=this._ne;if(I instanceof xi)ft=I,xt=I;else{if(!(I instanceof Wi))return Array.isArray(I)?4===I.length||I.every(Array.isArray)?this.extend(Wi.convert(I)):this.extend(xi.convert(I)):this;if(xt=I._ne,!(ft=I._sw)||!xt)return this}return V||q?(V.lng=Math.min(ft.lng,V.lng),V.lat=Math.min(ft.lat,V.lat),q.lng=Math.max(xt.lng,q.lng),q.lat=Math.max(xt.lat,q.lat)):(this._sw=new xi(ft.lng,ft.lat),this._ne=new xi(xt.lng,xt.lat)),this},Wi.prototype.getCenter=function(){return new xi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Wi.prototype.getSouthWest=function(){return this._sw},Wi.prototype.getNorthEast=function(){return this._ne},Wi.prototype.getNorthWest=function(){return new xi(this.getWest(),this.getNorth())},Wi.prototype.getSouthEast=function(){return new xi(this.getEast(),this.getSouth())},Wi.prototype.getWest=function(){return this._sw.lng},Wi.prototype.getSouth=function(){return this._sw.lat},Wi.prototype.getEast=function(){return this._ne.lng},Wi.prototype.getNorth=function(){return this._ne.lat},Wi.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Wi.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Wi.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Wi.prototype.contains=function(I){var V=xi.convert(I),q=V.lng,ft=V.lat,At=this._sw.lng<=q&&q<=this._ne.lng;return this._sw.lng>this._ne.lng&&(At=this._sw.lng>=q&&q>=this._ne.lng),this._sw.lat<=ft&&ft<=this._ne.lat&&At},Wi.convert=function(I){return!I||I instanceof Wi?I:new Wi(I)};var Sv=6371008.8,xi=function(I,V){if(isNaN(I)||isNaN(V))throw new Error("Invalid LngLat object: ("+I+", "+V+")");if(this.lng=+I,this.lat=+V,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};xi.prototype.wrap=function(){return new xi(y(this.lng,-180,180),this.lat)},xi.prototype.toArray=function(){return[this.lng,this.lat]},xi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},xi.prototype.distanceTo=function(I){var V=Math.PI/180,q=this.lat*V,ft=I.lat*V,xt=Math.sin(q)*Math.sin(ft)+Math.cos(q)*Math.cos(ft)*Math.cos((I.lng-this.lng)*V);return Sv*Math.acos(Math.min(xt,1))},xi.prototype.toBounds=function(I){void 0===I&&(I=0);var q=360*I/40075017,ft=q/Math.cos(Math.PI/180*this.lat);return new Wi(new xi(this.lng-ft,this.lat-q),new xi(this.lng+ft,this.lat+q))},xi.convert=function(I){if(I instanceof xi)return I;if(Array.isArray(I)&&(2===I.length||3===I.length))return new xi(Number(I[0]),Number(I[1]));if(!Array.isArray(I)&&"object"==typeof I&&null!==I)return new xi(Number("lng"in I?I.lng:I.lon),Number(I.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Ev=2*Math.PI*Sv;function Cv(R){return Ev*Math.cos(R*Math.PI/180)}function Lv(R){return(180+R)/360}function Pv(R){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+R*Math.PI/360)))/360}function Dv(R,I){return R/Cv(I)}function wh(R){return 360/Math.PI*Math.atan(Math.exp((180-360*R)*Math.PI/180))-90}var Sf=function(I,V,q){void 0===q&&(q=0),this.x=+I,this.y=+V,this.z=+q};Sf.fromLngLat=function(I,V){void 0===V&&(V=0);var q=xi.convert(I);return new Sf(Lv(q.lng),Pv(q.lat),Dv(V,q.lat))},Sf.prototype.toLngLat=function(){return new xi(function b0(R){return 360*R-180}(this.x),wh(this.y))},Sf.prototype.toAltitude=function(){return function w0(R,I){return R*Cv(wh(I))}(this.z,this.y)},Sf.prototype.meterInMercatorCoordinateUnits=function(){return 1/Ev*function T0(R){return 1/Math.cos(R*Math.PI/180)}(wh(this.y))};var Ef=function(I,V,q){this.z=I,this.x=V,this.y=q,this.key=xc(0,I,I,V,q)};Ef.prototype.equals=function(I){return this.z===I.z&&this.x===I.x&&this.y===I.y},Ef.prototype.url=function(I,V){var q=function x0(R,I,V){var q=Mv(256*R,256*(I=Math.pow(2,V)-I-1),V),ft=Mv(256*(R+1),256*(I+1),V);return q[0]+","+q[1]+","+ft[0]+","+ft[1]}(this.x,this.y,this.z),ft=function A0(R,I,V){for(var ft,q="",xt=R;xt>0;xt--)q+=(I&(ft=1<<xt-1)?1:0)+(V&ft?2:0);return q}(this.z,this.x,this.y);return I[(this.x+this.y)%I.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===V?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ft).replace("{bbox-epsg-3857}",q)},Ef.prototype.getTilePoint=function(I){var V=Math.pow(2,this.z);return new e((I.x*V-this.x)*Ta,(I.y*V-this.y)*Ta)},Ef.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Rv=function(I,V){this.wrap=I,this.canonical=V,this.key=xc(I,V.z,V.z,V.x,V.y)},Yi=function(I,V,q,ft,xt){this.overscaledZ=I,this.wrap=V,this.canonical=new Ef(q,+ft,+xt),this.key=xc(V,I,q,ft,xt)};function xc(R,I,V,q,ft){(R*=2)<0&&(R=-1*R-1);var xt=1<<V;return(xt*xt*R+xt*ft+q).toString(36)+V.toString(36)+I.toString(36)}Yi.prototype.equals=function(I){return this.overscaledZ===I.overscaledZ&&this.wrap===I.wrap&&this.canonical.equals(I.canonical)},Yi.prototype.scaledTo=function(I){var V=this.canonical.z-I;return I>this.canonical.z?new Yi(I,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Yi(I,this.wrap,I,this.canonical.x>>V,this.canonical.y>>V)},Yi.prototype.calculateScaledKey=function(I,V){var q=this.canonical.z-I;return I>this.canonical.z?xc(this.wrap*+V,I,this.canonical.z,this.canonical.x,this.canonical.y):xc(this.wrap*+V,I,I,this.canonical.x>>q,this.canonical.y>>q)},Yi.prototype.isChildOf=function(I){if(I.wrap!==this.wrap)return!1;var V=this.canonical.z-I.canonical.z;return 0===I.overscaledZ||I.overscaledZ<this.overscaledZ&&I.canonical.x===this.canonical.x>>V&&I.canonical.y===this.canonical.y>>V},Yi.prototype.children=function(I){if(this.overscaledZ>=I)return[new Yi(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var V=this.canonical.z+1,q=2*this.canonical.x,ft=2*this.canonical.y;return[new Yi(V,this.wrap,V,q,ft),new Yi(V,this.wrap,V,q+1,ft),new Yi(V,this.wrap,V,q,ft+1),new Yi(V,this.wrap,V,q+1,ft+1)]},Yi.prototype.isLessThan=function(I){return this.wrap<I.wrap||!(this.wrap>I.wrap)&&(this.overscaledZ<I.overscaledZ||!(this.overscaledZ>I.overscaledZ)&&(this.canonical.x<I.canonical.x||!(this.canonical.x>I.canonical.x)&&this.canonical.y<I.canonical.y))},Yi.prototype.wrapped=function(){return new Yi(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Yi.prototype.unwrapTo=function(I){return new Yi(this.overscaledZ,I,this.canonical.z,this.canonical.x,this.canonical.y)},Yi.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Yi.prototype.toUnwrapped=function(){return new Rv(this.wrap,this.canonical)},Yi.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Yi.prototype.getTilePoint=function(I){return this.canonical.getTilePoint(new Sf(I.x-this.wrap,I.y))},ea("CanonicalTileID",Ef),ea("OverscaledTileID",Yi,{omit:["posMatrix"]});var Tu=function(I,V,q){if(this.uid=I,V.height!==V.width)throw new RangeError("DEM tiles must be square");if(q&&"mapbox"!==q&&"terrarium"!==q)return N('"'+q+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=V.height;var ft=this.dim=V.height-2;this.data=new Uint32Array(V.data.buffer),this.encoding=q||"mapbox";for(var xt=0;xt<ft;xt++)this.data[this._idx(-1,xt)]=this.data[this._idx(0,xt)],this.data[this._idx(ft,xt)]=this.data[this._idx(ft-1,xt)],this.data[this._idx(xt,-1)]=this.data[this._idx(xt,0)],this.data[this._idx(xt,ft)]=this.data[this._idx(xt,ft-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ft,-1)]=this.data[this._idx(ft-1,0)],this.data[this._idx(-1,ft)]=this.data[this._idx(0,ft-1)],this.data[this._idx(ft,ft)]=this.data[this._idx(ft-1,ft-1)]};Tu.prototype.get=function(I,V){var q=new Uint8Array(this.data.buffer),ft=4*this._idx(I,V);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(q[ft],q[ft+1],q[ft+2])},Tu.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Tu.prototype._idx=function(I,V){if(I<-1||I>=this.dim+1||V<-1||V>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(V+1)*this.stride+(I+1)},Tu.prototype._unpackMapbox=function(I,V,q){return(256*I*256+256*V+q)/10-1e4},Tu.prototype._unpackTerrarium=function(I,V,q){return 256*I+V+q/256-32768},Tu.prototype.getPixels=function(){return new Go({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Tu.prototype.backfillBorder=function(I,V,q){if(this.dim!==I.dim)throw new Error("dem dimension mismatch");var ft=V*this.dim,xt=V*this.dim+this.dim,At=q*this.dim,jt=q*this.dim+this.dim;switch(V){case-1:ft=xt-1;break;case 1:xt=ft+1}switch(q){case-1:At=jt-1;break;case 1:jt=At+1}for(var se=-V*this.dim,ge=-q*this.dim,we=At;we<jt;we++)for(var Ne=ft;Ne<xt;Ne++)this.data[this._idx(Ne,we)]=I.data[this._idx(Ne+se,we+ge)]},ea("DEMData",Tu);var Yc=function(I){this._stringToNumber={},this._numberToString=[];for(var V=0;V<I.length;V++){var q=I[V];this._stringToNumber[q]=V,this._numberToString[V]=q}};Yc.prototype.encode=function(I){return this._stringToNumber[I]},Yc.prototype.decode=function(I){return this._numberToString[I]};var Zc=function(I,V,q,ft,xt){this.type="Feature",this._vectorTileFeature=I,I._z=V,I._x=q,I._y=ft,this.properties=I.properties,this.id=xt},Th={geometry:{configurable:!0}};Th.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Th.geometry.set=function(R){this._geometry=R},Zc.prototype.toJSON=function(){var I={geometry:this.geometry};for(var V in this)"_geometry"===V||"_vectorTileFeature"===V||(I[V]=this[V]);return I},Object.defineProperties(Zc.prototype,Th);var Qf=function(){this.state={},this.stateChanges={},this.deletedStates={}};Qf.prototype.updateState=function(I,V,q){var ft=String(V);if(this.stateChanges[I]=this.stateChanges[I]||{},this.stateChanges[I][ft]=this.stateChanges[I][ft]||{},o(this.stateChanges[I][ft],q),null===this.deletedStates[I])for(var xt in this.deletedStates[I]={},this.state[I])xt!==ft&&(this.deletedStates[I][xt]=null);else if(this.deletedStates[I]&&null===this.deletedStates[I][ft])for(var jt in this.deletedStates[I][ft]={},this.state[I][ft])q[jt]||(this.deletedStates[I][ft][jt]=null);else for(var se in q)this.deletedStates[I]&&this.deletedStates[I][ft]&&null===this.deletedStates[I][ft][se]&&delete this.deletedStates[I][ft][se]},Qf.prototype.removeFeatureState=function(I,V,q){if(null!==this.deletedStates[I]){var xt=String(V);if(this.deletedStates[I]=this.deletedStates[I]||{},q&&void 0!==V)null!==this.deletedStates[I][xt]&&(this.deletedStates[I][xt]=this.deletedStates[I][xt]||{},this.deletedStates[I][xt][q]=null);else if(void 0!==V)if(this.stateChanges[I]&&this.stateChanges[I][xt])for(q in this.deletedStates[I][xt]={},this.stateChanges[I][xt])this.deletedStates[I][xt][q]=null;else this.deletedStates[I][xt]=null;else this.deletedStates[I]=null}},Qf.prototype.getState=function(I,V){var q=String(V),At=o({},(this.state[I]||{})[q],(this.stateChanges[I]||{})[q]);if(null===this.deletedStates[I])return{};if(this.deletedStates[I]){var jt=this.deletedStates[I][V];if(null===jt)return{};for(var se in jt)delete At[se]}return At},Qf.prototype.initializeTileState=function(I,V){I.setFeatureState(this.state,V)},Qf.prototype.coalesceChanges=function(I,V){var q={};for(var ft in this.stateChanges){this.state[ft]=this.state[ft]||{};var xt={};for(var At in this.stateChanges[ft])this.state[ft][At]||(this.state[ft][At]={}),o(this.state[ft][At],this.stateChanges[ft][At]),xt[At]=this.state[ft][At];q[ft]=xt}for(var jt in this.deletedStates){this.state[jt]=this.state[jt]||{};var se={};if(null===this.deletedStates[jt])for(var ge in this.state[jt])se[ge]={},this.state[jt][ge]={};else for(var we in this.deletedStates[jt]){if(null===this.deletedStates[jt][we])this.state[jt][we]={};else for(var nr=0,_e=Object.keys(this.deletedStates[jt][we]);nr<_e.length;nr+=1)delete this.state[jt][we][_e[nr]];se[we]=this.state[jt][we]}q[jt]=q[jt]||{},o(q[jt],se)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(q).length)for(var Nr in I)I[Nr].setFeatureState(q,V)};var Au=function(I,V){this.tileID=I,this.x=I.canonical.x,this.y=I.canonical.y,this.z=I.canonical.z,this.grid=new xa(Ta,16,0),this.grid3D=new xa(Ta,16,0),this.featureIndexArray=new ac,this.promoteId=V};function Iv(R,I,V,q,ft){return n(R,function(xt,At){var jt=I instanceof Ea?I.get(At):null;return jt&&jt.evaluate?jt.evaluate(V,q,ft):jt})}function Fv(R){for(var I=1/0,V=1/0,q=-1/0,ft=-1/0,xt=0,At=R;xt<At.length;xt+=1){var jt=At[xt];I=Math.min(I,jt.x),V=Math.min(V,jt.y),q=Math.max(q,jt.x),ft=Math.max(ft,jt.y)}return{minX:I,minY:V,maxX:q,maxY:ft}}function S0(R,I){return I-R}Au.prototype.insert=function(I,V,q,ft,xt,At){var jt=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(q,ft,xt);for(var se=At?this.grid3D:this.grid,ge=0;ge<V.length;ge++){for(var we=V[ge],Ne=[1/0,1/0,-1/0,-1/0],nr=0;nr<we.length;nr++){var _e=we[nr];Ne[0]=Math.min(Ne[0],_e.x),Ne[1]=Math.min(Ne[1],_e.y),Ne[2]=Math.max(Ne[2],_e.x),Ne[3]=Math.max(Ne[3],_e.y)}Ne[0]<Ta&&Ne[1]<Ta&&Ne[2]>=0&&Ne[3]>=0&&se.insert(jt,Ne[0],Ne[1],Ne[2],Ne[3])}},Au.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Nf.VectorTile(new kc(this.rawTileData)).layers,this.sourceLayerCoder=new Yc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Au.prototype.query=function(I,V,q,ft){var xt=this;this.loadVTLayers();for(var At=I.params||{},jt=Ta/I.tileSize/I.scale,se=pl(At.filter),ge=I.queryGeometry,we=I.queryPadding*jt,Ne=Fv(ge),nr=this.grid.query(Ne.minX-we,Ne.minY-we,Ne.maxX+we,Ne.maxY+we),_e=Fv(I.cameraQueryGeometry),Nr=0,on=this.grid3D.query(_e.minX-we,_e.minY-we,_e.maxX+we,_e.maxY+we,function(zn,Yn,Hn,wa){return function Kl(R,I,V,q,ft){for(var xt=0,At=R;xt<At.length;xt+=1){var jt=At[xt];if(I<=jt.x&&V<=jt.y&&q>=jt.x&&ft>=jt.y)return!0}var se=[new e(I,V),new e(I,ft),new e(q,ft),new e(q,V)];if(R.length>2)for(var ge=0,we=se;ge<we.length;ge+=1)if(Co(R,we[ge]))return!0;for(var nr=0;nr<R.length-1;nr++)if(fo(R[nr],R[nr+1],se))return!0;return!1}(I.cameraQueryGeometry,zn-we,Yn-we,Hn+we,wa+we)});Nr<on.length;Nr+=1)nr.push(on[Nr]);nr.sort(S0);for(var yn,Tn={},wn=function(zn){var Yn=nr[zn];if(Yn!==yn){yn=Yn;var Hn=xt.featureIndexArray.get(Yn),wa=null;xt.loadMatchingFeature(Tn,Hn.bucketIndex,Hn.sourceLayerIndex,Hn.featureIndex,se,At.layers,At.availableImages,V,q,ft,function(la,ca,Ia){return wa||(wa=oi(la)),ca.queryIntersectsFeature(ge,la,Ia,wa,xt.z,I.transform,jt,I.pixelPosMatrix)})}},Dn=0;Dn<nr.length;Dn++)wn(Dn);return Tn},Au.prototype.loadMatchingFeature=function(I,V,q,ft,xt,At,jt,se,ge,we,Ne){var nr=this.bucketLayerIDs[V];if(!At||function F(R,I){for(var V=0;V<R.length;V++)if(I.indexOf(R[V])>=0)return!0;return!1}(At,nr)){var _e=this.sourceLayerCoder.decode(q),Nr=this.vtLayers[_e].feature(ft);if(xt.filter(new va(this.tileID.overscaledZ),Nr))for(var on=this.getId(Nr,_e),$r=0;$r<nr.length;$r++){var Tn=nr[$r];if(!(At&&At.indexOf(Tn)<0)){var yn=se[Tn];if(yn){var wn={};void 0!==on&&we&&(wn=we.getState(yn.sourceLayer||"_geojsonTileLayer",on));var Dn=ge[Tn];Dn.paint=Iv(Dn.paint,yn.paint,Nr,wn,jt),Dn.layout=Iv(Dn.layout,yn.layout,Nr,wn,jt);var zn=!Ne||Ne(Nr,yn,wn);if(zn){var Yn=new Zc(Nr,this.z,this.x,this.y,on);Yn.layer=Dn;var Hn=I[Tn];void 0===Hn&&(Hn=I[Tn]=[]),Hn.push({featureIndex:ft,feature:Yn,intersectionZ:zn})}}}}}},Au.prototype.lookupSymbolFeatures=function(I,V,q,ft,xt,At,jt,se){var ge={};this.loadVTLayers();for(var we=pl(xt),Ne=0,nr=I;Ne<nr.length;Ne+=1)this.loadMatchingFeature(ge,q,ft,nr[Ne],we,At,jt,se,V);return ge},Au.prototype.hasLayer=function(I){for(var V=0,q=this.bucketLayerIDs;V<q.length;V+=1)for(var xt=0,At=q[V];xt<At.length;xt+=1)if(I===At[xt])return!0;return!1},Au.prototype.getId=function(I,V){var q=I.id;return this.promoteId&&"boolean"==typeof(q=I.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[V]])&&(q=Number(q)),q},ea("FeatureIndex",Au,{omit:["rawTileData","sourceLayerCoder"]});var Qi=function(I,V){this.tileID=I,this.uid=T(),this.uses=0,this.tileSize=V,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Qi.prototype.registerFadeDuration=function(I){var V=I+this.timeAdded;V<at.now()||this.fadeEndTime&&V<this.fadeEndTime||(this.fadeEndTime=V)},Qi.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Qi.prototype.loadVectorData=function(I,V,q){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",I){for(var ft in I.featureIndex&&(this.latestFeatureIndex=I.featureIndex,I.rawTileData?(this.latestRawTileData=I.rawTileData,this.latestFeatureIndex.rawTileData=I.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=I.collisionBoxArray,this.buckets=function M0(R,I){var V={};if(!I)return V;for(var q=function(){var At=xt[ft],jt=At.layerIds.map(function(Ne){return I.getLayer(Ne)}).filter(Boolean);if(0!==jt.length){At.layers=jt,At.stateDependentLayerIds&&(At.stateDependentLayers=At.stateDependentLayerIds.map(function(Ne){return jt.filter(function(nr){return nr.id===Ne})[0]}));for(var se=0,ge=jt;se<ge.length;se+=1)V[ge[se].id]=At}},ft=0,xt=R;ft<xt.length;ft+=1)q();return V}(I.buckets,V.style),this.hasSymbolBuckets=!1,this.buckets){var xt=this.buckets[ft];if(xt instanceof li){if(this.hasSymbolBuckets=!0,!q)break;xt.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var At in this.buckets){var jt=this.buckets[At];if(jt instanceof li&&jt.hasRTLText){this.hasRTLText=!0,!na.isLoading()&&!na.isLoaded()&&"deferred"===In()&&ra();break}}for(var se in this.queryPadding=0,this.buckets){var ge=this.buckets[se];this.queryPadding=Math.max(this.queryPadding,V.style.getLayer(se).queryRadius(ge))}I.imageAtlas&&(this.imageAtlas=I.imageAtlas),I.glyphAtlasImage&&(this.glyphAtlasImage=I.glyphAtlasImage)}else this.collisionBoxArray=new jl},Qi.prototype.unloadVectorData=function(){for(var I in this.buckets)this.buckets[I].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Qi.prototype.getBucket=function(I){return this.buckets[I.id]},Qi.prototype.upload=function(I){for(var V in this.buckets){var q=this.buckets[V];q.uploadPending()&&q.upload(I)}var ft=I.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Mf(I,this.imageAtlas.image,ft.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Mf(I,this.glyphAtlasImage,ft.ALPHA),this.glyphAtlasImage=null)},Qi.prototype.prepare=function(I){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(I,this.imageAtlasTexture)},Qi.prototype.queryRenderedFeatures=function(I,V,q,ft,xt,At,jt,se,ge,we){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:ft,cameraQueryGeometry:xt,scale:At,tileSize:this.tileSize,pixelPosMatrix:we,transform:se,params:jt,queryPadding:this.queryPadding*ge},I,V,q):{}},Qi.prototype.querySourceFeatures=function(I,V){var q=this.latestFeatureIndex;if(q&&q.rawTileData){var ft=q.loadVTLayers(),xt=V?V.sourceLayer:"",At=ft._geojsonTileLayer||ft[xt];if(At)for(var jt=pl(V&&V.filter),se=this.tileID.canonical,ge=se.z,we=se.x,Ne=se.y,nr={z:ge,x:we,y:Ne},_e=0;_e<At.length;_e++){var xr=At.feature(_e);if(jt.filter(new va(this.tileID.overscaledZ),xr)){var Nr=q.getId(xr,xt),on=new Zc(xr,ge,we,Ne,Nr);on.tile=nr,I.push(on)}}}},Qi.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Qi.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Qi.prototype.setExpiryData=function(I){var V=this.expirationTime;if(I.cacheControl){var q=U(I.cacheControl);q["max-age"]&&(this.expirationTime=Date.now()+1e3*q["max-age"])}else I.expires&&(this.expirationTime=new Date(I.expires).getTime());if(this.expirationTime){var ft=Date.now(),xt=!1;if(this.expirationTime>ft)xt=!1;else if(V)if(this.expirationTime<V)xt=!0;else{var At=this.expirationTime-V;At?this.expirationTime=ft+Math.max(At,3e4):xt=!0}else xt=!0;xt?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Qi.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Qi.prototype.setFeatureState=function(I,V){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(I).length){var q=this.latestFeatureIndex.loadVTLayers();for(var ft in this.buckets)if(V.style.hasLayer(ft)){var xt=this.buckets[ft],At=xt.layers[0].sourceLayer||"_geojsonTileLayer",jt=q[At],se=I[At];if(jt&&se&&0!==Object.keys(se).length){xt.update(se,jt,this.imageAtlas&&this.imageAtlas.patternPositions||{});var ge=V&&V.style&&V.style.getLayer(ft);ge&&(this.queryPadding=Math.max(this.queryPadding,ge.queryRadius(xt)))}}}},Qi.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Qi.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<at.now()},Qi.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Qi.prototype.setHoldDuration=function(I){this.symbolFadeHoldUntil=at.now()+I},Qi.prototype.setDependencies=function(I,V){for(var q={},ft=0,xt=V;ft<xt.length;ft+=1)q[xt[ft]]=!0;this.dependencies[I]=q},Qi.prototype.hasDependency=function(I,V){for(var q=0,ft=I;q<ft.length;q+=1){var At=this.dependencies[ft[q]];if(At)for(var jt=0,se=V;jt<se.length;jt+=1)if(At[se[jt]])return!0}return!1};var tf=self.performance,kv=function(I){this._marks={start:[I.url,"start"].join("#"),end:[I.url,"end"].join("#"),measure:I.url.toString()},tf.mark(this._marks.start)};kv.prototype.finish=function(){tf.mark(this._marks.end);var I=tf.getEntriesByName(this._marks.measure);return 0===I.length&&(tf.measure(this._marks.measure,this._marks.start,this._marks.end),I=tf.getEntriesByName(this._marks.measure),tf.clearMarks(this._marks.start),tf.clearMarks(this._marks.end),tf.clearMeasures(this._marks.measure)),I},i.Actor=Jf,i.AlphaImage=Af,i.CanonicalTileID=Ef,i.CollisionBoxArray=jl,i.Color=Ga,i.DEMData=Tu,i.DataConstantProperty=Wn,i.DictionaryCoder=Yc,i.EXTENT=Ta,i.ErrorEvent=rr,i.EvaluationParameters=va,i.Event=We,i.Evented=or,i.FeatureIndex=Au,i.FillBucket=Tl,i.FillExtrusionBucket=Al,i.ImageAtlas=pc,i.ImagePosition=Oc,i.LineBucket=Wo,i.LngLat=xi,i.LngLatBounds=Wi,i.MercatorCoordinate=Sf,i.ONE_EM=24,i.OverscaledTileID=Yi,i.Point=e,i.Point$1=e,i.Properties=ri,i.Protobuf=kc,i.RGBAImage=Go,i.RequestManager=Mt,i.RequestPerformance=kv,i.ResourceType=fe,i.SegmentVector=Y,i.SourceFeatureState=Qf,i.StructArrayLayout1ui2=Ku,i.StructArrayLayout2f1f2i16=xl,i.StructArrayLayout2i4=io,i.StructArrayLayout3ui6=bl,i.StructArrayLayout4i8=Eo,i.SymbolBucket=li,i.Texture=Mf,i.Tile=Qi,i.Transitionable=Na,i.Uniform1f=Ur,i.Uniform1i=Wr,i.Uniform2f=Kr,i.Uniform3f=fn,i.Uniform4f=Mn,i.UniformColor=Rn,i.UniformMatrix4f=Un,i.UnwrappedTileID=Rv,i.ValidationError=br,i.WritingMode=gs,i.ZoomHistory=ot,i.add=function zf(R,I,V){return R[0]=I[0]+V[0],R[1]=I[1]+V[1],R[2]=I[2]+V[2],R},i.addDynamicAttributes=mh,i.asyncAll=function v(R,I,V){if(!R.length)return V(null,[]);var q=R.length,ft=new Array(R.length),xt=null;R.forEach(function(At,jt){I(At,function(se,ge){se&&(xt=se),ft[jt]=ge,0==--q&&V(xt,ft)})})},i.bezier=s,i.bindAll=S,i.browser=at,i.cacheEntryPossiblyAdded=function ke(R){++he>Rt&&(R.getActor().send("enforceCacheSizeLimit",Et),he=0)},i.clamp=u,i.clearTileCache=function Ae(R){var I=self.caches.delete(Ct);R&&I.catch(R).then(function(){return R()})},i.clipLine=dv,i.clone=function Cc(R){var I=new oo(16);return I[0]=R[0],I[1]=R[1],I[2]=R[2],I[3]=R[3],I[4]=R[4],I[5]=R[5],I[6]=R[6],I[7]=R[7],I[8]=R[8],I[9]=R[9],I[10]=R[10],I[11]=R[11],I[12]=R[12],I[13]=R[13],I[14]=R[14],I[15]=R[15],I},i.clone$1=p,i.clone$2=function $c(R){var I=new oo(3);return I[0]=R[0],I[1]=R[1],I[2]=R[2],I},i.collisionCircleLayout=sp,i.config=_,i.create=function If(){var R=new oo(16);return oo!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=0,R[12]=0,R[13]=0,R[14]=0),R[0]=1,R[5]=1,R[10]=1,R[15]=1,R},i.create$1=function wf(){var R=new oo(9);return oo!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R},i.create$2=function bf(){var R=new oo(4);return oo!=Float32Array&&(R[1]=0,R[2]=0),R[0]=1,R[3]=1,R},i.createCommonjsModule=P,i.createExpression=cl,i.createLayout=Wa,i.createStyleLayer=function m0(R){return"custom"===R.type?new g0(R):new y0[R.type](R)},i.cross=function Bv(R,I,V){var q=I[0],ft=I[1],xt=I[2],At=V[0],jt=V[1],se=V[2];return R[0]=ft*se-xt*jt,R[1]=xt*At-q*se,R[2]=q*jt-ft*At,R},i.deepEqual=function f(R,I){if(Array.isArray(R)){if(!Array.isArray(I)||R.length!==I.length)return!1;for(var V=0;V<R.length;V++)if(!f(R[V],I[V]))return!1;return!0}if("object"==typeof R&&null!==R&&null!==I){if("object"!=typeof I)return!1;if(Object.keys(R).length!==Object.keys(I).length)return!1;for(var ft in R)if(!f(R[ft],I[ft]))return!1;return!0}return R===I},i.dot=function Ov(R,I){return R[0]*I[0]+R[1]*I[1]+R[2]*I[2]},i.dot$1=function Gv(R,I){return R[0]*I[0]+R[1]*I[1]+R[2]*I[2]+R[3]*I[3]},i.ease=c,i.emitValidationErrors=_n,i.endsWith=b,i.enforceCacheSizeLimit=function Oe(R){gt(),It&&It.then(function(I){I.keys().then(function(V){for(var q=0;q<V.length-R;q++)I.delete(V[q])})})},i.evaluateSizeForFeature=sv,i.evaluateSizeForZoom=lv,i.evaluateVariableOffset=yv,i.evented=Xr,i.extend=o,i.featureFilter=pl,i.filterObject=C,i.fromRotation=function Rf(R,I){var V=Math.sin(I),q=Math.cos(I);return R[0]=q,R[1]=V,R[2]=0,R[3]=-V,R[4]=q,R[5]=0,R[6]=0,R[7]=0,R[8]=1,R},i.getAnchorAlignment=dh,i.getAnchorJustification=yh,i.getArrayBuffer=xe,i.getImage=Ht,i.getJSON=function(R,I){return ne(o(R,{type:"json"}),I)},i.getRTLTextPluginStatus=In,i.getReferrer=He,i.getVideo=function(R,I){var V=self.document.createElement("video");V.muted=!0,V.onloadstart=function(){I(null,V)};for(var q=0;q<R.length;q++){var ft=self.document.createElement("source");be(R[q])||(V.crossOrigin="Anonymous"),ft.src=R[q],V.appendChild(ft)}return{cancel:function(){}}},i.identity=Ff,i.invert=function Qu(R,I){var V=I[0],q=I[1],ft=I[2],xt=I[3],At=I[4],jt=I[5],se=I[6],ge=I[7],we=I[8],Ne=I[9],nr=I[10],_e=I[11],xr=I[12],Nr=I[13],on=I[14],$r=I[15],Tn=V*jt-q*At,yn=V*se-ft*At,wn=V*ge-xt*At,Dn=q*se-ft*jt,zn=q*ge-xt*jt,Yn=ft*ge-xt*se,Hn=we*Nr-Ne*xr,wa=we*on-nr*xr,la=we*$r-_e*xr,ca=Ne*on-nr*Nr,Ia=Ne*$r-_e*Nr,ga=nr*$r-_e*on,ba=Tn*ga-yn*Ia+wn*ca+Dn*la-zn*wa+Yn*Hn;return ba?(R[0]=(jt*ga-se*Ia+ge*ca)*(ba=1/ba),R[1]=(ft*Ia-q*ga-xt*ca)*ba,R[2]=(Nr*Yn-on*zn+$r*Dn)*ba,R[3]=(nr*zn-Ne*Yn-_e*Dn)*ba,R[4]=(se*la-At*ga-ge*wa)*ba,R[5]=(V*ga-ft*la+xt*wa)*ba,R[6]=(on*wn-xr*Yn-$r*yn)*ba,R[7]=(we*Yn-nr*wn+_e*yn)*ba,R[8]=(At*Ia-jt*la+ge*Hn)*ba,R[9]=(q*la-V*Ia-xt*Hn)*ba,R[10]=(xr*zn-Nr*wn+$r*Tn)*ba,R[11]=(Ne*wn-we*zn-_e*Tn)*ba,R[12]=(jt*wa-At*ca-se*Hn)*ba,R[13]=(V*ca-q*wa+ft*Hn)*ba,R[14]=(Nr*yn-xr*Dn-on*Tn)*ba,R[15]=(we*Dn-Ne*yn+nr*Tn)*ba,R):null},i.isChar=mt,i.isMapboxURL=wt,i.keysDifference=function d(R,I){var V=[];for(var q in R)q in I||V.push(q);return V},i.makeRequest=ne,i.mapObject=n,i.mercatorXfromLng=Lv,i.mercatorYfromLat=Pv,i.mercatorZfromAltitude=Dv,i.mul=Qc,i.multiply=$u,i.mvt=Nf,i.normalize=function oc(R,I){var V=I[0],q=I[1],ft=I[2],xt=V*V+q*q+ft*ft;return xt>0&&(xt=1/Math.sqrt(xt)),R[0]=I[0]*xt,R[1]=I[1]*xt,R[2]=I[2]*xt,R},i.number=Li,i.offscreenCanvasSupported=Lr,i.ortho=function Jc(R,I,V,q,ft,xt,At){var jt=1/(I-V),se=1/(q-ft),ge=1/(xt-At);return R[0]=-2*jt,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=-2*se,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[10]=2*ge,R[11]=0,R[12]=(I+V)*jt,R[13]=(ft+q)*se,R[14]=(At+xt)*ge,R[15]=1,R},i.parseGlyphPBF=function kp(R){return new kc(R).readFields(Rp,[])},i.pbf=kc,i.performSymbolLayout=function _p(R,I,V,q,ft,xt,At){R.createArrays(),R.tilePixelRatio=Ta/(512*R.overscaling),R.compareText={},R.iconsNeedLinear=!1;var se=R.layers[0].layout,ge=R.layers[0]._unevaluatedLayout._values,we={};if("composite"===R.textSizeData.kind){var Ne=R.textSizeData,_e=Ne.maxZoom;we.compositeTextSizes=[ge["text-size"].possiblyEvaluate(new va(Ne.minZoom),At),ge["text-size"].possiblyEvaluate(new va(_e),At)]}if("composite"===R.iconSizeData.kind){var xr=R.iconSizeData,on=xr.maxZoom;we.compositeIconSizes=[ge["icon-size"].possiblyEvaluate(new va(xr.minZoom),At),ge["icon-size"].possiblyEvaluate(new va(on),At)]}we.layoutTextSize=ge["text-size"].possiblyEvaluate(new va(R.zoom+1),At),we.layoutIconSize=ge["icon-size"].possiblyEvaluate(new va(R.zoom+1),At),we.textMaxSize=ge["text-size"].possiblyEvaluate(new va(18));for(var $r=24*se.get("text-line-height"),Tn="map"===se.get("text-rotation-alignment")&&"point"!==se.get("symbol-placement"),yn=se.get("text-keep-upright"),wn=se.get("text-size"),Dn=function(){var Hn=Yn[zn],wa=se.get("text-font").evaluate(Hn,{},At).join(","),la=wn.evaluate(Hn,{},At),ca=we.layoutTextSize.evaluate(Hn,{},At),Ia=we.layoutIconSize.evaluate(Hn,{},At),ga={horizontal:{},vertical:void 0},ba=Hn.text,Oa=[0,0];if(ba){var Pa=ba.toString(),Ka=24*se.get("text-letter-spacing").evaluate(Hn,{},At),ui=function Kt(R){for(var I=0,V=R;I<V.length;I+=1)if(!Jt(V[I].charCodeAt(0)))return!1;return!0}(Pa)?Ka:0,Ja=se.get("text-anchor").evaluate(Hn,{},At),Qa=se.get("text-variable-anchor");if(!Qa){var Xa=se.get("text-radial-offset").evaluate(Hn,{},At);Oa=Xa?yv(Ja,[24*Xa,gh]):se.get("text-offset").evaluate(Hn,{},At).map(function(Mu){return 24*Mu})}var vi=Tn?"center":se.get("text-justify").evaluate(Hn,{},At),gi=se.get("symbol-placement"),Ri="point"===gi?24*se.get("text-max-width").evaluate(Hn,{},At):0,Oi=function(){R.allowVerticalPlacement&&Bt(Pa)&&(ga.vertical=Bc(ba,I,V,ft,wa,Ri,$r,Ja,"left",ui,Oa,gs.vertical,!0,gi,ca,la))};if(!Tn&&Qa){for(var $i="auto"===vi?Qa.map(function(Mu){return yh(Mu)}):[vi],Zi=!1,yo=0;yo<$i.length;yo++){var mo=$i[yo];if(!ga.horizontal[mo])if(Zi)ga.horizontal[mo]=ga.horizontal[0];else{var _i=Bc(ba,I,V,ft,wa,Ri,$r,"center",mo,ui,Oa,gs.horizontal,!1,gi,ca,la);_i&&(ga.horizontal[mo]=_i,Zi=1===_i.positionedLines.length)}}Oi()}else{"auto"===vi&&(vi=yh(Ja));var Lo=Bc(ba,I,V,ft,wa,Ri,$r,Ja,vi,ui,Oa,gs.horizontal,!1,gi,ca,la);Lo&&(ga.horizontal[vi]=Lo),Oi(),Bt(Pa)&&Tn&&yn&&(ga.vertical=Bc(ba,I,V,ft,wa,Ri,$r,Ja,vi,ui,Oa,gs.vertical,!1,gi,ca,la))}}var Po=void 0,Ji=!1;if(Hn.icon&&Hn.icon.name){var Do=q[Hn.icon.name];Do&&(Po=function Gp(R,I,V){var q=dh(V),se=I[0]-R.displaySize[0]*q.horizontalAlign,we=I[1]-R.displaySize[1]*q.verticalAlign;return{image:R,top:we,bottom:we+R.displaySize[1],left:se,right:se+R.displaySize[0]}}(ft[Hn.icon.name],se.get("icon-offset").evaluate(Hn,{},At),se.get("icon-anchor").evaluate(Hn,{},At)),Ji=Do.sdf,void 0===R.sdfIcons?R.sdfIcons=Do.sdf:R.sdfIcons!==Do.sdf&&N("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Do.pixelRatio!==R.pixelRatio||0!==se.get("icon-rotate").constantOr(1))&&(R.iconsNeedLinear=!0))}var ys=xv(ga.horizontal)||ga.vertical;R.iconsInText=!!ys&&ys.iconsInText,(ys||Po)&&function qp(R,I,V,q,ft,xt,At,jt,se,ge,we){var Ne=xt.textMaxSize.evaluate(I,{});void 0===Ne&&(Ne=At);var ga,nr=R.layers[0].layout,_e=nr.get("icon-offset").evaluate(I,{},we),xr=xv(V.horizontal),Nr=24,on=At/Nr,$r=R.tilePixelRatio*on,Tn=R.tilePixelRatio*Ne/Nr,yn=R.tilePixelRatio*jt,wn=R.tilePixelRatio*nr.get("symbol-spacing"),Dn=nr.get("text-padding")*R.tilePixelRatio,zn=nr.get("icon-padding")*R.tilePixelRatio,Yn=nr.get("text-max-angle")/180*Math.PI,Hn="map"===nr.get("text-rotation-alignment")&&"point"!==nr.get("symbol-placement"),wa="map"===nr.get("icon-rotation-alignment")&&"point"!==nr.get("symbol-placement"),la=nr.get("symbol-placement"),ca=wn/2,Ia=nr.get("icon-text-fit");q&&"none"!==Ia&&(R.allowVerticalPlacement&&V.vertical&&(ga=ov(q,V.vertical,Ia,nr.get("icon-text-fit-padding"),_e,on)),xr&&(q=ov(q,xr,Ia,nr.get("icon-text-fit-padding"),_e,on)));var ba=function($f,_s){_s.x<0||_s.x>=Ta||_s.y<0||_s.y>=Ta||function t0(R,I,V,q,ft,xt,At,jt,se,ge,we,Ne,nr,_e,xr,Nr,on,$r,Tn,yn,wn,Dn,zn,Yn,Hn){var wa,ca,Ia,ga,ba,la=R.addToLineVertexArray(I,V),Oa=0,Pa=0,Ka=0,ui=0,Ja=-1,Qa=-1,Xa={},vi=Wt(""),gi=0,Ri=0;if(void 0===jt._unevaluatedLayout.getValue("text-radial-offset")?(gi=(wa=jt.layout.get("text-offset").evaluate(wn,{},Yn).map(function(bc){return 24*bc}))[0],Ri=wa[1]):(gi=24*jt.layout.get("text-radial-offset").evaluate(wn,{},Yn),Ri=gh),R.allowVerticalPlacement&&q.vertical){var $i=jt.layout.get("text-rotate").evaluate(wn,{},Yn)+90;ga=new Hc(se,I,ge,we,Ne,q.vertical,nr,_e,xr,$i),At&&(ba=new Hc(se,I,ge,we,Ne,At,on,$r,xr,$i))}if(ft){var yo=jt.layout.get("icon-rotate").evaluate(wn,{}),mo="none"!==jt.layout.get("icon-text-fit"),_i=pv(ft,yo,zn,mo),Lo=At?pv(At,yo,zn,mo):void 0;Ia=new Hc(se,I,ge,we,Ne,ft,on,$r,!1,yo),Oa=4*_i.length;var Po=R.iconSizeData,Ji=null;"source"===Po.kind?(Ji=[Ml*jt.layout.get("icon-size").evaluate(wn,{})])[0]>qu&&N(R.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===Po.kind&&((Ji=[Ml*Dn.compositeIconSizes[0].evaluate(wn,{},Yn),Ml*Dn.compositeIconSizes[1].evaluate(wn,{},Yn)])[0]>qu||Ji[1]>qu)&&N(R.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),R.addSymbols(R.icon,_i,Ji,yn,Tn,wn,!1,I,la.lineStartIndex,la.lineLength,-1,Yn),Ja=R.icon.placedSymbolArray.length-1,Lo&&(Pa=4*Lo.length,R.addSymbols(R.icon,Lo,Ji,yn,Tn,wn,gs.vertical,I,la.lineStartIndex,la.lineLength,-1,Yn),Qa=R.icon.placedSymbolArray.length-1)}for(var Do in q.horizontal){var ys=q.horizontal[Do];if(!ca){vi=Wt(ys.text);var Mu=jt.layout.get("text-rotate").evaluate(wn,{},Yn);ca=new Hc(se,I,ge,we,Ne,ys,nr,_e,xr,Mu)}var ef=1===ys.positionedLines.length;if(Ka+=mv(R,I,ys,xt,jt,xr,wn,Nr,la,q.vertical?gs.horizontal:gs.horizontalOnly,ef?Object.keys(q.horizontal):[Do],Xa,Ja,Dn,Yn),ef)break}q.vertical&&(ui+=mv(R,I,q.vertical,xt,jt,xr,wn,Nr,la,gs.vertical,["vertical"],Xa,Qa,Dn,Yn));var rf=ca?ca.boxStartIndex:R.collisionBoxArray.length,nf=ca?ca.boxEndIndex:R.collisionBoxArray.length,$f=ga?ga.boxStartIndex:R.collisionBoxArray.length,_s=ga?ga.boxEndIndex:R.collisionBoxArray.length,Xc=Ia?Ia.boxStartIndex:R.collisionBoxArray.length,Ah=Ia?Ia.boxEndIndex:R.collisionBoxArray.length,jc=ba?ba.boxStartIndex:R.collisionBoxArray.length,Mh=ba?ba.boxEndIndex:R.collisionBoxArray.length,Is=-1,_f=function(bc,zv){return bc&&bc.circleDiameter?Math.max(bc.circleDiameter,zv):zv};Is=_f(ca,Is),Is=_f(ga,Is),Is=_f(Ia,Is);var Kc=(Is=_f(ba,Is))>-1?1:0;Kc&&(Is*=Hn/24),R.glyphOffsetArray.length>=li.MAX_GLYPHS&&N("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==wn.sortKey&&R.addToSortKeyRanges(R.symbolInstances.length,wn.sortKey),R.symbolInstances.emplaceBack(I.x,I.y,Xa.right>=0?Xa.right:-1,Xa.center>=0?Xa.center:-1,Xa.left>=0?Xa.left:-1,Xa.vertical||-1,Ja,Qa,vi,rf,nf,$f,_s,Xc,Ah,jc,Mh,ge,Ka,ui,Oa,Pa,Kc,0,nr,gi,Ri,Is)}(R,_s,$f,V,q,ft,ga,R.layers[0],R.collisionBoxArray,I.index,I.sourceLayerIndex,R.index,$r,Dn,Hn,se,yn,zn,wa,_e,I,xt,ge,we,At)};if("line"===la)for(var Oa=0,Pa=dv(I.geometry,0,0,Ta,Ta);Oa<Pa.length;Oa+=1)for(var Ka=Pa[Oa],Ja=0,Qa=Zp(Ka,wn,Yn,V.vertical||xr,q,Nr,Tn,R.overscaling,Ta);Ja<Qa.length;Ja+=1){var Xa=Qa[Ja];(!xr||!e0(R,xr.text,ca,Xa))&&ba(Ka,Xa)}else if("line-center"===la)for(var gi=0,Ri=I.geometry;gi<Ri.length;gi+=1){var Oi=Ri[gi];if(Oi.length>1){var $i=Yp(Oi,Yn,V.vertical||xr,q,Nr,Tn);$i&&ba(Oi,$i)}}else if("Polygon"===I.type)for(var Zi=0,yo=oh(I.geometry,0);Zi<yo.length;Zi+=1){var mo=yo[Zi],_i=Kp(mo,16);ba(mo[0],new Gf(_i.x,_i.y,0))}else if("LineString"===I.type)for(var Lo=0,Po=I.geometry;Lo<Po.length;Lo+=1){var Ji=Po[Lo];ba(Ji,new Gf(Ji[0].x,Ji[0].y,0))}else if("Point"===I.type)for(var Do=0,ys=I.geometry;Do<ys.length;Do+=1)for(var ef=0,rf=ys[Do];ef<rf.length;ef+=1){var nf=rf[ef];ba([nf],new Gf(nf.x,nf.y,0))}}(R,Hn,ga,Po,q,we,ca,Ia,Oa,Ji,At)},zn=0,Yn=R.features;zn<Yn.length;zn+=1)Dn();xt&&R.generateCollisionDebugBuffers()},i.perspective=function ic(R,I,V,q,ft){var At,xt=1/Math.tan(I/2);return R[0]=xt/V,R[1]=0,R[2]=0,R[3]=0,R[4]=0,R[5]=xt,R[6]=0,R[7]=0,R[8]=0,R[9]=0,R[11]=-1,R[12]=0,R[13]=0,R[15]=0,null!=ft&&ft!==1/0?(R[10]=(ft+q)*(At=1/(q-ft)),R[14]=2*ft*q*At):(R[10]=-1,R[14]=-2*q),R},i.pick=function h(R,I){for(var V={},q=0;q<I.length;q++){var ft=I[q];ft in R&&(V[ft]=R[ft])}return V},i.plugin=na,i.polygonIntersectsPolygon=ka,i.postMapLoadEvent=Zt,i.postTurnstileEvent=ye,i.potpack=qh,i.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],i.register=ea,i.registerForPluginStateChange=function(R){return R({pluginStatus:Or,pluginURL:Vr}),Xr.on("pluginStateChange",R),R},i.rotate=function po(R,I,V){var q=I[0],ft=I[1],xt=I[2],At=I[3],jt=Math.sin(V),se=Math.cos(V);return R[0]=q*se+xt*jt,R[1]=ft*se+At*jt,R[2]=q*-jt+xt*se,R[3]=ft*-jt+At*se,R},i.rotateX=function Ho(R,I,V){var q=Math.sin(V),ft=Math.cos(V),xt=I[4],At=I[5],jt=I[6],se=I[7],ge=I[8],we=I[9],Ne=I[10],nr=I[11];return I!==R&&(R[0]=I[0],R[1]=I[1],R[2]=I[2],R[3]=I[3],R[12]=I[12],R[13]=I[13],R[14]=I[14],R[15]=I[15]),R[4]=xt*ft+ge*q,R[5]=At*ft+we*q,R[6]=jt*ft+Ne*q,R[7]=se*ft+nr*q,R[8]=ge*ft-xt*q,R[9]=we*ft-At*q,R[10]=Ne*ft-jt*q,R[11]=nr*ft-se*q,R},i.rotateZ=function kf(R,I,V){var q=Math.sin(V),ft=Math.cos(V),xt=I[0],At=I[1],jt=I[2],se=I[3],ge=I[4],we=I[5],Ne=I[6],nr=I[7];return I!==R&&(R[8]=I[8],R[9]=I[9],R[10]=I[10],R[11]=I[11],R[12]=I[12],R[13]=I[13],R[14]=I[14],R[15]=I[15]),R[0]=xt*ft+ge*q,R[1]=At*ft+we*q,R[2]=jt*ft+Ne*q,R[3]=se*ft+nr*q,R[4]=ge*ft-xt*q,R[5]=we*ft-At*q,R[6]=Ne*ft-jt*q,R[7]=nr*ft-se*q,R},i.scale=function Vo(R,I,V){var q=V[0],ft=V[1],xt=V[2];return R[0]=I[0]*q,R[1]=I[1]*q,R[2]=I[2]*q,R[3]=I[3]*q,R[4]=I[4]*ft,R[5]=I[5]*ft,R[6]=I[6]*ft,R[7]=I[7]*ft,R[8]=I[8]*xt,R[9]=I[9]*xt,R[10]=I[10]*xt,R[11]=I[11]*xt,R[12]=I[12],R[13]=I[13],R[14]=I[14],R[15]=I[15],R},i.scale$1=function Hv(R,I,V){return R[0]=I[0]*V,R[1]=I[1]*V,R[2]=I[2]*V,R[3]=I[3]*V,R},i.scale$2=function qc(R,I,V){return R[0]=I[0]*V,R[1]=I[1]*V,R[2]=I[2]*V,R},i.setCacheLimits=function je(R,I){Et=R,Rt=I},i.setRTLTextPlugin=function(R,I,V){if(void 0===V&&(V=!1),Or===tn_deferred||Or===tn_loading||Or===tn_loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");Vr=at.resolveURL(R),Or=tn_deferred,Rr=I,ln(),V||ra()},i.sphericalToCartesian=function B(R){var I=R[0],V=R[1],q=R[2];return V+=90,V*=Math.PI/180,q*=Math.PI/180,{x:I*Math.cos(V)*Math.sin(q),y:I*Math.sin(V)*Math.sin(q),z:I*Math.cos(q)}},i.sqrLen=Zv,i.styleSpec=Xe,i.sub=Uv,i.symbolSize=Wp,i.transformMat3=function Nv(R,I,V){var q=I[0],ft=I[1],xt=I[2];return R[0]=q*V[0]+ft*V[3]+xt*V[6],R[1]=q*V[1]+ft*V[4]+xt*V[7],R[2]=q*V[2]+ft*V[5]+xt*V[8],R},i.transformMat4=Lc,i.translate=function zi(R,I,V){var At,jt,se,ge,we,Ne,nr,_e,xr,Nr,on,$r,q=V[0],ft=V[1],xt=V[2];return I===R?(R[12]=I[0]*q+I[4]*ft+I[8]*xt+I[12],R[13]=I[1]*q+I[5]*ft+I[9]*xt+I[13],R[14]=I[2]*q+I[6]*ft+I[10]*xt+I[14],R[15]=I[3]*q+I[7]*ft+I[11]*xt+I[15]):(jt=I[1],se=I[2],ge=I[3],we=I[4],Ne=I[5],nr=I[6],_e=I[7],xr=I[8],Nr=I[9],on=I[10],$r=I[11],R[0]=At=I[0],R[1]=jt,R[2]=se,R[3]=ge,R[4]=we,R[5]=Ne,R[6]=nr,R[7]=_e,R[8]=xr,R[9]=Nr,R[10]=on,R[11]=$r,R[12]=At*q+we*ft+xr*xt+I[12],R[13]=jt*q+Ne*ft+Nr*xt+I[13],R[14]=se*q+nr*ft+on*xt+I[14],R[15]=ge*q+_e*ft+$r*xt+I[15]),R},i.triggerPluginCompletionEvent=nn,i.uniqueId=T,i.validateCustomStyleLayer=function p0(R){var I=[],V=R.id;return void 0===V&&I.push({message:"layers."+V+': missing required property "id"'}),void 0===R.render&&I.push({message:"layers."+V+': missing required method "render"'}),R.renderingMode&&"2d"!==R.renderingMode&&"3d"!==R.renderingMode&&I.push({message:"layers."+V+': property "renderingMode" must be either "2d" or "3d"'}),I},i.validateLight=Qr,i.validateStyle=jr,i.values=function w(R){var I=[];for(var V in R)I.push(R[V]);return I},i.vectorTile=Nf,i.version=E,i.warnOnce=N,i.webpSupported=K,i.window=self,i.wrap=y}),g(0,function(i){function P(ie){var ne=typeof ie;if("number"===ne||"boolean"===ne||"string"===ne||null==ie)return JSON.stringify(ie);if(Array.isArray(ie)){for(var ve="[",xe=0,Te=ie;xe<Te.length;xe+=1)ve+=P(Te[xe])+",";return ve+"]"}for(var Pe=Object.keys(ie).sort(),Be="{",Qe=0;Qe<Pe.length;Qe++)Be+=JSON.stringify(Pe[Qe])+":"+P(ie[Pe[Qe]])+",";return Be+"}"}function E(ie){for(var ne="",ve=0,xe=i.refProperties;ve<xe.length;ve+=1)ne+="/"+P(ie[xe[ve]]);return ne}var x=function(ne){this.keyCache={},ne&&this.replace(ne)};x.prototype.replace=function(ne){this._layerConfigs={},this._layers={},this.update(ne,[])},x.prototype.update=function(ne,ve){for(var xe=this,Te=0,be=ne;Te<be.length;Te+=1){var Pe=be[Te];this._layerConfigs[Pe.id]=Pe;var Be=this._layers[Pe.id]=i.createStyleLayer(Pe);Be._featureFilter=i.featureFilter(Be.filter),this.keyCache[Pe.id]&&delete this.keyCache[Pe.id]}for(var Qe=0,Ke=ve;Qe<Ke.length;Qe+=1){var tr=Ke[Qe];delete this.keyCache[tr],delete this._layerConfigs[tr],delete this._layers[tr]}this.familiesBySource={};for(var Ht=0,Nt=function l(ie,ne){for(var ve={},xe=0;xe<ie.length;xe++){var Te=ne&&ne[ie[xe].id]||E(ie[xe]);ne&&(ne[ie[xe].id]=Te);var be=ve[Te];be||(be=ve[Te]=[]),be.push(ie[xe])}var Pe=[];for(var Be in ve)Pe.push(ve[Be]);return Pe}(i.values(this._layerConfigs),this.keyCache);Ht<Nt.length;Ht+=1){var Le=Nt[Ht].map(function(sr){return xe._layers[sr.id]}),We=Le[0];if("none"!==We.visibility){var rr=We.source||"",or=this.familiesBySource[rr];or||(or=this.familiesBySource[rr]={});var qe=We.sourceLayer||"_geojsonTileLayer",De=or[qe];De||(De=or[qe]=[]),De.push(Le)}}};var r=function(ne){var ve={},xe=[];for(var Te in ne){var be=ne[Te],Pe=ve[Te]={};for(var Be in be){var Qe=be[+Be];if(Qe&&0!==Qe.bitmap.width&&0!==Qe.bitmap.height){var Ke={x:0,y:0,w:Qe.bitmap.width+2,h:Qe.bitmap.height+2};xe.push(Ke),Pe[Be]={rect:Ke,metrics:Qe.metrics}}}}var tr=i.potpack(xe),Nt=new i.AlphaImage({width:tr.w||1,height:tr.h||1});for(var Se in ne){var Le=ne[Se];for(var We in Le){var rr=Le[+We];if(rr&&0!==rr.bitmap.width&&0!==rr.bitmap.height){var or=ve[Se][We].rect;i.AlphaImage.copy(rr.bitmap,Nt,{x:0,y:0},{x:or.x+1,y:or.y+1},rr.bitmap)}}}this.image=Nt,this.positions=ve};i.register("GlyphAtlas",r);var f=function(ne){this.tileID=new i.OverscaledTileID(ne.tileID.overscaledZ,ne.tileID.wrap,ne.tileID.canonical.z,ne.tileID.canonical.x,ne.tileID.canonical.y),this.uid=ne.uid,this.zoom=ne.zoom,this.pixelRatio=ne.pixelRatio,this.tileSize=ne.tileSize,this.source=ne.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ne.showCollisionBoxes,this.collectResourceTiming=!!ne.collectResourceTiming,this.returnDependencies=!!ne.returnDependencies,this.promoteId=ne.promoteId};function a(ie,ne,ve){for(var xe=new i.EvaluationParameters(ne),Te=0,be=ie;Te<be.length;Te+=1)be[Te].recalculate(xe,ve)}function s(ie,ne){var ve=i.getArrayBuffer(ie.request,function(xe,Te,be,Pe){xe?ne(xe):Te&&ne(null,{vectorTile:new i.vectorTile.VectorTile(new i.pbf(Te)),rawData:Te,cacheControl:be,expires:Pe})});return function(){ve.cancel(),ne()}}f.prototype.parse=function(ne,ve,xe,Te,be){var Pe=this;this.status="parsing",this.data=ne,this.collisionBoxArray=new i.CollisionBoxArray;var Be=new i.DictionaryCoder(Object.keys(ne.layers).sort()),Qe=new i.FeatureIndex(this.tileID,this.promoteId);Qe.bucketLayerIDs=[];var Ke={},tr={featureIndex:Qe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:xe},vr=ve.familiesBySource[this.source];for(var Ht in vr){var Nt=ne.layers[Ht];if(Nt){1===Nt.version&&i.warnOnce('Vector tile source "'+this.source+'" layer "'+Ht+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Se=Be.encode(Ht),Le=[],We=0;We<Nt.length;We++){var rr=Nt.feature(We),or=Qe.getId(rr,Ht);Le.push({feature:rr,id:or,index:We,sourceLayerIndex:Se})}for(var qe=0,De=vr[Ht];qe<De.length;qe+=1){var sr=De[qe],gr=sr[0];gr.minzoom&&this.zoom<Math.floor(gr.minzoom)||gr.maxzoom&&this.zoom>=gr.maxzoom||"none"===gr.visibility||(a(sr,this.zoom,xe),(Ke[gr.id]=gr.createBucket({index:Qe.bucketLayerIDs.length,layers:sr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Se,sourceID:this.source})).populate(Le,tr,this.tileID.canonical),Qe.bucketLayerIDs.push(sr.map(function(lr){return lr.id})))}}}var Pr,qr,Er,Zr,rn=i.mapObject(tr.glyphDependencies,function(lr){return Object.keys(lr).map(Number)});Object.keys(rn).length?Te.send("getGlyphs",{uid:this.uid,stacks:rn},function(lr,yr){Pr||(Pr=lr,qr=yr,An.call(Pe))}):qr={};var zr=Object.keys(tr.iconDependencies);zr.length?Te.send("getImages",{icons:zr,source:this.source,tileID:this.tileID,type:"icons"},function(lr,yr){Pr||(Pr=lr,Er=yr,An.call(Pe))}):Er={};var Pn=Object.keys(tr.patternDependencies);function An(){if(Pr)return be(Pr);if(qr&&Er&&Zr){var lr=new r(qr),yr=new i.ImageAtlas(Er,Zr);for(var Fr in Ke){var Br=Ke[Fr];Br instanceof i.SymbolBucket?(a(Br.layers,this.zoom,xe),i.performSymbolLayout(Br,qr,lr.positions,Er,yr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Br.hasPattern&&(Br instanceof i.LineBucket||Br instanceof i.FillBucket||Br instanceof i.FillExtrusionBucket)&&(a(Br.layers,this.zoom,xe),Br.addFeatures(tr,this.tileID.canonical,yr.patternPositions))}this.status="done",be(null,{buckets:i.values(Ke).filter(function(_r){return!_r.isEmpty()}),featureIndex:Qe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:lr.image,imageAtlas:yr,glyphMap:this.returnDependencies?qr:null,iconMap:this.returnDependencies?Er:null,glyphPositions:this.returnDependencies?lr.positions:null})}}Pn.length?Te.send("getImages",{icons:Pn,source:this.source,tileID:this.tileID,type:"patterns"},function(lr,yr){Pr||(Pr=lr,Zr=yr,An.call(Pe))}):Zr={},An.call(this)};var c=function(ne,ve,xe,Te){this.actor=ne,this.layerIndex=ve,this.availableImages=xe,this.loadVectorData=Te||s,this.loading={},this.loaded={}};c.prototype.loadTile=function(ne,ve){var xe=this,Te=ne.uid;this.loading||(this.loading={});var be=!!(ne&&ne.request&&ne.request.collectResourceTiming)&&new i.RequestPerformance(ne.request),Pe=this.loading[Te]=new f(ne);Pe.abort=this.loadVectorData(ne,function(Be,Qe){if(delete xe.loading[Te],Be||!Qe)return Pe.status="done",xe.loaded[Te]=Pe,ve(Be);var Ke=Qe.rawData,tr={};Qe.expires&&(tr.expires=Qe.expires),Qe.cacheControl&&(tr.cacheControl=Qe.cacheControl);var vr={};if(be){var Ht=be.finish();Ht&&(vr.resourceTiming=JSON.parse(JSON.stringify(Ht)))}Pe.vectorTile=Qe.vectorTile,Pe.parse(Qe.vectorTile,xe.layerIndex,xe.availableImages,xe.actor,function(Nt,Se){if(Nt||!Se)return ve(Nt);ve(null,i.extend({rawTileData:Ke.slice(0)},Se,tr,vr))}),xe.loaded=xe.loaded||{},xe.loaded[Te]=Pe})},c.prototype.reloadTile=function(ne,ve){var xe=this,Te=this.loaded,be=ne.uid,Pe=this;if(Te&&Te[be]){var Be=Te[be];Be.showCollisionBoxes=ne.showCollisionBoxes;var Qe=function(Ke,tr){var vr=Be.reloadCallback;vr&&(delete Be.reloadCallback,Be.parse(Be.vectorTile,Pe.layerIndex,xe.availableImages,Pe.actor,vr)),ve(Ke,tr)};"parsing"===Be.status?Be.reloadCallback=Qe:"done"===Be.status&&(Be.vectorTile?Be.parse(Be.vectorTile,this.layerIndex,this.availableImages,this.actor,Qe):Qe())}},c.prototype.abortTile=function(ne,ve){var xe=this.loading,Te=ne.uid;xe&&xe[Te]&&xe[Te].abort&&(xe[Te].abort(),delete xe[Te]),ve()},c.prototype.removeTile=function(ne,ve){var xe=this.loaded,Te=ne.uid;xe&&xe[Te]&&delete xe[Te],ve()};var u=i.window.ImageBitmap,y=function(){this.loaded={}};y.prototype.loadTile=function(ne,ve){var xe=ne.uid,Te=ne.encoding,be=ne.rawImageData,Pe=u&&be instanceof u?this.getImageData(be):be,Be=new i.DEMData(xe,Pe,Te);this.loaded=this.loaded||{},this.loaded[xe]=Be,ve(null,Be)},y.prototype.getImageData=function(ne){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(ne.width,ne.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ne.width,this.offscreenCanvas.height=ne.height,this.offscreenCanvasContext.drawImage(ne,0,0,ne.width,ne.height);var ve=this.offscreenCanvasContext.getImageData(-1,-1,ne.width+2,ne.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new i.RGBAImage({width:ve.width,height:ve.height},ve.data)},y.prototype.removeTile=function(ne){var ve=this.loaded,xe=ne.uid;ve&&ve[xe]&&delete ve[xe]};var v=function w(ie,ne){var xe,ve=ie&&ie.type;if("FeatureCollection"===ve)for(xe=0;xe<ie.features.length;xe++)w(ie.features[xe],ne);else if("GeometryCollection"===ve)for(xe=0;xe<ie.geometries.length;xe++)w(ie.geometries[xe],ne);else if("Feature"===ve)w(ie.geometry,ne);else if("Polygon"===ve)d(ie.coordinates,ne);else if("MultiPolygon"===ve)for(xe=0;xe<ie.coordinates.length;xe++)d(ie.coordinates[xe],ne);return ie};function d(ie,ne){if(0!==ie.length){o(ie[0],ne);for(var ve=1;ve<ie.length;ve++)o(ie[ve],!ne)}}function o(ie,ne){for(var ve=0,xe=0,Te=ie.length,be=Te-1;xe<Te;be=xe++)ve+=(ie[xe][0]-ie[be][0])*(ie[be][1]+ie[xe][1]);ve>=0!=!!ne&&ie.reverse()}var h=i.vectorTile.VectorTileFeature.prototype.toGeoJSON,M=function(ne){this._feature=ne,this.extent=i.EXTENT,this.type=ne.type,this.properties=ne.tags,"id"in ne&&!isNaN(ne.id)&&(this.id=parseInt(ne.id,10))};M.prototype.loadGeometry=function(){if(1===this._feature.type){for(var ne=[],ve=0,xe=this._feature.geometry;ve<xe.length;ve+=1){var Te=xe[ve];ne.push([new i.Point$1(Te[0],Te[1])])}return ne}for(var be=[],Pe=0,Be=this._feature.geometry;Pe<Be.length;Pe+=1){for(var Ke=[],tr=0,vr=Be[Pe];tr<vr.length;tr+=1){var Ht=vr[tr];Ke.push(new i.Point$1(Ht[0],Ht[1]))}be.push(Ke)}return be},M.prototype.toGeoJSON=function(ne,ve,xe){return h.call(this,ne,ve,xe)};var T=function(ne){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=ne.length,this._features=ne};T.prototype.feature=function(ne){return new M(this._features[ne])};var L=i.vectorTile.VectorTileFeature,m=S;function S(ie,ne){this.options=ne||{},this.features=ie,this.length=ie.length}function b(ie,ne){this.id="number"==typeof ie.id?ie.id:void 0,this.type=ie.type,this.rawGeometry=1===ie.type?[ie.geometry]:ie.geometry,this.properties=ie.tags,this.extent=ne||4096}S.prototype.feature=function(ie){return new b(this.features[ie],this.options.extent)},b.prototype.loadGeometry=function(){var ie=this.rawGeometry;this.geometry=[];for(var ne=0;ne<ie.length;ne++){for(var ve=ie[ne],xe=[],Te=0;Te<ve.length;Te++)xe.push(new i.Point$1(ve[Te][0],ve[Te][1]));this.geometry.push(xe)}return this.geometry},b.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ie=this.geometry,ne=1/0,ve=-1/0,xe=1/0,Te=-1/0,be=0;be<ie.length;be++)for(var Pe=ie[be],Be=0;Be<Pe.length;Be++){var Qe=Pe[Be];ne=Math.min(ne,Qe.x),ve=Math.max(ve,Qe.x),xe=Math.min(xe,Qe.y),Te=Math.max(Te,Qe.y)}return[ne,xe,ve,Te]},b.prototype.toGeoJSON=L.prototype.toGeoJSON;var n=D,p=function N(ie,ne){ne=ne||{};var ve={};for(var xe in ie)ve[xe]=new m(ie[xe].features,ne),ve[xe].name=xe,ve[xe].version=ne.version,ve[xe].extent=ne.extent;return D({layers:ve})},F=m;function D(ie){var ne=new i.pbf;return function k(ie,ne){for(var ve in ie.layers)ne.writeMessage(3,O,ie.layers[ve])}(ie,ne),ne.finish()}function O(ie,ne){ne.writeVarintField(15,ie.version||1),ne.writeStringField(1,ie.name||""),ne.writeVarintField(5,ie.extent||4096);var ve,xe={keys:[],values:[],keycache:{},valuecache:{}};for(ve=0;ve<ie.length;ve++)xe.feature=ie.feature(ve),ne.writeMessage(2,B,xe);var Te=xe.keys;for(ve=0;ve<Te.length;ve++)ne.writeStringField(3,Te[ve]);var be=xe.values;for(ve=0;ve<be.length;ve++)ne.writeMessage(4,rt,be[ve])}function B(ie,ne){var ve=ie.feature;void 0!==ve.id&&ne.writeVarintField(1,ve.id),ne.writeMessage(2,z,ie),ne.writeVarintField(3,ve.type),ne.writeMessage(4,Q,ve)}function z(ie,ne){var ve=ie.feature,xe=ie.keys,Te=ie.values,be=ie.keycache,Pe=ie.valuecache;for(var Be in ve.properties){var Qe=be[Be];void 0===Qe&&(xe.push(Be),be[Be]=Qe=xe.length-1),ne.writeVarint(Qe);var Ke=ve.properties[Be],tr=typeof Ke;"string"!==tr&&"boolean"!==tr&&"number"!==tr&&(Ke=JSON.stringify(Ke));var vr=tr+":"+Ke,Ht=Pe[vr];void 0===Ht&&(Te.push(Ke),Pe[vr]=Ht=Te.length-1),ne.writeVarint(Ht)}}function U(ie,ne){return(ne<<3)+(7&ie)}function G(ie){return ie<<1^ie>>31}function Q(ie,ne){for(var ve=ie.loadGeometry(),xe=ie.type,Te=0,be=0,Pe=ve.length,Be=0;Be<Pe;Be++){var Qe=ve[Be],Ke=1;1===xe&&(Ke=Qe.length),ne.writeVarint(U(1,Ke));for(var tr=3===xe?Qe.length-1:Qe.length,vr=0;vr<tr;vr++){1===vr&&1!==xe&&ne.writeVarint(U(2,tr-1));var Ht=Qe[vr].x-Te,Nt=Qe[vr].y-be;ne.writeVarint(G(Ht)),ne.writeVarint(G(Nt)),Te+=Ht,be+=Nt}3===xe&&ne.writeVarint(U(7,1))}}function rt(ie,ne){var ve=typeof ie;"string"===ve?ne.writeStringField(1,ie):"boolean"===ve?ne.writeBooleanField(7,ie):"number"===ve&&(ie%1!=0?ne.writeDoubleField(3,ie):ie<0?ne.writeSVarintField(6,ie):ne.writeVarintField(5,ie))}function it(ie,ne,ve,xe,Te,be){if(!(Te-xe<=ve)){var Pe=xe+Te>>1;ut(ie,ne,Pe,xe,Te,be%2),it(ie,ne,ve,xe,Pe-1,be+1),it(ie,ne,ve,Pe+1,Te,be+1)}}function ut(ie,ne,ve,xe,Te,be){for(;Te>xe;){if(Te-xe>600){var Pe=Te-xe+1,Be=ve-xe+1,Qe=Math.log(Pe),Ke=.5*Math.exp(2*Qe/3),tr=.5*Math.sqrt(Qe*Ke*(Pe-Ke)/Pe)*(Be-Pe/2<0?-1:1);ut(ie,ne,ve,Math.max(xe,Math.floor(ve-Be*Ke/Pe+tr)),Math.min(Te,Math.floor(ve+(Pe-Be)*Ke/Pe+tr)),be)}var Nt=ne[2*ve+be],Se=xe,Le=Te;for(J(ie,ne,xe,ve),ne[2*Te+be]>Nt&&J(ie,ne,xe,Te);Se<Le;){for(J(ie,ne,Se,Le),Se++,Le--;ne[2*Se+be]<Nt;)Se++;for(;ne[2*Le+be]>Nt;)Le--}ne[2*xe+be]===Nt?J(ie,ne,xe,Le):J(ie,ne,++Le,Te),Le<=ve&&(xe=Le+1),ve<=Le&&(Te=Le-1)}}function J(ie,ne,ve,xe){j(ie,ve,xe),j(ne,2*ve,2*xe),j(ne,2*ve+1,2*xe+1)}function j(ie,ne,ve){var xe=ie[ne];ie[ne]=ie[ve],ie[ve]=xe}function X(ie,ne,ve,xe){var Te=ie-ve,be=ne-xe;return Te*Te+be*be}n.fromVectorTileJs=D,n.fromGeojsonVt=p,n.GeoJSONWrapper=F;var at=function(ie){return ie[0]},_=function(ie){return ie[1]},K=function(ne,ve,xe,Te,be){void 0===ve&&(ve=at),void 0===xe&&(xe=_),void 0===Te&&(Te=64),void 0===be&&(be=Float64Array),this.nodeSize=Te,this.points=ne;for(var Pe=ne.length<65536?Uint16Array:Uint32Array,Be=this.ids=new Pe(ne.length),Qe=this.coords=new be(2*ne.length),Ke=0;Ke<ne.length;Ke++)Be[Ke]=Ke,Qe[2*Ke]=ve(ne[Ke]),Qe[2*Ke+1]=xe(ne[Ke]);it(Be,Qe,Te,0,Be.length-1,0)};K.prototype.range=function(ne,ve,xe,Te){return function Z(ie,ne,ve,xe,Te,be,Pe){for(var Ke,tr,Be=[0,ie.length-1,0],Qe=[];Be.length;){var vr=Be.pop(),Ht=Be.pop(),Nt=Be.pop();if(Ht-Nt<=Pe)for(var Se=Nt;Se<=Ht;Se++)tr=ne[2*Se+1],(Ke=ne[2*Se])>=ve&&Ke<=Te&&tr>=xe&&tr<=be&&Qe.push(ie[Se]);else{var Le=Math.floor((Nt+Ht)/2);tr=ne[2*Le+1],(Ke=ne[2*Le])>=ve&&Ke<=Te&&tr>=xe&&tr<=be&&Qe.push(ie[Le]);var We=(vr+1)%2;(0===vr?ve<=Ke:xe<=tr)&&(Be.push(Nt),Be.push(Le-1),Be.push(We)),(0===vr?Te>=Ke:be>=tr)&&(Be.push(Le+1),Be.push(Ht),Be.push(We))}}return Qe}(this.ids,this.coords,ne,ve,xe,Te,this.nodeSize)},K.prototype.within=function(ne,ve,xe){return function H(ie,ne,ve,xe,Te,be){for(var Pe=[0,ie.length-1,0],Be=[],Qe=Te*Te;Pe.length;){var Ke=Pe.pop(),tr=Pe.pop(),vr=Pe.pop();if(tr-vr<=be)for(var Ht=vr;Ht<=tr;Ht++)X(ne[2*Ht],ne[2*Ht+1],ve,xe)<=Qe&&Be.push(ie[Ht]);else{var Nt=Math.floor((vr+tr)/2),Se=ne[2*Nt],Le=ne[2*Nt+1];X(Se,Le,ve,xe)<=Qe&&Be.push(ie[Nt]);var We=(Ke+1)%2;(0===Ke?ve-Te<=Se:xe-Te<=Le)&&(Pe.push(vr),Pe.push(Nt-1),Pe.push(We)),(0===Ke?ve+Te>=Se:xe+Te>=Le)&&(Pe.push(Nt+1),Pe.push(tr),Pe.push(We))}}return Be}(this.ids,this.coords,ne,ve,xe,this.nodeSize)};var nt={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(ie){return ie}},et=function(ne){this.options=St(Object.create(nt),ne),this.trees=new Array(this.options.maxZoom+1)};function st(ie,ne,ve,xe,Te){return{x:ie,y:ne,zoom:1/0,id:ve,parentId:-1,numPoints:xe,properties:Te}}function dt(ie,ne){var ve=ie.geometry.coordinates,Te=ve[1];return{x:Dt(ve[0]),y:Ft(Te),zoom:1/0,index:ne,parentId:-1}}function Tt(ie){return{type:"Feature",id:ie.id,properties:bt(ie),geometry:{type:"Point",coordinates:[Mt(ie.x),wt(ie.y)]}}}function bt(ie){var ne=ie.numPoints,ve=ne>=1e4?Math.round(ne/1e3)+"k":ne>=1e3?Math.round(ne/100)/10+"k":ne;return St(St({},ie.properties),{cluster:!0,cluster_id:ie.id,point_count:ne,point_count_abbreviated:ve})}function Dt(ie){return ie/360+.5}function Ft(ie){var ne=Math.sin(ie*Math.PI/180),ve=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return ve<0?0:ve>1?1:ve}function Mt(ie){return 360*(ie-.5)}function wt(ie){var ne=(180-360*ie)*Math.PI/180;return 360*Math.atan(Math.exp(ne))/Math.PI-90}function St(ie,ne){for(var ve in ne)ie[ve]=ne[ve];return ie}function Ut(ie){return ie.x}function Gt(ie){return ie.y}function Pt(ie,ne,ve,xe){for(var Be,Te=xe,be=ve-ne>>1,Pe=ve-ne,Qe=ie[ne],Ke=ie[ne+1],tr=ie[ve],vr=ie[ve+1],Ht=ne+3;Ht<ve;Ht+=3){var Nt=Vt(ie[Ht],ie[Ht+1],Qe,Ke,tr,vr);if(Nt>Te)Be=Ht,Te=Nt;else if(Nt===Te){var Se=Math.abs(Ht-be);Se<Pe&&(Be=Ht,Pe=Se)}}Te>xe&&(Be-ne>3&&Pt(ie,ne,Be,xe),ie[Be+2]=Te,ve-Be>3&&Pt(ie,Be,ve,xe))}function Vt(ie,ne,ve,xe,Te,be){var Pe=Te-ve,Be=be-xe;if(0!==Pe||0!==Be){var Qe=((ie-ve)*Pe+(ne-xe)*Be)/(Pe*Pe+Be*Be);Qe>1?(ve=Te,xe=be):Qe>0&&(ve+=Pe*Qe,xe+=Be*Qe)}return(Pe=ie-ve)*Pe+(Be=ne-xe)*Be}function te(ie,ne,ve,xe){var Te={id:void 0===ie?null:ie,type:ne,geometry:ve,tags:xe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function _t(ie){var ne=ie.geometry,ve=ie.type;if("Point"===ve||"MultiPoint"===ve||"LineString"===ve)kt(ie,ne);else if("Polygon"===ve||"MultiLineString"===ve)for(var xe=0;xe<ne.length;xe++)kt(ie,ne[xe]);else if("MultiPolygon"===ve)for(xe=0;xe<ne.length;xe++)for(var Te=0;Te<ne[xe].length;Te++)kt(ie,ne[xe][Te])}(Te),Te}function kt(ie,ne){for(var ve=0;ve<ne.length;ve+=3)ie.minX=Math.min(ie.minX,ne[ve]),ie.minY=Math.min(ie.minY,ne[ve+1]),ie.maxX=Math.max(ie.maxX,ne[ve]),ie.maxY=Math.max(ie.maxY,ne[ve+1])}function qt(ie,ne,ve,xe){if(ne.geometry){var Te=ne.geometry.coordinates,be=ne.geometry.type,Pe=Math.pow(ve.tolerance/((1<<ve.maxZoom)*ve.extent),2),Be=[],Qe=ne.id;if(ve.promoteId?Qe=ne.properties[ve.promoteId]:ve.generateId&&(Qe=xe||0),"Point"===be)ae(Te,Be);else if("MultiPoint"===be)for(var Ke=0;Ke<Te.length;Ke++)ae(Te[Ke],Be);else if("LineString"===be)oe(Te,Be,Pe,!1);else if("MultiLineString"===be){if(ve.lineMetrics){for(Ke=0;Ke<Te.length;Ke++)oe(Te[Ke],Be=[],Pe,!1),ie.push(te(Qe,"LineString",Be,ne.properties));return}pe(Te,Be,Pe,!1)}else if("Polygon"===be)pe(Te,Be,Pe,!0);else{if("MultiPolygon"!==be){if("GeometryCollection"===be){for(Ke=0;Ke<ne.geometry.geometries.length;Ke++)qt(ie,{id:Qe,geometry:ne.geometry.geometries[Ke],properties:ne.properties},ve,xe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ke=0;Ke<Te.length;Ke++){var tr=[];pe(Te[Ke],tr,Pe,!0),Be.push(tr)}}ie.push(te(Qe,be,Be,ne.properties))}}function ae(ie,ne){ne.push(ye(ie[0])),ne.push(Fe(ie[1])),ne.push(0)}function oe(ie,ne,ve,xe){for(var Te,be,Pe=0,Be=0;Be<ie.length;Be++){var Qe=ye(ie[Be][0]),Ke=Fe(ie[Be][1]);ne.push(Qe),ne.push(Ke),ne.push(0),Be>0&&(Pe+=xe?(Te*Ke-Qe*be)/2:Math.sqrt(Math.pow(Qe-Te,2)+Math.pow(Ke-be,2))),Te=Qe,be=Ke}var tr=ne.length-3;ne[2]=1,Pt(ne,0,tr,ve),ne[tr+2]=1,ne.size=Math.abs(Pe),ne.start=0,ne.end=ne.size}function pe(ie,ne,ve,xe){for(var Te=0;Te<ie.length;Te++){var be=[];oe(ie[Te],be,ve,xe),ne.push(be)}}function ye(ie){return ie/360+.5}function Fe(ie){var ne=Math.sin(ie*Math.PI/180),ve=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return ve<0?0:ve>1?1:ve}function Zt(ie,ne,ve,xe,Te,be,Pe,Be){if(xe/=ne,be>=(ve/=ne)&&Pe<xe)return ie;if(Pe<ve||be>=xe)return null;for(var Qe=[],Ke=0;Ke<ie.length;Ke++){var tr=ie[Ke],vr=tr.geometry,Ht=tr.type,Nt=0===Te?tr.minX:tr.minY,Se=0===Te?tr.maxX:tr.maxY;if(Nt>=ve&&Se<xe)Qe.push(tr);else if(!(Se<ve||Nt>=xe)){var Le=[];if("Point"===Ht||"MultiPoint"===Ht)Ct(vr,Le,ve,xe,Te);else if("LineString"===Ht)Et(vr,Le,ve,xe,Te,!1,Be.lineMetrics);else if("MultiLineString"===Ht)Ot(vr,Le,ve,xe,Te,!1);else if("Polygon"===Ht)Ot(vr,Le,ve,xe,Te,!0);else if("MultiPolygon"===Ht)for(var We=0;We<vr.length;We++){var rr=[];Ot(vr[We],rr,ve,xe,Te,!0),rr.length&&Le.push(rr)}if(Le.length){if(Be.lineMetrics&&"LineString"===Ht){for(We=0;We<Le.length;We++)Qe.push(te(tr.id,Ht,Le[We],tr.tags));continue}("LineString"===Ht||"MultiLineString"===Ht)&&(1===Le.length?(Ht="LineString",Le=Le[0]):Ht="MultiLineString"),("Point"===Ht||"MultiPoint"===Ht)&&(Ht=3===Le.length?"Point":"MultiPoint"),Qe.push(te(tr.id,Ht,Le,tr.tags))}}}return Qe.length?Qe:null}function Ct(ie,ne,ve,xe,Te){for(var be=0;be<ie.length;be+=3){var Pe=ie[be+Te];Pe>=ve&&Pe<=xe&&(ne.push(ie[be]),ne.push(ie[be+1]),ne.push(ie[be+2]))}}function Et(ie,ne,ve,xe,Te,be,Pe){for(var tr,vr,Be=Rt(ie),Qe=0===Te?gt:pt,Ke=ie.start,Ht=0;Ht<ie.length-3;Ht+=3){var Nt=ie[Ht],Se=ie[Ht+1],Le=ie[Ht+2],We=ie[Ht+3],rr=ie[Ht+4],or=0===Te?Nt:Se,qe=0===Te?We:rr,De=!1;Pe&&(tr=Math.sqrt(Math.pow(Nt-We,2)+Math.pow(Se-rr,2))),or<ve?qe>ve&&(vr=Qe(Be,Nt,Se,We,rr,ve),Pe&&(Be.start=Ke+tr*vr)):or>xe?qe<xe&&(vr=Qe(Be,Nt,Se,We,rr,xe),Pe&&(Be.start=Ke+tr*vr)):It(Be,Nt,Se,Le),qe<ve&&or>=ve&&(vr=Qe(Be,Nt,Se,We,rr,ve),De=!0),qe>xe&&or<=xe&&(vr=Qe(Be,Nt,Se,We,rr,xe),De=!0),!be&&De&&(Pe&&(Be.end=Ke+tr*vr),ne.push(Be),Be=Rt(ie)),Pe&&(Ke+=tr)}var sr=ie.length-3;Nt=ie[sr],Se=ie[sr+1],Le=ie[sr+2],(or=0===Te?Nt:Se)>=ve&&or<=xe&&It(Be,Nt,Se,Le),sr=Be.length-3,be&&sr>=3&&(Be[sr]!==Be[0]||Be[sr+1]!==Be[1])&&It(Be,Be[0],Be[1],Be[2]),Be.length&&ne.push(Be)}function Rt(ie){var ne=[];return ne.size=ie.size,ne.start=ie.start,ne.end=ie.end,ne}function Ot(ie,ne,ve,xe,Te,be){for(var Pe=0;Pe<ie.length;Pe++)Et(ie[Pe],ne,ve,xe,Te,be,!1)}function It(ie,ne,ve,xe){ie.push(ne),ie.push(ve),ie.push(xe)}function gt(ie,ne,ve,xe,Te,be){var Pe=(be-ne)/(xe-ne);return ie.push(be),ie.push(ve+(Te-ve)*Pe),ie.push(1),Pe}function pt(ie,ne,ve,xe,Te,be){var Pe=(be-ve)/(Te-ve);return ie.push(ne+(xe-ne)*Pe),ie.push(be),ie.push(1),Pe}function yt(ie,ne){for(var ve=[],xe=0;xe<ie.length;xe++){var Pe,Te=ie[xe],be=Te.type;if("Point"===be||"MultiPoint"===be||"LineString"===be)Pe=Yt(Te.geometry,ne);else if("MultiLineString"===be||"Polygon"===be){Pe=[];for(var Be=0;Be<Te.geometry.length;Be++)Pe.push(Yt(Te.geometry[Be],ne))}else if("MultiPolygon"===be)for(Pe=[],Be=0;Be<Te.geometry.length;Be++){for(var Qe=[],Ke=0;Ke<Te.geometry[Be].length;Ke++)Qe.push(Yt(Te.geometry[Be][Ke],ne));Pe.push(Qe)}ve.push(te(Te.id,be,Pe,Te.tags))}return ve}function Yt(ie,ne){var ve=[];ve.size=ie.size,void 0!==ie.start&&(ve.start=ie.start,ve.end=ie.end);for(var xe=0;xe<ie.length;xe+=3)ve.push(ie[xe]+ne,ie[xe+1],ie[xe+2]);return ve}function Qt(ie,ne){if(ie.transformed)return ie;var be,Pe,Be,ve=1<<ie.z,xe=ie.x,Te=ie.y;for(be=0;be<ie.features.length;be++){var Qe=ie.features[be],Ke=Qe.geometry,tr=Qe.type;if(Qe.geometry=[],1===tr)for(Pe=0;Pe<Ke.length;Pe+=2)Qe.geometry.push(le(Ke[Pe],Ke[Pe+1],ne,ve,xe,Te));else for(Pe=0;Pe<Ke.length;Pe++){var vr=[];for(Be=0;Be<Ke[Pe].length;Be+=2)vr.push(le(Ke[Pe][Be],Ke[Pe][Be+1],ne,ve,xe,Te));Qe.geometry.push(vr)}}return ie.transformed=!0,ie}function le(ie,ne,ve,xe,Te,be){return[Math.round(ve*(ie*xe-Te)),Math.round(ve*(ne*xe-be))]}function he(ie,ne,ve,xe,Te){for(var be=ne===Te.maxZoom?0:Te.tolerance/((1<<ne)*Te.extent),Pe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:ve,y:xe,z:ne,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Be=0;Be<ie.length;Be++){Pe.numFeatures++,ke(Pe,ie[Be],be,Te);var Qe=ie[Be].minX,Ke=ie[Be].minY,tr=ie[Be].maxX,vr=ie[Be].maxY;Qe<Pe.minX&&(Pe.minX=Qe),Ke<Pe.minY&&(Pe.minY=Ke),tr>Pe.maxX&&(Pe.maxX=tr),vr>Pe.maxY&&(Pe.maxY=vr)}return Pe}function ke(ie,ne,ve,xe){var Te=ne.geometry,be=ne.type,Pe=[];if("Point"===be||"MultiPoint"===be)for(var Be=0;Be<Te.length;Be+=3)Pe.push(Te[Be]),Pe.push(Te[Be+1]),ie.numPoints++,ie.numSimplified++;else if("LineString"===be)Oe(Pe,Te,ie,ve,!1,!1);else if("MultiLineString"===be||"Polygon"===be)for(Be=0;Be<Te.length;Be++)Oe(Pe,Te[Be],ie,ve,"Polygon"===be,0===Be);else if("MultiPolygon"===be)for(var Qe=0;Qe<Te.length;Qe++){var Ke=Te[Qe];for(Be=0;Be<Ke.length;Be++)Oe(Pe,Ke[Be],ie,ve,!0,0===Be)}if(Pe.length){var tr=ne.tags||null;if("LineString"===be&&xe.lineMetrics){for(var vr in tr={},ne.tags)tr[vr]=ne.tags[vr];tr.mapbox_clip_start=Te.start/Te.size,tr.mapbox_clip_end=Te.end/Te.size}var Ht={geometry:Pe,type:"Polygon"===be||"MultiPolygon"===be?3:"LineString"===be||"MultiLineString"===be?2:1,tags:tr};null!==ne.id&&(Ht.id=ne.id),ie.features.push(Ht)}}function Oe(ie,ne,ve,xe,Te,be){var Pe=xe*xe;if(xe>0&&ne.size<(Te?Pe:xe))ve.numPoints+=ne.length/3;else{for(var Be=[],Qe=0;Qe<ne.length;Qe+=3)(0===xe||ne[Qe+2]>Pe)&&(ve.numSimplified++,Be.push(ne[Qe]),Be.push(ne[Qe+1])),ve.numPoints++;Te&&function Ae(ie,ne){for(var ve=0,xe=0,Te=ie.length,be=Te-2;xe<Te;be=xe,xe+=2)ve+=(ie[xe]-ie[be])*(ie[xe+1]+ie[be+1]);if(ve>0===ne)for(xe=0,Te=ie.length;xe<Te/2;xe+=2){var Pe=ie[xe],Be=ie[xe+1];ie[xe]=ie[Te-2-xe],ie[xe+1]=ie[Te-1-xe],ie[Te-2-xe]=Pe,ie[Te-1-xe]=Be}}(Be,be),ie.push(Be)}}function Ze(ie,ne){var ve=(ne=this.options=function fe(ie,ne){for(var ve in ne)ie[ve]=ne[ve];return ie}(Object.create(this.options),ne)).debug;if(ve&&console.time("preprocess data"),ne.maxZoom<0||ne.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ne.promoteId&&ne.generateId)throw new Error("promoteId and generateId cannot be used together.");var xe=function zt(ie,ne){var ve=[];if("FeatureCollection"===ie.type)for(var xe=0;xe<ie.features.length;xe++)qt(ve,ie.features[xe],ne,xe);else qt(ve,"Feature"===ie.type?ie:{geometry:ie},ne);return ve}(ie,ne);this.tiles={},this.tileCoords=[],ve&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ne.indexMaxZoom,ne.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(xe=function vt(ie,ne){var ve=ne.buffer/ne.extent,xe=ie,Te=Zt(ie,1,-1-ve,ve,0,-1,2,ne),be=Zt(ie,1,1-ve,2+ve,0,-1,2,ne);return(Te||be)&&(xe=Zt(ie,1,-ve,1+ve,0,-1,2,ne)||[],Te&&(xe=yt(Te,1).concat(xe)),be&&(xe=xe.concat(yt(be,-1)))),xe}(xe,ne)).length&&this.splitTile(xe,0,0,0),ve&&(xe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Lr(ie,ne,ve){return 32*((1<<ie)*ve+ne)+ie}function Ve(ie,ne){var ve=ie.tileID.canonical;if(!this._geoJSONIndex)return ne(null,null);var xe=this._geoJSONIndex.getTile(ve.z,ve.x,ve.y);if(!xe)return ne(null,null);var Te=new T(xe.features),be=n(Te);(0!==be.byteOffset||be.byteLength!==be.buffer.byteLength)&&(be=new Uint8Array(be)),ne(null,{vectorTile:Te,rawData:be.buffer})}et.prototype.load=function(ne){var ve=this.options,xe=ve.log,Te=ve.minZoom,be=ve.maxZoom,Pe=ve.nodeSize;xe&&console.time("total time");var Be="prepare "+ne.length+" points";xe&&console.time(Be),this.points=ne;for(var Qe=[],Ke=0;Ke<ne.length;Ke++)!ne[Ke].geometry||Qe.push(dt(ne[Ke],Ke));this.trees[be+1]=new K(Qe,Ut,Gt,Pe,Float32Array),xe&&console.timeEnd(Be);for(var tr=be;tr>=Te;tr--){var vr=+Date.now();Qe=this._cluster(Qe,tr),this.trees[tr]=new K(Qe,Ut,Gt,Pe,Float32Array),xe&&console.log("z%d: %d clusters in %dms",tr,Qe.length,+Date.now()-vr)}return xe&&console.timeEnd("total time"),this},et.prototype.getClusters=function(ne,ve){var xe=((ne[0]+180)%360+360)%360-180,Te=Math.max(-90,Math.min(90,ne[1])),be=180===ne[2]?180:((ne[2]+180)%360+360)%360-180,Pe=Math.max(-90,Math.min(90,ne[3]));if(ne[2]-ne[0]>=360)xe=-180,be=180;else if(xe>be){var Be=this.getClusters([xe,Te,180,Pe],ve),Qe=this.getClusters([-180,Te,be,Pe],ve);return Be.concat(Qe)}for(var Ke=this.trees[this._limitZoom(ve)],vr=[],Ht=0,Nt=Ke.range(Dt(xe),Ft(Pe),Dt(be),Ft(Te));Ht<Nt.length;Ht+=1){var Le=Ke.points[Nt[Ht]];vr.push(Le.numPoints?Tt(Le):this.points[Le.index])}return vr},et.prototype.getChildren=function(ne){var ve=this._getOriginId(ne),xe=this._getOriginZoom(ne),Te="No cluster with the specified id.",be=this.trees[xe];if(!be)throw new Error(Te);var Pe=be.points[ve];if(!Pe)throw new Error(Te);for(var Be=this.options.radius/(this.options.extent*Math.pow(2,xe-1)),Ke=[],tr=0,vr=be.within(Pe.x,Pe.y,Be);tr<vr.length;tr+=1){var Nt=be.points[vr[tr]];Nt.parentId===ne&&Ke.push(Nt.numPoints?Tt(Nt):this.points[Nt.index])}if(0===Ke.length)throw new Error(Te);return Ke},et.prototype.getLeaves=function(ne,ve,xe){var Te=[];return this._appendLeaves(Te,ne,ve=ve||10,xe=xe||0,0),Te},et.prototype.getTile=function(ne,ve,xe){var Te=this.trees[this._limitZoom(ne)],be=Math.pow(2,ne),Pe=this.options,Ke=Pe.radius/Pe.extent,tr=(xe-Ke)/be,vr=(xe+1+Ke)/be,Ht={features:[]};return this._addTileFeatures(Te.range((ve-Ke)/be,tr,(ve+1+Ke)/be,vr),Te.points,ve,xe,be,Ht),0===ve&&this._addTileFeatures(Te.range(1-Ke/be,tr,1,vr),Te.points,be,xe,be,Ht),ve===be-1&&this._addTileFeatures(Te.range(0,tr,Ke/be,vr),Te.points,-1,xe,be,Ht),Ht.features.length?Ht:null},et.prototype.getClusterExpansionZoom=function(ne){for(var ve=this._getOriginZoom(ne)-1;ve<=this.options.maxZoom;){var xe=this.getChildren(ne);if(ve++,1!==xe.length)break;ne=xe[0].properties.cluster_id}return ve},et.prototype._appendLeaves=function(ne,ve,xe,Te,be){for(var Be=0,Qe=this.getChildren(ve);Be<Qe.length;Be+=1){var Ke=Qe[Be],tr=Ke.properties;if(tr&&tr.cluster?be+tr.point_count<=Te?be+=tr.point_count:be=this._appendLeaves(ne,tr.cluster_id,xe,Te,be):be<Te?be++:ne.push(Ke),ne.length===xe)break}return be},et.prototype._addTileFeatures=function(ne,ve,xe,Te,be,Pe){for(var Be=0,Qe=ne;Be<Qe.length;Be+=1){var tr=ve[Qe[Be]],vr=tr.numPoints,Ht={type:1,geometry:[[Math.round(this.options.extent*(tr.x*be-xe)),Math.round(this.options.extent*(tr.y*be-Te))]],tags:vr?bt(tr):this.points[tr.index].properties},Nt=void 0;vr?Nt=tr.id:this.options.generateId?Nt=tr.index:this.points[tr.index].id&&(Nt=this.points[tr.index].id),void 0!==Nt&&(Ht.id=Nt),Pe.features.push(Ht)}},et.prototype._limitZoom=function(ne){return Math.max(this.options.minZoom,Math.min(ne,this.options.maxZoom+1))},et.prototype._cluster=function(ne,ve){for(var xe=[],Te=this.options,Be=Te.reduce,Qe=Te.radius/(Te.extent*Math.pow(2,ve)),Ke=0;Ke<ne.length;Ke++){var tr=ne[Ke];if(!(tr.zoom<=ve)){tr.zoom=ve;for(var vr=this.trees[ve+1],Ht=vr.within(tr.x,tr.y,Qe),Nt=tr.numPoints||1,Se=tr.x*Nt,Le=tr.y*Nt,We=Be&&Nt>1?this._map(tr,!0):null,rr=(Ke<<5)+(ve+1)+this.points.length,or=0,qe=Ht;or<qe.length;or+=1){var sr=vr.points[qe[or]];if(!(sr.zoom<=ve)){sr.zoom=ve;var gr=sr.numPoints||1;Se+=sr.x*gr,Le+=sr.y*gr,Nt+=gr,sr.parentId=rr,Be&&(We||(We=this._map(tr,!0)),Be(We,this._map(sr)))}}1===Nt?xe.push(tr):(tr.parentId=rr,xe.push(st(Se/Nt,Le/Nt,rr,Nt,We)))}}return xe},et.prototype._getOriginId=function(ne){return ne-this.points.length>>5},et.prototype._getOriginZoom=function(ne){return(ne-this.points.length)%32},et.prototype._map=function(ne,ve){if(ne.numPoints)return ve?St({},ne.properties):ne.properties;var xe=this.points[ne.index].properties,Te=this.options.map(xe);return ve&&Te===xe?St({},Te):Te},Ze.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ze.prototype.splitTile=function(ie,ne,ve,xe,Te,be,Pe){for(var Be=[ie,ne,ve,xe],Qe=this.options,Ke=Qe.debug;Be.length;){xe=Be.pop(),ve=Be.pop(),ne=Be.pop(),ie=Be.pop();var tr=1<<ne,vr=Lr(ne,ve,xe),Ht=this.tiles[vr];if(!Ht&&(Ke>1&&console.time("creation"),Ht=this.tiles[vr]=he(ie,ne,ve,xe,Qe),this.tileCoords.push({z:ne,x:ve,y:xe}),Ke)){Ke>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ne,ve,xe,Ht.numFeatures,Ht.numPoints,Ht.numSimplified),console.timeEnd("creation"));var Nt="z"+ne;this.stats[Nt]=(this.stats[Nt]||0)+1,this.total++}if(Ht.source=ie,Te){if(ne===Qe.maxZoom||ne===Te)continue;var Se=1<<Te-ne;if(ve!==Math.floor(be/Se)||xe!==Math.floor(Pe/Se))continue}else if(ne===Qe.indexMaxZoom||Ht.numPoints<=Qe.indexMaxPoints)continue;if(Ht.source=null,0!==ie.length){Ke>1&&console.time("clipping");var qe,De,sr,gr,dr,Pr,Le=.5*Qe.buffer/Qe.extent,We=.5-Le,rr=.5+Le,or=1+Le;qe=De=sr=gr=null,dr=Zt(ie,tr,ve-Le,ve+rr,0,Ht.minX,Ht.maxX,Qe),Pr=Zt(ie,tr,ve+We,ve+or,0,Ht.minX,Ht.maxX,Qe),ie=null,dr&&(qe=Zt(dr,tr,xe-Le,xe+rr,1,Ht.minY,Ht.maxY,Qe),De=Zt(dr,tr,xe+We,xe+or,1,Ht.minY,Ht.maxY,Qe),dr=null),Pr&&(sr=Zt(Pr,tr,xe-Le,xe+rr,1,Ht.minY,Ht.maxY,Qe),gr=Zt(Pr,tr,xe+We,xe+or,1,Ht.minY,Ht.maxY,Qe),Pr=null),Ke>1&&console.timeEnd("clipping"),Be.push(qe||[],ne+1,2*ve,2*xe),Be.push(De||[],ne+1,2*ve,2*xe+1),Be.push(sr||[],ne+1,2*ve+1,2*xe),Be.push(gr||[],ne+1,2*ve+1,2*xe+1)}}},Ze.prototype.getTile=function(ie,ne,ve){var xe=this.options,Te=xe.extent,be=xe.debug;if(ie<0||ie>24)return null;var Pe=1<<ie,Be=Lr(ie,ne=(ne%Pe+Pe)%Pe,ve);if(this.tiles[Be])return Qt(this.tiles[Be],Te);be>1&&console.log("drilling down to z%d-%d-%d",ie,ne,ve);for(var vr,Qe=ie,Ke=ne,tr=ve;!vr&&Qe>0;)Qe--,Ke=Math.floor(Ke/2),tr=Math.floor(tr/2),vr=this.tiles[Lr(Qe,Ke,tr)];return vr&&vr.source?(be>1&&console.log("found parent tile z%d-%d-%d",Qe,Ke,tr),be>1&&console.time("drilling down"),this.splitTile(vr.source,Qe,Ke,tr,ie,ne,ve),be>1&&console.timeEnd("drilling down"),this.tiles[Be]?Qt(this.tiles[Be],Te):null):null};var He=function(ie){function ne(ve,xe,Te,be){ie.call(this,ve,xe,Te,Ve),be&&(this.loadGeoJSON=be)}return ie&&(ne.__proto__=ie),(ne.prototype=Object.create(ie&&ie.prototype)).constructor=ne,ne.prototype.loadData=function(xe,Te){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Te,this._pendingLoadDataParams=xe,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ne.prototype._loadData=function(){var xe=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Te=this._pendingCallback,be=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Pe=!!(be&&be.request&&be.request.collectResourceTiming)&&new i.RequestPerformance(be.request);this.loadGeoJSON(be,function(Be,Qe){if(Be||!Qe)return Te(Be);if("object"!=typeof Qe)return Te(new Error("Input data given to '"+be.source+"' is not a valid GeoJSON object."));v(Qe,!0);try{xe._geoJSONIndex=be.cluster?new et(function wr(ie){var ne=ie.superclusterOptions,ve=ie.clusterProperties;if(!ve||!ne)return ne;for(var xe={},Te={},be={accumulated:null,zoom:0},Pe={properties:null},Be=Object.keys(ve),Qe=0,Ke=Be;Qe<Ke.length;Qe+=1){var tr=Ke[Qe],vr=ve[tr],Ht=vr[0],Se=i.createExpression(vr[1]),Le=i.createExpression("string"==typeof Ht?[Ht,["accumulated"],["get",tr]]:Ht);xe[tr]=Se.value,Te[tr]=Le.value}return ne.map=function(We){Pe.properties=We;for(var rr={},or=0,qe=Be;or<qe.length;or+=1){var De=qe[or];rr[De]=xe[De].evaluate(be,Pe)}return rr},ne.reduce=function(We,rr){Pe.properties=rr;for(var or=0,qe=Be;or<qe.length;or+=1){var De=qe[or];be.accumulated=We[De],We[De]=Te[De].evaluate(be,Pe)}},ne}(be)).load(Qe.features):function je(ie,ne){return new Ze(ie,ne)}(Qe,be.geojsonVtOptions)}catch(vr){return Te(vr)}xe.loaded={};var Ke={};if(Pe){var tr=Pe.finish();tr&&(Ke.resourceTiming={},Ke.resourceTiming[be.source]=JSON.parse(JSON.stringify(tr)))}Te(null,Ke)})}},ne.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},ne.prototype.reloadTile=function(xe,Te){var be=this.loaded;return be&&be[xe.uid]?ie.prototype.reloadTile.call(this,xe,Te):this.loadTile(xe,Te)},ne.prototype.loadGeoJSON=function(xe,Te){if(xe.request)i.getJSON(xe.request,Te);else{if("string"!=typeof xe.data)return Te(new Error("Input data given to '"+xe.source+"' is not a valid GeoJSON object."));try{return Te(null,JSON.parse(xe.data))}catch(be){return Te(new Error("Input data given to '"+xe.source+"' is not a valid GeoJSON object."))}}},ne.prototype.removeSource=function(xe,Te){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Te()},ne.prototype.getClusterExpansionZoom=function(xe,Te){try{Te(null,this._geoJSONIndex.getClusterExpansionZoom(xe.clusterId))}catch(be){Te(be)}},ne.prototype.getClusterChildren=function(xe,Te){try{Te(null,this._geoJSONIndex.getChildren(xe.clusterId))}catch(be){Te(be)}},ne.prototype.getClusterLeaves=function(xe,Te){try{Te(null,this._geoJSONIndex.getLeaves(xe.clusterId,xe.limit,xe.offset))}catch(be){Te(be)}},ne}(c);var ar=function(ne){var ve=this;this.self=ne,this.actor=new i.Actor(ne,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:c,geojson:He},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(xe,Te){if(ve.workerSourceTypes[xe])throw new Error('Worker source with name "'+xe+'" already registered.');ve.workerSourceTypes[xe]=Te},this.self.registerRTLTextPlugin=function(xe){if(i.plugin.isParsed())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=xe.applyArabicShaping,i.plugin.processBidirectionalText=xe.processBidirectionalText,i.plugin.processStyledBidirectionalText=xe.processStyledBidirectionalText}};return ar.prototype.setReferrer=function(ne,ve){this.referrer=ve},ar.prototype.setImages=function(ne,ve,xe){for(var Te in this.availableImages[ne]=ve,this.workerSources[ne]){var be=this.workerSources[ne][Te];for(var Pe in be)be[Pe].availableImages=ve}xe()},ar.prototype.setLayers=function(ne,ve,xe){this.getLayerIndex(ne).replace(ve),xe()},ar.prototype.updateLayers=function(ne,ve,xe){this.getLayerIndex(ne).update(ve.layers,ve.removedIds),xe()},ar.prototype.loadTile=function(ne,ve,xe){this.getWorkerSource(ne,ve.type,ve.source).loadTile(ve,xe)},ar.prototype.loadDEMTile=function(ne,ve,xe){this.getDEMWorkerSource(ne,ve.source).loadTile(ve,xe)},ar.prototype.reloadTile=function(ne,ve,xe){this.getWorkerSource(ne,ve.type,ve.source).reloadTile(ve,xe)},ar.prototype.abortTile=function(ne,ve,xe){this.getWorkerSource(ne,ve.type,ve.source).abortTile(ve,xe)},ar.prototype.removeTile=function(ne,ve,xe){this.getWorkerSource(ne,ve.type,ve.source).removeTile(ve,xe)},ar.prototype.removeDEMTile=function(ne,ve){this.getDEMWorkerSource(ne,ve.source).removeTile(ve)},ar.prototype.removeSource=function(ne,ve,xe){if(this.workerSources[ne]&&this.workerSources[ne][ve.type]&&this.workerSources[ne][ve.type][ve.source]){var Te=this.workerSources[ne][ve.type][ve.source];delete this.workerSources[ne][ve.type][ve.source],void 0!==Te.removeSource?Te.removeSource(ve,xe):xe()}},ar.prototype.loadWorkerSource=function(ne,ve,xe){try{this.self.importScripts(ve.url),xe()}catch(Te){xe(Te.toString())}},ar.prototype.syncRTLPluginState=function(ne,ve,xe){try{i.plugin.setState(ve);var Te=i.plugin.getPluginURL();if(i.plugin.isLoaded()&&!i.plugin.isParsed()&&null!=Te){this.self.importScripts(Te);var be=i.plugin.isParsed();xe(be?void 0:new Error("RTL Text Plugin failed to import scripts from "+Te),be)}}catch(Be){xe(Be.toString())}},ar.prototype.getAvailableImages=function(ne){var ve=this.availableImages[ne];return ve||(ve=[]),ve},ar.prototype.getLayerIndex=function(ne){var ve=this.layerIndexes[ne];return ve||(ve=this.layerIndexes[ne]=new x),ve},ar.prototype.getWorkerSource=function(ne,ve,xe){var Te=this;return this.workerSources[ne]||(this.workerSources[ne]={}),this.workerSources[ne][ve]||(this.workerSources[ne][ve]={}),this.workerSources[ne][ve][xe]||(this.workerSources[ne][ve][xe]=new this.workerSourceTypes[ve]({send:function(Pe,Be,Qe){Te.actor.send(Pe,Be,Qe,ne)}},this.getLayerIndex(ne),this.getAvailableImages(ne))),this.workerSources[ne][ve][xe]},ar.prototype.getDEMWorkerSource=function(ne,ve){return this.demWorkerSources[ne]||(this.demWorkerSources[ne]={}),this.demWorkerSources[ne][ve]||(this.demWorkerSources[ne][ve]=new y),this.demWorkerSources[ne][ve]},ar.prototype.enforceCacheSizeLimit=function(ne,ve){i.enforceCacheSizeLimit(ve)},"undefined"!=typeof WorkerGlobalScope&&void 0!==i.window&&i.window instanceof WorkerGlobalScope&&(i.window.worker=new ar(i.window)),ar}),g(0,function(i){var P=i.createCommonjsModule(function(lt){function Y(Ur){return!ct(Ur)}function ct(Ur){return function $(){return"undefined"!=typeof window&&"undefined"!=typeof document}()?function ht(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}()?function Lt(){return Function.prototype&&Function.prototype.bind}()?function Wt(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}()?function re(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}()?function de(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var fn,Mn,Ur=new Blob([""],{type:"text/javascript"}),Kr=URL.createObjectURL(Ur);try{Mn=new Worker(Kr),fn=!0}catch(Rn){fn=!1}return Mn&&Mn.terminate(),URL.revokeObjectURL(Kr),fn}()?function Ie(){return"Uint8ClampedArray"in window}()?function Je(){return ArrayBuffer.isView}()?function fr(){var Ur=document.createElement("canvas");Ur.width=Ur.height=1;var Kr=Ur.getContext("2d");if(!Kr)return!1;var fn=Kr.getImageData(0,0,1,1);return fn&&fn.width===Ur.width}()?function Ir(Ur){return void 0===mr[Ur]&&(mr[Ur]=function Wr(Ur){var Kr=function Gr(Ur){var Kr=document.createElement("canvas"),fn=Object.create(Y.webGLContextAttributes);return fn.failIfMajorPerformanceCaveat=Ur,Kr.probablySupportsContext?Kr.probablySupportsContext("webgl",fn)||Kr.probablySupportsContext("experimental-webgl",fn):Kr.supportsContext?Kr.supportsContext("webgl",fn)||Kr.supportsContext("experimental-webgl",fn):Kr.getContext("webgl",fn)||Kr.getContext("experimental-webgl",fn)}(Ur);if(!Kr)return!1;var fn=Kr.createShader(Kr.VERTEX_SHADER);return!(!fn||Kr.isContextLost())&&(Kr.shaderSource(fn,"void main() {}"),Kr.compileShader(fn),!0===Kr.getShaderParameter(fn,Kr.COMPILE_STATUS))}(Ur)),mr[Ur]}(Ur&&Ur.failIfMajorPerformanceCaveat)?void 0:"insufficient WebGL support":"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser"}lt.exports?lt.exports=Y:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Y,window.mapboxgl.notSupportedReason=ct);var mr={};Y.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),E={create:function(lt,Y,ct){var $=i.window.document.createElement(lt);return void 0!==Y&&($.className=Y),ct&&ct.appendChild($),$},createNS:function(lt,Y){return i.window.document.createElementNS(lt,Y)}},l=i.window.document.documentElement.style;function x(lt){if(!l)return lt[0];for(var Y=0;Y<lt.length;Y++)if(lt[Y]in l)return lt[Y];return lt[0]}var r,e=x(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);E.disableDrag=function(){l&&e&&(r=l[e],l[e]="none")},E.enableDrag=function(){l&&e&&(l[e]=r)};var f=x(["transform","WebkitTransform"]);E.setTransform=function(lt,Y){lt.style[f]=Y};var a=!1;try{var s=Object.defineProperty({},"passive",{get:function(){a=!0}});i.window.addEventListener("test",s,s),i.window.removeEventListener("test",s,s)}catch(lt){a=!1}E.addEventListener=function(lt,Y,ct,$){void 0===$&&($={}),lt.addEventListener(Y,ct,"passive"in $&&a?$:$.capture)},E.removeEventListener=function(lt,Y,ct,$){void 0===$&&($={}),lt.removeEventListener(Y,ct,"passive"in $&&a?$:$.capture)};var c=function(lt){lt.preventDefault(),lt.stopPropagation(),i.window.removeEventListener("click",c,!0)};function y(lt){var Y=lt.userImage;return!!(Y&&Y.render&&Y.render())&&(lt.data.replace(new Uint8Array(Y.data.buffer)),!0)}E.suppressClick=function(){i.window.addEventListener("click",c,!0),i.window.setTimeout(function(){i.window.removeEventListener("click",c,!0)},0)},E.mousePos=function(lt,Y){var ct=lt.getBoundingClientRect();return new i.Point(Y.clientX-ct.left-lt.clientLeft,Y.clientY-ct.top-lt.clientTop)},E.touchPos=function(lt,Y){for(var ct=lt.getBoundingClientRect(),$=[],ht=0;ht<Y.length;ht++)$.push(new i.Point(Y[ht].clientX-ct.left-lt.clientLeft,Y[ht].clientY-ct.top-lt.clientTop));return $},E.mouseButton=function(lt){return void 0!==i.window.InstallTrigger&&2===lt.button&&lt.ctrlKey&&i.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:lt.button},E.remove=function(lt){lt.parentNode&&lt.parentNode.removeChild(lt)};var w=function(lt){function Y(){lt.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.RGBAImage({width:1,height:1}),this.dirty=!0}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.isLoaded=function(){return this.loaded},Y.prototype.setLoaded=function($){if(this.loaded!==$&&(this.loaded=$,$)){for(var ht=0,Lt=this.requestors;ht<Lt.length;ht+=1){var Wt=Lt[ht];this._notify(Wt.ids,Wt.callback)}this.requestors=[]}},Y.prototype.getImage=function($){return this.images[$]},Y.prototype.addImage=function($,ht){this._validate($,ht)&&(this.images[$]=ht)},Y.prototype._validate=function($,ht){var Lt=!0;return this._validateStretch(ht.stretchX,ht.data&&ht.data.width)||(this.fire(new i.ErrorEvent(new Error('Image "'+$+'" has invalid "stretchX" value'))),Lt=!1),this._validateStretch(ht.stretchY,ht.data&&ht.data.height)||(this.fire(new i.ErrorEvent(new Error('Image "'+$+'" has invalid "stretchY" value'))),Lt=!1),this._validateContent(ht.content,ht)||(this.fire(new i.ErrorEvent(new Error('Image "'+$+'" has invalid "content" value'))),Lt=!1),Lt},Y.prototype._validateStretch=function($,ht){if(!$)return!0;for(var Lt=0,Wt=0,re=$;Wt<re.length;Wt+=1){var de=re[Wt];if(de[0]<Lt||de[1]<de[0]||ht<de[1])return!1;Lt=de[1]}return!0},Y.prototype._validateContent=function($,ht){return!$||!(4!==$.length||$[0]<0||ht.data.width<$[0]||$[1]<0||ht.data.height<$[1]||$[2]<0||ht.data.width<$[2]||$[3]<0||ht.data.height<$[3]||$[2]<$[0]||$[3]<$[1])},Y.prototype.updateImage=function($,ht){ht.version=this.images[$].version+1,this.images[$]=ht,this.updatedImages[$]=!0},Y.prototype.removeImage=function($){var ht=this.images[$];delete this.images[$],delete this.patterns[$],ht.userImage&&ht.userImage.onRemove&&ht.userImage.onRemove()},Y.prototype.listImages=function(){return Object.keys(this.images)},Y.prototype.getImages=function($,ht){var Lt=!0;if(!this.isLoaded())for(var Wt=0,re=$;Wt<re.length;Wt+=1)this.images[re[Wt]]||(Lt=!1);this.isLoaded()||Lt?this._notify($,ht):this.requestors.push({ids:$,callback:ht})},Y.prototype._notify=function($,ht){for(var Lt={},Wt=0,re=$;Wt<re.length;Wt+=1){var de=re[Wt];this.images[de]||this.fire(new i.Event("styleimagemissing",{id:de}));var Ie=this.images[de];Ie?Lt[de]={data:Ie.data.clone(),pixelRatio:Ie.pixelRatio,sdf:Ie.sdf,version:Ie.version,stretchX:Ie.stretchX,stretchY:Ie.stretchY,content:Ie.content,hasRenderCallback:Boolean(Ie.userImage&&Ie.userImage.render)}:i.warnOnce('Image "'+de+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ht(null,Lt)},Y.prototype.getPixelSize=function(){var $=this.atlasImage;return{width:$.width,height:$.height}},Y.prototype.getPattern=function($){var ht=this.patterns[$],Lt=this.getImage($);if(!Lt)return null;if(ht&&ht.position.version===Lt.version)return ht.position;if(ht)ht.position.version=Lt.version;else{var de={w:Lt.data.width+2,h:Lt.data.height+2,x:0,y:0},Ie=new i.ImagePosition(de,Lt);this.patterns[$]={bin:de,position:Ie}}return this._updatePatternAtlas(),this.patterns[$].position},Y.prototype.bind=function($){var ht=$.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.Texture($,this.atlasImage,ht.RGBA),this.atlasTexture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE)},Y.prototype._updatePatternAtlas=function(){var $=[];for(var ht in this.patterns)$.push(this.patterns[ht].bin);var Lt=i.potpack($),Wt=Lt.w,re=Lt.h,de=this.atlasImage;for(var Ie in de.resize({width:Wt||1,height:re||1}),this.patterns){var fr=this.patterns[Ie].bin,mr=fr.x+1,Ir=fr.y+1,Gr=this.images[Ie].data,Wr=Gr.width,Ur=Gr.height;i.RGBAImage.copy(Gr,de,{x:0,y:0},{x:mr,y:Ir},{width:Wr,height:Ur}),i.RGBAImage.copy(Gr,de,{x:0,y:Ur-1},{x:mr,y:Ir-1},{width:Wr,height:1}),i.RGBAImage.copy(Gr,de,{x:0,y:0},{x:mr,y:Ir+Ur},{width:Wr,height:1}),i.RGBAImage.copy(Gr,de,{x:Wr-1,y:0},{x:mr-1,y:Ir},{width:1,height:Ur}),i.RGBAImage.copy(Gr,de,{x:0,y:0},{x:mr+Wr,y:Ir},{width:1,height:Ur})}this.dirty=!0},Y.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Y.prototype.dispatchRenderCallbacks=function($){for(var ht=0,Lt=$;ht<Lt.length;ht+=1){var Wt=Lt[ht];if(!this.callbackDispatchedThisFrame[Wt]){this.callbackDispatchedThisFrame[Wt]=!0;var re=this.images[Wt];y(re)&&this.updateImage(Wt,re)}}},Y}(i.Evented);var o=T,h=T,M=1e20;function T(lt,Y,ct,$,ht,Lt){this.fontSize=lt||24,this.buffer=void 0===Y?3:Y,this.cutoff=$||.25,this.fontFamily=ht||"sans-serif",this.fontWeight=Lt||"normal",this.radius=ct||8;var Wt=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Wt,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Wt*Wt),this.gridInner=new Float64Array(Wt*Wt),this.f=new Float64Array(Wt),this.d=new Float64Array(Wt),this.z=new Float64Array(Wt+1),this.v=new Int16Array(Wt),this.middle=Math.round(Wt/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function L(lt,Y,ct,$,ht,Lt,Wt){for(var re=0;re<Y;re++){for(var de=0;de<ct;de++)$[de]=lt[de*Y+re];for(m($,ht,Lt,Wt,ct),de=0;de<ct;de++)lt[de*Y+re]=ht[de]}for(de=0;de<ct;de++){for(re=0;re<Y;re++)$[re]=lt[de*Y+re];for(m($,ht,Lt,Wt,Y),re=0;re<Y;re++)lt[de*Y+re]=Math.sqrt(ht[re])}}function m(lt,Y,ct,$,ht){ct[0]=0,$[0]=-M,$[1]=+M;for(var Lt=1,Wt=0;Lt<ht;Lt++){for(var re=(lt[Lt]+Lt*Lt-(lt[ct[Wt]]+ct[Wt]*ct[Wt]))/(2*Lt-2*ct[Wt]);re<=$[Wt];)Wt--,re=(lt[Lt]+Lt*Lt-(lt[ct[Wt]]+ct[Wt]*ct[Wt]))/(2*Lt-2*ct[Wt]);ct[++Wt]=Lt,$[Wt]=re,$[Wt+1]=+M}for(Lt=0,Wt=0;Lt<ht;Lt++){for(;$[Wt+1]<Lt;)Wt++;Y[Lt]=(Lt-ct[Wt])*(Lt-ct[Wt])+lt[ct[Wt]]}}T.prototype.draw=function(lt){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(lt,this.buffer,this.middle);for(var Y=this.ctx.getImageData(0,0,this.size,this.size),ct=new Uint8ClampedArray(this.size*this.size),$=0;$<this.size*this.size;$++){var ht=Y.data[4*$+3]/255;this.gridOuter[$]=1===ht?0:0===ht?M:Math.pow(Math.max(0,.5-ht),2),this.gridInner[$]=1===ht?M:0===ht?0:Math.pow(Math.max(0,ht-.5),2)}for(L(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),L(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),$=0;$<this.size*this.size;$++)ct[$]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[$]-this.gridInner[$])/this.radius+this.cutoff))));return ct},o.default=h;var S=function(Y,ct){this.requestManager=Y,this.localIdeographFontFamily=ct,this.entries={}};S.prototype.setURL=function(Y){this.url=Y},S.prototype.getGlyphs=function(Y,ct){var $=this,ht=[];for(var Lt in Y)for(var Wt=0,re=Y[Lt];Wt<re.length;Wt+=1)ht.push({stack:Lt,id:re[Wt]});i.asyncAll(ht,function(Ie,Je){var fr=Ie.stack,mr=Ie.id,Ir=$.entries[fr];Ir||(Ir=$.entries[fr]={glyphs:{},requests:{},ranges:{}});var Gr=Ir.glyphs[mr];if(void 0===Gr){if(Gr=$._tinySDF(Ir,fr,mr))return Ir.glyphs[mr]=Gr,void Je(null,{stack:fr,id:mr,glyph:Gr});var Wr=Math.floor(mr/256);if(256*Wr>65535)Je(new Error("glyphs > 65535 not supported"));else if(Ir.ranges[Wr])Je(null,{stack:fr,id:mr,glyph:Gr});else{var Ur=Ir.requests[Wr];Ur||(Ur=Ir.requests[Wr]=[],S.loadGlyphRange(fr,Wr,$.url,$.requestManager,function(Kr,fn){if(fn){for(var Mn in fn)$._doesCharSupportLocalGlyph(+Mn)||(Ir.glyphs[+Mn]=fn[+Mn]);Ir.ranges[Wr]=!0}for(var Rn=0,Bn=Ur;Rn<Bn.length;Rn+=1)(0,Bn[Rn])(Kr,fn);delete Ir.requests[Wr]})),Ur.push(function(Kr,fn){Kr?Je(Kr):fn&&Je(null,{stack:fr,id:mr,glyph:fn[mr]||null})})}}else Je(null,{stack:fr,id:mr,glyph:Gr})},function(Ie,Je){if(Ie)ct(Ie);else if(Je){for(var fr={},mr=0,Ir=Je;mr<Ir.length;mr+=1){var Gr=Ir[mr],Wr=Gr.stack,Ur=Gr.id,Kr=Gr.glyph;(fr[Wr]||(fr[Wr]={}))[Ur]=Kr&&{id:Kr.id,bitmap:Kr.bitmap.clone(),metrics:Kr.metrics}}ct(null,fr)}})},S.prototype._doesCharSupportLocalGlyph=function(Y){return!!this.localIdeographFontFamily&&(i.isChar["CJK Unified Ideographs"](Y)||i.isChar["Hangul Syllables"](Y)||i.isChar.Hiragana(Y)||i.isChar.Katakana(Y))},S.prototype._tinySDF=function(Y,ct,$){var ht=this.localIdeographFontFamily;if(ht&&this._doesCharSupportLocalGlyph($)){var Lt=Y.tinySDF;if(!Lt){var Wt="400";/bold/i.test(ct)?Wt="900":/medium/i.test(ct)?Wt="500":/light/i.test(ct)&&(Wt="200"),Lt=Y.tinySDF=new S.TinySDF(24,3,8,.25,ht,Wt)}return{id:$,bitmap:new i.AlphaImage({width:30,height:30},Lt.draw(String.fromCharCode($))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},S.loadGlyphRange=function d(lt,Y,ct,$,ht){var Lt=256*Y,Wt=Lt+255,re=$.transformRequest($.normalizeGlyphsURL(ct).replace("{fontstack}",lt).replace("{range}",Lt+"-"+Wt),i.ResourceType.Glyphs);i.getArrayBuffer(re,function(de,Ie){if(de)ht(de);else if(Ie){for(var Je={},fr=0,mr=i.parseGlyphPBF(Ie);fr<mr.length;fr+=1){var Ir=mr[fr];Je[Ir.id]=Ir}ht(null,Je)}})},S.TinySDF=o;var b=function(){this.specification=i.styleSpec.light.position};b.prototype.possiblyEvaluate=function(Y,ct){return i.sphericalToCartesian(Y.expression.evaluate(ct))},b.prototype.interpolate=function(Y,ct,$){return{x:i.number(Y.x,ct.x,$),y:i.number(Y.y,ct.y,$),z:i.number(Y.z,ct.z,$)}};var n=new i.Properties({anchor:new i.DataConstantProperty(i.styleSpec.light.anchor),position:new b,color:new i.DataConstantProperty(i.styleSpec.light.color),intensity:new i.DataConstantProperty(i.styleSpec.light.intensity)}),C="-transition",p=function(lt){function Y(ct){lt.call(this),this._transitionable=new i.Transitionable(n),this.setLight(ct),this._transitioning=this._transitionable.untransitioned()}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getLight=function(){return this._transitionable.serialize()},Y.prototype.setLight=function($,ht){if(void 0===ht&&(ht={}),!this._validate(i.validateLight,$,ht))for(var Lt in $){var Wt=$[Lt];i.endsWith(Lt,C)?this._transitionable.setTransition(Lt.slice(0,-C.length),Wt):this._transitionable.setValue(Lt,Wt)}},Y.prototype.updateTransitions=function($){this._transitioning=this._transitionable.transitioned($,this._transitioning)},Y.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Y.prototype.recalculate=function($){this.properties=this._transitioning.possiblyEvaluate($)},Y.prototype._validate=function($,ht,Lt){return(!Lt||!1!==Lt.validate)&&i.emitValidationErrors(this,$.call(i.validateStyle,i.extend({value:ht,style:{glyphs:!0,sprite:!0},styleSpec:i.styleSpec})))},Y}(i.Evented),F=function(Y,ct){this.width=Y,this.height=ct,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};F.prototype.getDash=function(Y,ct){var $=Y.join(",")+String(ct);return this.dashEntry[$]||(this.dashEntry[$]=this.addDash(Y,ct)),this.dashEntry[$]},F.prototype.getDashRanges=function(Y,ct,$){var Lt=[],Wt=Y.length%2==1?-Y[Y.length-1]*$:0,re=Y[0]*$,de=!0;Lt.push({left:Wt,right:re,isDash:de,zeroLength:0===Y[0]});for(var Ie=Y[0],Je=1;Je<Y.length;Je++){var fr=Y[Je];Lt.push({left:Wt=Ie*$,right:re=(Ie+=fr)*$,isDash:de=!de,zeroLength:0===fr})}return Lt},F.prototype.addRoundDash=function(Y,ct,$){for(var ht=ct/2,Lt=-$;Lt<=$;Lt++)for(var re=this.width*(this.nextRow+$+Lt),de=0,Ie=Y[de],Je=0;Je<this.width;Je++){Je/Ie.right>1&&(Ie=Y[++de]);var fr=Math.abs(Je-Ie.left),mr=Math.abs(Je-Ie.right),Ir=Math.min(fr,mr),Gr=void 0,Wr=Lt/$*(ht+1);if(Ie.isDash){var Ur=ht-Math.abs(Wr);Gr=Math.sqrt(Ir*Ir+Ur*Ur)}else Gr=ht-Math.sqrt(Ir*Ir+Wr*Wr);this.data[re+Je]=Math.max(0,Math.min(255,Gr+128))}},F.prototype.addRegularDash=function(Y){for(var ct=Y.length-1;ct>=0;--ct){var $=Y[ct],ht=Y[ct+1];$.zeroLength?Y.splice(ct,1):ht&&ht.isDash===$.isDash&&(ht.left=$.left,Y.splice(ct,1))}var Lt=Y[0],Wt=Y[Y.length-1];Lt.isDash===Wt.isDash&&(Lt.left=Wt.left-this.width,Wt.right=Lt.right+this.width);for(var re=this.width*this.nextRow,de=0,Ie=Y[de],Je=0;Je<this.width;Je++){Je/Ie.right>1&&(Ie=Y[++de]);var fr=Math.abs(Je-Ie.left),mr=Math.abs(Je-Ie.right),Ir=Math.min(fr,mr);this.data[re+Je]=Math.max(0,Math.min(255,(Ie.isDash?Ir:-Ir)+128))}},F.prototype.addDash=function(Y,ct){var $=ct?7:0,ht=2*$+1;if(this.nextRow+ht>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var Lt=0,Wt=0;Wt<Y.length;Wt++)Lt+=Y[Wt];if(0!==Lt){var re=this.width/Lt,de=this.getDashRanges(Y,this.width,re);ct?this.addRoundDash(de,re,$):this.addRegularDash(de)}var Ie={y:(this.nextRow+$+.5)/this.height,height:2*$/this.height,width:Lt};return this.nextRow+=ht,this.dirty=!0,Ie},F.prototype.bind=function(Y){var ct=Y.gl;this.texture?(ct.bindTexture(ct.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ct.texSubImage2D(ct.TEXTURE_2D,0,0,0,this.width,this.height,ct.ALPHA,ct.UNSIGNED_BYTE,this.data))):(this.texture=ct.createTexture(),ct.bindTexture(ct.TEXTURE_2D,this.texture),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_WRAP_S,ct.REPEAT),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_WRAP_T,ct.REPEAT),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_MIN_FILTER,ct.LINEAR),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_MAG_FILTER,ct.LINEAR),ct.texImage2D(ct.TEXTURE_2D,0,ct.ALPHA,this.width,this.height,0,ct.ALPHA,ct.UNSIGNED_BYTE,this.data))};var D=function lt(Y,ct){this.workerPool=Y,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var $=this.workerPool.acquire(this.id),ht=0;ht<$.length;ht++){var Wt=new lt.Actor($[ht],ct,this.id);Wt.name="Worker "+ht,this.actors.push(Wt)}};function N(lt,Y,ct){var $=function(ht,Lt){if(ht)return ct(ht);if(Lt){var Wt=i.pick(i.extend(Lt,lt),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Lt.vector_layers&&(Wt.vectorLayers=Lt.vector_layers,Wt.vectorLayerIds=Wt.vectorLayers.map(function(re){return re.id})),Wt.tiles=Y.canonicalizeTileset(Wt,lt.url),ct(null,Wt)}};return lt.url?i.getJSON(Y.transformRequest(Y.normalizeSourceURL(lt.url),i.ResourceType.Source),$):i.browser.frame(function(){return $(null,lt)})}D.prototype.broadcast=function(Y,ct,$){i.asyncAll(this.actors,function(ht,Lt){ht.send(Y,ct,Lt)},$=$||function(){})},D.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},D.prototype.remove=function(){this.actors.forEach(function(Y){Y.remove()}),this.actors=[],this.workerPool.release(this.id)},D.Actor=i.Actor;var k=function(Y,ct,$){this.bounds=i.LngLatBounds.convert(this.validateBounds(Y)),this.minzoom=ct||0,this.maxzoom=$||24};k.prototype.validateBounds=function(Y){return Array.isArray(Y)&&4===Y.length?[Math.max(-180,Y[0]),Math.max(-90,Y[1]),Math.min(180,Y[2]),Math.min(90,Y[3])]:[-180,-90,180,90]},k.prototype.contains=function(Y){var ct=Math.pow(2,Y.z),$_minX=Math.floor(i.mercatorXfromLng(this.bounds.getWest())*ct),$_minY=Math.floor(i.mercatorYfromLat(this.bounds.getNorth())*ct),$_maxX=Math.ceil(i.mercatorXfromLng(this.bounds.getEast())*ct),$_maxY=Math.ceil(i.mercatorYfromLat(this.bounds.getSouth())*ct);return Y.x>=$_minX&&Y.x<$_maxX&&Y.y>=$_minY&&Y.y<$_maxY};var O=function(lt){function Y(ct,$,ht,Lt){if(lt.call(this),this.id=ct,this.dispatcher=ht,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.extend(this,i.pick($,["url","scheme","tileSize","promoteId"])),this._options=i.extend({type:"vector"},$),this._collectResourceTiming=$.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Lt)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.load=function(){var $=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(ht,Lt){$._tileJSONRequest=null,$._loaded=!0,ht?$.fire(new i.ErrorEvent(ht)):Lt&&(i.extend($,Lt),Lt.bounds&&($.tileBounds=new k(Lt.bounds,$.minzoom,$.maxzoom)),i.postTurnstileEvent(Lt.tiles,$.map._requestManager._customAccessToken),i.postMapLoadEvent(Lt.tiles,$.map._getMapId(),$.map._requestManager._skuToken,$.map._requestManager._customAccessToken),$.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),$.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.hasTile=function($){return!this.tileBounds||this.tileBounds.contains($.canonical)},Y.prototype.onAdd=function($){this.map=$,this.load()},Y.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Y.prototype.serialize=function(){return i.extend({},this._options)},Y.prototype.loadTile=function($,ht){var Lt=this.map._requestManager.normalizeTileURL($.tileID.canonical.url(this.tiles,this.scheme)),Wt={request:this.map._requestManager.transformRequest(Lt,i.ResourceType.Tile),uid:$.uid,tileID:$.tileID,zoom:$.tileID.overscaledZ,tileSize:this.tileSize*$.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function re(de,Ie){return delete $.request,$.aborted?ht(null):de&&404!==de.status?ht(de):(Ie&&Ie.resourceTiming&&($.resourceTiming=Ie.resourceTiming),this.map._refreshExpiredTiles&&Ie&&$.setExpiryData(Ie),$.loadVectorData(Ie,this.map.painter),i.cacheEntryPossiblyAdded(this.dispatcher),ht(null),void($.reloadCallback&&(this.loadTile($,$.reloadCallback),$.reloadCallback=null)))}Wt.request.collectResourceTiming=this._collectResourceTiming,$.actor&&"expired"!==$.state?"loading"===$.state?$.reloadCallback=ht:$.request=$.actor.send("reloadTile",Wt,re.bind(this)):($.actor=this.dispatcher.getActor(),$.request=$.actor.send("loadTile",Wt,re.bind(this)))},Y.prototype.abortTile=function($){$.request&&($.request.cancel(),delete $.request),$.actor&&$.actor.send("abortTile",{uid:$.uid,type:this.type,source:this.id},void 0)},Y.prototype.unloadTile=function($){$.unloadVectorData(),$.actor&&$.actor.send("removeTile",{uid:$.uid,type:this.type,source:this.id},void 0)},Y.prototype.hasTransition=function(){return!1},Y}(i.Evented),B=function(lt){function Y(ct,$,ht,Lt){lt.call(this),this.id=ct,this.dispatcher=ht,this.setEventedParent(Lt),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({type:"raster"},$),i.extend(this,i.pick($,["url","scheme","tileSize"]))}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.load=function(){var $=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(ht,Lt){$._tileJSONRequest=null,$._loaded=!0,ht?$.fire(new i.ErrorEvent(ht)):Lt&&(i.extend($,Lt),Lt.bounds&&($.tileBounds=new k(Lt.bounds,$.minzoom,$.maxzoom)),i.postTurnstileEvent(Lt.tiles),i.postMapLoadEvent(Lt.tiles,$.map._getMapId(),$.map._requestManager._skuToken),$.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),$.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.onAdd=function($){this.map=$,this.load()},Y.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Y.prototype.serialize=function(){return i.extend({},this._options)},Y.prototype.hasTile=function($){return!this.tileBounds||this.tileBounds.contains($.canonical)},Y.prototype.loadTile=function($,ht){var Lt=this,Wt=this.map._requestManager.normalizeTileURL($.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);$.request=i.getImage(this.map._requestManager.transformRequest(Wt,i.ResourceType.Tile),function(re,de){if(delete $.request,$.aborted)$.state="unloaded",ht(null);else if(re)$.state="errored",ht(re);else if(de){Lt.map._refreshExpiredTiles&&$.setExpiryData(de),delete de.cacheControl,delete de.expires;var Ie=Lt.map.painter.context,Je=Ie.gl;$.texture=Lt.map.painter.getTileTexture(de.width),$.texture?$.texture.update(de,{useMipmap:!0}):($.texture=new i.Texture(Ie,de,Je.RGBA,{useMipmap:!0}),$.texture.bind(Je.LINEAR,Je.CLAMP_TO_EDGE,Je.LINEAR_MIPMAP_NEAREST),Ie.extTextureFilterAnisotropic&&Je.texParameterf(Je.TEXTURE_2D,Ie.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ie.extTextureFilterAnisotropicMax)),$.state="loaded",i.cacheEntryPossiblyAdded(Lt.dispatcher),ht(null)}})},Y.prototype.abortTile=function($,ht){$.request&&($.request.cancel(),delete $.request),ht()},Y.prototype.unloadTile=function($,ht){$.texture&&this.map.painter.saveTileTexture($.texture),ht()},Y.prototype.hasTransition=function(){return!1},Y}(i.Evented),z=function(lt){function Y(ct,$,ht,Lt){lt.call(this,ct,$,ht,Lt),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({type:"raster-dem"},$),this.encoding=$.encoding||"mapbox"}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Y.prototype.loadTile=function($,ht){var Lt=this.map._requestManager.normalizeTileURL($.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function re(de,Ie){de&&($.state="errored",ht(de)),Ie&&($.dem=Ie,$.needsHillshadePrepare=!0,$.state="loaded",ht(null))}$.request=i.getImage(this.map._requestManager.transformRequest(Lt,i.ResourceType.Tile),function Wt(de,Ie){if(delete $.request,$.aborted)$.state="unloaded",ht(null);else if(de)$.state="errored",ht(de);else if(Ie){this.map._refreshExpiredTiles&&$.setExpiryData(Ie),delete Ie.cacheControl,delete Ie.expires;var fr=i.window.ImageBitmap&&Ie instanceof i.window.ImageBitmap&&i.offscreenCanvasSupported()?Ie:i.browser.getImageData(Ie,1),mr={uid:$.uid,coord:$.tileID,source:this.id,rawImageData:fr,encoding:this.encoding};(!$.actor||"expired"===$.state)&&($.actor=this.dispatcher.getActor(),$.actor.send("loadDEMTile",mr,re.bind(this)))}}.bind(this)),$.neighboringTiles=this._getNeighboringTiles($.tileID)},Y.prototype._getNeighboringTiles=function($){var ht=$.canonical,Lt=Math.pow(2,ht.z),Wt=(ht.x-1+Lt)%Lt,re=0===ht.x?$.wrap-1:$.wrap,de=(ht.x+1+Lt)%Lt,Ie=ht.x+1===Lt?$.wrap+1:$.wrap,Je={};return Je[new i.OverscaledTileID($.overscaledZ,re,ht.z,Wt,ht.y).key]={backfilled:!1},Je[new i.OverscaledTileID($.overscaledZ,Ie,ht.z,de,ht.y).key]={backfilled:!1},ht.y>0&&(Je[new i.OverscaledTileID($.overscaledZ,re,ht.z,Wt,ht.y-1).key]={backfilled:!1},Je[new i.OverscaledTileID($.overscaledZ,$.wrap,ht.z,ht.x,ht.y-1).key]={backfilled:!1},Je[new i.OverscaledTileID($.overscaledZ,Ie,ht.z,de,ht.y-1).key]={backfilled:!1}),ht.y+1<Lt&&(Je[new i.OverscaledTileID($.overscaledZ,re,ht.z,Wt,ht.y+1).key]={backfilled:!1},Je[new i.OverscaledTileID($.overscaledZ,$.wrap,ht.z,ht.x,ht.y+1).key]={backfilled:!1},Je[new i.OverscaledTileID($.overscaledZ,Ie,ht.z,de,ht.y+1).key]={backfilled:!1}),Je},Y.prototype.unloadTile=function($){$.demTexture&&this.map.painter.saveTileTexture($.demTexture),$.fbo&&($.fbo.destroy(),delete $.fbo),$.dem&&delete $.dem,delete $.neighboringTiles,$.state="unloaded",$.actor&&$.actor.send("removeDEMTile",{uid:$.uid,source:this.id})},Y}(B),U=function(lt){function Y(ct,$,ht,Lt){lt.call(this),this.id=ct,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ht.getActor(),this.setEventedParent(Lt),this._data=$.data,this._options=i.extend({},$),this._collectResourceTiming=$.collectResourceTiming,this._resourceTiming=[],void 0!==$.maxzoom&&(this.maxzoom=$.maxzoom),$.type&&(this.type=$.type),$.attribution&&(this.attribution=$.attribution),this.promoteId=$.promoteId;var Wt=i.EXTENT/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:$.cluster||!1,geojsonVtOptions:{buffer:(void 0!==$.buffer?$.buffer:128)*Wt,tolerance:(void 0!==$.tolerance?$.tolerance:.375)*Wt,extent:i.EXTENT,maxZoom:this.maxzoom,lineMetrics:$.lineMetrics||!1,generateId:$.generateId||!1},superclusterOptions:{maxZoom:void 0!==$.clusterMaxZoom?Math.min($.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:i.EXTENT,radius:($.clusterRadius||50)*Wt,log:!1,generateId:$.generateId||!1},clusterProperties:$.clusterProperties},$.workerOptions)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.load=function(){var $=this;this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ht){if(ht)$.fire(new i.ErrorEvent(ht));else{var Lt={dataType:"source",sourceDataType:"metadata"};$._collectResourceTiming&&$._resourceTiming&&$._resourceTiming.length>0&&(Lt.resourceTiming=$._resourceTiming,$._resourceTiming=[]),$.fire(new i.Event("data",Lt))}})},Y.prototype.onAdd=function($){this.map=$,this.load()},Y.prototype.setData=function($){var ht=this;return this._data=$,this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Lt){if(Lt)ht.fire(new i.ErrorEvent(Lt));else{var Wt={dataType:"source",sourceDataType:"content"};ht._collectResourceTiming&&ht._resourceTiming&&ht._resourceTiming.length>0&&(Wt.resourceTiming=ht._resourceTiming,ht._resourceTiming=[]),ht.fire(new i.Event("data",Wt))}}),this},Y.prototype.getClusterExpansionZoom=function($,ht){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:$,source:this.id},ht),this},Y.prototype.getClusterChildren=function($,ht){return this.actor.send("geojson.getClusterChildren",{clusterId:$,source:this.id},ht),this},Y.prototype.getClusterLeaves=function($,ht,Lt,Wt){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:$,limit:ht,offset:Lt},Wt),this},Y.prototype._updateWorkerData=function($){var ht=this;this._loaded=!1;var Lt=i.extend({},this.workerOptions),Wt=this._data;"string"==typeof Wt?(Lt.request=this.map._requestManager.transformRequest(i.browser.resolveURL(Wt),i.ResourceType.Source),Lt.request.collectResourceTiming=this._collectResourceTiming):Lt.data=JSON.stringify(Wt),this.actor.send(this.type+".loadData",Lt,function(re,de){ht._removed||de&&de.abandoned||(ht._loaded=!0,de&&de.resourceTiming&&de.resourceTiming[ht.id]&&(ht._resourceTiming=de.resourceTiming[ht.id].slice(0)),ht.actor.send(ht.type+".coalesce",{source:Lt.source},null),$(re))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.loadTile=function($,ht){var Lt=this,Wt=$.actor?"reloadTile":"loadTile";$.actor=this.actor,$.request=this.actor.send(Wt,{type:this.type,uid:$.uid,tileID:$.tileID,zoom:$.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(de,Ie){return delete $.request,$.unloadVectorData(),$.aborted?ht(null):de?ht(de):($.loadVectorData(Ie,Lt.map.painter,"reloadTile"===Wt),ht(null))})},Y.prototype.abortTile=function($){$.request&&($.request.cancel(),delete $.request),$.aborted=!0},Y.prototype.unloadTile=function($){$.unloadVectorData(),this.actor.send("removeTile",{uid:$.uid,type:this.type,source:this.id})},Y.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Y.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},Y.prototype.hasTransition=function(){return!1},Y}(i.Evented),G=i.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Q=function(lt){function Y(ct,$,ht,Lt){lt.call(this),this.id=ct,this.dispatcher=ht,this.coordinates=$.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Lt),this.options=$}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.load=function($,ht){var Lt=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this.url=this.options.url,i.getImage(this.map._requestManager.transformRequest(this.url,i.ResourceType.Image),function(Wt,re){Lt._loaded=!0,Wt?Lt.fire(new i.ErrorEvent(Wt)):re&&(Lt.image=re,$&&(Lt.coordinates=$),ht&&ht(),Lt._finishLoading())})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.updateImage=function($){var ht=this;return this.image&&$.url?(this.options.url=$.url,this.load($.coordinates,function(){ht.texture=null}),this):this},Y.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Y.prototype.onAdd=function($){this.map=$,this.load()},Y.prototype.setCoordinates=function($){var ht=this;this.coordinates=$;var Lt=$.map(i.MercatorCoordinate.fromLngLat);this.tileID=function rt(lt){for(var Y=1/0,ct=1/0,$=-1/0,ht=-1/0,Lt=0,Wt=lt;Lt<Wt.length;Lt+=1){var re=Wt[Lt];Y=Math.min(Y,re.x),ct=Math.min(ct,re.y),$=Math.max($,re.x),ht=Math.max(ht,re.y)}var Je=Math.max($-Y,ht-ct),fr=Math.max(0,Math.floor(-Math.log(Je)/Math.LN2)),mr=Math.pow(2,fr);return new i.CanonicalTileID(fr,Math.floor((Y+$)/2*mr),Math.floor((ct+ht)/2*mr))}(Lt),this.minzoom=this.maxzoom=this.tileID.z;var Wt=Lt.map(function(re){return ht.tileID.getTilePoint(re)._round()});return this._boundsArray=new i.StructArrayLayout4i8,this._boundsArray.emplaceBack(Wt[0].x,Wt[0].y,0,0),this._boundsArray.emplaceBack(Wt[1].x,Wt[1].y,i.EXTENT,0),this._boundsArray.emplaceBack(Wt[3].x,Wt[3].y,0,i.EXTENT),this._boundsArray.emplaceBack(Wt[2].x,Wt[2].y,i.EXTENT,i.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})),this},Y.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var $=this.map.painter.context,ht=$.gl;for(var Lt in this.boundsBuffer||(this.boundsBuffer=$.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new i.Texture($,this.image,ht.RGBA),this.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE)),this.tiles){var Wt=this.tiles[Lt];"loaded"!==Wt.state&&(Wt.state="loaded",Wt.texture=this.texture)}}},Y.prototype.loadTile=function($,ht){this.tileID&&this.tileID.equals($.tileID.canonical)?(this.tiles[String($.tileID.wrap)]=$,$.buckets={},ht(null)):($.state="errored",ht(null))},Y.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return!1},Y}(i.Evented);var it=function(lt){function Y(ct,$,ht,Lt){lt.call(this,ct,$,ht,Lt),this.roundZoom=!0,this.type="video",this.options=$}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.load=function(){var $=this;this._loaded=!1;var ht=this.options;this.urls=[];for(var Lt=0,Wt=ht.urls;Lt<Wt.length;Lt+=1)this.urls.push(this.map._requestManager.transformRequest(Wt[Lt],i.ResourceType.Source).url);i.getVideo(this.urls,function(de,Ie){$._loaded=!0,de?$.fire(new i.ErrorEvent(de)):Ie&&($.video=Ie,$.video.loop=!0,$.video.addEventListener("playing",function(){$.map.triggerRepaint()}),$.map&&$.video.play(),$._finishLoading())})},Y.prototype.pause=function(){this.video&&this.video.pause()},Y.prototype.play=function(){this.video&&this.video.play()},Y.prototype.seek=function($){if(this.video){var ht=this.video.seekable;$<ht.start(0)||$>ht.end(0)?this.fire(new i.ErrorEvent(new i.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ht.start(0)+" and "+ht.end(0)+"-second mark."))):this.video.currentTime=$}},Y.prototype.getVideo=function(){return this.video},Y.prototype.onAdd=function($){this.map||(this.map=$,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Y.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var $=this.map.painter.context,ht=$.gl;for(var Lt in this.boundsBuffer||(this.boundsBuffer=$.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE),ht.texSubImage2D(ht.TEXTURE_2D,0,0,0,ht.RGBA,ht.UNSIGNED_BYTE,this.video)):(this.texture=new i.Texture($,this.video,ht.RGBA),this.texture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE)),this.tiles){var Wt=this.tiles[Lt];"loaded"!==Wt.state&&(Wt.state="loaded",Wt.texture=this.texture)}}},Y.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return this.video&&!this.video.paused},Y}(Q),ut=function(lt){function Y(ct,$,ht,Lt){lt.call(this,ct,$,ht,Lt),$.coordinates?(!Array.isArray($.coordinates)||4!==$.coordinates.length||$.coordinates.some(function(Wt){return!Array.isArray(Wt)||2!==Wt.length||Wt.some(function(re){return"number"!=typeof re})}))&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ct,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ct,null,'missing required property "coordinates"'))),$.animate&&"boolean"!=typeof $.animate&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ct,null,'optional "animate" property must be a boolean value'))),$.canvas?"string"!=typeof $.canvas&&!($.canvas instanceof i.window.HTMLCanvasElement)&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ct,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ct,null,'missing required property "canvas"'))),this.options=$,this.animate=void 0===$.animate||$.animate}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof i.window.HTMLCanvasElement?this.options.canvas:i.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new i.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},Y.prototype.getCanvas=function(){return this.canvas},Y.prototype.onAdd=function($){this.map=$,this.load(),this.canvas&&this.animate&&this.play()},Y.prototype.onRemove=function(){this.pause()},Y.prototype.prepare=function(){var $=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,$=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,$=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var ht=this.map.painter.context,Lt=ht.gl;for(var Wt in this.boundsBuffer||(this.boundsBuffer=ht.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?($||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.Texture(ht,this.canvas,Lt.RGBA,{premultiply:!0}),this.tiles){var re=this.tiles[Wt];"loaded"!==re.state&&(re.state="loaded",re.texture=this.texture)}}},Y.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return this._playing},Y.prototype._hasInvalidDimensions=function(){for(var $=0,ht=[this.canvas.width,this.canvas.height];$<ht.length;$+=1){var Lt=ht[$];if(isNaN(Lt)||Lt<=0)return!0}return!1},Y}(Q),J={vector:O,raster:B,"raster-dem":z,geojson:U,video:it,image:Q,canvas:ut};function X(lt,Y){var ct=i.identity([]);return i.translate(ct,ct,[1,1,0]),i.scale(ct,ct,[.5*lt.width,.5*lt.height,1]),i.multiply(ct,ct,lt.calculatePosMatrix(Y.toUnwrapped()))}function _(lt,Y,ct,$,ht,Lt){var Wt=function at(lt,Y,ct){if(lt)for(var $=0,ht=lt;$<ht.length;$+=1){var Wt=Y[ht[$]];if(Wt&&Wt.source===ct&&"fill-extrusion"===Wt.type)return!0}else for(var re in Y){var de=Y[re];if(de.source===ct&&"fill-extrusion"===de.type)return!0}return!1}(ht&&ht.layers,Y,lt.id),re=Lt.maxPitchScaleFactor(),de=lt.tilesIn($,re,Wt);de.sort(et);for(var Ie=[],Je=0,fr=de;Je<fr.length;Je+=1){var mr=fr[Je];Ie.push({wrappedTileID:mr.tileID.wrapped().key,queryResults:mr.tile.queryRenderedFeatures(Y,ct,lt._state,mr.queryGeometry,mr.cameraQueryGeometry,mr.scale,ht,Lt,re,X(lt.transform,mr.tileID))})}var Ir=function st(lt){for(var Y={},ct={},$=0,ht=lt;$<ht.length;$+=1){var Lt=ht[$],Wt=Lt.queryResults,re=Lt.wrappedTileID,de=ct[re]=ct[re]||{};for(var Ie in Wt)for(var Je=Wt[Ie],fr=de[Ie]=de[Ie]||{},mr=Y[Ie]=Y[Ie]||[],Ir=0,Gr=Je;Ir<Gr.length;Ir+=1){var Wr=Gr[Ir];fr[Wr.featureIndex]||(fr[Wr.featureIndex]=!0,mr.push(Wr))}}return Y}(Ie);for(var Gr in Ir)Ir[Gr].forEach(function(Wr){var Ur=Wr.feature,Kr=lt.getFeatureState(Ur.layer["source-layer"],Ur.id);Ur.source=Ur.layer.source,Ur.layer["source-layer"]&&(Ur.sourceLayer=Ur.layer["source-layer"]),Ur.state=Kr});return Ir}function et(lt,Y){var ct=lt.tileID,$=Y.tileID;return ct.overscaledZ-$.overscaledZ||ct.canonical.y-$.canonical.y||ct.wrap-$.wrap||ct.canonical.x-$.canonical.x}var dt=function(Y,ct){this.max=Y,this.onRemove=ct,this.reset()};dt.prototype.reset=function(){for(var Y in this.data)for(var ct=0,$=this.data[Y];ct<$.length;ct+=1){var ht=$[ct];ht.timeout&&clearTimeout(ht.timeout),this.onRemove(ht.value)}return this.data={},this.order=[],this},dt.prototype.add=function(Y,ct,$){var ht=this,Lt=Y.wrapped().key;void 0===this.data[Lt]&&(this.data[Lt]=[]);var Wt={value:ct,timeout:void 0};if(void 0!==$&&(Wt.timeout=setTimeout(function(){ht.remove(Y,Wt)},$)),this.data[Lt].push(Wt),this.order.push(Lt),this.order.length>this.max){var re=this._getAndRemoveByKey(this.order[0]);re&&this.onRemove(re)}return this},dt.prototype.has=function(Y){return Y.wrapped().key in this.data},dt.prototype.getAndRemove=function(Y){return this.has(Y)?this._getAndRemoveByKey(Y.wrapped().key):null},dt.prototype._getAndRemoveByKey=function(Y){var ct=this.data[Y].shift();return ct.timeout&&clearTimeout(ct.timeout),0===this.data[Y].length&&delete this.data[Y],this.order.splice(this.order.indexOf(Y),1),ct.value},dt.prototype.getByKey=function(Y){var ct=this.data[Y];return ct?ct[0].value:null},dt.prototype.get=function(Y){return this.has(Y)?this.data[Y.wrapped().key][0].value:null},dt.prototype.remove=function(Y,ct){if(!this.has(Y))return this;var $=Y.wrapped().key,ht=void 0===ct?0:this.data[$].indexOf(ct),Lt=this.data[$][ht];return this.data[$].splice(ht,1),Lt.timeout&&clearTimeout(Lt.timeout),0===this.data[$].length&&delete this.data[$],this.onRemove(Lt.value),this.order.splice(this.order.indexOf($),1),this},dt.prototype.setMaxSize=function(Y){for(this.max=Y;this.order.length>this.max;){var ct=this._getAndRemoveByKey(this.order[0]);ct&&this.onRemove(ct)}return this},dt.prototype.filter=function(Y){var ct=[];for(var $ in this.data)for(var ht=0,Lt=this.data[$];ht<Lt.length;ht+=1){var Wt=Lt[ht];Y(Wt.value)||ct.push(Wt)}for(var re=0,de=ct;re<de.length;re+=1){var Ie=de[re];this.remove(Ie.value.tileID,Ie)}};var Tt=function(Y,ct,$){this.context=Y;var ht=Y.gl;this.buffer=ht.createBuffer(),this.dynamicDraw=Boolean($),this.context.unbindVAO(),Y.bindElementBuffer.set(this.buffer),ht.bufferData(ht.ELEMENT_ARRAY_BUFFER,ct.arrayBuffer,this.dynamicDraw?ht.DYNAMIC_DRAW:ht.STATIC_DRAW),this.dynamicDraw||delete ct.arrayBuffer};Tt.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Tt.prototype.updateData=function(Y){var ct=this.context.gl;this.context.unbindVAO(),this.bind(),ct.bufferSubData(ct.ELEMENT_ARRAY_BUFFER,0,Y.arrayBuffer)},Tt.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var bt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Dt=function(Y,ct,$,ht){this.length=ct.length,this.attributes=$,this.itemSize=ct.bytesPerElement,this.dynamicDraw=ht,this.context=Y;var Lt=Y.gl;this.buffer=Lt.createBuffer(),Y.bindVertexBuffer.set(this.buffer),Lt.bufferData(Lt.ARRAY_BUFFER,ct.arrayBuffer,this.dynamicDraw?Lt.DYNAMIC_DRAW:Lt.STATIC_DRAW),this.dynamicDraw||delete ct.arrayBuffer};Dt.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Dt.prototype.updateData=function(Y){var ct=this.context.gl;this.bind(),ct.bufferSubData(ct.ARRAY_BUFFER,0,Y.arrayBuffer)},Dt.prototype.enableAttributes=function(Y,ct){for(var $=0;$<this.attributes.length;$++){var Lt=ct.attributes[this.attributes[$].name];void 0!==Lt&&Y.enableVertexAttribArray(Lt)}},Dt.prototype.setVertexAttribPointers=function(Y,ct,$){for(var ht=0;ht<this.attributes.length;ht++){var Lt=this.attributes[ht],Wt=ct.attributes[Lt.name];void 0!==Wt&&Y.vertexAttribPointer(Wt,Lt.components,Y[bt[Lt.type]],!1,this.itemSize,Lt.offset+this.itemSize*($||0))}},Dt.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Ft=function(Y){this.gl=Y.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ft.prototype.get=function(){return this.current},Ft.prototype.set=function(Y){},Ft.prototype.getDefault=function(){return this.default},Ft.prototype.setDefault=function(){this.set(this.default)};var Mt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return i.Color.transparent},Y.prototype.set=function($){var ht=this.current;$.r===ht.r&&$.g===ht.g&&$.b===ht.b&&$.a===ht.a&&!this.dirty||(this.gl.clearColor($.r,$.g,$.b,$.a),this.current=$,this.dirty=!1)},Y}(Ft),wt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return 1},Y.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.clearDepth($),this.current=$,this.dirty=!1)},Y}(Ft),St=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return 0},Y.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.clearStencil($),this.current=$,this.dirty=!1)},Y}(Ft),Ut=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return[!0,!0,!0,!0]},Y.prototype.set=function($){var ht=this.current;$[0]===ht[0]&&$[1]===ht[1]&&$[2]===ht[2]&&$[3]===ht[3]&&!this.dirty||(this.gl.colorMask($[0],$[1],$[2],$[3]),this.current=$,this.dirty=!1)},Y}(Ft),Gt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return!0},Y.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.depthMask($),this.current=$,this.dirty=!1)},Y}(Ft),Pt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return 255},Y.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.stencilMask($),this.current=$,this.dirty=!1)},Y}(Ft),Vt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Y.prototype.set=function($){var ht=this.current;$.func===ht.func&&$.ref===ht.ref&&$.mask===ht.mask&&!this.dirty||(this.gl.stencilFunc($.func,$.ref,$.mask),this.current=$,this.dirty=!1)},Y}(Ft),te=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){var $=this.gl;return[$.KEEP,$.KEEP,$.KEEP]},Y.prototype.set=function($){var ht=this.current;$[0]===ht[0]&&$[1]===ht[1]&&$[2]===ht[2]&&!this.dirty||(this.gl.stencilOp($[0],$[1],$[2]),this.current=$,this.dirty=!1)},Y}(Ft),_t=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function($){if($!==this.current||this.dirty){var ht=this.gl;$?ht.enable(ht.STENCIL_TEST):ht.disable(ht.STENCIL_TEST),this.current=$,this.dirty=!1}},Y}(Ft),kt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return[0,1]},Y.prototype.set=function($){var ht=this.current;$[0]===ht[0]&&$[1]===ht[1]&&!this.dirty||(this.gl.depthRange($[0],$[1]),this.current=$,this.dirty=!1)},Y}(Ft),zt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function($){if($!==this.current||this.dirty){var ht=this.gl;$?ht.enable(ht.DEPTH_TEST):ht.disable(ht.DEPTH_TEST),this.current=$,this.dirty=!1}},Y}(Ft),qt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return this.gl.LESS},Y.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.depthFunc($),this.current=$,this.dirty=!1)},Y}(Ft),ae=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function($){if($!==this.current||this.dirty){var ht=this.gl;$?ht.enable(ht.BLEND):ht.disable(ht.BLEND),this.current=$,this.dirty=!1}},Y}(Ft),oe=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){var $=this.gl;return[$.ONE,$.ZERO]},Y.prototype.set=function($){var ht=this.current;$[0]===ht[0]&&$[1]===ht[1]&&!this.dirty||(this.gl.blendFunc($[0],$[1]),this.current=$,this.dirty=!1)},Y}(Ft),pe=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return i.Color.transparent},Y.prototype.set=function($){var ht=this.current;$.r===ht.r&&$.g===ht.g&&$.b===ht.b&&$.a===ht.a&&!this.dirty||(this.gl.blendColor($.r,$.g,$.b,$.a),this.current=$,this.dirty=!1)},Y}(Ft),ye=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return this.gl.FUNC_ADD},Y.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.blendEquation($),this.current=$,this.dirty=!1)},Y}(Ft),Fe=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function($){if($!==this.current||this.dirty){var ht=this.gl;$?ht.enable(ht.CULL_FACE):ht.disable(ht.CULL_FACE),this.current=$,this.dirty=!1}},Y}(Ft),Zt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return this.gl.BACK},Y.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.cullFace($),this.current=$,this.dirty=!1)},Y}(Ft),Ct=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return this.gl.CCW},Y.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.frontFace($),this.current=$,this.dirty=!1)},Y}(Ft),Et=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.useProgram($),this.current=$,this.dirty=!1)},Y}(Ft),Rt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return this.gl.TEXTURE0},Y.prototype.set=function($){$===this.current&&!this.dirty||(this.gl.activeTexture($),this.current=$,this.dirty=!1)},Y}(Ft),Ot=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){var $=this.gl;return[0,0,$.drawingBufferWidth,$.drawingBufferHeight]},Y.prototype.set=function($){var ht=this.current;$[0]===ht[0]&&$[1]===ht[1]&&$[2]===ht[2]&&$[3]===ht[3]&&!this.dirty||(this.gl.viewport($[0],$[1],$[2],$[3]),this.current=$,this.dirty=!1)},Y}(Ft),It=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function($){if($!==this.current||this.dirty){var ht=this.gl;ht.bindFramebuffer(ht.FRAMEBUFFER,$),this.current=$,this.dirty=!1}},Y}(Ft),gt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function($){if($!==this.current||this.dirty){var ht=this.gl;ht.bindRenderbuffer(ht.RENDERBUFFER,$),this.current=$,this.dirty=!1}},Y}(Ft),pt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function($){if($!==this.current||this.dirty){var ht=this.gl;ht.bindTexture(ht.TEXTURE_2D,$),this.current=$,this.dirty=!1}},Y}(Ft),vt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function($){if($!==this.current||this.dirty){var ht=this.gl;ht.bindBuffer(ht.ARRAY_BUFFER,$),this.current=$,this.dirty=!1}},Y}(Ft),yt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function($){var ht=this.gl;ht.bindBuffer(ht.ELEMENT_ARRAY_BUFFER,$),this.current=$,this.dirty=!1},Y}(Ft),Yt=function(lt){function Y(ct){lt.call(this,ct),this.vao=ct.extVertexArrayObject}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function($){!this.vao||$===this.current&&!this.dirty||(this.vao.bindVertexArrayOES($),this.current=$,this.dirty=!1)},Y}(Ft),Qt=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return 4},Y.prototype.set=function($){if($!==this.current||this.dirty){var ht=this.gl;ht.pixelStorei(ht.UNPACK_ALIGNMENT,$),this.current=$,this.dirty=!1}},Y}(Ft),le=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function($){if($!==this.current||this.dirty){var ht=this.gl;ht.pixelStorei(ht.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$),this.current=$,this.dirty=!1}},Y}(Ft),he=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function($){if($!==this.current||this.dirty){var ht=this.gl;ht.pixelStorei(ht.UNPACK_FLIP_Y_WEBGL,$),this.current=$,this.dirty=!1}},Y}(Ft),ke=function(lt){function Y(ct,$){lt.call(this,ct),this.context=ct,this.parent=$}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y}(Ft),Oe=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.setDirty=function(){this.dirty=!0},Y.prototype.set=function($){if($!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var ht=this.gl;ht.framebufferTexture2D(ht.FRAMEBUFFER,ht.COLOR_ATTACHMENT0,ht.TEXTURE_2D,$,0),this.current=$,this.dirty=!1}},Y}(ke),Ae=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.set=function($){if($!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var ht=this.gl;ht.framebufferRenderbuffer(ht.FRAMEBUFFER,ht.DEPTH_ATTACHMENT,ht.RENDERBUFFER,$),this.current=$,this.dirty=!1}},Y}(ke),je=function(Y,ct,$,ht){this.context=Y,this.width=ct,this.height=$;var Wt=this.framebuffer=Y.gl.createFramebuffer();this.colorAttachment=new Oe(Y,Wt),ht&&(this.depthAttachment=new Ae(Y,Wt))};je.prototype.destroy=function(){var Y=this.context.gl,ct=this.colorAttachment.get();if(ct&&Y.deleteTexture(ct),this.depthAttachment){var $=this.depthAttachment.get();$&&Y.deleteRenderbuffer($)}Y.deleteFramebuffer(this.framebuffer)};var Lr=function(Y,ct,$){this.func=Y,this.mask=ct,this.range=$};Lr.ReadOnly=!1,Lr.ReadWrite=!0,Lr.disabled=new Lr(519,Lr.ReadOnly,[0,1]);var He=function(Y,ct,$,ht,Lt,Wt){this.test=Y,this.ref=ct,this.mask=$,this.fail=ht,this.depthFail=Lt,this.pass=Wt};He.disabled=new He({func:519,mask:0},0,0,7680,7680,7680);var ne=function(Y,ct,$){this.blendFunction=Y,this.blendColor=ct,this.mask=$};ne.disabled=new ne(ne.Replace=[1,0],i.Color.transparent,[!1,!1,!1,!1]),ne.unblended=new ne(ne.Replace,i.Color.transparent,[!0,!0,!0,!0]),ne.alphaBlended=new ne([1,771],i.Color.transparent,[!0,!0,!0,!0]);var Te=function(Y,ct,$){this.enable=Y,this.mode=ct,this.frontFace=$};Te.disabled=new Te(!1,1029,2305),Te.backCCW=new Te(!0,1029,2305);var be=function(Y){this.gl=Y,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Mt(this),this.clearDepth=new wt(this),this.clearStencil=new St(this),this.colorMask=new Ut(this),this.depthMask=new Gt(this),this.stencilMask=new Pt(this),this.stencilFunc=new Vt(this),this.stencilOp=new te(this),this.stencilTest=new _t(this),this.depthRange=new kt(this),this.depthTest=new zt(this),this.depthFunc=new qt(this),this.blend=new ae(this),this.blendFunc=new oe(this),this.blendColor=new pe(this),this.blendEquation=new ye(this),this.cullFace=new Fe(this),this.cullFaceSide=new Zt(this),this.frontFace=new Ct(this),this.program=new Et(this),this.activeTexture=new Rt(this),this.viewport=new Ot(this),this.bindFramebuffer=new It(this),this.bindRenderbuffer=new gt(this),this.bindTexture=new pt(this),this.bindVertexBuffer=new vt(this),this.bindElementBuffer=new yt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Yt(this),this.pixelStoreUnpack=new Qt(this),this.pixelStoreUnpackPremultiplyAlpha=new le(this),this.pixelStoreUnpackFlipY=new he(this),this.extTextureFilterAnisotropic=Y.getExtension("EXT_texture_filter_anisotropic")||Y.getExtension("MOZ_EXT_texture_filter_anisotropic")||Y.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Y.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Y.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Y.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Y.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Y.getExtension("EXT_disjoint_timer_query")};be.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},be.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},be.prototype.createIndexBuffer=function(Y,ct){return new Tt(this,Y,ct)},be.prototype.createVertexBuffer=function(Y,ct,$){return new Dt(this,Y,ct,$)},be.prototype.createRenderbuffer=function(Y,ct,$){var ht=this.gl,Lt=ht.createRenderbuffer();return this.bindRenderbuffer.set(Lt),ht.renderbufferStorage(ht.RENDERBUFFER,Y,ct,$),this.bindRenderbuffer.set(null),Lt},be.prototype.createFramebuffer=function(Y,ct,$){return new je(this,Y,ct,$)},be.prototype.clear=function(Y){var ct=Y.color,$=Y.depth,ht=this.gl,Lt=0;ct&&(Lt|=ht.COLOR_BUFFER_BIT,this.clearColor.set(ct),this.colorMask.set([!0,!0,!0,!0])),void 0!==$&&(Lt|=ht.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set($),this.depthMask.set(!0)),ht.clear(Lt)},be.prototype.setCullFace=function(Y){!1===Y.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Y.mode),this.frontFace.set(Y.frontFace))},be.prototype.setDepthMode=function(Y){Y.func!==this.gl.ALWAYS||Y.mask?(this.depthTest.set(!0),this.depthFunc.set(Y.func),this.depthMask.set(Y.mask),this.depthRange.set(Y.range)):this.depthTest.set(!1)},be.prototype.setStencilMode=function(Y){Y.test.func!==this.gl.ALWAYS||Y.mask?(this.stencilTest.set(!0),this.stencilMask.set(Y.mask),this.stencilOp.set([Y.fail,Y.depthFail,Y.pass]),this.stencilFunc.set({func:Y.test.func,ref:Y.ref,mask:Y.test.mask})):this.stencilTest.set(!1)},be.prototype.setColorMode=function(Y){i.deepEqual(Y.blendFunction,ne.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Y.blendFunction),this.blendColor.set(Y.blendColor)),this.colorMask.set(Y.mask)},be.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Pe=function(lt){function Y(ct,$,ht){var Lt=this;lt.call(this),this.id=ct,this.dispatcher=ht,this.on("data",function(Wt){"source"===Wt.dataType&&"metadata"===Wt.sourceDataType&&(Lt._sourceLoaded=!0),Lt._sourceLoaded&&!Lt._paused&&"source"===Wt.dataType&&"content"===Wt.sourceDataType&&(Lt.reload(),Lt.transform&&Lt.update(Lt.transform))}),this.on("error",function(){Lt._sourceErrored=!0}),this._source=function(lt,Y,ct,$){var ht=new J[Y.type](lt,Y,ct,$);if(ht.id!==lt)throw new Error("Expected Source id to be "+lt+" instead of "+ht.id);return i.bindAll(["load","abort","unload","serialize","prepare"],ht),ht}(ct,$,ht,this),this._tiles={},this._cache=new dt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new i.SourceFeatureState}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.onAdd=function($){this.map=$,this._maxTileCacheSize=$?$._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd($)},Y.prototype.onRemove=function($){this._source&&this._source.onRemove&&this._source.onRemove($)},Y.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var $ in this._tiles){var ht=this._tiles[$];if("loaded"!==ht.state&&"errored"!==ht.state)return!1}return!0},Y.prototype.getSource=function(){return this._source},Y.prototype.pause=function(){this._paused=!0},Y.prototype.resume=function(){if(this._paused){var $=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,$&&this.reload(),this.transform&&this.update(this.transform)}},Y.prototype._loadTile=function($,ht){return this._source.loadTile($,ht)},Y.prototype._unloadTile=function($){if(this._source.unloadTile)return this._source.unloadTile($,function(){})},Y.prototype._abortTile=function($){if(this._source.abortTile)return this._source.abortTile($,function(){})},Y.prototype.serialize=function(){return this._source.serialize()},Y.prototype.prepare=function($){for(var ht in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var Lt=this._tiles[ht];Lt.upload($),Lt.prepare(this.map.style.imageManager)}},Y.prototype.getIds=function(){return i.values(this._tiles).map(function($){return $.tileID}).sort(Be).map(function($){return $.key})},Y.prototype.getRenderableIds=function($){var ht=this,Lt=[];for(var Wt in this._tiles)this._isIdRenderable(Wt,$)&&Lt.push(this._tiles[Wt]);return $?Lt.sort(function(re,de){var Ie=re.tileID,Je=de.tileID,fr=new i.Point(Ie.canonical.x,Ie.canonical.y)._rotate(ht.transform.angle),mr=new i.Point(Je.canonical.x,Je.canonical.y)._rotate(ht.transform.angle);return Ie.overscaledZ-Je.overscaledZ||mr.y-fr.y||mr.x-fr.x}).map(function(re){return re.tileID.key}):Lt.map(function(re){return re.tileID}).sort(Be).map(function(re){return re.key})},Y.prototype.hasRenderableParent=function($){var ht=this.findLoadedParent($,0);return!!ht&&this._isIdRenderable(ht.tileID.key)},Y.prototype._isIdRenderable=function($,ht){return this._tiles[$]&&this._tiles[$].hasData()&&!this._coveredTiles[$]&&(ht||!this._tiles[$].holdingForFade())},Y.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var $ in this._cache.reset(),this._tiles)"errored"!==this._tiles[$].state&&this._reloadTile($,"reloading")},Y.prototype._reloadTile=function($,ht){var Lt=this._tiles[$];!Lt||("loading"!==Lt.state&&(Lt.state=ht),this._loadTile(Lt,this._tileLoaded.bind(this,Lt,$,ht)))},Y.prototype._tileLoaded=function($,ht,Lt,Wt){if(Wt)return $.state="errored",void(404!==Wt.status?this._source.fire(new i.ErrorEvent(Wt,{tile:$})):this.update(this.transform));$.timeAdded=i.browser.now(),"expired"===Lt&&($.refreshedUponExpiration=!0),this._setTileReloadTimer(ht,$),"raster-dem"===this.getSource().type&&$.dem&&this._backfillDEM($),this._state.initializeTileState($,this.map?this.map.painter:null),this._source.fire(new i.Event("data",{dataType:"source",tile:$,coord:$.tileID}))},Y.prototype._backfillDEM=function($){for(var ht=this.getRenderableIds(),Lt=0;Lt<ht.length;Lt++){var Wt=ht[Lt];if($.neighboringTiles&&$.neighboringTiles[Wt]){var re=this.getTileByID(Wt);de($,re),de(re,$)}}function de(Ie,Je){Ie.needsHillshadePrepare=!0;var fr=Je.tileID.canonical.x-Ie.tileID.canonical.x,mr=Je.tileID.canonical.y-Ie.tileID.canonical.y,Ir=Math.pow(2,Ie.tileID.canonical.z),Gr=Je.tileID.key;0===fr&&0===mr||Math.abs(mr)>1||(Math.abs(fr)>1&&(1===Math.abs(fr+Ir)?fr+=Ir:1===Math.abs(fr-Ir)&&(fr-=Ir)),Je.dem&&Ie.dem&&(Ie.dem.backfillBorder(Je.dem,fr,mr),Ie.neighboringTiles&&Ie.neighboringTiles[Gr]&&(Ie.neighboringTiles[Gr].backfilled=!0)))}},Y.prototype.getTile=function($){return this.getTileByID($.key)},Y.prototype.getTileByID=function($){return this._tiles[$]},Y.prototype._retainLoadedChildren=function($,ht,Lt,Wt){for(var re in this._tiles){var de=this._tiles[re];if(!(Wt[re]||!de.hasData()||de.tileID.overscaledZ<=ht||de.tileID.overscaledZ>Lt)){for(var Ie=de.tileID;de&&de.tileID.overscaledZ>ht+1;){var Je=de.tileID.scaledTo(de.tileID.overscaledZ-1);(de=this._tiles[Je.key])&&de.hasData()&&(Ie=Je)}for(var fr=Ie;fr.overscaledZ>ht;)if($[(fr=fr.scaledTo(fr.overscaledZ-1)).key]){Wt[Ie.key]=Ie;break}}}},Y.prototype.findLoadedParent=function($,ht){if($.key in this._loadedParentTiles){var Lt=this._loadedParentTiles[$.key];return Lt&&Lt.tileID.overscaledZ>=ht?Lt:null}for(var Wt=$.overscaledZ-1;Wt>=ht;Wt--){var re=$.scaledTo(Wt),de=this._getLoadedTile(re);if(de)return de}},Y.prototype._getLoadedTile=function($){var ht=this._tiles[$.key];return ht&&ht.hasData()?ht:this._cache.getByKey($.wrapped().key)},Y.prototype.updateCacheSize=function($){var ht=Math.ceil($.width/this._source.tileSize)+1,Lt=Math.ceil($.height/this._source.tileSize)+1,de=Math.floor(ht*Lt*5),Ie="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,de):de;this._cache.setMaxSize(Ie)},Y.prototype.handleWrapJump=function($){var re=Math.round(($-(void 0===this._prevLng?$:this._prevLng))/360);if(this._prevLng=$,re){var de={};for(var Ie in this._tiles){var Je=this._tiles[Ie];Je.tileID=Je.tileID.unwrapTo(Je.tileID.wrap+re),de[Je.tileID.key]=Je}for(var fr in this._tiles=de,this._timers)clearTimeout(this._timers[fr]),delete this._timers[fr];for(var mr in this._tiles)this._setTileReloadTimer(mr,this._tiles[mr])}},Y.prototype.update=function($){var ht=this;if(this.transform=$,this._sourceLoaded&&!this._paused){var Lt;this.updateCacheSize($),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?Lt=$.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(aa){return new i.OverscaledTileID(aa.canonical.z,aa.wrap,aa.canonical.z,aa.canonical.x,aa.canonical.y)}):(Lt=$.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Lt=Lt.filter(function(aa){return ht._source.hasTile(aa)}))):Lt=[];var Wt=$.coveringZoomLevel(this._source),re=Math.max(Wt-Y.maxOverzooming,this._source.minzoom),de=Math.max(Wt+Y.maxUnderzooming,this._source.minzoom),Ie=this._updateRetainedTiles(Lt,Wt);if(Qe(this._source.type)){for(var Je={},fr={},Ir=0,Gr=Object.keys(Ie);Ir<Gr.length;Ir+=1){var Wr=Gr[Ir],Ur=Ie[Wr],Kr=this._tiles[Wr];if(Kr&&!(Kr.fadeEndTime&&Kr.fadeEndTime<=i.browser.now())){var fn=this.findLoadedParent(Ur,re);fn&&(this._addTile(fn.tileID),Je[fn.tileID.key]=fn.tileID),fr[Wr]=Ur}}for(var Mn in this._retainLoadedChildren(fr,Wt,de,Ie),Je)Ie[Mn]||(this._coveredTiles[Mn]=!0,Ie[Mn]=Je[Mn])}for(var Rn in Ie)this._tiles[Rn].clearFadeHold();for(var Un=0,Nn=i.keysDifference(this._tiles,Ie);Un<Nn.length;Un+=1){var $n=Nn[Un],sa=this._tiles[$n];sa.hasSymbolBuckets&&!sa.holdingForFade()?sa.setHoldDuration(this.map._fadeDuration):(!sa.hasSymbolBuckets||sa.symbolFadeFinished())&&this._removeTile($n)}this._updateLoadedParentTileCache()}},Y.prototype.releaseSymbolFadeTiles=function(){for(var $ in this._tiles)this._tiles[$].holdingForFade()&&this._removeTile($)},Y.prototype._updateRetainedTiles=function($,ht){for(var Lt={},Wt={},re=Math.max(ht-Y.maxOverzooming,this._source.minzoom),de=Math.max(ht+Y.maxUnderzooming,this._source.minzoom),Ie={},Je=0,fr=$;Je<fr.length;Je+=1){var mr=fr[Je],Ir=this._addTile(mr);Lt[mr.key]=mr,!Ir.hasData()&&ht<this._source.maxzoom&&(Ie[mr.key]=mr)}this._retainLoadedChildren(Ie,ht,de,Lt);for(var Gr=0,Wr=$;Gr<Wr.length;Gr+=1){var Ur=Wr[Gr],Kr=this._tiles[Ur.key];if(!Kr.hasData()){if(ht+1>this._source.maxzoom){var fn=Ur.children(this._source.maxzoom)[0],Mn=this.getTile(fn);if(Mn&&Mn.hasData()){Lt[fn.key]=fn;continue}}else{var Rn=Ur.children(this._source.maxzoom);if(Lt[Rn[0].key]&&Lt[Rn[1].key]&&Lt[Rn[2].key]&&Lt[Rn[3].key])continue}for(var Bn=Kr.wasRequested(),Un=Ur.overscaledZ-1;Un>=re;--Un){var Nn=Ur.scaledTo(Un);if(Wt[Nn.key]||(Wt[Nn.key]=!0,!(Kr=this.getTile(Nn))&&Bn&&(Kr=this._addTile(Nn)),Kr&&(Lt[Nn.key]=Nn,Bn=Kr.wasRequested(),Kr.hasData())))break}}}return Lt},Y.prototype._updateLoadedParentTileCache=function(){for(var $ in this._loadedParentTiles={},this._tiles){for(var ht=[],Lt=void 0,Wt=this._tiles[$].tileID;Wt.overscaledZ>0;){if(Wt.key in this._loadedParentTiles){Lt=this._loadedParentTiles[Wt.key];break}ht.push(Wt.key);var re=Wt.scaledTo(Wt.overscaledZ-1);if(Lt=this._getLoadedTile(re))break;Wt=re}for(var de=0,Ie=ht;de<Ie.length;de+=1)this._loadedParentTiles[Ie[de]]=Lt}},Y.prototype._addTile=function($){var ht=this._tiles[$.key];if(ht)return ht;(ht=this._cache.getAndRemove($))&&(this._setTileReloadTimer($.key,ht),ht.tileID=$,this._state.initializeTileState(ht,this.map?this.map.painter:null),this._cacheTimers[$.key]&&(clearTimeout(this._cacheTimers[$.key]),delete this._cacheTimers[$.key],this._setTileReloadTimer($.key,ht)));var Lt=Boolean(ht);return Lt||(ht=new i.Tile($,this._source.tileSize*$.overscaleFactor()),this._loadTile(ht,this._tileLoaded.bind(this,ht,$.key,ht.state))),ht?(ht.uses++,this._tiles[$.key]=ht,Lt||this._source.fire(new i.Event("dataloading",{tile:ht,coord:ht.tileID,dataType:"source"})),ht):null},Y.prototype._setTileReloadTimer=function($,ht){var Lt=this;$ in this._timers&&(clearTimeout(this._timers[$]),delete this._timers[$]);var Wt=ht.getExpiryTimeout();Wt&&(this._timers[$]=setTimeout(function(){Lt._reloadTile($,"expired"),delete Lt._timers[$]},Wt))},Y.prototype._removeTile=function($){var ht=this._tiles[$];!ht||(ht.uses--,delete this._tiles[$],this._timers[$]&&(clearTimeout(this._timers[$]),delete this._timers[$]),!(ht.uses>0)&&(ht.hasData()&&"reloading"!==ht.state?this._cache.add(ht.tileID,ht,ht.getExpiryTimeout()):(ht.aborted=!0,this._abortTile(ht),this._unloadTile(ht))))},Y.prototype.clearTiles=function(){for(var $ in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile($);this._cache.reset()},Y.prototype.tilesIn=function($,ht,Lt){var Wt=this,re=[],de=this.transform;if(!de)return re;for(var Ie=Lt?de.getCameraQueryGeometry($):$,Je=$.map(function(Un){return de.pointCoordinate(Un)}),fr=Ie.map(function(Un){return de.pointCoordinate(Un)}),mr=this.getIds(),Ir=1/0,Gr=1/0,Wr=-1/0,Ur=-1/0,Kr=0,fn=fr;Kr<fn.length;Kr+=1){var Mn=fn[Kr];Ir=Math.min(Ir,Mn.x),Gr=Math.min(Gr,Mn.y),Wr=Math.max(Wr,Mn.x),Ur=Math.max(Ur,Mn.y)}for(var Rn=function(Un){var Nn=Wt._tiles[mr[Un]];if(!Nn.holdingForFade()){var $n=Nn.tileID,sa=Math.pow(2,de.zoom-Nn.tileID.overscaledZ),aa=ht*Nn.queryPadding*i.EXTENT/Nn.tileSize/sa,fa=[$n.getTilePoint(new i.MercatorCoordinate(Ir,Gr)),$n.getTilePoint(new i.MercatorCoordinate(Wr,Ur))];if(fa[0].x-aa<i.EXTENT&&fa[0].y-aa<i.EXTENT&&fa[1].x+aa>=0&&fa[1].y+aa>=0){var pa=Je.map(function(Fa){return $n.getTilePoint(Fa)}),Ca=fr.map(function(Fa){return $n.getTilePoint(Fa)});re.push({tile:Nn,tileID:$n,queryGeometry:pa,cameraQueryGeometry:Ca,scale:sa})}}},Bn=0;Bn<mr.length;Bn++)Rn(Bn);return re},Y.prototype.getVisibleCoordinates=function($){for(var ht=this,Lt=this.getRenderableIds($).map(function(Ie){return ht._tiles[Ie].tileID}),Wt=0,re=Lt;Wt<re.length;Wt+=1){var de=re[Wt];de.posMatrix=this.transform.calculatePosMatrix(de.toUnwrapped())}return Lt},Y.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Qe(this._source.type))for(var $ in this._tiles){var ht=this._tiles[$];if(void 0!==ht.fadeEndTime&&ht.fadeEndTime>=i.browser.now())return!0}return!1},Y.prototype.setFeatureState=function($,ht,Lt){this._state.updateState($=$||"_geojsonTileLayer",ht,Lt)},Y.prototype.removeFeatureState=function($,ht,Lt){this._state.removeFeatureState($=$||"_geojsonTileLayer",ht,Lt)},Y.prototype.getFeatureState=function($,ht){return this._state.getState($=$||"_geojsonTileLayer",ht)},Y.prototype.setDependencies=function($,ht,Lt){var Wt=this._tiles[$];Wt&&Wt.setDependencies(ht,Lt)},Y.prototype.reloadTilesForDependencies=function($,ht){for(var Lt in this._tiles)this._tiles[Lt].hasDependency($,ht)&&this._reloadTile(Lt,"reloading");this._cache.filter(function(re){return!re.hasDependency($,ht)})},Y}(i.Evented);function Be(lt,Y){var ct=Math.abs(2*lt.wrap)-+(lt.wrap<0),$=Math.abs(2*Y.wrap)-+(Y.wrap<0);return lt.overscaledZ-Y.overscaledZ||$-ct||Y.canonical.y-lt.canonical.y||Y.canonical.x-lt.canonical.x}function Qe(lt){return"raster"===lt||"image"===lt||"video"===lt}function Ke(){return new i.window.Worker(Ec.workerUrl)}Pe.maxOverzooming=10,Pe.maxUnderzooming=3;var tr="mapboxgl_preloaded_worker_pool",vr=function(){this.active={}};vr.prototype.acquire=function(Y){if(!this.workers)for(this.workers=[];this.workers.length<vr.workerCount;)this.workers.push(new Ke);return this.active[Y]=!0,this.workers.slice()},vr.prototype.release=function(Y){delete this.active[Y],0===this.numActive()&&(this.workers.forEach(function(ct){ct.terminate()}),this.workers=null)},vr.prototype.isPreloaded=function(){return!!this.active[tr]},vr.prototype.numActive=function(){return Object.keys(this.active).length};var Nt,Ht=Math.floor(i.browser.hardwareConcurrency/2);function Se(){return Nt||(Nt=new vr),Nt}function rr(lt,Y){var ct={};for(var $ in lt)"ref"!==$&&(ct[$]=lt[$]);return i.refProperties.forEach(function(ht){ht in Y&&(ct[ht]=Y[ht])}),ct}function or(lt){lt=lt.slice();for(var Y=Object.create(null),ct=0;ct<lt.length;ct++)Y[lt[ct].id]=lt[ct];for(var $=0;$<lt.length;$++)"ref"in lt[$]&&(lt[$]=rr(lt[$],Y[lt[$].ref]));return lt}vr.workerCount=Math.max(Math.min(Ht,6),1);var De={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function sr(lt,Y,ct){ct.push({command:De.addSource,args:[lt,Y[lt]]})}function gr(lt,Y,ct){Y.push({command:De.removeSource,args:[lt]}),ct[lt]=!0}function dr(lt,Y,ct,$){gr(lt,ct,$),sr(lt,Y,ct)}function Pr(lt,Y,ct){var $;for($ in lt[ct])if(lt[ct].hasOwnProperty($)&&"data"!==$&&!i.deepEqual(lt[ct][$],Y[ct][$]))return!1;for($ in Y[ct])if(Y[ct].hasOwnProperty($)&&"data"!==$&&!i.deepEqual(lt[ct][$],Y[ct][$]))return!1;return!0}function Er(lt,Y,ct,$,ht,Lt){var Wt;for(Wt in Y=Y||{},lt=lt||{})!lt.hasOwnProperty(Wt)||i.deepEqual(lt[Wt],Y[Wt])||ct.push({command:Lt,args:[$,Wt,Y[Wt],ht]});for(Wt in Y)!Y.hasOwnProperty(Wt)||lt.hasOwnProperty(Wt)||i.deepEqual(lt[Wt],Y[Wt])||ct.push({command:Lt,args:[$,Wt,Y[Wt],ht]})}function Zr(lt){return lt.id}function rn(lt,Y){return lt[Y.id]=Y,lt}function Pn(lt,Y){if(!lt)return[{command:De.setStyle,args:[Y]}];var ct=[];try{if(!i.deepEqual(lt.version,Y.version))return[{command:De.setStyle,args:[Y]}];i.deepEqual(lt.center,Y.center)||ct.push({command:De.setCenter,args:[Y.center]}),i.deepEqual(lt.zoom,Y.zoom)||ct.push({command:De.setZoom,args:[Y.zoom]}),i.deepEqual(lt.bearing,Y.bearing)||ct.push({command:De.setBearing,args:[Y.bearing]}),i.deepEqual(lt.pitch,Y.pitch)||ct.push({command:De.setPitch,args:[Y.pitch]}),i.deepEqual(lt.sprite,Y.sprite)||ct.push({command:De.setSprite,args:[Y.sprite]}),i.deepEqual(lt.glyphs,Y.glyphs)||ct.push({command:De.setGlyphs,args:[Y.glyphs]}),i.deepEqual(lt.transition,Y.transition)||ct.push({command:De.setTransition,args:[Y.transition]}),i.deepEqual(lt.light,Y.light)||ct.push({command:De.setLight,args:[Y.light]});var $={},ht=[];!function qr(lt,Y,ct,$){var ht;for(ht in Y=Y||{},lt=lt||{})!lt.hasOwnProperty(ht)||Y.hasOwnProperty(ht)||gr(ht,ct,$);for(ht in Y)!Y.hasOwnProperty(ht)||(lt.hasOwnProperty(ht)?i.deepEqual(lt[ht],Y[ht])||("geojson"===lt[ht].type&&"geojson"===Y[ht].type&&Pr(lt,Y,ht)?ct.push({command:De.setGeoJSONSourceData,args:[ht,Y[ht].data]}):dr(ht,Y,ct,$)):sr(ht,Y,ct))}(lt.sources,Y.sources,ht,$);var Lt=[];lt.layers&&lt.layers.forEach(function(Wt){$[Wt.source]?ct.push({command:De.removeLayer,args:[Wt.id]}):Lt.push(Wt)}),ct=ct.concat(ht),function zr(lt,Y,ct){Y=Y||[];var Ie,Je,fr,mr,Ir,Gr,Wr,$=(lt=lt||[]).map(Zr),ht=Y.map(Zr),Lt=lt.reduce(rn,{}),Wt=Y.reduce(rn,{}),re=$.slice(),de=Object.create(null);for(Ie=0,Je=0;Ie<$.length;Ie++)Wt.hasOwnProperty(fr=$[Ie])?Je++:(ct.push({command:De.removeLayer,args:[fr]}),re.splice(re.indexOf(fr,Je),1));for(Ie=0,Je=0;Ie<ht.length;Ie++)re[re.length-1-Ie]!==(fr=ht[ht.length-1-Ie])&&(Lt.hasOwnProperty(fr)?(ct.push({command:De.removeLayer,args:[fr]}),re.splice(re.lastIndexOf(fr,re.length-Je),1)):Je++,ct.push({command:De.addLayer,args:[Wt[fr],Gr=re[re.length-Ie]]}),re.splice(re.length-Ie,0,fr),de[fr]=!0);for(Ie=0;Ie<ht.length;Ie++)if(mr=Lt[fr=ht[Ie]],Ir=Wt[fr],!de[fr]&&!i.deepEqual(mr,Ir)){if(!i.deepEqual(mr.source,Ir.source)||!i.deepEqual(mr["source-layer"],Ir["source-layer"])||!i.deepEqual(mr.type,Ir.type)){ct.push({command:De.removeLayer,args:[fr]}),Gr=re[re.lastIndexOf(fr)+1],ct.push({command:De.addLayer,args:[Ir,Gr]});continue}for(Wr in Er(mr.layout,Ir.layout,ct,fr,null,De.setLayoutProperty),Er(mr.paint,Ir.paint,ct,fr,null,De.setPaintProperty),i.deepEqual(mr.filter,Ir.filter)||ct.push({command:De.setFilter,args:[fr,Ir.filter]}),(!i.deepEqual(mr.minzoom,Ir.minzoom)||!i.deepEqual(mr.maxzoom,Ir.maxzoom))&&ct.push({command:De.setLayerZoomRange,args:[fr,Ir.minzoom,Ir.maxzoom]}),mr)!mr.hasOwnProperty(Wr)||"layout"===Wr||"paint"===Wr||"filter"===Wr||"metadata"===Wr||"minzoom"===Wr||"maxzoom"===Wr||(0===Wr.indexOf("paint.")?Er(mr[Wr],Ir[Wr],ct,fr,Wr.slice(6),De.setPaintProperty):i.deepEqual(mr[Wr],Ir[Wr])||ct.push({command:De.setLayerProperty,args:[fr,Wr,Ir[Wr]]}));for(Wr in Ir)!Ir.hasOwnProperty(Wr)||mr.hasOwnProperty(Wr)||"layout"===Wr||"paint"===Wr||"filter"===Wr||"metadata"===Wr||"minzoom"===Wr||"maxzoom"===Wr||(0===Wr.indexOf("paint.")?Er(mr[Wr],Ir[Wr],ct,fr,Wr.slice(6),De.setPaintProperty):i.deepEqual(mr[Wr],Ir[Wr])||ct.push({command:De.setLayerProperty,args:[fr,Wr,Ir[Wr]]}))}}(Lt,Y.layers,ct)}catch(Wt){console.warn("Unable to compute style diff:",Wt),ct=[{command:De.setStyle,args:[Y]}]}return ct}var An=function(Y,ct){this.reset(Y,ct)};An.prototype.reset=function(Y,ct){this.points=Y||[],this._distances=[0];for(var $=1;$<this.points.length;$++)this._distances[$]=this._distances[$-1]+this.points[$].dist(this.points[$-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ct||0,.5*this.length),this.paddedLength=this.length-2*this.padding},An.prototype.lerp=function(Y){if(1===this.points.length)return this.points[0];Y=i.clamp(Y,0,1);for(var ct=1,$=this._distances[ct],ht=Y*this.paddedLength+this.padding;$<ht&&ct<this._distances.length;)$=this._distances[++ct];var Lt=ct-1,Wt=this._distances[Lt],re=$-Wt,de=re>0?(ht-Wt)/re:0;return this.points[Lt].mult(1-de).add(this.points[ct].mult(de))};var lr=function(Y,ct,$){var ht=this.boxCells=[],Lt=this.circleCells=[];this.xCellCount=Math.ceil(Y/$),this.yCellCount=Math.ceil(ct/$);for(var Wt=0;Wt<this.xCellCount*this.yCellCount;Wt++)ht.push([]),Lt.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Y,this.height=ct,this.xScale=this.xCellCount/Y,this.yScale=this.yCellCount/ct,this.boxUid=0,this.circleUid=0};function yr(lt,Y,ct,$,ht){var Lt=i.create();return Y?(i.scale(Lt,Lt,[1/ht,1/ht,1]),ct||i.rotateZ(Lt,Lt,$.angle)):i.multiply(Lt,$.labelPlaneMatrix,lt),Lt}function Fr(lt,Y,ct,$,ht){if(Y){var Lt=i.clone(lt);return i.scale(Lt,Lt,[ht,ht,1]),ct||i.rotateZ(Lt,Lt,-$.angle),Lt}return $.glCoordMatrix}function Br(lt,Y){var ct=[lt.x,lt.y,0,1];Tr(ct,ct,Y);var $=ct[3];return{point:new i.Point(ct[0]/$,ct[1]/$),signedDistanceFromCamera:$}}function _r(lt,Y){return.5+lt/Y*.5}function dn(lt,Y){var ct=lt[0]/lt[3],$=lt[1]/lt[3];return ct>=-Y[0]&&ct<=Y[0]&&$>=-Y[1]&&$<=Y[1]}function hn(lt,Y,ct,$,ht,Lt,Wt,re){var de=$?lt.textSizeData:lt.iconSizeData,Ie=i.evaluateSizeForZoom(de,ct.transform.zoom),Je=[256/ct.width*2+1,256/ct.height*2+1],fr=$?lt.text.dynamicLayoutVertexArray:lt.icon.dynamicLayoutVertexArray;fr.clear();for(var mr=lt.lineVertexArray,Ir=$?lt.text.placedSymbolArray:lt.icon.placedSymbolArray,Gr=ct.transform.width/ct.transform.height,Wr=!1,Ur=0;Ur<Ir.length;Ur++){var Kr=Ir.get(Ur);if(Kr.hidden||Kr.writingMode===i.WritingMode.vertical&&!Wr)Qn(Kr.numGlyphs,fr);else{Wr=!1;var fn=[Kr.anchorX,Kr.anchorY,0,1];if(i.transformMat4(fn,fn,Y),dn(fn,Je)){var Rn=_r(ct.transform.cameraToCenterDistance,fn[3]),Bn=i.evaluateSizeForFeature(de,Ie,Kr),Un=Wt?Bn/Rn:Bn*Rn,Nn=new i.Point(Kr.anchorX,Kr.anchorY),$n=Br(Nn,ht).point,sa={},aa=Vn(Kr,Un,!1,re,Y,ht,Lt,lt.glyphOffsetArray,mr,fr,$n,Nn,sa,Gr);Wr=aa.useVertical,(aa.notEnoughRoom||Wr||aa.needsFlipping&&Vn(Kr,Un,!0,re,Y,ht,Lt,lt.glyphOffsetArray,mr,fr,$n,Nn,sa,Gr).notEnoughRoom)&&Qn(Kr.numGlyphs,fr)}else Qn(Kr.numGlyphs,fr)}}$?lt.text.dynamicLayoutVertexBuffer.updateData(fr):lt.icon.dynamicLayoutVertexBuffer.updateData(fr)}function xn(lt,Y,ct,$,ht,Lt,Wt,re,de,Ie,Je){var fr=re.glyphStartIndex+re.numGlyphs,mr=re.lineStartIndex,Ir=re.lineStartIndex+re.lineLength,Gr=Y.getoffsetX(re.glyphStartIndex),Wr=Y.getoffsetX(fr-1),Ur=ia(lt*Gr,ct,$,ht,Lt,Wt,re.segment,mr,Ir,de,Ie,Je);if(!Ur)return null;var Kr=ia(lt*Wr,ct,$,ht,Lt,Wt,re.segment,mr,Ir,de,Ie,Je);return Kr?{first:Ur,last:Kr}:null}function En(lt,Y,ct,$){return lt===i.WritingMode.horizontal&&Math.abs(ct.y-Y.y)>Math.abs(ct.x-Y.x)*$?{useVertical:!0}:(lt===i.WritingMode.vertical?Y.y<ct.y:Y.x>ct.x)?{needsFlipping:!0}:null}function Vn(lt,Y,ct,$,ht,Lt,Wt,re,de,Ie,Je,fr,mr,Ir){var Kr,Gr=Y/24,Wr=lt.lineOffsetX*Gr,Ur=lt.lineOffsetY*Gr;if(lt.numGlyphs>1){var fn=lt.glyphStartIndex+lt.numGlyphs,Mn=lt.lineStartIndex,Rn=lt.lineStartIndex+lt.lineLength,Bn=xn(Gr,re,Wr,Ur,ct,Je,fr,lt,de,Lt,mr);if(!Bn)return{notEnoughRoom:!0};var Un=Br(Bn.first.point,Wt).point,Nn=Br(Bn.last.point,Wt).point;if($&&!ct){var $n=En(lt.writingMode,Un,Nn,Ir);if($n)return $n}Kr=[Bn.first];for(var sa=lt.glyphStartIndex+1;sa<fn-1;sa++)Kr.push(ia(Gr*re.getoffsetX(sa),Wr,Ur,ct,Je,fr,lt.segment,Mn,Rn,de,Lt,mr));Kr.push(Bn.last)}else{if($&&!ct){var aa=Br(fr,ht).point,fa=lt.lineStartIndex+lt.segment+1,pa=new i.Point(de.getx(fa),de.gety(fa)),Ca=Br(pa,ht),Fa=Ca.signedDistanceFromCamera>0?Ca.point:Gn(fr,pa,aa,1,ht),$a=En(lt.writingMode,aa,Fa,Ir);if($a)return $a}var za=ia(Gr*re.getoffsetX(lt.glyphStartIndex),Wr,Ur,ct,Je,fr,lt.segment,lt.lineStartIndex,lt.lineStartIndex+lt.lineLength,de,Lt,mr);if(!za)return{notEnoughRoom:!0};Kr=[za]}for(var Ha=0,Ta=Kr;Ha<Ta.length;Ha+=1){var _a=Ta[Ha];i.addDynamicAttributes(Ie,_a.point,_a.angle)}return{}}function Gn(lt,Y,ct,$,ht){var Lt=Br(lt.add(lt.sub(Y)._unit()),ht).point,Wt=ct.sub(Lt);return ct.add(Wt._mult($/Wt.mag()))}function ia(lt,Y,ct,$,ht,Lt,Wt,re,de,Ie,Je,fr){var mr=$?lt-Y:lt+Y,Ir=mr>0?1:-1,Gr=0;$&&(Ir*=-1,Gr=Math.PI),Ir<0&&(Gr+=Math.PI);for(var Wr=Ir>0?re+Wt:re+Wt+1,Ur=ht,Kr=ht,fn=0,Mn=0,Rn=Math.abs(mr),Bn=[];fn+Mn<=Rn;){if((Wr+=Ir)<re||Wr>=de)return null;if(Kr=Ur,Bn.push(Ur),void 0===(Ur=fr[Wr])){var Un=new i.Point(Ie.getx(Wr),Ie.gety(Wr)),Nn=Br(Un,Je);if(Nn.signedDistanceFromCamera>0)Ur=fr[Wr]=Nn.point;else{var $n=Wr-Ir;Ur=Gn(0===fn?Lt:new i.Point(Ie.getx($n),Ie.gety($n)),Un,Kr,Rn-fn+1,Je)}}fn+=Mn,Mn=Kr.dist(Ur)}var aa=(Rn-fn)/Mn,fa=Ur.sub(Kr),pa=fa.mult(aa)._add(Kr);pa._add(fa._unit()._perp()._mult(ct*Ir));var Ca=Gr+Math.atan2(Ur.y-Kr.y,Ur.x-Kr.x);return Bn.push(pa),{point:pa,angle:Ca,path:Bn}}lr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},lr.prototype.insert=function(Y,ct,$,ht,Lt){this._forEachCell(ct,$,ht,Lt,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Y),this.bboxes.push(ct),this.bboxes.push($),this.bboxes.push(ht),this.bboxes.push(Lt)},lr.prototype.insertCircle=function(Y,ct,$,ht){this._forEachCell(ct-ht,$-ht,ct+ht,$+ht,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Y),this.circles.push(ct),this.circles.push($),this.circles.push(ht)},lr.prototype._insertBoxCell=function(Y,ct,$,ht,Lt,Wt){this.boxCells[Lt].push(Wt)},lr.prototype._insertCircleCell=function(Y,ct,$,ht,Lt,Wt){this.circleCells[Lt].push(Wt)},lr.prototype._query=function(Y,ct,$,ht,Lt,Wt){if($<0||Y>this.width||ht<0||ct>this.height)return!Lt&&[];var re=[];if(Y<=0&&ct<=0&&this.width<=$&&this.height<=ht){if(Lt)return!0;for(var de=0;de<this.boxKeys.length;de++)re.push({key:this.boxKeys[de],x1:this.bboxes[4*de],y1:this.bboxes[4*de+1],x2:this.bboxes[4*de+2],y2:this.bboxes[4*de+3]});for(var Ie=0;Ie<this.circleKeys.length;Ie++){var Je=this.circles[3*Ie],fr=this.circles[3*Ie+1],mr=this.circles[3*Ie+2];re.push({key:this.circleKeys[Ie],x1:Je-mr,y1:fr-mr,x2:Je+mr,y2:fr+mr})}return Wt?re.filter(Wt):re}return this._forEachCell(Y,ct,$,ht,this._queryCell,re,{hitTest:Lt,seenUids:{box:{},circle:{}}},Wt),Lt?re.length>0:re},lr.prototype._queryCircle=function(Y,ct,$,ht,Lt){var Wt=Y-$,re=Y+$,de=ct-$,Ie=ct+$;if(re<0||Wt>this.width||Ie<0||de>this.height)return!ht&&[];var Je=[];return this._forEachCell(Wt,de,re,Ie,this._queryCellCircle,Je,{hitTest:ht,circle:{x:Y,y:ct,radius:$},seenUids:{box:{},circle:{}}},Lt),ht?Je.length>0:Je},lr.prototype.query=function(Y,ct,$,ht,Lt){return this._query(Y,ct,$,ht,!1,Lt)},lr.prototype.hitTest=function(Y,ct,$,ht,Lt){return this._query(Y,ct,$,ht,!0,Lt)},lr.prototype.hitTestCircle=function(Y,ct,$,ht){return this._queryCircle(Y,ct,$,!0,ht)},lr.prototype._queryCell=function(Y,ct,$,ht,Lt,Wt,re,de){var Ie=re.seenUids,Je=this.boxCells[Lt];if(null!==Je)for(var fr=this.bboxes,mr=0,Ir=Je;mr<Ir.length;mr+=1){var Gr=Ir[mr];if(!Ie.box[Gr]){Ie.box[Gr]=!0;var Wr=4*Gr;if(Y<=fr[Wr+2]&&ct<=fr[Wr+3]&&$>=fr[Wr+0]&&ht>=fr[Wr+1]&&(!de||de(this.boxKeys[Gr]))){if(re.hitTest)return Wt.push(!0),!0;Wt.push({key:this.boxKeys[Gr],x1:fr[Wr],y1:fr[Wr+1],x2:fr[Wr+2],y2:fr[Wr+3]})}}}var Ur=this.circleCells[Lt];if(null!==Ur)for(var Kr=this.circles,fn=0,Mn=Ur;fn<Mn.length;fn+=1){var Rn=Mn[fn];if(!Ie.circle[Rn]){Ie.circle[Rn]=!0;var Bn=3*Rn;if(this._circleAndRectCollide(Kr[Bn],Kr[Bn+1],Kr[Bn+2],Y,ct,$,ht)&&(!de||de(this.circleKeys[Rn]))){if(re.hitTest)return Wt.push(!0),!0;var Un=Kr[Bn],Nn=Kr[Bn+1],$n=Kr[Bn+2];Wt.push({key:this.circleKeys[Rn],x1:Un-$n,y1:Nn-$n,x2:Un+$n,y2:Nn+$n})}}}},lr.prototype._queryCellCircle=function(Y,ct,$,ht,Lt,Wt,re,de){var Ie=re.circle,Je=re.seenUids,fr=this.boxCells[Lt];if(null!==fr)for(var mr=this.bboxes,Ir=0,Gr=fr;Ir<Gr.length;Ir+=1){var Wr=Gr[Ir];if(!Je.box[Wr]){Je.box[Wr]=!0;var Ur=4*Wr;if(this._circleAndRectCollide(Ie.x,Ie.y,Ie.radius,mr[Ur+0],mr[Ur+1],mr[Ur+2],mr[Ur+3])&&(!de||de(this.boxKeys[Wr])))return Wt.push(!0),!0}}var Kr=this.circleCells[Lt];if(null!==Kr)for(var fn=this.circles,Mn=0,Rn=Kr;Mn<Rn.length;Mn+=1){var Bn=Rn[Mn];if(!Je.circle[Bn]){Je.circle[Bn]=!0;var Un=3*Bn;if(this._circlesCollide(fn[Un],fn[Un+1],fn[Un+2],Ie.x,Ie.y,Ie.radius)&&(!de||de(this.circleKeys[Bn])))return Wt.push(!0),!0}}},lr.prototype._forEachCell=function(Y,ct,$,ht,Lt,Wt,re,de){for(var Ie=this._convertToXCellCoord(Y),Je=this._convertToYCellCoord(ct),fr=this._convertToXCellCoord($),mr=this._convertToYCellCoord(ht),Ir=Ie;Ir<=fr;Ir++)for(var Gr=Je;Gr<=mr;Gr++)if(Lt.call(this,Y,ct,$,ht,this.xCellCount*Gr+Ir,Wt,re,de))return},lr.prototype._convertToXCellCoord=function(Y){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Y*this.xScale)))},lr.prototype._convertToYCellCoord=function(Y){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Y*this.yScale)))},lr.prototype._circlesCollide=function(Y,ct,$,ht,Lt,Wt){var re=ht-Y,de=Lt-ct,Ie=$+Wt;return Ie*Ie>re*re+de*de},lr.prototype._circleAndRectCollide=function(Y,ct,$,ht,Lt,Wt,re){var de=(Wt-ht)/2,Ie=Math.abs(Y-(ht+de));if(Ie>de+$)return!1;var Je=(re-Lt)/2,fr=Math.abs(ct-(Lt+Je));if(fr>Je+$)return!1;if(Ie<=de||fr<=Je)return!0;var mr=Ie-de,Ir=fr-Je;return mr*mr+Ir*Ir<=$*$};var Kn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Qn(lt,Y){for(var ct=0;ct<lt;ct++){var $=Y.length;Y.resize($+4),Y.float32.set(Kn,3*$)}}function Tr(lt,Y,ct){var $=Y[0],ht=Y[1];return lt[0]=ct[0]*$+ct[4]*ht+ct[12],lt[1]=ct[1]*$+ct[5]*ht+ct[13],lt[3]=ct[3]*$+ct[7]*ht+ct[15],lt}var an=100,sn=function(Y,ct,$){void 0===ct&&(ct=new lr(Y.width+200,Y.height+200,25)),void 0===$&&($=new lr(Y.width+200,Y.height+200,25)),this.transform=Y,this.grid=ct,this.ignoredGrid=$,this.pitchfactor=Math.cos(Y._pitch)*Y.cameraToCenterDistance,this.screenRightBoundary=Y.width+an,this.screenBottomBoundary=Y.height+an,this.gridRightBoundary=Y.width+200,this.gridBottomBoundary=Y.height+200};function pn(lt,Y,ct){return Y*(i.EXTENT/(lt.tileSize*Math.pow(2,ct-lt.tileID.overscaledZ)))}sn.prototype.placeCollisionBox=function(Y,ct,$,ht,Lt){var Wt=this.projectAndGetPerspectiveRatio(ht,Y.anchorPointX,Y.anchorPointY),re=$*Wt.perspectiveRatio,de=Y.x1*re+Wt.point.x,Ie=Y.y1*re+Wt.point.y,Je=Y.x2*re+Wt.point.x,fr=Y.y2*re+Wt.point.y;return!this.isInsideGrid(de,Ie,Je,fr)||!ct&&this.grid.hitTest(de,Ie,Je,fr,Lt)?{box:[],offscreen:!1}:{box:[de,Ie,Je,fr],offscreen:this.isOffscreen(de,Ie,Je,fr)}},sn.prototype.placeCollisionCircles=function(Y,ct,$,ht,Lt,Wt,re,de,Ie,Je,fr,mr,Ir){var Gr=[],Wr=new i.Point(ct.anchorX,ct.anchorY),Ur=Br(Wr,Wt),Kr=_r(this.transform.cameraToCenterDistance,Ur.signedDistanceFromCamera),Mn=(Je?Lt/Kr:Lt*Kr)/i.ONE_EM,Rn=Br(Wr,re).point,$n=xn(Mn,ht,ct.lineOffsetX*Mn,ct.lineOffsetY*Mn,!1,Rn,Wr,ct,$,re,{}),sa=!1,aa=!1,fa=!0;if($n){for(var pa=.5*mr*Kr+Ir,Ca=new i.Point(-an,-an),Fa=new i.Point(this.screenRightBoundary,this.screenBottomBoundary),$a=new An,za=$n.first,Ha=$n.last,Ta=[],_a=za.path.length-1;_a>=1;_a--)Ta.push(za.path[_a]);for(var ni=1;ni<Ha.path.length;ni++)Ta.push(Ha.path[ni]);var oi=2.5*pa;if(de){var Ya=Ta.map(function($s){return Br($s,de)});Ta=Ya.some(function($s){return $s.signedDistanceFromCamera<=0})?[]:Ya.map(function($s){return $s.point})}var ci=[];if(Ta.length>0){for(var ka=Ta[0].clone(),Za=Ta[0].clone(),Di=1;Di<Ta.length;Di++)ka.x=Math.min(ka.x,Ta[Di].x),ka.y=Math.min(ka.y,Ta[Di].y),Za.x=Math.max(Za.x,Ta[Di].x),Za.y=Math.max(Za.y,Ta[Di].y);ci=ka.x>=Ca.x&&Za.x<=Fa.x&&ka.y>=Ca.y&&Za.y<=Fa.y?[Ta]:Za.x<Ca.x||ka.x>Fa.x||Za.y<Ca.y||ka.y>Fa.y?[]:i.clipLine([Ta],Ca.x,Ca.y,Fa.x,Fa.y)}for(var Hi=0,ds=ci;Hi<ds.length;Hi+=1){$a.reset(ds[Hi],.25*pa);var js;js=$a.length<=.5*pa?1:Math.ceil($a.paddedLength/oi)+1;for(var Ks=0;Ks<js;Ks++){var wl=Ks/Math.max(js-1,1),Js=$a.lerp(wl),Co=Js.x+an,Kl=Js.y+an;Gr.push(Co,Kl,pa,0);var fo=Co-pa,qo=Kl-pa,Qs=Co+pa,Rs=Kl+pa;if(fa=fa&&this.isOffscreen(fo,qo,Qs,Rs),aa=aa||this.isInsideGrid(fo,qo,Qs,Rs),!Y&&this.grid.hitTestCircle(Co,Kl,pa,fr)&&(sa=!0,!Ie))return{circles:[],offscreen:!1,collisionDetected:sa}}}}return{circles:!Ie&&sa||!aa?[]:Gr,offscreen:fa,collisionDetected:sa}},sn.prototype.queryRenderedSymbols=function(Y){if(0===Y.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var ct=[],$=1/0,ht=1/0,Lt=-1/0,Wt=-1/0,re=0,de=Y;re<de.length;re+=1){var Ie=de[re],Je=new i.Point(Ie.x+an,Ie.y+an);$=Math.min($,Je.x),ht=Math.min(ht,Je.y),Lt=Math.max(Lt,Je.x),Wt=Math.max(Wt,Je.y),ct.push(Je)}for(var mr={},Ir={},Gr=0,Wr=this.grid.query($,ht,Lt,Wt).concat(this.ignoredGrid.query($,ht,Lt,Wt));Gr<Wr.length;Gr+=1){var Ur=Wr[Gr],Kr=Ur.key;if(void 0===mr[Kr.bucketInstanceId]&&(mr[Kr.bucketInstanceId]={}),!mr[Kr.bucketInstanceId][Kr.featureIndex]){var fn=[new i.Point(Ur.x1,Ur.y1),new i.Point(Ur.x2,Ur.y1),new i.Point(Ur.x2,Ur.y2),new i.Point(Ur.x1,Ur.y2)];!i.polygonIntersectsPolygon(ct,fn)||(mr[Kr.bucketInstanceId][Kr.featureIndex]=!0,void 0===Ir[Kr.bucketInstanceId]&&(Ir[Kr.bucketInstanceId]=[]),Ir[Kr.bucketInstanceId].push(Kr.featureIndex))}}return Ir},sn.prototype.insertCollisionBox=function(Y,ct,$,ht,Lt){(ct?this.ignoredGrid:this.grid).insert({bucketInstanceId:$,featureIndex:ht,collisionGroupID:Lt},Y[0],Y[1],Y[2],Y[3])},sn.prototype.insertCollisionCircles=function(Y,ct,$,ht,Lt){for(var Wt=ct?this.ignoredGrid:this.grid,re={bucketInstanceId:$,featureIndex:ht,collisionGroupID:Lt},de=0;de<Y.length;de+=4)Wt.insertCircle(re,Y[de],Y[de+1],Y[de+2])},sn.prototype.projectAndGetPerspectiveRatio=function(Y,ct,$){var ht=[ct,$,0,1];return Tr(ht,ht,Y),{point:new i.Point((ht[0]/ht[3]+1)/2*this.transform.width+an,(-ht[1]/ht[3]+1)/2*this.transform.height+an),perspectiveRatio:.5+this.transform.cameraToCenterDistance/ht[3]*.5}},sn.prototype.isOffscreen=function(Y,ct,$,ht){return $<an||Y>=this.screenRightBoundary||ht<an||ct>this.screenBottomBoundary},sn.prototype.isInsideGrid=function(Y,ct,$,ht){return $>=0&&Y<this.gridRightBoundary&&ht>=0&&ct<this.gridBottomBoundary},sn.prototype.getViewportMatrix=function(){var Y=i.identity([]);return i.translate(Y,Y,[-an,-an,0]),Y};var Fn=function(Y,ct,$,ht){this.opacity=Y?Math.max(0,Math.min(1,Y.opacity+(Y.placed?ct:-ct))):ht&&$?1:0,this.placed=$};Fn.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var Cn=function(Y,ct,$,ht,Lt){this.text=new Fn(Y?Y.text:null,ct,$,Lt),this.icon=new Fn(Y?Y.icon:null,ct,ht,Lt)};Cn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Ln=function(Y,ct,$){this.text=Y,this.icon=ct,this.skipFade=$},On=function(){this.invProjMatrix=i.create(),this.viewportMatrix=i.create(),this.circles=[]},Jn=function(Y,ct,$,ht,Lt){this.bucketInstanceId=Y,this.featureIndex=ct,this.sourceLayerIndex=$,this.bucketIndex=ht,this.tileID=Lt},ya=function(Y){this.crossSourceCollisions=Y,this.maxGroupID=0,this.collisionGroups={}};function Ba(lt,Y,ct,$,ht){var Lt=i.getAnchorAlignment(lt),de=-(Lt.horizontalAlign-.5)*Y,Ie=-(Lt.verticalAlign-.5)*ct,Je=i.evaluateVariableOffset(lt,$);return new i.Point(de+Je[0]*ht,Ie+Je[1]*ht)}function Xe(lt,Y,ct,$,ht,Lt){var Wt=lt.x1,re=lt.x2,de=lt.y1,Ie=lt.y2,Je=lt.anchorPointX,fr=lt.anchorPointY,mr=new i.Point(Y,ct);return $&&mr._rotate(ht?Lt:-Lt),{x1:Wt+mr.x,y1:de+mr.y,x2:re+mr.x,y2:Ie+mr.y,anchorPointX:Je,anchorPointY:fr}}ya.prototype.get=function(Y){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Y]){var ct=++this.maxGroupID;this.collisionGroups[Y]={ID:ct,predicate:function($){return $.collisionGroupID===ct}}}return this.collisionGroups[Y]};var br=function(Y,ct,$,ht){this.transform=Y.clone(),this.collisionIndex=new sn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ct,this.retainedQueryData={},this.collisionGroups=new ya($),this.collisionCircleArrays={},this.prevPlacement=ht,ht&&(ht.prevPlacement=void 0),this.placedOrientations={}};function en(lt,Y,ct,$,ht){lt.emplaceBack(Y?1:0,ct?1:0,$||0,ht||0),lt.emplaceBack(Y?1:0,ct?1:0,$||0,ht||0),lt.emplaceBack(Y?1:0,ct?1:0,$||0,ht||0),lt.emplaceBack(Y?1:0,ct?1:0,$||0,ht||0)}br.prototype.getBucketParts=function(Y,ct,$,ht){var Lt=$.getBucket(ct),Wt=$.latestFeatureIndex;if(Lt&&Wt&&ct.id===Lt.layerIds[0]){var re=$.collisionBoxArray,de=Lt.layers[0].layout,Ie=Math.pow(2,this.transform.zoom-$.tileID.overscaledZ),Je=$.tileSize/i.EXTENT,fr=this.transform.calculatePosMatrix($.tileID.toUnwrapped()),mr="map"===de.get("text-pitch-alignment"),Ir="map"===de.get("text-rotation-alignment"),Gr=pn($,1,this.transform.zoom),Wr=yr(fr,mr,Ir,this.transform,Gr),Ur=null;if(mr){var Kr=Fr(fr,mr,Ir,this.transform,Gr);Ur=i.multiply([],this.transform.labelPlaneMatrix,Kr)}this.retainedQueryData[Lt.bucketInstanceId]=new Jn(Lt.bucketInstanceId,Wt,Lt.sourceLayerIndex,Lt.index,$.tileID);var fn={bucket:Lt,layout:de,posMatrix:fr,textLabelPlaneMatrix:Wr,labelToScreenMatrix:Ur,scale:Ie,textPixelRatio:Je,holdingForFade:$.holdingForFade(),collisionBoxArray:re,partiallyEvaluatedTextSize:i.evaluateSizeForZoom(Lt.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Lt.sourceID)};if(ht)for(var Mn=0,Rn=Lt.sortKeyRanges;Mn<Rn.length;Mn+=1){var Bn=Rn[Mn];Y.push({sortKey:Bn.sortKey,symbolInstanceStart:Bn.symbolInstanceStart,symbolInstanceEnd:Bn.symbolInstanceEnd,parameters:fn})}else Y.push({symbolInstanceStart:0,symbolInstanceEnd:Lt.symbolInstances.length,parameters:fn})}},br.prototype.attemptAnchorPlacement=function(Y,ct,$,ht,Lt,Wt,re,de,Ie,Je,fr,mr,Ir,Gr,Wr){var Rn,Ur=[mr.textOffset0,mr.textOffset1],Kr=Ba(Y,$,ht,Ur,Lt),fn=this.collisionIndex.placeCollisionBox(Xe(ct,Kr.x,Kr.y,Wt,re,this.transform.angle),fr,de,Ie,Je.predicate);if(!Wr||0!==this.collisionIndex.placeCollisionBox(Xe(Wr,Kr.x,Kr.y,Wt,re,this.transform.angle),fr,de,Ie,Je.predicate).box.length)return fn.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[mr.crossTileID]&&this.prevPlacement.placements[mr.crossTileID]&&this.prevPlacement.placements[mr.crossTileID].text&&(Rn=this.prevPlacement.variableOffsets[mr.crossTileID].anchor),this.variableOffsets[mr.crossTileID]={textOffset:Ur,width:$,height:ht,anchor:Y,textBoxScale:Lt,prevAnchor:Rn},this.markUsedJustification(Ir,Y,mr,Gr),Ir.allowVerticalPlacement&&(this.markUsedOrientation(Ir,Gr,mr),this.placedOrientations[mr.crossTileID]=Gr),{shift:Kr,placedGlyphBoxes:fn}):void 0},br.prototype.placeLayerBucketPart=function(Y,ct,$){var ht=this,Lt=Y.parameters,Wt=Lt.bucket,re=Lt.layout,de=Lt.posMatrix,Ie=Lt.textLabelPlaneMatrix,Je=Lt.labelToScreenMatrix,fr=Lt.textPixelRatio,mr=Lt.holdingForFade,Ir=Lt.collisionBoxArray,Gr=Lt.partiallyEvaluatedTextSize,Wr=Lt.collisionGroup,Ur=re.get("text-optional"),Kr=re.get("icon-optional"),fn=re.get("text-allow-overlap"),Mn=re.get("icon-allow-overlap"),Rn="map"===re.get("text-rotation-alignment"),Bn="map"===re.get("text-pitch-alignment"),Un="none"!==re.get("icon-text-fit"),Nn="viewport-y"===re.get("symbol-z-order"),$n=fn&&(Mn||!Wt.hasIconData()||Kr),sa=Mn&&(fn||!Wt.hasTextData()||Ur);!Wt.collisionArrays&&Ir&&Wt.deserializeCollisionBoxes(Ir);var aa=function(za,Ha){if(!ct[za.crossTileID]){if(mr)return void(ht.placements[za.crossTileID]=new Ln(!1,!1,!1));var ka,Ta=!1,_a=!1,ni=!0,oi=null,Ya={box:null,offscreen:null},ci={box:null,offscreen:null},Za=null,Di=null,Hi=0,ds=0,ps=0;Ha.textFeatureIndex?Hi=Ha.textFeatureIndex:za.useRuntimeCollisionCircles&&(Hi=za.featureIndex),Ha.verticalTextFeatureIndex&&(ds=Ha.verticalTextFeatureIndex);var js=Ha.textBox;if(js){var Ks=function(zi){var Vo=i.WritingMode.horizontal;if(Wt.allowVerticalPlacement&&!zi&&ht.prevPlacement){var Ho=ht.prevPlacement.placedOrientations[za.crossTileID];Ho&&(ht.placedOrientations[za.crossTileID]=Ho,ht.markUsedOrientation(Wt,Vo=Ho,za))}return Vo},wl=function(zi,Vo){if(Wt.allowVerticalPlacement&&za.numVerticalGlyphVertices>0&&Ha.verticalTextBox)for(var Ho=0,kf=Wt.writingModes;Ho<kf.length&&(kf[Ho]===i.WritingMode.vertical?(Ya=Vo(),ci=Ya):Ya=zi(),!(Ya&&Ya.box&&Ya.box.length));Ho+=1);else Ya=zi()};if(re.get("text-variable-anchor")){var fo=re.get("text-variable-anchor");if(ht.prevPlacement&&ht.prevPlacement.variableOffsets[za.crossTileID]){var qo=ht.prevPlacement.variableOffsets[za.crossTileID];fo.indexOf(qo.anchor)>0&&(fo=fo.filter(function(zi){return zi!==qo.anchor})).unshift(qo.anchor)}var Qs=function(zi,Vo,Ho){for(var kf=zi.x2-zi.x1,ic=zi.y2-zi.y1,Jc=za.textBoxScale,Qc=Un&&!Mn?Vo:null,Tf={box:[],offscreen:!1},$c=fn?2*fo.length:fo.length,zf=0;zf<$c;++zf){var oc=ht.attemptAnchorPlacement(fo[zf%fo.length],zi,kf,ic,Jc,Rn,Bn,fr,de,Wr,zf>=fo.length,za,Wt,Ho,Qc);if(oc&&(Tf=oc.placedGlyphBoxes)&&Tf.box&&Tf.box.length){Ta=!0,oi=oc.shift;break}}return Tf};wl(function(){return Qs(js,Ha.iconBox,i.WritingMode.horizontal)},function(){var zi=Ha.verticalTextBox;return Wt.allowVerticalPlacement&&!(Ya&&Ya.box&&Ya.box.length)&&za.numVerticalGlyphVertices>0&&zi?Qs(zi,Ha.verticalIconBox,i.WritingMode.vertical):{box:null,offscreen:null}}),Ya&&(Ta=Ya.box,ni=Ya.offscreen);var Df=Ks(Ya&&Ya.box);if(!Ta&&ht.prevPlacement){var bu=ht.prevPlacement.variableOffsets[za.crossTileID];bu&&(ht.variableOffsets[za.crossTileID]=bu,ht.markUsedJustification(Wt,bu.anchor,za,Df))}}else{var Js=function(zi,Vo){var Ho=ht.collisionIndex.placeCollisionBox(zi,fn,fr,de,Wr.predicate);return Ho&&Ho.box&&Ho.box.length&&(ht.markUsedOrientation(Wt,Vo,za),ht.placedOrientations[za.crossTileID]=Vo),Ho};wl(function(){return Js(js,i.WritingMode.horizontal)},function(){var zi=Ha.verticalTextBox;return Wt.allowVerticalPlacement&&za.numVerticalGlyphVertices>0&&zi?Js(zi,i.WritingMode.vertical):{box:null,offscreen:null}}),Ks(Ya&&Ya.box&&Ya.box.length)}}if(Ta=(ka=Ya)&&ka.box&&ka.box.length>0,ni=ka&&ka.offscreen,za.useRuntimeCollisionCircles){var oo=Wt.text.placedSymbolArray.get(za.centerJustifiedTextSymbolIndex),bf=i.evaluateSizeForFeature(Wt.textSizeData,Gr,oo),po=re.get("text-padding");Za=ht.collisionIndex.placeCollisionCircles(fn,oo,Wt.lineVertexArray,Wt.glyphOffsetArray,bf,de,Ie,Je,$,Bn,Wr.predicate,za.collisionCircleDiameter,po),Ta=fn||Za.circles.length>0&&!Za.collisionDetected,ni=ni&&Za.offscreen}if(Ha.iconFeatureIndex&&(ps=Ha.iconFeatureIndex),Ha.iconBox){var Rf=function(zi){var Vo=Un&&oi?Xe(zi,oi.x,oi.y,Rn,Bn,ht.transform.angle):zi;return ht.collisionIndex.placeCollisionBox(Vo,Mn,fr,de,Wr.predicate)};_a=ci&&ci.box&&ci.box.length&&Ha.verticalIconBox?(Di=Rf(Ha.verticalIconBox)).box.length>0:(Di=Rf(Ha.iconBox)).box.length>0,ni=ni&&Di.offscreen}var If=Ur||0===za.numHorizontalGlyphVertices&&0===za.numVerticalGlyphVertices,Cc=Kr||0===za.numIconVertices;if(If||Cc?Cc?If||(_a=_a&&Ta):Ta=_a&&Ta:_a=Ta=_a&&Ta,Ta&&ka&&ka.box&&ht.collisionIndex.insertCollisionBox(ka.box,re.get("text-ignore-placement"),Wt.bucketInstanceId,ci&&ci.box&&ds?ds:Hi,Wr.ID),_a&&Di&&ht.collisionIndex.insertCollisionBox(Di.box,re.get("icon-ignore-placement"),Wt.bucketInstanceId,ps,Wr.ID),Za&&(Ta&&ht.collisionIndex.insertCollisionCircles(Za.circles,re.get("text-ignore-placement"),Wt.bucketInstanceId,Hi,Wr.ID),$)){var Ff=Wt.bucketInstanceId,Qu=ht.collisionCircleArrays[Ff];void 0===Qu&&(Qu=ht.collisionCircleArrays[Ff]=new On);for(var $u=0;$u<Za.circles.length;$u+=4)Qu.circles.push(Za.circles[$u+0]),Qu.circles.push(Za.circles[$u+1]),Qu.circles.push(Za.circles[$u+2]),Qu.circles.push(Za.collisionDetected?1:0)}ht.placements[za.crossTileID]=new Ln(Ta||$n,_a||sa,ni||Wt.justReloaded),ct[za.crossTileID]=!0}};if(Nn)for(var fa=Wt.getSortedSymbolIndexes(this.transform.angle),pa=fa.length-1;pa>=0;--pa){var Ca=fa[pa];aa(Wt.symbolInstances.get(Ca),Wt.collisionArrays[Ca])}else for(var Fa=Y.symbolInstanceStart;Fa<Y.symbolInstanceEnd;Fa++)aa(Wt.symbolInstances.get(Fa),Wt.collisionArrays[Fa]);if($&&Wt.bucketInstanceId in this.collisionCircleArrays){var $a=this.collisionCircleArrays[Wt.bucketInstanceId];i.invert($a.invProjMatrix,de),$a.viewportMatrix=this.collisionIndex.getViewportMatrix()}Wt.justReloaded=!1},br.prototype.markUsedJustification=function(Y,ct,$,ht){var Wt;Wt=ht===i.WritingMode.vertical?$.verticalPlacedTextSymbolIndex:{left:$.leftJustifiedTextSymbolIndex,center:$.centerJustifiedTextSymbolIndex,right:$.rightJustifiedTextSymbolIndex}[i.getAnchorJustification(ct)];for(var de=0,Ie=[$.leftJustifiedTextSymbolIndex,$.centerJustifiedTextSymbolIndex,$.rightJustifiedTextSymbolIndex,$.verticalPlacedTextSymbolIndex];de<Ie.length;de+=1){var Je=Ie[de];Je>=0&&(Y.text.placedSymbolArray.get(Je).crossTileID=Wt>=0&&Je!==Wt?0:$.crossTileID)}},br.prototype.markUsedOrientation=function(Y,ct,$){for(var ht=ct===i.WritingMode.horizontal||ct===i.WritingMode.horizontalOnly?ct:0,Lt=ct===i.WritingMode.vertical?ct:0,re=0,de=[$.leftJustifiedTextSymbolIndex,$.centerJustifiedTextSymbolIndex,$.rightJustifiedTextSymbolIndex];re<de.length;re+=1)Y.text.placedSymbolArray.get(de[re]).placedOrientation=ht;$.verticalPlacedTextSymbolIndex&&(Y.text.placedSymbolArray.get($.verticalPlacedTextSymbolIndex).placedOrientation=Lt)},br.prototype.commit=function(Y){this.commitTime=Y,this.zoomAtLastRecencyCheck=this.transform.zoom;var ct=this.prevPlacement,$=!1;this.prevZoomAdjustment=ct?ct.zoomAdjustment(this.transform.zoom):0;var ht=ct?ct.symbolFadeChange(Y):1,Lt=ct?ct.opacities:{},Wt=ct?ct.variableOffsets:{},re=ct?ct.placedOrientations:{};for(var de in this.placements){var Ie=this.placements[de],Je=Lt[de];Je?(this.opacities[de]=new Cn(Je,ht,Ie.text,Ie.icon),$=$||Ie.text!==Je.text.placed||Ie.icon!==Je.icon.placed):(this.opacities[de]=new Cn(null,ht,Ie.text,Ie.icon,Ie.skipFade),$=$||Ie.text||Ie.icon)}for(var fr in Lt){var mr=Lt[fr];if(!this.opacities[fr]){var Ir=new Cn(mr,ht,!1,!1);Ir.isHidden()||(this.opacities[fr]=Ir,$=$||mr.text.placed||mr.icon.placed)}}for(var Gr in Wt)!this.variableOffsets[Gr]&&this.opacities[Gr]&&!this.opacities[Gr].isHidden()&&(this.variableOffsets[Gr]=Wt[Gr]);for(var Wr in re)!this.placedOrientations[Wr]&&this.opacities[Wr]&&!this.opacities[Wr].isHidden()&&(this.placedOrientations[Wr]=re[Wr]);$?this.lastPlacementChangeTime=Y:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=ct?ct.lastPlacementChangeTime:Y)},br.prototype.updateLayerOpacities=function(Y,ct){for(var $={},ht=0,Lt=ct;ht<Lt.length;ht+=1){var Wt=Lt[ht],re=Wt.getBucket(Y);re&&Wt.latestFeatureIndex&&Y.id===re.layerIds[0]&&this.updateBucketOpacities(re,$,Wt.collisionBoxArray)}},br.prototype.updateBucketOpacities=function(Y,ct,$){var ht=this;Y.hasTextData()&&Y.text.opacityVertexArray.clear(),Y.hasIconData()&&Y.icon.opacityVertexArray.clear(),Y.hasIconCollisionBoxData()&&Y.iconCollisionBox.collisionVertexArray.clear(),Y.hasTextCollisionBoxData()&&Y.textCollisionBox.collisionVertexArray.clear();var Lt=Y.layers[0].layout,Wt=new Cn(null,0,!1,!1,!0),re=Lt.get("text-allow-overlap"),de=Lt.get("icon-allow-overlap"),Ie=Lt.get("text-variable-anchor"),Je="map"===Lt.get("text-rotation-alignment"),fr="map"===Lt.get("text-pitch-alignment"),mr="none"!==Lt.get("icon-text-fit"),Ir=new Cn(null,0,re&&(de||!Y.hasIconData()||Lt.get("icon-optional")),de&&(re||!Y.hasTextData()||Lt.get("text-optional")),!0);!Y.collisionArrays&&$&&(Y.hasIconCollisionBoxData()||Y.hasTextCollisionBoxData())&&Y.deserializeCollisionBoxes($);for(var Gr=function(fn,Mn,Rn){for(var Bn=0;Bn<Mn/4;Bn++)fn.opacityVertexArray.emplaceBack(Rn)},Wr=function(fn){var Mn=Y.symbolInstances.get(fn),Rn=Mn.numHorizontalGlyphVertices,Bn=Mn.numVerticalGlyphVertices,Un=Mn.crossTileID,$n=ht.opacities[Un];ct[Un]?$n=Wt:$n||(ht.opacities[Un]=$n=Ir),ct[Un]=!0;var aa=Mn.numIconVertices>0,fa=ht.placedOrientations[Mn.crossTileID],pa=fa===i.WritingMode.vertical,Ca=fa===i.WritingMode.horizontal||fa===i.WritingMode.horizontalOnly;if(Rn>0||Bn>0){var Fa=Ge($n.text);Gr(Y.text,Rn,pa?Dr:Fa),Gr(Y.text,Bn,Ca?Dr:Fa);var Ha=$n.text.isHidden();[Mn.rightJustifiedTextSymbolIndex,Mn.centerJustifiedTextSymbolIndex,Mn.leftJustifiedTextSymbolIndex].forEach(function(ps){ps>=0&&(Y.text.placedSymbolArray.get(ps).hidden=Ha||pa?1:0)}),Mn.verticalPlacedTextSymbolIndex>=0&&(Y.text.placedSymbolArray.get(Mn.verticalPlacedTextSymbolIndex).hidden=Ha||Ca?1:0);var Ta=ht.variableOffsets[Mn.crossTileID];Ta&&ht.markUsedJustification(Y,Ta.anchor,Mn,fa);var _a=ht.placedOrientations[Mn.crossTileID];_a&&(ht.markUsedJustification(Y,"left",Mn,_a),ht.markUsedOrientation(Y,_a,Mn))}if(aa){var ni=Ge($n.icon),oi=!(mr&&Mn.verticalPlacedIconSymbolIndex&&pa);Mn.placedIconSymbolIndex>=0&&(Gr(Y.icon,Mn.numIconVertices,oi?ni:Dr),Y.icon.placedSymbolArray.get(Mn.placedIconSymbolIndex).hidden=$n.icon.isHidden()),Mn.verticalPlacedIconSymbolIndex>=0&&(Gr(Y.icon,Mn.numVerticalIconVertices,oi?Dr:ni),Y.icon.placedSymbolArray.get(Mn.verticalPlacedIconSymbolIndex).hidden=$n.icon.isHidden())}if(Y.hasIconCollisionBoxData()||Y.hasTextCollisionBoxData()){var ka=Y.collisionArrays[fn];if(ka){var Za=new i.Point(0,0);if(ka.textBox||ka.verticalTextBox){var Di=!0;if(Ie){var Hi=ht.variableOffsets[Un];Hi?(Za=Ba(Hi.anchor,Hi.width,Hi.height,Hi.textOffset,Hi.textBoxScale),Je&&Za._rotate(fr?ht.transform.angle:-ht.transform.angle)):Di=!1}ka.textBox&&en(Y.textCollisionBox.collisionVertexArray,$n.text.placed,!Di||pa,Za.x,Za.y),ka.verticalTextBox&&en(Y.textCollisionBox.collisionVertexArray,$n.text.placed,!Di||Ca,Za.x,Za.y)}var ds=Boolean(!Ca&&ka.verticalIconBox);ka.iconBox&&en(Y.iconCollisionBox.collisionVertexArray,$n.icon.placed,ds,mr?Za.x:0,mr?Za.y:0),ka.verticalIconBox&&en(Y.iconCollisionBox.collisionVertexArray,$n.icon.placed,!ds,mr?Za.x:0,mr?Za.y:0)}}},Ur=0;Ur<Y.symbolInstances.length;Ur++)Wr(Ur);if(Y.sortFeatures(this.transform.angle),this.retainedQueryData[Y.bucketInstanceId]&&(this.retainedQueryData[Y.bucketInstanceId].featureSortOrder=Y.featureSortOrder),Y.hasTextData()&&Y.text.opacityVertexBuffer&&Y.text.opacityVertexBuffer.updateData(Y.text.opacityVertexArray),Y.hasIconData()&&Y.icon.opacityVertexBuffer&&Y.icon.opacityVertexBuffer.updateData(Y.icon.opacityVertexArray),Y.hasIconCollisionBoxData()&&Y.iconCollisionBox.collisionVertexBuffer&&Y.iconCollisionBox.collisionVertexBuffer.updateData(Y.iconCollisionBox.collisionVertexArray),Y.hasTextCollisionBoxData()&&Y.textCollisionBox.collisionVertexBuffer&&Y.textCollisionBox.collisionVertexBuffer.updateData(Y.textCollisionBox.collisionVertexArray),Y.bucketInstanceId in this.collisionCircleArrays){var Kr=this.collisionCircleArrays[Y.bucketInstanceId];Y.placementInvProjMatrix=Kr.invProjMatrix,Y.placementViewportMatrix=Kr.viewportMatrix,Y.collisionCircleArray=Kr.circles,delete this.collisionCircleArrays[Y.bucketInstanceId]}},br.prototype.symbolFadeChange=function(Y){return 0===this.fadeDuration?1:(Y-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},br.prototype.zoomAdjustment=function(Y){return Math.max(0,(this.transform.zoom-Y)/1.5)},br.prototype.hasTransitions=function(Y){return this.stale||Y-this.lastPlacementChangeTime<this.fadeDuration},br.prototype.stillRecent=function(Y,ct){var $=this.zoomAtLastRecencyCheck===ct?1-this.zoomAdjustment(ct):1;return this.zoomAtLastRecencyCheck=ct,this.commitTime+this.fadeDuration*$>Y},br.prototype.setStale=function(){this.stale=!0};var vn=Math.pow(2,25),un=Math.pow(2,24),Sn=Math.pow(2,17),mn=Math.pow(2,16),cn=Math.pow(2,9),Cr=Math.pow(2,8),Mr=Math.pow(2,1);function Ge(lt){if(0===lt.opacity&&!lt.placed)return 0;if(1===lt.opacity&&lt.placed)return 4294967295;var Y=lt.placed?1:0,ct=Math.floor(127*lt.opacity);return ct*vn+Y*un+ct*Sn+Y*mn+ct*cn+Y*Cr+ct*Mr+Y}var Dr=0,Ue=function(Y){this._sortAcrossTiles="viewport-y"!==Y.layout.get("symbol-z-order")&&void 0!==Y.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Ue.prototype.continuePlacement=function(Y,ct,$,ht,Lt){for(var Wt=this._bucketParts;this._currentTileIndex<Y.length;)if(ct.getBucketParts(Wt,ht,Y[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,Lt())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Wt.sort(function(Ie,Je){return Ie.sortKey-Je.sortKey}));this._currentPartIndex<Wt.length;)if(ct.placeLayerBucketPart(Wt[this._currentPartIndex],this._seenCrossTileIDs,$),this._currentPartIndex++,Lt())return!0;return!1};var Ye=function(Y,ct,$,ht,Lt,Wt,re){this.placement=new br(Y,Lt,Wt,re),this._currentPlacementIndex=ct.length-1,this._forceFullPlacement=$,this._showCollisionBoxes=ht,this._done=!1};Ye.prototype.isDone=function(){return this._done},Ye.prototype.continuePlacement=function(Y,ct,$){for(var ht=this,Lt=i.browser.now(),Wt=function(){var fr=i.browser.now()-Lt;return!ht._forceFullPlacement&&fr>2};this._currentPlacementIndex>=0;){var de=ct[Y[this._currentPlacementIndex]],Ie=this.placement.collisionIndex.transform.zoom;if("symbol"===de.type&&(!de.minzoom||de.minzoom<=Ie)&&(!de.maxzoom||de.maxzoom>Ie)){if(this._inProgressLayer||(this._inProgressLayer=new Ue(de)),this._inProgressLayer.continuePlacement($[de.source],this.placement,this._showCollisionBoxes,de,Wt))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Ye.prototype.commit=function(Y){return this.placement.commit(Y),this.placement};var ir=512/i.EXTENT/2,Yr=function(Y,ct,$){this.tileID=Y,this.indexedSymbolInstances={},this.bucketInstanceId=$;for(var ht=0;ht<ct.length;ht++){var Lt=ct.get(ht),Wt=Lt.key;this.indexedSymbolInstances[Wt]||(this.indexedSymbolInstances[Wt]=[]),this.indexedSymbolInstances[Wt].push({crossTileID:Lt.crossTileID,coord:this.getScaledCoordinates(Lt,Y)})}};Yr.prototype.getScaledCoordinates=function(Y,ct){var ht=ir/Math.pow(2,ct.canonical.z-this.tileID.canonical.z);return{x:Math.floor((ct.canonical.x*i.EXTENT+Y.anchorX)*ht),y:Math.floor((ct.canonical.y*i.EXTENT+Y.anchorY)*ht)}},Yr.prototype.findMatches=function(Y,ct,$){for(var ht=this.tileID.canonical.z<ct.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ct.canonical.z),Lt=0;Lt<Y.length;Lt++){var Wt=Y.get(Lt);if(!Wt.crossTileID){var re=this.indexedSymbolInstances[Wt.key];if(re)for(var de=this.getScaledCoordinates(Wt,ct),Ie=0,Je=re;Ie<Je.length;Ie+=1){var fr=Je[Ie];if(Math.abs(fr.coord.x-de.x)<=ht&&Math.abs(fr.coord.y-de.y)<=ht&&!$[fr.crossTileID]){$[fr.crossTileID]=!0,Wt.crossTileID=fr.crossTileID;break}}}}};var gn=function(){this.maxCrossTileID=0};gn.prototype.generate=function(){return++this.maxCrossTileID};var Zn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Zn.prototype.handleWrapJump=function(Y){var ct=Math.round((Y-this.lng)/360);if(0!==ct)for(var $ in this.indexes){var ht=this.indexes[$],Lt={};for(var Wt in ht){var re=ht[Wt];re.tileID=re.tileID.unwrapTo(re.tileID.wrap+ct),Lt[re.tileID.key]=re}this.indexes[$]=Lt}this.lng=Y},Zn.prototype.addBucket=function(Y,ct,$){if(this.indexes[Y.overscaledZ]&&this.indexes[Y.overscaledZ][Y.key]){if(this.indexes[Y.overscaledZ][Y.key].bucketInstanceId===ct.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Y.overscaledZ,this.indexes[Y.overscaledZ][Y.key])}for(var ht=0;ht<ct.symbolInstances.length;ht++)ct.symbolInstances.get(ht).crossTileID=0;this.usedCrossTileIDs[Y.overscaledZ]||(this.usedCrossTileIDs[Y.overscaledZ]={});var Wt=this.usedCrossTileIDs[Y.overscaledZ];for(var re in this.indexes){var de=this.indexes[re];if(Number(re)>Y.overscaledZ)for(var Ie in de){var Je=de[Ie];Je.tileID.isChildOf(Y)&&Je.findMatches(ct.symbolInstances,Y,Wt)}else{var mr=de[Y.scaledTo(Number(re)).key];mr&&mr.findMatches(ct.symbolInstances,Y,Wt)}}for(var Ir=0;Ir<ct.symbolInstances.length;Ir++){var Gr=ct.symbolInstances.get(Ir);Gr.crossTileID||(Gr.crossTileID=$.generate(),Wt[Gr.crossTileID]=!0)}return void 0===this.indexes[Y.overscaledZ]&&(this.indexes[Y.overscaledZ]={}),this.indexes[Y.overscaledZ][Y.key]=new Yr(Y,ct.symbolInstances,ct.bucketInstanceId),!0},Zn.prototype.removeBucketCrossTileIDs=function(Y,ct){for(var $ in ct.indexedSymbolInstances)for(var ht=0,Lt=ct.indexedSymbolInstances[$];ht<Lt.length;ht+=1)delete this.usedCrossTileIDs[Y][Lt[ht].crossTileID]},Zn.prototype.removeStaleBuckets=function(Y){var ct=!1;for(var $ in this.indexes){var ht=this.indexes[$];for(var Lt in ht)Y[ht[Lt].bucketInstanceId]||(this.removeBucketCrossTileIDs($,ht[Lt]),delete ht[Lt],ct=!0)}return ct};var ta=function(){this.layerIndexes={},this.crossTileIDs=new gn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ta.prototype.addLayer=function(Y,ct,$){var ht=this.layerIndexes[Y.id];void 0===ht&&(ht=this.layerIndexes[Y.id]=new Zn);var Lt=!1,Wt={};ht.handleWrapJump($);for(var re=0,de=ct;re<de.length;re+=1){var Ie=de[re],Je=Ie.getBucket(Y);!Je||Y.id!==Je.layerIds[0]||(Je.bucketInstanceId||(Je.bucketInstanceId=++this.maxBucketInstanceId),ht.addBucket(Ie.tileID,Je,this.crossTileIDs)&&(Lt=!0),Wt[Je.bucketInstanceId]=!0)}return ht.removeStaleBuckets(Wt)&&(Lt=!0),Lt},ta.prototype.pruneUnusedLayers=function(Y){var ct={};for(var $ in Y.forEach(function(ht){ct[ht]=!0}),this.layerIndexes)ct[$]||delete this.layerIndexes[$]};var Xn=function(lt,Y){return i.emitValidationErrors(lt,Y&&Y.filter(function(ct){return"source.canvas"!==ct.identifier}))},ha=i.pick(De,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Si=i.pick(De,["setCenter","setZoom","setBearing","setPitch"]),qi=function qe(){var lt={},Y=i.styleSpec.$version;for(var ct in i.styleSpec.$root){var $=i.styleSpec.$root[ct];if($.required){var ht;null!=(ht="version"===ct?Y:"array"===$.type?[]:{})&&(lt[ct]=ht)}}return lt}(),to=function(lt){function Y(ct,$){var ht=this;void 0===$&&($={}),lt.call(this),this.map=ct,this.dispatcher=new D(Se(),this),this.imageManager=new w,this.imageManager.setEventedParent(this),this.glyphManager=new S(ct._requestManager,$.localIdeographFontFamily),this.lineAtlas=new F(256,512),this.crossTileSymbolIndex=new ta,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new i.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",i.getReferrer());var Lt=this;this._rtlTextPluginCallback=Y.registerForPluginStateChange(function(Wt){Lt.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:Wt.pluginStatus,pluginURL:Wt.pluginURL},function(de,Ie){if(i.triggerPluginCompletionEvent(de),Ie&&Ie.every(function(mr){return mr}))for(var fr in Lt.sourceCaches)Lt.sourceCaches[fr].reload()})}),this.on("data",function(Wt){if("source"===Wt.dataType&&"metadata"===Wt.sourceDataType){var re=ht.sourceCaches[Wt.sourceId];if(re){var de=re.getSource();if(de&&de.vectorLayerIds)for(var Ie in ht._layers){var Je=ht._layers[Ie];Je.source===de.id&&ht._validateLayer(Je)}}}})}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.loadURL=function($,ht){var Lt=this;void 0===ht&&(ht={}),this.fire(new i.Event("dataloading",{dataType:"style"}));var Wt="boolean"==typeof ht.validate?ht.validate:!i.isMapboxURL($);$=this.map._requestManager.normalizeStyleURL($,ht.accessToken);var re=this.map._requestManager.transformRequest($,i.ResourceType.Style);this._request=i.getJSON(re,function(de,Ie){Lt._request=null,de?Lt.fire(new i.ErrorEvent(de)):Ie&&Lt._load(Ie,Wt)})},Y.prototype.loadJSON=function($,ht){var Lt=this;void 0===ht&&(ht={}),this.fire(new i.Event("dataloading",{dataType:"style"})),this._request=i.browser.frame(function(){Lt._request=null,Lt._load($,!1!==ht.validate)})},Y.prototype.loadEmpty=function(){this.fire(new i.Event("dataloading",{dataType:"style"})),this._load(qi,!1)},Y.prototype._load=function($,ht){if(!ht||!Xn(this,i.validateStyle($))){for(var Lt in this._loaded=!0,this.stylesheet=$,$.sources)this.addSource(Lt,$.sources[Lt],{validate:!1});$.sprite?this._loadSprite($.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL($.glyphs);var Wt=or(this.stylesheet.layers);this._order=Wt.map(function(Je){return Je.id}),this._layers={},this._serializedLayers={};for(var re=0,de=Wt;re<de.length;re+=1){var Ie=de[re];(Ie=i.createStyleLayer(Ie)).setEventedParent(this,{layer:{id:Ie.id}}),this._layers[Ie.id]=Ie,this._serializedLayers[Ie.id]=Ie.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new p(this.stylesheet.light),this.fire(new i.Event("data",{dataType:"style"})),this.fire(new i.Event("style.load"))}},Y.prototype._loadSprite=function($){var ht=this;this._spriteRequest=function u(lt,Y,ct){var $,ht,Lt,Wt=i.browser.devicePixelRatio>1?"@2x":"",re=i.getJSON(Y.transformRequest(Y.normalizeSpriteURL(lt,Wt,".json"),i.ResourceType.SpriteJSON),function(Je,fr){re=null,Lt||(Lt=Je,$=fr,Ie())}),de=i.getImage(Y.transformRequest(Y.normalizeSpriteURL(lt,Wt,".png"),i.ResourceType.SpriteImage),function(Je,fr){de=null,Lt||(Lt=Je,ht=fr,Ie())});function Ie(){if(Lt)ct(Lt);else if($&&ht){var Je=i.browser.getImageData(ht),fr={};for(var mr in $){var Ir=$[mr],Gr=Ir.width,Wr=Ir.height,Ur=Ir.x,Kr=Ir.y,fn=Ir.sdf,Mn=Ir.pixelRatio,Rn=Ir.stretchX,Bn=Ir.stretchY,Un=Ir.content,Nn=new i.RGBAImage({width:Gr,height:Wr});i.RGBAImage.copy(Je,Nn,{x:Ur,y:Kr},{x:0,y:0},{width:Gr,height:Wr}),fr[mr]={data:Nn,pixelRatio:Mn,sdf:fn,stretchX:Rn,stretchY:Bn,content:Un}}ct(null,fr)}}return{cancel:function(){re&&(re.cancel(),re=null),de&&(de.cancel(),de=null)}}}($,this.map._requestManager,function(Lt,Wt){if(ht._spriteRequest=null,Lt)ht.fire(new i.ErrorEvent(Lt));else if(Wt)for(var re in Wt)ht.imageManager.addImage(re,Wt[re]);ht.imageManager.setLoaded(!0),ht._availableImages=ht.imageManager.listImages(),ht.dispatcher.broadcast("setImages",ht._availableImages),ht.fire(new i.Event("data",{dataType:"style"}))})},Y.prototype._validateLayer=function($){var ht=this.sourceCaches[$.source];if(ht){var Lt=$.sourceLayer;if(Lt){var Wt=ht.getSource();("geojson"===Wt.type||Wt.vectorLayerIds&&-1===Wt.vectorLayerIds.indexOf(Lt))&&this.fire(new i.ErrorEvent(new Error('Source layer "'+Lt+'" does not exist on source "'+Wt.id+'" as specified by style layer "'+$.id+'"')))}}},Y.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var $ in this.sourceCaches)if(!this.sourceCaches[$].loaded())return!1;return!!this.imageManager.isLoaded()},Y.prototype._serializeLayers=function($){for(var ht=[],Lt=0,Wt=$;Lt<Wt.length;Lt+=1){var de=this._layers[Wt[Lt]];"custom"!==de.type&&ht.push(de.serialize())}return ht},Y.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var $ in this.sourceCaches)if(this.sourceCaches[$].hasTransition())return!0;for(var ht in this._layers)if(this._layers[ht].hasTransition())return!0;return!1},Y.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Y.prototype.update=function($){if(this._loaded){var ht=this._changed;if(this._changed){var Lt=Object.keys(this._updatedLayers),Wt=Object.keys(this._removedLayers);for(var re in(Lt.length||Wt.length)&&this._updateWorkerLayers(Lt,Wt),this._updatedSources){var de=this._updatedSources[re];"reload"===de?this._reloadSource(re):"clear"===de&&this._clearSource(re)}for(var Ie in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[Ie].updateTransitions($);this.light.updateTransitions($),this._resetUpdates()}for(var Je in this.sourceCaches)this.sourceCaches[Je].used=!1;for(var fr=0,mr=this._order;fr<mr.length;fr+=1){var Gr=this._layers[mr[fr]];Gr.recalculate($,this._availableImages),!Gr.isHidden($.zoom)&&Gr.source&&(this.sourceCaches[Gr.source].used=!0)}this.light.recalculate($),this.z=$.zoom,ht&&this.fire(new i.Event("data",{dataType:"style"}))}},Y.prototype._updateTilesForChangedImages=function(){var $=Object.keys(this._changedImages);if($.length){for(var ht in this.sourceCaches)this.sourceCaches[ht].reloadTilesForDependencies(["icons","patterns"],$);this._changedImages={}}},Y.prototype._updateWorkerLayers=function($,ht){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers($),removedIds:ht})},Y.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Y.prototype.setState=function($){var ht=this;if(this._checkLoaded(),Xn(this,i.validateStyle($)))return!1;($=i.clone$1($)).layers=or($.layers);var Lt=Pn(this.serialize(),$).filter(function(re){return!(re.command in Si)});if(0===Lt.length)return!1;var Wt=Lt.filter(function(re){return!(re.command in ha)});if(Wt.length>0)throw new Error("Unimplemented: "+Wt.map(function(re){return re.command}).join(", ")+".");return Lt.forEach(function(re){"setTransition"!==re.command&&ht[re.command].apply(ht,re.args)}),this.stylesheet=$,!0},Y.prototype.addImage=function($,ht){if(this.getImage($))return this.fire(new i.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage($,ht),this._availableImages=this.imageManager.listImages(),this._changedImages[$]=!0,this._changed=!0,this.fire(new i.Event("data",{dataType:"style"}))},Y.prototype.updateImage=function($,ht){this.imageManager.updateImage($,ht)},Y.prototype.getImage=function($){return this.imageManager.getImage($)},Y.prototype.removeImage=function($){if(!this.getImage($))return this.fire(new i.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage($),this._availableImages=this.imageManager.listImages(),this._changedImages[$]=!0,this._changed=!0,this.fire(new i.Event("data",{dataType:"style"}))},Y.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Y.prototype.addSource=function($,ht,Lt){var Wt=this;if(void 0===Lt&&(Lt={}),this._checkLoaded(),void 0!==this.sourceCaches[$])throw new Error("There is already a source with this ID");if(!ht.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(ht).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(ht.type)>=0&&this._validate(i.validateStyle.source,"sources."+$,ht,null,Lt))){this.map&&this.map._collectResourceTiming&&(ht.collectResourceTiming=!0);var Ie=this.sourceCaches[$]=new Pe($,ht,this.dispatcher);Ie.style=this,Ie.setEventedParent(this,function(){return{isSourceLoaded:Wt.loaded(),source:Ie.serialize(),sourceId:$}}),Ie.onAdd(this.map),this._changed=!0}},Y.prototype.removeSource=function($){if(this._checkLoaded(),void 0===this.sourceCaches[$])throw new Error("There is no source with this ID");for(var ht in this._layers)if(this._layers[ht].source===$)return this.fire(new i.ErrorEvent(new Error('Source "'+$+'" cannot be removed while layer "'+ht+'" is using it.')));var Lt=this.sourceCaches[$];delete this.sourceCaches[$],delete this._updatedSources[$],Lt.fire(new i.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:$})),Lt.setEventedParent(null),Lt.clearTiles(),Lt.onRemove&&Lt.onRemove(this.map),this._changed=!0},Y.prototype.setGeoJSONSourceData=function($,ht){this._checkLoaded(),this.sourceCaches[$].getSource().setData(ht),this._changed=!0},Y.prototype.getSource=function($){return this.sourceCaches[$]&&this.sourceCaches[$].getSource()},Y.prototype.addLayer=function($,ht,Lt){void 0===Lt&&(Lt={}),this._checkLoaded();var Wt=$.id;if(this.getLayer(Wt))this.fire(new i.ErrorEvent(new Error('Layer with id "'+Wt+'" already exists on this map')));else{var re;if("custom"===$.type){if(Xn(this,i.validateCustomStyleLayer($)))return;re=i.createStyleLayer($)}else{if("object"==typeof $.source&&(this.addSource(Wt,$.source),$=i.clone$1($),$=i.extend($,{source:Wt})),this._validate(i.validateStyle.layer,"layers."+Wt,$,{arrayIndex:-1},Lt))return;re=i.createStyleLayer($),this._validateLayer(re),re.setEventedParent(this,{layer:{id:Wt}}),this._serializedLayers[re.id]=re.serialize()}var de=ht?this._order.indexOf(ht):this._order.length;if(ht&&-1===de)this.fire(new i.ErrorEvent(new Error('Layer with id "'+ht+'" does not exist on this map.')));else{if(this._order.splice(de,0,Wt),this._layerOrderChanged=!0,this._layers[Wt]=re,this._removedLayers[Wt]&&re.source&&"custom"!==re.type){var Ie=this._removedLayers[Wt];delete this._removedLayers[Wt],Ie.type!==re.type?this._updatedSources[re.source]="clear":(this._updatedSources[re.source]="reload",this.sourceCaches[re.source].pause())}this._updateLayer(re),re.onAdd&&re.onAdd(this.map)}}},Y.prototype.moveLayer=function($,ht){if(this._checkLoaded(),this._changed=!0,this._layers[$]){if($!==ht){var Wt=this._order.indexOf($);this._order.splice(Wt,1);var re=ht?this._order.indexOf(ht):this._order.length;if(ht&&-1===re)return void this.fire(new i.ErrorEvent(new Error('Layer with id "'+ht+'" does not exist on this map.')));this._order.splice(re,0,$),this._layerOrderChanged=!0}}else this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be moved.")))},Y.prototype.removeLayer=function($){this._checkLoaded();var ht=this._layers[$];if(ht){ht.setEventedParent(null);var Lt=this._order.indexOf($);this._order.splice(Lt,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[$]=ht,delete this._layers[$],delete this._serializedLayers[$],delete this._updatedLayers[$],delete this._updatedPaintProps[$],ht.onRemove&&ht.onRemove(this.map)}else this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be removed.")))},Y.prototype.getLayer=function($){return this._layers[$]},Y.prototype.hasLayer=function($){return $ in this._layers},Y.prototype.setLayerZoomRange=function($,ht,Lt){this._checkLoaded();var Wt=this.getLayer($);Wt?Wt.minzoom===ht&&Wt.maxzoom===Lt||(null!=ht&&(Wt.minzoom=ht),null!=Lt&&(Wt.maxzoom=Lt),this._updateLayer(Wt)):this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot have zoom extent.")))},Y.prototype.setFilter=function($,ht,Lt){void 0===Lt&&(Lt={}),this._checkLoaded();var Wt=this.getLayer($);if(Wt){if(!i.deepEqual(Wt.filter,ht)){if(null==ht)return Wt.filter=void 0,void this._updateLayer(Wt);this._validate(i.validateStyle.filter,"layers."+Wt.id+".filter",ht,null,Lt)||(Wt.filter=i.clone$1(ht),this._updateLayer(Wt))}}else this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be filtered.")))},Y.prototype.getFilter=function($){return i.clone$1(this.getLayer($).filter)},Y.prototype.setLayoutProperty=function($,ht,Lt,Wt){void 0===Wt&&(Wt={}),this._checkLoaded();var re=this.getLayer($);re?i.deepEqual(re.getLayoutProperty(ht),Lt)||(re.setLayoutProperty(ht,Lt,Wt),this._updateLayer(re)):this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be styled.")))},Y.prototype.getLayoutProperty=function($,ht){var Lt=this.getLayer($);if(Lt)return Lt.getLayoutProperty(ht);this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style.")))},Y.prototype.setPaintProperty=function($,ht,Lt,Wt){void 0===Wt&&(Wt={}),this._checkLoaded();var re=this.getLayer($);re?i.deepEqual(re.getPaintProperty(ht),Lt)||(re.setPaintProperty(ht,Lt,Wt)&&this._updateLayer(re),this._changed=!0,this._updatedPaintProps[$]=!0):this.fire(new i.ErrorEvent(new Error("The layer '"+$+"' does not exist in the map's style and cannot be styled.")))},Y.prototype.getPaintProperty=function($,ht){return this.getLayer($).getPaintProperty(ht)},Y.prototype.setFeatureState=function($,ht){this._checkLoaded();var Lt=$.source,Wt=$.sourceLayer,re=this.sourceCaches[Lt];if(void 0!==re){var de=re.getSource().type;"geojson"===de&&Wt?this.fire(new i.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==de||Wt?(void 0===$.id&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),re.setFeatureState(Wt,$.id,ht)):this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new i.ErrorEvent(new Error("The source '"+Lt+"' does not exist in the map's style.")))},Y.prototype.removeFeatureState=function($,ht){this._checkLoaded();var Lt=$.source,Wt=this.sourceCaches[Lt];if(void 0!==Wt){var re=Wt.getSource().type,de="vector"===re?$.sourceLayer:void 0;"vector"!==re||de?ht&&"string"!=typeof $.id&&"number"!=typeof $.id?this.fire(new i.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):Wt.removeFeatureState(de,$.id,ht):this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new i.ErrorEvent(new Error("The source '"+Lt+"' does not exist in the map's style.")))},Y.prototype.getFeatureState=function($){this._checkLoaded();var ht=$.source,Lt=$.sourceLayer,Wt=this.sourceCaches[ht];if(void 0!==Wt){if("vector"!==Wt.getSource().type||Lt)return void 0===$.id&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),Wt.getFeatureState(Lt,$.id);this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new i.ErrorEvent(new Error("The source '"+ht+"' does not exist in the map's style.")))},Y.prototype.getTransition=function(){return i.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Y.prototype.serialize=function(){return i.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:i.mapObject(this.sourceCaches,function($){return $.serialize()}),layers:this._serializeLayers(this._order)},function($){return void 0!==$})},Y.prototype._updateLayer=function($){this._updatedLayers[$.id]=!0,$.source&&!this._updatedSources[$.source]&&"raster"!==this.sourceCaches[$.source].getSource().type&&(this._updatedSources[$.source]="reload",this.sourceCaches[$.source].pause()),this._changed=!0},Y.prototype._flattenAndSortRenderedFeatures=function($){for(var ht=this,Lt=function(Ca){return"fill-extrusion"===ht._layers[Ca].type},Wt={},re=[],de=this._order.length-1;de>=0;de--){var Ie=this._order[de];if(Lt(Ie)){Wt[Ie]=de;for(var Je=0,fr=$;Je<fr.length;Je+=1){var Ir=fr[Je][Ie];if(Ir)for(var Gr=0,Wr=Ir;Gr<Wr.length;Gr+=1)re.push(Wr[Gr])}}}re.sort(function(Ca,Fa){return Fa.intersectionZ-Ca.intersectionZ});for(var Kr=[],fn=this._order.length-1;fn>=0;fn--){var Mn=this._order[fn];if(Lt(Mn))for(var Rn=re.length-1;Rn>=0;Rn--){var Bn=re[Rn].feature;if(Wt[Bn.layer.id]<fn)break;Kr.push(Bn),re.pop()}else for(var Un=0,Nn=$;Un<Nn.length;Un+=1){var sa=Nn[Un][Mn];if(sa)for(var aa=0,fa=sa;aa<fa.length;aa+=1)Kr.push(fa[aa].feature)}}return Kr},Y.prototype.queryRenderedFeatures=function($,ht,Lt){ht&&ht.filter&&this._validate(i.validateStyle.filter,"queryRenderedFeatures.filter",ht.filter,null,ht);var Wt={};if(ht&&ht.layers){if(!Array.isArray(ht.layers))return this.fire(new i.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var re=0,de=ht.layers;re<de.length;re+=1){var Ie=de[re],Je=this._layers[Ie];if(!Je)return this.fire(new i.ErrorEvent(new Error("The layer '"+Ie+"' does not exist in the map's style and cannot be queried for features."))),[];Wt[Je.source]=!0}}var fr=[];for(var mr in ht.availableImages=this._availableImages,this.sourceCaches)ht.layers&&!Wt[mr]||fr.push(_(this.sourceCaches[mr],this._layers,this._serializedLayers,$,ht,Lt));return this.placement&&fr.push(function K(lt,Y,ct,$,ht,Lt,Wt){for(var re={},de=Lt.queryRenderedSymbols($),Ie=[],Je=0,fr=Object.keys(de).map(Number);Je<fr.length;Je+=1)Ie.push(Wt[fr[Je]]);Ie.sort(et);for(var Ir=function(){var fn=Wr[Gr],Mn=fn.featureIndex.lookupSymbolFeatures(de[fn.bucketInstanceId],Y,fn.bucketIndex,fn.sourceLayerIndex,ht.filter,ht.layers,ht.availableImages,lt);for(var Rn in Mn){var Bn=re[Rn]=re[Rn]||[],Un=Mn[Rn];Un.sort(function(aa,fa){var pa=fn.featureSortOrder;if(pa){var Ca=pa.indexOf(aa.featureIndex);return pa.indexOf(fa.featureIndex)-Ca}return fa.featureIndex-aa.featureIndex});for(var Nn=0,$n=Un;Nn<$n.length;Nn+=1)Bn.push($n[Nn])}},Gr=0,Wr=Ie;Gr<Wr.length;Gr+=1)Ir();var Ur=function(fn){re[fn].forEach(function(Mn){var Rn=Mn.feature,Nn=ct[lt[fn].source].getFeatureState(Rn.layer["source-layer"],Rn.id);Rn.source=Rn.layer.source,Rn.layer["source-layer"]&&(Rn.sourceLayer=Rn.layer["source-layer"]),Rn.state=Nn})};for(var Kr in re)Ur(Kr);return re}(this._layers,this._serializedLayers,this.sourceCaches,$,ht,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(fr)},Y.prototype.querySourceFeatures=function($,ht){ht&&ht.filter&&this._validate(i.validateStyle.filter,"querySourceFeatures.filter",ht.filter,null,ht);var Lt=this.sourceCaches[$];return Lt?function nt(lt,Y){for(var ct=lt.getRenderableIds().map(function(de){return lt.getTileByID(de)}),$=[],ht={},Lt=0;Lt<ct.length;Lt++){var Wt=ct[Lt],re=Wt.tileID.canonical.key;ht[re]||(ht[re]=!0,Wt.querySourceFeatures($,Y))}return $}(Lt,ht):[]},Y.prototype.addSourceType=function($,ht,Lt){return Y.getSourceType($)?Lt(new Error('A source type called "'+$+'" already exists.')):(Y.setSourceType($,ht),ht.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:$,url:ht.workerSourceURL},Lt):Lt(null,null))},Y.prototype.getLight=function(){return this.light.getLight()},Y.prototype.setLight=function($,ht){void 0===ht&&(ht={}),this._checkLoaded();var Lt=this.light.getLight(),Wt=!1;for(var re in $)if(!i.deepEqual($[re],Lt[re])){Wt=!0;break}if(Wt){var de={now:i.browser.now(),transition:i.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight($,ht),this.light.updateTransitions(de)}},Y.prototype._validate=function($,ht,Lt,Wt,re){return void 0===re&&(re={}),(!re||!1!==re.validate)&&Xn(this,$.call(i.validateStyle,i.extend({key:ht,style:this.serialize(),value:Lt,styleSpec:i.styleSpec},Wt)))},Y.prototype._remove=function(){for(var $ in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),i.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[$].setEventedParent(null);for(var Lt in this.sourceCaches)this.sourceCaches[Lt].clearTiles(),this.sourceCaches[Lt].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Y.prototype._clearSource=function($){this.sourceCaches[$].clearTiles()},Y.prototype._reloadSource=function($){this.sourceCaches[$].resume(),this.sourceCaches[$].reload()},Y.prototype._updateSources=function($){for(var ht in this.sourceCaches)this.sourceCaches[ht].update($)},Y.prototype._generateCollisionBoxes=function(){for(var $ in this.sourceCaches)this._reloadSource($)},Y.prototype._updatePlacement=function($,ht,Lt,Wt,re){void 0===re&&(re=!1);for(var de=!1,Ie=!1,Je={},fr=0,mr=this._order;fr<mr.length;fr+=1){var Gr=this._layers[mr[fr]];if("symbol"===Gr.type){if(!Je[Gr.source]){var Wr=this.sourceCaches[Gr.source];Je[Gr.source]=Wr.getRenderableIds(!0).map(function(Un){return Wr.getTileByID(Un)}).sort(function(Un,Nn){return Nn.tileID.overscaledZ-Un.tileID.overscaledZ||(Un.tileID.isLessThan(Nn.tileID)?-1:1)})}var Ur=this.crossTileSymbolIndex.addLayer(Gr,Je[Gr.source],$.center.lng);de=de||Ur}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((re=re||this._layerOrderChanged||0===Lt)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(i.browser.now(),$.zoom))&&(this.pauseablePlacement=new Ye($,this._order,re,ht,Lt,Wt,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Je),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(i.browser.now()),Ie=!0),de&&this.pauseablePlacement.placement.setStale()),Ie||de)for(var Kr=0,fn=this._order;Kr<fn.length;Kr+=1){var Rn=this._layers[fn[Kr]];"symbol"===Rn.type&&this.placement.updateLayerOpacities(Rn,Je[Rn.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(i.browser.now())},Y.prototype._releaseSymbolFadeTiles=function(){for(var $ in this.sourceCaches)this.sourceCaches[$].releaseSymbolFadeTiles()},Y.prototype.getImages=function($,ht,Lt){this.imageManager.getImages(ht.icons,Lt),this._updateTilesForChangedImages();var Wt=this.sourceCaches[ht.source];Wt&&Wt.setDependencies(ht.tileID.key,ht.type,ht.icons)},Y.prototype.getGlyphs=function($,ht,Lt){this.glyphManager.getGlyphs(ht.stacks,Lt)},Y.prototype.getResource=function($,ht,Lt){return i.makeRequest(ht,Lt)},Y}(i.Evented);to.getSourceType=function(lt){return J[lt]},to.setSourceType=function(lt,Y){J[lt]=Y},to.registerForPluginStateChange=i.registerForPluginStateChange;var eo=i.createLayout([{name:"a_pos",type:"Int16",components:2}]),lo=hi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),is=hi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),tu=hi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Fl=hi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),bo=hi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Li=hi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),eu=hi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),ru=hi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Os=hi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),kl=hi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),nu=hi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Ru=hi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Iu=hi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Bs=hi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Zo=hi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),xs=hi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Fo=hi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),au=hi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),iu=hi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),ou=hi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),nl=hi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),zl=hi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Fu=hi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),al=hi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),ku=hi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),zu=hi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function hi(lt,Y){var ct=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,$={};return{fragmentSource:lt=lt.replace(ct,function(ht,Lt,Wt,re,de){return $[de]=!0,"define"===Lt?"\n#ifndef HAS_UNIFORM_u_"+de+"\nvarying "+Wt+" "+re+" "+de+";\n#else\nuniform "+Wt+" "+re+" u_"+de+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+de+"\n    "+Wt+" "+re+" "+de+" = u_"+de+";\n#endif\n"}),vertexSource:Y=Y.replace(ct,function(ht,Lt,Wt,re,de){var Ie="float"===re?"vec2":"vec4",Je=de.match(/color/)?"color":Ie;return $[de]?"define"===Lt?"\n#ifndef HAS_UNIFORM_u_"+de+"\nuniform lowp float u_"+de+"_t;\nattribute "+Wt+" "+Ie+" a_"+de+";\nvarying "+Wt+" "+re+" "+de+";\n#else\nuniform "+Wt+" "+re+" u_"+de+";\n#endif\n":"vec4"===Je?"\n#ifndef HAS_UNIFORM_u_"+de+"\n    "+de+" = a_"+de+";\n#else\n    "+Wt+" "+re+" "+de+" = u_"+de+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+de+"\n    "+de+" = unpack_mix_"+Je+"(a_"+de+", u_"+de+"_t);\n#else\n    "+Wt+" "+re+" "+de+" = u_"+de+";\n#endif\n":"define"===Lt?"\n#ifndef HAS_UNIFORM_u_"+de+"\nuniform lowp float u_"+de+"_t;\nattribute "+Wt+" "+Ie+" a_"+de+";\n#else\nuniform "+Wt+" "+re+" u_"+de+";\n#endif\n":"vec4"===Je?"\n#ifndef HAS_UNIFORM_u_"+de+"\n    "+Wt+" "+re+" "+de+" = a_"+de+";\n#else\n    "+Wt+" "+re+" "+de+" = u_"+de+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+de+"\n    "+Wt+" "+re+" "+de+" = unpack_mix_"+Je+"(a_"+de+", u_"+de+"_t);\n#else\n    "+Wt+" "+re+" "+de+" = u_"+de+";\n#endif\n"})}}var Ns=Object.freeze({__proto__:null,prelude:lo,background:is,backgroundPattern:tu,circle:Fl,clippingMask:bo,heatmap:Li,heatmapTexture:eu,collisionBox:ru,collisionCircle:Os,debug:kl,fill:nu,fillOutline:Ru,fillOutlinePattern:Iu,fillPattern:Bs,fillExtrusion:Zo,fillExtrusionPattern:xs,hillshadePrepare:Fo,hillshade:au,line:iu,lineGradient:ou,linePattern:nl,lineSDF:zl,raster:Fu,symbolIcon:al,symbolSDF:ku,symbolTextAndIcon:zu}),bs=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};bs.prototype.bind=function(Y,ct,$,ht,Lt,Wt,re,de){this.context=Y;for(var Ie=this.boundPaintVertexBuffers.length!==ht.length,Je=0;!Ie&&Je<ht.length;Je++)this.boundPaintVertexBuffers[Je]!==ht[Je]&&(Ie=!0);Y.extVertexArrayObject&&this.vao&&this.boundProgram===ct&&this.boundLayoutVertexBuffer===$&&!Ie&&this.boundIndexBuffer===Lt&&this.boundVertexOffset===Wt&&this.boundDynamicVertexBuffer===re&&this.boundDynamicVertexBuffer2===de?(Y.bindVertexArrayOES.set(this.vao),re&&re.bind(),Lt&&Lt.dynamicDraw&&Lt.bind(),de&&de.bind()):this.freshBind(ct,$,ht,Lt,Wt,re,de)},bs.prototype.freshBind=function(Y,ct,$,ht,Lt,Wt,re){var de,Ie=Y.numAttributes,Je=this.context,fr=Je.gl;if(Je.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Je.extVertexArrayObject.createVertexArrayOES(),Je.bindVertexArrayOES.set(this.vao),de=0,this.boundProgram=Y,this.boundLayoutVertexBuffer=ct,this.boundPaintVertexBuffers=$,this.boundIndexBuffer=ht,this.boundVertexOffset=Lt,this.boundDynamicVertexBuffer=Wt,this.boundDynamicVertexBuffer2=re;else{de=Je.currentNumAttributes||0;for(var mr=Ie;mr<de;mr++)fr.disableVertexAttribArray(mr)}ct.enableAttributes(fr,Y);for(var Ir=0,Gr=$;Ir<Gr.length;Ir+=1)Gr[Ir].enableAttributes(fr,Y);Wt&&Wt.enableAttributes(fr,Y),re&&re.enableAttributes(fr,Y),ct.bind(),ct.setVertexAttribPointers(fr,Y,Lt);for(var Ur=0,Kr=$;Ur<Kr.length;Ur+=1){var fn=Kr[Ur];fn.bind(),fn.setVertexAttribPointers(fr,Y,Lt)}Wt&&(Wt.bind(),Wt.setVertexAttribPointers(fr,Y,Lt)),ht&&ht.bind(),re&&(re.bind(),re.setVertexAttribPointers(fr,Y,Lt)),Je.currentNumAttributes=Ie},bs.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var uo=function(Y,ct,$,ht,Lt){var Wt=Y.gl;this.program=Wt.createProgram();var re=$?$.defines():[];Lt&&re.push("#define OVERDRAW_INSPECTOR;");var de=re.concat(lo.fragmentSource,ct.fragmentSource).join("\n"),Ie=re.concat(lo.vertexSource,ct.vertexSource).join("\n"),Je=Wt.createShader(Wt.FRAGMENT_SHADER);if(Wt.isContextLost())this.failedToCreate=!0;else{Wt.shaderSource(Je,de),Wt.compileShader(Je),Wt.attachShader(this.program,Je);var fr=Wt.createShader(Wt.VERTEX_SHADER);if(Wt.isContextLost())this.failedToCreate=!0;else{Wt.shaderSource(fr,Ie),Wt.compileShader(fr),Wt.attachShader(this.program,fr);for(var mr=$?$.layoutAttributes:[],Ir=0;Ir<mr.length;Ir++)Wt.bindAttribLocation(this.program,Ir,mr[Ir].name);Wt.linkProgram(this.program),Wt.deleteShader(fr),Wt.deleteShader(Je),this.numAttributes=Wt.getProgramParameter(this.program,Wt.ACTIVE_ATTRIBUTES),this.attributes={};for(var Gr={},Wr=0;Wr<this.numAttributes;Wr++){var Ur=Wt.getActiveAttrib(this.program,Wr);Ur&&(this.attributes[Ur.name]=Wt.getAttribLocation(this.program,Ur.name))}for(var Kr=Wt.getProgramParameter(this.program,Wt.ACTIVE_UNIFORMS),fn=0;fn<Kr;fn++){var Mn=Wt.getActiveUniform(this.program,fn);Mn&&(Gr[Mn.name]=Wt.getUniformLocation(this.program,Mn.name))}this.fixedUniforms=ht(Y,Gr),this.binderUniforms=$?$.getUniforms(Y,Gr):[]}}};function Us(lt,Y,ct){var $=1/pn(ct,1,Y.transform.tileZoom),ht=Math.pow(2,ct.tileID.overscaledZ),Lt=ct.tileSize*Math.pow(2,Y.transform.tileZoom)/ht,Wt=Lt*(ct.tileID.canonical.x+ct.tileID.wrap*ht),re=Lt*ct.tileID.canonical.y;return{u_image:0,u_texsize:ct.imageAtlasTexture.size,u_scale:[$,lt.fromScale,lt.toScale],u_fade:lt.t,u_pixel_coord_upper:[Wt>>16,re>>16],u_pixel_coord_lower:[65535&Wt,65535&re]}}uo.prototype.draw=function(Y,ct,$,ht,Lt,Wt,re,de,Ie,Je,fr,mr,Ir,Gr,Wr,Ur){var Kr,fn=Y.gl;if(!this.failedToCreate){for(var Mn in Y.program.set(this.program),Y.setDepthMode($),Y.setStencilMode(ht),Y.setColorMode(Lt),Y.setCullFace(Wt),this.fixedUniforms)this.fixedUniforms[Mn].set(re[Mn]);Gr&&Gr.setUniforms(Y,this.binderUniforms,mr,{zoom:Ir});for(var Rn=(Kr={},Kr[fn.LINES]=2,Kr[fn.TRIANGLES]=3,Kr[fn.LINE_STRIP]=1,Kr)[ct],Bn=0,Un=fr.get();Bn<Un.length;Bn+=1){var Nn=Un[Bn],$n=Nn.vaos||(Nn.vaos={});($n[de]||($n[de]=new bs)).bind(Y,this,Ie,Gr?Gr.getPaintVertexBuffers():[],Je,Nn.vertexOffset,Wr,Ur),fn.drawElements(ct,Nn.primitiveLength*Rn,fn.UNSIGNED_SHORT,Nn.primitiveOffset*Rn*2)}}};var ko=function(lt,Y,ct,$){var ht=Y.style.light,Lt=ht.properties.get("position"),Wt=[Lt.x,Lt.y,Lt.z],re=i.create$1();"viewport"===ht.properties.get("anchor")&&i.fromRotation(re,-Y.transform.angle),i.transformMat3(Wt,Wt,re);var de=ht.properties.get("color");return{u_matrix:lt,u_lightpos:Wt,u_lightintensity:ht.properties.get("intensity"),u_lightcolor:[de.r,de.g,de.b],u_vertical_gradient:+ct,u_opacity:$}},wo=function(lt,Y,ct,$,ht,Lt,Wt){return i.extend(ko(lt,Y,ct,$),Us(Lt,Y,Wt),{u_height_factor:-Math.pow(2,ht.overscaledZ)/Wt.tileSize/8})},ss=function(lt){return{u_matrix:lt}},To=function(lt,Y,ct,$){return i.extend(ss(lt),Us(ct,Y,$))},su=function(lt,Y){return{u_matrix:lt,u_world:Y}},lu=function(lt,Y,ct,$,ht){return i.extend(To(lt,Y,ct,$),{u_world:ht})},Vs=function(lt,Y,ct,$){var Lt,Wt,ht=lt.transform;if("map"===$.paint.get("circle-pitch-alignment")){var re=pn(ct,1,ht.zoom);Lt=!0,Wt=[re,re]}else Lt=!1,Wt=ht.pixelsToGLUnits;return{u_camera_to_center_distance:ht.cameraToCenterDistance,u_scale_with_map:+("map"===$.paint.get("circle-pitch-scale")),u_matrix:lt.translatePosMatrix(Y.posMatrix,ct,$.paint.get("circle-translate"),$.paint.get("circle-translate-anchor")),u_pitch_with_map:+Lt,u_device_pixel_ratio:i.browser.devicePixelRatio,u_extrude_scale:Wt}},df=function(lt,Y,ct){var $=pn(ct,1,Y.zoom),ht=Math.pow(2,Y.zoom-ct.tileID.overscaledZ),Lt=ct.tileID.overscaleFactor();return{u_matrix:lt,u_camera_to_center_distance:Y.cameraToCenterDistance,u_pixels_to_tile_units:$,u_extrude_scale:[Y.pixelsToGLUnits[0]/($*ht),Y.pixelsToGLUnits[1]/($*ht)],u_overscale_factor:Lt}},Bu=function(lt,Y,ct){return{u_matrix:lt,u_inv_matrix:Y,u_camera_to_center_distance:ct.cameraToCenterDistance,u_viewport_size:[ct.width,ct.height]}},Uu=function(lt,Y,ct){return void 0===ct&&(ct=1),{u_matrix:lt,u_color:Y,u_overlay:0,u_overlay_scale:ct}},Ni=function(lt){return{u_matrix:lt}},il=function(lt,Y,ct,$){return{u_matrix:lt,u_extrude_scale:pn(Y,1,ct),u_intensity:$}};function us(lt,Y){var ct=Math.pow(2,Y.canonical.z),$=Y.canonical.y;return[new i.MercatorCoordinate(0,$/ct).toLngLat().lat,new i.MercatorCoordinate(0,($+1)/ct).toLngLat().lat]}var Ts=function(lt,Y,ct){var $=lt.transform;return{u_matrix:Jo(lt,Y,ct),u_ratio:1/pn(Y,1,$.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_units_to_pixels:[1/$.pixelsToGLUnits[0],1/$.pixelsToGLUnits[1]]}},Vu=function(lt,Y,ct){return i.extend(Ts(lt,Y,ct),{u_image:0})},cs=function(lt,Y,ct,$){var ht=lt.transform,Lt=Ko(Y,ht);return{u_matrix:Jo(lt,Y,ct),u_texsize:Y.imageAtlasTexture.size,u_ratio:1/pn(Y,1,ht.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_image:0,u_scale:[Lt,$.fromScale,$.toScale],u_fade:$.t,u_units_to_pixels:[1/ht.pixelsToGLUnits[0],1/ht.pixelsToGLUnits[1]]}},sl=function(lt,Y,ct,$,ht){var Wt=lt.lineAtlas,re=Ko(Y,lt.transform),de="round"===ct.layout.get("line-cap"),Ie=Wt.getDash($.from,de),Je=Wt.getDash($.to,de),fr=Ie.width*ht.fromScale,mr=Je.width*ht.toScale;return i.extend(Ts(lt,Y,ct),{u_patternscale_a:[re/fr,-Ie.height/2],u_patternscale_b:[re/mr,-Je.height/2],u_sdfgamma:Wt.width/(256*Math.min(fr,mr)*i.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ie.y,u_tex_y_b:Je.y,u_mix:ht.t})};function Ko(lt,Y){return 1/pn(lt,1,Y.tileZoom)}function Jo(lt,Y,ct){return lt.translatePosMatrix(Y.tileID.posMatrix,Y,ct.paint.get("line-translate"),ct.paint.get("line-translate-anchor"))}var As=function(lt,Y,ct,$,ht){return{u_matrix:lt,u_tl_parent:Y,u_scale_parent:ct,u_buffer_scale:1,u_fade_t:$.mix,u_opacity:$.opacity*ht.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ht.paint.get("raster-brightness-min"),u_brightness_high:ht.paint.get("raster-brightness-max"),u_saturation_factor:vu(ht.paint.get("raster-saturation")),u_contrast_factor:Gs(ht.paint.get("raster-contrast")),u_spin_weights:ei(ht.paint.get("raster-hue-rotate"))}};function ei(lt){lt*=Math.PI/180;var Y=Math.sin(lt),ct=Math.cos(lt);return[(2*ct+1)/3,(-Math.sqrt(3)*Y-ct+1)/3,(Math.sqrt(3)*Y-ct+1)/3]}function Gs(lt){return lt>0?1/(1-lt):1+lt}function vu(lt){return lt>0?1-1/(1.001-lt):-lt}var Ao,du=function(lt,Y,ct,$,ht,Lt,Wt,re,de,Ie){var Je=ht.transform;return{u_is_size_zoom_constant:+("constant"===lt||"source"===lt),u_is_size_feature_constant:+("constant"===lt||"camera"===lt),u_size_t:Y?Y.uSizeT:0,u_size:Y?Y.uSize:0,u_camera_to_center_distance:Je.cameraToCenterDistance,u_pitch:Je.pitch/360*2*Math.PI,u_rotate_symbol:+ct,u_aspect_ratio:Je.width/Je.height,u_fade_change:ht.options.fadeDuration?ht.symbolFadeChange:1,u_matrix:Lt,u_label_plane_matrix:Wt,u_coord_matrix:re,u_is_text:+de,u_pitch_with_map:+$,u_texsize:Ie,u_texture:0}},ul=function(lt,Y,ct,$,ht,Lt,Wt,re,de,Ie,Je){var fr=ht.transform;return i.extend(du(lt,Y,ct,$,ht,Lt,Wt,re,de,Ie),{u_gamma_scale:$?Math.cos(fr._pitch)*fr.cameraToCenterDistance:1,u_device_pixel_ratio:i.browser.devicePixelRatio,u_is_halo:+Je})},Vl=function(lt,Y,ct,$,ht,Lt,Wt,re,de,Ie){return i.extend(ul(lt,Y,ct,$,ht,Lt,Wt,re,!0,de,!0),{u_texsize_icon:Ie,u_texture_icon:1})},fl=function(lt,Y,ct){return{u_matrix:lt,u_opacity:Y,u_color:ct}},cl=function(lt,Y,ct,$,ht,Lt){return i.extend(function Ou(lt,Y,ct,$){var ht=ct.imageManager.getPattern(lt.from.toString()),Lt=ct.imageManager.getPattern(lt.to.toString()),Wt=ct.imageManager.getPixelSize(),re=Wt.width,de=Wt.height,Ie=Math.pow(2,$.tileID.overscaledZ),Je=$.tileSize*Math.pow(2,ct.transform.tileZoom)/Ie,fr=Je*($.tileID.canonical.x+$.tileID.wrap*Ie),mr=Je*$.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ht.tl,u_pattern_br_a:ht.br,u_pattern_tl_b:Lt.tl,u_pattern_br_b:Lt.br,u_texsize:[re,de],u_mix:Y.t,u_pattern_size_a:ht.displaySize,u_pattern_size_b:Lt.displaySize,u_scale_a:Y.fromScale,u_scale_b:Y.toScale,u_tile_units_to_pixels:1/pn($,1,ct.transform.tileZoom),u_pixel_coord_upper:[fr>>16,mr>>16],u_pixel_coord_lower:[65535&fr,65535&mr]}}($,Lt,ct,ht),{u_matrix:lt,u_opacity:Y})},$o={fillExtrusion:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_lightpos:new i.Uniform3f(lt,Y.u_lightpos),u_lightintensity:new i.Uniform1f(lt,Y.u_lightintensity),u_lightcolor:new i.Uniform3f(lt,Y.u_lightcolor),u_vertical_gradient:new i.Uniform1f(lt,Y.u_vertical_gradient),u_opacity:new i.Uniform1f(lt,Y.u_opacity)}},fillExtrusionPattern:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_lightpos:new i.Uniform3f(lt,Y.u_lightpos),u_lightintensity:new i.Uniform1f(lt,Y.u_lightintensity),u_lightcolor:new i.Uniform3f(lt,Y.u_lightcolor),u_vertical_gradient:new i.Uniform1f(lt,Y.u_vertical_gradient),u_height_factor:new i.Uniform1f(lt,Y.u_height_factor),u_image:new i.Uniform1i(lt,Y.u_image),u_texsize:new i.Uniform2f(lt,Y.u_texsize),u_pixel_coord_upper:new i.Uniform2f(lt,Y.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(lt,Y.u_pixel_coord_lower),u_scale:new i.Uniform3f(lt,Y.u_scale),u_fade:new i.Uniform1f(lt,Y.u_fade),u_opacity:new i.Uniform1f(lt,Y.u_opacity)}},fill:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix)}},fillPattern:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_image:new i.Uniform1i(lt,Y.u_image),u_texsize:new i.Uniform2f(lt,Y.u_texsize),u_pixel_coord_upper:new i.Uniform2f(lt,Y.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(lt,Y.u_pixel_coord_lower),u_scale:new i.Uniform3f(lt,Y.u_scale),u_fade:new i.Uniform1f(lt,Y.u_fade)}},fillOutline:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_world:new i.Uniform2f(lt,Y.u_world)}},fillOutlinePattern:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_world:new i.Uniform2f(lt,Y.u_world),u_image:new i.Uniform1i(lt,Y.u_image),u_texsize:new i.Uniform2f(lt,Y.u_texsize),u_pixel_coord_upper:new i.Uniform2f(lt,Y.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(lt,Y.u_pixel_coord_lower),u_scale:new i.Uniform3f(lt,Y.u_scale),u_fade:new i.Uniform1f(lt,Y.u_fade)}},circle:function(lt,Y){return{u_camera_to_center_distance:new i.Uniform1f(lt,Y.u_camera_to_center_distance),u_scale_with_map:new i.Uniform1i(lt,Y.u_scale_with_map),u_pitch_with_map:new i.Uniform1i(lt,Y.u_pitch_with_map),u_extrude_scale:new i.Uniform2f(lt,Y.u_extrude_scale),u_device_pixel_ratio:new i.Uniform1f(lt,Y.u_device_pixel_ratio),u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix)}},collisionBox:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_camera_to_center_distance:new i.Uniform1f(lt,Y.u_camera_to_center_distance),u_pixels_to_tile_units:new i.Uniform1f(lt,Y.u_pixels_to_tile_units),u_extrude_scale:new i.Uniform2f(lt,Y.u_extrude_scale),u_overscale_factor:new i.Uniform1f(lt,Y.u_overscale_factor)}},collisionCircle:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_inv_matrix:new i.UniformMatrix4f(lt,Y.u_inv_matrix),u_camera_to_center_distance:new i.Uniform1f(lt,Y.u_camera_to_center_distance),u_viewport_size:new i.Uniform2f(lt,Y.u_viewport_size)}},debug:function(lt,Y){return{u_color:new i.UniformColor(lt,Y.u_color),u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_overlay:new i.Uniform1i(lt,Y.u_overlay),u_overlay_scale:new i.Uniform1f(lt,Y.u_overlay_scale)}},clippingMask:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix)}},heatmap:function(lt,Y){return{u_extrude_scale:new i.Uniform1f(lt,Y.u_extrude_scale),u_intensity:new i.Uniform1f(lt,Y.u_intensity),u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix)}},heatmapTexture:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_world:new i.Uniform2f(lt,Y.u_world),u_image:new i.Uniform1i(lt,Y.u_image),u_color_ramp:new i.Uniform1i(lt,Y.u_color_ramp),u_opacity:new i.Uniform1f(lt,Y.u_opacity)}},hillshade:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_image:new i.Uniform1i(lt,Y.u_image),u_latrange:new i.Uniform2f(lt,Y.u_latrange),u_light:new i.Uniform2f(lt,Y.u_light),u_shadow:new i.UniformColor(lt,Y.u_shadow),u_highlight:new i.UniformColor(lt,Y.u_highlight),u_accent:new i.UniformColor(lt,Y.u_accent)}},hillshadePrepare:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_image:new i.Uniform1i(lt,Y.u_image),u_dimension:new i.Uniform2f(lt,Y.u_dimension),u_zoom:new i.Uniform1f(lt,Y.u_zoom),u_maxzoom:new i.Uniform1f(lt,Y.u_maxzoom),u_unpack:new i.Uniform4f(lt,Y.u_unpack)}},line:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_ratio:new i.Uniform1f(lt,Y.u_ratio),u_device_pixel_ratio:new i.Uniform1f(lt,Y.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(lt,Y.u_units_to_pixels)}},lineGradient:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_ratio:new i.Uniform1f(lt,Y.u_ratio),u_device_pixel_ratio:new i.Uniform1f(lt,Y.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(lt,Y.u_units_to_pixels),u_image:new i.Uniform1i(lt,Y.u_image)}},linePattern:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_texsize:new i.Uniform2f(lt,Y.u_texsize),u_ratio:new i.Uniform1f(lt,Y.u_ratio),u_device_pixel_ratio:new i.Uniform1f(lt,Y.u_device_pixel_ratio),u_image:new i.Uniform1i(lt,Y.u_image),u_units_to_pixels:new i.Uniform2f(lt,Y.u_units_to_pixels),u_scale:new i.Uniform3f(lt,Y.u_scale),u_fade:new i.Uniform1f(lt,Y.u_fade)}},lineSDF:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_ratio:new i.Uniform1f(lt,Y.u_ratio),u_device_pixel_ratio:new i.Uniform1f(lt,Y.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(lt,Y.u_units_to_pixels),u_patternscale_a:new i.Uniform2f(lt,Y.u_patternscale_a),u_patternscale_b:new i.Uniform2f(lt,Y.u_patternscale_b),u_sdfgamma:new i.Uniform1f(lt,Y.u_sdfgamma),u_image:new i.Uniform1i(lt,Y.u_image),u_tex_y_a:new i.Uniform1f(lt,Y.u_tex_y_a),u_tex_y_b:new i.Uniform1f(lt,Y.u_tex_y_b),u_mix:new i.Uniform1f(lt,Y.u_mix)}},raster:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_tl_parent:new i.Uniform2f(lt,Y.u_tl_parent),u_scale_parent:new i.Uniform1f(lt,Y.u_scale_parent),u_buffer_scale:new i.Uniform1f(lt,Y.u_buffer_scale),u_fade_t:new i.Uniform1f(lt,Y.u_fade_t),u_opacity:new i.Uniform1f(lt,Y.u_opacity),u_image0:new i.Uniform1i(lt,Y.u_image0),u_image1:new i.Uniform1i(lt,Y.u_image1),u_brightness_low:new i.Uniform1f(lt,Y.u_brightness_low),u_brightness_high:new i.Uniform1f(lt,Y.u_brightness_high),u_saturation_factor:new i.Uniform1f(lt,Y.u_saturation_factor),u_contrast_factor:new i.Uniform1f(lt,Y.u_contrast_factor),u_spin_weights:new i.Uniform3f(lt,Y.u_spin_weights)}},symbolIcon:function(lt,Y){return{u_is_size_zoom_constant:new i.Uniform1i(lt,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(lt,Y.u_is_size_feature_constant),u_size_t:new i.Uniform1f(lt,Y.u_size_t),u_size:new i.Uniform1f(lt,Y.u_size),u_camera_to_center_distance:new i.Uniform1f(lt,Y.u_camera_to_center_distance),u_pitch:new i.Uniform1f(lt,Y.u_pitch),u_rotate_symbol:new i.Uniform1i(lt,Y.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(lt,Y.u_aspect_ratio),u_fade_change:new i.Uniform1f(lt,Y.u_fade_change),u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(lt,Y.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(lt,Y.u_coord_matrix),u_is_text:new i.Uniform1i(lt,Y.u_is_text),u_pitch_with_map:new i.Uniform1i(lt,Y.u_pitch_with_map),u_texsize:new i.Uniform2f(lt,Y.u_texsize),u_texture:new i.Uniform1i(lt,Y.u_texture)}},symbolSDF:function(lt,Y){return{u_is_size_zoom_constant:new i.Uniform1i(lt,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(lt,Y.u_is_size_feature_constant),u_size_t:new i.Uniform1f(lt,Y.u_size_t),u_size:new i.Uniform1f(lt,Y.u_size),u_camera_to_center_distance:new i.Uniform1f(lt,Y.u_camera_to_center_distance),u_pitch:new i.Uniform1f(lt,Y.u_pitch),u_rotate_symbol:new i.Uniform1i(lt,Y.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(lt,Y.u_aspect_ratio),u_fade_change:new i.Uniform1f(lt,Y.u_fade_change),u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(lt,Y.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(lt,Y.u_coord_matrix),u_is_text:new i.Uniform1i(lt,Y.u_is_text),u_pitch_with_map:new i.Uniform1i(lt,Y.u_pitch_with_map),u_texsize:new i.Uniform2f(lt,Y.u_texsize),u_texture:new i.Uniform1i(lt,Y.u_texture),u_gamma_scale:new i.Uniform1f(lt,Y.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(lt,Y.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(lt,Y.u_is_halo)}},symbolTextAndIcon:function(lt,Y){return{u_is_size_zoom_constant:new i.Uniform1i(lt,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(lt,Y.u_is_size_feature_constant),u_size_t:new i.Uniform1f(lt,Y.u_size_t),u_size:new i.Uniform1f(lt,Y.u_size),u_camera_to_center_distance:new i.Uniform1f(lt,Y.u_camera_to_center_distance),u_pitch:new i.Uniform1f(lt,Y.u_pitch),u_rotate_symbol:new i.Uniform1i(lt,Y.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(lt,Y.u_aspect_ratio),u_fade_change:new i.Uniform1f(lt,Y.u_fade_change),u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(lt,Y.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(lt,Y.u_coord_matrix),u_is_text:new i.Uniform1i(lt,Y.u_is_text),u_pitch_with_map:new i.Uniform1i(lt,Y.u_pitch_with_map),u_texsize:new i.Uniform2f(lt,Y.u_texsize),u_texsize_icon:new i.Uniform2f(lt,Y.u_texsize_icon),u_texture:new i.Uniform1i(lt,Y.u_texture),u_texture_icon:new i.Uniform1i(lt,Y.u_texture_icon),u_gamma_scale:new i.Uniform1f(lt,Y.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(lt,Y.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(lt,Y.u_is_halo)}},background:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_opacity:new i.Uniform1f(lt,Y.u_opacity),u_color:new i.UniformColor(lt,Y.u_color)}},backgroundPattern:function(lt,Y){return{u_matrix:new i.UniformMatrix4f(lt,Y.u_matrix),u_opacity:new i.Uniform1f(lt,Y.u_opacity),u_image:new i.Uniform1i(lt,Y.u_image),u_pattern_tl_a:new i.Uniform2f(lt,Y.u_pattern_tl_a),u_pattern_br_a:new i.Uniform2f(lt,Y.u_pattern_br_a),u_pattern_tl_b:new i.Uniform2f(lt,Y.u_pattern_tl_b),u_pattern_br_b:new i.Uniform2f(lt,Y.u_pattern_br_b),u_texsize:new i.Uniform2f(lt,Y.u_texsize),u_mix:new i.Uniform1f(lt,Y.u_mix),u_pattern_size_a:new i.Uniform2f(lt,Y.u_pattern_size_a),u_pattern_size_b:new i.Uniform2f(lt,Y.u_pattern_size_b),u_scale_a:new i.Uniform1f(lt,Y.u_scale_a),u_scale_b:new i.Uniform1f(lt,Y.u_scale_b),u_pixel_coord_upper:new i.Uniform2f(lt,Y.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(lt,Y.u_pixel_coord_lower),u_tile_units_to_pixels:new i.Uniform1f(lt,Y.u_tile_units_to_pixels)}}};function hl(lt,Y,ct,$,ht,Lt,Wt){for(var re=lt.context,de=re.gl,Ie=lt.useProgram("collisionBox"),Je=[],fr=0,mr=0,Ir=0;Ir<$.length;Ir++){var Gr=$[Ir],Wr=Y.getTile(Gr),Ur=Wr.getBucket(ct);if(Ur){var Kr=Gr.posMatrix;(0!==ht[0]||0!==ht[1])&&(Kr=lt.translatePosMatrix(Gr.posMatrix,Wr,ht,Lt));var fn=Wt?Ur.textCollisionBox:Ur.iconCollisionBox,Mn=Ur.collisionCircleArray;if(Mn.length>0){var Rn=i.create(),Bn=Kr;i.mul(Rn,Ur.placementInvProjMatrix,lt.transform.glCoordMatrix),i.mul(Rn,Rn,Ur.placementViewportMatrix),Je.push({circleArray:Mn,circleOffset:mr,transform:Bn,invTransform:Rn}),mr=fr+=Mn.length/4}!fn||Ie.draw(re,de.LINES,Lr.disabled,He.disabled,lt.colorModeForRenderPass(),Te.disabled,df(Kr,lt.transform,Wr),ct.id,fn.layoutVertexBuffer,fn.indexBuffer,fn.segments,null,lt.transform.zoom,null,null,fn.collisionVertexBuffer)}}if(Wt&&Je.length){var Un=lt.useProgram("collisionCircle"),Nn=new i.StructArrayLayout2f1f2i16;Nn.resize(4*fr),Nn._trim();for(var $n=0,sa=0,aa=Je;sa<aa.length;sa+=1)for(var fa=aa[sa],pa=0;pa<fa.circleArray.length/4;pa++){var Ca=4*pa,Fa=fa.circleArray[Ca+0],$a=fa.circleArray[Ca+1],za=fa.circleArray[Ca+2],Ha=fa.circleArray[Ca+3];Nn.emplace($n++,Fa,$a,za,Ha,0),Nn.emplace($n++,Fa,$a,za,Ha,1),Nn.emplace($n++,Fa,$a,za,Ha,2),Nn.emplace($n++,Fa,$a,za,Ha,3)}(!Ao||Ao.length<2*fr)&&(Ao=function hs(lt){var Y=2*lt,ct=new i.StructArrayLayout3ui6;ct.resize(Y),ct._trim();for(var $=0;$<Y;$++){var ht=6*$;ct.uint16[ht+0]=4*$+0,ct.uint16[ht+1]=4*$+1,ct.uint16[ht+2]=4*$+2,ct.uint16[ht+3]=4*$+2,ct.uint16[ht+4]=4*$+3,ct.uint16[ht+5]=4*$+0}return ct}(fr));for(var Ta=re.createIndexBuffer(Ao,!0),_a=re.createVertexBuffer(Nn,i.collisionCircleLayout.members,!0),ni=0,oi=Je;ni<oi.length;ni+=1){var Ya=oi[ni],ci=Bu(Ya.transform,Ya.invTransform,lt.transform);Un.draw(re,de.TRIANGLES,Lr.disabled,He.disabled,lt.colorModeForRenderPass(),Te.disabled,ci,ct.id,_a,Ta,i.SegmentVector.simpleSegment(0,2*Ya.circleOffset,Ya.circleArray.length,Ya.circleArray.length/2),null,lt.transform.zoom,null,null,null)}_a.destroy(),Ta.destroy()}}var vl=i.identity(new Float32Array(16));function Wu(lt,Y,ct,$,ht,Lt){var Wt=i.getAnchorAlignment(lt),Ie=-(Wt.horizontalAlign-.5)*Y,Je=-(Wt.verticalAlign-.5)*ct,fr=i.evaluateVariableOffset(lt,$);return new i.Point((Ie/ht+fr[0])*Lt,(Je/ht+fr[1])*Lt)}function Ti(lt,Y,ct,$,ht,Lt,Wt,re,de,Ie,Je){var fr=lt.text.placedSymbolArray,mr=lt.text.dynamicLayoutVertexArray,Ir=lt.icon.dynamicLayoutVertexArray,Gr={};mr.clear();for(var Wr=0;Wr<fr.length;Wr++){var Ur=fr.get(Wr),fn=Ur.hidden||!Ur.crossTileID||lt.allowVerticalPlacement&&!Ur.placedOrientation?null:$[Ur.crossTileID];if(fn){var Mn=new i.Point(Ur.anchorX,Ur.anchorY),Rn=Br(Mn,ct?re:Wt),Bn=_r(Lt.cameraToCenterDistance,Rn.signedDistanceFromCamera),Un=ht.evaluateSizeForFeature(lt.textSizeData,Ie,Ur)*Bn/i.ONE_EM;ct&&(Un*=lt.tilePixelRatio/de);for(var pa=Wu(fn.anchor,fn.width,fn.height,fn.textOffset,fn.textBoxScale,Un),Ca=ct?Br(Mn.add(pa),Wt).point:Rn.point.add(Y?pa.rotate(-Lt.angle):pa),Fa=lt.allowVerticalPlacement&&Ur.placedOrientation===i.WritingMode.vertical?Math.PI/2:0,$a=0;$a<Ur.numGlyphs;$a++)i.addDynamicAttributes(mr,Ca,Fa);Je&&Ur.associatedIconIndex>=0&&(Gr[Ur.associatedIconIndex]={shiftedAnchor:Ca,angle:Fa})}else Qn(Ur.numGlyphs,mr)}if(Je){Ir.clear();for(var za=lt.icon.placedSymbolArray,Ha=0;Ha<za.length;Ha++){var Ta=za.get(Ha);if(Ta.hidden)Qn(Ta.numGlyphs,Ir);else{var _a=Gr[Ha];if(_a)for(var ni=0;ni<Ta.numGlyphs;ni++)i.addDynamicAttributes(Ir,_a.shiftedAnchor,_a.angle);else Qn(Ta.numGlyphs,Ir)}}lt.icon.dynamicLayoutVertexBuffer.updateData(Ir)}lt.text.dynamicLayoutVertexBuffer.updateData(mr)}function pu(lt,Y,ct){return ct.iconsInText&&Y?"symbolTextAndIcon":lt?"symbolSDF":"symbolIcon"}function Gl(lt,Y,ct,$,ht,Lt,Wt,re,de,Ie,Je,fr){for(var mr=lt.context,Ir=mr.gl,Gr=lt.transform,Wr="map"===re,Ur="map"===de,Kr=Wr&&"point"!==ct.layout.get("symbol-placement"),fn=Wr&&!Ur&&!Kr,Mn=void 0!==ct.layout.get("symbol-sort-key").constantOr(1),Rn=lt.depthModeForSublayer(0,Lr.ReadOnly),Bn=ct.layout.get("text-variable-anchor"),Un=[],Nn=0,$n=$;Nn<$n.length;Nn+=1){var sa=$n[Nn],aa=Y.getTile(sa),fa=aa.getBucket(ct);if(fa){var pa=ht?fa.text:fa.icon;if(pa&&pa.segments.get().length){var Ca=pa.programConfigurations.get(ct.id),Fa=ht||fa.sdfIcons,$a=ht?fa.textSizeData:fa.iconSizeData,za=Ur||0!==Gr.pitch,Ha=lt.useProgram(pu(Fa,ht,fa),Ca),Ta=i.evaluateSizeForZoom($a,Gr.zoom),_a=void 0,ni=[0,0],oi=void 0,Ya=void 0,ci=null,ka=void 0;if(ht)oi=aa.glyphAtlasTexture,Ya=Ir.LINEAR,_a=aa.glyphAtlasTexture.size,fa.iconsInText&&(ni=aa.imageAtlasTexture.size,ci=aa.imageAtlasTexture,ka=za||lt.options.rotating||lt.options.zooming||"composite"===$a.kind||"camera"===$a.kind?Ir.LINEAR:Ir.NEAREST);else{var Di=1!==ct.layout.get("icon-size").constantOr(0)||fa.iconsNeedLinear;oi=aa.imageAtlasTexture,Ya=Fa||lt.options.rotating||lt.options.zooming||Di||za?Ir.LINEAR:Ir.NEAREST,_a=aa.imageAtlasTexture.size}var Hi=pn(aa,1,lt.transform.zoom),ds=yr(sa.posMatrix,Ur,Wr,lt.transform,Hi),ps=Fr(sa.posMatrix,Ur,Wr,lt.transform,Hi),js=Bn&&fa.hasTextData(),Ks="none"!==ct.layout.get("icon-text-fit")&&js&&fa.hasIconData();Kr&&hn(fa,sa.posMatrix,lt,ht,ds,ps,Ur,Ie);var wl=lt.translatePosMatrix(sa.posMatrix,aa,Lt,Wt),Js=Kr||ht&&Bn||Ks?vl:ds,Co=lt.translatePosMatrix(ps,aa,Lt,Wt,!0),Kl=Fa&&0!==ct.paint.get(ht?"text-halo-width":"icon-halo-width").constantOr(1),qo={program:Ha,buffers:pa,uniformValues:Fa?fa.iconsInText?Vl($a.kind,Ta,fn,Ur,lt,wl,Js,Co,_a,ni):ul($a.kind,Ta,fn,Ur,lt,wl,Js,Co,ht,_a,!0):du($a.kind,Ta,fn,Ur,lt,wl,Js,Co,ht,_a),atlasTexture:oi,atlasTextureIcon:ci,atlasInterpolation:Ya,atlasInterpolationIcon:ka,isSDF:Fa,hasHalo:Kl};if(Mn)for(var Rs=0,$s=pa.segments.get();Rs<$s.length;Rs+=1){var Df=$s[Rs];Un.push({segments:new i.SegmentVector([Df]),sortKey:Df.sortKey,state:qo})}else Un.push({segments:pa.segments,sortKey:0,state:qo})}}}Mn&&Un.sort(function(Rf,If){return Rf.sortKey-If.sortKey});for(var bu=0,oo=Un;bu<oo.length;bu+=1){var bf=oo[bu],po=bf.state;if(mr.activeTexture.set(Ir.TEXTURE0),po.atlasTexture.bind(po.atlasInterpolation,Ir.CLAMP_TO_EDGE),po.atlasTextureIcon&&(mr.activeTexture.set(Ir.TEXTURE1),po.atlasTextureIcon&&po.atlasTextureIcon.bind(po.atlasInterpolationIcon,Ir.CLAMP_TO_EDGE)),po.isSDF){var wf=po.uniformValues;po.hasHalo&&(wf.u_is_halo=1,Ss(po.buffers,bf.segments,ct,lt,po.program,Rn,Je,fr,wf)),wf.u_is_halo=0}Ss(po.buffers,bf.segments,ct,lt,po.program,Rn,Je,fr,po.uniformValues)}}function Ss(lt,Y,ct,$,ht,Lt,Wt,re,de){var Ie=$.context;ht.draw(Ie,Ie.gl.TRIANGLES,Lt,Wt,re,Te.disabled,de,ct.id,lt.layoutVertexBuffer,lt.indexBuffer,Y,ct.paint,$.transform.zoom,lt.programConfigurations.get(ct.id),lt.dynamicLayoutVertexBuffer,lt.opacityVertexBuffer)}function Yu(lt,Y,ct,$,ht,Lt,Wt){var fr,mr,Ir,Gr,Wr,re=lt.context.gl,de=ct.paint.get("fill-pattern"),Ie=de&&de.constantOr(1),Je=ct.getCrossfadeParameters();Wt?(mr=Ie&&!ct.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",fr=re.LINES):(mr=Ie?"fillPattern":"fill",fr=re.TRIANGLES);for(var Ur=0,Kr=$;Ur<Kr.length;Ur+=1){var fn=Kr[Ur],Mn=Y.getTile(fn);if(!Ie||Mn.patternsLoaded()){var Rn=Mn.getBucket(ct);if(Rn){var Bn=Rn.programConfigurations.get(ct.id),Un=lt.useProgram(mr,Bn);Ie&&(lt.context.activeTexture.set(re.TEXTURE0),Mn.imageAtlasTexture.bind(re.LINEAR,re.CLAMP_TO_EDGE),Bn.updatePaintBuffers(Je));var Nn=de.constantOr(null);if(Nn&&Mn.imageAtlas){var $n=Mn.imageAtlas,sa=$n.patternPositions[Nn.to.toString()],aa=$n.patternPositions[Nn.from.toString()];sa&&aa&&Bn.setConstantPatternPositions(sa,aa)}var fa=lt.translatePosMatrix(fn.posMatrix,Mn,ct.paint.get("fill-translate"),ct.paint.get("fill-translate-anchor"));if(Wt){Gr=Rn.indexBuffer2,Wr=Rn.segments2;var pa=[re.drawingBufferWidth,re.drawingBufferHeight];Ir="fillOutlinePattern"===mr&&Ie?lu(fa,lt,Je,Mn,pa):su(fa,pa)}else Gr=Rn.indexBuffer,Wr=Rn.segments,Ir=Ie?To(fa,lt,Je,Mn):ss(fa);Un.draw(lt.context,fr,ht,lt.stencilModeForClipping(fn),Lt,Te.disabled,Ir,ct.id,Rn.layoutVertexBuffer,Gr,Wr,ct.paint,lt.transform.zoom,Bn)}}}}function Es(lt,Y,ct,$,ht,Lt,Wt){for(var re=lt.context,de=re.gl,Ie=ct.paint.get("fill-extrusion-pattern"),Je=Ie.constantOr(1),fr=ct.getCrossfadeParameters(),mr=ct.paint.get("fill-extrusion-opacity"),Ir=0,Gr=$;Ir<Gr.length;Ir+=1){var Wr=Gr[Ir],Ur=Y.getTile(Wr),Kr=Ur.getBucket(ct);if(Kr){var fn=Kr.programConfigurations.get(ct.id),Mn=lt.useProgram(Je?"fillExtrusionPattern":"fillExtrusion",fn);Je&&(lt.context.activeTexture.set(de.TEXTURE0),Ur.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),fn.updatePaintBuffers(fr));var Rn=Ie.constantOr(null);if(Rn&&Ur.imageAtlas){var Bn=Ur.imageAtlas,Un=Bn.patternPositions[Rn.to.toString()],Nn=Bn.patternPositions[Rn.from.toString()];Un&&Nn&&fn.setConstantPatternPositions(Un,Nn)}var $n=lt.translatePosMatrix(Wr.posMatrix,Ur,ct.paint.get("fill-extrusion-translate"),ct.paint.get("fill-extrusion-translate-anchor")),sa=ct.paint.get("fill-extrusion-vertical-gradient"),aa=Je?wo($n,lt,sa,mr,Wr,fr,Ur):ko($n,lt,sa,mr);Mn.draw(re,re.gl.TRIANGLES,ht,Lt,Wt,Te.backCCW,aa,ct.id,Kr.layoutVertexBuffer,Kr.indexBuffer,Kr.segments,ct.paint,lt.transform.zoom,fn)}}}function mu(lt,Y,ct,$,ht,Lt){var Wt=lt.context,re=Wt.gl,de=Y.fbo;if(de){var Ie=lt.useProgram("hillshade");Wt.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,de.colorAttachment.get());var Je=function(lt,Y,ct){var $=ct.paint.get("hillshade-shadow-color"),ht=ct.paint.get("hillshade-highlight-color"),Lt=ct.paint.get("hillshade-accent-color"),Wt=ct.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===ct.paint.get("hillshade-illumination-anchor")&&(Wt-=lt.transform.angle);var re=!lt.options.moving;return{u_matrix:lt.transform.calculatePosMatrix(Y.tileID.toUnwrapped(),re),u_image:0,u_latrange:us(0,Y.tileID),u_light:[ct.paint.get("hillshade-exaggeration"),Wt],u_shadow:$,u_highlight:ht,u_accent:Lt}}(lt,Y,ct);Ie.draw(Wt,re.TRIANGLES,$,ht,Lt,Te.disabled,Je,ct.id,lt.rasterBoundsBuffer,lt.quadTriangleIndexBuffer,lt.rasterBoundsSegments)}}function Wl(lt,Y,ct,$,ht,Lt,Wt){var re=lt.context,de=re.gl,Ie=Y.dem;if(Ie&&Ie.data){var Je=Ie.dim,fr=Ie.stride,mr=Ie.getPixels();if(re.activeTexture.set(de.TEXTURE1),re.pixelStoreUnpackPremultiplyAlpha.set(!1),Y.demTexture=Y.demTexture||lt.getTileTexture(fr),Y.demTexture){var Ir=Y.demTexture;Ir.update(mr,{premultiply:!1}),Ir.bind(de.NEAREST,de.CLAMP_TO_EDGE)}else Y.demTexture=new i.Texture(re,mr,de.RGBA,{premultiply:!1}),Y.demTexture.bind(de.NEAREST,de.CLAMP_TO_EDGE);re.activeTexture.set(de.TEXTURE0);var Gr=Y.fbo;if(!Gr){var Wr=new i.Texture(re,{width:Je,height:Je,data:null},de.RGBA);Wr.bind(de.LINEAR,de.CLAMP_TO_EDGE),(Gr=Y.fbo=re.createFramebuffer(Je,Je,!0)).colorAttachment.set(Wr.texture)}re.bindFramebuffer.set(Gr.framebuffer),re.viewport.set([0,0,Je,Je]),lt.useProgram("hillshadePrepare").draw(re,de.TRIANGLES,ht,Lt,Wt,Te.disabled,function(lt,Y,ct){var $=Y.stride,ht=i.create();return i.ortho(ht,0,i.EXTENT,-i.EXTENT,0,0,1),i.translate(ht,ht,[0,-i.EXTENT,0]),{u_matrix:ht,u_image:1,u_dimension:[$,$],u_zoom:lt.overscaledZ,u_maxzoom:ct,u_unpack:Y.getUnpackVector()}}(Y.tileID,Ie,$),ct.id,lt.rasterBoundsBuffer,lt.quadTriangleIndexBuffer,lt.rasterBoundsSegments),Y.needsHillshadePrepare=!1}}function Xs(lt,Y,ct,$,ht){var Lt=$.paint.get("raster-fade-duration");if(Lt>0){var Wt=i.browser.now(),re=(Wt-lt.timeAdded)/Lt,de=Y?(Wt-Y.timeAdded)/Lt:-1,Ie=ct.getSource(),Je=ht.coveringZoomLevel({tileSize:Ie.tileSize,roundZoom:Ie.roundZoom}),fr=!Y||Math.abs(Y.tileID.overscaledZ-Je)>Math.abs(lt.tileID.overscaledZ-Je),mr=fr&&lt.refreshedUponExpiration?1:i.clamp(fr?re:1-de,0,1);return lt.refreshedUponExpiration&&re>=1&&(lt.refreshedUponExpiration=!1),Y?{opacity:1,mix:1-mr}:{opacity:mr,mix:0}}return{opacity:1,mix:0}}var Zu=new i.Color(1,0,0,1),Yl=new i.Color(0,1,0,1),Xu=new i.Color(0,0,1,1),yl=new i.Color(1,0,1,1),xu=new i.Color(0,1,1,1);function Xt(lt){var Y=lt.transform.padding;ue(lt,lt.transform.height-(Y.top||0),3,Zu),ue(lt,Y.bottom||0,3,Yl),ce(lt,Y.left||0,3,Xu),ce(lt,lt.transform.width-(Y.right||0),3,yl);var $=lt.transform.centerPoint;!function $t(lt,Y,ct,$){var ht=20,Lt=2;Ce(lt,Y-Lt/2,ct-ht/2,Lt,ht,$),Ce(lt,Y-ht/2,ct-Lt/2,ht,Lt,$)}(lt,$.x,lt.transform.height-$.y,xu)}function ue(lt,Y,ct,$){Ce(lt,0,Y+ct/2,lt.transform.width,ct,$)}function ce(lt,Y,ct,$){Ce(lt,Y-ct/2,0,ct,lt.transform.height,$)}function Ce(lt,Y,ct,$,ht,Lt){var Wt=lt.context,re=Wt.gl;re.enable(re.SCISSOR_TEST),re.scissor(Y*i.browser.devicePixelRatio,ct*i.browser.devicePixelRatio,$*i.browser.devicePixelRatio,ht*i.browser.devicePixelRatio),Wt.clear({color:Lt}),re.disable(re.SCISSOR_TEST)}function Re(lt,Y,ct){var $=lt.context,ht=$.gl,Lt=ct.posMatrix,Wt=lt.useProgram("debug"),re=Lr.disabled,de=He.disabled,Ie=lt.colorModeForRenderPass();$.activeTexture.set(ht.TEXTURE0),lt.emptyTexture.bind(ht.LINEAR,ht.CLAMP_TO_EDGE),Wt.draw($,ht.LINE_STRIP,re,de,Ie,Te.disabled,Uu(Lt,i.Color.red),"$debug",lt.debugBuffer,lt.tileBorderIndexBuffer,lt.debugSegments);var fr=Y.getTileByID(ct.key).latestRawTileData,Ir=Math.floor((fr&&fr.byteLength||0)/1024),Gr=Y.getTile(ct).tileSize,Wr=512/Math.min(Gr,512)*(ct.overscaledZ/lt.transform.zoom)*.5,Ur=ct.canonical.toString();ct.overscaledZ!==ct.canonical.z&&(Ur+=" => "+ct.overscaledZ),function cr(lt,Y){lt.initDebugOverlayCanvas();var ct=lt.debugOverlayCanvas,$=lt.context.gl,ht=lt.debugOverlayCanvas.getContext("2d");ht.clearRect(0,0,ct.width,ct.height),ht.shadowColor="white",ht.shadowBlur=2,ht.lineWidth=1.5,ht.strokeStyle="white",ht.textBaseline="top",ht.font="bold 36px Open Sans, sans-serif",ht.fillText(Y,5,5),ht.strokeText(Y,5,5),lt.debugOverlayTexture.update(ct),lt.debugOverlayTexture.bind($.LINEAR,$.CLAMP_TO_EDGE)}(lt,Ur+" "+Ir+"kb"),Wt.draw($,ht.TRIANGLES,re,de,ne.alphaBlended,Te.disabled,Uu(Lt,i.Color.transparent,Wr),"$debug",lt.debugBuffer,lt.quadTriangleIndexBuffer,lt.debugSegments)}var ur={symbol:function Ws(lt,Y,ct,$,ht){if("translucent"===lt.renderPass){var Lt=He.disabled,Wt=lt.colorModeForRenderPass();ct.layout.get("text-variable-anchor")&&function Hl(lt,Y,ct,$,ht,Lt,Wt){for(var re=Y.transform,de="map"===ht,Ie="map"===Lt,Je=0,fr=lt;Je<fr.length;Je+=1){var mr=fr[Je],Ir=$.getTile(mr),Gr=Ir.getBucket(ct);if(Gr&&Gr.text&&Gr.text.segments.get().length){var Ur=i.evaluateSizeForZoom(Gr.textSizeData,re.zoom),Kr=pn(Ir,1,Y.transform.zoom),fn=yr(mr.posMatrix,Ie,de,Y.transform,Kr),Mn="none"!==ct.layout.get("icon-text-fit")&&Gr.hasIconData();if(Ur){var Rn=Math.pow(2,re.zoom-Ir.tileID.overscaledZ);Ti(Gr,de,Ie,Wt,i.symbolSize,re,fn,mr.posMatrix,Rn,Ur,Mn)}}}}($,lt,ct,Y,ct.layout.get("text-rotation-alignment"),ct.layout.get("text-pitch-alignment"),ht),0!==ct.paint.get("icon-opacity").constantOr(1)&&Gl(lt,Y,ct,$,!1,ct.paint.get("icon-translate"),ct.paint.get("icon-translate-anchor"),ct.layout.get("icon-rotation-alignment"),ct.layout.get("icon-pitch-alignment"),ct.layout.get("icon-keep-upright"),Lt,Wt),0!==ct.paint.get("text-opacity").constantOr(1)&&Gl(lt,Y,ct,$,!0,ct.paint.get("text-translate"),ct.paint.get("text-translate-anchor"),ct.layout.get("text-rotation-alignment"),ct.layout.get("text-pitch-alignment"),ct.layout.get("text-keep-upright"),Lt,Wt),Y.map.showCollisionBoxes&&(hl(lt,Y,ct,$,ct.paint.get("text-translate"),ct.paint.get("text-translate-anchor"),!0),hl(lt,Y,ct,$,ct.paint.get("icon-translate"),ct.paint.get("icon-translate-anchor"),!1))}},circle:function vs(lt,Y,ct,$){if("translucent"===lt.renderPass){var ht=ct.paint.get("circle-opacity"),Lt=ct.paint.get("circle-stroke-width"),Wt=ct.paint.get("circle-stroke-opacity"),re=void 0!==ct.layout.get("circle-sort-key").constantOr(1);if(0!==ht.constantOr(1)||0!==Lt.constantOr(1)&&0!==Wt.constantOr(1)){for(var de=lt.context,Ie=de.gl,Je=lt.depthModeForSublayer(0,Lr.ReadOnly),fr=He.disabled,mr=lt.colorModeForRenderPass(),Ir=[],Gr=0;Gr<$.length;Gr++){var Wr=$[Gr],Ur=Y.getTile(Wr),Kr=Ur.getBucket(ct);if(Kr){var fn=Kr.programConfigurations.get(ct.id),Nn={programConfiguration:fn,program:lt.useProgram("circle",fn),layoutVertexBuffer:Kr.layoutVertexBuffer,indexBuffer:Kr.indexBuffer,uniformValues:Vs(lt,Wr,Ur,ct)};if(re)for(var sa=0,aa=Kr.segments.get();sa<aa.length;sa+=1){var fa=aa[sa];Ir.push({segments:new i.SegmentVector([fa]),sortKey:fa.sortKey,state:Nn})}else Ir.push({segments:Kr.segments,sortKey:0,state:Nn})}}re&&Ir.sort(function(Ya,ci){return Ya.sortKey-ci.sortKey});for(var pa=0,Ca=Ir;pa<Ca.length;pa+=1){var Fa=Ca[pa],$a=Fa.state;$a.program.draw(de,Ie.TRIANGLES,Je,fr,mr,Te.disabled,$a.uniformValues,ct.id,$a.layoutVertexBuffer,$a.indexBuffer,Fa.segments,ct.paint,lt.transform.zoom,$a.programConfiguration)}}}},heatmap:function gu(lt,Y,ct,$){if(0!==ct.paint.get("heatmap-opacity"))if("offscreen"===lt.renderPass){var ht=lt.context,Lt=ht.gl,Wt=He.disabled,re=new ne([Lt.ONE,Lt.ONE],i.Color.transparent,[!0,!0,!0,!0]);(function gf(lt,Y,ct){var $=lt.gl;lt.activeTexture.set($.TEXTURE1),lt.viewport.set([0,0,Y.width/4,Y.height/4]);var ht=ct.heatmapFbo;if(ht)$.bindTexture($.TEXTURE_2D,ht.colorAttachment.get()),lt.bindFramebuffer.set(ht.framebuffer);else{var Lt=$.createTexture();$.bindTexture($.TEXTURE_2D,Lt),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_S,$.CLAMP_TO_EDGE),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_T,$.CLAMP_TO_EDGE),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.LINEAR),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.LINEAR),ht=ct.heatmapFbo=lt.createFramebuffer(Y.width/4,Y.height/4,!1),function Ys(lt,Y,ct,$){var ht=lt.gl;ht.texImage2D(ht.TEXTURE_2D,0,ht.RGBA,Y.width/4,Y.height/4,0,ht.RGBA,lt.extRenderToTextureHalfFloat?lt.extTextureHalfFloat.HALF_FLOAT_OES:ht.UNSIGNED_BYTE,null),$.colorAttachment.set(ct)}(lt,Y,Lt,ht)}})(ht,lt,ct),ht.clear({color:i.Color.transparent});for(var de=0;de<$.length;de++){var Ie=$[de];if(!Y.hasRenderableParent(Ie)){var Je=Y.getTile(Ie),fr=Je.getBucket(ct);if(fr){var mr=fr.programConfigurations.get(ct.id);lt.useProgram("heatmap",mr).draw(ht,Lt.TRIANGLES,Lr.disabled,Wt,re,Te.disabled,il(Ie.posMatrix,Je,lt.transform.zoom,ct.paint.get("heatmap-intensity")),ct.id,fr.layoutVertexBuffer,fr.indexBuffer,fr.segments,ct.paint,lt.transform.zoom,mr)}}}ht.viewport.set([0,0,lt.width,lt.height])}else"translucent"===lt.renderPass&&(lt.context.setColorMode(lt.colorModeForRenderPass()),function Zs(lt,Y){var ct=lt.context,$=ct.gl,ht=Y.heatmapFbo;if(ht){ct.activeTexture.set($.TEXTURE0),$.bindTexture($.TEXTURE_2D,ht.colorAttachment.get()),ct.activeTexture.set($.TEXTURE1);var Lt=Y.colorRampTexture;Lt||(Lt=Y.colorRampTexture=new i.Texture(ct,Y.colorRamp,$.RGBA)),Lt.bind($.LINEAR,$.CLAMP_TO_EDGE),lt.useProgram("heatmapTexture").draw(ct,$.TRIANGLES,Lr.disabled,He.disabled,lt.colorModeForRenderPass(),Te.disabled,function(lt,Y,ct,$){var ht=i.create();i.ortho(ht,0,lt.width,lt.height,0,0,1);var Lt=lt.context.gl;return{u_matrix:ht,u_world:[Lt.drawingBufferWidth,Lt.drawingBufferHeight],u_image:ct,u_color_ramp:$,u_opacity:Y.paint.get("heatmap-opacity")}}(lt,Y,0,1),Y.id,lt.viewportBuffer,lt.quadTriangleIndexBuffer,lt.viewportSegments,Y.paint,lt.transform.zoom)}}(lt,ct))},line:function dl(lt,Y,ct,$){if("translucent"===lt.renderPass){var ht=ct.paint.get("line-opacity"),Lt=ct.paint.get("line-width");if(0!==ht.constantOr(1)&&0!==Lt.constantOr(1)){var Wt=lt.depthModeForSublayer(0,Lr.ReadOnly),re=lt.colorModeForRenderPass(),de=ct.paint.get("line-dasharray"),Ie=ct.paint.get("line-pattern"),Je=Ie.constantOr(1),fr=ct.paint.get("line-gradient"),mr=ct.getCrossfadeParameters(),Ir=Je?"linePattern":de?"lineSDF":fr?"lineGradient":"line",Gr=lt.context,Wr=Gr.gl,Ur=!0;if(fr){Gr.activeTexture.set(Wr.TEXTURE0);var Kr=ct.gradientTexture;if(!ct.gradient)return;Kr||(Kr=ct.gradientTexture=new i.Texture(Gr,ct.gradient,Wr.RGBA)),Kr.bind(Wr.LINEAR,Wr.CLAMP_TO_EDGE)}for(var fn=0,Mn=$;fn<Mn.length;fn+=1){var Rn=Mn[fn],Bn=Y.getTile(Rn);if(!Je||Bn.patternsLoaded()){var Un=Bn.getBucket(ct);if(Un){var Nn=Un.programConfigurations.get(ct.id),$n=lt.context.program.get(),sa=lt.useProgram(Ir,Nn),aa=Ur||sa.program!==$n,fa=Ie.constantOr(null);if(fa&&Bn.imageAtlas){var pa=Bn.imageAtlas,Ca=pa.patternPositions[fa.to.toString()],Fa=pa.patternPositions[fa.from.toString()];Ca&&Fa&&Nn.setConstantPatternPositions(Ca,Fa)}var $a=Je?cs(lt,Bn,ct,mr):de?sl(lt,Bn,ct,de,mr):fr?Vu(lt,Bn,ct):Ts(lt,Bn,ct);Je?(Gr.activeTexture.set(Wr.TEXTURE0),Bn.imageAtlasTexture.bind(Wr.LINEAR,Wr.CLAMP_TO_EDGE),Nn.updatePaintBuffers(mr)):de&&(aa||lt.lineAtlas.dirty)&&(Gr.activeTexture.set(Wr.TEXTURE0),lt.lineAtlas.bind(Gr)),sa.draw(Gr,Wr.TRIANGLES,Wt,lt.stencilModeForClipping(Rn),re,Te.disabled,$a,ct.id,Un.layoutVertexBuffer,Un.indexBuffer,Un.segments,ct.paint,lt.transform.zoom,Nn),Ur=!1}}}}}},fill:function pl(lt,Y,ct,$){var ht=ct.paint.get("fill-color"),Lt=ct.paint.get("fill-opacity");if(0!==Lt.constantOr(1)){var Wt=lt.colorModeForRenderPass(),re=ct.paint.get("fill-pattern"),de=lt.opaquePassEnabledForLayer()&&!re.constantOr(1)&&1===ht.constantOr(i.Color.transparent).a&&1===Lt.constantOr(0)?"opaque":"translucent";if(lt.renderPass===de){var Ie=lt.depthModeForSublayer(1,"opaque"===lt.renderPass?Lr.ReadWrite:Lr.ReadOnly);Yu(lt,Y,ct,$,Ie,Wt,!1)}if("translucent"===lt.renderPass&&ct.paint.get("fill-antialias")){var Je=lt.depthModeForSublayer(ct.getPaintProperty("fill-outline-color")?2:0,Lr.ReadOnly);Yu(lt,Y,ct,$,Je,Wt,!0)}}},"fill-extrusion":function yu(lt,Y,ct,$){var ht=ct.paint.get("fill-extrusion-opacity");if(0!==ht&&"translucent"===lt.renderPass){var Lt=new Lr(lt.context.gl.LEQUAL,Lr.ReadWrite,lt.depthRangeFor3D);if(1!==ht||ct.paint.get("fill-extrusion-pattern").constantOr(1))Es(lt,Y,ct,$,Lt,He.disabled,ne.disabled),Es(lt,Y,ct,$,Lt,lt.stencilModeFor3D(),lt.colorModeForRenderPass());else{var Wt=lt.colorModeForRenderPass();Es(lt,Y,ct,$,Lt,He.disabled,Wt)}}},hillshade:function ao(lt,Y,ct,$){if("offscreen"===lt.renderPass||"translucent"===lt.renderPass){for(var ht=lt.context,Lt=Y.getSource().maxzoom,Wt=lt.depthModeForSublayer(0,Lr.ReadOnly),re=lt.colorModeForRenderPass(),de="translucent"===lt.renderPass?lt.stencilConfigForOverlap($):[{},$],Ie=de[0],fr=0,mr=de[1];fr<mr.length;fr+=1){var Ir=mr[fr],Gr=Y.getTile(Ir);Gr.needsHillshadePrepare&&"offscreen"===lt.renderPass?Wl(lt,Gr,ct,Lt,Wt,He.disabled,re):"translucent"===lt.renderPass&&mu(lt,Gr,ct,Wt,Ie[Ir.overscaledZ],re)}ht.viewport.set([0,0,lt.width,lt.height])}},raster:function Oo(lt,Y,ct,$){if("translucent"===lt.renderPass&&0!==ct.paint.get("raster-opacity")&&$.length)for(var ht=lt.context,Lt=ht.gl,Wt=Y.getSource(),re=lt.useProgram("raster"),de=lt.colorModeForRenderPass(),Ie=Wt instanceof Q?[{},$]:lt.stencilConfigForOverlap($),Je=Ie[0],fr=Ie[1],mr=fr[fr.length-1].overscaledZ,Ir=!lt.options.moving,Gr=0,Wr=fr;Gr<Wr.length;Gr+=1){var Ur=Wr[Gr],Kr=lt.depthModeForSublayer(Ur.overscaledZ-mr,1===ct.paint.get("raster-opacity")?Lr.ReadWrite:Lr.ReadOnly,Lt.LESS),fn=Y.getTile(Ur),Mn=lt.transform.calculatePosMatrix(Ur.toUnwrapped(),Ir);fn.registerFadeDuration(ct.paint.get("raster-fade-duration"));var Rn=Y.findLoadedParent(Ur,0),Bn=Xs(fn,Rn,Y,ct,lt.transform),Un=void 0,Nn=void 0,$n="nearest"===ct.paint.get("raster-resampling")?Lt.NEAREST:Lt.LINEAR;ht.activeTexture.set(Lt.TEXTURE0),fn.texture.bind($n,Lt.CLAMP_TO_EDGE,Lt.LINEAR_MIPMAP_NEAREST),ht.activeTexture.set(Lt.TEXTURE1),Rn?(Rn.texture.bind($n,Lt.CLAMP_TO_EDGE,Lt.LINEAR_MIPMAP_NEAREST),Un=Math.pow(2,Rn.tileID.overscaledZ-fn.tileID.overscaledZ),Nn=[fn.tileID.canonical.x*Un%1,fn.tileID.canonical.y*Un%1]):fn.texture.bind($n,Lt.CLAMP_TO_EDGE,Lt.LINEAR_MIPMAP_NEAREST);var sa=As(Mn,Nn||[0,0],Un||1,Bn,ct);Wt instanceof Q?re.draw(ht,Lt.TRIANGLES,Kr,He.disabled,de,Te.disabled,sa,ct.id,Wt.boundsBuffer,lt.quadTriangleIndexBuffer,Wt.boundsSegments):re.draw(ht,Lt.TRIANGLES,Kr,Je[Ur.overscaledZ],de,Te.disabled,sa,ct.id,lt.rasterBoundsBuffer,lt.quadTriangleIndexBuffer,lt.rasterBoundsSegments)}},background:function Cs(lt,Y,ct){var $=ct.paint.get("background-color"),ht=ct.paint.get("background-opacity");if(0!==ht){var Lt=lt.context,Wt=Lt.gl,re=lt.transform,de=re.tileSize,Ie=ct.paint.get("background-pattern");if(!lt.isPatternMissing(Ie)){var Je=!Ie&&1===$.a&&1===ht&&lt.opaquePassEnabledForLayer()?"opaque":"translucent";if(lt.renderPass===Je){var fr=He.disabled,mr=lt.depthModeForSublayer(0,"opaque"===Je?Lr.ReadWrite:Lr.ReadOnly),Ir=lt.colorModeForRenderPass(),Gr=lt.useProgram(Ie?"backgroundPattern":"background"),Wr=re.coveringTiles({tileSize:de});Ie&&(Lt.activeTexture.set(Wt.TEXTURE0),lt.imageManager.bind(lt.context));for(var Ur=ct.getCrossfadeParameters(),Kr=0,fn=Wr;Kr<fn.length;Kr+=1){var Mn=fn[Kr],Rn=lt.transform.calculatePosMatrix(Mn.toUnwrapped()),Bn=Ie?cl(Rn,ht,lt,Ie,{tileID:Mn,tileSize:de},Ur):fl(Rn,ht,$);Gr.draw(Lt,Wt.TRIANGLES,mr,fr,Ir,Te.disabled,Bn,ct.id,lt.tileExtentBuffer,lt.quadTriangleIndexBuffer,lt.tileExtentSegments)}}}}},debug:function Me(lt,Y,ct){for(var $=0;$<ct.length;$++)Re(lt,Y,ct[$])},custom:function pr(lt,Y,ct){var $=lt.context,ht=ct.implementation;if("offscreen"===lt.renderPass){var Lt=ht.prerender;Lt&&(lt.setCustomLayerDefaults(),$.setColorMode(lt.colorModeForRenderPass()),Lt.call(ht,$.gl,lt.transform.customLayerMatrix()),$.setDirty(),lt.setBaseState())}else if("translucent"===lt.renderPass){lt.setCustomLayerDefaults(),$.setColorMode(lt.colorModeForRenderPass()),$.setStencilMode(He.disabled);var Wt="3d"===ht.renderingMode?new Lr(lt.context.gl.LEQUAL,Lr.ReadWrite,lt.depthRangeFor3D):lt.depthModeForSublayer(0,Lr.ReadOnly);$.setDepthMode(Wt),ht.render($.gl,lt.transform.customLayerMatrix()),$.setDirty(),lt.setBaseState(),$.bindFramebuffer.set(null)}}},hr=function(Y,ct){this.context=new be(Y),this.transform=ct,this._tileTextures={},this.setup(),this.numSublayers=Pe.maxUnderzooming+Pe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ta,this.gpuTimers={}};hr.prototype.resize=function(Y,ct){if(this.width=Y*i.browser.devicePixelRatio,this.height=ct*i.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var $=0,ht=this.style._order;$<ht.length;$+=1)this.style._layers[ht[$]].resize()},hr.prototype.setup=function(){var Y=this.context,ct=new i.StructArrayLayout2i4;ct.emplaceBack(0,0),ct.emplaceBack(i.EXTENT,0),ct.emplaceBack(0,i.EXTENT),ct.emplaceBack(i.EXTENT,i.EXTENT),this.tileExtentBuffer=Y.createVertexBuffer(ct,eo.members),this.tileExtentSegments=i.SegmentVector.simpleSegment(0,0,4,2);var $=new i.StructArrayLayout2i4;$.emplaceBack(0,0),$.emplaceBack(i.EXTENT,0),$.emplaceBack(0,i.EXTENT),$.emplaceBack(i.EXTENT,i.EXTENT),this.debugBuffer=Y.createVertexBuffer($,eo.members),this.debugSegments=i.SegmentVector.simpleSegment(0,0,4,5);var ht=new i.StructArrayLayout4i8;ht.emplaceBack(0,0,0,0),ht.emplaceBack(i.EXTENT,0,i.EXTENT,0),ht.emplaceBack(0,i.EXTENT,0,i.EXTENT),ht.emplaceBack(i.EXTENT,i.EXTENT,i.EXTENT,i.EXTENT),this.rasterBoundsBuffer=Y.createVertexBuffer(ht,G.members),this.rasterBoundsSegments=i.SegmentVector.simpleSegment(0,0,4,2);var Lt=new i.StructArrayLayout2i4;Lt.emplaceBack(0,0),Lt.emplaceBack(1,0),Lt.emplaceBack(0,1),Lt.emplaceBack(1,1),this.viewportBuffer=Y.createVertexBuffer(Lt,eo.members),this.viewportSegments=i.SegmentVector.simpleSegment(0,0,4,2);var Wt=new i.StructArrayLayout1ui2;Wt.emplaceBack(0),Wt.emplaceBack(1),Wt.emplaceBack(3),Wt.emplaceBack(2),Wt.emplaceBack(0),this.tileBorderIndexBuffer=Y.createIndexBuffer(Wt);var re=new i.StructArrayLayout3ui6;re.emplaceBack(0,1,2),re.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Y.createIndexBuffer(re),this.emptyTexture=new i.Texture(Y,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Y.gl.RGBA);var de=this.context.gl;this.stencilClearMode=new He({func:de.ALWAYS,mask:0},0,255,de.ZERO,de.ZERO,de.ZERO)},hr.prototype.clearStencil=function(){var Y=this.context,ct=Y.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var $=i.create();i.ortho($,0,this.width,this.height,0,0,1),i.scale($,$,[ct.drawingBufferWidth,ct.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Y,ct.TRIANGLES,Lr.disabled,this.stencilClearMode,ne.disabled,Te.disabled,Ni($),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},hr.prototype._renderTileClippingMasks=function(Y,ct){if(this.currentStencilSource!==Y.source&&Y.isTileClipped()&&ct&&ct.length){this.currentStencilSource=Y.source;var $=this.context,ht=$.gl;this.nextStencilID+ct.length>256&&this.clearStencil(),$.setColorMode(ne.disabled),$.setDepthMode(Lr.disabled);var Lt=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Wt=0,re=ct;Wt<re.length;Wt+=1){var de=re[Wt],Ie=this._tileClippingMaskIDs[de.key]=this.nextStencilID++;Lt.draw($,ht.TRIANGLES,Lr.disabled,new He({func:ht.ALWAYS,mask:0},Ie,255,ht.KEEP,ht.KEEP,ht.REPLACE),ne.disabled,Te.disabled,Ni(de.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},hr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Y=this.nextStencilID++,ct=this.context.gl;return new He({func:ct.NOTEQUAL,mask:255},Y,255,ct.KEEP,ct.KEEP,ct.REPLACE)},hr.prototype.stencilModeForClipping=function(Y){var ct=this.context.gl;return new He({func:ct.EQUAL,mask:255},this._tileClippingMaskIDs[Y.key],0,ct.KEEP,ct.KEEP,ct.REPLACE)},hr.prototype.stencilConfigForOverlap=function(Y){var ct,$=this.context.gl,ht=Y.sort(function(Ie,Je){return Je.overscaledZ-Ie.overscaledZ}),Lt=ht[ht.length-1].overscaledZ,Wt=ht[0].overscaledZ-Lt+1;if(Wt>1){this.currentStencilSource=void 0,this.nextStencilID+Wt>256&&this.clearStencil();for(var re={},de=0;de<Wt;de++)re[de+Lt]=new He({func:$.GEQUAL,mask:255},de+this.nextStencilID,255,$.KEEP,$.KEEP,$.REPLACE);return this.nextStencilID+=Wt,[re,ht]}return[(ct={},ct[Lt]=He.disabled,ct),ht]},hr.prototype.colorModeForRenderPass=function(){var Y=this.context.gl;if(this._showOverdrawInspector){var $=1/8;return new ne([Y.CONSTANT_COLOR,Y.ONE],new i.Color($,$,$,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?ne.unblended:ne.alphaBlended},hr.prototype.depthModeForSublayer=function(Y,ct,$){if(!this.opaquePassEnabledForLayer())return Lr.disabled;var ht=1-((1+this.currentLayer)*this.numSublayers+Y)*this.depthEpsilon;return new Lr($||this.context.gl.LEQUAL,ct,[ht,ht])},hr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},hr.prototype.render=function(Y,ct){var $=this;this.style=Y,this.options=ct,this.lineAtlas=Y.lineAtlas,this.imageManager=Y.imageManager,this.glyphManager=Y.glyphManager,this.symbolFadeChange=Y.placement.symbolFadeChange(i.browser.now()),this.imageManager.beginFrame();var ht=this.style._order,Lt=this.style.sourceCaches;for(var Wt in Lt){var re=Lt[Wt];re.used&&re.prepare(this.context)}var aa,fa,de={},Ie={},Je={};for(var fr in Lt){var mr=Lt[fr];de[fr]=mr.getVisibleCoordinates(),Ie[fr]=de[fr].slice().reverse(),Je[fr]=mr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Ir=0;Ir<ht.length;Ir++)if(this.style._layers[ht[Ir]].is3D()){this.opaquePassCutoff=Ir;break}this.renderPass="offscreen";for(var Wr=0,Ur=ht;Wr<Ur.length;Wr+=1){var fn=this.style._layers[Ur[Wr]];if(fn.hasOffscreenPass()&&!fn.isHidden(this.transform.zoom)){var Mn=Ie[fn.source];"custom"!==fn.type&&!Mn.length||this.renderLayer(this,Lt[fn.source],fn,Mn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:ct.showOverdrawInspector?i.Color.black:i.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ct.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Y._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ht.length-1;this.currentLayer>=0;this.currentLayer--){var Rn=this.style._layers[ht[this.currentLayer]],Bn=Lt[Rn.source],Un=de[Rn.source];this._renderTileClippingMasks(Rn,Un),this.renderLayer(this,Bn,Rn,Un)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ht.length;this.currentLayer++){var Nn=this.style._layers[ht[this.currentLayer]],$n=Lt[Nn.source],sa=("symbol"===Nn.type?Je:Ie)[Nn.source];this._renderTileClippingMasks(Nn,de[Nn.source]),this.renderLayer(this,$n,Nn,sa)}this.options.showTileBoundaries&&(i.values(this.style._layers).forEach(function(Ca){Ca.source&&!Ca.isHidden($.transform.zoom)&&(Ca.source!==(fa&&fa.id)&&(fa=$.style.sourceCaches[Ca.source]),(!aa||aa.getSource().maxzoom<fa.getSource().maxzoom)&&(aa=fa))}),aa&&ur.debug(this,aa,aa.getVisibleCoordinates())),this.options.showPadding&&Xt(this),this.context.setDefault()},hr.prototype.renderLayer=function(Y,ct,$,ht){$.isHidden(this.transform.zoom)||"background"!==$.type&&"custom"!==$.type&&!ht.length||(this.id=$.id,this.gpuTimingStart($),ur[$.type](Y,ct,$,ht,this.style.placement.variableOffsets),this.gpuTimingEnd())},hr.prototype.gpuTimingStart=function(Y){if(this.options.gpuTiming){var ct=this.context.extTimerQuery,$=this.gpuTimers[Y.id];$||($=this.gpuTimers[Y.id]={calls:0,cpuTime:0,query:ct.createQueryEXT()}),$.calls++,ct.beginQueryEXT(ct.TIME_ELAPSED_EXT,$.query)}},hr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Y=this.context.extTimerQuery;Y.endQueryEXT(Y.TIME_ELAPSED_EXT)}},hr.prototype.collectGpuTimers=function(){var Y=this.gpuTimers;return this.gpuTimers={},Y},hr.prototype.queryGpuTimers=function(Y){var ct={};for(var $ in Y){var ht=Y[$],Lt=this.context.extTimerQuery,Wt=Lt.getQueryObjectEXT(ht.query,Lt.QUERY_RESULT_EXT)/1e6;Lt.deleteQueryEXT(ht.query),ct[$]=Wt}return ct},hr.prototype.translatePosMatrix=function(Y,ct,$,ht,Lt){if(!$[0]&&!$[1])return Y;var Wt=Lt?"map"===ht?this.transform.angle:0:"viewport"===ht?-this.transform.angle:0;if(Wt){var re=Math.sin(Wt),de=Math.cos(Wt);$=[$[0]*de-$[1]*re,$[0]*re+$[1]*de]}var Ie=[Lt?$[0]:pn(ct,$[0],this.transform.zoom),Lt?$[1]:pn(ct,$[1],this.transform.zoom),0],Je=new Float32Array(16);return i.translate(Je,Y,Ie),Je},hr.prototype.saveTileTexture=function(Y){var ct=this._tileTextures[Y.size[0]];ct?ct.push(Y):this._tileTextures[Y.size[0]]=[Y]},hr.prototype.getTileTexture=function(Y){var ct=this._tileTextures[Y];return ct&&ct.length>0?ct.pop():null},hr.prototype.isPatternMissing=function(Y){if(!Y)return!1;if(!Y.from||!Y.to)return!0;var ct=this.imageManager.getPattern(Y.from.toString()),$=this.imageManager.getPattern(Y.to.toString());return!ct||!$},hr.prototype.useProgram=function(Y,ct){this.cache=this.cache||{};var $=""+Y+(ct?ct.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[$]||(this.cache[$]=new uo(this.context,Ns[Y],ct,$o[Y],this._showOverdrawInspector)),this.cache[$]},hr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},hr.prototype.setBaseState=function(){var Y=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Y.FUNC_ADD)},hr.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=i.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new i.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},hr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var kr=function(Y,ct){this.points=Y,this.planes=ct};kr.fromInvProjectionMatrix=function(Y,ct,$){var Lt=Math.pow(2,$),Wt=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(Ie){return i.transformMat4([],Ie,Y)}).map(function(Ie){return i.scale$1([],Ie,1/Ie[3]/ct*Lt)}),de=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(Ie){var Je=i.sub([],Wt[Ie[0]],Wt[Ie[1]]),fr=i.sub([],Wt[Ie[2]],Wt[Ie[1]]),mr=i.normalize([],i.cross([],Je,fr)),Ir=-i.dot(mr,Wt[Ie[1]]);return mr.concat(Ir)});return new kr(Wt,de)};var Hr=function(Y,ct){this.min=Y,this.max=ct,this.center=i.scale$2([],i.add([],this.min,this.max),.5)};Hr.prototype.quadrant=function(Y){for(var ct=[Y%2==0,Y<2],$=i.clone$2(this.min),ht=i.clone$2(this.max),Lt=0;Lt<ct.length;Lt++)$[Lt]=ct[Lt]?this.min[Lt]:this.center[Lt],ht[Lt]=ct[Lt]?this.center[Lt]:this.max[Lt];return ht[2]=this.max[2],new Hr($,ht)},Hr.prototype.distanceX=function(Y){return Math.max(Math.min(this.max[0],Y[0]),this.min[0])-Y[0]},Hr.prototype.distanceY=function(Y){return Math.max(Math.min(this.max[1],Y[1]),this.min[1])-Y[1]},Hr.prototype.intersects=function(Y){for(var ct=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],$=!0,ht=0;ht<Y.planes.length;ht++){for(var Lt=Y.planes[ht],Wt=0,re=0;re<ct.length;re++)Wt+=i.dot$1(Lt,ct[re])>=0;if(0===Wt)return 0;Wt!==ct.length&&($=!1)}if($)return 2;for(var de=0;de<3;de++){for(var Ie=Number.MAX_VALUE,Je=-Number.MAX_VALUE,fr=0;fr<Y.points.length;fr++){var mr=Y.points[fr][de]-this.min[de];Ie=Math.min(Ie,mr),Je=Math.max(Je,mr)}if(Je<0||Ie>this.max[de]-this.min[de])return 0}return 1};var jr=function(Y,ct,$,ht){if(void 0===Y&&(Y=0),void 0===ct&&(ct=0),void 0===$&&($=0),void 0===ht&&(ht=0),isNaN(Y)||Y<0||isNaN(ct)||ct<0||isNaN($)||$<0||isNaN(ht)||ht<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Y,this.bottom=ct,this.left=$,this.right=ht};jr.prototype.interpolate=function(Y,ct,$){return null!=ct.top&&null!=Y.top&&(this.top=i.number(Y.top,ct.top,$)),null!=ct.bottom&&null!=Y.bottom&&(this.bottom=i.number(Y.bottom,ct.bottom,$)),null!=ct.left&&null!=Y.left&&(this.left=i.number(Y.left,ct.left,$)),null!=ct.right&&null!=Y.right&&(this.right=i.number(Y.right,ct.right,$)),this},jr.prototype.getCenter=function(Y,ct){var $=i.clamp((this.left+Y-this.right)/2,0,Y),ht=i.clamp((this.top+ct-this.bottom)/2,0,ct);return new i.Point($,ht)},jr.prototype.equals=function(Y){return this.top===Y.top&&this.bottom===Y.bottom&&this.left===Y.left&&this.right===Y.right},jr.prototype.clone=function(){return new jr(this.top,this.bottom,this.left,this.right)},jr.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Qr=function(Y,ct,$,ht,Lt){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===Lt||Lt,this._minZoom=Y||0,this._maxZoom=ct||22,this._minPitch=null==$?0:$,this._maxPitch=null==ht?60:ht,this.setMaxBounds(),this.width=0,this.height=0,this._center=new i.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new jr,this._posMatrixCache={},this._alignedPosMatrixCache={}},bn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Qr.prototype.clone=function(){var Y=new Qr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Y.tileSize=this.tileSize,Y.latRange=this.latRange,Y.width=this.width,Y.height=this.height,Y._center=this._center,Y.zoom=this.zoom,Y.angle=this.angle,Y._fov=this._fov,Y._pitch=this._pitch,Y._unmodified=this._unmodified,Y._edgeInsets=this._edgeInsets.clone(),Y._calcMatrices(),Y},bn.minZoom.get=function(){return this._minZoom},bn.minZoom.set=function(lt){this._minZoom!==lt&&(this._minZoom=lt,this.zoom=Math.max(this.zoom,lt))},bn.maxZoom.get=function(){return this._maxZoom},bn.maxZoom.set=function(lt){this._maxZoom!==lt&&(this._maxZoom=lt,this.zoom=Math.min(this.zoom,lt))},bn.minPitch.get=function(){return this._minPitch},bn.minPitch.set=function(lt){this._minPitch!==lt&&(this._minPitch=lt,this.pitch=Math.max(this.pitch,lt))},bn.maxPitch.get=function(){return this._maxPitch},bn.maxPitch.set=function(lt){this._maxPitch!==lt&&(this._maxPitch=lt,this.pitch=Math.min(this.pitch,lt))},bn.renderWorldCopies.get=function(){return this._renderWorldCopies},bn.renderWorldCopies.set=function(lt){void 0===lt?lt=!0:null===lt&&(lt=!1),this._renderWorldCopies=lt},bn.worldSize.get=function(){return this.tileSize*this.scale},bn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},bn.size.get=function(){return new i.Point(this.width,this.height)},bn.bearing.get=function(){return-this.angle/Math.PI*180},bn.bearing.set=function(lt){var Y=-i.wrap(lt,-180,180)*Math.PI/180;this.angle!==Y&&(this._unmodified=!1,this.angle=Y,this._calcMatrices(),this.rotationMatrix=i.create$2(),i.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},bn.pitch.get=function(){return this._pitch/Math.PI*180},bn.pitch.set=function(lt){var Y=i.clamp(lt,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Y&&(this._unmodified=!1,this._pitch=Y,this._calcMatrices())},bn.fov.get=function(){return this._fov/Math.PI*180},bn.fov.set=function(lt){lt=Math.max(.01,Math.min(60,lt)),this._fov!==lt&&(this._unmodified=!1,this._fov=lt/180*Math.PI,this._calcMatrices())},bn.zoom.get=function(){return this._zoom},bn.zoom.set=function(lt){var Y=Math.min(Math.max(lt,this.minZoom),this.maxZoom);this._zoom!==Y&&(this._unmodified=!1,this._zoom=Y,this.scale=this.zoomScale(Y),this.tileZoom=Math.floor(Y),this.zoomFraction=Y-this.tileZoom,this._constrain(),this._calcMatrices())},bn.center.get=function(){return this._center},bn.center.set=function(lt){lt.lat===this._center.lat&&lt.lng===this._center.lng||(this._unmodified=!1,this._center=lt,this._constrain(),this._calcMatrices())},bn.padding.get=function(){return this._edgeInsets.toJSON()},bn.padding.set=function(lt){this._edgeInsets.equals(lt)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,lt,1),this._calcMatrices())},bn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Qr.prototype.isPaddingEqual=function(Y){return this._edgeInsets.equals(Y)},Qr.prototype.interpolatePadding=function(Y,ct,$){this._unmodified=!1,this._edgeInsets.interpolate(Y,ct,$),this._constrain(),this._calcMatrices()},Qr.prototype.coveringZoomLevel=function(Y){var ct=(Y.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Y.tileSize));return Math.max(0,ct)},Qr.prototype.getVisibleUnwrappedCoordinates=function(Y){var ct=[new i.UnwrappedTileID(0,Y)];if(this._renderWorldCopies)for(var $=this.pointCoordinate(new i.Point(0,0)),ht=this.pointCoordinate(new i.Point(this.width,0)),Lt=this.pointCoordinate(new i.Point(this.width,this.height)),Wt=this.pointCoordinate(new i.Point(0,this.height)),re=Math.floor(Math.min($.x,ht.x,Lt.x,Wt.x)),de=Math.floor(Math.max($.x,ht.x,Lt.x,Wt.x)),Je=re-1;Je<=de+1;Je++)0!==Je&&ct.push(new i.UnwrappedTileID(Je,Y));return ct},Qr.prototype.coveringTiles=function(Y){var ct=this.coveringZoomLevel(Y),$=ct;if(void 0!==Y.minzoom&&ct<Y.minzoom)return[];void 0!==Y.maxzoom&&ct>Y.maxzoom&&(ct=Y.maxzoom);var ht=i.MercatorCoordinate.fromLngLat(this.center),Lt=Math.pow(2,ct),Wt=[Lt*ht.x,Lt*ht.y,0],re=kr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ct),de=Y.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(de=ct);var Je=function(pa){return{aabb:new Hr([pa*Lt,0,0],[(pa+1)*Lt,Lt,0]),zoom:0,x:0,y:0,wrap:pa,fullyVisible:!1}},fr=[],mr=[],Ir=ct,Gr=Y.reparseOverscaled?$:ct;if(this._renderWorldCopies)for(var Wr=1;Wr<=3;Wr++)fr.push(Je(-Wr)),fr.push(Je(Wr));for(fr.push(Je(0));fr.length>0;){var Ur=fr.pop(),Kr=Ur.x,fn=Ur.y,Mn=Ur.fullyVisible;if(!Mn){var Rn=Ur.aabb.intersects(re);if(0===Rn)continue;Mn=2===Rn}var Bn=Ur.aabb.distanceX(Wt),Un=Ur.aabb.distanceY(Wt),Nn=Math.max(Math.abs(Bn),Math.abs(Un));if(Ur.zoom===Ir||Nn>3+(1<<Ir-Ur.zoom)-2&&Ur.zoom>=de)mr.push({tileID:new i.OverscaledTileID(Ur.zoom===Ir?Gr:Ur.zoom,Ur.wrap,Ur.zoom,Kr,fn),distanceSq:i.sqrLen([Wt[0]-.5-Kr,Wt[1]-.5-fn])});else for(var sa=0;sa<4;sa++){var aa=(Kr<<1)+sa%2,fa=(fn<<1)+(sa>>1);fr.push({aabb:Ur.aabb.quadrant(sa),zoom:Ur.zoom+1,x:aa,y:fa,wrap:Ur.wrap,fullyVisible:Mn})}}return mr.sort(function(pa,Ca){return pa.distanceSq-Ca.distanceSq}).map(function(pa){return pa.tileID})},Qr.prototype.resize=function(Y,ct){this.width=Y,this.height=ct,this.pixelsToGLUnits=[2/Y,-2/ct],this._constrain(),this._calcMatrices()},bn.unmodified.get=function(){return this._unmodified},Qr.prototype.zoomScale=function(Y){return Math.pow(2,Y)},Qr.prototype.scaleZoom=function(Y){return Math.log(Y)/Math.LN2},Qr.prototype.project=function(Y){var ct=i.clamp(Y.lat,-this.maxValidLatitude,this.maxValidLatitude);return new i.Point(i.mercatorXfromLng(Y.lng)*this.worldSize,i.mercatorYfromLat(ct)*this.worldSize)},Qr.prototype.unproject=function(Y){return new i.MercatorCoordinate(Y.x/this.worldSize,Y.y/this.worldSize).toLngLat()},bn.point.get=function(){return this.project(this.center)},Qr.prototype.setLocationAtPoint=function(Y,ct){var $=this.pointCoordinate(ct),ht=this.pointCoordinate(this.centerPoint),Lt=this.locationCoordinate(Y),Wt=new i.MercatorCoordinate(Lt.x-($.x-ht.x),Lt.y-($.y-ht.y));this.center=this.coordinateLocation(Wt),this._renderWorldCopies&&(this.center=this.center.wrap())},Qr.prototype.locationPoint=function(Y){return this.coordinatePoint(this.locationCoordinate(Y))},Qr.prototype.pointLocation=function(Y){return this.coordinateLocation(this.pointCoordinate(Y))},Qr.prototype.locationCoordinate=function(Y){return i.MercatorCoordinate.fromLngLat(Y)},Qr.prototype.coordinateLocation=function(Y){return Y.toLngLat()},Qr.prototype.pointCoordinate=function(Y){var $=[Y.x,Y.y,0,1],ht=[Y.x,Y.y,1,1];i.transformMat4($,$,this.pixelMatrixInverse),i.transformMat4(ht,ht,this.pixelMatrixInverse);var Lt=$[3],Wt=ht[3],Ie=$[1]/Lt,Je=ht[1]/Wt,fr=$[2]/Lt,mr=ht[2]/Wt,Ir=fr===mr?0:(0-fr)/(mr-fr);return new i.MercatorCoordinate(i.number($[0]/Lt,ht[0]/Wt,Ir)/this.worldSize,i.number(Ie,Je,Ir)/this.worldSize)},Qr.prototype.coordinatePoint=function(Y){var ct=[Y.x*this.worldSize,Y.y*this.worldSize,0,1];return i.transformMat4(ct,ct,this.pixelMatrix),new i.Point(ct[0]/ct[3],ct[1]/ct[3])},Qr.prototype.getBounds=function(){return(new i.LngLatBounds).extend(this.pointLocation(new i.Point(0,0))).extend(this.pointLocation(new i.Point(this.width,0))).extend(this.pointLocation(new i.Point(this.width,this.height))).extend(this.pointLocation(new i.Point(0,this.height)))},Qr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new i.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Qr.prototype.setMaxBounds=function(Y){Y?(this.lngRange=[Y.getWest(),Y.getEast()],this.latRange=[Y.getSouth(),Y.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Qr.prototype.calculatePosMatrix=function(Y,ct){void 0===ct&&(ct=!1);var $=Y.key,ht=ct?this._alignedPosMatrixCache:this._posMatrixCache;if(ht[$])return ht[$];var Lt=Y.canonical,Wt=this.worldSize/this.zoomScale(Lt.z),re=Lt.x+Math.pow(2,Lt.z)*Y.wrap,de=i.identity(new Float64Array(16));return i.translate(de,de,[re*Wt,Lt.y*Wt,0]),i.scale(de,de,[Wt/i.EXTENT,Wt/i.EXTENT,1]),i.multiply(de,ct?this.alignedProjMatrix:this.projMatrix,de),ht[$]=new Float32Array(de),ht[$]},Qr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Qr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var Lt,Wt,re,de,Y=-90,ct=90,$=-180,ht=180,Ie=this.size,Je=this._unmodified;if(this.latRange){var fr=this.latRange;Y=i.mercatorYfromLat(fr[1])*this.worldSize,Lt=(ct=i.mercatorYfromLat(fr[0])*this.worldSize)-Y<Ie.y?Ie.y/(ct-Y):0}if(this.lngRange){var mr=this.lngRange;$=i.mercatorXfromLng(mr[0])*this.worldSize,Wt=(ht=i.mercatorXfromLng(mr[1])*this.worldSize)-$<Ie.x?Ie.x/(ht-$):0}var Ir=this.point,Gr=Math.max(Wt||0,Lt||0);if(Gr)return this.center=this.unproject(new i.Point(Wt?(ht+$)/2:Ir.x,Lt?(ct+Y)/2:Ir.y)),this.zoom+=this.scaleZoom(Gr),this._unmodified=Je,void(this._constraining=!1);if(this.latRange){var Wr=Ir.y,Ur=Ie.y/2;Wr-Ur<Y&&(de=Y+Ur),Wr+Ur>ct&&(de=ct-Ur)}if(this.lngRange){var Kr=Ir.x,fn=Ie.x/2;Kr-fn<$&&(re=$+fn),Kr+fn>ht&&(re=ht-fn)}(void 0!==re||void 0!==de)&&(this.center=this.unproject(new i.Point(void 0!==re?re:Ir.x,void 0!==de?de:Ir.y))),this._unmodified=Je,this._constraining=!1}},Qr.prototype._calcMatrices=function(){if(this.height){var ct=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var $=Math.PI/2+this._pitch,ht=this._fov*(.5+ct.y/this.height),Lt=Math.sin(ht)*this.cameraToCenterDistance/Math.sin(i.clamp(Math.PI-$-ht,.01,Math.PI-.01)),Wt=this.point,re=Wt.x,de=Wt.y,Je=1.01*(Math.cos(Math.PI/2-this._pitch)*Lt+this.cameraToCenterDistance),fr=this.height/50,mr=new Float64Array(16);i.perspective(mr,this._fov,this.width/this.height,fr,Je),mr[8]=2*-ct.x/this.width,mr[9]=2*ct.y/this.height,i.scale(mr,mr,[1,-1,1]),i.translate(mr,mr,[0,0,-this.cameraToCenterDistance]),i.rotateX(mr,mr,this._pitch),i.rotateZ(mr,mr,this.angle),i.translate(mr,mr,[-re,-de,0]),this.mercatorMatrix=i.scale([],mr,[this.worldSize,this.worldSize,this.worldSize]),i.scale(mr,mr,[1,1,i.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=mr,this.invProjMatrix=i.invert([],this.projMatrix);var Ir=this.width%2/2,Gr=this.height%2/2,Wr=Math.cos(this.angle),Ur=Math.sin(this.angle),Kr=re-Math.round(re)+Wr*Ir+Ur*Gr,fn=de-Math.round(de)+Wr*Gr+Ur*Ir,Mn=new Float64Array(mr);if(i.translate(Mn,Mn,[Kr>.5?Kr-1:Kr,fn>.5?fn-1:fn,0]),this.alignedProjMatrix=Mn,mr=i.create(),i.scale(mr,mr,[this.width/2,-this.height/2,1]),i.translate(mr,mr,[1,-1,0]),this.labelPlaneMatrix=mr,mr=i.create(),i.scale(mr,mr,[1,-1,1]),i.translate(mr,mr,[-1,-1,0]),i.scale(mr,mr,[2/this.width,2/this.height,1]),this.glCoordMatrix=mr,this.pixelMatrix=i.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(mr=i.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=mr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Qr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Y=this.pointCoordinate(new i.Point(0,0)),ct=[Y.x*this.worldSize,Y.y*this.worldSize,0,1];return i.transformMat4(ct,ct,this.pixelMatrix)[3]/this.cameraToCenterDistance},Qr.prototype.getCameraPoint=function(){var ct=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.Point(0,ct))},Qr.prototype.getCameraQueryGeometry=function(Y){var ct=this.getCameraPoint();if(1===Y.length)return[Y[0],ct];for(var $=ct.x,ht=ct.y,Lt=ct.x,Wt=ct.y,re=0,de=Y;re<de.length;re+=1){var Ie=de[re];$=Math.min($,Ie.x),ht=Math.min(ht,Ie.y),Lt=Math.max(Lt,Ie.x),Wt=Math.max(Wt,Ie.y)}return[new i.Point($,ht),new i.Point(Lt,ht),new i.Point(Lt,Wt),new i.Point($,Wt),new i.Point($,ht)]},Object.defineProperties(Qr.prototype,bn);var _n=function(Y){this._hashName=Y&&encodeURIComponent(Y),i.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function kn(lt,Y){var ct=!1,$=null,ht=function(){$=null,ct&&(lt(),$=setTimeout(ht,Y),ct=!1)};return function(){return ct=!0,$||ht(),$}}(this._updateHashUnthrottled.bind(this),300)};_n.prototype.addTo=function(Y){return this._map=Y,i.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},_n.prototype.remove=function(){return i.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},_n.prototype.getHashString=function(Y){var ct=this._map.getCenter(),$=Math.round(100*this._map.getZoom())/100,ht=Math.ceil(($*Math.LN2+Math.log(512/360/.5))/Math.LN10),Lt=Math.pow(10,ht),Wt=Math.round(ct.lng*Lt)/Lt,re=Math.round(ct.lat*Lt)/Lt,de=this._map.getBearing(),Ie=this._map.getPitch(),Je="";if(Je+=Y?"/"+Wt+"/"+re+"/"+$:$+"/"+re+"/"+Wt,(de||Ie)&&(Je+="/"+Math.round(10*de)/10),Ie&&(Je+="/"+Math.round(Ie)),this._hashName){var fr=this._hashName,mr=!1,Ir=i.window.location.hash.slice(1).split("&").map(function(Gr){var Wr=Gr.split("=")[0];return Wr===fr?(mr=!0,Wr+"="+Je):Gr}).filter(function(Gr){return Gr});return mr||Ir.push(fr+"="+Je),"#"+Ir.join("&")}return"#"+Je},_n.prototype._getCurrentHash=function(){var $,Y=this,ct=i.window.location.hash.replace("#","");return this._hashName?(ct.split("&").map(function(ht){return ht.split("=")}).forEach(function(ht){ht[0]===Y._hashName&&($=ht)}),($&&$[1]||"").split("/")):ct.split("/")},_n.prototype._onHashChange=function(){var Y=this._getCurrentHash();if(Y.length>=3&&!Y.some(function($){return isNaN($)})){var ct=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Y[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Y[2],+Y[1]],zoom:+Y[0],bearing:ct,pitch:+(Y[4]||0)}),!0}return!1},_n.prototype._updateHashUnthrottled=function(){var Y=this.getHashString();try{i.window.history.replaceState(i.window.history.state,"",Y)}catch(ct){}};var xa={linearity:.3,easing:i.bezier(0,0,.3,1)},Ma=i.extend({deceleration:2500,maxSpeed:1400},xa),Aa=i.extend({deceleration:20,maxSpeed:1400},xa),Ra=i.extend({deceleration:1e3,maxSpeed:360},xa),qa=i.extend({deceleration:1e3,maxSpeed:90},xa),ai=function(Y){this._map=Y,this.clear()};function ea(lt,Y){(!lt.duration||lt.duration<Y.duration)&&(lt.duration=Y.duration,lt.easing=Y.easing)}function fi(lt,Y,ct){var $=ct.maxSpeed,ht=ct.linearity,Lt=ct.deceleration,Wt=i.clamp(lt*ht/(Y/1e3),-$,$),re=Math.abs(Wt)/(Lt*ht);return{easing:ct.easing,duration:1e3*re,amount:Wt*(re/2)}}ai.prototype.clear=function(){this._inertiaBuffer=[]},ai.prototype.record=function(Y){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:i.browser.now(),settings:Y})},ai.prototype._drainInertiaBuffer=function(){for(var Y=this._inertiaBuffer,ct=i.browser.now();Y.length>0&&ct-Y[0].time>160;)Y.shift()},ai.prototype._onMoveEnd=function(Y){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var ct={zoom:0,bearing:0,pitch:0,pan:new i.Point(0,0),pinchAround:void 0,around:void 0},$=0,ht=this._inertiaBuffer;$<ht.length;$+=1){var Wt=ht[$].settings;ct.zoom+=Wt.zoomDelta||0,ct.bearing+=Wt.bearingDelta||0,ct.pitch+=Wt.pitchDelta||0,Wt.panDelta&&ct.pan._add(Wt.panDelta),Wt.around&&(ct.around=Wt.around),Wt.pinchAround&&(ct.pinchAround=Wt.pinchAround)}var de=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,Ie={};if(ct.pan.mag()){var Je=fi(ct.pan.mag(),de,i.extend({},Ma,Y||{}));Ie.offset=ct.pan.mult(Je.amount/ct.pan.mag()),Ie.center=this._map.transform.center,ea(Ie,Je)}if(ct.zoom){var fr=fi(ct.zoom,de,Aa);Ie.zoom=this._map.transform.zoom+fr.amount,ea(Ie,fr)}if(ct.bearing){var mr=fi(ct.bearing,de,Ra);Ie.bearing=this._map.transform.bearing+i.clamp(mr.amount,-179,179),ea(Ie,mr)}if(ct.pitch){var Ir=fi(ct.pitch,de,qa);Ie.pitch=this._map.transform.pitch+Ir.amount,ea(Ie,Ir)}if(Ie.zoom||Ie.bearing){var Gr=void 0===ct.pinchAround?ct.around:ct.pinchAround;Ie.around=Gr?this._map.unproject(Gr):this._map.getCenter()}return this.clear(),i.extend(Ie,{noMoveStart:!0})}};var yi=function(lt){function Y($,ht,Lt,Wt){void 0===Wt&&(Wt={});var re=E.mousePos(ht.getCanvasContainer(),Lt),de=ht.unproject(re);lt.call(this,$,i.extend({point:re,lngLat:de,originalEvent:Lt},Wt)),this._defaultPrevented=!1,this.target=ht}lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y;var ct={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},ct.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,ct),Y}(i.Event),ji=function(lt){function Y($,ht,Lt){var Wt="touchend"===$?Lt.changedTouches:Lt.touches,re=E.touchPos(ht.getCanvasContainer(),Wt),de=re.map(function(fr){return ht.unproject(fr)}),Ie=re.reduce(function(fr,mr,Ir,Gr){return fr.add(mr.div(Gr.length))},new i.Point(0,0)),Je=ht.unproject(Ie);lt.call(this,$,{points:re,point:Ie,lngLats:de,lngLat:Je,originalEvent:Lt}),this._defaultPrevented=!1}lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y;var ct={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},ct.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,ct),Y}(i.Event),Mo=function(lt){function Y($,ht,Lt){lt.call(this,$,{originalEvent:Lt}),this._defaultPrevented=!1}lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y;var ct={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},ct.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,ct),Y}(i.Event),si=function(Y,ct){this._map=Y,this._clickTolerance=ct.clickTolerance};si.prototype.reset=function(){delete this._mousedownPos},si.prototype.wheel=function(Y){return this._firePreventable(new Mo(Y.type,this._map,Y))},si.prototype.mousedown=function(Y,ct){return this._mousedownPos=ct,this._firePreventable(new yi(Y.type,this._map,Y))},si.prototype.mouseup=function(Y){this._map.fire(new yi(Y.type,this._map,Y))},si.prototype.click=function(Y,ct){this._mousedownPos&&this._mousedownPos.dist(ct)>=this._clickTolerance||this._map.fire(new yi(Y.type,this._map,Y))},si.prototype.dblclick=function(Y){return this._firePreventable(new yi(Y.type,this._map,Y))},si.prototype.mouseover=function(Y){this._map.fire(new yi(Y.type,this._map,Y))},si.prototype.mouseout=function(Y){this._map.fire(new yi(Y.type,this._map,Y))},si.prototype.touchstart=function(Y){return this._firePreventable(new ji(Y.type,this._map,Y))},si.prototype.touchmove=function(Y){this._map.fire(new ji(Y.type,this._map,Y))},si.prototype.touchend=function(Y){this._map.fire(new ji(Y.type,this._map,Y))},si.prototype.touchcancel=function(Y){this._map.fire(new ji(Y.type,this._map,Y))},si.prototype._firePreventable=function(Y){if(this._map.fire(Y),Y.defaultPrevented)return{}},si.prototype.isEnabled=function(){return!0},si.prototype.isActive=function(){return!1},si.prototype.enable=function(){},si.prototype.disable=function(){};var ot=function(Y){this._map=Y};ot.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},ot.prototype.mousemove=function(Y){this._map.fire(new yi(Y.type,this._map,Y))},ot.prototype.mousedown=function(){this._delayContextMenu=!0},ot.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new yi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},ot.prototype.contextmenu=function(Y){this._delayContextMenu?this._contextMenuEvent=Y:this._map.fire(new yi(Y.type,this._map,Y)),this._map.listens("contextmenu")&&Y.preventDefault()},ot.prototype.isEnabled=function(){return!0},ot.prototype.isActive=function(){return!1},ot.prototype.enable=function(){},ot.prototype.disable=function(){};var mt=function(Y,ct){this._map=Y,this._el=Y.getCanvasContainer(),this._container=Y.getContainer(),this._clickTolerance=ct.clickTolerance||1};function Bt(lt,Y){for(var ct={},$=0;$<lt.length;$++)ct[lt[$].identifier]=Y[$];return ct}mt.prototype.isEnabled=function(){return!!this._enabled},mt.prototype.isActive=function(){return!!this._active},mt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},mt.prototype.disable=function(){!this.isEnabled()||(this._enabled=!1)},mt.prototype.mousedown=function(Y,ct){!this.isEnabled()||!Y.shiftKey||0!==Y.button||(E.disableDrag(),this._startPos=this._lastPos=ct,this._active=!0)},mt.prototype.mousemoveWindow=function(Y,ct){if(this._active){var $=ct;if(!(this._lastPos.equals($)||!this._box&&$.dist(this._startPos)<this._clickTolerance)){var ht=this._startPos;this._lastPos=$,this._box||(this._box=E.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Y));var Lt=Math.min(ht.x,$.x),Wt=Math.max(ht.x,$.x),re=Math.min(ht.y,$.y),de=Math.max(ht.y,$.y);E.setTransform(this._box,"translate("+Lt+"px,"+re+"px)"),this._box.style.width=Wt-Lt+"px",this._box.style.height=de-re+"px"}}},mt.prototype.mouseupWindow=function(Y,ct){var $=this;if(this._active&&0===Y.button){var ht=this._startPos,Lt=ct;if(this.reset(),E.suppressClick(),ht.x!==Lt.x||ht.y!==Lt.y)return this._map.fire(new i.Event("boxzoomend",{originalEvent:Y})),{cameraAnimation:function(Wt){return Wt.fitScreenCoordinates(ht,Lt,$._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",Y)}},mt.prototype.keydown=function(Y){!this._active||27===Y.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",Y))},mt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(E.remove(this._box),this._box=null),E.enableDrag(),delete this._startPos,delete this._lastPos},mt.prototype._fireEvent=function(Y,ct){return this._map.fire(new i.Event(Y,{originalEvent:ct}))};var me=function(Y){this.reset(),this.numTouches=Y.numTouches};me.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},me.prototype.touchstart=function(Y,ct,$){(this.centroid||$.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(void 0===this.startTime&&(this.startTime=Y.timeStamp),$.length===this.numTouches&&(this.centroid=function Kt(lt){for(var Y=new i.Point(0,0),ct=0,$=lt;ct<$.length;ct+=1)Y._add($[ct]);return Y.div(lt.length)}(ct),this.touches=Bt($,ct)))},me.prototype.touchmove=function(Y,ct,$){if(!this.aborted&&this.centroid){var ht=Bt($,ct);for(var Lt in this.touches){var re=ht[Lt];(!re||re.dist(this.touches[Lt])>30)&&(this.aborted=!0)}}},me.prototype.touchend=function(Y,ct,$){if((!this.centroid||Y.timeStamp-this.startTime>500)&&(this.aborted=!0),0===$.length){var ht=!this.aborted&&this.centroid;if(this.reset(),ht)return ht}};var ze=function(Y){this.singleTap=new me(Y),this.numTaps=Y.numTaps,this.reset()};ze.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},ze.prototype.touchstart=function(Y,ct,$){this.singleTap.touchstart(Y,ct,$)},ze.prototype.touchmove=function(Y,ct,$){this.singleTap.touchmove(Y,ct,$)},ze.prototype.touchend=function(Y,ct,$){var ht=this.singleTap.touchend(Y,ct,$);if(ht){var Lt=Y.timeStamp-this.lastTime<500,Wt=!this.lastTap||this.lastTap.dist(ht)<30;if((!Lt||!Wt)&&this.reset(),this.count++,this.lastTime=Y.timeStamp,this.lastTap=ht,this.count===this.numTaps)return this.reset(),ht}};var $e=function(){this._zoomIn=new ze({numTouches:1,numTaps:2}),this._zoomOut=new ze({numTouches:2,numTaps:1}),this.reset()};$e.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},$e.prototype.touchstart=function(Y,ct,$){this._zoomIn.touchstart(Y,ct,$),this._zoomOut.touchstart(Y,ct,$)},$e.prototype.touchmove=function(Y,ct,$){this._zoomIn.touchmove(Y,ct,$),this._zoomOut.touchmove(Y,ct,$)},$e.prototype.touchend=function(Y,ct,$){var ht=this,Lt=this._zoomIn.touchend(Y,ct,$),Wt=this._zoomOut.touchend(Y,ct,$);return Lt?(this._active=!0,Y.preventDefault(),setTimeout(function(){return ht.reset()},0),{cameraAnimation:function(re){return re.easeTo({duration:300,zoom:re.getZoom()+1,around:re.unproject(Lt)},{originalEvent:Y})}}):Wt?(this._active=!0,Y.preventDefault(),setTimeout(function(){return ht.reset()},0),{cameraAnimation:function(re){return re.easeTo({duration:300,zoom:re.getZoom()-1,around:re.unproject(Wt)},{originalEvent:Y})}}):void 0},$e.prototype.touchcancel=function(){this.reset()},$e.prototype.enable=function(){this._enabled=!0},$e.prototype.disable=function(){this._enabled=!1,this.reset()},$e.prototype.isEnabled=function(){return this._enabled},$e.prototype.isActive=function(){return this._active};var Ar=function(Y){this.reset(),this._clickTolerance=Y.clickTolerance||1};Ar.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Ar.prototype._correctButton=function(Y,ct){return!1},Ar.prototype._move=function(Y,ct){return{}},Ar.prototype.mousedown=function(Y,ct){if(!this._lastPoint){var $=E.mouseButton(Y);!this._correctButton(Y,$)||(this._lastPoint=ct,this._eventButton=$)}},Ar.prototype.mousemoveWindow=function(Y,ct){var $=this._lastPoint;if($&&(Y.preventDefault(),this._moved||!(ct.dist($)<this._clickTolerance)))return this._moved=!0,this._lastPoint=ct,this._move($,ct)},Ar.prototype.mouseupWindow=function(Y){E.mouseButton(Y)===this._eventButton&&(this._moved&&E.suppressClick(),this.reset())},Ar.prototype.enable=function(){this._enabled=!0},Ar.prototype.disable=function(){this._enabled=!1,this.reset()},Ar.prototype.isEnabled=function(){return this._enabled},Ar.prototype.isActive=function(){return this._active};var Jr=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.mousedown=function($,ht){lt.prototype.mousedown.call(this,$,ht),this._lastPoint&&(this._active=!0)},Y.prototype._correctButton=function($,ht){return 0===ht&&!$.ctrlKey},Y.prototype._move=function($,ht){return{around:ht,panDelta:ht.sub($)}},Y}(Ar),tn=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype._correctButton=function($,ht){return 0===ht&&$.ctrlKey||2===ht},Y.prototype._move=function($,ht){var Wt=.8*(ht.x-$.x);if(Wt)return this._active=!0,{bearingDelta:Wt}},Y.prototype.contextmenu=function($){$.preventDefault()},Y}(Ar),Rr=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype._correctButton=function($,ht){return 0===ht&&$.ctrlKey||2===ht},Y.prototype._move=function($,ht){var Wt=-.5*(ht.y-$.y);if(Wt)return this._active=!0,{pitchDelta:Wt}},Y.prototype.contextmenu=function($){$.preventDefault()},Y}(Ar),Or=function(Y){this._minTouches=1,this._clickTolerance=Y.clickTolerance||1,this.reset()};Or.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new i.Point(0,0)},Or.prototype.touchstart=function(Y,ct,$){return this._calculateTransform(Y,ct,$)},Or.prototype.touchmove=function(Y,ct,$){if(this._active)return Y.preventDefault(),this._calculateTransform(Y,ct,$)},Or.prototype.touchend=function(Y,ct,$){this._calculateTransform(Y,ct,$),this._active&&$.length<this._minTouches&&this.reset()},Or.prototype.touchcancel=function(){this.reset()},Or.prototype._calculateTransform=function(Y,ct,$){$.length>0&&(this._active=!0);var ht=Bt($,ct),Lt=new i.Point(0,0),Wt=new i.Point(0,0),re=0;for(var de in ht){var Ie=ht[de],Je=this._touches[de];Je&&(Lt._add(Ie),Wt._add(Ie.sub(Je)),re++,ht[de]=Ie)}if(this._touches=ht,!(re<this._minTouches)&&Wt.mag()){var fr=Wt.div(re);if(this._sum._add(fr),!(this._sum.mag()<this._clickTolerance))return{around:Lt.div(re),panDelta:fr}}},Or.prototype.enable=function(){this._enabled=!0},Or.prototype.disable=function(){this._enabled=!1,this.reset()},Or.prototype.isEnabled=function(){return this._enabled},Or.prototype.isActive=function(){return this._active};var Vr=function(){this.reset()};function nn(lt,Y,ct){for(var $=0;$<lt.length;$++)if(lt[$].identifier===ct)return Y[$]}Vr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Vr.prototype._start=function(Y){},Vr.prototype._move=function(Y,ct,$){return{}},Vr.prototype.touchstart=function(Y,ct,$){this._firstTwoTouches||$.length<2||(this._firstTwoTouches=[$[0].identifier,$[1].identifier],this._start([ct[0],ct[1]]))},Vr.prototype.touchmove=function(Y,ct,$){if(this._firstTwoTouches){Y.preventDefault();var ht=this._firstTwoTouches,Wt=ht[1],re=nn($,ct,ht[0]),de=nn($,ct,Wt);if(re&&de){var Ie=this._aroundCenter?null:re.add(de).div(2);return this._move([re,de],Ie,Y)}}},Vr.prototype.touchend=function(Y,ct,$){if(this._firstTwoTouches){var ht=this._firstTwoTouches,Wt=ht[1],re=nn($,ct,ht[0]),de=nn($,ct,Wt);re&&de||(this._active&&E.suppressClick(),this.reset())}},Vr.prototype.touchcancel=function(){this.reset()},Vr.prototype.enable=function(Y){this._enabled=!0,this._aroundCenter=!!Y&&"center"===Y.around},Vr.prototype.disable=function(){this._enabled=!1,this.reset()},Vr.prototype.isEnabled=function(){return this._enabled},Vr.prototype.isActive=function(){return this._active};function Xr(lt,Y){return Math.log(lt/Y)/Math.LN2}var In=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.reset=function(){lt.prototype.reset.call(this),delete this._distance,delete this._startDistance},Y.prototype._start=function($){this._startDistance=this._distance=$[0].dist($[1])},Y.prototype._move=function($,ht){var Lt=this._distance;if(this._distance=$[0].dist($[1]),this._active||!(Math.abs(Xr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Xr(this._distance,Lt),pinchAround:ht}},Y}(Vr);function oa(lt,Y){return 180*lt.angleWith(Y)/Math.PI}var ra=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.reset=function(){lt.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Y.prototype._start=function($){this._startVector=this._vector=$[0].sub($[1]),this._minDiameter=$[0].dist($[1])},Y.prototype._move=function($,ht){var Lt=this._vector;if(this._vector=$[0].sub($[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:oa(this._vector,Lt),pinchAround:ht}},Y.prototype._isBelowThreshold=function($){this._minDiameter=Math.min(this._minDiameter,$.mag());var Lt=25/(Math.PI*this._minDiameter)*360,Wt=oa($,this._startVector);return Math.abs(Wt)<Lt},Y}(Vr);function na(lt){return Math.abs(lt.y)>Math.abs(lt.x)}var va=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.reset=function(){lt.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Y.prototype._start=function($){this._lastPoints=$,na($[0].sub($[1]))&&(this._valid=!1)},Y.prototype._move=function($,ht,Lt){var Wt=$[0].sub(this._lastPoints[0]),re=$[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Wt,re,Lt.timeStamp),this._valid)return this._lastPoints=$,this._active=!0,{pitchDelta:(Wt.y+re.y)/2*-.5}},Y.prototype.gestureBeginsVertically=function($,ht,Lt){if(void 0!==this._valid)return this._valid;var re=$.mag()>=2,de=ht.mag()>=2;if(re||de){if(!re||!de)return void 0===this._firstMove&&(this._firstMove=Lt),Lt-this._firstMove<100&&void 0;var Ie=$.y>0==ht.y>0;return na($)&&na(ht)&&Ie}},Y}(Vr),da={panStep:100,bearingStep:15,pitchStep:10},Sa=function(){var Y=da;this._panStep=Y.panStep,this._bearingStep=Y.bearingStep,this._pitchStep=Y.pitchStep};function Na(lt){return lt*(2-lt)}Sa.prototype.reset=function(){this._active=!1},Sa.prototype.keydown=function(Y){var ct=this;if(!(Y.altKey||Y.ctrlKey||Y.metaKey)){var $=0,ht=0,Lt=0,Wt=0,re=0;switch(Y.keyCode){case 61:case 107:case 171:case 187:$=1;break;case 189:case 109:case 173:$=-1;break;case 37:Y.shiftKey?ht=-1:(Y.preventDefault(),Wt=-1);break;case 39:Y.shiftKey?ht=1:(Y.preventDefault(),Wt=1);break;case 38:Y.shiftKey?Lt=1:(Y.preventDefault(),re=-1);break;case 40:Y.shiftKey?Lt=-1:(Y.preventDefault(),re=1);break;default:return}return{cameraAnimation:function(de){var Ie=de.getZoom();de.easeTo({duration:300,easeId:"keyboardHandler",easing:Na,zoom:$?Math.round(Ie)+$*(Y.shiftKey?2:1):Ie,bearing:de.getBearing()+ht*ct._bearingStep,pitch:de.getPitch()+Lt*ct._pitchStep,offset:[-Wt*ct._panStep,-re*ct._panStep],center:de.getCenter()},{originalEvent:Y})}}}},Sa.prototype.enable=function(){this._enabled=!0},Sa.prototype.disable=function(){this._enabled=!1,this.reset()},Sa.prototype.isEnabled=function(){return this._enabled},Sa.prototype.isActive=function(){return this._active};var mi=4.000244140625,Ea=function(Y,ct){this._map=Y,this._el=Y.getCanvasContainer(),this._handler=ct,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,i.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Ea.prototype.setZoomRate=function(Y){this._defaultZoomRate=Y},Ea.prototype.setWheelZoomRate=function(Y){this._wheelZoomRate=Y},Ea.prototype.isEnabled=function(){return!!this._enabled},Ea.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},Ea.prototype.isZooming=function(){return!!this._zooming},Ea.prototype.enable=function(Y){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Y&&"center"===Y.around)},Ea.prototype.disable=function(){!this.isEnabled()||(this._enabled=!1)},Ea.prototype.wheel=function(Y){if(this.isEnabled()){var ct=Y.deltaMode===i.window.WheelEvent.DOM_DELTA_LINE?40*Y.deltaY:Y.deltaY,$=i.browser.now(),ht=$-(this._lastWheelEventTime||0);this._lastWheelEventTime=$,0!==ct&&ct%mi==0?this._type="wheel":0!==ct&&Math.abs(ct)<4?this._type="trackpad":ht>400?(this._type=null,this._lastValue=ct,this._timeout=setTimeout(this._onTimeout,40,Y)):this._type||(this._type=Math.abs(ht*ct)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ct+=this._lastValue)),Y.shiftKey&&ct&&(ct/=4),this._type&&(this._lastWheelEvent=Y,this._delta-=ct,this._active||this._start(Y)),Y.preventDefault()}},Ea.prototype._onTimeout=function(Y){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Y)},Ea.prototype._start=function(Y){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var ct=E.mousePos(this._el,Y);this._around=i.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(ct)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Ea.prototype.renderFrame=function(){return this._onScrollFrame()},Ea.prototype._onScrollFrame=function(){var Y=this;if(this._frameId&&(this._frameId=null,this.isActive())){var ct=this._map.transform;if(0!==this._delta){var $="wheel"===this._type&&Math.abs(this._delta)>mi?this._wheelZoomRate:this._defaultZoomRate,ht=2/(1+Math.exp(-Math.abs(this._delta*$)));this._delta<0&&0!==ht&&(ht=1/ht);var Lt="number"==typeof this._targetZoom?ct.zoomScale(this._targetZoom):ct.scale;this._targetZoom=Math.min(ct.maxZoom,Math.max(ct.minZoom,ct.scaleZoom(Lt*ht))),"wheel"===this._type&&(this._startZoom=ct.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Je,Wt="number"==typeof this._targetZoom?this._targetZoom:ct.zoom,re=this._startZoom,de=this._easing,Ie=!1;if("wheel"===this._type&&re&&de){var fr=Math.min((i.browser.now()-this._lastWheelEventTime)/200,1),mr=de(fr);Je=i.number(re,Wt,mr),fr<1?this._frameId||(this._frameId=!0):Ie=!0}else Je=Wt,Ie=!0;return this._active=!0,Ie&&(this._active=!1,this._finishTimeout=setTimeout(function(){Y._zooming=!1,Y._handler._triggerRenderFrame(),delete Y._targetZoom,delete Y._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ie,zoomDelta:Je-ct.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Ea.prototype._smoothOutEasing=function(Y){var ct=i.ease;if(this._prevEase){var $=this._prevEase,ht=(i.browser.now()-$.start)/$.duration,Lt=$.easing(ht+.01)-$.easing(ht),Wt=.27/Math.sqrt(Lt*Lt+1e-4)*.01,re=Math.sqrt(.0729-Wt*Wt);ct=i.bezier(Wt,re,.25,1)}return this._prevEase={start:i.browser.now(),duration:Y,easing:ct},ct},Ea.prototype.reset=function(){this._active=!1};var Wn=function(Y,ct){this._clickZoom=Y,this._tapZoom=ct};Wn.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Wn.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Wn.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Wn.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ua=function(){this.reset()};ua.prototype.reset=function(){this._active=!1},ua.prototype.dblclick=function(Y,ct){return Y.preventDefault(),{cameraAnimation:function($){$.easeTo({duration:300,zoom:$.getZoom()+(Y.shiftKey?-1:1),around:$.unproject(ct)},{originalEvent:Y})}}},ua.prototype.enable=function(){this._enabled=!0},ua.prototype.disable=function(){this._enabled=!1,this.reset()},ua.prototype.isEnabled=function(){return this._enabled},ua.prototype.isActive=function(){return this._active};var ii=function(){this._tap=new ze({numTouches:1,numTaps:1}),this.reset()};ii.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ii.prototype.touchstart=function(Y,ct,$){this._swipePoint||(this._tapTime&&Y.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?$.length>0&&(this._swipePoint=ct[0],this._swipeTouch=$[0].identifier):this._tap.touchstart(Y,ct,$))},ii.prototype.touchmove=function(Y,ct,$){if(this._tapTime){if(this._swipePoint){if($[0].identifier!==this._swipeTouch)return;var ht=ct[0],Lt=ht.y-this._swipePoint.y;return this._swipePoint=ht,Y.preventDefault(),this._active=!0,{zoomDelta:Lt/128}}}else this._tap.touchmove(Y,ct,$)},ii.prototype.touchend=function(Y,ct,$){this._tapTime?this._swipePoint&&0===$.length&&this.reset():this._tap.touchend(Y,ct,$)&&(this._tapTime=Y.timeStamp)},ii.prototype.touchcancel=function(){this.reset()},ii.prototype.enable=function(){this._enabled=!0},ii.prototype.disable=function(){this._enabled=!1,this.reset()},ii.prototype.isEnabled=function(){return this._enabled},ii.prototype.isActive=function(){return this._active};var di=function(Y,ct,$){this._el=Y,this._mousePan=ct,this._touchPan=$};di.prototype.enable=function(Y){this._inertiaOptions=Y||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},di.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},di.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},di.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Ai=function(Y,ct,$){this._pitchWithRotate=Y.pitchWithRotate,this._mouseRotate=ct,this._mousePitch=$};Ai.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Ai.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Ai.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Ai.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var ri=function(Y,ct,$,ht){this._el=Y,this._touchZoom=ct,this._touchRotate=$,this._tapDragZoom=ht,this._rotationDisabled=!1,this._enabled=!0};ri.prototype.enable=function(Y){this._touchZoom.enable(Y),this._rotationDisabled||this._touchRotate.enable(Y),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},ri.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},ri.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},ri.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},ri.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},ri.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Pi=function(lt){return lt.zoom||lt.drag||lt.pitch||lt.rotate},Mi=function(lt){function Y(){lt.apply(this,arguments)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y}(i.Event);function Vi(lt){return lt.panDelta&&lt.panDelta.mag()||lt.zoomDelta||lt.bearingDelta||lt.pitchDelta}var ti=function(Y,ct){this._map=Y,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ai(Y),this._bearingSnap=ct.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(ct),i.bindAll(["handleEvent","handleWindowEvent"],this);var $=this._el;this._listeners=[[$,"touchstart",{passive:!1}],[$,"touchmove",{passive:!1}],[$,"touchend",void 0],[$,"touchcancel",void 0],[$,"mousedown",void 0],[$,"mousemove",void 0],[$,"mouseup",void 0],[i.window.document,"mousemove",{capture:!0}],[i.window.document,"mouseup",void 0],[$,"mouseover",void 0],[$,"mouseout",void 0],[$,"dblclick",void 0],[$,"click",void 0],[$,"keydown",{capture:!1}],[$,"keyup",void 0],[$,"wheel",{passive:!1}],[$,"contextmenu",void 0],[i.window,"blur",void 0]];for(var ht=0,Lt=this._listeners;ht<Lt.length;ht+=1){var Wt=Lt[ht],re=Wt[0];E.addEventListener(re,Wt[1],re===i.window.document?this.handleWindowEvent:this.handleEvent,Wt[2])}};ti.prototype.destroy=function(){for(var Y=0,ct=this._listeners;Y<ct.length;Y+=1){var $=ct[Y],ht=$[0];E.removeEventListener(ht,$[1],ht===i.window.document?this.handleWindowEvent:this.handleEvent,$[2])}},ti.prototype._addDefaultHandlers=function(Y){var ct=this._map,$=ct.getCanvasContainer();this._add("mapEvent",new si(ct,Y));var ht=ct.boxZoom=new mt(ct,Y);this._add("boxZoom",ht);var Lt=new $e,Wt=new ua;ct.doubleClickZoom=new Wn(Wt,Lt),this._add("tapZoom",Lt),this._add("clickZoom",Wt);var re=new ii;this._add("tapDragZoom",re);var de=ct.touchPitch=new va;this._add("touchPitch",de);var Ie=new tn(Y),Je=new Rr(Y);ct.dragRotate=new Ai(Y,Ie,Je),this._add("mouseRotate",Ie,["mousePitch"]),this._add("mousePitch",Je,["mouseRotate"]);var fr=new Jr(Y),mr=new Or(Y);ct.dragPan=new di($,fr,mr),this._add("mousePan",fr),this._add("touchPan",mr,["touchZoom","touchRotate"]);var Ir=new ra,Gr=new In;ct.touchZoomRotate=new ri($,Gr,Ir,re),this._add("touchRotate",Ir,["touchPan","touchZoom"]),this._add("touchZoom",Gr,["touchPan","touchRotate"]);var Wr=ct.scrollZoom=new Ea(ct,this);this._add("scrollZoom",Wr,["mousePan"]);var Ur=ct.keyboard=new Sa;this._add("keyboard",Ur),this._add("blockableMapEvent",new ot(ct));for(var Kr=0,fn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Kr<fn.length;Kr+=1){var Mn=fn[Kr];Y.interactive&&Y[Mn]&&ct[Mn].enable(Y[Mn])}},ti.prototype._add=function(Y,ct,$){this._handlers.push({handlerName:Y,handler:ct,allowed:$}),this._handlersById[Y]=ct},ti.prototype.stop=function(){if(!this._updatingCamera){for(var Y=0,ct=this._handlers;Y<ct.length;Y+=1)ct[Y].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},ti.prototype.isActive=function(){for(var Y=0,ct=this._handlers;Y<ct.length;Y+=1)if(ct[Y].handler.isActive())return!0;return!1},ti.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},ti.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},ti.prototype.isMoving=function(){return Boolean(Pi(this._eventsInProgress))||this.isZooming()},ti.prototype._blockedByActive=function(Y,ct,$){for(var ht in Y)if(ht!==$&&(!ct||ct.indexOf(ht)<0))return!0;return!1},ti.prototype.handleWindowEvent=function(Y){this.handleEvent(Y,Y.type+"Window")},ti.prototype._getMapTouches=function(Y){for(var ct=[],$=0,ht=Y;$<ht.length;$+=1){var Lt=ht[$];this._el.contains(Lt.target)&&ct.push(Lt)}return ct},ti.prototype.handleEvent=function(Y,ct){if("blur"!==Y.type){this._updatingCamera=!0;for(var $="renderFrame"===Y.type?void 0:Y,ht={needsRenderFrame:!1},Lt={},Wt={},re=Y.touches?this._getMapTouches(Y.touches):void 0,de=re?E.touchPos(this._el,re):E.mousePos(this._el,Y),Ie=0,Je=this._handlers;Ie<Je.length;Ie+=1){var fr=Je[Ie],mr=fr.handlerName,Ir=fr.handler,Gr=fr.allowed;if(Ir.isEnabled()){var Wr=void 0;this._blockedByActive(Wt,Gr,mr)?Ir.reset():Ir[ct||Y.type]&&(Wr=Ir[ct||Y.type](Y,de,re),this.mergeHandlerResult(ht,Lt,Wr,mr,$),Wr&&Wr.needsRenderFrame&&this._triggerRenderFrame()),(Wr||Ir.isActive())&&(Wt[mr]=Ir)}}var Ur={};for(var Kr in this._previousActiveHandlers)Wt[Kr]||(Ur[Kr]=$);this._previousActiveHandlers=Wt,(Object.keys(Ur).length||Vi(ht))&&(this._changes.push([ht,Lt,Ur]),this._triggerRenderFrame()),(Object.keys(Wt).length||Vi(ht))&&this._map._stop(!0),this._updatingCamera=!1;var fn=ht.cameraAnimation;fn&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],fn(this._map))}else this.stop()},ti.prototype.mergeHandlerResult=function(Y,ct,$,ht,Lt){if($){i.extend(Y,$);var Wt={handlerName:ht,originalEvent:$.originalEvent||Lt};void 0!==$.zoomDelta&&(ct.zoom=Wt),void 0!==$.panDelta&&(ct.drag=Wt),void 0!==$.pitchDelta&&(ct.pitch=Wt),void 0!==$.bearingDelta&&(ct.rotate=Wt)}},ti.prototype._applyChanges=function(){for(var Y={},ct={},$={},ht=0,Lt=this._changes;ht<Lt.length;ht+=1){var Wt=Lt[ht],re=Wt[0],de=Wt[1],Ie=Wt[2];re.panDelta&&(Y.panDelta=(Y.panDelta||new i.Point(0,0))._add(re.panDelta)),re.zoomDelta&&(Y.zoomDelta=(Y.zoomDelta||0)+re.zoomDelta),re.bearingDelta&&(Y.bearingDelta=(Y.bearingDelta||0)+re.bearingDelta),re.pitchDelta&&(Y.pitchDelta=(Y.pitchDelta||0)+re.pitchDelta),void 0!==re.around&&(Y.around=re.around),void 0!==re.pinchAround&&(Y.pinchAround=re.pinchAround),re.noInertia&&(Y.noInertia=re.noInertia),i.extend(ct,de),i.extend($,Ie)}this._updateMapTransform(Y,ct,$),this._changes=[]},ti.prototype._updateMapTransform=function(Y,ct,$){var ht=this._map,Lt=ht.transform;if(!Vi(Y))return this._fireEvents(ct,$);var Wt=Y.panDelta,re=Y.zoomDelta,de=Y.bearingDelta,Ie=Y.pitchDelta,Je=Y.around,fr=Y.pinchAround;void 0!==fr&&(Je=fr),ht._stop(!0),Je=Je||ht.transform.centerPoint;var mr=Lt.pointLocation(Wt?Je.sub(Wt):Je);de&&(Lt.bearing+=de),Ie&&(Lt.pitch+=Ie),re&&(Lt.zoom+=re),Lt.setLocationAtPoint(mr,Je),this._map._update(),Y.noInertia||this._inertia.record(Y),this._fireEvents(ct,$)},ti.prototype._fireEvents=function(Y,ct){var $=this,ht=Pi(this._eventsInProgress),Lt=Pi(Y),Wt={};for(var re in Y)this._eventsInProgress[re]||(Wt[re+"start"]=Y[re].originalEvent),this._eventsInProgress[re]=Y[re];for(var Je in!ht&&Lt&&this._fireEvent("movestart",Lt.originalEvent),Wt)this._fireEvent(Je,Wt[Je]);for(var fr in Y.rotate&&(this._bearingChanged=!0),Lt&&this._fireEvent("move",Lt.originalEvent),Y)this._fireEvent(fr,Y[fr].originalEvent);var Wr,Gr={};for(var Ur in this._eventsInProgress){var Kr=this._eventsInProgress[Ur],fn=Kr.handlerName,Mn=Kr.originalEvent;this._handlersById[fn].isActive()||(delete this._eventsInProgress[Ur],Gr[Ur+"end"]=Wr=ct[fn]||Mn)}for(var Rn in Gr)this._fireEvent(Rn,Gr[Rn]);var Bn=Pi(this._eventsInProgress);if((ht||Lt)&&!Bn){this._updatingCamera=!0;var Un=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Nn=function($n){return 0!==$n&&-$._bearingSnap<$n&&$n<$._bearingSnap};Un?(Nn(Un.bearing||this._map.getBearing())&&(Un.bearing=0),this._map.easeTo(Un,{originalEvent:Wr})):(this._map.fire(new i.Event("moveend",{originalEvent:Wr})),Nn(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},ti.prototype._fireEvent=function(Y,ct){this._map.fire(new i.Event(Y,ct?{originalEvent:ct}:{}))},ti.prototype._triggerRenderFrame=function(){var Y=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame(function(ct){delete Y._frameId,Y.handleEvent(new Mi("renderFrame",{timeStamp:ct})),Y._applyChanges()}))};var ml=function(lt){function Y(ct,$){lt.call(this),this._moving=!1,this._zooming=!1,this.transform=ct,this._bearingSnap=$.bearingSnap,i.bindAll(["_renderFrameCallback"],this)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.getCenter=function(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)},Y.prototype.setCenter=function($,ht){return this.jumpTo({center:$},ht)},Y.prototype.panBy=function($,ht,Lt){return $=i.Point.convert($).mult(-1),this.panTo(this.transform.center,i.extend({offset:$},ht),Lt)},Y.prototype.panTo=function($,ht,Lt){return this.easeTo(i.extend({center:$},ht),Lt)},Y.prototype.getZoom=function(){return this.transform.zoom},Y.prototype.setZoom=function($,ht){return this.jumpTo({zoom:$},ht),this},Y.prototype.zoomTo=function($,ht,Lt){return this.easeTo(i.extend({zoom:$},ht),Lt)},Y.prototype.zoomIn=function($,ht){return this.zoomTo(this.getZoom()+1,$,ht),this},Y.prototype.zoomOut=function($,ht){return this.zoomTo(this.getZoom()-1,$,ht),this},Y.prototype.getBearing=function(){return this.transform.bearing},Y.prototype.setBearing=function($,ht){return this.jumpTo({bearing:$},ht),this},Y.prototype.getPadding=function(){return this.transform.padding},Y.prototype.setPadding=function($,ht){return this.jumpTo({padding:$},ht),this},Y.prototype.rotateTo=function($,ht,Lt){return this.easeTo(i.extend({bearing:$},ht),Lt)},Y.prototype.resetNorth=function($,ht){return this.rotateTo(0,i.extend({duration:1e3},$),ht),this},Y.prototype.resetNorthPitch=function($,ht){return this.easeTo(i.extend({bearing:0,pitch:0,duration:1e3},$),ht),this},Y.prototype.snapToNorth=function($,ht){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth($,ht):this},Y.prototype.getPitch=function(){return this.transform.pitch},Y.prototype.setPitch=function($,ht){return this.jumpTo({pitch:$},ht),this},Y.prototype.cameraForBounds=function($,ht){return $=i.LngLatBounds.convert($),this._cameraForBoxAndBearing($.getNorthWest(),$.getSouthEast(),0,ht)},Y.prototype._cameraForBoxAndBearing=function($,ht,Lt,Wt){var re={top:0,bottom:0,right:0,left:0};if("number"==typeof(Wt=i.extend({padding:re,offset:[0,0],maxZoom:this.transform.maxZoom},Wt)).padding){var de=Wt.padding;Wt.padding={top:de,bottom:de,right:de,left:de}}Wt.padding=i.extend(re,Wt.padding);var Ie=this.transform,Je=Ie.padding,fr=Ie.project(i.LngLat.convert($)),mr=Ie.project(i.LngLat.convert(ht)),Ir=fr.rotate(-Lt*Math.PI/180),Gr=mr.rotate(-Lt*Math.PI/180),Wr=new i.Point(Math.max(Ir.x,Gr.x),Math.max(Ir.y,Gr.y)),Ur=new i.Point(Math.min(Ir.x,Gr.x),Math.min(Ir.y,Gr.y)),Kr=Wr.sub(Ur),fn=(Ie.width-(Je.left+Je.right+Wt.padding.left+Wt.padding.right))/Kr.x,Mn=(Ie.height-(Je.top+Je.bottom+Wt.padding.top+Wt.padding.bottom))/Kr.y;if(!(Mn<0||fn<0)){var Rn=Math.min(Ie.scaleZoom(Ie.scale*Math.min(fn,Mn)),Wt.maxZoom),Bn=i.Point.convert(Wt.offset),sa=new i.Point(Bn.x+(Wt.padding.left-Wt.padding.right)/2,Bn.y+(Wt.padding.top-Wt.padding.bottom)/2).mult(Ie.scale/Ie.zoomScale(Rn));return{center:Ie.unproject(fr.add(mr).div(2).sub(sa)),zoom:Rn,bearing:Lt}}i.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},Y.prototype.fitBounds=function($,ht,Lt){return this._fitInternal(this.cameraForBounds($,ht),ht,Lt)},Y.prototype.fitScreenCoordinates=function($,ht,Lt,Wt,re){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(i.Point.convert($)),this.transform.pointLocation(i.Point.convert(ht)),Lt,Wt),Wt,re)},Y.prototype._fitInternal=function($,ht,Lt){return $?(delete(ht=i.extend($,ht)).padding,ht.linear?this.easeTo(ht,Lt):this.flyTo(ht,Lt)):this},Y.prototype.jumpTo=function($,ht){this.stop();var Lt=this.transform,Wt=!1,re=!1,de=!1;return"zoom"in $&&Lt.zoom!==+$.zoom&&(Wt=!0,Lt.zoom=+$.zoom),void 0!==$.center&&(Lt.center=i.LngLat.convert($.center)),"bearing"in $&&Lt.bearing!==+$.bearing&&(re=!0,Lt.bearing=+$.bearing),"pitch"in $&&Lt.pitch!==+$.pitch&&(de=!0,Lt.pitch=+$.pitch),null!=$.padding&&!Lt.isPaddingEqual($.padding)&&(Lt.padding=$.padding),this.fire(new i.Event("movestart",ht)).fire(new i.Event("move",ht)),Wt&&this.fire(new i.Event("zoomstart",ht)).fire(new i.Event("zoom",ht)).fire(new i.Event("zoomend",ht)),re&&this.fire(new i.Event("rotatestart",ht)).fire(new i.Event("rotate",ht)).fire(new i.Event("rotateend",ht)),de&&this.fire(new i.Event("pitchstart",ht)).fire(new i.Event("pitch",ht)).fire(new i.Event("pitchend",ht)),this.fire(new i.Event("moveend",ht))},Y.prototype.easeTo=function($,ht){var Lt=this;this._stop(!1,$.easeId),(!1===($=i.extend({offset:[0,0],duration:500,easing:i.ease},$)).animate||!$.essential&&i.browser.prefersReducedMotion)&&($.duration=0);var Wt=this.transform,re=this.getZoom(),de=this.getBearing(),Ie=this.getPitch(),Je=this.getPadding(),fr="zoom"in $?+$.zoom:re,mr="bearing"in $?this._normalizeBearing($.bearing,de):de,Ir="pitch"in $?+$.pitch:Ie,Gr="padding"in $?$.padding:Wt.padding,Wr=i.Point.convert($.offset),Ur=Wt.centerPoint.add(Wr),Kr=Wt.pointLocation(Ur),fn=i.LngLat.convert($.center||Kr);this._normalizeCenter(fn);var Un,Nn,Mn=Wt.project(Kr),Rn=Wt.project(fn).sub(Mn),Bn=Wt.zoomScale(fr-re);$.around&&(Un=i.LngLat.convert($.around),Nn=Wt.locationPoint(Un));var $n={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||fr!==re,this._rotating=this._rotating||de!==mr,this._pitching=this._pitching||Ir!==Ie,this._padding=!Wt.isPaddingEqual(Gr),this._easeId=$.easeId,this._prepareEase(ht,$.noMoveStart,$n),clearTimeout(this._easeEndTimeoutID),this._ease(function(sa){if(Lt._zooming&&(Wt.zoom=i.number(re,fr,sa)),Lt._rotating&&(Wt.bearing=i.number(de,mr,sa)),Lt._pitching&&(Wt.pitch=i.number(Ie,Ir,sa)),Lt._padding&&(Wt.interpolatePadding(Je,Gr,sa),Ur=Wt.centerPoint.add(Wr)),Un)Wt.setLocationAtPoint(Un,Nn);else{var aa=Wt.zoomScale(Wt.zoom-re),fa=fr>re?Math.min(2,Bn):Math.max(.5,Bn),pa=Math.pow(fa,1-sa),Ca=Wt.unproject(Mn.add(Rn.mult(sa*pa)).mult(aa));Wt.setLocationAtPoint(Wt.renderWorldCopies?Ca.wrap():Ca,Ur)}Lt._fireMoveEvents(ht)},function(sa){Lt._afterEase(ht,sa)},$),this},Y.prototype._prepareEase=function($,ht,Lt){void 0===Lt&&(Lt={}),this._moving=!0,!ht&&!Lt.moving&&this.fire(new i.Event("movestart",$)),this._zooming&&!Lt.zooming&&this.fire(new i.Event("zoomstart",$)),this._rotating&&!Lt.rotating&&this.fire(new i.Event("rotatestart",$)),this._pitching&&!Lt.pitching&&this.fire(new i.Event("pitchstart",$))},Y.prototype._fireMoveEvents=function($){this.fire(new i.Event("move",$)),this._zooming&&this.fire(new i.Event("zoom",$)),this._rotating&&this.fire(new i.Event("rotate",$)),this._pitching&&this.fire(new i.Event("pitch",$))},Y.prototype._afterEase=function($,ht){if(!this._easeId||!ht||this._easeId!==ht){delete this._easeId;var Lt=this._zooming,Wt=this._rotating,re=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Lt&&this.fire(new i.Event("zoomend",$)),Wt&&this.fire(new i.Event("rotateend",$)),re&&this.fire(new i.Event("pitchend",$)),this.fire(new i.Event("moveend",$))}},Y.prototype.flyTo=function($,ht){var Lt=this;if(!$.essential&&i.browser.prefersReducedMotion){var Wt=i.pick($,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Wt,ht)}this.stop(),$=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},$);var re=this.transform,de=this.getZoom(),Ie=this.getBearing(),Je=this.getPitch(),fr=this.getPadding(),mr="zoom"in $?i.clamp(+$.zoom,re.minZoom,re.maxZoom):de,Ir="bearing"in $?this._normalizeBearing($.bearing,Ie):Ie,Gr="pitch"in $?+$.pitch:Je,Wr="padding"in $?$.padding:re.padding,Ur=re.zoomScale(mr-de),Kr=i.Point.convert($.offset),fn=re.centerPoint.add(Kr),Mn=re.pointLocation(fn),Rn=i.LngLat.convert($.center||Mn);this._normalizeCenter(Rn);var Bn=re.project(Mn),Un=re.project(Rn).sub(Bn),Nn=$.curve,$n=Math.max(re.width,re.height),sa=$n/Ur,aa=Un.mag();if("minZoom"in $){var fa=i.clamp(Math.min($.minZoom,de,mr),re.minZoom,re.maxZoom),pa=$n/re.zoomScale(fa-de);Nn=Math.sqrt(pa/aa*2)}var Ca=Nn*Nn;function Fa(ka){var Za=(sa*sa-$n*$n+(ka?-1:1)*Ca*Ca*aa*aa)/(2*(ka?sa:$n)*Ca*aa);return Math.log(Math.sqrt(Za*Za+1)-Za)}function $a(ka){return(Math.exp(ka)-Math.exp(-ka))/2}function za(ka){return(Math.exp(ka)+Math.exp(-ka))/2}var Ta=Fa(0),_a=function(ka){return za(Ta)/za(Ta+Nn*ka)},ni=function(ka){return $n*((za(Ta)*function Ha(ka){return $a(ka)/za(ka)}(Ta+Nn*ka)-$a(Ta))/Ca)/aa},oi=(Fa(1)-Ta)/Nn;if(Math.abs(aa)<1e-6||!isFinite(oi)){if(Math.abs($n-sa)<1e-6)return this.easeTo($,ht);var Ya=sa<$n?-1:1;oi=Math.abs(Math.log(sa/$n))/Nn,ni=function(){return 0},_a=function(ka){return Math.exp(Ya*Nn*ka)}}return $.duration="duration"in $?+$.duration:1e3*oi/("screenSpeed"in $?+$.screenSpeed/Nn:+$.speed),$.maxDuration&&$.duration>$.maxDuration&&($.duration=0),this._zooming=!0,this._rotating=Ie!==Ir,this._pitching=Gr!==Je,this._padding=!re.isPaddingEqual(Wr),this._prepareEase(ht,!1),this._ease(function(ka){var Za=ka*oi,Di=1/_a(Za);re.zoom=1===ka?mr:de+re.scaleZoom(Di),Lt._rotating&&(re.bearing=i.number(Ie,Ir,ka)),Lt._pitching&&(re.pitch=i.number(Je,Gr,ka)),Lt._padding&&(re.interpolatePadding(fr,Wr,ka),fn=re.centerPoint.add(Kr));var Hi=1===ka?Rn:re.unproject(Bn.add(Un.mult(ni(Za))).mult(Di));re.setLocationAtPoint(re.renderWorldCopies?Hi.wrap():Hi,fn),Lt._fireMoveEvents(ht)},function(){return Lt._afterEase(ht)},$),this},Y.prototype.isEasing=function(){return!!this._easeFrameId},Y.prototype.stop=function(){return this._stop()},Y.prototype._stop=function($,ht){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Lt=this._onEaseEnd;delete this._onEaseEnd,Lt.call(this,ht)}if(!$){var Wt=this.handlers;Wt&&Wt.stop()}return this},Y.prototype._ease=function($,ht,Lt){!1===Lt.animate||0===Lt.duration?($(1),ht()):(this._easeStart=i.browser.now(),this._easeOptions=Lt,this._onEaseFrame=$,this._onEaseEnd=ht,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Y.prototype._renderFrameCallback=function(){var $=Math.min((i.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing($)),$<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Y.prototype._normalizeBearing=function($,ht){$=i.wrap($,-180,180);var Lt=Math.abs($-ht);return Math.abs($-360-ht)<Lt&&($-=360),Math.abs($+360-ht)<Lt&&($+=360),$},Y.prototype._normalizeCenter=function($){var ht=this.transform;if(ht.renderWorldCopies&&!ht.lngRange){var Lt=$.lng-ht.center.lng;$.lng+=Lt>180?-360:Lt<-180?360:0}},Y}(i.Evented),Ls=function(Y){void 0===Y&&(Y={}),this.options=Y,i.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Ls.prototype.getDefaultPosition=function(){return"bottom-right"},Ls.prototype.onAdd=function(Y){var ct=this.options&&this.options.compact;return this._map=Y,this._container=E.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=E.create("div","mapboxgl-ctrl-attrib-inner",this._container),ct&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===ct&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ls.prototype.onRemove=function(){E.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ls.prototype._updateEditLink=function(){var Y=this._editLink;Y||(Y=this._editLink=this._container.querySelector(".mapbox-improve-map"));var ct=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||i.config.ACCESS_TOKEN}];if(Y){var $=ct.reduce(function(ht,Lt,Wt){return Lt.value&&(ht+=Lt.key+"="+Lt.value+(Wt<ct.length-1?"&":"")),ht},"?");Y.href=i.config.FEEDBACK_URL+"/"+$+(this._map._hash?this._map._hash.getHashString(!0):""),Y.rel="noopener nofollow"}},Ls.prototype._updateData=function(Y){Y&&("metadata"===Y.sourceDataType||"style"===Y.dataType)&&(this._updateAttributions(),this._updateEditLink())},Ls.prototype._updateAttributions=function(){if(this._map.style){var Y=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Y=Y.concat(this.options.customAttribution.map(function(de){return"string"!=typeof de?"":de})):"string"==typeof this.options.customAttribution&&Y.push(this.options.customAttribution)),this._map.style.stylesheet){var ct=this._map.style.stylesheet;this.styleOwner=ct.owner,this.styleId=ct.id}var $=this._map.style.sourceCaches;for(var ht in $){var Lt=$[ht];if(Lt.used){var Wt=Lt.getSource();Wt.attribution&&Y.indexOf(Wt.attribution)<0&&Y.push(Wt.attribution)}}Y.sort(function(de,Ie){return de.length-Ie.length});var re=(Y=Y.filter(function(de,Ie){for(var Je=Ie+1;Je<Y.length;Je++)if(Y[Je].indexOf(de)>=0)return!1;return!0})).join(" | ");re!==this._attribHTML&&(this._attribHTML=re,Y.length?(this._innerContainer.innerHTML=re,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ls.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Ua=function(){i.bindAll(["_updateLogo"],this),i.bindAll(["_updateCompact"],this)};Ua.prototype.onAdd=function(Y){this._map=Y,this._container=E.create("div","mapboxgl-ctrl");var ct=E.create("a","mapboxgl-ctrl-logo");return ct.target="_blank",ct.rel="noopener nofollow",ct.href="https://www.mapbox.com/",ct.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ct.setAttribute("rel","noopener nofollow"),this._container.appendChild(ct),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ua.prototype.onRemove=function(){E.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ua.prototype.getDefaultPosition=function(){return"bottom-left"},Ua.prototype._updateLogo=function(Y){(!Y||"metadata"===Y.sourceDataType)&&(this._container.style.display=this._logoRequired()?"block":"none")},Ua.prototype._logoRequired=function(){if(this._map.style){var Y=this._map.style.sourceCaches;for(var ct in Y)if(Y[ct].getSource().mapbox_logo)return!0;return!1}},Ua.prototype._updateCompact=function(){var Y=this._container.children;if(Y.length){var ct=Y[0];this._map.getCanvasContainer().offsetWidth<250?ct.classList.add("mapboxgl-compact"):ct.classList.remove("mapboxgl-compact")}};var Wa=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Wa.prototype.add=function(Y){var ct=++this._id;return this._queue.push({callback:Y,id:ct,cancelled:!1}),ct},Wa.prototype.remove=function(Y){for(var ct=this._currentlyRunning,ht=0,Lt=ct?this._queue.concat(ct):this._queue;ht<Lt.length;ht+=1){var Wt=Lt[ht];if(Wt.id===Y)return void(Wt.cancelled=!0)}},Wa.prototype.run=function(Y){void 0===Y&&(Y=0);var ct=this._currentlyRunning=this._queue;this._queue=[];for(var $=0,ht=ct;$<ht.length;$+=1){var Lt=ht[$];if(!Lt.cancelled&&(Lt.callback(Y),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Wa.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Bo={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},So=i.window.HTMLImageElement,io=i.window.HTMLElement,Eo=i.window.ImageBitmap,qf={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},tc=function(lt){function Y($){var ht=this;if(null!=($=i.extend({},qf,$)).minZoom&&null!=$.maxZoom&&$.minZoom>$.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=$.minPitch&&null!=$.maxPitch&&$.minPitch>$.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=$.minPitch&&$.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=$.maxPitch&&$.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var Lt=new Qr($.minZoom,$.maxZoom,$.minPitch,$.maxPitch,$.renderWorldCopies);if(lt.call(this,Lt,$),this._interactive=$.interactive,this._maxTileCacheSize=$.maxTileCacheSize,this._failIfMajorPerformanceCaveat=$.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=$.preserveDrawingBuffer,this._antialias=$.antialias,this._trackResize=$.trackResize,this._bearingSnap=$.bearingSnap,this._refreshExpiredTiles=$.refreshExpiredTiles,this._fadeDuration=$.fadeDuration,this._crossSourceCollisions=$.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=$.collectResourceTiming,this._renderTaskQueue=new Wa,this._controls=[],this._mapId=i.uniqueId(),this._locale=i.extend({},Bo,$.locale),this._requestManager=new i.RequestManager($.transformRequest,$.accessToken),"string"==typeof $.container){if(this._container=i.window.document.getElementById($.container),!this._container)throw new Error("Container '"+$.container+"' not found.")}else{if(!($.container instanceof io))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=$.container}if($.maxBounds&&this.setMaxBounds($.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ht._update(!1)}),this.on("moveend",function(){return ht._update(!1)}),this.on("zoom",function(){return ht._update(!0)}),void 0!==i.window&&(i.window.addEventListener("online",this._onWindowOnline,!1),i.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new ti(this,$),this._hash=$.hash&&new _n("string"==typeof $.hash&&$.hash||void 0).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:$.center,zoom:$.zoom,bearing:$.bearing,pitch:$.pitch}),$.bounds&&(this.resize(),this.fitBounds($.bounds,i.extend({},$.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=$.localIdeographFontFamily,$.style&&this.setStyle($.style,{localIdeographFontFamily:$.localIdeographFontFamily}),$.attributionControl&&this.addControl(new Ls({customAttribution:$.customAttribution})),this.addControl(new Ua,$.logoPosition),this.on("style.load",function(){ht.transform.unmodified&&ht.jumpTo(ht.style.stylesheet)}),this.on("data",function(re){ht._update("style"===re.dataType),ht.fire(new i.Event(re.dataType+"data",re))}),this.on("dataloading",function(re){ht.fire(new i.Event(re.dataType+"dataloading",re))})}lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y;var ct={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Y.prototype._getMapId=function(){return this._mapId},Y.prototype.addControl=function(ht,Lt){if(void 0===Lt&&ht.getDefaultPosition&&(Lt=ht.getDefaultPosition()),void 0===Lt&&(Lt="top-right"),!ht||!ht.onAdd)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Wt=ht.onAdd(this);this._controls.push(ht);var re=this._controlPositions[Lt];return-1!==Lt.indexOf("bottom")?re.insertBefore(Wt,re.firstChild):re.appendChild(Wt),this},Y.prototype.removeControl=function(ht){if(!ht||!ht.onRemove)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Lt=this._controls.indexOf(ht);return Lt>-1&&this._controls.splice(Lt,1),ht.onRemove(this),this},Y.prototype.resize=function(ht){var Lt=this._containerDimensions(),Wt=Lt[0],re=Lt[1];this._resizeCanvas(Wt,re),this.transform.resize(Wt,re),this.painter.resize(Wt,re);var de=!this._moving;return de&&(this.stop(),this.fire(new i.Event("movestart",ht)).fire(new i.Event("move",ht))),this.fire(new i.Event("resize",ht)),de&&this.fire(new i.Event("moveend",ht)),this},Y.prototype.getBounds=function(){return this.transform.getBounds()},Y.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Y.prototype.setMaxBounds=function(ht){return this.transform.setMaxBounds(i.LngLatBounds.convert(ht)),this._update()},Y.prototype.setMinZoom=function(ht){if((ht=null==ht?-2:ht)>=-2&&ht<=this.transform.maxZoom)return this.transform.minZoom=ht,this._update(),this.getZoom()<ht&&this.setZoom(ht),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},Y.prototype.getMinZoom=function(){return this.transform.minZoom},Y.prototype.setMaxZoom=function(ht){if((ht=null==ht?22:ht)>=this.transform.minZoom)return this.transform.maxZoom=ht,this._update(),this.getZoom()>ht&&this.setZoom(ht),this;throw new Error("maxZoom must be greater than the current minZoom")},Y.prototype.getMaxZoom=function(){return this.transform.maxZoom},Y.prototype.setMinPitch=function(ht){if((ht=null==ht?0:ht)<0)throw new Error("minPitch must be greater than or equal to 0");if(ht>=0&&ht<=this.transform.maxPitch)return this.transform.minPitch=ht,this._update(),this.getPitch()<ht&&this.setPitch(ht),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},Y.prototype.getMinPitch=function(){return this.transform.minPitch},Y.prototype.setMaxPitch=function(ht){if((ht=null==ht?60:ht)>60)throw new Error("maxPitch must be less than or equal to 60");if(ht>=this.transform.minPitch)return this.transform.maxPitch=ht,this._update(),this.getPitch()>ht&&this.setPitch(ht),this;throw new Error("maxPitch must be greater than the current minPitch")},Y.prototype.getMaxPitch=function(){return this.transform.maxPitch},Y.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Y.prototype.setRenderWorldCopies=function(ht){return this.transform.renderWorldCopies=ht,this._update()},Y.prototype.project=function(ht){return this.transform.locationPoint(i.LngLat.convert(ht))},Y.prototype.unproject=function(ht){return this.transform.pointLocation(i.Point.convert(ht))},Y.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Y.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Y.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Y.prototype._createDelegatedListener=function(ht,Lt,Wt){var de,re=this;if("mouseenter"===ht||"mouseover"===ht){var Ie=!1;return{layer:Lt,listener:Wt,delegates:{mousemove:function(Ur){var Kr=re.getLayer(Lt)?re.queryRenderedFeatures(Ur.point,{layers:[Lt]}):[];Kr.length?Ie||(Ie=!0,Wt.call(re,new yi(ht,re,Ur.originalEvent,{features:Kr}))):Ie=!1},mouseout:function(){Ie=!1}}}}if("mouseleave"===ht||"mouseout"===ht){var mr=!1;return{layer:Lt,listener:Wt,delegates:{mousemove:function(Ur){(re.getLayer(Lt)?re.queryRenderedFeatures(Ur.point,{layers:[Lt]}):[]).length?mr=!0:mr&&(mr=!1,Wt.call(re,new yi(ht,re,Ur.originalEvent)))},mouseout:function(Ur){mr&&(mr=!1,Wt.call(re,new yi(ht,re,Ur.originalEvent)))}}}}return{layer:Lt,listener:Wt,delegates:(de={},de[ht]=function(Ur){var Kr=re.getLayer(Lt)?re.queryRenderedFeatures(Ur.point,{layers:[Lt]}):[];Kr.length&&(Ur.features=Kr,Wt.call(re,Ur),delete Ur.features)},de)}},Y.prototype.on=function(ht,Lt,Wt){if(void 0===Wt)return lt.prototype.on.call(this,ht,Lt);var re=this._createDelegatedListener(ht,Lt,Wt);for(var de in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ht]=this._delegatedListeners[ht]||[],this._delegatedListeners[ht].push(re),re.delegates)this.on(de,re.delegates[de]);return this},Y.prototype.once=function(ht,Lt,Wt){if(void 0===Wt)return lt.prototype.once.call(this,ht,Lt);var re=this._createDelegatedListener(ht,Lt,Wt);for(var de in re.delegates)this.once(de,re.delegates[de]);return this},Y.prototype.off=function(ht,Lt,Wt){var re=this;return void 0===Wt?lt.prototype.off.call(this,ht,Lt):(this._delegatedListeners&&this._delegatedListeners[ht]&&function(Ie){for(var Je=Ie[ht],fr=0;fr<Je.length;fr++){var mr=Je[fr];if(mr.layer===Lt&&mr.listener===Wt){for(var Ir in mr.delegates)re.off(Ir,mr.delegates[Ir]);return Je.splice(fr,1),re}}}(this._delegatedListeners),this)},Y.prototype.queryRenderedFeatures=function(ht,Lt){if(!this.style)return[];var Wt;if(void 0===Lt&&void 0!==ht&&!(ht instanceof i.Point)&&!Array.isArray(ht)&&(Lt=ht,ht=void 0),Lt=Lt||{},(ht=ht||[[0,0],[this.transform.width,this.transform.height]])instanceof i.Point||"number"==typeof ht[0])Wt=[i.Point.convert(ht)];else{var re=i.Point.convert(ht[0]),de=i.Point.convert(ht[1]);Wt=[re,new i.Point(de.x,re.y),de,new i.Point(re.x,de.y),re]}return this.style.queryRenderedFeatures(Wt,Lt,this.transform)},Y.prototype.querySourceFeatures=function(ht,Lt){return this.style.querySourceFeatures(ht,Lt)},Y.prototype.setStyle=function(ht,Lt){return!1!==(Lt=i.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Lt)).diff&&Lt.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ht?(this._diffStyle(ht,Lt),this):(this._localIdeographFontFamily=Lt.localIdeographFontFamily,this._updateStyle(ht,Lt))},Y.prototype._getUIString=function(ht){var Lt=this._locale[ht];if(null==Lt)throw new Error("Missing UI string '"+ht+"'");return Lt},Y.prototype._updateStyle=function(ht,Lt){return this.style&&(this.style.setEventedParent(null),this.style._remove()),ht?(this.style=new to(this,Lt||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof ht?this.style.loadURL(ht):this.style.loadJSON(ht),this):(delete this.style,this)},Y.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new to(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Y.prototype._diffStyle=function(ht,Lt){var Wt=this;if("string"==typeof ht){var re=this._requestManager.normalizeStyleURL(ht),de=this._requestManager.transformRequest(re,i.ResourceType.Style);i.getJSON(de,function(Ie,Je){Ie?Wt.fire(new i.ErrorEvent(Ie)):Je&&Wt._updateDiff(Je,Lt)})}else"object"==typeof ht&&this._updateDiff(ht,Lt)},Y.prototype._updateDiff=function(ht,Lt){try{this.style.setState(ht)&&this._update(!0)}catch(Wt){i.warnOnce("Unable to perform style diff: "+(Wt.message||Wt.error||Wt)+".  Rebuilding the style from scratch."),this._updateStyle(ht,Lt)}},Y.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Y.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},Y.prototype.addSource=function(ht,Lt){return this._lazyInitEmptyStyle(),this.style.addSource(ht,Lt),this._update(!0)},Y.prototype.isSourceLoaded=function(ht){var Lt=this.style&&this.style.sourceCaches[ht];if(void 0!==Lt)return Lt.loaded();this.fire(new i.ErrorEvent(new Error("There is no source with ID '"+ht+"'")))},Y.prototype.areTilesLoaded=function(){var ht=this.style&&this.style.sourceCaches;for(var Lt in ht){var re=ht[Lt]._tiles;for(var de in re){var Ie=re[de];if("loaded"!==Ie.state&&"errored"!==Ie.state)return!1}}return!0},Y.prototype.addSourceType=function(ht,Lt,Wt){return this._lazyInitEmptyStyle(),this.style.addSourceType(ht,Lt,Wt)},Y.prototype.removeSource=function(ht){return this.style.removeSource(ht),this._update(!0)},Y.prototype.getSource=function(ht){return this.style.getSource(ht)},Y.prototype.addImage=function(ht,Lt,Wt){void 0===Wt&&(Wt={});var re=Wt.pixelRatio;void 0===re&&(re=1);var de=Wt.sdf;void 0===de&&(de=!1);var Ie=Wt.stretchX,Je=Wt.stretchY,fr=Wt.content;this._lazyInitEmptyStyle();if(Lt instanceof So||Eo&&Lt instanceof Eo){var Ir=i.browser.getImageData(Lt);this.style.addImage(ht,{data:new i.RGBAImage({width:Ir.width,height:Ir.height},Ir.data),pixelRatio:re,stretchX:Ie,stretchY:Je,content:fr,sdf:de,version:0})}else{if(void 0===Lt.width||void 0===Lt.height)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Rn=Lt;this.style.addImage(ht,{data:new i.RGBAImage({width:Lt.width,height:Lt.height},new Uint8Array(Lt.data)),pixelRatio:re,stretchX:Ie,stretchY:Je,content:fr,sdf:de,version:0,userImage:Rn}),Rn.onAdd&&Rn.onAdd(this,ht)}},Y.prototype.updateImage=function(ht,Lt){var Wt=this.style.getImage(ht);if(!Wt)return this.fire(new i.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var re=Lt instanceof So||Eo&&Lt instanceof Eo?i.browser.getImageData(Lt):Lt,de=re.width,Ie=re.height,Je=re.data;return void 0===de||void 0===Ie?this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):de!==Wt.data.width||Ie!==Wt.data.height?this.fire(new i.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(Wt.data.replace(Je,!(Lt instanceof So||Eo&&Lt instanceof Eo)),void this.style.updateImage(ht,Wt))},Y.prototype.hasImage=function(ht){return ht?!!this.style.getImage(ht):(this.fire(new i.ErrorEvent(new Error("Missing required image id"))),!1)},Y.prototype.removeImage=function(ht){this.style.removeImage(ht)},Y.prototype.loadImage=function(ht,Lt){i.getImage(this._requestManager.transformRequest(ht,i.ResourceType.Image),Lt)},Y.prototype.listImages=function(){return this.style.listImages()},Y.prototype.addLayer=function(ht,Lt){return this._lazyInitEmptyStyle(),this.style.addLayer(ht,Lt),this._update(!0)},Y.prototype.moveLayer=function(ht,Lt){return this.style.moveLayer(ht,Lt),this._update(!0)},Y.prototype.removeLayer=function(ht){return this.style.removeLayer(ht),this._update(!0)},Y.prototype.getLayer=function(ht){return this.style.getLayer(ht)},Y.prototype.setLayerZoomRange=function(ht,Lt,Wt){return this.style.setLayerZoomRange(ht,Lt,Wt),this._update(!0)},Y.prototype.setFilter=function(ht,Lt,Wt){return void 0===Wt&&(Wt={}),this.style.setFilter(ht,Lt,Wt),this._update(!0)},Y.prototype.getFilter=function(ht){return this.style.getFilter(ht)},Y.prototype.setPaintProperty=function(ht,Lt,Wt,re){return void 0===re&&(re={}),this.style.setPaintProperty(ht,Lt,Wt,re),this._update(!0)},Y.prototype.getPaintProperty=function(ht,Lt){return this.style.getPaintProperty(ht,Lt)},Y.prototype.setLayoutProperty=function(ht,Lt,Wt,re){return void 0===re&&(re={}),this.style.setLayoutProperty(ht,Lt,Wt,re),this._update(!0)},Y.prototype.getLayoutProperty=function(ht,Lt){return this.style.getLayoutProperty(ht,Lt)},Y.prototype.setLight=function(ht,Lt){return void 0===Lt&&(Lt={}),this._lazyInitEmptyStyle(),this.style.setLight(ht,Lt),this._update(!0)},Y.prototype.getLight=function(){return this.style.getLight()},Y.prototype.setFeatureState=function(ht,Lt){return this.style.setFeatureState(ht,Lt),this._update()},Y.prototype.removeFeatureState=function(ht,Lt){return this.style.removeFeatureState(ht,Lt),this._update()},Y.prototype.getFeatureState=function(ht){return this.style.getFeatureState(ht)},Y.prototype.getContainer=function(){return this._container},Y.prototype.getCanvasContainer=function(){return this._canvasContainer},Y.prototype.getCanvas=function(){return this._canvas},Y.prototype._containerDimensions=function(){var ht=0,Lt=0;return this._container&&(ht=this._container.clientWidth||400,Lt=this._container.clientHeight||300),[ht,Lt]},Y.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==i.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&i.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Y.prototype._setupContainer=function(){var ht=this._container;ht.classList.add("mapboxgl-map"),(this._missingCSSCanary=E.create("div","mapboxgl-canary",ht)).style.visibility="hidden",this._detectMissingCSS();var Wt=this._canvasContainer=E.create("div","mapboxgl-canvas-container",ht);this._interactive&&Wt.classList.add("mapboxgl-interactive"),this._canvas=E.create("canvas","mapboxgl-canvas",Wt),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var re=this._containerDimensions();this._resizeCanvas(re[0],re[1]);var de=this._controlContainer=E.create("div","mapboxgl-control-container",ht),Ie=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Je){Ie[Je]=E.create("div","mapboxgl-ctrl-"+Je,de)})},Y.prototype._resizeCanvas=function(ht,Lt){var Wt=i.browser.devicePixelRatio||1;this._canvas.width=Wt*ht,this._canvas.height=Wt*Lt,this._canvas.style.width=ht+"px",this._canvas.style.height=Lt+"px"},Y.prototype._setupPainter=function(){var ht=i.extend({},P.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Lt=this._canvas.getContext("webgl",ht)||this._canvas.getContext("experimental-webgl",ht);Lt?(this.painter=new hr(Lt,this.transform),i.webpSupported.testSupport(Lt)):this.fire(new i.ErrorEvent(new Error("Failed to initialize WebGL")))},Y.prototype._contextLost=function(ht){ht.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new i.Event("webglcontextlost",{originalEvent:ht}))},Y.prototype._contextRestored=function(ht){this._setupPainter(),this.resize(),this._update(),this.fire(new i.Event("webglcontextrestored",{originalEvent:ht}))},Y.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Y.prototype._update=function(ht){return this.style?(this._styleDirty=this._styleDirty||ht,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Y.prototype._requestRenderFrame=function(ht){return this._update(),this._renderTaskQueue.add(ht)},Y.prototype._cancelRenderFrame=function(ht){this._renderTaskQueue.remove(ht)},Y.prototype._render=function(ht){var Wt,Lt=this,re=0,de=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Wt=de.createQueryEXT(),de.beginQueryEXT(de.TIME_ELAPSED_EXT,Wt),re=i.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ht),!this._removed){var Ie=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Je=this.transform.zoom,fr=i.browser.now();this.style.zoomHistory.update(Je,fr);var mr=new i.EvaluationParameters(Je,{now:fr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ir=mr.crossFadingFactor();(1!==Ir||Ir!==this._crossFadingFactor)&&(Ie=!0,this._crossFadingFactor=Ir),this.style.update(mr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new i.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new i.Event("load"))),this.style&&(this.style.hasTransitions()||Ie)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Gr=i.browser.now()-re;de.endQueryEXT(de.TIME_ELAPSED_EXT,Wt),setTimeout(function(){var Kr=de.getQueryObjectEXT(Wt,de.QUERY_RESULT_EXT)/1e6;de.deleteQueryEXT(Wt),Lt.fire(new i.Event("gpu-timing-frame",{cpuTime:Gr,gpuTime:Kr}))},50)}if(this.listens("gpu-timing-layer")){var Wr=this.painter.collectGpuTimers();setTimeout(function(){var Kr=Lt.painter.queryGpuTimers(Wr);Lt.fire(new i.Event("gpu-timing-layer",{layerTimes:Kr}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new i.Event("idle"))),this}},Y.prototype.remove=function(){this._hash&&this._hash.remove();for(var ht=0,Lt=this._controls;ht<Lt.length;ht+=1)Lt[ht].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==i.window&&(i.window.removeEventListener("resize",this._onWindowResize,!1),i.window.removeEventListener("online",this._onWindowOnline,!1));var re=this.painter.context.gl.getExtension("WEBGL_lose_context");re&&re.loseContext(),yf(this._canvasContainer),yf(this._controlContainer),yf(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new i.Event("remove"))},Y.prototype.triggerRepaint=function(){var ht=this;this.style&&!this._frame&&(this._frame=i.browser.frame(function(Lt){ht._frame=null,ht._render(Lt)}))},Y.prototype._onWindowOnline=function(){this._update()},Y.prototype._onWindowResize=function(ht){this._trackResize&&this.resize({originalEvent:ht})._update()},ct.showTileBoundaries.get=function(){return!!this._showTileBoundaries},ct.showTileBoundaries.set=function($){this._showTileBoundaries!==$&&(this._showTileBoundaries=$,this._update())},ct.showPadding.get=function(){return!!this._showPadding},ct.showPadding.set=function($){this._showPadding!==$&&(this._showPadding=$,this._update())},ct.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},ct.showCollisionBoxes.set=function($){this._showCollisionBoxes!==$&&(this._showCollisionBoxes=$,$?this.style._generateCollisionBoxes():this._update())},ct.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},ct.showOverdrawInspector.set=function($){this._showOverdrawInspector!==$&&(this._showOverdrawInspector=$,this._update())},ct.repaint.get=function(){return!!this._repaint},ct.repaint.set=function($){this._repaint!==$&&(this._repaint=$,this.triggerRepaint())},ct.vertices.get=function(){return!!this._vertices},ct.vertices.set=function($){this._vertices=$,this._update()},Y.prototype._setCacheLimits=function(ht,Lt){i.setCacheLimits(ht,Lt)},ct.version.get=function(){return i.version},Object.defineProperties(Y.prototype,ct),Y}(ml);function yf(lt){lt.parentNode&&lt.parentNode.removeChild(lt)}var Lf={showCompass:!0,showZoom:!0,visualizePitch:!1},xl=function(Y){var ct=this;this.options=i.extend({},Lf,Y),this._container=E.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function($){return $.preventDefault()}),this.options.showZoom&&(i.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function($){return ct._map.zoomIn({},{originalEvent:$})}),E.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function($){return ct._map.zoomOut({},{originalEvent:$})}),E.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function($){ct.options.visualizePitch?ct._map.resetNorthPitch({},{originalEvent:$}):ct._map.resetNorth({},{originalEvent:$})}),this._compassIcon=E.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};xl.prototype._updateZoomButtons=function(){var Y=this._map.getZoom();this._zoomInButton.disabled=Y===this._map.getMaxZoom(),this._zoomOutButton.disabled=Y===this._map.getMinZoom()},xl.prototype._rotateCompassArrow=function(){var Y=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Y},xl.prototype.onAdd=function(Y){return this._map=Y,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Uo(this._map,this._compass,this.options.visualizePitch)),this._container},xl.prototype.onRemove=function(){E.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},xl.prototype._createButton=function(Y,ct){var $=E.create("button",Y,this._container);return $.type="button",$.addEventListener("click",ct),$},xl.prototype._setButtonTitle=function(Y,ct){var $=this._map._getUIString("NavigationControl."+ct);Y.title=$,Y.setAttribute("aria-label",$)};var Uo=function(Y,ct,$){void 0===$&&($=!1),this._clickTolerance=10,this.element=ct,this.mouseRotate=new tn({clickTolerance:Y.dragRotate._mouseRotate._clickTolerance}),this.map=Y,$&&(this.mousePitch=new Rr({clickTolerance:Y.dragRotate._mousePitch._clickTolerance})),i.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),E.addEventListener(ct,"mousedown",this.mousedown),E.addEventListener(ct,"touchstart",this.touchstart,{passive:!1}),E.addEventListener(ct,"touchmove",this.touchmove),E.addEventListener(ct,"touchend",this.touchend),E.addEventListener(ct,"touchcancel",this.reset)};function bl(lt,Y,ct){if(lt=new i.LngLat(lt.lng,lt.lat),Y){var $=new i.LngLat(lt.lng-360,lt.lat),ht=new i.LngLat(lt.lng+360,lt.lat),Lt=ct.locationPoint(lt).distSqr(Y);ct.locationPoint($).distSqr(Y)<Lt?lt=$:ct.locationPoint(ht).distSqr(Y)<Lt&&(lt=ht)}for(;Math.abs(lt.lng-ct.center.lng)>180;){var Wt=ct.locationPoint(lt);if(Wt.x>=0&&Wt.y>=0&&Wt.x<=ct.width&&Wt.y<=ct.height)break;lt.lng>ct.center.lng?lt.lng-=360:lt.lng+=360}return lt}Uo.prototype.down=function(Y,ct){this.mouseRotate.mousedown(Y,ct),this.mousePitch&&this.mousePitch.mousedown(Y,ct),E.disableDrag()},Uo.prototype.move=function(Y,ct){var $=this.map,ht=this.mouseRotate.mousemoveWindow(Y,ct);if(ht&&ht.bearingDelta&&$.setBearing($.getBearing()+ht.bearingDelta),this.mousePitch){var Lt=this.mousePitch.mousemoveWindow(Y,ct);Lt&&Lt.pitchDelta&&$.setPitch($.getPitch()+Lt.pitchDelta)}},Uo.prototype.off=function(){var Y=this.element;E.removeEventListener(Y,"mousedown",this.mousedown),E.removeEventListener(Y,"touchstart",this.touchstart,{passive:!1}),E.removeEventListener(Y,"touchmove",this.touchmove),E.removeEventListener(Y,"touchend",this.touchend),E.removeEventListener(Y,"touchcancel",this.reset),this.offTemp()},Uo.prototype.offTemp=function(){E.enableDrag(),E.removeEventListener(i.window,"mousemove",this.mousemove),E.removeEventListener(i.window,"mouseup",this.mouseup)},Uo.prototype.mousedown=function(Y){this.down(i.extend({},Y,{ctrlKey:!0,preventDefault:function(){return Y.preventDefault()}}),E.mousePos(this.element,Y)),E.addEventListener(i.window,"mousemove",this.mousemove),E.addEventListener(i.window,"mouseup",this.mouseup)},Uo.prototype.mousemove=function(Y){this.move(Y,E.mousePos(this.element,Y))},Uo.prototype.mouseup=function(Y){this.mouseRotate.mouseupWindow(Y),this.mousePitch&&this.mousePitch.mouseupWindow(Y),this.offTemp()},Uo.prototype.touchstart=function(Y){1!==Y.targetTouches.length?this.reset():(this._startPos=this._lastPos=E.touchPos(this.element,Y.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Y.preventDefault()}},this._startPos))},Uo.prototype.touchmove=function(Y){1!==Y.targetTouches.length?this.reset():(this._lastPos=E.touchPos(this.element,Y.targetTouches)[0],this.move({preventDefault:function(){return Y.preventDefault()}},this._lastPos))},Uo.prototype.touchend=function(Y){0===Y.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Uo.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var mf={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Pf(lt,Y,ct){var $=lt.classList;for(var ht in mf)$.remove("mapboxgl-"+ct+"-anchor-"+ht);$.add("mapboxgl-"+ct+"-anchor-"+Y)}var Zl,ju=function(lt){function Y(ct,$){var ht=this;if(lt.call(this),(ct instanceof i.window.HTMLElement||$)&&(ct=i.extend({element:ct},$)),i.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=ct&&ct.anchor||"center",this._color=ct&&ct.color||"#3FB1CE",this._draggable=ct&&ct.draggable||!1,this._state="inactive",this._rotation=ct&&ct.rotation||0,this._rotationAlignment=ct&&ct.rotationAlignment||"auto",this._pitchAlignment=ct&&ct.pitchAlignment&&"auto"!==ct.pitchAlignment?ct.pitchAlignment:this._rotationAlignment,ct&&ct.element)this._element=ct.element,this._offset=i.Point.convert(ct&&ct.offset||[0,0]);else{this._defaultMarker=!0,this._element=E.create("div"),this._element.setAttribute("aria-label","Map marker");var Lt=E.createNS("http://www.w3.org/2000/svg","svg");Lt.setAttributeNS(null,"display","block"),Lt.setAttributeNS(null,"height","41px"),Lt.setAttributeNS(null,"width","27px"),Lt.setAttributeNS(null,"viewBox","0 0 27 41");var Wt=E.createNS("http://www.w3.org/2000/svg","g");Wt.setAttributeNS(null,"stroke","none"),Wt.setAttributeNS(null,"stroke-width","1"),Wt.setAttributeNS(null,"fill","none"),Wt.setAttributeNS(null,"fill-rule","evenodd");var re=E.createNS("http://www.w3.org/2000/svg","g");re.setAttributeNS(null,"fill-rule","nonzero");var de=E.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"transform","translate(3.0, 29.0)"),de.setAttributeNS(null,"fill","#000000");for(var Je=0,fr=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];Je<fr.length;Je+=1){var mr=fr[Je],Ir=E.createNS("http://www.w3.org/2000/svg","ellipse");Ir.setAttributeNS(null,"opacity","0.04"),Ir.setAttributeNS(null,"cx","10.5"),Ir.setAttributeNS(null,"cy","5.80029008"),Ir.setAttributeNS(null,"rx",mr.rx),Ir.setAttributeNS(null,"ry",mr.ry),de.appendChild(Ir)}var Gr=E.createNS("http://www.w3.org/2000/svg","g");Gr.setAttributeNS(null,"fill",this._color);var Wr=E.createNS("http://www.w3.org/2000/svg","path");Wr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Gr.appendChild(Wr);var Ur=E.createNS("http://www.w3.org/2000/svg","g");Ur.setAttributeNS(null,"opacity","0.25"),Ur.setAttributeNS(null,"fill","#000000");var Kr=E.createNS("http://www.w3.org/2000/svg","path");Kr.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Ur.appendChild(Kr);var fn=E.createNS("http://www.w3.org/2000/svg","g");fn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),fn.setAttributeNS(null,"fill","#FFFFFF");var Mn=E.createNS("http://www.w3.org/2000/svg","g");Mn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Rn=E.createNS("http://www.w3.org/2000/svg","circle");Rn.setAttributeNS(null,"fill","#000000"),Rn.setAttributeNS(null,"opacity","0.25"),Rn.setAttributeNS(null,"cx","5.5"),Rn.setAttributeNS(null,"cy","5.5"),Rn.setAttributeNS(null,"r","5.4999962");var Bn=E.createNS("http://www.w3.org/2000/svg","circle");Bn.setAttributeNS(null,"fill","#FFFFFF"),Bn.setAttributeNS(null,"cx","5.5"),Bn.setAttributeNS(null,"cy","5.5"),Bn.setAttributeNS(null,"r","5.4999962"),Mn.appendChild(Rn),Mn.appendChild(Bn),re.appendChild(de),re.appendChild(Gr),re.appendChild(Ur),re.appendChild(fn),re.appendChild(Mn),Lt.appendChild(re),this._element.appendChild(Lt),this._offset=i.Point.convert(ct&&ct.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Un){Un.preventDefault()}),this._element.addEventListener("mousedown",function(Un){Un.preventDefault()}),this._element.addEventListener("focus",function(){var Un=ht._map.getContainer();Un.scrollTop=0,Un.scrollLeft=0}),Pf(this._element,this._anchor,"marker"),this._popup=null}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.addTo=function($){return this.remove(),this._map=$,$.getCanvasContainer().appendChild(this._element),$.on("move",this._update),$.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Y.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),E.remove(this._element),this._popup&&this._popup.remove(),this},Y.prototype.getLngLat=function(){return this._lngLat},Y.prototype.setLngLat=function($){return this._lngLat=i.LngLat.convert($),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Y.prototype.getElement=function(){return this._element},Y.prototype.setPopup=function($){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),$){if(!("offset"in $.options)){var ht=38.1,Lt=13.5,Wt=Math.sqrt(Math.pow(Lt,2)/2);$.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ht],"bottom-left":[Wt,-1*(24.6+Wt)],"bottom-right":[-Wt,-1*(24.6+Wt)],left:[Lt,-24.6],right:[-Lt,-24.6]}:this._offset}this._popup=$,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Y.prototype._onKeyPress=function($){var ht=$.code,Lt=$.charCode||$.keyCode;("Space"===ht||"Enter"===ht||32===Lt||13===Lt)&&this.togglePopup()},Y.prototype._onMapClick=function($){var ht=$.originalEvent.target,Lt=this._element;this._popup&&(ht===Lt||Lt.contains(ht))&&this.togglePopup()},Y.prototype.getPopup=function(){return this._popup},Y.prototype.togglePopup=function(){var $=this._popup;return $?($.isOpen()?$.remove():$.addTo(this._map),this):this},Y.prototype._update=function($){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=bl(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ht="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?ht="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(ht="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Lt="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?Lt="rotateX(0deg)":"map"===this._pitchAlignment&&(Lt="rotateX("+this._map.getPitch()+"deg)"),(!$||"moveend"===$.type)&&(this._pos=this._pos.round()),E.setTransform(this._element,mf[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Lt+" "+ht)}},Y.prototype.getOffset=function(){return this._offset},Y.prototype.setOffset=function($){return this._offset=i.Point.convert($),this._update(),this},Y.prototype._onMove=function($){this._pos=$.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new i.Event("dragstart"))),this.fire(new i.Event("drag"))},Y.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new i.Event("dragend")),this._state="inactive"},Y.prototype._addDragHandler=function($){this._element.contains($.originalEvent.target)&&($.preventDefault(),this._positionDelta=$.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Y.prototype.setDraggable=function($){return this._draggable=!!$,this._map&&($?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Y.prototype.isDraggable=function(){return this._draggable},Y.prototype.setRotation=function($){return this._rotation=$||0,this._update(),this},Y.prototype.getRotation=function(){return this._rotation},Y.prototype.setRotationAlignment=function($){return this._rotationAlignment=$||"auto",this._update(),this},Y.prototype.getRotationAlignment=function(){return this._rotationAlignment},Y.prototype.setPitchAlignment=function($){return this._pitchAlignment=$&&"auto"!==$?$:this._rotationAlignment,this._update(),this},Y.prototype.getPitchAlignment=function(){return this._pitchAlignment},Y}(i.Evented),ec={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};var Ku=0,Xl=!1,rc=function(lt){function Y(ct){lt.call(this),this.options=i.extend({},ec,ct),i.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.onAdd=function($){return this._map=$,this._container=E.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),function xf(lt){void 0!==Zl?lt(Zl):void 0!==i.window.navigator.permissions?i.window.navigator.permissions.query({name:"geolocation"}).then(function(Y){lt(Zl="denied"!==Y.state)}):lt(Zl=!!i.window.navigator.geolocation)}(this._setupUI),this._container},Y.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),E.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ku=0,Xl=!1},Y.prototype._isOutOfMapMaxBounds=function($){var ht=this._map.getMaxBounds(),Lt=$.coords;return ht&&(Lt.longitude<ht.getWest()||Lt.longitude>ht.getEast()||Lt.latitude<ht.getSouth()||Lt.latitude>ht.getNorth())},Y.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},Y.prototype._onSuccess=function($){if(this._map){if(this._isOutOfMapMaxBounds($))return this._setErrorState(),this.fire(new i.Event("outofmaxbounds",$)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=$,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker($),(!this.options.trackUserLocation||"ACTIVE_LOCK"===this._watchState)&&this._updateCamera($),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("geolocate",$)),this._finish()}},Y.prototype._updateCamera=function($){var ht=new i.LngLat($.coords.longitude,$.coords.latitude),Lt=$.coords.accuracy,Wt=this._map.getBearing(),re=i.extend({bearing:Wt},this.options.fitBoundsOptions);this._map.fitBounds(ht.toBounds(Lt),re,{geolocateSource:!0})},Y.prototype._updateMarker=function($){if($){var ht=new i.LngLat($.coords.longitude,$.coords.latitude);this._accuracyCircleMarker.setLngLat(ht).addTo(this._map),this._userLocationDotMarker.setLngLat(ht).addTo(this._map),this._accuracy=$.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Y.prototype._updateCircleRadius=function(){var $=this._map._container.clientHeight/2,ht=this._map.unproject([0,$]),Lt=this._map.unproject([1,$]),Wt=ht.distanceTo(Lt),re=Math.ceil(2*this._accuracy/Wt);this._circleElement.style.width=re+"px",this._circleElement.style.height=re+"px"},Y.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Y.prototype._onError=function($){if(this._map){if(this.options.trackUserLocation)if(1===$.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ht=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ht,this._geolocateButton.setAttribute("aria-label",ht),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===$.code&&Xl)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("error",$)),this._finish()}},Y.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Y.prototype._setupUI=function($){var ht=this;if(this._container.addEventListener("contextmenu",function(re){return re.preventDefault()}),this._geolocateButton=E.create("button","mapboxgl-ctrl-geolocate",this._container),E.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===$){i.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Lt=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Lt,this._geolocateButton.setAttribute("aria-label",Lt)}else{var Wt=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Wt,this._geolocateButton.setAttribute("aria-label",Wt)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=E.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new ju(this._dotElement),this._circleElement=E.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ju({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(re){!re.geolocateSource&&"ACTIVE_LOCK"===ht._watchState&&(!re.originalEvent||"resize"!==re.originalEvent.type)&&(ht._watchState="BACKGROUND",ht._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ht._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ht.fire(new i.Event("trackuserlocationend")))})},Y.prototype.trigger=function(){if(!this._setup)return i.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ku--,Xl=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new i.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var $;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ku>1?($={maximumAge:6e5,timeout:0},Xl=!0):($=this.options.positionOptions,Xl=!1),this._geolocationWatchID=i.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,$)}}else i.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Y.prototype._clearWatch=function(){i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Y}(i.Evented),wc={maxWidth:100,unit:"metric"},jl=function(Y){this.options=i.extend({},wc,Y),i.bindAll(["_onMove","setUnit"],this)};function nc(lt,Y,ct){var $=ct&&ct.maxWidth||100,ht=lt._container.clientHeight/2,Lt=lt.unproject([0,ht]),Wt=lt.unproject([$,ht]),re=Lt.distanceTo(Wt);if(ct&&"imperial"===ct.unit){var de=3.2808*re;de>5280?Ju(Y,$,de/5280,lt._getUIString("ScaleControl.Miles")):Ju(Y,$,de,lt._getUIString("ScaleControl.Feet"))}else ct&&"nautical"===ct.unit?Ju(Y,$,re/1852,lt._getUIString("ScaleControl.NauticalMiles")):re>=1e3?Ju(Y,$,re/1e3,lt._getUIString("ScaleControl.Kilometers")):Ju(Y,$,re,lt._getUIString("ScaleControl.Meters"))}function Ju(lt,Y,ct,$){var ht=function Ac(lt){var Y=Math.pow(10,(""+Math.floor(lt)).length-1),ct=lt/Y;return Y*(ct>=10?10:ct>=5?5:ct>=3?3:ct>=2?2:ct>=1?1:function Tc(lt){var Y=Math.pow(10,Math.ceil(-Math.log(lt)/Math.LN10));return Math.round(lt*Y)/Y}(ct))}(ct);lt.style.width=Y*(ht/ct)+"px",lt.innerHTML=ht+"&nbsp;"+$}jl.prototype.getDefaultPosition=function(){return"bottom-left"},jl.prototype._onMove=function(){nc(this._map,this._container,this.options)},jl.prototype.onAdd=function(Y){return this._map=Y,this._container=E.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Y.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},jl.prototype.onRemove=function(){E.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},jl.prototype.setUnit=function(Y){this.options.unit=Y,nc(this._map,this._container,this.options)};var Ds=function(Y){this._fullscreen=!1,Y&&Y.container&&(Y.container instanceof i.window.HTMLElement?this._container=Y.container:i.warnOnce("Full screen control 'container' must be a DOM element.")),i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.window.document&&(this._fullscreenchange="MSFullscreenChange")};Ds.prototype.onAdd=function(Y){return this._map=Y,this._container||(this._container=this._map.getContainer()),this._controlContainer=E.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Ds.prototype.onRemove=function(){E.remove(this._controlContainer),this._map=null,i.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ds.prototype._checkFullscreenSupport=function(){return!!(i.window.document.fullscreenEnabled||i.window.document.mozFullScreenEnabled||i.window.document.msFullscreenEnabled||i.window.document.webkitFullscreenEnabled)},Ds.prototype._setupUI=function(){var Y=this._fullscreenButton=E.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);E.create("span","mapboxgl-ctrl-icon",Y).setAttribute("aria-hidden",!0),Y.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ds.prototype._updateTitle=function(){var Y=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Y),this._fullscreenButton.title=Y},Ds.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Ds.prototype._isFullscreen=function(){return this._fullscreen},Ds.prototype._changeIcon=function(){(i.window.document.fullscreenElement||i.window.document.mozFullScreenElement||i.window.document.webkitFullscreenElement||i.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Ds.prototype._onClickFullscreen=function(){this._isFullscreen()?i.window.document.exitFullscreen?i.window.document.exitFullscreen():i.window.document.mozCancelFullScreen?i.window.document.mozCancelFullScreen():i.window.document.msExitFullscreen?i.window.document.msExitFullscreen():i.window.document.webkitCancelFullScreen&&i.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Mc={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Sc=function(lt){function Y(ct){lt.call(this),this.options=i.extend(Object.create(Mc),ct),i.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return lt&&(Y.__proto__=lt),(Y.prototype=Object.create(lt&&lt.prototype)).constructor=Y,Y.prototype.addTo=function($){return this._map&&this.remove(),this._map=$,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new i.Event("open")),this},Y.prototype.isOpen=function(){return!!this._map},Y.prototype.remove=function(){return this._content&&E.remove(this._content),this._container&&(E.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new i.Event("close")),this},Y.prototype.getLngLat=function(){return this._lngLat},Y.prototype.setLngLat=function($){return this._lngLat=i.LngLat.convert($),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Y.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Y.prototype.getElement=function(){return this._container},Y.prototype.setText=function($){return this.setDOMContent(i.window.document.createTextNode($))},Y.prototype.setHTML=function($){var Wt,ht=i.window.document.createDocumentFragment(),Lt=i.window.document.createElement("body");for(Lt.innerHTML=$;Wt=Lt.firstChild;)ht.appendChild(Wt);return this.setDOMContent(ht)},Y.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Y.prototype.setMaxWidth=function($){return this.options.maxWidth=$,this._update(),this},Y.prototype.setDOMContent=function($){return this._createContent(),this._content.appendChild($),this._update(),this},Y.prototype.addClassName=function($){this._container&&this._container.classList.add($)},Y.prototype.removeClassName=function($){this._container&&this._container.classList.remove($)},Y.prototype.toggleClassName=function($){if(this._container)return this._container.classList.toggle($)},Y.prototype._createContent=function(){this._content&&E.remove(this._content),this._content=E.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=E.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Y.prototype._onMouseUp=function($){this._update($.point)},Y.prototype._onMouseMove=function($){this._update($.point)},Y.prototype._onDrag=function($){this._update($.point)},Y.prototype._update=function($){var ht=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=E.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=E.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Ir){return ht._container.classList.add(Ir)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=bl(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||$)){var Wt=this._pos=this._trackPointer&&$?$:this._map.project(this._lngLat),re=this.options.anchor,de=ac(this.options.offset);if(!re){var fr,Ie=this._container.offsetWidth,Je=this._container.offsetHeight;fr=Wt.y+de.bottom.y<Je?["top"]:Wt.y>this._map.transform.height-Je?["bottom"]:[],Wt.x<Ie/2?fr.push("left"):Wt.x>this._map.transform.width-Ie/2&&fr.push("right"),re=0===fr.length?"bottom":fr.join("-")}var mr=Wt.add(de[re]).round();E.setTransform(this._container,mf[re]+" translate("+mr.x+"px,"+mr.y+"px)"),Pf(this._container,re,"popup")}},Y.prototype._onClose=function(){this.remove()},Y}(i.Evented);function ac(lt){if(lt){if("number"==typeof lt){var Y=Math.round(Math.sqrt(.5*Math.pow(lt,2)));return{center:new i.Point(0,0),top:new i.Point(0,lt),"top-left":new i.Point(Y,Y),"top-right":new i.Point(-Y,Y),bottom:new i.Point(0,-lt),"bottom-left":new i.Point(Y,-Y),"bottom-right":new i.Point(-Y,-Y),left:new i.Point(lt,0),right:new i.Point(-lt,0)}}if(lt instanceof i.Point||Array.isArray(lt)){var ct=i.Point.convert(lt);return{center:ct,top:ct,"top-left":ct,"top-right":ct,bottom:ct,"bottom-left":ct,"bottom-right":ct,left:ct,right:ct}}return{center:i.Point.convert(lt.center||[0,0]),top:i.Point.convert(lt.top||[0,0]),"top-left":i.Point.convert(lt["top-left"]||[0,0]),"top-right":i.Point.convert(lt["top-right"]||[0,0]),bottom:i.Point.convert(lt.bottom||[0,0]),"bottom-left":i.Point.convert(lt["bottom-left"]||[0,0]),"bottom-right":i.Point.convert(lt["bottom-right"]||[0,0]),left:i.Point.convert(lt.left||[0,0]),right:i.Point.convert(lt.right||[0,0])}}return ac(new i.Point(0,0))}var Ec={version:i.version,supported:P,setRTLTextPlugin:i.setRTLTextPlugin,getRTLTextPluginStatus:i.getRTLTextPluginStatus,Map:tc,NavigationControl:xl,GeolocateControl:rc,AttributionControl:Ls,ScaleControl:jl,FullscreenControl:Ds,Popup:Sc,Marker:ju,Style:to,LngLat:i.LngLat,LngLatBounds:i.LngLatBounds,Point:i.Point,MercatorCoordinate:i.MercatorCoordinate,Evented:i.Evented,config:i.config,prewarm:function Le(){Se().acquire(tr)},clearPrewarmedResources:function We(){var lt=Nt;lt&&(lt.isPreloaded()&&1===lt.numActive()?(lt.release(tr),Nt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return i.config.ACCESS_TOKEN},set accessToken(lt){i.config.ACCESS_TOKEN=lt},get baseApiUrl(){return i.config.API_URL},set baseApiUrl(lt){i.config.API_URL=lt},get workerCount(){return vr.workerCount},set workerCount(lt){vr.workerCount=lt},get maxParallelImageRequests(){return i.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(lt){i.config.MAX_PARALLEL_IMAGE_REQUESTS=lt},clearStorage:function(Y){i.clearTileCache(Y)},workerUrl:""};return Ec}),A},tt.exports=t()},27084:function(tt){"use strict";tt.exports=Math.log2||function(W){return Math.log(W)*Math.LOG2E}},16825:function(tt,W,t){"use strict";tt.exports=function g(i,P){P||(P=i,i=window);var E=0,l=0,x=0,e={shift:!1,alt:!1,control:!1,meta:!1},r=!1;function f(M){var T=!1;return"altKey"in M&&(T=T||M.altKey!==e.alt,e.alt=!!M.altKey),"shiftKey"in M&&(T=T||M.shiftKey!==e.shift,e.shift=!!M.shiftKey),"ctrlKey"in M&&(T=T||M.ctrlKey!==e.control,e.control=!!M.ctrlKey),"metaKey"in M&&(T=T||M.metaKey!==e.meta,e.meta=!!M.metaKey),T}function a(M,T){var L=A.x(T),m=A.y(T);"buttons"in T&&(M=0|T.buttons),(M!==E||L!==l||m!==x||f(T))&&(E=0|M,l=L||0,x=m||0,P&&P(E,l,x,e))}function s(M){a(0,M)}function c(){(E||l||x||e.shift||e.alt||e.meta||e.control)&&(l=x=0,E=0,e.shift=e.alt=e.control=e.meta=!1,P&&P(0,0,0,e))}function u(M){f(M)&&P&&P(E,l,x,e)}function y(M){0===A.buttons(M)?a(0,M):a(E,M)}function v(M){a(E|A.buttons(M),M)}function w(M){a(E&~A.buttons(M),M)}function d(){r||(r=!0,i.addEventListener("mousemove",y),i.addEventListener("mousedown",v),i.addEventListener("mouseup",w),i.addEventListener("mouseleave",s),i.addEventListener("mouseenter",s),i.addEventListener("mouseout",s),i.addEventListener("mouseover",s),i.addEventListener("blur",c),i.addEventListener("keyup",u),i.addEventListener("keydown",u),i.addEventListener("keypress",u),i!==window&&(window.addEventListener("blur",c),window.addEventListener("keyup",u),window.addEventListener("keydown",u),window.addEventListener("keypress",u)))}d();var h={element:i};return Object.defineProperties(h,{enabled:{get:function(){return r},set:function(M){M?d():function o(){!r||(r=!1,i.removeEventListener("mousemove",y),i.removeEventListener("mousedown",v),i.removeEventListener("mouseup",w),i.removeEventListener("mouseleave",s),i.removeEventListener("mouseenter",s),i.removeEventListener("mouseout",s),i.removeEventListener("mouseover",s),i.removeEventListener("blur",c),i.removeEventListener("keyup",u),i.removeEventListener("keydown",u),i.removeEventListener("keypress",u),i!==window&&(window.removeEventListener("blur",c),window.removeEventListener("keyup",u),window.removeEventListener("keydown",u),window.removeEventListener("keypress",u)))}()},enumerable:!0},buttons:{get:function(){return E},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return x},enumerable:!0},mods:{get:function(){return e},enumerable:!0}}),h};var A=t(74311)},48956:function(tt){var W={left:0,top:0};tt.exports=function t(g,i,P){i=i||g.currentTarget||g.srcElement,Array.isArray(P)||(P=[0,0]);var E=g.clientX||0,l=g.clientY||0,x=function A(g){return g===window||g===document||g===document.body?W:g.getBoundingClientRect()}(i);return P[0]=E-x.left,P[1]=l-x.top,P}},74311:function(tt,W){"use strict";function A(P){return P.target||P.srcElement||window}W.buttons=function t(P){if("object"==typeof P){if("buttons"in P)return P.buttons;if("which"in P){if(2===(E=P.which))return 4;if(3===E)return 2;if(E>0)return 1<<E-1}else if("button"in P){var E;if(1===(E=P.button))return 4;if(2===E)return 2;if(E>=0)return 1<<E}}return 0},W.element=A,W.x=function g(P){if("object"==typeof P){if("offsetX"in P)return P.offsetX;var l=A(P).getBoundingClientRect();return P.clientX-l.left}return 0},W.y=function i(P){if("object"==typeof P){if("offsetY"in P)return P.offsetY;var l=A(P).getBoundingClientRect();return P.clientY-l.top}return 0}},1195:function(tt,W,t){"use strict";var A=t(75686);tt.exports=function g(i,P,E){"function"==typeof i&&(E=!!P,P=i,i=window);var l=A("ex",i),x=function(e){E&&e.preventDefault();var r=e.deltaX||0,f=e.deltaY||0,a=e.deltaZ||0,c=1;switch(e.deltaMode){case 1:c=l;break;case 2:c=window.innerHeight}if(f*=c,a*=c,(r*=c)||f||a)return P(r,f,a,e)};return i.addEventListener("wheel",x),x}},7417:function(tt,W,t){var A,i,P,E;E=function(){"use strict";var i,P,E,l=Object.prototype.toString,x="undefined"!=typeof setImmediate?function(h){return setImmediate(h)}:setTimeout;try{Object.defineProperty({},"x",{}),i=function(h,M,T,L){return Object.defineProperty(h,M,{value:T,writable:!0,configurable:!1!==L})}}catch(o){i=function(M,T,L){return M[T]=L,M}}function e(o,h){E.add(o,h),P||(P=x(E.drain))}function r(o){var h,M=typeof o;return null!=o&&("object"==M||"function"==M)&&(h=o.then),"function"==typeof h&&h}function f(){for(var o=0;o<this.chain.length;o++)a(this,1===this.state?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function a(o,h,M){var T,L;try{!1===h?M.reject(o.msg):(T=!0===h?o.msg:h.call(void 0,o.msg))===M.promise?M.reject(TypeError("Promise-chain cycle")):(L=r(T))?L.call(T,M.resolve,M.reject):M.resolve(T)}catch(m){M.reject(m)}}function s(o){var h,M=this;if(!M.triggered){M.triggered=!0,M.def&&(M=M.def);try{(h=r(o))?e(function(){var T=new y(M);try{h.call(o,function(){s.apply(T,arguments)},function(){c.apply(T,arguments)})}catch(L){c.call(T,L)}}):(M.msg=o,M.state=1,M.chain.length>0&&e(f,M))}catch(T){c.call(new y(M),T)}}}function c(o){var h=this;h.triggered||(h.triggered=!0,h.def&&(h=h.def),h.msg=o,h.state=2,h.chain.length>0&&e(f,h))}function u(o,h,M,T){for(var L=0;L<h.length;L++)!function(S){o.resolve(h[S]).then(function(n){M(S,n)},T)}(L)}function y(o){this.def=o,this.triggered=!1}function v(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function w(o){if("function"!=typeof o)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var h=new v(this);this.then=function(T,L){var m={success:"function"!=typeof T||T,failure:"function"==typeof L&&L};return m.promise=new this.constructor(function(b,n){if("function"!=typeof b||"function"!=typeof n)throw TypeError("Not a function");m.resolve=b,m.reject=n}),h.chain.push(m),0!==h.state&&e(f,h),m.promise},this.catch=function(T){return this.then(void 0,T)};try{o.call(void 0,function(T){s.call(h,T)},function(T){c.call(h,T)})}catch(M){c.call(h,M)}}E=function(){var h,M,T;function L(m,S){this.fn=m,this.self=S,this.next=void 0}return{add:function(S,b){T=new L(S,b),M?M.next=T:h=T,M=T,T=void 0},drain:function(){var S=h;for(h=M=P=void 0;S;)S.fn.call(S.self),S=S.next}}}();var d=i({},"constructor",w,!1);return w.prototype=d,i(d,"__NPO__",0,!1),i(w,"resolve",function(h){return h&&"object"==typeof h&&1===h.__NPO__?h:new this(function(L,m){if("function"!=typeof L||"function"!=typeof m)throw TypeError("Not a function");L(h)})}),i(w,"reject",function(h){return new this(function(T,L){if("function"!=typeof T||"function"!=typeof L)throw TypeError("Not a function");L(h)})}),i(w,"all",function(h){var M=this;return"[object Array]"!=l.call(h)?M.reject(TypeError("Not an array")):0===h.length?M.resolve([]):new M(function(L,m){if("function"!=typeof L||"function"!=typeof m)throw TypeError("Not a function");var S=h.length,b=Array(S),n=0;u(M,h,function(p,F){b[p]=F,++n===S&&L(b)},m)})}),i(w,"race",function(h){var M=this;return"[object Array]"!=l.call(h)?M.reject(TypeError("Not an array")):new M(function(L,m){if("function"!=typeof L||"function"!=typeof m)throw TypeError("Not a function");u(M,h,function(b,n){L(n)},m)})}),w},(P=void 0!==t.g?t.g:this)[i="Promise"]=P[i]||E(),tt.exports?tt.exports=P[i]:void 0!==(A=function(){return P[i]}.call(W,t,W,tt))&&(tt.exports=A)},18625:function(tt){var W=Math.PI,t=l(120);function g(x,e,r,f){return["C",x,e,r,f,r,f]}function i(x,e,r,f,a,s){return["C",x/3+.6666666666666666*r,e/3+.6666666666666666*f,a/3+.6666666666666666*r,s/3+.6666666666666666*f,a,s]}function P(x,e,r,f,a,s,c,u,y,v){if(v)b=v[0],n=v[1],m=v[2],S=v[3];else{var w=E(x,e,-a);e=w.y;var d=((x=w.x)-(u=(w=E(u,y,-a)).x))/2,o=(e-(y=w.y))/2,h=d*d/(r*r)+o*o/(f*f);h>1&&(r*=h=Math.sqrt(h),f*=h);var M=r*r,T=f*f,L=(s==c?-1:1)*Math.sqrt(Math.abs((M*T-M*o*o-T*d*d)/(M*o*o+T*d*d)));L==1/0&&(L=1);var m=L*r*o/f+(x+u)/2,S=L*-f*d/r+(e+y)/2,b=Math.asin(((e-S)/f).toFixed(9)),n=Math.asin(((y-S)/f).toFixed(9));(b=x<m?W-b:b)<0&&(b=2*W+b),(n=u<m?W-n:n)<0&&(n=2*W+n),c&&b>n&&(b-=2*W),!c&&n>b&&(n-=2*W)}if(Math.abs(n-b)>t){var C=n,p=u,F=y;n=b+t*(c&&n>b?1:-1);var D=P(u=m+r*Math.cos(n),y=S+f*Math.sin(n),r,f,a,0,c,p,F,[n,C,m,S])}var N=Math.tan((n-b)/4),k=4/3*r*N,O=4/3*f*N,B=[2*x-(x+k*Math.sin(b)),2*e-(e-O*Math.cos(b)),u+k*Math.sin(n),y-O*Math.cos(n),u,y];if(v)return B;D&&(B=B.concat(D));for(var z=0;z<B.length;){var U=E(B[z],B[z+1],a);B[z++]=U.x,B[z++]=U.y}return B}function E(x,e,r){return{x:x*Math.cos(r)-e*Math.sin(r),y:x*Math.sin(r)+e*Math.cos(r)}}function l(x){return x*(W/180)}tt.exports=function A(x){for(var e,r=[],f=0,a=0,s=0,c=0,u=null,y=null,v=0,w=0,d=0,o=x.length;d<o;d++){var h=x[d],M=h[0];switch(M){case"M":s=h[1],c=h[2];break;case"A":(h=P(v,w,h[1],h[2],l(h[3]),h[4],h[5],h[6],h[7])).unshift("C"),h.length>7&&(r.push(h.splice(0,7)),h.unshift("C"));break;case"S":var T=v,L=w;("C"==e||"S"==e)&&(T+=T-f,L+=L-a),h=["C",T,L,h[1],h[2],h[3],h[4]];break;case"T":"Q"==e||"T"==e?(u=2*v-u,y=2*w-y):(u=v,y=w),h=i(v,w,u,y,h[1],h[2]);break;case"Q":u=h[1],y=h[2],h=i(v,w,h[1],h[2],h[3],h[4]);break;case"L":h=g(v,w,h[1],h[2]);break;case"H":h=g(v,w,h[1],w);break;case"V":h=g(v,w,v,h[1]);break;case"Z":h=g(v,w,s,c)}e=M,v=h[h.length-2],w=h[h.length-1],h.length>4?(f=h[h.length-4],a=h[h.length-3]):(f=v,a=w),r.push(h)}return r}},56131:function(tt){"use strict";var W=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;function g(P){if(null==P)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(P)}tt.exports=function i(){try{if(!Object.assign)return!1;var P=new String("abc");if(P[5]="de","5"===Object.getOwnPropertyNames(P)[0])return!1;for(var E={},l=0;l<10;l++)E["_"+String.fromCharCode(l)]=l;if("0123456789"!==Object.getOwnPropertyNames(E).map(function(r){return E[r]}).join(""))return!1;var e={};return"abcdefghijklmnopqrst".split("").forEach(function(r){e[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},e)).join("")}catch(r){return!1}}()?Object.assign:function(P,E){for(var l,e,x=g(P),r=1;r<arguments.length;r++){for(var f in l=Object(arguments[r]))t.call(l,f)&&(x[f]=l[f]);if(W){e=W(l);for(var a=0;a<e.length;a++)A.call(l,e[a])&&(x[e[a]]=l[e[a]])}}return x}},65848:function(tt){"use strict";var W=function(t){return t!=t};tt.exports=function(A,g){return 0===A&&0===g?1/A==1/g:!!(A===g||W(A)&&W(g))}},64003:function(tt,W,t){"use strict";var A=t(17045),g=t(68222),i=t(65848),P=t(27015),E=t(55572),l=g(P(),Object);A(l,{getPolyfill:P,implementation:i,shim:E}),tt.exports=l},27015:function(tt,W,t){"use strict";var A=t(65848);tt.exports=function(){return"function"==typeof Object.is?Object.is:A}},55572:function(tt,W,t){"use strict";var A=t(27015),g=t(17045);tt.exports=function(){var P=A();return g(Object,{is:P},{is:function(){return Object.is!==P}}),P}},99019:function(tt,W,t){"use strict";var A;if(!Object.keys){var g=Object.prototype.hasOwnProperty,i=Object.prototype.toString,P=t(64178),E=Object.prototype.propertyIsEnumerable,l=!E.call({toString:null},"toString"),x=E.call(function(){},"prototype"),e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(c){var u=c.constructor;return u&&u.prototype===c},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},a=function(){if("undefined"==typeof window)return!1;for(var c in window)try{if(!f["$"+c]&&g.call(window,c)&&null!==window[c]&&"object"==typeof window[c])try{r(window[c])}catch(u){return!0}}catch(u){return!0}return!1}();A=function(u){var y=null!==u&&"object"==typeof u,v="[object Function]"===i.call(u),w=P(u),d=y&&"[object String]"===i.call(u),o=[];if(!y&&!v&&!w)throw new TypeError("Object.keys called on a non-object");var h=x&&v;if(d&&u.length>0&&!g.call(u,0))for(var M=0;M<u.length;++M)o.push(String(M));if(w&&u.length>0)for(var T=0;T<u.length;++T)o.push(String(T));else for(var L in u)(!h||"prototype"!==L)&&g.call(u,L)&&o.push(String(L));if(l)for(var m=function(c){if("undefined"==typeof window||!a)return r(c);try{return r(c)}catch(u){return!1}}(u),S=0;S<e.length;++S)(!m||"constructor"!==e[S])&&g.call(u,e[S])&&o.push(e[S]);return o}}tt.exports=A},8709:function(tt,W,t){"use strict";var A=Array.prototype.slice,g=t(64178),i=Object.keys,P=i?function(x){return i(x)}:t(99019),E=Object.keys;P.shim=function(){if(Object.keys){var x=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);x||(Object.keys=function(r){return g(r)?E(A.call(r)):E(r)})}else Object.keys=P;return Object.keys||P},tt.exports=P},64178:function(tt){"use strict";var W=Object.prototype.toString;tt.exports=function(A){var g=W.call(A),i="[object Arguments]"===g;return i||(i="[object Array]"!==g&&null!==A&&"object"==typeof A&&"number"==typeof A.length&&A.length>=0&&"[object Function]"===W.call(A.callee)),i}},88641:function(tt){"use strict";function W(g,i){if("string"!=typeof g)return[g];var P=[g];"string"==typeof i||Array.isArray(i)?i={brackets:i}:i||(i={});var E=i.brackets?Array.isArray(i.brackets)?i.brackets:[i.brackets]:["{}","[]","()"],l=i.escape||"___",x=!!i.flat;E.forEach(function(f){var a=new RegExp(["\\",f[0],"[^\\",f[0],"\\",f[1],"]*\\",f[1]].join("")),s=[];function c(u,y,v){var w=P.push(u.slice(f[0].length,-f[1].length))-1;return s.push(w),l+w+l}P.forEach(function(u,y){for(var v,w=0;u!=v;)if(v=u,u=u.replace(a,c),w++>1e4)throw Error("References have circular dependency. Please, check them.");P[y]=u}),s=s.reverse(),P=P.map(function(u){return s.forEach(function(y){u=u.replace(new RegExp("(\\"+l+y+"\\"+l+")","g"),f[0]+"$1"+f[1])}),u})});var e=new RegExp("\\"+l+"([0-9]+)\\"+l);return x?P:function r(f,a,s){for(var u,c=[],y=0;u=e.exec(f);){if(y++>1e4)throw Error("Circular references in parenthesis");c.push(f.slice(0,u.index)),c.push(r(a[u[1]],a)),f=f.slice(u.index+u[0].length)}return c.push(f),c}(P[0],P)}function t(g,i){if(i&&i.flat){var l,P=i&&i.escape||"___",E=g[0];if(!E)return"";for(var x=new RegExp("\\"+P+"([0-9]+)\\"+P),e=0;E!=l;){if(e++>1e4)throw Error("Circular references in "+g);l=E,E=E.replace(x,r)}return E}return g.reduce(function f(a,s){return Array.isArray(s)&&(s=s.reduce(f,"")),a+s},"");function r(f,a){if(null==g[a])throw Error("Reference "+a+"is undefined");return g[a]}}function A(g,i){return Array.isArray(g)?t(g,i):W(g,i)}A.parse=W,A.stringify=t,tt.exports=A},18863:function(tt,W,t){"use strict";var A=t(71299);tt.exports=function g(i){var P;return arguments.length>1&&(i=arguments),"string"==typeof i?i=i.split(/\s/).map(parseFloat):"number"==typeof i&&(i=[i]),i.length&&"number"==typeof i[0]?P=1===i.length?{width:i[0],height:i[0],x:0,y:0}:2===i.length?{width:i[0],height:i[1],x:0,y:0}:{x:i[0],y:i[1],width:i[2]-i[0]||0,height:i[3]-i[1]||0}:i&&((P={x:(i=A(i,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:i.top||0}).width=null==i.width?i.right?i.right-P.x:0:i.width,P.height=null==i.height?i.bottom?i.bottom-P.y:0:i.height),P}},95616:function(tt){tt.exports=function A(P){var E=[];return P.replace(t,function(l,x,e){var r=x.toLowerCase();for(e=function i(P){var E=P.match(g);return E?E.map(Number):[]}(e),"m"==r&&e.length>2&&(E.push([x].concat(e.splice(0,2))),r="l",x="m"==x?"l":"L");;){if(e.length==W[r])return e.unshift(x),E.push(e);if(e.length<W[r])throw new Error("malformed path data");E.push([x].concat(e.splice(0,W[r])))}}),E};var W={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var g=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},25677:function(tt){tt.exports=function(t,A){A||(A=[0,""]),t=String(t);var g=parseFloat(t,10);return A[0]=g,A[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",A}},9748:function(tt,W,t){var A=t(90386);(function(){var g,i,P,E,l,x;"undefined"!=typeof performance&&null!==performance&&performance.now?tt.exports=function(){return performance.now()}:null!=A&&A.hrtime?(tt.exports=function(){return(g()-l)/1e6},i=A.hrtime,E=(g=function(){var e;return 1e9*(e=i())[0]+e[1]})(),x=1e9*A.uptime(),l=E-x):Date.now?(tt.exports=function(){return Date.now()-P},P=Date.now()):(tt.exports=function(){return(new Date).getTime()-P},P=(new Date).getTime())}).call(this)},71299:function(tt){"use strict";tt.exports=function(g,i,P){var l,x,E={};if("string"==typeof i&&(i=t(i)),Array.isArray(i)){var e={};for(x=0;x<i.length;x++)e[i[x]]=!0;i=e}for(l in i)i[l]=t(i[l]);var r={};for(l in i){var f=i[l];if(Array.isArray(f))for(x=0;x<f.length;x++){var a=f[x];if(P&&(r[a]=!0),a in g){if(E[l]=g[a],P)for(var s=x;s<f.length;s++)r[f[s]]=!0;break}}else l in g&&(i[l]&&(E[l]=g[l]),P&&(r[l]=!0))}if(P)for(l in g)r[l]||(E[l]=g[l]);return E};var W={};function t(A){return W[A]?W[A]:("string"==typeof A&&(A=W[A]=A.split(/\s*,\s*|\s+/)),A)}},38258:function(tt){tt.exports=function(t,A,g,i){var P=t[0],E=t[1],l=!1;void 0===g&&(g=0),void 0===i&&(i=A.length);for(var x=i-g,e=0,r=x-1;e<x;r=e++){var f=A[e+g][0],a=A[e+g][1],c=A[r+g][1];a>E!=c>E&&P<(A[r+g][0]-f)*(E-a)/(c-a)+f&&(l=!l)}return l}},52142:function(tt,W,t){var r,A=t(69444),g=t(29023),i=t(87263),P=t(11328),E=t(55968),l=t(10670),x=!1,e=g();function f(a,s,c){var u=r.segments(a),y=r.segments(s),w=c(r.combine(u,y));return r.polygon(w)}r={buildLog:function(a){return!0===a?x=A():!1===a&&(x=!1),!1!==x&&x.list},epsilon:function(a){return e.epsilon(a)},segments:function(a){var s=i(!0,e,x);return a.regions.forEach(s.addRegion),{segments:s.calculate(a.inverted),inverted:a.inverted}},combine:function(a,s){return{combined:i(!1,e,x).calculate(a.segments,a.inverted,s.segments,s.inverted),inverted1:a.inverted,inverted2:s.inverted}},selectUnion:function(a){return{segments:E.union(a.combined,x),inverted:a.inverted1||a.inverted2}},selectIntersect:function(a){return{segments:E.intersect(a.combined,x),inverted:a.inverted1&&a.inverted2}},selectDifference:function(a){return{segments:E.difference(a.combined,x),inverted:a.inverted1&&!a.inverted2}},selectDifferenceRev:function(a){return{segments:E.differenceRev(a.combined,x),inverted:!a.inverted1&&a.inverted2}},selectXor:function(a){return{segments:E.xor(a.combined,x),inverted:a.inverted1!==a.inverted2}},polygon:function(a){return{regions:P(a.segments,e,x),inverted:a.inverted}},polygonFromGeoJSON:function(a){return l.toPolygon(r,a)},polygonToGeoJSON:function(a){return l.fromPolygon(r,e,a)},union:function(a,s){return f(a,s,r.selectUnion)},intersect:function(a,s){return f(a,s,r.selectIntersect)},difference:function(a,s){return f(a,s,r.selectDifference)},differenceRev:function(a,s){return f(a,s,r.selectDifferenceRev)},xor:function(a,s){return f(a,s,r.selectXor)}},"object"==typeof window&&(window.PolyBool=r),tt.exports=r},69444:function(tt){tt.exports=function W(){var t,A=0,g=!1;function i(P,E){return t.list.push({type:P,data:E?JSON.parse(JSON.stringify(E)):void 0}),t}return t={list:[],segmentId:function(){return A++},checkIntersection:function(P,E){return i("check",{seg1:P,seg2:E})},segmentChop:function(P,E){return i("div_seg",{seg:P,pt:E}),i("chop",{seg:P,pt:E})},statusRemove:function(P){return i("pop_seg",{seg:P})},segmentUpdate:function(P){return i("seg_update",{seg:P})},segmentNew:function(P,E){return i("new_seg",{seg:P,primary:E})},segmentRemove:function(P){return i("rem_seg",{seg:P})},tempStatus:function(P,E,l){return i("temp_status",{seg:P,above:E,below:l})},rewind:function(P){return i("rewind",{seg:P})},status:function(P,E,l){return i("status",{seg:P,above:E,below:l})},vert:function(P){return P===g?t:(g=P,i("vert",{x:P}))},log:function(P){return"string"!=typeof P&&(P=JSON.stringify(P,!1,"  ")),i("log",{txt:P})},reset:function(){return i("reset")},selected:function(P){return i("selected",{segs:P})},chainStart:function(P){return i("chain_start",{seg:P})},chainRemoveHead:function(P,E){return i("chain_rem_head",{index:P,pt:E})},chainRemoveTail:function(P,E){return i("chain_rem_tail",{index:P,pt:E})},chainNew:function(P,E){return i("chain_new",{pt1:P,pt2:E})},chainMatch:function(P){return i("chain_match",{index:P})},chainClose:function(P){return i("chain_close",{index:P})},chainAddHead:function(P,E){return i("chain_add_head",{index:P,pt:E})},chainAddTail:function(P,E){return i("chain_add_tail",{index:P,pt:E})},chainConnect:function(P,E){return i("chain_con",{index1:P,index2:E})},chainReverse:function(P){return i("chain_rev",{index:P})},chainJoin:function(P,E){return i("chain_join",{index1:P,index2:E})},done:function(){return i("done")}}}},29023:function(tt){tt.exports=function W(t){"number"!=typeof t&&(t=1e-10);var A={epsilon:function(g){return"number"==typeof g&&(t=g),t},pointAboveOrOnLine:function(g,i,P){var E=i[0],l=i[1];return(P[0]-E)*(g[1]-l)-(P[1]-l)*(g[0]-E)>=-t},pointBetween:function(g,i,P){var l=P[0]-i[0],e=P[1]-i[1],r=(g[0]-i[0])*l+(g[1]-i[1])*e;return!(r<t||r-(l*l+e*e)>-t)},pointsSameX:function(g,i){return Math.abs(g[0]-i[0])<t},pointsSameY:function(g,i){return Math.abs(g[1]-i[1])<t},pointsSame:function(g,i){return A.pointsSameX(g,i)&&A.pointsSameY(g,i)},pointsCompare:function(g,i){return A.pointsSameX(g,i)?A.pointsSameY(g,i)?0:g[1]<i[1]?-1:1:g[0]<i[0]?-1:1},pointsCollinear:function(g,i,P){return Math.abs((g[0]-i[0])*(i[1]-P[1])-(i[0]-P[0])*(g[1]-i[1]))<t},linesIntersect:function(g,i,P,E){var l=i[0]-g[0],x=i[1]-g[1],e=E[0]-P[0],r=E[1]-P[1],f=l*r-x*e;if(Math.abs(f)<t)return!1;var a=g[0]-P[0],s=g[1]-P[1],c=(e*s-r*a)/f,u=(l*s-x*a)/f,y={alongA:0,alongB:0,pt:[g[0]+c*l,g[1]+c*x]};return y.alongA=c<=-t?-2:c<t?-1:c-1<=-t?0:c-1<t?1:2,y.alongB=u<=-t?-2:u<t?-1:u-1<=-t?0:u-1<t?1:2,y},pointInsideRegion:function(g,i){for(var P=g[0],E=g[1],l=i[i.length-1][0],x=i[i.length-1][1],e=!1,r=0;r<i.length;r++){var f=i[r][0],a=i[r][1];a-E>t!=x-E>t&&(l-f)*(E-a)/(x-a)+f-P>t&&(e=!e),l=f,x=a}return e}};return A}},10670:function(tt){tt.exports={toPolygon:function(t,A){function g(E){if(E.length<=0)return t.segments({inverted:!1,regions:[]});function l(r){var f=r.slice(0,r.length-1);return t.segments({inverted:!1,regions:[f]})}for(var x=l(E[0]),e=1;e<E.length;e++)x=t.selectDifference(t.combine(x,l(E[e])));return x}if("Polygon"===A.type)return t.polygon(g(A.coordinates));if("MultiPolygon"===A.type){for(var i=t.segments({inverted:!1,regions:[]}),P=0;P<A.coordinates.length;P++)i=t.selectUnion(t.combine(i,g(A.coordinates[P])));return t.polygon(i)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,A,g){function i(c,u){return A.pointInsideRegion([.5*(c[0][0]+c[1][0]),.5*(c[0][1]+c[1][1])],u)}function P(c){return{region:c,children:[]}}g=t.polygon(t.segments(g));var E=P(null);function l(c,u){for(var y=0;y<c.children.length;y++)if(i(u,(v=c.children[y]).region))return void l(v,u);var w=P(u);for(y=0;y<c.children.length;y++){var v;i((v=c.children[y]).region,u)&&(w.children.push(v),c.children.splice(y,1),y--)}c.children.push(w)}for(var x=0;x<g.regions.length;x++){var e=g.regions[x];e.length<3||l(E,e)}function r(c,u){for(var y=0,v=c[c.length-1][0],w=c[c.length-1][1],d=[],o=0;o<c.length;o++){var h=c[o][0],M=c[o][1];d.push([h,M]),y+=M*v-h*w,v=h,w=M}return y<0!==u&&d.reverse(),d.push([d[0][0],d[0][1]]),d}var f=[];function a(c){var u=[r(c.region,!1)];f.push(u);for(var y=0;y<c.children.length;y++)u.push(s(c.children[y]))}function s(c){for(var u=0;u<c.children.length;u++)a(c.children[u]);return r(c.region,!0)}for(x=0;x<E.children.length;x++)a(E.children[x]);return f.length<=0?{type:"Polygon",coordinates:[]}:1==f.length?{type:"Polygon",coordinates:f[0]}:{type:"MultiPolygon",coordinates:f}}}},87263:function(tt,W,t){var A=t(26859);tt.exports=function g(i,P,E){function l(w,d){return{id:E?E.segmentId():-1,start:w,end:d,myFill:{above:null,below:null},otherFill:null}}function x(w,d,o){return{id:E?E.segmentId():-1,start:w,end:d,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var e=A.create();function f(w,d){e.insertBefore(w,function(o){return function r(w,d,o,h,M,T){var L=P.pointsCompare(d,M);return 0!==L?L:P.pointsSame(o,T)?0:w!==h?w?1:-1:P.pointAboveOrOnLine(o,h?M:T,h?T:M)?1:-1}(w.isStart,w.pt,d,o.isStart,o.pt,o.other.pt)<0})}function c(w,d){var o=function a(w,d){var o=A.node({isStart:!0,pt:w.start,seg:w,primary:d,other:null,status:null});return f(o,w.end),o}(w,d);return function s(w,d,o){var h=A.node({isStart:!1,pt:d.end,seg:d,primary:o,other:w,status:null});w.other=h,f(h,w.pt)}(o,w,d),o}function y(w,d){var o=x(d,w.seg.end,w.seg);return function u(w,d){E&&E.segmentChop(w.seg,d),w.other.remove(),w.seg.end=d,w.other.pt=d,f(w.other,w.pt)}(w,d),c(o,w.primary)}function v(w,d){var o=A.create();function M(O){return o.findTransition(function(B){return function h(O,B){var z=O.seg.start,U=O.seg.end,G=B.seg.start,Q=B.seg.end;return P.pointsCollinear(z,G,Q)?P.pointsCollinear(U,G,Q)||P.pointAboveOrOnLine(U,G,Q)?1:-1:P.pointAboveOrOnLine(z,G,Q)?1:-1}(O,B.ev)>0})}function T(O,B){var z=O.seg,U=B.seg,G=z.start,Q=z.end,rt=U.start,it=U.end;E&&E.checkIntersection(z,U);var ut=P.linesIntersect(G,Q,rt,it);if(!1===ut){if(!P.pointsCollinear(G,Q,rt)||P.pointsSame(G,it)||P.pointsSame(Q,rt))return!1;var J=P.pointsSame(G,rt),j=P.pointsSame(Q,it);if(J&&j)return B;var Z=!J&&P.pointBetween(G,rt,it),H=!j&&P.pointBetween(Q,rt,it);if(J)return H?y(B,Q):y(O,it),B;Z&&(j||(H?y(B,Q):y(O,it)),y(B,G))}else 0===ut.alongA&&(-1===ut.alongB?y(O,rt):0===ut.alongB?y(O,ut.pt):1===ut.alongB&&y(O,it)),0===ut.alongB&&(-1===ut.alongA?y(B,G):0===ut.alongA?y(B,ut.pt):1===ut.alongA&&y(B,Q));return!1}for(var L=[];!e.isEmpty();){var m=e.getHead();if(E&&E.vert(m.pt[0]),m.isStart){let O=function(){if(b){var B=T(m,b);if(B)return B}return!!n&&T(m,n)};E&&E.segmentNew(m.seg,m.primary);var S=M(m),b=S.before?S.before.ev:null,n=S.after?S.after.ev:null;E&&E.tempStatus(m.seg,!!b&&b.seg,!!n&&n.seg);var p,C=O();if(C&&(i?(p=null===m.seg.myFill.below||m.seg.myFill.above!==m.seg.myFill.below)&&(C.seg.myFill.above=!C.seg.myFill.above):C.seg.otherFill=m.seg.myFill,E&&E.segmentUpdate(C.seg),m.other.remove(),m.remove()),e.getHead()!==m){E&&E.rewind(m.seg);continue}if(i)p=null===m.seg.myFill.below||m.seg.myFill.above!==m.seg.myFill.below,m.seg.myFill.below=n?n.seg.myFill.above:w,m.seg.myFill.above=p?!m.seg.myFill.below:m.seg.myFill.below;else if(null===m.seg.otherFill){var F;m.seg.otherFill={above:F=n?m.primary===n.primary?n.seg.otherFill.above:n.seg.myFill.above:m.primary?d:w,below:F}}E&&E.status(m.seg,!!b&&b.seg,!!n&&n.seg),m.other.status=S.insert(A.node({ev:m}))}else{var D=m.status;if(null===D)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(D.prev)&&o.exists(D.next)&&T(D.prev.ev,D.next.ev),E&&E.statusRemove(D.ev.seg),D.remove(),!m.primary){var N=m.seg.myFill;m.seg.myFill=m.seg.otherFill,m.seg.otherFill=N}L.push(m.seg)}e.getHead().remove()}return E&&E.done(),L}return i?{addRegion:function(w){for(var d,o=w[w.length-1],h=0;h<w.length;h++){var M=P.pointsCompare(d=o,o=w[h]);0!==M&&c(l(M<0?d:o,M<0?o:d),!0)}},calculate:function(w){return v(w,!1)}}:{calculate:function(w,d,o,h){return w.forEach(function(M){c(x(M.start,M.end,M),!0)}),o.forEach(function(M){c(x(M.start,M.end,M),!1)}),v(d,h)}}}},26859:function(tt){tt.exports={create:function(){var t={root:{root:!0,next:null},exists:function(A){return!(null===A||A===t.root)},isEmpty:function(){return null===t.root.next},getHead:function(){return t.root.next},insertBefore:function(A,g){for(var i=t.root,P=t.root.next;null!==P;){if(g(P))return A.prev=P.prev,A.next=P,P.prev.next=A,void(P.prev=A);i=P,P=P.next}i.next=A,A.prev=i,A.next=null},findTransition:function(A){for(var g=t.root,i=t.root.next;null!==i&&!A(i);)g=i,i=i.next;return{before:g===t.root?null:g,after:i,insert:function(P){return P.prev=g,P.next=i,g.next=P,null!==i&&(i.prev=P),P}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}}},11328:function(tt){tt.exports=function W(t,A,g){var i=[],P=[];return t.forEach(function(E){var l=E.start,x=E.end;if(A.pointsSame(l,x))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{g&&g.chainStart(E);for(var e={index:0,matches_head:!1,matches_pt1:!1},r={index:0,matches_head:!1,matches_pt1:!1},f=e,s=0;s<i.length;s++){var u=(c=i[s])[0],v=c[c.length-1];if(A.pointsSame(u,l)){if(a(s,!0,!0))break}else if(A.pointsSame(u,x)){if(a(s,!0,!1))break}else if(A.pointsSame(v,l)){if(a(s,!1,!0))break}else if(A.pointsSame(v,x)&&a(s,!1,!1))break}if(f===e)return i.push([l,x]),void(g&&g.chainNew(l,x));if(f===r){g&&g.chainMatch(e.index);var d=e.index,o=e.matches_pt1?x:l,h=e.matches_head,c=i[d],M=h?c[0]:c[c.length-1],T=h?c[1]:c[c.length-2],L=h?c[c.length-1]:c[0],m=h?c[c.length-2]:c[1];return A.pointsCollinear(T,M,o)&&(h?(g&&g.chainRemoveHead(e.index,o),c.shift()):(g&&g.chainRemoveTail(e.index,o),c.pop()),M=T),A.pointsSame(L,o)?(i.splice(d,1),A.pointsCollinear(m,L,M)&&(h?(g&&g.chainRemoveTail(e.index,M),c.pop()):(g&&g.chainRemoveHead(e.index,M),c.shift())),g&&g.chainClose(e.index),void P.push(c)):void(h?(g&&g.chainAddHead(e.index,o),c.unshift(o)):(g&&g.chainAddTail(e.index,o),c.push(o)))}var n=e.index,C=r.index;g&&g.chainConnect(n,C);var p=i[n].length<i[C].length;e.matches_head?r.matches_head?p?(S(n),b(n,C)):(S(C),b(C,n)):b(C,n):r.matches_head?b(n,C):p?(S(n),b(C,n)):(S(C),b(n,C))}function a(F,D,N){return f.index=F,f.matches_head=D,f.matches_pt1=N,f===e?(f=r,!1):(f=null,!0)}function S(F){g&&g.chainReverse(F),i[F].reverse()}function b(F,D){var N=i[F],k=i[D],O=N[N.length-1],B=N[N.length-2],z=k[0],U=k[1];A.pointsCollinear(B,O,z)&&(g&&g.chainRemoveTail(F,O),N.pop(),O=B),A.pointsCollinear(O,z,U)&&(g&&g.chainRemoveHead(D,z),k.shift()),g&&g.chainJoin(F,D),i[F]=N.concat(k),i.splice(D,1)}}),P}},55968:function(tt){function W(A,g,i){var P=[];return A.forEach(function(E){var l=(E.myFill.above?8:0)+(E.myFill.below?4:0)+(E.otherFill&&E.otherFill.above?2:0)+(E.otherFill&&E.otherFill.below?1:0);0!==g[l]&&P.push({id:i?i.segmentId():-1,start:E.start,end:E.end,myFill:{above:1===g[l],below:2===g[l]},otherFill:null})}),i&&i.selected(P),P}tt.exports={union:function(A,g){return W(A,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],g)},intersect:function(A,g){return W(A,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],g)},difference:function(A,g){return W(A,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],g)},differenceRev:function(A,g){return W(A,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],g)},xor:function(A,g){return W(A,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],g)}}},14847:function(tt,W,t){"use strict";var g=t(21630).Transform,i=t(90715);function P(){g.call(this,{readableObjectMode:!0})}function E(l,x,e){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name=this.constructor.name,this.message=l,x&&(this.code=x),e&&(this.statusCode=e)}(P.prototype=Object.create(g.prototype)).constructor=P,i(P.prototype),W.OF=function(l,x,e){for(var r=x,f=0;f<e.length;)if(l[r++]!==e[f++])return!1;return!0},W.eG=function(l,x){var e=[],r=0;if(x&&"hex"===x)for(;r<l.length;)e.push(parseInt(l.slice(r,r+2),16)),r+=2;else for(;r<l.length;r++)e.push(255&l.charCodeAt(r));return e},W.mP=function(l,x){return l[x]|l[x+1]<<8},W.n8=function(l,x){return l[x+1]|l[x]<<8},W.nm=function(l,x){return l[x]|l[x+1]<<8|l[x+2]<<16|16777216*l[x+3]},W.Ag=function(l,x){return l[x+3]|l[x+2]<<8|l[x+1]<<16|16777216*l[x]},(E.prototype=Object.create(Error.prototype)).constructor=E},71371:function(tt){"use strict";function W(g,i){var P=new Error(g);return P.code=i,P}function t(g){try{return decodeURIComponent(escape(g))}catch(i){return g}}function A(g,i,P){this.input=g.subarray(i,P),this.start=i;var E=String.fromCharCode.apply(null,this.input.subarray(0,4));if("II*\0"!==E&&"MM\0*"!==E)throw W("invalid TIFF signature","EBADDATA");this.big_endian="M"===E[0]}A.prototype.each=function(g){this.aborted=!1;var i=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:i}];this.ifds_to_read.length>0&&!this.aborted;){var P=this.ifds_to_read.shift();!P.offset||this.scan_ifd(P.id,P.offset,g)}},A.prototype.read_uint16=function(g){var i=this.input;if(g+2>i.length)throw W("unexpected EOF","EBADDATA");return this.big_endian?256*i[g]+i[g+1]:i[g]+256*i[g+1]},A.prototype.read_uint32=function(g){var i=this.input;if(g+4>i.length)throw W("unexpected EOF","EBADDATA");return this.big_endian?16777216*i[g]+65536*i[g+1]+256*i[g+2]+i[g+3]:i[g]+256*i[g+1]+65536*i[g+2]+16777216*i[g+3]},A.prototype.is_subifd_link=function(g,i){return 0===g&&34665===i||0===g&&34853===i||34665===g&&40965===i},A.prototype.exif_format_length=function(g){switch(g){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},A.prototype.exif_format_read=function(g,i){var P;switch(g){case 1:case 2:return this.input[i];case 6:return(P=this.input[i])|33554430*(128&P);case 3:return this.read_uint16(i);case 8:return(P=this.read_uint16(i))|131070*(32768&P);case 4:return this.read_uint32(i);case 9:return 0|this.read_uint32(i);default:return null}},A.prototype.scan_ifd=function(g,i,P){var E=this.read_uint16(i);i+=2;for(var l=0;l<E;l++){var x=this.read_uint16(i),e=this.read_uint16(i+2),r=this.read_uint32(i+4),f=this.exif_format_length(e),a=r*f,s=a<=4?i+8:this.read_uint32(i+8),c=!1;if(s+a>this.input.length)throw W("unexpected EOF","EBADDATA");for(var u=[],y=s,v=0;v<r;v++,y+=f){var w=this.exif_format_read(e,y);if(null===w){u=null;break}u.push(w)}if(Array.isArray(u)&&2===e&&(u=t(String.fromCharCode.apply(null,u)))&&"\0"===u[u.length-1]&&(u=u.slice(0,-1)),this.is_subifd_link(g,x)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:x,offset:u[0]}),c=!0),!1===P({is_big_endian:this.big_endian,ifd:g,tag:x,format:e,count:r,entry_offset:i+this.start,data_length:a,data_offset:s+this.start,value:u,is_subifd_link:c}))return void(this.aborted=!0);i+=12}0===g&&this.ifds_to_read.push({id:1,offset:this.read_uint32(i)})},tt.exports.ExifParser=A,tt.exports.get_orientation=function(g){var i=0;try{return new A(g,0,g.length).each(function(P){if(0===P.ifd&&274===P.tag&&Array.isArray(P.value))return i=P.value[0],!1}),i}catch(P){return-1}}},76767:function(tt,W,t){"use strict";var A=t(14847).n8,g=t(14847).Ag;function i(a,s){if(a.length<4+s)return null;var c=g(a,s);return a.length<c+s||c<8?null:{boxtype:String.fromCharCode.apply(null,a.slice(s+4,s+8)),data:a.slice(s+8,s+c),end:s+c}}function P(a,s){for(var c=0;;){var u=i(a,c);if(!u)break;switch(u.boxtype){case"ispe":s.sizes.push({width:g(u.data,4),height:g(u.data,8)});break;case"irot":s.transforms.push({type:"irot",value:3&u.data[0]});break;case"imir":s.transforms.push({type:"imir",value:1&u.data[0]})}c=u.end}}function E(a,s,c){for(var u=0,y=0;y<c;y++)u=256*u+(a[s+y]||0);return u}function l(a,s){for(var c=a[4]>>4&15,u=15&a[4],y=a[5]>>4&15,v=A(a,6),w=8,d=0;d<v;d++){var o=A(a,w),h=A(a,w+=2),M=E(a,w+=2,y),T=A(a,w+=y);if(w+=2,0===h&&1===T){var L=E(a,w,c),m=E(a,w+c,u);s.item_loc[o]={length:m,offset:L+M}}w+=T*(c+u)}}function x(a,s){for(var c=A(a,4),u=6,y=0;y<c;y++){var v=i(a,u);if(!v)break;if("infe"===v.boxtype){for(var w=A(v.data,4),d="",o=8;o<v.data.length&&v.data[o];o++)d+=String.fromCharCode(v.data[o]);s.item_inf[d]=w}u=v.end}}function e(a,s){for(var c=0;;){var u=i(a,c);if(!u)break;"ipco"===u.boxtype&&P(u.data,s),c=u.end}}tt.exports.unbox=i,tt.exports.readSizeFromMeta=function(a){var s={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function r(a,s){for(var c=4;;){var u=i(a,c);if(!u)break;"iprp"===u.boxtype&&e(u.data,s),"iloc"===u.boxtype&&l(u.data,s),"iinf"===u.boxtype&&x(u.data,s),c=u.end}}(a,s),s.sizes.length){var c=function f(a){var s=a.reduce(function(y,v){return y.width>v.width||y.width===v.width&&y.height>v.height?y:v}),c=a.reduce(function(y,v){return y.height>v.height||y.height===v.height&&y.width>v.width?y:v});return s.width>c.height||s.width===c.height&&s.height>c.width?s:c}(s.sizes),u=1;s.transforms.forEach(function(v){var w={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},d={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if("imir"===v.type&&(u=0===v.value?d[u]:w[u=w[u=d[u]]]),"irot"===v.type)for(var o=0;o<v.value;o++)u=w[u]});var y=null;return s.item_inf.Exif&&(y=s.item_loc[s.item_inf.Exif]),{width:c.width,height:c.height,orientation:s.transforms.length?u:null,variants:s.sizes,exif_location:y}}},tt.exports.getMimeType=function(a){var s=String.fromCharCode.apply(null,a.slice(0,4)),c={};c[s]=!0;for(var u=8;u<a.length;u+=4)c[String.fromCharCode.apply(null,a.slice(u,u+4))]=!0;if(c.mif1||c.msf1||c.miaf)return"avif"===s||"avis"===s||"avio"===s?{type:"avif",mime:"image/avif"}:"heic"===s||"heix"===s?{type:"heic",mime:"image/heic"}:"hevc"===s||"hevx"===s?{type:"heic",mime:"image/heic-sequence"}:c.avif||c.avis?{type:"avif",mime:"image/avif"}:c.heic||c.heix||c.hevc||c.hevx||c.heis?c.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(tt,W,t){"use strict";var A=t(14847).eG,g=t(14847).OF,i=t(14847).Ag,P=t(76767),E=t(71371),l=A("ftyp");tt.exports=function(x){if(g(x,4,l)){var e=P.unbox(x,0);if(e){var r=P.getMimeType(e.data);if(r){for(var f,a=e.end;;){var s=P.unbox(x,a);if(!s)break;if(a=s.end,"mdat"===s.boxtype)return;if("meta"===s.boxtype){f=s.data;break}}if(f){var c=P.readSizeFromMeta(f);if(c){var u={width:c.width,height:c.height,type:r.type,mime:r.mime,wUnits:"px",hUnits:"px"};if(c.variants.length>1&&(u.variants=c.variants),c.orientation&&(u.orientation=c.orientation),c.exif_location&&c.exif_location.offset+c.exif_location.length<=x.length){var y=i(x,c.exif_location.offset),v=x.slice(c.exif_location.offset+y+4,c.exif_location.offset+c.exif_location.length),w=E.get_orientation(v);w>0&&(u.orientation=w)}return u}}}}}}},2504:function(tt,W,t){"use strict";var A=t(14847).eG,g=t(14847).OF,i=t(14847).mP,P=A("BM");tt.exports=function(E){if(!(E.length<26)&&g(E,0,P))return{width:i(E,18),height:i(E,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(tt,W,t){"use strict";var A=t(14847).eG,g=t(14847).OF,i=t(14847).mP,P=A("GIF87a"),E=A("GIF89a");tt.exports=function(l){if(!(l.length<10)&&(g(l,0,P)||g(l,0,E)))return{width:i(l,6),height:i(l,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(tt,W,t){"use strict";var A=t(14847).mP;tt.exports=function(E){var l=A(E,0),x=A(E,2),e=A(E,4);if(0===l&&1===x&&e){for(var r=[],f={width:0,height:0},a=0;a<e;a++){var s=E[6+16*a]||256,c=E[6+16*a+1]||256,u={width:s,height:c};r.push(u),(s>f.width||c>f.height)&&(f=u)}return{width:f.width,height:f.height,variants:r,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(tt,W,t){"use strict";var A=t(14847).n8,g=t(14847).eG,i=t(14847).OF,P=t(71371),E=g("Exif\0\0");tt.exports=function(l){if(!(l.length<2)&&255===l[0]&&216===l[1]&&255===l[2])for(var x=2;;){for(;;){if(l.length-x<2)return;if(255===l[x++])break}for(var r,e=l[x++];255===e;)e=l[x++];if(208<=e&&e<=217||1===e)r=0;else{if(!(192<=e&&e<=254))return;if(l.length-x<2)return;r=A(l,x)-2,x+=2}if(217===e||218===e)return;var f;if(225===e&&r>=10&&i(l,x,E)&&(f=P.get_orientation(l.slice(x+6,x+r))),r>=5&&192<=e&&e<=207&&196!==e&&200!==e&&204!==e){if(l.length-x<r)return;var a={width:A(l,x+3),height:A(l,x+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return f>0&&(a.orientation=f),a}x+=r}}},6303:function(tt,W,t){"use strict";var A=t(14847).eG,g=t(14847).OF,i=t(14847).Ag,P=A("\x89PNG\r\n\x1a\n"),E=A("IHDR");tt.exports=function(l){if(!(l.length<24)&&g(l,0,P)&&g(l,12,E))return{width:i(l,16),height:i(l,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(tt,W,t){"use strict";var A=t(14847).eG,g=t(14847).OF,i=t(14847).Ag,P=A("8BPS\0\x01");tt.exports=function(E){if(!(E.length<22)&&g(E,0,P))return{width:i(E,18),height:i(E,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(tt){"use strict";function W(f){return 32===f||9===f||13===f||10===f}function t(f){return"number"==typeof f&&isFinite(f)&&f>0}var g=/<[-_.:a-zA-Z0-9][^>]*>/,i=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,P=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,E=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,l=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,x=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(f){return x.test(f)?f.match(x)[0]:"px"}tt.exports=function(f){if(function A(f){var a=0,s=f.length;for(239===f[0]&&187===f[1]&&191===f[2]&&(a=3);a<s&&W(f[a]);)a++;return a!==s&&60===f[a]}(f)){for(var a="",s=0;s<f.length;s++)a+=String.fromCharCode(f[s]);var c=(a.match(g)||[""])[0];if(i.test(c)){var u=function e(f){var a=f.match(P),s=f.match(E),c=f.match(l);return{width:a&&(a[1]||a[2]),height:s&&(s[1]||s[2]),viewbox:c&&(c[1]||c[2])}}(c),y=parseFloat(u.width),v=parseFloat(u.height);if(u.width&&u.height)return t(y)&&t(v)?{width:y,height:v,type:"svg",mime:"image/svg+xml",wUnits:r(u.width),hUnits:r(u.height)}:void 0;var w=(u.viewbox||"").split(" "),d={width:w[2],height:w[3]},o=parseFloat(d.width),h=parseFloat(d.height);if(t(o)&&t(h)&&r(d.width)===r(d.height)){var M=o/h;return u.width?t(y)?{width:y,height:y/M,type:"svg",mime:"image/svg+xml",wUnits:r(u.width),hUnits:r(u.width)}:void 0:u.height?t(v)?{width:v*M,height:v,type:"svg",mime:"image/svg+xml",wUnits:r(u.height),hUnits:r(u.height)}:void 0:{width:o,height:h,type:"svg",mime:"image/svg+xml",wUnits:r(d.width),hUnits:r(d.height)}}}}}},66278:function(tt,W,t){"use strict";var A=t(14847).eG,g=t(14847).OF,i=t(14847).mP,P=t(14847).n8,E=t(14847).nm,l=t(14847).Ag,x=A("II*\0"),e=A("MM\0*");function r(s,c,u){return u?P(s,c):i(s,c)}function f(s,c,u){return u?l(s,c):E(s,c)}function a(s,c,u){var y=r(s,c+2,u);return 1!==f(s,c+4,u)||3!==y&&4!==y?null:3===y?r(s,c+8,u):f(s,c+8,u)}tt.exports=function(s){if(!(s.length<8)&&(g(s,0,x)||g(s,0,e))){var c=77===s[0],u=f(s,4,c)-8;if(!(u<0)){var y=u+8;if(!(s.length-y<2)){var v=12*r(s,y+0,c);if(!(v<=0||(y+=2,s.length-y<v))){var w,d,o,h;for(w=0;w<v;w+=12)256===(h=r(s,y+w,c))?d=a(s,y+w,c):257===h&&(o=a(s,y+w,c));if(d&&o)return{width:d,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(tt,W,t){"use strict";var A=t(14847).eG,g=t(14847).OF,i=t(14847).mP,P=t(14847).nm,E=t(71371),l=A("RIFF"),x=A("WEBP");function e(a,s){if(157===a[s+3]&&1===a[s+4]&&42===a[s+5])return{width:16383&i(a,s+6),height:16383&i(a,s+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function r(a,s){if(47===a[s]){var c=P(a,s+1);return{width:1+(16383&c),height:1+(c>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function f(a,s){return{width:1+(a[s+6]<<16|a[s+5]<<8|a[s+4]),height:1+(a[s+9]<<s|a[s+8]<<8|a[s+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}tt.exports=function(a){if(!(a.length<16)&&(g(a,0,l)||g(a,8,x))){var s=12,c=null,u=0,y=P(a,4)+8;if(!(y>a.length)){for(;s+8<y;)if(0!==a[s]){var v=String.fromCharCode.apply(null,a.slice(s,s+4)),w=P(a,s+4);"VP8 "===v&&w>=10?c=c||e(a,s+8):"VP8L"===v&&w>=9?c=c||r(a,s+8):"VP8X"===v&&w>=10?c=c||f(a,s+8):"EXIF"===v&&(u=E.get_orientation(a.slice(s+8,s+8+w)),s=1/0),s+=8+w}else s++;if(c)return u>0&&(c.orientation=u),c}}}},91497:function(tt,W,t){"use strict";tt.exports={avif:t(24461),bmp:t(2504),gif:t(47342),ico:t(31355),jpeg:t(54261),png:t(6303),psd:t(38689),svg:t(6881),tiff:t(66278),webp:t(90784)}},33575:function(tt,W,t){"use strict";var A=t(91497);tt.exports=function(P){return function g(i){for(var P=Object.keys(A),E=0;E<P.length;E++){var l=A[P[E]](i);if(l)return l}return null}(P)},tt.exports.parsers=A},90386:function(tt){var t,A,W=tt.exports={};function g(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function P(u){if(t===setTimeout)return setTimeout(u,0);if((t===g||!t)&&setTimeout)return t=setTimeout,setTimeout(u,0);try{return t(u,0)}catch(y){try{return t.call(null,u,0)}catch(v){return t.call(this,u,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:g}catch(u){t=g}try{A="function"==typeof clearTimeout?clearTimeout:i}catch(u){A=i}}();var e,l=[],x=!1,r=-1;function f(){!x||!e||(x=!1,e.length?l=e.concat(l):r=-1,l.length&&a())}function a(){if(!x){var u=P(f);x=!0;for(var y=l.length;y;){for(e=l,l=[];++r<y;)e&&e[r].run();r=-1,y=l.length}e=null,x=!1,function E(u){if(A===clearTimeout)return clearTimeout(u);if((A===i||!A)&&clearTimeout)return A=clearTimeout,clearTimeout(u);try{return A(u)}catch(y){try{return A.call(null,u)}catch(v){return A.call(this,u)}}}(u)}}function s(u,y){this.fun=u,this.array=y}function c(){}W.nextTick=function(u){var y=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)y[v-1]=arguments[v];l.push(new s(u,y)),1===l.length&&!x&&P(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},W.title="browser",W.browser=!0,W.env={},W.argv=[],W.version="",W.versions={},W.on=c,W.addListener=c,W.once=c,W.off=c,W.removeListener=c,W.removeAllListeners=c,W.emit=c,W.prependListener=c,W.prependOnceListener=c,W.listeners=function(u){return[]},W.binding=function(u){throw new Error("process.binding is not supported")},W.cwd=function(){return"/"},W.chdir=function(u){throw new Error("process.chdir is not supported")},W.umask=function(){return 0}},5877:function(tt,W,t){for(var A=t(9748),g="undefined"==typeof window?t.g:window,i=["moz","webkit"],P="AnimationFrame",E=g["request"+P],l=g["cancel"+P]||g["cancelRequest"+P],x=0;!E&&x<i.length;x++)E=g[i[x]+"Request"+P],l=g[i[x]+"Cancel"+P]||g[i[x]+"CancelRequest"+P];if(!E||!l){var e=0,r=0,f=[];E=function(s){if(0===f.length){var c=A(),u=Math.max(0,16.666666666666668-(c-e));e=u+c,setTimeout(function(){var y=f.slice(0);f.length=0;for(var v=0;v<y.length;v++)if(!y[v].cancelled)try{y[v].callback(e)}catch(w){setTimeout(function(){throw w},0)}},Math.round(u))}return f.push({handle:++r,callback:s,cancelled:!1}),r},l=function(s){for(var c=0;c<f.length;c++)f[c].handle===s&&(f[c].cancelled=!0)}}tt.exports=function(s){return E.call(g,s)},tt.exports.cancel=function(){l.apply(g,arguments)},tt.exports.polyfill=function(s){s||(s=g),s.requestAnimationFrame=E,s.cancelAnimationFrame=l}},3593:function(tt,W,t){"use strict";var A=t(21527),g=t(25075),i=t(93447),P=t(71299),E=t(56131),l=t(30120),x=t(57060),e=x.float32,r=x.fract32;tt.exports=function a(s,c){if("function"==typeof s?(c||(c={}),c.regl=s):c=s,c.length&&(c.positions=c),!(s=c.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var y,v,w,d,o,h,u=s._gl,M={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},T=[];return d=s.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),v=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),w=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),h=s.buffer({usage:"static",type:"float",data:f}),b(c),y=s({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:s.prop("range"),lineWidth:s.prop("lineWidth"),capSize:s.prop("capSize"),opacity:s.prop("opacity"),scale:s.prop("scale"),translate:s.prop("translate"),scaleFract:s.prop("scaleFract"),translateFract:s.prop("translateFract"),viewport:function(C,p){return[p.viewport.x,p.viewport.y,C.viewportWidth,C.viewportHeight]}},attributes:{color:{buffer:d,offset:function(C,p){return 4*p.offset},divisor:1},position:{buffer:v,offset:function(C,p){return 8*p.offset},divisor:1},positionFract:{buffer:w,offset:function(C,p){return 8*p.offset},divisor:1},error:{buffer:o,offset:function(C,p){return 16*p.offset},divisor:1},direction:{buffer:h,stride:24,offset:0},lineOffset:{buffer:h,stride:24,offset:8},capOffset:{buffer:h,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:!1,instances:s.prop("count"),count:f.length}),E(L,{update:b,draw:m,destroy:n,regl:s,gl:u,canvas:u.canvas,groups:T}),L;function L(C){C?b(C):null===C&&n(),m()}function m(C){if("number"==typeof C)return S(C);C&&!Array.isArray(C)&&(C=[C]),s._refresh(),T.forEach(function(p,F){if(p){if(C&&(p.draw=!!C[F]),!p.draw)return void(p.draw=!0);S(F)}})}function S(C){"number"==typeof C&&(C=T[C]),null!=C&&(!(C&&C.count&&C.color&&C.opacity&&C.positions&&C.positions.length>1)||(C.scaleRatio=[C.scale[0]*C.viewport.width,C.scale[1]*C.viewport.height],y(C),C.after&&C.after(C)))}function b(C){if(C){null!=C.length?"number"==typeof C[0]&&(C=[{positions:C}]):Array.isArray(C)||(C=[C]);var p=0,F=0;if(L.groups=T=C.map(function(U,G){var Q=T[G];return U?("function"==typeof U?U={after:U}:"number"==typeof U[0]&&(U={positions:U}),U=P(U,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),Q||(T[G]=Q={id:G,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},U=E({},M,U)),i(Q,U,[{lineWidth:function(rt){return.5*+rt},capSize:function(rt){return.5*+rt},opacity:parseFloat,errors:function(rt){return rt=l(rt),F+=rt.length,rt},positions:function(rt,it){return rt=l(rt,"float64"),it.count=Math.floor(rt.length/2),it.bounds=A(rt,2),it.offset=p,p+=it.count,rt}},{color:function(rt,it){var ut=it.count;if(rt||(rt="transparent"),!Array.isArray(rt)||"number"==typeof rt[0]){var J=rt;rt=Array(ut);for(var j=0;j<ut;j++)rt[j]=J}if(rt.length<ut)throw Error("Not enough colors");for(var Z=new Uint8Array(4*ut),H=0;H<ut;H++){var X=g(rt[H],"uint8");Z.set(X,4*H)}return Z},range:function(rt,it,ut){return rt||(rt=it.bounds),it.scale=[1/(rt[2]-rt[0]),1/(rt[3]-rt[1])],it.translate=[-rt[0],-rt[1]],it.scaleFract=r(it.scale),it.translateFract=r(it.translate),rt},viewport:function(rt){var it;return Array.isArray(rt)?it={x:rt[0],y:rt[1],width:rt[2]-rt[0],height:rt[3]-rt[1]}:rt?((it={x:rt.x||rt.left||0,y:rt.y||rt.top||0}).width=rt.right?rt.right-it.x:rt.w||rt.width||0,it.height=rt.bottom?rt.bottom-it.y:rt.h||rt.height||0):it={x:0,y:0,width:u.drawingBufferWidth,height:u.drawingBufferHeight},it}}]),Q):Q}),p||F){var D=T.reduce(function(U,G,Q){return U+(G?G.count:0)},0),N=new Float64Array(2*D),k=new Uint8Array(4*D),O=new Float32Array(4*D);T.forEach(function(U,G){if(U){var Q=U.positions,it=U.offset,J=U.errors;!U.count||(k.set(U.color,4*it),O.set(J,4*it),N.set(Q,2*it))}});var B=e(N);v(B);var z=r(N,B);w(z),d(k),o(O)}}}function n(){v.destroy(),w.destroy(),d.destroy(),o.destroy(),h.destroy()}};var f=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},46075:function(tt,W,t){"use strict";var A=t(25075),g=t(21527),i=t(56131),P=t(56068),E=t(71299),l=t(30120),x=t(11474),e=t(54),r=t(57060),f=r.float32,a=r.fract32,s=t(83522),c=t(18863),u=t(6851);function y(v,w){if(!(this instanceof y))return new y(v,w);if("function"==typeof v?(w||(w={}),w.regl=v):w=v,w.length&&(w.positions=w),!(v=w.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=v._gl,this.regl=v,this.passes=[],this.shaders=y.shaders.has(v)?y.shaders.get(v):y.shaders.set(v,y.createShaders(v)).get(v),this.update(w)}tt.exports=y,y.dashMult=2,y.maxPatternLength=256,y.precisionThreshold=3e6,y.maxPoints=1e4,y.maxLines=2048,y.shaders=new s,y.createShaders=function(v){var h,w=v.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),d={primitive:"triangle strip",instances:v.prop("count"),count:4,offset:0,uniforms:{miterMode:function(T,L){return"round"===L.join?2:1},miterLimit:v.prop("miterLimit"),scale:v.prop("scale"),scaleFract:v.prop("scaleFract"),translateFract:v.prop("translateFract"),translate:v.prop("translate"),thickness:v.prop("thickness"),dashTexture:v.prop("dashTexture"),opacity:v.prop("opacity"),pixelRatio:v.context("pixelRatio"),id:v.prop("id"),dashLength:v.prop("dashLength"),viewport:function(T,L){return[L.viewport.x,L.viewport.y,T.viewportWidth,T.viewportHeight]},depth:v.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(T,L){return!L.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:v.prop("viewport")},viewport:v.prop("viewport")},o=v(i({vert:P(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:P(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aCoord:{buffer:v.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:v.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:v.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:v.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:v.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},d));try{h=v(i({cull:{enable:!0,face:"back"},vert:P(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:P(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aColor:{buffer:v.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:v.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:v.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:v.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:v.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:v.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},d))}catch(T){h=o}return{fill:v({primitive:"triangle",elements:function(T,L){return L.triangles},offset:0,vert:P(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:P(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:v.prop("scale"),color:v.prop("fill"),scaleFract:v.prop("scaleFract"),translateFract:v.prop("translateFract"),translate:v.prop("translate"),opacity:v.prop("opacity"),pixelRatio:v.context("pixelRatio"),id:v.prop("id"),viewport:function(T,L){return[L.viewport.x,L.viewport.y,T.viewportWidth,T.viewportHeight]}},attributes:{position:{buffer:v.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:v.prop("positionFractBuffer"),stride:8,offset:8}},blend:d.blend,depth:{enable:!1},scissor:d.scissor,stencil:d.stencil,viewport:d.viewport}),rect:o,miter:h}},y.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},y.prototype.render=function(){for(var v,w=[],d=arguments.length;d--;)w[d]=arguments[d];w.length&&(v=this).update.apply(v,w),this.draw()},y.prototype.draw=function(){for(var v=this,w=[],d=arguments.length;d--;)w[d]=arguments[d];return(w.length?w:this.passes).forEach(function(o,h){var M;if(o&&Array.isArray(o))return(M=v).draw.apply(M,o);"number"==typeof o&&(o=v.passes[o]),o&&o.count>1&&o.opacity&&(v.regl._refresh(),o.fill&&o.triangles&&o.triangles.length>2&&v.shaders.fill(o),o.thickness&&(o.scale[0]*o.viewport.width>y.precisionThreshold||o.scale[1]*o.viewport.height>y.precisionThreshold||"rect"===o.join||!o.join&&(o.thickness<=2||o.count>=y.maxPoints)?v.shaders.rect(o):v.shaders.miter(o)))}),this},y.prototype.update=function(v){var w=this;if(v){null!=v.length?"number"==typeof v[0]&&(v=[{positions:v}]):Array.isArray(v)||(v=[v]);var o=this.regl,h=this.gl;if(v.forEach(function(S,b){var n=w.passes[b];if(void 0!==S){if(null===S)return void(w.passes[b]=null);if("number"==typeof S[0]&&(S={positions:S}),S=E(S,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),n||(w.passes[b]=n={id:b,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:o.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:o.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:o.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:o.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},S=i({},y.defaults,S)),null!=S.thickness&&(n.thickness=parseFloat(S.thickness)),null!=S.opacity&&(n.opacity=parseFloat(S.opacity)),null!=S.miterLimit&&(n.miterLimit=parseFloat(S.miterLimit)),null!=S.overlay&&(n.overlay=!!S.overlay,b<y.maxLines&&(n.depth=2*(y.maxLines-1-b%y.maxLines)/y.maxLines-1)),null!=S.join&&(n.join=S.join),null!=S.hole&&(n.hole=S.hole),null!=S.fill&&(n.fill=S.fill?A(S.fill,"uint8"):null),null!=S.viewport&&(n.viewport=c(S.viewport)),n.viewport||(n.viewport=c([h.drawingBufferWidth,h.drawingBufferHeight])),null!=S.close&&(n.close=S.close),null===S.positions&&(S.positions=[]),S.positions){var C,p;if(S.positions.x&&S.positions.y){var F=S.positions.x,D=S.positions.y;p=n.count=Math.max(F.length,D.length),C=new Float64Array(2*p);for(var N=0;N<p;N++)C[2*N]=F[N],C[2*N+1]=D[N]}else C=l(S.positions,"float64"),p=n.count=Math.floor(C.length/2);var k=n.bounds=g(C,2);if(n.fill){for(var O=[],B={},z=0,U=0,G=0,Q=n.count;U<Q;U++){var rt=C[2*U],it=C[2*U+1];isNaN(rt)||isNaN(it)||null==rt||null==it?(rt=C[2*z],it=C[2*z+1],B[U]=z):z=U,O[G++]=rt,O[G++]=it}if(S.splitNull){n.count-1 in B||(B[n.count]=n.count-1);var ut=Object.keys(B).map(Number).sort(function(Rt,Ot){return Rt-Ot}),J=[],j=0,Z=null!=n.hole?n.hole[0]:null;if(null!=Z){var H=u(ut,function(Rt){return Rt>=Z});(ut=ut.slice(0,H)).push(Z)}for(var X=function(Rt){var Ot=O.slice(2*j,2*ut[Rt]).concat(Z?O.slice(2*Z):[]),It=(n.hole||[]).map(function(pt){return pt-Z+(ut[Rt]-j)}),gt=x(Ot,It);gt=gt.map(function(pt){return pt+j+(pt+j<ut[Rt]?0:Z-ut[Rt])}),J.push.apply(J,gt),j=ut[Rt]+1},at=0;at<ut.length;at++)X(at);for(var _=0,K=J.length;_<K;_++)null!=B[J[_]]&&(J[_]=B[J[_]]);n.triangles=J}else{for(var nt=x(O,n.hole||[]),et=0,st=nt.length;et<st;et++)null!=B[nt[et]]&&(nt[et]=B[nt[et]]);n.triangles=nt}}var dt=new Float64Array(C);e(dt,2,k);var Tt=new Float64Array(2*p+6);n.close?C[0]===C[2*p-2]&&C[1]===C[2*p-1]?(Tt[0]=dt[2*p-4],Tt[1]=dt[2*p-3]):(Tt[0]=dt[2*p-2],Tt[1]=dt[2*p-1]):(Tt[0]=dt[0],Tt[1]=dt[1]),Tt.set(dt,2),n.close?C[0]===C[2*p-2]&&C[1]===C[2*p-1]?(Tt[2*p+2]=dt[2],Tt[2*p+3]=dt[3],n.count-=1):(Tt[2*p+2]=dt[0],Tt[2*p+3]=dt[1],Tt[2*p+4]=dt[2],Tt[2*p+5]=dt[3]):(Tt[2*p+2]=dt[2*p-2],Tt[2*p+3]=dt[2*p-1],Tt[2*p+4]=dt[2*p-2],Tt[2*p+5]=dt[2*p-1]);var bt=f(Tt);n.positionBuffer(bt);var Dt=a(Tt,bt);n.positionFractBuffer(Dt)}if(S.range?n.range=S.range:n.range||(n.range=n.bounds),(S.range||S.positions)&&n.count){var Ft=n.bounds,St=n.range[2]-n.range[0],Ut=n.range[3]-n.range[1];n.scale=[(Ft[2]-Ft[0])/St,(Ft[3]-Ft[1])/Ut],n.translate=[-n.range[0]/St+Ft[0]/St||0,-n.range[1]/Ut+Ft[1]/Ut||0],n.scaleFract=a(n.scale),n.translateFract=a(n.translate)}if(S.dashes){var Pt,Gt=0;if(!S.dashes||S.dashes.length<2)Gt=1,Pt=new Uint8Array([255,255,255,255,255,255,255,255]);else{Gt=0;for(var Vt=0;Vt<S.dashes.length;++Vt)Gt+=S.dashes[Vt];Pt=new Uint8Array(Gt*y.dashMult);for(var te=0,_t=255,kt=0;kt<2;kt++)for(var zt=0;zt<S.dashes.length;++zt){for(var qt=0,ae=S.dashes[zt]*y.dashMult*.5;qt<ae;++qt)Pt[te++]=_t;_t^=255}}n.dashLength=Gt,n.dashTexture({channels:1,data:Pt,width:Pt.length,height:1,mag:"linear",min:"linear"},0,0)}if(S.color){var oe=n.count,pe=S.color;pe||(pe="transparent");var ye=new Uint8Array(4*oe+4);if(Array.isArray(pe)&&"number"!=typeof pe[0]){for(var Ct=0;Ct<oe;Ct++){var Et=A(pe[Ct],"uint8");ye.set(Et,4*Ct)}ye.set(A(pe[0],"uint8"),4*oe)}else for(var Fe=A(pe,"uint8"),Zt=0;Zt<oe+1;Zt++)ye.set(Fe,4*Zt);n.colorBuffer({usage:"dynamic",type:"uint8",data:ye})}}}),v.length<this.passes.length){for(var M=v.length;M<this.passes.length;M++){var T=this.passes[M];!T||(T.colorBuffer.destroy(),T.positionBuffer.destroy(),T.dashTexture.destroy())}this.passes.length=v.length}for(var L=[],m=0;m<this.passes.length;m++)null!==this.passes[m]&&L.push(this.passes[m]);return this.passes=L,this}},y.prototype.destroy=function(){return this.passes.forEach(function(v){v.colorBuffer.destroy(),v.positionBuffer.destroy(),v.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(tt,W,t){"use strict";function g(n,C){return function E(n){if(Array.isArray(n))return n}(n)||function A(n,C){var p=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=p){var F,D,N,k,O=[],B=!0,z=!1;try{if(N=(p=p.call(n)).next,0===C){if(Object(p)!==p)return;B=!1}else for(;!(B=(F=N.call(p)).done)&&(O.push(F.value),O.length!==C);B=!0);}catch(U){z=!0,D=U}finally{try{if(!B&&null!=p.return&&(k=p.return(),Object(k)!==k))return}finally{if(z)throw D}}return O}}(n,C)||x(n,C)||function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(n){return function P(n){if(Array.isArray(n))return e(n)}(n)||function l(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||x(n)||function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(n,C){if(n){if("string"==typeof n)return e(n,C);var p=Object.prototype.toString.call(n).slice(8,-1);if("Object"===p&&n.constructor&&(p=n.constructor.name),"Map"===p||"Set"===p)return Array.from(n);if("Arguments"===p||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return e(n,C)}}function e(n,C){(null==C||C>n.length)&&(C=n.length);for(var p=0,F=new Array(C);p<C;p++)F[p]=n[p];return F}var a=t(25075),s=t(21527),c=t(6475),u=t(88294),y=t(56131),v=t(56068),w=t(71299),d=t(93447),o=t(30120),h=t(62683),M=t(57060),T=t(18863),L=m;function m(n,C){var p=this;if(!(this instanceof m))return new m(n,C);"function"==typeof n?(C||(C={}),C.regl=n):(C=n,n=null),C&&C.length&&(C.positions=C);var D,F=(n=C.regl)._gl,N=[],U=255;this.tooManyColors=h,D=n.texture({data:new Uint8Array(4*U),width:U,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),y(this,{regl:n,gl:F,groups:[],markerCache:[null],markerTextures:[null],palette:N,paletteIds:{},paletteTexture:D,maxColors:U,maxSize:100,canvas:F.canvas}),this.update(C);var Q={uniforms:{constPointSize:!!C.constPointSize,opacity:n.prop("opacity"),paletteSize:function(J,j){return[p.tooManyColors?0:U,D.height]},pixelRatio:n.context("pixelRatio"),scale:n.prop("scale"),scaleFract:n.prop("scaleFract"),translate:n.prop("translate"),translateFract:n.prop("translateFract"),markerTexture:n.prop("markerTexture"),paletteTexture:D},attributes:{x:function(J,j){return j.xAttr||{buffer:j.positionBuffer,stride:8,offset:0}},y:function(J,j){return j.yAttr||{buffer:j.positionBuffer,stride:8,offset:4}},xFract:function(J,j){return j.xAttr?{constant:[0,0]}:{buffer:j.positionFractBuffer,stride:8,offset:0}},yFract:function(J,j){return j.yAttr?{constant:[0,0]}:{buffer:j.positionFractBuffer,stride:8,offset:4}},size:function(J,j){return j.size.length?{buffer:j.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*j.size/p.maxSize)]}},borderSize:function(J,j){return j.borderSize.length?{buffer:j.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*j.borderSize/p.maxSize)]}},colorId:function(J,j){return j.color.length?{buffer:j.colorBuffer,stride:p.tooManyColors?8:4,offset:0}:{constant:p.tooManyColors?N.slice(4*j.color,4*j.color+4):[j.color]}},borderColorId:function(J,j){return j.borderColor.length?{buffer:j.colorBuffer,stride:p.tooManyColors?8:4,offset:p.tooManyColors?4:2}:{constant:p.tooManyColors?N.slice(4*j.borderColor,4*j.borderColor+4):[j.borderColor]}},isActive:function(J,j){return!0===j.activation?{constant:[1]}:j.activation?j.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:n.prop("viewport")},viewport:n.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:n.prop("elements"),count:n.prop("count"),offset:n.prop("offset"),primitive:"points"},rt=y({},Q);rt.frag=v(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),rt.vert=v(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}"]),this.drawMarker=n(rt);var it=y({},Q);it.frag=v(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),it.vert=v(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),h&&(it.frag=it.frag.replace("smoothstep","smoothStep"),rt.frag=rt.frag.replace("smoothstep","smoothStep")),this.drawCircle=n(it)}m.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},m.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},m.prototype.draw=function(){for(var n=this,C=arguments.length,p=new Array(C),F=0;F<C;F++)p[F]=arguments[F];var D=this.groups;if(1===p.length&&Array.isArray(p[0])&&(null===p[0][0]||Array.isArray(p[0][0]))&&(p=p[0]),this.regl._refresh(),p.length)for(var N=0;N<p.length;N++)this.drawItem(N,p[N]);else D.forEach(function(k,O){n.drawItem(O)});return this},m.prototype.drawItem=function(n,C){var p=this.groups,F=p[n];if("number"==typeof C&&(n=C,F=p[C],C=null),F&&F.count&&F.opacity){F.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,F,C));for(var D=[],N=1;N<F.activation.length;N++)!F.activation[N]||!0!==F.activation[N]&&!F.activation[N].data.length||D.push.apply(D,i(this.getMarkerDrawOptions(N,F,C)));D.length&&this.drawMarker(D)}},m.prototype.getMarkerDrawOptions=function(n,C,p){var F=C.range,D=C.tree,N=C.viewport,k=C.activation,O=C.selectionBuffer,B=C.count;if(!D)return p?[y({},C,{markerTexture:this.markerTextures[n],activation:k[n],count:p.length,elements:p,offset:0})]:[y({},C,{markerTexture:this.markerTextures[n],activation:k[n],offset:0})];var U=[],G=D.range(F,{lod:!0,px:[(F[2]-F[0])/N.width,(F[3]-F[1])/N.height]});if(p){for(var rt=k[n].data,it=new Uint8Array(B),ut=0;ut<p.length;ut++){var J=p[ut];it[J]=rt?rt[J]:1}O.subdata(it)}for(var j=G.length;j--;){var Z=g(G[j],2),H=Z[0];U.push(y({},C,{markerTexture:this.markerTextures[n],activation:p?O:k[n],offset:H,count:Z[1]-H}))}return U},m.prototype.update=function(){for(var n=this,C=arguments.length,p=new Array(C),F=0;F<C;F++)p[F]=arguments[F];if(p.length){1===p.length&&Array.isArray(p[0])&&(p=p[0]);var D=this.groups,N=this.gl,k=this.regl,O=this.maxSize,B=this.maxColors,z=this.palette;this.groups=D=p.map(function(U,G){var Q=D[G];if(void 0===U)return Q;null===U?U={positions:null}:"function"==typeof U?U={ondraw:U}:"number"==typeof U[0]&&(U={positions:U}),null===(U=w(U,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(U.positions=[]),null!=U.tooManyColors&&(n.tooManyColors=U.tooManyColors),Q||(D[G]=Q={id:G,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:k.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:k.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},U=y({},m.defaults,U)),U.positions&&!("marker"in U)&&(U.marker=Q.marker,delete Q.marker),U.marker&&!("positions"in U)&&(U.positions=Q.positions,delete Q.positions);var rt=0,it=0;if(d(Q,U,[{snap:!0,size:function(wt,St){return null==wt&&(wt=m.defaults.size),rt+=wt&&wt.length?1:0,wt},borderSize:function(wt,St){return null==wt&&(wt=m.defaults.borderSize),rt+=wt&&wt.length?1:0,wt},opacity:parseFloat,color:function(wt,St){return null==wt&&(wt=m.defaults.color),wt=n.updateColor(wt),it++,wt},borderColor:function(wt,St){return null==wt&&(wt=m.defaults.borderColor),wt=n.updateColor(wt),it++,wt},bounds:function(wt,St,Ut){return"range"in Ut||(Ut.range=null),wt},positions:function(wt,St,Ut){var Gt=St.snap,Pt=St.positionBuffer,Vt=St.positionFractBuffer,te=St.selectionBuffer;if(wt.x||wt.y)return St.xAttr=wt.x.length?{buffer:k.buffer(wt.x),offset:0,stride:4,count:wt.x.length}:{buffer:wt.x.buffer,offset:4*wt.x.offset||0,stride:4*(wt.x.stride||1),count:wt.x.count},St.yAttr=wt.y.length?{buffer:k.buffer(wt.y),offset:0,stride:4,count:wt.y.length}:{buffer:wt.y.buffer,offset:4*wt.y.offset||0,stride:4*(wt.y.stride||1),count:wt.y.count},St.count=Math.max(St.xAttr.count,St.yAttr.count),wt;wt=o(wt,"float64");var _t=St.count=Math.floor(wt.length/2),kt=St.bounds=_t?s(wt,2):null;if(!Ut.range&&!St.range&&(delete St.range,Ut.range=kt),!Ut.marker&&!St.marker&&(delete St.marker,Ut.marker=null),Gt&&(!0===Gt||_t>Gt)?St.tree=u(wt,{bounds:kt}):Gt&&Gt.length&&(St.tree=Gt),St.tree){var zt={primitive:"points",usage:"static",data:St.tree,type:"uint32"};St.elements?St.elements(zt):St.elements=k.elements(zt)}var qt=M.float32(wt);return Pt({data:qt,usage:"dynamic"}),Vt({data:M.fract32(wt,qt),usage:"dynamic"}),te({data:new Uint8Array(_t),type:"uint8",usage:"stream"}),wt}},{marker:function(wt,St,Ut){var Gt=St.activation;if(Gt.forEach(function(ae){return ae&&ae.destroy&&ae.destroy()}),Gt.length=0,wt&&"number"!=typeof wt[0]){for(var Vt=[],te=0,_t=Math.min(wt.length,St.count);te<_t;te++){var kt=n.addMarker(wt[te]);Vt[kt]||(Vt[kt]=new Uint8Array(St.count)),Vt[kt][te]=1}for(var zt=0;zt<Vt.length;zt++)if(Vt[zt]){var qt={data:Vt[zt],type:"uint8",usage:"static"};Gt[zt]?Gt[zt](qt):Gt[zt]=k.buffer(qt),Gt[zt].data=Vt[zt]}}else Gt[n.addMarker(wt)]=!0;return wt},range:function(wt,St,Ut){var Gt=St.bounds;if(Gt)return wt||(wt=Gt),St.scale=[1/(wt[2]-wt[0]),1/(wt[3]-wt[1])],St.translate=[-wt[0],-wt[1]],St.scaleFract=M.fract(St.scale),St.translateFract=M.fract(St.translate),wt},viewport:function(wt){return T(wt||[N.drawingBufferWidth,N.drawingBufferHeight])}}]),rt){var J=Q.count,j=Q.size,Z=Q.borderSize,H=Q.sizeBuffer,X=new Uint8Array(2*J);if(j.length||Z.length)for(var at=0;at<J;at++)X[2*at]=Math.round(255*(null==j[at]?j:j[at])/O),X[2*at+1]=Math.round(255*(null==Z[at]?Z:Z[at])/O);H({data:X,usage:"dynamic"})}if(it){var dt,K=Q.count,nt=Q.color,et=Q.borderColor,st=Q.colorBuffer;if(n.tooManyColors){if(nt.length||et.length){dt=new Uint8Array(8*K);for(var Tt=0;Tt<K;Tt++){var bt=nt[Tt];dt[8*Tt]=z[4*bt],dt[8*Tt+1]=z[4*bt+1],dt[8*Tt+2]=z[4*bt+2],dt[8*Tt+3]=z[4*bt+3];var Dt=et[Tt];dt[8*Tt+4]=z[4*Dt],dt[8*Tt+5]=z[4*Dt+1],dt[8*Tt+6]=z[4*Dt+2],dt[8*Tt+7]=z[4*Dt+3]}}}else if(nt.length||et.length){dt=new Uint8Array(4*K+2);for(var Ft=0;Ft<K;Ft++)null!=nt[Ft]&&(dt[4*Ft]=nt[Ft]%B,dt[4*Ft+1]=Math.floor(nt[Ft]/B)),null!=et[Ft]&&(dt[4*Ft+2]=et[Ft]%B,dt[4*Ft+3]=Math.floor(et[Ft]/B))}st({data:dt||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return Q})}},m.prototype.addMarker=function(n){var N,C=this.markerTextures,p=this.regl,F=this.markerCache,D=null==n?0:F.indexOf(n);if(D>=0)return D;if(n instanceof Uint8Array||n instanceof Uint8ClampedArray)N=n;else{N=new Uint8Array(n.length);for(var k=0,O=n.length;k<O;k++)N[k]=255*n[k]}var B=Math.floor(Math.sqrt(N.length));return D=C.length,F.push(n),C.push(p.texture({channels:1,data:N,radius:B,mag:"linear",min:"linear"})),D},m.prototype.updateColor=function(n){var C=this.paletteIds,p=this.palette,F=this.maxColors;Array.isArray(n)||(n=[n]);var D=[];if("number"==typeof n[0]){var N=[];if(Array.isArray(n))for(var k=0;k<n.length;k+=4)N.push(n.slice(k,k+4));else for(var O=0;O<n.length;O+=4)N.push(n.subarray(O,O+4));n=N}for(var B=0;B<n.length;B++){var z=n[B];z=a(z,"uint8");var U=c(z,!1);if(null==C[U]){var G=p.length;C[U]=Math.floor(G/4),p[G]=z[0],p[G+1]=z[1],p[G+2]=z[2],p[G+3]=z[3]}D[B]=C[U]}return!this.tooManyColors&&p.length>4*F&&(this.tooManyColors=!0),this.updatePalette(p),1===D.length?D[0]:D},m.prototype.updatePalette=function(n){if(!this.tooManyColors){var C=this.maxColors,p=this.paletteTexture,F=Math.ceil(.25*n.length/C);if(F>1)for(var D=.25*(n=n.slice()).length%C;D<F*C;D++)n.push(0,0,0,0);p.height<F&&p.resize(C,F),p.subimage({width:Math.min(.25*n.length,C),height:F,data:n},0,0)}},m.prototype.destroy=function(){return this.groups.forEach(function(n){n.sizeBuffer.destroy(),n.positionBuffer.destroy(),n.positionFractBuffer.destroy(),n.colorBuffer.destroy(),n.activation.forEach(function(C){return C&&C.destroy&&C.destroy()}),n.selectionBuffer.destroy(),n.elements&&n.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(n){return n&&n.destroy&&n.destroy()}),this};var S=t(56131);tt.exports=function(C,p){var F=new L(C,p),D=F.render.bind(F);return S(D,{render:D,update:F.update.bind(F),draw:F.draw.bind(F),destroy:F.destroy.bind(F),regl:F.regl,gl:F.gl,canvas:F.gl.canvas,groups:F.groups,markers:F.markerCache,palette:F.palette}),D}},60487:function(tt,W,t){"use strict";var A=t(11870),g=t(71299),i=t(21527),P=t(5877),E=t(57471),l=t(18863),x=t(30120);function e(s,c){if(!(this instanceof e))return new e(s,c);this.traces=[],this.passes={},this.regl=s,this.scatter=A(s),this.canvas=this.scatter.canvas}function r(s,c,u){return(null!=s.id?s.id:s)<<16|(255&c)<<8|255&u}function f(s,c,u){var v,d,o,M,L=s[c],m=s[u];return L.length>2?(v=L[1],d=L[3]):L.length?(v=L[0],d=L[1]):(v=L.y,d=L.y+L.height),m.length>2?(o=m[0],M=m[2]):m.length?(o=m[0],M=m[1]):(o=m.x,M=m.x+m.width),[o,v,M,d]}function a(s){if("number"==typeof s)return[s,s,s,s];if(2===s.length)return[s[0],s[1],s[0],s[1]];var c=l(s);return[c.x,c.y,c.x+c.width,c.y+c.height]}tt.exports=e,e.prototype.render=function(){for(var c,s=this,u=[],y=arguments.length;y--;)u[y]=arguments[y];return u.length&&(c=this).update.apply(c,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=P(function(){s.draw(),s.dirty=!0,s.planned=null})):(this.draw(),this.dirty=!0,P(function(){s.dirty=!1})),this)},e.prototype.update=function(){for(var s,c=[],u=arguments.length;u--;)c[u]=arguments[u];if(c.length){for(var y=0;y<c.length;y++)this.updateItem(y,c[y]);this.traces=this.traces.filter(Boolean);for(var v=[],w=0,d=0;d<this.traces.length;d++){for(var o=this.traces[d],h=this.traces[d].passes,M=0;M<h.length;M++)v.push(this.passes[h[M]]);o.passOffset=w,w+=o.passes.length}return(s=this.scatter).update.apply(s,v),this}},e.prototype.updateItem=function(s,c){var y=this.regl;if(null===c)return this.traces[s]=null,this;if(!c)return this;var o,v=g(c,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),w=this.traces[s]||(this.traces[s]={id:s,buffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:l([y._gl.drawingBufferWidth,y._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=v.color&&(w.color=v.color),null!=v.size&&(w.size=v.size),null!=v.marker&&(w.marker=v.marker),null!=v.borderColor&&(w.borderColor=v.borderColor),null!=v.borderSize&&(w.borderSize=v.borderSize),null!=v.opacity&&(w.opacity=v.opacity),v.viewport&&(w.viewport=l(v.viewport)),null!=v.diagonal&&(w.diagonal=v.diagonal),null!=v.upper&&(w.upper=v.upper),null!=v.lower&&(w.lower=v.lower),v.data){w.buffer(x(v.data)),w.columns=v.data.length,w.count=v.data[0].length,w.bounds=[];for(var d=0;d<w.columns;d++)w.bounds[d]=i(v.data[d],1)}v.range&&(w.range=v.range,o=w.range&&"number"!=typeof w.range[0]),v.domain&&(w.domain=v.domain);var h=!1;null!=v.padding&&(Array.isArray(v.padding)&&v.padding.length===w.columns&&"number"==typeof v.padding[v.padding.length-1]?(w.padding=v.padding.map(a),h=!0):w.padding=a(v.padding));var M=w.columns,T=w.count,L=w.viewport.width,m=w.viewport.height,S=w.viewport.x,b=w.viewport.y,n=L/M,C=m/M;w.passes=[];for(var p=0;p<M;p++)for(var F=0;F<M;F++)if((w.diagonal||F!==p)&&(w.upper||!(p>F))&&(w.lower||!(p<F))){var D=r(w.id,p,F),N=this.passes[D]||(this.passes[D]={});if(v.data&&(N.positions=v.transpose?{x:{buffer:w.buffer,offset:F,count:T,stride:M},y:{buffer:w.buffer,offset:p,count:T,stride:M}}:{x:{buffer:w.buffer,offset:F*T,count:T},y:{buffer:w.buffer,offset:p*T,count:T}},N.bounds=f(w.bounds,p,F)),v.domain||v.viewport||v.data){var k=h?f(w.padding,p,F):w.padding;if(w.domain){var O=f(w.domain,p,F);N.viewport=[S+O[0]*L+k[0],b+O[1]*m+k[1],S+O[2]*L-k[2],b+O[3]*m-k[3]]}else N.viewport=[S+F*n+n*k[0],b+p*C+C*k[1],S+(F+1)*n-n*k[2],b+(p+1)*C-C*k[3]]}v.color&&(N.color=w.color),v.size&&(N.size=w.size),v.marker&&(N.marker=w.marker),v.borderSize&&(N.borderSize=w.borderSize),v.borderColor&&(N.borderColor=w.borderColor),v.opacity&&(N.opacity=w.opacity),v.range&&(N.range=o?f(w.range,p,F):w.range||N.bounds),w.passes.push(D)}return this},e.prototype.draw=function(){for(var s,c=[],u=arguments.length;u--;)c[u]=arguments[u];if(c.length){for(var y=[],v=0;v<c.length;v++)if("number"==typeof c[v]){var w=this.traces[c[v]],o=w.passOffset;y.push.apply(y,E(o,o+w.passes.length))}else if(c[v].length){var h=c[v],M=this.traces[v],T=M.passes,L=M.passOffset;T=T.map(function(m,S){y[L+S]=h})}(s=this.scatter).draw.apply(s,y)}else this.scatter.draw();return this},e.prototype.destroy=function(){return this.traces.forEach(function(s){s.buffer&&s.buffer.destroy&&s.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},98580:function(tt){var t;t=function(){function W(fe,Ve){this.id=st++,this.type=fe,this.data=Ve}function t(fe){if(0===fe.length)return[];var Ve=fe.charAt(0),He=fe.charAt(fe.length-1);if(1<fe.length&&Ve===He&&('"'===Ve||"'"===Ve))return['"'+fe.substr(1,fe.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Ve=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(fe))return t(fe.substr(0,Ve.index)).concat(t(Ve[1])).concat(t(fe.substr(Ve.index+Ve[0].length)));if(1===(Ve=fe.split(".")).length)return['"'+fe.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(fe=[],He=0;He<Ve.length;++He)fe=fe.concat(t(Ve[He]));return fe}function A(fe){return"["+t(fe).join("][")+"]"}function l(fe){return"string"==typeof fe?fe.split():fe}function x(fe){return"string"==typeof fe?document.querySelector(fe):fe}function e(fe){var He,wr,ar,ie,Ve=fe||{};fe={};var ne=[],ve=[],xe="undefined"==typeof window?1:window.devicePixelRatio,Te=!1,be={},Pe=function(Qe){},Be=function(){};if("string"==typeof Ve?He=document.querySelector(Ve):"object"==typeof Ve&&("string"==typeof Ve.nodeName&&"function"==typeof Ve.appendChild&&"function"==typeof Ve.getBoundingClientRect?He=Ve:"function"==typeof Ve.drawArrays||"function"==typeof Ve.drawElements?ar=(ie=Ve).canvas:("gl"in Ve?ie=Ve.gl:"canvas"in Ve?ar=x(Ve.canvas):"container"in Ve&&(wr=x(Ve.container)),"attributes"in Ve&&(fe=Ve.attributes),"extensions"in Ve&&(ne=l(Ve.extensions)),"optionalExtensions"in Ve&&(ve=l(Ve.optionalExtensions)),"onDone"in Ve&&(Pe=Ve.onDone),"profile"in Ve&&(Te=!!Ve.profile),"pixelRatio"in Ve&&(xe=+Ve.pixelRatio),"cachedCode"in Ve&&(be=Ve.cachedCode))),He&&("canvas"===He.nodeName.toLowerCase()?ar=He:wr=He),!ie){if(!ar){if(!(He=function P(fe,Ve,He){function wr(){var ne=window.innerWidth,ve=window.innerHeight;fe!==document.body&&(ne=(ve=ar.getBoundingClientRect()).right-ve.left,ve=ve.bottom-ve.top),ar.width=He*ne,ar.height=He*ve}var ie,ar=document.createElement("canvas");return et(ar.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),fe.appendChild(ar),fe===document.body&&(ar.style.position="absolute",et(fe.style,{margin:0,padding:0})),fe!==document.body&&"function"==typeof ResizeObserver?(ie=new ResizeObserver(function(){setTimeout(wr)})).observe(fe):window.addEventListener("resize",wr,!1),wr(),{canvas:ar,onDestroy:function(){ie?ie.disconnect():window.removeEventListener("resize",wr),fe.removeChild(ar)}}}(wr||document.body,0,xe)))return null;ar=He.canvas,Be=He.onDestroy}void 0===fe.premultipliedAlpha&&(fe.premultipliedAlpha=!0),ie=function E(fe,Ve){function He(wr){try{return fe.getContext(wr,Ve)}catch(ar){return null}}return He("webgl")||He("experimental-webgl")||He("webgl-experimental")}(ar,fe)}return ie?{gl:ie,canvas:ar,container:wr,extensions:ne,optionalExtensions:ve,pixelRatio:xe,profile:Te,cachedCode:be,onDone:Pe,onDestroy:Be}:(Be(),Pe("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function f(fe,Ve){for(var He=Array(fe),wr=0;wr<fe;++wr)He[wr]=Ve(wr);return He}function a(fe){var Ve,He;return Ve=(65535<fe)<<4,Ve|=He=(255<(fe>>>=Ve))<<3,(Ve|=He=(15<(fe>>>=He))<<2)|(He=(3<(fe>>>=He))<<1)|fe>>>He>>1}function s(){function fe(wr){t:{for(var ar=16;268435456>=ar;ar*=16)if(wr<=ar){wr=ar;break t}wr=0}return 0<(ar=He[a(wr)>>2]).length?ar.pop():new ArrayBuffer(wr)}function Ve(wr){He[a(wr.byteLength)>>2].push(wr)}var He=f(8,function(){return[]});return{alloc:fe,free:Ve,allocType:function(wr,ar){var ie=null;switch(wr){case 5120:ie=new Int8Array(fe(ar),0,ar);break;case 5121:ie=new Uint8Array(fe(ar),0,ar);break;case 5122:ie=new Int16Array(fe(2*ar),0,ar);break;case 5123:ie=new Uint16Array(fe(2*ar),0,ar);break;case 5124:ie=new Int32Array(fe(4*ar),0,ar);break;case 5125:ie=new Uint32Array(fe(4*ar),0,ar);break;case 5126:ie=new Float32Array(fe(4*ar),0,ar);break;default:return null}return ie.length!==ar?ie.subarray(0,ar):ie},freeType:function(wr){Ve(wr.buffer)}}}function c(fe){return!!fe&&"object"==typeof fe&&Array.isArray(fe.shape)&&Array.isArray(fe.stride)&&"number"==typeof fe.offset&&fe.shape.length===fe.stride.length&&(Array.isArray(fe.data)||Mt(fe.data))}function u(fe,Ve,He,wr,ar,ie){for(var ne=0;ne<Ve;++ne)for(var ve=fe[ne],xe=0;xe<He;++xe)for(var Te=ve[xe],be=0;be<wr;++be)ar[ie++]=Te[be]}function y(fe,Ve,He,wr,ar){for(var ie=1,ne=He+1;ne<Ve.length;++ne)ie*=Ve[ne];var ve=Ve[He];if(Ve.length-He==4){var xe=Ve[He+1],Te=Ve[He+2];for(Ve=Ve[He+3],ne=0;ne<ve;++ne)u(fe[ne],xe,Te,Ve,wr,ar),ar+=ie}else for(ne=0;ne<ve;++ne)y(fe[ne],Ve,He+1,wr,ar),ar+=ie}function v(fe){return 0|Ut[Object.prototype.toString.call(fe)]}function w(fe,Ve){for(var He=0;He<Ve.length;++He)fe[He]=Ve[He]}function d(fe,Ve,He,wr,ar,ie,ne){for(var ve=0,xe=0;xe<He;++xe)for(var Te=0;Te<wr;++Te)fe[ve++]=Ve[ar*xe+ie*Te+ne]}function M(fe){for(var Ve=Dt.allocType(5123,fe.length),He=0;He<fe.length;++He)if(isNaN(fe[He]))Ve[He]=65535;else if(fe[He]===1/0)Ve[He]=31744;else if(fe[He]===-1/0)Ve[He]=64512;else{zt[0]=fe[He];var wr=(ie=qt[0])>>>31<<15,ar=(ie<<1>>>24)-127,ie=ie>>13&1023;Ve[He]=-24>ar?wr:-14>ar?wr+(ie+1024>>-14-ar):15<ar?wr+31744:wr+(ar+15<<10)+ie}return Ve}function T(fe){return Array.isArray(fe)||Mt(fe)}function L(fe){return"[object "+fe+"]"}function m(fe){return Array.isArray(fe)&&(0===fe.length||"number"==typeof fe[0])}function S(fe){return!(!Array.isArray(fe)||0===fe.length||!T(fe[0]))}function b(fe){return Object.prototype.toString.call(fe)}function n(fe){if(!fe)return!1;var Ve=b(fe);return 0<=Ot.indexOf(Ve)||m(fe)||S(fe)||c(fe)}function C(fe,Ve){36193===fe.type?(fe.data=M(Ve),Dt.freeType(Ve)):fe.data=Ve}function p(fe,Ve,He,wr,ar,ie){if(fe=void 0!==gt[fe]?gt[fe]:pe[fe]*It[Ve],ie&&(fe*=6),ar){for(wr=0;1<=He;)wr+=fe*He*He,He/=2;return wr}return fe*He*wr}function N(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function B(fe,Ve,He,wr,ar,ie,ne){function ve(Te){var be;be=null===Ve.next?5121:Ve.next.colorAttachments[0].texture._texture.type;var Pe=0,Be=0,Qe=wr.framebufferWidth,Ke=wr.framebufferHeight,tr=null;return Mt(Te)?tr=Te:Te&&(Pe=0|Te.x,Be=0|Te.y,Qe=0|(Te.width||wr.framebufferWidth-Pe),Ke=0|(Te.height||wr.framebufferHeight-Be),tr=Te.data||null),He(),Te=Qe*Ke*4,tr||(5121===be?tr=new Uint8Array(Te):5126===be&&(tr=tr||new Float32Array(Te))),fe.pixelStorei(3333,4),fe.readPixels(Pe,Be,Qe,Ke,6408,be,tr),tr}return function(Te){return Te&&"framebuffer"in Te?function xe(Te){var be;return Ve.setFBO({framebuffer:Te.framebuffer},function(){be=ve(Te)}),be}(Te):ve(Te)}}function Q(fe,Ve){return fe>>>Ve|fe<<32-Ve}function rt(fe,Ve){var He=(65535&fe)+(65535&Ve);return(fe>>16)+(Ve>>16)+(He>>16)<<16|65535&He}function it(fe){return Array.prototype.slice.call(fe)}function ut(fe){return it(fe).join("")}function J(fe){function Ve(){var be=[],Pe=[];return et(function(){be.push.apply(be,it(arguments))},{def:function(){var Be="v"+ar++;return Pe.push(Be),0<arguments.length&&(be.push(Be,"="),be.push.apply(be,it(arguments)),be.push(";")),Be},toString:function(){return ut([0<Pe.length?"var "+Pe.join(",")+";":"",ut(be)])}})}function He(){function be(tr,vr){Be(tr,vr,"=",Pe.def(tr,vr),";")}var Pe=Ve(),Be=Ve(),Qe=Pe.toString,Ke=Be.toString;return et(function(){Pe.apply(Pe,it(arguments))},{def:Pe.def,entry:Pe,exit:Be,save:be,set:function(tr,vr,Ht){be(tr,vr),Pe(tr,vr,"=",Ht,";")},toString:function(){return Qe()+Ke()}})}var wr=fe&&fe.cache,ar=0,ie=[],ne=[],ve=[],xe=Ve(),Te={};return{global:xe,link:function(be,Pe){var Be=Pe&&Pe.stable;if(!Be)for(var Qe=0;Qe<ne.length;++Qe)if(ne[Qe]===be&&!ve[Qe])return ie[Qe];return Qe="g"+ar++,ie.push(Qe),ne.push(be),ve.push(Be),Qe},block:Ve,proc:function(be,Pe){function Be(){var vr="a"+Qe.length;return Qe.push(vr),vr}var Qe=[];Pe=Pe||0;for(var Ke=0;Ke<Pe;++Ke)Be();var tr=(Ke=He()).toString;return Te[be]=et(Ke,{arg:Be,toString:function(){return ut(["function(",Qe.join(),"){",tr(),"}"])}})},scope:He,cond:function(){var be=ut(arguments),Pe=He(),Be=He(),Qe=Pe.toString,Ke=Be.toString;return et(Pe,{then:function(){return Pe.apply(Pe,it(arguments)),this},else:function(){return Be.apply(Be,it(arguments)),this},toString:function(){var tr=Ke();return tr&&(tr="else{"+tr+"}"),ut(["if(",be,"){",Qe(),"}",tr])}})},compile:function(){var be=['"use strict";',xe,"return {"];Object.keys(Te).forEach(function(Qe){be.push('"',Qe,'":',Te[Qe].toString(),",")}),be.push("}");var Be,Pe=ut(be).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return wr&&(Be=function U(fe){for(var He,Ve="",wr=0;wr<fe.length;wr++)He=fe.charCodeAt(wr),Ve+="0123456789abcdef".charAt(He>>>4&15)+"0123456789abcdef".charAt(15&He);return Ve}(function z(fe){for(var Ve=Array(fe.length>>2),wr=0;wr<Ve.length;wr++)Ve[wr]=0;for(wr=0;wr<8*fe.length;wr+=8)Ve[wr>>5]|=(255&fe.charCodeAt(wr/8))<<24-wr%32;var ar,ie,ne,ve,xe,Te,be,Pe,Be,Qe,Ke,He=8*fe.length;for(fe=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],wr=Array(64),Ve[He>>5]|=128<<24-He%32,Ve[15+(He+64>>9<<4)]=He,Pe=0;Pe<Ve.length;Pe+=16){for(He=fe[0],ar=fe[1],ie=fe[2],ne=fe[3],ve=fe[4],xe=fe[5],Te=fe[6],be=fe[7],Be=0;64>Be;Be++){var tr;16>Be?wr[Be]=Ve[Be+Pe]:(Qe=Be,Ke=rt(Ke=Q(Ke=wr[Be-2],17)^Q(Ke,19)^Ke>>>10,wr[Be-7]),tr=Q(tr=wr[Be-15],7)^Q(tr,18)^tr>>>3,wr[Qe]=rt(rt(Ke,tr),wr[Be-16])),Qe=rt(rt(rt(rt(be,Qe=Q(Qe=ve,6)^Q(Qe,11)^Q(Qe,25)),ve&xe^~ve&Te),Qt[Be]),wr[Be]),Ke=rt(be=Q(be=He,2)^Q(be,13)^Q(be,22),He&ar^He&ie^ar&ie),be=Te,Te=xe,xe=ve,ve=rt(ne,Qe),ne=ie,ie=ar,ar=He,He=rt(Qe,Ke)}fe[0]=rt(He,fe[0]),fe[1]=rt(ar,fe[1]),fe[2]=rt(ie,fe[2]),fe[3]=rt(ne,fe[3]),fe[4]=rt(ve,fe[4]),fe[5]=rt(xe,fe[5]),fe[6]=rt(Te,fe[6]),fe[7]=rt(be,fe[7])}for(Ve="",wr=0;wr<32*fe.length;wr+=8)Ve+=String.fromCharCode(fe[wr>>5]>>>24-wr%32&255);return Ve}(function G(fe){for(var wr,ar,Ve="",He=-1;++He<fe.length;)wr=fe.charCodeAt(He),ar=He+1<fe.length?fe.charCodeAt(He+1):0,55296<=wr&&56319>=wr&&56320<=ar&&57343>=ar&&(wr=65536+((1023&wr)<<10)+(1023&ar),He++),127>=wr?Ve+=String.fromCharCode(wr):2047>=wr?Ve+=String.fromCharCode(192|wr>>>6&31,128|63&wr):65535>=wr?Ve+=String.fromCharCode(224|wr>>>12&15,128|wr>>>6&63,128|63&wr):2097151>=wr&&(Ve+=String.fromCharCode(240|wr>>>18&7,128|wr>>>12&63,128|wr>>>6&63,128|63&wr));return Ve}(Pe))),wr[Be])?wr[Be].apply(null,ne):(Pe=Function.apply(null,ie.concat(Pe)),wr&&(wr[Be]=Pe),Pe.apply(null,ne))}}}function j(fe){return Array.isArray(fe)||Mt(fe)||c(fe)}function Z(fe){return fe.sort(function(Ve,He){return"viewport"===Ve?-1:"viewport"===He?1:Ve<He?-1:1})}function H(fe,Ve,He,wr){this.thisDep=fe,this.contextDep=Ve,this.propDep=He,this.append=wr}function X(fe){return fe&&!(fe.thisDep||fe.contextDep||fe.propDep)}function at(fe){return new H(!1,!1,!1,fe)}function _(fe,Ve){var He=fe.type;if(0===He)return new H(!0,1<=(He=fe.data.length),2<=He,Ve);if(4===He)return new H((He=fe.data).thisDep,He.contextDep,He.propDep,Ve);if(5===He)return new H(!1,!1,!1,Ve);if(6===He){for(var wr=He=!1,ar=!1,ie=0;ie<fe.data.length;++ie){var ne=fe.data[ie];1===ne.type?ar=!0:2===ne.type?wr=!0:3===ne.type?He=!0:0===ne.type?(He=!0,1<=(ne=ne.data)&&(wr=!0),2<=ne&&(ar=!0)):4===ne.type&&(He=He||ne.data.thisDep,wr=wr||ne.data.contextDep,ar=ar||ne.data.propDep)}return new H(He,wr,ar,Ve)}return new H(3===He,2===He,1===He,Ve)}function K(fe,Ve,He,wr,ar,ie,ne,ve,xe,Te,be,Pe,Be,Qe,Ke,tr){function vr(Xe){return Xe.replace(".","_")}function Ht(Xe,br,en){var vn=vr(Xe);Cn.push(Xe),Fn[vn]=pn[vn]=!!en,Ln[vn]=br}function Nt(Xe,br,en){var vn=vr(Xe);Cn.push(Xe),Array.isArray(en)?(pn[vn]=en.slice(),Fn[vn]=en.slice()):pn[vn]=Fn[vn]=en,On[vn]=br}function Se(){var Xe=J({cache:Ke}),br=Xe.link,en=Xe.global;Xe.id=Ba++,Xe.batchId="0";var vn=br(Jn),un=Xe.shared={props:"a0"};Object.keys(Jn).forEach(function(Mr){un[Mr]=en.def(vn,".",Mr)});var Sn=Xe.next={},mn=Xe.current={};Object.keys(On).forEach(function(Mr){Array.isArray(pn[Mr])&&(Sn[Mr]=en.def(un.next,".",Mr),mn[Mr]=en.def(un.current,".",Mr))});var cn=Xe.constants={};Object.keys(ya).forEach(function(Mr){cn[Mr]=en.def(JSON.stringify(ya[Mr]))}),Xe.invoke=function(Mr,Ge){switch(Ge.type){case 0:var Dr=["this",un.context,un.props,Xe.batchId];return Mr.def(br(Ge.data),".call(",Dr.slice(0,Math.max(Ge.data.length+1,4)),")");case 1:return Mr.def(un.props,Ge.data);case 2:return Mr.def(un.context,Ge.data);case 3:return Mr.def("this",Ge.data);case 4:return Ge.data.append(Xe,Mr),Ge.data.ref;case 5:return Ge.data.toString();case 6:return Ge.data.map(function(Ue){return Xe.invoke(Mr,Ue)})}},Xe.attribCache={};var Cr={};return Xe.scopeAttrib=function(Mr){if((Mr=Ve.id(Mr))in Cr)return Cr[Mr];var Ge=Te.scope[Mr];return Ge||(Ge=Te.scope[Mr]=new Kn),Cr[Mr]=br(Ge)},Xe}function qr(Xe,br,en,vn,un){function Sn(Yr){var gn=cn[Yr];gn&&(Mr[Yr]=gn)}var mn=function or(Xe,br){if("string"==typeof(en=Xe.static).frag&&"string"==typeof en.vert){if(0<Object.keys(br.dynamic).length)return null;var en=br.static,vn=Object.keys(en);if(0<vn.length&&"number"==typeof en[vn[0]]){for(var un=[],Sn=0;Sn<vn.length;++Sn)un.push([0|en[vn[Sn]],vn[Sn]]);return un}}return null}(Xe,br),cn=function rr(Xe,br,en){function vn(cn){if(cn in un){var Cr=un[cn];cn=!0;var Dr,Ue,Mr=0|Cr.x,Ge=0|Cr.y;return"width"in Cr?Dr=0|Cr.width:cn=!1,"height"in Cr?Ue=0|Cr.height:cn=!1,new H(!cn&&br&&br.thisDep,!cn&&br&&br.contextDep,!cn&&br&&br.propDep,function(ir,Yr){var gn=ir.shared.context,Zn=Dr;"width"in Cr||(Zn=Yr.def(gn,".","framebufferWidth","-",Mr));var ta=Ue;return"height"in Cr||(ta=Yr.def(gn,".","framebufferHeight","-",Ge)),[Mr,Ge,Zn,ta]})}if(cn in Sn){var Ye=Sn[cn];return cn=_(Ye,function(ir,Yr){var ha=ir.invoke(Yr,Ye),gn=ir.shared.context,Zn=Yr.def(ha,".x|0"),ta=Yr.def(ha,".y|0");return[Zn,ta,Yr.def('"width" in ',ha,"?",ha,".width|0:","(",gn,".","framebufferWidth","-",Zn,")"),ha=Yr.def('"height" in ',ha,"?",ha,".height|0:","(",gn,".","framebufferHeight","-",ta,")")]}),br&&(cn.thisDep=cn.thisDep||br.thisDep,cn.contextDep=cn.contextDep||br.contextDep,cn.propDep=cn.propDep||br.propDep),cn}return br?new H(br.thisDep,br.contextDep,br.propDep,function(ir,Yr){var gn=ir.shared.context;return[0,0,Yr.def(gn,".","framebufferWidth"),Yr.def(gn,".","framebufferHeight")]}):null}var un=Xe.static,Sn=Xe.dynamic;if(Xe=vn("viewport")){var mn=Xe;Xe=new H(Xe.thisDep,Xe.contextDep,Xe.propDep,function(cn,Cr){var Mr=mn.append(cn,Cr),Ge=cn.shared.context;return Cr.set(Ge,".viewportWidth",Mr[2]),Cr.set(Ge,".viewportHeight",Mr[3]),Mr})}return{viewport:Xe,scissor_box:vn("scissor.box")}}(Xe,Ue=function We(Xe,br){var en=Xe.static,vn=Xe.dynamic;if("framebuffer"in en){var un=en.framebuffer;return un?(un=ve.getFramebuffer(un),at(function(mn,cn){var Cr=mn.link(un),Mr=mn.shared;return cn.set(Mr.framebuffer,".next",Cr),cn.set(Mr=Mr.context,".framebufferWidth",Cr+".width"),cn.set(Mr,".framebufferHeight",Cr+".height"),Cr})):at(function(mn,cn){var Cr=mn.shared;return cn.set(Cr.framebuffer,".next","null"),cn.set(Cr=Cr.context,".framebufferWidth",Cr+".drawingBufferWidth"),cn.set(Cr,".framebufferHeight",Cr+".drawingBufferHeight"),"null"})}if("framebuffer"in vn){var Sn=vn.framebuffer;return _(Sn,function(mn,cn){var Ge=mn.invoke(cn,Sn),Cr=mn.shared,Mr=Cr.framebuffer;return Ge=cn.def(Mr,".getFramebuffer(",Ge,")"),cn.set(Mr,".next",Ge),cn.set(Cr=Cr.context,".framebufferWidth",Ge+"?"+Ge+".width:"+Cr+".drawingBufferWidth"),cn.set(Cr,".framebufferHeight",Ge+"?"+Ge+".height:"+Cr+".drawingBufferHeight"),Ge})}return null}(Xe)),Cr=function De(Xe,br){function en(ir,Yr){if(ir in vn){var gn=0|vn[ir];return Yr?Sn.offset=gn:Sn.instances=gn,at(function(ta,Xn){return Yr&&(ta.OFFSET=gn),gn})}if(ir in un){var Zn=un[ir];return _(Zn,function(ta,Xn){var ha=ta.invoke(Xn,Zn);return Yr&&(ta.OFFSET=ha),ha})}if(Yr){if(Cr)return at(function(ta,Xn){return ta.OFFSET=0});if(mn)return new H(cn.thisDep,cn.contextDep,cn.propDep,function(ta,Xn){return Xn.def(ta.shared.vao+".currentVAO?"+ta.shared.vao+".currentVAO.offset:0")})}else if(mn)return new H(cn.thisDep,cn.contextDep,cn.propDep,function(ta,Xn){return Xn.def(ta.shared.vao+".currentVAO?"+ta.shared.vao+".currentVAO.instances:-1")});return null}var vn=Xe.static,un=Xe.dynamic,Sn={},mn=!1,cn=function(){if("vao"in vn){var ir=vn.vao;return null!==ir&&null===Te.getVAO(ir)&&(ir=Te.createVAO(ir)),mn=!0,Sn.vao=ir,at(function(gn){var Zn=Te.getVAO(ir);return Zn?gn.link(Zn):"null"})}if("vao"in un){mn=!0;var Yr=un.vao;return _(Yr,function(gn,Zn){var ta=gn.invoke(Zn,Yr);return Zn.def(gn.shared.vao+".getVAO("+ta+")")})}return null}(),Cr=!1,Mr=function(){if("elements"in vn){if(Sn.elements=ir=vn.elements,j(ir)){var Yr=Sn.elements=ie.create(ir,!0),ir=ie.getElements(Yr);Cr=!0}else ir&&(ir=ie.getElements(ir),Cr=!0);return(Yr=at(function(Zn,ta){if(ir){var Xn=Zn.link(ir);return Zn.ELEMENTS=Xn}return Zn.ELEMENTS=null})).value=ir,Yr}if("elements"in un){Cr=!0;var gn=un.elements;return _(gn,function(Zn,ta){var Si=(Xn=Zn.shared).isBufferArgs,Xn=Xn.elements,qi=Zn.invoke(ta,gn),ha=ta.def("null");return Si=ta.def(Si,"(",qi,")"),qi=Zn.cond(Si).then(ha,"=",Xn,".createStream(",qi,");").else(ha,"=",Xn,".getElements(",qi,");"),ta.entry(qi),ta.exit(Zn.cond(Si).then(Xn,".destroyStream(",ha,");")),Zn.ELEMENTS=ha})}return mn?new H(cn.thisDep,cn.contextDep,cn.propDep,function(Zn,ta){return ta.def(Zn.shared.vao+".currentVAO?"+Zn.shared.elements+".getElements("+Zn.shared.vao+".currentVAO.elements):null")}):null}(),Ge=en("offset",!0),Dr=function(){if("primitive"in vn){var ir=vn.primitive;return Sn.primitive=ir,at(function(gn,Zn){return kt[ir]})}if("primitive"in un){var Yr=un.primitive;return _(Yr,function(gn,Zn){var ta=gn.constants.primTypes,Xn=gn.invoke(Zn,Yr);return Zn.def(ta,"[",Xn,"]")})}return Cr?X(Mr)?at(Mr.value?function(gn,Zn){return Zn.def(gn.ELEMENTS,".primType")}:function(){return 4}):new H(Mr.thisDep,Mr.contextDep,Mr.propDep,function(gn,Zn){var ta=gn.ELEMENTS;return Zn.def(ta,"?",ta,".primType:",4)}):mn?new H(cn.thisDep,cn.contextDep,cn.propDep,function(gn,Zn){return Zn.def(gn.shared.vao+".currentVAO?"+gn.shared.vao+".currentVAO.primitive:4")}):null}(),Ue=function(){if("count"in vn){var ir=0|vn.count;return Sn.count=ir,at(function(){return ir})}if("count"in un){var Yr=un.count;return _(Yr,function(gn,Zn){return gn.invoke(Zn,Yr)})}return Cr?X(Mr)?Mr?Ge?new H(Ge.thisDep,Ge.contextDep,Ge.propDep,function(gn,Zn){return Zn.def(gn.ELEMENTS,".vertCount-",gn.OFFSET)}):at(function(gn,Zn){return Zn.def(gn.ELEMENTS,".vertCount")}):at(function(){return-1}):new H(Mr.thisDep||Ge.thisDep,Mr.contextDep||Ge.contextDep,Mr.propDep||Ge.propDep,function(gn,Zn){var ta=gn.ELEMENTS;return gn.OFFSET?Zn.def(ta,"?",ta,".vertCount-",gn.OFFSET,":-1"):Zn.def(ta,"?",ta,".vertCount:-1")}):mn?new H(cn.thisDep,cn.contextDep,cn.propDep,function(gn,Zn){return Zn.def(gn.shared.vao,".currentVAO?",gn.shared.vao,".currentVAO.count:-1")}):null}(),Ye=en("instances",!1);return{elements:Mr,primitive:Dr,count:Ue,instances:Ye,offset:Ge,vao:cn,vaoActive:mn,elementsActive:Cr,static:Sn}}(Xe),Mr=function sr(Xe,br){var en=Xe.static,vn=Xe.dynamic,un={};return Cn.forEach(function(Sn){function mn(Cr,Mr){if(Sn in en){var Ge=Cr(en[Sn]);un[cn]=at(function(){return Ge})}else if(Sn in vn){var Dr=vn[Sn];un[cn]=_(Dr,function(Ue,Ye){return Mr(Ue,Ye,Ue.invoke(Ye,Dr))})}}var cn=vr(Sn);switch(Sn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return mn(function(Cr){return Cr},function(Cr,Mr,Ge){return Ge});case"depth.func":return mn(function(Cr){return Oe[Cr]},function(Cr,Mr,Ge){return Mr.def(Cr.constants.compareFuncs,"[",Ge,"]")});case"depth.range":return mn(function(Cr){return Cr},function(Cr,Mr,Ge){return[Mr.def("+",Ge,"[0]"),Mr=Mr.def("+",Ge,"[1]")]});case"blend.func":return mn(function(Cr){return[ke["srcRGB"in Cr?Cr.srcRGB:Cr.src],ke["dstRGB"in Cr?Cr.dstRGB:Cr.dst],ke["srcAlpha"in Cr?Cr.srcAlpha:Cr.src],ke["dstAlpha"in Cr?Cr.dstAlpha:Cr.dst]]},function(Cr,Mr,Ge){function Dr(Yr,gn){return Mr.def('"',Yr,gn,'" in ',Ge,"?",Ge,".",Yr,gn,":",Ge,".",Yr)}Cr=Cr.constants.blendFuncs;var Ue=Dr("src","RGB"),ir=Dr("dst","RGB"),Ye=(Ue=Mr.def(Cr,"[",Ue,"]"),Mr.def(Cr,"[",Dr("src","Alpha"),"]"));return[Ue,ir=Mr.def(Cr,"[",ir,"]"),Ye,Cr=Mr.def(Cr,"[",Dr("dst","Alpha"),"]")]});case"blend.equation":return mn(function(Cr){return"string"==typeof Cr?[Qn[Cr],Qn[Cr]]:"object"==typeof Cr?[Qn[Cr.rgb],Qn[Cr.alpha]]:void 0},function(Cr,Mr,Ge){var Dr=Cr.constants.blendEquations,Ue=Mr.def(),Ye=Mr.def();return(Cr=Cr.cond("typeof ",Ge,'==="string"')).then(Ue,"=",Ye,"=",Dr,"[",Ge,"];"),Cr.else(Ue,"=",Dr,"[",Ge,".rgb];",Ye,"=",Dr,"[",Ge,".alpha];"),Mr(Cr),[Ue,Ye]});case"blend.color":return mn(function(Cr){return f(4,function(Mr){return+Cr[Mr]})},function(Cr,Mr,Ge){return f(4,function(Dr){return Mr.def("+",Ge,"[",Dr,"]")})});case"stencil.mask":return mn(function(Cr){return 0|Cr},function(Cr,Mr,Ge){return Mr.def(Ge,"|0")});case"stencil.func":return mn(function(Cr){return[Oe[Cr.cmp||"keep"],Cr.ref||0,"mask"in Cr?Cr.mask:-1]},function(Cr,Mr,Ge){return[Cr=Mr.def('"cmp" in ',Ge,"?",Cr.constants.compareFuncs,"[",Ge,".cmp]",":",7680),Mr.def(Ge,".ref|0"),Mr=Mr.def('"mask" in ',Ge,"?",Ge,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return mn(function(Cr){return["stencil.opBack"===Sn?1029:1028,Ae[Cr.fail||"keep"],Ae[Cr.zfail||"keep"],Ae[Cr.zpass||"keep"]]},function(Cr,Mr,Ge){function Dr(Ye){return Mr.def('"',Ye,'" in ',Ge,"?",Ue,"[",Ge,".",Ye,"]:",7680)}var Ue=Cr.constants.stencilOps;return["stencil.opBack"===Sn?1029:1028,Dr("fail"),Dr("zfail"),Dr("zpass")]});case"polygonOffset.offset":return mn(function(Cr){return[0|Cr.factor,0|Cr.units]},function(Cr,Mr,Ge){return[Mr.def(Ge,".factor|0"),Mr=Mr.def(Ge,".units|0")]});case"cull.face":return mn(function(Cr){var Mr=0;return"front"===Cr?Mr=1028:"back"===Cr&&(Mr=1029),Mr},function(Cr,Mr,Ge){return Mr.def(Ge,'==="front"?',1028,":",1029)});case"frontFace":return mn(function(Cr){return je[Cr]},function(Cr,Mr,Ge){return Mr.def(Ge+'==="cw"?2304:2305')});case"colorMask":return mn(function(Cr){return Cr.map(function(Mr){return!!Mr})},function(Cr,Mr,Ge){return f(4,function(Dr){return"!!"+Ge+"["+Dr+"]"})});case"sample.coverage":return mn(function(Cr){return["value"in Cr?Cr.value:1,!!Cr.invert]},function(Cr,Mr,Ge){return[Mr.def('"value" in ',Ge,"?+",Ge,".value:1"),Mr=Mr.def("!!",Ge,".invert")]})}}),un}(Xe),Ge=function qe(Xe,br,en){function vn(Mr){if(Mr in un){var Ge=Ve.id(un[Mr]);return(Mr=at(function(){return Ge})).id=Ge,Mr}if(Mr in Sn){var Dr=Sn[Mr];return _(Dr,function(Ue,Ye){var ir=Ue.invoke(Ye,Dr);return Ye.def(Ue.shared.strings,".id(",ir,")")})}return null}var un=Xe.static,Sn=Xe.dynamic,mn=vn("frag"),cn=vn("vert"),Cr=null;return X(mn)&&X(cn)?(Cr=be.program(cn.id,mn.id,null,en),Xe=at(function(Mr,Ge){return Mr.link(Cr)})):Xe=new H(mn&&mn.thisDep||cn&&cn.thisDep,mn&&mn.contextDep||cn&&cn.contextDep,mn&&mn.propDep||cn&&cn.propDep,function(Mr,Ge){var Ue,Ye,Dr=Mr.shared.shader;return Ue=mn?mn.append(Mr,Ge):Ge.def(Dr,".","frag"),Ye=cn?cn.append(Mr,Ge):Ge.def(Dr,".","vert"),Ge.def(Dr+".program("+Ye+","+Ue+")")}),{frag:mn,vert:cn,progVar:Xe,program:Cr}}(Xe,0,mn);Sn("viewport"),Sn(vr("scissor.box"));var Ue,Dr=0<Object.keys(Mr).length;if((Ue={framebuffer:Ue,draw:Cr,shader:Ge,state:Mr,dirty:Dr,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function Le(Xe){var en,br=Xe.static;if(Xe=Xe.dynamic,"profile"in br){var vn=!!br.profile;(en=at(function(Sn,mn){return vn})).enable=vn}else if("profile"in Xe){var un=Xe.profile;en=_(un,function(Sn,mn){return Sn.invoke(mn,un)})}return en}(Xe),Ue.uniforms=function gr(Xe,br){var en=Xe.static,vn=Xe.dynamic,un={};return Object.keys(en).forEach(function(Sn){var cn,mn=en[Sn];if("number"==typeof mn||"boolean"==typeof mn)cn=at(function(){return mn});else if("function"==typeof mn){var Cr=mn._reglType;"texture2d"===Cr||"textureCube"===Cr?cn=at(function(Mr){return Mr.link(mn)}):("framebuffer"===Cr||"framebufferCube"===Cr)&&(cn=at(function(Mr){return Mr.link(mn.color[0])}))}else T(mn)&&(cn=at(function(Mr){return Mr.global.def("[",f(mn.length,function(Ge){return mn[Ge]}),"]")}));cn.value=mn,un[Sn]=cn}),Object.keys(vn).forEach(function(Sn){var mn=vn[Sn];un[Sn]=_(mn,function(cn,Cr){return cn.invoke(Cr,mn)})}),un}(en),Ue.drawVAO=Ue.scopeVAO=Cr.vao,!Ue.drawVAO&&Ge.program&&!mn&&He.angle_instanced_arrays&&Cr.static.elements){var Ye=!0;if(Xe=Ge.program.attributes.map(function(Yr){return Yr=br.static[Yr],Ye=Ye&&!!Yr,Yr}),Ye&&0<Xe.length){var ir=Te.getVAO(Te.createVAO({attributes:Xe,elements:Cr.static.elements}));Ue.drawVAO=new H(null,null,null,function(Yr,gn){return Yr.link(ir)}),Ue.useVAO=!0}}return mn?Ue.useVAO=!0:Ue.attributes=function dr(Xe,br){var en=Xe.static,vn=Xe.dynamic,un={};return Object.keys(en).forEach(function(Sn){var mn=en[Sn],cn=Ve.id(Sn),Cr=new Kn;if(j(mn))Cr.state=1,Cr.buffer=ar.getBuffer(ar.create(mn,34962,!1,!0)),Cr.type=0;else if(Mr=ar.getBuffer(mn))Cr.state=1,Cr.buffer=Mr,Cr.type=0;else if("constant"in mn){var Ge=mn.constant;Cr.buffer="null",Cr.state=2,"number"==typeof Ge?Cr.x=Ge:le.forEach(function(gn,Zn){Zn<Ge.length&&(Cr[gn]=Ge[Zn])})}else{var Mr=j(mn.buffer)?ar.getBuffer(ar.create(mn.buffer,34962,!1,!0)):ar.getBuffer(mn.buffer),Dr=0|mn.offset,Ue=0|mn.stride,Ye=0|mn.size,ir=!!mn.normalized,Yr=0;"type"in mn&&(Yr=Gt[mn.type]),mn=0|mn.divisor,Cr.buffer=Mr,Cr.state=1,Cr.size=Ye,Cr.normalized=ir,Cr.type=Yr||Mr.dtype,Cr.offset=Dr,Cr.stride=Ue,Cr.divisor=mn}un[Sn]=at(function(gn,Zn){var ta=gn.attribCache;if(cn in ta)return ta[cn];var Xn={isStream:!1};return Object.keys(Cr).forEach(function(ha){Xn[ha]=Cr[ha]}),Cr.buffer&&(Xn.buffer=gn.link(Cr.buffer),Xn.type=Xn.type||Xn.buffer+".dtype"),ta[cn]=Xn})}),Object.keys(vn).forEach(function(Sn){var mn=vn[Sn];un[Sn]=_(mn,function(cn,Cr){function Mr(ta){Cr(ir[ta],"=",Ge,".",ta,"|0;")}var Ge=cn.invoke(Cr,mn),Dr=cn.constants,Ue=(Ye=cn.shared).isBufferArgs,Ye=Ye.buffer,ir={isStream:Cr.def(!1)},Yr=new Kn;Yr.state=1,Object.keys(Yr).forEach(function(ta){ir[ta]=Cr.def(""+Yr[ta])});var gn=ir.buffer,Zn=ir.type;return Cr("if(",Ue,"(",Ge,")){",ir.isStream,"=true;",gn,"=",Ye,".createStream(",34962,",",Ge,");",Zn,"=",gn,".dtype;","}else{",gn,"=",Ye,".getBuffer(",Ge,");","if(",gn,"){",Zn,"=",gn,".dtype;",'}else if("constant" in ',Ge,"){",ir.state,"=",2,";","if(typeof "+Ge+'.constant === "number"){',ir[le[0]],"=",Ge,".constant;",le.slice(1).map(function(ta){return ir[ta]}).join("="),"=0;","}else{",le.map(function(ta,Xn){return ir[ta]+"="+Ge+".constant.length>"+Xn+"?"+Ge+".constant["+Xn+"]:0;"}).join(""),"}}else{","if(",Ue,"(",Ge,".buffer)){",gn,"=",Ye,".createStream(",34962,",",Ge,".buffer);","}else{",gn,"=",Ye,".getBuffer(",Ge,".buffer);","}",Zn,'="type" in ',Ge,"?",Dr.glTypes,"[",Ge,".type]:",gn,".dtype;",ir.normalized,"=!!",Ge,".normalized;"),Mr("size"),Mr("offset"),Mr("stride"),Mr("divisor"),Cr("}}"),Cr.exit("if(",ir.isStream,"){",Ye,".destroyStream(",gn,");","}"),ir})}),un}(br),Ue.context=function Pr(Xe){var br=Xe.static,en=Xe.dynamic,vn={};return Object.keys(br).forEach(function(un){var Sn=br[un];vn[un]=at(function(mn,cn){return"number"==typeof Sn||"boolean"==typeof Sn?""+Sn:mn.link(Sn)})}),Object.keys(en).forEach(function(un){var Sn=en[un];vn[un]=_(Sn,function(mn,cn){return mn.invoke(cn,Sn)})}),vn}(vn),Ue}function Er(Xe,br,en){var vn=Xe.shared.context,un=Xe.scope();Object.keys(en).forEach(function(Sn){br.save(vn,"."+Sn);var mn=en[Sn].append(Xe,br);Array.isArray(mn)?un(vn,".",Sn,"=[",mn.join(),"];"):un(vn,".",Sn,"=",mn,";")}),br(un)}function Zr(Xe,br,en,vn){var mn,un=(cn=Xe.shared).gl,Sn=cn.framebuffer;an&&(mn=br.def(cn.extensions,".webgl_draw_buffers"));var cn=(Cr=Xe.constants).drawBuffer,Cr=Cr.backBuffer;Xe=en?en.append(Xe,br):br.def(Sn,".next"),vn||br("if(",Xe,"!==",Sn,".cur){"),br("if(",Xe,"){",un,".bindFramebuffer(",36160,",",Xe,".framebuffer);"),an&&br(mn,".drawBuffersWEBGL(",cn,"[",Xe,".colorAttachments.length]);"),br("}else{",un,".bindFramebuffer(",36160,",null);"),an&&br(mn,".drawBuffersWEBGL(",Cr,");"),br("}",Sn,".cur=",Xe,";"),vn||br("}")}function rn(Xe,br,en){var vn=Xe.shared,un=vn.gl,Sn=Xe.current,mn=Xe.next,cn=vn.current,Cr=vn.next,Mr=Xe.cond(cn,".dirty");Cn.forEach(function(Ge){var Dr,Ue;if(!((Ge=vr(Ge))in en.state))if(Ge in mn){Dr=mn[Ge],Ue=Sn[Ge];var Ye=f(pn[Ge].length,function(ir){return Mr.def(Dr,"[",ir,"]")});Mr(Xe.cond(Ye.map(function(ir,Yr){return ir+"!=="+Ue+"["+Yr+"]"}).join("||")).then(un,".",On[Ge],"(",Ye,");",Ye.map(function(ir,Yr){return Ue+"["+Yr+"]="+ir}).join(";"),";"))}else Dr=Mr.def(Cr,".",Ge),Ye=Xe.cond(Dr,"!==",cn,".",Ge),Mr(Ye),Ge in Ln?Ye(Xe.cond(Dr).then(un,".enable(",Ln[Ge],");").else(un,".disable(",Ln[Ge],");"),cn,".",Ge,"=",Dr,";"):Ye(un,".",On[Ge],"(",Dr,");",cn,".",Ge,"=",Dr,";")}),0===Object.keys(en.state).length&&Mr(cn,".dirty=false;"),br(Mr)}function zr(Xe,br,en,vn){var Cr,un=Xe.shared,Sn=Xe.current,mn=un.current,cn=un.gl;Z(Object.keys(en)).forEach(function(Mr){var Ge=en[Mr];if(!vn||vn(Ge)){var Dr=Ge.append(Xe,br);if(Ln[Mr]){var Ue=Ln[Mr];X(Ge)?(Cr=Xe.link(Dr,{stable:!0}),br(Xe.cond(Cr).then(cn,".enable(",Ue,");").else(cn,".disable(",Ue,");")),br(mn,".",Mr,"=",Cr,";")):(br(Xe.cond(Dr).then(cn,".enable(",Ue,");").else(cn,".disable(",Ue,");")),br(mn,".",Mr,"=",Dr,";"))}else if(T(Dr)){var Ye=Sn[Mr];br(cn,".",On[Mr],"(",Dr,");",Dr.map(function(ir,Yr){return Ye+"["+Yr+"]="+ir}).join(";"),";")}else X(Ge)?(Cr=Xe.link(Dr,{stable:!0}),br(cn,".",On[Mr],"(",Cr,");",mn,".",Mr,"=",Cr,";")):br(cn,".",On[Mr],"(",Dr,");",mn,".",Mr,"=",Dr,";")}})}function Pn(Xe,br){Tr&&(Xe.instancing=br.def(Xe.shared.extensions,".angle_instanced_arrays"))}function An(Xe,br,en,vn,un){function Sn(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function mn(Yr){Yr(Ye=br.def(),"=",Sn(),";"),"string"==typeof un?Yr(Ge,".count+=",un,";"):Yr(Ge,".count++;"),Qe&&(vn?Yr(ir=br.def(),"=",Ue,".getNumPendingQueries();"):Yr(Ue,".beginQuery(",Ge,");"))}function cn(Yr){Yr(Ge,".cpuTime+=",Sn(),"-",Ye,";"),Qe&&(vn?Yr(Ue,".pushScopeStats(",ir,",",Ue,".getNumPendingQueries(),",Ge,");"):Yr(Ue,".endQuery();"))}function Cr(Yr){var gn=br.def(Dr,".profile");br(Dr,".profile=",Yr,";"),br.exit(Dr,".profile=",gn,";")}var Ye,ir,Mr=Xe.shared,Ge=Xe.stats,Dr=Mr.current,Ue=Mr.timer;if(en=en.profile){if(X(en))return void(en.enable?(mn(br),cn(br.exit),Cr("true")):Cr("false"));Cr(en=en.append(Xe,br))}else en=br.def(Dr,".profile");mn(Mr=Xe.block()),br("if(",en,"){",Mr,"}"),cn(Xe=Xe.block()),br.exit("if(",en,"){",Xe,"}")}function lr(Xe,br,en,vn,un){var cn=Xe.shared;vn.forEach(function(Cr){var Dr,Mr=Cr.name,Ge=en.attributes[Mr];if(Ge){if(!un(Ge))return;Dr=Ge.append(Xe,br)}else{if(!un(Ze))return;var Ue=Xe.scopeAttrib(Mr);Dr={},Object.keys(new Kn).forEach(function(Ye){Dr[Ye]=br.def(Ue,".",Ye)})}!function mn(Cr,Mr,Ge){function Dr(){br("if(!",Yr,".buffer){",Ye,".enableVertexAttribArray(",ir,");}");var ha,Xn=Ge.type;ha=Ge.size?br.def(Ge.size,"||",Mr):Mr,br("if(",Yr,".type!==",Xn,"||",Yr,".size!==",ha,"||",ta.map(function(Si){return Yr+"."+Si+"!=="+Ge[Si]}).join("||"),"){",Ye,".bindBuffer(",34962,",",gn,".buffer);",Ye,".vertexAttribPointer(",[ir,ha,Xn,Ge.normalized,Ge.stride,Ge.offset],");",Yr,".type=",Xn,";",Yr,".size=",ha,";",ta.map(function(Si){return Yr+"."+Si+"="+Ge[Si]+";"}).join(""),"}"),Tr&&br("if(",Yr,".divisor!==",Xn=Ge.divisor,"){",Xe.instancing,".vertexAttribDivisorANGLE(",[ir,Xn],");",Yr,".divisor=",Xn,";}")}function Ue(){br("if(",Yr,".buffer){",Ye,".disableVertexAttribArray(",ir,");",Yr,".buffer=null;","}if(",le.map(function(Xn,ha){return Yr+"."+Xn+"!=="+Zn[ha]}).join("||"),"){",Ye,".vertexAttrib4f(",ir,",",Zn,");",le.map(function(Xn,ha){return Yr+"."+Xn+"="+Zn[ha]+";"}).join(""),"}")}var Ye=cn.gl,ir=br.def(Cr,".location"),Yr=br.def(cn.attributes,"[",ir,"]"),gn=Ge.buffer,Zn=[Ge.x,Ge.y,Ge.z,Ge.w],ta=["buffer","normalized","offset","stride"];1===(Cr=Ge.state)?Dr():2===Cr?Ue():(br("if(",Cr,"===",1,"){"),Dr(),br("}else{"),Ue(),br("}"))}(Xe.link(Cr),function Sn(Cr){switch(Cr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Cr.info.type),Dr)})}function yr(Xe,br,en,vn,un,Sn){for(var Cr,mn=Xe.shared,cn=mn.gl,Mr=0;Mr<vn.length;++Mr){var ir,Ge=(Ye=vn[Mr]).name,Dr=Ye.info.type,Ue=en.uniforms[Ge],Ye=Xe.link(Ye)+".location";if(Ue){if(!un(Ue))continue;if(X(Ue)){if(Ge=Ue.value,35678===Dr||35680===Dr)br(cn,".uniform1i(",Ye,",",(Dr=Xe.link(Ge._texture||Ge.color[0]._texture))+".bind());"),br.exit(Dr,".unbind();");else if(35674===Dr||35675===Dr||35676===Dr)Ue=2,35675===Dr?Ue=3:35676===Dr&&(Ue=4),br(cn,".uniformMatrix",Ue,"fv(",Ye,",false,",Ge=Xe.global.def("new Float32Array(["+Array.prototype.slice.call(Ge)+"])"),");");else{switch(Dr){case 5126:Cr="1f";break;case 35664:Cr="2f";break;case 35665:Cr="3f";break;case 35666:Cr="4f";break;case 35670:case 5124:Cr="1i";break;case 35671:case 35667:Cr="2i";break;case 35672:case 35668:Cr="3i";break;case 35673:case 35669:Cr="4i"}br(cn,".uniform",Cr,"(",Ye,",",T(Ge)?Array.prototype.slice.call(Ge):Ge,");")}continue}ir=Ue.append(Xe,br)}else{if(!un(Ze))continue;ir=br.def(mn.uniforms,"[",Ve.id(Ge),"]")}switch(35678===Dr?br("if(",ir,"&&",ir,'._reglType==="framebuffer"){',ir,"=",ir,".color[0];","}"):35680===Dr&&br("if(",ir,"&&",ir,'._reglType==="framebufferCube"){',ir,"=",ir,".color[0];","}"),Ge=1,Dr){case 35678:case 35680:Dr=br.def(ir,"._texture"),br(cn,".uniform1i(",Ye,",",Dr,".bind());"),br.exit(Dr,".unbind();");continue;case 5124:case 35670:Cr="1i";break;case 35667:case 35671:Cr="2i",Ge=2;break;case 35668:case 35672:Cr="3i",Ge=3;break;case 35669:case 35673:Cr="4i",Ge=4;break;case 5126:Cr="1f";break;case 35664:Cr="2f",Ge=2;break;case 35665:Cr="3f",Ge=3;break;case 35666:Cr="4f",Ge=4;break;case 35674:Cr="Matrix2fv";break;case 35675:Cr="Matrix3fv";break;case 35676:Cr="Matrix4fv"}if("M"===Cr.charAt(0)){br(cn,".uniform",Cr,"(",Ye,","),Ye=Math.pow(Dr-35674+2,2);var Yr=Xe.global.def("new Float32Array(",Ye,")");Array.isArray(ir)?br("false,(",f(Ye,function(ta){return Yr+"["+ta+"]="+ir[ta]}),",",Yr,")"):br("false,(Array.isArray(",ir,")||",ir," instanceof Float32Array)?",ir,":(",f(Ye,function(ta){return Yr+"["+ta+"]="+ir+"["+ta+"]"}),",",Yr,")"),br(");")}else{if(1<Ge){Dr=[];var gn=[];for(Ue=0;Ue<Ge;++Ue)Array.isArray(ir)?gn.push(ir[Ue]):gn.push(br.def(ir+"["+Ue+"]")),Sn&&Dr.push(br.def());Sn&&br("if(!",Xe.batchId,"||",Dr.map(function(Zn,ta){return Zn+"!=="+gn[ta]}).join("||"),"){",Dr.map(function(Zn,ta){return Zn+"="+gn[ta]+";"}).join("")),br(cn,".uniform",Cr,"(",Ye,",",gn.join(","),");")}else Sn&&(Dr=br.def(),br("if(!",Xe.batchId,"||",Dr,"!==",ir,"){",Dr,"=",ir,";")),br(cn,".uniform",Cr,"(",Ye,",",ir,");");Sn&&br("}")}}}function Fr(Xe,br,en,vn){function un(Xn){var ha=Ge[Xn];return ha?ha.append(Xe,ha.contextDep&&vn.contextDynamic||ha.propDep?en:br):br.def(Mr,".",Xn)}function Sn(){function Xn(){en(gn,".drawElementsInstancedANGLE(",[Ue,ir,Zn,Ye+"<<(("+Zn+"-5121)>>1)",Yr],");")}function ha(){en(gn,".drawArraysInstancedANGLE(",[Ue,Ye,ir,Yr],");")}Dr&&"null"!==Dr?ta?Xn():(en("if(",Dr,"){"),Xn(),en("}else{"),ha(),en("}")):ha()}function mn(){function Xn(){en(Cr+".drawElements("+[Ue,ir,Zn,Ye+"<<(("+Zn+"-5121)>>1)"]+");")}function ha(){en(Cr+".drawArrays("+[Ue,Ye,ir]+");")}Dr&&"null"!==Dr?ta?Xn():(en("if(",Dr,"){"),Xn(),en("}else{"),ha(),en("}")):ha()}var Xn,ha,Yr,gn,cn=Xe.shared,Cr=cn.gl,Mr=cn.draw,Ge=vn.draw,Dr=(ha=br,(Xn=Ge.elements)?((Xn.contextDep&&vn.contextDynamic||Xn.propDep)&&(ha=en),Xn=Xn.append(Xe,ha),Ge.elementsActive&&ha("if("+Xn+")"+Cr+".bindBuffer(34963,"+Xn+".buffer.buffer);")):(Xn=ha.def(),ha(Xn,"=",Mr,".","elements",";","if(",Xn,"){",Cr,".bindBuffer(",34963,",",Xn,".buffer.buffer);}","else if(",cn.vao,".currentVAO){",Xn,"=",Xe.shared.elements+".getElements("+cn.vao,".currentVAO.elements);",sn?"":"if("+Xn+")"+Cr+".bindBuffer(34963,"+Xn+".buffer.buffer);","}")),Xn),Ue=un("primitive"),Ye=un("offset"),ir=function(){var Xn=Ge.count,ha=br;return Xn?((Xn.contextDep&&vn.contextDynamic||Xn.propDep)&&(ha=en),Xn=Xn.append(Xe,ha)):Xn=ha.def(Mr,".","count"),Xn}();if("number"==typeof ir){if(0===ir)return}else en("if(",ir,"){"),en.exit("}");Tr&&(Yr=un("instances"),gn=Xe.instancing);var Zn=Dr+".type",ta=Ge.elements&&X(Ge.elements)&&!Ge.vaoActive;Tr&&("number"!=typeof Yr||0<=Yr)?"string"==typeof Yr?(en("if(",Yr,">0){"),Sn(),en("}else if(",Yr,"<0){"),mn(),en("}")):Sn():mn()}function Br(Xe,br,en,vn,un){return un=(br=Se()).proc("body",un),Tr&&(br.instancing=un.def(br.shared.extensions,".angle_instanced_arrays")),Xe(br,un,en,vn),br.compile().body}function _r(Xe,br,en,vn){Pn(Xe,br),en.useVAO?en.drawVAO?br(Xe.shared.vao,".setVAO(",en.drawVAO.append(Xe,br),");"):br(Xe.shared.vao,".setVAO(",Xe.shared.vao,".targetVAO);"):(br(Xe.shared.vao,".setVAO(null);"),lr(Xe,br,en,vn.attributes,function(){return!0})),yr(Xe,br,en,vn.uniforms,function(){return!0},!1),Fr(Xe,br,br,en)}function hn(Xe,br,en,vn){function un(){return!0}Xe.batchId="a1",Pn(Xe,br),lr(Xe,br,en,vn.attributes,un),yr(Xe,br,en,vn.uniforms,un,!1),Fr(Xe,br,br,en)}function xn(Xe,br,en,vn){function un(Dr){return Dr.contextDep&&mn||Dr.propDep}function Sn(Dr){return!un(Dr)}Pn(Xe,br);var mn=en.contextDep,cn=br.def(),Cr=br.def();Xe.shared.props=Cr,Xe.batchId=cn;var Mr=Xe.scope(),Ge=Xe.scope();br(Mr.entry,"for(",cn,"=0;",cn,"<","a1",";++",cn,"){",Cr,"=","a0","[",cn,"];",Ge,"}",Mr.exit),en.needsContext&&Er(Xe,Ge,en.context),en.needsFramebuffer&&Zr(Xe,Ge,en.framebuffer),zr(Xe,Ge,en.state,un),en.profile&&un(en.profile)&&An(Xe,Ge,en,!1,!0),vn?(en.useVAO?en.drawVAO?un(en.drawVAO)?Ge(Xe.shared.vao,".setVAO(",en.drawVAO.append(Xe,Ge),");"):Mr(Xe.shared.vao,".setVAO(",en.drawVAO.append(Xe,Mr),");"):Mr(Xe.shared.vao,".setVAO(",Xe.shared.vao,".targetVAO);"):(Mr(Xe.shared.vao,".setVAO(null);"),lr(Xe,Mr,en,vn.attributes,Sn),lr(Xe,Ge,en,vn.attributes,un)),yr(Xe,Mr,en,vn.uniforms,Sn,!1),yr(Xe,Ge,en,vn.uniforms,un,!0),Fr(Xe,Mr,Ge,en)):(br=Xe.global.def("{}"),vn=en.shader.progVar.append(Xe,Ge),Cr=Ge.def(vn,".id"),Mr=Ge.def(br,"[",Cr,"]"),Ge(Xe.shared.gl,".useProgram(",vn,".program);","if(!",Mr,"){",Mr,"=",br,"[",Cr,"]=",Xe.link(function(Dr){return Br(hn,Xe,en,Dr,2)}),"(",vn,");}",Mr,".call(this,a0[",cn,"],",cn,");"))}function ia(Xe,br,en){var un=br.static[en];if(un&&function Gn(Xe){if("object"==typeof Xe&&!T(Xe)){for(var br=Object.keys(Xe),en=0;en<br.length;++en)if(dt.isDynamic(Xe[br[en]]))return!0;return!1}}(un)){var Sn=Xe.global,mn=Object.keys(un),cn=!1,Cr=!1,Mr=!1,Ge=Xe.global.def("{}");mn.forEach(function(Dr){var Ue=un[Dr];if(dt.isDynamic(Ue))"function"==typeof Ue&&(Ue=un[Dr]=dt.unbox(Ue)),Dr=_(Ue,null),cn=cn||Dr.thisDep,Mr=Mr||Dr.propDep,Cr=Cr||Dr.contextDep;else{switch(Sn(Ge,".",Dr,"="),typeof Ue){case"number":Sn(Ue);break;case"string":Sn('"',Ue,'"');break;case"object":Array.isArray(Ue)&&Sn("[",Ue.join(),"]");break;default:Sn(Xe.link(Ue))}Sn(";")}}),br.dynamic[en]=new dt.DynamicVariable(4,{thisDep:cn,contextDep:Cr,propDep:Mr,ref:Ge,append:function vn(Dr,Ue){mn.forEach(function(Ye){var ir=un[Ye];dt.isDynamic(ir)&&(ir=Dr.invoke(Ue,ir),Ue(Ge,".",Ye,"=",ir,";"))})}}),delete br.static[en]}}var Kn=Te.Record,Qn={add:32774,subtract:32778,"reverse subtract":32779};He.ext_blend_minmax&&(Qn.min=32775,Qn.max=32776);var Tr=He.angle_instanced_arrays,an=He.webgl_draw_buffers,sn=He.oes_vertex_array_object,pn={dirty:!0,profile:tr.profile},Fn={},Cn=[],Ln={},On={};Ht("dither",3024),Ht("blend.enable",3042),Nt("blend.color","blendColor",[0,0,0,0]),Nt("blend.equation","blendEquationSeparate",[32774,32774]),Nt("blend.func","blendFuncSeparate",[1,0,1,0]),Ht("depth.enable",2929,!0),Nt("depth.func","depthFunc",513),Nt("depth.range","depthRange",[0,1]),Nt("depth.mask","depthMask",!0),Nt("colorMask","colorMask",[!0,!0,!0,!0]),Ht("cull.enable",2884),Nt("cull.face","cullFace",1029),Nt("frontFace","frontFace",2305),Nt("lineWidth","lineWidth",1),Ht("polygonOffset.enable",32823),Nt("polygonOffset.offset","polygonOffset",[0,0]),Ht("sample.alpha",32926),Ht("sample.enable",32928),Nt("sample.coverage","sampleCoverage",[1,!1]),Ht("stencil.enable",2960),Nt("stencil.mask","stencilMask",-1),Nt("stencil.func","stencilFunc",[519,0,-1]),Nt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Nt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ht("scissor.enable",3089),Nt("scissor.box","scissor",[0,0,fe.drawingBufferWidth,fe.drawingBufferHeight]),Nt("viewport","viewport",[0,0,fe.drawingBufferWidth,fe.drawingBufferHeight]);var Jn={gl:fe,context:Be,strings:Ve,next:Fn,current:pn,draw:Pe,elements:ie,buffer:ar,shader:be,attributes:Te.state,vao:Te,uniforms:xe,framebuffer:ve,extensions:He,timer:Qe,isBufferArgs:j},ya={primTypes:kt,compareFuncs:Oe,blendFuncs:ke,blendEquations:Qn,stencilOps:Ae,glTypes:Gt,orientationType:je};an&&(ya.backBuffer=[1029],ya.drawBuffer=f(wr.maxDrawbuffers,function(Xe){return 0===Xe?[0]:f(Xe,function(br){return 36064+br})}));var Ba=0;return{next:Fn,current:pn,procs:function(){var Xe=Se(),br=Xe.proc("poll"),en=Xe.proc("refresh"),vn=Xe.block();br(vn),en(vn);var cn,un=(Cr=Xe.shared).gl,Sn=Cr.next,mn=Cr.current;vn(mn,".dirty=false;"),Zr(Xe,br),Zr(Xe,en,null,!0),Tr&&(cn=Xe.link(Tr)),He.oes_vertex_array_object&&en(Xe.link(He.oes_vertex_array_object),".bindVertexArrayOES(null);");var Cr=en.def(Cr.attributes),Mr=en.def(0),Ge=Xe.cond(Mr,".buffer");Ge.then(un,".enableVertexAttribArray(i);",un,".bindBuffer(",34962,",",Mr,".buffer.buffer);",un,".vertexAttribPointer(i,",Mr,".size,",Mr,".type,",Mr,".normalized,",Mr,".stride,",Mr,".offset);").else(un,".disableVertexAttribArray(i);",un,".vertexAttrib4f(i,",Mr,".x,",Mr,".y,",Mr,".z,",Mr,".w);",Mr,".buffer=null;");var Dr=Xe.link(wr.maxAttributes,{stable:!0});return en("for(var i=0;i<",Dr,";++i){",Mr,"=",Cr,"[i];",Ge,"}"),Tr&&en("for(var i=0;i<",Dr,";++i){",cn,".vertexAttribDivisorANGLE(i,",Cr,"[i].divisor);","}"),en(Xe.shared.vao,".currentVAO=null;",Xe.shared.vao,".setVAO(",Xe.shared.vao,".targetVAO);"),Object.keys(Ln).forEach(function(Ue){var Ye=Ln[Ue],ir=vn.def(Sn,".",Ue),Yr=Xe.block();Yr("if(",ir,"){",un,".enable(",Ye,")}else{",un,".disable(",Ye,")}",mn,".",Ue,"=",ir,";"),en(Yr),br("if(",ir,"!==",mn,".",Ue,"){",Yr,"}")}),Object.keys(On).forEach(function(Ue){var Yr,gn,Ye=On[Ue],ir=pn[Ue],Zn=Xe.block();Zn(un,".",Ye,"("),T(ir)?(Ye=ir.length,Yr=Xe.global.def(Sn,".",Ue),gn=Xe.global.def(mn,".",Ue),Zn(f(Ye,function(ta){return Yr+"["+ta+"]"}),");",f(Ye,function(ta){return gn+"["+ta+"]="+Yr+"["+ta+"];"}).join("")),br("if(",f(Ye,function(ta){return Yr+"["+ta+"]!=="+gn+"["+ta+"]"}).join("||"),"){",Zn,"}")):(Yr=vn.def(Sn,".",Ue),gn=vn.def(mn,".",Ue),Zn(Yr,");",mn,".",Ue,"=",Yr,";"),br("if(",Yr,"!==",gn,"){",Zn,"}")),en(Zn)}),Xe.compile()}(),compile:function(Xe,br,en,vn,un){var Sn=Se();Sn.stats=Sn.link(un),Object.keys(br.static).forEach(function(cn){ia(Sn,br,cn)}),he.forEach(function(cn){ia(Sn,Xe,cn)});var mn=qr(Xe,br,en,vn);return mn.shader.program&&(mn.shader.program.attributes.sort(function(cn,Cr){return cn.name<Cr.name?-1:1}),mn.shader.program.uniforms.sort(function(cn,Cr){return cn.name<Cr.name?-1:1})),function dn(Xe,br){var en=Xe.proc("draw",1);Pn(Xe,en),Er(Xe,en,br.context),Zr(Xe,en,br.framebuffer),rn(Xe,en,br),zr(Xe,en,br.state),An(Xe,en,br,!1,!0);var vn=br.shader.progVar.append(Xe,en);if(en(Xe.shared.gl,".useProgram(",vn,".program);"),br.shader.program)_r(Xe,en,br,br.shader.program);else{en(Xe.shared.vao,".setVAO(null);");var un=Xe.global.def("{}"),Sn=en.def(vn,".id"),mn=en.def(un,"[",Sn,"]");en(Xe.cond(mn).then(mn,".call(this,a0);").else(mn,"=",un,"[",Sn,"]=",Xe.link(function(cn){return Br(_r,Xe,br,cn,1)}),"(",vn,");",mn,".call(this,a0);"))}0<Object.keys(br.state).length&&en(Xe.shared.current,".dirty=true;"),Xe.shared.vao&&en(Xe.shared.vao,".setVAO(null);")}(Sn,mn),function Vn(Xe,br){function en(cn){var Cr=br.shader[cn];Cr&&(Cr=Cr.append(Xe,vn),isNaN(Cr)?vn.set(un.shader,"."+cn,Cr):vn.set(un.shader,"."+cn,Xe.link(Cr,{stable:!0})))}var vn=Xe.proc("scope",3);Xe.batchId="a2";var un=Xe.shared,Sn=un.current;if(Er(Xe,vn,br.context),br.framebuffer&&br.framebuffer.append(Xe,vn),Z(Object.keys(br.state)).forEach(function(cn){var Cr=br.state[cn],Mr=Cr.append(Xe,vn);T(Mr)?Mr.forEach(function(Ge,Dr){isNaN(Ge)?vn.set(Xe.next[cn],"["+Dr+"]",Ge):vn.set(Xe.next[cn],"["+Dr+"]",Xe.link(Ge,{stable:!0}))}):X(Cr)?vn.set(un.next,"."+cn,Xe.link(Mr,{stable:!0})):vn.set(un.next,"."+cn,Mr)}),An(Xe,vn,br,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(cn){var Cr=br.draw[cn];Cr&&(Cr=Cr.append(Xe,vn),isNaN(Cr)?vn.set(un.draw,"."+cn,Cr):vn.set(un.draw,"."+cn,Xe.link(Cr),{stable:!0}))}),Object.keys(br.uniforms).forEach(function(cn){var Cr=br.uniforms[cn].append(Xe,vn);Array.isArray(Cr)&&(Cr="["+Cr.map(function(Mr){return isNaN(Mr)?Mr:Xe.link(Mr,{stable:!0})})+"]"),vn.set(un.uniforms,"["+Xe.link(Ve.id(cn),{stable:!0})+"]",Cr)}),Object.keys(br.attributes).forEach(function(cn){var Cr=br.attributes[cn].append(Xe,vn),Mr=Xe.scopeAttrib(cn);Object.keys(new Kn).forEach(function(Ge){vn.set(Mr,"."+Ge,Cr[Ge])})}),br.scopeVAO){var mn=br.scopeVAO.append(Xe,vn);isNaN(mn)?vn.set(un.vao,".targetVAO",mn):vn.set(un.vao,".targetVAO",Xe.link(mn,{stable:!0}))}en("vert"),en("frag"),0<Object.keys(br.state).length&&(vn(Sn,".dirty=true;"),vn.exit(Sn,".dirty=true;")),vn("a1(",Xe.shared.context,",a0,",Xe.batchId,");")}(Sn,mn),function En(Xe,br){function en(Mr){return Mr.contextDep&&un||Mr.propDep}var vn=Xe.proc("batch",2);Xe.batchId="0",Pn(Xe,vn);var un=!1,Sn=!0;Object.keys(br.context).forEach(function(Mr){un=un||br.context[Mr].propDep}),un||(Er(Xe,vn,br.context),Sn=!1);var cn=!1;if((mn=br.framebuffer)?(mn.propDep?un=cn=!0:mn.contextDep&&un&&(cn=!0),cn||Zr(Xe,vn,mn)):Zr(Xe,vn,null),br.state.viewport&&br.state.viewport.propDep&&(un=!0),rn(Xe,vn,br),zr(Xe,vn,br.state,function(Mr){return!en(Mr)}),br.profile&&en(br.profile)||An(Xe,vn,br,!1,"a1"),br.contextDep=un,br.needsContext=Sn,br.needsFramebuffer=cn,(Sn=br.shader.progVar).contextDep&&un||Sn.propDep)xn(Xe,vn,br,null);else if(Sn=Sn.append(Xe,vn),vn(Xe.shared.gl,".useProgram(",Sn,".program);"),br.shader.program)xn(Xe,vn,br,br.shader.program);else{vn(Xe.shared.vao,".setVAO(null);");var mn=Xe.global.def("{}"),Cr=(cn=vn.def(Sn,".id"),vn.def(mn,"[",cn,"]"));vn(Xe.cond(Cr).then(Cr,".call(this,a0,a1);").else(Cr,"=",mn,"[",cn,"]=",Xe.link(function(Dr){return Br(xn,Xe,br,Dr,2)}),"(",Sn,");",Cr,".call(this,a0,a1);"))}0<Object.keys(br.state).length&&vn(Xe.shared.current,".dirty=true;"),Xe.shared.vao&&vn(Xe.shared.vao,".setVAO(null);")}(Sn,mn),et(Sn.compile(),{destroy:function(){mn.shader.program.destroy()}})}}}function nt(fe,Ve){for(var He=0;He<fe.length;++He)if(fe[He]===Ve)return He;return-1}var et=function(fe,Ve){for(var He=Object.keys(Ve),wr=0;wr<He.length;++wr)fe[He[wr]]=Ve[He[wr]];return fe},st=0,dt={DynamicVariable:W,define:function(fe,Ve){return new W(fe,A(Ve+""))},isDynamic:function(fe){return"function"==typeof fe&&!fe._reglType||fe instanceof W},unbox:function g(fe,Ve){return"function"==typeof fe?new W(0,fe):"number"==typeof fe||"boolean"==typeof fe?new W(5,fe):Array.isArray(fe)?new W(6,fe.map(function(He,wr){return g(He,Ve+"["+wr+"]")})):fe instanceof W?fe:void 0},accessor:A},Tt={next:"function"==typeof requestAnimationFrame?function(fe){return requestAnimationFrame(fe)}:function(fe){return setTimeout(fe,16)},cancel:"function"==typeof cancelAnimationFrame?function(fe){return cancelAnimationFrame(fe)}:clearTimeout},bt="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date},Dt=s();Dt.zero=s();var Mt=function(fe){return fe instanceof Uint8Array||fe instanceof Uint16Array||fe instanceof Uint32Array||fe instanceof Int8Array||fe instanceof Int16Array||fe instanceof Int32Array||fe instanceof Float32Array||fe instanceof Float64Array||fe instanceof Uint8ClampedArray},wt=function(fe){return Object.keys(fe).map(function(Ve){return fe[Ve]})},St={shape:function(fe){for(var Ve=[];fe.length;fe=fe[0])Ve.push(fe.length);return Ve},flatten:function(fe,Ve,He,wr){var ar=1;if(Ve.length)for(var ie=0;ie<Ve.length;++ie)ar*=Ve[ie];else ar=0;switch(He=wr||Dt.allocType(He,ar),Ve.length){case 0:break;case 1:for(wr=Ve[0],Ve=0;Ve<wr;++Ve)He[Ve]=fe[Ve];break;case 2:for(wr=Ve[0],Ve=Ve[1],ie=ar=0;ie<wr;++ie)for(var ne=fe[ie],ve=0;ve<Ve;++ve)He[ar++]=ne[ve];break;case 3:u(fe,Ve[0],Ve[1],Ve[2],He,0);break;default:y(fe,Ve,0,He,0)}return He}},Ut={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Gt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Pt={dynamic:35048,stream:35040,static:35044},Vt=St.flatten,te=St.shape,_t=[];_t[5120]=1,_t[5122]=2,_t[5124]=4,_t[5121]=1,_t[5123]=2,_t[5125]=4,_t[5126]=4;var kt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},zt=new Float32Array(1),qt=new Uint32Array(zt.buffer),ae=[9984,9986,9985,9987],oe=[0,6409,6410,6407,6408],pe={};pe[6409]=pe[6406]=pe[6402]=1,pe[34041]=pe[6410]=2,pe[6407]=pe[35904]=3,pe[6408]=pe[35906]=4;var ye=L("HTMLCanvasElement"),Fe=L("OffscreenCanvas"),Zt=L("CanvasRenderingContext2D"),Ct=L("ImageBitmap"),Et=L("HTMLImageElement"),Rt=L("HTMLVideoElement"),Ot=Object.keys(Ut).concat([ye,Fe,Zt,Ct,Et,Rt]),It=[];It[5121]=1,It[5126]=4,It[36193]=2,It[5123]=2,It[5125]=4;var gt=[];gt[32854]=2,gt[32855]=2,gt[36194]=2,gt[34041]=4,gt[33776]=.5,gt[33777]=.5,gt[33778]=1,gt[33779]=1,gt[35986]=.5,gt[35987]=1,gt[34798]=1,gt[35840]=.5,gt[35841]=.25,gt[35842]=.5,gt[35843]=.25,gt[36196]=.5;var pt=[];pt[32854]=2,pt[32855]=2,pt[36194]=2,pt[33189]=2,pt[36168]=1,pt[34041]=4,pt[35907]=4,pt[34836]=16,pt[34842]=8,pt[34843]=6;var yt=[];yt[6408]=4,yt[6407]=3;var Yt=[];Yt[5121]=1,Yt[5126]=4,Yt[36193]=2;var Qt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],le=["x","y","z","w"],he="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),ke={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Oe={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ae={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},je={cw:2304,ccw:2305},Ze=new H(!1,!1,!1,function(){});return function(fe){function Ve(){if(0===An.length)Se&&Se.update(),Br=null;else{Br=Tt.next(Ve),be();for(var dn=An.length-1;0<=dn;--dn){var hn=An[dn];hn&&hn(rr,null,0)}Qe.flush(),Se&&Se.update()}}function He(){!Br&&0<An.length&&(Br=Tt.next(Ve))}function wr(){Br&&(Tt.cancel(Ve),Br=null)}function ar(dn){dn.preventDefault(),wr(),lr.forEach(function(hn){hn()})}function ie(dn){Qe.getError(),tr.restore(),dr.restore(),De.restore(),Pr.restore(),qr.restore(),Er.restore(),gr.restore(),Se&&Se.restore(),Zr.procs.refresh(),He(),yr.forEach(function(hn){hn()})}function ne(dn){function hn(pn,Fn){var Cn={},Ln={};return Object.keys(pn).forEach(function(On){var Jn=pn[On];if(dt.isDynamic(Jn))Ln[On]=dt.unbox(Jn,On);else{if(Fn&&Array.isArray(Jn))for(var ya=0;ya<Jn.length;++ya)if(dt.isDynamic(Jn[ya]))return void(Ln[On]=dt.unbox(Jn,On));Cn[On]=Jn}}),{dynamic:Ln,static:Cn}}var En=hn(dn.context||{},!0),Vn=hn(dn.uniforms||{},!0),Gn=hn(dn.attributes||{},!1);dn=hn(function(pn){function Fn(Ln){if(Ln in Cn){var On=Cn[Ln];delete Cn[Ln],Object.keys(On).forEach(function(Jn){Cn[Ln+"."+Jn]=On[Jn]})}}var Cn=et({},pn);return delete Cn.uniforms,delete Cn.attributes,delete Cn.context,delete Cn.vao,"stencil"in Cn&&Cn.stencil.op&&(Cn.stencil.opBack=Cn.stencil.opFront=Cn.stencil.op,delete Cn.stencil.op),Fn("blend"),Fn("depth"),Fn("cull"),Fn("stencil"),Fn("polygonOffset"),Fn("scissor"),Fn("sample"),"vao"in pn&&(Cn.vao=pn.vao),Cn}(dn),!1);var ia={gpuTime:0,cpuTime:0,count:0},Kn=Zr.compile(dn,Gn,Vn,En,ia),Qn=Kn.draw,Tr=Kn.batch,an=Kn.scope,sn=[];return et(function(pn,Fn){var Cn;if("function"==typeof pn)return an.call(this,null,pn,0);if("function"==typeof Fn)if("number"==typeof pn)for(Cn=0;Cn<pn;++Cn)an.call(this,null,Fn,Cn);else{if(!Array.isArray(pn))return an.call(this,pn,Fn,0);for(Cn=0;Cn<pn.length;++Cn)an.call(this,pn[Cn],Fn,Cn)}else if("number"==typeof pn){if(0<pn)return Tr.call(this,function xn(pn){for(;sn.length<pn;)sn.push(null);return sn}(0|pn),0|pn)}else{if(!Array.isArray(pn))return Qn.call(this,pn);if(pn.length)return Tr.call(this,pn,pn.length)}},{stats:ia,destroy:function(){Kn.destroy()}})}function ve(dn,hn){var xn=0;Zr.procs.poll();var En=hn.color;En&&(Qe.clearColor(+En[0]||0,+En[1]||0,+En[2]||0,+En[3]||0),xn|=16384),"depth"in hn&&(Qe.clearDepth(+hn.depth),xn|=256),"stencil"in hn&&(Qe.clearStencil(0|hn.stencil),xn|=1024),Qe.clear(xn)}function xe(dn){return An.push(dn),He(),{cancel:function(){var xn=nt(An,dn);An[xn]=function hn(){var En=nt(An,hn);An[En]=An[An.length-1],--An.length,0>=An.length&&wr()}}}}function Te(){var dn=zr.viewport,hn=zr.scissor_box;dn[0]=dn[1]=hn[0]=hn[1]=0,rr.viewportWidth=rr.framebufferWidth=rr.drawingBufferWidth=dn[2]=hn[2]=Qe.drawingBufferWidth,rr.viewportHeight=rr.framebufferHeight=rr.drawingBufferHeight=dn[3]=hn[3]=Qe.drawingBufferHeight}function be(){rr.tick+=1,rr.time=Be(),Te(),Zr.procs.poll()}function Pe(){Pr.refresh(),Te(),Zr.procs.refresh(),Se&&Se.update()}function Be(){return(bt()-Le)/1e3}if(!(fe=e(fe)))return null;var Qe=fe.gl,Ke=Qe.getContextAttributes();Qe.isContextLost();var tr=function r(fe,Ve){function He(ne){var ve;ne=ne.toLowerCase();try{ve=wr[ne]=fe.getExtension(ne)}catch(xe){}return!!ve}for(var wr={},ar=0;ar<Ve.extensions.length;++ar){var ie=Ve.extensions[ar];if(!He(ie))return Ve.onDestroy(),Ve.onDone('"'+ie+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Ve.optionalExtensions.forEach(He),{extensions:wr,restore:function(){Object.keys(wr).forEach(function(ne){if(wr[ne]&&!He(ne))throw Error("(regl): error restoring extension "+ne)})}}}(Qe,fe);if(!tr)return null;var rn=function i(){var fe={"":0},Ve=[""];return{id:function(He){var wr=fe[He];return wr||(wr=fe[He]=Ve.length,Ve.push(He),wr)},str:function(He){return Ve[He]}}}(),vr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ht=fe.cachedCode||{},Nt=tr.extensions,Se=function(fe,Ve){function He(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function wr(be,Pe,Be){var Qe=ne.pop()||new He;Qe.startQueryIndex=be,Qe.endQueryIndex=Pe,Qe.sum=0,Qe.stats=Be,ve.push(Qe)}if(!Ve.ext_disjoint_timer_query)return null;var ar=[],ie=[],ne=[],ve=[],xe=[],Te=[];return{beginQuery:function(be){var Pe=ar.pop()||Ve.ext_disjoint_timer_query.createQueryEXT();Ve.ext_disjoint_timer_query.beginQueryEXT(35007,Pe),ie.push(Pe),wr(ie.length-1,ie.length,be)},endQuery:function(){Ve.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:wr,update:function(){var be,Pe;if(0!==(be=ie.length)){Te.length=Math.max(Te.length,be+1),xe.length=Math.max(xe.length,be+1),xe[0]=0;var Be=Te[0]=0;for(Pe=be=0;Pe<ie.length;++Pe)Ve.ext_disjoint_timer_query.getQueryObjectEXT(Qe=ie[Pe],34919)?(Be+=Ve.ext_disjoint_timer_query.getQueryObjectEXT(Qe,34918),ar.push(Qe)):ie[be++]=Qe,xe[Pe+1]=Be,Te[Pe+1]=be;for(ie.length=be,Pe=be=0;Pe<ve.length;++Pe){var Qe,Ke=(Be=ve[Pe]).startQueryIndex;Be.sum+=xe[Qe=Be.endQueryIndex]-xe[Ke],(Qe=Te[Qe])===(Ke=Te[Ke])?(Be.stats.gpuTime+=Be.sum/1e6,ne.push(Be)):(Be.startQueryIndex=Ke,Be.endQueryIndex=Qe,ve[be++]=Be)}ve.length=be}},getNumPendingQueries:function(){return ie.length},clear:function(){ar.push.apply(ar,ie);for(var be=0;be<ar.length;be++)Ve.ext_disjoint_timer_query.deleteQueryEXT(ar[be]);ie.length=0,ar.length=0},restore:function(){ie.length=0,ar.length=0}}}(0,Nt),Le=bt(),We=Qe.drawingBufferHeight,rr={tick:0,time:0,viewportWidth:or=Qe.drawingBufferWidth,viewportHeight:We,framebufferWidth:or,framebufferHeight:We,drawingBufferWidth:or,drawingBufferHeight:We,pixelRatio:fe.pixelRatio},or={elements:null,primitive:4,count:-1,offset:0,instances:-1},qe=function(fe,Ve){var He=1;Ve.ext_texture_filter_anisotropic&&(He=fe.getParameter(34047));var wr=1,ar=1;Ve.webgl_draw_buffers&&(wr=fe.getParameter(34852),ar=fe.getParameter(36063));var ie=!!Ve.oes_texture_float;if(ie){ie=fe.createTexture(),fe.bindTexture(3553,ie),fe.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ne=fe.createFramebuffer();if(fe.bindFramebuffer(36160,ne),fe.framebufferTexture2D(36160,36064,3553,ie,0),fe.bindTexture(3553,null),36053!==fe.checkFramebufferStatus(36160))ie=!1;else{fe.viewport(0,0,1,1),fe.clearColor(1,0,0,1),fe.clear(16384);var ve=Dt.allocType(5126,4);fe.readPixels(0,0,1,1,6408,5126,ve),fe.getError()?ie=!1:(fe.deleteFramebuffer(ne),fe.deleteTexture(ie),ie=1===ve[0]),Dt.freeType(ve)}}return ve=!0,"undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(ve=fe.createTexture(),ne=Dt.allocType(5121,36),fe.activeTexture(33984),fe.bindTexture(34067,ve),fe.texImage2D(34069,0,6408,3,3,0,6408,5121,ne),Dt.freeType(ne),fe.bindTexture(34067,null),fe.deleteTexture(ve),ve=!fe.getError()),{colorBits:[fe.getParameter(3410),fe.getParameter(3411),fe.getParameter(3412),fe.getParameter(3413)],depthBits:fe.getParameter(3414),stencilBits:fe.getParameter(3415),subpixelBits:fe.getParameter(3408),extensions:Object.keys(Ve).filter(function(xe){return!!Ve[xe]}),maxAnisotropic:He,maxDrawbuffers:wr,maxColorAttachments:ar,pointSizeDims:fe.getParameter(33901),lineWidthDims:fe.getParameter(33902),maxViewportDims:fe.getParameter(3386),maxCombinedTextureUnits:fe.getParameter(35661),maxCubeMapSize:fe.getParameter(34076),maxRenderbufferSize:fe.getParameter(34024),maxTextureUnits:fe.getParameter(34930),maxTextureSize:fe.getParameter(3379),maxAttributes:fe.getParameter(34921),maxVertexUniforms:fe.getParameter(36347),maxVertexTextureUnits:fe.getParameter(35660),maxVaryingVectors:fe.getParameter(36348),maxFragmentUniforms:fe.getParameter(36349),glsl:fe.getParameter(35724),renderer:fe.getParameter(7937),vendor:fe.getParameter(7936),version:fe.getParameter(7938),readFloat:ie,npotTextureCube:ve}}(Qe,Nt),De=function o(fe,Ve,He,wr){function ar(Pe){this.id=xe++,this.buffer=fe.createBuffer(),this.type=Pe,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,He.profile&&(this.stats={size:0})}function ie(Pe,Be,Qe){Pe.byteLength=Be.byteLength,fe.bufferData(Pe.type,Be,Qe)}function ne(Pe,Be,Qe,Ke,tr,vr){if(Pe.usage=Qe,Array.isArray(Be)){if(Pe.dtype=Ke||5126,0<Be.length)if(Array.isArray(Be[0])){tr=te(Be);for(var Ht=Ke=1;Ht<tr.length;++Ht)Ke*=tr[Ht];Pe.dimension=Ke,ie(Pe,Be=Vt(Be,tr,Pe.dtype),Qe),vr?Pe.persistentData=Be:Dt.freeType(Be)}else"number"==typeof Be[0]?(Pe.dimension=tr,w(tr=Dt.allocType(Pe.dtype,Be.length),Be),ie(Pe,tr,Qe),vr?Pe.persistentData=tr:Dt.freeType(tr)):Mt(Be[0])&&(Pe.dimension=Be[0].length,Pe.dtype=Ke||v(Be[0])||5126,ie(Pe,Be=Vt(Be,[Be.length,Be[0].length],Pe.dtype),Qe),vr?Pe.persistentData=Be:Dt.freeType(Be))}else if(Mt(Be))Pe.dtype=Ke||v(Be),Pe.dimension=tr,ie(Pe,Be,Qe),vr&&(Pe.persistentData=new Uint8Array(new Uint8Array(Be.buffer)));else if(c(Be)){var Nt=Be.stride,Se=(Ht=Be.offset,0),Le=0,We=0,rr=0;1===(tr=Be.shape).length?(Se=tr[0],Le=1,We=Nt[0],rr=0):2===tr.length&&(Se=tr[0],Le=tr[1],We=Nt[0],rr=Nt[1]),Pe.dtype=Ke||v(Be.data)||5126,Pe.dimension=Le,d(tr=Dt.allocType(Pe.dtype,Se*Le),Be.data,Se,Le,We,rr,Ht),ie(Pe,tr,Qe),vr?Pe.persistentData=tr:Dt.freeType(tr)}else Be instanceof ArrayBuffer&&(Pe.dtype=5121,Pe.dimension=tr,ie(Pe,Be,Qe),vr&&(Pe.persistentData=new Uint8Array(new Uint8Array(Be))))}function ve(Pe){Ve.bufferCount--,wr(Pe),fe.deleteBuffer(Pe.buffer),Pe.buffer=null,delete Te[Pe.id]}var xe=0,Te={};ar.prototype.bind=function(){fe.bindBuffer(this.type,this.buffer)},ar.prototype.destroy=function(){ve(this)};var be=[];return He.profile&&(Ve.getTotalBufferSize=function(){var Pe=0;return Object.keys(Te).forEach(function(Be){Pe+=Te[Be].stats.size}),Pe}),{create:function(Pe,Be,Qe,Ke){function tr(Ht){var Nt=35044,Se=null,Le=0,We=0,rr=1;return Array.isArray(Ht)||Mt(Ht)||c(Ht)||Ht instanceof ArrayBuffer?Se=Ht:"number"==typeof Ht?Le=0|Ht:Ht&&("data"in Ht&&(Se=Ht.data),"usage"in Ht&&(Nt=Pt[Ht.usage]),"type"in Ht&&(We=Gt[Ht.type]),"dimension"in Ht&&(rr=0|Ht.dimension),"length"in Ht&&(Le=0|Ht.length)),vr.bind(),Se?ne(vr,Se,Nt,We,rr,Ke):(Le&&fe.bufferData(vr.type,Le,Nt),vr.dtype=We||5121,vr.usage=Nt,vr.dimension=rr,vr.byteLength=Le),He.profile&&(vr.stats.size=vr.byteLength*_t[vr.dtype]),tr}Ve.bufferCount++;var vr=new ar(Be);return Te[vr.id]=vr,Qe||tr(Pe),tr._reglType="buffer",tr._buffer=vr,tr.subdata=function(Ht,Nt){var Le,Se=0|(Nt||0);if(vr.bind(),Mt(Ht)||Ht instanceof ArrayBuffer)fe.bufferSubData(vr.type,Se,Ht);else if(Array.isArray(Ht)){if(0<Ht.length)if("number"==typeof Ht[0]){var We=Dt.allocType(vr.dtype,Ht.length);w(We,Ht),fe.bufferSubData(vr.type,Se,We),Dt.freeType(We)}else(Array.isArray(Ht[0])||Mt(Ht[0]))&&(Le=te(Ht),We=Vt(Ht,Le,vr.dtype),fe.bufferSubData(vr.type,Se,We),Dt.freeType(We))}else if(c(Ht)){var rr=Ht.stride,or=We=0,qe=0,De=0;1===(Le=Ht.shape).length?(We=Le[0],or=1,qe=rr[0],De=0):2===Le.length&&(We=Le[0],or=Le[1],qe=rr[0],De=rr[1]),Le=Array.isArray(Ht.data)?vr.dtype:v(Ht.data),d(Le=Dt.allocType(Le,We*or),Ht.data,We,or,qe,De,Ht.offset),fe.bufferSubData(vr.type,Se,Le),Dt.freeType(Le)}return tr},He.profile&&(tr.stats=vr.stats),tr.destroy=function(){ve(vr)},tr},createStream:function(Pe,Be){var Qe=be.pop();return Qe||(Qe=new ar(Pe)),Qe.bind(),ne(Qe,Be,35040,0,1,!1),Qe},destroyStream:function(Pe){be.push(Pe)},clear:function(){wt(Te).forEach(ve),be.forEach(ve)},getBuffer:function(Pe){return Pe&&Pe._buffer instanceof ar?Pe._buffer:null},restore:function(){wt(Te).forEach(function(Pe){Pe.buffer=fe.createBuffer(),fe.bindBuffer(Pe.type,Pe.buffer),fe.bufferData(Pe.type,Pe.persistentData||Pe.byteLength,Pe.usage)})},_initBuffer:ne}}(Qe,vr,fe,function(dn){return gr.destroyBuffer(dn)}),sr=function h(fe,Ve,He,wr){function ar(Pe){this.id=xe++,ve[this.id]=this,this.buffer=Pe,this.primType=4,this.type=this.vertCount=0}function ie(Pe,Be,Qe,Ke,tr,vr,Ht){var Nt;if(Pe.buffer.bind(),Be?((Nt=Ht)||Mt(Be)&&(!c(Be)||Mt(Be.data))||(Nt=Ve.oes_element_index_uint?5125:5123),He._initBuffer(Pe.buffer,Be,Qe,Nt,3)):(fe.bufferData(34963,vr,Qe),Pe.buffer.dtype=Nt||5121,Pe.buffer.usage=Qe,Pe.buffer.dimension=3,Pe.buffer.byteLength=vr),Nt=Ht,!Ht){switch(Pe.buffer.dtype){case 5121:case 5120:Nt=5121;break;case 5123:case 5122:Nt=5123;break;case 5125:case 5124:Nt=5125}Pe.buffer.dtype=Nt}Pe.type=Nt,0>(Be=tr)&&(Be=Pe.buffer.byteLength,5123===Nt?Be>>=1:5125===Nt&&(Be>>=2)),Pe.vertCount=Be,Be=Ke,0>Ke&&(Be=4,1===(Ke=Pe.buffer.dimension)&&(Be=0),2===Ke&&(Be=1),3===Ke&&(Be=4)),Pe.primType=Be}function ne(Pe){wr.elementsCount--,delete ve[Pe.id],Pe.buffer.destroy(),Pe.buffer=null}var ve={},xe=0,Te={uint8:5121,uint16:5123};Ve.oes_element_index_uint&&(Te.uint32=5125),ar.prototype.bind=function(){this.buffer.bind()};var be=[];return{create:function(Pe,Be){function Qe(vr){if(vr)if("number"==typeof vr)Ke(vr),tr.primType=4,tr.vertCount=0|vr,tr.type=5121;else{var Ht=null,Nt=35044,Se=-1,Le=-1,We=0,rr=0;Array.isArray(vr)||Mt(vr)||c(vr)?Ht=vr:("data"in vr&&(Ht=vr.data),"usage"in vr&&(Nt=Pt[vr.usage]),"primitive"in vr&&(Se=kt[vr.primitive]),"count"in vr&&(Le=0|vr.count),"type"in vr&&(rr=Te[vr.type]),"length"in vr?We=0|vr.length:(We=Le,5123===rr||5122===rr?We*=2:(5125===rr||5124===rr)&&(We*=4))),ie(tr,Ht,Nt,Se,Le,We,rr)}else Ke(),tr.primType=4,tr.vertCount=0,tr.type=5121;return Qe}var Ke=He.create(null,34963,!0),tr=new ar(Ke._buffer);return wr.elementsCount++,Qe(Pe),Qe._reglType="elements",Qe._elements=tr,Qe.subdata=function(vr,Ht){return Ke.subdata(vr,Ht),Qe},Qe.destroy=function(){ne(tr)},Qe},createStream:function(Pe){var Be=be.pop();return Be||(Be=new ar(He.create(null,34963,!0,!1)._buffer)),ie(Be,Pe,35040,-1,-1,0,0),Be},destroyStream:function(Pe){be.push(Pe)},getElements:function(Pe){return"function"==typeof Pe&&Pe._elements instanceof ar?Pe._elements:null},clear:function(){wt(ve).forEach(ne)}}}(Qe,Nt,De,vr),gr=function k(fe,Ve,He,wr,ar,ie,ne){function be(){this.id=++Ke,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ht=Ve.oes_vertex_array_object;this.vao=Ht?Ht.createVertexArrayOES():null,tr[this.id]=this,this.buffers=[]}var Be=He.maxAttributes,Qe=Array(Be);for(He=0;He<Be;++He)Qe[He]=new N;var Ke=0,tr={},vr={Record:N,scope:{},state:Qe,currentVAO:null,targetVAO:null,restore:Ve.oes_vertex_array_object?function Pe(){Ve.oes_vertex_array_object&&wt(tr).forEach(function(Ht){Ht.refresh()})}:function(){},createVAO:function(Ht){function Nt(Le){var We;Array.isArray(Le)?(We=Le,Se.elements&&Se.ownsElements&&Se.elements.destroy(),Se.elements=null,Se.ownsElements=!1,Se.offset=0,Se.count=0,Se.instances=-1,Se.primitive=4):(Le.elements?(We=Le.elements,Se.ownsElements?("function"==typeof We&&"elements"===We._reglType?Se.elements.destroy():Se.elements(We),Se.ownsElements=!1):ie.getElements(Le.elements)?(Se.elements=Le.elements,Se.ownsElements=!1):(Se.elements=ie.create(Le.elements),Se.ownsElements=!0)):(Se.elements=null,Se.ownsElements=!1),We=Le.attributes,Se.offset=0,Se.count=-1,Se.instances=-1,Se.primitive=4,Se.elements&&(Se.count=Se.elements._elements.vertCount,Se.primitive=Se.elements._elements.primType),"offset"in Le&&(Se.offset=0|Le.offset),"count"in Le&&(Se.count=0|Le.count),"instances"in Le&&(Se.instances=0|Le.instances),"primitive"in Le&&(Se.primitive=kt[Le.primitive])),Le={};var rr=Se.attributes;rr.length=We.length;for(var or=0;or<We.length;++or){var gr,qe=We[or],De=rr[or]=new N,sr=qe.data||qe;Array.isArray(sr)||Mt(sr)||c(sr)?(Se.buffers[or]&&(gr=Se.buffers[or],Mt(sr)&&gr._buffer.byteLength>=sr.byteLength?gr.subdata(sr):(gr.destroy(),Se.buffers[or]=null)),Se.buffers[or]||(gr=Se.buffers[or]=ar.create(qe,34962,!1,!0)),De.buffer=ar.getBuffer(gr),De.size=0|De.buffer.dimension,De.normalized=!1,De.type=De.buffer.dtype,De.offset=0,De.stride=0,De.divisor=0,De.state=1,Le[or]=1):ar.getBuffer(qe)?(De.buffer=ar.getBuffer(qe),De.size=0|De.buffer.dimension,De.normalized=!1,De.type=De.buffer.dtype,De.offset=0,De.stride=0,De.divisor=0,De.state=1):ar.getBuffer(qe.buffer)?(De.buffer=ar.getBuffer(qe.buffer),De.size=0|(+qe.size||De.buffer.dimension),De.normalized=!!qe.normalized||!1,De.type="type"in qe?Gt[qe.type]:De.buffer.dtype,De.offset=0|(qe.offset||0),De.stride=0|(qe.stride||0),De.divisor=0|(qe.divisor||0),De.state=1):"x"in qe&&(De.x=+qe.x||0,De.y=+qe.y||0,De.z=+qe.z||0,De.w=+qe.w||0,De.state=2)}for(gr=0;gr<Se.buffers.length;++gr)!Le[gr]&&Se.buffers[gr]&&(Se.buffers[gr].destroy(),Se.buffers[gr]=null);return Se.refresh(),Nt}var Se=new be;return wr.vaoCount+=1,Nt.destroy=function(){for(var Le=0;Le<Se.buffers.length;++Le)Se.buffers[Le]&&Se.buffers[Le].destroy();Se.buffers.length=0,Se.ownsElements&&(Se.elements.destroy(),Se.elements=null,Se.ownsElements=!1),Se.destroy()},Nt._vao=Se,Nt._reglType="vao",Nt(Ht)},getVAO:function(Ht){return"function"==typeof Ht&&Ht._vao?Ht._vao:null},destroyBuffer:function(Ht){for(var Nt=0;Nt<Qe.length;++Nt){var Se=Qe[Nt];Se.buffer===Ht&&(fe.disableVertexAttribArray(Nt),Se.buffer=null)}},setVAO:Ve.oes_vertex_array_object?function ve(Ht){Ht!==vr.currentVAO&&(Ve.oes_vertex_array_object.bindVertexArrayOES(Ht?Ht.vao:null),vr.currentVAO=Ht)}:function xe(Ht){if(Ht!==vr.currentVAO){if(Ht)Ht.bindAttrs();else{for(var Nt=Ve.angle_instanced_arrays,Se=0;Se<Qe.length;++Se){var Le=Qe[Se];Le.buffer?(fe.enableVertexAttribArray(Se),Le.buffer.bind(),fe.vertexAttribPointer(Se,Le.size,Le.type,Le.normalized,Le.stride,Le.offfset),Nt&&Le.divisor&&Nt.vertexAttribDivisorANGLE(Se,Le.divisor)):(fe.disableVertexAttribArray(Se),fe.vertexAttrib4f(Se,Le.x,Le.y,Le.z,Le.w))}fe.bindBuffer(34963,ne.elements?ne.elements.buffer.buffer:null)}vr.currentVAO=Ht}},clear:Ve.oes_vertex_array_object?function Te(){wt(tr).forEach(function(Ht){Ht.destroy()})}:function(){}};return be.prototype.bindAttrs=function(){for(var Ht=Ve.angle_instanced_arrays,Nt=this.attributes,Se=0;Se<Nt.length;++Se){var Le=Nt[Se];Le.buffer?(fe.enableVertexAttribArray(Se),fe.bindBuffer(34962,Le.buffer.buffer),fe.vertexAttribPointer(Se,Le.size,Le.type,Le.normalized,Le.stride,Le.offset),Ht&&Le.divisor&&Ht.vertexAttribDivisorANGLE(Se,Le.divisor)):(fe.disableVertexAttribArray(Se),fe.vertexAttrib4f(Se,Le.x,Le.y,Le.z,Le.w))}for(Ht=Nt.length;Ht<Be;++Ht)fe.disableVertexAttribArray(Ht);(Ht=ie.getElements(this.elements))?fe.bindBuffer(34963,Ht.buffer.buffer):fe.bindBuffer(34963,null)},be.prototype.refresh=function(){var Ht=Ve.oes_vertex_array_object;Ht&&(Ht.bindVertexArrayOES(this.vao),this.bindAttrs(),vr.currentVAO=null,Ht.bindVertexArrayOES(null))},be.prototype.destroy=function(){if(this.vao){var Ht=Ve.oes_vertex_array_object;this===vr.currentVAO&&(vr.currentVAO=null,Ht.bindVertexArrayOES(null)),Ht.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),tr[this.id]&&(delete tr[this.id],--wr.vaoCount)},vr}(Qe,Nt,qe,vr,De,sr,or),dr=function O(fe,Ve,He,wr){function ar(Ke,tr,vr,Ht){this.name=Ke,this.id=tr,this.location=vr,this.info=Ht}function ie(Ke,tr){for(var vr=0;vr<Ke.length;++vr)if(Ke[vr].id===tr.id)return void(Ke[vr].location=tr.location);Ke.push(tr)}function ne(Ke,tr,vr){if(!(Ht=(vr=35632===Ke?Te:be)[tr])){var Nt=Ve.str(tr),Ht=fe.createShader(Ke);fe.shaderSource(Ht,Nt),fe.compileShader(Ht),vr[tr]=Ht}return Ht}function ve(Ke,tr){this.id=Qe++,this.fragId=Ke,this.vertId=tr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,wr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function xe(Ke,tr,vr){var Ht;Ht=ne(35632,Ke.fragId);var Nt=ne(35633,Ke.vertId);if(tr=Ke.program=fe.createProgram(),fe.attachShader(tr,Ht),fe.attachShader(tr,Nt),vr)for(Ht=0;Ht<vr.length;++Ht)fe.bindAttribLocation(tr,(Nt=vr[Ht])[0],Nt[1]);fe.linkProgram(tr),Nt=fe.getProgramParameter(tr,35718),wr.profile&&(Ke.stats.uniformsCount=Nt);var Se=Ke.uniforms;for(Ht=0;Ht<Nt;++Ht)if(vr=fe.getActiveUniform(tr,Ht))if(1<vr.size)for(var Le=0;Le<vr.size;++Le){var We=vr.name.replace("[0]","["+Le+"]");ie(Se,new ar(We,Ve.id(We),fe.getUniformLocation(tr,We),vr))}else ie(Se,new ar(vr.name,Ve.id(vr.name),fe.getUniformLocation(tr,vr.name),vr));for(Nt=fe.getProgramParameter(tr,35721),wr.profile&&(Ke.stats.attributesCount=Nt),Ke=Ke.attributes,Ht=0;Ht<Nt;++Ht)(vr=fe.getActiveAttrib(tr,Ht))&&ie(Ke,new ar(vr.name,Ve.id(vr.name),fe.getAttribLocation(tr,vr.name),vr))}var Te={},be={},Pe={},Be=[],Qe=0;return wr.profile&&(He.getMaxUniformsCount=function(){var Ke=0;return Be.forEach(function(tr){tr.stats.uniformsCount>Ke&&(Ke=tr.stats.uniformsCount)}),Ke},He.getMaxAttributesCount=function(){var Ke=0;return Be.forEach(function(tr){tr.stats.attributesCount>Ke&&(Ke=tr.stats.attributesCount)}),Ke}),{clear:function(){var Ke=fe.deleteShader.bind(fe);wt(Te).forEach(Ke),Te={},wt(be).forEach(Ke),be={},Be.forEach(function(tr){fe.deleteProgram(tr.program)}),Be.length=0,Pe={},He.shaderCount=0},program:function(Ke,tr,vr,Ht){var Nt=Pe[tr];Nt||(Nt=Pe[tr]={});var Se=Nt[Ke];if(Se&&(Se.refCount++,!Ht))return Se;var Le=new ve(tr,Ke);return He.shaderCount++,xe(Le,vr,Ht),Se||(Nt[Ke]=Le),Be.push(Le),et(Le,{destroy:function(){if(Le.refCount--,0>=Le.refCount){fe.deleteProgram(Le.program);var We=Be.indexOf(Le);Be.splice(We,1),He.shaderCount--}0>=Nt[Le.vertId].refCount&&(fe.deleteShader(be[Le.vertId]),delete be[Le.vertId],delete Pe[Le.fragId][Le.vertId]),Object.keys(Pe[Le.fragId]).length||(fe.deleteShader(Te[Le.fragId]),delete Te[Le.fragId],delete Pe[Le.fragId])}})},restore:function(){Te={},be={};for(var Ke=0;Ke<Be.length;++Ke)xe(Be[Ke],null,Be[Ke].attributes.map(function(tr){return[tr.location,tr.name]}))},shader:ne,frag:-1,vert:-1}}(Qe,rn,vr,fe),Pr=function F(fe,Ve,He,wr,ar,ie,ne){function ve(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function xe(Tr,an){Tr.internalformat=an.internalformat,Tr.format=an.format,Tr.type=an.type,Tr.compressed=an.compressed,Tr.premultiplyAlpha=an.premultiplyAlpha,Tr.flipY=an.flipY,Tr.unpackAlignment=an.unpackAlignment,Tr.colorSpace=an.colorSpace,Tr.width=an.width,Tr.height=an.height,Tr.channels=an.channels}function Te(Tr,an){if("object"==typeof an&&an){"premultiplyAlpha"in an&&(Tr.premultiplyAlpha=an.premultiplyAlpha),"flipY"in an&&(Tr.flipY=an.flipY),"alignment"in an&&(Tr.unpackAlignment=an.alignment),"colorSpace"in an&&(Tr.colorSpace=rn[an.colorSpace]),"type"in an&&(Tr.type=zr[an.type]);var sn=Tr.width,pn=Tr.height,Fn=Tr.channels,Cn=!1;"shape"in an?(sn=an.shape[0],pn=an.shape[1],3===an.shape.length&&(Fn=an.shape[2],Cn=!0)):("radius"in an&&(sn=pn=an.radius),"width"in an&&(sn=an.width),"height"in an&&(pn=an.height),"channels"in an&&(Fn=an.channels,Cn=!0)),Tr.width=0|sn,Tr.height=0|pn,Tr.channels=0|Fn,sn=!1,"format"in an&&(pn=Tr.internalformat=Pn[sn=an.format],Tr.format=xn[pn],sn in zr&&!("type"in an)&&(Tr.type=zr[sn]),sn in An&&(Tr.compressed=!0),sn=!0),!Cn&&sn?Tr.channels=pe[Tr.format]:Cn&&!sn&&Tr.channels!==oe[Tr.format]&&(Tr.format=Tr.internalformat=oe[Tr.channels])}}function be(Tr){fe.pixelStorei(37440,Tr.flipY),fe.pixelStorei(37441,Tr.premultiplyAlpha),fe.pixelStorei(37443,Tr.colorSpace),fe.pixelStorei(3317,Tr.unpackAlignment)}function Pe(){ve.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Be(Tr,an){var sn=null;if(n(an)?sn=an:an&&(Te(Tr,an),"x"in an&&(Tr.xOffset=0|an.x),"y"in an&&(Tr.yOffset=0|an.y),n(an.data)&&(sn=an.data)),an.copy){var pn=ar.viewportWidth,Fn=ar.viewportHeight;Tr.width=Tr.width||pn-Tr.xOffset,Tr.height=Tr.height||Fn-Tr.yOffset,Tr.needsCopy=!0}else if(sn){if(Mt(sn))Tr.channels=Tr.channels||4,Tr.data=sn,"type"in an||5121!==Tr.type||(Tr.type=0|Ut[Object.prototype.toString.call(sn)]);else if(m(sn)){switch(Tr.channels=Tr.channels||4,Fn=(pn=sn).length,Tr.type){case 5121:case 5123:case 5125:case 5126:(Fn=Dt.allocType(Tr.type,Fn)).set(pn),Tr.data=Fn;break;case 36193:Tr.data=M(pn)}Tr.alignment=1,Tr.needsFree=!0}else if(c(sn)){pn=sn.data,Array.isArray(pn)||5121!==Tr.type||(Tr.type=0|Ut[Object.prototype.toString.call(pn)]);var Ln,On,Jn,ya,Cn=sn.stride;3===(Fn=sn.shape).length?(Jn=Fn[2],ya=Cn[2]):ya=Jn=1,Ln=Fn[0],On=Fn[1],Fn=Cn[0],Cn=Cn[1],Tr.alignment=1,Tr.width=Ln,Tr.height=On,Tr.channels=Jn,Tr.format=Tr.internalformat=oe[Jn],Tr.needsFree=!0,Ln=ya,sn=sn.offset;for(var Ba=Dt.allocType(36193===Tr.type?5126:Tr.type,(Jn=Tr.width)*(ya=Tr.height)*(On=Tr.channels)),Xe=0,br=0;br<ya;++br)for(var en=0;en<Jn;++en)for(var vn=0;vn<On;++vn)Ba[Xe++]=pn[Fn*en+Cn*br+Ln*vn+sn];C(Tr,Ba)}else if(b(sn)===ye||b(sn)===Fe||b(sn)===Zt)Tr.element=b(sn)===ye||b(sn)===Fe?sn:sn.canvas,Tr.width=Tr.element.width,Tr.height=Tr.element.height,Tr.channels=4;else if(b(sn)===Ct)Tr.element=sn,Tr.width=sn.width,Tr.height=sn.height,Tr.channels=4;else if(b(sn)===Et)Tr.element=sn,Tr.width=sn.naturalWidth,Tr.height=sn.naturalHeight,Tr.channels=4;else if(b(sn)===Rt)Tr.element=sn,Tr.width=sn.videoWidth,Tr.height=sn.videoHeight,Tr.channels=4;else if(S(sn)){for(pn=Tr.width||sn[0].length,Fn=Tr.height||sn.length,Cn=Tr.channels,Cn=T(sn[0][0])?Cn||sn[0][0].length:Cn||1,Ln=St.shape(sn),Jn=1,ya=0;ya<Ln.length;++ya)Jn*=Ln[ya];Jn=Dt.allocType(36193===Tr.type?5126:Tr.type,Jn),St.flatten(sn,Ln,"",Jn),C(Tr,Jn),Tr.alignment=1,Tr.width=pn,Tr.height=Fn,Tr.channels=Cn,Tr.format=Tr.internalformat=oe[Cn],Tr.needsFree=!0}}else Tr.width=Tr.width||1,Tr.height=Tr.height||1,Tr.channels=Tr.channels||4}function Qe(Tr,an,sn,pn,Fn){var Cn=Tr.element,Ln=Tr.data,On=Tr.internalformat,Jn=Tr.format,ya=Tr.type,Ba=Tr.width,Xe=Tr.height;be(Tr),Cn?fe.texSubImage2D(an,Fn,sn,pn,Jn,ya,Cn):Tr.compressed?fe.compressedTexSubImage2D(an,Fn,sn,pn,On,Ba,Xe,Ln):Tr.needsCopy?(wr(),fe.copyTexSubImage2D(an,Fn,sn,pn,Tr.xOffset,Tr.yOffset,Ba,Xe)):fe.texSubImage2D(an,Fn,sn,pn,Ba,Xe,Jn,ya,Ln)}function Ke(){return En.pop()||new Pe}function tr(Tr){Tr.needsFree&&Dt.freeType(Tr.data),Pe.call(Tr),En.push(Tr)}function vr(){ve.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ht(Tr,an,sn){var pn=Tr.images[0]=Ke();Tr.mipmask=1,pn.width=Tr.width=an,pn.height=Tr.height=sn,pn.channels=Tr.channels=4}function Nt(Tr,an){var sn=null;if(n(an))xe(sn=Tr.images[0]=Ke(),Tr),Be(sn,an),Tr.mipmask=1;else if(Te(Tr,an),Array.isArray(an.mipmap))for(var pn=an.mipmap,Fn=0;Fn<pn.length;++Fn)xe(sn=Tr.images[Fn]=Ke(),Tr),sn.width>>=Fn,sn.height>>=Fn,Be(sn,pn[Fn]),Tr.mipmask|=1<<Fn;else xe(sn=Tr.images[0]=Ke(),Tr),Be(sn,an),Tr.mipmask=1;xe(Tr,Tr.images[0])}function Se(Tr,an){for(var sn=Tr.images,pn=0;pn<sn.length&&sn[pn];++pn){var Fn=sn[pn],Cn=an,Ln=pn,On=Fn.element,Jn=Fn.data,ya=Fn.internalformat,Ba=Fn.format,Xe=Fn.type,br=Fn.width,en=Fn.height;be(Fn),On?fe.texImage2D(Cn,Ln,Ba,Ba,Xe,On):Fn.compressed?fe.compressedTexImage2D(Cn,Ln,ya,br,en,0,Jn):Fn.needsCopy?(wr(),fe.copyTexImage2D(Cn,Ln,Ba,Fn.xOffset,Fn.yOffset,br,en,0)):fe.texImage2D(Cn,Ln,Ba,br,en,0,Ba,Xe,Jn||null)}}function Le(){var Tr=Vn.pop()||new vr;ve.call(Tr);for(var an=Tr.mipmask=0;16>an;++an)Tr.images[an]=null;return Tr}function We(Tr){for(var an=Tr.images,sn=0;sn<an.length;++sn)an[sn]&&tr(an[sn]),an[sn]=null;Vn.push(Tr)}function rr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function or(Tr,an){"min"in an&&(Tr.minFilter=Zr[an.min],0<=ae.indexOf(Tr.minFilter)&&!("faces"in an)&&(Tr.genMipmaps=!0)),"mag"in an&&(Tr.magFilter=Er[an.mag]);var sn=Tr.wrapS,pn=Tr.wrapT;if("wrap"in an){var Fn=an.wrap;"string"==typeof Fn?sn=pn=qr[Fn]:Array.isArray(Fn)&&(sn=qr[Fn[0]],pn=qr[Fn[1]])}else"wrapS"in an&&(sn=qr[an.wrapS]),"wrapT"in an&&(pn=qr[an.wrapT]);if(Tr.wrapS=sn,Tr.wrapT=pn,"anisotropic"in an&&(Tr.anisotropic=an.anisotropic),"mipmap"in an){switch(sn=!1,typeof an.mipmap){case"string":Tr.mipmapHint=Pr[an.mipmap],sn=Tr.genMipmaps=!0;break;case"boolean":sn=Tr.genMipmaps=an.mipmap;break;case"object":Tr.genMipmaps=!1,sn=!0}!sn||"min"in an||(Tr.minFilter=9984)}}function qe(Tr,an){fe.texParameteri(an,10241,Tr.minFilter),fe.texParameteri(an,10240,Tr.magFilter),fe.texParameteri(an,10242,Tr.wrapS),fe.texParameteri(an,10243,Tr.wrapT),Ve.ext_texture_filter_anisotropic&&fe.texParameteri(an,34046,Tr.anisotropic),Tr.genMipmaps&&(fe.hint(33170,Tr.mipmapHint),fe.generateMipmap(an))}function De(Tr){ve.call(this),this.mipmask=0,this.internalformat=6408,this.id=Gn++,this.refCount=1,this.target=Tr,this.texture=fe.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new rr,ne.profile&&(this.stats={size:0})}function sr(Tr){fe.activeTexture(33984),fe.bindTexture(Tr.target,Tr.texture)}function gr(){var Tr=Qn[0];Tr?fe.bindTexture(Tr.target,Tr.texture):fe.bindTexture(3553,null)}function dr(Tr){var an=Tr.texture,sn=Tr.unit,pn=Tr.target;0<=sn&&(fe.activeTexture(33984+sn),fe.bindTexture(pn,null),Qn[sn]=null),fe.deleteTexture(an),Tr.texture=null,Tr.params=null,Tr.pixels=null,Tr.refCount=0,delete ia[Tr.id],ie.textureCount--}var Pr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},qr={repeat:10497,clamp:33071,mirror:33648},Er={nearest:9728,linear:9729},Zr=et({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Er),rn={none:0,browser:37444},zr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Pn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},An={};Ve.ext_srgb&&(Pn.srgb=35904,Pn.srgba=35906),Ve.oes_texture_float&&(zr.float32=zr.float=5126),Ve.oes_texture_half_float&&(zr.float16=zr["half float"]=36193),Ve.webgl_depth_texture&&(et(Pn,{depth:6402,"depth stencil":34041}),et(zr,{uint16:5123,uint32:5125,"depth stencil":34042})),Ve.webgl_compressed_texture_s3tc&&et(An,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Ve.webgl_compressed_texture_atc&&et(An,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Ve.webgl_compressed_texture_pvrtc&&et(An,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Ve.webgl_compressed_texture_etc1&&(An["rgb etc1"]=36196);var lr=Array.prototype.slice.call(fe.getParameter(34467));Object.keys(An).forEach(function(Tr){var an=An[Tr];0<=lr.indexOf(an)&&(Pn[Tr]=an)});var yr=Object.keys(Pn);He.textureFormats=yr;var Fr=[];Object.keys(Pn).forEach(function(Tr){Fr[Pn[Tr]]=Tr});var Br=[];Object.keys(zr).forEach(function(Tr){Br[zr[Tr]]=Tr});var _r=[];Object.keys(Er).forEach(function(Tr){_r[Er[Tr]]=Tr});var dn=[];Object.keys(Zr).forEach(function(Tr){dn[Zr[Tr]]=Tr});var hn=[];Object.keys(qr).forEach(function(Tr){hn[qr[Tr]]=Tr});var xn=yr.reduce(function(Tr,an){var sn=Pn[an];return Tr[sn]=6409===sn||6406===sn||6409===sn||6410===sn||6402===sn||34041===sn||Ve.ext_srgb&&(35904===sn||35906===sn)?sn:32855===sn||0<=an.indexOf("rgba")?6408:6407,Tr},{}),En=[],Vn=[],Gn=0,ia={},Kn=He.maxTextureUnits,Qn=Array(Kn).map(function(){return null});return et(De.prototype,{bind:function(){this.bindCount+=1;var Tr=this.unit;if(0>Tr){for(var an=0;an<Kn;++an){var sn=Qn[an];if(sn){if(0<sn.bindCount)continue;sn.unit=-1}Qn[an]=this,Tr=an;break}ne.profile&&ie.maxTextureUnits<Tr+1&&(ie.maxTextureUnits=Tr+1),this.unit=Tr,fe.activeTexture(33984+Tr),fe.bindTexture(this.target,this.texture)}return Tr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&dr(this)}}),ne.profile&&(ie.getTotalTextureSize=function(){var Tr=0;return Object.keys(ia).forEach(function(an){Tr+=ia[an].stats.size}),Tr}),{create2D:function(Tr,an){function sn(Fn,Cn){var Ln=pn.texInfo;rr.call(Ln);var On=Le();return"number"==typeof Fn?Ht(On,0|Fn,"number"==typeof Cn?0|Cn:0|Fn):Fn?(or(Ln,Fn),Nt(On,Fn)):Ht(On,1,1),Ln.genMipmaps&&(On.mipmask=(On.width<<1)-1),pn.mipmask=On.mipmask,xe(pn,On),pn.internalformat=On.internalformat,sn.width=On.width,sn.height=On.height,sr(pn),Se(On,3553),qe(Ln,3553),gr(),We(On),ne.profile&&(pn.stats.size=p(pn.internalformat,pn.type,On.width,On.height,Ln.genMipmaps,!1)),sn.format=Fr[pn.internalformat],sn.type=Br[pn.type],sn.mag=_r[Ln.magFilter],sn.min=dn[Ln.minFilter],sn.wrapS=hn[Ln.wrapS],sn.wrapT=hn[Ln.wrapT],sn}var pn=new De(3553);return ia[pn.id]=pn,ie.textureCount++,sn(Tr,an),sn.subimage=function(Fn,Cn,Ln,On){Cn|=0,Ln|=0,On|=0;var Jn=Ke();return xe(Jn,pn),Jn.width=0,Jn.height=0,Be(Jn,Fn),Jn.width=Jn.width||(pn.width>>On)-Cn,Jn.height=Jn.height||(pn.height>>On)-Ln,sr(pn),Qe(Jn,3553,Cn,Ln,On),gr(),tr(Jn),sn},sn.resize=function(Fn,Cn){var Ln=0|Fn,On=0|Cn||Ln;if(Ln===pn.width&&On===pn.height)return sn;sn.width=pn.width=Ln,sn.height=pn.height=On,sr(pn);for(var Jn=0;pn.mipmask>>Jn;++Jn){var ya=Ln>>Jn,Ba=On>>Jn;if(!ya||!Ba)break;fe.texImage2D(3553,Jn,pn.format,ya,Ba,0,pn.format,pn.type,null)}return gr(),ne.profile&&(pn.stats.size=p(pn.internalformat,pn.type,Ln,On,!1,!1)),sn},sn._reglType="texture2d",sn._texture=pn,ne.profile&&(sn.stats=pn.stats),sn.destroy=function(){pn.decRef()},sn},createCube:function(Tr,an,sn,pn,Fn,Cn){function Ln(ya,Ba,Xe,br,en,vn){var un,Sn=On.texInfo;for(rr.call(Sn),un=0;6>un;++un)Jn[un]=Le();if("number"!=typeof ya&&ya){if("object"==typeof ya)if(Ba)Nt(Jn[0],ya),Nt(Jn[1],Ba),Nt(Jn[2],Xe),Nt(Jn[3],br),Nt(Jn[4],en),Nt(Jn[5],vn);else if(or(Sn,ya),Te(On,ya),"faces"in ya)for(ya=ya.faces,un=0;6>un;++un)xe(Jn[un],On),Nt(Jn[un],ya[un]);else for(un=0;6>un;++un)Nt(Jn[un],ya)}else for(ya=0|ya||1,un=0;6>un;++un)Ht(Jn[un],ya,ya);for(xe(On,Jn[0]),On.mipmask=Sn.genMipmaps?(Jn[0].width<<1)-1:Jn[0].mipmask,On.internalformat=Jn[0].internalformat,Ln.width=Jn[0].width,Ln.height=Jn[0].height,sr(On),un=0;6>un;++un)Se(Jn[un],34069+un);for(qe(Sn,34067),gr(),ne.profile&&(On.stats.size=p(On.internalformat,On.type,Ln.width,Ln.height,Sn.genMipmaps,!0)),Ln.format=Fr[On.internalformat],Ln.type=Br[On.type],Ln.mag=_r[Sn.magFilter],Ln.min=dn[Sn.minFilter],Ln.wrapS=hn[Sn.wrapS],Ln.wrapT=hn[Sn.wrapT],un=0;6>un;++un)We(Jn[un]);return Ln}var On=new De(34067);ia[On.id]=On,ie.cubeCount++;var Jn=Array(6);return Ln(Tr,an,sn,pn,Fn,Cn),Ln.subimage=function(ya,Ba,Xe,br,en){Xe|=0,br|=0,en|=0;var vn=Ke();return xe(vn,On),vn.width=0,vn.height=0,Be(vn,Ba),vn.width=vn.width||(On.width>>en)-Xe,vn.height=vn.height||(On.height>>en)-br,sr(On),Qe(vn,34069+ya,Xe,br,en),gr(),tr(vn),Ln},Ln.resize=function(ya){if((ya|=0)!==On.width){Ln.width=On.width=ya,Ln.height=On.height=ya,sr(On);for(var Ba=0;6>Ba;++Ba)for(var Xe=0;On.mipmask>>Xe;++Xe)fe.texImage2D(34069+Ba,Xe,On.format,ya>>Xe,ya>>Xe,0,On.format,On.type,null);return gr(),ne.profile&&(On.stats.size=p(On.internalformat,On.type,Ln.width,Ln.height,!1,!0)),Ln}},Ln._reglType="textureCube",Ln._texture=On,ne.profile&&(Ln.stats=On.stats),Ln.destroy=function(){On.decRef()},Ln},clear:function(){for(var Tr=0;Tr<Kn;++Tr)fe.activeTexture(33984+Tr),fe.bindTexture(3553,null),Qn[Tr]=null;wt(ia).forEach(dr),ie.cubeCount=0,ie.textureCount=0},getTexture:function(Tr){return null},restore:function(){for(var Tr=0;Tr<Kn;++Tr){var an=Qn[Tr];an&&(an.bindCount=0,an.unit=-1,Qn[Tr]=null)}wt(ia).forEach(function(sn){sn.texture=fe.createTexture(),fe.bindTexture(sn.target,sn.texture);for(var pn=0;32>pn;++pn)if(0!=(sn.mipmask&1<<pn))if(3553===sn.target)fe.texImage2D(3553,pn,sn.internalformat,sn.width>>pn,sn.height>>pn,0,sn.internalformat,sn.type,null);else for(var Fn=0;6>Fn;++Fn)fe.texImage2D(34069+Fn,pn,sn.internalformat,sn.width>>pn,sn.height>>pn,0,sn.internalformat,sn.type,null);qe(sn.texInfo,sn.target)})},refresh:function(){for(var Tr=0;Tr<Kn;++Tr){var an=Qn[Tr];an&&(an.bindCount=0,an.unit=-1,Qn[Tr]=null),fe.activeTexture(33984+Tr),fe.bindTexture(3553,null),fe.bindTexture(34067,null)}}}}(Qe,Nt,qe,function(){Zr.procs.poll()},rr,vr,fe),qr=function(fe,Ve,He,wr,ar){function ie(Pe){this.id=Te++,this.refCount=1,this.renderbuffer=Pe,this.format=32854,this.height=this.width=0,ar.profile&&(this.stats={size:0})}function ne(Pe){var Be=Pe.renderbuffer;fe.bindRenderbuffer(36161,null),fe.deleteRenderbuffer(Be),Pe.renderbuffer=null,Pe.refCount=0,delete be[Pe.id],wr.renderbufferCount--}var ve={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Ve.ext_srgb&&(ve.srgba=35907),Ve.ext_color_buffer_half_float&&(ve.rgba16f=34842,ve.rgb16f=34843),Ve.webgl_color_buffer_float&&(ve.rgba32f=34836);var xe=[];Object.keys(ve).forEach(function(Pe){xe[ve[Pe]]=Pe});var Te=0,be={};return ie.prototype.decRef=function(){0>=--this.refCount&&ne(this)},ar.profile&&(wr.getTotalRenderbufferSize=function(){var Pe=0;return Object.keys(be).forEach(function(Be){Pe+=be[Be].stats.size}),Pe}),{create:function(Pe,Be){function Qe(tr,vr){var Ht=0,Nt=0,Se=32854;if("object"==typeof tr&&tr?("shape"in tr?(Ht=0|(Nt=tr.shape)[0],Nt=0|Nt[1]):("radius"in tr&&(Ht=Nt=0|tr.radius),"width"in tr&&(Ht=0|tr.width),"height"in tr&&(Nt=0|tr.height)),"format"in tr&&(Se=ve[tr.format])):"number"==typeof tr?(Ht=0|tr,Nt="number"==typeof vr?0|vr:Ht):tr||(Ht=Nt=1),Ht!==Ke.width||Nt!==Ke.height||Se!==Ke.format)return Qe.width=Ke.width=Ht,Qe.height=Ke.height=Nt,Ke.format=Se,fe.bindRenderbuffer(36161,Ke.renderbuffer),fe.renderbufferStorage(36161,Se,Ht,Nt),ar.profile&&(Ke.stats.size=pt[Ke.format]*Ke.width*Ke.height),Qe.format=xe[Ke.format],Qe}var Ke=new ie(fe.createRenderbuffer());return be[Ke.id]=Ke,wr.renderbufferCount++,Qe(Pe,Be),Qe.resize=function(tr,vr){var Ht=0|tr,Nt=0|vr||Ht;return Ht===Ke.width&&Nt===Ke.height||(Qe.width=Ke.width=Ht,Qe.height=Ke.height=Nt,fe.bindRenderbuffer(36161,Ke.renderbuffer),fe.renderbufferStorage(36161,Ke.format,Ht,Nt),ar.profile&&(Ke.stats.size=pt[Ke.format]*Ke.width*Ke.height)),Qe},Qe._reglType="renderbuffer",Qe._renderbuffer=Ke,ar.profile&&(Qe.stats=Ke.stats),Qe.destroy=function(){Ke.decRef()},Qe},clear:function(){wt(be).forEach(ne)},restore:function(){wt(be).forEach(function(Pe){Pe.renderbuffer=fe.createRenderbuffer(),fe.bindRenderbuffer(36161,Pe.renderbuffer),fe.renderbufferStorage(36161,Pe.format,Pe.width,Pe.height)}),fe.bindRenderbuffer(36161,null)}}}(Qe,Nt,0,vr,fe),Er=function D(fe,Ve,He,wr,ar,ie){function ne(De,sr,gr){this.target=De,this.texture=sr,this.renderbuffer=gr;var dr=De=0;sr?(De=sr.width,dr=sr.height):gr&&(De=gr.width,dr=gr.height),this.width=De,this.height=dr}function ve(De){De&&(De.texture&&De.texture._texture.decRef(),De.renderbuffer&&De.renderbuffer._renderbuffer.decRef())}function xe(De,sr,gr){De&&(De.texture?De.texture._texture.refCount+=1:De.renderbuffer._renderbuffer.refCount+=1)}function Te(De,sr){sr&&(sr.texture?fe.framebufferTexture2D(36160,De,sr.target,sr.texture._texture.texture,0):fe.framebufferRenderbuffer(36160,De,36161,sr.renderbuffer._renderbuffer.renderbuffer))}function be(De){var sr=3553,gr=null,dr=null,Pr=De;return"object"==typeof De&&(Pr=De.data,"target"in De&&(sr=0|De.target)),"texture2d"===(De=Pr._reglType)||"textureCube"===De?gr=Pr:"renderbuffer"===De&&(dr=Pr,sr=36161),new ne(sr,gr,dr)}function Pe(De,sr,gr,dr,Pr){return gr?((De=wr.create2D({width:De,height:sr,format:dr,type:Pr}))._texture.refCount=0,new ne(3553,De,null)):((De=ar.create({width:De,height:sr,format:dr}))._renderbuffer.refCount=0,new ne(36161,null,De))}function Be(De){return De&&(De.texture||De.renderbuffer)}function Qe(De,sr,gr){De&&(De.texture?De.texture.resize(sr,gr):De.renderbuffer&&De.renderbuffer.resize(sr,gr),De.width=sr,De.height=gr)}function Ke(){this.id=or++,qe[this.id]=this,this.framebuffer=fe.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function tr(De){De.colorAttachments.forEach(ve),ve(De.depthAttachment),ve(De.stencilAttachment),ve(De.depthStencilAttachment)}function vr(De){fe.deleteFramebuffer(De.framebuffer),De.framebuffer=null,ie.framebufferCount--,delete qe[De.id]}function Ht(De){var sr;fe.bindFramebuffer(36160,De.framebuffer);var gr=De.colorAttachments;for(sr=0;sr<gr.length;++sr)Te(36064+sr,gr[sr]);for(sr=gr.length;sr<He.maxColorAttachments;++sr)fe.framebufferTexture2D(36160,36064+sr,3553,null,0);fe.framebufferTexture2D(36160,33306,3553,null,0),fe.framebufferTexture2D(36160,36096,3553,null,0),fe.framebufferTexture2D(36160,36128,3553,null,0),Te(36096,De.depthAttachment),Te(36128,De.stencilAttachment),Te(33306,De.depthStencilAttachment),fe.checkFramebufferStatus(36160),fe.isContextLost(),fe.bindFramebuffer(36160,Se.next?Se.next.framebuffer:null),Se.cur=Se.next,fe.getError()}function Nt(De,sr){function gr(Pr,qr){var Er,Zr=0,rn=0,zr=!0,Pn=!0;Er=null;var An=!0,lr="rgba",yr="uint8",Fr=1,Br=null,_r=null,dn=null,hn=!1;"number"==typeof Pr?(Zr=0|Pr,rn=0|qr||Zr):Pr?("shape"in Pr?(Zr=(rn=Pr.shape)[0],rn=rn[1]):("radius"in Pr&&(Zr=rn=Pr.radius),"width"in Pr&&(Zr=Pr.width),"height"in Pr&&(rn=Pr.height)),("color"in Pr||"colors"in Pr)&&(Er=Pr.color||Pr.colors,Array.isArray(Er)),Er||("colorCount"in Pr&&(Fr=0|Pr.colorCount),"colorTexture"in Pr&&(An=!!Pr.colorTexture,lr="rgba4"),"colorType"in Pr&&(yr=Pr.colorType,!An)&&("half float"===yr||"float16"===yr?lr="rgba16f":("float"===yr||"float32"===yr)&&(lr="rgba32f")),"colorFormat"in Pr&&(0<=Le.indexOf(lr=Pr.colorFormat)?An=!0:0<=We.indexOf(lr)&&(An=!1))),("depthTexture"in Pr||"depthStencilTexture"in Pr)&&(hn=!(!Pr.depthTexture&&!Pr.depthStencilTexture)),"depth"in Pr&&("boolean"==typeof Pr.depth?zr=Pr.depth:(Br=Pr.depth,Pn=!1)),"stencil"in Pr&&("boolean"==typeof Pr.stencil?Pn=Pr.stencil:(_r=Pr.stencil,zr=!1)),"depthStencil"in Pr&&("boolean"==typeof Pr.depthStencil?zr=Pn=Pr.depthStencil:(dn=Pr.depthStencil,Pn=zr=!1))):Zr=rn=1;var xn=null,En=null,Vn=null,Gn=null;if(Array.isArray(Er))xn=Er.map(be);else if(Er)xn=[be(Er)];else for(xn=Array(Fr),Er=0;Er<Fr;++Er)xn[Er]=Pe(Zr,rn,An,lr,yr);for(Zr=Zr||xn[0].width,rn=rn||xn[0].height,Br?En=be(Br):zr&&!Pn&&(En=Pe(Zr,rn,hn,"depth","uint32")),_r?Vn=be(_r):Pn&&!zr&&(Vn=Pe(Zr,rn,!1,"stencil","uint8")),dn?Gn=be(dn):!Br&&!_r&&Pn&&zr&&(Gn=Pe(Zr,rn,hn,"depth stencil","depth stencil")),zr=null,Er=0;Er<xn.length;++Er)xe(xn[Er]),xn[Er]&&xn[Er].texture&&(Pn=yt[xn[Er].texture._texture.format]*Yt[xn[Er].texture._texture.type],null===zr&&(zr=Pn));return xe(En),xe(Vn),xe(Gn),tr(dr),dr.width=Zr,dr.height=rn,dr.colorAttachments=xn,dr.depthAttachment=En,dr.stencilAttachment=Vn,dr.depthStencilAttachment=Gn,gr.color=xn.map(Be),gr.depth=Be(En),gr.stencil=Be(Vn),gr.depthStencil=Be(Gn),gr.width=dr.width,gr.height=dr.height,Ht(dr),gr}var dr=new Ke;return ie.framebufferCount++,gr(De,sr),et(gr,{resize:function(Pr,qr){var Er=Math.max(0|Pr,1),Zr=Math.max(0|qr||Er,1);if(Er===dr.width&&Zr===dr.height)return gr;for(var rn=dr.colorAttachments,zr=0;zr<rn.length;++zr)Qe(rn[zr],Er,Zr);return Qe(dr.depthAttachment,Er,Zr),Qe(dr.stencilAttachment,Er,Zr),Qe(dr.depthStencilAttachment,Er,Zr),dr.width=gr.width=Er,dr.height=gr.height=Zr,Ht(dr),gr},_reglType:"framebuffer",_framebuffer:dr,destroy:function(){vr(dr),tr(dr)},use:function(Pr){Se.setFBO({framebuffer:gr},Pr)}})}var Se={cur:null,next:null,dirty:!1,setFBO:null},Le=["rgba"],We=["rgba4","rgb565","rgb5 a1"];Ve.ext_srgb&&We.push("srgba"),Ve.ext_color_buffer_half_float&&We.push("rgba16f","rgb16f"),Ve.webgl_color_buffer_float&&We.push("rgba32f");var rr=["uint8"];Ve.oes_texture_half_float&&rr.push("half float","float16"),Ve.oes_texture_float&&rr.push("float","float32");var or=0,qe={};return et(Se,{getFramebuffer:function(De){return"function"==typeof De&&"framebuffer"===De._reglType&&(De=De._framebuffer)instanceof Ke?De:null},create:Nt,createCube:function(De){function sr(dr){var Pr,qr={color:null},Er=0,Zr=null;Pr="rgba";var rn="uint8",zr=1;if("number"==typeof dr?Er=0|dr:dr?("shape"in dr?Er=dr.shape[0]:("radius"in dr&&(Er=0|dr.radius),"width"in dr?Er=0|dr.width:"height"in dr&&(Er=0|dr.height)),("color"in dr||"colors"in dr)&&(Zr=dr.color||dr.colors,Array.isArray(Zr)),Zr||("colorCount"in dr&&(zr=0|dr.colorCount),"colorType"in dr&&(rn=dr.colorType),"colorFormat"in dr&&(Pr=dr.colorFormat)),"depth"in dr&&(qr.depth=dr.depth),"stencil"in dr&&(qr.stencil=dr.stencil),"depthStencil"in dr&&(qr.depthStencil=dr.depthStencil)):Er=1,Zr)if(Array.isArray(Zr))for(dr=[],Pr=0;Pr<Zr.length;++Pr)dr[Pr]=Zr[Pr];else dr=[Zr];else for(dr=Array(zr),Zr={radius:Er,format:Pr,type:rn},Pr=0;Pr<zr;++Pr)dr[Pr]=wr.createCube(Zr);for(qr.color=Array(dr.length),Pr=0;Pr<dr.length;++Pr)zr=dr[Pr],Er=Er||zr.width,qr.color[Pr]={target:34069,data:dr[Pr]};for(Pr=0;6>Pr;++Pr){for(zr=0;zr<dr.length;++zr)qr.color[zr].target=34069+Pr;0<Pr&&(qr.depth=gr[0].depth,qr.stencil=gr[0].stencil,qr.depthStencil=gr[0].depthStencil),gr[Pr]?gr[Pr](qr):gr[Pr]=Nt(qr)}return et(sr,{width:Er,height:Er,color:dr})}var gr=Array(6);return sr(De),et(sr,{faces:gr,resize:function(dr){var Pr=0|dr;if(Pr===sr.width)return sr;var qr=sr.color;for(dr=0;dr<qr.length;++dr)qr[dr].resize(Pr);for(dr=0;6>dr;++dr)gr[dr].resize(Pr);return sr.width=sr.height=Pr,sr},_reglType:"framebufferCube",destroy:function(){gr.forEach(function(dr){dr.destroy()})}})},clear:function(){wt(qe).forEach(vr)},restore:function(){Se.cur=null,Se.next=null,Se.dirty=!0,wt(qe).forEach(function(De){De.framebuffer=fe.createFramebuffer(),Ht(De)})}})}(Qe,Nt,qe,Pr,qr,vr),Zr=K(Qe,rn,Nt,qe,De,sr,0,Er,{},gr,dr,or,rr,Se,Ht,fe),zr=(rn=B(Qe,Er,Zr.procs.poll,rr),Zr.next),Pn=Qe.canvas,An=[],lr=[],yr=[],Fr=[fe.onDestroy],Br=null;Pn&&(Pn.addEventListener("webglcontextlost",ar,!1),Pn.addEventListener("webglcontextrestored",ie,!1));var _r=Er.setFBO=ne({framebuffer:dt.define.call(null,1,"framebuffer")});return Pe(),Ke=et(ne,{clear:function(dn){if("framebuffer"in dn)if(dn.framebuffer&&"framebufferCube"===dn.framebuffer_reglType)for(var hn=0;6>hn;++hn)_r(et({framebuffer:dn.framebuffer.faces[hn]},dn),ve);else _r(dn,ve);else ve(0,dn)},prop:dt.define.bind(null,1),context:dt.define.bind(null,2),this:dt.define.bind(null,3),draw:ne({}),buffer:function(dn){return De.create(dn,34962,!1,!1)},elements:function(dn){return sr.create(dn,!1)},texture:Pr.create2D,cube:Pr.createCube,renderbuffer:qr.create,framebuffer:Er.create,framebufferCube:Er.createCube,vao:gr.createVAO,attributes:Ke,frame:xe,on:function(dn,hn){var xn;switch(dn){case"frame":return xe(hn);case"lost":xn=lr;break;case"restore":xn=yr;break;case"destroy":xn=Fr}return xn.push(hn),{cancel:function(){for(var En=0;En<xn.length;++En)if(xn[En]===hn){xn[En]=xn[xn.length-1],xn.pop();break}}}},limits:qe,hasExtension:function(dn){return 0<=qe.extensions.indexOf(dn.toLowerCase())},read:rn,destroy:function(){An.length=0,wr(),Pn&&(Pn.removeEventListener("webglcontextlost",ar),Pn.removeEventListener("webglcontextrestored",ie)),dr.clear(),Er.clear(),qr.clear(),gr.clear(),Pr.clear(),sr.clear(),De.clear(),Se&&Se.clear(),Fr.forEach(function(dn){dn()})},_gl:Qe,_refresh:Pe,poll:function(){be(),Se&&Se.update()},now:Be,stats:vr,getCachedCode:function(){return Ht},preloadCachedCode:function(dn){Object.entries(dn).forEach(function(hn){Ht[hn[0]]=hn[1]})}}),fe.onDone(null,Ke),Ke}},tt.exports=t()},71665:function(tt,W,t){var A=t(12856),g=A.Buffer;function i(E,l){for(var x in E)l[x]=E[x]}function P(E,l,x){return g(E,l,x)}g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?tt.exports=A:(i(A,W),W.Buffer=P),P.prototype=Object.create(g.prototype),i(g,P),P.from=function(E,l,x){if("number"==typeof E)throw new TypeError("Argument must not be a number");return g(E,l,x)},P.alloc=function(E,l,x){if("number"!=typeof E)throw new TypeError("Argument must be a number");var e=g(E);return void 0!==l?"string"==typeof x?e.fill(l,x):e.fill(l):e.fill(0),e},P.allocUnsafe=function(E){if("number"!=typeof E)throw new TypeError("Argument must be a number");return g(E)},P.allocUnsafeSlow=function(E){if("number"!=typeof E)throw new TypeError("Argument must be a number");return A.SlowBuffer(E)}},21630:function(tt,W,t){tt.exports=i;var A=t(15398).EventEmitter;function i(){A.call(this)}t(42018)(i,A),i.Readable=t(40410),i.Writable=t(37493),i.Duplex=t(37865),i.Transform=t(74308),i.PassThrough=t(66897),i.finished=t(12726),i.pipeline=t(10168),i.Stream=i,i.prototype.pipe=function(P,E){var l=this;function x(u){P.writable&&!1===P.write(u)&&l.pause&&l.pause()}function e(){l.readable&&l.resume&&l.resume()}l.on("data",x),P.on("drain",e),!P._isStdio&&(!E||!1!==E.end)&&(l.on("end",f),l.on("close",a));var r=!1;function f(){r||(r=!0,P.end())}function a(){r||(r=!0,"function"==typeof P.destroy&&P.destroy())}function s(u){if(c(),0===A.listenerCount(this,"error"))throw u}function c(){l.removeListener("data",x),P.removeListener("drain",e),l.removeListener("end",f),l.removeListener("close",a),l.removeListener("error",s),P.removeListener("error",s),l.removeListener("end",c),l.removeListener("close",c),P.removeListener("close",c)}return l.on("error",s),P.on("error",s),l.on("end",c),l.on("close",c),P.on("close",c),P.emit("pipe",l),P}},74322:function(tt){"use strict";var t={};function A(l,x,e){e||(e=Error);var f=function(a){function s(c,u,y){return a.call(this,function r(a,s,c){return"string"==typeof x?x:x(a,s,c)}(c,u,y))||this}return function W(l,x){l.prototype=Object.create(x.prototype),l.prototype.constructor=l,l.__proto__=x}(s,a),s}(e);f.prototype.name=e.name,f.prototype.code=l,t[l]=f}function g(l,x){if(Array.isArray(l)){var e=l.length;return l=l.map(function(r){return String(r)}),e>2?"one of ".concat(x," ").concat(l.slice(0,e-1).join(", "),", or ")+l[e-1]:2===e?"one of ".concat(x," ").concat(l[0]," or ").concat(l[1]):"of ".concat(x," ").concat(l[0])}return"of ".concat(x," ").concat(String(l))}A("ERR_INVALID_OPT_VALUE",function(l,x){return'The value "'+x+'" is invalid for option "'+l+'"'},TypeError),A("ERR_INVALID_ARG_TYPE",function(l,x,e){var r,f;if("string"==typeof x&&function i(l,x,e){return l.substr(!e||e<0?0:+e,x.length)===x}(x,"not ")?(r="must not be",x=x.replace(/^not /,"")):r="must be",function P(l,x,e){return(void 0===e||e>l.length)&&(e=l.length),l.substring(e-x.length,e)===x}(l," argument"))f="The ".concat(l," ").concat(r," ").concat(g(x,"type"));else{var a=function E(l,x,e){return"number"!=typeof e&&(e=0),!(e+x.length>l.length)&&-1!==l.indexOf(x,e)}(l,".")?"property":"argument";f='The "'.concat(l,'" ').concat(a," ").concat(r," ").concat(g(x,"type"))}return f+". Received type ".concat(typeof e)},TypeError),A("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),A("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),A("ERR_STREAM_PREMATURE_CLOSE","Premature close"),A("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),A("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),A("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),A("ERR_STREAM_WRITE_AFTER_END","write after end"),A("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),A("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),A("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),tt.exports.q=t},37865:function(tt,W,t){"use strict";var A=t(90386),g=Object.keys||function(a){var s=[];for(var c in a)s.push(c);return s};tt.exports=e;var i=t(40410),P=t(37493);t(42018)(e,i);for(var E=g(P.prototype),l=0;l<E.length;l++){var x=E[l];e.prototype[x]||(e.prototype[x]=P.prototype[x])}function e(a){if(!(this instanceof e))return new e(a);i.call(this,a),P.call(this,a),this.allowHalfOpen=!0,a&&(!1===a.readable&&(this.readable=!1),!1===a.writable&&(this.writable=!1),!1===a.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",r)))}function r(){this._writableState.ended||A.nextTick(f,this)}function f(a){a.end()}Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(e.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(e.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(e.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(s){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=s,this._writableState.destroyed=s)}})},66897:function(tt,W,t){"use strict";tt.exports=g;var A=t(74308);function g(i){if(!(this instanceof g))return new g(i);A.call(this,i)}t(42018)(g,A),g.prototype._transform=function(i,P,E){E(null,i)}},40410:function(tt,W,t){"use strict";var g,A=t(90386);tt.exports=C,C.ReadableState=n,t(15398);var P=function(nt,et){return nt.listeners(et).length},E=t(71405),l=t(12856).Buffer,x=t.g.Uint8Array||function(){};var a,f=t(40964);a=f&&f.debuglog?f.debuglog("stream"):function(){};var M,T,L,s=t(31125),c=t(65756),y=t(56306).getHighWaterMark,v=t(74322).q,w=v.ERR_INVALID_ARG_TYPE,d=v.ERR_STREAM_PUSH_AFTER_EOF,o=v.ERR_METHOD_NOT_IMPLEMENTED,h=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t(42018)(C,E);var m=c.errorOrDestroy,S=["error","close","destroy","pause","resume"];function n(K,nt,et){g=g||t(37865),"boolean"!=typeof et&&(et=nt instanceof g),this.objectMode=!!(K=K||{}).objectMode,et&&(this.objectMode=this.objectMode||!!K.readableObjectMode),this.highWaterMark=y(this,K,"readableHighWaterMark",et),this.buffer=new s,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==K.emitClose,this.autoDestroy=!!K.autoDestroy,this.destroyed=!1,this.defaultEncoding=K.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,K.encoding&&(M||(M=t(68019).s),this.decoder=new M(K.encoding),this.encoding=K.encoding)}function C(K){if(g=g||t(37865),!(this instanceof C))return new C(K);this._readableState=new n(K,this,this instanceof g),this.readable=!0,K&&("function"==typeof K.read&&(this._read=K.read),"function"==typeof K.destroy&&(this._destroy=K.destroy)),E.call(this)}function p(K,nt,et,st,dt){a("readableAddChunk",nt);var bt,Tt=K._readableState;if(null===nt)Tt.reading=!1,function B(K,nt){if(a("onEofChunk"),!nt.ended){if(nt.decoder){var et=nt.decoder.end();et&&et.length&&(nt.buffer.push(et),nt.length+=nt.objectMode?1:et.length)}nt.ended=!0,nt.sync?z(K):(nt.needReadable=!1,nt.emittedReadable||(nt.emittedReadable=!0,U(K)))}}(K,Tt);else if(dt||(bt=function D(K,nt){var et;return!function r(K){return l.isBuffer(K)||K instanceof x}(nt)&&"string"!=typeof nt&&void 0!==nt&&!K.objectMode&&(et=new w("chunk",["string","Buffer","Uint8Array"],nt)),et}(Tt,nt)),bt)m(K,bt);else if(Tt.objectMode||nt&&nt.length>0)if("string"!=typeof nt&&!Tt.objectMode&&Object.getPrototypeOf(nt)!==l.prototype&&(nt=function e(K){return l.from(K)}(nt)),st)Tt.endEmitted?m(K,new h):F(K,Tt,nt,!0);else if(Tt.ended)m(K,new d);else{if(Tt.destroyed)return!1;Tt.reading=!1,Tt.decoder&&!et?(nt=Tt.decoder.write(nt),Tt.objectMode||0!==nt.length?F(K,Tt,nt,!1):G(K,Tt)):F(K,Tt,nt,!1)}else st||(Tt.reading=!1,G(K,Tt));return!Tt.ended&&(Tt.length<Tt.highWaterMark||0===Tt.length)}function F(K,nt,et,st){nt.flowing&&0===nt.length&&!nt.sync?(nt.awaitDrain=0,K.emit("data",et)):(nt.length+=nt.objectMode?1:et.length,st?nt.buffer.unshift(et):nt.buffer.push(et),nt.needReadable&&z(K)),G(K,nt)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(nt){!this._readableState||(this._readableState.destroyed=nt)}}),C.prototype.destroy=c.destroy,C.prototype._undestroy=c.undestroy,C.prototype._destroy=function(K,nt){nt(K)},C.prototype.push=function(K,nt){var st,et=this._readableState;return et.objectMode?st=!0:"string"==typeof K&&((nt=nt||et.defaultEncoding)!==et.encoding&&(K=l.from(K,nt),nt=""),st=!0),p(this,K,nt,!1,st)},C.prototype.unshift=function(K){return p(this,K,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(K){M||(M=t(68019).s);var nt=new M(K);this._readableState.decoder=nt,this._readableState.encoding=this._readableState.decoder.encoding;for(var et=this._readableState.buffer.head,st="";null!==et;)st+=nt.write(et.data),et=et.next;return this._readableState.buffer.clear(),""!==st&&this._readableState.buffer.push(st),this._readableState.length=st.length,this};var N=1073741824;function O(K,nt){return K<=0||0===nt.length&&nt.ended?0:nt.objectMode?1:K!=K?nt.flowing&&nt.length?nt.buffer.head.data.length:nt.length:(K>nt.highWaterMark&&(nt.highWaterMark=function k(K){return K>=N?K=N:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}(K)),K<=nt.length?K:nt.ended?nt.length:(nt.needReadable=!0,0))}function z(K){var nt=K._readableState;a("emitReadable",nt.needReadable,nt.emittedReadable),nt.needReadable=!1,nt.emittedReadable||(a("emitReadable",nt.flowing),nt.emittedReadable=!0,A.nextTick(U,K))}function U(K){var nt=K._readableState;a("emitReadable_",nt.destroyed,nt.length,nt.ended),!nt.destroyed&&(nt.length||nt.ended)&&(K.emit("readable"),nt.emittedReadable=!1),nt.needReadable=!nt.flowing&&!nt.ended&&nt.length<=nt.highWaterMark,Z(K)}function G(K,nt){nt.readingMore||(nt.readingMore=!0,A.nextTick(Q,K,nt))}function Q(K,nt){for(;!nt.reading&&!nt.ended&&(nt.length<nt.highWaterMark||nt.flowing&&0===nt.length);){var et=nt.length;if(a("maybeReadMore read 0"),K.read(0),et===nt.length)break}nt.readingMore=!1}function it(K){var nt=K._readableState;nt.readableListening=K.listenerCount("readable")>0,nt.resumeScheduled&&!nt.paused?nt.flowing=!0:K.listenerCount("data")>0&&K.resume()}function ut(K){a("readable nexttick read 0"),K.read(0)}function j(K,nt){a("resume",nt.reading),nt.reading||K.read(0),nt.resumeScheduled=!1,K.emit("resume"),Z(K),nt.flowing&&!nt.reading&&K.read(0)}function Z(K){var nt=K._readableState;for(a("flow",nt.flowing);nt.flowing&&null!==K.read(););}function H(K,nt){return 0===nt.length?null:(nt.objectMode?et=nt.buffer.shift():!K||K>=nt.length?(et=nt.decoder?nt.buffer.join(""):1===nt.buffer.length?nt.buffer.first():nt.buffer.concat(nt.length),nt.buffer.clear()):et=nt.buffer.consume(K,nt.decoder),et);var et}function X(K){var nt=K._readableState;a("endReadable",nt.endEmitted),nt.endEmitted||(nt.ended=!0,A.nextTick(at,nt,K))}function at(K,nt){if(a("endReadableNT",K.endEmitted,K.length),!K.endEmitted&&0===K.length&&(K.endEmitted=!0,nt.readable=!1,nt.emit("end"),K.autoDestroy)){var et=nt._writableState;(!et||et.autoDestroy&&et.finished)&&nt.destroy()}}function _(K,nt){for(var et=0,st=K.length;et<st;et++)if(K[et]===nt)return et;return-1}C.prototype.read=function(K){a("read",K),K=parseInt(K,10);var nt=this._readableState,et=K;if(0!==K&&(nt.emittedReadable=!1),0===K&&nt.needReadable&&((0!==nt.highWaterMark?nt.length>=nt.highWaterMark:nt.length>0)||nt.ended))return a("read: emitReadable",nt.length,nt.ended),0===nt.length&&nt.ended?X(this):z(this),null;if(0===(K=O(K,nt))&&nt.ended)return 0===nt.length&&X(this),null;var dt,st=nt.needReadable;return a("need readable",st),(0===nt.length||nt.length-K<nt.highWaterMark)&&a("length less than watermark",st=!0),nt.ended||nt.reading?a("reading or ended",st=!1):st&&(a("do read"),nt.reading=!0,nt.sync=!0,0===nt.length&&(nt.needReadable=!0),this._read(nt.highWaterMark),nt.sync=!1,nt.reading||(K=O(et,nt))),null===(dt=K>0?H(K,nt):null)?(nt.needReadable=nt.length<=nt.highWaterMark,K=0):(nt.length-=K,nt.awaitDrain=0),0===nt.length&&(nt.ended||(nt.needReadable=!0),et!==K&&nt.ended&&X(this)),null!==dt&&this.emit("data",dt),dt},C.prototype._read=function(K){m(this,new o("_read()"))},C.prototype.pipe=function(K,nt){var et=this,st=this._readableState;switch(st.pipesCount){case 0:st.pipes=K;break;case 1:st.pipes=[st.pipes,K];break;default:st.pipes.push(K)}st.pipesCount+=1,a("pipe count=%d opts=%j",st.pipesCount,nt);var Tt=nt&&!1===nt.end||K===A.stdout||K===A.stderr?Vt:Dt;function bt(te,_t){a("onunpipe"),te===et&&_t&&!1===_t.hasUnpiped&&(_t.hasUnpiped=!0,function wt(){a("cleanup"),K.removeListener("close",Gt),K.removeListener("finish",Pt),K.removeListener("drain",Ft),K.removeListener("error",Ut),K.removeListener("unpipe",bt),et.removeListener("end",Dt),et.removeListener("end",Vt),et.removeListener("data",St),Mt=!0,st.awaitDrain&&(!K._writableState||K._writableState.needDrain)&&Ft()}())}function Dt(){a("onend"),K.end()}st.endEmitted?A.nextTick(Tt):et.once("end",Tt),K.on("unpipe",bt);var Ft=function rt(K){return function(){var et=K._readableState;a("pipeOnDrain",et.awaitDrain),et.awaitDrain&&et.awaitDrain--,0===et.awaitDrain&&P(K,"data")&&(et.flowing=!0,Z(K))}}(et);K.on("drain",Ft);var Mt=!1;function St(te){a("ondata");var _t=K.write(te);a("dest.write",_t),!1===_t&&((1===st.pipesCount&&st.pipes===K||st.pipesCount>1&&-1!==_(st.pipes,K))&&!Mt&&(a("false write response, pause",st.awaitDrain),st.awaitDrain++),et.pause())}function Ut(te){a("onerror",te),Vt(),K.removeListener("error",Ut),0===P(K,"error")&&m(K,te)}function Gt(){K.removeListener("finish",Pt),Vt()}function Pt(){a("onfinish"),K.removeListener("close",Gt),Vt()}function Vt(){a("unpipe"),et.unpipe(K)}return et.on("data",St),function b(K,nt,et){if("function"==typeof K.prependListener)return K.prependListener(nt,et);K._events&&K._events[nt]?Array.isArray(K._events[nt])?K._events[nt].unshift(et):K._events[nt]=[et,K._events[nt]]:K.on(nt,et)}(K,"error",Ut),K.once("close",Gt),K.once("finish",Pt),K.emit("pipe",et),st.flowing||(a("pipe resume"),et.resume()),K},C.prototype.unpipe=function(K){var nt=this._readableState,et={hasUnpiped:!1};if(0===nt.pipesCount)return this;if(1===nt.pipesCount)return K&&K!==nt.pipes||(K||(K=nt.pipes),nt.pipes=null,nt.pipesCount=0,nt.flowing=!1,K&&K.emit("unpipe",this,et)),this;if(!K){var st=nt.pipes,dt=nt.pipesCount;nt.pipes=null,nt.pipesCount=0,nt.flowing=!1;for(var Tt=0;Tt<dt;Tt++)st[Tt].emit("unpipe",this,{hasUnpiped:!1});return this}var bt=_(nt.pipes,K);return-1===bt||(nt.pipes.splice(bt,1),nt.pipesCount-=1,1===nt.pipesCount&&(nt.pipes=nt.pipes[0]),K.emit("unpipe",this,et)),this},C.prototype.addListener=C.prototype.on=function(K,nt){var et=E.prototype.on.call(this,K,nt),st=this._readableState;return"data"===K?(st.readableListening=this.listenerCount("readable")>0,!1!==st.flowing&&this.resume()):"readable"===K&&!st.endEmitted&&!st.readableListening&&(st.readableListening=st.needReadable=!0,st.flowing=!1,st.emittedReadable=!1,a("on readable",st.length,st.reading),st.length?z(this):st.reading||A.nextTick(ut,this)),et},C.prototype.removeListener=function(K,nt){var et=E.prototype.removeListener.call(this,K,nt);return"readable"===K&&A.nextTick(it,this),et},C.prototype.removeAllListeners=function(K){var nt=E.prototype.removeAllListeners.apply(this,arguments);return("readable"===K||void 0===K)&&A.nextTick(it,this),nt},C.prototype.resume=function(){var K=this._readableState;return K.flowing||(a("resume"),K.flowing=!K.readableListening,function J(K,nt){nt.resumeScheduled||(nt.resumeScheduled=!0,A.nextTick(j,K,nt))}(this,K)),K.paused=!1,this},C.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(K){var nt=this,et=this._readableState,st=!1;for(var dt in K.on("end",function(){if(a("wrapped end"),et.decoder&&!et.ended){var bt=et.decoder.end();bt&&bt.length&&nt.push(bt)}nt.push(null)}),K.on("data",function(bt){a("wrapped data"),et.decoder&&(bt=et.decoder.write(bt)),et.objectMode&&null==bt||!(et.objectMode||bt&&bt.length)||nt.push(bt)||(st=!0,K.pause())}),K)void 0===this[dt]&&"function"==typeof K[dt]&&(this[dt]=function(Dt){return function(){return K[Dt].apply(K,arguments)}}(dt));for(var Tt=0;Tt<S.length;Tt++)K.on(S[Tt],this.emit.bind(this,S[Tt]));return this._read=function(bt){a("wrapped _read",bt),st&&(st=!1,K.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===T&&(T=t(68221)),T(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(nt){this._readableState&&(this._readableState.flowing=nt)}}),C._fromList=H,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(K,nt){return void 0===L&&(L=t(31748)),L(C,K,nt)})},74308:function(tt,W,t){"use strict";tt.exports=e;var A=t(74322).q,g=A.ERR_METHOD_NOT_IMPLEMENTED,i=A.ERR_MULTIPLE_CALLBACK,P=A.ERR_TRANSFORM_ALREADY_TRANSFORMING,E=A.ERR_TRANSFORM_WITH_LENGTH_0,l=t(37865);function x(a,s){var c=this._transformState;c.transforming=!1;var u=c.writecb;if(null===u)return this.emit("error",new i);c.writechunk=null,c.writecb=null,null!=s&&this.push(s),u(a);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function e(a){if(!(this instanceof e))return new e(a);l.call(this,a),this._transformState={afterTransform:x.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.on("prefinish",r)}function r(){var a=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(s,c){f(a,s,c)})}function f(a,s,c){if(s)return a.emit("error",s);if(null!=c&&a.push(c),a._writableState.length)throw new E;if(a._transformState.transforming)throw new P;return a.push(null)}t(42018)(e,l),e.prototype.push=function(a,s){return this._transformState.needTransform=!1,l.prototype.push.call(this,a,s)},e.prototype._transform=function(a,s,c){c(new g("_transform()"))},e.prototype._write=function(a,s,c){var u=this._transformState;if(u.writecb=c,u.writechunk=a,u.writeencoding=s,!u.transforming){var y=this._readableState;(u.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},e.prototype._read=function(a){var s=this._transformState;null===s.writechunk||s.transforming?s.needTransform=!0:(s.transforming=!0,this._transform(s.writechunk,s.writeencoding,s.afterTransform))},e.prototype._destroy=function(a,s){l.prototype._destroy.call(this,a,function(c){s(c)})}},37493:function(tt,W,t){"use strict";var P,A=t(90386);function i(Z){var H=this;this.next=null,this.entry=null,this.finish=function(){!function j(Z,H,X){var at=Z.entry;for(Z.entry=null;at;){var _=at.callback;H.pendingcb--,_(X),at=at.next}H.corkedRequestsFree.next=Z}(H,Z)}}tt.exports=n,n.WritableState=S;var E={deprecate:t(20588)},l=t(71405),x=t(12856).Buffer,e=t.g.Uint8Array||function(){};var b,a=t(65756),c=t(56306).getHighWaterMark,u=t(74322).q,y=u.ERR_INVALID_ARG_TYPE,v=u.ERR_METHOD_NOT_IMPLEMENTED,w=u.ERR_MULTIPLE_CALLBACK,d=u.ERR_STREAM_CANNOT_PIPE,o=u.ERR_STREAM_DESTROYED,h=u.ERR_STREAM_NULL_VALUES,M=u.ERR_STREAM_WRITE_AFTER_END,T=u.ERR_UNKNOWN_ENCODING,L=a.errorOrDestroy;function m(){}function S(Z,H,X){P=P||t(37865),"boolean"!=typeof X&&(X=H instanceof P),this.objectMode=!!(Z=Z||{}).objectMode,X&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=c(this,Z,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Z.decodeStrings),this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_){!function B(Z,H){var X=Z._writableState,at=X.sync,_=X.writecb;if("function"!=typeof _)throw new w;if(function O(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}(X),H)!function k(Z,H,X,at,_){--H.pendingcb,X?(A.nextTick(_,at),A.nextTick(ut,Z,H),Z._writableState.errorEmitted=!0,L(Z,at)):(_(at),Z._writableState.errorEmitted=!0,L(Z,at),ut(Z,H))}(Z,X,at,H,_);else{var K=Q(X)||Z.destroyed;!K&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&G(Z,X),at?A.nextTick(z,Z,X,K,_):z(Z,X,K,_)}}(H,_)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Z.emitClose,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function n(Z){var H=this instanceof(P=P||t(37865));if(!H&&!b.call(n,this))return new n(Z);this._writableState=new S(Z,this,H),this.writable=!0,Z&&("function"==typeof Z.write&&(this._write=Z.write),"function"==typeof Z.writev&&(this._writev=Z.writev),"function"==typeof Z.destroy&&(this._destroy=Z.destroy),"function"==typeof Z.final&&(this._final=Z.final)),l.call(this)}function D(Z,H,X,at,_,K){if(!X){var nt=function F(Z,H,X){return!Z.objectMode&&!1!==Z.decodeStrings&&"string"==typeof H&&(H=x.from(H,X)),H}(H,at,_);at!==nt&&(X=!0,_="buffer",at=nt)}var et=H.objectMode?1:at.length;H.length+=et;var st=H.length<H.highWaterMark;if(st||(H.needDrain=!0),H.writing||H.corked){var dt=H.lastBufferedRequest;H.lastBufferedRequest={chunk:at,encoding:_,isBuf:X,callback:K,next:null},dt?dt.next=H.lastBufferedRequest:H.bufferedRequest=H.lastBufferedRequest,H.bufferedRequestCount+=1}else N(Z,H,!1,et,at,_,K);return st}function N(Z,H,X,at,_,K,nt){H.writelen=at,H.writecb=nt,H.writing=!0,H.sync=!0,H.destroyed?H.onwrite(new o("write")):X?Z._writev(_,H.onwrite):Z._write(_,K,H.onwrite),H.sync=!1}function z(Z,H,X,at){X||function U(Z,H){0===H.length&&H.needDrain&&(H.needDrain=!1,Z.emit("drain"))}(Z,H),H.pendingcb--,at(),ut(Z,H)}function G(Z,H){H.bufferProcessing=!0;var X=H.bufferedRequest;if(Z._writev&&X&&X.next){var _=new Array(H.bufferedRequestCount),K=H.corkedRequestsFree;K.entry=X;for(var nt=0,et=!0;X;)_[nt]=X,X.isBuf||(et=!1),X=X.next,nt+=1;_.allBuffers=et,N(Z,H,!0,H.length,_,"",K.finish),H.pendingcb++,H.lastBufferedRequest=null,K.next?(H.corkedRequestsFree=K.next,K.next=null):H.corkedRequestsFree=new i(H),H.bufferedRequestCount=0}else{for(;X;){var st=X.chunk;if(N(Z,H,!1,H.objectMode?1:st.length,st,X.encoding,X.callback),X=X.next,H.bufferedRequestCount--,H.writing)break}null===X&&(H.lastBufferedRequest=null)}H.bufferedRequest=X,H.bufferProcessing=!1}function Q(Z){return Z.ending&&0===Z.length&&null===Z.bufferedRequest&&!Z.finished&&!Z.writing}function rt(Z,H){Z._final(function(X){H.pendingcb--,X&&L(Z,X),H.prefinished=!0,Z.emit("prefinish"),ut(Z,H)})}function ut(Z,H){var X=Q(H);if(X&&(function it(Z,H){!H.prefinished&&!H.finalCalled&&("function"!=typeof Z._final||H.destroyed?(H.prefinished=!0,Z.emit("prefinish")):(H.pendingcb++,H.finalCalled=!0,A.nextTick(rt,Z,H)))}(Z,H),0===H.pendingcb&&(H.finished=!0,Z.emit("finish"),H.autoDestroy))){var at=Z._readableState;(!at||at.autoDestroy&&at.endEmitted)&&Z.destroy()}return X}t(42018)(n,l),S.prototype.getBuffer=function(){for(var H=this.bufferedRequest,X=[];H;)X.push(H),H=H.next;return X},function(){try{Object.defineProperty(S.prototype,"buffer",{get:E.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(Z){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(n,Symbol.hasInstance,{value:function(H){return!!b.call(this,H)||this===n&&H&&H._writableState instanceof S}})):b=function(H){return H instanceof this},n.prototype.pipe=function(){L(this,new d)},n.prototype.write=function(Z,H,X){var at=this._writableState,_=!1,K=!at.objectMode&&function f(Z){return x.isBuffer(Z)||Z instanceof e}(Z);return K&&!x.isBuffer(Z)&&(Z=function r(Z){return x.from(Z)}(Z)),"function"==typeof H&&(X=H,H=null),K?H="buffer":H||(H=at.defaultEncoding),"function"!=typeof X&&(X=m),at.ending?function C(Z,H){var X=new M;L(Z,X),A.nextTick(H,X)}(this,X):(K||function p(Z,H,X,at){var _;return null===X?_=new h:"string"!=typeof X&&!H.objectMode&&(_=new y("chunk",["string","Buffer"],X)),!_||(L(Z,_),A.nextTick(at,_),!1)}(this,at,Z,X))&&(at.pendingcb++,_=D(this,at,K,Z,H,X)),_},n.prototype.cork=function(){this._writableState.corked++},n.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&G(this,Z))},n.prototype.setDefaultEncoding=function(H){if("string"==typeof H&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new T(H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(n.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),n.prototype._write=function(Z,H,X){X(new v("_write()"))},n.prototype._writev=null,n.prototype.end=function(Z,H,X){var at=this._writableState;return"function"==typeof Z?(X=Z,Z=null,H=null):"function"==typeof H&&(X=H,H=null),null!=Z&&this.write(Z,H),at.corked&&(at.corked=1,this.uncork()),at.ending||function J(Z,H,X){H.ending=!0,ut(Z,H),X&&(H.finished?A.nextTick(X):Z.once("finish",X)),H.ended=!0,Z.writable=!1}(this,at,X),this},Object.defineProperty(n.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(n.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(H){!this._writableState||(this._writableState.destroyed=H)}}),n.prototype.destroy=a.destroy,n.prototype._undestroy=a.undestroy,n.prototype._destroy=function(Z,H){H(Z)}},68221:function(tt,W,t){"use strict";var g,A=t(90386);function i(o,h,M){return h in o?Object.defineProperty(o,h,{value:M,enumerable:!0,configurable:!0,writable:!0}):o[h]=M,o}var P=t(12726),E=Symbol("lastResolve"),l=Symbol("lastReject"),x=Symbol("error"),e=Symbol("ended"),r=Symbol("lastPromise"),f=Symbol("handlePromise"),a=Symbol("stream");function s(o,h){return{value:o,done:h}}function c(o){var h=o[E];if(null!==h){var M=o[a].read();null!==M&&(o[r]=null,o[E]=null,o[l]=null,h(s(M,!1)))}}function u(o){A.nextTick(c,o)}var v=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((i(g={get stream(){return this[a]},next:function(){var h=this,M=this[x];if(null!==M)return Promise.reject(M);if(this[e])return Promise.resolve(s(void 0,!0));if(this[a].destroyed)return new Promise(function(S,b){A.nextTick(function(){h[x]?b(h[x]):S(s(void 0,!0))})});var L,T=this[r];if(T)L=new Promise(function y(o,h){return function(M,T){o.then(function(){h[e]?M(s(void 0,!0)):h[f](M,T)},T)}}(T,this));else{var m=this[a].read();if(null!==m)return Promise.resolve(s(m,!1));L=new Promise(this[f])}return this[r]=L,L}},Symbol.asyncIterator,function(){return this}),i(g,"return",function(){var h=this;return new Promise(function(M,T){h[a].destroy(null,function(L){L?T(L):M(s(void 0,!0))})})}),g),v);tt.exports=function(h){var M,T=Object.create(w,(i(M={},a,{value:h,writable:!0}),i(M,E,{value:null,writable:!0}),i(M,l,{value:null,writable:!0}),i(M,x,{value:null,writable:!0}),i(M,e,{value:h._readableState.endEmitted,writable:!0}),i(M,f,{value:function(m,S){var b=T[a].read();b?(T[r]=null,T[E]=null,T[l]=null,m(s(b,!1))):(T[E]=m,T[l]=S)},writable:!0}),M));return T[r]=null,P(h,function(L){if(L&&"ERR_STREAM_PREMATURE_CLOSE"!==L.code){var m=T[l];return null!==m&&(T[r]=null,T[E]=null,T[l]=null,m(L)),void(T[x]=L)}var S=T[E];null!==S&&(T[r]=null,T[E]=null,T[l]=null,S(s(void 0,!0))),T[e]=!0}),h.on("readable",u.bind(null,T)),T}},31125:function(tt,W,t){"use strict";function A(c,u){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(c);u&&(v=v.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,v)}return y}function i(c,u,y){return u in c?Object.defineProperty(c,u,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[u]=y,c}function E(c,u){for(var y=0;y<u.length;y++){var v=u[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}var e=t(12856).Buffer,f=t(69862).inspect,a=f&&f.custom||"inspect";function s(c,u,y){e.prototype.copy.call(c,u,y)}tt.exports=function(){function c(){(function P(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return function l(c,u,y){return u&&E(c.prototype,u),y&&E(c,y),c}(c,[{key:"push",value:function(y){var v={data:y,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(y){var v={data:y,next:this.head};0===this.length&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(0!==this.length){var y=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(0===this.length)return"";for(var v=this.head,w=""+v.data;v=v.next;)w+=y+v.data;return w}},{key:"concat",value:function(y){if(0===this.length)return e.alloc(0);for(var v=e.allocUnsafe(y>>>0),w=this.head,d=0;w;)s(w.data,v,d),d+=w.data.length,w=w.next;return v}},{key:"consume",value:function(y,v){var w;return y<this.head.data.length?(w=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):w=y===this.head.data.length?this.shift():v?this._getString(y):this._getBuffer(y),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var v=this.head,w=1,d=v.data;for(y-=d.length;v=v.next;){var o=v.data,h=y>o.length?o.length:y;if(d+=h===o.length?o:o.slice(0,y),0==(y-=h)){h===o.length?(++w,this.head=v.next?v.next:this.tail=null):(this.head=v,v.data=o.slice(h));break}++w}return this.length-=w,d}},{key:"_getBuffer",value:function(y){var v=e.allocUnsafe(y),w=this.head,d=1;for(w.data.copy(v),y-=w.data.length;w=w.next;){var o=w.data,h=y>o.length?o.length:y;if(o.copy(v,v.length-y,0,h),0==(y-=h)){h===o.length?(++d,this.head=w.next?w.next:this.tail=null):(this.head=w,w.data=o.slice(h));break}++d}return this.length-=d,v}},{key:a,value:function(y,v){return f(this,function g(c){for(var u=1;u<arguments.length;u++){var y=null!=arguments[u]?arguments[u]:{};u%2?A(Object(y),!0).forEach(function(v){i(c,v,y[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):A(Object(y)).forEach(function(v){Object.defineProperty(c,v,Object.getOwnPropertyDescriptor(y,v))})}return c}({},v,{depth:0,customInspect:!1}))}}]),c}()},65756:function(tt,W,t){"use strict";var A=t(90386);function i(e,r){l(e,r),P(e)}function P(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function l(e,r){e.emit("error",r)}tt.exports={destroy:function g(e,r){var f=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(r?r(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,A.nextTick(l,this,e)):A.nextTick(l,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(c){!r&&c?f._writableState?f._writableState.errorEmitted?A.nextTick(P,f):(f._writableState.errorEmitted=!0,A.nextTick(i,f,c)):A.nextTick(i,f,c):r?(A.nextTick(P,f),r(c)):A.nextTick(P,f)}),this)},undestroy:function E(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function x(e,r){var f=e._readableState,a=e._writableState;f&&f.autoDestroy||a&&a.autoDestroy?e.destroy(r):e.emit("error",r)}}},12726:function(tt,W,t){"use strict";var A=t(74322).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}tt.exports=function E(l,x,e){if("function"==typeof x)return E(l,null,x);x||(x={}),e=function g(l){var x=!1;return function(){if(!x){x=!0;for(var e=arguments.length,r=new Array(e),f=0;f<e;f++)r[f]=arguments[f];l.apply(this,r)}}}(e||i);var r=x.readable||!1!==x.readable&&l.readable,f=x.writable||!1!==x.writable&&l.writable,a=function(){l.writable||c()},s=l._writableState&&l._writableState.finished,c=function(){f=!1,s=!0,r||e.call(l)},u=l._readableState&&l._readableState.endEmitted,y=function(){r=!1,u=!0,f||e.call(l)},v=function(h){e.call(l,h)},w=function(){var h;return r&&!u?((!l._readableState||!l._readableState.ended)&&(h=new A),e.call(l,h)):f&&!s?((!l._writableState||!l._writableState.ended)&&(h=new A),e.call(l,h)):void 0},d=function(){l.req.on("finish",c)};return function P(l){return l.setHeader&&"function"==typeof l.abort}(l)?(l.on("complete",c),l.on("abort",w),l.req?d():l.on("request",d)):f&&!l._writableState&&(l.on("end",a),l.on("close",a)),l.on("end",y),l.on("finish",c),!1!==x.error&&l.on("error",v),l.on("close",w),function(){l.removeListener("complete",c),l.removeListener("abort",w),l.removeListener("request",d),l.req&&l.req.removeListener("finish",c),l.removeListener("end",a),l.removeListener("close",a),l.removeListener("finish",c),l.removeListener("end",y),l.removeListener("error",v),l.removeListener("close",w)}}},31748:function(tt){tt.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(tt,W,t){"use strict";var A;var i=t(74322).q,P=i.ERR_MISSING_ARGS,E=i.ERR_STREAM_DESTROYED;function l(c){if(c)throw c}function e(c,u,y,v){v=function g(c){var u=!1;return function(){u||(u=!0,c.apply(void 0,arguments))}}(v);var w=!1;c.on("close",function(){w=!0}),void 0===A&&(A=t(12726)),A(c,{readable:u,writable:y},function(o){if(o)return v(o);w=!0,v()});var d=!1;return function(o){if(!w&&!d){if(d=!0,function x(c){return c.setHeader&&"function"==typeof c.abort}(c))return c.abort();if("function"==typeof c.destroy)return c.destroy();v(o||new E("pipe"))}}}function r(c){c()}function f(c,u){return c.pipe(u)}function a(c){return c.length&&"function"==typeof c[c.length-1]?c.pop():l}tt.exports=function s(){for(var c=arguments.length,u=new Array(c),y=0;y<c;y++)u[y]=arguments[y];var v=a(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new P("streams");var w,d=u.map(function(o,h){var M=h<u.length-1;return e(o,M,h>0,function(L){w||(w=L),L&&d.forEach(r),!M&&(d.forEach(r),v(w))})});return u.reduce(f)}},56306:function(tt,W,t){"use strict";var A=t(74322).q.ERR_INVALID_OPT_VALUE;tt.exports={getHighWaterMark:function i(P,E,l,x){var e=function g(P,E,l){return null!=P.highWaterMark?P.highWaterMark:E?P[l]:null}(E,x,l);if(null!=e){if(!isFinite(e)||Math.floor(e)!==e||e<0)throw new A(x?l:"highWaterMark",e);return Math.floor(e)}return P.objectMode?16:16384}}},71405:function(tt,W,t){tt.exports=t(15398).EventEmitter},68019:function(tt,W,t){"use strict";var A=t(71665).Buffer,g=A.isEncoding||function(d){switch((d=""+d)&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function E(d){var o;switch(this.encoding=function P(d){var o=function i(d){if(!d)return"utf8";for(var o;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(o)return;d=(""+d).toLowerCase(),o=!0}}(d);if("string"!=typeof o&&(A.isEncoding===g||!g(d)))throw new Error("Unknown encoding: "+d);return o||d}(d),this.encoding){case"utf16le":this.text=s,this.end=c,o=4;break;case"utf8":this.fillLast=r,o=4;break;case"base64":this.text=u,this.end=y,o=3;break;default:return this.write=v,void(this.end=w)}this.lastNeed=0,this.lastTotal=0,this.lastChar=A.allocUnsafe(o)}function l(d){return d<=127?0:d>>5==6?2:d>>4==14?3:d>>3==30?4:d>>6==2?-1:-2}function r(d){var o=this.lastTotal-this.lastNeed,h=function e(d,o,h){if(128!=(192&o[0]))return d.lastNeed=0,"\ufffd";if(d.lastNeed>1&&o.length>1){if(128!=(192&o[1]))return d.lastNeed=1,"\ufffd";if(d.lastNeed>2&&o.length>2&&128!=(192&o[2]))return d.lastNeed=2,"\ufffd"}}(this,d);return void 0!==h?h:this.lastNeed<=d.length?(d.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(d.copy(this.lastChar,o,0,d.length),void(this.lastNeed-=d.length))}function s(d,o){if((d.length-o)%2==0){var h=d.toString("utf16le",o);if(h){var M=h.charCodeAt(h.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],h.slice(0,-1)}return h}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",o,d.length-1)}function c(d){var o=d&&d.length?this.write(d):"";return this.lastNeed?o+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):o}function u(d,o){var h=(d.length-o)%3;return 0===h?d.toString("base64",o):(this.lastNeed=3-h,this.lastTotal=3,1===h?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",o,d.length-h))}function y(d){var o=d&&d.length?this.write(d):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function v(d){return d.toString(this.encoding)}function w(d){return d&&d.length?this.write(d):""}W.s=E,E.prototype.write=function(d){if(0===d.length)return"";var o,h;if(this.lastNeed){if(void 0===(o=this.fillLast(d)))return"";h=this.lastNeed,this.lastNeed=0}else h=0;return h<d.length?o?o+this.text(d,h):this.text(d,h):o||""},E.prototype.end=function a(d){var o=d&&d.length?this.write(d):"";return this.lastNeed?o+"\ufffd":o},E.prototype.text=function f(d,o){var h=function x(d,o,h){var M=o.length-1;if(M<h)return 0;var T=l(o[M]);return T>=0?(T>0&&(d.lastNeed=T-1),T):--M<h||-2===T?0:(T=l(o[M]))>=0?(T>0&&(d.lastNeed=T-2),T):--M<h||-2===T?0:(T=l(o[M]))>=0?(T>0&&(2===T?T=0:d.lastNeed=T-3),T):0}(this,d,o);if(!this.lastNeed)return d.toString("utf8",o);this.lastTotal=h;var M=d.length-(h-this.lastNeed);return d.copy(this.lastChar,0,M),d.toString("utf8",o,M)},E.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length}},90715:function(tt,W,t){var A=t(32791),g=t(41633)("stream-parser");tt.exports=function x(d){var o=d&&"function"==typeof d._transform;if(!(o||d&&"function"==typeof d._write))throw new Error("must pass a Writable or Transform stream in");g("extending Parser into stream"),d._bytes=r,d._skipBytes=f,o&&(d._passthrough=a),o?d._transform=c:d._write=s};function e(d){g("initializing parser stream"),d._parserBytesLeft=0,d._parserBuffers=[],d._parserBuffered=0,d._parserState=-1,d._parserCallback=null,"function"==typeof d.push&&(d._parserOutput=d.push.bind(d)),d._parserInit=!0}function r(d,o){A(!this._parserCallback,'there is already a "callback" set!'),A(isFinite(d)&&d>0,'can only buffer a finite number of bytes > 0, got "'+d+'"'),this._parserInit||e(this),g("buffering %o bytes",d),this._parserBytesLeft=d,this._parserCallback=o,this._parserState=0}function f(d,o){A(!this._parserCallback,'there is already a "callback" set!'),A(d>0,'can only skip > 0 bytes, got "'+d+'"'),this._parserInit||e(this),g("skipping %o bytes",d),this._parserBytesLeft=d,this._parserCallback=o,this._parserState=1}function a(d,o){A(!this._parserCallback,'There is already a "callback" set!'),A(d>0,'can only pass through > 0 bytes, got "'+d+'"'),this._parserInit||e(this),g("passing through %o bytes",d),this._parserBytesLeft=d,this._parserCallback=o,this._parserState=2}function s(d,o,h){this._parserInit||e(this),g("write(%o bytes)",d.length),"function"==typeof o&&(h=o),v(this,d,null,h)}function c(d,o,h){this._parserInit||e(this),g("transform(%o bytes)",d.length),"function"!=typeof o&&(o=this._parserOutput),v(this,d,o,h)}function y(d,o,h,M){if(d._parserBytesLeft-=o.length,g("%o bytes left for stream piece",d._parserBytesLeft),0===d._parserState?(d._parserBuffers.push(o),d._parserBuffered+=o.length):2===d._parserState&&h(o),0!==d._parserBytesLeft)return M;var T=d._parserCallback;if(T&&0===d._parserState&&d._parserBuffers.length>1&&(o=Buffer.concat(d._parserBuffers,d._parserBuffered)),0!==d._parserState&&(o=null),d._parserCallback=null,d._parserBuffered=0,d._parserState=-1,d._parserBuffers.splice(0),T){var L=[];o&&L.push(o),h&&L.push(h);var m=T.length>L.length;m&&L.push(w(M));var S=T.apply(d,L);if(!m||M===S)return M}}var v=w(function u(d,o,h,M){return d._parserBytesLeft<=0?M(new Error("got data but not currently parsing anything")):o.length<=d._parserBytesLeft?function(){return y(d,o,h,M)}:function(){var T=o.slice(0,d._parserBytesLeft);return y(d,T,h,function(L){return L?M(L):o.length>T.length?function(){return u(d,o.slice(T.length),h,M)}:void 0})}});function w(d){return function(){for(var o=d.apply(this,arguments);"function"==typeof o;)o=o();return o}}},41633:function(tt,W,t){var A=t(90386);function l(){var e;try{e=W.storage.debug}catch(r){}return!e&&void 0!==A&&"env"in A&&(e=A.env.DEBUG),e}(W=tt.exports=t(74469)).log=function P(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},W.formatArgs=function i(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+W.humanize(this.diff),r){var f="color: "+this.color;e.splice(1,0,f,"color: inherit");var a=0,s=0;e[0].replace(/%[a-zA-Z%]/g,function(c){"%%"!==c&&(a++,"%c"===c&&(s=a))}),e.splice(s,0,f)}},W.save=function E(e){try{null==e?W.storage.removeItem("debug"):W.storage.debug=e}catch(r){}},W.load=l,W.useColors=function g(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},W.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function x(){try{return window.localStorage}catch(e){}}(),W.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],W.formatters.j=function(e){try{return JSON.stringify(e)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}},W.enable(l())},74469:function(tt,W,t){var A;function i(e){function r(){if(r.enabled){var f=r,a=+new Date;f.diff=a-(A||a),f.prev=A,f.curr=a,A=a;for(var c=new Array(arguments.length),u=0;u<c.length;u++)c[u]=arguments[u];c[0]=W.coerce(c[0]),"string"!=typeof c[0]&&c.unshift("%O");var y=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,function(w,d){if("%%"===w)return w;y++;var o=W.formatters[d];return"function"==typeof o&&(w=o.call(f,c[y]),c.splice(y,1),y--),w}),W.formatArgs.call(f,c),(r.log||W.log||console.log.bind(console)).apply(f,c)}}return r.namespace=e,r.enabled=W.enabled(e),r.useColors=W.useColors(),r.color=function g(e){var f,r=0;for(f in e)r=(r<<5)-r+e.charCodeAt(f),r|=0;return W.colors[Math.abs(r)%W.colors.length]}(e),"function"==typeof W.init&&W.init(r),r}(W=tt.exports=i.debug=i.default=i).coerce=function x(e){return e instanceof Error?e.stack||e.message:e},W.disable=function E(){W.enable("")},W.enable=function P(e){W.save(e),W.names=[],W.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),f=r.length,a=0;a<f;a++)!r[a]||("-"===(e=r[a].replace(/\*/g,".*?"))[0]?W.skips.push(new RegExp("^"+e.substr(1)+"$")):W.names.push(new RegExp("^"+e+"$")))},W.enabled=function l(e){var r,f;for(r=0,f=W.skips.length;r<f;r++)if(W.skips[r].test(e))return!1;for(r=0,f=W.names.length;r<f;r++)if(W.names[r].test(e))return!0;return!1},W.humanize=t(11375),W.names=[],W.skips=[],W.formatters={}},11375:function(tt){var W=1e3,t=60*W,A=60*t,g=24*A;function x(e,r,f){if(!(e<r))return e<1.5*r?Math.floor(e/r)+" "+f:Math.ceil(e/r)+" "+f+"s"}tt.exports=function(e,r){r=r||{};var f=typeof e;if("string"===f&&e.length>0)return function P(e){if(!((e=String(e)).length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var f=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*f;case"days":case"day":case"d":return f*g;case"hours":case"hour":case"hrs":case"hr":case"h":return f*A;case"minutes":case"minute":case"mins":case"min":case"m":return f*t;case"seconds":case"second":case"secs":case"sec":case"s":return f*W;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}(e);if("number"===f&&!1===isNaN(e))return r.long?function l(e){return x(e,g,"day")||x(e,A,"hour")||x(e,t,"minute")||x(e,W,"second")||e+" ms"}(e):function E(e){return e>=g?Math.round(e/g)+"d":e>=A?Math.round(e/A)+"h":e>=t?Math.round(e/t)+"m":e>=W?Math.round(e/W)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},99011:function(tt,W,t){"use strict";var A=t(88641);tt.exports=function(i,P,E){if(null==i)throw Error("First argument should be a string");if(null==P)throw Error("Separator should be a string or a RegExp");E?("string"==typeof E||Array.isArray(E))&&(E={ignore:E}):E={},null==E.escape&&(E.escape=!0),null==E.ignore?E.ignore=["[]","()","{}","<>",'""',"''","``","\u201c\u201d","\xab\xbb"]:("string"==typeof E.ignore&&(E.ignore=[E.ignore]),E.ignore=E.ignore.map(function(c){return 1===c.length&&(c+=c),c}));var l=A.parse(i,{flat:!0,brackets:E.ignore}),e=l[0].split(P);if(E.escape){for(var r=[],f=0;f<e.length;f++){var a=e[f];"\\"===a[a.length-1]&&"\\"!==a[a.length-2]?(r.push(a+P+e[f+1]),f++):r.push(a)}e=r}for(f=0;f<e.length;f++)l[0]=e[f],e[f]=A.stringify(l,{flat:!0});return e}},68664:function(tt){"use strict";tt.exports=function W(t){for(var A=t.length,g=new Array(A),i=new Array(A),P=new Array(A),E=new Array(A),l=new Array(A),x=new Array(A),e=0;e<A;++e)g[e]=-1,i[e]=0,P[e]=!1,E[e]=0,l[e]=-1,x[e]=[];var c,r=0,f=[],a=[];function s(v){var w=[v],d=[v];for(g[v]=i[v]=r,P[v]=!0,r+=1;d.length>0;){var o=t[v=d[d.length-1]];if(E[v]<o.length){for(var h=E[v];h<o.length;++h){var M=o[h];if(g[M]<0){g[M]=i[M]=r,P[M]=!0,r+=1,w.push(M),d.push(M);break}P[M]&&(i[v]=0|Math.min(i[v],i[M])),l[M]>=0&&x[v].push(l[M])}E[v]=h}else{if(i[v]===g[v]){var T=[],L=[],m=0;for(h=w.length-1;h>=0;--h){var S=w[h];if(P[S]=!1,T.push(S),L.push(x[S]),m+=x[S].length,l[S]=f.length,S===v){w.length=h;break}}f.push(T);var b=new Array(m);for(h=0;h<L.length;h++)for(var n=0;n<L[h].length;n++)b[--m]=L[h][n];a.push(b)}d.pop()}}}for(e=0;e<A;++e)g[e]<0&&s(e);for(e=0;e<a.length;e++){var u=a[e];if(0!==u.length){u.sort(function(w,d){return w-d}),c=[u[0]];for(var y=1;y<u.length;y++)u[y]!==u[y-1]&&c.push(u[y]);a[e]=c}}return{components:f,adjacencyList:a}}},7095:function(tt,W,t){"use strict";t.r(W);var A=function(r,f){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function e(r,f){var a=[],s=!0,c=!1,u=void 0;try{for(var v,y=r[Symbol.iterator]();!(s=(v=y.next()).done)&&(a.push(v.value),!f||a.length!==f);s=!0);}catch(w){c=!0,u=w}finally{try{!s&&y.return&&y.return()}finally{if(c)throw u}}return a}(r,f);throw new TypeError("Invalid attempt to destructure non-iterable instance")},g=2*Math.PI,i=function(r,f,a,s,c,u,y){var v=r.x,w=r.y;return{x:s*(v*=f)-c*(w*=a)+u,y:c*v+s*w+y}},P=function(r,f){var a=1.5707963267948966===f?.551915024494:-1.5707963267948966===f?-.551915024494:1.3333333333333333*Math.tan(f/4),s=Math.cos(r),c=Math.sin(r),u=Math.cos(r+f),y=Math.sin(r+f);return[{x:s-c*a,y:c+s*a},{x:u+y*a,y:y-u*a},{x:u,y}]},E=function(r,f,a,s){var u=r*a+f*s;return u>1&&(u=1),u<-1&&(u=-1),(r*s-f*a<0?-1:1)*Math.acos(u)};W.default=function(r){var f=r.px,a=r.py,s=r.cx,c=r.cy,u=r.rx,y=r.ry,v=r.xAxisRotation,w=void 0===v?0:v,d=r.largeArcFlag,o=void 0===d?0:d,h=r.sweepFlag,M=void 0===h?0:h,T=[];if(0===u||0===y)return[];var L=Math.sin(w*g/360),m=Math.cos(w*g/360),S=m*(f-s)/2+L*(a-c)/2,b=-L*(f-s)/2+m*(a-c)/2;if(0===S&&0===b)return[];u=Math.abs(u),y=Math.abs(y);var n=Math.pow(S,2)/Math.pow(u,2)+Math.pow(b,2)/Math.pow(y,2);n>1&&(u*=Math.sqrt(n),y*=Math.sqrt(n));var C=function(r,f,a,s,c,u,y,v,w,d,o,h){var M=Math.pow(c,2),T=Math.pow(u,2),L=Math.pow(o,2),m=Math.pow(h,2),S=M*T-M*m-T*L;S<0&&(S=0),S/=M*m+T*L;var b=(S=Math.sqrt(S)*(y===v?-1:1))*c/u*h,n=S*-u/c*o,C=d*b-w*n+(r+a)/2,p=w*b+d*n+(f+s)/2,F=(o-b)/c,D=(h-n)/u,N=(-o-b)/c,k=(-h-n)/u,O=E(1,0,F,D),B=E(F,D,N,k);return 0===v&&B>0&&(B-=g),1===v&&B<0&&(B+=g),[C,p,O,B]}(f,a,s,c,u,y,o,M,L,m,S,b),p=A(C,4),F=p[0],D=p[1],N=p[2],k=p[3],O=Math.abs(k)/(g/4);Math.abs(1-O)<1e-7&&(O=1);var B=Math.max(Math.ceil(O),1);k/=B;for(var z=0;z<B;z++)T.push(P(N,k)),N+=k;return T.map(function(U){var G=i(U[0],u,y,m,L,F,D),Q=G.x,rt=G.y,it=i(U[1],u,y,m,L,F,D),ut=it.x,J=it.y,j=i(U[2],u,y,m,L,F,D);return{x1:Q,y1:rt,x2:ut,y2:J,x:j.x,y:j.y}})}},1750:function(tt,W,t){"use strict";var A=t(95616),g=t(65185),i=t(29988),P=t(89546),E=t(32791);tt.exports=function l(x){if(Array.isArray(x)&&1===x.length&&"string"==typeof x[0]&&(x=x[0]),"string"==typeof x&&(E(P(x),"String is not an SVG path."),x=A(x)),E(Array.isArray(x),"Argument should be a string or an array of path segments."),x=g(x),!(x=i(x)).length)return[0,0,0,0];for(var e=[1/0,1/0,-1/0,-1/0],r=0,f=x.length;r<f;r++)for(var a=x[r].slice(1),s=0;s<a.length;s+=2)a[s+0]<e[0]&&(e[0]=a[s+0]),a[s+1]<e[1]&&(e[1]=a[s+1]),a[s+0]>e[2]&&(e[2]=a[s+0]),a[s+1]>e[3]&&(e[3]=a[s+1]);return e}},29988:function(tt,W,t){"use strict";tt.exports=function g(E){for(var l,x=[],e=0,r=0,f=0,a=0,s=null,c=null,u=0,y=0,v=0,w=E.length;v<w;v++){var d=E[v],o=d[0];switch(o){case"M":f=d[1],a=d[2];break;case"A":var h=A({px:u,py:y,cx:d[6],cy:d[7],rx:d[1],ry:d[2],xAxisRotation:d[3],largeArcFlag:d[4],sweepFlag:d[5]});if(!h.length)continue;for(var T,M=0;M<h.length;M++)d=["C",(T=h[M]).x1,T.y1,T.x2,T.y2,T.x,T.y],M<h.length-1&&x.push(d);break;case"S":var L=u,m=y;("C"==l||"S"==l)&&(L+=L-e,m+=m-r),d=["C",L,m,d[1],d[2],d[3],d[4]];break;case"T":"Q"==l||"T"==l?(s=2*u-s,c=2*y-c):(s=u,c=y),d=P(u,y,s,c,d[1],d[2]);break;case"Q":s=d[1],c=d[2],d=P(u,y,d[1],d[2],d[3],d[4]);break;case"L":d=i(u,y,d[1],d[2]);break;case"H":d=i(u,y,d[1],y);break;case"V":d=i(u,y,u,d[1]);break;case"Z":d=i(u,y,f,a)}l=o,u=d[d.length-2],y=d[d.length-1],d.length>4?(e=d[d.length-4],r=d[d.length-3]):(e=u,r=y),x.push(d)}return x};var A=t(7095);function i(E,l,x,e){return["C",E,l,x,e,x,e]}function P(E,l,x,e,r,f){return["C",E/3+.6666666666666666*x,l/3+.6666666666666666*e,r/3+.6666666666666666*x,f/3+.6666666666666666*e,r,f]}},82019:function(tt,W,t){"use strict";var r,A=t(1750),g=t(95616),i=t(31457),P=t(89546),E=t(44781),l=document.createElement("canvas"),x=l.getContext("2d");tt.exports=function e(a,s){if(!P(a))throw Error("Argument should be valid svg path string");var c,u;s||(s={}),s.shape?(c=s.shape[0],u=s.shape[1]):(c=l.width=s.w||s.width||200,u=l.height=s.h||s.height||200);var y=Math.min(c,u),v=s.stroke||0,w=s.viewbox||s.viewBox||A(a),d=[c/(w[2]-w[0]),u/(w[3]-w[1])],o=Math.min(d[0]||0,d[1]||0)/2;if(x.fillStyle="black",x.fillRect(0,0,c,u),x.fillStyle="white",v&&("number"!=typeof v&&(v=1),x.strokeStyle=v>0?"white":"black",x.lineWidth=Math.abs(v)),x.translate(.5*c,.5*u),x.scale(o,o),function f(){if(null!=r)return r;var a=document.createElement("canvas").getContext("2d");if(a.canvas.width=a.canvas.height=1,!window.Path2D)return r=!1;var s=new Path2D("M0,0h1v1h-1v-1Z");a.fillStyle="black",a.fill(s);var c=a.getImageData(0,0,1,1);return r=c&&c.data&&255===c.data[3]}()){var h=new Path2D(a);x.fill(h),v&&x.stroke(h)}else{var M=g(a);i(x,M),x.fill(),v&&x.stroke()}return x.setTransform(1,0,0,1,0,0),E(x,{cutoff:null!=s.cutoff?s.cutoff:.5,radius:null!=s.radius?s.radius:.5*y})}},84267:function(tt,W,t){var A;!function(g){var i=/^\s+/,P=/\s+$/,E=0,l=g.round,x=g.min,e=g.max,r=g.random;function f(K,nt){if(nt=nt||{},(K=K||"")instanceof f)return K;if(!(this instanceof f))return new f(K,nt);var et=function a(K){var nt={r:0,g:0,b:0},et=1,st=null,dt=null,Tt=null,bt=!1,Dt=!1;return"string"==typeof K&&(K=function at(K){K=K.replace(i,"").replace(P,"").toLowerCase();var et,nt=!1;if(k[K])K=k[K],nt=!0;else if("transparent"==K)return{r:0,g:0,b:0,a:0,format:"name"};return(et=H.rgb.exec(K))?{r:et[1],g:et[2],b:et[3]}:(et=H.rgba.exec(K))?{r:et[1],g:et[2],b:et[3],a:et[4]}:(et=H.hsl.exec(K))?{h:et[1],s:et[2],l:et[3]}:(et=H.hsla.exec(K))?{h:et[1],s:et[2],l:et[3],a:et[4]}:(et=H.hsv.exec(K))?{h:et[1],s:et[2],v:et[3]}:(et=H.hsva.exec(K))?{h:et[1],s:et[2],v:et[3],a:et[4]}:(et=H.hex8.exec(K))?{r:Q(et[1]),g:Q(et[2]),b:Q(et[3]),a:Z(et[4]),format:nt?"name":"hex8"}:(et=H.hex6.exec(K))?{r:Q(et[1]),g:Q(et[2]),b:Q(et[3]),format:nt?"name":"hex"}:(et=H.hex4.exec(K))?{r:Q(et[1]+""+et[1]),g:Q(et[2]+""+et[2]),b:Q(et[3]+""+et[3]),a:Z(et[4]+""+et[4]),format:nt?"name":"hex8"}:!!(et=H.hex3.exec(K))&&{r:Q(et[1]+""+et[1]),g:Q(et[2]+""+et[2]),b:Q(et[3]+""+et[3]),format:nt?"name":"hex"}}(K)),"object"==typeof K&&(X(K.r)&&X(K.g)&&X(K.b)?(nt=function s(K,nt,et){return{r:255*U(K,255),g:255*U(nt,255),b:255*U(et,255)}}(K.r,K.g,K.b),bt=!0,Dt="%"===String(K.r).substr(-1)?"prgb":"rgb"):X(K.h)&&X(K.s)&&X(K.v)?(st=J(K.s),dt=J(K.v),nt=function v(K,nt,et){K=6*U(K,360),nt=U(nt,100),et=U(et,100);var st=g.floor(K),dt=K-st,Tt=et*(1-nt),bt=et*(1-dt*nt),Dt=et*(1-(1-dt)*nt),Ft=st%6;return{r:255*[et,bt,Tt,Tt,Dt,et][Ft],g:255*[Dt,et,et,bt,Tt,Tt][Ft],b:255*[Tt,Tt,Dt,et,et,bt][Ft]}}(K.h,st,dt),bt=!0,Dt="hsv"):X(K.h)&&X(K.s)&&X(K.l)&&(st=J(K.s),Tt=J(K.l),nt=function u(K,nt,et){var st,dt,Tt;function bt(Mt,wt,St){return St<0&&(St+=1),St>1&&(St-=1),St<.16666666666666666?Mt+6*(wt-Mt)*St:St<.5?wt:St<.6666666666666666?Mt+(wt-Mt)*(.6666666666666666-St)*6:Mt}if(K=U(K,360),nt=U(nt,100),et=U(et,100),0===nt)st=dt=Tt=et;else{var Dt=et<.5?et*(1+nt):et+nt-et*nt,Ft=2*et-Dt;st=bt(Ft,Dt,K+.3333333333333333),dt=bt(Ft,Dt,K),Tt=bt(Ft,Dt,K-.3333333333333333)}return{r:255*st,g:255*dt,b:255*Tt}}(K.h,st,Tt),bt=!0,Dt="hsl"),K.hasOwnProperty("a")&&(et=K.a)),et=z(et),{ok:bt,format:K.format||Dt,r:x(255,e(nt.r,0)),g:x(255,e(nt.g,0)),b:x(255,e(nt.b,0)),a:et}}(K);this._originalInput=K,this._r=et.r,this._g=et.g,this._b=et.b,this._a=et.a,this._roundA=l(100*this._a)/100,this._format=nt.format||et.format,this._gradientType=nt.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=et.ok,this._tc_id=E++}function c(K,nt,et){K=U(K,255),nt=U(nt,255),et=U(et,255);var Tt,bt,st=e(K,nt,et),dt=x(K,nt,et),Dt=(st+dt)/2;if(st==dt)Tt=bt=0;else{var Ft=st-dt;switch(bt=Dt>.5?Ft/(2-st-dt):Ft/(st+dt),st){case K:Tt=(nt-et)/Ft+(nt<et?6:0);break;case nt:Tt=(et-K)/Ft+2;break;case et:Tt=(K-nt)/Ft+4}Tt/=6}return{h:Tt,s:bt,l:Dt}}function y(K,nt,et){K=U(K,255),nt=U(nt,255),et=U(et,255);var Tt,bt,st=e(K,nt,et),dt=x(K,nt,et),Dt=st,Ft=st-dt;if(bt=0===st?0:Ft/st,st==dt)Tt=0;else{switch(st){case K:Tt=(nt-et)/Ft+(nt<et?6:0);break;case nt:Tt=(et-K)/Ft+2;break;case et:Tt=(K-nt)/Ft+4}Tt/=6}return{h:Tt,s:bt,v:Dt}}function w(K,nt,et,st){var dt=[ut(l(K).toString(16)),ut(l(nt).toString(16)),ut(l(et).toString(16))];return st&&dt[0].charAt(0)==dt[0].charAt(1)&&dt[1].charAt(0)==dt[1].charAt(1)&&dt[2].charAt(0)==dt[2].charAt(1)?dt[0].charAt(0)+dt[1].charAt(0)+dt[2].charAt(0):dt.join("")}function o(K,nt,et,st){return[ut(j(st)),ut(l(K).toString(16)),ut(l(nt).toString(16)),ut(l(et).toString(16))].join("")}function h(K,nt){nt=0===nt?0:nt||10;var et=f(K).toHsl();return et.s-=nt/100,et.s=G(et.s),f(et)}function M(K,nt){nt=0===nt?0:nt||10;var et=f(K).toHsl();return et.s+=nt/100,et.s=G(et.s),f(et)}function T(K){return f(K).desaturate(100)}function L(K,nt){nt=0===nt?0:nt||10;var et=f(K).toHsl();return et.l+=nt/100,et.l=G(et.l),f(et)}function m(K,nt){nt=0===nt?0:nt||10;var et=f(K).toRgb();return et.r=e(0,x(255,et.r-l(-nt/100*255))),et.g=e(0,x(255,et.g-l(-nt/100*255))),et.b=e(0,x(255,et.b-l(-nt/100*255))),f(et)}function S(K,nt){nt=0===nt?0:nt||10;var et=f(K).toHsl();return et.l-=nt/100,et.l=G(et.l),f(et)}function b(K,nt){var et=f(K).toHsl(),st=(et.h+nt)%360;return et.h=st<0?360+st:st,f(et)}function n(K){var nt=f(K).toHsl();return nt.h=(nt.h+180)%360,f(nt)}function C(K){var nt=f(K).toHsl(),et=nt.h;return[f(K),f({h:(et+120)%360,s:nt.s,l:nt.l}),f({h:(et+240)%360,s:nt.s,l:nt.l})]}function p(K){var nt=f(K).toHsl(),et=nt.h;return[f(K),f({h:(et+90)%360,s:nt.s,l:nt.l}),f({h:(et+180)%360,s:nt.s,l:nt.l}),f({h:(et+270)%360,s:nt.s,l:nt.l})]}function F(K){var nt=f(K).toHsl(),et=nt.h;return[f(K),f({h:(et+72)%360,s:nt.s,l:nt.l}),f({h:(et+216)%360,s:nt.s,l:nt.l})]}function D(K,nt,et){nt=nt||6,et=et||30;var st=f(K).toHsl(),dt=360/et,Tt=[f(K)];for(st.h=(st.h-(dt*nt>>1)+720)%360;--nt;)st.h=(st.h+dt)%360,Tt.push(f(st));return Tt}function N(K,nt){nt=nt||6;for(var et=f(K).toHsv(),st=et.h,dt=et.s,Tt=et.v,bt=[],Dt=1/nt;nt--;)bt.push(f({h:st,s:dt,v:Tt})),Tt=(Tt+Dt)%1;return bt}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var K=this.toRgb();return(299*K.r+587*K.g+114*K.b)/1e3},getLuminance:function(){var nt,et,st,K=this.toRgb();return et=K.g/255,st=K.b/255,.2126*((nt=K.r/255)<=.03928?nt/12.92:g.pow((nt+.055)/1.055,2.4))+.7152*(et<=.03928?et/12.92:g.pow((et+.055)/1.055,2.4))+.0722*(st<=.03928?st/12.92:g.pow((st+.055)/1.055,2.4))},setAlpha:function(K){return this._a=z(K),this._roundA=l(100*this._a)/100,this},toHsv:function(){var K=y(this._r,this._g,this._b);return{h:360*K.h,s:K.s,v:K.v,a:this._a}},toHsvString:function(){var K=y(this._r,this._g,this._b),nt=l(360*K.h),et=l(100*K.s),st=l(100*K.v);return 1==this._a?"hsv("+nt+", "+et+"%, "+st+"%)":"hsva("+nt+", "+et+"%, "+st+"%, "+this._roundA+")"},toHsl:function(){var K=c(this._r,this._g,this._b);return{h:360*K.h,s:K.s,l:K.l,a:this._a}},toHslString:function(){var K=c(this._r,this._g,this._b),nt=l(360*K.h),et=l(100*K.s),st=l(100*K.l);return 1==this._a?"hsl("+nt+", "+et+"%, "+st+"%)":"hsla("+nt+", "+et+"%, "+st+"%, "+this._roundA+")"},toHex:function(K){return w(this._r,this._g,this._b,K)},toHexString:function(K){return"#"+this.toHex(K)},toHex8:function(K){return function d(K,nt,et,st,dt){var Tt=[ut(l(K).toString(16)),ut(l(nt).toString(16)),ut(l(et).toString(16)),ut(j(st))];return dt&&Tt[0].charAt(0)==Tt[0].charAt(1)&&Tt[1].charAt(0)==Tt[1].charAt(1)&&Tt[2].charAt(0)==Tt[2].charAt(1)&&Tt[3].charAt(0)==Tt[3].charAt(1)?Tt[0].charAt(0)+Tt[1].charAt(0)+Tt[2].charAt(0)+Tt[3].charAt(0):Tt.join("")}(this._r,this._g,this._b,this._a,K)},toHex8String:function(K){return"#"+this.toHex8(K)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*U(this._r,255))+"%",g:l(100*U(this._g,255))+"%",b:l(100*U(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*U(this._r,255))+"%, "+l(100*U(this._g,255))+"%, "+l(100*U(this._b,255))+"%)":"rgba("+l(100*U(this._r,255))+"%, "+l(100*U(this._g,255))+"%, "+l(100*U(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(O[w(this._r,this._g,this._b,!0)]||!1)},toFilter:function(K){var nt="#"+o(this._r,this._g,this._b,this._a),et=nt,st=this._gradientType?"GradientType = 1, ":"";if(K){var dt=f(K);et="#"+o(dt._r,dt._g,dt._b,dt._a)}return"progid:DXImageTransform.Microsoft.gradient("+st+"startColorstr="+nt+",endColorstr="+et+")"},toString:function(K){var nt=!!K;K=K||this._format;var et=!1;return!nt&&this._a<1&&this._a>=0&&("hex"===K||"hex6"===K||"hex3"===K||"hex4"===K||"hex8"===K||"name"===K)?"name"===K&&0===this._a?this.toName():this.toRgbString():("rgb"===K&&(et=this.toRgbString()),"prgb"===K&&(et=this.toPercentageRgbString()),("hex"===K||"hex6"===K)&&(et=this.toHexString()),"hex3"===K&&(et=this.toHexString(!0)),"hex4"===K&&(et=this.toHex8String(!0)),"hex8"===K&&(et=this.toHex8String()),"name"===K&&(et=this.toName()),"hsl"===K&&(et=this.toHslString()),"hsv"===K&&(et=this.toHsvString()),et||this.toHexString())},clone:function(){return f(this.toString())},_applyModification:function(K,nt){var et=K.apply(null,[this].concat([].slice.call(nt)));return this._r=et._r,this._g=et._g,this._b=et._b,this.setAlpha(et._a),this},lighten:function(){return this._applyModification(L,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(M,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(K,nt){return K.apply(null,[this].concat([].slice.call(nt)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(n,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(F,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(p,arguments)}},f.fromRatio=function(K,nt){if("object"==typeof K){var et={};for(var st in K)K.hasOwnProperty(st)&&(et[st]="a"===st?K[st]:J(K[st]));K=et}return f(K,nt)},f.equals=function(K,nt){return!(!K||!nt)&&f(K).toRgbString()==f(nt).toRgbString()},f.random=function(){return f.fromRatio({r:r(),g:r(),b:r()})},f.mix=function(K,nt,et){et=0===et?0:et||50;var st=f(K).toRgb(),dt=f(nt).toRgb(),Tt=et/100;return f({r:(dt.r-st.r)*Tt+st.r,g:(dt.g-st.g)*Tt+st.g,b:(dt.b-st.b)*Tt+st.b,a:(dt.a-st.a)*Tt+st.a})},f.readability=function(K,nt){var et=f(K),st=f(nt);return(g.max(et.getLuminance(),st.getLuminance())+.05)/(g.min(et.getLuminance(),st.getLuminance())+.05)},f.isReadable=function(K,nt,et){var dt,Tt,st=f.readability(K,nt);switch(Tt=!1,(dt=function _(K){var nt,et;return"AA"!==(nt=((K=K||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==nt&&(nt="AA"),"small"!==(et=(K.size||"small").toLowerCase())&&"large"!==et&&(et="small"),{level:nt,size:et}}(et)).level+dt.size){case"AAsmall":case"AAAlarge":Tt=st>=4.5;break;case"AAlarge":Tt=st>=3;break;case"AAAsmall":Tt=st>=7}return Tt},f.mostReadable=function(K,nt,et){var Tt,bt,Dt,Ft,st=null,dt=0;bt=(et=et||{}).includeFallbackColors,Dt=et.level,Ft=et.size;for(var Mt=0;Mt<nt.length;Mt++)(Tt=f.readability(K,nt[Mt]))>dt&&(dt=Tt,st=f(nt[Mt]));return f.isReadable(K,st,{level:Dt,size:Ft})||!bt?st:(et.includeFallbackColors=!1,f.mostReadable(K,["#fff","#000"],et))};var k=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=f.hexNames=function B(K){var nt={};for(var et in K)K.hasOwnProperty(et)&&(nt[K[et]]=et);return nt}(k);function z(K){return K=parseFloat(K),(isNaN(K)||K<0||K>1)&&(K=1),K}function U(K,nt){(function rt(K){return"string"==typeof K&&-1!=K.indexOf(".")&&1===parseFloat(K)})(K)&&(K="100%");var et=function it(K){return"string"==typeof K&&-1!=K.indexOf("%")}(K);return K=x(nt,e(0,parseFloat(K))),et&&(K=parseInt(K*nt,10)/100),g.abs(K-nt)<1e-6?1:K%nt/parseFloat(nt)}function G(K){return x(1,e(0,K))}function Q(K){return parseInt(K,16)}function ut(K){return 1==K.length?"0"+K:""+K}function J(K){return K<=1&&(K=100*K+"%"),K}function j(K){return g.round(255*parseFloat(K)).toString(16)}function Z(K){return Q(K)/255}var et,st,dt,H=(st="[\\s|\\(]+("+(et="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+et+")[,|\\s]+("+et+")\\s*\\)?",dt="[\\s|\\(]+("+et+")[,|\\s]+("+et+")[,|\\s]+("+et+")[,|\\s]+("+et+")\\s*\\)?",{CSS_UNIT:new RegExp(et),rgb:new RegExp("rgb"+st),rgba:new RegExp("rgba"+dt),hsl:new RegExp("hsl"+st),hsla:new RegExp("hsla"+dt),hsv:new RegExp("hsv"+st),hsva:new RegExp("hsva"+dt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function X(K){return!!H.CSS_UNIT.exec(K)}tt.exports?tt.exports=f:void 0!==(A=function(){return f}.call(W,t,W,tt))&&(tt.exports=A)}(Math)},57060:function(tt){"use strict";tt.exports=A,tt.exports.float32=tt.exports.float=A,tt.exports.fract32=tt.exports.fract=function t(g,i){if(g.length){if(g instanceof Float32Array)return new Float32Array(g.length);i instanceof Float32Array||(i=A(g));for(var P=0,E=i.length;P<E;P++)i[P]=g[P]-i[P];return i}return A(g-A(g))};var W=new Float32Array(1);function A(g){return g.length?g instanceof Float32Array?g:new Float32Array(g):(W[0]=g,W[0])}},75686:function(tt,W,t){"use strict";var A=t(25677);tt.exports=E;function i(l,x){var e=A(getComputedStyle(l).getPropertyValue(x));return e[0]*E(e[1],l)}function E(l,x){switch(x=x||document.body,l=(l||"px").trim().toLowerCase(),(x===window||x===document)&&(x=document.body),l){case"%":return x.clientHeight/100;case"ch":case"ex":return function P(l,x){var e=document.createElement("div");e.style["font-size"]="128"+l,x.appendChild(e);var r=i(e,"font-size")/128;return x.removeChild(e),r}(l,x);case"em":return i(x,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return 96;case"cm":return 96/2.54;case"mm":return 96/25.4;case"pt":return 96/72;case"pc":return 16}return 1}},96892:function(tt,W,t){"use strict";function g(x){return x}function P(x,e){return"string"==typeof e&&(e=x.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(r){return E(x,r)})}:E(x,e)}function E(x,e){var r=e.id,f=e.bbox,a=null==e.properties?{}:e.properties,s=function l(x,e){var r=function i(x){if(null==x)return g;var e,r,f=x.scale[0],a=x.scale[1],s=x.translate[0],c=x.translate[1];return function(u,y){y||(e=r=0);var v=2,w=u.length,d=new Array(w);for(d[0]=(e+=u[0])*f+s,d[1]=(r+=u[1])*a+c;v<w;)d[v]=u[v],++v;return d}}(x.transform),f=x.arcs;function a(w,d){d.length&&d.pop();for(var o=f[w<0?~w:w],h=0,M=o.length;h<M;++h)d.push(r(o[h],h));w<0&&function A(x,e){for(var r,f=x.length,a=f-e;a<--f;)r=x[a],x[a++]=x[f],x[f]=r}(d,M)}function s(w){return r(w)}function c(w){for(var d=[],o=0,h=w.length;o<h;++o)a(w[o],d);return d.length<2&&d.push(d[0]),d}function u(w){for(var d=c(w);d.length<4;)d.push(d[0]);return d}function y(w){return w.map(u)}function v(w){var o,d=w.type;switch(d){case"GeometryCollection":return{type:d,geometries:w.geometries.map(v)};case"Point":o=s(w.coordinates);break;case"MultiPoint":o=w.coordinates.map(s);break;case"LineString":o=c(w.arcs);break;case"MultiLineString":o=w.arcs.map(c);break;case"Polygon":o=y(w.arcs);break;case"MultiPolygon":o=w.arcs.map(y);break;default:return null}return{type:d,coordinates:o}}return v(e)}(x,e);return null==r&&null==f?{type:"Feature",properties:a,geometry:s}:null==f?{type:"Feature",id:r,properties:a,geometry:s}:{type:"Feature",id:r,bbox:f,properties:a,geometry:s}}t.d(W,{zL:function(){return P}})},73116:function(tt,W,t){"use strict";var A=t(24511);tt.exports=function(g){if("function"!=typeof g||!hasOwnProperty.call(g,"length"))return!1;try{if("number"!=typeof g.length||"function"!=typeof g.call||"function"!=typeof g.apply)return!1}catch(i){return!1}return!A(g)}},69190:function(tt,W,t){"use strict";var A=t(24582),g=t(47403),i=t(9234),P=t(6048),E=function(l,x){return l.replace("%v",P(x))};tt.exports=function(l,x,e){if(!g(e))throw new TypeError(E(x,l));if(!A(l)){if("default"in e)return e.default;if(e.isOptional)return null}var r=i(e.errorMessage);throw A(r)||(r=x),new TypeError(E(r,l))}},18497:function(tt){"use strict";tt.exports=function(W){try{return W.toString()}catch(t){try{return String(W)}catch(A){return null}}}},6048:function(tt,W,t){"use strict";var A=t(18497),g=/[\n\r\u2028\u2029]/g;tt.exports=function(i){var P=A(i);return null===P?"<Non-coercible to string value>":(P.length>100&&(P=P.slice(0,99)+"\u2026"),P=P.replace(g,function(E){switch(E){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},47403:function(tt,W,t){"use strict";var A=t(24582),g={object:!0,function:!0,undefined:!0};tt.exports=function(i){return!!A(i)&&hasOwnProperty.call(g,typeof i)}},82527:function(tt,W,t){"use strict";var A=t(69190),g=t(84985);tt.exports=function(i){return g(i)?i:A(i,"%v is not a plain function",arguments[1])}},84985:function(tt,W,t){"use strict";var A=t(73116),g=/^\s*class[\s{/}]/,i=Function.prototype.toString;tt.exports=function(P){return!(!A(P)||g.test(i.call(P)))}},24511:function(tt,W,t){"use strict";var A=t(47403);tt.exports=function(g){if(!A(g))return!1;try{return!!g.constructor&&g.constructor.prototype===g}catch(i){return!1}}},9234:function(tt,W,t){"use strict";var A=t(24582),g=t(47403),i=Object.prototype.toString;tt.exports=function(P){if(!A(P))return null;if(g(P)){var E=P.toString;if("function"!=typeof E||E===i)return null}try{return""+P}catch(l){return null}}},10424:function(tt,W,t){"use strict";var A=t(69190),g=t(24582);tt.exports=function(i){return g(i)?i:A(i,"Cannot use %v",arguments[1])}},24582:function(tt){"use strict";tt.exports=function(t){return null!=t}},58404:function(tt,W,t){"use strict";var A=t(13547),g=t(12129),i=t(12856).Buffer;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:g([32,0]),UINT16:g([32,0]),UINT32:g([32,0]),BIGUINT64:g([32,0]),INT8:g([32,0]),INT16:g([32,0]),INT32:g([32,0]),BIGINT64:g([32,0]),FLOAT:g([32,0]),DOUBLE:g([32,0]),DATA:g([32,0]),UINT8C:g([32,0]),BUFFER:g([32,0])});var P="undefined"!=typeof Uint8ClampedArray,E="undefined"!=typeof BigUint64Array,l="undefined"!=typeof BigInt64Array,x=t.g.__TYPEDARRAY_POOL;x.UINT8C||(x.UINT8C=g([32,0])),x.BIGUINT64||(x.BIGUINT64=g([32,0])),x.BIGINT64||(x.BIGINT64=g([32,0])),x.BUFFER||(x.BUFFER=g([32,0]));var e=x.DATA,r=x.BUFFER;function f(b){if(b){var C=A.log2(b.length||b.byteLength);e[C].push(b)}}function s(n){n=A.nextPow2(n);var C=A.log2(n),p=e[C];return p.length>0?p.pop():new ArrayBuffer(n)}function c(b){return new Uint8Array(s(b),0,b)}function u(b){return new Uint16Array(s(2*b),0,b)}function y(b){return new Uint32Array(s(4*b),0,b)}function v(b){return new Int8Array(s(b),0,b)}function w(b){return new Int16Array(s(2*b),0,b)}function d(b){return new Int32Array(s(4*b),0,b)}function o(b){return new Float32Array(s(4*b),0,b)}function h(b){return new Float64Array(s(8*b),0,b)}function M(b){return P?new Uint8ClampedArray(s(b),0,b):c(b)}function T(b){return E?new BigUint64Array(s(8*b),0,b):null}function L(b){return l?new BigInt64Array(s(8*b),0,b):null}function m(b){return new DataView(s(b),0,b)}function S(b){b=A.nextPow2(b);var n=A.log2(b),C=r[n];return C.length>0?C.pop():new i(b)}W.free=function(n){if(i.isBuffer(n))r[A.log2(n.length)].push(n);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(n)&&(n=n.buffer),!n)return;var p=0|A.log2(n.length||n.byteLength);e[p].push(n)}},W.freeUint8=W.freeUint16=W.freeUint32=W.freeBigUint64=W.freeInt8=W.freeInt16=W.freeInt32=W.freeBigInt64=W.freeFloat32=W.freeFloat=W.freeFloat64=W.freeDouble=W.freeUint8Clamped=W.freeDataView=function a(b){f(b.buffer)},W.freeArrayBuffer=f,W.freeBuffer=function(n){r[A.log2(n.length)].push(n)},W.malloc=function(n,C){if(void 0===C||"arraybuffer"===C)return s(n);switch(C){case"uint8":return c(n);case"uint16":return u(n);case"uint32":return y(n);case"int8":return v(n);case"int16":return w(n);case"int32":return d(n);case"float":case"float32":return o(n);case"double":case"float64":return h(n);case"uint8_clamped":return M(n);case"bigint64":return L(n);case"biguint64":return T(n);case"buffer":return S(n);case"data":case"dataview":return m(n);default:return null}return null},W.mallocArrayBuffer=s,W.mallocUint8=c,W.mallocUint16=u,W.mallocUint32=y,W.mallocInt8=v,W.mallocInt16=w,W.mallocInt32=d,W.mallocFloat32=W.mallocFloat=o,W.mallocFloat64=W.mallocDouble=h,W.mallocUint8Clamped=M,W.mallocBigUint64=T,W.mallocBigInt64=L,W.mallocDataView=m,W.mallocBuffer=S,W.clearCache=function(){for(var n=0;n<32;++n)x.UINT8[n].length=0,x.UINT16[n].length=0,x.UINT32[n].length=0,x.INT8[n].length=0,x.INT16[n].length=0,x.INT32[n].length=0,x.FLOAT[n].length=0,x.DOUBLE[n].length=0,x.BIGUINT64[n].length=0,x.BIGINT64[n].length=0,x.UINT8C[n].length=0,e[n].length=0,r[n].length=0}},90448:function(tt){var W=/[\'\"]/;tt.exports=function(A){return A?(W.test(A.charAt(0))&&(A=A.substr(1)),W.test(A.charAt(A.length-1))&&(A=A.substr(0,A.length-1)),A):""}},93447:function(tt){"use strict";tt.exports=function(t,A,g){Array.isArray(g)||(g=[].slice.call(arguments,2));for(var i=0,P=g.length;i<P;i++){var E=g[i];for(var l in E)if((void 0===A[l]||Array.isArray(A[l])||t[l]!==A[l])&&l in A){var x;if(!0===E[l])x=A[l];else{if(!1===E[l])continue;if("function"==typeof E[l]&&void 0===(x=E[l](A[l],t,A)))continue}t[l]=x}}return t}},20588:function(tt,W,t){function g(i){try{if(!t.g.localStorage)return!1}catch(E){return!1}var P=t.g.localStorage[i];return null!=P&&"true"===String(P).toLowerCase()}tt.exports=function A(i,P){if(g("noDeprecation"))return i;var E=!1;return function l(){if(!E){if(g("throwDeprecation"))throw new Error(P);g("traceDeprecation")?console.trace(P):console.warn(P),E=!0}return i.apply(this,arguments)}}},45920:function(tt){tt.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},4936:function(tt,W,t){"use strict";var A=t(47216),g=t(65481),i=t(21099),P=t(9187);function E(Tt){return Tt.call.bind(Tt)}var l="undefined"!=typeof BigInt,x="undefined"!=typeof Symbol,e=E(Object.prototype.toString),r=E(Number.prototype.valueOf),f=E(String.prototype.valueOf),a=E(Boolean.prototype.valueOf);if(l)var s=E(BigInt.prototype.valueOf);if(x)var c=E(Symbol.prototype.valueOf);function u(Tt,bt){if("object"!=typeof Tt)return!1;try{return bt(Tt),!0}catch(Dt){return!1}}function C(Tt){return"[object Map]"===e(Tt)}function F(Tt){return"[object Set]"===e(Tt)}function N(Tt){return"[object WeakMap]"===e(Tt)}function O(Tt){return"[object WeakSet]"===e(Tt)}function z(Tt){return"[object ArrayBuffer]"===e(Tt)}function U(Tt){return"undefined"!=typeof ArrayBuffer&&(z.working?z(Tt):Tt instanceof ArrayBuffer)}function G(Tt){return"[object DataView]"===e(Tt)}function Q(Tt){return"undefined"!=typeof DataView&&(G.working?G(Tt):Tt instanceof DataView)}W.isArgumentsObject=A,W.isGeneratorFunction=g,W.isTypedArray=P,W.isPromise=function y(Tt){return"undefined"!=typeof Promise&&Tt instanceof Promise||null!==Tt&&"object"==typeof Tt&&"function"==typeof Tt.then&&"function"==typeof Tt.catch},W.isArrayBufferView=function v(Tt){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(Tt):P(Tt)||Q(Tt)},W.isUint8Array=function w(Tt){return"Uint8Array"===i(Tt)},W.isUint8ClampedArray=function d(Tt){return"Uint8ClampedArray"===i(Tt)},W.isUint16Array=function o(Tt){return"Uint16Array"===i(Tt)},W.isUint32Array=function h(Tt){return"Uint32Array"===i(Tt)},W.isInt8Array=function M(Tt){return"Int8Array"===i(Tt)},W.isInt16Array=function T(Tt){return"Int16Array"===i(Tt)},W.isInt32Array=function L(Tt){return"Int32Array"===i(Tt)},W.isFloat32Array=function m(Tt){return"Float32Array"===i(Tt)},W.isFloat64Array=function S(Tt){return"Float64Array"===i(Tt)},W.isBigInt64Array=function b(Tt){return"BigInt64Array"===i(Tt)},W.isBigUint64Array=function n(Tt){return"BigUint64Array"===i(Tt)},C.working="undefined"!=typeof Map&&C(new Map),W.isMap=function p(Tt){return"undefined"!=typeof Map&&(C.working?C(Tt):Tt instanceof Map)},F.working="undefined"!=typeof Set&&F(new Set),W.isSet=function D(Tt){return"undefined"!=typeof Set&&(F.working?F(Tt):Tt instanceof Set)},N.working="undefined"!=typeof WeakMap&&N(new WeakMap),W.isWeakMap=function k(Tt){return"undefined"!=typeof WeakMap&&(N.working?N(Tt):Tt instanceof WeakMap)},O.working="undefined"!=typeof WeakSet&&O(new WeakSet),W.isWeakSet=function B(Tt){return O(Tt)},z.working="undefined"!=typeof ArrayBuffer&&z(new ArrayBuffer),W.isArrayBuffer=U,G.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&G(new DataView(new ArrayBuffer(1),0,1)),W.isDataView=Q;var rt="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function it(Tt){return"[object SharedArrayBuffer]"===e(Tt)}function ut(Tt){return void 0!==rt&&(void 0===it.working&&(it.working=it(new rt)),it.working?it(Tt):Tt instanceof rt)}function at(Tt){return u(Tt,r)}function _(Tt){return u(Tt,f)}function K(Tt){return u(Tt,a)}function nt(Tt){return l&&u(Tt,s)}function et(Tt){return x&&u(Tt,c)}W.isSharedArrayBuffer=ut,W.isAsyncFunction=function J(Tt){return"[object AsyncFunction]"===e(Tt)},W.isMapIterator=function j(Tt){return"[object Map Iterator]"===e(Tt)},W.isSetIterator=function Z(Tt){return"[object Set Iterator]"===e(Tt)},W.isGeneratorObject=function H(Tt){return"[object Generator]"===e(Tt)},W.isWebAssemblyCompiledModule=function X(Tt){return"[object WebAssembly.Module]"===e(Tt)},W.isNumberObject=at,W.isStringObject=_,W.isBooleanObject=K,W.isBigIntObject=nt,W.isSymbolObject=et,W.isBoxedPrimitive=function st(Tt){return at(Tt)||_(Tt)||K(Tt)||nt(Tt)||et(Tt)},W.isAnyArrayBuffer=function dt(Tt){return"undefined"!=typeof Uint8Array&&(U(Tt)||ut(Tt))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Tt){Object.defineProperty(W,Tt,{enumerable:!1,value:function(){throw new Error(Tt+" is not supported in userland")}})})},43827:function(tt,W,t){var A=t(90386),g=Object.getOwnPropertyDescriptors||function(rt){for(var it=Object.keys(rt),ut={},J=0;J<it.length;J++)ut[it[J]]=Object.getOwnPropertyDescriptor(rt,it[J]);return ut},i=/%[sdj%]/g;W.format=function(Q){if(!T(Q)){for(var rt=[],it=0;it<arguments.length;it++)rt.push(x(arguments[it]));return rt.join(" ")}it=1;for(var ut=arguments,J=ut.length,j=String(Q).replace(i,function(H){if("%%"===H)return"%";if(it>=J)return H;switch(H){case"%s":return String(ut[it++]);case"%d":return Number(ut[it++]);case"%j":try{return JSON.stringify(ut[it++])}catch(X){return"[Circular]"}default:return H}}),Z=ut[it];it<J;Z=ut[++it])o(Z)||!b(Z)?j+=" "+Z:j+=" "+x(Z);return j},W.deprecate=function(Q,rt){if(void 0!==A&&!0===A.noDeprecation)return Q;if(void 0===A)return function(){return W.deprecate(Q,rt).apply(this,arguments)};var it=!1;return function ut(){if(!it){if(A.throwDeprecation)throw new Error(rt);A.traceDeprecation?console.trace(rt):console.error(rt),it=!0}return Q.apply(this,arguments)}};var P={},E=/^$/;if(A.env.NODE_DEBUG){var l=A.env.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),E=new RegExp("^"+l+"$","i")}function x(Q,rt){var it={seen:[],stylize:r};return arguments.length>=3&&(it.depth=arguments[2]),arguments.length>=4&&(it.colors=arguments[3]),d(rt)?it.showHidden=rt:rt&&W._extend(it,rt),m(it.showHidden)&&(it.showHidden=!1),m(it.depth)&&(it.depth=2),m(it.colors)&&(it.colors=!1),m(it.customInspect)&&(it.customInspect=!0),it.colors&&(it.stylize=e),a(it,Q,it.depth)}function e(Q,rt){var it=x.styles[rt];return it?"\x1b["+x.colors[it][0]+"m"+Q+"\x1b["+x.colors[it][1]+"m":Q}function r(Q,rt){return Q}function a(Q,rt,it){if(Q.customInspect&&rt&&p(rt.inspect)&&rt.inspect!==W.inspect&&(!rt.constructor||rt.constructor.prototype!==rt)){var ut=rt.inspect(it,Q);return T(ut)||(ut=a(Q,ut,it)),ut}var J=function s(Q,rt){if(m(rt))return Q.stylize("undefined","undefined");if(T(rt)){var it="'"+JSON.stringify(rt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Q.stylize(it,"string")}return M(rt)?Q.stylize(""+rt,"number"):d(rt)?Q.stylize(""+rt,"boolean"):o(rt)?Q.stylize("null","null"):void 0}(Q,rt);if(J)return J;var j=Object.keys(rt),Z=function f(Q){var rt={};return Q.forEach(function(it,ut){rt[it]=!0}),rt}(j);if(Q.showHidden&&(j=Object.getOwnPropertyNames(rt)),C(rt)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return c(rt);if(0===j.length){if(p(rt))return Q.stylize("[Function"+(rt.name?": "+rt.name:"")+"]","special");if(S(rt))return Q.stylize(RegExp.prototype.toString.call(rt),"regexp");if(n(rt))return Q.stylize(Date.prototype.toString.call(rt),"date");if(C(rt))return c(rt)}var nt,X="",at=!1,_=["{","}"];return w(rt)&&(at=!0,_=["[","]"]),p(rt)&&(X=" [Function"+(rt.name?": "+rt.name:"")+"]"),S(rt)&&(X=" "+RegExp.prototype.toString.call(rt)),n(rt)&&(X=" "+Date.prototype.toUTCString.call(rt)),C(rt)&&(X=" "+c(rt)),0!==j.length||at&&0!=rt.length?it<0?S(rt)?Q.stylize(RegExp.prototype.toString.call(rt),"regexp"):Q.stylize("[Object]","special"):(Q.seen.push(rt),nt=at?function u(Q,rt,it,ut,J){for(var j=[],Z=0,H=rt.length;Z<H;++Z)B(rt,String(Z))?j.push(y(Q,rt,it,ut,String(Z),!0)):j.push("");return J.forEach(function(X){X.match(/^\d+$/)||j.push(y(Q,rt,it,ut,X,!0))}),j}(Q,rt,it,Z,j):j.map(function(et){return y(Q,rt,it,Z,et,at)}),Q.seen.pop(),function v(Q,rt,it){return Q.reduce(function(j,Z){return Z.indexOf("\n"),j+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?it[0]+(""===rt?"":rt+"\n ")+" "+Q.join(",\n  ")+" "+it[1]:it[0]+rt+" "+Q.join(", ")+" "+it[1]}(nt,X,_)):_[0]+X+_[1]}function c(Q){return"["+Error.prototype.toString.call(Q)+"]"}function y(Q,rt,it,ut,J,j){var Z,H,X;if((X=Object.getOwnPropertyDescriptor(rt,J)||{value:rt[J]}).get?H=Q.stylize(X.set?"[Getter/Setter]":"[Getter]","special"):X.set&&(H=Q.stylize("[Setter]","special")),B(ut,J)||(Z="["+J+"]"),H||(Q.seen.indexOf(X.value)<0?(H=o(it)?a(Q,X.value,null):a(Q,X.value,it-1)).indexOf("\n")>-1&&(H=j?H.split("\n").map(function(at){return"  "+at}).join("\n").slice(2):"\n"+H.split("\n").map(function(at){return"   "+at}).join("\n")):H=Q.stylize("[Circular]","special")),m(Z)){if(j&&J.match(/^\d+$/))return H;(Z=JSON.stringify(""+J)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Z=Z.slice(1,-1),Z=Q.stylize(Z,"name")):(Z=Z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Z=Q.stylize(Z,"string"))}return Z+": "+H}function w(Q){return Array.isArray(Q)}function d(Q){return"boolean"==typeof Q}function o(Q){return null===Q}function M(Q){return"number"==typeof Q}function T(Q){return"string"==typeof Q}function m(Q){return void 0===Q}function S(Q){return b(Q)&&"[object RegExp]"===D(Q)}function b(Q){return"object"==typeof Q&&null!==Q}function n(Q){return b(Q)&&"[object Date]"===D(Q)}function C(Q){return b(Q)&&("[object Error]"===D(Q)||Q instanceof Error)}function p(Q){return"function"==typeof Q}function D(Q){return Object.prototype.toString.call(Q)}function N(Q){return Q<10?"0"+Q.toString(10):Q.toString(10)}W.debuglog=function(Q){if(Q=Q.toUpperCase(),!P[Q])if(E.test(Q)){var rt=A.pid;P[Q]=function(){var it=W.format.apply(W,arguments);console.error("%s %d: %s",Q,rt,it)}}else P[Q]=function(){};return P[Q]},W.inspect=x,x.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},x.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},W.types=t(4936),W.isArray=w,W.isBoolean=d,W.isNull=o,W.isNullOrUndefined=function h(Q){return null==Q},W.isNumber=M,W.isString=T,W.isSymbol=function L(Q){return"symbol"==typeof Q},W.isUndefined=m,W.isRegExp=S,W.types.isRegExp=S,W.isObject=b,W.isDate=n,W.types.isDate=n,W.isError=C,W.types.isNativeError=C,W.isFunction=p,W.isPrimitive=function F(Q){return null===Q||"boolean"==typeof Q||"number"==typeof Q||"string"==typeof Q||"symbol"==typeof Q||void 0===Q},W.isBuffer=t(45920);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var Q=new Date,rt=[N(Q.getHours()),N(Q.getMinutes()),N(Q.getSeconds())].join(":");return[Q.getDate(),k[Q.getMonth()],rt].join(" ")}function B(Q,rt){return Object.prototype.hasOwnProperty.call(Q,rt)}W.log=function(){console.log("%s - %s",O(),W.format.apply(W,arguments))},W.inherits=t(42018),W._extend=function(Q,rt){if(!rt||!b(rt))return Q;for(var it=Object.keys(rt),ut=it.length;ut--;)Q[it[ut]]=rt[it[ut]];return Q};var z="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function U(Q,rt){if(!Q){var it=new Error("Promise was rejected with a falsy value");it.reason=Q,Q=it}return rt(Q)}W.promisify=function(rt){if("function"!=typeof rt)throw new TypeError('The "original" argument must be of type Function');if(z&&rt[z]){var it;if("function"!=typeof(it=rt[z]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(it,z,{value:it,enumerable:!1,writable:!1,configurable:!0}),it}function it(){for(var ut,J,j=new Promise(function(X,at){ut=X,J=at}),Z=[],H=0;H<arguments.length;H++)Z.push(arguments[H]);Z.push(function(X,at){X?J(X):ut(at)});try{rt.apply(this,Z)}catch(X){J(X)}return j}return Object.setPrototypeOf(it,Object.getPrototypeOf(rt)),z&&Object.defineProperty(it,z,{value:it,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(it,g(rt))},W.promisify.custom=z,W.callbackify=function G(Q){if("function"!=typeof Q)throw new TypeError('The "original" argument must be of type Function');function rt(){for(var it=[],ut=0;ut<arguments.length;ut++)it.push(arguments[ut]);var J=it.pop();if("function"!=typeof J)throw new TypeError("The last argument must be of type Function");var j=this,Z=function(){return J.apply(j,arguments)};Q.apply(this,it).then(function(H){A.nextTick(Z.bind(null,null,H))},function(H){A.nextTick(U.bind(null,H,Z))})}return Object.setPrototypeOf(rt,Object.getPrototypeOf(Q)),Object.defineProperties(rt,g(Q)),rt}},40372:function(tt,W,t){var A=t(86249);tt.exports=function(i){return A("webgl",i)}},21099:function(tt,W,t){"use strict";var A=t(31353),g=t(72077),i=t(6614),P=t(40383),E=i("Object.prototype.toString"),l=t(84543)(),x="undefined"==typeof globalThis?t.g:globalThis,e=g(),r=i("String.prototype.slice"),f={},a=Object.getPrototypeOf;l&&P&&a&&A(e,function(u){if("function"==typeof x[u]){var y=new x[u];if(Symbol.toStringTag in y){var v=a(y),w=P(v,Symbol.toStringTag);if(!w){var d=a(v);w=P(d,Symbol.toStringTag)}f[u]=w.get}}});var c=t(9187);tt.exports=function(y){return!!c(y)&&(l&&Symbol.toStringTag in y?function(y){var v=!1;return A(f,function(w,d){if(!v)try{var o=w.call(y);o===d&&(v=o)}catch(h){}}),v}(y):r(E(y),8,-1))}},3961:function(tt,W,t){var A=t(63489),g=t(56131),i=A.instance();function P(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}g(P.prototype=new A.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(c,u){if("string"==typeof c){var y=c.match(l);return y?y[0]:""}var v=this._validateYear(c),w=c.month(),d=""+this.toChineseMonth(v,w);return u&&d.length<2&&(d="0"+d),this.isIntercalaryMonth(v,w)&&(d+="i"),d},monthNames:function(c){if("string"==typeof c){var u=c.match(x);return u?u[0]:""}var y=this._validateYear(c),v=c.month(),d=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(y,v)-1];return this.isIntercalaryMonth(y,v)&&(d="\u95f0"+d),d},monthNamesShort:function(c){if("string"==typeof c){var u=c.match(e);return u?u[0]:""}var y=this._validateYear(c),v=c.month(),d=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(y,v)-1];return this.isIntercalaryMonth(y,v)&&(d="\u95f0"+d),d},parseMonth:function(c,u){c=this._validateYear(c);var v,y=parseInt(u);if(isNaN(y))"\u95f0"===u[0]&&(v=!0,u=u.substring(1)),"\u6708"===u[u.length-1]&&(u=u.substring(0,u.length-1)),y=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(u);else{var w=u[u.length-1];v="i"===w||"I"===w}return this.toMonthIndex(c,y,v)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(c,u){if(c.year&&(c=c.year()),"number"!=typeof c||c<1888||c>2111)throw u.replace(/\{0\}/,this.local.name);return c},toMonthIndex:function(c,u,y){var v=this.intercalaryMonth(c);if(y&&u!==v||u<1||u>12)throw A.local.invalidMonth.replace(/\{0\}/,this.local.name);return v?!y&&u<=v?u-1:u:u-1},toChineseMonth:function(c,u){c.year&&(u=(c=c.year()).month());var y=this.intercalaryMonth(c);if(u<0||u>(y?12:11))throw A.local.invalidMonth.replace(/\{0\}/,this.local.name);return y?u<y?u+1:u:u+1},intercalaryMonth:function(c){return c=this._validateYear(c),r[c-r[0]]>>13},isIntercalaryMonth:function(c,u){c.year&&(u=(c=c.year()).month());var y=this.intercalaryMonth(c);return!!y&&y===u},leapYear:function(c){return 0!==this.intercalaryMonth(c)},weekOfYear:function(c,u,y){var M,v=this._validateYear(c,A.local.invalidyear),w=f[v-f[0]];(M=i.newDate(w>>9&4095,w>>5&15,31&w)).add(4-(M.dayOfWeek()||7),"d");var T=this.toJD(c,u,y)-M.toJD();return 1+Math.floor(T/7)},monthsInYear:function(c){return this.leapYear(c)?13:12},daysInMonth:function(c,u){c.year&&(u=c.month(),c=c.year()),c=this._validateYear(c);var y=r[c-r[0]];if(u>(y>>13?12:11))throw A.local.invalidMonth.replace(/\{0\}/,this.local.name);return y&1<<12-u?30:29},weekDay:function(c,u,y){return(this.dayOfWeek(c,u,y)||7)<6},toJD:function(c,u,y){var v=this._validate(c,d,y,A.local.invalidDate);c=this._validateYear(v.year()),u=v.month(),y=v.day();var w=this.isIntercalaryMonth(c,u),d=this.toChineseMonth(c,u),o=function s(c,u,y,v,w){var d,o,m;if("object"==typeof c)o=c,d=u||{};else{var L;if(!("number"==typeof c&&c>=1888&&c<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof u&&u>=1&&u<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof y&&y>=1&&y<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof v?(L=!1,d=v):(L=!!v,d=w||{}),o={year:c,month:u,day:y,isIntercalary:L}}m=o.day-1;var n,S=r[o.year-r[0]],b=S>>13;n=b&&(o.month>b||o.isIntercalary)?o.month:o.month-1;for(var C=0;C<n;C++)m+=S&1<<12-C?30:29;var F=f[o.year-f[0]],O=new Date(F>>9&4095,(F>>5&15)-1,(31&F)+m);return d.year=O.getFullYear(),d.month=1+O.getMonth(),d.day=O.getDate(),d}(c,d,y,w);return i.toJD(o.year,o.month,o.day)},fromJD:function(c){var u=i.fromJD(c),y=function a(c,u,y,v){var w,d;if("object"==typeof c)w=c,d=u||{};else{if(!("number"==typeof c&&c>=1888&&c<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof u&&u>=1&&u<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof y&&y>=1&&y<=31))throw new Error("Solar day outside range 1 - 31");w={year:c,month:u,day:y},d=v||{}}var T=f[w.year-f[0]];d.year=(w.year<<9|w.month<<5|w.day)>=T?w.year:w.year-1,T=f[d.year-f[0]];var n,C=new Date(T>>9&4095,(T>>5&15)-1,31&T),p=new Date(w.year,w.month-1,w.day);n=Math.round((p-C)/864e5);var D,F=r[d.year-r[0]];for(D=0;D<13;D++){var N=F&1<<12-D?30:29;if(n<N)break;n-=N}var k=F>>13;return!k||D<k?(d.isIntercalary=!1,d.month=1+D):D===k?(d.isIntercalary=!0,d.month=D):(d.isIntercalary=!1,d.month=D),d.day=1+n,d}(u.year(),u.month(),u.day()),v=this.toMonthIndex(y.year,y.month,y.isIntercalary);return this.newDate(y.year,v,y.day)},fromString:function(c){var u=c.match(E),y=this._validateYear(+u[1]),d=this.toMonthIndex(y,+u[2],!!u[3]);return this.newDate(y,d,+u[4])},add:function(c,u,y){var v=c.year(),w=c.month(),d=this.isIntercalaryMonth(v,w),o=this.toChineseMonth(v,w),h=Object.getPrototypeOf(P.prototype).add.call(this,c,u,y);if("y"===y){var M=h.year(),T=h.month(),L=this.isIntercalaryMonth(M,o),m=this.toMonthIndex(M,o,!(!d||!L));m!==T&&h.month(m)}return h}});var E=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,l=/^\d?\d[iI]?/m,x=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,e=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;A.calendars.chinese=P;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],f=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(tt,W,t){var A=t(63489);function i(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}t(56131)(i.prototype=new A.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var E=this._validate(l,this.minMonth,this.minDay,A.local.invalidYear);return(l=E.year()+(E.year()<0?1:0))%4==3||l%4==-1},monthsInYear:function(P){return this._validate(P,this.minMonth,this.minDay,A.local.invalidYear||A.regionalOptions[""].invalidYear),13},weekOfYear:function(P,E,l){var x=this.newDate(P,E,l);return x.add(-x.dayOfWeek(),"d"),Math.floor((x.dayOfYear()-1)/7)+1},daysInMonth:function(P,E){var l=this._validate(P,E,this.minDay,A.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(13===l.month()&&this.leapYear(l.year())?1:0)},weekDay:function(P,E,l){return(this.dayOfWeek(P,E,l)||7)<6},toJD:function(P,E,l){var x=this._validate(P,E,l,A.local.invalidDate);return(P=x.year())<0&&P++,x.day()+30*(x.month()-1)+365*(P-1)+Math.floor(P/4)+this.jdEpoch-1},fromJD:function(P){var E=Math.floor(P)+.5-this.jdEpoch,l=Math.floor((E-Math.floor((E+366)/1461))/365)+1;l<=0&&l--,E=Math.floor(P)+.5-this.newDate(l,1,1).toJD();var x=Math.floor(E/30)+1;return this.newDate(l,x,E-30*(x-1)+1)}}),A.calendars.coptic=i},86825:function(tt,W,t){var A=t(63489);function i(E){this.local=this.regionalOptions[E||""]||this.regionalOptions[""]}t(56131)(i.prototype=new A.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(E){return this._validate(E,this.minMonth,this.minDay,A.local.invalidYear),!1},monthsInYear:function(E){return this._validate(E,this.minMonth,this.minDay,A.local.invalidYear),13},daysInYear:function(E){return this._validate(E,this.minMonth,this.minDay,A.local.invalidYear),400},weekOfYear:function(E,l,x){var e=this.newDate(E,l,x);return e.add(-e.dayOfWeek(),"d"),Math.floor((e.dayOfYear()-1)/8)+1},daysInMonth:function(E,l){var x=this._validate(E,l,this.minDay,A.local.invalidMonth);return this.daysPerMonth[x.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(E,l,x){return(this._validate(E,l,x,A.local.invalidDate).day()+1)%8},weekDay:function(E,l,x){var e=this.dayOfWeek(E,l,x);return e>=2&&e<=6},extraInfo:function(E,l,x){var e=this._validate(E,l,x,A.local.invalidDate);return{century:P[Math.floor((e.year()-1)/100)+1]||""}},toJD:function(E,l,x){var e=this._validate(E,l,x,A.local.invalidDate);return E=e.year()+(e.year()<0?1:0),l=e.month(),(x=e.day())+(l>1?16:0)+(l>2?32*(l-2):0)+400*(E-1)+this.jdEpoch-1},fromJD:function(E){E=Math.floor(E+.5)-Math.floor(this.jdEpoch)-1;var l=Math.floor(E/400)+1;E-=400*(l-1),E+=E>15?16:0;var x=Math.floor(E/32)+1;return this.newDate(l<=0?l-1:l,x,E-32*(x-1)+1)}});var P={20:"Fruitbat",21:"Anchovy"};A.calendars.discworld=i},37715:function(tt,W,t){var A=t(63489);function i(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}t(56131)(i.prototype=new A.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var E=this._validate(l,this.minMonth,this.minDay,A.local.invalidYear);return(l=E.year()+(E.year()<0?1:0))%4==3||l%4==-1},monthsInYear:function(P){return this._validate(P,this.minMonth,this.minDay,A.local.invalidYear||A.regionalOptions[""].invalidYear),13},weekOfYear:function(P,E,l){var x=this.newDate(P,E,l);return x.add(-x.dayOfWeek(),"d"),Math.floor((x.dayOfYear()-1)/7)+1},daysInMonth:function(P,E){var l=this._validate(P,E,this.minDay,A.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(13===l.month()&&this.leapYear(l.year())?1:0)},weekDay:function(P,E,l){return(this.dayOfWeek(P,E,l)||7)<6},toJD:function(P,E,l){var x=this._validate(P,E,l,A.local.invalidDate);return(P=x.year())<0&&P++,x.day()+30*(x.month()-1)+365*(P-1)+Math.floor(P/4)+this.jdEpoch-1},fromJD:function(P){var E=Math.floor(P)+.5-this.jdEpoch,l=Math.floor((E-Math.floor((E+366)/1461))/365)+1;l<=0&&l--,E=Math.floor(P)+.5-this.newDate(l,1,1).toJD();var x=Math.floor(E/30)+1;return this.newDate(l,x,E-30*(x-1)+1)}}),A.calendars.ethiopian=i},99384:function(tt,W,t){var A=t(63489);function i(E){this.local=this.regionalOptions[E||""]||this.regionalOptions[""]}function P(E,l){return E-l*Math.floor(E/l)}t(56131)(i.prototype=new A.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(E){var l=this._validate(E,this.minMonth,this.minDay,A.local.invalidYear);return this._leapYear(l.year())},_leapYear:function(E){return P(7*(E=E<0?E+1:E)+1,19)<7},monthsInYear:function(E){return this._validate(E,this.minMonth,this.minDay,A.local.invalidYear),this._leapYear(E.year?E.year():E)?13:12},weekOfYear:function(E,l,x){var e=this.newDate(E,l,x);return e.add(-e.dayOfWeek(),"d"),Math.floor((e.dayOfYear()-1)/7)+1},daysInYear:function(E){return E=this._validate(E,this.minMonth,this.minDay,A.local.invalidYear).year(),this.toJD(-1===E?1:E+1,7,1)-this.toJD(E,7,1)},daysInMonth:function(E,l){return E.year&&(l=E.month(),E=E.year()),this._validate(E,l,this.minDay,A.local.invalidMonth),12===l&&this.leapYear(E)||8===l&&5===P(this.daysInYear(E),10)?30:9===l&&3===P(this.daysInYear(E),10)?29:this.daysPerMonth[l-1]},weekDay:function(E,l,x){return 6!==this.dayOfWeek(E,l,x)},extraInfo:function(E,l,x){var e=this._validate(E,l,x,A.local.invalidDate);return{yearType:(this.leapYear(e)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(e)%10-3]}},toJD:function(E,l,x){var e=this._validate(E,l,x,A.local.invalidDate);E=e.year(),l=e.month(),x=e.day();var r=E<=0?E+1:E,f=this.jdEpoch+this._delay1(r)+this._delay2(r)+x+1;if(l<7){for(var a=7;a<=this.monthsInYear(E);a++)f+=this.daysInMonth(E,a);for(a=1;a<l;a++)f+=this.daysInMonth(E,a)}else for(a=7;a<l;a++)f+=this.daysInMonth(E,a);return f},_delay1:function(E){var l=Math.floor((235*E-234)/19),e=29*l+Math.floor((12084+13753*l)/25920);return P(3*(e+1),7)<3&&e++,e},_delay2:function(E){var l=this._delay1(E-1),x=this._delay1(E);return this._delay1(E+1)-x==356?2:x-l==382?1:0},fromJD:function(E){E=Math.floor(E)+.5;for(var l=Math.floor(98496*(E-this.jdEpoch)/35975351)-1;E>=this.toJD(-1===l?1:l+1,7,1);)l++;for(var x=E<this.toJD(l,1,1)?7:1;E>this.toJD(l,x,this.daysInMonth(l,x));)x++;var e=E-this.toJD(l,x,1)+1;return this.newDate(l,x,e)}}),A.calendars.hebrew=i},43805:function(tt,W,t){var A=t(63489);function i(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}t(56131)(i.prototype=new A.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(P){return(11*this._validate(P,this.minMonth,this.minDay,A.local.invalidYear).year()+14)%30<11},weekOfYear:function(P,E,l){var x=this.newDate(P,E,l);return x.add(-x.dayOfWeek(),"d"),Math.floor((x.dayOfYear()-1)/7)+1},daysInYear:function(P){return this.leapYear(P)?355:354},daysInMonth:function(P,E){var l=this._validate(P,E,this.minDay,A.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(12===l.month()&&this.leapYear(l.year())?1:0)},weekDay:function(P,E,l){return 5!==this.dayOfWeek(P,E,l)},toJD:function(P,E,l){var x=this._validate(P,E,l,A.local.invalidDate);return P=x.year(),E=x.month(),P=P<=0?P+1:P,(l=x.day())+Math.ceil(29.5*(E-1))+354*(P-1)+Math.floor((3+11*P)/30)+this.jdEpoch-1},fromJD:function(P){P=Math.floor(P)+.5;var E=Math.floor((30*(P-this.jdEpoch)+10646)/10631);E=E<=0?E-1:E;var l=Math.min(12,Math.ceil((P-29-this.toJD(E,1,1))/29.5)+1),x=P-this.toJD(E,l,1)+1;return this.newDate(E,l,x)}}),A.calendars.islamic=i},88874:function(tt,W,t){var A=t(63489);function i(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}t(56131)(i.prototype=new A.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var E=this._validate(l,this.minMonth,this.minDay,A.local.invalidYear);return(l=E.year()<0?E.year()+1:E.year())%4==0},weekOfYear:function(P,E,l){var x=this.newDate(P,E,l);return x.add(4-(x.dayOfWeek()||7),"d"),Math.floor((x.dayOfYear()-1)/7)+1},daysInMonth:function(P,E){var l=this._validate(P,E,this.minDay,A.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(2===l.month()&&this.leapYear(l.year())?1:0)},weekDay:function(P,E,l){return(this.dayOfWeek(P,E,l)||7)<6},toJD:function(P,E,l){var x=this._validate(P,E,l,A.local.invalidDate);return P=x.year(),E=x.month(),l=x.day(),P<0&&P++,E<=2&&(P--,E+=12),Math.floor(365.25*(P+4716))+Math.floor(30.6001*(E+1))+l-1524.5},fromJD:function(P){var l=Math.floor(P+.5)+1524,x=Math.floor((l-122.1)/365.25),e=Math.floor(365.25*x),r=Math.floor((l-e)/30.6001),f=r-Math.floor(r<14?1:13),a=x-Math.floor(f>2?4716:4715),s=l-e-Math.floor(30.6001*r);return a<=0&&a--,this.newDate(a,f,s)}}),A.calendars.julian=i},83290:function(tt,W,t){var A=t(63489);function i(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}function P(l,x){return l-x*Math.floor(l/x)}function E(l,x){return P(l-1,x)+1}t(56131)(i.prototype=new A.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(l){return this._validate(l,this.minMonth,this.minDay,A.local.invalidYear),!1},formatYear:function(l){l=this._validate(l,this.minMonth,this.minDay,A.local.invalidYear).year();var e=Math.floor(l/400);return l%=400,l+=l<0?400:0,e+"."+Math.floor(l/20)+"."+l%20},forYear:function(l){if((l=l.split(".")).length<3)throw"Invalid Mayan year";for(var x=0,e=0;e<l.length;e++){var r=parseInt(l[e],10);if(Math.abs(r)>19||e>0&&r<0)throw"Invalid Mayan year";x=20*x+r}return x},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,A.local.invalidYear),18},weekOfYear:function(l,x,e){return this._validate(l,x,e,A.local.invalidDate),0},daysInYear:function(l){return this._validate(l,this.minMonth,this.minDay,A.local.invalidYear),360},daysInMonth:function(l,x){return this._validate(l,x,this.minDay,A.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(l,x,e){return this._validate(l,x,e,A.local.invalidDate).day()},weekDay:function(l,x,e){return this._validate(l,x,e,A.local.invalidDate),!0},extraInfo:function(l,x,e){var f=this._validate(l,x,e,A.local.invalidDate).toJD(),a=this._toHaab(f),s=this._toTzolkin(f);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[s[0]-1],tzolkinDay:s[0],tzolkinTrecena:s[1]}},_toHaab:function(l){var x=P(8+(l-=this.jdEpoch)+340,365);return[Math.floor(x/20)+1,P(x,20)]},_toTzolkin:function(l){return[E(20+(l-=this.jdEpoch),20),E(l+4,13)]},toJD:function(l,x,e){var r=this._validate(l,x,e,A.local.invalidDate);return r.day()+20*r.month()+360*r.year()+this.jdEpoch},fromJD:function(l){l=Math.floor(l)+.5-this.jdEpoch;var x=Math.floor(l/360);l%=360,l+=l<0?360:0;var e=Math.floor(l/20);return this.newDate(x,e,l%20)}}),A.calendars.mayan=i},29108:function(tt,W,t){var A=t(63489),g=t(56131);function i(E){this.local=this.regionalOptions[E||""]||this.regionalOptions[""]}i.prototype=new A.baseCalendar;var P=A.instance("gregorian");g(i.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(E){var l=this._validate(E,this.minMonth,this.minDay,A.local.invalidYear||A.regionalOptions[""].invalidYear);return P.leapYear(l.year()+(l.year()<1?1:0)+1469)},weekOfYear:function(E,l,x){var e=this.newDate(E,l,x);return e.add(1-(e.dayOfWeek()||7),"d"),Math.floor((e.dayOfYear()-1)/7)+1},daysInMonth:function(E,l){var x=this._validate(E,l,this.minDay,A.local.invalidMonth);return this.daysPerMonth[x.month()-1]+(12===x.month()&&this.leapYear(x.year())?1:0)},weekDay:function(E,l,x){return(this.dayOfWeek(E,l,x)||7)<6},toJD:function(r,l,x){var e=this._validate(r,l,x,A.local.invalidMonth);(r=e.year())<0&&r++;for(var f=e.day(),a=1;a<e.month();a++)f+=this.daysPerMonth[a-1];return f+P.toJD(r+1468,3,13)},fromJD:function(E){E=Math.floor(E+.5);for(var l=Math.floor((E-(this.jdEpoch-1))/366);E>=this.toJD(l+1,1,1);)l++;for(var x=E-Math.floor(this.toJD(l,1,1)+.5)+1,e=1;x>this.daysInMonth(l,e);)x-=this.daysInMonth(l,e),e++;return this.newDate(l,e,x)}}),A.calendars.nanakshahi=i},55422:function(tt,W,t){var A=t(63489);function i(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}t(56131)(i.prototype=new A.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(P){return this.daysInYear(P)!==this.daysPerYear},weekOfYear:function(P,E,l){var x=this.newDate(P,E,l);return x.add(-x.dayOfWeek(),"d"),Math.floor((x.dayOfYear()-1)/7)+1},daysInYear:function(P){if(P=this._validate(P,this.minMonth,this.minDay,A.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[P])return this.daysPerYear;for(var l=0,x=this.minMonth;x<=12;x++)l+=this.NEPALI_CALENDAR_DATA[P][x];return l},daysInMonth:function(P,E){return P.year&&(E=P.month(),P=P.year()),this._validate(P,E,this.minDay,A.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[P]?this.daysPerMonth[E-1]:this.NEPALI_CALENDAR_DATA[P][E]},weekDay:function(P,E,l){return 6!==this.dayOfWeek(P,E,l)},toJD:function(P,E,l){var x=this._validate(P,E,l,A.local.invalidDate);P=x.year(),E=x.month(),l=x.day();var e=A.instance(),r=0,f=E,a=P;this._createMissingCalendarData(P);var s=P-(f>9||9===f&&l>=this.NEPALI_CALENDAR_DATA[a][0]?56:57);for(9!==E&&(r=l,f--);9!==f;)f<=0&&(f=12,a--),r+=this.NEPALI_CALENDAR_DATA[a][f],f--;return 9===E?(r+=l-this.NEPALI_CALENDAR_DATA[a][0])<0&&(r+=e.daysInYear(s)):r+=this.NEPALI_CALENDAR_DATA[a][9]-this.NEPALI_CALENDAR_DATA[a][0],e.newDate(s,1,1).add(r,"d").toJD()},fromJD:function(P){var l=A.instance().fromJD(P),x=l.year(),e=l.dayOfYear(),r=x+56;this._createMissingCalendarData(r);for(var f=9,s=this.NEPALI_CALENDAR_DATA[r][f]-this.NEPALI_CALENDAR_DATA[r][0]+1;e>s;)++f>12&&(f=1,r++),s+=this.NEPALI_CALENDAR_DATA[r][f];return this.newDate(r,f,this.NEPALI_CALENDAR_DATA[r][f]-(s-e))},_createMissingCalendarData:function(P){var E=this.daysPerMonth.slice(0);E.unshift(17);for(var l=P-1;l<P+2;l++)void 0===this.NEPALI_CALENDAR_DATA[l]&&(this.NEPALI_CALENDAR_DATA[l]=E)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),A.calendars.nepali=i},94320:function(tt,W,t){var A=t(63489);function i(E){this.local=this.regionalOptions[E||""]||this.regionalOptions[""]}function P(E,l){return E-l*Math.floor(E/l)}t(56131)(i.prototype=new A.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(E){var l=this._validate(E,this.minMonth,this.minDay,A.local.invalidYear);return 682*((l.year()-(l.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(E,l,x){var e=this.newDate(E,l,x);return e.add(-(e.dayOfWeek()+1)%7,"d"),Math.floor((e.dayOfYear()-1)/7)+1},daysInMonth:function(E,l){var x=this._validate(E,l,this.minDay,A.local.invalidMonth);return this.daysPerMonth[x.month()-1]+(12===x.month()&&this.leapYear(x.year())?1:0)},weekDay:function(E,l,x){return 5!==this.dayOfWeek(E,l,x)},toJD:function(E,l,x){var e=this._validate(E,l,x,A.local.invalidDate);E=e.year(),l=e.month(),x=e.day();var r=E-(E>=0?474:473),f=474+P(r,2820);return x+(l<=7?31*(l-1):30*(l-1)+6)+Math.floor((682*f-110)/2816)+365*(f-1)+1029983*Math.floor(r/2820)+this.jdEpoch-1},fromJD:function(E){var l=(E=Math.floor(E)+.5)-this.toJD(475,1,1),x=Math.floor(l/1029983),e=P(l,1029983),r=2820;if(1029982!==e){var f=Math.floor(e/366),a=P(e,366);r=Math.floor((2134*f+2816*a+2815)/1028522)+f+1}var s=r+2820*x+474,c=E-this.toJD(s=s<=0?s-1:s,1,1)+1,u=c<=186?Math.ceil(c/31):Math.ceil((c-6)/30),y=E-this.toJD(s,u,1)+1;return this.newDate(s,u,y)}}),A.calendars.persian=i,A.calendars.jalali=i},31320:function(tt,W,t){var A=t(63489),g=t(56131),i=A.instance();function P(E){this.local=this.regionalOptions[E||""]||this.regionalOptions[""]}g(P.prototype=new A.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(x){var l=this._validate(x,this.minMonth,this.minDay,A.local.invalidYear);return x=this._t2gYear(l.year()),i.leapYear(x)},weekOfYear:function(r,l,x){var e=this._validate(r,this.minMonth,this.minDay,A.local.invalidYear);return r=this._t2gYear(e.year()),i.weekOfYear(r,e.month(),e.day())},daysInMonth:function(E,l){var x=this._validate(E,l,this.minDay,A.local.invalidMonth);return this.daysPerMonth[x.month()-1]+(2===x.month()&&this.leapYear(x.year())?1:0)},weekDay:function(E,l,x){return(this.dayOfWeek(E,l,x)||7)<6},toJD:function(r,l,x){var e=this._validate(r,l,x,A.local.invalidDate);return r=this._t2gYear(e.year()),i.toJD(r,e.month(),e.day())},fromJD:function(E){var l=i.fromJD(E),x=this._g2tYear(l.year());return this.newDate(x,l.month(),l.day())},_t2gYear:function(E){return E+this.yearsOffset+(E>=-this.yearsOffset&&E<=-1?1:0)},_g2tYear:function(E){return E-this.yearsOffset-(E>=1&&E<=this.yearsOffset?1:0)}}),A.calendars.taiwan=P},51367:function(tt,W,t){var A=t(63489),g=t(56131),i=A.instance();function P(E){this.local=this.regionalOptions[E||""]||this.regionalOptions[""]}g(P.prototype=new A.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(x){var l=this._validate(x,this.minMonth,this.minDay,A.local.invalidYear);return x=this._t2gYear(l.year()),i.leapYear(x)},weekOfYear:function(r,l,x){var e=this._validate(r,this.minMonth,this.minDay,A.local.invalidYear);return r=this._t2gYear(e.year()),i.weekOfYear(r,e.month(),e.day())},daysInMonth:function(E,l){var x=this._validate(E,l,this.minDay,A.local.invalidMonth);return this.daysPerMonth[x.month()-1]+(2===x.month()&&this.leapYear(x.year())?1:0)},weekDay:function(E,l,x){return(this.dayOfWeek(E,l,x)||7)<6},toJD:function(r,l,x){var e=this._validate(r,l,x,A.local.invalidDate);return r=this._t2gYear(e.year()),i.toJD(r,e.month(),e.day())},fromJD:function(E){var l=i.fromJD(E),x=this._g2tYear(l.year());return this.newDate(x,l.month(),l.day())},_t2gYear:function(E){return E-this.yearsOffset-(E>=1&&E<=this.yearsOffset?1:0)},_g2tYear:function(E){return E+this.yearsOffset+(E>=-this.yearsOffset&&E<=-1?1:0)}}),A.calendars.thai=P},21457:function(tt,W,t){var A=t(63489);function i(E){this.local=this.regionalOptions[E||""]||this.regionalOptions[""]}t(56131)(i.prototype=new A.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(E){var l=this._validate(E,this.minMonth,this.minDay,A.local.invalidYear);return 355===this.daysInYear(l.year())},weekOfYear:function(E,l,x){var e=this.newDate(E,l,x);return e.add(-e.dayOfWeek(),"d"),Math.floor((e.dayOfYear()-1)/7)+1},daysInYear:function(E){for(var l=0,x=1;x<=12;x++)l+=this.daysInMonth(E,x);return l},daysInMonth:function(E,l){for(var e=this._validate(E,l,this.minDay,A.local.invalidMonth).toJD()-24e5+.5,r=0,f=0;f<P.length;f++){if(P[f]>e)return P[r]-P[r-1];r++}return 30},weekDay:function(E,l,x){return 5!==this.dayOfWeek(E,l,x)},toJD:function(E,l,x){var e=this._validate(E,l,x,A.local.invalidDate),r=12*(e.year()-1)+e.month()-15292;return e.day()+P[r-1]-1+24e5-.5},fromJD:function(E){for(var l=E-24e5+.5,x=0,e=0;e<P.length&&!(P[e]>l);e++)x++;var r=x+15292,f=Math.floor((r-1)/12);return this.newDate(f+1,r-12*f,l-P[x-1]+1)},isValid:function(E,l,x){var e=A.baseCalendar.prototype.isValid.apply(this,arguments);return e&&(e=(E=null!=E.year?E.year:E)>=1276&&E<=1500),e},_validate:function(E,l,x,e){var r=A.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw e.replace(/\{0\}/,this.local.name);return r}}),A.calendars.ummalqura=i;var P=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(tt,W,t){var A=t(56131);function g(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function i(e,r,f,a){if(this._calendar=e,this._year=r,this._month=f,this._day=a,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(x.local.invalidDate||x.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function P(e,r){return"000000".substring(0,r-(e=""+e).length)+e}function E(){this.shortYearCutoff="+10"}function l(e){this.local=this.regionalOptions[e]||this.regionalOptions[""]}A(g.prototype,{instance:function(e,r){e=(e||"gregorian").toLowerCase();var f=this._localCals[e+"-"+(r=r||"")];if(!f&&this.calendars[e]&&(f=new this.calendars[e](r),this._localCals[e+"-"+r]=f),!f)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,e);return f},newDate:function(e,r,f,a,s){return(a=(null!=e&&e.year?e.calendar():"string"==typeof a?this.instance(a,s):a)||this.instance()).newDate(e,r,f)},substituteDigits:function(e){return function(r){return(r+"").replace(/[0-9]/g,function(f){return e[f]})}},substituteChineseDigits:function(e,r){return function(f){for(var a="",s=0;f>0;){var c=f%10;a=(0===c?"":e[c]+r[s])+a,s++,f=Math.floor(f/10)}return 0===a.indexOf(e[1]+r[1])&&(a=a.substr(1)),a||e[0]}}}),A(i.prototype,{newDate:function(e,r,f){return this._calendar.newDate(null==e?this:e,r,f)},year:function(e){return 0===arguments.length?this._year:this.set(e,"y")},month:function(e){return 0===arguments.length?this._month:this.set(e,"m")},day:function(e){return 0===arguments.length?this._day:this.set(e,"d")},date:function(e,r,f){if(!this._calendar.isValid(e,r,f))throw(x.local.invalidDate||x.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=e,this._month=r,this._day=f,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(e,r){return this._calendar.add(this,e,r)},set:function(e,r){return this._calendar.set(this,e,r)},compareTo:function(e){if(this._calendar.name!==e._calendar.name)throw(x.local.differentCalendars||x.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,e._calendar.local.name);var r=this._year!==e._year?this._year-e._year:this._month!==e._month?this.monthOfYear()-e.monthOfYear():this._day-e._day;return 0===r?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(){return(this.year()<0?"-":"")+P(Math.abs(this.year()),4)+"-"+P(this.month(),2)+"-"+P(this.day(),2)}}),A(E.prototype,{_validateLevel:0,newDate:function(e,r,f){return null==e?this.today():(e.year&&(this._validate(e,r,f,x.local.invalidDate||x.regionalOptions[""].invalidDate),f=e.day(),r=e.month(),e=e.year()),new i(this,e,r,f))},today:function(){return this.fromJSDate(new Date)},epoch:function(e){return this._validate(e,this.minMonth,this.minDay,x.local.invalidYear||x.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,x.local.invalidYear||x.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+P(Math.abs(r.year()),4)},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,x.local.invalidYear||x.regionalOptions[""].invalidYear),12},monthOfYear:function(e,r){var f=this._validate(e,r,this.minDay,x.local.invalidMonth||x.regionalOptions[""].invalidMonth);return(f.month()+this.monthsInYear(f)-this.firstMonth)%this.monthsInYear(f)+this.minMonth},fromMonthOfYear:function(e,r){var f=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(e)+this.minMonth;return this._validate(e,f,this.minDay,x.local.invalidMonth||x.regionalOptions[""].invalidMonth),f},daysInYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,x.local.invalidYear||x.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(e,r,f){var a=this._validate(e,r,f,x.local.invalidDate||x.regionalOptions[""].invalidDate);return a.toJD()-this.newDate(a.year(),this.fromMonthOfYear(a.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(e,r,f){var a=this._validate(e,r,f,x.local.invalidDate||x.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(a))+2)%this.daysInWeek()},extraInfo:function(e,r,f){return this._validate(e,r,f,x.local.invalidDate||x.regionalOptions[""].invalidDate),{}},add:function(e,r,f){return this._validate(e,this.minMonth,this.minDay,x.local.invalidDate||x.regionalOptions[""].invalidDate),this._correctAdd(e,this._add(e,r,f),r,f)},_add:function(e,r,f){if(this._validateLevel++,"d"===f||"w"===f){var a=e.toJD()+r*("w"===f?this.daysInWeek():1),s=e.calendar().fromJD(a);return this._validateLevel--,[s.year(),s.month(),s.day()]}try{var c=e.year()+("y"===f?r:0),u=e.monthOfYear()+("m"===f?r:0),y=(s=e.day(),function(d){for(;u<d.minMonth;)c--,u+=d.monthsInYear(c);for(var o=d.monthsInYear(c);u>o-1+d.minMonth;)c++,u-=o,o=d.monthsInYear(c)});"y"===f?(e.month()!==this.fromMonthOfYear(c,u)&&(u=this.newDate(c,e.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(c)),s=Math.min(s,this.daysInMonth(c,this.fromMonthOfYear(c,u)))):"m"===f&&(y(this),s=Math.min(s,this.daysInMonth(c,this.fromMonthOfYear(c,u))));var v=[c,this.fromMonthOfYear(c,u),s];return this._validateLevel--,v}catch(w){throw this._validateLevel--,w}},_correctAdd:function(e,r,f,a){if(!(this.hasYearZero||"y"!==a&&"m"!==a||0!==r[0]&&e.year()>0==r[0]>0)){var s={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[a];r=this._add(e,f*s[0]+(f<0?-1:1)*s[1],s[2])}return e.date(r[0],r[1],r[2])},set:function(e,r,f){this._validate(e,this.minMonth,this.minDay,x.local.invalidDate||x.regionalOptions[""].invalidDate);var a="y"===f?r:e.year(),s="m"===f?r:e.month(),c="d"===f?r:e.day();return("y"===f||"m"===f)&&(c=Math.min(c,this.daysInMonth(a,s))),e.date(a,s,c)},isValid:function(e,r,f){this._validateLevel++;var a=this.hasYearZero||0!==e;if(a){var s=this.newDate(e,r,this.minDay);a=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(s)&&f>=this.minDay&&f-this.minDay<this.daysInMonth(s)}return this._validateLevel--,a},toJSDate:function(e,r,f){var a=this._validate(e,r,f,x.local.invalidDate||x.regionalOptions[""].invalidDate);return x.instance().fromJD(this.toJD(a)).toJSDate()},fromJSDate:function(e){return this.fromJD(x.instance().fromJSDate(e).toJD())},_validate:function(e,r,f,a){if(e.year){if(0===this._validateLevel&&this.name!==e.calendar().name)throw(x.local.differentCalendars||x.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,e.calendar().local.name);return e}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(e,r,f))throw a.replace(/\{0\}/,this.local.name);var s=this.newDate(e,r,f);return this._validateLevel--,s}catch(c){throw this._validateLevel--,c}}}),A(l.prototype=new E,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var r=this._validate(f,this.minMonth,this.minDay,x.local.invalidYear||x.regionalOptions[""].invalidYear);return(f=r.year()+(r.year()<0?1:0))%4==0&&(f%100!=0||f%400==0)},weekOfYear:function(e,r,f){var a=this.newDate(e,r,f);return a.add(4-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var f=this._validate(e,r,this.minDay,x.local.invalidMonth||x.regionalOptions[""].invalidMonth);return this.daysPerMonth[f.month()-1]+(2===f.month()&&this.leapYear(f.year())?1:0)},weekDay:function(e,r,f){return(this.dayOfWeek(e,r,f)||7)<6},toJD:function(e,r,f){var a=this._validate(e,r,f,x.local.invalidDate||x.regionalOptions[""].invalidDate);e=a.year(),r=a.month(),f=a.day(),e<0&&e++,r<3&&(r+=12,e--);var s=Math.floor(e/100),c=2-s+Math.floor(s/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(r+1))+f+c-1524.5},fromJD:function(e){var r=Math.floor(e+.5),f=Math.floor((r-1867216.25)/36524.25),a=1524+(f=r+1+f-Math.floor(f/4)),s=Math.floor((a-122.1)/365.25),c=Math.floor(365.25*s),u=Math.floor((a-c)/30.6001),y=a-c-Math.floor(30.6001*u),v=u-(u>13.5?13:1),w=s-(v>2.5?4716:4715);return w<=0&&w--,this.newDate(w,v,y)},toJSDate:function(e,r,f){var a=this._validate(e,r,f,x.local.invalidDate||x.regionalOptions[""].invalidDate),s=new Date(a.year(),a.month()-1,a.day());return s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0),s.setHours(s.getHours()>12?s.getHours()+2:0),s},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}});var x=tt.exports=new g;x.cdate=i,x.baseCalendar=E,x.calendars.gregorian=l},94338:function(tt,W,t){var A=t(56131),g=t(63489);A(g.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),g.local=g.regionalOptions[""],A(g.cdate.prototype,{formatDate:function(i,P){return"string"!=typeof i&&(P=i,i=""),this._calendar.formatDate(i||"",this,P)}}),A(g.baseCalendar.prototype,{UNIX_EPOCH:g.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:g.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,P,E){if("string"!=typeof i&&(E=P,P=i,i=""),!P)return"";if(P.calendar()!==this)throw g.local.invalidFormat||g.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat;for(var l=(E=E||{}).dayNamesShort||this.local.dayNamesShort,x=E.dayNames||this.local.dayNames,e=E.monthNumbers||this.local.monthNumbers,r=E.monthNamesShort||this.local.monthNamesShort,f=E.monthNames||this.local.monthNames,s=function(L,m){for(var S=1;T+S<i.length&&i.charAt(T+S)===L;)S++;return T+=S-1,Math.floor(S/(m||1))>1},c=function(L,m,S,b){var n=""+m;if(s(L,b))for(;n.length<S;)n="0"+n;return n},y=this,v=function(L){return"function"==typeof e?e.call(y,L,s("m")):o(c("m",L.month(),2))},w=function(L,m){return m?"function"==typeof f?f.call(y,L):f[L.month()-y.minMonth]:"function"==typeof r?r.call(y,L):r[L.month()-y.minMonth]},d=this.local.digits,o=function(L){return E.localNumbers&&d?d(L):L},h="",M=!1,T=0;T<i.length;T++)if(M)"'"!==i.charAt(T)||s("'")?h+=i.charAt(T):M=!1;else switch(i.charAt(T)){case"d":h+=o(c("d",P.day(),2));break;case"D":h+=(L="D",m=P.dayOfWeek(),S=l,b=x,s(L)?b[m]:S[m]);break;case"o":h+=c("o",P.dayOfYear(),3);break;case"w":h+=c("w",P.weekOfYear(),2);break;case"m":h+=v(P);break;case"M":h+=w(P,s("M"));break;case"y":h+=s("y",2)?P.year():(P.year()%100<10?"0":"")+P.year()%100;break;case"Y":s("Y",2),h+=P.formatYear();break;case"J":h+=P.toJD();break;case"@":h+=(P.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":h+=(P.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":s("'")?h+="'":M=!0;break;default:h+=i.charAt(T)}var L,m,S,b;return h},parseDate:function(i,P,E){if(null==P)throw g.local.invalidArguments||g.regionalOptions[""].invalidArguments;if(""===(P="object"==typeof P?P.toString():P+""))return null;i=i||this.local.dateFormat;var l=(E=E||{}).shortYearCutoff||this.shortYearCutoff;l="string"!=typeof l?l:this.today().year()%100+parseInt(l,10);for(var x=E.dayNamesShort||this.local.dayNamesShort,e=E.dayNames||this.local.dayNames,r=E.parseMonth||this.local.parseMonth,f=E.monthNumbers||this.local.monthNumbers,a=E.monthNamesShort||this.local.monthNamesShort,s=E.monthNames||this.local.monthNames,c=-1,u=-1,y=-1,v=-1,w=-1,d=!1,o=!1,h=function(D,N){for(var k=1;C+k<i.length&&i.charAt(C+k)===D;)k++;return C+=k-1,Math.floor(k/(N||1))>1},M=function(D,N){var k=h(D,N),O=[2,3,k?4:2,k?4:2,10,11,20]["oyYJ@!".indexOf(D)+1],B=new RegExp("^-?\\d{1,"+O+"}"),z=P.substring(n).match(B);if(!z)throw(g.local.missingNumberAt||g.regionalOptions[""].missingNumberAt).replace(/\{0\}/,n);return n+=z[0].length,parseInt(z[0],10)},T=this,L=function(){if("function"==typeof f){h("m");var D=f.call(T,P.substring(n));return n+=D.length,D}return M("m")},m=function(D,N,k,O){for(var B=h(D,O)?k:N,z=0;z<B.length;z++)if(P.substr(n,B[z].length).toLowerCase()===B[z].toLowerCase())return n+=B[z].length,z+T.minMonth;throw(g.local.unknownNameAt||g.regionalOptions[""].unknownNameAt).replace(/\{0\}/,n)},S=function(){if("function"==typeof s){var D=h("M")?s.call(T,P.substring(n)):a.call(T,P.substring(n));return n+=D.length,D}return m("M",a,s)},b=function(){if(P.charAt(n)!==i.charAt(C))throw(g.local.unexpectedLiteralAt||g.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,n);n++},n=0,C=0;C<i.length;C++)if(o)"'"!==i.charAt(C)||h("'")?b():o=!1;else switch(i.charAt(C)){case"d":v=M("d");break;case"D":m("D",x,e);break;case"o":w=M("o");break;case"w":M("w");break;case"m":y=L();break;case"M":y=S();break;case"y":var p=C;d=!h("y",2),C=p,u=M("y",2);break;case"Y":u=M("Y",2);break;case"J":c=M("J")+.5,"."===P.charAt(n)&&(n++,M("J"));break;case"@":c=M("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":c=M("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":n=P.length;break;case"'":h("'")?b():o=!0;break;default:b()}if(n<P.length)throw g.local.unexpectedText||g.regionalOptions[""].unexpectedText;if(-1===u?u=this.today().year():u<100&&d&&(u+=-1===l?1900:this.today().year()-this.today().year()%100-(u<=l?0:100)),"string"==typeof y&&(y=r.call(this,u,y)),w>-1){v=w;for(var F=this.daysInMonth(u,y=1);v>F;F=this.daysInMonth(u,y))y++,v-=F}return c>-1?this.fromJD(c):this.newDate(u,y,v)},determineDate:function(i,P,E,l,x){E&&"object"!=typeof E&&(x=l,l=E,E=null),"string"!=typeof l&&(x=l,l="");var e=this;return P=P?P.newDate():null,null==i?P:"string"==typeof i?function(f){try{return e.parseDate(l,f,x)}catch(u){}for(var a=((f=f.toLowerCase()).match(/^c/)&&E?E.newDate():null)||e.today(),s=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,c=s.exec(f);c;)a.add(parseInt(c[1],10),c[2]||"d"),c=s.exec(f);return a}(i):"number"==typeof i?isNaN(i)||i===1/0||i===-1/0?P:e.today().add(i,"d"):e.newDate(i)}})},69862:function(){},40964:function(){},72077:function(tt,W,t){"use strict";var A=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g="undefined"==typeof globalThis?t.g:globalThis;tt.exports=function(){for(var P=[],E=0;E<A.length;E++)"function"==typeof g[A[E]]&&(P[P.length]=A[E]);return P}},81684:function(tt,W,t){"use strict";function A(kt,zt,qt){kt.prototype=zt.prototype=qt,qt.constructor=kt}function g(kt,zt){var qt=Object.create(kt.prototype);for(var ae in zt)qt[ae]=zt[ae];return qt}function i(){}t.d(W,{sX:function(){return _t},k4:function(){return bt}});var P=.7,E=1/P,l="\\s*([+-]?\\d+)\\s*",x="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3,8})$/,f=new RegExp("^rgb\\(".concat(l,",").concat(l,",").concat(l,"\\)$")),a=new RegExp("^rgb\\(".concat(e,",").concat(e,",").concat(e,"\\)$")),s=new RegExp("^rgba\\(".concat(l,",").concat(l,",").concat(l,",").concat(x,"\\)$")),c=new RegExp("^rgba\\(".concat(e,",").concat(e,",").concat(e,",").concat(x,"\\)$")),u=new RegExp("^hsl\\(".concat(x,",").concat(e,",").concat(e,"\\)$")),y=new RegExp("^hsla\\(".concat(x,",").concat(e,",").concat(e,",").concat(x,"\\)$")),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function w(){return this.rgb().formatHex()}function h(){return this.rgb().formatRgb()}function M(kt){var zt,qt;return kt=(kt+"").trim().toLowerCase(),(zt=r.exec(kt))?(qt=zt[1].length,zt=parseInt(zt[1],16),6===qt?T(zt):3===qt?new b(zt>>8&15|zt>>4&240,zt>>4&15|240&zt,(15&zt)<<4|15&zt,1):8===qt?L(zt>>24&255,zt>>16&255,zt>>8&255,(255&zt)/255):4===qt?L(zt>>12&15|zt>>8&240,zt>>8&15|zt>>4&240,zt>>4&15|240&zt,((15&zt)<<4|15&zt)/255):null):(zt=f.exec(kt))?new b(zt[1],zt[2],zt[3],1):(zt=a.exec(kt))?new b(255*zt[1]/100,255*zt[2]/100,255*zt[3]/100,1):(zt=s.exec(kt))?L(zt[1],zt[2],zt[3],zt[4]):(zt=c.exec(kt))?L(255*zt[1]/100,255*zt[2]/100,255*zt[3]/100,zt[4]):(zt=u.exec(kt))?k(zt[1],zt[2]/100,zt[3]/100,1):(zt=y.exec(kt))?k(zt[1],zt[2]/100,zt[3]/100,zt[4]):v.hasOwnProperty(kt)?T(v[kt]):"transparent"===kt?new b(NaN,NaN,NaN,0):null}function T(kt){return new b(kt>>16&255,kt>>8&255,255&kt,1)}function L(kt,zt,qt,ae){return ae<=0&&(kt=zt=qt=NaN),new b(kt,zt,qt,ae)}function m(kt){return kt instanceof i||(kt=M(kt)),kt?new b((kt=kt.rgb()).r,kt.g,kt.b,kt.opacity):new b}function S(kt,zt,qt,ae){return 1===arguments.length?m(kt):new b(kt,zt,qt,null==ae?1:ae)}function b(kt,zt,qt,ae){this.r=+kt,this.g=+zt,this.b=+qt,this.opacity=+ae}function n(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b))}function p(){var kt=F(this.opacity);return"".concat(1===kt?"rgb(":"rgba(").concat(D(this.r),", ").concat(D(this.g),", ").concat(D(this.b)).concat(1===kt?")":", ".concat(kt,")"))}function F(kt){return isNaN(kt)?1:Math.max(0,Math.min(1,kt))}function D(kt){return Math.max(0,Math.min(255,Math.round(kt)||0))}function N(kt){return((kt=D(kt))<16?"0":"")+kt.toString(16)}function k(kt,zt,qt,ae){return ae<=0?kt=zt=qt=NaN:qt<=0||qt>=1?kt=zt=NaN:zt<=0&&(kt=NaN),new z(kt,zt,qt,ae)}function O(kt){if(kt instanceof z)return new z(kt.h,kt.s,kt.l,kt.opacity);if(kt instanceof i||(kt=M(kt)),!kt)return new z;if(kt instanceof z)return kt;var zt=(kt=kt.rgb()).r/255,qt=kt.g/255,ae=kt.b/255,oe=Math.min(zt,qt,ae),pe=Math.max(zt,qt,ae),ye=NaN,Fe=pe-oe,Zt=(pe+oe)/2;return Fe?(ye=zt===pe?(qt-ae)/Fe+6*(qt<ae):qt===pe?(ae-zt)/Fe+2:(zt-qt)/Fe+4,Fe/=Zt<.5?pe+oe:2-pe-oe,ye*=60):Fe=Zt>0&&Zt<1?0:ye,new z(ye,Fe,Zt,kt.opacity)}function z(kt,zt,qt,ae){this.h=+kt,this.s=+zt,this.l=+qt,this.opacity=+ae}function U(kt){return(kt=(kt||0)%360)<0?kt+360:kt}function G(kt){return Math.max(0,Math.min(1,kt||0))}function Q(kt,zt,qt){return 255*(kt<60?zt+(qt-zt)*kt/60:kt<180?qt:kt<240?zt+(qt-zt)*(240-kt)/60:zt)}function rt(kt,zt,qt,ae,oe){var pe=kt*kt,ye=pe*kt;return((1-3*kt+3*pe-ye)*zt+(4-6*pe+3*ye)*qt+(1+3*kt+3*pe-3*ye)*ae+ye*oe)/6}A(i,M,{copy:function(zt){return Object.assign(new this.constructor,this,zt)},displayable:function(){return this.rgb().displayable()},hex:w,formatHex:w,formatHex8:function d(){return this.rgb().formatHex8()},formatHsl:function o(){return O(this).formatHsl()},formatRgb:h,toString:h}),A(b,S,g(i,{brighter:function(zt){return zt=null==zt?E:Math.pow(E,zt),new b(this.r*zt,this.g*zt,this.b*zt,this.opacity)},darker:function(zt){return zt=null==zt?P:Math.pow(P,zt),new b(this.r*zt,this.g*zt,this.b*zt,this.opacity)},rgb:function(){return this},clamp:function(){return new b(D(this.r),D(this.g),D(this.b),F(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:n,formatHex:n,formatHex8:function C(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b)).concat(N(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:p,toString:p})),A(z,function B(kt,zt,qt,ae){return 1===arguments.length?O(kt):new z(kt,zt,qt,null==ae?1:ae)},g(i,{brighter:function(zt){return zt=null==zt?E:Math.pow(E,zt),new z(this.h,this.s,this.l*zt,this.opacity)},darker:function(zt){return zt=null==zt?P:Math.pow(P,zt),new z(this.h,this.s,this.l*zt,this.opacity)},rgb:function(){var zt=this.h%360+360*(this.h<0),qt=isNaN(zt)||isNaN(this.s)?0:this.s,ae=this.l,oe=ae+(ae<.5?ae:1-ae)*qt,pe=2*ae-oe;return new b(Q(zt>=240?zt-240:zt+120,pe,oe),Q(zt,pe,oe),Q(zt<120?zt+240:zt-120,pe,oe),this.opacity)},clamp:function(){return new z(U(this.h),G(this.s),G(this.l),F(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var zt=F(this.opacity);return"".concat(1===zt?"hsl(":"hsla(").concat(U(this.h),", ").concat(100*G(this.s),"%, ").concat(100*G(this.l),"%").concat(1===zt?")":", ".concat(zt,")"))}}));var J=function(kt){return function(){return kt}};function X(kt){return 1==(kt=+kt)?at:function(zt,qt){return qt-zt?function Z(kt,zt,qt){return kt=Math.pow(kt,qt),zt=Math.pow(zt,qt)-kt,qt=1/qt,function(ae){return Math.pow(kt+ae*zt,qt)}}(zt,qt,kt):J(isNaN(zt)?qt:zt)}}function at(kt,zt){var qt=zt-kt;return qt?function j(kt,zt){return function(qt){return kt+qt*zt}}(kt,qt):J(isNaN(kt)?zt:kt)}var _=function kt(zt){var qt=X(zt);function ae(oe,pe){var ye=qt((oe=S(oe)).r,(pe=S(pe)).r),Fe=qt(oe.g,pe.g),Zt=qt(oe.b,pe.b),Ct=at(oe.opacity,pe.opacity);return function(Et){return oe.r=ye(Et),oe.g=Fe(Et),oe.b=Zt(Et),oe.opacity=Ct(Et),oe+""}}return ae.gamma=kt,ae}(1);function K(kt){return function(zt){var ye,Fe,qt=zt.length,ae=new Array(qt),oe=new Array(qt),pe=new Array(qt);for(ye=0;ye<qt;++ye)Fe=S(zt[ye]),ae[ye]=Fe.r||0,oe[ye]=Fe.g||0,pe[ye]=Fe.b||0;return ae=kt(ae),oe=kt(oe),pe=kt(pe),Fe.opacity=1,function(Zt){return Fe.r=ae(Zt),Fe.g=oe(Zt),Fe.b=pe(Zt),Fe+""}}}function dt(kt,zt){var ye,qt=zt?zt.length:0,ae=kt?Math.min(qt,kt.length):0,oe=new Array(ae),pe=new Array(qt);for(ye=0;ye<ae;++ye)oe[ye]=_t(kt[ye],zt[ye]);for(;ye<qt;++ye)pe[ye]=zt[ye];return function(Fe){for(ye=0;ye<ae;++ye)pe[ye]=oe[ye](Fe);return pe}}function Tt(kt,zt){var qt=new Date;return kt=+kt,zt=+zt,function(ae){return qt.setTime(kt*(1-ae)+zt*ae),qt}}function bt(kt,zt){return kt=+kt,zt=+zt,function(qt){return kt*(1-qt)+zt*qt}}function Dt(kt){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(zt){return typeof zt}:function(zt){return zt&&"function"==typeof Symbol&&zt.constructor===Symbol&&zt!==Symbol.prototype?"symbol":typeof zt})(kt)}function Ft(kt,zt){var oe,qt={},ae={};for(oe in(null===kt||"object"!==Dt(kt))&&(kt={}),(null===zt||"object"!==Dt(zt))&&(zt={}),zt)oe in kt?qt[oe]=_t(kt[oe],zt[oe]):ae[oe]=zt[oe];return function(pe){for(oe in qt)ae[oe]=qt[oe](pe);return ae}}K(function it(kt){var zt=kt.length-1;return function(qt){var ae=qt<=0?qt=0:qt>=1?(qt=1,zt-1):Math.floor(qt*zt),oe=kt[ae],pe=kt[ae+1];return rt((qt-ae/zt)*zt,ae>0?kt[ae-1]:2*oe-pe,oe,pe,ae<zt-1?kt[ae+2]:2*pe-oe)}}),K(function ut(kt){var zt=kt.length;return function(qt){var ae=Math.floor(((qt%=1)<0?++qt:qt)*zt);return rt((qt-ae/zt)*zt,kt[(ae+zt-1)%zt],kt[ae%zt],kt[(ae+1)%zt],kt[(ae+2)%zt])}});var Mt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wt=new RegExp(Mt.source,"g");function Gt(kt,zt){var ae,oe,pe,qt=Mt.lastIndex=wt.lastIndex=0,ye=-1,Fe=[],Zt=[];for(kt+="",zt+="";(ae=Mt.exec(kt))&&(oe=wt.exec(zt));)(pe=oe.index)>qt&&(pe=zt.slice(qt,pe),Fe[ye]?Fe[ye]+=pe:Fe[++ye]=pe),(ae=ae[0])===(oe=oe[0])?Fe[ye]?Fe[ye]+=oe:Fe[++ye]=oe:(Fe[++ye]=null,Zt.push({i:ye,x:bt(ae,oe)})),qt=wt.lastIndex;return qt<zt.length&&(pe=zt.slice(qt),Fe[ye]?Fe[ye]+=pe:Fe[++ye]=pe),Fe.length<2?Zt[0]?function Ut(kt){return function(zt){return kt(zt)+""}}(Zt[0].x):function St(kt){return function(){return kt}}(zt):(zt=Zt.length,function(Ct){for(var Rt,Et=0;Et<zt;++Et)Fe[(Rt=Zt[Et]).i]=Rt.x(Ct);return Fe.join("")})}function Pt(kt,zt){zt||(zt=[]);var oe,qt=kt?Math.min(zt.length,kt.length):0,ae=zt.slice();return function(pe){for(oe=0;oe<qt;++oe)ae[oe]=kt[oe]*(1-pe)+zt[oe]*pe;return ae}}function te(kt){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(zt){return typeof zt}:function(zt){return zt&&"function"==typeof Symbol&&zt.constructor===Symbol&&zt!==Symbol.prototype?"symbol":typeof zt})(kt)}function _t(kt,zt){var ae,qt=te(zt);return null==zt||"boolean"===qt?J(zt):("number"===qt?bt:"string"===qt?(ae=M(zt))?(zt=ae,_):Gt:zt instanceof M?_:zt instanceof Date?Tt:function Vt(kt){return ArrayBuffer.isView(kt)&&!(kt instanceof DataView)}(zt)?Pt:Array.isArray(zt)?dt:"function"!=typeof zt.valueOf&&"function"!=typeof zt.toString||isNaN(zt)?Ft:bt)(kt,zt)}},40402:function(tt){"use strict";tt.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(tt){"use strict";tt.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(tt){"use strict";tt.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(tt){"use strict";tt.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(tt){"use strict";tt.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(tt){"use strict";tt.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Da={};function Va(tt){var W=Da[tt];if(void 0!==W)return W.exports;var t=Da[tt]={exports:{}};return Ql[tt].call(t.exports,t,t.exports,Va),t.exports}return Va.n=function(tt){var W=tt&&tt.__esModule?function(){return tt.default}:function(){return tt};return Va.d(W,{a:W}),W},Va.d=function(tt,W){for(var t in W)Va.o(W,t)&&!Va.o(tt,t)&&Object.defineProperty(tt,t,{enumerable:!0,get:W[t]})},Va.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(tt){if("object"==typeof window)return window}}(),Va.o=function(tt,W){return Object.prototype.hasOwnProperty.call(tt,W)},Va.r=function(tt){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(tt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(tt,"__esModule",{value:!0})},Va(27909)}()}}]);