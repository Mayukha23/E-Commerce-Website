(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5367],{88610:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/stock-checkout",function(){return a(25097)}])},25097:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var s=a(85893),r=a(67294),n=(a(19666),a(14416)),c=a(73981),i=a(74562),d=a(69086),l=a(16820),u=a(11163),o=a.n(u),h=a(41664),m=a.n(h),p=a(83192),x=a(86152),f=a(25654),j=(a(21528),a(95848),a(92188),a(1476)),g=a(25675),v=a.n(g);var N=function(e){var t=e.cartItems,a=(e.productDetail,e.amount,e.addressData),u=e.countryData,h=(0,r.useState)(""),g=h[0],N=h[1],S=(0,r.useState)(""),y=S[0],k=S[1],C=(0,r.useState)(""),E=C[0],b=C[1],I=(0,r.useState)(""),q=I[0],U=I[1],w=(0,r.useState)(0),_=w[0],O=w[1],T=(0,r.useState)(""),A=T[0],D=T[1],J=(0,r.useState)(""),P=J[0],F=J[1],Q=(0,r.useState)(""),L=Q[0],V=Q[1],W=(0,r.useState)(""),X=W[0],Z=W[1],$=(0,r.useState)(""),B=($[0],$[1],(0,r.useState)("")),H=B[0],K=B[1],M=(0,r.useState)(""),R=M[0],Y=M[1],z=(0,r.useState)(""),G=z[0],ee=z[1],te=(0,r.useState)(!1),ae=te[0],se=te[1],re=(0,r.useState)(""),ne=re[0],ce=re[1],ie=(0,r.useState)(""),de=ie[0],le=ie[1],ue=(0,r.useState)(),oe=(ue[0],ue[1]),he=(0,r.useState)(t.quantityUpdated),me=he[0],pe=he[1],xe=(0,n.I0)(),fe=(0,r.useState)(!1),je=fe[0],ge=fe[1],ve=(0,n.v9)((function(e){return e.setting})).currency,Ne=(t.price,(0,p.useTranslation)("common").t),Se=[];if(u!==[])for(var ye=u.length,ke=0;ke<ye;ke++)Se.push({value:u[ke].countryId,label:u[ke].name});(0,r.useEffect)((function(){oe(),pe(t.quantityUpdated)}),[t.quantityUpdated]),(0,r.useEffect)((function(){ae&&Ce()}),[g,y,E,q,_]),(0,r.useEffect)((function(){if(localStorage.getItem("spurtUser")){localStorage.getItem("spurtUser");N(JSON.parse(localStorage.getItem("spurtUser")).firstName),b(JSON.parse(localStorage.getItem("spurtUser")).email),U(JSON.parse(localStorage.getItem("spurtUser")).mobileNumber),k(JSON.parse(localStorage.getItem("spurtUser")).lastName)}}),[]),(0,r.useEffect)((function(){localStorage.getItem("spurtToken")&&ge(!0)}),[]);var Ce=function(){var e={fnameError:!0,mailError:!0,numError:!0,addressCheck:!0};(""===g?(Z("First name is required"),e.fnameError=!1):(Z(""),e.fnameError=!0),""===q?(Y("phone Number is required"),e.numError=!1):q.length<10?(Y("Minimum of 10 Numbers is requrired"),e.numError=!1):(Y(""),e.numError=!0),""!==E)?(0,l.on)(E)?(K(""),e.mailError=!0):(K("Invalid email address"),e.mailError=!1):(K("Email is required"),e.mailError=!1);return 1==je?_?(ee(""),e.addressCheck=!0):(ee("Address is required"),e.addressCheck=!1):e.addressCheck=!0,!!(e.fnameError&&e.numError&&e.mailError&&e.addressCheck)};return(0,s.jsx)("div",{className:"cart-container",children:(0,s.jsxs)("div",{className:"sc-new-container",children:[(0,s.jsxs)("div",{className:"sc-left-container",children:[(0,s.jsx)("h2",{children:Ne("checkouts.FillYourInfo")}),(0,s.jsxs)("div",{className:"sc-form-container",children:[(0,s.jsxs)("div",{className:"sc-scinput-container",children:[(0,s.jsx)("input",{placeholder:Ne("checkouts.FirstName"),value:g,onChange:function(e){return N(e.target.value)}}),ae&&""!==X&&(0,s.jsx)("span",{className:"err-msg",children:X})]}),(0,s.jsx)("div",{className:"sc-scinput-container",children:(0,s.jsx)("input",{placeholder:Ne("checkouts.LastName"),value:y,onChange:function(e){return k(e.target.value)}})}),(0,s.jsxs)("div",{className:"sc-scinput-container",children:[(0,s.jsx)("input",{placeholder:"Email",value:E,onChange:function(e){return b(e.target.value)}}),ae&&""!==H&&(0,s.jsx)("span",{className:"err-msg",children:H})]}),(0,s.jsxs)("div",{className:"sc-scinput-container",children:[(0,s.jsx)("input",{type:"number",placeholder:Ne("StockCheckout.Phone"),value:q,onChange:function(e){return e.target.value.length<12&&U(e.target.value)}}),ae&&""!==R&&(0,s.jsx)("span",{className:"err-msg",children:R})]}),1==je?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h2",{children:["Select a shipping address",(0,s.jsx)(m(),{href:"/account/addaddress",children:(0,s.jsx)("a",{children:" + Add new address "})})]}),(0,s.jsx)("div",{className:"sc-ship-add-conatiner",children:a&&a.map((function(e,t){return(0,s.jsxs)("div",{className:"sc-ship-card flex",children:[(0,s.jsx)("input",{type:"radio",id:e.addressId,onClick:function(t){return function(e){O(1),D(e.address1+","+e.address2),F(e.city),V(e.postcode),ce(e.state),le(e.address2)}(e)},value:e}),(0,s.jsxs)("label",{className:"sc-wh-container ",for:e.addressId,children:[(0,s.jsx)("h4",{children:e&&1===e.addressType?"Work":"Home"}),(0,s.jsxs)("p",{children:[e&&e.address1," ",e&&e.address2," ",e&&e.city," ",e&&e.state," ",e&&e.postcode]})]}),(0,s.jsx)("span",{onClick:function(t){return a=e,xe((0,d.tK)(a)),void o().push("/account/addaddresses_edit/[eaid]","/account/addaddresses_edit/".concat(a.addressId));var a},children:"Edit"})]},t)}))}),ae&&""!==G&&(0,s.jsx)("span",{className:"err-msg",children:G})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:"Select a shipping address"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("input",{type:"text",placeholder:"Address (street,apartment,suite,unit,etc) *",className:"form-control",onChange:function(e){return D(e.target.value)},value:A})}),(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("input",{type:"text",placeholder:"Address Line 1",className:"form-control",onChange:function(e){return le(e.target.value)},value:de})}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-sm-6",children:(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)(j.ZP,{placeholder:"Country *",isSearchable:!0,options:Se})})}),(0,s.jsx)("div",{className:"col-sm-6",children:(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("input",{type:"text",placeholder:"State/Province *",className:"form-control",value:ne,onChange:function(e){return ce(e.target.value)}})})})]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-sm-6",children:(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("input",{type:"text",placeholder:"City *",className:"form-control",onChange:function(e){return F(e.target.value)},value:P})})}),(0,s.jsx)("div",{className:"col-sm-6",children:(0,s.jsx)("div",{className:"form-group",children:(0,s.jsx)("input",{type:"number",placeholder:"Zip/Postal code *",className:"form-control",value:L,onChange:function(e){return JSON.stringify(e.target.value).length<9&&V(e.target.value)}})})})]})]})]})]})]}),(0,s.jsxs)("div",{className:"sc-right-checkout",children:[(0,s.jsxs)("h2",{children:[Ne("ItemsinCart")," - 1"]}),(0,s.jsx)("div",{className:"sc-rht-table",children:(0,s.jsxs)("table",{children:[t&&(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"sc-rht-td-data",children:(0,s.jsx)("div",{className:"rht-tb-img",children:(0,s.jsx)(v(),{src:i.sQ+"?path="+t.productImage[0].containerName+"&name="+t.productImage[0].image+"&width=60&height=60",width:60,height:60,objectFit:"contain",layout:"responsive",placeholder:"blur",blurDataURL:"/static/img/no-image.png"})})}),(0,s.jsx)("td",{className:"sc-rht-td-data",children:(0,s.jsx)("a",{href:"#",children:t&&t.name})}),(0,s.jsx)("td",{className:"sc-rht-td-data",children:(0,s.jsxs)("div",{className:"custom-product-box",style:{justifyContent:"center"},children:[(0,s.jsx)("button",{onClick:function(e){return function(e,t){null!==t.minQuantityAllowedCart?t.quantityUpdated>t.minQuantityAllowedCart&&(pe(t.quantityUpdated-1),t.quantityUpdated=t.quantityUpdated-1):t.quantityUpdated>1&&(pe(t.quantityUpdated-1),t.quantityUpdated=t.quantityUpdated-1)}(0,t)},children:"-"}),(0,s.jsx)("span",{style:{textAlign:"center"},children:me}),(0,s.jsx)("button",{onClick:function(e){return function(e,t){null!==t.maxQuantityAllowedCart?t.quantityUpdated<t.maxQuantityAllowedCart&&(pe(t.quantityUpdated-1),t.quantityUpdated=t.quantityUpdated+1):(pe(t.quantityUpdated+1),t.quantityUpdated=t.quantityUpdated+1)}(0,t)},children:"+"})]})}),(0,s.jsxs)("td",{className:"sc-rht-td-data",style:{color:"red"},children:[ve?ve.symbol+" ":"$ ",(0,x.x)((0,f.k)(t.price,t.taxType,t.taxValue,"")*me)]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"sc-rht-ldc sc-rht-td-data ",colSpan:"2",children:Ne("checkouts.DeliveryCharges")}),(0,s.jsx)("td",{className:"sc-rht-rdc",colSpan:"2",children:Ne("StockCheckout.Free")})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"sc-rht-ldc sc-rht-td-data",colSpan:"2",children:Ne("StockCheckout.Total")}),(0,s.jsxs)("td",{className:"sc-rht-rdc",colSpan:"2",style:{color:"black"},children:[ve?ve.symbol+" ":"$ ",(0,x.x)((0,f.k)(t.price,t.taxType,t.taxValue,"")*me)]})]})]})}),(0,s.jsx)("div",{className:"sc-submit-container",children:(0,s.jsx)("button",{onClick:function(e){return se(!0),void(Ce()&&(0,c._j)(g,y,A,q,P,L,E,[t],ne,de))},children:Ne("checkouts.PlaceOrder")})})]})]})})},S=function(){var e=(0,r.useState)(""),t=e[0],a=e[1],n=(0,r.useState)(""),i=n[0],d=n[1],l=(0,r.useState)(""),u=l[0],o=l[1],h=(0,r.useState)([]),m=h[0],p=h[1],x=(0,r.useState)(!1),f=(x[0],x[1]),j=(0,r.useState)([]),g=j[0],v=j[1];(0,r.useEffect)((function(){localStorage.getItem("spurtToken")&&(0,c.BW)(p,f),(0,c.j4)(v)}),[]);(0,r.useEffect)((function(){a(JSON.parse(localStorage.getItem("backOrderLocal"))),function(){for(var e=JSON.parse(localStorage.getItem("cartItem")),t=e&&e.length,a=[],s=0;s<t;s++)a.push({productId:e[s].productId,quantity:e[s].quantity,price:e[s].price,basePrice:e[s].price,model:e[s].name,name:e[s].name,productOptions:[],taxType:null,taxValue:null});d(a)}(),function(){for(var e=JSON.parse(localStorage.getItem("cartItem")),t=e&&e.length,a=[],s=0;s<t;s++)a.push(e[s].price*e[s].quantity);var r=a.reduce((function(e,t){return e+t}),0);o(r)}()}),[]);return(0,s.jsx)("div",{className:"site-content",children:(0,s.jsx)("div",{className:"ps-page--simple",children:(0,s.jsx)(N,{cartItems:t,productDetail:i,amount:u,addressData:m,countryData:g})})})}}},function(e){e.O(0,[1476,9774,2888,179],(function(){return t=88610,e(e.s=t);var t}));var t=e.O();_N_E=t}]);